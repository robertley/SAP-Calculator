var hse=Object.defineProperty,dse=Object.defineProperties,fse=Object.getOwnPropertyDescriptors,gq=Object.getOwnPropertySymbols,pse=Object.prototype.hasOwnProperty,gse=Object.prototype.propertyIsEnumerable,mq=(Wt,xt,zt)=>xt in Wt?hse(Wt,xt,{enumerable:!0,configurable:!0,writable:!0,value:zt}):Wt[xt]=zt,dn=(Wt,xt)=>{for(var zt in xt||(xt={}))pse.call(xt,zt)&&mq(Wt,zt,xt[zt]);if(gq)for(var zt of gq(xt))gse.call(xt,zt)&&mq(Wt,zt,xt[zt]);return Wt},vS=(Wt,xt)=>dse(Wt,fse(xt));(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[179],{255:Wt=>{function xt(zt){return Promise.resolve().then(()=>{var Zn=new Error("Cannot find module '"+zt+"'");throw Zn.code="MODULE_NOT_FOUND",Zn})}xt.keys=()=>[],xt.resolve=xt,xt.id=255,Wt.exports=xt},815:function(Wt,xt,zt){var Zn;Wt=zt.nmd(Wt),function(){var M,$i="Expected a function",nl="__lodash_hash_undefined__",ea="__lodash_placeholder__",ra=1/0,Cr=9007199254740991,_s=4294967295,yS=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Za="[object Arguments]",al="[object Array]",Xa="[object Boolean]",ol="[object Date]",eo="[object Error]",Ic="[object Function]",Dg="[object GeneratorFunction]",Xn="[object Map]",ll="[object Number]",Ln="[object Object]",bS="[object Promise]",Lc="[object RegExp]",Yi="[object Set]",aa="[object String]",Bc="[object Symbol]",$c="[object WeakMap]",to="[object ArrayBuffer]",Ar="[object DataView]",Vc="[object Float32Array]",Yh="[object Float64Array]",Jh="[object Int8Array]",Zh="[object Int16Array]",Xh="[object Int32Array]",ed="[object Uint8Array]",xg="[object Uint8ClampedArray]",td="[object Uint16Array]",id="[object Uint32Array]",wS=/\b__p \+= '';/g,ES=/\b(__p \+=) '' \+/g,kS=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ot=/&(?:amp|lt|gt|quot|#39);/g,Fc=/[&<>"']/g,He=RegExp(ot.source),nd=RegExp(Fc.source),CS=/<%-([\s\S]+?)%>/g,wt=/<%([\s\S]+?)%>/g,ge=/<%=([\s\S]+?)%>/g,Mg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oO=/^\w*$/,Pr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rg=/[\\^$.*+?()[\]{}|]/g,sd=RegExp(Rg.source),Me=/^\s+/,Vi=/\s/,AS=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lO=/\{\n\/\* \[wrapped with (.+)\] \*/,cO=/,? & /,Hc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,gn=/[()=,{}\[\]\/\s]/,uO=/\\(\\)?/g,PS=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,DS=/\w*$/,Zs=/^[-+]0x[0-9a-f]+$/i,hO=/^0b[01]+$/i,dO=/^\[object .+?Constructor\]$/,fO=/^0o[0-7]+$/i,pO=/^(?:0|[1-9]\d*)$/,TS=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rd=/($^)/,xS=/['\n\r\u2028\u2029\\]/g,ad="\\ud800-\\udfff",MS="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",RS="\\u2700-\\u27bf",ue="a-z\\xdf-\\xf6\\xf8-\\xff",Og="A-Z\\xc0-\\xd6\\xd8-\\xde",Ng="\\ufe0e\\ufe0f",od="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ld="["+ad+"]",cd="["+od+"]",qc="["+MS+"]",Se="\\d+",ud="["+RS+"]",Lg="["+ue+"]",er="[^"+ad+od+Se+RS+ue+Og+"]",Uc="\\ud83c[\\udffb-\\udfff]",tr="[^"+ad+"]",Ji="(?:\\ud83c[\\udde6-\\uddff]){2}",Bg="[\\ud800-\\udbff][\\udc00-\\udfff]",cl="["+Og+"]",$g="(?:"+Lg+"|"+er+")",IS="(?:"+cl+"|"+er+")",Vg="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",OS="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ut="(?:"+qc+"|"+Uc+")?",NS="["+Ng+"]?",ul=NS+ut+"(?:\\u200d(?:"+[tr,Ji,Bg].join("|")+")"+NS+ut+")*",hd="(?:"+[ud,Ji,Bg].join("|")+")"+ul,dd="(?:"+[tr+qc+"?",qc,Ji,Bg,ld].join("|")+")",Fg=RegExp("['\u2019]","g"),LS=RegExp(qc,"g"),es=RegExp(Uc+"(?="+Uc+")|"+dd+ul,"g"),hl=RegExp([cl+"?"+Lg+"+"+Vg+"(?="+[cd,cl,"$"].join("|")+")",IS+"+"+OS+"(?="+[cd,cl+$g,"$"].join("|")+")",cl+"?"+$g+"+"+Vg,cl+"+"+OS,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Se,hd].join("|"),"g"),BS=RegExp("[\\u200d"+ad+MS+Ng+"]"),Bn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$S=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Hg=-1,Pt={};Pt[Vc]=Pt[Yh]=Pt[Jh]=Pt[Zh]=Pt[Xh]=Pt[ed]=Pt[xg]=Pt[td]=Pt[id]=!0,Pt[Za]=Pt[al]=Pt[to]=Pt[Xa]=Pt[Ar]=Pt[ol]=Pt[eo]=Pt[Ic]=Pt[Xn]=Pt[ll]=Pt[Ln]=Pt[Lc]=Pt[Yi]=Pt[aa]=Pt[$c]=!1;var kt={};kt[Za]=kt[al]=kt[to]=kt[Ar]=kt[Xa]=kt[ol]=kt[Vc]=kt[Yh]=kt[Jh]=kt[Zh]=kt[Xh]=kt[Xn]=kt[ll]=kt[Ln]=kt[Lc]=kt[Yi]=kt[aa]=kt[Bc]=kt[ed]=kt[xg]=kt[td]=kt[id]=!0,kt[eo]=kt[Ic]=kt[$c]=!1;var de={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zi=parseFloat,Ai=parseInt,ir="object"==typeof global&&global&&global.Object===Object&&global,oa="object"==typeof self&&self&&self.Object===Object&&self,_t=ir||oa||Function("return this")(),Ug=xt&&!xt.nodeType&&xt,Pi=Ug&&Wt&&!Wt.nodeType&&Wt,se=Pi&&Pi.exports===Ug,qe=se&&ir.process,tt=function(){try{return Pi&&Pi.require&&Pi.require("util").types||qe&&qe.binding&&qe.binding("util")}catch(q){}}(),Xi=tt&&tt.isArrayBuffer,Dr=tt&&tt.isDate,ri=tt&&tt.isMap,Tr=tt&&tt.isRegExp,Vt=tt&&tt.isSet,so=tt&&tt.isTypedArray;function di(L,q,V){switch(V.length){case 0:return L.call(q);case 1:return L.call(q,V[0]);case 2:return L.call(q,V[0],V[1]);case 3:return L.call(q,V[0],V[1],V[2])}return L.apply(q,V)}function Ve(L,q,V,le){for(var Re=-1,ht=null==L?0:L.length;++Re<ht;){var Yt=L[Re];q(le,Yt,V(Yt),L)}return le}function Fi(L,q){for(var V=-1,le=null==L?0:L.length;++V<le&&!1!==q(L[V],V,L););return L}function ro(L,q){for(var V=null==L?0:L.length;V--&&!1!==q(L[V],V,L););return L}function Gc(L,q){for(var V=-1,le=null==L?0:L.length;++V<le;)if(!q(L[V],V,L))return!1;return!0}function vn(L,q){for(var V=-1,le=null==L?0:L.length,Re=0,ht=[];++V<le;){var Yt=L[V];q(Yt,V,L)&&(ht[Re++]=Yt)}return ht}function fi(L,q){return!(null==L||!L.length)&&Qt(L,q,0)>-1}function la(L,q,V){for(var le=-1,Re=null==L?0:L.length;++le<Re;)if(V(q,L[le]))return!0;return!1}function mt(L,q){for(var V=-1,le=null==L?0:L.length,Re=Array(le);++V<le;)Re[V]=q(L[V],V,L);return Re}function pi(L,q){for(var V=-1,le=q.length,Re=L.length;++V<le;)L[Re+V]=q[V];return L}function bt(L,q,V,le){var Re=-1,ht=null==L?0:L.length;for(le&&ht&&(V=L[++Re]);++Re<ht;)V=q(V,L[Re],Re,L);return V}function FS(L,q,V,le){var Re=null==L?0:L.length;for(le&&Re&&(V=L[--Re]);Re--;)V=q(V,L[Re],Re,L);return V}function fd(L,q){for(var V=-1,le=null==L?0:L.length;++V<le;)if(q(L[V],V,L))return!0;return!1}var jc=pl("length");function fl(L,q,V){var le;return V(L,function(Re,ht,Yt){if(q(Re,ht,Yt))return le=ht,!1}),le}function bs(L,q,V,le){for(var Re=L.length,ht=V+(le?1:-1);le?ht--:++ht<Re;)if(q(L[ht],ht,L))return ht;return-1}function Qt(L,q,V){return q==q?function(L,q,V){for(var le=V-1,Re=L.length;++le<Re;)if(L[le]===q)return le;return-1}(L,q,V):bs(L,ts,V)}function HS(L,q,V,le){for(var Re=V-1,ht=L.length;++Re<ht;)if(le(L[Re],q))return Re;return-1}function ts(L){return L!=L}function $n(L,q){var V=null==L?0:L.length;return V?gd(L,q)/V:NaN}function pl(L){return function(q){return null==q?M:q[L]}}function ao(L){return function(q){return null==L?M:L[q]}}function gl(L,q,V,le,Re){return Re(L,function(ht,Yt,Tt){V=le?(le=!1,ht):q(V,ht,Yt,Tt)}),V}function gd(L,q){for(var V,le=-1,Re=L.length;++le<Re;){var ht=q(L[le]);ht!==M&&(V=V===M?ht:V+ht)}return V}function Gg(L,q){for(var V=-1,le=Array(L);++V<L;)le[V]=q(V);return le}function jg(L){return L&&L.slice(0,yd(L)+1).replace(Me,"")}function Vn(L){return function(q){return L(q)}}function Wg(L,q){return mt(q,function(V){return L[V]})}function Wc(L,q){return L.has(q)}function US(L,q){for(var V=-1,le=L.length;++V<le&&Qt(q,L[V],0)>-1;);return V}function GS(L,q){for(var V=L.length;V--&&Qt(q,L[V],0)>-1;);return V}function _O(L,q){for(var V=L.length,le=0;V--;)L[V]===q&&++le;return le}var bO=ao({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),SO=ao({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function wO(L){return"\\"+de[L]}function ml(L){return BS.test(L)}function zg(L){var q=-1,V=Array(L.size);return L.forEach(function(le,Re){V[++q]=[Re,le]}),V}function md(L,q){return function(V){return L(q(V))}}function Ss(L,q){for(var V=-1,le=L.length,Re=0,ht=[];++V<le;){var Yt=L[V];(Yt===q||Yt===ea)&&(L[V]=ea,ht[Re++]=V)}return ht}function vd(L){var q=-1,V=Array(L.size);return L.forEach(function(le){V[++q]=le}),V}function ua(L){return ml(L)?function(L){for(var q=es.lastIndex=0;es.test(L);)++q;return q}(L):jc(L)}function Dt(L){return ml(L)?function(L){return L.match(es)||[]}(L):function(L){return L.split("")}(L)}function yd(L){for(var q=L.length;q--&&Vi.test(L.charAt(q)););return q}var jS=ao({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),oo=function L(q){var c,V=(q=null==q?_t:oo.defaults(_t.Object(),q,oo.pick(_t,$S))).Array,le=q.Date,Re=q.Error,ht=q.Function,Yt=q.Math,Tt=q.Object,Rt=q.RegExp,DO=q.String,yn=q.TypeError,zc=V.prototype,lo=Tt.prototype,_d=q["__core-js_shared__"],ha=ht.prototype.toString,Fe=lo.hasOwnProperty,KS=0,Kc=(c=/[^.]+$/.exec(_d&&_d.keys&&_d.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",nr=lo.toString,_n=ha.call(Tt),Yg=_t._,bd=Rt("^"+ha.call(Fe).replace(Rg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qc=se?q.Buffer:M,Hi=q.Symbol,vl=q.Uint8Array,Yc=Qc?Qc.allocUnsafe:M,Ae=md(Tt.getPrototypeOf,Tt),QS=Tt.create,Jg=lo.propertyIsEnumerable,Jc=zc.splice,Zg=Hi?Hi.isConcatSpreadable:M,co=Hi?Hi.iterator:M,da=Hi?Hi.toStringTag:M,Zc=function(){try{var c=Ra(Tt,"defineProperty");return c({},"",{}),c}catch(u){}}(),K=q.clearTimeout!==_t.clearTimeout&&q.clearTimeout,rt=le&&le.now!==_t.Date.now&&le.now,It=q.setTimeout!==_t.setTimeout&&q.setTimeout,jt=Yt.ceil,yl=Yt.floor,fa=Tt.getOwnPropertySymbols,ws=Qc?Qc.isBuffer:M,Xc=q.isFinite,Sd=zc.join,TO=md(Tt.keys,Tt),ai=Yt.max,oi=Yt.min,eu=le.now,qi=q.parseInt,ns=Yt.random,Xg=zc.reverse,xr=Ra(q,"DataView"),bn=Ra(q,"Map"),wd=Ra(q,"Promise"),pa=Ra(q,"Set"),_l=Ra(q,"WeakMap"),bl=Ra(Tt,"create"),uo=_l&&new _l,Mr={},em=Lr(xr),Ed=Lr(bn),YS=Lr(wd),tm=Lr(pa),tu=Lr(_l),Sl=Hi?Hi.prototype:M,ho=Sl?Sl.valueOf:M,kd=Sl?Sl.toString:M;function C(c){if(Ut(c)&&!_e(c)&&!(c instanceof ke)){if(c instanceof Fn)return c;if(Fe.call(c,"__wrapped__"))return of(c)}return new Fn(c)}var sr=function(){function c(){}return function(u){if(!qt(u))return{};if(QS)return QS(u);c.prototype=u;var f=new c;return c.prototype=M,f}}();function iu(){}function Fn(c,u){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=M}function ke(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_s,this.__views__=[]}function ga(c){var u=-1,f=null==c?0:c.length;for(this.clear();++u<f;){var v=c[u];this.set(v[0],v[1])}}function Hn(c){var u=-1,f=null==c?0:c.length;for(this.clear();++u<f;){var v=c[u];this.set(v[0],v[1])}}function Sn(c){var u=-1,f=null==c?0:c.length;for(this.clear();++u<f;){var v=c[u];this.set(v[0],v[1])}}function ma(c){var u=-1,f=null==c?0:c.length;for(this.__data__=new Sn;++u<f;)this.add(c[u])}function en(c){var u=this.__data__=new Hn(c);this.size=u.size}function va(c,u){var f=_e(c),v=!f&&Ds(c),E=!f&&!v&&Ts(c),P=!f&&!v&&!E&&jl(c),x=f||v||E||P,R=x?Gg(c.length,DO):[],B=R.length;for(var j in c)(u||Fe.call(c,j))&&(!x||!("length"==j||E&&("offset"==j||"parent"==j)||P&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||as(j,B)))&&R.push(j);return R}function am(c){var u=c.length;return u?c[Ld(0,u-1)]:M}function fo(c,u){return ku(gi(c),rr(u,0,c.length))}function xd(c){return ku(gi(c))}function po(c,u,f){(f!==M&&!me(c[u],f)||f===M&&!(u in c))&&wn(c,u,f)}function au(c,u,f){var v=c[u];(!Fe.call(c,u)||!me(v,f)||f===M&&!(u in c))&&wn(c,u,f)}function El(c,u){for(var f=c.length;f--;)if(me(c[f][0],u))return f;return-1}function om(c,u,f,v){return ar(c,function(E,P,x){u(v,E,f(E),x)}),v}function lm(c,u){return c&&li(u,Si(u),c)}function wn(c,u,f){"__proto__"==u&&Zc?Zc(c,u,{configurable:!0,enumerable:!0,value:f,writable:!0}):c[u]=f}function kl(c,u){for(var f=-1,v=u.length,E=V(v),P=null==c;++f<v;)E[f]=P?M:Kl(c,u[f]);return E}function rr(c,u,f){return c==c&&(f!==M&&(c=c<=f?c:f),u!==M&&(c=c>=u?c:u)),c}function Ui(c,u,f,v,E,P){var x,R=1&u,B=2&u,j=4&u;if(f&&(x=E?f(c,v,E,P):f(c)),x!==M)return x;if(!qt(c))return c;var W=_e(c);if(W){if(x=function(c){var u=c.length,f=new c.constructor(u);return u&&"string"==typeof c[0]&&Fe.call(c,"index")&&(f.index=c.index,f.input=c.input),f}(c),!R)return gi(c,x)}else{var Q=bi(c),te=Q==Ic||Q==Dg;if(Ts(c))return Sm(c,R);if(Q==Ln||Q==Za||te&&!E){if(x=B||te?{}:Su(c),!R)return B?function(c,u){return li(c,Rm(c),u)}(c,function(c,u){return c&&li(u,Wi(u),c)}(x,c)):function(c,u){return li(c,Ol(c),u)}(c,lm(x,c))}else{if(!kt[Q])return E?c:{};x=function(c,u,f){var v=c.constructor;switch(u){case to:return H(c);case Xa:case ol:return new v(+c);case Ar:return function(c,u){var f=u?H(c.buffer):c.buffer;return new c.constructor(f,c.byteOffset,c.byteLength)}(c,f);case Vc:case Yh:case Jh:case Zh:case Xh:case ed:case xg:case td:case id:return So(c,f);case Xn:return new v;case ll:case aa:return new v(c);case Lc:return function(c){var u=new c.constructor(c.source,DS.exec(c));return u.lastIndex=c.lastIndex,u}(c);case Yi:return new v;case Bc:return function(c){return ho?Tt(ho.call(c)):{}}(c)}}(c,Q,R)}}P||(P=new en);var fe=P.get(c);if(fe)return fe;P.set(c,x),_E(c)?c.forEach(function(Pe){x.add(Ui(Pe,u,f,Pe,c,P))}):gE(c)&&c.forEach(function(Pe,We){x.set(We,Ui(Pe,u,f,We,c,P))});var je=W?M:(j?B?Kd:zd:B?Wi:Si)(c);return Fi(je||c,function(Pe,We){je&&(Pe=c[We=Pe]),au(x,We,Ui(Pe,u,f,We,c,P))}),x}function cm(c,u,f){var v=f.length;if(null==c)return!v;for(c=Tt(c);v--;){var E=f[v],x=c[E];if(x===M&&!(E in c)||!(0,u[E])(x))return!1}return!0}function Md(c,u,f){if("function"!=typeof c)throw new yn($i);return ko(function(){c.apply(M,f)},u)}function go(c,u,f,v){var E=-1,P=fi,x=!0,R=c.length,B=[],j=u.length;if(!R)return B;f&&(u=mt(u,Vn(f))),v?(P=la,x=!1):u.length>=200&&(P=Wc,x=!1,u=new ma(u));e:for(;++E<R;){var W=c[E],Q=null==f?W:f(W);if(W=v||0!==W?W:0,x&&Q==Q){for(var te=j;te--;)if(u[te]===Q)continue e;B.push(W)}else P(u,Q,v)||B.push(W)}return B}C.templateSettings={escape:CS,evaluate:wt,interpolate:ge,variable:"",imports:{_:C}},(C.prototype=iu.prototype).constructor=C,(Fn.prototype=sr(iu.prototype)).constructor=Fn,(ke.prototype=sr(iu.prototype)).constructor=ke,ga.prototype.clear=function(){this.__data__=bl?bl(null):{},this.size=0},ga.prototype.delete=function(c){var u=this.has(c)&&delete this.__data__[c];return this.size-=u?1:0,u},ga.prototype.get=function(c){var u=this.__data__;if(bl){var f=u[c];return f===nl?M:f}return Fe.call(u,c)?u[c]:M},ga.prototype.has=function(c){var u=this.__data__;return bl?u[c]!==M:Fe.call(u,c)},ga.prototype.set=function(c,u){var f=this.__data__;return this.size+=this.has(c)?0:1,f[c]=bl&&u===M?nl:u,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(c){var u=this.__data__,f=El(u,c);return!(f<0||(f==u.length-1?u.pop():Jc.call(u,f,1),--this.size,0))},Hn.prototype.get=function(c){var u=this.__data__,f=El(u,c);return f<0?M:u[f][1]},Hn.prototype.has=function(c){return El(this.__data__,c)>-1},Hn.prototype.set=function(c,u){var f=this.__data__,v=El(f,c);return v<0?(++this.size,f.push([c,u])):f[v][1]=u,this},Sn.prototype.clear=function(){this.size=0,this.__data__={hash:new ga,map:new(bn||Hn),string:new ga}},Sn.prototype.delete=function(c){var u=Il(this,c).delete(c);return this.size-=u?1:0,u},Sn.prototype.get=function(c){return Il(this,c).get(c)},Sn.prototype.has=function(c){return Il(this,c).has(c)},Sn.prototype.set=function(c,u){var f=Il(this,c),v=f.size;return f.set(c,u),this.size+=f.size==v?0:1,this},ma.prototype.add=ma.prototype.push=function(c){return this.__data__.set(c,nl),this},ma.prototype.has=function(c){return this.__data__.has(c)},en.prototype.clear=function(){this.__data__=new Hn,this.size=0},en.prototype.delete=function(c){var u=this.__data__,f=u.delete(c);return this.size=u.size,f},en.prototype.get=function(c){return this.__data__.get(c)},en.prototype.has=function(c){return this.__data__.has(c)},en.prototype.set=function(c,u){var f=this.__data__;if(f instanceof Hn){var v=f.__data__;if(!bn||v.length<199)return v.push([c,u]),this.size=++f.size,this;f=this.__data__=new Sn(v)}return f.set(c,u),this.size=f.size,this};var ar=mu(Gi),Rd=mu(tn,!0);function rw(c,u){var f=!0;return ar(c,function(v,E,P){return f=!!u(v,E,P)}),f}function lu(c,u,f){for(var v=-1,E=c.length;++v<E;){var P=c[v],x=u(P);if(null!=x&&(R===M?x==x&&!zn(x):f(x,R)))var R=x,B=P}return B}function mo(c,u){var f=[];return ar(c,function(v,E,P){u(v,E,P)&&f.push(v)}),f}function _i(c,u,f,v,E){var P=-1,x=c.length;for(f||(f=Eo),E||(E=[]);++P<x;){var R=c[P];u>0&&f(R)?u>1?_i(R,u-1,f,v,E):pi(E,R):v||(E[E.length]=R)}return E}var uu=Tl(),Id=Tl(!0);function Gi(c,u){return c&&uu(c,u,Si)}function tn(c,u){return c&&Id(c,u,Si)}function vo(c,u){return vn(u,function(f){return Wn(c[f])})}function or(c,u){for(var f=0,v=(u=Aa(u,c)).length;null!=c&&f<v;)c=c[os(u[f++])];return f&&f==v?c:M}function ya(c,u,f){var v=u(c);return _e(c)?v:pi(v,f(c))}function ti(c){return null==c?c===M?"[object Undefined]":"[object Null]":da&&da in Tt(c)?function(c){var u=Fe.call(c,da),f=c[da];try{c[da]=M;var v=!0}catch(P){}var E=nr.call(c);return v&&(u?c[da]=f:delete c[da]),E}(c):function(c){return nr.call(c)}(c)}function Or(c,u){return c>u}function Cl(c,u){return null!=c&&Fe.call(c,u)}function Od(c,u){return null!=c&&u in Tt(c)}function um(c,u,f){for(var v=f?la:fi,E=c[0].length,P=c.length,x=P,R=V(P),B=1/0,j=[];x--;){var W=c[x];x&&u&&(W=mt(W,Vn(u))),B=oi(W.length,B),R[x]=!f&&(u||E>=120&&W.length>=120)?new ma(x&&W):M}W=c[0];var Q=-1,te=R[0];e:for(;++Q<E&&j.length<B;){var fe=W[Q],Ce=u?u(fe):fe;if(fe=f||0!==fe?fe:0,!(te?Wc(te,Ce):v(j,Ce,f))){for(x=P;--x;){var je=R[x];if(!(je?Wc(je,Ce):v(c[x],Ce,f)))continue e}te&&te.push(Ce),j.push(fe)}}return j}function Al(c,u,f){var v=null==(c=Fm(c,u=Aa(u,c)))?c:c[os(Cn(u))];return null==v?M:di(v,c,f)}function aw(c){return Ut(c)&&ti(c)==Za}function hu(c,u,f,v,E){return c===u||(null==c||null==u||!Ut(c)&&!Ut(u)?c!=c&&u!=u:function(c,u,f,v,E,P){var x=_e(c),R=_e(u),B=x?al:bi(c),j=R?al:bi(u),W=(B=B==Za?Ln:B)==Ln,Q=(j=j==Za?Ln:j)==Ln,te=B==j;if(te&&Ts(c)){if(!Ts(u))return!1;x=!0,W=!1}if(te&&!W)return P||(P=new en),x||jl(c)?Wd(c,u,f,v,E,P):function(c,u,f,v,E,P,x){switch(f){case Ar:if(c.byteLength!=u.byteLength||c.byteOffset!=u.byteOffset)return!1;c=c.buffer,u=u.buffer;case to:return!(c.byteLength!=u.byteLength||!P(new vl(c),new vl(u)));case Xa:case ol:case ll:return me(+c,+u);case eo:return c.name==u.name&&c.message==u.message;case Lc:case aa:return c==u+"";case Xn:var R=zg;case Yi:if(R||(R=vd),c.size!=u.size&&!(1&v))return!1;var j=x.get(c);if(j)return j==u;v|=2,x.set(c,u);var W=Wd(R(c),R(u),v,E,P,x);return x.delete(c),W;case Bc:if(ho)return ho.call(c)==ho.call(u)}return!1}(c,u,B,f,v,E,P);if(!(1&f)){var fe=W&&Fe.call(c,"__wrapped__"),Ce=Q&&Fe.call(u,"__wrapped__");if(fe||Ce){var je=fe?c.value():c,Pe=Ce?u.value():u;return P||(P=new en),E(je,Pe,f,v,P)}}return!!te&&(P||(P=new en),function(c,u,f,v,E,P){var x=1&f,R=zd(c),B=R.length;if(B!=zd(u).length&&!x)return!1;for(var Q=B;Q--;){var te=R[Q];if(!(x?te in u:Fe.call(u,te)))return!1}var fe=P.get(c),Ce=P.get(u);if(fe&&Ce)return fe==u&&Ce==c;var je=!0;P.set(c,u),P.set(u,c);for(var Pe=x;++Q<B;){var We=c[te=R[Q]],it=u[te];if(v)var an=x?v(it,We,te,u,c,P):v(We,it,te,c,u,P);if(!(an===M?We===it||E(We,it,f,v,P):an)){je=!1;break}Pe||(Pe="constructor"==te)}if(je&&!Pe){var Mi=c.constructor,Kn=u.constructor;Mi!=Kn&&"constructor"in c&&"constructor"in u&&!("function"==typeof Mi&&Mi instanceof Mi&&"function"==typeof Kn&&Kn instanceof Kn)&&(je=!1)}return P.delete(c),P.delete(u),je}(c,u,f,v,E,P))}(c,u,f,v,hu,E))}function dm(c,u,f,v){var E=f.length,P=E,x=!v;if(null==c)return!P;for(c=Tt(c);E--;){var R=f[E];if(x&&R[2]?R[1]!==c[R[0]]:!(R[0]in c))return!1}for(;++E<P;){var B=(R=f[E])[0],j=c[B],W=R[1];if(x&&R[2]){if(j===M&&!(B in c))return!1}else{var Q=new en;if(v)var te=v(j,W,B,c,u,Q);if(!(te===M?hu(W,j,3,v,Q):te))return!1}}return!0}function lw(c){return!(!qt(c)||function(c){return!!Kc&&Kc in c}(c))&&(Wn(c)?bd:dO).test(Lr(c))}function cw(c){return"function"==typeof c?c:null==c?zi:"object"==typeof c?_e(c)?du(c[0],c[1]):ii(c):$a(c)}function fm(c){if(!Ll(c))return TO(c);var u=[];for(var f in Tt(c))Fe.call(c,f)&&"constructor"!=f&&u.push(f);return u}function ba(c,u){return c<u}function uw(c,u){var f=-1,v=sn(c)?V(c.length):[];return ar(c,function(E,P,x){v[++f]=u(E,P,x)}),v}function ii(c){var u=Qd(c);return 1==u.length&&u[0][2]?Lm(u[0][0],u[0][1]):function(f){return f===c||dm(f,c,u)}}function du(c,u){return Xd(c)&&Nm(u)?Lm(os(c),u):function(f){var v=Kl(f,c);return v===M&&v===u?Lu(f,c):hu(u,v,3)}}function Sa(c,u,f,v,E){c!==u&&uu(u,function(P,x){if(E||(E=new en),qt(P))!function(c,u,f,v,E,P,x){var R=wu(c,f),B=wu(u,f),j=x.get(B);if(j)po(c,f,j);else{var W=P?P(R,B,f+"",c,u,x):M,Q=W===M;if(Q){var te=_e(B),fe=!te&&Ts(B),Ce=!te&&!fe&&jl(B);W=B,te||fe||Ce?_e(R)?W=R:Ht(R)?W=gi(R):fe?(Q=!1,W=Sm(B,!0)):Ce?(Q=!1,W=So(B,!0)):W=[]:Nu(B)||Ds(B)?(W=R,Ds(R)?W=Av(R):(!qt(R)||Wn(R))&&(W=Su(B))):Q=!1}Q&&(x.set(B,W),E(W,B,v,P,x),x.delete(B)),po(c,f,W)}}(c,u,x,f,Sa,v,E);else{var R=v?v(wu(c,x),P,x+"",c,u,E):M;R===M&&(R=P),po(c,x,R)}},Wi)}function pm(c,u){var f=c.length;if(f)return as(u+=u<0?f:0,f)?c[u]:M}function En(c,u,f){u=u.length?mt(u,function(P){return _e(P)?function(x){return or(x,1===P.length?P[0]:P)}:P}):[zi];var v=-1;return u=mt(u,Vn(we())),function(L,q){var V=L.length;for(L.sort(function(P,x){return function(c,u,f){for(var v=-1,E=c.criteria,P=u.criteria,x=E.length,R=f.length;++v<x;){var B=Em(E[v],P[v]);if(B)return v>=R?B:B*("desc"==f[v]?-1:1)}return c.index-u.index}(P,x,f)});V--;)L[V]=L[V].value;return L}(uw(c,function(P,x,R){return{criteria:mt(u,function(j){return j(P)}),index:++v,value:P}}))}function Pl(c,u,f){for(var v=-1,E=u.length,P={};++v<E;){var x=u[v],R=or(c,x);f(R,x)&&Ea(P,Aa(x,c),R)}return P}function ks(c,u,f,v){var E=v?HS:Qt,P=-1,x=u.length,R=c;for(c===u&&(u=gi(u)),f&&(R=mt(c,Vn(f)));++P<x;)for(var B=0,j=u[P],W=f?f(j):j;(B=E(R,W,B,v))>-1;)R!==c&&Jc.call(R,B,1),Jc.call(c,B,1);return c}function Nd(c,u){for(var f=c?u.length:0,v=f-1;f--;){var E=u[f];if(f==v||E!==P){var P=E;as(E)?Jc.call(c,E,1):_m(c,E)}}return c}function Ld(c,u){return c+yl(ns()*(u-c+1))}function gm(c,u){var f="";if(!c||u<1||u>Cr)return f;do{u%2&&(f+=c),(u=yl(u/2))&&(c+=c)}while(u);return f}function Ye(c,u){return Eu(Vm(c,u,zi),c+"")}function mm(c){return am(xo(c))}function kn(c,u){var f=xo(c);return ku(f,rr(u,0,f.length))}function Ea(c,u,f,v){if(!qt(c))return c;for(var E=-1,P=(u=Aa(u,c)).length,x=P-1,R=c;null!=R&&++E<P;){var B=os(u[E]),j=f;if("__proto__"===B||"constructor"===B||"prototype"===B)return c;if(E!=x){var W=R[B];(j=v?v(W,B,R):M)===M&&(j=qt(W)?W:as(u[E+1])?[]:{})}au(R,B,j),R=R[B]}return c}var ka=uo?function(c,u){return uo.set(c,u),c}:zi,VO=Zc?function(c,u){return Zc(c,"toString",{configurable:!0,enumerable:!1,value:qf(u),writable:!0})}:zi;function vm(c){return ku(xo(c))}function qn(c,u,f){var v=-1,E=c.length;u<0&&(u=-u>E?0:E+u),(f=f>E?E:f)<0&&(f+=E),E=u>f?0:f-u>>>0,u>>>=0;for(var P=V(E);++v<E;)P[v]=c[v+u];return P}function dw(c,u){var f;return ar(c,function(v,E,P){return!(f=u(v,E,P))}),!!f}function fu(c,u,f){var v=0,E=null==c?v:c.length;if("number"==typeof u&&u==u&&E<=2147483647){for(;v<E;){var P=v+E>>>1,x=c[P];null!==x&&!zn(x)&&(f?x<=u:x<u)?v=P+1:E=P}return E}return Bd(c,u,zi,f)}function Bd(c,u,f,v){var E=0,P=null==c?0:c.length;if(0===P)return 0;for(var x=(u=f(u))!=u,R=null===u,B=zn(u),j=u===M;E<P;){var W=yl((E+P)/2),Q=f(c[W]),te=Q!==M,fe=null===Q,Ce=Q==Q,je=zn(Q);if(x)var Pe=v||Ce;else Pe=j?Ce&&(v||te):R?Ce&&te&&(v||!fe):B?Ce&&te&&!fe&&(v||!je):!fe&&!je&&(v?Q<=u:Q<u);Pe?E=W+1:P=W}return oi(P,4294967294)}function ym(c,u){for(var f=-1,v=c.length,E=0,P=[];++f<v;){var x=c[f],R=u?u(x):x;if(!f||!me(R,B)){var B=R;P[E++]=0===x?0:x}}return P}function yo(c){return"number"==typeof c?c:zn(c)?NaN:+c}function ji(c){if("string"==typeof c)return c;if(_e(c))return mt(c,ji)+"";if(zn(c))return kd?kd.call(c):"";var u=c+"";return"0"==u&&1/c==-ra?"-0":u}function ss(c,u,f){var v=-1,E=fi,P=c.length,x=!0,R=[],B=R;if(f)x=!1,E=la;else if(P>=200){var j=u?null:vw(c);if(j)return vd(j);x=!1,E=Wc,B=new ma}else B=u?[]:R;e:for(;++v<P;){var W=c[v],Q=u?u(W):W;if(W=f||0!==W?W:0,x&&Q==Q){for(var te=B.length;te--;)if(B[te]===Q)continue e;u&&B.push(Q),R.push(W)}else E(B,Q,f)||(B!==R&&B.push(Q),R.push(W))}return R}function _m(c,u){return null==(c=Fm(c,u=Aa(u,c)))||delete c[os(Cn(u))]}function _o(c,u,f,v){return Ea(c,u,f(or(c,u)),v)}function bo(c,u,f,v){for(var E=c.length,P=v?E:-1;(v?P--:++P<E)&&u(c[P],P,c););return f?qn(c,v?0:P,v?P+1:E):qn(c,v?P+1:0,v?E:P)}function Ca(c,u){var f=c;return f instanceof ke&&(f=f.value()),bt(u,function(v,E){return E.func.apply(E.thisArg,pi([v],E.args))},f)}function $d(c,u,f){var v=c.length;if(v<2)return v?ss(c[0]):[];for(var E=-1,P=V(v);++E<v;)for(var x=c[E],R=-1;++R<v;)R!=E&&(P[E]=go(P[E]||x,c[R],u,f));return ss(_i(P,1),u,f)}function bm(c,u,f){for(var v=-1,E=c.length,P=u.length,x={};++v<E;)f(x,c[v],v<P?u[v]:M);return x}function Vd(c){return Ht(c)?c:[]}function Dl(c){return"function"==typeof c?c:zi}function Aa(c,u){return _e(c)?c:Xd(c,u)?[c]:rf(dt(c))}var Fd=Ye;function Un(c,u,f){var v=c.length;return f=f===M?v:f,!u&&f>=v?c:qn(c,u,f)}var Pa=K||function(c){return _t.clearTimeout(c)};function Sm(c,u){if(u)return c.slice();var f=c.length,v=Yc?Yc(f):new c.constructor(f);return c.copy(v),v}function H(c){var u=new c.constructor(c.byteLength);return new vl(u).set(new vl(c)),u}function So(c,u){var f=u?H(c.buffer):c.buffer;return new c.constructor(f,c.byteOffset,c.length)}function Em(c,u){if(c!==u){var f=c!==M,v=null===c,E=c==c,P=zn(c),x=u!==M,R=null===u,B=u==u,j=zn(u);if(!R&&!j&&!P&&c>u||P&&x&&B&&!R&&!j||v&&x&&B||!f&&B||!E)return 1;if(!v&&!P&&!j&&c<u||j&&f&&E&&!v&&!P||R&&f&&E||!x&&E||!B)return-1}return 0}function Hd(c,u,f,v){for(var E=-1,P=c.length,x=f.length,R=-1,B=u.length,j=ai(P-x,0),W=V(B+j),Q=!v;++R<B;)W[R]=u[R];for(;++E<x;)(Q||E<P)&&(W[f[E]]=c[E]);for(;j--;)W[R++]=c[E++];return W}function pw(c,u,f,v){for(var E=-1,P=c.length,x=-1,R=f.length,B=-1,j=u.length,W=ai(P-R,0),Q=V(W+j),te=!v;++E<W;)Q[E]=c[E];for(var fe=E;++B<j;)Q[fe+B]=u[B];for(;++x<R;)(te||E<P)&&(Q[fe+f[x]]=c[E++]);return Q}function gi(c,u){var f=-1,v=c.length;for(u||(u=V(v));++f<v;)u[f]=c[f];return u}function li(c,u,f,v){var E=!f;f||(f={});for(var P=-1,x=u.length;++P<x;){var R=u[P],B=v?v(f[R],c[R],R,f,c):M;B===M&&(B=c[R]),E?wn(f,R,B):au(f,R,B)}return f}function gu(c,u){return function(f,v){var E=_e(f)?Ve:om,P=u?u():{};return E(f,c,we(v,2),P)}}function xa(c){return Ye(function(u,f){var v=-1,E=f.length,P=E>1?f[E-1]:M,x=E>2?f[2]:M;for(P=c.length>3&&"function"==typeof P?(E--,P):M,x&&xi(f[0],f[1],x)&&(P=E<3?M:P,E=1),u=Tt(u);++v<E;){var R=f[v];R&&c(u,R,v,P)}return u})}function mu(c,u){return function(f,v){if(null==f)return f;if(!sn(f))return c(f,v);for(var E=f.length,P=u?E:-1,x=Tt(f);(u?P--:++P<E)&&!1!==v(x[P],P,x););return f}}function Tl(c){return function(u,f,v){for(var E=-1,P=Tt(u),x=v(u),R=x.length;R--;){var B=x[c?R:++E];if(!1===f(P[B],B,P))break}return u}}function Am(c){return function(u){var f=ml(u=dt(u))?Dt(u):M,v=f?f[0]:u.charAt(0),E=f?Un(f,1).join(""):u.slice(1);return v[c]()+E}}function wo(c){return function(u){return bt(Ff(If(u).replace(Fg,"")),c,"")}}function Cs(c){return function(){var u=arguments;switch(u.length){case 0:return new c;case 1:return new c(u[0]);case 2:return new c(u[0],u[1]);case 3:return new c(u[0],u[1],u[2]);case 4:return new c(u[0],u[1],u[2],u[3]);case 5:return new c(u[0],u[1],u[2],u[3],u[4]);case 6:return new c(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new c(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var f=sr(c.prototype),v=c.apply(f,u);return qt(v)?v:f}}function Pm(c){return function(u,f,v){var E=Tt(u);if(!sn(u)){var P=we(f,3);u=Si(u),f=function(R){return P(E[R],R,E)}}var x=c(u,f,v);return x>-1?E[P?u[x]:x]:M}}function gw(c){return rs(function(u){var f=u.length,v=f,E=Fn.prototype.thru;for(c&&u.reverse();v--;){var P=u[v];if("function"!=typeof P)throw new yn($i);if(E&&!x&&"wrapper"==bu(P))var x=new Fn([],!0)}for(v=x?v:f;++v<f;){var R=bu(P=u[v]),B="wrapper"==R?_u(P):M;x=B&&tf(B[0])&&424==B[1]&&!B[4].length&&1==B[9]?x[bu(B[0])].apply(x,B[3]):1==P.length&&tf(P)?x[R]():x.thru(P)}return function(){var j=arguments,W=j[0];if(x&&1==j.length&&_e(W))return x.plant(W).value();for(var Q=0,te=f?u[Q].apply(this,j):W;++Q<f;)te=u[Q].call(this,te);return te}})}function Ml(c,u,f,v,E,P,x,R,B,j){var W=128&u,Q=1&u,te=2&u,fe=24&u,Ce=512&u,je=te?M:Cs(c);return function Pe(){for(var We=arguments.length,it=V(We),an=We;an--;)it[an]=arguments[an];if(fe)var Mi=Ma(Pe),Kn=_O(it,Mi);if(v&&(it=Hd(it,v,E,fe)),P&&(it=pw(it,P,x,fe)),We-=Kn,fe&&We<j){var ft=Ss(it,Mi);return nn(c,u,Ml,Pe.placeholder,f,it,ft,R,B,j-We)}var Rs=Q?f:this,Fr=te?Rs[c]:c;return We=it.length,R?it=Hm(it,R):Ce&&We>1&&it.reverse(),W&&B<We&&(it.length=B),this&&this!==_t&&this instanceof Pe&&(Fr=je||Cs(Fr)),Fr.apply(Rs,it)}}function Dm(c,u){return function(f,v){return function(c,u,f,v){return Gi(c,function(E,P,x){u(v,f(E),P,x)}),v}(f,c,u(v),{})}}function qd(c,u){return function(f,v){var E;if(f===M&&v===M)return u;if(f!==M&&(E=f),v!==M){if(E===M)return v;"string"==typeof f||"string"==typeof v?(f=ji(f),v=ji(v)):(f=yo(f),v=yo(v)),E=c(f,v)}return E}}function Ud(c){return rs(function(u){return u=mt(u,Vn(we())),Ye(function(f){var v=this;return c(u,function(E){return di(E,v,f)})})})}function vu(c,u){var f=(u=u===M?" ":ji(u)).length;if(f<2)return f?gm(u,c):u;var v=gm(u,jt(c/ua(u)));return ml(u)?Un(Dt(v),0,c).join(""):v.slice(0,c)}function Tm(c){return function(u,f,v){return v&&"number"!=typeof v&&xi(u,f,v)&&(f=v=M),u=xs(u),f===M?(f=u,u=0):f=xs(f),function(c,u,f,v){for(var E=-1,P=ai(jt((u-c)/(f||1)),0),x=V(P);P--;)x[v?P:++E]=c,c+=f;return x}(u,f,v=v===M?u<f?1:-1:xs(v),c)}}function Gd(c){return function(u,f){return"string"==typeof u&&"string"==typeof f||(u=rn(u),f=rn(f)),c(u,f)}}function nn(c,u,f,v,E,P,x,R,B,j){var W=8&u;u|=W?32:64,4&(u&=~(W?64:32))||(u&=-4);var je=[c,u,E,W?P:M,W?x:M,W?M:P,W?M:x,R,B,j],Pe=f.apply(M,je);return tf(c)&&Nr(Pe,je),Pe.placeholder=v,qm(Pe,c,u)}function jd(c){var u=Yt[c];return function(f,v){if(f=rn(f),(v=null==v?0:oi(Le(v),292))&&Xc(f)){var E=(dt(f)+"e").split("e");return+((E=(dt(u(E[0]+"e"+(+E[1]+v)))+"e").split("e"))[0]+"e"+(+E[1]-v))}return u(f)}}var vw=pa&&1/vd(new pa([,-0]))[1]==ra?function(c){return new pa(c)}:jf;function xm(c){return function(u){var f=bi(u);return f==Xn?zg(u):f==Yi?function(L){var q=-1,V=Array(L.size);return L.forEach(function(le){V[++q]=[le,le]}),V}(u):function(L,q){return mt(q,function(V){return[V,L[V]]})}(u,c(u))}}function Gn(c,u,f,v,E,P,x,R){var B=2&u;if(!B&&"function"!=typeof c)throw new yn($i);var j=v?v.length:0;if(j||(u&=-97,v=E=M),x=x===M?x:ai(Le(x),0),R=R===M?R:Le(R),j-=E?E.length:0,64&u){var W=v,Q=E;v=E=M}var te=B?M:_u(c),fe=[c,u,f,v,E,W,Q,P,x,R];if(te&&function(c,u){var f=c[1],v=u[1],E=f|v;if(!(E<131||(128==v&&8==f||128==v&&256==f&&c[7].length<=u[8]||384==v&&u[7].length<=u[8]&&8==f)))return c;1&v&&(c[2]=u[2],E|=1&f?0:4);var R=u[3];if(R){var B=c[3];c[3]=B?Hd(B,R,u[4]):R,c[4]=B?Ss(c[3],ea):u[4]}(R=u[5])&&(c[5]=(B=c[5])?pw(B,R,u[6]):R,c[6]=B?Ss(c[5],ea):u[6]),(R=u[7])&&(c[7]=R),128&v&&(c[8]=null==c[8]?u[8]:oi(c[8],u[8])),null==c[9]&&(c[9]=u[9]),c[0]=u[0],c[1]=E}(fe,te),c=fe[0],u=fe[1],f=fe[2],v=fe[3],E=fe[4],!(R=fe[9]=fe[9]===M?B?0:c.length:ai(fe[9]-j,0))&&24&u&&(u&=-25),u&&1!=u)Ce=8==u||16==u?function(c,u,f){var v=Cs(c);return function E(){for(var P=arguments.length,x=V(P),R=P,B=Ma(E);R--;)x[R]=arguments[R];var j=P<3&&x[0]!==B&&x[P-1]!==B?[]:Ss(x,B);return(P-=j.length)<f?nn(c,u,Ml,E.placeholder,M,x,j,M,M,f-P):di(this&&this!==_t&&this instanceof E?v:c,this,x)}}(c,u,R):32!=u&&33!=u||E.length?Ml.apply(M,fe):function(c,u,f,v){var E=1&u,P=Cs(c);return function x(){for(var R=-1,B=arguments.length,j=-1,W=v.length,Q=V(W+B),te=this&&this!==_t&&this instanceof x?P:c;++j<W;)Q[j]=v[j];for(;B--;)Q[j++]=arguments[++R];return di(te,E?f:this,Q)}}(c,u,f,v);else var Ce=function(c,u,f){var v=1&u,E=Cs(c);return function P(){return(this&&this!==_t&&this instanceof P?E:c).apply(v?f:this,arguments)}}(c,u,f);return qm((te?ka:Nr)(Ce,fe),c,u)}function Di(c,u,f,v){return c===M||me(c,lo[f])&&!Fe.call(v,f)?u:c}function yu(c,u,f,v,E,P){return qt(c)&&qt(u)&&(P.set(u,c),Sa(c,u,M,yu,P),P.delete(u)),c}function Mm(c){return Nu(c)?M:c}function Wd(c,u,f,v,E,P){var x=1&f,R=c.length,B=u.length;if(R!=B&&!(x&&B>R))return!1;var j=P.get(c),W=P.get(u);if(j&&W)return j==u&&W==c;var Q=-1,te=!0,fe=2&f?new ma:M;for(P.set(c,u),P.set(u,c);++Q<R;){var Ce=c[Q],je=u[Q];if(v)var Pe=x?v(je,Ce,Q,u,c,P):v(Ce,je,Q,c,u,P);if(Pe!==M){if(Pe)continue;te=!1;break}if(fe){if(!fd(u,function(We,it){if(!Wc(fe,it)&&(Ce===We||E(Ce,We,f,v,P)))return fe.push(it)})){te=!1;break}}else if(Ce!==je&&!E(Ce,je,f,v,P)){te=!1;break}}return P.delete(c),P.delete(u),te}function rs(c){return Eu(Vm(c,M,Vl),c+"")}function zd(c){return ya(c,Si,Ol)}function Kd(c){return ya(c,Wi,Rm)}var _u=uo?function(c){return uo.get(c)}:jf;function bu(c){for(var u=c.name+"",f=Mr[u],v=Fe.call(Mr,u)?f.length:0;v--;){var E=f[v],P=E.func;if(null==P||P==c)return E.name}return u}function Ma(c){return(Fe.call(C,"placeholder")?C:c).placeholder}function we(){var c=C.iteratee||Ba;return c=c===Ba?cw:c,arguments.length?c(arguments[0],arguments[1]):c}function Il(c,u){var f=c.__data__;return function(c){var u=typeof c;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==c:null===c}(u)?f["string"==typeof u?"string":"hash"]:f.map}function Qd(c){for(var u=Si(c),f=u.length;f--;){var v=u[f],E=c[v];u[f]=[v,E,Nm(E)]}return u}function Ra(c,u){var f=function(L,q){return null==L?M:L[q]}(c,u);return lw(f)?f:M}var Ol=fa?function(c){return null==c?[]:(c=Tt(c),vn(fa(c),function(u){return Jg.call(c,u)}))}:Vr,Rm=fa?function(c){for(var u=[];c;)pi(u,Ol(c)),c=Ae(c);return u}:Vr,bi=ti;function Jd(c,u,f){for(var v=-1,E=(u=Aa(u,c)).length,P=!1;++v<E;){var x=os(u[v]);if(!(P=null!=c&&f(c,x)))break;c=c[x]}return P||++v!=E?P:!!(E=null==c?0:c.length)&&kf(E)&&as(x,E)&&(_e(c)||Ds(c))}function Su(c){return"function"!=typeof c.constructor||Ll(c)?{}:sr(Ae(c))}function Eo(c){return _e(c)||Ds(c)||!!(Zg&&c&&c[Zg])}function as(c,u){var f=typeof c;return!!(u=null==u?Cr:u)&&("number"==f||"symbol"!=f&&pO.test(c))&&c>-1&&c%1==0&&c<u}function xi(c,u,f){if(!qt(f))return!1;var v=typeof u;return!!("number"==v?sn(f)&&as(u,f.length):"string"==v&&u in f)&&me(f[u],c)}function Xd(c,u){if(_e(c))return!1;var f=typeof c;return!("number"!=f&&"symbol"!=f&&"boolean"!=f&&null!=c&&!zn(c))||oO.test(c)||!Mg.test(c)||null!=u&&c in Tt(u)}function tf(c){var u=bu(c),f=C[u];if("function"!=typeof f||!(u in ke.prototype))return!1;if(c===f)return!0;var v=_u(f);return!!v&&c===v[0]}(xr&&bi(new xr(new ArrayBuffer(1)))!=Ar||bn&&bi(new bn)!=Xn||wd&&bi(wd.resolve())!=bS||pa&&bi(new pa)!=Yi||_l&&bi(new _l)!=$c)&&(bi=function(c){var u=ti(c),f=u==Ln?c.constructor:M,v=f?Lr(f):"";if(v)switch(v){case em:return Ar;case Ed:return Xn;case YS:return bS;case tm:return Yi;case tu:return $c}return u});var _w=_d?Wn:zf;function Ll(c){var u=c&&c.constructor;return c===("function"==typeof u&&u.prototype||lo)}function Nm(c){return c==c&&!qt(c)}function Lm(c,u){return function(f){return null!=f&&f[c]===u&&(u!==M||c in Tt(f))}}function Vm(c,u,f){return u=ai(u===M?c.length-1:u,0),function(){for(var v=arguments,E=-1,P=ai(v.length-u,0),x=V(P);++E<P;)x[E]=v[u+E];E=-1;for(var R=V(u+1);++E<u;)R[E]=v[E];return R[u]=f(x),di(c,this,R)}}function Fm(c,u){return u.length<2?c:or(c,qn(u,0,-1))}function Hm(c,u){for(var f=c.length,v=oi(u.length,f),E=gi(c);v--;){var P=u[v];c[v]=as(P,f)?E[P]:M}return c}function wu(c,u){if(("constructor"!==u||"function"!=typeof c[u])&&"__proto__"!=u)return c[u]}var Nr=Bl(ka),ko=It||function(c,u){return _t.setTimeout(c,u)},Eu=Bl(VO);function qm(c,u,f){var v=u+"";return Eu(c,function(c,u){var f=u.length;if(!f)return c;var v=f-1;return u[v]=(f>1?"& ":"")+u[v],u=u.join(f>2?", ":" "),c.replace(AS,"{\n/* [wrapped with "+u+"] */\n")}(v,function(c,u){return Fi(yS,function(f){var v="_."+f[0];u&f[1]&&!fi(c,v)&&c.push(v)}),c.sort()}(function(c){var u=c.match(lO);return u?u[1].split(cO):[]}(v),f)))}function Bl(c){var u=0,f=0;return function(){var v=eu(),E=16-(v-f);if(f=v,E>0){if(++u>=800)return arguments[0]}else u=0;return c.apply(M,arguments)}}function ku(c,u){var f=-1,v=c.length,E=v-1;for(u=u===M?v:u;++f<u;){var P=Ld(f,E),x=c[P];c[P]=c[f],c[f]=x}return c.length=u,c}var u,f,rf=(u=Gl(function(c){var u=[];return 46===c.charCodeAt(0)&&u.push(""),c.replace(Pr,function(f,v,E,P){u.push(E?P.replace(uO,"$1"):v||f)}),u},function(v){return 500===f.size&&f.clear(),v}),f=u.cache,u);function os(c){if("string"==typeof c||zn(c))return c;var u=c+"";return"0"==u&&1/c==-ra?"-0":u}function Lr(c){if(null!=c){try{return ha.call(c)}catch(u){}try{return c+""}catch(u){}}return""}function of(c){if(c instanceof ke)return c.clone();var u=new Fn(c.__wrapped__,c.__chain__);return u.__actions__=gi(c.__actions__),u.__index__=c.__index__,u.__values__=c.__values__,u}var lf=Ye(function(c,u){return Ht(c)?go(c,_i(u,1,Ht,!0)):[]}),cf=Ye(function(c,u){var f=Cn(u);return Ht(f)&&(f=M),Ht(c)?go(c,_i(u,1,Ht,!0),we(f,2)):[]}),uf=Ye(function(c,u){var f=Cn(u);return Ht(f)&&(f=M),Ht(c)?go(c,_i(u,1,Ht,!0),M,f):[]});function hf(c,u,f){var v=null==c?0:c.length;if(!v)return-1;var E=null==f?0:Le(f);return E<0&&(E=ai(v+E,0)),bs(c,we(u,3),E)}function Pu(c,u,f){var v=null==c?0:c.length;if(!v)return-1;var E=v-1;return f!==M&&(E=Le(f),E=f<0?ai(v+E,0):oi(E,v-1)),bs(c,we(u,3),E,!0)}function Vl(c){return null!=c&&c.length?_i(c,1):[]}function jm(c){return c&&c.length?c[0]:M}var Du=Ye(function(c){var u=mt(c,Vd);return u.length&&u[0]===c[0]?um(u):[]}),ff=Ye(function(c){var u=Cn(c),f=mt(c,Vd);return u===Cn(f)?u=M:f.pop(),f.length&&f[0]===c[0]?um(f,we(u,2)):[]}),Wm=Ye(function(c){var u=Cn(c),f=mt(c,Vd);return(u="function"==typeof u?u:M)&&f.pop(),f.length&&f[0]===c[0]?um(f,M,u):[]});function Cn(c){var u=null==c?0:c.length;return u?c[u-1]:M}var Aw=Ye(Km);function Km(c,u){return c&&c.length&&u&&u.length?ks(c,u):c}var An=rs(function(c,u){var f=null==c?0:c.length,v=kl(c,u);return Nd(c,mt(u,function(E){return as(E,f)?+E:E}).sort(Em)),v});function Tu(c){return null==c?c:Xg.call(c)}var Ps=Ye(function(c){return ss(_i(c,1,Ht,!0))}),Hl=Ye(function(c){var u=Cn(c);return Ht(u)&&(u=M),ss(_i(c,1,Ht,!0),we(u,2))}),Jm=Ye(function(c){var u=Cn(c);return u="function"==typeof u?u:M,ss(_i(c,1,Ht,!0),M,u)});function ev(c){if(!c||!c.length)return[];var u=0;return c=vn(c,function(f){if(Ht(f))return u=ai(f.length,u),!0}),Gg(u,function(f){return mt(c,pl(f))})}function Vw(c,u){if(!c||!c.length)return[];var f=ev(c);return null==u?f:mt(f,function(v){return di(u,M,v)})}var pf=Ye(function(c,u){return Ht(c)?go(c,u):[]}),gf=Ye(function(c){return $d(vn(c,Ht))}),mf=Ye(function(c){var u=Cn(c);return Ht(u)&&(u=M),$d(vn(c,Ht),we(u,2))}),GO=Ye(function(c){var u=Cn(c);return u="function"==typeof u?u:M,$d(vn(c,Ht),M,u)}),jO=Ye(ev),Hw=Ye(function(c){var u=c.length,f=u>1?c[u-1]:M;return f="function"==typeof f?(c.pop(),f):M,Vw(c,f)});function iv(c){var u=C(c);return u.__chain__=!0,u}function ql(c,u){return u(c)}var xu=rs(function(c){var u=c.length,f=u?c[0]:0,v=this.__wrapped__,E=function(P){return kl(P,c)};return!(u>1||this.__actions__.length)&&v instanceof ke&&as(f)?((v=v.slice(f,+f+(u?1:0))).__actions__.push({func:ql,args:[E],thisArg:M}),new Fn(v,this.__chain__).thru(function(P){return u&&!P.length&&P.push(M),P})):this.thru(E)}),rv=gu(function(c,u,f){Fe.call(c,f)?++c[f]:wn(c,f,1)}),Kw=Pm(hf),Qw=Pm(Pu);function Co(c,u){return(_e(c)?Fi:ar)(c,we(u,3))}function av(c,u){return(_e(c)?ro:Rd)(c,we(u,3))}var ov=gu(function(c,u,f){Fe.call(c,f)?c[f].push(u):wn(c,f,[u])}),lv=Ye(function(c,u,f){var v=-1,E="function"==typeof u,P=sn(c)?V(c.length):[];return ar(c,function(x){P[++v]=E?di(u,x,f):Al(x,u,f)}),P}),Jw=gu(function(c,u,f){wn(c,f,u)});function _f(c,u){return(_e(c)?mt:uw)(c,we(u,3))}var Mu=gu(function(c,u,f){c[f?0:1].push(u)},function(){return[[],[]]}),nE=Ye(function(c,u){if(null==c)return[];var f=u.length;return f>1&&xi(c,u[0],u[1])?u=[]:f>2&&xi(u[0],u[1],u[2])&&(u=[u[0]]),En(c,_i(u,1),[])}),Ul=rt||function(){return _t.Date.now()};function bf(c,u,f){return u=f?M:u,Gn(c,128,M,M,M,M,u=c&&null==u?c.length:u)}function hv(c,u){var f;if("function"!=typeof u)throw new yn($i);return c=Le(c),function(){return--c>0&&(f=u.apply(this,arguments)),c<=1&&(u=M),f}}var Sf=Ye(function(c,u,f){var v=1;if(f.length){var E=Ss(f,Ma(Sf));v|=32}return Gn(c,v,u,f,E)}),dv=Ye(function(c,u,f){var v=3;if(f.length){var E=Ss(f,Ma(dv));v|=32}return Gn(u,v,c,f,E)});function sE(c,u,f){var v,E,P,x,R,B,j=0,W=!1,Q=!1,te=!0;if("function"!=typeof c)throw new yn($i);function fe(ft){var Rs=v,Fr=E;return v=E=M,j=ft,x=c.apply(Fr,Rs)}function Ce(ft){return j=ft,R=ko(We,u),W?fe(ft):x}function Pe(ft){var Rs=ft-B;return B===M||Rs>=u||Rs<0||Q&&ft-j>=P}function We(){var ft=Ul();if(Pe(ft))return it(ft);R=ko(We,function(ft){var lk=u-(ft-B);return Q?oi(lk,P-(ft-j)):lk}(ft))}function it(ft){return R=M,te&&v?fe(ft):(v=E=M,x)}function Kn(){var ft=Ul(),Rs=Pe(ft);if(v=arguments,E=this,B=ft,Rs){if(R===M)return Ce(B);if(Q)return Pa(R),R=ko(We,u),fe(B)}return R===M&&(R=ko(We,u)),x}return u=rn(u)||0,qt(f)&&(W=!!f.leading,P=(Q="maxWait"in f)?ai(rn(f.maxWait)||0,u):P,te="trailing"in f?!!f.trailing:te),Kn.cancel=function(){R!==M&&Pa(R),j=0,v=B=E=R=M},Kn.flush=function(){return R===M?x:it(Ul())},Kn}var QO=Ye(function(c,u){return Md(c,1,u)}),fv=Ye(function(c,u,f){return Md(c,rn(u)||0,f)});function Gl(c,u){if("function"!=typeof c||null!=u&&"function"!=typeof u)throw new yn($i);var f=function(){var v=arguments,E=u?u.apply(this,v):v[0],P=f.cache;if(P.has(E))return P.get(E);var x=c.apply(this,v);return f.cache=P.set(E,x)||P,x};return f.cache=new(Gl.Cache||Sn),f}function wf(c){if("function"!=typeof c)throw new yn($i);return function(){var u=arguments;switch(u.length){case 0:return!c.call(this);case 1:return!c.call(this,u[0]);case 2:return!c.call(this,u[0],u[1]);case 3:return!c.call(this,u[0],u[1],u[2])}return!c.apply(this,u)}}Gl.Cache=Sn;var rE=Fd(function(c,u){var f=(u=1==u.length&&_e(u[0])?mt(u[0],Vn(we())):mt(_i(u,1),Vn(we()))).length;return Ye(function(v){for(var E=-1,P=oi(v.length,f);++E<P;)v[E]=u[E].call(this,v[E]);return di(c,this,v)})}),Ru=Ye(function(c,u){var f=Ss(u,Ma(Ru));return Gn(c,32,M,u,f)}),gv=Ye(function(c,u){var f=Ss(u,Ma(gv));return Gn(c,64,M,u,f)}),aE=rs(function(c,u){return Gn(c,256,M,M,M,u)});function me(c,u){return c===u||c!=c&&u!=u}var F=Gd(Or),yv=Gd(function(c,u){return c>=u}),Ds=aw(function(){return arguments}())?aw:function(c){return Ut(c)&&Fe.call(c,"callee")&&!Jg.call(c,"callee")},_e=V.isArray,_v=Xi?Vn(Xi):function(c){return Ut(c)&&ti(c)==to};function sn(c){return null!=c&&kf(c.length)&&!Wn(c)}function Ht(c){return Ut(c)&&sn(c)}var Ts=ws||zf,bv=Dr?Vn(Dr):function(c){return Ut(c)&&ti(c)==ol};function us(c){if(!Ut(c))return!1;var u=ti(c);return u==eo||"[object DOMException]"==u||"string"==typeof c.message&&"string"==typeof c.name&&!Nu(c)}function Wn(c){if(!qt(c))return!1;var u=ti(c);return u==Ic||u==Dg||"[object AsyncFunction]"==u||"[object Proxy]"==u}function Ou(c){return"number"==typeof c&&c==Le(c)}function kf(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=Cr}function qt(c){var u=typeof c;return null!=c&&("object"==u||"function"==u)}function Ut(c){return null!=c&&"object"==typeof c}var gE=ri?Vn(ri):function(c){return Ut(c)&&bi(c)==Xn};function yE(c){return"number"==typeof c||Ut(c)&&ti(c)==ll}function Nu(c){if(!Ut(c)||ti(c)!=Ln)return!1;var u=Ae(c);if(null===u)return!0;var f=Fe.call(u,"constructor")&&u.constructor;return"function"==typeof f&&f instanceof f&&ha.call(f)==_n}var kv=Tr?Vn(Tr):function(c){return Ut(c)&&ti(c)==Lc},_E=Vt?Vn(Vt):function(c){return Ut(c)&&bi(c)==Yi};function Af(c){return"string"==typeof c||!_e(c)&&Ut(c)&&ti(c)==aa}function zn(c){return"symbol"==typeof c||Ut(c)&&ti(c)==Bc}var jl=so?Vn(so):function(c){return Ut(c)&&kf(c.length)&&!!Pt[ti(c)]},Br=Gd(ba),Pf=Gd(function(c,u){return c<=u});function Cv(c){if(!c)return[];if(sn(c))return Af(c)?Dt(c):gi(c);if(co&&c[co])return function(L){for(var q,V=[];!(q=L.next()).done;)V.push(q.value);return V}(c[co]());var u=bi(c);return(u==Xn?zg:u==Yi?vd:xo)(c)}function xs(c){return c?(c=rn(c))===ra||c===-ra?17976931348623157e292*(c<0?-1:1):c==c?c:0:0===c?c:0}function Le(c){var u=xs(c),f=u%1;return u==u?f?u-f:u:0}function Df(c){return c?rr(Le(c),0,_s):0}function rn(c){if("number"==typeof c)return c;if(zn(c))return NaN;if(qt(c)){var u="function"==typeof c.valueOf?c.valueOf():c;c=qt(u)?u+"":u}if("string"!=typeof c)return 0===c?c:+c;c=jg(c);var f=hO.test(c);return f||fO.test(c)?Ai(c.slice(2),f?2:8):Zs.test(c)?NaN:+c}function Av(c){return li(c,Wi(c))}function dt(c){return null==c?"":ji(c)}var bE=xa(function(c,u){if(Ll(u)||sn(u))li(u,Si(u),c);else for(var f in u)Fe.call(u,f)&&au(c,f,u[f])}),SE=xa(function(c,u){li(u,Wi(u),c)}),Ao=xa(function(c,u,f,v){li(u,Wi(u),c,v)}),wE=xa(function(c,u,f,v){li(u,Si(u),c,v)}),Pv=rs(kl),kE=Ye(function(c,u){c=Tt(c);var f=-1,v=u.length,E=v>2?u[2]:M;for(E&&xi(u[0],u[1],E)&&(v=1);++f<v;)for(var P=u[f],x=Wi(P),R=-1,B=x.length;++R<B;){var j=x[R],W=c[j];(W===M||me(W,lo[j])&&!Fe.call(c,j))&&(c[j]=P[j])}return c}),Wl=Ye(function(c){return c.push(M,yu),di(Iv,M,c)});function Kl(c,u,f){var v=null==c?M:or(c,u);return v===M?f:v}function Lu(c,u){return null!=c&&Jd(c,u,Od)}var Bu=Dm(function(c,u,f){null!=u&&"function"!=typeof u.toString&&(u=nr.call(u)),c[u]=f},qf(zi)),AE=Dm(function(c,u,f){null!=u&&"function"!=typeof u.toString&&(u=nr.call(u)),Fe.call(c,u)?c[u].push(f):c[u]=[f]},we),xv=Ye(Al);function Si(c){return sn(c)?va(c):fm(c)}function Wi(c){return sn(c)?va(c,!0):function(c){if(!qt(c))return function(c){var u=[];if(null!=c)for(var f in Tt(c))u.push(f);return u}(c);var u=Ll(c),f=[];for(var v in c)"constructor"==v&&(u||!Fe.call(c,v))||f.push(v);return f}(c)}var Rv=xa(function(c,u,f){Sa(c,u,f)}),Iv=xa(function(c,u,f,v){Sa(c,u,f,v)}),DE=rs(function(c,u){var f={};if(null==c)return f;var v=!1;u=mt(u,function(P){return P=Aa(P,c),v||(v=P.length>1),P}),li(c,Kd(c),f),v&&(f=Ui(f,7,Mm));for(var E=u.length;E--;)_m(f,u[E]);return f}),TE=rs(function(c,u){return null==c?{}:function(c,u){return Pl(c,u,function(f,v){return Lu(c,v)})}(c,u)});function Ov(c,u){if(null==c)return{};var f=mt(Kd(c),function(v){return[v]});return u=we(u),Pl(c,f,function(v,E){return u(v,E[0])})}var xE=xm(Si),Lv=xm(Wi);function xo(c){return null==c?[]:Wg(c,Si(c))}var NE=wo(function(c,u,f){return u=u.toLowerCase(),c+(f?Rf(u):u)});function Rf(c){return Vu(dt(c).toLowerCase())}function If(c){return(c=dt(c))&&c.replace(TS,bO).replace(LS,"")}var BE=wo(function(c,u,f){return c+(f?"-":"")+u.toLowerCase()}),$E=wo(function(c,u,f){return c+(f?" ":"")+u.toLowerCase()}),aN=Am("toLowerCase"),UE=wo(function(c,u,f){return c+(f?"_":"")+u.toLowerCase()}),Lf=wo(function(c,u,f){return c+(f?" ":"")+Vu(u)}),qv=wo(function(c,u,f){return c+(f?" ":"")+u.toUpperCase()}),Vu=Am("toUpperCase");function Ff(c,u,f){return c=dt(c),(u=f?M:u)===M?function(L){return Bn.test(L)}(c)?function(L){return L.match(hl)||[]}(c):function(L){return L.match(Hc)||[]}(c):c.match(u)||[]}var Hf=Ye(function(c,u){try{return di(c,M,u)}catch(f){return us(f)?f:new Re(f)}}),Uv=rs(function(c,u){return Fi(u,function(f){f=os(f),wn(c,f,Sf(c[f],c))}),c});function qf(c){return function(){return c}}var lN=gw(),Mo=gw(!0);function zi(c){return c}function Ba(c){return cw("function"==typeof c?c:Ui(c,1))}var Uf=Ye(function(c,u){return function(f){return Al(f,c,u)}}),Gv=Ye(function(c,u){return function(f){return Al(c,f,u)}});function Gf(c,u,f){var v=Si(u),E=vo(u,v);null==f&&(!qt(u)||!E.length&&v.length)&&(f=u,u=c,c=this,E=vo(u,Si(u)));var P=!(qt(f)&&"chain"in f&&!f.chain),x=Wn(c);return Fi(E,function(R){var B=u[R];c[R]=B,x&&(c.prototype[R]=function(){var j=this.__chain__;if(P||j){var W=c(this.__wrapped__),Q=W.__actions__=gi(this.__actions__);return Q.push({func:B,args:arguments,thisArg:c}),W.__chain__=j,W}return B.apply(c,pi([this.value()],arguments))})}),c}function jf(){}var YE=Ud(mt),JE=Ud(Gc),Wv=Ud(fd);function $a(c){return Xd(c)?pl(os(c)):function(c){return function(u){return or(u,c)}}(c)}var ZE=Tm(),XE=Tm(!0);function Vr(){return[]}function zf(){return!1}var At=qd(function(c,u){return c+u},0),Kf=jd("ceil"),uN=qd(function(c,u){return c/u},1),ur=jd("floor"),Yv=qd(function(c,u){return c*u},1),Jv=jd("round"),Zv=qd(function(c,u){return c-u},0);return C.after=function(c,u){if("function"!=typeof u)throw new yn($i);return c=Le(c),function(){if(--c<1)return u.apply(this,arguments)}},C.ary=bf,C.assign=bE,C.assignIn=SE,C.assignInWith=Ao,C.assignWith=wE,C.at=Pv,C.before=hv,C.bind=Sf,C.bindAll=Uv,C.bindKey=dv,C.castArray=function(){if(!arguments.length)return[];var c=arguments[0];return _e(c)?c:[c]},C.chain=iv,C.chunk=function(c,u,f){u=(f?xi(c,u,f):u===M)?1:ai(Le(u),0);var v=null==c?0:c.length;if(!v||u<1)return[];for(var E=0,P=0,x=V(jt(v/u));E<v;)x[P++]=qn(c,E,E+=u);return x},C.compact=function(c){for(var u=-1,f=null==c?0:c.length,v=0,E=[];++u<f;){var P=c[u];P&&(E[v++]=P)}return E},C.concat=function(){var c=arguments.length;if(!c)return[];for(var u=V(c-1),f=arguments[0],v=c;v--;)u[v-1]=arguments[v];return pi(_e(f)?gi(f):[f],_i(u,1))},C.cond=function(c){var u=null==c?0:c.length,f=we();return c=u?mt(c,function(v){if("function"!=typeof v[1])throw new yn($i);return[f(v[0]),v[1]]}):[],Ye(function(v){for(var E=-1;++E<u;){var P=c[E];if(di(P[0],this,v))return di(P[1],this,v)}})},C.conforms=function(c){return function(c){var u=Si(c);return function(f){return cm(f,c,u)}}(Ui(c,1))},C.constant=qf,C.countBy=rv,C.create=function(c,u){var f=sr(c);return null==u?f:lm(f,u)},C.curry=function La(c,u,f){var v=Gn(c,8,M,M,M,M,M,u=f?M:u);return v.placeholder=La.placeholder,v},C.curryRight=function ls(c,u,f){var v=Gn(c,16,M,M,M,M,M,u=f?M:u);return v.placeholder=ls.placeholder,v},C.debounce=sE,C.defaults=kE,C.defaultsDeep=Wl,C.defer=QO,C.delay=fv,C.difference=lf,C.differenceBy=cf,C.differenceWith=uf,C.drop=function(c,u,f){var v=null==c?0:c.length;return v?qn(c,(u=f||u===M?1:Le(u))<0?0:u,v):[]},C.dropRight=function(c,u,f){var v=null==c?0:c.length;return v?qn(c,0,(u=v-(u=f||u===M?1:Le(u)))<0?0:u):[]},C.dropRightWhile=function(c,u){return c&&c.length?bo(c,we(u,3),!0,!0):[]},C.dropWhile=function(c,u){return c&&c.length?bo(c,we(u,3),!0):[]},C.fill=function(c,u,f,v){var E=null==c?0:c.length;return E?(f&&"number"!=typeof f&&xi(c,u,f)&&(f=0,v=E),function(c,u,f,v){var E=c.length;for((f=Le(f))<0&&(f=-f>E?0:E+f),(v=v===M||v>E?E:Le(v))<0&&(v+=E),v=f>v?0:Df(v);f<v;)c[f++]=u;return c}(c,u,f,v)):[]},C.filter=function(c,u){return(_e(c)?vn:mo)(c,we(u,3))},C.flatMap=function(c,u){return _i(_f(c,u),1)},C.flatMapDeep=function(c,u){return _i(_f(c,u),ra)},C.flatMapDepth=function(c,u,f){return f=f===M?1:Le(f),_i(_f(c,u),f)},C.flatten=Vl,C.flattenDeep=function(c){return null!=c&&c.length?_i(c,ra):[]},C.flattenDepth=function(c,u){return null!=c&&c.length?_i(c,u=u===M?1:Le(u)):[]},C.flip=function(c){return Gn(c,512)},C.flow=lN,C.flowRight=Mo,C.fromPairs=function(c){for(var u=-1,f=null==c?0:c.length,v={};++u<f;){var E=c[u];v[E[0]]=E[1]}return v},C.functions=function(c){return null==c?[]:vo(c,Si(c))},C.functionsIn=function(c){return null==c?[]:vo(c,Wi(c))},C.groupBy=ov,C.initial=function(c){return null!=c&&c.length?qn(c,0,-1):[]},C.intersection=Du,C.intersectionBy=ff,C.intersectionWith=Wm,C.invert=Bu,C.invertBy=AE,C.invokeMap=lv,C.iteratee=Ba,C.keyBy=Jw,C.keys=Si,C.keysIn=Wi,C.map=_f,C.mapKeys=function(c,u){var f={};return u=we(u,3),Gi(c,function(v,E,P){wn(f,u(v,E,P),v)}),f},C.mapValues=function(c,u){var f={};return u=we(u,3),Gi(c,function(v,E,P){wn(f,E,u(v,E,P))}),f},C.matches=function(c){return ii(Ui(c,1))},C.matchesProperty=function(c,u){return du(c,Ui(u,1))},C.memoize=Gl,C.merge=Rv,C.mergeWith=Iv,C.method=Uf,C.methodOf=Gv,C.mixin=Gf,C.negate=wf,C.nthArg=function(c){return c=Le(c),Ye(function(u){return pm(u,c)})},C.omit=DE,C.omitBy=function(c,u){return Ov(c,wf(we(u)))},C.once=function(c){return hv(2,c)},C.orderBy=function(c,u,f,v){return null==c?[]:(_e(u)||(u=null==u?[]:[u]),_e(f=v?M:f)||(f=null==f?[]:[f]),En(c,u,f))},C.over=YE,C.overArgs=rE,C.overEvery=JE,C.overSome=Wv,C.partial=Ru,C.partialRight=gv,C.partition=Mu,C.pick=TE,C.pickBy=Ov,C.property=$a,C.propertyOf=function(c){return function(u){return null==c?M:or(c,u)}},C.pull=Aw,C.pullAll=Km,C.pullAllBy=function(c,u,f){return c&&c.length&&u&&u.length?ks(c,u,we(f,2)):c},C.pullAllWith=function(c,u,f){return c&&c.length&&u&&u.length?ks(c,u,M,f):c},C.pullAt=An,C.range=ZE,C.rangeRight=XE,C.rearg=aE,C.reject=function(c,u){return(_e(c)?vn:mo)(c,wf(we(u,3)))},C.remove=function(c,u){var f=[];if(!c||!c.length)return f;var v=-1,E=[],P=c.length;for(u=we(u,3);++v<P;){var x=c[v];u(x,v,c)&&(f.push(x),E.push(v))}return Nd(c,E),f},C.rest=function(c,u){if("function"!=typeof c)throw new yn($i);return Ye(c,u=u===M?u:Le(u))},C.reverse=Tu,C.sampleSize=function(c,u,f){return u=(f?xi(c,u,f):u===M)?1:Le(u),(_e(c)?fo:kn)(c,u)},C.set=function(c,u,f){return null==c?c:Ea(c,u,f)},C.setWith=function(c,u,f,v){return v="function"==typeof v?v:M,null==c?c:Ea(c,u,f,v)},C.shuffle=function(c){return(_e(c)?xd:vm)(c)},C.slice=function(c,u,f){var v=null==c?0:c.length;return v?(f&&"number"!=typeof f&&xi(c,u,f)?(u=0,f=v):(u=null==u?0:Le(u),f=f===M?v:Le(f)),qn(c,u,f)):[]},C.sortBy=nE,C.sortedUniq=function(c){return c&&c.length?ym(c):[]},C.sortedUniqBy=function(c,u){return c&&c.length?ym(c,we(u,2)):[]},C.split=function(c,u,f){return f&&"number"!=typeof f&&xi(c,u,f)&&(u=f=M),(f=f===M?_s:f>>>0)?(c=dt(c))&&("string"==typeof u||null!=u&&!kv(u))&&!(u=ji(u))&&ml(c)?Un(Dt(c),0,f):c.split(u,f):[]},C.spread=function(c,u){if("function"!=typeof c)throw new yn($i);return u=null==u?0:ai(Le(u),0),Ye(function(f){var v=f[u],E=Un(f,0,u);return v&&pi(E,v),di(c,this,E)})},C.tail=function(c){var u=null==c?0:c.length;return u?qn(c,1,u):[]},C.take=function(c,u,f){return c&&c.length?qn(c,0,(u=f||u===M?1:Le(u))<0?0:u):[]},C.takeRight=function(c,u,f){var v=null==c?0:c.length;return v?qn(c,(u=v-(u=f||u===M?1:Le(u)))<0?0:u,v):[]},C.takeRightWhile=function(c,u){return c&&c.length?bo(c,we(u,3),!1,!0):[]},C.takeWhile=function(c,u){return c&&c.length?bo(c,we(u,3)):[]},C.tap=function(c,u){return u(c),c},C.throttle=function(c,u,f){var v=!0,E=!0;if("function"!=typeof c)throw new yn($i);return qt(f)&&(v="leading"in f?!!f.leading:v,E="trailing"in f?!!f.trailing:E),sE(c,u,{leading:v,maxWait:u,trailing:E})},C.thru=ql,C.toArray=Cv,C.toPairs=xE,C.toPairsIn=Lv,C.toPath=function(c){return _e(c)?mt(c,os):zn(c)?[c]:gi(rf(dt(c)))},C.toPlainObject=Av,C.transform=function(c,u,f){var v=_e(c),E=v||Ts(c)||jl(c);if(u=we(u,4),null==f){var P=c&&c.constructor;f=E?v?new P:[]:qt(c)&&Wn(P)?sr(Ae(c)):{}}return(E?Fi:Gi)(c,function(x,R,B){return u(f,x,R,B)}),f},C.unary=function(c){return bf(c,1)},C.union=Ps,C.unionBy=Hl,C.unionWith=Jm,C.uniq=function(c){return c&&c.length?ss(c):[]},C.uniqBy=function(c,u){return c&&c.length?ss(c,we(u,2)):[]},C.uniqWith=function(c,u){return u="function"==typeof u?u:M,c&&c.length?ss(c,M,u):[]},C.unset=function(c,u){return null==c||_m(c,u)},C.unzip=ev,C.unzipWith=Vw,C.update=function(c,u,f){return null==c?c:_o(c,u,Dl(f))},C.updateWith=function(c,u,f,v){return v="function"==typeof v?v:M,null==c?c:_o(c,u,Dl(f),v)},C.values=xo,C.valuesIn=function(c){return null==c?[]:Wg(c,Wi(c))},C.without=pf,C.words=Ff,C.wrap=function(c,u){return Ru(Dl(u),c)},C.xor=gf,C.xorBy=mf,C.xorWith=GO,C.zip=jO,C.zipObject=function(c,u){return bm(c||[],u||[],au)},C.zipObjectDeep=function(c,u){return bm(c||[],u||[],Ea)},C.zipWith=Hw,C.entries=xE,C.entriesIn=Lv,C.extend=SE,C.extendWith=Ao,Gf(C,C),C.add=At,C.attempt=Hf,C.camelCase=NE,C.capitalize=Rf,C.ceil=Kf,C.clamp=function(c,u,f){return f===M&&(f=u,u=M),f!==M&&(f=(f=rn(f))==f?f:0),u!==M&&(u=(u=rn(u))==u?u:0),rr(rn(c),u,f)},C.clone=function(c){return Ui(c,4)},C.cloneDeep=function(c){return Ui(c,5)},C.cloneDeepWith=function(c,u){return Ui(c,5,u="function"==typeof u?u:M)},C.cloneWith=function(c,u){return Ui(c,4,u="function"==typeof u?u:M)},C.conformsTo=function(c,u){return null==u||cm(c,u,Si(u))},C.deburr=If,C.defaultTo=function(c,u){return null==c||c!=c?u:c},C.divide=uN,C.endsWith=function(c,u,f){c=dt(c),u=ji(u);var v=c.length,E=f=f===M?v:rr(Le(f),0,v);return(f-=u.length)>=0&&c.slice(f,E)==u},C.eq=me,C.escape=function(c){return(c=dt(c))&&nd.test(c)?c.replace(Fc,SO):c},C.escapeRegExp=function(c){return(c=dt(c))&&sd.test(c)?c.replace(Rg,"\\$&"):c},C.every=function(c,u,f){var v=_e(c)?Gc:rw;return f&&xi(c,u,f)&&(u=M),v(c,we(u,3))},C.find=Kw,C.findIndex=hf,C.findKey=function(c,u){return fl(c,we(u,3),Gi)},C.findLast=Qw,C.findLastIndex=Pu,C.findLastKey=function(c,u){return fl(c,we(u,3),tn)},C.floor=ur,C.forEach=Co,C.forEachRight=av,C.forIn=function(c,u){return null==c?c:uu(c,we(u,3),Wi)},C.forInRight=function(c,u){return null==c?c:Id(c,we(u,3),Wi)},C.forOwn=function(c,u){return c&&Gi(c,we(u,3))},C.forOwnRight=function(c,u){return c&&tn(c,we(u,3))},C.get=Kl,C.gt=F,C.gte=yv,C.has=function(c,u){return null!=c&&Jd(c,u,Cl)},C.hasIn=Lu,C.head=jm,C.identity=zi,C.includes=function(c,u,f,v){c=sn(c)?c:xo(c),f=f&&!v?Le(f):0;var E=c.length;return f<0&&(f=ai(E+f,0)),Af(c)?f<=E&&c.indexOf(u,f)>-1:!!E&&Qt(c,u,f)>-1},C.indexOf=function(c,u,f){var v=null==c?0:c.length;if(!v)return-1;var E=null==f?0:Le(f);return E<0&&(E=ai(v+E,0)),Qt(c,u,E)},C.inRange=function(c,u,f){return u=xs(u),f===M?(f=u,u=0):f=xs(f),function(c,u,f){return c>=oi(u,f)&&c<ai(u,f)}(c=rn(c),u,f)},C.invoke=xv,C.isArguments=Ds,C.isArray=_e,C.isArrayBuffer=_v,C.isArrayLike=sn,C.isArrayLikeObject=Ht,C.isBoolean=function(c){return!0===c||!1===c||Ut(c)&&ti(c)==Xa},C.isBuffer=Ts,C.isDate=bv,C.isElement=function(c){return Ut(c)&&1===c.nodeType&&!Nu(c)},C.isEmpty=function(c){if(null==c)return!0;if(sn(c)&&(_e(c)||"string"==typeof c||"function"==typeof c.splice||Ts(c)||jl(c)||Ds(c)))return!c.length;var u=bi(c);if(u==Xn||u==Yi)return!c.size;if(Ll(c))return!fm(c).length;for(var f in c)if(Fe.call(c,f))return!1;return!0},C.isEqual=function(c,u){return hu(c,u)},C.isEqualWith=function(c,u,f){var v=(f="function"==typeof f?f:M)?f(c,u):M;return v===M?hu(c,u,M,f):!!v},C.isError=us,C.isFinite=function(c){return"number"==typeof c&&Xc(c)},C.isFunction=Wn,C.isInteger=Ou,C.isLength=kf,C.isMap=gE,C.isMatch=function(c,u){return c===u||dm(c,u,Qd(u))},C.isMatchWith=function(c,u,f){return f="function"==typeof f?f:M,dm(c,u,Qd(u),f)},C.isNaN=function(c){return yE(c)&&c!=+c},C.isNative=function(c){if(_w(c))throw new Re("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return lw(c)},C.isNil=function(c){return null==c},C.isNull=function(c){return null===c},C.isNumber=yE,C.isObject=qt,C.isObjectLike=Ut,C.isPlainObject=Nu,C.isRegExp=kv,C.isSafeInteger=function(c){return Ou(c)&&c>=-Cr&&c<=Cr},C.isSet=_E,C.isString=Af,C.isSymbol=zn,C.isTypedArray=jl,C.isUndefined=function(c){return c===M},C.isWeakMap=function(c){return Ut(c)&&bi(c)==$c},C.isWeakSet=function(c){return Ut(c)&&"[object WeakSet]"==ti(c)},C.join=function(c,u){return null==c?"":Sd.call(c,u)},C.kebabCase=BE,C.last=Cn,C.lastIndexOf=function(c,u,f){var v=null==c?0:c.length;if(!v)return-1;var E=v;return f!==M&&(E=(E=Le(f))<0?ai(v+E,0):oi(E,v-1)),u==u?function(L,q,V){for(var le=V+1;le--;)if(L[le]===q)return le;return le}(c,u,E):bs(c,ts,E,!0)},C.lowerCase=$E,C.lowerFirst=aN,C.lt=Br,C.lte=Pf,C.max=function(c){return c&&c.length?lu(c,zi,Or):M},C.maxBy=function(c,u){return c&&c.length?lu(c,we(u,2),Or):M},C.mean=function(c){return $n(c,zi)},C.meanBy=function(c,u){return $n(c,we(u,2))},C.min=function(c){return c&&c.length?lu(c,zi,ba):M},C.minBy=function(c,u){return c&&c.length?lu(c,we(u,2),ba):M},C.stubArray=Vr,C.stubFalse=zf,C.stubObject=function(){return{}},C.stubString=function(){return""},C.stubTrue=function(){return!0},C.multiply=Yv,C.nth=function(c,u){return c&&c.length?pm(c,Le(u)):M},C.noConflict=function(){return _t._===this&&(_t._=Yg),this},C.noop=jf,C.now=Ul,C.pad=function(c,u,f){c=dt(c);var v=(u=Le(u))?ua(c):0;if(!u||v>=u)return c;var E=(u-v)/2;return vu(yl(E),f)+c+vu(jt(E),f)},C.padEnd=function(c,u,f){c=dt(c);var v=(u=Le(u))?ua(c):0;return u&&v<u?c+vu(u-v,f):c},C.padStart=function(c,u,f){c=dt(c);var v=(u=Le(u))?ua(c):0;return u&&v<u?vu(u-v,f)+c:c},C.parseInt=function(c,u,f){return f||null==u?u=0:u&&(u=+u),qi(dt(c).replace(Me,""),u||0)},C.random=function(c,u,f){if(f&&"boolean"!=typeof f&&xi(c,u,f)&&(u=f=M),f===M&&("boolean"==typeof u?(f=u,u=M):"boolean"==typeof c&&(f=c,c=M)),c===M&&u===M?(c=0,u=1):(c=xs(c),u===M?(u=c,c=0):u=xs(u)),c>u){var v=c;c=u,u=v}if(f||c%1||u%1){var E=ns();return oi(c+E*(u-c+Zi("1e-"+((E+"").length-1))),u)}return Ld(c,u)},C.reduce=function(c,u,f){var v=_e(c)?bt:gl,E=arguments.length<3;return v(c,we(u,4),f,E,ar)},C.reduceRight=function(c,u,f){var v=_e(c)?FS:gl,E=arguments.length<3;return v(c,we(u,4),f,E,Rd)},C.repeat=function(c,u,f){return u=(f?xi(c,u,f):u===M)?1:Le(u),gm(dt(c),u)},C.replace=function(){var c=arguments,u=dt(c[0]);return c.length<3?u:u.replace(c[1],c[2])},C.result=function(c,u,f){var v=-1,E=(u=Aa(u,c)).length;for(E||(E=1,c=M);++v<E;){var P=null==c?M:c[os(u[v])];P===M&&(v=E,P=f),c=Wn(P)?P.call(c):P}return c},C.round=Jv,C.runInContext=L,C.sample=function(c){return(_e(c)?am:mm)(c)},C.size=function(c){if(null==c)return 0;if(sn(c))return Af(c)?ua(c):c.length;var u=bi(c);return u==Xn||u==Yi?c.size:fm(c).length},C.snakeCase=UE,C.some=function(c,u,f){var v=_e(c)?fd:dw;return f&&xi(c,u,f)&&(u=M),v(c,we(u,3))},C.sortedIndex=function(c,u){return fu(c,u)},C.sortedIndexBy=function(c,u,f){return Bd(c,u,we(f,2))},C.sortedIndexOf=function(c,u){var f=null==c?0:c.length;if(f){var v=fu(c,u);if(v<f&&me(c[v],u))return v}return-1},C.sortedLastIndex=function(c,u){return fu(c,u,!0)},C.sortedLastIndexBy=function(c,u,f){return Bd(c,u,we(f,2),!0)},C.sortedLastIndexOf=function(c,u){if(null!=c&&c.length){var v=fu(c,u,!0)-1;if(me(c[v],u))return v}return-1},C.startCase=Lf,C.startsWith=function(c,u,f){return c=dt(c),f=null==f?0:rr(Le(f),0,c.length),u=ji(u),c.slice(f,f+u.length)==u},C.subtract=Zv,C.sum=function(c){return c&&c.length?gd(c,zi):0},C.sumBy=function(c,u){return c&&c.length?gd(c,we(u,2)):0},C.template=function(c,u,f){var v=C.templateSettings;f&&xi(c,u,f)&&(u=M),c=dt(c),u=Ao({},u,v,Di);var R,B,E=Ao({},u.imports,v.imports,Di),P=Si(E),x=Wg(E,P),j=0,W=u.interpolate||rd,Q="__p += '",te=Rt((u.escape||rd).source+"|"+W.source+"|"+(W===ge?PS:rd).source+"|"+(u.evaluate||rd).source+"|$","g"),fe="//# sourceURL="+(Fe.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Hg+"]")+"\n";c.replace(te,function(Pe,We,it,an,Mi,Kn){return it||(it=an),Q+=c.slice(j,Kn).replace(xS,wO),We&&(R=!0,Q+="' +\n__e("+We+") +\n'"),Mi&&(B=!0,Q+="';\n"+Mi+";\n__p += '"),it&&(Q+="' +\n((__t = ("+it+")) == null ? '' : __t) +\n'"),j=Kn+Pe.length,Pe}),Q+="';\n";var Ce=Fe.call(u,"variable")&&u.variable;if(Ce){if(gn.test(Ce))throw new Re("Invalid `variable` option passed into `_.template`")}else Q="with (obj) {\n"+Q+"\n}\n";Q=(B?Q.replace(wS,""):Q).replace(ES,"$1").replace(kS,"$1;"),Q="function("+(Ce||"obj")+") {\n"+(Ce?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(R?", __e = _.escape":"")+(B?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Q+"return __p\n}";var je=Hf(function(){return ht(P,fe+"return "+Q).apply(M,x)});if(je.source=Q,us(je))throw je;return je},C.times=function(c,u){if((c=Le(c))<1||c>Cr)return[];var f=_s,v=oi(c,_s);u=we(u),c-=_s;for(var E=Gg(v,u);++f<c;)u(f);return E},C.toFinite=xs,C.toInteger=Le,C.toLength=Df,C.toLower=function(c){return dt(c).toLowerCase()},C.toNumber=rn,C.toSafeInteger=function(c){return c?rr(Le(c),-Cr,Cr):0===c?c:0},C.toString=dt,C.toUpper=function(c){return dt(c).toUpperCase()},C.trim=function(c,u,f){if((c=dt(c))&&(f||u===M))return jg(c);if(!c||!(u=ji(u)))return c;var v=Dt(c),E=Dt(u);return Un(v,US(v,E),GS(v,E)+1).join("")},C.trimEnd=function(c,u,f){if((c=dt(c))&&(f||u===M))return c.slice(0,yd(c)+1);if(!c||!(u=ji(u)))return c;var v=Dt(c);return Un(v,0,GS(v,Dt(u))+1).join("")},C.trimStart=function(c,u,f){if((c=dt(c))&&(f||u===M))return c.replace(Me,"");if(!c||!(u=ji(u)))return c;var v=Dt(c);return Un(v,US(v,Dt(u))).join("")},C.truncate=function(c,u){var f=30,v="...";if(qt(u)){var E="separator"in u?u.separator:E;f="length"in u?Le(u.length):f,v="omission"in u?ji(u.omission):v}var P=(c=dt(c)).length;if(ml(c)){var x=Dt(c);P=x.length}if(f>=P)return c;var R=f-ua(v);if(R<1)return v;var B=x?Un(x,0,R).join(""):c.slice(0,R);if(E===M)return B+v;if(x&&(R+=B.length-R),kv(E)){if(c.slice(R).search(E)){var j,W=B;for(E.global||(E=Rt(E.source,dt(DS.exec(E))+"g")),E.lastIndex=0;j=E.exec(W);)var Q=j.index;B=B.slice(0,Q===M?R:Q)}}else if(c.indexOf(ji(E),R)!=R){var te=B.lastIndexOf(E);te>-1&&(B=B.slice(0,te))}return B+v},C.unescape=function(c){return(c=dt(c))&&He.test(c)?c.replace(ot,jS):c},C.uniqueId=function(c){var u=++KS;return dt(c)+u},C.upperCase=qv,C.upperFirst=Vu,C.each=Co,C.eachRight=av,C.first=jm,Gf(C,function(){var c={};return Gi(C,function(u,f){Fe.call(C.prototype,f)||(c[f]=u)}),c}(),{chain:!1}),C.VERSION="4.17.21",Fi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){C[c].placeholder=C}),Fi(["drop","take"],function(c,u){ke.prototype[c]=function(f){f=f===M?1:ai(Le(f),0);var v=this.__filtered__&&!u?new ke(this):this.clone();return v.__filtered__?v.__takeCount__=oi(f,v.__takeCount__):v.__views__.push({size:oi(f,_s),type:c+(v.__dir__<0?"Right":"")}),v},ke.prototype[c+"Right"]=function(f){return this.reverse()[c](f).reverse()}}),Fi(["filter","map","takeWhile"],function(c,u){var f=u+1,v=1==f||3==f;ke.prototype[c]=function(E){var P=this.clone();return P.__iteratees__.push({iteratee:we(E,3),type:f}),P.__filtered__=P.__filtered__||v,P}}),Fi(["head","last"],function(c,u){var f="take"+(u?"Right":"");ke.prototype[c]=function(){return this[f](1).value()[0]}}),Fi(["initial","tail"],function(c,u){var f="drop"+(u?"":"Right");ke.prototype[c]=function(){return this.__filtered__?new ke(this):this[f](1)}}),ke.prototype.compact=function(){return this.filter(zi)},ke.prototype.find=function(c){return this.filter(c).head()},ke.prototype.findLast=function(c){return this.reverse().find(c)},ke.prototype.invokeMap=Ye(function(c,u){return"function"==typeof c?new ke(this):this.map(function(f){return Al(f,c,u)})}),ke.prototype.reject=function(c){return this.filter(wf(we(c)))},ke.prototype.slice=function(c,u){c=Le(c);var f=this;return f.__filtered__&&(c>0||u<0)?new ke(f):(c<0?f=f.takeRight(-c):c&&(f=f.drop(c)),u!==M&&(f=(u=Le(u))<0?f.dropRight(-u):f.take(u-c)),f)},ke.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},ke.prototype.toArray=function(){return this.take(_s)},Gi(ke.prototype,function(c,u){var f=/^(?:filter|find|map|reject)|While$/.test(u),v=/^(?:head|last)$/.test(u),E=C[v?"take"+("last"==u?"Right":""):u],P=v||/^find/.test(u);!E||(C.prototype[u]=function(){var x=this.__wrapped__,R=v?[1]:arguments,B=x instanceof ke,j=R[0],W=B||_e(x),Q=function(We){var it=E.apply(C,pi([We],R));return v&&te?it[0]:it};W&&f&&"function"==typeof j&&1!=j.length&&(B=W=!1);var te=this.__chain__,fe=!!this.__actions__.length,Ce=P&&!te,je=B&&!fe;if(!P&&W){x=je?x:new ke(this);var Pe=c.apply(x,R);return Pe.__actions__.push({func:ql,args:[Q],thisArg:M}),new Fn(Pe,te)}return Ce&&je?c.apply(this,R):(Pe=this.thru(Q),Ce?v?Pe.value()[0]:Pe.value():Pe)})}),Fi(["pop","push","shift","sort","splice","unshift"],function(c){var u=zc[c],f=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",v=/^(?:pop|shift)$/.test(c);C.prototype[c]=function(){var E=arguments;if(v&&!this.__chain__){var P=this.value();return u.apply(_e(P)?P:[],E)}return this[f](function(x){return u.apply(_e(x)?x:[],E)})}}),Gi(ke.prototype,function(c,u){var f=C[u];if(f){var v=f.name+"";Fe.call(Mr,v)||(Mr[v]=[]),Mr[v].push({name:u,func:f})}}),Mr[Ml(M,2).name]=[{name:"wrapper",func:M}],ke.prototype.clone=function(){var c=new ke(this.__wrapped__);return c.__actions__=gi(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=gi(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=gi(this.__views__),c},ke.prototype.reverse=function(){if(this.__filtered__){var c=new ke(this);c.__dir__=-1,c.__filtered__=!0}else(c=this.clone()).__dir__*=-1;return c},ke.prototype.value=function(){var c=this.__wrapped__.value(),u=this.__dir__,f=_e(c),v=u<0,E=f?c.length:0,P=function(c,u,f){for(var v=-1,E=f.length;++v<E;){var P=f[v],x=P.size;switch(P.type){case"drop":c+=x;break;case"dropRight":u-=x;break;case"take":u=oi(u,c+x);break;case"takeRight":c=ai(c,u-x)}}return{start:c,end:u}}(0,E,this.__views__),x=P.start,R=P.end,B=R-x,j=v?R:x-1,W=this.__iteratees__,Q=W.length,te=0,fe=oi(B,this.__takeCount__);if(!f||!v&&E==B&&fe==B)return Ca(c,this.__actions__);var Ce=[];e:for(;B--&&te<fe;){for(var je=-1,Pe=c[j+=u];++je<Q;){var We=W[je],an=We.type,Mi=(0,We.iteratee)(Pe);if(2==an)Pe=Mi;else if(!Mi){if(1==an)continue e;break e}}Ce[te++]=Pe}return Ce},C.prototype.at=xu,C.prototype.chain=function(){return iv(this)},C.prototype.commit=function(){return new Fn(this.value(),this.__chain__)},C.prototype.next=function(){this.__values__===M&&(this.__values__=Cv(this.value()));var c=this.__index__>=this.__values__.length;return{done:c,value:c?M:this.__values__[this.__index__++]}},C.prototype.plant=function(c){for(var u,f=this;f instanceof iu;){var v=of(f);v.__index__=0,v.__values__=M,u?E.__wrapped__=v:u=v;var E=v;f=f.__wrapped__}return E.__wrapped__=c,u},C.prototype.reverse=function(){var c=this.__wrapped__;if(c instanceof ke){var u=c;return this.__actions__.length&&(u=new ke(this)),(u=u.reverse()).__actions__.push({func:ql,args:[Tu],thisArg:M}),new Fn(u,this.__chain__)}return this.thru(Tu)},C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=function(){return Ca(this.__wrapped__,this.__actions__)},C.prototype.first=C.prototype.head,co&&(C.prototype[co]=function(){return this}),C}();_t._=oo,(Zn=function(){return oo}.call(xt,zt,xt,Wt))!==M&&(Wt.exports=Zn)}.call(this)},797:(Wt,xt,zt)=>{"use strict";var Zn={};function M(n){return"function"==typeof n}zt.r(Zn),zt.d(Zn,{afterMain:()=>vV,afterRead:()=>pV,afterWrite:()=>bV,applyStyles:()=>mR,arrow:()=>DV,auto:()=>pb,basePlacements:()=>Eh,beforeMain:()=>gV,beforeRead:()=>dV,beforeWrite:()=>yV,bottom:()=>hs,clippingParents:()=>uV,computeStyles:()=>bR,createPopper:()=>PR,createPopperBase:()=>dQ,createPopperLite:()=>gQ,detectOverflow:()=>Th,end:()=>kh,eventListeners:()=>SR,flip:()=>OV,hide:()=>BV,left:()=>On,main:()=>mV,modifierPhases:()=>SV,offset:()=>$V,placements:()=>pR,popper:()=>Ch,popperGenerator:()=>_b,popperOffsets:()=>AR,preventOverflow:()=>VV,read:()=>fV,reference:()=>hV,right:()=>ds,start:()=>gc,top:()=>In,variationPlacements:()=>fR,viewport:()=>dR,write:()=>_V});let zh=!1;const fn={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else zh&&console.log("RxJS: Back to a better error behavior. Thank you. <3");zh=n},get useDeprecatedSynchronousErrorHandling(){return zh}};function Ya(n){setTimeout(()=>{throw n},0)}const $i={closed:!0,next(n){},error(n){if(fn.useDeprecatedSynchronousErrorHandling)throw n;Ya(n)},complete(){}},il=Array.isArray||(n=>n&&"number"==typeof n.length);function nl(n){return null!==n&&"object"==typeof n}const ea=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class et{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof et)e.remove(this);else if(null!==e)for(let a=0;a<e.length;++a)e[a].remove(this);if(M(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(a){t=a instanceof ea?Kh(a.errors):[a]}}if(il(r)){let a=-1,o=r.length;for(;++a<o;){const l=r[a];if(nl(l))try{l.unsubscribe()}catch(h){t=t||[],h instanceof ea?t=t.concat(Kh(h.errors)):t.push(h)}}}if(t)throw new ea(t)}add(t){let e=t;if(!t)return et.EMPTY;switch(typeof t){case"function":e=new et(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof et)){const r=e;e=new et,e._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof et){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[e]:s.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function Kh(n){return n.reduce((t,e)=>t.concat(e instanceof ea?e.errors:e),[])}et.EMPTY=((n=new et).closed=!0,n);const Ys="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Mt extends et{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=$i;break;case 1:if(!t){this.destination=$i;break}if("object"==typeof t){t instanceof Mt?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new pn(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new pn(this,t,e,i)}}[Ys](){return this}static create(t,e,i){const s=new Mt(t,e,i);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class pn extends Mt{constructor(t,e,i,s){super(),this._parentSubscriber=t;let r,a=this;M(e)?r=e:e&&(r=e.next,i=e.error,s=e.complete,e!==$i&&(a=Object.create(e),M(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=r,this._error=i,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;fn.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=fn;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):Ya(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;Ya(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);fn.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),fn.useDeprecatedSynchronousErrorHandling)throw i;Ya(i)}}__tryOrSetError(t,e,i){if(!fn.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(s){return fn.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(Ya(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const Qi="function"==typeof Symbol&&Symbol.observable||"@@observable";function ia(n){return n}let Qe=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,s){const{operator:r}=this,a=function(n,t,e){if(n){if(n instanceof Mt)return n;if(n[Ys])return n[Ys]()}return n||t||e?new Mt(n,t,e):new Mt($i)}(e,i,s);if(a.add(r?r.call(a,this.source):this.source||fn.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),fn.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(i){fn.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof Mt?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=Ja(i))((s,r)=>{let a;a=this.subscribe(o=>{try{e(o)}catch(l){r(l),a&&a.unsubscribe()}},r,s)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[Qi](){return this}pipe(...e){return 0===e.length?this:function(n){return 0===n.length?ia:1===n.length?n[0]:function(e){return n.reduce((i,s)=>s(i),e)}}(e)(this)}toPromise(e){return new(e=Ja(e))((i,s)=>{let r;this.subscribe(a=>r=a,a=>s(a),()=>i(r))})}}return n.create=t=>new n(t),n})();function Ja(n){if(n||(n=fn.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const sa=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class kg extends et{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class Cg extends Mt{constructor(t){super(t),this.destination=t}}let Ze=(()=>{class n extends Qe{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ys](){return new Cg(this)}lift(e){const i=new Qh(this,this);return i.operator=e,i}next(e){if(this.closed)throw new sa;if(!this.isStopped){const{observers:i}=this,s=i.length,r=i.slice();for(let a=0;a<s;a++)r[a].next(e)}}error(e){if(this.closed)throw new sa;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,s=i.length,r=i.slice();for(let a=0;a<s;a++)r[a].error(e);this.observers.length=0}complete(){if(this.closed)throw new sa;this.isStopped=!0;const{observers:e}=this,i=e.length,s=e.slice();for(let r=0;r<i;r++)s[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new sa;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new sa;return this.hasError?(e.error(this.thrownError),et.EMPTY):this.isStopped?(e.complete(),et.EMPTY):(this.observers.push(e),new kg(this,e))}asObservable(){const e=new Qe;return e.source=this,e}}return n.create=(t,e)=>new Qh(t,e),n})();class Qh extends Ze{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):et.EMPTY}}function rl(n){return n&&"function"==typeof n.schedule}function ys(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new ra(n,t))}}class ra{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new Cr(t,this.project,this.thisArg))}}class Cr extends Mt{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const Ag=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},Rc="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",al=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Pg(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Xa=n=>{if(n&&"function"==typeof n[Qi])return(n=>t=>{const e=n[Qi]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(al(n))return Ag(n);if(Pg(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ya),t))(n);if(n&&"function"==typeof n[Rc])return(n=>t=>{const e=n[Rc]();for(;;){let i;try{i=e.next()}catch(s){return t.error(s),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${nl(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function eo(n,t){return new Qe(e=>{const i=new et;let s=0;return i.add(t.schedule(function(){s!==n.length?(e.next(n[s++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function Oc(n,t){return t?function(n,t){if(null!=n){if(function(n){return n&&"function"==typeof n[Qi]}(n))return function(n,t){return new Qe(e=>{const i=new et;return i.add(t.schedule(()=>{const s=n[Qi]();i.add(s.subscribe({next(r){i.add(t.schedule(()=>e.next(r)))},error(r){i.add(t.schedule(()=>e.error(r)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(Pg(n))return function(n,t){return new Qe(e=>{const i=new et;return i.add(t.schedule(()=>n.then(s=>{i.add(t.schedule(()=>{e.next(s),i.add(t.schedule(()=>e.complete()))}))},s=>{i.add(t.schedule(()=>e.error(s)))}))),i})}(n,t);if(al(n))return eo(n,t);if(function(n){return n&&"function"==typeof n[Rc]}(n)||"string"==typeof n)return function(n,t){if(!n)throw new Error("Iterable cannot be null");return new Qe(e=>{const i=new et;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(t.schedule(()=>{s=n[Rc](),i.add(t.schedule(function(){if(e.closed)return;let r,a;try{const o=s.next();r=o.value,a=o.done}catch(o){return void e.error(o)}a?e.complete():(e.next(r),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof Qe?n:new Qe(Xa(n))}class Ln extends Mt{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Nc extends Mt{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function Yi(n,t){if(t.closed)return;if(n instanceof Qe)return n.subscribe(t);let e;try{e=Xa(n)(t)}catch(i){t.error(i)}return e}function aa(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(aa((s,r)=>Oc(n(s,r)).pipe(ys((a,o)=>t(s,a,r,o))),e)):("number"==typeof t&&(e=t),i=>i.lift(new Bc(n,e)))}class Bc{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new SS(t,this.project,this.concurrent))}}class SS extends Nc{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Ln(this),i=this.destination;i.add(e);const s=Yi(t,e);s!==e&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Tg(n=Number.POSITIVE_INFINITY){return aa(ia,n)}function to(n,t){return t?eo(n,t):new Qe(Ag(n))}function Ar(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return rl(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof Qe?n[0]:Tg(t)(to(n,e))}function Vc(){return function(t){return t.lift(new Yh(t))}}class Yh{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const s=new Jh(t,i),r=e.subscribe(s);return s.closed||(s.connection=i.connect()),r}}class Jh extends Mt{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,s=t._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()}}class Zh extends Qe{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new et,t.add(this.source.subscribe(new ed(this.getSubject(),this))),t.closed&&(this._connection=null,t=et.EMPTY)),t}refCount(){return Vc()(this)}}const Xh=(()=>{const n=Zh.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class ed extends Cg{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function ES(){return new Ze}function ot(n){for(let t in n)if(n[t]===ot)return t;throw Error("Could not find renamed property on target object.")}function Fc(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function He(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(He).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function nd(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const CS=ot({__forward_ref__:ot});function wt(n){return n.__forward_ref__=wt,n.toString=function(){return He(this())},n}function ge(n){return Mg(n)?n():n}function Mg(n){return"function"==typeof n&&n.hasOwnProperty(CS)&&n.__forward_ref__===wt}class Pr extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function Me(n){return"string"==typeof n?n:null==n?"":String(n)}function Vi(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Me(n)}function Hc(n,t){const e=t?` in ${t}`:"";throw new Pr("201",`No provider for ${Vi(n)} found${e}`)}function mn(n,t){null==n&&function(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function ue(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Gt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Xs(n){return Ig(n,io)||Ig(n,cd)}function Ig(n,t){return n.hasOwnProperty(t)?n[t]:null}function od(n){return n&&(n.hasOwnProperty(ld)||n.hasOwnProperty(qc))?n[ld]:null}const io=ot({\u0275prov:ot}),ld=ot({\u0275inj:ot}),cd=ot({ngInjectableDef:ot}),qc=ot({ngInjectorDef:ot});var Se=(()=>((Se=Se||{})[Se.Default=0]="Default",Se[Se.Host=1]="Host",Se[Se.Self=2]="Self",Se[Se.SkipSelf=4]="SkipSelf",Se[Se.Optional=8]="Optional",Se))();let ud;function er(n){const t=ud;return ud=n,t}function Uc(n,t,e){const i=Xs(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Se.Optional?null:void 0!==t?t:void Hc(He(n),"Injector")}function tr(n){return{toString:n}.toString()}var Ji=(()=>((Ji=Ji||{})[Ji.OnPush=0]="OnPush",Ji[Ji.Default=1]="Default",Ji))(),Kt=(()=>((Kt=Kt||{})[Kt.Emulated=0]="Emulated",Kt[Kt.None=2]="None",Kt[Kt.ShadowDom=3]="ShadowDom",Kt))();const $g="undefined"!=typeof globalThis&&globalThis,IS="undefined"!=typeof window&&window,Vg="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ut=$g||"undefined"!=typeof global&&global||IS||Vg,no={},yt=[],ul=ot({\u0275cmp:ot}),hd=ot({\u0275dir:ot}),dd=ot({\u0275pipe:ot}),Fg=ot({\u0275mod:ot}),LS=ot({\u0275loc:ot}),es=ot({\u0275fac:ot}),hl=ot({__NG_ELEMENT_ID__:ot});let BS=0;function Bn(n){return tr(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ji.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||yt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Kt.Emulated,id:"c",styles:n.styles||yt,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,r=n.features,a=n.pipes;return i.id+=BS++,i.inputs=qg(n.inputs,e),i.outputs=qg(n.outputs),r&&r.forEach(o=>o(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Hg):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(Pt):null,i})}function Hg(n){return Ai(n)||function(n){return n[hd]||null}(n)}function Pt(n){return function(n){return n[dd]||null}(n)}const kt={};function Xt(n){return tr(()=>{const t={type:n.type,bootstrap:n.bootstrap||yt,declarations:n.declarations||yt,imports:n.imports||yt,exports:n.exports||yt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(kt[n.id]=n.type),t})}function qg(n,t){if(null==n)return no;const e={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),e[s]=i,t&&(t[s]=r)}return e}const de=Bn;function Zi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ai(n){return n[ul]||null}function _t(n,t){const e=n[Fg]||null;if(!e&&!0===t)throw new Error(`Type ${He(n)} does not have '\u0275mod' property.`);return e}function ts(n){return Array.isArray(n)&&"object"==typeof n[1]}function $n(n){return Array.isArray(n)&&!0===n[1]}function pl(n){return 0!=(8&n.flags)}function ao(n){return 2==(2&n.flags)}function gl(n){return 1==(1&n.flags)}function is(n){return null!==n.template}function gd(n){return 0!=(512&n[2])}function ca(n,t){return n.hasOwnProperty(es)?n[es]:null}class ua{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Dt(){return yd}function yd(n){return n.type.prototype.ngOnChanges&&(n.setInput=WS),jS}function jS(){const n=Qg(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===no)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function WS(n,t,e,i){const s=Qg(n)||function(n,t){return n[Kg]=t}(n,{previous:no,current:null}),r=s.current||(s.current={}),a=s.previous,o=this.declaredInputs[e],l=a[o];r[o]=new ua(l&&l.currentValue,t,a===no),n[i]=t}Dt.ngInherit=!0;const Kg="__ngSimpleChanges__";function Qg(n){return n[Kg]||null}const V="http://www.w3.org/2000/svg";let Re;function Rt(n){return!!n.listen}const yn={createRenderer:(n,t)=>void 0!==Re?Re:"undefined"!=typeof document?document:void 0};function ei(n){for(;Array.isArray(n);)n=n[0];return n}function ha(n,t){return ei(t[n])}function Fe(n,t){return ei(t[n.index])}function Kc(n,t){return n.data[t]}function _n(n,t){const e=t[n];return ts(e)?e:e[0]}function Yg(n){return 4==(4&n[2])}function bd(n){return 128==(128&n[2])}function Hi(n,t){return null==t?null:n[t]}function vl(n){n[18]=0}function Yc(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Ae={lFrame:ho(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function co(){return Ae.bindingsEnabled}function K(){return Ae.lFrame.lView}function rt(){return Ae.lFrame.tView}function It(n){return Ae.lFrame.contextLView=n,n[8]}function jt(){let n=yl();for(;null!==n&&64===n.type;)n=n.parent;return n}function yl(){return Ae.lFrame.currentTNode}function ws(n,t){const e=Ae.lFrame;e.currentTNode=n,e.isParent=t}function Xc(){return Ae.lFrame.isParent}function Sd(){Ae.lFrame.isParent=!1}function oi(){return Ae.isInCheckNoChangesMode}function eu(n){Ae.isInCheckNoChangesMode=n}function qi(){const n=Ae.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function ns(){return Ae.lFrame.bindingIndex}function xr(){return Ae.lFrame.bindingIndex++}function bn(n){const t=Ae.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function _l(n,t){const e=Ae.lFrame;e.bindingIndex=e.bindingRootIndex=n,uo(t)}function uo(n){Ae.lFrame.currentDirectiveIndex=n}function em(){return Ae.lFrame.currentQueryIndex}function Ed(n){Ae.lFrame.currentQueryIndex=n}function YS(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function tm(n,t,e){if(e&Se.SkipSelf){let s=t,r=n;for(;!(s=s.parent,null!==s||e&Se.Host||(s=YS(r),null===s||(r=r[15],10&s.type))););if(null===s)return!1;t=s,n=r}const i=Ae.lFrame=Sl();return i.currentTNode=t,i.lView=n,!0}function tu(n){const t=Sl(),e=n[1];Ae.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Sl(){const n=Ae.lFrame,t=null===n?null:n.child;return null===t?ho(n):t}function ho(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function kd(){const n=Ae.lFrame;return Ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const C=kd;function sr(){const n=kd();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ke(){return Ae.lFrame.selectedIndex}function Rr(n){Ae.lFrame.selectedIndex=n}function Ft(){const n=Ae.lFrame;return Kc(n.tView,n.selectedIndex)}function Cd(){Ae.lFrame.currentNamespace=V}function Ad(){Ae.lFrame.currentNamespace=null}function nu(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const r=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:o,ngAfterViewInit:l,ngAfterViewChecked:h,ngOnDestroy:d}=r;a&&(n.contentHooks||(n.contentHooks=[])).push(-e,a),o&&((n.contentHooks||(n.contentHooks=[])).push(e,o),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,o)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),h&&((n.viewHooks||(n.viewHooks=[])).push(e,h),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,h)),null!=d&&(n.destroyHooks||(n.destroyHooks=[])).push(e,d)}}function Hn(n,t,e){im(n,t,3,e)}function su(n,t,e,i){(3&n[2])===e&&im(n,t,e,i)}function Pd(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function im(n,t,e,i){const r=null!=i?i:-1,a=t.length-1;let o=0;for(let l=void 0!==i?65535&n[18]:0;l<a;l++)if("number"==typeof t[l+1]){if(o=t[l],null!=i&&o>=i)break}else t[l]<0&&(n[18]+=65536),(o<r||-1==r)&&(ew(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function ew(n,t,e,i){const s=e[i]<0,r=e[i+1],o=n[s?-e[i]:e[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{r.call(o)}finally{}}}else try{r.call(o)}finally{}}class Sn{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function en(n,t,e){const i=Rt(n);let s=0;for(;s<e.length;){const r=e[s];if("number"==typeof r){if(0!==r)break;s++;const a=e[s++],o=e[s++],l=e[s++];i?n.setAttribute(t,o,l,a):t.setAttributeNS(a,o,l)}else{const a=r,o=e[++s];Td(a)?i&&n.setProperty(t,a,o):i?n.setAttribute(t,a,o):t.setAttribute(a,o),s++}}return s}function nm(n){return 3===n||4===n||6===n}function Td(n){return 64===n.charCodeAt(0)}function ru(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?e=s:0===e||sm(n,e,s,null,-1===e||2===e?t[++i]:null)}}return n}function sm(n,t,e,i,s){let r=0,a=n.length;if(-1===t)a=-1;else for(;r<n.length;){const o=n[r++];if("number"==typeof o){if(o===t){a=-1;break}if(o>t){a=r-1;break}}}for(;r<n.length;){const o=n[r];if("number"==typeof o)break;if(o===e){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==a&&(n.splice(a,0,t),r=a+1),n.splice(r++,0,e),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}function rm(n){return-1!==n}function va(n){return 32767&n}function fo(n,t){let e=function(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let xd=!0;function po(n){const t=xd;return xd=n,t}let lm=0;function wn(n,t){const e=rr(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,kl(i.data,n),kl(t,null),kl(i.blueprint,null));const s=Ui(n,t),r=n.injectorIndex;if(rm(s)){const a=va(s),o=fo(s,t),l=o[1].data;for(let h=0;h<8;h++)t[r+h]=o[a+h]|l[a+h]}return t[r+8]=s,r}function kl(n,t){n.push(0,0,0,0,0,0,0,0,t)}function rr(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Ui(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,s=t;for(;null!==s;){const r=s[1],a=r.type;if(i=2===a?r.declTNode:1===a?s[6]:null,null===i)return-1;if(e++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function ou(n,t,e){!function(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(hl)&&(i=e[hl]),null==i&&(i=e[hl]=lm++);const s=255&i;t.data[n+(s>>5)]|=1<<s}(n,t,e)}function Md(n,t,e){if(e&Se.Optional)return n;Hc(t,"NodeInjector")}function go(n,t,e,i){if(e&Se.Optional&&void 0===i&&(i=null),0==(e&(Se.Self|Se.Host))){const s=n[9],r=er(void 0);try{return s?s.get(t,i,e&Se.Optional):Uc(t,i,e&Se.Optional)}finally{er(r)}}return Md(i,t,e)}function ar(n,t,e,i=Se.Default,s){if(null!==n){const r=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(hl)?n[hl]:void 0;return"number"==typeof t?t>=0?255&t:rw:t}(e);if("function"==typeof r){if(!tm(t,n,i))return i&Se.Host?Md(s,e,i):go(t,e,i,s);try{const a=r(i);if(null!=a||i&Se.Optional)return a;Hc(e)}finally{C()}}else if("number"==typeof r){let a=null,o=rr(n,t),l=-1,h=i&Se.Host?t[16][6]:null;for((-1===o||i&Se.SkipSelf)&&(l=-1===o?Ui(n,t):t[o+8],-1!==l&&Id(i,!1)?(a=t[1],o=va(l),t=fo(l,t)):o=-1);-1!==o;){const d=t[1];if(uu(r,o,d.data)){const m=lu(o,t,e,a,i,h);if(m!==Rd)return m}l=t[o+8],-1!==l&&Id(i,t[1].data[o+8]===h)&&uu(r,o,t)?(a=d,o=va(l),t=fo(l,t)):o=-1}}}return go(t,e,i,s)}const Rd={};function rw(){return new Gi(jt(),K())}function lu(n,t,e,i,s,r){const a=t[1],o=a.data[n+8],d=cu(o,a,e,null==i?ao(o)&&xd:i!=a&&0!=(3&o.type),s&Se.Host&&r===o);return null!==d?mo(t,a,d,o):Rd}function cu(n,t,e,i,s){const r=n.providerIndexes,a=t.data,o=1048575&r,l=n.directiveStart,d=r>>20,y=s?o+d:n.directiveEnd;for(let S=i?o:o+d;S<y;S++){const k=a[S];if(S<l&&e===k||S>=l&&k.type===e)return S}if(s){const S=a[l];if(S&&is(S)&&S.type===e)return l}return null}function mo(n,t,e,i){let s=n[e];const r=t.data;if(function(n){return n instanceof Sn}(s)){const a=s;a.resolving&&function(n,t){throw new Pr("200",`Circular dependency in DI detected for ${n}`)}(Vi(r[e]));const o=po(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?er(a.injectImpl):null;tm(n,i,Se.Default);try{s=n[e]=a.factory(void 0,r,n,i),t.firstCreatePass&&e>=i.directiveStart&&function(n,t,e){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(i){const a=yd(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),r&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,r))}(e,r[e],t)}finally{null!==l&&er(l),po(o),a.resolving=!1,C()}}return s}function uu(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Id(n,t){return!(n&Se.Self||n&Se.Host&&t)}class Gi{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return ar(this._tNode,this._lView,t,i,e)}}function tn(n){return tr(()=>{const t=n.prototype.constructor,e=t[es]||vo(t),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[es]||vo(s);if(r&&r!==e)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function vo(n){return Mg(n)?()=>{const t=vo(ge(n));return t&&t()}:ca(n)}const ti="__parameters__";function _a(n,t,e){return tr(()=>{const i=function(n){return function(...e){if(n){const i=n(...e);for(const s in i)this[s]=i[s]}}}(t);function s(...r){if(this instanceof s)return i.apply(this,r),this;const a=new s(...r);return o.annotation=a,o;function o(l,h,d){const m=l.hasOwnProperty(ti)?l[ti]:Object.defineProperty(l,ti,{value:[]})[ti];for(;m.length<=d;)m.push(null);return(m[d]=m[d]||[]).push(a),l}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class be{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ue({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function En(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),En(i,t)):t!==n&&t.push(i)}return t}function Es(n,t){n.forEach(e=>Array.isArray(e)?Es(e,t):t(e))}function Pl(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function wa(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function kn(n,t,e){let i=ka(n,t);return i>=0?n[1|i]=e:(i=~i,function(n,t,e,i){let s=n.length;if(s==t)n.push(e,i);else if(1===s)n.push(i,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Ea(n,t){const e=ka(n,t);if(e>=0)return n[1|e]}function ka(n,t){return function(n,t,e){let i=0,s=n.length>>e;for(;s!==i;){const r=i+(s-i>>1),a=n[r<<e];if(t===a)return r<<e;a>t?s=r:i=r+1}return~(s<<e)}(n,t,1)}const _o={},bo="__NG_DI_FLAG__",Ca="ngTempTokenPath",bm=/\n/gm,Dl="__source",Fd=ot({provide:String,useValue:ot});let Un;function Pa(n){const t=Un;return Un=n,t}function Sm(n,t=Se.Default){if(void 0===Un)throw new Error("inject() must be called from an injection context");return null===Un?Uc(n,void 0,t):Un.get(n,t&Se.Optional?null:void 0,t)}function H(n,t=Se.Default){return(ud||Sm)(ge(n),t)}const fw=H;function Da(n){const t=[];for(let e=0;e<n.length;e++){const i=ge(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let s,r=Se.Default;for(let a=0;a<i.length;a++){const o=i[a],l=Em(o);"number"==typeof l?-1===l?s=o.token:r|=l:s=o}t.push(H(s,r))}else t.push(H(i))}return t}function So(n,t){return n[bo]=t,n.prototype[bo]=t,n}function Em(n){return n[bo]}function km(n,t,e,i){const s=n[Ca];throw t[Dl]&&s.unshift(t[Dl]),n.message=function(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=He(t);if(Array.isArray(t))s=t.map(He).join(" -> ");else if("object"==typeof t){let r=[];for(let a in t)if(t.hasOwnProperty(a)){let o=t[a];r.push(a+":"+("string"==typeof o?JSON.stringify(o):He(o)))}s=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${s}]: ${n.replace(bm,"\n  ")}`}("\n"+n.message,s,e,i),n.ngTokenPath=s,n[Ca]=null,n}const gi=So(_a("Inject",n=>({token:n})),-1),li=So(_a("Optional"),8),Ta=So(_a("SkipSelf"),4);var nn=(()=>((nn=nn||{})[nn.Important=1]="Important",nn[nn.DashCase=2]="DashCase",nn))();const Wd="__ngContext__";function Ti(n,t){n[Wd]=t}function rs(n){const t=function(n){return n[Wd]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Ol(n,t){return undefined(n,t)}function Nl(n){const t=n[3];return $n(t)?t[3]:t}function Zd(n){return Om(n[13])}function Su(n){return Om(n[4])}function Om(n){for(;null!==n&&!$n(n);)n=n[4];return n}function Eo(n,t,e,i,s){if(null!=i){let r,a=!1;$n(i)?r=i:ts(i)&&(a=!0,i=i[0]);const o=ei(i);0===n&&null!==e?null==s?ko(t,e,o):Nr(t,e,o,s||null,!0):1===n&&null!==e?Nr(t,e,o,s||null,!0):2===n?function(n,t,e){const i=Bl(n,t);i&&function(n,t,e,i){Rt(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,o,a):3===n&&t.destroyNode(o),null!=r&&function(n,t,e,i,s){const r=e[7];r!==ei(e)&&Eo(t,n,i,r,s);for(let o=10;o<e.length;o++){const l=e[o];$l(l[1],l,n,t,i,r)}}(t,n,r,e,s)}}function ef(n,t,e){return Rt(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function Bm(n,t){const e=n[9],i=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Yc(s,-1)),e.splice(i,1)}function nf(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const s=i[17];null!==s&&s!==n&&Bm(s,i),t>0&&(n[e-1][4]=i[4]);const r=wa(n,10+t);!function(n,t){$l(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const a=r[19];null!==a&&a.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function $m(n,t){if(!(256&t[2])){const e=t[11];Rt(e)&&e.destroyNode&&$l(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return sf(n[1],n);for(;t;){let e=null;if(ts(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)ts(t)&&sf(t[1],t),t=t[3];null===t&&(t=n),ts(t)&&sf(t[1],t),e=t&&t[4]}t=e}}(t)}}function sf(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const s=t[e[i]];if(!(s instanceof Sn)){const r=e[i+1];if(Array.isArray(r))for(let a=0;a<r.length;a+=2){const o=s[r[a]],l=r[a+1];try{l.call(o)}finally{}}else try{r.call(s)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,i=t[7];let s=-1;if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const a=e[r+1],o="function"==typeof a?a(t):ei(t[a]),l=i[s=e[r+2]],h=e[r+3];"boolean"==typeof h?o.removeEventListener(e[r],l,h):h>=0?i[s=h]():i[s=-h].unsubscribe(),r+=2}else{const a=i[s=e[r+1]];e[r].call(a)}if(null!==i){for(let r=s+1;r<i.length;r++)i[r]();t[7]=null}}(n,t),1===t[1].type&&Rt(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&$n(t[3])){e!==t[3]&&Bm(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function Hm(n,t,e){return function(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===Kt.None||s===Kt.Emulated)return null}return Fe(i,e)}(n,t.parent,e)}function Nr(n,t,e,i,s){Rt(n)?n.insertBefore(t,e,i,s):t.insertBefore(e,i,s)}function ko(n,t,e){Rt(n)?n.appendChild(t,e):t.appendChild(e)}function Eu(n,t,e,i,s){null!==i?Nr(n,t,e,i,s):ko(n,t,e)}function Bl(n,t){return Rt(n)?n.parentNode(t):t.parentNode}let Lr=function(n,t,e){return 40&n.type?Fe(n,e):null};function Cu(n,t,e,i){const s=Hm(n,i,t),r=t[11],o=function(n,t,e){return Lr(n,t,e)}(i.parent||t[6],i,t);if(null!=s)if(Array.isArray(e))for(let l=0;l<e.length;l++)Eu(r,s,e[l],o,!1);else Eu(r,s,e,o,!1)}function Au(n,t){if(null!==t){const e=t.type;if(3&e)return Fe(t,n);if(4&e)return lf(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Au(n,i);{const s=n[t.index];return $n(s)?lf(-1,s):ei(s)}}if(32&e)return Ol(t,n)()||ei(n[t.index]);{const i=Um(n,t);return null!==i?Array.isArray(i)?i[0]:Au(Nl(n[16]),i):Au(n,t.next)}}return null}function Um(n,t){return null!==t?n[16][6].projection[t.projection]:null}function lf(n,t){const e=10+n+1;if(e<t.length){const i=t[e],s=i[1].firstChild;if(null!==s)return Au(i,s)}return t[7]}function uf(n,t,e,i,s,r,a){for(;null!=e;){const o=i[e.index],l=e.type;if(a&&0===t&&(o&&Ti(ei(o),i),e.flags|=4),64!=(64&e.flags))if(8&l)uf(n,t,e.child,i,s,r,!1),Eo(t,n,s,o,r);else if(32&l){const h=Ol(e,i);let d;for(;d=h();)Eo(t,n,s,d,r);Eo(t,n,s,o,r)}else 16&l?Gm(n,t,i,e,s,r):Eo(t,n,s,o,r);e=a?e.projectionNext:e.next}}function $l(n,t,e,i,s,r){uf(e,i,n.firstChild,t,s,r,!1)}function Gm(n,t,e,i,s,r){const a=e[16],l=a[6].projection[i.projection];if(Array.isArray(l))for(let h=0;h<l.length;h++)Eo(t,n,s,l[h],r);else uf(n,t,l,a[3],s,r,!0)}function hf(n,t,e){Rt(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function Pu(n,t,e){Rt(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function An(n){return n instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}function Mu(n){return n.ngOriginalError}function Xw(n,...t){n.error(...t)}class Na{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=this._findContext(t),s=function(n){return n&&n.ngErrorLogger||Xw}(t);s(this._console,"ERROR",t),e&&s(this._console,"ORIGINAL ERROR",e),i&&s(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?function(n){return n.ngDebugContext}(t)||this._findContext(Mu(t)):null}_findOriginalError(t){let e=t&&Mu(t);for(;e&&Mu(e);)e=Mu(e);return e||null}}const bf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ut))();function ls(n){return n instanceof Function?n():n}function Gl(n,t,e){let i=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=t.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}e=s+1}}const pv="ng-template";function rE(n,t,e){let i=0;for(;i<n.length;){let s=n[i++];if(e&&"class"===s){if(s=n[i],-1!==Gl(s.toLowerCase(),t,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function Ru(n){return 4===n.type&&n.value!==pv}function gv(n,t,e){return t===(4!==n.type||e?n.value:pv)}function aE(n,t,e){let i=4;const s=n.attrs||[],r=function(n){for(let t=0;t<n.length;t++)if(nm(n[t]))return t;return n.length}(s);let a=!1;for(let o=0;o<t.length;o++){const l=t[o];if("number"!=typeof l){if(!a)if(4&i){if(i=2|1&i,""!==l&&!gv(n,l,e)||""===l&&1===t.length){if(cs(i))return!1;a=!0}}else{const h=8&i?l:t[++o];if(8&i&&null!==n.attrs){if(!rE(n.attrs,h,e)){if(cs(i))return!1;a=!0}continue}const m=oE(8&i?"class":l,s,Ru(n),e);if(-1===m){if(cs(i))return!1;a=!0;continue}if(""!==h){let y;y=m>r?"":s[m+1].toLowerCase();const S=8&i?y:null;if(S&&-1!==Gl(S,h,0)||2&i&&h!==y){if(cs(i))return!1;a=!0}}}}else{if(!a&&!cs(i)&&!cs(l))return!1;if(a&&cs(l))continue;a=!1,i=l|1&i}}return cs(i)||a}function cs(n){return 0==(1&n)}function oE(n,t,e,i){if(null===t)return-1;let s=0;if(i||!e){let r=!1;for(;s<t.length;){const a=t[s];if(a===n)return s;if(3===a||6===a)r=!0;else{if(1===a||2===a){let o=t[++s];for(;"string"==typeof o;)o=t[++s];continue}if(4===a)break;if(0===a){s+=4;continue}}s+=r?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function mv(n,t,e=!1){for(let i=0;i<t.length;i++)if(aE(n,t[i],e))return!0;return!1}function vv(n,t){return n?":not("+t.trim()+")":t}function dE(n){let t=n[0],e=1,i=2,s="",r=!1;for(;e<n.length;){let a=n[e];if("string"==typeof a)if(2&i){const o=n[++e];s+="["+a+(o.length>0?'="'+o+'"':"")+"]"}else 8&i?s+="."+a:4&i&&(s+=" "+a);else""!==s&&!cs(a)&&(t+=vv(r,s),s=""),i=a,r=r||!cs(i);e++}return""!==s&&(t+=vv(r,s)),t}const me={};function F(n){yv(rt(),K(),ke()+n,oi())}function yv(n,t,e,i){if(!i)if(3==(3&t[2])){const r=n.preOrderCheckHooks;null!==r&&Hn(t,r,e)}else{const r=n.preOrderHooks;null!==r&&su(t,r,0,e)}Rr(e)}function Ds(n,t){return n<<17|t<<2}function _e(n){return n>>17&32767}function Ht(n){return 2|n}function lr(n){return(131068&n)>>2}function Ts(n,t){return-131069&n|t<<2}function Ef(n){return 1|n}function Pv(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i],r=e[i+1];if(-1!==r){const a=n.data[r];Ed(s),a.contentQueries(2,t[r],r)}}}function Wl(n,t,e,i,s,r,a,o,l,h){const d=t.blueprint.slice();return d[0]=s,d[2]=140|i,vl(d),d[3]=d[15]=n,d[8]=e,d[10]=a||n&&n[10],d[11]=o||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=h||n&&n[9]||null,d[6]=r,d[16]=2==t.type?n[16]:d,d}function Po(n,t,e,i,s){let r=n.data[t];if(null===r)r=function(n,t,e,i,s){const r=yl(),a=Xc(),l=n.data[t]=function(n,t,e,i,s,r){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?r:r&&r.parent,e,t,i,s);return null===n.firstChild&&(n.firstChild=l),null!==r&&(a?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l)),l}(n,t,e,i,s),Ae.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=e,r.value=i,r.attrs=s;const a=function(){const n=Ae.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();r.injectorIndex=null===a?-1:a.injectorIndex}return ws(r,!0),r}function Do(n,t,e,i){if(0===e)return-1;const s=t.length;for(let r=0;r<e;r++)t.push(i),n.blueprint.push(i),n.data.push(null);return s}function zl(n,t,e){tu(t);try{const i=n.viewQuery;null!==i&&Vf(1,i,e);const s=n.template;null!==s&&Dv(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Pv(n,t),n.staticViewQueries&&Vf(2,n.viewQuery,e);const r=n.components;null!==r&&function(n,t){for(let e=0;e<t.length;e++)qE(n,t[e])}(t,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,sr()}}function To(n,t,e,i){const s=t[2];if(256==(256&s))return;tu(t);const r=oi();try{vl(t),function(n){Ae.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Dv(n,t,e,2,i);const a=3==(3&s);if(!r)if(a){const h=n.preOrderCheckHooks;null!==h&&Hn(t,h,null)}else{const h=n.preOrderHooks;null!==h&&su(t,h,0,null),Pd(t,0)}if(function(n){for(let t=Zd(n);null!==t;t=Su(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const s=e[i],r=s[3];0==(1024&s[2])&&Yc(r,1),s[2]|=1024}}}(t),function(n){for(let t=Zd(n);null!==t;t=Su(t))for(let e=10;e<t.length;e++){const i=t[e],s=i[1];bd(i)&&To(s,i,s.template,i[8])}}(t),null!==n.contentQueries&&Pv(n,t),!r)if(a){const h=n.contentCheckHooks;null!==h&&Hn(t,h)}else{const h=n.contentHooks;null!==h&&su(t,h,1),Pd(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)Rr(~s);else{const r=s,a=e[++i],o=e[++i];_l(a,r),o(2,t[r])}}}finally{Rr(-1)}}(n,t);const o=n.components;null!==o&&function(n,t){for(let e=0;e<t.length;e++)HE(n,t[e])}(t,o);const l=n.viewQuery;if(null!==l&&Vf(2,l,i),!r)if(a){const h=n.viewCheckHooks;null!==h&&Hn(t,h)}else{const h=n.viewHooks;null!==h&&su(t,h,2),Pd(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Yc(t[3],-1))}finally{sr()}}function CE(n,t,e,i){const s=t[10],r=!oi(),a=Yg(t);try{r&&!a&&s.begin&&s.begin(),a&&zl(n,t,i),To(n,t,e,i)}finally{r&&!a&&s.end&&s.end()}}function Dv(n,t,e,i,s){const r=ke(),a=2&i;try{Rr(-1),a&&t.length>20&&yv(n,t,20,oi()),e(i,s)}finally{Rr(r)}}function Tv(n,t,e){if(pl(t)){const s=t.directiveEnd;for(let r=t.directiveStart;r<s;r++){const a=n.data[r];a.contentQueries&&a.contentQueries(1,e[r],r)}}}function Kl(n,t,e){!co()||(function(n,t,e,i){const s=e.directiveStart,r=e.directiveEnd;n.firstCreatePass||wn(e,t),Ti(i,t);const a=e.initialInputs;for(let o=s;o<r;o++){const l=n.data[o],h=is(l);h&&LE(t,e,l);const d=mo(t,n,o,e);Ti(d,t),null!==a&&BE(0,o-s,d,l,0,a),h&&(_n(e.index,t)[8]=d)}}(n,t,e,Fe(e,t)),128==(128&e.flags)&&function(n,t,e){const i=e.directiveStart,s=e.directiveEnd,a=e.index,o=Ae.lFrame.currentDirectiveIndex;try{Rr(a);for(let l=i;l<s;l++){const h=n.data[l],d=t[l];uo(l),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&$v(h,d)}}finally{Rr(-1),uo(o)}}(n,t,e))}function xf(n,t,e=Fe){const i=t.localNames;if(null!==i){let s=t.index+1;for(let r=0;r<i.length;r+=2){const a=i[r+1],o=-1===a?e(t,n):n[a];n[s++]=o}}}function Lu(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Bu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Bu(n,t,e,i,s,r,a,o,l,h){const d=20+i,m=d+s,y=function(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:me);return e}(d,m),S="function"==typeof h?h():h;return y[1]={type:n,blueprint:y,template:e,queries:null,viewQuery:o,declTNode:t,data:y.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:S,incompleteFirstPass:!1}}function Mv(n,t,e,i){const s=qv(t);null===e?s.push(i):(s.push(e),n.firstCreatePass&&Vu(n).push(i,s.length-1))}function Rv(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,s):e[i]=[t,s]}return e}function Pn(n,t,e,i,s,r,a,o){const l=Fe(t,e);let d,h=t.inputs;!o&&null!=h&&(d=h[i])?(Uv(n,e,d,i,s),ao(t)&&function(n,t){const e=_n(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=a?a(s,t.value||"",i):s,Rt(r)?r.setProperty(l,i,s):Td(i)||(l.setProperty?l.setProperty(i,s):l[i]=s))}function Mf(n,t,e,i){let s=!1;if(co()){const r=function(n,t,e){const i=n.directiveRegistry;let s=null;if(i)for(let r=0;r<i.length;r++){const a=i[r];mv(e,a.selectors,!1)&&(s||(s=[]),ou(wn(e,t),n,a.type),is(a)?(Vv(n,e),s.unshift(a)):s.push(a))}return s}(n,t,e),a=null===i?null:{"":-1};if(null!==r){s=!0,Rf(e,n.data.length,r.length);for(let d=0;d<r.length;d++){const m=r[d];m.providersResolver&&m.providersResolver(m)}let o=!1,l=!1,h=Do(n,t,r.length,null);for(let d=0;d<r.length;d++){const m=r[d];e.mergedAttrs=ru(e.mergedAttrs,m.hostAttrs),If(n,e,t,h,m),NE(h,m,a),null!==m.contentQueries&&(e.flags|=8),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(e.flags|=128);const y=m.type.prototype;!o&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),o=!0),!l&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),h++}!function(n,t){const i=t.directiveEnd,s=n.data,r=t.attrs,a=[];let o=null,l=null;for(let h=t.directiveStart;h<i;h++){const d=s[h],m=d.inputs,y=null===r||Ru(t)?null:$E(m,r);a.push(y),o=Rv(m,h,o),l=Rv(d.outputs,h,l)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=o,t.outputs=l}(n,e)}a&&function(n,t,e){if(t){const i=n.localNames=[];for(let s=0;s<t.length;s+=2){const r=e[t[s+1]];if(null==r)throw new Pr("301",`Export of name '${t[s+1]}' not found!`);i.push(t[s],r)}}}(e,i,a)}return e.mergedAttrs=ru(e.mergedAttrs,e.attrs),s}function Bv(n,t,e,i,s,r){const a=r.hostBindings;if(a){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const l=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=l&&o.push(l),o.push(i,s,a)}}function $v(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Vv(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function NE(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;is(t)&&(e[""]=n)}}function Rf(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function If(n,t,e,i,s){n.data[i]=s;const r=s.factory||(s.factory=ca(s.type)),a=new Sn(r,is(s),null);n.blueprint[i]=a,e[i]=a,Bv(n,t,0,i,Do(n,e,s.hostVars,me),s)}function LE(n,t,e){const i=Fe(t,n),s=Lu(e),r=n[10],a=$u(n,Wl(n,s,null,e.onPush?64:16,i,t,r,r.createRenderer(i,e),null,null));n[t.index]=a}function Ms(n,t,e,i,s,r){const a=Fe(n,t);!function(n,t,e,i,s,r,a){if(null==r)Rt(n)?n.removeAttribute(t,s,e):t.removeAttribute(s);else{const o=null==a?Me(r):a(r,i||"",s);Rt(n)?n.setAttribute(t,s,o,e):e?t.setAttributeNS(e,s,o):t.setAttribute(s,o)}}(t[11],a,r,n.value,e,i,s)}function BE(n,t,e,i,s,r){const a=r[t];if(null!==a){const o=i.setInput;for(let l=0;l<a.length;){const h=a[l++],d=a[l++],m=a[l++];null!==o?i.setInput(e,m,h,d):e[d]=m}}}function $E(n,t){let e=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,n[s],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Fv(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function HE(n,t){const e=_n(t,n);if(bd(e)){const i=e[1];80&e[2]?To(i,e,i.template,e[8]):e[5]>0&&Nf(e)}}function Nf(n){for(let i=Zd(n);null!==i;i=Su(i))for(let s=10;s<i.length;s++){const r=i[s];if(1024&r[2]){const a=r[1];To(a,r,a.template,r[8])}else r[5]>0&&Nf(r)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const s=_n(e[i],n);bd(s)&&s[5]>0&&Nf(s)}}function qE(n,t){const e=_n(t,n),i=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),zl(i,e,e[8])}function $u(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Lf(n){for(;n;){n[2]|=64;const t=Nl(n);if(gd(n)&&!t)return n;n=t}return null}function $f(n,t,e){const i=t[10];i.begin&&i.begin();try{To(n,t,n.template,e)}catch(s){throw Hf(t,s),s}finally{i.end&&i.end()}}function Hv(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=rs(e),s=i[1];CE(s,i,s.template,e)}}(n[8])}function Vf(n,t,e){Ed(0),t(n,e)}const zE=(()=>Promise.resolve(null))();function qv(n){return n[7]||(n[7]=[])}function Vu(n){return n.cleanup||(n.cleanup=[])}function Hf(n,t){const e=n[9],i=e?e.get(Na,null):null;i&&i.handleError(t)}function Uv(n,t,e,i,s){for(let r=0;r<e.length;){const a=e[r++],o=e[r++],l=t[a],h=n.data[a];null!==h.setInput?h.setInput(l,s,i,o):l[o]=s}}function cr(n,t,e){const i=ha(t,n);!function(n,t,e){Rt(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function Fu(n,t,e){let i=e?n.styles:null,s=e?n.classes:null,r=0;if(null!==t)for(let a=0;a<t.length;a++){const o=t[a];"number"==typeof o?r=o:1==r?s=nd(s,o):2==r&&(i=nd(i,o+": "+t[++a]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=s:n.classesWithoutHost=s}const Mo=new be("INJECTOR",-1);class zi{get(t,e=_o){if(e===_o){const i=new Error(`NullInjectorError: No provider for ${He(t)}!`);throw i.name="NullInjectorError",i}return e}}const Ba=new be("Set Injector scope."),Ql={},QE={};let Uf;function Gv(){return void 0===Uf&&(Uf=new zi),Uf}function jv(n,t=null,e=null,i){return new jf(n,e,t||Gv(),i)}class jf{constructor(t,e,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&Es(e,o=>this.processProvider(o,t,e)),Es([t],o=>this.processInjectorType(o,[],r)),this.records.set(Mo,$a(void 0,this));const a=this.records.get(Ba);this.scope=null!=a?a.value:null,this.source=s||("object"==typeof t?null:He(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=_o,i=Se.Default){this.assertNotDestroyed();const s=Pa(this),r=er(void 0);try{if(!(i&Se.SkipSelf)){let o=this.records.get(t);if(void 0===o){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof be}(t)&&Xs(t);o=l&&this.injectableDefInScope(l)?$a(Wf(t),Ql):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(i&Se.Self?Gv():this.parent).get(t,e=i&Se.Optional&&e===_o?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Ca]=a[Ca]||[]).unshift(He(t)),s)throw a;return km(a,t,"R3InjectorError",this.source)}throw a}finally{er(r),Pa(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,s)=>t.push(He(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=ge(t)))return!1;let s=od(t);const r=null==s&&t.ngModule||void 0,a=void 0===r?t:r,o=-1!==i.indexOf(a);if(void 0!==r&&(s=od(r)),null==s)return!1;if(null!=s.imports&&!o){let d;i.push(a);try{Es(s.imports,m=>{this.processInjectorType(m,e,i)&&(void 0===d&&(d=[]),d.push(m))})}finally{}if(void 0!==d)for(let m=0;m<d.length;m++){const{ngModule:y,providers:S}=d[m];Es(S,k=>this.processProvider(k,y,S||yt))}}this.injectorDefTypes.add(a);const l=ca(a)||(()=>new a);this.records.set(a,$a(l,Ql));const h=s.providers;if(null!=h&&!o){const d=t;Es(h,m=>this.processProvider(m,d,h))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,i){let s=Vr(t=ge(t))?t:ge(t&&t.provide);const r=function(n,t,e){return zv(n)?$a(void 0,n.useValue):$a(Wv(n),Ql)}(t);if(Vr(t)||!0!==t.multi)this.records.get(s);else{let a=this.records.get(s);a||(a=$a(void 0,Ql,!0),a.factory=()=>Da(a.multi),this.records.set(s,a)),s=t,a.multi.push(t)}this.records.set(s,r)}hydrate(t,e){return e.value===Ql&&(e.value=QE,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ge(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Wf(n){const t=Xs(n),e=null!==t?t.factory:ca(n);if(null!==e)return e;if(n instanceof be)throw new Error(`Token ${He(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const i=function(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?");throw new Error(`Can't resolve all parameters for ${He(n)}: (${i.join(", ")}).`)}const e=function(n){const t=n&&(n[io]||n[cd]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function Wv(n,t,e){let i;if(Vr(n)){const s=ge(n);return ca(s)||Wf(s)}if(zv(n))i=()=>ge(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Da(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>H(ge(n.useExisting));else{const s=ge(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return ca(s)||Wf(s);i=()=>new s(...Da(n.deps))}return i}function $a(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function zv(n){return null!==n&&"object"==typeof n&&Fd in n}function Vr(n){return"function"==typeof n}const Kv=function(n,t,e){return function(n,t=null,e=null,i){const s=jv(n,t,e,i);return s._resolveInjectorDefTypes(),s}({name:e},t,n,e)};let At=(()=>{class n{static create(e,i){return Array.isArray(e)?Kv(e,i,""):Kv(e.providers,e.parent,e.name||"")}}return n.THROW_IF_NOT_FOUND=_o,n.NULL=new zi,n.\u0275prov=ue({token:n,providedIn:"any",factory:()=>H(Mo)}),n.__NG_ELEMENT_ID__=-1,n})();function vq(n,t){nu(rs(n)[1],jt())}function Ot(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let s;if(is(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(e){i.push(s);const a=n;a.inputs=ck(n.inputs),a.declaredInputs=ck(n.declaredInputs),a.outputs=ck(n.outputs);const o=s.hostBindings;o&&Sq(n,o);const l=s.viewQuery,h=s.contentQueries;if(l&&_q(n,l),h&&bq(n,h),Fc(n.inputs,s.inputs),Fc(n.declaredInputs,s.declaredInputs),Fc(n.outputs,s.outputs),is(s)&&s.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let a=0;a<r.length;a++){const o=r[a];o&&o.ngInherit&&o(n),o===Ot&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=t+=s.hostVars,s.hostAttrs=ru(s.hostAttrs,e=ru(e,s.hostAttrs))}}(i)}function ck(n){return n===no?{}:n===yt?[]:n}function _q(n,t){const e=n.viewQuery;n.viewQuery=e?(i,s)=>{t(i,s),e(i,s)}:t}function bq(n,t){const e=n.contentQueries;n.contentQueries=e?(i,s,r)=>{t(i,s,r),e(i,s,r)}:t}function Sq(n,t){const e=n.hostBindings;n.hostBindings=e?(i,s)=>{t(i,s),e(i,s)}:t}let Xv=null;function Hu(){if(!Xv){const n=ut.Symbol;if(n&&n.iterator)Xv=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Xv=i)}}}return Xv}class hr{constructor(t){this.wrapped=t}static wrap(t){return new hr(t)}static unwrap(t){return hr.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof hr}}function Jf(n){return!!uk(n)&&(Array.isArray(n)||!(n instanceof Map)&&Hu()in n)}function uk(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Hr(n,t,e){return n[t]=e}function on(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Yl(n,t,e,i){const s=on(n,t,e);return on(n,t+1,i)||s}function dr(n,t,e,i){const s=K();return on(s,xr(),t)&&(rt(),Ms(Ft(),s,n,t,e,i)),dr}function Uu(n,t,e,i){return on(n,xr(),e)?t+Me(e)+i:me}function Te(n,t,e,i,s,r,a,o){const l=K(),h=rt(),d=n+20,m=h.firstCreatePass?function(n,t,e,i,s,r,a,o,l){const h=t.consts,d=Po(t,n,4,a||null,Hi(h,o));Mf(t,e,d,Hi(h,l)),nu(t,d);const m=d.tViews=Bu(2,d,i,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h);return null!==t.queries&&(t.queries.template(t,d),m.queries=t.queries.embeddedTView(d)),d}(d,h,l,t,e,i,s,r,a):h.data[d];ws(m,!1);const y=l[11].createComment("");Cu(h,l,y,m),Ti(y,l),$u(l,l[d]=Fv(y,l,y,m)),gl(m)&&Kl(h,l,m),null!=a&&xf(l,m,o)}function $(n,t=Se.Default){const e=K();return null===e?H(n,t):ar(jt(),e,ge(n),t)}function z(n,t,e){const i=K();return on(i,xr(),t)&&Pn(rt(),Ft(),i,n,t,i[11],e,!1),z}function gk(n,t,e,i,s){const a=s?"class":"style";Uv(n,e,t.inputs[a],a,i)}function p(n,t,e,i){const s=K(),r=rt(),a=20+n,o=s[11],l=s[a]=ef(o,t,Ae.lFrame.currentNamespace),h=r.firstCreatePass?function(n,t,e,i,s,r,a){const o=t.consts,h=Po(t,n,2,s,Hi(o,r));return Mf(t,e,h,Hi(o,a)),null!==h.attrs&&Fu(h,h.attrs,!1),null!==h.mergedAttrs&&Fu(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(a,r,s,0,t,e,i):r.data[a];ws(h,!0);const d=h.mergedAttrs;null!==d&&en(o,l,d);const m=h.classes;null!==m&&Pu(o,l,m);const y=h.styles;null!==y&&hf(o,l,y),64!=(64&h.flags)&&Cu(r,s,l,h),0===Ae.lFrame.elementDepthCount&&Ti(l,s),Ae.lFrame.elementDepthCount++,gl(h)&&(Kl(r,s,h),Tv(r,h,s)),null!==i&&xf(s,h)}function g(){let n=jt();Xc()?Sd():(n=n.parent,ws(n,!1));const t=n;Ae.lFrame.elementDepthCount--;const e=rt();e.firstCreatePass&&(nu(e,n),pl(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&gk(e,t,K(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&gk(e,t,K(),t.stylesWithoutHost,!1)}function ie(n,t,e,i){p(n,t,e,i),g()}function iy(n,t,e){const i=K(),s=rt(),r=n+20,a=s.firstCreatePass?function(n,t,e,i,s){const r=t.consts,a=Hi(r,i),o=Po(t,n,8,"ng-container",a);return null!==a&&Fu(o,a,!0),Mf(t,e,o,Hi(r,s)),null!==t.queries&&t.queries.elementStart(t,o),o}(r,s,i,t,e):s.data[r];ws(a,!0);const o=i[r]=i[11].createComment("");Cu(s,i,o,a),Ti(o,i),gl(a)&&(Kl(s,i,a),Tv(s,a,i)),null!=e&&xf(i,a)}function ny(){let n=jt();const t=rt();Xc()?Sd():(n=n.parent,ws(n,!1)),t.firstCreatePass&&(nu(t,n),pl(n)&&t.queries.elementEnd(n))}function qr(){return K()}function sy(n){return!!n&&"function"==typeof n.then}const mk=function(n){return!!n&&"function"==typeof n.subscribe};function Ue(n,t,e,i){const s=K(),r=rt(),a=jt();return function(n,t,e,i,s,r,a,o){const l=gl(i),d=n.firstCreatePass&&Vu(n),m=t[8],y=qv(t);let S=!0;if(3&i.type||o){const D=Fe(i,t),N=o?o(D):D,I=y.length,U=o?O=>o(ei(O[i.index])):i.index;if(Rt(e)){let O=null;if(!o&&l&&(O=function(n,t,e,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const a=s[r];if(a===e&&s[r+1]===i){const o=t[7],l=s[r+2];return o.length>l?o[l]:null}"string"==typeof a&&(r+=2)}return null}(n,t,s,i.index)),null!==O)(O.__ngLastListenerFn__||O).__ngNextListenerFn__=r,O.__ngLastListenerFn__=r,S=!1;else{r=vk(i,t,m,r,!1);const G=e.listen(N,s,r);y.push(r,G),d&&d.push(s,U,I,I+1)}}else r=vk(i,t,m,r,!0),N.addEventListener(s,r,a),y.push(r),d&&d.push(s,U,I,a)}else r=vk(i,t,m,r,!1);const k=i.outputs;let T;if(S&&null!==k&&(T=k[s])){const D=T.length;if(D)for(let N=0;N<D;N+=2){const Y=t[T[N]][T[N+1]].subscribe(r),oe=y.length;y.push(r,Y),d&&d.push(s,i.index,oe,-(oe+1))}}}(r,s,s[11],a,n,t,!!e,i),Ue}function FN(n,t,e,i){try{return!1!==e(i)}catch(s){return Hf(n,s),!1}}function vk(n,t,e,i,s){return function r(a){if(a===Function)return i;const o=2&n.flags?_n(n.index,t):t;0==(32&t[2])&&Lf(o);let l=FN(t,0,i,a),h=r.__ngNextListenerFn__;for(;h;)l=FN(t,0,h,a)&&l,h=h.__ngNextListenerFn__;return s&&!1===l&&(a.preventDefault(),a.returnValue=!1),l}}function Ge(n=1){return function(n){return(Ae.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,Ae.lFrame.contextLView))[8]}(n)}function Xf(n,t,e,i,s){const r=K(),a=Uu(r,t,e,i);return a!==me&&Pn(rt(),Ft(),r,n,a,r[11],s,!1),Xf}function ZN(n,t,e,i,s){const r=n[e+1],a=null===t;let o=i?_e(r):lr(r),l=!1;for(;0!==o&&(!1===l||a);){const d=n[o+1];aU(n[o],t)&&(l=!0,n[o+1]=i?Ef(d):Ht(d)),o=i?_e(d):lr(d)}l&&(n[e+1]=i?Ht(r):Ef(r))}function aU(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ka(n,t)>=0}const wi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function XN(n){return n.substring(wi.key,wi.keyEnd)}function eL(n,t){const e=wi.textEnd;return e===t?-1:(t=wi.keyEnd=function(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,wi.key=t,e),Zu(n,t,e))}function Zu(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function ep(n,t,e){return fr(n,t,e,!1),ep}function Jl(n,t){return fr(n,t,null,!0),Jl}function Os(n){!function(n,t,e,i){const s=rt(),r=bn(2);s.firstUpdatePass&&aL(s,null,r,i);const a=K();if(e!==me&&on(a,r,e)){const o=s.data[ke()];if(uL(o,i)&&!rL(s,r)){let l=i?o.classesWithoutHost:o.stylesWithoutHost;null!==l&&(e=nd(l,e||"")),gk(s,o,a,e,i)}else!function(n,t,e,i,s,r,a,o){s===me&&(s=yt);let l=0,h=0,d=0<s.length?s[0]:null,m=0<r.length?r[0]:null;for(;null!==d||null!==m;){const y=l<s.length?s[l+1]:void 0,S=h<r.length?r[h+1]:void 0;let T,k=null;d===m?(l+=2,h+=2,y!==S&&(k=m,T=S)):null===m||null!==d&&d<m?(l+=2,k=d):(h+=2,k=m,T=S),null!==k&&lL(n,t,e,i,k,T,a,o),d=l<s.length?s[l]:null,m=h<r.length?r[h]:null}}(s,o,a,a[11],a[r+1],a[r+1]=function(n,t,e){if(null==e||""===e)return yt;const i=[],s=An(e);if(Array.isArray(s))for(let r=0;r<s.length;r++)n(i,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&n(i,r,s[r]);else"string"==typeof s&&t(i,s);return i}(n,t,e),i,r)}}(kn,Gr,n,!0)}function Gr(n,t){for(let e=function(n){return function(n){wi.key=0,wi.keyEnd=0,wi.value=0,wi.valueEnd=0,wi.textEnd=n.length}(n),eL(n,Zu(n,0,wi.textEnd))}(t);e>=0;e=eL(t,e))kn(n,XN(t),!0)}function fr(n,t,e,i){const s=K(),r=rt(),a=bn(2);r.firstUpdatePass&&aL(r,n,a,i),t!==me&&on(s,a,t)&&lL(r,r.data[ke()],s,s[11],n,s[a+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=He(An(n)))),n}(t,e),i,a)}function rL(n,t){return t>=n.expandoStartIndex}function aL(n,t,e,i){const s=n.data;if(null===s[e+1]){const r=s[ke()],a=rL(n,e);uL(r,i)&&null===t&&!a&&(t=!1),t=function(n,t,e,i){const s=function(n){const t=Ae.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let r=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(e=tp(e=yk(null,n,t,e,i),t.attrs,i),r=null);else{const a=t.directiveStylingLast;if(-1===a||n[a]!==s)if(e=yk(s,n,t,e,i),null===r){let l=function(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==lr(i))return n[_e(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=yk(null,n,t,l[1],i),l=tp(l,t.attrs,i),function(n,t,e,i){n[_e(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else r=function(n,t,e){let i;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)i=tp(i,n[r].hostAttrs,e);return tp(i,t.attrs,e)}(n,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),e}(s,r,t,i),function(n,t,e,i,s,r){let a=r?t.classBindings:t.styleBindings,o=_e(a),l=lr(a);n[i]=e;let d,h=!1;if(Array.isArray(e)){const m=e;d=m[1],(null===d||ka(m,d)>0)&&(h=!0)}else d=e;if(s)if(0!==l){const y=_e(n[o+1]);n[i+1]=Ds(y,o),0!==y&&(n[y+1]=Ts(n[y+1],i)),n[o+1]=function(n,t){return 131071&n|t<<17}(n[o+1],i)}else n[i+1]=Ds(o,0),0!==o&&(n[o+1]=Ts(n[o+1],i)),o=i;else n[i+1]=Ds(l,0),0===o?o=i:n[l+1]=Ts(n[l+1],i),l=i;h&&(n[i+1]=Ht(n[i+1])),ZN(n,d,i,!0),ZN(n,d,i,!1),function(n,t,e,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof t&&ka(r,t)>=0&&(e[i+1]=Ef(e[i+1]))}(t,d,n,i,r),a=Ds(o,l),r?t.classBindings=a:t.styleBindings=a}(s,r,t,e,a,i)}}function yk(n,t,e,i,s){let r=null;const a=e.directiveEnd;let o=e.directiveStylingLast;for(-1===o?o=e.directiveStart:o++;o<a&&(r=t[o],i=tp(i,r.hostAttrs,s),r!==n);)o++;return null!==n&&(e.directiveStylingLast=o),i}function tp(n,t,e){const i=e?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const a=t[r];"number"==typeof a?s=a:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),kn(n,a,!!e||t[++r]))}return void 0===n?null:n}function lL(n,t,e,i,s,r,a,o){if(!(3&t.type))return;const l=n.data,h=l[o+1];ry(function(n){return 1==(1&n)}(h)?cL(l,t,e,s,lr(h),a):void 0)||(ry(r)||function(n){return 2==(2&n)}(h)&&(r=cL(l,null,e,s,o,a)),function(n,t,e,i,s){const r=Rt(n);if(t)s?r?n.addClass(e,i):e.classList.add(i):r?n.removeClass(e,i):e.classList.remove(i);else{let a=-1===i.indexOf("-")?void 0:nn.DashCase;if(null==s)r?n.removeStyle(e,i,a):e.style.removeProperty(i);else{const o="string"==typeof s&&s.endsWith("!important");o&&(s=s.slice(0,-10),a|=nn.Important),r?n.setStyle(e,i,s,a):e.style.setProperty(i,s,o?"important":"")}}}(i,a,ha(ke(),e),s,r))}function cL(n,t,e,i,s,r){const a=null===t;let o;for(;s>0;){const l=n[s],h=Array.isArray(l),d=h?l[1]:l,m=null===d;let y=e[s+1];y===me&&(y=m?yt:void 0);let S=m?Ea(y,i):d===i?y:void 0;if(h&&!ry(S)&&(S=Ea(l,i)),ry(S)&&(o=S,a))return o;const k=n[s+1];s=a?_e(k):lr(k)}if(null!==t){let l=r?t.residualClasses:t.residualStyles;null!=l&&(o=Ea(l,i))}return o}function ry(n){return void 0!==n}function uL(n,t){return 0!=(n.flags&(t?16:32))}function w(n,t=""){const e=K(),i=rt(),s=n+20,r=i.firstCreatePass?Po(i,s,1,t,null):i.data[s],a=e[s]=function(n,t){return Rt(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Cu(i,e,a,r),ws(r,!1)}function Ri(n){return Ei("",n,""),Ri}function Ei(n,t,e){const i=K(),s=Uu(i,n,t,e);return s!==me&&cr(i,ke(),s),Ei}function ip(n,t,e,i,s){const r=K(),a=function(n,t,e,i,s,r){const o=Yl(n,ns(),e,s);return bn(2),o?t+Me(e)+i+Me(s)+r:me}(r,n,t,e,i,s);return a!==me&&cr(r,ke(),a),ip}const Zl=void 0;var FU=["en",[["a","p"],["AM","PM"],Zl],[["AM","PM"],Zl,Zl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zl,"{1} 'at' {0}",Zl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===e?1:5}];let Xu={};function xL(n){return n in Xu||(Xu[n]=ut.ng&&ut.ng.common&&ut.ng.common.locales&&ut.ng.common.locales[n]),Xu[n]}var ae=(()=>((ae=ae||{})[ae.LocaleId=0]="LocaleId",ae[ae.DayPeriodsFormat=1]="DayPeriodsFormat",ae[ae.DayPeriodsStandalone=2]="DayPeriodsStandalone",ae[ae.DaysFormat=3]="DaysFormat",ae[ae.DaysStandalone=4]="DaysStandalone",ae[ae.MonthsFormat=5]="MonthsFormat",ae[ae.MonthsStandalone=6]="MonthsStandalone",ae[ae.Eras=7]="Eras",ae[ae.FirstDayOfWeek=8]="FirstDayOfWeek",ae[ae.WeekendRange=9]="WeekendRange",ae[ae.DateFormat=10]="DateFormat",ae[ae.TimeFormat=11]="TimeFormat",ae[ae.DateTimeFormat=12]="DateTimeFormat",ae[ae.NumberSymbols=13]="NumberSymbols",ae[ae.NumberFormats=14]="NumberFormats",ae[ae.CurrencyCode=15]="CurrencyCode",ae[ae.CurrencySymbol=16]="CurrencySymbol",ae[ae.CurrencyName=17]="CurrencyName",ae[ae.Currencies=18]="Currencies",ae[ae.Directionality=19]="Directionality",ae[ae.PluralCase=20]="PluralCase",ae[ae.ExtraData=21]="ExtraData",ae))();const ay="en-US";let ML=ay;function _k(n){mn(n,"Expected localeId to be defined"),"string"==typeof n&&(ML=n.toLowerCase().replace(/_/g,"-"))}function wk(n,t,e,i,s){if(n=ge(n),Array.isArray(n))for(let r=0;r<n.length;r++)wk(n[r],t,e,i,s);else{const r=rt(),a=K();let o=Vr(n)?n:ge(n.provide),l=Wv(n);const h=jt(),d=1048575&h.providerIndexes,m=h.directiveStart,y=h.providerIndexes>>20;if(Vr(n)||!n.multi){const S=new Sn(l,s,$),k=kk(o,t,s?d:d+y,m);-1===k?(ou(wn(h,a),r,o),Ek(r,n,t.length),t.push(o),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(S),a.push(S)):(e[k]=S,a[k]=S)}else{const S=kk(o,t,d+y,m),k=kk(o,t,d,d+y),T=S>=0&&e[S],D=k>=0&&e[k];if(s&&!D||!s&&!T){ou(wn(h,a),r,o);const N=function(n,t,e,i,s){const r=new Sn(n,e,$);return r.multi=[],r.index=t,r.componentProviders=0,t2(r,s,i&&!e),r}(s?BG:LG,e.length,s,i,l);!s&&D&&(e[k].providerFactory=N),Ek(r,n,t.length,0),t.push(o),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(N),a.push(N)}else Ek(r,n,S>-1?S:k,t2(e[s?k:S],l,!s&&i));!s&&i&&D&&e[k].componentProviders++}}}function Ek(n,t,e,i){const s=Vr(t);if(s||function(n){return!!n.useClass}(t)){const a=(t.useClass||t).prototype.ngOnDestroy;if(a){const o=n.destroyHooks||(n.destroyHooks=[]);if(!s&&t.multi){const l=o.indexOf(e);-1===l?o.push(e,[i,a]):o[l+1].push(i,a)}else o.push(e,a)}}}function t2(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function kk(n,t,e,i){for(let s=e;s<i;s++)if(t[s]===n)return s;return-1}function LG(n,t,e,i){return Ck(this.multi,[])}function BG(n,t,e,i){const s=this.multi;let r;if(this.providerFactory){const a=this.providerFactory.componentProviders,o=mo(e,e[1],this.providerFactory.index,i);r=o.slice(0,a),Ck(s,r);for(let l=a;l<o.length;l++)r.push(o[l])}else r=[],Ck(s,r);return r}function Ck(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function lt(n,t=[]){return e=>{e.providersResolver=(i,s)=>function(n,t,e){const i=rt();if(i.firstCreatePass){const s=is(n);wk(e,i.data,i.blueprint,s,!0),wk(t,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,t)}}class n2{}const r2="ngComponent";class FG{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${He(n)}. Did you add it to @NgModule.entryComponents?`);return t[r2]=n,t}(t)}}let th=(()=>{class n{}return n.NULL=new FG,n})();function hy(...n){}function ih(n,t){return new Nt(Fe(n,t))}const UG=function(){return ih(jt(),K())};let Nt=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=UG,n})();function a2(n){return n instanceof Nt?n.nativeElement:n}class Xl{}let ec=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>jG(),n})();const jG=function(){const n=K(),e=_n(jt().index,n);return function(n){return n[11]}(ts(e)?e:n)};let Pk=(()=>{class n{}return n.\u0275prov=ue({token:n,providedIn:"root",factory:()=>null}),n})();class dy{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const o2=new dy("12.2.17");class l2{constructor(){}supports(t){return Jf(t)}create(t){return new QG(t)}}const KG=(n,t)=>t;class QG{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||KG}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,s=0,r=null;for(;e||i;){const a=!i||e&&e.currentIndex<u2(i,s,r)?e:i,o=u2(a,s,r),l=a.currentIndex;if(a===i)s--,i=i._nextRemoved;else if(e=e._next,null==a.previousIndex)s++;else{r||(r=[]);const h=o-s,d=l-s;if(h!=d){for(let y=0;y<h;y++){const S=y<r.length?r[y]:r[y]=0,k=S+y;d<=k&&k<h&&(r[y]=S+1)}r[a.previousIndex]=d-h}}o!==l&&t(a,o,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Jf(t))throw new Error(`Error trying to diff '${He(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,r,a,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let o=0;o<this.length;o++)r=t[o],a=this._trackByFn(o,r),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,r,a,o)),Object.is(e.item,r)||this._addIdentityChange(e,r)):(e=this._mismatch(e,r,a,o),i=!0),e=e._next}else s=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Hu()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,o=>{a=this._trackByFn(s,o),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,o,a,s)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,a,s),i=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):t=this._addAfter(new YG(e,i),r,s),t}_verifyReinsertion(t,e,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new c2),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new c2),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class YG{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class JG{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class c2{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new JG,this.map.set(e,i)),i.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function u2(n,t,e){const i=n.previousIndex;if(null===i)return i;let s=0;return e&&i<e.length&&(s=e[i]),i+t+s}class h2{constructor(){}supports(t){return t instanceof Map||uk(t)}create(){return new ZG}}class ZG{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||uk(t)))throw new Error(`Error trying to diff '${He(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(s,i);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const r=s._prev,a=s._next;return r&&(r._next=a),a&&(a._prev=r),s._next=null,s._prev=null,s}const i=new XG(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class XG{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function d2(){return new nh([new l2])}let nh=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||d2()),deps:[[n,new Ta,new li]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=ue({token:n,providedIn:"root",factory:d2}),n})();function f2(){return new sh([new h2])}let sh=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||f2()),deps:[[n,new Ta,new li]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=ue({token:n,providedIn:"root",factory:f2}),n})();function fy(n,t,e,i,s=!1){for(;null!==e;){const r=t[e.index];if(null!==r&&i.push(ei(r)),$n(r))for(let o=10;o<r.length;o++){const l=r[o],h=l[1].firstChild;null!==h&&fy(l[1],l,h,i)}const a=e.type;if(8&a)fy(n,t,e.child,i);else if(32&a){const o=Ol(e,t);let l;for(;l=o();)i.push(l)}else if(16&a){const o=Um(t,e);if(Array.isArray(o))i.push(...o);else{const l=Nl(t[16]);fy(l[1],l,o,i,!0)}}e=s?e.projectionNext:e.next}return i}class op{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return fy(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if($n(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(nf(t,i),wa(e,i))}this._attachedToViewContainer=!1}$m(this._lView[1],this._lView)}onDestroy(t){Mv(this._lView[1],this._lView,null,t)}markForCheck(){Lf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$f(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){eu(!0);try{$f(n,t,e)}finally{eu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,t){$l(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class t5 extends op{constructor(t){super(t),this._view=t}detectChanges(){Hv(this._view)}checkNoChanges(){!function(n){eu(!0);try{Hv(n)}finally{eu(!1)}}(this._view)}get context(){return null}}const n5=function(n){return function(n,t,e){if(ao(n)&&!e){const i=_n(n.index,t);return new op(i,i)}return 47&n.type?new op(t[16],t):null}(jt(),K(),16==(16&n))};let py=(()=>{class n{}return n.__NG_ELEMENT_ID__=n5,n})();const a5=[new h2],l5=new nh([new l2]),c5=new sh(a5),h5=function(){return gy(jt(),K())};let Ns=(()=>{class n{}return n.__NG_ELEMENT_ID__=h5,n})();const d5=Ns,f5=class extends d5{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=Wl(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(i[19]=r.createEmbeddedView(e)),zl(e,i,t),new op(i)}};function gy(n,t){return 4&n.type?new f5(t,n,ih(n,t)):null}class tc{}const v5=function(){return m2(jt(),K())};let Ls=(()=>{class n{}return n.__NG_ELEMENT_ID__=v5,n})();const _5=Ls,p2=class extends _5{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return ih(this._hostTNode,this._hostLView)}get injector(){return new Gi(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ui(this._hostTNode,this._hostLView);if(rm(t)){const e=fo(t,this._hostLView),i=va(t);return new Gi(e[1].data[i+8],e)}return new Gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=g2(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const s=t.createEmbeddedView(e||{});return this.insert(s,i),s}createComponent(t,e,i,s,r){const a=i||this.parentInjector;if(!r&&null==t.ngModule&&a){const l=a.get(tc,null);l&&(r=l)}const o=t.create(a,s,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const i=t._lView,s=i[1];if(function(n){return $n(n[3])}(i)){const d=this.indexOf(t);if(-1!==d)this.detach(d);else{const m=i[3],y=new p2(m,m[6],m[3]);y.detach(y.indexOf(t))}}const r=this._adjustIndex(e),a=this._lContainer;!function(n,t,e,i){const s=10+i,r=e.length;i>0&&(e[s-1][4]=t),i<r-10?(t[4]=e[s],Pl(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const a=t[17];null!==a&&e!==a&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(a,t);const o=t[19];null!==o&&o.insertView(n),t[2]|=128}(s,i,a,r);const o=lf(r,a),l=i[11],h=Bl(l,a[7]);return null!==h&&function(n,t,e,i,s,r){i[0]=s,i[6]=t,$l(n,i,e,1,s,r)}(s,a[6],l,i,h,o),t.attachToViewContainerRef(),Pl(Dk(a),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=g2(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=nf(this._lContainer,e);i&&(wa(Dk(this._lContainer),e),$m(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=nf(this._lContainer,e);return i&&null!=wa(Dk(this._lContainer),e)?new op(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function g2(n){return n[8]}function Dk(n){return n[8]||(n[8]=[])}function m2(n,t){let e;const i=t[n.index];if($n(i))e=i;else{let s;if(8&n.type)s=ei(i);else{const r=t[11];s=r.createComment("");const a=Fe(n,t);Nr(r,Bl(r,a),s,function(n,t){return Rt(n)?n.nextSibling(t):t.nextSibling}(r,a),!1)}t[n.index]=e=Fv(i,t,s,n),$u(t,e)}return new p2(e,n,t)}const lh={};class L2 extends th{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Ai(t);return new $2(e,this.ngModule)}}function B2(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const g6=new be("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>bf});class $2 extends n2{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(n){return n.map(dE).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return B2(this.componentDef.inputs)}get outputs(){return B2(this.componentDef.outputs)}create(t,e,i,s){const r=(s=s||this.ngModule)?function(n,t){return{get:(e,i,s)=>{const r=n.get(e,lh,s);return r!==lh||i===lh?r:t.get(e,i,s)}}}(t,s.injector):t,a=r.get(Xl,yn),o=r.get(Pk,null),l=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",d=i?function(n,t,e){if(Rt(n))return n.selectRootElement(t,e===Kt.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):ef(a.createRenderer(null,this.componentDef),h,function(n){const t=n.toLowerCase();return"svg"===t?V:"math"===t?"http://www.w3.org/1998/MathML/":null}(h)),m=this.componentDef.onPush?576:528,y=function(n,t){return{components:[],scheduler:n||bf,clean:zE,playerHandler:t||null,flags:0}}(),S=Bu(0,null,null,1,0,null,null,null,null,null),k=Wl(null,S,y,m,null,null,a,l,o,r);let T,D;tu(k);try{const N=function(n,t,e,i,s,r){const a=e[1];e[20]=n;const l=Po(a,20,2,"#host",null),h=l.mergedAttrs=t.hostAttrs;null!==h&&(Fu(l,h,!0),null!==n&&(en(s,n,h),null!==l.classes&&Pu(s,n,l.classes),null!==l.styles&&hf(s,n,l.styles)));const d=i.createRenderer(n,t),m=Wl(e,Lu(t),null,t.onPush?64:16,e[20],l,i,d,r||null,null);return a.firstCreatePass&&(ou(wn(l,e),a,t.type),Vv(a,l),Rf(l,e.length,1)),$u(e,m),e[20]=m}(d,this.componentDef,k,a,l);if(d)if(i)en(l,d,["ng-version",o2.full]);else{const{attrs:I,classes:U}=function(n){const t=[],e=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&t.push(r,n[++i]):8===s&&e.push(r);else{if(!cs(s))break;s=r}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);I&&en(l,d,I),U&&U.length>0&&Pu(l,d,U.join(" "))}if(D=Kc(S,20),void 0!==e){const I=D.projection=[];for(let U=0;U<this.ngContentSelectors.length;U++){const O=e[U];I.push(null!=O?Array.from(O):null)}}T=function(n,t,e,i,s){const r=e[1],a=function(n,t,e){const i=jt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),If(n,i,t,Do(n,t,1,null),e));const s=mo(t,n,i.directiveStart,i);Ti(s,t);const r=Fe(i,t);return r&&Ti(r,t),s}(r,e,t);if(i.components.push(a),n[8]=a,s&&s.forEach(l=>l(a,t)),t.contentQueries){const l=jt();t.contentQueries(1,a,l.directiveStart)}const o=jt();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Rr(o.index),Bv(e[1],o,0,o.directiveStart,o.directiveEnd,t),$v(t,a)),a}(N,this.componentDef,k,y,[vq]),zl(S,k,null)}finally{sr()}return new y6(this.componentType,T,ih(D,k),k,D)}}class y6 extends class{}{constructor(t,e,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new t5(s),this.componentType=t}get injector(){return new Gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const ch=new Map;class S6 extends tc{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new L2(this);const i=_t(t),s=function(n){return n[LS]||null}(t);s&&_k(s),this._bootstrapComponents=ls(i.bootstrap),this._r3Injector=jv(t,e,[{provide:tc,useValue:this},{provide:th,useValue:this.componentFactoryResolver}],He(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=At.THROW_IF_NOT_FOUND,i=Se.Default){return t===At||t===tc||t===Mo?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Hk extends class{}{constructor(t){super(),this.moduleType=t,null!==_t(t)&&function(n){const t=new Set;!function e(i){const s=_t(i,!0),r=s.id;null!==r&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${He(t)} vs ${He(t.name)}`)}(r,ch.get(r),i),ch.set(r,i));const a=ls(s.imports);for(const o of a)t.has(o)||(t.add(o),e(o))}(n)}(t)}create(t){return new S6(this.moduleType,t)}}function U2(n,t,e,i,s){return function(n,t,e,i,s,r,a){const o=t+e;return Yl(n,o,s,r)?Hr(n,o+2,a?i.call(a,s,r):i(s,r)):gp(n,o+2)}(K(),qi(),n,t,e,i,s)}function gp(n,t){const e=n[t];return e===me?void 0:e}function G2(n,t,e,i,s,r){const a=t+e;return on(n,a,s)?Hr(n,a+1,r?i.call(r,s):i(s)):gp(n,a+1)}function Io(n,t){const e=rt();let i;const s=n+20;e.firstCreatePass?(i=function(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}throw new Pr("302",`The pipe '${n}' could not be found!`)}(t,e.pipeRegistry),e.data[s]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,i.onDestroy)):i=e.data[s];const r=i.factory||(i.factory=ca(i.type)),a=er($);try{const o=po(!1),l=r();return po(o),function(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,K(),s,l),l}finally{er(a)}}function Oo(n,t,e){const i=n+20,s=K(),r=function(n,t){return n[t]}(s,i);return function(n,t){hr.isWrapped(t)&&(t=hr.unwrap(t),n[ns()]=me);return t}(s,function(n,t){return n[1].data[t].pure}(s,i)?G2(s,qi(),t,r.transform,e,r):r.transform(e))}function qk(n){return t=>{setTimeout(n,void 0,t)}}const pt=class extends Ze{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var s,r,a;let o=t,l=e||(()=>null),h=i;if(t&&"object"==typeof t){const m=t;o=null===(s=m.next)||void 0===s?void 0:s.bind(m),l=null===(r=m.error)||void 0===r?void 0:r.bind(m),h=null===(a=m.complete)||void 0===a?void 0:a.bind(m)}this.__isAsync&&(l=qk(l),o&&(o=qk(o)),h&&(h=qk(h)));const d=super.subscribe({next:o,error:l,complete:h});return t instanceof et&&t.add(d),d}};function N6(){return this._results[Hu()]()}class by{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Hu(),i=by.prototype;i[e]||(i[e]=N6)}get changes(){return this._changes||(this._changes=new pt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const s=En(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=t[i];if(e&&(s=e(s),r=e(r)),r!==s)return!1}return!0}(i._results,s,e))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Uk{constructor(t){this.queryList=t,this.matches=null}clone(){return new Uk(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gk{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let r=0;r<i;r++){const a=e.getByIndex(r);s.push(this.queries[a.indexInDeclarationView].clone())}return new Gk(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==X2(t,e).matches&&this.queries[e].setDirty()}}class Q2{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class jk{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const s=null!==e?e.length:0,r=this.getByIndex(i).embeddedTView(t,s);r&&(r.indexInDeclarationView=i,null!==e?e.push(r):e=[r])}return null!==e?new jk(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Wk{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Wk(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(t,e,$6(e,r)),this.matchTNodeWithReadOption(t,e,cu(e,t,r,!1,!1))}else i===Ns?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,cu(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===Nt||s===Ls||s===Ns&&4&e.type)this.addMatch(e.index,-2);else{const r=cu(e,t,s,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function $6(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function F6(n,t,e,i){return-1===e?function(n,t){return 11&n.type?ih(n,t):4&n.type?gy(n,t):null}(t,n):-2===e?function(n,t,e){return e===Nt?ih(t,n):e===Ns?gy(t,n):e===Ls?m2(t,n):void 0}(n,t,i):mo(n,n[1],e,t)}function Y2(n,t,e,i){const s=t[19].queries[i];if(null===s.matches){const r=n.data,a=e.matches,o=[];for(let l=0;l<a.length;l+=2){const h=a[l];o.push(h<0?null:F6(t,r[h],a[l+1],e.metadata.read))}s.matches=o}return s.matches}function zk(n,t,e,i){const s=n.queries.getByIndex(e),r=s.matches;if(null!==r){const a=Y2(n,t,s,e);for(let o=0;o<r.length;o+=2){const l=r[o];if(l>0)i.push(a[o/2]);else{const h=r[o+1],d=t[-l];for(let m=10;m<d.length;m++){const y=d[m];y[17]===y[3]&&zk(y[1],y,h,i)}if(null!==d[9]){const m=d[9];for(let y=0;y<m.length;y++){const S=m[y];zk(S[1],S,h,i)}}}}}return i}function sc(n){const t=K(),e=rt(),i=em();Ed(i+1);const s=X2(e,i);if(n.dirty&&Yg(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?zk(e,t,i,[]):Y2(e,t,s,i);n.reset(r,a2),n.notifyOnChanges()}return!0}return!1}function Sy(n,t,e){const i=rt();i.firstCreatePass&&(Z2(i,new Q2(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),J2(i,K(),t)}function wy(n,t,e,i){const s=rt();if(s.firstCreatePass){const r=jt();Z2(s,new Q2(t,e,i),r.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}J2(s,K(),e)}function rc(){return function(n,t){return n[19].queries[t].queryList}(K(),em())}function J2(n,t,e){const i=new by(4==(4&e));Mv(n,t,i,i.destroy),null===t[19]&&(t[19]=new Gk),t[19].queries.push(new Uk(i))}function Z2(n,t,e){null===n.queries&&(n.queries=new jk),n.queries.track(new Wk(t,e))}function X2(n,t){return n.queries.getByIndex(t)}const Cy=new be("Application Initializer");let hh=(()=>{class n{constructor(e){this.appInits=e,this.resolve=hy,this.reject=hy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const r=this.appInits[s]();if(sy(r))e.push(r);else if(mk(r)){const a=new Promise((o,l)=>{r.subscribe({complete:o,error:l})});e.push(a)}}Promise.all(e).then(()=>{i()}).catch(s=>{this.reject(s)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(H(Cy,8))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const _p=new be("AppId"),v8={provide:_p,useFactory:function(){return`${Xk()}${Xk()}${Xk()}`},deps:[]};function Xk(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vB=new be("Platform Initializer"),dh=new be("Platform ID"),y8=new be("appBootstrapListener");let e0=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const No=new be("LocaleId"),yB=new be("DefaultCurrencyCode");class b8{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const t0=function(n){return new Hk(n)},S8=t0,w8=function(n){return Promise.resolve(t0(n))},_B=function(n){const t=t0(n),i=ls(_t(n).declarations).reduce((s,r)=>{const a=Ai(r);return a&&s.push(new $2(a)),s},[]);return new b8(t,i)},E8=_B,k8=function(n){return Promise.resolve(_B(n))};let Py=(()=>{class n{constructor(){this.compileModuleSync=S8,this.compileModuleAsync=w8,this.compileModuleAndAllComponentsSync=E8,this.compileModuleAndAllComponentsAsync=k8}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const P8=(()=>Promise.resolve(0))();function n0(n){"undefined"==typeof Zone?P8.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ze{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pt(!1),this.onMicrotaskEmpty=new pt(!1),this.onStable=new pt(!1),this.onError=new pt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&e,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let n=ut.requestAnimationFrame,t=ut.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ut,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,r0(n),n.isCheckStableRunning=!0,s0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),r0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,r,a,o)=>{try{return bB(n),e.invokeTask(s,r,a,o)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&t(),SB(n)}},onInvoke:(e,i,s,r,a,o,l)=>{try{return bB(n),e.invoke(s,r,a,o,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),SB(n)}},onHasTask:(e,i,s,r)=>{e.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,r0(n),s0(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,i,s,r)=>(e.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ze.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ze.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,s){const r=this._inner,a=r.scheduleEventTask("NgZoneEvent: "+s,t,T8,hy,hy);try{return r.runTask(a,e,i)}finally{r.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const T8={};function s0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function r0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function bB(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function SB(n){n._nesting--,s0(n)}class R8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pt,this.onMicrotaskEmpty=new pt,this.onStable=new pt,this.onError=new pt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,s){return t.apply(e,i)}}let a0=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ze.assertNotInAngularZone(),n0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())n0(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==r),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:s})}whenStable(e,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,s){return[]}}return n.\u0275fac=function(e){return new(e||n)(H(ze))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),wB=(()=>{class n{constructor(){this._applications=new Map,o0.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return o0.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class I8{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let o0=new I8,EB=!0,kB=!1;let vr;const AB=new be("AllowMultipleToken");function PB(n,t,e=[]){const i=`Platform: ${t}`,s=new be(i);return(r=[])=>{let a=DB();if(!a||a.injector.get(AB,!1))if(n)n(e.concat(r).concat({provide:s,useValue:!0}));else{const o=e.concat(r).concat({provide:s,useValue:!0},{provide:Ba,useValue:"platform"});!function(n){if(vr&&!vr.destroyed&&!vr.injector.get(AB,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");vr=n.get(TB);const t=n.get(vB,null);t&&t.forEach(e=>e())}(At.create({providers:o,name:i}))}return function(n){const t=DB();if(!t)throw new Error("No platform exists!");if(!t.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function DB(){return vr&&!vr.destroyed?vr:null}let TB=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const o=function(n,t){let e;return e="noop"===n?new R8:("zone.js"===n?void 0:n)||new ze({enableLongStackTrace:(kB=!0,EB),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:ze,useValue:o}];return o.run(()=>{const h=At.create({providers:l,parent:this.injector,name:e.moduleType.name}),d=e.create(h),m=d.injector.get(Na,null);if(!m)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(()=>{const y=o.onError.subscribe({next:S=>{m.handleError(S)}});d.onDestroy(()=>{l0(this._modules,d),y.unsubscribe()})}),function(n,t,e){try{const i=e();return sy(i)?i.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(m,o,()=>{const y=d.injector.get(hh);return y.runInitializers(),y.donePromise.then(()=>(_k(d.injector.get(No,ay)||ay),this._moduleDoBootstrap(d),d))})})}bootstrapModule(e,i=[]){const s=xB({},i);return function(n,t,e){const i=new Hk(e);return Promise.resolve(i)}(0,0,e).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(e){const i=e.injector.get(bp);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${He(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(H(At))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();function xB(n,t){return Array.isArray(t)?t.reduce(xB,n):Object.assign(Object.assign({},n),t)}let bp=(()=>{class n{constructor(e,i,s,r,a){this._zone=e,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Qe(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),l=new Qe(h=>{let d;this._zone.runOutsideAngular(()=>{d=this._zone.onStable.subscribe(()=>{ze.assertNotInAngularZone(),n0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{ze.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{d.unsubscribe(),m.unsubscribe()}});this.isStable=Ar(o,l.pipe(n=>Vc()(function(n,t){return function(i){let s;s="function"==typeof n?n:function(){return n};const r=Object.create(i,Xh);return r.source=i,r.subjectFactory=s,r}}(ES)(n))))}bootstrap(e,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let s;s=e instanceof n2?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const r=function(n){return n.isBoundToModule}(s)?void 0:this._injector.get(tc),o=s.create(At.NULL,[],i||s.selector,r),l=o.location.nativeElement,h=o.injector.get(a0,null),d=h&&o.injector.get(wB);return h&&d&&d.registerApplication(l,h),o.onDestroy(()=>{this.detachView(o.hostView),l0(this.components,o),d&&d.unregisterApplication(l)}),this._loadComponent(o),o}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;l0(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(y8,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(H(ze),H(At),H(Na),H(th),H(hh))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();function l0(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const aj=PB(null,"core",[{provide:dh,useValue:"unknown"},{provide:TB,deps:[At]},{provide:wB,deps:[]},{provide:e0,deps:[]}]),hj=[{provide:bp,useClass:bp,deps:[ze,At,Na,th,hh]},{provide:g6,deps:[ze],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:hh,useClass:hh,deps:[[new li,Cy]]},{provide:Py,useClass:Py,deps:[]},v8,{provide:nh,useFactory:function(){return l5},deps:[]},{provide:sh,useFactory:function(){return c5},deps:[]},{provide:No,useFactory:function(n){return _k(n=n||"undefined"!=typeof $localize&&$localize.locale||ay),n},deps:[[new gi(No),new li,new Ta]]},{provide:yB,useValue:"USD"}];let fj=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(H(bp))},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:hj}),n})(),By=null;function lc(){return By}const Xe=new be("DocumentToken");var mi=(()=>((mi=mi||{})[mi.Zero=0]="Zero",mi[mi.One=1]="One",mi[mi.Two=2]="Two",mi[mi.Few=3]="Few",mi[mi.Many=4]="Many",mi[mi.Other=5]="Other",mi))();const S7=function(n){return function(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=xL(t);if(e)return e;const i=t.split("-")[0];if(e=xL(i),e)return e;if("en"===i)return FU;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[ae.PluralCase]};class zy{}let Y7=(()=>{class n extends zy{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(S7(i||this.locale)(e)){case mi.Zero:return"zero";case mi.One:return"one";case mi.Two:return"two";case mi.Few:return"few";case mi.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(H(No))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();function p$(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,r]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}let M0=(()=>{class n{constructor(e,i,s,r){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Jf(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${He(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)($(nh),$(sh),$(Nt),$(ec))},n.\u0275dir=de({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Z7{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pp=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((s,r,a)=>{if(null==s.previousIndex){const o=this._viewContainer.createEmbeddedView(this._template,new Z7(null,this._ngForOf,-1,-1),null===a?void 0:a),l=new g$(s,o);i.push(l)}else if(null==a)this._viewContainer.remove(null===r?void 0:r);else if(null!==r){const o=this._viewContainer.get(r);this._viewContainer.move(o,a);const l=new g$(s,o);i.push(l)}});for(let s=0;s<i.length;s++)this._perViewChange(i[s].view,i[s].record);for(let s=0,r=this._viewContainer.length;s<r;s++){const a=this._viewContainer.get(s);a.context.index=s,a.context.count=r,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)($(Ls),$(Ns),$(nh))},n.\u0275dir=de({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class g${constructor(t,e){this.record=t,this.view=e}}let gh=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new eW,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){m$("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){m$("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)($(Ls),$(Ns))},n.\u0275dir=de({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class eW{constructor(){this.$implicit=null,this.ngIf=null}}function m$(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${He(t)}'.`)}let O0=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=y$}transform(e,i=y$){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const s=this.differ.diff(e),r=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function(n,t){return{key:n,value:t}}(a.key,a.currentValue))})),(s||r)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)($(sh,16))},n.\u0275pipe=Zi({name:"keyvalue",type:n,pure:!1}),n})();function y$(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const s=String(e),r=String(i);return s==r?0:s<r?-1:1}let _$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:[{provide:zy,useClass:Y7}]}),n})();const b$="browser";class w${}class B0 extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){By||(By=n)}(new B0)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Dp=Dp||document.querySelector("base"),Dp?Dp.getAttribute("href"):null);return null==e?null:function(n){Ky=Ky||document.createElement("a"),Ky.setAttribute("href",n);const t=Ky.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Dp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return p$(document.cookie,t)}}let Ky,Dp=null;const E$=new be("TRANSITION_ID"),OW=[{provide:Cy,useFactory:function(n,t,e){return()=>{e.get(hh).donePromise.then(()=>{const i=lc(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let r=0;r<s.length;r++)i.remove(s[r])})}},deps:[E$,Xe,At],multi:!0}];class $0{static init(){!function(n){o0=n}(new $0)}addToWindow(t){ut.getAngularTestability=(i,s=!0)=>{const r=t.findTestabilityInTree(i,s);if(null==r)throw new Error("Could not find testability for element.");return r},ut.getAllAngularTestabilities=()=>t.getAllTestabilities(),ut.getAllAngularRootElements=()=>t.getAllRootElements(),ut.frameworkStabilizers||(ut.frameworkStabilizers=[]),ut.frameworkStabilizers.push(i=>{const s=ut.getAllAngularTestabilities();let r=s.length,a=!1;const o=function(l){a=a||l,r--,0==r&&i(a)};s.forEach(function(l){l.whenStable(o)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?lc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let NW=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const Tp=new be("EventManagerPlugins");let Yy=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let r=0;r<s.length;r++){const a=s[r];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(H(Tp),H(ze))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class V0{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=lc().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let C$=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),xp=(()=>{class n extends C${constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(r=>{const a=this._doc.createElement("style");a.textContent=r,s.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(A$),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(A$))}}return n.\u0275fac=function(e){return new(e||n)(H(Xe))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();function A$(n){lc().remove(n)}const F0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},H0=/%COMP%/g;function Jy(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?Jy(n,s,e):(s=s.replace(H0,n),e.push(s))}return e}function T$(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Zy=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new q0(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Kt.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new YW(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case Kt.ShadowDom:return new JW(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=Jy(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(H(Yy),H(xp),H(_p))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class q0{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(F0[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const r=F0[s];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=F0[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(nn.DashCase|nn.Important)?t.style.setProperty(e,i,s&nn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&nn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,T$(i)):this.eventManager.addEventListener(t,e,T$(i))}}class YW extends q0{constructor(t,e,i,s){super(t),this.component=i;const r=Jy(s+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(H0,n)}(s+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(H0,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class JW extends q0{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=Jy(s.id,s.styles,[]);for(let a=0;a<r.length;a++){const o=document.createElement("style");o.textContent=r[a],this.shadowRoot.appendChild(o)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ZW=(()=>{class n extends V0{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(H(Xe))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const R$=["alt","control","meta","shift"],r9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I$={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},a9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let o9=(()=>{class n extends V0{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const r=n.parseEventName(i),a=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lc().onAndCancel(e,r.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let a="";if(R$.forEach(l=>{const h=i.indexOf(l);h>-1&&(i.splice(h,1),a+=l+".")}),a+=r,0!=i.length||0===r.length)return null;const o={};return o.domEventName=s,o.fullKey=a,o}static getEventFullKey(e){let i="",s=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&I$.hasOwnProperty(t)&&(t=I$[t]))}return r9[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),R$.forEach(r=>{r!=s&&a9[r](e)&&(i+=r+".")}),i+=s,i}static eventCallback(e,i,s){return r=>{n.getEventFullKey(r)===e&&s.runGuarded(()=>i(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(H(Xe))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const f9=[{provide:dh,useValue:b$},{provide:vB,useValue:function(){B0.makeCurrent(),$0.init()},multi:!0},{provide:Xe,useFactory:function(){return function(n){Re=n}(document),document},deps:[]}],g9=PB(aj,"browser",f9),m9=[[],{provide:Ba,useValue:"root"},{provide:Na,useFactory:function(){return new Na},deps:[]},{provide:Tp,useClass:ZW,multi:!0,deps:[Xe,ze,dh]},{provide:Tp,useClass:o9,multi:!0,deps:[Xe]},[],{provide:Zy,useClass:Zy,deps:[Yy,xp,_p]},{provide:Xl,useExisting:Zy},{provide:C$,useExisting:xp},{provide:xp,useClass:xp,deps:[Xe]},{provide:a0,useClass:a0,deps:[ze]},{provide:Yy,useClass:Yy,deps:[Tp,ze]},{provide:w$,useClass:NW,deps:[]},[]];let W0=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:_p,useValue:e.appId},{provide:E$,useExisting:_p},OW]}}}return n.\u0275fac=function(e){return new(e||n)(H(n,12))},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:m9,imports:[_$,fj]}),n})();function Xy(n,t){return new Qe(e=>{const i=n.length;if(0===i)return void e.complete();const s=new Array(i);let r=0,a=0;for(let o=0;o<i;o++){const l=Oc(n[o]);let h=!1;e.add(l.subscribe({next:d=>{h||(h=!0,a++),s[o]=d},error:d=>e.error(d),complete:()=>{r++,(r===i||!h)&&(a===i&&e.next(t?t.reduce((d,m,y)=>(d[m]=s[y],d),{}):s),e.complete())}}))}})}"undefined"!=typeof window&&window;let N$=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)($(ec),$(Nt))},n.\u0275dir=de({type:n}),n})(),cc=(()=>{class n extends N${}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=de({type:n,features:[Ot]}),n})();const jr=new be("NgValueAccessor"),C9={provide:jr,useExisting:wt(()=>e_),multi:!0};let e_=(()=>{class n extends cc{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&Ue("change",function(r){return i.onChange(r.target.checked)})("blur",function(){return i.onTouched()})},features:[lt([C9]),Ot]}),n})();const A9={provide:jr,useExisting:wt(()=>Ha),multi:!0},D9=new be("CompositionEventMode");let Ha=(()=>{class n extends N${constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=lc()?lc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)($(ec),$(Nt),$(D9,8))},n.\u0275dir=de({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Ue("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[lt([A9]),Ot]}),n})();function $o(n){return null==n||0===n.length}function L$(n){return null!=n&&"number"==typeof n.length}const un=new be("NgValidators"),Vo=new be("NgAsyncValidators"),T9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class K0{static min(t){return B$(t)}static max(t){return $$(t)}static required(t){return V$(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return $o(n.value)||T9.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>$o(t.value)||!L$(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>L$(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return Fo;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if($o(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return Y$(t)}static composeAsync(t){return J$(t)}}function B$(n){return t=>{if($o(t.value)||$o(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function $$(n){return t=>{if($o(t.value)||$o(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function V$(n){return $o(n.value)?{required:!0}:null}function Fo(n){return null}function j$(n){return null!=n}function W$(n){const t=sy(n)?Oc(n):n;return mk(t),t}function z$(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function K$(n,t){return t.map(e=>e(n))}function Q$(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function Y$(n){if(!n)return null;const t=n.filter(j$);return 0==t.length?null:function(e){return z$(K$(e,t))}}function Q0(n){return null!=n?Y$(Q$(n)):null}function J$(n){if(!n)return null;const t=n.filter(j$);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if(il(t))return Xy(t,null);if(nl(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Xy(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return Xy(n=1===n.length&&il(n[0])?n[0]:n,null).pipe(ys(e=>t(...e)))}return Xy(n,null)}(K$(e,t).map(W$)).pipe(ys(z$))}}function Y0(n){return null!=n?J$(Q$(n)):null}function Z$(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function X$(n){return n._rawValidators}function e3(n){return n._rawAsyncValidators}function J0(n){return n?Array.isArray(n)?n:[n]:[]}function t_(n,t){return Array.isArray(n)?n.includes(t):n===t}function t3(n,t){const e=J0(t);return J0(n).forEach(s=>{t_(e,s)||e.push(s)}),e}function i3(n,t){return J0(t).filter(e=>!t_(n,e))}let n3=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Q0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Y0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n}),n})(),Mn=(()=>{class n extends n3{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=de({type:n,features:[Ot]}),n})();class Ho extends n3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class s3{constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}let uc=(()=>{class n extends s3{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)($(Ho,2))},n.\u0275dir=de({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Jl("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[Ot]}),n})(),hc=(()=>{class n extends s3{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)($(Mn,10))},n.\u0275dir=de({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Jl("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[Ot]}),n})();function Mp(n,t){eC(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&r3(n,t)})}(n,t),function(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&r3(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function s_(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),a_(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function r_(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function eC(n,t){const e=X$(n);null!==t.validator?n.setValidators(Z$(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=e3(n);null!==t.asyncValidator?n.setAsyncValidators(Z$(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();r_(t._rawValidators,s),r_(t._rawAsyncValidators,s)}function a_(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=X$(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(a=>a!==t.validator);r.length!==s.length&&(e=!0,n.setValidators(r))}}if(null!==t.asyncValidator){const s=e3(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(a=>a!==t.asyncValidator);r.length!==s.length&&(e=!0,n.setAsyncValidators(r))}}}const i=()=>{};return r_(t._rawValidators,i),r_(t._rawAsyncValidators,i),e}function r3(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function o_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Rp="VALID",l_="INVALID",mh="PENDING",Ip="DISABLED";function nC(n){return(rC(n)?n.validators:n)||null}function l3(n){return Array.isArray(n)?Q0(n):n||null}function sC(n,t){return(rC(t)?t.asyncValidators:n)||null}function c3(n){return Array.isArray(n)?Y0(n):n||null}function rC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class aC{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=l3(this._rawValidators),this._composedAsyncValidatorFn=c3(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Rp}get invalid(){return this.status===l_}get pending(){return this.status==mh}get disabled(){return this.status===Ip}get enabled(){return this.status!==Ip}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=l3(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=c3(t)}addValidators(t){this.setValidators(t3(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(t3(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(i3(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(i3(t,this._rawAsyncValidators))}hasValidator(t){return t_(this._rawValidators,t)}hasAsyncValidator(t){return t_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=mh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ip,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Rp,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rp||this.status===mh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ip:Rp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=mh,this._hasOwnPendingAsyncValidator=!0;const e=W$(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=i instanceof Ni?i.controls.hasOwnProperty(s)?i.controls[s]:null:i instanceof c_&&i.at(s)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new pt,this.statusChanges=new pt}_calculateStatus(){return this._allControlsDisabled()?Ip:this.errors?l_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mh)?mh:this._anyControlsHaveStatus(l_)?l_:Rp}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){rC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ee extends aC{constructor(t=null,e,i){super(nC(e),sC(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){o_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){o_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ni extends aC{constructor(t,e,i){super(nC(e),sC(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof ee?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,r)=>{i=e(i,s,r)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class c_ extends aC{constructor(t,e,i){super(nC(e),sC(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ee?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let p3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const j9={provide:jr,useExisting:wt(()=>u_),multi:!0};let u_=(()=>{class n extends cc{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&Ue("input",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},features:[lt([j9]),Ot]}),n})();const W9={provide:jr,useExisting:wt(()=>lC),multi:!0};let g3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({}),n})(),z9=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({factory:function(){return new n},token:n,providedIn:g3}),n})(),lC=(()=>{class n extends cc{constructor(e,i,s,r){super(e,i),this._registry=s,this._injector=r,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Ho),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(e){return new(e||n)($(ec),$(Nt),$(z9),$(At))},n.\u0275dir=de({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,i){1&e&&Ue("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[lt([W9]),Ot]}),n})();const cC=new be("NgModelWithFormControlWarning"),Y9={provide:Mn,useExisting:wt(()=>qa)};let qa=(()=>{class n extends Mn{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new pt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(a_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Mp(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){s_(e.control||null,e,!1),o_(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(s_(i||null,e),s instanceof ee&&(Mp(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function(n,t){eC(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return a_(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){eC(this.form,this),this._oldForm&&a_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)($(un,10),$(Vo,10))},n.\u0275dir=de({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&Ue("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[lt([Y9]),Ot,Dt]}),n})();const X9={provide:Ho,useExisting:wt(()=>qo)};let qo=(()=>{class n extends Ho{constructor(e,i,s,r,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new pt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(r=>{r.constructor===Ha?e=r:function(n){return Object.getPrototypeOf(n.constructor)===cc}(r)?i=r:s=r}),s||i||e||null}(0,r)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)($(Mn,13),$(un,10),$(Vo,10),$(jr,10),$(cC,8))},n.\u0275dir=de({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[lt([X9]),Ot,Dt]}),n._ngModelWarningSentOnce=!1,n})();const ez={provide:jr,useExisting:wt(()=>Np),multi:!0};function _3(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Np=(()=>{class n extends cc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=this._getOptionId(e);null==i&&this.setProperty("selectedIndex",-1);const s=_3(i,e);this.setProperty("value",s)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&Ue("change",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[lt([ez]),Ot]}),n})(),dC=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(_3(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)($(Nt),$(ec),$(Np,9))},n.\u0275dir=de({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const iz={provide:jr,useExisting:wt(()=>fC),multi:!0};function b3(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let fC=(()=>{class n extends cc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const s=e.map(r=>this._getOptionId(r));i=(r,a)=>{r._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,r)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const s=[];if(void 0!==i.selectedOptions){const r=i.selectedOptions;for(let a=0;a<r.length;a++){const o=r.item(a),l=this._getOptionValue(o.value);s.push(l)}}else{const r=i.options;for(let a=0;a<r.length;a++){const o=r.item(a);if(o.selected){const l=this._getOptionValue(o.value);s.push(l)}}}this.value=s,e(s)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&Ue("change",function(r){return i.onChange(r.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[lt([iz]),Ot]}),n})(),pC=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(b3(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(b3(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)($(Nt),$(ec),$(fC,9))},n.\u0275dir=de({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),w3=(()=>{class n{constructor(){this._validator=Fo}handleChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.createValidator(i),this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n}),n})();const sz={provide:un,useExisting:wt(()=>h_),multi:!0};let h_=(()=>{class n extends w3{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>$$(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;dr("max",null!==(s=i.max)&&void 0!==s?s:null)}},inputs:{max:"max"},features:[lt([sz]),Ot,Dt]}),n})();const rz={provide:un,useExisting:wt(()=>gC),multi:!0};let gC=(()=>{class n extends w3{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>B$(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;dr("min",null!==(s=i.min)&&void 0!==s?s:null)}},inputs:{min:"min"},features:[lt([rz]),Ot,Dt]}),n})();const az={provide:un,useExisting:wt(()=>d_),multi:!0};let d_=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?V$(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&dr("required",i.required?"":null)},inputs:{required:"required"},features:[lt([az])]}),n})(),D3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({imports:[[g3]]}),n})(),dz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({imports:[D3]}),n})(),fz=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:cC,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({imports:[D3]}),n})();var vt=zt(815);function T3(n){let e,t=n.length;for(;0!=t;)e=Math.floor(Math.random()*t),t--,[n[t],n[e]]=[n[e],n[t]];return n}function Rn(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n}function mC(n){return Math.ceil(100*n)/100}function Bt(n,t){let e;return e=n.player==t?n.opponet:n.player,e}function pz(n){var t,e,i,s,r,a,o;return new Ni({name:new ee(null!==(t=n.name)&&void 0!==t?t:null,K0.required),tier1Pets:new ee(null!==(e=n.tier1Pets)&&void 0!==e?e:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier2Pets:new ee(null!==(i=n.tier2Pets)&&void 0!==i?i:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier3Pets:new ee(null!==(s=n.tier3Pets)&&void 0!==s?s:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier4Pets:new ee(null!==(r=n.tier4Pets)&&void 0!==r?r:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier5Pets:new ee(null!==(a=n.tier5Pets)&&void 0!==a?a:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier6Pets:new ee(null!==(o=n.tier6Pets)&&void 0!==o?o:[],n=>n.value&&10!==n.value.length?{length:!0}:null)})}class ne{constructor(){this.multiplier=1,this.multiplierMessage="",this.originalPower=this.power}reset(){this.uses=this.originalUses}}class yh extends ne{constructor(){super(...arguments),this.name="Peanut",this.tier=7,this.equipmentClass="attack",this.power=0}}class f_ extends ne{constructor(){super(...arguments),this.name="Salt",this.tier=4,this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class p_ extends ne{constructor(){super(...arguments),this.name="Cheese",this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class g_ extends ne{constructor(){super(...arguments),this.name="Pepper",this.equipmentClass="shield",this.uses=1,this.originalUses=1,this.power=0,this.originalPower=0}}class m_ extends ne{constructor(){super(),this.name="Fortune Cookie",this.equipmentClass="attack"}}class v_ extends ne{constructor(){super(...arguments),this.name="Dazed",this.equipmentClass="ailment-other"}}class Lp extends ne{constructor(){super(...arguments),this.name="Exposed",this.equipmentClass="ailment-other",this.uses=2,this.originalUses=2}}class dc extends ne{constructor(){super(...arguments),this.name="Crisp",this.equipmentClass="ailment-other"}}class vC extends ne{constructor(){super(...arguments),this.name="Toasty",this.equipmentClass="ailment-other",this.uses=1,this.originalUses=1}}class yC extends ne{constructor(){super(...arguments),this.name="Peanut Butter",this.equipmentClass="attack",this.tier=7,this.power=0,this.uses=1,this.originalUses=1}}class x3 extends ne{constructor(){super(),this.name="Blackberry",this.tier=3,this.equipmentClass="shop"}}class _C extends ne{constructor(){super(...arguments),this.name="Honeydew Melon",this.tier=5,this.equipmentClass="shield",this.power=10,this.originalPower=10,this.uses=1,this.originalUses=1}}class gz extends ne{constructor(){super(...arguments),this.name="Honeydew Melon (Attack)",this.equipmentClass="attack",this.power=5,this.originalPower=5}}class Bp extends ne{constructor(){super(...arguments),this.name="Maple Syrup",this.tier=5,this.equipmentClass="shield",this.power=0,this.originalPower=0,this.uses=1,this.originalUses=1}}class bC extends ne{constructor(){super(...arguments),this.name="Maple Syrup (Attack)",this.equipmentClass="attack",this.power=0,this.originalPower=0}}class SC extends ne{constructor(){super(...arguments),this.name="White Okra",this.tier=6,this.equipmentClass="shield",this.power=10,this.originalPower=10,this.uses=2,this.originalUses=2}}class wC extends ne{constructor(){super(...arguments),this.name="Ambrosia",this.tier=4,this.equipmentClass="shield",this.power=8,this.originalPower=8,this.uses=1,this.originalUses=1}}class M3 extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="White Truffle",this.equipmentClass="faint",this.callback=i=>{var s;let r=null===(s=i.friendFaints)||void 0===s?void 0:s.bind(i);i.friendFaints=(a,o,l)=>{var h;if(o==i||(null!=r&&r(a,o,l),l)||"White Truffle"!=(null===(h=i.equipment)||void 0===h?void 0:h.name))return;let d=i.parent.opponent.getHighestAttackPet();d.pet&&d.pet.alive&&(i.jumpAttackPrep(d.pet),i.jumpAttack(d.pet,l,null,d.random),i.removePerk())}}}}class _{constructor(t,e,i){this.logService=t,this.abilityService=e,this.hidden=!1,this.exp=0,this.mana=0,this.swallowedPets=[],this.timesHurt=0,this.timesAttacked=0,this.battlesFought=0,this.transformedInto=null,this.abilityCounter=0,this.targettedFriends=new Set,this.originalExp=0,this.originalTimesHurt=0,this.faintPet=!1,this.toyPet=!1,this.transformed=!1,this.disabled=!1,this.startOfBattleTriggered=!1,this.done=!1,this.seenDead=!1,this.eggplantTouched=!1,this.cherryTouched=!1,this.maxAbilityUses=null,this.abilityUses=0,this.parent=i}initPet(t,e,i,s,r){this.exp=null!=t?t:this.exp,this.health=null!=e?e:this.health*this.level,this.attack=null!=i?i:this.attack*this.level,this.mana=null!=s?s:this.mana,this.originalHealth=this.health,this.originalAttack=this.attack,this.originalMana=this.mana,this.equipment=r,this.originalEquipment=r,this.originalExp=this.exp,this.originalStartOfBattle=this.startOfBattle,this.originalTransform=this.transform,this.originalHurt=this.hurt,this.originalFaint=this.faint,this.originalFriendSummoned=this.friendSummoned,this.originalFriendAheadAttacks=this.friendAheadAttacks,this.originalAdjacentAttacked=this.adjacentAttacked,this.originalFriendAheadFaints=this.friendAheadFaints,this.originalFriendFaints=this.friendFaints,this.originalFriendAteFood=this.friendAteFood,this.originalEatsFood=this.eatsFood,this.originalFriendLostPerk=this.friendLostPerk,this.originalGainedPerk=this.gainedPerk,this.originalFriendGainedPerk=this.friendGainedPerk,this.originalFriendGainedAilment=this.friendGainedAilment,this.originalFriendHurt=this.friendHurt,this.originalFriendTransformed=this.friendTransformed,this.originalFriendAttacks=this.friendAttacks,this.originalBeforeFriendAttacks=this.beforeFriendAttacks,this.originalEnemyAttack=this.enemyAttack,this.originalAfterAttack=this.afterAttack,this.originalAfterFaint=this.afterFaint,this.originalBeforeAttack=this.beforeAttack,this.originalBeforeStartOfBattle=this.beforeStartOfBattle,this.originalAnyoneLevelUp=this.anyoneLevelUp,this.originalEndTurn=this.endTurn,this.originalKnockOut=this.knockOut,this.originalSummoned=this.summoned,this.originalFriendlyToyBroke=this.friendlyToyBroke,this.originalEnemySummoned=this.enemySummoned,this.originalEnemyPushed=this.enemyPushed,this.originalEnemyHurt=this.enemyHurt,this.originalEmptyFrontSpace=this.emptyFrontSpace,this.originalGainedMana=this.gainedMana,this.originalFriendJumped=this.friendJumped,this.originalEnemyJumped=this.enemyJumped,this.originalEnemyGainedAilment=this.enemyGainedAilment,this.originalFriendGainsHealth=this.friendGainsHealth,this.originalFriendGainedExperience=this.friendGainedExperience,this.initAbilities(),this.resetStartOfBattle=this.startOfBattle,this.resetTransform=this.transform,this.resetHurt=this.hurt,this.resetFaint=this.faint,this.resetFriendSummoned=this.friendSummoned,this.resetFriendAheadAttacks=this.friendAheadAttacks,this.resetAdjacentAttacked=this.adjacentAttacked,this.resetFriendAheadFaints=this.friendAheadFaints,this.resetFriendFaints=this.friendFaints,this.resetFriendAteFood=this.friendAteFood,this.resetEatsFood=this.eatsFood,this.resetFriendLostPerk=this.friendLostPerk,this.resetGainedPerk=this.gainedPerk,this.resetFriendGainedPerk=this.friendGainedPerk,this.resetFriendGainedAilment=this.friendGainedAilment,this.resetFriendHurt=this.friendHurt,this.resetFriendTransformed=this.friendTransformed,this.resetFriendAttacks=this.friendAttacks,this.resetBeforeFriendAttacks=this.beforeFriendAttacks,this.resetEnemyAttack=this.enemyAttack,this.resetAfterAttack=this.afterAttack,this.resetAfterFaint=this.afterFaint,this.resetBeforeAttack=this.beforeAttack,this.resetBeforeStartOfBattle=this.beforeStartOfBattle,this.resetAnyoneLevelUp=this.anyoneLevelUp,this.resetEndTurn=this.endTurn,this.resetKnockOut=this.knockOut,this.resetSummoned=this.summoned,this.resetFriendlyToyBroke=this.friendlyToyBroke,this.resetEnemySummoned=this.enemySummoned,this.resetEnemyPushed=this.enemyPushed,this.resetEnemyHurt=this.enemyHurt,this.resetEmptyFrontSpace=this.emptyFrontSpace,this.resetGainedMana=this.gainedMana,this.resetFriendJumped=this.friendJumped,this.resetEnemyJumped=this.enemyJumped,this.resetEnemyGainedAilment=this.enemyGainedAilment,this.resetFriendGainsHealth=this.friendGainsHealth,this.resetFriendGainedExperience=this.friendGainedExperience}initAbilities(){var t,e,i,s,r,a,o,l,h,d,m,y,S,k,T,D,N,I,U,O,G,Y,oe,pe,ve,Oe,ct,Je,st,ui,hi,X,re;let ye=null===(t=this.faint)||void 0===t?void 0:t.bind(this);(null!=ye||null!=this.afterFaint)&&(this.faintPet=!0),this.faint=(ce,he,$e)=>{if(null!=ye){if(!this.abilityValidCheck())return;ye(ce,he,$e)}if(this.abilityValidCheck()&&!this.kitsuneCheck()&&this.mana>0){let fq;fq={priority:this.attack,player:this.parent,callback:()=>{let pq=Bt(ce,this.parent).getRandomPet([],!1,!0,!1,this);null!=pq.pet&&0!=this.mana&&this.snipePet(pq.pet,this.mana,!0,!1,!1,!1,!0)}},this.abilityService.setManaEvent(fq)}};let Ne=null===(e=this.startOfBattle)||void 0===e?void 0:e.bind(this);this.startOfBattle=null==Ne?null:(ce,he)=>{if(this.abilityValidCheck())return Ne(ce,he)};let $t=null===(i=this.transform)||void 0===i?void 0:i.bind(this);this.transform=null==$t?null:(ce,he)=>{!this.abilityValidCheck()||$t(ce,he)};let Ki=null===(s=this.endTurn)||void 0===s?void 0:s.bind(this);this.endTurn=null==Ki?null:ce=>{!this.abilityValidCheck()||Ki(ce)};let si=null===(r=this.beforeAttack)||void 0===r?void 0:r.bind(this);this.beforeAttack=null==si?null:(ce,he)=>{!this.abilityValidCheck()||si(ce,he)};let hn=null===(a=this.afterAttack)||void 0===a?void 0:a.bind(this);this.afterAttack=null==hn?null:(ce,he)=>{!this.abilityValidCheck()||hn(ce,he)};let gt=null===(o=this.friendAttacks)||void 0===o?void 0:o.bind(this);this.friendAttacks=null==gt?null:(ce,he,$e)=>{!this.abilityValidCheck()||gt(ce,he,$e)};let ms=null===(l=this.beforeFriendAttacks)||void 0===l?void 0:l.bind(this);this.beforeFriendAttacks=null==ms?null:(ce,he,$e)=>{!this.abilityValidCheck()||ms(ce,he,$e)};let Ci=null===(h=this.friendFaints)||void 0===h?void 0:h.bind(this);this.friendFaints=null==Ci?null:(ce,he,$e)=>{!this.abilityValidCheck()||Ci(ce,he,$e)};let vs=null===(d=this.friendLostPerk)||void 0===d?void 0:d.bind(this);this.friendLostPerk=null==vs?null:(ce,he,$e)=>{!this.abilityValidCheck()||vs(ce,he,$e)};let Nn=null===(m=this.gainedPerk)||void 0===m?void 0:m.bind(this);this.gainedPerk=null==Nn?null:(ce,he,$e)=>{!this.abilityValidCheck()||Nn(ce,he,$e)};let Jn=null===(y=this.friendGainedPerk)||void 0===y?void 0:y.bind(this);this.friendGainedPerk=null==Jn?null:(ce,he,$e)=>{!this.abilityValidCheck()||Jn(ce,he,$e)};let tl=null===(S=this.eatsFood)||void 0===S?void 0:S.bind(this);this.eatsFood=null==tl?null:(ce,he,$e)=>{!this.abilityValidCheck()||tl(ce,he,$e)};let jh=null===(k=this.friendAteFood)||void 0===k?void 0:k.bind(this);this.friendAteFood=null==jh?null:(ce,he,$e)=>{!this.abilityValidCheck()||jh(ce,he,$e)};let dS=null===(T=this.beforeStartOfBattle)||void 0===T?void 0:T.bind(this);this.beforeStartOfBattle=null==dS?null:(ce,he)=>{!this.abilityValidCheck()||dS(ce,he)};let fg=null===(D=this.friendHurt)||void 0===D?void 0:D.bind(this);this.friendHurt=null==fg?null:(ce,he,$e)=>{!this.abilityValidCheck()||fg(ce,he,$e)};let fS=null===(N=this.friendTransformed)||void 0===N?void 0:N.bind(this);this.friendTransformed=null==fS?null:(ce,he,$e)=>{!this.abilityValidCheck()||fS(ce,he,$e)};let pS=null===(I=this.friendSummoned)||void 0===I?void 0:I.bind(this);this.friendSummoned=null==pS?null:(ce,he,$e)=>{!this.abilityValidCheck()||pS(ce,he,$e)};let pg=null===(U=this.anyoneLevelUp)||void 0===U?void 0:U.bind(this);this.anyoneLevelUp=null==pg?null:(ce,he,$e)=>{!this.abilityValidCheck()||pg(ce,he,$e)};let gg=null===(O=this.enemyHurt)||void 0===O?void 0:O.bind(this);this.enemyHurt=null==gg?null:(ce,he,$e)=>{!this.abilityValidCheck()||gg(ce,he,$e)};let gS=null===(G=this.enemySummoned)||void 0===G?void 0:G.bind(this);this.enemySummoned=null==gS?null:(ce,he,$e)=>{!this.abilityValidCheck()||gS(ce,he,$e)};let mS=null===(Y=this.emptyFrontSpace)||void 0===Y?void 0:Y.bind(this);this.emptyFrontSpace=null==mS?null:(ce,he)=>{!this.abilityValidCheck()||mS(ce,he)};let Xr=null===(oe=this.gainedMana)||void 0===oe?void 0:oe.bind(this);this.gainedMana=null==Xr?null:(ce,he)=>{!this.abilityValidCheck()||Xr(ce,he)};let xc=null===(pe=this.friendJumped)||void 0===pe?void 0:pe.bind(this);this.friendJumped=null==xc?null:(ce,he,$e)=>{!this.abilityValidCheck()||xc(ce,he,$e)};let mg=null===(ve=this.enemyJumped)||void 0===ve?void 0:ve.bind(this);this.enemyJumped=null==mg?null:(ce,he,$e)=>{!this.abilityValidCheck()||mg(ce,he,$e)};let vg=null===(Oe=this.friendlyToyBroke)||void 0===Oe?void 0:Oe.bind(this);this.friendlyToyBroke=null==vg?null:(ce,he)=>{!this.abilityValidCheck()||vg(ce,he)};let Wh=null===(ct=this.enemyPushed)||void 0===ct?void 0:ct.bind(this);this.enemyPushed=null==Wh?null:(ce,he,$e)=>{!this.abilityValidCheck()||Wh(ce,he,$e)};let yg=null===(Je=this.summoned)||void 0===Je?void 0:Je.bind(this);this.summoned=null==yg?null:(ce,he)=>{yg(ce,he)};let _g=null===(st=this.knockOut)||void 0===st?void 0:st.bind(this);this.knockOut=null==_g?null:(ce,he,$e)=>{!this.abilityValidCheck()||_g(ce,he,$e)};let bg=null===(ui=this.enemyGainedAilment)||void 0===ui?void 0:ui.bind(this);this.enemyGainedAilment=null==bg?null:(ce,he,$e)=>{!this.abilityValidCheck()||bg(ce,he,$e)};let Sg=null===(hi=this.friendGainsHealth)||void 0===hi?void 0:hi.bind(this);this.friendGainsHealth=null==Sg?null:(ce,he,$e)=>{!this.abilityValidCheck()||Sg(ce,he,$e)};let hq=null===(X=this.friendGainedExperience)||void 0===X?void 0:X.bind(this);this.friendGainedExperience=null==hq?null:(ce,he,$e)=>{!this.abilityValidCheck()||hq(ce,he,$e)};let dq=null===(re=this.afterFaint)||void 0===re?void 0:re.bind(this);this.afterFaint=null==dq?null:(ce,he,$e)=>{!this.abilityValidCheck()||dq(ce,he,$e)},this.setAbilityUses()}abilityValidCheck(){return!(null==this.savedPosition||this.disabled||this.equipment instanceof v_&&(this.logService.createLog({message:`${this.name}'s ability was not activated because of Dazed.`,type:"ability",player:this.parent}),1))}setAbilityUses(){this.abilityUses=0}tigerCheck(t){var e;return"Tiger"==(null===(e=this.petBehind(!0,!0))||void 0===e?void 0:e.name)&&(null==t||0==t)}superStartOfBattle(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(!0,!0).minExpForLevel,this.startOfBattle(t,!0),this.exp=i}superHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.hurt(t,e,!0),this.exp=s}superFaint(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.faint(t,!0),this.exp=i}superFriendSummoned(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendSummoned(t,e,!0),this.exp=s}superFriendAheadAttacks(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendAheadAttacks(t,e,!0),this.exp=s}superFriendAheadFaints(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendAheadFaints(t,e,!0),this.exp=s}superAdjacentAttacked(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.adjacentAttacked(t,e,!0),this.exp=s}superAfterAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.afterAttack(t,!0),this.exp=i}superSummoned(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.summoned(t,!0),this.exp=i}superKnockOut(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.knockOut(t,e,!0),this.exp=s}superFriendFaints(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendFaints(t,e,!0),this.exp=s}superBeforeAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.beforeAttack(t,!0),this.exp=i}superBeforeFriendAttacks(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.beforeFriendAttacks(t,e,!0),this.exp=s}superFriendLosPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendLostPerk(t,e,!0),this.exp=s}superGainedPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.gainedPerk(t,e,!0),this.exp=s}superFriendGainedPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendGainedPerk(t,e,!0),this.exp=s}superEatsFood(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.eatsFood(t,e,!0),this.exp=s}superFriendAteFood(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendAteFood(t,e,!0),this.exp=s}superBeforeStartOfBattle(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.beforeStartOfBattle(t,!0),this.exp=i}superFriendlyToyBroke(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendlyToyBroke(t,!0),this.exp=i}superTransform(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.transform(t,!0),this.exp=i}superEnemySummoned(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemySummoned(t,e,!0),this.exp=s}superEnemyPushed(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyPushed(t,e,!0),this.exp=s}superFriendHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendHurt(t,e,!0),this.exp=s}superFriendTransformed(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendTransformed(t,e,!0),this.exp=s}superAnyoneLevelUp(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.anyoneLevelUp(t,e,!0),this.exp=s}superEnemyHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyHurt(t,e,!0),this.exp=s}superFriendAttacks(t,e=null,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendAttacks(t,e,!0),this.exp=s}superEnemyAttack(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyAttack(t,e,!0),this.exp=s}superEmptyFrontSpace(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.emptyFrontSpace(t,!0),this.exp=i}superGainedMana(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.gainedMana(t,!0),this.exp=i}superFriendJumped(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendJumped(t,e,!0),this.exp=s}superEnemyJumped(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyJumped(t,e,!0),this.exp=s}superEnemyGainedAilment(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyGainedAilment(t,e,!0),this.exp=s}superFriendGainsHealth(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendGainsHealth(t,e,!0),this.exp=s}superFriendGainedExperience(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendGainedExperience(t,e,!0),this.exp=s}superAfterFaint(t,e=!1,i=!1){if(!this.tigerCheck(e))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.afterFaint(t,!0,i),this.exp=s}attackPet(t,e=!1,i,s=!1){var r,a,o,l;this.timesAttacked++,t.timesAttacked++;let T,h=this.calculateDamgae(t,this.getManticoreMult(),i),d=h.attackEquipment,m=h.defenseEquipment,y=h.damage,S=null===(r=this.equipment)||void 0===r?void 0:r.multiplier,k=null===(a=t.equipment)||void 0===a?void 0:a.multiplier;if(this.currentTarget=t,e?(T=`${this.name} jump-attacks ${t.name} for ${y}.`,this.equipment instanceof M3&&(T+="(White Truffle)")):T=`${this.name} attacks ${t.name} for ${y}.`,d instanceof yh&&y>0)this.logService.createLog({message:`${T} (Peanut)`,type:"attack",player:this.parent,randomEvent:s}),this.dealDamage(t,y),t.killedBy=this,t.health=0;else if(d instanceof yC&&y>0&&d.uses>0)this.logService.createLog({message:`${T} (Peanut Butter)`,type:"attack",player:this.parent,randomEvent:s}),t.killedBy=this,this.dealDamage(t,y),t.health=0;else{if(this.dealDamage(t,y),null!=d){let O=Math.abs(d.power),G="-";d.power>0&&(G="+");let Y=`${G}${O}`;d instanceof f_&&(Y="x2"),d instanceof bC&&(Y="x0.5"),d instanceof p_&&(Y=y<=15?"=15":"+0"),d instanceof m_&&(s=!0,h.fortuneCookie?(Y="x2",d.multiplier>1&&(Y+=d.multiplierMessage)):Y="x1"),T+=` (${d.name} ${Y})`,S>1&&(T+=this.equipment.multiplierMessage)}if(null!=m){let O=Math.abs(m.power),G="-";if(m.power<0&&(G="+"),"Strawberry"===m.name){let Y=t.getSparrowLevel();Y>0&&(O=5*Y,T+=` (Strawberry -${O} (Sparrow))`)}else m instanceof g_?(G=1==t.health?"!":"-",O="",T+=` (${m.name} ${G}${O})`):m instanceof Bp?(O="x0.5",T+=` (${m.name} ${O})`):T+=` (${m.name} ${G}${O})`;k>1&&(T+=t.equipment.multiplierMessage)}t.equipment instanceof Lp&&(T+="x2 (Exposed)",t.equipment.multiplier>1&&(T+=t.equipment.multiplierMessage)),h.nurikabe>0&&(T+=` -${h.nurikabe} (Nurikabe)`),h.fairyBallReduction>0&&(T+=` -${h.fairyBallReduction} (Fairy Ball)`),h.fanMusselReduction>0&&(T+=` -${h.fanMusselReduction} (Fan Mussel)`),h.mapleSyrupReduction>0&&(T+=` -${h.mapleSyrupReduction} (Maple Syrup)`);let D=this.getManticoreMult(),I=["Weak","Cold","Exposed","Spooked"].includes(null===(o=t.equipment)||void 0===o?void 0:o.name);if(D.length>0&&I)for(let O of D)T+=` x${O+1} (Manticore)`;this.logService.createLog({message:T,type:"attack",player:this.parent,randomEvent:s});let U="skewer"==(null===(l=this.equipment)||void 0===l?void 0:l.equipmentClass)?this.equipment:null;null!=U&&U.attackCallback(this,t)}this.abilityService.triggerFriendAttacksEvents(this.parent,this),null!=this.afterAttack&&this.abilityService.setAfterAttackEvent({callback:this.afterAttack.bind(this),priority:this.attack,pet:this}),this.applyCrisp()}applyCrisp(){let t=this.parent.opponent.getManticoreMult();for(let e of this.parent.petArray)if(e.equipment instanceof dc){let i=6,s=e.equipment.multiplier;for(let m of t)s+=m;i*=s;let r=0;"Fairy Ball"===e.name&&i>0&&(r=2*e.level,i=Math.max(1,i-r));let a=0;"Nurikabe"==e.name&&e.abilityUses<3&&(a=4*e.level,i=Math.max(1,i-a),e.abilityUses++);let o=0;"Fan Mussel"==e.name&&e.abilityUses<e.maxAbilityUses&&(o=1*e.level,i=Math.max(1,i-o),e.abilityUses++);let l="Ghost Kitten"==e.name,h=1;l&&(h=3*e.level,i=Math.max(1,i-h));let d=`${e.name} took ${i} damage`;if(t.length>0)for(let m of t)d+=` x${m+1} (Manticore)`;e.equipment.multiplier>1&&(d+=e.equipment.multiplierMessage),r>0&&(d+=`-${r} (FairyBall)`),a>0&&(d+=` -${a} (Nurikabe)`),o>0&&(d+=` -${o} (Fan Mussel)`),l&&(d+=` -${h} (Ghost Kitten)`),d+=" (Crisp).",this.logService.createLog({message:d,type:"ability",player:e.parent}),this.dealDamage(e,i),e.removePerk()}else if(e.equipment instanceof vC&&e.equipment.uses>0){let i=1,s=e.equipment.multiplier;for(let m of t)s+=m;i*=s;let r=0;"Fairy Ball"===e.name&&i>0&&(r=2*e.level,i=Math.max(1,i-r));let a=0;"Nurikabe"==e.name&&e.abilityUses<3&&(a=4*e.level,i=Math.max(1,i-a),e.abilityUses++);let o=0;"Fan Mussel"==e.name&&e.abilityUses<e.maxAbilityUses&&(o=1*e.level,i=Math.max(1,i-o),e.abilityUses++);let l="Ghost Kitten"==e.name,h=1;l&&(h=3*e.level,i=Math.max(1,i-h));let d=`${e.name} took ${i} damage`;if(t.length>0)for(let m of t)d+=` x${m+1} (Manticore)`;e.equipment.multiplier>1&&(d+=e.equipment.multiplierMessage),r>0&&(d+=`-${r} (FairyBall)`),a>0&&(d+=` -${a} (Nurikabe)`),o>0&&(d+=` -${o} (Fan Mussel)`),l&&(d+=` -${h} (Ghost Kitten)`),d+=" (Toasty).",this.logService.createLog({message:d,type:"ability",player:e.parent}),this.dealDamage(e,i),e.equipment.uses--,e.equipment.uses<=0&&e.removePerk()}}snipePet(t,e,i,s,r,a,o){var l,h,d,m,y;let S=!1;"Albatross"==(null===(l=this.petAhead)||void 0===l?void 0:l.name)&&t.tier<=4&&(e+=3*this.petAhead.level,S=!0),"Albatross"==(null===(h=this.petBehind())||void 0===h?void 0:h.name)&&t.tier<=4&&(e+=3*this.petBehind().level,S=!0);let k=this.calculateDamgae(t,this.getManticoreMult(),e,!0),T=k.attackEquipment,D=k.defenseEquipment,N=k.damage,I="Ghost Kitten"==t.name,U=0;I&&(U=3*t.level,N=Math.max(1,N-U)),this.dealDamage(t,N);let O=`${this.name} sniped ${t.name} for ${N}.`;if(null!=D){t.useDefenseEquipment(!0);let pe=Math.abs(D.power),ve="-";if(D.power<0&&(ve="+"),"Strawberry"===D.name){let Oe=t.getSparrowLevel();Oe>0&&(pe=5*Oe,O+=` (Strawberry -${pe} (Sparrow))`)}else O+=` (${D.name} ${ve}${pe})`;O+=D.multiplierMessage}if(null!=T&&"attack-snipe"==T.equipmentClass){let pe=Math.abs(T.power),ve="-";T.power>0&&(ve="+"),O+=` (${T.name} ${ve}${pe})`}(null===(d=this.equipment)||void 0===d?void 0:d.multiplier)>1&&(O+=this.equipment.multiplierMessage),s&&(O+=" (Tiger)"),S&&(O+=" (Albatross)"),a&&this.equipment&&(O+=` (${this.equipment.name})`),o&&(O+=" (Mana)"),I&&(O+=` -${U} (Ghost Kitten)`),"Exposed"==(null===(m=t.equipment)||void 0===m?void 0:m.name)&&(O+="x2 (Exposed)",t.equipment.multiplier>1&&(O+=t.equipment.multiplierMessage));let G=this.getManticoreMult(),oe=["Weak","Cold","Exposed","Spooked"].includes(null===(y=t.equipment)||void 0===y?void 0:y.name);if(G.length>0&&oe)for(let pe of G)O+=` x${pe+1} (Manticore)`;return k.nurikabe>0&&(O+=` -${k.nurikabe} (Nurikabe)`),k.fairyBallReduction>0&&(O+=` -${k.fairyBallReduction} (Fairy Ball)`),k.fanMusselReduction>0&&(O+=` -${k.fanMusselReduction} (Fan Mussel)`),this.logService.createLog({message:O,type:"attack",randomEvent:i,player:this.parent,pteranodon:r}),N}calculateDamgae(t,e,i,s=!1){var r,a,o,l,h,d,m,y,S,k;let T=null===(r=this.equipment)||void 0===r?void 0:r.multiplier,D=null===(a=t.equipment)||void 0===a?void 0:a.multiplier;const I=["Ink"];let G,Y,O="defense"==(null===(o=t.equipment)||void 0===o?void 0:o.equipmentClass)||"shield"==(null===(l=t.equipment)||void 0===l?void 0:l.equipmentClass)||"ailment-defense"==(null===(h=t.equipment)||void 0===h?void 0:h.equipmentClass)||s&&"shield-snipe"==(null===(d=t.equipment)||void 0===d?void 0:d.equipmentClass)?t.equipment:null;if(null!=O){if(["Cold","Weak","Spooked"].includes(null==O?void 0:O.name))for(let X of e)D+=X;O.power=O.originalPower*D}if(s)G="attack-snipe"==(null===(m=this.equipment)||void 0===m?void 0:m.equipmentClass)?this.equipment:null,Y=null!=G?i+G.power:i,O instanceof Bp&&(O=null);else{if(G=this.equipment instanceof _C?new gz:this.equipment instanceof Bp?new bC:"attack"==(null===(y=this.equipment)||void 0===y?void 0:y.equipmentClass)||"ailment-attack"==(null===(S=this.equipment)||void 0===S?void 0:S.equipmentClass)?this.equipment:null,null!=G){if(I.includes(null==G?void 0:G.name))for(let Ne of e)T+=Ne;G.power=G.originalPower*T}let X=this.attack;"Monty"==this.name&&(X*=this.level+1),Y=(null!=i?i:X)+((null==G?void 0:G.power)?G.power:0)}let oe=(null==O?void 0:O.power)?O.power:0,pe=t.getSparrowLevel();"Strawberry"===(null===(k=t.equipment)||void 0===k?void 0:k.name)&&pe>0&&(oe+=5*pe),t.equipment instanceof Bp&&t.equipment.uses>0&&!s&&(Y=Math.floor(Y*Math.pow(.5,D))),G instanceof f_&&!s&&(Y*=2+T-1),G instanceof bC&&!s&&(Y=Math.floor(Y*Math.pow(.5,T)));let Oe=!1;if(G instanceof m_&&!s&&Math.random()<.5&&(Y*=2+T-1,Oe=!0),G instanceof p_&&!s&&(Y=Math.max(15,Y)),t.equipment instanceof Lp){let X=2;for(let re of e)X+=re;X+=t.equipment.multiplier-1,Y*=X}let Je,ct="shield"==(null==O?void 0:O.equipmentClass)||"shield-snipe"==(null==O?void 0:O.equipmentClass)?0:1;void 0!==(null==O?void 0:O.minimumDamage)&&(ct=O.minimumDamage),Je=Y<=ct&&oe>0?Math.max(Y,0):Math.max(ct,Y-oe),O instanceof g_&&(Je=Math.min(Je,t.health-1));let st=0;"Fairy Ball"===t.name&&Je>0&&(st=2*t.level,Je=Math.max(1,Je-st));let ui=0;"Nurikabe"==t.name&&t.abilityUses<3&&Je>0&&(ui=4*t.level,Je=Math.max(1,Je-st),t.abilityUses++);let hi=0;return"Fan Mussel"==t.name&&t.abilityUses<t.maxAbilityUses&&Je>0&&(hi=1*t.level,Je=Math.max(1,Je-st),t.abilityUses++),{defenseEquipment:O,attackEquipment:G,damage:Je,fortuneCookie:Oe,nurikabe:ui,fairyBallReduction:st,fanMusselReduction:hi,mapleSyrupReduction:0}}resetPet(){var t,e;this.health=this.originalHealth,this.attack=this.originalAttack,this.equipment=this.originalEquipment,this.lastLostEquipment=null,this.mana=this.originalMana,this.exp=this.originalExp,this.timesHurt=this.originalTimesHurt,this.timesAttacked=0,this.abilityCounter=0,this.transformed=!1,this.transformedInto=null,this.currentTarget=null,this.lastAttacker=null,this.killedBy=null,this.swallowedPets=[],this.targettedFriends.clear(),this.savedPosition=this.originalSavedPosition,this.setAbilityUses(),this.done=!1,this.seenDead=!1,this.disabled=!1;try{null===(t=this.equipment)||void 0===t||t.reset()}catch(s){console.warn("equipment reset failed",this.equipment),console.error(s)}this.startOfBattle=this.originalStartOfBattle,this.transform=this.originalTransform,this.beforeAttack=this.originalBeforeAttack,this.afterAttack=this.originalAfterAttack,this.beforeFriendAttacks=this.originalBeforeFriendAttacks,this.enemyAttack=this.originalEnemyAttack,this.friendAttacks=this.originalFriendAttacks,this.hurt=this.originalHurt,this.faint=this.originalFaint,this.friendSummoned=this.originalFriendSummoned,this.friendAheadAttacks=this.originalFriendAheadAttacks,this.adjacentAttacked=this.originalAdjacentAttacked,this.friendAheadFaints=this.originalFriendAheadFaints,this.friendFaints=this.originalFriendFaints,this.friendAteFood=this.originalFriendAteFood,this.eatsFood=this.originalEatsFood,this.friendLostPerk=this.originalFriendLostPerk,this.gainedPerk=this.originalGainedPerk,this.friendGainedPerk=this.originalFriendGainedPerk,this.friendGainedAilment=this.originalFriendGainedAilment,this.friendHurt=this.originalFriendHurt,this.friendTransformed=this.originalFriendTransformed,this.afterFaint=this.originalAfterFaint,this.beforeStartOfBattle=this.originalBeforeStartOfBattle,this.anyoneLevelUp=this.originalAnyoneLevelUp,this.endTurn=this.originalEndTurn,this.knockOut=this.originalKnockOut,this.summoned=this.originalSummoned,this.friendlyToyBroke=this.originalFriendlyToyBroke,this.enemySummoned=this.originalEnemySummoned,this.enemyPushed=this.originalEnemyPushed,this.enemyHurt=this.originalEnemyHurt,this.emptyFrontSpace=this.originalEmptyFrontSpace,this.gainedMana=this.originalGainedMana,this.friendJumped=this.originalFriendJumped,this.enemyJumped=this.originalEnemyJumped,this.enemyGainedAilment=this.originalEnemyGainedAilment,this.friendGainsHealth=this.originalFriendGainsHealth,this.friendGainedExperience=this.originalFriendGainedExperience;let i=null===(e=this.faint)||void 0===e?void 0:e.bind(this);(null!=i||null!=this.afterFaint)&&(this.faintPet=!0),this.faint=(s,r,a)=>{if(null!=i&&i(s,r,a),!this.kitsuneCheck()&&this.mana>0){let o;o={priority:this.attack,player:this.parent,callback:()=>{let l=Bt(s,this.parent).getRandomPet([],!1,!0),h=l.pet;null!=h&&0!=this.mana&&this.snipePet(h,this.mana,l.random,!1,!1,!1,!0)}},this.abilityService.setManaEvent(o)}}}jumpAttackPrep(t){this.beforeAttack&&this.alive&&this.abilityService.setBeforeAttackEvent({callback:this.beforeAttack.bind(this),priority:this.attack,player:this.parent,pet:this}),t.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:t.beforeAttack.bind(t),priority:t.attack,player:t.parent,pet:t}),this.abilityService.executeBeforeAttackEvents(),this.abilityService.triggerBeforeFriendAttacksEvents(this.parent,this),this.abilityService.triggerBeforeFriendAttacksEvents(t.parent,this),this.abilityService.executeBeforeFriendAttacksEvents()}jumpAttack(t,e,i,s=!1){let r;t.lastAttacker=this,r=this.transformed?this.transformedInto:this,t.transformed&&(t=t.transformedInto),r.alive&&t.alive&&(r.attackPet(t,!0,i,s),t.attackPet(r),r.useAttackDefenseEquipment(),t.useAttackDefenseEquipment(),r.parent.checkPetsAlive(),t.parent.checkPetsAlive(),r.abilityService.executeAfterAttackEvents(),r.abilityService.executeAfterFriendAttackEvents(),r.abilityService.triggerFriendJumpedEvents(r.parent,r),r.abilityService.triggerEnemyJumpedEvents(t.parent,r))}get alive(){return this.health>0}setFaintEventIfPresent(){var t;null!=this.faint&&this.abilityService.setFaintEvent({priority:this.attack,callback:this.faint.bind(this),pet:this}),"faint"==(null===(t=this.equipment)||void 0===t?void 0:t.equipmentClass)&&this.abilityService.setFaintEvent({priority:-1,callback:()=>{try{this.equipment.callback(this)}catch(e){console.warn("equipment callback failed",this.equipment)}},pet:this})}useDefenseEquipment(t=!1){if(null!=this.equipment){if("ailment-defense"!=this.equipment.equipmentClass&&"Exposed"!=this.equipment.name&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&t&&"shield-snipe"!=this.equipment.equipmentClass)return;null!=this.equipment.uses&&(this.equipment.uses-=1,0==this.equipment.uses&&this.removePerk())}}useAttackDefenseEquipment(){null!=this.equipment&&null!=this.equipment.uses&&("attack"!=this.equipment.equipmentClass&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&"snipe"!=this.equipment.equipmentClass&&"ailment-attack"!=this.equipment.equipmentClass&&"ailment-defense"!=this.equipment.equipmentClass&&"Exposed"!=this.equipment.name||(isNaN(this.equipment.uses)&&console.warn("uses is NaN",this.equipment),this.equipment.uses-=1,0==this.equipment.uses&&this.removePerk()))}increaseAttack(t){let e=50;"Behemoth"==this.name&&(e=100),this.alive&&(this.attack=Math.min(Math.max(this.attack+t,1),e))}increaseHealth(t){let e=50;("Behemoth"==this.name||"Giant Tortoise"==this.name)&&(e=100),this.alive&&(this.health=Math.min(Math.max(this.health+t,1),e),this.abilityService.triggerFriendGainsHealthEvents(this.parent,this),this.abilityService.executeFriendGainsHealthEvents())}dealDamage(t,e){!t.alive||(t.health-=e,t.health<=0&&(t.killedBy=this),e>0&&t.timesHurt++,null!=t.hurt&&e>0&&this.abilityService.setHurtEvent({callback:t.hurt.bind(t),priority:t.attack,player:t.parent,callbackPet:this,pet:t}),t.health<1&&null!=this.knockOut&&this.abilityService.setKnockOutEvent({callback:this.knockOut.bind(this),priority:this.attack,callbackPet:t,pet:this}),e>0&&this.abilityService.triggerFriendHurtEvents(t.parent,t),e>0&&this.abilityService.triggerEnemyHurtEvents(this.parent,t))}increaseExp(t){let e=this.level;this.increaseAttack(t),this.increaseHealth(t),this.exp=Math.min(this.exp+t,5);let i=this.level-e;for(let s=0;s<i;s++)this.logService.createLog({message:`${this.name} leveled up to level ${this.level}.`,type:"ability",player:this.parent}),this.abilityService.triggerLevelUpEvents(this.parent,this),this.abilityService.triggerLevelUpEvents(this.parent.opponent,this),this.abilityService.executeFriendlyLevelUpToyEvents(),this.setAbilityUses();for(let s=0;s<Math.min(t,5);s++)this.abilityService.triggerFriendGainedExperienceEvents(this.parent,this)}increaseMana(t){this.mana+=t,this.mana=Math.min(this.mana,50),null!=this.gainedMana&&this.abilityService.setGainManaEvents({callback:this.gainedMana.bind(this),priority:this.attack,pet:this})}givePetEquipment(t,e=1){if(null!=t){if(this.alive)if("ailment-attack"==t.equipmentClass||"ailment-defense"==t.equipmentClass||"ailment-other"==t.equipmentClass){if(this.equipment instanceof wC)return this.equipment.uses--,this.logService.createLog({message:`${this.name} blocked ${t.name}. (Ambrosia)`,type:"equipment",player:this.parent}),void(0==this.equipment.uses&&this.removePerk());if(this.equipment instanceof SC)return this.logService.createLog({message:`${this.name} blocked ${t.name}. (White Okra)`,type:"equipment",player:this.parent}),void this.removePerk();this.applyEquipment(t,e),this.abilityService.triggerFriendGainedAilmentEvents(this),this.abilityService.triggerEnemyGainedAilmentEvents(this.parent.opponent.petArray,this)}else{if(t instanceof x3){this.applyEquipment(t,e);let i=1*t.multiplier,s=2*t.multiplier;this.increaseAttack(i),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${i} attack and ${s} health (Blackberry)${t.multiplierMessage}`,type:"equipment",player:this.parent})}else this.applyEquipment(t,e);this.abilityService.triggerGainedPerkEvents(this),this.abilityService.triggerFriendGainedPerkEvents(this),this.eatsFood&&this.abilityService.setEatsFoodEvent({callback:this.eatsFood.bind(this),priority:this.attack,callbackPet:this,pet:this}),this.abilityService.triggerFriendAteFoodEvents(this)}}else console.warn(`givePetEquipment called with null equipment for pet: ${this.name}`)}applyEquipment(t,e=1){null!=t&&(this.equipment=t,this.setEquipmentMultiplier(e),this.equipment.callback&&"beforeStartOfBattle"!=this.equipment.equipmentClass&&this.equipment.callback(this))}removePerk(){if(null==this.equipment)return;let t="ailment-attack"==this.equipment.equipmentClass||"ailment-defense"==this.equipment.equipmentClass||"ailment-other"==this.equipment.equipmentClass;this.lastLostEquipment=this.equipment,this.equipment=null,t||this.abilityService.triggerFriendLostPerkEvents(this)}setEquipmentMultiplier(t=1){var e;if(!this.equipment)return;let i=(null===(e=this.equipment)||void 0===e?void 0:e.multiplier)||1,s=[];"Panther"===this.name&&"ailment-attack"!==this.equipment.equipmentClass&&"ailment-defense"!==this.equipment.equipmentClass&&"ailment-other"!==this.equipment.equipmentClass&&(i+=this.level,s.push(`x${this.level+1} (Panther)`)),t&&t>1&&(i+=t-1,s.push(`x${t} (Pandora's Box)`)),this.equipment.multiplier=i,this.equipment.multiplierMessage=s.length>0?` ${s.join(" ")}`:""}get level(){return this.exp<2?1:this.exp<5?2:3}get position(){return this==this.parent.pet0?0:this==this.parent.pet1?1:this==this.parent.pet2?2:this==this.parent.pet3?3:this==this.parent.pet4?4:void 0}petBehind(t=!1,e=!1){for(let s=(void 0!==this.position?this.position:this.savedPosition)+1;s<5;s++){let r=this.parent.getPetAtPosition(s);if(e&&null!=r)return r;if(t&&null!=r&&!r.alive&&!r.seenDead)return null;if(null!=r&&r.alive)return r}return null}getManticoreMult(){let t=[];for(let e of this.parent.petArray)"Manticore"==e.name&&t.push(e.level);return t}getSparrowLevel(){let t=0;for(let e of this.parent.petArray)"Sparrow"==e.name&&(t=Math.max(t,e.level));return t}getPetsAhead(t,e=!1,i){var s,r;let a=[],o=this.petAhead;for(;o&&!(a.length>=t);)i&&(null===(s=o.equipment)||void 0===s?void 0:s.name)===i||a.push(o),o=o.petAhead;if(a.length<t&&1==e){let h=this.parent.opponent.furthestUpPet;for(;h&&!(a.length>=t);)i&&(null===(r=h.equipment)||void 0===r?void 0:r.name)===i||a.push(h),h=h.petBehind()}return a}getPetsBehind(t,e){var i;let s=[],r=this.petBehind();for(e&&(null===(i=r.equipment)||void 0===i?void 0:i.name)===e&&(r=r.petBehind());r&&!(s.length>=t);)s.push(r),r=r.petBehind();return s}kitsuneCheck(){let t=this.petBehind(),e=!0;for(;t;){if("Kitsune"==t.name&&e)return!1;if(e=!1,"Kitsune"==t.name)return!0;t=t.petBehind()}return!1}get petAhead(){for(let t=this.position-1;t>-1;t--){let e=this.parent.getPetAtPosition(t);if(null!=e&&e.alive)return e}return null}get minExpForLevel(){return 1==this.level?0:2==this.level?2:5}}class wr extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puma",this.tier=6,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(o,s,r,a,l)}}class y_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Golden Retriever",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class EC extends ne{constructor(t){super(),this.logService=t,this.name="Onion",this.equipmentClass="beforeAttack",this.callback=e=>{var i;let s=null===(i=e.beforeAttack)||void 0===i?void 0:i.bind(e);e.beforeAttack=(r,a)=>{var o;null!=s&&s(r,a),!a&&"Onion"==(null===(o=e.equipment)||void 0===o?void 0:o.name)&&(this.logService.createLog({message:`${e.name} pushed itself to the back. (Onion)`,type:"equipment",player:e.parent}),e.removePerk(),e.parent.pushPetToBack(e),e.parent.pushPetsForward())}}}}class R3{constructor(t,e,i){this.logService=t,this.abilityService=e,this.gameService=i,this.pack="Turtle",this.trumpets=0,this.spawnedGoldenRetiever=!1,this.summonedBoatThisBattle=!1}alive(){return this.petArray.length>0}resetPets(){var t,e,i,s,r;this.pet0=this.orignalPet0,null===(t=this.pet0)||void 0===t||t.resetPet(),this.pet1=this.orignalPet1,null===(e=this.pet1)||void 0===e||e.resetPet(),this.pet2=this.orignalPet2,null===(i=this.pet2)||void 0===i||i.resetPet(),this.pet3=this.orignalPet3,null===(s=this.pet3)||void 0===s||s.resetPet(),this.pet4=this.orignalPet4,null===(r=this.pet4)||void 0===r||r.resetPet(),this.orignalPet0=this.pet0,this.orignalPet1=this.pet1,this.orignalPet2=this.pet2,this.orignalPet3=this.pet3,this.orignalPet4=this.pet4,this.toy=this.originalToy,this.toy&&(this.toy.used=!1,this.toy.triggers=0),this.brokenToy=null,this.trumpets=0,this.spawnedGoldenRetiever=!1,this.summonedBoatThisBattle=!1}setPet(t,e,i=!1){this.getPet(t),0==t&&(this.pet0=e,null!=e&&(this.pet0.savedPosition=0),i&&(this.orignalPet0=e)),1==t&&(this.pet1=e,null!=e&&(this.pet1.savedPosition=1),i&&(this.orignalPet1=e)),2==t&&(this.pet2=e,null!=e&&(this.pet2.savedPosition=2),i&&(this.orignalPet2=e)),3==t&&(this.pet3=e,null!=e&&(this.pet3.savedPosition=3),i&&(this.orignalPet3=e)),4==t&&(this.pet4=e,null!=e&&(this.pet4.savedPosition=4),i&&(this.orignalPet4=e)),i&&null!=e&&(e.originalSavedPosition=e.savedPosition)}getPet(t){return this[`pet${t}`]}pushPetsForward(){let t=(0,vt.clone)(this.petArray);try{this.setPet(0,t[0])}catch(e){this.pet0=null}try{this.setPet(1,t[1])}catch(e){this.pet1=null}try{this.setPet(2,t[2])}catch(e){this.pet2=null}try{this.setPet(3,t[3])}catch(e){this.pet3=null}try{this.setPet(4,t[4])}catch(e){this.pet4=null}}onionCheck(){var t;null!=(null===(t=this.pet0)||void 0===t?void 0:t.equipment)&&this.pet0.equipment instanceof EC&&(this.pet0.equipment.callback(this.pet0),this.pushPetsForward())}summonPet(t,e,i=!1,s){if(s&&this.hasSilly(s)){let o=Math.random()<.5?this:this.opponent,l=Rn(0,4);return t.parent=o,{success:o.summonPet(t,l,i,void 0).success,randomEvent:!0}}if(5==this.petArray.length)return i||this.logService.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:this}),{success:!1,randomEvent:!1};this==this.gameService.gameApi.player?this.gameService.gameApi.playerSummonedAmount++:this.gameService.gameApi.opponentSummonedAmount++,0==e&&(null!=this.pet0&&this.makeRoomForSlot(0),this.setPet(0,t)),1==e&&(null!=this.pet1&&this.makeRoomForSlot(1),this.setPet(1,t)),2==e&&(null!=this.pet2&&this.makeRoomForSlot(2),this.setPet(2,t)),3==e&&(null!=this.pet3&&this.makeRoomForSlot(3),this.setPet(3,t)),4==e&&(null!=this.pet4&&this.makeRoomForSlot(4),this.setPet(4,t)),null!=t.summoned&&this.abilityService.setSummonedEvent({callback:t.summoned.bind(t),priority:t.attack,pet:t});let a=Bt(this.gameService.gameApi,this);return this.abilityService.triggerEnemySummonedEvents(a,t),{success:!0,randomEvent:!1}}transformPet(t,e){this.setPet(t.position,e),this==this.gameService.gameApi.player?this.gameService.gameApi.playerTransformationAmount++:this.gameService.gameApi.opponentTransformationAmount++,t.transformed=!0,t.transformedInto=e,e.applyEquipment(e.equipment),e.transform&&this.abilityService.setTransformEvent({callback:e.transform.bind(e),priority:e.attack,pet:e}),this.abilityService.triggerFriendTransformedEvents(this,e)}pushForwardFromSlot(t){let e=null,i=!1;if(t>0&&null==this.pet0&&(i=!0,e=0),t>1&&null==this.pet1&&(i=!0,e=1),t>2&&null==this.pet2&&(i=!0,e=2),t>3&&null==this.pet3&&(i=!0,e=3),i){for(let s=e;s<t;s++)this[`pet${s}`]=this[`pet${s+1}`];return!0}return!1}pushBackwardFromSlot(t){let e=null,i=!1;if(t<4&&null==this.pet4&&(i=!0,e=4),t<3&&null==this.pet3&&(i=!0,e=3),t<2&&null==this.pet2&&(i=!0,e=2),t<1&&null==this.pet1&&(i=!0,e=1),i)for(let s=e;s>t;s--)this[`pet${s}`]=this["pet"+(s-1)]}makeRoomForSlot(t){5!=this.petArray.length?this.pushForwardFromSlot(t)||this.pushBackwardFromSlot(t):console.warn("No room to Make Room")}get petArray(){let t=[];return null!=this.pet0&&t.push(this.pet0),null!=this.pet1&&t.push(this.pet1),null!=this.pet2&&t.push(this.pet2),null!=this.pet3&&t.push(this.pet3),null!=this.pet4&&t.push(this.pet4),t}handleDeath(t){t.seenDead=!0,t.setFaintEventIfPresent();let e=t.petBehind(null,!0);null!=(null==e?void 0:e.friendAheadFaints)&&(null==e?void 0:e.alive)&&this.abilityService.setFriendAheadFaintsEvent({callback:e.friendAheadFaints.bind(e),priority:e.attack,player:this,callbackPet:t,pet:e}),this.createDeathLog(t)}checkPetsAlive(){this.pet0&&!this.pet0.alive&&!this.pet0.seenDead&&this.handleDeath(this.pet0),this.pet1&&!this.pet1.alive&&!this.pet1.seenDead&&this.handleDeath(this.pet1),this.pet2&&!this.pet2.alive&&!this.pet2.seenDead&&this.handleDeath(this.pet2),this.pet3&&!this.pet3.alive&&!this.pet3.seenDead&&this.handleDeath(this.pet3),this.pet4&&!this.pet4.alive&&!this.pet4.seenDead&&this.handleDeath(this.pet4)}removeDeadPets(){let t=!1;const e=[{pet:this.pet0,index:0},{pet:this.pet1,index:1},{pet:this.pet2,index:2},{pet:this.pet3,index:3},{pet:this.pet4,index:4}];for(const i of e)i.pet&&!i.pet.alive&&(i.pet.afterFaint?this.abilityService.setAfterFaintEvents({callback:i.pet.afterFaint.bind(i.pet),priority:i.pet.attack,player:this,callbackPet:i.pet,pet:i.pet}):i.pet.disabled=!0,this.abilityService.triggerFriendFaintsEvents(i.pet),this[`pet${i.index}`]=null,t=!0);return t}createDeathLog(t){this.logService.createLog({message:`${t.name} fainted.`,type:"death",player:t.parent})}getRandomPet(t,e,i,s,r,a){if(r&&this.hasSilly(r)){let h=this.getRandomLivingPet();return{pet:h.pet,random:h.random}}let o=[];if(o=a?[...this.petArray,...this.opponent.petArray]:this.petArray,e&&i){let h=this.getPetsWithEquipment("Donut").filter(m=>{null==t||t.includes(m)}),d=this.getPetsWithEquipment("Blueberry").filter(m=>{null==t||t.includes(m)});(h.length>0||d.length>0)&&(o=[...h,...d])}else if(e){let h=this.getPetsWithEquipment("Donut").filter(d=>{null==t||t.includes(d)});h.length>0&&(o=h),s&&(o=o.filter(d=>50!=d.health||50!=d.attack||"Behemoth"==d.name),0==o.length&&(o=this.petArray))}else if(i){let h=this.getPetsWithEquipment("Blueberry").filter(d=>{null==t||t.includes(d)});h.length>0&&(o=h)}if(o=o.filter(h=>{let d=!0;return t&&(d=!t.includes(h)),d&&h.health>0}),s){let h=(0,vt.clone)(o);o=o.filter(d=>50!=d.health||50!=d.attack),0==o.length&&(o=h)}return 0==o.length?{pet:null,random:!1}:{pet:o[Rn(0,o.length-1)],random:o.length>1}}getRandomPets(t,e,i,s,r,a){if(r&&this.hasSilly(r)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}let o=[];e=null!=e?e:[];for(let l=0;l<t;l++){let h=this.getRandomPet(e,i,s,null,r,a);if(null==h.pet)break;e.push(h.pet),o.push(h.pet)}return{pets:o,random:o.length>t}}getRandomLivingPets(t){let e=[],i=[];for(let s=0;s<t;s++){let r=this.getRandomLivingPet(i);if(null==r.pet)break;i.push(r.pet),e.push(r.pet)}return{pets:e,random:e.length>t}}getAll(t,e,i){if(e&&this.hasSilly(e))return{pets:[...this.petArray,...this.opponent.petArray].filter(a=>a.alive),random:!1};let s=[];return s=t?[...this.petArray,...this.opponent.petArray]:[...this.petArray],i&&(s=s.filter(r=>r!=e)),s=s.filter(r=>r.alive),{pets:s,random:!1}}getPetsWithEquipment(t){var e;let i=[];for(let s of this.petArray)!s.alive||(null===(e=s.equipment)||void 0===e?void 0:e.name)==t&&i.push(s);return i}getPetAtPosition(t){for(let e of this.petArray)if(e.position==t)return e;return null}getLastPet(t,e){if(e&&this.hasSilly(e)){let i=this.getRandomLivingPet();return{pet:i.pet,random:i.random}}for(let i of[...this.petArray].reverse())if(i.alive&&(!t||!t.includes(i)))return{pet:i,random:!1};return{pet:null,random:!1}}getLastPets(t,e,i){if(i&&this.hasSilly(i)){let o=this.getRandomLivingPets(t);return{pets:o.pets,random:o.random}}let s=[...this.petArray].filter(o=>o.alive);return e&&(s=s.filter("perk-less"==e?o=>{var l;return null==o.equipment||(null===(l=o.equipment)||void 0===l?void 0:l.name.startsWith("ailment"))}:o=>{var l;return(null===(l=o.equipment)||void 0===l?void 0:l.name)!=e})),0===s.length?{pets:[],random:!1}:{pets:[...s].reverse().slice(0,t),random:!1}}getHighestHealthPet(t,e){if(e&&this.hasSilly(e)){let r=this.getRandomLivingPet();return{pet:r.pet,random:r.random}}if(0==this.petArray.filter(r=>r!=t&&r.alive).length)return{pet:null,random:!1};let s;for(let r in this.petArray){let o=this.petArray[+r];if(o!=t){if(null==s){s=[o];continue}if(o.health==s[0].health){s.push(o);continue}o.health>s[0].health&&(s=[o])}}return{pet:s[Rn(0,s.length-1)],random:s.length>1}}getHighestAttackPet(t,e){if(e&&this.hasSilly(e)){let r=this.getRandomLivingPet();return{pet:r.pet,random:r.random}}let i;for(let r in this.petArray){let o=this.petArray[+r];if(o!=t&&o.alive){if(null==i){i=[o];continue}if(o.attack==i[0].attack){i.push(o);continue}o.attack>i[0].attack&&(i=[o])}}let s=null==i?null:i[Rn(0,i.length-1)];return{pet:s,random:null!=s&&i.length>1}}getLowestAttackPet(t,e){if(e&&this.hasSilly(e)){let r=this.getRandomLivingPet();return{pet:r.pet,random:r.random}}let i;for(let r in this.petArray){let o=this.petArray[+r];if(o!=t&&o.alive){if(null==i){i=[o];continue}if(o.attack==i[0].attack){i.push(o);continue}o.attack<i[0].attack&&(i=[o])}}let s=null==i?null:i[Rn(0,i.length-1)];return{pet:s,random:null!=s&&i.length>1}}getLowestHealthPet(t,e){if(e&&this.hasSilly(e)){let r=this.getRandomLivingPet();return{pet:r.pet,random:r.random}}let i;for(let r in this.petArray){let o=this.petArray[+r];if(o!=t&&o.alive){if(null==i){i=[o];continue}if(o.health==i[0].health){i.push(o);continue}o.health<i[0].health&&(i=[o])}}let s=null==i?null:i[Rn(0,i.length-1)];return{pet:s,random:null!=s&&i.length>1}}getLowestHealthPets(t,e,i){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}let s=[...this.petArray].filter(l=>l.alive);if(e&&(s=s.filter(l=>{var h;return(null===(h=l.equipment)||void 0===h?void 0:h.name)!=e})),0===s.length)return{pets:[],random:!1};let r=(0,vt.shuffle)(s);r.sort((l,h)=>l.health-h.health);let a=r.slice(0,t),o=!1;return a.length===t&&r.length>t&&a[t-1].health===r[t].health&&(o=!0),{pets:a,random:o}}getHighestHealthPets(t,e,i){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}let s=[...this.petArray].filter(l=>l.alive);if(e&&(s=s.filter(l=>{var h;return(null===(h=l.equipment)||void 0===h?void 0:h.name)!=e})),0===s.length)return{pets:[],random:!1};let r=(0,vt.shuffle)(s);r.sort((l,h)=>h.health-l.health);let a=r.slice(0,t),o=!1;return a.length===t&&r.length>t&&a[t-1].health===r[t].health&&(o=!0),{pets:a,random:o}}getHighestTierPets(t,e,i){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}let s=[...this.petArray].filter(l=>l.alive);if(e&&(s=s.filter(l=>{var h;return(null===(h=l.equipment)||void 0===h?void 0:h.name)!=e})),0===s.length)return{pets:[],random:!1};let r=(0,vt.shuffle)(s);r.sort((l,h)=>h.tier-l.tier);let a=r.slice(0,t),o=!1;return a.length===t&&r.length>t&&a[t-1].tier===r[t].tier&&(o=!0),{pets:a,random:o}}getTierXOrLowerPet(t,e,i){if(i&&this.hasSilly(i)){let a=this.getRandomLivingPet();return{pet:a.pet,random:a.random}}let s=[...this.petArray].filter(a=>a.alive&&a.tier<=t);return e&&(s=s.filter(a=>{var o;return(null===(o=a.equipment)||void 0===o?void 0:o.name)!=e})),0===s.length?{pet:null,random:!1}:{pet:s[Rn(0,s.length-1)],random:s.length>1}}get furthestUpPet(){for(let t of this.petArray)if(t.alive)return t;return null}getFurthestUpPet(t){if(t&&this.hasSilly(t)){let e=this.getRandomLivingPet();return{pet:e.pet,random:e.random}}for(let e of this.petArray)if(e.alive)return{pet:e,random:!1};return{pet:null,random:!1}}getFurthestUpPets(t,e,i,s,r){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}let a=[...this.petArray].filter(l=>l.alive&&!(null==r?void 0:r.includes(l)));return e&&(a=a.filter("perk-less"==e?l=>{var h;return null==l.equipment||(null===(h=l.equipment)||void 0===h?void 0:h.name.startsWith("ailment"))}:l=>{var h;return(null===(h=l.equipment)||void 0===h?void 0:h.name)!=e})),s&&(a=a.filter(l=>{var h;return(null===(h=l.equipment)||void 0===h?void 0:h.name)==s})),0===a.length?{pets:[],random:!1}:{pets:a.slice(0,t),random:!1}}nearestPetsBehind(t,e,i){if(e&&this.hasSilly(e)){let r=this.getRandomLivingPets(t);return{pets:r.pets,random:r.random}}return{pets:e.getPetsBehind(t,i),random:!1}}getThis(t){if(t&&this.hasSilly(t)){let e=this.getRandomLivingPet();return{pet:e.pet,random:e.random}}return{pet:t,random:!1}}getSpecificPet(t,e){if(t&&this.hasSilly(t)){let i=this.getRandomLivingPet();return{pet:i.pet,random:i.random}}return{pet:e,random:!1}}nearestPetsAhead(t,e,i,s){if(e&&this.hasSilly(e)){let a=this.getRandomLivingPets(t);return{pets:a.pets,random:a.random}}return{pets:e.getPetsAhead(t,s||!1,i),random:!1}}breakToy(t=!1){if(null!=this.toy){if(this.brokenToy=this.toy,this.logService.createLog({message:`${this.toy.name} broke!`,type:"ability",player:this,randomEvent:!1}),null!=this.toy.onBreak){let e=[{callback:this.toy.onBreak.bind(this.toy),priority:99}],i=this.toy.level;for(let s of this.petArray)s instanceof wr&&e.push({callback:()=>{this.toy.level=s.level,this.toy.onBreak(this.gameService.gameApi,!0),this.toy.level=i},priority:s.attack});e.sort((s,r)=>s.priority>r.priority?-1:s.priority<r.priority?1:0);for(let s of e)s.callback(this.gameService.gameApi)}this.toy=null,t&&this.setToy(this.brokenToy)}}setToy(t){this.toy=t}getStrongestPet(t){if(t&&this.hasSilly(t)){let a=this.getRandomLivingPet();return{pet:a.pet,random:a.random}}let e=[],i=-1,s=(0,vt.shuffle)(this.petArray.filter(a=>a.alive));for(let a of s){let o=a.attack+a.health;o>i?(i=o,e=[a]):o===i&&e.push(a)}return 0===e.length?{pet:null,random:!1}:{pet:e[Rn(0,e.length-1)],random:e.length>1}}pushPetToFront(t,e=!1){this.pushPet(t,4),e&&(this.abilityService.triggerFriendJumpedEvents(this,t),this.abilityService.triggerFriendJumpedToyEvents(this,t),this.abilityService.triggerEnemyJumpedEvents(this,t))}pushPetToBack(t){this.pushPet(t,-4)}pushPet(t,e=1){let r,i=t.parent,s=t.position;i[`pet${s}`]=null,e>0&&(r=Math.max(s-e,0),null!=this.getPet(r)&&this.pushForwardFromSlot(r),this.setPet(r,t)),e<0&&(r=Math.min(s-e,4),null!=this.getPet(r)&&this.pushBackwardFromSlot(r),this.setPet(r,t));let a=Bt(this.gameService.gameApi,i);this.abilityService.triggerEnemyPushedEvents(a,t)}get opponent(){return Bt(this.gameService.gameApi,this)}gainTrumpets(t,e,i,s,r){this.trumpets=Math.min(50,this.trumpets+=t);let a=`${e.name} gained ${t} trumpets. (${this.trumpets})`;r&&(a+=" (Cherry)"),this.logService.createLog({message:a,type:"trumpets",player:this,pteranodon:i,pantherMultiplier:s})}spendTrumpets(t,e,i){this.trumpets=Math.max(0,this.trumpets-=t),this.logService.createLog({message:`${e.name} spent ${t} trumpets. (${this.trumpets})`,type:"trumpets",player:this,pteranodon:i})}checkGoldenSpawn(){if(this.spawnedGoldenRetiever||this.petArray.length>1||0==this.trumpets)return;let t=new y_(this.logService,this.abilityService,this,this.trumpets,this.trumpets);this.logService.createLog({message:`${this==this.gameService.gameApi.player?"Player":"Opponent"} spawned Golden Retriever (${t.attack}/${t.health})`,type:"ability",player:this}),this.summonPet(t,0)&&this.abilityService.triggerFriendSummonedEvents(t),this.trumpets=0,this.spawnedGoldenRetiever=!0}getManticoreMult(){let t=[];for(let e of this.petArray)"Manticore"==e.name&&t.push(e.level);return t}summonPetInFront(t,e){if(5==this.petArray.length)return this.logService.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:this}),{success:!1,randomEvent:!1};let i=!1;for(let s=0;s<t.position;s++)if(null==this.getPet(s)){i=!0;break}if(i)return this.summonPet(e,t.position-1,!1,t);{let s=t.position;return this.pushPet(t,-1),this.summonPet(e,s,!1,t)}}summonPetBehind(t,e){if(5==this.petArray.length)return this.logService.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:this}),{success:!1,randomEvent:!1};let i=!1;for(let s=0;s<t.position;s++)if(null==this.getPet(s)){i=!0;break}return i?(this.pushPet(t,1),this.summonPet(e,t.position+1,!1,t)):this.summonPet(e,t.position+1,!1,t)}getPetsWithinXSpaces(t,e){if(t&&this.hasSilly(t)){let r=this.getRandomLivingPets(2*e);return{pets:r.pets,random:r.random}}const i=t.savedPosition,s=[];for(const r of this.petArray)if(r.alive&&r!==t){const a=Math.abs(r.position-i);a>0&&a<=e&&s.push(r)}for(const r of this.opponent.petArray)r.alive&&i+r.position+1<=e&&s.push(r);return{pets:s,random:!1}}getOppositeEnemyPet(t){if(t&&this.hasSilly(t)){let s=this.getRandomLivingPet();return{pet:s.pet,random:s.random}}let e=t.position,i=this.opponent.getPetAtPosition(e);if(i&&i.alive)return{pet:i,random:!1};for(let s=1;s<=4;s++){if(i=this.opponent.getPetAtPosition(e+s),i&&i.alive)return{pet:i,random:!1};if(i=this.opponent.getPetAtPosition(e-s),i&&i.alive)return{pet:i,random:!1}}return{pet:null,random:!1}}hasSilly(t){var e;return"Silly"===(null===(e=t.equipment)||void 0===e?void 0:e.name)}getRandomLivingPet(t){let e=[...this.petArray,...this.opponent.petArray],i=this.getPetsWithEquipment("Donut").filter(l=>!(null==t?void 0:t.includes(l))),s=this.getPetsWithEquipment("Blueberry").filter(l=>!(null==t?void 0:t.includes(l))),r=this.opponent.getPetsWithEquipment("Donut").filter(l=>!(null==t?void 0:t.includes(l))),a=this.opponent.getPetsWithEquipment("Blueberry").filter(l=>!(null==t?void 0:t.includes(l)));return(i.length>0||s.length>0||r.length>0||a.length>0)&&(e=[...i,...s,...r,...a]),e=e.filter(l=>{let h=!0;return t&&(h=!t.includes(l)),h&&l.health>0}),0==e.length?{pet:null,random:!1}:{pet:e[Rn(0,e.length-1)],random:e.length>1}}}let fc=(()=>{class n{static setInjector(e){n.injector||(n.injector=e)}static getInjector(){return n.injector}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class __ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ant",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=1==this.level?{health:1,attack:1}:2==this.level?{health:2,attack:2}:{health:3,attack:3},r=this.parent.getRandomPet([this],!0,!1,!0,this);null!=r.pet&&(this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${s.attack} attack and ${s.health} health.`,type:"ability",randomEvent:r.random,player:this.parent,tiger:e,pteranodon:i}),r.pet.increaseAttack(s.attack),r.pet.increaseHealth(s.health),this.superFaint(t,e),this.done=!0)}}class _h extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Cricket",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class kC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cricket",this.tier=1,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=1,r=0;2==this.level?(r=2,s=2):3==this.level&&(r=5,s=3);let a=new _h(this.logService,this.abilityService,this.parent,null,null,null,r),o=this.parent.summonPet(a,this.savedPosition,!1,this);o.success&&(this.logService.createLog({message:`${this.name} spawned Zombie Cricket Level ${s}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a)),super.superAfterFaint(t,e,i)}}class b_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fish",this.tier=1,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(o,s,r,a,l)}}class CC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Horse",this.tier=1,this.pack="Turtle",this.health=1,this.attack=2,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let s=this.parent.getSpecificPet(this,e);null!=s.pet&&(s.pet.increaseAttack(this.level),this.logService.createLog({message:`${this.name} gave ${e.name} ${this.level} attack`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),super.superFriendSummoned(t,e,i))}}class AC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosquito",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;let s=i.getRandomPets(this.level,null,null,!0,this);for(let r of s.pets)null!=r&&this.snipePet(r,1,s.random,e);super.superStartOfBattle(t,e)}}class S_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duck",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}}class w_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beaver",this.tier=1,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(o,s,r,a,l)}}class PC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Otter",this.tier=1,this.pack="Turtle",this.health=4,this.attack=1,this.initPet(o,s,r,a,l)}}class DC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pig",this.tier=1,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(o,s,r,a,l)}}class TC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mouse",this.tier=1,this.pack="Custom",this.health=2,this.attack=1,this.initPet(o,s,r,a,l)}}class mz extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snail",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}}class xC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crab",this.tier=2,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(!this.alive)return;let i=this.parent.getHighestHealthPet(this,this);if(null==i.pet)return;let s=Math.floor(i.pet.health*(.25*this.level)),r=this.parent.getThis(this);r.pet&&(r.pet.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${.25*this.level*100}% of ${i.pet.name}'s health (${s})`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random})),super.superStartOfBattle(t,e)}}class MC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Swan",this.tier=2,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,s,r,a,l)}}class E_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dirty Rat",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class RC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rat",this.tier=2,this.pack="Turtle",this.health=6,this.attack=3,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;for(let r=0;r<this.level;r++){let a=new E_(this.logService,this.abilityService,s,null,null,0,0),o=s.summonPet(a,0,!1,this);o.success&&(this.logService.createLog({message:`${this.name} Summoned Dirty Rat on Opponent`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a))}super.superAfterFaint(t,e,i)}}class IC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hedgehog",this.tier=2,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getAll(!0,this),r=s.pets;if(0==r.length)return;let a=2*this.level;for(let o of r)this.snipePet(o,a,s.random,e,i);super.superFaint(t,e),this.done=!0}}class OC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Peacock",this.tier=2,this.pack="Turtle",this.health=5,this.attack=2,this.initPet(o,s,r,a,l)}hurt(t,e,i){if(this.health<1)return;let s=3*this.level,r=this.parent.getThis(this);r.pet&&(r.pet.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random})),super.superHurt(t,e,i)}}class NC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flamingo",this.tier=2,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let a=this.parent.nearestPetsBehind(2,this).pets;if(0!=a.length){for(let o of a)o.increaseAttack(this.level),o.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${o.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});super.superFaint(t,e)}}}class LC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Worm",this.tier=2,this.pack="Turtle",this.health=1,this.attack=3,this.initPet(o,s,r,a,l)}}class BC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kangaroo",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}friendAheadAttacks(t,e,i){if(!this.alive)return;let s=this.parent.getThis(this);s.pet&&(s.pet.increaseAttack(this.level),s.pet.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${s.pet.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})),super.superFriendAheadAttacks(t,e,i)}}class $C extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Spider",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let s;s=this.parent==t.player?t.playerPetPool.get(3):t.opponentPetPool.get(3);let r=s.filter(m=>"Spider"!=m),a=r[Rn(0,r.length-1)],o=this.level,l=2*this.level,h=this.petService.createPet({attack:l,exp:this.minExpForLevel,equipment:null,health:l,name:a,mana:0},this.parent);this.parent.summonPet(h,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned ${h.name} level ${o} (${l}/${l})`,type:"ability",player:this.parent,randomEvent:!0,tiger:e,pteranodon:i}),this.abilityService.triggerFriendSummonedEvents(h)),super.superAfterFaint(t,e,i)}}class VC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dodo",this.tier=3,this.pack="Turtle",this.health=2,this.attack=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(1,this);if(0===i.pets.length)return;let s=i.pets[0],r=Math.floor(this.attack*(.5*this.level));s.increaseAttack(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack.`,player:this.parent,type:"ability",tiger:e,randomEvent:i.random}),super.superStartOfBattle(t,e)}}class FC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Badger",this.tier=3,this.pack="Turtle",this.health=3,this.attack=6,this.initPet(o,s,r,a,l)}faint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;let r=Math.floor(this.attack*(.5*this.level)),a=this.parent.nearestPetsBehind(1,this);a.pets.length>0&&this.snipePet(a.pets[0],r,a.random,e,i);let o=this.parent.nearestPetsAhead(1,this,void 0,!0);o.pets.length>0&&this.snipePet(o.pets[0],r,o.random,e,i),super.superFaint(t,e),this.done=!0}}class k_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dolphin",this.tier=3,this.pack="Turtle",this.health=3,this.attack=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet(null,this);if(!r.pet)break;this.snipePet(r.pet,4,r.random,e)}super.superStartOfBattle(t,e)}}class HC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giraffe",this.tier=3,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class qC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant",this.tier=3,this.pack="Turtle",this.health=7,this.attack=3,this.initPet(o,s,r,a,l)}afterAttack(t,e){for(let i=0;i<this.level;i++){let s=this.parent.nearestPetsBehind(1,this);s.pets.length>0&&this.snipePet(s.pets[0],1,s.random,e)}super.superAfterAttack(t,e)}}class UC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Camel",this.tier=3,this.pack="Turtle",this.health=3,this.attack=3,this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=this.parent.nearestPetsBehind(1,this);if(0===s.pets.length)return;let r=s.pets[0],a=2*this.level;r.increaseAttack(this.level),r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${this.level} attack and ${a} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),super.superHurt(t,e,i)}}class GC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rabbit",this.tier=3,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,s,r,a,l)}friendAteFood(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.level,r=this.parent.getSpecificPet(this,e),a=r.pet;null!=a&&(a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),this.abilityUses++,this.superFriendGainedPerk(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class Wr extends ne{constructor(){super(...arguments),this.name="Melon",this.tier=6,this.equipmentClass="shield",this.power=20,this.originalPower=20,this.uses=1,this.originalUses=1}}class jC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ox",this.tier=3,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,s,r,a,l)}friendAheadFaints(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getThis(this),r=s.pet;if(null==r)return;r.increaseAttack(1),this.logService.createLog({message:`${this.name} gave ${r.name} +1 attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random});let a=this.parent.getThis(this),o=a.pet;null!=o&&(o.givePetEquipment(new Wr),this.logService.createLog({message:`${this.name} gave ${o.name} Melon.`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random}),this.abilityUses++,super.superFriendAheadFaints(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class WC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dog",this.tier=3,this.pack="Turtle",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){if(e==this)return;let s=2*this.level,r=this.level,a=this.parent.getThis(this);a.pet&&(a.pet.increaseAttack(s),a.pet.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${a.pet.name} ${s} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random})),super.superFriendSummoned(t,e,i)}}class C_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ram",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}}class zC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sheep",this.tier=3,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<2;s++){let r=new C_(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel),a=this.parent.summonPet(r,this.savedPosition,!1,this);a.success&&(this.logService.createLog({message:`${this.name} spawned Ram (${r.attack}/${r.health}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a.randomEvent}),this.abilityService.triggerFriendSummonedEvents(r))}super.superAfterFaint(t,e,i)}}class KC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tiger",this.tier=6,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}}class bh extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Parrot",this.tier=4,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(l,r,a,o,h)}endTurn(t){var e;let i=this.petAhead;this.copyPet=i,i instanceof bh&&(i=i.copyPet,this.logService.createLog({message:`Parrot copied ${this.petAhead.name}`,type:"ability",player:this.parent})),null!=i&&(this.startOfBattle=i.originalStartOfBattle,this.hurt=i.originalHurt,this.faint=i.originalFaint,this.friendSummoned=i.originalFriendSummoned,this.friendAheadAttacks=i.originalFriendAheadAttacks,this.friendAheadFaints=i.originalFriendAheadFaints,this.friendFaints=i.originalFriendFaints,this.enemyAttack=i.originalEnemyAttack,this.afterAttack=i.originalAfterAttack,this.beforeAttack=i.originalBeforeAttack,this.beforeStartOfBattle=i.originalBeforeStartOfBattle,this.knockOut=i.originalKnockOut,this.summoned=i.originalSummoned,this.friendlyToyBroke=i.originalFriendlyToyBroke,this.friendGainedAilment=i.originalFriendGainedAilment,this.friendHurt=i.originalFriendHurt,this.friendTransformed=i.originalFriendTransformed,this.eatsFood=i.originalEatsFood,this.friendAteFood=i.originalFriendAteFood,this.friendLostPerk=i.originalFriendLostPerk,this.gainedPerk=i.originalGainedPerk,this.friendGainedPerk=i.originalFriendGainedPerk,this.anyoneLevelUp=i.originalAnyoneLevelUp,this.enemySummoned=i.originalEnemySummoned,this.enemyPushed=i.originalEnemyPushed,this.gainedMana=i.originalGainedMana,this.friendJumped=i.originalFriendJumped,this.enemyGainedAilment=i.originalEnemyGainedAilment,this.friendGainsHealth=i.originalFriendGainsHealth,this.emptyFrontSpace=i.originalEmptyFrontSpace,this.enemyHurt=i.originalEnemyHurt,this.afterFaint=i.originalAfterFaint,this.transform=i.originalTransform,this.adjacentAttacked=i.originalAdjacentAttacked,this.friendAttacks=i.originalFriendAttacks,this.beforeFriendAttacks=i.originalBeforeFriendAttacks,this.enemyJumped=i.originalEnemyJumped,this.friendGainedExperience=i.originalFriendGainedExperience,this.maxAbilityUses=i.maxAbilityUses,this.setAbilityUses=null===(e=i.setAbilityUses)||void 0===e?void 0:e.bind(this),this.initAbilities(),i instanceof bh||this.logService.createLog({message:`Parrot copied ${i.name}`,type:"ability",player:this.parent}))}}class QC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Skunk",this.tier=4,this.pack="Turtle",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=Bt(t,this.parent).getHighestHealthPet(void 0,this),r=s.pet;if(null==r)return;let a=.33*this.level,o=Math.max(1,Math.floor(r.health*(1-a)));r.health=o,this.logService.createLog({message:`${this.name} reduced ${r.name} health by ${100*a}% (${o})`,type:"ability",player:this.parent,randomEvent:s.random,tiger:e}),this.superStartOfBattle(t,e)}}class YC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hippo",this.tier=4,this.pack="Turtle",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}knockOut(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=3*this.level,r=this.parent.getThis(this),a=r.pet;null!=a&&(a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),this.superKnockOut(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class JC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bison",this.tier=4,this.pack="Turtle",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}}class ZC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blowfish",this.tier=4,this.pack="Turtle",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=3*this.level,r=Bt(t,this.parent).getRandomPet([],!1,!0,!1,this);r.pet&&this.snipePet(r.pet,s,r.random,i),this.superHurt(t,e,i)}}class XC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turtle",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.nearestPetsBehind(this.level,this,"Melon");if(0!==s.pets.length){for(let r of s.pets)this.logService.createLog({message:`${this.name} gave ${r.name} Melon.`,type:"ability",tiger:e,player:this.parent,pteranodon:i,randomEvent:s.random}),r.givePetEquipment(new Wr);this.superFaint(t,e)}}}class eA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squirrel",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}}class tA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Penguin",this.tier=4,this.pack="Turtle",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class A_ extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Chili",this.equipmentClass="skewer",this.power=0,this.originalPower=0,this.attackCallback=(i,s)=>{let r=s.parent.getPetAtPosition(1);null!=r&&i.snipePet(r,5,!1,null,null,!0)}}}class P_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bus",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=3,this.attack=5,this.initPet(o,s,r,a,l)}}class iA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Deer",this.tier=4,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=new P_(this.logService,this.abilityService,this.parent,null,null,null,this.minExpForLevel,new A_(this.logService,this.abilityService)),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} spawned Bus level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),super.superAfterFaint(t,e,i)}}class nA extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Whale",this.tier=4,this.pack="Turtle",this.attack=3,this.health=7,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(1,this);if(0===i.pets.length)return;let s=i.pets[0],r=this.petService.createPet({name:s.name,attack:s.attack,health:s.health,exp:this.exp,equipment:null,mana:0},this.parent);this.swallowedPets.push(r),s.health=0,this.logService.createLog({message:`${this.name} swallowed ${s.name}`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.superStartOfBattle(t,e)}afterFaint(t,e,i){for(;this.swallowedPets.length>0;){let s=this.swallowedPets.shift(),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} summoned ${s.name} (level ${s.level}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s))}super.superAfterFaint(t,e,i)}}class Sh extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bee",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class D_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Angry Pygmy Hog",this.tier=2,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}}class sA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Scorpion",this.tier=5,this.pack="Turtle",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}summoned(t,e){let i=new yh,s=this.parent.getThis(this),r=s.pet;null!=r&&(r.givePetEquipment(i),this.logService.createLog({message:`${this.name} gave ${r.name} the Peanut perk.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.superSummoned(t,e))}}class rA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crocodile",this.tier=5,this.pack="Turtle",this.attack=8,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){for(let i=0;i<this.level;i++){let s=Bt(t,this.parent).getLastPet(void 0,this),r=s.pet;r&&this.snipePet(r,8,s.random,e)}super.superStartOfBattle(t,e)}}class aA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rhino",this.tier=5,this.pack="Turtle",this.attack=6,this.health=9,this.initPet(o,s,r,a,l)}knockOut(t,e,i){let s=Bt(t,this.parent).getFurthestUpPet(this),r=s.pet;if(null==r)return;let a=4*this.level;1==r.tier&&(a*=2),this.snipePet(r,a,s.random,i),this.superKnockOut(t,e,i)}}class T_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monkey",this.tier=5,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class oA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Armadillo",this.tier=5,this.pack="Turtle",this.attack=2,this.health=10,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getAll(!0,this),s=i.pets;if(0!=s.length){for(let r of s){if(!r.alive)continue;let a=8*this.level;r.increaseHealth(a),this.logService.createLog({message:`${this.name} increased health of ${r.name} by ${a}.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random})}this.superStartOfBattle(t,e)}}}class lA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cow",this.tier=5,this.pack="Turtle",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}}class cA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seal",this.tier=5,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(o,s,r,a,l)}eatsFood(t,e,i){if(e!=this)return;let s=this.level,r=this.parent.getRandomPets(3,[this],!0,!1,this);for(let a of r.pets)null!=a&&(a.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}));this.superGainedPerk(t,e,i)}}class x_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chick",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class uA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rooster",this.tier=5,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=Math.max(Math.floor(.5*this.attack),1);for(let r=0;r<this.level;r++){let a=new x_(this.logService,this.abilityService,this.parent,1,s,0,this.minExpForLevel),o=this.parent.summonPet(a,this.savedPosition,!1,this);o.success&&(this.logService.createLog({message:`${this.name} spawned Chick (${s}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a))}super.superAfterFaint(t,e,i)}}class hA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shark",this.tier=5,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(e==this)return;let s={attack:2*this.level,health:2*this.level},r=this.parent.getThis(this),a=r.pet;null!=a&&(a.increaseAttack(s.attack),a.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${a.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),super.superFriendFaints(t,e,i))}}class dA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turkey",this.tier=5,this.pack="Turtle",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let s={attack:3*this.level,health:1*this.level},r=this.parent.getSpecificPet(this,e),a=r.pet;null!=a&&(a.increaseAttack(s.attack),a.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${a.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),super.superFriendSummoned(t,e,i))}}class fA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leopard",this.tier=6,this.pack="Turtle",this.attack=10,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.floor(.5*this.attack),s=this.parent.opponent.getRandomPets(this.level,null,null,!0,this);for(let r of s.pets)null!=r&&this.snipePet(r,i,s.random,e);this.superStartOfBattle(t,e)}}class pA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Boar",this.tier=6,this.pack="Turtle",this.attack=10,this.health=6,this.initPet(o,s,r,a,l)}beforeAttack(t,e){let i={attack:4*this.level,health:2*this.level},s=this.parent.getThis(this),r=s.pet;null!=r&&(r.increaseAttack(i.attack),r.increaseHealth(i.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${i.attack} attack and ${i.health} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.superBeforeAttack(t,e))}}class gA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wolverine",this.tier=6,this.pack="Turtle",this.attack=5,this.health=7,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){e!=this&&(i||(this.abilityCounter++,this.logService.createLog({message:`${this.name} increased counter: (${this.abilityCounter%4}/4)}`,type:"ability",player:this.parent,tiger:i})),this.abilityCounter%4==0&&(this.abilityService.setCounterEvent({callback:()=>{let s=this.parent.opponent.getAll(!1,this),r=s.pets;if(0!=r.length)for(let a of r){let o=-3*this.level;a.increaseHealth(o),this.logService.createLog({message:`${this.name} reduced ${a.name} health by ${Math.abs(o)}`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})}},priority:this.attack,pet:this}),this.superFriendHurt(t,e,i)))}}class Ua extends ne{constructor(){super(...arguments),this.name="Coconut",this.equipmentClass="shield",this.power=999,this.originalPower=999,this.uses=1,this.originalUses=1}}class mA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gorilla",this.tier=6,this.pack="Turtle",this.attack=7,this.health=10,this.initPet(o,s,r,a,l)}hurt(t,e,i){if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;let r=this.parent.getThis(this).pet;null!=r&&(r.givePetEquipment(new Ua),this.logService.createLog({message:`${this.name} gave ${r.name} a Coconut.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,super.superHurt(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class vA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragon",this.tier=6,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(o,s,r,a,l)}}class yA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mammoth",this.tier=6,this.pack="Turtle",this.attack=4,this.health=12,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=2*this.level,r=this.parent.getAll(!1,this),a=r.pets;if(0!=a.length){for(let o of a)o.increaseAttack(s),o.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.random});super.superFaint(t,e)}}}class _A extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cat",this.tier=6,this.pack="Turtle",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}}class bA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snake",this.tier=6,this.pack="Turtle",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}friendAheadAttacks(t,e,i){let s=5*this.level,r=Bt(t,this.parent).getRandomPet([],!1,!0,!1,this);!r.pet||(this.snipePet(r.pet,s,r.random,i),this.superFriendAheadAttacks(t,e,i))}}class $p extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Fly",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=4,this.attack=4,this.initPet(o,s,r,a,l)}}class SA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fly",this.tier=6,this.pack="Turtle",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(!this.alive||e instanceof $p||this.abilityUses>=this.maxAbilityUses)return;let s=new $p(this.logService,this.abilityService,this.parent,null,null,null,this.minExpForLevel),r=this.parent.summonPet(s,e.savedPosition,!0,this);r.success&&(this.abilityUses++,this.logService.createLog({message:`${this.name} spawned Zombie Fly Level ${this.level}`,type:"ability",player:this.parent,tiger:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),super.superFriendFaints(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class wA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moth",this.tier=1,this.pack="Puppy",this.health=3,this.attack=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getFurthestUpPet(this),s=i.pet;if(null==s)return;let r=2*this.level;s.increaseAttack(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.superStartOfBattle(t,e)}}class EA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bluebird",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}}class kA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chinchilla",this.tier=1,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class pc extends ne{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Garlic",this.tier=3,this.power=2,this.originalPower=2,this.minimumDamage=2}}class M_ extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Honey",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.afterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=(a,o)=>{var l;if(null!=r&&r(a,o),!o&&"Honey"==(null===(l=i.equipment)||void 0===l?void 0:l.name))for(let h=0;h<this.multiplier;h++){let d=new Sh(this.logService,this.abilityService,i.parent,null,null,0);this.logService.createLog({message:`${i.name} Spawned Bee (Honey)${h>0?this.multiplierMessage:""}`,type:"ability",player:i.parent}),i.parent.summonPet(d,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(d)}}}}}class R_ extends ne{constructor(){super(...arguments),this.name="Meat Bone",this.equipmentClass="attack",this.power=3,this.originalPower=3}}class CA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beetle",this.tier=1,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsBehind(1,this);if(0===i.pets.length)return void super.superStartOfBattle(t,e);let r,s=i.pets[0];switch(this.level){case 1:r=new M_(this.logService,this.abilityService);break;case 2:r=new R_;break;case 3:r=new pc}this.logService.createLog({message:`${this.name} gave ${s.name} ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),s.givePetEquipment(r),super.superStartOfBattle(t,e)}}class AA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ladybug",this.tier=1,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}friendGainedPerk(t,e,i){let s=2*this.level,r=this.parent.getThis(this);r.pet&&(r.pet.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random})),this.superFriendGainedPerk(t,e,i)}}class PA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chipmunk",this.tier=1,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}}class DA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gecko",this.tier=1,this.pack="Puppy",this.attack=3,this.health=1,this.toyPet=!0,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(null==this.parent.toy)return;let i=2*this.level,r=this.parent.getThis(this).pet;null!=r&&(r.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${r.name} ${i} health.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class TA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ferret",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}}class Ga extends ne{constructor(){super(...arguments),this.name="Weak",this.equipmentClass="ailment-defense",this.power=-3,this.originalPower=-3}}class xA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bat",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let s=Bt(t,this.parent).getRandomPet(null,null,!0,null,this),r=s.pet;null!=r&&(r.givePetEquipment(new Ga),this.logService.createLog({message:`${this.name} made ${r.name} weak.`,type:"ability",player:this.parent,randomEvent:s.random,tiger:e})),this.abilityUses++,this.superBeforeAttack(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class MA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bilby",this.tier=2,this.pack="Puppy",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}friendLostPerk(t,e,i){if(this.abilityUses>=this.maxAbilityUses||this==e)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&(this.logService.createLog({message:`${this.name} gave ${r.name} Garlic.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),r.givePetEquipment(new pc),this.abilityUses++,super.superFriendLosPerk(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Vp extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nest",this.tier=1,this.pack="Puppy",this.hidden=!0,this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class RA extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Egg",this.tier=1,this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),o||i.equipment!==this)return;let l=1;l=i instanceof Vp?i.level:this.multiplier;for(let h=0;h<l;h++){let m=(i.parent==a.player?a.opponet:a.player).petArray,y=null;for(let S of m)if(S.alive){y=S;break}null!=y?i.snipePet(y,2,!1,!1,!1,!0,!1):console.warn("egg didn't find target")}i.removePerk()}}}}class IA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Robin",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=new Vp(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel,null);this.logService.createLog({message:`${this.name} summoned a Nest (level ${this.level}).`,type:"ability",player:this.parent,randomEvent:!1,tiger:e});let s=this.parent.summonPetInFront(this,i);s.success&&(this.logService.createLog({message:`${this.name} gave Nest an Egg.`,type:"ability",player:this.parent,randomEvent:s.randomEvent,tiger:e}),i.givePetEquipment(new RA(this.logService,this.abilityService)),this.abilityService.triggerFriendSummonedEvents(i)),this.superStartOfBattle(t,e)}}class OA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dromedary",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class NA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shrimp",this.tier=2,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class I3 extends ne{constructor(){super(...arguments),this.name="Steak",this.equipmentClass="attack",this.tier=6,this.power=20,this.originalPower=20,this.uses=1,this.originalUses=1}}class O3 extends ne{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Mushroom",this.tier=6,this.equipmentClass="afterFaint",this.callback=s=>{var r;let a=null===(r=s.afterFaint)||void 0===r?void 0:r.bind(s);s.afterFaint=(o,l)=>{if(null!=a&&a(o,l),!l&&s.equipment===this)for(let h=0;h<this.multiplier;h++){let d=this.petService.createDefaultVersionOfPet(s,1,1);this.logService.createLog({message:`${s.name} Spawned ${d.name} (level ${d.level}) (Mushroom)${h>0?this.multiplierMessage:""}`,type:"ability",player:s.parent}),s.parent.summonPet(d,s.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(d)}}}}}class N3 extends ne{constructor(){super(),this.name="Croissant",this.tier=3,this.equipmentClass="shop"}}class I_ extends ne{constructor(){super(...arguments),this.name="Rice",this.tier=2,this.equipmentClass="shop"}}class O_ extends ne{constructor(){super(...arguments),this.name="Eucalyptus",this.equipmentClass="shield",this.power=4,this.originalPower=4,this.uses=1,this.originalUses=1}}class L3 extends ne{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Lime",this.tier=2,this.power=1,this.originalPower=1}}class B3 extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Squash",this.tier=3,this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),!o&&i.equipment===this){for(let l=0;l<this.multiplier;l++){let d=(i.parent==a.player?a.opponet:a.player).pet0;if(null==d||!d.alive)return void console.warn("squash didn't find target");let m=6,y=Math.max(1,d.health-m);d.health=y,this.logService.createLog({message:`${this.name} reduced ${d.name} health by ${m} (${y})${l>0?this.multiplierMessage:""}`,type:"equipment",player:i.parent})}i.removePerk()}}}}}class LA extends ne{constructor(t){super(),this.logService=t,this.name="Pie",this.tier=4,this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.beforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=(r,a)=>{if(null!=s&&s(r,a),a)return;let o=4*this.multiplier,l=4*this.multiplier;e.increaseAttack(o),e.increaseHealth(l),this.logService.createLog({message:`${e.name} gained ${o} attack and ${l} health (Pie)${this.multiplierMessage}`,type:"equipment",player:e.parent})}}}}class BA extends ne{constructor(t){super(),this.logService=t,this.name="Skewer",this.tier=5,this.equipmentClass="skewer",this.power=0,this.attackCallback=(e,i)=>{this.skewer(e,i,1),this.skewer(e,i,2)}}skewer(t,e,i){let s=e.parent.getPetAtPosition(i);null!=s&&t.snipePet(s,3,!1,null,null,!0)}}class $3 extends ne{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Lemon",this.tier=5,this.power=7,this.originalPower=7,this.uses=2,this.originalUses=2}}class $A extends ne{constructor(t){super(),this.logService=t,this.name="Pancakes",this.tier=6,this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.beforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=(r,a)=>{if(null!=s&&s(r,a),!a)for(let o of e.parent.petArray){if(e==o)continue;let l=2*this.multiplier,h=2*this.multiplier;o.increaseAttack(l),o.increaseHealth(h),this.logService.createLog({message:`${o.name} gained ${l} attack and ${h} health (Pancakes)${this.multiplierMessage}`,type:"equipment",player:e.parent})}}}}}class N_ extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Strawberry",this.equipmentClass="defense",this.tier=1,this.uses=2,this.originalUses=2,this.callback=i=>{var s;let r=null===(s=i.faint)||void 0===s?void 0:s.bind(i);i.faint=(a,o,l)=>{if(null!=r&&r(a,o,l),o)return;const h=i.parent.getLastPet();if(h.pet){const d=1;this.logService.createLog({message:`${i.name} (Strawberry) gave ${h.pet.name} +${d} attack and +${d} health.`,type:"equipment",player:i.parent,randomEvent:h.random}),h.pet.increaseAttack(d),h.pet.increaseHealth(d)}}}}}class V3 extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Baguette",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),o||i.equipment!==this)return;let h=i.parent.opponent.furthestUpPet;if(null!=h&&null!=h.equipment){let d=h.equipment.name;h.removePerk(),this.logService.createLog({message:`${i.name} removed ${d} from ${h.name} (Baguette)`,type:"equipment",player:i.parent}),i.removePerk()}}}}}class F3 extends ne{constructor(){super(...arguments),this.name="Cucumber",this.equipmentClass="shop"}}class H3 extends ne{constructor(){super(...arguments),this.name="Grapes",this.equipmentClass="shop"}}class q3 extends ne{constructor(){super(...arguments),this.name="Carrot",this.equipmentClass="shop"}}class U3 extends ne{constructor(t,e,i,s){super(),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Popcorn",this.equipmentClass="afterFaint",this.callback=r=>{var a;let o=null===(a=r.afterFaint)||void 0===a?void 0:a.bind(r);r.afterFaint=(l,h)=>{if(null!=o&&o(l,h),!h&&r.equipment===this)for(let d=0;d<this.multiplier;d++){let m;m=r.parent==this.gameService.gameApi.player?this.gameService.gameApi.playerPetPool:this.gameService.gameApi.opponentPetPool;let y=m.get(r.tier),S=y[Math.floor(Math.random()*y.length)],k=this.petService.createPet({attack:null,equipment:null,exp:0,health:null,name:S,mana:0},r.parent);this.logService.createLog({message:`${r.name} Spawned ${k.name} (Popcorn)${d>0?this.multiplierMessage:""}`,type:"ability",player:r.parent,randomEvent:!0}),r.parent.summonPet(k,r.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(k)}}}}}class VA extends ne{constructor(){super(...arguments),this.name="Cherry",this.equipmentClass="beforeStartOfBattle",this.callback=t=>{var e;let i=null===(e=t.beforeStartOfBattle)||void 0===e?void 0:e.bind(t);t.beforeStartOfBattle=(s,r)=>{null!=i&&i(s,r),!r&&t.parent.gainTrumpets(2*this.multiplier,t,!1,this.multiplier,!0)}}}}class L_ extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Chocolate Cake",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{var l;if(null!=r&&r(a,o),o||"Chocolate Cake"!=(null===(l=i.equipment)||void 0===l?void 0:l.name))return;let h=3*this.multiplier;this.logService.createLog({message:`${i.name} gained ${h} exp. (Chocolate Cake)${this.multiplierMessage}`,type:"equipment",player:i.parent}),i.increaseExp(h),i.health=0,null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack}),i.removePerk()}}}}class vz extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Cod Roe",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.afterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=(a,o)=>{var l;if(null!=r&&r(a,o),!o&&"Cod Roe"==(null===(l=i.equipment)||void 0===l?void 0:l.name))for(let h=0;h<this.multiplier;h++){let d=new b_(this.logService,this.abilityService,i.parent,3,2,0,0);this.logService.createLog({message:`${i.name} spawned ${d.name} (Cod Roe)${h>0?this.multiplierMessage:""}`,type:"equipment",player:i.parent}),i.parent.summonPet(d,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(d)}}}}}class FA extends ne{constructor(t){super(),this.logService=t,this.name="Eggplant",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.beforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=(r,a)=>{if(null!=s&&s(r,a),!a)for(let o=0;o<this.multiplier;o++){let l=e.parent.opponent,h=l.getPet(e.position);if(null==h)return;this.logService.createLog({message:`${e.name} pushed ${h.name} 1 space forward. (Eggplant)`,type:"equipment",player:e.parent}),l.pushPet(h,1)}}}}}class G3 extends ne{constructor(){super(...arguments),this.name="Potato",this.equipmentClass="shield-snipe",this.power=10,this.uses=2,this.originalUses=2,this.originalPower=10}}class j3 extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Banana",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.afterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=(a,o)=>{if(null!=r&&r(a,o),!o&&i.equipment===this)for(let l=0;l<this.multiplier;l++){let h=new T_(this.logService,this.abilityService,i.parent,4,4,0,0);this.logService.createLog({message:`${i.name} Spawned Monkey (Banana)${l>0?this.multiplierMessage:""}`,type:"ability",player:i.parent}),i.parent.summonPet(h,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(h)}}}}}class W3 extends ne{constructor(t){super(),this.logService=t,this.name="Pita Bread",this.tier=6,this.power=0,this.equipmentClass="hurt",this.callback=e=>{var i;let s=null===(i=e.hurt)||void 0===i?void 0:i.bind(e);e.hurt=(r,a,o)=>{var l;if(null!=s&&s(r,a,o),o||"Pita Bread"!=(null===(l=e.equipment)||void 0===l?void 0:l.name)||!e.alive)return;let h=15*this.multiplier;e.increaseHealth(h);let d=`${e.name} gained ${h} health. (Pita Bread)${this.multiplierMessage}`;d+=".",this.logService.createLog({message:d,type:"equipment",player:e.parent}),e.removePerk()}}}}class z3 extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Tomato",this.tier=6,this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),!o&&i.equipment===this){for(let l=0;l<this.multiplier;l++){let d=(i.parent==a.player?a.opponet:a.player).getLastPet();if(null==d.pet)break;i.snipePet(d.pet,10,d.random,!1,!1,!0,!1)}i.removePerk()}}}}}class yz extends ne{constructor(t){super(),this.logService=t,this.name="Sudduth Tomato",this.equipmentClass="hurt",this.callback=e=>{var i;let s=null===(i=e.hurt)||void 0===i?void 0:i.bind(e);e.hurt=(r,a,o)=>{var l;if(null!=s&&s(r,a,o),o||"Sudduth Tomato"!=(null===(l=e.equipment)||void 0===l?void 0:l.name)||!e.alive)return;let h=1*this.multiplier;e.increaseHealth(h),this.logService.createLog({message:`${e.name} gained ${h} health (Sudduth Tomato)${this.multiplierMessage}`,type:"equipment",player:e.parent}),e.removePerk()}}}}class _z extends ne{constructor(t){super(),this.logService=t,this.name="Unagi",this.equipmentClass="startOfBattle",this.callback=e=>{var i;let s=null===(i=e.startOfBattle)||void 0===i?void 0:i.bind(e);e.startOfBattle=(r,a)=>{var o;if(null!=s&&s(r,a),a||"Unagi"!=(null===(o=e.equipment)||void 0===o?void 0:o.name))return;let l=e.parent.opponent.getRandomPet([],!1,!0,!1,e);l.pet&&e.snipePet(l.pet,2*this.multiplier,!0,!1,!1,!0,!1)}}}}class K3 extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Durian",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),!o&&i.equipment===this){for(let l=0;l<this.multiplier;l++){let d=(i.parent==a.player?a.opponet:a.player).getHighestHealthPet(),m=d.pet;if(null==m){console.warn("durian didn't find target");continue}let y=.33,S=Math.max(1,Math.floor(m.health*(1-y)));m.health=S,this.logService.createLog({message:`${this.name} reduced ${m.name} health by ${100*y}% (${S})${l>0?this.multiplierMessage:""}`,type:"ability",player:i.parent,randomEvent:d.random})}i.removePerk()}}}}}class bz extends ne{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Gros Michel Banana",this.equipmentClass="beforeAttack",this.callback=s=>{var r;let a=null===(r=s.beforeAttack)||void 0===r?void 0:r.bind(s);s.beforeAttack=(o,l)=>{var h;if(null!=a&&a(o,l),l||"Gros Michel Banana"!=(null===(h=s.equipment)||void 0===h?void 0:h.name))return;let d=this.petService.createPet({name:"Ant",attack:s.attack,health:s.health,mana:s.mana,exp:s.exp,equipment:null},s.parent);this.logService.createLog({message:`${s.name} transformed into ${d.name} (Gros Michel Banana)`,type:"equipment",player:s.parent}),s.parent.transformPet(s,d)}}}}class Q3 extends ne{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Seaweed",this.equipmentClass="beforeAttack",this.callback=s=>{var r;let a=null===(r=s.beforeAttack)||void 0===r?void 0:r.bind(s);s.beforeAttack=(o,l)=>{if(null!=a&&a(o,l),l||s.equipment!==this)return;let h=this.petService.createPet({name:"Baby Urchin",attack:s.attack,health:s.health,mana:s.mana,exp:s.exp,equipment:null},s.parent);this.logService.createLog({message:`${s.name} transformed into ${h.name} (Seaweed)`,type:"equipment",player:s.parent}),s.parent.transformPet(s,h)}}}}class Y3 extends ne{constructor(){super(),this.name="Blueberry",this.equipmentClass="target"}}class J3 extends ne{constructor(){super(),this.name="Donut",this.equipmentClass="target"}}class Z3 extends ne{constructor(){super(),this.name="Pineapple",this.equipmentClass="attack-snipe",this.power=2}}class X3 extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Fig",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),!o&&i.equipment==this){for(let l=0;l<this.multiplier;l++){let d=(i.parent==a.player?a.opponet:a.player).getLowestHealthPet().pet;if(null==d)return void console.warn("fig didn't find target");i.snipePet(d,4,!0,!1,!1,!0,!1)}i.removePerk()}}}}}class eV extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Caramel",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),o||i.equipment!==this)return;let l=i.parent.petArray.filter(S=>{var k;return S.alive&&"Caramel"===(null===(k=S.equipment)||void 0===k?void 0:k.name)});if(0===l.length)return;let h=3*l.length,m=(i.parent===a.player?a.opponet:a.player).getHighestHealthPet(),y=m.pet;if(null!=y){i.snipePet(y,h,m.random,o,!1,!0,!1);for(let S of l)S.removePerk(),this.logService.createLog({message:`${S.name} lost Caramel equipment`,type:"ability",player:i.parent,tiger:!1})}}}}}class B_ extends ne{constructor(t){super(),this.logService=t,this.name="Rambutan",this.equipmentClass="beforeAttack",this.callback=e=>{var i;let s=null===(i=e.beforeAttack)||void 0===i?void 0:i.bind(e);e.beforeAttack=(r,a)=>{if(null!=s&&s(r,a),a||e.equipment!==this)return;let l=3*this.multiplier;this.logService.createLog({message:`${e.name} gained ${l} mana. (Rambutan)${this.multiplierMessage}`,type:"equipment",player:e.parent}),e.increaseMana(l)}}}}class HA extends ne{constructor(t){super(),this.logService=t,this.name="Love Potion",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.beforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=(r,a)=>{if(null!=s&&s(r,a),a)return;let o=e.petAhead;if(null==o)return;let l=2*this.multiplier;this.logService.createLog({message:`${e.name} gave ${o.name} ${l} health (Love Potion)${this.multiplierMessage}.`,type:"equipment",player:e.parent}),o.increaseHealth(l)}}}}class tV extends ne{constructor(t){super(),this.logService=t,this.name="Fairy Dust",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{let i=r=>{if(null!=r.parent.pet0)return;let a=2*this.multiplier;this.logService.createLog({message:`${r.name} pushed itself to the front and gained ${a} mana(Fairy Dust)${this.multiplierMessage}.`,type:"ability",player:r.parent}),r.parent.pushPetToFront(r,!0),r.increaseMana(a)},s=e.emptyFrontSpace;e.emptyFrontSpace=(r,a)=>{var o;null!=s&&s(r,a),!a&&"Tomato"==(null===(o=e.equipment)||void 0===o?void 0:o.name)&&(i(e),e.removePerk())}}}}class qA extends ne{constructor(t){super(),this.logService=t,this.name="Gingerbread Man",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.beforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=(r,a)=>{if(null!=s&&s(r,a),a)return;let o=1*this.multiplier;this.logService.createLog({message:`${e.name} gained ${o} experience (Gingerbread Man)${this.multiplierMessage}.`,type:"equipment",player:e.parent}),e.increaseExp(o)}}}}class $_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monty",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=3,this.attack=3,this.initPet(o,s,r,a,l)}}class iV extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Easter Egg",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.afterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=(a,o)=>{var l;if(null!=r&&r(a,o),!o&&"Easter Egg"==(null===(l=i.equipment)||void 0===l?void 0:l.name))for(let h=0;h<this.multiplier;h++){let d=new $_(this.logService,this.abilityService,i.parent,null,null,0,0);this.logService.createLog({message:`${i.name} Spawned Monty (Easter Egg)${h>0?this.multiplierMessage:""}`,type:"ability",player:i.parent}),i.parent.summonPet(d,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(d)}}}}}class UA extends ne{constructor(t){super(),this.logService=t,this.name="Health Potion",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.beforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=(r,a)=>{if(null!=s&&s(r,a),a)return;let o=2*this.multiplier,l=e.parent.furthestUpPet;null!=l&&(this.logService.createLog({message:`${e.name} gave ${o} health to ${l.name} (Health Potion)${this.multiplierMessage}.`,type:"equipment",player:e.parent}),l.increaseHealth(o))}}}}class nV extends ne{constructor(){super(),this.name="Magic Beans",this.equipmentClass="shop"}}class sV extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Golden Egg",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),o||i.equipment!==this)return;let h=(i.parent==a.player?a.opponet:a.player).petArray,d=null;for(let m of h)if(m.alive){d=m;break}if(null!=d){for(let m=0;m<this.multiplier;m++)i.snipePet(d,6,!1,!1,!1,!0,!1);i.removePerk()}else console.warn("golden egg didn't find target")}}}}class GA extends ne{constructor(){super(...arguments),this.name="Cold",this.equipmentClass="ailment-defense",this.power=-5,this.originalPower=-5,this.uses=1,this.originalUses=1}}class jA extends ne{constructor(){super(...arguments),this.name="Ink",this.equipmentClass="ailment-attack",this.power=-3,this.originalPower=-3}}class Fp extends ne{constructor(){super(...arguments),this.name="Spooked",this.equipmentClass="ailment-defense",this.power=-1,this.originalPower=-1}}class rV extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Tasty",this.equipmentClass="faint",this.callback=i=>{var s;let r=null===(s=i.afterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=(a,o)=>{var l;if(null!=r&&r(a,o),o||"Tasty"!=(null===(l=i.equipment)||void 0===l?void 0:l.name))return;let d=(i.parent==a.player?a.opponet:a.player).petArray.filter(y=>y.alive);if(0==d.length)return;let m=d[Math.floor(Math.random()*d.length)];m.increaseAttack(2),m.increaseHealth(2),this.logService.createLog({message:`${i.name} gave ${m.name} +2 attack and +2 health (Tasty)`,type:"equipment",player:i.parent,randomEvent:d.length>1})}}}}class V_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tandgnost",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}}class F_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tandgrisner",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}}class Sz extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Yggdrasil Fruit",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.afterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=(a,o)=>{if(null!=r&&r(a,o),!o&&i.equipment===this)for(let l=0;l<this.multiplier;l++){let h=new V_(this.logService,this.abilityService,i.parent,3,3,0),d=new F_(this.logService,this.abilityService,i.parent,3,3,0),m=l>0?this.multiplierMessage:"";this.logService.createLog({message:`${i.name} Spawned Tandgnost (Yggdrasil Fruit)${m}`,type:"ability",player:i.parent}),i.parent.summonPet(h,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(h),this.logService.createLog({message:`${i.name} Spawned Tandgrisner (Yggdrasil Fruit)${m}`,type:"ability",player:i.parent}),i.parent.summonPet(d,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(d)}}}}}class wz extends ne{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Cocoa Bean",this.tier=5,this.equipmentClass="beforeAttack",this.power=0,this.originalPower=0,this.uses=1,this.originalUses=1,this.callback=s=>{var r;let a=null===(r=s.beforeAttack)||void 0===r?void 0:r.bind(s);s.beforeAttack=(o,l)=>{var h;if(null!=a&&a(o,l),l||"Cocoa Bean"!=(null===(h=s.equipment)||void 0===h?void 0:h.name))return;let m=(s.parent==o.player?o.opponet:o.player).petArray.filter(k=>k.alive);if(0==m.length)return void s.removePerk();let y=m[Math.floor(Math.random()*m.length)],S=this.petService.createPet({name:y.name,attack:y.attack,health:y.health,mana:s.mana,exp:s.exp,equipment:null},s.parent);if(y.swallowedPets&&y.swallowedPets.length>0){S.swallowedPets=[];for(let k of y.swallowedPets){let T=this.petService.createPet({name:k.name,attack:k.attack,health:k.health,mana:k.mana,exp:k.exp,equipment:k.equipment},s.parent);S.swallowedPets.push(T)}}void 0!==y.attackCounter&&(S.attackCounter=y.attackCounter),S.abilityUses=0,S.maxAbilityUses=y.maxAbilityUses,void 0!==y.hurtThisBattle&&(S.hurtThisBattle=y.hurtThisBattle),this.logService.createLog({message:`${s.name} transformed into ${S.name} (Cocoa Bean)`,type:"equipment",player:s.parent,randomEvent:m.length>1}),s.parent.transformPet(s,S)}}}}class aV extends ne{constructor(t,e,i,s){super(),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Faint Bread",this.equipmentClass="afterFaint",this.callback=r=>{var a;let o=null===(a=r.afterFaint)||void 0===a?void 0:a.bind(r);r.afterFaint=(l,h)=>{var d;if(null!=o&&o(l,h),!h&&"Faint Bread"==(null===(d=r.equipment)||void 0===d?void 0:d.name))for(let m=0;m<this.multiplier;m++){let y=this.petService.getRandomFaintPet(r.parent,1);this.logService.createLog({message:`${r.name} Spawned ${y.name} (Faint Bread)${m>0?this.multiplierMessage:""}`,type:"ability",player:r.parent,randomEvent:!0}),r.parent.summonPet(y,r.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(y)}}}}}let H_=(()=>{class n{constructor(){this.logs=[]}createLog(e){e.tiger&&(e.message+=" (Tiger)"),e.puma&&(e.message+=" (Puma)"),e.pteranodon&&(e.message+=" (Pteranodon)"),null!=e.pantherMultiplier&&e.pantherMultiplier>1&&(e.message+=` x${e.pantherMultiplier} (Panther)`),this.logs.push(e)}getLogs(){return this.logs}reset(){this.logs=[]}printState(e,i,s){s&&this.createLog({message:s,type:"board"});let r="";r+=this.getPetText(e.pet4),r+=this.getPetText(e.pet3),r+=this.getPetText(e.pet2),r+=this.getPetText(e.pet1),r+=this.getPetText(e.pet0);let a="";a+=this.getPetText(i.pet0),a+=this.getPetText(i.pet1),a+=this.getPetText(i.pet2),a+=this.getPetText(i.pet3),a+=this.getPetText(i.pet4),this.createLog({message:`${r}| ${a}`,type:"board"})}getPetText(e){return null==e?"___ (-/-) ":`${e.name.substring(0,3)} (${e.attack}/${e.health}) `}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wh=(()=>{class n{constructor(){}init(e,i){this.gameApi={player:e,opponet:i}}setTierGroupPets(e,i){null!=e&&(this.gameApi.playerPetPool=e),null!=i&&(this.gameApi.opponentPetPool=i)}setPreviousShopTier(e){this.gameApi.previousShopTier=e}setTurnNumber(e){this.gameApi.turnNumber=e}setGoldSpent(e,i){null!=e&&(this.gameApi.playerGoldSpent=e),null!=i&&(this.gameApi.opponentGoldSpent=i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q_=(()=>{class n{constructor(e){this.gameService=e,this.afterAttackEvents=[],this.beforeAttackEvents=[],this.processedBeforeAttackPets=new Set,this.beforeStartOfBattleEvents=[],this.equipmentBeforeAttackEvents=[],this.afterFriendAttackEvents=[],this.beforeFriendAttacksEvents=[],this.friendGainsHealthEvents=[],this.friendGainedExperienceEvents=[],this.emptyFrontSpaceToyEvents=[],this.friendSummonedToyEvents=[],this.friendlyLevelUpToyEvents=[],this.friendFaintsToyEvents=[],this.friendJumpedToyEvents=[],this.globalEventQueue=[],this.ABILITY_PRIORITIES={levelUp:1,friendLevelUp:2,friendlyLevelUp:2,hurt:3,friendHurt:4,enemyHurt:4,gainsMana:5,summoned:6,friendSummoned:7,enemySummoned:7,enemyPushed:7,friendJumped:8,enemyJumped:8,faint:9,friendAheadFaints:10,afterFaint:11,friendFaints:12,enemyFaints:12,friendlyToyBroke:12,knockOut:13,transform:14,friendTransformed:14.5,friendGainedExperience:15,friendAteFood:16,eatsFood:16,counter:17,friendLostPerk:18,gainPerk:19,gainAilment:19,friendlyGainedPerk:20,enemyGainedPerk:20,friendlyGainedAilment:20,enemyGainedAilment:20,petFlung:21,manaSnipe:22,emptyFrontSpace:23,goldenRetrieverSummons:24}}get hasAbilityCycleEvents(){return this.globalEventQueue.length>0}addEventToQueue(e){const i=this.ABILITY_PRIORITIES[e.abilityType]||999;void 0===e.tieBreaker&&(e.tieBreaker=Math.random());let s=0,r=this.globalEventQueue.length;for(;s<r;){const a=Math.floor((s+r)/2),o=this.globalEventQueue[a],l=this.ABILITY_PRIORITIES[o.abilityType]||999;i<l?r=a:i>l?s=a+1:e.priority>o.priority?r=a:e.priority<o.priority?s=a+1:e.tieBreaker<o.tieBreaker?r=a:s=a+1}this.globalEventQueue.splice(s,0,e)}clearGlobalEventQueue(){this.globalEventQueue=[]}get hasGlobalEvents(){return this.globalEventQueue.length>0}getNextHighestPriorityEvent(){return this.globalEventQueue.shift()||null}peekNextHighestPriorityEvent(){return this.globalEventQueue.length>0?this.globalEventQueue[0]:null}getPriorityNumber(e){return this.ABILITY_PRIORITIES[e]||999}executeEventCallback(e){const i=this.gameService.gameApi,s=e.pet;if(s&&s.transformed&&s.transformedInto&&e.abilityType){const r=s.transformedInto;if("function"!=typeof r[e.abilityType])return;e.callback=r[e.abilityType].bind(r)}switch(e.abilityType){case"faint":case"beforeStartOfBattle":case"afterFaint":case"equipmentBeforeAttack":case"summoned":case"transform":e.callback(i);break;case"hurt":case"friendHurt":case"knockOut":case"enemyHurt":case"friendAheadFaints":case"friendFaints":case"eatsFood":case"friendAteFood":case"friendLostPerk":case"gainPerk":case"friendGainedPerk":case"friendGainedAilment":case"enemyGainedAilment":case"friendGainedExperience":case"levelUp":case"friendAttacks":case"beforeFriendAttacks":case"friendJumped":case"enemyJumped":case"friendTransformed":case"friendGainsHealth":case"friendlyLevelUp":case"friendSummoned":e.callback(i,e.callbackPet);break;case"afterAttack":case"enemySummoned":case"enemyPushed":case"friendlyToyBroke":case"gainAilment":case"emptyFrontSpace":e.callback(i,e.callbackPet,!1);break;case"friendJumpedToy":case"emptyFrontSpaceToy":e.callback(i,e.priority<100,e.level,e.priority);break;case"gainsMana":e.callback(null);break;case"manaSnipe":case"counter":e.callback();break;default:try{e.callback(i)}catch(r){e.callback(i,e.callbackPet)}}}initEndTurnEvents(e){let i=[];for(let s of e.petArray)s.endTurn&&i.push({callback:s.endTurn.bind(s),priority:s.attack,player:e});i=(0,vt.shuffle)(i),i.sort((s,r)=>s.priority>r.priority?-1:s.priority<r.priority?1:0);for(let s of i)s.callback(this.gameService.gameApi)}setCounterEvent(e){e.abilityType="counter",this.addEventToQueue(e)}setHurtEvent(e){e.abilityType="hurt",this.addEventToQueue(e)}setFaintEvent(e){e.abilityType="faint",this.addEventToQueue(e)}setSummonedEvent(e){e.abilityType="summoned",this.addEventToQueue(e)}triggerFriendSummonedEvents(e){this.triggerFriendSummonedToyEvents(e.parent,e);for(let i of e.parent.petArray)i!=e&&null!=i.friendSummoned&&this.setFriendSummonedEvent({callback:i.friendSummoned.bind(i),priority:i.attack,callbackPet:e,pet:i})}setFriendSummonedEvent(e){e.abilityType="friendSummoned",this.addEventToQueue(e)}setAfterAttackEvent(e){this.afterAttackEvents.push(e)}resetAfterAttackEvents(){this.afterAttackEvents=[]}executeAfterAttackEvents(){this.afterAttackEvents=(0,vt.shuffle)(this.afterAttackEvents),this.afterAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.afterAttackEvents)e.callback(this.gameService.gameApi);this.resetAfterAttackEvents()}setFriendAheadFaintsEvent(e){e.abilityType="friendAheadFaints",this.addEventToQueue(e)}setKnockOutEvent(e){e.abilityType="knockOut",this.addEventToQueue(e)}triggerFriendFaintsEvents(e){this.triggerFriendFaintsToyEvents(e.parent,e);for(let i of e.parent.petArray)null!=i.friendFaints&&this.setFriendFaintsEvent({callback:i.friendFaints.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendFaintsEvent(e){e.abilityType="friendFaints",this.addEventToQueue(e)}setBeforeAttackEvent(e){this.beforeAttackEvents.push(e)}resetBeforeAttackEvents(){this.beforeAttackEvents=[]}checkAndAddNewBeforeAttackEvents(){let e=this.gameService.gameApi;e.player.pet0&&e.player.pet0.beforeAttack&&!this.processedBeforeAttackPets.has(e.player.pet0)&&(this.beforeAttackEvents.push({callback:e.player.pet0.beforeAttack.bind(e.player.pet0),priority:e.player.pet0.attack,player:e.player}),this.processedBeforeAttackPets.add(e.player.pet0),this.beforeAttackEvents.sort((i,s)=>i.priority>s.priority?-1:i.priority<s.priority?1:0)),e.opponet.pet0&&e.opponet.pet0.beforeAttack&&!this.processedBeforeAttackPets.has(e.opponet.pet0)&&(this.beforeAttackEvents.push({callback:e.opponet.pet0.beforeAttack.bind(e.opponet.pet0),priority:e.opponet.pet0.attack,player:e.opponet}),this.processedBeforeAttackPets.add(e.opponet.pet0),this.beforeAttackEvents.sort((i,s)=>i.priority>s.priority?-1:i.priority<s.priority?1:0))}executeBeforeAttackEvents(){for(this.beforeAttackEvents=(0,vt.shuffle)(this.beforeAttackEvents),this.beforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);this.beforeAttackEvents.length>0;)this.beforeAttackEvents.shift().callback(this.gameService.gameApi);this.resetBeforeAttackEvents()}setEqiupmentBeforeAttackEvent(e){this.equipmentBeforeAttackEvents.push(e)}resetEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=[]}executeEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=(0,vt.shuffle)(this.equipmentBeforeAttackEvents),this.equipmentBeforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.equipmentBeforeAttackEvents)e.callback(this.gameService.gameApi);this.resetEqiupmentBeforeAttackEvents()}get hasEquipmentBeforeAttackEvents(){return this.equipmentBeforeAttackEvents.length>0}triggerFriendLostPerkEvents(e){for(let i of e.parent.petArray)null!=i.friendLostPerk&&this.setFriendLostPerkEvent({callback:i.friendLostPerk.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendLostPerkEvent(e){e.abilityType="friendLostPerk",this.addEventToQueue(e)}setEatsFoodEvent(e){e.abilityType="eatsFood",this.addEventToQueue(e)}triggerFriendAteFoodEvents(e){for(let i of e.parent.petArray)null!=i.friendAteFood&&this.setFriendAteFoodEvent({callback:i.friendAteFood.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendAteFoodEvent(e){e.abilityType="friendAteFood",this.addEventToQueue(e)}triggerGainedPerkEvents(e){for(let i of e.parent.petArray)i==e&&null!=i.gainedPerk&&this.setGainedPerkEvent({callback:i.gainedPerk.bind(i),priority:i.attack,pet:i,callbackPet:e})}setGainedPerkEvent(e){e.abilityType="gainPerk",this.addEventToQueue(e)}triggerFriendGainedPerkEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedPerk&&this.setFriendGainedPerkEvent({callback:i.friendGainedPerk.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendGainedPerkEvent(e){e.abilityType="friendGainedPerk",this.addEventToQueue(e)}triggerBeforeStartOfBattleEvents(e){for(let i of e.petArray)null!=i.beforeStartOfBattle&&this.setBeforeStartOfBattleEvent({callback:i.beforeStartOfBattle.bind(i),priority:i.attack,pet:i,player:e})}setBeforeStartOfBattleEvent(e){this.beforeStartOfBattleEvents.push(e)}resetBeforeStartOfBattleEvents(){this.beforeStartOfBattleEvents=[]}executeBeforeStartOfBattleEvents(){this.beforeStartOfBattleEvents=(0,vt.shuffle)(this.beforeStartOfBattleEvents),this.beforeStartOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.beforeStartOfBattleEvents)e.callback(this.gameService.gameApi);this.resetBeforeStartOfBattleEvents()}triggerFriendGainedAilmentEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedAilment&&this.setFriendGainedAilmentEvent({callback:i.friendGainedAilment.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendGainedAilmentEvent(e){e.abilityType="friendGainedAilment",this.addEventToQueue(e)}triggerEnemyGainedAilmentEvents(e,i){for(let s of e)null!=s.enemyGainedAilment&&this.setEnemyGainedAilmentEvent({callback:s.enemyGainedAilment.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemyGainedAilmentEvent(e){e.abilityType="enemyGainedAilment",this.addEventToQueue(e)}triggerFriendlyToyBrokeEvents(e){for(let i of e.petArray)null!=i.friendlyToyBroke&&this.setFriendlyToyBrokeEvent({callback:i.friendlyToyBroke.bind(i),priority:i.attack,pet:i})}setFriendlyToyBrokeEvent(e){e.abilityType="friendlyToyBroke",this.addEventToQueue(e)}triggerTransformEvents(e){for(let i of e.petArray)null!=i.transform&&this.setTransformEvent({callback:i.transform.bind(i),priority:i.attack,pet:i})}setTransformEvent(e){e.abilityType="transform",this.addEventToQueue(e)}triggerFriendTransformedEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendTransformed&&this.setFriendTransformedEvent({callback:s.friendTransformed.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendTransformedEvent(e){e.abilityType="friendTransformed",this.addEventToQueue(e)}triggerEnemySummonedEvents(e,i){for(let s of e.petArray)null!=s.enemySummoned&&this.setEnemySummonedEvent({callback:s.enemySummoned.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemySummonedEvent(e){e.abilityType="enemySummoned",this.addEventToQueue(e)}triggerEnemyPushedEvents(e,i){for(let s of e.petArray)null!=s.enemyPushed&&this.setEnemyPushedEvent({callback:s.enemyPushed.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemyPushedEvent(e){e.abilityType="enemyPushed",this.addEventToQueue(e)}triggerFriendHurtEvents(e,i){for(let s of e.petArray)null!=s.friendHurt&&this.setFriendHurtEvent({callback:s.friendHurt.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendHurtEvent(e){e.abilityType="friendHurt",this.addEventToQueue(e)}triggerLevelUpEvents(e,i){this.triggerFriendlyLevelUpToyEvents(e,i);for(let s of e.petArray)null!=s.anyoneLevelUp&&this.setLevelUpEvent({callback:s.anyoneLevelUp.bind(s),priority:s.attack,pet:s,callbackPet:i})}setLevelUpEvent(e){e.abilityType="levelUp",this.addEventToQueue(e)}triggerEmptyFrontSpaceEvents(e){for(let i of e.petArray)null!=i.emptyFrontSpace&&this.setEmptyFrontSpaceEvent({callback:i.emptyFrontSpace.bind(i),priority:i.attack,pet:i})}setEmptyFrontSpaceEvent(e){e.abilityType="emptyFrontSpace",this.addEventToQueue(e)}triggerEnemyHurtEvents(e,i){for(let s of e.petArray)null!=s.enemyHurt&&this.setEnemyHurtEvent({callback:s.enemyHurt.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemyHurtEvent(e){e.abilityType="enemyHurt",this.addEventToQueue(e)}triggerFriendAttacksEvents(e,i){var s,r,a;for(let o of e.petArray)o!=i&&null!=o.friendAttacks&&this.setAfterFriendAttackEvent({callback:()=>o.friendAttacks(this.gameApi,i,!1),priority:o.attack,pet:o,callbackPet:i,abilityType:"friendAttacks"});null!=(null===(s=i.petBehind(null,!0))||void 0===s?void 0:s.friendAheadAttacks)&&this.setAfterFriendAttackEvent({callback:i.petBehind(null,!0).friendAheadAttacks.bind(i.petBehind(null,!0)),priority:i.petBehind(null,!0).attack,pet:i.petBehind(null,!0),callbackPet:i,abilityType:"friendAheadAttacks"}),null!=(null===(r=i.petAhead)||void 0===r?void 0:r.adjacentAttacked)&&this.setAfterFriendAttackEvent({callback:()=>i.petAhead.adjacentAttacked(this.gameApi,i),priority:i.petAhead.attack,pet:i.petAhead,callbackPet:i,abilityType:"adjacentFriendAttacks"}),null!=(null===(a=i.petBehind(null,!0))||void 0===a?void 0:a.adjacentAttacked)&&this.setAfterFriendAttackEvent({callback:()=>i.petBehind(null,!0).adjacentAttacked(this.gameApi,i),priority:i.petBehind(null,!0).attack,pet:i.petBehind(null,!0),callbackPet:i,abilityType:"adjacentFriendAttacks"}),this.triggerEnemyAttackEvents(i.parent.opponent,i)}triggerBeforeFriendAttacksEvents(e,i){for(let s of e.petArray)s!==i&&null!=s.beforeFriendAttacks&&this.setBeforeFriendAttacksEvent({callback:s.beforeFriendAttacks.bind(s),priority:s.attack,pet:s,callbackPet:i})}setBeforeFriendAttacksEvent(e){this.beforeFriendAttacksEvents.push(e)}resetBeforeFriendAttacksEvents(){this.beforeFriendAttacksEvents=[]}executeBeforeFriendAttacksEvents(){this.beforeFriendAttacksEvents=(0,vt.shuffle)(this.beforeFriendAttacksEvents),this.beforeFriendAttacksEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.beforeFriendAttacksEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetBeforeFriendAttacksEvents()}setAfterFriendAttackEvent(e){this.afterFriendAttackEvents.push(e)}resetAfterFriendAttackEvents(){this.afterFriendAttackEvents=[]}executeAfterFriendAttackEvents(){this.afterFriendAttackEvents=(0,vt.shuffle)(this.afterFriendAttackEvents),this.afterFriendAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.afterFriendAttackEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetAfterFriendAttackEvents()}triggerEnemyAttackEvents(e,i){for(let s of e.petArray)null!=s.enemyAttack&&this.setAfterFriendAttackEvent({callback:s.enemyAttack.bind(s),priority:s.attack,pet:s,callbackPet:i,abilityType:"enemyAttack"})}triggerFriendJumpedEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendJumped&&this.setFriendJumpedEvent({callback:s.friendJumped.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendJumpedEvent(e){e.abilityType="friendJumped",this.addEventToQueue(e)}triggerEnemyJumpedEvents(e,i){for(let s of e.opponent.petArray)null!=s.enemyJumped&&this.setEnemyJumpedEvent({callback:s.enemyJumped.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemyJumpedEvent(e){e.abilityType="enemyJumped",this.addEventToQueue(e)}setManaEvent(e){e.abilityType="manaSnipe",this.addEventToQueue(e)}setGainManaEvents(e){e.abilityType="gainsMana",this.addEventToQueue(e)}triggerFriendGainsHealthEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendGainsHealth&&this.setFriendGainsHealthEvent({callback:s.friendGainsHealth.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendGainsHealthEvent(e){this.friendGainsHealthEvents.push(e)}resetFriendGainsHealthEvents(){this.friendGainsHealthEvents=[]}executeFriendGainsHealthEvents(){this.friendGainsHealthEvents=(0,vt.shuffle)(this.friendGainsHealthEvents),this.friendGainsHealthEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainsHealthEvents)e.callback(this.gameApi,e.callbackPet);this.resetFriendGainsHealthEvents()}triggerFriendGainedExperienceEvents(e,i){for(let s of e.petArray)s!==i&&null!=s.friendGainedExperience&&this.setFriendGainedExperienceEvent({callback:s.friendGainedExperience.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendGainedExperienceEvent(e){this.friendGainedExperienceEvents.push(e)}setAfterFaintEvents(e){e.abilityType="afterFaint",this.addEventToQueue(e)}triggerEmptyFrontSpaceToyEvents(e){var i;if(null!=(null===(i=e.toy)||void 0===i?void 0:i.emptyFromSpace)){if(e.toy.used)return;this.setEmptyFrontSpaceToyEvent({callback:e.toy.emptyFromSpace.bind(e.toy),priority:100,level:e.toy.level});let s=e.petArray.filter(r=>r instanceof wr);for(let r of s)this.setEmptyFrontSpaceToyEvent({callback:e.toy.emptyFromSpace.bind(e.toy),priority:+r.attack,level:r.level})}}setEmptyFrontSpaceToyEvent(e){this.emptyFrontSpaceToyEvents.push(e)}resetEmptyFrontSpaceToyEvents(){this.emptyFrontSpaceToyEvents=[]}executeEmptyFrontSpaceToyEvents(){this.emptyFrontSpaceToyEvents=(0,vt.shuffle)(this.emptyFrontSpaceToyEvents),this.emptyFrontSpaceToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.emptyFrontSpaceToyEvents)e.callback(this.gameService.gameApi,e.priority<100,e.level,e.priority);this.resetEmptyFrontSpaceToyEvents()}triggerFriendSummonedToyEvents(e,i){var s;if(null!=(null===(s=e.toy)||void 0===s?void 0:s.friendSummoned)){this.setFriendSummonedToyEvent({callback:e.toy.friendSummoned.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(a=>a instanceof wr);for(let a of r)this.setFriendSummonedToyEvent({callback:e.toy.friendSummoned.bind(e.toy),priority:+a.attack,level:a.level,callbackPet:i})}}setFriendSummonedToyEvent(e){this.friendSummonedToyEvents.push(e)}resetFriendSummonedToyEvents(){this.friendSummonedToyEvents=[]}executeFriendSummonedToyEvents(){this.friendSummonedToyEvents=(0,vt.shuffle)(this.friendSummonedToyEvents),this.friendSummonedToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendSummonedToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendSummonedToyEvents()}triggerFriendlyLevelUpToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendlyLevelUp)){this.setFriendlyLevelUpToyEvent({callback:e.toy.friendlyLevelUp.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(a=>a instanceof wr);for(let a of r)this.setFriendlyLevelUpToyEvent({callback:e.toy.friendlyLevelUp.bind(e.toy),priority:+a.attack,level:a.level,callbackPet:i})}}setFriendlyLevelUpToyEvent(e){this.friendlyLevelUpToyEvents.push(e)}resetFriendlyLevelUpToyEvents(){this.friendlyLevelUpToyEvents=[]}executeFriendlyLevelUpToyEvents(){this.friendlyLevelUpToyEvents=(0,vt.shuffle)(this.friendlyLevelUpToyEvents),this.friendlyLevelUpToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendlyLevelUpToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendlyLevelUpToyEvents()}triggerFriendFaintsToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendFaints)){this.setFriendFaintsToyEvent({callback:e.toy.friendFaints.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(a=>a instanceof wr);for(let a of r)this.setFriendFaintsToyEvent({callback:e.toy.friendFaints.bind(e.toy),priority:+a.attack,level:+a.level,callbackPet:i})}}setFriendFaintsToyEvent(e){this.friendFaintsToyEvents.push(e)}resetFriendFaintsToyEvents(){this.friendFaintsToyEvents=[]}executeFriendFaintsToyEvents(){this.friendFaintsToyEvents=(0,vt.shuffle)(this.friendFaintsToyEvents),this.friendFaintsToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendFaintsToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendFaintsToyEvents()}triggerFriendJumpedToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendJumped)){this.setFriendJumpedToyEvent({callback:e.toy.friendJumped.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(a=>a instanceof wr);for(let a of r)this.setFriendJumpedToyEvent({callback:e.toy.friendJumped.bind(e.toy),priority:+a.attack,level:a.level,callbackPet:i})}}setFriendJumpedToyEvent(e){this.friendJumpedToyEvents.push(e)}resetFriendJumpedToyEvents(){this.friendJumpedToyEvents=[]}executeFriendJumpedToyEvents(){this.friendJumpedToyEvents=(0,vt.shuffle)(this.friendJumpedToyEvents),this.friendJumpedToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendJumpedToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendJumpedToyEvents()}}return n.\u0275fac=function(e){return new(e||n)(H(wh))},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Li{constructor(t,e,i){this.logService=t,this.abilityService=e,this.gameService=i}getInstanceOfAllEquipment(){const t=fc.getInjector().get(fb);let e=new Map;return e.set("Garlic",new pc),e.set("Meat Bone",new R_),e.set("Steak",new I3),e.set("Melon",new Wr),e.set("Honey",new M_(this.logService,this.abilityService)),e.set("Chili",new A_(this.logService,this.abilityService)),e.set("Mushroom",new O3(this.logService,this.abilityService,t)),e.set("Coconut",new Ua),e.set("Peanut",new yh),e.set("Peanut Butter",new yC),e.set("Blackberry",new x3),e.set("Croissant",new N3),e.set("Rice",new I_),e.set("Eucalyptus",new O_),e.set("Lime",new L3),e.set("Egg",new RA(this.logService,this.abilityService)),e.set("Squash",new B3(this.logService,this.abilityService)),e.set("Salt",new f_),e.set("Pie",new LA(this.logService)),e.set("Skewer",new BA(this.logService)),e.set("Lemon",new $3),e.set("Pancakes",new $A(this.logService)),e.set("Strawberry",new N_(this.logService,this.abilityService)),e.set("Baguette",new V3(this.logService,this.abilityService)),e.set("Cucumber",new F3),e.set("Cheese",new p_),e.set("Grapes",new H3),e.set("Carrot",new q3),e.set("Pepper",new g_),e.set("Popcorn",new U3(this.logService,this.abilityService,t,this.gameService)),e.set("Cherry",new VA),e.set("Chocolate Cake",new L_(this.logService,this.abilityService)),e.set("Cod Roe",new vz(this.logService,this.abilityService)),e.set("Eggplant",new FA(this.logService)),e.set("Potato",new G3),e.set("Banana",new j3(this.logService,this.abilityService)),e.set("Onion",new EC(this.logService)),e.set("Pita Bread",new W3(this.logService)),e.set("Tomato",new z3(this.logService,this.abilityService)),e.set("Sudduth Tomato",new yz(this.logService)),e.set("Unagi",new _z(this.logService)),e.set("Durian",new K3(this.logService,this.abilityService)),e.set("Gros Michel Banana",new bz(this.logService,this.abilityService,t)),e.set("Seaweed",new Q3(this.logService,this.abilityService,t)),e.set("Fortune Cookie",new m_),e.set("Blueberry",new Y3),e.set("Donut",new J3),e.set("Pineapple",new Z3),e.set("Fig",new X3(this.logService,this.abilityService)),e.set("Caramel",new eV(this.logService,this.abilityService)),e.set("Rambutan",new B_(this.logService)),e.set("Love Potion",new HA(this.logService)),e.set("Fairy Dust",new tV(this.logService)),e.set("Gingerbread Man",new qA(this.logService)),e.set("Easter Egg",new iV(this.logService,this.abilityService)),e.set("Health Potion",new UA(this.logService)),e.set("Magic Beans",new nV),e.set("Golden Egg",new sV(this.logService,this.abilityService)),e.set("Yggdrasil Fruit",new Sz(this.logService,this.abilityService)),e.set("Honeydew Melon",new _C),e.set("Maple Syrup",new Bp),e.set("Cocoa Bean",new wz(this.logService,this.abilityService,t)),e.set("White Okra",new SC),e.set("White Truffle",new M3(this.logService,this.abilityService)),e.set("Ambrosia",new wC),e.set("Faint Bread",new aV(this.logService,this.abilityService,t,this.gameService)),e}getInstanceOfAllAilments(){let t=new Map;return t.set("Cold",new GA),t.set("Crisp",new dc),t.set("Dazed",new v_),t.set("Exposed",new Lp),t.set("Ink",new jA),t.set("Spooked",new Fp),t.set("Weak",new Ga),t.set("Tasty",new rV(this.logService,this.abilityService)),t}isUsefulPerk(t){return Li.USEFUL_PERKS.has(t)}getUsefulPerksByTier(t){const e=this.getInstanceOfAllEquipment(),i=[];for(const[s,r]of Li.USEFUL_PERKS.entries())r===t&&e.has(s)&&i.push(e.get(s));return i}getUsefulPerks(){const t=this.getInstanceOfAllEquipment(),e=[];for(const i of Li.USEFUL_PERKS.keys())t.has(i)&&e.push(t.get(i));return e}}Li.USEFUL_PERKS=new Map([["Honey",1],["Strawberry",1],["Egg",1],["Lime",2],["Meat Bone",2],["Cherry",2],["Fairy Dust",2],["Garlic",3],["Gingerbread Man",3],["Fig",3],["Cucumber",3],["Croissant",3],["Squash",3],["Banana",4],["Love Potion",4],["Pie",4],["Grapes",4],["Cheese",4],["Cod Roe",4],["Salt",4],["Fortune Cookie",4],["Easter Egg",5],["Magic Beans",5],["Chili",5],["Lemon",5],["Durian",5],["Honeydew Melon",5],["Maple Syrup",5],["Cocoa Bean",5],["White Okra",5],["Popcorn",6],["Steak",6],["Pancakes",6],["Yggdrasil Fruit",6],["Melon",6],["Tomato",6],["Sudduth Tomato",6],["Pita Bread",6],["Seaweed",5],["Caramel",4],["Baguette",4]]),Li.\u0275fac=function(t){return new(t||Li)(H(H_),H(q_),H(wh))},Li.\u0275prov=ue({token:Li,factory:Li.\u0275fac,providedIn:"root"});class WA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toucan",this.tier=3,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}beforeAttack(t,e,i){if(this.timesAttacked>=1)return;let s;s=null==this.equipment||this.equipment.tier>5?fc.getInjector().get(Li).getInstanceOfAllEquipment().get("egg"):fc.getInjector().get(Li).getInstanceOfAllEquipment().get(this.equipment.name);let a=this.parent.nearestPetsBehind(this.level,this,s.name).pets;if(0!=a.length){for(let o of a)this.logService.createLog({message:`${this.name} gave ${o.name} ${s.name}`,type:"ability",player:this.parent,randomEvent:!1,tiger:e,pteranodon:i}),o.givePetEquipment(s);this.superBeforeAttack(t,e)}}}class zA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beluga Sturgeon",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=new k_(this.logService,this.abilityService,this.parent,3,2,0,0,new I_),a=this.parent.summonPet(r,4,!1,this);a.success&&(this.logService.createLog({message:`${this.name} summoned a 2/3 Dolphin with Rice in the back.`,type:"ability",player:this.parent,randomEvent:a.randomEvent,tiger:e,pteranodon:i}),this.abilityService.triggerFriendSummonedEvents(r))}super.superAfterFaint(t,e,i)}}class KA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tabby Cat",this.tier=2,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}friendGainedPerk(t,e,i){let s=this.parent.getRandomPets(2,[this],!0,!1,this);if(0!=s.pets.length){for(let r of s.pets)null!=r&&(this.logService.createLog({message:`${this.name} increased ${r.name}'s health by ${this.level}.`,type:"ability",player:this.parent,randomEvent:s.random,tiger:i}),r.increaseHealth(this.level));this.superFriendGainedPerk(t,e,i)}}}class at{constructor(t,e,i,s){this.logService=t,this.toyService=e,this.used=!1,this.triggers=0,this.parent=i,this.level=s}}class Ez extends at{constructor(){super(...arguments),this.name="Balloon",this.tier=1}onBreak(t,e){let i=this.parent.furthestUpPet;if(null==i)return;let s=this.level;i.increaseAttack(s),i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:e})}}class kz extends at{constructor(){super(...arguments),this.name="Tennis Ball",this.tier=1}startOfBattle(t,e){let i=Bt(t,this.parent),s=i.getRandomPet([],!1,!0,!1,null);null!=s.pet&&(this.toyService.snipePet(s.pet,this.level,this.parent,this.name,!0,e),s=i.getRandomPet([],!1,!0,!1,null),null!=s.pet&&this.toyService.snipePet(s.pet,this.level,this.parent,this.name,!0,e))}}class Cz extends at{constructor(){super(...arguments),this.name="Radio",this.tier=2}onBreak(t,e){let i=this.parent.petArray;for(let s of i)!s.alive||(s.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} health.`,type:"ability",player:this.parent,puma:e}))}}class Az extends at{constructor(){super(...arguments),this.name="Garlic Press",this.tier=2}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof pc)){this.logService.createLog({message:`${this.name} gave ${s.name} Garlic.`,type:"ability",player:this.parent,puma:e}),s.givePetEquipment(new pc);break}}}class Pz extends at{constructor(){super(...arguments),this.name="Plastic Saw",this.tier=2}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof O_)){this.logService.createLog({message:`${this.name} gave ${s.name} Eucalyptus.`,type:"ability",player:this.parent,puma:e}),s.givePetEquipment(new O_);break}}}class Dz extends at{constructor(){super(...arguments),this.name="Toilet Paper",this.tier=3}startOfBattle(t,e){let s=Bt(t,this.parent).petArray.slice(0,this.level);for(let r of s)r.givePetEquipment(new Ga),this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,puma:e})}}class Tz extends at{constructor(){super(...arguments),this.name="Oven Mitts",this.tier=3}onBreak(t){}}class xz extends at{constructor(){super(...arguments),this.name="Melon Helmet",this.tier=4}onBreak(t,e){let i=this.parent.petArray.filter(s=>s.alive).slice(0,this.level);for(let s of i)s.givePetEquipment(new Wr),this.logService.createLog({message:`${this.name} gave ${s.name} Melon.`,type:"ability",player:this.parent,puma:e})}}class Mz extends at{constructor(){super(...arguments),this.name="Foam Sword",this.tier=4}startOfBattle(t,e){let i=Bt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet();this.toyService.snipePet(r.pet,6,this.parent,this.name,r.random,e)}}}class Rz extends at{constructor(){super(...arguments),this.name="Toy Gun",this.tier=4}startOfBattle(t,e){let i=Bt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLastPet();if(null==r.pet)return;this.toyService.snipePet(r.pet,6,this.parent,this.name,!1,e)}}}class Iz extends at{constructor(){super(...arguments),this.name="Flashlight",this.tier=5}onBreak(t,e){let i=6*this.level,s=this.parent.furthestUpPet;null!=s&&(s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e}))}}class Oz extends at{constructor(){super(...arguments),this.name="Strinky Sock",this.tier=5}startOfBattle(t,e){let i=Bt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getHighestHealthPet(),a=r.pet;if(null==a)return;let o=.4,l=Math.max(1,Math.floor(a.health*(1-o)));a.health=l,this.logService.createLog({message:`${this.name} reduced ${a.name} health by ${100*o}% (${l})`,type:"ability",player:this.parent,puma:e,randomEvent:r.random})}}}class Nz extends at{constructor(){super(...arguments),this.name="Television",this.tier=6}onBreak(t,e){let i=2*this.level;for(let s of this.parent.petArray)!s.alive||(s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e}))}}class Lz extends at{constructor(){super(...arguments),this.name="Peanut Jar",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof yh)){s.givePetEquipment(new yh),this.logService.createLog({message:`${this.name} gave ${s.name} Peanut.`,type:"ability",player:this.parent,puma:e});break}}}class Bz extends at{constructor(){super(...arguments),this.name="Air Palm Tree",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof Ua)){s.givePetEquipment(new Ua),this.logService.createLog({message:`${this.name} gave ${s.name} Coconut.`,type:"ability",player:this.parent,puma:e});break}}}class $z extends at{constructor(t,e,i,s,r){super(t,e,i,s),this.logService=t,this.toyService=e,this.equipmentService=r,this.name="Pandoras Box",this.tier=6}startOfBattle(t,e){let i=this.equipmentService.getInstanceOfAllEquipment(),s=[new GA,new dc,new v_,new Lp,new Fp,new vC,new Ga],r=["Carrot","Cherry","Chocolate Cake","Coconut","Croissant","Cucumber","Eggplant","Fig","Gingerbread Man","Grapes","Golden Egg","Health Potion","Love Potion","Magic Beans","Peanut","Pie","Rambutan","Rice","Skewer"],a=[...t.player.petArray,...t.opponet.petArray],o=Array.from(i.values());o=o.filter(l=>!r.includes(l.name));for(let l of a){let h=s;Math.random()<.5&&(h=o);let d=h[Math.floor(Math.random()*h.length)];this.logService.createLog({message:`${this.name} gave ${l.name} ${d.name}`,type:"ability",player:this.parent,randomEvent:!0}),l.givePetEquipment(d,this.level)}}}class Vz extends at{constructor(){super(...arguments),this.name="Witch Broom",this.tier=1}startOfBattle(t,e){let i=Bt(t,this.parent),s=i.petArray.filter(a=>null!=a.equipment),r=[];for(let a=0;a<this.level;a++){let o=i.getRandomPet(s,!1,!0,!1,null);if(null==o.pet)break;s.push(o.pet),r.push(o.pet)}for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} Weak.`,type:"ability",player:this.parent,puma:e,randomEvent:i.petArray.length-s.length>0}),a.givePetEquipment(new Ga)}}class Fz extends at{constructor(){super(...arguments),this.name="Magic Wand",this.tier=1}startOfBattle(t,e){let i=this.parent.petArray.filter(a=>a.level<3),s=null,r=!1;0==i.length?s=this.parent.getRandomPet([],!0):(i=(0,vt.shuffle)(i),s=i[0],r=i.length>1),null!=s&&(this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} exp.`,type:"ability",player:this.parent,puma:e,randomEvent:r}),s.increaseExp(this.level))}}class Hz extends at{constructor(){super(...arguments),this.name="Crystal Ball",this.tier=1}startOfBattle(t,e){let i=this.parent.petArray[0];null!=i&&(this.logService.createLog({message:`${this.name} gave ${i.name} ${this.level} mana.`,type:"ability",player:this.parent,puma:e,randomEvent:!1}),i.increaseMana(this.level))}}class qz extends at{constructor(){super(...arguments),this.name="Treasure Map",this.tier=3}}class Uz extends at{constructor(){super(...arguments),this.name="Treasure Chest",this.tier=3}}class U_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Great One",this.tier=6,this.pack="Custom",this.attack=7,this.health=13,this.initPet(o,s,r,a,l)}summoned(t,e){let i=[...this.parent.petArray,...this.parent.opponent.petArray];i=i.filter(s=>s!==this);for(let s of i)this.snipePet(s,6*this.level);this.superSummoned(t,e)}}class Gz extends at{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Evil Book",this.tier=5}emptyFromSpace(t,e,i,s){let r={attack:6*i,health:6*i},o=new U_(this.logService,this.abilityService,this.parent,r.health,r.attack,0,1==i?0:2==i?2:5);this.logService.createLog({message:`${this.name} spawned Great One (${r.attack}/${r.health}).`,type:"ability",player:this.parent,puma:e}),this.parent.summonPet(o,0)&&this.abilityService.triggerFriendSummonedEvents(o),this.used=!0}}class jz extends at{constructor(){super(...arguments),this.name="Magic Carpet",this.tier=2}friendSummoned(t,e,i,s){this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack.`,type:"ability",player:this.parent,puma:i}),e.increaseAttack(s)}}class Wz extends at{constructor(){super(...arguments),this.name="Magic Lamp",this.tier=2}friendlyLevelUp(t,e,i,s){this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),e.increaseAttack(+s),e.increaseHealth(+s)}}class zz extends at{constructor(){super(...arguments),this.name="Candleabra",this.tier=4}}class Kz extends at{constructor(){super(...arguments),this.name="Glass Shoes",this.tier=4}friendFaints(t,e,i,s){if(i||this.triggers++,this.triggers%3!=0)return;let r=e.parent.petArray.filter(a=>a.alive);for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),a.increaseAttack(+s),a.increaseHealth(+s)}}class Qz extends at{constructor(){super(...arguments),this.name="Golden Harp",this.tier=4}}class Yz extends at{constructor(){super(...arguments),this.name="Lock of Hair",this.tier=4}}class Jz extends at{constructor(){super(...arguments),this.name="Magic Mirror",this.tier=4}}class Zz extends at{constructor(){super(...arguments),this.name="Pickaxe",this.tier=4}}class Xz extends at{constructor(){super(...arguments),this.name="Red Cape",this.tier=4}friendJumped(t,e,i,s){let r=e.parent.petArray.filter(a=>a.alive);for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),a.increaseAttack(+s),a.increaseHealth(+s)}}class eK extends at{constructor(){super(...arguments),this.name="Rosebud",this.tier=4}friendlyLevelUp(t,e,i,s){if(i||this.triggers++,this.triggers%2!=0)return;let r=e.parent.petArray.filter(a=>a.alive);for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),a.increaseAttack(+s),a.increaseHealth(+s)}}class tK extends at{constructor(){super(...arguments),this.name="Excalibur",this.tier=6}}class iK extends at{constructor(){super(...arguments),this.name="Holy Grail",this.tier=6}}class G_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salmon of Knowledge",this.tier=5,this.pack="Unicorn",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=2*this.level,s=[],r=this.parent.getFurthestUpPets(2,null,this,null,[this]);s.push(...r.pets);let a=this.parent.opponent.getFurthestUpPets(2,null,this);s.push(...a.pets);for(let o of s)this.logService.createLog({message:`${this.name} gave ${o.name} ${i} exp.`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random||a.random}),o.increaseExp(i);this.superStartOfBattle(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class nK extends at{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Nutcracker",this.tier=4}friendFaints(t,e,i,s){if(this.used||e.parent.petArray.filter(l=>l.alive).length>0)return;let a=6*this.level,o=new G_(this.logService,this.abilityService,this.parent,a,a,null,0);this.logService.createLog({message:`${this.name} spawned Salmon of Knowledge (${a}/${a})`,type:"ability",player:this.parent}),this.parent.summonPet(o,0)&&this.abilityService.triggerFriendSummonedEvents(o),this.used=!0}}class sK extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Eyes Dog",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=6,this.attack=6,this.initPet(o,s,r,a,l)}}class rK extends at{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Tinder Box",this.tier=4}emptyFromSpace(t,e,i,s){let r={attack:6*i,health:6*i},o=new sK(this.logService,this.abilityService,this.parent,r.health,r.attack,0,1==i?0:2==i?2:5);this.logService.createLog({message:`${this.name} spawned Giant Eyes Dog (${r.attack}/${r.health}).`,type:"ability",player:this.parent,puma:e}),this.parent.summonPet(o,0)&&this.abilityService.triggerFriendSummonedEvents(o),this.used=!0}}let oV=(()=>{class n{constructor(e,i,s,r){this.logService=e,this.abilityService=i,this.gameService=s,this.equipmentService=r,this.toys=new Map,this.startOfBattleEvents=[],this.emptyFrontSpaceEvents=[],this.friendSummonedEvents=[],this.setToys()}setToys(){this.toys.set(1,["Ballon","Tennis Ball"]),this.toys.set(2,["Radio","Garlic Press","Plastic Saw"]),this.toys.set(3,["Toilet Paper","Oven Mitts"]),this.toys.set(4,["Melon Helmet","Foam Sword","Toy Gun"]),this.toys.set(5,["Flashlight","Stinky Sock"]),this.toys.set(6,["Television","Peanut Jar","Air Palm Tree"]),this.toys.set(7,["Witch Broom","Pandoras Box","Magic Wand","Crystal Ball","Treasure Map","Treasure Chest","Evil Book","Magic Carpet","Magic Lamp","Nutcracker","Tinder Box","Candleabra","Glass Shoes","Golden Harp","Lock of Hair","Magic Mirror","Pickaxe","Red Cape","Rose Bud","Excalibur","Holy Grail"])}createToy(e,i,s=1){switch(e){case"Ballon":return new Ez(this.logService,this,i,s);case"Tennis Ball":return new kz(this.logService,this,i,s);case"Radio":return new Cz(this.logService,this,i,s);case"Garlic Press":return new Az(this.logService,this,i,s);case"Plastic Saw":return new Pz(this.logService,this,i,s);case"Toilet Paper":return new Dz(this.logService,this,i,s);case"Oven Mitts":return new Tz(this.logService,this,i,s);case"Melon Helmet":return new xz(this.logService,this,i,s);case"Foam Sword":return new Mz(this.logService,this,i,s);case"Toy Gun":return new Rz(this.logService,this,i,s);case"Flashlight":return new Iz(this.logService,this,i,s);case"Stinky Sock":return new Oz(this.logService,this,i,s);case"Television":return new Nz(this.logService,this,i,s);case"Peanut Jar":return new Lz(this.logService,this,i,s);case"Air Palm Tree":return new Bz(this.logService,this,i,s);case"Pandoras Box":return new $z(this.logService,this,i,s,this.equipmentService);case"Witch Broom":return new Vz(this.logService,this,i,s);case"Magic Wand":return new Fz(this.logService,this,i,s);case"Crystal Ball":return new Hz(this.logService,this,i,s);case"Treasure Map":return new qz(this.logService,this,i,s);case"Treasure Chest":return new Uz(this.logService,this,i,s);case"Evil Book":return new Gz(this.logService,this,this.abilityService,i,s);case"Magic Carpet":return new jz(this.logService,this,i,s);case"Magic Lamp":return new Wz(this.logService,this,i,s);case"Nutcracker":return new nK(this.logService,this,this.abilityService,i,s);case"Tinder Box":return new rK(this.logService,this,this.abilityService,i,s);case"Candleabra":return new zz(this.logService,this,i,s);case"Glass Shoes":return new Kz(this.logService,this,i,s);case"Golden Harp":return new Qz(this.logService,this,i,s);case"Lock of Hair":return new Yz(this.logService,this,i,s);case"Magic Mirror":return new Jz(this.logService,this,i,s);case"Pickaxe":return new Zz(this.logService,this,i,s);case"Red Cape":return new Xz(this.logService,this,i,s);case"Rose Bud":return new eK(this.logService,this,i,s);case"Excalibur":return new tK(this.logService,this,i,s);case"Holy Grail":return new iK(this.logService,this,i,s)}}snipePet(e,i,s,r,a=!1,o=!1){var l,h;let d=this.calculateDamgae(e,this.getManticoreMult(s),i),m=d.defenseEquipment,y=d.damage,S="Ghost Kitten"==e.name,k=0;S&&(k=3*e.level,y=Math.max(0,y-k)),this.dealDamage(e,y,s);let T=`${r} sniped ${e.name} for ${y}.`;if(null!=m){e.useDefenseEquipment(!0);let U=Math.abs(m.power),O="-";if(m.power<0&&(O="+"),"Strawberry"===m.name){let G=e.getSparrowLevel();G>0&&(U=5*G,T+=` (Strawberry -${U} (Sparrow))`)}else T+=` (${m.name} ${O}${U})`;T+=m.multiplierMessage}S&&(T+=` -${k} (Ghost Kitten)`),"Exposed"==(null===(l=e.equipment)||void 0===l?void 0:l.name)&&(T+="x2 (Exposed)",e.equipment.multiplier>1&&(T+=e.equipment.multiplierMessage));let D=this.getManticoreMult(s),I=["Weak","Cold","Exposed","Spooked"].includes(null===(h=e.equipment)||void 0===h?void 0:h.name);if(D.length>0&&I)for(let U of D)T+=` x${U+1} (Manticore)`;return d.nurikabe>0&&(T+=` -${d.nurikabe} (Nurikabe)`),d.fairyBallReduction>0&&(T+=` -${d.fairyBallReduction} (Fairy Ball)`),d.fanMusselReduction>0&&(T+=` -${d.fanMusselReduction} (Fan Mussel)`),o&&(T+=" (Puma)"),this.logService.createLog({message:T,type:"attack",randomEvent:a,player:s}),y}calculateDamgae(e,i,s){var r,a,o,l,h,d,m;let y=null===(r=e.equipment)||void 0===r?void 0:r.multiplier,D="defense"==(null===(a=e.equipment)||void 0===a?void 0:a.equipmentClass)||"shield"==(null===(o=e.equipment)||void 0===o?void 0:o.equipmentClass)||"ailment-defense"==(null===(l=e.equipment)||void 0===l?void 0:l.equipmentClass)||"shield-snipe"==(null===(h=e.equipment)||void 0===h?void 0:h.equipmentClass)?e.equipment:null;if(null!=D){if("Maple Syrup"==D.name&&(D=null),["Cold","Weak","Spooked"].includes(null==D?void 0:D.name))for(let pe of i)y+=pe;D.power=D.originalPower*y}let N=(null==D?void 0:D.power)?D.power:0,I=e.getSparrowLevel();if("Strawberry"===(null===(d=e.equipment)||void 0===d?void 0:d.name)&&I>0&&(N+=5*I),"Exposed"==(null===(m=e.equipment)||void 0===m?void 0:m.name)){let pe=2;for(let ve of i)pe+=ve;pe+=e.equipment.multiplier-1,s*=pe}let O,U="shield"==(null==D?void 0:D.equipmentClass)||"shield-snipe"==(null==D?void 0:D.equipmentClass)?0:1;void 0!==(null==D?void 0:D.minimumDamage)&&(U=D.minimumDamage),O=s<=U&&N>0?Math.max(s,0):Math.max(U,s-N);let G=0;"Fairy Ball"===e.name&&O>0&&(G=2*e.level,O=Math.max(1,O-G));let Y=0;"Nurikabe"==e.name&&e.abilityUses<3&&O>0&&(Y=4*e.level,O=Math.max(1,O-G),e.abilityUses++);let oe=0;return"Fan Mussel"==e.name&&e.abilityUses<e.maxAbilityUses&&O>0&&(oe=1*e.level,O=Math.max(1,O-G),e.abilityUses++),{defenseEquipment:D,damage:O,nurikabe:Y,fairyBallReduction:G,fanMusselReduction:oe}}dealDamage(e,i,s){e.health-=i,null!=e.hurt&&i>0&&this.abilityService.setHurtEvent({callback:e.hurt.bind(e),priority:e.attack,player:e.parent,pet:e}),i>0&&this.abilityService.triggerFriendHurtEvents(e.parent,e),i>0&&this.abilityService.triggerEnemyHurtEvents(s,e)}getManticoreMult(e){let i=[];for(let s of e.petArray)"Manticore"==s.name&&i.push(s.level);return i}getSparrowLevel(e){let i=0;for(let s of e.petArray)"Sparrow"==s.name&&(i=Math.max(i,s.level));return i}setStartOfBattleEvent(e){this.startOfBattleEvents.push(e)}resetStartOfBattleEvents(){this.startOfBattleEvents=[]}executeStartOfBattleEvents(){this.startOfBattleEvents=(0,vt.shuffle)(this.startOfBattleEvents),this.startOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.startOfBattleEvents)e.callback(this.gameService.gameApi);this.resetStartOfBattleEvents()}}return n.\u0275fac=function(e){return new(e||n)(H(H_),H(q_),H(wh),H(Li))},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class j_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Squirrel",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}friendlyToyBroke(t,e){let i=2*this.level,s=this.parent.getThis(this),r=s.pet;if(null==r||(r.increaseAttack(i),this.logService.createLog({message:`${this.name} gave ${r.name} +${i} attack`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),null==this.parent.brokenToy))return;const a=fc.getInjector().get(oV).createToy(this.parent.brokenToy.name,this.parent);a.level=Math.min(this.level,this.parent.brokenToy.level),this.parent.setToy(a),this.logService.createLog({message:`${a.name} respawned (Level ${a.level})!`,type:"ability",player:this.parent,tiger:e}),this.superFriendlyToyBroke(t,e)}}class QA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mandrill",this.tier=2,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){var s;if((null===(s=this.parent.toy)||void 0===s?void 0:s.tier)<=2*this.level){let a=!1;for(let o of this.parent.petArray)if(o instanceof j_){a=!0;break}this.parent.breakToy(),this.abilityService.triggerFriendlyToyBrokeEvents(this.parent)}}}class W_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lemur",this.tier=2,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class YA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hoopoe Bird",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=Bt(t,this.parent),r=s.getFurthestUpPet(this),a=r.pet,o=s.getLastPet(void 0,this),l=o.pet,h=2*this.level;a&&this.snipePet(a,h,r.random,e,i),l&&this.snipePet(l,h,o.random,e,i),this.superFaint(t,e)}}class JA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tropical Fish",this.tier=3,this.pack="Puppy",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}}class ZA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hatching Chick",this.tier=3,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class XA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goldfish",this.tier=2,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}}class eP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Owl",this.tier=3,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}}class Hp extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mole",this.tier=3,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=6*this.level,r=[];for(let l of this.parent.petArray)l!=this&&l.equipment&&r.push(l);if(r=r.slice(0,2),r.length<2)return;for(let l of r)this.logService.createLog({message:`${this.name} removed ${l.name}'s equipment.`,type:"ability",player:this.parent,pteranodon:i}),l.removePerk();let a=new Hp(this.logService,this.abilityService,this.parent,s,s),o=this.parent.summonPet(a,this.savedPosition,!1,this);o.success&&(this.logService.createLog({message:`${this.name} summoned a ${s}/${s} Mole.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a)),super.superAfterFaint(t,e,i)}}class tP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Raccoon",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}beforeAttack(t,e){let s=Bt(t,this.parent).getPetAtPosition(0);null!=s&&null!=s.equipment&&(this.abilityUses>=this.maxAbilityUses||(this.logService.createLog({message:`${this.name} stole ${s.name}'s equipment. (${s.equipment.name})`,type:"ability",player:this.parent}),this.givePetEquipment(s.equipment),s.removePerk(),this.abilityUses++))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class iP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Cucumber",this.tier=5,this.pack="Custom",this.health=5,this.attack=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=(this.parent==t.player?t.opponet:t.player).petArray.filter(l=>l.alive);if(0==s.length)return void this.superStartOfBattle(t,e);let r=this.level,o=[...s];for(let l=0;l<r&&o.length>0;l++){let h=Math.floor(Math.random()*o.length),d=o[h],m=new rV(this.logService,this.abilityService);this.logService.createLog({message:`${this.name} made ${d.name} Tasty`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>1}),d.givePetEquipment(m),o.splice(h,1)}this.superStartOfBattle(t,e)}}class nP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pangolin",this.tier=3,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){if(null==this.parent.toy)return void this.superFaint(t,e);let s=this.parent.nearestPetsBehind(1,this);if(0===s.pets.length)return void this.superFaint(t,e);let r=s.pets[0],a=4*this.level;r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),this.superFaint(t,e)}}class sP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puppy",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class rP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Microbe",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getAll(!0,this),r=s.pets;if(0!=r.length){for(let a of r)!a.alive||(this.logService.createLog({message:`${this.name} gave ${a.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),a.givePetEquipment(new Ga));this.superFaint(t,e)}}}class aP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lobster",this.tier=4,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class oP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Buffalo",this.tier=4,this.pack="Puppy",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}}class lP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Llama",this.tier=4,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class z_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Butterly",this.tier=1,this.pack="Puppy",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}transform(t,e){if(!this.alive)return;let s=Bt(t,this.parent).getStrongestPet(this);null!=s.pet&&(this.health=s.pet.health,this.attack=s.pet.attack,this.logService.createLog({message:`${this.name} copied stats from the strongest enemy (${this.attack}/${this.health}).`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.superTransform(t,e))}}class cP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Caterpillar",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(this.level<3)return;let i=this.parent.getThis(this),s=i.pet;if(null==s)return;let r=new z_(this.logService,this.abilityService,s.parent,s.health,s.attack,s.mana,s.exp,s.equipment);this.parent.transformPet(s,r),this.logService.createLog({message:`${this.name} transformed into a Butterfly.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random})}}class uP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Doberman",this.tier=4,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=!0;for(let h of this.parent.petArray)if(h!=this&&h.tier<=this.tier){i=!1;break}if(!i)return;let s=8*this.level,r=this.parent.getThis(this),a=r.pet;if(null==a)return;a.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random});let o=this.parent.getThis(this),l=o.pet;null!=l&&(l.givePetEquipment(new Ua),this.logService.createLog({message:`${this.name} gave ${l.name} Coconut.`,type:"ability",player:this.parent,tiger:e,randomEvent:o.random}),this.superStartOfBattle(t,e))}}class hP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tahr",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.nearestPetsBehind(this.level,this,"Chili");if(0!==s.pets.length){for(let r of s.pets)this.logService.createLog({message:`${this.name} gave ${r.name} Chili.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),r.givePetEquipment(new A_(this.logService,this.abilityService));this.superFaint(t,e)}else this.superFaint(t,e)}}class dP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Whale Shark",this.tier=4,this.pack="Puppy",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}givePetEquipment(t){super.givePetEquipment(t),this.removePerk(),this.logService.createLog({message:`${this.name} removed ${t.name}`,type:"ability",player:this.parent});let e=this.parent.getThis(this),i=e.pet;if(null==i)return;let s=3*this.level;i.increaseAttack(s),i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,randomEvent:e.random})}}class fP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chameleon",this.tier=4,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){if(null==this.parent.toy)return;let s=this.parent.toy,r=s.level;s.level=this.level,this.logService.createLog({message:`${this.name} activated ${s.name}.`,type:"ability",player:this.parent,pteranodon:i}),s.onBreak&&this.parent.breakToy(!0),s.startOfBattle&&s.startOfBattle(t),s.level=r}}class pP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gharial",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(o,s,r,a,l)}}class gP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stonefish",this.tier=5,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){let r=this.parent.getSpecificPet(this,this.killedBy).pet;null==r||!r.alive||(this.snipePet(r,this.attack*this.level,!1,e,i),this.superFaint(t,e))}}class mP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poodle",this.tier=5,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class vP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chicken",this.tier=5,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}}class yP extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Eagle",this.tier=5,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let r,s=Math.min(6,t.previousShopTier+1);r=this.parent==t.player?t.playerPetPool.get(s):t.opponentPetPool.get(s);let a=r[Math.floor(Math.random()*r.length)],o=5*this.level,l=this.petService.createPet({name:a,attack:o,health:o,exp:this.minExpForLevel,equipment:null,mana:0},this.parent);this.parent.summonPet(l,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned ${l.name} Level ${l.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.abilityService.triggerFriendSummonedEvents(l)),super.superAfterFaint(t,e,i)}}class K_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Praying Mantis",this.tier=4,this.pack="Star",this.attack=7,this.health=2,this.initPet(o,s,r,a,l)}}class _P extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Orchid Mantis",this.tier=5,this.pack="Puppy",this.attack=8,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.min(Math.floor(this.attack*(.4*this.level)),50),s=Math.min(Math.floor(this.health*(.4*this.level)),50),r=new K_(this.logService,this.abilityService,this.parent,s,i,0,this.minExpForLevel,null),a=this.parent.summonPetInFront(this,r);a.success&&(this.logService.createLog({message:`${this.name} spawned Mantis ${r.attack}/${r.health}.`,type:"ability",player:this.parent,tiger:e,randomEvent:a.randomEvent}),this.abilityService.triggerFriendSummonedEvents(r)),this.superStartOfBattle(t,e)}}class bP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panther",this.tier=5,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class SP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Axolotl",this.tier=5,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}friendGainedPerk(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;if(null==r)return;let a=this.level;r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} attack and ${a} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.abilityUses++,this.superFriendGainedPerk(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class wP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goat",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}}class EP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snapping Turtle",this.tier=5,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.nearestPetsBehind(this.level,this,"Skewer");if(0!==s.pets.length){for(let r of s.pets)this.logService.createLog({message:`${this.name} gave ${r.name} Skewer.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),r.givePetEquipment(new BA(this.logService));this.superFaint(t,e)}}}class kP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosasaurus",this.tier=5,this.pack="Puppy",this.attack=5,this.health=6,this.initPet(o,s,r,a,l)}friendlyToyBroke(t,e){let i=[],s=!1,r=this.parent.nearestPetsAhead(1,this);r.pets.length>0&&(i.push(r.pets[0]),s=r.random);let a=this.parent.nearestPetsBehind(1,this);if(a.pets.length>0&&(i.push(a.pets[0]),s=s||a.random),0==i.length)return;for(let l of i)this.logService.createLog({message:`${this.name} gave ${l.name} 2 attach and 3 health.`,type:"ability",player:this.parent,randomEvent:s,tiger:e}),l.increaseHealth(3),l.increaseAttack(2)}}class CP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sting Ray",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}}class AP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mantis Shrimp",this.tier=6,this.pack="Puppy",this.attack=9,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Bt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getFurthestUpPet(this),a=r.pet;if(null==a)return;this.snipePet(a,10,r.random,e)}this.superStartOfBattle(t,e)}}class PP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lionfish",this.tier=6,this.pack="Puppy",this.attack=8,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=Bt(t,this.parent),r=1+Math.floor(this.attack/10);for(let a=0;a<r;a++){let o=s.getRandomPet([],!1,!0,!1,this);if(null==o.pet)return;this.snipePet(o.pet,3*this.level,o.random,e,i)}this.superFaint(t,e)}}class DP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tyrannosaurus",this.tier=6,this.pack="Puppy",this.attack=7,this.health=7,this.initPet(o,s,r,a,l)}}class TP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Octopus",this.tier=6,this.pack="Puppy",this.attack=8,this.health=8,this.initPet(o,s,r,a,l)}afterAttack(t,e){let s=Bt(t,this.parent).getRandomPets(this.level,null,null,!0,this),r=s.pets;for(let o of r){if(null==o)return;this.snipePet(o,6,s.random,e)}this.superAfterAttack(t,e)}}class xP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anglerfish",this.tier=6,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(o,s,r,a,l)}}class MP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sauropod",this.tier=6,this.pack="Puppy",this.attack=4,this.health=12,this.initPet(o,s,r,a,l)}}class RP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant Seal",this.tier=6,this.pack="Puppy",this.attack=4,this.health=8,this.initPet(o,s,r,a,l)}gainedPerk(t,e,i){if(e!=this||this.abilityUses>=this.maxAbilityUses)return;let s=4*this.level,r=this.parent.getRandomPets(3,[this],!0,!1,this);for(let a of r.pets)null!=a&&(a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}));this.abilityUses++,this.superGainedPerk(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class IP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mongoose",this.tier=6,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}}class OP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pillbug",this.tier=1,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class NP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duckling",this.tier=1,this.pack="Custom",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class aK extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Summoned Cockroach",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.hidden=!0,this.initPet(o,s,r,a,l)}}class LP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockroach",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}afterfaint(t,e,i){const s=this.level,r=new aK(this.logService,this.abilityService,this.parent,1,1,0,0);let a=this.parent.summonPet(r,this.savedPosition,!1,this);if(a.success){this.logService.createLog({message:`${this.name} summoned a 1/1 Cockroach.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a.randomEvent});let o=this.parent.getThis(r);o.pet.increaseExp(s),this.logService.createLog({message:`${this.name} gave ${o.pet.name} +${s} exp.`,type:"ability",player:this.parent,tiger:e,randomEvent:o.random}),this.abilityService.triggerFriendSummonedEvents(r)}this.superAfterFaint(t,e)}}class BP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frog",this.tier=1,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(this.level>1)return;let i=this.parent.nearestPetsAhead(1,this),s=this.parent.nearestPetsBehind(1,this);if(0===i.pets.length||0===s.pets.length)return;let r=i.pets[0],a=s.pets[0],o=r.attack,l=r.health,d=a.health;r.attack=a.attack,r.health=d,a.attack=o,a.health=l,this.logService.createLog({message:`${this.name} swapped the attack and health of ${r.name} and ${a.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random||s.random}),this.superStartOfBattle(t,e)}}class $P extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chihuahua",this.tier=1,this.pack="Star",this.attack=4,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){const i=this.parent.opponent,s=i.getHighestHealthPet(void 0,this),r=s.pet;if(r){const a=this.level;this.logService.createLog({message:`${this.name} pushed ${r.name} forward ${a} space(s).`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),i.pushPet(r,a)}this.superStartOfBattle(t,e)}}class VP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seahorse",this.tier=1,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=Bt(t,this.parent).getLastPet();null!=s.pet&&(this.parent.pushPet(s.pet,this.level),this.logService.createLog({message:`${this.name} pushes ${s.pet.name} forward ${this.level} space(s).`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class FP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Iguana",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}enemyPushed(t,e,i){let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&r.alive&&(this.snipePet(r,2*this.level,s.random,i),this.superEnemyPushed(t,e,i))}enemySummoned(t,e,i){let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&r.alive&&(this.snipePet(r,2*this.level,s.random,i),this.superEnemySummoned(t,e,i))}}class HP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hummingbird",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsBehind(this.level,this,"Strawberry");if(0!==i.pets.length){for(let s of i.pets)s.givePetEquipment(new N_(this.logService,this.abilityService)),this.logService.createLog({message:`${this.name} gave ${s.name} strawberry.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random});this.superStartOfBattle(t,e)}}}class qP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Koala",this.tier=2,this.pack="Star",this.attack=3,this.health=3,this.abilityUses=0,this.maxAbilityUses=0,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){if(e===this||this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&(this.logService.createLog({message:`${this.name} gave ${r.name} Eucalyptus perk.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),r.givePetEquipment(new O_),this.abilityUses++,this.superFriendHurt(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level,this.abilityUses=0}}class UP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Yak",this.tier=2,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class GP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dumbo Octopus",this.tier=2,this.pack="Star",this.health=5,this.attack=2,this.initPet(o,s,r,a,l)}}class jP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salamander",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class WP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panda",this.tier=2,this.pack="Custom",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=.5*this.level,s={attack:Math.floor(this.attack*i),health:Math.floor(this.health*i)},r=this.parent.nearestPetsAhead(1,this);if(0===r.pets.length)return void this.superStartOfBattle(t,e);let a=r.pets[0];a.increaseAttack(s.attack),a.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${a.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}),this.health=0,this.superStartOfBattle(t,e)}}class zP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guinea Pig",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class KP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pug",this.tier=3,this.pack="Star",this.attack=5,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(1,this);if(0===i.pets.length)return void this.superStartOfBattle(t,e);let s=i.pets[0],r=this.level;this.logService.createLog({message:`${this.name} gave ${s.name} ${r} exp.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),s.increaseExp(r),this.superStartOfBattle(t,e)}}class QP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jellyfish",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent)return;let s=this.parent.getThis(this),r=s.pet;if(null==r)return;let a=this.level;r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} attack by ${a} and health by ${a}`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.superAnyoneLevelUp(t,e,i)}}class YP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Atlantic Puffin",this.tier=2,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}friendAttacks(t,e,i){var s;if("Strawberry"!=(null===(s=e.equipment)||void 0===s?void 0:s.name))return;this.logService.createLog({message:`${this.name} removed ${e.name}'s ${e.equipment.name}.`,type:"ability",player:this.parent,tiger:i}),e.removePerk();let r=2*this.level,a=this.parent.opponent.getLastPet(),o=a.pet;null!=o&&(this.snipePet(o,r,a.random,i),this.superStartOfBattle(t,i))}}class JP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dove",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.petArray.filter(o=>{var l;return o==this||"Strawberry"!=(null===(l=o.equipment)||void 0===l?void 0:l.name)}),r=this.parent.getRandomPets(3,s,null,null,this),a=r.pets;if(0!=a.length){for(let o of a){if("Strawberry"!=o.equipment.name)continue;this.logService.createLog({message:`${this.name} activated ${o.name}'s Strawberry.`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random,pteranodon:i});let h=o.parent.getLastPet(null,o).pet,d=this.level+h.equipment.multiplier-1;h.increaseAttack(d),h.increaseHealth(d),this.logService.createLog({message:`${o.name} gave ${h.name} ${d} attack ${d} health (Strawberry) (x${this.level} ${this.name}).`,type:"equipment",player:this.parent,tiger:e,pteranodon:i})}this.superFaint(t,e)}}}class ZP extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Stork",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let s,r=Math.max(1,t.previousShopTier-1);s=this.parent==t.player?t.playerPetPool.get(r):t.opponentPetPool.get(r);let a=s[Math.floor(Math.random()*s.length)],o=t.oldStork,l=this.petService.createPet({name:a,attack:o?null:3*this.level,equipment:null,exp:this.minExpForLevel,health:o?null:2*this.level,mana:0},this.parent);this.parent.summonPet(l,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned ${l.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.abilityService.triggerFriendSummonedEvents(l)),super.superAfterFaint(t,e,i)}}class XP extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Shima Enaga",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(l,r,a,o,h)}friendFaints(t,e,i){var s;if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;if(!e||"Strawberry"!=(null===(s=e.equipment)||void 0===s?void 0:s.name))return void this.superFriendFaints(t,e,i);let r=2*this.level,a=this.parent.petArray.filter(d=>d.alive);if(this.abilityUses++,0===a.length)return;let o=a[Math.floor(Math.random()*a.length)],l=this.petService.createPet({name:o.name,attack:r,health:r,equipment:null,exp:o.exp,mana:0},this.parent);this.parent.summonPet(l,e.position,!1,this).success&&(this.logService.createLog({message:`${this.name} summoned a (${r}/${r}) ${l.name} }`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),this.abilityService.triggerFriendSummonedEvents(l)),this.superFriendFaints(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class eD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leech",this.tier=3,this.pack="Star",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}}class tD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Woodpecker",this.tier=5,this.pack="Star",this.attack=6,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=2*this.level;for(let s=0;s<i;s++){let r=this.parent.nearestPetsAhead(2,this,null,!0),a=r.pets;for(let o of a)this.snipePet(o,2,r.random,e)}this.superStartOfBattle(t,e)}}class iD extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tuna",this.tier=3,this.pack="Star",this.attack=3,this.health=5,this.initPet(o,s,r,a,l),this.timesHurt=null!=h?h:0,this.originalTimesHurt=this.timesHurt}faint(t,e,i){let s=this.timesHurt;for(let r=0;r<s;r++){const a=this.parent.getRandomPet([this],!0,!1,!0,this);if(null==a.pet)continue;const o=this.level;this.logService.createLog({message:`${this.name} gave ${a.pet.name} +${o} attack and +${o} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:a.random}),a.pet.increaseAttack(o),a.pet.increaseHealth(o)}this.superFaint(t,e)}}class nD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toad",this.tier=3,this.pack="Star",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}enemyHurt(t,e,i){if(!e.alive||this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&(r.equipment instanceof Ga||(r.givePetEquipment(new Ga),this.abilityUses++,this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.enemyHurt(t,e,i)))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2*this.level}}class sD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Starfish",this.tier=5,this.pack="Star",this.attack=3,this.health=7,this.initPet(o,s,r,a,l)}}class rD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Clownfish",this.tier=4,this.pack="Star",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){if(e.parent!==this.parent)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;if(null==r)return;let a=2*this.level;r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} attack and ${a} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.superAnyoneLevelUp(t,e,i)}}class aD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blobfish",this.tier=5,this.pack="Star",this.attack=2,this.health=10,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.nearestPetsBehind(2,this),r=s.pets;for(let a of r){let o=this.level;this.logService.createLog({message:`${this.name} gave ${a.name} ${o} exp.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),a.increaseExp(o)}this.superFaint(t,e)}}class oD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cabybara",this.tier=3,this.pack="Star",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}}class lD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Okapi",this.tier=3,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class cD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cassowary",this.tier=3,this.pack="Star",this.attack=5,this.health=2,this.initPet(o,s,r,a,l)}friendGainedPerk(t,e,i){var s;if(e.parent!==this.parent||"Strawberry"!==(null===(s=e.equipment)||void 0===s?void 0:s.name))return;const r=this.level;let o=this.parent.getThis(this).pet;null!=o&&(this.logService.createLog({message:`${this.name} gave ${o.name} +${r} permanent health and +${r} attack for this battle.`,type:"ability",player:this.parent,tiger:i}),o.increaseHealth(r),o.increaseAttack(r),this.superFriendGainedPerk(t,e,i))}}class Q_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Orangutang",this.tier=3,this.pack="Star",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}}class uD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Siamese",this.tier=4,this.pack="Star",this.health=4,this.attack=1,this.initPet(o,s,r,a,l)}}class hD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elk",this.tier=4,this.pack="Star",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}endTurn(t){}}class Y_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy Ball",this.tier=1,this.pack="Star",this.attack=2,this.health=6,this.hidden=!0,this.initPet(o,s,r,a,l)}}class dD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy Armadillo",this.tier=4,this.pack="Star",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}hurt(t,e,i){if(this.alive){const s=2*this.level,r=this.parent.getThis(this),a=r.pet;if(null==a)return;a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} permanent health and transforms into a protected ball!`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random});const o=this.parent.getThis(this),l=o.pet;if(null==l)return;const h=new Y_(this.logService,this.abilityService,l.parent,l.health,l.attack,l.mana,l.exp,l.equipment);this.logService.createLog({message:`${this.name} transformed ${l.name} into a protected ball!`,type:"ability",player:this.parent,tiger:i,randomEvent:o.random}),l.parent.transformPet(l,h)}this.superHurt(t,e,i)}}class fD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fossa",this.tier=4,this.pack="Star",this.attack=6,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){const s=this.parent===t.player?t.playerRollAmount:t.opponentRollAmount;if(s<=0)return;const r=this.level*s;let o=this.parent.getFurthestUpPets(2,null,this).pets;if(0!=o.length){for(let l of o)this.logService.createLog({message:`${this.name} removed ${r} health from ${l.name}.`,type:"ability",player:this.parent,tiger:e}),l.increaseHealth(-r);this.superStartOfBattle(t,e)}}}class pD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Eel",this.tier=4,this.pack="Custom",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(!this.alive)return;let i=.5*this.level;this.health=Math.min(50,Math.floor(this.health*(1+i))),this.logService.createLog({message:`${this.name} has gained ${100*i}% health. (${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class gD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hawk",this.tier=4,this.pack="Star",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getOppositeEnemyPet(this),s=i.pet;s&&this.snipePet(s,7*this.level,i.random,e)}}class mD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Platypus",this.tier=4,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=3*this.level,r=2*this.level,a=new S_(this.logService,this.abilityService,this.parent,r,s,0,this.minExpForLevel),o=new w_(this.logService,this.abilityService,this.parent,r,s,0,this.minExpForLevel),l=this.parent.summonPet(a,this.savedPosition,!1,this);l.success&&(this.logService.createLog({message:`${this.name} spawned ${s}/${r} Duck level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:l.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a));let h=this.parent.summonPet(o,this.savedPosition,!1,this);h.success&&(this.logService.createLog({message:`${this.name} spawned ${s}/${r} Beaver level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:h.randomEvent}),this.abilityService.triggerFriendSummonedEvents(o)),super.superAfterFaint(t,e,i)}}class vD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crow",this.tier=4,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class yD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Donkey",this.tier=4,this.pack="Star",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;let r=this.parent.opponent.getLastPet();null!=r.pet&&(this.parent.pushPet(r.pet,r.pet.position),this.logService.createLog({message:`${this.name} pushed ${r.pet.name} to the front.`,type:"ability",player:this.parent,tiger:i}),this.superFriendFaints(t,e,i),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class _D extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sparrow",this.tier=4,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}}class bD extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Pelican",this.tier=5,this.pack="Star",this.attack=5,this.health=5,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=this.level,s=this.parent.nearestPetsAhead(5,this),a=s.pets.filter(o=>o.equipment instanceof N_).slice(0,i);for(let o of a){let l=this.petService.createPet({name:"Salmon",attack:o.attack,health:o.health,exp:this.minExpForLevel,equipment:null,mana:0},this.parent);this.swallowedPets.push(l),o.health=0,this.logService.createLog({message:`${this.name} swallowed ${o.name}`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random})}this.superStartOfBattle(t,e)}afterFaint(t,e,i){for(;this.swallowedPets.length>0;){let s=this.swallowedPets.shift(),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} summoned ${s.name} (level ${s.level}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s))}super.superAfterFaint(t,e,i)}}class SD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anteater",this.tier=3,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=new __(this.logService,this.abilityService,this.parent,1,1,0,5),a=this.parent.summonPet(r,this.savedPosition,!1,this);a.success&&(this.logService.createLog({message:`${this.name} spawned 1/1 Ant level 3`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a.randomEvent}),this.abilityService.triggerFriendSummonedEvents(r))}super.superAfterFaint(t,e,i)}}class wD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sword Fish",this.tier=5,this.pack="Star",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=this.parent.opponent.getHighestHealthPet(void 0,this),r=s.pet,a=this.attack*this.level;null!=r&&this.snipePet(r,a,s.random,e),this.snipePet(this,a,!1,e),this.superStartOfBattle(t,e)}}class ED extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Polar Bear",this.tier=5,this.pack="Custom",this.attack=4,this.health=8,this.initPet(o,s,r,a,l)}}class kD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Siberian Husky",this.tier=5,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}}class CD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lion",this.tier=5,this.pack="Custom",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(a=>a!==this),s=0;for(let a of i)a.tier>s&&(s=a.tier);let r=.5*this.level;this.tier<=s||(this.increaseAttack(Math.floor(this.attack*r)),this.increaseHealth(Math.floor(this.health*r)),this.logService.createLog({message:`${this.name} increased its attack and health by ${100*r}% (${this.attack}/${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class AD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Triceratops",this.tier=5,this.pack="Star",this.attack=5,this.health=6,this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=this.parent.getRandomPet([this],!0,!1,!0,this),r=3*this.level;null!=s.pet&&(s.pet.increaseAttack(r),s.pet.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.pet.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.superHurt(t,e,i))}}class PD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zebra",this.tier=5,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class DD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fox",this.tier=5,this.pack="Custom",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}}class TD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hamster",this.tier=5,this.pack="Star",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}}class xD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shoebill",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class MD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vulture",this.tier=5,this.pack="Star",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){!this.alive||(i||this.abilityCounter++,this.abilityCounter%2!=1&&(this.abilityService.setCounterEvent({callback:()=>{let r=this.parent.opponent.getRandomPet([],!1,!0,!1,this);null!=r.pet&&this.snipePet(r.pet,4*this.level,r.random,i)},priority:this.attack,pet:this}),this.superFriendFaints(t,e,i)))}}class RD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ibex",this.tier=5,this.pack="Star",this.attack=6,this.health=7,this.affectedEnemies=new Set,this.initPet(o,s,r,a,l)}processEnemyTrigger(t,e){if(this.affectedEnemies.has(t)||this.affectedEnemies.size>=this.maxAbilityUses)return;let i=this.parent.getSpecificPet(this,t),s=i.pet;if(null==s)return;let r=Math.floor(.7*t.health);s.increaseHealth(-r),this.affectedEnemies.add(s),this.logService.createLog({message:`${this.name} removed ${r} health from ${t.name} (70%)`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random})}enemyHurt(t,e,i){!(null==e?void 0:e.alive)||(this.processEnemyTrigger(e,i),this.superEnemyHurt(t,e,i))}enemyPushed(t,e,i){!(null==e?void 0:e.alive)||(this.processEnemyTrigger(e,i),this.superEnemyPushed(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class ID extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Komodo",this.tier=6,this.pack="Custom",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}endTurn(t){if(!t.komodoShuffle)return;let i=this.position;if(0==i)return;let r=this.shufflePets(0,i).map(a=>a.name).join(", ");this.logService.createLog({message:`${this.name} shuffled positions of pets (${r}).`,type:"ability",player:this.parent,randomEvent:!0})}shufflePets(t,e){let i=this.parent.petArray.slice(t,e);T3(i);for(let s=0;s<i.length;s++)this.parent[`pet${s}`]=i[s];return i}}class OD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ostrich",this.tier=6,this.pack="Star",this.attack=6,this.health=7,this.initPet(o,s,r,a,l)}}class ND extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Reindeer",this.tier=6,this.pack="Star",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.getThis(this),s=i.pet;null!=s&&(s.givePetEquipment(new Wr),this.abilityUses++,this.logService.createLog({message:`${this.name} gave ${s.name} Melon.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.superAfterAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class LD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stegosaurus",this.tier=6,this.pack="Custom",this.attack=3,this.health=8,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(a=>null!=a.equipment),s=this.parent.getRandomPet([...i,this],!0,!1,!0,this);if(null==s.pet)return;let r=this.level*t.turnNumber;s.pet.increaseAttack(r),s.pet.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.pet.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.superStartOfBattle(t,e)}}class BD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Piranha",this.tier=6,this.pack="Star",this.attack=10,this.health=4,this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=this.parent.getAll(!1,this,!0),r=s.pets,a=3*this.level;for(let o of r)o.increaseAttack(a),this.logService.createLog({message:`${this.name} gave ${o.name} ${a} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random});this.superHurt(t,e,i)}}class $D extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hammerhead Shark",this.tier=6,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}}class VD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Therizinosaurus",this.tier=6,this.pack="Custom",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getFurthestUpPets(this.level,null,this,"Strawberry"),s=i.pets;for(let r of s)r.givePetEquipment(new Ua),this.logService.createLog({message:`${this.name} gave ${r.name} Coconut.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random})}}class FD extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Harpy Eagle",this.tier=6,this.pack="Custom",this.attack=6,this.health=6,this.initPet(l,r,a,o,h)}hurt(t,e,i){let r,s=5*this.level;r=this.parent==t.player?t.playerPetPool.get(1):t.opponentPetPool.get(1);let a=r[Math.floor(Math.random()*r.length)],o=this.petService.createPet({name:a,attack:s,health:s,equipment:null,mana:0,exp:0},this.parent);this.parent.summonPet(o,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned ${o.name} (${s}/${s}).`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),this.abilityService.triggerFriendSummonedEvents(o)),super.superHurt(t,e,i)}}class HD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Real Velociraptor",this.tier=6,this.pack="Star",this.attack=6,this.health=5,this.friendAppliedThisTurn=new Set,this.initPet(o,s,r,a,l)}friendLostPerk(t,e,i){if(this.abilityUses>=this.maxAbilityUses||this==e||!(null==e?void 0:e.lastLostEquipment)||this.friendAppliedThisTurn.has(e))return;let s=this.createEquipmentInstance(e.lastLostEquipment);if(s){let r=this.parent.getSpecificPet(this,e),a=r.pet;if(null==a)return;a.givePetEquipment(s),this.logService.createLog({message:`${this.name} returned ${s.name} to ${a.name}.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),this.friendAppliedThisTurn.add(a),this.abilityUses++}super.superFriendLosPerk(t,e,i)}createEquipmentInstance(t){try{return new(0,t.constructor)}catch(e){return console.warn("Failed to create equipment instance:",t.name,e),null}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class qD extends _{constructor(t,e,i,s,r,a,o,l,h,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Sabertooth Tiger",this.tier=6,this.pack="Star",this.attack=4,this.health=5,this.initPet(l,r,a,o,h),this.timesHurt=null!=d?d:0,this.originalTimesHurt=this.timesHurt}afterFaint(t,e,i){let s=this.timesHurt;if(s>0)for(let r=0;r<this.level;r++){let a=Math.min(2*s,50),o=Math.min(3*s,50),l=this.petService.createPet({name:"Mammoth",attack:a,health:o,equipment:null,mana:0,exp:0},this.parent),h=this.parent.summonPet(l,this.savedPosition,!1,this);h.success&&(this.logService.createLog({message:`${this.name} summoned ${l.name} (${a}/${o}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:h.randomEvent}),this.abilityService.triggerFriendSummonedEvents(l))}this.superAfterFaint(t,e)}resetPet(){super.resetPet()}}class UD extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Orca",this.tier=6,this.pack="Star",this.attack=5,this.health=7,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=this.petService.getRandomFaintPet(this.parent);r.attack=6,r.health=6,this.parent.summonPet(r,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned a 6/6 ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.abilityService.triggerFriendSummonedEvents(r))}super.superAfterFaint(t,e,i)}}class GD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Spinosaurus",this.tier=6,this.pack="Star",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(!this.alive)return;let s={attack:2*this.level,health:3*this.level},r=this.parent.getRandomPet([this],!0,!1,!0,this);null!=r.pet&&(r.pet.increaseAttack(s.attack),r.pet.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),super.superFriendFaints(t,e,i))}}class jD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bulldog",this.tier=1,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}afterAttack(t,e){if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;let i=2*this.level,s=this.parent.getThis(this),r=s.pet;null!=r&&(r.increaseAttack(i),this.logService.createLog({message:`${this.name} gained +${i} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.abilityUses++,this.superAfterAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class J_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Groundhog",this.tier=1,this.pack="Golden",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}faint(t,e,i){this.parent.gainTrumpets(this.level,this,i),this.superFaint(t,e)}}class WD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cone Snail",this.tier=1,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsBehind(1,this);if(0===i.pets.length)return;let s=i.pets[0],r=2*this.level;s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.superStartOfBattle(t,e)}}class zD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goose",this.tier=1,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.opponent.getFurthestUpPet(this),s=i.pet;if(null==s)return;let r=this.level;s.increaseAttack(-this.level),this.logService.createLog({message:`${this.name} removed ${r} attack from ${s.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.superStartOfBattle(t,e)}}class KD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pied Tamarin",this.tier=1,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=this.parent.opponent.getRandomPets(this.level,null,null,!0,this);for(let r of s.pets)null!=r&&this.snipePet(r,3,s.random,e,i);s.pets.length>0&&this.parent.spendTrumpets(1,this,i)}}class QD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silkmoth",this.tier=1,this.pack="Golden",this.attack=3,this.health=1,this.maxAbilityUses=2,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){if(this.abilityUses>=this.maxAbilityUses||e!=this.petAhead)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;if(null==r)return;let a=this.level;r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.abilityUses++,this.superFriendHurt(t,e,i)}}class YD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lemming",this.tier=1,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}}class JD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Magpie",this.tier=1,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}}class ZD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hercules Beetle",this.tier=2,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}}class XD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stoat",this.tier=2,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class eT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Black Necked Stilt",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){this.parent.gainTrumpets(2*this.level,this,i),this.superFaint(t,e)}}class tT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squid",this.tier=2,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=!1,r=this.parent.opponent.getFurthestUpPets(this.level,"Ink",this),a=r.pets;for(let o of a){if(null==o)break;s=!0,o.givePetEquipment(new jA),this.logService.createLog({message:`${this.name} gave ${o.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.random})}s&&this.parent.spendTrumpets(1,this,i),this.superFaint(t,e)}}class iT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Urchin",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getFurthestUpPet(this),r=[s.pet],a=s.random;if(null!=r[0]){for(let o=0;o<this.level-1;o++){let l;if(l=a?this.parent.opponent.getFurthestUpPet(this).pet:r[o].petBehind(),null==l)break;r.push(l)}for(let o of r)null!=o&&(o.increaseHealth(-5),this.logService.createLog({message:`${this.name} removed 5 health from ${o.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a}));this.superFaint(t,e)}}}class nT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Door Head Ant",this.tier=2,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.parent.pushPetToFront(this,!0),this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e});let i=4*this.level,s=this.parent.getThis(this),r=s.pet;null!=r&&(r.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}))}}class Z_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard Tail",this.tier=1,this.pack="Golden",this.hidden=!0,this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}}class sT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.maxAbilityUses=2,this.initPet(o,s,r,a,l)}hurt(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=new Z_(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel),r=this.parent.summonPetInFront(this,s);r.success&&(this.logService.createLog({message:`${this.name} spawned Liazrd Tail Level ${this.level}`,type:"ability",player:this.parent,tiger:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),this.abilityUses++,super.superHurt(t,i)}}class rT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Turtle",this.tier=2,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let s=2*this.level,r=this.parent.getSpecificPet(this,e),a=r.pet;null!=a&&(a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),this.superFriendSummoned(t,e,i))}}class aT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="African Penguin",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}}class oT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Musk Ox",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}friendAheadFaints(t,e,i){let s={attack:this.level,health:2*this.level},r=this.parent.getThis(this),a=r.pet;null!=a&&(a.increaseAttack(s.attack),a.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${a.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),this.superFriendAheadFaints(t,e,i))}}class lT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flea",this.tier=3,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getHighestHealthPets(this.level,"Weak",this);for(let r of s.pets)this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),r.givePetEquipment(new Ga);this.superFaint(t,e)}}class cT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Surgeon Fish",this.tier=3,this.pack="Golden",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e){let s=this.parent.nearestPetsBehind(2,this).pets;if(0==s.length||this.parent.trumpets<2)return;this.parent.spendTrumpets(2,this);let r=4*this.level;for(let a of s)a.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${a.name} ${r} health.`,type:"ability",player:this.parent,tiger:e});this.superFaint(t,e)}}class X_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Weasel",this.tier=3,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class uT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guineafowl",this.tier=3,this.pack="Golden",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}hurt(t,e,i){this.parent.gainTrumpets(2*this.level,this),this.superHurt(t,e,i)}}class hT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Betta Fish",this.tier=3,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.nearestPetsBehind(1,this);if(0===s.pets.length)return void this.superFaint(t,e);let r=s.pets[0],a={health:2*this.level,attack:4*this.level};r.increaseAttack(a.attack),r.increaseHealth(a.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${a.attack} attack and ${a.health} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),this.superFaint(t,e)}}class dT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Meerkat",this.tier=2,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i;i=this.parent==t.player?t.playerGoldSpent:t.opponentGoldSpent;let s=Math.floor(i/4)*this.level,r=this.parent.nearestPetsBehind(1,this),a=this.parent.nearestPetsAhead(1,this);if(a.pets.length>0){let o=a.pets[0];o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:a.random})}if(r.pets.length>0){let o=r.pets[0];o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random})}this.superFaint(t,e)}}class fT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Fish",this.tier=3,this.pack="Golden",this.attack=5,this.health=2,this.maxAbilityUses=2,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=2*this.level,r=this.parent.getSpecificPet(this,e),a=r.pet;null!=a&&(this.logService.createLog({message:`${this.name} gave ${a.name} ${s} exp.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),a.increaseExp(s),this.abilityUses++,this.superFriendSummoned(t,e,i))}}class pT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baboon",this.tier=3,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class gT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Osprey",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=new J_(this.logService,this.abilityService,this.parent,null,null,0,0),a=this.parent.summonPet(r,this.savedPosition,!1,this);a.success&&(this.logService.createLog({message:`${this.name} summoned a 2/1 Groundhog`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a.randomEvent}),this.abilityService.triggerFriendSummonedEvents(r))}super.superAfterFaint(t,e,i)}}class mT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manatee",this.tier=4,this.pack="Golden",this.attack=2,this.health=11,this.initPet(o,s,r,a,l)}}class vT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cuttlefish",this.tier=4,this.pack="Golden",this.attack=8,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getLastPets(this.level,null,this),r=s.pets;if(0==r.length)return;for(let h of r)h.increaseHealth(-3),this.logService.createLog({message:`${this.name} reduced ${h.name} health by 3)`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random});let l=this.parent.opponent.getLastPets(this.level,null,this).pets;if(0!=l.length){for(let h of l)h.givePetEquipment(new jA),this.logService.createLog({message:`${this.name} gave ${h.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}}class yT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Egyptian Vulture",this.tier=5,this.pack="Golden",this.attack=7,this.health=4,this.initPet(o,s,r,a,l)}knockOut(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.nearestPetsBehind(5,this),r=null;for(let a of s.pets)if(null!=a.faint){r=a;break}null!=r&&(this.logService.createLog({message:`${this.name} activated ${r.name}'s ability.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),r.faint(t,!1),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class _T extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saiga Antelope",this.tier=4,this.pack="Golden",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){e!=this&&(!this.alive||(i||this.abilityCounter++,this.abilityCounter%2==0&&(this.abilityService.setCounterEvent({callback:()=>{this.parent.gainTrumpets(3*this.level,this)},priority:this.attack,pet:this}),super.superFriendFaints(t,e,i))))}}class bT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sealion",this.tier=4,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class ST extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vaquita",this.tier=4,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=Math.max(Math.floor(.5*this.level*this.parent.trumpets),4*this.level);this.parent.gainTrumpets(s,this,i)}}class eb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smallest Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class tb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smaller Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=new eb(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} spawned Smallest Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),super.superFaint(t,e)}}class wT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Slug",this.tier=4,this.pack="Golden",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=new tb(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} spawned Smaller Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),super.superAfterFaint(t,e,i)}}class ET extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poison Dart Frog",this.tier=4,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,s,r,a,l)}friendAheadFaints(t,e,i){let s=this.parent.opponent.getHighestHealthPet(void 0,this),r=s.pet;null!=r&&this.snipePet(r,4*this.level,s.random,i)}}class kT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Secretary Bird",this.tier=4,this.pack="Golden",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(!this.alive||(i||this.abilityUses++,this.abilityUses%2==1))return;let s=this.parent.nearestPetsAhead(1,this);if(0===s.pets.length)return;let r=s.pets[0],a=3*this.level,o=4*this.level;r.increaseAttack(a),r.increaseHealth(o),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} attack and ${o} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.superFriendFaints(t,e,i)}}class CT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Royal Flycatcher",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}enemySummoned(t,e,i){let s=this.parent.opponent.getRandomPet([],!1,!0,!1,this);null!=s.pet&&(this.snipePet(s.pet,3*this.level,s.random,i),this.superEnemySummoned(t,e,i))}}class AT extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Falcon",this.tier=4,this.pack="Golden",this.attack=5,this.health=5,this.maxAbilityUses=3,this.initPet(l,r,a,o,h)}knockOut(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=3*this.level,r=this.petService.createPet({attack:s,health:s,name:e.name,exp:this.minExpForLevel,equipment:null,mana:0},this.parent),a=this.parent.summonPet(r,this.savedPosition,!1,this);a.success&&(this.logService.createLog({message:`${this.name} spawned ${r.name} ${s}/${s} Level ${this.level}`,type:"ability",player:this.parent,tiger:i,randomEvent:a.randomEvent}),this.abilityService.triggerFriendSummonedEvents(r)),this.abilityUses++,super.superKnockOut(t,e,i)}}class PT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manta Ray",this.tier=4,this.pack="Golden",this.attack=5,this.health=7,this.initPet(o,s,r,a,l)}}class DT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Macaque",this.tier=5,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=12*this.level,s=new Q_(this.logService,this.abilityService,this.parent,i,i,0,this.minExpForLevel,this.equipment),r=this.parent.summonPetInFront(this,s);if(r.success){this.abilityService.triggerFriendSummonedEvents(s);let a=`${this.name} spawned Orangutang ${s.attack}/${s.health}`;null!=this.equipment&&(a+=` with ${this.equipment.name}`),a+=".",this.logService.createLog({message:a,type:"ability",player:this.parent,tiger:e,randomEvent:r.randomEvent})}this.superStartOfBattle(t,e)}}class TT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nyala",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){this.parent.gainTrumpets(8*this.level,this,i),this.superFaint(t,e)}}class xT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nurse Shark",this.tier=5,this.pack="Golden",this.attack=5,this.health=7,this.initPet(o,s,r,a,l)}faint(t,e,i){if(0==this.parent.trumpets)return;let s=3*Math.min(this.parent.trumpets,6),r=this.parent.opponent.getRandomPets(2,[],!1,!0,this),a=r.pets;if(0!=a.length){this.parent.spendTrumpets(Math.min(this.parent.trumpets,6),this,i);for(let o of a)this.snipePet(o,s,r.random,e,i);this.superFaint(t,e)}}}class MT extends _{constructor(t,e,i,s,r,a,o,l,h,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Beluga Whale",this.tier=5,this.pack="Golden",this.attack=3,this.health=8,this.initPet(l,r,a,o,h),this.belugaSwallowedPet=d}afterFaint(t,e,i){if(null==this.belugaSwallowedPet)return;let s=this.petService.createPet({attack:null,equipment:null,exp:this.minExpForLevel,health:null,name:this.belugaSwallowedPet,mana:0},this.parent),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} spawned ${s.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),super.superAfterFaint(t,e,i)}}class RT extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Wolf",this.tier=5,this.pack="Golden",this.attack=4,this.health=4,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let s={attack:3*this.level,health:2*this.level};for(let r=0;r<3;r++){let a=this.petService.createPet({attack:s.attack,equipment:null,exp:this.minExpForLevel,health:s.health,name:"Pig",mana:0},this.parent),o=this.parent.summonPet(a,this.savedPosition,!1,this);o.success&&(this.logService.createLog({message:`${this.name} spawned ${a.name} ${s.attack}/${s.health}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a))}super.superAfterFaint(t,e,i)}}class IT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silver Fox",this.tier=5,this.pack="Custom",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}beforeAttack(t,e){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class OT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fire Ant",this.tier=5,this.pack="Golden",this.attack=8,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=(0,vt.shuffle)(this.parent.petArray.filter(r=>r!=this));s.sort((r,a)=>a.tier-r.tier);for(let r=0;r<this.level;r++){let a=s[r];if(null==a)break;a.increaseAttack(this.attack),this.logService.createLog({message:`${this.name} gave ${a.name} ${this.attack} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i})}super.superFaint(t,e)}}class NT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockatoo",this.tier=4,this.pack="Golden",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}}class LT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue Ringed Octopus",this.tier=5,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class BT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crane",this.tier=5,this.pack="Golden",this.attack=6,this.health=5,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){if(e!=this.petAhead||this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.nearestPetsAhead(1,this);if(0==s.pets.length)return;let r=s.pets[0];r.increaseAttack(5),this.logService.createLog({message:`${this.name} gave ${r.name} 5 attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random});let a=this.parent.nearestPetsAhead(1,this);if(0==a.pets.length)return;let o=a.pets[0];o.givePetEquipment(new Wr),this.logService.createLog({message:`${this.name} gave ${o.name} Melon.`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random}),this.abilityUses++,this.superFriendHurt(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class $T extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emu",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;let i=this.parent.nearestPetsAhead(1,this);if(0==i.pets.length)return;let s=i.pets[0],r=4*this.level;s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random});let a=this.parent.nearestPetsAhead(1,this);if(0===a.pets.length)return;let o=a.pets[0];this.parent.pushPet(o,4),this.logService.createLog({message:`${this.name} pushed ${o.name} to the front.`,type:"ability",player:this.parent,tiger:e,randomEvent:a.random})}}class VT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wildebeast",this.tier=6,this.pack="Golden",this.attack=8,this.health=6,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.parent.trumpets<2||this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.getThis(this),s=i.pet;null!=s&&(s.givePetEquipment(new Ua),this.logService.createLog({message:`${this.name} gave itself a Coconut.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.parent.spendTrumpets(2,this),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class FT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Highland Cow",this.tier=6,this.pack="Golden",this.attack=4,this.health=12,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.floor(this.health/3*this.level);this.parent.gainTrumpets(i,this)}}class HT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Catfish",this.tier=6,this.pack="Golden",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}}class qT extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Pteranodon",this.tier=6,this.pack="Golden",this.attack=3,this.health=5,this.initPet(l,r,a,o,h)}friendFaints(t,e,i){if(!this.alive||this.abilityUses>=this.maxAbilityUses||e.name==this.name)return;let s=this.petService.createPet({attack:1,health:1,equipment:null,exp:e.exp,name:e.name,mana:0},this.parent),r=this.parent.summonPetBehind(this,s);r.success&&(this.logService.createLog({message:`${this.name} summoned a 1/1 ${e.name} behind it.`,type:"ability",player:this.parent,randomEvent:r.randomEvent,tiger:i}),this.abilityService.triggerFriendSummonedEvents(s)),this.abilityUses++,this.superFriendFaints(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class UT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Warthog",this.tier=6,this.pack="Golden",this.attack=9,this.health=6,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.level,r=Math.floor(this.attack/3);for(let a=0;a<r;a++){let o=this.parent.getRandomPet([],!0,!1,!0,this);if(null==o.pet)break;o.pet.increaseAttack(s),o.pet.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${o.pet.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.random})}}}class GT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cobra",this.tier=6,this.pack="Golden",this.attack=12,this.health=6,this.initPet(o,s,r,a,l)}friendAheadAttacks(t,e,i){let s=this.parent.opponent.getRandomPet([],!1,!0,!1,this);if(null==s.pet)return;let r=Math.floor(.2*this.attack*this.level);this.snipePet(s.pet,r,s.random,i)}}class jT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Grizzly Bear",this.tier=6,this.pack="Golden",this.attack=6,this.health=8,this.initPet(o,s,r,a,l)}friendAttacks(t,e,i){i||this.abilityCounter++,this.abilityCounter%5==0&&(this.abilityService.setCounterEvent({callback:()=>{let s=this.parent.opponent.getRandomPets(2,[],!0,!1,this),r=s.pets,a=6*this.level;for(let o of r)this.snipePet(o,a,s.random,i)},priority:this.attack,pet:this}),this.superFriendAttacks(t,e,i))}}class WT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="German Shepherd",this.tier=6,this.pack="Golden",this.attack=10,this.health=6,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let s=Math.floor(this.attack*this.level*.25),r=this.parent.getSpecificPet(this,e),a=r.pet;null!=a&&(a.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}))}}class zT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bird of Paradise",this.tier=6,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class KT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Oyster",this.tier=6,this.pack="Golden",this.attack=2,this.health=10,this.initPet(o,s,r,a,l)}}class QT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rockhopper Penguin",this.tier=6,this.pack="Golden",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(this.abilityUses>=this.maxAbilityUses||null!=this.parent.pet0)return;let i=this.parent.getThis(this),s=i.pet;null!=s&&(this.logService.createLog({message:`${this.name} jumps to the front!`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.parent.pushPetToFront(s,!0),this.parent.gainTrumpets(12*this.level,this),this.abilityUses++,this.superEmptyFrontSpace(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class YT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Marmoset",this.tier=1,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class JT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jerboa",this.tier=4,this.pack="Custom",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}}class ZT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frilled Dragon",this.tier=1,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=0;for(let s of this.parent.petArray)s!==this&&null!=s.faint&&i++;i*=this.level,this.increaseAttack(i),this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} attack and ${i} health.`,type:"ability",player:this.parent,tiger:e})}}class XT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wombat",this.tier=2,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Bt(t,this.parent),s=[],r=0;for(let o of i.petArray)null!=o.faint&&(o.tier>r?(s=[o],r=o.tier):o.tier==r&&s.push(o));if(0==s.length)return;let a=s[Math.floor(Math.random()*s.length)];this.faint=a.faint.bind(this),this.logService.createLog({message:`${this.name} has copied ${a.name}'s faint ability as level ${this.level}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>1}),this.superStartOfBattle(t,e)}}class e1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frigatebird",this.tier=2,this.pack="Custom",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}friendGainedAilment(t,e){if(this.abilityUses>=this.level||e==this)return;let i=e.equipment;e.givePetEquipment(new I_),this.abilityUses++,this.logService.createLog({message:`${this.name} removed ${i.name} from ${e.name} and gave ${e.name} Rice.`,type:"ability",player:this.parent})}resetPet(){super.resetPet()}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class t1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Aardvark",this.tier=3,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}enemySummoned(t,e,i){let s=2*this.level;this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i})}}class i1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bear",this.tier=3,this.pack="Golden",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){const s=this.level,r=this.savedPosition,a=[];for(const o of this.parent.petArray)if(o.alive){const l=Math.abs(o.position-r);l>0&&l<=s&&a.push(o)}for(const o of this.parent.opponent.petArray)o.alive&&r+o.position+1<=s&&a.push(o);for(let o of a)o.givePetEquipment(new M_(this.logService,this.abilityService)),this.logService.createLog({message:`${this.name} gave ${o.name} Honey.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}class n1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emperor Tamarin",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class s1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Porcupine",this.tier=3,this.pack="Custom",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}hurt(t,e,i){null==e||!e.alive||this.snipePet(e,3*this.level)}}class r1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wasp",this.tier=3,this.pack="Custom",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class a1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragonfly",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}}class o1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lynx",this.tier=4,this.pack="Custom",this.attack=5,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;let s=0;for(let a of this.parent.petArray)s+=a.level;let r=i.getRandomPets(this.level,null,null,!0,this);for(let a of r.pets)null!=a&&this.snipePet(a,s,r.random,e);super.superStartOfBattle(t,e)}}class l1 extends _{constructor(t,e,i,s,r,a,o,l,h,d){super(t,e,r),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Seagull",this.tier=4,this.pack="Custom",this.attack=4,this.health=3,this.initPet(h,a,o,l,d)}friendSummoned(t,e,i){this.abilityUses>=this.maxAbilityUses||null!=this.equipment&&(e.givePetEquipment(fc.getInjector().get(Li).getInstanceOfAllEquipment().get(this.equipment.name)),this.logService.createLog({message:`${this.name} gave ${e.name} a ${this.equipment.name}`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendSummoned(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class qp extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Alpaca",this.tier=6,this.pack="Star",this.attack=3,this.health=7,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){if(e instanceof qp||this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&(r.increaseExp(3),this.logService.createLog({message:`${this.name} gave ${r.name} 3 exp.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.abilityUses++,this.superFriendSummoned(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class c1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hyena",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){switch(this.level){case 1:this.level1Ability(t,e);break;case 2:this.level2Ability(t,e);break;case 3:this.level3Ability(t,e)}}level1Ability(t,e){let i=this.parent.getAll(!0,this);for(let s of i.pets){let r=s.health;s.health=s.attack,s.attack=r}this.logService.createLog({message:`${this.name} swapped all pets attack and health.`,type:"ability",player:this.parent,tiger:e})}level2Ability(t,e){this.shufflePets(t.player),this.shufflePets(t.opponet),this.logService.createLog({message:`${this.name} shuffled positions of all pets.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0})}level3Ability(t,e){this.level1Ability(t,e),this.level2Ability(t,e)}shufflePets(t){let e=t.petArray;T3(e);for(let i=0;i<e.length;i++)t[`pet${i}`]=e[i]}}class u1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moose",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.initPet(o,s,r,a,l)}}class h1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lioness",this.tier=6,this.pack="Custom",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}}class d1 extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Tapir",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let s=this.parent.petArray.filter(h=>"Tapir"==h.name),r=this.parent.getRandomPet(s,!0,!1,!1,this);if(null==r.pet)return void super.superAfterFaint(t,e,i);let a=(0,vt.clone)(r.pet);a.exp=this.minExpForLevel;let o=this.petService.createDefaultVersionOfPet(a);this.parent.summonPet(o,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned a ${o.name} level ${o.level}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.abilityService.triggerFriendSummonedEvents(o)),super.superAfterFaint(t,e,i)}}class f1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Walrus",this.tier=6,this.pack="Custom",this.attack=7,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getRandomPets(this.level,null,!0,!1,this);for(let r of s.pets)null!=r&&(r.givePetEquipment(new yC),this.logService.createLog({message:`${this.name} gave ${r.name} a Peanut Butter.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}))}}class p1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="White Tiger",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsBehind(this.level,this);for(let s of i.pets)this.logService.createLog({message:`${this.name} gave ${s.name} +3 experience.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),s.increaseExp(3);this.superStartOfBattle(t,e)}}class g1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amargasaurus",this.tier=5,this.pack="Star",this.attack=5,this.health=7,this.healthRestoredThisTurn=0,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){let s;if(e.transformed?(s=e.transformedInto,s.originalHealth=e.originalHealth):s=e,!s||!s.alive||s===this)return;const r=15*this.level,a=s.originalHealth-s.health;if(a<=0||this.healthRestoredThisTurn>=r)return;const l=Math.min(a,r-this.healthRestoredThisTurn);if(l>0){let d=this.parent.getSpecificPet(this,s).pet;if(null==d)return;this.logService.createLog({message:`${this.name} restored ${l} health to ${d.name}.`,type:"ability",player:this.parent,tiger:i}),d.increaseHealth(l),this.healthRestoredThisTurn+=l}this.superFriendHurt(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.healthRestoredThisTurn=0}}class m1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Opossum",this.tier=1,this.pack="Golden",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class v1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kiwi",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=this.parent.petArray.filter(l=>{var h;return"Strawberry"!=(null===(h=l.equipment)||void 0===h?void 0:h.name)||l==this}),r=this.parent.getLastPet(s,this),a=r.pet;if(null==a)return;let o=this.level;a.increaseAttack(o),this.logService.createLog({message:`${this.name} gave ${a.name} +${o} attack`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),this.superHurt(t,e,i)}}class y1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Firefly",this.tier=1,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getPetsWithinXSpaces(this,this.level),r=s.pets;if(0!=r.length){for(const a of r)this.snipePet(a,1,s.random,e,i);this.superFaint(t,e)}}}class _1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bass",this.tier=2,this.pack="Star",this.attack=3,this.health=3,this.sellPets=["Beaver","Duck","Pig","Pillbug","Kiwi","Mouse","Frog","Bass","Tooth Billed Pigeon"],this.initPet(o,s,r,a,l)}faint(t,e,i){const s=this.parent.petArray.filter(l=>l==this&&!this.sellPets.includes(l.name)&&l.level<2);let r=this.parent.getRandomPet(s,!0,null,null,this);const a=r.pet;if(null==a)return;const o=this.level;this.logService.createLog({message:`${this.name} gave ${a.name} +${o} experience.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.random}),a.increaseExp(o),this.superFaint(t,e)}}class b1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pigeon",this.tier=1,this.pack="Turtle",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}}class S1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hare",this.tier=3,this.pack="Puppy",this.health=4,this.attack=4,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.opponent.petArray,s=[];for(let h of i)h.equipment&&fc.getInjector().get(Li).isUsefulPerk(h.equipment.name)&&s.push(h);if(0==s.length)return;let r=s[Math.floor(Math.random()*s.length)],a=r.equipment,l=this.parent.getThis(this).pet;null!=l&&(this.givePetEquipment(a),this.logService.createLog({message:`${this.name} copied ${a.name} to ${l.name} from ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>0}),this.abilityUses++,this.superBeforeAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class w1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baku",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}}class E1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="???",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}endTurn(t){let e=this.parent.nearestPetsAhead(1,this);if(0===e.pets.length)return;const i=e.pets[0],s=this.level;this.logService.createLog({message:`${this.name} gave ${i.name} +${s} attack and Spooked.`,type:"ability",player:this.parent,randomEvent:e.random}),i.increaseAttack(s),i.givePetEquipment(new Fp)}}class k1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Axehandle Hound",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.opponent.petArray,s=new Set,r=!1;for(let l of i){if(s.has(l.name)){r=!0;break}s.add(l.name)}if(0==r)return;let o=this.parent.opponent.getAll(!1,this).pets;if(0!=o.length){for(let l of o)this.snipePet(l,2*this.level,!0,e);this.abilityUses++,this.superStartOfBattle(t,e)}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class C1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Barghest",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=this.parent.opponent.getLastPets(this.level,"perk-less",this).pets;if(0!=s.length){for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} Spooked`,type:"ability",player:this.parent,tiger:e}),r.givePetEquipment(new Fp);this.superStartOfBattle(t,e)}}}class A1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tsuchinoko",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=this.parent.getThis(this).pet;if(null==s)return;this.parent.pushPetToFront(s,!0),this.logService.createLog({message:`${this.name} pushed ${s.name} to the front and gained ${this.level} experience.`,type:"ability",player:this.parent,tiger:e});let a=this.parent.getThis(this).pet;null!=a&&(a.increaseExp(this.level),this.logService.createLog({message:`${this.name} gave ${a.name} +${this.level} experience.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class P1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Murmel",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}friendGainedExperience(t,e,i){if(e.parent!=this.parent)return;let s={attack:this.level,health:0},a=this.parent.getThis(this).pet;null!=a&&(this.logService.createLog({message:`${this.name} gave ${a.name} ${s.attack} attack.`,type:"ability",player:this.parent,tiger:i}),a.increaseAttack(s.attack),this.superFriendGainedExperience(t,e,i))}}class D1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Alchemedes",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(1,this);if(0===i.pets.length)return void this.superStartOfBattle(t,e);let s=i.pets[0];this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),s.increaseMana(this.level),this.superStartOfBattle(t,e)}}class T1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pengobble",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}gainedMana(t,e){if(this.abilityUses>=this.maxAbilityUses)return;const i=2*this.level;let s=this.parent.getThis(this),r=s.pet;null!=r&&(this.logService.createLog({message:`${this.name} gave ${r.name} an extra ${i} bonus mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.mana+=i,this.abilityUses++,this.superGainedMana(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class x1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Warf",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}gainedMana(t,e){let i=this.parent.opponent.getRandomPet([],!1,!0,!1,this);null!=i.pet&&(this.snipePet(i.pet,this.level,i.random,e),this.superGainedMana(t,e))}}class M1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bunyip",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s;s=this.parent==t.player?t.playerRollAmount:t.opponentRollAmount,s=Math.min(2*this.level,s);let a=this.parent.getThis(this).pet;null!=a&&(a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} health.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class ib extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="CrackedEgg",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}}class R1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sneaky Egg",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i={attack:4*this.level,health:2*this.level};this.health=0;let s=new ib(this.logService,this.abilityService,this.parent,i.health,i.attack,0),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} spawned a ${i.attack}/${i.health} Cracked Egg`,type:"ability",player:this.parent,tiger:e,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),this.superStartOfBattle(t,e)}}class I1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cuddle Toad",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class O1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ghost Kitten",this.tier=2,this.pack="Unicorn",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}}class N1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frost Wolf",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getFurthestUpPet(this),r=s.pet;const a=new GA;a.multiplier+=this.level-1;let o=".";2===this.level?o=" twice for double effect.":3===this.level&&(o=" thrice for triple effect."),this.logService.createLog({message:`${this.name} made ${r.name} Cold ${o}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),r.givePetEquipment(a),this.superFaint(t,e)}}class L1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mothman",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}onAilmentGained(t,e){if(this.abilityUses>=this.maxAbilityUses)return;const i=this.level;this.logService.createLog({message:`${this.name} gained +${i} attack and +${i} health because ${t.name} gained an ailment.`,type:"ability",player:this.parent,tiger:e}),this.increaseAttack(i),this.increaseHealth(i),this.abilityUses++}friendGainedAilment(t,e){this.onAilmentGained(e,!1)}enemyGainedAilment(t,e,i){this.onAilmentGained(e,i),this.superEnemyGainedAilment(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=5}}class B1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Drop Bear",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0);let i=3*this.level,s=this.parent.opponent.getLastPet();null!=s.pet&&this.snipePet(s.pet,i,s.random,e)}}class $1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jackalope",this.tier=2,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}friendJumped(t,e,i){let s=this.parent.opponent.getRandomPet([],!1,!0,!1,this);null!=s.pet&&(this.snipePet(s.pet,2*this.level,s.random,i),this.superFriendJumped(t,e,i))}}class V1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lucky Cat",this.tier=3,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){if(e!=this)return;let s=2;3==this.level&&(s=4),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.increaseAttack(s),this.increaseHealth(s),this.superAnyoneLevelUp(t,e,i)}}class F1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ogopogo",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){const i=this.parent.getFurthestUpPets(this.level,null,this,null,[this]),s=i.pets;if(0!==s.length){for(const r of s)this.logService.createLog({message:`${this.name} gave ${r.name} +1 experience.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),r.increaseExp(1);this.superStartOfBattle(t,e)}else this.superStartOfBattle(t,e)}}class H1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Thunderbird",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(2,this);if(i.pets.length<2)return;let r=i.pets[1];if(null==r)return;let a=3*this.level;this.logService.createLog({message:`${this.name} gave ${r.name} ${a} mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),r.increaseMana(a),this.superStartOfBattle(t,e)}}class q1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gargoyle",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.mana*this.level;s+=2*this.level;let r=this.parent.nearestPetsBehind(1,this);if(0===r.pets.length)return void this.superFaint(t,e);let a=r.pets[0];this.logService.createLog({message:`${this.name} spent ${this.mana} mana and gave ${s} health to ${a.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.random}),a.increaseHealth(s),this.mana=0,this.superFaint(t,e)}}class U1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bigfoot",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){}}class G1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Skeleton Dog",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getRandomPets(this.level,[this],!0,!1,this);for(let r of s.pets)null!=r&&(this.logService.createLog({message:`${this.name} gave 1 attack and 1 health to ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),r.increaseAttack(1),r.increaseHealth(1));this.superFaint(t,e)}}class j1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mandrake",this.tier=3,this.pack="Unicorn",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=this.parent.opponent.getTierXOrLowerPet(2*this.level,"Dazed",this).pet;null!=s&&(this.logService.createLog({message:`${this.name} made ${s.name} Dazed.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),s.givePetEquipment(new v_),this.superFaint(t,e))}}class W1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fur-Bearing Trout",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=[],r=this;for(;s.length<this.level;){let a=r.petBehind();if(null==a)break;a.equipment instanceof B_||s.push(a),r=a}if(0!==s.length){for(let a of s)this.logService.createLog({message:`${this.name} gave ${a.name} a Rambutan.`,type:"ability",player:this.parent,tiger:e}),a.givePetEquipment(new B_(this.logService));this.superFaint(t,e)}}}class z1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mana Hound",this.tier=3,this.pack="Unicorn",this.attack=5,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s;s=this.parent==t.player?t.playerRollAmount:t.opponentRollAmount,s=Math.min(s,5);let r=this.parent.nearestPetsAhead(1,this);if(0===r.pets.length)return;let a=r.pets[0],o=s*this.level;this.logService.createLog({message:`${this.name} gave ${a.name} ${o} mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}),a.increaseMana(o),this.superStartOfBattle(t,e)}}class K1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Calygreyhound",this.tier=3,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){if(0==this.mana)return;let s=this.parent.opponent.getHighestHealthPets(2,void 0,this),r=this.level*this.mana;for(let a of s.pets)a.health=Math.max(1,a.health-r),this.logService.createLog({message:`${this.name} reduced ${a.name}'s health by ${r} (${a.health}).`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random});this.mana=0,this.superFaint(t,e)}}class Q1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Brain Cramp",this.tier=3,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;let i=2*this.level;this.logService.createLog({message:`${this.name} pushed itself to the front, gained ${i} attack and gained Melon.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0),this.increaseAttack(i),this.givePetEquipment(new Wr)}}class Y1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Minotaur",this.tier=4,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}friendAheadAttacks(t,e,i){let s=this.level*e.level,r=this.parent.getThis(this),a=r.pet;null!=a&&(this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),a.increaseAttack(s),a.increaseHealth(s),this.superFriendAheadAttacks(t,e,i))}}class J1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wyvern",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}}class Z1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ouroboros",this.tier=3,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class X1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Griffin",this.tier=3,this.pack="Unicorn",this.attack=5,this.health=4,this.initPet(o,s,r,a,l)}}class ex extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kraken",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=7,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getAll(!0,this,!0),s=i.pets;if(0!=s.length){for(let r of s){let a=1==this.level?.15:2==this.level?.3:.45,o=Math.max(1,Math.floor(r.health*(1-a)));r.health=o,this.logService.createLog({message:`${this.name} reduced ${r.name} health by ${(100*a).toFixed(0)}% (${o})`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random})}this.superStartOfBattle(t,e)}}}class tx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Visitor",this.tier=4,this.pack="Unicorn",this.attack=7,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){let r=this.parent.getPetsWithinXSpaces(this,this.level).pets;if(0!=r.length){for(let a of r)a.givePetEquipment(new Lp),this.logService.createLog({message:`${this.name} made ${a.name} Exposed.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}}class ix extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vampire Bat",this.tier=5,this.pack="Unicorn",this.attack=2,this.health=5,this.maxAbilityUses=2,this.abilityUses=0,this.initPet(o,s,r,a,l)}enemyGainedAilment(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=4*this.level,a=this.parent.getSpecificPet(this,e).pet;if(null==a)return;let o=a.health,l=this.snipePet(a,s,!1,i),h=Math.min(l,o),d=this.parent.getSpecificPet(this,e),m=d.pet;null!=m&&(this.logService.createLog({message:`${this.name} gave ${m.name} ${h} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:d.random}),m.increaseHealth(h),this.abilityUses++,this.superEnemyGainedAilment(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class nx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tiger Bug",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0);let i=this.parent.opponent.getFurthestUpPet(this),s=i.pet,r=[],a=i.random;s&&r.push(s);let o=null;o=a?this.parent.opponent.getFurthestUpPet(this).pet:null==s?void 0:s.petBehind(),o&&r.push(o);let l=3*this.level;for(let h of r)null!=h&&this.snipePet(h,l,a,e)}}class sx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tatzelwurm",this.tier=4,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}friendAheadFaints(t,e,i){let s=2*this.level;3==e.level&&(s*=2);let r=this.parent.opponent.getFurthestUpPet(this);null!=r.pet&&(this.snipePet(r.pet,s,r.random,i),this.superFriendAheadFaints(t,e,i))}}class rx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cyclops",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent||e==this)return;let s=2*this.level,r=this.parent.getSpecificPet(this,e),a=r.pet;if(null==a||(this.logService.createLog({message:`${this.name} gave ${a.name} ${s} mana.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),a.increaseMana(s),this.abilityUses>=this.maxAbilityUses))return;let o=this.parent.getSpecificPet(this,e);this.logService.createLog({message:`${this.name} gave ${o.pet.name} 1 exp.`,type:"ability",player:this.parent,tiger:i,randomEvent:o.random}),e.increaseExp(1),this.abilityUses++,this.superAnyoneLevelUp(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class nb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Goat",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class sb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Lion",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class rb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Snake",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class ax extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chimera",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){if(this.mana<=0)return void super.superAfterFaint(t,e,i);const s=Math.floor(this.mana/2),o=3+1*s,l=3+2*s;this.logService.createLog({message:`${this.name} spent ${this.mana} mana.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});let h=new sb(this.logService,this.abilityService,this.parent,l,o),d=this.parent.summonPet(h,this.savedPosition,!1,this);if(d.success&&(this.logService.createLog({message:`${this.name} spawned a ${h.name} ${o}/${l}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:d.randomEvent}),this.abilityService.triggerFriendSummonedEvents(h)),1==this.level)return this.mana=0,void super.superAfterFaint(t,e,i);let m=new nb(this.logService,this.abilityService,this.parent,l,o),y=this.parent.summonPet(m,this.savedPosition,!1,this);if(y.success&&(this.logService.createLog({message:`${this.name} spawned a ${m.name} ${o}/${l}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:y.randomEvent}),this.abilityService.triggerFriendSummonedEvents(m)),2==this.level)return this.mana=0,void super.superAfterFaint(t,e,i);let S=new rb(this.logService,this.abilityService,this.parent,l,o),k=this.parent.summonPet(S,this.savedPosition,!1,this);k.success&&(this.logService.createLog({message:`${this.name} spawned a ${S.name} ${o}/${l}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:k.randomEvent}),this.abilityService.triggerFriendSummonedEvents(S)),this.mana=0,super.superAfterFaint(t,e,i)}}class ox extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Roc",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.getPetsAhead(5);if(0==i.length)return;let s=this.parent.petArray.filter(r=>r==this||!i.includes(r));for(let r=0;r<3*this.level;r++){let a=this.parent.getRandomPet(s,!0,!1,!1,this);if(null==a.pet)break;this.logService.createLog({message:`${this.name} gave ${a.pet.name} 2 mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:a.random}),a.pet.increaseMana(2)}this.superStartOfBattle(t,e)}}class lx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Worm of Sand",this.tier=4,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}}class cx extends _{constructor(t,e,i,s,r,a,o,l,h,d,m,y){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Abomination",this.tier=4,this.pack="Unicorn",this.attack=6,this.health=5,this.initPet(l,r,a,o,h),this.abominationSwallowedPet1=d,this.abominationSwallowedPet2=m,this.abominationSwallowedPet3=y}endTurn(t){let e=[],i=!1,s=!1,r=!1;const a=this.level;for(let o=0;o<a;o++)null==this.abominationSwallowedPet1||i?null==this.abominationSwallowedPet2||s?null!=this.abominationSwallowedPet3&&!r&&(e.push(this.abominationSwallowedPet3),r=!0):(e.push(this.abominationSwallowedPet2),s=!0):(e.push(this.abominationSwallowedPet1),i=!0);this.exp=0;for(let o of e){let l=this.petService.createPet({attack:null,health:null,mana:null,equipment:null,name:o,exp:0},this.parent);if(null==l)return;l.originalStartOfBattle&&(this.startOfBattle=l.originalStartOfBattle),l.originalHurt&&(this.hurt=l.originalHurt),l.originalFaint&&(this.faint=l.originalFaint),l.originalFriendSummoned&&(this.friendSummoned=l.originalFriendSummoned),l.originalFriendAheadAttacks&&(this.friendAheadAttacks=l.originalFriendAheadAttacks),l.originalFriendAheadFaints&&(this.friendAheadFaints=l.originalFriendAheadFaints),l.originalFriendFaints&&(this.friendFaints=l.originalFriendFaints),l.originalEnemyAttack&&(this.enemyAttack=l.originalEnemyAttack),l.originalAfterAttack&&(this.afterAttack=l.originalAfterAttack),l.originalBeforeAttack&&(this.beforeAttack=l.originalBeforeAttack),l.originalBeforeStartOfBattle&&(this.beforeStartOfBattle=l.originalBeforeStartOfBattle),l.originalKnockOut&&(this.knockOut=l.originalKnockOut),l.originalSummoned&&(this.summoned=l.originalSummoned),l.originalFriendlyToyBroke&&(this.friendlyToyBroke=l.originalFriendlyToyBroke),l.originalFriendGainedAilment&&(this.friendGainedAilment=l.originalFriendGainedAilment),l.originalFriendHurt&&(this.friendHurt=l.originalFriendHurt),l.originalFriendTransformed&&(this.friendTransformed=l.originalFriendTransformed),l.originalEatsFood&&(this.eatsFood=l.originalEatsFood),l.originalFriendAteFood&&(this.friendAteFood=l.originalFriendAteFood),l.originalFriendLostPerk&&(this.friendLostPerk=l.originalFriendLostPerk),l.originalGainedPerk&&(this.gainedPerk=l.originalGainedPerk),l.originalFriendGainedPerk&&(this.friendGainedPerk=l.originalFriendGainedPerk),l.originalAnyoneLevelUp&&(this.anyoneLevelUp=l.originalAnyoneLevelUp),l.originalEnemySummoned&&(this.enemySummoned=l.originalEnemySummoned),l.originalEnemyPushed&&(this.enemyPushed=l.originalEnemyPushed),l.originalGainedMana&&(this.gainedMana=l.originalGainedMana),l.originalFriendJumped&&(this.friendJumped=l.originalFriendJumped),l.originalEnemyGainedAilment&&(this.enemyGainedAilment=l.originalEnemyGainedAilment),l.originalFriendGainsHealth&&(this.friendGainsHealth=l.originalFriendGainsHealth),l.originalEmptyFrontSpace&&(this.emptyFrontSpace=l.originalEmptyFrontSpace),l.originalEnemyHurt&&(this.enemyHurt=l.originalEnemyHurt),l.originalAfterFaint&&(this.afterFaint=l.originalAfterFaint),l.originalTransform&&(this.transform=l.originalTransform),l.originalAdjacentAttacked&&(this.adjacentAttacked=l.originalAdjacentAttacked),l.originalFriendAttacks&&(this.friendAttacks=l.originalFriendAttacks),l.originalBeforeFriendAttacks&&(this.beforeFriendAttacks=l.originalBeforeFriendAttacks),l.originalEnemyJumped&&(this.enemyJumped=l.originalEnemyJumped),l.originalFriendGainedExperience&&(this.friendGainedExperience=l.originalFriendGainedExperience),this.initAbilities(),this.logService.createLog({message:`${this.name} gained ${o}'s Ability.`,type:"ability",player:this.parent})}}}class ux extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Red Dragon",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=8,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.opponent.getLastPets(this.level,"Crisp",this),s=i.pets;if(0!=s.length){for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} Crisp.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),r.givePetEquipment(new dc);this.superStartOfBattle(t,e)}}}class hx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Unicorn",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}friendGainedAilment(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=2*this.level;this.logService.createLog({message:`${this.name} removed ailment from ${e.name}.`,type:"ability",player:this.parent}),e.removePerk();let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&(this.logService.createLog({message:`${this.name} gave ${r.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,randomEvent:s.random}),r.increaseAttack(i),r.increaseHealth(i),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class dx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Loveland Frogman",this.tier=5,this.pack="Unicorn",this.attack=1,this.health=5,this.initPet(o,s,r,a,l)}beforeFriendAttacks(t,e,i){let s={attack:1*this.level,health:2*this.level},r=this.parent.getSpecificPet(this,e),a=r.pet;null!=a&&(this.logService.createLog({message:`${this.name} gave ${a.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,randomEvent:r.random}),a.increaseAttack(s.attack),a.increaseHealth(s.health),this.superBeforeFriendAttacks(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class fx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amalgamation",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=5,this.maxAbilityUses=2,this.abilityUses=0,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getThis(e),r=s.pet;if(null==r)return;let a=3*this.level,o=4*this.level;this.logService.createLog({message:`${this.name} gave ${r.name} +${a} attack, +${o} mana, and Spooked.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),r.increaseAttack(a),r.increaseMana(o),r.givePetEquipment(new Fp),this.abilityUses++,this.superFriendSummoned(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class px extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jersey Devil",this.tier=5,this.pack="Unicorn",this.attack=5,this.health=4,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let r=this.parent===t.player?t.playerLevel3Sold:t.opponentLevel3Sold;r=Math.min(r,5);let a=this.level*r,o=this.parent.getThis(e),l=o.pet;null!=l&&(this.logService.createLog({message:`${this.name} gave ${l.name} ${a} attack and ${a} health`,type:"ability",player:this.parent,tiger:i,randomEvent:o.random}),l.increaseAttack(a),l.increaseHealth(a),this.superFriendSummoned(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class gx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pixiu",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){this.mana<4||(this.logService.createLog({message:`${this.name} spent 4 mana and gained ${3*this.level} gold for next turn.`,type:"ability",player:this.parent,tiger:e}),this.mana-=4,this.superFaint(t,e))}}class mx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kitsune",this.tier=5,this.pack="Unicorn",this.attack=2,this.health=7,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(null==this.petAhead)return;let s=this.parent.getSpecificPet(this,e);if(null==s.pet)return;let r=s.pet,a=r.mana;r.mana=0,this.logService.createLog({message:`${this.name} took ${a} mana from ${r.name}.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random});let o=this.parent.nearestPetsAhead(1,this);if(null==o.pets.length)return;let l=o.pets[0];this.logService.createLog({message:`${this.name} gave ${r.name} +${a+2*this.level} mana.`,type:"ability",player:this.parent,tiger:i,randomEvent:o.random}),l.increaseMana(a+2*this.level),this.superFriendFaints(t,e,i)}}class ab extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nessie?",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class vx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nessie",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let a=3*this.level,o=3*this.level,l="";if(!this.parent.summonedBoatThisBattle){const y=(this.parent===t.player?t.playerRollAmount:t.opponentRollAmount)*this.level;a+=y,o+=y,this.parent.summonedBoatThisBattle=!0,l=` It's the first Boat, so it gains +${y}/+${y}!`}a=Math.min(50,a),o=Math.min(50,o);let h=new ab(this.logService,this.abilityService,this.parent,o,a,0),d=this.parent.summonPet(h,this.savedPosition,!1,this);d.success&&(this.logService.createLog({message:`${this.name} spawned a Nessie? ${a}/${o}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:d.randomEvent}),this.abilityService.triggerFriendSummonedEvents(h)),super.superAfterFaint(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class yx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bad Dog",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class _x extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Werewolf",this.tier=5,this.pack="Unicorn",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(t.day){const i=6*this.level;let r=this.parent.getThis(this).pet;if(null==r)return;r.increaseMana(i),this.logService.createLog({message:`${this.name} gave ${r.name} ${i} mana.`,type:"ability",player:this.parent,tiger:e})}else{let s=this.parent.getThis(this).pet;if(null==s)return;let r=.5*this.level;const a=Math.floor(this.attack*r),o=Math.floor(this.health*r);let l=Math.min(50,this.attack+a),h=Math.min(50,this.health+o);this.logService.createLog({message:`${this.name} increased ${s.name}'s stats by ${100*r}% (${l}/${h}).`,type:"ability",player:this.parent,tiger:e}),s.increaseAttack(this.attack*r),s.increaseHealth(this.health*r)}}}class bx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manticore",this.tier=6,this.pack="Unicorn",this.attack=7,this.health=4,this.initPet(o,s,r,a,l)}}class ob extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Young Phoenix",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=6,this.attack=6,this.initPet(o,s,r,a,l)}}class Sx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Phoenix",this.tier=6,this.pack="Unicorn",this.attack=8,this.health=8,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=3*this.level,a=[...this.parent.petArray,...this.parent.opponent.petArray].filter(h=>h.equipment instanceof dc),o=this.parent.getRandomPets(s,a,!0,!0,this,!0),l=o.pets;if(l.length>0)for(let h of l)this.logService.createLog({message:`${this.name} gave ${h.name} Crisp.`,type:"ability",randomEvent:o.random,tiger:e,player:this.parent}),h.givePetEquipment(new dc);this.afterFaint=(h,d,m)=>{let y=4*this.level,S=new ob(this.logService,this.abilityService,this.parent,y,y,0),k=this.parent.summonPet(S,this.savedPosition,!1,this);k.success&&(this.logService.createLog({message:`${this.name} spawned a Young Phoenix (${y}/${y}).`,type:"ability",player:this.parent,tiger:d,pteranodon:m,randomEvent:k.randomEvent}),this.abilityService.triggerFriendSummonedEvents(S)),this.superAfterFaint(h,d,m)},super.superFaint(t,e)}}class wx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Quetzalcoatl",this.tier=6,this.pack="Unicorn",this.attack=2,this.health=8,this.initPet(o,s,r,a,l)}}class Ex extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Team Spirit",this.tier=6,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent||e==this)return;let s=this.parent.getAll(!1,this,!0),r=s.pets,a={attack:this.level,health:this.level};for(let o of r)this.logService.createLog({message:`${this.name} gave ${o.name} ${a.attack} attack and ${a.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),o.increaseAttack(a.attack),o.increaseHealth(a.health)}}class kx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sleipnir",this.tier=6,this.pack="Unicorn",this.attack=8,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.floor(this.attack/2),s=this.parent.getFurthestUpPets(this.level,null,this,null,[this]),r=s.pets;if(0!=r.length){for(let a of r)null!=a&&(this.logService.createLog({message:`${this.name} gave ${a.name} ${i} mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),a.increaseMana(i));this.superStartOfBattle(t,e)}}}class Cx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Serpent",this.tier=6,this.pack="Unicorn",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}faint(t,e,i){if(0==this.mana)return;let s=this.mana;this.logService.createLog({message:`${this.name} spent ${this.mana} mana.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.mana=0;let a=this.parent.opponent.getHighestHealthPet(void 0,this);null!=a.pet&&this.snipePet(a.pet,s,a.random,e,i);let o=this.parent.opponent.getRandomPets(this.level,[a.pet],null,!0,this);for(let l of o.pets)null!=l&&this.snipePet(l,s,o.random,e,i);this.superFaint(t,e)}}class Ax extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Yeti",this.tier=6,this.pack="Unicorn",this.attack=5,this.health=9,this.initPet(o,s,r,a,l)}}class lb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fire Pup",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=8,this.attack=8,this.initPet(o,s,r,a,l)}}class Px extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cerberus",this.tier=6,this.pack="Unicorn",this.attack=9,this.health=9,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0||this.abilityUses>=this.maxAbilityUses)return;let s=new lb(this.logService,this.abilityService,this.parent,null,null,5),r=this.parent.summonPet(s,0,!1,this);r.success&&(this.logService.createLog({message:`${this.name} spawned Fire Pup (8/8).`,type:"ability",player:this.parent,tiger:e,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),this.abilityUses++,super.superFaint(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class cb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Head",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=5,this.attack=5,this.initPet(o,s,r,a,l)}}class Dx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hydra",this.tier=6,this.pack="Unicorn",this.attack=10,this.health=6,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=Math.floor(this.attack/10);for(let r=0;r<s;r++){let a=5*this.level,o=new cb(this.logService,this.abilityService,this.parent,a,a),l=this.parent.summonPet(o,this.savedPosition,!1,this);l.success&&(this.logService.createLog({message:`${this.name} spawned Head (${o.attack}/${o.health}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:l.randomEvent}),this.abilityService.triggerFriendSummonedEvents(o))}super.superAfterFaint(t,e,i)}}class Tx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Behemoth",this.tier=6,this.pack="Unicorn",this.attack=12,this.health=12,this.initPet(o,s,r,a,l)}}class xx extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Iriomote Cat",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(l,r,a,o,h)}beforeStartOfBattle(t,e){let s=this.parent.getThis(this).pet;if(!s||!s.alive)return;let r=this.petService.allPets.get(this.level),o=r[Rn(0,r.length-1)],l=this.petService.createPet({name:o,attack:s.attack,health:s.health,exp:s.exp,equipment:s.equipment,mana:s.mana},this.parent);this.logService.createLog({message:`${this.name} transformed ${s.name} into a ${o}.`,type:"ability",player:this.parent,randomEvent:!0}),this.parent.transformPet(s,l)}}class Mx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ili Pika",this.tier=1,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}friendTransformed(t,e,i){let s=this.parent.getSpecificPet(this,e),r=s.pet;if(!r)return;let a=1*this.level;r.attack>r.health?(r.increaseAttack(a),this.logService.createLog({message:`${this.name} give ${a} attack to ${r.name}.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})):(r.increaseHealth(a),this.logService.createLog({message:`${this.name} give ${a} health to ${r.name}.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})),this.superFriendTransformed(t,e,i)}}class Rx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Malay Tapir",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}adjacentAttacked(t,e,i){let s=this.parent.getThis(this),r=s.pet;if(!r)return;let a=1*this.level;r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} health`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.superAdjacentAttacked(t,e,i)}}class Ix extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bombus Dahlbomii",this.tier=1,this.pack="Danger",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){if(!(this.abilityUses>=this.maxAbilityUses)){if(i||this.abilityCounter++,this.abilityCounter%2!=0)return void this.superEnemyAttack(t,e,i);this.abilityService.setCounterEvent({callback:()=>{let s=this.parent.opponent.getFurthestUpPet(this),r=s.pet;r&&this.snipePet(r,1*this.level,s.random,i)},priority:this.attack,pet:this}),this.abilityUses++,this.superEnemyAttack(t,e,i)}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class ub extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ethiopian Wolf",this.tier=1,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getFurthestUpPets(this.level,void 0,this);for(const r of s.pets)(null==r?void 0:r.alive)&&(r.increaseAttack(-1),this.logService.createLog({message:`${this.name} removed 1 attack from ${r.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}));this.superFaint(t,e)}}class Ox extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fan Mussel",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class Nx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Togian Babirusa",this.tier=1,this.pack="Danger",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getRandomPet([],!1,!1,!1,this);s.pet&&(s.pet.increaseAttack(1),s.pet.increaseHealth(1),this.logService.createLog({message:`${this.name} gave ${s.pet.name} +1 attack and +1 health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random})),this.superFaint(t,e)}}class Lx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tooth Billed Pigeon",this.tier=1,this.pack="Danger",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}}class Bx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Volcano Snail",this.tier=1,this.pack="Danger",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e){let i=[...this.parent.opponent.petArray].filter(r=>null!=r.equipment),s=this.parent.opponent.getRandomPets(3,i,null,null,this);if(0!==s.pets.length){for(let r of s.pets){let a=new vC;r.givePetEquipment(a),this.logService.createLog({message:`${this.name} made ${r.name} Toasty`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random})}this.superFaint(t,e)}}}class $x extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="African Wild Dog",this.tier=1,this.pack="Danger",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){var i;let r,s=this.parent.opponent.getFurthestUpPet(this);if(null!=s.pet){if(r=s.random?s.pet:null===(i=s.pet)||void 0===i?void 0:i.petBehind(),r){let a=3*this.level;this.jumpAttackPrep(r),this.jumpAttack(r,e,a,s.random)}this.superStartOfBattle(t,e)}}}class Vx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Araripe Manakin",this.tier=2,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}friendJumped(t,e,i){this.gainHealthFromEvent(t,e,i),this.superFriendJumped(t,e,i)}friendTransformed(t,e,i){this.gainHealthFromEvent(t,e,i),this.superFriendTransformed(t,e,i)}gainHealthFromEvent(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getThis(this),r=s.pet;if(!r)return;let a=3*this.level;r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} health`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.abilityUses++}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class Fx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="European Mink",this.tier=2,this.pack="Danger",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}adjacentAttacked(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.level,r=this.parent.nearestPetsAhead(1,this);if(r.pets.length>0){let o=r.pets[0];o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random})}let a=this.parent.nearestPetsBehind(1,this);if(a.pets.length>0){let o=a.pets[0];o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random})}this.abilityUses++}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class Hx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Proboscis Monkey",this.tier=2,this.pack="Danger",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}}class qx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pygmy Hog",this.tier=2,this.pack="Danger",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){i||this.abilityCounter++,this.abilityCounter%5==0&&(this.abilityService.setCounterEvent({callback:()=>{let s=this.parent.getThis(this),r=s.pet;if(!r)return;let a=5*this.level,o=new D_(this.logService,this.abilityService,this.parent,a,a,r.mana,r.exp,new pc);this.logService.createLog({message:`${this.name} transformed ${r.name} into ${o.name} (${a}/${a}) with Garlic!`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.parent.transformPet(r,o)},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i))}}class Ux extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saola",this.tier=2,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class Gx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saker Falcon",this.tier=2,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(!(this.abilityUses>=this.maxAbilityUses)){if(this.parent.petArray.length<this.parent.opponent.petArray.length){let r=this.parent.getThis(this),a=r.pet;if(!a)return void this.superBeforeAttack(t,e);let o=2*this.level;a.increaseAttack(o),a.increaseHealth(o),this.logService.createLog({message:`${this.name} gave ${a.name} ${o} attack and ${o} health (outnumbered)`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}),this.abilityUses++}this.superBeforeAttack(t,e)}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class jx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Taita Shrew",this.tier=2,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getThis(this),s=i.pet;if(!s)return;let r=new X_(this.logService,this.abilityService,this.parent,s.health,s.attack,s.mana,s.exp,s.equipment);this.logService.createLog({message:`${this.name} transformed ${s.name} into ${r.name} (level ${this.level}).`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.parent.transformPet(s,r),this.superStartOfBattle(t,e)}}class Wx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="White-Bellied Heron",this.tier=2,this.pack="Danger",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(1,this);if(0==i.pets.length)return;let s=i.pets[0],r=new R_;r.multiplier+=this.level-1,s.givePetEquipment(r);let a=".";2===this.level?a=" twice for double effect.":3===this.level&&(a=" thrice for triple effect."),this.logService.createLog({message:`${this.name} made ${s.name} Meat Bone${a}`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.superStartOfBattle(t,e)}}class zx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Darwin's Fox",this.tier=2,this.pack="Danger",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(e&&this.alive&&!(this.abilityUses>=this.maxAbilityUses)){if(e.killedBy&&e.killedBy.alive){let s=this.parent.getSpecificPet(this,e.killedBy),r=s.pet;if(!r)return;this.jumpAttackPrep(r),this.jumpAttack(r,i,void 0,s.random)}else{let s=this.parent.opponent.getFurthestUpPet(this),r=s.pet;if(!r)return;this.jumpAttackPrep(r),this.jumpAttack(r,i,void 0,s.random)}this.abilityUses++,this.superFriendFaints(t,e,i)}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Kx extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Takhi",this.tier=2,this.pack="Danger",this.attack=2,this.health=2,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let a=this.petService.createPet({name:"African Wild Dog",attack:3*this.level,health:2*this.level,exp:0,mana:0,equipment:null},this.parent);if(a){let o=this.parent.summonPet(a,this.savedPosition,!1,this);o.success&&(this.logService.createLog({message:`${this.name} summoned a ${a.attack}/${a.health} ${a.name}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a),a.startOfBattle(t,e))}this.superAfterFaint(t,e)}}class Qx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue-Throated Macaw",this.tier=3,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}friendTransformed(t,e,i){if(e.position<this.position){let s=this.parent.getSpecificPet(this,e),r=s.pet;if(!r)return;let a=3*this.level;r.increaseAttack(a),this.logService.createLog({message:`${this.name} gave ${r.name} +${a} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})}else{let s=this.parent.getSpecificPet(this,e),r=s.pet;if(!r)return;let a=3*this.level;r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} +${a} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})}this.superFriendTransformed(t,e,i)}}class Yx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hirola",this.tier=3,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=new ub(this.logService,this.abilityService,this.parent,3,4,this.mana,this.exp),a=this.parent.summonPet(r,this.savedPosition,!1,this);a.success&&(this.logService.createLog({message:`${this.name} summoned a 4/3 ${r.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a.randomEvent}),this.abilityService.triggerFriendSummonedEvents(r))}this.superAfterFaint(t,e,i)}}class Jx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monkey-Faced Bat",this.tier=3,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){if(this.abilityUses>=this.maxAbilityUses||!e||e.position<=this.position)return;let s=this.parent.getRandomPets(2,[this],!0,!1,this);for(let r of s.pets)if(null!=r){let a=this.level;r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} attack and ${a} health`,type:"ability",player:this.parent,randomEvent:s.random,tiger:i})}this.abilityUses++,this.superFriendHurt(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class Zx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pygmy Hippo",this.tier=3,this.pack="Danger",this.attack=2,this.health=7,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){i||this.abilityCounter++,this.abilityCounter%5==0&&(this.abilityService.setCounterEvent({callback:()=>{let s=Math.floor(.33*this.health),r=this.parent.opponent.getLowestHealthPets(this.level,void 0,this);for(let a of r.pets)this.snipePet(a,s,r.random,i)},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i))}}class Xx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Takin",this.tier=3,this.pack="Danger",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){if(!this.alive)return void this.superFriendHurt(t,e,i);if(!e||e!=this.petAhead)return;let s=this.level,r=2*this.level,a=this.parent.getThis(this),o=a.pet;o.increaseAttack(s),o.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random}),this.superFriendHurt(t,e,i)}}class eM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tucuxi",this.tier=3,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getLastPet([this],this),r=s.pet;if(!r)return;this.parent.pushPetToFront(r,!1),this.logService.createLog({message:`${this.name} pushed ${r.name} to the front`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random});let a=this.parent.getLastPet([this],this),o=a.pet;if(!o)return;let l=3*this.level;o.increaseAttack(l),o.increaseHealth(l),this.logService.createLog({message:`${this.name} gave ${o.name} +${l} attack and +${l} health`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a.random}),this.superFaint(t,e)}}class tM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Roloway Monkey",this.tier=3,this.pack="Danger",this.attack=2,this.health=5,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(2,this);if(0===i.pets.length)return;const s=["Camel","Peacock","Porcupine","Lizard","Guineafowl"];for(let r of i.pets){let a=Math.floor(Math.random()*s.length),l=this.petService.createPet({name:s[a],health:r.health,attack:r.attack,mana:r.mana,exp:this.exp,equipment:r.equipment},this.parent);this.parent.transformPet(r,l),this.logService.createLog({message:`${this.name} transformed ${r.name} into a ${l.attack}/${l.health} ${l.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0})}this.superStartOfBattle(t,e)}}class iM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Spoon-Billed Sandpiper",this.tier=3,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class nM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amami Rabbit",this.tier=3,this.pack="Danger",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=1*this.level,s=this.parent.opponent.getHighestAttackPet(void 0,this);if(s.pet&&s.pet.alive)if(this.jumpAttackPrep(s.pet),this.transformed&&this.transformedInto){let r=this.parent.getThis(this.transformedInto);r.pet&&(this.transformedInto.increaseAttack(i),this.logService.createLog({message:`${this.name} gave ${this.transformedInto.name} ${i} attack`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}))}else{let r=this.parent.getThis(this);r.pet&&(r.pet.increaseAttack(i),this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${i} attack`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}))}this.jumpAttack(s.pet,e,void 0,s.random),this.superStartOfBattle(t,e)}}class oK extends ne{constructor(){super(...arguments),this.name="Silly",this.equipmentClass="ailment-other"}}class sM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tree Kangaroo",this.tier=3,this.pack="Danger",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Bt(t,this.parent).getLastPet(void 0,this),s=i.pet;s&&(s.givePetEquipment(new oK),this.logService.createLog({message:`${this.name} gave ${s.name} Silly`,type:"ability",tiger:e,player:this.parent,randomEvent:i.random})),super.superStartOfBattle(t,e)}}class rM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Angelshark",this.tier=4,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}}class aM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Bonobo",this.tier=4,this.pack="Danger",this.attack=3,this.health=3,this.initPet(l,r,a,o,h)}}class oM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Tortoise",this.tier=4,this.pack="Danger",this.attack=4,this.health=8,this.initPet(o,s,r,a,l)}}class lM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Humphead Wrasse",this.tier=4,this.pack="Danger",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=.3*this.level,s=this.parent.opponent.getHighestAttackPet(void 0,this);if(!s.pet)return;let r=s.pet,a=Math.floor(r.attack*i),o=Math.max(1,r.attack-a);r.attack=o,this.logService.createLog({message:`${this.name} reduced ${r.name}'s attack by ${100*i}% to (${r.attack})`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.superStartOfBattle(t,e)}}class cM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Golden Tamarin",this.tier=4,this.pack="Danger",this.attack=4,this.health=4,this.initPet(l,r,a,o,h)}beforeStartOfBattle(t,e){let s=this.parent.getThis(this).pet;if(!s)return;const r=["Crocodile","Red Dragon","Salmon of Knowledge","Sea Cucumber","Werewolf","Tarantula Hawk","Snow Leopard"];let a=Math.floor(Math.random()*r.length),l=this.petService.createPet({name:r[a],health:s.health,attack:s.attack,mana:s.mana,exp:s.exp,equipment:s.equipment},this.parent);this.parent.transformPet(s,l),this.logService.createLog({message:`${this.name} transformed ${s.name} into a ${l.attack}/${l.health} ${l.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),this.superBeforeStartOfBattle(t,e)}}class uM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kakapo",this.tier=4,this.pack="Danger",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}friendTransformed(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;r&&(this.logService.createLog({message:`${this.name} gave ${r.name} +3 experience.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),r.increaseExp(3),this.abilityUses++,this.superFriendTransformed(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class hM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Longcomb Sawfish",this.tier=4,this.pack="Danger",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){i||this.abilityCounter++,this.abilityCounter%5==0?(this.abilityService.setCounterEvent({callback:()=>{let s=4*this.level,r=-4*this.level,a=this.parent.getThis(this),o=a.pet;o&&(o.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} health`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random}));let h=this.parent.opponent.getAll(!1,this).pets;for(let d of h)d.increaseHealth(r),this.logService.createLog({message:`${this.name} reduced ${d.name} health by ${Math.abs(r)}`,type:"ability",player:this.parent,tiger:i})},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i)):this.superEnemyAttack(t,e,i)}}class dM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amazon River Dolphin",this.tier=4,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}adjacentAttacked(t,e,i){let s=this.parent.getSpecificPet(this,e.currentTarget),r=s.pet;if(r&&r.alive)this.snipePet(r,3*this.level,s.random,i);else{let a=this.parent.getThis(this),o=a.pet;if(!o)return;let l=3*this.level;o.increaseAttack(l),this.logService.createLog({message:`${this.name} gave ${o.name} ${l} attack`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random})}}}class fM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tasmanian Devil",this.tier=4,this.pack="Danger",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=.5*this.level,s=this.parent.opponent.getLowestAttackPet(void 0,this);if(s.pet&&s.pet.alive){let r=Math.floor(this.attack*i);this.jumpAttackPrep(s.pet),this.transformed&&this.transformedInto&&(r=Math.floor(this.transformedInto.attack*i)),this.jumpAttack(s.pet,e,r,s.random)}this.superStartOfBattle(t,e)}}class pM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Otter",this.tier=4,this.pack="Danger",this.attack=4,this.health=3,this.buffedFriends=new Map,this.initPet(o,s,r,a,l)}beforeStartOfBattle(t,e){let i=3*this.level,s=this.parent.getAll(!1,this,!0),r=s.pets;for(let a of r){a.increaseAttack(i),a.increaseHealth(i);let o=this.buffedFriends.get(a);this.buffedFriends.set(a,o?{attack:o.attack+i,health:o.health+i}:{attack:i,health:i}),this.logService.createLog({message:`${this.name} gave ${a.name} +${i} attack and +${i} health`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random})}this.superBeforeStartOfBattle(t,e)}removeConditionalBuffs(){for(let[t,e]of this.buffedFriends)t&&t.alive&&(t.increaseAttack(-e.attack),t.increaseHealth(-e.health),this.logService.createLog({message:`${t.name} lost ${e.attack} attack and ${e.health} health (Giant Otter removed)`,type:"ability",player:this.parent}))}friendTransformed(t,e,i){e===this&&(null==t?void 0:t.isInStartOfBattleFlag)&&this.removeConditionalBuffs(),this.superFriendTransformed(t,e,i)}afterFaint(t,e,i){(null==t?void 0:t.isInStartOfBattleFlag)&&this.removeConditionalBuffs(),this.superAfterFaint(t,e,i)}resetPet(){super.resetPet(),this.buffedFriends.clear()}}class gM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Aye-aye",this.tier=5,this.pack="Danger",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){i||this.abilityCounter++,this.abilityCounter%8==0?(this.abilityService.setCounterEvent({callback:()=>{for(let a=0;a<2;a++){let o=3,l=3,h=new W_(this.logService,this.abilityService,this.parent,l,o,0,0),d=this.parent.summonPet(h,this.savedPosition,!1,this);d.success&&(this.logService.createLog({message:`${this.name} summoned a ${o}/${l} ${h.name}.`,type:"ability",player:this.parent,tiger:i,randomEvent:d.randomEvent}),this.abilityService.triggerFriendSummonedEvents(h))}let s=3*this.level,r=this.parent.getAll(!1,this,!0);for(let a of r.pets)a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} +${s} attack and +${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random})},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i)):this.superEnemyAttack(t,e,i)}}class mM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Banggai Cardinalfish",this.tier=5,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=6*this.level,r=this.parent.getAll(!0,this);for(let a of r.pets){let o=Math.max(a.attack-i,4);a.attack=o,this.logService.createLog({message:`${this.name} reduced ${a.name} attack by ${i} to (${o}).`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random})}this.superStartOfBattle(t,e)}}class vM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Geometric Tortoise",this.tier=5,this.pack="Danger",this.attack=3,this.health=10,this.damageTakenList=[],this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=this.damageTakenList.shift();if(null==s)return;let r=.33*this.level;3==this.level&&(r=1);let a=Math.floor(s*r);if(a>0){let o=this.parent.opponent.getRandomPet([],!1,!0,!1,this);o.pet&&this.snipePet(o.pet,a,o.random,i)}this.superHurt(t,e,i)}dealDamage(t,e){this.damageTakenList.push(e),super.dealDamage(t,e)}}class yM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Pangasius",this.tier=5,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){if(!t)return;let s;s=this.parent===t.player?t.playerTransformationAmount:t.opponentTransformationAmount;let r=4*this.level;if(s>0)for(let a=0;a<s;a++){let o=this.parent.opponent.getRandomPet([],!1,!0,!1,this);o.pet&&this.snipePet(o.pet,r,o.random,e)}this.superFaint(t,e)}}class _M extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hawaiian Monk Seal",this.tier=5,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}friendAttacks(t,e,i){let s=this.parent.getSpecificPet(this,e),r=s.pet;if(r&&!this.targettedFriends.has(r)){if(this.targettedFriends.size<3&&r.alive){let a=2*this.level;r.increaseHealth(a),this.targettedFriends.add(r),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} health`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})}this.superFriendAttacks(t,e,i)}}}class bM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Marine Iguana",this.tier=5,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}beforeFriendAttacks(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;!r||this.targettedFriends.has(r)||(r.givePetEquipment(new Wr),this.targettedFriends.add(r),this.logService.createLog({message:`${this.name} gave ${r.name} Melon`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.abilityUses++,this.superBeforeFriendAttacks(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class SM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Red Panda",this.tier=5,this.pack="Danger",this.health=4,this.attack=4,this.initPet(o,s,r,a,l)}}class wM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Taita Thrush",this.tier=5,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}adjacentAttacked(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.level,r=this.parent.getAll(!1,this,!0);for(let a of r.pets)a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} +${s} attack and +${s} health`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random});this.abilityUses++,this.superAdjacentAttacked(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class EM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Painted Terrapin",this.tier=5,this.pack="Danger",this.health=6,this.attack=4,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.nearestPetsBehind(this.level,this,"White Okra"),r=s.pets;for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} White Okra perk`,type:"ability",tiger:e,player:this.parent,pteranodon:i,randomEvent:s.random}),a.givePetEquipment(new SC);this.superFaint(t,e)}}class kM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snow Leopard",this.tier=5,this.pack="Danger",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=5*this.level,s=this.parent.opponent.getRandomPet([],!1,!0,!1,this);if(s.pet&&s.pet.alive){if(this.jumpAttackPrep(s.pet),this.transformed&&this.transformedInto){let r=this.parent.getThis(this.transformedInto);r.pet&&(this.transformedInto.increaseAttack(i),this.transformedInto.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${this.transformedInto.name} ${i} attack and ${i} health`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}))}else{let r=this.parent.getThis(this);r.pet&&(r.pet.increaseAttack(i),r.pet.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${i} attack and ${i} health`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}))}this.jumpAttack(s.pet,e,null,s.random)}this.superStartOfBattle(t,e)}}class CM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amsterdam Albatross",this.tier=6,this.pack="Danger",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}friendTransformed(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=1*this.level,r=2*this.level,o=this.parent.getSpecificPet(this,e).pet;null!=o&&(o.increaseAttack(s),o.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${o.name} +${s} attack and +${r} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendTransformed(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class AM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Bay Cat",this.tier=6,this.pack="Danger",this.attack=7,this.health=5,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let s=["Skunk","Fossa","Kraken","Lynx","Humphead Wrasse","Goblin Shark","Red Lipped Batfish","Platybelodon","Tasmanian Devil"];for(let r=0;r<this.level;r++){let a=s[Math.floor(Math.random()*s.length)],o=this.petService.createPet({name:a,attack:null,health:null,equipment:null,mana:0,exp:0},this.parent);this.parent.summonPet(o,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} summoned ${o.name}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),o.startOfBattle&&(this.logService.createLog({message:`${o.name} activated its start of battle ability`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),o.startOfBattle(t,e)),this.abilityService.triggerFriendSummonedEvents(o))}this.superAfterFaint(t,e)}}class PM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Black Rhino",this.tier=6,this.pack="Danger",this.attack=5,this.health=9,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){i||this.abilityCounter++,this.abilityCounter%8==0?(this.abilityService.setCounterEvent({callback:()=>{let r=this.parent.opponent.getRandomPets(this.level,[],!1,!0,this),a=r.pets;for(let o of a)this.snipePet(o,30,r.random,i)},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i)):this.superEnemyAttack(t,e,i)}}class DM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue Whale",this.tier=6,this.pack="Danger",this.health=12,this.attack=12,this.initPet(o,s,r,a,l)}}class Up extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="California Condor",this.tier=6,this.pack="Danger",this.attack=10,this.health=6,this.initPet(l,r,a,o,h)}friendTransformed(t,e,i){if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;let s=e;null!=s&&(s.originalStartOfBattle&&(this.startOfBattle=s.originalStartOfBattle),s.originalHurt&&(this.hurt=s.originalHurt),s.originalFaint&&(this.faint=s.originalFaint),s.originalFriendSummoned&&(this.friendSummoned=s.originalFriendSummoned),s.originalFriendAheadAttacks&&(this.friendAheadAttacks=s.originalFriendAheadAttacks),s.originalFriendAheadFaints&&(this.friendAheadFaints=s.originalFriendAheadFaints),s.originalFriendFaints&&(this.friendFaints=s.originalFriendFaints),s.originalEnemyAttack&&(this.enemyAttack=s.originalEnemyAttack),s.originalAfterAttack&&(this.afterAttack=s.originalAfterAttack),s.originalBeforeAttack&&(this.beforeAttack=s.originalBeforeAttack),s.originalBeforeStartOfBattle&&(this.beforeStartOfBattle=s.originalBeforeStartOfBattle),s.originalKnockOut&&(this.knockOut=s.originalKnockOut),s.originalSummoned&&(this.summoned=s.originalSummoned),s.originalFriendlyToyBroke&&(this.friendlyToyBroke=s.originalFriendlyToyBroke),s.originalFriendGainedAilment&&(this.friendGainedAilment=s.originalFriendGainedAilment),s.originalFriendHurt&&(this.friendHurt=s.originalFriendHurt),s.originalFriendTransformed&&(this.friendTransformed=s.originalFriendTransformed),s.originalEatsFood&&(this.eatsFood=s.originalEatsFood),s.originalFriendAteFood&&(this.friendAteFood=s.originalFriendAteFood),s.originalFriendLostPerk&&(this.friendLostPerk=s.originalFriendLostPerk),s.originalGainedPerk&&(this.gainedPerk=s.originalGainedPerk),s.originalFriendGainedPerk&&(this.friendGainedPerk=s.originalFriendGainedPerk),s.originalAnyoneLevelUp&&(this.anyoneLevelUp=s.originalAnyoneLevelUp),s.originalEnemySummoned&&(this.enemySummoned=s.originalEnemySummoned),s.originalEnemyPushed&&(this.enemyPushed=s.originalEnemyPushed),s.originalGainedMana&&(this.gainedMana=s.originalGainedMana),s.originalFriendJumped&&(this.friendJumped=s.originalFriendJumped),s.originalEnemyGainedAilment&&(this.enemyGainedAilment=s.originalEnemyGainedAilment),s.originalFriendGainsHealth&&(this.friendGainsHealth=s.originalFriendGainsHealth),s.originalEmptyFrontSpace&&(this.emptyFrontSpace=s.originalEmptyFrontSpace),s.originalEnemyHurt&&(this.enemyHurt=s.originalEnemyHurt),s.originalAfterFaint&&(this.afterFaint=s.originalAfterFaint),s.originalTransform&&(this.transform=s.originalTransform),s.originalAdjacentAttacked&&(this.adjacentAttacked=s.originalAdjacentAttacked),s.originalFriendAttacks&&(this.friendAttacks=s.originalFriendAttacks),s.originalBeforeFriendAttacks&&(this.beforeFriendAttacks=s.originalBeforeFriendAttacks),s.originalEnemyJumped&&(this.enemyJumped=s.originalEnemyJumped),s.originalFriendGainedExperience&&(this.friendGainedExperience=s.originalFriendGainedExperience),this.initAbilities(),s instanceof Up||this.logService.createLog({message:`California Condor copied ${s.name}'s level ${this.level} ability`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendTransformed(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class TM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Green Sea Turtle",this.tier=6,this.pack="Danger",this.attack=5,this.health=6,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){if(!(this.abilityUses>=this.maxAbilityUses)){if(i||this.abilityCounter++,this.abilityCounter%5!=0)return void this.superEnemyAttack(t,e,i);this.abilityService.setCounterEvent({callback:()=>{let r=this.parent.getAll(!1,this).pets;for(let a of r)a.givePetEquipment(new Wr,this.level),this.logService.createLog({message:`${this.name} gave ${a.name} Melon.`,type:"ability",player:this.parent,tiger:i})},priority:this.attack,pet:this}),this.abilityUses++,this.superEnemyAttack(t,e,i)}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class xM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Helmeted Hornbill",this.tier=6,this.pack="Danger",this.health=4,this.attack=5,this.initPet(o,s,r,a,l)}}class MM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Philippine Eagle",this.tier=6,this.pack="Danger",this.attack=6,this.health=5,this.initPet(o,s,r,a,l)}friendJumped(t,e,i){this.anyoneJumpedAbility(t,e,i),this.superFriendJumped(t,e,i)}enemyJumped(t,e,i){this.anyoneJumpedAbility(t,e,i),this.superEnemyJumped(t,e,i)}anyoneJumpedAbility(t,e,i){let s=this.parent.getRandomPet([this],!1,!1,!1,this),r=s.pet;if(!r)return;let a=4*this.level;r.increaseAttack(a),this.logService.createLog({message:`${this.name} gave ${r.name} +${a} attack`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} +${a} health`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})}}function lK(n){return 1==n?0:2==n?2:5}class RM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Silky Sifaka",this.tier=6,this.pack="Danger",this.attack=4,this.health=6,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=["Mammoth","Lionfish","Orca","Sabertooth Tiger","Warthog","Hydra","Phoenix","Bay Cat","Walrus","Ammonite"],r=this.parent.nearestPetsBehind(2,this).pets;for(let a of r){let o=i[Math.floor(Math.random()*i.length)],l=this.petService.createPet({name:o,attack:a.attack,health:a.health,mana:a.mana,exp:lK(this.level),equipment:a.equipment},this.parent);this.parent.transformPet(a,l),this.logService.createLog({message:`${this.name} transformed ${a.name} into level ${this.level} ${l.name}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0})}this.superStartOfBattle(t,e)}}class IM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sumatran Tiger",this.tier=6,this.pack="Danger",this.attack=9,this.health=9,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getOppositeEnemyPet(this),s=i.pet;if(s&&(this.jumpAttackPrep(s),this.jumpAttack(s,e,null,i.random),this.level>=2)){let r=2==this.level?6:12,a=[];if(i.random)a=this.parent.getRandomLivingPets(2).pets;else{let o=s.petBehind();o&&o.alive&&a.push(o);let l=s.petAhead;l&&l.alive&&a.push(l)}for(let o of a)this.snipePet(o,r,i.random,e)}this.superStartOfBattle(t,e)}}class Gp extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rock",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class OM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Basilisk",this.tier=1,this.pack="Custom",this.health=2,this.attack=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(1,this,void 0,!0);if(0===i.pets.length)return;let s=i.pets[0];if(null==s||!s.alive)return;let r=2*this.level,a=s.health+r;a=Math.min(a,50);let o=new Gp(this.logService,this.abilityService,s.parent,a,s.attack,s.mana,s.exp,s.equipment);this.logService.createLog({message:`${this.name} turned ${s.name} into a Rock with + ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),s.parent.transformPet(s,o),this.superStartOfBattle(t,e)}}class hb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Daycrawler",this.tier=1,this.pack="Custom",this.hidden=!0,this.health=1,this.attack=3,this.initPet(o,s,r,a,l)}}class NM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nightcrawler",this.tier=2,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let r=this.parent==t.player?t.playerSummonedAmount:t.opponentSummonedAmount;if(0==r)return;let a=Math.min(50,this.level*r),l=new hb(this.logService,this.abilityService,this.parent,a,6,0,0),h=this.parent.summonPet(l,this.savedPosition,!1,this);h.success&&(this.logService.createLog({message:`${this.name} spawned Daycrawler (6/${a})`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:h.randomEvent}),this.abilityService.triggerFriendSummonedEvents(l)),super.superAfterFaint(t,e,i)}}class LM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sphinx",this.tier=2,this.pack="Custom",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}}class BM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chupacabra",this.tier=2,this.pack="Custom",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}knockOut(t,e,i){for(let s=0;s<3*this.level;s++){let r=this.parent.getRandomPet([this],!0,!1,!0,this);if(null==r.pet)return;this.logService.createLog({message:`${this.name} gave ${r.pet.name} 1 health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),r.pet.increaseHealth(1)}this.superKnockOut(t,e,i)}}class $M extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Golden Beetle",this.tier=2,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class VM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Foo Dog",this.tier=3,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class FM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tree",this.tier=3,this.pack="Custom",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){this.attack>6*this.level||(this.logService.createLog({message:`${this.name} gained Coconut.`,type:"ability",player:this.parent,tiger:e}),this.givePetEquipment(new Ua),this.superStartOfBattle(t,e))}}class db extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smaller Slime",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}}class HM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Slime",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a,l),this.battlesFought=h}afterFaint(t,e,i){let s=Math.floor(this.battlesFought/2),r=2*this.level;for(let a=0;a<s;a++){let o=new db(this.logService,this.abilityService,this.parent,null,null,0),l=this.parent.summonPet(o,this.savedPosition,!1,this);l.success&&(this.logService.createLog({message:`${this.name} spawned Smaller Slime (${r}/${r}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:l.randomEvent}),this.abilityService.triggerFriendSummonedEvents(o))}super.superAfterFaint(t,e,i)}}class qM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pegasus",this.tier=3,this.pack="Custom",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let s=this.parent.getRandomPets(3,[this],!0,!1,this);for(let r of s.pets)null!=r&&(r.increaseAttack(this.level),this.logService.createLog({message:`${this.name} gave ${r.name} ${this.level} attack.`,type:"ability",player:this.parent,randomEvent:s.random,tiger:i}))}}class UM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Deer Lord",this.tier=3,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}}class GM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}}class jM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rootling",this.tier=4,this.pack="Custom",this.attack=1,this.health=5,this.initPet(o,s,r,a,l)}}class WM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anubis",this.tier=4,this.pack="Custom",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(s=>s.faintPet);for(let s of i)!s.alive||s.tier<=2*this.level&&(this.logService.createLog({message:`${this.name} activated ${s.name}'s faint ability.`,type:"ability",player:this.parent,tiger:e}),this.abilityService.setFaintEvent({callback:()=>{s.faint(t,!1,!1)},priority:100-s.position,pet:s}))}}class zM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Old Mouse",this.tier=4,this.pack="Custom",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class KM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hippocampus",this.tier=4,this.pack="Custom",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}friendGainsHealth(t,e,i){let s=2*this.level;this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i}),e.increaseAttack(s),this.superFriendGainsHealth(t,e,i)}}class QM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Goblin Shark",this.tier=4,this.pack="Custom",this.attack=6,this.health=3,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=6*this.level;for(let s of this.parent.opponent.petArray)if(s.alive&&s.health<=i){let r=this.petService.createPet({name:s.name,attack:s.attack,health:s.health,exp:s.exp,equipment:null,mana:0},this.parent);this.swallowedPets.push(r),s.health=0,this.logService.createLog({message:`${this.name} swallowed ${s.name}`,type:"ability",player:this.parent,tiger:e});break}this.superStartOfBattle(t,e)}afterFaint(t,e,i){for(;this.swallowedPets.length>0;){let s=this.swallowedPets.shift();s.health=1;let r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} summoned ${s.name} (level ${s.level}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s))}super.superAfterFaint(t,e,i)}}class YM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Red Lipped Batfish",this.tier=4,this.pack="Custom",this.attack=5,this.health=3,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=this.parent.opponent.getPetAtPosition(this.position);if(!i||!i.alive)return;let s=Math.max(1,i.tier-this.level),r=this.petService.getRandomFaintPet(i.parent,s),a=this.petService.createPet({name:r.name,attack:i.attack,health:i.health,exp:i.exp,equipment:i.equipment,mana:i.mana},i.parent);this.logService.createLog({message:`${this.name} transformed ${i.name} into ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),i.parent.transformPet(i,a),this.superStartOfBattle(t,e)}}class JM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Platybelodon",this.tier=4,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=0;this.parent===t.player?i=t.playerRollAmount||0:this.parent===t.opponet&&(i=t.opponentRollAmount||0);let s=this.level*Math.min(i,8);s>0&&this.parent.gainTrumpets(s,this,e),this.superStartOfBattle(t,e)}}class ZM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Boitata",this.tier=5,this.pack="Custom",this.attack=2,this.health=9,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.opponent.getFurthestUpPet(this),s=i.pet;null!=s&&(this.logService.createLog({message:`${this.name} gave ${s.name} Crisp.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),s.givePetEquipment(new dc),this.abilityUses++,this.superBeforeAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class XM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Kappa",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let r=(this.parent==t.player?t.playerPetPool:t.opponentPetPool).get(3);for(let a=0;a<this.level;a++){let o=r[Math.floor(Math.random()*r.length)],l=r[Math.floor(Math.random()*r.length)],h=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:o},this.parent);this.parent.summonPet(h,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned a ${h.name} (14/16).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.abilityService.triggerFriendSummonedEvents(h));let m=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:l},this.parent.opponent);this.parent.opponent.summonPet(m,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned a ${m.name} (14/16) for the opponent.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.abilityService.triggerFriendSummonedEvents(m))}super.superAfterFaint(t,e,i)}}class eR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mimic",this.tier=5,this.pack="Custom",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}}class tR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nurikabe",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.maxAbilityUses=3,this.initPet(o,s,r,a,l)}}class iR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leviathan",this.tier=6,this.pack="Custom",this.attack=6,this.health=10,this.initPet(o,s,r,a,l)}}class nR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Questing Beast",this.tier=6,this.pack="Custom",this.attack=7,this.health=9,this.initPet(o,s,r,a,l)}}class sR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockatrice",this.tier=6,this.pack="Custom",this.attack=5,this.health=7,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.opponent.petArray.reverse(),s=null;for(let o of i)if(o.level<=this.level){s=o;break}if(null==s)return;this.logService.createLog({message:`${this.name} transformed ${s.name} into a Rock.`,type:"ability",player:this.parent,tiger:e});let r=new Gp(this.logService,this.abilityService,s.parent,s.health,s.attack,s.mana,s.exp,s.equipment);this.parent.opponent.setPet(s.position,r,!1)}}class lV extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Albatross",this.tier=6,this.pack="Custom",this.attack=5,this.health=4,this.initPet(o,s,r,a,l)}}class rR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tarantula Hawk",this.tier=6,this.pack="Custom",this.health=2,this.attack=10,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.floor(this.attack/10)*this.level;if(i<=0)return;let r=this.parent.opponent.getAll(!1,this).pets;if(0!=r.length){for(let a of r)a.increaseHealth(-i),this.logService.createLog({message:`${this.name} removed ${i} health from ${a.name}`,type:"ability",player:this.parent,tiger:e});this.superStartOfBattle(t,e)}}}class aR extends _{constructor(t,e,i,s,r,a,o,l,h,d){super(t,e,r),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Good Dog",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=3,this.hidden=!0,this.initPet(h,a,o,l,d)}startOfBattle(t,e){let i=this.parent.getAll(!0,this),s=i.pets;if(0==s.length)return;let r=this.getInstanceOfAllEquipment(),a=Array.from(r.values());for(let o of s){if(!o.alive)continue;let l=a[Math.floor(Math.random()*a.length)];this.logService.createLog({message:`${this.name} gave ${o.name} ${l.name}`,type:"ability",player:this.parent,randomEvent:i.random,tiger:e}),o.givePetEquipment(l)}}getInstanceOfAllEquipment(){let t=new Map;return t.set("Garlic",new pc),t.set("Meat Bone",new R_),t.set("Steak",new I3),t.set("Melon",new Wr),t.set("Honey",new M_(this.logService,this.abilityService)),t.set("Chili",new A_(this.logService,this.abilityService)),t.set("Mushroom",new O3(this.logService,this.abilityService,this.petService)),t.set("Coconut",new Ua),t.set("Peanut",new yh),t.set("Croissant",new N3),t.set("Rice",new I_),t.set("Egg",new RA(this.logService,this.abilityService)),t.set("Lime",new L3),t.set("Salt",new f_),t.set("Pie",new LA(this.logService)),t.set("Skewer",new BA(this.logService)),t.set("Lemon",new $3),t.set("Pancakes",new $A(this.logService)),t.set("Strawberry",new N_(this.logService,this.abilityService)),t.set("Cucumber",new F3),t.set("Cheese",new p_),t.set("Grapes",new H3),t.set("Carrot",new q3),t.set("Pepper",new g_),t.set("Popcorn",new U3(this.logService,this.abilityService,this.petService,this.gameService)),t.set("Cherry",new VA),t.set("Chocolate Cake",new L_(this.logService,this.abilityService)),t.set("Eggplant",new FA(this.logService)),t.set("Potato",new G3),t.set("Banana",new j3(this.logService,this.abilityService)),t.set("Onion",new EC(this.logService)),t.set("Pita Bread",new W3(this.logService)),t.set("Tomato",new z3(this.logService,this.abilityService)),t.set("Durian",new K3(this.logService,this.abilityService)),t.set("Fortune Cookie",new m_),t.set("Blueberry",new Y3),t.set("Donut",new J3),t.set("Pineapple",new Z3),t.set("Fig",new X3(this.logService,this.abilityService)),t.set("Rambutan",new B_(this.logService)),t.set("Love Potion",new HA(this.logService)),t.set("Fairy Dust",new tV(this.logService)),t.set("Gingerbread Man",new qA(this.logService)),t.set("Easter Egg",new iV(this.logService,this.abilityService)),t.set("Health Potion",new UA(this.logService)),t.set("Magic Beans",new nV),t.set("Golden Egg",new sV(this.logService,this.abilityService)),t.set("Squash",new B3(this.logService,this.abilityService)),t.set("Honeydew Melon",new _C),t.set("Ambrosia",new wC),t.set("Faint Bread",new aV(this.logService,this.abilityService,this.petService,this.gameService)),t.set("Seaweed",new Q3(this.logService,this.abilityService,this.petService)),t.set("Caramel",new eV(this.logService,this.abilityService)),t.set("Baguette",new V3(this.logService,this.abilityService)),t}}class oR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salmon",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.hidden=!0,this.initPet(o,s,r,a,l)}summoned(t,e){let i=1+Math.floor(this.health/25),s=5*this.level;for(let r=0;r<i;r++){let a=this.parent.opponent.getRandomPet([],!1,!0,!1,this);a.pet&&this.snipePet(a.pet,s,a.random,e)}this.superSummoned(t,e)}}class lR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mimic Octopus",this.tier=6,this.pack="Star",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}afterAttack(t,e){let i=this.parent.opponent.getLowestHealthPets(this.level,void 0,this);for(let s of i.pets)this.snipePet(s,4,i.random,e);this.superAfterAttack(t,e)}}class cR extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Ammonite",this.tier=6,this.pack="Star",this.attack=5,this.health=3,this.initPet(l,r,a,o,h)}faint(t,e,i){let s=this.parent.nearestPetsBehind(1,this);if(0===s.pets.length)return;let r=s.pets[0],o=Math.floor((this.parent===t.player?t.playerRollAmount:t.opponentRollAmount)/2)*this.level,l=this.petService.createPet({name:"Mimic Octopus",attack:r.attack,health:r.health,equipment:r.equipment,mana:r.mana,exp:r.exp},this.parent);this.logService.createLog({message:`${this.name} transformed ${r.name} into ${l.name}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),this.parent.transformPet(r,l);let h=this.parent.getThis(l),d=h.pet;null!=d&&(this.logService.createLog({message:`${this.name} gave ${d.name} +${o} experience.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:h.random}),d.increaseExp(o),this.superFaint(t,e))}}class uR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Velociraptor",this.tier=6,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}friendAttacks(t,e,i){let s;for(let a=this.parent.petArray.indexOf(this)-1;a>=0;a--){let o=this.parent.petArray[a];if(o.alive&&o.equipment&&"Strawberry"===o.equipment.name){s=o;break}}if(s){if(s&&s.equipment&&"Strawberry"===s.equipment.name){s.removePerk(),this.logService.createLog({message:`${this.name} removed Strawberry from ${s.name}`,type:"ability",player:this.parent,tiger:i});let a=2*this.level,o=3*this.level,l=this.parent.getAll(!1,this,!0),h=l.pets;for(let d of h)d.increaseAttack(a),d.increaseHealth(o),this.logService.createLog({message:`${this.name} gave ${d.name} +${a} attack and +${o} health`,type:"ability",player:this.parent,tiger:i,randomEvent:l.random})}this.superFriendAttacks(t,e,i)}}}class hR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baby Urchin",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getFurthestUpPet(this),r=[s.pet],a=s.random;if(null!=r[0]){for(let o=0;o<this.level-1;o++){let l;if(l=a?this.parent.opponent.getFurthestUpPet(this).pet:r[o].petBehind(),null==l)break;r.push(l)}for(let o of r)null!=o&&(o.increaseHealth(-4),this.logService.createLog({message:`${this.name} removed 4 health from ${o.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a}));this.superFaint(t,e)}else this.superFaint(t,e)}}let fb=(()=>{class n{constructor(e,i,s){this.logService=e,this.abilityService=i,this.gameService=s,this.turtlePackPets=new Map,this.puppyPackPets=new Map,this.starPackPets=new Map,this.goldenPackPets=new Map,this.unicornPackPets=new Map,this.customPackPets=new Map,this.dangerPackPets=new Map,this.playerCustomPackPets=new Map,this.allPets=new Map,this.startOfBattlePets=["Beetle","Cone Snail","Frilled Dragon","Frog","Gecko","Goose","Hummigbird","Mosquito","Moth","Seahorse","Atlantic Puffin","Bat","Crab","Panda","Robin","Salamander","Wombat","Dodo","Dolphin","Eel","Meerkat","Pug","Woodpecker","Doberman","Hawk","Lynx","Pelican","Skunk","Whale","Armadillo","Crocodile","Hyena","Macaque","Sword Fish","Highland Cow","Leopard","Mantis Shrimp","Stegosaurus","Therizinosaurus","White Tiger","Alchemedes","Axehandle Hound","Barghest","Bunyip","Sneaky Egg","Tsuchinoko","Ogopogo","Thunderbird","Mana Hound","Mandrake","Kraken","Roc","Red Dragon","Salmon of Knowledge","Werewolf","Sleipnir","Basilisk","Tree","Anubis","Cockatrice"]}buildCustomPackPets(e){for(let i of e.controls){let s=new Map;for(let r=1;r<=6;r++)s.set(r,i.get(`tier${r}Pets`).value);this.playerCustomPackPets.set(i.get("name").value,s)}}init(){this.turtlePackPets.set(1,["Ant","Cricket","Duck","Fish","Horse","Mosquito","Beaver","Otter","Pig","Pigeon"]),this.turtlePackPets.set(2,["Snail","Crab","Swan","Rat","Hedgehog","Peacock","Flamingo","Worm","Kangaroo","Spider"]),this.turtlePackPets.set(3,["Dodo","Badger","Dolphin","Giraffe","Elephant","Camel","Rabbit","Ox","Dog","Sheep"]),this.turtlePackPets.set(4,["Skunk","Hippo","Bison","Blowfish","Turtle","Squirrel","Penguin","Deer","Whale","Parrot"]),this.turtlePackPets.set(5,["Scorpion","Crocodile","Rhino","Monkey","Armadillo","Cow","Seal","Rooster","Shark","Turkey"]),this.turtlePackPets.set(6,["Leopard","Tiger","Boar","Wolverine","Gorilla","Dragon","Mammoth","Cat","Snake","Fly"]),this.puppyPackPets.set(1,["Duck","Beaver","Moth","Bluebird","Chinchilla","Beetle","Ladybug","Chipmunk","Gecko","Ferret"]),this.puppyPackPets.set(2,["Robin","Bat","Bilby","Dromedary","Shrimp","Beluga Sturgeon","Tabby Cat","Mandrill","Lemur","Goldfish"]),this.puppyPackPets.set(3,["Hoopoe Bird","Tropical Fish","Toucan","Hatching Chick","Owl","Mole","Flying Squirrel","Pangolin","Puppy","Hare"]),this.puppyPackPets.set(4,["Microbe","Lobster","Buffalo","Llama","Caterpillar","Doberman","Tahr","Whale Shark","Chameleon","Gharial"]),this.puppyPackPets.set(5,["Stonefish","Goat","Chicken","Eagle","Orchid Mantis","Panther","Axolotl","Snapping Turtle","Mosasaurus","Sting Ray"]),this.puppyPackPets.set(6,["Dragon","Mantis Shrimp","Lionfish","Tyrannosaurus","Octopus","Anglerfish","Sauropod","Elephant Seal","Puma","Mongoose"]),this.starPackPets.set(1,["Mouse","Pillbug","Cockroach","Frog","Hummingbird","Marmoset","Kiwi","Chihuahua","Firefly"]),this.starPackPets.set(2,["Koala","Salamander","Guinea Pig","Jellyfish","Dove","Stork","Iguana","DumboOctopus","Bass","Shima Enaga"]),this.starPackPets.set(3,["Leech","Toad","Cabybara","Okapi","Cassowary","Anteater","Pug","Orangutang","Tuna"]),this.starPackPets.set(4,["Hawk","Clownfish","Platypus","Praying Mantis","Donkey","Fairy Armadillo","Fossa","Elk","Sparrow"]),this.starPackPets.set(5,["Sword Fish","Triceratops","Hamster","Shoebill","Woodpecker","Starfish","Blobfish","Pelican","Vulture","Ibex"]),this.starPackPets.set(6,["Ostrich","Reindeer","Piranha","Orca","Spinosaurus","Real Velociraptor","Sabertooth Tiger","Ammonite","Velociraptor","Alpaca"]),this.goldenPackPets.set(1,["Chipmunk","Bulldog","Groundhog","Cone Snail","Goose","Lemming","Pied Tamarin","Opossum","Silkmoth","Magpie"]),this.goldenPackPets.set(2,["Hercules Beetle","Stoat","Black Necked Stilt","Squid","Sea Urchin","Door Head Ant","Lizard","Sea Turtle","Meerkat","African Penguin"]),this.goldenPackPets.set(3,["Musk Ox","Flea","Bear","Royal Flycatcher","Surgeon Fish","Weasel","Guineafowl","Flying Fish","Baboon","Osprey"]),this.goldenPackPets.set(4,["Manatee","Cuttlefish","Saiga Antelope","Sealion","Vaquita","Slug","Poison Dart Frog","Falcon","Manta Ray","Cockatoo"]),this.goldenPackPets.set(5,["Macaque","Nyala","Nurse Shark","Beluga Whale","Wolf","Secretary Bird","Fire Ant","Blue Ringed Octopus","Crane","Emu","Egyptian Vulture"]),this.goldenPackPets.set(6,["Wildebeast","Highland Cow","Catfish","Pteranodon","Warthog","Cobra","Grizzly Bear","German Shepherd","Bird of Paradise","Oyster","Rockhopper Penguin"]),this.unicornPackPets.set(1,["Baku","Axehandle Hound","Barghest","Tsuchinoko","Murmel","Alchemedes","Pengobble","Warf","Bunyip","Sneaky Egg","Cuddle Toad","???"]),this.unicornPackPets.set(2,["Ghost Kitten","Frost Wolf","Mothman","Drop Bear","Jackalope","Ogopogo","Thunderbird","Gargoyle","Wyvern","Bigfoot"]),this.unicornPackPets.set(3,["Skeleton Dog","Mandrake","Fur-Bearing Trout","Mana Hound","Calygreyhound","Brain Cramp","Lucky Cat","Tatzelwurm","Ouroboros","Griffin"]),this.unicornPackPets.set(4,["Kraken","Visitor","Unicorn","Tiger Bug","Minotaur","Cyclops","Chimera","Roc","Worm of Sand","Abomination"]),this.unicornPackPets.set(5,["Red Dragon","Vampire Bat","Loveland Frogman","Salmon of Knowledge","Jersey Devil","Pixiu","Kitsune","Nessie","Bad Dog","Werewolf","Amalgamation"]),this.unicornPackPets.set(6,["Manticore","Phoenix","Quetzalcoatl","Team Spirit","Sleipnir","Sea Serpent","Yeti","Cerberus","Hydra","Behemoth"]),this.dangerPackPets.set(1,["African Wild Dog","Iriomote Cat","Ili Pika","Malay Tapir","Bombus Dahlbomii","Ethiopian Wolf","Fan Mussel","Togian Babirusa","Tooth Billed Pigeon","Volcano Snail"]),this.dangerPackPets.set(2,["Araripe Manakin","Darwin's Fox","European Mink","Proboscis Monkey","Pygmy Hog","Saola","Saker Falcon","Taita Shrew","Takhi","White-Bellied Heron"]),this.dangerPackPets.set(3,["Amami Rabbit","Blue-Throated Macaw","Hirola","Monkey-Faced Bat","Takin","Tree Kangaroo","Tucuxi","Pygmy Hippo","Roloway Monkey","Spoon-Billed Sandpiper"]),this.dangerPackPets.set(4,["Amazon River Dolphin","Angelshark","Bonobo","Giant Otter","Giant Tortoise","Golden Tamarin","Humphead Wrasse","Kakapo","Longcomb Sawfish","Tasmanian Devil"]),this.dangerPackPets.set(5,["Aye-aye","Banggai Cardinalfish","Geometric Tortoise","Giant Pangasius","Hawaiian Monk Seal","Marine Iguana","Red Panda","Snow Leopard","Taita Thrush","Painted Terrapin"]),this.dangerPackPets.set(6,["Amsterdam Albatross","Bay Cat","Black Rhino","Blue Whale","California Condor","Green Sea Turtle","Helmeted Hornbill","Philippine Eagle","Silky Sifaka","Sumatran Tiger"]),this.customPackPets.set(1,["Frilled Dragon","Mouse","Basilisk","Duckling","Seahorse"]),this.customPackPets.set(2,["Frigatebird","Wombat","Frigatebird","Nightcrawler","Sphinx","Chupacabra","Golden Beetle","Yak","Panda","Atlantic Puffin"]),this.customPackPets.set(3,["Aardvark","Emperor Tamarin","Porcupine","Wasp","Foo Dog","Tree","Slime","Pegasus","Deer Lord","Betta Fish"]),this.customPackPets.set(4,["Jerboa","Dragonfly","Lynx","Seagull","Fairy","Rootling","Anubis","Old Mouse","Hippocampus","Goblin Shark","Red Lipped Batfish","Platybelodon","Eel","Crow"]),this.customPackPets.set(5,["Poodle","Hyena","Moose","Raccoon","Sea Cucumber","Silver Fox","Boitata","Kappa","Mimic","Nurikabe","Tandgnost","Tandgrisner","Fox","Lion","Polar Bear","Siberian Husky","Zebra"]),this.customPackPets.set(6,["Lioness","Tapir","Walrus","White Tiger","Great One","Leviathan","Questing Beast","Cockatrice","Albatross","Amargasaurus","Tarantula Hawk","Hammerhead Shark","Komodo","Stegosaurus","Harpy Eagle","Therizinosaurus"]),this.setAllPets()}setAllPets(){this.allPets=new Map;for(let e=1;e<=6;e++)this.allPets.set(e,[]);for(let[e,i]of this.turtlePackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.puppyPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.starPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.goldenPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.unicornPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.dangerPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.allPets)this.allPets.set(e,[...new Set(i)])}createPet(e,i){switch(e.name){case"Ant":return new __(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cricket":return new kC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fish":return new b_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Horse":return new CC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mosquito":return new AC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Duck":return new S_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beaver":return new w_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Otter":return new PC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pig":return new DC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mouse":return new TC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pigeon":return new b1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snail":return new mz(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crab":return new xC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Swan":return new MC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rat":return new RC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hedgehog":return new IC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Peacock":return new OC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flamingo":return new NC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Worm":return new LC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kangaroo":return new BC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Spider":return new $C(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dodo":return new VC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Badger":return new FC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dolphin":return new k_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Giraffe":return new HC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elephant":return new qC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Camel":return new UC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rabbit":return new GC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ox":return new jC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dog":return new WC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sheep":return new zC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Skunk":return new QC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hippo":return new YC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bison":return new JC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blowfish":return new ZC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Turtle":return new XC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Squirrel":return new eA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Penguin":return new tA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Deer":return new iA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Whale":return new nA(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Parrot":return new bh(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Scorpion":return new sA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crocodile":return new rA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rhino":return new aA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Monkey":return new T_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Armadillo":return new oA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cow":return new lA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seal":return new cA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rooster":return new uA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shark":return new hA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Turkey":return new dA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leopard":return new fA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Boar":return new pA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tiger":return new KC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wolverine":return new gA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gorilla":return new mA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dragon":return new vA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mammoth":return new yA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cat":return new _A(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snake":return new bA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fly":return new SA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Moth":return new wA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bluebird":return new EA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chinchilla":return new kA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beetle":return new CA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ladybug":return new AA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chipmunk":return new PA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gecko":return new DA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ferret":return new TA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Robin":return new IA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bat":return new xA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bilby":return new MA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dromedary":return new OA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shrimp":return new NA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Toucan":return new WA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beluga Sturgeon":return new zA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tabby Cat":return new KA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mandrill":return new QA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lemur":return new W_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hoopoe Bird":return new YA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tropical Fish":return new JA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hatching Chick":return new ZA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goldfish":return new XA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Owl":return new eP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mole":return new Hp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Raccoon":return new tP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flying Squirrel":return new j_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pangolin":return new nP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Puppy":return new sP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hare":return new S1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Microbe":return new rP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lobster":return new aP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Buffalo":return new oP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Llama":return new lP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Caterpillar":return new cP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Doberman":return new uP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tahr":return new hP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Whale Shark":return new dP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chameleon":return new fP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gharial":return new pP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stonefish":return new gP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Poodle":return new mP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goat":return new wP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chicken":return new vP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Eagle":return new yP(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Orchid Mantis":return new _P(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Panther":return new bP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Axolotl":return new SP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snapping Turtle":return new EP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mosasaurus":return new kP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sting Ray":return new CP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mantis Shrimp":return new AP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lionfish":return new PP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tyrannosaurus":return new DP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Octopus":return new TP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anglerfish":return new xP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sauropod":return new MP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elephant Seal":return new RP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Puma":return new wr(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mongoose":return new IP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pillbug":return new OP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Duckling":return new NP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockroach":return new LP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frog":return new BP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seahorse":return new VP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Iguana":return new FP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hummingbird":return new HP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Marmoset":return new YT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kiwi":return new v1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chihuahua":return new $P(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Firefly":return new y1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Koala":return new qP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Yak":return new UP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Salamander":return new jP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Panda":return new WP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Guinea Pig":return new zP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jellyfish":return new QP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pug":return new KP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Atlantic Puffin":return new YP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dove":return new JP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stork":return new ZP(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"DumboOctopus":return new GP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bass":return new _1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shima Enaga":return new XP(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leech":return new eD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Woodpecker":return new tD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Toad":return new nD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Starfish":return new sD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Clownfish":return new rD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blobfish":return new aD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cabybara":return new oD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Okapi":return new lD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cassowary":return new cD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anteater":return new SD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tuna":return new iD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.timesHurt);case"Orangutang":return new Q_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Eel":return new pD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hawk":return new gD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Platypus":return new mD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Praying Mantis":return new K_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crow":return new vD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Donkey":return new yD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pelican":return new bD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fairy Armadillo":return new dD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fossa":return new fD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Siamese":return new uD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elk":return new hD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sparrow":return new _D(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sword Fish":return new wD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Polar Bear":return new ED(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Siberian Husky":return new kD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lion":return new CD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Triceratops":return new AD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zebra":return new PD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fox":return new DD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hamster":return new TD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shoebill":return new xD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vulture":return new MD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ibex":return new RD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Komodo":return new ID(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ostrich":return new OD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Reindeer":return new ND(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stegosaurus":return new LD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Piranha":return new BD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hammerhead Shark":return new $D(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Therizinosaurus":return new VD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Harpy Eagle":return new FD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Real Velociraptor":return new HD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sabertooth Tiger":return new qD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.timesHurt);case"Orca":return new UD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Spinosaurus":return new GD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bulldog":return new jD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Groundhog":return new J_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cone Snail":return new WD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goose":return new zD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lemming":return new YD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pied Tamarin":return new KD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Opossum":return new m1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Silkmoth":return new QD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Magpie":return new JD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hercules Beetle":return new ZD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stoat":return new XD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Black Necked Stilt":return new eT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Squid":return new tT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Urchin":return new iT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Door Head Ant":return new nT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lizard":return new sT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Turtle":return new rT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"African Penguin":return new aT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Musk Ox":return new oT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flea":return new lT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Royal Flycatcher":return new CT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Surgeon Fish":return new cT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Weasel":return new X_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Guineafowl":return new uT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Betta Fish":return new hT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Meerkat":return new dT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flying Fish":return new fT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Baboon":return new pT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Osprey":return new gT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manatee":return new mT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cuttlefish":return new vT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Egyptian Vulture":return new yT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Saiga Antelope":return new _T(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sealion":return new bT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vaquita":return new ST(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Slug":return new wT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Poison Dart Frog":return new ET(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Secretary Bird":return new kT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Falcon":return new AT(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manta Ray":return new PT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Macaque":return new DT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nyala":return new TT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nurse Shark":return new xT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beluga Whale":return new MT(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.belugaSwallowedPet);case"Wolf":return new RT(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Silver Fox":return new IT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fire Ant":return new OT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockatoo":return new NT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blue Ringed Octopus":return new LT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crane":return new BT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Emu":return new $T(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wildebeast":return new VT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Highland Cow":return new FT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Catfish":return new HT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pteranodon":return new qT(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Warthog":return new UT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cobra":return new GT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Grizzly Bear":return new jT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"German Shepherd":return new WT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bird of Paradise":return new zT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Oyster":return new KT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rockhopper Penguin":return new QT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jerboa":return new JT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frilled Dragon":return new ZT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wombat":return new XT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frigatebird":return new e1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Aardvark":return new t1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bear":return new i1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Emperor Tamarin":return new n1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Porcupine":return new s1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wasp":return new r1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dragonfly":return new a1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lynx":return new o1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seagull":return new l1(this.logService,this.abilityService,this,this.gameService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Alpaca":return new qp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hyena":return new c1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Moose":return new u1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Cucumber":return new iP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lioness":return new h1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tapir":return new d1(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Walrus":return new f1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"White Tiger":return new p1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Basilisk":return new OM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nightcrawler":return new NM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sphinx":return new LM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chupacabra":return new BM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Golden Beetle":return new $M(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Foo Dog":return new VM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tree":return new FM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Slime":return new HM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.battlesFought);case"Pegasus":return new qM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Deer Lord":return new UM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fairy":return new GM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rootling":return new jM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anubis":return new WM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Old Mouse":return new zM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hippocampus":return new KM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goblin Shark":return new QM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Red Lipped Batfish":return new YM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Platybelodon":return new JM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Boitata":return new ZM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kappa":return new XM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mimic":return new eR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nurikabe":return new tR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tandgnost":return new V_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tandgrisner":return new F_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Great One":return new U_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leviathan":return new iR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Questing Beast":return new nR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockatrice":return new sR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amargasaurus":return new g1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tarantula Hawk":return new rR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Angry Pygmy Hog":return new D_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bee":return new Sh(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bus":return new P_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Butterfly":return new z_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chick":return new x_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dirty Rat":return new E_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Golden Retriever":return new y_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lizard Tail":return new Z_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nest":return new Vp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ram":return new C_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smaller Slug":return new tb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smallest Slug":return new eb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zombie Cricket":return new _h(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zombie Fly":return new $p(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cracked Egg":return new ib(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nessie?":return new ab(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Young Phoenix":return new ob(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fire Pup":return new lb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Monty":return new $_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rock":return new Gp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Daycrawler":return new hb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smaller Slime":return new db(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Goat":return new nb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Lion":return new sb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Snake":return new rb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Head":return new cb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Good Dog":return new aR(this.logService,this.abilityService,this,this.gameService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Salmon":return new oR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mimic Octopus":return new lR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ammonite":return new cR(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Velociraptor":return new uR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Baby Urchin":return new hR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fairy Ball":return new Y_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp);case"Baku":return new w1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Axehandle Hound":return new k1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Barghest":return new C1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tsuchinoko":return new A1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Murmel":return new P1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Alchemedes":return new D1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pengobble":return new T1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Warf":return new x1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bunyip":return new M1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sneaky Egg":return new R1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cuddle Toad":return new I1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"???":return new E1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ghost Kitten":return new O1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frost Wolf":return new N1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mothman":return new L1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Drop Bear":return new B1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jackalope":return new $1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ogopogo":return new F1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Thunderbird":return new H1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gargoyle":return new q1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bigfoot":return new U1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lucky Cat":return new V1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Skeleton Dog":return new G1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mandrake":return new j1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fur-Bearing Trout":return new W1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mana Hound":return new z1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Calygreyhound":return new K1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Brain Cramp":return new Q1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Minotaur":return new Y1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wyvern":return new J1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ouroboros":return new Z1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Griffin":return new X1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kraken":return new ex(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Visitor":return new tx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vampire Bat":return new ix(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tiger Bug":return new nx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tatzelwurm":return new sx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cyclops":return new rx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chimera":return new ax(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Roc":return new ox(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Worm of Sand":return new lx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Abomination":return new cx(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.abominationSwallowedPet1,e.abominationSwallowedPet2,e.abominationSwallowedPet3);case"Red Dragon":return new ux(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Unicorn":return new hx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Loveland Frogman":return new dx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Salmon of Knowledge":return new G_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jersey Devil":return new px(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pixiu":return new gx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kitsune":return new mx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nessie":return new vx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bad Dog":return new yx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Werewolf":return new _x(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amalgamation":return new fx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manticore":return new bx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Phoenix":return new Sx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Quetzalcoatl":return new wx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Team Spirit":return new Ex(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sleipnir":return new kx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Serpent":return new Cx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Yeti":return new Ax(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cerberus":return new Px(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hydra":return new Dx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Behemoth":return new Tx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Iriomote Cat":return new xx(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ili Pika":return new Mx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Malay Tapir":return new Rx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bombus Dahlbomii":return new Ix(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"African Wild Dog":return new $x(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ethiopian Wolf":return new ub(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fan Mussel":return new Ox(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Togian Babirusa":return new Nx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tooth Billed Pigeon":return new Lx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Volcano Snail":return new Bx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Araripe Manakin":return new Vx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"European Mink":return new Fx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Proboscis Monkey":return new Hx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pygmy Hog":return new qx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Saola":return new Ux(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Saker Falcon":return new Gx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Taita Shrew":return new jx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Darwin's Fox":return new zx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Takhi":return new Kx(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"White-Bellied Heron":return new Wx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amami Rabbit":return new nM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tree Kangaroo":return new sM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blue-Throated Macaw":return new Qx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hirola":return new Yx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Monkey-Faced Bat":return new Jx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Takin":return new Xx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tucuxi":return new eM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pygmy Hippo":return new Zx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Roloway Monkey":return new tM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Spoon-Billed Sandpiper":return new iM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Angelshark":return new rM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bonobo":return new aM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Giant Otter":return new pM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Giant Tortoise":return new oM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Golden Tamarin":return new cM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Humphead Wrasse":return new lM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kakapo":return new uM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Longcomb Sawfish":return new hM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tasmanian Devil":return new fM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amazon River Dolphin":return new dM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Aye-aye":return new gM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Banggai Cardinalfish":return new mM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Geometric Tortoise":return new vM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Giant Pangasius":return new yM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hawaiian Monk Seal":return new _M(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Marine Iguana":return new bM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Red Panda":return new SM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Taita Thrush":return new wM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snow Leopard":return new kM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Painted Terrapin":return new EM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amsterdam Albatross":return new CM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bay Cat":return new AM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Black Rhino":return new PM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blue Whale":return new DM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"California Condor":return new Up(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Green Sea Turtle":return new TM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Helmeted Hornbill":return new xM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Philippine Eagle":return new MM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Silky Sifaka":return new RM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sumatran Tiger":return new IM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment)}}createDefaultVersionOfPet(e,i=null,s=null){let r;return e instanceof __&&(r=new __(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Sh&&(r=new Sh(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kC&&(r=new kC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof b_&&(r=new b_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CC&&(r=new CC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AC&&(r=new AC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _h&&(r=new _h(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof S_&&(r=new S_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof w_&&(r=new w_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PC&&(r=new PC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DC&&(r=new DC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof TC&&(r=new TC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof b1&&(r=new b1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xC&&(r=new xC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MC&&(r=new MC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof RC&&(r=new RC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof IC&&(r=new IC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof OC&&(r=new OC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof NC&&(r=new NC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LC&&(r=new LC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BC&&(r=new BC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $C&&(r=new $C(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof VC&&(r=new VC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FC&&(r=new FC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof k_&&(r=new k_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof HC&&(r=new HC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qC&&(r=new qC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof UC&&(r=new UC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof GC&&(r=new GC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jC&&(r=new jC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof WC&&(r=new WC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zC&&(r=new zC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QC&&(r=new QC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YC&&(r=new YC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JC&&(r=new JC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZC&&(r=new ZC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XC&&(r=new XC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eA&&(r=new eA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tA&&(r=new tA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iA&&(r=new iA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nA&&(r=new nA(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof bh&&(r=new bh(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof sA&&(r=new sA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rA&&(r=new rA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aA&&(r=new aA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof T_&&(r=new T_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oA&&(r=new oA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lA&&(r=new lA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cA&&(r=new cA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uA&&(r=new uA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hA&&(r=new hA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dA&&(r=new dA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fA&&(r=new fA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pA&&(r=new pA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KC&&(r=new KC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gA&&(r=new gA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mA&&(r=new mA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vA&&(r=new vA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yA&&(r=new yA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _A&&(r=new _A(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bA&&(r=new bA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof SA&&(r=new SA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wA&&(r=new wA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof EA&&(r=new EA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kA&&(r=new kA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CA&&(r=new CA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AA&&(r=new AA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PA&&(r=new PA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DA&&(r=new DA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof TA&&(r=new TA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof IA&&(r=new IA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xA&&(r=new xA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MA&&(r=new MA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof OA&&(r=new OA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof NA&&(r=new NA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof WA&&(r=new WA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zA&&(r=new zA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KA&&(r=new KA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QA&&(r=new QA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof W_&&(r=new W_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YA&&(r=new YA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JA&&(r=new JA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZA&&(r=new ZA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XA&&(r=new XA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eP&&(r=new eP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Hp&&(r=new Hp(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tP&&(r=new tP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof j_&&(r=new j_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nP&&(r=new nP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sP&&(r=new sP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof S1&&(r=new S1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rP&&(r=new rP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aP&&(r=new aP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oP&&(r=new oP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lP&&(r=new lP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cP&&(r=new cP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uP&&(r=new uP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hP&&(r=new hP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dP&&(r=new dP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fP&&(r=new fP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pP&&(r=new pP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gP&&(r=new gP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mP&&(r=new mP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wP&&(r=new wP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vP&&(r=new vP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yP&&(r=new yP(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof _P&&(r=new _P(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bP&&(r=new bP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof SP&&(r=new SP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof EP&&(r=new EP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kP&&(r=new kP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CP&&(r=new CP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AP&&(r=new AP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PP&&(r=new PP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DP&&(r=new DP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof TP&&(r=new TP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xP&&(r=new xP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MP&&(r=new MP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof RP&&(r=new RP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wr&&(r=new wr(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof IP&&(r=new IP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof OP&&(r=new OP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof NP&&(r=new NP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LP&&(r=new LP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof v1&&(r=new v1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BP&&(r=new BP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof VP&&(r=new VP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FP&&(r=new FP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof HP&&(r=new HP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YT&&(r=new YT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $P&&(r=new $P(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof y1&&(r=new y1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qP&&(r=new qP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof UP&&(r=new UP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jP&&(r=new jP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof WP&&(r=new WP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zP&&(r=new zP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QP&&(r=new QP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KP&&(r=new KP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YP&&(r=new YP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JP&&(r=new JP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZP&&(r=new ZP(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof GP&&(r=new GP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XP&&(r=new XP(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof _1&&(r=new _1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eD&&(r=new eD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tD&&(r=new tD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nD&&(r=new nD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sD&&(r=new sD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rD&&(r=new rD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aD&&(r=new aD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oD&&(r=new oD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lD&&(r=new lD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cD&&(r=new cD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iD&&(r=new iD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Q_&&(r=new Q_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pD&&(r=new pD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gD&&(r=new gD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mD&&(r=new mD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof K_&&(r=new K_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vD&&(r=new vD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yD&&(r=new yD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bD&&(r=new bD(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof SD&&(r=new SD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dD&&(r=new dD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fD&&(r=new fD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uD&&(r=new uD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hD&&(r=new hD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _D&&(r=new _D(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wD&&(r=new wD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ED&&(r=new ED(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kD&&(r=new kD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CD&&(r=new CD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AD&&(r=new AD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PD&&(r=new PD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DD&&(r=new DD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof TD&&(r=new TD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xD&&(r=new xD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MD&&(r=new MD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof RD&&(r=new RD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ID&&(r=new ID(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof OD&&(r=new OD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ND&&(r=new ND(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LD&&(r=new LD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BD&&(r=new BD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $D&&(r=new $D(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof VD&&(r=new VD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FD&&(r=new FD(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof HD&&(r=new HD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qD&&(r=new qD(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof UD&&(r=new UD(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof GD&&(r=new GD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jD&&(r=new jD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof J_&&(r=new J_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof WD&&(r=new WD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zD&&(r=new zD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YD&&(r=new YD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KD&&(r=new KD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof m1&&(r=new m1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QD&&(r=new QD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JD&&(r=new JD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZD&&(r=new ZD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XD&&(r=new XD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eT&&(r=new eT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tT&&(r=new tT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iT&&(r=new iT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nT&&(r=new nT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sT&&(r=new sT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rT&&(r=new rT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aT&&(r=new aT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oT&&(r=new oT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lT&&(r=new lT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CT&&(r=new CT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cT&&(r=new cT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof X_&&(r=new X_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uT&&(r=new uT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hT&&(r=new hT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dT&&(r=new dT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fT&&(r=new fT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pT&&(r=new pT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gT&&(r=new gT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mT&&(r=new mT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vT&&(r=new vT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yT&&(r=new yT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _T&&(r=new _T(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bT&&(r=new bT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ST&&(r=new ST(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wT&&(r=new wT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ET&&(r=new ET(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kT&&(r=new kT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AT&&(r=new AT(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof PT&&(r=new PT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DT&&(r=new DT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof TT&&(r=new TT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xT&&(r=new xT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MT&&(r=new MT(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof RT&&(r=new RT(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof IT&&(r=new IT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof OT&&(r=new OT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof NT&&(r=new NT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LT&&(r=new LT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BT&&(r=new BT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $T&&(r=new $T(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof VT&&(r=new VT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FT&&(r=new FT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof HT&&(r=new HT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qT&&(r=new qT(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof UT&&(r=new UT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof GT&&(r=new GT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jT&&(r=new jT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof WT&&(r=new WT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zT&&(r=new zT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KT&&(r=new KT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QT&&(r=new QT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof D_&&(r=new D_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Sh&&(r=new Sh(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof P_&&(r=new P_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof z_&&(r=new z_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof x_&&(r=new x_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof E_&&(r=new E_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof y_&&(r=new y_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Z_&&(r=new Z_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Vp&&(r=new Vp(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof C_&&(r=new C_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tb&&(r=new tb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eb&&(r=new eb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _h&&(r=new _h(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $p&&(r=new $p(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ib&&(r=new ib(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ab&&(r=new ab(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ob&&(r=new ob(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lb&&(r=new lb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $_&&(r=new $_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Gp&&(r=new Gp(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hb&&(r=new hb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof db&&(r=new db(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nb&&(r=new nb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sb&&(r=new sb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rb&&(r=new rb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cb&&(r=new cb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aR&&(r=new aR(this.logService,this.abilityService,this,this.gameService,e.parent,i,s,0,b(e.level))),e instanceof oR&&(r=new oR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lR&&(r=new lR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cR&&(r=new cR(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof uR&&(r=new uR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hR&&(r=new hR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Y_&&(r=new Y_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JT&&(r=new JT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZT&&(r=new ZT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XT&&(r=new XT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof e1&&(r=new e1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof t1&&(r=new t1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof i1&&(r=new i1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof n1&&(r=new n1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof s1&&(r=new s1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof r1&&(r=new r1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof a1&&(r=new a1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof o1&&(r=new o1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof l1&&(r=new l1(this.logService,this.abilityService,this,this.gameService,e.parent,i,s,0,b(e.level))),e instanceof qp&&(r=new qp(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof c1&&(r=new c1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof u1&&(r=new u1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iP&&(r=new iP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof h1&&(r=new h1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof d1&&(r=new d1(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof f1&&(r=new f1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof p1&&(r=new p1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof OM&&(r=new OM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof NM&&(r=new NM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LM&&(r=new LM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BM&&(r=new BM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $M&&(r=new $M(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof VM&&(r=new VM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FM&&(r=new FM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof HM&&(r=new HM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qM&&(r=new qM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof UM&&(r=new UM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof GM&&(r=new GM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jM&&(r=new jM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof WM&&(r=new WM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zM&&(r=new zM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KM&&(r=new KM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QM&&(r=new QM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof YM&&(r=new YM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof JM&&(r=new JM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZM&&(r=new ZM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XM&&(r=new XM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof eR&&(r=new eR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tR&&(r=new tR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof V_&&(r=new V_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof F_&&(r=new F_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof U_&&(r=new U_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iR&&(r=new iR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nR&&(r=new nR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sR&&(r=new sR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lV&&(r=new lV(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof g1&&(r=new g1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rR&&(r=new rR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof w1&&(r=new w1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof k1&&(r=new k1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof C1&&(r=new C1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof A1&&(r=new A1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof P1&&(r=new P1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof D1&&(r=new D1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof T1&&(r=new T1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof x1&&(r=new x1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof M1&&(r=new M1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof R1&&(r=new R1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof I1&&(r=new I1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof E1&&(r=new E1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof O1&&(r=new O1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof N1&&(r=new N1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof L1&&(r=new L1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof B1&&(r=new B1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $1&&(r=new $1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof F1&&(r=new F1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof H1&&(r=new H1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof q1&&(r=new q1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof U1&&(r=new U1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof V1&&(r=new V1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof G1&&(r=new G1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof j1&&(r=new j1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof W1&&(r=new W1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof z1&&(r=new z1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof K1&&(r=new K1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Q1&&(r=new Q1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Y1&&(r=new Y1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof J1&&(r=new J1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Z1&&(r=new Z1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof X1&&(r=new X1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ex&&(r=new ex(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tx&&(r=new tx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ix&&(r=new ix(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nx&&(r=new nx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sx&&(r=new sx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rx&&(r=new rx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ax&&(r=new ax(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ox&&(r=new ox(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lx&&(r=new lx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cx&&(r=new cx(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof ux&&(r=new ux(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hx&&(r=new hx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dx&&(r=new dx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof G_&&(r=new G_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof px&&(r=new px(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gx&&(r=new gx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mx&&(r=new mx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vx&&(r=new vx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yx&&(r=new yx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _x&&(r=new _x(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fx&&(r=new fx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bx&&(r=new bx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Sx&&(r=new Sx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wx&&(r=new wx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Ex&&(r=new Ex(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kx&&(r=new kx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Cx&&(r=new Cx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Ax&&(r=new Ax(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Px&&(r=new Px(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Dx&&(r=new Dx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Tx&&(r=new Tx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xx&&(r=new xx(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof Mx&&(r=new Mx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Rx&&(r=new Rx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Ix&&(r=new Ix(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $x&&(r=new $x(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ub&&(r=new ub(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Ox&&(r=new Ox(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Nx&&(r=new Nx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Lx&&(r=new Lx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Bx&&(r=new Bx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Vx&&(r=new Vx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Fx&&(r=new Fx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Hx&&(r=new Hx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qx&&(r=new qx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Ux&&(r=new Ux(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Gx&&(r=new Gx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jx&&(r=new jx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zx&&(r=new zx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Kx&&(r=new Kx(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof Wx&&(r=new Wx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nM&&(r=new nM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sM&&(r=new sM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Qx&&(r=new Qx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Yx&&(r=new Yx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Jx&&(r=new Jx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Xx&&(r=new Xx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eM&&(r=new eM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Zx&&(r=new Zx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tM&&(r=new tM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof iM&&(r=new iM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rM&&(r=new rM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aM&&(r=new aM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof pM&&(r=new pM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oM&&(r=new oM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cM&&(r=new cM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof lM&&(r=new lM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uM&&(r=new uM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hM&&(r=new hM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fM&&(r=new fM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dM&&(r=new dM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gM&&(r=new gM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mM&&(r=new mM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vM&&(r=new vM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yM&&(r=new yM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _M&&(r=new _M(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bM&&(r=new bM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof SM&&(r=new SM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wM&&(r=new wM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kM&&(r=new kM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof EM&&(r=new EM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CM&&(r=new CM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AM&&(r=new AM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof PM&&(r=new PM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DM&&(r=new DM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Up&&(r=new Up(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof TM&&(r=new TM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xM&&(r=new xM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MM&&(r=new MM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof RM&&(r=new RM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof IM&&(r=new IM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),r}getRandomPet(e){let s,i=Rn(1,6);s="Turtle"==e.pack?this.turtlePackPets.get(i):"Puppy"==e.pack?this.puppyPackPets.get(i):"Star"==e.pack?this.starPackPets.get(i):"Golden"==e.pack?this.goldenPackPets.get(i):"Unicorn"==e.pack?this.unicornPackPets.get(i):"Danger"==e.pack?this.dangerPackPets.get(i):this.playerCustomPackPets.get(e.pack).get(i);let a=s[Rn(0,s.length-1)];return this.createPet({attack:null,equipment:null,exp:Rn(0,5),health:null,name:a,mana:null},e)}getRandomFaintPet(e,i){let s={1:["Ant","Cricket","Groundhog","Pied Tamarin"],2:["Rat","Hedgehog","Flamingo","Spider","Stork","Beluga Sturgeon","Squid","Black Necked Stilt","Frost Wolf","Mothman","Gargoyle","Bigfoot","Nightcrawler"],3:["Badger","Sheep","Anteater","Hoopoe Bird","Mole","Pangolin","Blobfish","Flea","Weasel","Osprey","Bear","Betta Fish","Skeleton Dog","Fur-Bearing Trout","Calygreyhound","Slime"],4:["Turtle","Deer","Microbe","Tahr","Chameleon","Cuttlefish","Vaquita","Slug","Chimera","Visitor"],5:["Rooster","Eagle","Fire Ant","Stonefish","Nyala","Nurse Shark","Wolf","Nessie","Pixiu","Kappa"],6:["Mammoth","Snapping Turtle","Lionfish","Warthog","Walrus","Phoenix","Sea Serpent","Hydra"]},r=[];r=i&&s[i]?s[i]:[].concat(...Object.values(s));let a=r[Rn(0,r.length-1)];return this.createPet({name:a,attack:null,equipment:null,exp:0,health:null,mana:null},e)}}return n.\u0275fac=function(e){return new(e||n)(H(H_),H(q_),H(wh))},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function b(n){return 1==n?0:2==n?2:5}function cK(n,t){if(1&n){const e=qr();p(0,"span",22),Ue("click",function(){return It(e),Ge().setExp(0)}),w(1,"x"),g()}}function uK(n,t){if(1&n&&(p(0,"option",9),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e),F(1),Ri(e)}}function hK(n,t){if(1&n&&(p(0,"option",25),w(1),g()),2&n){const e=t.$implicit,i=Ge(2);z("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),F(1),Ri(e)}}function dK(n,t){if(1&n&&(p(0,"optgroup",23),Te(1,hK,2,4,"option",24),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),F(1),z("ngForOf",e.value)}}function fK(n,t){if(1&n){const e=qr();p(0,"button",26),Ue("click",function(){return It(e),Ge().toggleFlyOut()}),w(1,">"),g()}}function pK(n,t){if(1&n&&(p(0,"option",25),w(1),g()),2&n){const e=t.$implicit,i=Ge(4);z("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),F(1),Ri(e)}}function gK(n,t){if(1&n&&(p(0,"optgroup",23),Te(1,pK,2,4,"option",24),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),F(1),z("ngForOf",e.value)}}function mK(n,t){if(1&n&&(p(0,"div"),p(1,"label",29),w(2,"Swallowed Pet"),g(),p(3,"select",30),p(4,"option",9),w(5,"None"),g(),Te(6,gK,2,2,"optgroup",12),Io(7,"keyvalue"),g(),g()),2&n){const e=Ge(2);F(4),z("ngValue",null),F(2),z("ngForOf",Oo(7,2,e.pets))}}function vK(n,t){if(1&n&&(p(0,"option",25),w(1),g()),2&n){const e=t.$implicit,i=Ge(5);z("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),F(1),Ri(e)}}function yK(n,t){if(1&n&&(p(0,"optgroup",23),Te(1,vK,2,4,"option",24),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),F(1),z("ngForOf",e.value)}}function _K(n,t){if(1&n&&(p(0,"div"),p(1,"label",32),w(2,"Swallowed Pet"),g(),p(3,"select",33),p(4,"option",9),w(5,"None"),g(),Te(6,yK,2,2,"optgroup",12),Io(7,"keyvalue"),g(),g()),2&n){const e=t.index,i=Ge(3);F(1),Xf("for","abominationSwallowedPet",e+1,""),F(2),Xf("formControlName","abominationSwallowedPet",e+1,""),F(1),z("ngValue",null),F(2),z("ngForOf",Oo(7,4,i.pets))}}const bK=function(){return[]};function SK(n,t){if(1&n&&(p(0,"div"),Te(1,_K,8,6,"div",31),g()),2&n){const e=Ge(2);F(1),z("ngForOf",function(n,t,e){const i=qi()+n,s=K();return s[i]===me?Hr(s,i,e?t.call(e):t()):function(n,t){return n[t]}(s,i)}(1,bK).constructor(e.pet.level))}}function wK(n,t){1&n&&(p(0,"div"),p(1,"label",34),w(2,"Battles Fought"),g(),ie(3,"input",35),g())}function EK(n,t){1&n&&(p(0,"div"),p(1,"label",36),w(2,"Times Hurt"),g(),ie(3,"input",37),g())}function kK(n,t){1&n&&(p(0,"div"),p(1,"label",36),w(2,"Times Hurt"),g(),ie(3,"input",37),g())}function CK(n,t){if(1&n&&(p(0,"div",27),Te(1,mK,8,4,"div",28),Te(2,SK,2,2,"div",28),Te(3,wK,4,0,"div",28),Te(4,EK,4,0,"div",28),Te(5,kK,4,0,"div",28),g()),2&n){const e=Ge();F(1),z("ngIf","Beluga Whale"==e.pet.name),F(1),z("ngIf","Abomination"==e.pet.name),F(1),z("ngIf","Slime"==e.pet.name),F(1),z("ngIf","Sabertooth Tiger"==e.pet.name),F(1),z("ngIf","Tuna"==e.pet.name)}}function AK(n,t){if(1&n&&(p(0,"option",9),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e.value),F(1),Ri(e.key)}}function PK(n,t){if(1&n&&(p(0,"option",9),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e.value),F(1),Ri(e.key)}}function DK(n,t){if(1&n&&(p(0,"optgroup",38),Te(1,PK,2,2,"option",11),Io(2,"keyvalue"),g()),2&n){const e=Ge();F(1),z("ngForOf",Oo(2,1,e.ailmentEquipment))}}function TK(n,t){1&n&&(p(0,"div",39),ie(1,"input",40),g())}let cV=(()=>{class n{constructor(e,i){this.petService=e,this.equipmentService=i,this.showFlyOut=!1,this.attackHealthMax=50,this.showTokenPets=!1,this.tokenPets=["Bee","Bus","Chick","Dirty Rat","Lizard Tail","Ram","Smaller Slug","Smallest Slug","Zombie Cricket","Zombie Fly","Chim-Goat","Chim-Lion","Chim-Snake","Daycrawler","Head","Monty","Nessie?","Smaller Slime","Young Phoenix","Good Dog"]}ngOnInit(){var e;this.initSelector(),this.fixLoadEquipment(),"Behemoth"==(null===(e=this.pet)||void 0===e?void 0:e.name)&&(this.attackHealthMax=100)}initSelector(){this.initPets(),this.initEquipment(),this.initForm()}initPets(){this.pets=new Map;for(let e=1;e<=6;e++)this.pets.set(e,[]);for(let[e,i]of this.petService.turtlePackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.puppyPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.starPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.goldenPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.unicornPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.dangerPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.customPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.pets)this.pets.set(e,[...new Set(i)]);this.initStartOfBattlePets(),console.log("pets",this.pets)}initStartOfBattlePets(){this.startOfBattlePets=new Map;for(let e=1;e<=6;e++){let i=[];for(let s of this.pets.get(e))this.petService.startOfBattlePets.includes(s)&&i.push(s);this.startOfBattlePets.set(e,i)}}getPack(e){let i;if("Turtle"==e.pack)i=this.petService.turtlePackPets;else if("Puppy"==e.pack)i=this.petService.puppyPackPets;else if("Star"==e.pack)i=this.petService.starPackPets;else if("Golden"==e.pack)i=this.petService.goldenPackPets;else if("Unicorn"==e.pack)i=this.petService.unicornPackPets;else if("Danger"==e.pack)i=this.petService.dangerPackPets;else try{i=this.buildCustomPack(e.pack)}catch(s){i=this.petService.turtlePackPets}return(0,vt.cloneDeep)(i)}buildCustomPack(e){let i;for(let r of this.customPacks.controls)if(r.get("name").value==e){i=r;break}let s=new Map;for(let r=1;r<=6;r++)s.set(r,i.get(`tier${r}Pets`).value);return s}initEquipment(){this.equipment=this.equipmentService.getInstanceOfAllEquipment(),this.ailmentEquipment=this.equipmentService.getInstanceOfAllAilments()}initForm(){this.formGroup.get("name").valueChanges.subscribe(e=>{null!=e?this.substitutePet(!0):this.removePet()}),this.formGroup.get("attack").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("health").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("exp").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("equipment").valueChanges.subscribe(e=>{if(null!=e&&null==e.reset){let i=this.equipment.get(e.name);null==i&&(i=this.ailmentEquipment.get(e.name)),this.formGroup.get("equipment").setValue(i,{emitEvent:!1})}this.substitutePet(!1)}),this.formGroup.get("belugaSwallowedPet").valueChanges.subscribe(e=>{this.setBelugaSwallow(e)}),this.formGroup.get("abominationSwallowedPet1").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("abominationSwallowedPet2").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("abominationSwallowedPet3").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("mana").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("battlesFought").valueChanges.subscribe(e=>{this.setBattlesFought(e)}),this.formGroup.get("timesHurt").valueChanges.subscribe(e=>{this.setTimesHurt(e)})}setExp(e){this.formGroup.get("exp").setValue(e)}getIsSelected(e){return this.formGroup.get("exp").value>=e}showRemoveExp(){return this.formGroup.get("exp").value>0}substitutePet(e=!1){setTimeout(()=>{var i;let s=this.formGroup.value;e&&(s.attack=null,s.health=null,s.mana=null);let r=s.equipment;null!=r&&(s.equipment=null!==(i=this.equipment.get(r.name))&&void 0!==i?i:this.ailmentEquipment.get(r.name));let a=this.petService.createPet(s,this.player);this.player.setPet(this.index,a,!0),e&&(this.formGroup.get("attack").setValue(a.attack,{emitEvent:!1}),this.formGroup.get("health").setValue(a.health,{emitEvent:!1}),this.formGroup.get("mana").setValue(a.mana,{emitEvent:!1})),this.attackHealthMax="Behemoth"==this.formGroup.get("name").value?100:50})}setBelugaSwallow(e){let i=this.player.getPet(this.index);null!=i&&(i.belugaSwallowedPet=e)}setSwallowedPets(e){let i=this.player.getPet(this.index);if(null==i)return;let s=[];null!=this.formGroup.get("abominationSwallowedPet1").value&&s.push(this.formGroup.get("abominationSwallowedPet1").value),null!=this.formGroup.get("abominationSwallowedPet2").value&&s.push(this.formGroup.get("abominationSwallowedPet2").value),null!=this.formGroup.get("abominationSwallowedPet3").value&&s.push(this.formGroup.get("abominationSwallowedPet3").value),console.log(s),i.abominationSwallowedPet1=s[0],i.abominationSwallowedPet2=s[1],i.abominationSwallowedPet3=s[2]}setBattlesFought(e){let i=this.player.getPet(this.index);null!=i&&(i.battlesFought=e)}setTimesHurt(e){let i=this.player.getPet(this.index);null!=i&&(i.timesHurt=e,this.substitutePet(!1))}showFlyOutButton(){return["Beluga Whale","Abomination","Slime","Sabertooth Tiger","Tuna"].includes(this.formGroup.get("name").value)}toggleFlyOut(){this.showFlyOut=!this.showFlyOut}removePet(){this.player.setPet(this.index,null,!0),this.formGroup.get("name").setValue(null,{emitEvent:!1}),this.formGroup.get("attack").setValue(0,{emitEvent:!1}),this.formGroup.get("health").setValue(0,{emitEvent:!1}),this.formGroup.get("exp").setValue(0,{emitEvent:!1}),this.formGroup.get("equipment").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(0,{emitEvent:!1})}optionHidden(e){var i;if(this.allPets)return!1;let s=this.getPack(this.player);for(let[r,a]of s)if(a.includes(e))return!1;if(this.angler){let r=this.getPack(this.opponent);for(let[a,o]of r)if(o.includes(e))return!1}return(null===(i=this.player.getPet(this.index))||void 0===i?void 0:i.name)!=e}fixLoadEquipment(){let e=this.formGroup.get("equipment").value;if(null==e)return;let i=this.equipment.get(e.name);null==i&&(i=this.ailmentEquipment.get(e.name)),this.formGroup.get("equipment").setValue(i)}}return n.\u0275fac=function(e){return new(e||n)($(fb),$(Li))},n.\u0275cmp=Bn({type:n,selectors:[["app-pet-selector"]],inputs:{pet:"pet",player:"player",opponent:"opponent",index:"index",angler:"angler",ailments:"ailments",allPets:"allPets",mana:"mana",formGroup:"formGroup",customPacks:"customPacks",showTokenPets:"showTokenPets"},decls:40,vars:28,consts:[[1,"card","p-3"],[1,"row","form-group",3,"formGroup"],[1,"col-12","d-flex","level-bar-numbers","mb-1"],[1,"level-3"],[1,"col-12","d-flex","level-bar","mb-2"],["class","remove-exp",3,"click",4,"ngIf"],[3,"click"],[1,"col-12","mb-2","d-flex"],["formControlName","name",1,"form-control"],[3,"ngValue"],["label","Token Pets",3,"hidden"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"label",4,"ngFor","ngForOf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","fly-out border p-3",4,"ngIf"],[1,"col-12","mb-2"],["formControlName","equipment",1,"form-control"],["label","Ailments",4,"ngIf"],["class","col-12 d-flex justify-content-center",4,"ngIf"],[1,"col-6"],["formControlName","attack","type","number","min","1",1,"form-control","select-attack",3,"max"],["formControlName","health","type","number","min","1",1,"form-control","select-health",3,"max"],[1,"remove-exp",3,"click"],[3,"label"],[3,"ngValue","hidden","disabled",4,"ngFor","ngForOf"],[3,"ngValue","hidden","disabled"],[1,"btn","btn-secondary",3,"click"],[1,"fly-out","border","p-3"],[4,"ngIf"],["for","belugaSwallowedPet"],["formControlName","belugaSwallowedPet",1,"form-control"],[4,"ngFor","ngForOf"],[3,"for"],[1,"form-control",3,"formControlName"],["for","battlesFought"],["formControlName","battlesFought","type","number","max","99",1,"form-control"],["for","timesHurt"],["formControlName","timesHurt","type","number","min","0","max","99",1,"form-control"],["label","Ailments"],[1,"col-12","d-flex","justify-content-center"],["formControlName","mana","type","number","min","0","max","100",1,"form-control","select-mana"]],template:function(e,i){1&e&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"span"),w(4,"1"),g(),ie(5,"span"),p(6,"span"),w(7,"2"),g(),ie(8,"span"),p(9,"span",3),w(10,"3"),g(),g(),p(11,"div",4),Te(12,cK,2,0,"span",5),p(13,"span",6),Ue("click",function(){return i.setExp(1)}),g(),p(14,"span",6),Ue("click",function(){return i.setExp(2)}),g(),p(15,"span",6),Ue("click",function(){return i.setExp(3)}),g(),p(16,"span",6),Ue("click",function(){return i.setExp(4)}),g(),p(17,"span",6),Ue("click",function(){return i.setExp(5)}),g(),g(),p(18,"div",7),p(19,"select",8),p(20,"option",9),w(21,"None"),g(),p(22,"optgroup",10),Te(23,uK,2,2,"option",11),g(),Te(24,dK,2,2,"optgroup",12),Io(25,"keyvalue"),g(),Te(26,fK,2,0,"button",13),Te(27,CK,6,5,"div",14),g(),p(28,"div",15),p(29,"select",16),p(30,"option",9),w(31,"None"),g(),Te(32,AK,2,2,"option",11),Io(33,"keyvalue"),Te(34,DK,3,3,"optgroup",17),g(),g(),Te(35,TK,2,0,"div",18),p(36,"div",19),ie(37,"input",20),g(),p(38,"div",19),ie(39,"input",21),g(),g(),g()),2&e&&(F(1),z("formGroup",i.formGroup),F(11),z("ngIf",i.showRemoveExp()),F(1),Os(i.getIsSelected(1)?"selected":""),F(1),Os(i.getIsSelected(2)?"selected":""),F(1),Os(i.getIsSelected(3)?"selected":""),F(1),Os(i.getIsSelected(4)?"selected":""),F(1),Os(i.getIsSelected(5)?"selected":""),F(3),z("ngValue",null),F(2),z("hidden",!i.showTokenPets),F(1),z("ngForOf",i.tokenPets),F(1),z("ngForOf",Oo(25,24,i.pets)),F(2),z("ngIf",i.showFlyOutButton()),F(1),z("ngIf",i.showFlyOut),F(3),z("ngValue",null),F(2),z("ngForOf",Oo(33,26,i.equipment)),F(2),z("ngIf",i.ailments),F(1),z("ngIf",i.mana),F(2),z("max",i.attackHealthMax),F(2),z("max",i.attackHealthMax))},directives:[hc,qa,gh,Np,uc,qo,dC,pC,Pp,Ha,u_,gC,h_],pipes:[O0],styles:[".select-attack[_ngcontent-%COMP%]{background-color:gray;color:#fff}.select-health[_ngcontent-%COMP%]{background-color:#ca0202;color:#fff}.select-mana[_ngcontent-%COMP%]{background-color:#7388f8;color:#fff;width:45%}.select-attack[_ngcontent-%COMP%], .select-health[_ngcontent-%COMP%], .select-mana[_ngcontent-%COMP%]{font-size:1.5em;padding-right:0}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% / 5);height:100%}.level-bar[_ngcontent-%COMP%]{position:relative}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:initial;border-radius:initial;width:initial;position:absolute;left:0;bottom:.33em}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.level-3[_ngcontent-%COMP%]{text-align:right}.fly-out[_ngcontent-%COMP%]{position:absolute;left:100%;background-color:#fff;width:100%;z-index:1;box-shadow:12px 4px 9px 7px #0000001a}"]}),n})();var In="top",hs="bottom",ds="right",On="left",pb="auto",Eh=[In,hs,ds,On],gc="start",kh="end",uV="clippingParents",dR="viewport",Ch="popper",hV="reference",fR=Eh.reduce(function(n,t){return n.concat([t+"-"+gc,t+"-"+kh])},[]),pR=[].concat(Eh,[pb]).reduce(function(n,t){return n.concat([t,t+"-"+gc,t+"-"+kh])},[]),dV="beforeRead",fV="read",pV="afterRead",gV="beforeMain",mV="main",vV="afterMain",yV="beforeWrite",_V="write",bV="afterWrite",SV=[dV,fV,pV,gV,mV,vV,yV,_V,bV];function zr(n){return n?(n.nodeName||"").toLowerCase():null}function fs(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function mc(n){return n instanceof fs(n).Element||n instanceof Element}function Hs(n){return n instanceof fs(n).HTMLElement||n instanceof HTMLElement}function gR(n){return"undefined"!=typeof ShadowRoot&&(n instanceof fs(n).ShadowRoot||n instanceof ShadowRoot)}const mR={name:"applyStyles",enabled:!0,phase:"write",fn:function(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},s=t.attributes[e]||{},r=t.elements[e];!Hs(r)||!zr(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(a){var o=s[a];!1===o?r.removeAttribute(a):r.setAttribute(a,!0===o?"":o)}))})},effect:function(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var s=t.elements[i],r=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]).reduce(function(l,h){return l[h]="",l},{});!Hs(s)||!zr(s)||(Object.assign(s.style,o),Object.keys(r).forEach(function(l){s.removeAttribute(l)}))})}},requires:["computeStyles"]};function Kr(n){return n.split("-")[0]}var vc=Math.max,gb=Math.min,Ah=Math.round;function vR(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function wV(){return!/^((?!chrome|android).)*safari/i.test(vR())}function Ph(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=n.getBoundingClientRect(),s=1,r=1;t&&Hs(n)&&(s=n.offsetWidth>0&&Ah(i.width)/n.offsetWidth||1,r=n.offsetHeight>0&&Ah(i.height)/n.offsetHeight||1);var o=(mc(n)?fs(n):window).visualViewport,l=!wV()&&e,h=(i.left+(l&&o?o.offsetLeft:0))/s,d=(i.top+(l&&o?o.offsetTop:0))/r,m=i.width/s,y=i.height/r;return{width:m,height:y,top:d,right:h+m,bottom:d+y,left:h,x:h,y:d}}function yR(n){var t=Ph(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function EV(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&gR(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ja(n){return fs(n).getComputedStyle(n)}function RK(n){return["table","td","th"].indexOf(zr(n))>=0}function Uo(n){return((mc(n)?n.ownerDocument:n.document)||window.document).documentElement}function mb(n){return"html"===zr(n)?n:n.assignedSlot||n.parentNode||(gR(n)?n.host:null)||Uo(n)}function kV(n){return Hs(n)&&"fixed"!==ja(n).position?n.offsetParent:null}function jp(n){for(var t=fs(n),e=kV(n);e&&RK(e)&&"static"===ja(e).position;)e=kV(e);return e&&("html"===zr(e)||"body"===zr(e)&&"static"===ja(e).position)?t:e||function(n){var t=/firefox/i.test(vR());if(/Trident/i.test(vR())&&Hs(n)&&"fixed"===ja(n).position)return null;var s=mb(n);for(gR(s)&&(s=s.host);Hs(s)&&["html","body"].indexOf(zr(s))<0;){var r=ja(s);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return s;s=s.parentNode}return null}(n)||t}function _R(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Wp(n,t,e){return vc(n,gb(t,e))}function AV(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function PV(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}const DV={name:"arrow",enabled:!0,phase:"main",fn:function(n){var t,e=n.state,i=n.name,s=n.options,r=e.elements.arrow,a=e.modifiersData.popperOffsets,o=Kr(e.placement),l=_R(o),d=[On,ds].indexOf(o)>=0?"height":"width";if(r&&a){var m=function(t,e){return AV("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:PV(t,Eh))}(s.padding,e),y=yR(r),S="y"===l?In:On,k="y"===l?hs:ds,T=e.rects.reference[d]+e.rects.reference[l]-a[l]-e.rects.popper[d],D=a[l]-e.rects.reference[l],N=jp(r),I=N?"y"===l?N.clientHeight||0:N.clientWidth||0:0,Y=I/2-y[d]/2+(T/2-D/2),oe=Wp(m[S],Y,I-y[d]-m[k]);e.modifiersData[i]=((t={})[l]=oe,t.centerOffset=oe-Y,t)}},effect:function(n){var t=n.state,i=n.options.element,s=void 0===i?"[data-popper-arrow]":i;null!=s&&("string"==typeof s&&!(s=t.elements.popper.querySelector(s))||!EV(t.elements.popper,s)||(t.elements.arrow=s))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Dh(n){return n.split("-")[1]}var $K={top:"auto",right:"auto",bottom:"auto",left:"auto"};function TV(n){var t,e=n.popper,i=n.popperRect,s=n.placement,r=n.variation,a=n.offsets,o=n.position,l=n.gpuAcceleration,h=n.adaptive,d=n.roundOffsets,m=n.isFixed,y=a.x,S=void 0===y?0:y,k=a.y,T=void 0===k?0:k,D="function"==typeof d?d({x:S,y:T}):{x:S,y:T};S=D.x,T=D.y;var N=a.hasOwnProperty("x"),I=a.hasOwnProperty("y"),U=On,O=In,G=window;if(h){var Y=jp(e),oe="clientHeight",pe="clientWidth";Y===fs(e)&&"static"!==ja(Y=Uo(e)).position&&"absolute"===o&&(oe="scrollHeight",pe="scrollWidth"),(s===In||(s===On||s===ds)&&r===kh)&&(O=hs,T-=(m&&Y===G&&G.visualViewport?G.visualViewport.height:Y[oe])-i.height,T*=l?1:-1),s!==On&&(s!==In&&s!==hs||r!==kh)||(U=ds,S-=(m&&Y===G&&G.visualViewport?G.visualViewport.width:Y[pe])-i.width,S*=l?1:-1)}var st,ct=Object.assign({position:o},h&&$K),Je=!0===d?function(n,t){var i=n.y,s=t.devicePixelRatio||1;return{x:Ah(n.x*s)/s||0,y:Ah(i*s)/s||0}}({x:S,y:T},fs(e)):{x:S,y:T};return S=Je.x,T=Je.y,Object.assign({},ct,l?((st={})[O]=I?"0":"",st[U]=N?"0":"",st.transform=(G.devicePixelRatio||1)<=1?"translate("+S+"px, "+T+"px)":"translate3d("+S+"px, "+T+"px, 0)",st):((t={})[O]=I?T+"px":"",t[U]=N?S+"px":"",t.transform="",t))}const bR={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(n){var t=n.state,e=n.options,i=e.gpuAcceleration,s=void 0===i||i,r=e.adaptive,a=void 0===r||r,o=e.roundOffsets,l=void 0===o||o,h={placement:Kr(t.placement),variation:Dh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,TV(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,TV(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var vb={passive:!0};const SR={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(n){var t=n.state,e=n.instance,i=n.options,s=i.scroll,r=void 0===s||s,a=i.resize,o=void 0===a||a,l=fs(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&h.forEach(function(d){d.addEventListener("scroll",e.update,vb)}),o&&l.addEventListener("resize",e.update,vb),function(){r&&h.forEach(function(d){d.removeEventListener("scroll",e.update,vb)}),o&&l.removeEventListener("resize",e.update,vb)}},data:{}};var qK={left:"right",right:"left",bottom:"top",top:"bottom"};function yb(n){return n.replace(/left|right|bottom|top/g,function(t){return qK[t]})}var UK={start:"end",end:"start"};function xV(n){return n.replace(/start|end/g,function(t){return UK[t]})}function wR(n){var t=fs(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ER(n){return Ph(Uo(n)).left+wR(n).scrollLeft}function kR(n){var t=ja(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function MV(n){return["html","body","#document"].indexOf(zr(n))>=0?n.ownerDocument.body:Hs(n)&&kR(n)?n:MV(mb(n))}function zp(n,t){var e;void 0===t&&(t=[]);var i=MV(n),s=i===(null==(e=n.ownerDocument)?void 0:e.body),r=fs(i),a=s?[r].concat(r.visualViewport||[],kR(i)?i:[]):i,o=t.concat(a);return s?o:o.concat(zp(mb(a)))}function CR(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function RV(n,t,e){return t===dR?CR(function(n,t){var e=fs(n),i=Uo(n),s=e.visualViewport,r=i.clientWidth,a=i.clientHeight,o=0,l=0;if(s){r=s.width,a=s.height;var h=wV();(h||!h&&"fixed"===t)&&(o=s.offsetLeft,l=s.offsetTop)}return{width:r,height:a,x:o+ER(n),y:l}}(n,e)):mc(t)?function(n,t){var e=Ph(n,!1,"fixed"===t);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(t,e):CR(function(n){var t,e=Uo(n),i=wR(n),s=null==(t=n.ownerDocument)?void 0:t.body,r=vc(e.scrollWidth,e.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=vc(e.scrollHeight,e.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),o=-i.scrollLeft+ER(n),l=-i.scrollTop;return"rtl"===ja(s||e).direction&&(o+=vc(e.clientWidth,s?s.clientWidth:0)-r),{width:r,height:a,x:o,y:l}}(Uo(n)))}function IV(n){var l,t=n.reference,e=n.element,i=n.placement,s=i?Kr(i):null,r=i?Dh(i):null,a=t.x+t.width/2-e.width/2,o=t.y+t.height/2-e.height/2;switch(s){case In:l={x:a,y:t.y-e.height};break;case hs:l={x:a,y:t.y+t.height};break;case ds:l={x:t.x+t.width,y:o};break;case On:l={x:t.x-e.width,y:o};break;default:l={x:t.x,y:t.y}}var h=s?_R(s):null;if(null!=h){var d="y"===h?"height":"width";switch(r){case gc:l[h]=l[h]-(t[d]/2-e[d]/2);break;case kh:l[h]=l[h]+(t[d]/2-e[d]/2)}}return l}function Th(n,t){void 0===t&&(t={});var i=t.placement,s=void 0===i?n.placement:i,r=t.strategy,a=void 0===r?n.strategy:r,o=t.boundary,l=void 0===o?uV:o,h=t.rootBoundary,d=void 0===h?dR:h,m=t.elementContext,y=void 0===m?Ch:m,S=t.altBoundary,k=void 0!==S&&S,T=t.padding,D=void 0===T?0:T,N=AV("number"!=typeof D?D:PV(D,Eh)),U=n.rects.popper,O=n.elements[k?y===Ch?hV:Ch:y],G=function(n,t,e,i){var s="clippingParents"===t?function(n){var t=zp(mb(n)),i=["absolute","fixed"].indexOf(ja(n).position)>=0&&Hs(n)?jp(n):n;return mc(i)?t.filter(function(s){return mc(s)&&EV(s,i)&&"body"!==zr(s)}):[]}(n):[].concat(t),r=[].concat(s,[e]),o=r.reduce(function(l,h){var d=RV(n,h,i);return l.top=vc(d.top,l.top),l.right=gb(d.right,l.right),l.bottom=gb(d.bottom,l.bottom),l.left=vc(d.left,l.left),l},RV(n,r[0],i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}(mc(O)?O:O.contextElement||Uo(n.elements.popper),l,d,a),Y=Ph(n.elements.reference),oe=IV({reference:Y,element:U,strategy:"absolute",placement:s}),pe=CR(Object.assign({},U,oe)),ve=y===Ch?pe:Y,Oe={top:G.top-ve.top+N.top,bottom:ve.bottom-G.bottom+N.bottom,left:G.left-ve.left+N.left,right:ve.right-G.right+N.right},ct=n.modifiersData.offset;if(y===Ch&&ct){var Je=ct[s];Object.keys(Oe).forEach(function(st){var ui=[ds,hs].indexOf(st)>=0?1:-1,hi=[In,hs].indexOf(st)>=0?"y":"x";Oe[st]+=Je[hi]*ui})}return Oe}const OV={name:"flip",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var s=e.mainAxis,r=void 0===s||s,a=e.altAxis,o=void 0===a||a,l=e.fallbackPlacements,h=e.padding,d=e.boundary,m=e.rootBoundary,y=e.altBoundary,S=e.flipVariations,k=void 0===S||S,T=e.allowedAutoPlacements,D=t.options.placement,N=Kr(D),U=l||(N!==D&&k?function(n){if(Kr(n)===pb)return[];var t=yb(n);return[xV(n),t,xV(t)]}(D):[yb(D)]),O=[D].concat(U).reduce(function(gt,ms){return gt.concat(Kr(ms)===pb?function(n,t){void 0===t&&(t={});var s=t.boundary,r=t.rootBoundary,a=t.padding,o=t.flipVariations,l=t.allowedAutoPlacements,h=void 0===l?pR:l,d=Dh(t.placement),m=d?o?fR:fR.filter(function(k){return Dh(k)===d}):Eh,y=m.filter(function(k){return h.indexOf(k)>=0});0===y.length&&(y=m);var S=y.reduce(function(k,T){return k[T]=Th(n,{placement:T,boundary:s,rootBoundary:r,padding:a})[Kr(T)],k},{});return Object.keys(S).sort(function(k,T){return S[k]-S[T]})}(t,{placement:ms,boundary:d,rootBoundary:m,padding:h,flipVariations:k,allowedAutoPlacements:T}):ms)},[]),G=t.rects.reference,Y=t.rects.popper,oe=new Map,pe=!0,ve=O[0],Oe=0;Oe<O.length;Oe++){var ct=O[Oe],Je=Kr(ct),st=Dh(ct)===gc,ui=[In,hs].indexOf(Je)>=0,hi=ui?"width":"height",X=Th(t,{placement:ct,boundary:d,rootBoundary:m,altBoundary:y,padding:h}),re=ui?st?ds:On:st?hs:In;G[hi]>Y[hi]&&(re=yb(re));var ye=yb(re),Ne=[];if(r&&Ne.push(X[Je]<=0),o&&Ne.push(X[re]<=0,X[ye]<=0),Ne.every(function(gt){return gt})){ve=ct,pe=!1;break}oe.set(ct,Ne)}if(pe)for(var Ki=function(ms){var Ci=O.find(function(vs){var Nn=oe.get(vs);if(Nn)return Nn.slice(0,ms).every(function(Jn){return Jn})});if(Ci)return ve=Ci,"break"},si=k?3:1;si>0&&"break"!==Ki(si);si--);t.placement!==ve&&(t.modifiersData[i]._skip=!0,t.placement=ve,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function NV(n,t,e){return void 0===e&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function LV(n){return[In,ds,hs,On].some(function(t){return n[t]>=0})}const BV={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(n){var t=n.state,e=n.name,i=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,a=Th(t,{elementContext:"reference"}),o=Th(t,{altBoundary:!0}),l=NV(a,i),h=NV(o,s,r),d=LV(l),m=LV(h);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:d,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":m})}},$V={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(n){var t=n.state,i=n.name,s=n.options.offset,r=void 0===s?[0,0]:s,a=pR.reduce(function(d,m){return d[m]=function(n,t,e){var i=Kr(n),s=[On,In].indexOf(i)>=0?-1:1,r="function"==typeof e?e(Object.assign({},t,{placement:n})):e,a=r[0],o=r[1];return a=a||0,o=(o||0)*s,[On,ds].indexOf(i)>=0?{x:o,y:a}:{x:a,y:o}}(m,t.rects,r),d},{}),o=a[t.placement],h=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=o.x,t.modifiersData.popperOffsets.y+=h),t.modifiersData[i]=a}},AR={name:"popperOffsets",enabled:!0,phase:"read",fn:function(n){var t=n.state;t.modifiersData[n.name]=IV({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},VV={name:"preventOverflow",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name,s=e.mainAxis,r=void 0===s||s,a=e.altAxis,o=void 0!==a&&a,y=e.tether,S=void 0===y||y,k=e.tetherOffset,T=void 0===k?0:k,D=Th(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),N=Kr(t.placement),I=Dh(t.placement),U=!I,O=_R(N),G=function(n){return"x"===n?"y":"x"}(O),Y=t.modifiersData.popperOffsets,oe=t.rects.reference,pe=t.rects.popper,ve="function"==typeof T?T(Object.assign({},t.rects,{placement:t.placement})):T,Oe="number"==typeof ve?{mainAxis:ve,altAxis:ve}:Object.assign({mainAxis:0,altAxis:0},ve),ct=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Je={x:0,y:0};if(Y){if(r){var st,ui="y"===O?In:On,hi="y"===O?hs:ds,X="y"===O?"height":"width",re=Y[O],ye=re+D[ui],Ne=re-D[hi],$t=S?-pe[X]/2:0,Ki=I===gc?oe[X]:pe[X],si=I===gc?-pe[X]:-oe[X],hn=t.elements.arrow,gt=S&&hn?yR(hn):{width:0,height:0},ms=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ci=ms[ui],vs=ms[hi],Nn=Wp(0,oe[X],gt[X]),Jn=U?oe[X]/2-$t-Nn-Ci-Oe.mainAxis:Ki-Nn-Ci-Oe.mainAxis,tl=U?-oe[X]/2+$t+Nn+vs+Oe.mainAxis:si+Nn+vs+Oe.mainAxis,jh=t.elements.arrow&&jp(t.elements.arrow),fg=null!=(st=null==ct?void 0:ct[O])?st:0,pS=re+tl-fg,pg=Wp(S?gb(ye,re+Jn-fg-(jh?"y"===O?jh.clientTop||0:jh.clientLeft||0:0)):ye,re,S?vc(Ne,pS):Ne);Y[O]=pg,Je[O]=pg-re}if(o){var gg,Xr=Y[G],xc="y"===G?"height":"width",mg=Xr+D["x"===O?In:On],vg=Xr-D["x"===O?hs:ds],Wh=-1!==[In,On].indexOf(N),yg=null!=(gg=null==ct?void 0:ct[G])?gg:0,_g=Wh?mg:Xr-oe[xc]-pe[xc]-yg+Oe.altAxis,bg=Wh?Xr+oe[xc]+pe[xc]-yg-Oe.altAxis:vg,Sg=S&&Wh?function(n,t,e){var i=Wp(n,t,e);return i>e?e:i}(_g,Xr,bg):Wp(S?_g:mg,Xr,S?bg:vg);Y[G]=Sg,Je[G]=Sg-Xr}t.modifiersData[i]=Je}},requiresIfExists:["offset"]};function oQ(n,t,e){void 0===e&&(e=!1);var i=Hs(t),s=Hs(t)&&function(n){var t=n.getBoundingClientRect(),e=Ah(t.width)/n.offsetWidth||1,i=Ah(t.height)/n.offsetHeight||1;return 1!==e||1!==i}(t),r=Uo(t),a=Ph(n,s,e),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!e)&&(("body"!==zr(t)||kR(r))&&(o=function(n){return n!==fs(n)&&Hs(n)?function(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):wR(n)}(t)),Hs(t)?((l=Ph(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=ER(r))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function lQ(n){var t=new Map,e=new Set,i=[];function s(r){e.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach(function(o){if(!e.has(o)){var l=t.get(o);l&&s(l)}}),i.push(r)}return n.forEach(function(r){t.set(r.name,r)}),n.forEach(function(r){e.has(r.name)||s(r)}),i}function uQ(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var FV={placement:"bottom",modifiers:[],strategy:"absolute"};function HV(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function _b(n){void 0===n&&(n={});var e=n.defaultModifiers,i=void 0===e?[]:e,s=n.defaultOptions,r=void 0===s?FV:s;return function(o,l,h){void 0===h&&(h=r);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},FV,r),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},m=[],y=!1,S={state:d,setOptions:function(N){var I="function"==typeof N?N(d.options):N;T(),d.options=Object.assign({},r,d.options,I),d.scrollParents={reference:mc(o)?zp(o):o.contextElement?zp(o.contextElement):[],popper:zp(l)};var U=function(n){var t=lQ(n);return SV.reduce(function(e,i){return e.concat(t.filter(function(s){return s.phase===i}))},[])}(function(n){var t=n.reduce(function(e,i){var s=e[i.name];return e[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,d.options.modifiers)));return d.orderedModifiers=U.filter(function(O){return O.enabled}),d.orderedModifiers.forEach(function(D){var I=D.options,O=D.effect;if("function"==typeof O){var G=O({state:d,name:D.name,instance:S,options:void 0===I?{}:I});m.push(G||function(){})}}),S.update()},forceUpdate:function(){if(!y){var N=d.elements,I=N.reference,U=N.popper;if(HV(I,U)){d.rects={reference:oQ(I,jp(U),"fixed"===d.options.strategy),popper:yR(U)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(Oe){return d.modifiersData[Oe.name]=Object.assign({},Oe.data)});for(var O=0;O<d.orderedModifiers.length;O++)if(!0!==d.reset){var G=d.orderedModifiers[O],Y=G.fn,oe=G.options;"function"==typeof Y&&(d=Y({state:d,options:void 0===oe?{}:oe,name:G.name,instance:S})||d)}else d.reset=!1,O=-1}}},update:uQ(function(){return new Promise(function(D){S.forceUpdate(),D(d)})}),destroy:function(){T(),y=!0}};if(!HV(o,l))return S;function T(){m.forEach(function(D){return D()}),m=[]}return S.setOptions(h).then(function(D){!y&&h.onFirstUpdate&&h.onFirstUpdate(D)}),S}}var dQ=_b(),PR=_b({defaultModifiers:[SR,AR,bR,mR,$V,OV,VV,DV,BV]}),gQ=_b({defaultModifiers:[SR,AR,bR,mR]});const Go=new Map,DR={set(n,t,e){Go.has(n)||Go.set(n,new Map);const i=Go.get(n);i.has(t)||0===i.size?i.set(t,e):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(n,t)=>Go.has(n)&&Go.get(n).get(t)||null,remove(n,t){if(!Go.has(n))return;const e=Go.get(n);e.delete(t),0===e.size&&Go.delete(n)}},TR="transitionend",qV=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),n),yQ=n=>null==n?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),UV=n=>{n.dispatchEvent(new Event(TR))},Wa=n=>!(!n||"object"!=typeof n)&&(void 0!==n.jquery&&(n=n[0]),void 0!==n.nodeType),jo=n=>Wa(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(qV(n)):null,xh=n=>{if(!Wa(n)||0===n.getClientRects().length)return!1;const t="visible"===getComputedStyle(n).getPropertyValue("visibility"),e=n.closest("details:not([open])");if(!e)return t;if(e!==n){const i=n.closest("summary");if(i&&i.parentNode!==e||null===i)return!1}return t},Wo=n=>!(n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("disabled"))||(void 0!==n.disabled?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),GV=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?GV(n.parentNode):null},bb=()=>{},jV=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,xR=[],qs=()=>"rtl"===document.documentElement.dir,Us=n=>{(n=>{"loading"===document.readyState?(xR.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of xR)t()}),xR.push(n)):n()})(()=>{const t=jV();if(t){const e=n.NAME,i=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=i,n.jQueryInterface)}})},Yn=(n,t=[],e=n)=>"function"==typeof n?n(...t):e,WV=(n,t,e=!0)=>{if(!e)return void Yn(n);const s=(n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n);const i=Number.parseFloat(t),s=Number.parseFloat(e);return i||s?(t=t.split(",")[0],e=e.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(e))):0})(t)+5;let r=!1;const a=({target:o})=>{o===t&&(r=!0,t.removeEventListener(TR,a),Yn(n))};t.addEventListener(TR,a),setTimeout(()=>{r||UV(t)},s)},MR=(n,t,e,i)=>{const s=n.length;let r=n.indexOf(t);return-1===r?!e&&i?n[s-1]:n[0]:(r+=e?1:-1,i&&(r=(r+s)%s),n[Math.max(0,Math.min(r,s-1))])},wQ=/[^.]*(?=\..*)\.|.*/,EQ=/\..*/,kQ=/::\d+$/,RR={};let zV=1;const KV={mouseenter:"mouseover",mouseleave:"mouseout"},CQ=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function QV(n,t){return t&&`${t}::${zV++}`||n.uidEvent||zV++}function YV(n){const t=QV(n);return n.uidEvent=t,RR[t]=RR[t]||{},RR[t]}function JV(n,t,e=null){return Object.values(n).find(i=>i.callable===t&&i.delegationSelector===e)}function ZV(n,t,e){const i="string"==typeof t,s=i?e:t||e;let r=eF(n);return CQ.has(r)||(r=n),[i,s,r]}function XV(n,t,e,i,s){if("string"!=typeof t||!n)return;let[r,a,o]=ZV(t,e,i);var k;t in KV&&(k=a,a=function(T){if(!T.relatedTarget||T.relatedTarget!==T.delegateTarget&&!T.delegateTarget.contains(T.relatedTarget))return k.call(this,T)});const l=YV(n),h=l[o]||(l[o]={}),d=JV(h,a,r?e:null);if(d)return void(d.oneOff=d.oneOff&&s);const m=QV(a,t.replace(wQ,"")),y=r?function(n,t,e){return function i(s){const r=n.querySelectorAll(t);for(let{target:a}=s;a&&a!==this;a=a.parentNode)for(const o of r)if(o===a)return OR(s,{delegateTarget:a}),i.oneOff&&J.off(n,s.type,t,e),e.apply(a,[s])}}(n,e,a):function(n,t){return function e(i){return OR(i,{delegateTarget:n}),e.oneOff&&J.off(n,i.type,t),t.apply(n,[i])}}(n,a);y.delegationSelector=r?e:null,y.callable=a,y.oneOff=s,y.uidEvent=m,h[m]=y,n.addEventListener(o,y,r)}function IR(n,t,e,i,s){const r=JV(t[e],i,s);!r||(n.removeEventListener(e,r,Boolean(s)),delete t[e][r.uidEvent])}function DQ(n,t,e,i){const s=t[e]||{};for(const[r,a]of Object.entries(s))r.includes(i)&&IR(n,t,e,a.callable,a.delegationSelector)}function eF(n){return n=n.replace(EQ,""),KV[n]||n}const J={on(n,t,e,i){XV(n,t,e,i,!1)},one(n,t,e,i){XV(n,t,e,i,!0)},off(n,t,e,i){if("string"!=typeof t||!n)return;const[s,r,a]=ZV(t,e,i),o=a!==t,l=YV(n),h=l[a]||{},d=t.startsWith(".");if(void 0===r){if(d)for(const m of Object.keys(l))DQ(n,l,m,t.slice(1));for(const[m,y]of Object.entries(h)){const S=m.replace(kQ,"");(!o||t.includes(S))&&IR(n,l,a,y.callable,y.delegationSelector)}}else{if(!Object.keys(h).length)return;IR(n,l,a,r,s?e:null)}},trigger(n,t,e){if("string"!=typeof t||!n)return null;const i=jV();let a=null,o=!0,l=!0,h=!1;t!==eF(t)&&i&&(a=i.Event(t,e),i(n).trigger(a),o=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),h=a.isDefaultPrevented());const d=OR(new Event(t,{bubbles:o,cancelable:!0}),e);return h&&d.preventDefault(),l&&n.dispatchEvent(d),d.defaultPrevented&&a&&a.preventDefault(),d}};function OR(n,t={}){for(const[e,i]of Object.entries(t))try{n[e]=i}catch(s){Object.defineProperty(n,e,{configurable:!0,get:()=>i})}return n}function tF(n){if("true"===n)return!0;if("false"===n)return!1;if(n===Number(n).toString())return Number(n);if(""===n||"null"===n)return null;if("string"!=typeof n)return n;try{return JSON.parse(decodeURIComponent(n))}catch(t){return n}}function NR(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const za={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${NR(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${NR(t)}`)},getDataAttributes(n){if(!n)return{};const t={},e=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of e){let s=i.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),t[s]=tF(n.dataset[i])}return t},getDataAttribute:(n,t)=>tF(n.getAttribute(`data-bs-${NR(t)}`))};class Qp{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=Wa(e)?za.getDataAttribute(e,"config"):{};return dn(dn(dn(dn({},this.constructor.Default),"object"==typeof i?i:{}),Wa(e)?za.getDataAttributes(e):{}),"object"==typeof t?t:{})}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,s]of Object.entries(e)){const r=t[i],a=Wa(r)?"element":yQ(r);if(!new RegExp(s).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${a}" but expected type "${s}".`)}}}class Er extends Qp{constructor(t,e){super(),(t=jo(t))&&(this._element=t,this._config=this._getConfig(e),DR.set(this._element,this.constructor.DATA_KEY,this))}dispose(){DR.remove(this._element,this.constructor.DATA_KEY),J.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){WV(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return DR.get(jo(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.1"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const LR=n=>{let t=n.getAttribute("data-bs-target");if(!t||"#"===t){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&"#"!==e?e.trim():null}return qV(t)},Ee={find:(n,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,n)),findOne:(n,t=document.documentElement)=>Element.prototype.querySelector.call(t,n),children:(n,t)=>[].concat(...n.children).filter(e=>e.matches(t)),parents(n,t){const e=[];let i=n.parentNode.closest(t);for(;i;)e.push(i),i=i.parentNode.closest(t);return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(e=>!Wo(e)&&xh(e))},getSelectorFromElement(n){const t=LR(n);return t&&Ee.findOne(t)?t:null},getElementFromSelector(n){const t=LR(n);return t?Ee.findOne(t):null},getMultipleElementsFromSelector(n){const t=LR(n);return t?Ee.find(t):[]}},Sb=(n,t="hide")=>{const i=n.NAME;J.on(document,`click.dismiss${n.EVENT_KEY}`,`[data-bs-dismiss="${i}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),Wo(this))return;const r=Ee.getElementFromSelector(this)||this.closest(`.${i}`);n.getOrCreateInstance(r)[t]()})},iF=".bs.alert",MQ=`close${iF}`,RQ=`closed${iF}`;class wb extends Er{static get NAME(){return"alert"}close(){if(J.trigger(this._element,MQ).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),J.trigger(this._element,RQ),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=wb.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Sb(wb,"close"),Us(wb);const nF='[data-bs-toggle="button"]';class Eb extends Er{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const e=Eb.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}J.on(document,"click.bs.button.data-api",nF,n=>{n.preventDefault();const t=n.target.closest(nF);Eb.getOrCreateInstance(t).toggle()}),Us(Eb);const Mh=".bs.swipe",HQ=`touchstart${Mh}`,qQ=`touchmove${Mh}`,UQ=`touchend${Mh}`,GQ=`pointerdown${Mh}`,jQ=`pointerup${Mh}`,YQ={endCallback:null,leftCallback:null,rightCallback:null},JQ={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class kb extends Qp{constructor(t,e){super(),this._element=t,t&&kb.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return YQ}static get DefaultType(){return JQ}static get NAME(){return"swipe"}dispose(){J.off(this._element,Mh)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Yn(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&Yn(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(J.on(this._element,GQ,t=>this._start(t)),J.on(this._element,jQ,t=>this._end(t)),this._element.classList.add("pointer-event")):(J.on(this._element,HQ,t=>this._start(t)),J.on(this._element,qQ,t=>this._move(t)),J.on(this._element,UQ,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const zo=".bs.carousel",sF=".data-api",Yp="next",Rh="prev",Ih="left",Cb="right",iY=`slide${zo}`,BR=`slid${zo}`,nY=`keydown${zo}`,sY=`mouseenter${zo}`,rY=`mouseleave${zo}`,aY=`dragstart${zo}`,oY=`load${zo}${sF}`,lY=`click${zo}${sF}`,rF="carousel",Ab="active",_Y={ArrowLeft:Cb,ArrowRight:Ih},bY={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},SY={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Jp extends Er{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ee.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===rF&&this.cycle()}static get Default(){return bY}static get DefaultType(){return SY}static get NAME(){return"carousel"}next(){this._slide(Yp)}nextWhenVisible(){!document.hidden&&xh(this._element)&&this.next()}prev(){this._slide(Rh)}pause(){this._isSliding&&UV(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void J.one(this._element,BR,()=>this.cycle());this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void J.one(this._element,BR,()=>this.to(t));const i=this._getItemIndex(this._getActive());i!==t&&this._slide(t>i?Yp:Rh,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&J.on(this._element,nY,t=>this._keydown(t)),"hover"===this._config.pause&&(J.on(this._element,sY,()=>this.pause()),J.on(this._element,rY,()=>this._maybeEnableCycle())),this._config.touch&&kb.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of Ee.find(".carousel-item img",this._element))J.on(i,aY,s=>s.preventDefault());this._swipeHelper=new kb(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Ih)),rightCallback:()=>this._slide(this._directionToOrder(Cb)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=_Y[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=Ee.findOne(".active",this._indicatorsElement);e.classList.remove(Ab),e.removeAttribute("aria-current");const i=Ee.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(Ab),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),s=t===Yp,r=e||MR(this._getItems(),i,s,this._config.wrap);if(r===i)return;const a=this._getItemIndex(r),o=S=>J.trigger(this._element,S,{relatedTarget:r,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:a});if(o(iY).defaultPrevented||!i||!r)return;const h=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=r;const d=s?"carousel-item-start":"carousel-item-end",m=s?"carousel-item-next":"carousel-item-prev";r.classList.add(m),i.classList.add(d),r.classList.add(d),this._queueCallback(()=>{r.classList.remove(d,m),r.classList.add(Ab),i.classList.remove(Ab,m,d),this._isSliding=!1,o(BR)},i,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Ee.findOne(".active.carousel-item",this._element)}_getItems(){return Ee.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return qs()?t===Ih?Rh:Yp:t===Ih?Yp:Rh}_orderToDirection(t){return qs()?t===Rh?Ih:Cb:t===Rh?Cb:Ih}static jQueryInterface(t){return this.each(function(){const e=Jp.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)})}}J.on(document,lY,"[data-bs-slide], [data-bs-slide-to]",function(n){const t=Ee.getElementFromSelector(this);if(!t||!t.classList.contains(rF))return;n.preventDefault();const e=Jp.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");return i?(e.to(i),void e._maybeEnableCycle()):"next"===za.getDataAttribute(this,"slide")?(e.next(),void e._maybeEnableCycle()):(e.prev(),void e._maybeEnableCycle())}),J.on(window,oY,()=>{const n=Ee.find('[data-bs-ride="carousel"]');for(const t of n)Jp.getOrCreateInstance(t)}),Us(Jp);const Zp=".bs.collapse",kY=`show${Zp}`,CY=`shown${Zp}`,AY=`hide${Zp}`,PY=`hidden${Zp}`,DY=`click${Zp}.data-api`,$R="show",Oh="collapse",Pb="collapsing",xY=`:scope .${Oh} .${Oh}`,VR='[data-bs-toggle="collapse"]',NY={parent:null,toggle:!0},LY={parent:"(null|element)",toggle:"boolean"};class Xp extends Er{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=Ee.find(VR);for(const s of i){const r=Ee.getSelectorFromElement(s),a=Ee.find(r).filter(o=>o===this._element);null!==r&&a.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return NY}static get DefaultType(){return LY}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(o=>o!==this._element).map(o=>Xp.getOrCreateInstance(o,{toggle:!1}))),t.length&&t[0]._isTransitioning||J.trigger(this._element,kY).defaultPrevented)return;for(const o of t)o.hide();const i=this._getDimension();this._element.classList.remove(Oh),this._element.classList.add(Pb),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const a=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Pb),this._element.classList.add(Oh,$R),this._element.style[i]="",J.trigger(this._element,CY)},this._element,!0),this._element.style[i]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||J.trigger(this._element,AY).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,this._element.classList.add(Pb),this._element.classList.remove(Oh,$R);for(const s of this._triggerArray){const r=Ee.getElementFromSelector(s);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Pb),this._element.classList.add(Oh),J.trigger(this._element,PY)},this._element,!0)}_isShown(t=this._element){return t.classList.contains($R)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=jo(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(VR);for(const e of t){const i=Ee.getElementFromSelector(e);i&&this._addAriaAndCollapsedClass([e],this._isShown(i))}}_getFirstLevelChildren(t){const e=Ee.find(xY,this._config.parent);return Ee.find(t,this._config.parent).filter(i=>!e.includes(i))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=Xp.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}})}}J.on(document,DY,VR,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();for(const t of Ee.getMultipleElementsFromSelector(this))Xp.getOrCreateInstance(t,{toggle:!1}).toggle()}),Us(Xp);const lF="dropdown",yc=".bs.dropdown",FR=".data-api",$Y="ArrowUp",uF="ArrowDown",FY=`hide${yc}`,HY=`hidden${yc}`,qY=`show${yc}`,UY=`shown${yc}`,hF=`click${yc}${FR}`,dF=`keydown${yc}${FR}`,GY=`keyup${yc}${FR}`,Nh="show",_c='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',YY=`${_c}.show`,Db=".dropdown-menu",eJ=qs()?"top-end":"top-start",tJ=qs()?"top-start":"top-end",iJ=qs()?"bottom-end":"bottom-start",nJ=qs()?"bottom-start":"bottom-end",sJ=qs()?"left-start":"right-start",rJ=qs()?"right-start":"left-start",lJ={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},cJ={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Qr extends Er{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=Ee.next(this._element,Db)[0]||Ee.prev(this._element,Db)[0]||Ee.findOne(Db,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return lJ}static get DefaultType(){return cJ}static get NAME(){return lF}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Wo(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!J.trigger(this._element,qY,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const i of[].concat(...document.body.children))J.on(i,"mouseover",bb);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Nh),this._element.classList.add(Nh),J.trigger(this._element,UY,t)}}hide(){!Wo(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!J.trigger(this._element,FY,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))J.off(i,"mouseover",bb);this._popper&&this._popper.destroy(),this._menu.classList.remove(Nh),this._element.classList.remove(Nh),this._element.setAttribute("aria-expanded","false"),za.removeDataAttribute(this._menu,"popper"),J.trigger(this._element,HY,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!Wa(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${lF.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===Zn)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:Wa(this._config.reference)?t=jo(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=PR(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Nh)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return sJ;if(t.classList.contains("dropstart"))return rJ;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?tJ:eJ:e?nJ:iJ}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(za.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),dn(dn({},t),Yn(this._config.popperConfig,[t]))}_selectMenuItem({key:t,target:e}){const i=Ee.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(s=>xh(s));!i.length||MR(i,e,t===uF,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=Qr.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=Ee.find(YY);for(const i of e){const s=Qr.getInstance(i);if(!s||!1===s._config.autoClose)continue;const r=t.composedPath(),a=r.includes(s._menu);if(r.includes(s._element)||"inside"===s._config.autoClose&&!a||"outside"===s._config.autoClose&&a||s._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:s._element};"click"===t.type&&(o.clickEvent=t),s._completeHide(o)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,s=[$Y,uF].includes(t.key);if(!s&&!i||e&&!i)return;t.preventDefault();const r=this.matches(_c)?this:Ee.prev(this,_c)[0]||Ee.next(this,_c)[0]||Ee.findOne(_c,t.delegateTarget.parentNode),a=Qr.getOrCreateInstance(r);if(s)return t.stopPropagation(),a.show(),void a._selectMenuItem(t);a._isShown()&&(t.stopPropagation(),a.hide(),r.focus())}}J.on(document,dF,_c,Qr.dataApiKeydownHandler),J.on(document,dF,Db,Qr.dataApiKeydownHandler),J.on(document,hF,Qr.clearMenus),J.on(document,GY,Qr.clearMenus),J.on(document,hF,_c,function(n){n.preventDefault(),Qr.getOrCreateInstance(this).toggle()}),Us(Qr);const fF="backdrop",gF=`mousedown.bs.${fF}`,hJ={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},dJ={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class mF extends Qp{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return hJ}static get DefaultType(){return dJ}static get NAME(){return fF}show(t){if(!this._config.isVisible)return void Yn(t);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Yn(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Yn(t)})):Yn(t)}dispose(){!this._isAppended||(J.off(this._element,gF),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=jo(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),J.on(t,gF,()=>{Yn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){WV(t,this._getElement(),this._config.isAnimated)}}const Tb=".bs.focustrap",pJ=`focusin${Tb}`,gJ=`keydown.tab${Tb}`,vF="backward",yJ={autofocus:!0,trapElement:null},_J={autofocus:"boolean",trapElement:"element"};class yF extends Qp{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return yJ}static get DefaultType(){return _J}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),J.off(document,Tb),J.on(document,pJ,t=>this._handleFocusin(t)),J.on(document,gJ,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,J.off(document,Tb))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=Ee.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===vF?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?vF:"forward")}}const _F=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",bF=".sticky-top",xb="padding-right",SF="margin-right";class HR{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,xb,e=>e+t),this._setElementAttributes(_F,xb,e=>e+t),this._setElementAttributes(bF,SF,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,xb),this._resetElementAttributes(_F,xb),this._resetElementAttributes(bF,SF)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const s=this.getWidth();this._applyManipulationCallback(t,a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+s)return;this._saveInitialAttribute(a,e);const o=window.getComputedStyle(a).getPropertyValue(e);a.style.setProperty(e,`${i(Number.parseFloat(o))}px`)})}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&za.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,s=>{const r=za.getDataAttribute(s,e);null!==r?(za.removeDataAttribute(s,e),s.style.setProperty(e,r)):s.style.removeProperty(e)})}_applyManipulationCallback(t,e){if(Wa(t))e(t);else for(const i of Ee.find(t,this._element))e(i)}}const Gs=".bs.modal",EJ=`hide${Gs}`,kJ=`hidePrevented${Gs}`,wF=`hidden${Gs}`,EF=`show${Gs}`,CJ=`shown${Gs}`,AJ=`resize${Gs}`,PJ=`click.dismiss${Gs}`,DJ=`mousedown.dismiss${Gs}`,TJ=`keydown.dismiss${Gs}`,xJ=`click${Gs}.data-api`,kF="modal-open",qR="modal-static",LJ={backdrop:!0,focus:!0,keyboard:!0},BJ={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class bc extends Er{constructor(t,e){super(t,e),this._dialog=Ee.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new HR,this._addEventListeners()}static get Default(){return LJ}static get DefaultType(){return BJ}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||J.trigger(this._element,EF,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(kF),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||J.trigger(this._element,EJ).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){J.off(window,Gs),J.off(this._dialog,Gs),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new mF({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new yF({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=Ee.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,J.trigger(this._element,CJ,{relatedTarget:t})},this._dialog,this._isAnimated())}_addEventListeners(){J.on(this._element,TJ,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),J.on(window,AJ,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),J.on(this._element,DJ,t=>{J.one(this._element,PJ,e=>{if(this._element===t.target&&this._element===e.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(kF),this._resetAdjustments(),this._scrollBar.reset(),J.trigger(this._element,wF)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(J.trigger(this._element,kJ).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(qR)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(qR),this._queueCallback(()=>{this._element.classList.remove(qR),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const s=qs()?"paddingLeft":"paddingRight";this._element.style[s]=`${e}px`}if(!i&&t){const s=qs()?"paddingRight":"paddingLeft";this._element.style[s]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=bc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](e)}})}}J.on(document,xJ,'[data-bs-toggle="modal"]',function(n){const t=Ee.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),J.one(t,EF,s=>{s.defaultPrevented||J.one(t,wF,()=>{xh(this)&&this.focus()})});const e=Ee.findOne(".modal.show");e&&bc.getInstance(e).hide(),bc.getOrCreateInstance(t).toggle(this)}),Sb(bc),Us(bc);const Ka=".bs.offcanvas",AF=".data-api",VJ=`load${Ka}${AF}`,DF="showing",xF=".offcanvas.show",qJ=`show${Ka}`,UJ=`shown${Ka}`,GJ=`hide${Ka}`,MF=`hidePrevented${Ka}`,RF=`hidden${Ka}`,jJ=`resize${Ka}`,WJ=`click${Ka}${AF}`,zJ=`keydown.dismiss${Ka}`,QJ={backdrop:!0,keyboard:!0,scroll:!1},YJ={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ko extends Er{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return QJ}static get DefaultType(){return YJ}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||J.trigger(this._element,qJ,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new HR).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(DF),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(DF),J.trigger(this._element,UJ,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&!J.trigger(this._element,GJ).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new HR).reset(),J.trigger(this._element,RF)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new mF({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():J.trigger(this._element,MF)}:null})}_initializeFocusTrap(){return new yF({trapElement:this._element})}_addEventListeners(){J.on(this._element,zJ,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();J.trigger(this._element,MF)}})}static jQueryInterface(t){return this.each(function(){const e=Ko.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}J.on(document,WJ,'[data-bs-toggle="offcanvas"]',function(n){const t=Ee.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Wo(this))return;J.one(t,RF,()=>{xh(this)&&this.focus()});const e=Ee.findOne(xF);e&&e!==t&&Ko.getInstance(e).hide(),Ko.getOrCreateInstance(t).toggle(this)}),J.on(window,VJ,()=>{for(const n of Ee.find(xF))Ko.getOrCreateInstance(n).show()}),J.on(window,jJ,()=>{for(const n of Ee.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(n).position&&Ko.getOrCreateInstance(n).hide()}),Sb(Ko),Us(Ko);const IF={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},JJ=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ZJ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,XJ=(n,t)=>{const e=n.nodeName.toLowerCase();return t.includes(e)?!JJ.has(e)||Boolean(ZJ.test(n.nodeValue)):t.filter(i=>i instanceof RegExp).some(i=>i.test(e))},iZ={allowList:IF,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},nZ={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},sZ={entry:"(string|element|function|null)",selector:"(string|element)"};class rZ extends Qp{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return iZ}static get DefaultType(){return nZ}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content=dn(dn({},this._config.content),t),this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[s,r]of Object.entries(this._config.content))this._setContent(t,r,s);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},sZ)}_setContent(t,e,i){const s=Ee.findOne(i,t);if(s){if(!(e=this._resolvePossibleFunction(e)))return void s.remove();if(Wa(e))return void this._putElementInTemplate(jo(e),s);if(this._config.html)return void(s.innerHTML=this._maybeSanitize(e));s.textContent=e}}_maybeSanitize(t){return this._config.sanitize?function(n,t,e){if(!n.length)return n;if(e&&"function"==typeof e)return e(n);const s=(new window.DOMParser).parseFromString(n,"text/html"),r=[].concat(...s.body.querySelectorAll("*"));for(const a of r){const o=a.nodeName.toLowerCase();if(!Object.keys(t).includes(o)){a.remove();continue}const l=[].concat(...a.attributes),h=[].concat(t["*"]||[],t[o]||[]);for(const d of l)XJ(d,h)||a.removeAttribute(d.nodeName)}return s.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Yn(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const oZ=new Set(["sanitize","allowList","sanitizeFn"]),UR="fade",Mb="show",NF="hide.bs.modal",eg="hover",GR="focus",wZ={AUTO:"auto",TOP:"top",RIGHT:qs()?"left":"right",BOTTOM:"bottom",LEFT:qs()?"right":"left"},EZ={allowList:IF,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},kZ={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Lh extends Er{constructor(t,e){if(void 0===Zn)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return EZ}static get DefaultType(){return kZ}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),J.off(this._element.closest(".modal"),NF,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=J.trigger(this._element,this.constructor.eventName("show")),i=(GV(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(s),J.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(s),s.classList.add(Mb),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))J.on(o,"mouseover",bb);this._queueCallback(()=>{J.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!J.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Mb),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))J.off(s,"mouseover",bb);this._activeTrigger.click=!1,this._activeTrigger[GR]=!1,this._activeTrigger[eg]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),J.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(UR,Mb),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(n=>{do{n+=Math.floor(1e6*Math.random())}while(document.getElementById(n));return n})(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(UR),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new rZ(vS(dn({},this._config),{content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(UR)}_isShown(){return this.tip&&this.tip.classList.contains(Mb)}_createPopper(t){const e=Yn(this._config.placement,[this,t,this._element]),i=wZ[e.toUpperCase()];return PR(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return Yn(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return dn(dn({},e),Yn(this._config.popperConfig,[e]))}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)J.on(this._element,this.constructor.eventName("click"),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if("manual"!==e){const i=this.constructor.eventName(e===eg?"mouseenter":"focusin"),s=this.constructor.eventName(e===eg?"mouseleave":"focusout");J.on(this._element,i,this._config.selector,r=>{const a=this._initializeOnDelegatedTarget(r);a._activeTrigger["focusin"===r.type?GR:eg]=!0,a._enter()}),J.on(this._element,s,this._config.selector,r=>{const a=this._initializeOnDelegatedTarget(r);a._activeTrigger["focusout"===r.type?GR:eg]=a._element.contains(r.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},J.on(this._element.closest(".modal"),NF,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");!t||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=za.getDataAttributes(this._element);for(const i of Object.keys(e))oZ.has(i)&&delete e[i];return t=dn(dn({},e),"object"==typeof t&&t?t:{}),t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:jo(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=Lh.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Us(Lh);const DZ=vS(dn({},Lh.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),TZ=vS(dn({},Lh.DefaultType),{content:"(null|string|element|function)"});class jR extends Lh{static get Default(){return DZ}static get DefaultType(){return TZ}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=jR.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Us(jR);const WR=".bs.scrollspy",RZ=`activate${WR}`,LF=`click${WR}`,IZ=`load${WR}.data-api`,Bh="active",zR="[href]",BF=".nav-link",BZ=`${BF}, .nav-item > ${BF}, .list-group-item`,FZ={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},HZ={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Rb extends Er{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return FZ}static get DefaultType(){return HZ}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=jo(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(J.off(this._config.target,LF),J.on(this._config.target,LF,zR,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,s=e.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:s,behavior:"smooth"});i.scrollTop=s}}))}_getNewObserver(){return new IntersectionObserver(e=>this._observerCallback(e),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(t){const e=a=>this._targetLinks.get(`#${a.target.id}`),i=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(e(a))},s=(this._rootElement||document.documentElement).scrollTop,r=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const a of t){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(a));continue}const o=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&o){if(i(a),!s)return}else!r&&!o&&i(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=Ee.find(zR,this._config.target);for(const e of t){if(!e.hash||Wo(e))continue;const i=Ee.findOne(decodeURI(e.hash),this._element);xh(i)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,i))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Bh),this._activateParents(t),J.trigger(this._element,RZ,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))Ee.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(Bh);else for(const e of Ee.parents(t,".nav, .list-group"))for(const i of Ee.prev(e,BZ))i.classList.add(Bh)}_clearActiveClass(t){t.classList.remove(Bh);const e=Ee.find(`${zR}.${Bh}`,t);for(const i of e)i.classList.remove(Bh)}static jQueryInterface(t){return this.each(function(){const e=Rb.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}J.on(window,IZ,()=>{for(const n of Ee.find('[data-bs-spy="scroll"]'))Rb.getOrCreateInstance(n)}),Us(Rb);const Sc=".bs.tab",UZ=`hide${Sc}`,GZ=`hidden${Sc}`,jZ=`show${Sc}`,WZ=`shown${Sc}`,zZ=`click${Sc}`,KZ=`keydown${Sc}`,QZ=`load${Sc}`,YZ="ArrowLeft",$F="ArrowRight",JZ="ArrowUp",VF="ArrowDown",KR="Home",FF="End",wc="active",QR="show",YR=":not(.dropdown-toggle)",qF='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',JR=`.nav-link${YR}, .list-group-item${YR}, [role="tab"]${YR}, ${qF}`,sX=`.${wc}[data-bs-toggle="tab"], .${wc}[data-bs-toggle="pill"], .${wc}[data-bs-toggle="list"]`;class $h extends Er{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),J.on(this._element,KZ,e=>this._keydown(e)))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?J.trigger(e,UZ,{relatedTarget:t}):null;J.trigger(t,jZ,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(wc),this._activate(Ee.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),J.trigger(t,WZ,{relatedTarget:e})):t.classList.add(QR)},t,t.classList.contains("fade")))}_deactivate(t,e){t&&(t.classList.remove(wc),t.blur(),this._deactivate(Ee.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),J.trigger(t,GZ,{relatedTarget:e})):t.classList.remove(QR)},t,t.classList.contains("fade")))}_keydown(t){if(![YZ,$F,JZ,VF,KR,FF].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(s=>!Wo(s));let i;if([KR,FF].includes(t.key))i=e[t.key===KR?0:e.length-1];else{const s=[$F,VF].includes(t.key);i=MR(e,t.target,s,!0)}i&&(i.focus({preventScroll:!0}),$h.getOrCreateInstance(i).show())}_getChildren(){return Ee.find(JR,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=Ee.getElementFromSelector(t);!e||(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains("dropdown"))return;const s=(r,a)=>{const o=Ee.findOne(r,i);o&&o.classList.toggle(a,e)};s(".dropdown-toggle",wc),s(".dropdown-menu",QR),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(wc)}_getInnerElement(t){return t.matches(JR)?t:Ee.findOne(JR,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){const e=$h.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}J.on(document,zZ,qF,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Wo(this)&&$h.getOrCreateInstance(this).show()}),J.on(window,QZ,()=>{for(const n of Ee.find(sX))$h.getOrCreateInstance(n)}),Us($h);const Qo=".bs.toast",aX=`mouseover${Qo}`,oX=`mouseout${Qo}`,lX=`focusin${Qo}`,cX=`focusout${Qo}`,uX=`hide${Qo}`,hX=`hidden${Qo}`,dX=`show${Qo}`,fX=`shown${Qo}`,Ib="show",Ob="showing",gX={animation:"boolean",autohide:"boolean",delay:"number"},mX={animation:!0,autohide:!0,delay:5e3};class Nb extends Er{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return mX}static get DefaultType(){return gX}static get NAME(){return"toast"}show(){J.trigger(this._element,dX).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Ib,Ob),this._queueCallback(()=>{this._element.classList.remove(Ob),J.trigger(this._element,fX),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!J.trigger(this._element,uX).defaultPrevented&&(this._element.classList.add(Ob),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Ob,Ib),J.trigger(this._element,hX)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ib),super.dispose()}isShown(){return this._element.classList.contains(Ib)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){J.on(this._element,aX,t=>this._onInteraction(t,!0)),J.on(this._element,oX,t=>this._onInteraction(t,!1)),J.on(this._element,lX,t=>this._onInteraction(t,!0)),J.on(this._element,cX,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=Nb.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}})}}function js(n){return null!=n&&"false"!=`${n}`}function Ec(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Bi(n){return n instanceof Nt?n.nativeElement:n}function kc(...n){let t=n[n.length-1];return rl(t)?(n.pop(),eo(n,t)):to(n)}function ZR(n,t,e,i){return M(e)&&(i=e,e=void 0),i?ZR(n,t,e).pipe(ys(s=>il(s)?i(...s):i(s))):new Qe(s=>{GF(n,t,function(a){s.next(arguments.length>1?Array.prototype.slice.call(arguments):a)},s,e)})}function GF(n,t,e,i,s){let r;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const a=n;n.addEventListener(t,e,s),r=()=>a.removeEventListener(t,e,s)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const a=n;n.on(t,e),r=()=>a.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const a=n;n.addListener(t,e),r=()=>a.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let a=0,o=n.length;a<o;a++)GF(n[a],t,e,i,s)}i.add(r)}Sb(Nb),Us(Nb);class wX extends et{constructor(t,e){super()}schedule(t,e=0){return this}}class Lb extends wX{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(r){i=!0,s=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let jF=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,s){return new this.SchedulerAction(this,e).schedule(s,i)}}return n.now=()=>Date.now(),n})();class kr extends jF{constructor(t,e=jF.now){super(t,()=>kr.delegate&&kr.delegate!==this?kr.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return kr.delegate&&kr.delegate!==this?kr.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const WF=new class extends kr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends Lb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let CX=1;const AX=Promise.resolve(),Bb={};function zF(n){return n in Bb&&(delete Bb[n],!0)}const KF={setImmediate(n){const t=CX++;return Bb[t]=!0,AX.then(()=>zF(t)&&n()),t},clearImmediate(n){zF(n)}},tg=(new class extends kr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends Lb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=KF.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(KF.clearImmediate(e),t.scheduled=void 0)}}),new kr(Lb));class IX{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new OX(t,this.durationSelector))}}class OX extends Nc{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(t)}catch(s){return this.destination.error(s)}const i=Yi(e,new Ln(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function XR(n){return!il(n)&&n-parseFloat(n)+1>=0}function LX(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function eI(n,t=tg){return function(n){return function(e){return e.lift(new IX(n))}}(()=>function(n=0,t,e){let i=-1;return XR(t)?i=Number(t)<1?1:Number(t):rl(t)&&(e=t),rl(e)||(e=tg),new Qe(s=>{const r=XR(n)?n:+n-e.now();return e.schedule(LX,r,{index:0,period:i,subscriber:s})})}(n,t))}function JF(n,t){return function(i){return i.lift(new BX(n,t))}}class BX{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new $X(t,this.predicate,this.thisArg))}}class $X extends Mt{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Yo(n){return t=>t.lift(new VX(n))}class VX{constructor(t){this.notifier=t}call(t,e){const i=new FX(t),s=Yi(this.notifier,new Ln(i));return s&&!i.seenValue?(i.add(s),e.subscribe(i)):i}}class FX extends Nc{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function ZF(...n){return Tg(1)(kc(...n))}function ig(...n){const t=n[n.length-1];return rl(t)?(n.pop(),e=>ZF(n,e,t)):e=>ZF(n,e)}function tI(n,t){return"function"==typeof t?e=>e.pipe(tI((i,s)=>Oc(n(i,s)).pipe(ys((r,a)=>t(i,r,s,a))))):e=>e.lift(new jX(n))}class jX{constructor(t){this.project=t}call(t,e){return e.subscribe(new WX(t,this.project))}}class WX extends Nc{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Ln(this),s=this.destination;s.add(i),this.innerSubscription=Yi(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}new class extends kr{}(class extends Lb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});const YX=new Qe(n=>n.complete());function XF(n){return n?function(n){return new Qe(t=>n.schedule(()=>t.complete()))}(n):YX}class Ws{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return kc(this.value);case"E":return function(n,t){return new Qe(e=>e.error(n))}(this.error);case"C":return XF()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new Ws("N",t):Ws.undefinedValueNotification}static createError(t){return new Ws("E",void 0,t)}static createComplete(){return Ws.completeNotification}}let iI;Ws.completeNotification=new Ws("C"),Ws.undefinedValueNotification=new Ws("N",void 0);try{iI="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){iI=!1}let ng,nI,zs=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===b$}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!iI)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(H(dh))},n.\u0275prov=ue({factory:function(){return new n(H(dh))},token:n,providedIn:"root"}),n})();function sg(n){return function(){if(null==ng&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ng=!0}))}finally{ng=ng||!1}return ng}()?n:!!n.capture}function sI(n){if(function(){if(null==nI){const n="undefined"!=typeof document?document.head:null;nI=!(!n||!n.createShadowRoot&&!n.attachShadow)}return nI}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Yr(n){return n.composedPath?n.composedPath()[0]:n.target}const iH=new be("cdk-dir-doc",{providedIn:"root",factory:function(){return fw(Xe)}});let ag=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new pt,e){const s=e.documentElement?e.documentElement.dir:null,r=(e.body?e.body.dir:null)||s;this.value="ltr"===r||"rtl"===r?r:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(H(iH,8))},n.\u0275prov=ue({factory:function(){return new n(H(iH,8))},token:n,providedIn:"root"}),n})(),rI=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new Ze,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Qe(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(eI(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):kc()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(JF(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=Bi(i),r=e.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ZR(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(H(ze),H(zs),H(Xe,8))},n.\u0275prov=ue({factory:function(){return new n(H(ze),H(zs),H(Xe,8))},token:n,providedIn:"root"}),n})(),aI=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new Ze,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,r=s.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-r.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(eI(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(H(zs),H(ze),H(Xe,8))},n.\u0275prov=ue({factory:function(){return new n(H(zs),H(ze),H(Xe,8))},token:n,providedIn:"root"}),n})(),oI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({}),n})();const xee=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function lI(n){return t=>0===n?XF():t.lift(new Mee(n))}class Mee{constructor(t){if(this.total=t,this.total<0)throw new xee}call(t,e){return e.subscribe(new Ree(t,this.total))}}class Ree extends Mt{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function hte(n){const{subscriber:t,counter:e,period:i}=n;t.next(e),this.schedule({subscriber:t,counter:e+1,period:i},i)}function Jo(){}"undefined"!=typeof Element&&Element;class fte{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new pte(t,this.nextOrObserver,this.error,this.complete))}}class pte extends Mt{constructor(t,e,i,s){super(t),this._tapNext=Jo,this._tapError=Jo,this._tapComplete=Jo,this._tapError=i||Jo,this._tapComplete=s||Jo,M(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Jo,this._tapError=e.error||Jo,this._tapComplete=e.complete||Jo)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function hI(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];s?n.setProperty(i,s,(null==e?void 0:e.has(i))?"important":""):n.removeProperty(i)}return n}function Hh(n,t){const e=t?"":"none";hI(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function kH(n,t,e){hI(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Hb(n,t){return t&&"none"!=t?n+" "+t:n}function CH(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function dI(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function fI(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function pI(n,t,e){const{top:i,bottom:s,left:r,right:a}=n;return e>=i&&e<=s&&t>=r&&t<=a}function og(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function AH(n,t,e,i){const{top:s,right:r,bottom:a,left:o,width:l,height:h}=n,d=l*t,m=h*t;return i>s-m&&i<a+m&&e>o-d&&e<r+d}class PH{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:fI(e)})})}handleScroll(t){const e=Yr(t),i=this.positions.get(e);if(!i)return null;const s=e===this._document?e.documentElement:e,r=i.scrollPosition;let a,o;if(e===this._document){const d=this._viewportRuler.getViewportScrollPosition();a=d.top,o=d.left}else a=e.scrollTop,o=e.scrollLeft;const l=r.top-a,h=r.left-o;return this.positions.forEach((d,m)=>{d.clientRect&&e!==m&&s.contains(m)&&og(d.clientRect,l,h)}),r.top=a,r.left=o,{top:l,left:h}}}function DH(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===i?MH(n,t):("input"===i||"select"===i||"textarea"===i)&&xH(n,t),TH("canvas",n,t,MH),TH("input, textarea, select",n,t,xH),t}function TH(n,t,e,i){const s=t.querySelectorAll(n);if(s.length){const r=e.querySelectorAll(n);for(let a=0;a<s.length;a++)i(s[a],r[a])}}let mte=0;function xH(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${mte++}`)}function MH(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(i){}}const RH=sg({passive:!0}),IH=sg({passive:!1}),gI=new Set(["position"]);class yte{constructor(t,e,i,s,r,a){this._config=e,this._document=i,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Ze,this._pointerMoveSubscription=et.EMPTY,this._pointerUpSubscription=et.EMPTY,this._scrollSubscription=et.EMPTY,this._resizeSubscription=et.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Ze,this.started=new Ze,this.released=new Ze,this.ended=new Ze,this.entered=new Ze,this.exited=new Ze,this.dropped=new Ze,this.moved=this._moveEvents,this._pointerDown=o=>{if(this.beforeStarted.next(),this._handles.length){const l=this._handles.find(h=>{const d=Yr(o);return!!d&&(d===h||h.contains(d))});l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,o)}else this.disabled||this._initializeDragSequence(this._rootElement,o)},this._pointerMove=o=>{const l=this._getPointerPositionOnPage(o);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const S=Date.now()>=this._dragStartTime+this._getDragStartDelay(o),k=this._dropContainer;if(!S)return void this._endDragSequence(o);(!k||!k.isDragging()&&!k.isReceiving())&&(o.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(o)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),o.preventDefault();const h=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(h),this._dropContainer)this._updateActiveDropContainer(h,l);else{const d=this._activeTransform;d.x=h.x-this._pickupPositionOnPage.x+this._passiveTransform.x,d.y=h.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${d.x} ${d.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:h,event:o,distance:this._getDragDistance(h),delta:this._pointerDirectionDelta})})},this._pointerUp=o=>{this._endDragSequence(o)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new PH(i,r),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=js(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Hh(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Bi(i)),this._handles.forEach(i=>Hh(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Bi(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,IH),e.addEventListener("touchstart",this._pointerDown,RH)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Bi(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Ub(this._rootElement),Ub(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Hh(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Hh(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&Ub(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&Ub(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){lg(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,s=i.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),o=this._getShadowRoot();s.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),kH(i,!1,gI),this._document.body.appendChild(s.replaceChild(r,i)),this._getPreviewInsertionPoint(s,o).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),s=lg(e),r=!s&&0!==e.button,a=this._rootElement,o=Yr(e),l=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),h=s?function(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function(n){return 0===n.offsetX&&0===n.offsetY}(e);if(o&&o.draggable&&"mousedown"===e.type&&e.preventDefault(),i||r||l||h)return;this._handles.length&&(this._rootElementTapHighlight=a.style.webkitTapHighlightColor||"",a.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(y=>this._updateOnScroll(y)),this._boundaryElement&&(this._boundaryRect=fI(this._boundaryElement));const d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const m=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:m.x,y:m.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){kH(this._rootElement,!0,gI),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),r=this._getDragDistance(s),a=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:r,dropPoint:s}),e.drop(this,i,this._initialIndex,this._initialContainer,a,r,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let s;if(i&&t){const r=t.matchSize?this._rootElement.getBoundingClientRect():null,a=t.viewContainer.createEmbeddedView(i,t.context);a.detectChanges(),s=NH(a,this._document),this._previewRef=a,t.matchSize?LH(s,r):s.style.transform=qb(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const r=this._rootElement;s=DH(r),LH(s,r.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return hI(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},gI),Hh(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>s.classList.add(r)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function(n){const t=getComputedStyle(n),e=dI(t,"transition-property"),i=e.find(o=>"transform"===o||"all"===o);if(!i)return 0;const s=e.indexOf(i),r=dI(t,"transition-duration"),a=dI(t,"transition-delay");return CH(r[s])+CH(a[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=a=>{var o;(!a||Yr(a)===this._preview&&"transform"===a.propertyName)&&(null===(o=this._preview)||void 0===o||o.removeEventListener("transitionend",s),i(),clearTimeout(r))},r=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=NH(this._placeholderRef,this._document)):i=DH(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),s=t===this._rootElement?null:t,r=s?s.getBoundingClientRect():i,a=lg(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:r.left-i.left+(a.pageX-r.left-o.left),y:r.top-i.top+(a.pageY-r.top-o.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=lg(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=i.pageX-e.left,r=i.pageY-e.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const o=this._ownerSVGElement.createSVGPoint();return o.x=s,o.y=r,o.matrixTransform(a.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:a}=this._pickupPositionInElement,o=this._boundaryRect,l=this._previewRect,h=o.top+a,d=o.bottom-(l.height-a);i=OH(i,o.left+r,o.right-(l.width-r)),s=OH(s,h,d)}return{x:i,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-r.x),o=Math.abs(i-r.y);return a>this._config.pointerDirectionChangeThreshold&&(s.x=e>r.x?1:-1,r.x=e),o>this._config.pointerDirectionChangeThreshold&&(s.y=i>r.y?1:-1,r.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Hh(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,IH),t.removeEventListener("touchstart",this._pointerDown,RH)}_applyRootElementTransform(t,e){const i=qb(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=Hb(i,this._initialTransform)}_applyPreviewTransform(t,e){var i;const s=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,r=qb(t,e);this._preview.style.transform=Hb(r,s)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===s.width&&0===s.height)return;const r=i.left-s.left,a=s.right-i.right,o=i.top-s.top,l=s.bottom-i.bottom;i.width>s.width?(r>0&&(t+=r),a>0&&(t-=a)):t=0,i.height>s.height?(o>0&&(e+=o),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:lg(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Yr(t);this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&og(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=sI(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return Bi(i)}}function qb(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function OH(n,t,e){return Math.max(t,Math.min(e,n))}function Ub(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function lg(n){return"t"===n.type[0]}function NH(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(s=>i.appendChild(s)),i}function LH(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=qb(t.left,t.top)}function BH(n,t,e){const i=cg(t,n.length-1),s=cg(e,n.length-1);if(i===s)return;const r=n[i],a=s<i?-1:1;for(let o=i;o!==s;o+=a)n[o]=n[o+a];n[s]=r}function cg(n,t){return Math.max(0,Math.min(t,n))}class _te{constructor(t,e,i,s,r){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Ze,this.entered=new Ze,this.exited=new Ze,this.dropped=new Ze,this.sorted=new Ze,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=et.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Ze,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(n=0,t=tg){return(!XR(n)||n<0)&&(n=0),(!t||"function"!=typeof t.schedule)&&(t=tg),new Qe(e=>(e.add(t.schedule(hte,n,{subscriber:e,counter:0,period:n})),e))}(0,WF).pipe(Yo(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,o=this.autoScrollStep;1===this._verticalScrollDirection?FH(a,-o):2===this._verticalScrollDirection&&FH(a,o),1===this._horizontalScrollDirection?HH(a,-o):2===this._horizontalScrollDirection&&HH(a,o)})},this.element=Bi(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new PH(i,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,s){let r;this._draggingStarted(),null==s?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,i))):r=s;const a=this._activeDraggables,o=a.indexOf(t),l=t.getPlaceholderElement();let h=a[r];if(h===t&&(h=a[r+1]),o>-1&&a.splice(o,1),h&&!this._dragDropRegistry.isDragging(h)){const d=h.getRootElement();d.parentElement.insertBefore(l,d),a.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){const d=a[0].getRootElement();d.parentNode.insertBefore(l,d),a.unshift(t)}else Bi(this.element).appendChild(l),a.push(t);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,s,r,a,o){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:r,distance:a,dropPoint:o})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Bi(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?mI("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,i=>i.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,s){if(this.sortingDisabled||!this._clientRect||!AH(this._clientRect,.05,e,i))return;const r=this._itemPositions,a=this._getItemIndexFromPointerPosition(t,e,i,s);if(-1===a&&r.length>0)return;const o="horizontal"===this._orientation,l=mI(r,D=>D.drag===t),h=r[a],m=h.clientRect,y=l>a?1:-1,S=this._getItemOffsetPx(r[l].clientRect,m,y),k=this._getSiblingOffsetPx(l,r,y),T=r.slice();BH(r,l,a),this.sorted.next({previousIndex:l,currentIndex:a,container:this,item:t}),r.forEach((D,N)=>{if(T[N]===D)return;const I=D.drag===t,U=I?S:k,O=I?t.getPlaceholderElement():D.drag.getRootElement();D.offset+=U,o?(O.style.transform=Hb(`translate3d(${Math.round(D.offset)}px, 0, 0)`,D.initialTransform),og(D.clientRect,0,U)):(O.style.transform=Hb(`translate3d(0, ${Math.round(D.offset)}px, 0)`,D.initialTransform),og(D.clientRect,U,0))}),this._previousSwap.overlaps=pI(m,e,i),this._previousSwap.drag=h.drag,this._previousSwap.delta=o?s.x:s.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,s=0,r=0;if(this._parentPositions.positions.forEach((a,o)=>{o===this._document||!a.clientRect||i||AH(a.clientRect,.05,t,e)&&([s,r]=function(n,t,e,i){const s=qH(t,i),r=UH(t,e);let a=0,o=0;if(s){const l=n.scrollTop;1===s?l>0&&(a=1):n.scrollHeight-l>n.clientHeight&&(a=2)}if(r){const l=n.scrollLeft;1===r?l>0&&(o=1):n.scrollWidth-l>n.clientWidth&&(o=2)}return[a,o]}(o,a.clientRect,t,e),(s||r)&&(i=o))}),!s&&!r){const{width:a,height:o}=this._viewportRuler.getViewportSize(),l={width:a,height:o,top:0,right:a,bottom:o,left:0};s=qH(l,e),r=UH(l,t),i=window}i&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=i,(s||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Bi(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Bi(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:fI(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=Bi(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const s=e.getRootElement();if(s){const r=null===(i=this._itemPositions.find(a=>a.drag===e))||void 0===i?void 0:i.initialTransform;s.style.transform=r||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const s="horizontal"===this._orientation,r=e[t].clientRect,a=e[t+-1*i];let o=r[s?"width":"height"]*i;if(a){const l=s?"left":"top",h=s?"right":"bottom";-1===i?o-=a.clientRect[l]-r[h]:o+=r[l]-a.clientRect[h]}return o}_getItemOffsetPx(t,e,i){const s="horizontal"===this._orientation;let r=s?e.left-t.left:e.top-t.top;return-1===i&&(r+=s?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const a=i[i.length-1].clientRect;return s?t>=a.right:e>=a.bottom}{const a=i[0].clientRect;return s?t<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(t,e,i,s){const r="horizontal"===this._orientation,a=mI(this._itemPositions,({drag:o,clientRect:l},h,d)=>{if(o===t)return d.length<2;if(s){const m=r?s.x:s.y;if(o===this._previousSwap.drag&&this._previousSwap.overlaps&&m===this._previousSwap.delta)return!1}return r?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return-1!==a&&this.sortPredicate(a,t,this)?a:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&pI(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(s=>s._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!pI(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,i);if(!s)return!1;const r=Bi(this.element);return s===r||r.contains(s)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:i})=>{og(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=sI(Bi(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function mI(n,t){for(let e=0;e<n.length;e++)if(t(n[e],e,n))return e;return-1}function FH(n,t){n===window?n.scrollBy(0,t):n.scrollTop+=t}function HH(n,t){n===window?n.scrollBy(t,0):n.scrollLeft+=t}function qH(n,t){const{top:e,bottom:i,height:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}function UH(n,t){const{left:e,right:i,width:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}const Gb=sg({passive:!1,capture:!0});let GH=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new Ze,this.pointerUp=new Ze,this.scroll=new Ze,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Gb)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Gb)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Gb}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:Gb}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,a)=>{this._document.addEventListener(a,r.handler,r.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Qe(s=>this._ngZone.runOutsideAngular(()=>{const a=o=>{this._activeDragInstances.length&&s.next(o)};return e.addEventListener("scroll",a,!0),()=>{e.removeEventListener("scroll",a,!0)}}))),Ar(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(H(ze),H(Xe))},n.\u0275prov=ue({factory:function(){return new n(H(ze),H(Xe))},token:n,providedIn:"root"}),n})();const Ste={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let vI=(()=>{class n{constructor(e,i,s,r){this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(e,i=Ste){return new yte(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new _te(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(H(Xe),H(ze),H(aI),H(GH))},n.\u0275prov=ue({factory:function(){return new n(H(Xe),H(ze),H(aI),H(GH))},token:n,providedIn:"root"}),n})();const yI=new be("CDK_DRAG_PARENT"),_I=new be("CdkDropListGroup"),jH=new be("CDK_DRAG_CONFIG");let wte=0;const WH=new be("CdkDropList");let kte=(()=>{class n{constructor(e,i,s,r,a,o,l){this.element=e,this._changeDetectorRef=s,this._scrollDispatcher=r,this._dir=a,this._group=o,this._destroyed=new Ze,this.connectedTo=[],this.id="cdk-drop-list-"+wte++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new pt,this.entered=new pt,this.exited=new pt,this.sorted=new pt,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(h,d)=>this.enterPredicate(h.data,d.data),this._dropListRef.sortPredicate=(h,d,m)=>this.sortPredicate(h,d.data,m.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),o&&o._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=js(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(ig(this._dir.value),Yo(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=function(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(s=>"string"==typeof s?n._dropLists.find(a=>a.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===i.indexOf(s)&&i.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=js(this.sortingDisabled),e.autoScrollDisabled=js(this.autoScrollDisabled),e.autoScrollStep=Ec(this.autoScrollStep,2),e.connectedTo(i.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:i,draggingDisabled:s,sortingDisabled:r,listAutoScrollDisabled:a,listOrientation:o}=e;this.disabled=null!=s&&s,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=a&&a,this.orientation=o||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n.\u0275fac=function(e){return new(e||n)($(Nt),$(vI),$(py),$(rI),$(ag,8),$(_I,12),$(jH,8))},n.\u0275dir=de({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(dr("id",i.id),Jl("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[lt([{provide:_I,useValue:void 0},{provide:WH,useExisting:n}])]}),n._dropLists=[],n})();const bI=new be("CdkDragHandle");let Cte=(()=>{class n{constructor(e,i){this.element=e,this._stateChanges=new Ze,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(e){this._disabled=js(e),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)($(Nt),$(yI,12))},n.\u0275dir=de({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[lt([{provide:bI,useExisting:n}])]}),n})();const zH=new be("CdkDragPlaceholder"),KH=new be("CdkDragPreview");let Pte=(()=>{class n{constructor(e,i,s,r,a,o,l,h,d,m,y){this.element=e,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=a,this._dir=l,this._changeDetectorRef=d,this._selfHandle=m,this._parentDrag=y,this._destroyed=new Ze,this.started=new pt,this.released=new pt,this.ended=new pt,this.entered=new pt,this.exited=new pt,this.dropped=new pt,this.moved=new Qe(S=>{const k=this._dragRef.moved.pipe(ys(T=>({source:this,pointerPosition:T.pointerPosition,event:T.event,delta:T.delta,distance:T.distance}))).subscribe(S);return()=>{k.unsubscribe()}}),this._dragRef=h.createDrag(e,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),o&&this._assignDefaults(o),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=js(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(lI(1),Yo(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,s=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement,i=this.rootElementSelector?QH(e,this.rootElementSelector):e;this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?QH(this.element.nativeElement,e):Bi(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,s=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof s&&s?s:Ec(s),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(lI(1)).subscribe(()=>{var i,s;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(null===(i=r.classList)||void 0===i?void 0:i.contains("cdk-drag")){e.withParent((null===(s=n._dragInstances.find(a=>a.element.nativeElement===r))||void 0===s?void 0:s._dragRef)||null);break}r=r.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:s,constrainPosition:r,previewClass:a,boundaryElement:o,draggingDisabled:l,rootElementSelector:h,previewContainer:d}=e;this.disabled=null!=l&&l,this.dragStartDelay=s||0,i&&(this.lockAxis=i),r&&(this.constrainPosition=r),a&&(this.previewClass=a),o&&(this.boundaryElement=o),h&&(this.rootElementSelector=h),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.changes.pipe(ig(this._handles),function(n,t,e){return function(s){return s.lift(new fte(n,undefined,undefined))}}(e=>{const i=e.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),tI(e=>Ar(...e.map(i=>i._stateChanges.pipe(ig(i))))),Yo(this._destroyed)).subscribe(e=>{const i=this._dragRef,s=e.element.nativeElement;e.disabled?i.disableHandle(s):i.enableHandle(s)})}}return n.\u0275fac=function(e){return new(e||n)($(Nt),$(WH,12),$(Xe),$(ze),$(Ls),$(jH,8),$(ag,8),$(vI),$(py),$(bI,10),$(yI,12))},n.\u0275dir=de({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,s){if(1&e&&(wy(s,KH,5),wy(s,zH,5),wy(s,bI,5)),2&e){let r;sc(r=rc())&&(i._previewTemplate=r.first),sc(r=rc())&&(i._placeholderTemplate=r.first),sc(r=rc())&&(i._handles=r)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&Jl("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[lt([{provide:yI,useExisting:n}]),Dt]}),n._dragInstances=[],n})();function QH(n,t){let e=n.parentElement;for(;e;){if(e.matches?e.matches(t):e.msMatchesSelector(t))return e;e=e.parentElement}return null}let Dte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:[vI],imports:[oI]}),n})();class YH{}const Qa="*";function xte(n,t){return{type:7,name:n,definitions:t,options:{}}}function Mte(n,t=null){return{type:4,styles:t,timings:n}}function JH(n,t=null){return{type:2,steps:n,options:t}}function jb(n){return{type:6,styles:n,offset:null}}function ZH(n,t,e){return{type:0,name:n,styles:t,options:e}}function Rte(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function XH(n){Promise.resolve(null).then(n)}class qh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){XH(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class e4{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const r=this.players.length;0==r?XH(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==r&&this._onFinish()}),a.onDestroy(()=>{++i==r&&this._onDestroy()}),a.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((a,o)=>Math.max(a,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}let Ite=(()=>{class n{constructor(e){this.gameService=e,this.toyPetEvents=[],this.nonToyPetEvents=[]}redoPriorities(e){this.nonToyPetEvents=this.nonToyPetEvents.filter(i=>i.pet!=e);for(let i of this.nonToyPetEvents)i.priority=i.pet.attack;this.executeNonToyPetEvents()}initStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.player,pet:e})}for(let e of this.gameApi.opponet.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.opponet,pet:e})}}resetToyPetEvents(){this.toyPetEvents=[]}resetNonToyPetEvents(){this.nonToyPetEvents=[]}resetStartOfBattleFlags(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)e.startOfBattleTriggered=!1;for(let e of this.gameApi.opponet.petArray)e.startOfBattleTriggered=!1}executeToyPetEvents(){this.toyPetEvents=(0,vt.shuffle)(this.toyPetEvents),this.toyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.toyPetEvents){if(e.pet&&e.pet.transformed&&e.pet.transformedInto){const i=e.pet.transformedInto;if(!i.startOfBattle)continue;e.callback=i.startOfBattle.bind(i)}e.callback(this.gameApi)}this.resetToyPetEvents()}executeNonToyPetEvents(){this.nonToyPetEvents=(0,vt.shuffle)(this.nonToyPetEvents),this.nonToyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.nonToyPetEvents){if(e.pet.startOfBattleTriggered)continue;let i=e.pet;if(e.pet.transformed&&e.pet.transformedInto){const r=e.pet.transformedInto;if(!r.startOfBattle){e.pet.startOfBattleTriggered=!0;continue}i=r,e.callback=r.startOfBattle.bind(r)}if(i.startOfBattleTriggered=!0,e.callback(this.gameApi))return this.redoPriorities(e.pet)}this.resetNonToyPetEvents()}}return n.\u0275fac=function(e){return new(e||n)(H(wh))},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wI=(()=>{class n{constructor(){this.key="sapData"}getStorage(){return window.localStorage.getItem(this.key),window.localStorage.getItem(this.key)}setFormStorage(e){let i=(0,vt.cloneDeep)(e.value);const s=[...i.playerPets||[],...i.opponentPets||[]];for(const r of s)r&&(delete r.parent,delete r.logService,delete r.abilityService,delete r.gameService,delete r.petService,null!=r.equipment&&(r.equipment={name:r.equipment.name}));this.setStorage(i)}setStorage(e){"object"==typeof e&&(e=JSON.stringify(e)),window.localStorage.setItem(this.key,e)}clearStorage(){window.localStorage.removeItem(this.key)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ote=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bn({type:n,selectors:[["app-patch-notes"]],decls:542,vars:0,template:function(e,i){1&e&&(p(0,"h2"),w(1,"v0.7.0"),g(),p(2,"ul"),p(3,"li"),w(4,"Updated Abomination swallow options, note that Abomination and California still doesn't work for lots of abilites, especially those with multiple triggers, trigger limit, or special mechanics. Also can't gain multiple abilities with the same trigger"),g(),p(5,"li"),w(6,"Fixed bug with dazed not working, multiple mandrakes dazing same pet, bigfoot not recognised as a faint pet by mandrake, ghost kitten not reducing damage from crisp, chili, skewer, front thunderbird, salmon of knowledge affects themself, cyclops gives mana to itself on friend level, dazed makes mana snipes not go off, levelling a pet from level 1 to level 3 only triggers team spirit once. (Thanks Xrb) "),g(),p(7,"li"),w(8,"Updated most pets in the recent update"),g(),g(),p(9,"h2"),w(10,"v0.6.19"),g(),p(11,"ul"),p(12,"li"),w(13,"Fixed bug with Bunyip gaining health after it fainted. (Thanks ProfNinja)"),g(),p(14,"li"),w(15,"Implemented Silly logic in static packs, no acitavtion yet"),g(),p(16,"li"),w(17,"Fixed Bug with Pandoras Box (Thanks Tangl)"),g(),p(18,"li"),w(19,"Fixed Bug with not able to drag and drop sometimes (Thanks Tangl)"),g(),g(),p(20,"h2"),w(21,"v0.6.18"),g(),p(22,"ul"),p(23,"li"),w(24,"Fixed bug with 1 attack pet dealing 2 damage to pets with garlic. (Thanks Zoklev)"),g(),p(25,"li"),w(26,"Fixed bug with Octopus sniping same pet twice (Thanks Zoklev)"),g(),g(),p(27,"h2"),w(28,"v0.6.17"),g(),p(29,"ul"),p(30,"li"),w(31,"All pets and perks in star pack are updated."),g(),p(32,"li"),w(33,"Updated some star pack pets.(Thanks Tangl)"),g(),p(34,"li"),w(35,"All pets and perks execept Tree Kangaroo is updated"),g(),p(36,"li"),w(37,"Fixed bug with pets not removed correctly(Thanks Zoklev)"),g(),g(),p(38,"h2"),w(39,"v0.6.16"),g(),p(40,"ul"),p(41,"li"),w(42,"Updated Unicorn Perks."),g(),p(43,"li"),w(44,"Updated some star pack pets.(Thanks Tangl)"),g(),p(45,"li"),w(46,"Fixed bug with Rooster chicks being death linked"),g(),p(47,"li"),w(48,"Fixed Boar triggering twice"),g(),p(49,"li"),w(50,"Fixed Same Attack trigger not being random"),g(),p(51,"li"),w(52,"Fixed Hippo breaking the calculator"),g(),p(53,"li"),w(54,"Fixed Whale summon"),g(),p(55,"li"),w(56,"Fixed Tiger not working with summon"),g(),p(57,"li"),w(58,"Thanks Freetz for finding all the bugs"),g(),g(),p(59,"h2"),w(60,"v0.6.15"),g(),p(61,"ul"),p(62,"li"),w(63,"Updated trigger order"),g(),p(64,"li"),w(65,"Updated Golden pack"),g(),g(),p(66,"h2"),w(67,"v0.6.14"),g(),p(68,"ul"),p(69,"li"),w(70,"Fixed Bug with Dodo causing SOB ability triggering again. (Thanks JOEBOBBOBJOE)"),g(),p(71,"li"),w(72,"Fixed Bug with wrong summon place. (Thanks Freetz)"),g(),p(73,"li"),w(74,"Updated pets & perks in Puppy Pack."),g(),p(75,"li"),w(76,"Updated pets in Unicorn Pack. (Thanks Tangl)"),g(),g(),p(77,"h2"),w(78,"v0.6.13"),g(),p(79,"ul"),p(80,"li"),w(81,"Updated Deer, Turkey, Whale, and Wolverine."),g(),p(82,"li"),w(83,"Added gain perk trigger for rabbit and seal."),g(),g(),p(84,"h2"),w(85,"v0.6.12"),g(),p(86,"ul"),p(87,"li"),w(88,"Fixed bug with Parrot chaining when front Parrot has lower attack. (Thanks jer.re)"),g(),p(89,"li"),w(90,"Fixed bug with level 1 Crab having 0 health when copying health of pet with 1 health. (Thanks Freetz)"),g(),g(),p(91,"h2"),w(92,"v0.6.11"),g(),p(93,"ul"),p(94,"li"),w(95,"Fixed bug with spawn perks having unpredictable spawn locations. (Thanks Tangl and Wombat)"),g(),p(96,"li"),w(97,"Fixed bug with Parrot chaining. (Thanks Tangl)"),g(),p(98,"li"),w(99,"Fixed bug with Fig (and probably other perks) not working with Parrot."),g(),g(),p(100,"h2"),w(101,"v0.6.10"),g(),p(102,"ul"),p(103,"li"),w(104,"Fixed bug on Import Calculator where importing an empty slot would cause pets from previous calculator to persist. (Thanks jer.re and Freetz)"),g(),p(105,"li"),w(106,"Fixed Pandoras Box"),g(),p(107,"ul"),p(108,"li"),w(109,"Removed perks available according to here: https://superautopets.wiki.gg/wiki/Pandoras_Box"),g(),p(110,"li"),w(111,"Pandoras Box has a 50% chance to give an ailment. If this is incorrect direct hate towards Cheese from SAP Dojo."),g(),g(),g(),p(112,"h2"),w(113,"v0.6.9"),g(),p(114,"ul"),p(115,"li"),w(116,"Fixed more tiger interactions breaking calculator. (Thanks tibby)"),g(),g(),p(117,"h2"),w(118,"v0.6.8"),g(),p(119,"ul"),p(120,"li"),w(121,"Added Export Calculator modal."),g(),p(122,"li"),w(123,"Fixed bug with Dodo not changing Start of Battle priorities in battle. (Thanks Plkess and CrocsAreNice)"),g(),p(124,"li"),w(125,"Fixed bug with Armadillo not giving itself health."),g(),p(126,"li"),w(127,"Fixed Salmon of Knowledge giving itself experience. (Thanks Wombat)"),g(),p(128,"li"),w(129,"Added Unicorn Pack to custom pack editor. (Thanks Rake News)"),g(),p(130,"li"),w(131,"Changed priorty order of knock out and pet ahead faints abilities - fixes Rhino/Ox interaction. (Thanks Mazl0w)"),g(),g(),p(132,"h2"),w(133,"v0.6.7"),g(),p(134,"ul"),p(135,"li"),w(136,"Fixed bug with Tiger sometimes using the wrong level. (Thanks hop)"),g(),g(),p(137,"h2"),w(138,"v0.6.6"),g(),p(139,"ul"),p(140,"li"),w(141,"Fixed bug with parrot. (Thanks hop)"),g(),p(142,"li"),w(143,"Fixed bug with Crisp always doing 6 damage. (Thanks Kutarba)"),g(),g(),p(144,"h2"),w(145,"v0.6.5"),g(),p(146,"ul"),p(147,"li"),w(148,"Fixed Anubis feint abilities happening before other start of battle abilities. (Thanks Grounded)"),g(),p(149,"li"),w(150,"Fixed Roc. (Thanks Grounded)"),g(),p(151,"li"),w(152,"Fixed mana snipe going off after Kitsune removes the mana. (Thanks Grounded)"),g(),p(153,"li"),w(154,"Fixed Manticore ability not going off if it feints. (Thanks goose)"),g(),p(155,"li"),w(156,"Fixed issue with Calygreyhound and there being only one pet left. (Thanks MAi.k)"),g(),p(157,"li"),w(158,"Fixed issue with Slepnir not targeting correctly. (Thanks goose)"),g(),p(159,"li"),w(160,"Max mana is now 50. (Thanks goose)"),g(),p(161,"li"),w(162,"Fixed potato."),g(),p(163,"li"),w(164,"Fixed issue with Pteradon not summoning behind itself in some cases."),g(),p(165,"li"),w(166,"Fixed Snake + Tiger bug. (Thanks mumf)"),g(),g(),p(167,"h2"),w(168,"v0.6.4"),g(),p(169,"ul"),p(170,"li"),w(171,"Fixed order of Friend Faints events so that it triggers after friendly units are summoned. (Thanks Grounded)"),g(),p(172,"li"),w(173,"Fixed calculator simulating only once. \u{1f926}\u200d\u2642\ufe0f"),g(),g(),p(174,"h2"),w(175,"v0.6.3"),g(),p(176,"ul"),p(177,"li"),w(178,"Added Yggdrasil Fruit (Thanks Vuenc)"),g(),p(179,"li"),w(180,"Fixed issue with some pets when spawned having mana. (Thanks Grounded)"),g(),g(),p(181,"h2"),w(182,"v0.6.2"),g(),p(183,"ul"),p(184,"li"),w(185,"Fixed Monty's base stats. (Thanks goose)"),g(),p(186,"li"),w(187,"Fixed Visitor's (and Bear's) ability not targeting ahead friendly units. (Thanks goose)"),g(),p(188,"li"),w(189,"Fixed bug where Tiger fainting before Start of Battle abilities did not triger the Tiger's ability. (Thanks goose)"),g(),p(190,"li"),w(191,"Fixed bug with certain pets having Donut breaking the calculator. (Thanks Freetz)"),g(),p(192,"li"),w(193,"Fixed Manticore not working with Crips. (Thanks Freetz)"),g(),p(194,"li"),w(195,"Added 'Ailment Equipment' mode."),g(),g(),p(196,"h2"),w(197,"v0.6.1"),g(),p(198,"ul"),p(199,"li"),w(200,"Fixed Roc not targeting Donut pets. (Thanks mewi3977)"),g(),p(201,"li"),w(202,"Updated to SAP Version 0.33.3-151 BETA"),g(),p(203,"ul"),p(204,"li"),w(205,"Changed Chimera, Nessie, Axehandle Hound, Unicorn, Vampire Bat, Warf, Barghest, Cyclops, Mana Hound, Loveland Frogman, Jersey Devil, Tigerbug, Bigfoot, Calygreyhound, Gargoyle, Ghost Kitten, Jackalope, Minotaur, Worm of Sand, Werewolf, Lucky Cat, Ogopogo. "),g(),p(206,"li"),w(207,"Added Spooked"),g(),p(208,"li"),w(209,"Minotaur stacks."),g(),g(),p(210,"li"),w(211,"Added Weak as an equipment option."),g(),p(212,"li"),w(213,"Import pack works with Unicorn pets."),g(),g(),p(214,"h2"),w(215,"v0.6.0"),g(),p(216,"ul"),p(217,"li"),w(218,"Unicorn Pack \u{1f389}"),g(),p(219,"li"),w(220,"Updated Info/Guide"),g(),g(),p(221,"h2"),w(222,"v0.5.27"),g(),p(223,"ul"),p(224,"li"),w(225,"Fixed bug with Camel's ability logs showing incorrect values."),g(),g(),p(226,"h2"),w(227,"v0.5.26"),g(),p(228,"ul"),p(229,"li"),w(230,"Fixed bugs with drag and drop. (Thanks Agentcore)"),g(),g(),p(231,"h2"),w(232,"v0.5.25"),g(),p(233,"ul"),p(234,"li"),w(235,"Fixed some import bugs."),g(),g(),p(236,"h2"),w(237,"v0.5.24"),g(),p(238,"ul"),p(239,"li"),w(240,"Fixed bug with Custom Pack dialog not opening."),g(),g(),p(241,"h2"),w(242,"v0.5.23"),g(),p(243,"ul"),p(244,"li"),w(245,"Fixed bug with importing empty pet slots."),g(),p(246,"li"),w(247,"Fixed bug with pets that Tapir summon being disjointed from its' parent player. (Thanks goose)"),g(),g(),p(248,"h2"),w(249,"v0.5.22"),g(),p(250,"ul"),p(251,"li"),w(252,"Fixed Pigeon base stats. (Thanks goose)"),g(),p(253,"li"),w(254,"Fixed Crab copying highest health pets stats even after fainting from other start of battle abilities. (Thanks Phoenix)"),g(),g(),p(255,"h2"),w(256,"v0.5.21"),g(),p(257,"ul"),p(258,"li"),w(259,"Fixed a few Panther/equipment interactions."),g(),p(260,"ul"),p(261,"li"),w(262,"Tomato (Thanks jer.re), Salt, Cheese, Durian, Egg."),g(),g(),g(),p(263,"h2"),w(264,"v0.5.20"),g(),p(265,"ul"),p(266,"li"),w(267,"Added Komodo Shuffle option."),g(),g(),p(268,"h2"),w(269,"v0.5.19"),g(),p(270,"ul"),p(271,"li"),w(272,"Removed Beluga Whale from Orca spawn pool."),g(),g(),p(273,"h2"),w(274,"v0.5.18"),g(),p(275,"ul"),p(276,"li"),w(277,"Fixed bug with Friend Ahead Attacks ability pets not triggering when fainting. (Thanks tibby)"),g(),g(),p(278,"h2"),w(279,"v0.5.17"),g(),p(280,"ul"),p(281,"li"),w(282,"Fixed bug that required running simulation on export."),g(),p(283,"li"),w(284,"Fixed bug with ailment overwritting faint food while pet faints breaking simulation."),g(),p(285,"li"),w(286,'Added "Token Pets" option.'),g(),p(287,"li"),w(288,"Added confirmation window to Reset and Randomize buttons."),g(),g(),p(289,"h2"),w(290,"v0.5.16"),g(),p(291,"ul"),p(292,"li"),w(293,"Fixed bug with Beluga Whale pet not spawning. (Thanks goose)"),g(),p(294,"li"),w(295,"Fixed bug with Chocolate Cake not triggering Knocked Out abilities."),g(),p(296,"li"),w(297,"Fixed bug with Cherry/Fig triggering multiple times after running multiple simulations."),g(),g(),p(298,"h2"),w(299,"v0.5.15"),g(),p(300,"ul"),p(301,"li"),w(302,"Updated to SAP Version 0.31.9-145 BETA"),g(),p(303,"ul"),p(304,"li"),w(305,"Added Pigeon, Hare."),g(),p(306,"li"),w(307,"Changed Cricket, Mouse Nest, Robin, Tabby Cat, Dog, Dolphin, Flying Squirrel, Hatching Chick, Owl, Ox, Raccoon, Cockatoo, Mosasaurus, Tyrannosaurus."),g(),p(308,"li"),w(309,"Added Fig."),g(),p(310,"li"),w(311,"Changed Cherry."),g(),g(),g(),p(312,"h2"),w(313,"v0.5.14"),g(),p(314,"ul"),p(315,"li"),w(316,"Bug Report System."),g(),g(),p(317,"h2"),w(318,"v0.5.13"),g(),p(319,"ul"),p(320,"li"),w(321,"Fixed bug with Opponent Empty Front Space events not triggering. (Thanks jer.re)"),g(),g(),p(322,"h2"),w(323,"v0.5.12"),g(),p(324,"ul"),p(325,"li"),w(326,"Pug is tier 3."),g(),p(327,"li"),w(328,"Siberian Husky spelling fix."),g(),p(329,"li"),w(330,"Fixed Kiwi not availble on Star pack. (Thanks Grounded)"),g(),g(),p(331,"h2"),w(332,"v0.5.11"),g(),p(333,"ul"),p(334,"li"),w(335,"Opossum is spelled correctly."),g(),g(),p(336,"h2"),w(337,"v0.5.10"),g(),p(338,"ul"),p(339,"li"),w(340,"Buff pets do not target 50/50 friends."),g(),g(),p(341,"h2"),w(342,"v0.5.9"),g(),p(343,"ul"),p(344,"li"),w(345,"Fixed Rhino base stats."),g(),p(346,"li"),w(347,"Fixed bug with Tiger behind Hurt pet. (Thanks Freetz)."),g(),p(348,"li"),w(349,"Reset button resets Equipment."),g(),p(350,"li"),w(351,"Fixed bugs with export/import."),g(),g(),p(352,"h2"),w(353,"v0.5.8"),g(),p(354,"ul"),p(355,"li"),w(356,"Fixed bug where Zombie Flies sometimes would spawn in the wrong position. (Thanks Grounded)"),g(),g(),p(357,"h2"),w(358,"v0.5.7"),g(),p(359,"ul"),p(360,"li"),w(361,"Added Pineapple."),g(),g(),p(362,"h2"),w(363,"v0.5.6"),g(),p(364,"ul"),p(365,"li"),w(366,"Fixed bug with Turtle always behaving as a level 1."),g(),g(),p(367,"h2"),w(368,"v0.5.5"),g(),p(369,"ul"),p(370,"li"),w(371,"Fixed bug with Pancakes pet getting all of the stats. (Thanks Grounded)"),g(),g(),p(372,"h2"),w(373,"v0.5.4"),g(),p(374,"ul"),p(375,"li"),w(376,"Calculator is (more) usable on mobile devices."),g(),g(),p(377,"h2"),w(378,"v0.5.3"),g(),p(379,"ul"),p(380,"li"),w(381,"Added Reset buttons for the Player and Opponent."),g(),p(382,"li"),w(383,"Export/Import Calculator."),g(),p(384,"li"),w(385,'Added "Old Stork" mode.'),g(),p(386,"li"),w(387,"Fixed spawn bug sometimes duplicating pets when up against Royal Flycatcher. (Thanks Freetz)"),g(),p(388,"li"),w(389,"Fixed bug with pets having Friend Summoned abilities hitting themselves when summoned with a mushroom."),g(),p(390,"li"),w(391,"Fixed bug with Pteradon's ability triggering if it also faints."),g(),g(),p(392,"h2"),w(393,"v0.5.2"),g(),p(394,"ul"),p(395,"li"),w(396,"Import Custom Packs"),g(),p(397,"li"),w(398,"Custom Pack editor improvments."),g(),g(),p(399,"h2"),w(400,"v0.5.1"),g(),p(401,"ul"),p(402,"li"),w(403,"Added remaining custom pack pets."),g(),p(404,"ul"),p(405,"li"),w(406,"Frilled Dragon, Wombat, Aardvark, Bear, Emperor Tamerain, Procupine, Wasp Dragonfly, Lynx, Seagull, Alpaca, Hyena, Moose, Lioness, Tapir, Walrus, White Tiger"),g(),g(),p(407,"li"),w(408,"Added remaining custom pack food."),g(),p(409,"ul"),p(410,"li"),w(411,"Blueberry, Donut"),g(),g(),p(412,"li"),w(413,"Fixed bug with blobfish showing as tier 3. (Thanks Freetz)"),g(),p(414,"li"),w(415,"Fixed bug with eggplant triggering multiple times when running the simulation multiple times. (Thanks Freetz)"),g(),p(416,"li"),w(417,"Fixed bug with mosquito able to target the same pet."),g(),g(),p(418,"h2"),w(419,"v0.5.0"),g(),p(420,"ul"),p(421,"li"),w(422,"Added custom packs!"),g(),p(423,"li"),w(424,"Added Jerboa"),g(),p(425,"li"),w(426,"Added Fortune Cookie"),g(),g(),p(427,"h2"),w(428,"v0.4.16"),g(),p(429,"ul"),p(430,"li"),w(431,"Updated to SAP Version 0.30.6-138 BETA"),g(),p(432,"ul"),p(433,"li"),w(434," Updated stats/abilities of these pets: Whale, Frog, Iguana, Marmoset, Mouse, Koala, Panda, Shrimp, Tabby Cat, Camel, Eel, Giraffe, Musk Ox, Owl, Ox, Starfish, Anteater, Chameleon, Egyptian Vulture, Manta Ray, Platypus, Cockatoo, Crane, Monkey, Shark, Piranha, Sabertooth Tiger. "),g(),p(435,"li"),w(436," Added Durian. "),g(),g(),g(),p(437,"h2"),w(438,"v0.4.15"),g(),p(439,"ul"),p(440,"li"),w(441,"Fixed bug with Eggplant triggering too many times. (Thanks Freetz)"),g(),g(),p(442,"h2"),w(443,"v0.4.14"),g(),p(444,"ul"),p(445,"li"),w(446,"Fixed rounding error with Skunk ability/Stinky Sock."),g(),p(447,"li"),w(448,"Fixed faint pets ability being the level of the whale when swallowed. (Thanks kutarba)"),g(),g(),p(449,"h2"),w(450,"v0.4.13"),g(),p(451,"ul"),p(452,"li"),w(453,"Fixed Pteradon"),g(),g(),p(454,"h2"),w(455,"v0.4.12"),g(),p(456,"ul"),p(457,"li"),w(458,"Updated to SAP Version 0.29.6-135 BETA"),g(),p(459,"ul"),p(460,"li"),w(461,"Updated stats/abilities of these pets: Ladybug, Atlantic Puffin, Guinea Pig, Hedgehog, Jellyfish, Pug, Salamander, Toucan, Blobfish, Clownfish, Flea, Flying Fish, Mole, Chameleon, Eel, Hippo, Poison Dart Frog, Whale, Fire Ant, Fox, Turkey, Lionfish, Pteradon, Tyrannosaurus. "),g(),g(),g(),p(462,"h2"),w(463,"v0.4.11"),g(),p(464,"ul"),p(465,"li"),w(466,"Fixed bug with Tiger not triggering Leopard when there are few enemies. (Thanks /u/MHolmesSC)"),g(),p(467,"li"),w(468,"Fixed bug with Ant over buffing units on faint. (Thanks /u/MHolmesSC)"),g(),p(469,"li"),w(470,"Fixed bug with Spider behaving odd. (Thanks /u/-RARO-)"),g(),w(471,"ng\n"),g(),p(472,"h2"),w(473,"v0.4.10"),g(),p(474,"ul"),p(475,"li"),w(476,"Fixed bug with Fly not spawning Zombie Fly from Start of Battle abilities fainting pets. (Thanks /u/Danielmac757)"),g(),g(),p(477,"h2"),w(478,"v0.4.9"),g(),p(479,"ul"),p(480,"li"),w(481,"Info/Guide modal."),g(),g(),p(482,"h2"),w(483,"v0.4.8"),g(),p(484,"ul"),p(485,"li"),w(486,"Fixed a bug with Fly attempting to spawn Zombie Fly when there is no room."),g(),g(),p(487,"h2"),w(488,"v0.4.7"),g(),p(489,"ul"),p(490,"li"),w(491,"Updated to SAP Version 0.28.20-130 BETA"),g(),p(492,"ul"),p(493,"li"),w(494,"Changed pets so they all move forward after start of battle abilities."),g(),g(),g(),p(495,"h2"),w(496,"v0.4.6"),g(),p(497,"ul"),p(498,"li"),w(499,"Fixed a bug with mushroom breaking the simulation by breaking the cache process. (Thanks BeastiaVenator)"),g(),p(500,"li"),w(501,"Fixed a bug with loading equipment from the browser cache."),g(),g(),p(502,"h2"),w(503,"v0.4.5"),g(),p(504,"ul"),p(505,"li"),w(506,"Drag and Drop!"),g(),g(),p(507,"h2"),w(508,"v0.4.4"),g(),p(509,"ul"),p(510,"li"),w(511,"Fixed a handful of Tiger bugs causing infinite loops."),g(),p(512,"li"),w(513,"Fixed a bug with typing select options."),g(),g(),p(514,"h2"),w(515,"v0.4.3"),g(),p(516,"ul"),p(517,"li"),w(518,"Duplicate pet option hotfix."),g(),g(),p(519,"h2"),w(520,"v0.4.2"),g(),p(521,"ul"),p(522,"li"),w(523,"Calculator state saves on 'Simulate'."),g(),p(524,"ul"),p(525,"li"),w(526,"This is stored in the browser cache. You can clear the cache by clicking on the link on the bottom of this modal."),g(),g(),p(527,"li"),w(528,"Fixed bugs with Angler mode toggling."),g(),p(529,"li"),w(530,"Zoom In/Out feature."),g(),p(531,"li"),w(532,"Fixed bug with Fly triggering twice instead of three times. (Thanks nob)"),g(),p(533,"li"),w(534,"Fixed bug with some snipe pets having no targets breaking simulation."),g(),g(),p(535,"h2"),w(536,"v0.4.1"),g(),p(537,"ul"),p(538,"li"),w(539,"Fixed a bug where Shark would gain attack/health on its own death. (Thanks mumf)"),g(),p(540,"li"),w(541,"Fixed a bug where attack bonus food would affect snipes. (Thanks Tangl)"),g(),g())},styles:[""]}),n})();const Nte=JSON.parse('{"tier1":[{"name":"African Wild Dog","tier":"1","id":"722"},{"name":"Alchemedes","tier":"1","id":"626"},{"name":"Ant","tier":"1","id":"0"},{"name":"Axehandle Hound","tier":"1","id":"377"},{"name":"Baku","tier":"1","id":"628"},{"name":"Barghest","tier":"1","id":"621"},{"name":"Basilisk","tier":"1","id":"332"},{"name":"Beaver","tier":"1","id":"3"},{"name":"Bee","tier":"1","id":"4"},{"name":"Bombus Dahlbomii","tier":"1","id":"674"},{"name":"Ethiopian Wolf","tier":"1","id":"675"},{"name":"Fan Mussel","tier":"1","id":"676"},{"name":"Togian Babirusa","tier":"1","id":"677"},{"name":"Tooth Billed Pigeon","tier":"1","id":"678"},{"name":"Beetle","tier":"1","id":"88"},{"name":"Bluebird","tier":"1","id":"89"},{"name":"Bulldog","tier":"1","id":"189"},{"name":"Bunyip","tier":"1","id":"601"},{"name":"Burbel","tier":"1","id":"659"},{"name":"Bus","tier":"1","id":"85"},{"name":"Butterfly","tier":"1","id":"9"},{"name":"Chick","tier":"1","id":"13"},{"name":"Chimera Goat","tier":"1","id":"648"},{"name":"Chimera Lion","tier":"1","id":"650"},{"name":"Chimera Snake","tier":"1","id":"649"},{"name":"Chinchilla","tier":"1","id":"161"},{"name":"Chipmunk","tier":"1","id":"184"},{"name":"Cockroach","tier":"1","id":"18"},{"name":"Cone Snail","tier":"1","id":"272"},{"name":"Cracked Egg","tier":"1","id":"647"},{"name":"Cricket","tier":"1","id":"17"},{"name":"Cuddle Toad","tier":"1","id":"611"},{"name":"Daycrawler","tier":"1","id":"641"},{"name":"Dirty Rat","tier":"1","id":"58"},{"name":"Duck","tier":"1","id":"26"},{"name":"Duckling","tier":"1","id":"113"},{"name":"Fake Nessie","tier":"1","id":"614"},{"name":"Ferret","tier":"1","id":"172"},{"name":"Fire Pup","tier":"1","id":"343"},{"name":"Fish","tier":"1","id":"32"},{"name":"Frilled Dragon","tier":"1","id":"198"},{"name":"Frog","tier":"1","id":"139"},{"name":"Gecko","tier":"1","id":"229"},{"name":"Giant Eyes Dog","tier":"1","id":"644"},{"name":"Golden Retriever","tier":"1","id":"188"},{"name":"Good Dog","tier":"1","id":"658"},{"name":"Salmon","tier":"1","id":"726"},{"name":"Mimic Octopus","tier":"6","id":"727"},{"name":"Ammonite","tier":"6","id":"730"},{"name":"Velociraptor","tier":"6","id":"732"},{"name":"Baby Urchin","tier":"2","id":"731"},{"name":"Goose","tier":"1","id":"232"},{"name":"Groundhog","tier":"1","id":"233"},{"name":"Guinea Piglet","tier":"1","id":"179"},{"name":"Lemming","tier":"1","id":"665"},{"name":"Chihuahua","tier":"1","id":"666"},{"name":"Firefly","tier":"1","id":"667"},{"name":"Pheasant","tier":"1","id":"668"},{"name":"Horse","tier":"1","id":"39"},{"name":"Hummingbird","tier":"1","id":"138"},{"name":"Hydra Head","tier":"1","id":"643"},{"name":"Iriomote Cat","tier":"1","id":"672"},{"name":"Ili Pika","tier":"1","id":"673"},{"name":"Malay Tapir","tier":"1","id":"704"},{"name":"Kiwi","tier":"1","id":"131"},{"name":"Ladybug","tier":"1","id":"92"},{"name":"Lizard Tail","tier":"1","id":"282"},{"name":"Loyal Chinchilla","tier":"1","id":"183"},{"name":"Magpie","tier":"1","id":"239"},{"name":"Marmoset","tier":"1","id":"204"},{"name":"Moby Dick","tier":"1","id":"-"},{"name":"Monty","tier":"1","id":"384"},{"name":"Mosquito","tier":"1","id":"47"},{"name":"Moth","tier":"1","id":"141"},{"name":"Mouse","tier":"1","id":"48"},{"name":"Murmel","tier":"1","id":"362"},{"name":"Nest","tier":"1","id":"508"},{"name":"Opossum","tier":"1","id":"187"},{"name":"Otter","tier":"1","id":"51"},{"name":"Pied Tamarin","tier":"1","id":"251"},{"name":"Pig","tier":"1","id":"59"},{"name":"Pigeon","tier":"1","id":"559"},{"name":"Pillbug","tier":"1","id":"149"},{"name":"Ram","tier":"1","id":"62"},{"name":"Mantis","tier":"1","id":"664"},{"name":"Rock","tier":"1","id":"638"},{"name":"Seahorse","tier":"1","id":"152"},{"name":"Silkmoth","tier":"1","id":"260"},{"name":"Sloth","tier":"1","id":"71"},{"name":"Smaller Slime","tier":"1","id":"642"},{"name":"Smaller Slug","tier":"1","id":"270"},{"name":"Smallest Slug","tier":"1","id":"477"},{"name":"Sneaky Egg","tier":"1","id":"617"},{"name":"Tsuchinoko","tier":"1","id":"379"},{"name":"Volcano Snail","tier":"1","id":"661"},{"name":"Warf","tier":"1","id":"382"},{"name":"Young Phoenix","tier":"1","id":"646"},{"name":"Zombie Cricket","tier":"1","id":"86"},{"name":"Zombie Fly","tier":"1","id":"31"},{"name":"Pengobble","tier":"1","id":"743"},{"name":"Gibbon","tier":"1","id":"748"},{"name":"Termite","tier":"1","id":"749"},{"name":"Fairy Ball","tier":"1","id":"751"},{"name":"Nessie Q","tier":"1","id":"752"},{"name":"Summoned Cockroach","tier":"1","id":"753"}],"tier2":[{"name":"African Penguin","tier":"2","id":"210"},{"name":"Angry Pygmy Hog","tier":"2","id":"679"},{"name":"Araripe Manakin","tier":"2","id":"705"},{"name":"European Mink","tier":"2","id":"706"},{"name":"Atlantic Puffin","tier":"2","id":"132"},{"name":"Bat","tier":"2","id":"87"},{"name":"Beluga Sturgeon","tier":"2","id":"213"},{"name":"Bigfoot","tier":"2","id":"334"},{"name":"Bilby","tier":"2","id":"663"},{"name":"Black Necked Stilt","tier":"2","id":"215"},{"name":"Chupacabra","tier":"2","id":"339"},{"name":"Crab","tier":"2","id":"16"},{"name":"Darwin\'s Fox","tier":"2","id":"733"},{"name":"Door Head Ant","tier":"2","id":"220"},{"name":"Dove","tier":"2","id":"24"},{"name":"Dromedary","tier":"2","id":"104"},{"name":"Drop Bear","tier":"2","id":"341"},{"name":"Flamingo","tier":"2","id":"29"},{"name":"Frigatebird","tier":"2","id":"137"},{"name":"Frost Wolf","tier":"2","id":"344"},{"name":"Gargoyle","tier":"2","id":"345"},{"name":"Gazelle","tier":"2","id":"185"},{"name":"Ghost Kitten","tier":"2","id":"346"},{"name":"Golden Beetle","tier":"2","id":"634"},{"name":"Guinea Pig","tier":"2","id":"109"},{"name":"Hedgehog","tier":"2","id":"37"},{"name":"Hercules Beetle","tier":"2","id":"234"},{"name":"Iguana","tier":"2","id":"147"},{"name":"Jackalope","tier":"2","id":"353"},{"name":"Jellyfish","tier":"2","id":"122"},{"name":"Kangaroo","tier":"2","id":"40"},{"name":"Koala","tier":"2","id":"112"},{"name":"Lemur","tier":"2","id":"236"},{"name":"Lizard","tier":"2","id":"237"},{"name":"Lucky Cat","tier":"3","id":"623"},{"name":"Mandrill","tier":"2","id":"405"},{"name":"Mothman","tier":"2","id":"604"},{"name":"Nightcrawler","tier":"2","id":"605"},{"name":"Ogopogo","tier":"2","id":"639"},{"name":"Panda","tier":"2","id":"107"},{"name":"Peacock","tier":"2","id":"54"},{"name":"Proboscis Monkey","tier":"2","id":"680"},{"name":"Pygmy Hog","tier":"2","id":"681"},{"name":"Saola","tier":"2","id":"682"},{"name":"Saker Falcon","tier":"2","id":"707"},{"name":"Taita Shrew","tier":"2","id":"683"},{"name":"Takhi","tier":"2","id":"734"},{"name":"White-Bellied Heron","tier":"2","id":"684"},{"name":"Rat","tier":"2","id":"57"},{"name":"Robin","tier":"2","id":"255"},{"name":"Salamander","tier":"2","id":"164"},{"name":"Sea Turtle","tier":"2","id":"191"},{"name":"Sea Urchin","tier":"2","id":"258"},{"name":"Shrimp","tier":"2","id":"67"},{"name":"Snail","tier":"2","id":"72"},{"name":"Sphinx","tier":"2","id":"376"},{"name":"Spider","tier":"2","id":"74"},{"name":"Squid","tier":"2","id":"177"},{"name":"Stoat","tier":"2","id":"263"},{"name":"Stork","tier":"2","id":"136"},{"name":"Swan","tier":"2","id":"76"},{"name":"Tabby Cat","tier":"2","id":"99"},{"name":"Thunderbird","tier":"2","id":"610"},{"name":"Toucan","tier":"2","id":"151"},{"name":"Wombat","tier":"2","id":"207"},{"name":"Worm","tier":"2","id":"82"},{"name":"Yak","tier":"2","id":"163"},{"name":"Dumbo Octupus","tier":"2","id":"661"},{"name":"Bass","tier":"2","id":"669"},{"name":"Shima Enaga","tier":"2","id":"725"}],"tier3":[{"name":"Aardvark","tier":"3","id":"193"},{"name":"Amami Rabbit","tier":"3","id":"735"},{"name":"Anteater","tier":"3","id":"105"},{"name":"Baboon","tier":"3","id":"171"},{"name":"Badger","tier":"3","id":"2"},{"name":"Bear","tier":"3","id":"140"},{"name":"Betta Fish","tier":"3","id":"214"},{"name":"Blue-Throated Macaw","tier":"3","id":"685"},{"name":"Brain Cramp","tier":"3","id":"349"},{"name":"Calygreyhound","tier":"3","id":"336"},{"name":"Camel","tier":"3","id":"10"},{"name":"Capybara","tier":"3","id":"154"},{"name":"Cassowary","tier":"3","id":"133"},{"name":"Deer Lord","tier":"3","id":"651"},{"name":"Dodo","tier":"3","id":"21"},{"name":"Dog","tier":"3","id":"22"},{"name":"Dolphin","tier":"3","id":"23"},{"name":"Eel","tier":"3","id":"120"},{"name":"Elephant","tier":"3","id":"28"},{"name":"Emperor Tamarin","tier":"3","id":"197"},{"name":"Flea","tier":"3","id":"225"},{"name":"Flying Fish","tier":"3","id":"226"},{"name":"Flying Squirrel","tier":"3","id":"227"},{"name":"Foo Dog","tier":"3","id":"625"},{"name":"Fur-Bearing Trout","tier":"3","id":"653"},{"name":"Giraffe","tier":"3","id":"33"},{"name":"Gold Fish","tier":"3","id":"121"},{"name":"Griffin","tier":"3","id":"348"},{"name":"Guineafowl","tier":"3","id":"228"},{"name":"Hare","tier":"3","id":"551"},{"name":"Hatching Chick","tier":"3","id":"91"},{"name":"Hirola","tier":"3","id":"686"},{"name":"Hoopoe Bird","tier":"3","id":"235"},{"name":"Leech","tier":"3","id":"165"},{"name":"Mana Hound","tier":"3","id":"635"},{"name":"Mandrake","tier":"3","id":"357"},{"name":"Meerkat","tier":"3","id":"203"},{"name":"Minotaur","tier":"4","id":"360"},{"name":"Mole","tier":"3","id":"168"},{"name":"Monkey-Faced Bat","tier":"3","id":"708"},{"name":"Takin","tier":"3","id":"709"},{"name":"Tucuxi","tier":"3","id":"710"},{"name":"Musk Ox","tier":"3","id":"245"},{"name":"Okapi","tier":"3","id":"130"},{"name":"Osprey","tier":"3","id":"247"},{"name":"Ouroboros","tier":"3","id":"364"},{"name":"Owl","tier":"3","id":"95"},{"name":"Ox","tier":"3","id":"52"},{"name":"Pangolin","tier":"3","id":"249"},{"name":"Pegasus","tier":"3","id":"365"},{"name":"Porcupine","tier":"3","id":"169"},{"name":"Pug","tier":"3","id":"145"},{"name":"Pygmy Hippo","tier":"3","id":"687"},{"name":"Roloway Monkey","tier":"3","id":"688"},{"name":"Spoon-Billed Sandpiper","tier":"3","id":"689"},{"name":"Tree Kangaroo","tier":"3","id":"742"},{"name":"Angelshark","tier":"4","id":"690"},{"name":"Bonobo","tier":"4","id":"691"},{"name":"Giant Otter","tier":"4","id":"739"},{"name":"Giant Tortoise","tier":"4","id":"692"},{"name":"Golden Tamarin","tier":"4","id":"693"},{"name":"Humphead Wrasse","tier":"4","id":"711"},{"name":"Kakapo","tier":"4","id":"712"},{"name":"Longcomb Sawfish","tier":"4","id":"694"},{"name":"Puppy","tier":"3","id":"97"},{"name":"Rabbit","tier":"3","id":"60"},{"name":"Royal Flycatcher","tier":"3","id":"256"},{"name":"Sheep","tier":"3","id":"68"},{"name":"Skeleton Dog","tier":"3","id":"374"},{"name":"Slime","tier":"3","id":"375"},{"name":"Surgeon Fish","tier":"3","id":"264"},{"name":"Toad","tier":"3","id":"162"},{"name":"Tree","tier":"3","id":"378"},{"name":"Tropical Fish","tier":"3","id":"100"},{"name":"Wasp","tier":"3","id":"160"},{"name":"Weasel","tier":"3","id":"173"},{"name":"Woodpecker","tier":"5","id":"156"},{"name":"Wyvern","tier":"3","id":"385"},{"name":"Tuna","tier":"3","id":"670"}],"tier4":[{"name":"Abomination","tier":"4","id":"373"},{"name":"Anubis","tier":"4","id":"331"},{"name":"Amazon River Dolphin","tier":"4","id":"724"},{"name":"Bison","tier":"4","id":"5"},{"name":"Blobfish","tier":"5","id":"150"},{"name":"Blowfish","tier":"4","id":"7"},{"name":"Buffalo","tier":"4","id":"8"},{"name":"Caterpillar","tier":"4","id":"12"},{"name":"Chameleon","tier":"4","id":"216"},{"name":"Chimera","tier":"4","id":"338"},{"name":"Clownfish","tier":"4","id":"117"},{"name":"Cockatoo","tier":"4","id":"218"},{"name":"Crow","tier":"4","id":"195"},{"name":"Cuttlefish","tier":"4","id":"176"},{"name":"Cyclops","tier":"4","id":"630"},{"name":"Deer","tier":"4","id":"20"},{"name":"Doberman","tier":"4","id":"273"},{"name":"Donkey","tier":"4","id":"111"},{"name":"Dragonfly","tier":"4","id":"196"},{"name":"Fairy","tier":"4","id":"342"},{"name":"Falcon","tier":"4","id":"224"},{"name":"Gharial","tier":"4","id":"231"},{"name":"Hawk","tier":"4","id":"127"},{"name":"Hippo","tier":"4","id":"38"},{"name":"Hippocampus","tier":"4","id":"350"},{"name":"Jerboa","tier":"4","id":"199"},{"name":"Kraken","tier":"4","id":"355"},{"name":"Llama","tier":"4","id":"44"},{"name":"Lobster","tier":"4","id":"93"},{"name":"Lynx","tier":"4","id":"200"},{"name":"Manatee","tier":"4","id":"192"},{"name":"Manta Ray","tier":"4","id":"240"},{"name":"Microbe","tier":"4","id":"94"},{"name":"Old Mouse","tier":"4","id":"612"},{"name":"Orangutan","tier":"3","id":"157"},{"name":"Parrot","tier":"4","id":"53"},{"name":"Pelican","tier":"5","id":"129"},{"name":"Penguin","tier":"4","id":"56"},{"name":"Platypus","tier":"4","id":"159"},{"name":"Poison Dart Frog","tier":"4","id":"252"},{"name":"Praying Mantis","tier":"4","id":"126"},{"name":"Roc","tier":"4","id":"369"},{"name":"Rootling","tier":"4","id":"622"},{"name":"Saiga Antelope","tier":"4","id":"257"},{"name":"Seagull","tier":"4","id":"128"},{"name":"Sealion","tier":"4","id":"175"},{"name":"Secretary Bird","tier":"4","id":"259"},{"name":"Skunk","tier":"4","id":"70"},{"name":"Slug","tier":"4","id":"262"},{"name":"Squirrel","tier":"4","id":"75"},{"name":"Starfish","tier":"5","id":"153"},{"name":"Tahr","tier":"4","id":"393"},{"name":"Tatzelwurm","tier":"4","id":"654"},{"name":"Tiger Bug","tier":"4","id":"330"},{"name":"Turtle","tier":"4","id":"80"},{"name":"Unicorn","tier":"4","id":"380"},{"name":"Vaquita","tier":"4","id":"265"},{"name":"Visitor","tier":"4","id":"386"},{"name":"Whale","tier":"4","id":"81"},{"name":"Whale Shark","tier":"4","id":"267"},{"name":"Worm of Sand","tier":"4","id":"371"},{"name":"Elk","tier":"4","id":"671"},{"name":"Goblin Shark","tier":"4","id":"719"},{"name":"Red Lipped Batfish","tier":"4","id":"720"},{"name":"Platybelodon","tier":"4","id":"721"},{"name":"Tasmanian Devil","tier":"4","id":"736"},{"name":"Fairy Armadillo","tier":"4","id":"745"},{"name":"Siamese","tier":"4","id":"746"},{"name":"Sparrow","tier":"4","id":"747"}],"tier5":[{"name":"Aye-aye","tier":"5","id":"695"},{"name":"Banggai Cardinalfish","tier":"5","id":"696"},{"name":"Alpaca","tier":"5","id":"194"},{"name":"Armadillo","tier":"5","id":"166"},{"name":"Axolotl","tier":"5","id":"212"},{"name":"Bad Dog","tier":"5","id":"613"},{"name":"Beluga Whale","tier":"5","id":"182"},{"name":"Blue Ringed Octopus","tier":"5","id":"271"},{"name":"Boitata","tier":"5","id":"656"},{"name":"Chicken","tier":"5","id":"14"},{"name":"Cow","tier":"5","id":"15"},{"name":"Crane","tier":"5","id":"219"},{"name":"Crocodile","tier":"5","id":"19"},{"name":"Eagle","tier":"5","id":"27"},{"name":"Eagle","tier":"5","id":"662"},{"name":"Egyptian Vulture","tier":"5","id":"221"},{"name":"Emu","tier":"5","id":"223"},{"name":"Fire Ant","tier":"5","id":"274"},{"name":"Fox","tier":"5","id":"106"},{"name":"Goat","tier":"5","id":"34"},{"name":"Geometric Tortoise","tier":"5","id":"742"},{"name":"Giant Pangasius","tier":"5","id":"740"},{"name":"Hamster","tier":"5","id":"110"},{"name":"Hawaiian Monk Seal","tier":"5","id":"723"},{"name":"Marine Iguana","tier":"5","id":"755"},{"name":"Hyena","tier":"5","id":"167"},{"name":"Jersey Devil","tier":"5","id":"652"},{"name":"Kappa","tier":"5","id":"655"},{"name":"Kitsune","tier":"5","id":"354"},{"name":"Lion","tier":"5","id":"42"},{"name":"Loveland Frogman","tier":"5","id":"640"},{"name":"Macaque","tier":"5","id":"238"},{"name":"Mimic","tier":"5","id":"359"},{"name":"Monkey","tier":"5","id":"46"},{"name":"Moose","tier":"5","id":"202"},{"name":"Mosasaurus","tier":"5","id":"242"},{"name":"Nessie","tier":"5","id":"363"},{"name":"Nurikabe","tier":"5","id":"657"},{"name":"Nurse Shark","tier":"5","id":"276"},{"name":"Nyala","tier":"5","id":"246"},{"name":"Panther","tier":"5","id":"250"},{"name":"Pixiu","tier":"5","id":"619"},{"name":"Polar Bear","tier":"5","id":"108"},{"name":"Poodle","tier":"5","id":"96"},{"name":"Red Panda","tier":"5","id":"697"},{"name":"Taita Thrush","tier":"5","id":"713"},{"name":"Painted Terrapin","tier":"5","id":"714"},{"name":"Raccoon","tier":"5","id":"158"},{"name":"Red Dragon","tier":"5","id":"368"},{"name":"Rhino","tier":"5","id":"55"},{"name":"Rooster","tier":"5","id":"63"},{"name":"Salmon of Knowledge","tier":"5","id":"370"},{"name":"Scorpion","tier":"5","id":"65"},{"name":"Sea Cucumber","tier":"5","id":"717"},{"name":"Seal","tier":"5","id":"66"},{"name":"Shark","tier":"5","id":"69"},{"name":"Shoebill","tier":"5","id":"134"},{"name":"Siberian Husky","tier":"5","id":"146"},{"name":"Silver Fox","tier":"5","id":"261"},{"name":"Snapping Turtle","tier":"5","id":"277"},{"name":"Sting Ray","tier":"5","id":"178"},{"name":"Stonefish","tier":"5","id":"278"},{"name":"Sword Fish","tier":"5","id":"119"},{"name":"Tandgnost","tier":"5","id":"607"},{"name":"Tandgrisner","tier":"5","id":"608"},{"name":"Triceratops","tier":"5","id":"142"},{"name":"Turkey","tier":"5","id":"79"},{"name":"Vampire Bat","tier":"5","id":"381"},{"name":"Vulture","tier":"5","id":"135"},{"name":"Ibex","tier":"5","id":"727"},{"name":"Werewolf","tier":"5","id":"383"},{"name":"Wolf","tier":"5","id":"170"},{"name":"Snow Leopard","tier":"5","id":"737"},{"name":"Zebra","tier":"5","id":"155"},{"name":"Amalgamation","tier":"5","id":"750"}],"tier6":[{"name":"Amsterdam Albatross","tier":"6","id":"698"},{"name":"Bay Cat","tier":"6","id":"714"},{"name":"Black Rhino","tier":"6","id":"699"},{"name":"Blue Whale","tier":"6","id":"700"},{"name":"California Condor","tier":"6","id":"701"},{"name":"Green Sea Turtle","tier":"6","id":"702"},{"name":"Helmeted Hornbill","tier":"6","id":"703"},{"name":"Philippine Eagle","tier":"6","id":"715"},{"name":"Silky Sifaka","tier":"6","id":"716"},{"name":"Sumatran Tiger","tier":"6","id":"738"},{"name":"Anglerfish","tier":"6","id":"180"},{"name":"Behemoth","tier":"6","id":"333"},{"name":"Bird of Paradise","tier":"6","id":"181"},{"name":"Boar","tier":"6","id":"103"},{"name":"Cat","tier":"6","id":"11"},{"name":"Catfish","tier":"6","id":"174"},{"name":"Cerberus","tier":"6","id":"337"},{"name":"Cobra","tier":"6","id":"217"},{"name":"Cockatrice","tier":"6","id":"340"},{"name":"Dragon","tier":"6","id":"25"},{"name":"Elephant Seal","tier":"6","id":"222"},{"name":"Fly","tier":"6","id":"30"},{"name":"German Shepherd","tier":"6","id":"230"},{"name":"Gorilla","tier":"6","id":"36"},{"name":"Great One","tier":"6","id":"335"},{"name":"Grizzly Bear","tier":"6","id":"275"},{"name":"Hammerhead Shark","tier":"6","id":"123"},{"name":"Highland Cow","tier":"6","id":"186"},{"name":"Hydra","tier":"6","id":"352"},{"name":"Komodo","tier":"6","id":"124"},{"name":"Leopard","tier":"6","id":"41"},{"name":"Leviathan","tier":"6","id":"356"},{"name":"Lioness","tier":"6","id":"114"},{"name":"Lionfish","tier":"6","id":"201"},{"name":"Mammoth","tier":"6","id":"45"},{"name":"Manticore","tier":"6","id":"358"},{"name":"Mantis Shrimp","tier":"6","id":"190"},{"name":"Mongoose","tier":"6","id":"241"},{"name":"Octopus","tier":"6","id":"50"},{"name":"Orca","tier":"6","id":"116"},{"name":"Ostrich","tier":"6","id":"125"},{"name":"Oyster","tier":"6","id":"248"},{"name":"Phoenix","tier":"6","id":"366"},{"name":"Piranha","tier":"6","id":"118"},{"name":"Pteranodon","tier":"6","id":"253"},{"name":"Puma","tier":"6","id":"254"},{"name":"Questing Beast","tier":"6","id":"616"},{"name":"Quetzalcoatl","tier":"6","id":"367"},{"name":"Reindeer","tier":"6","id":"205"},{"name":"Harpy Eagle","tier":"6","id":"148"},{"name":"Sauropod","tier":"6","id":"98"},{"name":"Sea Serpent","tier":"6","id":"372"},{"name":"Sleipnir","tier":"6","id":"606"},{"name":"Snake","tier":"6","id":"73"},{"name":"Spinosaurus","tier":"6","id":"143"},{"name":"Stegosaurus","tier":"6","id":"144"},{"name":"Tapir","tier":"6","id":"208"},{"name":"Tarantula Hawk","tier":"6","id":"718"},{"name":"Team Spirit","tier":"6","id":"636"},{"name":"Tiger","tier":"6","id":"77"},{"name":"Tyrannosaurus","tier":"6","id":"78"},{"name":"Therizinosaurus","tier":"6","id":"115"},{"name":"Walrus","tier":"6","id":"209"},{"name":"Warthog","tier":"6","id":"266"},{"name":"White Tiger","tier":"6","id":"206"},{"name":"Wildebeest","tier":"6","id":"268"},{"name":"Wolverine","tier":"6","id":"269"},{"name":"Yeti","tier":"6","id":"387"},{"name":"Albatross","tier":6,"id":"660"},{"name":"Real Velociraptor","tier":"6","id":"728"},{"name":"Sabertooth Tiger","tier":"6","id":"729"},{"name":"Farmer Dog","tier":"6","id":"754"}]}');var Lte=zt.t(Nte,2);function Bte(n,t){1&n&&(p(0,"div",12),w(1," That name is not allowed. "),g())}function $te(n,t){if(1&n&&(p(0,"div",13),ie(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;F(1),z("id",e)("formControlName",e),F(1),z("for",e),F(1),Ei(" ",e," ")}}function Vte(n,t){if(1&n&&(p(0,"div",13),ie(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;F(1),z("id",e)("formControlName",e),F(1),z("for",e),F(1),Ei(" ",e," ")}}function Fte(n,t){if(1&n&&(p(0,"div",13),ie(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;F(1),z("id",e)("formControlName",e),F(1),z("for",e),F(1),Ei(" ",e," ")}}function Hte(n,t){if(1&n&&(p(0,"div",13),ie(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;F(1),z("id",e)("formControlName",e),F(1),z("for",e),F(1),Ei(" ",e," ")}}function qte(n,t){if(1&n&&(p(0,"div",13),ie(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;F(1),z("id",e)("formControlName",e),F(1),z("for",e),F(1),Ei(" ",e," ")}}function Ute(n,t){if(1&n&&(p(0,"div",13),ie(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;F(1),z("id",e)("formControlName",e),F(1),z("for",e),F(1),Ei(" ",e," ")}}function Gte(n,t){1&n&&(p(0,"div",12),w(1," Name is required. "),g())}let jte=(()=>{class n{constructor(e){this.equipmentService=e,this.submitEvent=new pt,this.cancelEvent=new pt,this.loaded=!1}ngOnInit(){this.initCheckboxFormGroup(),this.formGroup.updateValueAndValidity()}initCheckboxFormGroup(){let e=new Ni({}),i=new Ni({}),s=new Ni({}),r=new Ni({}),a=new Ni({}),o=new Ni({});for(let l of this.getPets(1)){let h=new ee(this.formGroup.get("tier1Pets").value.includes(l));h.valueChanges.subscribe(d=>{this.processCheckboxChange(1,l,d)}),e.addControl(l,h)}for(let l of this.getPets(2)){let h=new ee(this.formGroup.get("tier2Pets").value.includes(l));h.valueChanges.subscribe(d=>{this.processCheckboxChange(2,l,d)}),i.addControl(l,h)}for(let l of this.getPets(3)){let h=new ee(this.formGroup.get("tier3Pets").value.includes(l));h.valueChanges.subscribe(d=>{this.processCheckboxChange(3,l,d)}),s.addControl(l,h)}for(let l of this.getPets(4)){let h=new ee(this.formGroup.get("tier4Pets").value.includes(l));h.valueChanges.subscribe(d=>{this.processCheckboxChange(4,l,d)}),r.addControl(l,h)}for(let l of this.getPets(5)){let h=new ee(this.formGroup.get("tier5Pets").value.includes(l));h.valueChanges.subscribe(d=>{this.processCheckboxChange(5,l,d)}),a.addControl(l,h)}for(let l of this.getPets(6)){let h=new ee(this.formGroup.get("tier6Pets").value.includes(l));h.valueChanges.subscribe(d=>{this.processCheckboxChange(6,l,d)}),o.addControl(l,h)}this.checkboxFormGroup=new Ni({tier1Pets:e,tier2Pets:i,tier3Pets:s,tier4Pets:r,tier5Pets:a,tier6Pets:o})}getCheckboxFormGroup(e){return this.checkboxFormGroup.get(`tier${e}Pets`)}getPets(e){let i=[];for(let[s,r]of this.petPackMap.get(e))i.push(...r);return i=[...new Set(i)],i}getCount(e){return this.formGroup.get(`tier${e}Pets`).value.length}processCheckboxChange(e,i,s){let r=this.formGroup.get(`tier${e}Pets`).value;s?r.push(i):(0,vt.remove)(r,a=>a===i),this.formGroup.get(`tier${e}Pets`).updateValueAndValidity()}submit(){this.submitEvent.emit(this.formGroup)}cancel(){confirm("Are you sure you want to cancel?")&&this.cancelEvent.emit(this.formGroup)}submitDisabled(){return this.formGroup.get("name").invalid}}return n.\u0275fac=function(e){return new(e||n)($(Li))},n.\u0275cmp=Bn({type:n,selectors:[["app-custom-pack-form"]],inputs:{formGroup:"formGroup",petPackMap:"petPackMap"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:68,vars:34,consts:[[3,"formGroup"],[1,"row","mb-4"],[1,"col-12"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],["class","invalid",4,"ngIf"],[1,"row","mb-4",3,"formGroup"],[1,"row"],[1,"col-12","editor-grid"],["class","form-check",4,"ngFor","ngForOf"],[1,"btn","btn-primary","me-2",3,"disabled","click"],[1,"btn","btn-danger",3,"click"],[1,"invalid"],[1,"form-check"],["type","checkbox","value","",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"]],template:function(e,i){1&e&&(p(0,"form",0),p(1,"div",1),p(2,"div",2),p(3,"label",3),w(4,"Pack Name"),g(),ie(5,"input",4),Te(6,Bte,2,0,"div",5),g(),g(),p(7,"div",6),p(8,"div",2),p(9,"h3"),w(10,"Tier 1 Pets "),p(11,"span"),w(12),g(),g(),p(13,"div",7),p(14,"div",8),Te(15,$te,4,4,"div",9),g(),g(),g(),g(),p(16,"div",6),p(17,"div",2),p(18,"h3"),w(19,"Tier 2 Pets "),p(20,"span"),w(21),g(),g(),p(22,"div",7),p(23,"div",8),Te(24,Vte,4,4,"div",9),g(),g(),g(),g(),p(25,"div",6),p(26,"div",2),p(27,"h3"),w(28,"Tier 3 Pets "),p(29,"span"),w(30),g(),g(),p(31,"div",7),p(32,"div",8),Te(33,Fte,4,4,"div",9),g(),g(),g(),g(),p(34,"div",6),p(35,"div",2),p(36,"h3"),w(37,"Tier 4 Pets "),p(38,"span"),w(39),g(),g(),p(40,"div",7),p(41,"div",8),Te(42,Hte,4,4,"div",9),g(),g(),g(),g(),p(43,"div",6),p(44,"div",2),p(45,"h3"),w(46,"Tier 5 Pets "),p(47,"span"),w(48),g(),g(),p(49,"div",7),p(50,"div",8),Te(51,qte,4,4,"div",9),g(),g(),g(),g(),p(52,"div",6),p(53,"div",2),p(54,"h3"),w(55,"Tier 6 Pets "),p(56,"span"),w(57),g(),g(),p(58,"div",7),p(59,"div",8),Te(60,Ute,4,4,"div",9),g(),g(),g(),g(),p(61,"div",7),p(62,"div",2),p(63,"button",10),Ue("click",function(){return i.submit()}),w(64,"Submit Pack"),g(),p(65,"button",11),Ue("click",function(){return i.cancel()}),w(66,"Cancel"),g(),Te(67,Gte,2,0,"div",5),g(),g(),g()),2&e&&(z("formGroup",i.formGroup),F(6),z("ngIf",null==i.formGroup.get("name").errors?null:i.formGroup.get("name").errors.forbiddenName),F(1),z("formGroup",i.getCheckboxFormGroup(1)),F(4),Os(10==i.getCount(1)?"valid":"invalid"),F(1),Ei("",i.getCount(1),"/10"),F(3),z("ngForOf",i.getPets(1)),F(1),z("formGroup",i.getCheckboxFormGroup(2)),F(4),Os(10==i.getCount(2)?"valid":"invalid"),F(1),Ei("",i.getCount(2),"/10"),F(3),z("ngForOf",i.getPets(2)),F(1),z("formGroup",i.getCheckboxFormGroup(3)),F(4),Os(10==i.getCount(3)?"valid":"invalid"),F(1),Ei("",i.getCount(3),"/10"),F(3),z("ngForOf",i.getPets(3)),F(1),z("formGroup",i.getCheckboxFormGroup(4)),F(4),Os(10==i.getCount(4)?"valid":"invalid"),F(1),Ei("",i.getCount(4),"/10"),F(3),z("ngForOf",i.getPets(4)),F(1),z("formGroup",i.getCheckboxFormGroup(5)),F(4),Os(10==i.getCount(5)?"valid":"invalid"),F(1),Ei("",i.getCount(5),"/10"),F(3),z("ngForOf",i.getPets(5)),F(1),z("formGroup",i.getCheckboxFormGroup(6)),F(4),Os(10==i.getCount(6)?"valid":"invalid"),F(1),Ei("",i.getCount(6),"/10"),F(3),z("ngForOf",i.getPets(6)),F(3),z("disabled",i.submitDisabled()),F(4),z("ngIf",i.submitDisabled()))},directives:[p3,hc,qa,Ha,uc,qo,gh,Pp,e_],styles:[".editor-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);grid-gap:1rem}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:#0ab40a}"]}),n})();function Wte(n,t){if(1&n){const e=qr();p(0,"div",2),p(1,"div",3),p(2,"app-custom-pack-form",4),Ue("submitEvent",function(s){return It(e),Ge().submitEvent(s)})("cancelEvent",function(s){return It(e),Ge().cancelEvent(s)}),g(),g(),g()}if(2&n){const e=Ge();F(2),z("formGroup",e.makeFormGroup(e.focusedGroup))("petPackMap",e.petPackMap)}}function zte(n,t){1&n&&(p(0,"span",15),w(1,"Valid"),g())}function Kte(n,t){1&n&&(p(0,"span",16),w(1,"Invalid"),g())}function Qte(n,t){if(1&n){const e=qr();p(0,"tr"),p(1,"td",11),w(2),g(),p(3,"td",11),Te(4,zte,2,0,"span",12),Te(5,Kte,2,0,"span",13),g(),p(6,"td"),p(7,"button",8),Ue("click",function(){const r=It(e).$implicit;return Ge(2).editPack(r)}),w(8,"Edit"),g(),g(),p(9,"td"),p(10,"button",14),Ue("click",function(){const r=It(e).$implicit;return Ge(2).deletePack(r)}),w(11,"Delete"),g(),g(),g()}if(2&n){const e=t.$implicit;F(2),Ri(e.get("name").value),F(2),z("ngIf",e.valid),F(1),z("ngIf",!e.valid)}}function Yte(n,t){if(1&n){const e=qr();p(0,"div"),p(1,"div",5),p(2,"div",3),p(3,"h3"),w(4,"Custom Packs"),g(),p(5,"table"),Te(6,Qte,12,3,"tr",6),g(),g(),g(),p(7,"div",7),p(8,"div",3),p(9,"button",8),Ue("click",function(){return It(e),Ge().createNewPack()}),w(10,"Create New Pack"),g(),g(),g(),p(11,"div",5),p(12,"div",3),p(13,"h3"),w(14,"Import Custom Pack"),g(),p(15,"div",9),ie(16,"textarea",10),g(),g(),g(),p(17,"div",2),p(18,"div",3),p(19,"button",8),Ue("click",function(){return It(e),Ge().importCustomPack()}),w(20,"Import"),g(),g(),g(),g()}if(2&n){const e=Ge();F(6),z("ngForOf",e.customPacks.controls),F(9),z("formGroup",e.importFormGroup)}}let Jte=(()=>{class n{constructor(e,i){this.petService=e,this.localStorageService=i,this.focusedGroup=null,this.importFormGroup=new Ni({code:new ee(null)}),this.buildPetPackMap()}ngOnInit(){this.customPacks=this.formGroup.get("customPacks")}buildPetPackMap(){this.petPackMap=new Map;for(let e=1;e<=6;e++){let i=new Map;i.set("Turtle",[]),i.set("Puppy",[]),i.set("Star",[]),i.set("Golden",[]),i.set("Unicorn",[]),i.set("Custom",[]),this.petPackMap.set(e,i)}for(let[e,i]of this.petService.turtlePackPets)this.petPackMap.get(e).get("Turtle").push(...i);for(let[e,i]of this.petService.puppyPackPets)this.petPackMap.get(e).get("Puppy").push(...i);for(let[e,i]of this.petService.starPackPets)this.petPackMap.get(e).get("Star").push(...i);for(let[e,i]of this.petService.goldenPackPets)this.petPackMap.get(e).get("Golden").push(...i);for(let[e,i]of this.petService.unicornPackPets)this.petPackMap.get(e).get("Unicorn").push(...i);for(let[e,i]of this.petService.customPackPets)this.petPackMap.get(e).get("Custom").push(...i)}createNewPack(){let e=this.createPack();this.focusedGroup=e}createPack(){return new Ni({name:new ee(null,[K0.required,this.forbiddenNameValidator()]),tier1Pets:new ee([],this.controlArrayLengthOf10()),tier2Pets:new ee([],this.controlArrayLengthOf10()),tier3Pets:new ee([],this.controlArrayLengthOf10()),tier4Pets:new ee([],this.controlArrayLengthOf10()),tier5Pets:new ee([],this.controlArrayLengthOf10()),tier6Pets:new ee([],this.controlArrayLengthOf10())})}makeFormGroup(e){return e}controlArrayLengthOf10(){return e=>10!==e.value.length?{length:!0}:null}submitEvent(e){this.customPacks.controls.includes(e)||this.customPacks.push(e),this.petService.buildCustomPackPets(this.customPacks),this.focusedGroup=null,this.localStorageService.setStorage(this.formGroup.value)}cancelEvent(e){this.focusedGroup=null}editPack(e){this.focusedGroup=e}deletePack(e){if(confirm("Are you sure you want to delete this pack?")){let i=this.customPacks.controls.indexOf(e);this.customPacks.removeAt(i),this.localStorageService.setStorage(this.formGroup.value)}}forbiddenNameValidator(){return e=>{var i,s;let r=["custom"];for(let a of this.customPacks.controls)e!=a.get("name")&&r.push(null===(i=a.get("name").value)||void 0===i?void 0:i.toLowerCase());return r.includes(null===(s=e.value)||void 0===s?void 0:s.toLowerCase())?{forbiddenName:!0}:null}}importCustomPack(){let e=this.importFormGroup.get("code").value;try{e=JSON.parse(e);let i={name:e.Title,tier1Pets:this.getMinions(e.Minions,1),tier2Pets:this.getMinions(e.Minions,2),tier3Pets:this.getMinions(e.Minions,3),tier4Pets:this.getMinions(e.Minions,4),tier5Pets:this.getMinions(e.Minions,5),tier6Pets:this.getMinions(e.Minions,6)};this.createNewPack(),this.focusedGroup.patchValue(i)}catch(i){alert("Invalid code"),console.error(i)}}getMinions(e,i){let s=Lte[`tier${i}`],r=[];for(let a of e)for(let o of s)o.id==a&&r.push(o.name);return r}}return n.\u0275fac=function(e){return new(e||n)($(fb),$(wI))},n.\u0275cmp=Bn({type:n,selectors:[["app-custom-pack-editor"]],inputs:{formGroup:"formGroup"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[3,"formGroup","petPackMap","submitEvent","cancelEvent"],[1,"row","mb-3"],[4,"ngFor","ngForOf"],[1,"row","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"form-group",3,"formGroup"],["id","code","rows","3","formControlName","code",1,"form-control"],[1,"text"],["class","valid",4,"ngIf"],["class","invalid",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"valid"],[1,"invalid"]],template:function(e,i){1&e&&(Te(0,Wte,3,2,"div",0),Te(1,Yte,21,2,"div",1)),2&e&&(z("ngIf",null!=i.focusedGroup),F(1),z("ngIf",null==i.focusedGroup))},directives:[gh,jte,hc,qa,Pp,Ha,uc,qo],styles:[".valid[_ngcontent-%COMP%]{color:#4caf50}.invalid[_ngcontent-%COMP%]{color:#f44336}.text[_ngcontent-%COMP%]{font-size:1.5em}td[_ngcontent-%COMP%]{padding:.25em .5em}"]}),n})(),Zte=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bn({type:n,selectors:[["app-info"]],decls:101,vars:0,consts:[["src","./assets/info/pack.PNG","alt","pack"],["src","./assets/info/toy.PNG","alt","toy"],["src","./assets/info/angler.PNG","alt","angler"],["src","./assets/info/zoom.PNG","alt","zoom"],["src","./assets/info/advanced.PNG","alt","advanced"],["src","./assets/info/advanced-settings.PNG","alt","advanced settings"],["src","./assets/info/board.PNG","alt","board"],["src","./assets/info/pet.png","alt","pet"],["src","/assets/info/simulate.PNG","alt","simulate"],["src","/assets/info/report-bug.PNG","alt","report bug"],["src","/assets/info/outcome.PNG","alt","outcome"],["src","/assets/info/battles.PNG","alt","battles"],["src","/assets/info/logs.PNG","alt","logs"]],template:function(e,i){1&e&&(p(0,"p"),w(1," The SAP Calculator is an analysis tool that allows you to easily calculate the approximate odds of your team beating another team. The SAP Calculator simulates the defined battle 1000 times and determines the percentage of wins, draws and loses.\n"),g(),p(2,"p"),p(3,"b"),w(4,"Disclaimer: The SAP Calculator is not an official tool of the game and is not affiliated with the game's developers. The SAP Calculator is a fan-made tool, and is not intended to replace the official game."),g(),g(),p(5,"p"),w(6," The SAP Calculator engine is based on the official game engine, but it may not be 100% accurate. It is pretty darn close though, and should be completely accurate for nearly every possible battle.\n"),g(),p(7,"h1"),w(8,"Guide"),g(),ie(9,"img",0),p(10,"p"),w(11," Select the pack that the player and opponent are using. This determines the pets that are available to each player.\n"),g(),ie(12,"img",1),p(13,"p"),w(14," Toy configuration.\n"),g(),ie(15,"img",2),p(16,"ul"),p(17,"li"),w(18,"Angler Mode: The opposite player's pets are available to be selected for each player. (This does not affect pets that summon from your pack pet pool)"),g(),p(19,"li"),w(20,"All Pets: All pets are availble to select. (This does not affect pets that summon from your pack pet pool)"),g(),p(21,"li"),w(22,"Old Stork: Stork summons pets with base stats."),g(),p(23,"li"),w(24,"Token Pets: Token pets are available to select. (This does not affect pets that summon from your pack pet pool)"),g(),p(25,"li"),w(26,"Komodo Shuffle: Shuffle pet order each battle in front of a Komondo."),g(),p(27,"li"),w(28,"Mana: Show/hide mana stat on the pet selector."),g(),g(),ie(29,"img",3),p(30,"p"),w(31,"Adjust the zoom level of the application."),g(),ie(32,"img",4),p(33,"p"),w(34,"Toggle advanced settings."),g(),ie(35,"img",5),p(36,"p"),w(37,"Advanced settings. They allow you to configure the battle to a more specific scenario."),g(),p(38,"ul"),p(39,"li"),w(40,"Turn: The turn the battle takes place. This will affect pets such as the Stork, Eagle, and Stegosaurus."),g(),p(41,"li"),w(42,"Player Gold Spent: Player gold spent the previous round. This will affect the Meerkat."),g(),p(43,"li"),w(44,"Opponent Gold Spent: Same as above but for the Opponent player."),g(),p(45,"li"),w(46,"Player Roll Amount: The amount of times the Player rolled in the shop phase."),g(),p(47,"li"),w(48,"Opponent Roll Amount: Same as above but for the Opponent player."),g(),p(49,"li"),w(50,"Player Lvl 3 Sold: The amount of times the Player sold a Level 3 pet."),g(),p(51,"li"),w(52,"Opponent Lvl 3 Sold: Same as above but for the Opponent player."),g(),p(53,"li"),w(54,"Player Summoned Amt: The amount of times the Player summoned a pet in the shop phase."),g(),p(55,"li"),w(56,"Opponent Summoned Amt: Same as above but for the Opponent player."),g(),p(57,"li"),w(58,"Player Transformation Amt: The amount of times the Player transformed a pet in the shop phase."),g(),p(59,"li"),w(60,"Opponent Transformation Amt: Same as above but for the Opponent player."),g(),g(),ie(61,"img",6),p(62,"p"),w(63," This is the board. The left side is the Player pets and the right side is the Opponent Pets. Each white box contains a pet and its' stats/equipment. The layout of the pets are identical to as they would be in battle. The right most Player pet is clashing with the left most Opponent pet.\n"),g(),ie(64,"img",7),p(65,"p"),w(66," This is a pet.\n"),g(),p(67,"ul"),p(68,"li"),w(69,"A: This select box is where you may choose the pet that will occupy this space."),g(),p(70,"li"),w(71,"B: This select box is where you may choose the pet's equipment."),g(),p(72,"li"),w(73,"C: These fields are where you may input the pet's stats. The gray field is attack, the red field is health, and the indigo field is mana."),g(),p(74,"li"),w(75,"D: This component determines the amount of exp the pet has. A pet may have 0-5 exp denoted by the number of boxes highlighted. The numbers (1, 2, 3) on top of the exp bar signify the level of the pet. 0-1 exp is level 1, 2-4 exp is level 2, and 5 exp is level 3. The x on the left will clear the exp bar leaving the pet at level 1 with 0 exp. "),g(),p(76,"li"),w(77,"E: This is a drag and drop tool. Use this to reorder your pets."),g(),g(),ie(78,"img",8),p(79,"ul"),p(80,"li"),w(81,"Simulate: Run the simulation."),g(),p(82,"li"),w(83,"Randomize: Randomize the Player's and Opponents's pets and equipment."),g(),g(),ie(84,"img",9),p(85,"ul"),p(86,"li"),w(87,"Report A Bug: Report a bug to the SAP Calculator develepor."),g(),p(88,"li"),w(89,"Export Calculator: Saves a code to your devices clipboard that can be used to import the calculator state."),g(),p(90,"li"),w(91,"Import Calculator: Import a calculator state."),g(),g(),ie(92,"img",10),p(93,"p"),w(94," This is the outcome summary. It shows the number of wins, draws, and loses for the last simulation ran.\n"),g(),ie(95,"img",11),p(96,"p"),w(97," This is the Battles table. It is a table of all the battles that were simulated. You may filter the table by the outcome of the battle.\n"),g(),ie(98,"img",12),p(99,"p"),w(100," These are the logs of the last selected simulated battle. Logs that are highlighted green are logs from a pet on the Player's team and logs that are highlighted red are logs from a pet on the Opponent's team. Logs that are highlighted purple are random events. Note: Not everything is logged.\n"),g())},styles:["img[_ngcontent-%COMP%]{margin-bottom:.5em;max-width:100%;border:1px solid #bfbfbf}"]}),n})(),Xte=(()=>{class n{constructor(){this.formGroup=new Ni({calcCode:new ee(null)})}ngOnInit(){}submit(){let e="";e=this.importFunc(this.formGroup.value.calcCode)?"Import successful":"Import failed",alert(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bn({type:n,selectors:[["app-import-calculator"]],inputs:{importFunc:"importFunc"},decls:6,vars:1,consts:[[1,"form-group",3,"formGroup"],["id","calcCode","rows","5","formControlName","calcCode",1,"form-control","mb-2"],[1,"warning","mb-2"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(p(0,"div",0),ie(1,"textarea",1),p(2,"div",2),w(3," Warning: This will overwrite any existing custom packs. Any custom packs in the import will be added. "),g(),p(4,"button",3),Ue("click",function(){return i.submit()}),w(5,"Import"),g(),g()),2&e&&z("formGroup",i.formGroup)},directives:[hc,qa,Ha,uc,qo],styles:[""]}),n})(),eie=(()=>{class n{constructor(e){this.localStorageService=e}ngOnInit(){}formGroupValueString(){if(!this.formGroup)return"";try{const i=(0,vt.cloneDeep)(this.formGroup.value),s=[...i.playerPets||[],...i.opponentPets||[]];for(const r of s)r&&(delete r.parent,delete r.logService,delete r.abilityService,delete r.gameService,delete r.petService,r.equipment&&(r.equipment={name:r.equipment.name}));return JSON.stringify(i,null,2)}catch(e){return console.error("Error creating export string:",e),"Error: Could not generate the export data."}}copyToClipboard(){this.localStorageService.setFormStorage(this.formGroup);let e=JSON.stringify(this.formGroup.value);navigator.clipboard.writeText(e).then(()=>{alert("Copied to clipboard")})}}return n.\u0275fac=function(e){return new(e||n)($(wI))},n.\u0275cmp=Bn({type:n,selectors:[["app-export-calculator"]],inputs:{formGroup:"formGroup"},decls:4,vars:1,consts:[[1,"form-group"],["id","calcCode","rows","5","readonly","",1,"form-control","mb-2",3,"value"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(p(0,"div",0),ie(1,"textarea",1),p(2,"button",2),Ue("click",function(){return i.copyToClipboard()}),w(3,"Copy to Clipboard"),g(),g()),2&e&&(F(1),z("value",i.formGroupValueString()))},styles:[""]}),n})();class t4{}class i4{}class Jr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),r=s.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(a):this.headers.set(r,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Jr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Jr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Jr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const r=t.value;if(r){let a=this.headers.get(e);if(!a)return;a=a.filter(o=>-1===r.indexOf(o)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class iie{encodeKey(t){return n4(t)}encodeValue(t){return n4(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const sie=/%(\d[a-f0-9])/gi,rie={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function n4(n){return encodeURIComponent(n).replace(sie,(t,e)=>{var i;return null!==(i=rie[e])&&void 0!==i?i:t})}function s4(n){return`${n}`}class Zo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new iie,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[a,o]=-1==r?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,r)),t.decodeValue(s.slice(r+1))],l=e.get(a)||[];l.push(o),e.set(a,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Zo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(s4(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(s4(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class aie{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function r4(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function a4(n){return"undefined"!=typeof Blob&&n instanceof Blob}function o4(n){return"undefined"!=typeof FormData&&n instanceof FormData}class ug{constructor(t,e,i,s){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,r=s):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new Jr),this.context||(this.context=new aie),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const o=e.indexOf("?");this.urlWithParams=e+(-1===o?"?":o<e.length-1?"&":"")+a}}else this.params=new Zo,this.urlWithParams=e}serializeBody(){return null===this.body?null:r4(this.body)||a4(this.body)||o4(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Zo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||o4(this.body)?null:a4(this.body)?this.body.type||null:r4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Zo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,s=t.url||this.url,r=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,d=t.params||this.params;const m=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((y,S)=>y.set(S,t.setHeaders[S]),h)),t.setParams&&(d=Object.keys(t.setParams).reduce((y,S)=>y.set(S,t.setParams[S]),d)),new ug(i,s,a,{params:d,headers:h,context:m,reportProgress:l,responseType:r,withCredentials:o})}}var yi=(()=>((yi=yi||{})[yi.Sent=0]="Sent",yi[yi.UploadProgress=1]="UploadProgress",yi[yi.ResponseHeader=2]="ResponseHeader",yi[yi.DownloadProgress=3]="DownloadProgress",yi[yi.Response=4]="Response",yi[yi.User=5]="User",yi))();class EI{constructor(t,e=200,i="OK"){this.headers=t.headers||new Jr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class kI extends EI{constructor(t={}){super(t),this.type=yi.ResponseHeader}clone(t={}){return new kI({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Wb extends EI{constructor(t={}){super(t),this.type=yi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Wb({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class l4 extends EI{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function CI(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let c4=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let r;if(e instanceof ug)r=e;else{let l,h;l=s.headers instanceof Jr?s.headers:new Jr(s.headers),s.params&&(h=s.params instanceof Zo?s.params:new Zo({fromObject:s.params})),r=new ug(e,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=kc(r).pipe(function(n,t){return aa(n,void 0,1)}(l=>this.handler.handle(l)));if(e instanceof ug||"events"===s.observe)return a;const o=a.pipe(JF(l=>l instanceof Wb));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(ys(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return o.pipe(ys(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return o.pipe(ys(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return o.pipe(ys(l=>l.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Zo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,CI(s,i))}post(e,i,s={}){return this.request("POST",e,CI(s,i))}put(e,i,s={}){return this.request("PUT",e,CI(s,i))}}return n.\u0275fac=function(e){return new(e||n)(H(t4))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class u4{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const h4=new be("HTTP_INTERCEPTORS");let cie=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const uie=/^\)\]\}',?\n/;let d4=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Qe(i=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((S,k)=>s.setRequestHeader(S,k.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const S=e.detectContentTypeHeader();null!==S&&s.setRequestHeader("Content-Type",S)}if(e.responseType){const S=e.responseType.toLowerCase();s.responseType="json"!==S?S:"text"}const r=e.serializeBody();let a=null;const o=()=>{if(null!==a)return a;const S=1223===s.status?204:s.status,k=s.statusText||"OK",T=new Jr(s.getAllResponseHeaders()),D=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return a=new kI({headers:T,status:S,statusText:k,url:D}),a},l=()=>{let{headers:S,status:k,statusText:T,url:D}=o(),N=null;204!==k&&(N=void 0===s.response?s.responseText:s.response),0===k&&(k=N?200:0);let I=k>=200&&k<300;if("json"===e.responseType&&"string"==typeof N){const U=N;N=N.replace(uie,"");try{N=""!==N?JSON.parse(N):null}catch(O){N=U,I&&(I=!1,N={error:O,text:N})}}I?(i.next(new Wb({body:N,headers:S,status:k,statusText:T,url:D||void 0})),i.complete()):i.error(new l4({error:N,headers:S,status:k,statusText:T,url:D||void 0}))},h=S=>{const{url:k}=o(),T=new l4({error:S,status:s.status||0,statusText:s.statusText||"Unknown Error",url:k||void 0});i.error(T)};let d=!1;const m=S=>{d||(i.next(o()),d=!0);let k={type:yi.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(k.total=S.total),"text"===e.responseType&&!!s.responseText&&(k.partialText=s.responseText),i.next(k)},y=S=>{let k={type:yi.UploadProgress,loaded:S.loaded};S.lengthComputable&&(k.total=S.total),i.next(k)};return s.addEventListener("load",l),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",m),null!==r&&s.upload&&s.upload.addEventListener("progress",y)),s.send(r),i.next({type:yi.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",l),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",m),null!==r&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(H(w$))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const AI=new be("XSRF_COOKIE_NAME"),PI=new be("XSRF_HEADER_NAME");class f4{}let die=(()=>{class n{constructor(e,i,s){this.doc=e,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=p$(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(H(Xe),H(dh),H(AI))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),DI=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(H(f4),H(PI))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),fie=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(h4,[]);this.chain=i.reduceRight((s,r)=>new u4(s,r),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(H(i4),H(At))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),pie=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:DI,useClass:cie}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:AI,useValue:e.cookieName}:[],e.headerName?{provide:PI,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:[DI,{provide:h4,useExisting:DI,multi:!0},{provide:f4,useClass:die},{provide:AI,useValue:"XSRF-TOKEN"},{provide:PI,useValue:"X-XSRF-TOKEN"}]}),n})(),gie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:[c4,{provide:t4,useClass:fie},d4,{provide:i4,useExisting:d4}],imports:[[pie.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const mie=function(n){return["form-group","mb-3",n]};function vie(n,t){if(1&n){const e=qr();p(0,"div"),p(1,"p"),w(2," An export code of the current calculator will automatically be sent to the developer. Please make sure the calculator is currently relevant to the bug you are reporting. Provide a description of the bug below. (Player should have won, pet's ability is wrong, etc.) Name is optional. Provide your Discord ID if you want me to follow up with you. "),g(),p(3,"div",1),p(4,"div",2),p(5,"label",3),w(6,"Name/Alias/Discord ID"),g(),ie(7,"input",4),g(),p(8,"div"),p(9,"label",5),w(10,"Description"),g(),ie(11,"textarea",6),g(),g(),p(12,"button",7),Ue("click",function(){return It(e),Ge().submit()}),w(13,"Submit"),g(),g()}if(2&n){const e=Ge();F(3),z("ngClass",function(n,t,e,i){return G2(K(),qi(),n,t,e,i)}(2,mie,e.submitted?"was-validated":""))("formGroup",e.formGroup)}}function yie(n,t){if(1&n){const e=qr();p(0,"div"),p(1,"h1"),w(2,"Thank you for the bug report!"),g(),p(3,"button",7),Ue("click",function(){return It(e),Ge().back()}),w(4,"Report another bug :("),g(),g()}}let _ie=(()=>{class n{constructor(e){this.http=e,this.formGroup=new Ni({name:new ee(""),description:new ee(null,K0.required)}),this.reported=!1,this.submitted=!1}ngOnInit(){}submit(){if(this.submitted=!0,this.formGroup.invalid)return;let e=Object.assign(Object.assign({},this.formGroup.value),{code:JSON.stringify(this.calcFormGroup.value)});const i=new Jr({"Content-Type":"application/json"});this.http.post("https://formspree.io/f/mgvzngzp",{name:"SAP CALC",replyto:"Ruihan20080129@gmail.com",message:e},{headers:i}).subscribe(s=>{console.log(s)}),this.reported=!0}back(){this.formGroup.reset(),this.submitted=!1,this.reported=!1}}return n.\u0275fac=function(e){return new(e||n)($(c4))},n.\u0275cmp=Bn({type:n,selectors:[["app-report-a-bug"]],inputs:{calcFormGroup:"calcFormGroup"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngClass","formGroup"],[1,"mb-3"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["for","description"],["rows","3","formControlName","description","required","",1,"form-control"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(Te(0,vie,14,4,"div",0),Te(1,yie,5,0,"div",0)),2&e&&(z("ngIf",!i.reported),F(1),z("ngIf",i.reported))},directives:[gh,M0,hc,qa,Ha,uc,qo,d_],styles:[""]}),n})();const bie=["customPackEditor"];function Sie(n,t){if(1&n&&(iy(0),p(1,"div",1),w(2),g(),ny()),2&n){const e=Ge();F(2),Ri(e.apiResponse)}}function wie(n,t){if(1&n&&(p(0,"option",131),w(1),g()),2&n){const e=t.$implicit;z("value",e.get("name").value),F(1),Ri(e.get("name").value)}}function Eie(n,t){if(1&n&&(p(0,"option",131),w(1),g()),2&n){const e=t.$implicit;z("value",e.get("name").value),F(1),Ri(e.get("name").value)}}function kie(n,t){if(1&n&&(p(0,"option",31),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e),F(1),Ri(e)}}function Cie(n,t){if(1&n&&(p(0,"optgroup",132),Te(1,kie,2,2,"option",133),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),F(1),z("ngForOf",e.value)}}function Aie(n,t){if(1&n&&(p(0,"option",31),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e),F(1),Ri(e)}}function Pie(n,t){if(1&n&&(p(0,"optgroup",132),Te(1,Aie,2,2,"option",133),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),F(1),z("ngForOf",e.value)}}function Die(n,t){1&n&&(p(0,"div",12),p(1,"div",13),p(2,"div",134),p(3,"div",135),p(4,"label",136),w(5,"Turn"),g(),ie(6,"input",137),g(),p(7,"div",138),p(8,"label",139),w(9,"Player Gold Spent"),g(),ie(10,"input",140),g(),p(11,"div",138),p(12,"label",141),w(13,"Opponent Gold Spent"),g(),ie(14,"input",142),g(),p(15,"div",138),p(16,"label",143),w(17,"Player Roll Amt"),g(),ie(18,"input",144),g(),p(19,"div",138),p(20,"label",145),w(21,"Opponent Roll Amt"),g(),ie(22,"input",146),g(),p(23,"div",138),p(24,"label",147),w(25,"Player Lvl 3 Sold"),g(),ie(26,"input",148),g(),p(27,"div",138),p(28,"label",149),w(29,"Opponent Lvl 3 Sold"),g(),ie(30,"input",150),g(),p(31,"div",138),p(32,"label",151),w(33,"Player Summoned Amt"),g(),ie(34,"input",152),g(),p(35,"div",138),p(36,"label",153),w(37,"Opponent Summoned Amt"),g(),ie(38,"input",154),g(),p(39,"div",138),p(40,"label",155),w(41,"Player Transformation Amt"),g(),ie(42,"input",156),g(),p(43,"div",138),p(44,"label",157),w(45,"Opponent Transformation Amt"),g(),ie(46,"input",158),g(),g(),g(),g())}function Tie(n,t){if(1&n&&(p(0,"div",159),p(1,"div",160),Cd(),p(2,"svg",161),ie(3,"path",162),ie(4,"path",163),g(),g(),Ad(),ie(5,"app-pet-selector",164),g()),2&n){const e=t.$implicit,i=t.index,s=Ge(2);F(5),z("pet",s.player["pet"+(4-i)])("player",s.player)("opponent",s.opponent)("index",4-i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("ailments",s.formGroup.get("ailmentEquipment").value)("allPets",s.formGroup.get("allPets").value)("mana",s.formGroup.get("mana").value)("showTokenPets",s.formGroup.get("tokenPets").value)("customPacks",s.formGroup.get("customPacks"))}}function xie(n,t){if(1&n&&(p(0,"div",165),p(1,"div",160),Cd(),p(2,"svg",161),ie(3,"path",162),ie(4,"path",163),g(),g(),Ad(),ie(5,"app-pet-selector",164),g()),2&n){const e=t.$implicit,i=t.index,s=Ge(2);F(5),z("pet",s.opponent["pet"+i])("player",s.opponent)("opponent",s.player)("index",i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("ailments",s.formGroup.get("ailmentEquipment").value)("allPets",s.formGroup.get("allPets").value)("mana",s.formGroup.get("mana").value)("showTokenPets",s.formGroup.get("tokenPets").value)("customPacks",s.formGroup.get("customPacks"))}}function Mie(n,t){if(1&n&&(p(0,"div",90),p(1,"div",166),p(2,"label"),w(3,"Player Wins:"),g(),p(4,"span"),w(5),g(),p(6,"label"),w(7,"Opponent Wins:"),g(),p(8,"span"),w(9),g(),p(10,"label"),w(11,"Draws:"),g(),p(12,"span"),w(13),g(),g(),p(14,"div",167),p(15,"span",168),ie(16,"span",169),ie(17,"span",170),g(),g(),g()),2&n){const e=Ge(2);F(5),ip("",e.playerWinner," - ",e.winPercent,"%"),F(4),ip("",e.opponentWinner," - ",e.losePercent,"%"),F(4),ip("",e.draw," - ",e.drawPercent,"%"),F(3),ep("width",e.getDrawWidth()),F(1),ep("width",e.getLoseWidth())}}function Rie(n,t){if(1&n){const e=qr();p(0,"tr",171),Ue("click",function(){const r=It(e).$implicit;return Ge(2).setViewBattle(r)}),p(1,"td"),w(2),g(),p(3,"td"),w(4),g(),p(5,"td",172),w(6),g(),g()}if(2&n){const e=t.$implicit,i=t.index,s=Ge(2);F(2),Ri(i),F(2),Ri(e.winner),F(2),Ri(s.getRandomEvents(e))}}const Iie=function(n,t){return[n,t]};function Oie(n,t){if(1&n&&(p(0,"div",69),p(1,"span",173),w(2),g(),g()),2&n){const e=t.$implicit,i=Ge(2);F(1),z("ngClass",U2(2,Iie,i.getPlayerClass(e),e.randomEvent?"random-event":"")),F(1),Ri(e.message)}}function Nie(n,t){if(1&n){const e=qr();iy(0),p(1,"div",2,3),p(3,"div",4),p(4,"div",5),p(5,"div",6),p(6,"h1",7),Ue("click",function(){return It(e),Ge().printFormGroup()}),w(7,"SAP Calculator"),g(),p(8,"span",8),w(9,"Info/Guide"),g(),g(),p(10,"div",6),p(11,"div",9),w(12),g(),p(13,"div",10),p(14,"span"),w(15),p(16,"span",11),w(17,"Patch Notes"),g(),g(),p(18,"span"),w(19),g(),g(),g(),g(),g(),p(20,"div",12),p(21,"div",13),p(22,"div",14),p(23,"div",15),p(24,"label",16),w(25,"Player Pack"),g(),p(26,"select",17),p(27,"option",18),w(28,"Turtle"),g(),p(29,"option",19),w(30,"Puppy"),g(),p(31,"option",20),w(32,"Star"),g(),p(33,"option",21),w(34,"Golden"),g(),p(35,"option",22),w(36,"Unicorn"),g(),p(37,"option",23),w(38,"Danger"),g(),p(39,"optgroup",24),Te(40,wie,2,2,"option",25),p(41,"option",26),w(42,"Add Custom Pack"),g(),g(),g(),g(),p(43,"div",27),p(44,"label",16),w(45,"Opponent Pack"),g(),p(46,"select",28),p(47,"option",18),w(48,"Turtle"),g(),p(49,"option",19),w(50,"Puppy"),g(),p(51,"option",20),w(52,"Star"),g(),p(53,"option",21),w(54,"Golden"),g(),p(55,"option",22),w(56,"Unicorn"),g(),p(57,"option",23),w(58,"Danger"),g(),p(59,"optgroup",24),Te(60,Eie,2,2,"option",25),p(61,"option",26),w(62,"Add Custom Pack"),g(),g(),g(),g(),p(63,"div",29),p(64,"label",16),w(65,"Player Toy"),g(),p(66,"select",30),p(67,"option",31),w(68,"None"),g(),Te(69,Cie,2,2,"optgroup",32),Io(70,"keyvalue"),g(),g(),p(71,"div",33),p(72,"label",34),w(73,"Toy Level"),g(),p(74,"select",35),p(75,"option"),w(76,"1"),g(),p(77,"option"),w(78,"2"),g(),p(79,"option"),w(80,"3"),g(),g(),g(),p(81,"div",15),p(82,"label",16),w(83,"Opponent Toy"),g(),p(84,"select",36),p(85,"option",31),w(86,"None"),g(),Te(87,Pie,2,2,"optgroup",32),Io(88,"keyvalue"),g(),g(),p(89,"div",33),p(90,"label",37),w(91,"Toy Level"),g(),p(92,"select",38),p(93,"option"),w(94,"1"),g(),p(95,"option"),w(96,"2"),g(),p(97,"option"),w(98,"3"),g(),g(),g(),p(99,"div",39),p(100,"span",40),Ue("click",function(){return It(e),Ge().toggleAdvanced()}),w(101),g(),g(),p(102,"div",41),p(103,"div",42),ie(104,"input",43),p(105,"label",44),w(106," Angler "),g(),g(),p(107,"div",45),ie(108,"input",46),p(109,"label",47),w(110," All Pets "),g(),g(),g(),p(111,"div",41),p(112,"div",48),ie(113,"input",49),p(114,"label",50),w(115," Old Stork "),g(),g(),p(116,"div",51),ie(117,"input",52),p(118,"label",53),w(119," Token Pets "),g(),g(),g(),p(120,"div",41),p(121,"div",54),ie(122,"input",55),p(123,"label",56),w(124," Komodo Shuffle "),g(),g(),p(125,"div",57),ie(126,"input",58),p(127,"label",59),w(128," Mana "),g(),g(),g(),p(129,"div",41),p(130,"div",60),ie(131,"input",61),p(132,"label",62),w(133," Ailment Equipment "),g(),g(),g(),g(),p(134,"div",63),p(135,"label",64),w(136,"Zoom"),g(),p(137,"div"),p(138,"button",65),Ue("click",function(){return It(e),Ge().zoomIn()}),w(139,"+"),g(),p(140,"button",66),Ue("click",function(){return It(e),Ge().zoomOut()}),w(141,"-"),g(),g(),g(),g(),g(),Te(142,Die,47,0,"div",67),p(143,"div",68),ie(144,"div",69),g(),p(145,"div",70),p(146,"div",71),p(147,"div",72),p(148,"h2",73),w(149,"Player"),g(),p(150,"button",74),Ue("click",function(){return It(e),Ge().resetPlayer("player")}),w(151,"Reset"),g(),g(),p(152,"div",75),p(153,"div",76),Ue("cdkDropListDropped",function(s){return It(e),Ge().drop(s,"player")}),Te(154,Tie,6,11,"div",77),g(),g(),g(),p(155,"div",78),p(156,"div",72),p(157,"h2",73),w(158,"Opponent"),g(),p(159,"button",74),Ue("click",function(){return It(e),Ge().resetPlayer("opponent")}),w(160,"Reset"),g(),g(),p(161,"div",79),p(162,"div",76),Ue("cdkDropListDropped",function(s){return It(e),Ge().drop(s,"opponent")}),Te(163,xie,6,11,"div",80),g(),g(),g(),g(),p(164,"div",81),p(165,"div",82),p(166,"div"),p(167,"button",83),Ue("click",function(){return It(e),Ge().simulate()}),w(168,"Simulate"),g(),p(169,"button",83),Ue("click",function(){return It(e),Ge().randomize()}),w(170,"Randomize"),g(),g(),p(171,"div"),p(172,"button",84),w(173,"Report A Bug"),g(),p(174,"button",85),w(175,"Export Calculator"),g(),p(176,"button",86),w(177,"Import Calculator"),g(),p(178,"button",83),Ue("click",function(){return It(e),Ge().generateShareLink()}),w(179,"Generate Link"),g(),g(),g(),g(),Te(180,Mie,18,10,"div",87),p(181,"div",88),p(182,"div",89),p(183,"h3"),w(184,"Battles"),g(),p(185,"div",90),p(186,"div",69),p(187,"label",91),w(188,"Filter Battles By Winner"),g(),g(),p(189,"div",69),p(190,"div",92),ie(191,"input",93),p(192,"label",94),w(193,"None"),g(),g(),p(194,"div",92),ie(195,"input",95),p(196,"label",96),w(197,"Player"),g(),g(),p(198,"div",92),ie(199,"input",97),p(200,"label",98),w(201,"Opponent"),g(),g(),p(202,"div",92),ie(203,"input",99),p(204,"label",100),w(205,"Draw"),g(),g(),g(),g(),p(206,"div",101),p(207,"table",102),p(208,"thead"),p(209,"tr"),p(210,"th",103),w(211,"Battle No."),g(),p(212,"th"),w(213,"Winner"),g(),p(214,"th"),w(215,"Random Events"),g(),g(),g(),p(216,"tbody"),Te(217,Rie,7,3,"tr",104),g(),g(),g(),g(),p(218,"div",105),p(219,"h3"),w(220,"Logs"),g(),p(221,"div",106),Te(222,Oie,3,5,"div",107),g(),g(),g(),g(),p(223,"div",108),p(224,"div",109),p(225,"div",110),p(226,"div",111),p(227,"h1",112),w(228,"Patch Notes"),g(),ie(229,"button",113),g(),p(230,"div",114),ie(231,"app-patch-notes"),g(),p(232,"div",115),p(233,"span",40),Ue("click",function(){return It(e),Ge().clearCache()}),w(234,"Clear Cache"),g(),g(),g(),g(),g(),p(235,"div",116,117),p(237,"div",118),p(238,"div",110),p(239,"div",111),p(240,"h1",119),w(241,"Custom Pack Editor"),g(),ie(242,"button",113),g(),p(243,"div",114),ie(244,"app-custom-pack-editor",120),g(),g(),g(),g(),p(245,"div",121),p(246,"div",118),p(247,"div",110),p(248,"div",111),p(249,"h1",122),w(250,"Info"),g(),ie(251,"button",113),g(),p(252,"div",114),ie(253,"app-info"),g(),g(),g(),g(),p(254,"div",123),p(255,"div",118),p(256,"div",110),p(257,"div",111),p(258,"h1",124),w(259,"Import Calculator"),g(),ie(260,"button",113),g(),p(261,"div",114),ie(262,"app-import-calculator",125),g(),g(),g(),g(),p(263,"div",126),p(264,"div",118),p(265,"div",110),p(266,"div",111),p(267,"h1",127),w(268,"Export Calculator"),g(),ie(269,"button",113),g(),p(270,"div",114),ie(271,"app-export-calculator",120),g(),g(),g(),g(),p(272,"div",128),p(273,"div",118),p(274,"div",110),p(275,"div",111),p(276,"h1",129),w(277,"Report A Bug"),g(),ie(278,"button",113),g(),p(279,"div",114),ie(280,"app-report-a-bug",130),g(),g(),g(),g(),ny()}if(2&n){const e=Ge();F(1),z("formGroup",e.formGroup),F(11),Ei("Last Updated: ",e.lastUpdated,""),F(3),Ei("Version: ",e.version," "),F(4),Ei("SAP Version: ",e.sapVersion,""),F(21),z("ngForOf",e.validCustomPacks),F(20),z("ngForOf",e.validCustomPacks),F(7),z("ngValue",null),F(2),z("ngForOf",Oo(70,23,e.toys)),F(16),z("ngValue",null),F(2),z("ngForOf",Oo(88,25,e.toys)),F(14),Ei("",e.formGroup.get("showAdvanced").value?"Hide":"Show"," Advanced Settings"),F(41),z("ngIf",e.formGroup.get("showAdvanced").value),F(2),z("@dayNight",e.dayNight?"day":"night"),F(10),z("ngForOf",e.getPlayerPetsFormArray()),F(9),z("ngForOf",e.getOpponentPetsFormArray()),F(17),z("ngIf",e.simulated),F(11),z("value",null),F(26),z("ngForOf",e.filteredBattles),F(5),z("ngForOf",e.getViewBattleLogs()),F(22),z("formGroup",e.formGroup),F(18),z("importFunc",e.import.bind(e)),F(9),z("formGroup",e.formGroup),F(9),z("calcFormGroup",e.formGroup)}}const $ie={pP:"playerPack",oP:"opponentPack",pT:"playerToy",pTL:"playerToyLevel",oT:"opponentToy",oTL:"opponentToyLevel",t:"turn",pGS:"playerGoldSpent",oGS:"opponentGoldSpent",pRA:"playerRollAmount",oRA:"opponentRollAmount",pSA:"playerSummonedAmount",oSA:"opponentSummonedAmount",pL3:"playerLevel3Sold",oL3:"opponentLevel3Sold",p:"playerPets",o:"opponentPets",an:"angler",ap:"allPets",lf:"logFilter",fs:"fontSize",cp:"customPacks",os:"oldStork",tp:"tokenPets",ks:"komodoShuffle",m:"mana",sa:"showAdvanced",ae:"ailmentEquipment",pTA:"playerTransformationAmount",oTA:"opponentTransformationAmount",n:"name",a:"attack",h:"health",e:"exp",eq:"equipment",bSP:"belugaSwallowedPet",tH:"timesHurt"};function zb(n){if(Array.isArray(n))return n.map(t=>zb(t));if(null!==n&&"object"==typeof n){const t={};for(const e in n)t[$ie[e]||e]=zb(n[e]);return t}return n}let Vie=(()=>{class n{constructor(e,i,s,r,a,o,l,h,d){this.logService=e,this.injector=i,this.abilityService=s,this.gameService=r,this.equipmentService=a,this.petService=o,this.toyService=l,this.startOfBattleService=h,this.localStorageService=d,this.version="0.6.19",this.sapVersion="0.33.3-156 BETA",this.lastUpdated="9/6/2025",this.title="sap-calculator",this.maxTurns=50,this.turns=0,this.battleStarted=!1,this.simulationBattleAmt=1e3,this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.simulated=!1,this.previousPackPlayer=null,this.previousPackOpponent=null,this.dayNight=!0,this.api=!1,this.apiResponse=null,this.isLoadedFromUrl=!1,fc.setInjector(this.injector),this.player=new R3(e,s,r),this.opponent=new R3(e,s,r),this.gameService.init(this.player,this.opponent),this.petService.init(),this.initFormGroup();const y=new URLSearchParams(window.location.search).get("code");if(y){this.api=!0;try{const S=JSON.parse(decodeURIComponent(y));this.loadCalculatorFromValue(S),this.simulate(),this.buildApiResponse()}catch(S){console.error("Error parsing API data from URL:",S),this.apiResponse=JSON.stringify({error:"Invalid or corrupted data provided in the URL."})}}}buildApiResponse(){this.apiResponse=JSON.stringify({playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw},null)}printFormGroup(){console.log(this.formGroup)}ngOnInit(){this.isLoadedFromUrl=this.loadStateFromUrl(!0),this.isLoadedFromUrl||this.loadLocalStorage(),this.initApp(),this.initGameApi(),this.setDayNight(),this.toys=this.toyService.toys}loadStateFromUrl(e=!1){const s=new URLSearchParams(window.location.search).get("c");if(s)try{let r;const a=decodeURIComponent(s);if(a.trim().startsWith("{")){const l=zb(JSON.parse(a));r=JSON.stringify(l)}else{const o=atob(s),l=decodeURIComponent(o),d=zb(JSON.parse(l));r=JSON.stringify(d)}return this.import(r),console.log("Calculator state loaded from URL."),!0}catch(r){return console.error("Failed to parse calculator state from URL.",r),alert("Could not load the shared calculator link. The data may be corrupted."),!1}return!1}ngAfterViewInit(){this.isLoadedFromUrl&&this.petSelectors.forEach(e=>{e.fixLoadEquipment()}),this.api||this.initModals()}loadLocalStorage(){if(this.localStorageService.getStorage())try{let i=JSON.parse(this.localStorageService.getStorage());this.loadCalculatorFromValue(i)}catch(i){console.log("error loading local storage",i),this.localStorageService.clearStorage()}}loadCalculatorFromValue(e){const i={playerPack:"Turtle",opponentPack:"Turtle",playerToy:null,playerToyLevel:"1",opponentToy:null,opponentToyLevel:"1",turn:11,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerPets:Array(5).fill(null),opponentPets:Array(5).fill(null),angler:!1,allPets:!1,logFilter:null,fontSize:13,customPacks:[],oldStork:!1,tokenPets:!1,komodoShuffle:!1,mana:!1,showAdvanced:!1,ailmentEquipment:!1},s=Object.assign(Object.assign({},i),e);this.formGroup.patchValue(s,{emitEvent:!1});let r=e.customPacks;e.customPacks=[],this.loadCustomPacks(r),this.formGroup.patchValue(e,{emitEvent:!1}),setTimeout(()=>{this.fixCustomPackSelect()}),this.gameService.gameApi.oldStork=this.formGroup.get("oldStork").value,this.gameService.gameApi.komodoShuffle=this.formGroup.get("komodoShuffle").value,this.gameService.gameApi.mana=this.formGroup.get("mana").value,this.gameService.gameApi.playerRollAmount=this.formGroup.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=this.formGroup.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=this.formGroup.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=this.formGroup.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=this.formGroup.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=this.formGroup.get("opponentTransformationAmount").value,this.gameService.gameApi.day=this.dayNight,this.gameService.gameApi.turnNumber=this.formGroup.get("turn").value}setDayNight(){let i=this.formGroup.get("turn").value%2==1;this.dayNight=i,this.gameService.gameApi.day=i}fixCustomPackSelect(){this.formGroup.get("playerPack").setValue(this.formGroup.get("playerPack").value,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.formGroup.get("opponentPack").value,{emitEvent:!1})}initApp(){this.petService.buildCustomPackPets(this.formGroup.get("customPacks")),this.setFontSize(),this.initPlayerPets(),this.updatePlayerPack(this.player,this.formGroup.get("playerPack").value,!1),this.updatePlayerPack(this.opponent,this.formGroup.get("opponentPack").value,!1),this.updatePlayerToy(this.player,this.formGroup.get("playerToy").value),this.updatePlayerToy(this.opponent,this.formGroup.get("opponentToy").value),this.previousPackOpponent=this.opponent.pack,this.previousPackPlayer=this.player.pack}initGameApi(){this.gameService.gameApi.day=this.dayNight,this.gameService.gameApi.oldStork=this.formGroup.get("oldStork").value,this.gameService.gameApi.komodoShuffle=this.formGroup.get("komodoShuffle").value,this.gameService.gameApi.mana=this.formGroup.get("mana").value,this.gameService.gameApi.playerRollAmount=this.formGroup.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=this.formGroup.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=this.formGroup.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=this.formGroup.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=this.formGroup.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=this.formGroup.get("opponentTransformationAmount").value}loadCustomPacks(e){let i=this.formGroup.get("customPacks");i.clear();for(let s of e){let r=pz(s);i.push(r)}}initPlayerPets(){for(let e=0;e<5;e++){let i=this.formGroup.get("playerPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.player);this.player.setPet(e,s,!0)}for(let e=0;e<5;e++){let i=this.formGroup.get("opponentPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.opponent);this.opponent.setPet(e,s,!0)}}randomizePlayerPets(e){for(let i=0;i<5;i++)e.setPet(i,this.petService.getRandomPet(e),!0)}makeFormGroup(e){return e}initFormGroup(){var e,i,s,r,a,o;this.updatePreviousShopTier(11),this.updateGoldSpent(10,10),this.formGroup=new Ni({playerPack:new ee(this.player.pack),opponentPack:new ee(this.opponent.pack),playerToy:new ee(null===(e=this.player.toy)||void 0===e?void 0:e.name),playerToyLevel:new ee(null!==(s=null===(i=this.player.toy)||void 0===i?void 0:i.level)&&void 0!==s?s:1),opponentToy:new ee(null===(r=this.opponent.toy)||void 0===r?void 0:r.name),opponentToyLevel:new ee(null!==(o=null===(a=this.opponent.toy)||void 0===a?void 0:a.level)&&void 0!==o?o:1),turn:new ee(11),playerGoldSpent:new ee(10),opponentGoldSpent:new ee(10),angler:new ee(!1),allPets:new ee(!1),logFilter:new ee(null),playerPets:new c_([]),opponentPets:new c_([]),fontSize:new ee(13),customPacks:new c_([]),oldStork:new ee(!1),tokenPets:new ee(!1),komodoShuffle:new ee(!1),mana:new ee(!1),playerRollAmount:new ee(4),opponentRollAmount:new ee(4),playerLevel3Sold:new ee(0),opponentLevel3Sold:new ee(0),playerSummonedAmount:new ee(0),opponentSummonedAmount:new ee(0),playerTransformationAmount:new ee(0),opponentTransformationAmount:new ee(0),showAdvanced:new ee(!1),ailmentEquipment:new ee(!1)}),this.initPetForms(),this.formGroup.get("playerPack").valueChanges.subscribe(m=>{if(null!=m){if("Add Custom Pack"==m)return void this.openCustomPackEditor();this.previousPackPlayer=m,this.updatePlayerPack(this.player,m)}}),this.formGroup.get("opponentPack").valueChanges.subscribe(m=>{if(null!=m){if("Add Custom Pack"==m)return void this.openCustomPackEditor();this.previousPackOpponent=m,this.updatePlayerPack(this.opponent,m)}}),this.formGroup.get("playerToy").valueChanges.subscribe(m=>{this.updatePlayerToy(this.player,m)}),this.formGroup.get("opponentToy").valueChanges.subscribe(m=>{this.updatePlayerToy(this.opponent,m)}),this.formGroup.get("playerToyLevel").valueChanges.subscribe(m=>{this.updateToyLevel(this.player,m)}),this.formGroup.get("opponentToyLevel").valueChanges.subscribe(m=>{this.updateToyLevel(this.opponent,m)}),this.formGroup.get("turn").valueChanges.subscribe(m=>{this.updatePreviousShopTier(m),this.setDayNight()}),this.formGroup.get("playerGoldSpent").valueChanges.subscribe(m=>{this.updateGoldSpent(m,null)}),this.formGroup.get("opponentGoldSpent").valueChanges.subscribe(m=>{this.updateGoldSpent(null,m)}),this.formGroup.get("angler").valueChanges.subscribe(m=>{setTimeout(()=>{this.updateSelectorPets()})}),this.formGroup.get("oldStork").valueChanges.subscribe(m=>{this.gameService.gameApi.oldStork=m}),this.formGroup.get("komodoShuffle").valueChanges.subscribe(m=>{this.gameService.gameApi.komodoShuffle=m}),this.formGroup.get("mana").valueChanges.subscribe(m=>{this.gameService.gameApi.mana=m}),this.formGroup.get("playerRollAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.playerRollAmount=m,console.log("playerRollAmount",m)}),this.formGroup.get("opponentRollAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentRollAmount=m,console.log("opponentRollAmount",m)}),this.formGroup.get("playerLevel3Sold").valueChanges.subscribe(m=>{this.gameService.gameApi.playerLevel3Sold=m}),this.formGroup.get("opponentLevel3Sold").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentLevel3Sold=m}),this.formGroup.get("playerSummonedAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.playerSummonedAmount=m}),this.formGroup.get("opponentSummonedAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentSummonedAmount=m}),this.formGroup.get("playerTransformationAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.playerTransformationAmount=m}),this.formGroup.get("opponentTransformationAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentTransformationAmount=m})}toggleAdvanced(){let e=this.formGroup.get("showAdvanced").value;this.formGroup.get("showAdvanced").setValue(!e)}initPetForms(){let e=[0,1,2,3,4],i=e.map(o=>{var l,h,d,m,y,S,k,T,D,N,I,U,O,G,Y,oe,pe,ve;return new Ni({name:new ee(null===(l=this.player[`pet${o}`])||void 0===l?void 0:l.name),attack:new ee(null!==(d=null===(h=this.player[`pet${o}`])||void 0===h?void 0:h.attack)&&void 0!==d?d:0),health:new ee(null!==(y=null===(m=this.player[`pet${o}`])||void 0===m?void 0:m.health)&&void 0!==y?y:0),exp:new ee(null!==(k=null===(S=this.player[`pet${o}`])||void 0===S?void 0:S.exp)&&void 0!==k?k:0),equipment:new ee(null===(T=this.player[`pet${o}`])||void 0===T?void 0:T.equipment),belugaSwallowedPet:new ee(null===(D=this.player[`pet${o}`])||void 0===D?void 0:D.belugaSwallowedPet),mana:new ee(null!==(I=null===(N=this.player[`pet${o}`])||void 0===N?void 0:N.mana)&&void 0!==I?I:0),abominationSwallowedPet1:new ee(null===(U=this.player[`pet${o}`])||void 0===U?void 0:U.abominationSwallowedPet1),abominationSwallowedPet2:new ee(null===(O=this.player[`pet${o}`])||void 0===O?void 0:O.abominationSwallowedPet2),abominationSwallowedPet3:new ee(null===(G=this.player[`pet${o}`])||void 0===G?void 0:G.abominationSwallowedPet3),battlesFought:new ee(null!==(oe=null===(Y=this.player[`pet${o}`])||void 0===Y?void 0:Y.battlesFought)&&void 0!==oe?oe:0),timesHurt:new ee(null!==(ve=null===(pe=this.player[`pet${o}`])||void 0===pe?void 0:pe.timesHurt)&&void 0!==ve?ve:0)})}),s=this.formGroup.get("playerPets");s.clear();for(let o of i)s.push(o);let r=e.map(o=>{var l,h,d,m,y,S,k,T,D,N,I,U,O,G,Y,oe,pe,ve;return new Ni({name:new ee(null===(l=this.opponent[`pet${o}`])||void 0===l?void 0:l.name),attack:new ee(null!==(d=null===(h=this.opponent[`pet${o}`])||void 0===h?void 0:h.attack)&&void 0!==d?d:0),health:new ee(null!==(y=null===(m=this.opponent[`pet${o}`])||void 0===m?void 0:m.health)&&void 0!==y?y:0),exp:new ee(null!==(k=null===(S=this.opponent[`pet${o}`])||void 0===S?void 0:S.exp)&&void 0!==k?k:0),equipment:new ee(null===(T=this.opponent[`pet${o}`])||void 0===T?void 0:T.equipment),belugaSwallowedPet:new ee(null===(D=this.opponent[`pet${o}`])||void 0===D?void 0:D.belugaSwallowedPet),mana:new ee(null!==(I=null===(N=this.opponent[`pet${o}`])||void 0===N?void 0:N.mana)&&void 0!==I?I:0),abominationSwallowedPet1:new ee(null===(U=this.opponent[`pet${o}`])||void 0===U?void 0:U.abominationSwallowedPet1),abominationSwallowedPet2:new ee(null===(O=this.opponent[`pet${o}`])||void 0===O?void 0:O.abominationSwallowedPet2),abominationSwallowedPet3:new ee(null===(G=this.opponent[`pet${o}`])||void 0===G?void 0:G.abominationSwallowedPet3),battlesFought:new ee(null!==(oe=null===(Y=this.opponent[`pet${o}`])||void 0===Y?void 0:Y.battlesFought)&&void 0!==oe?oe:0),timesHurt:new ee(null!==(ve=null===(pe=this.opponent[`pet${o}`])||void 0===pe?void 0:pe.timesHurt)&&void 0!==ve?ve:0)})}),a=this.formGroup.get("opponentPets");a.clear();for(let o of r)a.push(o)}getPlayerPetsFormArray(){return Array.from(this.formGroup.get("playerPets").controls).reverse()}getOpponentPetsFormArray(){return Array.from(this.formGroup.get("opponentPets").controls)}updatePlayerPack(e,i,s=!0){let r;switch(e.pack=i,i){case"Turtle":r=this.petService.turtlePackPets;break;case"Puppy":r=this.petService.puppyPackPets;break;case"Star":r=this.petService.starPackPets;break;case"Golden":r=this.petService.goldenPackPets;break;case"Unicorn":r=this.petService.unicornPackPets;break;case"Danger":r=this.petService.dangerPackPets;break;default:r=this.petService.playerCustomPackPets.get(i)}e==this.player?this.gameService.setTierGroupPets(r,null):this.gameService.setTierGroupPets(null,r),this.formGroup.get("allPets")}updateSelectorPets(){this.petSelectors.forEach(e=>{e.initPets()})}updatePlayerToy(e,i){let s;e==this.player&&(s="playerToyLevel"),e==this.opponent&&(s="opponentToyLevel");let r=Number(this.formGroup.get(s).value);e.toy=this.toyService.createToy(i,e,r),e.originalToy=e.toy}updatePreviousShopTier(e){let i=1;e>2&&(i=2),e>4&&(i=3),e>6&&(i=4),e>8&&(i=5),e>10&&(i=6),this.gameService.setPreviousShopTier(i),this.gameService.setTurnNumber(e)}updateGoldSpent(e,i){this.gameService.setGoldSpent(e,i)}updateToyLevel(e,i){e.toy&&(e.toy.level=i)}abilityCycle(){for(;this.abilityService.hasGlobalEvents;){const i=this.abilityService.peekNextHighestPriorityEvent();if(i&&this.abilityService.getPriorityNumber(i.abilityType)>=23&&(this.checkPetsAlive(),this.removeDeadPets())){this.emptyFrontSpaceCheck();continue}const s=this.abilityService.getNextHighestPriorityEvent();if(!s){console.error("AbilityCycle: Expected event from queue but got null. Queue state inconsistent.");break}this.abilityService.executeEventCallback(s),this.checkPetsAlive()}this.removeDeadPets()&&this.emptyFrontSpaceCheck()}checkPetsAlive(){this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}initToys(){var e,i;(null===(e=this.player.toy)||void 0===e?void 0:e.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.player.toy.startOfBattle(this.gameService.gameApi);let s=this.player.toy.level;for(let r of this.player.petArray)r instanceof wr&&(this.player.toy.level=r.level,this.player.toy.startOfBattle(this.gameService.gameApi,!0),this.player.toy.level=s)},priority:this.player.toy.tier}),(null===(i=this.opponent.toy)||void 0===i?void 0:i.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.opponent.toy.startOfBattle(this.gameService.gameApi);let s=this.opponent.toy.level;for(let r of this.opponent.petArray)r instanceof wr&&(this.opponent.toy.level=r.level,this.opponent.toy.startOfBattle(this.gameService.gameApi,!0),this.opponent.toy.level=s)},priority:this.opponent.toy.tier})}simulate(){try{this.runSimulation()}catch(e){console.error(e),window.alert("Something went wrong, please send a bug report.")}}runSimulation(){this.localStorageService.setFormStorage(this.formGroup),this.resetSimulation();for(let e=0;e<this.simulationBattleAmt;e++){this.initBattle(),this.startBattle(),this.initToys(),this.abilityService.initEndTurnEvents(this.player),this.abilityService.initEndTurnEvents(this.opponent),this.setAbilityEquipments(this.player),this.setAbilityEquipments(this.opponent),this.initializeEquipmentMultipliers(),this.abilityService.triggerBeforeStartOfBattleEvents(this.player),this.abilityService.triggerBeforeStartOfBattleEvents(this.opponent),this.abilityService.executeBeforeStartOfBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);this.startOfBattleService.resetStartOfBattleFlags(),this.startOfBattleService.initStartOfBattleEvents(),this.startOfBattleService.executeToyPetEvents(),this.gameService.gameApi.isInStartOfBattleFlag=!0,this.toyService.executeStartOfBattleEvents(),this.startOfBattleService.executeNonToyPetEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);for(this.gameService.gameApi.isInStartOfBattleFlag=!1;this.battleStarted;)this.nextTurn();this.reset()}this.simulated=!0}removeDeadPets(){let e=!1;return e=this.player.removeDeadPets(),e=this.opponent.removeDeadPets()||e,e}emptyFrontSpaceCheck(){null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.opponent),null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceToyEvents()}startBattle(){this.reset(),this.battleStarted=!0,this.turns=0}resetSimulation(){this.playerWinner=0,this.opponentWinner=0,this.viewBattle=null,this.draw=0,this.battles=[],this.currBattle=null}initBattle(){this.logService.reset(),this.currBattle={winner:"draw",logs:this.logs},this.battles.push(this.currBattle),this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentTransformationAmount=this.formGroup.get("opponentTransformationAmount").value,this.gameService.gameApi.playerTransformationAmount=this.formGroup.get("playerTransformationAmount").value}reset(){this.player.resetPets(),this.opponent.resetPets()}nextTurn(){let e=!1,i=null;if(this.turns++,this.turns>=this.maxTurns&&(e=!0),!this.player.alive()&&this.opponent.alive()&&(i=this.opponent,this.currBattle.winner="opponent",this.opponentWinner++,e=!0),!this.opponent.alive()&&this.player.alive()&&(i=this.player,this.currBattle.winner="player",this.playerWinner++,e=!0),!this.opponent.alive()&&!this.player.alive()&&(this.draw++,e=!0),e)return this.logService.printState(this.player,this.opponent),this.endLog(i),void(this.battleStarted=!1);for(this.pushPetsForwards(),this.logService.printState(this.player,this.opponent);;){let s=this.player.pet0,r=this.opponent.pet0;this.player.pet0.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:this.player.pet0.beforeAttack.bind(this.player.pet0),priority:this.player.pet0.attack,player:this.player,pet:this.player.pet0}),this.opponent.pet0.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:this.opponent.pet0.beforeAttack.bind(this.opponent.pet0),priority:this.opponent.pet0.attack,player:this.opponent,pet:this.opponent.pet0}),this.abilityService.executeBeforeAttackEvents(),this.abilityService.triggerBeforeFriendAttacksEvents(this.player,this.player.pet0),this.abilityService.triggerBeforeFriendAttacksEvents(this.opponent,this.opponent.pet0),this.abilityService.executeBeforeFriendAttacksEvents(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);if(!this.player.alive()||!this.opponent.alive())return;if(this.pushPetsForwards(),s.transformed&&(s=s.transformedInto),r.transformed&&(r=r.transformedInto),this.player.pet0==s&&this.opponent.pet0==r)break}this.fight(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);this.player.checkGoldenSpawn(),this.opponent.checkGoldenSpawn();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents)}chocolateCakePresent(){var e,i;let s={player:!1,opponent:!1,cake:!1};return s.player=(null===(e=this.player.pet0)||void 0===e?void 0:e.equipment)instanceof L_,s.opponent=(null===(i=this.opponent.pet0)||void 0===i?void 0:i.equipment)instanceof L_,s.cake=s.player||s.opponent,s}doChocolateCakeEvents(e){let i=[];e.player&&i.push(this.player.pet0),e.opponent&&i.push(this.opponent.pet0),i=(0,vt.shuffle)(i),i.sort((s,r)=>s.attack<r.attack?1:r.attack<s.attack?-1:0);for(let s of i)s.equipment.callback(s)}setAbilityEquipments(e){var i;for(let s of e.petArray)s.equipment instanceof FA?(s.equipment.callback(s),s.eggplantTouched=!0):(null===(i=s.equipment)||void 0===i?void 0:i.callback)&&s.equipment.callback(s)}executeBeforeStartOfBattleEquipment(e){for(let i of e.petArray){let s=i.equipment.multiplier,r=i.equipment.multiplierMessage;for(let a=0;a<s;a++){if(i.equipment instanceof LA&&(i.increaseAttack(4),i.increaseHealth(4),this.logService.createLog({message:`${i.name} gained 4 attack and 4 health (Pie)${r}`,type:"equipment",player:e})),i.equipment instanceof VA&&i.parent.gainTrumpets(2*s,i,!1,s,!0),i.equipment instanceof $A)for(let o of e.petArray)i!=o&&(o.increaseAttack(2),o.increaseHealth(2),this.logService.createLog({message:`${o.name} gained 2 attack and 2 health (Pancake)${r}`,type:"equipment",player:e}));i.equipment instanceof HA&&i.equipment.callback(i),i.equipment instanceof qA&&i.equipment.callback(i),i.equipment instanceof UA&&i.equipment.callback(i)}}}pushPetsForwards(){this.player.pushPetsForward(),this.opponent.pushPetsForward()}fight(){let e=this.player.pet0,i=this.opponent.pet0;e.attackPet(i),i.attackPet(e),e.useAttackDefenseEquipment(),i.useAttackDefenseEquipment(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive(),this.abilityService.executeAfterAttackEvents(),this.abilityService.executeAfterFriendAttackEvents()}endLog(e){let i;i=null==e?"Draw":e==this.player?"Player is the winner":"Opponent is the winner",this.logService.createLog({message:i,type:"board"})}get logs(){return this.logService.getLogs()}setViewBattle(e){this.viewBattle=e}getViewBattleLogs(){var e,i;return null!==(i=null===(e=this.viewBattle)||void 0===e?void 0:e.logs)&&void 0!==i?i:[]}getDrawWidth(){return`${this.losePercent+this.drawPercent}%`}getLoseWidth(){return`${this.losePercent}%`}getPlayerClass(e){return null==e.player?"log":e.player==this.player?"log-player":"log-opponent"}getRandomEvents(e){let i="",s=e.logs.filter(r=>1==r.randomEvent);for(let r of s)i+=r.message,r!=s[s.length-1]&&(i+="\n");return i}randomize(e){null==e&&!confirm("Are you sure you want to randomize?")||(e?this.randomizePlayerPets(e):(this.randomizePlayerPets(this.player),this.randomizePlayerPets(this.opponent)),this.formGroup&&this.initPetForms(),setTimeout(()=>{this.petSelectors.forEach(i=>{i.initSelector()})}))}zoomIn(){this.formGroup.get("fontSize").setValue(Math.min(this.formGroup.get("fontSize").value+1,20)),this.setFontSize()}zoomOut(){this.formGroup.get("fontSize").setValue(Math.max(this.formGroup.get("fontSize").value-1,8)),this.setFontSize()}setFontSize(){document.documentElement.style.fontSize=`${this.formGroup.get("fontSize").value}px`}clearCache(){this.localStorageService.clearStorage(),alert("Cache cleared. Refresh page to see changes.")}initModals(){this.customPackEditorModal=new bc(this.customPackEditor.nativeElement),this.customPackEditor.nativeElement.addEventListener("hidden.bs.modal",e=>{})}openCustomPackEditor(){this.customPackEditorModal.show(),this.formGroup.get("playerPack").setValue(this.previousPackPlayer,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.previousPackOpponent,{emitEvent:!1})}drop(e,i){let s=e.previousIndex,r=e.currentIndex,a=this.opponent;"player"==i&&(s=4-s,r=4-r,a=this.player),BH(this.formGroup.get(`${i}Pets`).controls,s,r);for(let o of this.petSelectors.toArray())o.substitutePet()}resetPlayer(e){if(!confirm(`Are you sure you want to reset ${e}?`))return;let i=this.petSelectors.toArray().slice("player"==e?0:5,"player"==e?5:10);for(let s of i)s.removePet()}export(){this.localStorageService.setFormStorage(this.formGroup);let e=JSON.stringify(this.formGroup.value);navigator.clipboard.writeText(e).then(()=>{alert("Copied to clipboard")})}import(e,i=!1){let s=!1;try{const r=JSON.parse(e);this.loadCalculatorFromValue(r),this.initApp(),i||setTimeout(()=>{this.petSelectors&&this.petSelectors.forEach(a=>{a.fixLoadEquipment()})},0),s=!0}catch(r){console.error(r)}return s}generateShareLink(){this.localStorageService.setFormStorage(this.formGroup);const i=(0,vt.cloneDeep)(this.formGroup.value),s=[...i.playerPets||[],...i.opponentPets||[]];for(const h of s)h&&(delete h.parent,delete h.logService,delete h.abilityService,delete h.gameService,delete h.petService,h.equipment&&(h.equipment={name:h.equipment.name}));const r=JSON.stringify(i),a=encodeURIComponent(r),l=`${window.location.origin+window.location.pathname}?c=${a}`;navigator.clipboard.writeText(l).then(()=>{alert("Shareable link copied to clipboard!")}).catch(h=>{console.error("Failed to copy link: ",h),alert("Failed to copy link. See console for details.")})}get filteredBattles(){return this.battles.filter(e=>{let i=this.formGroup.get("logFilter").value;return null==i||e.winner==i})}get winPercent(){return mC(this.playerWinner/this.simulationBattleAmt*100)}get drawPercent(){return mC(this.draw/this.simulationBattleAmt*100)}get losePercent(){return mC(this.opponentWinner/this.simulationBattleAmt*100)}get validCustomPacks(){let e=this.formGroup.get("customPacks"),i=[];for(let s of e.controls)s.valid&&i.push(s);return i}initializeEquipmentMultipliers(){for(let e of this.player.petArray)e.equipment&&e.setEquipmentMultiplier();for(let e of this.opponent.petArray)e.equipment&&e.setEquipmentMultiplier()}}return n.\u0275fac=function(e){return new(e||n)($(H_),$(At),$(q_),$(wh),$(Li),$(fb),$(oV),$(Ite),$(wI))},n.\u0275cmp=Bn({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&(Sy(bie,5),Sy(cV,5)),2&e){let s;sc(s=rc())&&(i.customPackEditor=s.first),sc(s=rc())&&(i.petSelectors=s)}},decls:2,vars:2,consts:[[4,"ngIf"],["id","apiResponse"],[1,"container-fluid","app-wrapper","flex-col",3,"formGroup"],["container",""],[1,"row","mt-2"],[1,"col-12","header"],[1,"d-flex","align-items-end"],[3,"click"],["data-bs-toggle","modal","data-bs-target","#info",1,"btn-link","info-link"],[1,"me-3"],[1,"d-flex","flex-column","align-items-end"],["data-bs-toggle","modal","data-bs-target","#patchNotes",1,"btn-link"],[1,"row","battle-controller","border"],[1,"col-12","d-flex","justify-content-between","py-2"],[1,"d-flex","flex-wrap"],[1,"form-group","min-w-input","me-3"],["for","playerPack"],["id","playerPack","formControlName","playerPack",1,"form-control"],["value","Turtle"],["value","Puppy"],["value","Star"],["value","Golden"],["value","Unicorn"],["value","Danger"],["label","Custom Packs"],[3,"value",4,"ngFor","ngForOf"],["value","Add Custom Pack"],[1,"form-group","min-w-input","pe-3","border-end"],["id","opponentPack","formControlName","opponentPack",1,"form-control"],[1,"form-group","min-w-input","mx-3"],["id","playerToy","formControlName","playerToy",1,"form-control"],[3,"ngValue"],[3,"label",4,"ngFor","ngForOf"],[1,"form-group","me-3"],["for","playerToyLevel"],["id","playerToyLevel","formControlName","playerToyLevel",1,"form-control"],["id","opponentToy","formControlName","opponentToy",1,"form-control"],["for","opponentToyLevel"],["id","opponentToyLevel","formControlName","opponentToyLevel",1,"form-control"],[1,"form-group","pe-3","d-flex","align-items-end","border-end"],[1,"btn-link",3,"click"],[1,"flex-column"],["title","Opponent's pack pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","angler","formControlName","angler",1,"form-check-input"],["for","angler",1,"form-check-label"],["title","All pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","allPets","formControlName","allPets",1,"form-check-input"],["for","allPets",1,"form-check-label"],["title","Stork spawns with base stats.",1,"form-check","ms-3"],["type","checkbox","value","","id","oldStork","formControlName","oldStork",1,"form-check-input"],["for","oldStork",1,"form-check-label"],["title","Include Token Pets in pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","oldStork","formControlName","tokenPets",1,"form-check-input"],["for","tokenPets",1,"form-check-label"],["title","Shuffle pets in front of Komodo if present.",1,"form-check","ms-3"],["type","checkbox","value","","id","komodoShuffle","formControlName","komodoShuffle",1,"form-check-input"],["for","komodoShuffle",1,"form-check-label"],["title","Include Mana.",1,"form-check","ms-3"],["type","checkbox","value","","id","mana","formControlName","mana",1,"form-check-input"],["for","mana",1,"form-check-label"],["title","Include Ailments for Equipment Options.",1,"form-check","ms-3"],["type","checkbox","value","","id","ailmentEquipment","formControlName","ailmentEquipment",1,"form-check-input"],["for","ailmentEquipment",1,"form-check-label"],[1,"flex-col","zoom-container"],["for","zoom"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],["class","row battle-controller border",4,"ngIf"],[1,"row","day-night-container"],[1,"col-12"],[1,"row","battle-row","pb-5","pt-3"],[1,"col-12","col-xl-6","px-4","mb-2","mb-xl-0"],[1,"d-flex","justify-content-between"],[1,"me-4"],[1,"btn","btn-secondary","mb-1",3,"click"],[1,"card","p-2","player-card"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"row","row-cols-1","row-cols-md-5",3,"cdkDropListDropped"],["class","col drag-container mb-2 mb-md-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"col-12","col-xl-6","px-4"],[1,"card","p-2","player-card","ml-auto"],["class","col drag-container mb-2 mb-sm-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"row","button-bar","pt-3","pb-1","border"],[1,"col-12","d-flex","justify-content-between"],[1,"btn","btn-primary","me-2","mb-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#reportABug",1,"btn","btn-secondary","me-2","mb-2"],["data-bs-toggle","modal","data-bs-target","#export",1,"btn","btn-secondary","me-2","mb-2"],["data-bs-toggle","modal","data-bs-target","#import",1,"btn","btn-secondary","mb-2"],["class","row",4,"ngIf"],[1,"row","flex-1","bottom-container"],[1,"col-12","col-md-6","border","h-100","flex-col","pe-0"],[1,"row"],["for","logFilter",1,"form-label"],[1,"form-check","form-check-inline"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio1",1,"form-check-input",3,"value"],["for","inlineRadio1",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio2","value","player",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio3","value","opponent",1,"form-check-input"],["for","inlineRadio3",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio4","value","draw",1,"form-check-input"],["for","inlineRadio4",1,"form-check-label"],[1,"battle-container","flex-1","scroll"],[1,"table"],[1,"battle-no"],["class","table-battle-row",3,"click",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","border","h-100","flex-col"],[1,"row","log-container","flex-1","scroll"],["class","col-12",4,"ngFor","ngForOf"],["id","patchNotes","tabindex","-1","aria-labelledby","patchNotesLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","patchNotesLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["id","customPackEditor","tabindex","-1","aria-labelledby","customPackEditorLabel","aria-hidden","true",1,"modal","fade"],["customPackEditor",""],[1,"modal-dialog","modal-lg"],["id","customPackEditorLabel",1,"modal-title","fs-5"],[3,"formGroup"],["id","info","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],["id","import","tabindex","-1","aria-labelledby","importModalLabel","aria-hidden","true",1,"modal","fade"],["id","importModalLabel",1,"modal-title","fs-5"],[3,"importFunc"],["id","export","tabindex","-1","aria-labelledby","exportModalLabel","aria-hidden","true",1,"modal","fade"],["id","exportModalLabel",1,"modal-title","fs-5"],["id","reportABug","tabindex","-1","aria-labelledby","reportABug","aria-hidden","true",1,"modal","fade"],["id","reportABug",1,"modal-title","fs-5"],[3,"calcFormGroup"],[3,"value"],[3,"label"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"border-end","d-flex","flex-wrap","pe-3"],[1,"form-group","small-w-input","me-s-3"],["for","turn"],["id","turn","type","number","formControlName","turn","max","99",1,"form-control"],[1,"form-group","advanced-input","ms-3"],["for","playerGoldSpent","title","Player Gold Spent"],["id","turn","type","number","formControlName","playerGoldSpent","max","99",1,"form-control"],["for","opponentGoldSpent","title","Opponent Gold Spent"],["id","turn","type","number","formControlName","opponentGoldSpent","max","99",1,"form-control"],["for","playerRollAmount","title","Player Roll Amount"],["id","turn","type","number","formControlName","playerRollAmount","max","99",1,"form-control"],["for","opponentRollAmount","title","Opponent Roll Amount"],["id","turn","type","number","formControlName","opponentRollAmount","max","99",1,"form-control"],["for","playerLevel3Sold","title","Player Level 3 Sold"],["id","turn","type","number","formControlName","playerLevel3Sold","max","99",1,"form-control"],["for","opponentLevel3Sold","title","Opponent Level 3 Sold"],["id","turn","type","number","formControlName","opponentLevel3Sold","max","99",1,"form-control"],["for","playerSummonedAmount","title","Player Summoned Amount"],["id","turn","type","number","formControlName","playerSummonedAmount","max","99",1,"form-control"],["for","opponentSummonedAmount","title","Opponent Summoned Amount"],["id","turn","type","number","formControlName","opponentSummonedAmount","max","99",1,"form-control"],["for","playerTransformationAmount","title","Player Transformation Amount"],["id","turn","type","number","formControlName","playerTransformationAmount","max","99",1,"form-control"],["for","opponentTransformationAmount","title","Opponent Transformation Amount"],["id","turn","type","number","formControlName","opponentTransformationAmount","max","99",1,"form-control"],["cdkDrag","",1,"col","drag-container","mb-2","mb-md-0"],["cdkDragHandle","",1,"drag-handle"],["fill","currentColor","viewBox","0 0 24 24"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],[3,"pet","player","opponent","index","formGroup","angler","ailments","allPets","mana","showTokenPets","customPacks"],["cdkDrag","",1,"col","drag-container","mb-2","mb-sm-0"],[1,"col-12","stats"],[1,"col-12","py-2"],[1,"results-bar"],[1,"draw-bar"],[1,"lose-bar"],[1,"table-battle-row",3,"click"],[1,"pre"],[3,"ngClass"]],template:function(e,i){1&e&&(Te(0,Sie,3,1,"ng-container",0),Te(1,Nie,281,27,"ng-container",0)),2&e&&(z("ngIf",i.api),F(1),z("ngIf",!i.api))},directives:[gh,hc,qa,Np,uc,qo,dC,pC,Pp,e_,kte,Ha,lC,Ote,Jte,Zte,Xte,eie,_ie,u_,h_,Pte,Cte,cV,M0],pipes:[O0],styles:[".app-wrapper[_ngcontent-%COMP%]{height:100vh}.day-night-container[_ngcontent-%COMP%]{min-height:1em}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:end}.flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.player-card[_ngcontent-%COMP%]{background-color:#e9c137;display:grid;grid-auto-rows:minmax(min-content,max-content);grid-template-columns:auto 1fr auto}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:rotate(180deg);writing-mode:vertical-lr;text-align:center}.battle-row[_ngcontent-%COMP%]{background-color:#5ebe09}.button-bar[_ngcontent-%COMP%], .battle-controller[_ngcontent-%COMP%]{background-color:#f5f5f5}.battle-controller[_ngcontent-%COMP%]   .min-w-input[_ngcontent-%COMP%]{min-width:100px}.small-w-input[_ngcontent-%COMP%]{width:60px}.stats[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:.25em}.stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:1em}.battle-no[_ngcontent-%COMP%]{width:1%;white-space:nowrap}.table-battle-row[_ngcontent-%COMP%]{cursor:pointer}.results-bar[_ngcontent-%COMP%], .draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{display:inline-block}.draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{height:100%;position:absolute;right:0}.results-bar[_ngcontent-%COMP%]{max-width:100%;border:.2em solid black;height:2em;width:30em;background-color:#0f0;position:relative}.draw-bar[_ngcontent-%COMP%]{background-color:#d3d3d3}.lose-bar[_ngcontent-%COMP%]{background-color:red}.log-player[_ngcontent-%COMP%]{background-color:#e4ffe0}.log-opponent[_ngcontent-%COMP%]{background-color:#ffe0e0}.log-container[_ngcontent-%COMP%]{display:flex;align-content:flex-start}.random-event[_ngcontent-%COMP%]{color:purple;font-weight:bold}.flex-1[_ngcontent-%COMP%]{flex:1}.bottom-container[_ngcontent-%COMP%]{min-height:30em}.bottom-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-height:15em}.scroll[_ngcontent-%COMP%]{overflow:scroll}.h-100[_ngcontent-%COMP%]{height:100%}.pre[_ngcontent-%COMP%]{white-space:pre}.btn-link[_ngcontent-%COMP%]{color:#0d6efd;cursor:pointer}.zoom-container[_ngcontent-%COMP%]{min-width:max-content}.zoom-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:2.5em}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.drag-container[_ngcontent-%COMP%]{position:relative}.drag-handle[_ngcontent-%COMP%]{width:1.25em;position:absolute;right:1em;z-index:1;opacity:.5;cursor:pointer}.info-link[_ngcontent-%COMP%]{margin-left:1em;margin-bottom:.5em}@media (max-width: 767.98px){.card[_ngcontent-%COMP%]{max-width:18em}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:initial;writing-mode:initial}.player-card[_ngcontent-%COMP%]{grid-template-columns:none}}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.bug-button[_ngcontent-%COMP%]{margin-right:.5em;margin-bottom:.25em}.advanced-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60px}"],data:{animation:[xte("dayNight",[ZH("day",jb({backgroundColor:"#85ddf2"})),ZH("night",jb({backgroundColor:"#33377a"})),Rte("day <=> night",[Mte("0.5s")])])]}}),n})();function p4(){return"undefined"!=typeof window&&void 0!==window.document}function TI(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Xo(n){switch(n.length){case 0:return new qh;case 1:return n[0];default:return new e4(n)}}function g4(n,t,e,i,s={},r={}){const a=[],o=[];let l=-1,h=null;if(i.forEach(d=>{const m=d.offset,y=m==l,S=y&&h||{};Object.keys(d).forEach(k=>{let T=k,D=d[k];if("offset"!==k)switch(T=t.normalizePropertyName(T,a),D){case"!":D=s[k];break;case Qa:D=r[k];break;default:D=t.normalizeStyleValue(k,T,D,a)}S[T]=D}),y||o.push(S),h=S,l=m}),a.length){const d="\n - ";throw new Error(`Unable to animate due to the following errors:${d}${a.join(d)}`)}return o}function xI(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&MI(e,"start",n)));break;case"done":n.onDone(()=>i(e&&MI(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&MI(e,"destroy",n)))}}function MI(n,t,e){const i=e.totalTime,r=RI(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),a=n._data;return null!=a&&(r._data=a),r}function RI(n,t,e,i,s="",r=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:r,disabled:!!a}}function ps(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function m4(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let II=(n,t)=>!1,OI=(n,t)=>!1,v4=(n,t,e)=>[];const y4=TI();(y4||"undefined"!=typeof Element)&&(II=p4()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),OI=(()=>{if(y4||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):OI}})(),v4=(n,t,e)=>{let i=[];if(e){const s=n.querySelectorAll(t);for(let r=0;r<s.length;r++)i.push(s[r])}else{const s=n.querySelector(t);s&&i.push(s)}return i});let Ac=null,_4=!1;function NI(n){Ac||(Ac=("undefined"!=typeof document?document.body:null)||{},_4=!!Ac.style&&"WebkitAppearance"in Ac.style);let t=!0;return Ac.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Ac.style,!t&&_4&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Ac.style)),t}const LI=OI,BI=II,$I=v4;function b4(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let S4=(()=>{class n{validateStyleProperty(e){return NI(e)}matchesElement(e,i){return LI(e,i)}containsElement(e,i){return BI(e,i)}query(e,i,s){return $I(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,r,a,o=[],l){return new qh(s,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),VI=(()=>{class n{}return n.NOOP=new S4,n})();const FI="ng-enter",Kb="ng-leave",Qb="ng-trigger",Yb=".ng-trigger",E4="ng-animating",HI=".ng-animating";function Pc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:qI(parseFloat(t[1]),t[2])}function qI(n,t){return"s"===t?1e3*n:n}function Jb(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let s,r=0,a="";if("string"==typeof n){const o=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=qI(parseFloat(o[1]),o[2]);const l=o[3];null!=l&&(r=qI(parseFloat(l),o[4]));const h=o[5];h&&(a=h)}else s=n;if(!e){let o=!1,l=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),o=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),o=!0),o&&t.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:r,easing:a}}(n,t,e)}function Uh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function el(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Uh(n,e);return e}function C4(n,t,e){return e?t+":"+e+";":""}function A4(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=C4(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=C4(0,zie(e),n.style[e]));n.setAttribute("style",t)}function Zr(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const s=GI(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[s]),n.style[s]=t[i]}),TI()&&A4(n))}function Dc(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=GI(e);n.style[i]=""}),TI()&&A4(n))}function hg(n){return Array.isArray(n)?1==n.length?n[0]:JH(n):n}const UI=new RegExp("{{\\s*(.+?)\\s*}}","g");function P4(n){let t=[];if("string"==typeof n){let e;for(;e=UI.exec(n);)t.push(e[1]);UI.lastIndex=0}return t}function Zb(n,t,e){const i=n.toString(),s=i.replace(UI,(r,a)=>{let o=t[a];return t.hasOwnProperty(a)||(e.push(`Please provide a value for the animation param ${a}`),o=""),o.toString()});return s==i?n:s}function Xb(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Wie=/-+([a-z0-9])/g;function GI(n){return n.replace(Wie,(...t)=>t[1].toUpperCase())}function zie(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function D4(n,t){return 0===n||0===t}function T4(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let r=t[0],a=[];if(i.forEach(o=>{r.hasOwnProperty(o)||a.push(o),r[o]=e[o]}),a.length)for(var s=1;s<t.length;s++){let o=t[s];a.forEach(function(l){o[l]=jI(n,l)})}}return t}function gs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function jI(n,t){return window.getComputedStyle(n)[t]}function Kie(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const l=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const s=i[1],r=i[2],a=i[3];t.push(x4(s,a));"<"==r[0]&&!("*"==s&&"*"==a)&&t.push(x4(a,s))}(i,e,t)):e.push(n),e}const tS=new Set(["true","1"]),iS=new Set(["false","0"]);function x4(n,t){const e=tS.has(n)||iS.has(n),i=tS.has(t)||iS.has(t);return(s,r)=>{let a="*"==n||n==s,o="*"==t||t==r;return!a&&e&&"boolean"==typeof s&&(a=s?tS.has(n):iS.has(n)),!o&&i&&"boolean"==typeof r&&(o=r?tS.has(t):iS.has(t)),a&&o}}const Jie=new RegExp("s*:selfs*,?","g");function WI(n,t,e){return new Zie(n).build(t,e)}class Zie{constructor(t){this._driver=t}build(t,e){const i=new tne(e);return this._resetContextStyleTimingState(i),gs(this,hg(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const r=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(o=>{if(this._resetContextStyleTimingState(e),0==o.type){const l=o,h=l.name;h.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,r.push(this.visitState(l,e))}),l.name=h}else if(1==o.type){const l=this.visitTransition(o,e);i+=l.queryCount,s+=l.depCount,a.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:a,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const r=new Set,a=s||{};if(i.styles.forEach(o=>{if(nS(o)){const l=o;Object.keys(l).forEach(h=>{P4(l[h]).forEach(d=>{a.hasOwnProperty(d)||r.add(d)})})}}),r.size){const o=Xb(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${o.join(", ")}`)}}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=gs(this,hg(t.animation),e);return{type:1,matchers:Kie(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Tc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>gs(this,i,e)),options:Tc(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const r=t.steps.map(a=>{e.currentTime=i;const o=gs(this,a,e);return s=Math.max(s,e.currentTime),o});return e.currentTime=s,{type:3,steps:r,options:Tc(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return zI(Jb(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=zI(0,0,"");return r.dynamic=!0,r.strValue=i,r}return e=e||Jb(i,t),zI(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,r=t.styles?t.styles:jb({});if(5==r.type)s=this.visitKeyframes(r,e);else{let a=t.styles,o=!1;if(!a){o=!0;const h={};i.easing&&(h.easing=i.easing),a=jb(h)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(a,e);l.isEmptyStep=o,s=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(a=>{"string"==typeof a?a==Qa?i.push(a):e.errors.push(`The provided style string value ${a} is not allowed.`):i.push(a)}):i.push(t.styles);let s=!1,r=null;return i.forEach(a=>{if(nS(a)){const o=a,l=o.easing;if(l&&(r=l,delete o.easing),!s)for(let h in o)if(o[h].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:r,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(o=>{if(!this._driver.validateStyleProperty(o))return void e.errors.push(`The provided animation property "${o}" is not a supported CSS property for animations`);const l=e.collectedStyles[e.currentQuerySelector],h=l[o];let d=!0;h&&(r!=s&&r>=h.startTime&&s<=h.endTime&&(e.errors.push(`The CSS property "${o}" that exists between the times of "${h.startTime}ms" and "${h.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${s}ms"`),d=!1),r=h.startTime),d&&(l[o]={startTime:r,endTime:s}),e.options&&function(n,t,e){const i=t.params||{},s=P4(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||e.push(`Unable to resolve the local animation param ${r} in the given list of values`)})}(a[o],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let r=0;const a=[];let o=!1,l=!1,h=0;const d=t.steps.map(N=>{const I=this._makeStyleAst(N,e);let U=null!=I.offset?I.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(nS(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(nS(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(I.styles),O=0;return null!=U&&(r++,O=I.offset=U),l=l||O<0||O>1,o=o||O<h,h=O,a.push(O),I});l&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const m=t.steps.length;let y=0;r>0&&r<m?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(y=1/(m-1));const S=m-1,k=e.currentTime,T=e.currentAnimateTimings,D=T.duration;return d.forEach((N,I)=>{const U=y>0?I==S?1:y*I:a[I],O=U*D;e.currentTime=k+T.delay+O,T.duration=O,this._validateStyleAst(N,e),N.offset=U,i.styles.push(N)}),i}visitReference(t,e){return{type:8,animation:gs(this,hg(t.animation),e),options:Tc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Tc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Tc(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[r,a]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Jie,"")),n=n.replace(/@\*/g,Yb).replace(/@\w+/g,e=>Yb+"-"+e.substr(1)).replace(/:animating/g,HI),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,ps(e.collectedStyles,e.currentQuerySelector,{});const o=gs(this,hg(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:a,animation:o,originalSelector:t.selector,options:Tc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Jb(t.timings,e.errors,!0);return{type:12,animation:gs(this,hg(t.animation),e),timings:i,options:null}}}class tne{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function nS(n){return!Array.isArray(n)&&"object"==typeof n}function Tc(n){return n?(n=Uh(n)).params&&(n.params=function(n){return n?Uh(n):null}(n.params)):n={},n}function zI(n,t,e){return{duration:n,delay:t,easing:e}}function KI(n,t,e,i,s,r,a=null,o=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:a,subTimeline:o}}class sS{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ane=new RegExp(":enter","g"),lne=new RegExp(":leave","g");function QI(n,t,e,i,s,r={},a={},o,l,h=[]){return(new cne).buildKeyframes(n,t,e,i,s,r,a,o,l,h)}class cne{buildKeyframes(t,e,i,s,r,a,o,l,h,d=[]){h=h||new sS;const m=new YI(t,e,h,s,r,d,[]);m.options=l,m.currentTimeline.setStyles([a],null,m.errors,l),gs(this,i,m);const y=m.timelines.filter(S=>S.containsAnimation());if(y.length&&Object.keys(o).length){const S=y[y.length-1];S.allowOnlyTimelineStyles()||S.setStyles([o],null,m.errors,l)}return y.length?y.map(S=>S.buildKeyframes()):[KI(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const s=e.createSubContext(t.options),r=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,s,s.options);r!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime;const a=null!=i.duration?Pc(i.duration):null,o=null!=i.delay?Pc(i.delay):null;return 0!==a&&t.forEach(l=>{const h=e.appendInstructionToTimeline(l,a,o);r=Math.max(r,h.duration+h.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),gs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const r=t.options;if(r&&(r.params||r.delay)&&(s=e.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=rS);const a=Pc(r.delay);s.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>gs(this,a,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Pc(t.options.delay):0;t.steps.forEach(a=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),gs(this,a,o),s=Math.max(s,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Jb(e.params?Zb(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const r=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,r=i.duration,o=e.createSubContext().currentTimeline;o.easing=i.easing,t.styles.forEach(l=>{o.forwardTime((l.offset||0)*r),o.setStyles(l.styles,l.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(s+r),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},r=s.delay?Pc(s.delay):0;r&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=rS);let a=i;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=o.length;let l=null;o.forEach((h,d)=>{e.currentQueryIndex=d;const m=e.createSubContext(t.options,h);r&&m.delayNextStep(r),h===e.element&&(l=m.currentTimeline),gs(this,t.animation,m),m.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,m.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,r=t.timings,a=Math.abs(r.duration),o=a*(e.currentQueryTotal-1);let l=a*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=o-l;break;case"full":l=i.currentStaggerTime}const d=e.currentTimeline;l&&d.delayNextStep(l);const m=d.currentTime;gs(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-m+(s.startTime-i.currentTimeline.startTime)}}const rS={};class YI{constructor(t,e,i,s,r,a,o,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=a,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new aS(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=Pc(i.duration)),null!=i.delay&&(s.delay=Pc(i.delay));const r=i.params;if(r){let a=s.params;a||(a=this.options.params={}),Object.keys(r).forEach(o=>{(!e||!a.hasOwnProperty(o))&&(a[o]=Zb(r[o],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,r=new YI(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=rS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},r=new une(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,r,a){let o=[];if(s&&o.push(this.element),t.length>0){t=(t=t.replace(ane,"."+this._enterClassName)).replace(lne,"."+this._leaveClassName);let h=this._driver.query(this.element,t,1!=i);0!==i&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),o.push(...h)}return!r&&0==o.length&&a.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class aS{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new aS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Qa,this._currentKeyframe[e]=Qa}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&(this._previousKeyframe.easing=e);const r=s&&s.params||{},a=function(n,t){const e={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(r=>{e[r]=Qa})):el(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(a).forEach(o=>{const l=Zb(a[o],r,i);this._pendingStyles[o]=l,this._localTimelineStyles.hasOwnProperty(o)||(this._backFill[o]=this._globalTimelineStyles.hasOwnProperty(o)?this._globalTimelineStyles[o]:Qa),this._updateStyle(o,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],s=t._styleSummary[e];(!i||s.time>i.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((o,l)=>{const h=el(o,!0);Object.keys(h).forEach(d=>{const m=h[d];"!"==m?t.add(d):m==Qa&&e.add(d)}),i||(h.offset=l/this.duration),s.push(h)});const r=t.size?Xb(t.values()):[],a=e.size?Xb(e.values()):[];if(i){const o=s[0],l=Uh(o);o.offset=0,l.offset=1,s=[o,l]}return KI(this.element,s,r,a,this.duration,this.startTime,this.easing,!1)}}class une extends aS{constructor(t,e,i,s,r,a,o=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],a=i+e,o=e/a,l=el(t[0],!1);l.offset=0,r.push(l);const h=el(t[0],!1);h.offset=I4(o),r.push(h);const d=t.length-1;for(let m=1;m<=d;m++){let y=el(t[m],!1);y.offset=I4((e+y.offset*i)/a),r.push(y)}i=a,e=0,s="",t=r}return KI(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function I4(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class JI{}class dne extends JI{normalizePropertyName(t,e){return GI(t)}normalizeStyleValue(t,e,i,s){let r="";const a=i.toString().trim();if(fne[e]&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const o=i.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&s.push(`Please provide a CSS unit value for ${t}:${i}`)}return a+r}}const fne=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function O4(n,t,e,i,s,r,a,o,l,h,d,m,y){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:r,toState:i,toStyles:a,timelines:o,queriedElements:l,preStyleProps:h,postStyleProps:d,totalTime:m,errors:y}}const ZI={};class N4{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function(n,t,e,i,s){return n.some(r=>r(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){const s=this._stateStyles["*"],r=this._stateStyles[t],a=s?s.buildStyles(e,i):{};return r?r.buildStyles(e,i):a}build(t,e,i,s,r,a,o,l,h,d){const m=[],y=this.ast.options&&this.ast.options.params||ZI,k=this.buildStyles(i,o&&o.params||ZI,m),T=l&&l.params||ZI,D=this.buildStyles(s,T,m),N=new Set,I=new Map,U=new Map,O="void"===s,G={params:Object.assign(Object.assign({},y),T)},Y=d?[]:QI(t,e,this.ast.animation,r,a,k,D,G,h,m);let oe=0;if(Y.forEach(ve=>{oe=Math.max(ve.duration+ve.delay,oe)}),m.length)return O4(e,this._triggerName,i,s,O,k,D,[],[],I,U,oe,m);Y.forEach(ve=>{const Oe=ve.element,ct=ps(I,Oe,{});ve.preStyleProps.forEach(st=>ct[st]=!0);const Je=ps(U,Oe,{});ve.postStyleProps.forEach(st=>Je[st]=!0),Oe!==e&&N.add(Oe)});const pe=Xb(N.values());return O4(e,this._triggerName,i,s,O,k,D,Y,pe,I,U,oe)}}class mne{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},s=Uh(this.defaultParams);return Object.keys(t).forEach(r=>{const a=t[r];null!=a&&(s[r]=a)}),this.styles.styles.forEach(r=>{if("string"!=typeof r){const a=r;Object.keys(a).forEach(o=>{let l=a[o];l.length>1&&(l=Zb(l,s,e));const h=this.normalizer.normalizePropertyName(o,e);l=this.normalizer.normalizeStyleValue(o,h,l,e),i[h]=l})}}),i}}class yne{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new mne(s.style,s.options&&s.options.params||{},i)}),L4(this.states,"true","1"),L4(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new N4(t,s,this.states))}),this.fallbackTransition=function(n,t,e){return new N4(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,o)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(a=>a.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function L4(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const bne=new sS;class Sne{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=WI(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,i){const s=t.element,r=g4(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],r=this._animations[t];let a;const o=new Map;if(r?(a=QI(this._driver,e,r,FI,Kb,{},{},i,bne,s),a.forEach(d=>{const m=ps(o,d.element,{});d.postStyleProps.forEach(y=>m[y]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),a=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);o.forEach((d,m)=>{Object.keys(d).forEach(y=>{d[y]=this._driver.computeStyle(m,y,Qa)})});const h=Xo(a.map(d=>{const m=o.get(d.element);return this._buildPlayer(d,{},m)}));return this._playersById[t]=h,h.onDestroy(()=>this.destroy(t)),this.players.push(h),h}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,s){const r=RI(e,"","","");return xI(this._getPlayer(t),i,r,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const B4="ng-animate-queued",$4="ng-animate-disabled",V4=".ng-animate-disabled",Cne=[],F4={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ane={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ks="__ng_removed";class XI{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const r=Uh(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const dg="void",eO=new XI(dg);class Pne{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Qs(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const r=ps(this._elementListeners,t,[]),a={name:e,phase:i,callback:s};r.push(a);const o=ps(this._engine.statesByElement,t,{});return o.hasOwnProperty(e)||(Qs(t,Qb),Qs(t,Qb+"-"+e),o[e]=eO),()=>{this._engine.afterFlush(()=>{const l=r.indexOf(a);l>=0&&r.splice(l,1),this._triggers[e]||delete o[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,s=!0){const r=this._getTrigger(e),a=new tO(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Qs(t,Qb),Qs(t,Qb+"-"+e),this._engine.statesByElement.set(t,o={}));let l=o[e];const h=new XI(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&h.absorbOptions(l.options),o[e]=h,l||(l=eO),h.value!==dg&&l.value===h.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const r=e[s];if(!t.hasOwnProperty(r)||n[r]!==t[r])return!1}return!0}(l.params,h.params)){const T=[],D=r.matchStyles(l.value,l.params,T),N=r.matchStyles(h.value,h.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{Dc(t,D),Zr(t,N)})}return}const y=ps(this._engine.playersByElement,t,[]);y.forEach(T=>{T.namespaceId==this.id&&T.triggerName==e&&T.queued&&T.destroy()});let S=r.matchTransition(l.value,h.value,t,h.params),k=!1;if(!S){if(!s)return;S=r.fallbackTransition,k=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:S,fromState:l,toState:h,player:a,isFallbackTransition:k}),k||(Qs(t,B4),a.onStart(()=>{Gh(t,B4)})),a.onDone(()=>{let T=this.players.indexOf(a);T>=0&&this.players.splice(T,1);const D=this._engine.playersByElement.get(t);if(D){let N=D.indexOf(a);N>=0&&D.splice(N,1)}}),this.players.push(a),y.push(a),a}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Yb,!0);i.forEach(s=>{if(s[Ks])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(a=>a.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const r=this._engine.statesByElement.get(t);if(r){const a=[];if(Object.keys(r).forEach(o=>{if(this._triggers[o]){const l=this.trigger(t,o,dg,s);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&Xo(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(r=>{const a=r.name;if(s.has(a))return;s.add(a);const l=this._triggers[a].fallbackTransition,h=i[a]||eO,d=new XI(dg),m=new tO(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:l,fromState:h,toState:d,player:m,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)s=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const r=t[Ks];(!r||r===F4)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Qs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const r=i.element,a=this._elementListeners.get(r);a&&a.forEach(o=>{if(o.name==i.triggerName){const l=RI(r,i.triggerName,i.fromState.value,i.toState.value);l._data=t,xI(i.player,o.phase,l,o.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const r=i.transition.ast.depCount,a=s.transition.ast.depCount;return 0==r||0==a?r-a:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Dne{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Pne(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let r=i;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let r=0;r<s.length;r++){const a=i[s[r]].namespaceId;if(a){const o=this._fetchNamespace(a);o&&e.add(o)}}}return e}trigger(t,e,i,s){if(oS(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!oS(e))return;const r=e[Ks];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Qs(t,$4)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Gh(t,$4))}removeNode(t,e,i,s){if(oS(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s){this.collectedLeaveElements.push(e),e[Ks]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,s,r){return oS(e)?this._fetchNamespace(t).listen(e,i,s,r):()=>{}}_buildInstruction(t,e,i,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,Yb,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,HI,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Xo(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ks];if(e&&e.setForRemoval){if(t[Ks]=F4,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,V4)&&this.markElementAsDisabled(t,!1),this.driver.query(t,V4,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Qs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Xo(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new sS,s=[],r=new Map,a=[],o=new Map,l=new Map,h=new Map,d=new Set;this.disabledNodes.forEach(X=>{d.add(X);const re=this.driver.query(X,".ng-animate-queued",!0);for(let ye=0;ye<re.length;ye++)d.add(re[ye])});const m=this.bodyNode,y=Array.from(this.statesByElement.keys()),S=U4(y,this.collectedEnterElements),k=new Map;let T=0;S.forEach((X,re)=>{const ye=FI+T++;k.set(re,ye),X.forEach(Ne=>Qs(Ne,ye))});const D=[],N=new Set,I=new Set;for(let X=0;X<this.collectedLeaveElements.length;X++){const re=this.collectedLeaveElements[X],ye=re[Ks];ye&&ye.setForRemoval&&(D.push(re),N.add(re),ye.hasAnimation?this.driver.query(re,".ng-star-inserted",!0).forEach(Ne=>N.add(Ne)):I.add(re))}const U=new Map,O=U4(y,Array.from(N));O.forEach((X,re)=>{const ye=Kb+T++;U.set(re,ye),X.forEach(Ne=>Qs(Ne,ye))}),t.push(()=>{S.forEach((X,re)=>{const ye=k.get(re);X.forEach(Ne=>Gh(Ne,ye))}),O.forEach((X,re)=>{const ye=U.get(re);X.forEach(Ne=>Gh(Ne,ye))}),D.forEach(X=>{this.processLeaveNode(X)})});const G=[],Y=[];for(let X=this._namespaceList.length-1;X>=0;X--)this._namespaceList[X].drainQueuedTransitions(e).forEach(ye=>{const Ne=ye.player,$t=ye.element;if(G.push(Ne),this.collectedEnterElements.length){const Ci=$t[Ks];if(Ci&&Ci.setForMove)return void Ne.destroy()}const Ki=!m||!this.driver.containsElement(m,$t),si=U.get($t),hn=k.get($t),gt=this._buildInstruction(ye,i,hn,si,Ki);if(gt.errors&&gt.errors.length)Y.push(gt);else{if(Ki)return Ne.onStart(()=>Dc($t,gt.fromStyles)),Ne.onDestroy(()=>Zr($t,gt.toStyles)),void s.push(Ne);if(ye.isFallbackTransition)return Ne.onStart(()=>Dc($t,gt.fromStyles)),Ne.onDestroy(()=>Zr($t,gt.toStyles)),void s.push(Ne);gt.timelines.forEach(Ci=>Ci.stretchStartingKeyframe=!0),i.append($t,gt.timelines),a.push({instruction:gt,player:Ne,element:$t}),gt.queriedElements.forEach(Ci=>ps(o,Ci,[]).push(Ne)),gt.preStyleProps.forEach((Ci,vs)=>{const Nn=Object.keys(Ci);if(Nn.length){let Jn=l.get(vs);Jn||l.set(vs,Jn=new Set),Nn.forEach(tl=>Jn.add(tl))}}),gt.postStyleProps.forEach((Ci,vs)=>{const Nn=Object.keys(Ci);let Jn=h.get(vs);Jn||h.set(vs,Jn=new Set),Nn.forEach(tl=>Jn.add(tl))})}});if(Y.length){const X=[];Y.forEach(re=>{X.push(`@${re.triggerName} has failed due to:\n`),re.errors.forEach(ye=>X.push(`- ${ye}\n`))}),G.forEach(re=>re.destroy()),this.reportError(X)}const oe=new Map,pe=new Map;a.forEach(X=>{const re=X.element;i.has(re)&&(pe.set(re,re),this._beforeAnimationBuild(X.player.namespaceId,X.instruction,oe))}),s.forEach(X=>{const re=X.element;this._getPreviousPlayers(re,!1,X.namespaceId,X.triggerName,null).forEach(Ne=>{ps(oe,re,[]).push(Ne),Ne.destroy()})});const ve=D.filter(X=>j4(X,l,h)),Oe=new Map;q4(Oe,this.driver,I,h,Qa).forEach(X=>{j4(X,l,h)&&ve.push(X)});const Je=new Map;S.forEach((X,re)=>{q4(Je,this.driver,new Set(X),l,"!")}),ve.forEach(X=>{const re=Oe.get(X),ye=Je.get(X);Oe.set(X,Object.assign(Object.assign({},re),ye))});const st=[],ui=[],hi={};a.forEach(X=>{const{element:re,player:ye,instruction:Ne}=X;if(i.has(re)){if(d.has(re))return ye.onDestroy(()=>Zr(re,Ne.toStyles)),ye.disabled=!0,ye.overrideTotalTime(Ne.totalTime),void s.push(ye);let $t=hi;if(pe.size>1){let si=re;const hn=[];for(;si=si.parentNode;){const gt=pe.get(si);if(gt){$t=gt;break}hn.push(si)}hn.forEach(gt=>pe.set(gt,$t))}const Ki=this._buildAnimation(ye.namespaceId,Ne,oe,r,Je,Oe);if(ye.setRealPlayer(Ki),$t===hi)st.push(ye);else{const si=this.playersByElement.get($t);si&&si.length&&(ye.parentPlayer=Xo(si)),s.push(ye)}}else Dc(re,Ne.fromStyles),ye.onDestroy(()=>Zr(re,Ne.toStyles)),ui.push(ye),d.has(re)&&s.push(ye)}),ui.forEach(X=>{const re=r.get(X.element);if(re&&re.length){const ye=Xo(re);X.setRealPlayer(ye)}}),s.forEach(X=>{X.parentPlayer?X.syncPlayerEvents(X.parentPlayer):X.destroy()});for(let X=0;X<D.length;X++){const re=D[X],ye=re[Ks];if(Gh(re,Kb),ye&&ye.hasAnimation)continue;let Ne=[];if(o.size){let Ki=o.get(re);Ki&&Ki.length&&Ne.push(...Ki);let si=this.driver.query(re,HI,!0);for(let hn=0;hn<si.length;hn++){let gt=o.get(si[hn]);gt&&gt.length&&Ne.push(...gt)}}const $t=Ne.filter(Ki=>!Ki.destroyed);$t.length?Rne(this,re,$t):this.processLeaveNode(re)}return D.length=0,st.forEach(X=>{this.players.push(X),X.onDone(()=>{X.destroy();const re=this.players.indexOf(X);this.players.splice(re,1)}),X.play()}),st}elementContainsData(t,e){let i=!1;const s=e[Ks];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,r){let a=[];if(e){const o=this.playersByQueriedElement.get(t);o&&(a=o)}else{const o=this.playersByElement.get(t);if(o){const l=!r||r==dg;o.forEach(h=>{h.queued||!l&&h.triggerName!=s||a.push(h)})}}return(i||s)&&(a=a.filter(o=>!(i&&i!=o.namespaceId||s&&s!=o.triggerName))),a}_beforeAnimationBuild(t,e,i){const r=e.element,a=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const h=l.element,d=h!==r,m=ps(i,h,[]);this._getPreviousPlayers(h,d,a,o,e.toState).forEach(S=>{const k=S.getRealPlayer();k.beforeDestroy&&k.beforeDestroy(),S.destroy(),m.push(S)})}Dc(r,e.fromStyles)}_buildAnimation(t,e,i,s,r,a){const o=e.triggerName,l=e.element,h=[],d=new Set,m=new Set,y=e.timelines.map(k=>{const T=k.element;d.add(T);const D=T[Ks];if(D&&D.removedBeforeQueried)return new qh(k.duration,k.delay);const N=T!==l,I=function(n){const t=[];return G4(n,t),t}((i.get(T)||Cne).map(oe=>oe.getRealPlayer())).filter(oe=>!!oe.element&&oe.element===T),U=r.get(T),O=a.get(T),G=g4(0,this._normalizer,0,k.keyframes,U,O),Y=this._buildPlayer(k,G,I);if(k.subTimeline&&s&&m.add(T),N){const oe=new tO(t,o,T);oe.setRealPlayer(Y),h.push(oe)}return Y});h.forEach(k=>{ps(this.playersByQueriedElement,k.element,[]).push(k),k.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,k.element,k))}),d.forEach(k=>Qs(k,E4));const S=Xo(y);return S.onDestroy(()=>{d.forEach(k=>Gh(k,E4)),Zr(l,e.toStyles)}),m.forEach(k=>{ps(s,k,[]).push(S)}),S}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new qh(t.duration,t.delay)}}class tO{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new qh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>xI(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ps(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function oS(n){return n&&1===n.nodeType}function H4(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function q4(n,t,e,i,s){const r=[];e.forEach(l=>r.push(H4(l)));const a=[];i.forEach((l,h)=>{const d={};l.forEach(m=>{const y=d[m]=t.computeStyle(h,m,s);(!y||0==y.length)&&(h[Ks]=Ane,a.push(h))}),n.set(h,d)});let o=0;return e.forEach(l=>H4(l,r[o++])),a}function U4(n,t){const e=new Map;if(n.forEach(o=>e.set(o,[])),0==t.length)return e;const s=new Set(t),r=new Map;function a(o){if(!o)return 1;let l=r.get(o);if(l)return l;const h=o.parentNode;return l=e.has(h)?h:s.has(h)?1:a(h),r.set(o,l),l}return t.forEach(o=>{const l=a(o);1!==l&&e.get(l).push(o)}),e}const lS="$$classes";function Qs(n,t){if(n.classList)n.classList.add(t);else{let e=n[lS];e||(e=n[lS]={}),e[t]=!0}}function Gh(n,t){if(n.classList)n.classList.remove(t);else{let e=n[lS];e&&delete e[t]}}function Rne(n,t,e){Xo(e).onDone(()=>n.processLeaveNode(t))}function G4(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof e4?G4(i.players,t):t.push(i)}}function j4(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(r=>s.add(r)):t.set(n,i),e.delete(n),!0}class cS{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new Dne(t,e,i),this._timelineEngine=new Sne(t,e,i),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(t,e,i,s,r){const a=t+"-"+s;let o=this._triggerCache[a];if(!o){const l=[],h=WI(this._driver,r,l);if(l.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);o=function(n,t,e){return new yne(n,t,e)}(s,h,this._normalizer),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(e,s,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[r,a]=m4(i);this._timelineEngine.command(r,e,a,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,r){if("@"==i.charAt(0)){const[a,o]=m4(i);return this._timelineEngine.listen(a,e,o,r)}return this._transitionEngine.listen(t,e,i,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function W4(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=iO(t[0]),t.length>1&&(i=iO(t[t.length-1]))):t&&(e=iO(t)),e||i?new Nne(n,e,i):null}let Nne=(()=>{class n{constructor(e,i,s){this._element=e,this._startStyles=i,this._endStyles=s,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Zr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zr(this._element,this._initialStyles),this._endStyles&&(Zr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Dc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dc(this._element,this._endStyles),this._endStyles=null),Zr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function iO(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=e[i];Lne(s)&&(t=t||{},t[s]=n[s])}return t}function Lne(n){return"display"===n||"position"===n}const z4="animation",K4="animationend";class Vne{constructor(t,e,i,s,r,a,o){this._element=t,this._name=e,this._duration=i,this._delay=s,this._easing=r,this._fillMode=a,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,t){const e=sO(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),uS(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),J4(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Q4(this._element,this._name,"paused")}resume(){Q4(this._element,this._name,"running")}setPosition(t){const e=Y4(this._element,this._name);this._position=t*this._duration,uS(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),J4(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=sO(n,"").split(","),s=nO(i,t);s>=0&&(i.splice(s,1),uS(n,"",i.join(",")))}(this._element,this._name))}}function Q4(n,t,e){uS(n,"PlayState",e,Y4(n,t))}function Y4(n,t){const e=sO(n,"");return e.indexOf(",")>0?nO(e.split(","),t):nO([e],t)}function nO(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function J4(n,t,e){e?n.removeEventListener(K4,t):n.addEventListener(K4,t)}function uS(n,t,e,i){const s=z4+t;if(null!=i){const r=n.style[s];if(r.length){const a=r.split(",");a[i]=e,e=a.join(",")}}n.style[s]=e}function sO(n,t){return n.style[z4+t]||""}class Z4{constructor(t,e,i,s,r,a,o,l){this.element=t,this.keyframes=e,this.animationName=i,this._duration=s,this._delay=r,this._finalStyles=o,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=s+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Vne(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:jI(this.element,i))})}this.currentSnapshot=t}}class jne extends qh{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=b4(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class eq{constructor(){this._count=0}validateStyleProperty(t){return NI(t)}matchesElement(t,e){return LI(t,e)}containsElement(t,e){return BI(t,e)}query(t,e,i){return $I(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(o=>b4(o));let s=`@keyframes ${e} {\n`,r="";i.forEach(o=>{r=" ";const l=parseFloat(o.offset);s+=`${r}${100*l}% {\n`,r+=" ",Object.keys(o).forEach(h=>{const d=o[h];switch(h){case"offset":return;case"easing":return void(d&&(s+=`${r}animation-timing-function: ${d};\n`));default:return void(s+=`${r}${h}: ${d};\n`)}}),s+=`${r}}\n`}),s+="}\n";const a=document.createElement("style");return a.textContent=s,a}animate(t,e,i,s,r,a=[],o){const l=a.filter(D=>D instanceof Z4),h={};D4(i,s)&&l.forEach(D=>{let N=D.currentSnapshot;Object.keys(N).forEach(I=>h[I]=N[I])});const d=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(t[s]=i[s])})}),t}(e=T4(t,e,h));if(0==i)return new jne(t,d);const m="gen_css_kf_"+this._count++,y=this.buildKeyframeElement(t,m,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(y);const k=W4(t,e),T=new Z4(t,e,m,i,s,r,d,k);return T.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(y)),T}}class iq{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:jI(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Yne{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(nq().toString()),this._cssKeyframesDriver=new eq}validateStyleProperty(t){return NI(t)}matchesElement(t,e){return LI(t,e)}containsElement(t,e){return BI(t,e)}query(t,e,i){return $I(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,s,r,a=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,s,r,a);const d={duration:i,delay:s,fill:0==s?"both":"forwards"};r&&(d.easing=r);const m={},y=a.filter(k=>k instanceof iq);D4(i,s)&&y.forEach(k=>{let T=k.currentSnapshot;Object.keys(T).forEach(D=>m[D]=T[D])});const S=W4(t,e=T4(t,e=e.map(k=>el(k,!1)),m));return new iq(t,e,d,S)}}function nq(){return p4()&&Element.prototype.animate||{}}let Zne=(()=>{class n extends YH{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Kt.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?JH(e):e;return sq(this._renderer,null,i,"register",[s]),new Xne(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(H(Xl),H(Xe))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class Xne extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ese(this._id,t,e||{},this._renderer)}}class ese{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return sq(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function sq(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const rq="@.disabled";let tse=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(r,a)=>{a&&a.parentNode(r)&&a.removeChild(r.parentNode,r)}}createRenderer(e,i){const r=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(r);return d||(d=new aq("",r,this.engine),this._rendererCache.set(r,d)),d}const a=i.id,o=i.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(a,o,e,d.name,d)};return i.data.animation.forEach(l),new ise(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[a,o]=r;a(o)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(H(Xl),H(cS),H(ze))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class aq{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==rq?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ise extends aq{constructor(t,e,i,s){super(e,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==rq?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let r=e.substr(1),a="";return"@"!=r.charAt(0)&&([r,a]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,s,r,a,o=>{this.factory.scheduleListenerCallback(o._data||-1,i,o)})}return this.delegate.listen(t,e,i)}}let rse=(()=>{class n extends cS{constructor(e,i,s){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(H(Xe),H(VI),H(JI))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const oq=new be("AnimationModuleType"),lq=[{provide:YH,useClass:Zne},{provide:JI,useFactory:function(){return new dne}},{provide:cS,useClass:rse},{provide:Xl,useFactory:function(n,t,e){return new tse(n,t,e)},deps:[Zy,cS,ze]}],cq=[{provide:VI,useFactory:function(){return"function"==typeof nq()?new Yne:new eq}},{provide:oq,useValue:"BrowserAnimations"},...lq],uq=[{provide:VI,useClass:S4},{provide:oq,useValue:"NoopAnimations"},...lq];let cse=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?uq:cq}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:cq,imports:[W0]}),n})(),use=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n,bootstrap:[Vie]}),n.\u0275inj=Gt({providers:[],imports:[[W0,dz,_$,fz,cse,Dte,gie]]}),n})();(function(){if(kB)throw new Error("Cannot enable prod mode after platform setup.");EB=!1})(),g9().bootstrapModule(use).catch(n=>console.error(n))}},Wt=>{Wt(Wt.s=797)}]);