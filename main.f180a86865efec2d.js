"use strict";(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[792],{91(be,z,w){w.d(z,{D:()=>E});const E="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},129(be,z,w){w.d(z,{A:()=>ne});var E=w(1685),m=w(554);const ne=function te(ie){if(!(0,m.A)(ie))return!1;var ce=(0,E.A)(ie);return"[object Function]"==ce||"[object GeneratorFunction]"==ce||"[object AsyncFunction]"==ce||"[object Proxy]"==ce}},135(be,z,w){w.d(z,{i:()=>he});var E=w(4385),m=w(8253),q=w(7765),c=w(5722),ne=w(5253),ie=w(5998),ce=w(1456);const he=ye=>{if(ye&&"function"==typeof ye[c.s])return(ye=>De=>{const We=ye[c.s]();if("function"!=typeof We.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return We.subscribe(De)})(ye);if((0,ne.X)(ye))return(0,E.v)(ye);if((0,ie.y)(ye))return(ye=>De=>(ye.then(We=>{De.closed||(De.next(We),De.complete())},We=>De.error(We)).then(null,m.T),De))(ye);if(ye&&"function"==typeof ye[q.lJ])return(ye=>De=>{const We=ye[q.lJ]();for(;;){let it;try{it=We.next()}catch(nt){return De.error(nt),De}if(it.done){De.complete();break}if(De.next(it.value),De.closed)break}return"function"==typeof We.return&&De.add(()=>{We.return&&We.return()}),De})(ye);{const We=`You provided ${(0,ce.G)(ye)?"an invalid object":`'${ye}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(We)}}},178(be,z,w){w.d(z,{I:()=>I});var E=w(614),m=w(8253);const I={closed:!0,next(q){},error(q){if(E.$.useDeprecatedSynchronousErrorHandling)throw q;(0,m.T)(q)},complete(){}}},219(be,z,w){w.d(z,{A:()=>I});var E=w(3746);const I=function m(q){var A=(0,E.A)(this,q).delete(q);return this.size-=A?1:0,A}},253(be,z,w){w.d(z,{A:()=>A});var E=w(1685),m=w(2661);const A=function q(c){return(0,m.A)(c)&&"[object Arguments]"==(0,E.A)(c)}},259(be,z,w){w.d(z,{A:()=>ie});var E=w(1860),m=w(5554),I="object"==typeof exports&&exports&&!exports.nodeType&&exports,q=I&&"object"==typeof module&&module&&!module.nodeType&&module,c=q&&q.exports===I?E.A.Buffer:void 0;const ie=(c?c.isBuffer:void 0)||m.A},309(be,z,w){w.d(z,{A:()=>m});const m=function E(I){var q=typeof I;return"string"==q||"number"==q||"symbol"==q||"boolean"==q?"__proto__"!==I:null===I}},336(be,z,w){w.d(z,{A:()=>I});var E=w(1319);const I=function m(q,A){for(var c=q.length;c--;)if((0,E.A)(q[c][0],A))return c;return-1}},340(be,z,w){w.d(z,{A:()=>m});const m=function E(I){return this.__data__.get(I)}},355(be,z,w){w.d(z,{A:()=>A});var E=w(336),I=Array.prototype.splice;const A=function q(c){var te=this.__data__,ne=(0,E.A)(te,c);return!(ne<0||(ne==te.length-1?te.pop():I.call(te,ne,1),--this.size,0))}},467(be,z,w){function E(I,q,A,c,te,ne,ie){try{var ce=I[ne](ie),he=ce.value}catch(ye){return void A(ye)}ce.done?q(he):Promise.resolve(he).then(c,te)}function m(I){return function(){var q=this,A=arguments;return new Promise(function(c,te){var ne=I.apply(q,A);function ie(he){E(ne,c,te,ie,ce,"next",he)}function ce(he){E(ne,c,te,ie,ce,"throw",he)}ie(void 0)})}}w.d(z,{A:()=>m})},554(be,z,w){w.d(z,{A:()=>m});const m=function E(I){var q=typeof I;return null!=I&&("object"==q||"function"==q)}},563(be,z,w){w.d(z,{A:()=>m});const m=function E(I,q){for(var A=-1,c=q.length,te=I.length;++A<c;)I[te+A]=q[A];return I}},568(be,z,w){w.d(z,{A:()=>me});var E=w(1685),m=w(5481),I=w(2661),_t={};_t["[object Float32Array]"]=_t["[object Float64Array]"]=_t["[object Int8Array]"]=_t["[object Int16Array]"]=_t["[object Int32Array]"]=_t["[object Uint8Array]"]=_t["[object Uint8ClampedArray]"]=_t["[object Uint16Array]"]=_t["[object Uint32Array]"]=!0,_t["[object Arguments]"]=_t["[object Array]"]=_t["[object ArrayBuffer]"]=_t["[object Boolean]"]=_t["[object DataView]"]=_t["[object Date]"]=_t["[object Error]"]=_t["[object Function]"]=_t["[object Map]"]=_t["[object Number]"]=_t["[object Object]"]=_t["[object RegExp]"]=_t["[object Set]"]=_t["[object String]"]=_t["[object WeakMap]"]=!1;const me=function Ii(Ee){return(0,I.A)(Ee)&&(0,m.A)(Ee.length)&&!!_t[(0,E.A)(Ee)]}},590(be,z,w){w.d(z,{A:()=>I});var E=w(336);const I=function m(q,A){var c=this.__data__,te=(0,E.A)(c,q);return te<0?(++this.size,c.push([q,A])):c[te][1]=A,this}},614(be,z,w){w.d(z,{$:()=>m});let E=!1;const m={Promise:void 0,set useDeprecatedSynchronousErrorHandling(I){if(I){const q=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+q.stack)}else E&&console.log("RxJS: Back to a better error behavior. Thank you. <3");E=I},get useDeprecatedSynchronousErrorHandling(){return E}}},618(be,z,w){w.d(z,{A:()=>I});var E=w(5152);const I=function m(q,A){var c=A?(0,E.A)(q.buffer):q.buffer;return new q.constructor(c,q.byteOffset,q.byteLength)}},712(be,z,w){w.d(z,{A:()=>q});var E=w(9898),m=w(2697);const q=function I(A,c){return(0,E.A)(A,(0,m.A)(A),c)}},762(be,z,w){w.d(z,{v:()=>te});var E=w(8099),m=w(178),I=w(1805),q=w(91),A=w(614),c=w(8253);class te extends I.y{constructor(ce,he,ye){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=m.I;break;case 1:if(!ce){this.destination=m.I;break}if("object"==typeof ce){ce instanceof te?(this.syncErrorThrowable=ce.syncErrorThrowable,this.destination=ce,ce.add(this)):(this.syncErrorThrowable=!0,this.destination=new ne(this,ce));break}default:this.syncErrorThrowable=!0,this.destination=new ne(this,ce,he,ye)}}[q.D](){return this}static create(ce,he,ye){const De=new te(ce,he,ye);return De.syncErrorThrowable=!1,De}next(ce){this.isStopped||this._next(ce)}error(ce){this.isStopped||(this.isStopped=!0,this._error(ce))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ce){this.destination.next(ce)}_error(ce){this.destination.error(ce),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ce}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ce,this}}class ne extends te{constructor(ce,he,ye,De){super(),this._parentSubscriber=ce;let We,it=this;(0,E.T)(he)?We=he:he&&(We=he.next,ye=he.error,De=he.complete,he!==m.I&&(it=Object.create(he),(0,E.T)(it.unsubscribe)&&this.add(it.unsubscribe.bind(it)),it.unsubscribe=this.unsubscribe.bind(this))),this._context=it,this._next=We,this._error=ye,this._complete=De}next(ce){if(!this.isStopped&&this._next){const{_parentSubscriber:he}=this;A.$.useDeprecatedSynchronousErrorHandling&&he.syncErrorThrowable?this.__tryOrSetError(he,this._next,ce)&&this.unsubscribe():this.__tryOrUnsub(this._next,ce)}}error(ce){if(!this.isStopped){const{_parentSubscriber:he}=this,{useDeprecatedSynchronousErrorHandling:ye}=A.$;if(this._error)ye&&he.syncErrorThrowable?(this.__tryOrSetError(he,this._error,ce),this.unsubscribe()):(this.__tryOrUnsub(this._error,ce),this.unsubscribe());else if(he.syncErrorThrowable)ye?(he.syncErrorValue=ce,he.syncErrorThrown=!0):(0,c.T)(ce),this.unsubscribe();else{if(this.unsubscribe(),ye)throw ce;(0,c.T)(ce)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ce}=this;if(this._complete){const he=()=>this._complete.call(this._context);A.$.useDeprecatedSynchronousErrorHandling&&ce.syncErrorThrowable?(this.__tryOrSetError(ce,he),this.unsubscribe()):(this.__tryOrUnsub(he),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ce,he){try{ce.call(this._context,he)}catch(ye){if(this.unsubscribe(),A.$.useDeprecatedSynchronousErrorHandling)throw ye;(0,c.T)(ye)}}__tryOrSetError(ce,he,ye){if(!A.$.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{he.call(this._context,ye)}catch(De){return A.$.useDeprecatedSynchronousErrorHandling?(ce.syncErrorValue=De,ce.syncErrorThrown=!0,!0):((0,c.T)(De),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ce}=this;this._context=null,this._parentSubscriber=null,ce.unsubscribe()}}},778(be,z,w){w.d(z,{A:()=>m});const m=function E(I){return function(q){return I(q)}}},1080(be,z,w){w.d(z,{b:()=>q});var E=w(8189);const q=new(w(6228).q)(E.R)},1178(be,z,w){w.d(z,{A:()=>A});var E=w(7901),m=w(8010),I=w(5776);const A=function q(c){return"function"!=typeof c.constructor||(0,I.A)(c)?{}:(0,E.A)((0,m.A)(c))}},1259(be,z,w){w.d(z,{Y:()=>m});var E=w(1805);class m extends E.y{constructor(q,A){super(),this.subject=q,this.subscriber=A,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const q=this.subject,A=q.observers;if(this.subject=null,!A||0===A.length||q.isStopped||q.closed)return;const c=A.indexOf(this.subscriber);-1!==c&&A.splice(c,1)}}},1270(be,z,w){w.d(z,{A:()=>te});var E=w(554),m=w(5776),I=w(3600),A=Object.prototype.hasOwnProperty;const te=function c(ne){if(!(0,E.A)(ne))return(0,I.A)(ne);var ie=(0,m.A)(ne),ce=[];for(var he in ne)"constructor"==he&&(ie||!A.call(ne,he))||ce.push(he);return ce}},1287(be,z,w){w.d(z,{A:()=>q});var E=w(129),m=w(5481);const q=function I(A){return null!=A&&(0,m.A)(A.length)&&!(0,E.A)(A)}},1319(be,z,w){w.d(z,{A:()=>m});const m=function E(I,q){return I===q||I!=I&&q!=q}},1374(be,z,w){w.d(z,{A:()=>c});var E=w(7107),q=Object.prototype.hasOwnProperty;const c=function A(te){var ne=this.__data__;if(E.A){var ie=ne[te];return"__lodash_hash_undefined__"===ie?void 0:ie}return q.call(ne,te)?ne[te]:void 0}},1387(be,z,w){w.d(z,{A:()=>I});var E=w(7107);const I=function m(){this.__data__=E.A?(0,E.A)(null):{},this.size=0}},1456(be,z,w){function E(m){return null!==m&&"object"==typeof m}w.d(z,{G:()=>E})},1679(be,z,w){let E;function m(){return E}function I(ne){const ie=E;return E=ne,ie}w.d(z,{Af:()=>m,c4:()=>te,mu:()=>I});const A=Symbol("NotFound");function te(ne){return ne===A||"\u0275NotFound"===ne?.name}Error},1685(be,z,w){w.d(z,{A:()=>ne});var E=w(6944),m=w(6756),I=w(3811),c=E.A?E.A.toStringTag:void 0;const ne=function te(ie){return null==ie?void 0===ie?"[object Undefined]":"[object Null]":c&&c in Object(ie)?(0,m.A)(ie):(0,I.A)(ie)}},1795(be,z,w){w.d(z,{A:()=>c});var E=w(2619),m=w(778),I=w(3340),q=I.A&&I.A.isMap;const c=q?(0,m.A)(q):E.A},1805(be,z,w){w.d(z,{y:()=>A});var te,E=w(7354),m=w(1456),I=w(8099),q=w(9379);class A{constructor(ne){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ne&&(this._ctorUnsubscribe=!0,this._unsubscribe=ne)}unsubscribe(){let ne;if(this.closed)return;let{_parentOrParents:ie,_ctorUnsubscribe:ce,_unsubscribe:he,_subscriptions:ye}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ie instanceof A)ie.remove(this);else if(null!==ie)for(let De=0;De<ie.length;++De)ie[De].remove(this);if((0,I.T)(he)){ce&&(this._unsubscribe=void 0);try{he.call(this)}catch(De){ne=De instanceof q.Z?c(De.errors):[De]}}if((0,E.c)(ye)){let De=-1,We=ye.length;for(;++De<We;){const it=ye[De];if((0,m.G)(it))try{it.unsubscribe()}catch(nt){ne=ne||[],nt instanceof q.Z?ne=ne.concat(c(nt.errors)):ne.push(nt)}}}if(ne)throw new q.Z(ne)}add(ne){let ie=ne;if(!ne)return A.EMPTY;switch(typeof ne){case"function":ie=new A(ne);case"object":if(ie===this||ie.closed||"function"!=typeof ie.unsubscribe)return ie;if(this.closed)return ie.unsubscribe(),ie;if(!(ie instanceof A)){const ye=ie;ie=new A,ie._subscriptions=[ye]}break;default:throw new Error("unrecognized teardown "+ne+" added to Subscription.")}let{_parentOrParents:ce}=ie;if(null===ce)ie._parentOrParents=this;else if(ce instanceof A){if(ce===this)return ie;ie._parentOrParents=[ce,this]}else{if(-1!==ce.indexOf(this))return ie;ce.push(this)}const he=this._subscriptions;return null===he?this._subscriptions=[ie]:he.push(ie),ie}remove(ne){const ie=this._subscriptions;if(ie){const ce=ie.indexOf(ne);-1!==ce&&ie.splice(ce,1)}}}function c(te){return te.reduce((ne,ie)=>ne.concat(ie instanceof q.Z?ie.errors:ie),[])}A.EMPTY=((te=new A).closed=!0,te)},1827(be,z,w){w.d(z,{A:()=>I});var E=w(2365);const I=function m(q,A,c){"__proto__"==A&&E.A?(0,E.A)(q,A,{configurable:!0,enumerable:!0,value:c,writable:!0}):q[A]=c}},1860(be,z,w){w.d(z,{A:()=>q});var E=w(7133),m="object"==typeof self&&self&&self.Object===Object&&self;const q=E.A||m||Function("return this")()},1861(be,z,w){w.d(z,{A:()=>m});const m=function E(I,q){for(var A=-1,c=null==I?0:I.length,te=0,ne=[];++A<c;){var ie=I[A];q(ie,A,I)&&(ne[te++]=ie)}return ne}},1885(be,z,w){w.d(z,{A:()=>m});const m=function E(I,q){return I?.[q]}},1984(be,z,w){w.d(z,{A:()=>c});var E=w(1827),m=w(1319),q=Object.prototype.hasOwnProperty;const c=function A(te,ne,ie){var ce=te[ne];(!q.call(te,ne)||!(0,m.A)(ce,ie)||void 0===ie&&!(ne in te))&&(0,E.A)(te,ne,ie)}},2063(be,z,w){w.d(z,{A:()=>q});var E=w(5525),m=w(1860);const q=(0,E.A)(m.A,"Promise")},2145(be,z,w){w.d(z,{P:()=>m});const m=(()=>{function I(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return I.prototype=Object.create(Error.prototype),I})()},2173(be,z,w){w.d(z,{A:()=>c});var E=w(5042),m=w(778),I=w(3340),q=I.A&&I.A.isSet;const c=q?(0,m.A)(q):E.A},2234(be,z,w){function E(m){return m&&"function"==typeof m.schedule}w.d(z,{m:()=>E})},2365(be,z,w){w.d(z,{A:()=>I});var E=w(5525);const I=function(){try{var q=(0,E.A)(Object,"defineProperty");return q({},"",{}),q}catch{}}()},2495(be,z,w){w.d(z,{A:()=>m});const m=function E(I){var q=this.has(I)&&delete this.__data__[I];return this.size-=q?1:0,q}},2496(be,z,w){w.d(z,{V:()=>I});var E=w(7389),m=w(1805);function I(q,A){return new E.c(c=>{const te=new m.y;let ne=0;return te.add(A.schedule(function(){ne!==q.length?(c.next(q[ne++]),c.closed||te.add(this.schedule())):c.complete()})),te})}},2619(be,z,w){w.d(z,{A:()=>A});var E=w(3080),m=w(2661);const A=function q(c){return(0,m.A)(c)&&"[object Map]"==(0,E.A)(c)}},2661(be,z,w){w.d(z,{A:()=>m});const m=function E(I){return null!=I&&"object"==typeof I}},2697(be,z,w){w.d(z,{A:()=>te});var E=w(1861),m=w(6032),q=Object.prototype.propertyIsEnumerable,A=Object.getOwnPropertySymbols;const te=A?function(ne){return null==ne?[]:(ne=Object(ne),(0,E.A)(A(ne),function(ie){return q.call(ne,ie)}))}:m.A},2917(be,z,w){w.d(z,{A:()=>c});var E=w(5776),m=w(7939),q=Object.prototype.hasOwnProperty;const c=function A(te){if(!(0,E.A)(te))return(0,m.A)(te);var ne=[];for(var ie in Object(te))q.call(te,ie)&&"constructor"!=ie&&ne.push(ie);return ne}},2943(be,z,w){w.d(z,{A:()=>A});var E=w(9320),m=w(3180),I=w(6568);const A=function q(){this.size=0,this.__data__={hash:new E.A,map:new(I.A||m.A),string:new E.A}}},3004(be,z,w){w.d(z,{gn:()=>c,tS:()=>ne,zA:()=>q});var E=w(762),m=w(7389),I=w(135);class q extends E.v{constructor(ce){super(),this.parent=ce}_next(ce){this.parent.notifyNext(ce)}_error(ce){this.parent.notifyError(ce),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class c extends E.v{notifyNext(ce){this.destination.next(ce)}notifyError(ce){this.destination.error(ce)}notifyComplete(){this.destination.complete()}}function ne(ie,ce){if(ce.closed)return;if(ie instanceof m.c)return ie.subscribe(ce);let he;try{he=(0,I.i)(ie)(ce)}catch(ye){ce.error(ye)}return he}},3080(be,z,w){w.d(z,{A:()=>Ze});var E=w(8257),m=w(6568),I=w(2063),q=w(4226),A=w(5756),c=w(1685),te=w(8736),ne="[object Map]",ce="[object Promise]",he="[object Set]",ye="[object WeakMap]",De="[object DataView]",We=(0,te.A)(E.A),it=(0,te.A)(m.A),nt=(0,te.A)(I.A),wt=(0,te.A)(q.A),ot=(0,te.A)(A.A),vt=c.A;(E.A&&vt(new E.A(new ArrayBuffer(1)))!=De||m.A&&vt(new m.A)!=ne||I.A&&vt(I.A.resolve())!=ce||q.A&&vt(new q.A)!=he||A.A&&vt(new A.A)!=ye)&&(vt=function(Gt){var ei=(0,c.A)(Gt),xt="[object Object]"==ei?Gt.constructor:void 0,ni=xt?(0,te.A)(xt):"";if(ni)switch(ni){case We:return De;case it:return ne;case nt:return ce;case wt:return he;case ot:return ye}return ei});const Ze=vt},3117(be,z,w){function E(I,q){q=encodeURIComponent(q);for(const A of I.split(";")){const c=A.indexOf("="),[te,ne]=-1==c?[A,""]:[A.slice(0,c),A.slice(c+1)];if(te.trim()===q)return decodeURIComponent(ne)}return null}w.d(z,{N:()=>m,b:()=>E});class m{}},3126(be,z,w){w.d(z,{A:()=>De});var E=w(129),m=w(4541),I=w(554),q=w(8736),c=/^\[object .+?Constructor\]$/,he=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const De=function ye(We){return!(!(0,I.A)(We)||(0,m.A)(We))&&((0,E.A)(We)?he:c).test((0,q.A)(We))}},3180(be,z,w){w.d(z,{A:()=>te});var E=w(3527),m=w(355),I=w(4402),q=w(4166),A=w(590);function c(ne){var ie=-1,ce=null==ne?0:ne.length;for(this.clear();++ie<ce;){var he=ne[ie];this.set(he[0],he[1])}}c.prototype.clear=E.A,c.prototype.delete=m.A,c.prototype.get=I.A,c.prototype.has=q.A,c.prototype.set=A.A;const te=c},3276(be){be.exports=JSON.parse('[{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and Spooked until next turn to the nearest friend ahead."},{"Level":2,"About":"End turn: Give +2 attack and Spooked until next turn to the nearest friend ahead."},{"Level":3,"About":"End turn: Give +3 attack and Spooked until next turn to the nearest friend ahead."}],"Id":"624","Name":"???","NameId":"Leafling","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Jump attack the second enemy for 3 damage."},{"Level":2,"About":"Start of battle: Jump attack the second enemy for 6 damage."},{"Level":3,"About":"Start of battle: Jump attack the second enemy for 9 damage."}],"Id":"388","Name":"African Wild Dog","NameId":"AfricanWildDog","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +1 mana."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +2 mana."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +3 mana."}],"Id":"626","Name":"Alchemedes","NameId":"AlchemistBug","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Give one random friend +1 attack and +1 health."},{"Level":2,"About":"Faint: Give one random friend +2 attack and +2 health."},{"Level":3,"About":"Faint: Give one random friend +3 attack and +3 health."}],"Id":"0","Name":"Ant","NameId":"Ant","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: If turn number is even, replace random ailments with +1 health on two friends."},{"Level":2,"About":"End turn: If turn number is even, replace random ailments with +2 health on two friends."},{"Level":3,"About":"End turn: If turn number is even, replace random ailments with +3 health on two friends."}],"Id":"628","Name":"Baku","NameId":"Baku","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make the last perk-less enemy Spooked."},{"Level":2,"About":"Start of battle: Make the two last perk-less enemies Spooked."},{"Level":3,"About":"Start of battle: Make the three last perk-less enemies Spooked."}],"Id":"621","Name":"Barghest","NameId":"Barghest","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give two random friends +1 attack."},{"Level":2,"About":"Sell: Give two random friends +2 attack."},{"Level":3,"About":"Sell: Give two random friends +3 attack."}],"Id":"3","Name":"Beaver","NameId":"Beaver","Tier":1,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"4","Name":"Bee","NameId":"Bee","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Walnut perk to nearest friend behind."},{"Level":2,"About":"Start of battle: Give Walnut perk with double effect to nearest friend behind."},{"Level":3,"About":"Start of battle: Give Walnut perk with triple effect to nearest friend behind."}],"Id":"88","Name":"Beetle","NameId":"Beetle","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Give one random friend +1 attack."},{"Level":2,"About":"End turn: Give one random friend +2 attack."},{"Level":3,"About":"End turn: Give one random friend +3 attack."}],"Id":"89","Name":"Bluebird","NameId":"Bluebird","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Two enemy attacks: Deal 1 damage to the first enemy. Works 2 times per battle."},{"Level":2,"About":"Two enemy attacks: Deal 2 damage to the first enemy. Works 2 times per battle."},{"Level":3,"About":"Two enemy attacks: Deal 3 damage to the first enemy. Works 2 times per battle."}],"Id":"401","Name":"Bombus Dahlbomii","NameId":"BombusDahlbomii","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain the Popcorn perk and +1 health."},{"Level":2,"About":"Start of battle: Gain the Popcorn perk and +2 health."},{"Level":3,"About":"Start of battle: Gain the Popcorn perk and +3 health."}],"Id":"775","Name":"Budgie","NameId":"Budgie","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"After first attack: Gain +2 attack."},{"Level":2,"About":"After first attack: Gain +4 attack."},{"Level":3,"About":"After first attack: Gain +6 attack."}],"Id":"189","Name":"Bulldog","NameId":"Bulldog","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 health for each roll (max 2)."},{"Level":2,"About":"Start of battle: Gain +2 health for each roll (max 2)."},{"Level":3,"About":"Start of battle: Gain +3 health for each roll (max 2)."}],"Id":"601","Name":"Bunyip","NameId":"Bunyip","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"85","Name":"Bus","NameId":"Bus","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"13","Name":"Chick","NameId":"Chick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Push the most healthy enemy one space forward."},{"Level":2,"About":"Start of battle: Push the most healthy enemy two spaces forward."},{"Level":3,"About":"Start of battle: Push the most healthy enemy three spaces forward."}],"Id":"541","Name":"Chihuahua","NameId":"Chihuahua","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Summon one 2/2 level 1 Loyal Chinchilla."},{"Level":2,"About":"Sell: Summon one 4/4 level 2 Loyal Chinchilla."},{"Level":3,"About":"Sell: Summon one 6/6 level 3 Loyal Chinchilla."}],"Id":"161","Name":"Chinchilla","NameId":"Chinchilla","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Stock one free copy of this pet\'s food perk."},{"Level":2,"About":"Sell: Stock two free copies of this pet\'s food perk."},{"Level":3,"About":"Sell: Stock three free copies of this pet\'s food perk."}],"Id":"184","Name":"Chipmunk","NameId":"Chipmunk","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Pack4"],"PacksRequired":["Pack2","Pack4"],"Rollable":true,"CustomArchetypes":["Perks","Mvp"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Cockroach and give it +1 experience."},{"Level":2,"About":"Faint: Summon one 1/1 Cockroach and give it +2 experience."},{"Level":3,"About":"Faint: Summon one 1/1 Cockroach and give it +3 experience."}],"Id":"18","Name":"Cockroach","NameId":"Cockroach","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend behind +2 health."},{"Level":2,"About":"Start of battle: Give the nearest friend behind +4 health."},{"Level":3,"About":"Start of battle: Give the nearest friend behind +6 health."}],"Id":"272","Name":"Cone Snail","NameId":"ConeSnail","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Does not provide shop rewards on level-up."},{"Level":2,"About":"Does not provide shop rewards on level-up."},{"Level":3,"About":"Does not provide shop rewards on level-up."}],"Id":"710","Name":"Cooked Roach","NameId":"CockroachToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"647","Name":"Cracked Egg","NameId":"EggLadCracked","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Cricket."},{"Level":2,"About":"Faint: Summon one 2/2 Cricket."},{"Level":3,"About":"Faint: Summon one 3/3 Cricket."}],"Id":"17","Name":"Cricket","NameId":"Cricket","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Attack and health can\'t go over 1."},{"Level":2,"About":"Attack and health can\'t go over 1."},{"Level":3,"About":"Attack and health can\'t go over 1."}],"Id":"788","Name":"Cuckoo Chick","NameId":"CuckooBaby","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Choose one witch toy that breaks after 2 turns."},{"Level":2,"About":"Sell: Choose one witch toy that breaks after 4 turns."},{"Level":3,"About":"Sell: Choose one witch toy that breaks after 6 turns."}],"Id":"611","Name":"Cuddle Toad","NameId":"CuddleToad","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"641","Name":"Daycrawler","NameId":"DayCrawler","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"58","Name":"Dirty Rat","NameId":"RatToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give shop pets +1 health."},{"Level":2,"About":"Sell: Give shop pets +2 health."},{"Level":3,"About":"Sell: Give shop pets +3 health."}],"Id":"26","Name":"Duck","NameId":"Duck","Tier":1,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give left-most shop pet +2 health."},{"Level":2,"About":"Sell: Give left-most shop pet +4 health."},{"Level":3,"About":"Sell: Give left-most shop pet +6 health."}],"Id":"113","Name":"Duckling","NameId":"BabyDuck","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Remove 1 attack from the first enemy."},{"Level":2,"About":"Faint: Remove 1 attack from the first two enemies."},{"Level":3,"About":"Faint: Remove 1 attack from the first three enemies."}],"Id":"406","Name":"Ethiopian Wolf","NameId":"EthiopianWolf","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Takes 1 less damage. Works 2 times per turn."},{"Level":2,"About":"Takes 2 less damage. Works 2 times per turn."},{"Level":3,"About":"Takes 3 less damage. Works 2 times per turn."}],"Id":"408","Name":"Fan Mussel","NameId":"FanMussel","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Feed one Corncob to the nearest friend behind."},{"Level":2,"About":"Faint: Feed one Corncob to the nearest two friends behind."},{"Level":3,"About":"Faint: Feed one Corncob to the nearest three friends behind."}],"Id":"693","Name":"Farmer Mouse","NameId":"FarmerMouse","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Ferret toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Ferret toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Ferret toy."}],"Id":"172","Name":"Ferret","NameId":"Ferret","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"343","Name":"Fire Pup","NameId":"FirePup","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 1 damage to ALL pets within one space."},{"Level":2,"About":"Faint: Deal 1 damage to ALL pets within two spaces."},{"Level":3,"About":"Faint: Deal 1 damage to ALL pets within three spaces."}],"Id":"548","Name":"Firefly","NameId":"Firefly","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Level-up: Give two friends +1 attack and +1 health."},{"Level":2,"About":"Level-up: Give two friends +2 attack and +2 health."},{"Level":3,"About":"No ability."}],"Id":"32","Name":"Fish","NameId":"Fish","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +1 health per Faint friend."},{"Level":2,"About":"Start of battle: Gain +2 attack and +2 health per Faint friend."},{"Level":3,"About":"Start of battle: Gain +3 attack and +3 health per Faint friend."}],"Id":"198","Name":"Frilled Dragon","NameId":"FrilledDragon","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: If both adjacent friends are tier 2 or lower, swap their stats."},{"Level":2,"About":"Sell: If both adjacent friends are tier 4 or lower, swap their stats."},{"Level":3,"About":"Sell: If both adjacent friends are tier 6 or lower, swap their stats."}],"Id":"139","Name":"Frog","NameId":"Frog","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: If you have a toy, gain +2 health."},{"Level":2,"About":"Start of battle: If you have a toy, gain +4 health."},{"Level":3,"About":"Start of battle: If you have a toy, gain +6 health."}],"Id":"229","Name":"Gecko","NameId":"Gecko","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"644","Name":"Giant Eyes Dog","NameId":"GiantEyesDog","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Shop tier upgraded: Give the two nearest pets behind +1 health."},{"Level":2,"About":"Shop tier upgraded: Give the two nearest pets behind +2 health."},{"Level":3,"About":"Shop tier upgraded: Give the two nearest pets behind +3 health."}],"Id":"550","Name":"Gibbon","NameId":"Gibbon","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"648","Name":"Goat","NameId":"ChimeraGoat","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Always there for his friends!"},{"Level":2,"About":"Always there for his friends!"},{"Level":3,"About":"Always there for his friends!"}],"Id":"188","Name":"Golden Retriever","NameId":"GoldenRetriever","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give friends plenty of useful perks!"},{"Level":2,"About":"Start of battle: Give friends silly amounts of useful perks!"},{"Level":3,"About":"Start of battle: Give friends silly amounts of useful perks!"}],"Id":"658","Name":"Good Dog","NameId":"GoodDog","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 attack from the first enemy."},{"Level":2,"About":"Start of battle: Remove 2 attack from the first enemy."},{"Level":3,"About":"Start of battle: Remove 3 attack from the first enemy."}],"Id":"232","Name":"Goose","NameId":"Goose","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":7,"Health":13,"Abilities":[{"Level":1,"About":"Summoned: Deal 5 damage to ALL other pets."},{"Level":2,"About":"Summoned: Deal 10 damage to ALL other pets."},{"Level":3,"About":"Summoned: Deal 15 damage to ALL other pets."}],"Id":"335","Name":"Great One","NameId":"Cthulu","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Gain +1 trumpet."},{"Level":2,"About":"Faint: Gain +2 trumpets."},{"Level":3,"About":"Faint: Gain +3 trumpets."}],"Id":"233","Name":"Groundhog","NameId":"Groundhog","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack until next turn."},{"Level":2,"About":"Friend summoned: Give it +2 attack until next turn."},{"Level":3,"About":"Friend summoned: Give it +3 attack until next turn."}],"Id":"39","Name":"Horse","NameId":"Horse","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Give Strawberry perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Strawberry perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Strawberry perk to the three nearest friends behind."}],"Id":"138","Name":"Hummingbird","NameId":"Hummingbird","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Perks"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"643","Name":"Head","NameId":"HydraHead","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend transformed: Give it +1 to its highest stat until next turn."},{"Level":2,"About":"Friend transformed: Give it +2 to its highest stat until next turn."},{"Level":3,"About":"Friend transformed: Give it +3 to its highest stat until next turn."}],"Id":"417","Name":"Ili Pika","NameId":"IliPika","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Before battle: Transform into ANY useful level 1 pet from tier 1."},{"Level":2,"About":"Before battle: Transform into ANY useful level 1 pet from tier 2."},{"Level":3,"About":"Before battle: Transform into ANY useful level 1 pet from tier 3."}],"Id":"418","Name":"Iriomote Cat","NameId":"IriomoteCat","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +1 attack."},{"Level":2,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +2 attack."},{"Level":3,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +3 attack."}],"Id":"131","Name":"Kiwi","NameId":"Kiwi","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained perk: Gain +2 attack until next turn."},{"Level":2,"About":"Friendly gained perk: Gain +4 attack until next turn."},{"Level":3,"About":"Friendly gained perk: Gain +6 attack until next turn."}],"Id":"92","Name":"Ladybug","NameId":"Ladybug","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold next turn."},{"Level":2,"About":"Sell: Gain +2 gold next turn."},{"Level":3,"About":"Sell: Gain +3 gold next turn."}],"Id":"555","Name":"Lemming","NameId":"Lemming","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"650","Name":"Lion","NameId":"ChimeraLion","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"282","Name":"Lizard Tail","NameId":"LizardToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"183","Name":"Loyal Chinchilla","NameId":"ChinchillaToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Spend up to 1 gold and gain it back next turn."},{"Level":2,"About":"End turn: Spend up to 2 gold and gain it back next turn."},{"Level":3,"About":"End turn: Spend up to 3 gold and gain it back next turn."}],"Id":"239","Name":"Magpie","NameId":"Magpie","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Gain +1 health. Works 3 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Gain +2 health. Works 3 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Gain +3 health. Works 3 times per turn."}],"Id":"421","Name":"Malay Tapir","NameId":"MalayTapir","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Your next roll is free."},{"Level":2,"About":"Sell: Your next two rolls are free."},{"Level":3,"About":"Sell: Your next three rolls are free."}],"Id":"204","Name":"Marmoset","NameId":"Marmoset","Tier":1,"TierMax":2147483647,"Packs":["Pack3","Custom"],"PacksRequired":["Pack3","Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Attack for double damage."},{"Level":2,"About":"Attack for triple damage."},{"Level":3,"About":"Attack for quadruple damage."}],"Id":"384","Name":"Monty","NameId":"WhiteKillerRabbit","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Deal 1 damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 1 damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 1 damage to three random enemies."}],"Id":"47","Name":"Mosquito","NameId":"Mosquito","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give front-most friendly pet +2 attack."},{"Level":2,"About":"Start of battle: Give front-most friendly pet +4 attack."},{"Level":3,"About":"Start of battle: Give front-most friendly pet +6 attack."}],"Id":"141","Name":"Moth","NameId":"Moth","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Replace shop food with one free Apple."},{"Level":2,"About":"Sell: Replace shop food with one free Better Apple."},{"Level":3,"About":"Sell: Replace shop food with one free Best Apple."}],"Id":"48","Name":"Mouse","NameId":"Mouse","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend gained experience: Gain +1 attack until next turn."},{"Level":2,"About":"Friend gained experience: Gain +2 attack until next turn."},{"Level":3,"About":"Friend gained experience: Gain +3 attack until next turn."}],"Id":"362","Name":"Murmel","NameId":"Murloc","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Egg perk has regular effect."},{"Level":2,"About":"Egg perk has double effect."},{"Level":3,"About":"Egg perk has triple effect."}],"Id":"508","Name":"Nest","NameId":"Nest","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: If there are no friendly duplicates, gain +3 attack and +1 health."},{"Level":2,"About":"Start of battle: If there are no friendly duplicates, gain +6 attack and +2 health."},{"Level":3,"About":"Start of battle: If there are no friendly duplicates, gain +9 attack and +3 health."}],"Id":"757","Name":"Nudibranch","NameId":"Nudibranchs","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Give one random Faint pet in the shop +1 attack and +1 health."},{"Level":2,"About":"Sell: Give one random Faint pet in the shop +2 attack and +2 health."},{"Level":3,"About":"Sell: Give one random Faint pet in the shop +3 attack and +3 health."}],"Id":"187","Name":"Opossum","NameId":"Opossum","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Give one random friend +1 health."},{"Level":2,"About":"Buy: Give two random friends +1 health."},{"Level":3,"About":"Buy: Give three random friends +1 health."}],"Id":"51","Name":"Otter","NameId":"Otter","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Make adjacent perk-less pets Spooked."},{"Level":2,"About":"Faint: Make adjacent perk-less pets Spooked with double effect."},{"Level":3,"About":"Faint: Make adjacent perk-less pets Spooked with triple effect."}],"Id":"745","Name":"Peacock Spider","NameId":"PeacockSpider","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Gains mana: Gain 2 bonus mana. Works 2 times per turn."},{"Level":2,"About":"Gains mana: Gain 4 bonus mana. Works 2 times per turn."},{"Level":3,"About":"Gains mana: Gain 6 bonus mana. Works 2 times per turn."}],"Id":"627","Name":"Pengobble","NameId":"Pengobble","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 3 times per turn."}],"Id":"558","Name":"Pheasant","NameId":"Pheasant","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Perks"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 1 trumpet to deal 3 damage to one random enemy."},{"Level":2,"About":"Faint: Spend 1 trumpet to deal 3 damage to two random enemies."},{"Level":3,"About":"Faint: Spend 1 trumpet to deal 3 damage to three random enemies."}],"Id":"251","Name":"Pied Tamarin","NameId":"PiedTamarin","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"],"Random":true},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold."},{"Level":2,"About":"Sell: Gain +2 gold."},{"Level":3,"About":"Sell: Gain +3 gold."}],"Id":"59","Name":"Pig","NameId":"Pig","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Stock one free Bread Crumbs."},{"Level":2,"About":"Sell: Stock two free Bread Crumbs."},{"Level":3,"About":"Sell: Stock three free Bread Crumbs."}],"Id":"559","Name":"Pigeon","NameId":"Pigeon","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Stock one free Sleeping Pill."},{"Level":2,"About":"Sell: Stock two free Sleeping Pills."},{"Level":3,"About":"Sell: Stock three free Sleeping Pills."}],"Id":"149","Name":"Pillbug","NameId":"Pillbug","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give three random friends +1 attack and +1 health and remove this."},{"Level":2,"About":"Start of battle: Give three random friends +2 attack and +2 health and remove this."},{"Level":3,"About":"Start of battle: Give three random friends +3 attack and +3 health and remove this."}],"Id":"761","Name":"Pygmy Seahorse","NameId":"PygmySeahorse","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Choose one tier 1 food to stock at 1 gold."},{"Level":2,"About":"Sell: Choose one tier 1 food to stock at 1 gold. Stock two copies."},{"Level":3,"About":"Sell: Choose one tier 1 food to stock at 1 gold. Stock three copies."}],"Id":"704","Name":"Quoll","NameId":"Quoll","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Food","Perks"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"62","Name":"Ram","NameId":"Ram","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"638","Name":"Rock","NameId":"Rock","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Give it +1 health. Works 2 times per turn."},{"Level":2,"About":"Friend ahead hurt: Give it +2 health. Works 2 times per turn."},{"Level":3,"About":"Friend ahead hurt: Give it +3 health. Works 2 times per turn."}],"Id":"260","Name":"Silkmoth","NameId":"Silkmoth","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Sells for +2 gold extra, but lose 1 next turn."},{"Level":2,"About":"Sell: Sells for +4 gold extra, but lose 2 next turn."},{"Level":3,"About":"Sell: Sells for +6 gold extra, but lose 3 next turn."}],"Id":"566","Name":"Silverfish","NameId":"Silverfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"},{"Level":2,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"},{"Level":3,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"}],"Id":"71","Name":"Sloth","NameId":"Sloth","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"642","Name":"Smaller Slime","NameId":"SmallerSlime","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Smallest Slug."},{"Level":2,"About":"Faint: Summon one 2/2 Smallest Slug."},{"Level":3,"About":"Faint: Summon one 3/3 Smallest Slug."}],"Id":"270","Name":"Smaller Slug","NameId":"SlugToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"477","Name":"Smallest Slug","NameId":"SlugToken2","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"649","Name":"Snake","NameId":"ChimeraSnake","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Faint and summon one 4/2 Cracked Egg."},{"Level":2,"About":"Start of battle: Faint and summon one 8/4 Cracked Egg."},{"Level":3,"About":"Start of battle: Faint and summon one 12/6 Cracked Egg."}],"Id":"617","Name":"Sneaky Egg","NameId":"EggLadCovered","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Set attack to the current shop tier + 1."},{"Level":2,"About":"Start of turn: Set attack to the current shop tier + 2."},{"Level":3,"About":"Start of turn: Set attack to the current shop tier + 3."}],"Id":"571","Name":"Termite","NameId":"Termite","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give one random enemy +1 health."},{"Level":2,"About":"Faint: Give one random enemy +1 health."},{"Level":3,"About":"Faint: Give one random enemy +1 health."}],"Id":"713","Name":"Togian Babirusa","NameId":"TogianBabirusa","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Stock one free Seed Pile."},{"Level":2,"About":"Sell: Stock two free Seed Pile."},{"Level":3,"About":"Sell: Stock three free Seed Pile."}],"Id":"438","Name":"Tooth Billed Pigeon","NameId":"ToothBilledPigeon","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Jump to the front space and gain +1 experience."},{"Level":2,"About":"Start of battle: Jump to the front space and gain +2 experience."},{"Level":3,"About":"Start of battle: Jump to the front space and gain +3 experience."}],"Id":"379","Name":"Tsuchinoko","NameId":"Tsuchinoko","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Guard"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Make the nearest friend ahead Dazed."},{"Level":2,"About":"End turn: Make the two nearest friends ahead Dazed."},{"Level":3,"About":"End turn: Make the three nearest friends ahead Dazed."}],"Id":"746","Name":"Umbrella Bird","NameId":"LongWattledUmbrellabird","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Make one random perk-less enemy Toasty."},{"Level":2,"About":"Faint: Make two random perk-less enemies Toasty."},{"Level":3,"About":"Faint: Make three random perk-less enemies Toasty."}],"Id":"440","Name":"Volcano Snail","NameId":"VolcanoSnail","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friendly ate food: Give them +1 attack until next turn. Works 3 times per turn."},{"Level":2,"About":"Friendly ate food: Give them +2 attack until next turn. Works 3 times per turn."},{"Level":3,"About":"Friendly ate food: Give them +3 attack until next turn. Works 3 times per turn."}],"Id":"708","Name":"Weevil","NameId":"Weevil","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"646","Name":"Young Phoenix","NameId":"BabyPhoenix","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"86","Name":"Zombie Cricket","NameId":"CricketToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"31","Name":"Zombie Fly","NameId":"FlyToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Give three random friends +1 attack."},{"Level":2,"About":"Buy: Give three random friends +2 attack."},{"Level":3,"About":"Buy: Give three random friends +3 attack."}],"Id":"210","Name":"African Penguin","NameId":"AfricanPenguin","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Replace shop food with three random food and discount them by 1 gold."},{"Level":2,"About":"Sell: Replace shop food with three random food and discount them by 2 gold."},{"Level":3,"About":"Sell: Replace shop food with three random food and discount them by 3 gold."}],"Id":"686","Name":"Albino Squirrel","NameId":"AlbinoSquirrel","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the nearest friend ahead +1 attack on odd turns and +1 health on even."},{"Level":2,"About":"End turn: Give the nearest friend ahead +2 attack on odd turns and +2 health on even."},{"Level":3,"About":"End turn: Give the nearest friend ahead +3 attack on odd turns and +3 health on even."}],"Id":"811","Name":"Amphisbaena","NameId":"Amphisbaena","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Really angry!"},{"Level":2,"About":"Really angry!"},{"Level":3,"About":"Really angry!"}],"Id":"821","Name":"Angry Pygmy Hog","NameId":"AngryPygmyHog","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend jumped or transformed: Gain +3 health until next turn. Works 2 times per turn."},{"Level":2,"About":"Friend jumped or transformed: Gain +6 health until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend jumped or transformed: Gain +9 health until next turn. Works 2 times per turn."}],"Id":"394","Name":"Araripe Manakin","NameId":"AraripeManakin","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Guard"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Friendly attacked: Remove its Strawberry perk to deal 2 damage to the last enemy."},{"Level":2,"About":"Friendly attacked: Remove its Strawberry perk to deal 4 damage to the last enemy."},{"Level":3,"About":"Friendly attacked: Remove its Strawberry perk to deal 6 damage to the last enemy."}],"Id":"132","Name":"Atlantic Puffin","NameId":"AtlanticPuffin","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +1 experience."},{"Level":2,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +2 experience."},{"Level":3,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +3 experience."}],"Id":"537","Name":"Bass","NameId":"Bass","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Make one random enemy Weak. Works 1 time per battle."},{"Level":2,"About":"Before attack: Make one random enemy Weak. Works 2 times per battle."},{"Level":3,"About":"Before attack: Make one random enemy Weak. Works 3 times per battle."}],"Id":"87","Name":"Bat","NameId":"Bat","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/3 Dolphin in the back and give it Rice."},{"Level":2,"About":"Faint: Summon two 2/3 Dolphins in the back and give them Rice."},{"Level":3,"About":"Faint: Summon three 2/3 Dolphins in the back and give them Rice."}],"Id":"213","Name":"Beluga Sturgeon","NameId":"BelugaSturgeon","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Gain one free roll next turn."},{"Level":2,"About":"Faint: Gain two free rolls next turn."},{"Level":3,"About":"Faint: Gain three free rolls next turn."}],"Id":"334","Name":"Bigfoot","NameId":"Bigfoot","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend lost perk: Give it Garlic. Works 1 time per turn."},{"Level":2,"About":"Friend lost perk: Give it Garlic. Works 2 times per turn."},{"Level":3,"About":"Friend lost perk: Give it Garlic. Works 3 times per turn."}],"Id":"758","Name":"Bilby","NameId":"Bilby","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Gain +2 trumpets."},{"Level":2,"About":"Faint: Gain +4 trumpets."},{"Level":3,"About":"Faint: Gain +6 trumpets."}],"Id":"215","Name":"Black Necked Stilt","NameId":"BlackNeckedStilt","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Knock out: Give +1 health to one random friend. Triggers 2 times."},{"Level":2,"About":"Knock out: Give +1 health to one random friend. Triggers 4 times."},{"Level":3,"About":"Knock out: Give +1 health to one random friend. Triggers 6 times."}],"Id":"339","Name":"Chupacabra","NameId":"Chupacabra","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain health equal to 25% of the most healthy friend."},{"Level":2,"About":"Start of battle: Gain health equal to 50% of the most healthy friend."},{"Level":3,"About":"Start of battle: Gain health equal to 75% of the most healthy friend."}],"Id":"16","Name":"Crab","NameId":"Crab","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 1 time per battle."},{"Level":2,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 2 times per battle."},{"Level":3,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 3 times per battle."}],"Id":"404","Name":"Darwin\'s Fox","NameId":"DarwinsFox","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from one tier above."},{"Level":2,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from two tiers above."},{"Level":3,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from three tiers above."}],"Id":"768","Name":"Desert Rain Frog","NameId":"DesertRainFrog","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +4 health in battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +8 health in battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +12 health in battle."}],"Id":"220","Name":"Door Head Ant","NameId":"DoorHeadAnt","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Activate three friendly Strawberries."},{"Level":2,"About":"Faint: Activate three friendly Strawberries with double effect."},{"Level":3,"About":"Faint: Activate three friendly Strawberries with triple effect."}],"Id":"24","Name":"Dove","NameId":"Dove","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give the two left-most shop pets +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give the two left-most shop pets +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give the two left-most shop pets +3 attack and +3 health."}],"Id":"104","Name":"Dromedary","NameId":"Dromedary","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and deal 3 damage to the last enemy in battle."},{"Level":2,"About":"Empty front space: Jump to the front and deal 6 damage to the last enemy in battle."},{"Level":3,"About":"Empty front space: Jump to the front and deal 9 damage to the last enemy in battle."}],"Id":"341","Name":"Drop Bear","NameId":"DropBear","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 1 gold."},{"Level":2,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 2 gold."},{"Level":3,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 3 gold."}],"Id":"545","Name":"Dumbo Octopus","NameId":"DumboOctopus","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to the least healthy enemy for each food eaten this turn, up to 3 food."},{"Level":2,"About":"Faint: Deal 6 damage to the least healthy enemy for each food eaten this turn, up to 3 food."},{"Level":3,"About":"Faint: Deal 9 damage to the least healthy enemy for each food eaten this turn, up to 3 food."}],"Id":"721","Name":"Dung Beetle","NameId":"DungBeetle","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption","Food"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Give adjacent friends +1 attack. Works 5 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Give adjacent friends +2 attack. Works 5 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Give adjacent friends +3 attack. Works 5 times per turn."}],"Id":"407","Name":"European Mink","NameId":"EuropeanMink","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Feed one Corncob to the nearest friend ahead."},{"Level":2,"About":"End turn: Feed one Corncob to the nearest two friends ahead."},{"Level":3,"About":"End turn: Feed one Corncob to the nearest three friends ahead."}],"Id":"690","Name":"Farmer Chicken","NameId":"FarmerChicken","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Give the two nearest friends behind +1 attack and +1 health."},{"Level":2,"About":"Faint: Give the two nearest friends behind +2 attack and +2 health."},{"Level":3,"About":"Faint: Give the two nearest friends behind +3 attack and +3 health."}],"Id":"29","Name":"Flamingo","NameId":"Flamingo","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friend gained ailment: Give it Rice. Works 1 time per turn."},{"Level":2,"About":"Friend gained ailment: Give it Rice. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Give it Rice. Works 3 times per turn."}],"Id":"137","Name":"Frigatebird","NameId":"Frigatebird","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Make the first enemy Cold."},{"Level":2,"About":"Faint: Make the first enemy Cold twice for double effect."},{"Level":3,"About":"Faint: Make the first enemy Cold thrice for triple effect."}],"Id":"344","Name":"Frost Wolf","NameId":"FrostWolf","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +5 damage, once.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 2 damage to it."},{"Level":2,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 4 damage to it."},{"Level":3,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 6 damage to it."}],"Id":"695","Name":"Fruit Fly","NameId":"FruitFly","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give the nearest friend behind +2 health. Spend mana to give 1 more per mana."},{"Level":2,"About":"Faint: Give the nearest friend behind +4 health. Spend mana to give 2 more per mana."},{"Level":3,"About":"Faint: Give the nearest friend behind +6 health. Spend mana to give 3 more per mana."}],"Id":"345","Name":"Gargoyle","NameId":"Gargoyle","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Takes 3 less damage from abilities."},{"Level":2,"About":"Takes 6 less damage from abilities."},{"Level":3,"About":"Takes 9 less damage from abilities."}],"Id":"346","Name":"Ghost Kitten","NameId":"GhostKitten","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 1 time per battle."},{"Level":2,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 2 times per battle."},{"Level":3,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 3 times per battle."}],"Id":"800","Name":"Giant Squirrel","NameId":"GiantSquirrel","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Increase sell value by 1 gold."},{"Level":2,"About":"Start of turn: Increase sell value by 2 gold."},{"Level":3,"About":"Start of turn: Increase sell value by 3 gold."}],"Id":"121","Name":"Gold Fish","NameId":"GoldFish","Tier":2,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold. Triple if attack is at least 10."},{"Level":2,"About":"Sell: Gain +2 gold. Triple if attack is at least 10."},{"Level":3,"About":"Sell: Gain +3 gold. Triple if attack is at least 10."}],"Id":"634","Name":"Golden Beetle","NameId":"DwarvenBeetle","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Cycle","Gold"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Summon one 1/1 Guinea Pig."},{"Level":2,"About":"Buy: Summon one 2/2 Guinea Pig."},{"Level":3,"About":"Buy: Summon one 3/3 Guinea Pig."}],"Id":"109","Name":"Guinea Pig","NameId":"GuineaPig","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 2 damage to ALL pets."},{"Level":2,"About":"Faint: Deal 4 damage to ALL pets."},{"Level":3,"About":"Faint: Deal 6 damage to ALL pets."}],"Id":"37","Name":"Hedgehog","NameId":"Hedgehog","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Sell: Give friends +1 attack for each battle this has fought evenly spread."},{"Level":2,"About":"Sell: Give friends +2 attack for each battle this has fought evenly spread."},{"Level":3,"About":"Sell: Give friends +3 attack for each battle this has fought evenly spread."}],"Id":"234","Name":"Hercules Beetle","NameId":"HerculesBeetle","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: If current perk is tier 2 or lower, copy it to the Golden Retriever when summoned."},{"Level":2,"About":"Start of battle: If current perk is tier 4 or lower, copy it to the Golden Retriever when summoned."},{"Level":3,"About":"Start of battle: If current perk is tier 6 or lower, copy it to the Golden Retriever when summoned."}],"Id":"783","Name":"Hermit Crab","NameId":"HermitCrab","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for one friend of each tier."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for one friend of each tier."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for one friend of each tier."}],"Id":"726","Name":"Honduran White Bat","NameId":"HonduranWhiteBat","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Enemy summoned or pushed: Deal 2 damage to it."},{"Level":2,"About":"Enemy summoned or pushed: Deal 4 damage to it."},{"Level":3,"About":"Enemy summoned or pushed: Deal 6 damage to it."}],"Id":"147","Name":"Iguana","NameId":"Iguana","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it +1 attack. Double if it jumped. Works 3 times per battle."},{"Level":2,"About":"Before friend attacks: Give it +2 attack. Double if it jumped. Works 3 times per battle."},{"Level":3,"About":"Before friend attacks: Give it +3 attack. Double if it jumped. Works 3 times per battle."}],"Id":"353","Name":"Jackalope","NameId":"Jackalope","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend level-up: Gain +1 attack and +1 health."},{"Level":2,"About":"Friend level-up: Gain +2 attack and +2 health."},{"Level":3,"About":"Friend level-up: Gain +3 attack and +3 health."}],"Id":"122","Name":"Jellyfish","NameId":"Jellyfish","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Gain +1 attack and +1 health."},{"Level":2,"About":"Friend ahead attacks: Gain +2 attack and +2 health."},{"Level":3,"About":"Friend ahead attacks: Gain +3 attack and +3 health."}],"Id":"40","Name":"Kangaroo","NameId":"Kangaroo","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Friend hurt: Give it the Eucalyptus perk. Works 1 time per turn."},{"Level":2,"About":"Friend hurt: Give it the Eucalyptus perk. Works 2 times per turn."},{"Level":3,"About":"Friend hurt: Give it the Eucalyptus perk. Works 3 times per turn."}],"Id":"112","Name":"Koala","NameId":"Koala","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Lemur toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Lemur toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Lemur toy."}],"Id":"236","Name":"Lemur","NameId":"Lemur","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Summon one 3/1 Lizard Tail. Works 2 times per turn."},{"Level":2,"About":"Hurt: Summon one 6/2 Lizard Tail. Works 2 times per turn."},{"Level":3,"About":"Hurt: Summon one 9/3 Lizard Tail. Works 2 times per turn."}],"Id":"237","Name":"Lizard","NameId":"Lizard","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: Replace own ailment with +2 attack and +2 health."},{"Level":2,"About":"Before attack: Replace own ailment with +4 attack and +4 health."},{"Level":3,"About":"Before attack: Replace own ailment with +6 attack and +6 health."}],"Id":"724","Name":"Mandarinfish","NameId":"Mandarinfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Break friendly tier 2 or lower toy."},{"Level":2,"About":"Faint: Break friendly tier 4 or lower toy."},{"Level":3,"About":"Faint: Break friendly tier 6 or lower toy."}],"Id":"405","Name":"Mandrill","NameId":"Drill","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give adjacent friends +1 attack for every 4 gold spent this turn."},{"Level":2,"About":"Start of battle: Give adjacent friends +2 attack for every 4 gold spent this turn."},{"Level":3,"About":"Start of battle: Give adjacent friends +3 attack for every 4 gold spent this turn."}],"Id":"203","Name":"Meerkat","NameId":"Meerkat","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Gain ANY useful perk from the previous tier."},{"Level":2,"About":"Start of battle: Gain ANY useful perk from the previous tier with double effect."},{"Level":3,"About":"Start of battle: Gain ANY useful perk from the previous tier with triple effect."}],"Id":"700","Name":"Mink","NameId":"Mink","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Anyone gained ailment: Gain +1 attack and +1 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Anyone gained ailment: Gain +2 attack and +2 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Anyone gained ailment: Gain +3 attack and +3 health until next turn. Works 5 times per turn."}],"Id":"604","Name":"Mothman","NameId":"Mothman","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon one Crawler with 3 attack, and +1 health for each friend summoned this turn."},{"Level":2,"About":"Faint: Summon one Crawler with 6 attack, and +2 health for each friend summoned this turn."},{"Level":3,"About":"Faint: Summon one Crawler with 9 attack, and +3 health for each friend summoned this turn."}],"Id":"605","Name":"Nightcrawler","NameId":"NightCrawler","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +1 experience."},{"Level":2,"About":"Start of battle: Give the two front-most friends +1 experience."},{"Level":3,"About":"Start of battle: Give the three front-most friends +1 experience."}],"Id":"639","Name":"Ogopogo","NameId":"Ogopogo","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Make one random enemy Spooked and multiply the effect once for each roll this turn."},{"Level":2,"About":"Faint: Make one random enemy Spooked and multiply the effect twice for each roll this turn."},{"Level":3,"About":"Faint: Make one random enemy Spooked and multiply the effect thrice for each roll this turn."}],"Id":"725","Name":"Olm","NameId":"Olm","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments","Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Faint to give 50% attack and health to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Faint to give 100% attack and health to the nearest friend ahead."},{"Level":3,"About":"Start of battle: Faint to give 150% attack and health to the nearest friend ahead."}],"Id":"107","Name":"Panda","NameId":"Panda","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Hurt: Gain +3 attack."},{"Level":2,"About":"Hurt: Gain +6 attack."},{"Level":3,"About":"Hurt: Gain +9 attack."}],"Id":"54","Name":"Peacock","NameId":"Peacock","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Activate <b>End Turn</b> on one random tier 2 or lower friend."},{"Level":2,"About":"Faint: Activate <b>End Turn</b> on one random tier 4 or lower friend."},{"Level":3,"About":"Faint: Activate <b>End Turn</b> on one random tier 6 or lower friend."}],"Id":"732","Name":"Pink Robin","NameId":"PinkRobin","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Transform the nearest friend ahead into another pet from the same tier."},{"Level":2,"About":"Start of turn: Transform the nearest two friends ahead into other pets from the same tier."},{"Level":3,"About":"Start of turn: Transform the nearest three friends ahead into other pets from the same tier."}],"Id":"425","Name":"Proboscis Monkey","NameId":"ProboscisMonkey","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 5 attack and health."},{"Level":2,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 10 attack and health."},{"Level":3,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 15 attack and health."}],"Id":"427","Name":"Pygmy Hog","NameId":"PygmyHog","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":["Transform","Summon"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Dirty Rat up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."},{"Level":2,"About":"Faint: Summon two 1/1 Dirty Rats up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."},{"Level":3,"About":"Faint: Summon three 1/1 Dirty Rats up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."}],"Id":"57","Name":"Rat","NameId":"Rat","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give Strawberry perk and +2 attack to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Give Strawberry perk and +2 attack to the two nearest friends ahead."},{"Level":3,"About":"Start of battle: Give Strawberry perk and +2 attack to the three nearest friends ahead."}],"Id":"765","Name":"Roadrunner","NameId":"Roadrunner","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 2/3 level 1 Nest and give it Egg perk."},{"Level":2,"About":"Start of battle: Summon one 4/6 level 2 Nest and give it Egg perk."},{"Level":3,"About":"Start of battle: Summon one 6/9 level 3 Nest and give it Egg perk."}],"Id":"255","Name":"Robin","NameId":"Robin","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before attack: Deal 2 damage to target, once.","CustomArchetypes":["Cycle"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: If outnumbered, gain +2 attack and +2 health. Works 3 times per turn."},{"Level":2,"About":"Before attack: If outnumbered, gain +4 attack and +4 health. Works 3 times per turn."},{"Level":3,"About":"Before attack: If outnumbered, gain +6 attack and +6 health. Works 3 times per turn."}],"Id":"430","Name":"Saker Falcon","NameId":"SakerFalcon","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +1 health for each level of each Sell friend."},{"Level":2,"About":"Start of battle: Gain +2 attack and +2 health for each level of each Sell friend."},{"Level":3,"About":"Start of battle: Gain +3 attack and +3 health for each level of each Sell friend."}],"Id":"164","Name":"Salamander","NameId":"Salamander","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the highest attack friend -1 attack and +2 health."},{"Level":2,"About":"End turn: Give the two highest attack friends -1 attack and +2 health."},{"Level":3,"About":"End turn: Give the three highest attack friends -1 attack and +2 health."}],"Id":"431","Name":"Saola","NameId":"Saola","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +2 health until next turn."},{"Level":2,"About":"Friend summoned: Give it +4 health until next turn."},{"Level":3,"About":"Friend summoned: Give it +6 health until next turn."}],"Id":"191","Name":"Sea Turtle","NameId":"SeaTurtle","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Remove 5 health from the first enemy."},{"Level":2,"About":"Faint: Remove 5 health from the first two enemies."},{"Level":3,"About":"Faint: Remove 5 health from the first three enemies."}],"Id":"258","Name":"Sea Urchin","NameId":"SeaUrchin","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Push the last enemy one space forward."},{"Level":2,"About":"Start of battle: Push the last enemy two spaces forward."},{"Level":3,"About":"Start of battle: Push the last enemy three spaces forward."}],"Id":"152","Name":"Seahorse","NameId":"Seahorse","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend faints: If it had a Strawberry, summon one 2/2 friend in its place. Works 2 times per turn."},{"Level":2,"About":"Friend faints: If it had a Strawberry, summon one 4/4 friend in its place. Works 2 times per turn."},{"Level":3,"About":"Friend faints: If it had a Strawberry, summon one 6/6 friend in its place. Works 2 times per turn."}],"Id":"803","Name":"Shima Enaga","NameId":"ShimaEnaga","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend sold: Give one random friend +1 health. Works 3 times per turn."},{"Level":2,"About":"Friend sold: Give one random friend +2 health. Works 3 times per turn."},{"Level":3,"About":"Friend sold: Give one random friend +3 health. Works 3 times per turn."}],"Id":"67","Name":"Shrimp","NameId":"Shrimp","Tier":2,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: If you lost last battle, give the three nearest friends ahead +1 attack."},{"Level":2,"About":"End turn: If you lost last battle, give the three nearest friends ahead +2 attack."},{"Level":3,"About":"End turn: If you lost last battle, give the three nearest friends ahead +3 attack."}],"Id":"72","Name":"Snail","NameId":"Snail","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 adventurous toy."},{"Level":2,"About":"Buy: Choose one level 2 adventurous toy."},{"Level":3,"About":"Buy: Choose one level 3 adventurous toy."}],"Id":"376","Name":"Sphinx","NameId":"Sphinx","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one tier 3 pet as a 2/2 level 1."},{"Level":2,"About":"Faint: Summon one tier 3 pet as a 4/4 level 2."},{"Level":3,"About":"Faint: Summon one tier 3 pet as a 6/6 level 3."}],"Id":"74","Name":"Spider","NameId":"Spider","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Stock one random canned ailment."},{"Level":2,"About":"Start of turn: Stock two random canned ailments to choose from."},{"Level":3,"About":"Start of turn: Stock three random canned ailments to choose from."}],"Id":"735","Name":"Spotted Handfish","NameId":"SpottedHandfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 1 trumpet to make the first enemy Inked."},{"Level":2,"About":"Faint: Spend 1 trumpet to make the two first enemies Inked."},{"Level":3,"About":"Faint: Spend 1 trumpet to make the three first enemies Inked."}],"Id":"177","Name":"Squid","NameId":"Squid","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Summon one level 1 pet from your current tier as a 1/1."},{"Level":2,"About":"Sell: Summon one level 2 pet from your current tier as a 1/1."},{"Level":3,"About":"Sell: Summon one level 3 pet from your current tier as a 1/1."}],"Id":"263","Name":"Stoat","NameId":"Stoat","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle","Mvp"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon ANY one level 1 pet from the previous shop tier as a 2/2."},{"Level":2,"About":"Faint: Summon ANY one level 2 pet from the previous shop tier as a 4/4."},{"Level":3,"About":"Faint: Summon ANY one level 3 pet from the previous shop tier as a 6/6."}],"Id":"136","Name":"Stork","NameId":"Stork","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Gain +1 gold."},{"Level":2,"About":"Start of turn: Gain +2 gold."},{"Level":3,"About":"Start of turn: Gain +3 gold."}],"Id":"76","Name":"Swan","NameId":"Swan","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained perk: Give two random friends +1 health until next turn."},{"Level":2,"About":"Friendly gained perk: Give two random friends +2 health until next turn."},{"Level":3,"About":"Friendly gained perk: Give two random friends +3 health until next turn."}],"Id":"99","Name":"Tabby Cat","NameId":"TabbyCat","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform into a level 1 Frog and gain +2 experience."},{"Level":2,"About":"Start of battle: Transform into a level 1 Frog and gain +4 experience."},{"Level":3,"About":"Start of battle: Transform into a level 1 Frog and gain +6 experience."}],"Id":"805","Name":"Tadpole","NameId":"Tadpole","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Transform","Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform into a level 1 Weasel."},{"Level":2,"About":"Start of battle: Transform into a level 2 Weasel."},{"Level":3,"About":"Start of battle: Transform into a level 3 Weasel."}],"Id":"435","Name":"Taita Shrew","NameId":"TaitaShrew","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Gold"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/2 African Wild Dog that jump-attacks the second enemy."},{"Level":2,"About":"Faint: Summon one 6/4 African Wild Dog that jump-attacks the second enemy."},{"Level":3,"About":"Faint: Summon one 9/6 African Wild Dog that jump-attacks the second enemy."}],"Id":"715","Name":"Takhi","NameId":"Takhi","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to one random enemy and prioritize those with ailments."},{"Level":2,"About":"Faint: Deal 6 damage to one random enemy and prioritize those with ailments."},{"Level":3,"About":"Faint: Deal 9 damage to one random enemy and prioritize those with ailments."}],"Id":"731","Name":"Thorny Dragon","NameId":"ThornyDragon","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the second nearest friend ahead +3 mana."},{"Level":2,"About":"Start of battle: Give the second nearest friend ahead +6 mana."},{"Level":3,"About":"Start of battle: Give the second nearest friend ahead +9 mana."}],"Id":"610","Name":"Thunderbird","NameId":"Thunderbird","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Summon one level 1 Microwave Oven."},{"Level":2,"About":"Start of turn: Summon one level 2 Microwave Oven."},{"Level":3,"About":"Start of turn: Summon one level 3 Microwave Oven."}],"Id":"707","Name":"Vervet","NameId":"Vervet","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Toys","Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Gains mana: Deal 1 damage to one random enemy. Triple on the first trigger each battle."},{"Level":2,"About":"Gains mana: Deal 2 damage to one random enemy. Triple on the first trigger each battle."},{"Level":3,"About":"Gains mana: Deal 3 damage to one random enemy. Triple on the first trigger each battle."}],"Id":"382","Name":"Warf","NameId":"Warg","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"],"Random":true},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Meat Bone to the friend ahead."},{"Level":2,"About":"Start of battle: Give Meat Bone to the friend ahead with double effect."},{"Level":3,"About":"Start of battle: Give Meat Bone to the friend ahead with triple effect."}],"Id":"441","Name":"White-Bellied Heron","NameId":"WhiteBelliedHeron","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 1."},{"Level":2,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 2."},{"Level":3,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 3."}],"Id":"207","Name":"Wombat","NameId":"Wombat","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Stock one 2-gold Apple."},{"Level":2,"About":"Start of turn: Stock one 2-gold Better Apple."},{"Level":3,"About":"Start of turn: Stock one 2-gold Best Apple."}],"Id":"82","Name":"Worm","NameId":"Worm","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friendly level-up: Gain 1 extra shop reward."},{"Level":2,"About":"Friendly level-up: Gain 2 extra shop reward."},{"Level":3,"About":"Friendly level-up: Gain 3 extra shop reward."}],"Id":"385","Name":"Wyvern","NameId":"Wyvern","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Take 1 damage and gain +2 attack."},{"Level":2,"About":"End turn: Take 2 damage and gain +4 attack."},{"Level":3,"About":"End turn: Take 3 damage and gain +6 attack."}],"Id":"163","Name":"Yak","NameId":"Yak","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Enemy summoned: Gain +1 attack and +3 health."},{"Level":2,"About":"Enemy summoned: Gain +2 attack and +6 health."},{"Level":3,"About":"Enemy summoned: Gain +3 attack and +9 health."}],"Id":"193","Name":"Aardvark","NameId":"Aardvark","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack permanently and jump-attack the highest attack enemy."},{"Level":2,"About":"Start of battle: Gain +2 attack permanently and jump-attack the highest attack enemy."},{"Level":3,"About":"Start of battle: Gain +3 attack permanently and jump-attack the highest attack enemy."}],"Id":"389","Name":"Amami Rabbit","NameId":"AmamiRabbit","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 level 3 Ant."},{"Level":2,"About":"Faint: Summon two 1/1 level 3 Ants."},{"Level":3,"About":"Faint: Summon three 1/1 level 3 Ants."}],"Id":"105","Name":"Anteater","NameId":"Anteater","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Before any attack: If opponent has duplicates, deal 2 damage to all enemies. Works 1 time per battle."},{"Level":2,"About":"Before any attack: If opponent has duplicates, deal 4 damage to all enemies. Works 1 time per battle."},{"Level":3,"About":"Before any attack: If opponent has duplicates, deal 6 damage to all enemies. Works 1 time per battle."}],"Id":"377","Name":"Axehandle Hound","NameId":"AxehandleHound","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Give one random friend from the current or higher shop tier +1 attack and +1 health."},{"Level":2,"About":"End turn: Give one random friend from the current or higher shop tier +2 attack and +2 health."},{"Level":3,"About":"End turn: Give one random friend from the current or higher shop tier +3 attack and +3 health."}],"Id":"171","Name":"Baboon","NameId":"Baboon","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Remove 4 health from the first enemy."},{"Level":2,"About":"Faint: Remove 4 health from the first two enemies."},{"Level":3,"About":"Faint: Remove 4 health from the first three enemies."}],"Id":"822","Name":"Baby Urchin","NameId":"BabySeaUrchin","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 50% attack damage to adjacent pets."},{"Level":2,"About":"Faint: Deal 100% attack damage to adjacent pets."},{"Level":3,"About":"Faint: Deal 150% attack damage to adjacent pets."}],"Id":"2","Name":"Badger","NameId":"Badger","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"End turn: If you did not roll this turn, gain +1 experience."},{"Level":2,"About":"End turn: If you did not roll this turn, gain +2 experience."},{"Level":3,"About":"End turn: If you did not roll this turn, gain +3 experience."}],"Id":"796","Name":"Barnacle","NameId":"Barnacle","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Levels"],"Random":true},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health."},{"Level":2,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health. Double on friendly pets."},{"Level":3,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health. Triple on friendly pets."}],"Id":"332","Name":"Basilisk","NameId":"Basilisk","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Transform","Disruption"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Honey perk to all pets within one space."},{"Level":2,"About":"Faint: Give Honey perk to all pets within two spaces."},{"Level":3,"About":"Faint: Give Honey perk to all pets within three spaces."}],"Id":"140","Name":"Bear","NameId":"Bear","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Faint: Summon one 1/1 Bee.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend lost perk: Give it the Guava perk. Works on one friend per turn."},{"Level":2,"About":"Friend lost perk: Give it the Guava perk. Works on two different friends per turn."},{"Level":3,"About":"Friend lost perk: Give it the Guava perk. Works on three different friends per turn."}],"Id":"214","Name":"Betta Fish","NameId":"BettaFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 3 damage, and attack for +3 damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for each friend behind and give friends ahead +1 mana."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for each friend behind and give friends ahead +2 mana."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for each friend behind and give friends ahead +3 mana."}],"Id":"728","Name":"Blue Dragon","NameId":"GlaucusAtlanticus","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4","Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Trumpets"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend transformed: If it is ahead, give it +3 attack until next turn. Otherwise give health."},{"Level":2,"About":"Friend transformed: If it is ahead, give it +6 attack until next turn. Otherwise give health."},{"Level":3,"About":"Friend transformed: If it is ahead, give it +9 attack until next turn. Otherwise give health."}],"Id":"400","Name":"Blue-Throated Macaw","NameId":"BlueThroatedMacaw","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +2 attack and Melon perk in battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +4 attack and Melon perk in battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +6 attack and Melon perk in battle."}],"Id":"349","Name":"Brain Cramp","NameId":"Headcrab","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Guard","Perks"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Randomly redistribute stats of the highest health enemy."},{"Level":2,"About":"Start of battle: Randomly redistribute stats of the two highest health enemies."},{"Level":3,"About":"Start of battle: Randomly redistribute stats of the three highest health enemies."}],"Id":"798","Name":"Brazillian Treehopper","NameId":"BrazillianTreehopper","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before friend attacks: Replace 3 mana on it with +2 attack and +2 health."},{"Level":2,"About":"Before friend attacks: Replace 3 mana on it with +4 attack and +4 health."},{"Level":3,"About":"Before friend attacks: Replace 3 mana on it with +6 attack and +6 health."}],"Id":"786","Name":"Caladrius","NameId":"Caladrius","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Spend mana to remove 1 health per mana from the two most healthy enemies."},{"Level":2,"About":"Faint: Spend mana to remove 2 health per mana from the two most healthy enemies."},{"Level":3,"About":"Faint: Spend mana to remove 3 health per mana from the two most healthy enemies."}],"Id":"336","Name":"Calygreyhound","NameId":"Calygreyhound","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Give the nearest friend behind +1 attack and +2 health."},{"Level":2,"About":"Hurt: Give the nearest friend behind +2 attack and +4 health."},{"Level":3,"About":"Hurt: Give the nearest friend behind +3 attack and +6 health."}],"Id":"10","Name":"Camel","NameId":"Camel","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Roll & Sell: Give newly rolled shop pets +1 attack and +1 health."},{"Level":2,"About":"Roll & Sell: Give newly rolled shop pets +2 attack and +2 health."},{"Level":3,"About":"Roll & Sell: Give newly rolled shop pets +3 attack and +3 health."}],"Id":"154","Name":"Capybara","NameId":"Capybara","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 1 gold.","FinePrint":"Skips over perks from locked tiers."},{"Level":2,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 2 gold.","FinePrint":"Skips over perks from locked tiers."},{"Level":3,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 3 gold.","FinePrint":"Skips over perks from locked tiers."}],"Id":"539","Name":"Cardinal","NameId":"Cardinal","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained strawberry: Gain +1 health. Also gain +1 attack until next turn."},{"Level":2,"About":"Friendly gained strawberry: Gain +2 health. Also gain +2 attack until next turn."},{"Level":3,"About":"Friendly gained strawberry: Gain +3 health. Also gain +3 attack until next turn."}],"Id":"133","Name":"Cassowary","NameId":"Cassowary","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend bought: Gain +1 attack and +1 health times its tier until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend bought: Gain +2 attack and +2 health times its tier until next turn. Works 1 time per turn."},{"Level":3,"About":"Friend bought: Gain +3 attack and +3 health times its tier until next turn. Works 1 time per turn."}],"Id":"540","Name":"Centipede","NameId":"Centipede","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Knock out the nearest friend ahead and stock one free Bacon."},{"Level":2,"About":"End turn: Knock out the nearest friend ahead and stock two free Bacons."},{"Level":3,"About":"End turn: Knock out the nearest friend ahead and stock three free Bacons."}],"Id":"651","Name":"Deer Lord","NameId":"Wendigo","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 5/5 friend if able. Otherwise give friends +1 attack and +1 health."},{"Level":2,"About":"Start of battle: Summon one 10/10 friend if able. Otherwise give friends +2 attack and +2 health."},{"Level":3,"About":"Start of battle: Summon one 15/15 friend if able. Otherwise give friends +3 attack and +3 health."}],"Id":"543","Name":"Dimetrodon","NameId":"Dimetrodon","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give 50% of attack to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Give 100% of attack to the nearest friend ahead."},{"Level":3,"About":"Start of battle: Give 150% of attack to the nearest friend ahead."}],"Id":"21","Name":"Dodo","NameId":"Dodo","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Gain +2 attack and +1 health until next turn."},{"Level":2,"About":"Friend summoned: Gain +4 attack and +2 health until next turn."},{"Level":3,"About":"Friend summoned: Gain +6 attack and +3 health until next turn."}],"Id":"22","Name":"Dog","NameId":"Dog","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal 4 damage to the lowest health enemy."},{"Level":2,"About":"Start of battle: Deal 4 damage to the lowest health enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 4 damage to the lowest health enemy. Triggers 3 times."}],"Id":"23","Name":"Dolphin","NameId":"Dolphin","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give friends that aren\'t from your pack +2 attack and +2 health."},{"Level":2,"About":"Faint: Give friends that aren\'t from your pack +4 attack and +4 health."},{"Level":3,"About":"Faint: Give friends that aren\'t from your pack +6 attack and +6 health."}],"Id":"544","Name":"Dugong","NameId":"Dugong","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Gain +50% health."},{"Level":2,"About":"Start of battle: Gain +100% health."},{"Level":3,"About":"Start of battle: Gain +150% health."}],"Id":"120","Name":"Eel","NameId":"Eel","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"After attack: Deal 1 damage to the nearest friend behind."},{"Level":2,"About":"After attack: Deal 1 damage to the nearest friend behind. Triggers 2 times."},{"Level":3,"About":"After attack: Deal 1 damage to the nearest friend behind. Triggers 3 times."}],"Id":"28","Name":"Elephant","NameId":"Elephant","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Sell: Give 33% attack and health to the leftmost shop pet."},{"Level":2,"About":"Sell: Give 66% attack and health to the leftmost shop pet."},{"Level":3,"About":"Sell: Give 100% attack and health to the leftmost shop pet."}],"Id":"197","Name":"Emperor Tamarin","NameId":"EmperorTamarin","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Feed adjacent friends one Corncob with double effect."},{"Level":2,"About":"Start of battle: Feed adjacent friends two Corncobs with double effect."},{"Level":3,"About":"Start of battle: Feed adjacent friends three Corncobs with double effect."}],"Id":"694","Name":"Farmer Pig","NameId":"FarmerPig","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Make the most healthy enemy Weak."},{"Level":2,"About":"Faint: Make the two most healthy enemies Weak."},{"Level":3,"About":"Faint: Make the three most healthy enemies Weak."}],"Id":"225","Name":"Flea","NameId":"Flea","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments","Mvp"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: If in battle, give it +2 experience. Works 2 times per turn."},{"Level":2,"About":"Friend summoned: If in battle, give it +4 experience. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: If in battle, give it +6 experience. Works 2 times per turn."}],"Id":"226","Name":"Flying Fish","NameId":"FlyingFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friendly toy broke: Gain +2 attack and re-summon the toy at up to level 1."},{"Level":2,"About":"Friendly toy broke: Gain +4 attack and re-summon the toy at up to level 2."},{"Level":3,"About":"Friendly toy broke: Gain +6 attack and re-summon the toy at up to level 3."}],"Id":"227","Name":"Flying Squirrel","NameId":"FlyingSquirrel","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Buy: Give future shop pets from the next tier permanent +2 health."},{"Level":2,"About":"Buy: Give future shop pets from the next tier permanent +4 health."},{"Level":3,"About":"Buy: Give future shop pets from the next tier permanent +6 health."}],"Id":"625","Name":"Foo Dog","NameId":"FuLion","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Rambutan perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Rambutan perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Rambutan perk to the three nearest friends behind."}],"Id":"653","Name":"Fur-Bearing Trout","NameId":"FurBearingTrout","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before attack: Gain +3 mana.","CustomArchetypes":["Mana","Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Remove the highest tier perk from one enemy."},{"Level":2,"About":"Start of battle: Remove the highest tier perks from two enemies."},{"Level":3,"About":"Start of battle: Remove the highest tier perks from three enemies."}],"Id":"740","Name":"Gerenuk","NameId":"Gerenuk","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Gharial toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Gharial toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Gharial toy."}],"Id":"231","Name":"Gharial","NameId":"Gharial","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Give the nearest friend ahead +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give the nearest two friends ahead +1 attack and +1 health."},{"Level":3,"About":"Start of turn: Give the nearest three friends ahead +1 attack and +1 health."}],"Id":"33","Name":"Giraffe","NameId":"Giraffe","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Anyone hurt: If nobody has attacked, gain +2 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Anyone hurt: If nobody has attacked, gain +4 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Anyone hurt: If nobody has attacked, gain +6 health until next turn. Works 5 times per turn."}],"Id":"697","Name":"Great Potoo","NameId":"GreatPotoo","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 toy from Griffin\'s collection."},{"Level":2,"About":"Buy: Choose one level 2 toy from Griffin\'s collection."},{"Level":3,"About":"Buy: Choose one level 3 toy from Griffin\'s collection."}],"Id":"348","Name":"Griffin","NameId":"Griffin","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Gain +2 trumpets."},{"Level":2,"About":"Hurt: Gain +4 trumpets."},{"Level":3,"About":"Hurt: Gain +6 trumpets."}],"Id":"228","Name":"Guineafowl","NameId":"FowlBird","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Hurt"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Copy a useful food perk from one random enemy. Works 1 time per battle."},{"Level":2,"About":"Before attack: Copy a useful food perk from one random enemy. Works 2 times per battle."},{"Level":3,"About":"Before attack: Copy a useful food perk from one random enemy. Works 3 times per battle."}],"Id":"551","Name":"Hare","NameId":"Hare","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the nearest friend ahead +3 attack and +3 health until next turn.","FinePrint":"Will give permanent stats at level 2."},{"Level":2,"About":"End turn: Give the nearest friend ahead +2 attack and +2 health.","FinePrint":"Will give experience at level 3."},{"Level":3,"About":"End turn: Give the nearest friend ahead +1 experience."}],"Id":"91","Name":"Hatching Chick","NameId":"HatchingChick","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff","Levels","Mvp"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 4/3 Ethiopian Wolf."},{"Level":2,"About":"Faint: Summon two 4/3 Ethiopian Wolves."},{"Level":3,"About":"Faint: Summon three 4/3 Ethiopian Wolves."}],"Id":"717","Name":"Hirola","NameId":"Hirola","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 2 damage to the first and last enemy."},{"Level":2,"About":"Faint: Deal 4 damage to the first and last enemy."},{"Level":3,"About":"Faint: Deal 6 damage to the first and last enemy."}],"Id":"235","Name":"Hoopoe Bird","NameId":"HoopoeBird","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 1 gold."},{"Level":2,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 2 gold."},{"Level":3,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 3 gold."}],"Id":"736","Name":"Jewel Caterpillar","NameId":"JewelCaterpillar","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Deal 1 damage to the nearest friend ahead and gain damage as health."},{"Level":2,"About":"End turn: Deal 2 damage to the nearest friend ahead and gain damage as health."},{"Level":3,"About":"End turn: Deal 3 damage to the nearest friend ahead and gain damage as health."}],"Id":"165","Name":"Leech","NameId":"Leech","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt","Mvp"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Level-up: Gain +2 attack and +2 health now and +2 gold next turn."},{"Level":2,"About":"Level-up: Gain +4 attack and +4 health now and +4 gold next turn."},{"Level":3,"About":"No ability."}],"Id":"623","Name":"Lucky Cat","NameId":"LuckyCat","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +2 mana for each roll this turn, up to 3 rolls."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +4 mana for each roll this turn, up to 3 rolls."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +6 mana for each roll this turn, up to 3 rolls."}],"Id":"635","Name":"Mana Hound","NameId":"ManaHound","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Roll"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make one tier 2 or lower enemy Dazed and prioritize <b>Faint</b> pets."},{"Level":2,"About":"Start of battle: Make one tier 4 or lower enemy Dazed and prioritize <b>Faint</b> pets."},{"Level":3,"About":"Start of battle: Make one tier 6 or lower enemy Dazed and prioritize <b>Faint</b> pets."}],"Id":"357","Name":"Mandrake","NameId":"Mandrake","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Remove the two nearest friendly perks to summon one 6/6 Mole."},{"Level":2,"About":"Faint: Remove the two nearest friendly perks to summon one 12/12 Mole."},{"Level":3,"About":"Faint: Remove the two nearest friendly perks to summon one 18/18 Mole."}],"Id":"168","Name":"Mole","NameId":"Mole","Tier":3,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Anyone behind hurt: Give two random friendly pets +1 attack and +2 health. Works 2 times per battle."},{"Level":2,"About":"Anyone behind hurt: Give two random friendly pets +2 attack and +4 health. Works 2 times per battle."},{"Level":3,"About":"Anyone behind hurt: Give two random friendly pets +3 attack and +6 health. Works 2 times per battle."}],"Id":"422","Name":"Monkey-Faced Bat","NameId":"MonkeyFacedBat","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain +1 attack and +2 health until next turn."},{"Level":2,"About":"Friend ahead faints: Gain +2 attack and +4 health until next turn."},{"Level":3,"About":"Friend ahead faints: Gain +3 attack and +6 health until next turn."}],"Id":"245","Name":"Musk Ox","NameId":"MuskOx","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Roll: Gain +1 attack and +1 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Roll: Gain +2 attack and +2 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Roll: Gain +3 attack and +3 health until next turn. Works 5 times per turn."}],"Id":"130","Name":"Okapi","NameId":"Okapi","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give the lowest health friendly pet +3 health."},{"Level":2,"About":"End turn: Give the lowest health friendly pet +6 health."},{"Level":3,"About":"End turn: Give the lowest health friendly pet +9 health."}],"Id":"157","Name":"Orangutan","NameId":"Orangutan","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/1 Groundhog."},{"Level":2,"About":"Faint: Summon two 2/1 Groundhogs."},{"Level":3,"About":"Faint: Summon three 2/1 Groundhogs."}],"Id":"247","Name":"Osprey","NameId":"Osprey","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Roll: Give new shop pets +1 attack and +1 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."},{"Level":2,"About":"Roll: Give new shop pets +2 attack and +2 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."},{"Level":3,"About":"Roll: Give new shop pets +3 attack and +3 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."}],"Id":"364","Name":"Ouroboros","NameId":"Ouroboros","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Summon one level 1 Mouse."},{"Level":2,"About":"Start of turn: Summon one level 2 Mouse."},{"Level":3,"About":"Start of turn: Summon one level 3 Mouse."}],"Id":"95","Name":"Owl","NameId":"Owl","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle","Mvp"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 1 time per turn."},{"Level":2,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 2 times per turn."},{"Level":3,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 3 times per turn."}],"Id":"52","Name":"Ox","NameId":"Ox","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy."},{"Level":2,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy with double effect."},{"Level":3,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy with triple effect."}],"Id":"701","Name":"Pangasius","NameId":"Pangasius","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: If you have a toy, give the nearest friend behind +4 health."},{"Level":2,"About":"Faint: If you have a toy, give the nearest friend behind +8 health."},{"Level":3,"About":"Faint: If you have a toy, give the nearest friend behind +12 health."}],"Id":"249","Name":"Pangolin","NameId":"Pangolin","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +4 trumpets and summon the Golden Retriever immediately."},{"Level":2,"About":"Faint: Gain +8 trumpets and summon the Golden Retriever immediately."},{"Level":3,"About":"Faint: Gain +12 trumpets and summon the Golden Retriever immediately."}],"Id":"733","Name":"Patagonian Mara","NameId":"PatagonianMara","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Summon"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Knock out: Feed the nearest friend behind with one Better Apple."},{"Level":2,"About":"Knock out: Feed the nearest friend behind with two Better Apples."},{"Level":3,"About":"Knock out: Feed the nearest friend behind with three Better Apples."}],"Id":"560","Name":"Pony","NameId":"Pony","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Deal 3 damage directly back."},{"Level":2,"About":"Hurt: Deal 6 damage directly back."},{"Level":3,"About":"Hurt: Deal 9 damage directly back."}],"Id":"169","Name":"Porcupine","NameId":"Porcupine","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +1 experience."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +2 experience."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +3 experience."}],"Id":"145","Name":"Pug","NameId":"Pug","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 3 times per turn."}],"Id":"744","Name":"Purple Frog","NameId":"PurpleFrog","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Five enemy attacks: Deal 33% of health as damage to the least healthy enemy."},{"Level":2,"About":"Five enemy attacks: Deal 33% of health as damage to the two least healthy enemies."},{"Level":3,"About":"Five enemy attacks: Deal 33% of health as damage to the three least healthy enemies."}],"Id":"426","Name":"Pygmy Hippo","NameId":"PygmyHippo","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Transformed: Give front-most friend +2 attack and +2 health. Double in battle."},{"Level":2,"About":"Transformed: Give front-most friend +4 attack and +4 health. Double in battle."},{"Level":3,"About":"Transformed: Give front-most friend +6 attack and +6 health. Double in battle."}],"Id":"702","Name":"Quail","NameId":"Quail","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Eats food: Transform and give front-most friend +2 attack and +2 health. Double in battle."},{"Level":2,"About":"Eats food: Transform and give front-most friend +4 attack and +4 health. Double in battle."},{"Level":3,"About":"Eats food: Transform and give front-most friend +6 attack and +6 health. Double in battle."}],"Id":"778","Name":"Quail Chick","NameId":"QuailChick","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Transform","Food"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Bee summoned: Give it +3 attack and +3 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"},{"Level":2,"About":"Bee summoned: Give it +6 attack and +6 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"},{"Level":3,"About":"Bee summoned: Give it +9 attack and +9 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"}],"Id":"703","Name":"Queen Bee","NameId":"QueenBee","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give the pet that knocked this out and its friends +1 attack and +1 health."},{"Level":2,"About":"Faint: Give the pet that knocked this out and its friends +2 attack and +2 health."},{"Level":3,"About":"Faint: Give the pet that knocked this out and its friends +3 attack and +3 health."}],"Id":"751","Name":"Quetzalcoatlus","NameId":"Quetzalcoatlus","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Friendly ate food: Give them +1 health. Works 3 times per turn."},{"Level":2,"About":"Friendly ate food: Give them +2 health. Works 3 times per turn."},{"Level":3,"About":"Friendly ate food: Give them +3 health. Works 3 times per turn."}],"Id":"60","Name":"Rabbit","NameId":"Rabbit","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Transform two friends ahead into ANY useful level 1 <b>Hurt</b> pets from tier 3 or lower."},{"Level":2,"About":"Start of battle: Transform two friends ahead into ANY useful level 2 <b>Hurt</b> pets from tier 3 or lower."},{"Level":3,"About":"Start of battle: Transform two friends ahead into ANY useful level 3 <b>Hurt</b> pets from tier 3 or lower."}],"Id":"429","Name":"Roloway Monkey","NameId":"RolowayMonkey","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Hurt"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Three enemies faint: Deal 4 damage to one random enemy."},{"Level":2,"About":"Three enemies faint: Deal 8 damage to one random enemy."},{"Level":3,"About":"Three enemies faint: Deal 12 damage to one random enemy."}],"Id":"256","Name":"Royal Flycatcher","NameId":"RoyalFlycatcher","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 1 time per turn."},{"Level":2,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 2 times per turn."},{"Level":3,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 3 times per turn."}],"Id":"531","Name":"Sage-Grouse","NameId":"GreaterSageGrouse","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 1 copy up front for the opponent on faint."},{"Level":2,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 2 copy up front for the opponent on faint."},{"Level":3,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 3 copy up front for the opponent on faint."}],"Id":"763","Name":"Sarcastic Fringehead","NameId":"SarcasticFringehead","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon two 2/2 Rams."},{"Level":2,"About":"Faint: Summon two 4/4 Rams."},{"Level":3,"About":"Faint: Summon two 6/6 Rams."}],"Id":"68","Name":"Sheep","NameId":"Sheep","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Friend gained ailment: Give it a random tier 1 perk. Works 2 times per turn."},{"Level":2,"About":"Friend gained ailment: Give it a random tier 2 perk. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Give it a random tier 3 perk. Works 2 times per turn."}],"Id":"722","Name":"Silkie Chicken","NameId":"SilkieChicken","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give one random friend permanent +1 attack and +1 health."},{"Level":2,"About":"Faint: Give two random friends permanent +1 attack and +1 health."},{"Level":3,"About":"Faint: Give three random friends permanent +1 attack and +1 health."}],"Id":"374","Name":"Skeleton Dog","NameId":"SkeletonDog","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/2 Slime for each two battles fought."},{"Level":2,"About":"Faint: Summon one 4/4 Slime for each two battles fought."},{"Level":3,"About":"Faint: Summon one 6/6 Slime for each two battles fought."}],"Id":"375","Name":"Slime","NameId":"Slime","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Give the nearest friend behind +2 to their lowest stat."},{"Level":2,"About":"Start of turn: Give the nearest two friends behind +2 to their lowest stat."},{"Level":3,"About":"Start of turn: Give the nearest three friends behind +2 to their lowest stat."}],"Id":"433","Name":"Spoon-Billed Sandpiper","NameId":"SpoonBilledSandpiper","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Stock one free Cupcake."},{"Level":2,"About":"Start of turn: Stock one free Cupcake with double effect."},{"Level":3,"About":"Start of turn: Stock one free Cupcake with triple effect."}],"Id":"705","Name":"Sugar Glider","NameId":"SugarGlider","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +4 health."},{"Level":2,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +8 health."},{"Level":3,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +12 health."}],"Id":"264","Name":"Surgeon Fish","NameId":"SurgeonFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Gain +1 attack and +2 health until next turn."},{"Level":2,"About":"Friend ahead hurt: Gain +2 attack and +4 health until next turn."},{"Level":3,"About":"Friend ahead hurt: Gain +3 attack and +6 health until next turn."}],"Id":"719","Name":"Takin","NameId":"Takin","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Hurt"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead faints: Deal 2 damage to the first enemy. Double if the friend was level 3."},{"Level":2,"About":"Friend ahead faints: Deal 4 damage to the first enemy. Double if the friend was level 3."},{"Level":3,"About":"Friend ahead faints: Deal 6 damage to the first enemy. Double if the friend was level 3."}],"Id":"654","Name":"Tatzelwurm","NameId":"Tatzelwurm","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Enemy hurt: Make it Weak. Works 2 times per battle."},{"Level":2,"About":"Enemy hurt: Make it Weak. Works 4 times per battle."},{"Level":3,"About":"Enemy hurt: Make it Weak. Works 6 times per battle."}],"Id":"162","Name":"Toad","NameId":"Toad","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the nearest friend behind."},{"Level":2,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the two nearest friends behind."},{"Level":3,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the three nearest friends behind."}],"Id":"151","Name":"Toucan","NameId":"Toucan","Tier":3,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: If this has 6 or less attack, gain Coconut perk."},{"Level":2,"About":"Start of battle: If this has 12 or less attack, gain Coconut perk."},{"Level":3,"About":"Start of battle: If this has 18 or less attack, gain Coconut perk."}],"Id":"378","Name":"Tree","NameId":"TreeEnt","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make the last perk-less enemy Silly and activate it."},{"Level":2,"About":"Start of battle: Make the last perk-less enemy Silly and activate it twice."},{"Level":3,"About":"Start of battle: Make the last perk-less enemy Silly and activate it thrice."}],"Id":"534","Name":"Tree Kangaroo","NameId":"TreeKangaroo","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Ability has random targets in battle.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Give adjacent friends +1 health."},{"Level":2,"About":"Start of turn: Give adjacent friends +2 health."},{"Level":3,"About":"Start of turn: Give adjacent friends +3 health."}],"Id":"100","Name":"Tropical Fish","NameId":"TropicalFish","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Push the back-most friend to the front and give it +3 attack and +3 health in battle."},{"Level":2,"About":"Faint: Push the back-most friend to the front and give it +6 attack and +6 health in battle."},{"Level":3,"About":"Faint: Push the back-most friend to the front and give it +9 attack and +9 health in battle."}],"Id":"439","Name":"Tucuxi","NameId":"Tucuxi","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give one random friend +1 attack and +1 health for each time this was hurt."},{"Level":2,"About":"Faint: Give one random friend +2 attack and +2 health for each time this was hurt."},{"Level":3,"About":"Faint: Give one random friend +3 attack and +3 health for each time this was hurt."}],"Id":"572","Name":"Tuna","NameId":"Tuna","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +2 health for each friendly pet with a different ailment."},{"Level":2,"About":"Start of battle: Gain +2 attack and +4 health for each friendly pet with a different ailment."},{"Level":3,"About":"Start of battle: Gain +3 attack and +6 health for each friendly pet with a different ailment."}],"Id":"791","Name":"Vampire Parrot","NameId":"VampireParrot","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Shop tier upgraded: Gain +50% attack."},{"Level":2,"About":"Shop tier upgraded: Gain +100% attack."},{"Level":3,"About":"Shop tier upgraded: Gain +150% attack."}],"Id":"160","Name":"Wasp","NameId":"Wasp","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +1 gold on next turn."},{"Level":2,"About":"Faint: Gain +2 gold on next turn."},{"Level":3,"About":"Faint: Gain +3 gold on next turn."}],"Id":"173","Name":"Weasel","NameId":"Weasel","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Swallow and copy the left-most unfrozen shop pet until next turn."},{"Level":2,"About":"End turn: Swallow and copy the two left-most unfrozen and different shop pets until next turn."},{"Level":3,"About":"End turn: Swallow and copy the three left-most unfrozen and different shop pets until next turn."}],"Id":"373","Name":"Abomination","NameId":"Shoggoth","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Summon one level 1 Ocarina."},{"Level":2,"About":"End turn: Summon one level 2 Ocarina."},{"Level":3,"About":"End turn: Summon one level 3 Ocarina."}],"Id":"785","Name":"Ahuizotl","NameId":"Ahuizotl","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Deal 3 damage to its target, or gain +3 attack."},{"Level":2,"About":"Adjacent friend attacked: Deal 6 damage to its target, or gain +6 attack."},{"Level":3,"About":"Adjacent friend attacked: Deal 9 damage to its target, or gain +9 attack."}],"Id":"390","Name":"Amazon River Dolphin","NameId":"AmazonRiverDolphin","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 50% of its stats until next turn."},{"Level":2,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 100% of its stats until next turn."},{"Level":3,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 150% of its stats until next turn."}],"Id":"730","Name":"Andrewsarchus","NameId":"Andrewsarchus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give friends +1 to their highest stat."},{"Level":2,"About":"End turn: Give friends +2 to their highest stat."},{"Level":3,"About":"End turn: Give friends +3 to their highest stat."}],"Id":"392","Name":"Angelshark","NameId":"Angelshark","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Activate two Faint friends from tier 2 or lower front-to-back."},{"Level":2,"About":"Start of battle: Activate two Faint friends from tier 4 or lower front-to-back."},{"Level":3,"About":"Start of battle: Activate two Faint friends from tier 6 or lower front-to-back."}],"Id":"331","Name":"Anubis","NameId":"Anubis","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"End turn: If this has a level 3 friend, gain +1 attack and +2 health."},{"Level":2,"About":"End turn: If this has a level 3 friend, gain +2 attack and +4 health."},{"Level":3,"About":"End turn: If this has a level 3 friend, gain +3 attack and +6 health."}],"Id":"5","Name":"Bison","NameId":"Bison","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: Stock one copy of it. Works 1 time per turn."},{"Level":2,"About":"Friend sold: Stock one copy of it. Works 2 times per turn."},{"Level":3,"About":"Friend sold: Stock one copy of it. Works 3 times per turn."}],"Id":"797","Name":"Bloodhound","NameId":"Bloodhound","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Deal 3 damage to one random enemy."},{"Level":2,"About":"Hurt: Deal 6 damage to one random enemy."},{"Level":3,"About":"Hurt: Deal 9 damage to one random enemy."}],"Id":"7","Name":"Blowfish","NameId":"Blowfish","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Hurt"],"Random":true},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice."},{"Level":2,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice that works twice."},{"Level":3,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice that works thrice."}],"Id":"530","Name":"Blue-Footed Booby","NameId":"BlueFootedBooby","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Transform into the front-most friend."},{"Level":2,"About":"Start of turn: Transform into the front-most friend."},{"Level":3,"About":"Start of turn: Transform into the front-most friend."}],"Id":"402","Name":"Bonobo","NameId":"Bonobo","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Levels","Mvp"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: Gain +2 attack and +2 health until next turn."},{"Level":2,"About":"Friend sold: Gain +4 attack and +4 health until next turn."},{"Level":3,"About":"Friend sold: Gain +6 attack and +6 health until next turn."}],"Id":"8","Name":"Buffalo","NameId":"Buffalo","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Transformed: Copy 33% attack and health from the strongest enemy."},{"Level":2,"About":"Transformed: Copy 66% attack and health from the strongest enemy."},{"Level":3,"About":"Transformed: Copy 100% attack and health from the strongest enemy."}],"Id":"9","Name":"Butterfly","NameId":"Butterfly","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Gain +1 experience.","FinePrint":"Will copy an enemy\'s stats at level 3."},{"Level":2,"About":"Start of turn: Gain +1 experience.","FinePrint":"Will copy an enemy\'s stats at level 3."},{"Level":3,"About":"Start of battle: Transform into a 1/1 Butterfly and copy stats of the strongest enemy."}],"Id":"12","Name":"Caterpillar","NameId":"Caterpillar","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Levels","Transform"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Copy friendly toy ability at up to level 1 until next turn.","FinePrint":"Break abilities trigger on faint instead."},{"Level":2,"About":"End turn: Copy friendly toy ability at up to level 2 until next turn.","FinePrint":"Break abilities trigger on faint instead."},{"Level":3,"About":"End turn: Copy friendly toy ability at up to level 3 until next turn.","FinePrint":"Break abilities trigger on faint instead."}],"Id":"216","Name":"Chameleon","NameId":"Chameleon","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 pet. Spend mana to give it +1 attack and +2 health per 2 mana."},{"Level":2,"About":"Faint: Summon two 3/3 pets. Spend mana to give them +1 attack and +2 health per 2 mana."},{"Level":3,"About":"Faint: Summon three 3/3 pets. Spend mana to give them +1 attack and +2 health per 2 mana."}],"Id":"338","Name":"Chimera","NameId":"Chimera","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friendly level-up: Give it +2 attack and +2 health."},{"Level":2,"About":"Friendly level-up: Give it +4 attack and +4 health."},{"Level":3,"About":"Friendly level-up: Give it +6 attack and +6 health."}],"Id":"117","Name":"Clownfish","NameId":"ClownFish","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Buy: Give the highest tier friend +2 attack and +2 health."},{"Level":2,"About":"Buy: Give the highest tier friend +4 attack and +4 health."},{"Level":3,"About":"Buy: Give the highest tier friend +6 attack and +6 health."}],"Id":"218","Name":"Cockatoo","NameId":"Cockatoo","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Stock one Chocolate."},{"Level":2,"About":"Sell: Stock one Better Chocolate."},{"Level":3,"About":"Sell: Stock one Best Chocolate."}],"Id":"195","Name":"Crow","NameId":"Crow","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels","Mvp"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Enemy faints: Summon a 1/1 bad Chick in that slot for the enemy early. Can summon up to 2 per battle."},{"Level":2,"About":"Enemy faints: Summon a 1/1 bad Chick in that slot for the enemy early. Can summon up to 4 per battle."},{"Level":3,"About":"Enemy faints: Summon a 1/1 bad Chick in that slot for the enemy early. Can summon up to 6 per battle."}],"Id":"787","Name":"Cuckoo","NameId":"Cuckoo","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Remove 3 health from the last enemy and make it Inked."},{"Level":2,"About":"Faint: Remove 3 health from the last two enemies and make them Inked."},{"Level":3,"About":"Faint: Remove 3 health from the last three enemies and make them Inked."}],"Id":"176","Name":"Cuttlefish","NameId":"Cuddlefish","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friend level-up: Give it +2 mana. Also give +1 experience on the first trigger this turn."},{"Level":2,"About":"Friend level-up: Give it +4 mana. Also give +1 experience on the first two triggers this turn."},{"Level":3,"About":"Friend level-up: Give it +6 mana. Also give +1 experience on the first three triggers this turn."}],"Id":"630","Name":"Cyclops","NameId":"Cyclops","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Mana"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/3 Bus with Chili."},{"Level":2,"About":"Faint: Summon one 10/6 Bus with Chili."},{"Level":3,"About":"Faint: Summon one 15/9 Bus with Chili."}],"Id":"20","Name":"Deer","NameId":"Deer","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack second enemy for 5 damage.","CustomArchetypes":["Summon"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Ailments on this work in reverse.","FinePrint":"Weak and Spooked works 3 times."},{"Level":2,"About":"Ailments on this work in reverse and are two times better.","FinePrint":"Weak and Spooked works 3 times."},{"Level":3,"About":"Ailments on this work in reverse and are three times better.","FinePrint":"Weak and Spooked works 3 times."}],"Id":"748","Name":"Deinocheirus","NameId":"Deinocheirus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +8 attack. If all friends are higher tiers, also gain Coconut perk."},{"Level":2,"About":"Start of battle: Gain +16 attack. If all friends are higher tiers, also gain Coconut perk."},{"Level":3,"About":"Start of battle: Gain +24 attack. If all friends are higher tiers, also gain Coconut perk."}],"Id":"273","Name":"Doberman","NameId":"Doberman","Tier":4,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Perks"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 1 time per battle."},{"Level":2,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 2 times per battle."},{"Level":3,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 3 times per battle."}],"Id":"111","Name":"Donkey","NameId":"Donkey","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 2 gold.","FinePrint":"Max gold limit is 30."},{"Level":2,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 4 gold.","FinePrint":"Max gold limit is 30."},{"Level":3,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 6 gold.","FinePrint":"Max gold limit is 30."}],"Id":"546","Name":"Elk","NameId":"Elk","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Gold"],"Random":true},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 wondrous toy."},{"Level":2,"About":"Buy: Choose one level 2 wondrous toy."},{"Level":3,"About":"Buy: Choose one level 3 wondrous toy."}],"Id":"342","Name":"Fairy","NameId":"Fairy","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: If still standing, gain permanent +2 health and transform into a protected ball."},{"Level":2,"About":"Hurt: If still standing, gain permanent +4 health and transform into a protected ball."},{"Level":3,"About":"Hurt: If still standing, gain permanent +6 health and transform into a protected ball."}],"Id":"547","Name":"Fairy Armadillo","NameId":"FairyArmadillo","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Transform","Hurt"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Takes 2 less damage."},{"Level":2,"About":"Takes 4 less damage."},{"Level":3,"About":"Takes 6 less damage."}],"Id":"771","Name":"Fairy Ball","NameId":"FairyArmadilloBall","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Knock out: Summon one 3/3 level 1 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."},{"Level":2,"About":"Knock out: Summon one 6/6 level 2 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."},{"Level":3,"About":"Knock out: Summon one 9/9 level 3 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."}],"Id":"224","Name":"Falcon","NameId":"Falcon","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Feed friends one Corncob."},{"Level":2,"About":"Buy: Feed friends two Corncobs."},{"Level":3,"About":"Buy: Feed friends three Corncobs."}],"Id":"689","Name":"Farmer Cat","NameId":"FarmerCat","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 health from the two first enemies for each roll this turn."},{"Level":2,"About":"Start of battle: Remove 2 health from the two first enemies for each roll this turn."},{"Level":3,"About":"Start of battle: Remove 3 health from the two first enemies for each roll this turn."}],"Id":"549","Name":"Fossa","NameId":"Fossa","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Gain +2 attack and +1 health until next turn for each gold over 10."},{"Level":2,"About":"Start of turn: Gain +4 attack and +2 health until next turn for each gold over 10."},{"Level":3,"About":"Start of turn: Gain +6 attack and +3 health until next turn for each gold over 10."}],"Id":"185","Name":"Gazelle","NameId":"Gazelle","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Eats two food: Transform and feed one Pear to each friend."},{"Level":2,"About":"Eats two food: Transform and feed two Pears to each friend."},{"Level":3,"About":"Eats two food: Transform and feed three Pears to each friend."}],"Id":"696","Name":"Gelada","NameId":"Gelada","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food","Transform"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before battle: Give friends +2 attack and +5 health until after the first non-jump attack."},{"Level":2,"About":"Before battle: Give friends +4 attack and +10 health until after the first non-jump attack."},{"Level":3,"About":"Before battle: Give friends +6 attack and +15 health until after the first non-jump attack."}],"Id":"410","Name":"Giant Otter","NameId":"GiantOtter","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Gain +2 health, and set attack to 4. Health can go to 100!"},{"Level":2,"About":"End turn: Gain +4 health, and set attack to 8. Health can go to 100!"},{"Level":3,"About":"End turn: Gain +6 health, and set attack to 12. Health can go to 100!"}],"Id":"412","Name":"Giant Tortoise","NameId":"GiantTortoise","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Swallow the first enemy with 6 health or less. Release it with 1 health on faint."},{"Level":2,"About":"Start of battle: Swallow the first enemy with 12 health or less. Release it with 1 health on faint."},{"Level":3,"About":"Start of battle: Swallow the first enemy with 18 health or less. Release it with 1 health on faint."}],"Id":"754","Name":"Goblin Shark","NameId":"GoblinShark","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Before battle: Transform into ANY useful level 1 <b>Start of Battle</b> pet from tier 5."},{"Level":2,"About":"Before battle: Transform into ANY useful level 2 <b>Start of Battle</b> pet from tier 5."},{"Level":3,"About":"Before battle: Transform into ANY useful level 3 <b>Start of Battle</b> pet from tier 5."}],"Id":"720","Name":"Golden Tamarin","NameId":"GoldenTamarin","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 7 damage to the opposite enemy."},{"Level":2,"About":"Start of battle: Deal 14 damage to the opposite enemy."},{"Level":3,"About":"Start of battle: Deal 21 damage to the opposite enemy."}],"Id":"127","Name":"Hawk","NameId":"Hawk","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Knock out: Gain +3 attack and +3 health. Works 3 times per battle."},{"Level":2,"About":"Knock out: Gain +6 attack and +6 health. Works 3 times per battle."},{"Level":3,"About":"Knock out: Gain +9 attack and +9 health. Works 3 times per battle."}],"Id":"38","Name":"Hippo","NameId":"Hippo","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Remove friendly strawberries to gain +3 trumpets for each."},{"Level":2,"About":"Start of battle: Remove friendly strawberries to gain +6 trumpets for each."},{"Level":3,"About":"Start of battle: Remove friendly strawberries to gain +9 trumpets for each."}],"Id":"755","Name":"Hoatzin","NameId":"Hoatzin","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Trumpets"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Remove 30% attack from the highest attack enemy."},{"Level":2,"About":"Start of battle: Remove 60% attack from the highest attack enemy."},{"Level":3,"About":"Start of battle: Remove 90% attack from the highest attack enemy."}],"Id":"416","Name":"Humphead Wrasse","NameId":"HumpheadWrasse","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Eats apple: Give friends +1 attack and +1 health. Works 1 time per turn."},{"Level":2,"About":"Eats apple: Give friends +2 attack and +2 health. Works 1 time per turn."},{"Level":3,"About":"Eats apple: Give friends +3 attack and +3 health. Works 1 time per turn."}],"Id":"199","Name":"Jerboa","NameId":"Jerboa","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"After first attack: Make the highest attack enemy Spooked and push it to the back."},{"Level":2,"About":"After first attack: Make the two highest attack enemies Spooked and push them to the back."},{"Level":3,"About":"After first attack: Make the three highest attack enemies Spooked and push them to the back."}],"Id":"419","Name":"Kakapo","NameId":"Kakapo","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments","Disruption"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Remove 15% health from ALL other pets."},{"Level":2,"About":"Start of battle: Remove 30% health from ALL other pets."},{"Level":3,"About":"Start of battle: Remove 45% health from ALL other pets."}],"Id":"355","Name":"Kraken","NameId":"Kraken","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Give random ailments to ANY three random pets. Double the effect on enemies."},{"Level":2,"About":"Faint: Give random ailments to ANY six random pets. Double the effect on enemies."},{"Level":3,"About":"Faint: Give random ailments to ANY nine random pets. Double the effect on enemies."}],"Id":"750","Name":"Leaf Gecko","NameId":"SatanicLeafTailedGecko","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":7,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give adjacent friends 1 experience and remove this."},{"Level":2,"About":"Start of battle: Give adjacent friends 2 experience and remove this."},{"Level":3,"About":"Start of battle: Give adjacent friends 3 experience and remove this."}],"Id":"723","Name":"Leafy Sea Dragon","NameId":"LeafySeaDragon","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle","Levels"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: If there is an empty space, gain +1 attack and +2 health."},{"Level":2,"About":"End turn: If there is an empty space, gain +2 attack and +4 health."},{"Level":3,"About":"End turn: If there is an empty space, gain +3 attack and +6 health."}],"Id":"44","Name":"Llama","NameId":"Llama","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend summoned: If outside battle, give it +1 attack and +2 health."},{"Level":2,"About":"Friend summoned: If outside battle, give it +2 attack and +4 health."},{"Level":3,"About":"Friend summoned: If outside battle, give it +3 attack and +6 health."}],"Id":"93","Name":"Lobster","NameId":"Lobster","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one friend and feed it with random food for every food eaten this turn."},{"Level":2,"About":"Faint: Summon two friends and feed them with random food for every food eaten this turn."},{"Level":3,"About":"Faint: Summon three friends and feed them with random food for every food eaten this turn."}],"Id":"698","Name":"Locust","NameId":"Locust","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Summon","Food"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Five enemy attacks: Gain +4 health and remove 4 health from all enemies."},{"Level":2,"About":"Five enemy attacks: Gain +8 health and remove 8 health from all enemies."},{"Level":3,"About":"Five enemy attacks: Gain +12 health and remove 12 health from all enemies."}],"Id":"420","Name":"Longcomb Sawfish","NameId":"LongcombSawfish","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal damage to one random enemy equal to the sum of all friendly levels."},{"Level":2,"About":"Start of battle: Deal damage to two random enemies equal to the sum of all friendly levels."},{"Level":3,"About":"Start of battle: Deal damage to three random enemies equal to the sum of all friendly levels."}],"Id":"200","Name":"Lynx","NameId":"Lynx","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels","Disruption"],"Random":true},{"Attack":2,"Health":11,"Abilities":[{"Level":1,"About":"End turn: Take 5 damage and give the nearest friend ahead +2 attack and +1 health."},{"Level":2,"About":"End turn: Take 5 damage and give the nearest friend ahead +4 attack and +2 health."},{"Level":3,"About":"End turn: Take 5 damage and give the nearest friend ahead +6 attack and +3 health."}],"Id":"192","Name":"Manatee","NameId":"Manatee","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"End turn: If there is an empty space, gain +2 gold next turn."},{"Level":2,"About":"End turn: If there is an empty space, gain +4 gold next turn."},{"Level":3,"About":"End turn: If there is an empty space, gain +6 gold next turn."}],"Id":"240","Name":"Manta Ray","NameId":"MantaRay","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Make ALL pets within 3 spaces Weak."},{"Level":2,"About":"Faint: Make ALL pets within 6 spaces Weak."},{"Level":3,"About":"Faint: Make ALL pets within 9 spaces Weak."}],"Id":"94","Name":"Microbe","NameId":"Microbe","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Three friends faint: Gain +1 gold on next turn."},{"Level":2,"About":"Three friends faint: Gain +2 gold on next turn."},{"Level":3,"About":"Three friends faint: Gain +3 gold on next turn."}],"Id":"359","Name":"Mimic","NameId":"Mimic","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Gold","Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Gain +1 attack and +1 health for each of the friend\'s level."},{"Level":2,"About":"Friend ahead attacks: Gain +2 attack and +2 health for each of the friend\'s level."},{"Level":3,"About":"Friend ahead attacks: Gain +3 attack and +3 health for each of the friend\'s level."}],"Id":"360","Name":"Minotaur","NameId":"Minotaur","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 nostalgic toy."},{"Level":2,"About":"Start of turn: Choose one level 2 nostalgic toy."},{"Level":3,"About":"Start of turn: Choose one level 3 nostalgic toy."}],"Id":"612","Name":"Old Mouse","NameId":"OldMouse","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"],"Random":true},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Copy ability from the nearest pet ahead as level 1 until next turn."},{"Level":2,"About":"End turn: Copy ability from the nearest pet ahead as level 2 until next turn."},{"Level":3,"About":"End turn: Copy ability from the nearest pet ahead as level 3 until next turn."}],"Id":"53","Name":"Parrot","NameId":"Parrot","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Mvp","Mvp"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give three friends +1 attack until next turn."},{"Level":2,"About":"Friend summoned: Give three friends +2 attack until next turn."},{"Level":3,"About":"Friend summoned: Give three friends +3 attack until next turn."}],"Id":"365","Name":"Pegasus","NameId":"Pegasus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Give two level 2 or higher friends +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give two level 2 or higher friends +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give two level 2 or higher friends +3 attack and +3 health."}],"Id":"56","Name":"Penguin","NameId":"Penguin","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for each roll (max 8) this turn."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for each roll (max 8) this turn."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for each roll (max 8) this turn."}],"Id":"734","Name":"Platybelodon","NameId":"Platybelodon","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Roll"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint & Sell: Summon one 3/2 level 1 Duck and Beaver."},{"Level":2,"About":"Faint & Sell: Summon one 6/4 level 2 Duck and Beaver."},{"Level":3,"About":"Faint & Sell: Summon one 9/6 level 3 Duck and Beaver."}],"Id":"159","Name":"Platypus","NameId":"Platypus","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle","Summon"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead faints: Deal 4 damage to the highest health enemy."},{"Level":2,"About":"Friend ahead faints: Deal 8 damage to the highest health enemy."},{"Level":3,"About":"Friend ahead faints: Deal 12 damage to the highest health enemy."}],"Id":"252","Name":"Poison Dart Frog","NameId":"PoisonDartFrog","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend transformed: Give it +3 experience. Works 1 time per battle."},{"Level":2,"About":"Friend transformed: Give it +3 experience. Works 2 times per battle."},{"Level":3,"About":"Friend transformed: Give it +3 experience. Works 3 times per battle."}],"Id":"729","Name":"Poodle Moth","NameId":"PoodleMoth","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels","Transform"]},{"Attack":7,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +6 attack and +6 health."}],"Id":"126","Name":"Praying Mantis","NameId":"PrayingMantis","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff","Mvp"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Puppy toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Puppy toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Puppy toy."}],"Id":"97","Name":"Puppy","NameId":"Puppy","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 1 time per battle."},{"Level":2,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 2 times per battle."},{"Level":3,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 3 times per battle."}],"Id":"760","Name":"Racket Tail","NameId":"WhiteBootedRacketTail","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from one tier below."},{"Level":2,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from two tiers below."},{"Level":3,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from three tiers below."}],"Id":"742","Name":"Red Lipped Batfish","NameId":"RedLippedBatfish","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 3 times and spread evenly."},{"Level":2,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 6 times and spread evenly."},{"Level":3,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 9 times and spread evenly."}],"Id":"369","Name":"Roc","NameId":"Roc","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give two friends with less health than this +1 attack and +1 health."},{"Level":2,"About":"End turn: Give two friends with less health than this +2 attack and +2 health."},{"Level":3,"About":"End turn: Give two friends with less health than this +3 attack and +3 health."}],"Id":"622","Name":"Rootling","NameId":"Rootler","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Replace friendly strawberries with +4 mana."},{"Level":2,"About":"Start of battle: Replace friendly strawberries with +8 mana."},{"Level":3,"About":"Start of battle: Replace friendly strawberries with +12 mana."}],"Id":"802","Name":"Ruspoli\'s Turaco","NameId":"RuspolisTuraco","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Two friends faint: Gain +3 trumpets."},{"Level":2,"About":"Two friends faint: Gain +6 trumpets."},{"Level":3,"About":"Two friends faint: Gain +9 trumpets."}],"Id":"257","Name":"Saiga Antelope","NameId":"SaigaAntelope","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Summon"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: If it was a Sell pet, give one random friend +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Friend sold: If it was a Sell pet, give one random friend +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Friend sold: If it was a Sell pet, give one random friend +3 attack and +3 health. Works 3 times per turn."}],"Id":"563","Name":"Sea Anemone","NameId":"SeaAnemone","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 3 times per turn."}],"Id":"128","Name":"Seagull","NameId":"Seagull","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give friends behind +1 attack and friends ahead +1 health."},{"Level":2,"About":"End turn: Give friends behind +2 attack and friends ahead +2 health."},{"Level":3,"About":"End turn: Give friends behind +3 attack and friends ahead +3 health."}],"Id":"175","Name":"Sealion","NameId":"Sealion","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Give adjacent pets +1 attack. Also +1 health if the shop has discounted food."},{"Level":2,"About":"End turn: Give adjacent pets +2 attack. Also +2 health if the shop has discounted food."},{"Level":3,"About":"End turn: Give adjacent pets +3 attack. Also +3 health if the shop has discounted food."}],"Id":"565","Name":"Siamese","NameId":"Siamese","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 33% health from the highest health enemy."},{"Level":2,"About":"Start of battle: Remove 66% health from the highest health enemy."},{"Level":3,"About":"Start of battle: Remove 99% health from the highest health enemy."}],"Id":"70","Name":"Skunk","NameId":"Skunk","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Transformed: Feed one Pear to each friend."},{"Level":2,"About":"Transformed: Feed two Pears to each friend."},{"Level":3,"About":"Transformed: Feed three Pears to each friend."}],"Id":"780","Name":"Sleeping Gelada","NameId":"GeladaSleeping","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/2 Smaller Slug that summons one 1/1 Smallest Slug."},{"Level":2,"About":"Faint: Summon one 4/4 Smaller Slug that summons one 2/2 Smallest Slug."},{"Level":3,"About":"Faint: Summon one 6/6 Smaller Slug that summons one 3/3 Smallest Slug."}],"Id":"262","Name":"Slug","NameId":"Slug","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Guard"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friendly Strawberries block 5 damage twice, or ailments once."},{"Level":2,"About":"Friendly Strawberries block 10 damage twice, or ailments once."},{"Level":3,"About":"Friendly Strawberries block 15 damage twice, or ailments once."}],"Id":"567","Name":"Sparrow","NameId":"Sparrow","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Friend attacks: Give it +4 health and move it far back. Works on one friend per turn."},{"Level":2,"About":"Friend attacks: Give it +4 health and move it far back. Works on two different friends per turn."},{"Level":3,"About":"Friend attacks: Give it +4 health and move it far back. Works on three different friends per turn."}],"Id":"727","Name":"Spider Crab","NameId":"SpiderCrab","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 1 damage to two random enemies and multiply damage by the distance."},{"Level":2,"About":"Faint: Deal 2 damage to two random enemies and multiply damage by the distance."},{"Level":3,"About":"Faint: Deal 3 damage to two random enemies and multiply damage by the distance."}],"Id":"804","Name":"Spiny Bush Viper","NameId":"SpinyBushViper","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of turn: Discount all shop food by 1 gold."},{"Level":2,"About":"Start of turn: Discount all shop food by 2 gold."},{"Level":3,"About":"Start of turn: Discount all shop food by 3 gold."}],"Id":"75","Name":"Squirrel","NameId":"Squirrel","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give Mild Chili perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Mild Chili perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Mild Chili perk to the three nearest friends behind."}],"Id":"393","Name":"Tahr","NameId":"ArabianTahr","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack second enemy for 4 damage.","CustomArchetypes":["Perks"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Transformed: Summon a level 1 Thunder Hammer."},{"Level":2,"About":"Transformed: Summon a level 2 Thunder Hammer."},{"Level":3,"About":"Transformed: Summon a level 3 Thunder Hammer."}],"Id":"819","Name":"Tand and Tand","NameId":"ThorGoats","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":6,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give one random friendly Tandgrisner +3 health. Can also..."},{"Level":2,"About":"End turn: Give one random friendly Tandgrisner +6 health. Can also..."},{"Level":3,"About":"End turn: Give one random friendly Tandgrisner +9 health. Can also..."}],"Id":"607","Name":"Tandgnost","NameId":"ThorGoat1","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Give one random friendly Tandgnost +3 attack. Can also..."},{"Level":2,"About":"End turn: Give one random friendly Tandgnost +6 attack. Can also..."},{"Level":3,"About":"End turn: Give one random friendly Tandgnost +9 attack. Can also..."}],"Id":"608","Name":"Tandgrisner","NameId":"ThorGoat2","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 level 1 Tardigrade and make it Dazed."},{"Level":2,"About":"Faint: Summon one 6/6 level 2 Tardigrade and make it Dazed."},{"Level":3,"About":"Faint: Summon one 9/9 level 3 Tardigrade and make it Dazed."}],"Id":"570","Name":"Tardigrade","NameId":"Tardigrade","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Summon","Ailments"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make the lowest attack enemy 5x\xa0Spooked and jump-attack it."},{"Level":2,"About":"Start of battle: Make the lowest attack enemy 10x\xa0Spooked and jump-attack it."},{"Level":3,"About":"Start of battle: Make the lowest attack enemy 15x\xa0Spooked and jump-attack it."}],"Id":"437","Name":"Tasmanian Devil","NameId":"TasmanianDevil","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Guard","Ailments"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and deal 3 damage to the two first enemies."},{"Level":2,"About":"Empty front space: Jump to the front and deal 6 damage to the two first enemies."},{"Level":3,"About":"Empty front space: Jump to the front and deal 9 damage to the two first enemies."}],"Id":"330","Name":"Tiger Bug","NameId":"AntLion","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: If it was sold for at least 3 gold, gain +1 attack and +2 health."},{"Level":2,"About":"Friend sold: If it was sold for at least 3 gold, gain +2 attack and +4 health."},{"Level":3,"About":"Friend sold: If it was sold for at least 3 gold, gain +3 attack and +6 health."}],"Id":"706","Name":"Trout","NameId":"Trout","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Melon perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Melon perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Melon perk to the three nearest friends behind."}],"Id":"80","Name":"Turtle","NameId":"Turtle","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 1 time per turn."},{"Level":2,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 3 times per turn."}],"Id":"380","Name":"Unicorn","NameId":"Unicorn","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +50% trumpets, and minimum +4 trumpets."},{"Level":2,"About":"Faint: Gain +100% trumpets, and minimum +8 trumpets."},{"Level":3,"About":"Faint: Gain +150% trumpets, and minimum +12 trumpets."}],"Id":"265","Name":"Vaquita","NameId":"Vaquita","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Make ALL pets within one space Icky."},{"Level":2,"About":"Faint: Make ALL pets within two spaces Icky."},{"Level":3,"About":"Faint: Make ALL pets within three spaces Icky."}],"Id":"386","Name":"Visitor","NameId":"Xenomorph","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take double damage, twice.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 1 on faint."},{"Level":2,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 2 on faint."},{"Level":3,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 3 on faint."}],"Id":"81","Name":"Whale","NameId":"Whale","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Gain perk or ailment: Remove it and gain +1 attack and +1 health. Triple in battle."},{"Level":2,"About":"Gain perk or ailment: Remove it and gain +2 attack and +2 health. Triple in battle."},{"Level":3,"About":"Gain perk or ailment: Remove it and gain +3 attack and +3 health. Triple in battle."}],"Id":"267","Name":"Whale Shark","NameId":"WhaleShark","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks","Ailments"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Give adjacent friends +1 attack and +1 health for every 4 roll, up to 8 rolls."},{"Level":2,"About":"End turn: Give adjacent friends +2 attack and +2 health for every 4 roll, up to 8 rolls."},{"Level":3,"About":"End turn: Give adjacent friends +3 attack and +3 health for every 4 roll, up to 8 rolls."}],"Id":"371","Name":"Worm of Sand","NameId":"Sandworm","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 1 time per battle."},{"Level":2,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 2 times per battle."},{"Level":3,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 3 times per battle."}],"Id":"756","Name":"Yeti Crab","NameId":"YetiCrab","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block 10 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Transformed: Give two back-most friends 1 experience."},{"Level":2,"About":"Transformed: Give two back-most friends 2 experience."},{"Level":3,"About":"Transformed: Give two back-most friends 3 experience."}],"Id":"777","Name":"Adult Flounder","NameId":"FlounderAdult","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +3 attack and +4 mana and Spooked. Works 2 times per turn."},{"Level":2,"About":"Friend summoned: Give it +6 attack and +8 mana and Spooked. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it +9 attack and +12 mana and Spooked. Works 2 times per turn."}],"Id":"631","Name":"Amalgamation","NameId":"Amalgam","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Ailments","Summon"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give ALL pets +8 health."},{"Level":2,"About":"Start of battle: Give ALL pets +16 health."},{"Level":3,"About":"Start of battle: Give ALL pets +24 health."}],"Id":"166","Name":"Armadillo","NameId":"Armadillo","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friendly gained perk: Give it permanent +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Friendly gained perk: Give it permanent +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Friendly gained perk: Give it permanent +3 attack and +3 health. Works 3 times per turn."}],"Id":"212","Name":"Axolotl","NameId":"Axolotl","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +3 attack and +3 health."},{"Level":2,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +6 attack and +6 health."},{"Level":3,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +9 attack and +9 health."}],"Id":"395","Name":"Aye-aye","NameId":"AyeAye","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 toy that brings doom and chaos!"},{"Level":2,"About":"Buy: Choose one level 2 toy that brings doom and chaos!"},{"Level":3,"About":"Buy: Choose one level 3 toy that brings doom and chaos!"}],"Id":"613","Name":"Bad Dog","NameId":"BadDog","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys","Disruption"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Remove 6 attack from ALL other pets to a minimum of 4 attack."},{"Level":2,"About":"Start of battle: Remove 12 attack from ALL other pets to a minimum of 4 attack."},{"Level":3,"About":"Start of battle: Remove 18 attack from ALL other pets to a minimum of 4 attack."}],"Id":"396","Name":"Banggai Cardinalfish","NameId":"BanggaiCardinalfish","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Eats food: Swallow the left-most shop pet and summon it at level 1 with base stats on faint."},{"Level":2,"About":"Eats food: Swallow the left-most shop pet and summon it at level 2 with double stats on faint."},{"Level":3,"About":"Eats food: Swallow the left-most shop pet and summon it at level 3 with triple stats on faint."}],"Id":"182","Name":"Beluga Whale","NameId":"WhiteWhale","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Mvp"]},{"Attack":2,"Health":10,"Abilities":[{"Level":1,"About":"Faint: Give the nearest friend behind +1 experience. Give to one more friend in battle."},{"Level":2,"About":"Faint: Give the nearest friend behind +2 experience. Give to one more friend in battle."},{"Level":3,"About":"Faint: Give the nearest friend behind +3 experience. Give to one more friend in battle."}],"Id":"150","Name":"Blobfish","NameId":"Blobfish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three random friends +1 attack and +1 health for each food this has eaten this turn."},{"Level":2,"About":"Faint: Give three random friends +2 attack and +2 health for each food this has eaten this turn."},{"Level":3,"About":"Faint: Give three random friends +3 attack and +3 health for each food this has eaten this turn."}],"Id":"774","Name":"Blue Jay","NameId":"BlueJay","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Give friends +1 attack and +1 health."},{"Level":2,"About":"Buy: Give friends +2 attack and +2 health."},{"Level":3,"About":"Buy: Give friends +3 attack and +3 health."}],"Id":"271","Name":"Blue Ringed Octopus","NameId":"BlueRingedOctopus","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":2,"Health":12,"Abilities":[{"Level":1,"About":"Before attack: Make the target Crisp. Works 2 times per battle."},{"Level":2,"About":"Before attack: Make the target Crisp. Works 4 times per battle."},{"Level":3,"About":"Before attack: Make the target Crisp. Works 6 times per battle."}],"Id":"656","Name":"Boitata","NameId":"Boitata","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three friends that dealt damage this battle permanent +1 attack and +1 health."},{"Level":2,"About":"Faint: Give three friends that dealt damage this battle permanent +2 attack and +2 health."},{"Level":3,"About":"Faint: Give three friends that dealt damage this battle permanent +3 attack and +3 health."}],"Id":"688","Name":"Brahma Chicken","NameId":"BrahmaChicken","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give future shop pets +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give future shop pets +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give future shop pets +3 attack and +3 health."}],"Id":"14","Name":"Chicken","NameId":"Chicken","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Buy: Replace shop food with two free Milk."},{"Level":2,"About":"Buy: Replace shop food with two free Better Milk."},{"Level":3,"About":"Buy: Replace shop food with two free Best Milk."}],"Id":"15","Name":"Cow","NameId":"Cow","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food","Cycle"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 1 time per turn."},{"Level":2,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 2 times per turn."},{"Level":3,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 3 times per turn."}],"Id":"219","Name":"Crane","NameId":"Crane","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 8 damage to the last enemy."},{"Level":2,"About":"Start of battle: Deal 8 damage to the last enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 8 damage to the last enemy. Triggers 3 times."}],"Id":"19","Name":"Crocodile","NameId":"Crocodile","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +1 health to one friend of each level."},{"Level":2,"About":"End turn: Give +2 attack and +2 health to one friend of each level."},{"Level":3,"About":"End turn: Give +3 attack and +3 health to one friend of each level."}],"Id":"196","Name":"Dragonfly","NameId":"Dragonfly","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/5 level 1 pet from the next shop tier."},{"Level":2,"About":"Faint: Summon one 10/10 level 2 pet from the next shop tier."},{"Level":3,"About":"Faint: Summon one 15/15 level 3 pet from the next shop tier."}],"Id":"27","Name":"Eagle","NameId":"Eagle","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 1 time per battle."},{"Level":2,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 2 times per battle."},{"Level":3,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 3 times per battle."}],"Id":"221","Name":"Egyptian Vulture","NameId":"EgyptianVulture","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Empty front space: Give nearest friend ahead +4 health and move it to the front in battle."},{"Level":2,"About":"Empty front space: Give nearest friend ahead +8 health and move it to the front in battle."},{"Level":3,"About":"Empty front space: Give nearest friend ahead +12 health and move it to the front in battle."}],"Id":"223","Name":"Emu","NameId":"Emu","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 friend with +1 attack and +1 health for each ailment gained."},{"Level":2,"About":"Faint: Summon two 3/3 friends with +1 attack and +1 health for each ailment gained."},{"Level":3,"About":"Faint: Summon three 3/3 friends with +1 attack and +1 health for each ailment gained."}],"Id":"770","Name":"Estemmenosuchus","NameId":"Estemmenosuchus","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments","Summon"]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Feed three Corncobs with triple effect to the nearest friend behind."},{"Level":2,"About":"Faint: Feed three Corncobs with triple effect to the nearest two friends behind."},{"Level":3,"About":"Faint: Feed three Corncobs with triple effect to the nearest three friends behind."}],"Id":"691","Name":"Farmer Crow","NameId":"FarmerCrow","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give attack to the highest tier friend."},{"Level":2,"About":"Faint: Give attack to the two highest tier friends."},{"Level":3,"About":"Faint: Give attack to the three highest tier friends."}],"Id":"274","Name":"Fire Ant","NameId":"FireAnt","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Eats two food: Transform and give the two back-most friends 1 experience."},{"Level":2,"About":"Eats two food: Transform and give the two back-most friends 2 experience."},{"Level":3,"About":"Eats two food: Transform and give the two back-most friends 3 experience."}],"Id":"776","Name":"Flounder","NameId":"FlounderYoung","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Steal the right-most shop food."},{"Level":2,"About":"End turn: Steal the right-most shop food and double its attack and health effects."},{"Level":3,"About":"End turn: Steal the right-most shop food and triple its attack and health effects."}],"Id":"106","Name":"Fox","NameId":"Fox","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":10,"Abilities":[{"Level":1,"About":"Hurt: Deal 33% of damage taken as damage to one random enemy."},{"Level":2,"About":"Hurt: Deal 66% of damage taken as damage to one random enemy."},{"Level":3,"About":"Hurt: Deal 100% of damage taken as damage to one random enemy."}],"Id":"409","Name":"Geometric Tortoise","NameId":"GeometricTortoise","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give friends +2 health. Spend 2 trumpets to give 1 more health in the future."},{"Level":2,"About":"Faint: Give friends +4 health. Spend 2 trumpets to give 2 more health in the future."},{"Level":3,"About":"Faint: Give friends +6 health. Spend 2 trumpets to give 3 more health in the future."}],"Id":"752","Name":"Giant Isopod","NameId":"GiantIsopod","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Deal 4 damage to one random enemy for each friendly transformation this turn."},{"Level":2,"About":"Faint: Deal 8 damage to one random enemy for each friendly transformation this turn."},{"Level":3,"About":"Faint: Deal 12 damage to one random enemy for each friendly transformation this turn."}],"Id":"411","Name":"Giant Pangasius","NameId":"GiantPangasius","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Disruption","Transform"],"Random":true},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend bought: Gain +1 gold. Works 2 times per turn."},{"Level":2,"About":"Friend bought: Gain +2 gold. Works 2 times per turn."},{"Level":3,"About":"Friend bought: Gain +3 gold. Works 2 times per turn."}],"Id":"34","Name":"Goat","NameId":"Goat","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle","Gold"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Roll: Gain one free roll. Works 2 times per turn."},{"Level":2,"About":"Roll: Gain one free roll. Works 4 times per turn."},{"Level":3,"About":"Roll: Gain one free roll. Works 6 times per turn."}],"Id":"110","Name":"Hamster","NameId":"Hamster","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give three random friends that fainted last battle +2 health."},{"Level":2,"About":"Start of turn: Give three random friends that fainted last battle +4 health."},{"Level":3,"About":"Start of turn: Give three random friends that fainted last battle +6 health."}],"Id":"414","Name":"Hawaiian Monk Seal","NameId":"HawaiianMonkSeal","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain +1 mana for each roll this turn."},{"Level":2,"About":"Friend ahead faints: Gain +2 mana for each roll this turn."},{"Level":3,"About":"Friend ahead faints: Gain +3 mana for each roll this turn."}],"Id":"350","Name":"Hippocampus","NameId":"Hippocampus","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll","Guard","Mana"],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Swap attack and health of ALL pets.","FinePrint":"Will shuffle positions of all pets at level 2."},{"Level":2,"About":"Start of battle: Shuffle positions of ALL pets.","FinePrint":"Will swap stats and shuffe positions of all pets at level 3."},{"Level":3,"About":"Start of battle: Swap attack and health and shuffle positions of ALL pets."}],"Id":"167","Name":"Hyena","NameId":"Hyena","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on one enemy per battle."},{"Level":2,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on two different enemies per battle."},{"Level":3,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on three different enemies per battle."}],"Id":"553","Name":"Ibex","NameId":"Ibex","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Pet flung: Set attack and health to 13."},{"Level":2,"About":"Pet flung: Set attack and health to 26."},{"Level":3,"About":"Pet flung: Set attack and health to 39."}],"Id":"554","Name":"Jackal","NameId":"Jackal","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one random 14/16 pet from tier 3 up front for you and the opponent."},{"Level":2,"About":"Faint: Summon two random 14/16 pets from tier 3 up front for you and the opponent."},{"Level":3,"About":"Faint: Summon three random 14/16 pets from tier 3 up front for you and the opponent."}],"Id":"655","Name":"Kappa","NameId":"Kappa","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Friend faints: Transfer all friendly mana + 2 to nearest friend ahead."},{"Level":2,"About":"Friend faints: Transfer all friendly mana + 4 to nearest friend ahead."},{"Level":3,"About":"Friend faints: Transfer all friendly mana + 6 to nearest friend ahead."}],"Id":"354","Name":"Kitsune","NameId":"Kitsune","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it +1 attack and +2 health once. Permanent if it jumped."},{"Level":2,"About":"Before friend attacks: Give it +2 attack and +4 health once. Permanent if it jumped."},{"Level":3,"About":"Before friend attacks: Give it +3 attack and +6 health once. Permanent if it jumped."}],"Id":"640","Name":"Loveland Frogman","NameId":"LovelandFrogman","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend mana to remove 1 attack and health per mana from one random enemy."},{"Level":2,"About":"Faint: Spend mana to remove 1 attack and health per mana from two random enemies."},{"Level":3,"About":"Faint: Spend mana to remove 1 attack and health per mana from three random enemies."}],"Id":"808","Name":"Lusca","NameId":"Lusca","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 12/12 Orangutan with the same food perk as this."},{"Level":2,"About":"Start of battle: Summon one 24/24 Orangutan with the same food perk as this."},{"Level":3,"About":"Start of battle: Summon one 36/36 Orangutan with the same food perk as this."}],"Id":"238","Name":"Macaque","NameId":"Macaque","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Convert trumpets into double mana and spread it evenly to friends."},{"Level":2,"About":"Faint: Convert trumpets into triple mana and spread it evenly to friends."},{"Level":3,"About":"Faint: Convert trumpets into quadruple mana and spread it evenly to friends."}],"Id":"556","Name":"Maltese","NameId":"Maltese","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Mana"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it Melon. Works on one friend per turn."},{"Level":2,"About":"Before friend attacks: Give it Melon. Works on two different friends per turn."},{"Level":3,"About":"Before friend attacks: Give it Melon. Works on three different friends per turn."}],"Id":"532","Name":"Marine Iguana","NameId":"MarineIguana","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give front-most friendly pet +2 attack and +2 health."},{"Level":2,"About":"End turn: Give front-most friendly pet +4 attack and +4 health."},{"Level":3,"About":"End turn: Give front-most friendly pet +6 attack and +6 health."}],"Id":"46","Name":"Monkey","NameId":"Monkey","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Unfreeze shop and give one random friend +3 health for each tier 1 shop pet."},{"Level":2,"About":"End turn: Unfreeze shop and give one random friend +6 health for each tier 1 shop pet."},{"Level":3,"About":"End turn: Unfreeze shop and give one random friend +9 health for each tier 1 shop pet."}],"Id":"202","Name":"Moose","NameId":"Moose","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Friendly toy broke: Give adjacent friends +2 attack and +3 health."},{"Level":2,"About":"Friendly toy broke: Give adjacent friends +4 attack and +6 health."},{"Level":3,"About":"Friendly toy broke: Give adjacent friends +6 attack and +9 health."}],"Id":"242","Name":"Mosasaurus","NameId":"Mosasaurus","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend mana to gain 1 trumpet for each mana."},{"Level":2,"About":"Faint: Spend mana to gain 2 trumpets for each mana."},{"Level":3,"About":"Faint: Spend mana to gain 3 trumpets for each mana."}],"Id":"784","Name":"Namazu","NameId":"Namazu","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Trumpets"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 Boat. If it\'s your first Boat this battle, give it +1 and +1 for each roll."},{"Level":2,"About":"Faint: Summon one 6/6 Boat. If it\'s your first Boat this battle, give it +2 and +2 for each roll."},{"Level":3,"About":"Faint: Summon one 9/9 Boat. If it\'s your first Boat this battle, give it +3 and +3 for each roll."}],"Id":"363","Name":"Nessie","NameId":"Nessie","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"614","Name":"Nessie?","NameId":"FakeNessie","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Takes 4 less damage. Works 3 times per turn."},{"Level":2,"About":"Takes 8 less damage. Works 3 times per turn."},{"Level":3,"About":"Takes 12 less damage. Works 3 times per turn."}],"Id":"657","Name":"Nurikabe","NameId":"Nurikabe","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to one random enemy."},{"Level":2,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to two random enemies."},{"Level":3,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to three random enemies."}],"Id":"276","Name":"Nurse Shark","NameId":"NurseShark","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +8 trumpets."},{"Level":2,"About":"Faint: Gain +16 trumpets."},{"Level":3,"About":"Faint: Gain +24 trumpets."}],"Id":"246","Name":"Nyala","NameId":"Nyala","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Summon one Mantis with 40% attack and health of this."},{"Level":2,"About":"Start of battle: Summon one Mantis with 80% attack and health of this."},{"Level":3,"About":"Start of battle: Summon one Mantis with 120% attack and health of this."}],"Id":"557","Name":"Orchid Mantis","NameId":"OrchidMantis","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +4 attack and +4 health for each friend that sells for at least 3 gold."},{"Level":2,"About":"Start of battle: Gain +8 attack and +8 health for each friend that sells for at least 3 gold."},{"Level":3,"About":"Start of battle: Gain +12 attack and +12 health for each friend that sells for at least 3 gold."}],"Id":"801","Name":"Pacific Fanfish","NameId":"PacificFanfish","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give White Okra perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give White Okra perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give White Okra perk to the three nearest friends behind."}],"Id":"423","Name":"Painted Terrapin","NameId":"PaintedTerrapin","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 10 damage twice or ailment once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Perks are two times stronger on this in battle."},{"Level":2,"About":"Perks are three times stronger on this in battle."},{"Level":3,"About":"Perks are four times stronger on this in battle."}],"Id":"250","Name":"Panther","NameId":"Panther","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Swallow one Strawberry friend ahead and turn it into a Salmon on faint."},{"Level":2,"About":"Start of battle: Swallow two Strawberry friends ahead and turn them into Salmons on faint."},{"Level":3,"About":"Start of battle: Swallow three Strawberry friends ahead and turn them into Salmons on faint."}],"Id":"129","Name":"Pelican","NameId":"Pelican","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Summon"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Spend 4 mana to gain +3 gold next turn."},{"Level":2,"About":"Faint: Spend 4 mana to gain +6 gold next turn."},{"Level":3,"About":"Faint: Spend 4 mana to gain +9 gold next turn."}],"Id":"619","Name":"Pixiu","NameId":"Pixiu","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of turn: Give one random frozen shop pet +4 attack and +4 health."},{"Level":2,"About":"Start of turn: Give one random frozen shop pet +8 attack and +8 health."},{"Level":3,"About":"Start of turn: Give one random frozen shop pet +12 attack and +12 health."}],"Id":"108","Name":"Polar Bear","NameId":"PolarBear","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Before attack: Steal food perk from target. Works 1 time per battle."},{"Level":2,"About":"Before attack: Steal food perk from target. Works 2 times per battle."},{"Level":3,"About":"Before attack: Steal food perk from target. Works 3 times per battle."}],"Id":"158","Name":"Raccoon","NameId":"Racoon","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Make the last enemy Crisp."},{"Level":2,"About":"Start of battle: Make the two last enemies Crisp."},{"Level":3,"About":"Start of battle: Make the three last enemies Crisp."}],"Id":"368","Name":"Red Dragon","NameId":"RedDragon","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":["Ailments"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."},{"Level":2,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."},{"Level":3,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."}],"Id":"428","Name":"Red Panda","NameId":"RedPanda","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Knock out: Deal 4 damage to the first enemy. Double against tier 1 pets."},{"Level":2,"About":"Knock out: Deal 8 damage to the first enemy. Double against tier 1 pets."},{"Level":3,"About":"Knock out: Deal 12 damage to the first enemy. Double against tier 1 pets."}],"Id":"55","Name":"Rhino","NameId":"Rhino","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one Chick with 1 health and 50% attack of this."},{"Level":2,"About":"Faint: Summon two Chicks with 1 health and 50% attack of this."},{"Level":3,"About":"Faint: Summon three Chicks with 1 health and 50% attack of this."}],"Id":"63","Name":"Rooster","NameId":"Rooster","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Summoned: Deal 5 damage to one random enemy. Repeat for every 25 health this has."},{"Level":2,"About":"Summoned: Deal 10 damage to one random enemy. Repeat for every 25 health this has."},{"Level":3,"About":"Summoned: Deal 15 damage to one random enemy. Repeat for every 25 health this has."}],"Id":"562","Name":"Salmon","NameId":"Salmon","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the two front-most friends AND enemies +2 experience."},{"Level":2,"About":"Start of battle: Give the two front-most friends AND enemies +4 experience."},{"Level":3,"About":"Start of battle: Give the two front-most friends AND enemies +6 experience."}],"Id":"370","Name":"Salmon of Knowledge","NameId":"SalmonofWisdom","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Summoned: Gain Peanut perk."},{"Level":2,"About":"Summoned: Gain Peanut perk."},{"Level":3,"About":"Summoned: Gain Peanut perk."}],"Id":"65","Name":"Scorpion","NameId":"Scorpion","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make one random enemy Tasty."},{"Level":2,"About":"Start of battle: Make two random enemies Tasty."},{"Level":3,"About":"Start of battle: Make three random enemies Tasty."}],"Id":"564","Name":"Sea Cucumber","NameId":"SeaCucumber","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Faint: Give one random enemy permanent +2 attack and +2 health.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Eats food: Give three random friends +1 attack."},{"Level":2,"About":"Eats food: Give three random friends +2 attack."},{"Level":3,"About":"Eats food: Give three random friends +3 attack."}],"Id":"66","Name":"Seal","NameId":"Seal","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Two friends faint: Give the nearest friend ahead +3 attack and +4 health."},{"Level":2,"About":"Two friends faint: Give the nearest friend ahead +6 attack and +8 health."},{"Level":3,"About":"Two friends faint: Give the nearest friend ahead +9 attack and +12 health."}],"Id":"259","Name":"Secretary Bird","NameId":"SecretaryBird","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend faints: Gain +2 attack and +2 health."},{"Level":2,"About":"Friend faints: Gain +4 attack and +4 health."},{"Level":3,"About":"Friend faints: Gain +6 attack and +6 health."}],"Id":"69","Name":"Shark","NameId":"Shark","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Replace the nearest Strawberry ahead with +4 attack and +4 health."},{"Level":2,"About":"Start of turn: Replace the nearest Strawberry ahead with +8 attack and +8 health."},{"Level":3,"About":"Start of turn: Replace the nearest Strawberry ahead with +12 attack and +12 health."}],"Id":"134","Name":"Shoebill","NameId":"Shoebill","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Give three random friends with no food perks +1 attack and +1 health."},{"Level":2,"About":"End turn: Give three random friends with no food perks +2 attack and +2 health."},{"Level":3,"About":"End turn: Give three random friends with no food perks +3 attack and +3 health."}],"Id":"146","Name":"Siberian Husky","NameId":"SiberianHusky","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain +1 gold on next turn. Works 3 times per battle."},{"Level":2,"About":"Before attack: Gain +2 gold on next turn. Works 3 times per battle."},{"Level":3,"About":"Before attack: Gain +3 gold on next turn. Works 3 times per battle."}],"Id":"261","Name":"Silver Fox","NameId":"SilverFox","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Skewer perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Skewer perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Skewer perk to the three nearest friends behind."}],"Id":"277","Name":"Snapping Turtle","NameId":"SnappingJawTurtle","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack second and third enemy for 3 damage.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Gain +5 attack and +5 health and jump-attack one random enemy."},{"Level":2,"About":"Start of battle: Gain +10 attack and +10 health and jump-attack one random enemy."},{"Level":3,"About":"Start of battle: Gain +15 attack and +15 health and jump-attack one random enemy."}],"Id":"716","Name":"Snow Leopard","NameId":"SnowLeopard","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"],"Random":true},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Level 3 friend sold: Give friends +1 attack and +1 health. Triple if sold pet had at least 10 attack."},{"Level":2,"About":"Level 3 friend sold: Give friends +2 attack and +2 health. Triple if sold pet had at least 10 attack."},{"Level":3,"About":"Level 3 friend sold: Give friends +3 attack and +3 health. Triple if sold pet had at least 10 attack."}],"Id":"153","Name":"Starfish","NameId":"Starfish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Sting Ray toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Sting Ray toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Sting Ray toy."}],"Id":"178","Name":"Sting Ray","NameId":"Stingray","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal attack damage directly back to whoever knocked this out."},{"Level":2,"About":"Faint: Deal double attack damage directly back to whoever knocked this out."},{"Level":3,"About":"Faint: Deal triple attack damage directly back to whoever knocked this out."}],"Id":"278","Name":"Stonefish","NameId":"Stonefish","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":6,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Deal 100% attack damage to the most healthy enemy and itself."},{"Level":2,"About":"Start of battle: Deal 200% attack damage to the most healthy enemy and itself."},{"Level":3,"About":"Start of battle: Deal 300% attack damage to the most healthy enemy and itself."}],"Id":"119","Name":"Swordfish","NameId":"SwordFish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Give friends +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Give friends +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Give friends +3 attack and +3 health. Works 3 times per turn."}],"Id":"436","Name":"Taita Thrush","NameId":"TaitaThrush","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":10,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 health from all enemies. Repeat for every 10 attack this has."},{"Level":2,"About":"Start of battle: Remove 2 health from all enemies. Repeat for every 10 attack this has."},{"Level":3,"About":"Start of battle: Remove 3 health from all enemies. Repeat for every 10 attack this has."}],"Id":"569","Name":"Tarantula Hawk","NameId":"TarantulaHawk","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 25% of all stats and divide them out. Socialism!"},{"Level":2,"About":"Start of battle: Remove 50% of all stats and divide them out. Socialism!"},{"Level":3,"About":"Start of battle: Remove 75% of all stats and divide them out. Socialism!"}],"Id":"812","Name":"Tarasque","NameId":"Tarasque","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Give one random friend +3 attack and +3 health."},{"Level":2,"About":"Hurt: Give one random friend +6 attack and +6 health."},{"Level":3,"About":"Hurt: Give one random friend +9 attack and +9 health."}],"Id":"142","Name":"Triceratops","NameId":"Triceratops","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +3 attack and +1 health."},{"Level":2,"About":"Friend summoned: Give it +6 attack and +2 health."},{"Level":3,"About":"Friend summoned: Give it +9 attack and +3 health."}],"Id":"79","Name":"Turkey","NameId":"Turkey","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Enemy gained ailment: Deal 4 damage to it and gain damage as health. Works 2 times per battle."},{"Level":2,"About":"Enemy gained ailment: Deal 8 damage to it and gain damage as health. Works 2 times per battle."},{"Level":3,"About":"Enemy gained ailment: Deal 12 damage to it and gain damage as health. Works 2 times per battle."}],"Id":"381","Name":"Vampire Bat","NameId":"VampireBat","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold.","FinePrint":"Can\'t stock itself or Anglerfish."},{"Level":2,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold, twice.","FinePrint":"Can\'t stock itself or Anglerfish."},{"Level":3,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold, thrice.","FinePrint":"Can\'t stock itself or Anglerfish."}],"Id":"573","Name":"Venus Flytrap","NameId":"VenusFlytrap","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Two friends faint: Deal 4 damage to one random enemy."},{"Level":2,"About":"Two friends faint: Deal 8 damage to one random enemy."},{"Level":3,"About":"Two friends faint: Deal 12 damage to one random enemy."}],"Id":"135","Name":"Vulture","NameId":"Vulture","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption","Summon"],"Random":true},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: If turn number is even, gain +50% attack and health. Otherwise gain 6 mana."},{"Level":2,"About":"Start of battle: If turn number is even, gain +100% attack and health. Otherwise gain 12 mana."},{"Level":3,"About":"Start of battle: If turn number is even, gain +150% attack and health. Otherwise gain 18 mana."}],"Id":"383","Name":"Werewolf","NameId":"Werewolf","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Summon three 3/2 Pigs."},{"Level":2,"About":"Faint: Summon three 6/4 Pigs."},{"Level":3,"About":"Faint: Summon three 9/6 Pigs."}],"Id":"170","Name":"Wolf","NameId":"Wolf","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Deal 1 damage to nearest two pets ahead two times. Double against enemies."},{"Level":2,"About":"Start of battle: Deal 1 damage to nearest two pets ahead four times. Double against enemies."},{"Level":3,"About":"Start of battle: Deal 1 damage to nearest two pets ahead six times. Double against enemies."}],"Id":"156","Name":"Woodpecker","NameId":"Woodpecker","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt","Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first enemy."},{"Level":2,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first two enemies."},{"Level":3,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first three enemies."}],"Id":"807","Name":"Woolly Rhino","NameId":"WoollyRhino","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Buy & Sell: Give one random friend +2 attack and +2 health."},{"Level":2,"About":"Buy & Sell: Give one random friend +4 attack and +4 health."},{"Level":3,"About":"Buy & Sell: Give one random friend +6 attack and +6 health."}],"Id":"155","Name":"Zebra","NameId":"Zebra","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +3 attack and +3 health."},{"Level":2,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +6 attack and +6 health."},{"Level":3,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +9 attack and +9 health."}],"Id":"782","Name":"Akhlut","NameId":"Akhlut","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Adjacent tier 4 or lower friends deals 3 ability damage extra."},{"Level":2,"About":"Adjacent tier 4 or lower friends deals 6 ability damage extra."},{"Level":3,"About":"Adjacent tier 4 or lower friends deals 9 ability damage extra."}],"Id":"535","Name":"Albatross","NameId":"Albatross","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 3 times per turn."}],"Id":"194","Name":"Alpaca","NameId":"Alpaca","Tier":6,"TierMax":2147483647,"Packs":["Pack3","Custom"],"PacksRequired":["Pack3","Custom"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Friend hurt: Restore its health. Can restore up to 15 health per turn."},{"Level":2,"About":"Friend hurt: Restore its health. Can restore up to 30 health per turn."},{"Level":3,"About":"Friend hurt: Restore its health. Can restore up to 45 health per turn."}],"Id":"772","Name":"Amargasaurus","NameId":"Amargasaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +1 XP in battle for every 2 roll."},{"Level":2,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +2 XP in battle for every 2 roll."},{"Level":3,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +3 XP in battle for every 2 roll."}],"Id":"536","Name":"Ammonite","NameId":"Ammonite","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Transform","Levels","Roll"],"Random":true},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Friend transformed: Give it permanent +2 attack and +2 health. Works 2 times per turn."},{"Level":2,"About":"Friend transformed: Give it permanent +4 attack and +4 health. Works 2 times per turn."},{"Level":3,"About":"Friend transformed: Give it permanent +6 attack and +6 health. Works 2 times per turn."}],"Id":"391","Name":"Amsterdam Albatross","NameId":"AmsterdamAlbatross","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose one free pet from your last opponent to stock."},{"Level":2,"About":"Buy: Choose one free pet from your last opponent to stock twice."},{"Level":3,"About":"Buy: Choose one free pet from your last opponent to stock thrice."}],"Id":"180","Name":"Anglerfish","NameId":"Anglerfish","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make the highest attack enemy Sleepy."},{"Level":2,"About":"Start of battle: Make the two highest attack enemies Sleepy."},{"Level":3,"About":"Start of battle: Make the three highest attack enemies Sleepy."}],"Id":"603","Name":"Bakunawa","NameId":"Bakunawa","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Attack with half damage, once.","CustomArchetypes":["Ailments"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon ANY one useful <b>Start of Battle</b> pet from tier 4 and activate its ability."},{"Level":2,"About":"Faint: Summon ANY two useful <b>Start of Battle</b> pets from tier 4 and activate their abilities."},{"Level":3,"About":"Faint: Summon ANY three useful <b>Start of Battle</b> pets from tier 4 and activate their abilities."}],"Id":"397","Name":"Bay Cat","NameId":"BayCat","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":12,"Health":12,"Abilities":[{"Level":1,"About":"End turn: Gain +2 attack and +2 health. Attack and health can go up to 100!"},{"Level":2,"About":"End turn: Gain +4 attack and +4 health. Attack and health can go up to 100!"},{"Level":3,"About":"End turn: Gain +6 attack and +6 health. Attack and health can go up to 100!"}],"Id":"333","Name":"Behemoth","NameId":"Behemoth","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff","Mvp"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Spend 7 gold: Give three random friends +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Spend 7 gold: Give three random friends +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Spend 7 gold: Give three random friends +3 attack and +3 health. Works 3 times per turn."}],"Id":"181","Name":"Bird of Paradise","NameId":"ParadiseBird","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff","Gold"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Remove 4 health from one random enemy for each food this has eaten this turn."},{"Level":2,"About":"Faint: Remove 8 health from one random enemy for each food this has eaten this turn."},{"Level":3,"About":"Faint: Remove 12 health from one random enemy for each food this has eaten this turn."}],"Id":"687","Name":"Black Bear","NameId":"BlackBear","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption","Food"],"Random":true},{"Attack":5,"Health":9,"Abilities":[{"Level":1,"About":"Seven enemy attacks: Deal 30 damage to the most healthy enemy."},{"Level":2,"About":"Seven enemy attacks: Deal 30 damage to the two most healthy enemies."},{"Level":3,"About":"Seven enemy attacks: Deal 30 damage to the three most healthy enemies."}],"Id":"398","Name":"Black Rhino","NameId":"BlackRhino","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":12,"Health":12,"Abilities":[{"Level":1,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +6 attack and +6 health."}],"Id":"399","Name":"Blue Whale","NameId":"BlueWhale","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain +4 attack and +2 health."},{"Level":2,"About":"Before attack: Gain +8 attack and +4 health."},{"Level":3,"About":"Before attack: Gain +12 attack and +6 health."}],"Id":"103","Name":"Boar","NameId":"Boar","Tier":6,"TierMax":2147483647,"Packs":["Pack1","Custom"],"PacksRequired":["Pack1","Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Friend transformed: Gain its level 1 ability. Works 2 times per battle."},{"Level":2,"About":"Friend transformed: Gain its level 2 ability. Works 2 times per battle."},{"Level":3,"About":"Friend transformed: Gain its level 3 ability. Works 2 times per battle."}],"Id":"403","Name":"California Condor","NameId":"CaliforniaCondor","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Shop food gives two times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."},{"Level":2,"About":"Shop food gives three times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."},{"Level":3,"About":"Shop food gives four times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."}],"Id":"11","Name":"Cat","NameId":"Cat","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff","Food","Mvp"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Activate Buy ability on the nearest friend ahead once, or give it +4 health."},{"Level":2,"About":"Start of turn: Activate Buy ability on the nearest friend ahead twice, or give it +8 health."},{"Level":3,"About":"Start of turn: Activate Buy ability on the nearest friend ahead thrice, or give it +12 health."}],"Id":"174","Name":"Catfish","NameId":"Catfish","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":9,"Health":9,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 1 time per battle."},{"Level":2,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 2 times per battle."},{"Level":3,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 3 times per battle."}],"Id":"337","Name":"Cerberus","NameId":"Cerberus","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Summon"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend ate corncob: Give them +1 attack and +1 health."},{"Level":2,"About":"Friend ate corncob: Give them +2 attack and +2 health."},{"Level":3,"About":"Friend ate corncob: Give them +3 attack and +3 health."}],"Id":"542","Name":"Chimpanzee","NameId":"Chimpanzee","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":12,"Health":6,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Deal 20% attack damage to one random enemy."},{"Level":2,"About":"Friend ahead attacks: Deal 40% attack damage to one random enemy."},{"Level":3,"About":"Friend ahead attacks: Deal 60% attack damage to one random enemy."}],"Id":"217","Name":"Cobra","NameId":"Cobra","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption","Guard"],"Random":true},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Transform the back-most level 1 or lower enemy to rock."},{"Level":2,"About":"Start of battle: Transform the back-most level 2 or lower enemy to rock."},{"Level":3,"About":"Start of battle: Transform the back-most level 3 or lower enemy to rock."}],"Id":"340","Name":"Cockatrice","NameId":"Cockatrice","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Eats two food: Gain Coconut perk until next turn."},{"Level":2,"About":"Eats two food: Gain Coconut perk that works twice until next turn."},{"Level":3,"About":"Eats two food: Gain Coconut perk that works thrice until next turn."}],"Id":"779","Name":"Coconut Crab","NameId":"CoconutCrab","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Food"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Tier 1 friend bought: Give friends +1 attack and +1 health. Works 4 times per turn."},{"Level":2,"About":"Tier 1 friend bought: Give friends +2 attack and +2 health. Works 4 times per turn."},{"Level":3,"About":"Tier 1 friend bought: Give friends +3 attack and +3 health. Works 4 times per turn."}],"Id":"25","Name":"Dragon","NameId":"Dragon","Tier":6,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Buff","Cycle"]},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Before attack: Move ailment to the first two enemies."},{"Level":2,"About":"Before attack: Move ailment to the first two enemies with double effect."},{"Level":3,"About":"Before attack: Move ailment to the first two enemies with triple effect."}],"Id":"769","Name":"Dunkleosteus","NameId":"Dunkleosteus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three random friends +1 attack and +1 health for each battle this has fought."},{"Level":2,"About":"Faint: Give three random friends +2 attack and +2 health for each battle this has fought."},{"Level":3,"About":"Faint: Give three random friends +3 attack and +3 health for each battle this has fought."}],"Id":"781","Name":"Eagle Owl","NameId":"EagleOwl","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Gain perk: Give three friends +4 attack and +4 health until next turn. Works 1 time per turn."},{"Level":2,"About":"Gain perk: Give three friends +8 attack and +8 health until next turn. Works 1 time per turn."},{"Level":3,"About":"Gain perk: Give three friends +12 attack and +12 health until next turn. Works 1 time per turn."}],"Id":"222","Name":"Elephant Seal","NameId":"ElephantSeal","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Feed one Corncob to all friends."},{"Level":2,"About":"End turn: Feed two Corncobs to all friends."},{"Level":3,"About":"End turn: Feed three Corncobs to all friends."}],"Id":"692","Name":"Farmer Dog","NameId":"FarmerDog","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend faints: Summon one 4/4 fly in its place. Works 3 times per turn."},{"Level":2,"About":"Friend faints: Summon one 8/8 fly in its place. Works 3 times per turn."},{"Level":3,"About":"Friend faints: Summon one 12/12 fly in its place. Works 3 times per turn."}],"Id":"30","Name":"Fly","NameId":"Fly","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Friend summoned: Give 25% of attack to it until next turn."},{"Level":2,"About":"Friend summoned: Give 50% of attack to it until next turn."},{"Level":3,"About":"Friend summoned: Give 75% of attack to it until next turn."}],"Id":"230","Name":"German Shepherd","NameId":"GermanShepard","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":7,"Health":10,"Abilities":[{"Level":1,"About":"Hurt: Gain Coconut perk. Works 1 time per turn."},{"Level":2,"About":"Hurt: Gain Coconut perk. Works 2 times per turn."},{"Level":3,"About":"Hurt: Gain Coconut perk. Works 3 times per turn."}],"Id":"36","Name":"Gorilla","NameId":"Gorilla","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Hurt"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 20 damage. Works 1 time per turn."},{"Level":2,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 40 damage. Works 1 time per turn."},{"Level":3,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 60 damage. Works 1 time per turn."}],"Id":"413","Name":"Green Sea Turtle","NameId":"GreenSeaTurtle","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Five friendly attacks: Deal 6 damage to two random enemies."},{"Level":2,"About":"Five friendly attacks: Deal 12 damage to two random enemies."},{"Level":3,"About":"Five friendly attacks: Deal 18 damage to two random enemies."}],"Id":"275","Name":"Grizzly Bear","NameId":"GrizzlyBear","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption","Summon"],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of turn: If this has a level 3 friend, gain +3 gold."},{"Level":2,"About":"Start of turn: If this has a level 3 friend, gain +6 gold."},{"Level":3,"About":"Start of turn: If this has a level 3 friend, gain +9 gold."}],"Id":"123","Name":"Hammerhead Shark","NameId":"Hammershark","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Gold","Levels"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Summon one random 5/5 pet from tier 1. Works 3 times per turn."},{"Level":2,"About":"Hurt: Summon one random 10/10 pet from tier 1. Works 3 times per turn."},{"Level":3,"About":"Hurt: Summon one random 15/15 pet from tier 1. Works 3 times per turn."}],"Id":"552","Name":"Harpy Eagle","NameId":"HarpyEagle","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give three friends +2 to their lowest stat."},{"Level":2,"About":"End turn: Give three friends +4 to their lowest stat."},{"Level":3,"About":"End turn: Give three friends +6 to their lowest stat."}],"Id":"415","Name":"Helmeted Hornbill","NameId":"HelmetedHornbill","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of battle: Gain +4 trumpets and 1 more for each 3 health this has."},{"Level":2,"About":"Start of battle: Gain +8 trumpets and 2 more for each 3 health this has."},{"Level":3,"About":"Start of battle: Gain +12 trumpets and 3 more for each 3 health this has."}],"Id":"186","Name":"Highland Cow","NameId":"HighlandCow","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":9,"Abilities":[{"Level":1,"About":"Friend transformed: Transform it back and down to level 1. Works 2 times per turn."},{"Level":2,"About":"Friend transformed: Transform it back and down to level 2. Works 2 times per turn."},{"Level":3,"About":"Friend transformed: Transform it back and down to level 3. Works 2 times per turn."}],"Id":"753","Name":"Hooded Seal","NameId":"HoodedSeal","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/5 Head for each 10 attack this has."},{"Level":2,"About":"Faint: Summon one 10/10 Head for each 10 attack this has."},{"Level":3,"About":"Faint: Summon one 15/15 Head for each 10 attack this has."}],"Id":"352","Name":"Hydra","NameId":"Hydra","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack and +1 health until next turn for each level 3 pet sold this game (max 5)."},{"Level":2,"About":"Friend summoned: Give it +2 attack and +2 health until next turn for each level 3 pet sold this game (max 5)."},{"Level":3,"About":"Friend summoned: Give it +3 attack and +3 health until next turn for each level 3 pet sold this game (max 5)."}],"Id":"652","Name":"Jersey Devil","NameId":"JerseyDevil","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Give friends ahead +1 attack and +1 health and then shuffle their positions."},{"Level":2,"About":"End turn: Give friends ahead +2 attack and +2 health and then shuffle their positions."},{"Level":3,"About":"End turn: Give friends ahead +3 attack and +3 health and then shuffle their positions."}],"Id":"124","Name":"Komodo","NameId":"Komodo","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Friend faints: Deal 1 damage to the nearest friend ahead."},{"Level":2,"About":"Friend faints: Deal 1 damage to the nearest two friends ahead."},{"Level":3,"About":"Friend faints: Deal 1 damage to the nearest three friends ahead."}],"Id":"749","Name":"Lamprey","NameId":"Lamprey","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 50% attack damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 50% attack damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 50% attack damage to three random enemies."}],"Id":"41","Name":"Leopard","NameId":"Leopard","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":6,"Health":10,"Abilities":[{"Level":1,"About":"Start of turn: Summon one 6/6 Fish and give it +2 experience."},{"Level":2,"About":"Start of turn: Summon one 12/12 Fish and give it +4 experience."},{"Level":3,"About":"Start of turn: Summon one 18/18 Fish and give it +6 experience."}],"Id":"356","Name":"Leviathan","NameId":"Leviathan","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Cycle"]},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: If this is your highest tier pet, gain +50% attack and health."},{"Level":2,"About":"Start of battle: If this is your highest tier pet, gain +100% attack and health."},{"Level":3,"About":"Start of battle: If this is your highest tier pet, gain +150% attack and health."}],"Id":"42","Name":"Lion","NameId":"Lion","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Pet sold: Give future shop pets of the same tier +1 attack and +1 health. Works 2 times per turn."},{"Level":2,"About":"Pet sold: Give future shop pets of the same tier +2 attack and +2 health. Works 2 times per turn."},{"Level":3,"About":"Pet sold: Give future shop pets of the same tier +3 attack and +3 health. Works 2 times per turn."}],"Id":"114","Name":"Lioness","NameId":"Lioness","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to one random enemy. Repeat for each 10 attack this has."},{"Level":2,"About":"Faint: Deal 6 damage to one random enemy. Repeat for each 10 attack this has."},{"Level":3,"About":"Faint: Deal 9 damage to one random enemy. Repeat for each 10 attack this has."}],"Id":"201","Name":"Lionfish","NameId":"Lionfish","Tier":6,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":4,"Health":12,"Abilities":[{"Level":1,"About":"Faint: Give friends +2 attack and +2 health."},{"Level":2,"About":"Faint: Give friends +4 attack and +4 health."},{"Level":3,"About":"Faint: Give friends +6 attack and +6 health."}],"Id":"45","Name":"Mammoth","NameId":"Mammoth","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Enemy ailments are two times worse."},{"Level":2,"About":"Enemy ailments are three times worse."},{"Level":3,"About":"Enemy ailments are four times worse."}],"Id":"358","Name":"Manticore","NameId":"Manticore","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":9,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal 10 damage to the first enemy."},{"Level":2,"About":"Start of battle: Deal 10 damage to the first enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 10 damage to the first enemy. Triggers 3 times."}],"Id":"190","Name":"Mantis Shrimp","NameId":"ShrimpMantis","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Spend 4 trumpets to give friends permanent +4 attack and +4 health evenly spread."},{"Level":2,"About":"Faint: Spend 4 trumpets to give friends permanent +8 attack and +8 health evenly spread."},{"Level":3,"About":"Faint: Spend 4 trumpets to give friends permanent +12 attack and +12 health evenly spread."}],"Id":"743","Name":"Markhor","NameId":"Markhor","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"After attack: Deal 4 damage to the least healthy enemy."},{"Level":2,"About":"After attack: Deal 4 damage to the two least healthy enemies."},{"Level":3,"About":"After attack: Deal 4 damage to the three least healthy enemies."}],"Id":"712","Name":"Mimic Octopus","NameId":"MimicOctopus","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":7,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Mongoose toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Mongoose toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Mongoose toy."}],"Id":"241","Name":"Mongoose","NameId":"Mongoose","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"After attack: Deal 6 damage to one random enemy."},{"Level":2,"About":"After attack: Deal 6 damage to two random enemies."},{"Level":3,"About":"After attack: Deal 6 damage to three random enemies."}],"Id":"50","Name":"Octopus","NameId":"Octopus","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Summon one random Faint pet from ANY pack as 6/6."},{"Level":2,"About":"Faint: Summon two random Faint pets from ANY pack as 6/6."},{"Level":3,"About":"Faint: Summon three random Faint pets from ANY pack as 6/6."}],"Id":"116","Name":"Orca","NameId":"Orca","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +2 health. Works 4 times per turn."},{"Level":2,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +4 health. Works 4 times per turn."},{"Level":3,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +6 health. Works 4 times per turn."}],"Id":"125","Name":"Ostrich","NameId":"Ostrich","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll","Buff"],"Random":true},{"Attack":2,"Health":10,"Abilities":[{"Level":1,"About":"Sell: Gain +3 gold."},{"Level":2,"About":"Sell: Gain +6 gold."},{"Level":3,"About":"Sell: Gain +9 gold."}],"Id":"248","Name":"Oyster","NameId":"Oyster","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":7,"Health":6,"Abilities":[{"Level":1,"About":"Anyone jumped: Give one random friendly pet +4 attack and +4 health."},{"Level":2,"About":"Anyone jumped: Give one random friendly pet +8 attack and +8 health."},{"Level":3,"About":"Anyone jumped: Give one random friendly pet +12 attack and +12 health."}],"Id":"424","Name":"Philippine Eagle","NameId":"PhilippineEagle","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"],"Random":true},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"Faint: Make ANY three random pets Crisp, then summon one 4/4 Young Phoenix."},{"Level":2,"About":"Faint: Make ANY six random pets Crisp, then summon one 8/8 Young Phoenix."},{"Level":3,"About":"Faint: Make ANY nine random pets Crisp, then summon one 12/12 Young Phoenix."}],"Id":"366","Name":"Phoenix","NameId":"Phoenix","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Hurt: Give friends +3 attack."},{"Level":2,"About":"Hurt: Give friends +6 attack."},{"Level":3,"About":"Hurt: Give friends +9 attack."}],"Id":"118","Name":"Piranha","NameId":"Piranha","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +1 health to one friend of each tier."},{"Level":2,"About":"End turn: Give +2 attack and +2 health to one friend of each tier."},{"Level":3,"About":"End turn: Give +3 attack and +3 health to one friend of each tier."}],"Id":"96","Name":"Poodle","NameId":"Poodle","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 1 time per battle.","FinePrint":"Does not summon other Pteranodons."},{"Level":2,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 2 times per battle.","FinePrint":"Does not summon other Pteranodons."},{"Level":3,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 3 times per battle.","FinePrint":"Does not summon other Pteranodons."}],"Id":"253","Name":"Pteranodon","NameId":"Pteranodon","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friendly toy repeats its ability as level 1."},{"Level":2,"About":"Friendly toy repeats its ability as level 2."},{"Level":3,"About":"Friendly toy repeats its ability as level 3."}],"Id":"254","Name":"Puma","NameId":"Puma","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":7,"Health":9,"Abilities":[{"Level":1,"About":"Sell: Choose one level 1 king toy."},{"Level":2,"About":"Sell: Choose one level 2 king toy."},{"Level":3,"About":"Sell: Choose one level 3 king toy."}],"Id":"616","Name":"Questing Beast","NameId":"QuestingBeast","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give one random tier 3 or lower friend +2 experience."},{"Level":2,"About":"End turn: Give one random tier 3 or lower friend +2 experience. Triggers 2 times."},{"Level":3,"About":"End turn: Give one random tier 3 or lower friend +2 experience. Triggers 3 times."}],"Id":"367","Name":"Quetzalcoatl","NameId":"Quetzalcoatl","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"],"Random":true},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friend lost perk: Return its perk. Works on one friend per turn."},{"Level":2,"About":"Friend lost perk: Return its perk. Works on two different friends per turn."},{"Level":3,"About":"Friend lost perk: Return its perk. Works on three different friends per turn."}],"Id":"561","Name":"Real Velociraptor","NameId":"RealVelociraptor","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":9,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain Melon perk. Works 1 time per battle."},{"Level":2,"About":"Before attack: Gain Melon perk. Works 2 times per battle."},{"Level":3,"About":"Before attack: Gain Melon perk. Works 3 times per battle."}],"Id":"205","Name":"Reindeer","NameId":"Reindeer","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +12 trumpets. Works 1 time per battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +24 trumpets. Works 1 time per battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +36 trumpets. Works 1 time per battle."}],"Id":"533","Name":"Rockhopper Penguin","NameId":"SouthernRockhopperPenguin","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard","Trumpets"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one Mammoth with +2 attack and +3 health for each time this was hurt."},{"Level":2,"About":"Faint: Summon two Mammoths with +2 attack and +3 health for each time this was hurt."},{"Level":3,"About":"Faint: Summon three Mammoths with +2 attack and +3 health for each time this was hurt."}],"Id":"148","Name":"Sabertooth Tiger","NameId":"SabertoothTiger","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon","Hurt"]},{"Attack":4,"Health":12,"Abilities":[{"Level":1,"About":"Friendly gained perk: Gain +1 gold next turn. Works 3 times per turn."},{"Level":2,"About":"Friendly gained perk: Gain +2 gold next turn. Works 3 times per turn."},{"Level":3,"About":"Friendly gained perk: Gain +3 gold next turn. Works 3 times per turn."}],"Id":"98","Name":"Sauropod","NameId":"Sauropod","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Gold","Perks"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"This pet\'s mana damage hits the most healthy enemy and one extra enemy."},{"Level":2,"About":"This pet\'s mana damage hits the most healthy enemy and two extra enemies."},{"Level":3,"About":"This pet\'s mana damage hits the most healthy enemy and three extra enemies."}],"Id":"372","Name":"Sea Serpent","NameId":"SeaSerpent","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Disruption"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of battle: Transform two friends behind into ANY useful level 1 <b>Faint</b> pets from tier 6."},{"Level":2,"About":"Start of battle: Transform two friends behind into ANY useful level 2 <b>Faint</b> pets from tier 6."},{"Level":3,"About":"Start of battle: Transform two friends behind into ANY useful level 3 <b>Faint</b> pets from tier 6."}],"Id":"432","Name":"Silky Sifaka","NameId":"SilkySifaka","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":8,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +1 mana for each 2 attack this has."},{"Level":2,"About":"Start of battle: Give the two front-most friends +1 mana for each 2 attack this has."},{"Level":3,"About":"Start of battle: Give the three front-most friends +1 mana for each 2 attack this has."}],"Id":"606","Name":"Sleipnir","NameId":"Sleipnir","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies."},{"Level":2,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies. Triggers 2 times."},{"Level":3,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies. Triggers 3 times."}],"Id":"773","Name":"Small One","NameId":"BabyCthulhu","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Deal 5 damage to one random enemy. Works 5 times per battle."},{"Level":2,"About":"Friend ahead attacks: Deal 10 damage to one random enemy. Works 5 times per battle."},{"Level":3,"About":"Friend ahead attacks: Deal 15 damage to one random enemy. Works 5 times per battle."}],"Id":"73","Name":"Snake","NameId":"Snake","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Guard"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend faints: Give one random friend +2 attack and +3 health."},{"Level":2,"About":"Friend faints: Give one random friend +4 attack and +6 health."},{"Level":3,"About":"Friend faints: Give one random friend +6 attack and +9 health."}],"Id":"143","Name":"Spinosaurus","NameId":"Spinosaurus","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon","Mvp"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give one perk-less friend +10 attack and +10 health."},{"Level":2,"About":"Start of battle: Give one perk-less friend +20 attack and +20 health."},{"Level":3,"About":"Start of battle: Give one perk-less friend +30 attack and +30 health."}],"Id":"144","Name":"Stegosaurus","NameId":"Stegosaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":9,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Jump-attack the opposite enemy."},{"Level":2,"About":"Start of battle: Jump-attack the opposite enemy and deal 6 damage to adjacent enemies."},{"Level":3,"About":"Start of battle: Jump-attack the opposite enemy and deal 12 damage to adjacent enemies."}],"Id":"434","Name":"Sumatran Tiger","NameId":"SumatranTiger","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":4,"Health":10,"Abilities":[{"Level":1,"About":"Start of battle: If turn number is odd, deal 4 damage to ALL pets ahead."},{"Level":2,"About":"Start of battle: If turn number is odd, deal 8 damage to ALL pets ahead."},{"Level":3,"About":"Start of battle: If turn number is odd, deal 12 damage to ALL pets ahead."}],"Id":"568","Name":"Sunfish","NameId":"Sunfish","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 10/10 level 1 copy of the back-most friend."},{"Level":2,"About":"Start of battle: Summon one 20/20 level 2 copy of the back-most friend."},{"Level":3,"About":"Start of battle: Summon one 30/30 level 3 copy of the back-most friend."}],"Id":"208","Name":"Tapir","NameId":"Tapir","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Friend level-up: Give friends +1 attack and +1 health."},{"Level":2,"About":"Friend level-up: Give friends +2 attack and +2 health."},{"Level":3,"About":"Friend level-up: Give friends +3 attack and +3 health."}],"Id":"636","Name":"Team Spirit","NameId":"TeamSpirit","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give Peanut perk to the front-most Strawberry friend."},{"Level":2,"About":"Start of battle: Give Peanut perk to the two front-most Strawberry friends."},{"Level":3,"About":"Start of battle: Give Peanut perk to the three front-most Strawberry friends."}],"Id":"806","Name":"Terror Bird","NameId":"TerrorBird","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":["Strawberry"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to the front-most Strawberry friend."},{"Level":2,"About":"Start of battle: Give Coconut perk to the two front-most Strawberry friends."},{"Level":3,"About":"Start of battle: Give Coconut perk to the three front-most Strawberry friends."}],"Id":"759","Name":"Therizinosaurus","NameId":"Therizinosaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Strawberry"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"The friend ahead repeats their ability in battle as if they were level 1."},{"Level":2,"About":"The friend ahead repeats their ability in battle as if they were level 2."},{"Level":3,"About":"The friend ahead repeats their ability in battle as if they were level 3."}],"Id":"77","Name":"Tiger","NameId":"Tiger","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Mvp","Mvp"]},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of turn: Give two tier 5 friends or higher +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Give two tier 5 friends or higher +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Give two tier 5 friends or higher +6 attack and +6 health."}],"Id":"78","Name":"Tyrannosaurus","NameId":"Tyrannosaurus","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +2 health to each friend with a different ailment."},{"Level":2,"About":"End turn: Give +2 attack and +4 health to each friend with a different ailment."},{"Level":3,"About":"End turn: Give +3 attack and +6 health to each friend with a different ailment."}],"Id":"711","Name":"Vampire Squid","NameId":"VampireSquid","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +2 attack and +3 health."},{"Level":2,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +4 attack and +6 health."},{"Level":3,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +6 attack and +9 health."}],"Id":"115","Name":"Velociraptor","NameId":"Velociraptor","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Peanut Butter perk to one random friend."},{"Level":2,"About":"Faint: Give Peanut Butter perk to two random friends."},{"Level":3,"About":"Faint: Give Peanut Butter perk to three random friends."}],"Id":"209","Name":"Walrus","NameId":"Walrus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":["Perks"],"Random":true},{"Attack":9,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give random friends +1 attack and +1 health for every 3 attack this has."},{"Level":2,"About":"Faint: Give random friends +2 attack and +2 health for every 3 attack this has."},{"Level":3,"About":"Faint: Give random friends +3 attack and +3 health for every 3 attack this has."}],"Id":"266","Name":"Warthog","NameId":"Warthog","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend behind +3 experience."},{"Level":2,"About":"Start of battle: Give the two nearest friends behind +3 experience."},{"Level":3,"About":"Start of battle: Give the three nearest friends behind +3 experience."}],"Id":"206","Name":"White Tiger","NameId":"WhiteTiger","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":8,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 1 time per battle."},{"Level":2,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 2 times per battle."},{"Level":3,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 3 times per battle."}],"Id":"268","Name":"Wildebeest","NameId":"Wildebeest","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give the nearest two friends ahead 5 mana."},{"Level":2,"About":"End turn: Give the nearest two friends ahead 10 mana."},{"Level":3,"About":"End turn: Give the nearest two friends ahead 15 mana."}],"Id":"633","Name":"Winter Spirit","NameId":"ForestSpirit","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Four friends hurt: Remove 3 health from all enemies."},{"Level":2,"About":"Four friends hurt: Remove 6 health from all enemies."},{"Level":3,"About":"Four friends hurt: Remove 9 health from all enemies."}],"Id":"269","Name":"Wolverine","NameId":"Wolverine","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Set attack and health of the most healthy pet from ANY team to 20."},{"Level":2,"About":"Faint: Set attack and health of the two most healthy pets from ANY team to 20."},{"Level":3,"About":"Faint: Set attack and health of the three most healthy pets from ANY team to 20."}],"Id":"766","Name":"Yellow Boxfish","NameId":"YellowBoxFish","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":9,"Abilities":[{"Level":1,"About":"Start of turn: Roll four times while freezing pet copies and tier 6 food."},{"Level":2,"About":"Start of turn: Roll eight times while freezing pet copies and tier 6 food."},{"Level":3,"About":"Start of turn: Roll twelve times while freezing pet copies and tier 6 food."}],"Id":"387","Name":"Yeti","NameId":"Yeti","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"648","Name":"Chimera Goat","NameId":"ChimeraGoat","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"650","Name":"Chimera Lion","NameId":"ChimeraLion","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"649","Name":"Chimera Snake","NameId":"ChimeraSnake","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"614","Name":"Fake Nessie","NameId":"FakeNessie","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Remove this."},{"Level":2,"About":"Start of battle: Remove this. Summoned: Remove this."},{"Level":3,"About":"Start of battle: Remove this. Summoned: Remove this."}],"Id":"823","Name":"Moby Dick","NameId":"MochaDick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Before battle: If pack has no pets/food from the tab, remove 1 XP from three random enemies."},{"Level":2,"About":"Before battle: If pack has no pets/food from the tab, remove 2 XP from three random enemies."},{"Level":3,"About":"Before battle: If pack has no pets/food from the tab, remove 3 XP from three random enemies."}],"Id":"824","Name":"Tanystropheus","NameId":"Tanystropheus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]}]')},3340(be,z,w){w.d(z,{A:()=>te});var E=w(7133),m="object"==typeof exports&&exports&&!exports.nodeType&&exports,I=m&&"object"==typeof module&&module&&!module.nodeType&&module,A=I&&I.exports===m&&E.A.process;const te=function(){try{return I&&I.require&&I.require("util").types||A&&A.binding&&A.binding("util")}catch{}}()},3446(be,z,w){w.d(z,{A:()=>A});var E=w(6080);const A=function q(c){return(0,E.A)(c,5)}},3507(be,z,w){w.d(z,{A:()=>q});var E=w(9898),m=w(4238);const q=function I(A,c){return A&&(0,E.A)(c,(0,m.A)(c),A)}},3527(be,z,w){w.d(z,{A:()=>m});const m=function E(){this.__data__=[],this.size=0}},3600(be,z,w){w.d(z,{A:()=>m});const m=function E(I){var q=[];if(null!=I)for(var A in Object(I))q.push(A);return q}},3632(be,z,w){w.d(z,{A:()=>c});var E=w(3180),m=w(6568),I=w(8308);const c=function A(te,ne){var ie=this.__data__;if(ie instanceof E.A){var ce=ie.__data__;if(!m.A||ce.length<199)return ce.push([te,ne]),this.size=++ie.size,this;ie=this.__data__=new I.A(ce)}return ie.set(te,ne),this.size=ie.size,this}},3744(be,z,w){w.d(z,{A:()=>m});const m=Array.isArray},3746(be,z,w){w.d(z,{A:()=>I});var E=w(309);const I=function m(q,A){var c=q.__data__;return(0,E.A)(A)?c["string"==typeof A?"string":"hash"]:c.map}},3811(be,z,w){w.d(z,{A:()=>q});var m=Object.prototype.toString;const q=function I(A){return m.call(A)}},4166(be,z,w){w.d(z,{A:()=>I});var E=w(336);const I=function m(q){return(0,E.A)(this.__data__,q)>-1}},4173(be,z,w){w.d(z,{A:()=>I});var E=w(3180);const I=function m(){this.__data__=new E.A,this.size=0}},4226(be,z,w){w.d(z,{A:()=>q});var E=w(5525),m=w(1860);const q=(0,E.A)(m.A,"Set")},4238(be,z,w){w.d(z,{A:()=>A});var E=w(6792),m=w(1270),I=w(1287);const A=function q(c){return(0,I.A)(c)?(0,E.A)(c,!0):(0,m.A)(c)}},4279(be,z,w){w.d(z,{c:()=>q});var E=w(7389),m=w(4385),I=w(2496);function q(A,c){return c?(0,I.V)(A,c):new E.c((0,m.v)(A))}},4314(be,z,w){w.d(z,{A:()=>I});var E=w(5152);const I=function m(q,A){var c=A?(0,E.A)(q.buffer):q.buffer;return new q.constructor(c,q.byteOffset,q.length)}},4385(be,z,w){w.d(z,{v:()=>E});const E=m=>I=>{for(let q=0,A=m.length;q<A&&!I.closed;q++)I.next(m[q]);I.complete()}},4402(be,z,w){w.d(z,{A:()=>I});var E=w(336);const I=function m(q){var A=this.__data__,c=(0,E.A)(A,q);return c<0?void 0:A[c][1]}},4421(be,z,w){w.d(z,{of:()=>q});var E=w(2234),m=w(4279),I=w(2496);function q(...A){let c=A[A.length-1];return(0,E.m)(c)?(A.pop(),(0,I.V)(A,c)):(0,m.c)(A)}},4429(be,z,w){w.d(z,{A:()=>A});var E=w(6792),m=w(2917),I=w(1287);const A=function q(c){return(0,I.A)(c)?(0,E.A)(c):(0,m.A)(c)}},4528(be,z,w){w.d(z,{A:()=>m});const m=function E(I,q){var A=-1,c=I.length;for(q||(q=Array(c));++A<c;)q[A]=I[A];return q}},4541(be,z,w){w.d(z,{A:()=>q});var A,E=w(9748),m=(A=/[^.]+$/.exec(E.A&&E.A.keys&&E.A.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"";const q=function I(A){return!!m&&m in A}},4608(be,z,w){w.d(z,{A:()=>c});var E=w(568),m=w(778),I=w(3340),q=I.A&&I.A.isTypedArray;const c=q?(0,m.A)(q):E.A},4746(be,z,w){w.d(z,{A:()=>I});var E=w(3746);const I=function m(q){return(0,E.A)(this,q).get(q)}},4787(be,z,w){w.d(z,{H:()=>it});var E=w(7389),m=w(135),I=w(1805),q=w(5722),te=w(2496),ne=w(7765),he=w(5998),ye=w(5253);function it(nt,wt){return wt?function We(nt,wt){if(null!=nt){if(function ce(nt){return nt&&"function"==typeof nt[q.s]}(nt))return function A(nt,wt){return new E.c(ot=>{const vt=new I.y;return vt.add(wt.schedule(()=>{const Ze=nt[q.s]();vt.add(Ze.subscribe({next(Gt){vt.add(wt.schedule(()=>ot.next(Gt)))},error(Gt){vt.add(wt.schedule(()=>ot.error(Gt)))},complete(){vt.add(wt.schedule(()=>ot.complete()))}}))})),vt})}(nt,wt);if((0,he.y)(nt))return function c(nt,wt){return new E.c(ot=>{const vt=new I.y;return vt.add(wt.schedule(()=>nt.then(Ze=>{vt.add(wt.schedule(()=>{ot.next(Ze),vt.add(wt.schedule(()=>ot.complete()))}))},Ze=>{vt.add(wt.schedule(()=>ot.error(Ze)))}))),vt})}(nt,wt);if((0,ye.X)(nt))return(0,te.V)(nt,wt);if(function De(nt){return nt&&"function"==typeof nt[ne.lJ]}(nt)||"string"==typeof nt)return function ie(nt,wt){if(!nt)throw new Error("Iterable cannot be null");return new E.c(ot=>{const vt=new I.y;let Ze;return vt.add(()=>{Ze&&"function"==typeof Ze.return&&Ze.return()}),vt.add(wt.schedule(()=>{Ze=nt[ne.lJ](),vt.add(wt.schedule(function(){if(ot.closed)return;let Gt,ei;try{const xt=Ze.next();Gt=xt.value,ei=xt.done}catch(xt){return void ot.error(xt)}ei?ot.complete():(ot.next(Gt),this.schedule())}))})),vt})}(nt,wt)}throw new TypeError((null!==nt&&typeof nt||nt)+" is not observable")}(nt,wt):nt instanceof E.c?nt:new E.c((0,m.i)(nt))}},4937(be,z,w){w.d(z,{s:()=>m});var E=w(7868);let m=(()=>{class I{key="sapData";constructor(){}getStorage(){return window.localStorage.getItem(this.key),window.localStorage.getItem(this.key)}setFormStorage(A){this.setStorage(A.value)}setStorage(A){if("object"==typeof A&&null!==A){const c=new Set,te=(ne,ie)=>{if("equipment"===ne&&"object"==typeof ie&&null!==ie&&"name"in ie){const ce="string"==typeof ie.name?ie.name:null;return ce?{name:ce}:null}if(!["parent","logService","abilityService","gameService","petService"].includes(ne)){if("object"==typeof ie&&null!==ie){if(c.has(ie))return;c.add(ie)}return ie}};try{const ne=JSON.stringify(A,te);window.localStorage.setItem(this.key,ne)}catch(ne){console.error("Could not stringify value for local storage",ne)}}else"string"==typeof A&&window.localStorage.setItem(this.key,A)}clearStorage(){window.localStorage.removeItem(this.key)}static \u0275fac=function(c){return new(c||I)};static \u0275prov=E.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})()},5006(be,z,w){w.d(z,{T:()=>m});var E=w(762);function m(A,c){return function(ne){if("function"!=typeof A)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ne.lift(new I(A,c))}}class I{constructor(c,te){this.project=c,this.thisArg=te}call(c,te){return te.subscribe(new q(c,this.project,this.thisArg))}}class q extends E.v{constructor(c,te,ne){super(c),this.project=te,this.count=0,this.thisArg=ne||this}_next(c){let te;try{te=this.project.call(this.thisArg,c,this.count++)}catch(ne){return void this.destination.error(ne)}this.destination.next(te)}}},5030(be,z,w){w.d(z,{A:()=>I});var E=w(3746);const I=function m(q,A){var c=(0,E.A)(this,q),te=c.size;return c.set(q,A),this.size+=c.size==te?0:1,this}},5042(be,z,w){w.d(z,{A:()=>A});var E=w(3080),m=w(2661);const A=function q(c){return(0,m.A)(c)&&"[object Set]"==(0,E.A)(c)}},5119(be,z,w){w.d(z,{Zm:()=>tn,me:()=>He,Yp:()=>Ut,MJ:()=>On,JD:()=>ii,gE:()=>Ni,j4:()=>dn,YN:()=>zd,zX:()=>ll,VZ:()=>rs,BC:()=>Ti,cb:()=>kn,vS:()=>fo,xH:()=>Ua,Q0:()=>X,X1:()=>Wc,YS:()=>vo,wz:()=>Bn,k0:()=>fe,qT:()=>ma,y7:()=>yo});var E=w(5547),m=w(7868),q=(w(467),w(5824));function he(x,M){return(0,q.KZ)(x,M?.equal)}Error,Error;var _t=w(7705),Ii=w(6494),me=w(4787),Ee=w(7389),Xe=w(7354),ft=w(5006),lt=w(1456);function mi(x,M){return new Ee.c(k=>{const H=x.length;if(0===H)return void k.complete();const re=new Array(H);let Ye=0,yt=0;for(let Xt=0;Xt<H;Xt++){const nn=(0,me.H)(x[Xt]);let Lr=!1;k.add(nn.subscribe({next:sr=>{Lr||(Lr=!0,yt++),re[Xt]=sr},error:sr=>k.error(sr),complete:()=>{Ye++,(Ye===H||!Lr)&&(yt===H&&k.next(M?M.reduce((sr,Yd,Xd)=>(sr[Yd]=re[Xd],sr),{}):re),k.complete())}}))}})}var li=w(5286);let ui=(()=>{class x{_renderer;_elementRef;onChange=k=>{};onTouched=()=>{};constructor(k,H){this._renderer=k,this._elementRef=H}setProperty(k,H){this._renderer.setProperty(this._elementRef.nativeElement,k,H)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}static \u0275fac=function(H){return new(H||x)(E.rXU(E.sFG),E.rXU(E.aKT))};static \u0275dir=E.FsC({type:x})}return x})(),wi=(()=>{class x extends ui{static \u0275fac=(()=>{let k;return function(re){return(k||(k=E.xGo(x)))(re||x)}})();static \u0275dir=E.FsC({type:x,features:[E.Vt3]})}return x})();const Pt=new m.nKC(""),rt={provide:Pt,useExisting:(0,m.Rfq)(()=>tn),multi:!0};let tn=(()=>{class x extends wi{writeValue(k){this.setProperty("checked",k)}static \u0275fac=(()=>{let k;return function(re){return(k||(k=E.xGo(x)))(re||x)}})();static \u0275dir=E.FsC({type:x,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(H,re){1&H&&E.bIt("change",function(yt){return re.onChange(yt.target.checked)})("blur",function(){return re.onTouched()})},standalone:!1,features:[E.Jv_([rt]),E.Vt3]})}return x})();const Sn={provide:Pt,useExisting:(0,m.Rfq)(()=>He),multi:!0},gt=new m.nKC("");let He=(()=>{class x extends ui{_compositionMode;_composing=!1;constructor(k,H,re){super(k,H),this._compositionMode=re,null==this._compositionMode&&(this._compositionMode=!function qi(){const x=(0,Ii.rb)()?(0,Ii.rb)().getUserAgent():"";return/android (\d+)/.test(x.toLowerCase())}())}writeValue(k){this.setProperty("value",k??"")}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}static \u0275fac=function(H){return new(H||x)(E.rXU(E.sFG),E.rXU(E.aKT),E.rXU(gt,8))};static \u0275dir=E.FsC({type:x,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(H,re){1&H&&E.bIt("input",function(yt){return re._handleInput(yt.target.value)})("blur",function(){return re.onTouched()})("compositionstart",function(){return re._compositionStart()})("compositionend",function(yt){return re._compositionEnd(yt.target.value)})},standalone:!1,features:[E.Jv_([Sn]),E.Vt3]})}return x})();function Vt(x){return null==x||0===sn(x)}function sn(x){return null==x?null:Array.isArray(x)||"string"==typeof x?x.length:x instanceof Set?x.size:null}const mt=new m.nKC(""),Ui=new m.nKC(""),Mt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class fe{static min(M){return qe(M)}static max(M){return tt(M)}static required(M){return Ce(M)}static requiredTrue(M){return function ut(x){return!0===x.value?null:{required:!0}}(M)}static email(M){return function ti(x){return Vt(x.value)||Mt.test(x.value)?null:{email:!0}}(M)}static minLength(M){return function ai(x){return M=>{const k=M.value?.length??sn(M.value);return null===k||0===k?null:k<x?{minlength:{requiredLength:x,actualLength:k}}:null}}(M)}static maxLength(M){return function Mi(x){return M=>{const k=M.value?.length??sn(M.value);return null!==k&&k>x?{maxlength:{requiredLength:x,actualLength:k}}:null}}(M)}static pattern(M){return function di(x){if(!x)return zt;let M,k;return"string"==typeof x?(k="","^"!==x.charAt(0)&&(k+="^"),k+=x,"$"!==x.charAt(x.length-1)&&(k+="$"),M=new RegExp(k)):(k=x.toString(),M=x),H=>{if(Vt(H.value))return null;const re=H.value;return M.test(re)?null:{pattern:{requiredPattern:k,actualValue:re}}}}(M)}static nullValidator(M){return null}static compose(M){return mn(M)}static composeAsync(M){return Oi(M)}}function qe(x){return M=>{if(null==M.value||null==x)return null;const k=parseFloat(M.value);return!isNaN(k)&&k<x?{min:{min:x,actual:M.value}}:null}}function tt(x){return M=>{if(null==M.value||null==x)return null;const k=parseFloat(M.value);return!isNaN(k)&&k>x?{max:{max:x,actual:M.value}}:null}}function Ce(x){return Vt(x.value)?{required:!0}:null}function zt(x){return null}function Hn(x){return null!=x}function pn(x){return(0,E.yLl)(x)?(0,me.H)(x):x}function Pn(x){let M={};return x.forEach(k=>{M=null!=k?{...M,...k}:M}),0===Object.keys(M).length?null:M}function gn(x,M){return M.map(k=>k(x))}function Wi(x){return x.map(M=>function Vi(x){return!x.validate}(M)?M:k=>M.validate(k))}function mn(x){if(!x)return null;const M=x.filter(Hn);return 0==M.length?null:function(k){return Pn(gn(k,M))}}function Jn(x){return null!=x?mn(Wi(x)):null}function Oi(x){if(!x)return null;const M=x.filter(Hn);return 0==M.length?null:function(k){return function ri(...x){if(1===x.length){const M=x[0];if((0,Xe.c)(M))return mi(M,null);if((0,lt.G)(M)&&Object.getPrototypeOf(M)===Object.prototype){const k=Object.keys(M);return mi(k.map(H=>M[H]),k)}}if("function"==typeof x[x.length-1]){const M=x.pop();return mi(x=1===x.length&&(0,Xe.c)(x[0])?x[0]:x,null).pipe((0,ft.T)(k=>M(...k)))}return mi(x,null)}(gn(k,M).map(pn)).pipe((0,ft.T)(Pn))}}function vi(x){return null!=x?Oi(Wi(x)):null}function Bi(x,M){return null===x?[M]:Array.isArray(x)?[...x,M]:[x,M]}function mr(x){return x._rawValidators}function jn(x){return x._rawAsyncValidators}function Rn(x){return x?Array.isArray(x)?x:[x]:[]}function Ln(x,M){return Array.isArray(x)?x.includes(M):x===M}function fn(x,M){const k=Rn(M);return Rn(x).forEach(re=>{Ln(k,re)||k.push(re)}),k}function rr(x,M){return Rn(M).filter(k=>!Ln(x,k))}class Ji{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=Jn(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=vi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M=void 0){this.control&&this.control.reset(M)}hasError(M,k){return!!this.control&&this.control.hasError(M,k)}getError(M,k){return this.control?this.control.getError(M,k):null}}class hi extends Ji{name;get formDirective(){return null}get path(){return null}}class Ki extends Ji{_parent=null;name=null;valueAccessor=null}class ln{_cd;constructor(M){this._cd=M}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Ti=(()=>{class x extends ln{constructor(k){super(k)}static \u0275fac=function(H){return new(H||x)(E.rXU(Ki,2))};static \u0275dir=E.FsC({type:x,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(H,re){2&H&&E.AVh("ng-untouched",re.isUntouched)("ng-touched",re.isTouched)("ng-pristine",re.isPristine)("ng-dirty",re.isDirty)("ng-valid",re.isValid)("ng-invalid",re.isInvalid)("ng-pending",re.isPending)},standalone:!1,features:[E.Vt3]})}return x})(),kn=(()=>{class x extends ln{constructor(k){super(k)}static \u0275fac=function(H){return new(H||x)(E.rXU(hi,10))};static \u0275dir=E.FsC({type:x,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(H,re){2&H&&E.AVh("ng-untouched",re.isUntouched)("ng-touched",re.isTouched)("ng-pristine",re.isPristine)("ng-dirty",re.isDirty)("ng-valid",re.isValid)("ng-invalid",re.isInvalid)("ng-pending",re.isPending)("ng-submitted",re.isSubmitted)},standalone:!1,features:[E.Vt3]})}return x})();const ae="VALID",Se="INVALID",ke="PENDING",Me="DISABLED";class Ve{}class St extends Ve{value;source;constructor(M,k){super(),this.value=M,this.source=k}}class at extends Ve{pristine;source;constructor(M,k){super(),this.pristine=M,this.source=k}}class Ai extends Ve{touched;source;constructor(M,k){super(),this.touched=M,this.source=k}}class $i extends Ve{status;source;constructor(M,k){super(),this.status=M,this.source=k}}class ci extends Ve{source;constructor(M){super(),this.source=M}}class oi extends Ve{source;constructor(M){super(),this.source=M}}function yn(x){return(Dt(x)?x.validators:x)||null}function Li(x,M){return(Dt(M)?M.asyncValidators:x)||null}function Dt(x){return null!=x&&!Array.isArray(x)&&"object"==typeof x}function _i(x,M,k){const H=x.controls;if(!(M?Object.keys(H):H).length)throw new m.buA(1e3,"");if(!H[k])throw new m.buA(1001,"")}function Ei(x,M,k){x._forEachChild((H,re)=>{if(void 0===k[re])throw new m.buA(1002,"")})}class Rt{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(M,k){this._assignValidators(M),this._assignAsyncValidators(k)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get status(){return(0,m.O8t)(this.statusReactive)}set status(M){(0,m.O8t)(()=>this.statusReactive.set(M))}_status=he(()=>this.statusReactive());statusReactive=(0,m.vPA)(void 0);get valid(){return this.status===ae}get invalid(){return this.status===Se}get pending(){return this.status==ke}get disabled(){return this.status===Me}get enabled(){return this.status!==Me}errors;get pristine(){return(0,m.O8t)(this.pristineReactive)}set pristine(M){(0,m.O8t)(()=>this.pristineReactive.set(M))}_pristine=he(()=>this.pristineReactive());pristineReactive=(0,m.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,m.O8t)(this.touchedReactive)}set touched(M){(0,m.O8t)(()=>this.touchedReactive.set(M))}_touched=he(()=>this.touchedReactive());touchedReactive=(0,m.vPA)(!1);get untouched(){return!this.touched}_events=new li.B7;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._assignValidators(M)}setAsyncValidators(M){this._assignAsyncValidators(M)}addValidators(M){this.setValidators(fn(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(fn(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(rr(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(rr(M,this._rawAsyncValidators))}hasValidator(M){return Ln(this._rawValidators,M)}hasAsyncValidator(M){return Ln(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){const k=!1===this.touched;this.touched=!0;const H=M.sourceControl??this;this._parent&&!M.onlySelf&&this._parent.markAsTouched({...M,sourceControl:H}),k&&!1!==M.emitEvent&&this._events.next(new Ai(!0,H))}markAllAsDirty(M={}){this.markAsDirty({onlySelf:!0,emitEvent:M.emitEvent,sourceControl:this}),this._forEachChild(k=>k.markAllAsDirty(M))}markAllAsTouched(M={}){this.markAsTouched({onlySelf:!0,emitEvent:M.emitEvent,sourceControl:this}),this._forEachChild(k=>k.markAllAsTouched(M))}markAsUntouched(M={}){const k=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const H=M.sourceControl??this;this._forEachChild(re=>{re.markAsUntouched({onlySelf:!0,emitEvent:M.emitEvent,sourceControl:H})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M,H),k&&!1!==M.emitEvent&&this._events.next(new Ai(!1,H))}markAsDirty(M={}){const k=!0===this.pristine;this.pristine=!1;const H=M.sourceControl??this;this._parent&&!M.onlySelf&&this._parent.markAsDirty({...M,sourceControl:H}),k&&!1!==M.emitEvent&&this._events.next(new at(!1,H))}markAsPristine(M={}){const k=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const H=M.sourceControl??this;this._forEachChild(re=>{re.markAsPristine({onlySelf:!0,emitEvent:M.emitEvent})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M,H),k&&!1!==M.emitEvent&&this._events.next(new at(!0,H))}markAsPending(M={}){this.status=ke;const k=M.sourceControl??this;!1!==M.emitEvent&&(this._events.next(new $i(this.status,k)),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.markAsPending({...M,sourceControl:k})}disable(M={}){const k=this._parentMarkedDirty(M.onlySelf);this.status=Me,this.errors=null,this._forEachChild(re=>{re.disable({...M,onlySelf:!0})}),this._updateValue();const H=M.sourceControl??this;!1!==M.emitEvent&&(this._events.next(new St(this.value,H)),this._events.next(new $i(this.status,H)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...M,skipPristineCheck:k},this),this._onDisabledChange.forEach(re=>re(!0))}enable(M={}){const k=this._parentMarkedDirty(M.onlySelf);this.status=ae,this._forEachChild(H=>{H.enable({...M,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors({...M,skipPristineCheck:k},this),this._onDisabledChange.forEach(H=>H(!1))}_updateAncestors(M,k){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine({},k),this._parent._updateTouched({},k))}setParent(M){this._parent=M}getRawValue(){return this.value}updateValueAndValidity(M={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const H=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ae||this.status===ke)&&this._runAsyncValidator(H,M.emitEvent)}const k=M.sourceControl??this;!1!==M.emitEvent&&(this._events.next(new St(this.value,k)),this._events.next(new $i(this.status,k)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity({...M,sourceControl:k})}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Me:ae}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M,k){if(this.asyncValidator){this.status=ke,this._hasOwnPendingAsyncValidator={emitEvent:!1!==k,shouldHaveEmitted:!1!==M};const H=pn(this.asyncValidator(this));this._asyncValidationSubscription=H.subscribe(re=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(re,{emitEvent:k,shouldHaveEmitted:M})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const M=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,M}return!1}setErrors(M,k={}){this.errors=M,this._updateControlsErrors(!1!==k.emitEvent,this,k.shouldHaveEmitted)}get(M){let k=M;return null==k||(Array.isArray(k)||(k=k.split(".")),0===k.length)?null:k.reduce((H,re)=>H&&H._find(re),this)}getError(M,k){const H=k?this.get(k):this;return H&&H.errors?H.errors[M]:null}hasError(M,k){return!!this.getError(M,k)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M,k,H){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),(M||H)&&this._events.next(new $i(this.status,k)),this._parent&&this._parent._updateControlsErrors(M,k,H)}_initObservables(){this.valueChanges=new m.bkB,this.statusChanges=new m.bkB}_calculateStatus(){return this._allControlsDisabled()?Me:this.errors?Se:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ke)?ke:this._anyControlsHaveStatus(Se)?Se:ae}_anyControlsHaveStatus(M){return this._anyControls(k=>k.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M,k){const H=!this._anyControlsDirty(),re=this.pristine!==H;this.pristine=H,this._parent&&!M.onlySelf&&this._parent._updatePristine(M,k),re&&this._events.next(new at(this.pristine,k))}_updateTouched(M={},k){this.touched=this._anyControlsTouched(),this._events.next(new Ai(this.touched,k)),this._parent&&!M.onlySelf&&this._parent._updateTouched(M,k)}_onDisabledChange=[];_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){Dt(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(M){return null}_assignValidators(M){this._rawValidators=Array.isArray(M)?M.slice():M,this._composedValidatorFn=function Jt(x){return Array.isArray(x)?Jn(x):x||null}(this._rawValidators)}_assignAsyncValidators(M){this._rawAsyncValidators=Array.isArray(M)?M.slice():M,this._composedAsyncValidatorFn=function kt(x){return Array.isArray(x)?vi(x):x||null}(this._rawAsyncValidators)}}class Ni extends Rt{constructor(M,k,H){super(yn(k),Li(H,k)),this.controls=M,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(M,k){return this.controls[M]?this.controls[M]:(this.controls[M]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl(M,k,H={}){this.registerControl(M,k),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}removeControl(M,k={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl(M,k,H={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],k&&this.registerControl(M,k),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}contains(M){return this.controls.hasOwnProperty(M)&&this.controls[M].enabled}setValue(M,k={}){Ei(this,0,M),Object.keys(M).forEach(H=>{_i(this,!0,H),this.controls[H].setValue(M[H],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(M,k={}){null!=M&&(Object.keys(M).forEach(H=>{const re=this.controls[H];re&&re.patchValue(M[H],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(M={},k={}){this._forEachChild((H,re)=>{H.reset(M?M[re]:null,{...k,onlySelf:!0})}),this._updatePristine(k,this),this._updateTouched(k,this),this.updateValueAndValidity(k),!1!==k?.emitEvent&&this._events.next(new oi(this))}getRawValue(){return this._reduceChildren({},(M,k,H)=>(M[H]=k.getRawValue(),M))}_syncPendingControls(){let M=this._reduceChildren(!1,(k,H)=>!!H._syncPendingControls()||k);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_forEachChild(M){Object.keys(this.controls).forEach(k=>{const H=this.controls[k];H&&M(H,k)})}_setUpControls(){this._forEachChild(M=>{M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(M){for(const[k,H]of Object.entries(this.controls))if(this.contains(k)&&M(H))return!0;return!1}_reduceValue(){return this._reduceChildren({},(k,H,re)=>((H.enabled||this.disabled)&&(k[re]=H.value),k))}_reduceChildren(M,k){let H=M;return this._forEachChild((re,Ye)=>{H=k(H,re,Ye)}),H}_allControlsDisabled(){for(const M of Object.keys(this.controls))if(this.controls[M].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(M){return this.controls.hasOwnProperty(M)?this.controls[M]:null}}const En=new m.nKC("",{factory:()=>cn}),cn="always";function yr(x,M){return[...M.path,x]}function ar(x,M,k=cn){tr(x,M),M.valueAccessor.writeValue(x.value),(x.disabled||"always"===k)&&M.valueAccessor.setDisabledState?.(x.disabled),function Ga(x,M){M.valueAccessor.registerOnChange(k=>{x._pendingValue=k,x._pendingChange=!0,x._pendingDirty=!0,"change"===x.updateOn&&Q(x,M)})}(x,M),function j(x,M){const k=(H,re)=>{M.valueAccessor.writeValue(H),re&&M.viewToModelUpdate(H)};x.registerOnChange(k),M._registerOnDestroy(()=>{x._unregisterOnChange(k)})}(x,M),function O(x,M){M.valueAccessor.registerOnTouched(()=>{x._pendingTouched=!0,"blur"===x.updateOn&&x._pendingChange&&Q(x,M),"submit"!==x.updateOn&&x.markAsTouched()})}(x,M),function Yr(x,M){if(M.valueAccessor.setDisabledState){const k=H=>{M.valueAccessor.setDisabledState(H)};x.registerOnDisabledChange(k),M._registerOnDestroy(()=>{x._unregisterOnDisabledChange(k)})}}(x,M)}function Cn(x,M,k=!0){const H=()=>{};M.valueAccessor&&(M.valueAccessor.registerOnChange(H),M.valueAccessor.registerOnTouched(H)),Fn(x,M),x&&(M._invokeOnDestroyCallbacks(),x._registerOnCollectionChange(()=>{}))}function xn(x,M){x.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange(M)})}function tr(x,M){const k=mr(x);null!==M.validator?x.setValidators(Bi(k,M.validator)):"function"==typeof k&&x.setValidators([k]);const H=jn(x);null!==M.asyncValidator?x.setAsyncValidators(Bi(H,M.asyncValidator)):"function"==typeof H&&x.setAsyncValidators([H]);const re=()=>x.updateValueAndValidity();xn(M._rawValidators,re),xn(M._rawAsyncValidators,re)}function Fn(x,M){let k=!1;if(null!==x){if(null!==M.validator){const re=mr(x);if(Array.isArray(re)&&re.length>0){const Ye=re.filter(yt=>yt!==M.validator);Ye.length!==re.length&&(k=!0,x.setValidators(Ye))}}if(null!==M.asyncValidator){const re=jn(x);if(Array.isArray(re)&&re.length>0){const Ye=re.filter(yt=>yt!==M.asyncValidator);Ye.length!==re.length&&(k=!0,x.setAsyncValidators(Ye))}}}const H=()=>{};return xn(M._rawValidators,H),xn(M._rawAsyncValidators,H),k}function Q(x,M){x._pendingDirty&&x.markAsDirty(),x.setValue(x._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(x._pendingValue),x._pendingChange=!1}function Yt(x,M){if(!x.hasOwnProperty("model"))return!1;const k=x.model;return!!k.isFirstChange()||!Object.is(M,k.currentValue)}function Qt(x,M){if(!M)return null;let k,H,re;return Array.isArray(M),M.forEach(Ye=>{Ye.constructor===He?k=Ye:function Lt(x){return Object.getPrototypeOf(x.constructor)===wi}(Ye)?H=Ye:re=Ye}),re||H||k||null}function Kn(x,M){const k=x.indexOf(M);k>-1&&x.splice(k,1)}function Er(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}Promise.resolve();const On=class extends Rt{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(M=null,k,H){super(yn(k),Li(H,k)),this._applyFormState(M),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dt(k)&&(k.nonNullable||k.initialValueIsDefault)&&(this.defaultValue=Er(M)?M.value:M)}setValue(M,k={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach(H=>H(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue(M,k={}){this.setValue(M,k)}reset(M=this.defaultValue,k={}){this._applyFormState(M),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),k.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,!1!==k?.emitEvent&&this._events.next(new oi(this))}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){Kn(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){Kn(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){Er(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}},qc={provide:Ki,useExisting:(0,m.Rfq)(()=>fo)},ja=Promise.resolve();let fo=(()=>{class x extends Ki{_changeDetectorRef;callSetDisabledState;control=new On;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new m.bkB;constructor(k,H,re,Ye,yt,Xt){super(),this._changeDetectorRef=yt,this.callSetDisabledState=Xt,this._parent=k,this._setValidators(H),this._setAsyncValidators(re),this.valueAccessor=Qt(0,Ye)}ngOnChanges(k){if(this._checkForErrors(),!this._registered||"name"in k){if(this._registered&&(this._checkName(),this.formDirective)){const H=k.name.previousValue;this.formDirective.removeControl({name:H,path:this._getPath(H)})}this._setUpControl()}"isDisabled"in k&&this._updateDisabled(k),Yt(k,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ar(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(k){ja.then(()=>{this.control.setValue(k,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(k){const H=k.isDisabled.currentValue,re=0!==H&&(0,_t.L39)(H);ja.then(()=>{re&&!this.control.disabled?this.control.disable():!re&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(k){return this._parent?yr(k,this._parent):[k]}static \u0275fac=function(H){return new(H||x)(E.rXU(hi,9),E.rXU(mt,10),E.rXU(Ui,10),E.rXU(Pt,10),E.rXU(_t.gRc,8),E.rXU(En,8))};static \u0275dir=E.FsC({type:x,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[E.Jv_([qc]),E.Vt3,E.OA$]})}return x})(),ma=(()=>{class x{static \u0275fac=function(H){return new(H||x)};static \u0275dir=E.FsC({type:x,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return x})();const Ct={provide:Pt,useExisting:(0,m.Rfq)(()=>X),multi:!0};let X=(()=>{class x extends wi{writeValue(k){this.setProperty("value",k??"")}registerOnChange(k){this.onChange=H=>{k(""==H?null:parseFloat(H))}}static \u0275fac=(()=>{let k;return function(re){return(k||(k=E.xGo(x)))(re||x)}})();static \u0275dir=E.FsC({type:x,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(H,re){1&H&&E.bIt("input",function(yt){return re.onChange(yt.target.value)})("blur",function(){return re.onTouched()})},standalone:!1,features:[E.Jv_([Ct]),E.Vt3]})}return x})();class Ut extends Rt{constructor(M,k,H){super(yn(k),Li(H,k)),this.controls=M,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(M){return this.controls[this._adjustIndex(M)]}push(M,k={}){Array.isArray(M)?M.forEach(H=>{this.controls.push(H),this._registerControl(H)}):(this.controls.push(M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}insert(M,k,H={}){this.controls.splice(M,0,k),this._registerControl(k),this.updateValueAndValidity({emitEvent:H.emitEvent})}removeAt(M,k={}){let H=this._adjustIndex(M);H<0&&(H=0),this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),this.controls.splice(H,1),this.updateValueAndValidity({emitEvent:k.emitEvent})}setControl(M,k,H={}){let re=this._adjustIndex(M);re<0&&(re=0),this.controls[re]&&this.controls[re]._registerOnCollectionChange(()=>{}),this.controls.splice(re,1),k&&(this.controls.splice(re,0,k),this._registerControl(k)),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(M,k={}){Ei(this,0,M),M.forEach((H,re)=>{_i(this,!1,re),this.at(re).setValue(H,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(M,k={}){null!=M&&(M.forEach((H,re)=>{this.at(re)&&this.at(re).patchValue(H,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(M=[],k={}){this._forEachChild((H,re)=>{H.reset(M[re],{...k,onlySelf:!0})}),this._updatePristine(k,this),this._updateTouched(k,this),this.updateValueAndValidity(k),!1!==k?.emitEvent&&this._events.next(new oi(this))}getRawValue(){return this.controls.map(M=>M.getRawValue())}clear(M={}){this.controls.length<1||(this._forEachChild(k=>k._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:M.emitEvent}))}_adjustIndex(M){return M<0?M+this.length:M}_syncPendingControls(){let M=this.controls.reduce((k,H)=>!!H._syncPendingControls()||k,!1);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_forEachChild(M){this.controls.forEach((k,H)=>{M(k,H)})}_updateValue(){this.value=this.controls.filter(M=>M.enabled||this.disabled).map(M=>M.value)}_anyControls(M){return this.controls.some(k=>k.enabled&&M(k))}_setUpControls(){this._forEachChild(M=>this._registerControl(M))}_allControlsDisabled(){for(const M of this.controls)if(M.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(M){M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)}_find(M){return this.at(M)??null}}let G=(()=>{class x extends hi{callSetDisabledState;get submitted(){return(0,m.O8t)(this._submittedReactive)}set submitted(k){this._submittedReactive.set(k)}_submitted=he(()=>this._submittedReactive());_submittedReactive=(0,m.vPA)(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(k,H,re){super(),this.callSetDisabledState=re,this._setValidators(k),this._setAsyncValidators(H)}ngOnChanges(k){this.onChanges(k)}ngOnDestroy(){this.onDestroy()}onChanges(k){this._checkFormPresent(),k.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(Fn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(k){const H=this.form.get(k.path);return ar(H,k,this.callSetDisabledState),H.updateValueAndValidity({emitEvent:!1}),this.directives.push(k),H}getControl(k){return this.form.get(k.path)}removeControl(k){Cn(k.control||null,k,!1),function fi(x,M){const k=x.indexOf(M);k>-1&&x.splice(k,1)}(this.directives,k)}addFormGroup(k){this._setUpFormContainer(k)}removeFormGroup(k){this._cleanUpFormContainer(k)}getFormGroup(k){return this.form.get(k.path)}getFormArray(k){return this.form.get(k.path)}addFormArray(k){this._setUpFormContainer(k)}removeFormArray(k){this._cleanUpFormContainer(k)}updateModel(k,H){this.form.get(k.path).setValue(H)}onReset(){this.resetForm()}resetForm(k=void 0,H={}){this.form.reset(k,H),this._submittedReactive.set(!1)}onSubmit(k){return this.submitted=!0,function ki(x,M){x._syncPendingControls(),M.forEach(k=>{const H=k.control;"submit"===H.updateOn&&H._pendingChange&&(k.viewToModelUpdate(H._pendingValue),H._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(k),this.form._events.next(new ci(this.control)),"dialog"===k?.target?.method}_updateDomValue(){this.directives.forEach(k=>{const H=k.control,re=this.form.get(k.path);H!==re&&(Cn(H||null,k),(x=>x instanceof On)(re)&&(ar(re,k,this.callSetDisabledState),k.control=re))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(k){const H=this.form.get(k.path);(function W(x,M){tr(x,M)})(H,k),H.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(k){if(this.form){const H=this.form.get(k.path);H&&function pe(x,M){return Fn(x,M)}(H,k)&&H.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tr(this.form,this),this._oldForm&&Fn(this._oldForm,this)}_checkFormPresent(){}static \u0275fac=function(H){return new(H||x)(E.rXU(mt,10),E.rXU(Ui,10),E.rXU(En,8))};static \u0275dir=E.FsC({type:x,features:[E.Vt3,E.OA$]})}return x})();const J=new m.nKC(""),ht={provide:Ki,useExisting:(0,m.Rfq)(()=>ii)};let ii=(()=>{class x extends Ki{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(k){}model;update=new m.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(k,H,re,Ye,yt){super(),this._ngModelWarningConfig=yt,this._parent=k,this._setValidators(H),this._setAsyncValidators(re),this.valueAccessor=Qt(0,Ye)}ngOnChanges(k){this._added||this._setUpControl(),Yt(k,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}get path(){return yr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(H){return new(H||x)(E.rXU(hi,13),E.rXU(mt,10),E.rXU(Ui,10),E.rXU(Pt,10),E.rXU(J,8))};static \u0275dir=E.FsC({type:x,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[E.Jv_([ht]),E.Vt3,E.OA$]})}return x})();const un={provide:hi,useExisting:(0,m.Rfq)(()=>dn)};let dn=(()=>{class x extends G{form=null;ngSubmit=new m.bkB;get control(){return this.form}static \u0275fac=(()=>{let k;return function(re){return(k||(k=E.xGo(x)))(re||x)}})();static \u0275dir=E.FsC({type:x,selectors:[["","formGroup",""]],hostBindings:function(H,re){1&H&&E.bIt("submit",function(yt){return re.onSubmit(yt)})("reset",function(){return re.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[E.Jv_([un]),E.Vt3]})}return x})();const Yi={provide:Pt,useExisting:(0,m.Rfq)(()=>Bn),multi:!0};function Gi(x,M){return null==x?`${M}`:(M&&"object"==typeof M&&(M="Object"),`${x}: ${M}`.slice(0,50))}let Bn=(()=>{class x extends wi{value;_optionMap=new Map;_idCounter=0;set compareWith(k){this._compareWith=k}_compareWith=Object.is;appRefInjector=(0,m.WQX)(E.o8S).injector;destroyRef=(0,m.WQX)(m.abz);cdr=(0,m.WQX)(_t.gRc);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,(0,E.mal)({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(k){this.cdr.markForCheck(),this.value=k;const re=Gi(this._getOptionId(k),k);this.setProperty("value",re)}registerOnChange(k){this.onChange=H=>{this.value=this._getOptionValue(H),k(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(k){for(const H of this._optionMap.keys())if(this._compareWith(this._optionMap.get(H),k))return H;return null}_getOptionValue(k){const H=function Qr(x){return x.split(":")[0]}(k);return this._optionMap.has(H)?this._optionMap.get(H):k}static \u0275fac=(()=>{let k;return function(re){return(k||(k=E.xGo(x)))(re||x)}})();static \u0275dir=E.FsC({type:x,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(H,re){1&H&&E.bIt("change",function(yt){return re.onChange(yt.target.value)})("blur",function(){return re.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[E.Jv_([Yi]),E.Vt3]})}return x})(),Ua=(()=>{class x{_element;_renderer;_select;id;constructor(k,H,re){this._element=k,this._renderer=H,this._select=re,this._select&&(this.id=this._select._registerOption())}set ngValue(k){null!=this._select&&(this._select._optionMap.set(this.id,k),this._setElementValue(Gi(this.id,k)),this._select._writeValueAfterRender())}set value(k){this._setElementValue(k),this._select&&this._select._writeValueAfterRender()}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(H){return new(H||x)(E.rXU(E.aKT),E.rXU(E.sFG),E.rXU(Bn,9))};static \u0275dir=E.FsC({type:x,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return x})();const vr={provide:Pt,useExisting:(0,m.Rfq)(()=>ba),multi:!0};function ya(x,M){return null==x?`${M}`:("string"==typeof M&&(M=`'${M}'`),M&&"object"==typeof M&&(M="Object"),`${x}: ${M}`.slice(0,50))}let ba=(()=>{class x extends wi{value;_optionMap=new Map;_idCounter=0;set compareWith(k){this._compareWith=k}_compareWith=Object.is;writeValue(k){let H;if(this.value=k,Array.isArray(k)){const re=k.map(Ye=>this._getOptionId(Ye));H=(Ye,yt)=>{Ye._setSelected(re.indexOf(yt.toString())>-1)}}else H=(re,Ye)=>{re._setSelected(!1)};this._optionMap.forEach(H)}registerOnChange(k){this.onChange=H=>{const re=[],Ye=H.selectedOptions;if(void 0!==Ye){const yt=Ye;for(let Xt=0;Xt<yt.length;Xt++){const Lr=this._getOptionValue(yt[Xt].value);re.push(Lr)}}else{const yt=H.options;for(let Xt=0;Xt<yt.length;Xt++){const nn=yt[Xt];if(nn.selected){const Lr=this._getOptionValue(nn.value);re.push(Lr)}}}this.value=re,k(re)}}_registerOption(k){const H=(this._idCounter++).toString();return this._optionMap.set(H,k),H}_getOptionId(k){for(const H of this._optionMap.keys())if(this._compareWith(this._optionMap.get(H)._value,k))return H;return null}_getOptionValue(k){const H=function Va(x){return x.split(":")[0]}(k);return this._optionMap.has(H)?this._optionMap.get(H)._value:k}static \u0275fac=(()=>{let k;return function(re){return(k||(k=E.xGo(x)))(re||x)}})();static \u0275dir=E.FsC({type:x,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(H,re){1&H&&E.bIt("change",function(yt){return re.onChange(yt.target)})("blur",function(){return re.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[E.Jv_([vr]),E.Vt3]})}return x})(),yo=(()=>{class x{_element;_renderer;_select;id;_value;constructor(k,H,re){this._element=k,this._renderer=H,this._select=re,this._select&&(this.id=this._select._registerOption(this))}set ngValue(k){null!=this._select&&(this._value=k,this._setElementValue(ya(this.id,k)),this._select.writeValue(this._select.value))}set value(k){this._select?(this._value=k,this._setElementValue(ya(this.id,k)),this._select.writeValue(this._select.value)):this._setElementValue(k)}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}_setSelected(k){this._renderer.setProperty(this._element.nativeElement,"selected",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(H){return new(H||x)(E.rXU(E.aKT),E.rXU(E.sFG),E.rXU(ba,9))};static \u0275dir=E.FsC({type:x,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return x})();function ns(x){return"number"==typeof x?x:parseFloat(x)}let Zr=(()=>{class x{_validator=zt;_onChange;_enabled;ngOnChanges(k){if(this.inputName in k){const H=this.normalizeInput(k[this.inputName].currentValue);this._enabled=this.enabled(H),this._validator=this._enabled?this.createValidator(H):zt,this._onChange&&this._onChange()}}validate(k){return this._validator(k)}registerOnValidatorChange(k){this._onChange=k}enabled(k){return null!=k}static \u0275fac=function(H){return new(H||x)};static \u0275dir=E.FsC({type:x,features:[E.OA$]})}return x})();const bo={provide:mt,useExisting:(0,m.Rfq)(()=>ll),multi:!0};let ll=(()=>{class x extends Zr{max;inputName="max";normalizeInput=k=>ns(k);createValidator=k=>tt(k);static \u0275fac=(()=>{let k;return function(re){return(k||(k=E.xGo(x)))(re||x)}})();static \u0275dir=E.FsC({type:x,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(H,re){2&H&&E.BMQ("max",re._enabled?re.max:null)},inputs:{max:"max"},standalone:!1,features:[E.Jv_([bo]),E.Vt3]})}return x})();const Wd={provide:mt,useExisting:(0,m.Rfq)(()=>rs),multi:!0};let rs=(()=>{class x extends Zr{min;inputName="min";normalizeInput=k=>ns(k);createValidator=k=>qe(k);static \u0275fac=(()=>{let k;return function(re){return(k||(k=E.xGo(x)))(re||x)}})();static \u0275dir=E.FsC({type:x,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(H,re){2&H&&E.BMQ("min",re._enabled?re.min:null)},inputs:{min:"min"},standalone:!1,features:[E.Jv_([Wd]),E.Vt3]})}return x})();const Uc={provide:mt,useExisting:(0,m.Rfq)(()=>vo),multi:!0};let vo=(()=>{class x extends Zr{required;inputName="required";normalizeInput=_t.L39;createValidator=k=>Ce;enabled(k){return k}static \u0275fac=(()=>{let k;return function(re){return(k||(k=E.xGo(x)))(re||x)}})();static \u0275dir=E.FsC({type:x,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(H,re){2&H&&E.BMQ("required",re._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[E.Jv_([Uc]),E.Vt3]})}return x})(),ea=(()=>{class x{static \u0275fac=function(H){return new(H||x)};static \u0275mod=E.$C({type:x});static \u0275inj=m.G2t({})}return x})(),zd=(()=>{class x{static withConfig(k){return{ngModule:x,providers:[{provide:En,useValue:k.callSetDisabledState??cn}]}}static \u0275fac=function(H){return new(H||x)};static \u0275mod=E.$C({type:x});static \u0275inj=m.G2t({imports:[ea]})}return x})(),Wc=(()=>{class x{static withConfig(k){return{ngModule:x,providers:[{provide:J,useValue:k.warnOnNgModelWithFormControl??"always"},{provide:En,useValue:k.callSetDisabledState??cn}]}}static \u0275fac=function(H){return new(H||x)};static \u0275mod=E.$C({type:x});static \u0275inj=m.G2t({imports:[ea]})}return x})()},5152(be,z,w){w.d(z,{A:()=>I});var E=w(6509);const I=function m(q){var A=new q.constructor(q.byteLength);return new E.A(A).set(new E.A(q)),A}},5241(be,z,w){function E(m){return m}w.d(z,{D:()=>E})},5253(be,z,w){w.d(z,{X:()=>E});const E=m=>m&&"number"==typeof m.length&&"function"!=typeof m},5267(be,z,w){w.d(z,{A:()=>A});var E=w(6944),m=E.A?E.A.prototype:void 0,I=m?m.valueOf:void 0;const A=function q(c){return I?Object(I.call(c)):{}}},5286(be,z,w){w.d(z,{B7:()=>ne});var E=w(7389),m=w(762),I=w(1805),q=w(2145),A=w(1259),c=w(91);class te extends m.v{constructor(he){super(he),this.destination=he}}let ne=(()=>{class ce extends E.c{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.D](){return new te(this)}lift(ye){const De=new ie(this,this);return De.operator=ye,De}next(ye){if(this.closed)throw new q.P;if(!this.isStopped){const{observers:De}=this,We=De.length,it=De.slice();for(let nt=0;nt<We;nt++)it[nt].next(ye)}}error(ye){if(this.closed)throw new q.P;this.hasError=!0,this.thrownError=ye,this.isStopped=!0;const{observers:De}=this,We=De.length,it=De.slice();for(let nt=0;nt<We;nt++)it[nt].error(ye);this.observers.length=0}complete(){if(this.closed)throw new q.P;this.isStopped=!0;const{observers:ye}=this,De=ye.length,We=ye.slice();for(let it=0;it<De;it++)We[it].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ye){if(this.closed)throw new q.P;return super._trySubscribe(ye)}_subscribe(ye){if(this.closed)throw new q.P;return this.hasError?(ye.error(this.thrownError),I.y.EMPTY):this.isStopped?(ye.complete(),I.y.EMPTY):(this.observers.push(ye),new A.Y(this,ye))}asObservable(){const ye=new E.c;return ye.source=this,ye}}return ce.create=(he,ye)=>new ie(he,ye),ce})();class ie extends ne{constructor(he,ye){super(),this.destination=he,this.source=ye}next(he){const{destination:ye}=this;ye&&ye.next&&ye.next(he)}error(he){const{destination:ye}=this;ye&&ye.error&&this.destination.error(he)}complete(){const{destination:he}=this;he&&he.complete&&this.destination.complete()}_subscribe(he){const{source:ye}=this;return ye?this.source.subscribe(he):I.y.EMPTY}}},5481(be,z,w){w.d(z,{A:()=>I});const I=function m(q){return"number"==typeof q&&q>-1&&q%1==0&&q<=9007199254740991}},5525(be,z,w){w.d(z,{A:()=>q});var E=w(3126),m=w(1885);const q=function I(A,c){var te=(0,m.A)(A,c);return(0,E.A)(te)?te:void 0}},5547(be,z,w){w.d(z,{$C:()=>pP,$Ln:()=>Ar,$o8:()=>fa,AVh:()=>yd,Ab1:()=>Hs,Agw:()=>N,B4B:()=>lf,BIS:()=>J,BMQ:()=>Xu,C4Q:()=>Ms,C5r:()=>em,C7A:()=>NP,Co$:()=>uP,DH7:()=>yw,DNE:()=>la,DUP:()=>Ro,DkB:()=>_v,EBC:()=>L_,EFF:()=>cw,EJ8:()=>gP,Ef8:()=>gt,FsC:()=>xp,GBs:()=>md,H1s:()=>lk,HbH:()=>rw,Hgh:()=>od,JRh:()=>sA,Jt5:()=>Nk,Jv_:()=>Kg,KED:()=>RA,LHq:()=>cA,LVR:()=>wb,Lme:()=>lA,NCX:()=>Zh,NOj:()=>O_,NSC:()=>Ac,NYb:()=>x0,OA$:()=>lt,Ocv:()=>Dx,PLl:()=>G,PeT:()=>Br,R50:()=>Ad,R7$:()=>W_,RV6:()=>Ik,SpI:()=>Tc,TFI:()=>ac,UQu:()=>Cx,VBU:()=>Jl,VeQ:()=>Pe,Vt3:()=>Ou,VzW:()=>GE,XpG:()=>_g,Y8G:()=>rd,YEm:()=>Jr,Zhj:()=>NE,_9s:()=>xu,_9u:()=>ol,_jY:()=>_n,_qm:()=>Dt,_ys:()=>Mh,a8H:()=>Ps,aCM:()=>Sa,aKT:()=>Rt,bH1:()=>Cp,bIt:()=>Uv,bVm:()=>sd,c1b:()=>Tp,cDI:()=>Yy,cdK:()=>jp,czy:()=>wh,d80:()=>zA,dOL:()=>rk,dfE:()=>p1,e6s:()=>Pv,eHC:()=>zl,eq3:()=>SA,eu8:()=>ld,eux:()=>sg,gXe:()=>Nr,j41:()=>fc,k0s:()=>yc,kBR:()=>ud,kS0:()=>Se,lJ4:()=>_A,lJT:()=>ck,l_i:()=>_w,lsd:()=>Pg,mGM:()=>Qk,mS5:()=>He,mY:()=>ge,mal:()=>ff,mxI:()=>_d,nrm:()=>ad,nv$:()=>Kp,o8S:()=>Vu,ozJ:()=>Kl,pl0:()=>I0,qex:()=>vc,rXU:()=>Wl,rj2:()=>bc,rpG:()=>cm,s1E:()=>Yg,sFG:()=>cy,sMw:()=>zg,sZ2:()=>Ut,sdS:()=>wg,sgu:()=>Xl,tSv:()=>R_,uiO:()=>Ze,utN:()=>lE,vDg:()=>sa,w6W:()=>$E,xGo:()=>Kr,xc7:()=>tA,xe9:()=>um,yLl:()=>ak,ypd:()=>gb,ziG:()=>Sw,zoo:()=>Ih});var E=w(467),m=w(7868),I=w(5824),q=w(5286),A=w(1805),c=w(5006);function te(s){return{toString:s}.toString()}const ne="__annotations__",ie="__parameters__",ce="__prop__metadata__";function he(s,u,h,g,f){return te(()=>{const y=ye(u);function v(..._){if(this instanceof v)return y.call(this,..._),this;const P=new v(..._);return function(B){return f&&f(B,..._),(B.hasOwnProperty(ne)?B[ne]:Object.defineProperty(B,ne,{value:[]})[ne]).push(P),B}}return h&&(v.prototype=Object.create(h.prototype)),v.prototype.ngMetadataName=s,v.annotationCls=v,v})}function ye(s){return function(...h){if(s){const g=s(...h);for(const f in g)this[f]=g[f]}}}function De(s,u,h){return te(()=>{const g=ye(u);function f(...y){if(this instanceof f)return g.apply(this,y),this;const v=new f(...y);return _.annotation=v,_;function _(P,R,B){const K=P.hasOwnProperty(ie)?P[ie]:Object.defineProperty(P,ie,{value:[]})[ie];for(;K.length<=B;)K.push(null);return(K[B]=K[B]||[]).push(v),P}}return f.prototype.ngMetadataName=s,f.annotationCls=f,f})}const it=(0,m.z6V)(De("Inject",s=>({token:s})),-1),nt=(0,m.z6V)(De("Optional"),8),wt=(0,m.z6V)(De("Self"),2),ot=(0,m.z6V)(De("SkipSelf"),4),vt=(0,m.z6V)(De("Host"),1);function Ze(s){const u=m.laP.ng;if(u&&u.\u0275compilerFacade)return u.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Gt={\u0275\u0275defineInjectable:m.jDH,\u0275\u0275defineInjector:m.G2t,\u0275\u0275inject:m.KVO,\u0275\u0275invalidFactoryDep:m.dmw,resolveForwardRef:m.nl4},ei=Function;function xt(s){return"function"==typeof s}const ni=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Ft=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,si=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Ot=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Ii{_reflect;constructor(u){this._reflect=u||m.laP.Reflect}factory(u){return(...h)=>new u(...h)}_zipTypesAndAnnotations(u,h){let g;g=(0,m.WfI)(typeof u>"u"?h.length:u.length);for(let f=0;f<g.length;f++)g[f]=typeof u>"u"?[]:u[f]&&u[f]!=Object?[u[f]]:[],h&&null!=h[f]&&(g[f]=g[f].concat(h[f]));return g}_ownParameters(u,h){if(function _t(s){return ni.test(s)||Ot.test(s)||Ft.test(s)&&!si.test(s)}(u.toString()))return null;if(u.parameters&&u.parameters!==h.parameters)return u.parameters;const f=u.ctorParameters;if(f&&f!==h.ctorParameters){const _="function"==typeof f?f():f,P=_.map(B=>B&&B.type),R=_.map(B=>B&&me(B.decorators));return this._zipTypesAndAnnotations(P,R)}const y=u.hasOwnProperty(ie)&&u[ie],v=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",u);return v||y?this._zipTypesAndAnnotations(v,y):(0,m.WfI)(u.length)}parameters(u){if(!xt(u))return[];const h=Ee(u);let g=this._ownParameters(u,h);return!g&&h!==Object&&(g=this.parameters(h)),g||[]}_ownAnnotations(u,h){if(u.annotations&&u.annotations!==h.annotations){let g=u.annotations;return"function"==typeof g&&g.annotations&&(g=g.annotations),g}return u.decorators&&u.decorators!==h.decorators?me(u.decorators):u.hasOwnProperty(ne)?u[ne]:null}annotations(u){if(!xt(u))return[];const h=Ee(u),g=this._ownAnnotations(u,h)||[];return(h!==Object?this.annotations(h):[]).concat(g)}_ownPropMetadata(u,h){if(u.propMetadata&&u.propMetadata!==h.propMetadata){let g=u.propMetadata;return"function"==typeof g&&g.propMetadata&&(g=g.propMetadata),g}if(u.propDecorators&&u.propDecorators!==h.propDecorators){const g=u.propDecorators,f={};return Object.keys(g).forEach(y=>{f[y]=me(g[y])}),f}return u.hasOwnProperty(ce)?u[ce]:null}propMetadata(u){if(!xt(u))return{};const h=Ee(u),g={};if(h!==Object){const y=this.propMetadata(h);Object.keys(y).forEach(v=>{g[v]=y[v]})}const f=this._ownPropMetadata(u,h);return f&&Object.keys(f).forEach(y=>{const v=[];g.hasOwnProperty(y)&&v.push(...g[y]),v.push(...f[y]),g[y]=v}),g}ownPropMetadata(u){return xt(u)&&this._ownPropMetadata(u,Ee(u))||{}}hasLifecycleHook(u,h){return u instanceof ei&&h in u.prototype}}function me(s){return s?s.map(u=>new(0,u.type.annotationCls)(...u.args?u.args:[])):[]}function Ee(s){const u=s.prototype?Object.getPrototypeOf(s.prototype):null;return(u?u.constructor:null)||Object}function Xe(s,u,h,g){null!==u?u.applyValueToInputSignal(u,g):s[h]=g}class ft{previousValue;currentValue;firstChange;constructor(u,h,g){this.previousValue=u,this.currentValue=h,this.firstChange=g}isFirstChange(){return this.firstChange}}const lt=(()=>{const s=()=>ri;return s.ngInherit=!0,s})();function ri(s){return s.type.prototype.ngOnChanges&&(s.setInput=li),mi}function mi(){const s=wi(this),u=s?.current;if(u){const h=s.previous;if(h===m.MZA)s.previous=u;else for(let g in u)h[g]=u[g];s.current=null,this.ngOnChanges(u)}}function li(s,u,h,g,f){const y=this.declaredInputs[g],v=wi(s)||function Pt(s,u){return s[ui]=u}(s,{previous:m.MZA,current:null}),_=v.current||(v.current={}),P=v.previous,R=P[y];_[y]=new ft(R&&R.currentValue,h,P===m.MZA),Xe(s,u,f,h)}const ui="__ngSimpleChanges__";function wi(s){return s[ui]||null}const rt=[],gt=function(s,u=null,h){for(let g=0;g<rt.length;g++)(0,rt[g])(s,u,h)};var He=function(s){return s[s.TemplateCreateStart=0]="TemplateCreateStart",s[s.TemplateCreateEnd=1]="TemplateCreateEnd",s[s.TemplateUpdateStart=2]="TemplateUpdateStart",s[s.TemplateUpdateEnd=3]="TemplateUpdateEnd",s[s.LifecycleHookStart=4]="LifecycleHookStart",s[s.LifecycleHookEnd=5]="LifecycleHookEnd",s[s.OutputStart=6]="OutputStart",s[s.OutputEnd=7]="OutputEnd",s[s.BootstrapApplicationStart=8]="BootstrapApplicationStart",s[s.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",s[s.BootstrapComponentStart=10]="BootstrapComponentStart",s[s.BootstrapComponentEnd=11]="BootstrapComponentEnd",s[s.ChangeDetectionStart=12]="ChangeDetectionStart",s[s.ChangeDetectionEnd=13]="ChangeDetectionEnd",s[s.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",s[s.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",s[s.AfterRenderHooksStart=16]="AfterRenderHooksStart",s[s.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",s[s.ComponentStart=18]="ComponentStart",s[s.ComponentEnd=19]="ComponentEnd",s[s.DeferBlockStateStart=20]="DeferBlockStateStart",s[s.DeferBlockStateEnd=21]="DeferBlockStateEnd",s[s.DynamicComponentStart=22]="DynamicComponentStart",s[s.DynamicComponentEnd=23]="DynamicComponentEnd",s[s.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",s[s.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",s}(He||{});function sn(s,u){for(let h=u.directiveStart,g=u.directiveEnd;h<g;h++){const y=s.data[h].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:_,ngAfterViewInit:P,ngAfterViewChecked:R,ngOnDestroy:B}=y;v&&(s.contentHooks??=[]).push(-h,v),_&&((s.contentHooks??=[]).push(h,_),(s.contentCheckHooks??=[]).push(h,_)),P&&(s.viewHooks??=[]).push(-h,P),R&&((s.viewHooks??=[]).push(h,R),(s.viewCheckHooks??=[]).push(h,R)),null!=B&&(s.destroyHooks??=[]).push(h,B)}}function mt(s,u,h){fe(s,u,3,h)}function Ui(s,u,h,g){(3&s[m.Wg1])===h&&fe(s,u,h,g)}function Mt(s,u){let h=s[m.Wg1];(3&h)===u&&(h&=16383,h+=1,s[m.Wg1]=h)}function fe(s,u,h,g){const y=g??-1,v=u.length-1;let _=0;for(let P=void 0!==g?65535&s[m.wVl]:0;P<v;P++)if("number"==typeof u[P+1]){if(_=u[P],null!=g&&_>=g)break}else u[P]<0&&(s[m.wVl]+=65536),(_<y||-1==y)&&(tt(s,h,u,P),s[m.wVl]=(4294901760&s[m.wVl])+P+2),P++}function qe(s,u){gt(He.LifecycleHookStart,s,u);const h=(0,I.Ht)(null);try{u.call(s)}finally{(0,I.Ht)(h),gt(He.LifecycleHookEnd,s,u)}}function tt(s,u,h,g){const f=h[g]<0,y=h[g+1],_=s[f?-h[g]:h[g]];f?s[m.Wg1]>>14<s[m.wVl]>>16&&(3&s[m.Wg1])===u&&(s[m.Wg1]+=16384,qe(_,y)):qe(_,y)}class ut{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(u,h,g,f){this.factory=u,this.name=f,this.canSeeViewProviders=h,this.injectImpl=g}}function ai(s){return null!=s&&"object"==typeof s&&(null===s.insertBeforeIndex||"number"==typeof s.insertBeforeIndex||Array.isArray(s.insertBeforeIndex))}function gn(s){return 3===s||4===s||6===s}function Vi(s){return 64===s.charCodeAt(0)}function Wi(s,u){if(null!==u&&0!==u.length)if(null===s||0===s.length)s=u.slice();else{let h=-1;for(let g=0;g<u.length;g++){const f=u[g];"number"==typeof f?h=f:0===h||mn(s,h,f,0,-1===h||2===h?u[++g]:null)}}return s}function mn(s,u,h,g,f){let y=0,v=s.length;if(-1===u)v=-1;else for(;y<s.length;){const _=s[y++];if("number"==typeof _){if(_===u){v=-1;break}if(_>u){v=y-1;break}}}for(;y<s.length;){const _=s[y];if("number"==typeof _)break;if(_===h)return void(null!==f&&(s[y+1]=f));y++,null!==f&&y++}-1!==v&&(s.splice(v,0,u),y=v+1),s.splice(y++,0,h),null!==f&&s.splice(y++,0,f)}function Jn(s){return-1!==s}function Oi(s){return 32767&s}function Bi(s,u){let h=function vi(s){return s>>16}(s),g=u;for(;h>0;)g=g[m.X5O],h--;return g}let mr=!0;function jn(s){const u=mr;return mr=s,u}let rr=0;const Ji={};function Ki(s,u){const h=Qn(s,u);if(-1!==h)return h;const g=u[m.eDl];g.firstCreatePass&&(s.injectorIndex=u.length,ln(g.data,s),ln(u,null),ln(g.blueprint,null));const f=Ti(s,u),y=s.injectorIndex;if(Jn(f)){const v=Oi(f),_=Bi(f,u),P=_[m.eDl].data;for(let R=0;R<8;R++)u[y+R]=_[v+R]|P[v+R]}return u[y+8]=f,y}function ln(s,u){s.push(0,0,0,0,0,0,0,0,u)}function Qn(s,u){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===u[s.injectorIndex+8]?-1:s.injectorIndex}function Ti(s,u){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let h=0,g=null,f=u;for(;null!==f;){if(g=ae(f),null===g)return-1;if(h++,f=f[m.X5O],-1!==g.injectorIndex)return g.injectorIndex|h<<16}return-1}function kn(s,u,h){!function hi(s,u,h){let g;"string"==typeof h?g=h.charCodeAt(0)||0:h.hasOwnProperty(m.p9y)&&(g=h[m.p9y]),null==g&&(g=h[m.p9y]=rr++);const f=255&g;u.data[s+(f>>5)]|=1<<f}(s,u,h)}function Zn(s,u,h){if(8&h||void 0!==s)return s;(0,m.$Hz)(u,"NodeInjector")}function Ur(s,u,h,g){if(8&h&&void 0===g&&(g=null),!(3&h)){const f=s[m.YEL],y=(0,m.a2B)(void 0);try{return f?f.get(u,g,8&h):(0,m.MzJ)(u,g,8&h)}finally{(0,m.a2B)(y)}}return Zn(g,u,h)}function Ri(s,u,h,g=0,f){if(null!==s){if(2048&u[m.Wg1]&&!(2&g)){const v=function ue(s,u,h,g,f){let y=s,v=u;for(;null!==y&&null!==v&&2048&v[m.Wg1]&&!(0,m.EFk)(v);){const _=Tn(y,v,h,2|g,Ji);if(_!==Ji)return _;let P=y.parent;if(!P){const R=v[m.oMQ];if(R){const B=R.get(h,Ji,g);if(B!==Ji)return B}P=ae(v),v=v[m.X5O]}y=P}return f}(s,u,h,g,Ji);if(v!==Ji)return v}const y=Tn(s,u,h,g,Ji);if(y!==Ji)return y}return Ur(u,h,g,f)}function Tn(s,u,h,g,f){const y=function Vr(s){if("string"==typeof s)return s.charCodeAt(0)||0;const u=s.hasOwnProperty(m.p9y)?s[m.p9y]:void 0;return"number"==typeof u?u>=0?255&u:Wr:u}(h);if("function"==typeof y){if(!(0,m.ihb)(u,s,g))return 1&g?Zn(f,h,g):Ur(u,h,g,f);try{let v;if(v=y(g),null!=v||8&g)return v;(0,m.$Hz)(h)}finally{(0,m.niQ)()}}else if("number"==typeof y){let v=null,_=Qn(s,u),P=-1,R=1&g?u[m.b5C][m.qlT]:null;for((-1===_||4&g)&&(P=-1===_?Ti(s,u):u[_+8],-1!==P&&ts(g,!1)?(v=u[m.eDl],_=Oi(P),u=Bi(P,u)):_=-1);-1!==_;){const B=u[m.eDl];if($a(y,_,B.data)){const K=wr(_,u,h,v,g,R);if(K!==Ji)return K}P=u[_+8],-1!==P&&ts(g,u[m.eDl].data[_+8]===R)&&$a(y,_,u)?(v=B,_=Oi(P),u=Bi(P,u)):_=-1}}return f}function wr(s,u,h,g,f,y){const v=u[m.eDl],_=v.data[s+8],B=er(_,v,h,null==g?(0,m.Qs1)(_)&&mr:g!=v&&!!(3&_.type),1&f&&y===_);return null!==B?Nn(u,v,B,_,f):Ji}function er(s,u,h,g,f){const y=s.providerIndexes,v=u.data,_=1048575&y,P=s.directiveStart,B=y>>20,oe=f?_+B:s.directiveEnd;for(let le=g?_:_+B;le<oe;le++){const Ae=v[le];if(le<P&&h===Ae||le>=P&&Ae.type===h)return le}if(f){const le=v[P];if(le&&(0,m.JlV)(le)&&le.type===h)return P}return null}function Nn(s,u,h,g,f){let y=s[h];const v=u.data;if(y instanceof ut){const _=y;if(_.resolving){const le=(0,m.PP7)(v[h]);throw(0,m.PQT)(le)}const P=jn(_.canSeeViewProviders);_.resolving=!0;const K=_.injectImpl?(0,m.a2B)(_.injectImpl):null;(0,m.ihb)(s,g,0);try{y=s[h]=_.factory(void 0,f,v,s,g),u.firstCreatePass&&h>=g.directiveStart&&function Vt(s,u,h){const{ngOnChanges:g,ngOnInit:f,ngDoCheck:y}=u.type.prototype;if(g){const v=ri(u);(h.preOrderHooks??=[]).push(s,v),(h.preOrderCheckHooks??=[]).push(s,v)}f&&(h.preOrderHooks??=[]).push(0-s,f),y&&((h.preOrderHooks??=[]).push(s,y),(h.preOrderCheckHooks??=[]).push(s,y))}(h,v[h],u)}finally{null!==K&&(0,m.a2B)(K),jn(P),_.resolving=!1,(0,m.niQ)()}}return y}function $a(s,u,h){return!!(h[u+(s>>5)]&1<<s)}function ts(s,u){return!(2&s||1&s&&u)}class pi{_tNode;_lView;constructor(u,h){this._tNode=u,this._lView=h}get(u,h,g){return Ri(this._tNode,this._lView,u,(0,m.hjC)(g),h)}}function Wr(){return new pi((0,m.Mx4)(),(0,m.OAn)())}function Kr(s){return te(()=>{const u=s.prototype.constructor,h=u[m.zSs]||Y(u),g=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==g;){const y=f[m.zSs]||Y(f);if(y&&y!==h)return y;f=Object.getPrototypeOf(f)}return y=>new y})}function Y(s){return(0,m.Jzi)(s)?()=>{const u=Y((0,m.nl4)(s));return u&&u()}:(0,m.wGu)(s)}function ae(s){const u=s[m.eDl],h=u.type;return 2===h?u.declTNode:1===h?s[m.qlT]:null}function Se(s){return function wn(s,u){if("class"===u)return s.classes;if("style"===u)return s.styles;const h=s.attrs;if(h){const g=h.length;let f=0;for(;f<g;){const y=h[f];if(gn(y))break;if(0===y)f+=2;else if("number"==typeof y)for(f++;f<g&&"string"==typeof h[f];)f++;else{if(y===u)return h[f+1];f+=2}}}return null}((0,m.Mx4)(),s)}const ke=De("Attribute",s=>({attributeName:s,__NG_ELEMENT_ID__:()=>Se(s)}));let Me=null;function St(s){return at(function Ve(){return Me=Me||new Ii}().parameters(s))}function at(s){return s.map(u=>function Ai(s){const u={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(s)&&s.length>0)for(let h=0;h<s.length;h++){const g=s[h];if(void 0===g)continue;const f=Object.getPrototypeOf(g);if(g instanceof nt||"Optional"===f.ngMetadataName)u.optional=!0;else if(g instanceof ot||"SkipSelf"===f.ngMetadataName)u.skipSelf=!0;else if(g instanceof wt||"Self"===f.ngMetadataName)u.self=!0;else if(g instanceof vt||"Host"===f.ngMetadataName)u.host=!0;else if(g instanceof it)u.token=g.token;else if(g instanceof ke){if(void 0===g.attributeName)throw new m.buA(204,!1);u.attribute=g.attributeName}else u.token=g}else u.token=void 0===s||Array.isArray(s)&&0===s.length?null:s;return u}(u))}const ci=(0,m.kLh)({provide:String,useValue:m.kLh});function oi(s){return void 0!==s.useClass}function Jt(s){return void 0!==s.useFactory}const Dt=he("Injectable",void 0,void 0,0,(s,u)=>function $i(s,u){let h=null,g=null;s.hasOwnProperty(m.yAH)||Object.defineProperty(s,m.yAH,{get:()=>(null===h&&(h=Ze().compileInjectable(Gt,`ng:///${s.name}/\u0275prov.js`,function kt(s,u){const h=u||{providedIn:null},g={name:s.name,type:s,typeArgumentCount:0,providedIn:h.providedIn};return(oi(h)||Jt(h))&&void 0!==h.deps&&(g.deps=at(h.deps)),oi(h)?g.useClass=h.useClass:function yn(s){return ci in s}(h)?g.useValue=h.useValue:Jt(h)?g.useFactory=h.useFactory:function Li(s){return void 0!==s.useExisting}(h)&&(g.useExisting=h.useExisting),g}(s,u))),h)}),s.hasOwnProperty(m.zSs)||Object.defineProperty(s,m.zSs,{get:()=>{if(null===g){const f=Ze();g=f.compileFactory(Gt,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,typeArgumentCount:0,deps:St(s),target:f.FactoryTarget.Injectable})}return g},configurable:!0})}(s,u));function _i(){return Ei((0,m.Mx4)(),(0,m.OAn)())}function Ei(s,u){return new Rt((0,m.d31)(s,u))}let Rt=(()=>class s{nativeElement;constructor(h){this.nativeElement=h}static __NG_ELEMENT_ID__=_i})();function Ni(s){return s instanceof Rt?s.nativeElement:s}function bn(){return this._results[Symbol.iterator]()}class zi{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new q.B7}constructor(u=!1){this._emitDistinctChangesOnly=u}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,h){return this._results.reduce(u,h)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,h){this.dirty=!1;const g=(0,m.Bqz)(u);(this._changesDetected=!(0,m.ng7)(this._results,g,h))&&(this._results=g,this.length=g.length,this.last=g[this.length-1],this.first=g[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(u){this._onDirty=u}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=bn}function cn(s){return!(128&~s.flags)}var Cn=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(Cn||{});const xn=new Map;let Yr=0;function O(s){xn.delete(s[m.ID])}const $e="__ngContext__";function Ue(s,u){(0,m.q$2)(u)?(s[$e]=u[m.ID],function Fn(s){xn.set(s[m.ID],s)}(u)):s[$e]=u}function On(s){return po(s[m.EJG])}function Ha(s){return po(s[m.K29])}function po(s){for(;null!==s&&!(0,m.A0l)(s);)s=s[m.K29];return s}let xr;function ol(s){xr=s}function Jr(){if(void 0!==xr)return xr;if(typeof document<"u")return document;throw new m.buA(210,!1)}const Ut=new m.nKC("",{factory:()=>Dr}),Dr="ng",fa={provide:m.Z63,multi:!0,useValue:()=>{const s=(0,m.WQX)(Ut);if(!/^[a-zA-Z0-9\-_]+$/.test(s))throw new m.buA(211,`APP_ID value "${s}" is not alphanumeric. The APP_ID must be a string of alphanumeric characters. (a-zA-Z0-9), hyphens (-) and underscores (_) are allowed.`)}},G=new m.nKC(""),N=new m.nKC("",{providedIn:"platform",factory:()=>"unknown"}),J=new m.nKC("",{factory:()=>(0,m.WQX)(m.qQL).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),ge={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Pe=new m.nKC("",{factory:()=>ge});let je=(()=>{class s{static \u0275prov=(0,m.jDH)({token:s,providedIn:"root",factory:()=>{const h=new s;return h.store=function ct(s,u){const h=s.getElementById(u+"-state");if(h?.textContent)try{return JSON.parse(h.textContent)}catch(g){console.warn("Exception while restoring TransferState for app "+u,g)}return{}}((0,m.WQX)(m.qQL),(0,m.WQX)(Ut)),h}});store={};onSerializeCallbacks={};get(h,g){return void 0!==this.store[h]?this.store[h]:g}set(h,g){this.store[h]=g}remove(h){delete this.store[h]}hasKey(h){return this.store.hasOwnProperty(h)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(h,g){this.onSerializeCallbacks[h]=g}toJson(){for(const h in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(h))try{this.store[h]=this.onSerializeCallbacks[h]()}catch(g){console.warn("Exception in onSerialize callback: ",g)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return s})();const Zr=new m.nKC("",{factory:()=>!1}),Uc=new m.nKC(""),Wa={passive:!0,capture:!0},Ir=new WeakMap,Ao=new WeakMap,Mr=new WeakMap,Ka=["click","keydown"],_o=["mouseenter","mouseover","focusin"],So=new Map;class Po{callbacks=new Set;listener=()=>{for(const u of this.callbacks)u()}}function as(s,u){let h=Ao.get(s);if(!h){h=new Po,Ao.set(s,h);for(const g of Ka)s.addEventListener(g,h.listener,Wa)}return h.callbacks.add(u),()=>{const{callbacks:g,listener:f}=h;if(g.delete(u),0===g.size){Ao.delete(s);for(const y of Ka)s.removeEventListener(y,f,Wa)}}}function cl(s,u){let h=Ir.get(s);if(!h){h=new Po,Ir.set(s,h);for(const g of _o)s.addEventListener(g,h.listener,Wa)}return h.callbacks.add(u),()=>{const{callbacks:g,listener:f}=h;if(g.delete(u),0===g.size){for(const y of _o)s.removeEventListener(y,f,Wa);Ir.delete(s)}}}function ea(s){return s?`${s.rootMargin}/${"number"==typeof s.threshold?s.threshold:s.threshold?.join("\n")}`:""}const nn=new m.nKC("");function sr(s){return!(32&~s.flags)}function Bm(s){let u=s._lView;return 2===u[m.eDl].type?null:((0,m.EFk)(u)&&(u=u[m.Yw1]),u)}function Hm(s){return s.get(Uc,!1,{optional:!0})}function ch(s,u){const h=s.contentQueries;if(null!==h){const g=(0,I.Ht)(null);try{for(let f=0;f<h.length;f+=2){const v=h[f+1];if(-1!==v){const _=s.data[v];(0,m.GA0)(h[f]),_.contentQueries(2,u[v],v)}}}finally{(0,I.Ht)(g)}}}function Eo(s,u,h){(0,m.GA0)(0);const g=(0,I.Ht)(null);try{u(s,h)}finally{(0,I.Ht)(g)}}function ml(s,u,h){if((0,m.srX)(u)){const g=(0,I.Ht)(null);try{const y=u.directiveEnd;for(let v=u.directiveStart;v<y;v++){const _=s.data[v];_.contentQueries&&_.contentQueries(1,h[v],v)}}finally{(0,I.Ht)(g)}}}var Nr=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s[s.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",s}(Nr||{});let eu,Co;function Qa(){if(void 0===eu&&(eu=null,m.laP.trustedTypes))try{eu=m.laP.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return eu}function Aa(s){return Qa()?.createHTML(s)||s}function _a(){if(void 0===Co&&(Co=null,m.laP.trustedTypes))try{Co=m.laP.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Co}function zn(s){return _a()?.createHTML(s)||s}function In(s){return _a()?.createScript(s)||s}function tu(s){return _a()?.createScriptURL(s)||s}class ph{changingThisBreaksApplicationSecurity;constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${m.ok8})`}}function Sa(s){return s instanceof ph?s.changingThisBreaksApplicationSecurity:s}function ps(s,u){const h=function iu(s){return s instanceof ph&&s.getTypeName()||null}(s);if(null!=h&&h!==u){if("ResourceURL"===h&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${h} (see ${m.ok8})`)}return h===u}function ru(s){const u=new au(s);return function yh(){try{return!!(new window.DOMParser).parseFromString(Aa(""),"text/html")}catch{return!1}}()?new Zm(u):u}class Zm{inertDocumentHelper;constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const h=(new window.DOMParser).parseFromString(Aa(u),"text/html").body;return null===h?this.inertDocumentHelper.getInertBodyElement(u):(h.firstChild?.remove(),h)}catch{return null}}}class au{defaultDoc;inertDocument;constructor(u){this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(u){const h=this.inertDocument.createElement("template");return h.innerHTML=Aa(u),h}}const ef=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bh(s){return(s=String(s)).match(ef)?s:"unsafe:"+s}function na(s){const u={};for(const h of s.split(","))u[h]=!0;return u}function hn(...s){const u={};for(const h of s)for(const g in h)h.hasOwnProperty(g)&&(u[g]=!0);return u}const ou=na("area,br,col,hr,img,wbr"),_l=na("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Sl=na("rp,rt"),vh=hn(ou,hn(_l,na("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hn(Sl,na("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hn(Sl,_l)),su=na("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fs=hn(su,na("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),na("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rf=na("script,style,template");class nr{sanitizedSomething=!1;buf=[];sanitizeChildren(u){let h=u.firstChild,g=!0,f=[];for(;h;)if(h.nodeType===Node.ELEMENT_NODE?g=this.startElement(h):h.nodeType===Node.TEXT_NODE?this.chars(h.nodeValue):this.sanitizedSomething=!0,g&&h.firstChild)f.push(h),h=Pl(h);else for(;h;){h.nodeType===Node.ELEMENT_NODE&&this.endElement(h);let y=Fe(h);if(y){h=y;break}h=f.pop()}return this.buf.join("")}startElement(u){const h=kl(u).toLowerCase();if(!vh.hasOwnProperty(h))return this.sanitizedSomething=!0,!rf.hasOwnProperty(h);this.buf.push("<"),this.buf.push(h);const g=u.attributes;for(let f=0;f<g.length;f++){const y=g.item(f),v=y.name,_=v.toLowerCase();if(!fs.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let P=y.value;su[_]&&(P=bh(P)),this.buf.push(" ",v,'="',wl(P),'"')}return this.buf.push(">"),!0}endElement(u){const h=kl(u).toLowerCase();vh.hasOwnProperty(h)&&!ou.hasOwnProperty(h)&&(this.buf.push("</"),this.buf.push(h),this.buf.push(">"))}chars(u){this.buf.push(wl(u))}}function Fe(s){const u=s.nextSibling;if(u&&s!==u.previousSibling)throw C(u);return u}function Pl(s){const u=s.firstChild;if(u&&function ys(s,u){return(s.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(s,u))throw C(u);return u}function kl(s){const u=s.nodeName;return"string"==typeof u?u:"FORM"}function C(s){return new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`)}const Ah=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_h=/([^\#-~ |!])/g;function wl(s){return s.replace(/&/g,"&amp;").replace(Ah,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(_h,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Pa;function lu(s){return"content"in s&&function sf(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}const Sh=/^>|^->|<!--|-->|--!>|<!-$/g,Ph=/(<|>)/g;function L(s,u){return s.createText(u)}function V(s,u,h){s.setValue(u,h)}function de(s,u){return s.createComment(function S(s){return s.replace(Sh,u=>u.replace(Ph,"\u200b$1\u200b"))}(u))}function _e(s,u,h){return s.createElement(u,h)}function Le(s,u,h,g,f){s.insertBefore(u,h,g,f)}function we(s,u,h){s.appendChild(u,h)}function Zt(s,u,h,g,f){null!==g?Le(s,u,h,g,f):we(s,u,h)}function jt(s,u,h,g){s.removeChild(null,u,h,g)}function cu(s,u,h){const{mergedAttrs:g,classes:f,styles:y}=h;null!==g&&function Pn(s,u,h){let g=0;for(;g<h.length;){const f=h[g];if("number"==typeof f){if(0!==f)break;g++;const y=h[g++],v=h[g++],_=h[g++];s.setAttribute(u,v,_,y)}else{const y=f,v=h[++g];Vi(y)?s.setProperty(u,y,v):s.setAttribute(u,y,v),g++}}}(s,u,g),null!==f&&function QT(s,u,h){""===h?s.removeAttribute(u,"class"):s.setAttribute(u,"class",h)}(s,u,f),null!==y&&function Hi(s,u,h){s.setAttribute(u,"style",h)}(s,u,y)}var vs=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(vs||{});function lf(s){const u=Tl();return u?u.sanitize(vs.URL,s)||"":ps(s,"URL")?Sa(s):bh((0,m.eFE)(s))}function M_(s){const u=Tl();if(u)return tu(u.sanitize(vs.RESOURCE_URL,s)||"");if(ps(s,"ResourceURL"))return tu(Sa(s));throw new m.buA(904,!1)}const i1=new Set(["embed","frame","iframe","media","script"]),n1=new Set(["base","link","script"]);function Tl(){const s=(0,m.OAn)();return s&&s[m.M0L].sanitizer}const El=new Set(["attributename"]),s1={iframe:new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]),animate:El,set:El,animatemotion:El,animatetransform:El};function R_(s){return s.ownerDocument.defaultView}function L_(s){return s.ownerDocument}function ka(s){return s instanceof Function?s():s}function p1(s){if(O_(s),!(0,m.xUg)(s).standalone)throw new m.buA(907,`The ${(0,m.PP7)(s)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${(0,m.PP7)(s)} component does not have the \`standalone: false\` flag in the decorator.`)}function O_(s){if(!(0,m.xUg)(s))throw new m.buA(906,`The ${(0,m.PP7)(s)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}function G_(s,u,h){let g=s.length;for(;;){const f=s.indexOf(u,h);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const y=u.length;if(f+y===g||s.charCodeAt(f+y)<=32)return f}h=f+1}}const H_="ng-template";function g1(s,u,h,g){let f=0;if(g){for(;f<u.length&&"string"==typeof u[f];f+=2)if("class"===u[f]&&-1!==G_(u[f+1].toLowerCase(),h,0))return!0}else if(cf(s))return!1;if(f=u.indexOf(1,f),f>-1){let y;for(;++f<u.length&&"string"==typeof(y=u[f]);)if(y.toLowerCase()===h)return!0}return!1}function cf(s){return 4===s.type&&s.value!==H_}function j_(s,u,h){return u===(4!==s.type||h?s.value:H_)}function m1(s,u,h){let g=4;const f=s.attrs,y=null!==f?function y1(s){for(let u=0;u<s.length;u++)if(gn(s[u]))return u;return s.length}(f):0;let v=!1;for(let _=0;_<u.length;_++){const P=u[_];if("number"!=typeof P){if(!v)if(4&g){if(g=2|1&g,""!==P&&!j_(s,P,h)||""===P&&1===u.length){if(ra(g))return!1;v=!0}}else if(8&g){if(null===f||!g1(s,f,P,h)){if(ra(g))return!1;v=!0}}else{const R=u[++_],B=q_(P,f,cf(s),h);if(-1===B){if(ra(g))return!1;v=!0;continue}if(""!==R){let K;if(K=B>y?"":f[B+1].toLowerCase(),2&g&&R!==K){if(ra(g))return!1;v=!0}}}}else{if(!v&&!ra(g)&&!ra(P))return!1;if(v&&ra(P))continue;v=!1,g=P|1&g}}return ra(g)||v}function ra(s){return!(1&s)}function q_(s,u,h,g){if(null===u)return-1;let f=0;if(g||!h){let y=!1;for(;f<u.length;){const v=u[f];if(v===s)return f;if(3===v||6===v)y=!0;else{if(1===v||2===v){let _=u[++f];for(;"string"==typeof _;)_=u[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=y?1:2}return-1}return function b1(s,u){let h=s.indexOf(4);if(h>-1)for(h++;h<s.length;){const g=s[h];if("number"==typeof g)return-1;if(g===u)return h;h++}return-1}(u,s)}function U_(s,u,h=!1){for(let g=0;g<u.length;g++)if(m1(s,u[g],h))return!0;return!1}function Do(s,u){e:for(let h=0;h<u.length;h++){const g=u[h];if(s.length===g.length){for(let f=0;f<s.length;f++)if(s[f]!==g[f])continue e;return!0}}return!1}function V_(s,u){return s?":not("+u.trim()+")":u}function Io(s){let u=s[0],h=1,g=2,f="",y=!1;for(;h<s.length;){let v=s[h];if("string"==typeof v)if(2&g){const _=s[++h];f+="["+v+(_.length>0?'="'+_+'"':"")+"]"}else 8&g?f+="."+v:4&g&&(f+=" "+v);else""!==f&&!ra(v)&&(u+=V_(y,f),f=""),g=v,y=y||!ra(g);h++}return""!==f&&(u+=V_(y,f)),u}const gi={};function Mo(s,u,h,g,f,y,v,_,P,R,B){const K=m.Yw1+g,oe=K+f,le=function aa(s,u){const h=[];for(let g=0;g<u;g++)h.push(g<s?null:gi);return h}(K,oe),Ae="function"==typeof R?R():R;return le[m.eDl]={type:s,blueprint:le,template:h,queries:null,viewQuery:_,declTNode:u,data:le.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:P,consts:Ae,incompleteFirstPass:!1,ssrId:B}}function xl(s){const u=s.tView;return null===u||u.incompleteFirstPass?s.tView=Mo(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):u}function _s(s,u,h,g,f,y,v,_,P,R,B){const K=u.blueprint.slice();return K[m.jgP]=f,K[m.Wg1]=1228|g,(null!==R||s&&2048&s[m.Wg1])&&(K[m.Wg1]|=2048),(0,m.HUe)(K),K[m.f7T]=K[m.X5O]=s,K[m.SKP]=h,K[m.M0L]=v||s&&s[m.M0L],K[m.GpT]=_||s&&s[m.GpT],K[m.YEL]=P||s&&s[m.YEL]||null,K[m.qlT]=y,K[m.ID]=function tr(){return Yr++}(),K[m.tcA]=B,K[m.oMQ]=R,K[m.b5C]=2==u.type?s[m.b5C]:K,K}function uf(s){let u=16;return s.signals?u=4096:s.onPush&&(u=64),u}function hu(s,u,h,g){if(0===h)return-1;const f=u.length;for(let y=0;y<h;y++)u.push(g),s.blueprint.push(g),s.data.push(null);return f}function df(s,u){return s[m.EJG]?s[m.Yrj][m.K29]=u:s[m.EJG]=u,s[m.Yrj]=u,u}function W_(s=1){K_((0,m.klJ)(),(0,m.OAn)(),(0,m._px)()+s,!1)}function K_(s,u,h,g){if(!g)if(3&~u[m.Wg1]){const y=s.preOrderHooks;null!==y&&Ui(u,y,0,h)}else{const y=s.preOrderCheckHooks;null!==y&&mt(u,y,h)}(0,m.ypq)(h)}var kh=function(s){return s[s.None=0]="None",s[s.SignalBased=1]="SignalBased",s[s.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",s}(kh||{});function Ss(s,u,h,g){const f=(0,I.Ht)(null);try{const[y,v,_]=s.inputs[h];let P=null;0!==(v&kh.SignalBased)&&(P=u[y][I.bh]),null!==P&&void 0!==P.transformFn?g=P.transformFn(g):null!==_&&(g=_.call(u,g)),null!==s.setInput?s.setInput(u,P,g,h,y):Xe(u,P,y,g)}finally{(0,I.Ht)(f)}}var wh=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(wh||{});let hf;function pf(s,u){return hf(s,u)}function Th(s){if(!s)return 0;const u=s.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(s)*u}function Dl(s,u){return s.getPropertyValue(u).split(",").map(g=>g.trim())}function Ch(s,u){return void 0!==s&&s.duration>u.duration}function z_(s){return(null!=s.animationName||null!=s.propertyName)&&s.duration>0}function pu(s,u,h){if(!h)return;const g=s.getAnimations();return 0===g.length?function Y_(s,u){const h=getComputedStyle(s),g=function Il(s){const u=Dl(s,"animation-name"),h=Dl(s,"animation-delay"),g=Dl(s,"animation-duration"),f={animationName:"",propertyName:void 0,duration:0};for(let y=0;y<u.length;y++){const v=Th(h[y])+Th(g[y]);v>f.duration&&(f.animationName=u[y],f.duration=v)}return f}(h),f=function Eh(s){const u=Dl(s,"transition-property"),h=Dl(s,"transition-duration"),g=Dl(s,"transition-delay"),f={propertyName:"",duration:0,animationName:void 0};for(let y=0;y<u.length;y++){const v=Th(g[y])+Th(h[y]);v>f.duration&&(f.propertyName=u[y],f.duration=v)}return f}(h),y=g.duration>f.duration?g:f;Ch(u.get(s),y)||z_(y)&&u.set(s,y)}(s,u):function gu(s,u,h){let g={animationName:void 0,propertyName:void 0,duration:0};for(const f of h){const y=f.effect?.getTiming(),v="number"==typeof y?.duration?y.duration:0;let P,R,_=(y?.delay??0)+v;f.animationName?R=f.animationName:P=f.transitionProperty,_>=g.duration&&(g={animationName:R,propertyName:P,duration:_})}Ch(u.get(s),g)||z_(g)&&u.set(s,g)}(s,u,g)}const Ro=new Set;var gf=function(s){return s[s.CHANGE_DETECTION=0]="CHANGE_DETECTION",s[s.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",s}(gf||{});const Ps=new m.nKC(""),xh=new Set;function _n(s){xh.has(s)||(xh.add(s),performance?.mark?.("mark_feature_usage",{detail:{feature:s}}))}let Dh=(()=>{class s{impl=null;execute(){this.impl?.execute()}static \u0275prov=(0,m.jDH)({token:s,providedIn:"root",factory:()=>new s})}return s})();const Ih=[0,1,2,3];let mu=(()=>{class s{ngZone=(0,m.WQX)(m.SKi);scheduler=(0,m.WQX)(m.hk6);errorHandler=(0,m.WQX)(m.zcH,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){(0,m.WQX)(Ps,{optional:!0})}execute(){const h=this.sequences.size>0;h&&gt(He.AfterRenderHooksStart),this.executing=!0;for(const g of Ih)for(const f of this.sequences)if(!f.erroredOrDestroyed&&f.hooks[g])try{f.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,f.hooks[g])(f.pipelinedValue),f.snapshot))}catch(y){f.erroredOrDestroyed=!0,this.errorHandler?.handleError(y)}this.executing=!1;for(const g of this.sequences)g.afterRun(),g.once&&(this.sequences.delete(g),g.destroy());for(const g of this.deferredRegistrations)this.sequences.add(g);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),h&&gt(He.AfterRenderHooksEnd)}register(h){const{view:g}=h;void 0!==g?((g[m.JEi]??=[]).push(h),(0,m.blu)(g),g[m.Wg1]|=8192):this.executing?this.deferredRegistrations.add(h):this.addSequence(h)}addSequence(h){this.sequences.add(h),this.scheduler.notify(7)}unregister(h){this.executing&&this.sequences.has(h)?(h.erroredOrDestroyed=!0,h.pipelinedValue=void 0,h.once=!0):(this.sequences.delete(h),this.deferredRegistrations.delete(h))}maybeTrace(h,g){return g?g.run(gf.AFTER_NEXT_RENDER,h):h()}static \u0275prov=(0,m.jDH)({token:s,providedIn:"root",factory:()=>new s})}return s})();class Mh{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(u,h,g,f,y,v=null){this.impl=u,this.hooks=h,this.view=g,this.once=f,this.snapshot=v,this.unregisterOnDestroy=y?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const u=this.view?.[m.JEi];u&&(this.view[m.JEi]=u.filter(h=>h!==this))}}function ff(s,u){const h=u?.injector??(0,m.WQX)(m.zZn);return _n("NgAfterNextRender"),J_(s,h,u,!0)}function J_(s,u,h,g){const f=u.get(Dh);f.impl??=u.get(mu);const y=u.get(Ps,null,{optional:!0}),v=!0!==h?.manualCleanup?u.get(m.abz):null,_=u.get(m.r4V,null,{optional:!0}),P=new Mh(f.impl,function X_(s){return s instanceof Function?[void 0,void 0,s,void 0]:[s.earlyRead,s.write,s.mixedReadWrite,s.read]}(s),_?.view,g,v,y?.snapshot(null));return f.impl.register(P),P}const fu=new m.nKC("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:(0,m.WQX)(m.uvJ)})});function yf(s,u,h){const g=s.get(fu);if(Array.isArray(u))for(const f of u)g.queue.add(f),h?.detachedLeaveAnimationFns?.push(f);else g.queue.add(u),h?.detachedLeaveAnimationFns?.push(u);g.scheduler&&g.scheduler(s)}function S1(s){const u=s.get(fu);u.isScheduled||(ff(()=>{u.isScheduled=!1;for(let h of u.queue)h();u.queue.clear()},{injector:u.injector}),u.isScheduled=!0)}function yu(s){const u=s.get(fu);u.scheduler=S1,u.scheduler(s)}function Rh(s,u){for(const[h,g]of u)yf(s,g.animateFns)}function vf(s,u,h,g){const f=s?.[m.Isx]?.enter;null!==u&&f&&f.has(h.index)&&Rh(g,f)}function Ml(s,u,h,g,f,y,v,_){if(null!=f){let P,R=!1;(0,m.A0l)(f)?P=f:(0,m.q$2)(f)&&(R=!0,f=f[m.jgP]);const B=(0,m.IvY)(f);0===s&&null!==g?(vf(_,g,y,h),null==v?we(u,g,B):Le(u,g,B,v||null,!0)):1===s&&null!==g?(vf(_,g,y,h),Le(u,g,B,v||null,!0)):2===s?eS(_,y,h,K=>{jt(u,B,R,K)}):3===s&&eS(_,y,h,()=>{u.destroyNode(B)}),null!=P&&function Bh(s,u,h,g,f,y,v){const _=g[m.s6P];_!==(0,m.IvY)(g)&&Ml(u,s,h,y,_,f,v);for(let R=m.Y20;R<g.length;R++){const B=g[R];Oh(B[m.eDl],B,s,u,y,_)}}(u,s,h,P,y,g,v)}}function Z_(s,u){Rl(s,u),u[m.jgP]=null,u[m.qlT]=null}function Rl(s,u){u[m.M0L].changeDetectionScheduler?.notify(9),Oh(s,u,u[m.GpT],2,null,null)}function Lh(s,u){const h=s[m.nfM],g=h.indexOf(u);h.splice(g,1)}function ks(s,u){if((0,m.EPY)(u))return;const h=u[m.GpT];h.destroyNode&&Oh(s,u,h,3,null,null),function k1(s){let u=s[m.EJG];if(!u)return ws(s[m.eDl],s);for(;u;){let h=null;if((0,m.q$2)(u))h=u[m.EJG];else{const g=u[m.Y20];g&&(h=g)}if(!h){for(;u&&!u[m.K29]&&u!==s;)(0,m.q$2)(u)&&ws(u[m.eDl],u),u=u[m.f7T];null===u&&(u=s),(0,m.q$2)(u)&&ws(u[m.eDl],u),h=u&&u[m.K29]}u=h}}(u)}function ws(s,u){if((0,m.EPY)(u))return;const h=(0,I.Ht)(null);try{u[m.Wg1]&=-129,u[m.Wg1]|=256,u[m.Iaj]&&(0,I.XR)(u[m.Iaj]),function T1(s,u){let h;if(null!=s&&null!=(h=s.destroyHooks))for(let g=0;g<h.length;g+=2){const f=u[h[g]];if(!(f instanceof ut)){const y=h[g+1];if(Array.isArray(y))for(let v=0;v<y.length;v+=2){const _=f[y[v]],P=y[v+1];gt(He.LifecycleHookStart,_,P);try{P.call(_)}finally{gt(He.LifecycleHookEnd,_,P)}}else{gt(He.LifecycleHookStart,f,y);try{y.call(f)}finally{gt(He.LifecycleHookEnd,f,y)}}}}}(s,u),function w1(s,u){const h=s.cleanup,g=u[m.VVG];if(null!==h)for(let v=0;v<h.length-1;v+=2)if("string"==typeof h[v]){const _=h[v+3];_>=0?g[_]():g[-_].unsubscribe(),v+=2}else h[v].call(g[h[v+1]]);null!==g&&(u[m.VVG]=null);const f=u[m.Czx];if(null!==f){u[m.Czx]=null;for(let v=0;v<f.length;v++)(0,f[v])()}const y=u[m.tQN];if(null!==y){u[m.tQN]=null;for(const v of y)v.destroy()}}(s,u),1===u[m.eDl].type&&u[m.GpT].destroy();const g=u[m.rQE];if(null!==g&&(0,m.A0l)(u[m.f7T])){g!==u[m.f7T]&&Lh(g,u);const f=u[m.Ds7];null!==f&&f.detachView(s)}O(u)}finally{(0,I.Ht)(h)}}function eS(s,u,h,g){const f=s?.[m.Isx];if(null==f||null==f.leave||!f.leave.has(u.index))return g(!1);s&&Ro.add(s[m.ID]),yf(h,()=>{if(f.leave&&f.leave.has(u.index)){const v=f.leave.get(u.index),_=[];if(v){for(let P=0;P<v.animateFns.length;P++){const R=v.animateFns[P],{promise:B}=R();_.push(B)}f.detachedLeaveAnimationFns=void 0}f.running=Promise.allSettled(_),function tS(s,u){const h=s[m.Isx]?.running;h?h.then(()=>{s[m.Isx].running=void 0,Ro.delete(s[m.ID]),u(!0)}):u(!1)}(s,g)}else s&&Ro.delete(s[m.ID]),g(!1)},f)}function Af(s,u,h){return iS(s,u.parent,h)}function iS(s,u,h){let g=u;for(;null!==g&&168&g.type;)g=(u=g).parent;if(null===g)return h[m.jgP];if((0,m.Qs1)(g)){const{encapsulation:f}=s.data[g.directiveStart+g.componentOffset];if(f===Nr.None||f===Nr.Emulated)return null}return(0,m.d31)(g,h)}function D(s,u,h){return _f(s,u,h)}function Nh(s,u,h){return 40&s.type?(0,m.d31)(s,h):null}let Sf,_f=Nh;function Pf(s,u){_f=s,Sf=u}function kf(s,u,h,g){const f=Af(s,g,u),y=u[m.GpT],_=D(g.parent||u[m.qlT],g,u);if(null!=f)if(Array.isArray(h))for(let P=0;P<h.length;P++)Zt(y,f,h[P],_,!1);else Zt(y,f,h,_,!1);void 0!==Sf&&Sf(y,g,u,h,f)}function Za(s,u){if(null!==u){const h=u.type;if(3&h)return(0,m.d31)(u,s);if(4&h)return Fh(-1,s[u.index]);if(8&h){const g=u.child;if(null!==g)return Za(s,g);{const f=s[u.index];return(0,m.A0l)(f)?Fh(-1,f):(0,m.IvY)(f)}}if(128&h)return Za(s,u.next);if(32&h)return pf(u,s)()||(0,m.IvY)(s[u.index]);{const g=nS(s,u);return null!==g?Array.isArray(g)?g[0]:Za((0,m._0$)(s[m.b5C]),g):Za(s,u.next)}}return null}function nS(s,u){return null!==u?s[m.b5C][m.qlT].projection[u.projection]:null}function Fh(s,u){const h=m.Y20+s+1;if(h<u.length){const g=u[h],f=g[m.eDl].firstChild;if(null!==f)return Za(g,f)}return u[m.s6P]}function wf(s,u,h,g,f,y,v){for(;null!=h;){const _=g[m.YEL];if(128===h.type){h=h.next;continue}const P=g[h.index],R=h.type;if(v&&0===u&&(P&&Ue((0,m.IvY)(P),g),h.flags|=2),!sr(h))if(8&R)wf(s,u,h.child,g,f,y,!1),Ml(u,s,_,f,P,h,y,g);else if(32&R){const B=pf(h,g);let K;for(;K=B();)Ml(u,s,_,f,K,h,y,g);Ml(u,s,_,f,P,h,y,g)}else 16&R?rS(s,u,g,h,f,y):Ml(u,s,_,f,P,h,y,g);h=v?h.projectionNext:h.next}}function Oh(s,u,h,g,f,y){wf(h,g,s.firstChild,u,f,y,!1)}function rS(s,u,h,g,f,y){const v=h[m.b5C],P=v[m.qlT].projection[g.projection];if(Array.isArray(P))for(let R=0;R<P.length;R++)Ml(u,s,h[m.YEL],f,P[R],g,y,h);else{let R=P;const B=v[m.f7T];cn(g)&&(R.flags|=128),wf(s,u,R,B,f,y,!0)}}function Es(s,u,h,g,f){const y=(0,m._px)(),v=2&g;try{(0,m.ypq)(-1),v&&u.length>m.Yw1&&K_(s,u,m.Yw1,!1),gt(v?He.TemplateUpdateStart:He.TemplateCreateStart,f,h),h(g,f)}finally{(0,m.ypq)(y),gt(v?He.TemplateUpdateEnd:He.TemplateCreateEnd,f,h)}}function Lo(s,u,h){(function M1(s,u,h){const g=h.directiveStart,f=h.directiveEnd;(0,m.Qs1)(h)&&function du(s,u,h){const g=(0,m.d31)(u,s),f=xl(h),y=s[m.M0L].rendererFactory,v=df(s,_s(s,f,null,uf(h),g,u,null,y.createRenderer(g,h),null,null,null));s[u.index]=v}(u,h,s.data[g+h.componentOffset]),s.firstCreatePass||Ki(h,u);const y=h.initialInputs;for(let v=g;v<f;v++){const _=s.data[v],P=Nn(u,s,v,h);Ue(P,u),null!==y&&Ef(0,v-g,P,_,0,y),(0,m.JlV)(_)&&((0,m.KdJ)(h.index,u)[m.SKP]=Nn(u,s,v,h))}})(s,u,h),!(64&~h.flags)&&function R1(s,u,h){const g=h.directiveStart,f=h.directiveEnd,y=h.index,v=(0,m.Z9v)();try{(0,m.ypq)(y);for(let _=g;_<f;_++){const P=s.data[_],R=u[_];(0,m.RZ9)(_),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&L1(P,R)}}finally{(0,m.ypq)(-1),(0,m.RZ9)(v)}}(s,u,h)}function eo(s,u,h=m.d31){const g=u.localNames;if(null!==g){let f=u.index+1;for(let y=0;y<g.length;y+=2){const v=g[y+1],_=-1===v?h(u,s):s[v];s[f++]=_}}}let Gh=()=>null;function Cs(s,u,h,g,f,y){xf(s,u[m.eDl],u,h,g)?(0,m.Qs1)(s)&&Tf(u,s.index):(3&s.type&&(h=function D1(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(h)),vu(s,u,h,g,f,y))}function vu(s,u,h,g,f,y){if(3&s.type){const v=(0,m.d31)(s,u);g=null!=y?y(g,s.value||"",h):g,f.setProperty(v,h,g)}}function Tf(s,u){const h=(0,m.KdJ)(u,s);16&h[m.Wg1]||(h[m.Wg1]|=64)}function L1(s,u){null!==s.hostBindings&&s.hostBindings(1,u)}function Hh(s,u){const h=s.directiveRegistry;let g=null;if(h)for(let f=0;f<h.length;f++){const y=h[f];U_(u,y.selectors,!1)&&(g??=[],(0,m.JlV)(y)?g.unshift(y):g.push(y))}return g}function jh(s,u,h,g,f,y,v){if(null==y)s.removeAttribute(u,f,h);else{const _=null==v?(0,m.eFE)(y):v(y,g||"",f);s.setAttribute(u,f,_,h)}}function Ef(s,u,h,g,f,y){const v=y[u];if(null!==v)for(let _=0;_<v.length;_+=2)Ss(g,h,v[_],v[_+1])}function qh(s,u,h,g,f){const y=m.Yw1+h,v=u[m.eDl],_=f(v,u,s,g,h);u[y]=_,(0,m.iMd)(s,!0);const P=2===s.type;return P?(cu(u[m.GpT],_,s),(0===(0,m.znI)()||(0,m.yoD)(s))&&Ue(_,u),(0,m.Fje)()):Ue(_,u),(0,m.SX7)()&&(!P||!sr(s))&&kf(v,u,_,s),s}function Uh(s){let u=s;return(0,m.YWB)()?(0,m.Pfq)():(u=u.parent,(0,m.iMd)(u,!1)),u}function oS(s,u,h){return(null===s||(0,m.JlV)(s))&&(h=(0,m.zAe)(h[u.index])),h[m.GpT]}function Cf(s,u){const h=s[m.YEL];if(!h)return;let g;try{g=h.get(m.ZTf,null)}catch{g=null}g?.(u)}function xf(s,u,h,g,f){const y=s.inputs?.[g],v=s.hostDirectiveInputs?.[g];let _=!1;if(v)for(let P=0;P<v.length;P+=2){const R=v[P];Ss(u.data[R],h[R],v[P+1],f),_=!0}if(y)for(const P of y)Ss(u.data[P],h[P],g,f),_=!0;return _}function rn(s,u){const h=(0,m.KdJ)(u,s),g=h[m.eDl];!function Vh(s,u){for(let h=u.length;h<s.blueprint.length;h++)u.push(s.blueprint[h])}(g,h);const f=h[m.jgP];null!==f&&null===h[m.tcA]&&(h[m.tcA]=null),gt(He.ComponentStart);try{No(g,h,h[m.SKP])}finally{gt(He.ComponentEnd,h[m.SKP])}}function No(s,u,h){(0,m.ID8)(u);try{const g=s.viewQuery;null!==g&&Eo(1,g,h);const f=s.template;null!==f&&Es(s,u,f,1,h),s.firstCreatePass&&(s.firstCreatePass=!1),u[m.Ds7]?.finishViewCreation(s),s.staticContentQueries&&ch(s,u),s.staticViewQueries&&Eo(2,s.viewQuery,h);const y=s.components;null!==y&&function xs(s,u){for(let h=0;h<u.length;h++)rn(s,u[h])}(u,y)}catch(g){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),g}finally{u[m.Wg1]&=-5,(0,m.bll)()}}function Ll(s,u,h,g){const f=(0,I.Ht)(null);try{const y=u.tView,P=_s(s,y,h,4096&s[m.Wg1]?4096:16,null,u,null,null,g?.injector??null,g?.embeddedViewInjector??null,g?.dehydratedView??null);P[m.rQE]=s[u.index];const B=s[m.Ds7];return null!==B&&(P[m.Ds7]=B.createEmbeddedView(y)),No(y,P,h),P}finally{(0,I.Ht)(f)}}function wa(s,u){return!u||null===u.firstChild||cn(s)}function Nl(s,u,h,g,f=!1){for(;null!==h;){if(128===h.type){h=f?h.projectionNext:h.next;continue}const y=u[h.index];null!==y&&g.push((0,m.IvY)(y)),(0,m.A0l)(y)&&Au(y,g);const v=h.type;if(8&v)Nl(s,u,h.child,g);else if(32&v){const _=pf(h,u);let P;for(;P=_();)g.push(P)}else if(16&v){const _=nS(u,h);if(Array.isArray(_))g.push(..._);else{const P=(0,m._0$)(u[m.b5C]);Nl(P[m.eDl],P,_,g,!0)}}h=f?h.projectionNext:h.next}return g}function Au(s,u){for(let h=m.Y20;h<s.length;h++){const g=s[h],f=g[m.eDl].firstChild;null!==f&&Nl(g[m.eDl],g,f,u)}s[m.s6P]!==s[m.jgP]&&u.push(s[m.s6P])}function sS(s){if(null!==s[m.JEi]){for(const u of s[m.JEi])u.impl.addSequence(u);s[m.JEi].length=0}}let Fl=[];const If={...I.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:s=>{(0,m.blu)(s.lView)},consumerOnSignalRead(){this.lView[m.Iaj]=this}},Rf={...I.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:s=>{let u=(0,m._0$)(s.lView);for(;u&&!Kh(u[m.eDl]);)u=(0,m._0$)(u);u&&(0,m.HAh)(u)},consumerOnSignalRead(){this.lView[m.Iaj]=this}};function Kh(s){return 2!==s.type}function zh(s){if(null===s[m.tQN])return;let u=!0;for(;u;){let h=!1;for(const g of s[m.tQN])g.dirty&&(h=!0,null===g.zone||Zone.current===g.zone?g.run():g.zone.run(()=>g.run()));u=h&&!!(8192&s[m.Wg1])}}function Ol(s,u=0){const g=s[m.M0L].rendererFactory;g.begin?.();try{!function lS(s,u){const h=(0,m.yP_)();try{(0,m.cBl)(!0),Lf(s,u);let g=0;for(;(0,m.dMS)(s);){if(100===g)throw new m.buA(103,!1);g++,Lf(s,1)}}finally{(0,m.cBl)(h)}}(s,u)}finally{g.end?.()}}function Fo(s,u,h,g){if((0,m.EPY)(u))return;const f=u[m.Wg1];(0,m.ID8)(u);let _=!0,P=null,R=null;Kh(s)?(R=function oa(s){return s[m.Iaj]??function Wh(s){const u=Fl.pop()??Object.create(If);return u.lView=s,u}(s)}(u),P=(0,I.Bg)(R)):null===(0,I.nR)()?(_=!1,R=function Mf(s){const u=s[m.Iaj]??Object.create(Rf);return u.lView=s,u}(u),P=(0,I.Bg)(R)):u[m.Iaj]&&((0,I.XR)(u[m.Iaj]),u[m.Iaj]=null);try{(0,m.HUe)(u),(0,m.Kw3)(s.bindingStartIndex),null!==h&&Es(s,u,h,2,g);const B=!(3&~f);if(B){const le=s.preOrderCheckHooks;null!==le&&mt(u,le,null)}else{const le=s.preOrderHooks;null!==le&&Ui(u,le,0,null),Mt(u,0)}if(function Xi(s){for(let u=On(s);null!==u;u=Ha(u)){if(!(2&u[m.Wg1]))continue;const h=u[m.nfM];for(let g=0;g<h.length;g++)(0,m.HAh)(h[g])}}(u),zh(u),Yh(u,0),null!==s.contentQueries&&ch(s,u),B){const le=s.contentCheckHooks;null!==le&&mt(u,le)}else{const le=s.contentHooks;null!==le&&Ui(u,le,1),Mt(u,1)}!function Ds(s,u){const h=s.hostBindingOpCodes;if(null!==h)try{for(let g=0;g<h.length;g++){const f=h[g];if(f<0)(0,m.ypq)(~f);else{const y=f,v=h[++g],_=h[++g];(0,m.vQI)(v,y);const P=u[y];gt(He.HostBindingsUpdateStart,P);try{_(2,P)}finally{gt(He.HostBindingsUpdateEnd,P)}}}}finally{(0,m.ypq)(-1)}}(s,u);const K=s.components;null!==K&&qt(u,K,0);const oe=s.viewQuery;if(null!==oe&&Eo(2,oe,g),B){const le=s.viewCheckHooks;null!==le&&mt(u,le)}else{const le=s.viewHooks;null!==le&&Ui(u,le,2),Mt(u,2)}if(!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),u[m.pcR]){for(const le of u[m.pcR])le();u[m.pcR]=null}sS(u),u[m.Wg1]&=-73}catch(B){throw(0,m.blu)(u),B}finally{null!==R&&((0,I.Wu)(R,P),_&&function O1(s){s.lView[m.Iaj]!==s&&(s.lView=null,Fl.push(s))}(R)),(0,m.bll)()}}function Yh(s,u){for(let h=On(s);null!==h;h=Ha(h))for(let g=m.Y20;g<h.length;g++)Bl(h[g],u)}function ur(s,u,h){gt(He.ComponentStart);const g=(0,m.KdJ)(u,s);try{Bl(g,h)}finally{gt(He.ComponentEnd,g[m.SKP])}}function Bl(s,u){(0,m.F1c)(s)&&Lf(s,u)}function Lf(s,u){const g=s[m.eDl],f=s[m.Wg1],y=s[m.Iaj];let v=!!(0===u&&16&f);if(v||=!!(64&f&&0===u),v||=!!(1024&f),v||=!(!y?.dirty||!(0,I.si)(y)),v||=!1,y&&(y.dirty=!1),s[m.Wg1]&=-9217,v)Fo(g,s,g.template,s[m.SKP]);else if(8192&f){const _=(0,I.Ht)(null);try{zh(s),Yh(s,1);const P=g.components;null!==P&&qt(s,P,1),sS(s)}finally{(0,I.Ht)(_)}}}function qt(s,u,h){for(let g=0;g<u.length;g++)ur(s,u[g],h)}function $l(s,u){const h=(0,m.yP_)()?64:1088;for(s[m.M0L].changeDetectionScheduler?.notify(u);s;){s[m.Wg1]|=h;const g=(0,m._0$)(s);if((0,m.EFk)(s)&&!g)return s;s=g}return null}function Xh(s,u,h,g){return[s,!0,0,u,null,g,null,h,null,null]}function uS(s,u){const h=m.Y20+u;if(h<s.length)return s[h]}function Oo(s,u,h,g=!0){const f=u[m.eDl];if(function dS(s,u,h,g){const f=m.Y20+g,y=h.length;g>0&&(h[f-1][m.K29]=u),g<y-m.Y20?(u[m.K29]=h[f],(0,m.EYC)(h,m.Y20+g,u)):(h.push(u),u[m.K29]=null),u[m.f7T]=h;const v=u[m.rQE];null!==v&&h!==v&&Qh(v,u);const _=u[m.Ds7];null!==_&&_.insertView(s),(0,m._gW)(u),u[m.Wg1]|=128}(f,u,s,h),g){const v=Fh(h,s),_=u[m.GpT],P=_.parentNode(s[m.s6P]);null!==P&&function P1(s,u,h,g,f,y){g[m.jgP]=f,g[m.qlT]=u,Oh(s,g,h,1,f,y)}(f,s[m.qlT],_,u,P,v)}const y=u[m.tcA];null!==y&&null!==y.firstChild&&(y.firstChild=null)}function Jh(s,u){const h=Is(s,u);return void 0!==h&&ks(h[m.eDl],h),h}function Is(s,u){if(s.length<=m.Y20)return;const h=m.Y20+u,g=s[h];if(g){const f=g[m.rQE];null!==f&&f!==s&&Lh(f,g),u>0&&(s[h-1][m.K29]=g[m.K29]);const y=(0,m.E6O)(s,m.Y20+u);Z_(g[m.eDl],g);const v=y[m.Ds7];null!==v&&v.detachView(y[m.eDl]),g[m.f7T]=null,g[m.K29]=null,g[m.Wg1]&=-129}return g}function Qh(s,u){const h=s[m.nfM],g=u[m.f7T];((0,m.q$2)(g)||u[m.b5C]!==g[m.f7T][m.b5C])&&(s[m.Wg1]|=2),null===h?s[m.nfM]=[u]:h.push(u)}class Zh{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const u=this._lView,h=u[m.eDl];return Nl(h,u,h.firstChild,[])}constructor(u,h){this._lView=u,this._cdRefInjectingView=h}get context(){return this._lView[m.SKP]}set context(u){this._lView[m.SKP]=u}get destroyed(){return(0,m.EPY)(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[m.f7T];if((0,m.A0l)(u)){const h=u[m.bm_],g=h?h.indexOf(this):-1;g>-1&&(Is(u,g),(0,m.E6O)(h,g))}this._attachedToViewContainer=!1}ks(this._lView[m.eDl],this._lView)}onDestroy(u){(0,m.ik5)(this._lView,u)}markForCheck(){$l(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[m.Wg1]&=-129}reattach(){(0,m._gW)(this._lView),this._lView[m.Wg1]|=128}detectChanges(){this._lView[m.Wg1]|=1024,Ol(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new m.buA(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const u=(0,m.EFk)(this._lView),h=this._lView[m.rQE];null!==h&&!u&&Lh(h,this._lView),Rl(this._lView[m.eDl],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new m.buA(902,!1);this._appRef=u;const h=(0,m.EFk)(this._lView),g=this._lView[m.rQE];null!==g&&!h&&Qh(g,this._lView),(0,m._gW)(this._lView)}}let Ms=(()=>class s{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=G1;constructor(h,g,f){this._declarationLView=h,this._declarationTContainer=g,this.elementRef=f}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(h,g){return this.createEmbeddedViewImpl(h,g)}createEmbeddedViewImpl(h,g,f){const y=Ll(this._declarationLView,this._declarationTContainer,h,{embeddedViewInjector:g,dehydratedView:f});return new Zh(y)}})();function G1(){return Gl((0,m.Mx4)(),(0,m.OAn)())}function Gl(s,u){return 4&s.type?new Ms(u,s,Ei(s,u)):null}function mS(s,u,h){const g=u.insertBeforeIndex,f=Array.isArray(g)?g[0]:g;return null===f?Nh(s,0,h):(0,m.IvY)(h[f])}function np(s,u,h,g,f){const y=u.insertBeforeIndex;if(Array.isArray(y)){let v=g,_=null;if(3&u.type||(_=v,v=f),null!==v&&-1===u.componentOffset)for(let P=1;P<y.length;P++)Le(s,v,h[y[P]],_,!1)}}function Ls(s,u,h,g,f){let y=s.data[u];if(null===y)y=wu(s,u,h,g,f),(0,m.JjR)()&&(y.flags|=32);else if(64&y.type){y.type=h,y.value=g,y.attrs=f;const v=(0,m.Ab)();y.injectorIndex=null===v?-1:v.injectorIndex}return(0,m.iMd)(y,!0),y}function wu(s,u,h,g,f){const y=(0,m.veI)(),v=(0,m.YWB)(),P=s.data[u]=function Gf(s,u,h,g,f,y){let v=u?u.injectorIndex:-1,_=0;return(0,m.KtD)()&&(_|=128),{type:h,index:g,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:_,providerIndexes:0,value:f,attrs:y,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?y:y&&y.parent,h,u,g,f);return function fS(s,u,h,g){null===s.firstChild&&(s.firstChild=u),null!==h&&(g?null==h.child&&null!==u.parent&&(h.child=u):null===h.next&&(h.next=u,u.prev=h))}(s,P,y,v),P}function yS(s,u){if(s.push(u),s.length>1)for(let h=s.length-2;h>=0;h--){const g=s[h];rp(g)||V1(g,u)&&null===Hf(g)&&W1(g,u.index)}}function rp(s){return!(64&s.type)}function V1(s,u){return rp(u)||s.index>u.index}function Hf(s){const u=s.insertBeforeIndex;return Array.isArray(u)?u[0]:u}function W1(s,u){const h=s.insertBeforeIndex;Array.isArray(h)?h[0]=u:(Pf(mS,np),s.insertBeforeIndex=u)}function Ns(s,u){const h=s.data[u];return null===h||"string"==typeof h?null:h.hasOwnProperty("currentCaseLViewIndex")?h:h.value}function Ta(s,u,h){const g=wu(s,h,64,null,null);return yS(u,g),g}function ap(s,u){const h=u[s.currentCaseLViewIndex];return null===h?h:h<0?~h:h}function op(s){return s>>>17}function bS(s){return(131070&s)>>>1}function qf(s,u,h){s.index=0;const g=ap(u,h);s.removes=null!==g?u.remove[g]:m.Mlv}function Hl(s){if(s.index<s.removes.length){const u=s.removes[s.index++];return u>0?s.lView[u]:(s.stack.push(s.index,s.removes),qf(s,s.lView[m.eDl].data[~u],s.lView),Hl(s))}return 0===s.stack.length?(s.lView=void 0,null):(s.removes=s.stack.pop(),s.index=s.stack.pop(),Hl(s))}function Ea(){const s={stack:[],index:-1};return function u(h,g){for(s.lView=g;s.stack.length;)s.stack.pop();return qf(s,h.value,g),Hl.bind(null,s)}}function iy(s,u,h){for(const g of h.node.cases[h.case]){const f=u.get(g.index-m.Yw1);f&&jt(s,f,!1)}}function hp(s){const u=s[m.qFA]??[],g=s[m.f7T][m.GpT],f=[];for(const y of u)void 0!==y.data.di?f.push(y):RS(y,g);s[m.qFA]=f}function ny(s){const{lContainer:u}=s,h=u[m.qFA];if(null===h)return;const f=u[m.f7T][m.GpT];for(const y of h)RS(y,f)}function RS(s,u){let h=0,g=s.firstChild;if(g){const f=s.data.r;for(;h<f;){const y=g.nextSibling;jt(u,g,!1),g=y,h++}}}function jl(s){hp(s);const u=s[m.jgP];(0,m.q$2)(u)&&pp(u);for(let h=m.Y20;h<s.length;h++)pp(s[h])}function pp(s){!function eE(s){const u=s[m.tcA];if(u){const{i18nNodes:h,dehydratedIcuData:g}=u;if(h&&g){const f=s[m.GpT];for(const y of g.values())iy(f,h,y)}u.i18nNodes=void 0,u.dehydratedIcuData=void 0}}(s);const u=s[m.eDl];for(let h=m.Yw1;h<u.bindingStartIndex;h++)(0,m.A0l)(s[h])?jl(s[h]):(0,m.q$2)(s[h])&&pp(s[h])}let sy=class{},FS=class{};class ly{resolveComponentFactory(u){throw new m.buA(917,!1)}}let yp=class{static NULL=new ly};class xu{}let cy=(()=>class s{destroyNode=null;static __NG_ELEMENT_ID__=()=>function uy(){const s=(0,m.OAn)(),u=(0,m.Mx4)(),h=(0,m.KdJ)(u.index,s);return((0,m.q$2)(h)?h:s)[m.GpT]}()})(),rE=(()=>{class s{static \u0275prov=(0,m.jDH)({token:s,providedIn:"root",factory:()=>null})}return s})();function Du(s){return void 0!==s.ngModule}function ql(s){return!!(0,m.phH)(s)}function bp(s){return!!(0,m.oyA)(s)}function vp(s){return!!(0,m.HaV)(s)}function Iu(s){return!!(0,m.xUg)(s)}function OS(s,u){if((0,m.Jzi)(s)&&!(s=(0,m.nl4)(s)))throw new Error(`Expected forwardRef function, imported from "${(0,m.PP7)(u)}", to return a standalone entity or NgModule but got "${(0,m.PP7)(s)||s}".`);if(null==(0,m.phH)(s)){const h=(0,m.xUg)(s)||(0,m.HaV)(s)||(0,m.oyA)(s);if(null==h)throw Du(s)?new Error(`A module with providers was imported from "${(0,m.PP7)(u)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${(0,m.PP7)(s)}" type, imported from "${(0,m.PP7)(u)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`);if(!h.standalone){const g=function dy(s){return(0,m.xUg)(s)?"component":(0,m.HaV)(s)?"directive":(0,m.oyA)(s)?"pipe":"type"}(s);throw new Error(`The "${(0,m.PP7)(s)}" ${g}, imported from "${(0,m.PP7)(u)}", is not standalone. Does the ${g} have the standalone: false flag?`)}}}class hy{ownerNgModule=new Map;ngModulesWithSomeUnresolvedDecls=new Set;ngModulesScopeCache=new Map;standaloneComponentsScopeCache=new Map;resolveNgModulesDecls(){if(0!==this.ngModulesWithSomeUnresolvedDecls.size){for(const u of this.ngModulesWithSomeUnresolvedDecls){const h=(0,m.phH)(u);if(h?.declarations)for(const g of ka(h.declarations))Iu(g)&&this.ownerNgModule.set(g,u)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(u,h){this.resolveNgModulesDecls();const g=(0,m.xUg)(u);if(null===g)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${u}`);if(g.standalone){const f=this.getStandaloneComponentScope(u,h);return f.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...f.compilation.directives,...f.compilation.pipes,...f.compilation.ngModules]}}{if(!this.ownerNgModule.has(u))return{dependencies:[]};const f=this.getNgModuleScope(this.ownerNgModule.get(u));return f.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...f.compilation.directives,...f.compilation.pipes]}}}registerNgModule(u,h){if(!ql(u))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${u}`);this.ngModulesWithSomeUnresolvedDecls.add(u)}clearScopeCacheFor(u){this.ngModulesScopeCache.delete(u),this.standaloneComponentsScopeCache.delete(u)}getNgModuleScope(u){if(this.ngModulesScopeCache.has(u))return this.ngModulesScopeCache.get(u);const h=this.computeNgModuleScope(u);return this.ngModulesScopeCache.set(u,h),h}computeNgModuleScope(u){const h=(0,m.WbQ)(u),g={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(const f of ka(h.imports))if(ql(f)){const y=this.getNgModuleScope(f);Ho(y.exported.directives,g.compilation.directives),Ho(y.exported.pipes,g.compilation.pipes)}else{if(!(0,m.QuC)(f)){g.compilation.isPoisoned=!0;break}if(vp(f)||Iu(f))g.compilation.directives.add(f);else{if(!bp(f))throw new m.buA(980,"The standalone imported type is neither a component nor a directive nor a pipe");g.compilation.pipes.add(f)}}if(!g.compilation.isPoisoned)for(const f of ka(h.declarations)){if(ql(f)||(0,m.QuC)(f)){g.compilation.isPoisoned=!0;break}bp(f)?g.compilation.pipes.add(f):g.compilation.directives.add(f)}for(const f of ka(h.exports))if(ql(f)){const y=this.getNgModuleScope(f);Ho(y.exported.directives,g.exported.directives),Ho(y.exported.pipes,g.exported.pipes),Ho(y.exported.directives,g.compilation.directives),Ho(y.exported.pipes,g.compilation.pipes)}else bp(f)?g.exported.pipes.add(f):g.exported.directives.add(f);return g}getStandaloneComponentScope(u,h){if(this.standaloneComponentsScopeCache.has(u))return this.standaloneComponentsScopeCache.get(u);const g=this.computeStandaloneComponentScope(u,h);return this.standaloneComponentsScopeCache.set(u,g),g}computeStandaloneComponentScope(u,h){const g={compilation:{directives:new Set([u]),pipes:new Set,ngModules:new Set}};for(const f of(0,m.Bqz)(h??[])){const y=(0,m.nl4)(f);try{OS(y,u)}catch{return g.compilation.isPoisoned=!0,g}if(ql(y)){g.compilation.ngModules.add(y);const v=this.getNgModuleScope(y);if(v.exported.isPoisoned)return g.compilation.isPoisoned=!0,g;Ho(v.exported.directives,g.compilation.directives),Ho(v.exported.pipes,g.compilation.pipes)}else if(bp(y))g.compilation.pipes.add(y);else{if(!vp(y)&&!Iu(y))return g.compilation.isPoisoned=!0,g;g.compilation.directives.add(y)}}return g}isOrphanComponent(u){const h=(0,m.xUg)(u);return!(!h||h.standalone||(this.resolveNgModulesDecls(),this.ownerNgModule.has(u)))}}function Ho(s,u){for(const h of s)u.add(h)}const Bs=new hy,jo={};class Ul{injector;parentInjector;constructor(u,h){this.injector=u,this.parentInjector=h}get(u,h,g){const f=this.injector.get(u,jo,g);return f!==jo||h===jo?f:this.parentInjector.get(u,h,g)}}function Vl(s,u,h){let g=h?s.styles:null,f=h?s.classes:null,y=0;if(null!==u)for(let v=0;v<u.length;v++){const _=u[v];if("number"==typeof _)y=_;else if(1==y)f=(0,m.n$e)(f,_);else if(2==y){const R=u[++v];g=(0,m.n$e)(g,_+": "+R+";")}}h?s.styles=g:s.stylesWithoutHost=g,h?s.classes=f:s.classesWithoutHost=f}function Wl(s,u=0){const h=(0,m.OAn)();return null===h?(0,m.KVO)(s,u):Ri((0,m.Mx4)(),h,(0,m.nl4)(s),u)}function BS(s,u,h,g,f){const y=null===g?null:{"":-1},v=f(s,h);if(null!==v){let _=v,P=null,R=null;for(const B of v)if(null!==B.resolveHostDirectives){[_,P,R]=B.resolveHostDirectives(v);break}!function my(s,u,h,g,f,y,v){const _=g.length;let P=null;for(let oe=0;oe<_;oe++){const le=g[oe];null===P&&(0,m.JlV)(le)&&(P=le,aE(s,h,oe)),kn(Ki(h,u),s,le.type)}(function Ru(s,u,h){s.flags|=1,s.directiveStart=u,s.directiveEnd=u+h,s.providerIndexes=u})(h,s.data.length,_),P?.viewProvidersResolver&&P.viewProvidersResolver(P);for(let oe=0;oe<_;oe++){const le=g[oe];le.providersResolver&&le.providersResolver(le)}let R=!1,B=!1,K=hu(s,u,_,null);_>0&&(h.directiveToIndex=new Map);for(let oe=0;oe<_;oe++){const le=g[oe];if(h.mergedAttrs=Wi(h.mergedAttrs,le.hostAttrs),GS(s,h,u,K,le),sE(K,le,f),null!==v&&v.has(le)){const[Ne,ze]=v.get(le);h.directiveToIndex.set(le.type,[K,Ne+h.directiveStart,ze+h.directiveStart])}else(null===y||!y.has(le))&&h.directiveToIndex.set(le.type,K);null!==le.contentQueries&&(h.flags|=4),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(h.flags|=64);const Ae=le.type.prototype;!R&&(Ae.ngOnChanges||Ae.ngOnInit||Ae.ngDoCheck)&&((s.preOrderHooks??=[]).push(h.index),R=!0),!B&&(Ae.ngOnChanges||Ae.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(h.index),B=!0),K++}!function Nt(s,u,h){for(let g=u.directiveStart;g<u.directiveEnd;g++){const f=s.data[g];if(null!==h&&h.has(f)){const y=h.get(f);qo(0,u,y,g),qo(1,u,y,g),fy(u,g,!0)}else $S(0,u,f,g),$S(1,u,f,g),fy(u,g,!1)}}(s,h,y)}(s,u,h,_,y,P,R)}null!==y&&null!==g&&function gy(s,u,h){const g=s.localNames=[];for(let f=0;f<u.length;f+=2){const y=h[u[f+1]];if(null==y)throw new m.buA(-301,!1);g.push(u[f],y)}}(h,g,y)}function aE(s,u,h){u.componentOffset=h,(s.components??=[]).push(u.index)}function $S(s,u,h,g){const f=0===s?h.inputs:h.outputs;for(const y in f)if(f.hasOwnProperty(y)){let v;v=0===s?u.inputs??={}:u.outputs??={},v[y]??=[],v[y].push(g),Mu(u,y)}}function qo(s,u,h,g){const f=0===s?h.inputs:h.outputs;for(const y in f)if(f.hasOwnProperty(y)){const v=f[y];let _;_=0===s?u.hostDirectiveInputs??={}:u.hostDirectiveOutputs??={},_[v]??=[],_[v].push(g,y),Mu(u,v)}}function Mu(s,u){"class"===u?s.flags|=8:"style"===u&&(s.flags|=16)}function fy(s,u,h){const{attrs:g,inputs:f,hostDirectiveInputs:y}=s;if(null===g||!h&&null===f||h&&null===y||cf(s))return s.initialInputs??=[],void s.initialInputs.push(null);let v=null,_=0;for(;_<g.length;){const P=g[_];if(0!==P)if(5!==P){if("number"==typeof P)break;if(!h&&f.hasOwnProperty(P)){const R=f[P];for(const B of R)if(B===u){v??=[],v.push(P,g[_+1]);break}}else if(h&&y.hasOwnProperty(P)){const R=y[P];for(let B=0;B<R.length;B+=2)if(R[B]===u){v??=[],v.push(R[B+1],g[_+1]);break}}_+=2}else _+=2;else _+=4}s.initialInputs??=[],s.initialInputs.push(v)}function GS(s,u,h,g,f){s.data[g]=f;const y=f.factory||(f.factory=(0,m.wGu)(f.type,!0)),v=new ut(y,(0,m.JlV)(f),Wl,null);s.blueprint[g]=v,h[g]=v,function Ap(s,u,h,g,f){const y=f.hostBindings;if(y){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const _=~u.index;(function oE(s){let u=s.length;for(;u>0;){const h=s[--u];if("number"==typeof h&&h<0)return h}return 0})(v)!=_&&v.push(_),v.push(h,g,y)}}(s,u,g,hu(s,h,f.hostVars,gi),f)}function sE(s,u,h){if(h){if(u.exportAs)for(let g=0;g<u.exportAs.length;g++)h[u.exportAs[g]]=s;(0,m.JlV)(u)&&(h[""]=s)}}function yy(s,u,h,g,f,y,v,_){const P=u[m.eDl],R=P.consts,K=Ls(P,s,h,g,(0,m.db4)(R,v));return y&&BS(P,u,K,(0,m.db4)(R,_),f),K.mergedAttrs=Wi(K.mergedAttrs,K.attrs),null!==K.attrs&&Vl(K,K.attrs,!1),null!==K.mergedAttrs&&Vl(K,K.mergedAttrs,!0),null!==P.queries&&P.queries.elementStart(P,K),K}function by(s,u){sn(s,u),(0,m.srX)(u)&&s.queries.elementEnd(u)}function vy(s,u,h,g,f,y){const v=u.consts,P=Ls(u,s,h,g,(0,m.db4)(v,f));if(P.mergedAttrs=Wi(P.mergedAttrs,P.attrs),null!=y){const R=(0,m.db4)(v,y);P.localNames=[];for(let B=0;B<R.length;B+=2)P.localNames.push(R[B],-1)}return null!==P.attrs&&Vl(P,P.attrs,!1),null!==P.mergedAttrs&&Vl(P,P.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,P),P}function Kl(s){return!!sa(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function lE(s,u){if(Array.isArray(s))for(let h=0;h<s.length;h++)u(s[h]);else{const h=s[Symbol.iterator]();let g;for(;!(g=h.next()).done;)u(g.value)}}function sa(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function xa(s,u,h){return s[u]=h}function Lu(s,u){return s[u]}function Ci(s,u,h){return h!==gi&&(!Object.is(s[u],h)&&(s[u]=h,!0))}function $s(s,u,h,g){const f=Ci(s,u,h);return Ci(s,u+1,g)||f}function _p(s,u,h,g,f){const y=$s(s,u,h,g);return Ci(s,u+2,f)||y}function Zi(s,u,h,g,f,y){const v=$s(s,u,h,g);return $s(s,u+2,f,y)||v}const Sp=Symbol("CONTROL");function Or(s,u,h){return function g(f){$l((0,m.Qs1)(s)?(0,m.KdJ)(s.index,u):u,5);const v=u[m.SKP];let _=cE(u,v,h,f),P=g.__ngNextListenerFn__;for(;P;)_=cE(u,v,P,f)&&_,P=P.__ngNextListenerFn__;return _}}function cE(s,u,h,g){const f=(0,I.Ht)(null);try{return gt(He.OutputStart,u,h),!1!==h(g)}catch(y){return Cf(s,y),!1}finally{gt(He.OutputEnd,u,h),(0,I.Ht)(f)}}function Ay(s,u,h,g,f,y,v,_){const P=(0,m.yoD)(s);let R=!1,B=null;if(!g&&P&&(B=function Q2(s,u,h,g){const f=s.cleanup;if(null!=f)for(let y=0;y<f.length-1;y+=2){const v=f[y];if(v===h&&f[y+1]===g){const _=u[m.VVG],P=f[y+2];return _&&_.length>P?_[P]:null}"string"==typeof v&&(y+=2)}return null}(u,h,y,s.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=v,B.__ngLastListenerFn__=v,R=!0;else{const K=(0,m.d31)(s,h),oe=g?g(K):K,le=f.listen(oe,y,_);(function J2(s){return s.startsWith("animation")||s.startsWith("transition")})(y)||jS(g?Ne=>g((0,m.IvY)(Ne[s.index])):s.index,u,h,y,_,le,!1)}return R}function jS(s,u,h,g,f,y,v){const _=u.firstCreatePass?(0,m.vNG)(u):null,P=(0,m.d_l)(h),R=P.length;P.push(f,y),_&&_.push(g,s,R,(R+1)*(v?-1:1))}function Nu(s,u,h,g,f,y){const _=u[m.eDl],K=u[h][_.data[h].outputs[g]].subscribe(y);jS(s.index,_,u,f,y,K,!0)}const to=Symbol("BINDING");class US extends yp{ngModule;constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const h=(0,m.xUg)(u);return new zl(h,this.ngModule)}}class zl extends FS{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function VS(s){return Object.keys(s).map(u=>{const[h,g,f]=s[u],y={propName:h,templateName:u,isSignal:0!==(g&kh.SignalBased)};return f&&(y.transform=f),y})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function _y(s){return Object.keys(s).map(u=>({propName:s[u],templateName:u}))}(this.componentDef.outputs),this.cachedOutputs}constructor(u,h){super(),this.componentDef=u,this.ngModule=h,this.componentType=u.type,this.selector=function v1(s){return s.map(Io).join(",")}(u.selectors),this.ngContentSelectors=u.ngContentSelectors??[],this.isBoundToModule=!!h}create(u,h,g,f,y,v){gt(He.DynamicComponentStart);const _=(0,I.Ht)(null);try{const P=this.componentDef,R=function Sy(s,u,h,g){const f=s?["ng-version","21.1.1"]:function A1(s){const u=[],h=[];let g=1,f=2;for(;g<s.length;){let y=s[g];if("string"==typeof y)2===f?""!==y&&u.push(y,s[++g]):8===f&&h.push(y);else{if(!ra(f))break;f=y}g++}return h.length&&u.push(1,...h),u}(u.selectors[0]);let y=null,v=null,_=0;if(h)for(const B of h)_+=B[to].requiredVars,B.create&&(B.targetIdx=0,(y??=[]).push(B)),B.update&&(B.targetIdx=0,(v??=[]).push(B));if(g)for(let B=0;B<g.length;B++){const K=g[B];if("function"!=typeof K)for(const oe of K.bindings){_+=oe[to].requiredVars;const le=B+1;oe.create&&(oe.targetIdx=le,(y??=[]).push(oe)),oe.update&&(oe.targetIdx=le,(v??=[]).push(oe))}}const P=[u];if(g)for(const B of g){const oe=(0,m.HaV)("function"==typeof B?B:B.type);P.push(oe)}return Mo(0,null,function WS(s,u){return s||u?h=>{if(1&h&&s)for(const g of s)g.create();if(2&h&&u)for(const g of u)g.update()}:null}(y,v),1,_,P,null,null,null,[f],null)}(g,P,v,y),B=function bE(s,u,h){let g=u instanceof m.uvJ?u:u?.injector;return g&&null!==s.getStandaloneInjector&&(g=s.getStandaloneInjector(g)||g),g?new Ul(h,g):h}(P,f||this.ngModule,u),K=function vE(s){const u=s.get(xu,null);if(null===u)throw new m.buA(407,!1);return{rendererFactory:u,sanitizer:s.get(rE,null),changeDetectionScheduler:s.get(m.hk6,null),ngReflect:!1}}(B),oe=K.rendererFactory.createRenderer(null,P),le=g?function bu(s,u,h,g){const y=g.get(Zr,!1)||h===Nr.ShadowDom||h===Nr.ExperimentalIsolatedShadowDom,v=s.selectRootElement(u,y);return function $h(s){Gh(s)}(v),v}(oe,g,P.encapsulation,B):function AE(s,u){const h=function _E(s){return(s.selectors[0][0]||"div").toLowerCase()}(s);return _e(u,h,"svg"===h?m.jNX:"math"===h?m.rJ1:null)}(P,oe),Ae=v?.some(KS)||y?.some(st=>"function"!=typeof st&&st.bindings.some(KS)),Ne=_s(null,R,null,512|uf(P),null,null,K,oe,B,null,null);Ne[m.Yw1]=le,(0,m.ID8)(Ne);let ze=null;try{const st=yy(m.Yw1,Ne,2,"#host",()=>R.directiveRegistry,!0,0);cu(oe,le,st),Ue(le,Ne),Lo(R,Ne,st),ml(R,st,Ne),by(R,st),void 0!==h&&function SE(s,u,h){const g=s.projection=[];for(let f=0;f<u.length;f++){const y=h[f];g.push(null!=y&&y.length?Array.from(y):null)}}(st,this.ngContentSelectors,h),ze=(0,m.KdJ)(st.index,Ne),Ne[m.SKP]=ze[m.SKP],No(R,Ne,null)}catch(st){throw null!==ze&&O(ze),O(Ne),st}finally{gt(He.DynamicComponentEnd),(0,m.bll)()}return new wp(this.componentType,Ne,!!Ae)}finally{(0,I.Ht)(_)}}}function KS(s){const u=s[to].kind;return"input"===u||"twoWay"===u}class wp extends sy{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(u,h,g){super(),this._rootLView=h,this._hasInputBindings=g,this._tNode=(0,m.XRZ)(h[m.eDl],m.Yw1),this.location=Ei(this._tNode,h),this.instance=(0,m.KdJ)(this._tNode.index,h)[m.SKP],this.hostView=this.changeDetectorRef=new Zh(h,void 0),this.componentType=u}setInput(u,h){const g=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(u)&&Object.is(this.previousInputValues.get(u),h))return;const f=this._rootLView;xf(g,f[m.eDl],f,u,h),this.previousInputValues.set(u,h),$l((0,m.KdJ)(g.index,f),1)}get injector(){return new pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}let Tp=(()=>class s{static __NG_ELEMENT_ID__=PE})();function PE(){return YS((0,m.Mx4)(),(0,m.OAn)())}const kE=Tp,zS=class extends kE{_lContainer;_hostTNode;_hostLView;constructor(u,h,g){super(),this._lContainer=u,this._hostTNode=h,this._hostLView=g}get element(){return Ei(this._hostTNode,this._hostLView)}get injector(){return new pi(this._hostTNode,this._hostLView)}get parentInjector(){const u=Ti(this._hostTNode,this._hostLView);if(Jn(u)){const h=Bi(u,this._hostLView),g=Oi(u);return new pi(h[m.eDl].data[g+8],h)}return new pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const h=Py(this._lContainer);return null!==h&&h[u]||null}get length(){return this._lContainer.length-m.Y20}createEmbeddedView(u,h,g){let f,y;"number"==typeof g?f=g:null!=g&&(f=g.index,y=g.injector);const _=u.createEmbeddedViewImpl(h||{},y,null);return this.insertImpl(_,f,wa(this._hostTNode,null)),_}createComponent(u,h,g,f,y,v,_){const P=u&&!xt(u);let R;if(P)R=h;else{const ze=h||{};R=ze.index,g=ze.injector,f=ze.projectableNodes,y=ze.environmentInjector||ze.ngModuleRef,v=ze.directives,_=ze.bindings}const B=P?u:new zl((0,m.xUg)(u)),K=g||this.parentInjector;if(!y&&null==B.ngModule){const st=(P?K:this.parentInjector).get(m.uvJ,null);st&&(y=st)}(0,m.xUg)(B.componentType??{});const Ne=B.create(K,f,null,y,v,_);return this.insertImpl(Ne.hostView,R,wa(this._hostTNode,null)),Ne}insert(u,h){return this.insertImpl(u,h,!0)}insertImpl(u,h,g){const f=u._lView;if((0,m.ITl)(f)){const _=this.indexOf(u);if(-1!==_)this.detach(_);else{const P=f[m.f7T],R=new zS(P,P[m.qlT],P[m.f7T]);R.detach(R.indexOf(u))}}const y=this._adjustIndex(h),v=this._lContainer;return Oo(v,f,y,g),u.attachToViewContainerRef(),(0,m.EYC)(ky(v),y,u),u}move(u,h){return this.insert(u,h)}indexOf(u){const h=Py(this._lContainer);return null!==h?h.indexOf(u):-1}remove(u){const h=this._adjustIndex(u,-1),g=Is(this._lContainer,h);g&&((0,m.E6O)(ky(this._lContainer),h),ks(g[m.eDl],g))}detach(u){const h=this._adjustIndex(u,-1),g=Is(this._lContainer,h);return g&&null!=(0,m.E6O)(ky(this._lContainer),h)?new Zh(g):null}_adjustIndex(u,h=0){return u??this.length+h}};function Py(s){return s[m.bm_]}function ky(s){return s[m.bm_]||(s[m.bm_]=[])}function YS(s,u){let h;const g=u[s.index];return(0,m.A0l)(g)?h=g:(h=Xh(g,u,null,s),u[s.index]=h,df(u,h)),wy(h,u,s,g),new zS(h,s,u)}let wy=function JS(s,u,h,g){if(s[m.s6P])return;let f;f=8&h.type?(0,m.IvY)(g):function wE(s,u){const h=s[m.GpT],g=h.createComment(""),f=(0,m.d31)(u,s),y=h.parentNode(f);return Le(h,y,g,h.nextSibling(f),!1),g}(u,h),s[m.s6P]=f};class Yl{queryList;matches=null;constructor(u){this.queryList=u}clone(){return new Yl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ep{queries;constructor(u=[]){this.queries=u}createEmbeddedView(u){const h=u.queries;if(null!==h){const g=null!==u.contentQueries?u.contentQueries[0]:h.length,f=[];for(let y=0;y<g;y++){const v=h.getByIndex(y);f.push(this.queries[v.indexInDeclarationView].clone())}return new Ep(f)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}finishViewCreation(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let h=0;h<this.queries.length;h++)null!==Iy(u,h).matches&&this.queries[h].setDirty()}}class QS{flags;read;predicate;constructor(u,h,g=null){this.flags=h,this.read=g,this.predicate="string"==typeof u?function ME(s){return s.split(",").map(u=>u.trim())}(u):u}}class Ey{queries;constructor(u=[]){this.queries=u}elementStart(u,h){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(u,h)}elementEnd(u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(u)}embeddedTView(u){let h=null;for(let g=0;g<this.length;g++){const f=null!==h?h.length:0,y=this.getByIndex(g).embeddedTView(u,f);y&&(y.indexInDeclarationView=g,null!==h?h.push(y):h=[y])}return null!==h?new Ey(h):null}template(u,h){for(let g=0;g<this.queries.length;g++)this.queries[g].template(u,h)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class Cy{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(u,h=-1){this.metadata=u,this._declarationNodeIndex=h}elementStart(u,h){this.isApplyingToNode(h)&&this.matchTNode(u,h)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,h){this.elementStart(u,h)}embeddedTView(u,h){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,h),new Cy(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1&~this.metadata.flags){const h=this._declarationNodeIndex;let g=u.parent;for(;null!==g&&8&g.type&&g.index!==h;)g=g.parent;return h===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(u,h){const g=this.metadata.predicate;if(Array.isArray(g))for(let f=0;f<g.length;f++){const y=g[f];this.matchTNodeWithReadOption(u,h,CE(h,y)),this.matchTNodeWithReadOption(u,h,er(h,u,y,!1,!1))}else g===Ms?4&h.type&&this.matchTNodeWithReadOption(u,h,-1):this.matchTNodeWithReadOption(u,h,er(h,u,g,!1,!1))}matchTNodeWithReadOption(u,h,g){if(null!==g){const f=this.metadata.read;if(null!==f)if(f===Rt||f===Tp||f===Ms&&4&h.type)this.addMatch(h.index,-2);else{const y=er(h,u,f,!1,!1);null!==y&&this.addMatch(h.index,y)}else this.addMatch(h.index,g)}}addMatch(u,h){null===this.matches?this.matches=[u,h]:this.matches.push(u,h)}}function CE(s,u){const h=s.localNames;if(null!==h)for(let g=0;g<h.length;g+=2)if(h[g]===u)return h[g+1];return null}function DE(s,u,h,g){return-1===h?function xE(s,u){return 11&s.type?Ei(s,u):4&s.type?Gl(s,u):null}(u,s):-2===h?function IE(s,u,h){return h===Rt?Ei(u,s):h===Ms?Gl(u,s):h===Tp?YS(u,s):void 0}(s,u,g):Nn(s,s[m.eDl],h,u)}function ZS(s,u,h,g){const f=u[m.Ds7].queries[g];if(null===f.matches){const y=s.data,v=h.matches,_=[];for(let P=0;null!==v&&P<v.length;P+=2){const R=v[P];_.push(R<0?null:DE(u,y[R],v[P+1],h.metadata.read))}f.matches=_}return f.matches}function xy(s,u,h,g){const f=s.queries.getByIndex(h),y=f.matches;if(null!==y){const v=ZS(s,u,f,h);for(let _=0;_<y.length;_+=2){const P=y[_];if(P>0)g.push(v[_/2]);else{const R=y[_+1],B=u[-P];for(let K=m.Y20;K<B.length;K++){const oe=B[K];oe[m.rQE]===oe[m.f7T]&&xy(oe[m.eDl],oe,R,g)}if(null!==B[m.nfM]){const K=B[m.nfM];for(let oe=0;oe<K.length;oe++){const le=K[oe];xy(le[m.eDl],le,R,g)}}}}}return g}function Dy(s,u){return s[m.Ds7].queries[u].queryList}function eP(s,u,h){const g=new zi(!(4&~h));return(0,m.B22)(s,u,g,g.destroy),(u[m.Ds7]??=new Ep).queries.push(new Yl(g))-1}function tP(s,u,h){const g=(0,m.klJ)();return g.firstCreatePass&&(nP(g,new QS(s,u,h),-1),!(2&~u)&&(g.staticViewQueries=!0)),eP(g,(0,m.OAn)(),u)}function iP(s,u,h,g){const f=(0,m.klJ)();if(f.firstCreatePass){const y=(0,m.Mx4)();nP(f,new QS(u,h,g),y.index),function RE(s,u){const h=s.contentQueries||(s.contentQueries=[]);u!==(h.length?h[h.length-1]:-1)&&h.push(s.queries.length-1,u)}(f,s),!(2&~h)&&(f.staticContentQueries=!0)}return eP(f,(0,m.OAn)(),h)}function nP(s,u,h){null===s.queries&&(s.queries=new Ey),s.queries.track(new Cy(u,h))}function Iy(s,u){return s.queries.getByIndex(u)}function rP(s,u){const h=s[m.eDl],g=Iy(h,u);return g.crossesNgTemplate?xy(h,s,u,[]):ZS(h,s,g,u)}function aP(s,u){const h=s[I.bh];h._lView=(0,m.OAn)(),h._queryIndex=u,h._queryList=Dy(h._lView,u),h._queryList.onDirty(()=>h._dirtyCounter.update(g=>g+1))}let Gs=new Map;const Fu=new Set;function NE(s){return Ry.apply(this,arguments)}function Ry(){return Ry=(0,E.A)(function*(s){const u=Gs;Gs=new Map;const h=new Map;function g(y){const v=h.get(y);if(v)return v;const _=s(y).then(P=>function sP(s,u){return Ly.apply(this,arguments)}(y,P));return h.set(y,_),_}const f=Array.from(u).map(function(){var y=(0,E.A)(function*([v,_]){if(_.styleUrl&&_.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");const P=[];_.templateUrl&&P.push(g(_.templateUrl).then(oe=>{_.template=oe}));const R="string"==typeof _.styles?[_.styles]:_.styles??[];_.styles=R;let{styleUrl:B,styleUrls:K}=_;if(B&&(K=[B],_.styleUrl=void 0),K?.length){const oe=Promise.all(K.map(le=>g(le))).then(le=>{R.push(...le),_.styleUrls=void 0});P.push(oe)}yield Promise.all(P),Fu.delete(v)});return function(v){return y.apply(this,arguments)}}());yield Promise.all(f)}),Ry.apply(this,arguments)}function Xl(){return 0===Gs.size}function Ly(){return(Ly=(0,E.A)(function*(s,u){if("string"==typeof u)return u;if(void 0!==u.status&&200!==u.status)throw new m.buA(918,!1);return u.text()})).apply(this,arguments)}const Ny=new Map;function cP(s,u){(function OE(s,u,h){if(u&&u!==h)throw new m.buA(921,!1)})(0,Ny.get(u)||null,s),Ny.set(u,s)}let Hs=class{},BE=class{};function $E(s,u){return new Fy(s,u??null,[])}class Fy extends Hs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new US(this);constructor(u,h,g,f=!0){super(),this.ngModuleType=u,this._parent=h;const y=(0,m.phH)(u);this._bootstrapComponents=ka(y.bootstrap),this._r3Injector=(0,m.Pz9)(u,h,[{provide:Hs,useValue:this},{provide:yp,useValue:this.componentFactoryResolver},...g],(0,m.AsM)(u),new Set(["environment"])),f&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class uP extends BE{moduleType;constructor(u){super(),this.moduleType=u}create(u){return new Fy(this.moduleType,u,[])}}function GE(s,u,h){return new Fy(s,u,h,!1)}class Cp extends Hs{injector;componentFactoryResolver=new US(this);instance=null;constructor(u){super();const h=new m.e5P([...u.providers,{provide:Hs,useValue:this},{provide:yp,useValue:this.componentFactoryResolver}],u.parent||(0,m.WB9)(),u.debugName,new Set(["environment"]));this.injector=h,u.runEnvironmentInitializers&&h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(u){this.injector.onDestroy(u)}}function dP(s,u,h=null){return new Cp({providers:s,parent:u,debugName:h,runEnvironmentInitializers:!0}).injector}let HE=(()=>{class s{_injector;cachedInjectors=new Map;constructor(h){this._injector=h}getOrCreateStandaloneInjector(h){if(!h.standalone)return null;if(!this.cachedInjectors.has(h)){const g=(0,m.jXY)(!1,h.type),f=g.length>0?dP([g],this._injector,""):null;this.cachedInjectors.set(h,f)}return this.cachedInjectors.get(h)}ngOnDestroy(){try{for(const h of this.cachedInjectors.values())null!==h&&h.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,m.jDH)({token:s,providedIn:"environment",factory:()=>new s((0,m.KVO)(m.uvJ))})}return s})();function Jl(s){return te(()=>{const u=mP(s),h={...u,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===Cn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:u.standalone&&s.dependencies||null,getStandaloneInjector:u.standalone?f=>f.get(HE).getOrCreateStandaloneInjector(h):null,getExternalStyles:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||Nr.Emulated,styles:s.styles||m.Mlv,_:null,schemas:s.schemas||null,tView:null,id:""};u.standalone&&_n("NgStandalone"),fP(h);const g=s.dependencies;return h.directiveDefs=Dp(g,hP),h.pipeDefs=Dp(g,m.oyA),h.id=function VE(s){let u=0;const g=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,"function"==typeof s.consts?"":s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery];for(const y of g.join("|"))u=Math.imul(31,u)+y.charCodeAt(0)|0;return u+=2147483648,"c"+u}(h),h})}function hP(s){return(0,m.xUg)(s)||(0,m.HaV)(s)}function pP(s){return te(()=>({type:s.type,bootstrap:s.bootstrap||m.Mlv,declarations:s.declarations||m.Mlv,imports:s.imports||m.Mlv,exports:s.exports||m.Mlv,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function jE(s,u){if(null==s)return m.MZA;const h={};for(const g in s)if(s.hasOwnProperty(g)){const f=s[g];let y,v,_,P;Array.isArray(f)?(_=f[0],y=f[1],v=f[2]??y,P=f[3]||null):(y=f,v=f,_=kh.None,P=null),h[y]=[g,_,P],u[y]=v}return h}function qE(s){if(null==s)return m.MZA;const u={};for(const h in s)s.hasOwnProperty(h)&&(u[s[h]]=h);return u}function xp(s){return te(()=>{const u=mP(s);return fP(u),u})}function gP(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:s.standalone??!0,onDestroy:s.type.prototype.ngOnDestroy||null}}function mP(s){const u={};return{type:s.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputConfig:s.inputs||m.MZA,exportAs:s.exportAs||null,standalone:s.standalone??!0,signals:!0===s.signals,selectors:s.selectors||m.Mlv,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:jE(s.inputs,u),outputs:qE(s.outputs),debugInfo:null}}function fP(s){s.features?.forEach(u=>u(s))}function Dp(s,u){return s?()=>{const h="function"==typeof s?s():s,g=[];for(const f of h){const y=u(f);null!==y&&g.push(y)}return g}:null}function yP(s){const u=[];let h=!1,g=null,f=null;for(let y=0;y<s.length;y++){const v=s[y];if(null!==v.hostDirectives){const _=u.length;g??=new Map,f??=new Map,bP(v,u,g),f.set(v,[_,u.length-1])}0===y&&(0,m.JlV)(v)&&(h=!0,u.push(v))}for(let y=h?1:0;y<s.length;y++)u.push(s[y]);return[u,g,f]}function bP(s,u,h){if(null!==s.hostDirectives)for(const g of s.hostDirectives)if("function"==typeof g){const f=g();for(const y of f)vP(Oy(y),u,h)}else vP(g,u,h)}function vP(s,u,h){const g=(0,m.HaV)(s.directive);(function KE(s,u){for(const h in u)u.hasOwnProperty(h)&&(s[u[h]]=s[h])})(g.declaredInputs,s.inputs),bP(g,u,h),h.set(g,s),u.push(g)}function Oy(s){return"function"==typeof s?{directive:(0,m.nl4)(s),inputs:m.MZA,outputs:m.MZA}:{directive:(0,m.nl4)(s.directive),inputs:AP(s.inputs),outputs:AP(s.outputs)}}function AP(s){if(void 0===s||0===s.length)return m.MZA;const u={};for(let h=0;h<s.length;h+=2)u[s[h]]=s[h+1];return u}function Ou(s){let u=function SP(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),h=!0;const g=[s];for(;u;){let f;if((0,m.JlV)(s))f=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new m.buA(903,!1);f=u.\u0275dir}if(f){if(h){g.push(f);const v=s;v.inputs=$y(s.inputs),v.declaredInputs=$y(s.declaredInputs),v.outputs=$y(s.outputs);const _=f.hostBindings;_&&XE(s,_);const P=f.viewQuery,R=f.contentQueries;if(P&&zE(s,P),R&&YE(s,R),PP(s,f),(0,m.dwj)(s.outputs,f.outputs),(0,m.JlV)(f)&&f.data.animation){const B=s.data;B.animation=(B.animation||[]).concat(f.data.animation)}}const y=f.features;if(y)for(let v=0;v<y.length;v++){const _=y[v];_&&_.ngInherit&&_(s),_===Ou&&(h=!1)}}u=Object.getPrototypeOf(u)}!function By(s){let u=0,h=null;for(let g=s.length-1;g>=0;g--){const f=s[g];f.hostVars=u+=f.hostVars,f.hostAttrs=Wi(f.hostAttrs,h=Wi(h,f.hostAttrs))}}(g)}function PP(s,u){for(const h in u.inputs){if(!u.inputs.hasOwnProperty(h)||s.inputs.hasOwnProperty(h))continue;const g=u.inputs[h];void 0!==g&&(s.inputs[h]=g,s.declaredInputs[h]=u.declaredInputs[h])}}function $y(s){return s===m.MZA?{}:s===m.Mlv?[]:s}function zE(s,u){const h=s.viewQuery;s.viewQuery=h?(g,f)=>{u(g,f),h(g,f)}:u}function YE(s,u){const h=s.contentQueries;s.contentQueries=h?(g,f,y)=>{u(g,f,y),h(g,f,y)}:u}function XE(s,u){const h=s.hostBindings;s.hostBindings=h?(g,f)=>{u(g,f),h(g,f)}:u}function kP(s,u,h,g,f,y,v,_){if(h.firstCreatePass){s.mergedAttrs=Wi(s.mergedAttrs,s.attrs);const B=s.tView=Mo(2,s,f,y,v,h.directiveRegistry,h.pipeRegistry,null,h.schemas,h.consts,null);null!==h.queries&&(h.queries.template(h,s),B.queries=h.queries.embeddedTView(s))}_&&(s.flags|=_),(0,m.iMd)(s,!1);const P=Hy(h,u,s,g);(0,m.SX7)()&&kf(h,u,P,s),Ue(P,u);const R=Xh(P,u,P,s);u[g+m.Yw1]=R,df(u,R)}function io(s,u,h,g,f,y,v,_,P,R,B){const K=h+m.Yw1;let oe;if(u.firstCreatePass){if(oe=Ls(u,K,4,v||null,_||null),null!=R){const le=(0,m.db4)(u.consts,R);oe.localNames=[];for(let Ae=0;Ae<le.length;Ae+=2)oe.localNames.push(le[Ae],-1)}}else oe=u.data[K];return kP(oe,s,u,h,g,f,y,P),null!=R&&eo(s,oe,B),oe}function la(s,u,h,g,f,y,v,_){const P=(0,m.OAn)(),R=(0,m.klJ)();return function Gy(s,u,h,g,f,y,v,_,P,R,B){const K=h+m.Yw1;let oe;u.firstCreatePass?(oe=Ls(u,K,4,v||null,_||null),(0,m.ckz)()&&BS(u,s,oe,(0,m.db4)(u.consts,R),Hh),sn(u,oe)):oe=u.data[K],kP(oe,s,u,h,g,f,y,P),(0,m.yoD)(oe)&&Lo(u,s,oe),null!=R&&eo(s,oe,B)}(P,R,s,u,h,g,f,(0,m.db4)(R.consts,y),void 0,v,_),la}function Br(s,u,h,g,f,y,v,_){const P=(0,m.OAn)(),R=(0,m.klJ)();return io(P,R,s,u,h,g,f,(0,m.db4)(R.consts,y),void 0,v,_),Br}let Hy=function wP(s,u,h,g){return(0,m.m7n)(!0),u[m.GpT].createComment("")};var an=function(s){return s[s.NOT_STARTED=0]="NOT_STARTED",s[s.IN_PROGRESS=1]="IN_PROGRESS",s[s.COMPLETE=2]="COMPLETE",s[s.FAILED=3]="FAILED",s}(an||{}),Si=function(s){return s[s.Placeholder=0]="Placeholder",s[s.Loading=1]="Loading",s[s.Complete=2]="Complete",s[s.Error=3]="Error",s}(Si||{}),no=function(s){return s[s.Initial=-1]="Initial",s}(no||{}),tc=function(s){return s[s.Manual=0]="Manual",s[s.Playthrough=1]="Playthrough",s}(tc||{});function $u(s,u,h){const g=CP(s);null===u[g]&&(u[g]=[]),u[g].push(h)}function Rp(s,u){const h=CP(s),g=u[h];if(null!==g){for(const f of g)f();u[h]=null}}function EP(s){Rp(1,s),Rp(0,s),Rp(2,s)}function CP(s){let u=4;return 1===s?u=5:2===s&&(u=9),u}function Ia(s){return s+1}function hr(s,u){return s[Ia(u.index)]}function Qe(s,u){const h=Ia(u.index);return s.data[h]}function Uy(s,u){return u===Si.Placeholder?s.placeholderBlockConfig?.[0]??null:u===Si.Loading?s.loadingBlockConfig?.[0]??null:null}function Lp(s){return s.loadingBlockConfig?.[1]??null}function xP(s,u){if(!s||0===s.length)return u;const h=new Set(s);for(const g of u)h.add(g);return s.length===h.size?s:Array.from(h)}function Vy(s,u,h,g){const f=h.get(m.SKi);return function Rr(s,u,h,g){const f=ea(g);let y=Mr.get(s)?.get(f);So.has(f)||So.set(f,{observer:h(g),count:0});const v=So.get(f);if(!y){y=new Po,v.observer.observe(s);let _=Mr.get(s);_?_.set(f,y):(_=new Map,Mr.set(s,_)),_.set(f,y),v.count++}return y.callbacks.add(u),()=>{if(Mr.get(s)?.has(f)){if(y.callbacks.delete(u),0===y.callbacks.size){v.observer.unobserve(s),v.count--;const _=Mr.get(s);_&&(_.delete(f),0===_.size&&Mr.delete(s))}0===v.count&&(v.observer.disconnect(),So.delete(f))}}}(s,()=>f.run(u),y=>f.runOutsideAngular(()=>function Kd(s){const u=ea(s);return new IntersectionObserver(h=>{for(const g of h)g.isIntersecting&&Mr.has(g.target)&&Mr.get(g.target)?.get(u)?.listener()},s)}(y)),g)}function ic(s,u,h,g,f,y,v,_){const P=s[m.YEL],R=P.get(m.SKi);let B;B=function mf(s,u){const h=u?.injector??(0,m.WQX)(m.zZn);return _n("NgAfterRender"),J_(s,h,u,!1)}({read:function K(){if((0,m.EPY)(s))return void B.destroy();const oe=hr(s,u),le=oe[1];if(le!==no.Initial&&le!==Si.Placeholder)return void B.destroy();const Ae=function n0(s,u,h){return null==h?s:h>=0?(0,m.jRZ)(h,s):s[u.index][m.Y20]??null}(s,u,g);if(!Ae||(B.destroy(),(0,m.EPY)(Ae)))return;const Ne=function r0(s,u){return(0,m.vaC)(m.Yw1+u,s)}(Ae,h),ze=f(Ne,()=>{R.run(()=>{s!==Ae&&(0,m.DyX)(Ae,ze),y()})},P,_);s!==Ae&&(0,m.ik5)(Ae,ze),$u(v,oe,ze)}},{injector:P})}function Np(s,u){const h=u.get(s0);return h.add(s),()=>h.remove(s)}let s0=(()=>{class s{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=(0,m.WQX)(m.SKi);requestIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout)().bind(globalThis);add(h){(this.executingCallbacks?this.deferred:this.current).add(h),null===this.idleId&&this.scheduleIdleCallback()}remove(h){const{current:g,deferred:f}=this;g.delete(h),f.delete(h),0===g.size&&0===f.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const h=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const g of this.current)g();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const g of this.deferred)this.current.add(g);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(h))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static \u0275prov=(0,m.jDH)({token:s,providedIn:"root",factory:()=>new s})}return s})();function Fp(s){return(u,h)=>IP(s,u,h)}function IP(s,u,h){const g=h.get(l0),f=h.get(m.SKi);return g.add(s,u,f),()=>g.remove(u)}let l0=(()=>{class s{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(h,g,f){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+h,g),this.scheduleTimer(f)}remove(h){const{current:g,deferred:f}=this;-1===this.removeFromQueue(g,h)&&this.removeFromQueue(f,h),0===g.length&&0===f.length&&this.clearTimeout()}addToQueue(h,g,f){let y=h.length;for(let v=0;v<h.length;v+=2)if(h[v]>g){y=v;break}(0,m.llW)(h,y,g,f)}removeFromQueue(h,g){let f=-1;for(let y=0;y<h.length;y+=2)if(h[y+1]===g){f=y;break}return f>-1&&(0,m.gsJ)(h,f,2),f}scheduleTimer(h){const g=()=>{this.clearTimeout(),this.executingCallbacks=!0;const y=[...this.current],v=Date.now();for(let P=0;P<y.length;P+=2){const B=y[P+1];if(!(y[P]<=v))break;B()}let _=-1;for(let P=0;P<this.current.length&&this.current[P]<=v;P+=2)_=P+1;if(_>=0&&(0,m.gsJ)(this.current,0,_+1),this.executingCallbacks=!1,this.deferred.length>0){for(let P=0;P<this.deferred.length;P+=2)this.addToQueue(this.current,this.deferred[P],this.deferred[P+1]);this.deferred.length=0}this.scheduleTimer(h)};if(this.current.length>0){const y=Date.now(),v=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-v>16){this.clearTimeout();const _=Math.max(v-y,16);this.invokeTimerAt=v,this.timeoutId=h.runOutsideAngular(()=>setTimeout(()=>h.run(g),_))}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=(0,m.jDH)({token:s,providedIn:"root",factory:()=>new s})}return s})(),c0=(()=>{class s{cachedInjectors=new Map;getOrCreateInjector(h,g,f,y){if(!this.cachedInjectors.has(h)){const v=f.length>0?dP(f,g,y):null;this.cachedInjectors.set(h,v)}return this.cachedInjectors.get(h)}ngOnDestroy(){try{for(const h of this.cachedInjectors.values())null!==h&&h.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,m.jDH)({token:s,providedIn:"environment",factory:()=>new s})}return s})();const u0=new m.nKC("");function $r(s,u,h){return s.get(c0).getOrCreateInjector(u,s,h,"")}function Uo(s,u,h,g=!1){const f=h[m.f7T],y=f[m.eDl];if((0,m.EPY)(f))return;const v=hr(f,u),P=v[7];if(!(null!==P&&s<P)&&Op(v[1],s)&&Op(v[0]??-1,s)){const R=Qe(y,u),K=g||null===Lp(R)&&null===Uy(R,Si.Loading)&&!Uy(R,Si.Placeholder)?MP:Ky;try{K(s,v,h,u,f)}catch(oe){Cf(f,oe)}}}function MP(s,u,h,g,f){gt(He.DeferBlockStateStart);const y=function qy(s,u,h){const f=Qe(u[m.eDl],h);switch(s){case Si.Complete:return f.primaryTmplIndex;case Si.Loading:return f.loadingTmplIndex;case Si.Error:return f.errorTmplIndex;case Si.Placeholder:return f.placeholderTmplIndex;default:return null}}(s,f,g);if(null!==y){u[1]=s;const v=f[m.eDl],P=(0,m.XRZ)(v,y+m.Yw1),R=0;let B;if(Jh(h,R),s===Si.Complete){const Ae=Qe(v,g),Ne=Ae.providers;Ne&&Ne.length>0&&(B=function gL(s,u,h){if(s instanceof Ul){const f=s.injector,v=$r(s.parentInjector,u,h);return new Ul(f,v)}const g=s.get(m.uvJ);if(g!==s){const f=$r(g,u,h);return new Ul(s,f)}return $r(s,u,h)}(f[m.YEL],Ae,Ne))}const{dehydratedView:K,dehydratedViewIx:oe}=function d0(s,u){const h=s[m.qFA]?.findIndex(f=>f.data.s===u[1])??-1;return{dehydratedView:h>-1?s[m.qFA][h]:null,dehydratedViewIx:h}}(h,u),le=Ll(f,P,null,{injector:B,dehydratedView:K});if(Oo(h,le,R,wa(P,K)),$l(le,2),oe>-1&&h[m.qFA]?.splice(oe,1),(s===Si.Complete||s===Si.Error)&&Array.isArray(u[8])){for(const Ae of u[8])Ae();u[8]=null}}gt(He.DeferBlockStateEnd)}function Wy(s,u,h,g,f){const y=Date.now(),_=Qe(f[m.eDl],g);if(null===u[2]||u[2]<=y){u[2]=null;const P=Lp(_),R=null!==u[3];if(s!==Si.Loading||null===P||R){s>Si.Loading&&R&&(u[3](),u[3]=null,u[0]=null),MP(s,u,h,g,f);const B=Uy(_,s);null!==B&&(u[2]=y+B,RP(B,u,g,h,f))}else{u[0]=s;const B=RP(P,u,g,h,f);u[3]=B}}else u[0]=s}function RP(s,u,h,g,f){return IP(s,()=>{const v=u[0];u[2]=null,u[0]=null,null!==v&&Uo(v,h,g)},f[m.YEL])}function Op(s,u){return s<u}function nc(s,u){Uo(Si.Placeholder,u,s[u.index])}function Bp(s,u,h){s.loadingPromise.then(()=>{s.loadingState===an.COMPLETE?Uo(Si.Complete,u,h):s.loadingState===an.FAILED&&Uo(Si.Error,u,h)})}let Ky=null;function Yy(s,u,h,g){return te(()=>{const f=s;null!==u&&(f.hasOwnProperty("decorators")&&void 0!==f.decorators?f.decorators.push(...u):f.decorators=u),null!==h&&(f.ctorParameters=h),null!==g&&(f.propDecorators=f.hasOwnProperty("propDecorators")&&void 0!==f.propDecorators?{...f.propDecorators,...g}:g)})}let NP=(()=>{class s{log(h){console.log(h)}warn(h){console.warn(h)}static \u0275fac=function(g){return new(g||s)};static \u0275prov=(0,m.jDH)({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function Gp(s){return function OP(s){return"function"==typeof s&&void 0!==s[I.bh]}(s)&&"function"==typeof s.set}const rk=new m.nKC(""),Ar=new m.nKC("");let Uu,x0=(()=>{class s{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(h,g,f){this._ngZone=h,this.registry=g,(0,m.M6u)()&&(this._destroyRef=(0,m.WQX)(m.abz,{optional:!0})??void 0),Uu||(function D0(s){Uu=s}(f),f.addToWindow(g)),this._watchAngularEvents(),h.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const h=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),g=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{m.SKi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{h.unsubscribe(),g.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb()}});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(h)||(clearTimeout(g.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,g,f){let y=-1;g&&g>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==y),h()},g)),this._callbacks.push({doneCb:h,timeoutId:y,updateCb:f})}whenStable(h,g,f){if(f&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,g,f),this._runCallbacksIfReady()}registerApplication(h){this.registry.registerApplication(h,this)}unregisterApplication(h){this.registry.unregisterApplication(h)}findProviders(h,g,f){return[]}static \u0275fac=function(g){return new(g||s)((0,m.KVO)(m.SKi),(0,m.KVO)(hb),(0,m.KVO)(Ar))};static \u0275prov=(0,m.jDH)({token:s,factory:s.\u0275fac})}return s})(),hb=(()=>{class s{_applications=new Map;registerApplication(h,g){this._applications.set(h,g)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,g=!0){return Uu?.findTestabilityInTree(this,h,g)??null}static \u0275fac=function(g){return new(g||s)};static \u0275prov=(0,m.jDH)({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function ak(s){return!!s&&"function"==typeof s.then}function jp(s){return!!s&&"function"==typeof s.subscribe}const ok=new m.nKC("");let lk=(()=>{class s{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((h,g)=>{this.resolve=h,this.reject=g});appInits=(0,m.WQX)(ok,{optional:!0})??[];injector=(0,m.WQX)(m.zZn);constructor(){}runInitializers(){if(this.initialized)return;const h=[];for(const f of this.appInits){const y=(0,m.N4e)(this.injector,f);if(ak(y))h.push(y);else if(jp(y)){const v=new Promise((_,P)=>{y.subscribe({complete:_,error:P})});h.push(v)}}const g=()=>{this.done=!0,this.resolve()};Promise.all(h).then(()=>{g()}).catch(f=>{this.reject(f)}),0===h.length&&g(),this.initialized=!0}static \u0275fac=function(g){return new(g||s)};static \u0275prov=(0,m.jDH)({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const pb=new m.nKC("");function I0(){}function gb(){(0,I.KO)(()=>{throw new m.buA(600,"")})}function ck(s,u){return Array.isArray(u)?u.reduce(ck,s):{...s,...u}}let Vu=(()=>{class s{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=(0,m.WQX)(m.ZTf);afterRenderManager=(0,m.WQX)(Dh);zonelessEnabled=(0,m.WQX)(m.Evm);rootEffectScheduler=(0,m.WQX)(m.VML);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new q.B7;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=(0,m.WQX)(m.rev);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe((0,c.T)(h=>!h))}constructor(){(0,m.WQX)(Ps,{optional:!0})}whenStable(){let h;return new Promise(g=>{h=this.isStable.subscribe({next:f=>{f&&g()}})}).finally(()=>{h.unsubscribe()})}_injector=(0,m.WQX)(m.uvJ);_rendererFactory=null;get injector(){return this._injector}bootstrap(h,g){return this.bootstrapImpl(h,g)}bootstrapImpl(h,g,f=m.zZn.NULL){return this._injector.get(m.SKi).run(()=>{gt(He.BootstrapComponentStart);const v=h instanceof FS;if(!this._injector.get(lk).done)throw new m.buA(405,"");let P;P=v?h:this._injector.get(yp).resolveComponentFactory(h),this.componentTypes.push(P.componentType);const R=function M0(s){return s.isBoundToModule}(P)?void 0:this._injector.get(Hs),K=P.create(f,[],g||P.selector,R),oe=K.location.nativeElement,le=K.injector.get(rk,null);return le?.registerApplication(oe),K.onDestroy(()=>{this.detachView(K.hostView),ac(this.components,K),le?.unregisterApplication(oe)}),this._loadComponent(K),gt(He.BootstrapComponentEnd,K),K})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){gt(He.ChangeDetectionStart),null!==this.tracingSnapshot?this.tracingSnapshot.run(gf.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw gt(He.ChangeDetectionEnd),new m.buA(101,!1);const h=(0,I.Ht)(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,(0,I.Ht)(h),this.afterTick.next(),gt(He.ChangeDetectionEnd)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(xu,null,{optional:!0}));let h=0;for(;0!==this.dirtyFlags&&h++<10;){gt(He.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{gt(He.ChangeDetectionSyncEnd)}}}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let h=!1;if(7&this.dirtyFlags){const g=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:f}of this.allViews)(g||(0,m.dMS)(f))&&(Ol(f,g&&!this.zonelessEnabled?0:1),h=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}h||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:h})=>(0,m.dMS)(h))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(h){const g=h;this._views.push(g),g.attachToAppRef(this)}detachView(h){const g=h;ac(this._views,g),g.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView);try{this.tick()}catch(f){this.internalErrorHandler(f)}this.components.push(h),this._injector.get(pb,[]).forEach(f=>f(h))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(h=>h()),this._views.slice().forEach(h=>h.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(h){return this._destroyListeners.push(h),()=>ac(this._destroyListeners,h)}destroy(){if(this._destroyed)throw new m.buA(406,!1);const h=this._injector;h.destroy&&!h.destroyed&&h.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(g){return new(g||s)};static \u0275prov=(0,m.jDH)({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function ac(s,u){const h=s.indexOf(u);h>-1&&s.splice(h,1)}function qp(){let s,u;return{promise:new Promise((g,f)=>{s=g,u=f}),resolve:s,reject:u}}function Up(s){const u=(0,m.OAn)(),h=(0,m.Mx4)();if(nc(u,h),!dk(0,u))return;const g=u[m.YEL];$u(0,hr(u,h),s(()=>ro(0,u,h),g))}function uk(s){const u=(0,m.OAn)(),h=u[m.YEL],g=(0,m.Mx4)(),y=Qe(u[m.eDl],g);y.loadingState===an.NOT_STARTED&&$u(1,hr(u,g),s(()=>Wu(y,u,g),h))}function Vp(s,u,h){const g=u[m.YEL],f=hr(u,h),y=f[6];$u(2,f,s(()=>Us(g,y),g))}function Wu(s,u,h){Ku(s,u,h)}function Ku(s,u,h){const g=u[m.YEL],f=u[m.eDl];if(s.loadingState!==an.NOT_STARTED)return s.loadingPromise??Promise.resolve();const y=hr(u,h),v=function t0(s,u){return(0,m.XRZ)(s,u.primaryTmplIndex+m.Yw1)}(f,s);s.loadingState=an.IN_PROGRESS,Rp(1,y);let _=s.dependencyResolverFn;const P=g.get(m.u5s).add();return _?(s.loadingPromise=Promise.allSettled(_()).then(R=>{let B=!1;const K=[],oe=[];for(const le of R){if("fulfilled"!==le.status){B=!0;break}{const Ae=le.value,Ne=(0,m.xUg)(Ae)||(0,m.HaV)(Ae);if(Ne)K.push(Ne);else{const ze=(0,m.oyA)(Ae);ze&&oe.push(ze)}}}if(B){if(s.loadingState=an.FAILED,null===s.errorTmplIndex){const Ae=new m.buA(-750,!1);Cf(u,Ae)}}else{s.loadingState=an.COMPLETE;const le=v.tView;if(K.length>0){le.directiveRegistry=xP(le.directiveRegistry,K);const Ae=K.map(ze=>ze.type),Ne=(0,m.jXY)(!1,...Ae);s.providers=Ne}oe.length>0&&(le.pipeRegistry=xP(le.pipeRegistry,oe))}}),s.loadingPromise.finally(()=>{s.loadingPromise=null,P()})):(s.loadingPromise=Promise.resolve().then(()=>{s.loadingPromise=null,s.loadingState=an.COMPLETE,P()}),s.loadingPromise)}function dk(s,u){return u[m.YEL].get(u0,null,{optional:!0})?.behavior!==tc.Manual}function ro(s,u,h){const g=u[m.eDl],f=u[h.index];if(!dk(0,u))return;const y=hr(u,h),v=Qe(g,h);switch(EP(y),v.loadingState){case an.NOT_STARTED:Uo(Si.Loading,h,f),Ku(v,u,h),v.loadingState===an.IN_PROGRESS&&Bp(v,h,f);break;case an.IN_PROGRESS:Uo(Si.Loading,h,f),Bp(v,h,f);break;case an.COMPLETE:Uo(Si.Complete,h,f);break;case an.FAILED:Uo(Si.Error,h,f)}}function Us(s,u,h){return zu.apply(this,arguments)}function zu(){return(zu=(0,E.A)(function*(s,u,h){const g=s.get(nn);if(g.hydrating.has(u))return;const{parentBlockPromise:y,hydrationQueue:v}=function nh(s,u){const h=u.get(nn),f=u.get(je).get("__nghDeferData__",{});let y=!1,v=s,_=null;const P=[];for(;!y&&v;){y=h.has(v);const R=h.hydrating.get(v);if(null===_&&null!=R){_=R.promise;break}P.unshift(v),v=f[v].p}return{parentBlockPromise:_,hydrationQueue:P}}(u,s);if(0===v.length)return;null!==y&&v.shift(),function bb(s,u){for(let h of u)s.hydrating.set(h,qp())}(g,v),null!==y&&(yield y);const _=v[0];g.has(_)?yield hk(s,v,h):g.awaitParentBlock(_,(0,E.A)(function*(){return yield hk(s,v,h)}))})).apply(this,arguments)}function hk(s,u,h){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,E.A)(function*(s,u,h){const g=s.get(nn),f=g.hydrating,y=s.get(m.rev),v=y.add();for(let P=0;P<u.length;P++){const R=u[P],B=g.get(R);if(null==B){fb(P,u,g),yb(u.slice(P),g);break}if(yield vb(B),yield L0(s),R0(B)){ny(B),yb(u.slice(P),g);break}f.get(R).resolve()}const _=u[u.length-1];yield f.get(_)?.promise,y.remove(v),h&&h(u),function tE(s,u,h,g){null!==s&&(h.cleanup(u),jl(s.lContainer),function ry(s){const u=s._views;for(const h of u){const g=Bm(h);null!==g&&null!==g[m.jgP]&&((0,m.q$2)(g)?pp(g):jl(g))}}(g))}(g.get(_),u,g,s.get(Vu))})).apply(this,arguments)}function R0(s){return hr(s.lView,s.tNode)[1]===Si.Error}function fb(s,u,h){const g=s-1,f=g>-1?h.get(u[g]):null;f&&jl(f.lContainer)}function yb(s,u){const h=u.hydrating;for(const g in s)h.get(g)?.reject();u.cleanup(s)}function L0(s){return new Promise(u=>ff(u,{injector:s}))}function vb(s){return Ab.apply(this,arguments)}function Ab(){return(Ab=(0,E.A)(function*(s){const{tNode:u,lView:h}=s,g=hr(h,u);return new Promise(f=>{(function _b(s,u){Array.isArray(s[8])||(s[8]=[]),s[8].push(u)})(g,f),ro(0,h,u)})})).apply(this,arguments)}function en(s,u,h){return 0===s?pk(u,h):2!==s||!pk(u,h)}function pk(s,u){const h=s[m.YEL],g=Qe(s[m.eDl],u),f=Hm(h),y=function Sb(s){return null!=s&&!(1&~s)}(g.flags),_=null!==hr(s,u)[6];return!(y&&_&&f)}function Ma(s,u){const h=Qe(s,u);return h.hydrateTriggers??=new Map}function Kp(s,u,h,g,f,y,v,_,P,R){const B=(0,m.OAn)(),K=(0,m.klJ)(),oe=s+m.Yw1,le=io(B,K,s,null,0,0),Ae=B[m.YEL],Ne=Hm(Ae);if(K.firstCreatePass){_n("NgDefer");const co={primaryTmplIndex:u,loadingTmplIndex:g??null,placeholderTmplIndex:f??null,errorTmplIndex:y??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:h??null,loadingState:an.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:R??0};P?.(K,co,_,v),function e0(s,u,h){const g=Ia(u);s.data[g]=h}(K,oe,co)}const ze=B[oe];let st=null,Oe=null;if(ze[m.qFA]?.length>0){const co=ze[m.qFA][0].data;Oe=co.di??null,st=co.s}const Kt=[null,no.Initial,null,null,null,null,Oe,st,null,null];!function Pi(s,u,h){s[Ia(u)]=h}(B,oe,Kt);let $n=null;null!==Oe&&Ne&&($n=Ae.get(nn),$n.add(Oe,{lView:B,tNode:le,lContainer:ze}));const Di=()=>{EP(Kt),null!==Oe&&$n?.cleanup([Oe])};$u(0,Kt,()=>(0,m.DyX)(B,Di)),(0,m.ik5)(B,Di)}function wb(s){const u=(0,m.OAn)(),h=(0,m.CpD)();if(en(0,u,h)&&Ci(u,(0,m.xbp)(),s)){const f=(0,I.Ht)(null);try{const y=!!s,_=hr(u,h)[1];!1===y&&_===no.Initial?nc(u,h):!0===y&&(_===no.Initial||_===Si.Placeholder)&&ro(0,u,h)}finally{(0,I.Ht)(f)}}}function Xu(s,u,h,g){const f=(0,m.OAn)();return Ci(f,(0,m.xbp)(),u)&&((0,m.klJ)(),function N1(s,u,h,g,f,y){const v=(0,m.d31)(s,u);jh(u[m.GpT],v,y,s.value,h,g,f)}((0,m.CpD)(),f,s,u,h,g)),Xu}const V0=new m.nKC("",{factory:()=>!1}),Bb=new m.nKC("",{factory:()=>W0}),W0=4e3,Vs=typeof document<"u"&&"function"==typeof document?.documentElement?.getAnimations;function Ju(s){return s[m.YEL].get(V0,!1)}function Qu(s){const u=Vo.get(s);if(u){for(const h of u.cleanupFns)h();Vo.delete(s)}Ws.delete(s)}const z0=()=>{},Vo=new WeakMap,Ws=new WeakMap,Wo=new WeakMap;function Gb(s,u){const h=Wo.get(s);if(h&&h.length>0){const g=h.findIndex(f=>f===u);g>-1&&h.splice(g,1)}0===h?.length&&Wo.delete(s)}function oc(s,u){const h=Wo.get(s)?.shift(),g=u[m.rQE];if(g){const y=Fh(s.index,g)?.previousSibling;h&&y&&h===y&&h.dispatchEvent(new CustomEvent("animationend",{detail:{cancel:!0}}))}}function yk(s,u){Wo.has(s)?Wo.get(s)?.push(u):Wo.set(s,[u])}function sc(s){const u=s[m.Isx]??={};return u.enter??=new Map}function Ks(s){const u=s[m.Isx]??={};return u.leave??=new Map}function zp(s){const u="function"==typeof s?s():s;let h=Array.isArray(u)?u:null;return"string"==typeof u&&(h=u.trim().split(/\s+/).filter(g=>g)),h}function bk(s,u){const h=Ws.get(u);return void 0===h||u===s.target&&(void 0!==h.animationName&&s.animationName===h.animationName||void 0!==h.propertyName&&s.propertyName===h.propertyName)}function lc(s,u,h){const g=s.get(u.index)??{animateFns:[]};g.animateFns.push(h),s.set(u.index,g)}function jb(s,u){if(s)for(const h of s)h();for(const h of u)h()}function Zu(s,u){const h=Ks(s).get(u.index);h&&(h.resolvers=void 0)}function Yp(s,u,h,g,f){Gb(u,h),jb(g,f),Zu(s,u)}function Qp(s,u){const h=s.fieldIndex;return-1===h?void 0:u[h]}function Zp(s,u){return function aC(s,u){return u in s.inputs}(s,u)&&eg(s,u+"Change")}function eg(s,u){return u in s.outputs}function _k(s,u,h,g){const f=(0,m.klJ)(),y=u.customControlIndex,v=g+"Change";Nu(u,s,y,v,v,Or(u,s,R=>h.state().setControlValue(R)));const P="touchedChange";eg(f.data[y],P)&&Nu(u,s,y,P,P,Or(u,s,()=>h.state().markAsTouched()))}function tg(s,u,h,g){const f=(0,m.klJ)(),y=s.customControlIndex,v=u[y],_=f.data[y],P=h.state(),R=hc(u),B=P.controlValue();pc(R,nv,B)&&Ss(_,v,g,B);const K=!!(8192&s.flags),oe=K?(0,m.d31)(s,u):null,le=u[m.GpT];for(const Ae of rv){const Ne=P[Ae]?.();if(pc(R,Ae,Ne)){const ze=dc[Ae];td(s,u,ze,Ne),K&&!(ze in _.inputs)&&id(s,le,oe,Ae,Ne,ze)}}}function td(s,u,h,g){const f=s.inputs?.[h];if(f){const y=(0,m.klJ)();for(const v of f)Ss(y.data[v],u[v],h,g);return!0}return!1}function id(s,u,h,g,f,y){switch(g){case tv:u.setAttribute(h,y,f);break;case Pk:case hC:case iv:!function pC(s,u,h,g){g?s.setAttribute(u,h,""):s.removeAttribute(u,h)}(u,h,y,f);break;case Zb:case ev:16384&s.flags&&rg(u,h,y,f);break;case dC:case kk:32768&s.flags&&rg(u,h,y,f)}}function ig(s){return null===s||s instanceof Date}function ng(s,u){isNaN(u)?s.value="":s.valueAsNumber=u}const Pk=(0,m.kLh)({disabled:m.kLh}),Zb=(0,m.kLh)({max:m.kLh}),dC=(0,m.kLh)({maxLength:m.kLh}),ev=(0,m.kLh)({min:m.kLh}),kk=(0,m.kLh)({minLength:m.kLh}),tv=(0,m.kLh)({name:m.kLh}),hC=(0,m.kLh)({readonly:m.kLh}),iv=(0,m.kLh)({required:m.kLh}),nv=(0,m.kLh)({controlValue:m.kLh}),dc={disabled:"disabled",disabledReasons:"disabledReasons",dirty:"dirty",errors:"errors",hidden:"hidden",invalid:"invalid",max:"max",maxLength:"maxLength",min:"min",minLength:"minLength",name:"name",pattern:"pattern",pending:"pending",readonly:"readonly",required:"required",touched:"touched"},rv=Object.keys(dc);function hc(s){const u=(0,m.c$7)();let h=s[u];return h===gi&&(h=s[u]={}),h}function pc(s,u,h){return!Object.is(s[u],h)&&(s[u]=h,!0)}function av(s,u,h){return!Object.is(s[u],h)&&(s[u]=h,!0)}function rg(s,u,h,g){void 0!==g?s.setAttribute(u,h,g.toString()):s.removeAttribute(u,h)}class wk{destroy(u){}updateValue(u,h){}swap(u,h){const g=Math.min(u,h),f=Math.max(u,h),y=this.detach(f);if(f-g>1){const v=this.detach(g);this.attach(g,y),this.attach(f,v)}else this.attach(g,y)}move(u,h){this.attach(h,this.detach(u))}}function nd(s,u,h,g,f){return s===h&&Object.is(u,g)?1:Object.is(f(s,u),f(h,g))?-1:0}function sv(s,u,h,g){return!(void 0===u||!u.has(g)||(s.attach(h,u.get(g)),u.delete(g),0))}function ag(s,u,h,g,f){if(sv(s,u,g,h(g,f)))s.updateValue(g,f);else{const y=s.create(g,f);s.attach(g,y)}}function Tk(s,u,h,g){const f=new Set;for(let y=u;y<=h;y++)f.add(g(y,s.at(y)));return f}class og{kvMap=new Map;_vMap=void 0;has(u){return this.kvMap.has(u)}delete(u){if(!this.has(u))return!1;const h=this.kvMap.get(u);return void 0!==this._vMap&&this._vMap.has(h)?(this.kvMap.set(u,this._vMap.get(h)),this._vMap.delete(h)):this.kvMap.delete(u),!0}get(u){return this.kvMap.get(u)}set(u,h){if(this.kvMap.has(u)){let g=this.kvMap.get(u);void 0===this._vMap&&(this._vMap=new Map);const f=this._vMap;for(;f.has(g);)g=f.get(g);f.set(g,h)}else this.kvMap.set(u,h)}forEach(u){for(let[h,g]of this.kvMap)if(u(g,h),void 0!==this._vMap){const f=this._vMap;for(;f.has(g);)g=f.get(g),u(g,h)}}}function gc(s,u,h,g,f,y,v,_){_n("NgControlFlow");const P=(0,m.OAn)(),R=(0,m.klJ)();return io(P,R,s,u,h,g,f,(0,m.db4)(R.consts,y),512,v,_),gc}class mC{lContainer;$implicit;$index;constructor(u,h,g){this.lContainer=u,this.$implicit=h,this.$index=g}get $count(){return this.lContainer.length-m.Y20}}class cv{hasEmptyBlock;trackByFn;liveCollection;constructor(u,h,g){this.hasEmptyBlock=u,this.trackByFn=h,this.liveCollection=g}}class uv extends wk{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(u,h,g){super(),this.lContainer=u,this.hostLView=h,this.templateTNode=g}get length(){return this.lContainer.length-m.Y20}at(u){return this.getLView(u)[m.SKP].$implicit}attach(u,h){const g=h[m.tcA];this.needsIndexUpdate||=u!==this.length,Oo(this.lContainer,h,u,wa(this.templateTNode,g)),function vC(s,u){if(s.length<=m.Y20)return;const g=s[m.Y20+u],f=g?g[m.Isx]:void 0;g&&f&&f.detachedLeaveAnimationFns&&f.detachedLeaveAnimationFns.length>0&&(function bf(s,u){const h=s.get(fu);if(u.detachedLeaveAnimationFns){for(const g of u.detachedLeaveAnimationFns)h.queue.delete(g);u.detachedLeaveAnimationFns=void 0}}(g[m.YEL],f),Ro.delete(g[m.ID]),f.detachedLeaveAnimationFns=void 0)}(this.lContainer,u)}detach(u){return this.needsIndexUpdate||=u!==this.length-1,function dv(s,u){if(s.length<=m.Y20)return;const g=s[m.Y20+u],f=g?g[m.Isx]:void 0;f&&f.leave&&f.leave.size>0&&(f.detachedLeaveAnimationFns=[])}(this.lContainer,u),function AC(s,u){return Is(s,u)}(this.lContainer,u)}create(u,h){return Ll(this.hostLView,this.templateTNode,new mC(this.lContainer,h,u),{dehydratedView:null})}destroy(u){ks(u[m.eDl],u)}updateValue(u,h){this.getLView(u)[m.SKP].$implicit=h}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let u=0;u<this.length;u++)this.getLView(u)[m.SKP].$index=u}getLView(u){return function hv(s,u){return uS(s,u)}(this.lContainer,u)}}function mc(s,u){return s[u]}function pv(s,u){return(0,m.XRZ)(s,u)}function rd(s,u,h){const g=(0,m.OAn)();return Ci(g,(0,m.xbp)(),u)&&((0,m.klJ)(),Cs((0,m.CpD)(),g,s,u,g[m.GpT],h)),rd}function gv(s,u,h,g,f){xf(u,s,h,f?"class":"style",g)}function fc(s,u,h,g){const f=(0,m.OAn)(),y=f[m.eDl],v=s+m.Yw1,_=y.firstCreatePass?yy(v,f,2,u,Hh,(0,m.ckz)(),h,g):y.data[v];if(qh(_,f,s,u,mv),(0,m.yoD)(_)){const P=f[m.eDl];Lo(P,f,_),ml(P,_,f)}return null!=g&&eo(f,_),fc}function yc(){const s=(0,m.klJ)(),h=Uh((0,m.Mx4)());return s.firstCreatePass&&by(s,h),(0,m.UhH)(h)&&(0,m.krE)(),(0,m.N79)(),null!=h.classesWithoutHost&&function di(s){return!!(8&s.flags)}(h)&&gv(s,h,(0,m.OAn)(),h.classesWithoutHost,!0),null!=h.stylesWithoutHost&&function zt(s){return!!(16&s.flags)}(h)&&gv(s,h,(0,m.OAn)(),h.stylesWithoutHost,!1),yc}function ad(s,u,h,g){return fc(s,u,h,g),yc(),ad}function bc(s,u,h,g){const f=(0,m.OAn)(),y=f[m.eDl],v=s+m.Yw1,_=y.firstCreatePass?vy(v,y,2,u,h,g):y.data[v];return qh(_,f,s,u,mv),null!=g&&eo(f,_),bc}function sg(){const u=Uh((0,m.Mx4)());return(0,m.UhH)(u)&&(0,m.krE)(),(0,m.N79)(),sg}function od(s,u,h,g){return bc(s,u,h,g),sg(),od}let mv=(s,u,h,g,f)=>((0,m.m7n)(!0),_e(u[m.GpT],g,(0,m.UaU)()));function vc(s,u,h){const g=(0,m.OAn)(),f=g[m.eDl],y=s+m.Yw1,v=f.firstCreatePass?yy(y,g,8,"ng-container",Hh,(0,m.ckz)(),u,h):f.data[y];if(qh(v,g,s,"ng-container",cd),(0,m.yoD)(v)){const _=g[m.eDl];Lo(_,g,v),ml(_,v,g)}return null!=h&&eo(g,v),vc}function sd(){const s=(0,m.klJ)(),h=Uh((0,m.Mx4)());return s.firstCreatePass&&by(s,h),sd}function ld(s,u,h){return vc(s,u,h),sd(),ld}function yv(s,u,h){const g=(0,m.OAn)(),f=g[m.eDl],y=s+m.Yw1,v=f.firstCreatePass?vy(y,f,8,"ng-container",u,h):f.data[y];return qh(v,g,s,"ng-container",cd),null!=h&&eo(g,v),yv}function lg(){return Uh((0,m.Mx4)()),sd}let cd=(s,u,h,g,f)=>((0,m.m7n)(!0),de(u[m.GpT],""));function Ik(){return(0,m.OAn)()}const zs=void 0;var bv=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202fa","h:mm:ss\u202fa","h:mm:ss\u202fa z","h:mm:ss\u202fa zzzz"],["{1}, {0}",zs,zs,zs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function SC(s){const u=Math.floor(Math.abs(s)),h=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let ao={};function ud(s){const u=function vv(s){return s.toLowerCase().replace(/_/g,"-")}(s);let h=ug(u);if(h)return h;const g=u.split("-")[0];if(h=ug(g),h)return h;if("en"===g)return bv;throw new m.buA(701,!1)}function Nk(s){return ud(s)[Ac.PluralCase]}function ug(s){return s in ao||(ao[s]=m.laP.ng&&m.laP.ng.common&&m.laP.ng.common.locales&&m.laP.ng.common.locales[s]),ao[s]}var Ac=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(Ac||{});const Fk=["zero","one","two","few","many"],_v="en-US",_c={marker:"element"},Sc={marker:"ICU"};var gr=function(s){return s[s.SHIFT=2]="SHIFT",s[s.APPEND_EAGERLY=1]="APPEND_EAGERLY",s[s.COMMENT=2]="COMMENT",s}(gr||{});let Ok=_v;function Pv(s){"string"==typeof s&&(Ok=s.toLowerCase().replace(/_/g,"-"))}let Ys=0,dd=0;let hd=(s,u,h,g)=>((0,m.m7n)(!0),function dg(s,u,h){const g=s[m.GpT];switch(h){case Node.COMMENT_NODE:return de(g,u);case Node.TEXT_NODE:return L(g,u);case Node.ELEMENT_NODE:return _e(g,u,null)}}(s,h,g));function $k(s,u,h,g){const f=h[m.GpT];let v,y=null;for(let _=0;_<u.length;_++){const P=u[_];if("string"==typeof P){const R=u[++_];null===h[R]&&(h[R]=hd(h,0,P,Node.TEXT_NODE))}else if("number"==typeof P)switch(1&P){case 0:const R=op(P);let B,K;if(null===y&&(y=R,v=f.parentNode(g)),R===y?(B=g,K=v):(B=null,K=(0,m.IvY)(h[R])),null!==K){const Ne=bS(P);Le(f,K,h[Ne],B,!1);const st=Ns(s,Ne);if(null!==st&&"object"==typeof st){const Oe=ap(st,h);null!==Oe&&$k(s,st.create[Oe],h,h[st.anchorIdx])}}break;case 1:const le=u[++_],Ae=u[++_];jh(f,(0,m.vaC)(P>>>1,h),null,null,le,Ae,null)}else switch(P){case Sc:const R=u[++_],B=u[++_];null===h[B]&&Ue(h[B]=hd(h,0,R,Node.COMMENT_NODE),h);break;case _c:const K=u[++_],oe=u[++_];null===h[oe]&&Ue(h[oe]=hd(h,0,K,Node.ELEMENT_NODE),h)}}}function hg(s,u,h,g,f){for(let y=0;y<h.length;y++){const v=h[y],_=h[++y];if(v&f){let P="";for(let R=y+1;R<=y+_;R++){const B=h[R];if("string"==typeof B)P+=B;else if("number"==typeof B)if(B<0)P+=(0,m.eFE)(u[g-B]);else{const K=B>>>2;switch(3&B){case 1:const oe=h[++R],le=h[++R],Ae=s.data[K];"string"==typeof Ae?jh(u[m.GpT],u[K],null,Ae,oe,P,le):Cs(Ae,u,oe,P,u[m.GpT],le);break;case 0:const Ne=u[K];null!==Ne&&V(u[m.GpT],Ne,P);break;case 2:Ev(s,Ns(s,K),u,P);break;case 3:Gk(s,Ns(s,K),g,u)}}}}else{const P=h[y+1];if(P>0&&!(3&~P)){const B=Ns(s,P>>>2);u[B.currentCaseLViewIndex]<0&&Gk(s,B,g,u)}}y+=_}}function Gk(s,u,h,g){let f=g[u.currentCaseLViewIndex];if(null!==f){let y=Ys;f<0&&(f=g[u.currentCaseLViewIndex]=~f,y=-1),hg(s,g,u.update[f],h,y)}}function Ev(s,u,h,g){const f=function Cv(s,u){let h=s.cases.indexOf(u);if(-1===h)switch(s.type){case 1:{const g=function Av(s,u){const h=Nk(u)(parseInt(s,10)),g=Fk[h];return void 0!==g?g:"other"}(u,function Bk(){return Ok}());h=s.cases.indexOf(g),-1===h&&"other"!==g&&(h=s.cases.indexOf("other"));break}case 0:h=s.cases.indexOf("other")}return-1===h?null:h}(u,g);if(ap(u,h)!==f&&(Hk(s,u,h),h[u.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const v=h[u.anchorIdx];v&&$k(s,u.create[f],h,v)}}function Hk(s,u,h){let g=ap(u,h);if(null!==g){const f=u.remove[g];for(let y=0;y<f.length;y++){const v=f[y];if(v>0){const _=(0,m.vaC)(v,h);null!==_&&jt(h[m.GpT],_)}else Hk(s,Ns(s,~v),h)}}}const Pc=/\ufffd(\d+):?\d*\ufffd/gi,wC=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,xv=/\ufffd(\d+)\ufffd/,Wk=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,TC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Dv=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Kk=/\uE500/g;function pg(s,u,h,g,f,y,v){const _=hu(s,g,1,null);let P=_<<gr.SHIFT,R=(0,m.Ab)();u===R&&(R=null),null===R&&(P|=gr.APPEND_EAGERLY),v&&(P|=gr.COMMENT,function _1(s){void 0===hf&&(hf=s())}(Ea)),f.push(P,null===y?"":y);const B=wu(s,_,v?32:1,null===y?"":y,null);yS(h,B);const K=B.index;return(0,m.iMd)(B,!1),null!==R&&u!==R&&function jf(s,u){let h=s.insertBeforeIndex;null===h?(Pf(mS,np),h=s.insertBeforeIndex=[null,u]):((0,m.Xln)(Array.isArray(h),!0,"Expecting array here"),h.push(u))}(R,K),B}function xC(s,u,h,g,f,y,v,_){const P=_.match(Pc),B=pg(u,h,g,v,f,P?null:_,!1).index;P&&pd(y,_,B,null,0,null),s.push({kind:0,index:B})}function pd(s,u,h,g,f,y){const v=s.length,_=v+1;s.push(null,null);const P=v+2,R=u.split(Pc);let B=0;for(let K=0;K<R.length;K++){const oe=R[K];if(1&K){const le=f+parseInt(oe,10);s.push(-1-le),B|=Yk(le)}else""!==oe&&s.push(oe)}return s.push(h<<2|(g?1:0)),g&&s.push(g,y),s[v]=B,s[_]=s.length-P,B}function Mv(s){let u=0;for(let h=0;h<s.length;h++){const g=s[h];"number"==typeof g&&g<0&&u++}return u}function Yk(s){return 1<<Math.min(s,31)}function gg(s){let u,y,h="",g=0,f=!1;for(;null!==(u=TC.exec(s));)f?u[0]===`\ufffd/*${y}\ufffd`&&(g=u.index,f=!1):(h+=s.substring(g,u.index+u[0].length),y=u[1],f=!0);return h+=s.slice(g),h}function mg(s,u,h,g,f,y,v){let _=0;const P={type:y.type,currentCaseLViewIndex:hu(u,h,1,null),anchorIdx:v,cases:[],create:[],remove:[],update:[]};(function RC(s,u,h){s.push(Yk(u.mainBinding),2,-1-u.mainBinding,h<<2|2)})(g,y,v),function K1(s,u,h){const g=s.data[u];null===g?s.data[u]=h:g.value=h}(u,v,P);const R=y.values,B=[];for(let K=0;K<R.length;K++){const oe=R[K],le=[];for(let Ne=0;Ne<oe.length;Ne++){const ze=oe[Ne];if("string"!=typeof ze){const st=le.push(ze)-1;oe[Ne]=`\x3c!--\ufffd${st}\ufffd--\x3e`}}const Ae=[];B.push(Ae),_=MC(Ae,u,P,h,g,f,y.cases[K],oe.join(""),le)|_}_&&function Nv(s,u,h){s.push(u,1,h<<2|3)}(g,_,v),s.push({kind:3,index:v,cases:B,currentCaseLViewIndex:P.currentCaseLViewIndex})}function IC(s){const u=[],h=[];let g=1,f=0;const y=gd(s=s.replace(Wk,function(v,_,P){return g="select"===P?0:1,f=parseInt(_.slice(1),10),""}));for(let v=0;v<y.length;){let _=y[v++].trim();1===g&&(_=_.replace(/\s*(?:=)?(\w+)\s*/,"$1")),_.length&&u.push(_);const P=gd(y[v++]);u.length>h.length&&h.push(P)}return{type:g,mainBinding:f,cases:u,values:h}}function gd(s){if(!s)return[];let u=0;const h=[],g=[],f=/[{}]/g;let y;for(f.lastIndex=0;y=f.exec(s);){const _=y.index;if("}"==y[0]){if(h.pop(),0==h.length){const P=s.substring(u,_);Wk.test(P)?g.push(IC(P)):g.push(P),u=_+1}}else{if(0==h.length){const P=s.substring(u,_);g.push(P),u=_+1}h.push("{")}}const v=s.substring(u);return g.push(v),g}function MC(s,u,h,g,f,y,v,_,P){const R=[],B=[],K=[];h.cases.push(v),h.create.push(R),h.remove.push(B),h.update.push(K);const le=ru(Jr()).getInertBodyElement(_),Ae=lu(le)||le;return Ae?fg(s,u,h,g,f,R,B,K,Ae,y,P,0):0}function fg(s,u,h,g,f,y,v,_,P,R,B,K){let oe=0,le=P.firstChild;for(;le;){const Ae=hu(u,g,1,null);switch(le.nodeType){case Node.ELEMENT_NODE:const Ne=le,ze=Ne.tagName.toLowerCase();if(vh.hasOwnProperty(ze)){Fv(y,_c,ze,R,Ae),u.data[Ae]=ze;const $n=Ne.attributes;for(let co=0;co<$n.length;co++){const uo=$n.item(co),Yw=uo.name.toLowerCase();uo.value.match(Pc)?fs.hasOwnProperty(Yw)&&pd(_,uo.value,Ae,uo.name,0,su[Yw]?bh:null):Ov(y,Ae,uo)}const Di={kind:1,index:Ae,children:[]};s.push(Di),oe=fg(Di.children,u,h,g,f,y,v,_,le,Ae,B,K+1)|oe,Rv(v,Ae,K)}break;case Node.TEXT_NODE:const st=le.textContent||"",Oe=st.match(Pc);Fv(y,null,Oe?"":st,R,Ae),Rv(v,Ae,K),Oe&&(oe=pd(_,st,Ae,null,0,null)|oe),s.push({kind:0,index:Ae});break;case Node.COMMENT_NODE:const Kt=xv.exec(le.textContent||"");if(Kt){const Di=B[parseInt(Kt[1],10)];Fv(y,Sc,"",R,Ae),mg(s,u,g,f,R,Di,Ae),Lv(v,Ae,K)}}le=le.nextSibling}return oe}function Rv(s,u,h){0===h&&s.push(u)}function Lv(s,u,h){0===h&&(s.push(~u),s.push(u))}function Fv(s,u,h,g,f){null!==u&&s.push(u),s.push(h,f,function vS(s,u,h){return s|u<<17|h<<1}(0,g,f))}function Ov(s,u,h){s.push(u<<1|1,h.name,h.value)}const Bv=/\[(\ufffd.+?\ufffd?)\]/,LC=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,$v=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,NC=/{([A-Z0-9_]+)}/g,Gv=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,FC=/\/\*/,Hv=/\d+\:(\d+)/;function yg(s,u,h=-1){const g=(0,m.klJ)(),f=(0,m.OAn)(),y=m.Yw1+s,v=(0,m.db4)(g.consts,u),_=(0,m.Ab)();g.firstCreatePass&&function CC(s,u,h,g,f,y){const v=(0,m.Ab)(),_=[],P=[],R=[[]],B=[[]];f=function DC(s,u){if(function lp(s){return-1===s}(u))return gg(s);{const h=s.indexOf(`:${u}\ufffd`)+2+u.toString().length,g=s.search(new RegExp(`\ufffd\\/\\*\\d+:${u}\ufffd`));return gg(s.substring(h,g))}}(f,y);const K=function EC(s){return s.replace(Kk," ")}(f).split(Dv);for(let oe=0;oe<K.length;oe++){let le=K[oe];if(1&oe){const Ae=47===le.charCodeAt(0),Ne=le.charCodeAt(Ae?1:0),ze=m.Yw1+Number.parseInt(le.substring(Ae?2:1));if(Ae)R.shift(),B.shift(),(0,m.iMd)((0,m.Ab)(),!1);else{const st=Ta(s,R[0],ze);R.unshift([]),(0,m.iMd)(st,!0);const Oe={kind:2,index:ze,children:[],type:35===Ne?0:1};B[0].push(Oe),B.unshift(Oe.children)}}else{const Ae=gd(le);for(let Ne=0;Ne<Ae.length;Ne++){let ze=Ae[Ne];if(1&Ne){const st=ze;if("object"!=typeof st)throw new Error(`Unable to parse ICU expression in "${f}" message.`);const Kt=pg(s,v,R[0],h,_,"",!0).index;mg(B[0],s,h,P,u,st,Kt)}else""!==ze&&xC(B[0],s,v,R[0],_,P,h,ze)}}}s.data[g]={create:_,update:P,ast:B[0],parentTNodeIndex:u}}(g,null===_?0:_.index,f,y,v,h),2===g.type?f[m.b5C][m.Wg1]|=32:f[m.Wg1]|=32;const P=g.data[y],B=iS(g,_===f[m.qlT]?null:_,f);(function Tv(s,u,h,g){const f=s[m.GpT];for(let y=0;y<u.length;y++){const v=u[y++],R=(v&gr.APPEND_EAGERLY)===gr.APPEND_EAGERLY,B=v>>>gr.SHIFT;let K=s[B],oe=!1;null===K&&(K=s[B]=hd(s,0,u[y],(v&gr.COMMENT)===gr.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),oe=(0,m.SX7)()),R&&null!==h&&oe&&Le(f,h,K,g,!1)}})(f,P.create,B,_&&8&_.type?f[_.index]:null),(0,m.xyx)(!0)}function Jk(){(0,m.xyx)(!1)}function Uv(s,u,h){const g=(0,m.OAn)(),f=(0,m.klJ)(),y=(0,m.Mx4)();return Ag(f,g,g[m.GpT],y,s,u,h),Uv}function Ag(s,u,h,g,f,y,v){let _=!0,P=null;if((3&g.type||v)&&(P??=Or(g,u,y),Ay(g,s,u,v,h,f,y,P)&&(_=!1)),_){const R=g.outputs?.[f],B=g.hostDirectiveOutputs?.[f];if(B&&B.length)for(let K=0;K<B.length;K+=2){const oe=B[K],le=B[K+1];P??=Or(g,u,y),Nu(g,u,oe,le,f,P)}if(R&&R.length)for(const K of R)P??=Or(g,u,y),Nu(g,u,K,f,f,P)}}function _g(s=1){return(0,m.jvu)(s)}function GC(s,u){let h=null;const g=function f1(s){const u=s.attrs;if(null!=u){const h=u.indexOf(5);if(!(1&h))return u[h+1]}return null}(s);for(let f=0;f<u.length;f++){const y=u[f];if("*"!==y){if(null===g?U_(s,y,!0):Do(g,y))return f}else h=f}return h}function md(s,u,h){return tP(s,u,h),md}function Qk(s){const u=(0,m.OAn)(),h=(0,m.klJ)(),g=(0,m.w7Z)();(0,m.GA0)(g+1);const f=Iy(h,g);if(s.dirty&&(0,m.vOT)(u)===!(2&~f.metadata.flags)){if(null===f.matches)s.reset([]);else{const y=rP(u,g);s.reset(y,Ni),s.notifyOnChanges()}return!0}return!1}function Pg(){return Dy((0,m.OAn)(),(0,m.w7Z)())}function wg(s){const u=(0,m.VPL)();return(0,m.Hh6)(u,m.Yw1+s)}function Tg(s,u){return s<<17|u<<2}function oo(s){return s>>17&32767}function Yv(s){return 2|s}function Ko(s){return(131068&s)>>2}function kc(s,u){return-131069&s|u<<2}function fd(s){return 1|s}function Eg(s,u,h,g){const f=s[h+1],y=null===u;let v=g?oo(f):Ko(f),_=!1;for(;0!==v&&(!1===_||y);){const R=s[v+1];VC(s[v],u)&&(_=!0,s[v+1]=g?fd(R):Yv(R)),v=g?oo(R):Ko(R)}_&&(s[h+1]=g?Yv(f):fd(f))}function VC(s,u){return null===s||null==u||(Array.isArray(s)?s[1]:s)===u||!(!Array.isArray(s)||"string"!=typeof u)&&(0,m.FRF)(s,u)>=0}const on={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ew(s){return s.substring(on.key,on.keyEnd)}function Qv(s){return s.substring(on.value,on.valueEnd)}function Cg(s,u){const h=on.textEnd;return h===u?-1:(u=on.keyEnd=function zC(s,u,h){for(;u<h&&s.charCodeAt(u)>32;)u++;return u}(s,on.key=u,h),zo(s,u,h))}function xg(s,u){const h=on.textEnd;let g=on.key=zo(s,u,h);return h===g?-1:(g=on.keyEnd=function Zv(s,u,h){let g;for(;u<h&&(45===(g=s.charCodeAt(u))||95===g||(-33&g)>=65&&(-33&g)<=90||g>=48&&g<=57);)u++;return u}(s,g,h),g=Dg(s,g,h),g=on.value=zo(s,g,h),g=on.valueEnd=function eA(s,u,h){let g=-1,f=-1,y=-1,v=u,_=v;for(;v<h;){const P=s.charCodeAt(v++);if(59===P)return _;34===P||39===P?_=v=iw(s,P,v,h):u===v-4&&85===y&&82===f&&76===g&&40===P?_=v=iw(s,41,v,h):P>32&&(_=v),y=f,f=g,g=-33&P}return _}(s,g,h),Dg(s,g,h))}function tw(s){on.key=0,on.keyEnd=0,on.value=0,on.valueEnd=0,on.textEnd=s.length}function zo(s,u,h){for(;u<h&&s.charCodeAt(u)<=32;)u++;return u}function Dg(s,u,h,g){return(u=zo(s,u,h))<h&&u++,u}function iw(s,u,h,g){let f=-1,y=h;for(;y<g;){const v=s.charCodeAt(y++);if(v==u&&92!==f)return y;f=92==v&&92===f?0:v}throw new Error}function tA(s,u,h){return aw(s,u,h,!1),tA}function yd(s,u){return aw(s,u,null,!0),yd}function iA(s,u){for(let h=function KC(s){return tw(s),xg(s,zo(s,0,on.textEnd))}(u);h>=0;h=xg(u,h))sw(s,ew(u),Qv(u))}function rw(s){Ig(oA,nA,s,!0)}function nA(s,u){for(let h=function WC(s){return tw(s),Cg(s,zo(s,0,on.textEnd))}(u);h>=0;h=Cg(u,h))(0,m.ezK)(s,ew(u),!0)}function aw(s,u,h,g){const f=(0,m.OAn)(),y=(0,m.klJ)(),v=(0,m.b$O)(2);y.firstUpdatePass&&Mg(y,s,v,g),u!==gi&&Ci(f,v,u)&&Rg(y,y.data[(0,m._px)()],f,f[m.GpT],s,f[v+1]=function ex(s,u){return null==s||""===s||("string"==typeof u?s+=u:"object"==typeof s&&(s=(0,m.AsM)(Sa(s)))),s}(u,h),g,v)}function Ig(s,u,h,g){const f=(0,m.klJ)(),y=(0,m.b$O)(2);f.firstUpdatePass&&Mg(f,null,y,g);const v=(0,m.OAn)();if(h!==gi&&Ci(v,y,h)){const _=f.data[(0,m._px)()];if(Lg(_,g)&&!ow(f,y)){let P=g?_.classesWithoutHost:_.stylesWithoutHost;null!==P&&(h=(0,m.n$e)(P,h||"")),gv(f,_,v,h,g)}else!function ZC(s,u,h,g,f,y,v,_){f===gi&&(f=m.Mlv);let P=0,R=0,B=0<f.length?f[0]:null,K=0<y.length?y[0]:null;for(;null!==B||null!==K;){const oe=P<f.length?f[P+1]:void 0,le=R<y.length?y[R+1]:void 0;let Ne,Ae=null;B===K?(P+=2,R+=2,oe!==le&&(Ae=K,Ne=le)):null===K||null!==B&&B<K?(P+=2,Ae=B):(R+=2,Ae=K,Ne=le),null!==Ae&&Rg(s,u,h,g,Ae,Ne,v,_),B=P<f.length?f[P]:null,K=R<y.length?y[R]:null}}(f,_,v,v[m.GpT],v[y+1],v[y+1]=function aA(s,u,h){if(null==h||""===h)return m.Mlv;const g=[],f=Sa(h);if(Array.isArray(f))for(let y=0;y<f.length;y++)s(g,f[y],!0);else if(f instanceof Set)for(const y of f)s(g,y,!0);else if("object"==typeof f)for(const y in f)f.hasOwnProperty(y)&&s(g,y,f[y]);else"string"==typeof f&&u(g,f);return g}(s,u,h),g,y)}}function ow(s,u){return u>=s.expandoStartIndex}function Mg(s,u,h,g){const f=s.data;if(null===f[h+1]){const y=f[(0,m._px)()],v=ow(s,h);Lg(y,g)&&null===u&&!v&&(u=!1),u=function XC(s,u,h,g){const f=(0,m.MT)(s);let y=g?u.residualClasses:u.residualStyles;if(null===f)0===(g?u.classBindings:u.styleBindings)&&(h=vd(h=bd(null,s,u,h,g),u.attrs,g),y=null);else{const v=u.directiveStylingLast;if(-1===v||s[v]!==f)if(h=bd(f,s,u,h,g),null===y){let P=function JC(s,u,h){const g=h?u.classBindings:u.styleBindings;if(0!==Ko(g))return s[oo(g)]}(s,u,g);void 0!==P&&Array.isArray(P)&&(P=bd(null,s,u,P[1],g),P=vd(P,u.attrs,g),function rA(s,u,h,g){s[oo(h?u.classBindings:u.styleBindings)]=g}(s,u,g,P))}else y=function QC(s,u,h){let g;const f=u.directiveEnd;for(let y=1+u.directiveStylingLast;y<f;y++)g=vd(g,s[y].hostAttrs,h);return vd(g,u.attrs,h)}(s,u,g)}return void 0!==y&&(g?u.residualClasses=y:u.residualStyles=y),h}(f,y,u,g),function Jv(s,u,h,g,f,y){let v=y?u.classBindings:u.styleBindings,_=oo(v),P=Ko(v);s[g]=h;let B,R=!1;if(Array.isArray(h)?(B=h[1],(null===B||(0,m.FRF)(h,B)>0)&&(R=!0)):B=h,f)if(0!==P){const oe=oo(s[_+1]);s[g+1]=Tg(oe,_),0!==oe&&(s[oe+1]=kc(s[oe+1],g)),s[_+1]=function zv(s,u){return 131071&s|u<<17}(s[_+1],g)}else s[g+1]=Tg(_,0),0!==_&&(s[_+1]=kc(s[_+1],g)),_=g;else s[g+1]=Tg(P,0),0===_?_=g:s[P+1]=kc(s[P+1],g),P=g;R&&(s[g+1]=Yv(s[g+1])),Eg(s,B,g,!0),Eg(s,B,g,!1),function UC(s,u,h,g,f){const y=f?s.residualClasses:s.residualStyles;null!=y&&"string"==typeof u&&(0,m.FRF)(y,u)>=0&&(h[g+1]=fd(h[g+1]))}(u,B,s,g,y),v=Tg(_,P),y?u.classBindings=v:u.styleBindings=v}(f,y,u,h,v,g)}}function bd(s,u,h,g,f){let y=null;const v=h.directiveEnd;let _=h.directiveStylingLast;for(-1===_?_=h.directiveStart:_++;_<v&&(y=u[_],g=vd(g,y.hostAttrs,f),y!==s);)_++;return null!==s&&(h.directiveStylingLast=_),g}function vd(s,u,h){const g=h?1:2;let f=-1;if(null!==u)for(let y=0;y<u.length;y++){const v=u[y];"number"==typeof v?f=v:f===g&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),(0,m.ezK)(s,v,!!h||u[++y]))}return void 0===s?null:s}function sw(s,u,h){(0,m.ezK)(s,u,Sa(h))}function oA(s,u,h){const g=String(u);""!==g&&!g.includes(" ")&&(0,m.ezK)(s,g,h)}function Rg(s,u,h,g,f,y,v,_){if(!(3&u.type))return;const P=s.data,R=P[_+1],B=function Xv(s){return!(1&~s)}(R)?lw(P,u,h,f,Ko(R),v):void 0;wc(B)||(wc(y)||function qC(s){return!(2&~s)}(R)&&(y=lw(P,null,h,f,_,v)),function Ts(s,u,h,g,f){if(u)f?s.addClass(h,g):s.removeClass(h,g);else{let y=-1===g.indexOf("-")?void 0:wh.DashCase;null==f?s.removeStyle(h,g,y):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),y|=wh.Important),s.setStyle(h,g,f,y))}}(g,v,(0,m.vaC)((0,m._px)(),h),f,y))}function lw(s,u,h,g,f,y){const v=null===u;let _;for(;f>0;){const P=s[f],R=Array.isArray(P),B=R?P[1]:P,K=null===B;let oe=h[f+1];oe===gi&&(oe=K?m.Mlv:void 0);let le=K?(0,m.K7h)(oe,g):B===g?oe:void 0;if(R&&!wc(le)&&(le=(0,m.K7h)(P,g)),wc(le)&&(_=le,v))return _;const Ae=s[f+1];f=v?oo(Ae):Ko(Ae)}if(null!==u){let P=y?u.residualClasses:u.residualStyles;null!=P&&(_=(0,m.K7h)(P,g))}return _}function wc(s){return void 0!==s}function Lg(s,u){return!!(s.flags&(u?8:16))}function cw(s,u=""){const h=(0,m.OAn)(),g=(0,m.klJ)(),f=s+m.Yw1,y=g.firstCreatePass?Ls(g,f,1,u,null):g.data[f],v=Ng(g,h,y,u,s);h[f]=v,(0,m.SX7)()&&kf(g,h,v,y),(0,m.iMd)(y,!1)}let Ng=(s,u,h,g,f)=>((0,m.m7n)(!0),L(u[m.GpT],g));function Fg(s,u){let h=!1,g=(0,m.c$7)();for(let y=1;y<u.length;y+=2)h=Ci(s,g++,u[y])||h;if((0,m.Kw3)(g),!h)return gi;let f=u[0];for(let y=1;y<u.length;y+=2)f+=(0,m.eFE)(u[y])+(y+1!==u.length?u[y+1]:"");return f}function dw(s,u,h,g=""){return Ci(s,(0,m.xbp)(),h)?u+(0,m.eFE)(h)+g:gi}function Og(s,u,h,g,f,y=""){const _=$s(s,(0,m.c$7)(),h,f);return(0,m.b$O)(2),_?u+(0,m.eFE)(h)+g+(0,m.eFE)(f)+y:gi}function hw(s,u,h,g,f,y,v,_=""){const R=_p(s,(0,m.c$7)(),h,f,v);return(0,m.b$O)(3),R?u+(0,m.eFE)(h)+g+(0,m.eFE)(f)+y+(0,m.eFE)(v)+_:gi}function Bg(s,u,h,g,f,y,v,_,P,R=""){const K=Zi(s,(0,m.c$7)(),h,f,v,P);return(0,m.b$O)(4),K?u+(0,m.eFE)(h)+g+(0,m.eFE)(f)+y+(0,m.eFE)(v)+_+(0,m.eFE)(P)+R:gi}function pw(s,u,h,g,f,y,v,_,P,R,B,K=""){const oe=(0,m.c$7)();let le=Zi(s,oe,h,f,v,P);return le=Ci(s,oe+4,B)||le,(0,m.b$O)(5),le?u+(0,m.eFE)(h)+g+(0,m.eFE)(f)+y+(0,m.eFE)(v)+_+(0,m.eFE)(P)+R+(0,m.eFE)(B)+K:gi}function $g(s,u,h,g,f,y,v,_,P,R,B,K,oe,le=""){const Ae=(0,m.c$7)();let Ne=Zi(s,Ae,h,f,v,P);return Ne=$s(s,Ae+4,B,oe)||Ne,(0,m.b$O)(6),Ne?u+(0,m.eFE)(h)+g+(0,m.eFE)(f)+y+(0,m.eFE)(v)+_+(0,m.eFE)(P)+R+(0,m.eFE)(B)+K+(0,m.eFE)(oe)+le:gi}function gw(s,u,h,g,f,y,v,_,P,R,B,K,oe,le,Ae,Ne=""){const ze=(0,m.c$7)();let st=Zi(s,ze,h,f,v,P);return st=_p(s,ze+4,B,oe,Ae)||st,(0,m.b$O)(7),st?u+(0,m.eFE)(h)+g+(0,m.eFE)(f)+y+(0,m.eFE)(v)+_+(0,m.eFE)(P)+R+(0,m.eFE)(B)+K+(0,m.eFE)(oe)+le+(0,m.eFE)(Ae)+Ne:gi}function Gg(s,u,h,g,f,y,v,_,P,R,B,K,oe,le,Ae,Ne,ze,st=""){const Oe=(0,m.c$7)();let Kt=Zi(s,Oe,h,f,v,P);return Kt=Zi(s,Oe+4,B,oe,Ae,ze)||Kt,(0,m.b$O)(8),Kt?u+(0,m.eFE)(h)+g+(0,m.eFE)(f)+y+(0,m.eFE)(v)+_+(0,m.eFE)(P)+R+(0,m.eFE)(B)+K+(0,m.eFE)(oe)+le+(0,m.eFE)(Ae)+Ne+(0,m.eFE)(ze)+st:gi}function sA(s){return Tc("",s),sA}function Tc(s,u,h){const g=(0,m.OAn)(),f=dw(g,s,u,h);return f!==gi&&so(g,(0,m._px)(),f),Tc}function lA(s,u,h,g,f){const y=(0,m.OAn)(),v=Og(y,s,u,h,g,f);return v!==gi&&so(y,(0,m._px)(),v),lA}function cA(s,u,h,g,f,y,v,_,P){const R=(0,m.OAn)(),B=Bg(R,s,u,h,g,f,y,v,_,P);return B!==gi&&so(R,(0,m._px)(),B),cA}function so(s,u,h){const g=(0,m.vaC)(u,s);V(s[m.GpT],g,h)}function Ad(s,u,h){Gp(u)&&(u=u());const g=(0,m.OAn)();return Ci(g,(0,m.xbp)(),u)&&((0,m.klJ)(),Cs((0,m.CpD)(),g,s,u,g[m.GpT],h)),Ad}function yw(s,u){const h=Gp(s);return h&&s.set(u),h}function _d(s,u){const h=(0,m.OAn)(),g=(0,m.klJ)(),f=(0,m.Mx4)();return Ag(g,h,h[m.GpT],f,s,u),_d}const bw={};function Wg(s,u,h){const g=(0,m.klJ)();g.firstCreatePass&&vw(u,g.data,g.blueprint,(0,m.JlV)(s),h)}function vw(s,u,h,g,f){if(s=(0,m.nl4)(s),Array.isArray(s))for(let y=0;y<s.length;y++)vw(s[y],u,h,g,f);else{const y=(0,m.klJ)(),v=(0,m.OAn)(),_=(0,m.Mx4)();let P=(0,m.Y3W)(s)?s:(0,m.nl4)(s.provide);const R=(0,m.Rc9)(s),B=1048575&_.providerIndexes,K=_.directiveStart,oe=_.providerIndexes>>20;if((0,m.Y3W)(s)||!s.multi){const le=new ut(R,f,Wl,null),Ae=Pd(P,u,f?B:B+oe,K);-1===Ae?(kn(Ki(_,v),y,P),Sd(y,s,u.length),u.push(P),_.directiveStart++,_.directiveEnd++,f&&(_.providerIndexes+=1048576),h.push(le),v.push(le)):(h[Ae]=le,v[Ae]=le)}else{const le=Pd(P,u,B+oe,K),Ae=Pd(P,u,B,B+oe),ze=Ae>=0&&h[Ae];if(f&&!ze||!f&&!(le>=0&&h[le])){kn(Ki(_,v),y,P);const st=function bA(s,u,h,g,f){const v=new ut(s,h,Wl,null);return v.multi=[],v.index=u,v.componentProviders=0,Aw(v,f,g&&!h),v}(f?fA:lx,h.length,f,g,R);!f&&ze&&(h[Ae].providerFactory=st),Sd(y,s,u.length,0),u.push(P),_.directiveStart++,_.directiveEnd++,f&&(_.providerIndexes+=1048576),h.push(st),v.push(st)}else Sd(y,s,le>-1?le:Ae,Aw(h[f?Ae:le],R,!f&&g));!f&&g&&ze&&h[Ae].componentProviders++}}}function Sd(s,u,h,g){const f=(0,m.Y3W)(u),y=(0,m.MME)(u);if(f||y){const P=(y?(0,m.nl4)(u.useClass):u).prototype.ngOnDestroy;if(P){const R=s.destroyHooks||(s.destroyHooks=[]);if(!f&&u.multi){const B=R.indexOf(h);-1===B?R.push(h,[g,P]):R[B+1].push(g,P)}else R.push(h,P)}}}function Aw(s,u,h){return h&&s.componentProviders++,s.multi.push(u)-1}function Pd(s,u,h,g){for(let f=h;f<g;f++)if(u[f]===s)return f;return-1}function lx(s,u,h,g,f){return yA(this.multi,[])}function fA(s,u,h,g,f){const y=this.multi;let v;if(this.providerFactory){const _=this.providerFactory.componentProviders,P=Nn(g,g[m.eDl],this.providerFactory.index,f);v=P.slice(0,_),yA(y,v);for(let R=_;R<P.length;R++)v.push(P[R])}else v=[],yA(y,v);return v}function yA(s,u){for(let h=0;h<s.length;h++)u.push((0,s[h])());return u}function Kg(s,u){return h=>{h.providersResolver=(g,f)=>Wg(g,f?f(s):s,!1),u&&(h.viewProvidersResolver=(g,f)=>Wg(g,f?f(u):u,!0))}}function Ec(s){if("function"==typeof s)return s;const u=(0,m.Bqz)(s);return u.some(m.Jzi)?()=>u.map(m.nl4).map(AA):u.map(AA)}function AA(s){return Du(s)?s.ngModule:s}function _A(s,u){const h=(0,m.gxQ)()+s,g=(0,m.OAn)();return g[h]===gi?xa(g,h,u()):Lu(g,h)}function SA(s,u,h){return Jg((0,m.OAn)(),(0,m.gxQ)(),s,u,h)}function _w(s,u,h,g){return Pw((0,m.OAn)(),(0,m.gxQ)(),s,u,h,g)}function zg(s,u,h,g,f){return Qg((0,m.OAn)(),(0,m.gxQ)(),s,u,h,g,f)}function Sw(s,u,h,g,f,y,v){return kw((0,m.OAn)(),(0,m.gxQ)(),s,u,h,g,f,y)}function Yg(s,u,h,g,f,y,v){const _=(0,m.gxQ)()+s,P=(0,m.OAn)(),R=Zi(P,_,h,g,f,y);return Ci(P,_+4,v)||R?xa(P,_+5,u(h,g,f,y,v)):Lu(P,_+5)}function kd(s,u){const h=s[u];return h===gi?void 0:h}function Jg(s,u,h,g,f,y){const v=u+h;return Ci(s,v,f)?xa(s,v+1,y?g.call(y,f):g(f)):kd(s,v+1)}function Pw(s,u,h,g,f,y,v){const _=u+h;return $s(s,_,f,y)?xa(s,_+2,v?g.call(v,f,y):g(f,y)):kd(s,_+2)}function Qg(s,u,h,g,f,y,v,_){const P=u+h;return _p(s,P,f,y,v)?xa(s,P+3,_?g.call(_,f,y,v):g(f,y,v)):kd(s,P+3)}function kw(s,u,h,g,f,y,v,_,P){const R=u+h;return Zi(s,R,f,y,v,_)?xa(s,R+4,P?g.call(P,f,y,v,_):g(f,y,v,_)):kd(s,R+4)}function Zg(s,u,h,g,f,y){let v=u+h,_=!1;for(let P=0;P<f.length;P++)Ci(s,v++,f[P])&&(_=!0);return _?xa(s,v,g.apply(y,f)):kd(s,v)}function wd(s,u){return s[m.eDl].data[u].pure}function em(s,u){return Gl(s,u)}function Cc(s,u,h,g,f){const y=f[m.eDl];if(y!==g.tView)for(let v=m.Yw1;v<y.bindingStartIndex;v++){const _=f[v];if((0,m.A0l)(_)){(0,m.q$2)(_[m.jgP])&&Cc(s,u,h,g,_[m.jgP]);for(let P=m.Y20;P<_.length;P++)Cc(s,u,h,g,_[P])}else(0,m.q$2)(_)&&Cc(s,u,h,g,_)}else!function DA(s,u,h,g,f){const y=f[m.SKP];let v=f[m.jgP];const _=f[m.f7T],P=f[m.qlT],R=f[m.YEL].get(m.SKi,null),B=()=>{if(g.encapsulation===Nr.ShadowDom||g.encapsulation===Nr.ExperimentalIsolatedShadowDom){const Ae=v.cloneNode(!1);v.replaceWith(Ae),v=Ae}const K=xl(h),oe=_s(_,K,y,uf(h),v,P,null,null,null,null,null);(function vx(s,u,h,g){for(let f=m.Yw1;f<s[m.eDl].bindingStartIndex;f++){const y=s[f];if(((0,m.q$2)(y)||(0,m.A0l)(y))&&y[m.K29]===u){y[m.K29]=h;break}}s[m.EJG]===u&&(s[m.EJG]=h),s[m.Yrj]===u&&(s[m.Yrj]=h),h[m.K29]=u[m.K29],u[m.K29]=null,s[g]=h})(_,f,oe,P.index),ks(f[m.eDl],f);const le=f[m.M0L].rendererFactory;(function bx(s,u){s.componentReplaced?.(u.id)})(le,g),oe[m.GpT]=le.createRenderer(v,h),Z_(f[m.eDl],f),function MA(s){if(null!==s.projection){for(const u of s.projection)ai(u)&&(u.projectionNext=null,u.flags&=-3);s.projection=null}}(P),No(K,oe,y),Fo(K,oe,K.template,y)};null===R?IA(s,u,B):R.run(()=>IA(s,u,B))}(s,u,h,g,f)}function IA(s,u,h){try{h()}catch(g){if(null!==u&&g.message){const y=g.message+(g.stack?"\n"+g.stack:"");s?.hot?.send?.("angular:invalidate",{id:u,message:y,error:!0})}throw g}}const Ra={\u0275\u0275animateEnter:function cc(s){if(_n("NgAnimateEnter"),!Vs)return cc;const u=(0,m.OAn)();if(Ju(u))return cc;const h=(0,m.Mx4)();return oc(h,u),lc(sc(u),h,()=>function X0(s,u,h){const g=(0,m.d31)(u,s),f=s[m.GpT],y=s[m.YEL].get(m.SKi),v=zp(h),_=[],P=B=>{if(B.target!==g)return;const K=B instanceof AnimationEvent?"animationend":"transitionend";y.runOutsideAngular(()=>{f.listen(g,K,R)})},R=B=>{B.target===g&&function J0(s,u,h){const g=Vo.get(u);if(s.target===u&&g&&bk(s,u)){s.stopImmediatePropagation();for(const f of g.classList)h.removeClass(u,f);Qu(u)}}(B,g,f)};if(v&&v.length>0){y.runOutsideAngular(()=>{_.push(f.listen(g,"animationstart",P)),_.push(f.listen(g,"transitionstart",P))}),function K0(s,u,h){const g=Vo.get(s);if(g){for(const f of u)g.classList.push(f);for(const f of h)g.cleanupFns.push(f)}else Vo.set(s,{classList:u,cleanupFns:h})}(g,v,_);for(const B of v)f.addClass(g,B);y.runOutsideAngular(()=>{requestAnimationFrame(()=>{if(pu(g,Ws,Vs),!Ws.has(g)){for(const B of v)f.removeClass(g,B);Qu(g)}})})}}(u,h,s)),yu(u[m.YEL]),Rh(u[m.YEL],sc(u)),cc},\u0275\u0275animateEnterListener:function uc(s){if(_n("NgAnimateEnter"),!Vs)return uc;const u=(0,m.OAn)();if(Ju(u))return uc;const h=(0,m.Mx4)();return oc(h,u),lc(sc(u),h,()=>function vk(s,u,h){const g=(0,m.d31)(u,s);h.call(s[m.SKP],{target:g,animationComplete:z0})}(u,h,s)),yu(u[m.YEL]),Rh(u[m.YEL],sc(u)),uc},\u0275\u0275animateLeave:function Xp(s){if(_n("NgAnimateLeave"),!Vs)return Xp;const u=(0,m.OAn)();if(Ju(u))return Xp;const g=(0,m.Mx4)();return oc(g,u),lc(Ks(u),g,()=>function qb(s,u,h){const{promise:g,resolve:f}=qp(),y=(0,m.d31)(u,s),v=s[m.GpT],_=s[m.YEL].get(m.SKi);Ro.add(s[m.ID]),(Ks(s).get(u.index).resolvers??=[]).push(f);const P=zp(h);return P&&P.length>0?function Q0(s,u,h,g,f,y){!function Y0(s,u){if(!Vs)return;const h=Vo.get(s);if(h&&h.classList.length>0&&function Hb(s,u){for(const h of u)if(s.classList.contains(h))return!0;return!1}(s,h.classList))for(const g of h.classList)u.removeClass(s,g);Qu(s)}(s,f);const v=[],_=Ks(h).get(u.index)?.resolvers,P=R=>{if(R.target===s&&(R instanceof CustomEvent||bk(R,s))){if(R.stopImmediatePropagation(),Ws.delete(s),Gb(u,s),Array.isArray(u.projection))for(const B of g)f.removeClass(s,B);jb(_,v),Zu(h,u)}};y.runOutsideAngular(()=>{v.push(f.listen(s,"animationend",P)),v.push(f.listen(s,"transitionend",P))}),yk(u,s);for(const R of g)f.addClass(s,R);y.runOutsideAngular(()=>{requestAnimationFrame(()=>{pu(s,Ws,Vs),Ws.has(s)||(Gb(u,s),jb(_,v),Zu(h,u))})})}(y,u,s,P,v,_):f(),{promise:g,resolve:f}}(u,g,s)),yu(u[m.YEL]),Xp},\u0275\u0275animateLeaveListener:function ed(s){if(_n("NgAnimateLeave"),!Vs)return ed;const u=(0,m.OAn)(),h=(0,m.Mx4)();return oc(h,u),Ro.add(u[m.ID]),lc(Ks(u),h,()=>function Z0(s,u,h){const{promise:g,resolve:f}=qp(),y=(0,m.d31)(u,s),v=[],_=s[m.GpT],P=Ju(s),R=s[m.YEL].get(m.SKi),B=s[m.YEL].get(Bb);(Ks(s).get(u.index).resolvers??=[]).push(f);const K=Ks(s).get(u.index)?.resolvers;if(P)Yp(s,u,y,K,v);else{const oe=setTimeout(()=>Yp(s,u,y,K,v),B),le={target:y,animationComplete:()=>{Yp(s,u,y,K,v),clearTimeout(oe)}};yk(u,y),R.runOutsideAngular(()=>{v.push(_.listen(y,"animationend",()=>{Yp(s,u,y,K,v),clearTimeout(oe)},{once:!0}))}),h.call(s[m.SKP],le)}return{promise:g,resolve:f}}(u,h,s)),yu(u[m.YEL]),ed},\u0275\u0275attribute:Xu,\u0275\u0275defineComponent:Jl,\u0275\u0275defineDirective:xp,\u0275\u0275defineInjectable:m.jDH,\u0275\u0275defineInjector:m.G2t,\u0275\u0275defineNgModule:pP,\u0275\u0275definePipe:gP,\u0275\u0275directiveInject:Wl,\u0275\u0275getInheritedFactory:Kr,\u0275\u0275inject:m.KVO,\u0275\u0275injectAttribute:Se,\u0275\u0275invalidFactory:function py(){throw new Error("invalid")},\u0275\u0275invalidFactoryDep:m.dmw,\u0275\u0275templateRefExtractor:em,\u0275\u0275resetView:m.Njj,\u0275\u0275HostDirectivesFeature:function WE(s){const u=h=>{const g=Array.isArray(s);null===h.hostDirectives?(h.resolveHostDirectives=yP,h.hostDirectives=g?s.map(Oy):[s]):g?h.hostDirectives.unshift(...s.map(Oy)):h.hostDirectives.unshift(s)};return u.ngInherit=!0,u},\u0275\u0275NgOnChangesFeature:lt,\u0275\u0275ProvidersFeature:Kg,\u0275\u0275InheritDefinitionFeature:Ou,\u0275\u0275ExternalStylesFeature:function cx(s){return u=>{s.length<1||(u.getExternalStyles=h=>s.map(f=>f+"?ngcomp"+(h?"="+encodeURIComponent(h):"")+"&e="+u.encapsulation))}},\u0275\u0275nextContext:_g,\u0275\u0275namespaceHTML:m.joV,\u0275\u0275namespaceMathML:m.By9,\u0275\u0275namespaceSVG:m.qSk,\u0275\u0275enableBindings:m.cSN,\u0275\u0275disableBindings:m.fuf,\u0275\u0275elementStart:fc,\u0275\u0275elementEnd:yc,\u0275\u0275element:ad,\u0275\u0275elementContainerStart:vc,\u0275\u0275elementContainerEnd:sd,\u0275\u0275domElement:od,\u0275\u0275domElementStart:bc,\u0275\u0275domElementEnd:sg,\u0275\u0275domElementContainer:function xk(s,u,h){return yv(s,u,h),lg(),xk},\u0275\u0275domElementContainerStart:yv,\u0275\u0275domElementContainerEnd:lg,\u0275\u0275domTemplate:Br,\u0275\u0275domListener:function Vv(s,u,h){const g=(0,m.OAn)(),f=(0,m.klJ)(),y=(0,m.Mx4)();return(3&y.type||h)&&Ay(y,f,g,h,g[m.GpT],s,u,Or(y,g,u)),Vv},\u0275\u0275elementContainer:ld,\u0275\u0275pureFunction0:_A,\u0275\u0275pureFunction1:SA,\u0275\u0275pureFunction2:_w,\u0275\u0275pureFunction3:zg,\u0275\u0275pureFunction4:Sw,\u0275\u0275pureFunction5:Yg,\u0275\u0275pureFunction6:function dx(s,u,h,g,f,y,v,_){const P=(0,m.gxQ)()+s,R=(0,m.OAn)(),B=Zi(R,P,h,g,f,y);return $s(R,P+4,v,_)||B?xa(R,P+6,u(h,g,f,y,v,_)):Lu(R,P+6)},\u0275\u0275pureFunction7:function PA(s,u,h,g,f,y,v,_,P){const R=(0,m.gxQ)()+s,B=(0,m.OAn)();let K=Zi(B,R,h,g,f,y);return _p(B,R+4,v,_,P)||K?xa(B,R+7,u(h,g,f,y,v,_,P)):Lu(B,R+7)},\u0275\u0275pureFunction8:function Xg(s,u,h,g,f,y,v,_,P,R){const B=(0,m.gxQ)()+s,K=(0,m.OAn)(),oe=Zi(K,B,h,g,f,y);return Zi(K,B+4,v,_,P,R)||oe?xa(K,B+8,u(h,g,f,y,v,_,P,R)):Lu(K,B+8)},\u0275\u0275pureFunctionV:function kA(s,u,h){return Zg((0,m.OAn)(),(0,m.gxQ)(),s,u,h)},\u0275\u0275getCurrentView:Ik,\u0275\u0275restoreView:m.eBV,\u0275\u0275listener:Uv,\u0275\u0275projection:function HC(s,u=0,h,g,f,y){const v=(0,m.OAn)(),_=(0,m.klJ)(),P=g?s+1:null;null!==P&&io(v,_,P,g,f,y,null,h);const R=Ls(_,m.Yw1+s,16,null,h||null);null===R.projection&&(R.projection=u),(0,m.Pfq)();const K=!v[m.tcA]||(0,m.KtD)();null===v[m.b5C][m.qlT].projection[R.projection]&&null!==P?function Kv(s,u,h){const g=m.Yw1+h,f=u.data[g],y=s[g];Oo(y,Ll(s,f,void 0,{dehydratedView:null}),0,wa(f,null))}(v,_,P):K&&!sr(R)&&function E1(s,u,h){rS(u[m.GpT],0,u,h,Af(s,h,u),D(h.parent||u[m.qlT],h,u))}(_,v,R)},\u0275\u0275syntheticHostProperty:function Mk(s,u,h){const g=(0,m.OAn)();if(Ci(g,(0,m.xbp)(),u)){const y=(0,m.klJ)(),v=(0,m.CpD)();vu(v,g,s,u,oS((0,m.MT)(y.data),v,g),h)}return Mk},\u0275\u0275syntheticHostListener:function vg(s,u){const h=(0,m.Mx4)(),g=(0,m.OAn)(),f=(0,m.klJ)();return Ag(f,g,oS((0,m.MT)(f.data),h,g),h,s,u),vg},\u0275\u0275pipeBind1:function px(s,u,h){const g=s+m.Yw1,f=(0,m.OAn)(),y=(0,m.Hh6)(f,g);return wd(f,g)?Jg(f,(0,m.gxQ)(),u,y.transform,h,y):y.transform(h)},\u0275\u0275pipeBind2:function TA(s,u,h,g){const f=s+m.Yw1,y=(0,m.OAn)(),v=(0,m.Hh6)(y,f);return wd(y,f)?Pw(y,(0,m.gxQ)(),u,v.transform,h,g,v):v.transform(h,g)},\u0275\u0275pipeBind3:function gx(s,u,h,g,f){const y=s+m.Yw1,v=(0,m.OAn)(),_=(0,m.Hh6)(v,y);return wd(v,y)?Qg(v,(0,m.gxQ)(),u,_.transform,h,g,f,_):_.transform(h,g,f)},\u0275\u0275pipeBind4:function EA(s,u,h,g,f,y){const v=s+m.Yw1,_=(0,m.OAn)(),P=(0,m.Hh6)(_,v);return wd(_,v)?kw(_,(0,m.gxQ)(),u,P.transform,h,g,f,y,P):P.transform(h,g,f,y)},\u0275\u0275pipeBindV:function Tw(s,u,h){const g=s+m.Yw1,f=(0,m.OAn)(),y=(0,m.Hh6)(f,g);return wd(f,g)?Zg(f,(0,m.gxQ)(),u,y.transform,h,y):y.transform.apply(y,h)},\u0275\u0275projectionDef:function Wv(s){const u=(0,m.OAn)()[m.b5C][m.qlT];if(!u.projection){const g=u.projection=(0,m.WfI)(s?s.length:1,null),f=g.slice();let y=u.child;for(;null!==y;){if(128!==y.type){const v=s?GC(y,s):0;null!==v&&(f[v]?f[v].projectionNext=y:g[v]=y,f[v]=y)}y=y.next}}},\u0275\u0275domProperty:function cg(s,u,h){const g=(0,m.OAn)();return Ci(g,(0,m.xbp)(),u)&&((0,m.klJ)(),vu((0,m.CpD)(),g,s,u,g[m.GpT],h)),cg},\u0275\u0275ariaProperty:function mk(s,u){const h=(0,m.OAn)();if(Ci(h,(0,m.xbp)(),u)){const f=(0,m.klJ)(),y=(0,m.CpD)();if(xf(y,f,h,s,u))(0,m.Qs1)(y)&&Tf(h,y.index);else{const _=(0,m.d31)(y,h);jh(h[m.GpT],_,null,y.value,s,u,null)}}return mk},\u0275\u0275property:rd,\u0275\u0275control:function Vb(s,u,h){const g=(0,m.OAn)(),f=(0,m.CpD)();Ci(g,(0,m.xbp)(),s)&&((0,m.klJ)(),Cs(f,g,u,s,g[m.GpT],h)),function Jp(s,u){const h=Qp(u,s);h&&(function sC(s,u,h){if(h.classes){const g=hc(s);g.classes??={},h.state();const f=s[m.GpT],y=(0,m.d31)(u,s);for(const[v,_]of h.classes){const P=_();av(g.classes,v,P)&&(P?f.addClass(y,v):f.removeClass(y,v))}}}(s,u,h),1024&u.flags?tg(u,s,h,"value"):2048&u.flags?tg(u,s,h,"checked"):4096&u.flags?function lC(s,u,h){const g=h.\u0275interopControl,f=hc(u),y=h.state(),v=!!(8192&s.flags),_=v?(0,m.d31)(s,u):null,P=u[m.GpT],R=y.value();pc(f,nv,R)&&(0,m.O8t)(()=>g.writeValue(R));for(const B of rv){const K=y[B]?.();if(pc(f,B,K)){const oe=dc[B],le=td(s,u,oe,K);B===Pk?g.setDisabledState&&(0,m.O8t)(()=>g.setDisabledState(K)):v&&!le&&id(s,P,_,B,K,oe)}}}(u,s,h):function Xb(s,u,h){const g=(0,m.d31)(s,u),f=u[m.GpT],y=h.state(),v=hc(u),_=y.controlValue();pc(v,nv,_)&&function uC(s,u){switch(s.type){case"checkbox":return void(s.checked=u);case"radio":return void(s.checked=u===s.value);case"number":case"range":case"datetime-local":if("number"==typeof u)return void ng(s,u);break;case"date":case"month":case"time":case"week":if(ig(u))return void(s.valueAsDate=u);if("number"==typeof u)return void ng(s,u)}s.value=u}(g,_);for(const P of rv){const R=y[P]?.();if(pc(v,P,R)){const B=dc[P];id(s,f,g,P,R,B),td(s,u,B,R)}}}(u,s,h)),(0,m.xbp)()}(g,f)},\u0275\u0275controlCreate:function eC(){const s=(0,m.OAn)(),u=(0,m.klJ)(),h=(0,m.Mx4)();u.firstCreatePass&&function tC(s,u,h){const g=u.inputs?.formField;if(!g||(0,m.Qs1)(u)&&g.includes(u.directiveStart+u.componentOffset))return;const f=g.find(v=>Sp in h[v]);if(void 0===f)return;u.fieldIndex=f;const y=function iC(s,u){return!!u[s.fieldIndex].\u0275interopControl&&(s.flags|=4096,!0)}(u,h)||function Wb(s,u){for(let h=u.directiveStart;h<u.directiveEnd;h++){const g=s.data[h];if(Zp(g,"value"))return u.flags|=1024,u.customControlIndex=h,!0;if(Zp(g,"checked"))return u.flags|=2048,u.customControlIndex=h,!0}return!1}(s,u);if(!function nC(s){return!!function oC(s){if(2!==s.type)return!1;const u=s.value;return"input"===u||"textarea"===u||"select"===u}(s)&&(s.flags|=8192,function Jb(s){if(!s.attrs||"input"!==s.value)return!1;for(let u=0;u<s.attrs.length;u+=2){const h=s.attrs[u];if(gn(h))break;if("type"===h){const g=s.attrs[u+1];return"date"===g||"datetime-local"===g||"month"===g||"number"===g||"range"===g||"time"===g||"week"===g}}return!1}(s)&&(s.flags|=16384),function cC(s){return"select"!==s.value}(s)&&(s.flags|=32768),!0)}(u)&&!y)throw new m.buA(318,!1)}(u,h,s);const g=Qp(h,s);g&&(_n("NgSignalForms"),1024&h.flags?_k(s,h,g,"value"):2048&h.flags?_k(s,h,g,"checked"):4096&h.flags?function Kb(s){const u=s.\u0275interopControl;u.registerOnChange(h=>s.state().setControlValue(h)),u.registerOnTouched(()=>s.state().markAsTouched())}(g):8192&h.flags&&function zb(s,u,h){const g=(0,m.klJ)(),f=s[m.GpT],y=(0,m.d31)(u,s),v=()=>{const P=h.state();P.setControlValue(function Qb(s,u){switch(s.type){case"checkbox":return s.checked;case"number":case"range":case"datetime-local":if("number"==typeof u())return s.valueAsNumber;break;case"date":case"month":case"time":case"week":const h=u();if(ig(h))return s.valueAsDate;if("number"==typeof h)return s.valueAsNumber}return s.value}(y,P.value))};Ay(u,g,s,void 0,f,"input",v,Or(u,s,v));const _=()=>{h.state().markAsTouched()};if(Ay(u,g,s,void 0,f,"blur",_,Or(u,s,_)),2===u.type&&"select"===u.value&&"function"==typeof MutationObserver){const P=function Sk(s,u){const h=new MutationObserver(g=>{g.some(f=>function Yb(s){if("childList"===s.type||"characterData"===s.type){if(s.target instanceof Comment)return!1;for(const u of s.addedNodes)if(!(u instanceof Comment))return!0;for(const u of s.removedNodes)if(!(u instanceof Comment))return!0;return!1}return"attributes"===s.type&&s.target instanceof HTMLOptionElement}(f))&&(s.value=u.state().value())});return h.observe(s,{attributes:!0,attributeFilter:["value"],characterData:!0,childList:!0,subtree:!0}),h}(y,h);(0,m.B22)(g,s,P,P.disconnect)}}(s,h,g),g.registerAsBinding(function rC(s,u){const h=s.customControlIndex;return-1===h?void 0:u[h]}(h,s)))},\u0275\u0275pipe:function hx(s,u){const h=(0,m.klJ)();let g;const f=s+m.Yw1;h.firstCreatePass?(g=function wA(s,u){if(u)for(let h=u.length-1;h>=0;h--){const g=u[h];if(s===g.name)return g}}(u,h.pipeRegistry),h.data[f]=g,g.onDestroy&&(h.destroyHooks??=[]).push(f,g.onDestroy)):g=h.data[f];const y=g.factory||(g.factory=(0,m.wGu)(g.type,!0)),_=(0,m.a2B)(Wl);try{const P=jn(!1),R=y();return jn(P),(0,m.M_e)(h,(0,m.OAn)(),f,R),R}finally{(0,m.a2B)(_)}},\u0275\u0275queryRefresh:Qk,\u0275\u0275queryAdvance:function jC(s=1){(0,m.GA0)((0,m.w7Z)()+s)},\u0275\u0275viewQuery:md,\u0275\u0275viewQuerySignal:function kg(s,u,h,g){return aP(s,tP(u,h,g)),kg},\u0275\u0275loadQuery:Pg,\u0275\u0275contentQuery:function Sg(s,u,h,g){return iP(s,u,h,g),Sg},\u0275\u0275contentQuerySignal:function Zk(s,u,h,g,f){return aP(u,iP(s,h,g,f)),Zk},\u0275\u0275reference:wg,\u0275\u0275classMap:rw,\u0275\u0275styleMap:function YC(s){Ig(sw,iA,s,!1)},\u0275\u0275styleProp:tA,\u0275\u0275classProp:yd,\u0275\u0275advance:W_,\u0275\u0275template:la,\u0275\u0275conditional:function Ek(s,u){_n("NgControlFlow");const h=(0,m.OAn)(),g=(0,m.xbp)(),f=h[g]!==gi?h[g]:-1,y=-1!==f?mc(h,m.Yw1+f):void 0;if(Ci(h,g,s)){const _=(0,I.Ht)(null);try{if(void 0!==y&&Jh(y,0),-1!==s){const P=m.Yw1+s,R=mc(h,P),B=pv(h[m.eDl],P),K=null;Oo(R,Ll(h,B,u,{dehydratedView:K}),0,wa(B,K))}}finally{(0,I.Ht)(_)}}else if(void 0!==y){const _=uS(y,0);void 0!==_&&(_[m.SKP]=u)}},\u0275\u0275conditionalCreate:function gC(s,u,h,g,f,y,v,_){_n("NgControlFlow");const P=(0,m.OAn)(),R=(0,m.klJ)();return io(P,R,s,u,h,g,f,(0,m.db4)(R.consts,y),256,v,_),gc},\u0275\u0275conditionalBranchCreate:gc,\u0275\u0275defer:Kp,\u0275\u0275deferWhen:wb,\u0275\u0275deferOnIdle:function B0(){en(0,(0,m.OAn)(),(0,m.Mx4)())&&Up(Np)},\u0275\u0275deferOnImmediate:function xb(){const s=(0,m.OAn)(),u=(0,m.Mx4)();en(0,s,u)&&(null===Qe(s[m.eDl],u).loadingTmplIndex&&nc(s,u),ro(0,s,u))},\u0275\u0275deferOnTimer:function H0(s){en(0,(0,m.OAn)(),(0,m.Mx4)())&&Up(Fp(s))},\u0275\u0275deferOnHover:function Mb(s,u){const h=(0,m.OAn)(),g=(0,m.Mx4)();en(0,h,g)&&(nc(h,g),ic(h,g,s,u,cl,()=>ro(0,h,g),0))},\u0275\u0275deferOnInteraction:function U0(s,u){const h=(0,m.OAn)(),g=(0,m.Mx4)();en(0,h,g)&&(nc(h,g),ic(h,g,s,u,as,()=>ro(0,h,g),0))},\u0275\u0275deferOnViewport:function Fb(s,u,h){const g=(0,m.OAn)(),f=(0,m.Mx4)();en(0,g,f)&&(nc(g,f),ic(g,f,s,u,Vy,()=>ro(0,g,f),0,h))},\u0275\u0275deferPrefetchWhen:function Tb(s){const u=(0,m.OAn)(),h=(0,m.CpD)();if(en(1,u,h)&&Ci(u,(0,m.xbp)(),s)){const f=(0,I.Ht)(null);try{const y=!!s,_=Qe(u[m.eDl],h);!0===y&&_.loadingState===an.NOT_STARTED&&Wu(_,u,h)}finally{(0,I.Ht)(f)}}},\u0275\u0275deferPrefetchOnIdle:function Cb(){en(1,(0,m.OAn)(),(0,m.Mx4)())&&uk(Np)},\u0275\u0275deferPrefetchOnImmediate:function G0(){const s=(0,m.OAn)(),u=(0,m.Mx4)();if(!en(1,s,u))return;const g=Qe(s[m.eDl],u);g.loadingState===an.NOT_STARTED&&Ku(g,s,u)},\u0275\u0275deferPrefetchOnTimer:function Ib(s){en(1,(0,m.OAn)(),(0,m.Mx4)())&&uk(Fp(s))},\u0275\u0275deferPrefetchOnHover:function q0(s,u){const h=(0,m.OAn)(),g=(0,m.Mx4)();if(!en(1,h,g))return;const y=Qe(h[m.eDl],g);y.loadingState===an.NOT_STARTED&&ic(h,g,s,u,cl,()=>Wu(y,h,g),1)},\u0275\u0275deferPrefetchOnInteraction:function Lb(s,u){const h=(0,m.OAn)(),g=(0,m.Mx4)();if(!en(1,h,g))return;const y=Qe(h[m.eDl],g);y.loadingState===an.NOT_STARTED&&ic(h,g,s,u,as,()=>Wu(y,h,g),1)},\u0275\u0275deferPrefetchOnViewport:function gk(s,u,h){const g=(0,m.OAn)(),f=(0,m.Mx4)();if(!en(1,g,f))return;const v=Qe(g[m.eDl],f);v.loadingState===an.NOT_STARTED&&ic(g,f,s,u,Vy,()=>Wu(v,g,f),1,h)},\u0275\u0275deferHydrateWhen:function O0(s){const u=(0,m.OAn)(),h=(0,m.CpD)();if(!en(2,u,h))return;const g=(0,m.xbp)();if(Ma((0,m.klJ)(),h).set(6,null),Ci(u,g,s)){const v=u[m.YEL],_=(0,I.Ht)(null);try{1==!!s&&Us(v,hr(u,h)[6])}finally{(0,I.Ht)(_)}}},\u0275\u0275deferHydrateNever:function Eb(){const s=(0,m.OAn)(),u=(0,m.Mx4)();en(2,s,u)&&Ma((0,m.klJ)(),u).set(7,null)},\u0275\u0275deferHydrateOnIdle:function $0(){const s=(0,m.OAn)(),u=(0,m.Mx4)();en(2,s,u)&&(Ma((0,m.klJ)(),u).set(0,null),Vp(Np,s,u))},\u0275\u0275deferHydrateOnImmediate:function Db(){const s=(0,m.OAn)(),u=(0,m.Mx4)();en(2,s,u)&&(Ma((0,m.klJ)(),u).set(1,null),Us(s[m.YEL],hr(s,u)[6]))},\u0275\u0275deferHydrateOnTimer:function j0(s){const u=(0,m.OAn)(),h=(0,m.Mx4)();en(2,u,h)&&(Ma((0,m.klJ)(),h).set(5,{type:5,delay:s}),Vp(Fp(s),u,h))},\u0275\u0275deferHydrateOnHover:function Rb(){const s=(0,m.OAn)(),u=(0,m.Mx4)();en(2,s,u)&&Ma((0,m.klJ)(),u).set(4,null)},\u0275\u0275deferHydrateOnInteraction:function Nb(){const s=(0,m.OAn)(),u=(0,m.Mx4)();en(2,s,u)&&Ma((0,m.klJ)(),u).set(3,null)},\u0275\u0275deferHydrateOnViewport:function Ob(s){const u=(0,m.OAn)(),h=(0,m.Mx4)();en(2,u,h)&&Ma((0,m.klJ)(),h).set(2,s?{type:2,intersectionObserverOptions:s}:null)},\u0275\u0275deferEnableTimerScheduling:function zy(s,u,h,g){const f=s.consts;null!=h&&(u.placeholderBlockConfig=(0,m.db4)(f,h)),null!=g&&(u.loadingBlockConfig=(0,m.db4)(f,g)),null===Ky&&(Ky=Wy)},\u0275\u0275repeater:function bC(s){const u=(0,I.Ht)(null),h=(0,m._px)();try{const g=(0,m.OAn)(),f=g[m.eDl],y=g[h],v=h+1,_=mc(g,v);if(void 0===y.liveCollection){const R=pv(f,v);y.liveCollection=new uv(_,g,R)}else y.liveCollection.reset();const P=y.liveCollection;if(function ov(s,u,h,g){let f,y,v=0,_=s.length-1;if(Array.isArray(u)){(0,I.Ht)(g);let R=u.length-1;for((0,I.Ht)(null);v<=_&&v<=R;){const B=s.at(v),K=u[v],oe=nd(v,B,v,K,h);if(0!==oe){oe<0&&s.updateValue(v,K),v++;continue}const le=s.at(_),Ae=u[R],Ne=nd(_,le,R,Ae,h);if(0!==Ne){Ne<0&&s.updateValue(_,Ae),_--,R--;continue}const ze=h(v,B),st=h(_,le),Oe=h(v,K);if(Object.is(Oe,st)){const Kt=h(R,Ae);Object.is(Kt,ze)?(s.swap(v,_),s.updateValue(_,Ae),R--,_--):s.move(_,v),s.updateValue(v,K),v++;continue}if(f??=new og,y??=Tk(s,v,_,h),sv(s,f,v,Oe))s.updateValue(v,K),v++,_++;else if(y.has(Oe))f.set(ze,s.detach(v)),_--;else{const Kt=s.create(v,u[v]);s.attach(v,Kt),v++,_++}}for(;v<=R;)ag(s,f,h,v,u[v]),v++}else if(null!=u){(0,I.Ht)(g);const R=u[Symbol.iterator]();(0,I.Ht)(null);let B=R.next();for(;!B.done&&v<=_;){const K=s.at(v),oe=B.value,le=nd(v,K,v,oe,h);if(0!==le)le<0&&s.updateValue(v,oe),v++,B=R.next();else{f??=new og,y??=Tk(s,v,_,h);const Ae=h(v,oe);if(sv(s,f,v,Ae))s.updateValue(v,oe),v++,_++,B=R.next();else if(y.has(Ae)){const Ne=h(v,K);f.set(Ne,s.detach(v)),_--}else s.attach(v,s.create(v,oe)),v++,_++,B=R.next()}}for(;!B.done;)ag(s,f,h,s.length,B.value),B=R.next()}for(;v<=_;)s.destroy(s.detach(_--));f?.forEach(R=>{s.destroy(R)})}(P,s,y.trackByFn,u),P.updateIndexes(),y.hasEmptyBlock){const R=(0,m.xbp)(),B=0===P.length;if(Ci(g,R,B)){const K=h+2,oe=mc(g,K);if(B){const le=pv(f,K),Ae=null;Oo(oe,Ll(g,le,void 0,{dehydratedView:Ae}),0,wa(le,Ae))}else f.firstUpdatePass&&hp(oe),Jh(oe,0)}}}finally{(0,I.Ht)(u)}},\u0275\u0275repeaterCreate:function yC(s,u,h,g,f,y,v,_,P,R,B,K,oe){_n("NgControlFlow");const le=(0,m.OAn)(),Ae=(0,m.klJ)(),Ne=void 0!==P,ze=(0,m.OAn)(),st=_?v.bind(ze[m.b5C][m.SKP]):v,Oe=new cv(Ne,st);ze[m.Yw1+s]=Oe,io(le,Ae,s+1,u,h,g,f,(0,m.db4)(Ae.consts,y),256),Ne&&io(le,Ae,s+2,P,R,B,K,(0,m.db4)(Ae.consts,oe),512)},\u0275\u0275repeaterTrackByIndex:function lv(s){return s},\u0275\u0275repeaterTrackByIdentity:function fC(s,u){return u},\u0275\u0275componentInstance:function Ub(){return(0,m.OAn)()[m.b5C][m.SKP]},\u0275\u0275text:cw,\u0275\u0275textInterpolate:sA,\u0275\u0275textInterpolate1:Tc,\u0275\u0275textInterpolate2:lA,\u0275\u0275textInterpolate3:function Hg(s,u,h,g,f,y,v){const _=(0,m.OAn)(),P=hw(_,s,u,h,g,f,y,v);return P!==gi&&so(_,(0,m._px)(),P),Hg},\u0275\u0275textInterpolate4:cA,\u0275\u0275textInterpolate5:function jg(s,u,h,g,f,y,v,_,P,R,B){const K=(0,m.OAn)(),oe=pw(K,s,u,h,g,f,y,v,_,P,R,B);return oe!==gi&&so(K,(0,m._px)(),oe),jg},\u0275\u0275textInterpolate6:function mw(s,u,h,g,f,y,v,_,P,R,B,K,oe){const le=(0,m.OAn)(),Ae=$g(le,s,u,h,g,f,y,v,_,P,R,B,K,oe);return Ae!==gi&&so(le,(0,m._px)(),Ae),mw},\u0275\u0275textInterpolate7:function qg(s,u,h,g,f,y,v,_,P,R,B,K,oe,le,Ae){const Ne=(0,m.OAn)(),ze=gw(Ne,s,u,h,g,f,y,v,_,P,R,B,K,oe,le,Ae);return ze!==gi&&so(Ne,(0,m._px)(),ze),qg},\u0275\u0275textInterpolate8:function fw(s,u,h,g,f,y,v,_,P,R,B,K,oe,le,Ae,Ne,ze){const st=(0,m.OAn)(),Oe=Gg(st,s,u,h,g,f,y,v,_,P,R,B,K,oe,le,Ae,Ne,ze);return Oe!==gi&&so(st,(0,m._px)(),Oe),fw},\u0275\u0275textInterpolateV:function Ug(s){const u=(0,m.OAn)(),h=Fg(u,s);return h!==gi&&so(u,(0,m._px)(),h),Ug},\u0275\u0275i18n:function jv(s,u,h){yg(s,u,h),Jk()},\u0275\u0275i18nAttributes:function BC(s,u){const h=(0,m.klJ)(),g=(0,m.db4)(h.consts,u);!function Iv(s,u,h){const f=(0,m.Mx4)().index,y=[];if(s.firstCreatePass&&null===s.data[u]){for(let v=0;v<h.length;v+=2){const _=h[v],P=h[v+1];if(""!==P){if(wC.test(P))throw new Error(`ICU expressions are not supported in attributes. Message: "${P}".`);pd(y,P,f,_,Mv(y),null)}}s.data[u]=y}}(h,s+m.Yw1,g)},\u0275\u0275i18nExp:function bg(s){return function kv(s){s&&(Ys|=1<<Math.min(dd,31)),dd++}(Ci((0,m.OAn)(),(0,m.xbp)(),s)),bg},\u0275\u0275i18nStart:yg,\u0275\u0275i18nEnd:Jk,\u0275\u0275i18nApply:function $C(s){!function kC(s,u,h){if(dd>0){const g=s.data[h];hg(s,u,Array.isArray(g)?g:g.update,(0,m.c$7)()-dd-1,Ys)}Ys=0,dd=0}((0,m.klJ)(),(0,m.OAn)(),s+m.Yw1)},\u0275\u0275i18nPostprocess:function qv(s,u={}){return function OC(s,u={}){let h=s;if(Bv.test(s)){const g={},f=[0];h=h.replace(LC,(y,v,_)=>{const P=v||_,R=g[P]||[];if(R.length||(P.split("|").forEach(Ne=>{const ze=Ne.match(Hv),st=ze?parseInt(ze[1],10):0,Oe=FC.test(Ne);R.push([st,Oe,Ne])}),g[P]=R),!R.length)throw new Error(`i18n postprocess: unmatched placeholder - ${P}`);const B=f[f.length-1];let K=0;for(let Ne=0;Ne<R.length;Ne++)if(R[Ne][0]===B){K=Ne;break}const[oe,le,Ae]=R[K];return le?f.pop():B!==oe&&f.push(oe),R.splice(K,1),Ae})}return Object.keys(u).length&&(h=h.replace($v,(g,f,y,v,_,P)=>u.hasOwnProperty(y)?`${f}${u[y]}${P}`:g),h=h.replace(NC,(g,f)=>u.hasOwnProperty(f)?u[f]:g),h=h.replace(Gv,(g,f)=>{if(u.hasOwnProperty(f)){const y=u[f];if(!y.length)throw new Error(`i18n postprocess: unmatched ICU - ${g} with key: ${f}`);return y.shift()}return g})),h}(s,u)},\u0275\u0275resolveWindow:R_,\u0275\u0275resolveDocument:L_,\u0275\u0275resolveBody:function N_(s){return s.ownerDocument.body},\u0275\u0275setComponentScope:function vA(s,u,h){const g=s.\u0275cmp;g.directiveDefs=Dp(u,hP),g.pipeDefs=Dp(h,m.oyA)},\u0275\u0275setNgModuleScope:function ux(s,u){return te(()=>{const h=(0,m.WbQ)(s);h.declarations=Ec(u.declarations||m.Mlv),h.imports=Ec(u.imports||m.Mlv),h.exports=Ec(u.exports||m.Mlv),u.bootstrap&&(h.bootstrap=Ec(u.bootstrap)),Bs.registerNgModule(s,u)})},\u0275\u0275registerNgModuleType:cP,\u0275\u0275getComponentDepsFactory:function mx(s,u){return()=>{try{return Bs.getComponentDependencies(s,u).dependencies}catch(h){throw console.error(`Computing dependencies in local compilation mode for the component "${s.name}" failed with the exception:`,h),h}}},\u0275setClassDebugInfo:function CA(s,u){const h=(0,m.xUg)(s);null!==h&&(h.debugInfo=u)},\u0275\u0275declareLet:function Vg(s){_n("NgLet");const u=(0,m.klJ)(),h=(0,m.OAn)(),g=s+m.Yw1,f=Ls(u,g,128,null,null);return(0,m.iMd)(f,!1),(0,m.M_e)(u,h,g,bw),Vg},\u0275\u0275storeLet:function tx(s){const u=(0,m.klJ)(),h=(0,m.OAn)(),g=(0,m._px)();return(0,m.M_e)(u,h,g,s),s},\u0275\u0275readContextLet:function uA(s){const u=(0,m.VPL)(),h=(0,m.Hh6)(u,m.Yw1+s);if(h===bw)throw new m.buA(314,!1);return h},\u0275\u0275attachSourceLocations:function ix(s,u){const h=(0,m.klJ)(),g=(0,m.OAn)(),f=g[m.GpT],y="data-ng-source-location";for(const[v,_,P,R]of u){(0,m.XRZ)(h,v+m.Yw1);const K=(0,m.vaC)(v+m.Yw1,g);K.hasAttribute(y)||f.setAttribute(K,y,`${s}@o:${_},l:${P},c:${R}`)}},\u0275\u0275interpolate:function dA(s){return Ci((0,m.OAn)(),(0,m.xbp)(),s)?(0,m.eFE)(s):gi},\u0275\u0275interpolate1:function nx(s,u,h=""){return dw((0,m.OAn)(),s,u,h)},\u0275\u0275interpolate2:function hA(s,u,h,g,f=""){return Og((0,m.OAn)(),s,u,h,g,f)},\u0275\u0275interpolate3:function rx(s,u,h,g,f,y,v=""){return hw((0,m.OAn)(),s,u,h,g,f,y,v)},\u0275\u0275interpolate4:function pA(s,u,h,g,f,y,v,_,P=""){return Bg((0,m.OAn)(),s,u,h,g,f,y,v,_,P)},\u0275\u0275interpolate5:function ax(s,u,h,g,f,y,v,_,P,R,B=""){return pw((0,m.OAn)(),s,u,h,g,f,y,v,_,P,R,B)},\u0275\u0275interpolate6:function gA(s,u,h,g,f,y,v,_,P,R,B,K,oe=""){return $g((0,m.OAn)(),s,u,h,g,f,y,v,_,P,R,B,K,oe)},\u0275\u0275interpolate7:function ox(s,u,h,g,f,y,v,_,P,R,B,K,oe,le,Ae=""){return gw((0,m.OAn)(),s,u,h,g,f,y,v,_,P,R,B,K,oe,le,Ae)},\u0275\u0275interpolate8:function mA(s,u,h,g,f,y,v,_,P,R,B,K,oe,le,Ae,Ne,ze=""){return Gg((0,m.OAn)(),s,u,h,g,f,y,v,_,P,R,B,K,oe,le,Ae,Ne,ze)},\u0275\u0275interpolateV:function sx(s){return Fg((0,m.OAn)(),s)},\u0275\u0275sanitizeHtml:function uu(s){const u=Tl();return u?zn(u.sanitize(vs.HTML,s)||""):ps(s,"HTML")?zn(Sa(s)):function af(s,u){let h=null;try{Pa=Pa||ru(s);let g=u?String(u):"";h=Pa.getInertBodyElement(g);let f=5,y=g;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,g=y,y=h.innerHTML,h=Pa.getInertBodyElement(g)}while(g!==y);return Aa((new nr).sanitizeChildren(lu(h)||h))}finally{if(h){const g=lu(h)||h;for(;g.firstChild;)g.firstChild.remove()}}}(Jr(),(0,m.eFE)(s))},\u0275\u0275sanitizeStyle:function e1(s){const u=Tl();return u?u.sanitize(vs.STYLE,s)||"":ps(s,"Style")?Sa(s):(0,m.eFE)(s)},\u0275\u0275sanitizeResourceUrl:M_,\u0275\u0275sanitizeScript:function $t(s){const u=Tl();if(u)return In(u.sanitize(vs.SCRIPT,s)||"");if(ps(s,"Script"))return In(Sa(s));throw new m.buA(905,!1)},\u0275\u0275validateAttribute:function l1(s,u,h){const g=u.toLowerCase(),f=h.toLowerCase();if(!s1[g]?.has(f))return s;const y=(0,m.CpD)();if(2!==y.type)return s;const v=(0,m.OAn)();throw"iframe"===g&&function ZT(s){const u=(0,m.OAn)();s.src="",s.srcdoc=Aa(""),jt(u[m.GpT],s)}((0,m.d31)(y,v)),new m.buA(-910,!1)},\u0275\u0275sanitizeUrl:lf,\u0275\u0275sanitizeUrlOrResourceUrl:function a1(s,u,h){return function r1(s,u){return"src"===u&&i1.has(s)||"href"===u&&n1.has(s)||"xlink:href"===u&&"script"===s?M_:lf}(u,h)(s)},\u0275\u0275trustConstantHtml:function As(s){return Aa(s[0])},\u0275\u0275trustConstantResourceUrl:function t1(s){return function bl(s){return Qa()?.createScriptURL(s)||s}(s[0])},forwardRef:m.Rfq,resolveForwardRef:m.nl4,\u0275\u0275twoWayProperty:Ad,\u0275\u0275twoWayBindingSet:yw,\u0275\u0275twoWayListener:_d,\u0275\u0275replaceMetadata:function xA(s,u,h,g,f=null,y=null){const v=(0,m.xUg)(s);u.apply(null,[s,h,...g]);const{newDef:_,oldDef:P}=function yx(s,u){const h={...s};return{newDef:Object.assign(s,u,{directiveDefs:h.directiveDefs,pipeDefs:h.pipeDefs,setInput:h.setInput,type:h.type}),oldDef:h}}(v,(0,m.xUg)(s));if(s[m.CQl]=_,P.tView){const R=function Q(){return xn}().values();for(const B of R)(0,m.EFk)(B)&&null===B[m.f7T]&&Cc(f,y,_,P,B)}},\u0275\u0275getReplaceMetadataURL:function fx(s,u,h){const g=`./@ng/component?c=${s}&t=${encodeURIComponent(u)}`;return new URL(g,h).href}};let xc=null;function RA(s){null!==xc&&(s.defaultEncapsulation!==xc.defaultEncapsulation||s.preserveWhitespaces!==xc.preserveWhitespaces)||(xc=s)}const Td=[];function im(s){return Du(s)?s.ngModule:s}const Cx=he("NgModule",s=>s,void 0,0,(s,u)=>function OA(s,u={}){(function xw(s,u){const g=(0,m.Bqz)(u.declarations||m.Mlv);let f=null;Object.defineProperty(s,m.hmW,{configurable:!0,get:()=>(null===f&&(f=Ze().compileNgModule(Ra,`ng:///${s.name}/\u0275mod.js`,{type:s,bootstrap:(0,m.Bqz)(u.bootstrap||m.Mlv).map(m.nl4),declarations:g.map(m.nl4),imports:(0,m.Bqz)(u.imports||m.Mlv).map(m.nl4).map(im),exports:(0,m.Bqz)(u.exports||m.Mlv).map(m.nl4).map(im),schemas:u.schemas?(0,m.Bqz)(u.schemas):null,id:u.id||null}),f.schemas||(f.schemas=[])),f)});let y=null;Object.defineProperty(s,m.zSs,{get:()=>{if(null===y){const _=Ze();y=_.compileFactory(Ra,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,deps:St(s),target:_.FactoryTarget.NgModule,typeArgumentCount:0})}return y},configurable:!1});let v=null;Object.defineProperty(s,m.ONQ,{get:()=>{if(null===v){const _={name:s.name,type:s,providers:u.providers||m.Mlv,imports:[(u.imports||m.Mlv).map(m.nl4),(u.exports||m.Mlv).map(m.nl4)]};v=Ze().compileInjector(Ra,`ng:///${s.name}/\u0275inj.js`,_)}return v},configurable:!1})})(s,u),void 0!==u.id&&cP(s,u.id),function LA(s,u){Td.push({moduleType:s,ngModule:u})}(s,u)}(s,u)),zA=new m.nKC("");let YA=(()=>{class s{applicationErrorHandler=(0,m.WQX)(m.ZTf);appRef=(0,m.WQX)(Vu);taskService=(0,m.WQX)(m.rev);ngZone=(0,m.WQX)(m.SKi);zonelessEnabled=(0,m.WQX)(m.Evm);tracing=(0,m.WQX)(Ps,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new A.y;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(m.AbJ):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&((0,m.WQX)(m.AQb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{const h=this.taskService.add();this.runningTick||(this.cleanup(),this.zonelessEnabled&&!this.appRef.includeAllTestViews)?(this.switchToMicrotaskScheduler(),this.taskService.remove(h)):this.taskService.remove(h)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{const h=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(h)})})}notify(h){if(!this.zonelessEnabled&&5===h)return;switch(h){case 0:case 6:case 13:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 12:this.appRef.dirtyFlags|=16;break;case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;const g=this.useMicrotaskScheduler?m.uiq:m.l4E;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>g(()=>this.tick())):this.ngZone.runOutsideAngular(()=>g(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(m.AbJ+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const h=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(g){this.applicationErrorHandler(g)}finally{this.taskService.remove(h),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const h=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(h)}}static \u0275fac=function(g){return new(g||s)};static \u0275prov=(0,m.jDH)({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function cm(){return[{provide:m.hk6,useExisting:YA},{provide:m.SKi,useClass:m.myG},{provide:m.Evm,useValue:!0}]}const um=new m.nKC("",{factory:()=>(0,m.WQX)(um,{optional:!0,skipSelf:!0})||function xx(){return typeof $localize<"u"&&$localize.locale||_v}()}),Dx=new m.nKC("",{factory:()=>"USD"})},5554(be,z,w){w.d(z,{A:()=>m});const m=function E(){return!1}},5722(be,z,w){w.d(z,{s:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},5738(be,z,w){w.d(z,{A:()=>A});var E=w(7107),I=Object.prototype.hasOwnProperty;const A=function q(c){var te=this.__data__;return E.A?void 0!==te[c]:I.call(te,c)}},5756(be,z,w){w.d(z,{A:()=>q});var E=w(5525),m=w(1860);const q=(0,E.A)(m.A,"WeakMap")},5776(be,z,w){w.d(z,{A:()=>I});var E=Object.prototype;const I=function m(q){var A=q&&q.constructor;return q===("function"==typeof A&&A.prototype||E)}},5824(be,z,w){w.d(z,{Ag:()=>Xe,Bg:()=>ot,EF:()=>lt,H8:()=>me,Ht:()=>c,JC:()=>De,KE:()=>ne,KO:()=>wi,KZ:()=>Ee,Ny:()=>ft,O8:()=>mt,TO:()=>wt,Wu:()=>Ze,XR:()=>xt,a7:()=>Ot,bh:()=>A,j2:()=>qi,lh:()=>Mt,mC:()=>gt,mK:()=>he,n5:()=>rt,nR:()=>te,pL:()=>ce,s0:()=>Vt,si:()=>ei,vX:()=>Ui});let E=null,m=!1,I=1;const A=Symbol("SIGNAL");function c(fe){const qe=E;return E=fe,qe}function te(){return E}function ne(){return m}const ce={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function he(fe){if(m)throw new Error("");if(null===E)return;E.consumerOnSignalRead(fe);const qe=E.producersTail;if(void 0!==qe&&qe.producer===fe)return;let tt;const Ce=E.recomputing;if(Ce&&(tt=void 0!==qe?qe.nextProducer:E.producers,void 0!==tt&&tt.producer===fe))return E.producersTail=tt,void(tt.lastReadVersion=fe.version);const ut=fe.consumersTail;if(void 0!==ut&&ut.consumer===E&&(!Ce||function Ii(fe,qe){const tt=qe.producersTail;if(void 0!==tt){let Ce=qe.producers;do{if(Ce===fe)return!0;if(Ce===tt)break;Ce=Ce.nextProducer}while(void 0!==Ce)}return!1}(ut,E)))return;const ti=si(E),ai={producer:fe,consumer:E,nextProducer:tt,prevConsumer:ut,lastReadVersion:fe.version,nextConsumer:void 0};E.producersTail=ai,void 0!==qe?qe.nextProducer=ai:E.producers=ai,ti&&ni(fe,ai)}function De(fe){if((!si(fe)||fe.dirty)&&(fe.dirty||fe.lastCleanEpoch!==I)){if(!fe.producerMustRecompute(fe)&&!ei(fe))return void wt(fe);fe.producerRecomputeValue(fe),wt(fe)}}function We(fe){if(void 0===fe.consumers)return;const qe=m;m=!0;try{for(let tt=fe.consumers;void 0!==tt;tt=tt.nextConsumer){const Ce=tt.consumer;Ce.dirty||nt(Ce)}}finally{m=qe}}function it(){return!1!==E?.consumerAllowSignalWrites}function nt(fe){fe.dirty=!0,We(fe),fe.consumerMarkedDirty?.(fe)}function wt(fe){fe.dirty=!1,fe.lastCleanEpoch=I}function ot(fe){return fe&&function vt(fe){fe.producersTail=void 0,fe.recomputing=!0}(fe),c(fe)}function Ze(fe,qe){c(qe),fe&&function Gt(fe){fe.recomputing=!1;const qe=fe.producersTail;let tt=void 0!==qe?qe.nextProducer:fe.producers;if(void 0!==tt){if(si(fe))do{tt=Ft(tt)}while(void 0!==tt);void 0!==qe?qe.nextProducer=void 0:fe.producers=void 0}}(fe)}function ei(fe){for(let qe=fe.producers;void 0!==qe;qe=qe.nextProducer){const tt=qe.producer,Ce=qe.lastReadVersion;if(Ce!==tt.version||(De(tt),Ce!==tt.version))return!0}return!1}function xt(fe){if(si(fe)){let qe=fe.producers;for(;void 0!==qe;)qe=Ft(qe)}fe.producers=void 0,fe.producersTail=void 0,fe.consumers=void 0,fe.consumersTail=void 0}function ni(fe,qe){const tt=fe.consumersTail,Ce=si(fe);if(void 0!==tt?(qe.nextConsumer=tt.nextConsumer,tt.nextConsumer=qe):(qe.nextConsumer=void 0,fe.consumers=qe),qe.prevConsumer=tt,fe.consumersTail=qe,!Ce)for(let ut=fe.producers;void 0!==ut;ut=ut.nextProducer)ni(ut.producer,ut)}function Ft(fe){const qe=fe.producer,tt=fe.nextProducer,Ce=fe.nextConsumer,ut=fe.prevConsumer;if(fe.nextConsumer=void 0,fe.prevConsumer=void 0,void 0!==Ce?Ce.prevConsumer=ut:qe.consumersTail=ut,void 0!==ut)ut.nextConsumer=Ce;else if(qe.consumers=Ce,!si(qe)){let ti=qe.producers;for(;void 0!==ti;)ti=Ft(ti)}return tt}function si(fe){return fe.consumerIsAlwaysLive||void 0!==fe.consumers}function Ot(fe){}function me(fe,qe){return Object.is(fe,qe)}function Ee(fe,qe){const tt=Object.create(ri);tt.computation=fe,void 0!==qe&&(tt.equal=qe);const Ce=()=>{if(De(tt),he(tt),tt.value===lt)throw tt.error;return tt.value};return Ce[A]=tt,Ce}const Xe=Symbol("UNSET"),ft=Symbol("COMPUTING"),lt=Symbol("ERRORED"),ri={...ce,value:Xe,dirty:!0,error:null,equal:me,kind:"computed",producerMustRecompute:fe=>fe.value===Xe||fe.value===ft,producerRecomputeValue(fe){if(fe.value===ft)throw new Error("");const qe=fe.value;fe.value=ft;const tt=ot(fe);let Ce,ut=!1;try{Ce=fe.computation(),c(null),ut=qe!==Xe&&qe!==lt&&Ce!==lt&&fe.equal(qe,Ce)}catch(ti){Ce=lt,fe.error=ti}finally{Ze(fe,tt)}ut?fe.value=qe:(fe.value=Ce,fe.version++)}};let li=function mi(){throw new Error};function ui(fe){li(fe)}function wi(fe){li=fe}function rt(fe,qe){const tt=Object.create(Vt);tt.value=fe,void 0!==qe&&(tt.equal=qe);const Ce=()=>function Sn(fe){return he(fe),fe.value}(tt);return Ce[A]=tt,[Ce,ai=>qi(tt,ai),ai=>gt(tt,ai)]}function qi(fe,qe){it()||ui(fe),fe.equal(fe.value,qe)||(fe.value=qe,function sn(fe){fe.version++,function ye(){I++}(),We(fe)}(fe))}function gt(fe,qe){it()||ui(fe),qi(fe,qe(fe.value))}const Vt={...ce,equal:me,value:void 0,kind:"signal"};function mt(fe){const qe=c(null);try{return fe()}finally{c(qe)}}const Ui={...ce,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"};function Mt(fe){if(fe.dirty=!1,fe.version>0&&!ei(fe))return;fe.version++;const qe=ot(fe);try{fe.cleanup(),fe.fn()}finally{Ze(fe,qe)}}},5998(be,z,w){function E(m){return!!m&&"function"!=typeof m.subscribe&&"function"==typeof m.then}w.d(z,{y:()=>E})},6032(be,z,w){w.d(z,{A:()=>m});const m=function E(){return[]}},6080(be,z,w){w.d(z,{A:()=>tt});var E=w(7302),m=w(9162),I=w(1984),q=w(9452),A=w(3507),c=w(9933),te=w(4528),ne=w(712),ie=w(9975),ce=w(7895),he=w(7372),ye=w(3080),De=w(7104),We=w(7850),it=w(1178),nt=w(3744),wt=w(259),ot=w(1795),vt=w(554),Ze=w(2173),Gt=w(4429),ei=w(4238),si="[object Arguments]",Ee="[object Function]",ri="[object Object]",fe={};fe[si]=fe["[object Array]"]=fe["[object ArrayBuffer]"]=fe["[object DataView]"]=fe["[object Boolean]"]=fe["[object Date]"]=fe["[object Float32Array]"]=fe["[object Float64Array]"]=fe["[object Int8Array]"]=fe["[object Int16Array]"]=fe["[object Int32Array]"]=fe["[object Map]"]=fe["[object Number]"]=fe[ri]=fe["[object RegExp]"]=fe["[object Set]"]=fe["[object String]"]=fe["[object Symbol]"]=fe["[object Uint8Array]"]=fe["[object Uint8ClampedArray]"]=fe["[object Uint16Array]"]=fe["[object Uint32Array]"]=!0,fe["[object Error]"]=fe[Ee]=fe["[object WeakMap]"]=!1;const tt=function qe(Ce,ut,ti,ai,Mi,di){var zt,Hn=1&ut,pn=2&ut,Pn=4&ut;if(ti&&(zt=Mi?ti(Ce,ai,Mi,di):ti(Ce)),void 0!==zt)return zt;if(!(0,vt.A)(Ce))return Ce;var gn=(0,nt.A)(Ce);if(gn){if(zt=(0,De.A)(Ce),!Hn)return(0,te.A)(Ce,zt)}else{var Vi=(0,ye.A)(Ce),Wi=Vi==Ee||"[object GeneratorFunction]"==Vi;if((0,wt.A)(Ce))return(0,c.A)(Ce,Hn);if(Vi==ri||Vi==si||Wi&&!Mi){if(zt=pn||Wi?{}:(0,it.A)(Ce),!Hn)return pn?(0,ie.A)(Ce,(0,A.A)(zt,Ce)):(0,ne.A)(Ce,(0,q.A)(zt,Ce))}else{if(!fe[Vi])return Mi?Ce:{};zt=(0,We.A)(Ce,Vi,Hn)}}di||(di=new E.A);var mn=di.get(Ce);if(mn)return mn;di.set(Ce,zt),(0,Ze.A)(Ce)?Ce.forEach(function(vi){zt.add(qe(vi,ut,ti,vi,Ce,di))}):(0,ot.A)(Ce)&&Ce.forEach(function(vi,Bi){zt.set(Bi,qe(vi,ut,ti,Bi,Ce,di))});var Oi=gn?void 0:(Pn?pn?he.A:ce.A:pn?ei.A:Gt.A)(Ce);return(0,m.A)(Oi||Ce,function(vi,Bi){Oi&&(vi=Ce[Bi=vi]),(0,I.A)(zt,Bi,qe(vi,ut,ti,Bi,Ce,di))}),zt}},6228(be,z,w){w.d(z,{q:()=>m});let E=(()=>{class I{constructor(A,c=I.now){this.SchedulerAction=A,this.now=c}schedule(A,c=0,te){return new this.SchedulerAction(this,A).schedule(te,c)}}return I.now=()=>Date.now(),I})();class m extends E{constructor(q,A=E.now){super(q,()=>m.delegate&&m.delegate!==this?m.delegate.now():A()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(q,A=0,c){return m.delegate&&m.delegate!==this?m.delegate.schedule(q,A,c):super.schedule(q,A,c)}flush(q){const{actions:A}=this;if(this.active)return void A.push(q);let c;this.active=!0;do{if(c=q.execute(q.state,q.delay))break}while(q=A.shift());if(this.active=!1,c){for(;q=A.shift();)q.unsubscribe();throw c}}}},6494(be,z,w){w.d(z,{Vw:()=>c,ig:()=>q,qj:()=>A,rb:()=>I});var E=w(7868);let m=null;function I(){return m}function q(ie){m??=ie}class A{}let c=(()=>{class ie{historyGo(he){throw new Error("")}static \u0275fac=function(ye){return new(ye||ie)};static \u0275prov=E.jDH({token:ie,factory:()=>(0,E.WQX)(ne),providedIn:"platform"})}return ie})(),ne=(()=>{class ie extends c{_location;_history;_doc=(0,E.WQX)(E.qQL);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return I().getBaseHref(this._doc)}onPopState(he){const ye=I().getGlobalEventTarget(this._doc,"window");return ye.addEventListener("popstate",he,!1),()=>ye.removeEventListener("popstate",he)}onHashChange(he){const ye=I().getGlobalEventTarget(this._doc,"window");return ye.addEventListener("hashchange",he,!1),()=>ye.removeEventListener("hashchange",he)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(he){this._location.pathname=he}pushState(he,ye,De){this._history.pushState(he,ye,De)}replaceState(he,ye,De){this._history.replaceState(he,ye,De)}forward(){this._history.forward()}back(){this._history.back()}historyGo(he=0){this._history.go(he)}getState(){return this._history.state}static \u0275fac=function(ye){return new(ye||ie)};static \u0275prov=E.jDH({token:ie,factory:()=>new ie,providedIn:"platform"})}return ie})()},6509(be,z,w){w.d(z,{A:()=>I});const I=w(1860).A.Uint8Array},6542(be,z,w){w.d(z,{A:()=>I});var E=w(3746);const I=function m(q){return(0,E.A)(this,q).has(q)}},6568(be,z,w){w.d(z,{A:()=>q});var E=w(5525),m=w(1860);const q=(0,E.A)(m.A,"Map")},6658(be,z,w){w.d(z,{A:()=>q});var E=w(563),m=w(3744);const q=function I(A,c,te){var ne=c(A);return(0,m.A)(A)?ne:(0,E.A)(ne,te(A))}},6756(be,z,w){w.d(z,{A:()=>te});var E=w(6944),m=Object.prototype,I=m.hasOwnProperty,q=m.toString,A=E.A?E.A.toStringTag:void 0;const te=function c(ne){var ie=I.call(ne,A),ce=ne[A];try{ne[A]=void 0;var he=!0}catch{}var ye=q.call(ne);return he&&(ie?ne[A]=ce:delete ne[A]),ye}},6767(be,z,w){w.d(z,{H:()=>m,g:()=>I});const m={playerPack:"pP",opponentPack:"oP",playerToy:"pT",playerToyLevel:"pTL",playerHardToy:"pHT",playerHardToyLevel:"pHTL",opponentToy:"oT",opponentToyLevel:"oTL",opponentHardToy:"oHT",opponentHardToyLevel:"oHTL",turn:"t",playerGoldSpent:"pGS",opponentGoldSpent:"oGS",playerRollAmount:"pRA",opponentRollAmount:"oRA",playerSummonedAmount:"pSA",opponentSummonedAmount:"oSA",playerLevel3Sold:"pL3",opponentLevel3Sold:"oL3",playerTransformationAmount:"pTA",opponentTransformationAmount:"oTA",playerPets:"p",opponentPets:"o",allPets:"ap",logFilter:"lf",customPacks:"cp",oldStork:"os",tokenPets:"tp",komodoShuffle:"ks",mana:"m",seed:"sd",triggersConsumed:"tc",showAdvanced:"sa",showTriggerNamesInLogs:"stn",showPositionalArgsInLogs:"spa",ailmentEquipment:"ae",changeEquipmentUses:"cEU",logsEnabled:"lE",simulations:"sim",name:"n",attack:"a",health:"h",exp:"e",equipment:"eq",equipmentUses:"eU",belugaSwallowedPet:"bSP",sarcasticFringeheadSwallowedPet:"sFSP",parrotCopyPet:"pCP",parrotCopyPetBelugaSwallowedPet:"pCPB",abomParrotSwallowed:"aPS",abominationSwallowedPet1:"aSP1",abominationSwallowedPet2:"aSP2",abominationSwallowedPet3:"aSP3",abominationSwallowedPet1BelugaSwallowedPet:"aSP1B",abominationSwallowedPet2BelugaSwallowedPet:"aSP2B",abominationSwallowedPet3BelugaSwallowedPet:"aSP3B",abominationSwallowedPet1SarcasticFringeheadSwallowedPet:"aSP1SFS",abominationSwallowedPet2SarcasticFringeheadSwallowedPet:"aSP2SFS",abominationSwallowedPet3SarcasticFringeheadSwallowedPet:"aSP3SFS",abominationSwallowedPet1Level:"aSP1L",abominationSwallowedPet2Level:"aSP2L",abominationSwallowedPet3Level:"aSP3L",abominationSwallowedPet1TimesHurt:"aSP1T",abominationSwallowedPet2TimesHurt:"aSP2T",abominationSwallowedPet3TimesHurt:"aSP3T",battlesFought:"bF",friendsDiedBeforeBattle:"fDBB",foodsEaten:"fE",...(()=>{const q={};for(let A=1;A<=3;A++){const c=`parrotCopyPetAbominationSwallowedPet${A}`,te=`pCPAS${A}`;q[c]=te,q[`${c}BelugaSwallowedPet`]=`${te}B`,q[`${c}Level`]=`${te}L`,q[`${c}TimesHurt`]=`${te}T`,q[`${c}ParrotCopyPet`]=`${te}PCP`,q[`${c}ParrotCopyPetBelugaSwallowedPet`]=`${te}PCPB`;for(let ne=1;ne<=3;ne++){const ie=`${c}ParrotCopyPetAbominationSwallowedPet${ne}`,ce=`${te}PCPAS${ne}`;q[ie]=ce,q[`${ie}BelugaSwallowedPet`]=`${ce}B`,q[`${ie}Level`]=`${ce}L`,q[`${ie}TimesHurt`]=`${ce}T`}}return q})(),abominationSwallowedPet1ParrotCopyPet:"aSP1PCP",abominationSwallowedPet2ParrotCopyPet:"aSP2PCP",abominationSwallowedPet3ParrotCopyPet:"aSP3PCP",abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet:"aSP1PCPB",abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet:"aSP2PCPB",abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet:"aSP3PCPB",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1:"aSP1PCPAS1",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2:"aSP1PCPAS2",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3:"aSP1PCPAS3",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1:"aSP2PCPAS1",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2:"aSP2PCPAS2",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3:"aSP2PCPAS3",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1:"aSP3PCPAS1",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2:"aSP3PCPAS2",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3:"aSP3PCPAS3",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:"aSP1PCPAS1B",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:"aSP1PCPAS2B",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:"aSP1PCPAS3B",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:"aSP2PCPAS1B",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:"aSP2PCPAS2B",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:"aSP2PCPAS3B",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:"aSP3PCPAS1B",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:"aSP3PCPAS2B",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:"aSP3PCPAS3B",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level:"aSP1PCPAS1L",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level:"aSP1PCPAS2L",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level:"aSP1PCPAS3L",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level:"aSP2PCPAS1L",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level:"aSP2PCPAS2L",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level:"aSP2PCPAS3L",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level:"aSP3PCPAS1L",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level:"aSP3PCPAS2L",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level:"aSP3PCPAS3L",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt:"aSP1PCPAS1T",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt:"aSP1PCPAS2T",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt:"aSP1PCPAS3T",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt:"aSP2PCPAS1T",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt:"aSP2PCPAS2T",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt:"aSP2PCPAS3T",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt:"aSP3PCPAS1T",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt:"aSP3PCPAS2T",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt:"aSP3PCPAS3T",timesHurt:"tH"},I=Object.entries(m).reduce((q,[A,c])=>(q[c]=A,q),{})},6792(be,z,w){w.d(z,{A:()=>ce});var E=w(9659),m=w(7061),I=w(3744),q=w(259),A=w(8606),c=w(4608),ne=Object.prototype.hasOwnProperty;const ce=function ie(he,ye){var De=(0,I.A)(he),We=!De&&(0,m.A)(he),it=!De&&!We&&(0,q.A)(he),nt=!De&&!We&&!it&&(0,c.A)(he),wt=De||We||it||nt,ot=wt?(0,E.A)(he.length,String):[],vt=ot.length;for(var Ze in he)(ye||ne.call(he,Ze))&&(!wt||!("length"==Ze||it&&("offset"==Ze||"parent"==Ze)||nt&&("buffer"==Ze||"byteLength"==Ze||"byteOffset"==Ze)||(0,A.A)(Ze,vt)))&&ot.push(Ze);return ot}},6944(be,z,w){w.d(z,{A:()=>I});const I=w(1860).A.Symbol},6980(be,z,w){w.d(z,{Qq:()=>mn,Lr:()=>it,$R:()=>wr,Sx:()=>Nn}),w(467);var m=w(7868),I=w(5547),q=w(9090),A=w(7312),c=w(8456),ne=w(8728),ie=w(5006),ce=w(7389),ye=(w(4787),w(4421)),De=w(3117),We=w(6494);class it{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(ue){ue?"string"==typeof ue?this.lazyInit=()=>{this.headers=new Map,ue.split("\n").forEach(ae=>{const Se=ae.indexOf(":");if(Se>0){const ke=ae.slice(0,Se),Me=ae.slice(Se+1).trim();this.addHeaderEntry(ke,Me)}})}:typeof Headers<"u"&&ue instanceof Headers?(this.headers=new Map,ue.forEach((ae,Se)=>{this.addHeaderEntry(Se,ae)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ue).forEach(([ae,Se])=>{this.setHeaderEntries(ae,Se)})}:this.headers=new Map}has(ue){return this.init(),this.headers.has(ue.toLowerCase())}get(ue){this.init();const ae=this.headers.get(ue.toLowerCase());return ae&&ae.length>0?ae[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ue){return this.init(),this.headers.get(ue.toLowerCase())||null}append(ue,ae){return this.clone({name:ue,value:ae,op:"a"})}set(ue,ae){return this.clone({name:ue,value:ae,op:"s"})}delete(ue,ae){return this.clone({name:ue,value:ae,op:"d"})}maybeSetNormalizedName(ue,ae){this.normalizedNames.has(ae)||this.normalizedNames.set(ae,ue)}init(){this.lazyInit&&(this.lazyInit instanceof it?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ue=>this.applyUpdate(ue)),this.lazyUpdate=null))}copyFrom(ue){ue.init(),Array.from(ue.headers.keys()).forEach(ae=>{this.headers.set(ae,ue.headers.get(ae)),this.normalizedNames.set(ae,ue.normalizedNames.get(ae))})}clone(ue){const ae=new it;return ae.lazyInit=this.lazyInit&&this.lazyInit instanceof it?this.lazyInit:this,ae.lazyUpdate=(this.lazyUpdate||[]).concat([ue]),ae}applyUpdate(ue){const ae=ue.name.toLowerCase();switch(ue.op){case"a":case"s":let Se=ue.value;if("string"==typeof Se&&(Se=[Se]),0===Se.length)return;this.maybeSetNormalizedName(ue.name,ae);const ke=("a"===ue.op?this.headers.get(ae):void 0)||[];ke.push(...Se),this.headers.set(ae,ke);break;case"d":const Me=ue.value;if(Me){let Ve=this.headers.get(ae);if(!Ve)return;Ve=Ve.filter(St=>-1===Me.indexOf(St)),0===Ve.length?(this.headers.delete(ae),this.normalizedNames.delete(ae)):this.headers.set(ae,Ve)}else this.headers.delete(ae),this.normalizedNames.delete(ae)}}addHeaderEntry(ue,ae){const Se=ue.toLowerCase();this.maybeSetNormalizedName(ue,Se),this.headers.has(Se)?this.headers.get(Se).push(ae):this.headers.set(Se,[ae])}setHeaderEntries(ue,ae){const Se=(Array.isArray(ae)?ae:[ae]).map(Me=>Me.toString()),ke=ue.toLowerCase();this.headers.set(ke,Se),this.maybeSetNormalizedName(ue,ke)}forEach(ue){this.init(),Array.from(this.normalizedNames.keys()).forEach(ae=>ue(this.normalizedNames.get(ae),this.headers.get(ae)))}}class ot{map=new Map;set(ue,ae){return this.map.set(ue,ae),this}get(ue){return this.map.has(ue)||this.map.set(ue,ue.defaultValue()),this.map.get(ue)}delete(ue){return this.map.delete(ue),this}has(ue){return this.map.has(ue)}keys(){return this.map.keys()}}class vt{encodeKey(ue){return xt(ue)}encodeValue(ue){return xt(ue)}decodeKey(ue){return decodeURIComponent(ue)}decodeValue(ue){return decodeURIComponent(ue)}}const Gt=/%(\d[a-f0-9])/gi,ei={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xt(Y){return encodeURIComponent(Y).replace(Gt,(ue,ae)=>ei[ae]??ue)}function ni(Y){return`${Y}`}class Ft{map;encoder;updates=null;cloneFrom=null;constructor(ue={}){if(this.encoder=ue.encoder||new vt,ue.fromString){if(ue.fromObject)throw new m.buA(2805,!1);this.map=function Ze(Y,ue){const ae=new Map;return Y.length>0&&Y.replace(/^\?/,"").split("&").forEach(ke=>{const Me=ke.indexOf("="),[Ve,St]=-1==Me?[ue.decodeKey(ke),""]:[ue.decodeKey(ke.slice(0,Me)),ue.decodeValue(ke.slice(Me+1))],at=ae.get(Ve)||[];at.push(St),ae.set(Ve,at)}),ae}(ue.fromString,this.encoder)}else ue.fromObject?(this.map=new Map,Object.keys(ue.fromObject).forEach(ae=>{const Se=ue.fromObject[ae],ke=Array.isArray(Se)?Se.map(ni):[ni(Se)];this.map.set(ae,ke)})):this.map=null}has(ue){return this.init(),this.map.has(ue)}get(ue){this.init();const ae=this.map.get(ue);return ae?ae[0]:null}getAll(ue){return this.init(),this.map.get(ue)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ue,ae){return this.clone({param:ue,value:ae,op:"a"})}appendAll(ue){const ae=[];return Object.keys(ue).forEach(Se=>{const ke=ue[Se];Array.isArray(ke)?ke.forEach(Me=>{ae.push({param:Se,value:Me,op:"a"})}):ae.push({param:Se,value:ke,op:"a"})}),this.clone(ae)}set(ue,ae){return this.clone({param:ue,value:ae,op:"s"})}delete(ue,ae){return this.clone({param:ue,value:ae,op:"d"})}toString(){return this.init(),this.keys().map(ue=>{const ae=this.encoder.encodeKey(ue);return this.map.get(ue).map(Se=>ae+"="+this.encoder.encodeValue(Se)).join("&")}).filter(ue=>""!==ue).join("&")}clone(ue){const ae=new Ft({encoder:this.encoder});return ae.cloneFrom=this.cloneFrom||this,ae.updates=(this.updates||[]).concat(ue),ae}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ue=>this.map.set(ue,this.cloneFrom.map.get(ue))),this.updates.forEach(ue=>{switch(ue.op){case"a":case"s":const ae=("a"===ue.op?this.map.get(ue.param):void 0)||[];ae.push(ni(ue.value)),this.map.set(ue.param,ae);break;case"d":if(void 0===ue.value){this.map.delete(ue.param);break}{let Se=this.map.get(ue.param)||[];const ke=Se.indexOf(ni(ue.value));-1!==ke&&Se.splice(ke,1),Se.length>0?this.map.set(ue.param,Se):this.map.delete(ue.param)}}}),this.cloneFrom=this.updates=null)}}function Ot(Y){return typeof ArrayBuffer<"u"&&Y instanceof ArrayBuffer}function _t(Y){return typeof Blob<"u"&&Y instanceof Blob}function Ii(Y){return typeof FormData<"u"&&Y instanceof FormData}const Ee="Content-Type",ft="text/plain",lt="application/json",ri=`${lt}, ${ft}, */*`;class mi{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(ue,ae,Se,ke){let Me;if(this.url=ae,this.method=ue.toUpperCase(),function si(Y){switch(Y){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ke?(this.body=void 0!==Se?Se:null,Me=ke):Me=Se,Me){if(this.reportProgress=!!Me.reportProgress,this.withCredentials=!!Me.withCredentials,this.keepalive=!!Me.keepalive,Me.responseType&&(this.responseType=Me.responseType),Me.headers&&(this.headers=Me.headers),Me.context&&(this.context=Me.context),Me.params&&(this.params=Me.params),Me.priority&&(this.priority=Me.priority),Me.cache&&(this.cache=Me.cache),Me.credentials&&(this.credentials=Me.credentials),"number"==typeof Me.timeout){if(Me.timeout<1||!Number.isInteger(Me.timeout))throw new m.buA(2822,"");this.timeout=Me.timeout}Me.mode&&(this.mode=Me.mode),Me.redirect&&(this.redirect=Me.redirect),Me.integrity&&(this.integrity=Me.integrity),Me.referrer&&(this.referrer=Me.referrer),Me.referrerPolicy&&(this.referrerPolicy=Me.referrerPolicy),this.transferCache=Me.transferCache}if(this.headers??=new it,this.context??=new ot,this.params){const Ve=this.params.toString();if(0===Ve.length)this.urlWithParams=ae;else{const St=ae.indexOf("?");this.urlWithParams=ae+(-1===St?"?":St<ae.length-1?"&":"")+Ve}}else this.params=new Ft,this.urlWithParams=ae}serializeBody(){return null===this.body?null:"string"==typeof this.body||Ot(this.body)||_t(this.body)||Ii(this.body)||function me(Y){return typeof URLSearchParams<"u"&&Y instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Ft?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ii(this.body)?null:_t(this.body)?this.body.type||null:Ot(this.body)?null:"string"==typeof this.body?ft:this.body instanceof Ft?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?lt:null}clone(ue={}){const ae=ue.method||this.method,Se=ue.url||this.url,ke=ue.responseType||this.responseType,Me=ue.keepalive??this.keepalive,Ve=ue.priority||this.priority,St=ue.cache||this.cache,at=ue.mode||this.mode,Ai=ue.redirect||this.redirect,$i=ue.credentials||this.credentials,ci=ue.referrer||this.referrer,oi=ue.integrity||this.integrity,yn=ue.referrerPolicy||this.referrerPolicy,Jt=ue.transferCache??this.transferCache,Li=ue.timeout??this.timeout,kt=void 0!==ue.body?ue.body:this.body,Dt=ue.withCredentials??this.withCredentials,_i=ue.reportProgress??this.reportProgress;let Ei=ue.headers||this.headers,Rt=ue.params||this.params;const Ni=ue.context??this.context;return void 0!==ue.setHeaders&&(Ei=Object.keys(ue.setHeaders).reduce((bn,zi)=>bn.set(zi,ue.setHeaders[zi]),Ei)),ue.setParams&&(Rt=Object.keys(ue.setParams).reduce((bn,zi)=>bn.set(zi,ue.setParams[zi]),Rt)),new mi(ae,Se,kt,{params:Rt,headers:Ei,context:Ni,reportProgress:_i,responseType:ke,withCredentials:Dt,transferCache:Jt,keepalive:Me,cache:St,priority:Ve,timeout:Li,mode:at,redirect:Ai,credentials:$i,referrer:ci,integrity:oi,referrerPolicy:yn})}}var li=function(Y){return Y[Y.Sent=0]="Sent",Y[Y.UploadProgress=1]="UploadProgress",Y[Y.ResponseHeader=2]="ResponseHeader",Y[Y.DownloadProgress=3]="DownloadProgress",Y[Y.Response=4]="Response",Y[Y.User=5]="User",Y}(li||{});class ui{headers;status;statusText;url;ok;type;redirected;responseType;constructor(ue,ae=200,Se="OK"){this.headers=ue.headers||new it,this.status=void 0!==ue.status?ue.status:ae,this.statusText=ue.statusText||Se,this.url=ue.url||null,this.redirected=ue.redirected,this.responseType=ue.responseType,this.ok=this.status>=200&&this.status<300}}class wi extends ui{constructor(ue={}){super(ue)}type=li.ResponseHeader;clone(ue={}){return new wi({headers:ue.headers||this.headers,status:void 0!==ue.status?ue.status:this.status,statusText:ue.statusText||this.statusText,url:ue.url||this.url||void 0})}}class Pt extends ui{body;constructor(ue={}){super(ue),this.body=void 0!==ue.body?ue.body:null}type=li.Response;clone(ue={}){return new Pt({body:void 0!==ue.body?ue.body:this.body,headers:ue.headers||this.headers,status:void 0!==ue.status?ue.status:this.status,statusText:ue.statusText||this.statusText,url:ue.url||this.url||void 0,redirected:ue.redirected??this.redirected,responseType:ue.responseType??this.responseType})}}class rt extends ui{name="HttpErrorResponse";message;error;ok=!1;constructor(ue){super(ue,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ue.url||"(unknown url)"}`:`Http failure response for ${ue.url||"(unknown url)"}: ${ue.status} ${ue.statusText}`,this.error=ue.error||null}}const He=new m.nKC(""),fe=/^\)\]\}',?\n/;let tt=(()=>{class Y{xhrFactory;tracingService=(0,m.WQX)(I.a8H,{optional:!0});constructor(ae){this.xhrFactory=ae}maybePropagateTrace(ae){return this.tracingService?.propagate?this.tracingService.propagate(ae):ae}handle(ae){if("JSONP"===ae.method)throw new m.buA(-2800,!1);const Se=this.xhrFactory;return(0,ye.of)(null).pipe((0,q.n)(()=>new ce.c(Me=>{const Ve=Se.build();if(Ve.open(ae.method,ae.urlWithParams),ae.withCredentials&&(Ve.withCredentials=!0),ae.headers.forEach((kt,Dt)=>Ve.setRequestHeader(kt,Dt.join(","))),ae.headers.has("Accept")||Ve.setRequestHeader("Accept",ri),!ae.headers.has(Ee)){const kt=ae.detectContentTypeHeader();null!==kt&&Ve.setRequestHeader(Ee,kt)}if(ae.timeout&&(Ve.timeout=ae.timeout),ae.responseType){const kt=ae.responseType.toLowerCase();Ve.responseType="json"!==kt?kt:"text"}const St=ae.serializeBody();let at=null;const Ai=()=>{if(null!==at)return at;const kt=Ve.statusText||"OK",Dt=new it(Ve.getAllResponseHeaders());return at=new wi({headers:Dt,status:Ve.status,statusText:kt,url:Ve.responseURL||ae.url}),at},$i=this.maybePropagateTrace(()=>{let{headers:kt,status:Dt,statusText:_i,url:Ei}=Ai(),Rt=null;204!==Dt&&(Rt=typeof Ve.response>"u"?Ve.responseText:Ve.response),0===Dt&&(Dt=Rt?200:0);let Ni=Dt>=200&&Dt<300;if("json"===ae.responseType&&"string"==typeof Rt){const bn=Rt;Rt=Rt.replace(fe,"");try{Rt=""!==Rt?JSON.parse(Rt):null}catch(zi){Rt=bn,Ni&&(Ni=!1,Rt={error:zi,text:Rt})}}Ni?(Me.next(new Pt({body:Rt,headers:kt,status:Dt,statusText:_i,url:Ei||void 0})),Me.complete()):Me.error(new rt({error:Rt,headers:kt,status:Dt,statusText:_i,url:Ei||void 0}))}),ci=this.maybePropagateTrace(kt=>{const{url:Dt}=Ai(),_i=new rt({error:kt,status:Ve.status||0,statusText:Ve.statusText||"Unknown Error",url:Dt||void 0});Me.error(_i)});let oi=ci;ae.timeout&&(oi=this.maybePropagateTrace(kt=>{const{url:Dt}=Ai(),_i=new rt({error:new DOMException("Request timed out","TimeoutError"),status:Ve.status||0,statusText:Ve.statusText||"Request timeout",url:Dt||void 0});Me.error(_i)}));let yn=!1;const Jt=this.maybePropagateTrace(kt=>{yn||(Me.next(Ai()),yn=!0);let Dt={type:li.DownloadProgress,loaded:kt.loaded};kt.lengthComputable&&(Dt.total=kt.total),"text"===ae.responseType&&Ve.responseText&&(Dt.partialText=Ve.responseText),Me.next(Dt)}),Li=this.maybePropagateTrace(kt=>{let Dt={type:li.UploadProgress,loaded:kt.loaded};kt.lengthComputable&&(Dt.total=kt.total),Me.next(Dt)});return Ve.addEventListener("load",$i),Ve.addEventListener("error",ci),Ve.addEventListener("timeout",oi),Ve.addEventListener("abort",ci),ae.reportProgress&&(Ve.addEventListener("progress",Jt),null!==St&&Ve.upload&&Ve.upload.addEventListener("progress",Li)),Ve.send(St),Me.next({type:li.Sent}),()=>{Ve.removeEventListener("error",ci),Ve.removeEventListener("abort",ci),Ve.removeEventListener("load",$i),Ve.removeEventListener("timeout",oi),ae.reportProgress&&(Ve.removeEventListener("progress",Jt),null!==St&&Ve.upload&&Ve.upload.removeEventListener("progress",Li)),Ve.readyState!==Ve.DONE&&Ve.abort()}})))}static \u0275fac=function(Se){return new(Se||Y)(m.KVO(De.N))};static \u0275prov=m.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();function Ce(Y,ue){return ue(Y)}function ut(Y,ue){return(ae,Se)=>ue.intercept(ae,{handle:ke=>Y(ke,Se)})}const ai=new m.nKC(""),Mi=new m.nKC("",{factory:()=>[]}),di=new m.nKC(""),zt=new m.nKC("",{factory:()=>!0});function Hn(){let Y=null;return(ue,ae)=>{null===Y&&(Y=((0,m.WQX)(ai,{optional:!0})??[]).reduceRight(ut,Ce));const Se=(0,m.WQX)(m.u5s);if((0,m.WQX)(zt)){const Me=Se.add();return Y(ue,ae).pipe((0,A.j)(Me))}return Y(ue,ae)}}let pn=(()=>{class Y{static \u0275fac=function(Se){return new(Se||Y)};static \u0275prov=m.jDH({token:Y,factory:function(Se){let ke=null;return ke=Se?new(Se||Y):m.KVO(tt),ke},providedIn:"root"})}return Y})(),gn=(()=>{class Y{backend;injector;chain=null;pendingTasks=(0,m.WQX)(m.u5s);contributeToStability=(0,m.WQX)(zt);constructor(ae,Se){this.backend=ae,this.injector=Se}handle(ae){if(null===this.chain){const Se=Array.from(new Set([...this.injector.get(Mi),...this.injector.get(di,[])]));this.chain=Se.reduceRight((ke,Me)=>function ti(Y,ue,ae){return(Se,ke)=>(0,m.N4e)(ae,()=>ue(Se,Me=>Y(Me,ke)))}(ke,Me,this.injector),Ce)}if(this.contributeToStability){const Se=this.pendingTasks.add();return this.chain(ae,ke=>this.backend.handle(ke)).pipe((0,A.j)(Se))}return this.chain(ae,Se=>this.backend.handle(Se))}static \u0275fac=function(Se){return new(Se||Y)(m.KVO(pn),m.KVO(m.uvJ))};static \u0275prov=m.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})(),Vi=(()=>{class Y{static \u0275fac=function(Se){return new(Se||Y)};static \u0275prov=m.jDH({token:Y,factory:function(Se){let ke=null;return ke=Se?new(Se||Y):m.KVO(gn),ke},providedIn:"root"})}return Y})();function Wi(Y,ue){return{body:ue,headers:Y.headers,context:Y.context,observe:Y.observe,params:Y.params,reportProgress:Y.reportProgress,responseType:Y.responseType,withCredentials:Y.withCredentials,credentials:Y.credentials,transferCache:Y.transferCache,timeout:Y.timeout,keepalive:Y.keepalive,priority:Y.priority,cache:Y.cache,mode:Y.mode,redirect:Y.redirect,integrity:Y.integrity,referrer:Y.referrer,referrerPolicy:Y.referrerPolicy}}let mn=(()=>{class Y{handler;constructor(ae){this.handler=ae}request(ae,Se,ke={}){let Me;if(ae instanceof mi)Me=ae;else{let at,Ai;at=ke.headers instanceof it?ke.headers:new it(ke.headers),ke.params&&(Ai=ke.params instanceof Ft?ke.params:new Ft({fromObject:ke.params})),Me=new mi(ae,Se,void 0!==ke.body?ke.body:null,{headers:at,context:ke.context,params:Ai,reportProgress:ke.reportProgress,responseType:ke.responseType||"json",withCredentials:ke.withCredentials,transferCache:ke.transferCache,keepalive:ke.keepalive,priority:ke.priority,cache:ke.cache,mode:ke.mode,redirect:ke.redirect,credentials:ke.credentials,referrer:ke.referrer,referrerPolicy:ke.referrerPolicy,integrity:ke.integrity,timeout:ke.timeout})}const Ve=(0,ye.of)(Me).pipe(function te(Y,ue){return(0,c.ZZ)(Y,ue,1)}(at=>this.handler.handle(at)));if(ae instanceof mi||"events"===ke.observe)return Ve;const St=Ve.pipe((0,ne.p)(at=>at instanceof Pt));switch(ke.observe||"body"){case"body":switch(Me.responseType){case"arraybuffer":return St.pipe((0,ie.T)(at=>{if(null!==at.body&&!(at.body instanceof ArrayBuffer))throw new m.buA(2806,!1);return at.body}));case"blob":return St.pipe((0,ie.T)(at=>{if(null!==at.body&&!(at.body instanceof Blob))throw new m.buA(2807,!1);return at.body}));case"text":return St.pipe((0,ie.T)(at=>{if(null!==at.body&&"string"!=typeof at.body)throw new m.buA(2808,!1);return at.body}));default:return St.pipe((0,ie.T)(at=>at.body))}case"response":return St;default:throw new m.buA(2809,!1)}}delete(ae,Se={}){return this.request("DELETE",ae,Se)}get(ae,Se={}){return this.request("GET",ae,Se)}head(ae,Se={}){return this.request("HEAD",ae,Se)}jsonp(ae,Se){return this.request("JSONP",ae,{params:(new Ft).append(Se,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ae,Se={}){return this.request("OPTIONS",ae,Se)}patch(ae,Se,ke={}){return this.request("PATCH",ae,Wi(ke,Se))}post(ae,Se,ke={}){return this.request("POST",ae,Wi(ke,Se))}put(ae,Se,ke={}){return this.request("PUT",ae,Wi(ke,Se))}static \u0275fac=function(Se){return new(Se||Y)(m.KVO(Vi))};static \u0275prov=m.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();const hi=new m.nKC("",{factory:()=>!0}),ln=new m.nKC("",{factory:()=>"XSRF-TOKEN"}),Ti=new m.nKC("",{factory:()=>"X-XSRF-TOKEN"});let kn=(()=>{class Y{cookieName=(0,m.WQX)(ln);doc=(0,m.WQX)(m.qQL);lastCookieString="";lastToken=null;parseCount=0;getToken(){const ae=this.doc.cookie||"";return ae!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,De.b)(ae,this.cookieName),this.lastCookieString=ae),this.lastToken}static \u0275fac=function(Se){return new(Se||Y)};static \u0275prov=m.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})(),wn=(()=>{class Y{static \u0275fac=function(Se){return new(Se||Y)};static \u0275prov=m.jDH({token:Y,factory:function(Se){let ke=null;return ke=Se?new(Se||Y):m.KVO(kn),ke},providedIn:"root"})}return Y})();function Zn(Y,ue){if(!(0,m.WQX)(hi)||"GET"===Y.method||"HEAD"===Y.method)return ue(Y);try{const ke=(0,m.WQX)(We.Vw).href,{origin:Me}=new URL(ke),{origin:Ve}=new URL(Y.url,Me);if(Me!==Ve)return ue(Y)}catch{return ue(Y)}const ae=(0,m.WQX)(wn).getToken(),Se=(0,m.WQX)(Ti);return null!=ae&&!Y.headers.has(Se)&&(Y=Y.clone({headers:Y.headers.set(Se,ae)})),ue(Y)}var Ri=function(Y){return Y[Y.Interceptors=0]="Interceptors",Y[Y.LegacyInterceptors=1]="LegacyInterceptors",Y[Y.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Y[Y.NoXsrfProtection=3]="NoXsrfProtection",Y[Y.JsonpSupport=4]="JsonpSupport",Y[Y.RequestsMadeViaParent=5]="RequestsMadeViaParent",Y[Y.Fetch=6]="Fetch",Y}(Ri||{});function wr(...Y){const ue=[mn,gn,{provide:Vi,useExisting:gn},{provide:pn,useFactory:()=>(0,m.WQX)(He,{optional:!0})??(0,m.WQX)(tt)},{provide:Mi,useValue:Zn,multi:!0}];for(const ae of Y)ue.push(...ae.\u0275providers);return(0,m.EmA)(ue)}const Tr=new m.nKC("");function Nn(){return function Tn(Y,ue){return{\u0275kind:Y,\u0275providers:ue}}(Ri.LegacyInterceptors,[{provide:Tr,useFactory:Hn},{provide:Mi,useExisting:Tr,multi:!0}])}},7033(be,z,w){w.d(z,{$K:()=>xt,$j:()=>Ot,_9:()=>Ii,d4:()=>_t,ml:()=>ni});var E=w(3446),m=w(6767);const I="abomParrotSwallowed",q="SAPC1:",A={playerPack:"Turtle",opponentPack:"Turtle",playerToy:null,playerToyLevel:1,playerHardToy:null,playerHardToyLevel:1,opponentToy:null,opponentToyLevel:1,opponentHardToy:null,opponentHardToyLevel:1,turn:11,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerPets:[null,null,null,null,null],opponentPets:[null,null,null,null,null],allPets:!1,logFilter:null,customPacks:[],oldStork:!1,tokenPets:!0,komodoShuffle:!1,mana:!1,seed:null,triggersConsumed:!1,showAdvanced:!1,showTriggerNamesInLogs:!1,showPositionalArgsInLogs:!0,ailmentEquipment:!1,changeEquipmentUses:!1,logsEnabled:!0,simulations:100};function c(me){return"object"==typeof me&&null!==me}function te(me,Ee){if(Array.isArray(me)&&Array.isArray(Ee)){if(me.length!==Ee.length)return!1;for(let Xe=0;Xe<me.length;Xe++)if(!te(me[Xe],Ee[Xe]))return!1;return!0}return me===Ee}function ie(me){if(Array.isArray(me))return me.map(Ee=>ie(Ee));if(c(me)){const Ee={};for(const Xe of Object.keys(me))Ee[m.H[Xe]||Xe]=ie(me[Xe]);return Ee}return me}function ce(me){if(Array.isArray(me))return me.map(Ee=>ce(Ee));if(c(me)){const Ee={};for(const Xe of Object.keys(me))Ee[m.g[Xe]||Xe]=ce(me[Xe]);return Ee}return me}function De(me,Ee){if(!c(me))return;const lt=[...Array.isArray(me.playerPets)?me.playerPets:[],...Array.isArray(me.opponentPets)?me.opponentPets:[]];for(const ri of lt)c(ri)&&Ee(ri)}function We(me){return!me||null==me[0]&&null==me[1]&&null==me[2]&&null==me[3]}function it(me){if(!me)return!0;const Ee=Array.isArray(me[6])?me[6]:[];return null==me[0]&&null==me[1]&&null==me[2]&&null==me[3]&&null==me[4]&&null==me[5]&&Ee.every(Xe=>We(Xe))}function nt(me){let Ee=me.length;for(;Ee>0&&We(me[Ee-1]);)Ee-=1;return Ee===me.length?me:me.slice(0,Ee)}function ot(me){if(Array.isArray(me[I]))return;const Ee=[];for(let ft=1;ft<=3;ft++){const lt=`parrotCopyPetAbominationSwallowedPet${ft}`,ri=[];for(let li=1;li<=3;li++){const ui=`${lt}ParrotCopyPetAbominationSwallowedPet${li}`;ri.push([me[ui]??null,me[`${ui}BelugaSwallowedPet`]??null,me[`${ui}Level`]??null,me[`${ui}TimesHurt`]??null]),delete me[ui],delete me[`${ui}BelugaSwallowedPet`],delete me[`${ui}Level`],delete me[`${ui}TimesHurt`]}const mi=nt(ri);Ee.push([me[lt]??null,me[`${lt}BelugaSwallowedPet`]??null,me[`${lt}Level`]??null,me[`${lt}TimesHurt`]??null,me[`${lt}ParrotCopyPet`]??null,me[`${lt}ParrotCopyPetBelugaSwallowedPet`]??null,mi]),delete me[lt],delete me[`${lt}BelugaSwallowedPet`],delete me[`${lt}Level`],delete me[`${lt}TimesHurt`],delete me[`${lt}ParrotCopyPet`],delete me[`${lt}ParrotCopyPetBelugaSwallowedPet`]}const Xe=function wt(me){let Ee=me.length;for(;Ee>0&&it(me[Ee-1]);)Ee-=1;return Ee===me.length?me:me.slice(0,Ee)}(Ee);Xe.length>0&&(me[I]=Xe)}function vt(me){if(!c(me))return null;const Ee=me.name;if("string"!=typeof Ee||0===Ee.trim().length)return null;if(delete me.parent,delete me.logService,delete me.abilityService,delete me.gameService,delete me.petService,me.equipment){const Xe="string"==typeof me.equipment?me.equipment:c(me.equipment)&&"string"==typeof me.equipment.name?me.equipment.name:null;me.equipment=Xe?{name:Xe}:null}for(const Xe of Object.keys(me)){if("name"===Xe)continue;const ft=me[Xe];(null==ft||!1===ft||""===ft||"number"==typeof ft&&0===ft||Xe.endsWith("Level")&&1===ft||Array.isArray(ft)&&0===ft.length)&&delete me[Xe]}return me}function Ze(me){if(!c(me))return null;const Ee=me.name;if("string"!=typeof Ee||0===Ee.trim().length)return null;if(delete me.parent,delete me.logService,delete me.abilityService,delete me.gameService,delete me.petService,me.equipment){const Xe="string"==typeof me.equipment?me.equipment:c(me.equipment)&&"string"==typeof me.equipment.name?me.equipment.name:null;me.equipment=Xe?{name:Xe}:null}return me}function Gt(me){const Ee=me[I];if(Array.isArray(Ee)){for(let Xe=1;Xe<=3;Xe++){const ft=`parrotCopyPetAbominationSwallowedPet${Xe}`,lt=Ee[Xe-1];if(!lt)continue;const[ri,mi,li,ui,wi,Pt,rt]=lt;if(me[ft]=ri??null,me[`${ft}BelugaSwallowedPet`]=mi??null,me[`${ft}Level`]=li??null,me[`${ft}TimesHurt`]=ui??null,me[`${ft}ParrotCopyPet`]=wi??null,me[`${ft}ParrotCopyPetBelugaSwallowedPet`]=Pt??null,Array.isArray(rt))for(let tn=1;tn<=3;tn++){const Sn=`${ft}ParrotCopyPetAbominationSwallowedPet${tn}`,qi=rt[tn-1];if(!qi)continue;const[gt,He,Vt,sn]=qi;me[Sn]=gt??null,me[`${Sn}BelugaSwallowedPet`]=He??null,me[`${Sn}Level`]=Vt??null,me[`${Sn}TimesHurt`]=sn??null}}delete me[I]}}function xt(me){return c(me)&&De(me,Gt),me}function ni(me,Ee,Xe){return JSON.stringify({playerWins:me,opponentWins:Ee,draws:Xe},null)}function Ft(me){const Ee=(0,E.A)(me),Xe=Array.isArray(Ee.playerPets)?Ee.playerPets:[],ft=Array.isArray(Ee.opponentPets)?Ee.opponentPets:[];Ee.playerPets=Xe.map(li=>vt(li)),Ee.opponentPets=ft.map(li=>vt(li)),function ne(me){for(const Ee of Object.keys(A))Ee in me&&te(me[Ee],A[Ee])&&delete me[Ee]}(Ee);const lt=function ei(me){const Ee=(0,E.A)(me);return De(Ee,ot),Ee}(Ee),ri=ie(lt),mi=JSON.stringify(ri);return`${q}${function he(me){const Ee=(new TextEncoder).encode(me);let Xe="";for(let lt=0;lt<Ee.length;lt+=32768)Xe+=String.fromCharCode(...Ee.subarray(lt,lt+32768));return btoa(Xe).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")}(mi)}`}function Ot(me,Ee="compressed"){return"legacyJson"===Ee?function si(me){const Ee=(0,E.A)(me),Xe=Array.isArray(Ee.playerPets)?Ee.playerPets:[],ft=Array.isArray(Ee.opponentPets)?Ee.opponentPets:[];return Ee.playerPets=Xe.map(lt=>Ze(lt)),Ee.opponentPets=ft.map(lt=>Ze(lt)),JSON.stringify(Ee,null,2)}(me.value):Ft(me.value)}function _t(me){const Ee=me.trim();if(!Ee)throw new Error("Import payload is empty.");if(Ee.startsWith(q)){const ft=Ee.slice(6),lt=JSON.parse(function ye(me){const Ee=me.replace(/-/g,"+").replace(/_/g,"/"),ft=`${Ee}${"=".repeat((4-Ee.length%4)%4)}`,lt=atob(ft),ri=Uint8Array.from(lt,mi=>mi.charCodeAt(0));return(new TextDecoder).decode(ri)}(ft));return ce(lt)}const Xe=JSON.parse(Ee);return"object"==typeof Xe&&null!==Xe||Array.isArray(Xe)?ce(Xe):Xe}function Ii(me,Ee){return`${Ee}#c=${Ft(me.value).slice(6)}`}},7061(be,z,w){w.d(z,{A:()=>te});var E=w(253),m=w(2661),I=Object.prototype,q=I.hasOwnProperty,A=I.propertyIsEnumerable,c=(0,E.A)(function(){return arguments}())?E.A:function(ne){return(0,m.A)(ne)&&q.call(ne,"callee")&&!A.call(ne,"callee")};const te=c},7104(be,z,w){w.d(z,{A:()=>q});var m=Object.prototype.hasOwnProperty;const q=function I(A){var c=A.length,te=new A.constructor(c);return c&&"string"==typeof A[0]&&m.call(A,"index")&&(te.index=A.index,te.input=A.input),te}},7107(be,z,w){w.d(z,{A:()=>I});const I=(0,w(5525).A)(Object,"create")},7133(be,z,w){w.d(z,{A:()=>m});const m="object"==typeof global&&global&&global.Object===Object&&global},7283(be){be.exports=JSON.parse('[{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to two first enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"294","Name":"Action Figure","NameId":"RelicActionFigure","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Break: Give the front-most friend +1 attack and +1 health."},{"Level":2,"About":"Break: Give the two front-most friends +1 attack and +1 health."},{"Level":3,"About":"Break: Give the three front-most friends +1 attack and +1 health."}],"Type":1,"ToyType":0,"Id":"479","Name":"Balloon","NameId":"RelicBalloon","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Deal 50 damage to the front-most friend."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"299","Name":"Boot","NameId":"RelicBoot","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you rolled less than 6 times this turn, deal the turn number as damage to friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"300","Name":"Bowling Ball","NameId":"RelicBowlingBall","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Lose 3 gold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"310","Name":"Broken Piggy Bank","NameId":"RelicOpenPiggyBank","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Sell the two front-most friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"302","Name":"Cardboard Box","NameId":"RelicCardboardBox","Tier":1,"TierMax":4,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give +1 experience to friends and +2 experience to enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"794","Name":"Chocolate Box","NameId":"RelicChocolateBox","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Summoned: Replace this with another random toy."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"482","Name":"Crumpled Paper","NameId":"RelicCrumpledPaper","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +2 mana."},{"Level":2,"About":"Start of battle: Give the front-most friend +4 mana."},{"Level":3,"About":"Start of battle: Give the front-most friend +6 mana."}],"Type":1,"ToyType":0,"Id":"580","Name":"Crystal Ball","NameId":"RelicCrystalBall","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Friend bought: Transform it into ANY random pet from the same tier with new base stats."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"303","Name":"Deck of Cards","NameId":"RelicCardDeck","Tier":1,"TierMax":4,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Roll: Lose 1 gold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"304","Name":"Dice","NameId":"RelicDice","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Shuffle positions of all friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"286","Name":"Dice Cup","NameId":"RelicDiceCup","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you did not buy any tier 1 food this turn, make friends Dazed until next turn."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"485","Name":"Flute","NameId":"RelicFlute","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two front-most friends Weak."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"306","Name":"Handkerchief","NameId":"RelicHandkerchief","Tier":1,"TierMax":3,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Empty front space: Remove 20% attack from the back-most friend and move it to the front."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"307","Name":"Kite","NameId":"RelicKite","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Remove 20% attack and 20% health from friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"506","Name":"Lamp","NameId":"RelicLamp","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Feed Apples to random pets for each turn number. Double their power on enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"308","Name":"Lunchbox","NameId":"RelicLunchbox","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the back-most tier 2 or lower friend +1 experience."},{"Level":2,"About":"Start of battle: Give the back-most tier 2 or lower friend +2 experience."},{"Level":3,"About":"Start of battle: Give the back-most tier 2 or lower friend +3 experience."}],"Type":1,"ToyType":0,"Id":"581","Name":"Magic Wand","NameId":"RelicMagicWand","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make two random friends Cold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"590","Name":"Onesie","NameId":"RelicOnesie","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Knock it out."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"312","Name":"Paper Shredder","NameId":"RelicPaperShredder","Tier":1,"TierMax":5,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two front-most friends Inked."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"313","Name":"Pen","NameId":"RelicPen","Tier":1,"TierMax":3,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out the two front-most friends and the front-most enemy."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"284","Name":"Pill Bottle","NameId":"RelicPillBottle","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Push the last enemy up front and give it +100% attack and +100% health."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"314","Name":"Pogo Stick","NameId":"RelicPogoStick","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give enemies +20% attack and +20% health."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"315","Name":"Remote Car","NameId":"RelicRemoteCar","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you spent less than 13 gold this turn, remove 20% health from friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"582","Name":"Ring","NameId":"RelicTheOneRing","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out friends from the previous tier."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"316","Name":"Ring Pyramid","NameId":"RelicRingPyramid","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Deal 1 damage to the three front-most friends. Multiply damage with their tiers."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"285","Name":"Rock Bag","NameId":"RelicRockBag","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"All enemies fainted: Summon one 50/1 enemy Duck. Works 1 time per battle."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"318","Name":"Rubber Duck","NameId":"RelicRubberDuck","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Set attack and health of all friends to the turn number."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"795","Name":"Scale","NameId":"RelicScale","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out friends from the current tier."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"486","Name":"Soccer Ball","NameId":"RelicFootball","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give Walnut perk to the friend on the middle space."},{"Level":2,"About":"Start of battle: Give Walnut perk with double effect to the friend on the middle space."},{"Level":3,"About":"Start of battle: Give Walnut perk with triple effect to the friend on the middle space."}],"Type":1,"ToyType":0,"Id":"496","Name":"Stick","NameId":"RelicWoodenStick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two back-most friends Icky."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"792","Name":"Sticky Hand","NameId":"RelicStickyHand","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take double damage, twice.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Three friends faint: Summon one exact enemy copy of the back-most friend."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"324","Name":"Stuffed Bear","NameId":"RelicTeddyBear","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Remove the lowest tier perks from two friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"793","Name":"Vacuum Cleaner","NameId":"RelicHandheldVacuumCleaner","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make one random perk-less enemy Weak."},{"Level":2,"About":"Start of battle: Make two random perk-less enemies Weak."},{"Level":3,"About":"Start of battle: Make three random perk-less enemies Weak."}],"Type":1,"ToyType":0,"Id":"600","Name":"Witch Broom","NameId":"RelicWitchBroom","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend Garlic perk."},{"Level":2,"About":"Start of battle: Give the two front-most friends Garlic perk."},{"Level":3,"About":"Start of battle: Give the three front-most friends Garlic perk."}],"Type":1,"ToyType":0,"Id":"509","Name":"Garlic Press","NameId":"RelicGarlicPress","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack."},{"Level":2,"About":"Friend summoned: Give it +2 attack."},{"Level":3,"About":"Friend summoned: Give it +3 attack."}],"Type":1,"ToyType":0,"Id":"598","Name":"Magic Carpet","NameId":"RelicMagicCarpet","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Friendly level-up: Give it +1 attack and +1 health."},{"Level":2,"About":"Friendly level-up: Give it +2 attack and +2 health."},{"Level":3,"About":"Friendly level-up: Give it +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"575","Name":"Magic Lamp","NameId":"RelicMagicLamp","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give Popcorn perk to the front-most perkless friend."},{"Level":2,"About":"Start of battle: Give Popcorn perk to the two front-most perkless friends."},{"Level":3,"About":"Start of battle: Give Popcorn perk to the three front-most perkless friends."}],"Type":1,"ToyType":0,"Id":"699","Name":"Microwave Oven","NameId":"RelicMicrowaver","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Faint: Summon one random pet from the same tier.","CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give Eucalyptus perk to the front-most friend."},{"Level":2,"About":"Start of battle: Give Eucalyptus perk to the two front-most friends."},{"Level":3,"About":"Start of battle: Give Eucalyptus perk to the three front-most friends."}],"Type":1,"ToyType":0,"Id":"789","Name":"Plastic Saw","NameId":"RelicToySaw","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Break: Give friends +1 health."},{"Level":2,"About":"Break: Give friends +2 health."},{"Level":3,"About":"Break: Give friends +3 health."}],"Type":1,"ToyType":0,"Id":"488","Name":"Radio","NameId":"RelicRadio","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Deal 3 damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 3 damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 3 damage to three random enemies."}],"Type":1,"ToyType":0,"Id":"478","Name":"Tennis Ball","NameId":"RelicTennisBall","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three friends bought: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three friends bought: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three friends bought: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"574","Name":"Candelabra","NameId":"RelicCandelabra","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 5 damage to the lowest health enemy."},{"Level":2,"About":"Start of battle: Deal 5 damage to the lowest health enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 5 damage to the lowest health enemy. Triggers 3 times."}],"Type":1,"ToyType":0,"Id":"507","Name":"Foam Sword","NameId":"RelicFoamSword","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three friends faint: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three friends faint: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three friends faint: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"586","Name":"Glass Shoes","NameId":"RelicGlassShoes","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Spend 14 gold: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Spend 14 gold: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Spend 14 gold: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"589","Name":"Golden Harp","NameId":"RelicGoldenHarp","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three food bought: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three food bought: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three food bought: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"595","Name":"Lock of Hair","NameId":"RelicLockofHair","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Two friends transformed: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Two friends transformed: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Two friends transformed: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"578","Name":"Magic Mirror","NameId":"RelicMagicMirror","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Give the front-most friend Melon perk."},{"Level":2,"About":"Break: Give the two front-most friends Melon perk."},{"Level":3,"About":"Break: Give the three front-most friends Melon perk."}],"Type":1,"ToyType":0,"Id":"510","Name":"Melon Helmet","NameId":"RelicMelonHelmet","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Roll 7 times: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Roll 7 times: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Roll 7 times: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"599","Name":"Pickaxe","NameId":"RelicPickaxe","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Friend jumped: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Friend jumped: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Friend jumped: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"576","Name":"Red Cape","NameId":"RelicRedCape","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Two friendly level-up: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Two friendly level-up: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Two friendly level-up: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"579","Name":"Rosebud","NameId":"RelicRosebud","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Transform front-most friend into another random pet from 2 tiers below."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"319","Name":"Scissors","NameId":"RelicScissors","Tier":3,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 5 damage to the last enemy."},{"Level":2,"About":"Start of battle: Deal 5 damage to the last enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 5 damage to the last enemy. Triggers 3 times."}],"Type":1,"ToyType":0,"Id":"493","Name":"Toy Gun","NameId":"RelicToyGun","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Transform all friends to level 1."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"327","Name":"Toy Mouse","NameId":"RelicToyMouse","Tier":3,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Stock one free pet from tier 2 as a 4/4 level 3."},{"Level":2,"About":"Break: Stock one free pet from tier 4 as a 8/8 level 3."},{"Level":3,"About":"Break: Stock one free pet from tier 6 as a 12/12 level 3."}],"Type":1,"ToyType":0,"Id":"591","Name":"Treasure Chest","NameId":"RelicTreasureChest","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Summon a level 1 Treasure Chest."},{"Level":2,"About":"Break: Summon a level 2 Treasure Chest."},{"Level":3,"About":"Break: Summon a level 3 Treasure Chest."}],"Type":1,"ToyType":0,"Id":"594","Name":"Treasure Map","NameId":"RelicTreasureMap","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"End turn: Gain one free roll next turn."},{"Level":2,"About":"End turn: Gain two free rolls next turn."},{"Level":3,"About":"End turn: Gain three free rolls next turn."}],"Type":1,"ToyType":0,"Id":"597","Name":"Winged Sandals","NameId":"RelicWingedSandals","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Break: Summon one 6/6 friend that sells for 3 gold."},{"Level":2,"About":"Break: Summon one 12/12 friend that sells for 6 gold."},{"Level":3,"About":"Break: Summon one 18/18 friend that sells for 9 gold."}],"Type":1,"ToyType":0,"Id":"492","Name":"Cash Register","NameId":"RelicToyCashRegister","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"All friends fainted: Summon one 6/6 Salmon of Knowledge in battle once."},{"Level":2,"About":"All friends fainted: Summon one 12/12 Salmon of Knowledge in battle once."},{"Level":3,"About":"All friends fainted: Summon one 18/18 Salmon of Knowledge in battle once."}],"Type":1,"ToyType":0,"Id":"584","Name":"Nutcracker","NameId":"RelicNutcracker","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Give the middle friendly pet +6 mana."},{"Level":2,"About":"Start of battle: Give the middle friendly pet +12 mana."},{"Level":3,"About":"Start of battle: Give the middle friendly pet +18 mana."}],"Type":1,"ToyType":0,"Id":"587","Name":"Ocarina","NameId":"RelicOcarina","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Break: Stock one free Chicken Leg."},{"Level":2,"About":"Break: Stock two free Chicken Legs."},{"Level":3,"About":"Break: Stock three free Chicken Legs."}],"Type":1,"ToyType":0,"Id":"311","Name":"Oven Mitts","NameId":"RelicOvenMitts","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Give one random Tand & Tand +6 attack and +6 health."},{"Level":2,"About":"Start of battle: Give one random Tand & Tand +12 attack and +12 health."},{"Level":3,"About":"Start of battle: Give one random Tand & Tand +18 attack and +18 health."}],"Type":1,"ToyType":0,"Id":"585","Name":"Thunder Hammer","NameId":"RelicThunderHammer","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 6/6 Giant Eyes Dog up front in battle once."},{"Level":2,"About":"Empty front space: Summon one 12/12 Giant Eyes Dog up front in battle once."},{"Level":3,"About":"Empty front space: Summon one 18/18 Giant Eyes Dog up front in battle once."}],"Type":1,"ToyType":0,"Id":"588","Name":"Tinder Box","NameId":"RelicTinderBox","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Make the first enemy Weak."},{"Level":2,"About":"Start of battle: Make the first two enemies Weak."},{"Level":3,"About":"Start of battle: Make the first three enemies Weak."}],"Type":1,"ToyType":0,"Id":"326","Name":"Toilet Paper","NameId":"RelicToiletPaper","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Remove 30% attack from the highest attack enemy."},{"Level":2,"About":"Start of battle: Remove 30% attack from the two highest attack enemies."},{"Level":3,"About":"Start of battle: Remove 30% attack from the three highest attack enemies."}],"Type":1,"ToyType":0,"Id":"503","Name":"Camera","NameId":"RelicCamera","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 6/6 Great One in battle that deals 5 damage to ALL other pets."},{"Level":2,"About":"Empty front space: Summon one 12/12 Great One in battle that deals 10 damage to ALL other pets."},{"Level":3,"About":"Empty front space: Summon one 18/18 Great One in battle that deals 15 damage to ALL other pets."}],"Type":1,"ToyType":0,"Id":"645","Name":"Evil Book","NameId":"RelicEvilBook","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Break: Give front-most friend +5 attack and +5 health."},{"Level":2,"About":"Break: Give front-most friend +10 attack and +10 health."},{"Level":3,"About":"Break: Give front-most friend +15 attack and +15 health."}],"Type":1,"ToyType":0,"Id":"484","Name":"Flashlight","NameId":"RelicFlashlight","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Give ALL pets random perks and ailments."},{"Level":2,"About":"Start of battle: Give ALL pets random perks and ailments with double effects."},{"Level":3,"About":"Start of battle: Give ALL pets random perks and ailments with triple effects."}],"Type":1,"ToyType":0,"Id":"593","Name":"Pandoras Box","NameId":"RelicPandorasBox","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Remove 40% health from the highest health enemy."},{"Level":2,"About":"Start of battle: Remove 40% health from the two highest health enemies."},{"Level":3,"About":"Start of battle: Remove 40% health from the three highest health enemies."}],"Type":1,"ToyType":0,"Id":"513","Name":"Stinky Sock","NameId":"RelicStinkySock","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to the highest attack friend."},{"Level":2,"About":"Start of battle: Give Coconut perk to the two highest attack friends."},{"Level":3,"About":"Start of battle: Give Coconut perk to the three highest attack friends."}],"Type":1,"ToyType":0,"Id":"511","Name":"Air Palm Tree","NameId":"RelicPalmTree","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"End turn: Give the back-most friend +1 attack and +1 health."},{"Level":2,"About":"End turn: Give the back-most friend +2 attack and +2 health."},{"Level":3,"About":"End turn: Give the back-most friend +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"583","Name":"Excalibur","NameId":"RelicExcalibur","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Break: Stock one free Holy Water."},{"Level":2,"About":"Break: Stock two free Holy Waters."},{"Level":3,"About":"Break: Stock three free Holy Waters."}],"Type":1,"ToyType":0,"Id":"592","Name":"Holy Grail","NameId":"RelicHolyGrail","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Start of battle: Give Peanut Butter perk to the lowest attack friend."},{"Level":2,"About":"Start of battle: Give Peanut Butter perk to the two lowest attack friends."},{"Level":3,"About":"Start of battle: Give Peanut Butter perk to the three lowest attack friends."}],"Type":1,"ToyType":0,"Id":"512","Name":"Peanut Jar","NameId":"RelicPeanutJar","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Break: Give friends +2 attack and +2 health."},{"Level":2,"About":"Break: Give friends +4 attack and +4 health."},{"Level":3,"About":"Break: Give friends +6 attack and +6 health."}],"Type":1,"ToyType":0,"Id":"491","Name":"Television","NameId":"RelicTelevision","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]}]')},7302(be,z,w){w.d(z,{A:()=>ne});var E=w(3180),m=w(4173),I=w(7437),q=w(340),A=w(8960),c=w(3632);function te(ie){var ce=this.__data__=new E.A(ie);this.size=ce.size}te.prototype.clear=m.A,te.prototype.delete=I.A,te.prototype.get=q.A,te.prototype.has=A.A,te.prototype.set=c.A;const ne=te},7312(be,z,w){w.d(z,{j:()=>I});var E=w(762),m=w(1805);function I(c){return te=>te.lift(new q(c))}class q{constructor(te){this.callback=te}call(te,ne){return ne.subscribe(new A(te,this.callback))}}class A extends E.v{constructor(te,ne){super(te),this.add(new m.y(ne))}}},7354(be,z,w){w.d(z,{c:()=>E});const E=Array.isArray||(m=>m&&"number"==typeof m.length)},7372(be,z,w){w.d(z,{A:()=>A});var E=w(6658),m=w(8114),I=w(4238);const A=function q(c){return(0,E.A)(c,I.A,m.A)}},7389(be,z,w){w.d(z,{c:()=>c});var E=w(7677),m=w(9112),I=w(5722),q=w(8167),A=w(614);let c=(()=>{class ne{constructor(ce){this._isScalar=!1,ce&&(this._subscribe=ce)}lift(ce){const he=new ne;return he.source=this,he.operator=ce,he}subscribe(ce,he,ye){const{operator:De}=this,We=(0,m.u)(ce,he,ye);if(We.add(De?De.call(We,this.source):this.source||A.$.useDeprecatedSynchronousErrorHandling&&!We.syncErrorThrowable?this._subscribe(We):this._trySubscribe(We)),A.$.useDeprecatedSynchronousErrorHandling&&We.syncErrorThrowable&&(We.syncErrorThrowable=!1,We.syncErrorThrown))throw We.syncErrorValue;return We}_trySubscribe(ce){try{return this._subscribe(ce)}catch(he){A.$.useDeprecatedSynchronousErrorHandling&&(ce.syncErrorThrown=!0,ce.syncErrorValue=he),(0,E.H)(ce)?ce.error(he):console.warn(he)}}forEach(ce,he){return new(he=te(he))((ye,De)=>{let We;We=this.subscribe(it=>{try{ce(it)}catch(nt){De(nt),We&&We.unsubscribe()}},De,ye)})}_subscribe(ce){const{source:he}=this;return he&&he.subscribe(ce)}[I.s](){return this}pipe(...ce){return 0===ce.length?this:(0,q.m)(ce)(this)}toPromise(ce){return new(ce=te(ce))((he,ye)=>{let De;this.subscribe(We=>De=We,We=>ye(We),()=>he(De))})}}return ne.create=ie=>new ne(ie),ne})();function te(ne){if(ne||(ne=A.$.Promise||Promise),!ne)throw new Error("no Promise impl found");return ne}},7437(be,z,w){w.d(z,{A:()=>m});const m=function E(I){var q=this.__data__,A=q.delete(I);return this.size=q.size,A}},7677(be,z,w){w.d(z,{H:()=>m});var E=w(762);function m(I){for(;I;){const{closed:q,destination:A,isStopped:c}=I;if(q||c)return!1;I=A&&A instanceof E.v?A:null}return!0}},7705(be,z,w){w.d(z,{L39:()=>ki,MKu:()=>Ni,TL3:()=>cn,Udg:()=>Qt,_q3:()=>_i,a0P:()=>xr,gRc:()=>ae});var E=w(7868),I=(w(5824),w(5547));w(1805);const fe=new E.nKC(""),qe=new E.nKC("");function tt(G){return!G.moduleRef}let zt=null;let ae=(()=>class G{static __NG_ELEMENT_ID__=Se})();function Se(G){return function ke(G,N,$){if((0,E.Qs1)(G)&&!$){const J=(0,E.KdJ)(G.index,N);return new I.NCX(J,J)}return 175&G.type?new I.NCX(N[E.b5C],N):null}((0,E.Mx4)(),(0,E.OAn)(),!(16&~G))}class St{constructor(){}supports(N){return(0,I.ozJ)(N)}create(N){return new Ai(N)}}const at=(G,N)=>N;class Ai{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(N){this._trackByFn=N||at}forEachItem(N){let $;for($=this._itHead;null!==$;$=$._next)N($)}forEachOperation(N){let $=this._itHead,J=this._removalsHead,ge=0,Pe=null;for(;$||J;){const Re=!J||$&&$.currentIndex<yn(J,ge,Pe)?$:J,je=yn(Re,ge,Pe),ct=Re.currentIndex;if(Re===J)ge--,J=J._nextRemoved;else if($=$._next,null==Re.previousIndex)ge++;else{Pe||(Pe=[]);const pt=je-ge,Tt=ct-ge;if(pt!=Tt){for(let ii=0;ii<pt;ii++){const Fi=ii<Pe.length?Pe[ii]:Pe[ii]=0,un=Fi+ii;Tt<=un&&un<pt&&(Pe[ii]=Fi+1)}Pe[Re.previousIndex]=Tt-pt}}je!==ct&&N(Re,je,ct)}}forEachPreviousItem(N){let $;for($=this._previousItHead;null!==$;$=$._nextPrevious)N($)}forEachAddedItem(N){let $;for($=this._additionsHead;null!==$;$=$._nextAdded)N($)}forEachMovedItem(N){let $;for($=this._movesHead;null!==$;$=$._nextMoved)N($)}forEachRemovedItem(N){let $;for($=this._removalsHead;null!==$;$=$._nextRemoved)N($)}forEachIdentityChange(N){let $;for($=this._identityChangesHead;null!==$;$=$._nextIdentityChange)N($)}diff(N){if(null==N&&(N=[]),!(0,I.ozJ)(N))throw new E.buA(900,!1);return this.check(N)?this:null}onDestroy(){}check(N){this._reset();let ge,Pe,Re,$=this._itHead,J=!1;if(Array.isArray(N)){this.length=N.length;for(let je=0;je<this.length;je++)Pe=N[je],Re=this._trackByFn(je,Pe),null!==$&&Object.is($.trackById,Re)?(J&&($=this._verifyReinsertion($,Pe,Re,je)),Object.is($.item,Pe)||this._addIdentityChange($,Pe)):($=this._mismatch($,Pe,Re,je),J=!0),$=$._next}else ge=0,(0,I.utN)(N,je=>{Re=this._trackByFn(ge,je),null!==$&&Object.is($.trackById,Re)?(J&&($=this._verifyReinsertion($,je,Re,ge)),Object.is($.item,je)||this._addIdentityChange($,je)):($=this._mismatch($,je,Re,ge),J=!0),$=$._next,ge++}),this.length=ge;return this._truncate($),this.collection=N,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let N;for(N=this._previousItHead=this._itHead;null!==N;N=N._next)N._nextPrevious=N._next;for(N=this._additionsHead;null!==N;N=N._nextAdded)N.previousIndex=N.currentIndex;for(this._additionsHead=this._additionsTail=null,N=this._movesHead;null!==N;N=N._nextMoved)N.previousIndex=N.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(N,$,J,ge){let Pe;return null===N?Pe=this._itTail:(Pe=N._prev,this._remove(N)),null!==(N=null===this._unlinkedRecords?null:this._unlinkedRecords.get(J,null))?(Object.is(N.item,$)||this._addIdentityChange(N,$),this._reinsertAfter(N,Pe,ge)):null!==(N=null===this._linkedRecords?null:this._linkedRecords.get(J,ge))?(Object.is(N.item,$)||this._addIdentityChange(N,$),this._moveAfter(N,Pe,ge)):N=this._addAfter(new $i($,J),Pe,ge),N}_verifyReinsertion(N,$,J,ge){let Pe=null===this._unlinkedRecords?null:this._unlinkedRecords.get(J,null);return null!==Pe?N=this._reinsertAfter(Pe,N._prev,ge):N.currentIndex!=ge&&(N.currentIndex=ge,this._addToMoves(N,ge)),N}_truncate(N){for(;null!==N;){const $=N._next;this._addToRemovals(this._unlink(N)),N=$}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(N,$,J){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(N);const ge=N._prevRemoved,Pe=N._nextRemoved;return null===ge?this._removalsHead=Pe:ge._nextRemoved=Pe,null===Pe?this._removalsTail=ge:Pe._prevRemoved=ge,this._insertAfter(N,$,J),this._addToMoves(N,J),N}_moveAfter(N,$,J){return this._unlink(N),this._insertAfter(N,$,J),this._addToMoves(N,J),N}_addAfter(N,$,J){return this._insertAfter(N,$,J),this._additionsTail=null===this._additionsTail?this._additionsHead=N:this._additionsTail._nextAdded=N,N}_insertAfter(N,$,J){const ge=null===$?this._itHead:$._next;return N._next=ge,N._prev=$,null===ge?this._itTail=N:ge._prev=N,null===$?this._itHead=N:$._next=N,null===this._linkedRecords&&(this._linkedRecords=new oi),this._linkedRecords.put(N),N.currentIndex=J,N}_remove(N){return this._addToRemovals(this._unlink(N))}_unlink(N){null!==this._linkedRecords&&this._linkedRecords.remove(N);const $=N._prev,J=N._next;return null===$?this._itHead=J:$._next=J,null===J?this._itTail=$:J._prev=$,N}_addToMoves(N,$){return N.previousIndex===$||(this._movesTail=null===this._movesTail?this._movesHead=N:this._movesTail._nextMoved=N),N}_addToRemovals(N){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oi),this._unlinkedRecords.put(N),N.currentIndex=null,N._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=N,N._prevRemoved=null):(N._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=N),N}_addIdentityChange(N,$){return N.item=$,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=N:this._identityChangesTail._nextIdentityChange=N,N}}class $i{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(N,$){this.item=N,this.trackById=$}}class ci{_head=null;_tail=null;add(N){null===this._head?(this._head=this._tail=N,N._nextDup=null,N._prevDup=null):(this._tail._nextDup=N,N._prevDup=this._tail,N._nextDup=null,this._tail=N)}get(N,$){let J;for(J=this._head;null!==J;J=J._nextDup)if((null===$||$<=J.currentIndex)&&Object.is(J.trackById,N))return J;return null}remove(N){const $=N._prevDup,J=N._nextDup;return null===$?this._head=J:$._nextDup=J,null===J?this._tail=$:J._prevDup=$,null===this._head}}class oi{map=new Map;put(N){const $=N.trackById;let J=this.map.get($);J||(J=new ci,this.map.set($,J)),J.add(N)}get(N,$){const ge=this.map.get(N);return ge?ge.get(N,$):null}remove(N){const $=N.trackById;return this.map.get($).remove(N)&&this.map.delete($),N}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yn(G,N,$){const J=G.previousIndex;if(null===J)return J;let ge=0;return $&&J<$.length&&(ge=$[J]),J+N+ge}class Jt{constructor(){}supports(N){return N instanceof Map||(0,I.vDg)(N)}create(){return new Li}}class Li{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(N){let $;for($=this._mapHead;null!==$;$=$._next)N($)}forEachPreviousItem(N){let $;for($=this._previousMapHead;null!==$;$=$._nextPrevious)N($)}forEachChangedItem(N){let $;for($=this._changesHead;null!==$;$=$._nextChanged)N($)}forEachAddedItem(N){let $;for($=this._additionsHead;null!==$;$=$._nextAdded)N($)}forEachRemovedItem(N){let $;for($=this._removalsHead;null!==$;$=$._nextRemoved)N($)}diff(N){if(N){if(!(N instanceof Map||(0,I.vDg)(N)))throw new E.buA(900,!1)}else N=new Map;return this.check(N)?this:null}onDestroy(){}check(N){this._reset();let $=this._mapHead;if(this._appendAfter=null,this._forEach(N,(J,ge)=>{if($&&$.key===ge)this._maybeAddToChanges($,J),this._appendAfter=$,$=$._next;else{const Pe=this._getOrCreateRecordForKey(ge,J);$=this._insertBeforeOrAppend($,Pe)}}),$){$._prev&&($._prev._next=null),this._removalsHead=$;for(let J=$;null!==J;J=J._nextRemoved)J===this._mapHead&&(this._mapHead=null),this._records.delete(J.key),J._nextRemoved=J._next,J.previousValue=J.currentValue,J.currentValue=null,J._prev=null,J._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(N,$){if(N){const J=N._prev;return $._next=N,$._prev=J,N._prev=$,J&&(J._next=$),N===this._mapHead&&(this._mapHead=$),this._appendAfter=N,N}return this._appendAfter?(this._appendAfter._next=$,$._prev=this._appendAfter):this._mapHead=$,this._appendAfter=$,null}_getOrCreateRecordForKey(N,$){if(this._records.has(N)){const ge=this._records.get(N);this._maybeAddToChanges(ge,$);const Pe=ge._prev,Re=ge._next;return Pe&&(Pe._next=Re),Re&&(Re._prev=Pe),ge._next=null,ge._prev=null,ge}const J=new kt(N);return this._records.set(N,J),J.currentValue=$,this._addToAdditions(J),J}_reset(){if(this.isDirty){let N;for(this._previousMapHead=this._mapHead,N=this._previousMapHead;null!==N;N=N._next)N._nextPrevious=N._next;for(N=this._changesHead;null!==N;N=N._nextChanged)N.previousValue=N.currentValue;for(N=this._additionsHead;null!=N;N=N._nextAdded)N.previousValue=N.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(N,$){Object.is($,N.currentValue)||(N.previousValue=N.currentValue,N.currentValue=$,this._addToChanges(N))}_addToAdditions(N){null===this._additionsHead?this._additionsHead=this._additionsTail=N:(this._additionsTail._nextAdded=N,this._additionsTail=N)}_addToChanges(N){null===this._changesHead?this._changesHead=this._changesTail=N:(this._changesTail._nextChanged=N,this._changesTail=N)}_forEach(N,$){N instanceof Map?N.forEach($):Object.keys(N).forEach(J=>$(N[J],J))}}class kt{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(N){this.key=N}}function Dt(){return new _i([new St])}let _i=(()=>{class G{factories;static \u0275prov=(0,E.jDH)({token:G,providedIn:"root",factory:Dt});constructor($){this.factories=$}static create($,J){if(null!=J){const ge=J.factories.slice();$=$.concat(ge)}return new G($)}static extend($){return{provide:G,useFactory:()=>{const J=(0,E.WQX)(G,{optional:!0,skipSelf:!0});return G.create($,J||Dt())}}}find($){const J=this.factories.find(ge=>ge.supports($));if(null!=J)return J;throw new E.buA(901,!1)}}return G})();function Rt(){return new Ni([new Jt])}let Ni=(()=>{class G{static \u0275prov=(0,E.jDH)({token:G,providedIn:"root",factory:Rt});factories;constructor($){this.factories=$}static create($,J){if(J){const ge=J.factories.slice();$=$.concat(ge)}return new G($)}static extend($){return{provide:G,useFactory:()=>{const J=(0,E.WQX)(G,{optional:!0,skipSelf:!0});return G.create($,J||Rt())}}}find($){const J=this.factories.find(ge=>ge.supports($));if(J)return J;throw new E.buA(901,!1)}}return G})();function cn(G){const{rootComponent:N,appProviders:$,platformProviders:J,platformRef:ge}=G;(0,I.Ef8)(I.mS5.BootstrapApplicationStart);try{const Pe=ge?.injector??function mn(G=[]){if(zt)return zt;(0,I.pl0)();const N=function Pn(G=[],N){return E.zZn.create({name:N,providers:[{provide:E.GBX,useValue:"platform"},{provide:fe,useValue:new Set([()=>zt=null])},...G]})}(G);return zt=N,(0,I.ypd)(),function Oi(G){const N=G.get(I.PLl,null);(0,E.N4e)(G,()=>{N?.forEach($=>$())})}(N),N}(J),Re=[(0,I.rpG)(),E.gv8,...$||[]];return function Ce(G){const N=tt(G)?G.r3Injector:G.moduleRef.injector,$=N.get(E.SKi);return $.run(()=>{tt(G)?G.r3Injector.resolveInjectorInitializers():G.moduleRef.resolveInjectorInitializers();const J=N.get(E.ZTf);let ge;if($.runOutsideAngular(()=>{ge=$.onError.subscribe({next:J})}),tt(G)){const Pe=()=>N.destroy(),Re=G.platformInjector.get(fe);Re.add(Pe),N.onDestroy(()=>{ge.unsubscribe(),Re.delete(Pe)})}else{const Pe=()=>G.moduleRef.destroy(),Re=G.platformInjector.get(fe);Re.add(Pe),G.moduleRef.onDestroy(()=>{(0,I.TFI)(G.allPlatformModules,G.moduleRef),ge.unsubscribe(),Re.delete(Pe)})}return function Mi(G,N,$){try{const J=$();return(0,I.yLl)(J)?J.catch(ge=>{throw N.runOutsideAngular(()=>G(ge)),ge}):J}catch(J){throw N.runOutsideAngular(()=>G(J)),J}}(J,$,()=>{const Pe=N.get(E.rev),Re=Pe.add(),je=N.get(I.H1s);return je.runInitializers(),je.donePromise.then(()=>{const ct=N.get(I.xe9,I.DkB);if((0,I.e6s)(ct||I.DkB),!N.get(qe,!0))return tt(G)?N.get(I.o8S):(G.allPlatformModules.push(G.moduleRef),G.moduleRef);if(tt(G)){const Tt=N.get(I.o8S);return void 0!==G.rootComponent&&Tt.bootstrap(G.rootComponent),Tt}return G.moduleRef}).finally(()=>{Pe.remove(Re)})})})}({r3Injector:new I.bH1({providers:Re,parent:Pe,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:Pe,rootComponent:N})}catch(Pe){return Promise.reject(Pe)}finally{(0,I.Ef8)(I.mS5.BootstrapApplicationEnd)}}function ki(G){return"boolean"==typeof G?G:null!=G&&"false"!==G}function Qt(G,N=NaN){return isNaN(parseFloat(G))||isNaN(Number(G))?N:Number(G)}function xr(G,N){const $=(0,E.xUg)(G),J=N.elementInjector||(0,E.WB9)();return new I.eHC($).create(J,N.projectableNodes,N.hostElement,N.environmentInjector,N.directives,N.bindings)}},7765(be,z,w){w.d(z,{lJ:()=>m});const m=function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},7850(be,z,w){w.d(z,{A:()=>si});var E=w(5152),m=w(618),I=w(8438),q=w(5267),A=w(4314);const si=function Ft(Ot,_t,Ii){var me=Ot.constructor;switch(_t){case"[object ArrayBuffer]":return(0,E.A)(Ot);case"[object Boolean]":case"[object Date]":return new me(+Ot);case"[object DataView]":return(0,m.A)(Ot,Ii);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,A.A)(Ot,Ii);case"[object Map]":case"[object Set]":return new me;case"[object Number]":case"[object String]":return new me(Ot);case"[object RegExp]":return(0,I.A)(Ot);case"[object Symbol]":return(0,q.A)(Ot)}}},7868(be,z,w){w.d(z,{$8:()=>rt,$Hz:()=>Un,A0l:()=>ba,A7J:()=>Oi,AQb:()=>Pl,Ab:()=>ih,AbJ:()=>nu,Af3:()=>ma,Agf:()=>Qn,Ap:()=>ce,AsM:()=>Ze,B22:()=>$m,B9r:()=>O,BI7:()=>mn,Bqz:()=>bn,By9:()=>Xm,CQl:()=>mr,CpD:()=>zm,Cv0:()=>Ii,Czx:()=>Tt,DFp:()=>Mi,Ds7:()=>je,DyX:()=>Om,E6O:()=>Vn,EFk:()=>bo,EJG:()=>N,EPY:()=>rs,EYC:()=>zr,EmA:()=>j,Evm:()=>ys,F1c:()=>sr,FRF:()=>Cn,Fje:()=>za,G2t:()=>sn,GA0:()=>Eo,GBX:()=>Wn,GWr:()=>li,GYQ:()=>Fe,GZS:()=>Ao,GpT:()=>G,HAh:()=>Kc,HO5:()=>nf,HUe:()=>Nm,HaV:()=>Ti,Hh6:()=>yt,IAh:()=>lt,ID:()=>ct,ID8:()=>Zc,ITl:()=>Yd,Iaj:()=>Fi,Isx:()=>dn,IvY:()=>x,JEi:()=>un,JjR:()=>Qc,JlV:()=>Zr,Jzi:()=>si,K29:()=>br,K7h:()=>ar,KET:()=>Mr,KVO:()=>oi,KdJ:()=>nn,KtD:()=>Gm,Kw3:()=>sh,LIA:()=>me,LZP:()=>Sn,M0L:()=>fa,M6u:()=>qa,MI:()=>P_,MME:()=>ir,MT:()=>lh,MZA:()=>Yr,M_e:()=>Xt,MdC:()=>Po,Mlv:()=>tr,Mx4:()=>cs,MzJ:()=>Me,N4e:()=>fo,N79:()=>T_,Njj:()=>th,O8q:()=>Vc,O8t:()=>bs,OAn:()=>Zd,ONQ:()=>Ce,OsK:()=>We,P2g:()=>rh,P3H:()=>Xc,PEr:()=>Kd,PP7:()=>Ri,PQT:()=>Vr,Pfq:()=>qm,Pz9:()=>Aa,QZP:()=>wl,Qs1:()=>sl,QuC:()=>Zn,R2n:()=>Wa,RZ9:()=>Ja,Rc9:()=>go,Rfq:()=>ni,Rom:()=>vo,RxE:()=>te,SKP:()=>Ut,SKi:()=>gs,SMZ:()=>wt,SX7:()=>Jm,TWe:()=>cl,Tkx:()=>Lm,U45:()=>Ot,U7d:()=>Vi,UaU:()=>hh,UhH:()=>hl,VKj:()=>Uc,VML:()=>C,VPL:()=>Um,VVG:()=>Jr,VX4:()=>$a,W0r:()=>Ir,WB9:()=>Er,WQX:()=>Jt,WbQ:()=>Ki,WfI:()=>fr,Wg1:()=>Qi,WrV:()=>_t,X5O:()=>J,XRZ:()=>Ye,XaM:()=>vi,Xln:()=>Ee,XvL:()=>ri,Y20:()=>ya,Y3W:()=>fi,YEL:()=>Dr,YWB:()=>us,Yrj:()=>$,Yw1:()=>Yi,Z63:()=>Fn,Z9v:()=>Xa,ZFY:()=>Ve,ZQF:()=>ft,ZRn:()=>re,ZTf:()=>Sl,_0$:()=>dl,_Z$:()=>Tn,_gW:()=>k_,_px:()=>D_,a2B:()=>ke,abz:()=>_a,b$O:()=>To,b5C:()=>ge,bBq:()=>Ka,biv:()=>S_,bkB:()=>ia,bll:()=>yl,blu:()=>An,bm_:()=>Ua,brz:()=>Ue,buA:()=>ye,c$7:()=>oh,cBl:()=>Ya,cP4:()=>_o,cSN:()=>Yc,ckz:()=>ls,d31:()=>H,dMS:()=>ul,dTm:()=>_h,d_l:()=>Bm,db4:()=>Xd,dmw:()=>yn,dwj:()=>vt,e5P:()=>Ha,eBV:()=>eh,eDl:()=>X,eFE:()=>Ur,eVN:()=>os,ebl:()=>qe,ezK:()=>yr,f7T:()=>Cr,fuf:()=>pl,gsJ:()=>En,gv8:()=>tf,gxQ:()=>Vm,hjC:()=>Li,hk6:()=>nr,hmW:()=>Ln,iMd:()=>wo,iYM:()=>Pt,ihb:()=>Nr,ik5:()=>Jd,iw4:()=>Xe,jDH:()=>Vt,jNX:()=>zd,jRZ:()=>Fm,jXY:()=>xe,jgP:()=>Ct,joV:()=>ds,jvu:()=>x_,kLh:()=>ot,kNT:()=>gt,kcM:()=>pn,klJ:()=>E_,krE:()=>jm,l4E:()=>xo,laP:()=>it,llW:()=>cn,m7n:()=>eu,myG:()=>bh,n$e:()=>Gt,nKC:()=>ut,nZS:()=>gn,nfM:()=>vr,ng7:()=>Ni,niQ:()=>C_,nl4:()=>Ft,oMQ:()=>pt,oTH:()=>Q,oZy:()=>ea,ok8:()=>he,oyA:()=>kn,p9y:()=>rr,pbo:()=>ui,pcR:()=>ht,phH:()=>hi,pr_:()=>He,q$2:()=>Va,qFA:()=>Qr,qQL:()=>Co,qSk:()=>Ym,qlT:()=>xr,r4V:()=>fs,rFz:()=>nh,rJ1:()=>Wc,rQE:()=>Pe,rev:()=>vl,s6P:()=>Bn,srX:()=>yo,tF7:()=>qi,tQN:()=>ii,tcA:()=>ol,tdH:()=>I_,u5s:()=>kl,uXy:()=>Wi,uiq:()=>Sa,uvJ:()=>On,vNG:()=>Qd,vOT:()=>Lr,vPA:()=>su,vQI:()=>Wm,vaC:()=>k,veI:()=>ta,w7Z:()=>ch,wGu:()=>Rt,wVl:()=>Re,xLP:()=>zi,xUg:()=>ln,xbp:()=>Jc,xyx:()=>gl,yAH:()=>tt,yP_:()=>ah,yoD:()=>ns,ypq:()=>Km,yzR:()=>as,z6V:()=>_i,z7f:()=>tn,zAe:()=>M,zQk:()=>Rr,zSs:()=>fn,zZn:()=>bl,zcH:()=>_l,znI:()=>w_});var E=w(5824),m=w(7389),I=w(5286),q=w(9928),A=w(1805),c=w(1679);class te{full;major;minor;patch;constructor(L){this.full=L;const V=L.split(".");this.major=V[0],this.minor=V[1],this.patch=V.slice(2).join(".")}}const ne=new te("21.1.1"),ce=`${(()=>{const S=ne.full;return`https://${S.includes("-next")||S.includes("-rc")||"0.0.0-PLACEHOLDER"===S?"next":`v${ne.major}`}.angular.dev`})()}/errors`,he="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class ye extends Error{code;constructor(L,V){super(We(L,V)),this.code=L}}function We(S,L){return`${function De(S){return`NG0${Math.abs(S)}`}(S)}${L?": "+L:""}`}const it=globalThis;function wt(){return!1}function ot(S){for(let L in S)if(S[L]===ot)return L;throw Error("")}function vt(S,L){for(const V in L)L.hasOwnProperty(V)&&!S.hasOwnProperty(V)&&(S[V]=L[V])}function Ze(S){if("string"==typeof S)return S;if(Array.isArray(S))return`[${S.map(Ze).join(", ")}]`;if(null==S)return""+S;const L=S.overriddenName||S.name;if(L)return`${L}`;const V=S.toString();if(null==V)return""+V;const de=V.indexOf("\n");return de>=0?V.slice(0,de):V}function Gt(S,L){return S?L?`${S} ${L}`:S:L||""}const xt=ot({__forward_ref__:ot});function ni(S){return S.__forward_ref__=ni,S.toString=function(){return Ze(this())},S}function Ft(S){return si(S)?S():S}function si(S){return"function"==typeof S&&S.hasOwnProperty(xt)&&S.__forward_ref__===ni}function Ot(S,L){"number"!=typeof S&&rt(L,typeof S,"number","===")}function _t(S,L,V){Ot(S,"Expected a number"),function mi(S,L,V){S<=L||rt(V,S,L,"<=")}(S,V,"Expected number to be less than or equal to"),ui(S,L,"Expected number to be greater than or equal to")}function Ii(S,L){"string"!=typeof S&&rt(L,null===S?"null":typeof S,"string","===")}function me(S,L){"function"!=typeof S&&rt(L,null===S?"null":typeof S,"function","===")}function Ee(S,L,V){S!=L&&rt(V,S,L,"==")}function Xe(S,L,V){S==L&&rt(V,S,L,"!=")}function ft(S,L,V){S!==L&&rt(V,S,L,"===")}function lt(S,L,V){S===L&&rt(V,S,L,"!==")}function ri(S,L,V){S<L||rt(V,S,L,"<")}function li(S,L,V){S>L||rt(V,S,L,">")}function ui(S,L,V){S>=L||rt(V,S,L,">=")}function Pt(S,L){null==S&&rt(L,S,null,"!=")}function rt(S,L,V,de){throw new Error(`ASSERTION ERROR: ${S}`+(null==de?"":` [Expected=> ${V} ${de} ${L} <=Actual]`))}function tn(S){S instanceof Node||rt(`The provided value must be an instance of a DOM Node but got ${Ze(S)}`)}function Sn(S){S instanceof Element||rt(`The provided value must be an element but got ${Ze(S)}`)}function qi(S,L){Pt(S,"Array must be defined.");const V=S.length;(L<0||L>=V)&&rt(`Index expected to be less than ${V} but got ${L}`)}function gt(S,...L){if(-1!==L.indexOf(S))return!0;rt(`Expected value to be one of ${JSON.stringify(L)} but was ${JSON.stringify(S)}.`)}function He(S){null!==(0,E.nR)()&&rt(`${S}() should never be called in a reactive context.`)}function Vt(S){return{token:S.token,providedIn:S.providedIn||null,factory:S.factory,value:void 0}}function sn(S){return{providers:S.providers||[],imports:S.imports||[]}}function mt(S){return function Mt(S,L){return S.hasOwnProperty(L)&&S[L]||null}(S,tt)}function qe(S){return S&&S.hasOwnProperty(Ce)?S[Ce]:null}const tt=ot({\u0275prov:ot}),Ce=ot({\u0275inj:ot});class ut{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(L,V){this._desc=L,this.\u0275prov=void 0,"number"==typeof V?this.__NG_ELEMENT_ID__=V:void 0!==V&&(this.\u0275prov=Vt({token:this,providedIn:V.providedIn||"root",factory:V.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}let ti;function ai(){return rt("getInjectorProfilerContext should never be called in production mode"),ti}function Mi(S){rt("setInjectorProfilerContext should never be called in production mode");const L=ti;return ti=S,L}const di=[],zt=()=>{};function pn(S){return rt("setInjectorProfiler should never be called in production mode"),null!==S?(di.includes(S)||di.push(S),()=>function Hn(S){const L=di.indexOf(S);-1!==L&&di.splice(L,1)}(S)):(di.length=0,zt)}function Pn(S){rt("Injector profiler should never be called in production mode");for(let L=0;L<di.length;L++)(0,di[L])(S)}function gn(S,L=!1){let V;rt("Injector profiler should never be called in production mode"),V="function"==typeof S||S instanceof ut?S:Ft(S.provide);let de=S;S instanceof ut&&(de=S.\u0275prov||S),Pn({type:2,context:ai(),providerRecord:{token:V,provider:de,isViewProvider:L}})}function Vi(S){rt("Injector profiler should never be called in production mode"),Pn({type:5,context:ai(),token:S})}function Wi(S){rt("Injector profiler should never be called in production mode"),Pn({type:1,context:ai(),instance:{value:S}})}function mn(S,L,V){rt("Injector profiler should never be called in production mode"),Pn({type:0,context:ai(),service:{token:S,value:L,flags:V}})}function Oi(S){rt("Injector profiler should never be called in production mode"),Pn({type:4,context:ai(),effectPhase:S})}function vi(S,L,V){rt("runInInjectorProfilerContext should never be called in production mode");const de=Mi({injector:S,token:L});try{V()}finally{Mi(de)}}function Bi(S){return S&&!!S.\u0275providers}const mr=ot({\u0275cmp:ot}),jn=ot({\u0275dir:ot}),Rn=ot({\u0275pipe:ot}),Ln=ot({\u0275mod:ot}),fn=ot({\u0275fac:ot}),rr=ot({__NG_ELEMENT_ID__:ot}),Ji=ot({__NG_ENV_ID__:ot});function hi(S){return wn(S),S[Ln]||null}function Ki(S){const L=hi(S);if(!L)throw new ye(915,!1);return L}function ln(S){return wn(S),S[mr]||null}function Qn(S){const L=Ti(S);if(!L)throw new ye(916,!1);return L}function Ti(S){return wn(S),S[jn]||null}function kn(S){return wn(S),S[Rn]||null}function wn(S,L){if(null==S)throw new ye(-919,!1)}function Zn(S){const L=ln(S)||Ti(S)||kn(S);return null!==L&&L.standalone}function Ur(S){return"string"==typeof S?S:null==S?"":String(S)}function Ri(S){return"function"==typeof S?S.name||S.toString():"object"==typeof S&&null!=S&&"function"==typeof S.type?S.type.name||S.type.toString():Ur(S)}function Tn(S){const L=ln(S);return null!==L&&L.debugInfo?function wr(S){return S.filePath&&S.lineNumber?`${S.className} (at ${S.filePath}:${S.lineNumber})`:S.className}(L.debugInfo):Ri(S)}const er=ot({ngErrorCode:ot}),Tr=ot({ngErrorMessage:ot}),Nn=ot({ngTokenPath:ot});function Vr(S,L){return Kr("",-200,L)}function $a(S,L){return function Wr(S,L){return S.message=function ue(S,L,V=[],de=null){let _e="";V&&V.length>1&&(_e=` Path: ${V.join(" -> ")}.`);return We(L,`${S}${de?` Source: ${de}.`:""}${_e}`)}(S[Tr]||S.message,S[er],S[Nn],L),S}(Vr(0,L),null)}function Un(S,L){throw new ye(-201,!1)}function Kr(S,L,V){const de=new ye(L,S);return de[er]=L,de[Tr]=S,V&&(de[Nn]=V),de}let ae;function Se(){return ae}function ke(S){const L=ae;return ae=S,L}function Me(S,L,V){const de=mt(S);return de&&"root"==de.providedIn?void 0===de.value?de.value=de.factory():de.value:8&V?null:void 0!==L?L:void Un()}function Ve(S){}const at={},Ai="__NG_DI_FLAG__";class $i{injector;constructor(L){this.injector=L}retrieve(L,V){const de=Li(V)||0;try{return this.injector.get(L,8&de?null:at,de)}catch(_e){if((0,c.c4)(_e))return _e;throw _e}}}function ci(S,L=0){const V=(0,c.Af)();if(void 0===V)throw new ye(-203,!1);if(null===V)return Me(S,void 0,L);{const de=function kt(S){return{optional:!!(8&S),host:!!(1&S),self:!!(2&S),skipSelf:!!(4&S)}}(L),_e=V.retrieve(S,de);if((0,c.c4)(_e)){if(de.optional)return null;throw _e}return _e}}function oi(S,L=0){return(Se()||ci)(Ft(S),L)}function yn(S){throw new ye(202,!1)}function Jt(S,L){return oi(S,Li(L))}function Li(S){return typeof S>"u"||"number"==typeof S?S:0|(S.optional&&8)|(S.host&&1)|(S.self&&2)|(S.skipSelf&&4)}function Dt(S){const L=[];for(let V=0;V<S.length;V++){const de=Ft(S[V]);if(Array.isArray(de)){if(0===de.length)throw new ye(900,!1);let _e,Le=0;for(let we=0;we<de.length;we++){const Zt=de[we],jt=Ei(Zt);"number"==typeof jt?-1===jt?_e=Zt.token:Le|=jt:_e=Zt}L.push(oi(_e,Le))}else L.push(oi(de))}return L}function _i(S,L){return S[Ai]=L,S.prototype[Ai]=L,S}function Ei(S){return S[Ai]}function Rt(S,L){return S.hasOwnProperty(fn)?S[fn]:null}function Ni(S,L,V){if(S.length!==L.length)return!1;for(let de=0;de<S.length;de++){let _e=S[de],Le=L[de];if(V&&(_e=V(_e),Le=V(Le)),Le!==_e)return!1}return!0}function bn(S){return S.flat(Number.POSITIVE_INFINITY)}function zi(S,L){S.forEach(V=>Array.isArray(V)?zi(V,L):L(V))}function zr(S,L,V){L>=S.length?S.push(V):S.splice(L,0,V)}function Vn(S,L){return L>=S.length-1?S.pop():S.splice(L,1)[0]}function fr(S,L){const V=[];for(let de=0;de<S;de++)V.push(L);return V}function En(S,L,V){const de=S.length-V;for(;L<de;)S[L]=S[L+V],L++;for(;V--;)S.pop()}function cn(S,L,V,de){let _e=S.length;if(_e==L)S.push(V,de);else if(1===_e)S.push(de,S[0]),S[0]=V;else{for(_e--,S.push(S[_e-1],S[_e]);_e>L;)S[_e]=S[_e-2],_e--;S[L]=V,S[L+1]=de}}function yr(S,L,V){let de=Cn(S,L);return de>=0?S[1|de]=V:(de=~de,cn(S,de,L,V)),de}function ar(S,L){const V=Cn(S,L);if(V>=0)return S[1|V]}function Cn(S,L){return function xn(S,L,V){let de=0,_e=S.length>>V;for(;_e!==de;){const Le=de+(_e-de>>1),we=S[Le<<V];if(L===we)return Le<<V;we>L?_e=Le:de=Le+1}return~(_e<<V)}(S,L,1)}const Yr={},tr=[],Fn=new ut(""),Ga=new ut("",-1),O=new ut("");class Q{get(L,V=at){if(V===at){const _e=Kr("",-201);throw _e.name="\u0275NotFound",_e}return V}}function j(S){return{\u0275providers:S}}function pe(...S){return{\u0275providers:xe(0,S),\u0275fromNgModule:!0}}function xe(S,...L){const V=[],de=new Set;let _e;const Le=we=>{V.push(we)};return zi(L,we=>{const Zt=we;Ue(Zt,Le,[],de)&&(_e||=[],_e.push(Zt))}),void 0!==_e&&$e(_e,Le),V}function $e(S,L){for(let V=0;V<S.length;V++){const{ngModule:de,providers:_e}=S[V];Ht(_e,Le=>{L(Le,de)})}}function Ue(S,L,V,de){if(!(S=Ft(S)))return!1;let _e=null,Le=qe(S);const we=!Le&&ln(S);if(Le||we){if(we&&!we.standalone)return!1;_e=S}else{const jt=S.ngModule;if(Le=qe(jt),!Le)return!1;_e=jt}const Zt=de.has(_e);if(we){if(Zt)return!1;if(de.add(_e),we.dependencies){const jt="function"==typeof we.dependencies?we.dependencies():we.dependencies;for(const Et of jt)Ue(Et,L,V,de)}}else{if(!Le)return!1;{if(null!=Le.imports&&!Zt){let Et;de.add(_e),zi(Le.imports,Hi=>{Ue(Hi,L,V,de)&&(Et||=[],Et.push(Hi))}),void 0!==Et&&$e(Et,L)}if(!Zt){const Et=Rt(_e)||(()=>new _e);L({provide:_e,useFactory:Et,deps:tr},_e),L({provide:O,useValue:_e,multi:!0},_e),L({provide:Fn,useValue:()=>oi(_e),multi:!0},_e)}const jt=Le.providers;if(null!=jt&&!Zt){const Et=S;Ht(jt,Hi=>{L(Hi,Et)})}}}return _e!==S&&void 0!==S.providers}function Ht(S,L){for(let V of S)Bi(V)&&(V=V.\u0275providers),Array.isArray(V)?Ht(V,L):L(V)}const Yt=ot({provide:String,useValue:ot});function Lt(S){return null!==S&&"object"==typeof S&&Yt in S}function fi(S){return"function"==typeof S}function ir(S){return!!S.useClass}const Wn=new ut(""),Dn={},vn={};let Kn;function Er(){return void 0===Kn&&(Kn=new Q),Kn}class On{}class Ha extends On{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(L,V,de,_e){super(),this.parent=V,this.source=de,this.scopes=_e,ja(L,we=>this.processProvider(we)),this.records.set(Ga,Xr(void 0,this)),_e.has("environment")&&this.records.set(On,Xr(void 0,this));const Le=this.records.get(Wn);null!=Le&&"string"==typeof Le.value&&this.scopes.add(Le.value),this.injectorDefTypes=new Set(this.get(O,tr,{self:!0}))}retrieve(L,V){const de=Li(V)||0;try{return this.get(L,at,de)}catch(_e){if((0,c.c4)(_e))return _e;throw _e}}destroy(){ga(this),this._destroyed=!0;const L=(0,E.Ht)(null);try{for(const de of this._ngOnDestroyHooks)de.ngOnDestroy();const V=this._onDestroyHooks;this._onDestroyHooks=[];for(const de of V)de()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),(0,E.Ht)(L)}}onDestroy(L){return ga(this),this._onDestroyHooks.push(L),()=>this.removeOnDestroy(L)}runInContext(L){ga(this);const V=(0,c.mu)(this),de=ke(void 0);try{return L()}finally{(0,c.mu)(V),ke(de)}}get(L,V=at,de){if(ga(this),L.hasOwnProperty(Ji))return L[Ji](this);const _e=Li(de),we=(0,c.mu)(this),Zt=ke(void 0);try{if(!(4&_e)){let Et=this.records.get(L);if(void 0===Et){const Hi=function qc(S){return"function"==typeof S||"object"==typeof S&&"InjectionToken"===S.ngMetadataName}(L)&&mt(L);Et=Hi&&this.injectableDefInScope(Hi)?Xr(po(L),Dn):null,this.records.set(L,Et)}if(null!=Et)return this.hydrate(L,Et,_e)}return(2&_e?Er():this.parent).get(L,V=8&_e&&V===at?null:V)}catch(jt){const Et=function Y(S){return S[er]}(jt);throw-200===Et||-201===Et?new ye(Et,null):jt}finally{ke(Zt),(0,c.mu)(we)}}resolveInjectorInitializers(){const L=(0,E.Ht)(null),V=(0,c.mu)(this),de=ke(void 0);try{const Le=this.get(Fn,tr,{self:!0});for(const we of Le)we()}finally{(0,c.mu)(V),ke(de),(0,E.Ht)(L)}}toString(){const L=[],V=this.records;for(const de of V.keys())L.push(Ze(de));return`R3Injector[${L.join(", ")}]`}processProvider(L){let V=fi(L=Ft(L))?L:Ft(L&&L.provide);const de=function al(S){return Lt(S)?Xr(void 0,S.useValue):Xr(go(S),Dn)}(L);if(!fi(L)&&!0===L.multi){let _e=this.records.get(V);_e||(_e=Xr(void 0,Dn,!0),_e.factory=()=>Dt(_e.multi),this.records.set(V,_e)),V=L,_e.multi.push(L)}this.records.set(V,de)}hydrate(L,V,de){const _e=(0,E.Ht)(null);try{if(V.value===vn)throw Vr(Ze(L));return V.value===Dn&&(V.value=vn,V.value=V.factory(void 0,de)),"object"==typeof V.value&&V.value&&function mo(S){return null!==S&&"object"==typeof S&&"function"==typeof S.ngOnDestroy}(V.value)&&this._ngOnDestroyHooks.add(V.value),V.value}finally{(0,E.Ht)(_e)}}injectableDefInScope(L){if(!L.providedIn)return!1;const V=Ft(L.providedIn);return"string"==typeof V?"any"===V||this.scopes.has(V):this.injectorDefTypes.has(V)}removeOnDestroy(L){const V=this._onDestroyHooks.indexOf(L);-1!==V&&this._onDestroyHooks.splice(V,1)}}function po(S){const L=mt(S),V=null!==L?L.factory:Rt(S);if(null!==V)return V;if(S instanceof ut)throw new ye(204,!1);if(S instanceof Function)return function or(S){if(S.length>0)throw new ye(204,!1);const V=function fe(S){return(S?.[tt]??null)||null}(S);return null!==V?()=>V.factory(S):()=>new S}(S);throw new ye(204,!1)}function go(S,L,V){let de;if(fi(S)){const _e=Ft(S);return Rt(_e)||po(_e)}if(Lt(S))de=()=>Ft(S.useValue);else if(function Qt(S){return!(!S||!S.useFactory)}(S))de=()=>S.useFactory(...Dt(S.deps||[]));else if(function ki(S){return!(!S||!S.useExisting)}(S))de=(_e,Le)=>oi(Ft(S.useExisting),void 0!==Le&&8&Le?8:void 0);else{const _e=Ft(S&&(S.useClass||S.provide));if(!function is(S){return!!S.deps}(S))return Rt(_e)||po(_e);de=()=>new _e(...Dt(S.deps))}return de}function ga(S){if(S.destroyed)throw new ye(205,!1)}function Xr(S,L,V=!1){return{factory:S,value:L,multi:V?[]:void 0}}function ja(S,L){for(const V of S)Array.isArray(V)?ja(V,L):V&&Bi(V)?ja(V.\u0275providers,L):L(V)}function fo(S,L){let V;S instanceof Ha?(ga(S),V=S):V=new $i(S);const _e=(0,c.mu)(V),Le=ke(void 0);try{return L()}finally{(0,c.mu)(_e),ke(Le)}}function qa(){return void 0!==Se()||null!=(0,c.Af)()}function ma(S){if(!qa())throw new ye(-203,!1)}const Ct=0,X=1,Qi=2,Cr=3,br=4,xr=5,ol=6,Jr=7,Ut=8,Dr=9,fa=10,G=11,N=12,$=13,J=14,ge=15,Pe=16,Re=17,je=18,ct=19,pt=20,Tt=21,ht=22,ii=23,Fi=24,un=25,dn=26,Yi=27,Qr=6,Bn=7,Ua=8,vr=9,ya=10;function Va(S){return Array.isArray(S)&&"object"==typeof S[1]}function ba(S){return Array.isArray(S)&&!0===S[1]}function yo(S){return!!(4&S.flags)}function sl(S){return S.componentOffset>-1}function ns(S){return!(1&~S.flags)}function Zr(S){return!!S.template}function bo(S){return!!(512&S[Qi])}function rs(S){return!(256&~S[Qi])}function Uc(S,L){vo(S,L[X])}function Vc(S,L){const V=L+Yi;qi(S,V),ri(V,S[X].bindingStartIndex,"TNodes should be created before any bindings")}function vo(S,L){Wa(S);const V=L.data;for(let de=Yi;de<V.length;de++)if(V[de]===S)return;rt("This TNode does not belong to this TView.")}function Wa(S){Pt(S,"TNode must be defined"),S&&"object"==typeof S&&S.hasOwnProperty("directiveStylingLast")||rt("Not of type TNode, got: "+S)}function Ir(S){Pt(S,"Expected TIcu to be defined"),"number"!=typeof S.currentCaseLViewIndex&&rt("Object is not of TIcu type.")}function Ao(S,L="Type passed in is not ComponentType, it does not have '\u0275cmp' property."){ln(S)||rt(L)}function Mr(S,L="Type passed in is not NgModuleType, it does not have '\u0275mod' property."){hi(S)||rt(L)}function Ka(S){Pt(S,"currentTNode should exist!"),Pt(S.parent,"currentTNode should have a parent")}function _o(S){Pt(S,"LContainer must be defined"),Ee(ba(S),!0,"Expecting LContainer")}function Po(S){Pt(S,"LView must be defined"),Ee(Va(S),!0,"Expecting LView")}function as(S,L){Ee(S.firstCreatePass,!0,L||"Should only be called in first create pass.")}function cl(S,L){Ee(S.firstUpdatePass,!0,"Should only be called in first update pass.")}function Kd(S){(void 0===S.type||null==S.selectors||void 0===S.inputs)&&rt("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")}function Rr(S,L){ko(Yi,S.bindingStartIndex,L)}function ea(S,L){ko(S[1].expandoStartIndex,S.length,L)}function ko(S,L,V){S<=V&&V<L||rt(`Index out of range (expecting ${S} <= ${V} < ${L})`)}function S_(S,L){Pt(S[ge],"Component views should exist."),Pt(S[ge][xr].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}function P_(S,L){Pt(S,"Component views should always have a parent view (component's host view)")}function Lm(S,L){ea(S,L),ea(S,L+8),Ot(S[L+0],"injectorIndex should point to a bloom filter"),Ot(S[L+1],"injectorIndex should point to a bloom filter"),Ot(S[L+2],"injectorIndex should point to a bloom filter"),Ot(S[L+3],"injectorIndex should point to a bloom filter"),Ot(S[L+4],"injectorIndex should point to a bloom filter"),Ot(S[L+5],"injectorIndex should point to a bloom filter"),Ot(S[L+6],"injectorIndex should point to a bloom filter"),Ot(S[L+7],"injectorIndex should point to a bloom filter"),Ot(S[L+8],"injectorIndex should point to parent injector")}const zd="svg",Wc="math";function x(S){for(;Array.isArray(S);)S=S[Ct];return S}function M(S){for(;Array.isArray(S);){if("object"==typeof S[1])return S;S=S[Ct]}return null}function k(S,L){return x(L[S])}function H(S,L){return x(L[S.index])}function re(S,L){const V=null===S?-1:S.index;return-1!==V?x(L[V]):null}function Ye(S,L){return S.data[L]}function yt(S,L){return S[L]}function Xt(S,L,V,de){V>=S.data.length&&(S.data[V]=null,S.blueprint[V]=null),L[V]=de}function nn(S,L){const V=L[S];return Va(V)?V:V[Ct]}function Lr(S){return!(4&~S[Qi])}function sr(S){return!(128&~S[Qi])}function Yd(S){return ba(S[Cr])}function Xd(S,L){return null==L?null:S[L]}function Nm(S){S[Re]=0}function Kc(S){1024&S[Qi]||(S[Qi]|=1024,sr(S)&&An(S))}function Fm(S,L){for(;S>0;)L=L[J],S--;return L}function ul(S){return!!(9216&S[Qi]||S[Fi]?.dirty)}function k_(S){S[fa].changeDetectionScheduler?.notify(8),64&S[Qi]&&(S[Qi]|=1024),ul(S)&&An(S)}function An(S){S[fa].changeDetectionScheduler?.notify(0);let L=dl(S);for(;null!==L&&!(8192&L[Qi])&&(L[Qi]|=8192,sr(L));)L=dl(L)}function Jd(S,L){if(rs(S))throw new ye(911,!1);null===S[Tt]&&(S[Tt]=[]),S[Tt].push(L)}function Om(S,L){if(null===S[Tt])return;const V=S[Tt].indexOf(L);-1!==V&&S[Tt].splice(V,1)}function dl(S){const L=S[Cr];return ba(L)?L[Cr]:L}function Bm(S){return S[Jr]??=[]}function Qd(S){return S.cleanup??=[]}function $m(S,L,V,de){const _e=Bm(L);_e.push(V),S.firstCreatePass&&Qd(S).push(de,_e.length-1)}const bt={lFrame:fl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var os=function(S){return S[S.Off=0]="Off",S[S.Exhaustive=1]="Exhaustive",S[S.OnlyDirtyViews=2]="OnlyDirtyViews",S}(os||{});let ss=0,zc=!1;function w_(){return bt.lFrame.elementDepthCount}function za(){bt.lFrame.elementDepthCount++}function T_(){bt.lFrame.elementDepthCount--}function ls(){return bt.bindingsEnabled}function Gm(){return null!==bt.skipHydrationRootTNode}function hl(S){return bt.skipHydrationRootTNode===S}function Yc(){bt.bindingsEnabled=!0}function pl(){bt.bindingsEnabled=!1}function jm(){bt.skipHydrationRootTNode=null}function Zd(){return bt.lFrame.lView}function E_(){return bt.lFrame.tView}function eh(S){return bt.lFrame.contextLView=S,S[Ut]}function th(S){return bt.lFrame.contextLView=null,S}function cs(){let S=ta();for(;null!==S&&64===S.type;)S=S.parent;return S}function ta(){return bt.lFrame.currentTNode}function ih(){const S=bt.lFrame,L=S.currentTNode;return S.isParent?L:L.parent}function wo(S,L){const V=bt.lFrame;V.currentTNode=S,V.isParent=L}function us(){return bt.lFrame.isParent}function qm(){bt.lFrame.isParent=!1}function Um(){return bt.lFrame.contextLView}function nh(){return rt("Must never be called in production mode"),ss!==os.Off}function Xc(){return rt("Must never be called in production mode"),ss===os.Exhaustive}function rh(S){rt("Must never be called in production mode"),ss=S}function ah(){return zc}function Ya(S){const L=zc;return zc=S,L}function Vm(){const S=bt.lFrame;let L=S.bindingRootIndex;return-1===L&&(L=S.bindingRootIndex=S.tView.bindingStartIndex),L}function oh(){return bt.lFrame.bindingIndex}function sh(S){return bt.lFrame.bindingIndex=S}function Jc(){return bt.lFrame.bindingIndex++}function To(S){const L=bt.lFrame,V=L.bindingIndex;return L.bindingIndex=L.bindingIndex+S,V}function Qc(){return bt.lFrame.inI18n}function gl(S){bt.lFrame.inI18n=S}function Wm(S,L){const V=bt.lFrame;V.bindingIndex=V.bindingRootIndex=S,Ja(L)}function Xa(){return bt.lFrame.currentDirectiveIndex}function Ja(S){bt.lFrame.currentDirectiveIndex=S}function lh(S){const L=bt.lFrame.currentDirectiveIndex;return-1===L?null:S[L]}function ch(){return bt.lFrame.currentQueryIndex}function Eo(S){bt.lFrame.currentQueryIndex=S}function ml(S){const L=S[X];return 2===L.type?L.declTNode:1===L.type?S[xr]:null}function Nr(S,L,V){if(4&V){let _e=L,Le=S;for(;!(_e=_e.parent,null!==_e||1&V||(_e=ml(Le),null===_e||(Le=Le[J],10&_e.type))););if(null===_e)return!1;L=_e,S=Le}const de=bt.lFrame=uh();return de.currentTNode=L,de.lView=S,!0}function Zc(S){const L=uh(),V=S[X];bt.lFrame=L,L.currentTNode=V.firstChild,L.lView=S,L.tView=V,L.contextLView=S,L.bindingIndex=V.bindingStartIndex,L.inI18n=!1}function uh(){const S=bt.lFrame,L=null===S?null:S.child;return null===L?fl(S):L}function fl(S){const L={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:S,child:null,inI18n:!1};return null!==S&&(S.child=L),L}function dh(){const S=bt.lFrame;return bt.lFrame=S.parent,S.currentTNode=null,S.lView=null,S}const C_=dh;function yl(){const S=dh();S.isParent=!0,S.tView=null,S.selectedIndex=-1,S.contextLView=null,S.elementDepthCount=0,S.currentDirectiveIndex=-1,S.currentNamespace=null,S.bindingRootIndex=-1,S.bindingIndex=-1,S.currentQueryIndex=0}function x_(S){return(bt.lFrame.contextLView=Fm(S,bt.lFrame.contextLView))[Ut]}function D_(){return bt.lFrame.selectedIndex}function Km(S){bt.lFrame.selectedIndex=S}function zm(){const S=bt.lFrame;return Ye(S.tView,S.selectedIndex)}function Ym(){bt.lFrame.currentNamespace=zd}function Xm(){bt.lFrame.currentNamespace=Wc}function ds(){!function va(){bt.lFrame.currentNamespace=null}()}function hh(){return bt.lFrame.currentNamespace}let hs=!0;function Jm(){return hs}function eu(S){hs=S}function Qa(S,L=null,V=null,de){const _e=Aa(S,L,V,de);return _e.resolveInjectorInitializers(),_e}function Aa(S,L=null,V=null,de,_e=new Set){const Le=[V||tr,pe(S)];return de=de||("object"==typeof S?void 0:Ze(S)),new Ha(Le,L||Er(),de||null,_e)}class bl{static THROW_IF_NOT_FOUND=at;static NULL=new Q;static create(L,V){if(Array.isArray(L))return Qa({name:""},V,L,"");{const de=L.name??"";return Qa({name:de},L.parent,L.providers,de)}}static \u0275prov=Vt({token:bl,providedIn:"any",factory:()=>oi(Ga)});static __NG_ELEMENT_ID__=-1}const Co=new ut("");let _a=(()=>class S{static __NG_ELEMENT_ID__=In;static __NG_ENV_ID__=V=>V})();class zn extends _a{_lView;constructor(L){super(),this._lView=L}get destroyed(){return rs(this._lView)}onDestroy(L){const V=this._lView;return Jd(V,L),()=>Om(V,L)}}function In(){return new zn(Zd())}const tu=!1,ph=new ut("");let vl=(()=>{class S{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new q.t(!1);debugTaskTracker=Jt(ph,{optional:!0});get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new m.c(V=>{V.next(!1),V.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const V=this.taskId++;return this.pendingTasks.add(V),this.debugTaskTracker?.add(V),V}has(V){return this.pendingTasks.has(V)}remove(V){this.pendingTasks.delete(V),this.debugTaskTracker?.remove(V),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Vt({token:S,providedIn:"root",factory:()=>new S})}return S})();const ia=class gh extends I.B7{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(L=!1){super(),this.__isAsync=L,qa()&&(this.destroyRef=Jt(_a,{optional:!0})??void 0,this.pendingTasks=Jt(vl,{optional:!0})??void 0)}emit(L){const V=(0,E.Ht)(null);try{super.next(L)}finally{(0,E.Ht)(V)}}subscribe(L,V,de){let _e=L,Le=V||(()=>null),we=de;if(L&&"object"==typeof L){const jt=L;_e=jt.next?.bind(jt),Le=jt.error?.bind(jt),we=jt.complete?.bind(jt)}this.__isAsync&&(Le=this.wrapInTimeout(Le),_e&&(_e=this.wrapInTimeout(_e)),we&&(we=this.wrapInTimeout(we)));const Zt=super.subscribe({next:_e,error:Le,complete:we});return L instanceof A.y&&L.add(Zt),Zt}wrapInTimeout(L){return V=>{const de=this.pendingTasks?.add();setTimeout(()=>{try{L(V)}finally{void 0!==de&&this.pendingTasks?.remove(de)}})}}};function Al(...S){}function xo(S){let L,V;function de(){S=Al;try{void 0!==V&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(V),void 0!==L&&clearTimeout(L)}catch{}}return L=setTimeout(()=>{S(),de()}),"function"==typeof requestAnimationFrame&&(V=requestAnimationFrame(()=>{S(),de()})),()=>de()}function Sa(S){return queueMicrotask(()=>S()),()=>{S=Al}}const iu="isAngularZone",nu=iu+"_ID";let Qm=0;class gs{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ia(!1);onMicrotaskEmpty=new ia(!1);onStable=new ia(!1);onError=new ia(!1);constructor(L){const{enableLongStackTrace:V=!1,shouldCoalesceEventChangeDetection:de=!1,shouldCoalesceRunChangeDetection:_e=!1,scheduleInRootZone:Le=tu}=L;if(typeof Zone>"u")throw new ye(908,!1);Zone.assertZonePatched();const we=this;we._nesting=0,we._outer=we._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(we._inner=we._inner.fork(new Zone.TaskTrackingZoneSpec)),V&&Zone.longStackTraceZoneSpec&&(we._inner=we._inner.fork(Zone.longStackTraceZoneSpec)),we.shouldCoalesceEventChangeDetection=!_e&&de,we.shouldCoalesceRunChangeDetection=_e,we.callbackScheduled=!1,we.scheduleInRootZone=Le,function Zm(S){const L=()=>{!function ru(S){function L(){xo(()=>{S.callbackScheduled=!1,au(S),S.isCheckStableRunning=!0,fh(S),S.isCheckStableRunning=!1})}S.isCheckStableRunning||S.callbackScheduled||(S.callbackScheduled=!0,S.scheduleInRootZone?Zone.root.run(()=>{L()}):S._outer.run(()=>{L()}),au(S))}(S)},V=Qm++;S._inner=S._inner.fork({name:"angular",properties:{[iu]:!0,[nu]:V,[nu+V]:!0},onInvokeTask:(de,_e,Le,we,Zt,jt)=>{if(function na(S){return ou(S,"__ignore_ng_zone__")}(jt))return de.invokeTask(Le,we,Zt,jt);try{return yh(S),de.invokeTask(Le,we,Zt,jt)}finally{(S.shouldCoalesceEventChangeDetection&&"eventTask"===we.type||S.shouldCoalesceRunChangeDetection)&&L(),ef(S)}},onInvoke:(de,_e,Le,we,Zt,jt,Et)=>{try{return yh(S),de.invoke(Le,we,Zt,jt,Et)}finally{S.shouldCoalesceRunChangeDetection&&!S.callbackScheduled&&!function hn(S){return ou(S,"__scheduler_tick__")}(jt)&&L(),ef(S)}},onHasTask:(de,_e,Le,we)=>{de.hasTask(Le,we),_e===Le&&("microTask"==we.change?(S._hasPendingMicrotasks=we.microTask,au(S),fh(S)):"macroTask"==we.change&&(S.hasPendingMacrotasks=we.macroTask))},onHandleError:(de,_e,Le,we)=>(de.handleError(Le,we),S.runOutsideAngular(()=>S.onError.emit(we)),!1)})}(we)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(iu)}static assertInAngularZone(){if(!gs.isInAngularZone())throw new ye(909,!1)}static assertNotInAngularZone(){if(gs.isInAngularZone())throw new ye(909,!1)}run(L,V,de){return this._inner.run(L,V,de)}runTask(L,V,de,_e){const Le=this._inner,we=Le.scheduleEventTask("NgZoneEvent: "+_e,L,mh,Al,Al);try{return Le.runTask(we,V,de)}finally{Le.cancelTask(we)}}runGuarded(L,V,de){return this._inner.runGuarded(L,V,de)}runOutsideAngular(L){return this._outer.run(L)}}const mh={};function fh(S){if(0==S._nesting&&!S.hasPendingMicrotasks&&!S.isStable)try{S._nesting++,S.onMicrotaskEmpty.emit(null)}finally{if(S._nesting--,!S.hasPendingMicrotasks)try{S.runOutsideAngular(()=>S.onStable.emit(null))}finally{S.isStable=!0}}}function au(S){S.hasPendingMicrotasks=!!(S._hasPendingMicrotasks||(S.shouldCoalesceEventChangeDetection||S.shouldCoalesceRunChangeDetection)&&!0===S.callbackScheduled)}function yh(S){S._nesting++,S.isStable&&(S.isStable=!1,S.onUnstable.emit(null))}function ef(S){S._nesting--,fh(S)}class bh{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ia;onMicrotaskEmpty=new ia;onStable=new ia;onError=new ia;run(L,V,de){return L.apply(V,de)}runGuarded(L,V,de){return L.apply(V,de)}runOutsideAngular(L){return L()}runTask(L,V,de,_e){return L.apply(V,de)}}function ou(S,L){return!(!Array.isArray(S)||1!==S.length)&&!0===S[0]?.data?.[L]}class _l{_console=console;handleError(L){this._console.error("ERROR",L)}}const Sl=new ut("",{factory:()=>{const S=Jt(gs),L=Jt(On);let V;return de=>{S.runOutsideAngular(()=>{L.destroyed&&!V?setTimeout(()=>{throw de}):(V??=L.get(_l),V.handleError(de))})}}}),tf={provide:Fn,useValue:()=>{Jt(_l,{optional:!0})},multi:!0};function su(S,L){const[V,de,_e]=(0,E.n5)(S,L?.equal),Le=V;return Le.set=de,Le.update=_e,Le.asReadonly=nf.bind(Le),Le}function nf(){const S=this[E.bh];if(void 0===S.readonlyFn){const L=()=>this();L[E.bh]=S,S.readonlyFn=L}return S.readonlyFn}function I_(S,L){if(null!==(0,E.nR)())throw new ye(-602,!1)}let fs=(()=>class S{view;node;constructor(V,de){this.view=V,this.node=de}static __NG_ELEMENT_ID__=rf})();function rf(){return new fs(Zd(),cs())}class nr{}const ys=new ut("",{factory:()=>!0}),Fe=new ut("",{factory:()=>!1}),Pl=new ut("");let kl=(()=>{class S{internalPendingTasks=Jt(vl);scheduler=Jt(nr);errorHandler=Jt(Sl);add(){const V=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(V)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(V))}}run(V){const de=this.add();V().catch(this.errorHandler).finally(de)}static \u0275prov=Vt({token:S,providedIn:"root",factory:()=>new S})}return S})(),C=(()=>{class S{static \u0275prov=Vt({token:S,providedIn:"root",factory:()=>new Ah})}return S})();class Ah{dirtyEffectCount=0;queues=new Map;add(L){this.enqueue(L),this.schedule(L)}schedule(L){L.dirty&&this.dirtyEffectCount++}remove(L){const de=this.queues.get(L.zone);de.has(L)&&(de.delete(L),L.dirty&&this.dirtyEffectCount--)}enqueue(L){const V=L.zone;this.queues.has(V)||this.queues.set(V,new Set);const de=this.queues.get(V);de.has(L)||de.add(L)}flush(){for(;this.dirtyEffectCount>0;){let L=!1;for(const[V,de]of this.queues)L||=null===V?this.flushQueue(de):V.run(()=>this.flushQueue(de));L||(this.dirtyEffectCount=0)}}flushQueue(L){let V=!1;for(const de of L)de.dirty&&(this.dirtyEffectCount--,V=!0,de.run());return V}}class _h{[E.bh];constructor(L){this[E.bh]=L}destroy(){this[E.bh].destroy()}}function wl(S,L){const V=L?.injector??Jt(bl);let _e,de=!0!==L?.manualCleanup?V.get(_a):null;const Le=V.get(fs,null,{optional:!0}),we=V.get(nr);return null!==Le?(_e=function sf(S,L,V){const de=Object.create(lu);return de.view=S,de.zone=typeof Zone<"u"?Zone.current:null,de.notifier=L,de.fn=Ph(de,V),S[ii]??=new Set,S[ii].add(de),de.consumerMarkedDirty(de),de}(Le.view,we,S),de instanceof zn&&de._lView===Le.view&&(de=null)):_e=function Sh(S,L,V){const de=Object.create(af);return de.fn=Ph(de,S),de.scheduler=L,de.notifier=V,de.zone=typeof Zone<"u"?Zone.current:null,de.scheduler.add(de),de.notifier.notify(12),de}(S,V.get(C),we),_e.injector=V,null!==de&&(_e.onDestroyFns=[de.onDestroy(()=>_e.destroy())]),new _h(_e)}const Pa={...E.vX,cleanupFns:void 0,zone:null,onDestroyFns:null,run(){const S=Ya(!1);try{(0,E.lh)(this)}finally{Ya(S)}},cleanup(){if(!this.cleanupFns?.length)return;const S=(0,E.Ht)(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],(0,E.Ht)(S)}}},af={...Pa,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if((0,E.XR)(this),null!==this.onDestroyFns)for(const S of this.onDestroyFns)S();this.cleanup(),this.scheduler.remove(this)}},lu={...Pa,consumerMarkedDirty(){this.view[Qi]|=8192,An(this.view),this.notifier.notify(13)},destroy(){if((0,E.XR)(this),null!==this.onDestroyFns)for(const S of this.onDestroyFns)S();this.cleanup(),this.view[ii]?.delete(this)}};function Ph(S,L){return()=>{L(V=>(S.cleanupFns??=[]).push(V))}}function bs(S){return(0,E.O8)(S)}},7895(be,z,w){w.d(z,{A:()=>A});var E=w(6658),m=w(2697),I=w(4429);const A=function q(c){return(0,E.A)(c,I.A,m.A)}},7901(be,z,w){w.d(z,{A:()=>q});var E=w(554),m=Object.create;const q=function(){function A(){}return function(c){if(!(0,E.A)(c))return{};if(m)return m(c);A.prototype=c;var te=new A;return A.prototype=void 0,te}}()},7939(be,z,w){w.d(z,{A:()=>I});const I=(0,w(8992).A)(Object.keys,Object)},8010(be,z,w){w.d(z,{A:()=>I});const I=(0,w(8992).A)(Object.getPrototypeOf,Object)},8090(be,z,w){var E={};w.r(E),w.d(E,{afterMain:()=>GF,afterRead:()=>OF,afterWrite:()=>qF,applyStyles:()=>UR,arrow:()=>JF,auto:()=>PT,basePlacements:()=>mm,beforeMain:()=>BF,beforeRead:()=>NF,beforeWrite:()=>HF,bottom:()=>ca,clippingParents:()=>RF,computeStyles:()=>zR,createPopper:()=>t2,createPopperBase:()=>NW,createPopperLite:()=>BW,detectOverflow:()=>_m,end:()=>fm,eventListeners:()=>YR,flip:()=>nO,hide:()=>oO,left:()=>Pr,main:()=>$F,modifierPhases:()=>UF,offset:()=>sO,placements:()=>jR,popper:()=>ym,popperGenerator:()=>CT,popperOffsets:()=>e2,preventOverflow:()=>lO,read:()=>FF,reference:()=>LF,right:()=>ua,start:()=>Fd,top:()=>Sr,variationPlacements:()=>HR,viewport:()=>GR,write:()=>jF});var m=w(467),I=w(6494),q=w(3117),A=w(7868),c=w(5547),te=w(7705);const ce="browser",si=r=>r.src,Ot=new A.nKC("",{factory:()=>si}),mn=/^((\s*\d+w\s*(,|$)){1,})$/,Bi=[1,2];let Ti=(()=>{class r{imageLoader=(0,A.WQX)(Ot);config=function kn(r){let e={};return r.breakpoints&&(e.breakpoints=r.breakpoints.sort((t,i)=>t-i)),Object.assign({},c.mY,r,e)}((0,A.WQX)(c.VeQ));renderer=(0,A.WQX)(c.sFG);imgElement=(0,A.WQX)(c.aKT).nativeElement;injector=(0,A.WQX)(A.zZn);destroyRef=(0,A.WQX)(A.abz);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){(0,c._jY)("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true"),this.updateSrcAndSrcset(),this.sizes?"lazy"===this.getLoadingBehavior()?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&mn.test(this.ngSrcset)&&"lazy"===this.getLoadingBehavior()&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(t){t.ngSrc&&!t.ngSrc.isFirstChange()&&this.updateSrcAndSrcset(!0)}callImageLoader(t){let i=t;return this.loaderParams&&(i.loaderParams=this.loaderParams),this.imageLoader(i)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const t=mn.test(this.ngSrcset);return this.ngSrcset.split(",").filter(n=>""!==n).map(n=>{n=n.trim();const o=t?parseFloat(n):parseFloat(n)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:o})} ${n}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:t}=this.config;let i=t;return"100vw"===this.sizes?.trim()&&(i=t.filter(o=>o>=640)),i.map(o=>`${this.callImageLoader({src:this.ngSrc,width:o})} ${o}w`).join(", ")}updateSrcAndSrcset(t=!1){t&&(this._renderedSrc=null);const i=this.getRewrittenSrc();let n;return this.setHostAttribute("src",i),this.ngSrcset?n=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(n=this.getAutomaticSrcset()),n&&this.setHostAttribute("srcset",n),n}getFixedSrcset(){return Bi.map(i=>`${this.callImageLoader({src:this.ngSrc,width:this.width*i})} ${i}x`).join(", ")}shouldGenerateAutomaticSrcset(){let t=!1;return this.sizes||(t=this.width>1920||this.height>1080),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==si&&!t}generatePlaceholder(t){const{placeholderResolution:i}=this.config;return!0===t?`url(${this.callImageLoader({src:this.ngSrc,width:i,isPlaceholder:!0})})`:"string"==typeof t?`url(${t})`:null}shouldBlurPlaceholder(t){return!t||!t.hasOwnProperty("blur")||!!t.blur}removePlaceholderOnLoad(t){const i=()=>{const a=this.injector.get(te.gRc);n(),o(),this.placeholder=!1,a.markForCheck()},n=this.renderer.listen(t,"load",i),o=this.renderer.listen(t,"error",i);this.destroyRef.onDestroy(()=>{n(),o()}),function $i(r,e){r.complete&&r.naturalWidth&&e()}(t,i)}setHostAttribute(t,i){this.renderer.setAttribute(this.imgElement,t,i)}static \u0275fac=function(i){return new(i||r)};static \u0275dir=c.FsC({type:r,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(i,n){2&i&&c.xc7("position",n.fill?"absolute":null)("width",n.fill?"100%":null)("height",n.fill?"100%":null)("inset",n.fill?"0":null)("background-size",n.placeholder?"cover":null)("background-position",n.placeholder?"50% 50%":null)("background-repeat",n.placeholder?"no-repeat":null)("background-image",n.placeholder?n.generatePlaceholder(n.placeholder):null)("filter",n.placeholder&&n.shouldBlurPlaceholder(n.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",oi],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",te.Udg],height:[2,"height","height",te.Udg],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",te.L39],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",te.L39],fill:[2,"fill","fill",te.L39],placeholder:[2,"placeholder","placeholder",yn],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[c.OA$]})}return r})();function oi(r){return"string"==typeof r?r:(0,c.aCM)(r)}function yn(r){return"string"==typeof r&&"true"!==r&&"false"!==r&&""!==r?r:(0,te.L39)(r)}class Jt{_doc;constructor(e){this._doc=e}manager}let Li=(()=>{class r extends Jt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,n,o){return t.addEventListener(i,n,o),()=>this.removeEventListener(t,i,n,o)}removeEventListener(t,i,n,o){return t.removeEventListener(i,n,o)}static \u0275fac=function(i){return new(i||r)(A.KVO(A.qQL))};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac})}return r})();const kt=new A.nKC("");let Dt=(()=>{class r{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(a=>{a.manager=this});const n=t.filter(a=>!(a instanceof Li));this._plugins=n.slice().reverse();const o=t.find(a=>a instanceof Li);o&&this._plugins.push(o)}addEventListener(t,i,n,o){return this._findPluginFor(i).addEventListener(t,i,n,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new A.buA(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||r)(A.KVO(kt),A.KVO(A.SKi))};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac})}return r})();const _i="ng-app-id";function Ei(r){for(const e of r)e.remove()}function Rt(r,e){const t=e.createElement("style");return t.textContent=r,t}function bn(r,e){const t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",r),t}let zi=(()=>{class r{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,i,n,o={}){this.doc=t,this.appId=i,this.nonce=n,function Ni(r,e,t,i){const n=r.head?.querySelectorAll(`style[${_i}="${e}"],link[${_i}="${e}"]`);if(n)for(const o of n)o.removeAttribute(_i),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(const n of t)this.addUsage(n,this.inline,Rt);i?.forEach(n=>this.addUsage(n,this.external,bn))}removeStyles(t,i){for(const n of t)this.removeUsage(n,this.inline);i?.forEach(n=>this.removeUsage(n,this.external))}addUsage(t,i,n){const o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,n(t,this.doc)))})}removeUsage(t,i){const n=i.get(t);n&&(n.usage--,n.usage<=0&&(Ei(n.elements),i.delete(t)))}ngOnDestroy(){for(const[,{elements:t}]of[...this.inline,...this.external])Ei(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(const[i,{elements:n}]of this.inline)n.push(this.addElement(t,Rt(i,this.doc)));for(const[i,{elements:n}]of this.external)n.push(this.addElement(t,bn(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),t.appendChild(i)}static \u0275fac=function(i){return new(i||r)(A.KVO(A.qQL),A.KVO(c.sZ2),A.KVO(c.BIS,8),A.KVO(c.Agw))};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac})}return r})();const zr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vn=/%COMP%/g,xn=new A.nKC("",{factory:()=>!0});function Fn(r,e){return e.map(t=>t.replace(Vn,r))}let O=(()=>{class r{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,i,n,o,a,l,d=null,p=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=n,this.removeStylesOnCompDestroy=o,this.doc=a,this.ngZone=l,this.nonce=d,this.tracingService=p,this.defaultRenderer=new Q(t,a,l,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const n=this.getOrCreateRenderer(t,i);return n instanceof Ue?n.applyToHost(t):n instanceof $e&&n.applyStyles(),n}getOrCreateRenderer(t,i){const n=this.rendererByCompId;let o=n.get(i.id);if(!o){const a=this.doc,l=this.ngZone,d=this.eventManager,p=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,T=this.tracingService;switch(i.encapsulation){case c.gXe.Emulated:o=new Ue(d,p,i,this.appId,b,a,l,T);break;case c.gXe.ShadowDom:return new xe(d,t,i,a,l,this.nonce,T,p);case c.gXe.ExperimentalIsolatedShadowDom:return new xe(d,t,i,a,l,this.nonce,T);default:o=new $e(d,p,i,b,a,l,T)}n.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||r)(A.KVO(Dt),A.KVO(zi),A.KVO(c.sZ2),A.KVO(xn),A.KVO(A.qQL),A.KVO(A.SKi),A.KVO(c.BIS),A.KVO(c.a8H,8))};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac})}return r})();class Q{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,n){this.eventManager=e,this.doc=t,this.ngZone=i,this.tracingService=n}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(zr[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(pe(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(pe(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new A.buA(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,n){if(n){t=n+":"+t;const o=zr[n];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const n=zr[i];n?e.removeAttributeNS(n,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,n){n&(c.czy.DashCase|c.czy.Important)?e.style.setProperty(t,i,n&c.czy.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.czy.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,n){if("string"==typeof e&&!(e=(0,I.rb)().getGlobalEventTarget(this.doc,e)))throw new A.buA(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,n)}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&t.preventDefault()}}}function pe(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class xe extends Q{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,i,n,o,a,l,d){super(e,n,o,l),this.hostEl=t,this.sharedStylesHost=d,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let p=i.styles;p=Fn(i.id,p);for(const T of p){const F=document.createElement("style");a&&F.setAttribute("nonce",a),F.textContent=T,this.shadowRoot.appendChild(F)}const b=i.getExternalStyles?.();if(b)for(const T of b){const F=bn(T,n);a&&F.setAttribute("nonce",a),this.shadowRoot.appendChild(F)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}}class $e extends Q{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,n,o,a,l,d){super(e,o,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=n;let p=i.styles;this.styles=d?Fn(d,p):p,this.styleUrls=i.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===c.DUP.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Ue extends $e{contentAttr;hostAttr;constructor(e,t,i,n,o,a,l,d){const p=n+"-"+i.id;super(e,t,i,o,a,l,d,p),this.contentAttr=function Yr(r){return"_ngcontent-%COMP%".replace(Vn,r)}(p),this.hostAttr=function tr(r){return"_nghost-%COMP%".replace(Vn,r)}(p)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Wt extends I.qj{supportsDOMEvents=!0;static makeCurrent(){(0,I.ig)(new Wt)}onAndCancel(e,t,i,n){return e.addEventListener(t,i,n),()=>{e.removeEventListener(t,i,n)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Yt(){return Ht=Ht||document.head.querySelector("base"),Ht?Ht.getAttribute("href"):null}();return null==t?null:function Lt(r){return new URL(r,document.baseURI).pathname}(t)}resetBaseElement(){Ht=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,q.b)(document.cookie,e)}}let Ht=null,Qt=(()=>{class r{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||r)};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac})}return r})();const fi=["alt","control","meta","shift"],ir={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wn={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let Dn=(()=>{class r extends Jt{constructor(t){super(t)}supports(t){return null!=r.parseEventName(t)}addEventListener(t,i,n,o){const a=r.parseEventName(i),l=r.eventCallback(a.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,I.rb)().onAndCancel(t,a.domEventName,l,o))}static parseEventName(t){const i=t.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;const o=r._normalizeKey(i.pop());let a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),fi.forEach(p=>{const b=i.indexOf(p);b>-1&&(i.splice(b,1),a+=p+".")}),a+=o,0!=i.length||0===o.length)return null;const d={};return d.domEventName=n,d.fullKey=a,d}static matchEventFullKeyCode(t,i){let n=ir[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(n=t.code,o="code."),!(null==n||!n)&&(n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),fi.forEach(a=>{a!==n&&(0,Wn[a])(t)&&(o+=a+".")}),o+=n,o===i)}static eventCallback(t,i,n){return o=>{r.matchEventFullKeyCode(o,t)&&n.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static \u0275fac=function(i){return new(i||r)(A.KVO(A.qQL))};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac})}return r})();function Kn(){return(Kn=(0,m.A)(function*(r,e,t){const i={rootComponent:r,...Ha(e,t)};return(0,te.TL3)(i)})).apply(this,arguments)}function Ha(r,e){return{platformRef:e?.platformRef,appProviders:[...fo,...r?.providers??[]],platformProviders:is}}const is=[{provide:c.Agw,useValue:ce},{provide:c.PLl,useValue:function go(){Wt.makeCurrent()},multi:!0},{provide:A.qQL,useFactory:function Xr(){return(0,c._9u)(document),document}}],fo=[{provide:A.GBX,useValue:"root"},{provide:A.zcH,useFactory:function ga(){return new A.zcH}},{provide:kt,useClass:Li,multi:!0},{provide:kt,useClass:Dn,multi:!0},O,zi,Dt,{provide:c._9s,useExisting:O},{provide:q.N,useClass:Qt},[]];var ma=w(6980),Ct=w(9769),X=w(5119),Qi=w(762),Cr=w(1080);function br(r,e=Cr.b){return t=>t.lift(new xr(r,e))}class xr{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new ol(e,this.dueTime,this.scheduler))}}class ol extends Qi.v{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Jr,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function Jr(r){r.debouncedNext()}var Ut=w(5286),Dr=w(7389),fa=w(2234),G=w(8456),N=w(5241);function $(r=Number.POSITIVE_INFINITY){return(0,G.ZZ)(N.D,r)}var J=w(4279);function ge(...r){let e=Number.POSITIVE_INFINITY,t=null,i=r[r.length-1];return(0,fa.m)(i)?(t=r.pop(),r.length>1&&"number"==typeof r[r.length-1]&&(e=r.pop())):"number"==typeof i&&(e=r.pop()),null===t&&1===r.length&&r[0]instanceof Dr.c?r[0]:$(e)((0,J.c)(r,t))}var Pe=w(1805),Re=w(7354);function je(r){return!(0,Re.c)(r)&&r-parseFloat(r)+1>=0}function pt(r){const{subscriber:e,counter:t,period:i}=r;e.next(t),this.schedule({subscriber:e,counter:t+1,period:i},i)}var Tt=w(8189),ii=w(6228);const un=new class Fi extends ii.q{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,n=-1,o=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++n<o&&(e=t.shift()));if(this.active=!1,i){for(;++n<o&&(e=t.shift());)e.unsubscribe();throw i}}}(class ht extends Tt.R{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});var Yi=w(9928);let Gi;function Bn(r){if(function Qr(){if(null==Gi){const r=typeof document<"u"?document.head:null;Gi=!(!r||!r.createShadowRoot&&!r.attachShadow)}return Gi}()){const e=r.getRootNode?r.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function vr(r){return r.composedPath?r.composedPath()[0]:r.target}const ya=new WeakMap;let Va=(()=>{class r{_appRef;_injector=(0,A.WQX)(A.zZn);_environmentInjector=(0,A.WQX)(A.uvJ);load(t){const i=this._appRef=this._appRef||this._injector.get(c.o8S);let n=ya.get(i);n||(n={loaders:new Set,refs:[]},ya.set(i,n),i.onDestroy(()=>{ya.get(i)?.refs.forEach(o=>o.destroy()),ya.delete(i)})),n.loaders.has(t)||(n.loaders.add(t),n.refs.push((0,te.a0P)(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||r)};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var sl=w(4421);let ns=1;const Zr=Promise.resolve(),bo={};function ll(r){return r in bo&&(delete bo[r],!0)}const Wd={setImmediate(r){const e=ns++;return bo[e]=!0,Zr.then(()=>ll(e)&&r()),e},clearImmediate(r){ll(r)}};new class Vc extends ii.q{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,n=-1,o=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++n<o&&(e=t.shift()));if(this.active=!1,i){for(;++n<o&&(e=t.shift());)e.unsubscribe();throw i}}}(class Uc extends Tt.R{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=Wd.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(Wd.clearImmediate(t),e.scheduled=void 0)}});var Ir=w(3004);class Mr{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new Ka(e,this.durationSelector))}}class Ka extends Ir.gn{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:n}=this;t=n(e)}catch(n){return this.destination.error(n)}const i=(0,Ir.tS)(t,new Ir.zA(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:e,hasValue:t,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function So(r){const{index:e,period:t,subscriber:i}=r;if(i.next(e),!i.closed){if(-1===t)return i.complete();r.index=e+1,this.schedule(r,t)}}function Po(r,e=Cr.b){return function Ao(r){return function(t){return t.lift(new Mr(r))}}(()=>function _o(r=0,e,t){let i=-1;return je(e)?i=Number(e)<1?1:Number(e):(0,fa.m)(e)&&(t=e),(0,fa.m)(t)||(t=Cr.b),new Dr.c(n=>{const o=je(r)?r:+r-t.now();return t.schedule(So,o,{index:0,period:i,subscriber:n})})}(r,e))}var as=w(8728);function cl(r,e=0){return function Kd(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):2===arguments.length?e:0}function Rr(r){return r instanceof c.aKT?r.nativeElement:r}let ea;try{ea=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ea=!1}let ko=(()=>{class r{_platformId=(0,A.WQX)(c.Agw);isBrowser=this._platformId?function ye(r){return r===ce}(this._platformId):"object"==typeof document&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!(!window.chrome&&!ea)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||r)};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),k=(()=>{class r{_ngZone=(0,A.WQX)(A.SKi);_platform=(0,A.WQX)(ko);_renderer=(0,A.WQX)(c._9s).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new Ut.B7;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Dr.c(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));const n=t>0?this._scrolled.pipe(Po(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):(0,sl.of)()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const n=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,as.p)(o=>!o||n.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((n,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_scrollableContainsElement(t,i){let n=Rr(i),o=t.getElementRef().nativeElement;do{if(n==o)return!0}while(n=n.parentElement);return!1}static \u0275fac=function(i){return new(i||r)};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Ye=(()=>{class r{_platform=(0,A.WQX)(ko);_listeners;_viewportSize=null;_change=new Ut.B7;_document=(0,A.WQX)(A.qQL);constructor(){const t=(0,A.WQX)(A.SKi),i=(0,A.WQX)(c._9s).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){const n=o=>this._change.next(o);this._listeners=[i.listen("window","resize",n),i.listen("window","orientationchange",n)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+i,height:n,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),n=t.documentElement,o=n.getBoundingClientRect();return{top:-o.top||t.body?.scrollTop||i.scrollY||n.scrollTop||0,left:-o.left||t.body?.scrollLeft||i.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Po(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||r)};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ul=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=c.$C({type:r});static \u0275inj=A.G2t({})}return r})();function An(r){return e=>e.lift(new Jd(r))}class Jd{constructor(e){this.notifier=e}call(e,t){const i=new Om(e),n=(0,Ir.tS)(this.notifier,new Ir.zA(i));return n&&!i.seenValue?(i.add(n),t.subscribe(i)):i}}class Om extends Ir.gn{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var dl=w(5006);const Qd=(()=>{function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r})(),$m=new Dr.c(r=>r.complete());class zc{constructor(e){if(this.total=e,this.total<0)throw new Qd}call(e,t){return t.subscribe(new w_(e,this.total))}}class w_ extends Qi.v{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}function za(){}var T_=w(8099);class Gm{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new hl(e,this.nextOrObserver,this.error,this.complete))}}class hl extends Qi.v{constructor(e,t,i,n){super(e),this._tapNext=za,this._tapError=za,this._tapComplete=za,this._tapError=i||za,this._tapComplete=n||za,(0,T_.T)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||za,this._tapError=t.error||za,this._tapComplete=t.complete||za)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}var Yc=w(9090);function pl(...r){return function Hm(){return $(1)}()((0,sl.of)(...r))}function jm(...r){const e=r[r.length-1];return(0,fa.m)(e)?(r.pop(),t=>pl(r,t,e)):t=>pl(r,t)}const Zd=new A.nKC("cdk-dir-doc",{providedIn:"root",factory:()=>(0,A.WQX)(A.qQL)}),E_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let th=(()=>{class r{get value(){return this.valueSignal()}valueSignal=(0,A.vPA)("ltr");change=new A.bkB;constructor(){const t=(0,A.WQX)(Zd,{optional:!0});t&&this.valueSignal.set(function eh(r){const e=r?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?E_.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||r)};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const cs={};class ta{_appId=(0,A.WQX)(c.sZ2);static _infix=`a${Math.floor(1e5*Math.random()).toString()}`;getId(e,t=!1){return"ng"!==this._appId&&(e+=this._appId),cs.hasOwnProperty(e)||(cs[e]=0),`${e}${t?ta._infix+"-":""}${cs[e]++}`}static \u0275fac=function(t){return new(t||ta)};static \u0275prov=A.jDH({token:ta,factory:ta.\u0275fac,providedIn:"root"})}function wo(r){const e=r.cloneNode(!0),t=e.querySelectorAll("[id]"),i=r.nodeName.toLowerCase();e.removeAttribute("id");for(let n=0;n<t.length;n++)t[n].removeAttribute("id");return"canvas"===i?nh(r,e):("input"===i||"select"===i||"textarea"===i)&&Um(r,e),us("canvas",r,e,nh),us("input, textarea, select",r,e,Um),e}function us(r,e,t,i){const n=e.querySelectorAll(r);if(n.length){const o=t.querySelectorAll(r);for(let a=0;a<n.length;a++)i(n[a],o[a])}}let qm=0;function Um(r,e){"file"!==e.type&&(e.value=r.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${qm++}`)}function nh(r,e){const t=e.getContext("2d");if(t)try{t.drawImage(r,0,0)}catch{}}function Xc(r){const e=r.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function rh(r,e,t){const{top:i,bottom:n,left:o,right:a}=r;return t>=i&&t<=n&&e>=o&&e<=a}function Ya(r,e,t){r.top+=e,r.bottom=r.top+r.height,r.left+=t,r.right=r.left+r.width}function Vm(r,e,t,i){const{top:n,right:o,bottom:a,left:l,width:d,height:p}=r,b=d*e,T=p*e;return i>n-T&&i<a+T&&t>l-b&&t<o+b}class oh{_document;positions=new Map;constructor(e){this._document=e}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Xc(t)})})}handleScroll(e){const t=vr(e),i=this.positions.get(t);if(!i)return null;const n=i.scrollPosition;let o,a;if(t===this._document){const p=this.getViewportScrollPosition();o=p.top,a=p.left}else o=t.scrollTop,a=t.scrollLeft;const l=n.top-o,d=n.left-a;return this.positions.forEach((p,b)=>{p.clientRect&&t!==b&&t.contains(b)&&Ya(p.clientRect,l,d)}),n.top=o,n.left=a,{top:l,left:d}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function sh(r,e){const t=r.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const i=e.createElement("div");return t.forEach(n=>i.appendChild(n)),i}function Jc(r,e,t){for(let i in e)if(e.hasOwnProperty(i)){const n=e[i];n?r.setProperty(i,n,t?.has(i)?"important":""):r.removeProperty(i)}return r}function To(r,e){const t=e?"":"none";Jc(r.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Qc(r,e,t){Jc(r.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function gl(r,e){return e&&"none"!=e?r+" "+e:r}function Wm(r,e){r.style.width=`${e.width}px`,r.style.height=`${e.height}px`,r.style.transform=Xa(e.left,e.top)}function Xa(r,e){return`translate3d(${Math.round(r)}px, ${Math.round(e)}px, 0)`}const Ja={capture:!0},lh={passive:!1,capture:!0};let ch=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=c.VBU({type:r,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,n){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}\n"],encapsulation:2,changeDetection:0})}return r})(),Eo=(()=>{class r{_ngZone=(0,A.WQX)(A.SKi);_document=(0,A.WQX)(A.qQL);_styleLoader=(0,A.WQX)(Va);_renderer=(0,A.WQX)(c._9s).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new Ut.B7;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=(0,A.vPA)([]);_globalListeners;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new Ut.B7;pointerUp=new Ut.B7;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,lh)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._cleanupDocumentTouchmove?.()}startDragging(t,i){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(ch),this._activeDragInstances.update(n=>[...n,t]),1===this._activeDragInstances().length)){const n=i.type.startsWith("touch"),o=l=>this.pointerUp.next(l),a=[["scroll",l=>this._scroll.next(l),Ja],["selectstart",this._preventDefaultWhileDragging,lh]];n?a.push(["touchend",o,Ja],["touchcancel",o,Ja]):a.push(["mouseup",o,Ja]),n||a.push(["mousemove",l=>this.pointerMove.next(l),lh]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=a.map(([l,d,p])=>this._renderer.listen(this._document,l,d,p))})}}stopDragging(t){this._activeDragInstances.update(i=>{const n=i.indexOf(t);return n>-1?(i.splice(n,1),[...i]):i}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){const i=[this._scroll];return t&&t!==this._document&&i.push(new Dr.c(n=>this._ngZone.runOutsideAngular(()=>{const o=this._renderer.listen(t,"scroll",a=>{this._activeDragInstances().length&&n.next(a)},Ja);return()=>{o()}}))),ge(...i)}registerDirectiveNode(t,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,i)}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t)}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners?.forEach(t=>t()),this._globalListeners=void 0}static \u0275fac=function(i){return new(i||r)};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function ml(r){const e=r.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(r)*e}function Zc(r,e){return r.getPropertyValue(e).split(",").map(i=>i.trim())}const uh=new Set(["position"]);class fl{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView=null;_preview;get element(){return this._preview}constructor(e,t,i,n,o,a,l,d,p,b){this._document=e,this._rootElement=t,this._direction=i,this._initialDomRect=n,this._previewTemplate=o,this._previewClass=a,this._pickupPositionOnPage=l,this._initialTransform=d,this._zIndex=p,this._renderer=b}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),dh(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return function Nr(r){const e=getComputedStyle(r),t=Zc(e,"transition-property"),i=t.find(l=>"transform"===l||"all"===l);if(!i)return 0;const n=t.indexOf(i),o=Zc(e,"transition-duration"),a=Zc(e,"transition-delay");return ml(o[n])+ml(a[n])}(this._preview)}addEventListener(e,t){return this._renderer.listen(this._preview,e,t)}_createPreview(){const e=this._previewTemplate,t=this._previewClass,i=e?e.template:null;let n;if(i&&e){const o=e.matchSize?this._initialDomRect:null,a=e.viewContainer.createEmbeddedView(i,e.context);a.detectChanges(),n=sh(a,this._document),this._previewEmbeddedView=a,e.matchSize?Wm(n,o):n.style.transform=Xa(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else n=wo(this._rootElement),Wm(n,this._initialDomRect),this._initialTransform&&(n.style.transform=this._initialTransform);return Jc(n.style,{"pointer-events":"none",margin:dh(n)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},uh),To(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("popover","manual"),n.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>n.classList.add(o)):n.classList.add(t)),n}}function dh(r){return"showPopover"in r}const C_={passive:!0},yl={passive:!1},x_={passive:!1,capture:!0},Km="cdk-drag-placeholder",zm=new Set(["position"]);function Ym(r,e,t={dragStartThreshold:5,pointerDirectionChangeThreshold:5}){const i=r.get(c.sFG,null,{optional:!0})||r.get(c._9s).createRenderer(null,null);return new Xm(e,t,r.get(A.qQL),r.get(A.SKi),r.get(Ye),r.get(Eo),i)}class Xm{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview=null;_previewContainer;_placeholderRef=null;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=(0,A.vPA)(!1);_hasMoved=!1;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new Ut.B7;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement=null;_rootElementTapHighlight;_pointerMoveSubscription=Pe.y.EMPTY;_pointerUpSubscription=Pe.y.EMPTY;_scrollSubscription=Pe.y.EMPTY;_resizeSubscription=Pe.y.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef=null;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>To(t,e)))}_disabled=!1;beforeStarted=new Ut.B7;started=new Ut.B7;released=new Ut.B7;ended=new Ut.B7;entered=new Ut.B7;exited=new Ut.B7;dropped=new Ut.B7;moved=this._moveEvents;data;constrainPosition;constructor(e,t,i,n,o,a,l){this._config=t,this._document=i,this._ngZone=n,this._viewportRuler=o,this._dragDropRegistry=a,this._renderer=l,this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new oh(i),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>Rr(i)),this._handles.forEach(i=>To(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=Rr(e);if(t!==this._rootElement){this._removeRootElementListeners();const i=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[i.listen(t,"mousedown",this._pointerDown,yl),i.listen(t,"touchstart",this._pointerDown,C_),i.listen(t,"dragstart",this._nativeDragStart,yl)]),this._initialTransform=void 0,this._rootElement=t}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Rr(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&function ah(r,e){return e.left<r.left||e.left+e.width>r.right||e.top<r.top||e.top+e.height>r.bottom}(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){const e=this._boundaryElement.getBoundingClientRect(),t=this._rootElement.getBoundingClientRect();let i=0,n=0;t.left<e.left?i=e.left-t.left:t.right>e.right&&(i=e.right-t.right),t.top<e.top?n=e.top-t.top:t.bottom>e.bottom&&(n=e.bottom-t.bottom);let l=this._activeTransform.x+i,d=this._activeTransform.y+n;this._rootElement.style.transform=Xa(l,d),this._activeTransform={x:l,y:d},this._passiveTransform={x:l,y:d}}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),To(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),To(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){const t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)};_pointerMove=e=>{const t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){if(Math.abs(t.x-this._pickupPositionOnPage.x)+Math.abs(t.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const l=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),d=this._dropContainer;if(!l)return void this._endDragSequence(e);(!d||!d.isDragging()&&!d.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(e)))}return}e.cancelable&&e.preventDefault();const i=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,t);else{const n=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=i.x-n.x+this._passiveTransform.x,o.y=i.y-n.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:e,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=e=>{this._endDragSequence(e)};_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){va(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._getShadowRoot(),i=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(t,"selectstart",hh,x_)}),i){const n=this._rootElement,o=n.parentNode,a=this._placeholder=this._createPlaceholderElement(),l=this._marker=this._marker||this._document.createComment("");o.insertBefore(l,n),this._initialTransform=n.style.transform||"",this._preview=new fl(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,t)),Qc(n,!1,zm),this._document.body.appendChild(o.replaceChild(a,n)),this.started.next({source:this,event:e}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),n=va(t),o=!n&&0!==t.button,a=this._rootElement,l=vr(t),d=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),p=n?function yo(r){const e=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t):function ba(r){return 0===r.buttons||0===r.detail}(t);if(l&&l.draggable&&"mousedown"===t.type&&t.preventDefault(),i||o||d||p)return;if(this._handles.length){const F=a.style;this._rootElementTapHighlight=F.webkitTapHighlightColor||"",F.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(F=>this._updateOnScroll(F)),this._boundaryElement&&(this._boundaryRect=Xc(this._boundaryElement));const b=this._previewTemplate;this._pickupPositionInElement=b&&b.template&&!b.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,t);const T=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:T.x,y:T.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){Qc(this._rootElement,!0,zm),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),n=this._getPointerPositionOnPage(e),o=this._getDragDistance(n),a=t._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:o,dropPoint:n,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:o,dropPoint:n,event:e}),t.drop(this,i,this._initialIndex,this._initialContainer,a,o,n,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:n}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{const a=this._dropContainer.getItemIndex(this),l=this._dropContainer.getItemAtIndex(a+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(o,this._dropContainer,l),this._dropContainer=o,this._dropContainer.enter(this,e,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,n),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=this._preview.getTransitionDuration();return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const n=l=>{(!l||this._preview&&vr(l)===this._preview.element&&"transform"===l.propertyName)&&(a(),i(),clearTimeout(o))},o=setTimeout(n,1.5*t),a=this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=sh(this._placeholderRef,this._document)):i=wo(this._rootElement),i.style.pointerEvents="none",i.classList.add(Km),i}_getPointerPositionInElement(e,t,i){const n=t===this._rootElement?null:t,o=n?n.getBoundingClientRect():e,a=va(i)?i.targetTouches[0]:i,l=this._getViewportScrollPosition();return{x:o.left-e.left+(a.pageX-o.left-l.left),y:o.top-e.top+(a.pageY-o.top-l.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),i=va(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,n=i.pageX-t.left,o=i.pageY-t.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const l=this._ownerSVGElement.createSVGPoint();return l.x=n,l.y=o,l.matrixTransform(a.inverse())}}return{x:n,y:o}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:n}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if("x"===this.lockAxis||"x"===t?n=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:o,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,l=this._boundaryRect,{width:d,height:p}=this._getPreviewRect(),b=l.top+a,T=l.bottom-(p-a);i=ds(i,l.left+o,l.right-(d-o)),n=ds(n,b,T)}return{x:i,y:n}}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,n=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-o.x),l=Math.abs(i-o.y);return a>this._config.pointerDirectionChangeThreshold&&(n.x=t>o.x?1:-1,o.x=t),l>this._config.pointerDirectionChangeThreshold&&(n.y=i>o.y?1:-1,o.y=i),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,To(this._rootElement,e))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(e=>e()),this._rootElementCleanups=void 0}_applyRootElementTransform(e,t){const i=1/this.scale,n=Xa(e*i,t*i),o=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=o.transform&&"none"!=o.transform?o.transform:""),o.transform=gl(n,this._initialTransform)}_applyPreviewTransform(e,t){const i=this._previewTemplate?.template?void 0:this._initialTransform,n=Xa(e,t);this._preview.setTransform(gl(n,i))}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),n=this._boundaryElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===i.width&&0===i.height)return;const o=n.left-i.left,a=i.right-n.right,l=n.top-i.top,d=i.bottom-n.bottom;n.width>i.width?(o>0&&(e+=o),a>0&&(e-=a)):e=0,n.height>i.height?(l>0&&(t+=l),d>0&&(t-=d)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:va(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const i=vr(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Ya(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Bn(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const i=this._previewContainer||"global";if("parent"===i)return e;if("global"===i){const n=this._document;return t||n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body}return Rr(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=e=>{if(this._handles.length){const t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&e.preventDefault()}else this.disabled||e.preventDefault()};_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}_conditionallyInsertAnchor(e,t,i){if(e===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(t===this._initialContainer&&t.hasAnchor){const n=this._anchor??=wo(this._placeholder);n.classList.remove(Km),n.classList.add("cdk-drag-anchor"),n.style.transform="",i?i.before(n):Rr(t.element).appendChild(n)}}}function ds(r,e,t){return Math.max(e,Math.min(t,r))}function va(r){return"t"===r.type[0]}function hh(r){r.preventDefault()}function hs(r,e,t){const i=Qa(e,r.length-1),n=Qa(t,r.length-1);if(i===n)return;const o=r[i],a=n<i?-1:1;for(let l=i;l!==n;l+=a)r[l]=r[l+a];r[n]=o}function Qa(r,e){return Math.max(0,Math.min(e,r))}class Aa{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction="ltr";constructor(e){this._dragDropRegistry=e}_previousSwap={drag:null,delta:0,overlaps:!1};start(e){this.withItems(e)}sort(e,t,i,n){const o=this._itemPositions,a=this._getItemIndexFromPointerPosition(e,t,i,n);if(-1===a&&o.length>0)return null;const l="horizontal"===this.orientation,d=o.findIndex(se=>se.drag===e),p=o[a],T=p.clientRect,F=d>a?1:-1,U=this._getItemOffsetPx(o[d].clientRect,T,F),ee=this._getSiblingOffsetPx(d,o,F),Z=o.slice();return hs(o,d,a),o.forEach((se,ve)=>{if(Z[ve]===se)return;const Te=se.drag===e,Ke=Te?U:ee,et=Te?e.getPlaceholderElement():se.drag.getRootElement();se.offset+=Ke;const Je=Math.round(se.offset*(1/se.drag.scale));l?(et.style.transform=gl(`translate3d(${Je}px, 0, 0)`,se.initialTransform),Ya(se.clientRect,0,Ke)):(et.style.transform=gl(`translate3d(0, ${Je}px, 0)`,se.initialTransform),Ya(se.clientRect,Ke,0))}),this._previousSwap.overlaps=rh(T,t,i),this._previousSwap.drag=p.drag,this._previousSwap.delta=l?n.x:n.y,{previousIndex:d,currentIndex:a}}enter(e,t,i,n){const o=null==n||n<0?this._getItemIndexFromPointerPosition(e,t,i):n,a=this._activeDraggables,l=a.indexOf(e),d=e.getPlaceholderElement();let p=a[o];if(p===e&&(p=a[o+1]),!p&&(null==o||-1===o||o<a.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(p=a[0]),l>-1&&a.splice(l,1),p&&!this._dragDropRegistry.isDragging(p)){const b=p.getRootElement();b.parentElement.insertBefore(d,b),a.splice(o,0,e)}else this._element.appendChild(d),a.push(e);d.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{const t=e.getRootElement();if(t){const i=this._itemPositions.find(n=>n.drag===e)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return this._getVisualItemPositions().findIndex(t=>t.drag===e)}getItemAtIndex(e){return this._getVisualItemPositions()[e]?.drag||null}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:i})=>{Ya(i,e,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){const e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:Xc(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getVisualItemPositions(){return"horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(e,t,i){const n="horizontal"===this.orientation;let o=n?t.left-e.left:t.top-e.top;return-1===i&&(o+=n?t.width-e.width:t.height-e.height),o}_getSiblingOffsetPx(e,t,i){const n="horizontal"===this.orientation,o=t[e].clientRect,a=t[e+-1*i];let l=o[n?"width":"height"]*i;if(a){const d=n?"left":"top",p=n?"right":"bottom";-1===i?l-=a.clientRect[d]-o[p]:l+=o[d]-a.clientRect[p]}return l}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,n="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const a=i[i.length-1].clientRect;return n?e>=a.right:t>=a.bottom}{const a=i[0].clientRect;return n?e<=a.left:t<=a.top}}_getItemIndexFromPointerPosition(e,t,i,n){const o="horizontal"===this.orientation,a=this._itemPositions.findIndex(({drag:l,clientRect:d})=>l!==e&&((!n||l!==this._previousSwap.drag||!this._previousSwap.overlaps||(o?n.x:n.y)!==this._previousSwap.delta)&&(o?t>=Math.floor(d.left)&&t<Math.floor(d.right):i>=Math.floor(d.top)&&i<Math.floor(d.bottom))));return-1!==a&&this._sortPredicate(a,e)?a:-1}}class bl{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(e,t){this._document=e,this._dragDropRegistry=t}start(e){const t=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<t.length;i++){const n=t[i];this._relatedNodes.push([n,n.nextSibling])}this.withItems(e)}sort(e,t,i,n){const o=this._getItemIndexFromPointerPosition(e,t,i),a=this._previousSwap;if(-1===o||this._activeItems[o]===e)return null;const l=this._activeItems[o];if(a.drag===l&&a.overlaps&&a.deltaX===n.x&&a.deltaY===n.y)return null;const d=this.getItemIndex(e),p=e.getPlaceholderElement(),b=l.getRootElement();o>d?b.after(p):b.before(p),hs(this._activeItems,d,o);const T=this._getRootNode().elementFromPoint(t,i);return a.deltaX=n.x,a.deltaY=n.y,a.drag=l,a.overlaps=b===T||b.contains(T),{previousIndex:d,currentIndex:o}}enter(e,t,i,n){const o=this._activeItems.indexOf(e);o>-1&&this._activeItems.splice(o,1);let a=null==n||n<0?this._getItemIndexFromPointerPosition(e,t,i):n;-1===a&&(a=this._getClosestItemIndexToPointer(e,t,i));const l=this._activeItems[a];l&&!this._dragDropRegistry.isDragging(l)?(this._activeItems.splice(a,0,e),l.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){const e=this._element,t=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){const[n,o]=this._relatedNodes[i];n.parentNode===e&&n.nextSibling!==o&&(null===o?e.appendChild(n):o.parentNode===e&&e.insertBefore(n,o))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}getItemAtIndex(e){return this._activeItems[e]||null}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,t,i){const n=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(i)),o=n?this._activeItems.findIndex(a=>{const l=a.getRootElement();return n===l||l.contains(n)}):-1;return-1!==o&&this._sortPredicate(o,e)?o:-1}_getRootNode(){return this._rootNode||(this._rootNode=Bn(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,t,i){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let n=1/0,o=-1;for(let a=0;a<this._activeItems.length;a++){const l=this._activeItems[a];if(l!==e){const{x:d,y:p}=l.getRootElement().getBoundingClientRect(),b=Math.hypot(t-d,i-p);b<n&&(n=b,o=a)}}return o}}var zn=function(r){return r[r.NONE=0]="NONE",r[r.UP=1]="UP",r[r.DOWN=2]="DOWN",r}(zn||{}),In=function(r){return r[r.NONE=0]="NONE",r[r.LEFT=1]="LEFT",r[r.RIGHT=2]="RIGHT",r}(In||{});function tu(r,e){return new ph(e,r.get(Eo),r.get(A.qQL),r.get(A.SKi),r.get(Ye))}class ph{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new Ut.B7;entered=new Ut.B7;exited=new Ut.B7;dropped=new Ut.B7;sorted=new Ut.B7;receivingStarted=new Ut.B7;receivingStopped=new Ut.B7;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Pe.y.EMPTY;_verticalScrollDirection=zn.NONE;_horizontalScrollDirection=In.NONE;_scrollNode;_stopScrollTimers=new Ut.B7;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(e,t,i,n,o){this._dragDropRegistry=t,this._ngZone=n,this._viewportRuler=o;const a=this.element=Rr(e);this._document=i,this.withOrientation("vertical").withElementContainer(a),t.registerDropContainer(this),this._parentPositions=new oh(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,n){this._draggingStarted(),null==n&&this.sortingDisabled&&(n=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,i,n),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,n,o,a,l,d={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:n,isPointerOverContainer:o,distance:a,dropPoint:l,event:d})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(n=>n.isDragging()).every(n=>-1===e.indexOf(n))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof Aa&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if("mixed"===e)this._sortStrategy=new bl(this._document,this._dragDropRegistry);else{const t=new Aa(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,i)=>this.sortPredicate(t,i,this)),this}withScrollableParents(e){const t=this._container;return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;Rr(this.element);const i=this._scrollableElements.indexOf(this._container),n=this._scrollableElements.indexOf(e);return i>-1&&this._scrollableElements.splice(i,1),n>-1&&this._scrollableElements.splice(n,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}getItemAtIndex(e){return this._isDragging?this._sortStrategy.getItemAtIndex(e):this._draggables[e]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,n){if(this.sortingDisabled||!this._domRect||!Vm(this._domRect,.05,t,i))return;const o=this._sortStrategy.sort(e,t,i,n);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,n=zn.NONE,o=In.NONE;if(this._parentPositions.positions.forEach((a,l)=>{l===this._document||!a.clientRect||i||Vm(a.clientRect,.05,e,t)&&([n,o]=function ia(r,e,t,i,n){const o=vl(e,n),a=gh(e,i);let l=zn.NONE,d=In.NONE;if(o){const p=r.scrollTop;o===zn.UP?p>0&&(l=zn.UP):r.scrollHeight-p>r.clientHeight&&(l=zn.DOWN)}if(a){const p=r.scrollLeft;"rtl"===t?a===In.RIGHT?p<0&&(d=In.RIGHT):r.scrollWidth+p>r.clientWidth&&(d=In.LEFT):a===In.LEFT?p>0&&(d=In.LEFT):r.scrollWidth-p>r.clientWidth&&(d=In.RIGHT)}return[l,d]}(l,a.clientRect,this._direction,e,t),(n||o)&&(i=l))}),!n&&!o){const{width:a,height:l}=this._viewportRuler.getViewportSize(),d={width:a,height:l,top:0,right:a,bottom:l,left:0};n=vl(d,t),o=gh(d,e),i=window}i&&(n!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=n,this._horizontalScrollDirection=o,this._scrollNode=i,(n||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),function ct(r=0,e=Cr.b){return(!je(r)||r<0)&&(r=0),(!e||"function"!=typeof e.schedule)&&(e=Cr.b),new Dr.c(t=>(t.add(e.schedule(pt,r,{subscriber:t,counter:0,period:r})),t))}(0,un).pipe(An(this._stopScrollTimers)).subscribe(()=>{const e=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===zn.UP?e.scrollBy(0,-t):this._verticalScrollDirection===zn.DOWN&&e.scrollBy(0,t),this._horizontalScrollDirection===In.LEFT?e.scrollBy(-t,0):this._horizontalScrollDirection===In.RIGHT&&e.scrollBy(t,0)})};_isOverContainer(e,t){return null!=this._domRect&&rh(this._domRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(n=>n._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._domRect||!rh(this._domRect,t,i)||!this.enterPredicate(e,this))return!1;const n=this._getShadowRoot().elementFromPoint(t,i);return!!n&&(n===this._container||this._container.contains(n))}_startReceiving(e,t){const i=this._activeSiblings;!i.has(e)&&t.every(n=>this.enterPredicate(n,this)||this._draggables.indexOf(n)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=Bn(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function vl(r,e){const{top:t,bottom:i,height:n}=r,o=.05*n;return e>=t-o&&e<=t+o?zn.UP:e>=i-o&&e<=i+o?zn.DOWN:zn.NONE}function gh(r,e){const{left:t,right:i,width:n}=r,o=.05*n;return e>=t-o&&e<=t+o?In.LEFT:e>=i-o&&e<=i+o?In.RIGHT:In.NONE}let Al=(()=>{class r{_injector=(0,A.WQX)(A.zZn);constructor(){}createDrag(t,i){return Ym(this._injector,t,i)}createDropList(t){return tu(this._injector,t)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const xo=new A.nKC("CDK_DRAG_PARENT"),ps=new A.nKC("CdkDragHandle"),nu=new A.nKC("CDK_DRAG_CONFIG"),Qm=new A.nKC("CdkDropList");let gs=(()=>{class r{element=(0,A.WQX)(c.aKT);dropContainer=(0,A.WQX)(Qm,{optional:!0,skipSelf:!0});_ngZone=(0,A.WQX)(A.SKi);_viewContainerRef=(0,A.WQX)(c.c1b);_dir=(0,A.WQX)(th,{optional:!0});_changeDetectorRef=(0,A.WQX)(te.gRc);_selfHandle=(0,A.WQX)(ps,{optional:!0,self:!0});_parentDrag=(0,A.WQX)(xo,{optional:!0,skipSelf:!0});_dragDropRegistry=(0,A.WQX)(Eo);_destroyed=new Ut.B7;_handles=new Yi.t([]);_previewTemplate=null;_placeholderTemplate=null;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!(!this.dropContainer||!this.dropContainer.disabled)}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}_disabled=!1;constrainPosition;previewClass;previewContainer;scale=1;started=new A.bkB;released=new A.bkB;ended=new A.bkB;entered=new A.bkB;exited=new A.bkB;dropped=new A.bkB;moved=new Dr.c(t=>{const i=this._dragRef.moved.pipe((0,dl.T)(n=>({source:this,pointerPosition:n.pointerPosition,event:n.event,delta:n.delta,distance:n.distance}))).subscribe(t);return()=>{i.unsubscribe()}});_injector=(0,A.WQX)(A.zZn);constructor(){const t=this.dropContainer,i=(0,A.WQX)(nu,{optional:!0});this._dragRef=Ym(this._injector,this.element,{dragStartThreshold:i&&null!=i.dragStartThreshold?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&null!=i.pointerDirectionChangeThreshold?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),t&&(t.addItem(this),t._dropListRef.beforeStarted.pipe(An(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){(0,c.mal)(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){const i=t.rootElementSelector,n=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){const i=this._handles.getValue();i.push(t),this._handles.next(i)}_removeHandle(t){const i=this._handles.getValue(),n=i.indexOf(t);n>-1&&(i.splice(n,1),this._handles.next(i))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const t=this.element.nativeElement;let i=t;this.rootElementSelector&&(i=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):Rr(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const i=this._dir,n=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay="object"==typeof n&&n?n:cl(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe(function ss(r){return e=>0===r?function bt(r){return r?function os(r){return new Dr.c(e=>r.schedule(()=>e.complete()))}(r):$m}():e.lift(new zc(r))}(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){const n=this._dragDropRegistry.getDragDirectiveForNode(i);if(n){t.withParent(n._dragRef);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){const{lockAxis:i,dragStartDelay:n,constrainPosition:o,previewClass:a,boundaryElement:l,draggingDisabled:d,rootElementSelector:p,previewContainer:b}=t;this.disabled=d??!1,this.dragStartDelay=n||0,this.lockAxis=i||null,o&&(this.constrainPosition=o),a&&(this.previewClass=a),l&&(this.boundaryElement=l),p&&(this.rootElementSelector=p),b&&(this.previewContainer=b)}_setupHandlesListener(){this._handles.pipe(function ls(r,e,t){return function(n){return n.lift(new Gm(r,e,t))}}(t=>{const i=t.map(n=>n.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),(0,Yc.n)(t=>ge(...t.map(i=>i._stateChanges.pipe(jm(i))))),An(this._destroyed)).subscribe(t=>{const i=this._dragRef,n=t.element.nativeElement;t.disabled?i.disableHandle(n):i.enableHandle(n)})}static \u0275fac=function(i){return new(i||r)};static \u0275dir=c.FsC({type:r,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,n){2&i&&c.AVh("cdk-drag-disabled",n.disabled)("cdk-drag-dragging",n._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",te.L39],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",te.Udg]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[c.Jv_([{provide:xo,useExisting:r}]),c.OA$]})}return r})();const mh=new A.nKC("CdkDropListGroup");let ru=(()=>{class r{element=(0,A.WQX)(c.aKT);_changeDetectorRef=(0,A.WQX)(te.gRc);_scrollDispatcher=(0,A.WQX)(k);_dir=(0,A.WQX)(th,{optional:!0});_group=(0,A.WQX)(mh,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new Ut.B7;_scrollableParentsResolved=!1;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation="vertical";id=(0,A.WQX)(ta).getId("cdk-drop-list-");lockAxis=null;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}_disabled=!1;sortingDisabled=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled=!1;autoScrollStep;elementContainerSelector=null;hasAnchor=!1;dropped=new A.bkB;entered=new A.bkB;exited=new A.bkB;sorted=new A.bkB;_unsortedItems=new Set;constructor(){const t=(0,A.WQX)(nu,{optional:!0}),i=(0,A.WQX)(A.zZn);this._dropListRef=tu(i,this.element),this._dropListRef.data=this,t&&this._assignDefaults(t),this._dropListRef.enterPredicate=(n,o)=>this.enterPredicate(n.data,o.data),this._dropListRef.sortPredicate=(n,o,a)=>this.sortPredicate(n,o.data,a.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),r._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(t){this._unsortedItems.add(t),t._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef))}removeItem(t){if(this._unsortedItems.delete(t),this._latestSortedRefs){const i=this._latestSortedRefs.indexOf(t._dragRef);i>-1&&(this._latestSortedRefs.splice(i,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=r._dropLists.indexOf(this);t>-1&&r._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(jm(this._dir.value),An(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{const i=function ih(r){return Array.isArray(r)?r:[r]}(this.connectedTo).map(n=>"string"==typeof n?r._dropLists.find(a=>a.id===n):n);if(this._group&&this._group._items.forEach(n=>{-1===i.indexOf(n)&&i.push(n)}),!this._scrollableParentsResolved){const n=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(n),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){const n=this.element.nativeElement.querySelector(this.elementContainerSelector);t.withElementContainer(n)}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=cl(this.autoScrollStep,2),t.hasAnchor=this.hasAnchor,t.connectedTo(i.filter(n=>n&&n!==this).map(n=>n._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef)),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),ge(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:i,draggingDisabled:n,sortingDisabled:o,listAutoScrollDisabled:a,listOrientation:l}=t;this.disabled=n??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=a??!1,this.orientation=l||"vertical",this.lockAxis=i||null}_syncItemsWithRef(t){this._latestSortedRefs=t,this._dropListRef.withItems(t)}static \u0275fac=function(i){return new(i||r)};static \u0275dir=c.FsC({type:r,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,n){2&i&&(c.BMQ("id",n.id),c.AVh("cdk-drop-list-disabled",n.disabled)("cdk-drop-list-dragging",n._dropListRef.isDragging())("cdk-drop-list-receiving",n._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",te.L39],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",te.L39],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",te.L39],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",te.L39]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[c.Jv_([{provide:mh,useValue:void 0},{provide:Qm,useExisting:r}])]})}return r})(),na=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=c.$C({type:r});static \u0275inj=A.G2t({providers:[Al],imports:[ul]})}return r})();function hn(r,e){return r.player===e?r.opponent:r.player}const tf=(r,e)=>{e.createLog({message:`${r.name} fainted.`,type:"death",player:r.parent,sourcePet:r})},ms=(r,e)=>{r.seenDead=!0,r.setFaintEventIfPresent(),tf(r,e)};var su=w(6080);const fs=function I_(r){return(0,su.A)(r,4)},rf={setEnabled:()=>{},isEnabled:()=>!1,setDeferDecorations:()=>{},isDeferDecorations:()=>!0,setShowTriggerNamesInLogs:()=>{},isShowTriggerNamesInLogs:()=>!1,setDebugSummonBoardStateLogs:()=>{},isDebugSummonBoardStateLogs:()=>!1,decorateLogIfNeeded:()=>{},createLog:()=>{},getLogs:()=>[],reset:()=>{},printState:()=>{}};function nr(r){return r??rf}function ys(r){let t=nr(r.logService);Object.defineProperty(r,"logService",{configurable:!0,enumerable:!0,get:()=>t,set:i=>{t=nr(i)}})}class Fe{equipmentClass;name;tier;power;originalPower;uses;originalUses;callback;attackCallback;multiplier=1;multiplierMessage="";baseMultiplier=1;minimumDamage;hasRandomEvents=!1;triggers;constructor(){ys(this),this.originalPower=this.power,this.baseMultiplier=this.multiplier}reset(){this.uses=this.originalUses}}function Pl(r){return 1===r?0:2===r?2:5}function kl(r){return Pl(r)}class C{name;owner;_triggers=[];get triggers(){return this._triggers}set triggers(e){this._triggers=e}abilityType;maxUses;currentUses;initialCurrentUses;abilityLevel;precondition;condition;abilityFunction;native;ignoreRepeats;alwaysIgnorePetLevel;constructor(e){ys(this),this.name=e.name,this.owner=e.owner,this.triggers=e.triggers,this.abilityType=e.abilityType,this.maxUses=e.maxUses??-1;const t=e.initialCurrentUses??("Pet"===e.abilityType?e.owner.triggersConsumed:0);this.initialCurrentUses=t,this.currentUses=t,this.abilityLevel=e.abilitylevel??1,this.precondition=e.precondition,this.condition=e.condition,this.abilityFunction=e.abilityFunction,this.native=e.native??!0,this.ignoreRepeats=e.ignoreRepeats??!1,this.alwaysIgnorePetLevel=e.alwaysIgnorePetLevel??!1}canUse(){return!(this.maxUses>0&&this.currentUses>=this.maxUses)}execute(e,t,i,n,o){if(this.owner.removed&&!this.matchesTrigger("PostRemovalFaint")||!this.owner.abilityValidCheck())return!1;try{const a={gameApi:e,triggerPet:t,tiger:i,pteranodon:n,...o??{}};return!(this.precondition&&!this.precondition(a)||this.condition&&!this.condition(a)||(this.currentUses++,"Pet"===this.abilityType&&(this.owner.triggersConsumed=Math.max(this.owner.triggersConsumed,this.currentUses)),this.abilityFunction(a),0))}catch(a){return console.error(`Error executing ability ${this.name||"unnamed"}:`,a),!1}}tigerCheck(e,t){if(this.ignoreRepeats||"Pet"!=this.abilityType)return!1;const i=t??this.owner.petBehind(!0,!0);return!(!i||!i.hasTrigger(void 0,void 0,"TigerAbility")||null!=e&&0!=e)}triggerTigerExecution(e){const t=e.tigerSupportPet??this.owner.petBehind(!0,!0);if(!this.tigerCheck(e.tiger,t)||!this.canUse())return;let i=this.abilityLevel,n=this.alwaysIgnorePetLevel;this.abilityLevel=t.level,this.alwaysIgnorePetLevel=!0;const{gameApi:o,triggerPet:a,tiger:l,pteranodon:d,...p}=e;this.execute(o,a,!0,d,p),this.abilityLevel=i,this.alwaysIgnorePetLevel=n}reset(){this.currentUses=0}initUses(){this.currentUses=this.initialCurrentUses}copy(e){return null}matchesTrigger(e){return this.triggers.includes(e)}get level(){return this.alwaysIgnorePetLevel?this.abilityLevel:this.owner.level}get minExpForLevel(){return kl(this.level)}}class Ah extends Fe{logService;name="Onion";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _h(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _h extends C{equipment;logService;constructor(e,t,i){super({name:"OnionAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} pushed itself to the back. (Onion)`,type:"equipment",player:t.parent}),t.parent.pushPetToBack(t),t.parent.pushPetsForward(),t.removePerk()}}const Pa=(r,e,t)=>{switch(e){case 0:r.pet0=t;break;case 1:r.pet1=t;break;case 2:r.pet2=t;break;case 3:r.pet3=t;break;case 4:r.pet4=t}},af=(r,e,t)=>{try{r.setPet(e,t)}catch{Pa(r,e,void 0)}},Sh=r=>{const e=fs(r.petArray);for(let t=0;t<=4;t++)af(r,t,e[t])},bs=(r,e)=>{const t=((r,e)=>{for(let t=e-1;t>=0;t--)if(null==r.getPet(t))return t;return null})(r,e);if(null==t)return!1;for(let i=t;i<e;i++)Pa(r,i,r.getPet(i+1));return!0},S=(r,e)=>{const t=((r,e)=>{for(let t=e+1;t<=4;t++)if(null==r.getPet(t))return t;return null})(r,e);if(null==t)return!1;for(let i=t;i>e;i--)Pa(r,i,r.getPet(i-1));return!0},L=(r,e)=>{5!==r.petArray.length?bs(r,e)||S(r,e):console.warn("No room to Make Room")},V=(r,e,t=1,i,n,o)=>{if("Brussels Sprout"===e?.equipment?.name)return n.createLog({message:`${e.name} blocked being pushed. (Brussels Sprout)`,type:"equipment",player:e.parent}),void e.removePerk();const a=e.position;let l;if(Pa(e.parent,a,void 0),t>0&&(l=Math.max(a-t,0),null!=r.getPet(l)&&(bs(r,l)||S(r,l)),r.setPet(l,e)),t<0&&(l=Math.min(a-t,4),null!=r.getPet(l)&&(S(r,l)||bs(r,l)),r.setPet(l,e)),i?(e.jumped=!0,o.triggerJumpEvents(e)):o.triggerPushedEvents(e),null==r.pet0)o.triggerEmptyFrontSpaceEvents(r),o.executeEmptyFrontSpaceEvents(),o.triggerEmptyFrontSpaceToyEvents(r),o.executeEmptyFrontSpaceToyEvents();else for(const d of r.petArray)d.clearFrontTriggered=!1};function Le(r){let t,e=r.length;for(;0!==e;)t=Math.floor(Math.random()*e),e--,[r[e],r[t]]=[r[t],r[e]];return r}function we(r,e){const t=Math.ceil(r),i=Math.floor(e);return Math.floor(Math.random()*(i-t+1))+t}function Zt(){return Math.random()}const Et=r=>{const e=r.equipment;return"string"==typeof e?"Silly"===e:!(!e||"string"!=typeof e.name)&&"Silly"===e.name},Hi=(r,e)=>{const t=[];for(const i of r.petArray)i.alive&&("perk"===e?i.equipment&&!i.equipment.equipmentClass?.startsWith("ailment")&&t.push(i):i.equipment?.name===e&&t.push(i));return t},cu=(r,e)=>{for(const t of r.petArray)if(t.position===e)return t;return null};function vs(r,e){return`${r}::${e}`}let uu=null;function e1(r,e){const t=(r??"").trim();return t.length>0?t:`option-${e+1}`}function $t(r,e){const t=r.options.map((T,F)=>({id:e1(T?.id,F),label:T?.label??T?.id??`Option ${F+1}`}));if(0===t.length)return{index:-1,randomEvent:!1,forced:!1};if(1===t.length)return{index:0,randomEvent:!1,forced:!1};const i=uu,o=!!i&&(i.capture||i.overridesByIndex.size>0||i.overridesByFingerprint.size>0),a=i?.decisions.length??-1,l=vs(r.key,r.label),d=i&&a>=0?i.overridesByFingerprint.get(l)??i.overridesByIndex.get(a)??null:null;let p=e(),b=!1;if(d){const T=t.findIndex(F=>F.id===d);if(T>=0)p=T,b=!0;else if(i&&i.strictValidation){const F=`Random override invalid at step ${a+1}: "${d}" not found for ${r.label}.`;throw i.invalidOverrideError=F,new Error(F)}}return(p<0||p>=t.length)&&(p=Math.max(0,Math.min(t.length-1,p))),o&&i&&i.decisions.push({index:a,key:r.key,label:r.label,options:t,selectedOptionId:t[p]?.id??null,forced:b}),{index:p,randomEvent:!0,forced:b}}const As=(r,e,t,i,n,o,a,l)=>{if(n&&Et(n)){const b=0===$t({key:"summon.silly-target-team",label:"Silly summon target team",options:[{id:"player",label:"Player team"},{id:"opponent",label:"Opponent team"}]},()=>we(0,1)).index?r:r.opponent,F=$t({key:"summon.silly-position",label:"Silly summon position",options:[0,1,2,3,4].map(ee=>({id:`slot-${ee+1}`,label:`Slot ${ee+1}`}))},()=>we(0,4)).index;return e.parent=b,{success:As(b,e,F,i,void 0,o,a,l).success,randomEvent:!0}}return t<0||t>4?(i||o.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:r}),{success:!1,randomEvent:!1}):i&&null!=r.getPet(t)?{success:!1,randomEvent:!1}:5===r.petArray.length?(i||o.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:r}),{success:!1,randomEvent:!1}):(r===l.gameApi.player?l.gameApi.playerSummonedAmount++:l.gameApi.opponentSummonedAmount++,0===t&&(null!=r.pet0&&L(r,0),r.setPet(0,e)),1===t&&(null!=r.pet1&&L(r,1),r.setPet(1,e)),2===t&&(null!=r.pet2&&L(r,2),r.setPet(2,e)),3===t&&(null!=r.pet3&&L(r,3),r.setPet(3,e)),4===t&&(null!=r.pet4&&L(r,4),r.setPet(4,e)),a.triggerSummonEvents(e),{success:!0,randomEvent:!1})};function a1(r){return r?`${r.parent?.isOpponent?"O":"P"}${Number.isFinite(r.savedPosition)?r.savedPosition+1:0} ${r.name}`:"unknown caller"}function $2(r){const e=r.some(i=>!i.parent?.isOpponent),t=r.some(i=>i.parent?.isOpponent);return e&&t?"both teams":t?"opponent team":"player team"}function o1(r,e,t,i){if(0===t.length)return{pet:null,random:!1};const n=$t({key:r,label:`${a1(i)} -> ${e} (${$2(t)}, ${t.length} options)`,options:t.map(o=>function r1(r){const e=r.parent?.isOpponent?"opponent":"player",t=r.parent?.isOpponent?"O":"P",i=Number.isFinite(r.savedPosition)?r.savedPosition+1:0;return{id:`${e}:${i}:${r.name}`,label:`${t}${i} ${r.name}`}}(o))},()=>we(0,t.length-1));return{pet:t[n.index]??null,random:n.randomEvent}}const Tl=(r,e,t,i,n,o,a)=>{if(o&&Et(o)){const d=e?[...e]:[];return d.includes(o)||d.push(o),lr(r,d,!0)}let l=a?[...r.opponent.petArray,...r.petArray]:r.petArray;if(t&&i){const d=Hi(r,"Donut").filter(b=>!e?.includes(b)),p=Hi(r,"Blueberry").filter(b=>!e?.includes(b));(d.length>0||p.length>0)&&(l=[...d,...p])}else if(t){const d=Hi(r,"Donut").filter(p=>!e?.includes(p));d.length>0&&(l=d),n&&(l=l.filter(p=>50!==p.health||50!==p.attack||p.hasTrigger(void 0,"Pet","BehemothAbility")||p.hasTrigger(void 0,"Pet","GiantTortoiseAbility")),0===l.length&&(l=r.petArray))}else if(i){const d=Hi(r,"Blueberry").filter(p=>!e?.includes(p));d.length>0&&(l=d)}if(l=l.filter(d=>{let p=!0;return e&&(p=!e.includes(d)),p&&d.health>0}),n){const d=fs(l);l=l.filter(p=>50!==p.health||50!==p.attack),0===l.length&&(l=d)}return 0===l.length?{pet:null,random:!1}:o1("target.random-pet","Random pet target",l,o)},El=(r,e,t,i,n,o,a)=>{if(o&&Et(o)){const b=t?[...t]:[];return b.includes(o)||b.push(o),Fr(r,e,!0,b)}const l=[],d=t??[];let p=!0;for(let b=0;b<e;b++){const T=Tl(r,d,i,n,void 0,o,a);if(p=T.random,null==T.pet)break;d.push(T.pet),l.push(T.pet)}return{pets:l,random:p}},Fr=(r,e,t=!1,i)=>{const n=[],o=i?[...i]:[],l=(d=>{let p=[...r.petArray,...r.opponent.petArray];if(!t){const b=Hi(r,"Donut").filter(ee=>!d?.includes(ee)),T=Hi(r,"Blueberry").filter(ee=>!d?.includes(ee)),F=Hi(r.opponent,"Donut").filter(ee=>!d?.includes(ee)),U=Hi(r.opponent,"Blueberry").filter(ee=>!d?.includes(ee));(b.length>0||T.length>0||F.length>0||U.length>0)&&(p=[...b,...T,...F,...U])}return p.filter(b=>{let T=!0;return d&&(T=!d.includes(b)),T&&b.health>0})})(o).length;for(let d=0;d<e;d++){const p=lr(r,o,t);if(null==p.pet)break;o.push(p.pet),n.push(p.pet)}return{pets:n,random:l>n.length}},lr=(r,e,t=!1)=>{let i=[...r.opponent.petArray,...r.petArray];if(!t){const n=Hi(r,"Donut").filter(d=>!e?.includes(d)),o=Hi(r,"Blueberry").filter(d=>!e?.includes(d)),a=Hi(r.opponent,"Donut").filter(d=>!e?.includes(d)),l=Hi(r.opponent,"Blueberry").filter(d=>!e?.includes(d));(n.length>0||o.length>0||a.length>0||l.length>0)&&(i=[...a,...l,...n,...o])}return i=i.filter(n=>{let o=!0;return e&&(o=!e.includes(n)),o&&n.health>0}),0===i.length?{pet:null,random:!1}:o1("target.random-living-pet","Random living pet target",i,void 0)};var O_=w(4528),H2=Math.floor,j2=Math.random;const $_=function B_(r,e){return r+H2(j2()*(e-r+1))},G_=function q2(r,e){var t=-1,i=r.length,n=i-1;for(e=void 0===e?i:e;++t<e;){var o=$_(t,n),a=r[o];r[o]=r[t],r[t]=a}return r.length=e,r},g1=function H_(r){return G_((0,O_.A)(r))},j_=function cf(r,e){for(var t=-1,i=null==r?0:r.length,n=Array(i);++t<i;)n[t]=e(r[t],t,r);return n};var q_=w(4429);const f1=function U_(r){return null==r?[]:function m1(r,e){return j_(e,function(t){return r[t]})}(r,(0,q_.A)(r))},b1=function y1(r){return G_(f1(r))};var Do=w(3744);const Io=function V_(r){return((0,Do.A)(r)?g1:b1)(r)};function A1(r){return r?`${r.parent?.isOpponent?"O":"P"}${Number.isFinite(r.savedPosition)?r.savedPosition+1:0} ${r.name}`:"unknown caller"}function gi(r){const e=r.some(i=>!i.parent?.isOpponent),t=r.some(i=>i.parent?.isOpponent);return e&&t?"both teams":t?"opponent team":"player team"}function Mo(r,e,t,i){if(0===t.length)return{pet:null,random:!1};const n=$t({key:r,label:`${A1(i)} -> ${e} (${gi(t)}, ${t.length} options)`,options:t.map(o=>function v1(r){const e=r.parent?.isOpponent?"opponent":"player",t=r.parent?.isOpponent?"O":"P",i=Number.isFinite(r.savedPosition)?r.savedPosition+1:0;return{id:`${e}:${i}:${r.name}`,label:`${t}${i} ${r.name}`}}(o))},()=>we(0,t.length-1));return{pet:t[n.index]??null,random:n.randomEvent}}function aa(r){return!(!r||!Et(r))}function xl(r,e){return[...r.petArray].filter(t=>t.alive&&(!e||!e.includes(t)))}function _s(r,e,t,i){let n=[];for(const o of r){if(o===i||!o.alive)continue;if(0===n.length){n=[o];continue}const a=e(o),l=e(n[0]);a!==l?("max"===t?a>l:a<l)&&(n=[o]):n.push(o)}return n}function du(r,e,t,i){if(0===r.length)return{pets:[],random:!1};const n=Io(r);n.sort(t);const o=n.slice(0,e);let a=!1;return o.length===e&&n.length>e&&i(o[e-1])===i(n[e])&&(a=!0),{pets:o,random:a}}class Th{asPlayerLike(){return this}getRandomPet(e,t,i,n,o,a){return Tl(this.asPlayerLike(),e,t,i,n,o,a)}getRandomPets(e,t,i,n,o,a){return El(this.asPlayerLike(),e,t,i,n,o,a)}getRandomEnemyPetsWithSillyFallback(e,t,i,n,o){return((r,e,t,i,n,o)=>{if(o&&Et(o)){const a=t?[...t]:[];return a.includes(o)||a.push(o),El(r,e,a,i,n,void 0,!0)}return El(r.opponent,e,t,i,n,o)})(this.asPlayerLike(),e,t,i,n,o)}getPetsWithEquipmentWithSillyFallback(e,t){return((r,e,t)=>t&&Et(t)?[...Hi(r,e),...Hi(r.opponent,e)]:Hi(r.opponent,e))(this.asPlayerLike(),e,t)}getRandomLivingPets(e){return Fr(this.asPlayerLike(),e)}getAll(e,t,i){return((r,e,t,i)=>{if(t&&Et(t))return{pets:[...r.petArray,...r.opponent.petArray].filter(a=>a.alive),random:!1};let n=e?[...r.petArray,...r.opponent.petArray]:[...r.petArray];return i&&(n=n.filter(o=>o!==t)),n=n.filter(o=>o.alive),{pets:n,random:!1}})(this.asPlayerLike(),e,t,i)}getPetsWithEquipment(e){return Hi(this.asPlayerLike(),e)}getPetsWithoutEquipment(e){return((r,e)=>{const t=[];for(const i of r.petArray)i.alive&&("Perk"===e?(!i.equipment||i.equipment.name.startsWith("ailment"))&&t.push(i):(!i.equipment||i.equipment.name!==e)&&t.push(i));return t})(this.asPlayerLike(),e)}getPetAtPosition(e){return cu(this.asPlayerLike(),e)}getMiddleFriend(e){return((r,e)=>{if(e&&Et(e))return lr(r,[e],!0);const t=r.getPet(2);return t&&!t.alive?{pet:null,random:!1}:{pet:t??null,random:!1}})(this.asPlayerLike(),e)}getLastPet(e,t){return((r,e,t)=>{if(t&&Et(t))return lr(r,[t],!0);for(const i of[...r.petArray].reverse())if(i.alive&&(!e||!e.includes(i)))return{pet:i,random:!1};return{pet:null,random:!1}})(this.asPlayerLike(),e,t)}getLastPets(e,t,i){return((r,e,t,i)=>{if(i&&Et(i))return Fr(r,e,!0,[i]);const n=[...r.petArray].filter(l=>l.alive&&(!t||!t.includes(l)));return 0===n.length?{pets:[],random:!1}:{pets:[...n].reverse().slice(0,e),random:!1}})(this.asPlayerLike(),e,t,i)}getHighestHealthPet(e,t){return((r,e,t)=>{if(aa(t))return lr(r,[t],!0);const i=_s(r.petArray,n=>n.health,"max",e);return 0===i.length?{pet:null,random:!1}:Mo("target.highest-health","Highest health tie-break",i,t)})(this.asPlayerLike(),e,t)}getHighestAttackPet(e,t){return((r,e,t)=>aa(t)?lr(r,[t],!0):Mo("target.highest-attack","Highest attack tie-break",_s(r.petArray,n=>n.attack,"max",e),t))(this.asPlayerLike(),e,t)}getHighestAttackPets(e,t,i){return((r,e,t,i)=>aa(i)?Fr(r,e,!0,[i]):du(xl(r,t),e,(n,o)=>o.attack-n.attack,n=>n.attack))(this.asPlayerLike(),e,t,i)}getLowestAttackPets(e,t,i){return((r,e,t,i)=>aa(i)?Fr(r,e,!0,[i]):du(xl(r,t),e,(n,o)=>n.attack-o.attack,n=>n.attack))(this.asPlayerLike(),e,t,i)}getLowestAttackPet(e,t){return((r,e,t)=>aa(t)?lr(r,[t],!0):Mo("target.lowest-attack","Lowest attack tie-break",_s(r.petArray,n=>n.attack,"min",e),t))(this.asPlayerLike(),e,t)}getLowestHealthPet(e,t){return((r,e,t)=>aa(t)?lr(r,[t],!0):Mo("target.lowest-health","Lowest health tie-break",_s(r.petArray,n=>n.health,"min",e),t))(this.asPlayerLike(),e,t)}getLowestHealthPets(e,t,i){return((r,e,t,i)=>aa(i)?Fr(r,e,!0,[i]):du(xl(r,t),e,(n,o)=>n.health-o.health,n=>n.health))(this.asPlayerLike(),e,t,i)}getHighestHealthPets(e,t,i){return((r,e,t,i)=>aa(i)?Fr(r,e,!0,[i]):du(xl(r,t),e,(n,o)=>o.health-n.health,n=>n.health))(this.asPlayerLike(),e,t,i)}getHighestTierPets(e,t,i){return((r,e,t,i)=>aa(i)?Fr(r,e,!0,[i]):du(xl(r,t),e,(n,o)=>o.tier-n.tier,n=>n.tier))(this.asPlayerLike(),e,t,i)}getTierXOrLowerPet(e,t,i){return((r,e,t,i)=>{if(aa(i))return lr(r,[i],!0);const n=[...r.petArray].filter(o=>o.alive&&o.tier<=e&&(!t||!t.includes(o)));return 0===n.length?{pet:null,random:!1}:Mo("target.tier-x-or-lower",`Tier ${e} or lower target`,n,i)})(this.asPlayerLike(),e,t,i)}get furthestUpPet(){for(const e of this.petArray)if(e.alive)return e;return null}getFurthestUpPet(e,t){return((r,e,t)=>{if(e&&Et(e))return lr(r,[e],!0);for(const i of r.petArray)if(i.alive){if(t&&t.includes(i))continue;return{pet:i,random:!1}}return{pet:null,random:!1}})(this.asPlayerLike(),e,t)}getFurthestUpPets(e,t,i){return((r,e,t,i)=>{if(i&&Et(i))return Fr(r,e,!0,[i]);const n=[...r.petArray].filter(a=>a.alive&&(!t||!t.includes(a)));return 0===n.length?{pets:[],random:!1}:{pets:n.slice(0,e),random:!1}})(this.asPlayerLike(),e,t,i)}nearestPetsBehind(e,t,i){return((r,e,t,i)=>{if(t&&Et(t)){const l=i?[...i]:[];return l.includes(t)||l.push(t),Fr(r,e,!0,l)}return{pets:t.getPetsBehind(2*e).filter(l=>!i||!i.includes(l)).slice(0,e),random:!1}})(this.asPlayerLike(),e,t,i)}getThis(e){return((r,e)=>e&&Et(e)?lr(r,[e],!0):{pet:e,random:!1})(this.asPlayerLike(),e)}getSpecificPet(e,t){return((r,e,t)=>e&&Et(e)?lr(r,void 0,!0):t&&t.alive?{pet:t,random:!1}:{pet:null,random:!1})(this.asPlayerLike(),e,t)}nearestPetsAhead(e,t,i,n,o){return((r,e,t,i,n,o)=>{if(t&&Et(t)){const d=i?[...i]:[];return d.includes(t)||d.push(t),Fr(r,e,!0,d)}const a=[];let l=t.petAhead;for(;l&&!(a.length>=e);)o&&l.equipment?.name===o||(!i||!i.includes(l))&&a.push(l),l=l.petAhead;if(a.length<e&&n){let d=r.opponent.furthestUpPet;for(;d&&!(a.length>=e);)o&&d.equipment?.name===o||(!i||!i.includes(d))&&a.push(d),d=d.petBehind()}return{pets:a,random:!1}})(this.asPlayerLike(),e,t,i,n,o)}getStrongestPet(e){return((r,e)=>{if(aa(e))return lr(r,[e],!0);let t=[],i=-1;const n=Io(r.petArray.filter(o=>o.alive));for(const o of n){const a=o.attack+o.health;a>i?(i=a,t=[o]):a===i&&t.push(o)}return 0===t.length?{pet:null,random:!1}:Mo("target.strongest-pet","Strongest pet tie-break",t,e)})(this.asPlayerLike(),e)}getManticoreMult(){return(r=>{const e=[];for(const t of r.petArray)if(t.hasTrigger(void 0,"Pet","ManticoreAbility"))for(const i of t.abilityList)"ManticoreAbility"===i.name&&e.push(i.level);return e})(this.asPlayerLike())}getPetsWithinXSpaces(e,t){return((r,e,t)=>{if(e&&Et(e))return Fr(r,2*t,!0,[e]);const i=e.savedPosition,n=[];for(const o of r.petArray)if(o.alive&&o!==e){const a=Math.abs(o.position-i);a>0&&a<=t&&n.push(o)}for(const o of r.opponent.petArray)o.alive&&i+o.position+1<=t&&n.push(o);return{pets:n,random:!1}})(this.asPlayerLike(),e,t)}getOppositeEnemyPet(e){return((r,e)=>{if(e&&Et(e))return lr(r,[e],!0);const t=e.position;let i=cu(r.opponent,t);if(i&&i.alive)return{pet:i,random:!1};for(let n=1;n<=4;n++){if(i=cu(r.opponent,t+n),i&&i.alive)return{pet:i,random:!1};if(i=cu(r.opponent,t-n),i&&i.alive)return{pet:i,random:!1}}return{pet:null,random:!1}})(this.asPlayerLike(),e)}getRandomLivingPet(e){return lr(this.asPlayerLike(),e)}}class Dl extends Th{pushPetToFront(e,t=!1){((r,e,t)=>{V(this,e,4,t,this.logService,this.abilityService)})(0,e,t)}pushPetToBack(e){((r,e)=>{V(this,e,-4,!1,this.logService,this.abilityService)})(0,e)}pushPet(e,t=1,i){V(this,e,t,i,this.logService,this.abilityService)}}class Eh extends Fe{name="Dazed";equipmentClass="ailment-other"}class Il extends Fe{name="Crisp";equipmentClass="ailment-other"}class Ch extends Fe{name="Toasty";equipmentClass="ailment-other";uses=1;originalUses=1}const z_=[{name:"FairyAbility",label:"FairyBall",perLevel:2},{name:"NurikabeAbility",label:"Nurikabe",perLevel:4,incrementUses:!0},{name:"FanMusselAbility",label:"Fan Mussel",perLevel:1,incrementUses:!0},{name:"GhostKittenAbility",label:"Ghost Kitten",perLevel:3}];class Y_{static applyDamage(e){const{pet:t,baseDamage:i,perkName:n,manticoreMultipliers:o,logService:a,afterDamage:l}=e,d=t.equipment;if(!d)return;let p=d.multiplier;for(let ee of o)p+=ee;const T=this.applyAbilityReductions(t,i*p),F=T.damage,U=this.buildLogMessage({pet:t,finalDamage:F,equipment:d,perkName:n,reductions:T.reductions,manticoreMultipliers:o});a.createLog({message:U,type:"ability",player:t.parent}),t.dealDamage(t,F),l&&l(t)}static applyAbilityReductions(e,t){let i=t;const n=[];for(const o of z_){if(i<=0)break;if(!e.hasTrigger(void 0,"Pet",o.name))continue;let a=0;for(const l of e.abilityList){if(l.name!==o.name)continue;const d=l.level*o.perLevel;0!==d&&(a+=d,i=Math.max(0,i-d),o.incrementUses&&l.currentUses++)}a>0&&n.push({label:o.label,amount:a})}return{damage:i,reductions:n}}static buildLogMessage(e){let t=`${e.pet.name} took ${e.finalDamage} damage`;if(e.manticoreMultipliers.length>0)for(const i of e.manticoreMultipliers)t+=` x${i+1} (Manticore)`;e.equipment.multiplier>1&&(t+=e.equipment.multiplierMessage);for(const i of e.reductions)t+=` -${i.amount} (${i.label})`;return t+=` (${e.perkName}).`,t}}class pu extends Fe{name="Peanut";tier=7;equipmentClass="attack";power=0}class gu extends Fe{name="Peanut Butter";equipmentClass="attack";tier=7;power=0;uses=1;originalUses=1}class Ro extends Fe{logService;name="White Truffle";equipmentClass="faint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new gf(e,t,this.logService))};constructor(e){super(),this.logService=e}}class gf extends C{equipment;logService;constructor(e,t,i){super({name:"WhiteTruffleAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const{tiger:t}=e,i=this.owner,n=4*this.equipment.multiplier;i.increaseAttack(n),this.logService.createLog({message:`${i.name} gained ${n} attack (White Truffle)${this.equipment.multiplierMessage}`,type:"equipment",player:i.parent});for(let o=0;o<this.equipment.multiplier;o++){let a=i.parent.opponent.getHighestAttackPet(void 0,i);a.pet&&(i.jumpAttackPrep(a.pet),i.jumpAttack(a.pet,t,null,a.random))}i.removePerk()}}class Ps extends Fe{name="Salt";tier=4;equipmentClass="attack";uses=1;originalUses=1}class xh extends Fe{name="Cheese";equipmentClass="attack";uses=1;originalUses=1}class _n extends Fe{name="Fortune Cookie";equipmentClass="attack";constructor(){super()}}class Dh extends Fe{name="Pepper";equipmentClass="shield";uses=1;originalUses=1;power=0;originalPower=0}class Ih extends Fe{name="Sleepy";equipmentClass="ailment-other"}class mu extends Fe{name="Maple Syrup";tier=4;equipmentClass="shield";power=0;originalPower=0;uses=3;originalUses=3}class Mh extends Fe{name="Maple Syrup (Attack)";equipmentClass="attack";power=0;originalPower=0}class mf extends Fe{name="Guava";tier=3;equipmentClass="shield";power=3;originalPower=3;uses=1;originalUses=1}class ff extends Fe{name="Guava (Attack)";equipmentClass="attack";power=3;originalPower=3}class X_ extends Fe{name="Honeydew Melon";tier=5;equipmentClass="shield";power=10;originalPower=10;uses=1;originalUses=1}class J_ extends Fe{name="Honeydew Melon (Attack)";equipmentClass="attack";power=5;originalPower=5}function Q_(r,e,t,i){if(!e||!i.includes(e))return r;let n=r;for(const o of t)n+=o;return n}function fu(r,e,t){if("Icky"!==e?.name)return r;let i=2;for(const n of t)i+=n;return i+=(e.multiplier??1)-1,r*i}function yf(r,e,t){const i=t?.includeGhostKitten??!1,n=t?.fairyMinimumOne??!1,o=t?.fairyRequiresPositiveDamage??!0,a=t?.nurikabeConsumesOnZeroHit??!1,l=t?.fanMusselConsumesOnZeroHit??!1;let d=e,p=0,b=0,T=0,F=0;const U=!o||d>0;if(r.hasTrigger(void 0,"Pet","FairyAbility")&&U){for(const se of r.abilityList)if("FairyAbility"==se.name){const ve=2*se.level;p+=ve,d=Math.max(0,d-ve)}n&&d<1&&(d=1)}if(r.hasTrigger(void 0,"Pet","NurikabeAbility")&&(d>0||a&&e<=0))for(const se of r.abilityList)if("NurikabeAbility"==se.name){const ve=4*se.level;b+=ve,d>0&&(d=Math.max(0,d-ve)),se.currentUses++}if(r.hasTrigger(void 0,"Pet","FanMusselAbility")&&(d>0||l&&e<=0))for(const se of r.abilityList)if("FanMusselAbility"==se.name){const ve=se.level;T+=ve,d>0&&(d=Math.max(0,d-ve)),se.currentUses++}if(i&&r.hasTrigger(void 0,"Pet","GhostKittenAbility")&&d>0)for(const se of r.abilityList)if("GhostKittenAbility"==se.name){const ve=3*se.level;F+=ve,d=Math.max(0,d-ve)}return{damage:d,fairyBallReduction:p,nurikabe:b,fanMusselReduction:T,ghostKittenReduction:F}}function bf(r,e,t,i,n=!1){let o=r.equipment?.multiplier??1,a=e.equipment?.multiplier??1;const l=["Cold","Weak","Spooked"],d=["Inked"];let b,T,p="defense"==e.equipment?.equipmentClass||"shield"==e.equipment?.equipmentClass||"ailment-defense"==e.equipment?.equipmentClass||n&&"shield-snipe"==e.equipment?.equipmentClass?e.equipment:null;if(null!=p)if("Strawberry"===p.name){const Ie=e.getSparrowLevel();Ie<=0||null!=p.uses&&p.uses<=0?p=null:p.power=5*Ie}else a=Q_(a,p?.name??"",t,l),p.power=(p.originalPower??p.power??0)*a;if(n)b="attack-snipe"==r.equipment?.equipmentClass?r.equipment:null,T=(i??0)+(b?.power??0),p instanceof mu&&(p=null);else{b=r.equipment instanceof X_?new J_:r.equipment instanceof mu?new Mh:r.equipment instanceof mf?new ff:"attack"==r.equipment?.equipmentClass||"ailment-attack"==r.equipment?.equipmentClass?r.equipment:null,null!=b&&(o=Q_(o,b?.name??"",t,d),b.power=(b.originalPower??b.power??0)*o);let Ie=r.attack;"Monty"==r.name&&(Ie*=r.level+1),T=(i??Ie)+(b?.power??0)}let F=p?.power??0,U=e.getSparrowLevel();"Strawberry"===e.equipment?.name&&U>0&&(F+=5*U),e.equipment instanceof mu&&e.equipment.uses>0&&!n&&(T=Math.floor(T*Math.pow(.5,a))),b instanceof Ps&&!n&&(T*=2+o-1),b instanceof Mh&&!n&&(T=Math.floor(T*Math.pow(.5,o)));let Z=!1;b instanceof _n&&!n&&0===$t({key:"equipment.fortune-cookie",label:"Fortune Cookie outcome",options:[{id:"double-damage",label:"Double damage"},{id:"no-bonus",label:"No bonus"}]},()=>we(0,1)).index&&(T*=2+o-1,Z=!0),b instanceof xh&&!n&&(T=Math.max(15,T)),T=fu(T,e.equipment,t);let ve,se="shield"==p?.equipmentClass||"shield-snipe"==p?.equipmentClass?0:1;void 0!==p?.minimumDamage&&(se=p.minimumDamage),ve=T<=se&&F>0?Math.max(T,0):Math.max(se,T-F),"Inked"===r.equipment?.name&&ve>0&&(ve=Math.max(0,ve-3)),p instanceof Dh&&(ve=Math.min(ve,e.health-1));const Te=yf(e,ve,{includeGhostKitten:n,fairyMinimumOne:!0,fairyRequiresPositiveDamage:!1,nurikabeConsumesOnZeroHit:!0,fanMusselConsumesOnZeroHit:!0});return ve=Te.damage,{defenseEquipment:p,attackEquipment:b,damage:ve,fortuneCookie:Z,nurikabe:Te.nurikabe,fairyBallReduction:Te.fairyBallReduction,fanMusselReduction:Te.fanMusselReduction,mapleSyrupReduction:0,ghostKittenReduction:Te.ghostKittenReduction}}const S1=["Weak","Cold","Icky","Spooked"];function yu(r,e){if("Icky"!=e.equipment?.name)return r;let t=`${r}x2 (Icky)`;return e.equipment.multiplier>1&&(t+=e.equipment.multiplierMessage),t}function Rh(r,e,t){const i=e.getManticoreMult();if(0===i.length||!S1.includes(t.equipment?.name??""))return r;let o=r;for(const a of i)o+=` x${a+1} (Manticore)`;return o}function vf(r,e,t){let i=r;return e.nurikabe>0&&(i+=` -${e.nurikabe} (Nurikabe)`),(e.fairyBallReduction??0)>0&&(i+=` -${e.fairyBallReduction} (Fairy Ball)`),(e.fanMusselReduction??0)>0&&(i+=` -${e.fanMusselReduction} (Fan Mussel)`),(e.ghostKittenReduction??0)>0&&(i+=` -${e.ghostKittenReduction} (Ghost Kitten)`),t&&(e.mapleSyrupReduction??0)>0&&(i+=` -${e.mapleSyrupReduction} (Maple Syrup)`),i}function Rl(r,e,t){if(e.alive){if(t>=e.health&&"Bok Choy"==e.equipment?.name){let i=4*e.equipment.multiplier;r.createLog({message:`${e.name} gained ${i} health (Bok Choy) ${e.equipment.multiplierMessage} `,type:"equipment",player:e.parent}),e.increaseHealth(i),e.removePerk()}e.health-=t,e.health<=0&&(e.killedBy=r),t>0&&e.timesHurt++,e.health<1&&r.triggerKillEventsFor(e),t>0&&r.triggerHurtEventsFor(e,t)}}class Lh extends Fe{name="Ambrosia";tier=4;equipmentClass="shield";power=8;originalPower=8;uses=1;originalUses=1}class ks extends Fe{name="White Okra";tier=6;equipmentClass="shield";power=10;originalPower=10;uses=2;originalUses=2}class ws extends Fe{logService;name="Strawberry";equipmentClass="shield";tier=1;uses=2;originalUses=2;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new eS(e,t,this.logService))};constructor(e){super(),this.logService=e}}class eS extends C{equipment;logService;constructor(e,t,i){super({name:"StrawberryAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:t.originalUses,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner,i=t.parent.getLastPet();if(i.pet){const n=1*this.equipment.multiplier;this.logService.createLog({message:`${t.name} (Strawberry) gave ${i.pet.name} +${n} attack and +${n} health${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent,randomEvent:i.random}),i.pet.increaseAttack(n),i.pet.increaseHealth(n)}}}class tS extends Fe{name="Blackberry";tier=3;equipmentClass="shop";constructor(){super()}}class w1{setAbilityEquipments(){"Eggplant"==this.equipment?.name?(this.equipment.callback(this.asPet()),this.eggplantTouched=!0):this.equipment?.callback&&this.equipment.callback(this.asPet())}getEquippedEquipmentInstance(e){return this.equipment??e}addAbility(e){this.abilityList.push(e)}removeAbility(e,t){const i=this.abilityList.length;return this.abilityList=this.abilityList.filter(n=>!(e&&n.name===e||t&&n.abilityType===t||!e&&!t)),this.abilityList.length<i}getAbilities(e,t){return this.abilityList.filter(i=>!(e&&!i.matchesTrigger(e)||t&&i.abilityType!==t))}getAbilitiesWithTrigger(e,t,i){return this.abilityList.filter(n=>!(e&&!n.matchesTrigger(e)||!n.canUse()||t&&n.abilityType!==t||i&&n.name!==i))}executeAbilities(e,t,i,n,o,a){if(this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(e,t,i,n,o,a);const l=this.getAbilitiesWithTrigger(e,"Pet");for(const p of l)if(p.execute(t,i,n,o,a),this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(e,t,i,n,o,a);const d=this.getAbilitiesWithTrigger(e,"Equipment");for(const p of d)if(p.execute(t,i,n,o,a),this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(e,t,i,n,o,a)}activateAbilities(e,t,i,n,o){const a=this.getAbilities(e,i);for(const l of a)l.execute(t,n,void 0,void 0,o)}copyAbilities(e,t,i){this.transferAbilities(e,t,i,!0)}gainAbilities(e,t,i){this.transferAbilities(e,t,i,!1)}transferAbilities(e,t,i,n){const o=e.getAbilities(void 0,t);n&&this.removeAbility(void 0,t);for(const a of o){const l=a.copy(this.asPet());if(null==l)continue;i&&(l.abilityLevel=i,l.alwaysIgnorePetLevel=!0,l.reset()),l.native=!1;const d=l.abilityFunction,p=e.name;l.abilityFunction=b=>{const T=this.name;this.name=`${this.baseName??T}'s ${p}`;try{d(b)}finally{this.name=T}},this.addAbility(l)}}hasAbility(e,t){return this.getAbilities(e,t).length>0}hasTrigger(e,t,i){return this.getAbilitiesWithTrigger(e,t,i).length>0}isSellPet(){return!!(["Beaver","Duck","Pig","Pillbug","Kiwi","Mouse","Frog","Bass","Tooth Billed Pigeon","Marmoset","Capybara","Platypus"].includes(this.name)||this.originalAbilityList.filter(t=>t.matchesTrigger("ThisSold")&&"Pet"==t.abilityType).length>0)}isFaintPet(){return this.originalAbilityList.filter(e=>(e.matchesTrigger("PostRemovalFaint")||e.matchesTrigger("Faint"))&&"Pet"==e.abilityType).length>0}asPet(){return this}}class T1 extends w1{givePetEquipment(e,t=1){if(null!=e){if(this.alive){if("Bloated"===this.equipment?.name&&!e.equipmentClass?.startsWith("ailment"))return this.logService.createLog({message:`${this.name} blocked gaining ${e.name}. (Bloated)`,type:"equipment",player:this.parent}),void this.removePerk();if(!this.handleCorncobEquipment(e))if("ailment-attack"==e.equipmentClass||"ailment-defense"==e.equipmentClass||"ailment-other"==e.equipmentClass){if(this.applyAilmentEquipment(e,t))return}else this.applyStandardEquipment(e,t)}}else console.warn(`givePetEquipment called with null equipment for pet: ${this.name}`)}applyEquipment(e,t=1){null!=e&&(this.equipment=e,this.setEquipmentMultiplier(t),this.removeAbility(void 0,"Equipment"),this.equipment.callback&&this.equipment.callback(this.asPet()))}removePerk(e=!1){if(null==this.equipment)return;let t="ailment-attack"==this.equipment.equipmentClass||"ailment-defense"==this.equipment.equipmentClass||"ailment-other"==this.equipment.equipmentClass;e&&t||(this.lastLostEquipment=this.equipment,this.removeAbility(void 0,"Equipment"),this.equipment=null,t||this.abilityService.triggerPerkLossEvents(this.asPet(),this.lastLostEquipment?.name))}setEquipmentMultiplier(e=1){if(!this.equipment)return;let t=this.equipment.baseMultiplier??1;const i=this.equipment.multiplier??1;1===t&&1!==i&&(t=i),this.equipment.baseMultiplier=t;let n=t,o=[];const a=this.getPantherEquipmentMultiplierLevel();a>0&&"ailment-attack"!==this.equipment.equipmentClass&&"ailment-defense"!==this.equipment.equipmentClass&&"ailment-other"!==this.equipment.equipmentClass&&(n+=a,o.push(`x${a+1} (Panther)`)),e&&e>1&&(n+=e-1,o.push(`x${e} (Pandora's Box)`)),this.equipment.multiplier=n,this.equipment.multiplierMessage=o.length>0?` ${o.join(" ")}`:""}getPantherEquipmentMultiplierLevel(){const e=this.abilityList.filter(t=>"PantherAbility"===t.name).map(t=>Number(t.abilityLevel)).filter(t=>Number.isFinite(t)&&t>0);return 0===e.length?0:Math.max(...e)}handleCorncobEquipment(e){if("Corncob"!==e.name)return!1;const i=Math.max(1,Math.floor(e.effectMultiplier??1));return this.attack<=this.health?this.increaseAttack(i):this.increaseHealth(i),this.abilityService.triggerFoodEvents(this.asPet(),"corn"),!0}applyAilmentEquipment(e,t){return!(this.equipment?.name!==e.name&&(this.equipment instanceof Lh?(this.equipment.uses--,this.logService.createLog({message:`${this.name} blocked ${e.name}. (Ambrosia)`,type:"equipment",player:this.parent}),0==this.equipment.uses&&this.removePerk(),0):this.equipment instanceof ks?(this.logService.createLog({message:`${this.name} blocked ${e.name}. (White Okra)`,type:"equipment",player:this.parent}),this.removePerk(),0):this.equipment instanceof ws&&this.getSparrowLevel()>0&&this.equipment.uses>0?(this.logService.createLog({message:`${this.name} blocked ${e.name}. (Strawberry)`,type:"equipment",player:this.parent}),this.removePerk(),0):(null!=this.equipment&&this.removePerk(!0),this.applyEquipment(e,t),this.abilityService.triggerAilmentGainEvents(this.asPet(),e.name),0)))}applyStandardEquipment(e,t){if(e instanceof tS){this.applyEquipment(e,t);const i=1*e.multiplier,n=2*e.multiplier;this.increaseAttack(i),this.increaseHealth(n),this.logService.createLog({message:`${this.name} gained ${i} attack and ${n} health (Blackberry)${e.multiplierMessage}`,type:"equipment",player:this.parent})}else this.applyEquipment(e,t);this.abilityService.triggerPerkGainEvents(this.asPet(),e.name),this.abilityService.triggerFoodEvents(this.asPet(),e.name)}}class Af extends T1{petBehind(e=!1,t=!1){if(!this.parent)return null;for(let n=(void 0!==this.position?this.position:this.savedPosition)+1;n<5;n++){let o=this.parent.getPetAtPosition(n);if(t&&null!=o)return o;if(e&&null!=o&&!o.alive&&!o.seenDead)return null;if(null!=o&&o.alive)return o}return null}getManticoreMult(){const e=this.parent;if(!e||!e.petArray)return[];let t=[];for(let i of e.petArray)"Manticore"==i.name&&t.push(i.level);return t}getSparrowLevel(){const e=this.parent;if(!e||!Array.isArray(e.petArray))return 0;let t=0;for(let i of e.petArray)"Sparrow"==i.name&&(t=Math.max(t,i.level));return t}getPetsBehind(e,t){const i=this.getSillyRandomTargets(e,t);if(i.length>0)return i;let n=[],o=this.petBehind();for(t&&o&&o.equipment?.name===t&&(o=o.petBehind());o&&!(n.length>=e);)n.push(o),o=o.petBehind();return n}kitsuneCheck(){let e=this.petBehind(),t=!0;for(;e;){if("Kitsune"==e.name&&t)return!1;if(t=!1,"Kitsune"==e.name)return!0;e=e.petBehind()}return!1}get petAhead(){const e=this.parent;if(!e)return null;for(let i=(void 0!==this.position?this.position:this.savedPosition)-1;i>-1;i--){let n=e.getPetAtPosition(i);if(null!=n&&n.alive)return n}return null}get minExpForLevel(){return kl(this.level)}getSillyRandomTargets(e,t){if(!this.parent?.opponent)return[];const i=this.equipment;if(!("string"==typeof i&&"Silly"===i||i&&"string"==typeof i.name&&"Silly"===i.name))return[];const a=[],l=[...[...this.parent.petArray,...this.parent.opponent.petArray].filter(d=>!(!d.alive||d===this.asPet()||t&&d.equipment?.name===t))];for(;a.length<e&&l.length>0;){const d=we(0,l.length-1);a.push(l.splice(d,1)[0])}return a}}class iS extends Af{initAbilities(){this.initAbilityUses(),this.setAbilityEquipments()}abilityValidCheck(){return!(null==this.savedPosition||this.equipment instanceof Eh&&(this.logService.createLog({message:`${this.name}'s ability was not activated because of Dazed.`,type:"ability",player:this.parent}),1))}resetAbilityUses(){this.abilityList.forEach(e=>{e.reset()})}initAbilityUses(){this.abilityList.forEach(e=>{e.initUses()})}attackPet(e,t=!1,i,n=!1){!function Ml(r,e,t=!1,i,n=!1){r.timesAttacked++;let o=bf(r,e,r.getManticoreMult(),i),a=o.attackEquipment,l=o.defenseEquipment,d=o.damage;const p=r.equipment instanceof Ih;p&&(d=Math.floor(d/2));let F,b=r.equipment?.multiplier??1,T=e.equipment?.multiplier??1;if(r.currentTarget=e,t?(F=`${r.name} jump-attacks ${e.name} for ${d}.`,r.equipment instanceof Ro&&(F+=" (White Truffle)")):F=`${r.name} attacks ${e.name} for ${d}.`,p&&(F+=" (Sleepy x0.5)"),a instanceof pu&&d>0)r.createLog({message:`${F} (Peanut)`,type:"attack",player:r.parent,sourcePet:r,targetPet:e,randomEvent:n}),Rl(r,e,d),e.killedBy=r,e.health=0;else if(a instanceof gu&&d>0&&a.uses>0)r.createLog({message:`${F} (Peanut Butter)`,type:"attack",player:r.parent,sourcePet:r,targetPet:e,randomEvent:n}),e.killedBy=r,Rl(r,e,d),e.health=0;else{if(Rl(r,e,d),null!=a){const Z=a.power??0;let ve="-";Z>0&&(ve="+");let Te=`${ve}${Math.abs(Z)}`;a instanceof Ps&&(Te="x2"),a instanceof Mh&&(Te="x0.5"),a instanceof xh&&(Te=d<=15?"=15":"+0"),a instanceof _n&&(n=!0,o.fortuneCookie?(Te="x2",a.multiplier>1&&(Te+=a.multiplierMessage)):Te="x1"),F+=` (${a.name} ${Te})`,b>1&&r.equipment&&(F+=r.equipment.multiplierMessage)}if(null!=l){const Z=l.power??0;let se=Math.abs(Z),ve="-";if(Z<0&&(ve="+"),"Coconut"===l.name)F+=` (${l.name} block)`;else if("Strawberry"===l.name){let Te=e.getSparrowLevel();Te>0&&(se=5*Te,F+=` (Strawberry -${se} (Sparrow))`)}else l instanceof Dh?(ve=1==e.health?"!":"-",se="",F+=` (${l.name} ${ve}${se})`):l instanceof mu?(se="x0.5",F+=` (${l.name} ${se})`):F+=` (${l.name} ${ve}${se})`;T>1&&e.equipment&&(F+=e.equipment.multiplierMessage)}F=yu(F,e),F=vf(F,o,!0),F=Rh(F,r,e),r.createLog({message:F,type:"attack",player:r.parent,sourcePet:r,targetPet:e,randomEvent:n}),("skewer"==r.equipment?.equipmentClass?r.equipment:null)?.attackCallback?.(r,e)}p&&r.removePerk(),r.triggerAttackEventsFor(),r.applyCrisp();const U=r.parent.opponent?.petArray?.[0];U&&U.applyCrisp()}(this.asPet(),e,t,i,n)}applyCrisp(){const e=this.parent,t=e?.opponent;if(!e||!t)return;const i=t.getManticoreMult();for(let n of e.petArray)n.equipment instanceof Il?Y_.applyDamage({pet:n,baseDamage:6,perkName:"Crisp",manticoreMultipliers:i,logService:this.logService,afterDamage:o=>o.removePerk()}):n.equipment instanceof Ch&&n.equipment.uses>0&&Y_.applyDamage({pet:n,baseDamage:1,perkName:"Toasty",manticoreMultipliers:i,logService:this.logService,afterDamage:o=>{o.equipment.uses--,o.equipment.uses<=0&&o.removePerk()}})}snipePet(e,t,i,n,o,a,l,d,p){return function Z_(r,e,t,i,n,o,a,l,d="sniped",p){let b=!1;"Albatross"==r.petAhead?.name&&e.tier<=4&&(t+=3*r.petAhead.level,b=!0),"Albatross"==r.petBehind()?.name&&e.tier<=4&&(t+=3*r.petBehind().level,b=!0);let T=bf(r,e,r.getManticoreMult(),t,!0),F=T.attackEquipment,U=T.defenseEquipment,ee=T.damage;"Kiwano"===r.equipment?.name&&ee>0&&(ee+=8,r.createLog({message:`${r.name} added +8 damage. (Kiwano)`,type:"equipment",player:r.parent}),r.removePerk()),Rl(r,e,ee);let Z=`${r.name} ${d} ${e.name} for ${ee}.`;if(null!=p&&null!=r.equipment?.multiplier&&r.equipment.multiplier>1&&(Z+=` (${p}*${r.equipment.multiplier})`),null!=U){e.useDefenseEquipment(!0);const se=U.power??0;let ve=Math.abs(se),Te="-";if(se<0&&(Te="+"),"Coconut"===U.name)Z+=` (${U.name} block)`;else if("Strawberry"===U.name){let Ke=e.getSparrowLevel();Ke>0&&(ve=5*Ke,Z+=` (Strawberry -${ve} (Sparrow))`)}else Z+=` (${U.name} ${Te}${ve})`;Z+=U.multiplierMessage}if(null!=F&&"attack-snipe"==F.equipmentClass){const se=F.power??0;let ve=Math.abs(se),Te="-";se>0&&(Te="+"),Z+=` (${F.name} ${Te}${ve})`}return r.equipment?.multiplier&&r.equipment.multiplier>1&&(Z+=r.equipment.multiplierMessage),n&&(Z+=" (Tiger)"),b&&(Z+=" (Albatross)"),a&&r.equipment&&(Z+=` (${r.equipment.name})`),l&&(Z+=" (Mana)"),Z=yu(Z,e),Z=Rh(Z,r,e),Z=vf(Z,T,!1),r.createLog({message:Z,type:"attack",randomEvent:i,player:r.parent,sourcePet:r,targetPet:e,pteranodon:o}),null!=F&&"attack-snipe"==F.equipmentClass&&null!=r.equipment?.uses&&(r.equipment.uses-=1,r.equipment.uses<=0&&r.removePerk()),ee}(this.asPet(),e,t,i,n,o,a,l,d,p)}calculateDamage(e,t,i,n=!1){return bf(this.asPet(),e,t,i,n)}resetPet(){!function k1(r){r.health=r.originalHealth,r.attack=r.originalAttack,r.equipment=r.originalEquipment,r.lastLostEquipment=null,r.mana=r.originalMana,r.triggersConsumed=r.originalTriggersConsumed,r.foodsEaten=r.originalFoodsEaten,r.exp=r.originalExp,r.timesHurt=r.originalTimesHurt,r.timesAttacked=0,r.abilityCounter=0,r.transformed=!1,r.transformedInto=null,r.currentTarget=null,r.lastAttacker=null,r.killedBy=null,r.swallowedPets=[],r.targettedFriends.clear(),r.savedPosition=r.originalSavedPosition,r.abilityList=[...r.originalAbilityList],r.initAbilityUses(),r.done=!1,r.seenDead=!1,r.removed=!1,r.jumped=!1,r.clearFrontTriggered=!1;try{r.equipment?.reset()}catch(e){console.warn("equipment reset failed",r.equipment),console.error(e)}r.equipment&&(r.equipment.multiplier=r.equipment.baseMultiplier??1,r.equipment.multiplierMessage="")}(this.asPet())}jumpAttackPrep(e){this.abilityService.triggerBeforeAttackEvent(this),this.abilityService.triggerBeforeAttackEvent(e),this.abilityService.executeBeforeAttackTriggerOnly()}jumpAttack(e,t,i,n=!1){!function P1(r,e,t,i,n=!1){let o;e.lastAttacker=r,o=r.transformed?r.transformedInto??r:r,e.transformed&&(e=e.transformedInto??e),o.alive&&e.alive&&(o.attackPet(e,!0,i,n),e.attackPet(o),o.useAttackDefenseEquipment(),e.useAttackDefenseEquipment(),o.executeAfterAttackEvents(),o.triggerJumpEventsFor())}(this.asPet(),e,0,i,n)}get alive(){return this.health>0}setFaintEventIfPresent(){if(this.abilityService.triggerFaintEvents(this),this.mana>0){if(this.suppressManaSnipeOnFaint)return;this.abilityService.setManaEvent({priority:this.attack,callback:(e,t,i,n)=>{if(0==this.mana||this.kitsuneCheck())return;const a=this.parent.opponent.getRandomPet([],!1,!0,!1,this.asPet());null!=a.pet&&(this.snipePet(a.pet,this.mana,a.random,!1,!1,!1,!0),this.mana=0)},pet:this,triggerPet:this,tieBreaker:Zt()})}}useDefenseEquipment(e=!1){this.canConsumeDefenseEquipment(e)&&(this.equipment.uses-=1,this.equipment.uses<=0&&this.removePerk())}useAttackDefenseEquipment(){this.canConsumeAttackDefenseEquipment()&&(this.equipment.uses-=1,this.equipment.uses<=0&&this.removePerk())}increaseAttack(e){let t=50;if("Behemoth"==this.name&&(t=100),e>0&&"Sad"===this.equipment?.name||!this.alive)return 0;const i=this.attack;return this.attack=Math.min(Math.max(this.attack+e,1),t),this.attack-i}increaseHealth(e){let t=50;if(("Behemoth"==this.name||"Giant Tortoise"==this.name)&&(t=100),e>0&&"Sad"===this.equipment?.name||!this.alive)return 0;const i=this.health;return this.health=Math.min(Math.max(this.health+e,1),t),this.abilityService.triggerFriendGainsHealthEvents(this),this.health-i}increaseSellValue(e){e<=0||(this.sellValue+=e)}dealDamage(e,t){t>0&&"Kiwano"===this.equipment?.name&&(t+=8,this.logService.createLog({message:`${this.name} added +8 damage. (Kiwano)`,type:"equipment",player:this.parent}),this.removePerk()),Rl(this.asPet(),e,t)}triggerHurtEventsFor(e,t){this.abilityService.triggerHurtEvents(e,t)}triggerKillEventsFor(e){this.abilityService.triggerKillEvents(this,e)}triggerAttackEventsFor(){this.abilityService.triggerAttacksEvents(this)}executeAfterAttackEvents(){this.abilityService.executeAfterAttackEvents()}triggerJumpEventsFor(){this.abilityService.triggerJumpEvents(this)}createLog(e){this.logService.createLog(e)}increaseExp(e){let t=this.level;this.increaseAttack(e),this.increaseHealth(e),this.exp=Math.min(this.exp+e,5);let i=this.level-t;i>0&&(this.baseSellValue+=i,this.sellValue+=i);for(let n=0;n<i;n++)this.logService.createLog({message:`${this.name} leveled up to level ${this.level}.`,type:"ability",player:this.parent}),this.abilityService.triggerLevelUpEvents(this),this.abilityService.executeFriendlyLevelUpToyEvents(),this.resetAbilityUses();for(let n=0;n<Math.min(e,5);n++)this.abilityService.triggerFriendGainedExperienceEvents(this)}increaseMana(e){this.mana+=e,this.mana=Math.min(this.mana,50),this.abilityService.triggerManaGainedEvents(this)}get level(){return this.exp<2?1:this.exp<5?2:3}get position(){const e=this.parent;return e?this.asPet()==e.pet0?0:this.asPet()==e.pet1?1:this.asPet()==e.pet2?2:this.asPet()==e.pet3?3:this.asPet()==e.pet4?4:this.savedPosition:this.savedPosition}canConsumeDefenseEquipment(e){return!(!this.equipment||"ailment-defense"!=this.equipment.equipmentClass&&"Icky"!=this.equipment.name&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&e&&"shield-snipe"!=this.equipment.equipmentClass||null==this.equipment.uses||"Strawberry"===this.equipment.name&&(this.getSparrowLevel()<=0||this.equipment.uses<=0))}canConsumeAttackDefenseEquipment(){return!(!this.equipment||null==this.equipment.uses||"Strawberry"===this.equipment.name&&(this.getSparrowLevel()<=0||this.equipment.uses<=0)||"attack"!=this.equipment.equipmentClass&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&"snipe"!=this.equipment.equipmentClass&&"ailment-attack"!=this.equipment.equipmentClass&&"ailment-defense"!=this.equipment.equipmentClass&&"Icky"!=this.equipment.name||(isNaN(this.equipment.uses)&&console.warn("uses is NaN",this.equipment),0))}}class D extends iS{logService;abilityService;name;baseName;tier;pack;hidden=!1;parent;health;attack;exp=0;equipment;equipmentUsesOverride;mana=0;suppressManaSnipeOnFaint=!1;triggersConsumed=0;foodsEaten=0;sellValue=1;baseSellValue=1;swallowedPets=[];belugaSwallowedPet=null;parrotCopyPet=null;parrotCopyPetBelugaSwallowedPet=null;sarcasticFringeheadSwallowedPet;friendsDiedBeforeBattle=0;timesHurt=0;timesAttacked=0;battlesFought=0;currentTarget;lastAttacker;killedBy;transformedInto=null;lastLostEquipment;abilityCounter=0;targettedFriends=new Set;originalHealth;originalAttack;originalMana;originalTriggersConsumed;originalFoodsEaten;originalEquipment;originalExp=0;originalTimesHurt=0;faintPet=!1;toyPet=!1;transformed=!1;removed=!1;startOfBattleTriggered=!1;jumped=!1;done=!1;seenDead=!1;eggplantTouched=!1;cherryTouched=!1;clearFrontTriggered=!1;maxAbilityUses=null;abilityList=[];originalAbilityList=[];savedPosition;originalSavedPosition;hasRandomEvents=!1;constructor(e,t,i){super(),this.logService=e,this.abilityService=t,ys(this),this.parent=i}initPet(e,t,i,n,o,a){this.baseName=this.baseName??this.name;const l=e??this.exp??0;this.exp=l,this.health=t??this.health+l,this.attack=i??this.attack+l,this.mana=n??this.mana,this.triggersConsumed=a??this.triggersConsumed,this.originalHealth=this.health,this.originalAttack=this.attack,this.originalMana=this.mana,this.originalTriggersConsumed=this.triggersConsumed,this.originalFoodsEaten=this.foodsEaten,this.equipment=o,this.originalEquipment=o,this.originalExp=this.exp,this.baseSellValue=this.level,this.sellValue=this.baseSellValue,this.initAbilities(),this.originalAbilityList=[...this.abilityList]}}class Nh extends D{logService;abilityService;name="Puma";tier=6;pack="Puppy";attack=6;health=5;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}const Pf=(r,e)=>{r.toy=e};class kf extends Dl{breakToy(e=!1){((r,e,t,i,n)=>{const o=a=>{if(t.createLog({message:`${a.name} broke!`,type:"ability",player:r,randomEvent:!1}),null==a.onBreak)return;const l=[{callback:a.onBreak.bind(a),priority:99}],d=a.level;for(const p of r.petArray)p instanceof Nh&&l.push({callback:()=>{a.level=p.level,a.onBreak(n.gameApi,!0),a.level=d},priority:p.attack});l.sort((p,b)=>p.priority>b.priority?-1:p.priority<b.priority?1:0);for(const p of l)p.callback(n.gameApi)};if(null!=r.toy){const a=r.toy;r.brokenToy=a,o(a),r.toy=null}if(null!=r.hardToy){const a=r.hardToy;r.brokenHardToy=a,o(a),r.hardToy=null}e&&r.brokenToy&&Pf(r,r.brokenToy)})(this,e,this.logService,0,this.gameService)}setToy(e){Pf(this,e)}}class Za extends D{logService;abilityService;name="Golden Retriever";tier=1;pack="Golden";hidden=!0;health=1;attack=1;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class E1 extends kf{resolveTrumpetGainTarget(e){return((r,e)=>e&&Et(e)?{player:0===$t({key:"trumpets.silly-target-team",label:"Silly trumpet target team",options:[{id:"player",label:"Player team"},{id:"opponent",label:"Opponent team"}]},()=>we(0,1)).index?r:r.opponent,random:!0}:{player:r,random:!1})(this,e)}gainTrumpets(e,t,i,n,o,a){((r,e,t,i,n,o,a,l)=>{r.trumpets=Math.min(50,r.trumpets+=e);let p=t instanceof D&&null!=t.parent&&t.parent!==r?`${t.name} gave opponent ${e} trumpets. (${r.trumpets})`:`${t.name} gained ${e} trumpets. (${r.trumpets})`;a&&(p+=" (Cherry)"),i.createLog({message:p,type:"trumpets",player:r,pteranodon:n,pantherMultiplier:o,randomEvent:l})})(this,e,t,this.logService,i,n,o,a)}spendTrumpets(e,t,i){((r,e,t,i,n)=>{r.trumpets=Math.max(0,r.trumpets-=e),i.createLog({message:`${t.name} spent ${e} trumpets. (${r.trumpets})`,type:"trumpets",player:r,pteranodon:n})})(this,e,t,this.logService,i)}checkGoldenSpawn(){var r,e,t,i;e=this.abilityService,t=this.logService,i=this.gameService,(r=this).spawnedGoldenRetiever||r.petArray.length>1||0===r.trumpets||(e.setgoldenRetrieverSummonsEvent({priority:0,callback:(n,o,a)=>{const l=new Za(t,e,r,r.trumpets,r.trumpets);t.createLog({message:`${r===o.player?"Player":"Opponent"} spawned Golden Retriever (${l.attack}/${l.health})`,type:"ability",player:r}),As(r,l,0,!1,void 0,t,e,i),r.trumpets=0}}),r.spawnedGoldenRetiever=!0)}}class rS extends E1{summonPetInFront(e,t){return((r,e,t,i,n,o)=>{if(5===r.petArray.length)return i.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:r}),{success:!1,randomEvent:!1};let a=!1;for(let p=0;p<e.position;p++)if(null==r.getPet(p)){a=!0;break}if(a)return As(r,t,e.position-1,!1,e,i,n,o);const l=e.position,d=Math.min(l+1,4);return e.parent.setPet(l,null),null!=r.getPet(d)&&S(r,d),r.setPet(d,e),As(r,t,l,!1,e,i,n,o)})(this,e,t,this.logService,this.abilityService,this.gameService)}summonPetBehind(e,t){return((r,e,t,i,n,o)=>{if(5===r.petArray.length)return i.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:r}),{success:!1,randomEvent:!1};let a=!1;for(let l=0;l<e.position;l++)if(null==r.getPet(l)){a=!0;break}if(a){const l=e.position;e.parent.setPet(l,null);const d=Math.max(l-1,0);return null!=r.getPet(d)&&bs(r,d),r.setPet(d,e),As(r,t,e.position+1,!1,e,i,n,o)}return As(r,t,e.position+1,!1,e,i,n,o)})(this,e,t,this.logService,this.abilityService,this.gameService)}}class Bh extends rS{logService;abilityService;gameService;pet0;pet1;pet2;pet3;pet4;orignalPet0;orignalPet1;orignalPet2;orignalPet3;orignalPet4;pack="Turtle";toy=null;hardToy=null;brokenToy=null;brokenHardToy=null;originalToy=null;originalHardToy=null;trumpets=0;spawnedGoldenRetiever=!1;summonedBoatThisBattle=!1;isOpponent=!1;allPets=!1;tokenPets=!1;gold=0;pendingGoldFromMimic=0;futureShopBuffs=new Map;cannedAilments=[];constructor(e,t,i){super(),this.logService=e,this.abilityService=t,this.gameService=i,ys(this)}alive(){return this.petArray.length>0}resetPets(){var r;(r=this).pet0=r.orignalPet0,r.pet0?.resetPet(),r.pet1=r.orignalPet1,r.pet1?.resetPet(),r.pet2=r.orignalPet2,r.pet2?.resetPet(),r.pet3=r.orignalPet3,r.pet3?.resetPet(),r.pet4=r.orignalPet4,r.pet4?.resetPet(),r.orignalPet0=r.pet0,r.orignalPet1=r.pet1,r.orignalPet2=r.pet2,r.orignalPet3=r.pet3,r.orignalPet4=r.pet4,r.toy=r.originalToy,r.toy&&(r.toy.used=!1,r.toy.triggers=0,r.originalToy&&(r.toy.level=r.originalToy.level)),r.hardToy=r.originalHardToy,r.hardToy&&(r.hardToy.used=!1,r.hardToy.triggers=0,r.originalHardToy&&(r.hardToy.level=r.originalHardToy.level)),r.brokenToy=null,r.brokenHardToy=null,r.trumpets=0,r.spawnedGoldenRetiever=!1,r.summonedBoatThisBattle=!1,r.cannedAilments=[]}resetJumpedFlags(){(r=>{for(const e of r.petArray)e&&(e.jumped=!1)})(this)}setPet(e,t,i=!1){this.getPet(e),0==e&&(this.pet0=t,null!=t&&(this.pet0.savedPosition=0),i&&(this.orignalPet0=t)),1==e&&(this.pet1=t,null!=t&&(this.pet1.savedPosition=1),i&&(this.orignalPet1=t)),2==e&&(this.pet2=t,null!=t&&(this.pet2.savedPosition=2),i&&(this.orignalPet2=t)),3==e&&(this.pet3=t,null!=t&&(this.pet3.savedPosition=3),i&&(this.orignalPet3=t)),4==e&&(this.pet4=t,null!=t&&(this.pet4.savedPosition=4),i&&(this.orignalPet4=t)),i&&null!=t&&(t.originalSavedPosition=t.savedPosition)}getPet(e){switch(e){case 0:return this.pet0;case 1:return this.pet1;case 2:return this.pet2;case 3:return this.pet3;case 4:return this.pet4;default:return}}pushPetsForward(){Sh(this)}onionCheck(){var r;r=this,null!=r.pet0?.equipment&&r.pet0.equipment instanceof Ah&&(r.pet0.equipment.callback(r.pet0),Sh(r))}summonPet(e,t,i=!1,n){return As(this,e,t,i,n,this.logService,this.abilityService,this.gameService)}transformPet(e,t){((r,e,t,i,n)=>{const o=e?.parent??r;t.parent!==o&&(t.parent=o),o.setPet((()=>{for(let p=0;p<=4;p++)if(o.getPet(p)===e)return p;if(e?.transformedInto)for(let p=0;p<=4;p++)if(o.getPet(p)===e.transformedInto)return p;const d=Number(e?.savedPosition);if(Number.isInteger(d)&&d>=0&&d<=4)return d;for(let p=0;p<=4;p++)if(null==o.getPet(p))return p;return 0})(),t),o===n.gameApi.player?n.gameApi.playerTransformationAmount++:n.gameApi.opponentTransformationAmount++,e.transformed=!0,e.transformedInto=t,t.applyEquipment(t.equipment),i.triggerTransformEvents(e)})(this,e,t,this.abilityService,this.gameService)}pushForwardFromSlot(e){return bs(this,e)}pushBackwardFromSlot(e){return S(this,e)}makeRoomForSlot(e){L(this,e)}get petArray(){let e=[];return null!=this.pet0&&e.push(this.pet0),null!=this.pet1&&e.push(this.pet1),null!=this.pet2&&e.push(this.pet2),null!=this.pet3&&e.push(this.pet3),null!=this.pet4&&e.push(this.pet4),e}handleDeath(e){ms(e,this.logService)}checkPetsAlive(){var r,e;e=this.logService,(r=this).pet0&&!r.pet0.alive&&!r.pet0.seenDead&&ms(r.pet0,e),r.pet1&&!r.pet1.alive&&!r.pet1.seenDead&&ms(r.pet1,e),r.pet2&&!r.pet2.alive&&!r.pet2.seenDead&&ms(r.pet2,e),r.pet3&&!r.pet3.alive&&!r.pet3.seenDead&&ms(r.pet3,e),r.pet4&&!r.pet4.alive&&!r.pet4.seenDead&&ms(r.pet4,e)}removeDeadPets(){return((r,e)=>{let t=!1;const i=[{pet:r.pet0,index:0},{pet:r.pet1,index:1},{pet:r.pet2,index:2},{pet:r.pet3,index:3},{pet:r.pet4,index:4}];for(const n of i)if(n.pet&&!n.pet.alive){switch(n.pet.removed=!0,n.index){case 0:r.pet0=void 0;break;case 1:r.pet1=void 0;break;case 2:r.pet2=void 0;break;case 3:r.pet3=void 0;break;case 4:r.pet4=void 0}e.triggerAfterFaintEvents(n.pet),t=!0}return t})(this,this.abilityService)}createDeathLog(e){tf(e,this.logService)}get opponent(){return hn(this.gameService.gameApi,this)}}var Ts=w(3276),Es=w.t(Ts,2),Lo=w(7283),eo=w.t(Lo,2),bu=w(8935),$h=w.t(bu,2);const Gh=r=>r.map(e=>e?.Name).filter(e=>!!e),C1={"Beluga Whale":"WhiteWhale","Great One":"Cthulu","Small One":"BabyCthulhu",Abomination:"Shoggoth",Visitor:"Xenomorph",Swordfish:"SwordFish",Doberman:"DobermanDog","Highland Cow":"HighlandCow","Sabertooth Tiger":"SaberToothTiger","Moby Dick":"MochaDick","Chimera Goat":"ChimeraGoat","Chimera Lion":"ChimeraLion","Chimera Snake":"ChimeraSnake",CrackedEgg:"EggLadCracked","Fake Nessie":"FakeNessie","Tand and Tand":"ThorGoats"},x1={Corncob:"Corn","Cake Slice":"BirthdayCakeSlice","Peanut Butter":"PeanutButter","Mana Potion":"ManaPotion","Faint Bread":"DeadBread",Kiwifruit:"Kiwi",Eggplant:"EggPlant",Rice:"RiceBall",Donut:"Doughnut",Cherry:"Cherries","Melon Slice":"WaterMelon",Cold:"Frozen",Crisp:"Burn",Dazed:"Deaf",Icky:"Acid",Inked:"Ink",Spooked:"Scared",Sleepy:"Drowsy",Webbed:"Web",Cursed:"Curse",Silly:"Silly",Bloated:"Bloated"},D1=Object.fromEntries(Object.entries(x1).map(([r,e])=>[r.toLowerCase(),e])),Cs=r=>r?r.replace(/[^a-zA-Z0-9]/g,""):"",vu=r=>{const e=new Map;for(const t of r)t?.Name&&t?.NameId&&e.set(t.Name,t.NameId);return e},Tf=(r,e)=>{const t=n=>!n||/^no ability\.?$/i.test(n.trim()),i=[];if(Array.isArray(r))for(const n of r)!n?.About||t(n.About)||i.push(null!=n.Level?`Lv${n.Level}: ${n.About}`:n.About);return e&&i.push(e),i.length?i.join("\n"):null},aS=vu(Ts??Es??[]),I1=new Map,M1=Ts??Es??[];for(const r of M1){if(!r?.Name)continue;const e=Tf(r.Abilities,r.PerkNote);e&&I1.set(r.Name,e)}const R1=Gh(Ts??Es??[]),L1=vu(Lo??eo??[]),Hh=new Map,N1=Lo??eo??[];for(const r of N1){if(!r?.Name)continue;const e=Tf(r.Abilities);e&&Hh.set(r.Name,e)}const jh=Gh(Lo??eo??[]),Ef=vu(bu??$h??[]),qh=new Map(Array.from(Ef.entries()).map(([r,e])=>[r.toLowerCase(),e])),Uh=new Map(Array.from(Ef.entries()).map(([r,e])=>[Cs(r),e])),F1=new Map,oS=bu??$h??[];for(const r of oS)r?.Name&&r.Ability&&F1.set(r.Name,r.Ability);const Cf=Gh(bu??$h??[]);function Df(r){if(!r)return null;const e=aS.get(r);return e||(C1[r]||null)}function rn(r){const e=Df(r);return e?`assets/art/Public/Public/Pets/${e}.png`:null}function Vh(r){return r?I1.get(r)??null:null}function No(){return[...R1]}function xs(r){if(!r)return null;const t=L1.get(r)??Cs(r);return t?`assets/art/Public/Public/Toys/${t}.png`:null}function Ll(r){return r?Hh.get(r)??null:null}function wa(){return[...jh]}function cr(r,e=!1){const t=(r=>{if(!r)return null;const e=Cs(r),t=Ef.get(r)??qh.get(r.toLowerCase())??Uh.get(e),i=x1[r]??D1[r.toLowerCase()];return(t??i??e)||null})(r);return t?e?`assets/art/Ailments/Ailments/${t}.png`:`assets/art/Public/Public/Food/${t}.png`:null}function Nl(r){return r?F1.get(r)??null:null}function Au(){return[...Cf]}const sS={Turtle:"Turtle",Golden:"Golden Retriever",Puppy:"Puppy",Star:"Starfish",Unicorn:"Unicorn",Danger:"Blue Whale",Custom:"White Tiger"};function Fl(r){return r&&"Add Custom Pack"!==r?rn(sS[r]||"White Tiger"):null}const oa=["Turtle","Puppy","Star","Golden","Unicorn","Danger","Custom"],Wh=oa.filter(r=>"Custom"!==r);let O1=(()=>{class r{el;renderer;tooltipText=null;tooltipElement=null;currentTooltipText=null;constructor(t,i){this.el=t,this.renderer=i}onShow(){const t=this.formatTooltipText(this.tooltipText);t?(this.currentTooltipText=t,this.ensureTooltipElements(),this.tooltipElement&&(this.tooltipElement.textContent=t,this.renderer.setAttribute(this.tooltipElement,"role","tooltip"),this.updatePosition(t))):this.removeTooltip()}onHide(){this.removeTooltip()}onViewportChange(){!this.currentTooltipText||!this.tooltipElement||this.updatePosition(this.currentTooltipText)}ngOnDestroy(){this.removeTooltip()}updatePosition(t){if(!this.tooltipElement)return;const i=this.el.nativeElement.getBoundingClientRect(),n=window.innerWidth,o=window.innerHeight,a=12,d=12,p=Math.min(420,n-24),b=Math.min(360,o-24),{width:T,height:F}=this.measureTooltip(t,p,b),ee=this.clamp(i.left+i.width/2-T/2,a,n-T-a),Z=i.top,se=o-i.bottom,Ke=F+d+0;let et="top";const Je=n-i.right>=T+d+0;Je||i.left>=T+d+0?et=Je?"right":"left":Z<Ke&&se>=Ke?et="bottom":Z<Ke&&se<Ke&&(et=Z>=se?"top":"bottom");let Ie=i.top-F-d-0,dt=ee;"bottom"===et&&(Ie=i.bottom+d+0),"right"===et&&(dt=this.clamp(i.right+d+0,a,n-T-a),Ie=this.clamp(i.top+i.height/2-F/2,a,o-F-a)),"left"===et&&(dt=this.clamp(i.left-T-d-0,a,n-T-a),Ie=this.clamp(i.top+i.height/2-F/2,a,o-F-a)),this.renderer.setStyle(this.tooltipElement,"left",`${dt}px`),this.renderer.setStyle(this.tooltipElement,"top",`${Ie}px`),this.renderer.setStyle(this.tooltipElement,"max-width",`${p}px`),this.renderer.setStyle(this.tooltipElement,"max-height",`${b}px`),this.renderer.setAttribute(this.tooltipElement,"data-placement",et)}measureTooltip(t,i,n){const o=document.createElement("div");o.textContent=t,o.style.position="fixed",o.style.visibility="hidden",o.style.pointerEvents="none",o.style.fontSize="0.72rem",o.style.lineHeight="1.2",o.style.padding="0.45rem 0.6rem",o.style.borderRadius="8px",o.style.maxWidth=`${i}px`,o.style.maxHeight=`${n}px`,o.style.whiteSpace="pre-wrap",o.style.overflow="visible",o.style.boxSizing="border-box",o.style.width="max-content",document.body.appendChild(o);let a=o.getBoundingClientRect();return a.width>i&&(o.style.width=`${i}px`,a=o.getBoundingClientRect()),document.body.removeChild(o),{width:a.width,height:a.height}}ensureTooltipElements(){this.tooltipElement||(this.tooltipElement=this.renderer.createElement("div"),this.renderer.addClass(this.tooltipElement,"sap-floating-tooltip"),this.renderer.appendChild(document.body,this.tooltipElement))}removeTooltip(){this.currentTooltipText=null,this.tooltipElement&&(this.renderer.removeChild(document.body,this.tooltipElement),this.tooltipElement=null)}formatTooltipText(t){return t?t.trim().replace(/\s*(Level\s+\d+\s*[:-])/gi,"\n$1").replace(/^\n+/,"").replace(/\n{3,}/g,"\n\n"):""}clamp(t,i,n){return Math.min(Math.max(t,i),n)}static \u0275fac=function(i){return new(i||r)(c.rXU(c.aKT),c.rXU(c.sFG))};static \u0275dir=c.FsC({type:r,selectors:[["","appTooltip",""]],hostBindings:function(i,n){1&i&&c.bIt("mouseenter",function(){return n.onShow()})("focus",function(){return n.onShow()})("mouseleave",function(){return n.onHide()})("blur",function(){return n.onHide()})("resize",function(){return n.onViewportChange()},c.tSv)("scroll",function(){return n.onViewportChange()},c.tSv)},inputs:{tooltipText:[0,"appTooltip","tooltipText"]}})}return r})();class If extends D{logService;abilityService;name="Mouse";tier=1;pack="Custom";health=2;attack=1;initAbilities(){this.addAbility(new Mf(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Mf extends C{logService;abilityService;constructor(e,t,i){super({name:"MouseAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} replaced shop food with one free ${1===this.level?"Apple":2===this.level?"Better Apple":"Best Apple"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Mf(e,this.logService,this.abilityService)}}class Rf extends D{logService;abilityService;name="Ant";tier=1;pack="Turtle";health=2;attack=2;initPet(e,t,i,n,o,a){this.addAbility(new Kh(this,this.logService)),super.initPet(e,t,i,n,o,a)}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Kh extends C{logService;constructor(e,t){super({name:"AntAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner,l=this.level,d=a.parent.getRandomPet([a],!0,!1,!0,a);null!=d.pet&&(this.logService.createLog({message:`${a.name} gave ${d.pet.name} ${l} attack and ${l} health.`,type:"ability",randomEvent:d.random,player:a.parent,tiger:n,pteranodon:o}),d.pet.increaseAttack(l),d.pet.increaseHealth(l),this.triggerTigerExecution(e))}copy(e){return new Kh(e,this.logService)}}class B1 extends D{logService;abilityService;name="Zombie Cricket";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new zh(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class zh extends C{logService;abilityService;constructor(e,t,i){super({name:"ZombieCricketAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new zh(e,this.logService,this.abilityService)}}class Ol extends C{logService;abilityService;constructor(e,t,i){super({name:"CricketAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner,l=this.level;let T=new B1(this.logService,this.abilityService,a.parent,l,l,null,this.minExpForLevel),F=a.parent.summonPet(T,a.savedPosition,!1,a);F.success&&this.logService.createLog({message:`${a.name} spawned Zombie Cricket Level ${l}`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:F.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Ol(e,this.logService,this.abilityService)}}class lS extends D{logService;abilityService;name="Fish";tier=1;pack="Turtle";health=3;attack=2;initAbilities(){this.addAbility(new cS(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class cS extends C{logService;constructor(e,t){super({name:"FishAbility",owner:e,triggers:["ThisLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if(this.level>=3)return;const i=this.level,n=t.parent.getRandomPets(2,[t],!1,!1,t);if(0!==n.pets.length){for(const o of n.pets)o.increaseAttack(i),o.increaseHealth(i);this.logService.createLog({message:`${t.name} gave ${n.pets.map(o=>o.name).join(", ")} ${i} attack and ${i} health.`,type:"ability",player:t.parent,randomEvent:n.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new cS(e,this.logService)}}function Fo(r){const e=r.position??r.savedPosition;if(null==e)return[];const t=[],i=r.parent.getPetAtPosition(e-1),n=r.parent.getPetAtPosition(e+1);return i&&i.alive&&t.push(i),n&&n.alive&&t.push(n),t}function Yh(r,e){return!(r.equipment&&!r.equipment.equipmentClass?.startsWith("ailment")||r.equipment?.name===e)}function Xi(r,e,t,i,n,o={}){r.createLog({message:t,type:"ability",player:e.parent,tiger:i,pteranodon:n,sourcePet:e,...o})}function ur(r,e,t){return e?t?t(r,e)??{random:!1}:r.parent.getSpecificPet(r,e):{random:!1}}function Bl(r,e){if(!e)return{random:!1};const t=r.parent.getSpecificPet(r,e),i=t.pet;return i&&i.alive?t:{random:t.random}}const qt=Bl,Ds=function Lf(r,e,t){return!(!e||t?.excludeOwner&&e===r||!Bl(r,e).pet)};class Xh extends C{logService;constructor(e,t){super({name:"HorseAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:o}=e,a=this.owner,l=ur(a,i);if(!l.pet)return;const d=l.pet;d.increaseAttack(this.level),Xi(this.logService,a,`${a.name} gave ${d.name} ${this.level} attack`,n,o,{randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Xh(e,this.logService)}}class Oo extends C{logService;constructor(e,t){super({name:"MosquitoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,a);for(let d of l.pets)null!=d&&a.snipePet(d,1,l.random,n);this.triggerTigerExecution(e)}copy(e){return new Oo(e,this.logService)}}class Jh extends D{logService;abilityService;name="Duck";tier=1;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new Is(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Is extends C{logService;constructor(e,t){super({name:"DuckAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gave shop pets +${this.level} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Is(e,this.logService)}}class dS extends D{logService;abilityService;name="Beaver";tier=1;pack="Turtle";health=2;attack=3;initAbilities(){this.addAbility(new Qh(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Qh extends C{logService;constructor(e,t){super({name:"BeaverAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,n=t.parent.getRandomPets(2,[t],!1,!1,t);if(0!==n.pets.length){for(const o of n.pets)o.increaseAttack(i);this.logService.createLog({message:`${t.name} gave ${n.pets.map(o=>o.name).join(", ")} ${i} attack.`,type:"ability",player:t.parent,randomEvent:n.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new Qh(e,this.logService)}}class hS extends C{logService;constructor(e,t){super({name:"OtterAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,n=t.parent.getRandomPets(this.level,[t],!1,!1,t);if(0!==n.pets.length){for(const o of n.pets)o.increaseHealth(1);this.logService.createLog({message:`${t.name} gave ${n.pets.map(o=>o.name).join(", ")} +1 health.`,type:"ability",player:t.parent,randomEvent:n.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new hS(e,this.logService)}}class Ms extends C{logService;constructor(e,t){super({name:"PigAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Ms(e,this.logService)}}class Gl extends C{logService;constructor(e,t){super({name:"PigeonAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked ${this.level} free Bread Crumbs.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Gl(e,this.logService)}}class Ff extends C{logService;constructor(e,t){super({name:"SnailAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=e.gameApi;if(!(t.parent===i?.player?i?.playerLostLastBattle:i?.opponentLostLastBattle))return;const a=this.level,l=t.parent.nearestPetsAhead(3,t);if(0!==l.pets.length){for(const d of l.pets)d.increaseAttack(a);this.logService.createLog({message:`${t.name} gave ${l.pets.map(d=>d.name).join(", ")} +${a} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:l.random}),this.triggerTigerExecution(e)}}copy(e){return new Ff(e,this.logService)}}class pS extends C{logService;constructor(e,t){super({name:"CrabAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;if(!a.alive)return;let l=a.parent.getHighestHealthPet(a,a);if(null==l.pet)return;let d=Math.ceil(l.pet.health*(.25*this.level)),p=a.parent.getThis(a);p.pet&&(p.pet.increaseHealth(d),this.logService.createLog({message:`${a.name} gave ${p.pet.name} ${.25*this.level*100}% of ${l.pet.name}'s health (${d})`,type:"ability",player:a.parent,tiger:n,randomEvent:p.random})),this.triggerTigerExecution(e)}copy(e){return new pS(e,this.logService)}}class Of extends C{logService;constructor(e,t){super({name:"SwanAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Of(e,this.logService)}}class j1 extends D{logService;abilityService;name="Dirty Rat";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class gS extends C{logService;abilityService;constructor(e,t,i){super({name:"RatAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.opponent;for(let d=0;d<this.level;d++){let p=new j1(this.logService,this.abilityService,l,null,null,0,0),b=l.summonPet(p,0,!1,a);b.success&&this.logService.createLog({message:`${a.name} Summoned Dirty Rat on Opponent`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:b.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new gS(e,this.logService,this.abilityService)}}class Bf extends C{logService;constructor(e,t){super({name:"HedgehogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.getAll(!0,a),d=l.pets;if(0==d.length)return;let p=2*this.level;for(let b of d)a.snipePet(b,p,l.random,n,o);this.triggerTigerExecution(e)}copy(e){return new Bf(e,this.logService)}}class _u extends C{logService;constructor(e,t){super({name:"PeacockAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=3*this.level,d=a.parent.getThis(a);d.pet&&(d.pet.increaseAttack(l),this.logService.createLog({message:`${a.name} gave ${d.pet.name} ${l} attack.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random})),this.triggerTigerExecution(e)}copy(e){return new _u(e,this.logService)}}class Pu extends C{logService;constructor(e,t){super({name:"FlamingoAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let d=a.parent.nearestPetsBehind(2,a).pets;if(0!=d.length){for(let p of d)p.increaseAttack(this.level),p.increaseHealth(this.level),this.logService.createLog({message:`${a.name} gave ${p.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:a.parent,tiger:n,pteranodon:o});this.triggerTigerExecution(e)}}copy(e){return new Pu(e,this.logService)}}class tp extends C{logService;constructor(e,t){super({name:"WormAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked one 2-gold ${1===this.level?"Apple":2===this.level?"Better Apple":"Best Apple"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new tp(e,this.logService)}}class ip extends C{logService;constructor(e,t){super({name:"KangarooAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getThis(a);l.pet&&(l.pet.increaseAttack(this.level),l.pet.increaseHealth(this.level),this.logService.createLog({message:`${a.name} gave ${l.pet.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random})),this.triggerTigerExecution(e)}copy(e){return new ip(e,this.logService)}}class $f extends D{logService;abilityService;petService;name="Spider";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new Rs(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class Rs extends C{logService;abilityService;petService;constructor(e,t,i,n){super({name:"SpiderAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:o}=e,a=this.owner;let p=[...(a.parent==t?.player?t?.playerPetPool:t?.opponentPetPool)?.get(3)??[]].filter(se=>se&&"Spider"!=se);if(0==p.length&&(p=[...this.petService?.allPets?.get(3)??[]].filter(se=>se&&"Spider"!=se)),0==p.length)return;let b=p[we(0,p.length-1)];if(!b)return;let T=this.level,U=2*this.level,ee=this.petService.createPet({attack:U,exp:this.minExpForLevel,equipment:null,health:U,name:b,mana:0},a.parent);a.parent.summonPet(ee,a.savedPosition,!1,a).success&&this.logService.createLog({message:`${a.name} spawned ${ee.name} level ${T} (${U}/${U})`,type:"ability",player:a.parent,randomEvent:!0,tiger:n,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new Rs(e,this.logService,this.abilityService,this.petService)}}class np extends C{logService;constructor(e,t){super({name:"DodoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.nearestPetsAhead(1,a);if(0===l.pets.length)return;let d=l.pets[0],p=Math.floor(a.attack*(.5*this.level));d.increaseAttack(p),this.logService.createLog({message:`${a.name} gave ${d.name} ${p} attack.`,player:a.parent,type:"ability",tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new np(e,this.logService)}}class wu extends C{logService;constructor(e,t){super({name:"BadgerAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=Math.floor(a.attack*(.5*this.level)),d=a.parent.nearestPetsBehind(1,a);d.pets.length>0&&a.snipePet(d.pets[0],l,d.random,n,o);let p=a.parent.nearestPetsAhead(1,a,void 0,!0);p.pets.length>0&&a.snipePet(p.pets[0],l,p.random,n,o),this.triggerTigerExecution(e)}copy(e){return new wu(e,this.logService)}}class fS extends D{logService;abilityService;name="Dolphin";tier=3;pack="Turtle";health=3;attack=4;hasRandomEvents=!0;initAbilities(){this.addAbility(new Gf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Gf extends C{logService;constructor(e,t){super({name:"DolphinAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.opponent;for(let d=0;d<this.level;d++){let p=l.getLowestHealthPet(null,a);if(!p.pet)break;a.snipePet(p.pet,4,p.random,n)}this.triggerTigerExecution(e)}copy(e){return new Gf(e,this.logService)}}class rp extends C{logService;constructor(e,t){super({name:"GiraffeAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,n=t.parent.nearestPetsAhead(this.level,t);if(0!==n.pets.length){for(const o of n.pets)o.increaseAttack(1),o.increaseHealth(1);this.logService.createLog({message:`${t.name} gave ${n.pets.map(o=>o.name).join(", ")} +1 attack and +1 health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}}copy(e){return new rp(e,this.logService)}}class Hf extends C{logService;constructor(e,t){super({name:"ElephantAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;for(let l=0;l<this.level;l++){let d=a.parent.nearestPetsBehind(1,a);d.pets.length>0&&a.snipePet(d.pets[0],1,d.random,n)}this.triggerTigerExecution(e)}copy(e){return new Hf(e,this.logService)}}class Ns extends C{logService;constructor(e,t){super({name:"CamelAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.nearestPetsBehind(1,a);if(0===l.pets.length)return;let d=l.pets[0],p=2*this.level;d.increaseAttack(this.level),d.increaseHealth(p),this.logService.createLog({message:`${a.name} gave ${d.name} ${this.level} attack and ${p} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Ns(e,this.logService)}}class jf extends C{logService;constructor(e,t){super({name:"RabbitAbility",owner:e,triggers:["FoodEatenByFriendly"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,precondition:i=>{const{triggerPet:n}=i,l=qt(this.owner,n).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=this.level,d=qt(a,i),p=d.pet;null!=p&&(p.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${p.name} ${l} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new jf(e,this.logService)}}class Ta extends Fe{name="Melon";tier=6;equipmentClass="shield";power=20;originalPower=20;uses=1;originalUses=1}class op extends C{logService;constructor(e,t){super({name:"OxAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getThis(a),d=l.pet;if(null==d)return;d.increaseAttack(1),this.logService.createLog({message:`${a.name} gave ${d.name} +1 attack.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random});let p=a.parent.getThis(a),b=p.pet;null!=b&&(b.givePetEquipment(new Ta),this.logService.createLog({message:`${a.name} gave ${b.name} Melon.`,type:"ability",player:a.parent,tiger:n,randomEvent:p.random}),this.triggerTigerExecution(e))}reset(){this.maxUses=this.level,super.reset()}copy(e){return new op(e,this.logService)}}class sp extends C{logService;constructor(e,t){super({name:"DogAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;if(!i||i===a)return;let l=2*this.level,d=this.level,p=a.parent.getThis(a);p.pet&&(p.pet.increaseAttack(l),p.pet.increaseHealth(d),this.logService.createLog({message:`${a.name} gave ${p.pet.name} ${l} attack and ${d} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:p.random})),this.triggerTigerExecution(e)}copy(e){return new sp(e,this.logService)}}class vS extends D{logService;abilityService;name="Ram";tier=1;pack="Turtle";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new lp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class lp extends C{logService;abilityService;constructor(e,t,i){super({name:"RamAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new lp(e,this.logService,this.abilityService)}}class Hl extends C{logService;abilityService;constructor(e,t,i){super({name:"SheepAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner,l=2*this.level,d=2*this.level;for(let p=0;p<2;p++){let b=new vS(this.logService,this.abilityService,a.parent,d,l,0,this.minExpForLevel),T=a.parent.summonPet(b,a.savedPosition,!1,a);T.success&&this.logService.createLog({message:`${a.name} spawned Ram (${b.attack}/${b.health}).`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:T.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Hl(e,this.logService,this.abilityService)}}const Ea=[1,2,3];function Bo(r,e){const t=`${r}${e}`;return{base:t,belugaSwallowedPet:`${t}BelugaSwallowedPet`,sarcasticFringeheadSwallowedPet:`${t}SarcasticFringeheadSwallowedPet`,level:`${t}Level`,timesHurt:`${t}TimesHurt`,parrotCopyPet:`${t}ParrotCopyPet`,parrotCopyPetBelugaSwallowedPet:`${t}ParrotCopyPetBelugaSwallowedPet`,nested:i=>{const n=`${t}ParrotCopyPetAbominationSwallowedPet${i}`;return{base:n,belugaSwallowedPet:`${n}BelugaSwallowedPet`,sarcasticFringeheadSwallowedPet:`${n}SarcasticFringeheadSwallowedPet`,level:`${n}Level`,timesHurt:`${n}TimesHurt`}}}}function ji(r,e,t=null){const i=r[e];return"string"==typeof i||null===i?i:t}function Ca(r,e,t){const i=r[e];return"number"==typeof i&&Number.isFinite(i)?i:t}function Tu(r,e,t){r[e]=t}function AS(r,e,t){r[e]=t}class Eu extends D{logService;abilityService;petService;name="Parrot";tier=4;pack="Turtle";attack=4;health=2;initAbilities(){this.addAbility(new Uf(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class Uf extends C{logService;petService;constructor(e,t,i){super({name:"ParrotAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:n,pteranodon:o}=e;let a=this.owner;const l=null!=a.parrotCopyPet&&""!==a.parrotCopyPet,d=l?ji(a,"parrotCopyPet",null):a.petAhead?.name??null,p=l?ji(a,"parrotCopyPetBelugaSwallowedPet",null):null;if(!d)return;const T="Abomination"===d&&l?(()=>{const ee={};for(const Z of Ea){const se=Bo("parrotCopyPetAbominationSwallowedPet",Z),ve=Bo("abominationSwallowedPet",Z);ee[ve.base]=ji(a,se.base,null),ee[ve.belugaSwallowedPet]=ji(a,se.belugaSwallowedPet,null),ee[ve.level]=Ca(a,se.level,1),ee[ve.timesHurt]=Ca(a,se.timesHurt,0),ee[ve.parrotCopyPet]=ji(a,se.parrotCopyPet,null),ee[ve.parrotCopyPetBelugaSwallowedPet]=ji(a,se.parrotCopyPetBelugaSwallowedPet,null);for(const Te of Ea){const Ke=se.nested(Te),et=ve.nested(Te);ee[et.base]=ji(a,Ke.base,null),ee[et.belugaSwallowedPet]=ji(a,Ke.belugaSwallowedPet,null),ee[et.level]=Ca(a,Ke.level,1),ee[et.timesHurt]=Ca(a,Ke.timesHurt,0)}}return ee})():{},F={name:d,attack:null,health:null,mana:null,exp:a.exp??0,equipment:null,belugaSwallowedPet:"Beluga Whale"===d?ji({belugaSwallowedPet:p},"belugaSwallowedPet",null)??null:void 0};Object.assign(F,T);let U=this.petService.createPet(F,a.parent);if(null!=U){if("Abomination"===d&&Object.assign(a,T),"Beluga Whale"===d&&(a.belugaSwallowedPet=p??null),a.copyAbilities(U,"Pet",a.level),a.initAbilityUses(),"Abomination"===d){const ee=a.abilityList.filter(Z=>"AbominationAbility"===Z.name);for(const Z of ee)Z.execute(t,i,n,o)}this.logService.createLog({message:`${a.name} copied ${U.name}`,type:"ability",player:a.parent})}}copy(e){return new Uf(e,this.logService,this.petService)}}class cp extends C{logService;constructor(e,t){super({name:"SkunkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let d=a.parent.opponent.getHighestHealthPet(void 0,a),p=d.pet;if(null==p)return;let b=.33*this.level,T=Math.max(1,Math.floor(p.health*(1-b)));p.health=T,this.logService.createLog({message:`${a.name} reduced ${p.name} health by ${100*b}% to ${T}.`,type:"ability",player:a.parent,randomEvent:d.random,tiger:n}),this.triggerTigerExecution(e)}copy(e){return new cp(e,this.logService)}}class Fs extends C{logService;constructor(e,t){super({name:"HippoAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=3*this.level,d=a.parent.getThis(a),p=d.pet;null!=p&&(p.increaseAttack(l),p.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${p.name} ${l} attack and ${l} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new Fs(e,this.logService)}}class SS extends C{logService;constructor(e,t){super({name:"BisonAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;if(!t.parent.petArray.some(a=>a&&a!==t&&a.level>=3))return;const n=this.level,o=2*this.level;t.increaseAttack(n),t.increaseHealth(o),this.logService.createLog({message:`${t.name} gained +${n} attack and +${o} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new SS(e,this.logService)}}class dp extends C{logService;constructor(e,t){super({name:"BlowfishAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=3*this.level,d=a.parent.opponent.getRandomPet([],!1,!0,!1,a);d.pet&&a.snipePet(d.pet,l,d.random,n),this.triggerTigerExecution(e)}copy(e){return new dp(e,this.logService)}}class Wf extends C{logService;constructor(e,t){super({name:"TurtleAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.getPetsWithEquipment("Melon"),d=a.parent.nearestPetsBehind(this.level,a,l);if(0!=d.pets.length){for(let p of d.pets)this.logService.createLog({message:`${a.name} gave ${p.name} Melon.`,type:"ability",tiger:n,player:a.parent,pteranodon:o,randomEvent:d.random}),p.givePetEquipment(new Ta);this.triggerTigerExecution(e)}}copy(e){return new Wf(e,this.logService)}}class kS extends C{logService;constructor(e,t){super({name:"SquirrelAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} discounted all shop food by ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new kS(e,this.logService)}}class Kf extends Fe{logService;abilityService;name="Chili";equipmentClass="skewer";power=0;originalPower=0;attackCallback=(e,t)=>{let i=t.parent.getPetAtPosition(1);null!=i&&e.snipePet(i,5*(e.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",5)};constructor(e,t){super(),this.logService=e,this.abilityService=t}}class zf extends D{logService;abilityService;name="Bus";tier=1;pack="Turtle";hidden=!0;health=3;attack=5;initAbilities(){this.addAbility(new TS(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class TS extends C{logService;abilityService;constructor(e,t,i){super({name:"BusAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new TS(e,this.logService,this.abilityService)}}class Yf extends C{logService;abilityService;constructor(e,t,i){super({name:"DeerAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let p=new zf(this.logService,this.abilityService,a.parent,3*this.level,5*this.level,null,this.minExpForLevel,new Kf(this.logService,this.abilityService)),b=a.parent.summonPet(p,a.savedPosition,!1,a);b.success&&this.logService.createLog({message:`${a.name} spawned Bus level ${this.level}`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:b.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Yf(e,this.logService,this.abilityService)}}class CS extends D{logService;abilityService;petService;name="Whale";tier=4;pack="Turtle";attack=3;health=7;initAbilities(){this.addAbility(new DS(this,this.logService,this.petService)),this.addAbility(new xS(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class xS extends C{logService;abilityService;constructor(e,t,i){super({name:"WhaleSummonAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,ignoreRepeats:!0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner,l=a.swallowedPets??[];for(;l.length>0;){const d=l.shift();if(!d)continue;let p=a.parent.summonPet(d,a.savedPosition,!1,a);p.success&&this.logService.createLog({message:`${a.name} summoned ${d.name} (level ${d.level}).`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:p.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new xS(e,this.logService,this.abilityService)}}class DS extends C{logService;petService;constructor(e,t,i){super({name:"WhaleSwallowAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.nearestPetsAhead(1,a);if(0===l.pets.length)return;let d=l.pets[0],p=this.petService.createPet({name:d.name,attack:d.attack,health:d.health,exp:a.exp,equipment:null,mana:0},a.parent);a.swallowedPets||(a.swallowedPets=[]),a.swallowedPets.push(p),d.health=0,this.logService.createLog({message:`${a.name} swallowed ${d.name}`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new DS(e,this.logService,this.petService)}}class IS extends C{logService;constructor(e,t){super({name:"ScorpionAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=new pu,d=a.parent.getThis(a),p=d.pet;null!=p&&(p.givePetEquipment(l),this.logService.createLog({message:`${a.name} gave ${p.name} the Peanut perk.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new IS(e,this.logService)}}class Jf extends C{logService;constructor(e,t){super({name:"CrocodileAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;for(let l=0;l<this.level;l++){let d=a.parent.opponent.getLastPet(void 0,a),p=d.pet;p&&a.snipePet(p,8,d.random,n)}this.triggerTigerExecution(e)}copy(e){return new Jf(e,this.logService)}}class Qf extends C{logService;constructor(e,t){super({name:"RhinoAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.opponent.getFurthestUpPet(a),d=l.pet;if(null==d)return;let p=4*this.level;1==d.tier&&(p*=2),a.snipePet(d,p,l.random,n),this.triggerTigerExecution(e)}copy(e){return new Qf(e,this.logService)}}class $o extends D{logService;abilityService;name="Monkey";tier=5;pack="Turtle";attack=1;health=2;initAbilities(){this.addAbility(new Os(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Os extends C{logService;constructor(e,t){super({name:"MonkeyAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.getFurthestUpPet(t),n=i.pet;if(!n)return void this.triggerTigerExecution(e);const o=2*this.level;n.increaseAttack(o),n.increaseHealth(o),this.logService.createLog({message:`${t.name} gave ${n.name} +${o} attack and +${o} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new Os(e,this.logService)}}class Cu extends C{logService;constructor(e,t){super({name:"ArmadilloAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getAll(!0,a),d=l.pets;if(0!=d.length){for(let p of d){if(!p.alive)continue;let b=8*this.level;p.increaseHealth(b),this.logService.createLog({message:`${a.name} increased health of ${p.name} by ${b}.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random})}this.triggerTigerExecution(e)}}copy(e){return new Cu(e,this.logService)}}class Go extends C{logService;constructor(e,t){super({name:"CowAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} replaced shop food with two free ${1===this.level?"Milk":2===this.level?"Better Milk":"Best Milk"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Go(e,this.logService)}}class ey extends C{logService;constructor(e,t){super({name:"SealAbility",owner:e,triggers:["FoodEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;if(i!=a)return;let l=this.level,d=a.parent.getRandomPets(3,[a],!0,!1,a);for(let p of d.pets)null!=p&&(p.increaseAttack(l),this.logService.createLog({message:`${a.name} gave ${p.name} ${l} attack.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}));this.triggerTigerExecution(e)}copy(e){return new ey(e,this.logService)}}class Z1 extends D{logService;abilityService;name="Chick";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new ty(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class ty extends C{logService;abilityService;constructor(e,t,i){super({name:"ChickAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new ty(e,this.logService,this.abilityService)}}class iy extends C{logService;abilityService;constructor(e,t,i){super({name:"RoosterAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=Math.max(Math.floor(.5*a.attack),1);for(let d=0;d<this.level;d++){let p=new Z1(this.logService,this.abilityService,a.parent,1,l,0,this.minExpForLevel),b=a.parent.summonPet(p,a.savedPosition,!1,a);b.success&&this.logService.createLog({message:`${a.name} spawned Chick (${l}).`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:b.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new iy(e,this.logService,this.abilityService)}}class ny extends C{logService;constructor(e,t){super({name:"SharkAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;if(!a.alive||i==a)return;let l={attack:2*this.level,health:2*this.level},d=a.parent.getThis(a),p=d.pet;null!=p&&(p.increaseAttack(l.attack),p.increaseHealth(l.health),this.logService.createLog({message:`${a.name} gave ${p.name} ${l.attack} attack and ${l.health} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new ny(e,this.logService)}}class jl extends C{logService;constructor(e,t){super({name:"TurkeyAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:o}=e,a=this.owner,l={attack:3*this.level,health:1*this.level},d=ur(a,i);if(!d.pet)return;const p=d.pet;p.increaseAttack(l.attack),p.increaseHealth(l.health),Xi(this.logService,a,`${a.name} gave ${p.name} ${l.attack} attack and ${l.health} health.`,n,o,{randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new jl(e,this.logService)}}class ry extends C{logService;constructor(e,t){super({name:"LeopardAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=Math.floor(.5*a.attack),d=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,a);for(let p of d.pets)null!=p&&a.snipePet(p,l,d.random,n);this.triggerTigerExecution(e)}copy(e){return new ry(e,this.logService)}}class ay extends C{logService;constructor(e,t){super({name:"BoarAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l={attack:4*this.level,health:2*this.level},d=a.parent.getThis(a),p=d.pet;null!=p&&(p.increaseAttack(l.attack),p.increaseHealth(l.health),this.logService.createLog({message:`${a.name} gave ${p.name} ${l.attack} attack and ${l.health} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new ay(e,this.logService)}}class gp extends C{logService;abilityService;constructor(e,t,i){super({name:"TigerAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){}copy(e){return new gp(e,this.logService,this.abilityService)}}class oy extends C{logService;abilityService;constructor(e,t,i){super({name:"WolverineAbility",owner:e,triggers:["FriendHurt4"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.opponent.getAll(!1,a),d=l.pets;if(0!=d.length){for(let p of d){let b=-3*this.level;p.increaseHealth(b),this.logService.createLog({message:`${a.name} reduced ${p.name} health by ${Math.abs(b)}`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random})}this.triggerTigerExecution(e)}}copy(e){return new oy(e,this.logService,this.abilityService)}}class dr extends Fe{name="Coconut";tier=7;equipmentClass="shield";power=999;originalPower=999;uses=1;originalUses=1}class mp extends C{logService;constructor(e,t){super({name:"GorillaAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>this.owner.alive,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let d=a.parent.getThis(a).pet;null!=d&&(d.givePetEquipment(new dr),this.logService.createLog({message:`${a.name} gave ${d.name} a Coconut.`,type:"ability",player:a.parent,tiger:n}),this.triggerTigerExecution(e))}reset(){this.maxUses=this.level,super.reset()}copy(e){const t=new mp(e,this.logService);return t.maxUses=e.level,t}}class fp extends C{logService;abilityService;constructor(e,t,i){super({name:"DragonAbility",owner:e,triggers:["Tier1FriendBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:4,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level,n=t.parent.petArray.filter(o=>o&&o.alive);if(0!==n.length){for(const o of n)o.increaseAttack(i),o.increaseHealth(i);this.logService.createLog({message:`${t.name} gave friends +${i} attack and +${i} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}}copy(e){return new fp(e,this.logService,this.abilityService)}}class sy extends C{logService;constructor(e,t){super({name:"MammothAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=2*this.level,d=a.parent.getAll(!1,a),p=d.pets;if(0!=p.length){for(let b of p)b.increaseAttack(l),b.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${b.name} ${l} attack and ${l} health.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:d.random});this.triggerTigerExecution(e)}}copy(e){return new sy(e,this.logService)}}class ly extends C{logService;usesThisTurn=0;constructor(e,t){super({name:"CatAbility",owner:e,triggers:["FoodEatenByFriendly","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,{trigger:i,triggerPet:n}=e;if("StartTurn"===i)return void(this.usesThisTurn=0);if(this.usesThisTurn>=2)return;this.usesThisTurn++;const o=this.level+1;this.logService.createLog({message:`${t.name} boosted ${n?.name??"a friend"}'s shop food by ${o}x.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ly(e,this.logService)}}class xu extends C{logService;constructor(e,t){super({name:"SnakeAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=5*this.level,d=a.parent.opponent.getRandomPet([],!1,!0,!1,a);d.pet&&(a.snipePet(d.pet,l,d.random,n),this.triggerTigerExecution(e))}copy(e){return new xu(e,this.logService)}}class cy extends D{logService;abilityService;name="Zombie Fly";tier=1;pack="Turtle";hidden=!0;health=4;attack=4;initAbilities(){this.addAbility(new uy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class uy extends C{logService;abilityService;constructor(e,t,i){super({name:"ZombieFlyAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new uy(e,this.logService,this.abilityService)}}class Du extends C{logService;abilityService;constructor(e,t,i){super({name:"FlyAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,condition:n=>{const{triggerPet:o}=n;return!(o&&o instanceof cy||this.owner.parent.petArray.length>=5)},abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=new cy(this.logService,this.abilityService,a.parent,null,null,null,this.minExpForLevel),d=a.parent.summonPet(l,i.savedPosition,!1,a);d.success&&this.logService.createLog({message:`${a.name} spawned Zombie Fly Level ${this.level}`,type:"ability",player:a.parent,tiger:n,randomEvent:d.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Du(e,this.logService,this.abilityService)}}const ql={Ant:Rf,Cricket:class $1 extends D{logService;abilityService;name="Cricket";tier=1;pack="Turtle";health=3;attack=1;initAbilities(){this.addAbility(new Ol(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Fish:lS,Horse:class $l extends D{logService;abilityService;name="Horse";tier=1;pack="Turtle";health=1;attack=2;initAbilities(){this.addAbility(new Xh(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Mosquito:class uS extends D{logService;abilityService;name="Mosquito";tier=1;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new Oo(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Duck:Jh,Beaver:dS,Otter:class Zh extends D{logService;abilityService;name="Otter";tier=1;pack="Turtle";health=4;attack=1;initAbilities(){this.addAbility(new hS(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Pig:class V2 extends D{logService;abilityService;name="Pig";tier=1;pack="Turtle";health=1;attack=4;initAbilities(){this.addAbility(new Ms(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Pigeon:class G1 extends D{logService;abilityService;name="Pigeon";tier=1;pack="Turtle";attack=3;health=1;initAbilities(){this.addAbility(new Gl(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Snail:class Nf extends D{logService;abilityService;name="Snail";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new Ff(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Crab:class W2 extends D{logService;abilityService;name="Crab";tier=2;pack="Turtle";health=1;attack=4;initAbilities(){this.addAbility(new pS(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Swan:class H1 extends D{logService;abilityService;name="Swan";tier=2;pack="Turtle";health=2;attack=1;initAbilities(){this.addAbility(new Of(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Rat:class K2 extends D{logService;abilityService;name="Rat";tier=2;pack="Turtle";health=6;attack=3;initAbilities(){this.addAbility(new gS(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Hedgehog:class q1 extends D{logService;abilityService;name="Hedgehog";tier=2;pack="Turtle";attack=4;health=2;initAbilities(){this.addAbility(new Bf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Peacock:class U1 extends D{logService;abilityService;name="Peacock";tier=2;pack="Turtle";health=5;attack=2;initAbilities(){this.addAbility(new _u(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Flamingo:class Su extends D{logService;abilityService;name="Flamingo";tier=2;pack="Turtle";health=2;attack=3;initAbilities(){this.addAbility(new Pu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Worm:class ep extends D{logService;abilityService;name="Worm";tier=2;pack="Turtle";health=4;attack=1;initAbilities(){this.addAbility(new tp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Kangaroo:class ku extends D{logService;abilityService;name="Kangaroo";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new ip(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Spider:$f,Dodo:class mS extends D{logService;abilityService;name="Dodo";tier=3;pack="Turtle";health=2;attack=4;initAbilities(){this.addAbility(new np(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Badger:class Ls extends D{logService;abilityService;name="Badger";tier=3;pack="Turtle";health=3;attack=6;initAbilities(){this.addAbility(new wu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Dolphin:fS,Giraffe:class yS extends D{logService;abilityService;name="Giraffe";tier=3;pack="Turtle";attack=1;health=2;initAbilities(){this.addAbility(new rp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Elephant:class V1 extends D{logService;abilityService;name="Elephant";tier=3;pack="Turtle";health=7;attack=3;initAbilities(){this.addAbility(new Hf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Camel:class W1 extends D{logService;abilityService;name="Camel";tier=3;pack="Turtle";health=3;attack=3;initAbilities(){this.addAbility(new Ns(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Rabbit:class K1 extends D{logService;abilityService;name="Rabbit";tier=3;pack="Turtle";health=2;attack=1;initAbilities(){this.addAbility(new jf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Ox:class ap extends D{logService;abilityService;name="Ox";tier=3;pack="Turtle";health=3;attack=1;initAbilities(){this.addAbility(new op(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Dog:class bS extends D{logService;abilityService;name="Dog";tier=3;pack="Turtle";attack=3;health=2;initAbilities(){this.addAbility(new sp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Sheep:class qf extends D{logService;abilityService;name="Sheep";tier=3;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new Hl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Parrot:Eu,Skunk:class _S extends D{logService;abilityService;name="Skunk";tier=4;pack="Turtle";attack=3;health=5;initAbilities(){this.addAbility(new cp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Hippo:class z1 extends D{logService;abilityService;name="Hippo";tier=4;pack="Turtle";attack=4;health=6;initAbilities(){this.addAbility(new Fs(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Bison:class up extends D{logService;abilityService;name="Bison";tier=4;pack="Turtle";attack=4;health=4;initAbilities(){this.addAbility(new SS(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Blowfish:class Y1 extends D{logService;abilityService;name="Blowfish";tier=4;pack="Turtle";attack=3;health=6;initAbilities(){this.addAbility(new dp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Turtle:class Vf extends D{logService;abilityService;name="Turtle";tier=4;pack="Turtle";attack=2;health=5;initAbilities(){this.addAbility(new Wf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Squirrel:class PS extends D{logService;abilityService;name="Squirrel";tier=4;pack="Turtle";attack=3;health=5;initAbilities(){this.addAbility(new kS(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Penguin:class z2 extends D{logService;abilityService;name="Penguin";tier=4;pack="Turtle";attack=2;health=3;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Deer:class ES extends D{logService;abilityService;name="Deer";tier=4;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new Yf(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Whale:CS,Scorpion:class X1 extends D{logService;abilityService;name="Scorpion";tier=5;pack="Turtle";attack=1;health=1;initAbilities(){this.addAbility(new IS(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Crocodile:class Xf extends D{logService;abilityService;name="Crocodile";tier=5;pack="Turtle";attack=8;health=4;initAbilities(){this.addAbility(new Jf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Rhino:class J1 extends D{logService;abilityService;name="Rhino";tier=5;pack="Turtle";attack=6;health=7;initAbilities(){this.addAbility(new Qf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Monkey:$o,Armadillo:class Zf extends D{logService;abilityService;name="Armadillo";tier=5;pack="Turtle";attack=4;health=8;initAbilities(){this.addAbility(new Cu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Cow:class Q1 extends D{logService;abilityService;name="Cow";tier=5;pack="Turtle";attack=4;health=6;initAbilities(){this.addAbility(new Go(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Seal:class MS extends D{logService;abilityService;name="Seal";tier=5;pack="Turtle";attack=3;health=8;initAbilities(){this.addAbility(new ey(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Rooster:class eE extends D{logService;abilityService;name="Rooster";tier=5;pack="Turtle";attack=6;health=5;initAbilities(){this.addAbility(new iy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Shark:class hp extends D{logService;abilityService;name="Shark";tier=5;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new ny(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Turkey:class RS extends D{logService;abilityService;name="Turkey";tier=5;pack="Turtle";attack=3;health=4;initAbilities(){this.addAbility(new jl(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Leopard:class pp extends D{logService;abilityService;name="Leopard";tier=6;pack="Turtle";attack=10;health=4;initAbilities(){this.addAbility(new ry(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Boar:class tE extends D{logService;abilityService;name="Boar";tier=6;pack="Turtle";attack=10;health=6;initAbilities(){this.addAbility(new ay(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Tiger:class LS extends D{logService;abilityService;name="Tiger";tier=6;pack="Turtle";attack=6;health=4;initAbilities(){this.addAbility(new gp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Wolverine:class Y2 extends D{logService;abilityService;name="Wolverine";tier=6;pack="Turtle";attack=5;health=7;initAbilities(){this.addAbility(new oy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Gorilla:class iE extends D{logService;abilityService;name="Gorilla";tier=6;pack="Turtle";attack=7;health=10;initAbilities(){this.addAbility(new mp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Dragon:class nE extends D{logService;abilityService;name="Dragon";tier=6;pack="Turtle";attack=3;health=8;initAbilities(){this.addAbility(new fp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Mammoth:class NS extends D{logService;abilityService;name="Mammoth";tier=6;pack="Turtle";attack=4;health=12;initAbilities(){this.addAbility(new sy(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Cat:class FS extends D{logService;abilityService;name="Cat";tier=6;pack="Turtle";attack=4;health=5;initAbilities(){this.addAbility(new ly(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Snake:class yp extends D{logService;abilityService;name="Snake";tier=6;pack="Turtle";attack=8;health=3;initAbilities(){this.addAbility(new xu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Fly:class rE extends D{logService;abilityService;name="Fly";tier=6;pack="Turtle";attack=4;health=4;initAbilities(){this.addAbility(new Du(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}};class vp extends C{logService;constructor(e,t){super({name:"MothAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getFurthestUpPet(a),d=l.pet;if(null==d)return;let p=2*this.level;d.increaseAttack(p),this.logService.createLog({message:`${a.name} gave ${d.name} ${p} attack.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new vp(e,this.logService)}}class dy extends C{logService;abilityService;constructor(e,t,i){super({name:"BluebirdAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.getRandomPet([t]),n=i.pet;if(!n)return;const o=this.level;n.increaseAttack(o),this.logService.createLog({message:`${t.name} gave ${n.name} +${o} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new dy(e,this.logService,this.abilityService)}}class OS extends D{logService;abilityService;name="Loyal Chinchilla";tier=1;pack="Puppy";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new hy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class hy extends C{logService;abilityService;constructor(e,t,i){super({name:"LoyalChinchillaAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new hy(e,this.logService,this.abilityService)}}class Bs extends C{logService;abilityService;constructor(e,t,i){super({name:"ChinchillaAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level,o=2*i,a=new OS(this.logService,this.abilityService,t.parent,o,o,null,this.minExpForLevel),l=t.parent.summonPet(a,t.savedPosition,!1,t);l.success&&this.logService.createLog({message:`${t.name} summoned a ${o}/${o} Loyal Chinchilla (level ${i}).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:l.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Bs(e,this.logService,this.abilityService)}}class jo extends Fe{name="Walnut";tier=1;equipmentClass="shield";power=2;originalPower=2;uses=1;originalUses=1}class Vl extends C{logService;abilityService;constructor(e,t,i){super({name:"BeetleAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;let l;switch(this.level){case 1:l=new jo;break;case 2:l=new jo,l.power=4,l.originalPower=4;break;case 3:l=new jo,l.power=6,l.originalPower=6}let d=a.parent.getPetsWithEquipment(l.name),p=a.parent.nearestPetsBehind(1,a,d);if(0===p.pets.length)return;let b=p.pets[0];this.logService.createLog({message:`${a.name} gave ${b.name} ${l.name}.`,type:"ability",player:a.parent,tiger:n,randomEvent:p.random}),b.givePetEquipment(l),this.triggerTigerExecution(e)}copy(e){return new Vl(e,this.logService,this.abilityService)}}class py extends C{logService;constructor(e,t){super({name:"LadybugAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=2*this.level,d=a.parent.getThis(a);d.pet&&(d.pet.increaseAttack(l),this.logService.createLog({message:`${a.name} gave ${d.pet.name} ${l} attack.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random})),this.triggerTigerExecution(e)}copy(e){return new py(e,this.logService)}}class gy extends C{logService;abilityService;constructor(e,t,i){super({name:"ChipmunkAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.equipment,n=this.level;if(!i)return this.logService.createLog({message:`${t.name} had no food perk to stock.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e);this.logService.createLog({message:`${t.name} stocked ${n} free ${i.name}${1===n?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new gy(e,this.logService,this.abilityService)}}class my extends C{logService;constructor(e,t){super({name:"GeckoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null!=this.owner.parent.toy,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=2*this.level,p=a.parent.getThis(a).pet;null!=p&&(p.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${p.name} ${l} health.`,type:"ability",player:a.parent,tiger:n}),this.triggerTigerExecution(e))}copy(e){return new my(e,this.logService)}}let Nt=(()=>{class r{static injector;static setInjector(t){r.injector||(r.injector=t)}static getInjector(){return r.injector}static \u0275fac=function(i){return new(i||r)};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const $S={Turtle:["Cake","Chili","Coconut","Garlic","Honey","Meat Bone","Melon","Mushroom","Peanut","Steak"],Puppy:["Blackberry","Croissant","Egg","Eucalyptus","Lemon","Lime","Mild Chili","Pancakes","Pie","Rice","Salt","Skewer","Squash","Walnut"],Star:["Baguette","Caramel","Carrot","Cheese","Cucumber","Grapes","Pepper","Popcorn","Seaweed","Strawberry"],Golden:["Banana","Bok Choy","Cherry","Chocolate Cake","Durian","Eggplant","Fig","Honeydew Melon","Maple Syrup","Onion","Pita Bread","Potato","Tomato"],Unicorn:["Ambrosia","Easter Egg","Faint Bread","Fairy Dust","Gingerbread Man","Golden Egg","Health Potion","Love Potion","Magic Beans","Rambutan","Yggdrasil Fruit"],Danger:["Cocoa Bean","Cod Roe","Gros Michel Banana","Sudduth Tomato","White Okra","White Truffle"],Custom:["Blueberry","Brussels Sprout","Cashew Nut","Cauliflower","Churros","Donut","Fortune Cookie","Guava","Kiwano","Kiwifruit","Macaron","Melon Slice","Nachos","Oyster Mushroom","Pineapple","Pumpkin","Radish","Sardinian Currant","Sausage","Unagi"],Hidden:["Cake Slice","Peanut Butter"]},qo={Ailments:["Bloated","Cold","Confused","Crisp","Cursed","Dazed","Icky","Inked","Sad","Silly","Sleepy","Spooked","Tasty","Toasty","Weak","Webbed"]};function Mu(r){const e=r.filter(t=>!!t).sort((t,i)=>i.length-t.length).map(t=>function yy(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(t));return e.length?new RegExp(`(?<![A-Za-z0-9])(${e.join("|")})(?![A-Za-z0-9])`,"g"):null}function fy(r,e,t){const i=new Map;for(const n of t)n&&i.set(n,"equipment");for(const n of e)n&&i.set(n,"toy");for(const n of r)n&&i.set(n,"pet");return i}function GS(r,e,t){const i=new Set;return r.forEach(n=>n&&i.add(n)),e.forEach(n=>n&&i.add(n)),t.forEach(n=>n&&i.add(n)),Mu(Array.from(i))}function Ap(r,e,t,i){if(!r||r.includes("<img")||!e)return r;let n=Ru(r,e,U=>function oE(r,e,t){const i=e.get(r)??null;if("pet"===i)return rn(r);if("toy"===i)return xs(r);if("equipment"===i){const n=t.has(r);return cr(r,n)??cr(r,!n)}return null}(U,t,i),U=>function sE(r,e,t){if("equipment"!==(e.get(r)??null))return null;const n=t.has(r),o=cr(r,n);if(!o)return null;const a=cr(r,!n);return`<img src="${o}" class="log-inline-icon" alt="${r}" onerror="if(!this.dataset.step){${a?`this.dataset.step='1';this.src='${a}';`:"this.dataset.step='1';"}return;}this.remove();"> ${r}`}(U,t,i));return n=Ru(n,/(?<![A-Za-z0-9])mana(?![A-Za-z0-9])(?!\s+Potion)/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/mana.png"),n=Ru(n,/(?<![A-Za-z0-9])(?:xp|exp)(?![A-Za-z0-9])/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/xp.png"),n=Ru(n,/(?<![A-Za-z0-9])gold(?![A-Za-z0-9])/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/gold.png"),n=Ru(n,/(?<![A-Za-z0-9])trumpets?(?![A-Za-z0-9])/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/trumpet.png"),n}function Ru(r,e,t,i){return r.split(/(<[^>]+>)/g).map(n=>n.startsWith("<")?n:function X2(r,e,t,i){return e?r.replace(e,n=>{const o=t(n);if(i){const a=i(n,o);if(a)return a}return o?`<img src="${o}" class="log-inline-icon" alt="${n}" onerror="this.remove()"> ${n}`:n}):r}(n,e,t,i)).join("")}function vy(r,e){const t=Kl(r,"lost","attack"),i=Kl(e,"lost","health");if(t&&i&&t.prefix===i.prefix&&t.suffix===i.suffix)return`${t.prefix}${t.value} attack and ${i.value} health${t.suffix}`;const n=Kl(r,"gave","attack"),o=Kl(e,"gave","health");return n&&o&&n.prefix===o.prefix&&n.suffix===o.suffix?`${n.prefix}${n.plus}${n.value} attack and ${o.plus}${o.value} health${n.suffix}`:null}function Kl(r,e,t){if("lost"===e){const o=new RegExp(`^(.*\\blost\\s+)(\\d+)\\s+${t}\\b(.*)$`,"i"),a=r.match(o);return a?{prefix:a[1],plus:"",value:a[2],suffix:a[3]}:null}const i=new RegExp(`^(.*\\b(?:gave|give|gives)\\b.*?\\s+)(\\+?)(\\d+)\\s+${t}\\b(.*)$`,"i"),n=r.match(i);return n?{prefix:n[1],plus:n[2]??"",value:n[3],suffix:n[4]}:null}function HS(r){return r.replace(/<[^>]+>/g,"").trim()}function sa(r,e,t){if(null==r)return"___ (-/-) ";const i=e(r),n=null!=i?`${r.parent?.isOpponent?"O":"P"}${i} `:"",o=rn(r.name),a=o?`<img src="${o}" class="log-pet-icon" alt="${r.name}">`:"",l="string"==typeof r.equipment?.name?r.equipment.name:null,d=l?(()=>{const T=t(l),F=cr(l,T)??cr(l,!T);if(!F)return"";const U=cr(l,!T);return`<img src="${F}" class="log-inline-icon" alt="${l}" onerror="if(!this.dataset.step){${U?`this.dataset.step='1';this.src='${U}';`:"this.dataset.step='1';"}return;}this.remove()">`})():"",p=Number.isFinite(r.mana)?Math.max(0,Math.trunc(r.mana)):0;return`${n}${a}${d}(${r.attack}/${r.health}/${r.exp}xp${p>0?`/${p}mana`:""}) `}let Yn=(()=>{class r{logs=[];petNameRegex;toyNameRegex;equipmentNameRegex;inlineNameRegex;inlineNameTypeMap;ailmentNames;enabled=!0;deferDecorations=!1;showTriggerNamesInLogs=!1;debugSummonBoardStateLogs=!1;constructor(){const t=No(),i=wa(),n=Au();this.petNameRegex=Mu(t),this.toyNameRegex=Mu(i),this.equipmentNameRegex=Mu(n),this.inlineNameTypeMap=fy(t,i,n),this.inlineNameRegex=GS(t,i,n),this.ailmentNames=new Set(Object.values(qo).flat().filter(Boolean))}setEnabled(t){this.enabled=!!t,this.enabled||(this.logs=[])}isEnabled(){return this.enabled}setDeferDecorations(t){this.deferDecorations=!!t}isDeferDecorations(){return this.deferDecorations}setShowTriggerNamesInLogs(t){this.showTriggerNamesInLogs=!!t}isShowTriggerNamesInLogs(){return this.showTriggerNamesInLogs}setDebugSummonBoardStateLogs(t){this.debugSummonBoardStateLogs=!!t}isDebugSummonBoardStateLogs(){return this.debugSummonBoardStateLogs}decorateLogIfNeeded(t){if(!t||t.decorated||!t.rawMessage)return;const i=this.decorateMessageWithNames(t.rawMessage,t.sourcePet,t.targetPet,t.sourceIndex,t.targetIndex);t.message=Ap(i,this.inlineNameRegex,this.inlineNameTypeMap,this.ailmentNames),t.decorated=!0}createLog(t){if(!this.enabled)return;t.message?.startsWith("Phase ")&&(t.bold=!0),this.resolveLogMetadata(t);let i=this.decorateLogMessage(t);i=this.appendTagSuffixes(i,t),this.persistDecoratedMessage(t,i);const n=this.logs[this.logs.length-1],o=this.shouldAppendSummonBoardState(t);this.tryMergeAttackHealthLogs(n,t)||(this.shouldCollapseLog(n,t)?n.count=(n.count??1)+1:this.logs.push(t)),o&&this.appendSummonBoardStateLog(t)}resolveLogMetadata(t){if(!t.sourcePet&&t.player&&t.message){const i=t.player.petArray.filter(n=>n&&t.message.startsWith(n.name));1===i.length&&(t.sourcePet=i[0])}"attack"===t.type&&t.player&&t.message&&this.resolveAttackPetsFromMessage(t),!t.randomEventReason&&!0===t.randomEvent&&(t.randomEventReason="true-random"),t.player&&t.message&&this.resolveSourceTargetFromMessage(t),t.sourcePet&&null==t.sourceIndex&&(t.sourceIndex=this.getFrontIndex(t.sourcePet)??void 0),t.targetPet&&null==t.targetIndex&&(t.targetIndex=this.getFrontIndex(t.targetPet)??void 0)}decorateLogMessage(t){const i=t.message??"";return this.deferDecorations?i:this.decorateMessageWithNames(i,t.sourcePet,t.targetPet,t.sourceIndex,t.targetIndex)}appendTagSuffixes(t,i){let n=t;return i.tiger&&(n+=" (Tiger)"),i.puma&&(n+=" (Puma)"),i.pteranodon&&(n+=" (Pteranodon)"),null!=i.pantherMultiplier&&i.pantherMultiplier>1&&(n+=` x${i.pantherMultiplier} (Panther)`),n}persistDecoratedMessage(t,i){if(i){if(this.deferDecorations)return t.rawMessage=i,t.message=i,void(t.decorated=!1);t.message=Ap(i,this.inlineNameRegex,this.inlineNameTypeMap,this.ailmentNames),t.decorated=!0}}shouldCollapseLog(t,i){if(!t)return!1;const n=t.player===i.player;return t.message?.trim()===i.message?.trim()&&n&&t.randomEvent===i.randomEvent&&t.randomEventReason===i.randomEventReason&&(!(null!=i.sourcePet||null!=i.targetPet||null!=i.sourceIndex||null!=i.targetIndex)||t.sourcePet===i.sourcePet&&t.sourceIndex===i.sourceIndex&&t.targetPet===i.targetPet&&t.targetIndex===i.targetIndex)}getLogs(){return this.logs}reset(){this.logs=[]}getFrontIndex(t){const i=t?.parent;return i?i.pet0===t?1:i.pet1===t?2:i.pet2===t?3:i.pet3===t?4:i.pet4===t?5:null:null}decorateMessage(t,i){const n=this.getFrontIndex(i);return null==n?t:this.replaceFirst(t,i.name,`${i.parent?.isOpponent?"O":"P"}${n} ${i.name}`)}decorateAttackMessage(t,i,n,o,a){const l=o??this.getFrontIndex(i),d=a??this.getFrontIndex(n);if(null==l||null==d)return t;const T=`${i.parent?.isOpponent?"O":"P"}${l} ${i.name}`,F=`${n.parent?.isOpponent?"O":"P"}${d} ${n.name}`,U="___SOURCE_HOLDER___",ee="___TARGET_HOLDER___";let Z=this.replaceFirst(t,i.name,U);return Z=this.replaceFirst(Z,n.name,ee),Z=Z.replace(U,T),Z=Z.replace(ee,F),Z}decorateMessageWithNames(t,i,n,o,a){return t?i&&n?this.decorateAttackMessage(t,i,n,o,a):i?null!=o?this.replaceFirst(t,i.name,`${i.parent?.isOpponent?"O":"P"}${o} ${i.name}`):this.decorateMessage(t,i):t:t}replaceFirst(t,i,n){const o=t.indexOf(i);return-1===o?t:t.slice(0,o)+n+t.slice(o+i.length)}resolveAttackPetsFromMessage(t){if(!t?.message||!t.player||t.sourcePet&&t.targetPet)return;const i=t.message,n=/^(.+?)\s+sniped\s+(.+?)\s+for\s+/i.exec(i),o=/^(.+?)\s+(?:jump-)?attacks?\s+(.+?)\s+for\s+/i.exec(i),a=n??o;if(!a)return;const l=a[1].trim(),d=a[2].trim(),p=t.player.petArray??[],b=t.player.opponent?.petArray??[];t.sourcePet||(t.sourcePet=p.find(T=>T?.name===l)??null),t.targetPet||(t.targetPet=b.find(T=>T?.name===d)??p.find(T=>T?.name===d)??null)}isAilmentName(t){return this.ailmentNames.has(t)}resolveSourceTargetFromMessage(t){if(t.sourcePet&&t.targetPet)return;const i=t.message;if(!i)return;const n=this.extractPetNames(i);if(n.length<2)return;const o=t.player?.petArray??[],a=t.player?.opponent?.petArray??[],l=(d,p,b)=>d.find(T=>T?.name===p&&T!==b)??null;t.sourcePet||(t.sourcePet=l(o,n[0])??l(a,n[0])),t.targetPet||(t.targetPet=n[1]===n[0]?t.sourcePet&&i.startsWith(t.sourcePet.name)&&t.sourcePet?t.sourcePet:l(o,n[1],t.sourcePet)??l(a,n[1],t.sourcePet)??t.sourcePet??null:l(a,n[1])??l(o,n[1]))}extractPetNames(t){return this.petNameRegex&&t?t.match(this.petNameRegex)??[]:[]}tryMergeAttackHealthLogs(t,i){const n=function by(r,e){if(!r||!e||r.player!==e.player||r.type!==e.type||r.randomEvent!==e.randomEvent||r.randomEventReason!==e.randomEventReason||r.sourcePet!==e.sourcePet||r.sourceIndex!==e.sourceIndex||r.targetPet!==e.targetPet||r.targetIndex!==e.targetIndex||r.tiger!==e.tiger||r.puma!==e.puma||r.pteranodon!==e.pteranodon)return null;if((r.pantherMultiplier??null)!==(e.pantherMultiplier??null))return null;const n=HS(r.rawMessage??r.message??""),o=HS(e.rawMessage??e.message??"");return!n||!o||n.includes(" attack and ")||n.includes(" health and ")||o.includes(" attack and ")||o.includes(" health and ")?null:vy(n,o)??vy(o,n)}(t,i);if(!n)return!1;if(this.deferDecorations)t.rawMessage=n,t.message=n,t.decorated=!1;else{const o=this.decorateMessageWithNames(n,t.sourcePet,t.targetPet,t.sourceIndex,t.targetIndex);t.message=Ap(o,this.inlineNameRegex,this.inlineNameTypeMap,this.ailmentNames),t.decorated=!0}return!0}shouldAppendSummonBoardState(t){return!!(this.debugSummonBoardStateLogs&&t?.message&&"board"!==t.type&&t.player&&t.player.opponent)&&/\b(summoned|spawned)\b|^No room to spawn\b/i.test(t.message)}appendSummonBoardStateLog(t){const i=t.player,n=t.player?.opponent;!i||!n||this.logs.push({message:this.buildPlainBoardStateMessage(i,n),type:"board",player:i})}buildPlainBoardStateMessage(t,i){return`${[t.pet4,t.pet3,t.pet2,t.pet1,t.pet0].map(a=>this.renderPlainPetText(a)).join(" ")} | ${[i.pet0,i.pet1,i.pet2,i.pet3,i.pet4].map(a=>this.renderPlainPetText(a)).join(" ")}`}renderPlainPetText(t){if(!t)return"___ (-/-)";const i=this.getFrontIndex(t);return`${null!=i?`${t.parent?.isOpponent?"O":"P"}${i}`:"P?"} ${t.name}(${t.attack}/${t.health}/${t.exp}xp)`}printState(t,i,n){if(!this.enabled)return;n&&this.createLog({message:n,type:"board"});const o=function lE(r,e,t,i){let n="";r.toy&&(n+=`{{toy:${r.toy.name}}} `),r.hardToy&&(n+=`{{hardtoy:${r.hardToy.name}}} `),n+=sa(r.pet4,t,i),n+=sa(r.pet3,t,i),n+=sa(r.pet2,t,i),n+=sa(r.pet1,t,i),n+=sa(r.pet0,t,i);let o="";return o+=sa(e.pet0,t,i),o+=sa(e.pet1,t,i),o+=sa(e.pet2,t,i),o+=sa(e.pet3,t,i),o+=sa(e.pet4,t,i),e.toy&&(o+=`{{toy:${e.toy.name}}} `),e.hardToy&&(o+=`{{hardtoy:${e.hardToy.name}}} `),`${n}| ${o}`}(t,i,a=>this.getFrontIndex(a),a=>this.isAilmentName(a));this.createLog({message:o,type:"board"})}static \u0275fac=function(i){return new(i||r)};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class _p{triggerSummonEvents(e){const t=e?.parent;if(t&&Array.isArray(t.petArray)){this.triggerFriendSummonedToyEvents(t,e);for(let n of this.abilityQueueService.getTeam(t))n==e?this.abilityQueueService.triggerAbility(n,"ThisSummoned",e):(this.abilityQueueService.triggerAbility(n,"FriendSummoned",e),this.abilityQueueService.handleNumberedCounterTriggers(n,e,void 0,this.abilityQueueService.getNumberedTriggersForPet(n,"FriendSummoned")),"Bee"===e.name&&this.abilityQueueService.triggerAbility(n,"BeeSummoned",e));(t.opponent&&Array.isArray(t.opponent.petArray)?t.opponent.petArray:[]).forEach(n=>this.abilityQueueService.triggerAbility(n,"EnemySummoned",e)),this.executeFriendSummonedToyEvents()}}triggerFaintEvents(e){this.faintEventService.triggerFaintEvents(e)}triggerAfterFaintEvents(e){this.faintEventService.triggerAfterFaintEvents(e)}triggerFoodEvents(e,t){!function xa(r,e,t){for(const i of r.getTeam(e))r.triggerAbility(i,"FoodEatenByAny",e),r.triggerAbility(i,"FoodEatenByFriendly",e),i==e?(r.triggerAbility(i,"FoodEatenByThis",e),"apple"===t?(r.triggerAbility(i,"AppleEatenByThis",e),r.handleNumberedCounterTriggers(i,e,void 0,r.getNumberedTriggersForPet(i,"AppleEatenByThis"))):"corn"===t&&r.triggerAbility(i,"CornEatenByThis",e),r.handleNumberedCounterTriggers(i,e,void 0,r.getNumberedTriggersForPet(i,"Eat"))):(r.triggerAbility(i,"FoodEatenByFriend",e),"corn"===t&&r.triggerAbility(i,"CornEatenByFriend",e));for(const i of r.getTeam(e.parent?.opponent))r.triggerAbility(i,"FoodEatenByAny",e)}(this.abilityQueueService,e,t)}triggerPerkGainEvents(e,t){!function Lu(r,e,t){for(const i of r.getTeam(e))r.triggerAbility(i,"FriendlyGainsPerk",e),"Strawberry"===t&&r.triggerAbility(i,"FriendlyGainedStrawberry",e),i==e?(r.triggerAbility(i,"ThisGainedPerk",e),"Strawberry"===t&&r.triggerAbility(i,"ThisGainedStrawberry",e)):(r.triggerAbility(i,"FriendGainsPerk",e),"Strawberry"===t&&r.triggerAbility(i,"FriendGainedStrawberry",e))}(this.abilityQueueService,e,t)}triggerPerkLossEvents(e,t){!function Ci(r,e,t){for(const i of r.getTeam(e))r.triggerAbility(i,"PetLostPerk",e),"strawberry"===t&&r.triggerAbility(i,"LostStrawberry",e),i==e?r.triggerAbility(i,"ThisLostPerk",e):(r.triggerAbility(i,"FriendLostPerk",e),"strawberry"===t&&r.triggerAbility(i,"FriendLostStrawberry",e));for(const i of r.getTeam(e.parent?.opponent))r.triggerAbility(i,"PetLostPerk",e)}(this.abilityQueueService,e,t)}triggerAilmentGainEvents(e,t){!function $s(r,e,t){for(const i of r.getTeam(e))r.triggerAbility(i,"AnyoneGainedAilment",e),r.triggerAbility(i,i==e?"ThisGainedAilment":"FriendGainsAilment",e),"weak"===t&&r.triggerAbility(i,"AnyoneGainedWeak",e);for(const i of r.getTeam(e.parent?.opponent))r.triggerAbility(i,"EnemyGainedAilment",e),r.triggerAbility(i,"AnyoneGainedAilment",e),"weak"===t&&r.triggerAbility(i,"AnyoneGainedWeak",e)}(this.abilityQueueService,e,t)}triggerTransformEvents(e){const t=e.transformedInto;if(t)for(let i of this.abilityQueueService.getTeam(t))i==t?this.abilityQueueService.triggerAbility(i,"ThisTransformed",t):(this.abilityQueueService.triggerAbility(i,"FriendTransformed",t),this.abilityQueueService.handleNumberedCounterTriggers(i,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(i,"FriendTransformed")))}triggerFlungEvents(e){for(let t of this.abilityQueueService.getTeam(e))this.abilityQueueService.triggerAbility(t,"AnyoneFlung",e),t!=e&&this.abilityQueueService.triggerAbility(t,"FriendFlung",e);for(let t of this.abilityQueueService.getTeam(e.parent?.opponent))this.abilityQueueService.triggerAbility(t,"AnyoneFlung",e)}triggerPushedEvents(e){for(let t of this.abilityQueueService.getTeam(e.parent?.opponent))this.abilityQueueService.triggerAbility(t,"EnemyPushed",e)}triggerKillEvents(e,t){t.parent!==e.parent&&this.abilityQueueService.triggerAbility(e,"KnockOut",t)}triggerHurtEvents(e,t){const i=void 0!==t?{damageAmount:t}:void 0;for(let n of this.abilityQueueService.getTeam(e))this.abilityQueueService.triggerAbility(n,"AnyoneHurt",e,i),n==e?(this.abilityQueueService.triggerAbility(n,"ThisHurt",e,i),this.abilityQueueService.handleNumberedCounterTriggers(n,e,i,this.abilityQueueService.getNumberedTriggersForPet(n,"ThisHurt"))):(this.abilityQueueService.triggerAbility(n,"FriendHurt",e,i),this.abilityQueueService.handleNumberedCounterTriggers(n,e,i,this.abilityQueueService.getNumberedTriggersForPet(n,"FriendHurt"))),n==e.petBehind(void 0,!0)&&this.abilityQueueService.triggerAbility(n,"FriendAheadHurt",e,i),(n==n.petBehind()||n.petAhead)&&this.abilityQueueService.triggerAbility(n,"AdjacentFriendsHurt",e,i),n.position<e.position&&this.abilityQueueService.triggerAbility(n,"AnyoneBehindHurt",e,i);for(let n of this.abilityQueueService.getTeam(e.parent?.opponent))this.abilityQueueService.triggerAbility(n,"EnemyHurt",e,i),this.abilityQueueService.triggerAbility(n,"AnyoneHurt",e,i),this.abilityQueueService.handleNumberedCounterTriggers(n,e,i,this.abilityQueueService.getNumberedTriggersForPet(n,"EnemyHurt"))}triggerLevelUpEvents(e){const t=e.parent;this.triggerFriendlyLevelUpToyEvents(t,e);for(let i of t.petArray)this.abilityQueueService.triggerAbility(i,"AnyLeveledUp",e),this.abilityQueueService.triggerAbility(i,"FriendlyLeveledUp",e),i==e?this.abilityQueueService.triggerAbility(i,"ThisLeveledUp",e):(this.abilityQueueService.triggerAbility(i,"FriendLeveledUp",e),this.abilityQueueService.handleNumberedCounterTriggers(i,e,void 0,this.abilityQueueService.getNumberedTriggersForPet(i,"FriendlyLeveledUp")));if(t.opponent&&Array.isArray(t.opponent.petArray))for(let i of t.opponent.petArray)this.abilityQueueService.triggerAbility(i,"AnyLeveledUp",e)}triggerEmptyFrontSpaceEvents(e){for(let t of e.petArray)t.clearFrontTriggered||(this.abilityQueueService.triggerAbility(t,"EmptyFrontSpace"),t.clearFrontTriggered=!0)}executeEmptyFrontSpaceEvents(){this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:e=>"EmptyFrontSpace"===e.abilityType,onExecute:e=>this.logTriggerHeader(e)}),this.clearLastLoggedTrigger()}triggerToyBrokeEvents(e){for(let t of e.petArray)this.abilityQueueService.triggerAbility(t,"FriendlyToyBroke")}triggerJumpEvents(e){this.triggerFriendJumpedToyEvents(e.parent,e);for(let t of this.abilityQueueService.getTeam(e))this.abilityQueueService.triggerAbility(t,"AnyoneJumped",e),t==e||(this.abilityQueueService.triggerAbility(t,"FriendJumped",e),this.abilityQueueService.handleNumberedCounterTriggers(t,e,void 0,this.abilityQueueService.getNumberedTriggersForPet(t,"FriendJumped")));for(let t of this.abilityQueueService.getTeam(e.parent?.opponent))this.abilityQueueService.triggerAbility(t,"AnyoneJumped",e);this.executeFriendJumpedToyEvents()}triggerManaGainedEvents(e){this.abilityQueueService.triggerAbility(e,"ThisGainedMana",e)}setManaEvent(e){e.abilityType="ManaSnipe",this.abilityQueueService.addEventToQueue(e)}setgoldenRetrieverSummonsEvent(e){e.abilityType="GoldenRetrieverSummons",this.abilityQueueService.addEventToQueue(e)}triggerFriendGainsHealthEvents(e){}triggerFriendGainedExperienceEvents(e){for(let t of this.abilityQueueService.getTeam(e))this.abilityQueueService.triggerAbility(t,"FriendlyGainedExp",e),t!==e&&this.abilityQueueService.triggerAbility(t,"FriendGainedExp",e)}triggerEmptyFrontSpaceToyEvents(e){this.toyEventService.triggerEmptyFrontSpaceToyEvents(e)}executeEmptyFrontSpaceToyEvents(){this.toyEventService.executeEmptyFrontSpaceToyEvents()}triggerFriendSummonedToyEvents(e,t){this.toyEventService.triggerFriendSummonedToyEvents(e,t)}executeFriendSummonedToyEvents(){this.toyEventService.executeFriendSummonedToyEvents()}triggerFriendlyLevelUpToyEvents(e,t){this.toyEventService.triggerFriendlyLevelUpToyEvents(e,t)}executeFriendlyLevelUpToyEvents(){this.toyEventService.executeFriendlyLevelUpToyEvents()}triggerFriendFaintsToyEvents(e,t){this.toyEventService.triggerFriendFaintsToyEvents(e,t)}executeFriendFaintsToyEvents(){this.toyEventService.executeFriendFaintsToyEvents()}triggerFriendJumpedToyEvents(e,t){this.toyEventService.triggerFriendJumpedToyEvents(e,t)}executeFriendJumpedToyEvents(){this.toyEventService.executeFriendJumpedToyEvents()}}let Zi=(()=>{class r{gameApi;constructor(){}init(t,i){this.gameApi={player:t,opponent:i}}setTierGroupPets(t,i){null!=t&&(this.gameApi.playerPetPool=t),null!=i&&(this.gameApi.opponentPetPool=i)}setPreviousShopTier(t){this.gameApi.previousShopTier=t}setTurnNumber(t){this.gameApi.turnNumber=t}setGoldSpent(t,i){null!=t&&(this.gameApi.playerGoldSpent=t),null!=i&&(this.gameApi.opponentGoldSpent=i)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Sp=(()=>{class r{gameService;logService;startOfBattleToyEvents=[];emptyFrontSpaceToyEvents=[];friendSummonedToyEvents=[];friendlyLevelUpToyEvents=[];friendFaintsToyEvents=[];friendJumpedToyEvents=[];constructor(t,i){this.gameService=t,this.logService=i,this.logService=nr(this.logService)}enqueueToyEvents(t,i,n,o,a){this.addToyEvent(t,{callback:a,priority:100,level:n.level,triggerPet:o,player:i,customParams:{toyName:n.name,suppressFriendFaintLog:n.suppressFriendFaintLog}});const l=i.petArray.filter(d=>"Puma"===d.name);for(const d of l)this.addToyEvent(t,{callback:a,priority:+d.attack,level:d.level,triggerPet:o,player:i})}getActiveToys(t){const i=[];return t.toy&&i.push(t.toy),t.hardToy&&i.push(t.hardToy),i}addToyEvent(t,i){t.push(i)}setStartOfBattleEvent(t){t.tieBreaker=Zt(),this.startOfBattleToyEvents.push(t)}executeStartOfBattleEvents(){const t=Io(this.startOfBattleToyEvents);t.sort((n,o)=>n.priority!==o.priority?o.priority-n.priority:(o.tieBreaker??0)-(n.tieBreaker??0));const i=new Map;for(const n of t)i.set(n.priority,(i.get(n.priority)??0)+1);for(const n of t){const o=(i.get(n.priority)??0)>1;this.logStartOfBattleToyEvent(n,o,o?"tie-broken":"deterministic"),n.callback(this.gameService.gameApi)}this.startOfBattleToyEvents=[]}logStartOfBattleToyEvent(t,i,n){const o=t.customParams?.toyName??t.player?.toy?.name;o&&this.logService.createLog({message:`${t.player?.isOpponent?"Opponent's":"Player's"} ${o} activated at start of battle${t.triggerPet?.name?` (${t.triggerPet.name})`:""}`,type:"ability",player:t.player,randomEvent:i,randomEventReason:n})}executeToyEventQueue(t,i,n,o){const a=Io(t);a.sort((d,p)=>d.priority>p.priority?-1:d.priority<p.priority?1:0);const l=new Map;for(const d of a)l.set(d.priority,(l.get(d.priority)??0)+1);for(const d of a){if(n&&(null==o||o(d))){const p=(l.get(d.priority)??0)>1;this.logToyEvent(d,n,p,p?"tie-broken":"deterministic")}i(d)}t.length=0}logToyEvent(t,i,n,o){const a=t.customParams?.toyName??t.player?.toy?.name;a&&this.logService.createLog({message:`${a} ${i}${t.triggerPet?.name?` (${t.triggerPet.name})`:""}`,type:"ability",player:t.player,randomEvent:n,randomEventReason:o})}triggerEmptyFrontSpaceToyEvents(t){for(const i of this.getActiveToys(t))null!=i.emptyFromSpace&&(i.used||this.enqueueToyEvents(this.emptyFrontSpaceToyEvents,t,i,void 0,i.emptyFromSpace.bind(i)))}executeEmptyFrontSpaceToyEvents(){this.executeToyEventQueue(this.emptyFrontSpaceToyEvents,t=>{t.callback(this.gameService.gameApi,t.priority<100,t.level,t.priority)},"triggered after empty front space")}triggerFriendSummonedToyEvents(t,i){for(const n of this.getActiveToys(t))null!=n.friendSummoned&&this.enqueueToyEvents(this.friendSummonedToyEvents,t,n,i,n.friendSummoned.bind(n))}executeFriendSummonedToyEvents(){this.executeToyEventQueue(this.friendSummonedToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friend summoned")}triggerFriendlyLevelUpToyEvents(t,i){if(t==i.parent)for(const n of this.getActiveToys(t))null!=n.friendlyLevelUp&&this.enqueueToyEvents(this.friendlyLevelUpToyEvents,t,n,i,n.friendlyLevelUp.bind(n))}executeFriendlyLevelUpToyEvents(){this.executeToyEventQueue(this.friendlyLevelUpToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friendly level up")}triggerFriendFaintsToyEvents(t,i){if(t==i.parent)for(const n of this.getActiveToys(t))null!=n.friendFaints&&this.enqueueToyEvents(this.friendFaintsToyEvents,t,n,i,n.friendFaints.bind(n))}executeFriendFaintsToyEvents(){this.executeToyEventQueue(this.friendFaintsToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friend fainting",t=>!t.customParams?.suppressFriendFaintLog)}triggerFriendJumpedToyEvents(t,i){if(t==i.parent)for(const n of this.getActiveToys(t))null!=n.friendJumped&&this.enqueueToyEvents(this.friendJumpedToyEvents,t,n,i,n.friendJumped.bind(n))}executeFriendJumpedToyEvents(){this.executeToyEventQueue(this.friendJumpedToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friend jumping")}static \u0275fac=function(i){return new(i||r)(A.KVO(Zi),A.KVO(Yn))};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Or={ThisLeveledUp:1,FriendLeveledUp:2,FriendlyLeveledUp:2,ThisHurt:3,FriendHurt:4,EnemyHurt:4,AnyoneHurt:4,FriendAheadHurt:4,AnyoneBehindHurt:4,ThisGainedMana:5,ThisSummoned:6,FriendSummoned:7,EnemySummoned:7,BeeSummoned:7,EnemyPushed:8,FriendJumped:8,AnyoneJumped:8,Faint:9,FriendAheadFainted:10,FriendFaints:11,EnemyFaint:11,KnockOut:13,ThisTransformed:14,FriendTransformed:15,FriendGainedExp:16,FoodEatenByThis:17,FoodEatenByFriendly:17,AppleEatenByThis:17,CornEatenByFriend:17,CounterEvent:18,FriendLostPerk:19,PetLostPerk:19,ThisGainedPerk:20,FriendlyGainsPerk:21,FriendlyGainedStrawberry:21,ThisGainedAilment:20,FriendGainsAilment:21,EnemyGainedAilment:21,AnyoneGainedAilment:21,AnyoneFlung:22,ManaSnipe:23,PostRemovalFaint:25,PostRemovalFriendFaints:26,FriendlyToyBroke:26,EmptyFrontSpace:27,GoldenRetrieverSummons:28};function qS(r,e,t){t&&t(r),dE(r,e)}function dE(r,e,t){if(r.callback){const n=r.pet;if(n&&n.transformed&&n.transformedInto&&r.abilityType){const o=n.transformedInto;r.callback=(a,l)=>{o.executeAbilities(a,l,r.triggerPet,void 0,void 0,t)}}return void r.callback(r.abilityType,e,r.triggerPet)}const i=function jS(r){const e=r.pet;return e?e.transformed&&e.transformedInto?e.transformedInto:e:null}(r);i&&r.abilityType&&i.executeAbilities(r.abilityType,e,r.triggerPet,void 0,void 0,r.customParams||t)}let Pp=(()=>{class r{static BEFORE_ATTACK_PRIORITY_BONUS=2e4;static FRIENDLY_GAINS_PERK_SELF_PRIORITY_BONUS=1e4;static CHURROS_PRIORITY_OFFSET=1e3;static MACARON_PRIORITY_OFFSET=-1e3;globalEventQueue=[];numberedTriggerCache=new WeakMap;numberedTriggerRegexCache=new Map;constructor(){}addEventToQueue(t){t.tieBreaker=Zt();const i=this.findEventInsertionIndex(t);this.globalEventQueue.splice(i,0,t)}findEventInsertionIndex(t){let i=0,n=this.globalEventQueue.length;for(;i<n;){const o=Math.floor((i+n)/2);this.compareEventsForQueueOrder(t,this.globalEventQueue[o])<0?n=o:i=o+1}return i}compareEventsForQueueOrder(t,i){const n=this.getAbilityPriority(t.abilityType)-this.getAbilityPriority(i.abilityType);if(0!==n)return n;const o=i.priority-t.priority;return 0!==o?o:(t.tieBreaker??0)-(i.tieBreaker??0)}clearGlobalEventQueue(){this.globalEventQueue=[]}get hasGlobalEvents(){return this.globalEventQueue.length>0}processQueue(t,i){!function to(r,e,t){if(t?.shuffle)for(let i=r.length-1;i>0;i--){const n=we(0,i);[r[i],r[n]]=[r[n],r[i]]}if(t?.filter)!function uE(r,e,t,i){let n=r.findIndex(t);for(;-1!==n;){const[o]=r.splice(n,1);if(!o)break;qS(o,e,i),n=r.findIndex(t)}}(r,e,t.filter,t.onExecute);else for(;r.length>0;)qS(r.shift(),e,t?.onExecute)}(this.globalEventQueue,t,i)}getNextHighestPriorityEvent(){return this.globalEventQueue.shift()||null}peekNextHighestPriorityEvent(){return this.globalEventQueue.length>0?this.globalEventQueue[0]:null}executeEvent(t,i){dE(t,i)}getAbilityPriority(t){if("string"!=typeof t||0===t.length)return 999;const i=Or[t];if(null!=i)return i;const n=this.removeNumericSuffix(t);return n!==t?Or[n]??Or.CounterEvent??999:999}getPriorityNumber(t){return this.getAbilityPriority(t)}getPetEventPriority(t){let i=t.attack;return"Churros"===t.equipment?.name?i+=r.CHURROS_PRIORITY_OFFSET:"Macaron"===t.equipment?.name&&(i+=r.MACARON_PRIORITY_OFFSET),i}triggerAbility(t,i,n,o){if(t.hasTrigger(i)){let a=this.getPetEventPriority(t);("BeforeThisAttacks"===i||"BeforeFirstAttack"===i)&&(a+=r.BEFORE_ATTACK_PRIORITY_BONUS),"FriendlyGainsPerk"===i&&t===n&&(a+=r.FRIENDLY_GAINS_PERK_SELF_PRIORITY_BONUS);const l={...o??{},trigger:i,tigerSupportPet:t.petBehind(!0,!0)??null},d={priority:a,pet:t,triggerPet:n,abilityType:i,tieBreaker:Zt(),customParams:l};this.addEventToQueue(d)}}simulatePostRemovalFriendFaintsCounters(t,i){if(!t||i<=0)return;const n=this.getNumberedTriggersForPet(t,"PostRemovalFriendFaints");for(let o=0;o<i;o++)this.handleNumberedCounterTriggers(t,void 0,void 0,n)}handleCounterTriggers(t,i,n,o){for(const a of o)t.hasTrigger(a.trigger)&&(t.abilityCounter++,t.abilityCounter%a.modulo===0&&this.triggerAbility(t,a.trigger,i,n))}getTriggerModulo(t){const i=this.getNumericSuffix(t);return i?parseInt(i,10):null}handleNumberedCounterTriggers(t,i,n,o){const a=[];for(const l of o){const d=this.getTriggerModulo(l);null!=d&&a.push({trigger:l,modulo:d})}0!==a.length&&this.handleCounterTriggers(t,i,n,a)}getNumberedTriggersForPet(t,i){const n=t.abilityList;let o=this.numberedTriggerCache.get(t);(!o||o.listRef!==n||o.listLength!==n.length)&&(o={listRef:n,listLength:n.length,prefixMap:new Map},this.numberedTriggerCache.set(t,o));const a=o.prefixMap.get(i);if(a)return a;const l=new Set;let d=this.numberedTriggerRegexCache.get(i);d||(d=new RegExp(`^${i}\\d+$`),this.numberedTriggerRegexCache.set(i,d));for(const b of n)for(const T of b.triggers??[])d.test(T)&&l.add(T);const p=Array.from(l);return o.prefixMap.set(i,p),p}getNumericSuffix(t){if("string"!=typeof t||0===t.length)return null;const i=t.match(/(\d+)$/);return i?i[1]:null}removeNumericSuffix(t){return"string"!=typeof t||0===t.length?"":this.getNumericSuffix(t)?t.replace(/\d+$/,""):t}getTeam(t){const n=(t instanceof D?t.parent:t)?.petArray;return Array.isArray(n)?n:[]}static \u0275fac=function(i){return new(i||r)};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),hE=(()=>{class r{abilityQueueService;constructor(t){this.abilityQueueService=t}triggerBeforeAttackEvents(t){const i=t?.parent,n=i&&Array.isArray(i.petArray)?i.petArray:[];for(let o of n)o.hasTrigger("BeforeFriendlyAttack")&&this.abilityQueueService.triggerAbility(o,"BeforeFriendlyAttack",t,void 0),o==t?(o.hasTrigger("BeforeThisAttacks")&&this.abilityQueueService.triggerAbility(o,"BeforeThisAttacks"),o.hasTrigger("BeforeFirstAttack")&&this.abilityQueueService.triggerAbility(o,"BeforeFirstAttack")):o.hasTrigger("BeforeFriendAttacks")&&this.abilityQueueService.triggerAbility(o,"BeforeFriendAttacks",t),(o==t.petAhead||o==t.petBehind())&&o.hasTrigger("BeforeAdjacentFriendAttacked")&&this.abilityQueueService.triggerAbility(o,"BeforeAdjacentFriendAttacked",t)}triggerAfterAttackEvents(t){if(!t)return;const i=this.abilityQueueService.getTeam(t);for(let o of i)this.abilityQueueService.handleNumberedCounterTriggers(o,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(o,"FriendlyAttacked")),o.hasTrigger("FriendlyAttacked")&&this.abilityQueueService.triggerAbility(o,"FriendlyAttacked"),o.hasTrigger("AnyoneAttack")&&this.abilityQueueService.triggerAbility(o,"AnyoneAttack",t),o==t?(o.hasTrigger("ThisAttacked")&&this.abilityQueueService.triggerAbility(o,"ThisAttacked"),o.hasTrigger("ThisFirstAttack")&&this.abilityQueueService.triggerAbility(o,"ThisFirstAttack")):(o.hasTrigger("FriendAttacked")&&this.abilityQueueService.triggerAbility(o,"FriendAttacked",t),this.abilityQueueService.handleNumberedCounterTriggers(o,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(o,"FriendAttacked"))),(o==t.petAhead||o==t.petBehind())&&o.hasTrigger("AdjacentFriendAttacked")&&this.abilityQueueService.triggerAbility(o,"AdjacentFriendAttacked",t),o==t.petBehind(null,!0)&&o.hasTrigger("FriendAheadAttacked")&&this.abilityQueueService.triggerAbility(o,"FriendAheadAttacked",t);const n=this.abilityQueueService.getTeam(t.parent?.opponent);if(n.length)for(let o of n)o.hasTrigger("AnyoneAttack")&&this.abilityQueueService.triggerAbility(o,"AnyoneAttack",t),o.hasTrigger("EnemyAttacked")&&this.abilityQueueService.triggerAbility(o,"EnemyAttacked"),this.abilityQueueService.handleNumberedCounterTriggers(o,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(o,"EnemyAttacked"))}static \u0275fac=function(i){return new(i||r)(A.KVO(Pp))};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),pE=(()=>{class r{abilityQueueService;toyEventService;constructor(t,i){this.abilityQueueService=t,this.toyEventService=i}triggerFaintEvents(t){const i=this.abilityQueueService.getTeam(t);for(let n of i)this.abilityQueueService.triggerAbility(n,n==t?"Faint":"FriendFaints",t),n==t.petBehind(null,!0)&&this.abilityQueueService.triggerAbility(n,"FriendAheadFainted",t),(n==t.petBehind(null,!0)||n.petBehind(null,!0)==t)&&this.abilityQueueService.triggerAbility(n,"AdjacentFriendsFaint",t)}triggerAfterFaintEvents(t){t.parent&&this.toyEventService.triggerFriendFaintsToyEvents(t.parent,t),this.abilityQueueService.triggerAbility(t,"PetFainted",t),this.abilityQueueService.triggerAbility(t,"PostRemovalFaint",t);const i=this.abilityQueueService.getTeam(t);for(let o of i)this.abilityQueueService.triggerAbility(o,"PetFainted",t),this.abilityQueueService.triggerAbility(o,"PostRemovalFriendFaints",t),this.abilityQueueService.handleNumberedCounterTriggers(o,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(o,"PostRemovalFriendFaints"));const n=this.abilityQueueService.getTeam(t.parent?.opponent).filter(o=>o.alive);for(let o of n)this.abilityQueueService.triggerAbility(o,"EnemyFainted",t),this.abilityQueueService.triggerAbility(o,"EnemyFaint",t),this.abilityQueueService.triggerAbility(o,"PetFainted",t),this.abilityQueueService.handleNumberedCounterTriggers(o,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(o,"EnemyFaint"));this.toyEventService.executeFriendFaintsToyEvents()}static \u0275fac=function(i){return new(i||r)(A.KVO(Pp),A.KVO(Sp))};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Da=(()=>{class r extends _p{gameService;logService;toyEventService;abilityQueueService;attackEventService;faintEventService;gameApi;lastLoggedTrigger;constructor(t,i,n,o,a,l){super(),this.gameService=t,this.logService=i,this.toyEventService=n,this.abilityQueueService=o,this.attackEventService=a,this.faintEventService=l,this.logService=nr(this.logService)}clearGlobalEventQueue(){this.abilityQueueService.clearGlobalEventQueue(),this.lastLoggedTrigger=void 0}get hasGlobalEvents(){return this.abilityQueueService.hasGlobalEvents}get hasAbilityCycleEvents(){return this.abilityQueueService.hasGlobalEvents}getQueueSnapshot(){return[...this.abilityQueueService.globalEventQueue]}getNextHighestPriorityEvent(){return this.abilityQueueService.getNextHighestPriorityEvent()}peekNextHighestPriorityEvent(){return this.abilityQueueService.peekNextHighestPriorityEvent()}getPriorityNumber(t){return this.abilityQueueService.getPriorityNumber(t)}executeEventCallback(t){this.logTriggerHeader(t),this.abilityQueueService.executeEvent(t,this.gameService.gameApi),this.hasGlobalEvents||(this.lastLoggedTrigger=void 0)}logTriggerHeader(t){if(!this.logService.isShowTriggerNamesInLogs())return void(this.lastLoggedTrigger=void 0);const i=t?.abilityType;i&&this.lastLoggedTrigger!==i&&(this.lastLoggedTrigger=i,this.logService.createLog({message:`${i}:`,type:"ability",player:t.player??t.pet?.parent}))}clearLastLoggedTrigger(){this.lastLoggedTrigger=void 0}simulatePostRemovalFriendFaintsCounters(t,i){this.abilityQueueService.simulatePostRemovalFriendFaintsCounters(t,i)}initSpecialEndTurnAbility(t){for(let i of t.petArray)i.hasTrigger("SpecialEndTurn")&&i.executeAbilities("SpecialEndTurn",this.gameService.gameApi)}triggerBeforeStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let t of this.gameApi.player.petArray)t.hasTrigger("BeforeStartBattle")&&this.abilityQueueService.triggerAbility(t,"BeforeStartBattle");for(let t of this.gameApi.opponent.petArray)t.hasTrigger("BeforeStartBattle")&&this.abilityQueueService.triggerAbility(t,"BeforeStartBattle")}resetBeforeStartOfBattleEvents(){}executeBeforeStartOfBattleEvents(){this.processPhaseWithInterleaving(new Set(["BeforeStartBattle"]))}setCounterEvent(t){this.abilityQueueService.addEventToQueue(t)}triggerStartBattleEvents(t){this.gameApi=this.gameService.gameApi;for(let i of this.gameApi.player.petArray)i.hasTrigger("StartBattle")&&(!t||t(i))&&this.abilityQueueService.triggerAbility(i,"StartBattle");for(let i of this.gameApi.opponent.petArray)i.hasTrigger("StartBattle")&&(!t||t(i))&&this.abilityQueueService.triggerAbility(i,"StartBattle")}executeStartBattleEvents(){this.processPhaseWithInterleaving(new Set(["StartBattle"]))}triggerBeforeAttackEvent(t){this.attackEventService.triggerBeforeAttackEvents(t)}executeBeforeAttackEvents(){const t=new Set(["BeforeFriendlyAttack","BeforeThisAttacks","BeforeFirstAttack","BeforeFriendAttacks","BeforeAdjacentFriendAttacked"]),i=new Set(["BeforeStartBattle","StartBattle"]);this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:n=>t.has(n.abilityType),onExecute:n=>this.logTriggerHeader(n)}),this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:n=>!i.has(n.abilityType),onExecute:n=>this.logTriggerHeader(n)}),this.lastLoggedTrigger=void 0}executeBeforeAttackTriggerOnly(){const t=new Set(["BeforeFriendlyAttack","BeforeThisAttacks","BeforeFirstAttack","BeforeFriendAttacks","BeforeAdjacentFriendAttacked"]);this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:i=>t.has(i.abilityType),onExecute:i=>this.logTriggerHeader(i)}),this.lastLoggedTrigger=void 0}triggerAttacksEvents(t){this.attackEventService.triggerAfterAttackEvents(t)}executeAfterAttackEvents(){const t=new Set(["FriendlyAttacked","FriendAttacked","FriendAheadAttacked","AdjacentFriendAttacked","AnyoneAttack","EnemyAttacked","ThisAttacked","ThisFirstAttack"]),i=new Set(["BeforeStartBattle","StartBattle"]);this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:n=>{const o=n.abilityType;return!!t.has(o)||/^(FriendlyAttacked|FriendAttacked|EnemyAttacked)\d+$/.test(o)},onExecute:n=>this.logTriggerHeader(n)}),this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:n=>!i.has(n.abilityType),onExecute:n=>this.logTriggerHeader(n)}),this.lastLoggedTrigger=void 0}takeNextPhaseEvent(t){const i=this.abilityQueueService.globalEventQueue;let n=-1;for(let a=0;a<i.length;a++){const l=i[a];if(!t.has(l.abilityType))continue;if(-1===n){n=a;continue}const d=i[n],p=this.abilityQueueService.getPriorityNumber(l.abilityType),b=this.abilityQueueService.getPriorityNumber(d.abilityType);if(p<b){n=a;continue}if(p>b)continue;const T=l.pet?.transformed&&l.pet?.transformedInto?l.pet.transformedInto:l.pet,F=d.pet?.transformed&&d.pet?.transformedInto?d.pet.transformedInto:d.pet,U=T?this.abilityQueueService.getPetEventPriority(T):Number(l.priority??0),ee=F?this.abilityQueueService.getPetEventPriority(F):Number(d.priority??0);U>ee?n=a:U<ee||Number(l.tieBreaker??0)<Number(d.tieBreaker??0)&&(n=a)}if(-1===n)return null;const[o]=i.splice(n,1);return o??null}processPhaseWithInterleaving(t){for(;;){const i=this.takeNextPhaseEvent(t);if(!i)break;this.logTriggerHeader(i),this.abilityQueueService.executeEvent(i,this.gameService.gameApi),this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:n=>!t.has(n.abilityType),onExecute:n=>this.logTriggerHeader(n)})}this.lastLoggedTrigger=void 0}static \u0275fac=function(i){return new(i||r)(A.KVO(Zi),A.KVO(Yn),A.KVO(Sp),A.KVO(Pp),A.KVO(hE),A.KVO(pE))};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class kp extends Fe{equipmentClass="defense";name="Garlic";tier=3;power=2;originalPower=2;minimumDamage=2;callback=e=>{}}class mE extends C{equipment;logService;constructor(e,t,i){super({name:"CakeAbility",owner:e,triggers:["EndTurn"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner,i=1*(this.equipment.multiplier??1);t.increaseSellValue(i),this.logService.createLog({message:`${t.name} increased its sell value by ${i}. (Cake)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}class fE extends Fe{name="Meat Bone";equipmentClass="attack";power=3;originalPower=3}class VS extends D{logService;abilityService;name="Bee";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new _y(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class _y extends C{logService;abilityService;constructor(e,t,i){super({name:"BeeAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _y(e,this.logService,this.abilityService)}}class yE extends Fe{logService;abilityService;name="Honey";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new bE(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}}class bE extends C{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"HoneyAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=new VS(this.logService,this.abilityService,t.parent,null,null,0);t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Bee (Honey)${i>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent})}}}class vE extends Fe{logService;petService;name="Mushroom";tier=6;equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new AE(e,t,this.logService,this.petService))};constructor(e,t){super(),this.logService=e,this.petService=t}}class AE extends C{equipment;logService;petService;constructor(e,t,i,n){super({name:"MushroomAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.logService=i,this.petService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=this.petService.createDefaultVersionOfPet(t,1,1);n.exp=t.exp,n.triggersConsumed=t.triggersConsumed,n.originalTriggersConsumed=t.triggersConsumed,t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned ${n.name} (level ${n.level}) (Mushroom)${i>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent})}}}class zl extends Fe{name="Rice";tier=2;equipmentClass="shop";callback=e=>{e.increaseSellValue(2*this.multiplier)}}class Sy extends D{logService;abilityService;name="Nest";tier=1;pack="Puppy";hidden=!0;attack=2;health=3;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class WS extends Fe{logService;name="Egg";tier=1;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new KS(e,t))};constructor(e){super(),this.logService=e}}class KS extends C{equipment;constructor(e,t){super({name:"EggAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const{triggerPet:t}=e,i=this.owner;let n=this.equipment.multiplier;i instanceof Sy&&(n+=("Tiger"===t?.name?t.level:i.level)-1);for(let o=0;o<n;o++){let a=i.parent.opponent.petArray,l=null;for(let d of a)if(d.alive){l=d;break}null!=l&&i.snipePet(l,2,!1,!1,!1,!0,!1)}i.removePerk()}}class wp extends Fe{name="Eucalyptus";equipmentClass="shield";power=4;originalPower=4;uses=1;originalUses=1}class PE extends C{equipment;logService;constructor(e,t,i){super({name:"SquashAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,condition:()=>{const n=this.owner.parent.opponent.pet0;return!!n&&n.alive},abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=t.parent.opponent.pet0;if(null==n||!n.alive)return;let o=6,a=Math.max(1,n.health-o);n.health=a,this.logService.createLog({message:`${this.equipment.name} reduced ${n.name} health by ${o} to ${a}${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}t.removePerk()}}class zS extends C{equipment;logService;constructor(e,t,i){super({name:"PieAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner,i=4*this.equipment.multiplier,n=3*this.equipment.multiplier;t.increaseAttack(i),t.increaseHealth(n),this.logService.createLog({message:`${t.name} gained ${i} attack and ${n} health (Pie)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}class Py extends Fe{logService;name="Skewer";tier=5;equipmentClass="skewer";power=0;attackCallback=(e,t)=>{this.skewer(e,t,1),this.skewer(e,t,2)};constructor(e){super(),this.logService=e}skewer(e,t,i){let n=t.parent.getPetAtPosition(i);null!=n&&e.snipePet(n,3*(e.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",3)}}class wE extends C{equipment;logService;constructor(e,t,i){super({name:"PancakesAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i of t.parent.petArray){if(t==i)continue;let n=2*this.equipment.multiplier,o=2*this.equipment.multiplier;i.increaseAttack(n),i.increaseHealth(o),this.logService.createLog({message:`${i.name} gained ${n} attack and ${o} health (Pancakes)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}}class wy extends Fe{logService;abilityService;name="Mild Chili";equipmentClass="skewer";power=0;originalPower=0;attackCallback=(e,t)=>{let i=t.parent.getPetAtPosition(1);null!=i&&e.snipePet(i,4*(e.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",4)};constructor(e,t){super(),this.logService=e,this.abilityService=t}}class XS extends C{equipment;logService;constructor(e,t,i){super({name:"BaguetteAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=t.parent.opponent.getPetsWithoutEquipment("Perk"),o=t.parent.opponent.getFurthestUpPet(t,n).pet;if(null==o)return;if(null!=o.equipment){let a=o.equipment.name;o.removePerk(),this.logService.createLog({message:`${t.name} removed ${a} from ${o.name} (Baguette)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}}t.removePerk()}}function xi(r,e,t){const i=`${e??""}`.trim()||"Random event",n=Number.isFinite(t)&&Number(t)>0?` ${Math.trunc(Number(t))}`:"";if(!r)return`${i}${n}`;const a=r.savedPosition??r.position??Number.NaN;return`(${r.parent?.isOpponent?"O":"P"}${Number.isFinite(a)?Math.trunc(a)+1:0}) ${i}${n}`}function Yl(r,e,t,i){const n=`${e??""}`.trim()||"Equipment",o=`${t??""}`.trim()||"random event",a=Number.isFinite(i)&&Number(i)>0?` ${Math.trunc(Number(i))}`:"";if(!r)return`${n} ${o}${a}`;const d=r.savedPosition??r.position??Number.NaN;return`(${r.parent?.isOpponent?"O":"P"}${Number.isFinite(d)?Math.trunc(d)+1:0}) ${n} (${`${r.name??""}`.trim()||"Unknown"}) ${o}${a}`}class Ep extends Fe{logService;petService;gameService;name="Popcorn";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new QS(e,t,this.logService,this.petService))};constructor(e,t,i){super(),this.logService=e,this.petService=t,this.gameService=i}}class QS extends C{equipment;logService;petService;constructor(e,t,i,n){super({name:"PopcornAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.logService=i,this.petService=n}executeAbility(e){const{gameApi:t}=e,i=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let a=[...(i.parent==t.player?t.playerPetPool:t.opponentPetPool)?.get(i.tier)??[]];if(a.length||(a=[...this.petService.allPets.get(i.tier)??[]]),!a.length)return;const l=$t({key:"equipment.popcorn-summon",label:Yl(i,"Popcorn","summon",n+1),options:a.map(T=>({id:T,label:T}))},()=>we(0,a.length-1));if(l.index<0||l.index>=a.length)return;let p=this.petService.createPet({attack:null,equipment:null,exp:0,health:null,name:a[l.index],mana:0},i.parent);i.parent.summonPet(p,i.savedPosition).success&&this.logService.createLog({message:`${i.name} Spawned ${p.name} (Popcorn)${n>0?this.equipment.multiplierMessage:""}`,type:"ability",player:i.parent,randomEvent:l.randomEvent})}}}class Ey extends Fe{logService;abilityService;petService;name="Seaweed";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new Cy(e,t,this.logService,this.petService))};constructor(e,t,i){super(),this.logService=e,this.abilityService=t,this.petService=i}}class Cy extends C{equipment;logService;petService;constructor(e,t,i,n){super({name:"SeaweedAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.logService=i,this.petService=n}executeAbility(e){const t=this.owner;let i=this.petService.createPet({name:"Baby Urchin",attack:t.attack,health:t.health,mana:t.mana,exp:t.exp,equipment:null},t.parent);this.logService.createLog({message:`${t.name} transformed into ${i.name} (Seaweed)`,type:"equipment",player:t.parent}),t.parent.transformPet(t,i)}}class xE extends C{equipment;logService;constructor(e,t,i){super({name:"CaramelAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=t.parent.petArray.filter(l=>l.alive&&"Caramel"===l.equipment?.name);if(0===i.length)return;let n=3*i.length,o=t.parent.opponent.getHighestHealthPet(),a=o.pet;if(null!=a){t.snipePet(a,n,o.random,!1,!1,!0,!1);for(let l of i)l.removePerk(),this.logService.createLog({message:`${l.name} lost Caramel equipment`,type:"ability",player:t.parent,tiger:!1})}}}class IE extends C{equipment;constructor(e,t){super({name:"CherryAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;t.parent.gainTrumpets(2*i,t,!1,i,!0),t.removePerk(!0)}}class Dy extends C{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"ChocolateCakeAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const t=this.owner;let n=3*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${n} exp. (Chocolate Cake)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.increaseExp(n),t.health=0,this.abilityService.triggerKillEvents(t,t)}}class tP extends C{equipment;logService;constructor(e,t,i){super({name:"EggplantAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let n=0;n<i;n++){let o=t.parent.opponent,a=o.getPet(t.position);if(null==a)return;this.logService.createLog({message:`${t.name} pushed ${a.name} 1 space forward. (Eggplant)${n>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent}),o.pushPet(a,1)}}}class nP extends C{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"BananaAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=new $o(this.logService,this.abilityService,t.parent,4,4,0,0),o=i>0?this.equipment.multiplierMessage:"";t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Monkey (Banana)${o}`,type:"ability",player:t.parent})}}}class Iy extends C{equipment;logService;constructor(e,t,i){super({name:"PitaBreadAbility",owner:e,triggers:["ThisHurt"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;if(!t.alive)return;let n=15*this.equipment.multiplier;t.increaseHealth(n),this.logService.createLog({message:`${t.name} gained ${n} health. (Pita Bread)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.removePerk()}}class My extends C{equipment;constructor(e,t){super({name:"TomatoAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let n=0;n<i;n++){let o=t.parent.opponent.getLastPet();if(null==o.pet)break;t.snipePet(o.pet,10,o.random,!1,!1,!0,!1)}t.removePerk()}}class eL extends C{equipment;logService;constructor(e,t,i){super({name:"DurianAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let n=0;n<i;n++){let o=t.parent.opponent.getHighestHealthPet(),a=o.pet;if(null==a)continue;let l=.33,d=Math.max(1,Math.floor(a.health*(1-l)));a.health=d,this.logService.createLog({message:`${this.equipment.name} reduced ${a.name} health by ${100*l}% to ${d}${n>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent,randomEvent:o.random})}t.removePerk()}}class aP extends C{equipment;constructor(e,t){super({name:"FigAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let n=0;n<i;n++){let o=t.parent.opponent.getLowestHealthPet(),a=o.pet;if(null==a)return;t.snipePet(a,4,o.random,!1,!1,!0,!1)}t.removePerk()}}class Gs extends C{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"CodRoeAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=new lS(this.logService,this.abilityService,t.parent,3,2,0,0);t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} spawned ${n.name} (Cod Roe)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}}}class NE extends C{equipment;logService;constructor(e,t,i){super({name:"SudduthTomatoAbility",owner:e,triggers:["ThisHurt"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,condition:n=>!!this.owner.alive,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const n=this.owner;let a=1*this.equipment.multiplier;n.increaseHealth(a),this.logService.createLog({message:`${n.name} gained ${a} health (Sudduth Tomato)${this.equipment.multiplierMessage}`,type:"equipment",player:n.parent}),n.removePerk()}}class FE extends C{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"GrosMichelBananaAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const i=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let o=new Rf(this.logService,this.abilityService,i.parent,i.health,i.attack,i.mana,i.exp);this.logService.createLog({message:`${i.name} transformed into ${o.name} (Gros Michel Banana)${n>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:i.parent}),i.parent.transformPet(i,o)}}}class iL extends Fe{logService;petService;name="Cocoa Bean";tier=5;equipmentClass="beforeAttack";power=0;originalPower=0;uses=1;originalUses=1;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new oP(e,t,this.logService,this.petService))};constructor(e,t){super(),this.logService=e,this.petService=t}}class oP extends C{equipment;logService;petService;constructor(e,t,i,n){super({name:"CocoaBeanAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.logService=i,this.petService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=t.parent.opponent.petArray.filter(p=>p.alive);if(0==n.length)return void t.removePerk();const o=$t({key:"equipment.cocoa-bean-transform",label:Yl(t,"Cocoa Bean","transform",i+1),options:n.map(p=>({id:`${p.savedPosition+1}:${p.name}`,label:`O${p.savedPosition+1} ${p.name}`}))},()=>we(0,n.length-1));let a=n[o.index],l=this.petService.createPet({name:a.name,attack:a.attack,health:a.health,mana:t.mana,exp:a.exp,equipment:null},t.parent);if(l.mana=t.mana,a.swallowedPets&&a.swallowedPets.length>0){l.swallowedPets=[];for(let p of a.swallowedPets){let b=this.petService.createPet({name:p.name,attack:p.attack,health:p.health,mana:p.mana,exp:p.exp,equipment:p.equipment},t.parent);l.swallowedPets.push(b)}}l.copyAbilities(a,"Pet"),this.logService.createLog({message:`${t.name} transformed into ${l.name} (Cocoa Bean)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent,randomEvent:o.randomEvent}),t.parent.transformPet(t,l)}}}class rL extends C{equipment;constructor(e,t){super({name:"UnagiAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=t.parent.opponent.getRandomPet([],!1,!0,!1,t);n.pet&&t.snipePet(n.pet,2,n.random,!1,!1,!0,!1)}}}class Xl extends Fe{name="Corncob";tier=1;equipmentClass="shop";effectMultiplier=1}class sP extends Fe{name="Blueberry";equipmentClass="target";constructor(){super()}}class lP extends C{equipment;constructor(e,t){super({name:"CashewNutAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=t.parent.nearestPetsAhead(2,t,null,!0),o=n.pets.filter(l=>l?.alive);if(o.length<2)return;let a=o[1];t.snipePet(a,a.parent==t.parent?1:2,n.random,null,null,!0)}}}class cP extends C{equipment;logService;constructor(e,t,i){super({name:"NachosAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let a=Math.min(3,t.health-1);a>0&&(t.increaseHealth(-a),t.increaseAttack(a),this.logService.createLog({message:`${t.name} converted ${a} health into ${a} attack (Nachos)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent}))}t.removePerk()}}class sL extends C{equipment;logService;constructor(e,t){super({name:"CauliflowerAbility",owner:e,triggers:["KnockOut"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>this.executeAbility(i)}),this.equipment=t,this.logService=Nt.getInjector().get(Yn)}executeAbility(e){const t=this.owner;if(!t.alive)return void t.removePerk();const i=1*this.equipment.multiplier;t.increaseAttack(i),t.increaseHealth(i),this.logService.createLog({message:`${t.name} gained +${i} attack and +${i} health. (Cauliflower)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.removePerk()}}class Cp extends Fe{name="Melon Slice";equipmentClass="shield";power=10;originalPower=10;uses=1;originalUses=1}class HE extends C{equipment;logService;constructor(e,t){super({name:"OysterMushroomAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>this.executeAbility(i)}),this.equipment=t,this.logService=Nt.getInjector().get(Yn)}executeAbility(e){const t=this.owner,i=Math.max(t.attack,9),n=Math.max(t.health,9);i!==t.attack&&(t.attack=i),n!==t.health&&(t.health=n),this.logService.createLog({message:`${t.name} set stats to ${t.attack}/${t.health}. (Oyster Mushroom)`,type:"equipment",player:t.parent}),t.removePerk()}}const Jl={iriomoteCat:{1:["Ant","Mosquito","Cricket","Moth","Beetle","Chihuahua","Cockroach","Hummingbird","Frilled Dragon","Farmer Mouse","Budgie","Groundhog","Cone Snail","Goose","Barghest","Tsuchinoko","Alchemedes","Bunyip","Sneaky Egg","Ethiopian Wolf","African Wild Dog","Volcano Snail","Pygmy Seahorse","Nudibranch"],2:["Crab","Hedgehog","Flamingo","Spider","Robin","Beluga Sturgeon","Stork","Bass","Panda","Seahorse","Roadrunner","Mink","Meerkat","Black Necked Stilt","Sea Urchin","Honduran White Bat","Frost Wolf","Ogopogo","Thunderbird","Bigfoot","Takhi","White-Bellied Heron","Taita Shrew","Nightcrawler","Pink Robin","Fruit Fly","Olm","Tadpole","Thorny Dragon"],3:["Dodo","Dolphin","Sheep","Hoopoe Bird","Pug","Anteater","Eel","Bear","Farmer Pig","Brazillian Treehopper","Flea","Weasel","Osprey","Blue Dragon","Betta Fish","Skeleton Dog","Mandrake","Fur-Bearing Trout","Mana Hound","Roloway Monkey","Amami Rabbit","Hirola","Tucuxi","Tree Kangaroo","Slime","Dimetrodon","Gerenuk","Pangasius","Vampire Parrot"]},radish:{1:["Walnut","Honey","Egg","Strawberry"],2:["Meat Bone","Lime","Caramel","Bok Choy","Fairy Dust","Faint Bread","Cod Roe"],3:["Garlic","Squash","Seaweed","Fig","Brussels Sprout"],4:["Fortune Cookie","Salt","Baguette","Cheese","Banana","Ambrosia"],5:["Chili","Lemon","Pepper","Durian","Honeydew Melon","Easter Egg"],6:["Steak","Melon","Pita Bread","Tomato","Yggdrasil Fruit","Popcorn","White Okra"]},rolowayMonkey:["Peacock","Camel","Porcupine","Lizard","Guineafowl"],goldenTamarin:["Crocodile","Tarantula Hawk","Red Dragon","Werewolf","Snow Leopard","Sea Cucumber"],bayCat:["Skunk","Fossa","Hawk","Lynx","Platybelodon","Kraken","Tasmanian Devil","Humphead Wrasse"]};class hP extends Fe{logService;name="Radish";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new pP(e,t,this.logService))};constructor(e){super(),this.logService=e}}class pP extends C{equipment;logService;equipmentService;constructor(e,t,i){super({name:"RadishAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>this.executeAbility(n)}),this.equipment=t,this.logService=i,this.equipmentService=Nt.getInjector().get(Pi)}executeAbility(e){const t=this.owner,i=Math.min(Math.max(t.tier??t.level??1,1),6),n=Jl.radish[i];if(!n||0===n.length)return;const o=this.equipmentService.getInstanceOfAllEquipment(),a=n.filter(b=>o.has(b));if(0===a.length)return;const l=we(0,a.length-1),p=o.get(a[l]);p&&(t.givePetEquipment(p),this.logService.createLog({message:`${t.name} gained ${p.name} before battle (Radish).`,type:"equipment",player:t.parent,randomEvent:!0}))}}class xp extends Fe{logService;name="Rambutan";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new gP(e,t,this.logService))};constructor(e){super(),this.logService=e}}class gP extends C{equipment;logService;constructor(e,t,i){super({name:"RambutanAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let o=3*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${o} mana. (Rambutan)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.increaseMana(o)}}class fP extends C{equipment;logService;petService;constructor(e,t,i){super({name:"LovePotionAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i,this.petService=Nt.getInjector().get(Xn)}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){const n=this.petService.createPet({name:t.name,attack:3,health:3,exp:0,equipment:null,mana:0},t.parent),o=t.parent.summonPet(n,t.savedPosition,!1,t);o.success&&this.logService.createLog({message:`${t.name} summoned a ${n.attack}/${n.health} ${n.name} (Love Potion)${i>0?this.equipment.multiplierMessage:""}.`,type:"equipment",player:t.parent,randomEvent:o.randomEvent})}}}class UE extends C{equipment;logService;constructor(e,t,i){super({name:"FairyDustAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,condition:()=>null==this.owner.parent.pet0,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let n=2*this.equipment.multiplier;this.logService.createLog({message:`${t.name} pushed itself to the front and gained ${n} mana(Fairy Dust)${this.equipment.multiplierMessage}.`,type:"ability",player:t.parent}),t.parent.pushPetToFront(t,!0),t.increaseMana(n),t.removePerk()}}class WE extends C{equipment;logService;constructor(e,t,i){super({name:"GingerbreadManAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let n=1*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${n} experience (Gingerbread Man)${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent}),t.increaseExp(n)}}class yP extends D{logService;abilityService;name="Monty";tier=1;pack="Unicorn";hidden=!0;health=3;attack=3;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class vP extends C{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"EasterEggAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=new yP(this.logService,this.abilityService,t.parent,null,null,0,0);t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Monty (Easter Egg)${i>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent})}}}class AP extends C{equipment;logService;constructor(e,t,i){super({name:"HealthPotionAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let n=2*this.equipment.multiplier,o=t.parent.furthestUpPet;null!=o&&(this.logService.createLog({message:`${t.name} gave ${n} health to ${o.name} (Health Potion)${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent}),o.increaseHealth(n))}}class _P extends C{equipment;constructor(e,t){super({name:"GoldenEggAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=t.parent.opponent.petArray,n=null;for(let a of i)if(a.alive){n=a;break}if(null==n)return;let o=this.equipment.multiplier;for(let a=0;a<o;a++)t.snipePet(n,6,!1,!1,!1,!0,!1);t.removePerk()}}class SP extends D{logService;abilityService;name="Tandgnost";tier=4;pack="Custom";attack=6;health=2;initAbilities(){this.addAbility(new Ou(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Ou extends C{logService;constructor(e,t){super({name:"Tandgnost Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(a=>a&&a.alive&&"Tandgrisner"===a.name);if(0===i.length)return void this.triggerTigerExecution(e);const[n]=Le([...i]),o=3*Math.max(1,this.level);n.increaseHealth(o),this.logService.createLog({message:`${t.name} gave ${n.name} +${o} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Ou(e,this.logService)}}class PP extends D{logService;abilityService;name="Tandgrisner";tier=5;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new By(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class By extends C{logService;constructor(e,t){super({name:"Tandgrisner Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(a=>a&&a.alive&&"Tandgnost"===a.name);if(0===i.length)return void this.triggerTigerExecution(e);const[n]=Le([...i]),o=3*Math.max(1,this.level);n.increaseAttack(o),this.logService.createLog({message:`${t.name} gave ${n.name} +${o} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new By(e,this.logService)}}class zE extends C{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"YggdrasilFruitAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=new SP(this.logService,this.abilityService,t.parent,5,5,0),o=new PP(this.logService,this.abilityService,t.parent,5,5,0),a=i>0?this.equipment.multiplierMessage:"";t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Tandgnost (Yggdrasil Fruit)${a}`,type:"ability",player:t.parent}),t.parent.summonPet(o,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Tandgrisner (Yggdrasil Fruit)${a}`,type:"ability",player:t.parent})}}}class YE extends Fe{logService;petService;name="Faint Bread";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new XE(e,t,this.petService,this.logService))};constructor(e,t){super(),this.logService=e,this.petService=t}}class XE extends C{equipment;petService;logService;constructor(e,t,i,n){super({name:"FaintBreadAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.petService=i,this.logService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=this.petService.getRandomFaintPet(t.parent,1,[],t),o=i>0?this.equipment.multiplierMessage:"";t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned ${n.name} (Faint Bread)${o}`,type:"ability",player:t.parent,randomEvent:!0})}}}class Gy extends Fe{name="Cold";equipmentClass="ailment-defense";power=-5;originalPower=-5;uses=1;originalUses=1}class io extends Fe{name="Icky";equipmentClass="ailment-other";uses=2;originalUses=2}class la extends Fe{name="Spooked";equipmentClass="ailment-defense";power=-1;originalPower=-1}class Br extends Fe{name="Weak";equipmentClass="ailment-defense";power=-3;originalPower=-3}class Hy extends Fe{logService;name="Tasty";equipmentClass="faint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new wP(e,t,this.logService))};constructor(e){super(),this.logService=e}}class wP extends C{equipment;logService;constructor(e,t,i){super({name:"TastyAbility",owner:e,triggers:["Faint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=t.parent.opponent.petArray.filter(a=>a.alive);if(0==i.length)return;const n=$t({key:"equipment.tasty-target",label:Yl(t,"Tasty","target"),options:i.map(a=>({id:`${a.savedPosition+1}:${a.name}`,label:`O${a.savedPosition+1} ${a.name}`}))},()=>we(0,i.length-1));let o=i[n.index];o.increaseAttack(2*this.equipment.multiplier),o.increaseHealth(2*this.equipment.multiplier),this.logService.createLog({message:`${t.name} gave ${o.name} +2 attack and +2 health (Tasty)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent,randomEvent:n.randomEvent})}}class TP extends Fe{name="Silly";equipmentClass="ailment-other"}class Ip extends C{petService;logService;constructor(e){super({name:"ConfusedAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:t=>this.executeAbility(t)}),this.petService=Nt.getInjector().get(Xn),this.logService=Nt.getInjector().get(Yn)}executeAbility(e){const t=this.owner,i=Math.max(1,(t.tier??1)-1),n=this.petService.allPets.get(i)??[];if(0===n.length)return void t.removePerk();const o=$t({key:"equipment.confused-transform",label:Yl(t,"Confused","transform"),options:n.map(d=>({id:d,label:d}))},()=>we(0,n.length-1)),a=n[o.index];t.removePerk();const l=this.petService.createPet({name:a,attack:t.attack,health:t.health,exp:t.exp??0,equipment:null,mana:t.mana},t.parent);this.logService.createLog({message:`${t.name} transformed into a ${a}. (Confused)`,type:"equipment",player:t.parent,randomEvent:o.randomEvent}),t.parent.transformPet(t,l)}}class jy extends Fe{name="Cursed";equipmentClass="ailment-other";callback=e=>{e.addAbility(new Si(e))}}class Si extends C{logService;constructor(e){super({name:"CursedAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:t=>this.executeAbility(t)}),this.logService=Nt.getInjector().get(Yn)}executeAbility(e){const t=this.owner,i=t.parent.getRandomPet([t],!1,!1,!1,t),n=i.pet;n&&(n.givePetEquipment(new jy),this.logService.createLog({message:`${t.name} made ${n.name} Cursed.`,type:"equipment",player:t.parent,randomEvent:i.random}))}}class no extends Fe{name="Inked";equipmentClass="ailment-attack";power=-3;originalPower=-3}class Bu extends C{logService;petService;constructor(e){super({name:"WebbedAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:t=>this.executeAbility(t)}),this.logService=Nt.getInjector().get(Yn),this.petService=Nt.getInjector().get(Xn)}executeAbility(e){const t=this.owner,i=t.parent.opponent,n=this.petService.createPet({name:"Spider",attack:2,health:2,exp:0,equipment:null,mana:0},i),o=i.summonPet(n,0,!1,t);o.success&&this.logService.createLog({message:`${t.name} summoned ${n.name} for the opponent. (Webbed)`,type:"equipment",player:t.parent,randomEvent:o.randomEvent})}}const Mp={Garlic:kp,"Meat Bone":fE,Steak:class US extends Fe{name="Steak";equipmentClass="attack";tier=6;power=20;originalPower=20;uses=1;originalUses=1},Melon:Ta,Coconut:dr,Peanut:pu,"Peanut Butter":gu,"Cake Slice":class kP extends Fe{name="Cake Slice";equipmentClass="shop";tier=1},Blackberry:tS,Croissant:class _E extends Fe{name="Croissant";tier=3;equipmentClass="shop";constructor(){super()}},Rice:zl,Eucalyptus:wp,Lime:class SE extends Fe{equipmentClass="defense";name="Lime";tier=2;power=1;originalPower=1;callback=e=>{}},Salt:Ps,Lemon:class ky extends Fe{equipmentClass="shield";name="Lemon";tier=5;power=7;originalPower=7;uses=2;originalUses=2},Cucumber:class JS extends Fe{name="Cucumber";equipmentClass="shop"},Cheese:xh,Grapes:class TE extends Fe{name="Grapes";equipmentClass="shop"},Pepper:Dh,Carrot:class EE extends Fe{name="Carrot";equipmentClass="shop"},Cherry:class DE extends Fe{name="Cherry";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new IE(e,t))}},"Bok Choy":class ZS extends Fe{name="Bok Choy";equipmentClass="shop";tier=2},Potato:class iP extends Fe{name="Potato";equipmentClass="shield-snipe";power=10;uses=2;originalUses=2;originalPower=10},Unagi:class nL extends Fe{name="Unagi";equipmentClass="startOfBattle";hasRandomEvents=!0;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new rL(e,t))};constructor(){super()}},Corncob:Xl,"Fortune Cookie":_n,Blueberry:sP,Donut:class Ly extends Fe{name="Donut";equipmentClass="target";constructor(){super()}},Pumpkin:class aL extends Fe{name="Pumpkin";equipmentClass="shop";tier=1},Kiwifruit:class oL extends Fe{name="Kiwifruit";equipmentClass="shop";tier=2},Pineapple:class Hs extends Fe{name="Pineapple";equipmentClass="attack-snipe";power=2;uses=3;originalUses=3;constructor(){super()}},Guava:mf,"Brussels Sprout":class BE extends Fe{name="Brussels Sprout";equipmentClass="shield";power=5;originalPower=5;uses=1;originalUses=1},Cauliflower:class $E extends Fe{name="Cauliflower";equipmentClass="shop";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new sL(e,t))}},Churros:class Fy extends Fe{name="Churros";equipmentClass="shop"},Kiwano:class uP extends Fe{name="Kiwano";equipmentClass="shop"},Macaron:class GE extends Fe{name="Macaron";equipmentClass="shop"},"Melon Slice":Cp,"Oyster Mushroom":class dP extends Fe{name="Oyster Mushroom";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new HE(e,t))}},"Sardinian Currant":class jE extends Fe{name="Sardinian Currant";equipmentClass="shop"},Sausage:class qE extends Fe{name="Sausage";equipmentClass="shop"},Walnut:jo,"Honeydew Melon":X_,"Maple Syrup":mu,"White Okra":ks,Ambrosia:Lh,"Magic Beans":class KE extends Fe{name="Magic Beans";equipmentClass="shop";constructor(){super()}}},JE={Cake:class gE extends Fe{logService;name="Cake";equipmentClass="shop";tier=3;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new mE(e,t,this.logService))};constructor(e){super(),this.logService=e}},Egg:WS,Squash:class Tp extends Fe{logService;name="Squash";tier=3;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new PE(e,t,this.logService))};constructor(e){super(),this.logService=e}},Pie:class kE extends Fe{logService;name="Pie";tier=4;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new zS(e,t,this.logService))};constructor(e){super(),this.logService=e}},Skewer:Py,Pancakes:class YS extends Fe{logService;name="Pancakes";tier=6;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new wE(e,t,this.logService))};constructor(e){super(),this.logService=e}},Strawberry:ws,Baguette:class Ty extends Fe{logService;name="Baguette";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new XS(e,t,this.logService))};constructor(e){super(),this.logService=e}},Eggplant:class eP extends Fe{logService;name="Eggplant";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new tP(e,t,this.logService))};constructor(e){super(),this.logService=e}},Onion:Ah,"Pita Bread":class RE extends Fe{logService;name="Pita Bread";tier=6;power=0;equipmentClass="hurt";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new Iy(e,t,this.logService))};constructor(e){super(),this.logService=e}},Tomato:class rP extends Fe{logService;name="Tomato";tier=6;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new My(e,t))};constructor(e){super(),this.logService=e}},Durian:class Z2 extends Fe{logService;name="Durian";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new eL(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Sudduth Tomato":class Fu extends Fe{logService;name="Sudduth Tomato";equipmentClass="hurt";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new NE(e,t,this.logService))};constructor(e){super(),this.logService=e}},Fig:class tL extends Fe{logService;name="Fig";equipmentClass="beforeAttack";hasRandomEvents=!0;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new aP(e,t))};constructor(e){super(),this.logService=e}},"Cashew Nut":class Ny extends Fe{logService;name="Cashew Nut";tier=1;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new lP(e,t))};constructor(e){super(),this.logService=e}},Nachos:class OE extends Fe{logService;name="Nachos";tier=1;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new cP(e,t,this.logService))};constructor(e){super(),this.logService=e}},Caramel:class CE extends Fe{logService;name="Caramel";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new xE(e,t,this.logService))};constructor(e){super(),this.logService=e}},Rambutan:xp,"Love Potion":class mP extends Fe{logService;name="Love Potion";equipmentClass="beforeStartOfBattle";tier=5;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new fP(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Fairy Dust":class Dp extends Fe{logService;name="Fairy Dust";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new UE(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Gingerbread Man":class VE extends Fe{logService;name="Gingerbread Man";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new WE(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Health Potion":class Oy extends Fe{logService;name="Health Potion";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new AP(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Golden Egg":class lL extends Fe{logService;name="Golden Egg";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _P(e,t))};constructor(e){super(),this.logService=e}},"White Truffle":Ro},QE={Honey:yE,Chili:Kf,"Chocolate Cake":class xy extends Fe{logService;abilityService;name="Chocolate Cake";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new Dy(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Cod Roe":class LE extends Fe{logService;abilityService;name="Cod Roe";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new Gs(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},Banana:class ME extends Fe{logService;abilityService;name="Banana";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new nP(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Gros Michel Banana":class Ry extends Fe{logService;abilityService;name="Gros Michel Banana";equipmentClass="beforeAttack";callback=e=>{e.addAbility(new FE(e,this,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Easter Egg":class bP extends Fe{logService;abilityService;name="Easter Egg";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new vP(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Yggdrasil Fruit":class $y extends Fe{logService;abilityService;name="Yggdrasil Fruit";equipmentClass="afterFaint";callback=e=>{e.addAbility(new zE(e,this,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Mild Chili":wy},qs={Cold:Gy,Crisp:Il,Dazed:Eh,Icky:io,Inked:no,Toasty:Ch,Spooked:la,Weak:Br,Silly:TP,Bloated:class cL extends Fe{name="Bloated";equipmentClass="ailment-other"},Confused:class an extends Fe{name="Confused";equipmentClass="ailment-other";callback=e=>{e.addAbility(new Ip(e))}},Cursed:jy,Sad:class Ql extends Fe{name="Sad";equipmentClass="ailment-other"},Sleepy:Ih,Webbed:class js extends Fe{name="Webbed";equipmentClass="ailment-other";callback=e=>{e.addAbility(new Bu(e))}}},ZE={Mushroom:r=>new vE(r.logService,r.petService),Popcorn:r=>new Ep(r.logService,r.petService,r.gameService),Seaweed:r=>new Ey(r.logService,r.abilityService,r.petService),"Cocoa Bean":r=>new iL(r.logService,r.petService),"Faint Bread":r=>new YE(r.logService,r.petService),Radish:r=>new hP(r.logService)},Zl={Tasty:r=>new Hy(r.logService)},ec=JSON.parse('[{"Ability":"Give one pet +1 attack and +1 health.","Id":"0","Name":"Apple","NameId":"Apple","Tier":1,"Packs":["Pack1","Pack2","Pack4"],"PacksRequired":["Pack1","Pack2","Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Increase sell value of one pet by 1 gold.","Id":"117","Name":"Asparagus","NameId":"Asparagus","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack.","Id":"2","Name":"Bacon","NameId":"Bacon","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health.","Id":"135","Name":"Best Apple","NameId":"Apple3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +6 health.","Id":"103","Name":"Best Milk","NameId":"Milk3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health.","Id":"134","Name":"Better Apple","NameId":"Apple2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +4 health.","Id":"102","Name":"Better Milk","NameId":"Milk2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Blueberry perk.","Id":"7","Name":"Blueberry","NameId":"BlueBerries","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Prioritize this for enemy random abilities.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +1 attack.","Id":"139","Name":"Bread Crumbs","NameId":"BreadCrumbs","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health until next turn.","Id":"213","Name":"Cake Slice","NameId":"BirthdayCakeSlice","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one tier 1-3 ailment to stock. Always on sale!","Id":"225","Name":"Canned Ailment","NameId":"CannedAilment","Tier":1,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Spooked without triggering abilities.","Id":"216","Name":"Canned Spooky","NameId":"CannedScared","Tier":1,"Packs":[],"PacksRequired":[],"PerkNote":"Take +1 damage.","CustomArchetypes":[]},{"Ability":"Make one pet Toasty without triggering abilities.","Id":"223","Name":"Canned Toasty","NameId":"CannedToasty","Tier":1,"Packs":[],"PacksRequired":[],"PerkNote":"Anyone attacks: Take 1 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cashew Nut perk.","Id":"173","Name":"Cashew Nut","NameId":"CashewNut","Tier":1,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before battle: Deal 1 damage to the second nearest pet ahead. Double against enemies.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health until next turn.","Id":"27","Name":"Cookie","NameId":"Cookie","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +1 to lowest stat.","Id":"28","Name":"Corncob","NameId":"Corn","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Ability":"Give one pet the Egg perk.","Id":"33","Name":"Egg","NameId":"Egg","Tier":1,"Packs":["Pack2","Pack4"],"PacksRequired":["Pack2","Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 2 damage to target, once.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Ferret toy.","Id":"234","Name":"Ferret Present","NameId":"FerretGift1","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Ferret toy.","Id":"235","Name":"Ferret Present","NameId":"FerretGift2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Ferret toy.","Id":"236","Name":"Ferret Present","NameId":"FerretGift3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 to their lowest stat.","Id":"191","Name":"Fresh Water","NameId":"FreshWater","Tier":1,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Golden Egg perk.","Id":"148","Name":"Golden Egg","NameId":"GoldenEgg","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"PerkNote":"Before attack: Deal 6 damage to target, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Gros Michel Banana perk.","Id":"192","Name":"Gros Michel Banana","NameId":"GrosMichelBanana","Tier":1,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Before attack: Transform into an Ant.","CustomArchetypes":[]},{"Ability":"Give one pet the Health Potion perk.","Id":"150","Name":"Health Potion","NameId":"HealthPotion","Tier":1,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Give the front-most friendly pet +2 health.","CustomArchetypes":[]},{"Ability":"Transform one Bad Dog into Good Dog, or give +4 attack and +4 health.","Id":"151","Name":"Holy Water","NameId":"HolyWater","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Ability":"Give one pet the Honey perk.","Id":"40","Name":"Honey","NameId":"Honey","Tier":1,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Faint: Summon one 1/1 Bee.","CustomArchetypes":[]},{"Ability":"Give one pet the Macaron perk.","Id":"128","Name":"Macaron","NameId":"Macaron","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Activate ability after other pets with the same trigger.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +2 health.","Id":"49","Name":"Milk","NameId":"Milk","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Nachos perk.","Id":"136","Name":"Nachos","NameId":"Nachos","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before attack: Convert up to 3 health into attack.","CustomArchetypes":[]},{"Ability":"Give one pet +2 health.","Id":"64","Name":"Peach","NameId":"Plumb","Tier":1,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack on odd turns and +2 health on even turns.","Id":"119","Name":"Pumpkin","NameId":"Pumpkin","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +1 health.","Id":"210","Name":"Seed Pile","NameId":"SeedPile","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Strawberry perk.","Id":"81","Name":"Strawberry","NameId":"Strawberry","Tier":1,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Unagi perk.","Id":"196","Name":"Unagi","NameId":"Unagi","Tier":1,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Start of battle: Deal 2 damage to a random enemy.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Walnut perk.","Id":"174","Name":"Walnut","NameId":"Walnut","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":[]},{"Ability":"Choose ANY perk food from the current tier to stock at 1 gold.","Id":"208","Name":"Antarctic Krill","NameId":"AntarcticKrill","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Bok Choy perk.","Id":"176","Name":"Bok Choy","NameId":"BokChoy","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Gain +3 health when this would faint, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 health and remove 1 attack.","Id":"11","Name":"Broccoli","NameId":"Broccoli","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Cold without triggering abilities.","Id":"219","Name":"Canned Cold","NameId":"CannedFrozen","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Take +5 damage, once.","CustomArchetypes":[]},{"Ability":"Make one pet Inked without triggering abilities.","Id":"220","Name":"Canned Ink","NameId":"CannedInk","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":[]},{"Ability":"Make one pet Weak without triggering abilities.","Id":"214","Name":"Canned Weak","NameId":"CannedWeak","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Caramel perk.","Id":"124","Name":"Caramel","NameId":"Caramel","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Combine friendly Caramels to deal 3 damage each to the most healthy enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cherry perk.","Id":"20","Name":"Cherries","NameId":"Cherries","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before battle: Gain 2 trumpets and remove perk.","CustomArchetypes":[]},{"Ability":"Give one pet the Chocolate Cake perk.","Id":"24","Name":"Chocolate Cake","NameId":"ChocolateCake","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Gain +3 experience and faint.","CustomArchetypes":[]},{"Ability":"Give one pet the Churros perk.","Id":"126","Name":"Churros","NameId":"Churros","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Activate ability before other pets with the same trigger.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +1 health. Triple on every third Cloudberry.","Id":"185","Name":"Cloudberry","NameId":"Cloudberries","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cod Roe perk.","Id":"207","Name":"Cod Roe","NameId":"CodRoe","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Faint: Summon one 2/3 Fish.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health until next turn.","Id":"50","Name":"Cupcake","NameId":"Muffin","Tier":2,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Eucalyptus perk.","Id":"167","Name":"Eucalyptus","NameId":"Eucalyptus","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Faint Bread perk.","Id":"140","Name":"Faint Bread","NameId":"DeadBread","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon ANY one tier 1 <b>Faint</b> pet.","CustomArchetypes":[]},{"Ability":"Give one pet the Fairy Dust perk.","Id":"144","Name":"Fairy Dust","NameId":"FairyDust","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Empty front space: Jump to the front and gain +2 mana, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and remove 1 health.","Id":"100","Name":"Fried Shrimp","NameId":"FriedShrimp","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Gain 2 free rolls next turn.","Id":"45","Name":"Kiwifruit","NameId":"Kiwi","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Choose one level 1 Lemur toy.","Id":"249","Name":"Lemur Present","NameId":"LemurGift1","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Lemur toy.","Id":"250","Name":"Lemur Present","NameId":"LemurGift2","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Lemur toy.","Id":"251","Name":"Lemur Present","NameId":"LemurGift3","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Lime perk.","Id":"170","Name":"Lime","NameId":"Lime","Tier":2,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Takes 1 less damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Meat Bone perk.","Id":"9","Name":"Meat Bone","NameId":"MeatBone","Tier":2,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack with +3 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Radish perk.","Id":"122","Name":"Radish","NameId":"Radish","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before battle: Gain ANY useful perk from the pet\'s tier.","CustomArchetypes":[]},{"Ability":"Give one pet the Rice perk.","Id":"70","Name":"Rice","NameId":"RiceBall","Tier":2,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":[]},{"Ability":"Make one pet faint. Always on sale!","Id":"92","Name":"Sleeping Pill","NameId":"Pill","Tier":2,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sudduth Tomato perk.","Id":"195","Name":"Sudduth Tomato","NameId":"SudduthTomato","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Hurt: If still standing, gain permanent +1 health, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and Weak.","Id":"159","Name":"Wall Chicken","NameId":"WallChicken","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Gain +3 gold on next turn.","Id":"1","Name":"Avocado","NameId":"Avocado","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Blackberry perk.","Id":"172","Name":"Blackberry","NameId":"Blackberry","Tier":3,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Gain +1 attack and +2 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Brussels Sprout perk.","Id":"118","Name":"Brussels Sprout","NameId":"BrusselsSprout","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block being pushed or 5 damage, once.","CustomArchetypes":[]},{"Ability":"Give future shop pets from the next tier permanent +1 attack and +1 health.","Id":"12","Name":"Bubble Tea","NameId":"BubbleTea","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cake perk.","Id":"6","Name":"Cake","NameId":"BirthdayCake","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"End turn: Increase sell value by 1 gold.","CustomArchetypes":[]},{"Ability":"Make one pet Confused without triggering abilities.","Id":"231","Name":"Canned Confusion","NameId":"CannedConfused","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Before attack: Transform into a pet from one tier below, once.","CustomArchetypes":[]},{"Ability":"Make one pet Silly without triggering abilities.","Id":"217","Name":"Canned Silly","NameId":"CannedSilly","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Ability has random targets in battle.","CustomArchetypes":[],"Random":true},{"Ability":"Make one pet Webbed without triggering abilities.","Id":"228","Name":"Canned Web","NameId":"CannedWeb","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Summon one 2/2 Spider up front for the opponent.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack.","Id":"201","Name":"Carrot Parisier","NameId":"CarrotParisier","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Croissant perk.","Id":"29","Name":"Croissant","NameId":"Croissant","Tier":3,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"PerkNote":"End turn: Gain +1 attack.","CustomArchetypes":[]},{"Ability":"Give one pet the Cucumber perk.","Id":"97","Name":"Cucumber","NameId":"Cucumber","Tier":3,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"End turn: Gain +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Fig perk.","Id":"109","Name":"Fig","NameId":"Fig","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 4 damage to the lowest health enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Garlic perk.","Id":"38","Name":"Garlic","NameId":"Garlic","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Takes 2 less damage.","PerkFinePrint":"Damage can\'t be reduced to less than 2.","CustomArchetypes":[]},{"Ability":"Give one pet +3 health.","Id":"211","Name":"Geechee Red Pea","NameId":"GeecheeRedPea","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one level 1 Gharial toy.","Id":"237","Name":"Gharial Present","NameId":"GharialGift1","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Gharial toy.","Id":"238","Name":"Gharial Present","NameId":"GharialGift2","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Gharial toy.","Id":"239","Name":"Gharial Present","NameId":"GharialGift3","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Gingerbread Man perk.","Id":"147","Name":"Gingerbread Man","NameId":"GingerbreadMan","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Gain +1 experience.","CustomArchetypes":[]},{"Ability":"Give one pet the Guava perk.","Id":"112","Name":"Guava","NameId":"Guava","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Block 3 damage, and attack for +3 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 to their lowest stat.","Id":"153","Name":"Just-Right Porridge","NameId":"JustRightPorridge","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give three pets from the current shop tier or higher +1 attack and +1 health.","Id":"72","Name":"Lettuce","NameId":"Salad","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Swap Attack and Health of a pet. Always on sale!","Id":"48","Name":"Lollipop","NameId":"Lollipop","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pineapple perk.","Id":"61","Name":"Pineapple","NameId":"Pineapple","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Ability deals +2 damage, thrice.","CustomArchetypes":[]},{"Ability":"Give one pet the Rambutan perk.","Id":"110","Name":"Rambutan","NameId":"Rambutan","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Before attack: Gain +3 mana.","CustomArchetypes":[]},{"Ability":"Replace perk or ailment on one pet with +2 attack and +2 health.","Id":"179","Name":"Ravioli","NameId":"Ravioli","Tier":3,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give two random pets +1 attack and +1 health.","Id":"73","Name":"Salad Bowl","NameId":"SaladBowl","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Balance out attack and health. Always on sale!","Id":"75","Name":"Sandwich","NameId":"Sandwich","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sausage perk.","Id":"114","Name":"Sausage","NameId":"Sausage","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Start of turn: Gain one free roll.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Seaweed perk.","Id":"184","Name":"Seaweed","NameId":"Seaweed","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Transform into a Baby Urchin.","CustomArchetypes":[]},{"Ability":"Give one pet the Squash perk.","Id":"121","Name":"Squash","NameId":"Squash","Tier":3,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before attack: Remove 6 health from target, once.","CustomArchetypes":[]},{"Ability":"Transform one pet into another from the same tier and with ANY tier 3 perk.","Id":"161","Name":"Water of Youth","NameId":"YouthWater","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the White Truffle perk.","Id":"198","Name":"White Truffle","NameId":"WhiteTruffle","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Friend faints: Gain +4 attack and jump-attack the highest attack enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Ambrosia perk.","Id":"138","Name":"Ambrosia","NameId":"Ambrosia","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Block ailment or 8 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Baguette perk.","Id":"3","Name":"Baguette","NameId":"Baguette","Tier":4,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Remove the front-most enemy perk, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Banana perk.","Id":"4","Name":"Banana","NameId":"Banana","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Faint: Summon one 4/4 Monkey.","CustomArchetypes":[]},{"Ability":"Make one pet Bloated without triggering abilities.","Id":"229","Name":"Canned Bloat","NameId":"CannedBloated","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Can\'t gain perk, once.","CustomArchetypes":[]},{"Ability":"Make one pet Crisp without triggering abilities.","Id":"224","Name":"Canned Burn","NameId":"CannedBurn","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":[]},{"Ability":"Give all current and future shop pets +1 attack and +1 health.","Id":"16","Name":"Canned Food","NameId":"CannedFood","Tier":4,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Tasty without triggering abilities.","Id":"222","Name":"Canned Tasty","NameId":"CannedTasty","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Give one random enemy permanent +2 attack and +2 health.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Cauliflower perk.","Id":"137","Name":"Cauliflower","NameId":"Cauliflower","Tier":4,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Knock out: If still standing, gain permanent +1 attack and +1 health, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cheese perk.","Id":"19","Name":"Cheese","NameId":"Cheese","Tier":4,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Attack with at least 15 attack, once.","CustomArchetypes":[]},{"Ability":"Transform one pet into another of the same tier and give two other +1 attack and +1 health.","Id":"189","Name":"Chickpea","NameId":"Chickpea","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Donut perk.","Id":"31","Name":"Donut","NameId":"Doughnut","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Prioritize this for friendly random abilities.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +3 health. Also convert 2 attack into health.","Id":"141","Name":"Drink-Me Liquid","NameId":"DrinkMeLiquid","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack. Also convert 2 health into attack.","Id":"143","Name":"Eat-Me Cake","NameId":"EatMeCake","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Fortune Cookie perk.","Id":"35","Name":"Fortune Cookie","NameId":"FortuneCookie","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Attack has 50% chance to deal double damage.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Grapes perk.","Id":"39","Name":"Grapes","NameId":"Grapes","Tier":4,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Start of turn: Gain +1 gold.","CustomArchetypes":[]},{"Ability":"Give one pet the Maple Syrup perk.","Id":"194","Name":"Maple Syrup","NameId":"MapleSyrup","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Attack for 50% damage and block 50% damage, thrice.","CustomArchetypes":[]},{"Ability":"Give one pet the Melon Slice perk.","Id":"87","Name":"Melon Slice","NameId":"WaterMelon","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Block 10 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Mild Chili perk.","Id":"232","Name":"Mild Chili","NameId":"MildChili","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Attack second enemy for 4 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Onion perk.","Id":"53","Name":"Onion","NameId":"Onion","Tier":4,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Move to the back, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Oyster Mushroom perk.","Id":"183","Name":"Oyster Mushroom","NameId":"OysterMushroom","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before attack: Set attack and health to at least 9, once.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health.","Id":"58","Name":"Pear","NameId":"Pear","Tier":4,"Packs":["Pack1","Pack3"],"PacksRequired":["Pack1","Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pie perk.","Id":"60","Name":"Pie","NameId":"Pie","Tier":4,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before battle: Gain +4 attack and +3 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Potato perk.","Id":"66","Name":"Potato","NameId":"Potato","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 10 damage from abilities and perks, twice.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Puppy toy.","Id":"240","Name":"Puppy Present","NameId":"PuppyGift1","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Puppy toy.","Id":"241","Name":"Puppy Present","NameId":"PuppyGift2","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Puppy toy.","Id":"242","Name":"Puppy Present","NameId":"PuppyGift3","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Salt perk.","Id":"74","Name":"Salt","NameId":"Salt","Tier":4,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack for double damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +1 health. Triple if you have 1 life left.","Id":"78","Name":"Soup","NameId":"Soup","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one tier 4-6 ailment to stock. Always on sale!","Id":"226","Name":"Stronger Canned Ailment","NameId":"CannedAilment2","Tier":4,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give the two left-most shop pets +2 attack and +3 health.","Id":"197","Name":"Vanilla Bean","NameId":"VanillaBean","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Activate buy ability or give +3 health.","Id":"86","Name":"Waffle","NameId":"Waffle","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 experience.","Id":"105","Name":"Best Chocolate","NameId":"Chocolate3","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 experience.","Id":"104","Name":"Better Chocolate","NameId":"Chocolate2","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +6 mana.","Id":"202","Name":"Big Mana Potion","NameId":"ManaPotion2","Tier":5,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Dazed without triggering abilities.","Id":"218","Name":"Canned Dazed","NameId":"CannedDeaf","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Prevent ability from activating.","CustomArchetypes":[]},{"Ability":"Make one pet Sleepy without triggering abilities.","Id":"221","Name":"Canned Sleepy","NameId":"CannedDrowsy","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Attack with half damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Carrot perk.","Id":"17","Name":"Carrot","NameId":"Carrot","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"End turn: Gain +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Chili perk.","Id":"22","Name":"Chili","NameId":"Chili","Tier":5,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack second enemy for 5 damage.","CustomArchetypes":[]},{"Ability":"Give one pet +1 experience.","Id":"23","Name":"Chocolate","NameId":"Chocolate","Tier":5,"Packs":["Pack1","Pack2","Pack3","Pack4","Pack5","Danger"],"PacksRequired":["Pack1","Pack2","Pack3","Pack4","Pack5","Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cocoa Bean perk.","Id":"190","Name":"Cocoa Bean","NameId":"CocoaBean","Tier":5,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Before attack: Transform into an exact copy of a random enemy, once.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +3 attack and +2 health.","Id":"123","Name":"Cotton Candy","NameId":"CottonCandy","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Durian perk.","Id":"113","Name":"Durian","NameId":"Durian","Tier":5,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Reduce the most healthy enemy by 33% health, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Easter Egg perk.","Id":"142","Name":"Easter Egg","NameId":"EasterEgg","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon one 3/3 Bunny that attacks for double damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Eggplant perk.","Id":"34","Name":"Eggplant","NameId":"EggPlant","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before battle: Push opposite enemy 1 space forward.","CustomArchetypes":[]},{"Ability":"Replace each shop item with something from 1 tier higher than it.","Id":"129","Name":"Flodebolle","NameId":"Flodeboller","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Honeydew Melon perk.","Id":"193","Name":"Honeydew Melon","NameId":"HoneydewMelon","Tier":5,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 10 damage, and attack for +5 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Kiwano perk.","Id":"181","Name":"Kiwano","NameId":"Kiwano","Tier":5,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Ability deals +8 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +3 health.","Id":"125","Name":"Lasagna","NameId":"Lasagne","Tier":5,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Lemon perk.","Id":"47","Name":"Lemon","NameId":"Lemon","Tier":5,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Block 7 damage, twice.","CustomArchetypes":[]},{"Ability":"Give one pet the Love Potion perk.","Id":"155","Name":"Love Potion","NameId":"LovePotion","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Summon one 5/5 pet like this.","CustomArchetypes":[]},{"Ability":"Give one pet the Magic Beans perk.","Id":"156","Name":"Magic Beans","NameId":"MagicBeans","Tier":5,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Start of turn: Gain the Golden Egg perk and increase sell value by 4 gold.","CustomArchetypes":[]},{"Ability":"Give one pet +5 to its lowest stat.","Id":"209","Name":"Oblonot","NameId":"Oblonot","Tier":5,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pepper perk.","Id":"59","Name":"Pepper","NameId":"Pepper","Tier":5,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Health does not go under 1. Removed after taking damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Skewer perk.","Id":"76","Name":"Skewer","NameId":"Skewer","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Attack second and third enemy for 3 damage.","CustomArchetypes":[]},{"Ability":"Give three random pets +2 health.","Id":"80","Name":"Stew","NameId":"Stew","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Choose one level 1 Sting Ray toy.","Id":"246","Name":"Sting Ray Present","NameId":"StingRayGift1","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Sting Ray toy.","Id":"247","Name":"Sting Ray Present","NameId":"StingRayGift2","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Sting Ray toy.","Id":"248","Name":"Sting Ray Present","NameId":"StingRayGift3","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet Strawberry. Always on sale!","Id":"168","Name":"Strawberry Jam","NameId":"StrawberryJar","Tier":5,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give three random pets +1 attack and +1 health.","Id":"82","Name":"Sushi","NameId":"Sushi","Tier":5,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give three random pets +2 attack.","Id":"84","Name":"Taco","NameId":"Taco","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Stock one 2-gold copy of the last non-Tofu food bought this turn.","Id":"187","Name":"Tofu","NameId":"Tofu","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Cursed without triggering abilities.","Id":"230","Name":"Canned Curse","NameId":"CannedCurse","Tier":6,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Make one random friend Cursed.","CustomArchetypes":[],"Random":true},{"Ability":"Make one pet Icky without triggering abilities.","Id":"215","Name":"Canned Icky","NameId":"CannedAcid","Tier":6,"Packs":[],"PacksRequired":[],"PerkNote":"Take double damage, twice.","CustomArchetypes":[]},{"Ability":"Give one pet +6 health.","Id":"120","Name":"Celery","NameId":"Celery","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health.","Id":"21","Name":"Chicken Leg","NameId":"ChickenLeg","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Activate one pet\'s ability.","Id":"206","Name":"Coffee Bean","NameId":"CoffeeBean","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"CustomArchetypes":[]},{"Ability":"Choose one free tier 6 food to stock from ALL packs.","Id":"166","Name":"Cornucopia","NameId":"Cornucopia","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give two random pets +4 attack.","Id":"41","Name":"Hot Dog","NameId":"HotDog","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Stock one 2-gold Melon and one 2-gold Steak.","Id":"106","Name":"Judean Date","NameId":"Date","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Transform one pet into another from one higher tier.","Id":"154","Name":"Konpeito","NameId":"Kompeito","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Ability":"Give one pet the Melon perk.","Id":"96","Name":"Melon","NameId":"Melon","Tier":6,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Mongoose toy.","Id":"243","Name":"Mongoose Present","NameId":"MongooseGift1","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Mongoose toy.","Id":"244","Name":"Mongoose Present","NameId":"MongooseGift2","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Mongoose toy.","Id":"245","Name":"Mongoose Present","NameId":"MongooseGift3","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Mushroom perk.","Id":"51","Name":"Mushroom","NameId":"Mushroom","Tier":6,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Faint: Come back as a 1/1.","CustomArchetypes":["Mvp"]},{"Ability":"Give two random pets +4 health.","Id":"54","Name":"Orange","NameId":"Orange","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Pancakes perk.","Id":"55","Name":"Pancakes","NameId":"Pancakes","Tier":6,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before battle: Give friends +2 attack and +2 health.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health. Upgrade future peaches to give +1 more attack and health.","Id":"152","Name":"Peach of Immortality","NameId":"ImmortalPeach","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pita Bread perk.","Id":"62","Name":"Pita Bread","NameId":"PitaBread","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Hurt: Gain +15 health, once.","CustomArchetypes":[]},{"Ability":"Give two random pets +2 attack and +2 health.","Id":"63","Name":"Pizza","NameId":"Pizza","Tier":6,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Popcorn perk.","Id":"65","Name":"Popcorn","NameId":"Popcorn","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Summon one random pet from the same tier.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +2 attack and +2 health. Double if all pets are tier 4 or higher.","Id":"67","Name":"Pretzel","NameId":"Pretzel","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"If pack has no pets/food from the tab, give tier 5 and 6 perks to one pet and the friends ahead of it.","Id":"158","Name":"Rainbow Jelly","NameId":"RainbowJelly","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sardinian Currant perk.","Id":"200","Name":"Sardinian Currant","NameId":"SardinianCurrant","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Start of turn: Gain +2 gold.","CustomArchetypes":[]},{"Ability":"Give all pets +1 attack.","Id":"77","Name":"Soft Ice","NameId":"SoftIce","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one tier 5-6 perk food to stock for free from ANY pack.","Id":"171","Name":"Starfruit","NameId":"Starfruit","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Steak perk.","Id":"79","Name":"Steak","NameId":"Steak","Tier":6,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"PerkNote":"Attack with +20 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Tomato perk.","Id":"85","Name":"Tomato","NameId":"Tomato","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 10 damage to the last enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the White Okra perk.","Id":"199","Name":"White Okra","NameId":"WhiteOkra","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 10 damage twice or ailment once.","CustomArchetypes":[]},{"Ability":"Give one pet the Yggdrasil Fruit perk.","Id":"160","Name":"Yggdrasil Fruit","NameId":"YggdrasilFruit","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon two 5/5 Nordic Goats.","CustomArchetypes":[]},{"Ability":"Give one pet the Coconut perk.","Id":"26","Name":"Coconut","NameId":"Coconut","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Peanut perk.","Id":"57","Name":"Peanut","NameId":"Peanut","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":[]},{"Ability":"Give one pet the Peanut Butter perk.","Id":"204","Name":"Peanut Butter","NameId":"PeanutButter","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":[]}]');var tc=w.t(ec,2);const $u=new Map([["Blueberry",1],["Golden Egg",1],["Gros Michel Banana",1],["Health Potion",1],["Honey",1],["Macaron",1],["Unagi",1],["Caramel",2],["Cherry",2],["Chocolate Cake",2],["Churros",2],["Cod Roe",2],["Eucalyptus",2],["Faint Bread",2],["Fairy Dust",2],["Meat Bone",2],["Radish",2],["Sudduth Tomato",2],["Brussels Sprout",3],["Cucumber",3],["Fig",3],["Gingerbread Man",3],["Pineapple",3],["Rambutan",3],["Sausage",3],["Seaweed",3],["White Truffle",3],["Baguette",4],["Banana",4],["Cauliflower",4],["Cheese",4],["Donut",4],["Fortune Cookie",4],["Grapes",4],["Melon Slice",4],["Oyster Mushroom",4],["Potato",4],["Carrot",5],["Chili",5],["Durian",5],["Easter Egg",5],["Eggplant",5],["Kiwano",5],["Magic Beans",5],["Onion",4],["Pepper",5],["Mild Chili",4],["Popcorn",6],["Sardinian Currant",6],["Yggdrasil Fruit",6]]),Rp=[{pattern:/^Start of turn:/i,trigger:"StartTurn"},{pattern:/^End turn:/i,trigger:"EndTurn"},{pattern:/^Before battle:/i,trigger:"BeforeStartBattle"},{pattern:/^Start of battle:/i,trigger:"StartBattle"},{pattern:/^Before attack:/i,trigger:"BeforeThisAttacks"},{pattern:/^Faint:/i,trigger:"Faint"},{pattern:/^Hurt:/i,trigger:"ThisHurt"},{pattern:/^Anyone attacks:/i,trigger:"AnyoneAttack"},{pattern:/^Empty front space:/i,trigger:"EmptyFrontSpace"},{pattern:/^Knock out:/i,trigger:"KnockOut"}],CP=new Map((bu??$h??[]).filter(r=>r?.Name).map(r=>{const t=[],i=(r.Ability??"").trim();for(const{pattern:n,trigger:o}of Rp)n.test(i)&&!t.includes(o)&&t.push(o);return[r.Name,t]}));function Ia(r,e){if(!r)return;const t=CP.get(e);t&&t.length&&(r.triggers=[...t])}let hr=(()=>{class r{logService;abilityService;gameService;randomEquipmentSet=new Set;constructor(t,i,n){this.logService=t,this.abilityService=i,this.gameService=n,this.logService=nr(this.logService),this.initRandomEquipment()}initRandomEquipment(){const t=ec??tc;if(Array.isArray(t))for(const i of t)i&&"object"==typeof i&&!0===i.Random&&"string"==typeof i.Name&&this.randomEquipmentSet.add(i.Name)}getAllEquipment(){const t=Nt.getInjector().get(Xn),i=new Map,n={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService,petService:t};for(const[o,a]of Object.entries(Mp)){const l=new a;this.randomEquipmentSet.has(o)&&(l.hasRandomEvents=!0),Ia(l,o),i.set(o,l)}for(const[o,a]of Object.entries(JE)){const l=new a(this.logService);this.randomEquipmentSet.has(o)&&(l.hasRandomEvents=!0),Ia(l,o),i.set(o,l)}for(const[o,a]of Object.entries(QE)){const l=new a(this.logService,this.abilityService);this.randomEquipmentSet.has(o)&&(l.hasRandomEvents=!0),Ia(l,o),i.set(o,l)}for(const[o,a]of Object.entries(ZE)){const l=a(n);this.randomEquipmentSet.has(o)&&(l.hasRandomEvents=!0),Ia(l,o),i.set(o,l)}for(const[o,a]of i.entries())if(null==a?.tier){const l=$u.get(o);null!=l&&(a.tier=l)}return i}getAllAilments(){const t=new Map,i={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService,petService:null};for(const[n,o]of Object.entries(qs)){const a=new o;this.randomEquipmentSet.has(n)&&(a.hasRandomEvents=!0),Ia(a,n),t.set(n,a)}for(const[n,o]of Object.entries(Zl)){const a=o(i);this.randomEquipmentSet.has(n)&&(a.hasRandomEvents=!0),Ia(a,n),t.set(n,a)}return t}static \u0275fac=function(i){return new(i||r)(A.KVO(Yn),A.KVO(Da),A.KVO(Zi))};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class Pi{logService;abilityService;gameService;equipmentFactory;cachedEquipment=null;cachedAilments=null;constructor(e,t,i,n){this.logService=e,this.abilityService=t,this.gameService=i,this.equipmentFactory=n,this.logService=nr(this.logService)}getInstanceOfAllEquipment(){return this.cachedEquipment||(this.cachedEquipment=this.equipmentFactory.getAllEquipment()),this.cachedEquipment}getInstanceOfAllAilments(){return this.cachedAilments||(this.cachedAilments=this.equipmentFactory.getAllAilments()),this.cachedAilments}isEquipmentRandom(e){const t=this.getInstanceOfAllEquipment(),i=this.getInstanceOfAllAilments();return(t.get(e)?.hasRandomEvents??!1)||(i.get(e)?.hasRandomEvents??!1)}static USEFUL_PERKS=new Map([["Honey",1],["Strawberry",1],["Egg",1],["Cake Slice",1],["Cashew Nut",1],["Nachos",1],["Lime",2],["Meat Bone",2],["Cherry",2],["Bok Choy",2],["Kiwifruit",2],["Fairy Dust",2],["Garlic",3],["Gingerbread Man",3],["Fig",3],["Cucumber",3],["Croissant",3],["Squash",3],["Banana",4],["Love Potion",4],["Pie",4],["Grapes",4],["Cheese",4],["Cod Roe",4],["Salt",4],["Fortune Cookie",4],["Easter Egg",5],["Magic Beans",5],["Chili",5],["Lemon",5],["Durian",5],["Honeydew Melon",5],["Maple Syrup",4],["Cocoa Bean",5],["White Okra",5],["Popcorn",6],["Steak",6],["Pancakes",6],["Yggdrasil Fruit",6],["Melon",6],["Tomato",6],["Sudduth Tomato",6],["Pita Bread",6],["Seaweed",5],["Caramel",4],["Baguette",4]]);isUsefulPerk(e){return Pi.USEFUL_PERKS.has(e)}getUsefulPerksByTier(e){const t=this.getInstanceOfAllEquipment(),i=[];for(const[n,o]of Pi.USEFUL_PERKS.entries())o===e&&t.has(n)&&i.push(t.get(n));return i}getUsefulPerks(){const e=this.getInstanceOfAllEquipment(),t=[];for(const i of Pi.USEFUL_PERKS.keys())e.has(i)&&t.push(e.get(i));return t}static \u0275fac=function(t){return new(t||Pi)(A.KVO(Yn),A.KVO(Da),A.KVO(Zi),A.KVO(hr))};static \u0275prov=A.jDH({token:Pi,factory:Pi.\u0275fac,providedIn:"root"})}class Qe{logService;toyService;name;parent;level;tier;used=!1;suppressFriendFaintLog=!1;triggers=0;constructor(e,t,i,n){this.logService=e,this.toyService=t,ys(this),this.parent=i,this.level=n}}class qy extends C{logService;constructor(e,t){super({name:"BalloonAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,o=this.owner;let a=o.parent.getFurthestUpPets(this.level,[],o),l=a.pets;if(0!=l.length){for(let p of l)p.increaseAttack(1),p.increaseHealth(1),this.logService.createLog({message:`${o.name} gave ${p.name} 1 attack and 1 health.`,type:"ability",player:o.parent,tiger:n,randomEvent:a.random});this.triggerTigerExecution(e)}}copy(e){return new qy(e,this.logService)}}class Lp extends C{logService;constructor(e,t){super({name:"TennisBallAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!0,a),d=l.pets;if(0!=d.length){for(let p of d)a.snipePet(p,3,l.random,n);this.triggerTigerExecution(e)}}copy(e){return new Lp(e,this.logService)}}class xP extends Qe{logService;toyService;petService;name="Stick";tier=1;constructor(e,t,i,n,o){super(e,t,i,n),this.logService=e,this.toyService=t,this.petService=o}startOfBattle(e,t){const i=this.parent.getMiddleFriend();if(i.pet&&i.pet.alive){const n=new jo;n.power=2*this.level,n.originalPower=n.power,i.pet.givePetEquipment(n),this.logService.createLog({message:`${this.name} gave Walnut to ${i.pet.name}`,type:"ability",player:this.parent,randomEvent:i.random})}}}class t0 extends C{constructor(e,t){super({name:"StickAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilityFunction:i=>{const o=e.parent.getMiddleFriend(e);if(o.pet&&o.pet.alive){const a=new jo;a.power=2*this.abilityLevel,a.originalPower=a.power,o.pet.givePetEquipment(a),t.createLog({message:`${e.name} gave Walnut to ${o.pet.name} (Stick)`,type:"ability",player:e.parent,randomEvent:o.random})}}})}}class l0 extends Qe{logService;toyService;petService;name="Rubber Duck";tier=1;constructor(e,t,i,n,o){super(e,t,n,o),this.logService=e,this.toyService=t,this.petService=i}allEnemiesFainted(e,t){if(this.used)return;const i=this.parent.opponent,n=this.petService.createPet({name:"Duck",attack:50,health:1,exp:0,mana:0,equipment:null},i);n.toyPet=!0,i.summonPet(n,0).success&&(this.logService.createLog({message:`${this.name} summoned a 50/1 Duck for the enemy.`,type:"ability",player:this.parent,puma:t}),this.used=!0)}}function $r(r){if(!r)return null;const e=Object.create(Object.getPrototypeOf(r));return Object.assign(e,r),e}class Uo extends Qe{logService;toyService;petService;name="Stuffed Bear";tier=1;faintCount=0;constructor(e,t,i,n,o){super(e,t,n,o),this.logService=e,this.toyService=t,this.petService=i}friendFaints(e,t,i,n){if(this.faintCount+=1,this.faintCount%3!=0)return;const o=this.parent.getLastPet();if(!o.pet)return;const a=o.pet,l=$r(a.equipment),d=this.parent.opponent,p=this.petService.createPet({name:a.name,attack:a.attack,health:a.health,exp:a.exp??0,mana:a.mana??0,equipment:l},d);p.toyPet=!0,d.summonPet(p,0).success&&this.logService.createLog({message:`${this.name} summoned an enemy copy of ${a.name}.`,type:"ability",player:this.parent,puma:i})}}class Wy extends C{logService;constructor(e,t){super({name:"RadioAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getAll(!1,a,!0),d=l.pets;if(0!=d.length){for(let p of d)p.increaseHealth(this.level),this.logService.createLog({message:`${a.name} gave ${p.name} ${this.level} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random});this.triggerTigerExecution(e)}}copy(e){return new Wy(e,this.logService)}}class Op extends C{logService;constructor(e,t){super({name:"PlasticSawAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,o=this.owner;let a=o.parent.getPetsWithEquipment("Eucalyptus"),l=o.parent.getFurthestUpPets(this.level,a,o),d=l.pets;if(0!=d.length){for(let p of d)this.logService.createLog({message:`${o.name} gave ${p.name} Eucalyptus.`,type:"ability",player:o.parent,tiger:n,randomEvent:l.random}),p.givePetEquipment(new wp);this.triggerTigerExecution(e)}}copy(e){return new Op(e,this.logService)}}class Bp extends C{logService;constructor(e,t){super({name:"ToiletPaperAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.opponent,d=a.parent.getPetsWithEquipmentWithSillyFallback("Weak",a),p=l.getFurthestUpPets(this.level,d,a),b=p.pets;if(0!=b.length){for(let T of b)T.givePetEquipment(new Br),this.logService.createLog({message:`${a.name} gave ${T.name} Weak.`,type:"ability",player:a.parent,tiger:n,randomEvent:p.random});this.triggerTigerExecution(e)}}copy(e){return new Bp(e,this.logService)}}class zy extends C{logService;constructor(e,t){super({name:"OvenMittsAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){}copy(e){return new zy(e,this.logService)}}class LP extends C{logService;constructor(e,t){super({name:"MelonHelmetAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getPetsWithEquipment("Melon"),d=a.parent.getFurthestUpPets(this.level,l,a),p=d.pets;for(let b of p)b.givePetEquipment(new Ta),this.logService.createLog({message:`${a.name} gave ${b.name} Melon.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random});this.triggerTigerExecution(e)}copy(e){return new LP(e,this.logService)}}class Yy extends C{logService;constructor(e,t){super({name:"FoamSwordAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.opponent;for(let d=0;d<this.level;d++){let p=l.getLowestHealthPet();a.snipePet(p.pet,5,p.random,n)}this.triggerTigerExecution(e)}copy(e){return new Yy(e,this.logService)}}class Xy extends C{logService;constructor(e,t){super({name:"ToyGunAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.opponent;for(let d=0;d<this.level;d++){let p=l.getLastPet();if(null==p.pet)return;a.snipePet(p.pet,5,p.random,n)}this.triggerTigerExecution(e)}copy(e){return new Xy(e,this.logService)}}class Gu extends C{constructor(e,t){super({name:"CashRegisterAbility",triggers:[],owner:e,abilityType:"Pet",abilityFunction:i=>{}})}}class p0 extends C{constructor(e,t){super({name:"CameraAbility",triggers:["StartBattle"],owner:e,abilityType:"Pet",abilityFunction:i=>{const{gameApi:n,puma:o}=i;let a=hn(n,e.parent);for(let l=0;l<this.abilityLevel;l++){let d=a.getHighestAttackPet(),p=d.pet;if(null==p)return;let b=.3,T=Math.max(1,Math.floor(p.attack*(1-b)));p.attack=T,t.createLog({message:`${e.name} reduced ${p.name} attack by ${100*b}% to ${T} (Camera)`,type:"ability",player:e.parent,puma:o,randomEvent:d.random})}}})}}class Jy extends C{logService;constructor(e,t){super({name:"FlashlightAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=5*this.level,d=a.parent.getFurthestUpPet(a),p=d.pet;null!=p&&(p.increaseAttack(l),p.increaseHealth(l),this.logService.createLog({message:`Flashlight Ability gave ${p.name} ${l} attack and ${l} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new Jy(e,this.logService)}}class Qy extends C{logService;constructor(e,t){super({name:"StinkySockAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let d=a.parent.opponent.getHighestHealthPets(this.level,[],a),p=d.pets;if(0!=p.length){for(let b of p){let T=.4,F=Math.max(1,Math.floor(b.health*(1-T)));b.health=F,this.logService.createLog({message:`${a.name} reduced ${b.name} health by ${100*T}% to ${F}`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:d.random})}this.triggerTigerExecution(e)}}copy(e){return new Qy(e,this.logService)}}class Zy extends C{logService;constructor(e,t){super({name:"TelevisionAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=2*this.level,d=a.parent.getAll(!1,a,!0),p=d.pets;if(0!=p.length){for(let b of p)b.increaseAttack(l),b.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${b.name} ${l} attack and ${l} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random});this.triggerTigerExecution(e)}}copy(e){return new Zy(e,this.logService)}}class tb extends C{logService;constructor(e,t){super({name:"PeanutJarAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.getPetsWithEquipment("Peanut Butter"),p=a.parent.getLowestAttackPets(this.level,l,a).pets;if(0!=p.length){for(let b of p)b.givePetEquipment(new gu),this.logService.createLog({message:`Peanut Jar Ability gave ${b.name} PeanutButter.`,type:"ability",player:a.parent,tiger:n,pteranodon:o});this.triggerTigerExecution(e)}}copy(e){return new tb(e,this.logService)}}class Gp extends C{logService;constructor(e,t){super({name:"AirPalmTreeAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getPetsWithEquipment("Coconut"),d=a.parent.getHighestAttackPets(this.level,l,a),p=d.pets;if(0!=p.length){for(let b of p)b.givePetEquipment(new dr),this.logService.createLog({message:`${a.name} gave ${b.name} Coconut.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random});this.triggerTigerExecution(e)}}copy(e){return new Gp(e,this.logService)}}const BP=new Map,f0=ec??tc??[];for(const r of f0)r?.Name&&BP.set(r.Name,!0===r.Rollable);class $P extends Qe{logService;toyService;equipmentService;name="Pandoras Box";tier=5;startOfBattle(e,t){ju.applyPandorasBoxEffect({logService:this.logService,equipmentService:this.equipmentService,level:this.level,pets:[...e.player.petArray,...e.opponent.petArray],useClones:!1,logPlayer:this.parent,logMeta:{randomEvent:!0},logMessage:(i,n)=>`${this.name} gave ${i.name} ${n.name}`})}constructor(e,t,i,n,o){super(e,t,i,n),this.logService=e,this.toyService=t,this.equipmentService=o}}class ju extends C{logService;abilityService;equipmentService;constructor(e,t,i,n){super({name:"PandorasBoxAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=i,this.equipmentService=n}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,o=this.owner,a=hn(t,o.parent),l=[...o.parent.petArray,...a.petArray].filter(d=>d?.alive);ju.applyPandorasBoxEffect({logService:this.logService,equipmentService:this.equipmentService,level:this.level,pets:l,useClones:!0,logPlayer:o.parent,logMeta:{tiger:i,pteranodon:n,randomEvent:!0},logMessage:(d,p)=>`Pandoras Box Ability gave ${d.name} ${p.name}`}),this.triggerTigerExecution(e)}copy(e){return new ju(e,this.logService,this.abilityService,this.equipmentService)}static applyPandorasBoxEffect(e){const{logService:t,equipmentService:i,level:n,pets:o,useClones:a,logPlayer:l,logMeta:d,logMessage:p}=e,b=Array.from(i.getInstanceOfAllAilments().values()),T=new Set(["Chocolate Cake"]),F=Array.from(i.getInstanceOfAllEquipment().values()).filter(U=>{if(!U||T.has(U.name)||(r=U,!r?.name||!0!==BP.get(r.name)))return!1;var r;const ee=U.triggers??[];return!(ee.includes("StartTurn")||ee.includes("EndTurn")||ee.includes("BeforeStartBattle"))});for(const U of o){const Z=0===$t({key:"toy.pandoras-box.pool",label:xi(U,"Pandoras Box pool"),options:[{id:"ailments",label:"Ailments"},{id:"equipment",label:"Equipment"}]},()=>we(0,1)).index?b:F;if(!Z.length)continue;const se=$t({key:"toy.pandoras-box.item",label:xi(U,"Pandoras Box item"),options:Z.map(Ke=>({id:Ke.name,label:Ke.name}))},()=>we(0,Z.length-1)),ve=Z[se.index];if(!ve)continue;const Te=a?$r(ve):ve;Te&&(U.givePetEquipment(Te,n),t.createLog({message:p(U,Te),type:"ability",player:l,tiger:d?.tiger,pteranodon:d?.pteranodon,randomEvent:d?.randomEvent}))}}}class ib extends C{logService;constructor(e,t){super({name:"WitchBroomAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getPetsWithEquipmentWithSillyFallback("any",a),d=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,l,!1,!0,a),p=d.pets;if(0!=p.length){for(let b of p)b.givePetEquipment(new Br),this.logService.createLog({message:`${a.name} gave ${b.name} Weak.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random});this.triggerTigerExecution(e)}}copy(e){return new ib(e,this.logService)}}class nb extends C{logService;constructor(e,t){super({name:"CrystalBallAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getFurthestUpPet(a),d=l.pet;if(null==d)return;let p=2*this.level;d.increaseMana(p),this.logService.createLog({message:`${a.name} gave ${d.name} ${p} mana.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new nb(e,this.logService)}}class rb extends C{logService;constructor(e,t){super({name:"TreasureMapAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){}copy(e){return new rb(e,this.logService)}}class ab extends C{logService;constructor(e,t){super({name:"TreasureChestAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){}copy(e){return new ab(e,this.logService)}}class ob extends D{logService;abilityService;name="Great One";tier=6;pack="Custom";attack=7;health=13;initAbilities(){this.addAbility(new sb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class sb extends C{logService;constructor(e,t){super({name:"GreatOneAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const a=this.owner;let l=[...a.parent.petArray,...a.parent.opponent.petArray];l=l.filter(d=>d!==a);for(let d of l)a.snipePet(d,5*a.level);this.triggerTigerExecution(e)}copy(e){return new sb(e,this.logService)}}class qu extends C{logService;abilityService;constructor(e,t,i){super({name:"EvilBookAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null==this.owner.parent.pet0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;let l={attack:6*this.level,health:6*this.level},d=new ob(this.logService,this.abilityService,a.parent,l.health,l.attack,0,this.minExpForLevel),p=a.parent.summonPet(d,0);p.success&&this.logService.createLog({message:`Evil Book Ability spawned Great One (${l.attack}/${l.health}).`,type:"ability",player:a.parent,tiger:n,randomEvent:p.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new qu(e,this.logService,this.abilityService)}}class XP extends D{logService;abilityService;name="Salmon of Knowledge";tier=5;pack="Unicorn";attack=5;health=5;initAbilities(){this.addAbility(new Hp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Hp extends C{logService;constructor(e,t){super({name:"SalmonOfKnowledgeAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=2*this.level,d=[],p=a.parent.getFurthestUpPets(2,[a],a);d.push(...p.pets);let b=a.parent.opponent.getFurthestUpPets(2,void 0,a);d.push(...b.pets);for(let T of d)this.logService.createLog({message:`${a.name} gave ${T.name} ${l} exp.`,type:"ability",player:a.parent,tiger:n,randomEvent:p.random||b.random}),T.increaseExp(l);this.triggerTigerExecution(e)}copy(e){return new Hp(e,this.logService)}}class db extends D{logService;abilityService;name="Giant Eyes Dog";tier=1;pack="Unicorn";hidden=!0;health=1;attack=1;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class tk extends Qe{logService;toyService;petService;gameService;name="Microwave Oven";tier=2;startOfBattle(e,t){let i=this.parent.getPetsWithEquipment("perk"),o=this.parent.getFurthestUpPets(this.level,i).pets;if(0!=o.length)for(let a of o)this.logService.createLog({message:`${this.name} gave ${a.name} Popcorn.`,type:"ability",player:this.parent,puma:t}),a.givePetEquipment(new Ep(this.logService,this.petService,this.gameService))}constructor(e,t,i,n,o,a){super(e,t,i,n),this.logService=e,this.toyService=t,this.petService=o,this.gameService=a}}class bL extends C{constructor(e,t,i){super({name:"MicrowaveOvenAbility",triggers:["StartBattle"],owner:e,abilityType:"Pet",abilityFunction:n=>{const{puma:o}=n;let a=e.parent.getPetsWithEquipment("perk"),d=e.parent.getFurthestUpPets(this.abilityLevel,a,e).pets;if(0!=d.length)for(let p of d){t.createLog({message:`${e.name} gave ${p.name} Popcorn (Microwave Oven).`,type:"ability",player:e.parent,puma:o});const b=i.getInstanceOfAllEquipment().get("Popcorn");p.givePetEquipment(b)}}})}}const ik={"Action Figure":class uL extends Qe{name="Action Figure";tier=1;startOfBattle(e,t){const n=hn(e,this.parent).getFurthestUpPets(2);for(const o of n.pets)o.givePetEquipment(new dr),this.logService.createLog({message:`${this.name} gave ${o.name} Coconut.`,type:"ability",player:this.parent,puma:t,randomEvent:n.random})}},Balloon:class e0 extends Qe{name="Balloon";tier=1;onBreak(e,t){let i=this.parent.getFurthestUpPets(this.level,[]);if(0!=i.pets.length)for(let o of i.pets)o.increaseAttack(1),o.increaseHealth(1),this.logService.createLog({message:`${this.name} gave ${o.name} 1 attack and 1 health.`,type:"ability",player:this.parent,puma:t})}},"Chocolate Box":class DP extends Qe{name="Chocolate Box";tier=1;startOfBattle(e,t){const i=hn(e,this.parent);for(const n of this.parent.petArray)n.increaseExp(1),this.logService.createLog({message:`${this.name} gave ${n.name} 1 exp.`,type:"ability",player:this.parent,puma:t});for(const n of i.petArray)n.increaseExp(2),this.logService.createLog({message:`${this.name} gave ${n.name} 2 exp.`,type:"ability",player:this.parent,puma:t})}},"Dice Cup":class dL extends Qe{name="Dice Cup";tier=1;startOfBattle(e,t){const i=Io(this.parent.petArray.filter(n=>n.alive));for(let n=0;n<5;n++)this.parent.setPet(n,i[n]??null);this.logService.createLog({message:`${this.name} shuffled the team.`,type:"ability",player:this.parent,puma:t})}},Handkerchief:class hL extends Qe{name="Handkerchief";tier=1;startOfBattle(e,t){const i=this.parent.getFurthestUpPets(2);for(const n of i.pets)n.givePetEquipment(new Br),this.logService.createLog({message:`${this.name} gave ${n.name} Weak.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},Kite:class Vy extends Qe{name="Kite";tier=1;emptyFromSpace(e,t,i,n){const o=this.parent.getLastPet();if(!o.pet)return;const a=o.pet,l=Math.floor(.2*a.attack);l>0&&a.increaseAttack(-l),this.parent.pushPetToFront(a),this.logService.createLog({message:`${this.name} moved ${a.name} to the front and removed ${l} attack.`,type:"ability",player:this.parent,puma:t}),this.used=!0}},Lamp:class n0 extends Qe{name="Lamp";tier=1;startOfBattle(e,t){for(const i of this.parent.petArray){const n=Math.floor(.2*i.attack),o=Math.floor(.2*i.health);n>0&&i.increaseAttack(-n),o>0&&i.increaseHealth(-o),this.logService.createLog({message:`${this.name} removed ${n} attack and ${o} health from ${i.name}.`,type:"ability",player:this.parent,puma:t})}}},Lunchbox:class r0 extends Qe{name="Lunchbox";tier=1;startOfBattle(e,t){const i=e?.turnNumber??1;for(let n=0;n<i;n++){const o=this.parent.getRandomLivingPet();if(!o.pet)return;const a=o.pet,d=a.parent!==this.parent?2:1;a.increaseAttack(d),a.increaseHealth(d),this.logService.createLog({message:`${this.name} fed ${a.name} +${d}/+${d}.`,type:"ability",player:this.parent,puma:t,randomEvent:o.random})}}},"Tennis Ball":class Uy extends Qe{name="Tennis Ball";tier=2;startOfBattle(e,t){let i=this.parent.opponent.getRandomPets(this.level,[],!1,!0),n=i.pets;if(0!=n.length)for(let o of n)this.toyService.snipePet(o,3,this.parent,this.name,i.random,t)}},Onesie:class ic extends Qe{name="Onesie";tier=1;startOfBattle(e,t){const i=[];for(let n=0;n<2;n++){const o=this.parent.getRandomPet(i);if(!o.pet)return;i.push(o.pet),o.pet.givePetEquipment(new Gy),this.logService.createLog({message:`${this.name} gave ${o.pet.name} Cold.`,type:"ability",player:this.parent,puma:t,randomEvent:o.random})}}},"Paper Shredder":class Np extends Qe{name="Paper Shredder";tier=1;friendSummoned(e,t,i,n){t&&(t.health=0,this.logService.createLog({message:`${this.name} knocked out ${t.name}.`,type:"ability",player:this.parent,puma:i}))}},Pen:class a0 extends Qe{name="Pen";tier=1;startOfBattle(e,t){const i=this.parent.getFurthestUpPets(2);for(const n of i.pets)n.givePetEquipment(new no),this.logService.createLog({message:`${this.name} gave ${n.name} Inked.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},"Pill Bottle":class o0 extends Qe{name="Pill Bottle";tier=1;startOfBattle(e,t){const i=this.parent.getFurthestUpPets(2);for(const a of i.pets)a.health=0,this.logService.createLog({message:`${this.name} knocked out ${a.name}.`,type:"ability",player:this.parent,puma:t});const o=hn(e,this.parent).getFurthestUpPets(1).pets[0];o&&(o.health=0,this.logService.createLog({message:`${this.name} knocked out ${o.name}.`,type:"ability",player:this.parent,puma:t}))}},"Pogo Stick":class s0 extends Qe{name="Pogo Stick";tier=1;startOfBattle(e,t){const i=hn(e,this.parent),n=i.getLastPet();if(!n.pet)return;const o=n.pet;i.pushPetToFront(o);const a=o.attack,l=o.health;o.increaseAttack(a),o.increaseHealth(l),this.logService.createLog({message:`${this.name} pushed ${o.name} forward and gave +${a}/+${l}.`,type:"ability",player:this.parent,puma:t})}},"Remote Car":class Fp extends Qe{name="Remote Car";tier=1;startOfBattle(e,t){const i=hn(e,this.parent);for(const n of i.petArray){const o=Math.floor(.2*n.attack),a=Math.floor(.2*n.health);o>0&&n.increaseAttack(o),a>0&&n.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${n.name} +${o}/+${a}.`,type:"ability",player:this.parent,puma:t})}}},"Ring Pyramid":class IP extends Qe{name="Ring Pyramid";tier=1;startOfBattle(e,t){const i=e?.turnNumber??1;let n=1;i>2&&(n=2),i>4&&(n=3),i>6&&(n=4),i>8&&(n=5),i>10&&(n=6);const o=n-1;if(!(o<1))for(const a of this.parent.petArray)a.tier===o&&(a.health=0,this.logService.createLog({message:`${this.name} knocked out ${a.name}.`,type:"ability",player:this.parent,puma:t}))}},Scale:class c0 extends Qe{name="Scale";tier=1;abominationHasBehemoth(e){return"Abomination"===e?.name&&[1,2,3].some(t=>"Behemoth"===e[`abominationSwallowedPet${t}`])}getAttackCap(e){return"Behemoth"===e?.name||this.abominationHasBehemoth(e)?100:50}getHealthCap(e){return"Behemoth"===e?.name||"Giant Tortoise"===e?.name||this.abominationHasBehemoth(e)?100:50}startOfBattle(e,t){const i=e?.turnNumber??1;for(const n of this.parent.petArray){const o=Math.min(i,this.getAttackCap(n)),a=Math.min(i,this.getHealthCap(n)),l=o-n.attack,d=a-n.health;0!==l&&n.increaseAttack(l),0!==d&&n.increaseHealth(d),this.logService.createLog({message:`${this.name} set ${n.name} to ${o}/${a}.`,type:"ability",player:this.parent,puma:t})}}},"Soccer Ball":class pL extends Qe{name="Soccer Ball";tier=1;startOfBattle(e,t){const i=e?.turnNumber??1;let n=1;i>2&&(n=2),i>4&&(n=3),i>6&&(n=4),i>8&&(n=5),i>10&&(n=6);for(const o of this.parent.petArray)o.tier===n&&(o.health=0,this.logService.createLog({message:`${this.name} knocked out ${o.name}.`,type:"ability",player:this.parent,puma:t}))}},"Sticky Hand":class u0 extends Qe{name="Sticky Hand";tier=1;startOfBattle(e,t){const i=this.parent.getLastPets(2);for(const n of i.pets)n.givePetEquipment(new io),this.logService.createLog({message:`${this.name} gave ${n.name} Icky.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},Radio:class MP extends Qe{name="Radio";tier=2;onBreak(e,t){let i=this.parent.petArray;for(let n of i)n.alive&&(n.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${n.name} ${this.level} health.`,type:"ability",player:this.parent,puma:t}))}},"Plastic Saw":class RP extends Qe{name="Plastic Saw";tier=2;startOfBattle(e,t){let i=this.parent.getPetsWithEquipment("Eucalyptus"),o=this.parent.getFurthestUpPets(this.level,i).pets;if(0!=o.length)for(let a of o)this.logService.createLog({message:`${this.name} gave ${a.name} Eucalyptus.`,type:"ability",player:this.parent,puma:t}),a.givePetEquipment(new wp)}},"Toilet Paper":class nc extends Qe{name="Toilet Paper";tier=4;startOfBattle(e,t){let n=hn(e,this.parent).petArray.filter(o=>"Weak"!=o.equipment?.name).slice(0,this.level);for(let o of n)o.givePetEquipment(new Br),this.logService.createLog({message:`${this.name} gave ${o.name} Weak.`,type:"ability",player:this.parent,puma:t})}},"Oven Mitts":class Ky extends Qe{name="Oven Mitts";tier=4;onBreak(e){}},"Melon Helmet":class $p extends Qe{name="Melon Helmet";tier=3;onBreak(e,t){let i=this.parent.petArray.filter(n=>n.alive).slice(0,this.level);for(let n of i)n.givePetEquipment(new Ta),this.logService.createLog({message:`${this.name} gave ${n.name} Melon.`,type:"ability",player:this.parent,puma:t})}},"Foam Sword":class mL extends Qe{name="Foam Sword";tier=3;startOfBattle(e,t){let i=hn(e,this.parent);for(let n=0;n<this.level;n++){let o=i.getLowestHealthPet();if(null==o.pet)return;this.toyService.snipePet(o.pet,5,this.parent,this.name,o.random,t)}}},"Toy Gun":class NP extends Qe{name="Toy Gun";tier=3;startOfBattle(e,t){let i=hn(e,this.parent);for(let n=0;n<this.level;n++){let o=i.getLastPet();if(null==o.pet)return;this.toyService.snipePet(o.pet,5,this.parent,this.name,!1,t)}}},"Toy Mouse":class d0 extends Qe{name="Toy Mouse";tier=3;startOfBattle(e,t){for(const i of this.parent.petArray)i.exp=0,this.logService.createLog({message:`${this.name} set ${i.name} to level 1.`,type:"ability",player:this.parent,puma:t})}},"Cash Register":class rc extends Qe{name="Cash Register";tier=4;onBreak(e){}},Camera:class h0 extends Qe{name="Camera";tier=5;startOfBattle(e,t){let i=hn(e,this.parent);for(let n=0;n<this.level;n++){let o=i.getHighestAttackPet(),a=o.pet;if(null==a)return;let l=.3,d=Math.max(1,Math.floor(a.attack*(1-l)));a.attack=d,this.logService.createLog({message:`${this.name} reduced ${a.name} attack by ${100*l}% to ${d}`,type:"ability",player:this.parent,puma:t,randomEvent:o.random})}}},Flashlight:class FP extends Qe{name="Flashlight";tier=5;onBreak(e,t){let i=5*this.level,n=this.parent.furthestUpPet;null!=n&&(n.increaseAttack(i),n.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${n.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:t}))}},"Stinky Sock":class g0 extends Qe{name="Stinky Sock";tier=5;startOfBattle(e,t){let i=hn(e,this.parent);for(let n=0;n<this.level;n++){let o=i.getHighestHealthPet(),a=o.pet;if(null==a)return;let l=.4,d=Math.max(1,Math.floor(a.health*(1-l)));a.health=d,this.logService.createLog({message:`${this.name} reduced ${a.name} health by ${100*l}% to ${d}`,type:"ability",player:this.parent,puma:t,randomEvent:o.random})}}},Television:class m0 extends Qe{name="Television";tier=6;onBreak(e,t){let i=2*this.level;for(let n of this.parent.petArray)n.alive&&(n.increaseAttack(i),n.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${n.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:t}))}},"Peanut Jar":class eb extends Qe{name="Peanut Jar";tier=6;startOfBattle(e,t){let i=this.parent.getLowestAttackPets(this.level,this.parent.getPetsWithEquipment("Peanut Butter")),n=i.pets;if(0!=n.length)for(let o of n)o.givePetEquipment(new gu),this.logService.createLog({message:`${this.name} gave ${o.name} PeanutButter.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},"Air Palm Tree":class OP extends Qe{name="Air Palm Tree";tier=6;startOfBattle(e,t){let i=this.parent.getHighestAttackPets(this.level,this.parent.getPetsWithEquipment("Coconut")),n=i.pets;if(0!=n.length)for(let o of n)o.givePetEquipment(new dr),this.logService.createLog({message:`${this.name} gave ${o.name} Coconut.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},"Witch Broom":class y0 extends Qe{name="Witch Broom";tier=1;startOfBattle(e,t){let i=hn(e,this.parent),n=i.petArray.filter(a=>null!=a.equipment),o=[];for(let a=0;a<this.level;a++){let l=i.getRandomPet(n,!1,!0,!1,null);if(null==l.pet)break;n.push(l.pet),o.push(l.pet)}if(0!==o.length)for(let a of o)this.logService.createLog({message:`${this.name} gave ${a.name} Weak.`,type:"ability",player:this.parent,puma:t,randomEvent:i.petArray.length-n.length>0}),a.givePetEquipment(new Br);else this.logService.createLog({message:"Player's Witch Broom found no targets",type:"ability",player:this.parent,puma:t,randomEvent:!0})}},"Magic Wand":class b0 extends Qe{name="Magic Wand";tier=1;startOfBattle(e,t){let i=this.parent.petArray.filter(a=>a.level<3),n=null,o=!1;if(0==i.length){const a=this.parent.getRandomPet([],!0);n=a.pet,o=a.random}else i=Io(i),n=i[0],o=i.length>1;null!=n&&(this.logService.createLog({message:`${this.name} gave ${n.name} ${this.level} exp.`,type:"ability",player:this.parent,puma:t,randomEvent:o}),n.increaseExp(this.level))}},"Crystal Ball":class v0 extends Qe{name="Crystal Ball";tier=1;startOfBattle(e,t){let i=this.parent.petArray[0];null!=i&&(this.logService.createLog({message:`${this.name} gave ${i.name} ${this.level} mana.`,type:"ability",player:this.parent,puma:t,randomEvent:!1}),i.increaseMana(this.level))}},"Treasure Map":class A0 extends Qe{name="Treasure Map";tier=3},"Treasure Chest":class _0 extends Qe{name="Treasure Chest";tier=3},"Magic Carpet":class S0 extends Qe{name="Magic Carpet";tier=2;friendSummoned(e,t,i,n){this.logService.createLog({message:`${this.name} gave ${t.name} ${n} attack.`,type:"ability",player:this.parent,puma:i}),t.increaseAttack(n)}},"Magic Lamp":class P0 extends Qe{name="Magic Lamp";tier=2;friendlyLevelUp(e,t,i,n){this.logService.createLog({message:`${this.name} gave ${t.name} ${n} attack and ${n} health.`,type:"ability",player:this.parent,puma:i}),t.increaseAttack(+n),t.increaseHealth(+n)}},Candelabra:class k0 extends Qe{name="Candelabra";tier=4},"Glass Shoes":class w0 extends Qe{name="Glass Shoes";tier=4;friendFaints(e,t,i,n){if(i||this.triggers++,this.triggers%3!=0)return;let o=t.parent.petArray.filter(a=>a.alive);for(let a of o)this.logService.createLog({message:`${this.name} gave ${a.name} ${n} attack and ${n} health.`,type:"ability",player:this.parent,puma:i}),a.increaseAttack(+n),a.increaseHealth(+n)}},"Golden Harp":class UP extends Qe{name="Golden Harp";tier=4},"Lock of Hair":class T0 extends Qe{name="Lock of Hair";tier=4},"Magic Mirror":class WP extends Qe{name="Magic Mirror";tier=4},Pickaxe:class E0 extends Qe{name="Pickaxe";tier=4},"Red Cape":class zP extends Qe{name="Red Cape";tier=4;friendJumped(e,t,i,n){let o=t.parent.petArray.filter(a=>a.alive);for(let a of o)this.logService.createLog({message:`${this.name} gave ${a.name} ${n} attack and ${n} health.`,type:"ability",player:this.parent,puma:i}),a.increaseAttack(+n),a.increaseHealth(+n)}},Rosebud:class YP extends Qe{name="Rosebud";tier=4;friendlyLevelUp(e,t,i,n){if(i||this.triggers++,this.triggers%2!=0)return;let o=t.parent.petArray.filter(a=>a.alive);for(let a of o)this.logService.createLog({message:`${this.name} gave ${a.name} ${n} attack and ${n} health.`,type:"ability",player:this.parent,puma:i}),a.increaseAttack(+n),a.increaseHealth(+n)}},Excalibur:class pr extends Qe{name="Excalibur";tier=6},"Holy Grail":class yL extends Qe{name="Holy Grail";tier=6}},C0={"Evil Book":class HP extends Qe{logService;toyService;abilityService;name="Evil Book";tier=5;emptyFromSpace(e,t,i,n){let o={attack:6*i,health:6*i},l=new ob(this.logService,this.abilityService,this.parent,o.health,o.attack,0,1==i?0:2==i?2:5),d=`${this.name} spawned Great One (${o.attack}/${o.health}).`;this.parent.summonPet(l,0).success&&this.logService.createLog({message:d,type:"ability",player:this.parent,puma:t}),this.used=!0}constructor(e,t,i,n,o){super(e,t,n,o),this.logService=e,this.toyService=t,this.abilityService=i}},Nutcracker:class JP extends Qe{logService;toyService;abilityService;name="Nutcracker";tier=4;suppressFriendFaintLog=!0;pendingSpawn=!1;friendFaints(e,t,i,n){this.used||this.pendingSpawn||t.parent.petArray.filter(a=>a.alive).length>0||this.queueSalmonSpawn()}queueSalmonSpawn(){this.pendingSpawn=!0,this.abilityService.setCounterEvent({priority:0,callback:(e,t,i)=>{this.pendingSpawn=!1,this.attemptSalmonSpawn()}})}attemptSalmonSpawn(){if(this.used||this.parent.petArray.filter(n=>n.alive).length>0)return;const t=6*this.level,i=new XP(this.logService,this.abilityService,this.parent,t,t,null,0);this.parent.summonPet(i,0).success&&this.logService.createLog({message:`${this.name} spawned Salmon of Knowledge (${t}/${t})`,type:"ability",player:this.parent}),this.used=!0}constructor(e,t,i,n,o){super(e,t,n,o),this.logService=e,this.toyService=t,this.abilityService=i}},"Tinder Box":class ZP extends Qe{logService;toyService;abilityService;name="Tinder Box";tier=4;emptyFromSpace(e,t,i,n){let o={attack:6*i,health:6*i},l=new db(this.logService,this.abilityService,this.parent,o.health,o.attack,0,1==i?0:2==i?2:5),d=`${this.name} spawned Giant Eyes Dog (${o.attack}/${o.health}).`;this.parent.summonPet(l,0).success&&this.logService.createLog({message:d,type:"ability",player:this.parent,puma:t}),this.used=!0}constructor(e,t,i,n,o){super(e,t,n,o),this.logService=e,this.toyService=t,this.abilityService=i}}},nk={"Rubber Duck":r=>new l0(r.logService,r.toyService,r.petService,r.parent,r.level),Stick:r=>new xP(r.logService,r.toyService,r.parent,r.level,r.petService),"Stuffed Bear":r=>new Uo(r.logService,r.toyService,r.petService,r.parent,r.level),"Pandoras Box":r=>new $P(r.logService,r.toyService,r.parent,r.level,r.equipmentService),"Microwave Oven":r=>new tk(r.logService,r.toyService,r.parent,r.level,r.petService,r.gameService)};let rk=(()=>{class r{logService;abilityService;petService;equipmentService;gameService;constructor(t,i,n,o,a){this.logService=t,this.abilityService=i,this.petService=n,this.equipmentService=o,this.gameService=a,this.logService=nr(this.logService)}createToy(t,i,n,o,a,l,d){const b=nk[t];return b?b({logService:this.logService,abilityService:this.abilityService,toyService:o,parent:i,level:n,petService:this.petService??a,equipmentService:this.equipmentService??l,gameService:this.gameService??d}):C0[t]?new(0,C0[t])(this.logService,o,this.abilityService,i,n):ik[t]?new(0,ik[t])(this.logService,o,i,n):null}static \u0275fac=function(i){return new(i||r)(A.KVO(Yn),A.KVO(Da),A.KVO(Xn),A.KVO(Pi),A.KVO(Zi))};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Ar=(()=>{class r{logService;abilityService;gameService;equipmentService;petService;toyFactory;toyEventService;toys=new Map;toysByType=new Map;toyNameIds=new Map;localStartOfBattleEvents=[];constructor(t,i,n,o,a,l,d){this.logService=t,this.abilityService=i,this.gameService=n,this.equipmentService=o,this.petService=a,this.toyFactory=l,this.toyEventService=d,this.logService=nr(this.logService),this.setToys()}setToys(){this.toys.clear(),this.toyNameIds.clear(),this.toysByType.clear();const t=this.getToyEntriesFromJson();for(const i of t){const n=Number(i.Tier);if(!Number.isFinite(n)||n<1)continue;this.toys.has(n)||this.toys.set(n,[]);const o=this.toys.get(n);o&&o.push(i.Name);const a=Number.isFinite(Number(i.ToyType))?Number(i.ToyType):0;this.toysByType.has(a)||this.toysByType.set(a,new Map);const l=this.toysByType.get(a);l&&!l.has(n)&&l.set(n,[]);const d=l?.get(n);d&&d.push(i.Name),i.Name&&i.NameId&&this.toyNameIds.set(i.Name,i.NameId)}for(const[i,n]of this.toys)this.toys.set(i,[...new Set(n)]);for(const[i,n]of this.toysByType)for(const[o,a]of n)n.set(o,[...new Set(a)])}getToyNameId(t){return t?this.toyNameIds.get(t)??null:null}getToysByType(t){const i=this.toysByType.get(t);return i?new Map(Array.from(i.entries()).map(([n,o])=>[n,[...o]])):new Map}isToyRandom(t){return!0===this.toyDataMap.get(t)?.Random}toyDataMap=new Map;getToyEntriesFromJson(){const t=Lo??eo??[];return t.forEach(i=>{i.Name&&this.toyDataMap.set(i.Name,i)}),t.filter(i=>!!i?.Name)}createToy(t,i,n=1){return this.toyFactory.createToy(t,i,n,this,this.petService,this.equipmentService,this.gameService)}snipePet(t,i,n,o,a=!1,l=!1){let d=this.calculateDamage(t,n.getManticoreMult(),i),p=d.defenseEquipment,b=d.damage;this.dealDamage(t,b,n);let T=`${o} sniped ${t.name} for ${b}.`;if(null!=p){t.useDefenseEquipment(!0);let Z=Math.abs(p.power??0),se="-";if((p.power??0)<0&&(se="+"),"Strawberry"===p.name){let ve=t.getSparrowLevel();ve>0&&(Z=5*ve,T+=` (Strawberry -${Z} (Sparrow))`)}else T+=` (${p.name} ${se}${Z})`;T+=p.multiplierMessage??""}"Icky"==t.equipment?.name&&(T+="x2 (Icky)",t.equipment.multiplier>1&&(T+=t.equipment.multiplierMessage));let F=n.getManticoreMult(),ee=["Weak","Cold","Icky","Spooked"].includes(t.equipment?.name);if(F.length>0&&ee)for(let Z of F)T+=` x${Z+1} (Manticore)`;return d.nurikabe>0&&(T+=` -${d.nurikabe} (Nurikabe)`),d.fairyBallReduction>0&&(T+=` -${d.fairyBallReduction} (Fairy Ball)`),d.fanMusselReduction>0&&(T+=` -${d.fanMusselReduction} (Fan Mussel)`),d.ghostKittenReduction>0&&(T+=` -${d.ghostKittenReduction} (Ghost Kitten)`),l&&(T+=" (Puma)"),this.logService.createLog({message:T,type:"attack",randomEvent:a,player:n}),b}calculateDamage(t,i,n){let o=t.equipment?.multiplier??1;const a=["Cold","Weak","Spooked"],l="Guava"===t.equipment?.name;let d="defense"==t.equipment?.equipmentClass||"shield"==t.equipment?.equipmentClass||"ailment-defense"==t.equipment?.equipmentClass||"shield-snipe"==t.equipment?.equipmentClass?t.equipment:null;null==d&&l&&(d=t.equipment),null!=d&&("Maple Syrup"==d.name?d=null:(o=Q_(o,d.name,i,a),d.power=(d.originalPower??d.power??0)*o));let p=d?.power?d.power:0,b=t.getSparrowLevel();"Strawberry"===t.equipment?.name&&b>0&&(p+=5*b),n=fu(n??0,t.equipment,i);let F,T="shield"==d?.equipmentClass||"shield-snipe"==d?.equipmentClass?0:1;void 0!==d?.minimumDamage&&(T=d.minimumDamage);const U=n??0;F=U<=T&&p>0?Math.max(U,0):Math.max(T,U-p);const ee=yf(t,F,{includeGhostKitten:!0,fairyMinimumOne:!1,fairyRequiresPositiveDamage:!0,nurikabeConsumesOnZeroHit:!0,fanMusselConsumesOnZeroHit:!0});return F=ee.damage,{defenseEquipment:d,damage:F,nurikabe:ee.nurikabe,fairyBallReduction:ee.fairyBallReduction,fanMusselReduction:ee.fanMusselReduction,ghostKittenReduction:ee.ghostKittenReduction}}dealDamage(t,i,n){t.health-=i,i>0&&this.abilityService.triggerHurtEvents(t)}setStartOfBattleEvent(t){this.toyEventService?this.toyEventService.setStartOfBattleEvent(t):(t.tieBreaker=Zt(),this.localStartOfBattleEvents.push(t))}executeStartOfBattleEvents(){if(this.toyEventService)return void this.toyEventService.executeStartOfBattleEvents();this.localStartOfBattleEvents=Io(this.localStartOfBattleEvents),this.localStartOfBattleEvents.sort((i,n)=>i.priority!==n.priority?n.priority-i.priority:(n.tieBreaker??0)-(i.tieBreaker??0));const t=new Map;for(const i of this.localStartOfBattleEvents)t.set(i.priority,(t.get(i.priority)??0)+1);for(const i of this.localStartOfBattleEvents){const n=(t.get(i.priority)??0)>1;this.logLocalStartOfBattleToyEvent(i,n,n?"tie-broken":"deterministic"),i.callback(this.gameService.gameApi)}this.localStartOfBattleEvents=[]}logLocalStartOfBattleToyEvent(t,i,n){const o=t.player?.toy?.name;o&&this.logService.createLog({message:`${t.player?.isOpponent?"Opponent's":"Player's"} ${o} activated at start of battle${t.triggerPet?.name?` (${t.triggerPet.name})`:""}`,type:"ability",player:t.player,randomEvent:i,randomEventReason:n})}static \u0275fac=function(i){return new(i||r)(A.KVO(Yn),A.KVO(Da),A.KVO(Zi),A.KVO(Pi),A.KVO(Xn),A.KVO(rk),A.KVO(Sp))};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class hb extends C{logService;abilityService;constructor(e,t,i){super({name:"FerretAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Nt.getInjector().get(Ar),n=Math.max(1,Math.min(3,this.level)),o=i.toys.get(n)??[];if(0===o.length)return void this.triggerTigerExecution(e);const a=o[we(0,o.length-1)],l=i.createToy(a,t.parent,n);l?(t.parent.toy=l,t.parent.toy.used=!1,t.parent.toy.triggers=0,Xi(this.logService,t,`${t.name} chose a level ${n} ${a} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new hb(e,this.logService,this.abilityService)}}class Uu extends C{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"BatAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getPetsWithEquipmentWithSillyFallback("Weak",a),d=a.parent.opponent.getRandomPet(l,null,!0,null,a),p=d.pet;null!=p&&(p.givePetEquipment(new Br),this.logService.createLog({message:`${a.name} made ${p.name} weak.`,type:"ability",player:a.parent,randomEvent:d.random,tiger:n})),this.triggerTigerExecution(e)}copy(e){return new Uu(e,this.logService)}}class jp extends C{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"BilbyAbility",owner:e,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>Ds(this.owner,i.triggerPet,{excludeOwner:!0}),abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=qt(a,i),d=l.pet;null!=d&&(this.logService.createLog({message:`${a.name} gave ${d.name} Garlic.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),d.givePetEquipment(new kp),this.triggerTigerExecution(e))}copy(e){return new jp(e,this.logService)}}class sk extends C{logService;abilityService;constructor(e,t,i){super({name:"RobinAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=new Sy(this.logService,this.abilityService,a.parent,null,null,this.minExpForLevel,null);this.logService.createLog({message:`${a.name} summoned a Nest (level ${this.level}).`,type:"ability",player:a.parent,randomEvent:!1,tiger:n});let d=a.parent.summonPetInFront(a,l);d.success&&(this.logService.createLog({message:`${a.name} gave Nest an Egg.`,type:"ability",player:a.parent,randomEvent:d.randomEvent,tiger:n}),l.givePetEquipment(new WS(this.logService))),this.triggerTigerExecution(e)}copy(e){return new sk(e,this.logService,this.abilityService)}}class pb extends C{logService;abilityService;constructor(e,t,i){super({name:"DromedaryAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} gave the two left-most shop pets +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new pb(e,this.logService,this.abilityService)}}class gb extends C{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,i){super({name:"ShrimpAbility",owner:e,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const i=e.triggerPet;if(!i||!i.isSellPet())return void this.triggerTigerExecution(e);const n=t.parent.getRandomPet([t]),o=n.pet;if(!o)return void this.triggerTigerExecution(e);const a=this.level;o.increaseHealth(a),this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave ${o.name} +${a} health after ${i.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new gb(e,this.logService,this.abilityService)}}class mb extends C{logService;abilityService;constructor(e,t,i){super({name:"BelugaSturgeonAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;for(let l=0;l<this.level;l++){let d=new fS(this.logService,this.abilityService,a.parent,3,2,0,0,null),p=a.parent.summonPet(d,4,!1,a);p.success&&(this.logService.createLog({message:`${a.name} summoned a 2/3 Dolphin in the back.`,type:"ability",player:a.parent,randomEvent:p.randomEvent,tiger:n,pteranodon:o}),d.givePetEquipment(new zl),this.logService.createLog({message:`${a.name} gave ${d.name} Rice.`,type:"ability",player:a.parent,randomEvent:!1,tiger:n,pteranodon:o}))}this.triggerTigerExecution(e)}copy(e){return new mb(e,this.logService,this.abilityService)}}class Vu extends C{logService;constructor(e,t){super({name:"TabbyCatAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getRandomPets(2,[a],!0,!1,a);if(0!=l.pets.length){for(let d of l.pets)null!=d&&(this.logService.createLog({message:`${a.name} increased ${d.name}'s health by ${this.level}.`,type:"ability",player:a.parent,randomEvent:l.random,tiger:n}),d.increaseHealth(this.level));this.triggerTigerExecution(e)}}copy(e){return new Vu(e,this.logService)}}class ac extends C{logService;abilityService;constructor(e,t,i){super({name:"MandrillAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const a=this.owner;let l=2*this.level;a.parent.toy?.tier<=l&&(a.parent.breakToy(),this.abilityService.triggerToyBrokeEvents(a.parent)),this.triggerTigerExecution(e)}copy(e){return new ac(e,this.logService,this.abilityService)}}class qp extends D{logService;abilityService;name="Lemur";tier=2;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new Up(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Up extends C{logService;abilityService;constructor(e,t,i){super({name:"LemurAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Nt.getInjector().get(Ar),n=Math.max(1,Math.min(3,this.level)),o=i.toys.get(n)??[];if(0===o.length)return void this.triggerTigerExecution(e);const a=o[we(0,o.length-1)],l=i.createToy(a,t.parent,n);l?(t.parent.toy=l,t.parent.toy.used=!1,t.parent.toy.triggers=0,Xi(this.logService,t,`${t.name} chose a level ${n} ${a} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Up(e,this.logService,this.abilityService)}}class Vp extends C{logService;abilityService;constructor(e,t,i){super({name:"GoldfishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;t.increaseSellValue(this.level),this.logService.createLog({message:`${t.name} increased its sell value by ${this.level}.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new Vp(e,this.logService,this.abilityService)}}class Ku extends C{logService;constructor(e,t){super({name:"ToucanAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.timesAttacked<1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l;l=null==a.equipment||a.equipment.tier>5?"Egg":a.equipment.name;let d=a.parent.getPetsWithEquipment(l),b=a.parent.nearestPetsBehind(this.level,a,d).pets;if(0!=b.length){for(let T of b){const F=Nt.getInjector().get(Pi).getInstanceOfAllEquipment().get(l);F&&(this.logService.createLog({message:`${a.name} gave ${T.name} ${F.name}`,type:"ability",player:a.parent,randomEvent:!1,tiger:n,pteranodon:o}),T.givePetEquipment(F))}this.triggerTigerExecution(e)}}copy(e){return new Ku(e,this.logService)}}class ro extends C{logService;constructor(e,t){super({name:"HoopoeBirdAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.opponent,d=l.getFurthestUpPet(a),p=d.pet,b=l.getLastPet(void 0,a),T=b.pet,F=2*this.level;p&&a.snipePet(p,F,d.random,n,o),T&&a.snipePet(T,F,b.random,n,o),this.triggerTigerExecution(e)}copy(e){return new ro(e,this.logService)}}class zu extends C{logService;abilityService;constructor(e,t,i){super({name:"TropicalFishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Fo(t);if(0!==i.length){for(const n of i)n.increaseHealth(this.level),Xi(this.logService,t,`${t.name} gave ${n.name} +${this.level} health.`,e.tiger,e.pteranodon);this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new zu(e,this.logService,this.abilityService)}}class Yu extends C{logService;abilityService;pendingBuffs=new Map;constructor(e,t,i){super({name:"HatchingChickAbility",owner:e,triggers:["EndTurn","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger){for(const[n,o]of this.pendingBuffs)n&&(n.increaseAttack(-o.attack),n.increaseHealth(-o.health));return this.pendingBuffs.clear(),void this.triggerTigerExecution(e)}const i=t.petAhead;if(i)return 1===this.level?(i.increaseAttack(3),i.increaseHealth(3),this.pendingBuffs.set(i,{attack:3,health:3}),this.logService.createLog({message:`${t.name} gave ${i.name} +3/+3 until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e)):2===this.level?(i.increaseAttack(2),i.increaseHealth(2),this.logService.createLog({message:`${t.name} gave ${i.name} +2/+2.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e)):(i.increaseExp(1),this.logService.createLog({message:`${t.name} gave ${i.name} +1 experience.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e));this.triggerTigerExecution(e)}copy(e){return new Yu(e,this.logService,this.abilityService)}}class fb extends C{logService;abilityService;constructor(e,t,i){super({name:"OwlAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,n=new If(this.logService,this.abilityService,t.parent,null,null,null,this.minExpForLevel),o=t.parent.summonPet(n,t.savedPosition,!1,t);o.success&&this.logService.createLog({message:`${t.name} summoned a level ${this.level} Mouse.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:o.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new fb(e,this.logService,this.abilityService)}}class yb extends D{logService;abilityService;name="Mole";tier=3;pack="Puppy";attack=2;health=3;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}initAbilities(){this.addAbility(new bb(this,this.logService,this.abilityService)),super.initAbilities()}}class bb extends C{logService;abilityService;constructor(e,t,i){super({name:"MoleAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=6*this.level,d=[];for(let F of a.parent.petArray){if(F==a)continue;const U=F.equipment?.equipmentClass;U&&"ailment-attack"!==U&&"ailment-defense"!==U&&"ailment-other"!==U&&d.push(F)}const p=a.position;if(d.sort((F,U)=>{const ee=Math.abs(F.position-p),Z=Math.abs(U.position-p);return ee!==Z?ee-Z:F.position-U.position}),d=d.slice(0,2),d.length<2)return;for(let F of d)this.logService.createLog({message:`${a.name} removed ${F.name}'s perk.`,type:"ability",player:a.parent,pteranodon:o}),F.removePerk(!0);let b=new yb(this.logService,this.abilityService,a.parent,l,l),T=a.parent.summonPet(b,a.savedPosition,!1,a);T.success&&this.logService.createLog({message:`${a.name} summoned a ${l}/${l} Mole.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:T.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new bb(e,this.logService,this.abilityService)}}class vb extends C{logService;constructor(e,t){super({name:"PangolinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null!=this.owner.parent.toy,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.nearestPetsBehind(1,a);if(0===l.pets.length)return;let d=l.pets[0],p=4*this.level;d.increaseHealth(p),this.logService.createLog({message:`${a.name} gave ${d.name} ${p} health.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new vb(e,this.logService)}}class _b extends C{logService;abilityService;constructor(e,t,i){super({name:"PuppyAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Nt.getInjector().get(Ar),n=Math.max(1,Math.min(3,this.level)),o=i.toys.get(n)??[];if(0===o.length)return void this.triggerTigerExecution(e);const a=o[we(0,o.length-1)],l=i.createToy(a,t.parent,n);l?(t.parent.toy=l,t.parent.toy.used=!1,t.parent.toy.triggers=0,Xi(this.logService,t,`${t.name} chose a level ${n} ${a} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new _b(e,this.logService,this.abilityService)}}class Sb extends C{logService;abilityService;usesThisTurn=0;constructor(e,t,i){super({name:"PurpleFrogAbility",owner:e,triggers:["FriendSummoned","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.level)return void this.triggerTigerExecution(e);const i=ur(t,e.triggerPet);i.pet?(i.pet.executeAbilities("StartTurn",e.gameApi,i.pet,void 0,void 0,{trigger:"StartTurn"}),this.usesThisTurn++,Xi(this.logService,t,`${t.name} activated ${i.pet.name}'s start of turn ability.`,e.tiger,e.pteranodon,{randomEvent:i.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Sb(e,this.logService,this.abilityService)}}class Ma extends C{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"HareAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.opponent.petArray,d=[];for(let Z of l)Z.equipment&&Nt.getInjector().get(Pi).isUsefulPerk(Z.equipment.name)&&d.push(Z);if(0==d.length)return;const p=$t({key:"pet.hare-copy-equipment",label:xi(a,"Hare copied equipment source"),options:d.map(Z=>({id:`${Z.savedPosition+1}:${Z.name}`,label:`O${Z.savedPosition+1} ${Z.name}`}))},()=>we(0,d.length-1));let b=d[p.index],T=b.equipment;if(!T)return;const F=Nt.getInjector().get(Pi).getInstanceOfAllEquipment().get(T.name);if(!F)return;let ee=a.parent.getThis(a).pet;null!=ee&&(a.givePetEquipment(F),this.logService.createLog({message:`${a.name} copied ${T.name} to ${ee.name} from ${b.name}.`,type:"ability",player:a.parent,tiger:n,randomEvent:p.randomEvent}),this.triggerTigerExecution(e))}copy(e){return new Ma(e,this.logService)}}class Pb extends C{logService;constructor(e,t){super({name:"MicrobeAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.getPetsWithinXSpaces(a,3*this.level),d=l.pets.filter(p=>"Weak"!==p.equipment?.name);if(0!=d.length){for(let p of d)p.alive&&(this.logService.createLog({message:`${a.name} gave ${p.name} Weak.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:l.random}),p.givePetEquipment(new Br));this.triggerTigerExecution(e)}}copy(e){return new Pb(e,this.logService)}}class kb extends C{logService;abilityService;constructor(e,t,i){super({name:"LobsterAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=ur(t,e.triggerPet);if(!i.pet)return;const n=this.level,o=2*this.level;i.pet.increaseAttack(n),i.pet.increaseHealth(o),Xi(this.logService,t,`${t.name} gave ${i.pet.name} ${n} attack and ${o} health.`,e.tiger,e.pteranodon,{randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new kb(e,this.logService,this.abilityService)}}class Wp extends C{logService;abilityService;pendingAttack=0;pendingHealth=0;constructor(e,t,i){super({name:"BuffaloAbility",owner:e,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return(this.pendingAttack||this.pendingHealth)&&(t.increaseAttack(-this.pendingAttack),t.increaseHealth(-this.pendingHealth)),this.pendingAttack=0,this.pendingHealth=0,void this.triggerTigerExecution(e);const i=e.triggerPet;if(!i||!i.isSellPet())return void this.triggerTigerExecution(e);const n=2*this.level;t.increaseAttack(n),t.increaseHealth(n),this.pendingAttack+=n,this.pendingHealth+=n,this.logService.createLog({message:`${t.name} gained +${n}/+${n} until next turn after ${i.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Wp(e,this.logService,this.abilityService)}}class Kp extends C{logService;abilityService;constructor(e,t,i){super({name:"LlamaAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;let i=!1;for(let a=0;a<5;a++)if(null==t.parent.getPetAtPosition(a)){i=!0;break}if(!i)return void this.triggerTigerExecution(e);const n=this.level,o=2*this.level;t.increaseAttack(n),t.increaseHealth(o),this.logService.createLog({message:`${t.name} gained +${n}/+${o} because there was an empty space.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Kp(e,this.logService,this.abilityService)}}class wb extends D{logService;abilityService;name="Butterfly";tier=1;pack="Puppy";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new Tb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Tb extends C{logService;constructor(e,t){super({name:"ButterflyAbility",owner:e,triggers:["ThisTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;if(!a.alive)return;let d=a.parent.opponent.getStrongestPet(a);d.pet&&(a.health=d.pet.health,a.attack=d.pet.attack,this.logService.createLog({message:`${a.name} copied stats from the strongest enemy (${a.attack}/${a.health}).`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new Tb(e,this.logService)}}class Eb extends C{logService;abilityService;constructor(e,t,i){super({name:"CaterpillarAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>this.owner.level>=3,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getThis(a),d=l.pet;if(null==d)return;let p=new wb(this.logService,this.abilityService,d.parent,d.health,d.attack,d.mana,d.exp,d.equipment);a.parent.transformPet(d,p),this.logService.createLog({message:`${a.name} transformed into a Butterfly.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Eb(e,this.logService,this.abilityService)}}class Cb extends C{logService;constructor(e,t){super({name:"DobermanAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=8*this.level,d=a.parent.getThis(a),p=d.pet;if(null==p)return;p.increaseAttack(l),this.logService.createLog({message:`${a.name} gave ${p.name} ${l} attack.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random});let b=!0;for(let U of a.parent.petArray)if(U!=a&&U.tier<=a.tier){b=!1;break}if(!b)return void this.triggerTigerExecution(e);let T=a.parent.getThis(a),F=T.pet;null!=F&&(F.givePetEquipment(new dr),this.logService.createLog({message:`${a.name} gave ${F.name} Coconut.`,type:"ability",player:a.parent,tiger:n,randomEvent:T.random}),this.triggerTigerExecution(e))}copy(e){return new Cb(e,this.logService)}}class xb extends C{logService;abilityService;constructor(e,t,i){super({name:"TahrAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.getPetsWithEquipment("Mild Chili"),d=a.parent.nearestPetsBehind(this.level,a,l);if(0!==d.pets.length){for(let p of d.pets)this.logService.createLog({message:`${a.name} gave ${p.name} Mild Chili.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:d.random}),p.givePetEquipment(new wy(this.logService,this.abilityService));this.triggerTigerExecution(e)}}copy(e){return new xb(e,this.logService,this.abilityService)}}class Db extends C{logService;abilityService;constructor(e,t,i){super({name:"WhaleSharkAbility",owner:e,triggers:["ThisGainedPerk","ThisGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const a=this.owner;a.equipment&&(this.logService.createLog({message:`${a.name} removed ${a.equipment.name}`,type:"ability",player:a.parent}),a.removePerk());let l=a.parent.getThis(a),d=l.pet;if(null==d)return;let p=3*this.level;d.increaseAttack(p),d.increaseHealth(p),this.logService.createLog({message:`${a.name} gave ${d.name} ${p} attack and ${p} health.`,type:"ability",player:a.parent,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Db(e,this.logService,this.abilityService)}}class Ib extends C{logService;abilityService;equipmentService;constructor(e,t,i,n){super({name:"ChameleonAbility",owner:e,triggers:["SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:o=>null!=this.owner.parent.toy,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=i,this.equipmentService=n}executeAbility(e){const a=this.owner;a.removeAbility(this.name,"Pet"),this.addToyAbility(a.parent.toy.name)}addToyAbility(e){let t=this.owner;const n={"Tennis Ball":()=>new Lp(t,this.logService),Balloon:()=>new qy(t,this.logService),"Plastic Saw":()=>new Op(t,this.logService),Radio:()=>new Wy(t,this.logService),"Oven Mitts":()=>new zy(t,this.logService),"Toilet Paper":()=>new Bp(t,this.logService),"Foam Sword":()=>new Yy(t,this.logService),"Toy Gun":()=>new Xy(t,this.logService),"Melon Helmet":()=>new LP(t,this.logService),"Stinky Sock":()=>new Qy(t,this.logService),Flashlight:()=>new Jy(t,this.logService),"Peanut Jar":()=>new tb(t,this.logService),"Air Palm Tree":()=>new Gp(t,this.logService),Television:()=>new Zy(t,this.logService),"Crystal Ball":()=>new nb(t,this.logService),"Evil Book":()=>new qu(t,this.logService,this.abilityService),"Treasure Chest":()=>new ab(t,this.logService),"Witch Broom":()=>new ib(t,this.logService),"Treasure Map":()=>new rb(t,this.logService),"Pandoras Box":()=>new ju(t,this.logService,this.abilityService,this.equipmentService),Stick:()=>new t0(t,this.logService),"Cash Register":()=>new Gu(t,this.logService),"Microwave Oven":()=>new bL(t,this.logService,this.equipmentService),Camera:()=>new p0(t,this.logService)}[e];if(n)try{const o=n();o.abilityLevel=Math.min(t.parent.toy.level,this.level),o.alwaysIgnorePetLevel=!0,t.addAbility(o),this.logService.createLog({message:`${this.name} gained ${e} ability!`,type:"ability",player:t.parent})}catch(o){console.warn(`Failed to add ${e} ability to ${this.name}:`,o)}else this.logService.createLog({message:"Custom toy ability is currently not supported for Chameleon ability",type:"ability",player:t.parent})}copy(e){return new Ib(e,this.logService,this.abilityService,this.equipmentService)}}class Mb extends C{logService;abilityService;constructor(e,t,i){super({name:"GharialAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Nt.getInjector().get(Ar),n=Math.max(1,Math.min(3,this.level)),o=i.toys.get(n)??[];if(0===o.length)return void this.triggerTigerExecution(e);const a=o[we(0,o.length-1)],l=i.createToy(a,t.parent,n);l?(t.parent.toy=l,t.parent.toy.used=!1,t.parent.toy.triggers=0,Xi(this.logService,t,`${t.name} chose a level ${n} ${a} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Mb(e,this.logService,this.abilityService)}}class Rb extends C{logService;constructor(e,t){super({name:"StonefishAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:o}=e,a=this.owner;let d=a.parent.getSpecificPet(a,i).pet;null==d||!d.alive||(a.snipePet(d,a.attack*this.level,!1,n,o),this.triggerTigerExecution(e))}copy(e){return new Rb(e,this.logService)}}class Lb extends C{logService;abilityService;constructor(e,t,i){super({name:"ChickenAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} gave future shop pets +${i} attack and +${i} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new Lb(e,this.logService,this.abilityService)}}class Nb extends D{logService;abilityService;petService;name="Eagle";tier=5;pack="Puppy";attack=6;health=5;constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}initAbilities(){this.addAbility(new Fb(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class Fb extends C{logService;abilityService;petService;constructor(e,t,i,n){super({name:"EagleAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:o}=e,a=this.owner,l=Number.isFinite(t.previousShopTier)?t.previousShopTier:1,d=Math.min(6,Math.max(1,l+1)),p=ve=>(ve??[]).filter(Te=>Te&&a.name&&Te.toLowerCase()!==a.name.toLowerCase()),b=a.parent===t.player?t.playerPetPool:t.opponentPetPool;let T=p(b?.get(d));if(T?.length||(T=p(this.petService.allPets.get(d))),T?.length||(T=p(this.petService.allPets.get(1))),!T.length)return void this.triggerTigerExecution(e);const F=$t({key:"pet.eagle-faint-summon",label:xi(a,`Eagle tier ${d} summon`),options:T.map(ve=>({id:ve,label:ve}))},()=>we(0,T.length-1));let ee=5*this.level,Z=this.petService.createPet({name:T[F.index],attack:ee,health:ee,exp:a.minExpForLevel,equipment:null,mana:0},a.parent);a.parent.summonPet(Z,a.savedPosition,!1,a).success&&this.logService.createLog({message:`${a.name} spawned ${Z.name} Level ${Z.level}`,type:"ability",player:a.parent,tiger:n,randomEvent:F.randomEvent,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new Fb(e,this.logService,this.abilityService,this.petService)}}class gk extends D{logService;abilityService;name="Praying Mantis";tier=4;pack="Star";attack=7;health=2;initAbilities(){this.addAbility(new Ob(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Ob extends C{logService;abilityService;constructor(e,t,i){super({name:"PrayingMantisAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,n=Fo(t);for(const a of n)t.dealDamage(a,50);const o=2*this.level;t.increaseAttack(o),t.increaseHealth(o),this.logService.createLog({message:`${t.name} dealt 50 damage to adjacent friends and gained +${o}/+${o}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.length>1}),this.triggerTigerExecution(e)}copy(e){return new Ob(e,this.logService,this.abilityService)}}class Xu extends C{logService;abilityService;constructor(e,t,i){super({name:"OrchidMantisAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=Math.min(Math.floor(a.attack*(.4*this.level)),50),d=Math.min(Math.floor(a.health*(.4*this.level)),50),p=new gk(this.logService,this.abilityService,a.parent,d,l,0,this.minExpForLevel,null),b=a.parent.summonPetInFront(a,p);b.success&&this.logService.createLog({message:`${a.name} spawned Mantis ${p.attack}/${p.health}.`,type:"ability",player:a.parent,tiger:n,randomEvent:b.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Xu(e,this.logService,this.abilityService)}}class Bb extends C{logService;abilityService;constructor(e,t,i){super({name:"PantherAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Bb(e,this.logService,this.abilityService)}}class $b extends C{logService;constructor(e,t){super({name:"AxolotlAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,precondition:i=>{const{triggerPet:n}=i,l=qt(this.owner,n).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=qt(a,i),d=l.pet;if(null==d)return;let p=this.level;d.increaseAttack(p),d.increaseHealth(p),this.logService.createLog({message:`${a.name} gave ${d.name} ${p} attack and ${p} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new $b(e,this.logService)}}class fk extends C{logService;constructor(e,t){super({name:"SnappingTurtleAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.getPetsWithEquipment("Skewer"),d=a.parent.nearestPetsBehind(a.level,a,l);if(0!==d.pets.length){for(let p of d.pets)this.logService.createLog({message:`${a.name} gave ${p.name} Skewer.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:d.random}),p.givePetEquipment(new Py(this.logService));this.triggerTigerExecution(e)}}copy(e){return new fk(e,this.logService)}}class Qu extends C{logService;abilityService;constructor(e,t,i){super({name:"MosasaurusAbility",owner:e,triggers:["FriendlyToyBroke"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Fo(t);if(0===i.length)return void this.triggerTigerExecution(e);const n=2*this.level,o=3*this.level;for(const a of i)a.increaseAttack(n),a.increaseHealth(o),this.logService.createLog({message:`${t.name} gave ${a.name} +${n}/+${o}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon});this.triggerTigerExecution(e)}copy(e){return new Qu(e,this.logService,this.abilityService)}}class Vo extends C{logService;abilityService;constructor(e,t,i){super({name:"StingRayAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Nt.getInjector().get(Ar),n=Math.max(1,Math.min(3,this.level)),o=i.toys.get(n)??[];if(0===o.length)return void this.triggerTigerExecution(e);const a=o[we(0,o.length-1)],l=i.createToy(a,t.parent,n);l?(t.parent.toy=l,t.parent.toy.used=!1,t.parent.toy.triggers=0,Xi(this.logService,t,`${t.name} chose a level ${n} ${a} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Vo(e,this.logService,this.abilityService)}}class Wo extends C{logService;constructor(e,t){super({name:"MantisShrimpAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.opponent;for(let d=0;d<this.level;d++){let p=l.getFurthestUpPet(a),b=p.pet;if(null==b)return;a.snipePet(b,10,p.random,n)}this.triggerTigerExecution(e)}copy(e){return new Wo(e,this.logService)}}class oc extends C{logService;constructor(e,t){super({name:"LionfishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.opponent,d=1+Math.floor(a.attack/10);for(let p=0;p<d;p++){let b=l.getRandomPet([],!1,!0,!1,a);if(null==b.pet)return;a.snipePet(b.pet,3*this.level,b.random,n,o)}this.triggerTigerExecution(e)}copy(e){return new oc(e,this.logService)}}class sc extends C{logService;abilityService;constructor(e,t,i){super({name:"TyrannosaurusAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(l=>l.alive&&l!==t&&l.tier>=5),n=i.length;if(0===i.length)return void this.triggerTigerExecution(e);const o=[];for(;o.length<2&&i.length>0;){const l=we(0,i.length-1);o.push(i[l]),i.splice(l,1)}const a=2*this.level;for(const l of o)l.increaseAttack(a),l.increaseHealth(a);this.logService.createLog({message:`${t.name} gave ${o.map(l=>l.name).join(", ")} +${a}/+${a}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n>o.length}),this.triggerTigerExecution(e)}copy(e){return new sc(e,this.logService,this.abilityService)}}class zp extends C{logService;constructor(e,t){super({name:"OctopusAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner,l=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,[a],null,!0,a);let d=l.pets;for(let b of d){if(null==b)return;a.snipePet(b,6,l.random,n)}this.triggerTigerExecution(e)}copy(e){return new zp(e,this.logService)}}class Hb extends C{logService;abilityService;constructor(e,t,i){super({name:"AnglerfishAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} stocked a free pet from the last opponent ${1===i?"once":2===i?"twice":"thrice"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Hb(e,this.logService,this.abilityService)}}class lc extends C{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,i){super({name:"SauropodAbility",owner:e,triggers:["FriendlyGainsPerk","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const i=this.level;this.usesThisTurn++,this.logService.createLog({message:`${t.name} will give +${i} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new lc(e,this.logService,this.abilityService)}}class Zu extends C{logService;constructor(e,t){super({name:"ElephantSealAbility",owner:e,triggers:["ThisGainedPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=4*this.level,d=a.parent.getRandomPets(3,[a],!0,!1,a);for(let p of d.pets)null!=p&&(p.increaseAttack(l),p.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${p.name} ${l} attack and ${l} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}));this.triggerTigerExecution(e)}copy(e){return new Zu(e,this.logService)}}class cc extends C{logService;abilityService;constructor(e,t,i){super({name:"MongooseAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Nt.getInjector().get(Ar),n=Math.max(1,Math.min(3,this.level)),o=i.toys.get(n)??[];if(0===o.length)return void this.triggerTigerExecution(e);const a=o[we(0,o.length-1)],l=i.createToy(a,t.parent,n);l?(t.parent.toy=l,t.parent.toy.used=!1,t.parent.toy.triggers=0,Xi(this.logService,t,`${t.name} chose a level ${n} ${a} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new cc(e,this.logService,this.abilityService)}}const X0={Moth:class bp extends D{logService;abilityService;name="Moth";tier=1;pack="Puppy";health=3;attack=1;initAbilities(){this.addAbility(new vp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Bluebird:class Iu extends D{logService;abilityService;name="Bluebird";tier=1;pack="Puppy";attack=2;health=1;initAbilities(){this.addAbility(new dy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Chinchilla:class Ho extends D{logService;abilityService;name="Chinchilla";tier=1;pack="Puppy";attack=2;health=3;initAbilities(){this.addAbility(new Bs(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Beetle:class Ul extends D{logService;abilityService;name="Beetle";tier=1;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new Vl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Ladybug:class Wl extends D{logService;abilityService;name="Ladybug";tier=1;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new py(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Chipmunk:class BS extends D{logService;abilityService;name="Chipmunk";tier=1;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new gy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Gecko:class aE extends D{logService;abilityService;name="Gecko";tier=1;pack="Puppy";attack=3;health=1;toyPet=!0;initAbilities(){this.addAbility(new my(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Ferret:class x0 extends D{logService;abilityService;name="Ferret";tier=1;pack="Puppy";attack=1;health=3;initAbilities(){this.addAbility(new hb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Robin:class ok extends D{logService;abilityService;name="Robin";tier=2;pack="Puppy";attack=2;health=3;initAbilities(){this.addAbility(new sk(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Bat:class D0 extends D{logService;abilityService;name="Bat";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new Uu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Bilby:class ak extends D{logService;abilityService;name="Bilby";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new jp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Dromedary:class lk extends D{logService;abilityService;name="Dromedary";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new pb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Shrimp:class I0 extends D{logService;abilityService;name="Shrimp";tier=2;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new gb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Toucan:class Wu extends D{logService;abilityService;name="Toucan";tier=3;pack="Puppy";attack=4;health=3;initAbilities(){this.addAbility(new Ku(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Beluga Sturgeon":class M0 extends D{logService;abilityService;name="Beluga Sturgeon";tier=2;pack="Puppy";attack=2;health=3;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}initAbilities(){this.addAbility(new mb(this,this.logService,this.abilityService)),super.initAbilities()}},"Tabby Cat":class ck extends D{logService;abilityService;name="Tabby Cat";tier=2;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new Vu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Mandrill:class vL extends D{logService;abilityService;name="Mandrill";tier=2;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new ac(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Lemur:qp,"Gold Fish":class uk extends D{logService;abilityService;name="Goldfish";tier=2;pack="Puppy";attack=1;health=1;initAbilities(){this.addAbility(new Vp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Hoopoe Bird":class dk extends D{logService;abilityService;name="Hoopoe Bird";tier=3;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new ro(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Tropical Fish":class Us extends D{logService;abilityService;name="Tropical Fish";tier=3;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new zu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Hatching Chick":class hk extends D{logService;abilityService;name="Hatching Chick";tier=3;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new Yu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Owl:class R0 extends D{logService;abilityService;name="Owl";tier=3;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new fb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Mole:yb,Pangolin:class L0 extends D{logService;abilityService;name="Pangolin";tier=3;pack="Puppy";attack=2;health=5;initAbilities(){this.addAbility(new vb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Puppy:class Ab extends D{logService;abilityService;name="Puppy";tier=4;pack="Puppy";attack=3;health=6;initAbilities(){this.addAbility(new _b(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Purple Frog":class en extends D{logService;abilityService;name="Purple Frog";tier=3;pack="Puppy";attack=4;health=2;initAbilities(){this.addAbility(new Sb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Hare:class pk extends D{logService;abilityService;name="Hare";tier=3;pack="Puppy";health=4;attack=4;initAbilities(){this.addAbility(new Ma(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Microbe:class AL extends D{logService;abilityService;name="Microbe";tier=4;pack="Puppy";attack=4;health=1;initAbilities(){this.addAbility(new Pb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Lobster:class N0 extends D{logService;abilityService;name="Lobster";tier=4;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new kb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Buffalo:class F0 extends D{logService;abilityService;name="Buffalo";tier=4;pack="Puppy";attack=4;health=4;initAbilities(){this.addAbility(new Wp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Llama:class _L extends D{logService;abilityService;name="Llama";tier=4;pack="Puppy";attack=3;health=5;initAbilities(){this.addAbility(new Kp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Caterpillar:class O0 extends D{logService;abilityService;name="Caterpillar";tier=4;pack="Puppy";attack=1;health=1;initAbilities(){this.addAbility(new Eb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Doberman:class B0 extends D{logService;abilityService;name="Doberman";tier=4;pack="Puppy";attack=1;health=4;initAbilities(){this.addAbility(new Cb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Tahr:class $0 extends D{logService;abilityService;name="Tahr";tier=4;pack="Puppy";attack=5;health=3;initAbilities(){this.addAbility(new xb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Whale Shark":class G0 extends D{logService;abilityService;name="Whale Shark";tier=4;pack="Puppy";attack=2;health=6;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}initAbilities(){this.addAbility(new Db(this,this.logService,this.abilityService)),super.initAbilities()}},Chameleon:class H0 extends D{logService;abilityService;name="Chameleon";tier=4;pack="Puppy";attack=3;health=5;toyService;equipmentService;initAbilities(){this.addAbility(new Ib(this,this.logService,this.abilityService,this.equipmentService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b,T){super(e,t,i),this.logService=e,this.abilityService=t,this.toyService=b,this.equipmentService=T,this.initPet(l,n,o,a,d,p)}},Gharial:class j0 extends D{logService;abilityService;name="Gharial";tier=3;pack="Puppy";attack=5;health=2;initAbilities(){this.addAbility(new Mb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Stonefish:class q0 extends D{logService;abilityService;name="Stonefish";tier=5;pack="Puppy";attack=7;health=4;initAbilities(){this.addAbility(new Rb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Goat:class Vs extends D{logService;abilityService;name="Goat";tier=5;pack="Puppy";attack=4;health=6;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Chicken:class U0 extends D{logService;abilityService;name="Chicken";tier=5;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new Lb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Orchid Mantis":class mk extends D{logService;abilityService;name="Orchid Mantis";tier=5;pack="Puppy";attack=8;health=4;initAbilities(){this.addAbility(new Xu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Panther:class V0 extends D{logService;abilityService;name="Panther";tier=5;pack="Puppy";attack=3;health=5;initAbilities(){this.addAbility(new Bb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Axolotl:class W0 extends D{logService;abilityService;name="Axolotl";tier=5;pack="Puppy";attack=2;health=5;initAbilities(){this.addAbility(new $b(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Snapping Turtle":class SL extends D{logService;abilityService;name="Snapping Turtle";tier=5;pack="Puppy";attack=4;health=5;initAbilities(){this.addAbility(new fk(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Mosasaurus:class K0 extends D{logService;abilityService;name="Mosasaurus";tier=5;pack="Puppy";attack=5;health=6;initAbilities(){this.addAbility(new Qu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Sting Ray":class z0 extends D{logService;abilityService;name="Sting Ray";tier=5;pack="Puppy";attack=5;health=7;initAbilities(){this.addAbility(new Vo(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Mantis Shrimp":class Ws extends D{logService;abilityService;name="Mantis Shrimp";tier=6;pack="Puppy";attack=9;health=3;initAbilities(){this.addAbility(new Wo(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Lionfish:class Gb extends D{logService;abilityService;name="Lionfish";tier=6;pack="Puppy";attack=10;health=4;initAbilities(){this.addAbility(new oc(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Tyrannosaurus:class yk extends D{logService;abilityService;name="Tyrannosaurus";tier=6;pack="Puppy";attack=7;health=7;initAbilities(){this.addAbility(new sc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Octopus:class Ks extends D{logService;abilityService;name="Octopus";tier=6;pack="Puppy";attack=8;health=8;initAbilities(){this.addAbility(new zp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Anglerfish:class Y0 extends D{logService;abilityService;name="Anglerfish";tier=6;pack="Puppy";attack=7;health=4;initAbilities(){this.addAbility(new Hb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Sauropod:class bk extends D{logService;abilityService;name="Sauropod";tier=6;pack="Puppy";attack=4;health=12;initAbilities(){this.addAbility(new lc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Elephant Seal":class jb extends D{logService;abilityService;name="Elephant Seal";tier=6;pack="Puppy";attack=4;health=8;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}initAbilities(){this.addAbility(new Zu(this,this.logService)),super.initAbilities()}},Puma:Nh,Mongoose:class Yp extends D{logService;abilityService;name="Mongoose";tier=6;pack="Puppy";attack=7;health=6;initAbilities(){this.addAbility(new cc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Eagle:Nb};class uc extends C{logService;abilityService;constructor(e,t,i){super({name:"PillbugAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} stocked ${i} free Sleeping Pill${1===i?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new uc(e,this.logService,this.abilityService)}}class vk extends D{logService;abilityService;name="Summoned Cockroach";tier=1;pack="Star";attack=1;health=1;hidden=!0;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class qb extends C{logService;abilityService;constructor(e,t,i){super({name:"CockroachAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner,l=this.level,d=new vk(this.logService,this.abilityService,a.parent,1,1,0,0);let p=a.parent.summonPet(d,a.savedPosition,!1,a);if(p.success){this.logService.createLog({message:`${a.name} summoned a 1/1 Cockroach.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:p.randomEvent});let b=a.parent.getSpecificPet(a,d);b.pet.increaseExp(l),this.logService.createLog({message:`${a.name} gave ${b.pet.name} +${l} exp.`,type:"ability",player:a.parent,tiger:n,randomEvent:b.random})}this.triggerTigerExecution(e)}copy(e){return new qb(e,this.logService,this.abilityService)}}class ed extends C{logService;constructor(e,t){super({name:"FrogAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>1===this.owner.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.nearestPetsAhead(1,a),d=a.parent.nearestPetsBehind(1,a);if(0===l.pets.length||0===d.pets.length)return;let p=l.pets[0],b=d.pets[0],T=p.attack,F=p.health,ee=b.health;p.attack=b.attack,p.health=ee,b.attack=T,b.health=F,this.logService.createLog({message:`${a.name} swapped the attack and health of ${p.name} and ${b.name}.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random||d.random}),this.triggerTigerExecution(e)}copy(e){return new ed(e,this.logService)}}class Ub extends C{logService;abilityService;constructor(e,t,i){super({name:"HummingbirdAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getPetsWithEquipment("Strawberry"),d=a.parent.nearestPetsBehind(this.level,a,l);if(0!==d.pets.length){for(let p of d.pets)p.givePetEquipment(new ws(this.logService)),this.logService.createLog({message:`${a.name} gave ${p.name} strawberry.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random});this.triggerTigerExecution(e)}}copy(e){return new Ub(e,this.logService,this.abilityService)}}class Vb extends C{logService;abilityService;constructor(e,t,i){super({name:"MarmosetAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} was sold and your ${1===i?"next roll is":`next ${i} rolls are`} free.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Vb(e,this.logService,this.abilityService)}}class Jp extends C{logService;abilityService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t,i){super({name:"PheasantAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:o}=e,a=this.owner,l=ur(a,i);if(!l.pet)return;const d=l.pet;Xi(this.logService,a,`${a.name} gave ${d.name} a Strawberry.`,n,o,{randomEvent:l.random}),d.givePetEquipment(new ws(this.logService)),this.triggerTigerExecution(e)}copy(e){return new Jp(e,this.logService,this.abilityService)}}class Ak extends C{logService;constructor(e,t){super({name:"KiwiAbility",owner:e,triggers:["ThisHurt","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.petArray.filter(T=>"Strawberry"!=T.equipment?.name||T==a),d=a.parent.getLastPet(l,a),p=d.pet;if(null==p)return;let b=this.level;p.increaseAttack(b),this.logService.createLog({message:`${a.name} gave ${p.name} +${b} attack`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new Ak(e,this.logService)}}class Wb extends C{logService;constructor(e,t){super({name:"ChihuahuaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner,l=a.parent.opponent,d=l.getHighestHealthPet(void 0,a),p=d.pet;if(p){const b=this.level;this.logService.createLog({message:`${a.name} pushed ${p.name} forward ${b} space(s).`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),l.pushPet(p,b)}this.triggerTigerExecution(e)}copy(e){return new Wb(e,this.logService)}}class Qp extends C{logService;constructor(e,t){super({name:"FireflyAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.getPetsWithinXSpaces(a,this.level),d=l.pets;if(0!=d.length){for(const p of d)a.snipePet(p,1,l.random,n,o);this.triggerTigerExecution(e)}}copy(e){return new Qp(e,this.logService)}}class Zp extends C{logService;constructor(e,t){super({name:"IguanaAbility",owner:e,triggers:["EnemyPushed","EnemySummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=a.parent.getSpecificPet(a,i),d=l.pet;null!=d&&d.alive&&(a.snipePet(d,2*this.level,l.random,n),this.triggerTigerExecution(e))}copy(e){return new Zp(e,this.logService)}}class eg extends C{logService;constructor(e,t){super({name:"KoalaAbility",owner:e,triggers:["FriendHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>Ds(this.owner,i.triggerPet),abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=Bl(a,i),d=l.pet;d&&(d.givePetEquipment(new wp),this.logService.createLog({message:`${a.name} gave ${d.name} Eucalyptus perk.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new eg(e,this.logService)}}class Kb extends C{logService;abilityService;constructor(e,t,i){super({name:"DumboOctopusAbility",owner:e,triggers:["Roll3"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked a discounted food from the last 3 tiers (-${this.level} gold).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Kb(e,this.logService,this.abilityService)}}class zb extends C{logService;constructor(e,t){super({name:"SalamanderAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.getThis(a),d=l.pet;if(null==d)return;let p=0;for(let b of a.parent.petArray)b.isSellPet()&&(p+=b.level*this.level);p>0&&(this.logService.createLog({message:`${a.name} gave ${d.name} ${p} attack and ${p} health from sell pets.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:l.random}),d.increaseAttack(p),d.increaseHealth(p)),this.triggerTigerExecution(e)}copy(e){return new zb(e,this.logService)}}class Sk extends D{logService;abilityService;name="Guinea Pig";tier=2;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new Yb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Yb extends C{logService;abilityService;constructor(e,t,i){super({name:"GuineaPigAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,n=this.level,o=new Sk(this.logService,this.abilityService,t.parent,n,n,null,this.minExpForLevel),a=t.parent.summonPet(o,t.savedPosition,!1,t);a.success&&this.logService.createLog({message:`${t.name} summoned a ${n}/${n} Guinea Pig (level ${this.level}).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Yb(e,this.logService,this.abilityService)}}class tg extends C{logService;constructor(e,t){super({name:"JellyfishAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getThis(a),d=l.pet;if(null==d)return;let p=this.level;d.increaseAttack(p),d.increaseHealth(p),this.logService.createLog({message:`${a.name} gave ${d.name} attack by ${p} and health by ${p}`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new tg(e,this.logService)}}class Xb extends C{logService;constructor(e,t){super({name:"DoveAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.petArray.filter(b=>b==a||"Strawberry"!=b.equipment?.name),d=a.parent.getRandomPets(3,l,null,null,a),p=d.pets;if(0!=p.length){for(let b of p){if("Strawberry"!=b.equipment?.name)continue;this.logService.createLog({message:`${a.name} activated ${b.name}'s Strawberry.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random,pteranodon:o});let F=b.parent.getLastPet(void 0,b).pet;if(!F)continue;let U=this.level+(F.equipment?.multiplier??1)-1;F.increaseAttack(U),F.increaseHealth(U),this.logService.createLog({message:`${b.name} gave ${F.name} ${U} attack ${U} health (Strawberry) (x${this.level} ${a.name}).`,type:"equipment",player:a.parent,tiger:n,pteranodon:o})}this.triggerTigerExecution(e)}}copy(e){return new Xb(e,this.logService)}}class td extends D{logService;abilityService;petService;name="Stork";tier=2;pack="Star";attack=3;health=1;initAbilities(){this.addAbility(new id(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class id extends C{logService;abilityService;petService;constructor(e,t,i,n){super({name:"StorkAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:o}=e,a=this.owner;let l=Math.max(1,t.previousShopTier-1);const d=Z=>(Z??[]).filter(se=>se&&a.name&&se.toLowerCase()!==a.name.toLowerCase());let p=d(this.petService.allPets.get(l));if(p.length||(p=d(this.petService.allPets.get(1))),!p.length)return void this.triggerTigerExecution(e);const b=$t({key:"pet.stork-faint-summon",label:xi(a,"Stork faint summon"),options:p.map(Z=>({id:Z,label:Z}))},()=>we(0,p.length-1));let F=t.oldStork,U=this.petService.createPet({name:p[b.index],attack:F?null:2*this.level,equipment:null,exp:a.minExpForLevel,health:F?null:2*this.level,mana:0},a.parent);a.parent.summonPet(U,a.savedPosition,!1,a).success&&this.logService.createLog({message:`${a.name} spawned ${U.name} Level ${this.level}`,type:"ability",player:a.parent,tiger:n,randomEvent:b.randomEvent,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new id(e,this.logService,this.abilityService,this.petService)}}class ig extends D{logService;abilityService;petService;name="Shima Enaga";tier=2;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new Jb(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class Jb extends C{logService;abilityService;petService;constructor(e,t,i,n){super({name:"ShimaEnagaAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,condition:o=>{const{triggerPet:a}=o;return a&&"Strawberry"==a.equipment?.name},abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=2*this.level,d=this.petService.createPet({name:a.name,attack:l,health:l,equipment:null,exp:0,mana:0},a.parent);a.parent.summonPet(d,i.position,!1,a).success&&this.logService.createLog({message:`${a.name} summoned a (${l}/${l}) Shima Enaga`,type:"ability",player:a.parent,tiger:n,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new Jb(e,this.logService,this.abilityService,this.petService)}}class Qb extends C{logService;constructor(e,t){super({name:"BassAbility",owner:e,triggers:["Faint","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner,l=a.parent.petArray.filter(T=>T==a&&!T.isSellPet()&&T.level<2);let d=a.parent.getRandomPet(l,!0,null,null,a);const p=d.pet;if(null==p)return;const b=this.level;this.logService.createLog({message:`${a.name} gave ${p.name} +${b} experience.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:d.random}),p.increaseExp(b),this.triggerTigerExecution(e)}copy(e){return new Qb(e,this.logService)}}class ng extends C{logService;constructor(e,t){super({name:"PugAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.nearestPetsAhead(1,a);if(0===l.pets.length)return;let d=l.pets[0],p=this.level;this.logService.createLog({message:`${a.name} gave ${d.name} ${p} exp.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),d.increaseExp(p),this.triggerTigerExecution(e)}copy(e){return new ng(e,this.logService)}}class Zb extends C{logService;abilityService;constructor(e,t,i){super({name:"CardinalAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;let i=t.petAhead;for(;i;){const n=i.equipment;if(n&&!n.equipmentClass?.startsWith("ailment")){this.logService.createLog({message:`${t.name} stocked a discounted copy of ${n.name} (-${this.level} gold).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon});break}i=i.petAhead}this.triggerTigerExecution(e)}copy(e){return new Zb(e,this.logService,this.abilityService)}}class ev extends C{logService;abilityService;constructor(e,t,i){super({name:"LeechAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.petAhead;if(!i)return void this.triggerTigerExecution(e);const n=this.level,o=Math.min(n,i.health);t.dealDamage(i,n),t.increaseHealth(o),this.logService.createLog({message:`${t.name} dealt ${n} damage to ${i.name} and gained ${o} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ev(e,this.logService,this.abilityService)}}class kk extends D{logService;abilityService;name="Tuna";tier=3;pack="Star";attack=3;health=5;initAbilities(){this.addAbility(new tv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p),this.timesHurt=b??0,this.originalTimesHurt=this.timesHurt}}class tv extends C{logService;timesHurtOverride;constructor(e,t,i){super({name:"TunaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.timesHurtOverride=i??null}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=this.timesHurtOverride??a.timesHurt;for(let d=0;d<l;d++){const p=a.parent.getRandomPet([a],!0,!1,!0,a);if(null==p.pet)continue;const b=this.level;this.logService.createLog({message:`${a.name} gave ${p.pet.name} +${b} attack and +${b} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:p.random}),p.pet.increaseAttack(b),p.pet.increaseHealth(b)}this.triggerTigerExecution(e)}copy(e){return new tv(e,this.logService,this.timesHurtOverride??this.owner.timesHurt)}}class iv extends C{logService;reset(){this.maxUses=2*this.owner.level,super.reset()}constructor(e,t){super({name:"ToadAbility",owner:e,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2*e.level,condition:i=>{const{triggerPet:n}=i;return n&&n.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=a.parent.getSpecificPet(a,i),d=l.pet;if("Weak"===d?.equipment?.name){let p=a.parent.getPetsWithEquipmentWithSillyFallback("Weak",a);l=a.parent.opponent.getRandomPet(p,null,!0,null,a),d=l.pet}null!=d&&(d.givePetEquipment(new Br),this.logService.createLog({message:`${a.name} gave ${d.name} Weak.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new iv(e,this.logService)}}class dc extends C{logService;abilityService;constructor(e,t,i){super({name:"CapybaraAbility",owner:e,triggers:["Roll","FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} gave newly rolled shop pets +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new dc(e,this.logService,this.abilityService)}}class hc extends C{logService;abilityService;usesThisTurn=0;pendingAttack=0;pendingHealth=0;maxUsesPerTurn=5;constructor(e,t,i){super({name:"OkapiAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return(this.pendingAttack||this.pendingHealth)&&(t.increaseAttack(-this.pendingAttack),t.increaseHealth(-this.pendingHealth)),this.pendingAttack=0,this.pendingHealth=0,this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const i=this.level;t.increaseAttack(i),t.increaseHealth(i),this.pendingAttack+=i,this.pendingHealth+=i,this.usesThisTurn++,this.logService.createLog({message:`${t.name} gained +${i}/+${i} until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new hc(e,this.logService,this.abilityService)}}class av extends C{logService;constructor(e,t){super({name:"CassowaryAbility",owner:e,triggers:["FriendlyGainedStrawberry"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner,l=this.level;let p=a.parent.getThis(a).pet;null!=p&&(this.logService.createLog({message:`${a.name} gave ${p.name} +${l} permanent health and +${l} attack for this battle.`,type:"ability",player:a.parent,tiger:n}),p.increaseHealth(l),p.increaseAttack(l),this.triggerTigerExecution(e))}copy(e){return new av(e,this.logService)}}class rg extends C{logService;abilityService;constructor(e,t,i){super({name:"AnteaterAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;for(let l=0;l<this.level;l++){let d=new Rf(this.logService,this.abilityService,a.parent,1,1,0,5),p=a.parent.summonPet(d,a.savedPosition,!1,a);p.success&&this.logService.createLog({message:`${a.name} spawned 1/1 Ant level 3`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:p.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new rg(e,this.logService,this.abilityService)}}class wk extends D{logService;abilityService;name="Orangutan";tier=3;pack="Star";attack=1;health=4;initAbilities(){this.addAbility(new nd(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class nd extends C{logService;abilityService;constructor(e,t,i){super({name:"OrangutanAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.getLowestHealthPet(t),n=i.pet;if(!n)return void this.triggerTigerExecution(e);const o=3*this.level;n.increaseHealth(o),this.logService.createLog({message:`${t.name} gave ${n.name} +${o} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new nd(e,this.logService,this.abilityService)}}class ov extends C{logService;constructor(e,t){super({name:"ClownfishAbility",owner:e,triggers:["FriendlyLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:n}=i,l=qt(this.owner,n).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=qt(a,i),d=l.pet;if(null==d)return;let p=2*this.level;d.increaseAttack(p),d.increaseHealth(p),this.logService.createLog({message:`${a.name} gave ${d.name} ${p} attack and ${p} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new ov(e,this.logService)}}class ag extends C{logService;abilityService;constructor(e,t,i){super({name:"SiameseAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Fo(t);if(0===i.length)return void this.triggerTigerExecution(e);const o=this.level,a=!0===e.discountedFood||!0===e.shopDiscountedFood?this.level:0;for(const l of i)l.increaseAttack(o),a>0&&l.increaseHealth(a);this.logService.createLog({message:`${t.name} gave adjacent friends +${o} attack${a>0?` and +${a} health`:""}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.length>1}),this.triggerTigerExecution(e)}copy(e){return new ag(e,this.logService,this.abilityService)}}class og extends C{logService;abilityService;constructor(e,t,i){super({name:"ElkAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(l=>l.alive&&l.isSellPet());if(0===i.length)return void this.triggerTigerExecution(e);const n=$t({key:"pet.elk-end-turn-target",label:xi(t,"Elk end turn sell target"),options:i.map(l=>({id:`${l.savedPosition+1}:${l.name}`,label:`P${l.savedPosition+1} ${l.name}`}))},()=>we(0,i.length-1)),o=i[n.index],a=2*this.level;o.increaseSellValue(a),this.logService.createLog({message:`${t.name} increased ${o.name}'s sell value by ${a}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new og(e,this.logService,this.abilityService)}}class gc extends C{constructor(e){super({name:"FairyAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:t=>{this.executeAbility(t)}})}executeAbility(e){}copy(e){return new gc(e)}}class Ek extends D{logService;abilityService;name="Fairy Ball";tier=1;pack="Star";attack=2;health=6;hidden=!0;initAbilities(){this.addAbility(new gc(this)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class lv extends C{logService;abilityService;constructor(e,t,i){super({name:"FairyArmadilloAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,a=this.owner,l=2*this.level,d=a.parent.getThis(a),p=d.pet;if(null==p)return;p.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${p.name} ${l} permanent health and transforms into a protected ball!`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random});const T=a.parent.getThis(a).pet;if(null==T)return;const F=new Ek(this.logService,this.abilityService,T.parent,T.health,T.attack,T.mana,T.exp,T.equipment);T.parent.transformPet(T,F),this.triggerTigerExecution(e)}copy(e){return new lv(e,this.logService,this.abilityService)}}class cv extends C{logService;constructor(e,t){super({name:"FossaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,a=this.owner,d=a.parent===t.player?t.playerRollAmount:t.opponentRollAmount;if(d<=0)return;const p=this.level*d;let T=a.parent.opponent.getFurthestUpPets(2,void 0,a).pets;if(0!=T.length){for(let F of T)this.logService.createLog({message:`${a.name} removed ${p} health from ${F.name}.`,type:"ability",player:a.parent,tiger:n}),F.increaseHealth(-p);this.triggerTigerExecution(e)}}copy(e){return new cv(e,this.logService)}}class Ck extends C{logService;constructor(e,t){super({name:"HawkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getOppositeEnemyPet(a),d=l.pet;d&&a.snipePet(d,7*this.level,l.random,n),this.triggerTigerExecution(e)}copy(e){return new Ck(e,this.logService)}}class uv extends C{logService;abilityService;constructor(e,t,i){super({name:"PlatypusAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=3*this.level,d=2*this.level,p=new Jh(this.logService,this.abilityService,a.parent,d,l,0,this.minExpForLevel),b=new dS(this.logService,this.abilityService,a.parent,d,l,0,this.minExpForLevel),T=a.parent.summonPet(p,a.savedPosition,!1,a);T.success&&this.logService.createLog({message:`${a.name} spawned ${l}/${d} Duck level ${this.level}`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:T.randomEvent});let F=a.parent.summonPet(b,a.savedPosition,!1,a);F.success&&this.logService.createLog({message:`${a.name} spawned ${l}/${d} Beaver level ${this.level}`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:F.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new uv(e,this.logService,this.abilityService)}}class mc extends C{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"DonkeyAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.opponent,d=l.getLastPet();null!=d.pet&&(l.pushPet(d.pet,d.pet.position),d.pet.increaseAttack(-3),this.logService.createLog({message:`${a.name} pushed ${d.pet.name} to the front and removed 3 attack.`,type:"ability",player:a.parent,tiger:n}),this.triggerTigerExecution(e))}copy(e){return new mc(e,this.logService)}}class dv extends C{logService;abilityService;constructor(e,t,i){super({name:"SparrowAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new dv(e,this.logService,this.abilityService)}}class hv extends C{logService;constructor(e,t){super({name:"BlobfishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.nearestPetsBehind(2,a),d=l.pets;for(let p of d){let b=this.level;this.logService.createLog({message:`${a.name} gave ${p.name} ${b} exp.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),p.increaseExp(b)}this.triggerTigerExecution(e)}copy(e){return new hv(e,this.logService)}}class rd extends C{logService;constructor(e,t){super({name:"WoodpeckerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=2*this.level;for(let d=0;d<l;d++){let p=a.parent.nearestPetsAhead(2,a,null,!0),b=p.pets;for(let T of b){let F=1;T.parent!=this.owner.parent&&(F*=2),a.snipePet(T,F,p.random,n)}}this.triggerTigerExecution(e)}copy(e){return new rd(e,this.logService)}}class fc extends C{logService;abilityService;constructor(e,t,i){super({name:"StarfishAbility",owner:e,triggers:["FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=e.triggerPet;if(!i||3!==i.level)return void this.triggerTigerExecution(e);const n=i.attack>=10?3:1,o=this.level*n,a=t.parent.petArray.filter(l=>l.alive);for(const l of a)l.increaseAttack(o),l.increaseHealth(o);this.logService.createLog({message:`${t.name} gave friends +${o}/+${o}${n>1?" (triple bonus)":""}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new fc(e,this.logService,this.abilityService)}}class yc extends D{logService;abilityService;petService;name="Pelican";tier=5;pack="Star";attack=5;health=5;initAbilities(){this.addAbility(new bc(this,this.logService,this.petService)),this.addAbility(new ad(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class ad extends C{logService;abilityService;constructor(e,t,i){super({name:"PelicanFaintAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)},ignoreRepeats:!0}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;for(;a.swallowedPets.length>0;){let l=a.swallowedPets.shift(),d=a.parent.summonPet(l,a.savedPosition,!1,a);d.success&&this.logService.createLog({message:`${a.name} summoned ${l.name} (level ${l.level}).`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:d.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new ad(e,this.logService,this.abilityService)}}class bc extends C{logService;petService;constructor(e,t,i){super({name:"PelicanStartAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getPetsWithoutEquipment("Strawberry"),d=a.parent.nearestPetsAhead(this.level,a,l),p=d.pets;if(0!=p.length){for(let b of p){let T=this.petService.createPet({name:"Salmon",attack:b.attack,health:b.health,exp:b.exp,equipment:null,mana:0},a.parent);a.swallowedPets.push(T),b.health=0,this.logService.createLog({message:`${a.name} swallowed ${b.name}`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random})}this.triggerTigerExecution(e)}}copy(e){return new bc(e,this.logService,this.petService)}}class od extends C{logService;constructor(e,t){super({name:"SwordFishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,a=n.parent.opponent.getHighestHealthPet(void 0,n),l=a.pet,d=n.attack*this.level;l?(n.snipePet(l,d,a.random,t,i),this.logService.createLog({message:`${n.name} deals ${d} damage to ${l.name}.`,type:"ability",player:n.parent,sourcePet:n,targetPet:l,tiger:t,pteranodon:i,randomEvent:a.random})):this.logService.createLog({message:`${n.name} could not find an enemy to attack.`,type:"ability",player:n.parent,sourcePet:n,tiger:t,pteranodon:i}),n.snipePet(n,d,!1,t,i),this.logService.createLog({message:`${n.name} deals ${d} damage to itself.`,type:"ability",player:n.parent,sourcePet:n,targetPet:n,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new od(e,this.logService)}}class fv extends C{logService;constructor(e,t){super({name:"TriceratopsAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getRandomPet([a],!0,!1,!0,a),d=3*this.level;null!=l.pet&&(l.pet.increaseAttack(d),l.pet.increaseHealth(d),this.logService.createLog({message:`${a.name} gave ${l.pet.name} ${d} attack and ${d} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new fv(e,this.logService)}}class vc extends C{logService;abilityService;usesThisTurn=0;constructor(e,t,i){super({name:"HamsterAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=2*this.level)return void this.triggerTigerExecution(e);this.usesThisTurn++;const i=this.owner;this.logService.createLog({message:`${i.name} gained a free roll.`,type:"ability",player:i.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new vc(e,this.logService,this.abilityService)}}class ld extends C{logService;abilityService;constructor(e,t,i){super({name:"ShoebillAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;let i=t.petAhead;for(;i;){if("Strawberry"===i.equipment?.name){const n=4*this.level;i.removePerk(),i.increaseAttack(n),i.increaseHealth(n),this.logService.createLog({message:`${t.name} replaced Strawberry on ${i.name} with +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon});break}i=i.petAhead}this.triggerTigerExecution(e)}copy(e){return new ld(e,this.logService,this.abilityService)}}class lg extends C{logService;abilityService;constructor(e,t,i){super({name:"VultureAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;let d=a.parent.opponent.getRandomPet([],!1,!0,!1,a);if(null==d.pet)return;let p=4*this.level;a.snipePet(d.pet,p,d.random,n),this.logService.createLog({message:`${a.name} sniped ${d.pet.name} for ${p} after a friend died.`,type:"ability",player:a.parent,tiger:n}),this.triggerTigerExecution(e)}copy(e){return new lg(e,this.logService,this.abilityService)}}class cd extends C{logService;affectedEnemies=new Set;reset(){this.maxUses=this.level,this.affectedEnemies=new Set,super.reset()}constructor(e,t){super({name:"IbexAbility",owner:e,triggers:["EnemyHurt","EnemyPushed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>{const{triggerPet:n}=i;return n&&n.alive&&!this.affectedEnemies.has(n)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=a.parent.getSpecificPet(a,i),d=l.pet;if(null==d)return;let p=Math.floor(.7*i.health);d.increaseHealth(-p),this.affectedEnemies.add(d),this.logService.createLog({message:`${a.name} removed ${p} health from ${i.name} (70%)`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new cd(e,this.logService)}}class Dk extends C{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=4;constructor(e,t,i){super({name:"OstrichAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=e.shopPets,n=e.shopPetTiers??t?.map(p=>"number"==typeof p?.tier?p.tier:null);if(!n||n.length<4)return void this.triggerTigerExecution(e);const o=n[0];if(null==o||!n.slice(0,4).every(p=>p===o))return void this.triggerTigerExecution(e);this.usesThisTurn++;const a=this.owner,l=2*this.level,d=a.parent.petArray.filter(p=>p.alive);for(const p of d)p.increaseHealth(l);this.logService.createLog({message:`${a.name} re-rolled the shop and gave friends +${l} health.`,type:"ability",player:a.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Dk(e,this.logService,this.abilityService)}}class cg extends C{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"ReindeerAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getThis(a),d=l.pet;null!=d&&(d.givePetEquipment(new Ta),this.logService.createLog({message:`${a.name} gave ${d.name} Melon.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new cg(e,this.logService)}}class zs extends C{logService;constructor(e,t){super({name:"PiranhaAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getAll(!1,a,!0),d=l.pets,p=3*this.level;for(let b of d)b.increaseAttack(p),this.logService.createLog({message:`${a.name} gave ${b.name} ${p} attack.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random});this.triggerTigerExecution(e)}copy(e){return new zs(e,this.logService)}}class bv extends C{logService;friendAppliedThisTurn=new Set;reset(){this.maxUses=this.level,this.friendAppliedThisTurn=new Set,super.reset()}constructor(e,t){super({name:"RealVelociraptorAbility",owner:e,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>{const{triggerPet:n}=i,o=this.owner;if(!n||!n.lastLostEquipment||!Ds(o,n,{excludeOwner:!0}))return!1;const l=qt(o,n).pet;return!!l&&!this.friendAppliedThisTurn.has(l)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=this.createEquipmentInstance(i.lastLostEquipment);if(l){let d=qt(a,i),p=d.pet;if(null==p)return;p.givePetEquipment(l),this.logService.createLog({message:`${a.name} returned ${l.name} to ${p.name}.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),this.friendAppliedThisTurn.add(p)}this.triggerTigerExecution(e)}createEquipmentInstance(e){return e?$r(e):null}copy(e){return new bv(e,this.logService)}}class ao extends D{logService;abilityService;petService;name="Sabertooth Tiger";tier=6;pack="Star";attack=4;health=5;initAbilities(){this.addAbility(new Rk(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}resetPet(){super.resetPet()}constructor(e,t,i,n,o,a,l,d,p,b,T){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b),this.timesHurt=T??0,this.originalTimesHurt=this.timesHurt}}class Rk extends C{logService;abilityService;petService;timesHurtOverride;constructor(e,t,i,n,o){super({name:"SabertoothTigerAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=i,this.petService=n,this.timesHurtOverride=o??null}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=this.timesHurtOverride??a.timesHurt;if(l>0)for(let d=0;d<this.level;d++){let p=Math.min(2*l,50),b=Math.min(3*l,50),T=this.petService.createPet({name:"Mammoth",attack:p,health:b,equipment:null,mana:0,exp:0},a.parent),F=a.parent.summonPet(T,a.savedPosition,!1,a);F.success&&this.logService.createLog({message:`${a.name} summoned ${T.name} (${p}/${b}).`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:F.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Rk(e,this.logService,this.abilityService,this.petService,this.timesHurtOverride??this.owner.timesHurt)}}class ud extends D{logService;abilityService;petService;name="Orca";tier=6;pack="Star";attack=5;health=7;initAbilities(){this.addAbility(new Lk(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class Lk extends C{logService;abilityService;petService;constructor(e,t,i,n){super({name:"OrcaAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;for(let l=0;l<this.level;l++){let d=this.petService.getRandomFaintPet(a.parent,void 0,[a.name,"Quetzalcoatlus"],a);d.attack=6,d.health=6,a.parent.summonPet(d,a.savedPosition,!1,a).success&&this.logService.createLog({message:`${a.name} spawned a 6/6 ${d.name}.`,type:"ability",player:a.parent,tiger:n,randomEvent:!0,pteranodon:o})}this.triggerTigerExecution(e)}copy(e){return new Lk(e,this.logService,this.abilityService,this.petService)}}class ug extends C{logService;constructor(e,t){super({name:"SpinosaurusAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l={attack:2*this.level,health:3*this.level},d=a.parent.getRandomPet([a],!0,!1,!0,a);null!=d.pet&&(d.pet.increaseAttack(l.attack),d.pet.increaseHealth(l.health),this.logService.createLog({message:`${a.name} gave ${d.pet.name} ${l.attack} attack and ${l.health} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new ug(e,this.logService)}}function PC(r,e,t,i,n={}){r.createLog({message:i,type:"ability",player:e.parent,tiger:t.tiger,pteranodon:t.pteranodon,...n})}function vv(r){r.amount<=0||(PC(r.logService,r.owner,r.context,r.message??`${r.owner.name} gave ${r.target.name} +${r.amount} experience.`,r.extras),r.target.increaseExp(r.amount))}class Fk extends D{logService;abilityService;name="Alpaca";tier=6;pack="Star";attack=3;health=7;initAbilities(){this.addAbility(new Av(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Av extends C{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"AlpacaAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>{const{triggerPet:n}=i;return n&&!(n instanceof Fk)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,a=this.owner,l=ur(a,i);l.pet&&(vv({logService:this.logService,owner:a,context:e,target:l.pet,amount:3,extras:{randomEvent:l.random}}),this.triggerTigerExecution(e))}copy(e){return new Av(e,this.logService)}}class Sv extends C{logService;constructor(e,t){super({name:"VelociraptorAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l;for(let p=a.parent.petArray.indexOf(a)-1;p>=0;p--){let b=a.parent.petArray[p];if(b.alive&&b.equipment&&"Strawberry"===b.equipment.name){l=b;break}}if(l){if(l&&l.equipment&&"Strawberry"===l.equipment.name){l.removePerk(),this.logService.createLog({message:`${a.name} removed Strawberry from ${l.name}`,type:"ability",player:a.parent,tiger:n});let p=2*this.level,b=3*this.level,T=a.parent.getAll(!1,a,!0),F=T.pets;for(let U of F)U.increaseAttack(p),U.increaseHealth(b),this.logService.createLog({message:`${a.name} gave ${U.name} +${p} attack and +${b} health`,type:"ability",player:a.parent,tiger:n,randomEvent:T.random})}this.triggerTigerExecution(e)}}copy(e){return new Sv(e,this.logService)}}class _c extends D{logService;abilityService;petService;name="Ammonite";tier=6;pack="Star";attack=5;health=3;initAbilities(){this.addAbility(new Sc(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class Sc extends C{logService;petService;constructor(e,t,i){super({name:"AmmoniteAbility",owner:e,triggers:["Faint"],abilityType:"Pet",abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{gameApi:t}=e,a=this.owner;let l=a.parent.nearestPetsBehind(1,a);if(0===l.pets.length)return;let d=l.pets[0],b=Math.floor((a.parent===t.player?t.playerRollAmount:t.opponentRollAmount)/2)*this.level,T=this.petService.createPet({name:"Mimic Octopus",attack:d.attack,health:d.health,equipment:d.equipment,mana:d.mana,exp:null},a.parent);!function Ac(r){PC(r.logService,r.owner,r.context,r.message,r.extras),r.owner.parent.transformPet(r.fromPet,r.toPet)}({logService:this.logService,owner:a,context:e,fromPet:d,toPet:T,message:`${a.name} transformed ${d.name} into ${T.name}`,extras:{randomEvent:l.random}});let F=a.parent.getSpecificPet(a,T),U=F.pet;null!=U&&(vv({logService:this.logService,owner:a,context:e,target:U,amount:b,extras:{randomEvent:F.random}}),this.triggerTigerExecution(e))}copy(e){return new Sc(e,this.logService,this.petService)}}const gr={Pillbug:class J0 extends D{logService;abilityService;name="Pillbug";tier=1;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new uc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Cockroach:class Xp extends D{logService;abilityService;name="Cockroach";tier=1;pack="Star";attack=1;health=1;initAbilities(){this.addAbility(new qb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Frog:class Q0 extends D{logService;abilityService;name="Frog";tier=1;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new ed(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Hummingbird:class Z0 extends D{logService;abilityService;name="Hummingbird";tier=1;pack="Star";attack=3;health=1;initAbilities(){this.addAbility(new Ub(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Marmoset:class eC extends D{logService;abilityService;name="Marmoset";tier=1;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new Vb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Pheasant:class PL extends D{logService;abilityService;name="Pheasant";tier=1;pack="Star";attack=2;health=1;initAbilities(){this.addAbility(new Jp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Kiwi:class tC extends D{logService;abilityService;name="Kiwi";tier=1;pack="Star";attack=1;health=4;initAbilities(){this.addAbility(new Ak(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Chihuahua:class iC extends D{logService;abilityService;name="Chihuahua";tier=1;pack="Star";attack=4;health=1;initAbilities(){this.addAbility(new Wb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Firefly:class nC extends D{logService;abilityService;name="Firefly";tier=1;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new Qp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Koala:class aC extends D{logService;abilityService;name="Koala";tier=2;pack="Star";attack=4;health=2;initAbilities(){this.addAbility(new eg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Salamander:class oC extends D{logService;abilityService;name="Salamander";tier=2;pack="Star";attack=1;health=2;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}initAbilities(){this.addAbility(new zb(this,this.logService)),super.initAbilities()}},"Guinea Pig":Sk,Jellyfish:class sC extends D{logService;abilityService;name="Jellyfish";tier=2;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new tg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Dove:class lC extends D{logService;abilityService;name="Dove";tier=2;pack="Star";attack=3;health=1;initAbilities(){this.addAbility(new Xb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Dumbo Octopus":class _k extends D{logService;abilityService;name="Dumbo Octopus";tier=2;pack="Star";health=5;attack=2;initAbilities(){this.addAbility(new Kb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Bass:class cC extends D{logService;abilityService;name="Bass";tier=2;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new Qb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Leech:class dC extends D{logService;abilityService;name="Leech";tier=3;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new ev(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Woodpecker:class pv extends D{logService;abilityService;name="Woodpecker";tier=5;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new rd(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Toad:class hC extends D{logService;abilityService;name="Toad";tier=3;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new iv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Starfish:class gv extends D{logService;abilityService;name="Starfish";tier=5;pack="Star";attack=3;health=7;initAbilities(){this.addAbility(new fc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Clownfish:class kL extends D{logService;abilityService;name="Clownfish";tier=4;pack="Star";attack=3;health=4;initAbilities(){this.addAbility(new ov(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Blobfish:class AC extends D{logService;abilityService;name="Blobfish";tier=5;pack="Star";attack=2;health=10;initAbilities(){this.addAbility(new hv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Capybara:class nv extends D{logService;abilityService;name="Capybara";tier=3;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new dc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Okapi:class rv extends D{logService;abilityService;name="Okapi";tier=3;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new hc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Cassowary:class pc extends D{logService;abilityService;name="Cassowary";tier=3;pack="Star";attack=5;health=2;initAbilities(){this.addAbility(new av(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Anteater:class pC extends D{logService;abilityService;name="Anteater";tier=3;pack="Star";attack=2;health=2;initAbilities(){this.addAbility(new rg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Orangutan:wk,Hawk:class yC extends D{logService;abilityService;name="Hawk";tier=4;pack="Star";attack=5;health=4;initAbilities(){this.addAbility(new Ck(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Platypus:class wL extends D{logService;abilityService;name="Platypus";tier=4;pack="Star";attack=2;health=2;initAbilities(){this.addAbility(new uv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Praying Mantis":gk,Donkey:class bC extends D{logService;abilityService;name="Donkey";tier=4;pack="Star";attack=4;health=6;initAbilities(){this.addAbility(new mc(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Fairy Armadillo":class mC extends D{logService;abilityService;name="Fairy Armadillo";tier=4;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new lv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Fossa:class fC extends D{logService;abilityService;name="Fossa";tier=4;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new cv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Siamese:class sv extends D{logService;abilityService;name="Siamese";tier=4;pack="Star";health=5;attack=2;initAbilities(){this.addAbility(new ag(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Elk:class Tk extends D{logService;abilityService;name="Elk";tier=4;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new og(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Sparrow:class vC extends D{logService;abilityService;name="Sparrow";tier=4;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new dv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Swordfish:class sg extends D{logService;abilityService;name="Swordfish";tier=5;pack="Star";attack=6;health=9;initAbilities(){this.addAbility(new od(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Triceratops:class mv extends D{logService;abilityService;name="Triceratops";tier=5;pack="Star";attack=5;health=6;initAbilities(){this.addAbility(new fv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Hamster:class TL extends D{logService;abilityService;name="Hamster";tier=5;pack="Star";attack=4;health=4;initAbilities(){this.addAbility(new vc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Shoebill:class sd extends D{logService;abilityService;name="Shoebill";tier=5;pack="Star";attack=3;health=6;initAbilities(){this.addAbility(new ld(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Vulture:class yv extends D{logService;abilityService;name="Vulture";tier=5;pack="Star";attack=4;health=5;initAbilities(){this.addAbility(new lg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Ibex:class xk extends D{logService;abilityService;name="Ibex";tier=5;pack="Star";attack=6;health=7;initAbilities(){this.addAbility(new cd(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Ostrich:class _C extends D{logService;abilityService;name="Ostrich";tier=6;pack="Star";attack=6;health=7;initAbilities(){this.addAbility(new Dk(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Reindeer:class Ik extends D{logService;abilityService;name="Reindeer";tier=6;pack="Star";attack=9;health=6;initAbilities(){this.addAbility(new cg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Piranha:class Mk extends D{logService;abilityService;name="Piranha";tier=6;pack="Star";attack=10;health=4;initAbilities(){this.addAbility(new zs(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Real Velociraptor":class SC extends D{logService;abilityService;name="Real Velociraptor";tier=6;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new bv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Spinosaurus:class Nk extends D{logService;abilityService;name="Spinosaurus";tier=6;pack="Star";attack=4;health=4;initAbilities(){this.addAbility(new ug(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Alpaca:Fk,Velociraptor:class _v extends D{logService;abilityService;name="Velociraptor";tier=6;pack="Star";attack=3;health=6;initAbilities(){this.addAbility(new Sv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Ammonite:_c,Cardinal:class Pk extends D{logService;abilityService;name="Cardinal";tier=3;pack="Star";health=3;attack=4;initAbilities(){this.addAbility(new Zb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Orca:ud,Pelican:yc,"Sabertooth Tiger":ao,"Shima Enaga":ig,Stork:td,Tuna:kk,Iguana:class rC extends D{logService;abilityService;name="Iguana";tier=2;pack="Star";attack=2;health=4;initAbilities(){this.addAbility(new Zp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Pug:class uC extends D{logService;abilityService;name="Pug";tier=3;pack="Star";attack=5;health=2;initAbilities(){this.addAbility(new ng(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}};class Pv extends C{logService;constructor(e,t){super({name:"BulldogAbility",owner:e,triggers:["ThisFirstAttack"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.timesAttacked<=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=2*this.level,d=a.parent.getThis(a),p=d.pet;null!=p&&(p.increaseAttack(l),this.logService.createLog({message:`${a.name} gained +${l} attack.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new Pv(e,this.logService)}}class Bk extends D{logService;abilityService;name="Groundhog";tier=1;pack="Golden";attack=2;health=1;initAbilities(){this.addAbility(new Ys(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Ys extends C{logService;constructor(e,t){super({name:"GroundhogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:o}=e,a=this.owner,l=a.parent.resolveTrumpetGainTarget(a);l.player.gainTrumpets(this.level,a,o,void 0,void 0,l.random),this.triggerTigerExecution(e)}copy(e){return new Ys(e,this.logService)}}class kv extends C{logService;constructor(e,t){super({name:"ConeSnailAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.nearestPetsBehind(1,a);if(0===l.pets.length)return;let d=l.pets[0],p=2*this.level;d.increaseHealth(p),this.logService.createLog({message:`${a.name} gave ${d.name} ${p} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new kv(e,this.logService)}}class dg extends C{logService;constructor(e,t){super({name:"GooseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.opponent.getFurthestUpPet(a),d=l.pet;if(null==d)return;let p=this.level;d.increaseAttack(-this.level),this.logService.createLog({message:`${a.name} removed ${p} attack from ${d.name}.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new dg(e,this.logService)}}class wv extends C{logService;constructor(e,t){super({name:"PiedTamarinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.parent.trumpets>=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,a);for(let d of l.pets)null!=d&&a.snipePet(d,3,l.random,n,o);l.pets.length>0&&a.parent.spendTrumpets(1,a,o),this.triggerTigerExecution(e)}copy(e){return new wv(e,this.logService)}}class Tv extends C{logService;constructor(e,t){super({name:"SilkmothAbility",owner:e,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,precondition:i=>{const{triggerPet:n}=i,l=qt(this.owner,n).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=qt(a,i),d=l.pet;if(null==d)return;let p=this.level;d.increaseHealth(p),this.logService.createLog({message:`${a.name} gave ${d.name} ${p} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Tv(e,this.logService)}}class hg extends C{logService;abilityService;constructor(e,t,i){super({name:"LemmingAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} will give +${this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new hg(e,this.logService,this.abilityService)}}class Ev extends C{logService;abilityService;constructor(e,t,i){super({name:"MagpieAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} spent up to ${this.level} gold and will gain it back next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Ev(e,this.logService,this.abilityService)}}class Cv extends C{logService;abilityService;constructor(e,t,i){super({name:"OpossumAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} gave a random faint pet in the shop +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Cv(e,this.logService,this.abilityService)}}class jk extends C{logService;abilityService;constructor(e,t,i){super({name:"HerculesBeetleAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Math.max(0,t.battlesFought??0),n=i*this.level,o=t.parent.petArray.filter(d=>d.alive);if(n<=0||0===o.length)return void this.triggerTigerExecution(e);const a=Math.floor(n/o.length);let l=n%o.length;for(const d of o)a>0&&d.increaseAttack(a);if(l>0){const d=Le([...o]);for(let p=0;p<l&&p<d.length;p++)d[p].increaseAttack(1)}this.logService.createLog({message:`${t.name} gave friends +${n} attack split evenly after ${i} battle${1===i?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:o.length>1}),this.triggerTigerExecution(e)}copy(e){return new jk(e,this.logService,this.abilityService)}}class qk extends D{logService;abilityService;petService;name="Stoat";tier=2;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new Uk(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class Uk extends C{logService;abilityService;petService;constructor(e,t,i,n){super({name:"StoatAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const t=this.owner,{gameApi:i}=e,n=Math.max(1,i.previousShopTier??t.tier),o=this.petService.allPets.get(n)??[];if(!o.length)return void this.triggerTigerExecution(e);const a=$t({key:"pet.stoat-summon",label:xi(t,"Stoat summon"),options:o.map(T=>({id:T,label:T}))},()=>we(0,o.length-1)),p=this.petService.createPet({name:o[a.index],attack:1,health:1,equipment:null,exp:this.minExpForLevel,mana:0},t.parent);t.parent.summonPet(p,t.savedPosition,!1,t).success&&this.logService.createLog({message:`${t.name} summoned a 1/1 level ${this.level} ${p.name}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Uk(e,this.logService,this.abilityService,this.petService)}}class Pc extends C{logService;constructor(e,t){super({name:"BlackNeckedStiltAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:o}=e,a=this.owner;let l=2*this.level;const d=a.parent.resolveTrumpetGainTarget(a);d.player.gainTrumpets(l,a,o,void 0,void 0,d.random),this.triggerTigerExecution(e)}copy(e){return new Pc(e,this.logService)}}class xv extends C{logService;constructor(e,t){super({name:"SquidAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>!(this.owner.parent.trumpets<1),abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=!1,d=a.parent.getPetsWithEquipmentWithSillyFallback("Inked",a),p=a.parent.opponent.getFurthestUpPets(this.level,d,a),b=p.pets;for(let T of b){if(null==T)break;l=!0,T.givePetEquipment(new no),this.logService.createLog({message:`${a.name} gave ${T.name} Inked.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:p.random})}l&&a.parent.spendTrumpets(1,a,o),this.triggerTigerExecution(e)}copy(e){return new xv(e,this.logService)}}class Xs extends C{logService;constructor(e,t){super({name:"SeaUrchinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.opponent.getFurthestUpPet(a),d=[l.pet],p=l.random;if(null!=d[0]){for(let b=0;b<this.level-1;b++){let T;if(T=p?a.parent.opponent.getFurthestUpPet(a).pet:d[b].petBehind(),null==T)break;d.push(T)}for(let b of d)null!=b&&(b.increaseHealth(-5),this.logService.createLog({message:`${a.name} removed 5 health from ${b.name}.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:p}));this.triggerTigerExecution(e)}}copy(e){return new Xs(e,this.logService)}}class Dv extends C{logService;constructor(e,t){super({name:"DoorHeadAntAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.getThis(a),d=l.pet;if(null==d)return;a.parent.pushPetToFront(d,!0),this.logService.createLog({message:`${a.name} pushed ${d.name} to the front.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:l.random});let p=4*this.level,b=a.parent.getThis(a),T=b.pet;null!=T&&(T.increaseHealth(p),this.logService.createLog({message:`${a.name} gained ${p} health.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:b.random}),this.triggerTigerExecution(e))}copy(e){return new Dv(e,this.logService)}}class Kk extends D{logService;abilityService;name="Lizard Tail";tier=1;pack="Golden";hidden=!0;attack=3;health=1;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class zk extends C{logService;abilityService;constructor(e,t,i){super({name:"LizardAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=new Kk(this.logService,this.abilityService,a.parent,null,null,0,a.minExpForLevel),d=a.parent.summonPetInFront(a,l);d.success&&this.logService.createLog({message:`${a.name} spawned Lizard Tail Level ${a.level}`,type:"ability",player:a.parent,tiger:n,randomEvent:d.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new zk(e,this.logService,this.abilityService)}}class pg extends C{logService;constructor(e,t){super({name:"SeaTurtleAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:o}=e,a=this.owner,l=2*this.level,d=ur(a,i);if(!d.pet)return;const p=d.pet;p.increaseHealth(l),Xi(this.logService,a,`${a.name} gave ${p.name} ${l} health.`,n,o,{randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new pg(e,this.logService)}}class Iv extends C{logService;abilityService;constructor(e,t,i){super({name:"AfricanPenguinAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.getRandomPets(3,[t]),n=i.pets;if(0===n.length)return void this.triggerTigerExecution(e);const o=this.level;for(const a of n)a.increaseAttack(o);this.logService.createLog({message:`${t.name} gave ${n.map(a=>a.name).join(", ")} +${o} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new Iv(e,this.logService,this.abilityService)}}class Mv extends C{logService;constructor(e,t){super({name:"MeerkatAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:o}=e,a=this.owner;let l;l=a.parent==t.player?t.playerGoldSpent:t.opponentGoldSpent;let d=Math.floor(l/4)*this.level,p=a.parent.nearestPetsBehind(1,a),b=a.parent.nearestPetsAhead(1,a);if(b.pets.length>0){let T=b.pets[0];T.increaseAttack(d),this.logService.createLog({message:`${a.name} gave ${T.name} ${d} attack.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:b.random})}if(p.pets.length>0){let T=p.pets[0];T.increaseAttack(d),this.logService.createLog({message:`${a.name} gave ${T.name} ${d} attack.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:p.random})}this.triggerTigerExecution(e)}copy(e){return new Mv(e,this.logService)}}class gg extends C{logService;constructor(e,t){super({name:"MuskOxAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l={attack:a.level,health:2*a.level},d=a.parent.getThis(a),p=d.pet;null!=p&&(p.increaseAttack(l.attack),p.increaseHealth(l.health),this.logService.createLog({message:`${a.name} gave ${p.name} ${l.attack} attack and ${l.health} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new gg(e,this.logService)}}class mg extends C{logService;constructor(e,t){super({name:"FleaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.getPetsWithEquipmentWithSillyFallback("Weak",a),d=a.parent.opponent.getHighestHealthPets(this.level,l,a);for(let p of d.pets)this.logService.createLog({message:`${a.name} gave ${p.name} Weak.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:d.random}),p.givePetEquipment(new Br);this.triggerTigerExecution(e)}copy(e){return new mg(e,this.logService)}}class gd extends C{logService;constructor(e,t){super({name:"RoyalFlycatcherAbility",owner:e,triggers:["EnemyFaint3"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=4*this.level,d=a.parent.opponent.getRandomPet([],null,!0,null,a),p=d.pet;null!=p&&(a.snipePet(p,l,d.random,n),this.triggerTigerExecution(e))}copy(e){return new gd(e,this.logService)}}class fg extends C{logService;constructor(e,t){super({name:"SurgeonFishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>!(this.owner.parent.trumpets<2),abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.nearestPetsBehind(2,a),d=l.pets;if(0==d.length)return;a.parent.spendTrumpets(2,a);let p=4*this.level;for(let b of d)b.increaseHealth(p),this.logService.createLog({message:`${a.name} gave ${b.name} ${p} health.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:l.random});this.triggerTigerExecution(e)}copy(e){return new fg(e,this.logService)}}class Rv extends D{logService;abilityService;name="Weasel";tier=3;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new Lv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Lv extends C{logService;constructor(e,t){super({name:"WeaselAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;this.logService.createLog({message:`${a.name} gained ${this.level} Gold.`,type:"ability",player:a.parent,tiger:n,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new Lv(e,this.logService)}}class Nv extends C{logService;constructor(e,t){super({name:"GuineafowlAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:o}=e,a=this.owner;let l=2*this.level;const d=a.parent.resolveTrumpetGainTarget(a);d.player.gainTrumpets(l,a,o,void 0,void 0,d.random),this.triggerTigerExecution(e)}copy(e){return new Nv(e,this.logService)}}class Ov extends C{logService;targetedPets=new Set;constructor(e,t){super({name:"Betta Fish Ability",owner:e,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>{const{triggerPet:n}=i,o=this.owner;if(!Ds(o,n,{excludeOwner:!0}))return!1;const l=qt(o,n).pet;return!!l&&!this.targetedPets.has(l)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.maxUses=this.level,this.targetedPets.clear(),super.reset()}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;if(!i)return;const d=qt(a,i).pet;d&&(this.targetedPets.add(d),d.givePetEquipment(new mf),this.logService.createLog({message:`${a.name} gave ${d.name} Guava.`,type:"ability",player:a.parent,tiger:n}),this.triggerTigerExecution(e))}copy(e){return new Ov(e,this.logService)}}class Bv extends C{logService;constructor(e,t){super({name:"FlyingFishAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,a=this.owner,l=2*this.level,d=ur(a,i);d.pet&&(vv({logService:this.logService,owner:a,context:e,target:d.pet,amount:l,extras:{randomEvent:d.random}}),this.triggerTigerExecution(e))}copy(e){return new Bv(e,this.logService)}}class $v extends C{logService;abilityService;constructor(e,t,i){super({name:"BaboonAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,{gameApi:i}=e,n=Math.max(1,i.previousShopTier??t.tier),o=t.parent.petArray.filter(p=>p.alive&&p.tier>=n);if(0===o.length)return void this.triggerTigerExecution(e);const a=$t({key:"pet.baboon-end-turn-target",label:xi(t,"Baboon end turn target"),options:o.map(p=>({id:`${p.savedPosition+1}:${p.name}`,label:`P${p.savedPosition+1} ${p.name}`}))},()=>we(0,o.length-1)),l=o[a.index],d=this.level;l.increaseAttack(d),l.increaseHealth(d),this.logService.createLog({message:`${t.name} gave ${l.name} +${d}/+${d}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new $v(e,this.logService,this.abilityService)}}class Gv extends C{logService;abilityService;constructor(e,t,i){super({name:"OspreyAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;for(let l=0;l<a.level;l++){let d=new Bk(this.logService,this.abilityService,a.parent,null,null,0,0),p=a.parent.summonPet(d,a.savedPosition,!1,a);p.success&&this.logService.createLog({message:`${a.name} summoned a 2/1 Groundhog`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:p.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Gv(e,this.logService,this.abilityService)}}class Hv extends C{logService;abilityService;constructor(e,t,i){super({name:"ManateeAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.petAhead,n=2*this.level,o=this.level;t.dealDamage(t,5),i?(i.increaseAttack(n),i.increaseHealth(o),this.logService.createLog({message:`${t.name} took 5 damage and gave ${i.name} +${n}/+${o}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})):this.logService.createLog({message:`${t.name} took 5 damage.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Hv(e,this.logService,this.abilityService)}}class yg extends C{logService;constructor(e,t){super({name:"CuttlefishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.opponent.getLastPets(this.level,void 0,a),d=l.pets;if(0==d.length)return;for(let U of d)U.increaseHealth(-3),this.logService.createLog({message:`${a.name} reduced ${U.name} health by 3`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:l.random});let b=a.parent.getPetsWithEquipmentWithSillyFallback("Inked",a),T=a.parent.opponent.getLastPets(this.level,b,a),F=T.pets;if(0!=F.length){for(let U of F)U.givePetEquipment(new no),this.logService.createLog({message:`${a.name} gave ${U.name} Inked.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:T.random});this.triggerTigerExecution(e)}}copy(e){return new yg(e,this.logService)}}class jv extends C{logService;constructor(e,t){super({name:"EgyptianVultureAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.petArray.filter(b=>!b.isFaintPet()),d=a.parent.nearestPetsBehind(1,a,l),p=d.pets[0];null!=p&&(this.logService.createLog({message:`${a.name} activated ${p.name}'s ability.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:d.random}),p.activateAbilities(void 0,t,"Pet"),this.triggerTigerExecution(e))}reset(){super.reset(),this.maxUses=this.level}copy(e){return new jv(e,this.logService)}}class bg extends C{logService;abilityService;constructor(e,t,i){super({name:"SaigaAntelopeAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner,l=a.parent.resolveTrumpetGainTarget(a);l.player.gainTrumpets(3*this.level,a,o,void 0,void 0,l.random),this.logService.createLog({message:`${a.name} gave ${3*this.level} trumpets after a friend died.`,type:"ability",player:a.parent,tiger:n,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new bg(e,this.logService,this.abilityService)}}class qv extends C{logService;abilityService;constructor(e,t,i){super({name:"SealionAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level,n=this.level,o=[];let a=t.petBehind();for(;a;)o.push(a),a=a.petBehind();const l=[];let d=t.petAhead;for(;d;)l.push(d),d=d.petAhead;for(const p of o)p.increaseAttack(i);for(const p of l)p.increaseHealth(n);(o.length>0||l.length>0)&&this.logService.createLog({message:`${t.name} gave friends behind +${i} attack and friends ahead +${n} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:o.length+l.length>1}),this.triggerTigerExecution(e)}copy(e){return new qv(e,this.logService,this.abilityService)}}class vg extends C{logService;constructor(e,t){super({name:"VaquitaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:o}=e,a=this.owner;let l=Math.max(Math.floor(.5*this.level*a.parent.trumpets),4*this.level);const d=a.parent.resolveTrumpetGainTarget(a);d.player.gainTrumpets(l,a,o,void 0,void 0,d.random),this.triggerTigerExecution(e)}copy(e){return new vg(e,this.logService)}}class Vv extends D{logService;abilityService;name="Smallest Slug";tier=1;pack="Golden";hidden=!0;health=1;attack=1;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Ag extends D{logService;abilityService;name="Smaller Slug";tier=1;pack="Golden";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new _g(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class _g extends C{logService;abilityService;constructor(e,t,i){super({name:"SmallerSlugAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let p=new Vv(this.logService,this.abilityService,a.parent,this.level,this.level,0,a.minExpForLevel),b=a.parent.summonPet(p,a.savedPosition,!1,a);b.success&&this.logService.createLog({message:`${a.name} spawned Smallest Slug Level ${a.level}`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:b.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new _g(e,this.logService,this.abilityService)}}class Wv extends C{logService;abilityService;constructor(e,t,i){super({name:"SlugAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let p=new Ag(this.logService,this.abilityService,a.parent,2*this.level,2*this.level,0,a.minExpForLevel),b=a.parent.summonPet(p,a.savedPosition,!1,a);b.success&&this.logService.createLog({message:`${a.name} spawned Smaller Slug Level ${a.level}`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:b.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Wv(e,this.logService,this.abilityService)}}class Kv extends C{logService;constructor(e,t){super({name:"PoisonDartFrogAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.opponent.getHighestHealthPet(void 0,a),d=l.pet;null!=d&&(a.snipePet(d,4*a.level,l.random,n),this.triggerTigerExecution(e))}copy(e){return new Kv(e,this.logService)}}class Sg extends D{logService;abilityService;petService;name="Falcon";tier=4;pack="Golden";attack=5;health=5;initAbilities(){this.addAbility(new md(this,this.logService,this.petService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class md extends C{logService;petService;abilityService;constructor(e,t,i,n){super({name:"FalconAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.petService=i,this.abilityService=n}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=3*this.level,d=this.petService.createPet({attack:l,health:l,name:i.name,exp:a.minExpForLevel,equipment:null,mana:0},a.parent),p=a.parent.summonPet(d,a.savedPosition,!1,a);p.success&&this.logService.createLog({message:`${a.name} spawned ${d.name} ${l}/${l} Level ${this.level}`,type:"ability",player:a.parent,tiger:n,randomEvent:p.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new md(e,this.logService,this.petService,this.abilityService)}}class Pg extends C{logService;abilityService;constructor(e,t,i){super({name:"MantaRayAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;let i=!1;for(let o=0;o<5;o++)if(null==t.parent.getPetAtPosition(o)){i=!0;break}i?(this.logService.createLog({message:`${t.name} will give +${2*this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Pg(e,this.logService,this.abilityService)}}class kg extends C{logService;abilityService;constructor(e,t,i){super({name:"CockatooAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(p=>p.alive&&p!==t);if(0===i.length)return void this.triggerTigerExecution(e);let n=Math.max(...i.map(p=>p.tier));const o=i.filter(p=>p.tier===n),a=$t({key:"pet.cockatoo-bought-target",label:xi(t,"Cockatoo bought target"),options:o.map(p=>({id:`${p.savedPosition+1}:${p.name}`,label:`P${p.savedPosition+1} ${p.name}`}))},()=>we(0,o.length-1)),l=o[a.index],d=2*this.level;l.increaseAttack(d),l.increaseHealth(d),this.logService.createLog({message:`${t.name} gave ${l.name} +${d}/+${d}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new kg(e,this.logService,this.abilityService)}}class wg extends C{logService;abilityUses=0;constructor(e,t){super({name:"SecretaryBirdAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.nearestPetsAhead(1,a);if(0===l.pets.length)return;let d=l.pets[0],p=3*this.level,b=4*this.level;d.increaseAttack(p),d.increaseHealth(b),this.logService.createLog({message:`${a.name} gave ${d.name} ${p} attack and ${b} health.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:l.random}),this.triggerTigerExecution(e),this.logService.createLog({message:`${a.name} triggered secretary bird ability at level ${this.level}.`,type:"ability",player:a.parent,tiger:n,pteranodon:o})}copy(e){return new wg(e,this.logService)}}class oo extends C{logService;abilityService;constructor(e,t,i){super({name:"MacaqueAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=12*this.level,d=new wk(this.logService,this.abilityService,a.parent,l,l,0,a.minExpForLevel,a.equipment),p=a.parent.summonPetInFront(a,d);if(p.success){let b=`${a.name} spawned Orangutan ${d.attack}/${d.health}`;null!=a.equipment&&(b+=` with ${a.equipment.name}`),b+=".",this.logService.createLog({message:b,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:p.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new oo(e,this.logService,this.abilityService)}}class zv extends C{logService;constructor(e,t){super({name:"NyalaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:o}=e,a=this.owner,l=a.parent.resolveTrumpetGainTarget(a);l.player.gainTrumpets(8*this.level,a,o,void 0,void 0,l.random),this.triggerTigerExecution(e)}copy(e){return new zv(e,this.logService)}}class Ko extends C{logService;constructor(e,t){super({name:"NurseSharkAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>0!=this.owner.parent.trumpets,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=3*Math.min(a.parent.trumpets,6),d=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!0,a),p=d.pets;if(0!=p.length){a.parent.spendTrumpets(Math.min(a.parent.trumpets,6),a,o);for(let b of p)a.snipePet(b,l,d.random,n,o);this.triggerTigerExecution(e)}}copy(e){return new Ko(e,this.logService)}}class kc extends D{logService;abilityService;petService;name="Beluga Whale";tier=5;pack="Golden";attack=2;health=5;initAbilities(){this.addAbility(new Xv(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b,T){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b),this.belugaSwallowedPet=T??null}}class Xv extends C{logService;abilityService;petService;constructor(e,t,i,n){super({name:"BelugaWhaleAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>{this.executeAbility(o)},ignoreRepeats:!0}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;if(null==a.belugaSwallowedPet||a.alive)return;let l=this.petService.createPet({attack:null,equipment:null,exp:this.minExpForLevel,health:null,name:a.belugaSwallowedPet,mana:0},a.parent);const d=this.level,b=l.health-l.exp;l.attack=(l.attack-l.exp)*d,l.health=b*d,l.originalAttack=l.attack,l.originalHealth=l.health;let T=a.parent.summonPet(l,a.savedPosition,!1,a);T.success&&this.logService.createLog({message:`${a.name} spawned ${l.name} Level ${this.level}`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:T.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Xv(e,this.logService,this.abilityService,this.petService)}}class fd extends D{logService;abilityService;petService;name="Wolf";tier=5;pack="Golden";attack=4;health=4;constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}initAbilities(){this.addAbility(new Jv(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class Jv extends C{logService;abilityService;petService;constructor(e,t,i,n){super({name:"WolfAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l={attack:3*this.level,health:2*this.level};for(let d=0;d<3;d++){let p=this.petService.createPet({attack:l.attack,equipment:null,exp:a.minExpForLevel,health:l.health,name:"Pig",mana:0},a.parent),b=a.parent.summonPet(p,a.savedPosition,!1,a);b.success&&this.logService.createLog({message:`${a.name} spawned ${p.name} ${l.attack}/${l.health}`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:b.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Jv(e,this.logService,this.abilityService,this.petService)}}class Eg extends C{logService;constructor(e,t){super({name:"FireAntAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.getHighestTierPets(this.level,null,a),d=l.pets;if(0!=d.length){for(let p of d)p.increaseAttack(a.attack),this.logService.createLog({message:`${a.name} gave ${p.name} ${a.attack} attack.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random,pteranodon:o});this.triggerTigerExecution(e)}}copy(e){return new Eg(e,this.logService)}}class on extends C{logService;abilityService;constructor(e,t,i){super({name:"BlueRingedOctopusAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level,n=t.parent.petArray.filter(o=>o.alive&&o!==t);if(0!==n.length){for(const o of n)o.increaseAttack(i),o.increaseHealth(i);this.logService.createLog({message:`${t.name} gave friends +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new on(e,this.logService,this.abilityService)}}class Qv extends C{logService;constructor(e,t){super({name:"CraneAbility",owner:e,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.nearestPetsAhead(1,a);if(0==l.pets.length)return;let d=l.pets[0];d.increaseAttack(5),this.logService.createLog({message:`${a.name} gave ${d.name} 5 attack.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:l.random});let p=a.parent.nearestPetsAhead(1,a);if(0==p.pets.length)return;let b=p.pets[0];b.givePetEquipment(new Ta),this.logService.createLog({message:`${a.name} gave ${b.name} Melon.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:p.random}),this.triggerTigerExecution(e)}reset(){super.reset(),this.maxUses=this.level}copy(e){return new Qv(e,this.logService)}}class Cg extends C{logService;constructor(e,t){super({name:"EmuAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.nearestPetsAhead(1,a);if(0==l.pets.length)return;let d=l.pets[0],p=4*this.level;d.increaseHealth(p),this.logService.createLog({message:`${a.name} gave ${d.name} ${p} health.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:l.random});let b=a.parent.nearestPetsAhead(1,a);if(0===b.pets.length)return;let T=b.pets[0];a.parent.pushPetToFront(T),this.logService.createLog({message:`${a.name} pushed ${T.name} to the front.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:b.random}),this.triggerTigerExecution(e)}copy(e){return new Cg(e,this.logService)}}class xg extends C{logService;constructor(e,t){super({name:"WildebeestAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>this.owner.parent.trumpets>=2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.getThis(a),d=l.pet;null!=d&&(d.givePetEquipment(new dr),this.logService.createLog({message:`${a.name} gave itself a Coconut.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:l.random}),a.parent.spendTrumpets(2,a),this.triggerTigerExecution(e))}reset(){super.reset(),this.maxUses=this.level}copy(e){return new xg(e,this.logService)}}class zo extends C{logService;constructor(e,t){super({name:"HighlandCowAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:o}=e,a=this.owner,l=4*this.level+Math.floor(a.health/3)*this.level,d=a.parent.resolveTrumpetGainTarget(a);d.player.gainTrumpets(l,a,o,void 0,void 0,d.random),this.triggerTigerExecution(e)}copy(e){return new zo(e,this.logService)}}class Zv extends C{logService;abilityService;constructor(e,t,i){super({name:"CatfishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.petAhead;if(!i)return void this.triggerTigerExecution(e);const n=this.level;if(i.hasTrigger("ThisBought")){for(let a=0;a<n;a++)i.executeAbilities("ThisBought",e.gameApi,i,void 0,void 0,{trigger:"ThisBought"});this.logService.createLog({message:`${t.name} activated ${i.name}'s buy ability ${n} time${1===n?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})}else{const a=4*this.level;i.increaseHealth(a),this.logService.createLog({message:`${t.name} gave ${i.name} +${a} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})}this.triggerTigerExecution(e)}copy(e){return new Zv(e,this.logService,this.abilityService)}}class Dg extends D{logService;abilityService;petService;name="Pteranodon";tier=6;pack="Golden";attack=3;health=5;initAbilities(){this.addAbility(new eA(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class eA extends C{logService;abilityService;petService;constructor(e,t,i,n){super({name:"PteranodonAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:o=>{const{triggerPet:a}=o;return null!=a},abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:o}=e,a=this.owner;let l=this.petService.createPet({attack:1,health:1,equipment:null,exp:i.exp,name:i.name,mana:0},a.parent),d=a.parent.summonPetBehind(a,l);d.success&&this.logService.createLog({message:`${a.name} summoned a 1/1 ${i.name} behind it.`,type:"ability",player:a.parent,randomEvent:d.randomEvent,tiger:n,pteranodon:o}),this.triggerTigerExecution(e)}reset(){super.reset(),this.maxUses=this.level}copy(e){return new eA(e,this.logService,this.abilityService,this.petService)}}class nw extends C{logService;constructor(e,t){super({name:"WarthogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=this.level,d=Math.floor(a.attack/3);for(let p=0;p<d;p++){let b=a.parent.getRandomPet([],!0,!1,!0,a);if(null==b.pet)break;b.pet.increaseAttack(l),b.pet.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${b.pet.name} ${l} attack and ${l} health.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:b.random})}this.triggerTigerExecution(e)}copy(e){return new nw(e,this.logService)}}class yd extends C{logService;constructor(e,t){super({name:"CobraAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.opponent.getRandomPet([],!1,!0,!1,a);if(null==l.pet)return;let d=Math.floor(.2*a.attack*a.level);a.snipePet(l.pet,d,l.random,n),this.triggerTigerExecution(e)}copy(e){return new yd(e,this.logService)}}class iA extends C{logService;constructor(e,t){super({name:"GrizzlyBearAbility",owner:e,triggers:["FriendlyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getRandomEnemyPetsWithSillyFallback(2,[],!0,!1,a),d=l.pets,p=6*this.level;for(let b of d)a.snipePet(b,p,l.random,n);this.triggerTigerExecution(e)}copy(e){return new iA(e,this.logService)}}class nA extends C{logService;constructor(e,t){super({name:"GermanShepherdAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,o=this.owner,l=Math.floor(o.attack*(.25*this.level)),d=ur(o,t);if(!d.pet)return;const p=d.pet;p.increaseAttack(l),Xi(this.logService,o,`${o.name} gave ${p.name} ${l} attack.`,i,n,{randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new nA(e,this.logService)}}class Ig extends C{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,i){super({name:"BirdOfParadiseAbility",owner:e,triggers:["SpendGold7","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=this.owner,i=t.parent.getRandomPets(3,[t]),n=i.pets;if(0===n.length)return void this.triggerTigerExecution(e);const o=this.level;for(const a of n)a.increaseAttack(o),a.increaseHealth(o);this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave ${n.map(a=>a.name).join(", ")} +${o}/+${o}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new Ig(e,this.logService,this.abilityService)}}class Mg extends C{logService;abilityService;constructor(e,t,i){super({name:"OysterAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${3*this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Mg(e,this.logService,this.abilityService)}}const XC={Bulldog:class Ok extends D{logService;abilityService;name="Bulldog";tier=1;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new Pv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Groundhog:Bk,"Cone Snail":class dd extends D{logService;abilityService;name="Cone Snail";tier=1;pack="Golden";attack=1;health=2;initAbilities(){this.addAbility(new kv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Goose:class kC extends D{logService;abilityService;name="Goose";tier=1;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new dg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Lemming:class $k extends D{logService;abilityService;name="Lemming";tier=1;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new hg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Pied Tamarin":class hd extends D{logService;abilityService;name="Pied Tamarin";tier=1;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new wv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Opossum:class Hk extends D{logService;abilityService;name="Opossum";tier=1;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new Cv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Silkmoth:class EL extends D{logService;abilityService;name="Silkmoth";tier=1;pack="Golden";attack=3;health=1;initAbilities(){this.addAbility(new Tv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Magpie:class Gk extends D{logService;abilityService;name="Magpie";tier=1;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new Ev(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Hercules Beetle":class CL extends D{logService;abilityService;name="Hercules Beetle";tier=2;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new jk(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Stoat:qk,"Black Necked Stilt":class Vk extends D{logService;abilityService;name="Black Necked Stilt";tier=2;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new Pc(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Squid:class wC extends D{logService;abilityService;name="Squid";tier=2;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new xv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Sea Urchin":class Wk extends D{logService;abilityService;name="Sea Urchin";tier=2;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new Xs(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Door Head Ant":class TC extends D{logService;abilityService;name="Door Head Ant";tier=2;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new Dv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Lizard:class EC extends D{logService;abilityService;name="Lizard";tier=2;pack="Golden";attack=1;health=3;initAbilities(){this.addAbility(new zk(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Sea Turtle":class CC extends D{logService;abilityService;name="Sea Turtle";tier=2;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new pg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"African Penguin":class xC extends D{logService;abilityService;name="African Penguin";tier=2;pack="Golden";attack=1;health=3;initAbilities(){this.addAbility(new Iv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Musk Ox":class Yk extends D{logService;abilityService;name="Musk Ox";tier=3;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new gg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Flea:class DC extends D{logService;abilityService;name="Flea";tier=3;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new mg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Royal Flycatcher":class IC extends D{logService;abilityService;name="Royal Flycatcher";tier=3;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new gd(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Surgeon Fish":class MC extends D{logService;abilityService;name="Surgeon Fish";tier=3;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new fg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Weasel:Rv,Guineafowl:class RC extends D{logService;abilityService;name="Guineafowl";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new Nv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Betta Fish":class Fv extends D{logService;abilityService;name="Betta Fish";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new Ov(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Meerkat:class pd extends D{logService;abilityService;name="Meerkat";tier=2;pack="Golden";attack=1;health=2;initAbilities(){this.addAbility(new Mv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Flying Fish":class Xk extends D{logService;abilityService;name="Flying Fish";tier=3;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new Bv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Baboon:class LC extends D{logService;abilityService;name="Baboon";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new $v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Osprey:class NC extends D{logService;abilityService;name="Osprey";tier=3;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new Gv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Manatee:class FC extends D{logService;abilityService;name="Manatee";tier=4;pack="Golden";attack=2;health=11;initAbilities(){this.addAbility(new Hv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Cuttlefish:class OC extends D{logService;abilityService;name="Cuttlefish";tier=4;pack="Golden";attack=8;health=4;initAbilities(){this.addAbility(new yg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Egyptian Vulture":class Jk extends D{logService;abilityService;name="Egyptian Vulture";tier=5;pack="Golden";attack=7;health=4;initAbilities(){this.addAbility(new jv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Saiga Antelope":class BC extends D{logService;abilityService;name="Saiga Antelope";tier=4;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new bg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Sealion:class $C extends D{logService;abilityService;name="Sealion";tier=4;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new qv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Vaquita:class Uv extends D{logService;abilityService;name="Vaquita";tier=4;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new vg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Slug:class GC extends D{logService;abilityService;name="Slug";tier=4;pack="Golden";attack=4;health=4;initAbilities(){this.addAbility(new Wv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Poison Dart Frog":class HC extends D{logService;abilityService;name="Poison Dart Frog";tier=4;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new Kv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Secretary Bird":class jC extends D{logService;abilityService;name="Secretary Bird";tier=4;pack="Golden";attack=3;health=5;initAbilities(){this.addAbility(new wg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Manta Ray":class Qk extends D{logService;abilityService;name="Manta Ray";tier=4;pack="Golden";attack=5;health=7;initAbilities(){this.addAbility(new Pg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Macaque:class Tg extends D{logService;abilityService;name="Macaque";tier=5;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new oo(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Nyala:class qC extends D{logService;abilityService;name="Nyala";tier=5;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new zv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Nurse Shark":class Yv extends D{logService;abilityService;name="Nurse Shark";tier=5;pack="Golden";attack=5;health=7;initAbilities(){this.addAbility(new Ko(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Fire Ant":class UC extends D{logService;abilityService;name="Fire Ant";tier=5;pack="Golden";attack=8;health=3;initAbilities(){this.addAbility(new Eg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Cockatoo:class Zk extends D{logService;abilityService;name="Cockatoo";tier=4;pack="Golden";attack=4;health=2;initAbilities(){this.addAbility(new kg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Blue Ringed Octopus":class VC extends D{logService;abilityService;name="Blue Ringed Octopus";tier=5;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new on(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Crane:class ew extends D{logService;abilityService;name="Crane";tier=5;pack="Golden";attack=6;health=5;initAbilities(){this.addAbility(new Qv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Emu:class WC extends D{logService;abilityService;name="Emu";tier=5;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new Cg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Wildebeest:class KC extends D{logService;abilityService;name="Wildebeest";tier=6;pack="Golden";attack=8;health=6;initAbilities(){this.addAbility(new xg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Highland Cow":class tw extends D{logService;abilityService;name="Highland Cow";tier=6;pack="Golden";attack=4;health=6;initAbilities(){this.addAbility(new zo(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Catfish:class zC extends D{logService;abilityService;name="Catfish";tier=6;pack="Golden";attack=4;health=6;initAbilities(){this.addAbility(new Zv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Warthog:class iw extends D{logService;abilityService;name="Warthog";tier=6;pack="Golden";attack=9;health=6;initAbilities(){this.addAbility(new nw(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Cobra:class tA extends D{logService;abilityService;name="Cobra";tier=6;pack="Golden";attack=12;health=6;initAbilities(){this.addAbility(new yd(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Grizzly Bear":class YC extends D{logService;abilityService;name="Grizzly Bear";tier=6;pack="Golden";attack=6;health=8;initAbilities(){this.addAbility(new iA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"German Shepherd":class rw extends D{logService;abilityService;name="German Shepherd";tier=6;pack="Golden";attack=10;health=6;initAbilities(){this.addAbility(new nA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Bird of Paradise":class aw extends D{logService;abilityService;name="Bird of Paradise";tier=6;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new Ig(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Oyster:class ow extends D{logService;abilityService;name="Oyster";tier=6;pack="Golden";attack=2;health=10;initAbilities(){this.addAbility(new Mg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Beluga Whale":kc,Falcon:Sg,Pteranodon:Dg,Wolf:fd};class rA extends C{logService;abilityService;constructor(e,t,i){super({name:"BakuAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if((e.gameApi?.turnNumber??0)%2!=0)return void this.triggerTigerExecution(e);const n=t.parent.petArray.filter(d=>d.alive&&d.equipment?.equipmentClass?.startsWith("ailment"));if(0===n.length)return void this.triggerTigerExecution(e);const o=[],a=[...n];for(;o.length<2&&a.length>0;){const d=$t({key:"pet.baku-end-turn-target",label:xi(t,"Baku ailment target",o.length+1),options:a.map(p=>({id:`${p.savedPosition+1}:${p.name}`,label:`P${p.savedPosition+1} ${p.name}`}))},()=>we(0,a.length-1));o.push(a[d.index]),a.splice(d.index,1)}const l=this.level;for(const d of o)d.removePerk(),d.increaseHealth(l);this.logService.createLog({message:`${t.name} replaced ailments with +${l} health on ${o.map(d=>d.name).join(", ")}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.length>o.length}),this.triggerTigerExecution(e)}copy(e){return new rA(e,this.logService,this.abilityService)}}class bd extends C{logService;abilityService;constructor(e,t,i){super({name:"QuestionMarksAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.petAhead;if(!i)return void this.triggerTigerExecution(e);const n=this.level;if(i.increaseAttack(n),Yh(i,"Spooked")){const o=new la;o.power=-1,o.originalPower=-1,i.givePetEquipment(o)}this.logService.createLog({message:`${t.name} gave ${i.name} +${n} attack and Spooked until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new bd(e,this.logService,this.abilityService)}}class aA extends C{logService;constructor(e,t){super({name:"BarghestAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let p=[...a.parent.getPetsWithEquipmentWithSillyFallback("perk",a),...a.parent.getPetsWithEquipmentWithSillyFallback("Spooked",a)],T=a.parent.opponent.getLastPets(this.level,p,a).pets;if(0!=T.length){for(let F of T)this.logService.createLog({message:`${a.name} gave ${F.name} Spooked`,type:"ability",player:a.parent,tiger:n}),F.givePetEquipment(new la);this.triggerTigerExecution(e)}}copy(e){return new aA(e,this.logService)}}class oA extends C{logService;constructor(e,t){super({name:"TsuchinokoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let d=a.parent.getThis(a).pet;if(null==d)return;a.parent.pushPetToFront(d,!0),this.logService.createLog({message:`${a.name} pushed ${d.name} to the front and gained ${this.level} experience.`,type:"ability",player:a.parent,tiger:n});let b=a.parent.getThis(a).pet;null!=b&&(b.increaseExp(this.level),this.logService.createLog({message:`${a.name} gave ${b.name} +${this.level} experience.`,type:"ability",player:a.parent,tiger:n}),this.triggerTigerExecution(e))}copy(e){return new oA(e,this.logService)}}class Rg extends C{logService;constructor(e,t){super({name:"MurmelAbility",owner:e,triggers:["FriendGainedExp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=this.level,p=a.parent.getThis(a).pet;null!=p&&(this.logService.createLog({message:`${a.name} gave ${p.name} ${l} attack.`,type:"ability",player:a.parent,tiger:n}),p.increaseAttack(l),this.triggerTigerExecution(e))}copy(e){return new Rg(e,this.logService)}}class wc extends C{logService;constructor(e,t){super({name:"AlchemedesAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.nearestPetsAhead(1,a);if(0===l.pets.length)return;let d=l.pets[0];this.logService.createLog({message:`${a.name} gave ${d.name} ${this.level} mana.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),d.increaseMana(this.level),this.triggerTigerExecution(e)}copy(e){return new wc(e,this.logService)}}class Lg extends C{logService;constructor(e,t){super({name:"PengobbleAbility",owner:e,triggers:["ThisGainedMana"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner,l=2*this.level;let d=a.parent.getThis(a),p=d.pet;null!=p&&(this.logService.createLog({message:`${a.name} gave ${p.name} an extra ${l} bonus mana.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),a.mana+=l,this.triggerTigerExecution(e))}copy(e){return new Lg(e,this.logService)}}class Ng extends C{logService;constructor(e,t){super({name:"BunyipAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,a=this.owner;let d;d=a.parent==t.player?t.playerRollAmount:t.opponentRollAmount,d=Math.min(2,d)*this.level;let b=a.parent.getThis(a).pet;null!=b&&(b.increaseHealth(d),this.logService.createLog({message:`${a.name} gave ${b.name} ${d} health.`,type:"ability",player:a.parent,tiger:n}),this.triggerTigerExecution(e))}copy(e){return new Ng(e,this.logService)}}class uw extends D{logService;abilityService;name="CrackedEgg";tier=1;pack="Unicorn";hidden=!0;attack=4;health=2;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Fg extends C{logService;abilityService;constructor(e,t,i){super({name:"SneakyEggAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;let l={attack:4*this.level,health:2*this.level};a.health=0,a.parent.handleDeath(a),a.parent.removeDeadPets();let d=new uw(this.logService,this.abilityService,a.parent,l.health,l.attack,0),p=a.parent.summonPet(d,a.savedPosition,!1,a);p.success&&this.logService.createLog({message:`${a.name} spawned a ${l.attack}/${l.health} Cracked Egg`,type:"ability",player:a.parent,tiger:n,randomEvent:p.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Fg(e,this.logService,this.abilityService)}}class Og extends C{logService;abilityService;constructor(e,t,i){super({name:"CuddleToadAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked a witch toy that breaks after ${2*this.level} turns.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Og(e,this.logService,this.abilityService)}}class Bg extends C{logService;abilityService;constructor(e,t,i){super({name:"GhostKittenAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){}copy(e){return new Bg(e,this.logService,this.abilityService)}}class $g extends C{logService;constructor(e,t){super({name:"FrostWolfAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.getPetsWithEquipmentWithSillyFallback("Cold",a),d=a.parent.opponent.getFurthestUpPet(a,l),p=d.pet;if(null==p)return;const b=new Gy;b.multiplier+=this.level-1,b.baseMultiplier=b.multiplier;let T=".";2===this.level?T=" twice for double effect.":3===this.level&&(T=" thrice for triple effect."),this.logService.createLog({message:`${a.name} made ${p.name} Cold${T}`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:d.random}),p.givePetEquipment(b),this.triggerTigerExecution(e)}copy(e){return new $g(e,this.logService)}}class Gg extends C{logService;constructor(e,t){super({name:"MothmanAbility",owner:e,triggers:["AnyoneGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner,l=this.level;let p=a.parent.getThis(a).pet;null!=p&&(this.logService.createLog({message:`${a.name} gave ${p.name} +${l} attack and +${l} health.`,type:"ability",player:a.parent,tiger:n}),p.increaseAttack(l),p.increaseHealth(l),this.triggerTigerExecution(e))}copy(e){return new Gg(e,this.logService)}}class Tc extends C{logService;constructor(e,t){super({name:"DropBearAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;this.logService.createLog({message:`${a.name} pushed itself to the front.`,type:"ability",player:a.parent,tiger:n,pteranodon:o}),a.parent.pushPetToFront(a,!0);let l=3*this.level,d=a.parent.opponent.getLastPet();null!=d.pet&&(a.snipePet(d.pet,l,d.random,n),this.triggerTigerExecution(e))}copy(e){return new Tc(e,this.logService)}}class Hg extends C{logService;constructor(e,t){super({name:"JackalopeAbility",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:n}=i,l=qt(this.owner,n).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,a=this.owner;let d=qt(a,i).pet;if(null==d)return;let p=this.level;a.jumped&&(p*=2),d.increaseAttack(p),this.logService.createLog({message:`${a.name} gave ${d.name} +${p} attack.`,type:"ability",player:this.owner.parent}),this.triggerTigerExecution(e)}copy(e){return new Hg(e,this.logService)}}class jg extends C{logService;constructor(e,t){super({name:"OgopogoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner,l=a.parent.getFurthestUpPets(this.level,[a],a),d=l.pets;if(0!==d.length){for(const p of d)this.logService.createLog({message:`${a.name} gave ${p.name} +1 experience.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),p.increaseExp(1);this.triggerTigerExecution(e)}}copy(e){return new jg(e,this.logService)}}class qg extends C{logService;constructor(e,t){super({name:"ThunderbirdAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.nearestPetsAhead(2,a);if(l.pets.length<1)return;let p=l.pets[1]??l.pets[0];if(null==p)return;let b=3*this.level;this.logService.createLog({message:`${a.name} gave ${p.name} ${b} mana.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),p.increaseMana(b),this.triggerTigerExecution(e)}copy(e){return new qg(e,this.logService)}}class Ug extends C{logService;constructor(e,t){super({name:"GargoyleAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.mana*this.level;l+=2*this.level;let d=a.parent.nearestPetsBehind(1,a);if(0===d.pets.length)return;let p=d.pets[0];this.logService.createLog({message:`${a.name} spent ${a.mana} mana and gave ${l} health to ${p.name}.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:d.random}),p.increaseHealth(l),a.mana=0,this.triggerTigerExecution(e)}copy(e){return new Ug(e,this.logService)}}class Ad extends C{logService;abilityService;constructor(e,t,i){super({name:"BigfootAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} will gain ${i} free ${1===i?"roll":"rolls"} next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Ad(e,this.logService,this.abilityService)}}class _d extends C{logService;abilityService;constructor(e,t,i){super({name:"WyvernAbility",owner:e,triggers:["FriendlyLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} will grant ${i} extra shop reward${1===i?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _d(e,this.logService,this.abilityService)}}class Vg extends C{logService;constructor(e,t){super({name:"LuckyCatAbility",owner:e,triggers:["ThisLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=2;3==a.level&&(l=4);let p=a.parent.getThis(a).pet;null!=p&&(this.logService.createLog({message:`${a.name} gave ${p.name} ${l} attack and ${l} health.`,type:"ability",player:a.parent,tiger:n}),p.increaseAttack(l),p.increaseHealth(l),this.triggerTigerExecution(e))}copy(e){return new Vg(e,this.logService)}}class uA extends C{logService;constructor(e,t){super({name:"SkeletonDogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getRandomPets(this.level,[a],!0,!1,a);for(let d of l.pets)null!=d&&(this.logService.createLog({message:`${a.name} gave 1 attack and 1 health to ${d.name}.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),d.increaseAttack(1),d.increaseHealth(1));this.triggerTigerExecution(e)}copy(e){return new uA(e,this.logService)}}class dA extends C{logService;constructor(e,t){super({name:"MandrakeAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getPetsWithEquipmentWithSillyFallback("Dazed",a),p=this.getTargetPrioritizingFaintPets(l,a).pet;null!=p&&(this.logService.createLog({message:`${a.name} made ${p.name} Dazed.`,type:"ability",player:a.parent,tiger:n,randomEvent:!0}),p.givePetEquipment(new Eh),this.triggerTigerExecution(e))}getTargetPrioritizingFaintPets(e,t){const i=2*this.level,n=t.parent.opponent.petArray.filter(o=>o.alive&&o.tier<=i&&!e.includes(o)&&o.isFaintPet());return n.length>0?{pet:n[we(0,n.length-1)],random:n.length>1}:t.parent.opponent.getTierXOrLowerPet(i,e,t)}copy(e){return new dA(e,this.logService)}}class hA extends C{logService;constructor(e,t){super({name:"FurBearingTroutAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=[],d=a;for(;l.length<this.level;){let p=d.petBehind();if(null==p)break;p.equipment instanceof xp||l.push(p),d=p}if(0!==l.length){for(let p of l)this.logService.createLog({message:`${a.name} gave ${p.name} a Rambutan.`,type:"ability",player:a.parent,tiger:n}),p.givePetEquipment(new xp(this.logService));this.triggerTigerExecution(e)}}copy(e){return new hA(e,this.logService)}}class pA extends C{logService;constructor(e,t){super({name:"ManaHoundAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,a=this.owner;let d;if(d=a.parent==t.player?t.playerRollAmount:t.opponentRollAmount,d=Math.max(0,Math.min(d??0,3)),0===d)return;let p=a.parent.nearestPetsAhead(1,a);if(0===p.pets.length)return;let b=p.pets[0],T=d*this.level*2;this.logService.createLog({message:`${a.name} gave ${b.name} ${T} mana.`,type:"ability",player:a.parent,tiger:n,randomEvent:p.random}),b.increaseMana(T),this.triggerTigerExecution(e)}copy(e){return new pA(e,this.logService)}}class gA extends C{logService;constructor(e,t){super({name:"CalygreyhoundAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;if(0==a.mana)return;let l=a.parent.opponent.getHighestHealthPets(2,void 0,a),d=this.level*a.mana;for(let p of l.pets)p.health=Math.max(1,p.health-d),this.logService.createLog({message:`${a.name} reduced ${p.name}'s health by ${d} to ${p.health}.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random});a.mana=0,this.triggerTigerExecution(e)}copy(e){return new gA(e,this.logService)}}class mA extends C{logService;constructor(e,t){super({name:"BrainCrampAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=2*this.level,p=a.parent.getThis(a).pet;if(null==p)return;this.logService.createLog({message:`${a.name} pushed ${p.name} to the front.`,type:"ability",player:a.parent,tiger:n,pteranodon:o}),a.parent.pushPetToFront(p,!0);let T=a.parent.getThis(a).pet;if(null==T)return;this.logService.createLog({message:`${a.name} gave ${T.name} Melon.`,type:"ability",player:a.parent,tiger:n,pteranodon:o}),T.givePetEquipment(new Ta);let U=a.parent.getThis(a).pet;null!=U&&(this.logService.createLog({message:`${a.name} gave ${U.name} ${l} attack.`,type:"ability",player:a.parent,tiger:n,pteranodon:o}),U.increaseAttack(l),this.triggerTigerExecution(e))}copy(e){return new mA(e,this.logService)}}class Wg extends C{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=5;constructor(e,t,i){super({name:"OuroborosAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=this.owner,i=this.level;this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave newly rolled shop pets +${i}/+${i} until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Wg(e,this.logService,this.abilityService)}}class Sd extends C{logService;abilityService;constructor(e,t,i){super({name:"GriffinAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} chose a level ${this.level} toy from Griffin's collection.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Sd(e,this.logService,this.abilityService)}}class Pd extends C{logService;constructor(e,t){super({name:"TatzelwurmAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=2*this.level;i&&3==i.level&&(l*=2);let d=a.parent.opponent.getFurthestUpPet(a);null!=d.pet&&(a.snipePet(d.pet,l,d.random,n),this.triggerTigerExecution(e))}copy(e){return new Pd(e,this.logService)}}class fA extends C{logService;constructor(e,t){super({name:"MinotaurAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;if(!i)return;let l=this.level*i.level,d=a.parent.getThis(a),p=d.pet;null!=p&&(this.logService.createLog({message:`${a.name} gave ${p.name} ${l} attack and ${l} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),p.increaseAttack(l),p.increaseHealth(l),this.triggerTigerExecution(e))}copy(e){return new fA(e,this.logService)}}class bA extends C{logService;constructor(e,t){super({name:"KrakenAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getAll(!0,a,!0),d=l.pets;if(0!=d.length){for(let p of d){let b=1==this.level?.15:2==this.level?.3:.45,T=Math.max(1,Math.floor(p.health*(1-b)));p.health=T,this.logService.createLog({message:`${a.name} reduced ${p.name} health by ${(100*b).toFixed(0)}% to ${T}`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random})}this.triggerTigerExecution(e)}}copy(e){return new bA(e,this.logService)}}class Kg extends C{logService;constructor(e,t){super({name:"VisitorAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner,p=[...a.parent.nearestPetsBehind(this.level,a).pets,...a.parent.opponent.getFurthestUpPets(this.level).pets].filter(b=>b.alive&&"Icky"!==b.equipment?.name).filter((b,T,F)=>F.indexOf(b)===T);if(0!=p.length){for(let b of p)b.givePetEquipment(new io),this.logService.createLog({message:`${a.name} made ${b.name} Icky.`,type:"ability",player:a.parent,tiger:n,pteranodon:o});this.triggerTigerExecution(e)}}copy(e){return new Kg(e,this.logService)}}class vA extends C{logService;constructor(e,t){super({name:"TigerBugAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let d=a.parent.getThis(a).pet;if(null==d)return;this.logService.createLog({message:`${a.name} pushed ${d.name} to the front.`,type:"ability",player:a.parent,tiger:n,pteranodon:o}),a.parent.pushPetToFront(d,!0);let p=a.parent.opponent.getFurthestUpPets(2,[],a),b=p.pets;if(0==b.length)return;let T=3*this.level;for(let F of b)null!=F&&a.snipePet(F,T,p.random,n);this.triggerTigerExecution(e)}copy(e){return new vA(e,this.logService)}}class Ec extends C{logService;constructor(e,t){super({name:"CyclopsAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:n}=i,l=qt(this.owner,n).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=2*this.level,d=qt(a,i),p=d.pet;if(null!=p){if(this.logService.createLog({message:`${a.name} gave ${p.name} ${l} mana.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),p.increaseMana(l),this.currentUses<this.level){let b=qt(a,i),T=b.pet;if(null==T)return;this.logService.createLog({message:`${a.name} gave ${T.name} 1 exp.`,type:"ability",player:a.parent,tiger:n,randomEvent:b.random}),T.increaseExp(1)}this.triggerTigerExecution(e)}}copy(e){return new Ec(e,this.logService)}}class AA extends D{logService;abilityService;name="Chimera Goat";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class _A extends D{logService;abilityService;name="Chimera Lion";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class SA extends D{logService;abilityService;name="Chimera Snake";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class zg extends C{logService;abilityService;constructor(e,t,i){super({name:"ChimeraAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner,l=a.mana,d=l/2,p=Math.floor(3+1*d),b=Math.floor(3+2*d);l>0&&this.logService.createLog({message:`${a.name} spent ${l} mana.`,type:"ability",player:a.parent,tiger:n,pteranodon:o});let T=new _A(this.logService,this.abilityService,a.parent,b,p),F=a.parent.summonPet(T,a.savedPosition,!1,a);if(F.success&&this.logService.createLog({message:`${a.name} spawned a ${T.name} ${p}/${b}.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:F.randomEvent}),this.level>=2){let U=new AA(this.logService,this.abilityService,a.parent,b,p),ee=a.parent.summonPet(U,a.savedPosition,!1,a);ee.success&&this.logService.createLog({message:`${a.name} spawned a ${U.name} ${p}/${b}.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:ee.randomEvent})}if(this.level>=3){let U=new SA(this.logService,this.abilityService,a.parent,b,p),ee=a.parent.summonPet(U,a.savedPosition,!1,a);ee.success&&this.logService.createLog({message:`${a.name} spawned a ${U.name} ${p}/${b}.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:ee.randomEvent})}a.mana=0,this.triggerTigerExecution(e)}copy(e){return new zg(e,this.logService,this.abilityService)}}class Yg extends C{logService;constructor(e,t){super({name:"RocAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let d=a.parent.nearestPetsAhead(5,a).pets;if(0==d.length)return;let p=a.parent.petArray.filter(b=>b==a||!d.includes(b));for(let b=0;b<3*this.level;b++){let T=a.parent.getRandomPet(p,!0,!1,!1,a);if(null==T.pet)break;this.logService.createLog({message:`${a.name} gave ${T.pet.name} 2 mana.`,type:"ability",player:a.parent,tiger:n,randomEvent:T.random}),T.pet.increaseMana(2)}this.triggerTigerExecution(e)}copy(e){return new Yg(e,this.logService)}}class PA extends C{logService;abilityService;constructor(e,t,i){super({name:"WormOfSandAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,n=Math.min(Math.max((t.parent===e.gameApi.player?e.gameApi.playerRollAmount:e.gameApi.opponentRollAmount)??0,0),8),o=Math.floor(n/4);if(o<=0)return void this.triggerTigerExecution(e);const a=this.level*o,l=Fo(t);for(const d of l)d.increaseAttack(a),d.increaseHealth(a);l.length>0&&this.logService.createLog({message:`${t.name} gave adjacent friends +${a}/+${a}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:l.length>1}),this.triggerTigerExecution(e)}copy(e){return new PA(e,this.logService,this.abilityService)}}class Xg extends D{logService;abilityService;petService;name="Abomination";tier=4;pack="Unicorn";attack=6;health=5;initAbilities(){this.addAbility(new kA(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b,T,F,U,ee,Z,se,ve,Te,Ke){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b),this.abominationSwallowedPet1=T,this.abominationSwallowedPet2=F,this.abominationSwallowedPet3=U,this.abominationSwallowedPet1Level=ee??1,this.abominationSwallowedPet2Level=Z??1,this.abominationSwallowedPet3Level=se??1,this.abominationSwallowedPet1TimesHurt=ve??0,this.abominationSwallowedPet2TimesHurt=Te??0,this.abominationSwallowedPet3TimesHurt=Ke??0}}class kA extends C{logService;petService;constructor(e,t,i){super({name:"AbominationAbility",owner:e,triggers:["EndTurn","SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:n,pteranodon:o}=e,a=this.owner,l=this.level,d=Z=>{const se={};for(const ve of Ea){const Te=Z.nested(ve),Ke=Bo("parrotCopyPetAbominationSwallowedPet",ve);se[Ke.base]=ji(a,Te.base,null),se[Ke.belugaSwallowedPet]=ji(a,Te.belugaSwallowedPet,null),se[Ke.sarcasticFringeheadSwallowedPet]=ji(a,Te.sarcasticFringeheadSwallowedPet,null),se[Ke.level]=Ca(a,Te.level,1),se[Ke.timesHurt]=Ca(a,Te.timesHurt,0)}return se},p=Z=>{const se={};for(const ve of Ea){const Te=Bo("parrotCopyPetAbominationSwallowedPet",ve);se[Te.base]=Z[Te.base]??void 0,se[Te.belugaSwallowedPet]=Z[Te.belugaSwallowedPet]??void 0,se[Te.sarcasticFringeheadSwallowedPet]=Z[Te.sarcasticFringeheadSwallowedPet]??void 0,se[Te.level]=Z[Te.level]??void 0,se[Te.timesHurt]=Z[Te.timesHurt]??void 0}return se},T=Z=>{Tu(a,"parrotCopyPet",Z.parrotCopyPet??null),Tu(a,"parrotCopyPetBelugaSwallowedPet",Z.parrotCopyPetBelugaSwallowedPet??null);for(const se of Ea){const ve=Bo("parrotCopyPetAbominationSwallowedPet",se);Tu(a,ve.base,ji(Z,ve.base,null)),Tu(a,ve.belugaSwallowedPet,ji(Z,ve.belugaSwallowedPet,null)),Tu(a,ve.sarcasticFringeheadSwallowedPet,ji(Z,ve.sarcasticFringeheadSwallowedPet,null)),AS(a,ve.level,Ca(Z,ve.level,1)),AS(a,ve.timesHurt,Ca(Z,ve.timesHurt,0))}},U=Ea.map(Z=>(Z=>{const se=Bo("abominationSwallowedPet",Z);return{name:ji(a,se.base,null),level:Ca(a,se.level,1),timesHurt:Ca(a,se.timesHurt,0),belugaSwallowedPet:ji(a,se.belugaSwallowedPet,null),sarcasticFringeheadSwallowedPet:ji(a,se.sarcasticFringeheadSwallowedPet,null),parrotCopyPet:ji(a,se.parrotCopyPet,null),parrotCopyPetBelugaSwallowedPet:ji(a,se.parrotCopyPetBelugaSwallowedPet,null),...d(se)}})(Z)).filter(Z=>null!=Z.name).slice(0,l);let ee=U;n&&U.length>0&&(ee=U.slice(0,1));for(let Z of ee){if(!Z.name)continue;const se=Z.name,ve="Parrot"===se?p(Z):{},Te={attack:0,health:0,mana:0,equipment:null,name:se,exp:0,timesHurt:Z.timesHurt??0,belugaSwallowedPet:"Beluga Whale"===se?ji(Z,"belugaSwallowedPet",null)??void 0:void 0,sarcasticFringeheadSwallowedPet:"Sarcastic Fringehead"===se?ji(Z,"sarcasticFringeheadSwallowedPet",null)??void 0:void 0,parrotCopyPet:"Parrot"===se?ji(Z,"parrotCopyPet",null)??void 0:void 0,parrotCopyPetBelugaSwallowedPet:"Parrot"===se?ji(Z,"parrotCopyPetBelugaSwallowedPet",null)??void 0:void 0};Object.assign(Te,ve);let Ke=this.petService.createPet(Te,a.parent);if(!Ke)continue;"Beluga Whale"===se&&(a.belugaSwallowedPet=Z.belugaSwallowedPet??null),"Sarcastic Fringehead"===se&&(a.sarcasticFringeheadSwallowedPet=Z.sarcasticFringeheadSwallowedPet??null),"Parrot"===se&&T(Z),a.removeAbility("AbominationAbility");const et=a.abilityList.length;if(a.gainAbilities(Ke,"Pet",Z.level??1),"Parrot"===se){const Je=a.abilityList.slice(et).filter(Ge=>"ParrotAbility"===Ge.name);for(const Ge of Je)Ge.execute(t,i,n,o)}}this.triggerTigerExecution(e)}copy(e){return new kA(e,this.logService,this.petService)}}class Jg extends C{logService;constructor(e,t){super({name:"UnicornAbility",owner:e,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>{const{triggerPet:n}=i,l=qt(this.owner,n).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,a=this.owner;let l=2*this.level;if(!i)return;this.logService.createLog({message:`${a.name} removed ailment from ${i.name}.`,type:"ability",player:a.parent}),i.removePerk();let d=qt(a,i),p=d.pet;null!=p&&(this.logService.createLog({message:`${a.name} gave ${p.name} ${l} attack and ${l} health.`,type:"ability",player:a.parent,randomEvent:d.random}),p.increaseAttack(l),p.increaseHealth(l),this.triggerTigerExecution(e))}copy(e){return new Jg(e,this.logService)}}class Qg extends C{logService;constructor(e,t){super({name:"VampireBatAbility",owner:e,triggers:["EnemyGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,precondition:i=>{const{triggerPet:n}=i,l=Bl(this.owner,n).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=4*this.level,p=Bl(a,i).pet;if(null==p)return;const b=p.health;let T=a.snipePet(p,l,!1,n),F=Math.min(T,b),U=a.parent.getThis(a),ee=U.pet;null!=ee&&(this.logService.createLog({message:`${a.name} gave ${ee.name} ${F} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:U.random}),ee.increaseHealth(F),this.triggerTigerExecution(e))}copy(e){return new Qg(e,this.logService)}}class Zg extends C{logService;constructor(e,t){super({name:"RedDragonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getPetsWithEquipmentWithSillyFallback("Crisp",a),d=a.parent.opponent.getLastPets(this.level,l,a),p=d.pets;if(0!=p.length){for(let b of p)this.logService.createLog({message:`${a.name} gave ${b.name} Crisp.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),b.givePetEquipment(new Il);this.triggerTigerExecution(e)}}copy(e){return new Zg(e,this.logService)}}class wA extends C{logService;constructor(e,t){super({name:"LovelandFrogmanAbility",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:n}=i,o=this.owner,l=qt(o,n).pet;return!!l&&l.alive&&!o.targettedFriends.has(l)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,a=this.owner;let l={attack:1*a.level,health:2*a.level},d=qt(a,i),p=d.pet;null!=p&&(this.logService.createLog({message:`${a.name} gave ${p.name} ${l.attack} attack and ${l.health} health.`,type:"ability",player:a.parent,randomEvent:d.random}),p.increaseAttack(l.attack),p.increaseHealth(l.health),a.targettedFriends.add(p),this.triggerTigerExecution(e))}copy(e){return new wA(e,this.logService)}}class ww extends C{logService;pendingBuffs=new Map;constructor(e,t){super({name:"JerseyDevilAbility",owner:e,triggers:["FriendSummoned","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:n,pteranodon:o}=e,a=this.owner;if("EndTurn"===e.trigger)return this.resetBuffs(),void this.triggerTigerExecution(e);if(!i)return;let d=a.parent===t.player?t.playerLevel3Sold:t.opponentLevel3Sold;d=Math.min(d??0,5);const p=this.level*d,b=ur(a,i,(U,ee)=>U.parent.getSpecificPet(U,ee));if(!b.pet||p<=0)return;const T=b.pet;T.increaseAttack(p),T.increaseHealth(p);const F=this.pendingBuffs.get(T)??{attack:0,health:0};this.pendingBuffs.set(T,{attack:F.attack+p,health:F.health+p}),Xi(this.logService,a,`${a.name} gave ${T.name} ${p} attack and ${p} health until next turn.`,n,o,{randomEvent:b.random}),this.triggerTigerExecution(e)}resetBuffs(){for(const[e,t]of this.pendingBuffs)e&&(t.attack&&e.increaseAttack(-t.attack),t.health&&e.increaseHealth(-t.health));this.pendingBuffs.clear()}copy(e){return new ww(e,this.logService)}}class TA extends C{logService;constructor(e,t){super({name:"PixiuAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;a.mana<4||(this.logService.createLog({message:`${a.name} spent 4 mana and gained ${3*this.level} gold for next turn.`,type:"ability",player:a.parent,tiger:n}),a.mana-=4,this.triggerTigerExecution(e))}copy(e){return new TA(e,this.logService)}}class EA extends C{logService;constructor(e,t){super({name:"KitsuneAbility",owner:e,triggers:["FriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner,l=a.petAhead;if(!l||!l.alive)return;let d=0;const p=a.parent.petArray.filter(b=>b.mana>0&&b!==a&&b!==l);for(let b of p){const T=b.mana;d+=T,b.mana=0,this.logService.createLog({message:`${a.name} took ${T} mana from ${b.name}.`,type:"ability",player:a.parent,tiger:n})}this.logService.createLog({message:`${a.name} gave ${l.name} +${d+2*a.level} mana.`,type:"ability",player:a.parent,tiger:n}),l.increaseMana(d+2*a.level),this.triggerTigerExecution(e)}copy(e){return new EA(e,this.logService)}}class Tw extends D{logService;abilityService;name="Nessie?";tier=1;pack="Unicorn";hidden=!0;health=2;attack=1;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class em extends C{logService;abilityService;constructor(e,t,i){super({name:"NessieAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:o}=e,a=this.owner,p=3*this.level,b=3*this.level;let T=p,F=b,U="";const ee=!a.parent.summonedBoatThisBattle;if(ee){const Te=(a.parent===t.player?t.playerRollAmount:t.opponentRollAmount)*this.level;T+=Te,F+=Te,a.parent.summonedBoatThisBattle=!0}T=Math.min(50,T),F=Math.min(50,F),ee&&(U=` It's the first Boat, so it gains +${Math.max(0,T-p)}/+${Math.max(0,F-b)}!`);let Z=new Tw(this.logService,this.abilityService,a.parent,F,T,0),se=a.parent.summonPet(Z,a.savedPosition,!1,a);se.success&&this.logService.createLog({message:`${a.name} spawned a Nessie? ${T}/${F}${U}`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:se.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new em(e,this.logService,this.abilityService)}}class CA extends C{logService;abilityService;constructor(e,t,i){super({name:"BadDogAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} chose a level ${this.level} toy that brings doom and chaos!`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new CA(e,this.logService,this.abilityService)}}class xA extends C{logService;constructor(e,t){super({name:"WerewolfAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i}=e,n=this.owner;if((t?.turnNumber??1)%2!=0&&t?.mana){const d=6*this.level;let b=n.parent.getThis(n).pet;if(null==b)return;b.increaseMana(d),this.logService.createLog({message:`${n.name} gave ${b.name} ${d} mana.`,type:"ability",player:n.parent,tiger:i})}else{let p=n.parent.getThis(n).pet;if(null==p)return;let b=.5*this.level;const T=Math.floor(n.attack*b),F=Math.floor(n.health*b);let U=Math.min(50,n.attack+T),ee=Math.min(50,n.health+F);this.logService.createLog({message:`${n.name} increased ${p.name}'s stats by ${100*b}% (${U}/${ee}).`,type:"ability",player:n.parent,tiger:i}),p.increaseAttack(T),p.increaseHealth(F)}this.triggerTigerExecution(e)}copy(e){return new xA(e,this.logService)}}class Cc extends C{logService;constructor(e,t){super({name:"AmalgamationAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,precondition:i=>{const{triggerPet:n}=i;return!!n&&!!ur(this.owner,n,(a,l)=>a.parent.getSpecificPet(a,l)).pet},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:o}=e,a=this.owner,l=ur(a,i,(T,F)=>T.parent.getSpecificPet(T,F)),d=l.pet;if(!d)return;const p=3*this.level,b=4*this.level;Xi(this.logService,a,`${a.name} gave ${d.name} +${p} attack, +${b} mana, and Spooked.`,n,o,{randomEvent:l.random}),d.increaseAttack(p),d.increaseMana(b),d.givePetEquipment(new la),this.triggerTigerExecution(e)}copy(e){return new Cc(e,this.logService)}}class DA extends C{logService;abilityService;constructor(e,t,i){super({name:"ManticoreAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){}copy(e){return new DA(e,this.logService,this.abilityService)}}class IA extends D{logService;abilityService;name="Young Phoenix";tier=1;pack="Unicorn";hidden=!0;health=6;attack=6;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class MA extends C{logService;abilityService;constructor(e,t,i){super({name:"PhoenixAfterFaintAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=4*this.level,d=new IA(this.logService,this.abilityService,a.parent,l,l,0),p=a.parent.summonPet(d,a.savedPosition,!1,a);p.success&&this.logService.createLog({message:`${a.name} spawned a Young Phoenix (${l}/${l}).`,type:"ability",player:a.parent,tiger:n,pteranodon:o,sourcePet:a,randomEvent:p.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new MA(e,this.logService,this.abilityService)}}class Ra extends C{logService;constructor(e,t){super({name:"PhoenixFaintAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=3*this.level,p=[...a.parent.petArray,...a.parent.opponent.petArray].filter(F=>F.equipment instanceof Il),b=a.parent.getRandomPets(l,p,!0,!0,a,!0),T=b.pets;if(T.length>0)for(let F of T)this.logService.createLog({message:`${a.name} gave ${F.name} Crisp.`,type:"ability",randomEvent:b.random,tiger:n,player:a.parent}),F.givePetEquipment(new Il);this.triggerTigerExecution(e)}copy(e){return new Ra(e,this.logService)}}class RA extends C{logService;abilityService;constructor(e,t,i){super({name:"QuetzalcoatlAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(o=>o.alive&&o!==t&&o.tier<=3);if(0===i.length)return void this.triggerTigerExecution(e);const n=this.level;for(let o=0;o<n;o++){const a=$t({key:"pet.quetzalcoatl-end-turn-target",label:xi(t,"Quetzalcoatl end turn target",o+1),options:i.map(d=>({id:`${d.savedPosition+1}:${d.name}`,label:`P${d.savedPosition+1} ${d.name}`}))},()=>we(0,i.length-1)),l=i[a.index];l.increaseExp(2),this.logService.createLog({message:`${t.name} gave ${l.name} +2 experience.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new RA(e,this.logService,this.abilityService)}}class Ew extends C{logService;constructor(e,t){super({name:"TeamSpiritAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getAll(!1,a,!0),d=l.pets,p={attack:a.level,health:a.level};for(let b of d)this.logService.createLog({message:`${a.name} gave ${b.name} ${p.attack} attack and ${p.health} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),b.increaseAttack(p.attack),b.increaseHealth(p.health);this.triggerTigerExecution(e)}copy(e){return new Ew(e,this.logService)}}class LA extends C{logService;constructor(e,t){super({name:"SleipnirAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=Math.floor(a.attack/2),d=a.parent.getFurthestUpPets(this.level,[a],a),p=d.pets;if(0!=p.length){for(let b of p)null!=b&&(this.logService.createLog({message:`${a.name} gave ${b.name} ${l} mana.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),b.increaseMana(l));this.triggerTigerExecution(e)}}copy(e){return new LA(e,this.logService)}}class FA extends C{logService;constructor(e,t){super({name:"SeaSerpentAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner,d=e.seaSerpentMana??a.mana;if(0==d)return;null==e.seaSerpentMana&&(e.seaSerpentMana=d,a.mana=0);let p=d;this.logService.createLog({message:`${a.name} spent ${d} mana.`,type:"ability",player:a.parent,tiger:n,pteranodon:o});let T=a.parent.opponent.getHighestHealthPet(void 0,a);null!=T.pet&&a.snipePet(T.pet,p,T.random,n,o);let F=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,[T.pet],null,!0,a);for(let U of F.pets)null!=U&&a.snipePet(U,p,F.random,n,o);this.triggerTigerExecution(e)}copy(e){return new FA(e,this.logService)}}class OA extends C{logService;abilityService;constructor(e,t,i){super({name:"YetiAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} rolled ${4*this.level} times while freezing pet copies and tier 6 food.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new OA(e,this.logService,this.abilityService)}}class xw extends D{logService;abilityService;name="Fire Pup";tier=1;pack="Unicorn";hidden=!0;health=8;attack=8;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Ed extends C{logService;abilityService;constructor(e,t,i){super({name:"CerberusAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:n=>null==this.owner.parent.pet0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;let d=new xw(this.logService,this.abilityService,a.parent,8,8,null,5),p=a.parent.summonPet(d,0,!1,a);p.success&&this.logService.createLog({message:`${a.name} spawned Fire Pup (8/8).`,type:"ability",player:a.parent,tiger:n,sourcePet:a,randomEvent:p.randomEvent}),this.triggerTigerExecution(e)}reset(){this.maxUses=this.level,super.reset()}copy(e){return new Ed(e,this.logService,this.abilityService)}}class BA extends D{logService;abilityService;name="Head";tier=1;pack="Unicorn";hidden=!0;health=5;attack=5;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Dc extends C{logService;abilityService;constructor(e,t,i){super({name:"HydraAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=Math.floor(a.attack/10);for(let d=0;d<l;d++){let p=5*this.level,b=new BA(this.logService,this.abilityService,a.parent,p,p),T=a.parent.summonPet(b,a.savedPosition,!1,a);T.success&&this.logService.createLog({message:`${a.name} spawned Head (${b.attack}/${b.health}).`,type:"ability",player:a.parent,tiger:n,pteranodon:o,sourcePet:a,randomEvent:T.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Dc(e,this.logService,this.abilityService)}}class Dw extends C{logService;abilityService;constructor(e,t,i){super({name:"BehemothAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){}copy(e){return new Dw(e,this.logService,this.abilityService)}}const Iw={Baku:class JC extends D{logService;abilityService;name="Baku";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new rA(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Barghest:class vd extends D{logService;abilityService;name="Barghest";tier=1;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new aA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Tsuchinoko:class sw extends D{logService;abilityService;name="Tsuchinoko";tier=1;pack="Unicorn";attack=2;health=1;initAbilities(){this.addAbility(new oA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Murmel:class ZC extends D{logService;abilityService;name="Murmel";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new Rg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Alchemedes:class lw extends D{logService;abilityService;name="Alchemedes";tier=1;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new wc(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Pengobble:class ex extends D{logService;abilityService;name="Pengobble";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new Lg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Bunyip:class cw extends D{logService;abilityService;name="Bunyip";tier=1;pack="Unicorn";attack=3;health=1;initAbilities(){this.addAbility(new Ng(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Sneaky Egg":class xL extends D{logService;abilityService;name="Sneaky Egg";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new Fg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Cuddle Toad":class dw extends D{logService;abilityService;name="Cuddle Toad";tier=1;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new Og(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"???":class QC extends D{logService;abilityService;name="???";tier=1;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new bd(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Ghost Kitten":class hw extends D{logService;abilityService;name="Ghost Kitten";tier=2;pack="Unicorn";attack=4;health=3;initAbilities(){this.addAbility(new Bg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Frost Wolf":class pw extends D{logService;abilityService;name="Frost Wolf";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new $g(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Mothman:class gw extends D{logService;abilityService;name="Mothman";tier=2;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new Gg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Drop Bear":class sA extends D{logService;abilityService;name="Drop Bear";tier=2;pack="Unicorn";attack=2;health=2;initAbilities(){this.addAbility(new Tc(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Jackalope:class lA extends D{logService;abilityService;name="Jackalope";tier=2;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new Hg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Ogopogo:class cA extends D{logService;abilityService;name="Ogopogo";tier=2;pack="Unicorn";attack=3;health=1;initAbilities(){this.addAbility(new jg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Thunderbird:class mw extends D{logService;abilityService;name="Thunderbird";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new qg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Gargoyle:class fw extends D{logService;abilityService;name="Gargoyle";tier=2;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new Ug(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Bigfoot:class so extends D{logService;abilityService;name="Bigfoot";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new Ad(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Lucky Cat":class bw extends D{logService;abilityService;name="Lucky Cat";tier=3;pack="Unicorn";attack=1;health=2;initAbilities(){this.addAbility(new Vg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Skeleton Dog":class tx extends D{logService;abilityService;name="Skeleton Dog";tier=3;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new uA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Mandrake:class ix extends D{logService;abilityService;name="Mandrake";tier=3;pack="Unicorn";attack=4;health=3;initAbilities(){this.addAbility(new dA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Fur-Bearing Trout":class nx extends D{logService;abilityService;name="Fur-Bearing Trout";tier=3;pack="Unicorn";attack=3;health=5;initAbilities(){this.addAbility(new hA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Mana Hound":class rx extends D{logService;abilityService;name="Mana Hound";tier=3;pack="Unicorn";attack=4;health=3;initAbilities(){this.addAbility(new pA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Calygreyhound:class ax extends D{logService;abilityService;name="Calygreyhound";tier=3;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new gA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Brain Cramp":class ox extends D{logService;abilityService;name="Brain Cramp";tier=3;pack="Unicorn";attack=1;health=2;initAbilities(){this.addAbility(new mA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Minotaur:class lx extends D{logService;abilityService;name="Minotaur";tier=4;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new fA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Wyvern:class yw extends D{logService;abilityService;name="Wyvern";tier=3;pack="Unicorn";attack=3;health=4;initAbilities(){this.addAbility(new _d(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Ouroboros:class sx extends D{logService;abilityService;name="Ouroboros";tier=3;pack="Unicorn";attack=2;health=4;initAbilities(){this.addAbility(new Wg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Griffin:class vw extends D{logService;abilityService;name="Griffin";tier=3;pack="Unicorn";attack=5;health=4;initAbilities(){this.addAbility(new Sd(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Kraken:class yA extends D{logService;abilityService;name="Kraken";tier=4;pack="Unicorn";attack=5;health=7;initAbilities(){this.addAbility(new bA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Visitor:class DL extends D{logService;abilityService;name="Visitor";tier=4;pack="Unicorn";attack=7;health=5;initAbilities(){this.addAbility(new Kg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Vampire Bat":class Pw extends D{logService;abilityService;name="Vampire Bat";tier=5;pack="Unicorn";attack=2;health=5;initAbilities(){this.addAbility(new Qg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Tiger Bug":class cx extends D{logService;abilityService;name="Tiger Bug";tier=4;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new vA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Tatzelwurm:class Aw extends D{logService;abilityService;name="Tatzelwurm";tier=4;pack="Unicorn";attack=1;health=3;initAbilities(){this.addAbility(new Pd(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Cyclops:class ux extends D{logService;abilityService;name="Cyclops";tier=4;pack="Unicorn";attack=2;health=5;initAbilities(){this.addAbility(new Ec(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Chimera:class _w extends D{logService;abilityService;name="Chimera";tier=4;pack="Unicorn";attack=2;health=6;initAbilities(){this.addAbility(new zg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p),this.suppressManaSnipeOnFaint=!0}},Roc:class Sw extends D{logService;abilityService;name="Roc";tier=4;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new Yg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Worm of Sand":class dx extends D{logService;abilityService;name="Worm of Sand";tier=4;pack="Unicorn";attack=4;health=1;initAbilities(){this.addAbility(new PA(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Red Dragon":class kw extends D{logService;abilityService;name="Red Dragon";tier=5;pack="Unicorn";attack=4;health=8;initAbilities(){this.addAbility(new Zg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Unicorn:class kd extends D{logService;abilityService;name="Unicorn";tier=4;pack="Unicorn";attack=2;health=4;initAbilities(){this.addAbility(new Jg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Loveland Frogman":class hx extends D{logService;abilityService;name="Loveland Frogman";tier=5;pack="Unicorn";attack=1;health=5;initAbilities(){this.addAbility(new wA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Salmon of Knowledge":XP,"Jersey Devil":class IL extends D{logService;abilityService;name="Jersey Devil";tier=5;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new ww(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Pixiu:class px extends D{logService;abilityService;name="Pixiu";tier=5;pack="Unicorn";attack=5;health=6;initAbilities(){this.addAbility(new TA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Kitsune:class gx extends D{logService;abilityService;name="Kitsune";tier=5;pack="Unicorn";attack=2;health=7;initAbilities(){this.addAbility(new EA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Nessie:class wd extends D{logService;abilityService;name="Nessie";tier=5;pack="Unicorn";attack=3;health=5;initAbilities(){this.addAbility(new em(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Bad Dog":class mx extends D{logService;abilityService;name="Bad Dog";tier=5;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new CA(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Werewolf:class fx extends D{logService;abilityService;name="Werewolf";tier=5;pack="Unicorn";attack=7;health=7;initAbilities(){this.addAbility(new xA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Amalgamation:class yx extends D{logService;abilityService;name="Amalgamation";tier=5;pack="Unicorn";attack=4;health=5;initAbilities(){this.addAbility(new Cc(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Manticore:class bx extends D{logService;abilityService;name="Manticore";tier=6;pack="Unicorn";attack=7;health=4;initAbilities(){this.addAbility(new DA(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Phoenix:class vx extends D{logService;abilityService;name="Phoenix";tier=6;pack="Unicorn";attack=8;health=8;initAbilities(){this.addAbility(new Ra(this,this.logService)),this.addAbility(new MA(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Quetzalcoatl:class xc extends D{logService;abilityService;name="Quetzalcoatl";tier=6;pack="Unicorn";attack=4;health=8;initAbilities(){this.addAbility(new RA(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Team Spirit":class Ax extends D{logService;abilityService;name="Team Spirit";tier=6;pack="Unicorn";attack=4;health=5;initAbilities(){this.addAbility(new Ew(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Sleipnir:class Td extends D{logService;abilityService;name="Sleipnir";tier=6;pack="Unicorn";attack=8;health=5;initAbilities(){this.addAbility(new LA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Sea Serpent":class NA extends D{logService;abilityService;name="Sea Serpent";tier=6;pack="Unicorn";attack=6;health=6;initAbilities(){this.addAbility(new FA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Yeti:class Cw extends D{logService;abilityService;name="Yeti";tier=6;pack="Unicorn";attack=5;health=9;initAbilities(){this.addAbility(new OA(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Cerberus:class _x extends D{logService;abilityService;name="Cerberus";tier=6;pack="Unicorn";attack=9;health=9;initAbilities(){this.addAbility(new Ed(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Hydra:class Sx extends D{logService;abilityService;name="Hydra";tier=6;pack="Unicorn";attack=10;health=6;initAbilities(){this.addAbility(new Dc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Behemoth:class $A extends D{logService;abilityService;name="Behemoth";tier=6;pack="Unicorn";attack=12;health=12;initAbilities(){this.addAbility(new Dw(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Abomination:Xg};class GA extends D{logService;abilityService;petService;name="Iriomote Cat";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new tm(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class tm extends C{logService;petService;constructor(e,t,i){super({name:"IriomoteCatAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const a=this.owner,l=Jl.iriomoteCat[this.level]??this.petService.allPets.get(this.level)??[];if(0===l.length)return;const d=$t({key:"pet.iriomote-cat-transform",label:xi(a,"Iriomote Cat transform"),options:l.map(T=>({id:T,label:T}))},()=>we(0,l.length-1));let p=l[d.index],b=this.petService.createPet({name:p,attack:a.attack,health:a.health,exp:0,equipment:a.equipment,mana:a.mana},a.parent);this.logService.createLog({message:`${a.name} transformed into a ${p} (Level ${b.level}).`,type:"ability",player:a.parent,randomEvent:d.randomEvent}),a.parent.transformPet(a,b),this.triggerTigerExecution(e)}copy(e){return new tm(e,this.logService,this.petService)}}class im extends C{logService;constructor(e,t){super({name:"IliPikaAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:n}=i,l=qt(this.owner,n).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=qt(a,i),d=l.pet;if(!d)return;let p=1*this.level;d.attack>d.health?(d.increaseAttack(p),this.logService.createLog({message:`${a.name} give ${p} attack to ${d.name}.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random})):(d.increaseHealth(p),this.logService.createLog({message:`${a.name} give ${p} health to ${d.name}.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random})),this.triggerTigerExecution(e)}copy(e){return new im(e,this.logService)}}class Rw extends C{logService;constructor(e,t){super({name:"MalayTapirAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getThis(a),d=l.pet;if(!d)return;let p=1*this.level;d.increaseHealth(p),this.logService.createLog({message:`${a.name} gave ${d.name} ${p} health`,type:"ability",player:a.parent,sourcePet:a,targetPet:d,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Rw(e,this.logService)}}class jA extends C{logService;abilityService;constructor(e,t,i){super({name:"BombusDahlbomiiAbility",owner:e,triggers:["EnemyAttacked2"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;this.abilityService.setCounterEvent({callback:()=>{let l=a.parent.opponent.getFurthestUpPet(a),d=l.pet;d&&a.snipePet(d,1*this.level,l.random,n)},priority:a.attack,pet:a}),this.triggerTigerExecution(e)}copy(e){return new jA(e,this.logService,this.abilityService)}}class Lw extends D{logService;abilityService;name="Ethiopian Wolf";tier=1;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new nm(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class nm extends C{logService;constructor(e,t){super({name:"EthiopianWolfAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.opponent.getFurthestUpPets(this.level,void 0,a);for(const d of l.pets)d?.alive&&(d.increaseAttack(-1),this.logService.createLog({message:`${a.name} removed 1 attack from ${d.name}.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:l.random}));this.triggerTigerExecution(e)}copy(e){return new nm(e,this.logService)}}class qA extends C{constructor(e){super({name:"FanMusselAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:t=>{this.executeAbility(t)}})}executeAbility(e){}copy(e){return new qA(e)}}class rm extends C{logService;constructor(e,t){super({name:"TogianBabirusaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.opponent.getRandomPet([],!1,!1,!1,a);l.pet&&(l.pet.increaseHealth(1),this.logService.createLog({message:`${a.name} gave ${l.pet.name} +1 health.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:l.random})),this.triggerTigerExecution(e)}copy(e){return new rm(e,this.logService)}}class UA extends C{logService;constructor(e,t){super({name:"VolcanoSnailAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let p=[...a.parent.getPetsWithEquipmentWithSillyFallback("perk",a),...a.parent.getPetsWithEquipmentWithSillyFallback("Toasty",a)],b=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,p,null,null,a);if(0!==b.pets.length){for(let T of b.pets){let F=new Ch;T.givePetEquipment(F),this.logService.createLog({message:`${a.name} made ${T.name} Toasty`,type:"ability",player:a.parent,sourcePet:a,targetPet:T,tiger:n,randomEvent:b.random})}this.triggerTigerExecution(e)}}copy(e){return new UA(e,this.logService)}}class am extends C{logService;constructor(e,t){super({name:"AfricanWildDogAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let d,l=a.parent.opponent.getFurthestUpPet(a);if(null!=l.pet){if(d=l.random?l.pet:l.pet?.petBehind(),d){let p=3*this.level;a.jumpAttackPrep(d),a.jumpAttack(d,n,p,l.random)}this.triggerTigerExecution(e)}}copy(e){return new am(e,this.logService)}}class om extends C{logService;constructor(e,t){super({name:"AraripeManakinAbility",owner:e,triggers:["FriendTransformed","FriendJumped"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getThis(a),d=l.pet;if(!d)return;let p=3*this.level;d.increaseHealth(p),this.logService.createLog({message:`${a.name} gave ${d.name} ${p} health`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new om(e,this.logService)}}class VA extends C{logService;constructor(e,t){super({name:"EuropeanMinkAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=this.level,d=a.parent.nearestPetsAhead(1,a);if(d.pets.length>0){let b=d.pets[0];b.increaseAttack(l),this.logService.createLog({message:`${a.name} gave ${b.name} ${l} attack.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random})}let p=a.parent.nearestPetsBehind(1,a);if(p.pets.length>0){let b=p.pets[0];b.increaseAttack(l),this.logService.createLog({message:`${a.name} gave ${b.name} ${l} attack.`,type:"ability",player:a.parent,tiger:n,randomEvent:p.random})}this.triggerTigerExecution(e)}copy(e){return new VA(e,this.logService)}}class Tx extends D{logService;abilityService;name="Angry Pygmy Hog";tier=2;pack="Custom";attack=5;health=5;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Hw extends C{logService;abilityService;constructor(e,t,i){super({name:"PygmyHogAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;let l={health:Math.max(5*this.level,a.health),attack:Math.max(5*this.level,a.attack)},d=new Tx(this.logService,this.abilityService,a.parent,l.health,l.attack,a.mana,a.exp,new kp);this.logService.createLog({message:`${a.name} transformed into ${d.name} (${l.attack}/${l.health}) with Garlic!`,type:"ability",player:a.parent,tiger:n}),a.parent.transformPet(a,d),this.triggerTigerExecution(e)}copy(e){return new Hw(e,this.logService,this.abilityService)}}class jw extends C{logService;constructor(e,t){super({name:"SakerFalconAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;if(a.parent.petArray.length<a.parent.opponent.petArray.length){let p=a.parent.getThis(a),b=p.pet;if(!b)return;let T=2*this.level;b.increaseAttack(T),b.increaseHealth(T),this.logService.createLog({message:`${a.name} gave ${b.name} ${T} attack and ${T} health (outnumbered)`,type:"ability",player:a.parent,tiger:n,randomEvent:p.random})}this.triggerTigerExecution(e)}copy(e){return new jw(e,this.logService)}}class KA extends C{logService;abilityService;constructor(e,t,i){super({name:"TaitaShrewAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getThis(a),d=l.pet;if(!d)return;let p=new Rv(this.logService,this.abilityService,a.parent,d.health,d.attack,d.mana,d.exp,d.equipment);this.logService.createLog({message:`${a.name} transformed ${d.name} into ${p.name} (level ${this.level}).`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),a.parent.transformPet(d,p),this.triggerTigerExecution(e)}copy(e){return new KA(e,this.logService,this.abilityService)}}class zA extends C{logService;constructor(e,t){super({name:"WhiteBelliedHeronAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.nearestPetsAhead(1,a);if(0==l.pets.length)return;let d=l.pets[0],p=new fE;p.multiplier+=this.level-1,d.givePetEquipment(p);let b=".";2===this.level?b=" twice for double effect.":3===this.level&&(b=" thrice for triple effect."),this.logService.createLog({message:`${a.name} made ${d.name} Meat Bone${b}`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new zA(e,this.logService)}}class sm extends C{logService;constructor(e,t){super({name:"DarwinsFoxAbility",owner:e,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;if(i&&i.alive){let l=a.parent.getSpecificPet(a,i),d=l.pet;if(!d)return;a.jumpAttackPrep(d),a.jumpAttack(d,n,void 0,l.random)}else{let l=a.parent.opponent.getFurthestUpPet(a),d=l.pet;if(!d)return;a.jumpAttackPrep(d),a.jumpAttack(d,n,void 0,l.random)}this.triggerTigerExecution(e)}reset(){this.maxUses=this.level,super.reset()}copy(e){return new sm(e,this.logService)}}class Cd extends D{logService;abilityService;petService;name="Takhi";tier=2;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new lm(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class lm extends C{logService;abilityService;petService;constructor(e,t,i,n){super({name:"TakhiAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:o}=e,a=this.owner;let p=this.petService.createPet({name:"African Wild Dog",attack:3*this.level,health:2*this.level,exp:0,mana:0,equipment:null},a.parent);if(p){let b=a.parent.summonPet(p,a.savedPosition,!1,a);b.success&&(this.logService.createLog({message:`${a.name} summoned a ${p.attack}/${p.health} ${p.name}`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:b.randomEvent}),p.activateAbilities("StartBattle",t,"Pet"))}this.triggerTigerExecution(e)}copy(e){return new lm(e,this.logService,this.abilityService,this.petService)}}class YA extends C{logService;constructor(e,t){super({name:"BlueThroatedMacawAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:n}=i,l=qt(this.owner,n).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;if(i){if(i.position<a.position){let l=qt(a,i),d=l.pet;if(!d)return;let p=3*this.level;d.increaseAttack(p),this.logService.createLog({message:`${a.name} gave ${d.name} +${p} attack.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random})}else{let l=qt(a,i),d=l.pet;if(!d)return;let p=3*this.level;d.increaseHealth(p),this.logService.createLog({message:`${a.name} gave ${d.name} +${p} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random})}this.triggerTigerExecution(e)}}copy(e){return new YA(e,this.logService)}}class cm extends C{logService;abilityService;constructor(e,t,i){super({name:"HirolaAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;for(let l=0;l<this.level;l++){let d=new Lw(this.logService,this.abilityService,a.parent,3,4,a.mana,a.exp),p=a.parent.summonPet(d,a.savedPosition,!1,a);p.success&&this.logService.createLog({message:`${a.name} summoned a 4/3 ${d.name}.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:p.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new cm(e,this.logService,this.abilityService)}}class um extends C{logService;constructor(e,t){super({name:"MonkeyFacedBatAbility",owner:e,triggers:["AnyoneBehindHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getRandomPets(2,[],!0,!1,a);for(let d of l.pets)if(null!=d){let p={attack:this.level,health:2*this.level};d.increaseAttack(p.attack),d.increaseHealth(p.health),this.logService.createLog({message:`${a.name} gave ${d.name} ${p.attack} attack and ${p.health} health`,type:"ability",player:a.parent,randomEvent:l.random,tiger:n})}this.triggerTigerExecution(e)}copy(e){return new um(e,this.logService)}}class qw extends C{logService;abilityService;constructor(e,t,i){super({name:"PygmyHippoAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=Math.floor(.33*a.health),d=a.parent.opponent.getLowestHealthPets(this.level,void 0,a);for(let p of d.pets)a.snipePet(p,l,d.random,n);this.triggerTigerExecution(e)}copy(e){return new qw(e,this.logService,this.abilityService)}}class XA extends C{logService;constructor(e,t){super({name:"TakinAbility",owner:e,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=this.level,d=2*this.level,p=a.parent.getThis(a),b=p.pet;b.increaseAttack(l),b.increaseHealth(d),this.logService.createLog({message:`${a.name} gave ${b.name} ${l} attack and ${d} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:p.random}),this.triggerTigerExecution(e)}copy(e){return new XA(e,this.logService)}}class Uw extends C{logService;constructor(e,t){super({name:"TucuxiAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.getLastPet([a],a),d=l.pet;if(!d)return;a.parent.pushPetToFront(d,!1),this.logService.createLog({message:`${a.name} pushed ${d.name} to the front`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:l.random});let p=3*this.level;d.increaseAttack(p),d.increaseHealth(p),this.logService.createLog({message:`${a.name} gave ${d.name} +${p} attack and +${p} health`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Uw(e,this.logService)}}class dm extends D{logService;abilityService;petService;name="Roloway Monkey";tier=3;pack="Danger";attack=2;health=5;initAbilities(){this.addAbility(new Ic(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class Ic extends C{logService;petService;constructor(e,t,i){super({name:"RolowayMonkeyAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.nearestPetsAhead(2,a);if(0===l.pets.length)return;const d=Jl.rolowayMonkey;for(let p of l.pets){const b=$t({key:"pet.roloway-monkey-transform",label:xi(a,`Roloway Monkey transform for P${p.savedPosition+1} ${p.name}`),options:d.map(U=>({id:U,label:U}))},()=>we(0,d.length-1));let F=this.petService.createPet({name:d[b.index],health:p.health,attack:p.attack,mana:p.mana,exp:a.exp,equipment:p.equipment},a.parent);a.parent.transformPet(p,F),this.logService.createLog({message:`${a.name} transformed ${p.name} into a ${F.attack}/${F.health} ${F.name}.`,type:"ability",player:a.parent,tiger:n,randomEvent:b.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Ic(e,this.logService,this.petService)}}class lo extends C{logService;constructor(e,t){super({name:"AmamiRabbitAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=1*this.level,d=a.parent.opponent.getHighestAttackPet(void 0,a);if(d.pet&&d.pet.alive){if(a.jumpAttackPrep(d.pet),a.transformed&&a.transformedInto){let p=a.parent.getThis(a.transformedInto);p.pet&&(a.transformedInto.increaseAttack(l),this.logService.createLog({message:`${a.name} gave ${a.transformedInto.name} ${l} attack`,type:"ability",player:a.parent,tiger:n,randomEvent:p.random}))}else{let p=a.parent.getThis(a);p.pet&&(p.pet.increaseAttack(l),this.logService.createLog({message:`${a.name} gave ${p.pet.name} ${l} attack`,type:"ability",player:a.parent,tiger:n,randomEvent:p.random}))}a.jumpAttack(d.pet,n,void 0,d.random)}this.triggerTigerExecution(e)}copy(e){return new lo(e,this.logService)}}class xd extends C{logService;constructor(e,t){super({name:"TreeKangarooAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:o}=e,a=this.owner;let b=[...a.parent.getPetsWithEquipmentWithSillyFallback("perk",a),...a.parent.opponent.petArray.filter(U=>"Tree Kangaroo"==U.name),...a.parent.petArray.filter(U=>"Tree Kangaroo"==U.name)],T=a.parent.opponent.getLastPet(b,a),F=T.pet;F&&(F.givePetEquipment(new TP),this.logService.createLog({message:`${a.name} gave ${F.name} Silly`,type:"ability",tiger:n,player:a.parent,randomEvent:T.random}));for(let U=0;U<this.level;U++){let Z=a.parent.getSpecificPet(a,F).pet;if(Z){this.logService.createLog({message:`${a.name} activated ${F.name}'s ability.`,type:"ability",tiger:n,player:a.parent,randomEvent:T.random});for(const se of Z.abilityList)se.execute(t,Z,n,o)}}this.triggerTigerExecution(e)}copy(e){return new xd(e,this.logService)}}class Dd extends D{logService;abilityService;petService;name="Bonobo";tier=4;pack="Danger";attack=3;health=3;constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class u extends C{logService;abilityService;constructor(e,t,i){super({name:"GiantTortoiseAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new u(e,this.logService,this.abilityService)}}class g extends C{logService;constructor(e,t){super({name:"HumpheadWrasseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=.3*this.level,d=a.parent.opponent.getHighestAttackPet(void 0,a);if(!d.pet)return;let p=d.pet,b=Math.ceil(p.attack*l),T=Math.max(1,p.attack-b);p.attack=T,this.logService.createLog({message:`${a.name} reduced ${p.name}'s attack by ${100*l}% to ${p.attack}.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new g(e,this.logService)}}class f extends D{logService;abilityService;petService;name="Golden Tamarin";tier=4;pack="Danger";attack=4;health=4;initAbilities(){this.addAbility(new y(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class y extends C{logService;petService;constructor(e,t,i){super({name:"GoldenTamarinAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;let d=a.parent.getThis(a).pet;if(!d)return;const p=Jl.goldenTamarin,b=$t({key:"pet.golden-tamarin-transform",label:xi(a,"Golden Tamarin transform"),options:p.map(U=>({id:U,label:U}))},()=>we(0,p.length-1));let F=this.petService.createPet({name:p[b.index],health:d.health,attack:d.attack,mana:d.mana,exp:d.exp,equipment:d.equipment},a.parent);a.parent.transformPet(d,F),this.logService.createLog({message:`${a.name} transformed ${d.name} into a ${F.attack}/${F.health} ${F.name}.`,type:"ability",player:a.parent,tiger:n,randomEvent:b.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new y(e,this.logService,this.petService)}}class _ extends C{logService;constructor(e,t){super({name:"KakapoAbility",owner:e,triggers:["ThisFirstAttack"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,condition:i=>this.owner.timesAttacked<=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner,l=a.parent.opponent.getHighestAttackPets(this.level,void 0,a),d=[...l.pets].sort((p,b)=>p.attack-b.attack);for(let p of d)p.givePetEquipment(new la),this.logService.createLog({message:`${a.name} gave ${p.name} Spooked.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random});for(let p of d)p.parent.pushPetToBack(p),this.logService.createLog({message:`${a.name} pushed ${p.name} to the back.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random});this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}class R extends C{logService;constructor(e,t){super({name:"LongcombSawfishAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=4*this.level,d=-4*this.level,p=a.parent.getThis(a),b=p.pet;b&&(b.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${b.name} ${l} health`,type:"ability",player:a.parent,tiger:n,randomEvent:p.random}));let F=a.parent.opponent.getAll(!1,a).pets;for(let U of F)U.increaseHealth(d),this.logService.createLog({message:`${a.name} reduced ${U.name} health by ${Math.abs(d)}`,type:"ability",player:a.parent,tiger:n});this.triggerTigerExecution(e)}copy(e){return new R(e,this.logService)}}class K extends C{logService;constructor(e,t){super({name:"AmazonRiverDolphinAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=a.parent.getSpecificPet(a,i.currentTarget),d=l.pet;if(d&&d.alive)a.snipePet(d,3*this.level,l.random,n);else{let p=a.parent.getThis(a),b=p.pet;if(!b)return;let T=3*this.level;b.increaseAttack(T),this.logService.createLog({message:`${a.name} gave ${b.name} ${T} attack`,type:"ability",player:a.parent,tiger:n,randomEvent:p.random})}this.triggerTigerExecution(e)}copy(e){return new K(e,this.logService)}}class le extends C{logService;constructor(e,t){super({name:"TasmanianDevilAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.opponent.getLowestAttackPet(void 0,a);if(l.pet&&l.pet.alive){let d=new la;d.multiplier+=5*this.level-1,this.logService.createLog({message:`${a.name} gave ${l.pet.name} ${d.multiplier}x Spooked.`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),l.pet.givePetEquipment(d),a.jumpAttackPrep(l.pet),a.jumpAttack(l.pet,n,null,l.random)}this.triggerTigerExecution(e)}copy(e){return new le(e,this.logService)}}class Ne extends C{logService;buffedFriends=new Map;constructor(e,t){super({name:"GiantOtterAbility",owner:e,triggers:["BeforeStartBattle","AnyoneAttack","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.buffedFriends.clear(),super.reset()}removeConditionalBuffs(){this.buffedFriends.size>0&&this.logService.createLog({message:`${this.owner.name} removed its temporary buffs after the first non-jump attack`,type:"ability",player:this.owner.parent});for(let[e,t]of this.buffedFriends){let i=e;if(i.transformed&&i.transformedInto&&(i=i.transformedInto),i&&i.alive&&(t.attack>0&&i.increaseAttack(-t.attack),t.health>0&&i.increaseHealth(-t.health),t.attack>0||t.health>0)){const n=[];t.attack>0&&n.push(`${t.attack} attack`),t.health>0&&n.push(`${t.health} health`),this.logService.createLog({message:`${i.name} lost ${n.join(" and ")} (Giant Otter Buffs removed)`,type:"ability",player:this.owner.parent})}this.buffedFriends.delete(e)}}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:n}=e,l=this.owner;if("PostRemovalFaint"===e.trigger)return void this.removeConditionalBuffs();if(i)return void(t.FirstNonJumpAttackHappened&&this.removeConditionalBuffs());let d={attack:2*this.level,health:5*this.level},p=l.parent.getAll(!1,l,!0),b=p.pets;for(let T of b){const F=T.increaseAttack(d.attack),U=T.increaseHealth(d.health),ee=this.buffedFriends.get(T);ee?(ee.attack+=F,ee.health+=U):this.buffedFriends.set(T,{attack:F,health:U}),this.logService.createLog({message:`${l.name} gave ${T.name} +${d.attack} attack and +${d.health} health`,type:"ability",player:l.parent,tiger:n,randomEvent:p.random})}this.triggerTigerExecution(e)}copy(e){return new Ne(e,this.logService)}}class st extends C{logService;abilityService;constructor(e,t,i){super({name:"AyeAyeAbility",owner:e,triggers:["EnemyAttacked7"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;for(let p=0;p<2;p++){let b=3,T=3,F=new qp(this.logService,this.abilityService,a.parent,T,b,0,0),U=a.parent.summonPet(F,a.savedPosition,!1,a);U.success&&this.logService.createLog({message:`${a.name} summoned a ${b}/${T} ${F.name}.`,type:"ability",player:a.parent,tiger:n,randomEvent:U.randomEvent})}let l=3*this.level,d=a.parent.getAll(!1,a,!0);for(let p of d.pets)p.increaseAttack(l),p.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${p.name} +${l} attack and +${l} health.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random});this.triggerTigerExecution(e)}copy(e){return new st(e,this.logService,this.abilityService)}}class Kt extends C{logService;constructor(e,t){super({name:"BanggaiCardinalfishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=6*this.level,p=a.parent.getAll(!0,a,!0);for(let b of p.pets){let T=Math.max(b.attack-l,4);b.attack=T,this.logService.createLog({message:`${a.name} reduced ${b.name} attack by ${l} to ${T}.`,type:"ability",player:a.parent,tiger:n,randomEvent:p.random})}this.triggerTigerExecution(e)}copy(e){return new Kt(e,this.logService)}}class Di extends C{logService;constructor(e,t){super({name:"GeometricTortoiseAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,damageAmount:a}=e,l=this.owner;if(void 0===a||a<=0)return;let d=.33*this.level;3===l.level&&(d=1);let p=Math.floor(a*d);if(p>0){let b=l.parent.opponent.getRandomPet([],!1,!0,!1,l);b.pet&&l.snipePet(b.pet,p,b.random,n)}this.triggerTigerExecution(e)}copy(e){return new Di(e,this.logService)}}class uo extends C{logService;constructor(e,t){super({name:"GiantPangasiusAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,a=this.owner;if(!t)return;let l;l=a.parent===t.player?t.playerTransformationAmount:t.opponentTransformationAmount;let d=4*this.level;if(l>0)for(let p=0;p<l;p++){let T=Et(a)?a.parent.getRandomPet([],!1,!0,!1,a,!0):a.parent.opponent.getRandomPet([],!1,!0,!1,a);T.pet&&a.snipePet(T.pet,d,T.random,n)}this.triggerTigerExecution(e)}copy(e){return new uo(e,this.logService)}}class Xw extends C{logService;constructor(e,t){super({name:"HawaiianMonkSealAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=a.parent.getSpecificPet(a,i),d=l.pet;if(d&&!a.targettedFriends.has(d)){if(a.targettedFriends.size<3&&d.alive){let p=2*a.level;d.increaseHealth(p),a.targettedFriends.add(d),this.logService.createLog({message:`${a.name} gave ${d.name} ${p} health`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random})}this.triggerTigerExecution(e)}}copy(e){return new Xw(e,this.logService)}}class Mx extends C{logService;targettedFriends=new Set;constructor(e,t){super({name:"MarineIguanaAbility",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>{const n=this.owner;if(!Ds(n,i.triggerPet))return!1;const a=qt(n,i.triggerPet).pet;return!!a&&!this.targettedFriends.has(a)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.targettedFriends=new Set,super.reset()}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=qt(a,i),d=l.pet;d&&(d.givePetEquipment(new Ta),this.targettedFriends.add(d),this.logService.createLog({message:`${a.name} gave ${d.name} Melon`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new Mx(e,this.logService)}}class Rx extends C{logService;constructor(e,t){super({name:"TaitaThrushAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=this.level,d=a.parent.getAll(!1,a,!0);for(let p of d.pets)p.increaseAttack(l),p.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${p.name} +${l} attack and +${l} health`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random});this.triggerTigerExecution(e)}copy(e){return new Rx(e,this.logService)}}class Lx extends C{logService;constructor(e,t){super({name:"PaintedTerrapinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.getPetsWithEquipment("White Okra"),d=a.parent.nearestPetsBehind(a.level,a,l),p=d.pets;for(let b of p)this.logService.createLog({message:`${a.name} gave ${b.name} White Okra perk`,type:"ability",tiger:n,player:a.parent,pteranodon:o,randomEvent:d.random}),b.givePetEquipment(new ks);this.triggerTigerExecution(e)}copy(e){return new Lx(e,this.logService)}}class Nx extends C{logService;constructor(e,t){super({name:"SnowLeopardAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=5*this.level,d=a.parent.opponent.getRandomPet([],!1,!0,!1,a);if(d.pet&&d.pet.alive){if(a.jumpAttackPrep(d.pet),a.transformed&&a.transformedInto){let p=a.parent.getThis(a.transformedInto);p.pet&&(a.transformedInto.increaseAttack(l),a.transformedInto.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${a.transformedInto.name} ${l} attack and ${l} health`,type:"ability",player:a.parent,tiger:n,randomEvent:p.random}))}else{let p=a.parent.getThis(a);p.pet&&(p.pet.increaseAttack(l),p.pet.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${p.pet.name} ${l} attack and ${l} health`,type:"ability",player:a.parent,tiger:n,randomEvent:p.random}))}a.jumpAttack(d.pet,n,null,d.random)}this.triggerTigerExecution(e)}copy(e){return new Nx(e,this.logService)}}class Fx extends C{logService;constructor(e,t){super({name:"AmsterdamAlbatrossAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,precondition:i=>{const{triggerPet:n}=i,l=qt(this.owner,n).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=2*a.level,d=2*a.level,b=qt(a,i).pet;null!=b&&(b.increaseAttack(l),b.increaseHealth(d),this.logService.createLog({message:`${a.name} gave ${b.name} +${l} attack and +${d} health.`,type:"ability",player:a.parent,tiger:n}),this.triggerTigerExecution(e))}copy(e){return new Fx(e,this.logService)}}class Ox extends D{logService;abilityService;petService;name="Bay Cat";tier=6;pack="Danger";attack=7;health=5;initAbilities(){this.addAbility(new Bx(this,this.logService,this.petService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class Bx extends C{logService;petService;abilityService;constructor(e,t,i,n){super({name:"BayCatAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.petService=i,this.abilityService=n}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:o}=e,a=this.owner;let l=Jl.bayCat;for(let d=0;d<a.level;d++){const p=$t({key:"pet.bay-cat-summon",label:xi(a,"Bay Cat summon",d+1),options:l.map(U=>({id:U,label:U}))},()=>we(0,l.length-1));let T=this.petService.createPet({name:l[p.index],attack:null,health:null,equipment:null,mana:0,exp:0},a.parent);a.parent.summonPet(T,a.savedPosition,!1,a).success&&(this.logService.createLog({message:`${a.name} summoned ${T.name}`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:p.randomEvent}),T.hasAbility("StartBattle")&&(this.logService.createLog({message:`${T.name} activated its start of battle ability`,type:"ability",player:a.parent,tiger:n,pteranodon:o}),T.activateAbilities("StartBattle",t,"Pet")))}this.triggerTigerExecution(e)}copy(e){return new Bx(e,this.logService,this.petService,this.abilityService)}}class $x extends C{logService;constructor(e,t){super({name:"BlackRhinoAbility",owner:e,triggers:["EnemyAttacked7"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let d=a.parent.opponent.getHighestHealthPets(a.level,[],a),p=d.pets;for(let b of p)a.snipePet(b,30,d.random,n);this.triggerTigerExecution(e)}copy(e){return new $x(e,this.logService)}}class Gx extends C{logService;abilityService;constructor(e,t,i){super({name:"BlueWhaleAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=2*this.level;this.logService.createLog({message:`${t.name} sold friends for +2 extra gold each and gave future shop pets +${i} attack and +${i} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new Gx(e,this.logService,this.abilityService)}}class Hx extends D{logService;abilityService;petService;name="California Condor";tier=6;pack="Danger";attack=10;health=6;initAbilities(){this.addAbility(new jx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class jx extends C{logService;constructor(e,t){super({name:"CaliforniaCondorAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;let l=i;!l||"California Condor"===l.baseName||"California Condor"===l.name||(this.logService.createLog({message:`California Condor copied ${l.name}'s level ${a.level} ability`,type:"ability",player:a.parent,tiger:n}),a.gainAbilities(l,"Pet"),this.triggerTigerExecution(e))}copy(e){return new jx(e,this.logService)}}class qx extends C{logService;constructor(e,t){super({name:"GreenSeaTurtleAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let d=a.parent.getAll(!1,a).pets;for(let p of d)p.givePetEquipment(new Ta,a.level),this.logService.createLog({message:`${a.name} gave ${p.name} Melon.`,type:"ability",player:a.parent,tiger:n});this.triggerTigerExecution(e)}copy(e){return new qx(e,this.logService)}}class Ux extends C{logService;constructor(e,t){super({name:"PhilippineEagleAbility",owner:e,triggers:["AnyoneJumped"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getRandomPet([],!1,!1,!1,a),d=l.pet;if(!d)return;let p=4*this.level;d.increaseAttack(p),d.increaseHealth(p),this.logService.createLog({message:`${a.name} gave ${d.name} +${p} attack and +${p} health`,type:"ability",player:a.parent,tiger:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Ux(e,this.logService)}}class Vx extends D{logService;abilityService;petService;name="Silky Sifaka";tier=6;pack="Danger";attack=4;health=6;initAbilities(){this.addAbility(new Wx(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class Wx extends C{logService;petService;constructor(e,t,i){super({name:"SilkySifakaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=["Mammoth","Lionfish","Orca","Sabertooth Tiger","Warthog","Hydra","Phoenix","Bay Cat","Walrus","Ammonite"],p=a.parent.nearestPetsBehind(2,a).pets;for(let b of p){const T=$t({key:"pet.silky-sifaka-transform",label:xi(a,`Silky Sifaka transform for ${b.name}`),options:l.map(ee=>({id:ee,label:ee}))},()=>we(0,l.length-1));let U=this.petService.createPet({name:l[T.index],attack:b.attack,health:b.health,mana:b.mana,exp:a.minExpForLevel,equipment:b.equipment},a.parent);a.parent.transformPet(b,U),this.logService.createLog({message:`${a.name} transformed ${b.name} into level ${a.level} ${U.name}`,type:"ability",player:a.parent,tiger:n,randomEvent:T.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Wx(e,this.logService,this.petService)}}class Kx extends C{logService;constructor(e,t){super({name:"SumatranTigerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getOppositeEnemyPet(a),d=l.pet;if(d&&(a.jumpAttackPrep(d),a.jumpAttack(d,n,null,l.random),a.level>=2)){let p=2===this.level?6:12,b=[];if(l.random)b=a.parent.getRandomLivingPets(2).pets;else{let T=d.petBehind();T&&T.alive&&b.push(T);let F=d.petAhead;F&&F.alive&&b.push(F)}for(let T of b)a.snipePet(T,p,l.random,n)}this.triggerTigerExecution(e)}copy(e){return new Kx(e,this.logService)}}const W4={"Iriomote Cat":GA,"Ili Pika":class Mw extends D{logService;abilityService;name="Ili Pika";tier=1;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new im(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Malay Tapir":class HA extends D{logService;abilityService;name="Malay Tapir";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new Rw(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Bombus Dahlbomii":class Px extends D{logService;abilityService;name="Bombus Dahlbomii";tier=1;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new jA(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"African Wild Dog":class $w extends D{logService;abilityService;name="African Wild Dog";tier=1;pack="Danger";attack=3;health=2;initAbilities(){this.addAbility(new am(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Ethiopian Wolf":Lw,"Fan Mussel":class Nw extends D{logService;abilityService;name="Fan Mussel";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new qA(this)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Togian Babirusa":class Fw extends D{logService;abilityService;name="Togian Babirusa";tier=1;pack="Danger";attack=3;health=3;initAbilities(){this.addAbility(new rm(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Tooth Billed Pigeon":class kx extends D{logService;abilityService;name="Tooth Billed Pigeon";tier=1;pack="Danger";attack=3;health=1;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Volcano Snail":class Bw extends D{logService;abilityService;name="Volcano Snail";tier=1;pack="Danger";attack=1;health=4;initAbilities(){this.addAbility(new UA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Araripe Manakin":class Gw extends D{logService;abilityService;name="Araripe Manakin";tier=2;pack="Danger";attack=3;health=2;initAbilities(){this.addAbility(new om(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"European Mink":class wx extends D{logService;abilityService;name="European Mink";tier=2;pack="Danger";attack=4;health=3;initAbilities(){this.addAbility(new VA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Proboscis Monkey":class ML extends D{logService;abilityService;name="Proboscis Monkey";tier=2;pack="Danger";attack=4;health=4;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Pygmy Hog":class RL extends D{logService;abilityService;name="Pygmy Hog";tier=2;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new Hw(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Saola:class LL extends D{logService;abilityService;name="Saola";tier=2;pack="Danger";attack=2;health=2;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Saker Falcon":class NL extends D{logService;abilityService;name="Saker Falcon";tier=2;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new jw(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Taita Shrew":class Cx extends D{logService;abilityService;name="Taita Shrew";tier=2;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new KA(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"White-Bellied Heron":class FL extends D{logService;abilityService;name="White-Bellied Heron";tier=2;pack="Danger";attack=4;health=2;initAbilities(){this.addAbility(new zA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Darwin's Fox":class OL extends D{logService;abilityService;name="Darwin's Fox";tier=2;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new sm(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Amami Rabbit":class Ww extends D{logService;abilityService;name="Amami Rabbit";tier=3;pack="Danger";attack=1;health=3;initAbilities(){this.addAbility(new lo(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Tree Kangaroo":class Kw extends D{logService;abilityService;name="Tree Kangaroo";tier=3;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new xd(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Blue-Throated Macaw":class BL extends D{logService;abilityService;name="Blue-Throated Macaw";tier=3;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new YA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Hirola:class $L extends D{logService;abilityService;name="Hirola";tier=3;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new cm(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Monkey-Faced Bat":class xx extends D{logService;abilityService;name="Monkey-Faced Bat";tier=3;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new um(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Takin:class GL extends D{logService;abilityService;name="Takin";tier=3;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new XA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Tucuxi:class HL extends D{logService;abilityService;name="Tucuxi";tier=3;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new Uw(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Pygmy Hippo":class Dx extends D{logService;abilityService;name="Pygmy Hippo";tier=3;pack="Danger";attack=2;health=7;initAbilities(){this.addAbility(new qw(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Spoon-Billed Sandpiper":class Ix extends D{logService;abilityService;name="Spoon-Billed Sandpiper";tier=3;pack="Danger";attack=3;health=2;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Angelshark:class JA extends D{logService;abilityService;name="Angelshark";tier=4;pack="Danger";attack=3;health=4;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Giant Otter":class Ae extends D{logService;abilityService;name="Giant Otter";tier=4;pack="Danger";attack=4;health=3;buffedFriends=new Map;initAbilities(){this.addAbility(new Ne(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Giant Tortoise":class s extends D{logService;abilityService;name="Giant Tortoise";tier=4;pack="Danger";attack=4;health=6;initAbilities(){this.addAbility(new u(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Humphead Wrasse":class h extends D{logService;abilityService;name="Humphead Wrasse";tier=4;pack="Danger";attack=6;health=4;initAbilities(){this.addAbility(new g(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Kakapo:class v extends D{logService;abilityService;name="Kakapo";tier=4;pack="Danger";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Longcomb Sawfish":class P extends D{logService;abilityService;name="Longcomb Sawfish";tier=4;pack="Danger";attack=3;health=3;initAbilities(){this.addAbility(new R(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Tasmanian Devil":class oe extends D{logService;abilityService;name="Tasmanian Devil";tier=4;pack="Danger";attack=1;health=5;initAbilities(){this.addAbility(new le(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Amazon River Dolphin":class B extends D{logService;abilityService;name="Amazon River Dolphin";tier=4;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new K(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Aye-aye":class ze extends D{logService;abilityService;name="Aye-aye";tier=5;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new st(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Banggai Cardinalfish":class Oe extends D{logService;abilityService;name="Banggai Cardinalfish";tier=5;pack="Danger";attack=4;health=7;initAbilities(){this.addAbility(new Kt(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Geometric Tortoise":class $n extends D{logService;abilityService;name="Geometric Tortoise";tier=5;pack="Danger";attack=3;health=10;initAbilities(){this.addAbility(new Di(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Giant Pangasius":class co extends D{logService;abilityService;name="Giant Pangasius";tier=5;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new uo(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Hawaiian Monk Seal":class Yw extends D{logService;abilityService;name="Hawaiian Monk Seal";tier=5;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new Xw(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Marine Iguana":class L4 extends D{logService;abilityService;name="Marine Iguana";tier=5;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new Mx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Red Panda":class N4 extends D{logService;abilityService;name="Red Panda";tier=5;pack="Danger";health=4;attack=4;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Taita Thrush":class F4 extends D{logService;abilityService;name="Taita Thrush";tier=5;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new Rx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Snow Leopard":class B4 extends D{logService;abilityService;name="Snow Leopard";tier=5;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new Nx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Painted Terrapin":class O4 extends D{logService;abilityService;name="Painted Terrapin";tier=5;pack="Danger";health=6;attack=4;initAbilities(){this.addAbility(new Lx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Amsterdam Albatross":class $4 extends D{logService;abilityService;name="Amsterdam Albatross";tier=6;pack="Danger";attack=3;health=6;initAbilities(){this.addAbility(new Fx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Black Rhino":class G4 extends D{logService;abilityService;name="Black Rhino";tier=6;pack="Danger";attack=5;health=9;initAbilities(){this.addAbility(new $x(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Blue Whale":class H4 extends D{logService;abilityService;name="Blue Whale";tier=6;pack="Danger";health=12;attack=12;initAbilities(){this.addAbility(new Gx(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Green Sea Turtle":class j4 extends D{logService;abilityService;name="Green Sea Turtle";tier=6;pack="Danger";attack=5;health=6;initAbilities(){this.addAbility(new qx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Helmeted Hornbill":class q4 extends D{logService;abilityService;name="Helmeted Hornbill";tier=6;pack="Danger";health=4;attack=5;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Philippine Eagle":class U4 extends D{logService;abilityService;name="Philippine Eagle";tier=6;pack="Danger";attack=7;health=6;initAbilities(){this.addAbility(new Ux(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Sumatran Tiger":class V4 extends D{logService;abilityService;name="Sumatran Tiger";tier=6;pack="Danger";attack=9;health=9;initAbilities(){this.addAbility(new Kx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Bay Cat":Ox,Bonobo:Dd,"California Condor":Hx,"Golden Tamarin":f,"Roloway Monkey":dm,"Silky Sifaka":Vx,Takhi:Cd};class zx extends D{logService;abilityService;name="Rock";tier=1;pack="Unicorn";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new Yx(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class Yx extends C{logService;abilityService;constructor(e,t,i){super({name:"RockAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Yx(e,this.logService,this.abilityService)}}class Xx extends C{logService;abilityService;constructor(e,t,i){super({name:"Basilisk Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=n.petAhead;if(o&&o.alive){const a=5*this.level,l=Math.max(1,o.attack??1),d=Math.max(1,o.health??1)+a,p=new zx(this.logService,this.abilityService,o.parent,d,l,o.mana,o.exp);n.parent.transformPet(o,p),this.logService.createLog({message:`${n.name} transformed ${o.name} into a Rock with +${a} health.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new Xx(e,this.logService,this.abilityService)}}class Jx extends C{logService;constructor(e,t){super({name:"BudgieAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,a=Nt.getInjector().get(Pi).getInstanceOfAllEquipment().get("Popcorn");n.givePetEquipment(a),n.increaseHealth(this.level),this.logService.createLog({message:`${n.name} gained Popcorn and +${this.level} health.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Jx(e,this.logService)}}class Qx extends C{logService;abilityService;constructor(e,t,i){super({name:"DucklingAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gave the left-most shop pet +${2*this.level} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Qx(e,this.logService,this.abilityService)}}class Zx extends C{logService;constructor(e,t){super({name:"FarmerMouseAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,a=n.parent.nearestPetsBehind(this.level,n).pets;if(0!==a.length){for(const l of a)l.givePetEquipment(new Xl),this.logService.createLog({message:`${n.name} fed ${l.name} Corncob.`,type:"ability",player:n.parent,tiger:t,pteranodon:i});this.triggerTigerExecution(e)}}copy(e){return new Zx(e,this.logService)}}class eD extends C{logService;constructor(e,t){super({name:"FrilledDragonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=0;for(let d of a.parent.petArray)d!==a&&d.isFaintPet()&&l++;l*=this.level,a.increaseAttack(l),a.increaseHealth(l),this.logService.createLog({message:`${a.name} gained ${l} attack and ${l} health.`,type:"ability",player:a.parent,tiger:n,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new eD(e,this.logService)}}class tD extends C{logService;abilityService;constructor(e,t,i){super({name:"GibbonAbility",owner:e,triggers:["ShopUpgrade"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=this.level,d=a.parent.nearestPetsBehind(2,a);if(0!==d.pets.length){for(let p of d.pets)p.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${p.name} ${l} health.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:d.random});this.triggerTigerExecution(e)}}copy(e){return new tD(e,this.logService,this.abilityService)}}class iD extends C{logService;constructor(e,t){super({name:"NudibranchAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>{const n=this.owner;let o=new Set;for(const a of n.parent.petArray){if(o.has(a.name))return!1;o.add(a.name)}return!0},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=3*this.level,a=this.level;n.increaseAttack(o),n.increaseHealth(a),this.logService.createLog({message:`${n.name} gained +${o} attack and +${a} health.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new iD(e,this.logService)}}class nD extends C{logService;constructor(e,t){super({name:"PeacockSpiderAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=Fo(n);if(0!==o.length){for(const a of o){if(!Yh(a,"Spooked"))continue;const l=new la;l.power=-this.level,l.originalPower=l.power,a.givePetEquipment(l),Xi(this.logService,n,`${n.name} gave ${a.name} Spooked.`,t,i)}this.triggerTigerExecution(e)}}copy(e){return new nD(e,this.logService)}}class rD extends C{logService;constructor(e,t){super({name:"PygmySeahorseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=n.parent.getRandomPets(3,[n],!1,!1,n),a=o.pets;if(0!==a.length){for(const l of a)l.increaseAttack(this.level),l.increaseHealth(this.level),this.logService.createLog({message:`${n.name} gave ${l.name} +${this.level} attack and +${this.level} health.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:o.random});n.health=0,this.triggerTigerExecution(e)}}copy(e){return new rD(e,this.logService)}}class aD extends C{logService;constructor(e,t){super({name:"Silverfish Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} sold for +${2*this.level} gold, but will lose ${this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new aD(e,this.logService)}}class oD extends C{logService;abilityService;constructor(e,t,i){super({name:"TermiteAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,n=Math.max(1,e.gameApi.previousShopTier??1)+this.level;t.attack=Math.max(1,n),this.logService.createLog({message:`${t.name} set its attack to ${t.attack}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new oD(e,this.logService,this.abilityService)}}class sD extends C{logService;constructor(e,t){super({name:"WeevilAbility",owner:e,triggers:["FoodEatenByFriendly"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,precondition:i=>{const{triggerPet:n}=i,l=qt(this.owner,n).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,o=this.owner,a=qt(o,t),l=a.pet;null!=l&&(l.increaseAttack(this.level),this.logService.createLog({message:`${o.name} gave ${l.name} +${this.level} attack.`,type:"ability",player:o.parent,tiger:i,pteranodon:n,randomEvent:a.random}),this.triggerTigerExecution(e))}copy(e){return new sD(e,this.logService)}}class lD extends C{logService;constructor(e,t){super({name:"AlbinoSquirrelAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,a=Nt.getInjector().get(Pi).getInstanceOfAllEquipment(),l=Array.from(a.values()).filter(p=>"shop"===p.equipmentClass);if(0===l.length)return;let d=[];for(let p=0;p<3;p++){let b=l[we(0,l.length-1)];d.push(b.name)}this.logService.createLog({message:`${n.name} restocked shop food with ${d.join(", ")} at -${this.level} gold.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new lD(e,this.logService)}}class cD extends C{logService;constructor(e,t){super({name:"AmphisbaenaAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,o=this.owner;let a=o.parent.nearestPetsAhead(1,o);if(0===a.pets.length)return;let l=a.pets[0];(t?.turnNumber??1)%2==1?(l.increaseAttack(this.level),this.logService.createLog({message:`${o.name} gave ${l.name} ${this.level} attack.`,type:"ability",player:o.parent,tiger:i,pteranodon:n,randomEvent:a.random})):(l.increaseHealth(this.level),this.logService.createLog({message:`${o.name} gave ${l.name} ${this.level} health.`,type:"ability",player:o.parent,tiger:i,pteranodon:n,randomEvent:a.random})),this.triggerTigerExecution(e)}copy(e){return new cD(e,this.logService)}}class uD extends C{logService;constructor(e,t){super({name:"AtlanticPuffinAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>{const{triggerPet:n}=i;return!(!n||"Strawberry"!=n.equipment?.name)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,a=this.owner;this.logService.createLog({message:`${a.name} removed ${i.name}'s ${i.equipment.name}.`,type:"ability",player:a.parent,tiger:n}),i.removePerk();let l=2*a.level,d=a.parent.opponent.getLastPet(),p=d.pet;null!=p&&(a.snipePet(p,l,d.random,n),this.triggerTigerExecution(e))}copy(e){return new uD(e,this.logService)}}class dD extends C{logService;constructor(e,t){super({name:"ChupacabraAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;for(let l=0;l<2*this.level;l++){let d=a.parent.getRandomPet([a],!0,!1,!0,a);if(null==d.pet)return;d.pet.increaseHealth(1),this.logService.createLog({message:`${a.name} gave ${d.pet.name} 1 health.`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random})}this.triggerTigerExecution(e)}copy(e){return new dD(e,this.logService)}}class hD extends C{logService;constructor(e,t){super({name:"DesertRainFrogAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.parent.trumpets>=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=Nt.getInjector().get(Xn);let a=Math.min(6,n.tier+this.level),l=o.getRandomFaintPet(n.parent,a,[],n);this.logService.createLog({message:`${n.name} transformed into ${l.name}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:!0}),n.parent.spendTrumpets(1,n,i),n.parent.transformPet(n,l),this.triggerTigerExecution(e)}copy(e){return new hD(e,this.logService)}}class pD extends C{logService;constructor(e,t){super({name:"DungBeetleAbility",owner:e,triggers:["FoodEatenByFriendly","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:n,pteranodon:o}=e,a=this.owner,l=a,d=t?.turnNumber??0;if(l.dungBeetleFoodTurn!==d&&(l.dungBeetleFoodTurn=d,l.dungBeetleFoodEaten=0),l.dungBeetleFoodSeededTurn!==d){l.dungBeetleFoodSeededTurn=d;const T=a.foodsEaten??0;T>0&&(l.dungBeetleFoodEaten=Math.min(3,Math.max(l.dungBeetleFoodEaten??0,T)))}if(i&&a.alive)return void(l.dungBeetleFoodEaten=Math.min(3,(l.dungBeetleFoodEaten??0)+1));if(a.alive)return;const p=Math.min(3,l.dungBeetleFoodEaten??0);if(p<=0)return;const b=3*this.level;for(let T=0;T<p;T++){let F=a.parent.opponent.getLowestHealthPet(void 0,a),U=F.pet;if(null==U)break;a.snipePet(U,b,F.random,n)}this.logService.createLog({message:`${a.name} dealt ${b} damage ${p} time(s) to the weakest enemy.`,type:"ability",player:a.parent,tiger:n,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new pD(e,this.logService)}}class gD extends C{logService;constructor(e,t){super({name:"FarmerChickenAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner;let o=n.parent.nearestPetsAhead(this.level,n);if(0!==o.pets.length){for(let a of o.pets)a.givePetEquipment(new Xl),this.logService.createLog({message:`${n.name} fed ${a.name} a Corncob.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:o.random});this.triggerTigerExecution(e)}}copy(e){return new gD(e,this.logService)}}class mD extends C{logService;constructor(e,t){super({name:"FrigatebirdAbility",owner:e,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>Ds(this.owner,i.triggerPet),abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const o=this.owner,a=qt(o,e.triggerPet),l=a.pet;if(!l)return;const d=l.equipment;!d||!d.equipmentClass?.startsWith("ailment")||(l.removePerk(),l.givePetEquipment(new zl),this.logService.createLog({message:`${o.name} removed ${d.name} from ${l.name} and gave ${l.name} Rice.`,type:"ability",player:o.parent,randomEvent:a.random}),this.triggerTigerExecution(e))}reset(){this.maxUses=this.level,super.reset()}copy(e){return new mD(e,this.logService)}}class fD extends C{logService;constructor(e,t){super({name:"FruitFlyAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner;let o=n.parent.getOppositeEnemyPet(n),a=o.pet;null!=a&&(a.givePetEquipment(new sP),this.logService.createLog({message:`${n.name} gave ${a.name} Blueberry.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:o.random}),n.snipePet(a,2*this.level,o.random,t),this.triggerTigerExecution(e))}copy(e){return new fD(e,this.logService)}}class yD extends C{logService;abilityService;constructor(e,t,i){super({name:"GoldenBeetleAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level*(t.attack>=10?3:1)} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new yD(e,this.logService,this.abilityService)}}class UL extends D{logService;abilityService;name="Daycrawler";tier=1;pack="Custom";hidden=!0;health=1;attack=1;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class bD extends C{logService;abilityService;constructor(e,t,i){super({name:"NightcrawlerAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:o}=e,a=this.owner;let d=a.parent==t.player?t.playerSummonedAmount:t.opponentSummonedAmount;if(0==d)return;let p=Math.min(50,this.level*d),T=new UL(this.logService,this.abilityService,a.parent,p,6,0,0),F=a.parent.summonPet(T,a.savedPosition,!1,a);F.success&&this.logService.createLog({message:`${a.name} spawned Daycrawler (6/${p})`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:F.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new bD(e,this.logService,this.abilityService)}}class vD extends C{logService;constructor(e,t){super({name:"OlmAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,o=this.owner,a=o.parent===t.player?t.playerRollAmount||0:t.opponentRollAmount||0,l=o.parent.getPetsWithEquipmentWithSillyFallback("Spooked",o),d=o.parent.opponent.getRandomPet(l,null,!0,null,o),p=d.pet;if(!p)return;const b=new la;a>0&&(b.multiplier+=a),this.logService.createLog({message:`${o.name} made ${p.name}${b.multiplier>1?` ${b.multiplier}x`:""} Spooked.`,type:"ability",player:o.parent,tiger:i,pteranodon:n,randomEvent:d.random}),p.givePetEquipment(b),this.triggerTigerExecution(e)}copy(e){return new vD(e,this.logService)}}class AD extends C{logService;constructor(e,t){super({name:"PandaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=.5*this.level,d={attack:Math.floor(a.attack*l),health:Math.floor(a.health*l)},p=a.parent.nearestPetsAhead(1,a);if(p.pets.length>0){let b=p.pets[0];b.increaseAttack(d.attack),b.increaseHealth(d.health),this.logService.createLog({message:`${a.name} gave ${b.name} ${d.attack} attack and ${d.health} health.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:p.random})}a.health=0,this.triggerTigerExecution(e)}copy(e){return new AD(e,this.logService)}}class _D extends C{constructor(e){super({name:"Pink Robin Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=2*this.level,a=n.parent.petArray.filter(l=>l.alive&&l!==n&&l.tier<=o);if(a.length>0){const l=$t({key:"pet.pink-robin-end-turn-target",label:xi(n,"Pink Robin end-turn target"),options:a.map(T=>({id:`${T.savedPosition+1}:${T.name}`,label:`P${T.savedPosition+1} ${T.name}`}))},()=>we(0,a.length-1)),d=a[l.index],p=Nt.getInjector().get(Pp),b=Nt.getInjector().get(Yn);p.triggerAbility(d,"EndTurn",n),b.createLog({message:`${n.name} activated End Turn on ${d.name}.`,type:"ability",player:n.parent,randomEvent:l.randomEvent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new _D(e)}}class SD extends C{logService;constructor(e,t){super({name:"Roadrunner Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const i=this.owner,n=this.level,a=i.parent.petArray.filter(l=>l.alive&&l.position<i.position).sort((l,d)=>d.position-l.position).slice(0,n);for(const l of a){const d=new ws(this.logService);d&&l.applyEquipment(d),l.attack+=2,this.logService.createLog({message:`${i.name} gave Strawberry and +2 attack to ${l.name}.`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new SD(e,this.logService)}}class PD extends C{logService;constructor(e,t){super({name:"SeahorseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,a=n.parent.opponent.getLastPet();if(null==a.pet)return;const l=a.pet;l.parent.pushPet(l,this.level),this.logService.createLog({message:`${n.name} pushed ${l.name} forward ${this.level} space(s).`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:a.random}),this.triggerTigerExecution(e)}copy(e){return new PD(e,this.logService)}}class kD extends C{constructor(e){super({name:"Sphinx Ability",owner:e,triggers:["ThisBought"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){const{gameApi:t}=e,i=this.owner,n=this.level,o=["Tennis Ball","Plastic Saw","Toilet Paper","Foam Sword","Flashlight","Television"],a=$t({key:"pet.sphinx-toy-roll",label:xi(i,"Sphinx adventurous toy roll"),options:o.map(p=>({id:p,label:p}))},()=>we(0,o.length-1)),l=o[a.index],d=t?.toyService?.createToy(l,i.parent,n);d&&(i.parent.toy=d,t?.logService?.createLog({message:`${i.name} gained a level ${n} ${l}.`,type:"ability",player:i.parent,randomEvent:a.randomEvent})),this.triggerTigerExecution(e)}copy(e){return new kD(e)}}class wD extends C{constructor(e){super({name:"Spotted Handfish Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){const{gameApi:t}=e,i=this.owner,n=this.level,o=["Cold","Crisp","Dazed","Icky","Inked","Spooked","Weak","Silly","Bloated","Confused","Cursed","Sad","Sleepy","Webbed"];for(let a=0;a<n;a++){const l=$t({key:"pet.spotted-handfish-ailment",label:xi(i,"Spotted Handfish canned ailment",a+1),options:o.map(p=>({id:p,label:p}))},()=>we(0,o.length-1)),d=o[l.index];i.parent.cannedAilments.push(d),t?.logService?.createLog({message:`${i.name} stocked a canned ${d}.`,type:"ability",player:i.parent,randomEvent:l.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new wD(e)}}class TD extends D{logService;abilityService;petService;name="Tadpole";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new ED(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class ED extends C{logService;petService;constructor(e,t,i){super({name:"Tadpole Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.petService=i}executeAbility(e){const t=this.owner,i=t.level,n=this.petService.createPet({name:"Frog",attack:null,health:null,mana:0,exp:Pl(i),equipment:null},t.parent);n&&(t.parent.transformPet(t,n),this.logService.createLog({message:`${t.name} transformed into a level ${i} Frog.`,type:"ability",player:t.parent})),this.triggerTigerExecution(e)}copy(e){return new ED(e,this.logService,this.petService)}}class CD extends C{logService;constructor(e,t){super({name:"Thorny Dragon Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=3*this.level,a=n.parent.opponent.petArray.filter(T=>T.alive);if(0===a.length)return;const l=a.filter(T=>!!T.equipment&&("ailment-attack"===T.equipment.equipmentClass||"ailment-defense"===T.equipment.equipmentClass||"ailment-other"===T.equipment.equipmentClass)),d=l.length>0?l:a,p=d.length>1,b=d[we(0,d.length-1)];b&&(n.snipePet(b,o,p,t,i),this.logService.createLog({message:`${n.name} fainted and dealt ${o} damage to ${b.name} (prioritizing ailments).`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:p})),this.triggerTigerExecution(e)}copy(e){return new CD(e,this.logService)}}class xD extends C{logService;constructor(e,t){super({name:"Vervet Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,i=this.owner,n=this.level,o="Microwave Oven",a=t?.toyService?.createToy(o,i.parent,n);a&&(i.parent.toy=a,this.logService.createLog({message:`${i.name} summoned a level ${n} ${o}.`,type:"ability",player:i.parent})),this.triggerTigerExecution(e)}copy(e){return new xD(e,this.logService)}}class DD extends C{logService;usedFirstTrigger=!1;constructor(e,t){super({name:"Warf Ability",owner:e,triggers:["ThisGainedMana","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner;if("StartBattle"===e.trigger)return this.usedFirstTrigger=!1,void this.triggerTigerExecution(e);const o=n.parent.opponent.getRandomPet([],!1,!1,!1,n);if(o.pet){const a=o.pet,l=this.level,d=this.usedFirstTrigger?l:3*l;n.snipePet(a,d,o.random,t,i),this.logService.createLog({message:`${n.name} gained mana and dealt ${d} damage to ${a.name}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:o.random}),this.usedFirstTrigger=!0}this.triggerTigerExecution(e)}copy(e){return new DD(e,this.logService)}}class ID extends C{logService;constructor(e,t){super({name:"Wombat Ability",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,a=n.parent.opponent.petArray.find(l=>l.alive&&l.isFaintPet());if(a){const l=Nt.getInjector().get(Xn);if(!l)return void this.triggerTigerExecution(e);const d=l.createPet({name:a.name,attack:null,health:null,exp:Pl(this.level),equipment:null,mana:null},n.parent);n.parent.transformPet(n,d),this.logService.createLog({message:`${n.name} transformed into level ${this.level} ${a.name}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new ID(e,this.logService)}}class MD extends C{logService;constructor(e,t){super({name:"Yak Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=this.level,a=2*this.level;n.dealDamage(n,o),n.increaseAttack(a),this.logService.createLog({message:`${n.name} took ${o} damage and gained +${a} attack.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new MD(e,this.logService)}}class RD extends C{logService;constructor(e,t){super({name:"Aardvark Ability",owner:e,triggers:["EnemySummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=this.level,a=3*this.level;n.increaseAttack(o),n.increaseHealth(a),this.logService.createLog({message:`${n.name} gained +${o}/+${a} from EnemySummoned.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new RD(e,this.logService)}}class LD extends C{hasUsed=!1;logService;constructor(e,t){super({name:"Axehandle Hound Ability",owner:e,triggers:["BeforeFriendlyAttack","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e;if("StartBattle"===e.trigger)return this.hasUsed=!1,void this.triggerTigerExecution(e);if(this.hasUsed)return;const o=t.opponent;if(!o)return;const a=o.petArray.filter(p=>p.health>0),l=a.map(p=>p.name);if(new Set(l).size!==l.length){this.hasUsed=!0;const p=2*this.level;this.logService.createLog({message:`${this.owner.name} activated. Opponent has duplicates. Dealing ${p} damage to all enemies.`,type:"ability",player:this.owner.parent,tiger:i,pteranodon:n});for(const b of a)this.owner.dealDamage(b,p)}this.triggerTigerExecution(e)}copy(e){const t=new LD(e,this.logService);return t.hasUsed=this.hasUsed,t}}class ND extends C{logService;constructor(e,t){super({name:"Barnacle Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,i=this.owner;if(0===(i.parent===t.player?t.playerRollAmount||0:t.opponentRollAmount||0)){const o=this.level;i.increaseExp(o),this.logService.createLog({message:`${i.name} gained +${o} experience (EndTurn, no rolls).`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new ND(e,this.logService)}}class FD extends C{logService;abilityService;constructor(e,t,i){super({name:"BearAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner,l=this.level,d=a.savedPosition,p=[];for(const b of a.parent.petArray)if(b.alive){const T=Math.abs(b.position-d);T>0&&T<=l&&p.push(b)}for(const b of a.parent.opponent.petArray)b.alive&&d+b.position+1<=l&&p.push(b);for(let b of p)b.givePetEquipment(new yE(this.logService,this.abilityService)),this.logService.createLog({message:`${a.name} gave ${b.name} Honey.`,type:"ability",player:a.parent,tiger:n,pteranodon:o});this.triggerTigerExecution(e)}copy(e){return new FD(e,this.logService,this.abilityService)}}class OD extends C{logService;constructor(e,t){super({name:"Blue Dragon Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,l=n.parent.nearestPetsBehind(4,n).pets.length*this.level;if(l>0){const T=n.parent.resolveTrumpetGainTarget(n);T.player.gainTrumpets(l,n,i,void 0,void 0,T.random)}const d=this.level,b=n.parent.nearestPetsAhead(4,n).pets;b.length>0&&(b.forEach(T=>T.increaseMana(d)),this.logService.createLog({message:`${n.name} gave ${b.length} friend${1===b.length?"":"s"} ahead +${d} mana at StartBattle.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})),this.triggerTigerExecution(e)}copy(e){return new OD(e,this.logService)}}class BD extends C{logService;constructor(e,t){super({name:"Brazillian Treehopper Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,l=n.parent.getRandomEnemyPetsWithSillyFallback(2*this.level,[],!1,!1,n).pets;if(l.length>1){let d=0,p=0;for(const F of l)d+=F.attack,p+=F.health;const b=Math.floor(d/l.length),T=Math.floor(p/l.length);for(const F of l)F.attack=Math.max(1,b),F.health=Math.max(1,T);this.logService.createLog({message:`${n.name} averaged stats of ${l.length} enemies to ${b}/${T}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new BD(e,this.logService)}}class $D extends C{logService;constructor(e,t){super({name:"Caladrius Ability",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,o=this.owner;if(t&&t.parent===o.parent&&t!==o&&t.mana>=3){const a=2*this.level;t.mana-=3,t.increaseAttack(a),t.increaseHealth(a),this.logService.createLog({message:`${o.name} spent 3 mana from ${t.name} to give it +${a}/+${a}.`,type:"ability",player:o.parent,tiger:i,pteranodon:n})}this.triggerTigerExecution(e)}copy(e){return new $D(e,this.logService)}}class GD extends C{logService;pendingAttack=0;pendingHealth=0;usedThisTurn=!1;constructor(e,t){super({name:"CentipedeAbility",owner:e,triggers:["FriendBought","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{trigger:t,triggerPet:i,tiger:n,pteranodon:o}=e,a=this.owner;if("FriendBought"===t){if(this.usedThisTurn||!i)return;const d=this.level*(i.tier??1);return a.increaseAttack(d),a.increaseHealth(d),this.pendingAttack+=d,this.pendingHealth+=d,this.usedThisTurn=!0,this.logService.createLog({message:`${a.name} gained +${d} attack and +${d} health until next turn.`,type:"ability",player:a.parent,tiger:n,pteranodon:o}),void this.triggerTigerExecution(e)}if("EndTurn"===t)return(this.pendingAttack||this.pendingHealth)&&(a.increaseAttack(-this.pendingAttack),a.increaseHealth(-this.pendingHealth),this.pendingAttack=0,this.pendingHealth=0),void(this.usedThisTurn=!1)}copy(e){return new GD(e,this.logService)}}class HD extends C{logService;constructor(e,t){super({name:"Deer Lord Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.petAhead;i&&(i.health=0,this.logService.createLog({message:`${t.name} knocked out ${i.name}.`,type:"ability",player:t.parent}),this.logService.createLog({message:`${t.name} stocked ${this.level} free Bacon.`,type:"ability",player:t.parent})),this.triggerTigerExecution(e)}copy(e){return new HD(e,this.logService)}}class W3 extends D{logService;abilityService;name="Dimetrodon";tier=3;pack="Custom";hidden=!0;constructor(e,t,i,n,o,a,l,d){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,null,d)}initAbilities(){}}class jD extends C{logService;constructor(e,t){super({name:"Dimetrodon Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=this.level,a=5*o,d=new W3(this.logService,n.abilityService,n.parent,a,a);if(n.parent.summonPet(d,n.position).success)this.logService.createLog({message:`${n.name} summoned a ${a}/${a} Dimetrodon.`,type:"ability",player:n.parent,tiger:t,pteranodon:i});else{const b=o,T=n.parent.petArray.filter(F=>F&&F!==n);for(const F of T)F.increaseAttack(b),F.increaseHealth(b);T.length>0&&this.logService.createLog({message:`${n.name} gave friends +${b}/+${b}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new jD(e,this.logService)}}class qD extends C{logService;constructor(e,t){super({name:"Dugong Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=2*this.level,a=2*this.level,l=Nt.getInjector().get(Xn),d=n.parent.pack,p=n.parent.petArray.filter(b=>b.alive&&b!==n&&!this.isPetInActivePack(b,d,l));for(const b of p)b.increaseAttack(o),b.increaseHealth(a);p.length>0&&this.logService.createLog({message:`${n.name} gave +${o}/+${a} to pets outside ${d}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}isPetInActivePack(e,t,i){if(!i)return e.pack===t;if(Wh.includes(t))return(i.basePackPetsByName[t]?.get(e.tier)??[]).includes(e.name);const n=i.playerCustomPackPets.get(t);return n?n.get(e.tier)?.includes(e.name)??!1:e.pack===t}copy(e){return new qD(e,this.logService)}}class UD extends C{logService;constructor(e,t){super({name:"Eel Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=.5*this.level,a=Math.floor(n.health*o);n.increaseHealth(a),this.logService.createLog({message:`${n.name} gained +${a} health (+${100*o}%).`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new UD(e,this.logService)}}class VD extends C{logService;constructor(e,t){super({name:"Emperor Tamarin Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} sold and gave ${1===this.level?33:2===this.level?66:100}% of its stats to the leftmost shop pet.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)}copy(e){return new VD(e,this.logService)}}class WD extends C{logService;constructor(e,t){super({name:"Farmer Pig Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=[n.petAhead,n.petBehind()].filter(a=>null!==a&&a.alive);for(const a of o)for(let l=0;l<this.level;l++){const d=new Xl;d.effectMultiplier=2,a.givePetEquipment(d)}o.length>0&&this.logService.createLog({message:`${n.name} fed adjacent friends ${this.level} Corncob${1===this.level?"":"s"} with double effect.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new WD(e,this.logService)}}class KD extends C{logService;constructor(e,t){super({name:"FlyingSquirrelAbility",owner:e,triggers:["FriendlyToyBroke"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=2*this.level,d=a.parent.getThis(a),p=d.pet;if(null==p||(p.increaseAttack(l),this.logService.createLog({message:`${a.name} gave ${p.name} +${l} attack`,type:"ability",player:a.parent,tiger:n,randomEvent:d.random}),null==a.parent.brokenToy))return;const b=Nt.getInjector().get(Ar).createToy(a.parent.brokenToy.name,a.parent);b.level=Math.min(this.level,a.parent.brokenToy.level),a.parent.setToy(b),this.logService.createLog({message:`${b.name} respawned (Level ${b.level})!`,type:"ability",player:a.parent,tiger:n}),this.triggerTigerExecution(e)}copy(e){return new KD(e,this.logService)}}class zD extends C{logService;constructor(e,t){super({name:"Foo Dog Ability",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} was bought and gave future shop pets from the next tier +${2*this.level} health.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)}copy(e){return new zD(e,this.logService)}}class YD extends C{logService;constructor(e,t){super({name:"Gerenuk Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=n.parent.opponent;let a=this.level;for(;a>0;){const l=this.getHighestTierPerkPet(o);if(!l)break;const d=l.equipment?.name??"perk";l.removePerk(!0),this.logService.createLog({message:`${n.name} removed ${l.name}'s ${d}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),a--}this.triggerTigerExecution(e)}getHighestTierPerkPet(e){const t=e.petArray.filter(o=>o.alive&&o.equipment&&!this.isAilmentEquipment(o.equipment));if(0===t.length)return null;let i=Math.max(...t.map(o=>o.equipment?.tier??0));return t.filter(o=>(o.equipment?.tier??0)===i).sort((o,a)=>o.position-a.position)[0]??null}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new YD(e,this.logService)}}class XD extends C{logService;constructor(e,t){super({name:"Great Potoo Ability",owner:e,triggers:["AnyoneHurt"],abilityType:"Pet",native:!0,maxUses:5,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,i=this.owner;if(!0!==t.FirstNonJumpAttackHappened){const o=2*this.level;i.increaseHealth(o),this.logService.createLog({message:`${i.name} gained +${o} health from AnyoneHurt (before any attacks).`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new XD(e,this.logService)}}class JD extends C{logService;constructor(e,t){super({name:"Jewel Caterpillar Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=n.parent;if(o.trumpets<2)return void this.triggerTigerExecution(e);const l=o.petArray.filter(b=>b.alive&&b!==n).slice(-2);if(0===l.length)return void this.triggerTigerExecution(e);const d=this.level;l.forEach(b=>b.increaseSellValue(d)),o.spendTrumpets(2,n,i);const p=this.formatNames(l.map(b=>b.name));this.logService.createLog({message:`${n.name} spent 2 trumpets to give ${p} +${d} sell value each permanently.`,type:"ability",player:o,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}formatNames(e){return 0===e.length?"no friends":1===e.length?e[0]:`${e.slice(0,-1).join(", ")} and ${e[e.length-1]}`}copy(e){return new JD(e,this.logService)}}class QD extends C{logService;constructor(e,t){super({name:"Pangasius Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=this.getFriendWithAilment(n.parent),a=this.getFirstEnemy(n.parent.opponent);if(!a)return void this.triggerTigerExecution(e);const l=this.level,d=o?.equipment??new la,p=$r(d);if(!p)return void this.triggerTigerExecution(e);l>1&&(p.multiplier=l,p.multiplierMessage=` x${l} (Pangasius)`),a.givePetEquipment(p);const b=["copied","copied with double effect","copied with triple effect"],T=b[Math.min(l,b.length)-1];this.logService.createLog({message:`${n.name} ${T} ${o?`${o.name}'s ${d?.name}`:d?.name} onto ${a.name}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}getFriendWithAilment(e){return e.petArray.filter(i=>i.alive&&i.equipment&&this.isAilmentEquipment(i.equipment)).sort((i,n)=>i.position-n.position)[0]??null}getFirstEnemy(e){return e.petArray.find(t=>t.alive)??null}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new QD(e,this.logService)}}class ZD extends C{logService;constructor(e,t){super({name:"Patagonian Mara Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=n.parent,a=4*this.level;o.gainTrumpets(a,n,i);const l=Nt.getInjector().get(Da),d=new Za(this.logService,l,o,this.level,this.level);o.summonPet(d,n.position),this.logService.createLog({message:`${n.name} gained ${a} trumpets and summoned a Golden Retriever.`,type:"ability",player:o,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new ZD(e,this.logService)}}class eI extends C{logService;constructor(e,t){super({name:"Pony Ability",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=n.parent,a=this.level,l=n.petBehind();if(!l)return void this.triggerTigerExecution(e);const d=o.abilityService;for(let p=0;p<a;p++)this.applyBetterApple(l,d);this.logService.createLog({message:`${n.name} fed ${l.name} ${a} Better Apple${1===a?"":"s"} after knocking out an enemy.`,type:"ability",player:o,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}applyBetterApple(e,t){e.increaseAttack(2),e.increaseHealth(2),t?.triggerFoodEvents(e,"better apple")}copy(e){return new eI(e,this.logService)}}class tI extends C{logService;constructor(e,t){super({name:"Porcupine Ability",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t}=e,i=this.owner;if(t&&t.alive&&t.parent!==i.parent){const n=3*this.level;i.dealDamage(t,n),this.logService.createLog({message:`${i.name} reflected ${n} damage to ${t.name}.`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new tI(e,this.logService)}}class VL extends D{logService;abilityService;name="Quail";tier=1;pack="Custom";hidden=!0;attack=2;health=2;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class iI extends C{logService;abilityService;constructor(e,t,i){super({name:"Quail Chick Ability",owner:e,triggers:["FoodEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=2*this.level*2,a=n.petAhead;a&&a.alive&&(a.increaseAttack(o),a.increaseHealth(o));const l=new VL(this.logService,this.abilityService,n.parent,void 0,void 0,void 0,n.exp);n.parent.transformPet(n,l),this.logService.createLog(a&&a.alive?{message:`${n.name} transformed into ${l.name} and gave ${a.name} +${o} attack and +${o} health.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}:{message:`${n.name} transformed into ${l.name}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new iI(e,this.logService,this.abilityService)}}class nI extends C{logService;constructor(e,t){super({name:"Queen Bee Ability",owner:e,triggers:["BeeSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i,triggerPet:n}=e,o=this.owner,a=n;if(!a||"Bee"!==a.name)return void this.triggerTigerExecution(e);const l=3*this.level;a.increaseAttack(l),a.increaseHealth(l);const d=this.removeOtherQueenBees(o);this.logService.createLog({message:`${o.name} gave ${a.name} +${l}/+${l} and removed ${d} other Queen Bees.`,type:"ability",player:o.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}removeOtherQueenBees(e){const t=[e.parent,e.parent.opponent];let i=0;for(const n of t){for(const o of[...n.petArray])o!==e&&o.alive&&"Queen Bee"===o.name&&(o.health=0,n.handleDeath(o),i++);n.removeDeadPets()}return i}copy(e){return new nI(e,this.logService)}}class rI extends C{logService;constructor(e,t){super({name:"Quetzalcoatlus Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,o=this.owner;if(!t||!t.alive)return void this.triggerTigerExecution(e);const a=this.level,l=t.parent.petArray.filter(d=>d.alive);for(const d of l)d.increaseAttack(a),d.increaseHealth(a);this.logService.createLog({message:`${o.name} (Faint) gave +${a}/+${a} to ${t.name} and its friends.`,type:"ability",player:o.parent,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new rI(e,this.logService)}}class aI extends C{logService;constructor(e,t){super({name:"Sage-Grouse Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=n.parent;"Strawberry"===n.equipment?.name?(n.removePerk(!0),o.gold=(o.gold??0)+3,this.logService.createLog({message:`${n.name} sold and removed Strawberry to gain +3 gold.`,type:"ability",player:o,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new aI(e,this.logService)}}class oI extends D{logService;abilityService;petService;name="Sarcastic Fringehead";tier=3;pack="Custom";attack=4;health=7;initAbilities(){this.addAbility(new sI(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class sI extends C{logService;petService;constructor(e,t,i){super({name:"SarcasticFringeheadAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.petService=i}spawnForOpponent(e){const t=this.owner,i=t.parent.opponent;if(0===(t.swallowedPets?.length??0)){const n=t.sarcasticFringeheadSwallowedPet;if(n){const o=this.petService.createPet({name:n,attack:1,health:1,exp:t.minExpForLevel,equipment:null,mana:0},t.parent);o&&t.swallowedPets.push(o)}}for(;t.swallowedPets.length>0;){const n=t.swallowedPets.shift();if(!n)continue;n.parent=i;const o=i.summonPet(n,0,!1);o.success&&this.logService.createLog({message:`${t.name} spawned ${n.name} for the opponent.`,type:"ability",player:t.parent,tiger:e.tiger,randomEvent:o.randomEvent})}}executeAbility(e){this.spawnForOpponent(e),this.triggerTigerExecution(e)}copy(e){return new sI(e,this.logService,this.petService)}}class lI extends C{logService;constructor(e,t){super({name:"Silkie Chicken Ability",owner:e,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,maxUses:2,abilitylevel:e.level,precondition:i=>{const n=i.triggerPet;return!!n&&n.alive},abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i,triggerPet:n}=e,o=this.owner,a=n;if(!a)return;const d=Nt.getInjector().get(Pi).getUsefulPerksByTier(1);if(0===d.length)return;const b=d[we(0,d.length-1)];a.givePetEquipment(b),this.logService.createLog({message:`${o.name} gave ${a.name} the ${b.name} perk.`,type:"ability",player:o.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new lI(e,this.logService)}}class WL extends D{logService;abilityService;name="Smaller Slime";tier=1;pack="Unicorn";hidden=!0;health=2;attack=2;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class KL extends D{logService;abilityService;name="Slime";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new cI(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class cI extends C{logService;abilityService;constructor(e,t,i){super({name:"Slime Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=Math.max(0,n.battlesFought??0),a=Math.floor(o/2);if(a<=0)return void this.triggerTigerExecution(e);const l=2*this.level;let d=0;for(let p=0;p<a;p++){const b=new WL(this.logService,this.abilityService,n.parent,l,l);if(!n.parent.summonPet(b,n.savedPosition,!1,n).success)break;d++}d>0&&this.logService.createLog({message:`${n.name} summoned ${d} ${l}/${l} Smaller Slime${1===d?"":"s"}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new cI(e,this.logService,this.abilityService)}}class uI extends C{logService;constructor(e,t){super({name:"Sugar Glider Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=2*this.level,l=Le(n.parent.petArray.filter(d=>d.alive&&d!==n)).slice(0,2);for(const d of l)d.mana+=o;l.length>0&&this.logService.createLog({message:`${n.name} gave ${o} mana to ${l.length} friends.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new uI(e,this.logService)}}class dI extends C{logService;constructor(e,t){super({name:"Tree Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=[6,12,18],a=o[Math.min(this.level-1,o.length-1)];n.attack<=a&&(n.givePetEquipment(new dr),this.logService.createLog({message:`${n.name} gained Coconut perk for meeting the ${a} attack threshold.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})),this.triggerTigerExecution(e)}copy(e){return new dI(e,this.logService)}}class hI extends C{logService;constructor(e,t){super({name:"Vampire Parrot Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=n.parent.petArray.filter(F=>F.alive&&F.equipment),a=new Set;for(const F of o){const U=F.equipment.equipmentClass;("ailment-attack"===U||"ailment-defense"===U||"ailment-other"===U)&&a.add(F.equipment.name)}const l=a.size;if(0===l)return void this.triggerTigerExecution(e);const d=this.level,p=2*this.level,b=l*d,T=l*p;n.increaseAttack(b),n.increaseHealth(T),this.logService.createLog({message:`${n.name} gained +${b}/+${T} (+${d}/+${p} per unique ailment) from ${l} friendly pets with different ailments.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new hI(e,this.logService)}}class pI extends C{logService;constructor(e,t){super({name:"Wasp Ability",owner:e,triggers:["ShopUpgrade"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,n=Math.floor(t.attack*(.5*this.level));n>0&&(t.increaseAttack(n),this.logService.createLog({message:`${t.name} gained +${n} attack from Shop Upgrade.`,type:"ability",player:t.parent}))}copy(e){return new pI(e,this.logService)}}const gI=new Map,zL=Ts??Es;if(Array.isArray(zL))for(const r of zL){if(!r||"object"!=typeof r)continue;const e=r;if(!e.Name)continue;const t=Number(e.Attack??0),i=Number(e.Health??0);gI.set(e.Name,{attack:t,health:i})}class mI extends C{logService;pendingAttack=0;pendingHealth=0;constructor(e,t){super({name:"Andrewsarchus Ability",owner:e,triggers:["EndTurn","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,o=this.owner;if("StartTurn"===e.trigger)return(this.pendingAttack||this.pendingHealth)&&(o.increaseAttack(-this.pendingAttack),o.increaseHealth(-this.pendingHealth),this.pendingAttack=0,this.pendingHealth=0),void this.triggerTigerExecution(e);const a=o.parent===t?.player?t?.playerPetPool:t?.opponentPetPool,l=[];let d=-1;for(const ee of a?.values()??[])for(const Z of ee??[]){const se=gI.get(Z);se&&(se.health>d?(d=se.health,l.length=0,l.push(Z)):se.health===d&&l.push(Z))}if(!l.length||d<0)return void this.triggerTigerExecution(e);const p=1===l.length?l[0]:l[we(0,l.length-1)],b=gI.get(p);if(!b)return void this.triggerTigerExecution(e);const T=.5*this.level,F=Math.floor(b.attack*T),U=Math.floor(b.health*T);(F>0||U>0)&&(o.increaseAttack(F),o.increaseHealth(U),this.pendingAttack+=F,this.pendingHealth+=U),this.logService.createLog({message:`${o.name} removed ${p} from the shop and gained +${F}/+${U} until next turn.`,type:"ability",player:o.parent,tiger:i,pteranodon:n,randomEvent:l.length>1}),this.triggerTigerExecution(e)}copy(e){const t=new mI(e,this.logService);return t.pendingAttack=this.pendingAttack,t.pendingHealth=this.pendingHealth,t}}class fI extends C{logService;constructor(e,t){super({name:"AnubisAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,o=this.owner,a=[2,4,6],l=a[Math.min(Math.max(this.level,1)-1,a.length-1)],d=o.parent.petArray.filter(p=>p&&p!==o&&p.alive&&p.isFaintPet()&&p.tier<=l).sort((p,b)=>(p.position??0)-(b.position??0)).slice(0,2);for(const p of d)this.logService.createLog({message:`${o.name} activated ${p.name}'s faint ability (tier ${p.tier} <= ${l}).`,type:"ability",player:o.parent,tiger:i,pteranodon:n}),p.activateAbilities("PostRemovalFaint",t,"Pet");this.triggerTigerExecution(e)}copy(e){return new fI(e,this.logService)}}class yI extends C{logService;constructor(e,t){super({name:"Blue-Footed Booby Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner;if(n.parent.trumpets<4)return void this.triggerTigerExecution(e);const l=n.getPetsBehind(1,"Melon Slice")[0];if(!l||!l.alive)return void this.triggerTigerExecution(e);n.parent.spendTrumpets(4,n);const d=new Cp;d.uses=this.level,d.originalUses=d.uses,l.givePetEquipment(d),this.logService.createLog({message:`${n.name} spent 4 trumpets to give ${l.name} a Melon Slice (${d.uses} uses).`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new yI(e,this.logService)}}class bI extends C{logService;abilityService;constructor(e,t,i){super({name:"CrowAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked one ${1===this.level?"Chocolate":2===this.level?"Better Chocolate":"Best Chocolate"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new bI(e,this.logService,this.abilityService)}}class vI extends C{logService;constructor(e,t){super({name:"Deinocheirus Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=n.equipment;if(!o)return void this.triggerTigerExecution(e);if(!o.equipmentClass?.startsWith("ailment"))return void this.triggerTigerExecution(e);const l=this.level,d=l,p=2*l;n.increaseAttack(d),n.increaseHealth(p),this.logService.createLog({message:`${n.name} reversed ${o.name} and gained +${d}/+${p} (x${l}).`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new vI(e,this.logService)}}class AI extends C{logService;constructor(e,t){super({name:"DragonflyAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,n=t.parent.petArray.filter(a=>a&&a.alive&&a!==t),o=new Map;for(const a of n)o.has(a.level)||o.set(a.level,a);if(0!==o.size){for(const a of o.values())a.increaseAttack(i),a.increaseHealth(i);this.logService.createLog({message:`${t.name} gave friends +${i}/+${i} based on unique levels.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new AI(e,this.logService)}}class _I extends C{logService;pendingAttackBuff=0;pendingHealthBuff=0;constructor(e,t){super({name:"Gazelle Ability",owner:e,triggers:["StartTurn","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{trigger:t,gameApi:i,tiger:n,pteranodon:o}=e,a=this.owner;"StartTurn"===t?this.applyBonus(i,a,n,o):"EndTurn"===t&&this.removeBonus(a)}applyBonus(e,t,i,n){const a=Math.max(0,((t.parent===e?.player?e.playerGoldSpent:e?.opponentGoldSpent)??0)-10);if(a<=0)return this.pendingAttackBuff=0,void(this.pendingHealthBuff=0);const p=a*[2,4,6][Math.min(this.level-1,2)],b=a*[1,2,3][Math.min(this.level-1,2)];t.increaseAttack(p),t.increaseHealth(b),this.pendingAttackBuff=p,this.pendingHealthBuff=b,this.logService.createLog({message:`${t.name} gained +${p}/+${b} (per gold over 10) from ${a} gold.`,type:"ability",player:t.parent,tiger:i,pteranodon:n})}removeBonus(e){(0!==this.pendingAttackBuff||0!==this.pendingHealthBuff)&&(e.increaseAttack(-this.pendingAttackBuff),e.increaseHealth(-this.pendingHealthBuff),this.pendingAttackBuff=0,this.pendingHealthBuff=0)}copy(e){return new _I(e,this.logService)}}class YL extends D{logService;abilityService;name="Sleeping Gelada";tier=1;pack="Custom";hidden=!0;attack=3;health=7;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class SI extends C{logService;abilityService;constructor(e,t,i){super({name:"Gelada Ability",owner:e,triggers:["Eat2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=this.level;if(o<=0)return void this.triggerTigerExecution(e);const a=new YL(this.logService,this.abilityService,n.parent,void 0,void 0,void 0,n.exp);n.parent.transformPet(n,a),this.feedFriends(o),this.logService.createLog({message:`${n.name} transformed into ${a.name} and fed each friend ${o} Pear${1===o?"":"s"}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}feedFriends(e){if(e<=0)return;const n=this.owner.parent.petArray.filter(o=>o&&o.alive);for(const o of n)for(let a=0;a<e;a++)o.increaseAttack(1),o.increaseHealth(1),this.abilityService.triggerFoodEvents(o,"pear")}copy(e){return new SI(e,this.logService,this.abilityService)}}class PI extends D{logService;abilityService;petService;name="Goblin Shark";tier=4;pack="Custom";attack=6;health=3;initAbilities(){this.addAbility(new wI(this,this.logService,this.petService)),this.addAbility(new kI(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class kI extends C{logService;abilityService;constructor(e,t,i){super({name:"GoblinSharkFaintAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>this.owner.alive,abilityFunction:n=>{this.executeAbility(n)},ignoreRepeats:!0}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;for(;a.swallowedPets.length>0;){let l=a.swallowedPets.shift();l.health=1;let d=a.parent.summonPet(l,a.savedPosition,!1,a);d.success&&this.logService.createLog({message:`${a.name} summoned ${l.name} (level ${l.level}).`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:d.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new kI(e,this.logService,this.abilityService)}}class wI extends C{logService;petService;constructor(e,t,i){super({name:"GoblinSharkStartAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=6*this.level;for(let d of a.parent.opponent.petArray)if(d.alive&&d.health<=l){let p=this.petService.createPet({name:d.name,attack:d.attack,health:d.health,exp:d.exp,equipment:null,mana:0},a.parent);a.swallowedPets.push(p),d.health=0,this.logService.createLog({message:`${a.name} swallowed ${d.name}`,type:"ability",player:a.parent,tiger:n,pteranodon:o});break}this.triggerTigerExecution(e)}copy(e){return new wI(e,this.logService,this.petService)}}class TI extends C{logService;constructor(e,t){super({name:"HippocampusAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,o=this.owner;if(!t)return void this.triggerTigerExecution(e);const a=o.parent===t.player?t.playerRollAmount||0:t.opponentRollAmount||0,l=a*this.level;l<=0||(o.increaseMana(l),Xi(this.logService,o,`${o.name} gained ${l} mana from ${a} rolls this turn.`,i,n)),this.triggerTigerExecution(e)}copy(e){return new TI(e,this.logService)}}class EI extends C{logService;constructor(e,t){super({name:"Hoatzin Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=n.parent,a=3*this.level;let l=0;for(const b of o.petArray)!b||!b.alive||"Strawberry"===b.equipment?.name&&(b.removePerk(),l++);if(0===l)return void this.triggerTigerExecution(e);const d=a*l,p=o.resolveTrumpetGainTarget(n);p.player.gainTrumpets(d,n,t,void 0,void 0,p.random),this.logService.createLog({message:`${n.name} removed ${l} Strawberry${1===l?"":"s"} for +${d} trumpets.`,type:"ability",player:o,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new EI(e,this.logService)}}class CI extends C{logService;abilityService;lastTriggeredTurn=null;constructor(e,t,i){super({name:"Jerboa Ability",owner:e,triggers:["AppleEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i,gameApi:n}=e,o=this.owner,a=n?.turnNumber??null;if(null!=a&&this.lastTriggeredTurn===a)return void this.triggerTigerExecution(e);this.lastTriggeredTurn=a;const l=this.level,d=o.parent,p=d.petArray.filter(b=>b&&b.alive&&b!==o);if(0!==p.length){for(const b of p)b.increaseAttack(l),b.increaseHealth(l);this.logService.createLog({message:`${o.name} ate an apple and gave friendly pets +${l}/+${l}.`,type:"ability",player:d,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new CI(e,this.logService,this.abilityService)}}class xI extends C{logService;constructor(e,t){super({name:"Leaf Gecko Ability",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=Nt.getInjector().get(Pi),a=Array.from(o.getInstanceOfAllAilments().keys()),l=[...n.parent.petArray,...n.parent.opponent.petArray].filter(Z=>Z?.alive);if(0===a.length||0===l.length)return void this.triggerTigerExecution(e);const d=3*this.level;let p=0;const b=[];let T=0;const F=5*d;let U=!1;for(;p<d&&T<F;){const Z=$t({key:"pet.leaf-gecko-target",label:xi(n,"Leaf Gecko cursed target",T+1),options:l.map(Ge=>({id:`${Ge.parent?.isOpponent?"O":"P"}:${Ge.savedPosition+1}:${Ge.name}`,label:`${Ge.parent?.isOpponent?"O":"P"}${Ge.savedPosition+1} ${Ge.name}`}))},()=>we(0,l.length-1));U=U||Z.randomEvent;const se=l[Z.index];if(!se){T++;continue}const ve=a.filter(Ge=>Yh(se,Ge));if(0===ve.length){T++;continue}const Te=$t({key:"pet.leaf-gecko-ailment",label:xi(n,`Leaf Gecko ailment for ${se.name}`,T+1),options:ve.map(Ge=>({id:Ge,label:Ge}))},()=>we(0,ve.length-1));U=U||Te.randomEvent;const Ke=ve[Te.index];if(!Ke){T++;continue}const et=o.getInstanceOfAllAilments().get(Ke);if(!et){T++;continue}const Je=$r(et);Je?(se.parent!==n.parent&&(Je.multiplier=2,Je.multiplierMessage=" x2 (Leaf Gecko)"),se.givePetEquipment(Je),se.equipment?.name===Ke&&se.equipment?.equipmentClass?.startsWith("ailment")&&(p++,b.push(`${se.name} (${Ke}${se.parent!==n.parent?" x2":""})`)),T++):T++}const ee=p>0?`${n.name} cursed ${p} pet${1===p?"":"s"}: ${b.join(", ")}.`:`${n.name} could not apply any random ailments.`;Xi(this.logService,n,ee,t,i,{randomEvent:U}),this.triggerTigerExecution(e)}copy(e){return new xI(e,this.logService)}}class DI extends C{logService;constructor(e,t){super({name:"Leafy Sea Dragon Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=this.level,a=Fo(n);a.forEach(d=>{d.increaseExp(o)}),n.health=0,n.parent.handleDeath(n),n.parent.removeDeadPets(),Xi(this.logService,n,`${n.name} gave ${a.length} adjacent friend${1===a.length?"":"s"} +${o} experience and removed itself.`,t,i),this.triggerTigerExecution(e)}copy(e){return new DI(e,this.logService)}}const IB=(()=>{const r=ec??tc;if(!Array.isArray(r))return[];const e=[],t=/Give one pet \+(\d+) attack(?: and \+(\d+) health)?|Give one pet \+(\d+) health/;for(const i of r){if(!i||"object"!=typeof i)continue;const n=i,o=n.Ability??"";if(!o||/perk/i.test(o)||!o.startsWith("Give one pet +"))continue;const a=o.match(t);if(!a)continue;const l=a[1]?Number(a[1]):0,d=a[2]?Number(a[2]):a[3]?Number(a[3]):0;!Number.isFinite(l)||!Number.isFinite(d)||n.Name&&e.push({name:n.Name,attack:l,health:d})}return e})();class II extends C{logService;abilityService;constructor(e,t,i){super({name:"Locust Ability",owner:e,triggers:["FoodEatenByThis","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,o=this.owner,a=o,l=t?.turnNumber??0;if(a.locustFoodTurn!==l&&(a.locustFoodTurn=l,a.locustFoodEaten=0),a.locustFoodSeededTurn!==l){a.locustFoodSeededTurn=l;const U=o.foodsEaten??0;U>0&&(a.locustFoodEaten=Math.max(a.locustFoodEaten??0,U))}if("FoodEatenByThis"===e.trigger&&o.alive)return void(a.locustFoodEaten=(a.locustFoodEaten??0)+1);if("PostRemovalFaint"!==e.trigger)return void this.triggerTigerExecution(e);const d=a.locustFoodEaten??0;if(d<=0)return void this.triggerTigerExecution(e);let p=0;const b=o.position??o.savedPosition??0,T=Nt.getInjector().get(Xn),F=IB;for(let U=0;U<this.level;U++){const ee=T?T.getRandomPet(o.parent):null;if(!ee||!o.parent.summonPet(ee,b,!1,o).success)break;p++;for(let se=0;se<d&&0!==F.length;se++){const ve=F[we(0,F.length-1)];ve&&(ve.attack&&ee.increaseAttack(ve.attack),ve.health&&ee.increaseHealth(ve.health),this.abilityService?.triggerFoodEvents(ee,ve.name.toLowerCase()))}}this.logService.createLog({message:`${o.name} summoned ${p} friend${1===p?"":"s"} and fed them random food.`,type:"ability",player:o.parent,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new II(e,this.logService,this.abilityService)}}class MI extends C{logService;constructor(e,t){super({name:"Lynx Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=n.parent.petArray.reduce((d,p)=>d+(p?.level??0),0);if(o<=0)return void this.triggerTigerExecution(e);const a=this.level,l=[];for(let d=0;d<a;d++){const p=n.parent.opponent.getRandomPet(l,!1,!1,!1,n);if(!p.pet)break;l.push(p.pet),n.snipePet(p.pet,o,p.random)}this.logService.createLog({message:`${n.name} dealt ${o} damage to ${l.length} enemy${1===l.length?"":"ies"}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new MI(e,this.logService)}}class RI extends C{logService;abilityService;constructor(e,t,i){super({name:"Old Mouse Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=Nt.getInjector().get(Ar),a=Math.max(1,Math.min(3,this.level)),l=o.toys.get(a)??[];if(0===l.length)return void this.triggerTigerExecution(e);const d=l[0],p=o.createToy(d,n.parent,a);p?(n.parent.toy=p,n.parent.toy.used=!1,n.parent.toy.triggers=0,Xi(this.logService,n,`${n.name} chose a level ${a} ${d} toy.`,t,i),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new RI(e,this.logService,this.abilityService)}}class LI extends C{logService;pendingBuffs=new Map;constructor(e,t){super({name:"Pegasus Ability",owner:e,triggers:["FriendSummoned","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{trigger:t,tiger:i,pteranodon:n}=e,o=this.owner;if("FriendSummoned"===t){const a=o.parent.getRandomPets(3,[],!1,!1,o),l=this.level;if(a.pets.length>0){const d=[];for(const p of a.pets){p.increaseAttack(l);const b=this.pendingBuffs.get(p)??0;this.pendingBuffs.set(p,b+l),d.push(p.name)}this.logService.createLog({message:`${o.name} temporarily buffed ${d.join(", ")} for +${l} attack until next turn.`,type:"ability",player:o.parent,tiger:i,pteranodon:n,randomEvent:a.random})}}else"EndTurn"===t&&this.resetBuffs();this.triggerTigerExecution(e)}resetBuffs(){for(const[e,t]of this.pendingBuffs)e.alive&&e.increaseAttack(-t);this.pendingBuffs.clear()}copy(e){return new LI(e,this.logService)}}class NI extends C{logService;constructor(e,t){super({name:"PlatybelodonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,a=this.owner;let l=0;a.parent===t.player?l=t.playerRollAmount||0:a.parent===t.opponent&&(l=t.opponentRollAmount||0);let d=this.level*Math.min(l,8);if(d>0){const p=a.parent.resolveTrumpetGainTarget(a);p.player.gainTrumpets(d,a,n,void 0,void 0,p.random)}this.triggerTigerExecution(e)}copy(e){return new NI(e,this.logService)}}class FI extends C{logService;constructor(e,t){super({name:"Poodle Moth Ability",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",maxUses:e.level,native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:n}=i;return!!n&&n.parent===this.owner.parent},abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,o=this.owner;t&&(t.increaseExp(3),this.logService.createLog({message:`${o.name} gave ${t.name} +3 experience after transforming.`,type:"ability",player:o.parent,tiger:i,pteranodon:n}),this.triggerTigerExecution(e))}copy(e){return new FI(e,this.logService)}}class OI extends C{logService;constructor(e,t){super({name:"Racket Tail Ability",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",maxUses:e.level,native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:n}=i;return!!n&&n.parent===this.owner.parent&&n.alive},abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,o=this.owner;if(!t)return;const l=Nt.getInjector().get(Pi).getInstanceOfAllEquipment().get("Strawberry");l&&t.givePetEquipment(l),t.increaseAttack(5),this.logService.createLog({message:`${o.name} gave ${t.name} Strawberry and +5 attack before attacking.`,type:"ability",player:o.parent,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new OI(e,this.logService)}}class BI extends D{logService;abilityService;petService;name="Red Lipped Batfish";tier=4;pack="Custom";attack=5;health=3;initAbilities(){this.addAbility(new $I(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class $I extends C{logService;petService;constructor(e,t,i){super({name:"Red Lipped Batfish Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=n.parent.opponent;if(!o)return void this.triggerTigerExecution(e);const a=o.getPetAtPosition(n.position);if(!a||!a.alive)return void this.triggerTigerExecution(e);const l=Math.max(1,4-this.level),d=this.petService.getRandomFaintPet(o,l,[],n);o.transformPet(a,d),this.logService.createLog({message:`${n.name} transformed ${a.name} into ${d.name} (tier ${l}).`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new $I(e,this.logService,this.petService)}}class GI extends C{logService;constructor(e,t){super({name:"Rootling Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=this.level,l=n.parent.petArray.filter(d=>d&&d.alive&&d!==n&&d.health<n.health).sort((d,p)=>d.health-p.health).slice(0,2);for(const d of l)d.increaseAttack(o),d.increaseHealth(o);l.length>0&&this.logService.createLog({message:`${n.name} gave ${l.map(d=>d.name).join(", ")} +${o}/+${o}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new GI(e,this.logService)}}class HI extends C{logService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t){super({name:"Sea Anemone Ability",owner:e,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const i=e.triggerPet;if(!i||!i.isSellPet())return void this.triggerTigerExecution(e);const n=t.parent.petArray.filter(d=>d&&d!==t&&d.alive);if(0===n.length)return void this.triggerTigerExecution(e);const o=$t({key:"pet.sea-anemone-friend-sold-target",label:xi(t,"Sea Anemone sold buff target"),options:n.map(d=>({id:`${d.savedPosition+1}:${d.name}`,label:`P${d.savedPosition+1} ${d.name}`}))},()=>we(0,n.length-1)),a=n[o.index],l=Math.min(Math.max(this.level,1),3);a.increaseAttack(l),a.increaseHealth(l),this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave ${a.name} +${l}/+${l} after ${i.name} was sold.`,type:"ability",player:t.parent,randomEvent:o.randomEvent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new HI(e,this.logService)}}class jI extends D{logService;abilityService;petService;gameService;name="Seagull";tier=4;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new qI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b,T){super(e,t,o),this.logService=e,this.abilityService=t,this.petService=i,this.gameService=n,this.initPet(p,a,l,d,b,T)}}class qI extends C{logService;usesThisTurn=0;constructor(e,t){super({name:"SeagullAbility",owner:e,triggers:["FriendSummoned","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n,trigger:o}=e,a=this.owner;if("StartTurn"===o)return void(this.usesThisTurn=0);const l=ur(a,t);if(!l.pet||!a.equipment||this.usesThisTurn>=this.level)return void this.triggerTigerExecution(e);const d=Nt.getInjector().get(Pi),p=a.equipment,b=d.getInstanceOfAllEquipment().get(p.name);if(!b)return void this.triggerTigerExecution(e);const T=l.pet;T.givePetEquipment(b),this.usesThisTurn++,Xi(this.logService,a,`${a.name} gave ${T.name} a ${p.name}`,i,n,{randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new qI(e,this.logService)}}class UI extends C{logService;affectedPets=new Set;constructor(e,t){super({name:"Spider Crab Ability",owner:e,triggers:["FriendAttacked","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{triggerPet:i,tiger:n,pteranodon:o}=e;if("StartTurn"===e.trigger)return this.affectedPets.clear(),void this.triggerTigerExecution(e);if(!i||i.parent!==t.parent)return void this.triggerTigerExecution(e);if(!i.alive)return void this.triggerTigerExecution(e);if(this.affectedPets.has(i))return void this.triggerTigerExecution(e);if(this.affectedPets.size>=this.level)return void this.triggerTigerExecution(e);let a=i;if(Et(t)){const l=t.parent.petArray.filter(d=>d.alive);if(0===l.length)return void this.triggerTigerExecution(e);a=l[we(0,l.length-1)]}a.increaseHealth(4),a.parent.pushPetToBack(a),this.affectedPets.add(i),this.logService.createLog({message:`${t.name} moved ${a.name} to the back and gave it +4 health.`,type:"ability",player:t.parent,tiger:n,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new UI(e,this.logService)}}class VI extends C{logService;constructor(e,t){super({name:"Spiny Bush Viper Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.opponent.petArray.filter(l=>l&&l.alive);if(0===i.length)return void this.triggerTigerExecution(e);const n=Le([...i]).slice(0,Math.min(2,i.length)),o=t.position??t.savedPosition??0,a=[];for(const l of n){const p=Math.max(1,Math.abs(o-(l.position??l.savedPosition??0))),b=Math.max(1,this.level)*p;t.dealDamage(l,b),a.push(`${b} to ${l.name}`)}a.length>0&&this.logService.createLog({message:`${t.name} dealt ${a.join(" and ")}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new VI(e,this.logService)}}class VB extends D{name="Tardigrade";tier=1;pack="Custom";attack=3;health=3;initAbilities(){}constructor(e,t,i,n,o){super(e,t,i),this.initPet(0,n,o,0,void 0,0)}}class WI extends C{logService;abilityService;constructor(e,t,i){super({name:"Tardigrade Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=3*Math.max(1,this.level),n=t.position??t.savedPosition??0,o=new VB(this.logService,this.abilityService,t.parent,i,i);t.parent.summonPet(o,n,!1,t).success&&(o.givePetEquipment(new Eh),this.logService.createLog({message:`${t.name} summoned a ${i}/${i} level ${this.level} Tardigrade (Dazed).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})),this.triggerTigerExecution(e)}copy(e){return new WI(e,this.logService,this.abilityService)}}class KI extends C{logService;constructor(e,t){super({name:"Trout Ability",owner:e,triggers:["FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=e.triggerPet;if(!i||i.sellValue<3)return void this.triggerTigerExecution(e);const n=Math.max(1,this.level),o=2*n;t.increaseAttack(n),t.increaseHealth(o),this.logService.createLog({message:`${t.name} gained +${n}/+${o} after ${i.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new KI(e,this.logService)}}class zI extends C{logService;constructor(e,t){super({name:"Yeti Crab Ability",owner:e,triggers:["PetLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>{const{triggerPet:n}=i,o=this.owner;return!!n&&(n.parent!==o.parent?n.alive:Ds(o,n))},abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=e.triggerPet,{tiger:n,pteranodon:o}=e;if(i){if(i.parent===t.parent){const a=qt(t,i),l=a.pet;if(!l)return;const d=new Cp;l.givePetEquipment(d),this.logService.createLog({message:`${t.name} gave ${l.name} a Melon Slice after losing a perk.`,type:"ability",player:t.parent,tiger:n,randomEvent:a.random})}else t.dealDamage(i,6),this.logService.createLog({message:`${t.name} dealt 6 damage to ${i.name} after they lost a perk.`,type:"ability",player:t.parent,tiger:n,pteranodon:o});this.triggerTigerExecution(e)}}copy(e){return new zI(e,this.logService)}}class YI extends C{logService;foodsEatenThisTurn=0;seededFromShop=!1;constructor(e,t){super({name:"Blue Jay Ability",owner:e,triggers:["FoodEatenByThis","StartTurn","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.foodsEatenThisTurn=0,void(this.seededFromShop=!1);if(!this.seededFromShop){const i=t.foodsEaten??0;i>0&&(this.foodsEatenThisTurn=Math.max(this.foodsEatenThisTurn,i)),this.seededFromShop=!0}if("FoodEatenByThis"!==e.trigger){if("PostRemovalFaint"===e.trigger){const n=this.level*this.foodsEatenThisTurn;if(n<=0)return void this.triggerTigerExecution(e);const o=t.parent.petArray.filter(l=>l&&l!==t&&l.alive);if(0===o.length)return void this.triggerTigerExecution(e);Le(o);const a=o.slice(0,3);for(const l of a)l.increaseAttack(n),l.increaseHealth(n);this.logService.createLog({message:`${t.name} gave ${a.map(l=>l.name).join(", ")} +${n}/+${n} after fainting.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}else this.foodsEatenThisTurn++}copy(e){return new YI(e,this.logService)}}class XI extends C{logService;abilityService;reset(){this.maxUses=2*this.level,super.reset()}initUses(){this.maxUses=2*this.level,super.initUses()}constructor(e,t,i){super({name:"BoitataAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2*e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.getPetsWithEquipmentWithSillyFallback("Crisp",a),d=a.parent.opponent.getFurthestUpPet(a,l),p=d.pet;null!=p&&(this.logService.createLog({message:`${a.name} gave ${p.name} Crisp.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:d.random}),p.givePetEquipment(new Il),this.triggerTigerExecution(e))}copy(e){return new XI(e,this.logService,this.abilityService)}}class JI extends C{logService;attackers=new Set;constructor(e,t){super({name:"Brahma Chicken Ability",owner:e,triggers:["FriendAttacked","PostRemovalFaint","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{triggerPet:i,tiger:n,pteranodon:o}=e;if("StartBattle"!==e.trigger){if("FriendAttacked"===e.trigger&&i&&i.parent===t.parent)this.attackers.add(i);else if("PostRemovalFaint"===e.trigger){const a=Le(Array.from(this.attackers).filter(b=>b&&b.alive)),l=Math.min(3,a.length),d=this.level,p=a.slice(0,l);for(const b of p)b.increaseAttack(d),b.increaseHealth(d);p.length>0&&this.logService.createLog({message:`${t.name} gave ${p.map(b=>b.name).join(", ")} +${d}/+${d} after fainting.`,type:"ability",player:t.parent,tiger:n,pteranodon:o}),this.triggerTigerExecution(e)}}else this.attackers.clear()}copy(e){return new JI(e,this.logService)}}class JL extends D{logService;abilityService;name="Cuckoo Chick";tier=1;pack="Custom";hidden=!0;attack=1;health=1;increaseAttack(e){if(e<=0||!this.alive)return 0;const t=this.attack;return this.attack=Math.min(this.attack+e,1),this.attack-t}increaseHealth(e){if(e<=0||!this.alive)return 0;const t=this.health;return this.health=Math.min(this.health+e,1),this.health-t}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}}class QI extends C{logService;abilityService;constructor(e,t,i){super({name:"CuckooAbility",owner:e,triggers:["EnemyFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,o=this.owner,a=o.parent.opponent;if(this.currentUses>2*this.level)return;let d=new JL(this.logService,this.abilityService,a);d.initPet(0,1,1,0,null,0);let b=a.summonPet(d,t?.savedPosition??0,!0,o);b.success&&this.logService.createLog({message:`${o.name} summoned Cuckoo Chick for the enemy Early.`,type:"ability",player:o.parent,tiger:i,pteranodon:n,randomEvent:b.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new QI(e,this.logService,this.abilityService)}}class ZB extends D{name="Estemmenosuchus's Ally";tier=1;pack="Custom";attack=1;health=1;initAbilities(){}constructor(e,t,i,n,o){super(e,t,i),this.initPet(0,o,n,0,void 0,0)}}class ZI extends C{logService;abilityService;constructor(e,t,i){super({name:"Estemmenosuchus Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i}countAilments(){return this.owner.parent.petArray.filter(t=>{const i=t?.equipment?.equipmentClass;return!!i&&i.startsWith("ailment")}).length}executeAbility(e){const t=this.owner,i=Math.max(0,this.countAilments()),n=3+i,o=Math.min(this.level,3),a=t.position??t.savedPosition??0;let l=0;for(let d=0;d<o;d++){const p=new ZB(this.logService,this.abilityService,t.parent,n,n);if(!t.parent.summonPet(p,a,!1,t).success)break;l++}l>0&&this.logService.createLog({message:`${t.name} summoned ${l} 3/3 friend${1===l?"":"s"} with +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ZI(e,this.logService,this.abilityService)}}class eM extends C{logService;constructor(e,t){super({name:"Farmer Crow Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=Math.min(t.level,3),o=t.parent.nearestPetsBehind(i,t),a=o.pets;for(const l of a)for(let d=0;d<3;d++){const p=new Xl;p.effectMultiplier=3,l.applyEquipment(p)}a.length>0&&this.logService.createLog({message:`${t.name} fed Corncobs with 3x effect to ${a.length} friend${1===a.length?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new eM(e,this.logService)}}class tM extends C{logService;constructor(e,t){super({name:"Farmer Dog Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,n=t.parent.petArray.filter(o=>o&&o.alive&&o!==t);if(0!==n.length){for(const o of n){const a=new Xl;a.effectMultiplier=i,o.givePetEquipment(a)}this.logService.createLog({message:`${t.name} fed ${i} Corncob${1===i?"":"s"} to ${n.length} friend${1===n.length?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new tM(e,this.logService)}}class iM extends C{logService;foodsEaten=0;triggeredThisTurn=!1;constructor(e,t){super({name:"Flounder Ability",owner:e,triggers:["FoodEatenByThis","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.foodsEaten=0,this.triggeredThisTurn=!1,void this.triggerTigerExecution(e);if(this.triggeredThisTurn)return void this.triggerTigerExecution(e);if(this.foodsEaten++,this.foodsEaten<2)return void this.triggerTigerExecution(e);const i=this.level,n=t.parent.nearestPetsBehind(2,t);for(const o of n.pets)o.increaseExp(i),this.logService.createLog({message:`${t.name} gave ${o.name} ${i} exp.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random});this.triggeredThisTurn=!0,this.triggerTigerExecution(e)}copy(e){return new iM(e,this.logService)}}class nM extends C{logService;constructor(e,t){super({name:"Fox Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,n=Nt.getInjector().get(Pi).getInstanceOfAllEquipment(),o=Array.from(n.values()).filter(b=>"shop"===b.equipmentClass);if(0===o.length)return void this.triggerTigerExecution(e);const a=o[o.length-1],l=this.level,p=Math.max(1,2*t.level)*l;t.increaseAttack(p),t.increaseHealth(p),this.logService.createLog({message:`${t.name} stole ${a.name} (x${l}) and gained +${p}/+${p}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new nM(e,this.logService)}}class rM extends C{logService;triggerCount=0;constructor(e,t){super({name:"Giant Isopod Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,o=[2,4,6][Math.min(Math.max(this.level-1,0),2)]+Math.floor(this.triggerCount/2),a=t.parent.petArray.filter(l=>l&&l.alive&&l!==t);for(const l of a)l.increaseHealth(o);this.logService.createLog({message:`${t.name} gave ${a.length} friends +${o} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),t.parent.trumpets>=2&&t.parent.spendTrumpets(2,t),this.triggerCount++,this.triggerTigerExecution(e)}copy(e){return new rM(e,this.logService)}}class aM extends D{logService;abilityService;petService;name="Hippogriff";tier=5;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new oM(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class oM extends C{logService;abilityService;petService;pendingBuffs=new Map;constructor(e,t,i,n){super({name:"Hippogriff Ability",owner:e,triggers:["FriendSummoned","EndTurn","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>this.executeAbility(o)}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{trigger:t,triggerPet:i,gameApi:n}=e;if("FriendSummoned"===t){const d=ur(this.owner,i);d.pet&&this.applyTemporaryBuff(d.pet,e,d.random)}else"EndTurn"===t?this.resetBuffs():"PostRemovalFaint"===t&&this.summonNextTierPet(n,e);this.triggerTigerExecution(e)}applyTemporaryBuff(e,t,i){const n=this.owner,o=this.level;e.increaseAttack(o);const a=this.pendingBuffs.get(e)??0;this.pendingBuffs.set(e,a+o),Xi(this.logService,n,`${n.name} gave ${e.name} +${o} attack until next turn.`,t.tiger,t.pteranodon,{randomEvent:i})}resetBuffs(){for(const[e,t]of this.pendingBuffs)e&&e.increaseAttack(-t);this.pendingBuffs.clear()}summonNextTierPet(e,t){const i=this.owner;if(!e)return;const n=Number.isFinite(e.previousShopTier)?e.previousShopTier:1,o=Math.min(6,Math.max(1,n+1)),a=ee=>(ee??[]).filter(Z=>Z&&i.name&&Z.toLowerCase()!==i.name.toLowerCase()),l=i.parent===e.player?e.playerPetPool:e.opponentPetPool;let d=a(l?.get(o));if(d?.length||(d=a(this.petService.allPets.get(o))),d?.length||(d=a(this.petService.allPets.get(1))),!d.length)return;const p=$t({key:"pet.hippogriff-faint-summon",label:xi(i,`Hippogriff tier ${o} summon`),options:d.map(ee=>({id:ee,label:ee}))},()=>we(0,d.length-1)),T=5*this.level,F=this.petService.createPet({name:d[p.index],attack:T,equipment:null,exp:0,health:T,mana:0},i.parent);i.parent.summonPet(F,i.savedPosition,!1,i).success&&this.logService.createLog({message:`${i.name} spawned a ${F.attack}/${F.health} ${F.name} from tier ${o}.`,type:"ability",player:i.parent,tiger:t.tiger,randomEvent:p.randomEvent,pteranodon:t.pteranodon})}copy(e){return new oM(e,this.logService,this.abilityService,this.petService)}}class sM extends C{logService;constructor(e,t){super({name:"HyenaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:o}=e;switch(this.level){case 1:this.level1Ability(t,n,o);break;case 2:this.level2Ability(t,n,o);break;case 3:this.level3Ability(t,n,o)}this.triggerTigerExecution(e)}level1Ability(e,t,i){const n=this.owner;let o=n.parent.getAll(!0,n);for(let a of o.pets){let l=a.health;a.health=a.attack,a.attack=l}this.logService.createLog({message:`${n.name} swapped all pets attack and health.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})}level2Ability(e,t,i){const n=this.owner;this.shufflePets(e.player),this.shufflePets(e.opponent),this.logService.createLog({message:`${n.name} shuffled positions of all pets.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:!0})}level3Ability(e,t,i){this.level1Ability(e,t,i),this.level2Ability(e,t,i)}shufflePets(e){let t=e.petArray;Le(t);for(let i=0;i<t.length;i++)e.setPet(i,t[i])}copy(e){return new sM(e,this.logService)}}class lM extends C{logService;constructor(e,t){super({name:"Jackal Ability",owner:e,triggers:["AnyoneFlung"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=e.triggerPet;if(!i||i!==t)return;const n=[13,26,39],o=n[Math.min(Math.max(this.level-1,0),n.length-1)];t.attack=o,t.health=o,this.logService.createLog({message:`${t.name} was flung and reset to ${o}/${o}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new lM(e,this.logService)}}class cM extends D{logService;abilityService;petService;name="Kappa";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new uM(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class uM extends C{logService;abilityService;petService;constructor(e,t,i,n){super({name:"KappaAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:o}=e,a=this.owner;let d=(a.parent==t.player?t.playerPetPool:t.opponentPetPool).get(3);for(let p=0;p<a.level;p++){const b=$t({key:"pet.kappa-player-spawn",label:xi(a,"Kappa player spawn",p+1),options:d.map(Te=>({id:Te,label:Te}))},()=>we(0,d.length-1));let T=d[b.index];const F=$t({key:"pet.kappa-opponent-spawn",label:xi(a,"Kappa opponent spawn",p+1),options:d.map(Te=>({id:Te,label:Te}))},()=>we(0,d.length-1));let U=d[F.index],ee=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:T},a.parent);a.parent.summonPet(ee,a.savedPosition,!1,a).success&&this.logService.createLog({message:`${a.name} spawned a ${ee.name} (14/16).`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:b.randomEvent});let se=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:U},a.parent.opponent);a.parent.opponent.summonPet(se,a.savedPosition,!1,a).success&&this.logService.createLog({message:`${a.name} spawned a ${se.name} (14/16) for the opponent.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:F.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new uM(e,this.logService,this.abilityService,this.petService)}}class dM extends C{logService;constructor(e,t){super({name:"LionAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}conditionFunction(){const e=this.owner;let t=e.parent.petArray.filter(n=>n!==e),i=0;for(let n of t)n.tier>i&&(i=n.tier);return e.tier>i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;if(!this.conditionFunction())return;let l=.5*this.level;a.increaseAttack(Math.floor(a.attack*l)),a.increaseHealth(Math.floor(a.health*l)),this.logService.createLog({message:`${a.name} increased its attack and health by ${100*l}% (${a.attack}/${a.health})`,type:"ability",player:a.parent,tiger:n,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new dM(e,this.logService)}}class hM extends C{logService;constructor(e,t){super({name:"Lusca Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.mana;if(i<=0)return void this.triggerTigerExecution(e);t.mana=0;const o=t.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!1,t).pets;if(0!==o.length){for(const a of o){const l=i,d=Math.max(0,a.attack-l),p=Math.max(0,a.health-l);a.attack=d,a.health=Math.max(1,p)}this.logService.createLog({message:`${t.name} spent ${i} mana and drained ${o.map(a=>a.name).join(", ")}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new hM(e,this.logService)}}class pM extends C{logService;constructor(e,t){super({name:"Maltese Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent,n=i.trumpets;n>0&&i.spendTrumpets(n,t,e.pteranodon);const o=i.petArray.filter(b=>b.alive&&b!==t);if(0===o.length||n<=0)return void this.triggerTigerExecution(e);const l=n*(this.level+1),d=Math.floor(l/o.length);let p=l%o.length;for(const b of o){const T=d+(p>0?1:0);T>0&&b.increaseMana(T),p=Math.max(0,p-1)}this.logService.createLog({message:`${t.name} converted ${n} trumpets into ${l} mana and spread it to friends.`,type:"ability",player:i,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new pM(e,this.logService)}}class gM extends C{logService;abilityService;constructor(e,t,i){super({name:"Mimic Ability",owner:e,triggers:["StartBattle","PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t;if("StartBattle"===e.trigger)return i.mimicFaintCount=0,i.mimicTriggeredThreshold=0,t.parent.pendingGoldFromMimic=0,void this.triggerTigerExecution(e);if("PostRemovalFriendFaints"===e.trigger){i.mimicFaintCount=(i.mimicFaintCount??0)+1;const n=Math.floor((i.mimicFaintCount??0)/3),o=i.mimicTriggeredThreshold??0;if(n>o){const a=n-o;i.mimicTriggeredThreshold=n;const d=this.level*a;t.parent.pendingGoldFromMimic=(t.parent.pendingGoldFromMimic??0)+d,this.logService.createLog({message:`${t.name} will grant +${d} gold next turn after ${i.mimicFaintCount} friendly faints.`,type:"ability",player:t.parent})}}this.triggerTigerExecution(e)}copy(e){return new gM(e,this.logService,this.abilityService)}}class mM extends C{logService;abilityService;constructor(e,t,i){super({name:"Moose Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,n=e.gameApi?.playerPetPool?.get(1)?.length??0;if(0===n)return void this.triggerTigerExecution(e);const a=3*this.level*n,l=t.parent.getRandomPets(1,[t],!1,!1,t),d=l.pets[0];d?(d.increaseHealth(a),this.logService.createLog({message:`${t.name} gave ${d.name} +${a} health from ${n} Tier 1 shop pets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:l.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new mM(e,this.logService,this.abilityService)}}class fM extends C{logService;constructor(e,t){super({name:"Namazu Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.mana;if(i<=0)return void this.triggerTigerExecution(e);const n=i*this.level;t.parent.gainTrumpets(n,t,e.pteranodon),t.mana=0,this.logService.createLog({message:`${t.name} spent ${i} mana and gained ${n} trumpets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new fM(e,this.logService)}}class yM extends C{constructor(e){super({name:"NurikabeAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){}copy(e){return new yM(e)}}class bM extends C{logService;constructor(e,t){super({name:"Pacific Fanfish Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=4*this.level,n=t.parent.petArray.filter(a=>a&&a!==t&&a.alive&&a.sellValue>=3);if(0===n.length)return void this.triggerTigerExecution(e);const o=i*n.length;t.increaseAttack(o),t.increaseHealth(o),this.logService.createLog({message:`${t.name} gained +${o}/+${o} from ${n.length} friend(s) with \u22653 sell value.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new bM(e,this.logService)}}class vM extends C{logService;constructor(e,t){super({name:"Polar Bear Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=[4,8,12],n=i[Math.min(Math.max(t.level-1,0),i.length-1)],o=t.parent.getRandomPets(1,[],!1,!1,t),a=o.pets[0];a?(a.increaseAttack(n),a.increaseHealth(n),this.logService.createLog({message:`${t.name} gave ${a.name} +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:o.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new vM(e,this.logService)}}class AM extends C{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"RaccoonAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner;let a=n.parent.opponent.getPetAtPosition(0);null!=a&&null!=a.equipment&&(this.isAilmentEquipment(a.equipment)||(this.logService.createLog({message:`${n.name} stole ${a.name}'s equipment. (${a.equipment.name})`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),n.givePetEquipment(a.equipment),a.removePerk(!0),this.triggerTigerExecution(e)))}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new AM(e,this.logService)}}class _M extends C{logService;abilityService;constructor(e,t,i){super({name:"SeaCucumberAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.getPetsWithEquipmentWithSillyFallback("Tasty",a),d=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,l,!1,!0,a),p=d.pets;if(0!=p.length){for(let b of p){let T=new Hy(this.logService);b.givePetEquipment(T),this.logService.createLog({message:`${a.name} made ${b.name} Tasty`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:d.random})}this.triggerTigerExecution(e)}}copy(e){return new _M(e,this.logService,this.abilityService)}}class SM extends C{logService;constructor(e,t){super({name:"Siberian Husky Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,n=t.parent.petArray.filter(a=>!(!a||a===t||!a.alive||null!=a.equipment&&"shop"===a.equipment.equipmentClass));if(0===n.length)return void this.triggerTigerExecution(e);Le(n);const o=n.slice(0,3);for(const a of o)a.increaseAttack(i),a.increaseHealth(i);this.logService.createLog({message:`${t.name} gave ${o.map(a=>a.name).join(", ")} +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new SM(e,this.logService)}}class PM extends C{logService;constructor(e,t){super({name:"Silver Fox Ability",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,n=t.parent;n.gold=(n.gold??0)+i,this.logService.createLog({message:`${t.name} gave ${i} gold to the owner.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new PM(e,this.logService)}}class kM extends C{logService;constructor(e,t){super({name:"Tarasque Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,o=[.25,.5,.75][Math.min(Math.max(t.level-1,0),2)],a=t.parent.petArray.filter(U=>U&&U.alive);if(0===a.length)return void this.triggerTigerExecution(e);let l=0,d=0;for(const U of a){const ee=Math.floor(U.attack*o),Z=Math.floor(U.health*o);U.attack=Math.max(1,U.attack-ee),U.health=Math.max(1,U.health-Z),l+=ee,d+=Z}const p=Math.floor(l/a.length),b=Math.floor(d/a.length),T=l%a.length,F=d%a.length;for(let U=0;U<a.length;U++){const ee=a[U];let Z=p+(U<T?1:0),se=b+(U<F?1:0);Z>0&&ee.increaseAttack(Z),se>0&&ee.increaseHealth(se)}this.logService.createLog({message:`${t.name} redistributed ${l}/${d} stats across ${a.length} pets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new kM(e,this.logService)}}class wM extends C{logService;constructor(e,t){super({name:"Woolly Rhino Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=new Set;for(const d of t.parent.petArray){const p=d?.equipment;("ailment-attack"===p?.equipmentClass||"ailment-defense"===p?.equipmentClass||"ailment-other"===p?.equipmentClass)&&i.add(p.name)}const n=i.size;if(n<=0)return void this.triggerTigerExecution(e);const o=4*n,a=t.parent.opponent.petArray.filter(d=>d.alive),l=Math.min(this.level,a.length);for(let d=0;d<l;d++)t.snipePet(a[d],o,!1,e.tiger,e.pteranodon);l>0&&this.logService.createLog({message:`${t.name} dealt ${o} damage to ${l} enemy${1===l?"":"ies"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new wM(e,this.logService)}}class TM extends C{logService;constructor(e,t){super({name:"Zebra Ability",owner:e,triggers:["ThisBought","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.getRandomPets(1,[t],!1,!1,t),n=i.pets[0];if(!n)return void this.triggerTigerExecution(e);const o=2*this.level;n.increaseAttack(o),n.increaseHealth(o),this.logService.createLog({message:`${t.name} gave ${n.name} +${o}/+${o}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new TM(e,this.logService)}}class EM extends C{logService;constructor(e,t){super({name:"Akhlut Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if(t.mana<2)return;t.mana=Math.max(t.mana-2,0);const i=t.parent.nearestPetsBehind(1,t,[t]),n=i.pets[0];if(!n)return;const o=3*this.level;n.increaseAttack(o),n.increaseHealth(o),this.logService.createLog({message:`${t.name} spent 2 mana to give ${n.name} +${o}/+${o}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new EM(e,this.logService)}}class CM extends C{logService;handlingExtraDamage=!1;constructor(e,t){super({name:"Albatross Ability",owner:e,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){if(this.handlingExtraDamage)return void(this.handlingExtraDamage=!1);if("EnemyHurt"!==e.trigger)return;const t=this.owner,i=e.triggerPet;if(!i||!i.alive||0===[t.petAhead,t.petBehind()].filter(a=>a&&a.alive&&a.parent===t.parent&&a.level<=4).length)return;const o=3*this.level;this.handlingExtraDamage=!0,t.dealDamage(i,o),this.handlingExtraDamage=!1,this.logService.createLog({message:`${t.name} boosted adjacent friends for an extra ${o} damage on ${i.name}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new CM(e,this.logService)}}class xM extends C{logService;healthRestoredThisTurn=0;reset(){this.healthRestoredThisTurn=0,super.reset()}constructor(e,t){super({name:"AmargasaurusAbility",owner:e,triggers:["FriendHurt","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return void(this.healthRestoredThisTurn=0);const{triggerPet:n,tiger:o,pteranodon:a}=e;let l;if(!n||(n.transformed?(l=n.transformedInto,l.originalHealth=n.originalHealth):l=n,!l||!l.alive)||l===t)return;const d=15*this.level,p=l.originalHealth-l.health;if(p<=0||this.healthRestoredThisTurn>=d)return;const T=Math.min(p,d-this.healthRestoredThisTurn);if(T>0){let U=t.parent.getSpecificPet(t,l).pet;if(null==U)return;this.logService.createLog({message:`${t.name} restored ${T} health to ${U.name}.`,type:"ability",player:t.parent,tiger:o,pteranodon:a}),U.increaseHealth(T),this.healthRestoredThisTurn+=T}this.triggerTigerExecution(e)}copy(e){return new xM(e,this.logService)}}class DM extends C{logService;constructor(e,t){super({name:"Bakunawa Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.opponent.petArray.filter(l=>l&&l.alive&&"Sleepy"!==l.equipment?.name).sort((l,d)=>d.attack!==l.attack?d.attack-l.attack:(l.position??0)-(d.position??0));if(0===i.length)return void this.triggerTigerExecution(e);const n=i.slice(0,Math.min(this.level,i.length));for(const l of n){const d=new Ih;d.multiplier+=this.level-1,l.givePetEquipment(d)}const o=["."," twice for double effect."," thrice for triple effect."],a=`${t.name} made ${n.map(l=>l.name).join(", ")} Sleepy${o[Math.min(this.level,o.length)-1]}`;this.logService.createLog({message:a,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new DM(e,this.logService)}}class IM extends C{logService;foodsEatenThisTurn=0;seededFromShop=!1;constructor(e,t){super({name:"Black Bear Ability",owner:e,triggers:["StartTurn","FoodEatenByThis","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.foodsEatenThisTurn=0,void(this.seededFromShop=!1);if(!this.seededFromShop){const i=t.foodsEaten??0;i>0&&(this.foodsEatenThisTurn=Math.max(this.foodsEatenThisTurn,i)),this.seededFromShop=!0}if("FoodEatenByThis"!==e.trigger){if("PostRemovalFaint"===e.trigger){const n=4*this.level*this.foodsEatenThisTurn;if(n<=0)return void this.triggerTigerExecution(e);const o=t.parent.getRandomEnemyPetsWithSillyFallback(1,[],!1,!0,t),a=o.pets[0];if(!a)return void this.triggerTigerExecution(e);t.dealDamage(a,n),this.logService.createLog({message:`${t.name} dealt ${n} damage to ${a.name} after eating ${this.foodsEatenThisTurn} food item${1===this.foodsEatenThisTurn?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:o.random}),this.triggerTigerExecution(e)}}else this.foodsEatenThisTurn++}copy(e){return new IM(e,this.logService)}}class MM extends C{logService;constructor(e,t){super({name:"Chimpanzee Ability",owner:e,triggers:["CornEatenByFriend"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const a=qt(this.owner,i.triggerPet).pet;return!!a&&a.alive},abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=qt(t,e.triggerPet),n=i.pet;if(!n)return void this.triggerTigerExecution(e);const o=this.level;n.increaseAttack(o),n.increaseHealth(o),this.logService.createLog({message:`${t.name} gave ${n.name} +${o}/+${o} after eating Corncob.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new MM(e,this.logService)}}class RM extends C{logService;abilityService;constructor(e,t,i){super({name:"CockatriceAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.opponent.petArray.reverse(),d=null;for(let T of l)if(T.level<=this.level){d=T;break}if(null==d)return;this.logService.createLog({message:`${a.name} transformed ${d.name} into a Rock.`,type:"ability",player:a.parent,tiger:n,pteranodon:o});let p=new zx(this.logService,this.abilityService,d.parent,d.health,d.attack,d.mana,d.exp,d.equipment);a.parent.opponent.setPet(d.position,p,!1),this.triggerTigerExecution(e)}copy(e){return new RM(e,this.logService,this.abilityService)}}class LM extends C{logService;hasCoconut=!1;constructor(e,t){super({name:"Coconut Crab Ability",owner:e,triggers:["Eat2","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"!==e.trigger){if("Eat2"===e.trigger){const i=new dr;i.uses=this.level,i.originalUses=this.level,t.givePetEquipment(i),this.hasCoconut=!0,this.logService.createLog({message:`${t.name} gained Coconut perk that works ${1===this.level?"once":2===this.level?"twice":"thrice"} until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}else this.hasCoconut&&(t.removePerk(!0),this.hasCoconut=!1)}copy(e){return new LM(e,this.logService)}}var QL=w(3446);class NM extends C{logService;constructor(e,t){super({name:"Dunkleosteus Ability",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.equipment;if(!i||!this.isAilmentEquipment(i))return void this.triggerTigerExecution(e);const n=t.parent.opponent.petArray.filter(p=>p&&p.alive);if(0===n.length)return void this.triggerTigerExecution(e);const o=(0,QL.A)(i);t.removePerk(!0);const a=n.slice(0,Math.min(2,n.length));for(const p of a){const b=(0,QL.A)(o);b.multiplier+=this.level-1,p.givePetEquipment(b)}const l=["."," with double effect."," with triple effect."],d=`${t.name} moved ${o.name} to ${a.map(p=>p.name).join(", ")}${l[Math.min(this.level,l.length)-1]}`;this.logService.createLog({message:d,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new NM(e,this.logService)}}class FM extends C{logService;constructor(e,t){super({name:"Eagle Owl Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=Math.max(0,t.battlesFought??0);if(i<=0)return void this.triggerTigerExecution(e);const o=i*this.level,a=t.parent.getRandomPets(3,[t],!0,!1,t),l=a.pets;if(0!==l.length){for(const d of l)d.increaseAttack(o),d.increaseHealth(o);this.logService.createLog({message:`${t.name} gave ${l.map(d=>d.name).join(", ")} +${o}/+${o} after fighting ${i} battle${1===i?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.random}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new FM(e,this.logService)}}class OM extends C{logService;constructor(e,t){super({name:"Hammerhead Shark Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if(!t.parent.petArray.some(a=>a&&a!==t&&3===a.level))return void this.triggerTigerExecution(e);const n=3*this.level,o=t.parent;o.gold=(o.gold??0)+n,this.logService.createLog({message:`${t.name} gained +${n} gold from level 3 friends.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new OM(e,this.logService)}}class BM extends D{logService;abilityService;petService;name="Harpy Eagle";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new $M(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class $M extends C{logService;petService;usesThisTurn=0;constructor(e,t,i){super({name:"HarpyEagleAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){if("ThisHurt"!==e.trigger||this.usesThisTurn>=3)return;this.usesThisTurn++;const{gameApi:t,tiger:i}=e,o=this.owner;let a=5*this.level;const l=ee=>(ee??[]).filter(Z=>Z&&o.name&&Z.toLowerCase()!==o.name.toLowerCase()),d=o.parent===t.player?t.playerPetPool:t.opponentPetPool;let p=l(d?.get(1));if(p.length||(p=l(this.petService.allPets.get(1))),!p.length)return;const b=$t({key:"pet.harpy-eagle-hurt-summon",label:xi(o,"Harpy Eagle hurt summon"),options:p.map(ee=>({id:ee,label:ee}))},()=>we(0,p.length-1));let F=this.petService.createPet({name:p[b.index],attack:a,health:a,equipment:null,mana:0,exp:0},o.parent);o.parent.summonPet(F,o.savedPosition,!1,o).success&&this.logService.createLog({message:`${o.name} spawned ${F.name} (${a}/${a}).`,type:"ability",player:o.parent,tiger:i,randomEvent:b.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new $M(e,this.logService,this.petService)}}class GM extends C{logService;usesThisTurn=0;constructor(e,t){super({name:"Hooded Seal Ability",owner:e,triggers:["FriendTransformed","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){if("StartTurn"===e.trigger)return void(this.usesThisTurn=0);if(this.usesThisTurn>=2)return void this.triggerTigerExecution(e);const t=e.triggerPet;if(!t)return void this.triggerTigerExecution(e);this.usesThisTurn++;const i=kl(this.level);t.exp=Math.min(t.exp,i),t.resetAbilityUses(),this.logService.createLog({message:`${this.owner.name} capped ${t.name} to level ${this.level}.`,type:"ability",player:this.owner.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new GM(e,this.logService)}}class HM extends C{logService;abilityService;constructor(e,t,i){super({name:"KomodoAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,o=this.owner;if(0===o.position)return void this.triggerTigerExecution(e);const l=o.parent.nearestPetsAhead(o.position,o).pets;if(0===l.length)return void this.triggerTigerExecution(e);const d=this.level;for(const b of l)b.increaseAttack(d),b.increaseHealth(d);t&&(t.komodoShuffle=!0);const p=l.map(b=>b.name).join(", ");this.logService.createLog({message:`${o.name} gave ${p} +${d}/+${d} at end of turn and shuffled positions.`,type:"ability",player:o.parent,tiger:i,pteranodon:n,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new HM(e,this.logService,this.abilityService)}}class jM extends C{logService;constructor(e,t){super({name:"LampreyAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,o=this.owner;if(!t)return void this.triggerTigerExecution(e);const a=o.parent.nearestPetsAhead(this.level,o);if(0===a.pets.length)return void this.triggerTigerExecution(e);const l=a.pets;for(const p of l)o.dealDamage(p,1);const d=l.map(p=>p.name).join(", ");this.logService.createLog({message:`${o.name} dealt 1 damage to ${d} when ${t.name} fainted.`,type:"ability",player:o.parent,tiger:i,pteranodon:n,randomEvent:a.random}),this.triggerTigerExecution(e)}copy(e){return new jM(e,this.logService)}}class qM extends D{logService;abilityService;petService;name="Leviathan";tier=6;pack="Custom";attack=6;health=10;initAbilities(){this.addAbility(new UM(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,o,a,l,p,b)}}class UM extends C{logService;petService;constructor(e,t,i){super({name:"LeviathanAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:n}=e,o=6*this.level,a=2*this.level,l=this.petService.createPet({name:"Fish",attack:o,health:o,mana:0,exp:0,equipment:null,triggersConsumed:0},t.parent);l.increaseExp(a);const d=t.parent.summonPet(l,t.savedPosition,!1,t);d.success&&this.logService.createLog({message:`${t.name} summoned ${l.name} (${o}/${o}) and granted ${a} exp.`,type:"ability",player:t.parent,tiger:i,pteranodon:n,randomEvent:d.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new UM(e,this.logService,this.petService)}}class VM extends C{logService;usesThisTurn=0;constructor(e,t){super({name:"LionessAbility",owner:e,triggers:["StartTurn","FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,{trigger:i,triggerPet:n,tiger:o,pteranodon:a}=e;if("StartTurn"===i)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if("FriendSold"!==i)return void this.triggerTigerExecution(e);if(this.usesThisTurn>=2)return void this.triggerTigerExecution(e);this.usesThisTurn++;const l=n?.tier??t.tier,d=t.parent.futureShopBuffs??new Map,p=d.get(l)??{attack:0,health:0};p.attack+=this.level,p.health+=this.level,d.set(l,p),t.parent.futureShopBuffs=d,this.logService.createLog({message:`${t.name} gave future tier ${l} shop pets +${this.level}/+${this.level} (uses ${this.usesThisTurn}/2 this turn).`,type:"ability",player:t.parent,tiger:o,pteranodon:a}),this.triggerTigerExecution(e)}copy(e){return new VM(e,this.logService)}}class WM extends C{logService;constructor(e,t){super({name:"MarkhorAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:n}=e,o=t.parent;if(o.trumpets<4)return void this.triggerTigerExecution(e);const a=o.petArray.filter(U=>U&&U!==t&&U.alive);if(0===a.length)return void this.triggerTigerExecution(e);o.trumpets-=4;const l=4*this.level,d=4*this.level,p=Math.floor(l/a.length),b=Math.floor(d/a.length),T=l-p*a.length,F=d-b*a.length;for(let U=0;U<a.length;U++){const ee=a[U],se=U<F?1:0;ee.increaseAttack(p+(U<T?1:0)),ee.increaseHealth(b+se)}this.logService.createLog({message:`${t.name} spent 4 trumpets to grant ${l}/${d} evenly among ${a.length} friends.`,type:"ability",player:o,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new WM(e,this.logService)}}class KM extends C{logService;constructor(e,t){super({name:"PoodleAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:n}=e,o=[];for(let a=1;a<=6;a++){const l=t.parent.petArray.find(p=>p&&p.alive&&p!==t&&p.tier===a);if(!l)continue;const d=this.level;l.increaseAttack(d),l.increaseHealth(d),o.push(l)}if(o.length>0){const a=o.map(l=>l.name).join(", ");this.logService.createLog({message:`${t.name} buffed ${a} (+${this.level}/+${this.level}) at end of turn.`,type:"ability",player:t.parent,tiger:i,pteranodon:n})}this.triggerTigerExecution(e)}copy(e){return new KM(e,this.logService)}}class zM extends C{logService;constructor(e,t){super({name:"QuestingBeastAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=Math.max(1,Math.min(3,this.level)),n=Nt.getInjector().get(Ar),o=n.toys.get(i)??[];if(0===o.length)return void this.triggerTigerExecution(e);const a=o[we(0,o.length-1)],l=n.createToy(a,t.parent,i);l?(t.parent.toy=l,t.parent.toy.used=!1,t.parent.toy.triggers=0,this.logService.createLog({message:`${t.name} created a level ${i} ${a} toy.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new zM(e,this.logService)}}class YM extends C{logService;constructor(e,t){super({name:"RockhopperPenguinAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,condition:()=>null==e.parent.pet0,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=n.parent.getThis(n),a=o.pet;if(!a)return void this.triggerTigerExecution(e);n.parent.pushPetToFront(a,!0);const l=12*this.level,d=n.parent.resolveTrumpetGainTarget(n);d.player.gainTrumpets(l,n,i,void 0,void 0,d.random),this.logService.createLog({message:`${n.name} jumped to the front and gained +${l} trumpets.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new YM(e,this.logService)}}class XM extends C{logService;constructor(e,t){super({name:"SmallOneAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:n}=e,o=t.parent.getAll(!0,t).pets.filter(d=>d&&d!==t);if(0!==o.length){for(let d=0;d<this.level;d++)for(const p of o)t.dealDamage(p,p.parent===t.parent?2:4);this.logService.createLog({message:`${t.name} dealt 2 (4 vs enemies) damage ${this.level}x to all other pets.`,type:"ability",player:t.parent,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new XM(e,this.logService)}}class JM extends C{logService;constructor(e,t){super({name:"StegosaurusAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:n,pteranodon:o}=e,a=10*this.level,l=t.parent.petArray.find(d=>d&&d!==t&&d.alive&&!d.equipment);l?(l.increaseAttack(a),l.increaseHealth(a),this.logService.createLog({message:`${t.name} gave ${l.name} +${a}/+${a} at start of battle.`,type:"ability",player:t.parent,tiger:n,pteranodon:o}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new JM(e,this.logService)}}class QM extends C{logService;constructor(e,t){super({name:"SunfishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{gameApi:i,tiger:n,pteranodon:o}=e,a=i?.turnNumber??1;if(a%2==0)return void this.triggerTigerExecution(e);const l=4*this.level,p=t.parent.nearestPetsAhead(5,t,void 0,!0).pets;if(0===p.length)return void this.triggerTigerExecution(e);for(const T of p)t.snipePet(T,l);const b=p.map(T=>T.name).join(", ");this.logService.createLog({message:`${t.name} hit ${b} ahead for ${l} damage because turn ${a} is odd.`,type:"ability",player:t.parent,tiger:n,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new QM(e,this.logService)}}const eN=(()=>{const r=["parrotCopyPet","parrotCopyPetBelugaSwallowedPet"];for(const e of Ea){const t=Bo("parrotCopyPetAbominationSwallowedPet",e);r.push(t.base,t.belugaSwallowedPet,t.sarcasticFringeheadSwallowedPet,t.level,t.timesHurt,t.parrotCopyPet,t.parrotCopyPetBelugaSwallowedPet);for(const i of Ea){const n=t.nested(i);r.push(n.base,n.belugaSwallowedPet,n.sarcasticFringeheadSwallowedPet,n.level,n.timesHurt)}}return r})(),tN=(()=>{const r=[];for(const e of Ea){const t=Bo("abominationSwallowedPet",e);r.push(t.belugaSwallowedPet,t.sarcasticFringeheadSwallowedPet,t.parrotCopyPet,t.parrotCopyPetBelugaSwallowedPet);for(const i of Ea){const n=t.nested(i);r.push(n.base,n.belugaSwallowedPet,n.sarcasticFringeheadSwallowedPet,n.level,n.timesHurt)}}return r})(),Y$=(r,e)=>{if(null==e||"string"==typeof e&&""===e.trim())return!1;const t=String(r);if(t.endsWith("Level")){const i="number"==typeof e?e:Number(e);return!!Number.isFinite(i)&&1!==i}if(t.endsWith("TimesHurt")){const i="number"==typeof e?e:Number(e);return!!Number.isFinite(i)&&0!==i}return!0};function iN(r,e){const t=r;for(const i of e){const n=t[String(i)];if(Y$(i,n))return!0}return!1}function nN(r,e,t){const i=e,n=r;for(const o of t){const a=String(o),l=i[a];if(null!=l){n[a]=l;continue}const d=a;n[a]=d.endsWith("Level")?1:d.endsWith("TimesHurt")?0:null}}class ZM extends D{logService;abilityService;petService;gameService;name="Good Dog";tier=5;pack="Unicorn";attack=1;health=1;hidden=!0;initAbilities(){this.addAbility(new eR(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p,b,T){super(e,t,o),this.logService=e,this.abilityService=t,this.petService=i,this.gameService=n,this.initPet(p,a,l,d,b,T)}}class eR extends C{logService;constructor(e,t){super({name:"GoodDogAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.getAll(!0,a),d=l.pets;if(0===d.length)return;const p=Nt.getInjector().get(Pi).getInstanceOfAllEquipment(),T=new Map([[1,1],[2,3],[3,5]]).get(a.level)??1;let F=Array.from(p.values()).filter(U=>U&&(U.tier??1)>=T);F.length||(F=Array.from(p.values()).filter(U=>U));for(let U of d){if(!U.alive)continue;const ee=$t({key:"pet.good-dog-equipment",label:xi(a,`Good Dog equipment for P${U.savedPosition+1} ${U.name}`),options:F.map(ve=>({id:ve.name,label:ve.name}))},()=>we(0,F.length-1)),se=$r(F[ee.index]);se&&(this.logService.createLog({message:`${a.name} gave ${U.name} ${se.name}`,type:"ability",player:a.parent,randomEvent:l.random||ee.randomEvent,tiger:n}),U.givePetEquipment(se))}this.triggerTigerExecution(e)}copy(e){return new eR(e,this.logService)}}const rN={Spider:$f,Whale:CS,Parrot:Eu,Stork:td,"Shima Enaga":ig,Eagle:Nb,Pelican:yc,Falcon:Sg,"Beluga Whale":kc,Wolf:fd,Pteranodon:Dg,"Harpy Eagle":BM,"Sabertooth Tiger":ao,Orca:ud,Hippogriff:aM,"Goblin Shark":PI,"Red Lipped Batfish":BI,Kappa:cM,Ammonite:_c,"Iriomote Cat":GA,Takhi:Cd,"Roloway Monkey":dm,Bonobo:Dd,"Golden Tamarin":f,"Bay Cat":Ox,"California Condor":Hx,"Silky Sifaka":Vx,Abomination:Xg,"Sarcastic Fringehead":oI,Leviathan:qM,Tadpole:TD,Stoat:qk},aN={Seagull:jI,"Good Dog":ZM},X$=[PI,BI,cM,Xg,GA,Cd,dm,Dd,f,Hx,Vx,Ox,$f,Nb,td,ig,Eu,CS,yc,Sg,kc,fd,Dg,BM,ao,ud,_c,oI,aM,qM,TD,qk],J$=[jI,ZM],oN={"Beluga Whale":(r,e,t,i)=>new kc(r.logService,r.abilityService,i,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.belugaSwallowedPet),Abomination:(r,e,t,i)=>new Xg(r.logService,r.abilityService,i,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.abominationSwallowedPet1,e.abominationSwallowedPet2,e.abominationSwallowedPet3,e.abominationSwallowedPet1Level,e.abominationSwallowedPet2Level,e.abominationSwallowedPet3Level,e.abominationSwallowedPet1TimesHurt,e.abominationSwallowedPet2TimesHurt,e.abominationSwallowedPet3TimesHurt),"Sabertooth Tiger":(r,e,t,i)=>new ao(r.logService,r.abilityService,i,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.timesHurt),Tuna:(r,e,t)=>new kk(r.logService,r.abilityService,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.timesHurt),Slime:(r,e,t)=>new KL(r.logService,r.abilityService,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed)};let sN=(()=>{class r{logService;abilityService;gameService;equipmentService;equipmentCache=new Map;constructor(t,i,n,o){this.logService=t,this.abilityService=i,this.gameService=n,this.equipmentService=o,this.logService=nr(this.logService)}createPet(t,i,n,o,a){const l=t.constructor,d=t.parent,p=a??Pl(t.level);for(const b of J$)if(t instanceof b)return new b(this.logService,this.abilityService,i,this.gameService,d,o,n,0,p);return X$.includes(l)?new l(this.logService,this.abilityService,i,d,o,n,0,p):new l(this.logService,this.abilityService,d,o,n,0,p)}createPetFromForm(t,i,n,o){const a=this.normalizePetForm(t),l=this.getPetBuildPlan(a,o),d=this.resolveEquipment(l.equipmentValue,l.equipmentUses),{name:p,health:b,attack:T,mana:F,exp:U,triggersConsumed:ee,foodsEaten:Z,battlesFought:se}=a;let ve=a.hasRandomEvents;void 0===ve&&"function"==typeof n.isPetRandom&&(ve=n.isPetRandom(p));const Ge=Ie=>Ie&&l.needsPostInit?(Ie=>{if(!Ie)return Ie;if(null!=Z){const dt=Number(Z);Number.isFinite(dt)&&(Ie.foodsEaten=dt,Ie.originalFoodsEaten=dt)}if(l.hasTimesHurt&&null!=a.timesHurt&&(Ie.timesHurt=a.timesHurt,Ie.originalTimesHurt=a.timesHurt),null!=se){const dt=Number(se);Number.isFinite(dt)&&(Ie.battlesFought=Math.max(0,Math.floor(dt)))}return ve&&(Ie.hasRandomEvents=!0),Ie})((Ie=>(!l.hasParrotData||"Parrot"!==Ie?.name||nN(Ie,a,eN),Ie))((Ie=>(Ie&&(l.hasSarcastic||l.hasFriendsDied)&&(Ie.sarcasticFringeheadSwallowedPet=a.sarcasticFringeheadSwallowedPet??null,Ie.friendsDiedBeforeBattle=a.friendsDiedBeforeBattle??0),Ie))((Ie=>(!l.hasAbominationData||"Abomination"!==Ie?.name||nN(Ie,a,tN),Ie))(l.hasEquipmentUses?this.applyEquipmentUsesOverride(Ie,a):Ie)))):Ie;if("gameservice"===l.builderKind&&l.PetClass)return Ge(new(0,l.PetClass)(this.logService,this.abilityService,n,this.gameService,i,b,T,F,U,d,ee));if("special"===l.builderKind&&l.specialBuilder){const Ie={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService},dt={...a,equipment:d};return Ge(l.specialBuilder(Ie,dt,i,n))}return"petservice"===l.builderKind&&l.PetClass?Ge(new(0,l.PetClass)(this.logService,this.abilityService,n,i,b,T,F,U,d,ee)):"registry"===l.builderKind&&l.PetClass?Ge(new(0,l.PetClass)(this.logService,this.abilityService,i,b,T,F,U,d,ee)):null}applyEquipmentUsesOverride(t,i){return t&&(null!=i.equipmentUses&&(t.equipmentUsesOverride=i.equipmentUses),t)}resolveEquipmentFromForm(t,i){return this.resolveEquipment(t,i)}resolveEquipment(t,i){const n=i??("number"==typeof t?.uses?t.uses:null);if(t instanceof Fe){const F=$r(t);if(null!=n){const U=Number(n);Number.isFinite(U)&&(F.uses=U,F.originalUses=U)}return F}const o=this.getEquipmentName(t);if(!o)return null;const a=Nt.getInjector(),l=this.equipmentService??(a?a.get(Pi):null);if(!l)return null;const d=l.getInstanceOfAllEquipment(),p=l.getInstanceOfAllAilments(),b=d.get(o)??p.get(o);if(!b)return null;const T=$r(b);if(null!=n){const F=Number(n);Number.isFinite(F)&&(T.uses=F,T.originalUses=F)}return T}getEquipmentName(t){return t?"string"==typeof t?t:("string"==typeof t.name?t.name:null)||null:null}getPetBuildPlan(t,i){const n=t.name,o=null!=t.equipmentUses,a="Parrot"===t.name&&iN(t,eN),l="Abomination"===t.name&&iN(t,tN),d=null!=t.sarcasticFringeheadSwallowedPet,p=(t.friendsDiedBeforeBattle??0)>0,b=(t.timesHurt??0)>0;let ee,Z,U="missing";return aN[n]?(U="gameservice",ee=aN[n]):oN[n]?(U="special",Z=oN[n]):rN[n]?(U="petservice",ee=rN[n]):i[n]&&(U="registry",ee=i[n]),{name:n,builderKind:U,PetClass:ee,specialBuilder:Z,needsPostInit:o||a||l||d||p||b||null!=t.foodsEaten,hasParrotData:a,hasAbominationData:l,hasSarcastic:d,hasFriendsDied:p,hasTimesHurt:b,hasEquipmentUses:o,equipmentValue:t.equipment??null,equipmentUses:t.equipmentUses??null}}normalizePetForm(t){if("Abomination"!==t.name)return t;const i={...t},n=i,o=[1,2,3];for(const b of o){const T=`abominationSwallowedPet${b}`,F=`abominationSwallowedPet${b}Level`,U=`abominationSwallowedPet${b}TimesHurt`,ee=`abominationSwallowedPet${b}BelugaSwallowedPet`,Z=n[T],se="string"==typeof Z&&Z.trim().length>0?Z:null;se?"Beluga Whale"!==se&&(n[ee]=null):(n[T]=null,n[F]=1,n[U]=0,n[ee]=null)}const l=o.some(b=>"Behemoth"===n[`abominationSwallowedPet${b}`])?100:50,d=this.clampFiniteNumber(i.attack,0,l);null!=d&&(i.attack=d);const p=this.clampFiniteNumber(i.health,0,l);return null!=p&&(i.health=p),i}clampFiniteNumber(t,i,n){return"number"==typeof t&&Number.isFinite(t)?Math.min(n,Math.max(i,t)):null}static \u0275fac=function(i){return new(i||r)(A.KVO(Yn),A.KVO(Da),A.KVO(Zi),A.KVO(Pi))};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class tR extends C{logService;constructor(e,t){super({name:"TapirAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:n}=e,a=t.parent.getLastPet(void 0,t).pet;if(!a)return void this.triggerTigerExecution(e);const l=Math.min(3,Math.max(1,this.level)),d=10*l,p=1===l?0:2===l?2:5,b=Nt.getInjector().get(sN),T=Nt.getInjector().get(Xn),F=b.createPet(a,T,d,d,p);if(!F)return void this.triggerTigerExecution(e);const U=t.parent.summonPet(F,t.savedPosition,!1,t);U.success&&this.logService.createLog({message:`${t.name} summoned a ${d}/${d} copy of ${a.name}.`,type:"ability",player:t.parent,tiger:i,pteranodon:n,randomEvent:U.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new tR(e,this.logService)}}const Z$={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"},lN=new Map,cN=ec??tc;if(Array.isArray(cN))for(const r of cN){if(!r||"object"!=typeof r)continue;const e=r;if(!e.Name)continue;const t=new Set;for(const i of e.Packs??[]){const n=Z$[i];n&&t.add(n)}t.size>0&&lN.set(e.Name,t)}class iR extends C{logService;constructor(e,t){super({name:"Tanystropheus Ability",owner:e,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=n.parent.pack,a=Nt.getInjector().get(Xn),l=n.parent.petArray.some(F=>this.isPetInActivePack(F,o,a)),d=n.parent.petArray.some(F=>this.isFoodInActivePack(F.equipment?.name,o));if(l||d)return void this.triggerTigerExecution(e);const p=n.parent.getRandomEnemyPetsWithSillyFallback(3,[],!1,!0,n),b=p.pets;if(!b.length)return void this.triggerTigerExecution(e);const T=this.level;for(const F of b)F&&(F.exp=Math.max(0,(F.exp??0)-T));this.logService.createLog({message:`${n.name} removed ${T} XP from ${b.map(F=>F.name).join(", ")}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:p.random}),this.triggerTigerExecution(e)}isPetInActivePack(e,t,i){if(!i)return e.pack===t;if(Wh.includes(t))return(i.basePackPetsByName[t]?.get(e.tier)??[]).includes(e.name);const n=i.playerCustomPackPets.get(t);return n?n.get(e.tier)?.includes(e.name)??!1:e.pack===t}isFoodInActivePack(e,t){if(!e)return!1;const i=lN.get(e);return!!i&&i.has(t)}copy(e){return new iR(e,this.logService)}}class nR extends C{logService;constructor(e,t){super({name:"TarantulaHawkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner,l=Math.floor(a.attack/10);if(l<=0)return;let p=a.parent.opponent.getAll(!1,a).pets;if(0!=p.length){for(let b=0;b<l;b++)for(let T of p)T.increaseHealth(-this.level),this.logService.createLog({message:`${a.name} removed ${this.level} health from ${T.name}`,type:"ability",player:a.parent,tiger:n,pteranodon:o});this.triggerTigerExecution(e)}}copy(e){return new nR(e,this.logService)}}class rR extends C{logService;constructor(e,t){super({name:"TerrorBirdAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:n}=e,o=t.parent.petArray.filter(l=>l&&l!==t&&l.alive&&"Strawberry"===l.equipment?.name).sort((l,d)=>l.position-d.position).slice(0,this.level);if(0===o.length)return void this.triggerTigerExecution(e);for(const l of o)l.givePetEquipment(new pu);const a=o.map(l=>l.name).join(", ");this.logService.createLog({message:`${t.name} gave Peanut to ${a} at start of battle.`,type:"ability",player:t.parent,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new rR(e,this.logService)}}class aR extends C{logService;constructor(e,t){super({name:"TherizinosaurusAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.getPetsWithoutEquipment("Strawberry"),d=a.parent.getFurthestUpPets(this.level,l,a),p=d.pets;for(let b of p)b.givePetEquipment(new dr),this.logService.createLog({message:`${a.name} gave ${b.name} Coconut.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:d.random});this.triggerTigerExecution(e)}copy(e){return new aR(e,this.logService)}}class oR extends C{logService;constructor(e,t){super({name:"VampireSquidAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=new Map;for(const p of n.parent.petArray)!p||p===n||!p.alive||!p.equipment||!(p.equipment.equipmentClass??"").startsWith("ailment")||o.has(p.equipment.name)||o.set(p.equipment.name,p);if(0===o.size)return void this.triggerTigerExecution(e);const a=this.level,l=2*this.level,d=[];o.forEach(p=>{p.increaseAttack(a),p.increaseHealth(l),d.push(p.name)}),this.logService.createLog({message:`${n.name} gave ${d.join(", ")} +${a}/+${l} at end of turn for having unique ailments.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new oR(e,this.logService)}}class sR extends C{logService;constructor(e,t){super({name:"WalrusAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=n.parent.getRandomPets(this.level,[n],!1,!1,n),a=o.pets;if(0===a.length)return void this.triggerTigerExecution(e);const l=[];for(const d of a)d.givePetEquipment(new gu),l.push(d.name);this.logService.createLog({message:`${n.name} gave Peanut Butter to ${l.join(", ")} on faint.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new sR(e,this.logService)}}class lR extends C{logService;constructor(e,t){super({name:"WhiteTigerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.nearestPetsBehind(this.level,a);for(let d of l.pets)this.logService.createLog({message:`${a.name} gave ${d.name} +3 experience.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:l.random}),d.increaseExp(3);this.triggerTigerExecution(e)}copy(e){return new lR(e,this.logService)}}class cR extends C{logService;constructor(e,t){super({name:"WinterSpiritAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,a=n.parent.nearestPetsAhead(2,n).pets;if(0===a.length)return void this.triggerTigerExecution(e);const l=5*this.level,d=[];for(const p of a)p.increaseMana(l),d.push(p.name);this.logService.createLog({message:`${n.name} gave ${d.join(", ")} +${l} mana at end of turn.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new cR(e,this.logService)}}class uR extends C{logService;constructor(e,t){super({name:"YellowBoxfishAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,o=n.parent.getAll(!0,n).pets.filter(p=>p&&p.alive&&p!==n);if(0===o.length)return void this.triggerTigerExecution(e);const l=[...o].sort((p,b)=>b.attack+b.health-(p.attack+p.health)).slice(0,this.level);if(0===l.length)return void this.triggerTigerExecution(e);for(const p of l)p.attack=20,p.health=20;const d=l.map(p=>p.name).join(", ");this.logService.createLog({message:`${n.name} set ${d} to 20/20 at faint.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new uR(e,this.logService)}}const cG={Basilisk:class K4 extends D{name="Basilisk";tier=3;pack="Custom";attack=5;health=2;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.initPet(l,n,o,a,d,p)}initAbilities(){this.abilityList=[new Xx(this,this.logService,this.abilityService)],super.initAbilities()}},Budgie:class z4 extends D{logService;abilityService;name="Budgie";tier=1;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new Jx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Duckling:class Y4 extends D{logService;abilityService;name="Duckling";tier=1;pack="Custom";attack=1;health=2;initAbilities(){this.addAbility(new Qx(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Farmer Mouse":class X4 extends D{logService;abilityService;name="Farmer Mouse";tier=1;pack="Custom";attack=2;health=3;initAbilities(){this.addAbility(new Zx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Frilled Dragon":class J4 extends D{logService;abilityService;name="Frilled Dragon";tier=1;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new eD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Gibbon:class Q4 extends D{logService;abilityService;name="Gibbon";tier=1;pack="Custom";health=2;attack=1;initAbilities(){this.addAbility(new tD(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Mouse:If,Nudibranch:class Z4 extends D{logService;abilityService;name="Nudibranch";tier=1;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new iD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Peacock Spider":class e3 extends D{logService;abilityService;name="Peacock Spider";tier=1;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new nD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Pygmy Seahorse":class t3 extends D{logService;abilityService;name="Pygmy Seahorse";tier=1;pack="Custom";attack=3;health=1;initAbilities(){this.addAbility(new rD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Quoll:class i3 extends D{logService;abilityService;name="Quoll";tier=1;pack="Custom";attack=3;health=2;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Silverfish:class n3 extends D{logService;abilityService;name="Silverfish";tier=2;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new aD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Sloth:class r3 extends D{logService;abilityService;name="Sloth";tier=1;pack="Custom";attack=1;health=1;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Termite:class a3 extends D{logService;abilityService;name="Termite";tier=1;pack="Custom";health=4;attack=1;initAbilities(){this.addAbility(new oD(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Umbrella Bird":class o3 extends D{logService;abilityService;name="Umbrella Bird";tier=1;pack="Custom";attack=3;health=2;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Weevil:class s3 extends D{logService;abilityService;name="Weevil";tier=1;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new sD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Albino Squirrel":class l3 extends D{logService;abilityService;name="Albino Squirrel";tier=2;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new lD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Amphisbaena:class c3 extends D{logService;abilityService;name="Amphisbaena";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new cD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Atlantic Puffin":class u3 extends D{logService;abilityService;name="Atlantic Puffin";tier=2;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new uD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Chupacabra:class d3 extends D{logService;abilityService;name="Chupacabra";tier=2;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new dD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Desert Rain Frog":class h3 extends D{logService;abilityService;name="Desert Rain Frog";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new hD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Dung Beetle":class p3 extends D{logService;abilityService;name="Dung Beetle";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new pD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Farmer Chicken":class g3 extends D{logService;abilityService;name="Farmer Chicken";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new gD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Frigatebird:class m3 extends D{logService;abilityService;name="Frigatebird";tier=2;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new mD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}resetPet(){super.resetPet()}},"Fruit Fly":class f3 extends D{logService;abilityService;name="Fruit Fly";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new fD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Giant Squirrel":class y3 extends D{logService;abilityService;name="Giant Squirrel";tier=2;pack="Custom";attack=2;health=5;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Golden Beetle":class b3 extends D{logService;abilityService;name="Golden Beetle";tier=2;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new yD(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Hermit Crab":class v3 extends D{logService;abilityService;name="Hermit Crab";tier=1;pack="Custom";attack=1;health=4;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Honduran White Bat":class A3 extends D{logService;abilityService;name="Honduran White Bat";tier=2;pack="Custom";attack=1;health=1;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Mandarinfish:class _3 extends D{logService;abilityService;name="Mandarinfish";tier=2;pack="Custom";attack=2;health=3;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Mink:class S3 extends D{logService;abilityService;name="Mink";tier=2;pack="Custom";attack=3;health=3;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Nightcrawler:class P3 extends D{logService;abilityService;name="Nightcrawler";tier=2;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new bD(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Olm:class k3 extends D{logService;abilityService;name="Olm";tier=2;pack="Custom";attack=3;health=1;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}initAbilities(){this.addAbility(new vD(this,this.logService)),super.initAbilities()}},Panda:class w3 extends D{logService;abilityService;name="Panda";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new AD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Pink Robin":class T3 extends D{logService;abilityService;name="Pink Robin";tier=1;pack="Custom";attack=3;health=2;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}initAbilities(){this.addAbility(new _D(this)),super.initAbilities()}},Roadrunner:class E3 extends D{logService;abilityService;name="Roadrunner";tier=2;pack="Custom";attack=4;health=1;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}initAbilities(){this.addAbility(new SD(this,this.logService)),super.initAbilities()}},Seahorse:class C3 extends D{logService;abilityService;name="Seahorse";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new PD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Sphinx:class x3 extends D{logService;abilityService;name="Sphinx";tier=2;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new kD(this)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Spotted Handfish":class D3 extends D{logService;abilityService;name="Spotted Handfish";tier=2;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new wD(this)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Tadpole:TD,"Thorny Dragon":class I3 extends D{logService;abilityService;name="Thorny Dragon";tier=2;pack="Custom";attack=3;health=3;hasRandomEvents=!0;initAbilities(){this.addAbility(new CD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Vervet:class M3 extends D{logService;abilityService;name="Vervet";tier=2;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new xD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Warf:class R3 extends D{logService;abilityService;name="Warf";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new DD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Wombat:class L3 extends D{logService;abilityService;name="Wombat";tier=2;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new ID(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Yak:class N3 extends D{logService;abilityService;name="Yak";tier=2;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new MD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Aardvark:class F3 extends D{constructor(e,t,i){super(e,t,i),this.name="Aardvark",this.tier=3,this.pack="Custom",this.attack=2,this.health=3}initAbilities(){this.abilityList=[new RD(this,this.logService)],super.initAbilities()}},"Axehandle Hound":class O3 extends D{constructor(e,t,i){super(e,t,i),this.name="Axehandle Hound",this.attack=5,this.health=3,this.tier=3,this.pack="Custom"}initAbilities(){this.abilityList=[new LD(this,this.logService)],super.initAbilities()}},Barnacle:class B3 extends D{constructor(e,t,i){super(e,t,i),this.name="Barnacle",this.tier=3,this.pack="Custom",this.attack=1,this.health=3}initAbilities(){this.abilityList=[new ND(this,this.logService)],super.initAbilities()}},Bear:class $3 extends D{logService;abilityService;name="Bear";tier=3;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new FD(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Blue Dragon":class G3 extends D{logService;abilityService;name="Blue Dragon";tier=3;pack="Custom";attack=3;health=4;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}initAbilities(){this.addAbility(new OD(this,this.logService)),super.initAbilities()}},"Brazillian Treehopper":class H3 extends D{constructor(e,t,i){super(e,t,i),this.name="Brazillian Treehopper",this.tier=3,this.pack="Custom",this.attack=2,this.health=3}initAbilities(){this.abilityList=[new BD(this,this.logService)],super.initAbilities()}},Caladrius:class j3 extends D{logService;abilityService;name="Caladrius";tier=3;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new $D(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Centipede:class q3 extends D{logService;abilityService;name="Centipede";tier=3;pack="Custom";attack=1;health=4;initAbilities(){this.addAbility(new GD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Deer Lord":class U3 extends D{logService;abilityService;name="Deer Lord";tier=3;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new HD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Dimetrodon:class V3 extends D{logService;abilityService;name="Dimetrodon";tier=3;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new jD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Dugong:class K3 extends D{logService;abilityService;name="Dugong";tier=3;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new qD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Eel:class z3 extends D{logService;abilityService;name="Eel";tier=3;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new UD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Emperor Tamarin":class Y3 extends D{logService;abilityService;name="Emperor Tamarin";tier=3;pack="Custom";attack=3;health=6;initAbilities(){this.addAbility(new VD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Farmer Pig":class X3 extends D{logService;abilityService;name="Farmer Pig";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new WD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Flying Squirrel":class J3 extends D{constructor(e,t,i){super(e,t,i),this.name="Flying Squirrel",this.tier=3,this.pack="Custom",this.attack=3,this.health=3}initAbilities(){this.abilityList=[new KD(this,this.logService)],super.initAbilities()}},"Foo Dog":class Q3 extends D{logService;abilityService;name="Foo Dog";tier=3;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new zD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Gerenuk:class Z3 extends D{logService;abilityService;name="Gerenuk";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new YD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Great Potoo":class eB extends D{logService;abilityService;name="Great Potoo";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new XD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Jewel Caterpillar":class tB extends D{logService;abilityService;name="Jewel Caterpillar";tier=3;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new JD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Pangasius:class iB extends D{logService;abilityService;name="Pangasius";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new QD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Patagonian Mara":class nB extends D{logService;abilityService;name="Patagonian Mara";tier=3;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new ZD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Pony:class rB extends D{logService;abilityService;name="Pony";tier=3;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new eI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Porcupine:class aB extends D{logService;abilityService;name="Porcupine";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new tI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Quail Chick":class oB extends D{logService;abilityService;name="Quail Chick";tier=3;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new iI(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Queen Bee":class sB extends D{logService;abilityService;name="Queen Bee";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new nI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Quetzalcoatlus:class lB extends D{logService;abilityService;name="Quetzalcoatlus";tier=3;pack="Custom";attack=4;health=6;initAbilities(){this.addAbility(new rI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Sage-Grouse":class cB extends D{logService;abilityService;name="Sage-Grouse";tier=3;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new aI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Sarcastic Fringehead":oI,"Silkie Chicken":class uB extends D{logService;abilityService;name="Silkie Chicken";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new lI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Slime:KL,"Sugar Glider":class dB extends D{logService;abilityService;name="Sugar Glider";tier=3;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new uI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Tree:class hB extends D{logService;abilityService;name="Tree";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new dI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Vampire Parrot":class pB extends D{logService;abilityService;name="Vampire Parrot";tier=3;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new hI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Wasp:class gB extends D{logService;abilityService;name="Wasp";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new pI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Ahuizotl:class mB extends D{logService;abilityService;name="Ahuizotl";tier=4;pack="Custom";attack=3;health=6;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Andrewsarchus:class fB extends D{logService;abilityService;name="Andrewsarchus";tier=4;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new mI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Anubis:class yB extends D{logService;abilityService;name="Anubis";tier=4;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new fI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Bloodhound:class bB extends D{logService;abilityService;name="Bloodhound";tier=4;pack="Custom";attack=4;health=4;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Blue-Footed Booby":class vB extends D{logService;abilityService;name="Blue-Footed Booby";tier=4;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new yI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Crow:class AB extends D{logService;abilityService;name="Crow";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new bI(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Deinocheirus:class _B extends D{logService;abilityService;name="Deinocheirus";tier=4;pack="Custom";attack=4;health=7;initAbilities(){this.addAbility(new vI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Dragonfly:class SB extends D{logService;abilityService;name="Dragonfly";tier=4;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new AI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Fairy:class gC extends D{logService;abilityService;name="Fairy";tier=4;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new gc(this)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Farmer Cat":class PB extends D{logService;abilityService;name="Farmer Cat";tier=4;pack="Custom";attack=4;health=3;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Gazelle:class kB extends D{logService;abilityService;name="Gazelle";tier=3;pack="Custom";attack=2;health=3;initAbilities(){this.addAbility(new _I(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Gelada:class wB extends D{logService;abilityService;name="Gelada";tier=4;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new SI(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Goblin Shark":PI,Hippocampus:class TB extends D{logService;abilityService;name="Hippocampus";tier=4;pack="Custom";attack=4;health=6;initAbilities(){this.addAbility(new TI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Hoatzin:class EB extends D{logService;abilityService;name="Hoatzin";tier=4;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new EI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Jerboa:class CB extends D{logService;abilityService;name="Jerboa";tier=4;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new CI(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Leaf Gecko":class xB extends D{logService;abilityService;name="Leaf Gecko";tier=4;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new xI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Leafy Sea Dragon":class DB extends D{logService;abilityService;name="Leafy Sea Dragon";tier=4;pack="Custom";attack=7;health=2;initAbilities(){this.addAbility(new DI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Locust:class MB extends D{logService;abilityService;name="Locust";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new II(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Lynx:class RB extends D{logService;abilityService;name="Lynx";tier=4;pack="Custom";attack=5;health=3;initAbilities(){this.addAbility(new MI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Old Mouse":class LB extends D{logService;abilityService;name="Old Mouse";tier=4;pack="Custom";attack=1;health=2;initAbilities(){this.addAbility(new RI(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Pegasus:class NB extends D{constructor(e,t,i){super(e,t,i),this.name="Pegasus",this.tier=4,this.pack="Custom",this.attack=2,this.health=4}initAbilities(){this.abilityList=[new LI(this,this.logService)],super.initAbilities()}},Platybelodon:class FB extends D{logService;abilityService;name="Platybelodon";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new NI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Poodle Moth":class OB extends D{logService;abilityService;name="Poodle Moth";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new FI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Racket Tail":class BB extends D{logService;abilityService;name="Racket Tail";tier=4;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new OI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Red Lipped Batfish":BI,Rootling:class $B extends D{logService;abilityService;name="Rootling";tier=4;pack="Custom";attack=1;health=8;initAbilities(){this.addAbility(new GI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Ruspoli's Turaco":class GB extends D{logService;abilityService;name="Ruspolis Turaco";tier=4;pack="Custom";attack=4;health=3;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Sea Anemone":class HB extends D{logService;abilityService;name="Sea Anemone";tier=4;pack="Custom";health=4;attack=3;initAbilities(){this.addAbility(new HI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Seagull:jI,"Spider Crab":class jB extends D{logService;abilityService;name="Spider Crab";tier=2;pack="Custom";attack=1;health=5;initAbilities(){this.addAbility(new UI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Spiny Bush Viper":class qB extends D{logService;abilityService;name="Spiny Bush Viper";tier=4;pack="Custom";attack=5;health=2;initAbilities(){this.addAbility(new VI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Tandgnost:SP,Tardigrade:class UB extends D{logService;abilityService;name="Tardigrade";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new WI(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Trout:class WB extends D{logService;abilityService;name="Trout";tier=4;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new KI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Yeti Crab":class KB extends D{logService;abilityService;name="Yeti Crab";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new zI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Blue Jay":class zB extends D{logService;abilityService;name="Blue Jay";tier=5;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new YI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Boitata:class YB extends D{logService;abilityService;name="Boitata";tier=5;pack="Custom";attack=2;health=12;initAbilities(){this.addAbility(new XI(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Brahma Chicken":class XB extends D{logService;abilityService;name="Brahma Chicken";tier=5;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new JI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Cuckoo:class JB extends D{logService;abilityService;name="Cuckoo";tier=5;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new QI(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Estemmenosuchus:class QB extends D{logService;abilityService;name="Estemmenosuchus";tier=5;pack="Custom";attack=4;health=6;initAbilities(){this.addAbility(new ZI(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Farmer Crow":class e$ extends D{logService;abilityService;name="Farmer Crow";tier=5;pack="Custom";attack=6;health=3;initAbilities(){this.addAbility(new eM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Farmer Dog":class t$ extends D{logService;abilityService;name="Farmer Dog";tier=6;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new tM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Flounder:class i$ extends D{logService;abilityService;name="Flounder";tier=5;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new iM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Fox:class n$ extends D{logService;abilityService;name="Fox";tier=5;pack="Custom";attack=6;health=4;initAbilities(){this.addAbility(new nM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Giant Isopod":class r$ extends D{logService;abilityService;name="Giant Isopod";tier=5;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new rM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Hippogriff:aM,Hyena:class a$ extends D{logService;abilityService;name="Hyena";tier=5;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new sM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Jackal:class o$ extends D{logService;abilityService;name="Jackal";tier=5;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new lM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Kappa:cM,Lion:class s$ extends D{logService;abilityService;name="Lion";tier=5;pack="Custom";attack=7;health=7;initAbilities(){this.addAbility(new dM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Lusca:class l$ extends D{logService;abilityService;name="Lusca";tier=5;pack="Custom";attack=7;health=5;initAbilities(){this.addAbility(new hM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Maltese:class c$ extends D{logService;abilityService;name="Maltese";tier=5;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new pM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Mimic:class u$ extends D{logService;abilityService;name="Mimic";tier=5;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new gM(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Moose:class d$ extends D{logService;abilityService;name="Moose";tier=5;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new mM(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Namazu:class h$ extends D{logService;abilityService;name="Namazu";tier=5;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new fM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Nurikabe:class p$ extends D{logService;abilityService;name="Nurikabe";tier=5;pack="Custom";attack=5;health=6;maxAbilityUses=3;initAbilities(){this.addAbility(new yM(this)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Pacific Fanfish":class g$ extends D{logService;abilityService;name="Pacific Fanfish";tier=5;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new bM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Polar Bear":class m$ extends D{logService;abilityService;name="Polar Bear";tier=5;pack="Custom";attack=4;health=8;initAbilities(){this.addAbility(new vM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Raccoon:class f$ extends D{logService;abilityService;name="Raccoon";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new AM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Sea Cucumber":class y$ extends D{logService;abilityService;name="Sea Cucumber";tier=5;pack="Custom";health=5;attack=3;initAbilities(){this.addAbility(new _M(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Siberian Husky":class b$ extends D{logService;abilityService;name="Siberian Husky";tier=5;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new SM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Silver Fox":class v$ extends D{logService;abilityService;name="Silver Fox";tier=5;pack="Custom";attack=3;health=6;initAbilities(){this.addAbility(new PM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Tandgrisner:PP,Tarasque:class A$ extends D{logService;abilityService;name="Tarasque";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new kM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Venus Flytrap":class _$ extends D{logService;abilityService;name="Venus Flytrap";tier=5;pack="Custom";attack=2;health=7;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Woolly Rhino":class S$ extends D{logService;abilityService;name="Woolly Rhino";tier=5;pack="Custom";attack=3;health=7;initAbilities(){this.addAbility(new wM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Zebra:class P$ extends D{logService;abilityService;name="Zebra";tier=5;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new TM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Akhlut:class k$ extends D{logService;abilityService;name="Akhlut";tier=6;pack="Custom";attack=5;health=7;initAbilities(){this.addAbility(new EM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Albatross:class w$ extends D{logService;abilityService;name="Albatross";tier=6;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new CM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Amargasaurus:class T$ extends D{logService;abilityService;name="Amargasaurus";tier=5;pack="Star";attack=5;health=7;initAbilities(){this.addAbility(new xM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Bakunawa:class E$ extends D{logService;abilityService;name="Bakunawa";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new DM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Black Bear":class C$ extends D{logService;abilityService;name="Black Bear";tier=6;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new IM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Chimpanzee:class x$ extends D{logService;abilityService;name="Chimpanzee";tier=6;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new MM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Cockatrice:class D$ extends D{logService;abilityService;name="Cockatrice";tier=6;pack="Custom";attack=6;health=8;initAbilities(){this.addAbility(new RM(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Coconut Crab":class I$ extends D{logService;abilityService;name="Coconut Crab";tier=6;pack="Custom";attack=4;health=8;initAbilities(){this.addAbility(new LM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Dunkleosteus:class M$ extends D{logService;abilityService;name="Dunkleosteus";tier=6;pack="Custom";attack=6;health=8;initAbilities(){this.addAbility(new NM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Eagle Owl":class R$ extends D{logService;abilityService;name="Eagle Owl";tier=6;pack="Custom";attack=8;health=3;initAbilities(){this.addAbility(new FM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Great One":ob,"Hammerhead Shark":class L$ extends D{logService;abilityService;name="Hammerhead Shark";tier=6;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new OM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Harpy Eagle":BM,"Hooded Seal":class N$ extends D{logService;abilityService;name="Hooded Seal";tier=6;pack="Custom";attack=4;health=9;initAbilities(){this.addAbility(new GM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Komodo:class F$ extends D{logService;abilityService;name="Komodo";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new HM(this,this.logService,this.abilityService)),super.initAbilities()}endTurn(e){if(!e.komodoShuffle)return;let i=this.position;if(0==i)return;let o=this.shufflePets(0,i).map(a=>a.name).join(", ");this.logService.createLog({message:`${this.name} shuffled positions of pets (${o}).`,type:"ability",player:this.parent,randomEvent:!0})}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}shufflePets(e,t){let i=this.parent.petArray.slice(e,t);Le(i);for(let n=0;n<i.length;n++)this.parent.setPet(n,i[n]);return i}},Lamprey:class O$ extends D{logService;abilityService;name="Lamprey";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new jM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Leviathan:qM,Lioness:class B$ extends D{logService;abilityService;name="Lioness";tier=6;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new VM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Markhor:class $$ extends D{logService;abilityService;name="Markhor";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new WM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Poodle:class G$ extends D{logService;abilityService;name="Poodle";tier=6;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new KM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Questing Beast":class H$ extends D{logService;abilityService;name="Questing Beast";tier=6;pack="Custom";attack=7;health=9;initAbilities(){this.addAbility(new zM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Rockhopper Penguin":class j$ extends D{logService;abilityService;name="Rockhopper Penguin";tier=6;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new YM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Small One":class q$ extends D{logService;abilityService;name="Small One";tier=6;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new XM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Stegosaurus:class U$ extends D{logService;abilityService;name="Stegosaurus";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new JM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Sunfish:class V$ extends D{logService;abilityService;name="Sunfish";tier=6;pack="Custom";attack=4;health=10;initAbilities(){this.addAbility(new QM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Tapir:class Q$ extends D{logService;abilityService;name="Tapir";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new tR(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Tanystropheus:class eG extends D{logService;abilityService;name="Tanystropheus";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new iR(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Tarantula Hawk":class tG extends D{logService;abilityService;name="Tarantula Hawk";tier=6;pack="Custom";health=2;attack=10;initAbilities(){this.addAbility(new nR(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Terror Bird":class iG extends D{logService;abilityService;name="Terror Bird";tier=6;pack="Custom";attack=8;health=3;initAbilities(){this.addAbility(new rR(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Therizinosaurus:class nG extends D{logService;abilityService;name="Therizinosaurus";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new aR(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Vampire Squid":class rG extends D{logService;abilityService;name="Vampire Squid";tier=6;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new oR(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Walrus:class aG extends D{logService;abilityService;name="Walrus";tier=6;pack="Custom";attack=7;health=5;initAbilities(){this.addAbility(new sR(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"White Tiger":class oG extends D{logService;abilityService;name="White Tiger";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new lR(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Winter Spirit":class sG extends D{logService;abilityService;name="Winter Spirit";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new cR(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Yellow Boxfish":class lG extends D{logService;abilityService;name="Yellow Boxfish";tier=6;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new uR(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Cuckoo Chick":JL};class dR extends C{logService;constructor(e,t){super({name:"BabyUrchinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:o}=e,a=this.owner;let l=a.parent.opponent.getFurthestUpPet(a),d=[l.pet],p=l.random;if(d[0]){for(let b=0;b<a.level-1;b++){let T;if(T=p?a.parent.opponent.getFurthestUpPet(a).pet:d[b].petBehind(),!T)break;d.push(T)}for(let b of d)b&&(b.increaseHealth(-4),this.logService.createLog({message:`${a.name} removed 4 health from ${b.name}.`,type:"ability",player:a.parent,tiger:n,pteranodon:o,randomEvent:p}));this.triggerTigerExecution(e)}}copy(e){return new dR(e,this.logService)}}class hR extends C{logService;constructor(e,t){super({name:"MimicOctopusAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=a.parent.opponent.getLowestHealthPets(a.level,void 0,a);for(let d of l.pets)a.snipePet(d,4,l.random,n);this.triggerTigerExecution(e)}copy(e){return new hR(e,this.logService)}}class pR extends C{logService;abilityService;constructor(e,t,i){super({name:"MobyDickAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}get triggers(){const e=["StartBattle"];return this.owner.level>1&&e.push("ThisSummoned"),e}set triggers(e){this._triggers=e}executeAbility(e){this.logService.createLog({message:`${this.owner.name} removed itself.`,type:"ability",player:this.owner.parent}),this.owner.removed=!0;const t=this.owner.parent;t&&(t.pet0===this.owner&&(t.pet0=null),t.pet1===this.owner&&(t.pet1=null),t.pet2===this.owner&&(t.pet2=null),t.pet3===this.owner&&(t.pet3=null),t.pet4===this.owner&&(t.pet4=null)),this.triggerTigerExecution(e)}copy(e){return new pR(e,this.logService,this.abilityService)}}class gR extends C{logService;constructor(e,t){super({name:"SalmonAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,a=this.owner;let l=1+Math.floor(a.health/25),d=5*this.level;for(let p=0;p<l;p++){let b=a.parent.opponent.getRandomPet([],!1,!0,!1,a);b.pet&&a.snipePet(b.pet,d,b.random,n)}this.triggerTigerExecution(e)}copy(e){return new gR(e,this.logService)}}const bG={...ql,...X0,...gr,...XC,...Iw,...W4,...cG,"Adult Flounder":class uG extends D{logService;abilityService;name="Adult Flounder";tier=1;pack="Custom";hidden=!0;attack=2;health=4;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Angry Pygmy Hog":Tx,"Baby Urchin":class dG extends D{logService;abilityService;name="Baby Urchin";tier=2;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new dR(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},Bee:VS,Bus:zf,Butterfly:wb,Chick:Z1,"Chimera Goat":AA,"Chimera Lion":_A,"Chimera Snake":SA,"Cooked Roach":class hG extends D{logService;abilityService;name="Cooked Roach";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Cracked Egg":uw,Daycrawler:UL,"Dirty Rat":j1,"Fairy Ball":Ek,"Fake Nessie":class pG extends D{logService;abilityService;name="Fake Nessie";tier=1;pack="Custom";hidden=!0;attack=1;health=2;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Fire Pup":xw,"Giant Eyes Dog":db,"Golden Retriever":Za,"Good Dog":ZM,Head:BA,"Lizard Tail":Kk,"Loyal Chinchilla":OS,"Mimic Octopus":class gG extends D{logService;abilityService;name="Mimic Octopus";tier=6;pack="Star";attack=4;health=7;initAbilities(){this.addAbility(new hR(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Moby Dick":class mG extends D{logService;abilityService;name="Moby Dick";tier=1;pack="Custom";hidden=!0;attack=8;health=8;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}initAbilities(){this.addAbility(new pR(this,this.logService,this.abilityService)),super.initAbilities()}},Monty:yP,"Nessie?":Tw,Nest:Sy,Quail:VL,Ram:vS,Rock:zx,Salmon:class fG extends D{logService;abilityService;name="Salmon";tier=1;pack="Star";attack=5;health=5;hidden=!0;initAbilities(){this.addAbility(new gR(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Sleeping Gelada":YL,"Smaller Slime":WL,"Smaller Slug":Ag,"Smallest Slug":Vv,"Summoned Cockroach":vk,"Tand and Tand":class yG extends D{logService;abilityService;name="Tand and Tand";tier=4;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,n,o,a,l,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,n,o,a,d,p)}},"Young Phoenix":IA,"Zombie Cricket":B1,"Zombie Fly":cy},QA=[1,2,3,4,5,6],SG={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"};let Xn=(()=>{class r{logService;abilityService;gameService;petFactory;turtlePackPets=new Map;puppyPackPets=new Map;starPackPets=new Map;goldenPackPets=new Map;unicornPackPets=new Map;customPackPets=new Map;dangerPackPets=new Map;playerCustomPackPets=new Map;allPets=new Map;tokenPetsMap=new Map;basePackPetsByName;startOfBattlePets=[];faintPetsByTier=new Map;constructor(t,i,n,o){this.logService=t,this.abilityService=i,this.gameService=n,this.petFactory=o,this.logService=nr(this.logService),this.basePackPetsByName={Turtle:this.turtlePackPets,Puppy:this.puppyPackPets,Star:this.starPackPets,Golden:this.goldenPackPets,Unicorn:this.unicornPackPets,Danger:this.dangerPackPets,Custom:this.customPackPets}}buildCustomPackPets(t){for(let i of t.controls){let n=new Map;for(let o=1;o<=6;o++)n.set(o,i.get(`tier${o}Pets`).value);this.playerCustomPackPets.set(i.get("name").value,n)}}setCustomPackPools(t=[]){this.playerCustomPackPets.clear();for(const i of t){const n=`${i?.name??""}`.trim();if(!n)continue;const o=new Map;for(const a of QA){const l=`tier${a}Pets`,d=i?.[l],p=this.normalizePetNameList(d);o.set(a,p)}this.playerCustomPackPets.set(n,o)}}normalizePetNameList(t){return Array.isArray(t)?t.filter(i=>"string"==typeof i).map(i=>i.trim()).filter(i=>i.length>0):[]}isValidTier(t){return Number.isFinite(t)&&t>=1&&t<=6}getCustomPackTierPets(t,i){return[...this.playerCustomPackPets.get(t)?.get(i)||[]]}getBasePackTierPets(t,i){return[...this.basePackPetsByName[t]?.get(i)||[]]}resolveBasePackName(t){switch(t){case"Turtle":case"Puppy":case"Star":case"Golden":case"Unicorn":case"Danger":return t;default:return null}}getRandomPetPoolByTier(t,i){if(t.allPets)return[...this.allPets.get(i)||[]];const n=this.resolveBasePackName(t.pack);return n?this.getBasePackTierPets(n,i):this.getCustomPackTierPets(t.pack,i)}resetPackMaps(){const t=[this.turtlePackPets,this.puppyPackPets,this.starPackPets,this.goldenPackPets,this.unicornPackPets,this.dangerPackPets,this.customPackPets,this.tokenPetsMap];for(const i of t){i.clear();for(const n of QA)i.set(n,[])}}getPetEntriesFromJson(){return(Ts??Es??[]).filter(i=>!!i?.Name)}isPetRandom(t){return!0===this.petDataMap.get(t)?.Random}petDataMap=new Map;populatePackMaps(t){for(const i of t){i.Name&&this.petDataMap.set(i.Name,i);const n=Number(i.Tier);if(!this.isValidTier(n))continue;const o=Array.isArray(i.Abilities)&&i.Abilities.length>0&&i.Abilities.every(l=>"No ability."===l?.About);if(!0!==i.Rollable||o)this.tokenPetsMap.get(n)?.push(i.Name);else for(const l of this.getPackNamesFromEntry(i)){const p=this.basePackPetsByName[l]?.get(n);p&&p.push(i.Name)}}for(const i of Object.values(this.basePackPetsByName))this.deduplicateTierMap(i);this.deduplicateTierMap(this.tokenPetsMap)}getPackNamesFromEntry(t){const i=new Set,n=new Set;Array.isArray(t.Packs)&&t.Packs.forEach(l=>{if(l){const d=l.trim();i.add(d),n.add(d)}}),!(n.has("Custom")||n.has("MiniPack1")||n.has("MiniPack2")||n.has("MiniPack3"))&&Array.isArray(t.PacksRequired)&&t.PacksRequired.forEach(l=>{l&&i.add(l.trim())});const a=new Set;for(const l of i){const d=SG[l];d&&a.add(d)}return Array.from(a)}deduplicateTierMap(t){for(const[i,n]of t)t.set(i,[...new Set(n)])}buildStartOfBattlePets(t){const i=new Set;for(const n of t)Array.isArray(n.Abilities)&&n.Abilities.some(o=>{const a=o?.About;return"string"==typeof a&&a.toLowerCase().includes("start of battle")})&&i.add(n.Name);return Array.from(i)}buildFaintPetsByTier(t){const i=new Map;for(const n of QA)i.set(n,[]);for(const n of t){const o=Number(n.Tier);!this.isValidTier(o)||!0!==n.Rollable||!Array.isArray(n.Abilities)||!n.Abilities.some(l=>{const d=l?.About;return"string"==typeof d&&d.includes("Faint:")})||i.get(o)?.push(n.Name)}return this.deduplicateTierMap(i),i}init(){this.resetPackMaps();const t=this.getPetEntriesFromJson();this.populatePackMaps(t),this.startOfBattlePets=this.buildStartOfBattlePets(t),this.faintPetsByTier=this.buildFaintPetsByTier(t),this.setAllPets()}setAllPets(){this.allPets=new Map;for(const t of QA)this.allPets.set(t,[]);for(const t of Wh){const i=this.basePackPetsByName[t];for(let[n,o]of i)this.allPets.get(n).push(...o)}for(let[t,i]of this.allPets)this.allPets.set(t,[...new Set(i)])}createPet(t,i){const n=this.petFactory.createPetFromForm(t,i,this,bG);if(n)return n;const o=this.petFactory.resolveEquipmentFromForm(t.equipment,t.equipmentUses);return new If(this.logService,this.abilityService,i,t.health,t.attack,t.mana,t.exp,o,t.triggersConsumed)}createDefaultVersionOfPet(t,i=null,n=null){return this.petFactory.createPet(t,this,i,n)}getRandomPet(t){const i=QA.map(p=>({id:`tier-${p}`,label:`Tier ${p}`}));let o=$t({key:"pet.random-tier",label:"Random pet tier",options:i},()=>we(0,i.length-1)).index+1,a=this.getRandomPetPoolByTier(t,o);if(t.allPets&&t.tokenPets){const p=this.tokenPetsMap.get(o)||[];a.push(...p),a=[...new Set(a)]}(!a||0===a.length)&&(a=["Ant"]);const l=$t({key:"pet.random-pool",label:`Random pet from tier ${o}`,options:a.map(p=>({id:p,label:p}))},()=>we(0,a.length-1));let d=a[l.index];return this.createPet({attack:null,equipment:null,exp:we(0,5),health:null,name:d,mana:null},t)}getRandomFaintPet(t,i,n=[],o){this.faintPetsByTier?.size||(this.faintPetsByTier=this.buildFaintPetsByTier(this.getPetEntriesFromJson()));let a=[];a=i&&this.faintPetsByTier.get(i)?this.faintPetsByTier.get(i)??[]:Array.from(this.faintPetsByTier.values()).flat();const l=new Set(n.map(F=>F?.toLowerCase()));let p=a.filter(F=>!l.has(F.toLowerCase()));if(!p.length&&i){const F=Array.from(this.faintPetsByTier.values()).flat().filter(U=>!l.has(U.toLowerCase()));F.length&&(p=F)}p.length||(p=a);const b=$t({key:"pet.random-faint-pet",label:`${this.describeRandomFaintPetOwner(t,o)} -> Random faint pet summon`,options:p.map(F=>({id:F,label:F}))},()=>we(0,p.length-1));return this.createPet({name:p[b.index],attack:null,equipment:null,exp:0,health:null,mana:null},t)}describeRandomFaintPetOwner(t,i){const n=t?.isOpponent?"opponent team":"player team";return i?`${i.parent?.isOpponent?"O":"P"}${Number.isFinite(i.savedPosition)?i.savedPosition+1:0} ${i.name} (owner: ${n})`:n}static \u0275fac=function(i){return new(i||r)(A.KVO(Yn),A.KVO(Da),A.KVO(Zi),A.KVO(sN))};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const PG=["searchInput"];function kG(r,e){if(1&r&&c.nrm(0,"img",21),2&r){const t=e.ngIf,i=c.XpG().$implicit;c.Y8G("ngSrc",t)("alt",i)}}function wG(r,e){if(1&r){const t=c.RV6();c.j41(0,"button",18),c.bIt("click",function(){const n=A.eBV(t).$implicit,o=c.XpG(2);return A.Njj(o.selectPack(n))}),c.j41(1,"span",19),c.DNE(2,kG,1,2,"img",20),c.j41(3,"span"),c.EFF(4),c.k0s()()()}if(2&r){const t=e.$implicit,i=c.XpG(2);c.AVh("btn-primary",i.selectedPack===t)("btn-outline-primary",i.selectedPack!==t),c.R7$(2),c.Y8G("ngIf",i.getPackFilterIcon(t)),c.R7$(2),c.JRh(t)}}function TG(r,e){if(1&r&&(c.j41(0,"div",16),c.DNE(1,wG,5,6,"button",17),c.k0s()),2&r){const t=c.XpG();c.R7$(),c.Y8G("ngForOf",t.availablePacks)("ngForTrackBy",t.trackByPack)}}function EG(r,e){if(1&r&&c.nrm(0,"img",21),2&r){const t=e.ngIf,i=c.XpG().$implicit;c.Y8G("ngSrc",t)("alt",i)}}function CG(r,e){if(1&r){const t=c.RV6();c.j41(0,"button",18),c.bIt("click",function(){const n=A.eBV(t).$implicit,o=c.XpG(2);return A.Njj(o.selectPack(n))}),c.j41(1,"span",19),c.DNE(2,EG,1,2,"img",20),c.j41(3,"span"),c.EFF(4),c.k0s()()()}if(2&r){const t=e.$implicit,i=c.XpG(2);c.AVh("btn-primary",i.selectedPack===t)("btn-outline-primary",i.selectedPack!==t),c.R7$(2),c.Y8G("ngIf",i.getPackFilterIcon(t)),c.R7$(2),c.JRh(t)}}function xG(r,e){if(1&r&&(c.j41(0,"div",16),c.DNE(1,CG,5,6,"button",17),c.k0s()),2&r){const t=c.XpG();c.R7$(),c.Y8G("ngForOf",t.abilityPackFilters)("ngForTrackBy",t.trackByPack)}}function DG(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",22)(1,"div",23)(2,"input",24),c.bIt("change",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.selectedLevel=1)}),c.k0s(),c.j41(3,"label",25),c.EFF(4,"Lv. 1"),c.k0s(),c.j41(5,"input",26),c.bIt("change",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.selectedLevel=2)}),c.k0s(),c.j41(6,"label",27),c.EFF(7,"Lv. 2"),c.k0s(),c.j41(8,"input",28),c.bIt("change",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.selectedLevel=3)}),c.k0s(),c.j41(9,"label",29),c.EFF(10,"Lv. 3"),c.k0s()()()}if(2&r){const t=c.XpG();c.R7$(2),c.Y8G("checked",1===t.selectedLevel),c.R7$(3),c.Y8G("checked",2===t.selectedLevel),c.R7$(3),c.Y8G("checked",3===t.selectedLevel)}}function IG(r,e){if(1&r){const t=c.RV6();c.j41(0,"button",18),c.bIt("click",function(){const n=A.eBV(t).$implicit,o=c.XpG(2);return A.Njj(o.selectItemCategory(n))}),c.EFF(1),c.k0s()}if(2&r){const t=e.$implicit,i=c.XpG(2);c.AVh("btn-primary",i.selectedItemCategory===t)("btn-outline-primary",i.selectedItemCategory!==t),c.R7$(),c.SpI(" ",t," ")}}function MG(r,e){if(1&r&&(c.j41(0,"div",16),c.DNE(1,IG,2,5,"button",17),c.k0s()),2&r){const t=c.XpG();c.R7$(),c.Y8G("ngForOf",t.availableItemCategories)("ngForTrackBy",t.trackByCategory)}}function RG(r,e){1&r&&(c.j41(0,"div",30)(1,"span",31),c.EFF(2,"\u26a0"),c.k0s(),c.j41(3,"span"),c.EFF(4,"Equipment & Toys are "),c.j41(5,"strong"),c.EFF(6,"non-vanilla"),c.k0s(),c.EFF(7," features and are indicated by a yellow border."),c.k0s()())}function LG(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",32),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.onItemClick(null))}),c.j41(1,"div",33)(2,"span",34),c.EFF(3,"None"),c.k0s()(),c.j41(4,"div",35),c.EFF(5,"None"),c.k0s()()}}function NG(r,e){if(1&r&&(c.j41(0,"div",39),c.EFF(1),c.k0s()),2&r){const t=c.XpG().$implicit;c.R7$(),c.SpI(" ",t.category," ")}}function FG(r,e){if(1&r&&c.nrm(0,"img",42),2&r){const t=c.XpG(2).$implicit;c.Y8G("ngSrc",t.icon)("alt",t.name)}}function OG(r,e){if(1&r&&(c.j41(0,"div",43),c.EFF(1),c.k0s()),2&r){const t=c.XpG(2).$implicit;c.Y8G("ngClass","tier-badge-tier-"+t.tier),c.R7$(),c.SpI(" ",t.tier," ")}}function BG(r,e){if(1&r&&(c.qex(0),c.DNE(1,FG,1,2,"img",40)(2,OG,2,2,"div",41),c.bVm()),2&r){const t=c.XpG().$implicit,i=c.XpG();c.R7$(),c.Y8G("ngIf",t.icon),c.R7$(),c.Y8G("ngIf",t.tier>0&&"hard-toy"!==i.type)}}function $G(r,e){if(1&r&&c.nrm(0,"img",46),2&r){const t=e.$implicit,i=c.XpG(2).$implicit;c.Y8G("ngSrc",t)("alt",i.name)}}function GG(r,e){if(1&r&&(c.j41(0,"div",44),c.DNE(1,$G,1,2,"img",45),c.k0s()),2&r){const t=c.XpG().$implicit,i=c.XpG();c.R7$(),c.Y8G("ngForOf",t.icons)("ngForTrackBy",i.trackByIndex)}}function HG(r,e){if(1&r){const t=c.RV6();c.qex(0),c.DNE(1,NG,2,1,"div",36),c.j41(2,"div",37),c.bIt("click",function(){const n=A.eBV(t).$implicit,o=c.XpG();return A.Njj(o.onItemClick(n))}),c.j41(3,"div",33),c.DNE(4,BG,3,2,"ng-container",38)(5,GG,2,2,"ng-template",null,1,c.C5r),c.k0s(),c.j41(7,"div",35),c.EFF(8),c.k0s()(),c.bVm()}if(2&r){const t=e.$implicit,i=e.index,n=c.sdS(6),o=c.XpG();c.R7$(),c.Y8G("ngIf",0===i||o.filteredItems[i-1].category!==t.category),c.R7$(),c.AVh("item-card-disabled",t.isDisabled)("team-card","team"===o.type),c.Y8G("appTooltip",t.tooltip||t.displayName||t.name),c.R7$(),c.AVh("team-container","team"===o.type),c.R7$(),c.Y8G("ngIf","team"!==o.type)("ngIfElse",n),c.R7$(4),c.JRh(t.displayName||t.name)}}function jG(r,e){if(1&r&&(c.j41(0,"div",47),c.EFF(1),c.k0s()),2&r){const t=c.XpG();c.R7$(),c.SpI(' No items found matching "',t.searchQuery,'" ')}}let uN=(()=>{class r{petService;equipmentService;toyService;type="pet";currentPack="Turtle";showTokenPets=!1;showAllPets=!1;customPacks=null;savedTeams=[];lockAbilityLevel=!1;initialLevel=1;select=new A.bkB;close=new A.bkB;searchInput;searchQuery="";selectedPack="All";availablePacks=["All",...oa,"Tokens"];selectedItemCategory="All";availableItemCategories=["All"];selectedLevel=1;items=[];filteredItems=[];customPacksSubscription=null;basePetItems=null;tokenItems=[];equipmentItems=null;toyItems=null;hardToyItems=null;searchDebounceHandle=null;trackByPack(t,i){return i??String(t)}trackByCategory(t,i){return i??String(t)}trackByItem(t,i){return i?.id??i?.name??t}trackByIndex(t){return t}get shouldShowNoneCard(){return"swallowed-pet"!==this.type&&"ability"!==this.type&&"pack"!==this.type&&"team"!==this.type&&0===this.searchQuery.trim().length}constructor(t,i,n){this.petService=t,this.equipmentService=i,this.toyService=n}ngOnInit(){this.selectedLevel=this.clampLevel(this.initialLevel),this.updateAvailablePacks(),this.customPacks&&this.customPacks instanceof X.Yp&&(this.customPacksSubscription=this.customPacks.valueChanges.subscribe(()=>{this.updateAvailablePacks(),this.loadItems()})),this.showAllPets?this.selectedPack="All":this.currentPack&&"custom"!==this.currentPack&&(this.selectedPack=this.currentPack),this.availablePacks.includes(this.selectedPack)||(this.selectedPack="All"),this.loadItems()}ngAfterViewInit(){setTimeout(()=>{this.searchInput?.nativeElement?.focus(),this.searchInput?.nativeElement?.select()})}ngOnDestroy(){this.customPacksSubscription&&this.customPacksSubscription.unsubscribe(),this.searchDebounceHandle&&(clearTimeout(this.searchDebounceHandle),this.searchDebounceHandle=null)}updateAvailablePacks(){if(this.availablePacks=["All",...oa,"Tokens"],this.customPacks&&this.customPacks instanceof X.Yp){const t=this.customPacks;for(const i of t.controls){const n=i.get("name")?.value;n&&i.valid&&this.availablePacks.push(n)}}this.availablePacks.includes(this.selectedPack)||(this.selectedPack="All")}loadItems(){"pet"===this.type||"swallowed-pet"===this.type?this.loadPets():"equipment"===this.type?this.loadEquipment():"toy"===this.type?this.loadToys(!1):"hard-toy"===this.type?this.loadToys(!0):"pack"===this.type?this.loadPacks():"team"===this.type?this.loadTeams():"ability"===this.type&&this.loadAbilities(),this.updateAvailableItemCategories(),this.filterItems()}loadPets(){const t=[];if(!this.basePetItems){const n=[];for(const o of oa){const a=this.petService.basePackPetsByName[o];if(a)for(const[l,d]of a)d.forEach(p=>{n.push({name:p,displayName:p,tier:l,pack:o,icon:rn(p),tooltip:Vh(p),type:"pet",category:`Tier ${l}`})})}this.basePetItems=n}if(t.push(...this.basePetItems),this.customPacks&&this.customPacks instanceof X.Yp){const n=this.customPacks;for(const o of n.controls){const a=o.get("name")?.value;if(!a||!o.valid)continue;const l=this.petService.playerCustomPackPets.get(a);if(l)for(const[d,p]of l)p.forEach(b=>{t.push({name:b,displayName:b,tier:d,pack:a,icon:rn(b),tooltip:Vh(b),type:"pet",category:`Tier ${d}`})})}}this.tokenItems=this.buildTokenItems(),t.push(...this.tokenItems);const i=new Map;t.forEach(n=>{const o=i.get(n.name);o?"Tokens"===o.pack&&"Tokens"!==n.pack&&i.set(n.name,n):i.set(n.name,n)}),this.items=Array.from(i.values())}loadEquipment(){if(!this.equipmentItems){const t=[],i=this.equipmentService.getInstanceOfAllEquipment(),n=this.equipmentService.getInstanceOfAllAilments();i.forEach((o,a)=>{"Corncob"===o?.name||"Mana Potion"===o?.name||t.push({name:a,displayName:o.name,tier:o.tier||0,icon:cr(o.name),tooltip:Nl(o.name),type:"equipment",category:o.tier?`Tier ${o.tier}`:"Perks",item:o})}),n.forEach((o,a)=>{t.push({name:a,displayName:o.name,tier:0,icon:cr(o.name,!0),tooltip:Nl(o.name),type:"ailment",category:"Ailments",item:o})}),this.equipmentItems=t}this.items=this.equipmentItems}loadTeams(){const t=Array.isArray(this.savedTeams)?this.savedTeams:[];this.items=t.map(i=>{const n=(i.pets||[]).map(a=>a?.name).filter(Boolean).slice(0,5),o=n.map(a=>rn(a));return{id:i.id,name:i.name,displayName:i.name,tier:0,icon:null,icons:o,tooltip:n.join(", "),type:"team",category:"Saved Teams"}})}loadToys(t){if(!(t?this.hardToyItems:this.toyItems)){const n=[];this.toyService.getToysByType(t?1:0).forEach((a,l)=>{a.forEach(d=>{n.push({name:d,displayName:d,tier:l,icon:xs(d),tooltip:Ll(d),type:t?"hard-toy":"toy",category:`Tier ${l}`,item:d})})}),t?this.hardToyItems=n:this.toyItems=n}this.items=t?this.hardToyItems:this.toyItems}loadPacks(){const t=[];for(const i of oa)"Custom"!==i&&t.push({name:i,displayName:i,tier:0,icon:Fl(i),type:"pack",category:"Packs"});if(this.customPacks&&this.customPacks instanceof X.Yp){const i=this.customPacks;for(const n of i.controls){const o=n.get("name")?.value;if(o&&n.valid){const a=this.getFirstCustomPackPet(n);t.push({name:o,displayName:o,tier:0,icon:a?rn(a):Fl(o),type:"pack",category:"Custom Packs"})}}}t.push({name:"Add Custom Pack",displayName:"+ Add Custom Pack",tier:0,icon:rn("White Tiger"),type:"pack",category:"Custom Packs"}),this.items=t}filterItems(){let t=this.items;if(("pet"===this.type||"swallowed-pet"===this.type)&&("Tokens"===this.selectedPack?t=this.tokenItems:"All"!==this.selectedPack&&(t=t.filter(i=>i.pack===this.selectedPack||"swallowed-pet"===this.type&&"Tokens"===i.pack))),"ability"===this.type&&"All"!==this.selectedPack&&(t=t.filter("Tokens"===this.selectedPack?i=>"Tokens"===i.pack:"Equipment"===this.selectedPack?i=>"equipment"===i.type||"ailment"===i.type:"Toys"===this.selectedPack?i=>"toy"===i.type||"hard-toy"===i.type:i=>i.pack===this.selectedPack||i.isDisabled)),("equipment"===this.type||"toy"===this.type||"hard-toy"===this.type)&&"All"!==this.selectedItemCategory&&(t=t.filter(i=>i.category===this.selectedItemCategory)),this.searchQuery){const i=this.searchQuery.toLowerCase();t=t.filter(n=>n.name.toLowerCase().includes(i)||n.displayName&&n.displayName.toLowerCase().includes(i))}this.filteredItems=[...t].sort((i,n)=>{if("ability"===this.type){const o=l=>"pet"===l.type?0:"equipment"===l.type||"ailment"===l.type?1:2,a=o(i)-o(n);if(0!==a)return a}return"Ailments"===i.category&&"Ailments"!==n.category?1:"Ailments"!==i.category&&"Ailments"===n.category?-1:i.category!==n.category?i.category.localeCompare(n.category):i.tier!==n.tier?i.tier-n.tier:i.name.localeCompare(n.name)})}onSearchChange(){this.searchDebounceHandle&&clearTimeout(this.searchDebounceHandle),this.searchDebounceHandle=setTimeout(()=>{this.searchDebounceHandle=null,this.filterItems()},50)}selectPack(t){this.selectedPack=t,this.filterItems()}selectItemCategory(t){this.selectedItemCategory=t,this.filterItems()}getPackFilterIcon(t){if(!t||"All"===t)return null;if("Tokens"===t)return rn("Bee");if(oa.includes(t))return Fl(t);if(this.customPacks&&this.customPacks instanceof X.Yp){const n=this.customPacks.controls.find(o=>o.get("name")?.value===t&&o.valid);if(n){const o=this.getFirstCustomPackPet(n);if(o)return rn(o)}}return Fl(t)}onItemClick(t){this.select.emit(t?"team"!==this.type?"pet"===this.type||"swallowed-pet"===this.type||"pack"===this.type?"swallowed-pet"===this.type?{name:t.name,level:this.selectedLevel}:t.name:"ability"===this.type?{name:t.name,level:this.selectedLevel}:t.item:t.id||t.name:null)}onCancel(){this.close.emit()}getFirstCustomPackPet(t){for(let i=1;i<=6;i++){const n=t.get(`tier${i}Pets`)?.value;if(Array.isArray(n)){const o=n.find(a=>!!a);if(o)return o}}return null}buildTokenItems(){const t=[];for(const[i,n]of this.petService.tokenPetsMap)n.forEach(o=>{t.push({name:o,displayName:o,tier:i,pack:"Tokens",icon:rn(o),tooltip:Vh(o),type:"pet",category:"Tokens"})});return t}loadAbilities(){const t=[];if(!this.basePetItems){const l=[];for(const d of oa){const p=this.petService.basePackPetsByName[d];if(p)for(const[b,T]of p)T.forEach(F=>{l.push({name:F,displayName:F,tier:b,pack:d,icon:rn(F),tooltip:Vh(F),type:"pet",category:`Tier ${b}`})})}this.basePetItems=l}const i=[];i.push(...this.basePetItems),i.push(...this.buildTokenItems());const n=new Map;i.forEach(l=>{const d=n.get(l.name);d?"Tokens"===d.pack&&"Tokens"!==l.pack&&n.set(l.name,l):n.set(l.name,l)}),t.push(...Array.from(n.values())),this.equipmentItems||this.loadEquipment();const o=(this.equipmentItems??[]).map(l=>({...l,isDisabled:!0,category:"ailment"===l.type?"Ailments":l.category??"Equipment"}));this.toyItems||this.loadToys(!1),this.hardToyItems||this.loadToys(!0);const a=[...this.toyItems??[],...this.hardToyItems??[]].map(l=>({...l,isDisabled:!0,category:"hard-toy"===l.type?`Hard Toy Tier ${l.tier}`:`Toy Tier ${l.tier}`}));this.items=[...t,...o,...a]}updateAvailableItemCategories(){if("equipment"!==this.type&&"toy"!==this.type&&"hard-toy"!==this.type)return this.availableItemCategories=["All"],void(this.selectedItemCategory="All");const t=Array.from(new Set(this.items.map(i=>i.category).filter(Boolean)));t.sort((i,n)=>{const o=this.extractTierNumber(i),a=this.extractTierNumber(n);return null!=o&&null!=a?o-a:null!=o?-1:null!=a?1:i.localeCompare(n)}),this.availableItemCategories=["All",...t],this.availableItemCategories.includes(this.selectedItemCategory)||(this.selectedItemCategory="All")}get abilityPackFilters(){return"ability"!==this.type?[]:["All",...oa,"Tokens","Equipment","Toys"]}extractTierNumber(t){const i=/^Tier\s+(\d+)$/i.exec(t);return i?Number(i[1]):null}clampLevel(t){const i=Number(t);return Number.isFinite(i)?Math.max(1,Math.min(3,Math.trunc(i))):1}static \u0275fac=function(i){return new(i||r)(c.rXU(Xn),c.rXU(Pi),c.rXU(Ar))};static \u0275cmp=c.VBU({type:r,selectors:[["app-item-selection-dialog"]],viewQuery:function(i,n){if(1&i&&c.GBs(PG,5),2&i){let o;c.mGM(o=c.lsd())&&(n.searchInput=o.first)}},inputs:{type:"type",currentPack:"currentPack",showTokenPets:"showTokenPets",showAllPets:"showAllPets",customPacks:"customPacks",savedTeams:"savedTeams",lockAbilityLevel:"lockAbilityLevel",initialLevel:"initialLevel"},outputs:{select:"select",close:"close"},decls:19,vars:13,consts:[["searchInput",""],["teamIcons",""],[1,"selection-overlay",3,"click"],[1,"selection-dialog","card","shadow-lg",3,"click"],[1,"dialog-header"],[1,"btn-close",3,"click"],[1,"dialog-body"],[1,"search-container"],["type","text","placeholder","Search...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["class","pack-filters",4,"ngIf"],["class","ability-level-selector mt-2 text-center",4,"ngIf"],["class","ability-mode-notice",4,"ngIf"],[1,"items-grid","scroll"],["class","item-card none-card",3,"click",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","no-results",4,"ngIf"],[1,"pack-filters"],["class","btn btn-sm",3,"btn-primary","btn-outline-primary","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-sm",3,"click"],[1,"pack-filter-content"],["width","18","height","18","loading","lazy","decoding","async","class","pack-filter-icon",3,"ngSrc","alt",4,"ngIf"],["width","18","height","18","loading","lazy","decoding","async",1,"pack-filter-icon",3,"ngSrc","alt"],[1,"ability-level-selector","mt-2","text-center"],["role","group","aria-label","Ability Level Selector",1,"btn-group","btn-group-sm"],["type","radio","name","abilityLevel","id","abilityLevel1",1,"btn-check",3,"change","checked"],["for","abilityLevel1",1,"btn","btn-outline-primary"],["type","radio","name","abilityLevel","id","abilityLevel2",1,"btn-check",3,"change","checked"],["for","abilityLevel2",1,"btn","btn-outline-primary"],["type","radio","name","abilityLevel","id","abilityLevel3",1,"btn-check",3,"change","checked"],["for","abilityLevel3",1,"btn","btn-outline-primary"],[1,"ability-mode-notice"],[1,"notice-icon"],[1,"item-card","none-card",3,"click"],[1,"item-icon-container"],[1,"none-icon"],[1,"item-name"],["class","category-header",4,"ngIf"],[1,"item-card",3,"click","appTooltip"],[4,"ngIf","ngIfElse"],[1,"category-header"],["width","48","height","48","loading","lazy","decoding","async","class","item-icon",3,"ngSrc","alt",4,"ngIf"],["class","tier-badge",3,"ngClass",4,"ngIf"],["width","48","height","48","loading","lazy","decoding","async",1,"item-icon",3,"ngSrc","alt"],[1,"tier-badge",3,"ngClass"],[1,"team-icon-strip"],["width","32","height","32","loading","lazy","decoding","async","class","team-icon",3,"ngSrc","alt",4,"ngFor","ngForOf","ngForTrackBy"],["width","32","height","32","loading","lazy","decoding","async",1,"team-icon",3,"ngSrc","alt"],[1,"no-results"]],template:function(i,n){if(1&i){const o=c.RV6();c.j41(0,"div",2),c.bIt("click",function(){return A.eBV(o),A.Njj(n.onCancel())}),c.j41(1,"div",3),c.bIt("click",function(l){return A.eBV(o),A.Njj(l.stopPropagation())}),c.j41(2,"div",4)(3,"h3"),c.EFF(4),c.k0s(),c.j41(5,"button",5),c.bIt("click",function(){return A.eBV(o),A.Njj(n.onCancel())}),c.k0s()(),c.j41(6,"div",6)(7,"div",7)(8,"input",8,0),c.mxI("ngModelChange",function(l){return A.eBV(o),c.DH7(n.searchQuery,l)||(n.searchQuery=l),A.Njj(l)}),c.bIt("ngModelChange",function(){return A.eBV(o),A.Njj(n.onSearchChange())}),c.k0s()(),c.DNE(10,TG,2,2,"div",9)(11,xG,2,2,"div",9)(12,DG,11,3,"div",10)(13,MG,2,2,"div",9)(14,RG,8,0,"div",11),c.j41(15,"div",12),c.DNE(16,LG,6,0,"div",13)(17,HG,9,11,"ng-container",14)(18,jG,2,1,"div",15),c.k0s()()()()}2&i&&(c.R7$(4),c.SpI(" Select ","pet"===n.type?"Pet":"swallowed-pet"===n.type?"Swallowed Pet":"equipment"===n.type?"Equipment":"toy"===n.type?"Toy":"hard-toy"===n.type?"Hard Toy":"team"===n.type?"Team":"ability"===n.type?"Ability":"Pack"," "),c.R7$(4),c.R50("ngModel",n.searchQuery),c.R7$(2),c.Y8G("ngIf","pet"===n.type||"swallowed-pet"===n.type),c.R7$(),c.Y8G("ngIf","ability"===n.type),c.R7$(),c.Y8G("ngIf","ability"===n.type&&!n.lockAbilityLevel),c.R7$(),c.Y8G("ngIf","equipment"===n.type||"toy"===n.type||"hard-toy"===n.type),c.R7$(),c.Y8G("ngIf","ability"===n.type),c.R7$(),c.AVh("team-grid","team"===n.type),c.R7$(),c.Y8G("ngIf",n.shouldShowNoneCard),c.R7$(),c.Y8G("ngForOf",n.filteredItems)("ngForTrackBy",n.trackByItem),c.R7$(),c.Y8G("ngIf",0===n.filteredItems.length))},dependencies:[Ct.MD,Ct.YU,Ct.Sq,Ct.bT,Ti,X.YN,X.me,X.BC,X.vS,O1],styles:[".selection-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;backdrop-filter:blur(4px);z-index:1000;display:flex;align-items:center;justify-content:center}.selection-dialog[_ngcontent-%COMP%]{width:90%;max-width:600px;height:80vh;background:#fff;border-radius:12px;display:flex;flex-direction:column;overflow:hidden;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%], .lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.dialog-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center;background:#f8f9fa}.dialog-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600}.dialog-body[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column;gap:1rem;flex:1;overflow:hidden}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{border-radius:8px;padding:.6rem 1rem;background:#f1f3f5;border:2px solid transparent;transition:all .2s}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{background:#fff;border-color:#33377a;box-shadow:0 0 0 4px #33377a1a}.pack-filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.4rem;padding-bottom:.5rem;border-bottom:1px solid #eee}.pack-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px;padding:.2rem .8rem;font-size:.8rem;text-transform:capitalize}.pack-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .pack-filter-content[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem}.pack-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .pack-filter-icon[_ngcontent-%COMP%]{width:18px;height:18px;object-fit:contain;flex-shrink:0}.items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:.75rem;padding:.5rem .5rem .75rem;overflow-y:auto;flex:1;align-content:start;align-items:start}.items-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.items-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.items-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border-radius:3px}.items-grid.team-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(160px,1fr));justify-content:stretch;gap:.6rem}.category-header[_ngcontent-%COMP%]{grid-column:1/-1;padding:.25rem .5rem .2rem;font-size:.85rem;font-weight:700;color:#33377a;text-transform:uppercase;letter-spacing:.05em;border-bottom:1px solid rgba(51,55,122,.1);margin-top:.15rem}.item-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:.5rem;border-radius:8px;cursor:pointer;transition:all .2s;text-align:center;position:relative;z-index:1}.item-card[_ngcontent-%COMP%]:hover{background:#f1f3f5;transform:translateY(-2px)}.item-card.none-card[_ngcontent-%COMP%]   .none-icon[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#868e96;text-transform:uppercase}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]{position:relative;width:48px;height:48px;display:flex;align-items:center;justify-content:center;margin-bottom:.4rem}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#e67e22;color:#fff;font-size:.75rem;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;box-shadow:0 2px 4px #0003;border:1.5px solid white}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-1[_ngcontent-%COMP%]{background:#6c757d}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-2[_ngcontent-%COMP%]{background:#198754}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-3[_ngcontent-%COMP%]{background:#0d6efd}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-4[_ngcontent-%COMP%]{background:#6f42c1}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-5[_ngcontent-%COMP%]{background:#fd7e14}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-6[_ngcontent-%COMP%]{background:#dc3545}.item-card[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-size:.75rem;color:#495057;word-break:break-word;line-height:1.1}.item-card.item-card-disabled[_ngcontent-%COMP%]{opacity:.65;cursor:pointer;border:1.5px solid #f0a500;background:#f0a5000d}.item-card.item-card-disabled[_ngcontent-%COMP%]:hover{background:#f0a5001f;transform:translateY(-1px)}.item-card.item-card-disabled[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#7a6200}.night[_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]{border-color:#c98f00;background:#c8960014}.night[_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]:hover, .night   [_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]:hover{background:#c8960029}.night[_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#d4aa30}.ability-mode-notice[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.4rem .75rem;background:#f0a5001a;border:1px solid rgba(240,165,0,.4);border-radius:6px;font-size:.8rem;color:#7a5e00}.ability-mode-notice[_ngcontent-%COMP%]   .notice-icon[_ngcontent-%COMP%]{font-size:1rem;flex-shrink:0}.night[_nghost-%COMP%]   .ability-mode-notice[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .ability-mode-notice[_ngcontent-%COMP%]{background:#c896001f;border-color:#c8960066;color:#d4aa30}.item-card.team-card[_ngcontent-%COMP%]{align-items:stretch;width:100%;padding:.45rem}.item-card.team-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]{width:100%;height:auto;margin-bottom:.35rem}.item-card.team-card[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{text-align:center}.no-results[_ngcontent-%COMP%]{grid-column:1/-1;padding:2rem;text-align:center;color:#868e96;font-style:italic}.night[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]{background:#2d2d2d;color:#eee}.night[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]{background:#1a1a1a;border-bottom-color:#444}.night[_nghost-%COMP%]   .item-name[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#ccc}.night[_nghost-%COMP%]   .item-card[_ngcontent-%COMP%]:hover, .night   [_nghost-%COMP%]   .item-card[_ngcontent-%COMP%]:hover{background:#3d3d3d}.night[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]{background:#3d3d3d;color:#eee}.night[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]:focus, .night   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{background:#444}.night[_nghost-%COMP%]   .pack-filters[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .pack-filters[_ngcontent-%COMP%]{border-bottom-color:#444}.team-icon-strip[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:3px;width:100%;justify-items:center}.team-icon[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain;background:#f5f6f8;border-radius:6px;border:1px solid rgba(0,0,0,.08)}"],changeDetection:0})}return r})(),qG=(()=>{class r{formGroup;setExp(t){this.formGroup.get("exp")?.setValue(t)}getIsSelected(t){return(this.formGroup.get("exp")?.value??0)>=t}showRemoveExp(){return(this.formGroup.get("exp")?.value??0)>0}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=c.VBU({type:r,selectors:[["app-pet-level-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup"},decls:20,vars:15,consts:[[3,"formGroup"],[1,"col-12","d-flex","level-bar-numbers","mb-1"],[1,"remove-exp","spacer"],[1,"level-slots-labels","d-flex","flex-grow-1"],[1,"level-icon"],["ngSrc","assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/l1.png","width","18","height","18","loading","lazy","decoding","async","alt","Level 1"],["ngSrc","assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/l2.png","width","18","height","18","loading","lazy","decoding","async","alt","Level 2"],[1,"level-icon","level-3"],["ngSrc","assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/l3.png","width","18","height","18","loading","lazy","decoding","async","alt","Level 3"],[1,"col-12","d-flex","level-bar","mb-2"],[1,"remove-exp",3,"click"],[3,"click"]],template:function(i,n){1&i&&(c.qex(0,0),c.j41(1,"div",1),c.nrm(2,"span",2),c.j41(3,"div",3)(4,"span",4),c.nrm(5,"img",5),c.k0s(),c.nrm(6,"span"),c.j41(7,"span",4),c.nrm(8,"img",6),c.k0s(),c.nrm(9,"span"),c.j41(10,"span",7),c.nrm(11,"img",8),c.k0s()()(),c.j41(12,"div",9)(13,"span",10),c.bIt("click",function(){return n.setExp(0)}),c.EFF(14,"x"),c.k0s(),c.j41(15,"span",11),c.bIt("click",function(){return n.setExp(1)}),c.k0s(),c.j41(16,"span",11),c.bIt("click",function(){return n.setExp(2)}),c.k0s(),c.j41(17,"span",11),c.bIt("click",function(){return n.setExp(3)}),c.k0s(),c.j41(18,"span",11),c.bIt("click",function(){return n.setExp(4)}),c.k0s(),c.j41(19,"span",11),c.bIt("click",function(){return n.setExp(5)}),c.k0s()(),c.bVm()),2&i&&(c.Y8G("formGroup",n.formGroup),c.R7$(2),c.xc7("visibility",n.showRemoveExp()?"visible":"hidden"),c.R7$(11),c.xc7("visibility",n.showRemoveExp()?"visible":"hidden"),c.R7$(2),c.AVh("selected",n.getIsSelected(1)),c.R7$(),c.AVh("selected",n.getIsSelected(1)&&n.getIsSelected(2)),c.R7$(),c.AVh("selected",n.getIsSelected(1)&&n.getIsSelected(3)),c.R7$(),c.AVh("selected",n.getIsSelected(1)&&n.getIsSelected(4)),c.R7$(),c.AVh("selected",n.getIsSelected(1)&&n.getIsSelected(5)))},dependencies:[Ct.MD,Ti,X.X1,X.cb,X.j4],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return r})();const UG=new Set(["parrot","parrot-beluga","parrot-abomination","parrot-abomination-beluga","abomination-parrot","abomination-parrot-beluga","abomination-parrot-abomination","abomination-parrot-abomination-beluga","parrot-abomination-parrot","parrot-abomination-parrot-beluga","parrot-abomination-parrot-abomination","parrot-abomination-parrot-abomination-beluga"]),VG=new Set(["sabertooth tiger","tuna"]);function hm(r){const e=function WG(r){if("string"==typeof r){const e=r.trim().toLowerCase();return e.length>0?e:null}if(r&&"object"==typeof r&&"string"==typeof r.name){const e=r.name.trim().toLowerCase();return e.length>0?e:null}return null}(r);return!!e&&(!!VG.has(e)||e.includes("sabertooth"))}const KG=["Adult Flounder","Angry Pygmy Hog","Baby Urchin","Bee","Bus","Butterfly","Chick","Chimera Goat","Chimera Lion","Chimera Snake","Cooked Roach","Cracked Egg","Cuckoo Chick","Daycrawler","Dirty Rat","Fairy Ball","Fake Nessie","Fire Pup","Giant Eyes Dog","Golden Retriever","Good Dog","Great One","Head","Lizard Tail","Loyal Chinchilla","Mimic Octopus","Moby Dick","Monty","Nessie?","Nest","Quail","Ram","Rock","Salmon","Sleeping Gelada","Smaller Slime","Smaller Slug","Smallest Slug","Tand and Tand","Young Phoenix","Zombie Cricket","Zombie Fly"],dN=(()=>{const r=[];for(let e=1;e<=3;e++){const t=`parrotCopyPetAbominationSwallowedPet${e}`;r.push(t),r.push(`${t}BelugaSwallowedPet`),r.push(`${t}Level`),r.push(`${t}TimesHurt`)}return r})(),zG=(()=>{const r=[];for(let e=1;e<=3;e++){const t=`parrotCopyPetAbominationSwallowedPet${e}`;r.push(`${t}ParrotCopyPet`),r.push(`${t}ParrotCopyPetBelugaSwallowedPet`);for(let i=1;i<=3;i++){const n=`${t}ParrotCopyPetAbominationSwallowedPet${i}`;r.push(n),r.push(`${n}BelugaSwallowedPet`),r.push(`${n}Level`),r.push(`${n}TimesHurt`)}}return r})();function YG(r,e){1&r&&(c.j41(0,"div",8)(1,"label",9),c.EFF(2,"Times Hurt"),c.k0s(),c.nrm(3,"input",10),c.k0s())}function XG(r,e){1&r&&(c.j41(0,"div",8)(1,"label",11),c.EFF(2,"Friends Fainted in Shop"),c.k0s(),c.nrm(3,"input",12),c.k0s())}function JG(r,e){1&r&&(c.j41(0,"div",8)(1,"label",13),c.EFF(2,"Battles Fought"),c.k0s(),c.nrm(3,"input",14),c.k0s())}function QG(r,e){1&r&&(c.j41(0,"div",16)(1,"div",17),c.nrm(2,"input",18),c.k0s()())}function ZG(r,e){1&r&&(c.j41(0,"div",16),c.nrm(1,"input",19),c.k0s())}function eH(r,e){1&r&&(c.qex(0),c.j41(1,"div",3)(2,"div",17),c.nrm(3,"input",18),c.k0s()(),c.j41(4,"div",3),c.nrm(5,"input",20),c.k0s(),c.bVm())}function tH(r,e){if(1&r&&(c.qex(0),c.DNE(1,QG,3,0,"div",15)(2,ZG,2,0,"div",15)(3,eH,6,0,"ng-container",2),c.bVm()),2&r){const t=c.XpG();c.R7$(),c.Y8G("ngIf",t.mana&&!t.triggersConsumed),c.R7$(),c.Y8G("ngIf",!t.mana&&t.triggersConsumed),c.R7$(),c.Y8G("ngIf",t.mana&&t.triggersConsumed)}}function iH(r,e){1&r&&(c.j41(0,"div",8)(1,"label",21),c.EFF(2,"Foods Eaten"),c.k0s(),c.nrm(3,"input",22),c.k0s())}let nH=(()=>{class r{formGroup;petName=null;mana=!1;triggersConsumed=!1;attackHealthMax=100;friendsDiedCaps=new Map([["Vulture",1],["Saiga Antelope",1],["Secretary Bird",1],["Mimic",2]]);foodsEatenPets=new Set(["Black Bear","Blue Jay","Dung Beetle","Locust"]);battlesFoughtPets=new Set(["Slime"]);shouldShowFriendsDiedInput(){return!!this.petName&&this.friendsDiedCaps.has(this.petName)}shouldShowFoodsEatenInput(){return!!this.petName&&this.foodsEatenPets.has(this.petName)}shouldShowBattlesFoughtInput(){return!!this.petName&&this.battlesFoughtPets.has(this.petName)}shouldShowTimesHurtInput(){return hm(this.petName??this.formGroup?.get("name")?.value)}getFriendsDiedMax(){return this.petName?this.friendsDiedCaps.get(this.petName)??5:5}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=c.VBU({type:r,selectors:[["app-pet-stats-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup",petName:"petName",mana:"mana",triggersConsumed:"triggersConsumed",attackHealthMax:"attackHealthMax"},decls:12,vars:8,consts:[[3,"formGroup"],["class","col-12 mb-2",4,"ngIf"],[4,"ngIf"],[1,"col-6"],[1,"stat-tile","stat-attack"],["formControlName","attack","type","number","min","1",1,"form-control","stat-input","select-attack",3,"max"],[1,"stat-tile","stat-health"],["formControlName","health","type","number","min","1",1,"form-control","stat-input","select-health",3,"max"],[1,"col-12","mb-2"],["for","timesHurt"],["formControlName","timesHurt","type","number","min","0","max","99",1,"form-control"],["for","friendsDiedBeforeBattle",1,"swallowed-label"],["type","number","min","0","max","5","formControlName","friendsDiedBeforeBattle",1,"form-control"],["for","battlesFought"],["formControlName","battlesFought","type","number","min","0","max","99",1,"form-control"],["class","col-12",4,"ngIf"],[1,"col-12"],[1,"stat-tile","stat-mana"],["formControlName","mana","type","number","min","0","max","50","placeholder","Mana",1,"form-control","stat-input","select-mana"],["formControlName","triggersConsumed","type","number","min","0","max","10","placeholder","Triggers Consumed",1,"form-control","select-triggers-consumed","single-stat-input"],["formControlName","triggersConsumed","type","number","min","0","max","10","placeholder","Triggers Consumed",1,"form-control","select-triggers-consumed"],["for","foodsEaten",1,"swallowed-label"],["formControlName","foodsEaten","type","number","min","0","max","99",1,"form-control","select-foods-eaten"]],template:function(i,n){1&i&&(c.qex(0,0),c.DNE(1,YG,4,0,"div",1)(2,XG,4,0,"div",1)(3,JG,4,0,"div",1)(4,tH,4,3,"ng-container",2)(5,iH,4,0,"div",1),c.j41(6,"div",3)(7,"div",4),c.nrm(8,"input",5),c.k0s()(),c.j41(9,"div",3)(10,"div",6),c.nrm(11,"input",7),c.k0s()(),c.bVm()),2&i&&(c.Y8G("formGroup",n.formGroup),c.R7$(),c.Y8G("ngIf",n.shouldShowTimesHurtInput()),c.R7$(),c.Y8G("ngIf",n.shouldShowFriendsDiedInput()),c.R7$(),c.Y8G("ngIf",n.shouldShowBattlesFoughtInput()),c.R7$(),c.Y8G("ngIf",n.mana||n.triggersConsumed),c.R7$(),c.Y8G("ngIf",n.shouldShowFoodsEatenInput()),c.R7$(3),c.Y8G("max",n.attackHealthMax),c.R7$(3),c.Y8G("max",n.attackHealthMax))},dependencies:[Ct.MD,Ct.bT,X.X1,X.me,X.Q0,X.BC,X.cb,X.VZ,X.zX,X.j4,X.JD],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return r})();function rH(r,e){if(1&r&&c.nrm(0,"img",7),2&r){const t=c.XpG();c.Y8G("ngSrc",t.equipmentImageSrc)}}function aH(r,e){if(1&r&&c.nrm(0,"img",7),2&r){const t=c.XpG();c.Y8G("ngSrc",t.ailmentImageSrc)}}function oH(r,e){if(1&r&&(c.j41(0,"div",8)(1,"label",9),c.EFF(2,"Uses"),c.k0s(),c.nrm(3,"input",10),c.k0s()),2&r){const t=c.XpG();c.R7$(),c.Y8G("for",t.equipmentUsesInputId),c.R7$(2),c.Y8G("id",t.equipmentUsesInputId)}}let sH=(()=>{class r{formGroup;equipmentImageSrc=null;ailmentImageSrc=null;allowEquipmentUseOverrides=!1;equipmentUsesAvailable=!1;equipmentUsesInputId="";openSelection=new A.bkB;static \u0275fac=function(i){return new(i||r)};static \u0275cmp=c.VBU({type:r,selectors:[["app-pet-equipment-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup",equipmentImageSrc:"equipmentImageSrc",ailmentImageSrc:"ailmentImageSrc",allowEquipmentUseOverrides:"allowEquipmentUseOverrides",equipmentUsesAvailable:"equipmentUsesAvailable",equipmentUsesInputId:"equipmentUsesInputId"},outputs:{openSelection:"openSelection"},decls:9,vars:5,consts:[[3,"formGroup"],[1,"col-12","mb-2"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center",3,"click"],["class","btn-icon me-2","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc",4,"ngIf"],[1,"btn-text"],[1,"bi","bi-chevron-down","ms-auto"],["class","col-6 mb-2",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async",1,"btn-icon","me-2",3,"ngSrc"],[1,"col-6","mb-2"],[3,"for"],["type","number","min","1","max","99","formControlName","equipmentUses",1,"form-control",3,"id"]],template:function(i,n){if(1&i&&(c.qex(0,0),c.j41(1,"div",1)(2,"button",2),c.bIt("click",function(){return n.openSelection.emit()}),c.DNE(3,rH,1,1,"img",3)(4,aH,1,1,"img",3),c.j41(5,"span",4),c.EFF(6),c.k0s(),c.nrm(7,"i",5),c.k0s()(),c.DNE(8,oH,4,2,"div",6),c.bVm()),2&i){let o;c.Y8G("formGroup",n.formGroup),c.R7$(3),c.Y8G("ngIf",n.equipmentImageSrc),c.R7$(),c.Y8G("ngIf",!n.equipmentImageSrc&&n.ailmentImageSrc),c.R7$(2),c.JRh((null==(o=n.formGroup.get("equipment"))?null:o.value)||"Select Equipment"),c.R7$(2),c.Y8G("ngIf",n.allowEquipmentUseOverrides&&n.equipmentUsesAvailable)}},dependencies:[Ct.MD,Ct.bT,Ti,X.X1,X.me,X.Q0,X.BC,X.cb,X.VZ,X.zX,X.j4,X.JD],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return r})();const mR=()=>[];function lH(r,e){if(1&r&&(c.j41(0,"span",13),c.nrm(1,"img",14),c.j41(2,"span",15),c.EFF(3),c.k0s()()),2&r){const t=e.ngIf,i=c.XpG().index,n=c.XpG(2);c.R7$(),c.Y8G("ngSrc",t),c.R7$(2),c.JRh(n.getAbominationAbilityLevel(i))}}function cH(r,e){if(1&r&&(c.j41(0,"div",20)(1,"label",21),c.EFF(2,"Times Hurt"),c.k0s(),c.nrm(3,"input",22),c.k0s()),2&r){const t=c.XpG(2).index;c.R7$(3),c.Y8G("formControlName","abominationSwallowedPet"+(t+1)+"TimesHurt")}}function uH(r,e){if(1&r&&c.nrm(0,"img",26),2&r){let t;const i=c.XpG(3).index,n=c.XpG(2);c.Y8G("ngSrc",n.getAbilityImagePath(null==(t=n.formGroup.get("abominationSwallowedPet"+(i+1)+"BelugaSwallowedPet"))?null:t.value))}}function dH(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",23)(1,"label",21),c.EFF(2,"Swallowed by Beluga"),c.k0s(),c.j41(3,"button",24),c.bIt("click",function(){A.eBV(t);const n=c.XpG(2).index,o=c.XpG(2);return A.Njj(o.openSelectionDialog("swallowed-pet",n+1,"abomination-beluga"))}),c.DNE(4,uH,1,1,"img",25),c.j41(5,"span",10),c.EFF(6),c.k0s(),c.nrm(7,"i",11),c.k0s()()}if(2&r){let t,i;const n=c.XpG(2).index,o=c.XpG(2);c.R7$(4),c.Y8G("ngIf",o.getAbilityImagePath(null==(t=o.formGroup.get("abominationSwallowedPet"+(n+1)+"BelugaSwallowedPet"))?null:t.value)),c.R7$(2),c.JRh((null==(i=o.formGroup.get("abominationSwallowedPet"+(n+1)+"BelugaSwallowedPet"))?null:i.value)||"None")}}function hH(r,e){if(1&r&&c.nrm(0,"img",28),2&r){let t;const i=c.XpG(3).index,n=c.XpG(2);c.Y8G("ngSrc",n.getAbilityImagePath(null==(t=n.formGroup.get("abominationSwallowedPet"+(i+1)+"SarcasticFringeheadSwallowedPet"))?null:t.value))}}function pH(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",23)(1,"label",21),c.EFF(2,"Swallowed by Fringehead"),c.k0s(),c.j41(3,"button",24),c.bIt("click",function(){A.eBV(t);const n=c.XpG(2).index,o=c.XpG(2);return A.Njj(o.openSelectionDialog("swallowed-pet",n+1,"abomination-sarcastic"))}),c.DNE(4,hH,1,1,"img",27),c.j41(5,"span",10),c.EFF(6),c.k0s(),c.nrm(7,"i",11),c.k0s()()}if(2&r){let t,i;const n=c.XpG(2).index,o=c.XpG(2);c.R7$(4),c.Y8G("ngIf",o.getAbilityImagePath(null==(t=o.formGroup.get("abominationSwallowedPet"+(n+1)+"SarcasticFringeheadSwallowedPet"))?null:t.value)),c.R7$(2),c.JRh((null==(i=o.formGroup.get("abominationSwallowedPet"+(n+1)+"SarcasticFringeheadSwallowedPet"))?null:i.value)||"None")}}function gH(r,e){if(1&r&&c.nrm(0,"img",32),2&r){let t;const i=c.XpG(3).index,n=c.XpG(2);c.Y8G("ngSrc",n.getAbilityImagePath(null==(t=n.formGroup.get("abominationSwallowedPet"+(i+1)+"ParrotCopyPet"))?null:t.value))}}function mH(r,e){if(1&r&&c.nrm(0,"img",35),2&r){let t;const i=c.XpG(4).index,n=c.XpG(2);c.Y8G("ngSrc",n.getAbilityImagePath(null==(t=n.formGroup.get("abominationSwallowedPet"+(i+1)+"ParrotCopyPetBelugaSwallowedPet"))?null:t.value))}}function fH(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",33)(1,"label",21),c.EFF(2,"Then Beluga Swallow"),c.k0s(),c.j41(3,"button",24),c.bIt("click",function(){A.eBV(t);const n=c.XpG(3).index,o=c.XpG(2);return A.Njj(o.openSelectionDialog("swallowed-pet",n+1,"abomination-parrot-beluga"))}),c.DNE(4,mH,1,1,"img",34),c.j41(5,"span",10),c.EFF(6),c.k0s(),c.nrm(7,"i",11),c.k0s()()}if(2&r){let t,i;const n=c.XpG(3).index,o=c.XpG(2);c.R7$(4),c.Y8G("ngIf",o.getAbilityImagePath(null==(t=o.formGroup.get("abominationSwallowedPet"+(n+1)+"ParrotCopyPetBelugaSwallowedPet"))?null:t.value)),c.R7$(2),c.JRh((null==(i=o.formGroup.get("abominationSwallowedPet"+(n+1)+"ParrotCopyPetBelugaSwallowedPet"))?null:i.value)||"None")}}function yH(r,e){if(1&r&&(c.j41(0,"span",13),c.nrm(1,"img",38),c.j41(2,"span",15),c.EFF(3),c.k0s()()),2&r){const t=e.ngIf,i=c.XpG().index,n=c.XpG(4).index,o=c.XpG(2);c.R7$(),c.Y8G("ngSrc",t),c.R7$(2),c.JRh(o.getNestedAbominationAbilityLevel(n,i))}}function bH(r,e){if(1&r&&(c.j41(0,"div",39)(1,"label",40),c.EFF(2,"Times Hurt"),c.k0s(),c.nrm(3,"input",22),c.k0s()),2&r){const t=c.XpG().index,i=c.XpG(4).index;c.R7$(3),c.Y8G("formControlName","abominationSwallowedPet"+(i+1)+"ParrotCopyPetAbominationSwallowedPet"+(t+1)+"TimesHurt")}}function vH(r,e){if(1&r){const t=c.RV6();c.j41(0,"div")(1,"label",21),c.EFF(2),c.k0s(),c.j41(3,"button",36),c.bIt("click",function(){const n=A.eBV(t).index,o=c.XpG(4).index,a=c.XpG(2);return A.Njj(a.openSelectionDialog("ability",o+1,"abomination-parrot-abomination",n+1))}),c.DNE(4,yH,4,2,"span",9),c.j41(5,"span",10),c.EFF(6),c.k0s(),c.nrm(7,"i",11),c.k0s(),c.DNE(8,bH,4,1,"div",37),c.k0s()}if(2&r){let t,i;const n=e.index,o=c.XpG(4).index,a=c.XpG(2);c.R7$(2),c.JRh(a.getNestedAbominationAbilityTitle(o,n)),c.R7$(2),c.Y8G("ngIf",a.getAbilityImagePath(null==(t=a.formGroup.get("abominationSwallowedPet"+(o+1)+"ParrotCopyPetAbominationSwallowedPet"+(n+1)))?null:t.value)),c.R7$(2),c.JRh((null==(i=a.formGroup.get("abominationSwallowedPet"+(o+1)+"ParrotCopyPetAbominationSwallowedPet"+(n+1)))?null:i.value)||"None"),c.R7$(2),c.Y8G("ngIf",a.shouldShowAbominationParrotCopyAbominationTimesHurt(o+1,n+1))}}function AH(r,e){if(1&r&&(c.j41(0,"div",33),c.DNE(1,vH,9,4,"div",4),c.k0s()),2&r){const t=c.XpG(5);c.R7$(),c.Y8G("ngForOf",c.lJ4(2,mR).constructor(3))("ngForTrackBy",t.trackByIndex)}}function _H(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",29)(1,"label",21),c.EFF(2,"Parrot Copy"),c.k0s(),c.j41(3,"button",24),c.bIt("click",function(){A.eBV(t);const n=c.XpG(2).index,o=c.XpG(2);return A.Njj(o.openSelectionDialog("ability",n+1,"abomination-parrot"))}),c.DNE(4,gH,1,1,"img",30),c.j41(5,"span",10),c.EFF(6),c.k0s(),c.nrm(7,"i",11),c.k0s(),c.DNE(8,fH,8,2,"div",31)(9,AH,2,3,"div",31),c.k0s()}if(2&r){let t,i,n,o;const a=c.XpG(2).index,l=c.XpG(2);c.R7$(4),c.Y8G("ngIf",l.getAbilityImagePath(null==(t=l.formGroup.get("abominationSwallowedPet"+(a+1)+"ParrotCopyPet"))?null:t.value)),c.R7$(2),c.JRh((null==(i=l.formGroup.get("abominationSwallowedPet"+(a+1)+"ParrotCopyPet"))?null:i.value)||"None"),c.R7$(2),c.Y8G("ngIf","Beluga Whale"===(null==(n=l.formGroup.get("abominationSwallowedPet"+(a+1)+"ParrotCopyPet"))?null:n.value)),c.R7$(),c.Y8G("ngIf","Abomination"===(null==(o=l.formGroup.get("abominationSwallowedPet"+(a+1)+"ParrotCopyPet"))?null:o.value))}}function SH(r,e){if(1&r&&(c.j41(0,"div",16),c.DNE(1,cH,4,1,"div",17)(2,dH,8,2,"div",18)(3,pH,8,2,"div",18)(4,_H,10,4,"div",19),c.k0s()),2&r){let t,i,n;const o=c.XpG().index,a=c.XpG(2);c.R7$(),c.Y8G("ngIf",a.shouldShowAbominationSwallowTimesHurt(o)),c.R7$(),c.Y8G("ngIf","Beluga Whale"===(null==(t=a.formGroup.get("abominationSwallowedPet"+(o+1)))?null:t.value)),c.R7$(),c.Y8G("ngIf","Sarcastic Fringehead"===(null==(i=a.formGroup.get("abominationSwallowedPet"+(o+1)))?null:i.value)),c.R7$(),c.Y8G("ngIf","Parrot"===(null==(n=a.formGroup.get("abominationSwallowedPet"+(o+1)))?null:n.value))}}function PH(r,e){if(1&r){const t=c.RV6();c.j41(0,"div")(1,"div",5)(2,"label",6),c.EFF(3),c.k0s(),c.j41(4,"div",7)(5,"button",8),c.bIt("click",function(){const n=A.eBV(t).index,o=c.XpG(2);return A.Njj(o.openSelectionDialog("ability",n+1,"abomination"))}),c.DNE(6,lH,4,2,"span",9),c.j41(7,"span",10),c.EFF(8),c.k0s(),c.nrm(9,"i",11),c.k0s()(),c.DNE(10,SH,5,4,"div",12),c.k0s()()}if(2&r){let t,i,n;const o=e.index,a=c.XpG(2);c.R7$(3),c.JRh(a.getAbilityTitle(o)),c.R7$(3),c.Y8G("ngIf",a.getAbilityImagePath(null==(t=a.formGroup.get("abominationSwallowedPet"+(o+1)))?null:t.value)),c.R7$(2),c.JRh((null==(i=a.formGroup.get("abominationSwallowedPet"+(o+1)))?null:i.value)||"None"),c.R7$(2),c.Y8G("ngIf",(null==(n=a.formGroup.get("abominationSwallowedPet"+(o+1)))?null:n.value)&&!0)}}function kH(r,e){if(1&r&&(c.j41(0,"div",2),c.DNE(1,PH,11,4,"div",4),c.k0s()),2&r){const t=c.XpG();c.R7$(),c.Y8G("ngForOf",c.lJ4(2,mR).constructor(t.pet.level))("ngForTrackBy",t.trackByIndex)}}function wH(r,e){if(1&r&&c.nrm(0,"img",43),2&r){let t;const i=c.XpG(2);c.Y8G("ngSrc",i.getAbilityImagePath(null==(t=i.formGroup.get("belugaSwallowedPet"))?null:t.value))}}function TH(r,e){if(1&r){const t=c.RV6();c.j41(0,"div")(1,"label",6),c.EFF(2,"Swallowed by Beluga"),c.k0s(),c.j41(3,"button",41),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.openSelectionDialog("swallowed-pet",void 0,"pet"))}),c.DNE(4,wH,1,1,"img",42),c.j41(5,"span",10),c.EFF(6),c.k0s(),c.nrm(7,"i",11),c.k0s()()}if(2&r){let t,i;const n=c.XpG();c.R7$(4),c.Y8G("ngIf",n.getAbilityImagePath(null==(t=n.formGroup.get("belugaSwallowedPet"))?null:t.value)),c.R7$(2),c.JRh((null==(i=n.formGroup.get("belugaSwallowedPet"))?null:i.value)||"Select Pet")}}function EH(r,e){if(1&r&&c.nrm(0,"img",46),2&r){let t;const i=c.XpG(2);c.Y8G("ngSrc",i.getAbilityImagePath(null==(t=i.formGroup.get("parrotCopyPet"))?null:t.value))}}function CH(r,e){if(1&r&&c.nrm(0,"img",49),2&r){let t;const i=c.XpG(3);c.Y8G("ngSrc",i.getAbilityImagePath(null==(t=i.formGroup.get("parrotCopyPetBelugaSwallowedPet"))?null:t.value))}}function xH(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",47)(1,"label",6),c.EFF(2,"Then Beluga Swallow"),c.k0s(),c.j41(3,"button",41),c.bIt("click",function(){A.eBV(t);const n=c.XpG(2);return A.Njj(n.openSelectionDialog("swallowed-pet",void 0,"parrot-beluga"))}),c.DNE(4,CH,1,1,"img",48),c.j41(5,"span",10),c.EFF(6),c.k0s(),c.nrm(7,"i",11),c.k0s()()}if(2&r){let t,i;const n=c.XpG(2);c.R7$(4),c.Y8G("ngIf",n.getAbilityImagePath(null==(t=n.formGroup.get("parrotCopyPetBelugaSwallowedPet"))?null:t.value)),c.R7$(2),c.JRh((null==(i=n.formGroup.get("parrotCopyPetBelugaSwallowedPet"))?null:i.value)||"Select Pet")}}function DH(r,e){if(1&r&&(c.j41(0,"span",13),c.nrm(1,"img",52),c.j41(2,"span",15),c.EFF(3),c.k0s()()),2&r){const t=e.ngIf,i=c.XpG().index,n=c.XpG(3);c.R7$(),c.Y8G("ngSrc",t),c.R7$(2),c.JRh(n.getParrotAbominationAbilityLevel(i))}}function IH(r,e){if(1&r&&(c.j41(0,"div",53)(1,"label",21),c.EFF(2,"Times Hurt"),c.k0s(),c.nrm(3,"input",22),c.k0s()),2&r){const t=c.XpG().index;c.R7$(3),c.Y8G("formControlName","parrotCopyPetAbominationSwallowedPet"+(t+1)+"TimesHurt")}}function MH(r,e){if(1&r){const t=c.RV6();c.j41(0,"div")(1,"label",6),c.EFF(2),c.k0s(),c.j41(3,"button",50),c.bIt("click",function(){const n=A.eBV(t).index,o=c.XpG(3);return A.Njj(o.openSelectionDialog("ability",n+1,"parrot-abomination"))}),c.DNE(4,DH,4,2,"span",9),c.j41(5,"span",10),c.EFF(6),c.k0s(),c.nrm(7,"i",11),c.k0s(),c.DNE(8,IH,4,1,"div",51),c.k0s()}if(2&r){let t,i;const n=e.index,o=c.XpG(3);c.R7$(2),c.JRh(o.getParrotAbominationAbilityTitle(n)),c.R7$(2),c.Y8G("ngIf",o.getAbilityImagePath(null==(t=o.formGroup.get("parrotCopyPetAbominationSwallowedPet"+(n+1)))?null:t.value)),c.R7$(2),c.JRh((null==(i=o.formGroup.get("parrotCopyPetAbominationSwallowedPet"+(n+1)))?null:i.value)||"None"),c.R7$(2),c.Y8G("ngIf",o.shouldShowParrotCopyPetAbominationTimesHurt(n+1))}}function RH(r,e){if(1&r&&(c.j41(0,"div",47),c.DNE(1,MH,9,4,"div",4),c.k0s()),2&r){const t=c.XpG(2);c.R7$(),c.Y8G("ngForOf",c.lJ4(2,mR).constructor(t.getParrotCopyAbominationSlotCount()))("ngForTrackBy",t.trackByIndex)}}function LH(r,e){if(1&r){const t=c.RV6();c.j41(0,"div")(1,"label",6),c.EFF(2,"Parrot Copy"),c.k0s(),c.j41(3,"button",41),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.openSelectionDialog("ability",void 0,"parrot"))}),c.DNE(4,EH,1,1,"img",44),c.j41(5,"span",10),c.EFF(6),c.k0s(),c.nrm(7,"i",11),c.k0s(),c.DNE(8,xH,8,2,"div",45)(9,RH,2,3,"div",45),c.k0s()}if(2&r){let t,i,n,o;const a=c.XpG();c.R7$(4),c.Y8G("ngIf",a.getAbilityImagePath(null==(t=a.formGroup.get("parrotCopyPet"))?null:t.value)),c.R7$(2),c.JRh((null==(i=a.formGroup.get("parrotCopyPet"))?null:i.value)||"Select Pet"),c.R7$(2),c.Y8G("ngIf","Beluga Whale"===(null==(n=a.formGroup.get("parrotCopyPet"))?null:n.value)),c.R7$(),c.Y8G("ngIf","Abomination"===(null==(o=a.formGroup.get("parrotCopyPet"))?null:o.value))}}function NH(r,e){if(1&r&&c.nrm(0,"img",55),2&r){let t;const i=c.XpG(2);c.Y8G("ngSrc",i.getAbilityImagePath(null==(t=i.formGroup.get("sarcasticFringeheadSwallowedPet"))?null:t.value))}}function FH(r,e){if(1&r){const t=c.RV6();c.j41(0,"div")(1,"label",6),c.EFF(2,"Swallowed by Fringehead"),c.k0s(),c.j41(3,"button",41),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.openSelectionDialog("swallowed-pet",void 0,"pet"))}),c.DNE(4,NH,1,1,"img",54),c.j41(5,"span",10),c.EFF(6),c.k0s(),c.nrm(7,"i",11),c.k0s()()}if(2&r){let t,i;const n=c.XpG();c.R7$(4),c.Y8G("ngIf",n.getAbilityImagePath(null==(t=n.formGroup.get("sarcasticFringeheadSwallowedPet"))?null:t.value)),c.R7$(2),c.JRh((null==(i=n.formGroup.get("sarcasticFringeheadSwallowedPet"))?null:i.value)||"Select Pet")}}const OH=new Map(No().map(r=>[r.toLowerCase(),r])),BH=new Map(wa().map(r=>[r.toLowerCase(),r])),$H=new Map(Au().map(r=>[r.toLowerCase(),r])),GH=new Set(Object.values(qo).flat().map(r=>`${r}`.toLowerCase()));let HH=(()=>{class r{formGroup;pet=null;openSelection=new A.bkB;getPetImagePath(t){return rn(t)}getAbilityImagePath(t){if(!t)return null;const i=t.trim().toLowerCase(),n=OH.get(i);if(n)return rn(n);const o=BH.get(i);if(o)return xs(o);const a=$H.get(i);return a?cr(a,GH.has(i)):null}trackByIndex(t){return t}getParrotCopyAbominationSlotCount(){return 3}getAbominationAbilityLevel(t){return this.getLevelValue(`abominationSwallowedPet${t+1}Level`)}getNestedAbominationAbilityLevel(t,i){return this.getLevelValue(`abominationSwallowedPet${t+1}ParrotCopyPetAbominationSwallowedPet${i+1}Level`)}getParrotAbominationAbilityLevel(t){return this.getLevelValue(`parrotCopyPetAbominationSwallowedPet${t+1}Level`)}getAbilityTitle(t){const i=t+1;return`Ability ${i} - Level ${this.getLevelValue(`abominationSwallowedPet${i}Level`)}`}getNestedAbominationAbilityTitle(t,i){const o=i+1;return`Nested Slot ${o} - Level ${this.getLevelValue(`abominationSwallowedPet${t+1}ParrotCopyPetAbominationSwallowedPet${o}Level`)}`}getParrotAbominationAbilityTitle(t){const i=t+1;return`Ability ${i} - Level ${this.getLevelValue(`parrotCopyPetAbominationSwallowedPet${i}Level`)}`}supportsTimesHurt(t){return hm(t)}shouldShowParrotCopyPetAbominationParrotAbominationTimesHurt(t,i){const n=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${t}ParrotCopyPetAbominationSwallowedPet${i}`)?.value;return this.supportsTimesHurt(n)}shouldShowParrotCopyPetAbominationTimesHurt(t){const i=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${t}`)?.value;return this.supportsTimesHurt(i)}shouldShowAbominationParrotCopyAbominationTimesHurt(t,i){const n=this.formGroup.get(`abominationSwallowedPet${t}ParrotCopyPetAbominationSwallowedPet${i}`)?.value;return this.supportsTimesHurt(n)}shouldShowAbominationSwallowTimesHurt(t){const i=this.formGroup.get(`abominationSwallowedPet${t+1}`)?.value;return this.supportsTimesHurt(i)}getLevelValue(t){const i=this.formGroup.get(t)?.value,n=Number(i);return!Number.isFinite(n)||n<1||n>3?1:n}openSelectionDialog(t,i,n="pet",o){this.openSelection.emit({type:t,index:i,target:n,parentIndex:o})}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=c.VBU({type:r,selectors:[["app-swallowed-pet-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup",pet:"pet"},outputs:{openSelection:"openSelection"},decls:6,vars:5,consts:[[3,"formGroup"],["class","col-12 mb-2",4,"ngIf"],[1,"col-12","mb-2"],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"swallowed-slot","mb-2"],[1,"swallowed-label"],[1,"d-flex","align-items-center","gap-2"],["type","button",1,"btn","selection-btn","flex-grow-1","d-flex","align-items-center",3,"click"],["class","selection-icon-wrap",4,"ngIf"],[1,"selection-text"],[1,"fas","fa-chevron-down","ms-auto"],["class","swallowed-nested mt-2 ps-3 border-start",4,"ngIf"],[1,"selection-icon-wrap"],["width","24","height","24","loading","lazy","decoding","async","alt","Ability",1,"selection-icon",3,"ngSrc"],[1,"selection-level-badge"],[1,"swallowed-nested","mt-2","ps-3","border-start"],["class","form-group small-w-input mb-2",4,"ngIf"],["class","nested-selection mb-2",4,"ngIf"],["class","nested-selection",4,"ngIf"],[1,"form-group","small-w-input","mb-2"],[1,"swallowed-label-small"],["type","number","min","0","max","99",1,"form-control","form-control-sm",3,"formControlName"],[1,"nested-selection","mb-2"],["type","button",1,"btn","selection-btn","btn-sm","w-100","d-flex","align-items-center",3,"click"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",3,"ngSrc",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",1,"selection-icon",3,"ngSrc"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Fringehead Swallowed Pet",3,"ngSrc",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Fringehead Swallowed Pet",1,"selection-icon",3,"ngSrc"],[1,"nested-selection"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Parrot Copy Pet",3,"ngSrc",4,"ngIf"],["class","mt-2 ps-2 border-start",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Parrot Copy Pet",1,"selection-icon",3,"ngSrc"],[1,"mt-2","ps-2","border-start"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Nested Beluga",3,"ngSrc",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Nested Beluga",1,"selection-icon",3,"ngSrc"],["type","button",1,"btn","selection-btn","btn-sm","w-100","d-flex","align-items-center","mb-1",3,"click"],["class","form-group small-w-input mb-1 ms-2",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Nested Abom Slot",1,"selection-icon",3,"ngSrc"],[1,"form-group","small-w-input","mb-1","ms-2"],[1,"swallowed-label-tiny"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center",3,"click"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Beluga Swallowed",3,"ngSrc",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Beluga Swallowed",1,"selection-icon",3,"ngSrc"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Parrot Copy",3,"ngSrc",4,"ngIf"],["class","mt-2 ps-3 border-start",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Parrot Copy",1,"selection-icon",3,"ngSrc"],[1,"mt-2","ps-3","border-start"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Nested Beluga",3,"ngSrc",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Nested Beluga",1,"selection-icon",3,"ngSrc"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center","mb-2",3,"click"],["class","form-group small-w-input mb-2 ms-3",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Nested Abom Slot",1,"selection-icon",3,"ngSrc"],[1,"form-group","small-w-input","mb-2","ms-3"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Fringehead Swallowed",3,"ngSrc",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Fringehead Swallowed",1,"selection-icon",3,"ngSrc"]],template:function(i,n){1&i&&(c.qex(0,0),c.DNE(1,kH,2,3,"div",1),c.j41(2,"div",2),c.DNE(3,TH,8,2,"div",3)(4,LH,10,4,"div",3)(5,FH,8,2,"div",3),c.k0s(),c.bVm()),2&i&&(c.Y8G("formGroup",n.formGroup),c.R7$(),c.Y8G("ngIf","Abomination"===(null==n.pet?null:n.pet.name)),c.R7$(2),c.Y8G("ngIf","Beluga Whale"===(null==n.pet?null:n.pet.name)),c.R7$(),c.Y8G("ngIf","Parrot"===(null==n.pet?null:n.pet.name)),c.R7$(),c.Y8G("ngIf","Sarcastic Fringehead"===(null==n.pet?null:n.pet.name)))},dependencies:[Ct.MD,Ct.Sq,Ct.bT,Ti,X.X1,X.me,X.Q0,X.BC,X.cb,X.VZ,X.zX,X.j4,X.JD],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return r})();function Js(r,e){return null==r?null:e(r)}function Jw(r,e,t){return null==r||null==e?null:t(r,e)}function Md(r,e){return t=>t.lift(new UH(r,e))}class UH{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new VH(e,this.compare,this.keySelector))}}class VH extends Qi.v{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(n){return this.destination.error(n)}let i=!1;if(this.hasKey)try{const{compare:n}=this;i=n(this.key,t)}catch(n){return this.destination.error(n)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}let WH=(()=>{class r{petService;equipmentService;cdr;pet;player;opponent;index;ailments;allPets;mana;triggersConsumed;formGroup;customPacks;flipImage=!1;allowEquipmentUseOverrides;equipment;ailmentEquipment;equipmentCategoryGroups=[];ailmentCategoryGroups=[];turtlePackPets;pets;startOfBattlePets;attackHealthMax=100;petImageBroken=!1;equipmentImageBroken=!1;compareEquipment=(t,i)=>t?.name===i?.name;basePackSets=new Map;friendsDiedCaps=new Map([["Vulture",1],["Saiga Antelope",1],["Secretary Bird",1],["Mimic",2]]);customPackPetsCache=new Map;cachedPlayerPack=null;cachedOpponentPack=null;cachedPlayerPackSet=null;cachedOpponentPackSet=null;customPackSubscription=null;destroy$=new Ut.B7;showTokenPets=!1;showSelectionDialog=!1;selectionType="pet";swallowedPetIndex;swallowedPetParentIndex;swallowedPetTarget="pet";forceShowAllPets=!1;lockSelectionLevel=!1;lockedSelectionLevel=1;tokenPets=KG;constructor(t,i,n){this.petService=t,this.equipmentService=i,this.cdr=n}optionHidden(t){return!(this.allPets||this.getPlayerPackSet().has(t)||this.player.getPet(this.index)?.name==t)}initPackSets(){for(const t of Wh)this.basePackSets.set(t,this.buildPackSetFromMap(this.petService.basePackPetsByName[t]))}buildPackSetFromMap(t){const i=new Set;for(const n of t.values())for(const o of n)i.add(o);return i}invalidatePackCaches(){this.customPackPetsCache.clear(),this.cachedPlayerPack=null,this.cachedOpponentPack=null,this.cachedPlayerPackSet=null,this.cachedOpponentPackSet=null}getPlayerPackSet(){const t=this.player?.pack||"Turtle";return(this.cachedPlayerPack!==t||!this.cachedPlayerPackSet)&&(this.cachedPlayerPack=t,this.cachedPlayerPackSet=this.getPackSetForName(t)),this.cachedPlayerPackSet}getOpponentPackSet(){const t=this.opponent?.pack||"Turtle";return(this.cachedOpponentPack!==t||!this.cachedOpponentPackSet)&&(this.cachedOpponentPack=t,this.cachedOpponentPackSet=this.getPackSetForName(t)),this.cachedOpponentPackSet}getPackSetForName(t){const i=this.basePackSets.get(t);if(i)return i;const n=this.customPackPetsCache.get(t);if(n)return n;const o=this.buildCustomPackSet(t);return this.customPackPetsCache.set(t,o),o}buildCustomPackSet(t){const i=this.basePackSets.get("Turtle")??new Set,n=this.customPacks;if(!n?.controls?.length)return i;const o=n.controls.find(l=>l.get("name").value===t);if(!o)return i;const a=new Set;for(let l=1;l<=6;l++){const d=o.get(`tier${l}Pets`).value||[];for(const p of d)p&&a.add(p)}return a}fixLoadEquipment(){const t=this.formGroup.get("equipment").value,i=this.normalizeEquipmentValue(t);i!==t&&setTimeout(()=>{this.formGroup.get("equipment").setValue(i,{emitEvent:!1}),this.formGroup.get("equipment").updateValueAndValidity({emitEvent:!1})})}normalizeEquipmentValue(t){return t?"string"==typeof t?t:"object"==typeof t&&null!==t&&"string"==typeof t.name?t.name:null:null}getSelectedEquipmentName(){return this.normalizeEquipmentValue(this.formGroup?.get("equipment")?.value)}getSelectedEquipment(){const t=this.getSelectedEquipmentName();return t?this.equipment.get(t)??this.ailmentEquipment.get(t)??null:null}static \u0275fac=function(i){return new(i||r)(c.rXU(Xn),c.rXU(Pi),c.rXU(te.gRc))};static \u0275dir=c.FsC({type:r,inputs:{pet:"pet",player:"player",opponent:"opponent",index:"index",ailments:"ailments",allPets:"allPets",mana:"mana",triggersConsumed:"triggersConsumed",formGroup:"formGroup",customPacks:"customPacks",flipImage:"flipImage",allowEquipmentUseOverrides:"allowEquipmentUseOverrides",showTokenPets:"showTokenPets"}})}return r})(),KH=(()=>{class r extends WH{substitutePet(t=!1){}setAbominationParrotCopySettings(t){let i=this.player.getPet(this.index);if(null==i)return;const n=[1,2,3];for(const o of n){const a=`abominationSwallowedPet${o}`;if("Parrot"!==this.formGroup.get(a)?.value){this.clearAbominationParrotCopySettings(i,o);continue}const d=this.formGroup.get(`${a}ParrotCopyPet`)?.value??null,p=this.formGroup.get(`${a}ParrotCopyPetBelugaSwallowedPet`)?.value??null;if(this.setPetField(i,`${a}ParrotCopyPet`,d),this.setPetField(i,`${a}ParrotCopyPetBelugaSwallowedPet`,"Beluga Whale"===d?p:null),"Beluga Whale"!==d&&this.formGroup.get(`${a}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),"Abomination"===d)for(let b=1;b<=3;b++){const T=`${a}ParrotCopyPetAbominationSwallowedPet${b}`,F=this.formGroup.get(T)?.value??null,U=this.formGroup.get(`${T}BelugaSwallowedPet`)?.value??null,ee=Number(this.formGroup.get(`${T}Level`)?.value??1);this.setPetField(i,T,F),this.setPetField(i,`${T}BelugaSwallowedPet`,"Beluga Whale"===F?U:null),this.setPetField(i,`${T}Level`,ee||1),this.setPetField(i,`${T}TimesHurt`,this.getAbominationParrotCopyAbominationTimesHurtValue(`${T}TimesHurt`)),"Beluga Whale"!==F&&this.formGroup.get(`${T}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1})}else this.clearAbominationParrotCopyAbominationSettings(i,o)}}shouldShowAbominationParrotCopyAbominationTimesHurt(t,i){const n=this.formGroup.get(`abominationSwallowedPet${t}ParrotCopyPetAbominationSwallowedPet${i}`);return hm(n?.value)}setParrotCopyPetAbominationSwallowedPets(t){let i=this.player.getPet(this.index);if(null==i)return;const n=this.formGroup.get("parrotCopyPetAbominationSwallowedPet1")?.value,o=this.formGroup.get("parrotCopyPetAbominationSwallowedPet2")?.value,a=this.formGroup.get("parrotCopyPetAbominationSwallowedPet3")?.value,l=this.formGroup.get("parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet")?.value??null,d=this.formGroup.get("parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet")?.value??null,p=this.formGroup.get("parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet")?.value??null,b=Number(this.formGroup.get("parrotCopyPetAbominationSwallowedPet1Level")?.value??1),T=Number(this.formGroup.get("parrotCopyPetAbominationSwallowedPet2Level")?.value??1),F=Number(this.formGroup.get("parrotCopyPetAbominationSwallowedPet3Level")?.value??1);i.parrotCopyPetAbominationSwallowedPet1=n??null,i.parrotCopyPetAbominationSwallowedPet2=o??null,i.parrotCopyPetAbominationSwallowedPet3=a??null,i.parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet="Beluga Whale"===n?l:null,i.parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet="Beluga Whale"===o?d:null,i.parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet="Beluga Whale"===a?p:null,"Beluga Whale"!==n&&this.formGroup.get("parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet")?.setValue(null,{emitEvent:!1}),"Beluga Whale"!==o&&this.formGroup.get("parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet")?.setValue(null,{emitEvent:!1}),"Beluga Whale"!==a&&this.formGroup.get("parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet")?.setValue(null,{emitEvent:!1}),i.parrotCopyPetAbominationSwallowedPet1Level=b||1,i.parrotCopyPetAbominationSwallowedPet2Level=T||1,i.parrotCopyPetAbominationSwallowedPet3Level=F||1,i.parrotCopyPetAbominationSwallowedPet1TimesHurt=this.getParrotAbominationTimesHurtValue("parrotCopyPetAbominationSwallowedPet1TimesHurt"),i.parrotCopyPetAbominationSwallowedPet2TimesHurt=this.getParrotAbominationTimesHurtValue("parrotCopyPetAbominationSwallowedPet2TimesHurt"),i.parrotCopyPetAbominationSwallowedPet3TimesHurt=this.getParrotAbominationTimesHurtValue("parrotCopyPetAbominationSwallowedPet3TimesHurt"),this.setParrotCopyPetAbominationParrotSettings(null)}setParrotCopyPetAbominationParrotSettings(t){let i=this.player.getPet(this.index);if(null!=i)for(let n=1;n<=3;n++){const o=`parrotCopyPetAbominationSwallowedPet${n}`;if("Parrot"!==this.formGroup.get(o)?.value){this.clearParrotCopyPetAbominationParrotSettings(i,n);continue}const l=this.formGroup.get(`${o}ParrotCopyPet`)?.value??null,d=this.formGroup.get(`${o}ParrotCopyPetBelugaSwallowedPet`)?.value??null;if(this.setPetField(i,`${o}ParrotCopyPet`,l),this.setPetField(i,`${o}ParrotCopyPetBelugaSwallowedPet`,"Beluga Whale"===l?d:null),"Beluga Whale"!==l&&this.formGroup.get(`${o}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),"Abomination"===l)for(let p=1;p<=3;p++){const b=`${o}ParrotCopyPetAbominationSwallowedPet${p}`,T=this.formGroup.get(b)?.value??null,F=this.formGroup.get(`${b}BelugaSwallowedPet`)?.value??null,U=Number(this.formGroup.get(`${b}Level`)?.value??1);this.setPetField(i,b,T),this.setPetField(i,`${b}BelugaSwallowedPet`,"Beluga Whale"===T?F:null),this.setPetField(i,`${b}Level`,U||1),this.setPetField(i,`${b}TimesHurt`,this.getParrotCopyPetAbominationParrotAbominationTimesHurtValue(`${b}TimesHurt`)),"Beluga Whale"!==T&&this.formGroup.get(`${b}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1})}else this.clearParrotCopyPetAbominationParrotAbominationSettings(i,n)}}shouldShowParrotCopyPetAbominationParrotAbominationTimesHurt(t,i){const n=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${t}ParrotCopyPetAbominationSwallowedPet${i}`);return hm(n?.value)}shouldShowParrotCopyPetAbominationTimesHurt(t){const i=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${t+1}`);return hm(i?.value)}setSarcasticFringeheadSwallowedPet(t){let i=this.player.getPet(this.index);null!=i&&(i.sarcasticFringeheadSwallowedPet=t)}setSwallowedPets(t){const i=this.player.getPet(this.index);if(null==i)return;const n=this.normalizeAbominationSwallowedSlots(i);i.abominationSwallowedPet1=n[0].name,i.abominationSwallowedPet2=n[1].name,i.abominationSwallowedPet3=n[2].name,i.abominationSwallowedPet1BelugaSwallowedPet=n[0].beluga,i.abominationSwallowedPet2BelugaSwallowedPet=n[1].beluga,i.abominationSwallowedPet3BelugaSwallowedPet=n[2].beluga,i.abominationSwallowedPet1SarcasticFringeheadSwallowedPet=n[0].sarcastic,i.abominationSwallowedPet2SarcasticFringeheadSwallowedPet=n[1].sarcastic,i.abominationSwallowedPet3SarcasticFringeheadSwallowedPet=n[2].sarcastic,i.abominationSwallowedPet1Level=n[0].level,i.abominationSwallowedPet2Level=n[1].level,i.abominationSwallowedPet3Level=n[2].level,i.abominationSwallowedPet1TimesHurt=this.getAbominationTimesHurtValue("abominationSwallowedPet1TimesHurt"),i.abominationSwallowedPet2TimesHurt=this.getAbominationTimesHurtValue("abominationSwallowedPet2TimesHurt"),i.abominationSwallowedPet3TimesHurt=this.getAbominationTimesHurtValue("abominationSwallowedPet3TimesHurt"),this.setAbominationParrotCopySettings(null),this.substitutePet(!1)}shouldShowAbominationSwallowTimesHurt(t){const i=this.formGroup.get(`abominationSwallowedPet${t+1}`);return hm(i?.value)}setBattlesFought(t){let i=this.player.getPet(this.index);null!=i&&(i.battlesFought=t)}setTimesHurt(t){let i=this.player.getPet(this.index);null!=i&&(i.timesHurt=t,this.substitutePet(!1))}getAbominationParrotCopyAbominationTimesHurtValue(t){const i=this.formGroup.get(t);if(!i)return 0;const n=Number(i.value);return Number.isNaN(n)?0:Math.max(0,Math.min(99,n))}clearAbominationParrotCopySettings(t,i){const n=`abominationSwallowedPet${i}`;this.setPetField(t,`${n}ParrotCopyPet`,null),this.setPetField(t,`${n}ParrotCopyPetBelugaSwallowedPet`,null),this.formGroup.get(`${n}ParrotCopyPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${n}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.clearAbominationParrotCopyAbominationSettings(t,i)}clearAbominationParrotCopyAbominationSettings(t,i){for(let n=1;n<=3;n++){const o=`abominationSwallowedPet${i}ParrotCopyPetAbominationSwallowedPet${n}`;this.setPetField(t,o,null),this.setPetField(t,`${o}BelugaSwallowedPet`,null),this.setPetField(t,`${o}Level`,1),this.setPetField(t,`${o}TimesHurt`,0),this.formGroup.get(o)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${o}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${o}Level`)?.setValue(1,{emitEvent:!1}),this.formGroup.get(`${o}TimesHurt`)?.setValue(0,{emitEvent:!1})}}getParrotCopyPetAbominationParrotAbominationTimesHurtValue(t){const i=this.formGroup.get(t);if(!i)return 0;const n=Number(i.value);return Number.isNaN(n)?0:Math.max(0,Math.min(99,n))}clearParrotCopyPetAbominationParrotSettings(t,i){const n=`parrotCopyPetAbominationSwallowedPet${i}`;this.setPetField(t,`${n}ParrotCopyPet`,null),this.setPetField(t,`${n}ParrotCopyPetBelugaSwallowedPet`,null),this.formGroup.get(`${n}ParrotCopyPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${n}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.clearParrotCopyPetAbominationParrotAbominationSettings(t,i)}clearParrotCopyPetAbominationParrotAbominationSettings(t,i){for(let n=1;n<=3;n++){const o=`parrotCopyPetAbominationSwallowedPet${i}ParrotCopyPetAbominationSwallowedPet${n}`;this.setPetField(t,o,null),this.setPetField(t,`${o}BelugaSwallowedPet`,null),this.setPetField(t,`${o}Level`,1),this.setPetField(t,`${o}TimesHurt`,0),this.formGroup.get(o)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${o}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${o}Level`)?.setValue(1,{emitEvent:!1}),this.formGroup.get(`${o}TimesHurt`)?.setValue(0,{emitEvent:!1})}}getParrotAbominationTimesHurtValue(t){const i=this.formGroup.get(t);if(!i)return 0;const n=Number(i.value);return Number.isNaN(n)?0:Math.max(0,Math.min(99,n))}clearParrotCopyPetAbominationSettings(t){for(const i of dN){const n=i.endsWith("Level")?1:i.endsWith("TimesHurt")?0:null;this.setPetField(t,i,n),this.formGroup.get(i)?.setValue(n,{emitEvent:!1})}for(let i=1;i<=3;i++)this.clearParrotCopyPetAbominationParrotSettings(t,i)}getAbominationTimesHurtValue(t){const i=this.formGroup.get(t);if(!i)return 0;const n=Number(i.value);return Number.isNaN(n)?0:Math.max(0,Math.min(99,n))}normalizeAbominationSwallowedSlots(t){const i=[{index:1,name:this.formGroup.get("abominationSwallowedPet1")?.value??null,beluga:this.formGroup.get("abominationSwallowedPet1BelugaSwallowedPet")?.value??null,sarcastic:this.formGroup.get("abominationSwallowedPet1SarcasticFringeheadSwallowedPet")?.value??null,level:Number(this.formGroup.get("abominationSwallowedPet1Level")?.value??1)||1},{index:2,name:this.formGroup.get("abominationSwallowedPet2")?.value??null,beluga:this.formGroup.get("abominationSwallowedPet2BelugaSwallowedPet")?.value??null,sarcastic:this.formGroup.get("abominationSwallowedPet2SarcasticFringeheadSwallowedPet")?.value??null,level:Number(this.formGroup.get("abominationSwallowedPet2Level")?.value??1)||1},{index:3,name:this.formGroup.get("abominationSwallowedPet3")?.value??null,beluga:this.formGroup.get("abominationSwallowedPet3BelugaSwallowedPet")?.value??null,sarcastic:this.formGroup.get("abominationSwallowedPet3SarcasticFringeheadSwallowedPet")?.value??null,level:Number(this.formGroup.get("abominationSwallowedPet3Level")?.value??1)||1}];for(const n of i){const o="string"==typeof n.name&&n.name.trim().length>0?n.name:null;n.name=o,o?("Beluga Whale"!==o&&(n.beluga=null,this.formGroup.get(`abominationSwallowedPet${n.index}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1})),"Sarcastic Fringehead"!==o&&(n.sarcastic=null,this.formGroup.get(`abominationSwallowedPet${n.index}SarcasticFringeheadSwallowedPet`)?.setValue(null,{emitEvent:!1})),"Parrot"!==o&&this.clearAbominationParrotCopySettings(t,n.index)):(n.beluga=null,n.sarcastic=null,this.formGroup.get(`abominationSwallowedPet${n.index}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`abominationSwallowedPet${n.index}SarcasticFringeheadSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.clearAbominationParrotCopySettings(t,n.index))}return i}setPetField(t,i,n){t[i]=n}static \u0275fac=(()=>{let t;return function(n){return(t||(t=c.xGo(r)))(n||r)}})();static \u0275dir=c.FsC({type:r,features:[c.Vt3]})}return r})(),zH=(()=>{class r extends KH{setBelugaSwallow(t){let i=this.player.getPet(this.index);null!=i&&(i.belugaSwallowedPet=t)}setParrotCopyPet(t){let i=this.player.getPet(this.index);null!=i&&(i.parrotCopyPet=t,"Beluga Whale"!==t&&(i.parrotCopyPetBelugaSwallowedPet=null,this.formGroup.get("parrotCopyPetBelugaSwallowedPet")?.setValue(null,{emitEvent:!1})),"Abomination"!==t&&this.clearParrotCopyPetAbominationSettings(i))}setParrotCopyPetBelugaSwallowedPet(t){let i=this.player.getPet(this.index);null!=i&&(i.parrotCopyPetBelugaSwallowedPet=t)}getParrotCopyAbominationSlotCount(){const t=Number(this.formGroup.get("exp")?.value??0);return t<2?1:t<5?2:3}getAbominationSwallowedSlotCount(){const t=Number(this.formGroup.get("exp")?.value??0);return t<2?1:t<5?2:3}static \u0275fac=(()=>{let t;return function(n){return(t||(t=c.xGo(r)))(n||r)}})();static \u0275dir=c.FsC({type:r,features:[c.Vt3]})}return r})();const XH=function YH(){const r=[];for(let e=1;e<=3;e++){const t=`abominationSwallowedPet${e}`;r.push(`${t}ParrotCopyPet`,`${t}ParrotCopyPetBelugaSwallowedPet`);for(let i=1;i<=3;i++){const n=`${t}ParrotCopyPetAbominationSwallowedPet${i}`;r.push(n,`${n}BelugaSwallowedPet`,`${n}Level`,`${n}TimesHurt`)}}return r}();let JH=(()=>{class r extends zH{initForm(){this.formGroup.get("name").valueChanges.pipe(An(this.destroy$),Md()).subscribe(n=>{this.petImageBroken=!1,null!=n?this.substitutePet(!0):this.removePet()}),this.subscribeDebouncedStat("attack",0,100),this.subscribeDebouncedStat("health",0,100),this.formGroup.get("exp").valueChanges.pipe(An(this.destroy$),Md()).subscribe(()=>{this.substitutePet(!1)});const i=this.formGroup.get("equipmentUses");this.formGroup.get("equipment").valueChanges.pipe(An(this.destroy$)).subscribe(n=>{this.equipmentImageBroken=!1;const o=this.normalizeEquipmentValue(n);o!==n&&this.formGroup.get("equipment").setValue(o,{emitEvent:!1}),o||i?.setValue(null,{emitEvent:!1}),this.substitutePet(!1)}),this.formGroup.get("equipmentUses")?.valueChanges.pipe(An(this.destroy$),br(0),Md()).subscribe(()=>this.substitutePet(!1)),this.subscribeControl("belugaSwallowedPet",n=>this.setBelugaSwallow(n)),this.subscribeControl("parrotCopyPet",n=>this.setParrotCopyPet(n)),this.subscribeControl("parrotCopyPetBelugaSwallowedPet",n=>this.setParrotCopyPetBelugaSwallowedPet(n)),this.subscribeControls(dN,n=>this.setParrotCopyPetAbominationSwallowedPets(n)),this.subscribeControls(zG,n=>this.setParrotCopyPetAbominationParrotSettings(n)),this.subscribeControl("sarcasticFringeheadSwallowedPet",n=>this.setSarcasticFringeheadSwallowedPet(n)),this.subscribeControls(["abominationSwallowedPet1","abominationSwallowedPet2","abominationSwallowedPet3","abominationSwallowedPet1BelugaSwallowedPet","abominationSwallowedPet2BelugaSwallowedPet","abominationSwallowedPet3BelugaSwallowedPet","abominationSwallowedPet1SarcasticFringeheadSwallowedPet","abominationSwallowedPet2SarcasticFringeheadSwallowedPet","abominationSwallowedPet3SarcasticFringeheadSwallowedPet","abominationSwallowedPet1Level","abominationSwallowedPet2Level","abominationSwallowedPet3Level","abominationSwallowedPet1TimesHurt","abominationSwallowedPet2TimesHurt","abominationSwallowedPet3TimesHurt"],n=>this.setSwallowedPets(n)),this.subscribeControls(XH,n=>this.setAbominationParrotCopySettings(n)),this.subscribeDebouncedStat("mana",0,50),this.subscribeDebouncedStat("triggersConsumed",0,10),this.subscribeDebouncedStat("foodsEaten",0,99),this.formGroup.get("friendsDiedBeforeBattle")?.valueChanges.pipe(An(this.destroy$),br(0),Md()).subscribe(()=>{this.clampFriendsDiedBeforeBattle(),this.substitutePet(!1)}),this.formGroup.get("battlesFought").valueChanges.pipe(An(this.destroy$),br(0),Md()).subscribe(n=>{this.setBattlesFought(n)}),this.formGroup.get("timesHurt").valueChanges.pipe(An(this.destroy$),br(0),Md()).subscribe(n=>{this.setTimesHurt(n)})}subscribeDebouncedStat(t,i,n){this.formGroup.get(t)?.valueChanges.pipe(An(this.destroy$),br(0),Md()).subscribe(()=>{this.clampControl(t,i,n),this.substitutePet(!1)})}subscribeControl(t,i){this.formGroup.get(t)?.valueChanges.pipe(An(this.destroy$)).subscribe(n=>i(n??null))}subscribeControls(t,i){for(const n of t)this.subscribeControl(n,i)}substitutePet(t=!1){setTimeout(()=>{let i=this.formGroup.getRawValue();t&&(this.formGroup.get("attack").setValue(null,{emitEvent:!1}),this.formGroup.get("health").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(null,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(null,{emitEvent:!1}),this.formGroup.get("foodsEaten").setValue(null,{emitEvent:!1}),i=this.formGroup.getRawValue()),this.applyStatCaps(i),i.equipment=this.normalizeEquipmentValue(i.equipment);let n=this.petService.createPet(i,this.player);this.player.setPet(this.index,n,!0),this.pet=n,this.cdr.markForCheck(),t&&(this.formGroup.get("attack").setValue(n.attack,{emitEvent:!1}),this.formGroup.get("health").setValue(n.health,{emitEvent:!1}),this.formGroup.get("mana").setValue(n.mana,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(n.triggersConsumed,{emitEvent:!1}),this.formGroup.get("foodsEaten").setValue(n.foodsEaten??0,{emitEvent:!1}),this.cdr.markForCheck())})}applyStatCaps(t){const i=this.getAttackHealthMax(t);this.attackHealthMax!==i&&(this.attackHealthMax=i,this.cdr.markForCheck());const n=this.clampValue(t.attack,0,i),o=this.clampValue(t.health,0,i),a=this.clampValue(t.mana,0,50),l=this.clampValue(t.triggersConsumed,0,10),d=this.clampValue(t.foodsEaten,0,99);n!==t.attack&&null!=t.attack&&(this.formGroup.get("attack").setValue(n,{emitEvent:!1}),t.attack=n),o!==t.health&&null!=t.health&&(this.formGroup.get("health").setValue(o,{emitEvent:!1}),t.health=o),a!==t.mana&&null!=t.mana&&(this.formGroup.get("mana").setValue(a,{emitEvent:!1}),t.mana=a),l!==t.triggersConsumed&&null!=t.triggersConsumed&&(this.formGroup.get("triggersConsumed").setValue(l,{emitEvent:!1}),t.triggersConsumed=l),d!==t.foodsEaten&&null!=t.foodsEaten&&(this.formGroup.get("foodsEaten").setValue(d,{emitEvent:!1}),t.foodsEaten=d)}getAttackHealthMax(t){return"Abomination"!==t.name||[this.formGroup.get("abominationSwallowedPet1")?.value,this.formGroup.get("abominationSwallowedPet2")?.value,this.formGroup.get("abominationSwallowedPet3")?.value].some(o=>"Behemoth"===o)?100:50}clampControl(t,i,n){const o=this.formGroup.get(t);if(!o)return;const a=o.value,l=this.clampValue(a,i,n);l!==a&&null!=a&&""!==a&&o.setValue(l,{emitEvent:!1})}clampValue(t,i,n){if(null==t||""===t)return t;const o=Number(t);return Number.isNaN(o)?t:Math.min(n,Math.max(i,o))}removePet(){this.player.setPet(this.index,null,!0),this.formGroup.get("name").setValue(null,{emitEvent:!1}),this.formGroup.get("attack").setValue(0,{emitEvent:!1}),this.formGroup.get("health").setValue(0,{emitEvent:!1}),this.formGroup.get("exp").setValue(0,{emitEvent:!1}),this.formGroup.get("equipment").setValue(null,{emitEvent:!1}),this.formGroup.get("equipmentUses").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(0,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(0,{emitEvent:!1}),this.formGroup.get("foodsEaten").setValue(0,{emitEvent:!1})}clampFriendsDiedBeforeBattle(){const t=this.getFriendsDiedMax();this.clampControl("friendsDiedBeforeBattle",0,t)}getFriendsDiedMax(){const t=this.formGroup.get("name").value;return this.friendsDiedCaps.get(t)??5}static \u0275fac=(()=>{let t;return function(n){return(t||(t=c.xGo(r)))(n||r)}})();static \u0275dir=c.FsC({type:r,features:[c.Vt3]})}return r})();const QH=new Map(No().map(r=>[r.toLowerCase(),r])),ZH=new Map(wa().map(r=>[r.toLowerCase(),r])),e7=new Map(Au().map(r=>[r.toLowerCase(),r])),t7=new Set(Object.values(qo).flat().map(r=>`${r}`.toLowerCase()));let i7=(()=>{class r extends JH{get abominationSwallowedPetArt(){if("Abomination"!==this.formGroup?.get("name")?.value)return[];const i=[{name:this.formGroup.get("abominationSwallowedPet1")?.value,belugaSwallowed:this.formGroup.get("abominationSwallowedPet1BelugaSwallowedPet")?.value},{name:this.formGroup.get("abominationSwallowedPet2")?.value,belugaSwallowed:this.formGroup.get("abominationSwallowedPet2BelugaSwallowedPet")?.value},{name:this.formGroup.get("abominationSwallowedPet3")?.value,belugaSwallowed:this.formGroup.get("abominationSwallowedPet3BelugaSwallowedPet")?.value}],n=[];for(const o of i){if(!o.name)continue;const a=this.getSelectionImagePath(o.name);if(!a)continue;const l="Beluga Whale"===o.name&&o.belugaSwallowed?this.getSelectionImagePath(o.belugaSwallowed):null;n.push({image:a,belugaSwallowedImage:l})}return n}trackByIndex(t){return t}ngOnInit(){this.initPackSets()}ngOnChanges(t){(t.formGroup||t.pet||t.index||t.player)&&this.initSelector()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.customPackSubscription&&this.customPackSubscription.unsubscribe()}initSelector(){this.destroy$.next(),this.initPets(),this.initEquipment(),this.initForm(),this.customPackSubscription?.unsubscribe(),this.customPackSubscription=this.customPacks?.valueChanges?.subscribe(()=>{this.invalidatePackCaches()})??null,this.fixLoadEquipment()}openSelectionDialog(t,i,n="pet",o){this.selectionType=t,this.swallowedPetIndex=i,this.swallowedPetTarget=n,this.swallowedPetParentIndex=o;const a=this.isParrotCopyTarget(n);this.forceShowAllPets=("swallowed-pet"===t||"ability"===t)&&a,this.lockSelectionLevel="ability"===t&&a,this.lockedSelectionLevel=this.lockSelectionLevel?this.getCurrentPetLevel():1,this.showSelectionDialog=!0}onItemSelected(t){if(t instanceof Event)this.closeSelectionDialog();else{if("pet"===this.selectionType)this.formGroup.get("name").setValue(t);else if("equipment"===this.selectionType){const i="string"==typeof t?t:t&&"object"==typeof t&&"string"==typeof t.name?t.name:null;this.formGroup.get("equipment").setValue(i)}else if("swallowed-pet"===this.selectionType||"ability"===this.selectionType){const i="object"==typeof t&&null!==t&&"name"in t&&"level"in t,n=i?t.name:t,o=i?t.level:void 0,a=function jH({target:r,swallowedPetIndex:e,swallowedPetParentIndex:t,petName:i}){switch(r){case"abomination-beluga":return Js(e,n=>`abominationSwallowedPet${n}BelugaSwallowedPet`);case"abomination-sarcastic":return Js(e,n=>`abominationSwallowedPet${n}SarcasticFringeheadSwallowedPet`);case"parrot":return"parrotCopyPet";case"parrot-beluga":return"parrotCopyPetBelugaSwallowedPet";case"parrot-abomination":return Js(e,n=>`parrotCopyPetAbominationSwallowedPet${n}`);case"parrot-abomination-beluga":return Js(e,n=>`parrotCopyPetAbominationSwallowedPet${n}BelugaSwallowedPet`);case"abomination-parrot":return Js(e,n=>`abominationSwallowedPet${n}ParrotCopyPet`);case"abomination-parrot-beluga":return Js(e,n=>`abominationSwallowedPet${n}ParrotCopyPetBelugaSwallowedPet`);case"abomination-parrot-abomination":return Jw(t,e,(n,o)=>`abominationSwallowedPet${n}ParrotCopyPetAbominationSwallowedPet${o}`);case"abomination-parrot-abomination-beluga":return Jw(t,e,(n,o)=>`abominationSwallowedPet${n}ParrotCopyPetAbominationSwallowedPet${o}BelugaSwallowedPet`);case"parrot-abomination-parrot":return Js(e,n=>`parrotCopyPetAbominationSwallowedPet${n}ParrotCopyPet`);case"parrot-abomination-parrot-beluga":return Js(e,n=>`parrotCopyPetAbominationSwallowedPet${n}ParrotCopyPetBelugaSwallowedPet`);case"parrot-abomination-parrot-abomination":return Jw(t,e,(n,o)=>`parrotCopyPetAbominationSwallowedPet${n}ParrotCopyPetAbominationSwallowedPet${o}`);case"parrot-abomination-parrot-abomination-beluga":return Jw(t,e,(n,o)=>`parrotCopyPetAbominationSwallowedPet${n}ParrotCopyPetAbominationSwallowedPet${o}BelugaSwallowedPet`);default:return function qH(r,e,t){return"Beluga Whale"===t?"belugaSwallowedPet":"abomination"===r||"Abomination"===t?Js(e,i=>`abominationSwallowedPet${i}`):"Sarcastic Fringehead"===t?"sarcasticFringeheadSwallowedPet":null}(r,e,i)}}({target:this.swallowedPetTarget,swallowedPetIndex:this.swallowedPetIndex,swallowedPetParentIndex:this.swallowedPetParentIndex,petName:this.pet?.name});if(!a)return void this.closeSelectionDialog();if(this.formGroup.get(a)?.setValue(n),void 0!==o){const d=this.formGroup.get(`${a}Level`);d&&d.setValue(o)}}this.closeSelectionDialog()}}closeSelectionDialog(){this.showSelectionDialog=!1,this.forceShowAllPets=!1,this.lockSelectionLevel=!1,this.lockedSelectionLevel=1}setExp(t){this.formGroup.get("exp").setValue(t)}getIsSelected(t){return this.formGroup.get("exp").value>=t}showRemoveExp(){return this.formGroup.get("exp").value>0}get petImageSrc(){const t=this.formGroup?.get("name")?.value;if(!t)return null;const i=Df(t);return i?`assets/art/Public/Public/Pets/${i}.png`:null}get swallowedPetImageSrc(){const t=this.formGroup?.get("name")?.value;if("Beluga Whale"===t)return this.getSelectionImagePath(this.formGroup.get("belugaSwallowedPet")?.value);if("Sarcastic Fringehead"===t)return this.getSelectionImagePath(this.formGroup.get("sarcasticFringeheadSwallowedPet")?.value);if("Parrot"===t){const i=this.formGroup.get("parrotCopyPetBelugaSwallowedPet")?.value;return this.getSelectionImagePath(i||this.formGroup.get("parrotCopyPet")?.value)}return null}get equipmentImageSrc(){const t=this.getSelectedEquipmentName();return!t||this.ailmentEquipment?.has(t)?null:cr(t,!1)}get ailmentImageSrc(){const t=this.getSelectedEquipmentName();return t&&this.ailmentEquipment?.has(t)?cr(t,!0):null}get equipmentSelected(){return!!this.getSelectedEquipmentName()}get equipmentHasUses(){return null!=this.getSelectedEquipment()?.uses}get equipmentUsesToggleId(){return`equipmentUsesToggle-${this.index??"none"}`}get equipmentUsesInputId(){return`equipmentUsesInput-${this.index??"none"}`}get equipmentUsesAvailable(){return this.equipmentSelected&&this.equipmentHasUses}getPetOptionStyle(t){const i=rn(t);return this.buildOptionStyle(i)}getEquipmentOptionStyle(t,i=!1){const n=cr(t?.name,i);return this.buildOptionStyle(n)}shouldShowFriendsDiedInput(){return this.friendsDiedCaps.has(this.formGroup.get("name").value)}getPetImagePath(t){if(!t)return null;const i=Df(t);return i?`assets/art/Public/Public/Pets/${i}.png`:null}getSelectionImagePath(t){if(!t)return null;const i=t.trim().toLowerCase(),n=QH.get(i);if(n)return this.getPetImagePath(n);const o=ZH.get(i);if(o)return xs(o);const a=e7.get(i);return a?cr(a,t7.has(i)):null}isParrotCopyTarget(t){return UG.has(t)}getCurrentPetLevel(){const t=Number(this.formGroup?.get("exp")?.value??0);return Number.isFinite(t)?t>=5?3:t>=2?2:1:1}initPets(){this.pets=new Map;for(let t=1;t<=6;t++)this.pets.set(t,[]);for(const t of oa){const i=this.petService.basePackPetsByName[t];for(let[n,o]of i)this.pets.get(n).push(...o)}for(let[t,i]of this.pets)this.pets.set(t,[...new Set(i)]);this.initStartOfBattlePets()}initStartOfBattlePets(){this.startOfBattlePets=new Map;for(let t=1;t<=6;t++){let i=[];for(let n of this.pets.get(t))this.petService.startOfBattlePets.includes(n)&&i.push(n);this.startOfBattlePets.set(t,i)}}initEquipment(){this.equipment=this.equipmentService.getInstanceOfAllEquipment(),this.ailmentEquipment=this.equipmentService.getInstanceOfAllAilments(),this.equipmentCategoryGroups=this.buildCategoryGroups($S,this.equipment),this.ailmentCategoryGroups=this.buildCategoryGroups(qo,this.ailmentEquipment)}buildCategoryGroups(t,i){return Object.entries(t).map(([n,o])=>{const a=[];for(const l of o){const d=i.get(l);d&&a.push(d)}return{label:n,items:a}}).filter(n=>n.items.length>0)}buildOptionStyle(t){return t?{"background-image":`url(${t})`,"background-repeat":"no-repeat","background-position":"left center","background-size":"24px 24px","padding-left":"2.5rem"}:{}}static \u0275fac=(()=>{let t;return function(n){return(t||(t=c.xGo(r)))(n||r)}})();static \u0275dir=c.FsC({type:r,features:[c.Vt3,c.OA$]})}return r})(),n7=(()=>{class r extends i7{static \u0275fac=(()=>{let t;return function(n){return(t||(t=c.xGo(r)))(n||r)}})();static \u0275dir=c.FsC({type:r,features:[c.Vt3]})}return r})(),r7=(()=>{class r extends n7{static \u0275fac=(()=>{let t;return function(n){return(t||(t=c.xGo(r)))(n||r)}})();static \u0275dir=c.FsC({type:r,features:[c.Vt3]})}return r})(),a7=(()=>{class r extends r7{static \u0275fac=(()=>{let t;return function(n){return(t||(t=c.xGo(r)))(n||r)}})();static \u0275dir=c.FsC({type:r,features:[c.Vt3]})}return r})();function o7(r,e){if(1&r&&c.nrm(0,"img",13),2&r){const t=c.XpG();c.Y8G("ngSrc",t.petImageSrc)}}function s7(r,e){if(1&r){const t=c.RV6();c.j41(0,"img",21),c.bIt("error",function(){A.eBV(t);const n=c.XpG(3);return A.Njj(n.equipmentImageBroken=!0)}),c.k0s()}if(2&r){const t=c.XpG(3);c.Y8G("ngSrc",t.equipmentImageSrc)("alt",t.formGroup.get("equipment").value||"Equipment")}}function l7(r,e){if(1&r){const t=c.RV6();c.j41(0,"img",21),c.bIt("error",function(){A.eBV(t);const n=c.XpG(3);return A.Njj(n.equipmentImageBroken=!0)}),c.k0s()}if(2&r){const t=c.XpG(3);c.Y8G("ngSrc",t.ailmentImageSrc)("alt",t.formGroup.get("equipment").value||"Ailment")}}function c7(r,e){if(1&r&&(c.j41(0,"div",19),c.DNE(1,s7,1,2,"img",20)(2,l7,1,2,"img",20),c.k0s()),2&r){const t=c.XpG(2);c.R7$(),c.Y8G("ngIf",t.equipmentImageSrc),c.R7$(),c.Y8G("ngIf",!t.equipmentImageSrc&&t.ailmentImageSrc)}}function u7(r,e){if(1&r&&(c.j41(0,"div",22),c.nrm(1,"img",23),c.k0s()),2&r){const t=c.XpG(2);c.R7$(),c.Y8G("ngSrc",t.swallowedPetImageSrc)}}function d7(r,e){if(1&r&&c.nrm(0,"img",28),2&r){const t=c.XpG().$implicit;c.Y8G("ngSrc",t.belugaSwallowedImage)}}function h7(r,e){if(1&r&&(c.j41(0,"div",26),c.nrm(1,"img",23),c.DNE(2,d7,1,1,"img",27),c.k0s()),2&r){const t=e.$implicit;c.R7$(),c.Y8G("ngSrc",t.image),c.R7$(),c.Y8G("ngIf",t.belugaSwallowedImage)}}function p7(r,e){if(1&r&&(c.j41(0,"div",24),c.DNE(1,h7,3,2,"div",25),c.k0s()),2&r){const t=c.XpG(2);c.R7$(),c.Y8G("ngForOf",t.abominationSwallowedPetArt)("ngForTrackBy",t.trackByIndex)}}function g7(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",14)(1,"img",15),c.bIt("error",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.petImageBroken=!0)}),c.k0s(),c.DNE(2,c7,3,2,"div",16)(3,u7,2,1,"div",17)(4,p7,2,2,"div",18),c.k0s()}if(2&r){const t=c.XpG();c.AVh("equipment-left",!t.flipImage)("equipment-right",t.flipImage),c.R7$(),c.AVh("flipped",t.flipImage),c.Y8G("ngSrc",t.petImageSrc)("alt",t.formGroup.get("name").value||"Pet"),c.R7$(),c.Y8G("ngIf",(t.equipmentImageSrc||t.ailmentImageSrc)&&!t.equipmentImageBroken),c.R7$(),c.Y8G("ngIf",t.swallowedPetImageSrc),c.R7$(),c.Y8G("ngIf",t.abominationSwallowedPetArt.length)}}function m7(r,e){if(1&r){const t=c.RV6();c.j41(0,"app-item-selection-dialog",29),c.bIt("select",function(n){A.eBV(t);const o=c.XpG();return A.Njj(o.onItemSelected(n))})("close",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.closeSelectionDialog())}),c.k0s()}if(2&r){const t=c.XpG();c.Y8G("type",t.selectionType)("showAllPets",t.allPets||t.forceShowAllPets)("currentPack",null==t.player?null:t.player.pack)("lockAbilityLevel",t.lockSelectionLevel)("initialLevel",t.lockedSelectionLevel)}}let hN=(()=>{class r extends a7{constructor(t,i,n){super(t,i,n)}static \u0275fac=function(i){return new(i||r)(c.rXU(Xn),c.rXU(Pi),c.rXU(te.gRc))};static \u0275cmp=c.VBU({type:r,selectors:[["app-pet-selector"]],features:[c.Vt3],decls:14,vars:19,consts:[[1,"card","p-2"],[1,"row","form-group","g-0",3,"formGroup"],[3,"formGroup"],[1,"col-12","mb-2"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center",3,"click"],["class","btn-icon me-2","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc",4,"ngIf"],[1,"btn-text"],[1,"fas","fa-chevron-down","ms-auto"],[3,"openSelection","formGroup","pet"],[3,"openSelection","formGroup","equipmentImageSrc","ailmentImageSrc","allowEquipmentUseOverrides","equipmentUsesAvailable","equipmentUsesInputId"],["class","col-12 pet-art mb-2",3,"equipment-left","equipment-right",4,"ngIf"],[3,"formGroup","petName","mana","triggersConsumed","attackHealthMax"],[3,"type","showAllPets","currentPack","lockAbilityLevel","initialLevel","select","close",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async",1,"btn-icon","me-2",3,"ngSrc"],[1,"col-12","pet-art","mb-2"],["width","72","height","72","loading","lazy","decoding","async",3,"error","ngSrc","alt"],["class","equipment-art",4,"ngIf"],["class","swallowed-art",4,"ngIf"],["class","swallowed-art swallowed-stack",4,"ngIf"],[1,"equipment-art"],["width","32","height","32","loading","lazy","decoding","async",3,"ngSrc","alt","error",4,"ngIf"],["width","32","height","32","loading","lazy","decoding","async",3,"error","ngSrc","alt"],[1,"swallowed-art"],["width","32","height","32","loading","lazy","decoding","async","alt","Swallowed Pet",3,"ngSrc"],[1,"swallowed-art","swallowed-stack"],["class","swallowed-stack-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"swallowed-stack-item"],["class","swallowed-beluga-nested","width","16","height","16","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",3,"ngSrc",4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",1,"swallowed-beluga-nested",3,"ngSrc"],[3,"select","close","type","showAllPets","currentPack","lockAbilityLevel","initialLevel"]],template:function(i,n){if(1&i&&(c.j41(0,"div",0)(1,"form",1),c.nrm(2,"app-pet-level-selector",2),c.j41(3,"div",3)(4,"button",4),c.bIt("click",function(){return n.openSelectionDialog("pet")}),c.DNE(5,o7,1,1,"img",5),c.j41(6,"span",6),c.EFF(7),c.k0s(),c.nrm(8,"i",7),c.k0s()(),c.j41(9,"app-swallowed-pet-selector",8),c.bIt("openSelection",function(a){return n.openSelectionDialog(a.type,a.index,a.target,a.parentIndex)}),c.k0s(),c.j41(10,"app-pet-equipment-selector",9),c.bIt("openSelection",function(){return n.openSelectionDialog("equipment")}),c.k0s(),c.DNE(11,g7,5,11,"div",10),c.nrm(12,"app-pet-stats-selector",11),c.k0s()(),c.DNE(13,m7,1,5,"app-item-selection-dialog",12)),2&i){let o;c.R7$(),c.Y8G("formGroup",n.formGroup),c.R7$(),c.Y8G("formGroup",n.formGroup),c.R7$(3),c.Y8G("ngIf",n.petImageSrc),c.R7$(2),c.JRh(n.formGroup.get("name").value||"Select Pet"),c.R7$(2),c.Y8G("formGroup",n.formGroup)("pet",n.pet),c.R7$(),c.Y8G("formGroup",n.formGroup)("equipmentImageSrc",n.equipmentImageSrc)("ailmentImageSrc",n.ailmentImageSrc)("allowEquipmentUseOverrides",n.allowEquipmentUseOverrides)("equipmentUsesAvailable",n.equipmentUsesAvailable)("equipmentUsesInputId",n.equipmentUsesInputId),c.R7$(),c.Y8G("ngIf",n.petImageSrc&&!n.petImageBroken),c.R7$(),c.Y8G("formGroup",n.formGroup)("petName",null==(o=n.formGroup.get("name"))?null:o.value)("mana",n.mana)("triggersConsumed",n.triggersConsumed)("attackHealthMax",n.attackHealthMax),c.R7$(),c.Y8G("ngIf",n.showSelectionDialog)}},dependencies:[Ct.MD,Ct.Sq,Ct.bT,Ti,X.X1,X.qT,X.cb,X.j4,X.YN,uN,qG,nH,sH,HH],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"],changeDetection:0})}return r})();var Qw=w(7302),fR=w(8308);function Zw(r){var e=-1,t=null==r?0:r.length;for(this.__data__=new fR.A;++e<t;)this.add(r[e])}Zw.prototype.add=Zw.prototype.push=function y7(r){return this.__data__.set(r,"__lodash_hash_undefined__"),this},Zw.prototype.has=function v7(r){return this.__data__.has(r)};const _7=Zw,P7=function S7(r,e){for(var t=-1,i=null==r?0:r.length;++t<i;)if(e(r[t],t,r))return!0;return!1},w7=function k7(r,e){return r.has(e)},pN=function C7(r,e,t,i,n,o){var a=1&t,l=r.length,d=e.length;if(l!=d&&!(a&&d>l))return!1;var p=o.get(r),b=o.get(e);if(p&&b)return p==e&&b==r;var T=-1,F=!0,U=2&t?new _7:void 0;for(o.set(r,e),o.set(e,r);++T<l;){var ee=r[T],Z=e[T];if(i)var se=a?i(Z,ee,T,e,r,o):i(ee,Z,T,r,e,o);if(void 0!==se){if(se)continue;F=!1;break}if(U){if(!P7(e,function(ve,Te){if(!w7(U,Te)&&(ee===ve||n(ee,ve,t,i,o)))return U.push(Te)})){F=!1;break}}else if(ee!==Z&&!n(ee,Z,t,i,o)){F=!1;break}}return o.delete(r),o.delete(e),F};var eT=w(6944),gN=w(6509),x7=w(1319);const I7=function D7(r){var e=-1,t=Array(r.size);return r.forEach(function(i,n){t[++e]=[n,i]}),t},R7=function M7(r){var e=-1,t=Array(r.size);return r.forEach(function(i){t[++e]=i}),t};var mN=eT.A?eT.A.prototype:void 0,yR=mN?mN.valueOf:void 0;var fN=w(7895),J7=Object.prototype.hasOwnProperty;var yN=w(3080),bN=w(259),e5=w(4608),vN="[object Arguments]",AN="[object Array]",tT="[object Object]",_N=Object.prototype.hasOwnProperty;const r5=function n5(r,e,t,i,n,o){var a=(0,Do.A)(r),l=(0,Do.A)(e),d=a?AN:(0,yN.A)(r),p=l?AN:(0,yN.A)(e),b=(d=d==vN?tT:d)==tT,T=(p=p==vN?tT:p)==tT,F=d==p;if(F&&(0,bN.A)(r)){if(!(0,bN.A)(e))return!1;a=!0,b=!1}if(F&&!b)return o||(o=new Qw.A),a||(0,e5.A)(r)?pN(r,e,t,i,n,o):function K7(r,e,t,i,n,o,a){switch(t){case"[object DataView]":if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(r.byteLength!=e.byteLength||!o(new gN.A(r),new gN.A(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,x7.A)(+r,+e);case"[object Error]":return r.name==e.name&&r.message==e.message;case"[object RegExp]":case"[object String]":return r==e+"";case"[object Map]":var l=I7;case"[object Set]":if(l||(l=R7),r.size!=e.size&&!(1&i))return!1;var p=a.get(r);if(p)return p==e;i|=2,a.set(r,e);var b=pN(l(r),l(e),i,n,o,a);return a.delete(r),b;case"[object Symbol]":if(yR)return yR.call(r)==yR.call(e)}return!1}(r,e,d,t,i,n,o);if(!(1&t)){var U=b&&_N.call(r,"__wrapped__"),ee=T&&_N.call(e,"__wrapped__");if(U||ee){var Z=U?r.value():r,se=ee?e.value():e;return o||(o=new Qw.A),n(Z,se,t,i,o)}}return!!F&&(o||(o=new Qw.A),function Q7(r,e,t,i,n,o){var a=1&t,l=(0,fN.A)(r),d=l.length;if(d!=(0,fN.A)(e).length&&!a)return!1;for(var T=d;T--;){var F=l[T];if(!(a?F in e:J7.call(e,F)))return!1}var U=o.get(r),ee=o.get(e);if(U&&ee)return U==e&&ee==r;var Z=!0;o.set(r,e),o.set(e,r);for(var se=a;++T<d;){var ve=r[F=l[T]],Te=e[F];if(i)var Ke=a?i(Te,ve,F,e,r,o):i(ve,Te,F,r,e,o);if(!(void 0===Ke?ve===Te||n(ve,Te,t,i,o):Ke)){Z=!1;break}se||(se="constructor"==F)}if(Z&&!se){var et=r.constructor,Je=e.constructor;et!=Je&&"constructor"in r&&"constructor"in e&&!("function"==typeof et&&et instanceof et&&"function"==typeof Je&&Je instanceof Je)&&(Z=!1)}return o.delete(r),o.delete(e),Z}(r,e,t,i,n,o))};var bR=w(2661);const PN=function SN(r,e,t,i,n){return r===e||(null==r||null==e||!(0,bR.A)(r)&&!(0,bR.A)(e)?r!=r&&e!=e:r5(r,e,t,i,SN,n))};var c5=w(554);const kN=function u5(r){return r==r&&!(0,c5.A)(r)},wN=function p5(r,e){return function(t){return null!=t&&t[r]===e&&(void 0!==e||r in Object(t))}},m5=function g5(r){var e=function d5(r){for(var e=(0,q_.A)(r),t=e.length;t--;){var i=e[t],n=r[i];e[t]=[i,n,kN(n)]}return e}(r);return 1==e.length&&e[0][2]?wN(e[0][0],e[0][1]):function(t){return t===r||function s5(r,e,t,i){var n=t.length,o=n,a=!i;if(null==r)return!o;for(r=Object(r);n--;){var l=t[n];if(a&&l[2]?l[1]!==r[l[0]]:!(l[0]in r))return!1}for(;++n<o;){var d=(l=t[n])[0],p=r[d],b=l[1];if(a&&l[2]){if(void 0===p&&!(d in r))return!1}else{var T=new Qw.A;if(i)var F=i(p,b,d,r,e,T);if(!(void 0===F?PN(b,p,3,i,T):F))return!1}}return!0}(t,r,e)}};var f5=w(1685);const vR=function b5(r){return"symbol"==typeof r||(0,bR.A)(r)&&"[object Symbol]"==(0,f5.A)(r)};var v5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A5=/^\w*$/;const AR=function _5(r,e){if((0,Do.A)(r))return!1;var t=typeof r;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=r&&!vR(r))||A5.test(r)||!v5.test(r)||null!=e&&r in Object(e)};function _R(r,e){if("function"!=typeof r||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var i=arguments,n=e?e.apply(this,i):i[0],o=t.cache;if(o.has(n))return o.get(n);var a=r.apply(this,i);return t.cache=o.set(n,a)||o,a};return t.cache=new(_R.Cache||fR.A),t}_R.Cache=fR.A;const P5=_R;var E5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,C5=/\\(\\)?/g;const D5=function w5(r){var e=P5(r,function(i){return 500===t.size&&t.clear(),i}),t=e.cache;return e}(function(r){var e=[];return 46===r.charCodeAt(0)&&e.push(""),r.replace(E5,function(t,i,n,o){e.push(n?o.replace(C5,"$1"):i||t)}),e});var TN=eT.A?eT.A.prototype:void 0,EN=TN?TN.toString:void 0;const M5=function CN(r){if("string"==typeof r)return r;if((0,Do.A)(r))return j_(r,CN)+"";if(vR(r))return EN?EN.call(r):"";var e=r+"";return"0"==e&&1/r==-1/0?"-0":e},L5=function R5(r){return null==r?"":M5(r)},SR=function N5(r,e){return(0,Do.A)(r)?r:AR(r,e)?[r]:D5(L5(r))},ZA=function O5(r){if("string"==typeof r||vR(r))return r;var e=r+"";return"0"==e&&1/r==-1/0?"-0":e},PR=function B5(r,e){for(var t=0,i=(e=SR(e,r)).length;null!=r&&t<i;)r=r[ZA(e[t++])];return t&&t==i?r:void 0},j5=function H5(r,e){return null!=r&&e in Object(r)};var q5=w(7061),xN=w(8606),U5=w(5481);const z5=function K5(r,e){return null!=r&&function V5(r,e,t){for(var i=-1,n=(e=SR(e,r)).length,o=!1;++i<n;){var a=ZA(e[i]);if(!(o=null!=r&&t(r,a)))break;r=r[a]}return o||++i!=n?o:!!(n=null==r?0:r.length)&&(0,U5.A)(n)&&(0,xN.A)(a,n)&&((0,Do.A)(r)||(0,q5.A)(r))}(r,e,j5)},Q5=function J5(r,e){return AR(r)&&kN(e)?wN(ZA(r),e):function(t){var i=function $5(r,e,t){var i=null==r?void 0:PR(r,e);return void 0===i?t:i}(t,r);return void 0===i&&i===e?z5(t,r):PN(e,i,3)}},e6=function Z5(r){return r},o6=function a6(r){return AR(r)?function t6(r){return function(e){return e?.[r]}}(ZA(r)):function n6(r){return function(e){return PR(e,r)}}(r)},g6=function p6(r,e){return e.length<2?r:PR(r,function d6(r,e,t){var i=-1,n=r.length;e<0&&(e=-e>n?0:n+e),(t=t>n?n:t)<0&&(t+=n),n=e>t?0:t-e>>>0,e>>>=0;for(var o=Array(n);++i<n;)o[i]=r[i+e];return o}(e,0,-1))};var f6=Object.prototype.hasOwnProperty;const b6=function y6(r,e){var t=-1,i=(e=SR(e,r)).length;if(!i)return!0;for(var n=null==r||"object"!=typeof r&&"function"!=typeof r;++t<i;){var o=e[t];if("string"==typeof o){if("__proto__"===o&&!f6.call(r,"__proto__"))return!1;if("constructor"===o&&t+1<i&&"string"==typeof e[t+1]&&"prototype"===e[t+1]){if(n&&0===t)continue;return!1}}}var a=g6(r,e);return null==a||delete a[ZA(function c6(r){var e=null==r?0:r.length;return e?r[e-1]:void 0}(e))]};var A6=Array.prototype.splice;const k6=function P6(r,e){var t=[];if(!r||!r.length)return t;var i=-1,n=[],o=r.length;for(e=function s6(r){return"function"==typeof r?r:null==r?e6:"object"==typeof r?(0,Do.A)(r)?Q5(r[0],r[1]):m5(r):o6(r)}(e);++i<o;){var a=r[i];e(a,i,r)&&(t.push(a),n.push(i))}return function _6(r,e){for(var t=r?e.length:0,i=t-1;t--;){var n=e[t];if(t==i||n!==o){var o=n;(0,xN.A)(n)?A6.call(r,n,1):b6(r,n)}}}(r,n),t};function w6(r,e){1&r&&(c.j41(0,"div",12),c.EFF(1," That name is not allowed. "),c.k0s())}function T6(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",13),c.nrm(1,"input",14),c.j41(2,"label",15)(3,"img",16),c.bIt("error",function(n){A.eBV(t);const o=c.XpG();return A.Njj(o.handlePetIconError(n))}),c.k0s(),c.EFF(4),c.k0s()()}if(2&r){const t=e.$implicit,i=c.XpG();c.R7$(),c.Y8G("id",t)("formControlName",t),c.R7$(),c.Y8G("for",t),c.R7$(),c.Y8G("src",i.getPetIcon(t),c.B4B)("alt",t+" icon"),c.R7$(),c.SpI(" ",t," ")}}function E6(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",13),c.nrm(1,"input",14),c.j41(2,"label",15)(3,"img",16),c.bIt("error",function(n){A.eBV(t);const o=c.XpG();return A.Njj(o.handlePetIconError(n))}),c.k0s(),c.EFF(4),c.k0s()()}if(2&r){const t=e.$implicit,i=c.XpG();c.R7$(),c.Y8G("id",t)("formControlName",t),c.R7$(),c.Y8G("for",t),c.R7$(),c.Y8G("src",i.getPetIcon(t),c.B4B)("alt",t+" icon"),c.R7$(),c.SpI(" ",t," ")}}function C6(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",13),c.nrm(1,"input",14),c.j41(2,"label",15)(3,"img",16),c.bIt("error",function(n){A.eBV(t);const o=c.XpG();return A.Njj(o.handlePetIconError(n))}),c.k0s(),c.EFF(4),c.k0s()()}if(2&r){const t=e.$implicit,i=c.XpG();c.R7$(),c.Y8G("id",t)("formControlName",t),c.R7$(),c.Y8G("for",t),c.R7$(),c.Y8G("src",i.getPetIcon(t),c.B4B)("alt",t+" icon"),c.R7$(),c.SpI(" ",t," ")}}function x6(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",13),c.nrm(1,"input",14),c.j41(2,"label",15)(3,"img",16),c.bIt("error",function(n){A.eBV(t);const o=c.XpG();return A.Njj(o.handlePetIconError(n))}),c.k0s(),c.EFF(4),c.k0s()()}if(2&r){const t=e.$implicit,i=c.XpG();c.R7$(),c.Y8G("id",t)("formControlName",t),c.R7$(),c.Y8G("for",t),c.R7$(),c.Y8G("src",i.getPetIcon(t),c.B4B)("alt",t+" icon"),c.R7$(),c.SpI(" ",t," ")}}function D6(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",13),c.nrm(1,"input",14),c.j41(2,"label",15)(3,"img",16),c.bIt("error",function(n){A.eBV(t);const o=c.XpG();return A.Njj(o.handlePetIconError(n))}),c.k0s(),c.EFF(4),c.k0s()()}if(2&r){const t=e.$implicit,i=c.XpG();c.R7$(),c.Y8G("id",t)("formControlName",t),c.R7$(),c.Y8G("for",t),c.R7$(),c.Y8G("src",i.getPetIcon(t),c.B4B)("alt",t+" icon"),c.R7$(),c.SpI(" ",t," ")}}function I6(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",13),c.nrm(1,"input",14),c.j41(2,"label",15)(3,"img",16),c.bIt("error",function(n){A.eBV(t);const o=c.XpG();return A.Njj(o.handlePetIconError(n))}),c.k0s(),c.EFF(4),c.k0s()()}if(2&r){const t=e.$implicit,i=c.XpG();c.R7$(),c.Y8G("id",t)("formControlName",t),c.R7$(),c.Y8G("for",t),c.R7$(),c.Y8G("src",i.getPetIcon(t),c.B4B)("alt",t+" icon"),c.R7$(),c.SpI(" ",t," ")}}function M6(r,e){1&r&&(c.j41(0,"div",12),c.EFF(1,"Name is required."),c.k0s())}let R6=(()=>{class r{formGroup;petPackMap;submitEvent=new A.bkB;cancelEvent=new A.bkB;checkboxFormGroup;loaded=!1;fallbackIcon="assets/art/Public/Public/Icons/Level_L1.png";constructor(){}ngOnInit(){this.initCheckboxFormGroup(),this.formGroup.updateValueAndValidity()}initCheckboxFormGroup(){let t=new X.gE({}),i=new X.gE({}),n=new X.gE({}),o=new X.gE({}),a=new X.gE({}),l=new X.gE({});for(let d of this.getPets(1)){let p=new X.MJ(this.formGroup.get("tier1Pets").value.includes(d));p.valueChanges.subscribe(b=>{this.processCheckboxChange(1,d,b)}),t.addControl(d,p)}for(let d of this.getPets(2)){let p=new X.MJ(this.formGroup.get("tier2Pets").value.includes(d));p.valueChanges.subscribe(b=>{this.processCheckboxChange(2,d,b)}),i.addControl(d,p)}for(let d of this.getPets(3)){let p=new X.MJ(this.formGroup.get("tier3Pets").value.includes(d));p.valueChanges.subscribe(b=>{this.processCheckboxChange(3,d,b)}),n.addControl(d,p)}for(let d of this.getPets(4)){let p=new X.MJ(this.formGroup.get("tier4Pets").value.includes(d));p.valueChanges.subscribe(b=>{this.processCheckboxChange(4,d,b)}),o.addControl(d,p)}for(let d of this.getPets(5)){let p=new X.MJ(this.formGroup.get("tier5Pets").value.includes(d));p.valueChanges.subscribe(b=>{this.processCheckboxChange(5,d,b)}),a.addControl(d,p)}for(let d of this.getPets(6)){let p=new X.MJ(this.formGroup.get("tier6Pets").value.includes(d));p.valueChanges.subscribe(b=>{this.processCheckboxChange(6,d,b)}),l.addControl(d,p)}this.checkboxFormGroup=new X.gE({tier1Pets:t,tier2Pets:i,tier3Pets:n,tier4Pets:o,tier5Pets:a,tier6Pets:l})}getCheckboxFormGroup(t){return this.checkboxFormGroup.get(`tier${t}Pets`)}getPets(t){let i=[];for(let[n,o]of this.petPackMap.get(t))i.push(...o);return i=[...new Set(i)],i}getCount(t){return this.formGroup.get(`tier${t}Pets`).value.length}processCheckboxChange(t,i,n){let o=this.formGroup.get(`tier${t}Pets`).value;n?o.push(i):k6(o,a=>a===i),this.formGroup.get(`tier${t}Pets`).updateValueAndValidity()}getPetIcon(t){return rn(t)??this.fallbackIcon}handlePetIconError(t){const i=t.target;i?.dataset?.fallback||(i.dataset.fallback="true",i.src=this.fallbackIcon)}trackByPetName(t,i){return i??String(t)}submit(){this.submitEvent.emit(this.formGroup)}cancel(){confirm("Are you sure you want to cancel?")&&this.cancelEvent.emit(this.formGroup)}submitDisabled(){return this.formGroup.get("name").invalid}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=c.VBU({type:r,selectors:[["app-custom-pack-form"]],inputs:{formGroup:"formGroup",petPackMap:"petPackMap"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:68,vars:40,consts:[[3,"formGroup"],[1,"row","mb-4"],[1,"col-12"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],["class","invalid",4,"ngIf"],[1,"row","mb-4",3,"formGroup"],[1,"row"],[1,"col-12","editor-grid"],["class","form-check",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-danger",3,"click"],[1,"invalid"],[1,"form-check"],["type","checkbox","value","",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label","pet-label",3,"for"],[1,"pet-icon",3,"error","src","alt"]],template:function(i,n){if(1&i&&(c.j41(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),c.EFF(4,"Pack Name"),c.k0s(),c.nrm(5,"input",4),c.DNE(6,w6,2,0,"div",5),c.k0s()(),c.j41(7,"div",6)(8,"div",2)(9,"h3"),c.EFF(10," Tier 1 Pets "),c.j41(11,"span"),c.EFF(12),c.k0s()(),c.j41(13,"div",7)(14,"div",8),c.DNE(15,T6,5,6,"div",9),c.k0s()()()(),c.j41(16,"div",6)(17,"div",2)(18,"h3"),c.EFF(19," Tier 2 Pets "),c.j41(20,"span"),c.EFF(21),c.k0s()(),c.j41(22,"div",7)(23,"div",8),c.DNE(24,E6,5,6,"div",9),c.k0s()()()(),c.j41(25,"div",6)(26,"div",2)(27,"h3"),c.EFF(28," Tier 3 Pets "),c.j41(29,"span"),c.EFF(30),c.k0s()(),c.j41(31,"div",7)(32,"div",8),c.DNE(33,C6,5,6,"div",9),c.k0s()()()(),c.j41(34,"div",6)(35,"div",2)(36,"h3"),c.EFF(37," Tier 4 Pets "),c.j41(38,"span"),c.EFF(39),c.k0s()(),c.j41(40,"div",7)(41,"div",8),c.DNE(42,x6,5,6,"div",9),c.k0s()()()(),c.j41(43,"div",6)(44,"div",2)(45,"h3"),c.EFF(46," Tier 5 Pets "),c.j41(47,"span"),c.EFF(48),c.k0s()(),c.j41(49,"div",7)(50,"div",8),c.DNE(51,D6,5,6,"div",9),c.k0s()()()(),c.j41(52,"div",6)(53,"div",2)(54,"h3"),c.EFF(55," Tier 6 Pets "),c.j41(56,"span"),c.EFF(57),c.k0s()(),c.j41(58,"div",7)(59,"div",8),c.DNE(60,I6,5,6,"div",9),c.k0s()()()(),c.j41(61,"div",7)(62,"div",2)(63,"button",10),c.bIt("click",function(){return n.submit()}),c.EFF(64," Submit Pack "),c.k0s(),c.j41(65,"button",11),c.bIt("click",function(){return n.cancel()}),c.EFF(66,"Cancel"),c.k0s(),c.DNE(67,M6,2,0,"div",5),c.k0s()()()),2&i){let o;c.Y8G("formGroup",n.formGroup),c.R7$(6),c.Y8G("ngIf",null==(o=n.formGroup.get("name").errors)?null:o.forbiddenName),c.R7$(),c.Y8G("formGroup",n.getCheckboxFormGroup(1)),c.R7$(4),c.HbH(10==n.getCount(1)?"valid":"invalid"),c.R7$(),c.SpI("",n.getCount(1),"/10"),c.R7$(3),c.Y8G("ngForOf",n.getPets(1))("ngForTrackBy",n.trackByPetName),c.R7$(),c.Y8G("formGroup",n.getCheckboxFormGroup(2)),c.R7$(4),c.HbH(10==n.getCount(2)?"valid":"invalid"),c.R7$(),c.SpI("",n.getCount(2),"/10"),c.R7$(3),c.Y8G("ngForOf",n.getPets(2))("ngForTrackBy",n.trackByPetName),c.R7$(),c.Y8G("formGroup",n.getCheckboxFormGroup(3)),c.R7$(4),c.HbH(10==n.getCount(3)?"valid":"invalid"),c.R7$(),c.SpI("",n.getCount(3),"/10"),c.R7$(3),c.Y8G("ngForOf",n.getPets(3))("ngForTrackBy",n.trackByPetName),c.R7$(),c.Y8G("formGroup",n.getCheckboxFormGroup(4)),c.R7$(4),c.HbH(10==n.getCount(4)?"valid":"invalid"),c.R7$(),c.SpI("",n.getCount(4),"/10"),c.R7$(3),c.Y8G("ngForOf",n.getPets(4))("ngForTrackBy",n.trackByPetName),c.R7$(),c.Y8G("formGroup",n.getCheckboxFormGroup(5)),c.R7$(4),c.HbH(10==n.getCount(5)?"valid":"invalid"),c.R7$(),c.SpI("",n.getCount(5),"/10"),c.R7$(3),c.Y8G("ngForOf",n.getPets(5))("ngForTrackBy",n.trackByPetName),c.R7$(),c.Y8G("formGroup",n.getCheckboxFormGroup(6)),c.R7$(4),c.HbH(10==n.getCount(6)?"valid":"invalid"),c.R7$(),c.SpI("",n.getCount(6),"/10"),c.R7$(3),c.Y8G("ngForOf",n.getPets(6))("ngForTrackBy",n.trackByPetName),c.R7$(3),c.Y8G("disabled",n.submitDisabled()),c.R7$(4),c.Y8G("ngIf",n.submitDisabled())}},dependencies:[Ct.MD,Ct.Sq,Ct.bT,X.X1,X.qT,X.me,X.Zm,X.BC,X.cb,X.j4,X.JD],styles:[".editor-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));grid-gap:1rem}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:#0ab40a}.form-check[_ngcontent-%COMP%]{min-height:2.5rem}.pet-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.35rem;line-height:1.2;flex-wrap:wrap;white-space:normal}.pet-icon[_ngcontent-%COMP%]{width:26px;height:26px;object-fit:contain}"]})}return r})();var DN=w(4937);function L6(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",2)(1,"div",3)(2,"app-custom-pack-form",4),c.bIt("submitEvent",function(n){A.eBV(t);const o=c.XpG();return A.Njj(o.submitEvent(n))})("cancelEvent",function(n){A.eBV(t);const o=c.XpG();return A.Njj(o.cancelEvent(n))}),c.k0s()()()}if(2&r){const t=c.XpG();c.R7$(2),c.Y8G("formGroup",t.makeFormGroup(t.focusedGroup))("petPackMap",t.petPackMap)}}function N6(r,e){1&r&&(c.j41(0,"span",17),c.EFF(1,"Valid"),c.k0s())}function F6(r,e){1&r&&(c.j41(0,"span",18),c.EFF(1,"Invalid"),c.k0s())}function O6(r,e){if(1&r){const t=c.RV6();c.j41(0,"tr")(1,"td",12),c.EFF(2),c.k0s(),c.j41(3,"td",12),c.DNE(4,N6,2,0,"span",13)(5,F6,2,0,"span",14),c.k0s(),c.j41(6,"td")(7,"button",8),c.bIt("click",function(){const n=A.eBV(t).$implicit,o=c.XpG(2);return A.Njj(o.editPack(n))}),c.EFF(8," Edit "),c.k0s()(),c.j41(9,"td")(10,"button",15),c.bIt("click",function(){const n=A.eBV(t).$implicit,o=c.XpG(2);return A.Njj(o.exportCustomPack(n))}),c.EFF(11," Export "),c.k0s()(),c.j41(12,"td")(13,"button",16),c.bIt("click",function(){const n=A.eBV(t).$implicit,o=c.XpG(2);return A.Njj(o.deletePack(n))}),c.EFF(14," Delete "),c.k0s()()()}if(2&r){const t=e.$implicit;c.R7$(2),c.JRh(t.get("name").value),c.R7$(2),c.Y8G("ngIf",t.valid),c.R7$(),c.Y8G("ngIf",!t.valid)}}function B6(r,e){if(1&r&&(c.j41(0,"div",19),c.EFF(1),c.k0s()),2&r){const t=c.XpG(2);c.Y8G("ngClass","success"===t.statusTone?"text-success":"text-danger"),c.R7$(),c.SpI(" ",t.statusMessage," ")}}function $6(r,e){if(1&r){const t=c.RV6();c.j41(0,"div")(1,"div",5)(2,"div",3)(3,"h3"),c.EFF(4,"Custom Packs"),c.k0s(),c.j41(5,"table"),c.DNE(6,O6,15,3,"tr",6),c.k0s()()(),c.j41(7,"div",7)(8,"div",3)(9,"button",8),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.createNewPack())}),c.EFF(10," Create New Pack "),c.k0s()()(),c.j41(11,"div",5)(12,"div",3)(13,"h3"),c.EFF(14,"Import Custom Pack"),c.k0s(),c.j41(15,"div",9),c.nrm(16,"textarea",10),c.k0s()()(),c.j41(17,"div",2)(18,"div",3)(19,"button",8),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.importCustomPack())}),c.EFF(20," Import "),c.k0s()()(),c.DNE(21,B6,2,2,"div",11),c.k0s()}if(2&r){const t=c.XpG();c.R7$(6),c.Y8G("ngForOf",t.customPacks.controls)("ngForTrackBy",t.trackByPackName),c.R7$(9),c.Y8G("formGroup",t.importFormGroup),c.R7$(6),c.Y8G("ngIf",t.statusMessage)}}let G6=(()=>{class r{petService;localStorageService;formGroup;customPacks;petPackMap;petIdLookup=new Map;petNameToId=new Map;petNameToTier=new Map;focusedGroup=null;importFormGroup=new X.gE({code:new X.MJ(null)});statusMessage="";statusTone="success";statusTimer=null;constructor(t,i){this.petService=t,this.localStorageService=i}ngOnInit(){this.customPacks=this.formGroup.get("customPacks"),this.buildPetPackMap(),this.buildPetNameToTierMap(),this.buildPetIdLookup()}buildPetPackMap(){this.petPackMap=new Map;for(let t=1;t<=6;t++){let i=new Map;for(const n of oa)i.set(n,[]);this.petPackMap.set(t,i)}for(const t of oa){const i=this.petService.basePackPetsByName[t];for(let[n,o]of i)this.petPackMap.get(n).get(t).push(...o)}}createNewPack(){let t=this.createPack();this.focusedGroup=t}createPack(){return new X.gE({name:new X.MJ(null,[X.k0.required,this.forbiddenNameValidator()]),tier1Pets:new X.MJ([],this.controlArrayLengthOf10()),tier2Pets:new X.MJ([],this.controlArrayLengthOf10()),tier3Pets:new X.MJ([],this.controlArrayLengthOf10()),tier4Pets:new X.MJ([],this.controlArrayLengthOf10()),tier5Pets:new X.MJ([],this.controlArrayLengthOf10()),tier6Pets:new X.MJ([],this.controlArrayLengthOf10()),spells:new X.MJ([])})}makeFormGroup(t){return t}controlArrayLengthOf10(){return t=>10!==t.value.length?{length:!0}:null}submitEvent(t){this.customPacks.controls.includes(t)||this.customPacks.push(t),this.petService.buildCustomPackPets(this.customPacks),this.focusedGroup=null,this.localStorageService.setFormStorage(this.formGroup)}cancelEvent(t){this.focusedGroup=null}editPack(t){this.focusedGroup=t}deletePack(t){if(confirm("Are you sure you want to delete this pack?")){let i=this.customPacks.controls.indexOf(t);this.customPacks.removeAt(i),this.focusedGroup=null,this.localStorageService.setFormStorage(this.formGroup)}}trackByPackName(t,i){return i?.get("name")?.value??String(t)}forbiddenNameValidator(){return t=>{let i=["custom"];for(let n of this.customPacks.controls)t!=n.get("name")&&i.push(n.get("name").value?.toLowerCase());return i.includes(t.value?.toLowerCase())?{forbiddenName:!0}:null}}importCustomPack(){let t=this.importFormGroup.get("code").value;this.clearStatus();try{let i=t;const n=t.indexOf("{"),o=t.lastIndexOf("}");-1!==n&&o>n&&(i=t.substring(n,o+1));const a=JSON.parse(i);let l=this.parseMinions(a.Minions,a.MinionMap);const d=Array.isArray(a.Spells)?a.Spells:[];let p={name:a.Title,tier1Pets:l.tierMinions.get(1),tier2Pets:l.tierMinions.get(2),tier3Pets:l.tierMinions.get(3),tier4Pets:l.tierMinions.get(4),tier5Pets:l.tierMinions.get(5),tier6Pets:l.tierMinions.get(6),spells:d};this.createNewPack(),this.focusedGroup.patchValue(p),l.missingMinions.length>0?this.setStatus(`Some minion IDs were not recognized and were skipped: ${l.missingMinions.join(", ")}`,"error"):this.setStatus("Custom pack imported.","success")}catch(i){this.setStatus("Invalid code.","error"),console.error(i)}}buildPetIdLookup(){this.petIdLookup=new Map,this.petNameToId=new Map;const t=Ts??Es;for(let i of t){let n=Number(i.Tier),o=String(i.Id);this.petIdLookup.has(o)||this.petIdLookup.set(o,{name:i.Name,tier:n}),this.petNameToId.has(i.Name)||this.petNameToId.set(i.Name,o)}}exportCustomPack(t){const i=this.buildExportPayload(t),n=JSON.stringify(i);this.importFormGroup.get("code")?.setValue(n),this.copyToClipboard(n)}buildExportPayload(t){const i=d=>{const p=t.get(`tier${d}Pets`);return(Array.isArray(p?.value)?p.value:[]).filter(T=>!!T)},n=[];for(let d=1;d<=6;d++){const p=i(d);for(const b of p){const T=this.petNameToId.get(b);n.push(T??b)}}const o=t.get("spells"),l=(Array.isArray(o?.value)?o.value:Array.isArray(t?.value?.spells)?t.value.spells:[]).filter(d=>!!d);return{Title:t.get("name")?.value||"Custom Pack",Minions:n,...l.length?{Spells:l}:{}}}copyToClipboard(t){this.clearStatus(),navigator?.clipboard?.writeText?navigator.clipboard.writeText(t).then(()=>{this.setStatus("Custom pack copied to clipboard.","success")}).catch(()=>{this.setStatus("Failed to copy custom pack.","error")}):this.setStatus("Clipboard not available.","error")}buildPetNameToTierMap(){this.petNameToTier=new Map;for(let[t,i]of this.petPackMap)for(let n of i.values())for(let o of n)this.petNameToTier.has(o)||this.petNameToTier.set(o,t)}parseMinions(t,i={}){let n=new Map;for(let a=1;a<=6;a++)n.set(a,[]);let o=[];if(!Array.isArray(t))return{tierMinions:n,missingMinions:o};for(let a of t){let l=null,d=null;if("number"==typeof a)d=String(a);else if("string"==typeof a){let b=a.trim();b&&b.match(/^\d+$/)?d=b:l=a}if(d){let b=this.petIdLookup.get(d);b?l=b.name:i&&i[d]&&(l=i[d])}if(!l){o.push(a);continue}let p=this.petNameToTier.get(l);p?n.get(p).push(l):o.push(a)}return{tierMinions:n,missingMinions:o}}clearStatus(){this.statusTimer&&(clearTimeout(this.statusTimer),this.statusTimer=null),this.statusMessage=""}setStatus(t,i){this.statusMessage=t,this.statusTone=i,this.statusTimer&&clearTimeout(this.statusTimer),this.statusTimer=setTimeout(()=>{this.statusMessage="",this.statusTimer=null},4e3)}static \u0275fac=function(i){return new(i||r)(c.rXU(Xn),c.rXU(DN.s))};static \u0275cmp=c.VBU({type:r,selectors:[["app-custom-pack-editor"]],inputs:{formGroup:"formGroup"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[3,"submitEvent","cancelEvent","formGroup","petPackMap"],[1,"row","mb-3"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"form-group",3,"formGroup"],["id","code","rows","3","formControlName","code",1,"form-control"],["class","mt-2",3,"ngClass",4,"ngIf"],[1,"text"],["class","valid",4,"ngIf"],["class","invalid",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"valid"],[1,"invalid"],[1,"mt-2",3,"ngClass"]],template:function(i,n){1&i&&c.DNE(0,L6,3,2,"div",0)(1,$6,22,4,"div",1),2&i&&(c.Y8G("ngIf",null!=n.focusedGroup),c.R7$(),c.Y8G("ngIf",null==n.focusedGroup))},dependencies:[Ct.MD,Ct.YU,Ct.Sq,Ct.bT,X.X1,X.me,X.BC,X.cb,X.j4,X.JD,R6],styles:[".valid[_ngcontent-%COMP%]{color:#4caf50}.invalid[_ngcontent-%COMP%]{color:#f44336}.text[_ngcontent-%COMP%]{font-size:1.5em}td[_ngcontent-%COMP%]{padding:.25em .5em}"]})}return r})();const e_=()=>({standalone:!0});function H6(r,e){if(1&r){const t=c.RV6();c.j41(0,"button",43),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.app.cancelSimulation())}),c.EFF(1," Cancel "),c.k0s()}}function j6(r,e){if(1&r){const t=c.RV6();c.j41(0,"button",17),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.app.undoRandomize())}),c.EFF(1," Undo Randomize "),c.k0s()}}function q6(r,e){if(1&r&&(c.qex(0),c.j41(1,"div",44)(2,"div",45)(3,"span",46)(4,"span",47),c.EFF(5,"Player"),c.k0s(),c.j41(6,"span",48),c.EFF(7),c.k0s()(),c.j41(8,"span",49)(9,"span",50),c.EFF(10,"Draw"),c.k0s(),c.j41(11,"span",48),c.EFF(12),c.k0s()(),c.j41(13,"span",51)(14,"span",52),c.EFF(15,"Opponent"),c.k0s(),c.j41(16,"span",48),c.EFF(17),c.k0s()()(),c.j41(18,"div",53),c.nrm(19,"span",54)(20,"span",55)(21,"span",56),c.k0s()(),c.bVm()),2&r){const t=c.XpG();c.R7$(7),c.Lme("",t.app.playerWinner," - ",t.app.winPercent,"%"),c.R7$(5),c.Lme("",t.app.draw," - ",t.app.drawPercent,"%"),c.R7$(5),c.Lme("",t.app.opponentWinner," - ",t.app.losePercent,"%"),c.R7$(2),c.xc7("width",t.app.winPercent,"%"),c.R7$(),c.xc7("width",t.app.drawPercent,"%"),c.R7$(),c.xc7("width",t.app.losePercent,"%")}}function U6(r,e){1&r&&(c.j41(0,"div",57),c.nrm(1,"span",58),c.k0s())}function V6(r,e){if(1&r&&(c.j41(0,"div",59),c.EFF(1),c.k0s()),2&r){const t=c.XpG();c.Y8G("ngClass","success"===t.app.statusTone?"text-success":"text-danger"),c.R7$(),c.SpI(" ",t.app.statusMessage," ")}}function W6(r,e){if(1&r&&(c.j41(0,"div",60),c.EFF(1),c.k0s()),2&r){const t=c.XpG();c.R7$(),c.SpI(" ",t.app.autoSaveLabel," ")}}function K6(r,e){if(1&r&&(c.j41(0,"div",61)(1,"div",62),c.nrm(2,"div",63),c.k0s(),c.j41(3,"div",64),c.EFF(4),c.k0s()()),2&r){const t=c.XpG();c.R7$(2),c.xc7("width",t.app.simulationProgress+"%"),c.R7$(2),c.SpI(" ",t.app.simulationCancelRequested?"Cancelling...":t.app.simulationProgressLabel," ")}}function z6(r,e){if(1&r&&(c.j41(0,"span",65),c.EFF(1),c.k0s()),2&r){const t=c.XpG();c.R7$(),c.SpI(" ",t.activeAdvancedOverridesCount," active ")}}function Y6(r,e){if(1&r&&(c.j41(0,"div",66),c.EFF(1),c.k0s()),2&r){const t=c.XpG();c.R7$(),c.SpI(" ",t.unifiedAdvancedSummary," ")}}function X6(r,e){if(1&r){const t=c.RV6();c.j41(0,"img",155),c.bIt("error",function(){A.eBV(t);const n=c.XpG(2);return A.Njj(n.app.onPackImageError("player"))}),c.k0s()}if(2&r){const t=c.XpG(2);c.Y8G("ngSrc",t.app.getPackIconPath(t.app.formGroup.get("playerPack").value))}}function J6(r,e){if(1&r){const t=c.RV6();c.j41(0,"img",155),c.bIt("error",function(){A.eBV(t);const n=c.XpG(2);return A.Njj(n.app.onPackImageError("opponent"))}),c.k0s()}if(2&r){const t=c.XpG(2);c.Y8G("ngSrc",t.app.getPackIconPath(t.app.formGroup.get("opponentPack").value))}}function Q6(r,e){if(1&r&&c.nrm(0,"img",158),2&r){const t=e.$implicit,i=c.XpG(3);c.Y8G("ngSrc",t)("alt",i.app.selectedTeamName)}}function Z6(r,e){if(1&r&&(c.j41(0,"div",156),c.DNE(1,Q6,1,2,"img",157),c.k0s()),2&r){const t=c.XpG(2);c.R7$(),c.Y8G("ngForOf",t.app.selectedTeamPreviewIcons)}}function ej(r,e){1&r&&(c.j41(0,"span",159),c.EFF(1,"Saved teams"),c.k0s())}function tj(r,e){1&r&&(c.j41(0,"div",123)(1,"label",160),c.nrm(2,"span",161),c.j41(3,"span",71),c.EFF(4,"Player"),c.k0s(),c.EFF(5," Roll Amount "),c.k0s(),c.nrm(6,"input",162),c.k0s())}function ij(r,e){1&r&&(c.j41(0,"div",123)(1,"label",163),c.nrm(2,"span",161),c.j41(3,"span",76),c.EFF(4,"Opponent"),c.k0s(),c.EFF(5," Roll Amount "),c.k0s(),c.nrm(6,"input",164),c.k0s())}function nj(r,e){if(1&r&&(c.j41(0,"span",165),c.EFF(1),c.k0s()),2&r){const t=c.XpG(2);c.R7$(),c.SpI(" ",t.app.randomDecisions.length," events ")}}function rj(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",166)(1,"button",167),c.bIt("click",function(){A.eBV(t);const n=c.XpG(2);return A.Njj(n.app.captureRandomEvents())}),c.EFF(2," Capture Random Events "),c.k0s(),c.j41(3,"button",168),c.bIt("click",function(){A.eBV(t);const n=c.XpG(2);return A.Njj(n.app.runForcedRandomSimulation())}),c.EFF(4," Run Forced Simulation "),c.k0s(),c.j41(5,"button",169),c.bIt("click",function(){A.eBV(t);const n=c.XpG(2);return A.Njj(n.app.clearRandomOverrides())}),c.EFF(6," Clear "),c.k0s()()}if(2&r){const t=c.XpG(2);c.R7$(),c.Y8G("disabled",t.app.simulationInProgress),c.R7$(2),c.Y8G("disabled",t.app.simulationInProgress||!t.app.randomDecisions.length),c.R7$(2),c.Y8G("disabled",!t.app.randomDecisions.length)}}function aj(r,e){if(1&r&&(c.j41(0,"div",170),c.EFF(1),c.k0s()),2&r){const t=c.XpG(2);c.R7$(),c.SpI(" ",t.app.randomDecisions.length?"Overrides captured. Expand to inspect or force outcomes.":"Capture random events when needed."," ")}}function oj(r,e){1&r&&(c.j41(0,"div",175),c.EFF(1," Capture random events to populate override selectors. "),c.k0s())}function sj(r,e){if(1&r&&(c.j41(0,"div",176),c.EFF(1),c.k0s()),2&r){const t=c.XpG(3);c.R7$(),c.SpI(" ",t.app.randomOverrideError," ")}}function lj(r,e){if(1&r&&c.nrm(0,"img",189),2&r){const t=c.XpG().$implicit;c.Y8G("ngSrc",t.src)("alt",t.alt)}}function cj(r,e){if(1&r&&(c.j41(0,"span",190),c.EFF(1),c.k0s()),2&r){const t=c.XpG().$implicit;c.Y8G("ngClass",t.className),c.R7$(),c.JRh(t.text)}}function uj(r,e){1&r&&c.nrm(0,"br")}function dj(r,e){if(1&r&&(c.qex(0),c.DNE(1,lj,1,2,"img",186)(2,cj,2,2,"span",187)(3,uj,1,0,"br",188),c.bVm()),2&r){const t=e.$implicit;c.R7$(),c.Y8G("ngIf","img"===t.type),c.R7$(),c.Y8G("ngIf","text"===t.type),c.R7$(),c.Y8G("ngIf","br"===t.type)}}function hj(r,e){if(1&r&&c.nrm(0,"img",189),2&r){const t=c.XpG().$implicit;c.Y8G("ngSrc",t.src)("alt",t.alt)}}function pj(r,e){if(1&r&&(c.j41(0,"span",190),c.EFF(1),c.k0s()),2&r){const t=c.XpG().$implicit;c.Y8G("ngClass",t.className),c.R7$(),c.JRh(t.text)}}function gj(r,e){1&r&&c.nrm(0,"br")}function mj(r,e){if(1&r&&(c.qex(0),c.DNE(1,hj,1,2,"img",186)(2,pj,2,2,"span",187)(3,gj,1,0,"br",188),c.bVm()),2&r){const t=e.$implicit;c.R7$(),c.Y8G("ngIf","img"===t.type),c.R7$(),c.Y8G("ngIf","text"===t.type),c.R7$(),c.Y8G("ngIf","br"===t.type)}}function fj(r,e){if(1&r&&(c.j41(0,"option",191),c.EFF(1),c.k0s()),2&r){const t=e.$implicit;c.Y8G("ngValue",t.id),c.R7$(),c.SpI(" ",t.label," ")}}function yj(r,e){if(1&r){const t=c.RV6();c.j41(0,"tr")(1,"td"),c.EFF(2),c.k0s(),c.j41(3,"td")(4,"div",181),c.DNE(5,dj,4,3,"ng-container",180),c.k0s(),c.j41(6,"div",182),c.EFF(7),c.k0s()(),c.j41(8,"td")(9,"div",183),c.DNE(10,mj,4,3,"ng-container",180),c.k0s(),c.j41(11,"select",184),c.bIt("ngModelChange",function(n){const o=A.eBV(t).$implicit,a=c.XpG(4);return A.Njj(a.app.onRandomDecisionChoiceChanged(o,n))}),c.DNE(12,fj,2,2,"option",185),c.k0s()()()}if(2&r){const t=e.$implicit,i=c.XpG(4);c.R7$(2),c.JRh(t.index+1),c.R7$(3),c.Y8G("ngForOf",i.app.getRandomDecisionLabelParts(t))("ngForTrackBy",i.app.trackByIndex),c.R7$(2),c.JRh(t.key),c.R7$(3),c.Y8G("ngForOf",i.app.getRandomDecisionSelectedOptionParts(t))("ngForTrackBy",i.app.trackByIndex),c.R7$(),c.Y8G("ngModel",i.app.getSelectedRandomDecisionOptionId(t))("ngModelOptions",c.lJ4(10,e_)),c.R7$(),c.Y8G("ngForOf",t.options)("ngForTrackBy",i.app.trackByIndex)}}function bj(r,e){if(1&r&&(c.j41(0,"div",177)(1,"table",178)(2,"thead")(3,"tr")(4,"th",179),c.EFF(5,"Step"),c.k0s(),c.j41(6,"th",179),c.EFF(7,"Event"),c.k0s(),c.j41(8,"th",179),c.EFF(9,"Forced Choice"),c.k0s()()(),c.j41(10,"tbody"),c.DNE(11,yj,13,11,"tr",180),c.k0s()()()),2&r){const t=c.XpG(3);c.R7$(11),c.Y8G("ngForOf",t.app.randomDecisions)("ngForTrackBy",t.app.trackByIndex)}}function vj(r,e){if(1&r&&(c.j41(0,"div",171),c.DNE(1,oj,2,0,"div",172)(2,sj,2,1,"div",173)(3,bj,12,2,"div",174),c.k0s()),2&r){const t=c.XpG(2);c.R7$(),c.Y8G("ngIf",!t.app.randomDecisions.length),c.R7$(),c.Y8G("ngIf",t.app.randomOverrideError),c.R7$(),c.Y8G("ngIf",t.app.randomDecisions.length)}}function Aj(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",67)(1,"div",68)(2,"div",69),c.EFF(3,"Pack Selection"),c.k0s(),c.j41(4,"div",70)(5,"label")(6,"span",71),c.EFF(7,"Player"),c.k0s(),c.EFF(8," Pack"),c.k0s(),c.j41(9,"button",72),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.app.openSelectionDialog("pack","player"))}),c.DNE(10,X6,1,1,"img",73),c.j41(11,"span",74),c.EFF(12),c.k0s(),c.nrm(13,"i",75),c.k0s()(),c.j41(14,"div",70)(15,"label")(16,"span",76),c.EFF(17,"Opponent"),c.k0s(),c.EFF(18," Pack"),c.k0s(),c.j41(19,"button",72),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.app.openSelectionDialog("pack","opponent"))}),c.DNE(20,J6,1,1,"img",73),c.j41(21,"span",74),c.EFF(22),c.k0s(),c.nrm(23,"i",75),c.k0s()(),c.j41(24,"div",77),c.nrm(25,"input",78),c.j41(26,"label",79),c.EFF(27,"All Pets"),c.k0s()()(),c.j41(28,"div",80)(29,"div",69),c.EFF(30,"Save / Load Teams"),c.k0s(),c.j41(31,"div",81)(32,"input",82),c.mxI("ngModelChange",function(n){A.eBV(t);const o=c.XpG();return c.DH7(o.app.teamName,n)||(o.app.teamName=n),A.Njj(n)}),c.k0s(),c.j41(33,"div",83)(34,"button",84),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.app.saveTeam(n.saveSide))}),c.EFF(35," Save "),c.k0s(),c.j41(36,"select",85),c.mxI("ngModelChange",function(n){A.eBV(t);const o=c.XpG();return c.DH7(o.saveSide,n)||(o.saveSide=n),A.Njj(n)}),c.j41(37,"option",14),c.EFF(38,"Player"),c.k0s(),c.j41(39,"option",15),c.EFF(40,"Opponent"),c.k0s()()()(),c.j41(41,"div",81)(42,"button",86),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.app.openSelectionDialog("team","none"))}),c.DNE(43,Z6,2,1,"div",87)(44,ej,2,0,"ng-template",null,1,c.C5r),c.j41(46,"span",74),c.EFF(47),c.k0s(),c.nrm(48,"i",75),c.k0s(),c.j41(49,"div",88)(50,"button",84),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.app.loadTeam(n.loadSide))}),c.EFF(51," Load "),c.k0s(),c.j41(52,"select",85),c.mxI("ngModelChange",function(n){A.eBV(t);const o=c.XpG();return c.DH7(o.loadSide,n)||(o.loadSide=n),A.Njj(n)}),c.j41(53,"option",14),c.EFF(54,"Player"),c.k0s(),c.j41(55,"option",15),c.EFF(56,"Opponent"),c.k0s()()()()(),c.j41(57,"div",89)(58,"div",90)(59,"div",91),c.EFF(60,"Scenario Settings"),c.k0s(),c.j41(61,"button",92),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.resetScenarioSettings())}),c.EFF(62," Reset Scenario Settings "),c.k0s()(),c.j41(63,"div",93)(64,"div",94),c.nrm(65,"input",95),c.j41(66,"label",96),c.nrm(67,"span",97),c.EFF(68," Komodo Shuffle "),c.k0s()(),c.j41(69,"div",98),c.nrm(70,"input",99),c.j41(71,"label",100),c.nrm(72,"span",101),c.EFF(73," Change equipment uses "),c.k0s()(),c.j41(74,"div",102),c.nrm(75,"input",103),c.j41(76,"label",104),c.nrm(77,"span",105),c.EFF(78," Mana "),c.k0s()(),c.j41(79,"div",106),c.nrm(80,"input",107),c.j41(81,"label",108),c.EFF(82," Enable logs "),c.k0s()(),c.j41(83,"div",109),c.nrm(84,"input",110),c.j41(85,"label",111),c.nrm(86,"span",112),c.EFF(87," Triggers Consumed "),c.k0s()(),c.j41(88,"div",113)(89,"input",114),c.bIt("change",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.app.refreshDebugLogPresentation())}),c.k0s(),c.j41(90,"label",115),c.EFF(91," Debug Info "),c.k0s()(),c.j41(92,"div",116)(93,"input",117),c.bIt("change",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.app.refreshDebugLogPresentation())}),c.k0s(),c.j41(94,"label",118),c.EFF(95," Positional Args "),c.k0s()()(),c.j41(96,"div",119)(97,"div",120)(98,"label",121),c.EFF(99,"Turn Number"),c.k0s(),c.nrm(100,"input",122),c.k0s(),c.j41(101,"div",123)(102,"label",124),c.EFF(103," Seed "),c.k0s(),c.nrm(104,"input",125),c.k0s(),c.j41(105,"div",123)(106,"label",126),c.nrm(107,"span",127),c.j41(108,"span",71),c.EFF(109,"Player"),c.k0s(),c.EFF(110," Gold Spent "),c.k0s(),c.nrm(111,"input",128),c.k0s(),c.j41(112,"div",123)(113,"label",129),c.nrm(114,"span",127),c.j41(115,"span",76),c.EFF(116,"Opponent"),c.k0s(),c.EFF(117," Gold Spent "),c.k0s(),c.nrm(118,"input",130),c.k0s(),c.DNE(119,tj,7,0,"div",131)(120,ij,7,0,"div",131),c.j41(121,"div",123)(122,"label",132),c.nrm(123,"span",133),c.j41(124,"span",71),c.EFF(125,"Player"),c.k0s(),c.EFF(126," Level 3 Sold "),c.k0s(),c.nrm(127,"input",134),c.k0s(),c.j41(128,"div",123)(129,"label",135),c.nrm(130,"span",133),c.j41(131,"span",76),c.EFF(132,"Opponent"),c.k0s(),c.EFF(133," Level 3 Sold "),c.k0s(),c.nrm(134,"input",136),c.k0s(),c.j41(135,"div",123)(136,"label",137),c.nrm(137,"span",138),c.j41(138,"span",71),c.EFF(139,"Player"),c.k0s(),c.EFF(140," Summoned Amount "),c.k0s(),c.nrm(141,"input",139),c.k0s(),c.j41(142,"div",123)(143,"label",140),c.nrm(144,"span",138),c.j41(145,"span",76),c.EFF(146,"Opponent"),c.k0s(),c.EFF(147," Summoned Amount "),c.k0s(),c.nrm(148,"input",141),c.k0s(),c.j41(149,"div",123)(150,"label",142),c.nrm(151,"span",143),c.j41(152,"span",71),c.EFF(153,"Player"),c.k0s(),c.EFF(154," Transformation Amount "),c.k0s(),c.nrm(155,"input",144),c.k0s(),c.j41(156,"div",123)(157,"label",145),c.nrm(158,"span",143),c.j41(159,"span",76),c.EFF(160,"Opponent"),c.k0s(),c.EFF(161," Transformation Amount "),c.k0s(),c.nrm(162,"input",146),c.k0s()()(),c.j41(163,"div",147)(164,"div",148)(165,"button",149),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.app.toggleRandomOverrides())}),c.j41(166,"span",38),c.EFF(167,"Random Overrides"),c.k0s(),c.DNE(168,nj,2,1,"span",150),c.j41(169,"span",151),c.EFF(170,"\u25be"),c.k0s()(),c.DNE(171,rj,7,3,"div",152),c.k0s(),c.DNE(172,aj,2,1,"div",153)(173,vj,4,3,"div",154),c.k0s()()}if(2&r){const t=c.sdS(45),i=c.XpG();c.R7$(10),c.Y8G("ngIf",i.app.getPackIconPath(i.app.formGroup.get("playerPack").value)&&!i.app.playerPackImageBroken),c.R7$(2),c.JRh(i.app.formGroup.get("playerPack").value||"Select Pack"),c.R7$(8),c.Y8G("ngIf",i.app.getPackIconPath(i.app.formGroup.get("opponentPack").value)&&!i.app.opponentPackImageBroken),c.R7$(2),c.JRh(i.app.formGroup.get("opponentPack").value||"Select Pack"),c.R7$(10),c.R50("ngModel",i.app.teamName),c.Y8G("ngModelOptions",c.lJ4(25,e_)),c.R7$(4),c.R50("ngModel",i.saveSide),c.Y8G("ngClass","player"===i.saveSide?"side-select-player":"side-select-opponent")("ngModelOptions",c.lJ4(26,e_)),c.R7$(7),c.Y8G("ngIf",i.app.selectedTeamPreviewIcons.length)("ngIfElse",t),c.R7$(4),c.JRh(i.app.selectedTeamName),c.R7$(5),c.R50("ngModel",i.loadSide),c.Y8G("ngClass","player"===i.loadSide?"side-select-player":"side-select-opponent")("ngModelOptions",c.lJ4(27,e_)),c.R7$(9),c.Y8G("disabled",!(null!=i.app&&i.app.formGroup)),c.R7$(58),c.Y8G("ngIf",i.app.rollInputVisible),c.R7$(),c.Y8G("ngIf",i.app.rollInputVisible),c.R7$(45),c.BMQ("aria-expanded",i.app.showRandomOverrides),c.R7$(3),c.Y8G("ngIf",i.app.randomDecisions.length),c.R7$(),c.AVh("expanded",i.app.showRandomOverrides),c.R7$(2),c.Y8G("ngIf",i.app.showRandomOverrides),c.R7$(),c.Y8G("ngIf",!i.app.showRandomOverrides),c.R7$(),c.Y8G("ngIf",i.app.showRandomOverrides)}}const _j={komodoShuffle:!1,changeEquipmentUses:!1,mana:!1,logsEnabled:!0,triggersConsumed:!1,showTriggerNamesInLogs:!1,showPositionalArgsInLogs:!0,turn:11,seed:null,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerLevel3Sold:0,opponentLevel3Sold:0,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0},Sj={komodoShuffle:!1,changeEquipmentUses:!1,mana:!1,logsEnabled:!0,triggersConsumed:!1,showTriggerNamesInLogs:!1,showPositionalArgsInLogs:!0,turn:1,seed:null,playerGoldSpent:0,opponentGoldSpent:0,playerRollAmount:0,opponentRollAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0};let Pj=(()=>{class r{app;optimizeSide="player";saveSide="player";loadSide="player";get isUnifiedAdvancedExpanded(){return!!this.app?.formGroup?.get("showAdvanced")?.value}get activeAdvancedSettingsCount(){return this.app?.formGroup?Object.entries(_j).reduce((t,[i,n])=>{const o=this.app.formGroup.get(i)?.value;return t+(o!==n?1:0)},0):0}get activeAdvancedOverridesCount(){return this.activeAdvancedSettingsCount+this.randomOverrideCount}get unifiedAdvancedSummary(){const t=this.activeAdvancedSettingsCount,i=this.randomOverrideCount,n=`Packs: ${this.getControlDisplayValue("playerPack","None")} vs ${this.getControlDisplayValue("opponentPack","None")}.`;return t||i?t&&i?`${n} ${t} advanced setting${1===t?"":"s"} and ${i} random override${1===i?"":"s"} active.`:t?`${n} ${t} advanced setting${1===t?"":"s"} active.`:`${n} ${i} random override${1===i?"":"s"} captured.`:`${n} No scenario tweaks active.`}get randomOverrideCount(){return this.app?.randomDecisions?.length??0}resetScenarioSettings(){this.app?.formGroup&&(this.app.formGroup.patchValue(Sj),this.app.refreshDebugLogPresentation())}getControlDisplayValue(t,i){const n=this.app?.formGroup?.get(t)?.value;return null==n||""===n?i:String(n)}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=c.VBU({type:r,selectors:[["app-shell-controls"]],inputs:{app:"app"},decls:62,vars:24,consts:[["resultsPlaceholder",""],["teamPlaceholder",""],[1,"top-controls","card","mb-3",3,"formGroup"],[1,"top-controls-header"],[1,"top-toolbar-zone","top-toolbar-zone-run"],[1,"zone-label"],[1,"simulate-controls"],[1,"simulate-input-group"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-outline-danger",3,"click",4,"ngIf"],["type","number","formControlName","simulations","min","1","max","10000",1,"form-control","simulate-input"],[1,"optimize-control-group"],[1,"btn","btn-outline-primary",3,"click","disabled"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel","ngClass","ngModelOptions","disabled"],["value","player",1,"player-side-text"],["value","opponent",1,"opponent-side-text"],[1,"randomize-control-group"],[1,"btn","btn-secondary",3,"click"],["class","btn btn-secondary",3,"click",4,"ngIf"],[1,"top-toolbar-zone","top-toolbar-zone-results"],[4,"ngIf","ngIfElse"],[1,"top-toolbar-zone","top-toolbar-zone-actions"],[1,"zone-label","zone-label-right"],[1,"external-buttons"],["type","button","data-bs-toggle","modal","data-bs-target","#info","aria-label","Open guide",1,"btn","btn-secondary",3,"click"],["data-bs-toggle","modal","data-bs-target","#reportABug",1,"btn","btn-secondary",3,"click"],["data-bs-toggle","modal","data-bs-target","#export",1,"btn","btn-secondary",3,"click"],["data-bs-toggle","modal","data-bs-target","#import",1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"external-meta","top-controls-meta-text"],["class","px-3 pb-2",3,"ngClass",4,"ngIf"],["class","px-3 pb-2 text-muted small top-controls-meta-text",4,"ngIf"],["class","simulation-progress px-3 pb-2",4,"ngIf"],[1,"top-controls-body"],[1,"controls-grid"],[1,"controls-section","unified-advanced-section"],[1,"unified-advanced-header"],["type","button","aria-controls","advanced-overrides-panel",1,"btn-link","unified-advanced-toggle-btn",3,"click"],[1,"section-title"],["class","unified-advanced-count",4,"ngIf"],["aria-hidden","true",1,"unified-advanced-chevron"],["class","unified-advanced-summary",4,"ngIf"],["id","advanced-overrides-panel","class","unified-advanced-body",4,"ngIf"],[1,"btn","btn-outline-danger",3,"click"],[1,"results-row"],[1,"stats"],[1,"stat-block","player-stat"],[1,"stat-label","player-side-text"],[1,"stat-value"],[1,"stat-block","draw-stat"],[1,"stat-label"],[1,"stat-block","opponent-stat"],[1,"stat-label","opponent-side-text"],["aria-hidden","true",1,"results-bar","modern-results-bar"],[1,"results-segment","results-segment-player"],[1,"results-segment","results-segment-draw"],[1,"results-segment","results-segment-opponent"],[1,"results-placeholder"],["aria-hidden","true",1,"results-bar","modern-results-bar","placeholder-bar"],[1,"px-3","pb-2",3,"ngClass"],[1,"px-3","pb-2","text-muted","small","top-controls-meta-text"],[1,"simulation-progress","px-3","pb-2"],[1,"progress","flex-1"],["role","progressbar",1,"progress-bar"],[1,"progress-text"],[1,"unified-advanced-count"],[1,"unified-advanced-summary"],["id","advanced-overrides-panel",1,"unified-advanced-body"],[1,"controls-section","nested-section","packs-section"],[1,"section-title","subsection-title"],[1,"form-group","min-w-input"],[1,"player-side-text"],[1,"selection-btn",3,"click"],["class","btn-icon","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc","error",4,"ngIf"],[1,"btn-text"],[1,"fas","fa-chevron-down","ms-auto"],[1,"opponent-side-text"],["title","All pets are included in the pet pool.",1,"form-check"],["type","checkbox","value","","id","allPets","formControlName","allPets",1,"form-check-input"],["for","allPets",1,"form-check-label"],[1,"controls-section","nested-section","teams-section"],[1,"team-column"],["placeholder","Team name",1,"form-control","team-name-input",3,"ngModelChange","ngModel","ngModelOptions"],[1,"team-name-actions"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel","ngClass","ngModelOptions"],[1,"selection-btn","team-selection-btn",3,"click"],["class","team-preview",4,"ngIf","ngIfElse"],[1,"team-name-actions","load-actions"],[1,"advanced-panel-body"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap","gap-2","mb-2"],[1,"section-title","mb-0"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"advanced-grid"],["title","Shuffle pets in front of Komodo if present.",1,"form-check"],["type","checkbox","value","","id","komodoShuffle","formControlName","komodoShuffle",1,"form-check-input"],["for","komodoShuffle",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","komodo-icon"],["title","Enable changing equipment uses globally.",1,"form-check"],["type","checkbox","value","","id","changeEquipmentUses","formControlName","changeEquipmentUses",1,"form-check-input"],["for","changeEquipmentUses",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","perk-icon"],["title","Include Mana.",1,"form-check"],["type","checkbox","value","","id","mana","formControlName","mana",1,"form-check-input"],["for","mana",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","mana-icon"],["title","Disable battle logs for faster simulations.",1,"form-check"],["type","checkbox","value","","id","logsEnabled","formControlName","logsEnabled",1,"form-check-input"],["for","logsEnabled",1,"form-check-label"],["title","Include Triggers Consumed.",1,"form-check"],["type","checkbox","value","","id","triggersConsumed","formControlName","triggersConsumed",1,"form-check-input"],["for","triggersConsumed",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","pheasant-icon"],["title","Show debug details: trigger names and random reason labels.",1,"form-check"],["type","checkbox","value","","id","showTriggerNamesInLogs","formControlName","showTriggerNamesInLogs",1,"form-check-input",3,"change"],["for","showTriggerNamesInLogs",1,"form-check-label"],["title","Show [P#/O#] positional prefixes in logs and animation.",1,"form-check"],["type","checkbox","value","","id","showPositionalArgsInLogs","formControlName","showPositionalArgsInLogs",1,"form-check-input",3,"change"],["for","showPositionalArgsInLogs",1,"form-check-label"],[1,"advanced-number-grid","mt-2"],[1,"form-group","small-w-input"],["for","turn"],["id","turn","type","number","formControlName","turn","max","99",1,"form-control"],[1,"form-group","advanced-input"],["for","seed","title","Simulation Seed"],["id","seed","type","number","formControlName","seed",1,"form-control"],["for","playerGoldSpent","title","Player Gold Spent",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","gold-icon"],["id","playerGoldSpent","type","number","formControlName","playerGoldSpent","max","99",1,"form-control"],["for","opponentGoldSpent","title","Opponent Gold Spent",1,"advanced-label-with-icon"],["id","opponentGoldSpent","type","number","formControlName","opponentGoldSpent","max","99",1,"form-control"],["class","form-group advanced-input",4,"ngIf"],["for","playerLevel3Sold","title","Player Level 3 Sold",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","cycle-icon"],["id","playerLevel3Sold","type","number","formControlName","playerLevel3Sold","max","99",1,"form-control"],["for","opponentLevel3Sold","title","Opponent Level 3 Sold",1,"advanced-label-with-icon"],["id","opponentLevel3Sold","type","number","formControlName","opponentLevel3Sold","max","99",1,"form-control"],["for","playerSummonedAmount","title","Player Summoned Amount",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","summon-icon"],["id","playerSummonedAmount","type","number","formControlName","playerSummonedAmount","max","99",1,"form-control"],["for","opponentSummonedAmount","title","Opponent Summoned Amount",1,"advanced-label-with-icon"],["id","opponentSummonedAmount","type","number","formControlName","opponentSummonedAmount","max","99",1,"form-control"],["for","playerTransformationAmount","title","Player Transformation Amount",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","transform-icon"],["id","playerTransformationAmount","type","number","formControlName","playerTransformationAmount","max","99",1,"form-control"],["for","opponentTransformationAmount","title","Opponent Transformation Amount",1,"advanced-label-with-icon"],["id","opponentTransformationAmount","type","number","formControlName","opponentTransformationAmount","max","99",1,"form-control"],[1,"random-overrides-panel"],[1,"random-overrides-header"],["type","button","aria-controls","random-overrides-panel",1,"btn-link","random-overrides-toggle",3,"click"],["class","random-overrides-count",4,"ngIf"],["aria-hidden","true",1,"random-overrides-chevron"],["class","random-overrides-actions",4,"ngIf"],["class","random-overrides-summary",4,"ngIf"],["id","random-overrides-panel","class","random-overrides-body",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async",1,"btn-icon",3,"error","ngSrc"],[1,"team-preview"],["width","28","height","28","loading","lazy","decoding","async","class","team-preview-icon",3,"ngSrc","alt",4,"ngFor","ngForOf"],["width","28","height","28","loading","lazy","decoding","async",1,"team-preview-icon",3,"ngSrc","alt"],[1,"btn-placeholder"],["for","playerRollAmount","title","Player Roll Amount",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","roll-icon"],["id","playerRollAmount","type","number","formControlName","playerRollAmount","max","99",1,"form-control"],["for","opponentRollAmount","title","Opponent Roll Amount",1,"advanced-label-with-icon"],["id","opponentRollAmount","type","number","formControlName","opponentRollAmount","max","99",1,"form-control"],[1,"random-overrides-count"],[1,"random-overrides-actions"],["title","Runs one logged battle and captures random decision points.",1,"btn","btn-secondary","btn-sm",3,"click","disabled"],["title","Runs one logged battle while forcing selected random options.",1,"btn","btn-primary","btn-sm",3,"click","disabled"],[1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],[1,"random-overrides-summary"],["id","random-overrides-panel",1,"random-overrides-body"],["class","random-overrides-empty",4,"ngIf"],["class","random-overrides-error",4,"ngIf"],["class","random-overrides-table-wrap",4,"ngIf"],[1,"random-overrides-empty"],[1,"random-overrides-error"],[1,"random-overrides-table-wrap"],[1,"table","table-sm","random-overrides-table"],["scope","col"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"decision-label"],[1,"decision-key"],[1,"decision-choice-preview"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel","ngModelOptions"],[3,"ngValue",4,"ngFor","ngForOf","ngForTrackBy"],["class","log-inline-icon","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],[3,"ngClass",4,"ngIf"],[4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async",1,"log-inline-icon",3,"ngSrc","alt"],[3,"ngClass"],[3,"ngValue"]],template:function(i,n){if(1&i){const o=c.RV6();c.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),c.EFF(4,"Run"),c.k0s(),c.j41(5,"div",6)(6,"div",7)(7,"button",8),c.bIt("click",function(){return A.eBV(o),A.Njj(n.app.simulate(n.app.formGroup.get("simulations").value))}),c.EFF(8),c.k0s(),c.DNE(9,H6,2,0,"button",9),c.nrm(10,"input",10),c.k0s(),c.j41(11,"div",11)(12,"button",12),c.bIt("click",function(){return A.eBV(o),A.Njj(n.app.optimizePositioning(n.optimizeSide))}),c.EFF(13," Optimize "),c.k0s(),c.j41(14,"select",13),c.mxI("ngModelChange",function(l){return A.eBV(o),c.DH7(n.optimizeSide,l)||(n.optimizeSide=l),A.Njj(l)}),c.j41(15,"option",14),c.EFF(16,"Player"),c.k0s(),c.j41(17,"option",15),c.EFF(18,"Opponent"),c.k0s()()(),c.j41(19,"div",16)(20,"button",17),c.bIt("click",function(){return A.eBV(o),A.Njj(n.app.randomize())}),c.EFF(21," Randomize "),c.k0s(),c.DNE(22,j6,2,0,"button",18),c.k0s()()(),c.j41(23,"div",19)(24,"div",5),c.EFF(25),c.k0s(),c.DNE(26,q6,22,12,"ng-container",20)(27,U6,2,0,"ng-template",null,0,c.C5r),c.k0s(),c.j41(29,"div",21)(30,"div",22),c.EFF(31,"Actions"),c.k0s(),c.j41(32,"div",23)(33,"button",17),c.bIt("click",function(){return A.eBV(o),A.Njj(n.app.toggleTheme())}),c.EFF(34),c.k0s(),c.j41(35,"button",24),c.bIt("click",function(){return A.eBV(o),A.Njj(n.app.showInfo=!0)}),c.EFF(36," Guide "),c.k0s(),c.j41(37,"button",25),c.bIt("click",function(){return A.eBV(o),A.Njj(n.app.showReportABug=!0)}),c.EFF(38," Report A Bug "),c.k0s(),c.j41(39,"button",26),c.bIt("click",function(){return A.eBV(o),A.Njj(n.app.showExport=!0)}),c.EFF(40," Export "),c.k0s(),c.j41(41,"button",27),c.bIt("click",function(){return A.eBV(o),A.Njj(n.app.showImport=!0)}),c.EFF(42," Import "),c.k0s(),c.j41(43,"button",28),c.bIt("click",function(){return A.eBV(o),A.Njj(n.app.generateShareLink())}),c.EFF(44," Generate Link "),c.k0s()(),c.j41(45,"div",29),c.EFF(46," Shortcuts: Alt+S simulate, Alt+R randomize, Alt+P/O optimize, Alt+A controls, Alt+T theme "),c.k0s()()(),c.DNE(47,V6,2,2,"div",30)(48,W6,2,1,"div",31)(49,K6,5,3,"div",32),c.j41(50,"div",33)(51,"div",34)(52,"div",35)(53,"div",36)(54,"button",37),c.bIt("click",function(){return A.eBV(o),A.Njj(n.app.toggleAdvanced())}),c.j41(55,"span",38),c.EFF(56,"Scenario Controls"),c.k0s(),c.DNE(57,z6,2,1,"span",39),c.j41(58,"span",40),c.EFF(59,"\u25be"),c.k0s()()(),c.DNE(60,Y6,2,1,"div",41)(61,Aj,174,28,"div",42),c.k0s()()()()}if(2&i){const o=c.sdS(28);c.Y8G("formGroup",n.app.formGroup),c.R7$(7),c.Y8G("disabled",n.app.simulationInProgress),c.R7$(),c.SpI(" ",n.app.simulationInProgress?"Simulating...":"Simulate"," "),c.R7$(),c.Y8G("ngIf",n.app.simulationInProgress),c.R7$(3),c.Y8G("disabled",n.app.simulationInProgress),c.R7$(2),c.R50("ngModel",n.optimizeSide),c.Y8G("ngClass","player"===n.optimizeSide?"side-select-player":"side-select-opponent")("ngModelOptions",c.lJ4(23,e_))("disabled",n.app.simulationInProgress),c.R7$(8),c.Y8G("ngIf",n.app.undoState),c.R7$(3),c.JRh(n.app.simulated?"Results":"Simulate to see results"),c.R7$(),c.Y8G("ngIf",n.app.simulated)("ngIfElse",o),c.R7$(8),c.SpI(" ","dark"===n.app.theme?"Light Theme":"Dark Theme"," "),c.R7$(13),c.Y8G("ngIf",n.app.statusMessage),c.R7$(),c.Y8G("ngIf",n.app.autoSaveLabel),c.R7$(),c.Y8G("ngIf",n.app.simulationInProgress),c.R7$(5),c.BMQ("aria-expanded",n.isUnifiedAdvancedExpanded),c.R7$(3),c.Y8G("ngIf",n.activeAdvancedOverridesCount),c.R7$(),c.AVh("expanded",n.isUnifiedAdvancedExpanded),c.R7$(2),c.Y8G("ngIf",!n.isUnifiedAdvancedExpanded),c.R7$(),c.Y8G("ngIf",n.isUnifiedAdvancedExpanded)}},dependencies:[Ct.MD,Ct.YU,Ct.Sq,Ct.bT,X.YN,X.xH,X.y7,X.me,X.Q0,X.Zm,X.wz,X.BC,X.cb,X.VZ,X.zX,X.vS,X.X1,X.j4,X.JD,Ti],encapsulation:2})}return r})();const kj=["battleSplitContainer"],wj=["animationSplitContainer"],Tj=["logsAnalysisSplitContainer"],Ej=["analysisSplitContainer"],Cj=(r,e)=>({"player-side-text":r,"opponent-side-text":e}),xj=(r,e,t)=>({"battle-winner-player":r,"battle-winner-opponent":e,"battle-winner-draw":t}),IN=()=>[],iT=()=>({standalone:!0}),Dj=(r,e,t,i,n)=>[r,e,t,i,n],Ij=(r,e,t,i)=>({"diff-same":r,"diff-changed":e,"diff-left-only":t,"diff-right-only":i});function Mj(r,e){1&r&&(c.j41(0,"div",43),c.EFF(1," Swipe or shift-scroll to view logs -> "),c.k0s())}function Rj(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",44)(1,"button",45),c.bIt("click",function(){A.eBV(t);const n=c.XpG(2);return A.Njj(n.setTabletActivePane("battle"))}),c.EFF(2," Battles "),c.k0s(),c.j41(3,"button",45),c.bIt("click",function(){A.eBV(t);const n=c.XpG(2);return A.Njj(n.setTabletActivePane("logs"))}),c.EFF(4," Logs "),c.k0s()()}if(2&r){const t=c.XpG(2);c.R7$(),c.AVh("active","battle"===t.activeTabletPane),c.BMQ("aria-selected","battle"===t.activeTabletPane),c.R7$(2),c.AVh("active","logs"===t.activeTabletPane),c.BMQ("aria-selected","logs"===t.activeTabletPane)}}function Lj(r,e){if(1&r){const t=c.RV6();c.j41(0,"button",46),c.bIt("click",function(){const n=A.eBV(t).$implicit,o=c.XpG(2);return A.Njj(o.app.formGroup.get("logFilter").setValue(n.value))}),c.EFF(1),c.k0s()}if(2&r){const t=e.$implicit,i=c.XpG(2);c.AVh("active",i.app.formGroup.get("logFilter").value===t.value),c.Y8G("ngClass",c.l_i(4,Cj,"player"===t.value,"opponent"===t.value)),c.R7$(),c.SpI(" ",t.label," ")}}function Nj(r,e){if(1&r&&(c.j41(0,"span"),c.EFF(1),c.k0s()),2&r){const t=e.ngIf,i=c.XpG(2);c.R7$(),c.SpI("Viewing #",i.app.battles.indexOf(t))}}function Fj(r,e){if(1&r&&c.nrm(0,"img",53),2&r){const t=c.XpG().$implicit;c.Y8G("ngSrc",t.src)("alt",t.alt)}}function Oj(r,e){if(1&r&&(c.j41(0,"span",54),c.EFF(1),c.k0s()),2&r){const t=c.XpG().$implicit;c.Y8G("ngClass",t.className),c.R7$(),c.JRh(t.text)}}function Bj(r,e){1&r&&c.nrm(0,"br")}function $j(r,e){if(1&r&&(c.qex(0),c.DNE(1,Fj,1,2,"img",51)(2,Oj,2,2,"span",52)(3,Bj,1,0,"br",25),c.bVm()),2&r){const t=e.$implicit;c.R7$(),c.Y8G("ngIf","img"===t.type),c.R7$(),c.Y8G("ngIf","text"===t.type),c.R7$(),c.Y8G("ngIf","br"===t.type)}}function Gj(r,e){if(1&r&&(c.qex(0),c.DNE(1,$j,4,3,"ng-container",50),c.bVm()),2&r){const t=c.XpG().$implicit,i=c.XpG(2);c.R7$(),c.Y8G("ngForOf",i.app.battleRandomEventsByBattle.get(t)||c.lJ4(2,IN))("ngForTrackBy",i.app.trackByIndex)}}function Hj(r,e){1&r&&(c.j41(0,"span",55),c.EFF(1,"None"),c.k0s())}function jj(r,e){if(1&r){const t=c.RV6();c.j41(0,"tr",47),c.bIt("click",function(){const n=A.eBV(t).$implicit,o=c.XpG(2);return A.Njj(o.app.setViewBattle(n))}),c.j41(1,"td")(2,"span",48),c.EFF(3),c.k0s()(),c.j41(4,"td",49),c.DNE(5,Gj,2,3,"ng-container",39)(6,Hj,2,0,"ng-template",null,6,c.C5r),c.k0s()()}if(2&r){const t=e.$implicit,i=c.sdS(7),n=c.XpG(2);c.AVh("selected-battle",t===n.app.viewBattle),c.Y8G("ngClass","player"===t.winner?"battle-win":"opponent"===t.winner?"battle-loss":"battle-draw"),c.R7$(2),c.Y8G("ngClass",c.sMw(7,xj,"player"===t.winner,"opponent"===t.winner,"draw"===t.winner)),c.R7$(),c.SpI(" ",t.winner," "),c.R7$(2),c.Y8G("ngIf",(n.app.battleRandomEventsByBattle.get(t)||c.lJ4(11,IN)).length>0)("ngIfElse",i)}}function qj(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",56),c.bIt("pointerdown",function(n){A.eBV(t);const o=c.XpG(2);return A.Njj(o.onDividerPointerDown(n))})("pointermove",function(n){A.eBV(t);const o=c.XpG(2);return A.Njj(o.onDividerPointerMove(n))})("pointerup",function(n){A.eBV(t);const o=c.XpG(2);return A.Njj(o.onDividerPointerUp(n))})("pointercancel",function(n){A.eBV(t);const o=c.XpG(2);return A.Njj(o.onDividerPointerUp(n))})("keydown",function(n){A.eBV(t);const o=c.XpG(2);return A.Njj(o.onPaneDividerKeyDown(n))}),c.k0s()}}function Uj(r,e){if(1&r){const t=c.RV6();c.j41(0,"button",57),c.bIt("click",function(){const n=A.eBV(t).$implicit,o=c.XpG(2);return A.Njj(o.app.setViewBattleLogFilter(n.value))}),c.EFF(1),c.k0s()}if(2&r){const t=e.$implicit,i=c.XpG(2);c.AVh("active",i.app.logEventFilter===t.value),c.R7$(),c.SpI(" ",t.label," ")}}function Vj(r,e){if(1&r&&c.nrm(0,"img",77),2&r){const t=c.XpG().ngIf,i=c.XpG(2);c.Y8G("ngSrc",i.app.getToyIconPath(t.frame.opponentToyName))("alt",t.frame.opponentToyName+" toy")}}function Wj(r,e){if(1&r&&c.nrm(0,"img",78),2&r){const t=c.XpG().ngIf,i=c.XpG(2);c.Y8G("ngSrc",i.app.getToyIconPath(t.frame.opponentHardToyName))("alt",t.frame.opponentHardToyName+" hard toy")}}function Kj(r,e){if(1&r&&c.nrm(0,"img",91),2&r){const t=c.XpG().$implicit;c.Y8G("ngSrc",t.slot.petIconSrc)("alt",t.slot.petName||"Opponent pet")}}function zj(r,e){if(1&r&&c.nrm(0,"img",92),2&r){const t=c.XpG().$implicit;c.Y8G("ngSrc",t.slot.petCompanionIconSrc)("alt",t.slot.petCompanionName||"Companion pet")}}function Yj(r,e){1&r&&(c.j41(0,"span",93),c.EFF(1,"___"),c.k0s())}function Xj(r,e){if(1&r&&c.nrm(0,"img",94),2&r){const t=c.XpG().$implicit;c.Y8G("ngSrc",t.slot.equipmentIconSrc)("alt",t.slot.equipmentName||"Equipment")}}function Jj(r,e){if(1&r&&c.nrm(0,"img",97),2&r){const t=c.XpG().ngIf;c.Y8G("ngSrc",t.equipmentIconSrc)("alt",(t.equipmentName||"Equipment")+" removed")}}function Qj(r,e){if(1&r&&(c.j41(0,"div",95),c.DNE(1,Jj,1,2,"img",96),c.k0s()),2&r){const t=e.ngIf;c.R7$(),c.Y8G("ngIf",t.equipmentIconSrc)}}function Zj(r,e){if(1&r&&c.nrm(0,"img",100),2&r){const t=c.XpG().ngIf;c.Y8G("ngSrc",t.equipmentIconSrc)("alt",(t.equipmentName||"Equipment")+" added")}}function e8(r,e){if(1&r&&(c.j41(0,"div",98),c.DNE(1,Zj,1,2,"img",99),c.k0s()),2&r){const t=e.ngIf;c.R7$(),c.Y8G("ngIf",t.equipmentIconSrc)}}function t8(r,e){if(1&r&&(c.j41(0,"div",101),c.nrm(1,"img",102),c.k0s()),2&r){const t=c.XpG(4);c.R7$(),c.Y8G("ngSrc",t.app.fightSnipeIconSrc)}}function i8(r,e){if(1&r&&c.nrm(0,"img",106),2&r){const t=c.XpG().$implicit,i=c.XpG(4);c.Y8G("ngSrc","attack"===t.type?i.app.fightAttackIconSrc:"health"===t.type?i.app.fightHealthIconSrc:"exp"===t.type?i.app.fightExpIconSrc:"mana"===t.type?i.app.fightManaIconSrc:i.app.fightTrumpetIconSrc)}}function n8(r,e){if(1&r&&(c.qex(0),c.j41(1,"span",103),c.DNE(2,i8,1,1,"img",104),c.j41(3,"span",105),c.EFF(4),c.k0s()(),c.bVm()),2&r){const t=e.$implicit,i=e.index;c.R7$(),c.xc7("--fight-popup-index",i),c.AVh("fight-value-popup-damage","damage"===t.type)("fight-value-popup-trumpets","trumpets"===t.type)("fight-value-popup-buff","damage"!==t.type&&t.delta>0)("fight-value-popup-debuff","damage"!==t.type&&t.delta<0),c.R7$(),c.Y8G("ngIf","attack"===t.type||"health"===t.type||"exp"===t.type||"mana"===t.type||"trumpets"===t.type),c.R7$(2),c.JRh((t.delta>0?"+":"-")+(t.delta>0?t.delta:-t.delta))}}function r8(r,e){if(1&r&&c.nrm(0,"img",110),2&r){const t=c.XpG().ngIf;c.Y8G("ngSrc",t.petIconSrc)("alt",t.petName||"Fainted pet")}}function a8(r,e){if(1&r&&c.nrm(0,"img",111),2&r){const t=c.XpG().ngIf;c.Y8G("ngSrc",t.petCompanionIconSrc)("alt",t.petCompanionName||"Fainted companion")}}function o8(r,e){if(1&r&&(c.j41(0,"div",107),c.DNE(1,r8,1,2,"img",108)(2,a8,1,2,"img",109),c.k0s()),2&r){const t=e.ngIf;c.R7$(),c.Y8G("ngIf",t.petIconSrc),c.R7$(),c.Y8G("ngIf",t.petCompanionIconSrc)}}function s8(r,e){if(1&r&&(c.j41(0,"span",115),c.nrm(1,"img",116),c.j41(2,"span"),c.EFF(3),c.k0s()()),2&r){const t=c.XpG(2).$implicit,i=c.XpG(3);c.R7$(),c.Y8G("ngSrc",i.app.fightAttackIconSrc),c.R7$(2),c.JRh(t.slot.attack)}}function l8(r,e){if(1&r&&(c.j41(0,"span",115),c.nrm(1,"img",116),c.j41(2,"span"),c.EFF(3),c.k0s()()),2&r){const t=c.XpG(2).$implicit,i=c.XpG(3);c.R7$(),c.Y8G("ngSrc",i.app.fightHealthIconSrc),c.R7$(2),c.JRh(t.slot.health)}}function c8(r,e){if(1&r&&(c.j41(0,"span",115),c.nrm(1,"img",116),c.j41(2,"span"),c.EFF(3),c.k0s()()),2&r){const t=c.XpG(2).$implicit,i=c.XpG(3);c.R7$(),c.Y8G("ngSrc",i.app.fightManaIconSrc),c.R7$(2),c.JRh(t.slot.mana)}}function u8(r,e){if(1&r&&(c.j41(0,"span",117),c.nrm(1,"img",116),c.j41(2,"span",118)(3,"span",119)(4,"span",120),c.EFF(5,"L1"),c.k0s(),c.nrm(6,"span"),c.j41(7,"span",120),c.EFF(8,"L2"),c.k0s(),c.nrm(9,"span"),c.j41(10,"span",120),c.EFF(11,"L3"),c.k0s()(),c.j41(12,"span",121),c.nrm(13,"span",122)(14,"span",122)(15,"span",122)(16,"span",122)(17,"span",122),c.k0s()()()),2&r){const t=c.XpG(2).$implicit,i=c.XpG(3);c.R7$(),c.Y8G("ngSrc",i.app.fightExpIconSrc),c.R7$(11),c.BMQ("aria-label","XP: "+t.slot.exp+" out of 5"),c.R7$(),c.AVh("selected",(t.slot.exp??0)>=1),c.R7$(),c.AVh("selected",(t.slot.exp??0)>=2),c.R7$(),c.AVh("selected",(t.slot.exp??0)>=3),c.R7$(),c.AVh("selected",(t.slot.exp??0)>=4),c.R7$(),c.AVh("selected",(t.slot.exp??0)>=5)}}function d8(r,e){if(1&r&&(c.j41(0,"div",112),c.DNE(1,s8,4,2,"span",113)(2,l8,4,2,"span",113)(3,c8,4,2,"span",113)(4,u8,18,12,"span",114),c.k0s()),2&r){const t=c.XpG().$implicit;c.R7$(),c.Y8G("ngIf",null!=t.slot.attack),c.R7$(),c.Y8G("ngIf",null!=t.slot.health),c.R7$(),c.Y8G("ngIf",null!=t.slot.mana),c.R7$(),c.Y8G("ngIf",null!=t.slot.exp)}}function h8(r,e){if(1&r&&(c.j41(0,"div",79)(1,"div",80),c.EFF(2),c.k0s(),c.j41(3,"div",81),c.DNE(4,Kj,1,2,"img",82)(5,zj,1,2,"img",83)(6,Yj,2,0,"span",84)(7,Xj,1,2,"img",85)(8,Qj,2,1,"div",86)(9,e8,2,1,"div",87)(10,t8,2,1,"div",88)(11,n8,5,12,"ng-container",50)(12,o8,3,2,"div",89),c.k0s(),c.DNE(13,d8,5,4,"div",90),c.k0s()),2&r){const t=e.$implicit,i=c.XpG(3);c.xc7("--fight-shift-steps",t.shiftSteps),c.Y8G("ngClass",t.classMap),c.R7$(2),c.JRh(t.slot.label||"O"+(t.slot.slot+1)),c.R7$(2),c.Y8G("ngIf",t.slot.petIconSrc),c.R7$(),c.Y8G("ngIf",t.slot.petCompanionIconSrc),c.R7$(),c.Y8G("ngIf",!t.slot.petIconSrc),c.R7$(),c.Y8G("ngIf",t.slot.equipmentIconSrc),c.R7$(),c.Y8G("ngIf",t.removedEquipment),c.R7$(),c.Y8G("ngIf",t.addedEquipment),c.R7$(),c.Y8G("ngIf",t.showSnipeImpact),c.R7$(),c.Y8G("ngForOf",t.popups)("ngForTrackBy",i.app.trackByIndex),c.R7$(),c.Y8G("ngIf",t.death),c.R7$(),c.Y8G("ngIf",null!=t.slot.attack||null!=t.slot.health||null!=t.slot.exp||null!=t.slot.mana)}}function p8(r,e){if(1&r&&c.nrm(0,"img",124),2&r){const t=c.XpG().$implicit;c.Y8G("ngSrc",t.src)("alt",t.alt)}}function g8(r,e){if(1&r&&(c.j41(0,"span",54),c.EFF(1),c.k0s()),2&r){const t=c.XpG().$implicit;c.Y8G("ngClass",t.className),c.R7$(),c.JRh(t.text)}}function m8(r,e){1&r&&c.nrm(0,"br")}function f8(r,e){if(1&r&&(c.qex(0),c.DNE(1,p8,1,2,"img",123)(2,g8,2,2,"span",52)(3,m8,1,0,"br",25),c.bVm()),2&r){const t=e.$implicit;c.R7$(),c.Y8G("ngIf","img"===t.type),c.R7$(),c.Y8G("ngIf","text"===t.type),c.R7$(),c.Y8G("ngIf","br"===t.type)}}function y8(r,e){if(1&r&&(c.qex(0),c.j41(1,"span",54),c.DNE(2,f8,4,3,"ng-container",50),c.k0s(),c.bVm()),2&r){const t=e.ngIf,i=c.XpG(3);c.R7$(),c.Y8G("ngClass",t.classes),c.R7$(),c.Y8G("ngForOf",t.parts)("ngForTrackBy",i.app.trackByIndex)}}function b8(r,e){if(1&r&&c.EFF(0),2&r){const t=c.XpG().ngIf;c.SpI(" ",t.frame.text," ")}}function v8(r,e){if(1&r&&c.nrm(0,"img",77),2&r){const t=c.XpG().ngIf,i=c.XpG(2);c.Y8G("ngSrc",i.app.getToyIconPath(t.frame.playerToyName))("alt",t.frame.playerToyName+" toy")}}function A8(r,e){if(1&r&&c.nrm(0,"img",78),2&r){const t=c.XpG().ngIf,i=c.XpG(2);c.Y8G("ngSrc",i.app.getToyIconPath(t.frame.playerHardToyName))("alt",t.frame.playerHardToyName+" hard toy")}}function _8(r,e){if(1&r&&c.nrm(0,"img",91),2&r){const t=c.XpG().$implicit;c.Y8G("ngSrc",t.slot.petIconSrc)("alt",t.slot.petName||"Player pet")}}function S8(r,e){if(1&r&&c.nrm(0,"img",92),2&r){const t=c.XpG().$implicit;c.Y8G("ngSrc",t.slot.petCompanionIconSrc)("alt",t.slot.petCompanionName||"Companion pet")}}function P8(r,e){1&r&&(c.j41(0,"span",93),c.EFF(1,"___"),c.k0s())}function k8(r,e){if(1&r&&c.nrm(0,"img",94),2&r){const t=c.XpG().$implicit;c.Y8G("ngSrc",t.slot.equipmentIconSrc)("alt",t.slot.equipmentName||"Equipment")}}function w8(r,e){if(1&r&&c.nrm(0,"img",97),2&r){const t=c.XpG().ngIf;c.Y8G("ngSrc",t.equipmentIconSrc)("alt",(t.equipmentName||"Equipment")+" removed")}}function T8(r,e){if(1&r&&(c.j41(0,"div",95),c.DNE(1,w8,1,2,"img",96),c.k0s()),2&r){const t=e.ngIf;c.R7$(),c.Y8G("ngIf",t.equipmentIconSrc)}}function E8(r,e){if(1&r&&c.nrm(0,"img",100),2&r){const t=c.XpG().ngIf;c.Y8G("ngSrc",t.equipmentIconSrc)("alt",(t.equipmentName||"Equipment")+" added")}}function C8(r,e){if(1&r&&(c.j41(0,"div",98),c.DNE(1,E8,1,2,"img",99),c.k0s()),2&r){const t=e.ngIf;c.R7$(),c.Y8G("ngIf",t.equipmentIconSrc)}}function x8(r,e){if(1&r&&(c.j41(0,"div",101),c.nrm(1,"img",102),c.k0s()),2&r){const t=c.XpG(4);c.R7$(),c.Y8G("ngSrc",t.app.fightSnipeIconSrc)}}function D8(r,e){if(1&r&&c.nrm(0,"img",106),2&r){const t=c.XpG().$implicit,i=c.XpG(4);c.Y8G("ngSrc","attack"===t.type?i.app.fightAttackIconSrc:"health"===t.type?i.app.fightHealthIconSrc:"exp"===t.type?i.app.fightExpIconSrc:"mana"===t.type?i.app.fightManaIconSrc:i.app.fightTrumpetIconSrc)}}function I8(r,e){if(1&r&&(c.qex(0),c.j41(1,"span",103),c.DNE(2,D8,1,1,"img",104),c.j41(3,"span",105),c.EFF(4),c.k0s()(),c.bVm()),2&r){const t=e.$implicit,i=e.index;c.R7$(),c.xc7("--fight-popup-index",i),c.AVh("fight-value-popup-damage","damage"===t.type)("fight-value-popup-trumpets","trumpets"===t.type)("fight-value-popup-buff","damage"!==t.type&&t.delta>0)("fight-value-popup-debuff","damage"!==t.type&&t.delta<0),c.R7$(),c.Y8G("ngIf","attack"===t.type||"health"===t.type||"exp"===t.type||"mana"===t.type||"trumpets"===t.type),c.R7$(2),c.JRh((t.delta>0?"+":"-")+(t.delta>0?t.delta:-t.delta))}}function M8(r,e){if(1&r&&c.nrm(0,"img",110),2&r){const t=c.XpG().ngIf;c.Y8G("ngSrc",t.petIconSrc)("alt",t.petName||"Fainted pet")}}function R8(r,e){if(1&r&&c.nrm(0,"img",111),2&r){const t=c.XpG().ngIf;c.Y8G("ngSrc",t.petCompanionIconSrc)("alt",t.petCompanionName||"Fainted companion")}}function L8(r,e){if(1&r&&(c.j41(0,"div",107),c.DNE(1,M8,1,2,"img",108)(2,R8,1,2,"img",109),c.k0s()),2&r){const t=e.ngIf;c.R7$(),c.Y8G("ngIf",t.petIconSrc),c.R7$(),c.Y8G("ngIf",t.petCompanionIconSrc)}}function N8(r,e){if(1&r&&(c.j41(0,"span",115),c.nrm(1,"img",116),c.j41(2,"span"),c.EFF(3),c.k0s()()),2&r){const t=c.XpG(2).$implicit,i=c.XpG(3);c.R7$(),c.Y8G("ngSrc",i.app.fightAttackIconSrc),c.R7$(2),c.JRh(t.slot.attack)}}function F8(r,e){if(1&r&&(c.j41(0,"span",115),c.nrm(1,"img",116),c.j41(2,"span"),c.EFF(3),c.k0s()()),2&r){const t=c.XpG(2).$implicit,i=c.XpG(3);c.R7$(),c.Y8G("ngSrc",i.app.fightHealthIconSrc),c.R7$(2),c.JRh(t.slot.health)}}function O8(r,e){if(1&r&&(c.j41(0,"span",115),c.nrm(1,"img",116),c.j41(2,"span"),c.EFF(3),c.k0s()()),2&r){const t=c.XpG(2).$implicit,i=c.XpG(3);c.R7$(),c.Y8G("ngSrc",i.app.fightManaIconSrc),c.R7$(2),c.JRh(t.slot.mana)}}function B8(r,e){if(1&r&&(c.j41(0,"span",117),c.nrm(1,"img",116),c.j41(2,"span",118)(3,"span",119)(4,"span",120),c.EFF(5,"L1"),c.k0s(),c.nrm(6,"span"),c.j41(7,"span",120),c.EFF(8,"L2"),c.k0s(),c.nrm(9,"span"),c.j41(10,"span",120),c.EFF(11,"L3"),c.k0s()(),c.j41(12,"span",121),c.nrm(13,"span",122)(14,"span",122)(15,"span",122)(16,"span",122)(17,"span",122),c.k0s()()()),2&r){const t=c.XpG(2).$implicit,i=c.XpG(3);c.R7$(),c.Y8G("ngSrc",i.app.fightExpIconSrc),c.R7$(11),c.BMQ("aria-label","XP: "+t.slot.exp+" out of 5"),c.R7$(),c.AVh("selected",(t.slot.exp??0)>=1),c.R7$(),c.AVh("selected",(t.slot.exp??0)>=2),c.R7$(),c.AVh("selected",(t.slot.exp??0)>=3),c.R7$(),c.AVh("selected",(t.slot.exp??0)>=4),c.R7$(),c.AVh("selected",(t.slot.exp??0)>=5)}}function $8(r,e){if(1&r&&(c.j41(0,"div",112),c.DNE(1,N8,4,2,"span",113)(2,F8,4,2,"span",113)(3,O8,4,2,"span",113)(4,B8,18,12,"span",114),c.k0s()),2&r){const t=c.XpG().$implicit;c.R7$(),c.Y8G("ngIf",null!=t.slot.attack),c.R7$(),c.Y8G("ngIf",null!=t.slot.health),c.R7$(),c.Y8G("ngIf",null!=t.slot.mana),c.R7$(),c.Y8G("ngIf",null!=t.slot.exp)}}function G8(r,e){if(1&r&&(c.j41(0,"div",79)(1,"div",80),c.EFF(2),c.k0s(),c.j41(3,"div",81),c.DNE(4,_8,1,2,"img",82)(5,S8,1,2,"img",83)(6,P8,2,0,"span",84)(7,k8,1,2,"img",85)(8,T8,2,1,"div",86)(9,C8,2,1,"div",87)(10,x8,2,1,"div",88)(11,I8,5,12,"ng-container",50)(12,L8,3,2,"div",89),c.k0s(),c.DNE(13,$8,5,4,"div",90),c.k0s()),2&r){const t=e.$implicit,i=c.XpG(3);c.xc7("--fight-shift-steps",t.shiftSteps),c.Y8G("ngClass",t.classMap),c.R7$(2),c.JRh(t.slot.label||"P"+(t.slot.slot+1)),c.R7$(2),c.Y8G("ngIf",t.slot.petIconSrc),c.R7$(),c.Y8G("ngIf",t.slot.petCompanionIconSrc),c.R7$(),c.Y8G("ngIf",!t.slot.petIconSrc),c.R7$(),c.Y8G("ngIf",t.slot.equipmentIconSrc),c.R7$(),c.Y8G("ngIf",t.removedEquipment),c.R7$(),c.Y8G("ngIf",t.addedEquipment),c.R7$(),c.Y8G("ngIf",t.showSnipeImpact),c.R7$(),c.Y8G("ngForOf",t.popups)("ngForTrackBy",i.app.trackByIndex),c.R7$(),c.Y8G("ngIf",t.death),c.R7$(),c.Y8G("ngIf",null!=t.slot.attack||null!=t.slot.health||null!=t.slot.exp||null!=t.slot.mana)}}function H8(r,e){if(1&r){const t=c.RV6();c.j41(0,"button",125),c.bIt("click",function(){const n=A.eBV(t).$implicit,o=c.XpG(3);return A.Njj(o.app.setFightAnimationSpeed(n))}),c.EFF(1),c.k0s()}if(2&r){const t=e.$implicit,i=c.XpG(3);c.AVh("active",i.app.fightAnimationSpeed===t),c.R7$(),c.SpI(" ",t,"x ")}}function j8(r,e){if(1&r){const t=c.RV6();c.qex(0),c.j41(1,"div",58)(2,"div",59)(3,"div",60),c.DNE(4,Vj,1,2,"img",61)(5,Wj,1,2,"img",62),c.k0s(),c.DNE(6,h8,14,15,"div",63),c.k0s(),c.j41(7,"div",64)(8,"div",65),c.EFF(9),c.k0s(),c.j41(10,"div",66),c.DNE(11,y8,3,3,"ng-container",39)(12,b8,1,1,"ng-template",null,7,c.C5r),c.k0s(),c.j41(14,"div",67),c.EFF(15),c.k0s()(),c.j41(16,"div",68)(17,"div",60),c.DNE(18,v8,1,2,"img",61)(19,A8,1,2,"img",62),c.k0s(),c.DNE(20,G8,14,15,"div",63),c.k0s()(),c.j41(21,"div",69)(22,"div",70)(23,"button",71),c.bIt("click",function(){A.eBV(t);const n=c.XpG(2);return A.Njj(n.app.resetFightAnimation())}),c.EFF(24," Reset "),c.k0s(),c.j41(25,"button",71),c.bIt("click",function(){A.eBV(t);const n=c.XpG(2);return A.Njj(n.app.stepFightAnimation(-1))}),c.EFF(26," Prev "),c.k0s(),c.j41(27,"button",72),c.bIt("click",function(){A.eBV(t);const n=c.XpG(2);return A.Njj(n.app.toggleFightAnimationPlayback())}),c.EFF(28),c.k0s(),c.j41(29,"button",71),c.bIt("click",function(){A.eBV(t);const n=c.XpG(2);return A.Njj(n.app.stepFightAnimation(1))}),c.EFF(30," Next "),c.k0s()(),c.j41(31,"div",73),c.DNE(32,H8,2,3,"button",74),c.k0s()(),c.j41(33,"div",75)(34,"input",76),c.bIt("input",function(n){A.eBV(t);const o=c.XpG(2);return A.Njj(o.app.onFightAnimationScrub(n.target.value))}),c.k0s()(),c.bVm()}if(2&r){const t=e.ngIf,i=c.sdS(13),n=c.XpG(2);c.R7$(),c.AVh("fight-phase-a","a"===t.phase)("fight-phase-b","b"===t.phase),c.R7$(3),c.Y8G("ngIf",t.frame.opponentToyName),c.R7$(),c.Y8G("ngIf",t.frame.opponentHardToyName),c.R7$(),c.Y8G("ngForOf",t.opponentSlots)("ngForTrackBy",n.app.trackByIndex),c.R7$(),c.AVh("fight-event-random",t.frame.randomEvent),c.R7$(2),c.JRh(t.frame.type),c.R7$(2),c.Y8G("ngIf",n.app.currentFightAnimationLogRow)("ngIfElse",i),c.R7$(4),c.Lme(" Step ",n.app.fightAnimationFrameIndex+1," / ",n.app.fightAnimationFrames.length," "),c.R7$(3),c.Y8G("ngIf",t.frame.playerToyName),c.R7$(),c.Y8G("ngIf",t.frame.playerHardToyName),c.R7$(),c.Y8G("ngForOf",t.playerSlots)("ngForTrackBy",n.app.trackByIndex),c.R7$(3),c.Y8G("disabled",0===n.app.fightAnimationFrames.length),c.R7$(2),c.Y8G("disabled",n.app.fightAnimationFrameIndex<=0),c.R7$(2),c.Y8G("disabled",0===n.app.fightAnimationFrames.length),c.R7$(),c.SpI(" ",n.app.fightAnimationPlaying?"Pause":"Play"," "),c.R7$(),c.Y8G("disabled",n.app.fightAnimationFrameIndex>=n.app.fightAnimationFrames.length-1),c.R7$(3),c.Y8G("ngForOf",n.app.fightAnimationSpeedOptions)("ngForTrackBy",n.app.trackByIndex),c.R7$(2),c.Y8G("min",0)("max",n.app.fightAnimationFrames.length-1)("value",n.app.fightAnimationFrameIndex)}}function q8(r,e){1&r&&c.eu8(0)}function U8(r,e){1&r&&(c.j41(0,"div",126),c.EFF(1," No animation frames found for this battle. Enable logs and run at least one simulation. "),c.k0s())}function V8(r,e){1&r&&c.eu8(0)}function W8(r,e){if(1&r&&(c.j41(0,"tr",54)(1,"td"),c.EFF(2),c.k0s(),c.j41(3,"td"),c.EFF(4),c.k0s(),c.j41(5,"td"),c.EFF(6),c.k0s(),c.j41(7,"td"),c.EFF(8),c.k0s(),c.j41(9,"td"),c.EFF(10),c.k0s()()),2&r){const t=e.$implicit;c.Y8G("ngClass",c.s1E(6,Dj,"player"===t.side?"timeline-player":"","opponent"===t.side?"timeline-opponent":"","true random"===t.reason?"timeline-random":"","tie-broken"===t.reason?"timeline-tie":"","deterministic"===t.reason?"timeline-deterministic":"")),c.R7$(2),c.JRh(t.step),c.R7$(2),c.JRh(t.source),c.R7$(2),c.JRh(t.target),c.R7$(2),c.JRh(t.reason),c.R7$(2),c.JRh(t.text)}}function K8(r,e){if(1&r&&(c.j41(0,"option",144),c.EFF(1),c.k0s()),2&r){const t=e.$implicit,i=e.index;c.Y8G("ngValue",i),c.R7$(),c.Lme(" ",i," (",t.winner,") ")}}function z8(r,e){if(1&r&&(c.j41(0,"option",144),c.EFF(1),c.k0s()),2&r){const t=e.$implicit,i=e.index;c.Y8G("ngValue",i),c.R7$(),c.Lme(" ",i," (",t.winner,") ")}}function Y8(r,e){if(1&r&&(c.j41(0,"tr",54)(1,"td"),c.EFF(2),c.k0s(),c.j41(3,"td"),c.EFF(4),c.k0s(),c.j41(5,"td"),c.EFF(6),c.k0s()()),2&r){const t=e.$implicit;c.Y8G("ngClass",c.ziG(4,Ij,"same"===t.kind,"changed"===t.kind,"left-only"===t.kind,"right-only"===t.kind)),c.R7$(2),c.JRh(t.step),c.R7$(2),c.JRh(t.left),c.R7$(2),c.JRh(t.right)}}function X8(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",128,9)(2,"div",129),c.DNE(3,V8,1,0,"ng-container",42),c.k0s(),c.j41(4,"div",130),c.bIt("pointerdown",function(n){A.eBV(t);const o=c.XpG(3);return A.Njj(o.onLogsAnalysisDividerPointerDown(n))})("pointermove",function(n){A.eBV(t);const o=c.XpG(3);return A.Njj(o.onLogsAnalysisDividerPointerMove(n))})("pointerup",function(n){A.eBV(t);const o=c.XpG(3);return A.Njj(o.onLogsAnalysisDividerPointerUp(n))})("pointercancel",function(n){A.eBV(t);const o=c.XpG(3);return A.Njj(o.onLogsAnalysisDividerPointerUp(n))})("keydown",function(n){A.eBV(t);const o=c.XpG(3);return A.Njj(o.onLogsAnalysisDividerKeyDown(n))}),c.k0s(),c.j41(5,"div",131)(6,"div",132,10)(8,"div",133)(9,"h4",134),c.EFF(10,"Trigger Timeline"),c.k0s(),c.j41(11,"div",135)(12,"table",136)(13,"thead")(14,"tr")(15,"th"),c.EFF(16,"#"),c.k0s(),c.j41(17,"th"),c.EFF(18,"Source"),c.k0s(),c.j41(19,"th"),c.EFF(20,"Target"),c.k0s(),c.j41(21,"th"),c.EFF(22,"Reason"),c.k0s(),c.j41(23,"th"),c.EFF(24,"Event"),c.k0s()()(),c.j41(25,"tbody"),c.DNE(26,W8,11,12,"tr",137),c.k0s()()()(),c.j41(27,"div",138),c.bIt("pointerdown",function(n){A.eBV(t);const o=c.XpG(3);return A.Njj(o.onAnalysisDividerPointerDown(n))})("pointermove",function(n){A.eBV(t);const o=c.XpG(3);return A.Njj(o.onAnalysisDividerPointerMove(n))})("pointerup",function(n){A.eBV(t);const o=c.XpG(3);return A.Njj(o.onAnalysisDividerPointerUp(n))})("pointercancel",function(n){A.eBV(t);const o=c.XpG(3);return A.Njj(o.onAnalysisDividerPointerUp(n))})("keydown",function(n){A.eBV(t);const o=c.XpG(3);return A.Njj(o.onAnalysisDividerKeyDown(n))}),c.k0s(),c.j41(28,"div",139)(29,"h4",134),c.EFF(30,"Battle Diff"),c.k0s(),c.j41(31,"div",140)(32,"label",141),c.EFF(33," Left "),c.j41(34,"select",142),c.bIt("ngModelChange",function(n){A.eBV(t);const o=c.XpG(3);return A.Njj(o.app.setBattleDiffLeft(n))}),c.DNE(35,K8,2,3,"option",143),c.k0s()(),c.j41(36,"label",141),c.EFF(37," Left Scope "),c.j41(38,"select",142),c.bIt("ngModelChange",function(n){A.eBV(t);const o=c.XpG(3);return A.Njj(o.app.setBattleDiffLeftScope(n))}),c.j41(39,"option",144),c.EFF(40,"All"),c.k0s(),c.j41(41,"option",145),c.EFF(42,"Player"),c.k0s(),c.j41(43,"option",146),c.EFF(44,"Opponent"),c.k0s()()(),c.j41(45,"label",141),c.EFF(46," Right "),c.j41(47,"select",142),c.bIt("ngModelChange",function(n){A.eBV(t);const o=c.XpG(3);return A.Njj(o.app.setBattleDiffRight(n))}),c.DNE(48,z8,2,3,"option",143),c.k0s()(),c.j41(49,"label",141),c.EFF(50," Right Scope "),c.j41(51,"select",142),c.bIt("ngModelChange",function(n){A.eBV(t);const o=c.XpG(3);return A.Njj(o.app.setBattleDiffRightScope(n))}),c.j41(52,"option",144),c.EFF(53,"All"),c.k0s(),c.j41(54,"option",145),c.EFF(55,"Player"),c.k0s(),c.j41(56,"option",146),c.EFF(57,"Opponent"),c.k0s()()()(),c.j41(58,"div",147),c.EFF(59),c.k0s(),c.j41(60,"div",135)(61,"table",136)(62,"thead")(63,"tr")(64,"th"),c.EFF(65,"#"),c.k0s(),c.j41(66,"th"),c.EFF(67,"Left"),c.k0s(),c.j41(68,"th"),c.EFF(69,"Right"),c.k0s()()(),c.j41(70,"tbody"),c.DNE(71,Y8,7,9,"tr",137),c.k0s()()()()()()()}if(2&r){c.XpG(2);const t=c.sdS(53),i=c.XpG();c.R7$(2),c.xc7("flex-basis",i.logsTopHeightPx,"px")("max-height",i.logsTopHeightPx,"px")("height",i.logsTopHeightPx,"px"),c.AVh("log-container-with-analysis",i.app.showBattleAnalysis),c.R7$(),c.Y8G("ngTemplateOutlet",t),c.R7$(5),c.xc7("flex-basis",i.timelineTopHeightPx,"px")("max-height",i.timelineTopHeightPx,"px")("height",i.timelineTopHeightPx,"px"),c.R7$(18),c.Y8G("ngForOf",i.app.viewBattleTimelineRows)("ngForTrackBy",i.app.trackByIndex),c.R7$(8),c.Y8G("ngModel",i.app.diffBattleLeftIndex)("ngModelOptions",c.lJ4(41,iT)),c.R7$(),c.Y8G("ngForOf",i.app.battles)("ngForTrackBy",i.app.trackByIndex),c.R7$(3),c.Y8G("ngModel",i.app.diffBattleLeftScope)("ngModelOptions",c.lJ4(42,iT)),c.R7$(),c.Y8G("ngValue","all"),c.R7$(2),c.Y8G("ngValue","player"),c.R7$(2),c.Y8G("ngValue","opponent"),c.R7$(4),c.Y8G("ngModel",i.app.diffBattleRightIndex)("ngModelOptions",c.lJ4(43,iT)),c.R7$(),c.Y8G("ngForOf",i.app.battles)("ngForTrackBy",i.app.trackByIndex),c.R7$(3),c.Y8G("ngModel",i.app.diffBattleRightScope)("ngModelOptions",c.lJ4(44,iT)),c.R7$(),c.Y8G("ngValue","all"),c.R7$(2),c.Y8G("ngValue","player"),c.R7$(2),c.Y8G("ngValue","opponent"),c.R7$(3),c.LHq(" Equal: ",i.app.battleDiffSummary.equalSteps," | Changed: ",i.app.battleDiffSummary.changedSteps," | Left Only: ",i.app.battleDiffSummary.leftOnly," | Right Only: ",i.app.battleDiffSummary.rightOnly," "),c.R7$(12),c.Y8G("ngForOf",i.app.battleDiffRows)("ngForTrackBy",i.app.trackByIndex)}}function J8(r,e){1&r&&c.eu8(0)}function Q8(r,e){if(1&r&&(c.j41(0,"div",148),c.DNE(1,J8,1,0,"ng-container",42),c.k0s()),2&r){c.XpG(2);const t=c.sdS(53);c.R7$(),c.Y8G("ngTemplateOutlet",t)}}function Z8(r,e){if(1&r&&c.DNE(0,X8,72,45,"div",127)(1,Q8,2,1,"ng-template",null,8,c.C5r),2&r){const t=c.sdS(2),i=c.XpG(2);c.Y8G("ngIf",i.app.showBattleAnalysis)("ngIfElse",t)}}function eq(r,e){if(1&r&&(c.j41(0,"span",165),c.EFF(1),c.k0s()),2&r){const t=e.$implicit;c.Y8G("ngClass",t.className),c.R7$(),c.SpI(" ",t.text," ")}}function tq(r,e){if(1&r&&c.nrm(0,"img",124),2&r){const t=c.XpG().$implicit;c.Y8G("ngSrc",t.src)("alt",t.alt)}}function iq(r,e){if(1&r&&(c.j41(0,"span",54),c.EFF(1),c.k0s()),2&r){const t=c.XpG().$implicit;c.Y8G("ngClass",t.className),c.R7$(),c.JRh(t.text)}}function nq(r,e){1&r&&c.nrm(0,"br")}function rq(r,e){if(1&r&&(c.qex(0),c.DNE(1,tq,1,2,"img",123)(2,iq,2,2,"span",52)(3,nq,1,0,"br",25),c.bVm()),2&r){const t=e.$implicit;c.R7$(),c.Y8G("ngIf","img"===t.type),c.R7$(),c.Y8G("ngIf","text"===t.type),c.R7$(),c.Y8G("ngIf","br"===t.type)}}function aq(r,e){if(1&r&&(c.j41(0,"div",161)(1,"div",162),c.DNE(2,eq,2,2,"span",163),c.k0s(),c.j41(3,"div",164),c.DNE(4,rq,4,3,"ng-container",50),c.k0s()()),2&r){const t=e.$implicit,i=c.XpG(6);c.Y8G("ngClass",t.classes),c.R7$(2),c.Y8G("ngForOf",t.badges)("ngForTrackBy",i.app.trackByIndex),c.R7$(2),c.Y8G("ngForOf",t.parts)("ngForTrackBy",i.app.trackByIndex)}}function oq(r,e){if(1&r&&(c.j41(0,"div",159),c.DNE(1,aq,5,5,"div",160),c.k0s()),2&r){const t=c.XpG().$implicit,i=c.XpG(4);c.R7$(),c.Y8G("ngForOf",t.rows)("ngForTrackBy",i.app.trackByIndex)}}function sq(r,e){if(1&r){const t=c.RV6();c.j41(0,"section",152)(1,"button",153),c.bIt("click",function(){const n=A.eBV(t).$implicit,o=c.XpG(4);return A.Njj(o.app.toggleViewBattleLogGroup(n.id))}),c.j41(2,"span",154),c.EFF(3),c.k0s(),c.j41(4,"span",155)(5,"span",156),c.EFF(6),c.k0s(),c.j41(7,"span",157),c.EFF(8," \u25be "),c.k0s()()(),c.DNE(9,oq,2,2,"div",158),c.k0s()}if(2&r){const t=e.$implicit;c.R7$(),c.BMQ("aria-expanded",!t.collapsed),c.R7$(2),c.JRh(t.title),c.R7$(3),c.SpI("",t.rows.length," rows"),c.R7$(),c.AVh("log-group-chevron-collapsed",t.collapsed),c.R7$(2),c.Y8G("ngIf",!t.collapsed)}}function lq(r,e){if(1&r&&(c.j41(0,"div",150),c.DNE(1,sq,10,6,"section",151),c.k0s()),2&r){const t=c.XpG(3);c.R7$(),c.Y8G("ngForOf",t.app.viewBattleLogGroups)("ngForTrackBy",t.app.trackByIndex)}}function cq(r,e){if(1&r&&c.DNE(0,lq,2,2,"div",149),2&r){c.XpG();const t=c.sdS(55),i=c.XpG();c.Y8G("ngIf",i.app.viewBattleLogGroups.length)("ngIfElse",t)}}function uq(r,e){1&r&&(c.j41(0,"div",166),c.EFF(1," No log rows match this filter. "),c.k0s())}function dq(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",12),c.DNE(1,Mj,2,0,"div",13)(2,Rj,5,6,"div",14),c.j41(3,"div",15,0)(5,"div",16)(6,"div",17)(7,"h3",18),c.EFF(8,"Battles"),c.k0s(),c.j41(9,"label",19),c.EFF(10,"Filter battles by winner"),c.k0s(),c.j41(11,"div",20),c.DNE(12,Lj,2,7,"button",21),c.k0s()(),c.j41(13,"div",22)(14,"div",23)(15,"div",24)(16,"span"),c.EFF(17),c.k0s(),c.DNE(18,Nj,2,1,"span",25),c.k0s(),c.j41(19,"table",26)(20,"thead")(21,"tr")(22,"th"),c.EFF(23,"Winner"),c.k0s(),c.j41(24,"th"),c.EFF(25,"Random Events"),c.k0s()()(),c.j41(26,"tbody"),c.DNE(27,jj,8,12,"tr",27),c.k0s()()()()(),c.DNE(28,qj,1,0,"div",28),c.j41(29,"div",29)(30,"div",30)(31,"div",31)(32,"h3",18),c.EFF(33,"Fight Animation + Logs"),c.k0s(),c.j41(34,"div",32)(35,"button",33),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.app.toggleBattleAnalysis())}),c.EFF(36),c.k0s()()(),c.j41(37,"div",34)(38,"span",35),c.EFF(39,"Event filter"),c.k0s(),c.DNE(40,Uj,2,3,"button",36),c.k0s()(),c.j41(41,"div",37,1)(43,"div",38),c.DNE(44,j8,35,29,"ng-container",39),c.k0s(),c.j41(45,"div",40),c.bIt("pointerdown",function(n){A.eBV(t);const o=c.XpG();return A.Njj(o.onAnimationDividerPointerDown(n))})("pointermove",function(n){A.eBV(t);const o=c.XpG();return A.Njj(o.onAnimationDividerPointerMove(n))})("pointerup",function(n){A.eBV(t);const o=c.XpG();return A.Njj(o.onAnimationDividerPointerUp(n))})("pointercancel",function(n){A.eBV(t);const o=c.XpG();return A.Njj(o.onAnimationDividerPointerUp(n))})("keydown",function(n){A.eBV(t);const o=c.XpG();return A.Njj(o.onAnimationDividerKeyDown(n))}),c.k0s(),c.j41(46,"div",41),c.DNE(47,q8,1,0,"ng-container",42),c.k0s()(),c.DNE(48,U8,2,0,"ng-template",null,2,c.C5r)(50,Z8,3,2,"ng-template",null,3,c.C5r)(52,cq,1,2,"ng-template",null,4,c.C5r)(54,uq,2,0,"ng-template",null,5,c.C5r),c.k0s()()()}if(2&r){const t=c.sdS(49),i=c.sdS(51),n=c.XpG();c.R7$(),c.Y8G("ngIf",!n.isTabletTabsLayout),c.R7$(),c.Y8G("ngIf",n.isTabletTabsLayout),c.R7$(),c.AVh("bottom-container-single-column",n.isTabletTabsLayout),c.R7$(2),c.xc7("flex-basis",n.isTabletTabsLayout?null:n.leftPaneWidthPx,"px")("max-width",n.isTabletTabsLayout?null:n.leftPaneWidthPx,"px")("width",n.isTabletTabsLayout?null:n.leftPaneWidthPx,"px"),c.AVh("pane-hidden-single-column",n.isTabletTabsLayout&&"battle"!==n.activeTabletPane),c.R7$(7),c.Y8G("ngForOf",n.app.logFilterTabs)("ngForTrackBy",n.app.trackByLogTab),c.R7$(5),c.SpI("",n.app.filteredBattlesCache.length," battles"),c.R7$(),c.Y8G("ngIf",n.app.viewBattle),c.R7$(9),c.Y8G("ngForOf",n.app.filteredBattlesCache)("ngForTrackBy",n.app.trackByIndex),c.R7$(),c.Y8G("ngIf",!n.isTabletTabsLayout),c.R7$(),c.AVh("pane-hidden-single-column",n.isTabletTabsLayout&&"logs"!==n.activeTabletPane),c.R7$(7),c.SpI(" ",n.app.showBattleAnalysis?"Hide":"Show"," Analysis "),c.R7$(4),c.Y8G("ngForOf",n.app.logEventFilterOptions)("ngForTrackBy",n.app.trackByIndex),c.R7$(),c.xc7("--fight-motion-scale",n.app.fightAnimationMotionScale),c.R7$(2),c.xc7("flex-basis",n.animationTopHeightPx,"px")("max-height",n.animationTopHeightPx,"px")("height",n.animationTopHeightPx,"px"),c.R7$(),c.Y8G("ngIf",n.app.currentFightAnimationRenderFrame)("ngIfElse",t),c.R7$(3),c.Y8G("ngTemplateOutlet",i)}}let hq=(()=>{class r{app;battleSplitContainer;animationSplitContainer;logsAnalysisSplitContainer;analysisSplitContainer;leftPaneWidthPx=null;animationTopHeightPx=null;logsTopHeightPx=null;timelineTopHeightPx=null;isTabletTabsLayout=!1;activeTabletPane="battle";dividerStorageKey="sap.battleLogs.leftPaneWidthPx";tabletMediaQuery="(min-width: 768px) and (max-width: 991.98px)";minPaneWidthPx=320;minSectionHeightPx=160;resizeStartX=0;resizeStartY=0;resizeStartWidth=0;resizeContainerWidth=0;resizing=!1;animationResizing=!1;logsAnalysisResizing=!1;analysisResizing=!1;ngOnInit(){this.updateTabletTabsLayoutState()}ngAfterViewInit(){if(this.updateTabletTabsLayoutState(),typeof window>"u")return;const t=window.localStorage.getItem(this.dividerStorageKey);if(!t)return;const i=Number(t);!Number.isFinite(i)||i<=0||(this.leftPaneWidthPx=this.clampPaneWidth(i,this.getSplitContainerWidth()))}onWindowResize(){this.updateTabletTabsLayoutState(),null!=this.leftPaneWidthPx&&(this.leftPaneWidthPx=this.clampPaneWidth(this.leftPaneWidthPx,this.getSplitContainerWidth())),null!=this.animationTopHeightPx&&(this.animationTopHeightPx=this.clampSectionHeight(this.animationTopHeightPx,this.getAnimationSplitHeight())),null!=this.logsTopHeightPx&&(this.logsTopHeightPx=this.clampSectionHeight(this.logsTopHeightPx,this.getLogsAnalysisSplitHeight())),null!=this.timelineTopHeightPx&&(this.timelineTopHeightPx=this.clampSectionHeight(this.timelineTopHeightPx,this.getAnalysisSplitHeight()))}setTabletActivePane(t){this.activeTabletPane=t}onDividerPointerDown(t){if(this.isTabletTabsLayout)return;const i=t.target,n=i?.closest(".bottom-container"),o=n?.querySelector(".battle-pane");!n||!o||(this.resizing=!0,this.resizeStartX=t.clientX,this.resizeStartWidth=o.getBoundingClientRect().width,this.resizeContainerWidth=this.getSplitContainerWidth(),i.setPointerCapture?.(t.pointerId),t.preventDefault())}onDividerPointerMove(t){this.resizing&&(this.leftPaneWidthPx=this.clampPaneWidth(this.resizeStartWidth+(t.clientX-this.resizeStartX),this.resizeContainerWidth))}onDividerPointerUp(t){this.resizing&&(this.resizing=!1,t.target?.releasePointerCapture?.(t.pointerId),null!=this.leftPaneWidthPx&&typeof window<"u"&&window.localStorage.setItem(this.dividerStorageKey,`${Math.round(this.leftPaneWidthPx)}`))}onPaneDividerKeyDown(t){if(this.isTabletTabsLayout)return;const i=this.getNextSizeFromKeyboard(t,this.leftPaneWidthPx,this.getSplitContainerWidth(),this.minPaneWidthPx,this.clampPaneWidth.bind(this));null!=i&&(this.leftPaneWidthPx=i,typeof window<"u"&&window.localStorage.setItem(this.dividerStorageKey,`${Math.round(this.leftPaneWidthPx)}`))}onAnimationDividerPointerDown(t){const i=t.target,n=i?.closest(".vertical-resizable-stack"),o=n?.querySelector(".animation-top-pane");!n||!o||(this.animationResizing=!0,this.resizeStartX=t.clientX,this.resizeStartY=t.clientY,this.resizeStartWidth=o.getBoundingClientRect().height,this.resizeContainerWidth=this.getAnimationSplitHeight(),i.setPointerCapture?.(t.pointerId),t.preventDefault())}onAnimationDividerPointerMove(t){this.animationResizing&&(this.animationTopHeightPx=this.clampSectionHeight(this.resizeStartWidth+(t.clientY-this.resizeStartY),this.resizeContainerWidth))}onAnimationDividerPointerUp(t){this.animationResizing&&(this.animationResizing=!1,t.target?.releasePointerCapture?.(t.pointerId))}onAnimationDividerKeyDown(t){const i=this.getNextSizeFromKeyboard(t,this.animationTopHeightPx,this.getAnimationSplitHeight(),this.minSectionHeightPx,this.clampSectionHeight.bind(this),!0);null!=i&&(this.animationTopHeightPx=i)}onLogsAnalysisDividerPointerDown(t){const i=t.target,n=i?.closest(".vertical-resizable-stack"),o=n?.querySelector(".logs-top-pane");!n||!o||(this.logsAnalysisResizing=!0,this.resizeStartX=t.clientX,this.resizeStartY=t.clientY,this.resizeStartWidth=o.getBoundingClientRect().height,this.resizeContainerWidth=this.getLogsAnalysisSplitHeight(),i.setPointerCapture?.(t.pointerId),t.preventDefault())}onLogsAnalysisDividerPointerMove(t){this.logsAnalysisResizing&&(this.logsTopHeightPx=this.clampSectionHeight(this.resizeStartWidth+(t.clientY-this.resizeStartY),this.resizeContainerWidth))}onLogsAnalysisDividerPointerUp(t){this.logsAnalysisResizing&&(this.logsAnalysisResizing=!1,t.target?.releasePointerCapture?.(t.pointerId))}onLogsAnalysisDividerKeyDown(t){const i=this.getNextSizeFromKeyboard(t,this.logsTopHeightPx,this.getLogsAnalysisSplitHeight(),this.minSectionHeightPx,this.clampSectionHeight.bind(this),!0);null!=i&&(this.logsTopHeightPx=i)}onAnalysisDividerPointerDown(t){const i=t.target,n=i?.closest(".vertical-resizable-stack"),o=n?.querySelector(".timeline-top-pane");!n||!o||(this.analysisResizing=!0,this.resizeStartX=t.clientX,this.resizeStartY=t.clientY,this.resizeStartWidth=o.getBoundingClientRect().height,this.resizeContainerWidth=this.getAnalysisSplitHeight(),i.setPointerCapture?.(t.pointerId),t.preventDefault())}onAnalysisDividerPointerMove(t){this.analysisResizing&&(this.timelineTopHeightPx=this.clampSectionHeight(this.resizeStartWidth+(t.clientY-this.resizeStartY),this.resizeContainerWidth))}onAnalysisDividerPointerUp(t){this.analysisResizing&&(this.analysisResizing=!1,t.target?.releasePointerCapture?.(t.pointerId))}onAnalysisDividerKeyDown(t){const i=this.getNextSizeFromKeyboard(t,this.timelineTopHeightPx,this.getAnalysisSplitHeight(),this.minSectionHeightPx,this.clampSectionHeight.bind(this),!0);null!=i&&(this.timelineTopHeightPx=i)}getSplitContainerWidth(){return this.battleSplitContainer?.nativeElement.getBoundingClientRect().width??0}getAnimationSplitHeight(){return this.animationSplitContainer?.nativeElement.getBoundingClientRect().height??0}getLogsAnalysisSplitHeight(){return this.logsAnalysisSplitContainer?.nativeElement.getBoundingClientRect().height??0}getAnalysisSplitHeight(){return this.analysisSplitContainer?.nativeElement.getBoundingClientRect().height??0}updateTabletTabsLayoutState(){this.isTabletTabsLayout=this.isTabletViewport()}isTabletViewport(){return!(typeof window>"u"||"function"!=typeof window.matchMedia)&&window.matchMedia(this.tabletMediaQuery).matches}clampPaneWidth(t,i){if(!Number.isFinite(i)||i<=0)return Math.max(this.minPaneWidthPx,t);const n=Math.max(this.minPaneWidthPx,i-this.minPaneWidthPx);return Math.min(n,Math.max(this.minPaneWidthPx,t))}clampSectionHeight(t,i){if(!Number.isFinite(i)||i<=0)return Math.max(this.minSectionHeightPx,t);const n=Math.max(this.minSectionHeightPx,i-this.minSectionHeightPx);return Math.min(n,Math.max(this.minSectionHeightPx,t))}getNextSizeFromKeyboard(t,i,n,o,a,l=!1){const d=t.shiftKey?48:24,p=o,b=Math.max(o,n-o),T=i??a(n/2,n);let F=null;return t.key===(l?"ArrowUp":"ArrowLeft")?F=T-d:t.key===(l?"ArrowDown":"ArrowRight")?F=T+d:"Home"===t.key?F=p:"End"===t.key&&(F=b),null==F?null:(t.preventDefault(),a(F,n))}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=c.VBU({type:r,selectors:[["app-shell-battle-results"]],viewQuery:function(i,n){if(1&i&&c.GBs(kj,5)(wj,5)(Tj,5)(Ej,5),2&i){let o;c.mGM(o=c.lsd())&&(n.battleSplitContainer=o.first),c.mGM(o=c.lsd())&&(n.animationSplitContainer=o.first),c.mGM(o=c.lsd())&&(n.logsAnalysisSplitContainer=o.first),c.mGM(o=c.lsd())&&(n.analysisSplitContainer=o.first)}},hostBindings:function(i,n){1&i&&c.bIt("resize",function(){return n.onWindowResize()},c.tSv)},inputs:{app:"app"},decls:1,vars:1,consts:[["battleSplitContainer",""],["animationSplitContainer",""],["noAnimationFrames",""],["logsView",""],["groupedLogsTemplate",""],["noFilteredLogs",""],["noRandomEvents",""],["fallbackFightEventText",""],["logsOnlyView",""],["logsAnalysisSplitContainer",""],["analysisSplitContainer",""],["class","bottom-container-scroll",4,"ngIf"],[1,"bottom-container-scroll"],["class","bottom-container-scroll-hint","aria-hidden","true",4,"ngIf"],["class","pane-switch-tabs","role","tablist","aria-label","Battle results sections",4,"ngIf"],[1,"row","flex-1","bottom-container","g-0"],[1,"col-12","col-md-6","h-100","flex-col","pe-0","battle-pane"],[1,"pane-top-shell","battle-top-shell"],[1,"pane-title"],["for","logFilter",1,"pane-subtitle"],["id","logFilter",1,"log-filter-tabs"],["type","button","class","log-filter-tab",3,"active","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"battle-container","flex-1"],[1,"battle-table-shell"],[1,"battle-table-meta"],[4,"ngIf"],[1,"table","battle-table","mb-0"],["class","table-battle-row",3,"ngClass","selected-battle","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","battle-log-divider","role","separator","aria-label","Resize battle and logs panes","aria-orientation","vertical","tabindex","0",3,"pointerdown","pointermove","pointerup","pointercancel","keydown",4,"ngIf"],[1,"col-12","col-md-6","h-100","flex-col","logs-pane"],[1,"pane-top-shell","logs-top-shell"],[1,"d-flex","align-items-center","justify-content-between","battle-view-header"],[1,"d-flex","align-items-center","gap-2"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"log-event-filters"],[1,"log-event-filter-label"],["type","button","class","log-event-filter-btn",3,"active","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"vertical-resizable-stack"],[1,"animation-top-pane"],[4,"ngIf","ngIfElse"],["role","separator","aria-label","Resize animation and logs","aria-orientation","horizontal","tabindex","0",1,"horizontal-resize-divider",3,"pointerdown","pointermove","pointerup","pointercancel","keydown"],[1,"animation-bottom-pane"],[4,"ngTemplateOutlet"],["aria-hidden","true",1,"bottom-container-scroll-hint"],["role","tablist","aria-label","Battle results sections",1,"pane-switch-tabs"],["type","button","role","tab",1,"pane-switch-tab",3,"click"],["type","button",1,"log-filter-tab",3,"click","ngClass"],[1,"table-battle-row",3,"click","ngClass"],[1,"battle-winner-chip",3,"ngClass"],[1,"battle-random-cell"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","log-inline-icon","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],[3,"ngClass",4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async",1,"log-inline-icon",3,"ngSrc","alt"],[3,"ngClass"],[1,"battle-no-random"],["role","separator","aria-label","Resize battle and logs panes","aria-orientation","vertical","tabindex","0",1,"battle-log-divider",3,"pointerdown","pointermove","pointerup","pointercancel","keydown"],["type","button",1,"log-event-filter-btn",3,"click"],[1,"fight-stage"],[1,"fight-team","fight-team-opponent"],[1,"fight-team-toy-wrap"],["class","fight-team-toy","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-team-toy fight-team-toy-hard","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-slot",3,"ngClass","--fight-shift-steps",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fight-event"],[1,"fight-event-type"],[1,"fight-event-text"],[1,"fight-event-step"],[1,"fight-team","fight-team-player","fight-team-player-head-to-head"],[1,"fight-controls"],["role","group","aria-label","Animation controls",1,"btn-group","btn-group-sm"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["role","group","aria-label","Animation speed",1,"btn-group","btn-group-sm","fight-speed-controls"],["class","btn btn-outline-secondary","type","button",3,"active","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fight-scrubber"],["type","range",1,"form-range",3,"input","min","max","value"],["width","24","height","24","loading","lazy","decoding","async",1,"fight-team-toy",3,"ngSrc","alt"],["width","24","height","24","loading","lazy","decoding","async",1,"fight-team-toy","fight-team-toy-hard",3,"ngSrc","alt"],[1,"fight-slot",3,"ngClass"],[1,"fight-slot-label"],[1,"fight-slot-art"],["class","fight-slot-icon","width","42","height","42","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-slot-companion","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-slot-empty",4,"ngIf"],["class","fight-slot-equipment","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-equipment-ghost",4,"ngIf"],["class","fight-equipment-gain-ghost",4,"ngIf"],["class","fight-snipe-impact",4,"ngIf"],["class","fight-faint-ghost",4,"ngIf"],["class","fight-slot-stats",4,"ngIf"],["width","42","height","42","loading","lazy","decoding","async",1,"fight-slot-icon",3,"ngSrc","alt"],["width","16","height","16","loading","lazy","decoding","async",1,"fight-slot-companion",3,"ngSrc","alt"],[1,"fight-slot-empty"],["width","16","height","16","loading","lazy","decoding","async",1,"fight-slot-equipment",3,"ngSrc","alt"],[1,"fight-equipment-ghost"],["class","fight-equipment-ghost-icon","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async",1,"fight-equipment-ghost-icon",3,"ngSrc","alt"],[1,"fight-equipment-gain-ghost"],["class","fight-equipment-gain-icon","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async",1,"fight-equipment-gain-icon",3,"ngSrc","alt"],[1,"fight-snipe-impact"],["alt","","aria-hidden","true","width","20","height","20","loading","lazy","decoding","async",1,"fight-snipe-impact-icon",3,"ngSrc"],[1,"fight-value-popup"],["class","fight-value-popup-icon","alt","","aria-hidden","true","width","14","height","14","loading","lazy","decoding","async",3,"ngSrc",4,"ngIf"],[1,"fight-value-popup-number"],["alt","","aria-hidden","true","width","14","height","14","loading","lazy","decoding","async",1,"fight-value-popup-icon",3,"ngSrc"],[1,"fight-faint-ghost"],["class","fight-faint-icon","width","40","height","40","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-faint-companion","width","14","height","14","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["width","40","height","40","loading","lazy","decoding","async",1,"fight-faint-icon",3,"ngSrc","alt"],["width","14","height","14","loading","lazy","decoding","async",1,"fight-faint-companion",3,"ngSrc","alt"],[1,"fight-slot-stats"],["class","fight-slot-stat",4,"ngIf"],["class","fight-slot-stat fight-slot-exp",4,"ngIf"],[1,"fight-slot-stat"],["alt","","aria-hidden","true","width","14","height","14","loading","lazy","decoding","async",1,"fight-slot-stat-icon",3,"ngSrc"],[1,"fight-slot-stat","fight-slot-exp"],[1,"fight-slot-exp-group"],["aria-hidden","true",1,"fight-slot-exp-levels"],[1,"fight-slot-exp-level"],["role","img",1,"fight-slot-exp-bar"],[1,"fight-slot-exp-segment"],["class","log-pet-icon","width","18","height","18","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["width","18","height","18","loading","lazy","decoding","async",1,"log-pet-icon",3,"ngSrc","alt"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fight-empty-state"],["class","vertical-resizable-stack logs-analysis-stack",4,"ngIf","ngIfElse"],[1,"vertical-resizable-stack","logs-analysis-stack"],[1,"log-container","scroll","logs-top-pane"],["role","separator","aria-label","Resize logs and analysis","aria-orientation","horizontal","tabindex","0",1,"horizontal-resize-divider",3,"pointerdown","pointermove","pointerup","pointercancel","keydown"],[1,"analysis-bottom-pane"],[1,"vertical-resizable-stack","analysis-sections-stack"],[1,"analysis-section","mt-2","timeline-top-pane"],[1,"analysis-title"],[1,"analysis-table-wrap","scroll"],[1,"table","table-sm","analysis-table","mb-0"],[3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","separator","aria-label","Resize trigger timeline and battle diff","aria-orientation","horizontal","tabindex","0",1,"horizontal-resize-divider",3,"pointerdown","pointermove","pointerup","pointercancel","keydown"],[1,"analysis-section","mt-2","diff-bottom-pane","scroll"],[1,"diff-controls"],[1,"diff-label"],[1,"form-select","form-select-sm","diff-select",3,"ngModelChange","ngModel","ngModelOptions"],[3,"ngValue",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngValue"],[1,"player-side-text",3,"ngValue"],[1,"opponent-side-text",3,"ngValue"],[1,"diff-summary"],[1,"log-container","flex-1","scroll"],["class","log-groups",4,"ngIf","ngIfElse"],[1,"log-groups"],["class","log-group",4,"ngFor","ngForOf","ngForTrackBy"],[1,"log-group"],["type","button",1,"log-group-header",3,"click"],[1,"log-group-title"],[1,"log-group-meta"],[1,"log-group-count"],["aria-hidden","true",1,"log-group-chevron"],["class","log-group-body",4,"ngIf"],[1,"log-group-body"],["class","log-row",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"log-row",3,"ngClass"],[1,"log-row-meta"],["class","log-badge",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"log-row-text"],[1,"log-badge",3,"ngClass"],[1,"log-empty-state"]],template:function(i,n){1&i&&c.DNE(0,dq,56,35,"div",11),2&i&&c.Y8G("ngIf",n.app.simulated)},dependencies:[Ct.MD,Ct.YU,Ct.Sq,Ct.bT,Ct.T3,X.YN,X.xH,X.y7,X.wz,X.BC,X.vS,Ti],encapsulation:2})}return r})();const MN="assets/art/Public/Public/Toys/",gq=["AboveCloudsBattle.png","ArcticBattle.png","AutumnForestBattle.png","BeachBattle.png","BridgeBattle.png","CastleWallBattle.png","CaveBattle.png","ColosseumBattle.png","CornFieldBattle.png","DesertBattle.png","DungeonBattle.png","FarmBattle.png","FieldBattle.png","FoodLandBattle.png","FrontYardBattle.png","HalloweenStreetBattle.png","JungleBattle.png","LavaCaveBattle.png","LavaMountainBattle.png","MoneyBinBattle.png","MoonBattle.png","PagodaBattle.png","PlaygroundBattle.png","SavannaBattle.png","ScaryForestBattle.png","SnowBattle.png","SpaceStationBattle.png","UnderwaterBattle.png","UrbanCityBattle.png","WildWestTownBattle.png","WinterPineForestBattle.png","WizardSchoolBattle.png"],mq=[{label:"None",value:null},{label:"Player",value:"player"},{label:"Opponent",value:"opponent"},{label:"Draw",value:"draw"}];function RN(...r){for(const e of r){const t=_q(e.name);if(t)return{name:t,level:Sq(e.level)}}return{name:null,level:1}}function _q(r){return"string"!=typeof r?null:r.trim().length>0?r:null}function Sq(r){const e=Number(r);return Number.isFinite(e)?Math.max(1,Math.min(3,Math.trunc(e))):1}var t_=w(7033);function kR(r){return Math.ceil(100*r)/100}function nT(r){return`${(r.rawMessage??r.message??"").replace(/<[^>]+>/g,"")}${r.count&&r.count>1?` (x${r.count})`:""}`.trim()}function rT(r,e){const t="source"===e?r.sourceIndex:r.targetIndex,i="source"===e?r.sourcePet:r.targetPet;return null!=t?`${i?.parent?.isOpponent??("source"===e?r.player?.isOpponent:r.targetPet?.parent?.isOpponent)?"O":"P"}${t}${i?.name?` ${i.name}`:""}`:i?.name?i.name:"source"===e&&r.player?r.player.isOpponent?"Opponent":"Player":"-"}function LN(r){return!0===r.randomEvent?function Pq(r){return"tie-broken"===r.randomEventReason?"tie-broken":"deterministic"===r.randomEventReason?"deterministic":"true random"}(r):"deterministic"}function NN(r,e){return(r?.logs??[]).filter(i=>"all"===e||FN(i)===e).map(i=>{const n=rT(i,"source"),o=rT(i,"target"),a=LN(i);return`${i.type} | ${n} -> ${o} | ${a} | ${nT(i)}`})}function FN(r){return r.player?r.player.isOpponent?"opponent":"player":!0===r.playerIsOpponent?"opponent":!1===r.playerIsOpponent?"player":"unknown"}function aT(r){return"player"===r||"opponent"===r?r:"all"}function ON(r){const e=r.playerWinner+r.opponentWinner+r.draw;return 0===e?0:kR(r.draw/e*100)}function wR(r){const e=r.playerWinner+r.opponentWinner+r.draw;return 0===e?0:kR(r.opponentWinner/e*100)}const Cq={equalSteps:0,changedSteps:0,leftOnly:0,rightOnly:0};function BN(r){const e=[],t=/<img\b[^>]*>/gi;let n,i=0;const o=function Fq(r){return r.split(/(<[^>]+>)/g).map(e=>e.startsWith("<")?e:e.replace(Lq,(i,n)=>{const o=e.slice(0,n);return/\bjump[-\s]?$/i.test(o)?i:`${Mq} ${i}`}).replace(Nq,`${Rq} $&`)).join("")}(r);for(;n=t.exec(o);){$N(e,o.slice(i,n.index));const l=n[0],d=/src=["']([^"']+)["']/i.exec(l),p=/alt=["']([^"']*)["']/i.exec(l);e.push({type:"img",src:d?.[1]??"",alt:p?.[1]??""}),i=n.index+l.length}return $N(e,o.slice(i)),e}function $N(r,e){if(!e)return;const n=e.replace(/<br\s*\/?>/gi,"\n").replace(/<[^>]+>/g,"").split("\n");n.forEach((o,a)=>{o&&function xq(r,e){const t=/^(\[(?:[PO][1-5](?:->[PO][1-5])?|->[PO][1-5])\]\s*)([\s\S]*)$/.exec(e);if(!t)return void r.push({type:"text",text:e});const i=t[1]??"",n=t[2]??"";i&&r.push({type:"text",text:i,className:"log-position-prefix"}),n&&r.push({type:"text",text:n})}(r,o),a<n.length-1&&r.push({type:"br"})})}const Mq='<img src="assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/fist.png" alt="Attack" />',Rq='<img src="assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/heart.png" alt="Health" />',Lq=/\battack(?:s|ed|ing)?\b/gi,Nq=/\bhealth\b/gi,TR=new WeakMap,i_=new Map,GN=new WeakMap,HN={attack:"Attack",move:"Move",board:"Board",death:"Death",ability:"Ability",equipment:"Equipment",trumpets:"Trumpets"};function jN(r){return"board"===r||"attack"===r||"ability"===r||"equipment"===r||"death"===r||"random"===r?r:"all"}function ER(r){const e=r.formGroup.get("showPositionalArgsInLogs");return!e||!1!==e.value}function qN(r){return r.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"unknown"}function Gq(r,e,t,i){const o=[{text:e,className:"log-badge-side "+("P"===e?"log-badge-side-player":"O"===e?"log-badge-side-opponent":"log-badge-side-unknown")},{text:HN[r]??r,className:`log-badge-type log-badge-type-${qN(r)}`}];return t&&o.push({text:"Random",className:"log-badge-random"}),i&&o.push({text:"Phase",className:"log-badge-phase"}),o}function Hq(r,e){return"all"===e||("random"===e?r.randomEvent:r.type===e)}function UN(r,e,t){r.simulationInProgress=!0,r.simulationCancelRequested=!1,r.simulationProgress=0,r.simulationProgressLabel=e;const i=(r.simulationRunId??0)+1;return r.simulationRunId=i,r.setStatus?.(t,"success"),r.markForCheck?.(),i}function Mc(r,e){return r.simulationRunId===e}function n_(r,e,t){r.simulationInProgress=!1,r.simulationCancelRequested=!1,r.setStatus?.(e,t),r.markForCheck?.()}function qq(r,e){return r===e?"same":r&&e?"changed":r?"left-only":"right-only"}function Uq(r,e){"same"===e?r.equalSteps+=1:"changed"===e?r.changedSteps+=1:"left-only"===e?r.leftOnly+=1:"right-only"===e&&(r.rightOnly+=1)}function VN(r,e){return null!=r&&null!=e&&Number.isFinite(e)?`${r?"O":"P"}${Math.min(Math.max(1,Math.trunc(e)),5)}`:null}function WN(r,e,t){e&&e.decorateLogIfNeeded(r);const i=function Vq(r,e){if(!e)return"";const t=`${r.rawMessage??r.message??""}`.replace(/<[^>]+>/g,"");if(/\b[PO][1-5]\b/.test(t))return"";const i=VN(function Kq(r){if(!0===r.player?.isOpponent)return!0;if(!1===r.player?.isOpponent)return!1;if(!0===r.playerIsOpponent)return!0;if(!1===r.playerIsOpponent)return!1;const e=r.sourcePet?.parent?.isOpponent;return!0===e||!1!==e&&null}(r),r.sourceIndex),n=VN(function zq(r){const e=r.targetPet?.parent?.isOpponent;return!0===e||!1!==e&&(!0===r.targetIsOpponent||!1!==r.targetIsOpponent&&null)}(r),r.targetIndex);return i&&n?`[${i}->${n}] `:i?`[${i}] `:n?`[->${n}] `:""}(r,t),n=function Wq(r){return r.replace(/\[([^\]]+)\]/g,(e,t)=>{const i=`${t??""}`.replace(/&[a-z0-9#]+;/gi,"").replace(/[\s\u200b-\u200d\u2060\ufeff]+/gi,"").toUpperCase();if(!i)return e;const n=/^([PO][1-5])->([PO][1-5])$/.exec(i);if(n)return`[${n[1]}->${n[2]}]`;const o=/^([PO][1-5])$/.exec(i);if(o)return`[${o[1]}]`;const a=/^->([PO][1-5])$/.exec(i);return a?`[->${a[1]}]`:e})}(`${i}${r.message}`+(r.count>1?` (x${r.count})`:"")),o=TR.get(r);if(o&&o.message===n)return o.parts;const a=i_.get(n);if(a)return TR.set(r,{message:n,parts:a}),a;const l=BN(n);return TR.set(r,{message:n,parts:l}),function jq(r,e){if(i_.set(r,e),i_.size<=1e3)return;const t=i_.keys().next().value;t&&i_.delete(t)}(n,l),l}function oT(r){r.logEventFilter=jN(r.logEventFilter),r.collapsedLogGroupIds||(r.collapsedLogGroupIds=new Set);const e=r.logEventFilter,t=r.collapsedLogGroupIds,i=[],n=new Map;for(const o of r.viewBattleLogRows){if(!Hq(o,e))continue;let a=n.get(o.groupId);a||(a={id:o.groupId,title:o.groupTitle,rows:[],collapsed:t.has(o.groupId)},n.set(o.groupId,a),i.push(a)),a.rows.push(o)}r.viewBattleLogGroups=i}function KN(r,e=1e3,t){r.simulationBattleAmt=e,r.localStorageService.setFormStorage(r.formGroup);const i=r.simulationService.runSimulation(r.formGroup,e,r.player,r.opponent,t);CR(r,i)}function zN(r,e=1e3){if(r.simulationInProgress)return;r.simulationBattleAmt=e,r.localStorageService.setFormStorage(r.formGroup);const t=UN(r,`0 / ${e}`,"Simulation started..."),i=r.simulationService.runSimulationInWorker(r.formGroup,e,r.player,r.opponent,{onProgress:n=>{if(!Mc(r,t))return;const o=n.total?Math.floor(n.completed/n.total*100):0;r.simulationProgress=o,r.simulationProgressLabel=`${n.completed} / ${n.total}`,r.playerWinner=n.playerWins,r.opponentWinner=n.opponentWins,r.draw=n.draws,r.markForCheck?.()},onResult:n=>{Mc(r,t)&&(Rd(r),CR(r,n),r.simulationProgress=100,r.simulationProgressLabel=`${e} / ${e}`,n_(r,"Simulation finished.","success"))},onAborted:n=>{Mc(r,t)&&(Rd(r),CR(r,n),n_(r,"Simulation cancelled.","error"))},onError:n=>{Mc(r,t)&&(Rd(r),n_(r,n||"Simulation failed.","error"))}},{progressInterval:50});r.simulationWorker=i}function Rd(r){r.simulationWorker&&r.simulationWorker.terminate(),r.simulationWorker=null}function YN(r,e){const i=r.formGroup.get("player"===e.side?"playerPets":"opponentPets");!i||!e.bestPermutation||(function iU(r,e){const t=r.controls.slice(),i=t.map(o=>o.value),n=new Set;for(let o=0;o<t.length;o+=1){const l=nU(i,e[o]??null,n);-1!==l&&(n.add(l),r.setControl(o,t[l]))}r.updateValueAndValidity()}(i,e.bestPermutation.lineup),r.afterPositioningApplied?.())}function nU(r,e,t){const i=XN(e);for(let n=0;n<r.length;n+=1)if(!t.has(n)&&XN(r[n]??null)===i)return n;return-1}function XN(r){if(!r||"object"!=typeof r)return"empty";if("string"!=typeof r.name||!r.name)return"empty";const t=r.equipment;return JSON.stringify({name:r.name??null,attack:r.attack??null,health:r.health??null,exp:r.exp??null,equipment:(t&&"object"==typeof t?"string"==typeof t.name?t.name:null:t??null)??null,equipmentUses:r.equipmentUses??null,belugaSwallowedPet:r.belugaSwallowedPet??null,parrotCopyPet:r.parrotCopyPet??null,mana:r.mana??null,triggersConsumed:r.triggersConsumed??null,foodsEaten:r.foodsEaten??null,battlesFought:r.battlesFought??null,timesHurt:r.timesHurt??null})}function CR(r,e){r.playerWinner=e.playerWins,r.opponentWinner=e.opponentWins,r.draw=e.draws,r.battles=e.battles||[];const t=ER(r),i=new Map;r.battleRandomEvents=r.battles.map(n=>{const o=QN(n,r.logService,t);return i.set(n,o),o}),r.battleRandomEventsByBattle=i,JN(r),r.viewBattle=e.battles?.[0]||null,r.viewBattleLogs=r.viewBattle?.logs??[],r.collapsedLogGroupIds=new Set,sT(r),xR(r),r.refreshFightAnimationFromViewBattle?.(),r.diffBattleLeftIndex=0,r.diffBattleRightIndex=r.battles.length>1?1:0,pm(r),r.simulated=!0,r.randomDecisions=(e.randomDecisions??[]).filter(n=>Array.isArray(n.options)&&n.options.length>1),r.randomOverrideError=e.randomOverrideError??null,r.showRandomOverrides=r.randomDecisions.length>0}function sT(r){const e=ER(r);if(r.viewBattle){const i=GN.get(r.viewBattle);if(i&&i.logs===r.viewBattleLogs&&i.includePositionPrefix===e)return r.viewBattleLogRows=i.rows,void oT(r)}const t=function Yq(r,e){let t="phase-0",i="Battle",n=0;return r.viewBattleLogs.map((o,a)=>{const l=nT(o),d=function $q(r){const e=`${r??""}`.trim();return/^Phase\s+\d+\s*:/i.test(e)?e:null}(l);d&&(n+=1,t=`phase-${n}`,i=d);const p=function kq(r){return null==r.player?!0===r.playerIsOpponent?"log-opponent":!1===r.playerIsOpponent?"log-player":"log":r.player.isOpponent?"log-opponent":"log-player"}(o),b=function Bq(r){return"log-player"===r?"P":"log-opponent"===r?"O":"-"}(p),T=!0===o.randomEvent,F="board"===o.type,U=!!d,Z=["log-entry",p,`log-type-${qN(o.type)}`,T?"random-event":"",F?"log-row-board":"",U?"log-phase-marker":""].filter(Boolean);return{parts:WN(o,r.logService,e),classes:Z,logIndex:a,type:o.type,typeLabel:HN[o.type]??o.type,sideLabel:b,rawText:l,randomEvent:T,isBoard:F,isPhaseMarker:U,phaseTitle:d,groupId:t,groupTitle:i,badges:Gq(o.type,b,T,U)}})}(r,e);r.viewBattleLogRows=t,oT(r),r.viewBattle&&GN.set(r.viewBattle,{logs:r.viewBattleLogs,rows:t,includePositionPrefix:e})}function xR(r){const e=r.viewBattle?.logs??[],t=e.filter(n=>"ability"===n.type||"equipment"===n.type||"attack"===n.type);r.viewBattleTimelineRows=(t.length>0?t:e).map((n,o)=>({step:o+1,source:rT(n,"source"),target:rT(n,"target"),reason:LN(n),text:nT(n),side:FN(n)}))}function pm(r){const e=lT(r,r.diffBattleLeftIndex),t=lT(r,r.diffBattleRightIndex);r.diffBattleLeftIndex=e,r.diffBattleRightIndex=t;const n=r.battles[t],o=NN(r.battles[e],aT(r.diffBattleLeftScope)),a=NN(n,aT(r.diffBattleRightScope)),l=Math.max(o.length,a.length),d=[],p={...Cq};for(let b=0;b<l;b++){const T=o[b]??"",F=a[b]??"",U=qq(T,F);d.push({step:b+1,left:T,right:F,same:"same"===U,kind:U}),Uq(p,U)}r.battleDiffRows=d,r.battleDiffSummary=p}function JN(r){const e=r.formGroup.get("logFilter")?.value??null;r.filteredBattlesCache=null==e?r.battles:r.battles.filter(t=>t.winner===e)}function QN(r,e,t=!1){const i=r.logs.filter(a=>!0===a.randomEvent),n=[],o=e?.isShowTriggerNamesInLogs()??!1;return i.forEach((a,l)=>{o&&n.push({type:"text",text:`[${"tie-broken"===a.randomEventReason?"tie-broken":"deterministic"===a.randomEventReason?"deterministic":"true random"}] `}),n.push(...WN(a,e,t)),l<i.length-1&&n.push({type:"br"})}),n}function lT(r,e){return Array.isArray(r.battles)&&0!==r.battles.length&&Number.isFinite(e)?Math.min(Math.max(0,Math.trunc(e)),r.battles.length-1):0}function ZN(r){const e=new Map,t=[];return r.filter(i=>!!i).sort((i,n)=>n.length-i.length).forEach(i=>{e.set(i.toLowerCase(),i),t.push(function dU(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(i))}),0===t.length?{regex:null,canonicalByLower:e}:{regex:new RegExp(`(?<![A-Za-z0-9])(${t.join("|")})(?![A-Za-z0-9])`,"gi"),canonicalByLower:e}}function Qs(r,e){if(!r||!e.regex)return[];const t=new RegExp(e.regex.source,e.regex.flags),i=[];let n;for(;n=t.exec(r);){const o=n[1];if(!o)continue;const a=e.canonicalByLower.get(o.toLowerCase())??o;i.push(a)}return i}const hU=new Set(Object.values(qo).flat().filter(Boolean)),r_=ZN(No()),cT=ZN(Au());function Gr(r){return Number.isFinite(r)?Math.min(Math.max(0,Math.trunc(r)),4):0}function uT(r,e){return`${"player"===r?"P":"O"}${e+1}`}function _r(r){return`${r??""}`.trim().toLowerCase()}function Yo(r){return r&&r.replace(/^[PO]\d+\s+/i,"").trim().replace(/^[Aa]n?\s+/,"").replace(/[.!,:;]+$/,"").trim()||null}function DR(r,e){const t=new RegExp(`${e}="([^"]*)"`,"i").exec(r);if(t)return t[1];const i=new RegExp(`${e}='([^']*)'`,"i").exec(r);return i?i[1]:null}function Zs(r,e){return"player"===e?r.playerSlots:r.opponentSlots}function IR(r,e,t){return Zs(r,e)[Gr(t)]}function a_(r,e){const t=_r(e??null);if(!t)return-1;for(let i=0;i<r.length;i+=1)if(_r(r[i].petName)===t)return i;return-1}function dT(r,e){return _r(r.petName)===e}function Rc(r){return r?cr(r,hU.has(r)):null}function eF(r,e=null){const t=`${r??""}`.trim();if(!t)return{petIconSrc:e,petCompanionIconSrc:null,petCompanionName:null};const i=rn(t);if(i)return{petIconSrc:i,petCompanionIconSrc:null,petCompanionName:null};const n=function pU(r){if(!r.includes("'")&&!r.includes("\u2019"))return[r];return r.split(/\s*(?:'|\u2019)s\s+/i).map(t=>t.trim()).filter(t=>!!t)}(t);if(n.length<2)return{petIconSrc:e,petCompanionIconSrc:null,petCompanionName:null};const o=n.map(b=>Yo(b)).filter(b=>!!b);if(o.length<2)return{petIconSrc:e,petCompanionIconSrc:null,petCompanionName:null};let a=null,l=null;for(const b of o){const T=rn(b);if(T){a=b,l=T;break}}let d=null,p=null;for(let b=o.length-1;b>=0;b-=1){const T=o[b];if(a&&_r(T)===_r(a))continue;const F=rn(T);if(F){d=T,p=F;break}}return{petIconSrc:l??e,petCompanionIconSrc:p,petCompanionName:p?d:null}}function tF(r){const e=[];for(let t=0;t<5;t+=1)e.push({side:r,slot:t,isEmpty:!0,pendingRemoval:!1,attack:null,health:null,exp:null,mana:null,petIconSrc:null,petName:null,petCompanionIconSrc:null,petCompanionName:null,equipmentIconSrc:null,equipmentName:null,label:null});return e}function iF(r){return r.map(e=>({...e}))}function nF(r,e){Zs(r,e).forEach(i=>{i.pendingRemoval&&function gU(r){r.isEmpty=!0,r.pendingRemoval=!1,r.attack=null,r.health=null,r.exp=null,r.mana=null,r.petIconSrc=null,r.petName=null,r.petCompanionIconSrc=null,r.petCompanionName=null,r.equipmentIconSrc=null,r.equipmentName=null,r.label=null}(i)})}function Ld(r,e){r.isEmpty=!1,r.petName=e;const t=eF(e);r.petIconSrc=t.petIconSrc,r.petCompanionIconSrc=t.petCompanionIconSrc,r.petCompanionName=t.petCompanionName,r.label=uT(r.side,r.slot)}function o_(r,e){r.isEmpty=!1,r.equipmentName=e,r.equipmentIconSrc=Rc(e),r.label=uT(r.side,r.slot)}function hT(r){r.equipmentName=null,r.equipmentIconSrc=null}function rF(r,e){const t=Zs(r,e),i=t.map((a,l)=>({slot:a,index:l})).filter(a=>!a.slot.isEmpty).map(a=>({value:{...a.slot},fromSlot:a.index})),n=tF(e),o=[];i.forEach((a,l)=>{const d=Gr(l);a.fromSlot!==d&&o.push({side:e,slot:d,fromSlot:a.fromSlot}),n[d]={...a.value,side:e,slot:d,label:uT(e,d),isEmpty:!1}});for(let a=0;a<t.length;a+=1)t[a]=n[a];return o}function Xo(r){return s_(r.player?.isOpponent)??s_(r.playerIsOpponent)??s_(r.sourcePet?.parent?.isOpponent)??"player"}function aF(r){return s_(r.targetPet?.parent?.isOpponent)??s_(r.targetIsOpponent)}function s_(r){return!0===r?"opponent":!1===r?"player":null}function pT(r,e,t,i,n,o){const a="player"===i?"opponent":"player",l=aF(e);if(l)return l;const d=function bU(r,e){if(null==e||!Number.isFinite(e))return null;const t=Math.min(Math.max(1,Math.trunc(e)),5),i=new RegExp(`\\b([PO])${t}\\b`,"i").exec(r);return i?function yU(r){return r.startsWith("P")?"player":r.startsWith("O")?"opponent":null}(i[1].toUpperCase()):null}(t,e.targetIndex??null);if(d)return d;if(/\benemy|opponent\b/i.test(t))return a;if(/\bfriend|friendly|self|itself|ally\b/i.test(t))return i;if(null!=e.targetIndex){const p=Gr(e.targetIndex-1),b=IR(r,i,p),T=IR(r,a,p),F=_r(n);if(F){const U=dT(b,F);if(U!==dT(T,F))return U?i:a}if(b.isEmpty&&!T.isEmpty)return a;if(!b.isEmpty&&T.isEmpty)return i}if(n){const p=a_(Zs(r,i),n),b=a_(Zs(r,a),n);if(-1!==p&&-1===b)return i;if(-1!==b&&-1===p)return a}return"opposite"===o?a:i}function Hr(r,e){const t=e.preferredSide,i="player"===t?"opponent":"player",n=Zs(r,t),o=Zs(r,i),a=_r(e.expectedName??null);if(null!=e.explicitIndex){const l=Gr(e.explicitIndex-1),d=n[l],p=o[l];if(a){const b=dT(d,a),T=dT(p,a);if(b&&!T)return{side:t,slot:l,value:d};if(T&&!b)return{side:i,slot:l,value:p}}if(e.preferNonEmpty){if(d.isEmpty&&!p.isEmpty)return{side:i,slot:l,value:p};if(!d.isEmpty&&p.isEmpty)return{side:t,slot:l,value:d}}return{side:t,slot:l,value:d}}if(a){const l=a_(n,e.expectedName??null);if(-1!==l)return{side:t,slot:l,value:n[l]};const d=a_(o,e.expectedName??null);if(-1!==d)return{side:i,slot:d,value:o[d]}}if(e.preferNonEmpty){const l=n.findIndex(p=>!p.isEmpty);if(-1!==l)return{side:t,slot:l,value:n[l]};const d=o.findIndex(p=>!p.isEmpty);if(-1!==d)return{side:i,slot:d,value:o[d]}}return null}function oF(r){return r.replace(/\[([^\]]+)\]/g,(e,t)=>{const i=`${t??""}`.replace(/&[a-z0-9#]+;/gi,"").replace(/[\s\u200b-\u200d\u2060\ufeff]+/gi,"").toUpperCase();if(!i)return e;const n=/^([PO][1-5])->([PO][1-5])$/.exec(i);if(n)return`[${n[1]}->${n[2]}]`;const o=/^([PO][1-5])$/.exec(i);if(o)return`[${o[1]}]`;const a=/^->([PO][1-5])$/.exec(i);return a?`[->${a[1]}]`:e})}function sF(r,e){return null!=r&&null!=e&&Number.isFinite(e)?`${"player"===r?"P":"O"}${Math.min(Math.max(1,Math.trunc(e)),5)}`:null}const SU=/___ \(-\/-\)|(?:[PO]\d+\s+)?(?:<img\b[^>]*>\s*)*\(\d+\/\d+(?:\/\d+(?:\s*xp)?)?(?:\/\d+(?:\s*mana)?)?\)/gi,PU=/<img\b[^>]*>/gi,kU=[4,3,2,1,0],wU=[0,1,2,3,4],TU=/^(.+?)\s+(?:jump-)?attacks?\s+(.+?)\s+for\s+(\d+)/i,EU=/^(.+?)\s+sniped\s+(.+?)\s+for\s+(\d+)/i,CU=/^(.+?)\s+fainted\./i,xU=/^(.+?)\s+(?:attacks?|sniped|fainted|gave|gained|lost|removed|transformed|destroyed|consumed|moved)\b/i,DU=/\bto\s+(.+?)(?:\.|$)/i,IU=/\btransformed\s+(.+?)\s+into\b/i,MU=/\binto\b([\s\S]*)$/i,lF=/(\d+)\s*\/\s*(\d+)(?:\s*\/\s*(\d+)(?:\s*xp)?)?(?:\s*\/\s*(\d+)(?:\s*mana)?)?/i;function cF(r,e){const t=r.match(SU);if(!t||0===t.length)return null;const i=tF(e),n="player"===e?kU:wU;t.forEach((l,d)=>{const p=function RU(r){const e=r.trim();if("___ (-/-)"===e)return{slot:null,isEmpty:!0,attack:null,health:null,exp:null,mana:null,petIconSrc:null,petName:null,equipmentIconSrc:null,equipmentName:null,label:null};const t=/\b([PO])([1-5])\b/.exec(e),i=t?`${t[1]}${t[2]}`:null,n=t&&Number.isFinite(Number(t[2]))?Number(t[2])-1:null,o=/\((\d+)\/(\d+)(?:\/(\d+)(?:\s*xp)?)?(?:\/(\d+)(?:\s*mana)?)?\)/i.exec(e),a=o?Number(o[1]):null,l=o?Number(o[2]):null,d=null!=o?.[3]?Number(o[3]):null,p=null!=o?.[4]?Number(o[4]):null;let b=null,T=null,F=null,U=null;return(e.match(PU)??[]).forEach(Z=>{const se=DR(Z,"src"),ve=DR(Z,"alt"),Ke=(DR(Z,"class")??"").split(/\s+/g);return Ke.includes("log-pet-icon")?(b=se??b,void(T=ve??T)):Ke.includes("log-inline-icon")?(F=se??F,void(U=ve??U)):b?void(F||(F=se??null,U=ve??null)):(b=se??null,void(T=ve??null))}),{slot:null!=n?Gr(n):null,isEmpty:!1,attack:a,health:l,exp:d,mana:p,petIconSrc:b,petName:T,equipmentIconSrc:F,equipmentName:U,label:i}}(l),T=Gr(p.slot??n[d]??n[0]),F=eF(p.petName,p.petIconSrc);i[T]={side:e,slot:T,isEmpty:p.isEmpty,pendingRemoval:!1,attack:p.attack,health:p.health,exp:p.exp,mana:p.mana,petIconSrc:F.petIconSrc,petName:p.petName,petCompanionIconSrc:F.petCompanionIconSrc,petCompanionName:F.petCompanionName,equipmentIconSrc:p.equipmentIconSrc,equipmentName:p.equipmentName,label:p.label??uT(e,T)}});const o=r.match(/\{\{toy:([^}]+)\}\}/),a=r.match(/\{\{hardtoy:([^}]+)\}\}/);return{slots:i,toyName:o?o[1]:null,hardToyName:a?a[1]:null}}function gm(r){const e=xU.exec(r);return e?Yo(e[1]):Qs(r,r_)[0]??null}function uF(r,e){const i=Qs(DU.exec(r)?.[1]??"",r_);if(i.length>0)return i[0];const n=Qs(r,r_);if(0===n.length)return null;const o=_r(e);return n.find(l=>_r(l)!==o)??n[0]??null}function dF(r){const e=gm(r),t=IU.exec(r)?.[1]??null,i=t?Yo(t):null,n=MU.exec(r)?.[1]??"",o=Qs(n,r_)[0]??null,a=lF.exec(n);return{sourceName:e,targetName:i,transformedName:o,attack:a?Number(a[1]):null,health:a?Number(a[2]):null,exp:null!=a?.[3]?Number(a[3]):null,mana:null!=a?.[4]?Number(a[4]):null,equipmentName:Qs(n,cT)[0]??null}}function hF(r,e,t){if(!t)return!1;if(/\bgave\b/i.test(r))return!0;const i=_r(e),n=_r(t);return(!i||!n||i!==n)&&(/\bincreased\b/i.test(r)||/\b(?:attack|health)\s+of\b/i.test(r)||/\b(?:attack|health)\s+by\b/i.test(r))}function pF(r,e,t){const i=new RegExp(`([+-]?\\d+)\\s+${e}\\b`,"i"),n=new RegExp(`${e}\\b(?:\\s+of\\s+[^.]+?)?\\s+by\\s+([+-]?\\d+)`,"i"),o=i.exec(r)??n.exec(r);if(!o)return null;const a=o[1],l=Number(a);return Number.isFinite(l)?a.startsWith("+")||a.startsWith("-")?l:l*t:null}function MR(r){if(!r)return null;const e=Number(r);return Number.isFinite(e)?e:null}function jU(r){const e=/\bfor\s+(\d+)\b/i.exec(r);if(!e)return null;const t=Number(e[1]);return Number.isFinite(t)?t:null}function RR(r,e){return function qU(r){return r?Qs(r,cT)[0]??null:null}(new RegExp(`\\b${e}\\b([\\s\\S]*)$`,"i").exec(r)?.[1]??"")}function KU(r,e,t){const i={impact:null,popups:[],death:null,shifts:[],equipmentChanges:[],toyChanges:[]};return"attack"===e.type?(i.impact=function zU(r,e,t,i){const n=function NU(r){const e=EU.exec(r);if(e)return{attackerName:Yo(e[1]),targetName:Yo(e[2]),damage:Number(e[3]),isSnipe:!0};const t=TU.exec(r);return t?{attackerName:Yo(t[1]),targetName:Yo(t[2]),damage:Number(t[3]),isSnipe:!1}:{attackerName:null,targetName:null,damage:jU(r),isSnipe:!1}}(t),o=Xo(e),a=Hr(r,{preferredSide:o,explicitIndex:e.sourceIndex,expectedName:n.attackerName,preferNonEmpty:!0});a&&n.attackerName&&Ld(a.value,n.attackerName),a&&null==a.value.attack&&null!=n.damage&&n.damage>0&&(a.value.attack=n.damage);const l=a?.side??o,d=pT(r,e,t,l,n.targetName,"opposite"),p=Hr(r,{preferredSide:d,explicitIndex:e.targetIndex,expectedName:n.targetName,preferNonEmpty:!0});return p?(n.targetName&&Ld(p.value,n.targetName),null!=n.damage&&null!=p.value.health&&(p.value.health=Math.max(0,p.value.health-n.damage)),null!=n.damage&&n.damage>0&&i.push({side:p.side,slot:p.slot,type:"damage",delta:-n.damage}),{attackerSide:a?.side??l,attackerSlot:a?.slot??Gr((e.sourceIndex??1)-1),targetSide:p.side,targetSlot:p.slot,damage:n.damage,isSnipe:n.isSnipe}):(null!=n.damage&&n.damage>0&&i.push({side:d,slot:Gr((e.targetIndex??1)-1),type:"damage",delta:-n.damage}),{attackerSide:l,attackerSlot:a?.slot??Gr((e.sourceIndex??1)-1),targetSide:d,targetSlot:Gr((e.targetIndex??1)-1),damage:n.damage,isSnipe:n.isSnipe})}(r,e,t,i.popups),i):"death"===e.type?(i.death=function YU(r,e,t){const i=function FU(r){const e=CU.exec(r);return e?Yo(e[1]):null}(t),o=Hr(r,{preferredSide:Xo(e),explicitIndex:e.sourceIndex,expectedName:i,preferNonEmpty:!0});if(!o)return null;const a={side:o.side,slot:o.slot,petIconSrc:o.value.petIconSrc,petName:o.value.petName,petCompanionIconSrc:o.value.petCompanionIconSrc,petCompanionName:o.value.petCompanionName};return o.value.pendingRemoval=!0,null!=o.value.health&&(o.value.health=0),a}(r,e,t),i):"ability"===e.type||"equipment"===e.type?(function XU(r,e,t,i){if(!/\btransform(?:ed|ing)?\b/i.test(t))return;const n=dF(t);if(!n.transformedName&&null==n.attack&&null==n.health&&null==n.exp&&null==n.mana&&!n.equipmentName)return;const o=Xo(e),a=n.sourceName??gm(t),l=n.targetName??n.sourceName??a,d=e.targetIndex??e.sourceIndex,b=Hr(r,{preferredSide:pT(r,e,t,o,l,"same"),explicitIndex:d,expectedName:l,preferNonEmpty:!1});b&&(n.transformedName&&Ld(b.value,n.transformedName),gT(b.value,i,b.side,b.slot,"attack",n.attack),gT(b.value,i,b.side,b.slot,"health",n.health),gT(b.value,i,b.side,b.slot,"exp",n.exp),gT(b.value,i,b.side,b.slot,"mana",n.mana),n.equipmentName&&o_(b.value,n.equipmentName))}(r,e,t,i.popups),function JU(r,e,t,i){const n=function OU(r){const e=/\battack\b/i.test(r),t=/\bhealth\b/i.test(r),i=/\b(?:xp|exp|experience)\b/i.test(r),n=/\bmana\b/i.test(r);if(!(e||t||i||n))return null;const o=/\b(?:lost|spent|took|drain(?:ed)?)\b/i.test(r)?-1:1,a=pF(r,"attack",o),l=pF(r,"health",o),d=function GU(r,e){const i=/([+-]?\d+)\s+(?:xp|exp(?:erience)?)\b/i.exec(r);if(!i)return null;const n=i[1],o=Number(n);return Number.isFinite(o)?n.startsWith("+")||n.startsWith("-")?o:o*e:null}(r,o),p=function HU(r,e){const n=/([+-]?\d+)\s+(?:bonus\s+)?mana\b/i.exec(r)??/\bmana\b(?:\s+of\s+[^.]+?)?\s+by\s+([+-]?\d+)/i.exec(r);if(!n)return null;const o=n[1],a=Number(o);return Number.isFinite(a)?o.startsWith("+")||o.startsWith("-")?a:a*e:null}(r,o);return null==a&&null==l&&null==d&&null==p?null:{attackDelta:a??0,healthDelta:l??0,expDelta:d??0,manaDelta:p??0}}(t);if(!n||0===n.attackDelta&&0===n.healthDelta&&0===n.expDelta&&0===n.manaDelta)return;const o=Xo(e),a=gm(t),l=uF(t,a),d=/\btransform(?:ed|ing)?\b/i.test(t)?dF(t):null,p=hF(t,a,l),b=!p&&!(!d||/\bgave\b/i.test(t)||!d.transformedName&&!d.targetName),T=pT(r,e,t,o,l,"same"),F=Yo(e.sourcePet?.name),U=Yo(e.targetPet?.name),ee=d?.transformedName??null;if(0!==n.attackDelta||0!==n.healthDelta||0!==n.expDelta){const se=Hr(r,{preferredSide:p||b?T:o,explicitIndex:p||b?e.targetIndex:e.sourceIndex,expectedName:p?l:b?ee??d?.targetName??l:a,preferNonEmpty:!0});if(se){const ve=p?U??l??F??a:b?ee??U??d?.targetName??l??F??a:ee??F??a;ve&&Ld(se.value,ve),mT(se.value,i,se.side,se.slot,"attack",n.attackDelta),mT(se.value,i,se.side,se.slot,"health",n.healthDelta),mT(se.value,i,se.side,se.slot,"exp",n.expDelta)}}if(0!==n.manaDelta){const se=function $U(r,e,t){if(!t||!/\bmana\b/i.test(r))return!1;const i=_r(e),n=_r(t);return(!i||!n||i!==n)&&(!(!/\btook\b/i.test(r)||!/\bfrom\b/i.test(r))||(/\bspent\b/i.test(r)?/\bfrom\b/i.test(r):!!(/\bgave\b/i.test(r)||/\breplaced\b/i.test(r)&&/\bon\b/i.test(r)&&/\bwith\b/i.test(r))||hF(r,e,t)))}(t,a,l),ve=!se&&!(!d||/\b(?:spent|took)\b/i.test(t)||!d.transformedName&&!d.targetName),Te=Hr(r,{preferredSide:se||ve?T:o,explicitIndex:se||ve?e.targetIndex:e.sourceIndex,expectedName:se?l:ve?ee??d?.targetName??l:a,preferNonEmpty:!0});if(!Te)return;const Ke=se?U??l??F??a:ve?ee??U??d?.targetName??l??F??a:F??a??ee;Ke&&Ld(Te.value,Ke),mT(Te.value,i,Te.side,Te.slot,"mana",n.manaDelta)}}(r,e,t,i.popups),function ZU(r,e,t,i){const o=Qs(t,cT)[0]??null,a=function eV(r,e,t){return fF(new RegExp(`\\b${e}\\b([\\s\\S]*?)\\b${t}\\b`,"i").exec(r)?.[1]??"")}(t,"removed","from"),l=function tV(r){return fF(/\bgave\b([\s\S]*)$/i.exec(r)?.[1]??"")}(t),d=RR(t,"gained"),p=RR(t,"with"),b=Xo(e),T=gm(t),F=uF(t,T),U=pT(r,e,t,b,F,"same");if(/\blost\b/i.test(t)&&/\bequipment|perk|ailment\b/i.test(t)){const ee=Hr(r,{preferredSide:b,explicitIndex:e.sourceIndex,expectedName:T,preferNonEmpty:!0});if(ee){const Z=ee.value.equipmentName,se=ee.value.equipmentIconSrc??Rc(Z);hT(ee.value),i.push({side:ee.side,slot:ee.slot,action:"removed",equipmentName:Z,equipmentIconSrc:se})}return}if(/\bdestroyed\b/i.test(t)&&/\bequipment|perk|ailment\b/i.test(t)){const ee=Hr(r,{preferredSide:U,explicitIndex:e.targetIndex,expectedName:F,preferNonEmpty:!0});if(ee){const Z=ee.value.equipmentName,se=ee.value.equipmentIconSrc??Rc(Z);hT(ee.value),i.push({side:ee.side,slot:ee.slot,action:"removed",equipmentName:Z,equipmentIconSrc:se})}return}if(/\bremoved\b/i.test(t)&&/\bfrom\b/i.test(t)&&(null!=a||/\bequipment|perk|ailment\b/i.test(t))){const ee=Hr(r,{preferredSide:U,explicitIndex:e.targetIndex,expectedName:F,preferNonEmpty:!0});if(ee){const Z=ee.value.equipmentName??a,se=ee.value.equipmentIconSrc??Rc(Z);hT(ee.value),i.push({side:ee.side,slot:ee.slot,action:"removed",equipmentName:Z,equipmentIconSrc:se})}}if(/\bstole\b/i.test(t)&&/\bequipment\b/i.test(t)){const ee=Hr(r,{preferredSide:b,explicitIndex:e.sourceIndex,expectedName:T,preferNonEmpty:!0}),Z=Hr(r,{preferredSide:U,explicitIndex:e.targetIndex,expectedName:F,preferNonEmpty:!0});if(!Z)return;const se=Z.value.equipmentName??o,ve=Z.value.equipmentIconSrc??Rc(se);return void(se&&(hT(Z.value),i.push({side:Z.side,slot:Z.slot,action:"removed",equipmentName:se,equipmentIconSrc:ve}),ee&&(o_(ee.value,se),i.push({side:ee.side,slot:ee.slot,action:"added",equipmentName:se,equipmentIconSrc:ee.value.equipmentIconSrc??Rc(se)}))))}if(/\bgave\b/i.test(t)){const ee=l??o;if(!ee)return;const Z=Hr(r,{preferredSide:U,explicitIndex:e.targetIndex,expectedName:F,preferNonEmpty:!0});return void(Z&&(o_(Z.value,ee),i.push({side:Z.side,slot:Z.slot,action:"added",equipmentName:ee,equipmentIconSrc:Z.value.equipmentIconSrc??Rc(ee)})))}if(/\bgained\b/i.test(t)||/\bwith\b/i.test(t)){const ee=d??p??o;if(!ee)return;const Z=Hr(r,{preferredSide:b,explicitIndex:e.sourceIndex??e.targetIndex,expectedName:T,preferNonEmpty:!0});Z&&(o_(Z.value,ee),i.push({side:Z.side,slot:Z.slot,action:"added",equipmentName:ee,equipmentIconSrc:Z.value.equipmentIconSrc??Rc(ee)}))}}(r,e,t,i.equipmentChanges),function iV(r,e,t){if(!/\b(?:summoned|spawned)\b/i.test(t))return;const i=Xo(e),n=gm(t),o=function UU(r){return/\b(?:summoned|spawned)\b([\s\S]*)$/i.exec(r)?.[1]??""}(t),a=function VU(r,e){const t=Qs(r,r_);if(t.length>0){const i=_r(e);return t.find(o=>_r(o)!==i)??t[0]??null}return null}(o,n);if(!a)return;const l=function WU(r,e){return/\b(?:for|on)\s+(?:the\s+)?(?:enemy|opponent)\b/i.test(r)?"player"===e?"opponent":"player":/\bfor\s+(?:the\s+)?player\b/i.test(r)?"player":e}(t,i),d=function vU(r,e){const t=Zs(r,e.side);if(null!=e.targetIndex)return Gr(e.targetIndex-1);if(e.side===e.sourceSide&&null!=e.sourceIndex){const o=Gr(e.sourceIndex-1);if(t[o]?.isEmpty)return o}const i=a_(t,e.summonedPetName);if(-1!==i)return i;const n=t.findIndex(o=>o.isEmpty);return-1!==n?n:null}(r,{side:l,sourceSide:i,sourceIndex:e.sourceIndex,targetIndex:e.targetIndex,summonedPetName:a});if(null==d)return;const p=IR(r,l,d);Ld(p,a);const b=function LU(r){const e=lF.exec(r);return{attack:null!=e?.[1]?Number(e[1]):null,health:null!=e?.[2]?Number(e[2]):null,exp:null!=e?.[3]?Number(e[3]):null,mana:null!=e?.[4]?Number(e[4]):null}}(o);null!=b.attack&&(p.attack=b.attack),null!=b.health&&(p.health=b.health),null!=b.exp&&(p.exp=b.exp),null!=b.mana&&(p.mana=b.mana);const T=RR(o,"with");T&&o_(p,T)}(r,e,t),function nV(r,e,t,i){const n=/(.+?)\s+broke!/i.exec(t);if(!n)return;const o=n[1],a=Xo(e),l=r.playerToyName&&o.toLowerCase().includes(r.playerToyName.toLowerCase()),d=r.playerHardToyName&&o.toLowerCase().includes(r.playerHardToyName.toLowerCase()),p=r.opponentToyName&&o.toLowerCase().includes(r.opponentToyName.toLowerCase()),b=r.opponentHardToyName&&o.toLowerCase().includes(r.opponentHardToyName.toLowerCase());"player"===a?l?(i.push({side:"player",action:"removed",toyName:r.playerToyName,isHardToy:!1}),r.playerToyName=null):d?(i.push({side:"player",action:"removed",toyName:r.playerHardToyName,isHardToy:!0}),r.playerHardToyName=null):p?(i.push({side:"opponent",action:"removed",toyName:r.opponentToyName,isHardToy:!1}),r.opponentToyName=null):b&&(i.push({side:"opponent",action:"removed",toyName:r.opponentHardToyName,isHardToy:!0}),r.opponentHardToyName=null):p?(i.push({side:"opponent",action:"removed",toyName:r.opponentToyName,isHardToy:!1}),r.opponentToyName=null):b?(i.push({side:"opponent",action:"removed",toyName:r.opponentHardToyName,isHardToy:!0}),r.opponentHardToyName=null):l?(i.push({side:"player",action:"removed",toyName:r.playerToyName,isHardToy:!1}),r.playerToyName=null):d&&(i.push({side:"player",action:"removed",toyName:r.playerHardToyName,isHardToy:!0}),r.playerHardToyName=null)}(r,e,t,i.toyChanges),i):"trumpets"===e.type?(function QU(r,e,t,i){const n=function BU(r){const e=/\bgave\s+opponent\s+([+-]?\d+)\s+trumpets?\b/i.exec(r);if(e){const n=MR(e[1]);return null==n||0===n?null:{delta:Math.abs(n),appliesToOpponent:!0}}const t=/\bgained\s+([+-]?\d+)\s+trumpets?\b/i.exec(r);if(t){const n=MR(t[1]);return null==n||0===n?null:{delta:n,appliesToOpponent:!1}}const i=/\bspent\s+([+-]?\d+)\s+trumpets?\b/i.exec(r);if(i){const n=MR(i[1]);return null==n||0===n?null:{delta:-Math.abs(n),appliesToOpponent:!1}}return null}(t);if(!n)return;const o=Xo(e),a=gm(t),l=Hr(r,{preferredSide:o,explicitIndex:e.sourceIndex,expectedName:a,preferNonEmpty:!0});l&&a&&Ld(l.value,a);const d=n.appliesToOpponent?function fU(r){return"player"===r?"opponent":"player"}(l?.side??o):l?.side??o,p=function AU(r,e,t,i){if(null!=t)return Gr(t);if(null!=i&&Number.isFinite(i))return Gr(i-1);const o=Zs(r,e).findIndex(a=>!a.isEmpty);return-1===o?0:o}(r,d,n.appliesToOpponent?null:l?.slot??null,n.appliesToOpponent?e.targetIndex:e.sourceIndex);i.push({side:d,slot:p,type:"trumpets",delta:n.delta})}(r,e,t,i.popups),i):("move"===e.type&&/\bmoved\b/i.test(t)&&(function mU(r){nF(r,"player"),nF(r,"opponent")}(r),i.shifts.push(...rF(r,"player")),i.shifts.push(...rF(r,"opponent"))),i)}function gT(r,e,t,i,n,o){if(null==o)return;const a="attack"===n?r.attack:"health"===n?r.health:"exp"===n?r.exp:r.mana;"attack"===n?r.attack=o:"health"===n?r.health=o:"exp"===n?r.exp=o:r.mana=o,mF(e,t,i,n,null!=a?o-a:0)}function mT(r,e,t,i,n,o){if(0===o)return;const a="attack"===n?r.attack??0:"health"===n?r.health??0:"exp"===n?r.exp??0:r.mana??0,l=Math.max(0,a+o);"attack"===n?r.attack=l:"health"===n?r.health=l:"exp"===n?r.exp=l:r.mana=l,mF(e,t,i,n,l-a)}function mF(r,e,t,i,n){!Number.isFinite(n)||0===n||r.push({side:e,slot:t,type:i,delta:n})}function fF(r){return r?Qs(r,cT)[0]??null:null}const sV=[],lV=new Set(Object.values(qo).flat().filter(Boolean).map(r=>Lc(r)));function fT(r){r.fightAnimationTimer&&(clearTimeout(r.fightAnimationTimer),r.fightAnimationTimer=null)}function Nd(r,e=!0){r.fightAnimationPlaying=!1,fT(r),e&&r.markForCheck()}function LR(r){if(fT(r),!r.fightAnimationPlaying)return;const e=function SV(r){const e=function el(r){return r.fightAnimationFrameIndex<0||r.fightAnimationFrameIndex>=r.fightAnimationFrames.length?null:r.fightAnimationFrames[r.fightAnimationFrameIndex]??null}(r),t=AF(r.fightAnimationSpeed),i=function PV(r){if(!r)return 680;let e=480;return"board"===r.type?e=240:"attack"===r.type?e=760:"death"===r.type?e=680:"ability"===r.type||"equipment"===r.type?e=620:"move"===r.type&&(e=560),r.randomEvent&&(e+=90),(r.impact||r.death||r.popups.length>0)&&(e=Math.max(e,720)),e}(e);return Math.max(120,Math.round(i/t))}(r);r.fightAnimationTimer=setTimeout(()=>{r.fightAnimationTimer=null,function yV(r){if(!r.fightAnimationPlaying||0===r.fightAnimationFrames.length)return void Nd(r,!1);r.fightAnimationFrameIndex>=r.fightAnimationFrames.length-1?Nd(r):(r.fightAnimationFrameIndex+=1,r.markForCheck(),LR(r))}(r)},e)}function bV(r){return{equipmentName:r.equipmentName,equipmentIconSrc:r.equipmentIconSrc}}function Jo(r,e){return`${r}:${e}`}function yF(r){return!!r&&lV.has(Lc(r))}function bF(r){const e=Lc(r.equipmentName);if(e)return`name:${e}`;const t=Lc(r.equipmentIconSrc);return t?`icon:${t}`:null}function yT(r,e,t,i){const n=Math.min(e.length,t.length);for(let o=0;o<n;o+=1){const a=e[o],l=t[o];!a||!l||i(a,l)&&r.add(Jo(a.side,a.slot))}}function vF(r,e){const t=Lc(r.petName),i=Lc(e.petName);return t||i?t!==i:Lc(r.petIconSrc)!==Lc(e.petIconSrc)}function Lc(r){return(r??"").trim().toLowerCase()}function AF(r){return.5===r||1===r||1.5===r||2===r?r:1}const _F=No(),SF=wa(),PF=Au(),kV=fy(_F,SF,PF),wV=GS(_F,SF,PF),TV=new Set(Object.values(qo).flat().filter(Boolean));function kF(r){return BN(Ap(r??"",wV,kV,TV))}function NR(r,e){const t=bT(e),i=r.randomDecisionSelectionByFingerprint[t]??e.selectedOptionId??e.options[0]?.id??"";return e.options.some(n=>n.id===i)?i:e.selectedOptionId??e.options[0]?.id??""}function FR(r,e,t){r.runSimulation(1,{logsEnabled:!0,simulationCount:1,maxLoggedBattles:1,captureRandomDecisions:!0,randomDecisionOverrides:e,strictRandomOverrideValidation:t})}function wF(r){const e=[];for(const t of r.randomDecisions){const i=NR(r,t);i&&e.push({index:t.index,optionId:i,key:t.key,label:t.label})}return e}function bT(r){return`${r.key}::${r.label}`}function OR(r,e,t){const i=new Map(Object.entries(r.randomDecisionSelectionByFingerprint));for(const o of t){const a=bT(o),l=i.get(a)??o.selectedOptionId??null;l&&i.set(a,l)}const n={};for(const o of e){const a=bT(o),l=i.get(a),d=o.selectedOptionId??o.options[0]?.id??"",p=l??d;o.options.some(b=>b.id===p)?n[a]=p:d&&(n[a]=d)}r.randomDecisionSelectionByFingerprint=n}function TF(r,e,t){const i=[0,1,2,3,4],n=p=>new X.gE({name:new X.MJ(p?.name),attack:new X.MJ(p?.attack??0),health:new X.MJ(p?.health??0),exp:new X.MJ(p?.exp??0),equipment:new X.MJ(p?.equipment?.name??null),equipmentUses:new X.MJ(p?.equipment?.uses??null),belugaSwallowedPet:new X.MJ(p?.belugaSwallowedPet),parrotCopyPet:new X.MJ(p?.parrotCopyPet??null),parrotCopyPetBelugaSwallowedPet:new X.MJ(p?.parrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet2:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet3:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1Level:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet2Level:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet3Level:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet1TimesHurt:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet2TimesHurt:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet3TimesHurt:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet3TimesHurt??0),parrotCopyPetAbominationSwallowedPet1ParrotCopyPet:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPet:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPet:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt:new X.MJ(p?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),sarcasticFringeheadSwallowedPet:new X.MJ,mana:new X.MJ(p?.mana??0),triggersConsumed:new X.MJ(p?.triggersConsumed??0),foodsEaten:new X.MJ(p?.foodsEaten??0),abominationSwallowedPet1:new X.MJ(p?.abominationSwallowedPet1),abominationSwallowedPet2:new X.MJ(p?.abominationSwallowedPet2),abominationSwallowedPet3:new X.MJ(p?.abominationSwallowedPet3),abominationSwallowedPet1BelugaSwallowedPet:new X.MJ(p?.abominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet2BelugaSwallowedPet:new X.MJ(p?.abominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet3BelugaSwallowedPet:new X.MJ(p?.abominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet1SarcasticFringeheadSwallowedPet:new X.MJ(p?.abominationSwallowedPet1SarcasticFringeheadSwallowedPet??null),abominationSwallowedPet2SarcasticFringeheadSwallowedPet:new X.MJ(p?.abominationSwallowedPet2SarcasticFringeheadSwallowedPet??null),abominationSwallowedPet3SarcasticFringeheadSwallowedPet:new X.MJ(p?.abominationSwallowedPet3SarcasticFringeheadSwallowedPet??null),abominationSwallowedPet1ParrotCopyPet:new X.MJ(p?.abominationSwallowedPet1ParrotCopyPet??null),abominationSwallowedPet2ParrotCopyPet:new X.MJ(p?.abominationSwallowedPet2ParrotCopyPet??null),abominationSwallowedPet3ParrotCopyPet:new X.MJ(p?.abominationSwallowedPet3ParrotCopyPet??null),abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet:new X.MJ(p?.abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet:new X.MJ(p?.abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet:new X.MJ(p?.abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1:new X.MJ(p?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2:new X.MJ(p?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3:new X.MJ(p?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1:new X.MJ(p?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2:new X.MJ(p?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3:new X.MJ(p?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1:new X.MJ(p?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2:new X.MJ(p?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3:new X.MJ(p?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new X.MJ(p?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new X.MJ(p?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new X.MJ(p?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new X.MJ(p?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new X.MJ(p?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new X.MJ(p?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new X.MJ(p?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new X.MJ(p?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new X.MJ(p?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level:new X.MJ(p?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level??1),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level:new X.MJ(p?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level??1),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level:new X.MJ(p?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level??1),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level:new X.MJ(p?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level??1),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level:new X.MJ(p?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level??1),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level:new X.MJ(p?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level??1),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level:new X.MJ(p?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level??1),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level:new X.MJ(p?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level??1),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level:new X.MJ(p?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level??1),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt:new X.MJ(p?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt:new X.MJ(p?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt:new X.MJ(p?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt:new X.MJ(p?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt:new X.MJ(p?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt:new X.MJ(p?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt:new X.MJ(p?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt:new X.MJ(p?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt:new X.MJ(p?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),abominationSwallowedPet1Level:new X.MJ(p?.abominationSwallowedPet1Level??1),abominationSwallowedPet2Level:new X.MJ(p?.abominationSwallowedPet2Level??1),abominationSwallowedPet3Level:new X.MJ(p?.abominationSwallowedPet3Level??1),abominationSwallowedPet1TimesHurt:new X.MJ(p?.abominationSwallowedPet1TimesHurt??0),abominationSwallowedPet2TimesHurt:new X.MJ(p?.abominationSwallowedPet2TimesHurt??0),abominationSwallowedPet3TimesHurt:new X.MJ(p?.abominationSwallowedPet3TimesHurt??0),friendsDiedBeforeBattle:new X.MJ(p?.friendsDiedBeforeBattle??0),battlesFought:new X.MJ(p?.battlesFought??0),timesHurt:new X.MJ(p?.timesHurt??0)}),o=i.map(p=>n(e.getPet(p))),a=r.get("playerPets");a.clear();for(const p of o)a.push(p);const l=i.map(p=>n(t.getPet(p))),d=r.get("opponentPets");d.clear();for(const p of l)d.push(p)}const La=["Nessie","Bunyip","Mana Hound","Ammonite","Fossa","Hippocampus","Platybelodon","Barnacle","Olm"],FV={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"};let BR=null;function $V(r){return r}function GV(r,e){return e?.id??String(r)}function HV(r,e){return e?.value??String(r)}function EF(r){r.formGroup.get("playerPack").setValue(r.formGroup.get("playerPack").value,{emitEvent:!1}),r.formGroup.get("opponentPack").setValue(r.formGroup.get("opponentPack").value,{emitEvent:!1})}function VV(r){return r}function vT(r,e){for(let t=0;t<5;t++){const i=r.petService.getRandomPet(e);i.equipment=IF(r,e),e.setPet(t,i,!0)}}function $R(r,e){const t=function KV(r){const e=r.toyService.getToysByType(0),t=[];if(e.forEach(n=>{n.forEach(o=>{o&&t.push(o)})}),t.push(null),!t.length)return null;const i=Math.floor(Math.random()*t.length);return t[i]}(r),n=e===r.player?"playerToy":"opponentToy";if(!t)return r.formGroup.get(n).setValue(null),e.toy=null,e.originalToy=null,void c_(r,e,null);r.formGroup.get(n).setValue(t),l_(r,e,t)}function AT(r,e,t,i=!0){e.pack=t;const n=r.formGroup.get("allPets").value;let o;switch(i&&!n&&_T(r,e),t){case"Turtle":o=r.petService.turtlePackPets;break;case"Puppy":o=r.petService.puppyPackPets;break;case"Star":o=r.petService.starPackPets;break;case"Golden":o=r.petService.goldenPackPets;break;case"Unicorn":o=r.petService.unicornPackPets;break;case"Danger":o=r.petService.dangerPackPets;break;default:o=r.petService.playerCustomPackPets.get(t),o||(r.formGroup.get("allPets").setValue(!0,{emitEvent:!1}),o=r.petService.allPets)}e==r.player?r.gameService.setTierGroupPets(o,null):r.gameService.setTierGroupPets(null,o),r.formGroup.get("allPets")}function l_(r,e,t){if(!t)return e.toy=null,e.originalToy=null,void c_(r,e,null);let i;e==r.player&&(i="playerToyLevel"),e==r.opponent&&(i="opponentToyLevel");const n=Number(r.formGroup.get(i).value);e.toy=r.toyService.createToy(t,e,n),e.originalToy=e.toy,c_(r,e,t)}function _T(r,e){r.formGroup.get(e===r.player?"playerToy":"opponentToy").setValue(null),e.toy=null,e.originalToy=null,c_(r,e,null)}function c_(r,e,t){const i=r.toyService.getToyNameId(t),n=i?`${MN}${i}.png`:"";e==r.player?r.playerToyImageUrl=n:e==r.opponent&&(r.opponentToyImageUrl=n)}function ST(r,e,t){const i=r.toyService.getToyNameId(t),n=i?`${MN}${i}.png`:"";e==r.player?r.playerHardToyImageUrl=n:e==r.opponent&&(r.opponentHardToyImageUrl=n)}function CF(r,e){let t=1;e>2&&(t=2),e>4&&(t=3),e>6&&(t=4),e>8&&(t=5),e>10&&(t=6),r.gameService.setPreviousShopTier(t),r.gameService.setTurnNumber(e)}function xF(r,e,t){r.gameService.setGoldSpent(e,t)}function DF(r,e,t){e.toy&&(e.toy.level=t)}function IF(r,e){const t=Array.from(r.equipmentService.getInstanceOfAllEquipment().values()).filter(p=>"Corncob"!==p?.name),i=r.formGroup?.get("allPets")?.value;let n=t;if(!i){const b=function BV(r){return r?(BR||(BR=function OV(){const r=new Map,e=ec??tc??[];for(const t of e){const i=t?.Name;if(!i)continue;const n=new Set,o=t?.Packs??[];for(const l of o)l&&n.add(String(l).trim());if(!(n.has("Custom")||n.has("MiniPack1")||n.has("MiniPack2")||n.has("MiniPack3")))for(const l of t?.PacksRequired??[])l&&n.add(String(l).trim());for(const l of n){const d=FV[l];d&&(r.has(d)||r.set(d,new Set),r.get(d)?.add(i))}}return r}()),BR.get(r)??null):null}(e?.pack??r.player?.pack??null);b&&b.size>0&&(n=t.filter(T=>b.has(T?.name)))}const a=r.formGroup?.get("ailmentEquipment")?.value?Array.from(r.equipmentService.getInstanceOfAllAilments().values()):[],l=n.concat(a);return 0===l.length?null:l[Math.floor(Math.random()*l.length)]}function YV(r){return xs(r)??""}function MF(r){return r.savedTeams.find(e=>e.id===r.selectedTeamId)}function QV(r){return r?{"background-image":`url(${xs(r)})`,"background-repeat":"no-repeat","background-size":"20px 20px","background-position":"left center","padding-left":"2rem"}:{}}var Sr="top",ca="bottom",ua="right",Pr="left",PT="auto",mm=[Sr,ca,ua,Pr],Fd="start",fm="end",RF="clippingParents",GR="viewport",ym="popper",LF="reference",HR=mm.reduce(function(r,e){return r.concat([e+"-"+Fd,e+"-"+fm])},[]),jR=[].concat(mm,[PT]).reduce(function(r,e){return r.concat([e,e+"-"+Fd,e+"-"+fm])},[]),NF="beforeRead",FF="read",OF="afterRead",BF="beforeMain",$F="main",GF="afterMain",HF="beforeWrite",jF="write",qF="afterWrite",UF=[NF,FF,OF,BF,$F,GF,HF,jF,qF];function Qo(r){return r?(r.nodeName||"").toLowerCase():null}function da(r){if(null==r)return window;if("[object Window]"!==r.toString()){var e=r.ownerDocument;return e&&e.defaultView||window}return r}function Od(r){return r instanceof da(r).Element||r instanceof Element}function Na(r){return r instanceof da(r).HTMLElement||r instanceof HTMLElement}function qR(r){return!(typeof ShadowRoot>"u")&&(r instanceof da(r).ShadowRoot||r instanceof ShadowRoot)}const UR={name:"applyStyles",enabled:!0,phase:"write",fn:function ZV(r){var e=r.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},o=e.elements[t];!Na(o)||!Qo(o)||(Object.assign(o.style,i),Object.keys(n).forEach(function(a){var l=n[a];!1===l?o.removeAttribute(a):o.setAttribute(a,!0===l?"":l)}))})},effect:function eW(r){var e=r.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var n=e.elements[i],o=e.attributes[i]||{},l=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]).reduce(function(d,p){return d[p]="",d},{});!Na(n)||!Qo(n)||(Object.assign(n.style,l),Object.keys(o).forEach(function(d){n.removeAttribute(d)}))})}},requires:["computeStyles"]};function Zo(r){return r.split("-")[0]}var Bd=Math.max,kT=Math.min,bm=Math.round;function VR(){var r=navigator.userAgentData;return null!=r&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function VF(){return!/^((?!chrome|android).)*safari/i.test(VR())}function vm(r,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var i=r.getBoundingClientRect(),n=1,o=1;e&&Na(r)&&(n=r.offsetWidth>0&&bm(i.width)/r.offsetWidth||1,o=r.offsetHeight>0&&bm(i.height)/r.offsetHeight||1);var l=(Od(r)?da(r):window).visualViewport,d=!VF()&&t,p=(i.left+(d&&l?l.offsetLeft:0))/n,b=(i.top+(d&&l?l.offsetTop:0))/o,T=i.width/n,F=i.height/o;return{width:T,height:F,top:b,right:p+T,bottom:b+F,left:p,x:p,y:b}}function WR(r){var e=vm(r),t=r.offsetWidth,i=r.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:r.offsetLeft,y:r.offsetTop,width:t,height:i}}function WF(r,e){var t=e.getRootNode&&e.getRootNode();if(r.contains(e))return!0;if(t&&qR(t)){var i=e;do{if(i&&r.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function tl(r){return da(r).getComputedStyle(r)}function tW(r){return["table","td","th"].indexOf(Qo(r))>=0}function Nc(r){return((Od(r)?r.ownerDocument:r.document)||window.document).documentElement}function wT(r){return"html"===Qo(r)?r:r.assignedSlot||r.parentNode||(qR(r)?r.host:null)||Nc(r)}function KF(r){return Na(r)&&"fixed"!==tl(r).position?r.offsetParent:null}function u_(r){for(var e=da(r),t=KF(r);t&&tW(t)&&"static"===tl(t).position;)t=KF(t);return t&&("html"===Qo(t)||"body"===Qo(t)&&"static"===tl(t).position)?e:t||function iW(r){var e=/firefox/i.test(VR());if(/Trident/i.test(VR())&&Na(r)&&"fixed"===tl(r).position)return null;var n=wT(r);for(qR(n)&&(n=n.host);Na(n)&&["html","body"].indexOf(Qo(n))<0;){var o=tl(n);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||e&&"filter"===o.willChange||e&&o.filter&&"none"!==o.filter)return n;n=n.parentNode}return null}(r)||e}function KR(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function d_(r,e,t){return Bd(r,kT(e,t))}function YF(r){return Object.assign({},{top:0,right:0,bottom:0,left:0},r)}function XF(r,e){return e.reduce(function(t,i){return t[i]=r,t},{})}const JF={name:"arrow",enabled:!0,phase:"main",fn:function aW(r){var e,t=r.state,i=r.name,n=r.options,o=t.elements.arrow,a=t.modifiersData.popperOffsets,l=Zo(t.placement),d=KR(l),b=[Pr,ua].indexOf(l)>=0?"height":"width";if(o&&a){var T=function(e,t){return YF("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:XF(e,mm))}(n.padding,t),F=WR(o),U="y"===d?Sr:Pr,ee="y"===d?ca:ua,Z=t.rects.reference[b]+t.rects.reference[d]-a[d]-t.rects.popper[b],se=a[d]-t.rects.reference[d],ve=u_(o),Te=ve?"y"===d?ve.clientHeight||0:ve.clientWidth||0:0,Ge=Te/2-F[b]/2+(Z/2-se/2),Ie=d_(T[U],Ge,Te-F[b]-T[ee]);t.modifiersData[i]=((e={})[d]=Ie,e.centerOffset=Ie-Ge,e)}},effect:function oW(r){var e=r.state,i=r.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"==typeof n&&!(n=e.elements.popper.querySelector(n))||WF(e.elements.popper,n)&&(e.elements.arrow=n))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Am(r){return r.split("-")[1]}var sW={top:"auto",right:"auto",bottom:"auto",left:"auto"};function QF(r){var e,t=r.popper,i=r.popperRect,n=r.placement,o=r.variation,a=r.offsets,l=r.position,d=r.gpuAcceleration,p=r.adaptive,b=r.roundOffsets,T=r.isFixed,F=a.x,U=void 0===F?0:F,ee=a.y,Z=void 0===ee?0:ee,se="function"==typeof b?b({x:U,y:Z}):{x:U,y:Z};U=se.x,Z=se.y;var ve=a.hasOwnProperty("x"),Te=a.hasOwnProperty("y"),Ke=Pr,et=Sr,Je=window;if(p){var Ge=u_(t),Ie="clientHeight",dt="clientWidth";Ge===da(t)&&"static"!==tl(Ge=Nc(t)).position&&"absolute"===l&&(Ie="scrollHeight",dt="scrollWidth"),(n===Sr||(n===Pr||n===ua)&&o===fm)&&(et=ca,Z-=(T&&Ge===Je&&Je.visualViewport?Je.visualViewport.height:Ge[Ie])-i.height,Z*=d?1:-1),n!==Pr&&(n!==Sr&&n!==ca||o!==fm)||(Ke=ua,U-=(T&&Ge===Je&&Je.visualViewport?Je.visualViewport.width:Ge[dt])-i.width,U*=d?1:-1)}var Mn,bi=Object.assign({position:l},p&&sW),Gn=!0===b?function lW(r,e){var i=r.y,n=e.devicePixelRatio||1;return{x:bm(r.x*n)/n||0,y:bm(i*n)/n||0}}({x:U,y:Z},da(t)):{x:U,y:Z};return U=Gn.x,Z=Gn.y,Object.assign({},bi,d?((Mn={})[et]=Te?"0":"",Mn[Ke]=ve?"0":"",Mn.transform=(Je.devicePixelRatio||1)<=1?"translate("+U+"px, "+Z+"px)":"translate3d("+U+"px, "+Z+"px, 0)",Mn):((e={})[et]=Te?Z+"px":"",e[Ke]=ve?U+"px":"",e.transform="",e))}const zR={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function cW(r){var e=r.state,t=r.options,i=t.gpuAcceleration,n=void 0===i||i,o=t.adaptive,a=void 0===o||o,l=t.roundOffsets,d=void 0===l||l,p={placement:Zo(e.placement),variation:Am(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,QF(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:d})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,QF(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var TT={passive:!0};const YR={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function uW(r){var e=r.state,t=r.instance,i=r.options,n=i.scroll,o=void 0===n||n,a=i.resize,l=void 0===a||a,d=da(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&p.forEach(function(b){b.addEventListener("scroll",t.update,TT)}),l&&d.addEventListener("resize",t.update,TT),function(){o&&p.forEach(function(b){b.removeEventListener("scroll",t.update,TT)}),l&&d.removeEventListener("resize",t.update,TT)}},data:{}};var dW={left:"right",right:"left",bottom:"top",top:"bottom"};function ET(r){return r.replace(/left|right|bottom|top/g,function(e){return dW[e]})}var hW={start:"end",end:"start"};function ZF(r){return r.replace(/start|end/g,function(e){return hW[e]})}function XR(r){var e=da(r);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function JR(r){return vm(Nc(r)).left+XR(r).scrollLeft}function QR(r){var e=tl(r);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function eO(r){return["html","body","#document"].indexOf(Qo(r))>=0?r.ownerDocument.body:Na(r)&&QR(r)?r:eO(wT(r))}function h_(r,e){var t;void 0===e&&(e=[]);var i=eO(r),n=i===(null==(t=r.ownerDocument)?void 0:t.body),o=da(i),a=n?[o].concat(o.visualViewport||[],QR(i)?i:[]):i,l=e.concat(a);return n?l:l.concat(h_(wT(a)))}function ZR(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function tO(r,e,t){return e===GR?ZR(function pW(r,e){var t=da(r),i=Nc(r),n=t.visualViewport,o=i.clientWidth,a=i.clientHeight,l=0,d=0;if(n){o=n.width,a=n.height;var p=VF();(p||!p&&"fixed"===e)&&(l=n.offsetLeft,d=n.offsetTop)}return{width:o,height:a,x:l+JR(r),y:d}}(r,t)):Od(e)?function mW(r,e){var t=vm(r,!1,"fixed"===e);return t.top=t.top+r.clientTop,t.left=t.left+r.clientLeft,t.bottom=t.top+r.clientHeight,t.right=t.left+r.clientWidth,t.width=r.clientWidth,t.height=r.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):ZR(function gW(r){var e,t=Nc(r),i=XR(r),n=null==(e=r.ownerDocument)?void 0:e.body,o=Bd(t.scrollWidth,t.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),a=Bd(t.scrollHeight,t.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),l=-i.scrollLeft+JR(r),d=-i.scrollTop;return"rtl"===tl(n||t).direction&&(l+=Bd(t.clientWidth,n?n.clientWidth:0)-o),{width:o,height:a,x:l,y:d}}(Nc(r)))}function iO(r){var d,e=r.reference,t=r.element,i=r.placement,n=i?Zo(i):null,o=i?Am(i):null,a=e.x+e.width/2-t.width/2,l=e.y+e.height/2-t.height/2;switch(n){case Sr:d={x:a,y:e.y-t.height};break;case ca:d={x:a,y:e.y+e.height};break;case ua:d={x:e.x+e.width,y:l};break;case Pr:d={x:e.x-t.width,y:l};break;default:d={x:e.x,y:e.y}}var p=n?KR(n):null;if(null!=p){var b="y"===p?"height":"width";switch(o){case Fd:d[p]=d[p]-(e[b]/2-t[b]/2);break;case fm:d[p]=d[p]+(e[b]/2-t[b]/2)}}return d}function _m(r,e){void 0===e&&(e={});var i=e.placement,n=void 0===i?r.placement:i,o=e.strategy,a=void 0===o?r.strategy:o,l=e.boundary,d=void 0===l?RF:l,p=e.rootBoundary,b=void 0===p?GR:p,T=e.elementContext,F=void 0===T?ym:T,U=e.altBoundary,ee=void 0!==U&&U,Z=e.padding,se=void 0===Z?0:Z,ve=YF("number"!=typeof se?se:XF(se,mm)),Ke=r.rects.popper,et=r.elements[ee?F===ym?LF:ym:F],Je=function yW(r,e,t,i){var n="clippingParents"===e?function fW(r){var e=h_(wT(r)),i=["absolute","fixed"].indexOf(tl(r).position)>=0&&Na(r)?u_(r):r;return Od(i)?e.filter(function(n){return Od(n)&&WF(n,i)&&"body"!==Qo(n)}):[]}(r):[].concat(e),o=[].concat(n,[t]),l=o.reduce(function(d,p){var b=tO(r,p,i);return d.top=Bd(b.top,d.top),d.right=kT(b.right,d.right),d.bottom=kT(b.bottom,d.bottom),d.left=Bd(b.left,d.left),d},tO(r,o[0],i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}(Od(et)?et:et.contextElement||Nc(r.elements.popper),d,b,a),Ge=vm(r.elements.reference),Ie=iO({reference:Ge,element:Ke,strategy:"absolute",placement:n}),dt=ZR(Object.assign({},Ke,Ie)),yi=F===ym?dt:Ge,It={top:Je.top-yi.top+ve.top,bottom:yi.bottom-Je.bottom+ve.bottom,left:Je.left-yi.left+ve.left,right:yi.right-Je.right+ve.right},bi=r.modifiersData.offset;if(F===ym&&bi){var Gn=bi[n];Object.keys(It).forEach(function(Mn){var Bt=[ua,ca].indexOf(Mn)>=0?1:-1,qr=[Sr,ca].indexOf(Mn)>=0?"y":"x";It[Mn]+=Gn[qr]*Bt})}return It}const nO={name:"flip",enabled:!0,phase:"main",fn:function AW(r){var e=r.state,t=r.options,i=r.name;if(!e.modifiersData[i]._skip){for(var n=t.mainAxis,o=void 0===n||n,a=t.altAxis,l=void 0===a||a,d=t.fallbackPlacements,p=t.padding,b=t.boundary,T=t.rootBoundary,F=t.altBoundary,U=t.flipVariations,ee=void 0===U||U,Z=t.allowedAutoPlacements,se=e.options.placement,ve=Zo(se),Ke=d||(ve!==se&&ee?function vW(r){if(Zo(r)===PT)return[];var e=ET(r);return[ZF(r),e,ZF(e)]}(se):[ET(se)]),et=[se].concat(Ke).reduce(function(Rm,jc){return Rm.concat(Zo(jc)===PT?function bW(r,e){void 0===e&&(e={});var n=e.boundary,o=e.rootBoundary,a=e.padding,l=e.flipVariations,d=e.allowedAutoPlacements,p=void 0===d?jR:d,b=Am(e.placement),T=b?l?HR:HR.filter(function(ee){return Am(ee)===b}):mm,F=T.filter(function(ee){return p.indexOf(ee)>=0});0===F.length&&(F=T);var U=F.reduce(function(ee,Z){return ee[Z]=_m(r,{placement:Z,boundary:n,rootBoundary:o,padding:a})[Zo(Z)],ee},{});return Object.keys(U).sort(function(ee,Z){return U[ee]-U[Z]})}(e,{placement:jc,boundary:b,rootBoundary:T,padding:p,flipVariations:ee,allowedAutoPlacements:Z}):jc)},[]),Je=e.rects.reference,Ge=e.rects.popper,Ie=new Map,dt=!0,yi=et[0],It=0;It<et.length;It++){var bi=et[It],Gn=Zo(bi),Mn=Am(bi)===Fd,Bt=[Sr,ca].indexOf(Gn)>=0,qr=Bt?"width":"height",kr=_m(e,{placement:bi,boundary:b,rootBoundary:T,altBoundary:F,padding:p}),ha=Bt?Mn?ua:Pr:Mn?ca:Sr;Je[qr]>Ge[qr]&&(ha=ET(ha));var Mm=ET(ha),pa=[];if(o&&pa.push(kr[Gn]<=0),l&&pa.push(kr[ha]<=0,kr[Mm]<=0),pa.every(function(Rm){return Rm})){yi=bi,dt=!1;break}Ie.set(bi,pa)}if(dt)for(var N2=function(jc){var __=et.find(function(YT){var Ud=Ie.get(YT);if(Ud)return Ud.slice(0,jc).every(function(F2){return F2})});if(__)return yi=__,"break"},A_=ee?3:1;A_>0&&"break"!==N2(A_);A_--);e.placement!==yi&&(e.modifiersData[i]._skip=!0,e.placement=yi,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function rO(r,e,t){return void 0===t&&(t={x:0,y:0}),{top:r.top-e.height-t.y,right:r.right-e.width+t.x,bottom:r.bottom-e.height+t.y,left:r.left-e.width-t.x}}function aO(r){return[Sr,ua,ca,Pr].some(function(e){return r[e]>=0})}const oO={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function _W(r){var e=r.state,t=r.name,i=e.rects.reference,n=e.rects.popper,o=e.modifiersData.preventOverflow,a=_m(e,{elementContext:"reference"}),l=_m(e,{altBoundary:!0}),d=rO(a,i),p=rO(l,n,o),b=aO(d),T=aO(p);e.modifiersData[t]={referenceClippingOffsets:d,popperEscapeOffsets:p,isReferenceHidden:b,hasPopperEscaped:T},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":b,"data-popper-escaped":T})}},sO={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function PW(r){var e=r.state,i=r.name,n=r.options.offset,o=void 0===n?[0,0]:n,a=jR.reduce(function(b,T){return b[T]=function SW(r,e,t){var i=Zo(r),n=[Pr,Sr].indexOf(i)>=0?-1:1,o="function"==typeof t?t(Object.assign({},e,{placement:r})):t,a=o[0],l=o[1];return a=a||0,l=(l||0)*n,[Pr,ua].indexOf(i)>=0?{x:l,y:a}:{x:a,y:l}}(T,e.rects,o),b},{}),l=a[e.placement],p=l.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l.x,e.modifiersData.popperOffsets.y+=p),e.modifiersData[i]=a}},e2={name:"popperOffsets",enabled:!0,phase:"read",fn:function kW(r){var e=r.state;e.modifiersData[r.name]=iO({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},lO={name:"preventOverflow",enabled:!0,phase:"main",fn:function TW(r){var e=r.state,t=r.options,i=r.name,n=t.mainAxis,o=void 0===n||n,a=t.altAxis,l=void 0!==a&&a,F=t.tether,U=void 0===F||F,ee=t.tetherOffset,Z=void 0===ee?0:ee,se=_m(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),ve=Zo(e.placement),Te=Am(e.placement),Ke=!Te,et=KR(ve),Je=function wW(r){return"x"===r?"y":"x"}(et),Ge=e.modifiersData.popperOffsets,Ie=e.rects.reference,dt=e.rects.popper,yi="function"==typeof Z?Z(Object.assign({},e.rects,{placement:e.placement})):Z,It="number"==typeof yi?{mainAxis:yi,altAxis:yi}:Object.assign({mainAxis:0,altAxis:0},yi),bi=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Gn={x:0,y:0};if(Ge){if(o){var Mn,Bt="y"===et?Sr:Pr,qr="y"===et?ca:ua,kr="y"===et?"height":"width",ha=Ge[et],Mm=ha+se[Bt],pa=ha-se[qr],KT=U?-dt[kr]/2:0,N2=Te===Fd?Ie[kr]:dt[kr],A_=Te===Fd?-dt[kr]:-Ie[kr],zT=e.elements.arrow,Rm=U&&zT?WR(zT):{width:0,height:0},jc=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},__=jc[Bt],YT=jc[qr],Ud=d_(0,Ie[kr],Rm[kr]),F2=Ke?Ie[kr]/2-KT-Ud-__-It.mainAxis:N2-Ud-__-It.mainAxis,sJ=Ke?-Ie[kr]/2+KT+Ud+YT+It.mainAxis:A_+Ud+YT+It.mainAxis,O2=e.elements.arrow&&u_(e.elements.arrow),lJ=O2?"y"===et?O2.clientTop||0:O2.clientLeft||0:0,w4=null!=(Mn=bi?.[et])?Mn:0,uJ=ha+sJ-w4,T4=d_(U?kT(Mm,ha+F2-w4-lJ):Mm,ha,U?Bd(pa,uJ):pa);Ge[et]=T4,Gn[et]=T4-ha}if(l){var E4,Vd=Ge[Je],XT="y"===Je?"height":"width",C4=Vd+se["x"===et?Sr:Pr],x4=Vd-se["x"===et?ca:ua],B2=-1!==[Sr,Pr].indexOf(ve),D4=null!=(E4=bi?.[Je])?E4:0,I4=B2?C4:Vd-Ie[XT]-dt[XT]-D4+It.altAxis,M4=B2?Vd+Ie[XT]+dt[XT]-D4-It.altAxis:x4,R4=U&&B2?function nW(r,e,t){var i=d_(r,e,t);return i>t?t:i}(I4,Vd,M4):d_(U?I4:C4,Vd,U?M4:x4);Ge[Je]=R4,Gn[Je]=R4-Vd}e.modifiersData[i]=Gn}},requiresIfExists:["offset"]};function DW(r,e,t){void 0===t&&(t=!1);var i=Na(e),n=Na(e)&&function xW(r){var e=r.getBoundingClientRect(),t=bm(e.width)/r.offsetWidth||1,i=bm(e.height)/r.offsetHeight||1;return 1!==t||1!==i}(e),o=Nc(e),a=vm(r,n,t),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(i||!i&&!t)&&(("body"!==Qo(e)||QR(o))&&(l=function CW(r){return r!==da(r)&&Na(r)?function EW(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}(r):XR(r)}(e)),Na(e)?((d=vm(e,!0)).x+=e.clientLeft,d.y+=e.clientTop):o&&(d.x=JR(o))),{x:a.left+l.scrollLeft-d.x,y:a.top+l.scrollTop-d.y,width:a.width,height:a.height}}function IW(r){var e=new Map,t=new Set,i=[];function n(o){t.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach(function(l){if(!t.has(l)){var d=e.get(l);d&&n(d)}}),i.push(o)}return r.forEach(function(o){e.set(o.name,o)}),r.forEach(function(o){t.has(o.name)||n(o)}),i}function RW(r){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(r())})})),e}}var cO={placement:"bottom",modifiers:[],strategy:"absolute"};function uO(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function CT(r){void 0===r&&(r={});var t=r.defaultModifiers,i=void 0===t?[]:t,n=r.defaultOptions,o=void 0===n?cO:n;return function(l,d,p){void 0===p&&(p=o);var b={placement:"bottom",orderedModifiers:[],options:Object.assign({},cO,o),modifiersData:{},elements:{reference:l,popper:d},attributes:{},styles:{}},T=[],F=!1,U={state:b,setOptions:function(ve){var Te="function"==typeof ve?ve(b.options):ve;Z(),b.options=Object.assign({},o,b.options,Te),b.scrollParents={reference:Od(l)?h_(l):l.contextElement?h_(l.contextElement):[],popper:h_(d)};var Ke=function MW(r){var e=IW(r);return UF.reduce(function(t,i){return t.concat(e.filter(function(n){return n.phase===i}))},[])}(function LW(r){var e=r.reduce(function(t,i){var n=t[i.name];return t[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(i,b.options.modifiers)));return b.orderedModifiers=Ke.filter(function(et){return et.enabled}),function ee(){b.orderedModifiers.forEach(function(se){var Te=se.options,et=se.effect;if("function"==typeof et){var Je=et({state:b,name:se.name,instance:U,options:void 0===Te?{}:Te});T.push(Je||function(){})}})}(),U.update()},forceUpdate:function(){if(!F){var ve=b.elements,Te=ve.reference,Ke=ve.popper;if(uO(Te,Ke)){b.rects={reference:DW(Te,u_(Ke),"fixed"===b.options.strategy),popper:WR(Ke)},b.reset=!1,b.placement=b.options.placement,b.orderedModifiers.forEach(function(It){return b.modifiersData[It.name]=Object.assign({},It.data)});for(var et=0;et<b.orderedModifiers.length;et++)if(!0!==b.reset){var Je=b.orderedModifiers[et],Ge=Je.fn,Ie=Je.options;"function"==typeof Ge&&(b=Ge({state:b,options:void 0===Ie?{}:Ie,name:Je.name,instance:U})||b)}else b.reset=!1,et=-1}}},update:RW(function(){return new Promise(function(se){U.forceUpdate(),se(b)})}),destroy:function(){Z(),F=!0}};if(!uO(l,d))return U;function Z(){T.forEach(function(se){return se()}),T=[]}return U.setOptions(p).then(function(se){!F&&p.onFirstUpdate&&p.onFirstUpdate(se)}),U}}var NW=CT(),t2=CT({defaultModifiers:[YR,e2,zR,UR,sO,nO,lO,JF,oO]}),BW=CT({defaultModifiers:[YR,e2,zR,UR]});const Fc=new Map,i2={set(r,e,t){Fc.has(r)||Fc.set(r,new Map);const i=Fc.get(r);i.has(e)||0===i.size?i.set(e,t):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(r,e)=>Fc.has(r)&&Fc.get(r).get(e)||null,remove(r,e){if(!Fc.has(r))return;const t=Fc.get(r);t.delete(e),0===t.size&&Fc.delete(r)}},n2="transitionend",dO=r=>(r&&window.CSS&&window.CSS.escape&&(r=r.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),r),HW=r=>null==r?`${r}`:Object.prototype.toString.call(r).match(/\s([a-z]+)/i)[1].toLowerCase(),hO=r=>{r.dispatchEvent(new Event(n2))},il=r=>!(!r||"object"!=typeof r)&&(typeof r.jquery<"u"&&(r=r[0]),typeof r.nodeType<"u"),Oc=r=>il(r)?r.jquery?r[0]:r:"string"==typeof r&&r.length>0?document.querySelector(dO(r)):null,Sm=r=>{if(!il(r)||0===r.getClientRects().length)return!1;const e="visible"===getComputedStyle(r).getPropertyValue("visibility"),t=r.closest("details:not([open])");if(!t)return e;if(t!==r){const i=r.closest("summary");if(i&&i.parentNode!==t||null===i)return!1}return e},Bc=r=>!(r&&r.nodeType===Node.ELEMENT_NODE&&!r.classList.contains("disabled"))||(typeof r.disabled<"u"?r.disabled:r.hasAttribute("disabled")&&"false"!==r.getAttribute("disabled")),pO=r=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof r.getRootNode){const e=r.getRootNode();return e instanceof ShadowRoot?e:null}return r instanceof ShadowRoot?r:r.parentNode?pO(r.parentNode):null},xT=()=>{},gO=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,r2=[],Fa=()=>"rtl"===document.documentElement.dir,Oa=r=>{(r=>{"loading"===document.readyState?(r2.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of r2)e()}),r2.push(r)):r()})(()=>{const e=gO();if(e){const t=r.NAME,i=e.fn[t];e.fn[t]=r.jQueryInterface,e.fn[t].Constructor=r,e.fn[t].noConflict=()=>(e.fn[t]=i,r.jQueryInterface)}})},jr=(r,e=[],t=r)=>"function"==typeof r?r.call(...e):t,mO=(r,e,t=!0)=>{if(!t)return void jr(r);const n=(r=>{if(!r)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(r);const i=Number.parseFloat(e),n=Number.parseFloat(t);return i||n?(e=e.split(",")[0],t=t.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(t))):0})(e)+5;let o=!1;const a=({target:l})=>{l===e&&(o=!0,e.removeEventListener(n2,a),jr(r))};e.addEventListener(n2,a),setTimeout(()=>{o||hO(e)},n)},a2=(r,e,t,i)=>{const n=r.length;let o=r.indexOf(e);return-1===o?!t&&i?r[n-1]:r[0]:(o+=t?1:-1,i&&(o=(o+n)%n),r[Math.max(0,Math.min(o,n-1))])},VW=/[^.]*(?=\..*)\.|.*/,WW=/\..*/,KW=/::\d+$/,o2={};let fO=1;const yO={mouseenter:"mouseover",mouseleave:"mouseout"},zW=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function bO(r,e){return e&&`${e}::${fO++}`||r.uidEvent||fO++}function vO(r){const e=bO(r);return r.uidEvent=e,o2[e]=o2[e]||{},o2[e]}function AO(r,e,t=null){return Object.values(r).find(i=>i.callable===e&&i.delegationSelector===t)}function _O(r,e,t){const i="string"==typeof e,n=i?t:e||t;let o=PO(r);return zW.has(o)||(o=r),[i,n,o]}function SO(r,e,t,i,n){if("string"!=typeof e||!r)return;let[o,a,l]=_O(e,t,i);var ee;e in yO&&(ee=a,a=function(Z){if(!Z.relatedTarget||Z.relatedTarget!==Z.delegateTarget&&!Z.delegateTarget.contains(Z.relatedTarget))return ee.call(this,Z)});const d=vO(r),p=d[l]||(d[l]={}),b=AO(p,a,o?t:null);if(b)return void(b.oneOff=b.oneOff&&n);const T=bO(a,e.replace(VW,"")),F=o?function XW(r,e,t){return function i(n){const o=r.querySelectorAll(e);for(let{target:a}=n;a&&a!==this;a=a.parentNode)for(const l of o)if(l===a)return l2(n,{delegateTarget:a}),i.oneOff&&Be.off(r,n.type,e,t),t.apply(a,[n])}}(r,t,a):function YW(r,e){return function t(i){return l2(i,{delegateTarget:r}),t.oneOff&&Be.off(r,i.type,e),e.apply(r,[i])}}(r,a);F.delegationSelector=o?t:null,F.callable=a,F.oneOff=n,F.uidEvent=T,p[T]=F,r.addEventListener(l,F,o)}function s2(r,e,t,i,n){const o=AO(e[t],i,n);o&&(r.removeEventListener(t,o,!!n),delete e[t][o.uidEvent])}function JW(r,e,t,i){const n=e[t]||{};for(const[o,a]of Object.entries(n))o.includes(i)&&s2(r,e,t,a.callable,a.delegationSelector)}function PO(r){return r=r.replace(WW,""),yO[r]||r}const Be={on(r,e,t,i){SO(r,e,t,i,!1)},one(r,e,t,i){SO(r,e,t,i,!0)},off(r,e,t,i){if("string"!=typeof e||!r)return;const[n,o,a]=_O(e,t,i),l=a!==e,d=vO(r),p=d[a]||{},b=e.startsWith(".");if(typeof o<"u"){if(!Object.keys(p).length)return;s2(r,d,a,o,n?t:null)}else{if(b)for(const T of Object.keys(d))JW(r,d,T,e.slice(1));for(const[T,F]of Object.entries(p)){const U=T.replace(KW,"");(!l||e.includes(U))&&s2(r,d,a,F.callable,F.delegationSelector)}}},trigger(r,e,t){if("string"!=typeof e||!r)return null;const i=gO();let a=null,l=!0,d=!0,p=!1;e!==PO(e)&&i&&(a=i.Event(e,t),i(r).trigger(a),l=!a.isPropagationStopped(),d=!a.isImmediatePropagationStopped(),p=a.isDefaultPrevented());const b=l2(new Event(e,{bubbles:l,cancelable:!0}),t);return p&&b.preventDefault(),d&&r.dispatchEvent(b),b.defaultPrevented&&a&&a.preventDefault(),b}};function l2(r,e={}){for(const[t,i]of Object.entries(e))try{r[t]=i}catch{Object.defineProperty(r,t,{configurable:!0,get:()=>i})}return r}function kO(r){if("true"===r)return!0;if("false"===r)return!1;if(r===Number(r).toString())return Number(r);if(""===r||"null"===r)return null;if("string"!=typeof r)return r;try{return JSON.parse(decodeURIComponent(r))}catch{return r}}function c2(r){return r.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const nl={setDataAttribute(r,e,t){r.setAttribute(`data-bs-${c2(e)}`,t)},removeDataAttribute(r,e){r.removeAttribute(`data-bs-${c2(e)}`)},getDataAttributes(r){if(!r)return{};const e={},t=Object.keys(r.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of t){let n=i.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1),e[n]=kO(r.dataset[i])}return e},getDataAttribute:(r,e)=>kO(r.getAttribute(`data-bs-${c2(e)}`))};class g_{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=il(t)?nl.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...il(t)?nl.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[i,n]of Object.entries(t)){const o=e[i],a=il(o)?"element":HW(o);if(!new RegExp(n).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${a}" but expected type "${n}".`)}}}class ho extends g_{constructor(e,t){super(),(e=Oc(e))&&(this._element=e,this._config=this._getConfig(t),i2.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i2.remove(this._element,this.constructor.DATA_KEY),Be.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){mO(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return i2.get(Oc(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const u2=r=>{let e=r.getAttribute("data-bs-target");if(!e||"#"===e){let t=r.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&"#"!==t?t.trim():null}return e?e.split(",").map(t=>dO(t)).join(","):null},At={find:(r,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,r)),findOne:(r,e=document.documentElement)=>Element.prototype.querySelector.call(e,r),children:(r,e)=>[].concat(...r.children).filter(t=>t.matches(e)),parents(r,e){const t=[];let i=r.parentNode.closest(e);for(;i;)t.push(i),i=i.parentNode.closest(e);return t},prev(r,e){let t=r.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(r,e){let t=r.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(r){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,r).filter(t=>!Bc(t)&&Sm(t))},getSelectorFromElement(r){const e=u2(r);return e&&At.findOne(e)?e:null},getElementFromSelector(r){const e=u2(r);return e?At.findOne(e):null},getMultipleElementsFromSelector(r){const e=u2(r);return e?At.find(e):[]}},DT=(r,e="hide")=>{const i=r.NAME;Be.on(document,`click.dismiss${r.EVENT_KEY}`,`[data-bs-dismiss="${i}"]`,function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Bc(this))return;const o=At.getElementFromSelector(this)||this.closest(`.${i}`);r.getOrCreateInstance(o)[e]()})},wO=".bs.alert",eK=`close${wO}`,tK=`closed${wO}`;class IT extends ho{static get NAME(){return"alert"}close(){if(Be.trigger(this._element,eK).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),Be.trigger(this._element,tK),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=IT.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}DT(IT,"close"),Oa(IT);const TO='[data-bs-toggle="button"]';class MT extends ho{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){const t=MT.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}Be.on(document,"click.bs.button.data-api",TO,r=>{r.preventDefault();const e=r.target.closest(TO);MT.getOrCreateInstance(e).toggle()}),Oa(MT);const Pm=".bs.swipe",uK=`touchstart${Pm}`,dK=`touchmove${Pm}`,hK=`touchend${Pm}`,pK=`pointerdown${Pm}`,gK=`pointerup${Pm}`,vK={endCallback:null,leftCallback:null,rightCallback:null},AK={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class RT extends g_{constructor(e,t){super(),this._element=e,e&&RT.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return vK}static get DefaultType(){return AK}static get NAME(){return"swipe"}dispose(){Be.off(this._element,Pm)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),jr(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&jr(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Be.on(this._element,pK,e=>this._start(e)),Be.on(this._element,gK,e=>this._end(e)),this._element.classList.add("pointer-event")):(Be.on(this._element,uK,e=>this._start(e)),Be.on(this._element,dK,e=>this._move(e)),Be.on(this._element,hK,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const $c=".bs.carousel",EO=".data-api",SK="ArrowLeft",PK="ArrowRight",m_="next",km="prev",wm="left",LT="right",wK=`slide${$c}`,d2=`slid${$c}`,TK=`keydown${$c}`,EK=`mouseenter${$c}`,CK=`mouseleave${$c}`,xK=`dragstart${$c}`,DK=`load${$c}${EO}`,IK=`click${$c}${EO}`,CO="carousel",NT="active",xO=".active",DO=".carousel-item",OK=xO+DO,jK={[SK]:LT,[PK]:wm},qK={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},UK={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class f_ extends ho{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=At.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===CO&&this.cycle()}static get Default(){return qK}static get DefaultType(){return UK}static get NAME(){return"carousel"}next(){this._slide(m_)}nextWhenVisible(){!document.hidden&&Sm(this._element)&&this.next()}prev(){this._slide(km)}pause(){this._isSliding&&hO(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Be.one(this._element,d2,()=>this.cycle());this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void Be.one(this._element,d2,()=>this.to(e));const i=this._getItemIndex(this._getActive());i!==e&&this._slide(e>i?m_:km,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Be.on(this._element,TK,e=>this._keydown(e)),"hover"===this._config.pause&&(Be.on(this._element,EK,()=>this.pause()),Be.on(this._element,CK,()=>this._maybeEnableCycle())),this._config.touch&&RT.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of At.find(".carousel-item img",this._element))Be.on(i,xK,n=>n.preventDefault());this._swipeHelper=new RT(this._element,{leftCallback:()=>this._slide(this._directionToOrder(wm)),rightCallback:()=>this._slide(this._directionToOrder(LT)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=jK[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=At.findOne(xO,this._indicatorsElement);t.classList.remove(NT),t.removeAttribute("aria-current");const i=At.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(NT),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),n=e===m_,o=t||a2(this._getItems(),i,n,this._config.wrap);if(o===i)return;const a=this._getItemIndex(o),l=U=>Be.trigger(this._element,U,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:a});if(l(wK).defaultPrevented||!i||!o)return;const p=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=o;const b=n?"carousel-item-start":"carousel-item-end",T=n?"carousel-item-next":"carousel-item-prev";o.classList.add(T),i.classList.add(b),o.classList.add(b),this._queueCallback(()=>{o.classList.remove(b,T),o.classList.add(NT),i.classList.remove(NT,T,b),this._isSliding=!1,l(d2)},i,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return At.findOne(OK,this._element)}_getItems(){return At.find(DO,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Fa()?e===wm?km:m_:e===wm?m_:km}_orderToDirection(e){return Fa()?e===km?wm:LT:e===km?LT:wm}static jQueryInterface(e){return this.each(function(){const t=f_.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)})}}Be.on(document,IK,"[data-bs-slide], [data-bs-slide-to]",function(r){const e=At.getElementFromSelector(this);if(!e||!e.classList.contains(CO))return;r.preventDefault();const t=f_.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");return i?(t.to(i),void t._maybeEnableCycle()):"next"===nl.getDataAttribute(this,"slide")?(t.next(),void t._maybeEnableCycle()):(t.prev(),void t._maybeEnableCycle())}),Be.on(window,DK,()=>{const r=At.find('[data-bs-ride="carousel"]');for(const e of r)f_.getOrCreateInstance(e)}),Oa(f_);const y_=".bs.collapse",KK=`show${y_}`,zK=`shown${y_}`,YK=`hide${y_}`,XK=`hidden${y_}`,JK=`click${y_}.data-api`,h2="show",Tm="collapse",FT="collapsing",ZK=`:scope .${Tm} .${Tm}`,p2='[data-bs-toggle="collapse"]',r9={parent:null,toggle:!0},a9={parent:"(null|element)",toggle:"boolean"};class b_ extends ho{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=At.find(p2);for(const n of i){const o=At.getSelectorFromElement(n),a=At.find(o).filter(l=>l===this._element);null!==o&&a.length&&this._triggerArray.push(n)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return r9}static get DefaultType(){return a9}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(l=>l!==this._element).map(l=>b_.getOrCreateInstance(l,{toggle:!1}))),e.length&&e[0]._isTransitioning||Be.trigger(this._element,KK).defaultPrevented)return;for(const l of e)l.hide();const i=this._getDimension();this._element.classList.remove(Tm),this._element.classList.add(FT),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const a=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(FT),this._element.classList.add(Tm,h2),this._element.style[i]="",Be.trigger(this._element,zK)},this._element,!0),this._element.style[i]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||Be.trigger(this._element,YK).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,this._element.classList.add(FT),this._element.classList.remove(Tm,h2);for(const n of this._triggerArray){const o=At.getElementFromSelector(n);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([n],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(FT),this._element.classList.add(Tm),Be.trigger(this._element,XK)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(h2)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Oc(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(p2);for(const t of e){const i=At.getElementFromSelector(t);i&&this._addAriaAndCollapsedClass([t],this._isShown(i))}}_getFirstLevelChildren(e){const t=At.find(ZK,this._config.parent);return At.find(e,this._config.parent).filter(i=>!t.includes(i))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const i=b_.getOrCreateInstance(this,t);if("string"==typeof e){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}Be.on(document,JK,p2,function(r){("A"===r.target.tagName||r.delegateTarget&&"A"===r.delegateTarget.tagName)&&r.preventDefault();for(const e of At.getMultipleElementsFromSelector(this))b_.getOrCreateInstance(e,{toggle:!1}).toggle()}),Oa(b_);const IO="dropdown",$d=".bs.dropdown",g2=".data-api",s9="ArrowUp",RO="ArrowDown",c9=`hide${$d}`,u9=`hidden${$d}`,d9=`show${$d}`,h9=`shown${$d}`,LO=`click${$d}${g2}`,NO=`keydown${$d}${g2}`,p9=`keyup${$d}${g2}`,Em="show",Gd='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',v9=`${Gd}.${Em}`,OT=".dropdown-menu",P9=Fa()?"top-end":"top-start",k9=Fa()?"top-start":"top-end",w9=Fa()?"bottom-end":"bottom-start",T9=Fa()?"bottom-start":"bottom-end",E9=Fa()?"left-start":"right-start",C9=Fa()?"right-start":"left-start",I9={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},M9={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class es extends ho{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=At.next(this._element,OT)[0]||At.prev(this._element,OT)[0]||At.findOne(OT,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return I9}static get DefaultType(){return M9}static get NAME(){return IO}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Bc(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Be.trigger(this._element,d9,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const i of[].concat(...document.body.children))Be.on(i,"mouseover",xT);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Em),this._element.classList.add(Em),Be.trigger(this._element,h9,e)}}hide(){!Bc(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Be.trigger(this._element,c9,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))Be.off(i,"mouseover",xT);this._popper&&this._popper.destroy(),this._menu.classList.remove(Em),this._element.classList.remove(Em),this._element.setAttribute("aria-expanded","false"),nl.removeDataAttribute(this._menu,"popper"),Be.trigger(this._element,u9,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!il(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${IO.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){let e=this._element;"parent"===this._config.reference?e=this._parent:il(this._config.reference)?e=Oc(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=t2(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Em)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return E9;if(e.classList.contains("dropstart"))return C9;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?k9:P9:t?T9:w9}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(nl.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...jr(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:t}){const i=At.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(n=>Sm(n));i.length&&a2(i,t,e===RO,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=es.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=At.find(v9);for(const i of t){const n=es.getInstance(i);if(!n||!1===n._config.autoClose)continue;const o=e.composedPath(),a=o.includes(n._menu);if(o.includes(n._element)||"inside"===n._config.autoClose&&!a||"outside"===n._config.autoClose&&a||n._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const l={relatedTarget:n._element};"click"===e.type&&(l.clickEvent=e),n._completeHide(l)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,n=[s9,RO].includes(e.key);if(!n&&!i||t&&!i)return;e.preventDefault();const o=this.matches(Gd)?this:At.prev(this,Gd)[0]||At.next(this,Gd)[0]||At.findOne(Gd,e.delegateTarget.parentNode),a=es.getOrCreateInstance(o);if(n)return e.stopPropagation(),a.show(),void a._selectMenuItem(e);a._isShown()&&(e.stopPropagation(),a.hide(),o.focus())}}Be.on(document,NO,Gd,es.dataApiKeydownHandler),Be.on(document,NO,OT,es.dataApiKeydownHandler),Be.on(document,LO,es.clearMenus),Be.on(document,p9,es.clearMenus),Be.on(document,LO,Gd,function(r){r.preventDefault(),es.getOrCreateInstance(this).toggle()}),Oa(es);const FO="backdrop",BO=`mousedown.bs.${FO}`,L9={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},N9={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class $O extends g_{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return L9}static get DefaultType(){return N9}static get NAME(){return FO}show(e){if(!this._config.isVisible)return void jr(e);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{jr(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),jr(e)})):jr(e)}dispose(){this._isAppended&&(Be.off(this._element,BO),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Oc(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Be.on(e,BO,()=>{jr(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){mO(e,this._getElement(),this._config.isAnimated)}}const BT=".bs.focustrap",O9=`focusin${BT}`,B9=`keydown.tab${BT}`,GO="backward",H9={autofocus:!0,trapElement:null},j9={autofocus:"boolean",trapElement:"element"};class HO extends g_{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return H9}static get DefaultType(){return j9}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Be.off(document,BT),Be.on(document,O9,e=>this._handleFocusin(e)),Be.on(document,B9,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Be.off(document,BT))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=At.focusableChildren(t);0===i.length?t.focus():this._lastTabNavDirection===GO?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?GO:"forward")}}const jO=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",qO=".sticky-top",$T="padding-right",UO="margin-right";class m2{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,$T,t=>t+e),this._setElementAttributes(jO,$T,t=>t+e),this._setElementAttributes(qO,UO,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,$T),this._resetElementAttributes(jO,$T),this._resetElementAttributes(qO,UO)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const n=this.getWidth();this._applyManipulationCallback(e,a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+n)return;this._saveInitialAttribute(a,t);const l=window.getComputedStyle(a).getPropertyValue(t);a.style.setProperty(t,`${i(Number.parseFloat(l))}px`)})}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&nl.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,n=>{const o=nl.getDataAttribute(n,t);null!==o?(nl.removeDataAttribute(n,t),n.style.setProperty(t,o)):n.style.removeProperty(t)})}_applyManipulationCallback(e,t){if(il(e))t(e);else for(const i of At.find(e,this._element))t(i)}}const Ba=".bs.modal",W9=`hide${Ba}`,K9=`hidePrevented${Ba}`,VO=`hidden${Ba}`,WO=`show${Ba}`,z9=`shown${Ba}`,Y9=`resize${Ba}`,X9=`click.dismiss${Ba}`,J9=`mousedown.dismiss${Ba}`,Q9=`keydown.dismiss${Ba}`,Z9=`click${Ba}.data-api`,KO="modal-open",f2="modal-static",az={backdrop:!0,focus:!0,keyboard:!0},oz={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Hd extends ho{constructor(e,t){super(e,t),this._dialog=At.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new m2,this._addEventListeners()}static get Default(){return az}static get DefaultType(){return oz}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Be.trigger(this._element,WO,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(KO),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Be.trigger(this._element,W9).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Be.off(window,Ba),Be.off(this._dialog,Ba),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new $O({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new HO({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=At.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Be.trigger(this._element,z9,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){Be.on(this._element,Q9,e=>{if("Escape"===e.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Be.on(window,Y9,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Be.on(this._element,J9,e=>{Be.one(this._element,X9,t=>{if(this._element===e.target&&this._element===t.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(KO),this._resetAdjustments(),this._scrollBar.reset(),Be.trigger(this._element,VO)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Be.trigger(this._element,K9).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(f2)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(f2),this._queueCallback(()=>{this._element.classList.remove(f2),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const n=Fa()?"paddingLeft":"paddingRight";this._element.style[n]=`${t}px`}if(!i&&e){const n=Fa()?"paddingRight":"paddingLeft";this._element.style[n]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const i=Hd.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](t)}})}}Be.on(document,Z9,'[data-bs-toggle="modal"]',function(r){const e=At.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&r.preventDefault(),Be.one(e,WO,n=>{n.defaultPrevented||Be.one(e,VO,()=>{Sm(this)&&this.focus()})});const t=At.findOne(".modal.show");t&&Hd.getInstance(t).hide(),Hd.getOrCreateInstance(e).toggle(this)}),DT(Hd),Oa(Hd);const rl=".bs.offcanvas",YO=".data-api",lz=`load${rl}${YO}`,JO="showing",ZO=".offcanvas.show",dz=`show${rl}`,hz=`shown${rl}`,pz=`hide${rl}`,e4=`hidePrevented${rl}`,t4=`hidden${rl}`,gz=`resize${rl}`,mz=`click${rl}${YO}`,fz=`keydown.dismiss${rl}`,bz={backdrop:!0,keyboard:!0,scroll:!1},vz={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Gc extends ho{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return bz}static get DefaultType(){return vz}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||Be.trigger(this._element,dz,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new m2).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(JO),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(JO),Be.trigger(this._element,hz,{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&!Be.trigger(this._element,pz).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new m2).reset(),Be.trigger(this._element,t4)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=!!this._config.backdrop;return new $O({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():Be.trigger(this._element,e4)}:null})}_initializeFocusTrap(){return new HO({trapElement:this._element})}_addEventListeners(){Be.on(this._element,fz,e=>{if("Escape"===e.key){if(this._config.keyboard)return void this.hide();Be.trigger(this._element,e4)}})}static jQueryInterface(e){return this.each(function(){const t=Gc.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Be.on(document,mz,'[data-bs-toggle="offcanvas"]',function(r){const e=At.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),Bc(this))return;Be.one(e,t4,()=>{Sm(this)&&this.focus()});const t=At.findOne(ZO);t&&t!==e&&Gc.getInstance(t).hide(),Gc.getOrCreateInstance(e).toggle(this)}),Be.on(window,lz,()=>{for(const r of At.find(ZO))Gc.getOrCreateInstance(r).show()}),Be.on(window,gz,()=>{for(const r of At.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(r).position&&Gc.getOrCreateInstance(r).hide()}),DT(Gc),Oa(Gc);const i4={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Az=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),_z=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Sz=(r,e)=>{const t=r.nodeName.toLowerCase();return e.includes(t)?!Az.has(t)||!!_z.test(r.nodeValue):e.filter(i=>i instanceof RegExp).some(i=>i.test(t))},wz={allowList:i4,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Tz={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ez={entry:"(string|element|function|null)",selector:"(string|element)"};class Cz extends g_{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return wz}static get DefaultType(){return Tz}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[n,o]of Object.entries(this._config.content))this._setContent(e,o,n);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},Ez)}_setContent(e,t,i){const n=At.findOne(i,e);if(n){if(!(t=this._resolvePossibleFunction(t)))return void n.remove();if(il(t))return void this._putElementInTemplate(Oc(t),n);if(this._config.html)return void(n.innerHTML=this._maybeSanitize(t));n.textContent=t}}_maybeSanitize(e){return this._config.sanitize?function Pz(r,e,t){if(!r.length)return r;if(t&&"function"==typeof t)return t(r);const n=(new window.DOMParser).parseFromString(r,"text/html"),o=[].concat(...n.body.querySelectorAll("*"));for(const a of o){const l=a.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){a.remove();continue}const d=[].concat(...a.attributes),p=[].concat(e["*"]||[],e[l]||[]);for(const b of d)Sz(b,p)||a.removeAttribute(b.nodeName)}return n.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return jr(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Dz=new Set(["sanitize","allowList","sanitizeFn"]),y2="fade",GT="show",Mz=".tooltip-inner",r4="hide.bs.modal",v_="hover",b2="focus",v2="click",Uz={AUTO:"auto",TOP:"top",RIGHT:Fa()?"left":"right",BOTTOM:"bottom",LEFT:Fa()?"right":"left"},Vz={allowList:i4,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Wz={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Cm extends ho{constructor(e,t){super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Vz}static get DefaultType(){return Wz}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Be.off(this._element.closest(".modal"),r4,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=Be.trigger(this._element,this.constructor.eventName("show")),i=(pO(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(n),Be.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(n),n.classList.add(GT),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))Be.on(l,"mouseover",xT);this._queueCallback(()=>{Be.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Be.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(GT),"ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))Be.off(n,"mouseover",xT);this._activeTrigger[v2]=!1,this._activeTrigger[b2]=!1,this._activeTrigger[v_]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Be.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(y2,GT),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(r=>{do{r+=Math.floor(1e6*Math.random())}while(document.getElementById(r));return r})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(y2),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Cz({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Mz]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(y2)}_isShown(){return this.tip&&this.tip.classList.contains(GT)}_createPopper(e){const t=jr(this._config.placement,[this,e,this._element]),i=Uz[t.toUpperCase()];return t2(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return jr(e,[this._element,this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...t,...jr(this._config.popperConfig,[void 0,t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)Be.on(this._element,this.constructor.eventName("click"),this._config.selector,i=>{const n=this._initializeOnDelegatedTarget(i);n._activeTrigger[v2]=!(n._isShown()&&n._activeTrigger[v2]),n.toggle()});else if("manual"!==t){const i=this.constructor.eventName(t===v_?"mouseenter":"focusin"),n=this.constructor.eventName(t===v_?"mouseleave":"focusout");Be.on(this._element,i,this._config.selector,o=>{const a=this._initializeOnDelegatedTarget(o);a._activeTrigger["focusin"===o.type?b2:v_]=!0,a._enter()}),Be.on(this._element,n,this._config.selector,o=>{const a=this._initializeOnDelegatedTarget(o);a._activeTrigger["focusout"===o.type?b2:v_]=a._element.contains(o.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Be.on(this._element.closest(".modal"),r4,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=nl.getDataAttributes(this._element);for(const i of Object.keys(t))Dz.has(i)&&delete t[i];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:Oc(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(e[t]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=Cm.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Oa(Cm);const zz=".popover-header",Yz=".popover-body",Xz={...Cm.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Jz={...Cm.DefaultType,content:"(null|string|element|function)"};class A2 extends Cm{static get Default(){return Xz}static get DefaultType(){return Jz}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[zz]:this._getTitle(),[Yz]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=A2.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Oa(A2);const _2=".bs.scrollspy",eY=`activate${_2}`,a4=`click${_2}`,tY=`load${_2}.data-api`,xm="active",S2="[href]",o4=".nav-link",aY=`${o4}, .nav-item > ${o4}, .list-group-item`,lY={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},cY={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class HT extends ho{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return lY}static get DefaultType(){return cY}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Oc(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Be.off(this._config.target,a4),Be.on(this._config.target,a4,S2,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,n=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:n,behavior:"smooth"});i.scrollTop=n}}))}_getNewObserver(){return new IntersectionObserver(t=>this._observerCallback(t),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(e){const t=a=>this._targetLinks.get(`#${a.target.id}`),i=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(t(a))},n=(this._rootElement||document.documentElement).scrollTop,o=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(a));continue}const l=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&l){if(i(a),!n)return}else!o&&!l&&i(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=At.find(S2,this._config.target);for(const t of e){if(!t.hash||Bc(t))continue;const i=At.findOne(decodeURI(t.hash),this._element);Sm(i)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(xm),this._activateParents(e),Be.trigger(this._element,eY,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))At.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(xm);else for(const t of At.parents(e,".nav, .list-group"))for(const i of At.prev(t,aY))i.classList.add(xm)}_clearActiveClass(e){e.classList.remove(xm);const t=At.find(`${S2}.${xm}`,e);for(const i of t)i.classList.remove(xm)}static jQueryInterface(e){return this.each(function(){const t=HT.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}Be.on(window,tY,()=>{for(const r of At.find('[data-bs-spy="scroll"]'))HT.getOrCreateInstance(r)}),Oa(HT);const jd=".bs.tab",dY=`hide${jd}`,hY=`hidden${jd}`,pY=`show${jd}`,gY=`shown${jd}`,mY=`click${jd}`,fY=`keydown${jd}`,yY=`load${jd}`,bY="ArrowLeft",s4="ArrowRight",vY="ArrowUp",l4="ArrowDown",P2="Home",c4="End",qd="active",k2="show",d4=".dropdown-toggle",w2=`:not(${d4})`,h4='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',T2=`.nav-link${w2}, .list-group-item${w2}, [role="tab"]${w2}, ${h4}`,wY=`.${qd}[data-bs-toggle="tab"], .${qd}[data-bs-toggle="pill"], .${qd}[data-bs-toggle="list"]`;class Dm extends ho{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Be.on(this._element,fY,t=>this._keydown(t)))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?Be.trigger(t,dY,{relatedTarget:e}):null;Be.trigger(e,pY,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(qd),this._activate(At.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Be.trigger(e,gY,{relatedTarget:t})):e.classList.add(k2)},e,e.classList.contains("fade")))}_deactivate(e,t){e&&(e.classList.remove(qd),e.blur(),this._deactivate(At.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Be.trigger(e,hY,{relatedTarget:t})):e.classList.remove(k2)},e,e.classList.contains("fade")))}_keydown(e){if(![bY,s4,vY,l4,P2,c4].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(n=>!Bc(n));let i;if([P2,c4].includes(e.key))i=t[e.key===P2?0:t.length-1];else{const n=[s4,l4].includes(e.key);i=a2(t,e.target,n,!0)}i&&(i.focus({preventScroll:!0}),Dm.getOrCreateInstance(i).show())}_getChildren(){return At.find(T2,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const i of t)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=At.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains("dropdown"))return;const n=(o,a)=>{const l=At.findOne(o,i);l&&l.classList.toggle(a,t)};n(d4,qd),n(".dropdown-menu",k2),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(qd)}_getInnerElement(e){return e.matches(T2)?e:At.findOne(T2,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){const t=Dm.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}Be.on(document,mY,h4,function(r){["A","AREA"].includes(this.tagName)&&r.preventDefault(),!Bc(this)&&Dm.getOrCreateInstance(this).show()}),Be.on(window,yY,()=>{for(const r of At.find(wY))Dm.getOrCreateInstance(r)}),Oa(Dm);const Hc=".bs.toast",EY=`mouseover${Hc}`,CY=`mouseout${Hc}`,xY=`focusin${Hc}`,DY=`focusout${Hc}`,IY=`hide${Hc}`,MY=`hidden${Hc}`,RY=`show${Hc}`,LY=`shown${Hc}`,jT="show",qT="showing",FY={animation:"boolean",autohide:"boolean",delay:"number"},OY={animation:!0,autohide:!0,delay:5e3};class UT extends ho{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return OY}static get DefaultType(){return FY}static get NAME(){return"toast"}show(){Be.trigger(this._element,RY).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(jT,qT),this._queueCallback(()=>{this._element.classList.remove(qT),Be.trigger(this._element,LY),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Be.trigger(this._element,IY).defaultPrevented&&(this._element.classList.add(qT),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(qT,jT),Be.trigger(this._element,MY)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(jT),super.dispose()}isShown(){return this._element.classList.contains(jT)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){Be.on(this._element,EY,e=>this._onInteraction(e,!0)),Be.on(this._element,CY,e=>this._onInteraction(e,!1)),Be.on(this._element,xY,e=>this._onInteraction(e,!0)),Be.on(this._element,DY,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=UT.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}function GY(r){return Fl(r)}function g4(r,e,t){"player"===e?r.playerPackImageBroken=!1:r.opponentPackImageBroken=!1}function VY(r){return xs(r)}function m4(r){r.customPackEditorModal.show(),r.formGroup.get("playerPack").setValue(r.previousPackPlayer,{emitEvent:!1}),r.formGroup.get("opponentPack").setValue(r.previousPackOpponent,{emitEvent:!1})}function E2(r,e){const t=r.petSelectors.toArray().slice("player"==e?0:5,"player"==e?5:10);for(const i of t)i.removePet();"player"===e?(r.formGroup.get("playerToy").setValue(null),r.formGroup.get("playerToyLevel").setValue(1),r.formGroup.get("playerHardToy").setValue(null),r.formGroup.get("playerHardToyLevel").setValue(1)):(r.formGroup.get("opponentToy").setValue(null),r.formGroup.get("opponentToyLevel").setValue(1),r.formGroup.get("opponentHardToy").setValue(null),r.formGroup.get("opponentHardToyLevel").setValue(1))}function C2(r,e,t=!1,i){let n=!1;try{const o=(0,t_.$K)((0,t_.d4)(e));i?.resetBattle&&function QY(r){r.simulated=!1,r.battles=[],r.battleRandomEvents=[],r.battleRandomEventsByBattle=new Map,r.filteredBattlesCache=[],r.viewBattle=null,r.viewBattleLogs=[],r.viewBattleLogRows=[],r.playerWinner=0,r.opponentWinner=0,r.draw=0,r.apiResponse=null,r.battleStarted=!1,r.currBattle=null}(r),r.petSelectors?.length&&(E2(r,"player"),E2(r,"opponent")),VT(r,o),x2(r),t||setTimeout(()=>{r.petSelectors&&r.petSelectors.forEach(a=>{a.fixLoadEquipment()})},0),n=!0}catch(o){console.error(o)}return n}function VT(r,e){r.calculatorStateService.applyCalculatorState(r.formGroup,e,r.dayNight,()=>EF(r)),r.logService.setShowTriggerNamesInLogs(r.formGroup.get("showTriggerNamesInLogs")?.value)}function f4(r){const t=r.formGroup.get("turn").value%2==1;r.dayNight=t,r.gameService.gameApi.day=t}function y4(r){TF(r.formGroup,r.player,r.opponent),WT(r)}function WT(r){r.playerPetsControls=Array.from(r.formGroup.get("playerPets").controls).reverse(),r.opponentPetsControls=Array.from(r.formGroup.get("opponentPets").controls)}function x2(r){r.petService.buildCustomPackPets(r.formGroup.get("customPacks")),b4(r),AT(r,r.player,r.formGroup.get("playerPack").value,!1),AT(r,r.opponent,r.formGroup.get("opponentPack").value,!1),l_(r,r.player,r.formGroup.get("playerToy").value),l_(r,r.opponent,r.formGroup.get("opponentToy").value),r.gameService.gameApi.playerHardToy=r.formGroup.get("playerHardToy").value,r.gameService.gameApi.playerHardToyLevel=r.formGroup.get("playerHardToyLevel").value,r.gameService.gameApi.opponentHardToy=r.formGroup.get("opponentHardToy").value,r.gameService.gameApi.opponentHardToyLevel=r.formGroup.get("opponentHardToyLevel").value,ST(r,r.player,r.formGroup.get("playerHardToy").value),ST(r,r.opponent,r.formGroup.get("opponentHardToy").value),r.previousPackOpponent=r.opponent.pack,r.previousPackPlayer=r.player.pack}function b4(r){for(let e=0;e<5;e++){const t=r.formGroup.get("playerPets").controls[e];if(null==t.get("name").value)continue;const i=r.petService.createPet(t.value,r.player);r.player.setPet(e,i,!0)}for(let e=0;e<5;e++){const t=r.formGroup.get("opponentPets").controls[e];if(null==t.get("name").value)continue;const i=r.petService.createPet(t.value,r.opponent);r.opponent.setPet(e,i,!0)}}function v4(r,e){if(!r.activePetSlot)return r.setStatus("Select a pet slot first.","error"),!1;const t=A4(r,r.activePetSlot.side,r.activePetSlot.index);if(!t)return r.setStatus("Could not access selected pet slot.","error"),!1;const i=t.formGroup?.getRawValue?.();return i?.name?(r.petClipboard=_4(i),e?(t.removePet(),r.setStatus("Pet cut.","success")):r.setStatus("Pet copied.","success"),!0):(r.setStatus("Selected slot is empty.","error"),!1)}function A4(r,e,t){const i="player"===e?r.player:r.opponent;return r.petSelectors?.toArray?.()?.find(n=>n.player===i&&n.index===t)??null}function _4(r){return JSON.parse(JSON.stringify(r))}DT(UT),Oa(UT);var cX=w(6767);function D2(r){return null!==r&&"object"==typeof r&&!Array.isArray(r)}function I2(r){if(Array.isArray(r))return r.map(e=>I2(e));if(D2(r)){const e={};for(const t of Object.keys(r))e[cX.g[t]||t]=I2(r[t]);return e}return r}let pX=(()=>{class r{parseCalculatorStateFromUrl(){const t=new URLSearchParams(window.location.search),i=window.location.hash.startsWith("#")?window.location.hash.slice(1):window.location.hash,n=new URLSearchParams(i.startsWith("?")?i.slice(1):i),o=t.get("c")||n.get("c");if(!o)return{state:null};try{const a=decodeURIComponent(o),l=a.trim().startsWith("{")||a.trim().startsWith("[")?JSON.parse(a):function hX(r){try{return JSON.parse(r)}catch{return JSON.parse(decodeURIComponent(r))}}(function dX(r){const e=atob(function uX(r){const e=r.replace(/\s/g,"+").replace(/-/g,"+").replace(/_/g,"/");return`${e}${"=".repeat((4-e.length%4)%4)}`}(r)),t=Uint8Array.from(e,i=>i.charCodeAt(0));return(new TextDecoder).decode(t)}(o)),d=I2(l);return D2(d)?{state:d}:{state:null}}catch{return{state:null,error:"Failed to parse calculator state from URL."}}}parseApiStateFromUrl(){const i=new URLSearchParams(window.location.search).get("code");if(!i)return{state:null};try{const n=JSON.parse(decodeURIComponent(i));return D2(n)?{state:n}:{state:null}}catch{return{state:null,error:"Error parsing API data from URL."}}}static \u0275fac=function(i){return new(i||r)};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function gX(r){return new X.gE({name:new X.MJ(r?.name??null,X.k0.required),tier1Pets:new X.MJ(r?.tier1Pets??[],r=>r.value&&10!==r.value.length?{length:!0}:null),tier2Pets:new X.MJ(r?.tier2Pets??[],r=>r.value&&10!==r.value.length?{length:!0}:null),tier3Pets:new X.MJ(r?.tier3Pets??[],r=>r.value&&10!==r.value.length?{length:!0}:null),tier4Pets:new X.MJ(r?.tier4Pets??[],r=>r.value&&10!==r.value.length?{length:!0}:null),tier5Pets:new X.MJ(r?.tier5Pets??[],r=>r.value&&10!==r.value.length?{length:!0}:null),tier6Pets:new X.MJ(r?.tier6Pets??[],r=>r.value&&10!==r.value.length?{length:!0}:null),spells:new X.MJ(r?.spells??[])})}let mX=(()=>{class r{gameService;constructor(t){this.gameService=t}applyCalculatorState(t,i,n,o){const a=this.getDefaultState(),l=this.asRecord(i),d={...a,...l};t.patchValue(d,{emitEvent:!1});const p=l?.customPacks,b=l?{...l,customPacks:[]}:{};this.loadCustomPacks(t,p),t.patchValue(b,{emitEvent:!1}),t.get("tokenPets")?.setValue(!0,{emitEvent:!1}),this.normalizeEquipmentControls(t.get("playerPets")),this.normalizeEquipmentControls(t.get("opponentPets")),o&&setTimeout(()=>o()),this.gameService.gameApi.oldStork=t.get("oldStork").value,this.gameService.gameApi.komodoShuffle=t.get("komodoShuffle").value,this.gameService.gameApi.mana=t.get("mana").value,this.gameService.gameApi.playerRollAmount=t.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=t.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=t.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=t.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=t.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=t.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=t.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=t.get("opponentTransformationAmount").value,this.gameService.gameApi.day=n,this.gameService.gameApi.turnNumber=t.get("turn").value}loadCustomPacks(t,i){const n=t.get("customPacks");n.clear();const o=Array.isArray(i)?i:[];for(const a of o){const l=gX(a);n.push(l)}}getDefaultState(){return{playerPack:"Turtle",opponentPack:"Turtle",playerToy:null,playerToyLevel:"1",playerHardToy:null,playerHardToyLevel:"1",opponentToy:null,opponentToyLevel:"1",opponentHardToy:null,opponentHardToyLevel:"1",turn:11,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerPets:Array(5).fill(null),opponentPets:Array(5).fill(null),allPets:!1,logFilter:null,customPacks:[],oldStork:!1,tokenPets:!0,komodoShuffle:!1,mana:!1,seed:null,showAdvanced:!1,showTriggerNamesInLogs:!1,showPositionalArgsInLogs:!0,ailmentEquipment:!1}}normalizeEquipmentControls(t){if(t?.controls?.length)for(const i of t.controls){const o=i.get("equipment");if(!o)continue;const a=o.value,l=this.getEquipmentName(a);l!==a&&o.setValue(l,{emitEvent:!1})}}getEquipmentName(t){return t?"string"==typeof t?t:null!==t&&"object"==typeof t&&"name"in t&&"string"==typeof t.name?t.name:null:null}asRecord(t){return null===t||"object"!=typeof t||Array.isArray(t)?null:t}static \u0275fac=function(i){return new(i||r)(A.KVO(Zi))};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class fX{logService;gameService;abilityService;toyService;player;opponent;constructor(e,t,i,n,o,a){this.logService=e,this.gameService=t,this.abilityService=i,this.toyService=n,this.player=o,this.opponent=a}applyPreBattleFriendDeathCounts(){const e=[this.player,this.opponent];for(const t of e)for(const i of t.petArray)i?.friendsDiedBeforeBattle&&this.abilityService.simulatePostRemovalFriendFaintsCounters(i,i.friendsDiedBeforeBattle)}abilityCycle(){this.emptyFrontSpaceCheck();let e=0;const t=1e5;for(;;){for(;this.abilityService.hasGlobalEvents;){const n=this.abilityService.peekNextHighestPriorityEvent();if(n&&this.abilityService.getPriorityNumber(n.abilityType)>=27&&(this.checkPetsAlive(),this.removeDeadPets())){this.resetClearFrontFlags(),this.emptyFrontSpaceCheck();continue}const o=this.abilityService.getNextHighestPriorityEvent();if(!o){console.error("AbilityCycle: Expected event from queue but got null. Queue state inconsistent.");break}if(e++,e>t){const a=this.abilityService.getQueueSnapshot().map(p=>p.abilityType??"unknown"),l=new Map;for(const p of a)l.set(p,(l.get(p)??0)+1);const d=Array.from(l.entries()).sort((p,b)=>b[1]-p[1]).slice(0,10).map(([p,b])=>`${p}:${b}`).join(", ");throw new Error(`Ability cycle overflow: processed>${t}. Last=${o.abilityType??"unknown"}. QueueLen=${a.length}. Top=[${d}]`)}this.abilityService.executeEventCallback(o),this.checkPetsAlive()}if(this.removeDeadPets()&&(this.resetClearFrontFlags(),this.emptyFrontSpaceCheck()),!this.abilityService.hasGlobalEvents){this.player.checkGoldenSpawn(),this.opponent.checkGoldenSpawn();break}}}checkPetsAlive(){this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}removeDeadPets(){let e=!1;return e=this.player.removeDeadPets(),e=this.opponent.removeDeadPets()||e,e}emptyFrontSpaceCheck(){if(null==this.player.pet0)this.abilityService.triggerEmptyFrontSpaceEvents(this.player);else for(const e of this.player.petArray)e.clearFrontTriggered=!1;if(null==this.opponent.pet0)this.abilityService.triggerEmptyFrontSpaceEvents(this.opponent);else for(const e of this.opponent.petArray)e.clearFrontTriggered=!1;null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceToyEvents()}initToys(){this.registerStartOfBattleToyEvents(this.player),this.registerStartOfBattleToyEvents(this.opponent)}getActiveToys(e){const t=[];return e.toy&&t.push(e.toy),e.hardToy&&t.push(e.hardToy),t}registerStartOfBattleToyEvents(e){const t=this.getActiveToys(e);for(const i of t){const n=i.startOfBattle;n&&this.toyService.setStartOfBattleEvent({callback:()=>{if(e.toy!==i&&e.hardToy!==i)return;n.call(i,this.gameService.gameApi);const o=i.level;for(const a of e.petArray)a instanceof Nh&&(i.level=a.level,n.call(i,this.gameService.gameApi,!0),i.level=o)},priority:i.tier,player:e,customParams:{toyName:i.name,suppressFriendFaintLog:i.suppressFriendFaintLog}})}}initializeEquipmentMultipliers(){for(let e of this.player.petArray)e.equipment&&e.setEquipmentMultiplier();for(let e of this.opponent.petArray)e.equipment&&e.setEquipmentMultiplier()}resetClearFrontFlags(){for(const e of this.player.petArray)e.clearFrontTriggered=!1;for(const e of this.opponent.petArray)e.clearFrontTriggered=!1}}class yX{ctx;constructor(e){this.ctx=e}executeBattleLoop(){for(;this.ctx.getBattleStarted();)this.nextTurn()}startBattle(){this.reset(),this.ctx.setBattleStarted(!0),this.ctx.setTurns(0)}reset(){this.ctx.player.resetPets(),this.ctx.opponent.resetPets()}nextTurn(){let e=!1,t=null;this.ctx.setTurns(this.ctx.getTurns()+1);let i=this.ctx.player.alive(),n=this.ctx.opponent.alive();if(i&&!n){const o=this.tryAllEnemiesFaintedToyTrigger(this.ctx.player,this.ctx.opponent);if(n=this.ctx.opponent.alive(),!o){t=this.ctx.player;const a=this.ctx.getBattle();a&&(a.winner="player"),this.ctx.incrementPlayerWinner(),e=!0}}if(!i&&n){const o=this.tryAllEnemiesFaintedToyTrigger(this.ctx.opponent,this.ctx.player);if(i=this.ctx.player.alive(),!o){t=this.ctx.opponent;const a=this.ctx.getBattle();a&&(a.winner="opponent"),this.ctx.incrementOpponentWinner(),e=!0}}if(!i&&!n&&(this.ctx.incrementDraw(),e=!0),e)return this.ctx.logService.printState(this.ctx.player,this.ctx.opponent),this.endLog(t),void this.ctx.setBattleStarted(!1);if(this.ctx.getTurns()>=this.ctx.maxTurns&&(this.ctx.incrementDraw(),e=!0),e)return this.ctx.logService.printState(this.ctx.player,this.ctx.opponent),this.endLog(t),void this.ctx.setBattleStarted(!1);for(this.pushPetsForwards(),this.ctx.logService.printState(this.ctx.player,this.ctx.opponent);;){let o=this.ctx.player.pet0,a=this.ctx.opponent.pet0;this.ctx.player.pet0&&this.ctx.abilityService.triggerBeforeAttackEvent(this.ctx.player.pet0),this.ctx.opponent.pet0&&this.ctx.abilityService.triggerBeforeAttackEvent(this.ctx.opponent.pet0),this.ctx.abilityService.executeBeforeAttackEvents(),this.ctx.abilityEngine.checkPetsAlive();do{this.ctx.abilityEngine.abilityCycle()}while(this.ctx.abilityService.hasAbilityCycleEvents);if(!this.ctx.player.alive()||!this.ctx.opponent.alive())return;if(this.pushPetsForwards(),o&&o.transformed&&(o=o.transformedInto??o),a&&a.transformed&&(a=a.transformedInto??a),this.ctx.player.pet0==o&&this.ctx.opponent.pet0==a)break}this.ctx.player.resetJumpedFlags(),this.ctx.opponent.resetJumpedFlags(),this.fight(),this.ctx.abilityEngine.checkPetsAlive();do{this.ctx.abilityEngine.abilityCycle()}while(this.ctx.abilityService.hasAbilityCycleEvents)}fight(){const e=this.ctx.player.pet0,t=this.ctx.opponent.pet0;!e||!t||(e.attackPet(t),t.attackPet(e),e.useAttackDefenseEquipment(),t.useAttackDefenseEquipment(),this.ctx.gameService.gameApi.FirstNonJumpAttackHappened=!0,this.ctx.abilityService.executeAfterAttackEvents(),this.ctx.abilityEngine.checkPetsAlive())}pushPetsForwards(){this.ctx.player.pushPetsForward(),this.ctx.opponent.pushPetsForward()}endLog(e){let t;t=null==e?"Draw":e==this.ctx.player?"Player is the winner":"Opponent is the winner",this.ctx.logService.createLog({message:t,type:"board"})}tryAllEnemiesFaintedToyTrigger(e,t){const i=[e.toy,e.hardToy].filter(n=>null!=n?.allEnemiesFainted);if(0===i.length)return!1;for(const n of i)n?.allEnemiesFainted?.(this.ctx.gameService.gameApi);return t.alive()}}class S4{logService;gameService;abilityService;petService;equipmentService;toyService;player;opponent;battleStarted=!1;turns=0;maxTurns=71;currBattle=null;battles=[];playerWinner=0;opponentWinner=0;draw=0;abilityEngine;eventProcessor;petFormCache=new WeakMap;constructor(e,t,i,n,o,a){this.logService=e,this.gameService=t,this.abilityService=i,this.petService=n,this.equipmentService=o,this.toyService=a,this.logService=nr(this.logService),this.player=new Bh(this.logService,i,t),this.opponent=new Bh(this.logService,i,t),this.opponent.isOpponent=!0,this.gameService.init(this.player,this.opponent),this.abilityEngine=new fX(this.logService,this.gameService,this.abilityService,this.toyService,this.player,this.opponent),this.eventProcessor=new yX({player:this.player,opponent:this.opponent,logService:this.logService,gameService:this.gameService,abilityService:this.abilityService,abilityEngine:this.abilityEngine,maxTurns:this.maxTurns,getBattle:()=>this.currBattle,setBattle:d=>{this.currBattle=d},getBattleStarted:()=>this.battleStarted,setBattleStarted:d=>{this.battleStarted=d},getTurns:()=>this.turns,setTurns:d=>{this.turns=d},incrementPlayerWinner:()=>{this.playerWinner+=1},incrementOpponentWinner:()=>{this.opponentWinner+=1},incrementDraw:()=>{this.draw+=1}})}run(e,t){const i=function vX(r){if(null==r||!Number.isFinite(r))return()=>{};const e=function AX(r){let e=r>>>0;return()=>{e=e+1831565813>>>0;let t=Math.imul(e^e>>>15,1|e);return t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296}}(Math.trunc(r)),t=Math,i=t.random;return t.random=e,()=>{t.random=i}}(e.seed);let n,o={playerWins:0,opponentWins:0,draws:0,battles:[]};!function lf(r){const e=new Map,t=new Map;for(const i of r?.overrides??[]){if(!i||!Number.isFinite(i.index))continue;const n=Math.trunc(i.index);if(n<0)continue;const o=`${i.optionId??""}`.trim();if(!o)continue;const a=`${i.key??""}`.trim(),l=`${i.label??""}`.trim();a&&l&&t.set(vs(a,l),o),e.set(n,o)}uu={capture:!!r?.capture,strictValidation:!1!==r?.strictValidation,overridesByIndex:e,overridesByFingerprint:t,decisions:[],invalidOverrideError:null}}({capture:e.captureRandomDecisions,overrides:e.randomDecisionOverrides,strictValidation:!1!==e.strictRandomOverrideValidation});try{let a=e.simulationCount||1e3;const l=!1!==e.logsEnabled;let d=0;const p=t?.onProgress&&null!=t.progressInterval?Math.max(1,t.progressInterval):null;this.logService.setEnabled(l),this.logService.setDeferDecorations(!0),this.resetSimulation(),this.setupGameEnvironment(e),e.optimizeDeterministicSimulations&&function bX(r,e,t,i){if(r.komodoShuffle||r.oldStork||r.playerToy&&i.isToyRandom(r.playerToy)||r.opponentToy&&i.isToyRandom(r.opponentToy))return!1;const n=o=>{if(!o)return!0;for(let a=0;a<o.length;a++){const l=o[a];if(!l||!l.name)continue;if(e.isPetRandom(l.name))return!1;let d=null;if("string"==typeof l.equipment?d=l.equipment:l.equipment&&"object"==typeof l.equipment&&(d=l.equipment.name),d&&t.isEquipmentRandom(d))return!1}return!0};return!(!n(r.playerPets)||!n(r.opponentPets))}(e,this.petService,this.equipmentService,this.toyService)&&(a=1);let b=null==e.maxLoggedBattles?l?a:0:Math.max(0,e.maxLoggedBattles);b>a&&(b=a);for(let T=0;T<a&&!t?.shouldAbort?.();T++){const F=l&&b>0&&d<b;if(this.logService.setEnabled(F),this.initBattle(e,F),F&&(d+=1),this.prepareBattle(e),this.executeBattleLoop(),this.reset(),t?.onProgress&&null!=p){const U=T+1;(U%p===0||U===a)&&t.onProgress({completed:U,total:a,playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw,loggedBattles:this.battles.length})}if(t?.shouldAbort?.())break}o={playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw,battles:this.battles}}finally{i(),n=function M_(){const r={decisions:uu?.decisions??[],invalidOverrideError:uu?.invalidOverrideError??null};return uu=null,r}()}return o.randomDecisions=n.decisions,o.randomOverrideError=n.invalidOverrideError,o}resetSimulation(){this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.currBattle=null}setupGameEnvironment(e){let t=1;e.turn>2&&(t=2),e.turn>4&&(t=3),e.turn>6&&(t=4),e.turn>8&&(t=5),e.turn>10&&(t=6),this.gameService.setPreviousShopTier(t),this.gameService.setTurnNumber(e.turn),this.gameService.setGoldSpent(e.playerGoldSpent??10,e.opponentGoldSpent??10),this.gameService.gameApi.oldStork=e.oldStork??!1,this.gameService.gameApi.komodoShuffle=e.komodoShuffle??!1,this.gameService.gameApi.mana=e.mana??!1,this.gameService.gameApi.playerRollAmount=e.playerRollAmount??4,this.gameService.gameApi.opponentRollAmount=e.opponentRollAmount??4,this.gameService.gameApi.playerLevel3Sold=e.playerLevel3Sold??0,this.gameService.gameApi.opponentLevel3Sold=e.opponentLevel3Sold??0,this.petService.setCustomPackPools(e.customPacks??[]),this.player.pack=e.playerPack,this.opponent.pack=e.opponentPack;const i=a=>{switch(a){case"Turtle":return this.petService.turtlePackPets;case"Puppy":return this.petService.puppyPackPets;case"Star":return this.petService.starPackPets;case"Golden":return this.petService.goldenPackPets;case"Unicorn":return this.petService.unicornPackPets;case"Danger":return this.petService.dangerPackPets;default:return this.petService.playerCustomPackPets.get(a)||new Map}},n=i(e.playerPack),o=i(e.opponentPack);this.gameService.setTierGroupPets(n,o)}initBattle(e,t=!0){this.logService.reset(),this.abilityService.clearGlobalEventQueue(),t?(this.currBattle={winner:"draw",logs:this.logService.getLogs()},this.battles.push(this.currBattle)):this.currBattle=null,this.gameService.gameApi.opponentSummonedAmount=e.opponentSummonedAmount??0,this.gameService.gameApi.playerSummonedAmount=e.playerSummonedAmount??0,this.gameService.gameApi.opponentTransformationAmount=e.opponentTransformationAmount??0,this.gameService.gameApi.playerTransformationAmount=e.playerTransformationAmount??0}prepareBattle(e){this.reset(),this.createPets(this.player,e.playerPets),this.createPets(this.opponent,e.opponentPets),this.applyPreBattleFriendDeathCounts(),e.playerToy?(this.player.toy=this.toyService.createToy(e.playerToy,this.player,e.playerToyLevel??1),this.player.originalToy=this.player.toy):(this.player.toy=null,this.player.originalToy=null),e.playerHardToy?(this.player.hardToy=this.toyService.createToy(e.playerHardToy,this.player,e.playerHardToyLevel??1),this.player.originalHardToy=this.player.hardToy):(this.player.hardToy=null,this.player.originalHardToy=null),e.opponentToy?(this.opponent.toy=this.toyService.createToy(e.opponentToy,this.opponent,e.opponentToyLevel??1),this.opponent.originalToy=this.opponent.toy):(this.opponent.toy=null,this.opponent.originalToy=null),e.opponentHardToy?(this.opponent.hardToy=this.toyService.createToy(e.opponentHardToy,this.opponent,e.opponentHardToyLevel??1),this.opponent.originalHardToy=this.opponent.hardToy):(this.opponent.hardToy=null,this.opponent.originalHardToy=null),this.gameService.gameApi.playerHardToy=e.playerHardToy??null,this.gameService.gameApi.playerHardToyLevel=e.playerHardToyLevel??1,this.gameService.gameApi.opponentHardToy=e.opponentHardToy??null,this.gameService.gameApi.opponentHardToyLevel=e.opponentHardToyLevel??1,this.startBattle(),this.initToys(),this.abilityService.initSpecialEndTurnAbility(this.player),this.abilityService.initSpecialEndTurnAbility(this.opponent),this.gameService.gameApi.FirstNonJumpAttackHappened=!1,this.initializeEquipmentMultipliers(),this.logService.createLog({message:"Phase 1: Before battle",type:"board"}),this.logService.printState(this.player,this.opponent),this.abilityService.triggerBeforeStartOfBattleEvents(),this.abilityService.executeBeforeStartOfBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);const t=i=>"Churros"===i.equipment?.name;this.logService.createLog({message:"Phase 2: Start of battle",type:"board"}),this.logService.printState(this.player,this.opponent),this.abilityService.triggerStartBattleEvents(t),this.abilityService.executeStartBattleEvents(),this.toyService.executeStartOfBattleEvents(),this.abilityService.triggerStartBattleEvents(i=>!t(i)),this.abilityService.executeStartBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);this.logService.createLog({message:"Phase 3: After Start of Battle",type:"board"}),this.logService.printState(this.player,this.opponent)}createPets(e,t){for(let i=0;i<5;i++){const n=t[i];if(!n||!n.name)continue;let o=this.petFormCache.get(n);o||(o=this.buildPetForm(n),this.petFormCache.set(n,o));const a=this.petService.createPet(o,e);e.setPet(i,a,!0)}}buildPetForm(e){const t=e.equipment;let i=null;"string"==typeof t?i={name:t}:t&&"object"==typeof t&&(i=t);const n=t&&"object"==typeof t?t:null;return{...e,name:e.name,attack:e.attack??0,health:e.health??0,exp:e.exp??0,mana:e.mana??0,triggersConsumed:e.triggersConsumed??0,foodsEaten:e.foodsEaten??0,equipment:i,equipmentUses:e.equipmentUses??("number"==typeof n?.uses?n.uses:null),battlesFought:e.battlesFought??0,timesHurt:e.timesHurt??0,friendsDiedBeforeBattle:e.friendsDiedBeforeBattle??0,abominationSwallowedPet1TimesHurt:e.abominationSwallowedPet1TimesHurt??0,abominationSwallowedPet2TimesHurt:e.abominationSwallowedPet2TimesHurt??0,abominationSwallowedPet3TimesHurt:e.abominationSwallowedPet3TimesHurt??0}}applyPreBattleFriendDeathCounts(){this.abilityEngine.applyPreBattleFriendDeathCounts()}executeBattleLoop(){this.eventProcessor.executeBattleLoop()}startBattle(){this.eventProcessor.startBattle()}reset(){this.eventProcessor.reset()}nextTurn(){this.eventProcessor.nextTurn()}fight(){this.eventProcessor.fight()}abilityCycle(){this.abilityEngine.abilityCycle()}checkPetsAlive(){this.abilityEngine.checkPetsAlive()}removeDeadPets(){return this.abilityEngine.removeDeadPets()}emptyFrontSpaceCheck(){this.abilityEngine.emptyFrontSpaceCheck()}initToys(){this.abilityEngine.initToys()}pushPetsForwards(){this.eventProcessor.pushPetsForwards()}endLog(e){this.eventProcessor.endLog(e)}initializeEquipmentMultipliers(){this.abilityEngine.initializeEquipmentMultipliers()}resetClearFrontFlags(){this.abilityEngine.resetClearFrontFlags()}}function EX(r){const{baseConfig:e,simulateBatch:t,shouldAbort:i,onProgress:n}=r,o=r.options.side,a=Math.max(1,Math.trunc(r.options.maxSimulationsPerPermutation??e.simulationCount??250)),l=Math.max(1,Math.trunc(r.options.batchSize??25)),d=null!=r.options.confidenceZ&&Number.isFinite(r.options.confidenceZ)?Math.max(0,r.options.confidenceZ):1.96,p=Math.max(1,Math.trunc(r.options.minSamplesBeforeElimination??50)),b=null!=r.options.baseSeed&&Number.isFinite(r.options.baseSeed)?Math.trunc(r.options.baseSeed):null!=e.seed&&Number.isFinite(e.seed)?Math.trunc(e.seed):123456789,T="player"===o?"playerPets":"opponentPets",F=(e[T]??[]).slice(),U=function DX(r){const e=r.length;if(e<=0)return[[]];const t=function IX(r){const e=[];for(let t=0;t<r.length;t+=1){const i=r[t],n=e.find(o=>R2(o.representative,i));n?n.indices.push(t):e.push({representative:i,indices:[t]})}return e}(r),i=t.map(a=>a.indices.length),o=[];return k4(0,new Array(e),i,o),o.map(a=>function MX(r,e){const t=e.map(()=>0);return r.map(i=>{const n=t[i];t[i]+=1;const o=e[i].indices[n];if(null==o)throw new Error("Failed to map grouped permutation to index permutation.");return o})}(a,t))}(F),ee=U.map(Je=>({order:Je,lineup:xX(F,Je),simulations:0,wins:0,draws:0,losses:0,score:0,lowerBound:0,upperBound:1,eliminated:!1,rounds:0}));let Z=0;const se=U.length*a;let ve=0,Te=!1;if(0===ee.length)throw new Error("Could not generate any board permutations.");for(;;){if(i?.()){Te=!0;break}const Je=ee.filter(It=>!It.eliminated);if(Je.length<=1)break;const Ge=b+ve;let Ie=!1;for(const It of Je){if(i?.()){Te=!0;break}if(It.simulations>=a)continue;const Gn=Math.min(l,a-It.simulations);if(Gn<=0)continue;Ie=!0;const Bt=t({...e,[T]:It.lineup,simulationCount:Gn,logsEnabled:!1,maxLoggedBattles:0,captureRandomDecisions:!1,randomDecisionOverrides:[],seed:Ge}),qr="player"===o?Bt.playerWins:Bt.opponentWins,kr="player"===o?Bt.opponentWins:Bt.playerWins;It.simulations+=Gn,It.rounds+=1,It.wins+=qr,It.draws+=Bt.draws,It.losses+=kr,M2(It,d),Z+=Gn;const ha=ee.filter(pa=>pa.simulations>0).length,Mm=Math.max(...ee.map(pa=>pa.score));n?.({completedBattles:Z,totalBattlesEstimate:se,testedPermutations:ha,activePermutations:ee.filter(pa=>!pa.eliminated).length,bestScore:Mm})}if(Te||!Ie)break;const dt=ee.filter(It=>!It.eliminated);for(const It of dt)M2(It,d);const yi=dt.filter(It=>It.simulations>=p);if(yi.length>1){const It=Math.max(...yi.map(bi=>bi.lowerBound));for(const bi of yi)bi.upperBound<It&&(bi.eliminated=!0)}ve+=1}for(const Je of ee)M2(Je,d);const Ke=[...ee].sort((Je,Ge)=>Ge.score!==Je.score?Ge.score-Je.score:Ge.lowerBound!==Je.lowerBound?Ge.lowerBound-Je.lowerBound:Ge.simulations!==Je.simulations?Ge.simulations-Je.simulations:0),et=Ke[0];if(!et)throw new Error("Positioning optimization failed to rank candidates.");return{side:o,totalPermutations:ee.length,prunedPermutations:ee.filter(Je=>Je.eliminated).length,simulatedBattles:Z,aborted:Te,bestPermutation:P4(et),rankedPermutations:Ke.map(P4)}}function P4(r){return{order:[...r.order],lineup:[...r.lineup],simulations:r.simulations,wins:r.wins,draws:r.draws,losses:r.losses,score:r.score,lowerBound:r.lowerBound,upperBound:r.upperBound,eliminated:r.eliminated}}function M2(r,e){const t=r.simulations;if(t<=0)return r.score=0,r.lowerBound=0,void(r.upperBound=1);const i=function CX(r,e,t){return t<=0?0:(r+.5*e)/t}(r.wins,r.draws,t),n=Math.max(0,i*(1-i)),o=e*Math.sqrt(n/t);r.score=i,r.lowerBound=Math.max(0,i-o),r.upperBound=Math.min(1,i+o)}function xX(r,e){return e.map(t=>r[t])}function k4(r,e,t,i){if(r>=e.length)i.push(e.slice());else for(let n=0;n<t.length;n+=1)t[n]<=0||(e[r]=n,t[n]-=1,k4(r+1,e,t,i),t[n]+=1)}function R2(r,e){if(Object.is(r,e))return!0;if(null==r||null==e)return r===e;if(Array.isArray(r)||Array.isArray(e)){if(!Array.isArray(r)||!Array.isArray(e)||r.length!==e.length)return!1;for(let a=0;a<r.length;a+=1)if(!R2(r[a],e[a]))return!1;return!0}if("object"!=typeof r||"object"!=typeof e)return!1;const t=r,i=e,n=Object.keys(t).sort(),o=Object.keys(i).sort();if(n.length!==o.length)return!1;for(let a=0;a<n.length;a+=1){const l=n[a],d=o[a];if(l!==d||!R2(t[l],i[d]))return!1}return!0}let RX=(()=>{class r{logService;gameService;abilityService;petService;equipmentService;toyService;constructor(t,i,n,o,a,l){this.logService=t,this.gameService=i,this.abilityService=n,this.petService=o,this.equipmentService=a,this.toyService=l}runSimulationInWorker(t,i,n,o,a,l,d){if(typeof Worker>"u"){const U=this.runSimulation(t,i,n,o);return a.onResult?.(U),null}const p=this.buildConfig(t,i,d),b=t.get("showTriggerNamesInLogs")?.value??!1,T=l?.progressInterval??50,F=new Worker(w.tu(new URL(w.p+w.u(63),w.b)),{type:void 0});return F.onmessage=({data:U})=>{!U||!U.type||("progress"===U.type?a.onProgress?.(U):"result"===U.type?a.onResult?.(U.result):"aborted"===U.type?a.onAborted?.(U.result):"error"===U.type&&a.onError?.(U.message||"Worker simulation failed."))},F.onerror=U=>{a.onError?.(U.message||"Worker simulation failed.")},F.postMessage({type:"start",config:p,progressInterval:T,showTriggerNamesInLogs:b}),F}runPositioningOptimizationInWorker(t,i,n,o,a,l,d){if(typeof Worker>"u"){const T=this.runPositioningOptimization(t,i,n,o,l,d);return a.onResult?.(T),null}const p=this.buildConfig(t,i,d),b=new Worker(w.tu(new URL(w.p+w.u(444),w.b)),{type:void 0});return b.onmessage=({data:T})=>{!T||!T.type||("positioning-progress"===T.type?a.onProgress?.(T.progress):"positioning-result"===T.type?a.onResult?.(T.result):"positioning-aborted"===T.type?a.onAborted?.(T.result):"error"===T.type&&a.onError?.(T.message||"Worker optimization failed."))},b.onerror=T=>{a.onError?.(T.message||"Worker optimization failed.")},b.postMessage({type:"optimize-positioning-start",config:p,options:l}),b}requestWorkerCancel(t){if(t)try{t.postMessage({type:"cancel"})}catch{}}runSimulation(t,i,n,o,a){const l=this.buildConfig(t,i,a),d=this.logService.isEnabled(),p=this.logService.isDeferDecorations();this.logService.setEnabled(!1!==l.logsEnabled),this.logService.setDeferDecorations(!0);const T=new S4(this.logService,this.gameService,this.abilityService,this.petService,this.equipmentService,this.toyService).run(l);return this.gameService.init(n,o),this.syncGameApiFromForm(t),this.logService.setEnabled(d),this.logService.setDeferDecorations(p),T}runPositioningOptimization(t,i,n,o,a,l){const d=this.buildConfig(t,i,l),p=this.logService.isEnabled(),b=this.logService.isDeferDecorations();this.logService.setEnabled(!1),this.logService.setDeferDecorations(!0);const T=new S4(this.logService,this.gameService,this.abilityService,this.petService,this.equipmentService,this.toyService),F=EX({baseConfig:d,options:{side:a.side,batchSize:a.batchSize,maxSimulationsPerPermutation:a.maxSimulationsPerPermutation,confidenceZ:a.confidenceZ,minSamplesBeforeElimination:a.minSamplesBeforeElimination},simulateBatch:U=>T.run(U)});return this.gameService.init(n,o),this.syncGameApiFromForm(t),this.logService.setEnabled(p),this.logService.setDeferDecorations(b),F}syncGameApiFromForm(t){this.gameService.gameApi.oldStork=t.get("oldStork").value,this.gameService.gameApi.komodoShuffle=t.get("komodoShuffle").value,this.gameService.gameApi.mana=t.get("mana").value,this.gameService.gameApi.playerRollAmount=t.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=t.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=t.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=t.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=t.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=t.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=t.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=t.get("opponentTransformationAmount").value,this.gameService.setGoldSpent(t.get("playerGoldSpent").value,t.get("opponentGoldSpent").value),this.gameService.setTurnNumber(t.get("turn").value)}buildConfig(t,i,n){const o=t.get("logsEnabled")?.value??!0,a=t.get("seed")?.value,l=Number(a),d=""!==a&&null!=a&&Number.isFinite(l)?Math.trunc(l):null;return{playerPack:t.get("playerPack").value,opponentPack:t.get("opponentPack").value,playerToy:t.get("playerToy").value,playerToyLevel:t.get("playerToyLevel").value,playerHardToy:t.get("playerHardToy").value,playerHardToyLevel:t.get("playerHardToyLevel").value,opponentToy:t.get("opponentToy").value,opponentToyLevel:t.get("opponentToyLevel").value,opponentHardToy:t.get("opponentHardToy").value,opponentHardToyLevel:t.get("opponentHardToyLevel").value,turn:t.get("turn").value,playerGoldSpent:t.get("playerGoldSpent").value,opponentGoldSpent:t.get("opponentGoldSpent").value,playerRollAmount:t.get("playerRollAmount").value,opponentRollAmount:t.get("opponentRollAmount").value,playerSummonedAmount:t.get("playerSummonedAmount").value,opponentSummonedAmount:t.get("opponentSummonedAmount").value,playerLevel3Sold:t.get("playerLevel3Sold").value,opponentLevel3Sold:t.get("opponentLevel3Sold").value,playerTransformationAmount:t.get("playerTransformationAmount").value,opponentTransformationAmount:t.get("opponentTransformationAmount").value,playerPets:this.normalizePetList(t.get("playerPets").value),opponentPets:this.normalizePetList(t.get("opponentPets").value),customPacks:this.normalizeCustomPacks(t.get("customPacks")?.value),allPets:t.get("allPets").value,oldStork:t.get("oldStork").value,tokenPets:t.get("tokenPets").value,komodoShuffle:t.get("komodoShuffle").value,mana:t.get("mana").value,seed:d,simulationCount:i,logsEnabled:o,maxLoggedBattles:100,...n}}normalizeCustomPacks(t){return Array.isArray(t)?t.map(i=>this.normalizeCustomPack(i)).filter(i=>null!==i):[]}isRecord(t){return"object"==typeof t&&null!==t}normalizeCustomPack(t){if(!this.isRecord(t))return null;const i=`${t.name??""}`.trim();if(!i)return null;const n=o=>Array.isArray(o)?o.filter(a=>"string"==typeof a).map(a=>a.trim()).filter(a=>a.length>0):[];return{name:i,tier1Pets:n(t.tier1Pets),tier2Pets:n(t.tier2Pets),tier3Pets:n(t.tier3Pets),tier4Pets:n(t.tier4Pets),tier5Pets:n(t.tier5Pets),tier6Pets:n(t.tier6Pets),spells:n(t.spells)}}normalizePetList(t){return Array.isArray(t)?t.map(i=>this.normalizePetEntry(i)):[]}normalizePetEntry(t){if(!this.isRecord(t)||"string"!=typeof t.name||!t.name)return null;const i={...t},n=i.equipment;let o=null,a="number"==typeof i.equipmentUses?i.equipmentUses:null;if(this.isRecord(n)){if(o="string"==typeof n.name?n.name:null,null==a&&null!=n.uses){const l=Number(n.uses);a=Number.isFinite(l)?l:null}}else"string"==typeof n&&(o=n);return i.equipment=o?{name:o}:null,i.equipmentUses=a??null,delete i.parent,delete i.logService,delete i.abilityService,delete i.gameService,delete i.petService,delete i.abilityList,delete i.originalAbilityList,delete i.originalEquipment,i}static \u0275fac=function(i){return new(i||r)(A.KVO(Yn),A.KVO(Zi),A.KVO(Da),A.KVO(Xn),A.KVO(Pi),A.KVO(Ar))};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function L2(){return[{id:"default-max-damage",name:"1000 Mana",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:3,pets:Array.from({length:5},()=>({name:"Sea Serpent",attack:50,health:50,exp:5,equipment:{name:"Coconut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-great-six",name:"The Great Six",createdAt:Date.now(),toyName:"Evil Book",toyLevel:3,pets:Array.from({length:5},()=>({name:"Beluga Whale",attack:50,health:50,exp:5,equipment:{name:"White Okra"},belugaSwallowedPet:"Great One",sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-ability-removal",name:"Orca Scam",createdAt:Date.now(),playerToyName:"Pandoras Box",playerToyLevel:1,opponentToyName:null,opponentToyLevel:1,playerHardToy:null,playerHardToyLevel:1,opponentHardToy:null,opponentHardToyLevel:1,turn:11,playerGoldSpent:10,opponentGoldSpent:10,allPets:!0,tokenPets:!0,komodoShuffle:!1,mana:!0,triggersConsumed:!1,changeEquipmentUses:!1,playerRollAmount:3,opponentRollAmount:1,playerLevel3Sold:0,opponentLevel3Sold:0,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:100,opponentTransformationAmount:100,pets:[{name:"Giant Pangasius",attack:49,health:1,exp:1,equipment:null,belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1Level:1,abominationSwallowedPet2Level:1,abominationSwallowedPet3Level:1,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:1,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Orca",abominationSwallowedPet2:"Behemoth",abominationSwallowedPet3:"Rat",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:50,health:1,exp:5,equipment:{name:"Silly"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Rat",abominationSwallowedPet2:"Phoenix",abominationSwallowedPet3:"Giant Pangasius",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:1,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:1,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Rat",abominationSwallowedPet3:"Albatross",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Cashew Nut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Panther",abominationSwallowedPet3:"Guineafowl",abominationSwallowedPet1Level:1,abominationSwallowedPet2Level:1,abominationSwallowedPet3Level:1,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}]},{id:"default-sob-snipes",name:"SoB Snipes",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:3,pets:Array.from({length:5},()=>({name:"Leopard",attack:50,health:50,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-infinite-damage",name:"Infinite Damage",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:1,rollAmount:47,transformationAmount:200,pets:[{name:"Giant Pangasius",attack:50,health:1,exp:5,equipment:{name:"Mushroom"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Beluga Whale",abominationSwallowedPet3Level:1,abominationSwallowedPet3BelugaSwallowedPet:"Giant Pangasius",abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Cashew Nut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Beluga Whale",abominationSwallowedPet3Level:1,abominationSwallowedPet3BelugaSwallowedPet:"Nessie",abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Sabertooth Tiger",abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:25,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Beluga Whale",abominationSwallowedPet3Level:1,abominationSwallowedPet3BelugaSwallowedPet:"Slug",abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}]},{id:"default-layers",name:"Layers",createdAt:Date.now(),playerToyName:"Nutcracker",playerToyLevel:3,opponentToyName:"Nutcracker",opponentToyLevel:3,playerHardToy:null,playerHardToyLevel:1,opponentHardToy:null,opponentHardToyLevel:1,turn:13,playerGoldSpent:13,opponentGoldSpent:13,allPets:!0,tokenPets:!0,komodoShuffle:!1,mana:!0,triggersConsumed:!1,changeEquipmentUses:!1,playerRollAmount:1e3,opponentRollAmount:1e3,playerLevel3Sold:1e3,opponentLevel3Sold:1e3,playerSummonedAmount:1e3,opponentSummonedAmount:1e3,playerTransformationAmount:1e3,opponentTransformationAmount:1e3,pets:[{name:"Giant Pangasius",attack:50,health:1,exp:5,equipment:{name:"Mushroom"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1Level:1,abominationSwallowedPet2Level:1,abominationSwallowedPet3Level:1,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Rat",abominationSwallowedPet3:"Sabertooth Tiger",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:50,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Cashew Nut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Guineafowl",abominationSwallowedPet3:"Vaquita",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:1,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:50,battlesFought:0,timesHurt:0,equipmentUses:1},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Rat",abominationSwallowedPet3:"Vaquita",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:50,battlesFought:0,timesHurt:0,equipmentUses:1},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Rat",abominationSwallowedPet3:"Sabertooth Tiger",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:50,battlesFought:0,timesHurt:0,equipmentUses:null}]}]}let LX=(()=>{class r{storageKey="sap-team-presets";removedPresetIds=new Set(["default-shoggoth","default-shoggoths-return","default-sloths"]);loadTeams(){const t=window.localStorage.getItem(this.storageKey);if(!t)return L2();try{const i=JSON.parse(t),n=Array.isArray(i)?i:[],o=this.migrateTeams(n);return o.changed&&this.persistTeams(o.teams),this.mergeDefaultTeams(o.teams)}catch{return L2()}}persistTeams(t){window.localStorage.setItem(this.storageKey,JSON.stringify(t))}mergeDefaultTeams(t){const i=L2(),n=new Set(t.map(a=>a.id)),o=[...t];for(const a of i)n.has(a.id)||o.push(a);return o}migrateTeams(t){let i=!1;return{teams:t.map(a=>a).filter(a=>!this.removedPresetIds.has(a.id)||(i=!0,!1)),changed:i}}static \u0275fac=function(i){return new(i||r)};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const NX=["customPackEditor"],FX=()=>[w.e(142).then(w.bind(w,7142)).then(r=>r.InfoComponent)],OX=()=>[w.e(9).then(w.bind(w,4009)).then(r=>r.ImportCalculatorComponent)],BX=()=>[X.cb,X.j4,w.e(56).then(w.bind(w,56)).then(r=>r.ExportCalculatorComponent)],$X=()=>[w.e(80).then(w.bind(w,3699)).then(r=>r.ReportABugComponent)];function GX(r,e){if(1&r&&(c.qex(0),c.j41(1,"div",6),c.EFF(2),c.k0s(),c.bVm()),2&r){const t=c.XpG();c.R7$(2),c.JRh(t.apiResponse)}}function HX(r,e){if(1&r&&c.nrm(0,"img",51),2&r){const t=c.XpG(2);c.Y8G("ngSrc",t.playerToyImageUrl)}}function jX(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",52)(1,"button",53),c.bIt("click",function(){A.eBV(t);const n=c.XpG(2);return A.Njj(n.decrementToyLevel("player"))}),c.nrm(2,"i",54),c.k0s(),c.j41(3,"span",55),c.EFF(4),c.k0s(),c.j41(5,"button",56),c.bIt("click",function(){A.eBV(t);const n=c.XpG(2);return A.Njj(n.incrementToyLevel("player"))}),c.nrm(6,"i",57),c.k0s()()}if(2&r){const t=c.XpG(2);c.R7$(4),c.SpI("Lv",t.formGroup.get("playerToyLevel").value)}}function qX(r,e){if(1&r&&c.nrm(0,"img",58),2&r){const t=c.XpG(2);c.Y8G("ngSrc",t.playerHardToyImageUrl)}}function UX(r,e){if(1&r){const t=c.RV6();c.j41(0,"button",59),c.bIt("click",function(){A.eBV(t);const n=c.XpG(2);return A.Njj(n.removeHardToy("player"))}),c.nrm(1,"i",60),c.k0s()}}function VX(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",61),c.bIt("mousedown",function(){const n=A.eBV(t).index,o=c.XpG(2);return A.Njj(o.setActivePetSlot("player",4-n))})("focusin",function(){const n=A.eBV(t).index,o=c.XpG(2);return A.Njj(o.setActivePetSlot("player",4-n))}),c.j41(1,"div",62)(2,"button",63),c.bIt("click",function(n){return A.eBV(t),c.sdS(5).removePet(),A.Njj(n.stopPropagation())}),c.EFF(3," X "),c.k0s()(),c.nrm(4,"app-pet-selector",64,2),c.k0s()}if(2&r){const t=e.$implicit,i=e.index,n=c.XpG(2);c.AVh("pet-slot-active","player"===(null==n.activePetSlot?null:n.activePetSlot.side)&&(null==n.activePetSlot?null:n.activePetSlot.index)===4-i),c.Y8G("cdkDragStartDelay",n.petSlotDragStartDelay),c.R7$(4),c.Y8G("pet",n.player.getPet(4-i))("player",n.player)("opponent",n.opponent)("index",4-i)("formGroup",n.makeFormGroup(t))("ailments",!0)("allPets",n.formGroup.get("allPets").value)("mana",n.formGroup.get("mana").value)("triggersConsumed",n.formGroup.get("triggersConsumed").value)("allowEquipmentUseOverrides",n.formGroup.get("changeEquipmentUses").value)("showTokenPets",n.formGroup.get("tokenPets").value)("flipImage",!0)("customPacks",n.formGroup.get("customPacks"))}}function WX(r,e){if(1&r&&c.nrm(0,"img",65),2&r){const t=c.XpG(2);c.Y8G("ngSrc",t.opponentToyImageUrl)}}function KX(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",52)(1,"button",66),c.bIt("click",function(){A.eBV(t);const n=c.XpG(2);return A.Njj(n.decrementToyLevel("opponent"))}),c.nrm(2,"i",54),c.k0s(),c.j41(3,"span",55),c.EFF(4),c.k0s(),c.j41(5,"button",67),c.bIt("click",function(){A.eBV(t);const n=c.XpG(2);return A.Njj(n.incrementToyLevel("opponent"))}),c.nrm(6,"i",57),c.k0s()()}if(2&r){const t=c.XpG(2);c.R7$(4),c.SpI("Lv",t.formGroup.get("opponentToyLevel").value)}}function zX(r,e){if(1&r&&c.nrm(0,"img",68),2&r){const t=c.XpG(2);c.Y8G("ngSrc",t.opponentHardToyImageUrl)}}function YX(r,e){if(1&r){const t=c.RV6();c.j41(0,"button",69),c.bIt("click",function(){A.eBV(t);const n=c.XpG(2);return A.Njj(n.removeHardToy("opponent"))}),c.nrm(1,"i",60),c.k0s()}}function XX(r,e){if(1&r){const t=c.RV6();c.j41(0,"div",70),c.bIt("mousedown",function(){const n=A.eBV(t).index,o=c.XpG(2);return A.Njj(o.setActivePetSlot("opponent",n))})("focusin",function(){const n=A.eBV(t).index,o=c.XpG(2);return A.Njj(o.setActivePetSlot("opponent",n))}),c.j41(1,"div",62)(2,"button",63),c.bIt("click",function(n){return A.eBV(t),c.sdS(5).removePet(),A.Njj(n.stopPropagation())}),c.EFF(3," X "),c.k0s()(),c.nrm(4,"app-pet-selector",64,3),c.k0s()}if(2&r){const t=e.$implicit,i=e.index,n=c.XpG(2);c.AVh("pet-slot-active","opponent"===(null==n.activePetSlot?null:n.activePetSlot.side)&&(null==n.activePetSlot?null:n.activePetSlot.index)===i),c.Y8G("cdkDragStartDelay",n.petSlotDragStartDelay),c.R7$(4),c.Y8G("pet",n.opponent.getPet(i))("player",n.opponent)("opponent",n.player)("index",i)("formGroup",n.makeFormGroup(t))("ailments",!0)("allPets",n.formGroup.get("allPets").value)("mana",n.formGroup.get("mana").value)("triggersConsumed",n.formGroup.get("triggersConsumed").value)("allowEquipmentUseOverrides",n.formGroup.get("changeEquipmentUses").value)("showTokenPets",n.formGroup.get("tokenPets").value)("flipImage",!1)("customPacks",n.formGroup.get("customPacks"))}}function JX(r,e){1&r&&c.nrm(0,"app-info")}function QX(r,e){1&r&&(c.j41(0,"div",71),c.EFF(1,"Loading info\u2026"),c.k0s())}function ZX(r,e){if(1&r&&c.nrm(0,"app-import-calculator",72),2&r){const t=c.XpG(2);c.Y8G("importFunc",t.importForDialog)}}function eJ(r,e){1&r&&(c.j41(0,"div",71),c.EFF(1,"Loading import tools\u2026"),c.k0s())}function tJ(r,e){if(1&r&&c.nrm(0,"app-export-calculator",41),2&r){const t=c.XpG(2);c.Y8G("formGroup",t.formGroup)}}function iJ(r,e){1&r&&(c.j41(0,"div",71),c.EFF(1,"Loading export tools\u2026"),c.k0s())}function nJ(r,e){if(1&r&&c.nrm(0,"app-report-a-bug",73),2&r){const t=c.XpG(2);c.Y8G("calcFormGroup",t.formGroup)}}function rJ(r,e){1&r&&(c.j41(0,"div",71),c.EFF(1,"Loading report form\u2026"),c.k0s())}function aJ(r,e){if(1&r){const t=c.RV6();c.qex(0),c.j41(1,"div",7,0)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"h2",12),c.EFF(8,"Player"),c.k0s(),c.j41(9,"div",13)(10,"div",14)(11,"button",15),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.openSelectionDialog("toy","player"))}),c.DNE(12,HX,1,1,"img",16),c.j41(13,"span",17),c.EFF(14),c.k0s(),c.nrm(15,"i",18),c.k0s(),c.DNE(16,jX,7,1,"div",19),c.k0s(),c.j41(17,"div",14)(18,"button",15),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.openSelectionDialog("hard-toy","player"))}),c.DNE(19,qX,1,1,"img",20),c.j41(20,"span",17),c.EFF(21),c.k0s(),c.nrm(22,"i",18),c.k0s(),c.DNE(23,UX,2,0,"button",21),c.k0s()()(),c.j41(24,"button",22),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.resetPlayer("player"))}),c.EFF(25," Reset "),c.k0s()(),c.j41(26,"div",23)(27,"div",24),c.bIt("cdkDropListDropped",function(n){A.eBV(t);const o=c.XpG();return A.Njj(o.drop(n,"player"))}),c.DNE(28,VX,6,16,"div",25),c.k0s()()(),c.j41(29,"div",26)(30,"div",10)(31,"div",11)(32,"h2",27),c.EFF(33,"Opponent"),c.k0s(),c.j41(34,"div",13)(35,"div",14)(36,"button",15),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.openSelectionDialog("toy","opponent"))}),c.DNE(37,WX,1,1,"img",28),c.j41(38,"span",17),c.EFF(39),c.k0s(),c.nrm(40,"i",18),c.k0s(),c.DNE(41,KX,7,1,"div",19),c.k0s(),c.j41(42,"div",14)(43,"button",15),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.openSelectionDialog("hard-toy","opponent"))}),c.DNE(44,zX,1,1,"img",29),c.j41(45,"span",17),c.EFF(46),c.k0s(),c.nrm(47,"i",18),c.k0s(),c.DNE(48,YX,2,0,"button",30),c.k0s()()(),c.j41(49,"button",22),c.bIt("click",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.resetPlayer("opponent"))}),c.EFF(50," Reset "),c.k0s()(),c.j41(51,"div",31)(52,"div",24),c.bIt("cdkDropListDropped",function(n){A.eBV(t);const o=c.XpG();return A.Njj(o.drop(n,"opponent"))}),c.DNE(53,XX,6,16,"div",32),c.k0s()()()(),c.nrm(54,"app-shell-controls",33)(55,"app-shell-battle-results",33),c.j41(56,"div",34,1)(58,"div",35)(59,"div",36)(60,"div",37)(61,"h1",38),c.EFF(62," Custom Pack Editor "),c.k0s(),c.nrm(63,"button",39),c.k0s(),c.j41(64,"div",40),c.nrm(65,"app-custom-pack-editor",41),c.k0s()()()(),c.j41(66,"div",42)(67,"div",43)(68,"div",36)(69,"div",37)(70,"h1",44),c.EFF(71,"Guide"),c.k0s(),c.nrm(72,"button",39),c.k0s(),c.j41(73,"div",40),c.PeT(74,JX,1,0)(75,QX,2,0),c.nv$(76,74,FX,null,75),c.k0s()()()(),c.j41(78,"div",45)(79,"div",43)(80,"div",36)(81,"div",37)(82,"h1",46),c.EFF(83," Import "),c.k0s(),c.nrm(84,"button",39),c.k0s(),c.j41(85,"div",40),c.PeT(86,ZX,1,1)(87,eJ,2,0),c.nv$(88,86,OX,null,87),c.k0s()()()(),c.j41(90,"div",47)(91,"div",43)(92,"div",36)(93,"div",37)(94,"h1",48),c.EFF(95," Export "),c.k0s(),c.nrm(96,"button",39),c.k0s(),c.j41(97,"div",40),c.PeT(98,tJ,1,1)(99,iJ,2,0),c.nv$(100,98,BX,null,99),c.k0s()()()(),c.j41(102,"div",49)(103,"div",43)(104,"div",36)(105,"div",37)(106,"h1",50),c.EFF(107,"Report A Bug"),c.k0s(),c.nrm(108,"button",39),c.k0s(),c.j41(109,"div",40),c.PeT(110,nJ,1,1)(111,rJ,2,0),c.nv$(112,110,$X,null,111),c.k0s()()()()(),c.bVm()}if(2&r){const t=c.XpG();c.R7$(),c.Y8G("formGroup",t.formGroup)("ngClass",t.lapsusTypographyStageClass),c.R7$(2),c.xc7("background-image",t.battleBackgroundUrl?"url("+t.battleBackgroundUrl+")":""),c.R7$(9),c.Y8G("ngIf",t.playerToyImageUrl),c.R7$(2),c.JRh(t.formGroup.get("playerToy").value||"Select Toy"),c.R7$(2),c.Y8G("ngIf",t.playerToyImageUrl),c.R7$(3),c.Y8G("ngIf",t.playerHardToyImageUrl),c.R7$(2),c.JRh(t.formGroup.get("playerHardToy").value||"Hard Toy"),c.R7$(2),c.Y8G("ngIf",t.playerHardToyImageUrl),c.R7$(5),c.Y8G("ngForOf",t.playerPetsControls)("ngForTrackBy",t.trackByIndex),c.R7$(9),c.Y8G("ngIf",t.opponentToyImageUrl),c.R7$(2),c.JRh(t.formGroup.get("opponentToy").value||"Select Toy"),c.R7$(2),c.Y8G("ngIf",t.opponentToyImageUrl),c.R7$(3),c.Y8G("ngIf",t.opponentHardToyImageUrl),c.R7$(2),c.JRh(t.formGroup.get("opponentHardToy").value||"Hard Toy"),c.R7$(2),c.Y8G("ngIf",t.opponentHardToyImageUrl),c.R7$(5),c.Y8G("ngForOf",t.opponentPetsControls)("ngForTrackBy",t.trackByIndex),c.R7$(),c.Y8G("app",t.app),c.R7$(),c.Y8G("app",t.app),c.R7$(10),c.Y8G("formGroup",t.formGroup),c.R7$(11),c.LVR(t.showInfo),c.R7$(12),c.LVR(t.showImport),c.R7$(12),c.LVR(t.showExport),c.R7$(12),c.LVR(t.showReportABug)}}function oJ(r,e){if(1&r){const t=c.RV6();c.j41(0,"app-item-selection-dialog",74),c.bIt("select",function(n){A.eBV(t);const o=c.XpG();return A.Njj(o.onItemSelected(n))})("close",function(){A.eBV(t);const n=c.XpG();return A.Njj(n.showSelectionDialog=!1)}),c.k0s()}if(2&r){const t=c.XpG();c.Y8G("ngClass",t.lapsusTypographyStageClass)("type",t.selectionType)("showAllPets",t.formGroup.get("allPets").value)("customPacks",t.formGroup.get("customPacks"))("savedTeams",t.savedTeams)}}(function vn(r,e,t){return Kn.apply(this,arguments)})((()=>{class r{logService;injector;cdr;abilityService;gameService;petService;toyService;equipmentService;localStorageService;urlStateService;calculatorStateService;simulationService;teamPresetsService;app=this;lapsusTypographyStage=1;uiThemeStorageKey="sapTheme";get lapsusTypographyStageClass(){return`lapsus-stage-${this.lapsusTypographyStage}`}petSelectors;customPackEditor;version="0.9.3";sapVersion="0.33.3-156 BETA";lastUpdated="1/20/2026";title="sap-calculator";player;opponent;maxTurns=71;turns=0;attackCount=0;battleStarted=!1;simulationBattleAmt=1e3;playerWinner=0;opponentWinner=0;draw=0;simulationInProgress=!1;simulationProgress=0;simulationProgressLabel="";simulationCancelRequested=!1;simulationWorker=null;simulationRunId=0;battles=[];battleRandomEvents=[];battleRandomEventsByBattle=new Map;filteredBattlesCache=[];randomDecisions=[];randomOverrideError=null;randomDecisionSelectionByFingerprint={};randomDecisionPartsCache=new Map;currBattle;viewBattle;simulated=!1;formGroup;toys;regularToys=new Map;hardWackyToys=new Map;customPackEditorModal;previousPackPlayer=null;previousPackOpponent=null;dayNight=!0;theme="light";battleBackgroundUrl="";playerToyImageUrl="";opponentToyImageUrl="";playerHardToyImageUrl="";opponentHardToyImageUrl="";savedTeams=[];selectedTeamId="";teamName="";battleBackgrounds=[...gq];logFilterTabs=[...mq];api=!1;apiResponse=null;showSelectionDialog=!1;selectionType="pet";selectionSide="none";showInfo=!1;showImport=!1;showExport=!1;showReportABug=!1;showBattleAnalysis=!1;showRandomOverrides=!0;fightAnimationFrames=[];fightAnimationFrameIndex=-1;fightAnimationPlaying=!1;fightAnimationSpeed=1;fightAnimationSpeedOptions=[.5,1,1.5,2];logEventFilterOptions=[{value:"all",label:"All"},{value:"board",label:"Board"},{value:"attack",label:"Attack"},{value:"ability",label:"Ability"},{value:"equipment",label:"Equipment"},{value:"death",label:"Death"},{value:"random",label:"Random"}];fightAttackIconSrc="/assets/art/Public/Public/Icons/fist-from-textmap.png";fightHealthIconSrc="/assets/art/Public/Public/Icons/heart-from-textmap.png";fightExpIconSrc="/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/xp.png";fightManaIconSrc="/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/mana.png";fightSnipeIconSrc="/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/snipe.png";fightTrumpetIconSrc="/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/trumpet.png";playerPetsControls=[];opponentPetsControls=[];logEventFilter="all";viewBattleLogs=[];viewBattleLogRows=[];viewBattleLogGroups=[];collapsedLogGroupIds=new Set;viewBattleTimelineRows=[];diffBattleLeftIndex=0;diffBattleRightIndex=0;diffBattleLeftScope="all";diffBattleRightScope="all";battleDiffRows=[];battleDiffSummary={equalSteps:0,changedSteps:0,leftOnly:0,rightOnly:0};playerPackImageBroken=!1;opponentPackImageBroken=!1;undoState=null;isLoadedFromUrl=!1;statusTimer=null;fightAnimationTimer=null;formAutoSaveSubscription=null;fightAnimationRenderFrameCache=null;fightAnimationRenderFrameCacheSource=null;fightAnimationRenderFrameCacheIndex=-1;statusMessage="";statusTone="success";lastAutoSavedAt=null;activePetSlot=null;petClipboard=null;petSlotDragStartDelay={touch:160,mouse:0};trackByIndex=$V;trackByTeamId=GV;trackByLogTab=HV;toggleBattleAnalysis=()=>{this.showBattleAnalysis=!this.showBattleAnalysis};toggleRandomOverrides=()=>{this.showRandomOverrides=!this.showRandomOverrides,this.cdr.markForCheck()};refreshFightAnimationFromViewBattle=()=>function cV(r){Nd(r,!1);const e=!1!==r.formGroup.get("showPositionalArgsInLogs")?.value;r.fightAnimationFrames=function rV(r,e={}){if(!Array.isArray(r)||0===r.length)return[];const t=!1!==e.includePositionPrefix,i=!1!==e.includeBoardFrames;let n=null;const o=[];return r.forEach((a,l)=>{if(!a)return;if("board"===a.type){const T=function aV(r){if(!r||!r.includes("|"))return null;const[e,t]=r.split("|");if(null==e||null==t)return null;const i=cF(e,"player"),n=cF(t,"opponent");return i&&n?{playerSlots:i.slots,opponentSlots:n.slots,playerToyName:i.toyName,playerHardToyName:i.hardToyName,opponentToyName:n.toyName,opponentHardToyName:n.hardToyName}:null}(a.message??"");T&&(n=T)}if(!n||"board"===a.type&&!i)return;const d=nT(a);if(!d)return;const p="board"!==a.type?KU(n,a,d):{impact:null,popups:[],death:null,shifts:[],equipmentChanges:[],toyChanges:[]},b=t?function _U(r,e){const t=oF(r);if(/\b[PO][1-5]\b/.test(t))return t;const i=sF(Xo(e),e.sourceIndex),a=sF(aF(e)??("attack"===e.type?"player"===Xo(e)?"opponent":"player":null),e.targetIndex);return i&&a?`[${i}->${a}] ${t}`:i?`[${i}] ${t}`:a?`[->${a}] ${t}`:t}(d,a):oF(d);o.push({index:o.length,logIndex:l,type:a.type,text:b,randomEvent:!0===a.randomEvent,impact:p.impact,popups:p.popups,death:p.death,shifts:p.shifts,equipmentChanges:p.equipmentChanges,toyChanges:p.toyChanges,playerSlots:iF(n.playerSlots),opponentSlots:iF(n.opponentSlots),playerToyName:n.playerToyName,playerHardToyName:n.playerHardToyName,opponentToyName:n.opponentToyName,opponentHardToyName:n.opponentHardToyName})}),o}(r.viewBattleLogs,{includePositionPrefix:e,includeBoardFrames:!1}),r.fightAnimationFrameIndex=r.fightAnimationFrames.length>0?0:-1,r.markForCheck()}(this);toggleFightAnimationPlayback=()=>function uV(r){if(0!==r.fightAnimationFrames.length){if(r.fightAnimationPlaying)return void Nd(r);!function fV(r){if(0===r.fightAnimationFrames.length)return r.fightAnimationFrameIndex=-1,r.fightAnimationPlaying=!1,fT(r),void r.markForCheck();const e=r.fightAnimationFrames.length-1;(r.fightAnimationFrameIndex<0||r.fightAnimationFrameIndex>e)&&(r.fightAnimationFrameIndex=0),r.fightAnimationFrameIndex>=e&&(r.fightAnimationFrameIndex=0),r.fightAnimationPlaying=!0,LR(r),r.markForCheck()}(r)}}(this);resetFightAnimation=()=>function dV(r){if(Nd(r,!1),0===r.fightAnimationFrames.length)return r.fightAnimationFrameIndex=-1,void r.markForCheck();r.fightAnimationFrameIndex=0,r.markForCheck()}(this);stepFightAnimation=t=>function hV(r,e){if(Nd(r,!1),0===r.fightAnimationFrames.length)return r.fightAnimationFrameIndex=-1,void r.markForCheck();const t=r.fightAnimationFrames.length-1,i=Number.isFinite(e)?Math.trunc(e):0,n=Math.min(t,Math.max(0,r.fightAnimationFrameIndex+i));r.fightAnimationFrameIndex=n,r.markForCheck()}(this,t);setFightAnimationSpeed=t=>function pV(r,e){const t=AF(e);r.fightAnimationSpeed!==t&&(r.fightAnimationSpeed=t,r.fightAnimationPlaying&&LR(r),r.markForCheck())}(this,t);onFightAnimationScrub=t=>function mV(r,e){if(0===r.fightAnimationFrames.length)return;const t="number"==typeof e?e:Number(e);Number.isFinite(t)&&(Nd(r,!1),r.fightAnimationFrameIndex=Math.min(r.fightAnimationFrames.length-1,Math.max(0,Math.trunc(t))),r.markForCheck())}(this,t);constructor(t,i,n,o,a,l,d,p,b,T,F,U,ee){this.logService=t,this.injector=i,this.cdr=n,this.abilityService=o,this.gameService=a,this.petService=l,this.toyService=d,this.equipmentService=p,this.localStorageService=b,this.urlStateService=T,this.calculatorStateService=F,this.simulationService=U,this.teamPresetsService=ee,Nt.setInjector(this.injector),this.player=new Bh(t,o,a),this.opponent=new Bh(t,o,a),this.opponent.isOpponent=!0,this.gameService.init(this.player,this.opponent),this.petService.init(),this.initFormGroup();const Z=this.urlStateService.parseApiStateFromUrl();Z.state?(this.api=!0,this.applyCalculatorState(Z.state),this.simulate(),this.buildApiResponse()):Z.error&&(console.error(Z.error),this.apiResponse=JSON.stringify({error:"Invalid or corrupted data provided in the URL."}))}get rollInputVisible(){return function jV(r){return r.formGroup.get("showAdvanced").value||function NV(r){for(const e of r)if(e&&e.petArray)for(const t of e.petArray)if(t&&(La.includes(t.name)||"Abomination"===t.name&&(La.includes(t.abominationSwallowedPet1)||La.includes(t.abominationSwallowedPet2)||La.includes(t.abominationSwallowedPet3)||"Beluga Whale"===t.abominationSwallowedPet1&&La.includes(t.abominationSwallowedPet1BelugaSwallowedPet)||"Beluga Whale"===t.abominationSwallowedPet2&&La.includes(t.abominationSwallowedPet2BelugaSwallowedPet)||"Beluga Whale"===t.abominationSwallowedPet3&&La.includes(t.abominationSwallowedPet3BelugaSwallowedPet)||"Sarcastic Fringehead"===t.abominationSwallowedPet1&&La.includes(t.abominationSwallowedPet1SarcasticFringeheadSwallowedPet)||"Sarcastic Fringehead"===t.abominationSwallowedPet2&&La.includes(t.abominationSwallowedPet2SarcasticFringeheadSwallowedPet)||"Sarcastic Fringehead"===t.abominationSwallowedPet3&&La.includes(t.abominationSwallowedPet3SarcasticFringeheadSwallowedPet))||"Beluga Whale"===t.name&&La.includes(t.belugaSwallowedPet)||"Sarcastic Fringehead"===t.name&&La.includes(t.sarcasticFringeheadSwallowedPet)))return!0;return!1}([r.player,r.opponent])}(this)}buildApiResponse=()=>function Qq(r){r.apiResponse=(0,t_.ml)(r.playerWinner,r.opponentWinner,r.draw)}(this);printFormGroup=()=>function qV(r){console.log(r.formGroup)}(this);ngOnInit(){this.loadThemePreference(),this.isLoadedFromUrl=this.loadStateFromUrl(!0),this.isLoadedFromUrl||this.loadLocalStorage(),this.initApp(),this.loadTeamPresets(),this.setRandomBackground(),this.initGameApi(),this.setDayNight(),this.toys=this.toyService.toys,this.regularToys=this.toyService.getToysByType(0),this.hardWackyToys=this.toyService.getToysByType(1),this.formAutoSaveSubscription?.unsubscribe(),this.formAutoSaveSubscription=this.formGroup.valueChanges.pipe(br(250)).subscribe(()=>{this.localStorageService.setFormStorage(this.formGroup),this.lastAutoSavedAt=new Date,this.cdr.markForCheck()})}toggleTheme=()=>{this.applyTheme("dark"===this.theme?"light":"dark",!0)};get autoSaveLabel(){return this.lastAutoSavedAt?`Saved ${this.lastAutoSavedAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}`:""}loadStateFromUrl=(t=!1)=>function eX(r,e=!1){const t=r.urlStateService.parseCalculatorStateFromUrl();if(!t.state)return t.error&&(console.error(t.error),r.setStatus?.("Could not load the shared calculator link. The data may be corrupted.","error")),!1;const i=C2(r,JSON.stringify(t.state),e);return i&&console.log("Calculator state loaded from URL."),i}(this,t);ngAfterViewInit(){this.isLoadedFromUrl&&this.petSelectors.forEach(t=>{t.fixLoadEquipment()}),this.api||this.initModals()}ngOnDestroy(){this.formAutoSaveSubscription?.unsubscribe(),this.clearFightAnimationTimer(),this.statusTimer&&(clearTimeout(this.statusTimer),this.statusTimer=null)}loadLocalStorage=()=>function tX(r){const e=r.localStorageService.getStorage();if(e)try{VT(r,JSON.parse(e))}catch(t){console.log("error loading local storage",t),r.localStorageService.clearStorage()}}(this);applyCalculatorState=t=>VT(this,t);setDayNight=()=>f4(this);setRandomBackground=()=>function UV(r){if(!r.battleBackgrounds.length)return void(r.battleBackgroundUrl="");const e=Math.floor(Math.random()*r.battleBackgrounds.length);r.battleBackgroundUrl=`assets/art/Public/Public/Background/${r.battleBackgrounds[e]}`}(this);fixCustomPackSelect=()=>EF(this);initApp=()=>x2(this);initGameApi=()=>function nX(r){r.gameService.gameApi.day=r.dayNight,r.gameService.gameApi.oldStork=r.formGroup.get("oldStork").value,r.gameService.gameApi.komodoShuffle=r.formGroup.get("komodoShuffle").value,r.gameService.gameApi.mana=r.formGroup.get("mana").value,r.gameService.gameApi.playerRollAmount=r.formGroup.get("playerRollAmount").value,r.gameService.gameApi.opponentRollAmount=r.formGroup.get("opponentRollAmount").value,r.gameService.gameApi.playerLevel3Sold=r.formGroup.get("playerLevel3Sold").value,r.gameService.gameApi.opponentLevel3Sold=r.formGroup.get("opponentLevel3Sold").value,r.gameService.gameApi.playerSummonedAmount=r.formGroup.get("playerSummonedAmount").value,r.gameService.gameApi.opponentSummonedAmount=r.formGroup.get("opponentSummonedAmount").value,r.gameService.gameApi.playerTransformationAmount=r.formGroup.get("playerTransformationAmount").value,r.gameService.gameApi.opponentTransformationAmount=r.formGroup.get("opponentTransformationAmount").value}(this);initPlayerPets=()=>b4(this);randomizePlayerPets=t=>vT(this,t);makeFormGroup=VV;setActivePetSlot=(t,i)=>{this.activePetSlot={side:t,index:i}};handleKeyboardShortcuts(t){(function rX(r,e){if(r.api||!r.formGroup||!e.ctrlKey&&!e.metaKey||e.altKey||function oX(r){if(!r)return!1;if(r.isContentEditable)return!0;const t=r.tagName;return"INPUT"===t||"TEXTAREA"===t||"SELECT"===t}(e.target))return;const t=e.key.toLowerCase();"c"!==t?"x"!==t?"v"===t&&function aX(r){if(!r.activePetSlot)return r.setStatus("Select a pet slot first.","error"),!1;if(!r.petClipboard?.name)return r.setStatus("Nothing copied yet.","error"),!1;const e=A4(r,r.activePetSlot.side,r.activePetSlot.index);if(!e)return r.setStatus("Could not access selected pet slot.","error"),!1;const t=_4(r.petClipboard);e.removePet();for(const[i,n]of Object.entries(t)){const o=e.formGroup?.get(i);o&&o.setValue(n,{emitEvent:!1})}return e.substitutePet(!1),e.fixLoadEquipment(),r.setStatus("Pet pasted.","success"),!0}(r)&&e.preventDefault():v4(r,!0)&&e.preventDefault():v4(r,!1)&&e.preventDefault()})(this,t),t.defaultPrevented||function sX(r,e){if(!r.api&&r.formGroup&&!function lX(r){if(!r)return!1;if(r.isContentEditable)return!0;const t=r.tagName;return"INPUT"===t||"TEXTAREA"===t||"SELECT"===t}(e.target)&&e.altKey&&!e.ctrlKey&&!e.metaKey)switch(e.key.toLowerCase()){case"s":if(r.simulationInProgress)return;return r.simulate(r.formGroup.get("simulations")?.value??1e3),void e.preventDefault();case"r":if(r.simulationInProgress)return;return r.randomize(),void e.preventDefault();case"u":if(!r.undoState)return;return r.undoRandomize(),void e.preventDefault();case"p":if(r.simulationInProgress)return;return r.optimizePositioning("player"),void e.preventDefault();case"o":if(r.simulationInProgress)return;return r.optimizePositioning("opponent"),void e.preventDefault();case"a":return r.toggleAdvanced(),void e.preventDefault();case"t":return r.toggleTheme(),void e.preventDefault();case"h":return r.setStatus("Shortcuts: Alt+S Simulate, Alt+R Randomize, Alt+P/O Optimize, Alt+A Scenario, Alt+T Theme."),void e.preventDefault();default:;}}(this,t)}initFormGroup(){(function iX(r){r.formGroup=function LV(r){r.updatePreviousShopTier(11),r.updateGoldSpent(10,10);const i=new X.gE({playerPack:new X.MJ(r.player.pack??null),opponentPack:new X.MJ(r.opponent.pack??null),playerToy:new X.MJ(r.player.toy?.name),playerToyLevel:new X.MJ(r.player.toy?.level??1),opponentToy:new X.MJ(r.opponent.toy?.name),opponentToyLevel:new X.MJ(r.opponent.toy?.level??1),playerHardToy:new X.MJ(null),playerHardToyLevel:new X.MJ(1),opponentHardToy:new X.MJ(null),opponentHardToyLevel:new X.MJ(1),turn:new X.MJ(11),playerGoldSpent:new X.MJ(10),opponentGoldSpent:new X.MJ(10),allPets:new X.MJ(!1),logFilter:new X.MJ(null),playerPets:new X.Yp([]),opponentPets:new X.Yp([]),customPacks:new X.Yp([]),oldStork:new X.MJ(!1),tokenPets:new X.MJ(!0),komodoShuffle:new X.MJ(!1),mana:new X.MJ(!1),triggersConsumed:new X.MJ(!1),playerRollAmount:new X.MJ(4),opponentRollAmount:new X.MJ(4),playerLevel3Sold:new X.MJ(0),opponentLevel3Sold:new X.MJ(0),playerSummonedAmount:new X.MJ(0),opponentSummonedAmount:new X.MJ(0),playerTransformationAmount:new X.MJ(0),opponentTransformationAmount:new X.MJ(0),showAdvanced:new X.MJ(!1),showTriggerNamesInLogs:new X.MJ(!1),showPositionalArgsInLogs:new X.MJ(!0),ailmentEquipment:new X.MJ(!0),changeEquipmentUses:new X.MJ(!1),seed:new X.MJ(null),logsEnabled:new X.MJ(!0),simulations:new X.MJ(100)});return TF(i,r.player,r.opponent),i.get("playerPack").valueChanges.subscribe(n=>{if(null!=n){if("Add Custom Pack"==n)return void r.openCustomPackEditor();r.resetPackImageError("player",n),r.updatePlayerPack(r.player,n)}}),i.get("opponentPack").valueChanges.subscribe(n=>{if(null!=n){if("Add Custom Pack"==n)return void r.openCustomPackEditor();r.resetPackImageError("opponent",n),r.updatePlayerPack(r.opponent,n)}}),i.get("playerToy").valueChanges.subscribe(n=>{r.updatePlayerToy(r.player,n??null)}),i.get("opponentToy").valueChanges.subscribe(n=>{r.updatePlayerToy(r.opponent,n??null)}),i.get("playerToyLevel").valueChanges.subscribe(n=>{null!=n&&r.updateToyLevel(r.player,n)}),i.get("opponentToyLevel").valueChanges.subscribe(n=>{null!=n&&r.updateToyLevel(r.opponent,n)}),i.get("playerHardToy").valueChanges.subscribe(n=>{r.gameService.gameApi.playerHardToy=n??null,r.setHardToyImage(r.player,n??null)}),i.get("playerHardToyLevel").valueChanges.subscribe(n=>{null!=n&&(r.gameService.gameApi.playerHardToyLevel=n)}),i.get("opponentHardToy").valueChanges.subscribe(n=>{r.gameService.gameApi.opponentHardToy=n??null,r.setHardToyImage(r.opponent,n??null)}),i.get("opponentHardToyLevel").valueChanges.subscribe(n=>{null!=n&&(r.gameService.gameApi.opponentHardToyLevel=n)}),i.get("turn").valueChanges.subscribe(n=>{null!=n&&(r.updatePreviousShopTier(n),r.setDayNight())}),i.get("playerGoldSpent").valueChanges.subscribe(n=>{null!=n&&r.updateGoldSpent(n,null)}),i.get("opponentGoldSpent").valueChanges.subscribe(n=>{null!=n&&r.updateGoldSpent(null,n)}),i.get("oldStork").valueChanges.subscribe(n=>{null!=n&&(r.gameService.gameApi.oldStork=n)}),i.get("komodoShuffle").valueChanges.subscribe(n=>{null!=n&&(r.gameService.gameApi.komodoShuffle=n)}),i.get("mana").valueChanges.subscribe(n=>{null!=n&&(r.gameService.gameApi.mana=n)}),i.get("playerRollAmount").valueChanges.subscribe(n=>{null!=n&&(r.gameService.gameApi.playerRollAmount=n)}),i.get("opponentRollAmount").valueChanges.subscribe(n=>{null!=n&&(r.gameService.gameApi.opponentRollAmount=n)}),i.get("playerLevel3Sold").valueChanges.subscribe(n=>{null!=n&&(r.gameService.gameApi.playerLevel3Sold=n)}),i.get("opponentLevel3Sold").valueChanges.subscribe(n=>{null!=n&&(r.gameService.gameApi.opponentLevel3Sold=n)}),i.get("playerSummonedAmount").valueChanges.subscribe(n=>{null!=n&&(r.gameService.gameApi.playerSummonedAmount=n)}),i.get("opponentSummonedAmount").valueChanges.subscribe(n=>{null!=n&&(r.gameService.gameApi.opponentSummonedAmount=n)}),i.get("playerTransformationAmount").valueChanges.subscribe(n=>{null!=n&&(r.gameService.gameApi.playerTransformationAmount=n)}),i.get("opponentTransformationAmount").valueChanges.subscribe(n=>{null!=n&&(r.gameService.gameApi.opponentTransformationAmount=n)}),i}({player:r.player,opponent:r.opponent,gameService:r.gameService,toyService:r.toyService,updatePreviousShopTier:e=>CF(r,e),updateGoldSpent:(e,t)=>xF(r,e,t),setDayNight:()=>f4(r),openCustomPackEditor:()=>m4(r),resetPackImageError:(e,t)=>g4(r,e),updatePlayerPack:(e,t,i)=>AT(r,e,t,i),updatePlayerToy:(e,t)=>l_(r,e,t),updateToyLevel:(e,t)=>DF(0,e,t),setHardToyImage:(e,t)=>ST(r,e,t)}),r.logService.setShowTriggerNamesInLogs(r.formGroup.get("showTriggerNamesInLogs")?.value),r.formGroup.get("showTriggerNamesInLogs")?.valueChanges.subscribe(e=>{r.logService.setShowTriggerNamesInLogs(e)}),WT(r)})(this),this.formGroup.get("logFilter")?.valueChanges.subscribe(()=>{this.refreshFilteredBattles()}),this.formGroup.get("simulations")?.valueChanges.subscribe(t=>{t>1e4&&this.formGroup.get("simulations")?.setValue(1e4,{emitEvent:!1})}),this.formGroup.get("seed")?.valueChanges.subscribe(t=>{if(""===t||null==t)return;const i=Number(t);if(!Number.isFinite(i))return void this.formGroup.get("seed")?.setValue(null,{emitEvent:!1});const n=Math.trunc(i);n!==i&&this.formGroup.get("seed")?.setValue(n,{emitEvent:!1})})}toggleAdvanced=()=>function WV(r){const e=r.formGroup.get("showAdvanced").value;r.formGroup.get("showAdvanced").setValue(!e)}(this);initPetForms=()=>y4(this);refreshPetFormArrays=()=>WT(this);updatePlayerPack=(t,i,n=!0)=>AT(this,t,i,n);updatePlayerToy=(t,i)=>l_(this,t,i);setToyImage=(t,i)=>c_(this,t,i);setHardToyImage=(t,i)=>ST(this,t,i);updatePreviousShopTier=t=>CF(this,t);updateGoldSpent=(t,i)=>xF(this,t,i);updateToyLevel=(t,i)=>DF(0,t,i);getRandomEquipment=()=>IF(this);simulate=(t=1e3)=>function Zq(r,e=1e3){try{if(r.api)return void KN(r,e);zN(r,e)}catch(t){console.error(t),r.setStatus?.("Something went wrong, please send a bug report.","error")}}(this,t);runSimulation=(t=1e3,i)=>KN(this,t,i);cancelSimulation=()=>function eU(r){!r.simulationWorker||!r.simulationInProgress||(r.simulationRunId=(r.simulationRunId??0)+1,r.simulationCancelRequested=!0,r.setStatus?.("Cancelling simulation...","error"),r.simulationService.requestWorkerCancel(r.simulationWorker),Rd(r),r.simulationInProgress=!1,r.simulationCancelRequested=!1,r.setStatus?.("Simulation cancelled.","error"),r.markForCheck?.())}(this);optimizePositioning=t=>function tU(r,e,t=1e3){if(r.simulationInProgress)return;const i=Math.max(1,Math.trunc(t||1)),n=UN(r,"0 / "+120*i,`Optimizing ${e} positioning...`),o=r.simulationService.runPositioningOptimizationInWorker(r.formGroup,t,r.player,r.opponent,{onProgress:a=>{if(!Mc(r,n))return;const l=a.totalBattlesEstimate?Math.floor(a.completedBattles/a.totalBattlesEstimate*100):0;r.simulationProgress=l,r.simulationProgressLabel=`${a.completedBattles} / ${a.totalBattlesEstimate} sims`,r.markForCheck?.()},onResult:a=>{if(!Mc(r,n))return;Rd(r),YN(r,a),r.simulationInProgress=!1,r.simulationCancelRequested=!1,r.simulationProgress=100,r.simulationProgressLabel=`${a.simulatedBattles} / ${a.simulatedBattles} sims`;const l=(100*a.bestPermutation.score).toFixed(1);r.setStatus?.(`${function rU(r){return r.charAt(0).toUpperCase()+r.slice(1)}(e)} optimized (${l}% score). Running verification sim...`,"success"),r.markForCheck?.(),zN(r,t)},onAborted:a=>{Mc(r,n)&&(Rd(r),a.bestPermutation&&YN(r,a),n_(r,"Positioning optimization cancelled.","error"))},onError:a=>{Mc(r,n)&&(Rd(r),n_(r,a||"Positioning optimization failed.","error"))}},{side:e,maxSimulationsPerPermutation:i,batchSize:Math.min(25,i),minSamplesBeforeElimination:Math.min(50,i),confidenceZ:1.96});r.simulationWorker=o}(this,t,this.formGroup.get("simulations").value??1e3);afterPositioningApplied=()=>{this.refreshPetFormArrays(),setTimeout(()=>{for(const t of this.petSelectors.toArray())t.substitutePet()})};markForCheck=()=>this.cdr.markForCheck();captureRandomEvents=()=>function EV(r){if(!r.simulationInProgress){if(FR(r,[],!0),OR(r,r.randomDecisions,[]),0===r.randomDecisions.length)return void r.setStatus("No random decisions captured in this battle.","error");r.setStatus(`Captured ${r.randomDecisions.length} random decision(s).`,"success")}}(this);clearRandomOverrides=()=>function CV(r){r.randomDecisionSelectionByFingerprint={},r.randomDecisions=[],r.randomOverrideError=null,r.markForCheck()}(this);runForcedRandomSimulation=()=>function xV(r){if(r.simulationInProgress)return;const e=[...r.randomDecisions];FR(r,wF(r),!1),OR(r,r.randomDecisions,e),r.randomOverrideError?r.setStatus(r.randomOverrideError,"error"):r.setStatus("Forced simulation completed.","success")}(this);onRandomDecisionChoiceChanged=(t,i)=>function DV(r,e,t){const i=bT(e);r.randomDecisionSelectionByFingerprint={...r.randomDecisionSelectionByFingerprint,[i]:t},function RV(r){if(r.simulationInProgress||0===r.randomDecisions.length)return;const e=[...r.randomDecisions];FR(r,wF(r),!1),OR(r,r.randomDecisions,e)}(r)}(this,t,i);getRandomDecisionLabelParts=t=>function IV(r,e){const t=`label:${e.key}:${e.label}`,i=r.randomDecisionPartsCache.get(t);if(i)return i;const n=kF(e.label);return r.randomDecisionPartsCache.set(t,n),n}(this,t);getRandomDecisionSelectedOptionParts=t=>function MV(r,e){const t=NR(r,e),n=(e.options.find(d=>d.id===t)??e.options[0])?.label??"",o=`option:${e.key}:${n}`,a=r.randomDecisionPartsCache.get(o);if(a)return a;const l=kF(n);return r.randomDecisionPartsCache.set(o,l),l}(this,t);getSelectedRandomDecisionOptionId=t=>NR(this,t);get logs(){return this.logService.getLogs()}get currentFightAnimationFrame(){return this.fightAnimationFrameIndex<0||this.fightAnimationFrameIndex>=this.fightAnimationFrames.length?null:this.fightAnimationFrames[this.fightAnimationFrameIndex]??null}get currentFightAnimationRenderFrame(){const t=this.currentFightAnimationFrame;if(!t)return this.fightAnimationRenderFrameCache=null,this.fightAnimationRenderFrameCacheSource=null,this.fightAnimationRenderFrameCacheIndex=-1,null;if(this.fightAnimationRenderFrameCache&&this.fightAnimationRenderFrameCacheSource===t&&this.fightAnimationRenderFrameCacheIndex===this.fightAnimationFrameIndex)return this.fightAnimationRenderFrameCache;const n=function gV(r,e,t=null){const i=e%2==0?"a":"b",n=new Map,o=new Map,a=new Set,l=new Map,d=new Map,p=new Set,b=new Set;for(const Ge of r.popups){const Ie=Jo(Ge.side,Ge.slot),dt=n.get(Ie);dt?dt.push(Ge):n.set(Ie,[Ge])}for(const Ge of r.shifts){const Ie=Jo(Ge.side,Ge.slot);a.add(Ie),o.set(Ie,Math.max(1,Ge.fromSlot-Ge.slot))}for(const Ge of r.equipmentChanges){const Ie=Jo(Ge.side,Ge.slot),dt=bV(Ge);"removed"!==Ge.action?(d.set(Ie,dt),yF(Ge.equipmentName)&&p.add(Ie)):(l.set(Ie,dt),yF(Ge.equipmentName)&&b.add(Ie))}const{transferInSlots:T,transferOutSlots:F}=function vV(r){const e=new Map,t=new Set,i=new Set;for(const n of r){if("removed"!==n.action)continue;const o=bF(n);if(!o)continue;const a=e.get(o);a?a.push(n):e.set(o,[n])}for(const n of r){if("added"!==n.action)continue;const o=bF(n);if(!o)continue;const a=e.get(o);if(!a||0===a.length)continue;const l=a.shift();if(!l)continue;const d=Jo(l.side,l.slot),p=Jo(n.side,n.slot);d!==p&&(i.add(d),t.add(p))}return{transferInSlots:t,transferOutSlots:i}}(r.equipmentChanges),U=function AV(r,e){const t=new Set;return!e||!/\btransform(?:ed|ing)?\b/i.test(r.text)||(yT(t,r.playerSlots,e.playerSlots,(i,n)=>!i.isEmpty&&!n.isEmpty&&vF(n,i)),yT(t,r.opponentSlots,e.opponentSlots,(i,n)=>!i.isEmpty&&!n.isEmpty&&vF(n,i))),t}(r,t),ee=function _V(r,e){const t=new Set;return!e||!/\b(?:summoned|spawned)\b/i.test(r.text)||(yT(t,r.playerSlots,e.playerSlots,(i,n)=>!i.isEmpty&&n.isEmpty),yT(t,r.opponentSlots,e.opponentSlots,(i,n)=>!i.isEmpty&&n.isEmpty)),t}(r,t),Z=r.impact?Jo(r.impact.attackerSide,r.impact.attackerSlot):null,se=r.impact?Jo(r.impact.targetSide,r.impact.targetSlot):null,ve=!0===r.impact?.isSnipe,Te=ve?se:null,Ke=r.death?Jo(r.death.side,r.death.slot):null,et=Ke&&!a.has(Ke)?Ke:null,Je=Ge=>{const Ie=Jo(Ge.side,Ge.slot),dt=n.get(Ie)??sV,yi=Ge.pendingRemoval||!Ge.isEmpty&&null!=Ge.health&&Ge.health<=0,It=dt.some(bi=>"damage"!==bi.type&&bi.delta>0);return{slot:Ge,classMap:{"fight-slot-front":0===Ge.slot,"fight-slot-empty-card":Ge.isEmpty,"fight-slot-attacker":Z===Ie&&!ve,"fight-slot-target":se===Ie,"fight-slot-snipe-target":Te===Ie,"fight-slot-shifted":a.has(Ie),"fight-slot-fainted-ghost":yi,"fight-slot-stat-gain":It,"fight-slot-equipment-removed":l.has(Ie),"fight-slot-equipment-added":d.has(Ie),"fight-slot-equipment-transfer-out":F.has(Ie),"fight-slot-equipment-transfer-in":T.has(Ie),"fight-slot-transform":U.has(Ie),"fight-slot-summoned":ee.has(Ie),"fight-slot-ailment-applied":p.has(Ie),"fight-slot-ailment-cleansed":b.has(Ie),"fight-impact-phase-a":"a"===i,"fight-impact-phase-b":"b"===i},shiftSteps:o.get(Ie)??null,popups:dt,death:et===Ie?r.death:null,removedEquipment:l.get(Ie)??null,addedEquipment:d.get(Ie)??null,showSnipeImpact:Te===Ie}};return{frame:r,phase:i,playerSlots:r.playerSlots.map(Je),opponentSlots:r.opponentSlots.map(Je)}}(t,this.fightAnimationFrameIndex,this.fightAnimationFrameIndex>0?this.fightAnimationFrames[this.fightAnimationFrameIndex-1]??null:null);return this.fightAnimationRenderFrameCache=n,this.fightAnimationRenderFrameCacheSource=t,this.fightAnimationRenderFrameCacheIndex=this.fightAnimationFrameIndex,n}get currentFightAnimationLogIndex(){return this.currentFightAnimationFrame?.logIndex??-1}get currentFightAnimationLogRow(){const t=this.currentFightAnimationLogIndex;return t<0||t>=this.viewBattleLogRows.length?null:this.viewBattleLogRows[t]??null}get fightAnimationMotionScale(){return 1/this.fightAnimationSpeed}setViewBattle=t=>function aU(r,e){r.viewBattle=e,r.viewBattleLogs=r.viewBattle?.logs??[],sT(r),xR(r),r.refreshFightAnimationFromViewBattle?.()}(this,t);refreshViewBattleTimeline=()=>xR(this);refreshBattleDiff=()=>pm(this);setBattleDiffLeft=t=>function oU(r,e){r.diffBattleLeftIndex=lT(r,e),pm(r)}(this,t);setBattleDiffRight=t=>function sU(r,e){r.diffBattleRightIndex=lT(r,e),pm(r)}(this,t);setBattleDiffLeftScope=t=>function lU(r,e){r.diffBattleLeftScope=aT(e),pm(r)}(this,t);setBattleDiffRightScope=t=>function cU(r,e){r.diffBattleRightScope=aT(e),pm(r)}(this,t);setViewBattleLogFilter=t=>function Xq(r,e){r.logEventFilter=jN(e),oT(r),r.markForCheck?.()}(this,t);toggleViewBattleLogGroup=t=>function Jq(r,e){e&&(r.collapsedLogGroupIds||(r.collapsedLogGroupIds=new Set),r.collapsedLogGroupIds.has(e)?r.collapsedLogGroupIds.delete(e):r.collapsedLogGroupIds.add(e),oT(r),r.markForCheck?.())}(this,t);refreshViewBattleLogRows=()=>sT(this);refreshDebugLogPresentation=()=>function uU(r){const e=ER(r),t=new Map;r.battleRandomEvents=(r.battles??[]).map(i=>{const n=QN(i,r.logService,e);return t.set(i,n),n}),r.battleRandomEventsByBattle=t,sT(r),r.refreshFightAnimationFromViewBattle?.(),r.markForCheck?.()}(this);get drawWidth(){return function Tq(r){return`${wR(r)+ON(r)}%`}(this)}get loseWidth(){return function Eq(r){return`${wR(r)}%`}(this)}saveTeam(t){const i=this.teamName?.trim()??"";if(!i)return void this.setStatus("Enter a team name before saving.","error");const n=function fq(r){const e=r.teamName?.trim();if(!e)return{savedTeams:r.savedTeams,selectedTeamId:r.selectedTeamId,teamName:r.teamName};const t=function bq(r,e){return r.get("player"===e?"playerPets":"opponentPets").controls.map(n=>function vq(r){if(!r||"object"!=typeof r)return null;const e=r;if(!e.name)return null;const t="string"==typeof e.equipment?e.equipment:"string"==typeof e.equipment?.name?e.equipment.name:null;return{name:String(e.name),attack:e.attack??0,health:e.health??0,exp:e.exp??0,equipment:t?{name:t}:null,belugaSwallowedPet:e.belugaSwallowedPet??null,sarcasticFringeheadSwallowedPet:e.sarcasticFringeheadSwallowedPet??null,mana:e.mana??0,triggersConsumed:e.triggersConsumed??0,foodsEaten:e.foodsEaten??0,abominationSwallowedPet1:e.abominationSwallowedPet1??null,abominationSwallowedPet2:e.abominationSwallowedPet2??null,abominationSwallowedPet3:e.abominationSwallowedPet3??null,abominationSwallowedPet1BelugaSwallowedPet:e.abominationSwallowedPet1BelugaSwallowedPet??null,abominationSwallowedPet2BelugaSwallowedPet:e.abominationSwallowedPet2BelugaSwallowedPet??null,abominationSwallowedPet3BelugaSwallowedPet:e.abominationSwallowedPet3BelugaSwallowedPet??null,abominationSwallowedPet1SarcasticFringeheadSwallowedPet:e.abominationSwallowedPet1SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet2SarcasticFringeheadSwallowedPet:e.abominationSwallowedPet2SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet3SarcasticFringeheadSwallowedPet:e.abominationSwallowedPet3SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet1Level:e.abominationSwallowedPet1Level??1,abominationSwallowedPet2Level:e.abominationSwallowedPet2Level??1,abominationSwallowedPet3Level:e.abominationSwallowedPet3Level??1,abominationSwallowedPet1TimesHurt:e.abominationSwallowedPet1TimesHurt??0,abominationSwallowedPet2TimesHurt:e.abominationSwallowedPet2TimesHurt??0,abominationSwallowedPet3TimesHurt:e.abominationSwallowedPet3TimesHurt??0,friendsDiedBeforeBattle:e.friendsDiedBeforeBattle??0,battlesFought:e.battlesFought??0,timesHurt:e.timesHurt??0,equipmentUses:e.equipmentUses??null}}(n.value)).filter(n=>null!==n)}(r.formGroup,r.side),i=r.formGroup.get("playerToy").value??null,n=Number(r.formGroup.get("playerToyLevel").value),o=r.formGroup.get("opponentToy").value??null,a=Number(r.formGroup.get("opponentToyLevel").value),l=r.formGroup.get("playerHardToy").value??null,d=Number(r.formGroup.get("playerHardToyLevel").value),p=r.formGroup.get("opponentHardToy").value??null,b=Number(r.formGroup.get("opponentHardToyLevel").value),T=Number(r.formGroup.get("turn").value),F=Number(r.formGroup.get("playerGoldSpent").value),U=Number(r.formGroup.get("opponentGoldSpent").value),ee=!!r.formGroup.get("allPets").value,Z=!!r.formGroup.get("tokenPets").value,se=!!r.formGroup.get("komodoShuffle").value,ve=!!r.formGroup.get("mana").value,Te=r.formGroup.get("seed")?.value,Ke=""===Te||null==Te?null:Number(Te),et=!!r.formGroup.get("triggersConsumed").value,Je=!!r.formGroup.get("changeEquipmentUses").value,Ge=Number(r.formGroup.get("playerRollAmount").value),Ie=Number(r.formGroup.get("opponentRollAmount").value),dt=Number(r.formGroup.get("playerLevel3Sold").value),yi=Number(r.formGroup.get("opponentLevel3Sold").value),It=Number(r.formGroup.get("playerSummonedAmount").value),bi=Number(r.formGroup.get("opponentSummonedAmount").value),Gn=Number(r.formGroup.get("playerTransformationAmount").value),Mn=Number(r.formGroup.get("opponentTransformationAmount").value),Bt=r.savedTeams.find(qr=>qr.name.toLowerCase()===e.toLowerCase());if(Bt)Bt.pets=t,Bt.name=e,Bt.playerToyName=i,Bt.playerToyLevel=n,Bt.opponentToyName=o,Bt.opponentToyLevel=a,Bt.playerHardToy=l,Bt.playerHardToyLevel=d,Bt.opponentHardToy=p,Bt.opponentHardToyLevel=b,Bt.turn=T,Bt.playerGoldSpent=F,Bt.opponentGoldSpent=U,Bt.allPets=ee,Bt.tokenPets=Z,Bt.komodoShuffle=se,Bt.mana=ve,Bt.seed=Number.isFinite(Ke)?Math.trunc(Ke):null,Bt.triggersConsumed=et,Bt.changeEquipmentUses=Je,Bt.playerRollAmount=Ge,Bt.opponentRollAmount=Ie,Bt.playerLevel3Sold=dt,Bt.opponentLevel3Sold=yi,Bt.playerSummonedAmount=It,Bt.opponentSummonedAmount=bi,Bt.playerTransformationAmount=Gn,Bt.opponentTransformationAmount=Mn;else{const qr=`${Date.now()}-${Math.random().toString(16).slice(2,8)}`;r.savedTeams.push({id:qr,name:e,pets:t,createdAt:Date.now(),playerToyName:i,playerToyLevel:n,opponentToyName:o,opponentToyLevel:a,playerHardToy:l,playerHardToyLevel:d,opponentHardToy:p,opponentHardToyLevel:b,turn:T,playerGoldSpent:F,opponentGoldSpent:U,allPets:ee,tokenPets:Z,komodoShuffle:se,mana:ve,seed:Number.isFinite(Ke)?Math.trunc(Ke):null,triggersConsumed:et,changeEquipmentUses:Je,playerRollAmount:Ge,opponentRollAmount:Ie,playerLevel3Sold:dt,opponentLevel3Sold:yi,playerSummonedAmount:It,opponentSummonedAmount:bi,playerTransformationAmount:Gn,opponentTransformationAmount:Mn}),r.selectedTeamId=qr}return r.teamPresetsService.persistTeams(r.savedTeams),{savedTeams:r.savedTeams,selectedTeamId:r.selectedTeamId,teamName:""}}({side:t,teamName:i,formGroup:this.formGroup,savedTeams:this.savedTeams,selectedTeamId:this.selectedTeamId,teamPresetsService:this.teamPresetsService});this.savedTeams=n.savedTeams,this.selectedTeamId=n.selectedTeamId,this.teamName=n.teamName}loadTeam(t){!function yq(r){const e=r.savedTeams.find(l=>l.id===r.selectedTeamId);if(!e)return;null!=e.turn&&r.formGroup.get("turn").setValue(e.turn),null!=e.playerGoldSpent&&r.formGroup.get("playerGoldSpent").setValue(e.playerGoldSpent),null!=e.opponentGoldSpent&&r.formGroup.get("opponentGoldSpent").setValue(e.opponentGoldSpent),null!=e.allPets&&r.formGroup.get("allPets").setValue(e.allPets),r.formGroup.get("tokenPets").setValue(!0),null!=e.komodoShuffle&&r.formGroup.get("komodoShuffle").setValue(e.komodoShuffle),null!=e.mana&&r.formGroup.get("mana").setValue(e.mana),(null!=e.seed||null===e.seed)&&r.formGroup.get("seed")?.setValue(e.seed??null),null!=e.triggersConsumed&&r.formGroup.get("triggersConsumed").setValue(e.triggersConsumed),null!=e.changeEquipmentUses&&r.formGroup.get("changeEquipmentUses").setValue(e.changeEquipmentUses),null!=e.playerRollAmount?r.formGroup.get("playerRollAmount").setValue(e.playerRollAmount):null!=e.rollAmount&&"player"===r.side&&r.formGroup.get("playerRollAmount").setValue(e.rollAmount),null!=e.opponentRollAmount?r.formGroup.get("opponentRollAmount").setValue(e.opponentRollAmount):null!=e.rollAmount&&"opponent"===r.side&&r.formGroup.get("opponentRollAmount").setValue(e.rollAmount),null!=e.playerLevel3Sold&&r.formGroup.get("playerLevel3Sold").setValue(e.playerLevel3Sold),null!=e.opponentLevel3Sold&&r.formGroup.get("opponentLevel3Sold").setValue(e.opponentLevel3Sold),null!=e.playerSummonedAmount&&r.formGroup.get("playerSummonedAmount").setValue(e.playerSummonedAmount),null!=e.opponentSummonedAmount&&r.formGroup.get("opponentSummonedAmount").setValue(e.opponentSummonedAmount),null!=e.playerTransformationAmount?r.formGroup.get("playerTransformationAmount").setValue(e.playerTransformationAmount):null!=e.transformationAmount&&"player"===r.side&&r.formGroup.get("playerTransformationAmount").setValue(e.transformationAmount),null!=e.opponentTransformationAmount?r.formGroup.get("opponentTransformationAmount").setValue(e.opponentTransformationAmount):null!=e.transformationAmount&&"opponent"===r.side&&r.formGroup.get("opponentTransformationAmount").setValue(e.transformationAmount),null!=e.transformationAmount&&r.formGroup.get("player"===r.side?"playerTransformationAmount":"opponentTransformationAmount").setValue(e.transformationAmount);const t=RN({name:e.playerToyName,level:e.playerToyLevel},{name:e.toyName,level:e.toyLevel},{name:e.opponentToyName,level:e.opponentToyLevel}),i=RN({name:e.opponentToyName,level:e.opponentToyLevel},{name:e.toyName,level:e.toyLevel},{name:e.playerToyName,level:e.playerToyLevel});"player"===r.side?(r.formGroup.get("playerToy").setValue(t.name),r.formGroup.get("playerToyLevel").setValue(t.level)):(r.formGroup.get("opponentToy").setValue(i.name),r.formGroup.get("opponentToyLevel").setValue(i.level)),null!=e.playerHardToy&&r.formGroup.get("playerHardToy").setValue(e.playerHardToy),null!=e.playerHardToyLevel&&r.formGroup.get("playerHardToyLevel").setValue(e.playerHardToyLevel),null!=e.opponentHardToy&&r.formGroup.get("opponentHardToy").setValue(e.opponentHardToy),null!=e.opponentHardToyLevel&&r.formGroup.get("opponentHardToyLevel").setValue(e.opponentHardToyLevel);const n="player"===r.side?r.player:r.opponent,o=r.equipmentService.getInstanceOfAllEquipment(),a=r.equipmentService.getInstanceOfAllAilments();for(let l=0;l<5;l++){const d=e.pets?.[l];if(!d?.name){n.setPet(l,null,!0);continue}const p="string"==typeof d.equipment?d.equipment:d.equipment?.name,b=p?o.get(p)??a.get(p):null,T=b?$r(b):null;if(T){const U=d.equipmentUses??T.uses;null!=U&&(T.uses=U,T.originalUses=U)}const F=r.petService.createPet({name:d.name,attack:d.attack??0,health:d.health??0,exp:d.exp??0,equipment:T??null,belugaSwallowedPet:d.belugaSwallowedPet??null,sarcasticFringeheadSwallowedPet:d.sarcasticFringeheadSwallowedPet??null,mana:d.mana??0,triggersConsumed:d.triggersConsumed??0,foodsEaten:d.foodsEaten??0,abominationSwallowedPet1:d.abominationSwallowedPet1??null,abominationSwallowedPet2:d.abominationSwallowedPet2??null,abominationSwallowedPet3:d.abominationSwallowedPet3??null,abominationSwallowedPet1BelugaSwallowedPet:d.abominationSwallowedPet1BelugaSwallowedPet??null,abominationSwallowedPet2BelugaSwallowedPet:d.abominationSwallowedPet2BelugaSwallowedPet??null,abominationSwallowedPet3BelugaSwallowedPet:d.abominationSwallowedPet3BelugaSwallowedPet??null,abominationSwallowedPet1SarcasticFringeheadSwallowedPet:d.abominationSwallowedPet1SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet2SarcasticFringeheadSwallowedPet:d.abominationSwallowedPet2SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet3SarcasticFringeheadSwallowedPet:d.abominationSwallowedPet3SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet1Level:d.abominationSwallowedPet1Level??1,abominationSwallowedPet2Level:d.abominationSwallowedPet2Level??1,abominationSwallowedPet3Level:d.abominationSwallowedPet3Level??1,abominationSwallowedPet1TimesHurt:d.abominationSwallowedPet1TimesHurt??0,abominationSwallowedPet2TimesHurt:d.abominationSwallowedPet2TimesHurt??0,abominationSwallowedPet3TimesHurt:d.abominationSwallowedPet3TimesHurt??0,friendsDiedBeforeBattle:d.friendsDiedBeforeBattle??0,battlesFought:d.battlesFought??0,timesHurt:d.timesHurt??0},n);n.setPet(l,F,!0)}r.initPetForms(),function Aq(r,e,t){const n=r.get("player"===e?"playerPets":"opponentPets");if(n)for(let o=0;o<n.length;o++){const a=n.at(o),l=t?.[o];a.get("equipmentUses")?.setValue(l?.equipmentUses??null,{emitEvent:!1})}}(r.formGroup,r.side,e.pets)}({side:t,selectedTeamId:this.selectedTeamId,savedTeams:this.savedTeams,formGroup:this.formGroup,player:this.player,opponent:this.opponent,petService:this.petService,equipmentService:this.equipmentService,initPetForms:()=>this.initPetForms()})}loadTeamPresets(){this.savedTeams=this.teamPresetsService.loadTeams()}randomize=t=>function WY(r,e){try{r.undoState=JSON.parse(JSON.stringify(r.formGroup.getRawValue()))}catch(i){console.error("Failed to create undo snapshot",i)}const t=r.formGroup.get("allPets").value;e?(e.allPets=r.formGroup.get("allPets").value,e.tokenPets=r.formGroup.get("tokenPets").value,vT(r,e),t?$R(r,e):_T(r,e)):(r.player.allPets=r.formGroup.get("allPets").value,r.player.tokenPets=r.formGroup.get("tokenPets").value,r.opponent.allPets=r.formGroup.get("allPets").value,r.opponent.tokenPets=r.formGroup.get("tokenPets").value,vT(r,r.player),vT(r,r.opponent),t?($R(r,r.player),$R(r,r.opponent)):(_T(r,r.player),_T(r,r.opponent))),r.formGroup&&y4(r),setTimeout(()=>{r.petSelectors.forEach(i=>{i.initSelector()})})}(this,t);undoRandomize=()=>function KY(r){r.undoState&&(VT(r,r.undoState),x2(r),r.undoState=null,setTimeout(()=>{r.petSelectors&&r.petSelectors.forEach(e=>{e.fixLoadEquipment()})}))}(this);clearCache=()=>function zY(r){r.localStorageService.clearStorage(),r.setStatus?.("Cache cleared. Refresh page to see changes.","success")}(this);initModals=()=>function YY(r){r.customPackEditorModal=new Hd(r.customPackEditor.nativeElement),r.customPackEditor.nativeElement.addEventListener("show.bs.modal",()=>{document.body.classList.add("custom-pack-editor-open")}),r.customPackEditor.nativeElement.addEventListener("hidden.bs.modal",()=>{document.body.classList.remove("custom-pack-editor-open")})}(this);openCustomPackEditor=()=>m4(this);drop=(t,i)=>function XY(r,e,t){let i=e.previousIndex,n=e.currentIndex;"player"==t&&(i=4-i,n=4-n);const o=r.formGroup.get(`${t}Pets`);hs(o.controls,i,n),o.updateValueAndValidity(),WT(r),setTimeout(()=>{for(const a of r.petSelectors.toArray())a.substitutePet()})}(this,t,i);resetPlayer=t=>E2(this,t);export=()=>function JY(r){r.localStorageService.setFormStorage(r.formGroup);const e=(0,t_.$j)(r.formGroup);navigator.clipboard.writeText(e).then(()=>{r.setStatus?.("Copied to clipboard.","success")}).catch(t=>{console.error("Clipboard error:",t),r.setStatus?.("Failed to copy to clipboard.","error")})}(this);import=(t,i=!1,n)=>C2(this,t,i,n);importForDialog=(t,i)=>C2(this,t,!1,i);generateShareLink=()=>function ZY(r){r.localStorageService.setFormStorage(r.formGroup);const e=window.location.origin+window.location.pathname,t=(0,t_._9)(r.formGroup,e);navigator.clipboard.writeText(t).then(()=>{r.setStatus?.("Shareable link copied to clipboard!","success")}).catch(i=>{console.error("Failed to copy link: ",i),r.setStatus?.("Failed to copy link. See console for details.","error")})}(this);refreshFilteredBattles=()=>JN(this);get winPercent(){return function wq(r){const e=r.playerWinner+r.opponentWinner+r.draw;return 0===e?0:kR(r.playerWinner/e*100)}(this)}get drawPercent(){return ON(this)}get losePercent(){return wR(this)}get validCustomPacks(){return function zV(r){const e=r.formGroup.get("customPacks"),t=[];for(const i of e.controls)i.valid&&t.push(i);return t}(this)}getToyIcon=YV;get selectedTeamName(){return function XV(r){return MF(r)?.name||""}(this)}get selectedTeamPreviewIcons(){return function JV(r){return(MF(r)?.pets||[]).slice(0,5).map(t=>rn(t?.name)).filter(Boolean)}(this)}getToyOptionStyle=QV;openSelectionDialog=(t,i)=>function BY(r,e,t){r.selectionType=e,r.selectionSide=t,r.showSelectionDialog=!0}(this,t,i);onItemSelected=t=>function $Y(r,e){if(e instanceof Event)return r.showSelectionDialog=!1,void(r.selectionSide="none");const t=e&&"object"==typeof e?e:null;if(!r.selectionSide||"none"===r.selectionSide)return"team"===r.selectionType&&(r.selectedTeamId="string"==typeof e?e:"string"==typeof t?.id?t.id:"string"==typeof t?.name?t.name:""),r.showSelectionDialog=!1,void(r.selectionSide="none");const i=r.selectionSide,n=r.selectionType;if("pack"===n){const o="string"==typeof e?e:"string"==typeof t?.name?t.name:null;"player"===i?r.formGroup.get("playerPack").setValue(o):r.formGroup.get("opponentPack").setValue(o)}else if("toy"===n){const o="string"==typeof e?e:"string"==typeof t?.name?t.name:null,a="string"==typeof o&&"none"===o.trim().toLowerCase()?null:o;"player"===i?r.formGroup.get("playerToy").setValue(a):r.formGroup.get("opponentToy").setValue(a)}else if("hard-toy"===n){const o="string"==typeof e?e:"string"==typeof t?.name?t.name:null,a="string"==typeof o&&"none"===o.trim().toLowerCase()?null:o;"player"===i?r.formGroup.get("playerHardToy").setValue(a):r.formGroup.get("opponentHardToy").setValue(a)}else"team"===n&&(r.selectedTeamId="string"==typeof e?e:"string"==typeof t?.id?t.id:"string"==typeof t?.name?t.name:"");r.showSelectionDialog=!1,r.selectionSide="none"}(this,t);getPackIconPath=GY;onPackImageError=t=>function HY(r,e){"player"===e?r.playerPackImageBroken=!0:r.opponentPackImageBroken=!0}(this,t);resetPackImageError=(t,i)=>g4(this,t);incrementToyLevel=t=>function jY(r,e){const t="player"===e?"playerToyLevel":"opponentToyLevel",i=r.formGroup.get(t).value;i<3&&r.formGroup.get(t).setValue(i+1)}(this,t);decrementToyLevel=t=>function qY(r,e){const t="player"===e?"playerToyLevel":"opponentToyLevel",i=r.formGroup.get(t).value;i>1&&r.formGroup.get(t).setValue(i-1)}(this,t);removeHardToy=t=>function UY(r,e){r.formGroup.get("player"===e?"playerHardToy":"opponentHardToy").setValue(null)}(this,t);getToyIconPath=VY;clearFightAnimationTimer(){fT(this)}setStatus(t,i="success"){this.statusMessage=t,this.statusTone=i,this.cdr.markForCheck(),this.clearStatusTimer(),this.statusTimer=setTimeout(()=>{this.statusMessage="",this.statusTimer=null,this.cdr.markForCheck()},3e3)}clearStatus(){this.clearStatusTimer(),this.statusMessage="",this.cdr.markForCheck()}clearStatusTimer(){this.statusTimer&&(clearTimeout(this.statusTimer),this.statusTimer=null)}loadThemePreference(){const t=window.localStorage.getItem(this.uiThemeStorageKey);if("light"===t||"dark"===t)return void this.applyTheme(t,!1);const i=window.matchMedia?.("(prefers-color-scheme: dark)")?.matches;this.applyTheme(i?"dark":"light",!1)}applyTheme(t,i){this.theme=t,document.documentElement.setAttribute("data-bs-theme",t),document.body.classList.toggle("theme-dark","dark"===t),i&&window.localStorage.setItem(this.uiThemeStorageKey,t),this.cdr.markForCheck()}static \u0275fac=function(i){return new(i||r)(c.rXU(Yn),c.rXU(A.zZn),c.rXU(te.gRc),c.rXU(Da),c.rXU(Zi),c.rXU(Xn),c.rXU(Ar),c.rXU(Pi),c.rXU(DN.s),c.rXU(pX),c.rXU(mX),c.rXU(RX),c.rXU(LX))};static \u0275cmp=c.VBU({type:r,selectors:[["app-root"]],viewQuery:function(i,n){if(1&i&&c.GBs(NX,5)(hN,5),2&i){let o;c.mGM(o=c.lsd())&&(n.customPackEditor=o.first),c.mGM(o=c.lsd())&&(n.petSelectors=o)}},hostBindings:function(i,n){1&i&&c.bIt("keydown",function(a){return n.handleKeyboardShortcuts(a)},c.EBC)},decls:3,vars:3,consts:[["container",""],["customPackEditor",""],["playerPetSelector",""],["opponentPetSelector",""],[4,"ngIf"],[3,"ngClass","type","showAllPets","customPacks","savedTeams","select","close",4,"ngIf"],["id","apiResponse"],[1,"container-fluid","app-wrapper","flex-col",3,"formGroup","ngClass"],[1,"row","battle-row","pb-5","pt-3"],[1,"col-12","col-xl-6","px-4","mb-2","mb-xl-0"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center","toy-wrap"],[1,"me-2","player-side-text"],[1,"toy-row"],[1,"toy-slot"],["type","button",1,"toy-select-btn",3,"click"],["class","toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Player Toy",3,"ngSrc",4,"ngIf"],[1,"toy-label"],[1,"fas","fa-chevron-down"],["class","toy-level-controls inline",4,"ngIf"],["class","toy-art hard-toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Player Hard Toy",3,"ngSrc",4,"ngIf"],["type","button","class","toy-remove-btn-inline","title","Remove hard toy","aria-label","Remove player hard toy",3,"click",4,"ngIf"],[1,"btn","glass-btn","mb-1",3,"click"],[1,"card","p-2","player-card"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"row","row-cols-1","row-cols-md-5","g-0",3,"cdkDropListDropped"],["class","col drag-container mb-2 mb-md-0 px-0","cdkDrag","","cdkDragLockAxis","x",3,"cdkDragStartDelay","pet-slot-active","mousedown","focusin",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-xl-6","px-4"],[1,"me-2","opponent-side-text"],["class","toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Opponent Toy",3,"ngSrc",4,"ngIf"],["class","toy-art hard-toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Opponent Hard Toy",3,"ngSrc",4,"ngIf"],["type","button","class","toy-remove-btn-inline","title","Remove hard toy","aria-label","Remove opponent hard toy",3,"click",4,"ngIf"],[1,"card","p-2","player-card","ml-auto"],["class","col drag-container mb-2 mb-sm-0 px-0","cdkDrag","","cdkDragLockAxis","x",3,"cdkDragStartDelay","pet-slot-active","mousedown","focusin",4,"ngFor","ngForOf","ngForTrackBy"],[3,"app"],["id","customPackEditor","tabindex","-1","aria-labelledby","customPackEditorLabel","aria-hidden","true",1,"modal","fade","custom-pack-editor-modal"],[1,"modal-dialog","modal-lg","custom-pack-editor-dialog"],[1,"modal-content"],[1,"modal-header"],["id","customPackEditorLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],["id","info","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],["id","exampleModalLabel",1,"modal-title","fs-5"],["id","import","tabindex","-1","aria-labelledby","importModalLabel","aria-hidden","true",1,"modal","fade"],["id","importModalLabel",1,"modal-title","fs-5"],["id","export","tabindex","-1","aria-labelledby","exportModalLabel","aria-hidden","true",1,"modal","fade"],["id","exportModalLabel",1,"modal-title","fs-5"],["id","reportABug","tabindex","-1","aria-labelledby","reportABugLabel","aria-hidden","true",1,"modal","fade"],["id","reportABugLabel",1,"modal-title","fs-5"],["width","36","height","36","loading","lazy","decoding","async","alt","Player Toy",1,"toy-art",3,"ngSrc"],[1,"toy-level-controls","inline"],["type","button","title","Decrease level","aria-label","Decrease player toy level",1,"toy-level-btn",3,"click"],[1,"fas","fa-minus"],[1,"toy-level-label"],["type","button","title","Increase level","aria-label","Increase player toy level",1,"toy-level-btn",3,"click"],[1,"fas","fa-plus"],["width","36","height","36","loading","lazy","decoding","async","alt","Player Hard Toy",1,"toy-art","hard-toy-art",3,"ngSrc"],["type","button","title","Remove hard toy","aria-label","Remove player hard toy",1,"toy-remove-btn-inline",3,"click"],[1,"fas","fa-times"],["cdkDrag","","cdkDragLockAxis","x",1,"col","drag-container","mb-2","mb-md-0","px-0",3,"mousedown","focusin","cdkDragStartDelay"],[1,"pet-slot-actions"],["type","button","title","Clear this pet selector","aria-label","Clear this pet selector",1,"pet-clear-btn",3,"click"],[3,"pet","player","opponent","index","formGroup","ailments","allPets","mana","triggersConsumed","allowEquipmentUseOverrides","showTokenPets","flipImage","customPacks"],["width","36","height","36","loading","lazy","decoding","async","alt","Opponent Toy",1,"toy-art",3,"ngSrc"],["type","button","title","Decrease level","aria-label","Decrease opponent toy level",1,"toy-level-btn",3,"click"],["type","button","title","Increase level","aria-label","Increase opponent toy level",1,"toy-level-btn",3,"click"],["width","36","height","36","loading","lazy","decoding","async","alt","Opponent Hard Toy",1,"toy-art","hard-toy-art",3,"ngSrc"],["type","button","title","Remove hard toy","aria-label","Remove opponent hard toy",1,"toy-remove-btn-inline",3,"click"],["cdkDrag","","cdkDragLockAxis","x",1,"col","drag-container","mb-2","mb-sm-0","px-0",3,"mousedown","focusin","cdkDragStartDelay"],[1,"text-muted"],[3,"importFunc"],[3,"calcFormGroup"],[3,"select","close","ngClass","type","showAllPets","customPacks","savedTeams"]],template:function(i,n){1&i&&c.DNE(0,GX,3,1,"ng-container",4)(1,aJ,114,27,"ng-container",4)(2,oJ,1,5,"app-item-selection-dialog",5),2&i&&(c.Y8G("ngIf",n.api),c.R7$(),c.Y8G("ngIf",!n.api),c.R7$(),c.Y8G("ngIf",n.showSelectionDialog))},dependencies:[Ct.MD,Ct.YU,Ct.Sq,Ct.bT,Ti,X.YN,X.cb,X.X1,X.j4,na,ru,gs,hN,uN,G6,Pj,hq],styles:[':root{color-scheme:light;--ui-space-1: 4px;--ui-space-2: 8px;--ui-space-3: 12px;--ui-space-4: 16px;--ui-space-5: 24px;--ui-font-main: "Lapsus Pro", Roboto, "Helvetica Neue", sans-serif;--ui-font-main-letter-spacing: .0125em;--ui-surface-0: #ffffff;--ui-surface-1: #f8fafc;--ui-surface-2: #f1f5f9;--ui-border-1: #dbe4ee;--ui-text-1: #0f172a;--ui-text-2: #334155;--ui-text-3: #64748b;--ui-brand: #2563eb;--ui-brand-weak: #dbeafe;--ui-success: #16a34a;--ui-danger: #dc2626;--ui-draw: #64748b;--ui-player-soft: #5fbf5f;--ui-opponent-soft: #e06a6a}.theme-dark{color-scheme:dark;--ui-surface-0: #111827;--ui-surface-1: #1f2937;--ui-surface-2: #273548;--ui-border-1: #334155;--ui-text-1: #f8fafc;--ui-text-2: #cbd5e1;--ui-text-3: #94a3b8;--ui-brand: #3b82f6;--ui-brand-weak: rgba(59, 130, 246, .22);--ui-success: #22c55e;--ui-danger: #f87171;--ui-draw: #94a3b8}.app-wrapper{min-height:100vh;font-family:var(--ui-font-main);letter-spacing:var(--ui-font-main-letter-spacing)}.day-night-container{min-height:1em}.flex-col{display:flex;flex-direction:column}.player-card{background-color:transparent;display:grid;grid-auto-rows:minmax(min-content,max-content);grid-template-columns:auto 1fr auto;border-color:transparent;box-shadow:none}.back,.front{transform:rotate(180deg);writing-mode:vertical-lr;text-align:center}.battle-row{background-color:#5ebe09;background-repeat:no-repeat;background-position:center;background-size:cover;font-weight:400}.battle-row h2{font-weight:500}.player-side-text{color:var(--ui-player-soft)}.opponent-side-text{color:var(--ui-opponent-soft)}.battle-row h2.player-side-text{color:var(--ui-player-soft)}.battle-row h2.opponent-side-text{color:var(--ui-opponent-soft)}.side-select-player{color:var(--ui-player-soft)}.side-select-opponent{color:var(--ui-opponent-soft)}.stat-label.player-side-text{color:var(--ui-player-soft)}.stat-label.opponent-side-text{color:var(--ui-opponent-soft)}.log-filter-tabs .log-filter-tab.player-side-text{color:var(--ui-player-soft)}.log-filter-tabs .log-filter-tab.opponent-side-text{color:var(--ui-opponent-soft)}.log-filter-tabs .log-filter-tab.active.player-side-text{background-color:var(--ui-player-soft);border-color:var(--ui-player-soft);color:#fff}.log-filter-tabs .log-filter-tab.active.opponent-side-text{background-color:var(--ui-opponent-soft);border-color:var(--ui-opponent-soft);color:#fff}.battle-row button,.battle-row .btn,.battle-row .btn-link,.battle-row .log-filter-tab,.battle-row .log-event-filter-btn{font-family:var(--ui-font-main)}.log-row{padding:.35rem .75rem;border-bottom:1px solid #eef1f4}.top-controls{border-radius:14px;background:linear-gradient(180deg,#fff,#f8fbff);padding:.4rem .5rem .5rem;margin-bottom:.35rem;border:1px solid var(--ui-border-1);box-shadow:0 1px 2px #0f172a0a}.top-controls-header{display:grid;grid-template-columns:minmax(300px,1.05fr) minmax(320px,1.2fr) minmax(280px,1fr);gap:var(--ui-space-2);align-items:start;padding:6px 10px 3px}.top-toolbar-zone{display:flex;flex-direction:column;gap:3px;border:1px solid var(--ui-border-1);border-radius:12px;padding:7px 8px;background:var(--ui-surface-0)}.zone-label{display:inline-flex;align-items:center;gap:var(--ui-space-1);font-size:.72rem;font-weight:700;line-height:1;text-transform:uppercase;letter-spacing:.045em;color:var(--ui-text-3)}.zone-label.zone-label-right{justify-content:flex-end}.top-toolbar-zone-results{align-items:center;gap:2px}.simulate-controls{display:flex;flex-wrap:wrap;gap:var(--ui-space-1)}.simulate-input-group{display:flex;align-items:center;gap:var(--ui-space-1)}.simulate-input-group .simulate-input{width:88px;text-align:center;font-weight:600}.optimize-control-group,.randomize-control-group{display:inline-flex;align-items:center;gap:var(--ui-space-1)}.top-controls .btn{border-radius:10px;border-width:1px;font-weight:600;letter-spacing:.01em;font-family:var(--ui-font-main);transition:background-color .18s ease,border-color .18s ease,color .18s ease,box-shadow .18s ease}.top-controls .btn-primary{background:var(--ui-brand);border-color:var(--ui-brand);color:#fff}.top-controls .btn-primary:hover:not(:disabled){background:#1d4ed8;border-color:#1d4ed8}.top-controls .btn-secondary{background:var(--ui-surface-2);border-color:var(--ui-border-1);color:var(--ui-text-2)}.top-controls .btn-secondary:hover:not(:disabled){background:#e2e8f0;border-color:#cbd5e1}.top-controls .btn-outline-primary,.top-controls .btn-outline-secondary,.top-controls .btn-outline-danger{background:transparent;color:var(--ui-text-2);border-color:#cbd5e1}.top-controls .btn-outline-primary:hover:not(:disabled),.top-controls .btn-outline-secondary:hover:not(:disabled),.top-controls .btn-outline-danger:hover:not(:disabled){background:var(--ui-surface-2);border-color:#b8c5d6;color:var(--ui-text-1)}.results-placeholder{display:flex;flex-direction:column;align-items:center;gap:var(--ui-space-2);min-height:64px;width:100%}.results-placeholder-text{color:var(--ui-text-3);font-size:.82rem;font-weight:600;text-transform:uppercase;letter-spacing:.03em}.placeholder-bar{border-color:#d8e1eb;background-color:#eef2f7}.top-toolbar-zone-actions{align-items:flex-end;justify-content:space-between}.external-meta{align-items:center;display:flex;flex-wrap:wrap;gap:var(--ui-space-2);justify-content:flex-end;text-align:right}.external-buttons{display:flex;flex-wrap:wrap;gap:var(--ui-space-1);justify-content:flex-end}.top-controls-body{padding:4px 10px 8px}.controls-grid{display:grid;grid-template-columns:repeat(3,minmax(220px,1fr));gap:var(--ui-space-2);align-items:start}.controls-section{display:flex;flex-direction:column;gap:var(--ui-space-1);padding:8px;border-radius:12px;background-color:var(--ui-surface-1);border:1px solid var(--ui-border-1)}.controls-section .form-group,.controls-section .form-check{margin-bottom:0}.controls-section .form-group>label{margin-bottom:var(--ui-space-1);font-size:.74rem;font-weight:700;color:var(--ui-text-3);text-transform:uppercase;letter-spacing:.03em}.controls-section .form-check-label{color:var(--ui-text-2);font-size:.84rem}.section-title{font-size:.84rem;font-weight:700;text-transform:uppercase;letter-spacing:.04em;color:var(--ui-text-3)}.controls-section.unified-advanced-section{grid-column:span 3}.teams-section{flex-direction:row;flex-wrap:wrap;gap:var(--ui-space-2);align-items:flex-start}.team-name-actions{display:flex;gap:var(--ui-space-1)}.team-column{display:flex;flex-direction:column;gap:var(--ui-space-1);min-width:180px;flex:1 1 220px}.team-selection-btn{min-height:44px;display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:.6rem}.team-preview{display:flex;gap:2px}.team-preview-icon{width:28px;height:28px;border-radius:6px;background:#f5f6f8;object-fit:contain;border:1px solid rgba(0,0,0,.08)}.btn-placeholder{color:#495057;font-size:.9rem;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;letter-spacing:.025em}.team-name-input{max-width:220px}.team-select{max-width:240px}.packs-section .min-w-input{min-width:180px}.compact-toy-group .toy-panel{border-radius:10px;padding:.5rem .6rem;background:#fff;display:flex;flex-direction:column;gap:.5rem;box-shadow:none;max-width:100%;margin:0;border:1px solid #eef1f4}.selection-btn{width:100%;display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:#fff;border:1px solid #ced4da;border-radius:10px;transition:all .2s;cursor:pointer;text-align:left;min-height:42px;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400}.selection-btn:hover{background:#f1f3f5;border-color:#adb5bd;color:inherit;transform:translateY(-1px)}.selection-btn:focus-visible{outline:3px solid var(--sap-btn-primary);outline-offset:2px;border-color:var(--sap-btn-primary);color:inherit}.selection-btn:active{color:inherit}.selection-btn .btn-icon{width:24px;height:24px;object-fit:contain}.selection-btn .btn-text{font-size:.9rem;color:#495057;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;letter-spacing:.025em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.selection-btn i{color:#adb5bd;font-size:.8rem}:host-context(.night) .selection-btn{background:#3d3d3d;border-color:#444;color:#eee}:host-context(.night) .selection-btn:hover{background:#444;border-color:#555}:host-context(.night) .selection-btn:focus-visible{outline-color:#9ec5ff;border-color:#9ec5ff}:host-context(.night) .selection-btn .btn-text{color:#eee}:host-context(.night) .selection-btn .btn-placeholder{color:#eee}.compact-toy-group .toy-row{display:flex;gap:.5rem;flex-wrap:wrap;align-items:flex-end;justify-content:center}.compact-toy-group .toy-inline{flex:1;min-width:150px;display:flex;flex-direction:column;gap:.2rem}.compact-toy-group .toy-inline label{font-size:.75rem;font-weight:600;margin-bottom:0}.compact-toy-group .toy-level{max-width:90px}.compact-toy-group .hard-row .toy-inline{min-width:200px}.unified-advanced-section{gap:var(--ui-space-2)}.unified-advanced-header{display:flex;align-items:center}.unified-advanced-toggle-btn{width:100%;display:inline-flex;align-items:center;gap:var(--ui-space-2);color:var(--ui-text-2);text-decoration:none;font-weight:700}.unified-advanced-count{color:var(--ui-text-3);font-size:.74rem;text-transform:uppercase;letter-spacing:.03em}.unified-advanced-chevron{display:inline-block;margin-left:auto;transition:transform .2s ease}.unified-advanced-chevron.expanded{transform:rotate(180deg)}.unified-advanced-summary{color:var(--ui-text-3);font-size:.84rem;border-top:1px dashed var(--ui-border-1);padding-top:var(--ui-space-2)}.unified-advanced-body{display:flex;flex-direction:column;gap:var(--ui-space-1)}.unified-advanced-body .nested-section{background:var(--ui-surface-0)}.unified-advanced-body .packs-section{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:var(--ui-space-1) var(--ui-space-2);align-items:start}.unified-advanced-body .packs-section .form-check,.unified-advanced-body .packs-section .subsection-title,.unified-advanced-body .teams-section .subsection-title{grid-column:1/-1}.unified-advanced-body .teams-section{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:var(--ui-space-1) var(--ui-space-2);align-items:start}.unified-advanced-body .teams-section .team-column{min-width:0;flex:0 1 auto}.unified-advanced-body .team-name-input{max-width:100%}.unified-advanced-body .team-name-actions .btn,.unified-advanced-body .team-name-actions .form-select{flex:1 1 0;min-width:0}.subsection-title{margin-bottom:var(--ui-space-1)}.random-overrides-panel{border:1px solid var(--ui-border-1);border-radius:10px;background:var(--ui-surface-0);padding:8px;display:flex;flex-direction:column;gap:var(--ui-space-2)}.advanced-panel-body{border:1px solid var(--ui-border-1);border-radius:10px;background:var(--ui-surface-0);padding:8px}.advanced-grid{display:grid;grid-template-columns:repeat(3,minmax(140px,1fr));gap:var(--ui-space-1) var(--ui-space-2);align-items:start}.advanced-number-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:var(--ui-space-2);align-items:flex-start}.advanced-number-grid .form-group{margin-bottom:0}.advanced-input label{font-size:.74rem;font-weight:700;letter-spacing:.02em;margin-bottom:.2rem;color:var(--ui-text-3);text-transform:uppercase}.debug-sub-toggle{margin-left:1.15rem}.debug-sub-toggle .form-check-label{color:var(--ui-text-3);font-size:.78rem}.advanced-label-with-icon{display:inline-flex;align-items:center;gap:.35rem}.advanced-icon{width:18px;height:18px;display:inline-block;background-repeat:no-repeat;background-size:contain;background-position:center;filter:drop-shadow(0 1px 1px rgba(0,0,0,.2))}.advanced-icon.roll-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/roll.png)}.advanced-icon.gold-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/gold.png)}.advanced-icon.mana-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/mana.png)}.advanced-icon.transform-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/transform.png)}.advanced-icon.cycle-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/cycle.png)}.advanced-icon.summon-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/summon.png)}.advanced-icon.token-icon{background-image:url(/assets/art/Public/Public/Pets/Bee.png)}.advanced-icon.komodo-icon{background-image:url(/assets/art/Public/Public/Pets/Komodo.png)}.advanced-icon.perk-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/perk.png)}.advanced-icon.pheasant-icon{background-image:url(/assets/art/Public/Public/Icons/triggers-from-textmap.png)}.advanced-icon.abomination-icon{background-image:url(/assets/art/Public/Public/Pets/Shoggoth.png)}.small-w-input label{font-size:.74rem;font-weight:700;letter-spacing:.02em;margin-bottom:.2rem;color:var(--ui-text-3);text-transform:uppercase}.advanced-input input{text-align:center}.advanced-toggle{display:flex;justify-content:flex-start}.random-overrides-header{align-items:center;display:flex;flex-wrap:wrap;gap:var(--ui-space-2);justify-content:space-between}.random-overrides-toggle{display:inline-flex;align-items:center;gap:var(--ui-space-2);color:var(--ui-text-2);text-decoration:none;font-weight:700}.random-overrides-count{color:var(--ui-text-3);font-size:.8rem;text-transform:uppercase;letter-spacing:.03em}.random-overrides-chevron{display:inline-block;transition:transform .2s ease}.random-overrides-chevron.expanded{transform:rotate(180deg)}.random-overrides-actions{display:flex;flex-wrap:wrap;gap:var(--ui-space-1)}.random-overrides-summary{color:var(--ui-text-3);font-size:.92rem;border-top:1px dashed var(--ui-border-1);padding-top:var(--ui-space-2)}.random-overrides-body{display:flex;flex-direction:column;gap:var(--ui-space-2);border-top:1px dashed var(--ui-border-1);padding-top:var(--ui-space-2)}.random-overrides-empty{color:var(--ui-text-3);font-size:.92rem}.random-overrides-error{color:#b42318;font-size:.92rem;font-weight:600}.random-overrides-table-wrap{max-height:260px;overflow:auto}.random-overrides-table{margin-bottom:0}.decision-label{font-size:.94rem;font-weight:600;line-height:1.3}.decision-key{color:#6c757d;font-family:Courier New,Courier,monospace;font-size:.84rem}.decision-choice-preview{font-size:.9rem;line-height:1.35;margin-bottom:.3rem;min-height:1.25rem}.meta-text{color:#6c757d;font-size:.9rem}.battle-controller.border{border:0;background-color:#f5f5f5}.small-w-input{width:60px}@media(max-width:1199.98px){.controls-grid{grid-template-columns:repeat(2,minmax(220px,1fr))}.controls-section.unified-advanced-section{grid-column:span 2}}@media(max-width:991.98px){.top-controls-header{grid-template-columns:1fr}.top-toolbar-zone-actions,.external-meta,.external-buttons{align-items:flex-start;justify-content:flex-start;text-align:left}.zone-label.zone-label-right{justify-content:flex-start}.controls-grid{grid-template-columns:1fr}.controls-section.unified-advanced-section{grid-column:span 1}.teams-section{flex-direction:column}.advanced-grid{grid-template-columns:repeat(2,minmax(120px,1fr))}.packs-section .min-w-input,.team-column{min-width:0}.unified-advanced-body .packs-section,.unified-advanced-body .teams-section{grid-template-columns:1fr}}@media(max-width:575.98px){.top-controls{padding:.35rem .35rem .5rem}.top-controls-header,.top-controls-body{padding-left:.5rem;padding-right:.5rem}.simulate-controls,.simulate-input-group,.optimize-control-group,.randomize-control-group,.team-name-actions,.external-buttons,.random-overrides-actions{width:100%}.simulate-controls,.optimize-control-group,.randomize-control-group,.team-name-actions,.external-buttons,.random-overrides-actions{gap:.4rem}.simulate-input-group{flex-wrap:wrap}.simulate-input-group .simulate-input{width:100%;flex:1 1 100%}.external-buttons .btn,.team-name-actions .btn,.team-name-actions .form-select,.random-overrides-actions .btn{flex:1 1 auto}.team-name-input{max-width:100%}.advanced-grid{grid-template-columns:1fr}.advanced-number-grid{grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:.6rem}}.results-row{align-items:center;display:flex;flex-direction:column;justify-content:center;text-align:center;gap:2px;width:100%}.results-row .stats{align-items:center;display:flex;justify-content:center;gap:2px 10px;flex-wrap:wrap;width:100%}.stat-block{display:flex;flex:0 1 auto;gap:.28rem;font-weight:700;font-size:.9rem;justify-content:center;white-space:nowrap}.stat-label{font-weight:700;color:var(--ui-text-3);text-transform:uppercase;letter-spacing:.03em;font-size:.72rem}.stat-value{color:var(--ui-text-2)}.player-stat .stat-value{color:var(--ui-success)}.opponent-stat .stat-value{color:var(--ui-danger)}.draw-stat .stat-value{color:var(--ui-draw)}.modern-results-bar{width:min(560px,100%);height:14px;display:flex;overflow:hidden;border-radius:999px;border:1px solid #d7e1ec;background:#eef3f8}.modern-results-bar .results-segment{height:100%;min-width:0}.modern-results-bar .results-segment-player{background:linear-gradient(90deg,#22c55e,#16a34a)}.modern-results-bar .results-segment-draw{background:linear-gradient(90deg,#94a3b8,#64748b)}.modern-results-bar .results-segment-opponent{background:linear-gradient(90deg,#ef4444,#dc2626)}.top-controls-meta-text{color:var(--ui-text-3)!important;font-size:.78rem!important;text-transform:uppercase;letter-spacing:.03em}.battle-table-shell{border:1px solid #dce4ec;border-radius:10px;overflow:hidden;background:#fff}.battle-table-meta{display:flex;justify-content:space-between;align-items:center;gap:.6rem;padding:.45rem .6rem;background:#f8fafc;color:#64748b;font-size:.74rem;font-weight:700;text-transform:uppercase;letter-spacing:.03em;border-bottom:1px solid #e2e8f0}.battle-table thead th{font-size:.8rem;font-weight:700;color:#334155;text-transform:uppercase;letter-spacing:.03em;border-bottom:1px solid #e2e8f0;background:#f8fafc;padding:.55rem .6rem}.battle-table tbody td{padding:.5rem .6rem;vertical-align:middle;border-bottom:1px solid #edf2f7}.battle-table tbody tr:last-child td{border-bottom:0}.table-battle-row{cursor:pointer;transition:background-color .16s ease}.table-battle-row td{background:#fff}.table-battle-row:hover td{background:#f8fbff}.table-battle-row.selected-battle td{background:#eaf2ff}.table-battle-row.battle-win td:first-child{border-left:3px solid #16a34a}.table-battle-row.battle-loss td:first-child{border-left:3px solid #dc2626}.table-battle-row.battle-draw td:first-child{border-left:3px solid #64748b}.battle-winner-chip{display:inline-flex;align-items:center;border-radius:999px;padding:.18rem .55rem;border:1px solid #d3dce6;background:#f8fafc;color:#334155;font-size:.72rem;font-weight:700;text-transform:uppercase;letter-spacing:.03em}.battle-winner-player{background:#16a34a21;border-color:#16a34a73;color:#166534}.battle-winner-opponent{background:#dc26261f;border-color:#dc262673;color:#991b1b}.battle-winner-draw{background:#64748b24;border-color:#64748b73;color:#475569}.battle-random-cell{font-size:.95rem;line-height:1.4;color:#334155}.battle-no-random{color:#94a3b8;font-style:italic}::ng-deep .log-pet-icon{width:18px;height:18px;object-fit:contain;vertical-align:middle;margin-right:2px}::ng-deep .log-inline-icon{width:16px;height:16px;object-fit:contain;vertical-align:middle;margin:0 3px 2px}.pane-top-shell{border:1px solid #dee5ee;border-radius:10px;background:linear-gradient(180deg,#f8fafd,#fff);padding:.55rem .6rem .65rem;margin-bottom:.55rem}.pane-title{margin:0;font-size:1.55rem;line-height:1.1;color:#1e293b}.pane-subtitle{display:block;margin:.4rem 0 .25rem;font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:.035em;color:#64748b}.logs-top-shell{padding-bottom:.55rem}.log-container{display:block;padding-left:.35rem;padding-right:.35rem}.log-container.log-container-with-analysis{max-height:24rem;overflow-y:auto}.bold{font-weight:700}.log-event-filters{display:flex;flex-wrap:wrap;gap:.35rem;margin-top:.45rem;align-items:center}.log-event-filter-label{font-size:.72rem;font-weight:700;text-transform:uppercase;letter-spacing:.035em;color:#64748b;margin-right:.1rem}.log-event-filter-btn{border-radius:999px;border:1px solid #d4dbe3;background:#fff;color:#495057;padding:.3rem .75rem;font-size:.82rem;font-weight:700;line-height:1;transition:border-color .18s ease,background-color .18s ease,color .18s ease}.log-event-filter-btn.active{background:#0d6efd;border-color:#0d6efd;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55)}.log-groups{display:flex;flex-direction:column;gap:.45rem}.log-group{border:1px solid #e2e8ef;border-radius:8px;background:#fff;overflow:hidden}.log-group-header{width:100%;border:0;background:#f8fafc;padding:.36rem .5rem;display:flex;align-items:center;gap:.45rem;text-align:left;color:#334155;font-size:.84rem;font-weight:700}.log-group-title{flex:1 1 auto}.log-group-count{color:#64748b;font-size:.78rem}.log-group-meta{display:inline-flex;align-items:center;gap:.35rem}.log-group-chevron{color:#64748b;font-size:.82rem;line-height:1;transition:transform .16s ease}.log-group-chevron.log-group-chevron-collapsed{transform:rotate(-90deg)}.log-group-body{padding:.2rem .35rem .4rem}.log-group-body .log-row:first-child{margin-top:0}.log-row{position:relative;display:flex;gap:.5rem;padding:.42rem .54rem;border-radius:6px;border:1px solid transparent;margin-top:.2rem;background:#fff}.log-row:before{content:"";position:absolute;left:0;top:0;bottom:0;width:3px;border-radius:6px 0 0 6px;background:#c3cbd4}.log-row.log-player:before{background:#2f9e44}.log-row.log-opponent:before{background:#c92a2a}.log-row.log-row-board{background:#f8fafc;border-color:#e2e8ef;box-shadow:none}.log-row.log-row-board .log-row-text{font-family:var(--ui-font-main);letter-spacing:.01em;color:#64748b}.log-row.log-type-attack{border-color:var(--ui-brand-weak);background:var(--ui-surface-0)}.log-row.log-type-attack .log-row-text{color:var(--ui-text-1)}.log-row.log-type-ability,.log-row.log-type-equipment,.log-row.log-type-death{border-color:#1e40af29}.log-row.log-phase-marker{border-color:#dbeafe;background:#eff6ff}.log-row.random-event{box-shadow:inset 0 0 0 1px #fb923c47}.log-row-meta{min-width:7.8rem;display:inline-flex;flex-wrap:wrap;align-items:center;align-content:flex-start;gap:.25rem;padding-top:.02rem}.log-badge{font-size:.72rem;line-height:1;letter-spacing:.02em;text-transform:uppercase;font-weight:700;color:#475569;background:#f8fafc;border:1px solid #d3dde7;border-radius:999px;padding:.24rem .5rem}.log-badge-side-player{color:#166534;border-color:#22c55e73;background:#22c55e24}.log-badge-side-opponent{color:#991b1b;border-color:#ef444473;background:#ef444424}.log-badge-side-unknown{color:#475569}.log-badge-type-attack{border-color:#0e749066;background:#0e74901f;color:#0e7490}.log-badge-type-ability,.log-badge-type-equipment{border-color:#1e40af61;background:#1e40af1a;color:#1d4ed8}.log-badge-type-board{border-color:#47556961;background:#4755691f;color:#334155}.log-badge-type-death{border-color:#b91c1c66;background:#b91c1c1f;color:#b91c1c}.log-badge-type-move,.log-badge-type-trumpets{border-color:#64748b73;background:#64748b1f;color:#475569}.log-badge-random{border-color:#ea580c75;background:#ea580c24;color:#9a3412}.log-badge-phase{border-color:#2563eb66;background:#2563eb1f;color:#1d4ed8}.log-row-text{color:#1f2937;font-size:.98rem;line-height:1.42;flex:1 1 auto}.log-row-text span{color:inherit;font-size:inherit;line-height:inherit}.log-position-prefix{font-family:Arial,Helvetica,sans-serif!important;font-kerning:none;font-variant-ligatures:none;font-feature-settings:"kern" 0,"liga" 0;letter-spacing:normal}.log-empty-state{border:1px dashed #d0d7de;border-radius:8px;padding:.75rem;color:#6c757d;font-size:.86rem;text-align:center;background:#fff}.flex-1{flex:1}.flex-col{min-height:0}.bottom-container{min-height:38em;padding-top:.75rem;flex-wrap:nowrap}.bottom-container>div{min-height:15em}.bottom-container-scroll{min-width:0;overflow-x:auto;overflow-y:hidden}.bottom-container-scroll-hint{display:none;font-size:.8rem;font-weight:600;color:#6c757d;margin-bottom:.35rem;padding:0 .1rem;white-space:nowrap}.pane-switch-tabs{display:none;gap:.45rem;margin-bottom:.5rem}.pane-switch-tab{border-radius:999px;border:1px solid #d4dbe3;background:#fff;color:#495057;padding:.34rem .85rem;font-size:.84rem;font-weight:700;line-height:1;transition:border-color .18s ease,background-color .18s ease,color .18s ease}.pane-switch-tab.active{background:#0d6efd;border-color:#0d6efd;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55)}.pane-switch-tab:focus-visible{outline:3px solid var(--sap-btn-primary);outline-offset:2px}.bottom-container .border,.bottom-container .table{border:0}.bottom-container .table>:not(caption)>*>*{border-bottom:0}.battle-pane,.logs-pane{min-width:20rem}.bottom-container>.battle-pane{flex:0 0 50%;max-width:none;display:flex;flex-direction:column;min-height:0}.bottom-container>.logs-pane{flex:1 1 auto;max-width:none;width:auto;display:flex;flex-direction:column;min-height:0}.battle-log-divider{flex:0 0 8px;align-self:stretch;cursor:col-resize;position:relative;-webkit-user-select:none;user-select:none;touch-action:none}.battle-log-divider:before{content:"";position:absolute;left:50%;top:0;width:1px;height:100%;transform:translate(-50%);background-color:#dee2e6}.battle-log-divider:hover:before,.battle-log-divider:focus-visible:before{width:2px;background-color:#adb5bd}.battle-log-divider:focus-visible{outline:none}.vertical-resizable-stack{display:flex;flex-direction:column;flex:1 1 auto;min-height:0}.animation-top-pane,.logs-top-pane{min-height:0;overflow:auto}.animation-bottom-pane{flex:1 1 auto;min-height:0;margin-top:0;max-height:none}.analysis-bottom-pane{flex:1 1 auto;min-height:0;overflow:hidden}.analysis-sections-stack{height:100%;min-height:0}.timeline-top-pane{min-height:0;overflow:auto}.diff-bottom-pane{flex:1 1 auto;min-height:0}.logs-analysis-stack .log-container.log-container-with-analysis{max-height:none}.horizontal-resize-divider{flex:0 0 8px;cursor:row-resize;position:relative;-webkit-user-select:none;user-select:none;touch-action:none}.horizontal-resize-divider:before{content:"";position:absolute;top:50%;left:0;width:100%;height:1px;transform:translateY(-50%);background-color:#dee2e6}.horizontal-resize-divider:hover:before,.horizontal-resize-divider:focus-visible:before{height:2px;background-color:#adb5bd}.horizontal-resize-divider:focus-visible{outline:none}.bottom-container .form-control,.bottom-container .form-check-input{border-color:transparent;box-shadow:none}.scroll{overflow-x:hidden;overflow-y:auto}.bottom-container .battle-container,.bottom-container .log-container{min-height:0;overflow-y:auto}.log-filter-tabs{display:flex;gap:.5rem;padding:.25rem 0 0;overflow-x:auto;white-space:nowrap}.log-filter-tabs::-webkit-scrollbar{display:none}.log-filter-tabs{-ms-overflow-style:none;scrollbar-width:none}.log-filter-tab{flex:0 0 auto;border-radius:999px;border:1px solid #dee2e6;background-color:#fff;color:#6c757d;font-weight:600;padding:.35rem 1rem;font-size:.9rem;transition:background-color .2s ease,color .2s ease,border-color .2s ease;cursor:pointer}.log-filter-tab:focus-visible{outline:3px solid var(--sap-btn-primary);outline-offset:2px}.log-filter-tab.active{background-color:var(--sap-btn-primary);color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);border-color:var(--sap-btn-primary)}.h-100{height:100%}.pre{white-space:pre}.analysis-section{border-top:1px solid #e9ecef;padding-top:.5rem}.battle-view-header{gap:.5rem;margin-bottom:0}.fight-stage{--fight-motion-scale: 1;border:1px solid #e9ecef;border-radius:8px;padding:.5rem;display:grid;grid-template-columns:minmax(0,1fr) minmax(0,1fr);grid-template-areas:"player opponent" "event event";align-items:start;gap:.45rem;background:linear-gradient(180deg,#f8fbff,#fff)}.fight-team{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:.35rem}.fight-team-opponent .fight-slot{background-color:#dc354514}.fight-team-player .fight-slot{background-color:#28a74514}.fight-team-opponent{grid-area:opponent}.fight-team-player{grid-area:player}.fight-team-player-head-to-head{direction:rtl}.fight-team-player-head-to-head .fight-slot{direction:ltr;--fight-shift-direction: -1}.fight-team-toy-wrap{display:flex;gap:.25rem;align-items:center;justify-content:center;grid-column:1/-1;margin-bottom:.25rem}.fight-team-toy{width:24px;height:24px;object-fit:contain;opacity:.95}.fight-team-toy-hard{filter:drop-shadow(0 0 2px rgba(0,0,0,.25))}.fight-slot{--fight-shift-direction: 1;border:1px solid #dce4ec;border-radius:8px;padding:.25rem;min-height:5rem;display:flex;flex-direction:column;gap:.15rem;align-items:center;justify-content:space-between;transition:box-shadow calc(.14s * var(--fight-motion-scale, 1)) ease-out,background-color calc(.14s * var(--fight-motion-scale, 1)) ease-out,border-color calc(.14s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-front{border-color:#0d6efd;box-shadow:inset 0 0 0 1px #0d6efd59}.fight-slot.fight-slot-empty-card{opacity:.8}.fight-slot.fight-slot-fainted-ghost{border-color:#49505780;box-shadow:inset 0 0 0 1px #49505738}.fight-slot.fight-slot-fainted-ghost .fight-slot-art{opacity:.68;filter:grayscale(.72) saturate(.58)}.fight-slot.fight-slot-fainted-ghost .fight-slot-stats{opacity:.72}.fight-slot-label{font-size:.68rem;font-weight:700;color:#495057}.fight-slot-art{min-height:2.7rem;display:flex;align-items:center;justify-content:center;position:relative;overflow:visible;transform:translateZ(0);backface-visibility:hidden;will-change:transform}.fight-slot-icon{width:42px;height:42px;object-fit:contain}.fight-slot-companion{position:absolute;left:-6px;bottom:-4px;width:16px;height:16px;object-fit:contain;border-radius:50%;background-color:#fff;box-shadow:0 0 0 1px #00000014}.fight-slot-equipment{position:absolute;right:-6px;bottom:-4px;width:16px;height:16px;object-fit:contain}.fight-equipment-ghost{position:absolute;right:-6px;bottom:-4px;pointer-events:none;will-change:transform,opacity,filter}.fight-equipment-ghost-icon{width:16px;height:16px;object-fit:contain}.fight-equipment-gain-ghost{position:absolute;right:-6px;bottom:-4px;pointer-events:none;opacity:0;will-change:transform,opacity,filter}.fight-equipment-gain-icon{width:16px;height:16px;object-fit:contain}.fight-slot-empty{font-family:Courier New,Courier,monospace;color:#9aa4af;font-size:.78rem}.fight-slot-stats{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;gap:.22rem;font-size:.74rem;font-weight:700;color:#212529}.fight-slot-stat{display:inline-flex;align-items:center;gap:.12rem}.fight-slot-stat-icon{width:14px;height:14px;object-fit:contain}.fight-slot-exp{gap:.18rem}.fight-slot-exp-group{width:44px;display:inline-flex;flex-direction:column;gap:1px}.fight-slot-exp-levels{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));align-items:center;font-size:.42rem;line-height:1;color:#6c757d}.fight-slot-exp-level{text-align:center;font-weight:700}.fight-slot-exp-bar{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:1px}.fight-slot-exp-segment{height:.38rem;border:1px solid #212529;border-radius:2px;background-color:#9c5900;box-shadow:0 1px 1px #00000040}.fight-slot-exp-segment.selected{background-color:#feb900}.fight-slot-stat-divider{color:#6c757d;font-size:.66rem}.fight-event{grid-area:event;border:1px solid #dce4ec;border-radius:8px;background-color:#fff;padding:.4rem .55rem;display:flex;flex-direction:column;gap:.15rem}@keyframes fight-event-pulse-a{0%{transform:translateY(1px);opacity:.9}to{transform:translateY(0);opacity:1}}@keyframes fight-event-pulse-b{0%{transform:translateY(1px);opacity:.88}to{transform:translateY(0);opacity:1}}.fight-event.fight-event-phase-a,.fight-stage.fight-phase-a .fight-event{animation:fight-event-pulse-a calc(.26s * var(--fight-motion-scale, 1)) ease-out}.fight-event.fight-event-phase-b,.fight-stage.fight-phase-b .fight-event{animation:fight-event-pulse-b calc(.26s * var(--fight-motion-scale, 1)) ease-out}.fight-event.fight-event-random{border-left:4px solid #6f42c1}.fight-event-type{font-size:.74rem;font-weight:700;text-transform:uppercase;color:#6c757d}.fight-event-text{font-size:.92rem;color:#212529;line-height:1.35}.fight-event-step{font-size:.76rem;color:#6c757d}@keyframes fight-lunge-player-a{0%{transform:translate(0) scale(1)}42%{transform:translate(14px) scale(1.04)}to{transform:translate(0) scale(1)}}@keyframes fight-lunge-player-b{0%{transform:translate(0) scale(1)}40%{transform:translate(13px) scale(1.035)}to{transform:translate(0) scale(1)}}@keyframes fight-lunge-opponent-a{0%{transform:translate(0) scale(1)}42%{transform:translate(-14px) scale(1.04)}to{transform:translate(0) scale(1)}}@keyframes fight-lunge-opponent-b{0%{transform:translate(0) scale(1)}40%{transform:translate(-13px) scale(1.035)}to{transform:translate(0) scale(1)}}@keyframes fight-hit-shake-a{0%{transform:translate(0);filter:brightness(1)}20%{transform:translate(-3px);filter:brightness(1.2)}40%{transform:translate(3px)}60%{transform:translate(-2px)}to{transform:translate(0);filter:brightness(1)}}@keyframes fight-hit-shake-b{0%{transform:translate(0);filter:brightness(1)}20%{transform:translate(3px);filter:brightness(1.2)}40%{transform:translate(-3px)}60%{transform:translate(2px)}to{transform:translate(0);filter:brightness(1)}}.fight-team-player .fight-slot-attacker.fight-impact-phase-a .fight-slot-art,.fight-stage.fight-phase-a .fight-team-player .fight-slot-attacker .fight-slot-art{animation:fight-lunge-player-a calc(.36s * var(--fight-motion-scale, 1)) cubic-bezier(.25,.65,.35,1)}.fight-team-player .fight-slot-attacker.fight-impact-phase-b .fight-slot-art,.fight-stage.fight-phase-b .fight-team-player .fight-slot-attacker .fight-slot-art{animation:fight-lunge-player-b calc(.36s * var(--fight-motion-scale, 1)) cubic-bezier(.25,.65,.35,1)}.fight-team-opponent .fight-slot-attacker.fight-impact-phase-a .fight-slot-art,.fight-stage.fight-phase-a .fight-team-opponent .fight-slot-attacker .fight-slot-art{animation:fight-lunge-opponent-a calc(.36s * var(--fight-motion-scale, 1)) cubic-bezier(.25,.65,.35,1)}.fight-team-opponent .fight-slot-attacker.fight-impact-phase-b .fight-slot-art,.fight-stage.fight-phase-b .fight-team-opponent .fight-slot-attacker .fight-slot-art{animation:fight-lunge-opponent-b calc(.36s * var(--fight-motion-scale, 1)) cubic-bezier(.25,.65,.35,1)}.fight-slot-target.fight-impact-phase-a,.fight-stage.fight-phase-a .fight-slot-target{animation:fight-hit-shake-a calc(.32s * var(--fight-motion-scale, 1)) ease-out;box-shadow:inset 0 0 0 1px #c6282840}.fight-slot-target.fight-impact-phase-b,.fight-stage.fight-phase-b .fight-slot-target{animation:fight-hit-shake-b calc(.32s * var(--fight-motion-scale, 1)) ease-out;box-shadow:inset 0 0 0 1px #c6282840}.fight-snipe-impact{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none}.fight-snipe-impact-icon{width:20px;height:20px;object-fit:contain;opacity:0;filter:drop-shadow(0 0 2px rgba(51,65,85,.45));will-change:transform,opacity,filter}@keyframes fight-snipe-hit-a{0%{opacity:0;transform:translate(14px,-12px) scale(.58) rotate(-24deg);filter:brightness(1)}42%{opacity:1;transform:translate(0) scale(1.08) rotate(0);filter:brightness(1.22)}to{opacity:0;transform:translate(-3px,2px) scale(.82) rotate(8deg);filter:brightness(.96)}}@keyframes fight-snipe-hit-b{0%{opacity:0;transform:translate(-14px,-11px) scale(.56) rotate(22deg);filter:brightness(1)}40%{opacity:1;transform:translate(0) scale(1.07) rotate(0);filter:brightness(1.2)}to{opacity:0;transform:translate(2px,2px) scale(.8) rotate(-7deg);filter:brightness(.96)}}.fight-slot-snipe-target.fight-impact-phase-a .fight-snipe-impact-icon,.fight-stage.fight-phase-a .fight-slot-snipe-target .fight-snipe-impact-icon{animation:fight-snipe-hit-a calc(.33s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot-snipe-target.fight-impact-phase-b .fight-snipe-impact-icon,.fight-stage.fight-phase-b .fight-slot-snipe-target .fight-snipe-impact-icon{animation:fight-snipe-hit-b calc(.33s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-stat-gain{border-color:#2f9e448c;box-shadow:inset 0 0 0 1px #2f9e4440}@keyframes fight-stat-gain-icon-a{0%{transform:scale(1);filter:brightness(1) saturate(1)}44%{transform:scale(1.13);filter:brightness(1.2) saturate(1.18)}to{transform:scale(1);filter:brightness(1) saturate(1)}}@keyframes fight-stat-gain-icon-b{0%{transform:scale(1);filter:brightness(1) saturate(1)}42%{transform:scale(1.11);filter:brightness(1.18) saturate(1.15)}to{transform:scale(1);filter:brightness(1) saturate(1)}}@keyframes fight-stat-gain-stats-a{0%{transform:translateY(0);color:#212529}42%{transform:translateY(-2px);color:#2f9e44}to{transform:translateY(0);color:#212529}}@keyframes fight-stat-gain-stats-b{0%{transform:translateY(0);color:#212529}40%{transform:translateY(-1px);color:#2f9e44}to{transform:translateY(0);color:#212529}}.fight-slot.fight-slot-stat-gain.fight-impact-phase-a .fight-slot-icon,.fight-slot.fight-slot-stat-gain.fight-impact-phase-a .fight-slot-companion,.fight-stage.fight-phase-a .fight-slot.fight-slot-stat-gain .fight-slot-icon,.fight-stage.fight-phase-a .fight-slot.fight-slot-stat-gain .fight-slot-companion{animation:fight-stat-gain-icon-a calc(.34s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-stat-gain.fight-impact-phase-b .fight-slot-icon,.fight-slot.fight-slot-stat-gain.fight-impact-phase-b .fight-slot-companion,.fight-stage.fight-phase-b .fight-slot.fight-slot-stat-gain .fight-slot-icon,.fight-stage.fight-phase-b .fight-slot.fight-slot-stat-gain .fight-slot-companion{animation:fight-stat-gain-icon-b calc(.34s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-stat-gain.fight-impact-phase-a .fight-slot-stats,.fight-stage.fight-phase-a .fight-slot.fight-slot-stat-gain .fight-slot-stats{animation:fight-stat-gain-stats-a calc(.34s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-stat-gain.fight-impact-phase-b .fight-slot-stats,.fight-stage.fight-phase-b .fight-slot.fight-slot-stat-gain .fight-slot-stats{animation:fight-stat-gain-stats-b calc(.34s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-equipment-removed{border-color:#e6492d8c;box-shadow:inset 0 0 0 1px #e6492d40}@keyframes fight-equipment-remove-a{0%{opacity:.95;transform:translateY(0) scale(1);filter:brightness(1)}48%{opacity:.78;transform:translateY(-6px) scale(1.18) rotate(-7deg);filter:brightness(1.16) saturate(1.15)}to{opacity:0;transform:translateY(-14px) scale(.72) rotate(10deg);filter:brightness(.9)}}@keyframes fight-equipment-remove-b{0%{opacity:.95;transform:translateY(0) scale(1);filter:brightness(1)}45%{opacity:.76;transform:translateY(-5px) scale(1.16) rotate(6deg);filter:brightness(1.14) saturate(1.12)}to{opacity:0;transform:translateY(-13px) scale(.74) rotate(-9deg);filter:brightness(.9)}}.fight-slot.fight-slot-equipment-removed.fight-impact-phase-a .fight-equipment-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-equipment-removed .fight-equipment-ghost{animation:fight-equipment-remove-a calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-removed.fight-impact-phase-b .fight-equipment-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-equipment-removed .fight-equipment-ghost{animation:fight-equipment-remove-b calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-added{border-color:#2e7d328c;box-shadow:inset 0 0 0 1px #2e7d3238}@keyframes fight-equipment-add-a{0%{opacity:0;transform:translateY(6px) scale(.72);filter:brightness(.9)}55%{opacity:.96;transform:translateY(-2px) scale(1.16);filter:brightness(1.15)}to{opacity:0;transform:translateY(0) scale(1);filter:brightness(1)}}@keyframes fight-equipment-add-b{0%{opacity:0;transform:translateY(5px) scale(.74);filter:brightness(.9)}52%{opacity:.94;transform:translateY(-2px) scale(1.14);filter:brightness(1.13)}to{opacity:0;transform:translateY(0) scale(1);filter:brightness(1)}}.fight-slot.fight-slot-equipment-added.fight-impact-phase-a:not(.fight-slot-equipment-transfer-in) .fight-equipment-gain-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-equipment-added:not(.fight-slot-equipment-transfer-in) .fight-equipment-gain-ghost{animation:fight-equipment-add-a calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-added.fight-impact-phase-b:not(.fight-slot-equipment-transfer-in) .fight-equipment-gain-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-equipment-added:not(.fight-slot-equipment-transfer-in) .fight-equipment-gain-ghost{animation:fight-equipment-add-b calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-transform{border-color:#7e22ce8c;box-shadow:inset 0 0 0 1px #7e22ce38}@keyframes fight-transform-morph-a{0%{transform:scale(.92);filter:hue-rotate(0deg) brightness(.95)}45%{transform:scale(1.14);filter:hue-rotate(18deg) brightness(1.18)}to{transform:scale(1);filter:hue-rotate(0deg) brightness(1)}}@keyframes fight-transform-morph-b{0%{transform:scale(.93);filter:hue-rotate(0deg) brightness(.95)}40%{transform:scale(1.12);filter:hue-rotate(-14deg) brightness(1.16)}to{transform:scale(1);filter:hue-rotate(0deg) brightness(1)}}.fight-slot.fight-slot-transform.fight-impact-phase-a .fight-slot-icon,.fight-slot.fight-slot-transform.fight-impact-phase-a .fight-slot-companion,.fight-stage.fight-phase-a .fight-slot.fight-slot-transform .fight-slot-icon,.fight-stage.fight-phase-a .fight-slot.fight-slot-transform .fight-slot-companion{animation:fight-transform-morph-a calc(.36s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-transform.fight-impact-phase-b .fight-slot-icon,.fight-slot.fight-slot-transform.fight-impact-phase-b .fight-slot-companion,.fight-stage.fight-phase-b .fight-slot.fight-slot-transform .fight-slot-icon,.fight-stage.fight-phase-b .fight-slot.fight-slot-transform .fight-slot-companion{animation:fight-transform-morph-b calc(.36s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-summoned{border-color:#0f766e8c;box-shadow:inset 0 0 0 1px #0f766e40}@keyframes fight-summon-bounce-a{0%{opacity:0;transform:translateY(13px) scale(.66);filter:saturate(.9) brightness(.9)}62%{opacity:1;transform:translateY(-4px) scale(1.12);filter:saturate(1.2) brightness(1.15)}to{opacity:1;transform:translateY(0) scale(1);filter:saturate(1) brightness(1)}}@keyframes fight-summon-bounce-b{0%{opacity:0;transform:translateY(12px) scale(.68);filter:saturate(.9) brightness(.9)}58%{opacity:1;transform:translateY(-3px) scale(1.1);filter:saturate(1.18) brightness(1.14)}to{opacity:1;transform:translateY(0) scale(1);filter:saturate(1) brightness(1)}}.fight-slot.fight-slot-summoned.fight-impact-phase-a .fight-slot-art,.fight-stage.fight-phase-a .fight-slot.fight-slot-summoned .fight-slot-art{animation:fight-summon-bounce-a calc(.36s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-summoned.fight-impact-phase-b .fight-slot-art,.fight-stage.fight-phase-b .fight-slot.fight-slot-summoned .fight-slot-art{animation:fight-summon-bounce-b calc(.36s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-ailment-applied{border-color:#d9770694;box-shadow:inset 0 0 0 1px #d977063d}.fight-slot.fight-slot-ailment-cleansed{border-color:#0284c78f;box-shadow:inset 0 0 0 1px #0284c738}@keyframes fight-ailment-apply-a{0%{opacity:0;transform:scale(.65) rotate(-14deg);filter:saturate(1.4) brightness(1.3)}48%{opacity:.98;transform:scale(1.18) rotate(8deg);filter:saturate(1.3) brightness(1.2)}to{opacity:1;transform:scale(1) rotate(0);filter:saturate(1) brightness(1)}}@keyframes fight-ailment-apply-b{0%{opacity:0;transform:scale(.68) rotate(12deg);filter:saturate(1.35) brightness(1.28)}45%{opacity:.98;transform:scale(1.16) rotate(-7deg);filter:saturate(1.28) brightness(1.18)}to{opacity:1;transform:scale(1) rotate(0);filter:saturate(1) brightness(1)}}@keyframes fight-ailment-cleanse-a{0%{opacity:.96;transform:scale(1) rotate(0);filter:hue-rotate(0deg) brightness(1)}45%{opacity:.84;transform:scale(1.18) rotate(-8deg);filter:hue-rotate(24deg) brightness(1.2)}to{opacity:0;transform:scale(.72) rotate(12deg);filter:hue-rotate(45deg) brightness(.88)}}@keyframes fight-ailment-cleanse-b{0%{opacity:.96;transform:scale(1) rotate(0);filter:hue-rotate(0deg) brightness(1)}42%{opacity:.82;transform:scale(1.16) rotate(7deg);filter:hue-rotate(-18deg) brightness(1.18)}to{opacity:0;transform:scale(.74) rotate(-11deg);filter:hue-rotate(-38deg) brightness(.88)}}.fight-slot.fight-slot-ailment-applied.fight-impact-phase-a .fight-slot-equipment,.fight-slot.fight-slot-ailment-applied.fight-impact-phase-a .fight-equipment-gain-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-ailment-applied .fight-slot-equipment,.fight-stage.fight-phase-a .fight-slot.fight-slot-ailment-applied .fight-equipment-gain-ghost{animation:fight-ailment-apply-a calc(.36s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-ailment-applied.fight-impact-phase-b .fight-slot-equipment,.fight-slot.fight-slot-ailment-applied.fight-impact-phase-b .fight-equipment-gain-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-ailment-applied .fight-slot-equipment,.fight-stage.fight-phase-b .fight-slot.fight-slot-ailment-applied .fight-equipment-gain-ghost{animation:fight-ailment-apply-b calc(.36s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-ailment-cleansed.fight-impact-phase-a .fight-equipment-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-ailment-cleansed .fight-equipment-ghost{animation:fight-ailment-cleanse-a calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-ailment-cleansed.fight-impact-phase-b .fight-equipment-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-ailment-cleansed .fight-equipment-ghost{animation:fight-ailment-cleanse-b calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-transfer-out{border-color:#e11d4894;box-shadow:inset 0 0 0 1px #e11d483d}.fight-slot.fight-slot-equipment-transfer-in{border-color:#05966994;box-shadow:inset 0 0 0 1px #0596693d}@keyframes fight-equipment-transfer-out-a{0%{opacity:.96;transform:translate(0) scale(1) rotate(0);filter:brightness(1)}45%{opacity:.88;transform:translate(8px,-3px) scale(1.1) rotate(-8deg);filter:brightness(1.16)}to{opacity:0;transform:translate(20px,-10px) scale(.68) rotate(12deg);filter:brightness(.9)}}@keyframes fight-equipment-transfer-out-b{0%{opacity:.96;transform:translate(0) scale(1) rotate(0);filter:brightness(1)}42%{opacity:.86;transform:translate(-8px,-3px) scale(1.1) rotate(8deg);filter:brightness(1.14)}to{opacity:0;transform:translate(-20px,-10px) scale(.7) rotate(-12deg);filter:brightness(.9)}}@keyframes fight-equipment-transfer-in-a{0%{opacity:0;transform:translate(-18px,-10px) scale(.62) rotate(-8deg);filter:brightness(.88)}55%{opacity:.98;transform:translate(2px,-1px) scale(1.18) rotate(6deg);filter:brightness(1.2)}to{opacity:0;transform:translate(0) scale(1) rotate(0);filter:brightness(1)}}@keyframes fight-equipment-transfer-in-b{0%{opacity:0;transform:translate(18px,-10px) scale(.62) rotate(8deg);filter:brightness(.88)}52%{opacity:.98;transform:translate(-2px,-1px) scale(1.16) rotate(-6deg);filter:brightness(1.18)}to{opacity:0;transform:translate(0) scale(1) rotate(0);filter:brightness(1)}}.fight-slot.fight-slot-equipment-transfer-out.fight-impact-phase-a .fight-equipment-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-equipment-transfer-out .fight-equipment-ghost{animation:fight-equipment-transfer-out-a calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-transfer-out.fight-impact-phase-b .fight-equipment-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-equipment-transfer-out .fight-equipment-ghost{animation:fight-equipment-transfer-out-b calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-transfer-in.fight-impact-phase-a .fight-equipment-gain-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-equipment-transfer-in .fight-equipment-gain-ghost{animation:fight-equipment-transfer-in-a calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-transfer-in.fight-impact-phase-b .fight-equipment-gain-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-equipment-transfer-in .fight-equipment-gain-ghost{animation:fight-equipment-transfer-in-b calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-shifted{animation:fight-shift-forward calc(.26s * var(--fight-motion-scale, 1)) ease-out}@keyframes fight-shift-forward{0%{transform:translate(calc(var(--fight-shift-steps, 1) * 18px * var(--fight-shift-direction, 1)));opacity:.7}to{transform:translate(0);opacity:1}}@media(max-width:768px){.fight-stage{grid-template-columns:minmax(0,1fr);grid-template-areas:"opponent" "event" "player"}.fight-team-player-head-to-head{direction:ltr}.fight-team-player-head-to-head .fight-slot{--fight-shift-direction: 1}}.fight-value-popup{position:absolute;left:50%;top:calc(-4px - var(--fight-popup-index, 0) * 13px);transform:translate(-50%);display:inline-flex;align-items:center;gap:.14rem;font-size:.78rem;font-weight:700;color:#495057;text-shadow:0 1px 0 #ffffff,0 0 4px rgba(255,255,255,.8);pointer-events:none;white-space:nowrap;transform:translateZ(0);backface-visibility:hidden;will-change:transform,opacity}.fight-value-popup.fight-value-popup-damage,.fight-value-popup.fight-value-popup-debuff{color:#c92a2a}.fight-value-popup.fight-value-popup-buff{color:#2f9e44}.fight-value-popup.fight-value-popup-trumpets{color:#b45309}.fight-value-popup-icon{width:14px;height:14px;object-fit:contain}.fight-value-popup.fight-value-popup-trumpets .fight-value-popup-icon{animation:fight-trumpet-icon-pop calc(.36s * var(--fight-motion-scale, 1)) ease-out;filter:drop-shadow(0 0 2px rgba(245,158,11,.5))}@keyframes fight-trumpet-icon-pop{0%{transform:scale(.86) rotate(-8deg)}45%{transform:scale(1.2) rotate(6deg)}to{transform:scale(1) rotate(0)}}@keyframes fight-value-pop-a{0%{opacity:0;transform:translate(-50%,8px) scale(.8)}20%{opacity:1}to{opacity:0;transform:translate(-50%,-20px) scale(1.04)}}@keyframes fight-value-pop-b{0%{opacity:0;transform:translate(-50%,7px) scale(.82)}18%{opacity:1}to{opacity:0;transform:translate(-50%,-22px) scale(1.03)}}.fight-value-popup.fight-value-phase-a,.fight-stage.fight-phase-a .fight-value-popup{animation:fight-value-pop-a calc(.62s * var(--fight-motion-scale, 1)) ease-out}.fight-value-popup.fight-value-phase-b,.fight-stage.fight-phase-b .fight-value-popup{animation:fight-value-pop-b calc(.62s * var(--fight-motion-scale, 1)) ease-out}.fight-faint-ghost{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none;will-change:transform,opacity}.fight-faint-icon{width:40px;height:40px;object-fit:contain;opacity:.95}.fight-faint-companion{position:absolute;left:6px;bottom:3px;width:14px;height:14px;object-fit:contain;border-radius:50%;background-color:#fff;box-shadow:0 0 0 1px #00000014}@keyframes fight-faint-a{0%{opacity:.95;transform:scale(1)}to{opacity:0;transform:scale(.54)}}@keyframes fight-faint-b{0%{opacity:.95;transform:scale(1)}to{opacity:0;transform:scale(.5)}}.fight-faint-ghost.fight-faint-phase-a,.fight-stage.fight-phase-a .fight-faint-ghost{animation:fight-faint-a calc(.32s * var(--fight-motion-scale, 1)) ease-in forwards}.fight-faint-ghost.fight-faint-phase-b,.fight-stage.fight-phase-b .fight-faint-ghost{animation:fight-faint-b calc(.32s * var(--fight-motion-scale, 1)) ease-in forwards}.fight-controls{display:flex;flex-wrap:wrap;gap:.45rem;align-items:center;margin-top:.5rem}.fight-speed-controls .btn.active{background-color:var(--sap-btn-primary);border-color:var(--sap-btn-primary);color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55)}.fight-scrubber{margin-top:.5rem}.fight-log-stream{margin-top:.35rem;border:1px solid #e9ecef;border-radius:8px;overflow-y:auto;background-color:#fff;padding-left:.25rem}.fight-log-row{padding:.3rem .45rem;border-bottom:1px solid #f1f3f5;font-size:.9rem;scroll-margin-block:1.4rem;transition:background-color calc(.15s * var(--fight-motion-scale, 1)) ease-out}.fight-log-row:last-child{border-bottom:0}.fight-log-row.fight-log-row-active{background-color:#0d6efd1f}.fight-log-row .log-row{margin-top:0;border:0;padding:0;background:transparent}.fight-log-row .log-row:before{display:none}.fight-log-row .log-row-meta{min-width:7.1rem}.fight-log-row .log-row-text{font-size:.9rem}@media(prefers-reduced-motion:reduce){.fight-slot,.fight-slot-icon,.fight-slot-companion,.fight-slot-stats,.fight-event,.fight-value-popup,.fight-value-popup-icon,.fight-snipe-impact,.fight-snipe-impact-icon,.fight-equipment-ghost,.fight-equipment-ghost-icon,.fight-equipment-gain-ghost,.fight-equipment-gain-icon,.fight-faint-ghost,.fight-log-row{animation:none!important;transition:none!important}}.fight-empty-state{min-height:7rem;display:flex;align-items:center;justify-content:center;text-align:center;border:1px dashed #dce4ec;border-radius:8px;color:#6c757d;padding:.75rem}.analysis-title{font-size:.95rem;margin:0 0 .5rem}.analysis-table-wrap{max-height:18rem;overflow-y:auto;border:1px solid #e9ecef;border-radius:6px}.analysis-table th,.analysis-table td{font-size:.75rem;vertical-align:top}.timeline-player td{background-color:#28a74514}.timeline-opponent td{background-color:#dc354514}.timeline-deterministic td{border-left:3px solid #6c757d}.timeline-tie td{border-left:3px solid #fd7e14}.timeline-random td{border-left:3px solid #6f42c1}.diff-controls{display:flex;gap:.5rem;margin-bottom:.5rem}.diff-label{font-size:.75rem;font-weight:600;color:#495057;display:flex;flex-direction:column;gap:.2rem}.diff-select{min-width:9rem}.diff-summary{font-size:.75rem;color:#495057;margin-bottom:.5rem}.diff-same td{opacity:.7}.diff-changed td{background-color:#ffc1072e}.diff-left-only td{background-color:#0d6efd1f}.diff-right-only td{background-color:#dc35451f}.btn-link{color:var(--sap-btn-primary);cursor:pointer;background:none;border:0;padding:0;font:inherit;line-height:inherit;text-decoration:underline}.btn-link:hover{text-decoration:none}.btn-link:focus-visible{outline:3px solid var(--sap-btn-primary);outline-offset:2px;border-radius:4px}.cdk-drag-placeholder{opacity:0}.drag-container{position:relative}@media(hover:none)and (pointer:coarse){.drag-container.cdk-drag{touch-action:pan-y!important}}.drag-container.pet-slot-active app-pet-selector .card{border-color:#2563ebcc;box-shadow:0 0 0 2px #2563eb4d,0 8px 32px #0000005e}.pet-slot-actions{display:flex;justify-content:flex-end;align-items:center;gap:.35rem;margin-bottom:.35rem;padding-right:.4rem}.pet-clear-btn{width:1.8em;height:1.8em;position:static;opacity:.95;display:flex;align-items:center;justify-content:center;color:#ff5a66;background:#00000073;border:1px solid rgba(255,255,255,.5);border-radius:999px;box-shadow:0 2px 6px #00000073;cursor:pointer;font-weight:700;line-height:1;padding:0}.pet-clear-btn:hover{opacity:1;color:#ff7680;background:#0009;border-color:#ffffffbf}.pet-clear-btn:focus-visible{outline:2px solid #ffffff;outline-offset:2px}.info-link{margin-bottom:0}.toy-art{width:36px;height:36px;object-fit:contain}.toy-wrap{position:relative;gap:.5rem}.toy-wrap .toy-art+.toy-art{margin-left:.35rem}.toy-select-container{position:relative;display:inline-flex;align-items:center;cursor:pointer;border-radius:8px;padding:2px}.toy-select-container:hover{background:#fff3;transform:scale(1.05)}.toy-select-container.toy-none{background:#0000004d;border:1px dashed rgba(255,255,255,.5);padding:8px 12px;min-width:50px;justify-content:center;align-items:center}.toy-row{display:flex;align-items:center;gap:.6rem;flex-wrap:wrap}.toy-slot{display:flex;align-items:center;gap:.4rem}.toy-select-btn{display:inline-flex;align-items:center;gap:.4rem;padding:.2rem .5rem;border-radius:8px;border:1px solid rgba(255,255,255,.4);background:#00000040;backdrop-filter:blur(6px);color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);font-size:.9rem;line-height:1.1;letter-spacing:.02em;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45);cursor:pointer}.toy-select-btn:hover{background:#00000052;transform:translateY(-1px)}.toy-select-btn i{font-size:.7rem;color:#ffffffd9;text-shadow:0 1px 2px rgba(0,0,0,.55)}.toy-select-btn:focus-visible{outline:3px solid #ffffff;outline-offset:2px}.toy-label{font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:500;line-height:1.1;letter-spacing:.025em;white-space:nowrap}.toy-main{display:flex;align-items:center}.toy-level-controls{position:absolute;bottom:-8px;left:50%;transform:translate(-50%);display:flex;align-items:center;gap:.25rem;background:#000000d9;border-radius:12px;padding:.15rem .4rem;border:1px solid rgba(255,255,255,.3);opacity:0;pointer-events:none}.toy-level-controls.inline{position:static;transform:none;opacity:1;pointer-events:auto;background:#00000040;backdrop-filter:blur(6px)}.custom-pack-editor-modal .custom-pack-editor-dialog{transform:translateY(20px);opacity:0;transition:transform .3s ease-out,opacity .3s ease-out}.custom-pack-editor-modal.show .custom-pack-editor-dialog{transform:translateY(0);opacity:1}body.custom-pack-editor-open .modal-backdrop.show{background:#00000080;backdrop-filter:blur(4px)}.glass-btn{background:#00000040;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);border:1px solid rgba(255,255,255,.4);backdrop-filter:blur(6px);font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;font-size:.95rem;line-height:1.1;letter-spacing:.02em;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.glass-btn:hover{background:#00000052;border-color:#ffffff80;color:#fff;transform:translateY(-1px)}.glass-btn:focus-visible,.glass-btn:active{color:#fff}.toy-select-container:hover .toy-level-controls,.toy-select-container:hover .toy-remove-btn,.toy-wrap:hover .toy-add-hard{opacity:1;pointer-events:auto}.toy-level-btn{background:#ffffff26;border:none;border-radius:999px;width:18px;height:18px;display:flex;align-items:center;justify-content:center;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);cursor:pointer;font-size:.65rem;padding:0}.toy-level-btn:hover{background:#ffffff4d;transform:scale(1.1)}.toy-level-btn:focus-visible{outline:2px solid #ffffff;outline-offset:1px}.toy-level-label{color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);font-size:.78rem;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:500;line-height:1.1;letter-spacing:.02em;text-shadow:0 1px 0 rgba(0,0,0,.55),0 0 1px rgba(0,0,0,.35);min-width:22px;text-align:center}.toy-remove-btn{position:absolute;top:-6px;right:-6px;width:18px;height:18px;background:#d63384;border:2px solid #fff;border-radius:999px;display:flex;align-items:center;justify-content:center;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);cursor:pointer;font-size:.75rem}.toy-remove-btn:hover{background:#c2185b;transform:scale(1.1)}.toy-remove-btn-inline{width:22px;height:22px;background:#d63384;border:2px solid #fff;border-radius:999px;display:inline-flex;align-items:center;justify-content:center;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);cursor:pointer;font-size:.75rem}.toy-remove-btn-inline:hover{background:#c2185b;transform:scale(1.05)}.toy-remove-btn-inline:focus-visible{outline:2px solid #ffffff;outline-offset:1px}.toy-add-hard{position:absolute;top:4px;right:4px;width:20px;height:20px;background:#000000b3;border:1px solid rgba(255,255,255,.4);border-radius:999px;display:flex;align-items:center;justify-content:center;color:#ffffffb3;text-shadow:0 1px 2px rgba(0,0,0,.55);cursor:pointer;font-size:.75rem}.toy-add-hard:hover{background:#000000e6;border-color:#ffffffb3;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);transform:scale(1.15)}.toy-select-icon{position:absolute;bottom:-4px;right:-4px;background:#000000b3;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);border-radius:999px;width:16px;height:16px;display:flex;align-items:center;justify-content:center;font-size:.7rem;opacity:0;transition:opacity .2s;pointer-events:none;border:1px solid rgba(255,255,255,.3)}.toy-select-container:hover .toy-select-icon{opacity:1}.toy-level-text{color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);font-weight:700;text-shadow:0 2px 4px rgba(0,0,0,.75);margin-left:.35rem;display:none}.battle-row h2{color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.75)}:host-context(.night) .battle-table-meta,:host-context(.night) .battle-table thead th,:host-context(.night) .battle-table tbody td,:host-context(.night) .battle-random-cell,:host-context(.night) .battle-no-random,:host-context(.night) .battle-winner-chip,:host-context(.night) .log-filter-tab,:host-context(.night) .log-event-filter-btn,:host-context(.night) .log-event-filter-label,:host-context(.night) .log-group-header,:host-context(.night) .log-group-title,:host-context(.night) .log-group-count,:host-context(.night) .log-group-meta,:host-context(.night) .log-row-meta,:host-context(.night) .log-row-text,:host-context(.night) .log-row-text span,:host-context(.night) .log-empty-state,:host-context(.night) .fight-slot-label,:host-context(.night) .fight-slot-stats,:host-context(.night) .fight-slot-stat,:host-context(.night) .fight-slot-exp,:host-context(.night) .fight-event-text,:host-context(.night) .fight-event-step,:host-context(.night) .fight-log-row .log-row-meta,:host-context(.night) .fight-log-row .log-row-text,:host-context(.theme-dark) .battle-table-meta,:host-context(.theme-dark) .battle-table thead th,:host-context(.theme-dark) .battle-table tbody td,:host-context(.theme-dark) .battle-random-cell,:host-context(.theme-dark) .battle-no-random,:host-context(.theme-dark) .battle-winner-chip,:host-context(.theme-dark) .log-filter-tab,:host-context(.theme-dark) .log-event-filter-btn,:host-context(.theme-dark) .log-event-filter-label,:host-context(.theme-dark) .log-group-header,:host-context(.theme-dark) .log-group-title,:host-context(.theme-dark) .log-group-count,:host-context(.theme-dark) .log-group-meta,:host-context(.theme-dark) .log-row-meta,:host-context(.theme-dark) .log-row-text,:host-context(.theme-dark) .log-row-text span,:host-context(.theme-dark) .log-empty-state,:host-context(.theme-dark) .fight-slot-label,:host-context(.theme-dark) .fight-slot-stats,:host-context(.theme-dark) .fight-slot-stat,:host-context(.theme-dark) .fight-slot-exp,:host-context(.theme-dark) .fight-event-text,:host-context(.theme-dark) .fight-event-step,:host-context(.theme-dark) .fight-log-row .log-row-meta,:host-context(.theme-dark) .fight-log-row .log-row-text{text-shadow:0 1px 2px rgba(0,0,0,.55)}@media(max-width:767.98px){.card{max-width:18em}.back,.front{transform:initial;writing-mode:initial}.player-card{grid-template-columns:none}}.ml-auto{margin-left:auto}.bug-button{margin-right:.5em;margin-bottom:.25em}.advanced-input input{width:60px}.simulation-progress{display:flex;align-items:center;gap:.75rem}.simulation-progress .progress{flex:1;height:8px;background-color:#00000014}.simulation-progress .progress-bar{transition:width .2s linear}.simulation-progress .progress-text{min-width:110px;text-align:right;font-size:.85rem;color:#6c757d}@media(max-width:991.98px){.bottom-container-scroll-hint{display:block}.bottom-container{flex-direction:row;flex-wrap:nowrap;column-gap:1rem;min-width:64rem}.bottom-container>.col-12{flex:0 0 calc(50% - .5rem);max-width:calc(50% - .5rem);height:auto}.battle-row{flex-direction:column}.battle-row .col-12{padding-left:0;padding-right:0}.top-controls{padding:.75rem}.top-controls .team-row{flex-direction:column;align-items:stretch}.team-row-right{flex-direction:column;align-items:stretch;gap:.5rem}.team-name-actions{margin-top:.4rem;gap:.25rem}.action-row{flex-direction:column}.action-row>div{width:100%;display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center}.results-row{margin-bottom:.25rem}.results-row .stats{flex-direction:column;align-items:center}.control-groups{flex-direction:column}.control-group{width:100%}.compact-toy-group .toy-row{flex-direction:column}.compact-toy-group .toy-inline{width:100%;min-width:0}.compact-toy-group .toy-row.hard-row{gap:.5rem}.results-bar{width:100%;min-width:unset;max-width:none}}@media(min-width:768px)and (max-width:991.98px){.pane-switch-tabs{display:flex}.bottom-container-scroll-hint{display:none}.bottom-container-scroll{overflow-x:visible;overflow-y:visible}.bottom-container{flex-direction:column;min-width:0;row-gap:.75rem}.bottom-container>.col-12,.bottom-container>.battle-pane,.bottom-container>.logs-pane{flex:1 1 auto;max-width:100%;width:100%;min-width:0;height:auto}.bottom-container>.pane-hidden-single-column{display:none}}\n'],encapsulation:2,changeDetection:0})}return r})(),{providers:[(0,ma.$R)((0,ma.Sx)())]}).catch(r=>console.error(r))},8099(be,z,w){function E(m){return"function"==typeof m}w.d(z,{T:()=>E})},8114(be,z,w){w.d(z,{A:()=>te});var E=w(563),m=w(8010),I=w(2697),q=w(6032);const te=Object.getOwnPropertySymbols?function(ne){for(var ie=[];ne;)(0,E.A)(ie,(0,I.A)(ne)),ne=(0,m.A)(ne);return ie}:q.A},8167(be,z,w){w.d(z,{m:()=>I});var E=w(5241);function I(q){return 0===q.length?E.D:1===q.length?q[0]:function(c){return q.reduce((te,ne)=>ne(te),c)}}},8189(be,z,w){w.d(z,{R:()=>I});var E=w(1805);class m extends E.y{constructor(A,c){super()}schedule(A,c=0){return this}}class I extends m{constructor(A,c){super(A,c),this.scheduler=A,this.work=c,this.pending=!1}schedule(A,c=0){if(this.closed)return this;this.state=A;const te=this.id,ne=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(ne,te,c)),this.pending=!0,this.delay=c,this.id=this.id||this.requestAsyncId(ne,this.id,c),this}requestAsyncId(A,c,te=0){return setInterval(A.flush.bind(A,this),te)}recycleAsyncId(A,c,te=0){if(null!==te&&this.delay===te&&!1===this.pending)return c;clearInterval(c)}execute(A,c){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const te=this._execute(A,c);if(te)return te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(A,c){let ne,te=!1;try{this.work(A)}catch(ie){te=!0,ne=!!ie&&ie||new Error(ie)}if(te)return this.unsubscribe(),ne}_unsubscribe(){const A=this.id,c=this.scheduler,te=c.actions,ne=te.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ne&&te.splice(ne,1),null!=A&&(this.id=this.recycleAsyncId(c,A,null)),this.delay=null}}},8253(be,z,w){function E(m){setTimeout(()=>{throw m},0)}w.d(z,{T:()=>E})},8257(be,z,w){w.d(z,{A:()=>q});var E=w(5525),m=w(1860);const q=(0,E.A)(m.A,"DataView")},8308(be,z,w){w.d(z,{A:()=>te});var E=w(2943),m=w(219),I=w(4746),q=w(6542),A=w(5030);function c(ne){var ie=-1,ce=null==ne?0:ne.length;for(this.clear();++ie<ce;){var he=ne[ie];this.set(he[0],he[1])}}c.prototype.clear=E.A,c.prototype.delete=m.A,c.prototype.get=I.A,c.prototype.has=q.A,c.prototype.set=A.A;const te=c},8438(be,z,w){w.d(z,{A:()=>I});var E=/\w*$/;const I=function m(q){var A=new q.constructor(q.source,E.exec(q));return A.lastIndex=q.lastIndex,A}},8456(be,z,w){w.d(z,{ZZ:()=>q});var E=w(5006),m=w(4787),I=w(3004);function q(ne,ie,ce=Number.POSITIVE_INFINITY){return"function"==typeof ie?he=>he.pipe(q((ye,De)=>(0,m.H)(ne(ye,De)).pipe((0,E.T)((We,it)=>ie(ye,We,De,it))),ce)):("number"==typeof ie&&(ce=ie),he=>he.lift(new A(ne,ce)))}class A{constructor(ie,ce=Number.POSITIVE_INFINITY){this.project=ie,this.concurrent=ce}call(ie,ce){return ce.subscribe(new c(ie,this.project,this.concurrent))}}class c extends I.gn{constructor(ie,ce,he=Number.POSITIVE_INFINITY){super(ie),this.project=ce,this.concurrent=he,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ie){this.active<this.concurrent?this._tryNext(ie):this.buffer.push(ie)}_tryNext(ie){let ce;const he=this.index++;try{ce=this.project(ie,he)}catch(ye){return void this.destination.error(ye)}this.active++,this._innerSub(ce)}_innerSub(ie){const ce=new I.zA(this),he=this.destination;he.add(ce);const ye=(0,I.tS)(ie,ce);ye!==ce&&he.add(ye)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ie){this.destination.next(ie)}notifyComplete(){const ie=this.buffer;this.active--,ie.length>0?this._next(ie.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},8606(be,z,w){w.d(z,{A:()=>q});var m=/^(?:0|[1-9]\d*)$/;const q=function I(A,c){var te=typeof A;return!!(c=c??9007199254740991)&&("number"==te||"symbol"!=te&&m.test(A))&&A>-1&&A%1==0&&A<c}},8728(be,z,w){w.d(z,{p:()=>m});var E=w(762);function m(A,c){return function(ne){return ne.lift(new I(A,c))}}class I{constructor(c,te){this.predicate=c,this.thisArg=te}call(c,te){return te.subscribe(new q(c,this.predicate,this.thisArg))}}class q extends E.v{constructor(c,te,ne){super(c),this.predicate=te,this.thisArg=ne,this.count=0}_next(c){let te;try{te=this.predicate.call(this.thisArg,c,this.count++)}catch(ne){return void this.destination.error(ne)}te&&this.destination.next(c)}}},8736(be,z,w){w.d(z,{A:()=>q});var m=Function.prototype.toString;const q=function I(A){if(null!=A){try{return m.call(A)}catch{}try{return A+""}catch{}}return""}},8818(be,z,w){w.d(z,{A:()=>q});var E=w(7107);const q=function I(A,c){var te=this.__data__;return this.size+=this.has(A)?0:1,te[A]=E.A&&void 0===c?"__lodash_hash_undefined__":c,this}},8935(be){be.exports=JSON.parse('[{"Ability":"Block ailment or 8 damage, once.","Positive":true,"Id":"60","Name":"Ambrosia","NameId":"Ambrosia"},{"Ability":"Before attack: Remove the front-most enemy perk, once.","Positive":true,"Id":"64","Name":"Baguette","NameId":"Baguette"},{"Ability":"Faint: Summon one 4/4 Monkey.","Positive":true,"Id":"25","Name":"Banana","NameId":"Banana"},{"Ability":"Before battle: Gain +7 mana.","Positive":true,"Id":"87","Name":"Big Mana Potion","NameId":"ManaPotion2"},{"Ability":"Gain +1 attack and +2 health.","Positive":true,"Id":"89","Name":"Blackberry","NameId":"Blackberry"},{"Ability":"Can\'t gain perk, once.","Id":"120","Name":"Bloated","NameId":"Bloated"},{"Ability":"Prioritize this for enemy random abilities.","Positive":true,"Id":"28","Name":"Blueberry","NameId":"BlueBerries"},{"Ability":"Gain +3 health when this would faint, once.","Positive":true,"Id":"111","Name":"Bok Choy","NameId":"BokChoy"},{"Ability":"Block being pushed or 5 damage, once.","Positive":true,"Id":"66","Name":"Brussels Sprout","NameId":"BrusselsSprout"},{"Ability":"End turn: Increase sell value by 1 gold.","Positive":true,"Id":"44","Name":"Cake","NameId":"BirthdayCake"},{"Ability":"Before attack: Combine friendly Caramels to deal 3 damage each to the most healthy enemy, once.","Positive":true,"Id":"67","Name":"Caramel","NameId":"Caramel"},{"Ability":"End turn: Gain +1 attack and +1 health.","Positive":true,"Id":"15","Name":"Carrot","NameId":"Carrot"},{"Ability":"Before battle: Deal 1 damage to the second nearest pet ahead. Double against enemies.","Positive":true,"Id":"115","Name":"Cashew Nut","NameId":"CashewNut"},{"Ability":"Knock out: If still standing, gain permanent +1 attack and +1 health, once.","Positive":true,"Id":"71","Name":"Cauliflower","NameId":"Cauliflower"},{"Ability":"Attack with at least 15 attack, once.","Positive":true,"Id":"23","Name":"Cheese","NameId":"Cheese"},{"Ability":"Before battle: Gain 2 trumpets and remove perk.","Positive":true,"Id":"7","Name":"Cherry","NameId":"Cherries"},{"Ability":"Attack second enemy for 5 damage.","Positive":true,"Id":"5","Name":"Chili","NameId":"Chili"},{"Ability":"Before attack: Gain +3 experience and faint.","Positive":true,"Id":"30","Name":"Chocolate Cake","NameId":"ChocolateCake"},{"Ability":"Activate ability before other pets with the same trigger.","Positive":true,"Id":"70","Name":"Churros","NameId":"Churros"},{"Ability":"Before attack: Transform into an exact copy of a random enemy, once.","Positive":true,"Id":"94","Name":"Cocoa Bean","NameId":"CocoaBean"},{"Ability":"Block damage, once.","Positive":true,"Id":"0","Name":"Coconut","NameId":"Coconut"},{"Ability":"Faint: Summon one 2/3 Fish.","Positive":true,"Id":"104","Name":"Cod Roe","NameId":"CodRoe"},{"Ability":"Take +5 damage, once.","Id":"54","Name":"Cold","NameId":"Frozen"},{"Ability":"Before attack: Transform into a pet from one tier below, once.","Id":"118","Name":"Confused","NameId":"Confused"},{"Ability":"Anyone attacks: Take 6 damage, once.","Id":"57","Name":"Crisp","NameId":"Burn"},{"Ability":"End turn: Gain +1 attack.","Positive":true,"Id":"20","Name":"Croissant","NameId":"Croissant"},{"Ability":"End turn: Gain +1 health.","Positive":true,"Id":"19","Name":"Cucumber","NameId":"Cucumber"},{"Ability":"Faint: Make one random friend Cursed.","Id":"119","Name":"Cursed","NameId":"Curse"},{"Ability":"Prevent ability from activating.","Id":"55","Name":"Dazed","NameId":"Deaf"},{"Ability":"Prioritize this for friendly random abilities.","Positive":true,"Id":"36","Name":"Donut","NameId":"Doughnut"},{"Ability":"Before attack: Reduce the most healthy enemy by 33% health, once.","Positive":true,"Id":"45","Name":"Durian","NameId":"Durian"},{"Ability":"Faint: Summon one 3/3 Bunny that attacks for double damage.","Positive":true,"Id":"51","Name":"Easter Egg","NameId":"EasterEgg"},{"Ability":"Before attack: Deal 2 damage to target, once.","Positive":true,"Id":"24","Name":"Egg","NameId":"Egg"},{"Ability":"Before battle: Push opposite enemy 1 space forward.","Positive":true,"Id":"38","Name":"Eggplant","NameId":"EggPlant"},{"Ability":"Block 4 enemy damage, once.","Positive":true,"Id":"68","Name":"Eucalyptus","NameId":"Eucalyptus"},{"Ability":"Faint: Summon ANY one tier 1 <b>Faint</b> pet.","Positive":true,"Id":"86","Name":"Faint Bread","NameId":"DeadBread"},{"Ability":"Empty front space: Jump to the front and gain +2 mana, once.","Positive":true,"Id":"49","Name":"Fairy Dust","NameId":"FairyDust"},{"Ability":"Before attack: Deal 4 damage to the lowest health enemy, once.","Positive":true,"Id":"46","Name":"Fig","NameId":"Fig"},{"Ability":"Attack has 50% chance to deal double damage.","Positive":true,"Id":"11","Name":"Fortune Cookie","NameId":"FortuneCookie"},{"Ability":"Takes 2 less damage.","FinePrint":"Damage can\'t be reduced to less than 2.","Positive":true,"Id":"9","Name":"Garlic","NameId":"Garlic"},{"Ability":"Before battle: Gain +1 experience.","Positive":true,"Id":"52","Name":"Gingerbread Man","NameId":"GingerbreadMan"},{"Ability":"Before attack: Deal 6 damage to target, once.","Positive":true,"Id":"47","Name":"Golden Egg","NameId":"GoldenEgg"},{"Ability":"Start of turn: Gain +1 gold.","Positive":true,"Id":"16","Name":"Grapes","NameId":"Grapes"},{"Ability":"Before attack: Transform into an Ant.","Positive":true,"Id":"103","Name":"Gros Michel Banana","NameId":"GrosMichelBanana"},{"Ability":"Block 3 damage, and attack for +3 damage, once.","Positive":true,"Id":"105","Name":"Guava","NameId":"Guava"},{"Ability":"Before battle: Give the front-most friendly pet +2 health.","Positive":true,"Id":"58","Name":"Health Potion","NameId":"HealthPotion"},{"Ability":"Faint: Summon one 1/1 Bee.","Positive":true,"Id":"8","Name":"Honey","NameId":"Honey"},{"Ability":"Block 10 damage, and attack for +5 damage, once.","Positive":true,"Id":"110","Name":"Honeydew Melon","NameId":"HoneydewMelon"},{"Ability":"Take double damage, twice.","Id":"56","Name":"Icky","NameId":"Acid"},{"Ability":"Attack and ability deal 3 less damage.","Id":"37","Name":"Inked","NameId":"Ink"},{"Ability":"Ability deals +8 damage, once.","Positive":true,"Id":"78","Name":"Kiwano","NameId":"Kiwano"},{"Ability":"Before battle: Gain +3 health.","Positive":true,"Id":"107","Name":"Kiwifruit","NameId":"Kiwi"},{"Ability":"Block 7 damage, twice.","Positive":true,"Id":"22","Name":"Lemon","NameId":"Lemon"},{"Ability":"Takes 1 less damage.","Positive":true,"Id":"108","Name":"Lime","NameId":"Lime"},{"Ability":"Activate ability at level 1.","Positive":true,"Id":"122","Name":"Liquorice","NameId":"SweetLiquorice"},{"Ability":"Before battle: Summon one 5/5 pet like this.","Positive":true,"Id":"59","Name":"Love Potion","NameId":"LovePotion"},{"Ability":"Before battle: Copy ability to the nearest friend ahead.","Positive":true,"Id":"76","Name":"Lychee","NameId":"Lychee"},{"Ability":"Activate ability after other pets with the same trigger.","Positive":true,"Id":"117","Name":"Macaron","NameId":"Macaron"},{"Ability":"Start of turn: Gain the Golden Egg perk and increase sell value by 4 gold.","Positive":true,"Id":"48","Name":"Magic Beans","NameId":"MagicBeans"},{"Ability":"Attack for 50% damage and block 50% damage, thrice.","Positive":true,"Id":"93","Name":"Maple Syrup","NameId":"MapleSyrup"},{"Ability":"Attack with +3 damage.","Positive":true,"Id":"6","Name":"Meat Bone","NameId":"MeatBone"},{"Ability":"Block 20 damage, once.","Positive":true,"Id":"13","Name":"Melon","NameId":"Melon"},{"Ability":"Block 10 damage, once.","Positive":true,"Id":"79","Name":"Melon Slice","NameId":"WaterMelon"},{"Ability":"Attack second enemy for 4 damage.","Positive":true,"Id":"123","Name":"Mild Chili","NameId":"MildChili"},{"Ability":"Faint: Come back as a 1/1.","Positive":true,"Id":"1","Name":"Mushroom","NameId":"Mushroom"},{"Ability":"Before attack: Convert up to 3 health into attack.","Positive":true,"Id":"116","Name":"Nachos","NameId":"Nachos"},{"Ability":"Before attack: Move to the back, once.","Positive":true,"Id":"31","Name":"Onion","NameId":"Onion"},{"Ability":"Before attack: Set attack and health to at least 9, once.","Positive":true,"Id":"77","Name":"Oyster Mushroom","NameId":"OysterMushroom"},{"Ability":"Before battle: Give friends +2 attack and +2 health.","Positive":true,"Id":"35","Name":"Pancakes","NameId":"Pancakes"},{"Ability":"Knock out any pet attacked and hurt by this.","Positive":true,"Id":"2","Name":"Peanut","NameId":"Peanut"},{"Ability":"Knock out any pet attacked and hurt by this, once.","Positive":true,"Id":"88","Name":"Peanut Butter","NameId":"PeanutButter"},{"Ability":"Health does not go under 1. Removed after taking damage.","Positive":true,"Id":"18","Name":"Pepper","NameId":"Pepper"},{"Ability":"Before battle: Gain +4 attack and +3 health.","Positive":true,"Id":"39","Name":"Pie","NameId":"Pie"},{"Ability":"Ability deals +2 damage, thrice.","Positive":true,"Id":"21","Name":"Pineapple","NameId":"Pineapple"},{"Ability":"Hurt: Gain +15 health, once.","Positive":true,"Id":"33","Name":"Pita Bread","NameId":"PitaBread"},{"Ability":"Faint: Summon one random pet from the same tier.","Positive":true,"Id":"17","Name":"Popcorn","NameId":"Popcorn"},{"Ability":"Block 10 damage from abilities and perks, twice.","Positive":true,"Id":"29","Name":"Potato","NameId":"Potato"},{"Ability":"Before battle: Gain ANY useful perk from the pet\'s tier.","Positive":true,"Id":"65","Name":"Radish","NameId":"Radish"},{"Ability":"Before attack: Gain +3 mana.","Positive":true,"Id":"62","Name":"Rambutan","NameId":"Rambutan"},{"Ability":"Sell for +2 gold.","Positive":true,"Id":"43","Name":"Rice","NameId":"RiceBall"},{"Ability":"Attack for double damage, once.","Positive":true,"Id":"3","Name":"Salt","NameId":"Salt"},{"Ability":"Start of turn: Gain +2 gold.","Positive":true,"Id":"100","Name":"Sardinian Currant","NameId":"SardinianCurrant"},{"Ability":"Start of turn: Gain one free roll.","Positive":true,"Id":"69","Name":"Sausage","NameId":"Sausage"},{"Ability":"Before attack: Transform into a Baby Urchin.","Positive":true,"Id":"72","Name":"Seaweed","NameId":"Seaweed"},{"Ability":"Ability has random targets in battle.","Id":"75","Name":"Silly","NameId":"Silly"},{"Ability":"Attack second and third enemy for 3 damage.","Positive":true,"Id":"26","Name":"Skewer","NameId":"Skewer"},{"Ability":"Attack with half damage, once.","Id":"84","Name":"Sleepy","NameId":"Drowsy"},{"Ability":"Take +1 damage.","Id":"63","Name":"Spooked","NameId":"Scared"},{"Ability":"Before attack: Remove 6 health from target, once.","Positive":true,"Id":"109","Name":"Squash","NameId":"Squash"},{"Ability":"Attack with +20 damage, once.","Positive":true,"Id":"12","Name":"Steak","NameId":"Steak"},{"Ability":"Faint: Give the back-most friend +1 attack and +1 health.","Positive":true,"Id":"14","Name":"Strawberry","NameId":"Strawberry"},{"Ability":"Hurt: If still standing, gain permanent +1 health, once.","Positive":true,"Id":"95","Name":"Sudduth Tomato","NameId":"SudduthTomato"},{"Ability":"Faint: Give one random enemy permanent +2 attack and +2 health.","Id":"85","Name":"Tasty","NameId":"Tasty"},{"Ability":"Anyone attacks: Take 1 damage, once.","Id":"73","Name":"Toasty","NameId":"Toasty"},{"Ability":"Before attack: Deal 10 damage to the last enemy, once.","Positive":true,"Id":"34","Name":"Tomato","NameId":"Tomato"},{"Ability":"Start of battle: Deal 2 damage to a random enemy.","Positive":true,"Id":"97","Name":"Unagi","NameId":"Unagi"},{"Ability":"Block 2 damage, once.","Positive":true,"Id":"80","Name":"Walnut","NameId":"Walnut"},{"Ability":"Take +3 damage.","Id":"10","Name":"Weak","NameId":"Weak"},{"Ability":"Faint: Summon one 2/2 Spider up front for the opponent.","Id":"27","Name":"Webbed","NameId":"Web"},{"Ability":"Block 10 damage twice or ailment once.","Positive":true,"Id":"101","Name":"White Okra","NameId":"WhiteOkra"},{"Ability":"Friend faints: Gain +4 attack and jump-attack the highest attack enemy, once.","Positive":true,"Id":"91","Name":"White Truffle","NameId":"WhiteTruffle"},{"Ability":"Faint: Summon two 5/5 Nordic Goats.","Positive":true,"Id":"50","Name":"Yggdrasil Fruit","NameId":"YggdrasilFruit"}]')},8960(be,z,w){w.d(z,{A:()=>m});const m=function E(I){return this.__data__.has(I)}},8992(be,z,w){w.d(z,{A:()=>m});const m=function E(I,q){return function(A){return I(q(A))}}},9090(be,z,w){w.d(z,{n:()=>q});var E=w(5006),m=w(4787),I=w(3004);function q(te,ne){return"function"==typeof ne?ie=>ie.pipe(q((ce,he)=>(0,m.H)(te(ce,he)).pipe((0,E.T)((ye,De)=>ne(ce,ye,he,De))))):ie=>ie.lift(new A(te))}class A{constructor(ne){this.project=ne}call(ne,ie){return ie.subscribe(new c(ne,this.project))}}class c extends I.gn{constructor(ne,ie){super(ne),this.project=ie,this.index=0}_next(ne){let ie;const ce=this.index++;try{ie=this.project(ne,ce)}catch(he){return void this.destination.error(he)}this._innerSub(ie)}_innerSub(ne){const ie=this.innerSubscription;ie&&ie.unsubscribe();const ce=new I.zA(this),he=this.destination;he.add(ce),this.innerSubscription=(0,I.tS)(ne,ce),this.innerSubscription!==ce&&he.add(this.innerSubscription)}_complete(){const{innerSubscription:ne}=this;(!ne||ne.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(ne){this.destination.next(ne)}}},9112(be,z,w){w.d(z,{u:()=>q});var E=w(762),m=w(91),I=w(178);function q(A,c,te){if(A){if(A instanceof E.v)return A;if(A[m.D])return A[m.D]()}return A||c||te?new E.v(A,c,te):new E.v(I.I)}},9162(be,z,w){w.d(z,{A:()=>m});const m=function E(I,q){for(var A=-1,c=null==I?0:I.length;++A<c&&!1!==q(I[A],A,I););return I}},9320(be,z,w){w.d(z,{A:()=>te});var E=w(1387),m=w(2495),I=w(1374),q=w(5738),A=w(8818);function c(ne){var ie=-1,ce=null==ne?0:ne.length;for(this.clear();++ie<ce;){var he=ne[ie];this.set(he[0],he[1])}}c.prototype.clear=E.A,c.prototype.delete=m.A,c.prototype.get=I.A,c.prototype.has=q.A,c.prototype.set=A.A;const te=c},9379(be,z,w){w.d(z,{Z:()=>m});const m=(()=>{function I(q){return Error.call(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((A,c)=>`${c+1}) ${A.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q,this}return I.prototype=Object.create(Error.prototype),I})()},9452(be,z,w){w.d(z,{A:()=>q});var E=w(9898),m=w(4429);const q=function I(A,c){return A&&(0,E.A)(c,(0,m.A)(c),A)}},9659(be,z,w){w.d(z,{A:()=>m});const m=function E(I,q){for(var A=-1,c=Array(I);++A<I;)c[A]=q(A);return c}},9748(be,z,w){w.d(z,{A:()=>I});const I=w(1860).A["__core-js_shared__"]},9769(be,z,w){w.d(z,{MD:()=>Ga,Sq:()=>Vr,T3:()=>Ve,YU:()=>wr,bT:()=>qn});var E=w(7705),m=w(7868),I=w(5547);const Ri=/\s+/,Tn=[];let wr=(()=>{class O{_ngEl;_renderer;initialClasses=Tn;rawClass;stateMap=new Map;constructor(j,W){this._ngEl=j,this._renderer=W}set klass(j){this.initialClasses=null!=j?j.trim().split(Ri):Tn}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(Ri):j}ngDoCheck(){for(const W of this.initialClasses)this._updateState(W,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const W of j)this._updateState(W,!0);else if(null!=j)for(const W of Object.keys(j))this._updateState(W,!!j[W]);this._applyStateDiff()}_updateState(j,W){const pe=this.stateMap.get(j);void 0!==pe?(pe.enabled!==W&&(pe.changed=!0,pe.enabled=W),pe.touched=!0):this.stateMap.set(j,{enabled:W,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const W=j[0],pe=j[1];pe.changed?(this._toggleClass(W,pe.enabled),pe.changed=!1):pe.touched||(pe.enabled&&this._toggleClass(W,!1),this.stateMap.delete(W)),pe.touched=!1}}_toggleClass(j,W){(j=j.trim()).length>0&&j.split(Ri).forEach(pe=>{W?this._renderer.addClass(this._ngEl.nativeElement,pe):this._renderer.removeClass(this._ngEl.nativeElement,pe)})}static \u0275fac=function(W){return new(W||O)(I.rXU(I.aKT),I.rXU(I.sFG))};static \u0275dir=I.FsC({type:O,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return O})();class Nn{$implicit;ngForOf;index;count;constructor(Q,j,W,pe){this.$implicit=Q,this.ngForOf=j,this.index=W,this.count=pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vr=(()=>{class O{_viewContainer;_template;_differs;set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(j,W,pe){this._viewContainer=j,this._template=W,this._differs=pe}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const W=this._viewContainer;j.forEachOperation((pe,xe,$e)=>{if(null==pe.previousIndex)W.createEmbeddedView(this._template,new Nn(pe.item,this._ngForOf,-1,-1),null===$e?void 0:$e);else if(null==$e)W.remove(null===xe?void 0:xe);else if(null!==xe){const Ue=W.get(xe);W.move(Ue,$e),$a(Ue,pe)}});for(let pe=0,xe=W.length;pe<xe;pe++){const Ue=W.get(pe).context;Ue.index=pe,Ue.count=xe,Ue.ngForOf=this._ngForOf}j.forEachIdentityChange(pe=>{$a(W.get(pe.currentIndex),pe)})}static ngTemplateContextGuard(j,W){return!0}static \u0275fac=function(W){return new(W||O)(I.rXU(I.c1b),I.rXU(I.C4Q),I.rXU(E._q3))};static \u0275dir=I.FsC({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return O})();function $a(O,Q){O.context.$implicit=Q.item}let qn=(()=>{class O{_viewContainer;_context=new Un;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(j,W){this._viewContainer=j,this._thenTemplateRef=W}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){pi(j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){pi(j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(j,W){return!0}static \u0275fac=function(W){return new(W||O)(I.rXU(I.c1b),I.rXU(I.C4Q))};static \u0275dir=I.FsC({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return O})();class Un{$implicit=null;ngIf=null}function pi(O,Q){if(O&&!O.createEmbeddedView)throw new m.buA(2020,!1)}let Ve=(()=>{class O{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(j){this._viewContainerRef=j}ngOnChanges(j){if(this._shouldRecreateView(j)){const W=this._viewContainerRef;if(this._viewRef&&W.remove(W.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const pe=this._createContextForwardProxy();this._viewRef=W.createEmbeddedView(this.ngTemplateOutlet,pe,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(j){return!!j.ngTemplateOutlet||!!j.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(j,W,pe)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,W,pe),get:(j,W,pe)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,W,pe)}})}static \u0275fac=function(W){return new(W||O)(I.rXU(I.c1b))};static \u0275dir=I.FsC({type:O,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[I.OA$]})}return O})(),Ga=(()=>{class O{static \u0275fac=function(W){return new(W||O)};static \u0275mod=I.$C({type:O});static \u0275inj=m.G2t({})}return O})()},9898(be,z,w){w.d(z,{A:()=>q});var E=w(1984),m=w(1827);const q=function I(A,c,te,ne){var ie=!te;te||(te={});for(var ce=-1,he=c.length;++ce<he;){var ye=c[ce],De=ne?ne(te[ye],A[ye],ye,te,A):void 0;void 0===De&&(De=A[ye]),ie?(0,m.A)(te,ye,De):(0,E.A)(te,ye,De)}return te}},9928(be,z,w){w.d(z,{t:()=>I});var E=w(5286),m=w(2145);class I extends E.B7{constructor(A){super(),this._value=A}get value(){return this.getValue()}_subscribe(A){const c=super._subscribe(A);return c&&!c.closed&&A.next(this._value),c}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new m.P;return this._value}next(A){super.next(this._value=A)}}},9933(be,z,w){w.d(z,{A:()=>ne});var E=w(1860),m="object"==typeof exports&&exports&&!exports.nodeType&&exports,I=m&&"object"==typeof module&&module&&!module.nodeType&&module,A=I&&I.exports===m?E.A.Buffer:void 0,c=A?A.allocUnsafe:void 0;const ne=function te(ie,ce){if(ce)return ie.slice();var he=ie.length,ye=c?c(he):new ie.constructor(he);return ie.copy(ye),ye}},9975(be,z,w){w.d(z,{A:()=>q});var E=w(9898),m=w(8114);const q=function I(A,c){return(0,E.A)(A,(0,m.A)(A),c)}}},be=>{be(be.s=8090)}]);