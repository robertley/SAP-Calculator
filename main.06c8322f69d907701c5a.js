var Aie=Object.defineProperty,Die=Object.defineProperties,Tie=Object.getOwnPropertyDescriptors,V4=Object.getOwnPropertySymbols,xie=Object.prototype.hasOwnProperty,Mie=Object.prototype.propertyIsEnumerable,F4=(Kt,Mt,Qt)=>Mt in Kt?Aie(Kt,Mt,{enumerable:!0,configurable:!0,writable:!0,value:Qt}):Kt[Mt]=Qt,hn=(Kt,Mt)=>{for(var Qt in Mt||(Mt={}))xie.call(Mt,Qt)&&F4(Kt,Qt,Mt[Qt]);if(V4)for(var Qt of V4(Mt))Mie.call(Mt,Qt)&&F4(Kt,Qt,Mt[Qt]);return Kt},CS=(Kt,Mt)=>Die(Kt,Tie(Mt));(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[179],{255:Kt=>{function Mt(Qt){return Promise.resolve().then(()=>{var Jn=new Error("Cannot find module '"+Qt+"'");throw Jn.code="MODULE_NOT_FOUND",Jn})}Mt.keys=()=>[],Mt.resolve=Mt,Mt.id=255,Kt.exports=Mt},815:function(Kt,Mt,Qt){var Jn;Kt=Qt.nmd(Kt),function(){var M,$i="Expected a function",sl="__lodash_hash_undefined__",eo="__lodash_placeholder__",ro=1/0,Cr=9007199254740991,ys=4294967295,kS=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Xo="[object Arguments]",al="[object Array]",ea="[object Boolean]",ll="[object Date]",ta="[object Error]",Oc="[object Function]",Bg="[object GeneratorFunction]",Zn="[object Map]",cl="[object Number]",Rn="[object Object]",AS="[object Promise]",Lc="[object RegExp]",Qi="[object Set]",oo="[object String]",Bc="[object Symbol]",$c="[object WeakMap]",ia="[object ArrayBuffer]",kr="[object DataView]",Vc="[object Float32Array]",Zh="[object Float64Array]",Xh="[object Int8Array]",ed="[object Int16Array]",td="[object Int32Array]",id="[object Uint8Array]",Vg="[object Uint8ClampedArray]",nd="[object Uint16Array]",sd="[object Uint32Array]",TS=/\b__p \+= '';/g,xS=/\b(__p \+=) '' \+/g,MS=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ut=/&(?:amp|lt|gt|quot|#39);/g,Fc=/[&<>"']/g,qe=RegExp(ut.source),rd=RegExp(Fc.source),IS=/<%-([\s\S]+?)%>/g,wt=/<%([\s\S]+?)%>/g,pe=/<%=([\s\S]+?)%>/g,Fg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sO=/^\w*$/,Pr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hg=/[\\^$.*+?()[\]{}|]/g,od=RegExp(Hg.source),Ie=/^\s+/,Vi=/\s/,OS=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,rO=/\{\n\/\* \[wrapped with (.+)\] \*/,oO=/,? & /,Hc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pn=/[()=,{}\[\]\/\s]/,aO=/\\(\\)?/g,RS=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,NS=/\w*$/,Js=/^[-+]0x[0-9a-f]+$/i,lO=/^0b[01]+$/i,cO=/^\[object .+?Constructor\]$/,uO=/^0o[0-7]+$/i,hO=/^(?:0|[1-9]\d*)$/,LS=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ad=/($^)/,BS=/['\n\r\u2028\u2029\\]/g,ld="\\ud800-\\udfff",$S="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",VS="\\u2700-\\u27bf",le="a-z\\xdf-\\xf6\\xf8-\\xff",Gg="A-Z\\xc0-\\xd6\\xd8-\\xde",Ug="\\ufe0e\\ufe0f",cd="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ud="["+ld+"]",hd="["+cd+"]",qc="["+$S+"]",Se="\\d+",dd="["+VS+"]",jg="["+le+"]",Xs="[^"+ld+cd+Se+VS+le+Gg+"]",Gc="\\ud83c[\\udffb-\\udfff]",er="[^"+ld+"]",Yi="(?:\\ud83c[\\udde6-\\uddff]){2}",Wg="[\\ud800-\\udbff][\\udc00-\\udfff]",ul="["+Gg+"]",zg="(?:"+jg+"|"+Xs+")",FS="(?:"+ul+"|"+Xs+")",Kg="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",HS="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",dt="(?:"+qc+"|"+Gc+")?",qS="["+Ug+"]?",hl=qS+dt+"(?:\\u200d(?:"+[er,Yi,Wg].join("|")+")"+qS+dt+")*",fd="(?:"+[dd,Yi,Wg].join("|")+")"+hl,pd="(?:"+[er+qc+"?",qc,Yi,Wg,ud].join("|")+")",Qg=RegExp("['\u2019]","g"),GS=RegExp(qc,"g"),Xn=RegExp(Gc+"(?="+Gc+")|"+pd+hl,"g"),dl=RegExp([ul+"?"+jg+"+"+Kg+"(?="+[hd,ul,"$"].join("|")+")",FS+"+"+HS+"(?="+[hd,ul+zg,"$"].join("|")+")",ul+"?"+zg+"+"+Kg,ul+"+"+HS,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Se,fd].join("|"),"g"),US=RegExp("[\\u200d"+ld+$S+Ug+"]"),Nn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jS=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Yg=-1,At={};At[Vc]=At[Zh]=At[Xh]=At[ed]=At[td]=At[id]=At[Vg]=At[nd]=At[sd]=!0,At[Xo]=At[al]=At[ia]=At[ea]=At[kr]=At[ll]=At[ta]=At[Oc]=At[Zn]=At[cl]=At[Rn]=At[Lc]=At[Qi]=At[oo]=At[$c]=!1;var kt={};kt[Xo]=kt[al]=kt[ia]=kt[kr]=kt[ea]=kt[ll]=kt[Vc]=kt[Zh]=kt[Xh]=kt[ed]=kt[td]=kt[Zn]=kt[cl]=kt[Rn]=kt[Lc]=kt[Qi]=kt[oo]=kt[Bc]=kt[id]=kt[Vg]=kt[nd]=kt[sd]=!0,kt[ta]=kt[Oc]=kt[$c]=!1;var ue={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ji=parseFloat,Pi=parseInt,tr="object"==typeof global&&global&&global.Object===Object&&global,ao="object"==typeof self&&self&&self.Object===Object&&self,bt=tr||ao||Function("return this")(),Zg=Mt&&!Mt.nodeType&&Mt,Ai=Zg&&Kt&&!Kt.nodeType&&Kt,te=Ai&&Ai.exports===Zg,Ge=te&&tr.process,nt=function(){try{return Ai&&Ai.require&&Ai.require("util").types||Ge&&Ge.binding&&Ge.binding("util")}catch(G){}}(),Zi=nt&&nt.isArrayBuffer,Ar=nt&&nt.isDate,ai=nt&&nt.isMap,Dr=nt&&nt.isRegExp,Ft=nt&&nt.isSet,ra=nt&&nt.isTypedArray;function di(N,G,F){switch(F.length){case 0:return N.call(G);case 1:return N.call(G,F[0]);case 2:return N.call(G,F[0],F[1]);case 3:return N.call(G,F[0],F[1],F[2])}return N.apply(G,F)}function Fe(N,G,F,oe){for(var Oe=-1,ft=null==N?0:N.length;++Oe<ft;){var Zt=N[Oe];G(oe,Zt,F(Zt),N)}return oe}function Fi(N,G){for(var F=-1,oe=null==N?0:N.length;++F<oe&&!1!==G(N[F],F,N););return N}function oa(N,G){for(var F=null==N?0:N.length;F--&&!1!==G(N[F],F,N););return N}function Uc(N,G){for(var F=-1,oe=null==N?0:N.length;++F<oe;)if(!G(N[F],F,N))return!1;return!0}function mn(N,G){for(var F=-1,oe=null==N?0:N.length,Oe=0,ft=[];++F<oe;){var Zt=N[F];G(Zt,F,N)&&(ft[Oe++]=Zt)}return ft}function fi(N,G){return!(null==N||!N.length)&&Jt(N,G,0)>-1}function lo(N,G,F){for(var oe=-1,Oe=null==N?0:N.length;++oe<Oe;)if(F(G,N[oe]))return!0;return!1}function yt(N,G){for(var F=-1,oe=null==N?0:N.length,Oe=Array(oe);++F<oe;)Oe[F]=G(N[F],F,N);return Oe}function pi(N,G){for(var F=-1,oe=G.length,Oe=N.length;++F<oe;)N[Oe+F]=G[F];return N}function St(N,G,F,oe){var Oe=-1,ft=null==N?0:N.length;for(oe&&ft&&(F=N[++Oe]);++Oe<ft;)F=G(F,N[Oe],Oe,N);return F}function zS(N,G,F,oe){var Oe=null==N?0:N.length;for(oe&&Oe&&(F=N[--Oe]);Oe--;)F=G(F,N[Oe],Oe,N);return F}function gd(N,G){for(var F=-1,oe=null==N?0:N.length;++F<oe;)if(G(N[F],F,N))return!0;return!1}var jc=gl("length");function pl(N,G,F){var oe;return F(N,function(Oe,ft,Zt){if(G(Oe,ft,Zt))return oe=ft,!1}),oe}function _s(N,G,F,oe){for(var Oe=N.length,ft=F+(oe?1:-1);oe?ft--:++ft<Oe;)if(G(N[ft],ft,N))return ft;return-1}function Jt(N,G,F){return G==G?function(N,G,F){for(var oe=F-1,Oe=N.length;++oe<Oe;)if(N[oe]===G)return oe;return-1}(N,G,F):_s(N,es,F)}function KS(N,G,F,oe){for(var Oe=F-1,ft=N.length;++Oe<ft;)if(oe(N[Oe],G))return Oe;return-1}function es(N){return N!=N}function Ln(N,G){var F=null==N?0:N.length;return F?vd(N,G)/F:NaN}function gl(N){return function(G){return null==G?M:G[N]}}function aa(N){return function(G){return null==N?M:N[G]}}function ml(N,G,F,oe,Oe){return Oe(N,function(ft,Zt,Tt){F=oe?(oe=!1,ft):G(F,ft,Zt,Tt)}),F}function vd(N,G){for(var F,oe=-1,Oe=N.length;++oe<Oe;){var ft=G(N[oe]);ft!==M&&(F=F===M?ft:F+ft)}return F}function Xg(N,G){for(var F=-1,oe=Array(N);++F<N;)oe[F]=G(F);return oe}function em(N){return N&&N.slice(0,bd(N)+1).replace(Ie,"")}function Bn(N){return function(G){return N(G)}}function tm(N,G){return yt(G,function(F){return N[F]})}function Wc(N,G){return N.has(G)}function YS(N,G){for(var F=-1,oe=N.length;++F<oe&&Jt(G,N[F],0)>-1;);return F}function JS(N,G){for(var F=N.length;F--&&Jt(G,N[F],0)>-1;);return F}function mO(N,G){for(var F=N.length,oe=0;F--;)N[F]===G&&++oe;return oe}var vO=aa({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),yO=aa({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function _O(N){return"\\"+ue[N]}function vl(N){return US.test(N)}function im(N){var G=-1,F=Array(N.size);return N.forEach(function(oe,Oe){F[++G]=[Oe,oe]}),F}function yd(N,G){return function(F){return N(G(F))}}function bs(N,G){for(var F=-1,oe=N.length,Oe=0,ft=[];++F<oe;){var Zt=N[F];(Zt===G||Zt===eo)&&(N[F]=eo,ft[Oe++]=F)}return ft}function _d(N){var G=-1,F=Array(N.size);return N.forEach(function(oe){F[++G]=oe}),F}function uo(N){return vl(N)?function(N){for(var G=Xn.lastIndex=0;Xn.test(N);)++G;return G}(N):jc(N)}function Dt(N){return vl(N)?function(N){return N.match(Xn)||[]}(N):function(N){return N.split("")}(N)}function bd(N){for(var G=N.length;G--&&Vi.test(N.charAt(G)););return G}var ZS=aa({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),la=function N(G){var c,F=(G=null==G?bt:la.defaults(bt.Object(),G,la.pick(bt,jS))).Array,oe=G.Date,Oe=G.Error,ft=G.Function,Zt=G.Math,Tt=G.Object,Nt=G.RegExp,kO=G.String,vn=G.TypeError,zc=F.prototype,ca=Tt.prototype,Sd=G["__core-js_shared__"],ho=ft.prototype.toString,He=ca.hasOwnProperty,tE=0,Kc=(c=/[^.]+$/.exec(Sd&&Sd.keys&&Sd.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",ir=ca.toString,yn=ho.call(Tt),rm=bt._,Ed=Nt("^"+ho.call(He).replace(Hg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qc=te?G.Buffer:M,Hi=G.Symbol,yl=G.Uint8Array,Yc=Qc?Qc.allocUnsafe:M,Ae=yd(Tt.getPrototypeOf,Tt),iE=Tt.create,om=ca.propertyIsEnumerable,Jc=zc.splice,am=Hi?Hi.isConcatSpreadable:M,ua=Hi?Hi.iterator:M,fo=Hi?Hi.toStringTag:M,Zc=function(){try{var c=Oo(Tt,"defineProperty");return c({},"",{}),c}catch(u){}}(),K=G.clearTimeout!==bt.clearTimeout&&G.clearTimeout,lt=oe&&oe.now!==bt.Date.now&&oe.now,Lt=G.setTimeout!==bt.setTimeout&&G.setTimeout,Wt=Zt.ceil,_l=Zt.floor,po=Tt.getOwnPropertySymbols,Ss=Qc?Qc.isBuffer:M,Xc=G.isFinite,wd=zc.join,PO=yd(Tt.keys,Tt),li=Zt.max,ci=Zt.min,eu=oe.now,qi=G.parseInt,is=Zt.random,lm=zc.reverse,Tr=Oo(G,"DataView"),_n=Oo(G,"Map"),Cd=Oo(G,"Promise"),go=Oo(G,"Set"),bl=Oo(G,"WeakMap"),Sl=Oo(Tt,"create"),ha=bl&&new bl,xr={},cm=Nr(Tr),kd=Nr(_n),nE=Nr(Cd),um=Nr(go),tu=Nr(bl),El=Hi?Hi.prototype:M,da=El?El.valueOf:M,Pd=El?El.toString:M;function k(c){if(Ut(c)&&!ye(c)&&!(c instanceof Ce)){if(c instanceof $n)return c;if(He.call(c,"__wrapped__"))return cf(c)}return new $n(c)}var nr=function(){function c(){}return function(u){if(!Gt(u))return{};if(iE)return iE(u);c.prototype=u;var d=new c;return c.prototype=M,d}}();function iu(){}function $n(c,u){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=M}function Ce(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ys,this.__views__=[]}function mo(c){var u=-1,d=null==c?0:c.length;for(this.clear();++u<d;){var v=c[u];this.set(v[0],v[1])}}function Vn(c){var u=-1,d=null==c?0:c.length;for(this.clear();++u<d;){var v=c[u];this.set(v[0],v[1])}}function bn(c){var u=-1,d=null==c?0:c.length;for(this.clear();++u<d;){var v=c[u];this.set(v[0],v[1])}}function vo(c){var u=-1,d=null==c?0:c.length;for(this.__data__=new bn;++u<d;)this.add(c[u])}function Xi(c){var u=this.__data__=new Vn(c);this.size=u.size}function yo(c,u){var d=ye(c),v=!d&&As(c),b=!d&&!v&&Ds(c),P=!d&&!v&&!b&&Wl(c),x=d||v||b||P,O=x?Xg(c.length,kO):[],L=O.length;for(var U in c)(u||He.call(c,U))&&(!x||!("length"==U||b&&("offset"==U||"parent"==U)||P&&("buffer"==U||"byteLength"==U||"byteOffset"==U)||rs(U,L)))&&O.push(U);return O}function gm(c){var u=c.length;return u?c[$d(0,u-1)]:M}function fa(c,u){return Cu(gi(c),sr(u,0,c.length))}function Id(c){return Cu(gi(c))}function pa(c,u,d){(d!==M&&!ge(c[u],d)||d===M&&!(u in c))&&Sn(c,u,d)}function ou(c,u,d){var v=c[u];(!He.call(c,u)||!ge(v,d)||d===M&&!(u in c))&&Sn(c,u,d)}function Cl(c,u){for(var d=c.length;d--;)if(ge(c[d][0],u))return d;return-1}function mm(c,u,d,v){return rr(c,function(b,P,x){u(v,b,d(b),x)}),v}function vm(c,u){return c&&ui(u,Si(u),c)}function Sn(c,u,d){"__proto__"==u&&Zc?Zc(c,u,{configurable:!0,enumerable:!0,value:d,writable:!0}):c[u]=d}function kl(c,u){for(var d=-1,v=u.length,b=F(v),P=null==c;++d<v;)b[d]=P?M:Ql(c,u[d]);return b}function sr(c,u,d){return c==c&&(d!==M&&(c=c<=d?c:d),u!==M&&(c=c>=u?c:u)),c}function Gi(c,u,d,v,b,P){var x,O=1&u,L=2&u,U=4&u;if(d&&(x=b?d(c,v,b,P):d(c)),x!==M)return x;if(!Gt(c))return c;var j=ye(c);if(j){if(x=function(c){var u=c.length,d=new c.constructor(u);return u&&"string"==typeof c[0]&&He.call(c,"index")&&(d.index=c.index,d.input=c.input),d}(c),!O)return gi(c,x)}else{var Q=bi(c),ee=Q==Oc||Q==Bg;if(Ds(c))return xm(c,O);if(Q==Rn||Q==Xo||ee&&!b){if(x=L||ee?{}:Su(c),!O)return L?function(c,u){return ui(c,Hm(c),u)}(c,function(c,u){return c&&ui(u,Wi(u),c)}(x,c)):function(c,u){return ui(c,Nl(c),u)}(c,vm(x,c))}else{if(!kt[Q])return b?c:{};x=function(c,u,d){var v=c.constructor;switch(u){case ia:return q(c);case ea:case ll:return new v(+c);case kr:return function(c,u){var d=u?q(c.buffer):c.buffer;return new c.constructor(d,c.byteOffset,c.byteLength)}(c,d);case Vc:case Zh:case Xh:case ed:case td:case id:case Vg:case nd:case sd:return Sa(c,d);case Zn:return new v;case cl:case oo:return new v(c);case Lc:return function(c){var u=new c.constructor(c.source,NS.exec(c));return u.lastIndex=c.lastIndex,u}(c);case Qi:return new v;case Bc:return function(c){return da?Tt(da.call(c)):{}}(c)}}(c,Q,O)}}P||(P=new Xi);var he=P.get(c);if(he)return he;P.set(c,x),Pw(c)?c.forEach(function(De){x.add(Gi(De,u,d,De,c,P))}):Ew(c)&&c.forEach(function(De,ze){x.set(ze,Gi(De,u,d,ze,c,P))});var We=j?M:(U?L?Yd:Qd:L?Wi:Si)(c);return Fi(We||c,function(De,ze){We&&(De=c[ze=De]),ou(x,ze,Gi(De,u,d,ze,c,P))}),x}function ym(c,u,d){var v=d.length;if(null==c)return!v;for(c=Tt(c);v--;){var b=d[v],x=c[b];if(x===M&&!(b in c)||!(0,u[b])(x))return!1}return!0}function Od(c,u,d){if("function"!=typeof c)throw new vn($i);return Ca(function(){c.apply(M,d)},u)}function ga(c,u,d,v){var b=-1,P=fi,x=!0,O=c.length,L=[],U=u.length;if(!O)return L;d&&(u=yt(u,Bn(d))),v?(P=lo,x=!1):u.length>=200&&(P=Wc,x=!1,u=new vo(u));e:for(;++b<O;){var j=c[b],Q=null==d?j:d(j);if(j=v||0!==j?j:0,x&&Q==Q){for(var ee=U;ee--;)if(u[ee]===Q)continue e;L.push(j)}else P(u,Q,v)||L.push(j)}return L}k.templateSettings={escape:IS,evaluate:wt,interpolate:pe,variable:"",imports:{_:k}},(k.prototype=iu.prototype).constructor=k,($n.prototype=nr(iu.prototype)).constructor=$n,(Ce.prototype=nr(iu.prototype)).constructor=Ce,mo.prototype.clear=function(){this.__data__=Sl?Sl(null):{},this.size=0},mo.prototype.delete=function(c){var u=this.has(c)&&delete this.__data__[c];return this.size-=u?1:0,u},mo.prototype.get=function(c){var u=this.__data__;if(Sl){var d=u[c];return d===sl?M:d}return He.call(u,c)?u[c]:M},mo.prototype.has=function(c){var u=this.__data__;return Sl?u[c]!==M:He.call(u,c)},mo.prototype.set=function(c,u){var d=this.__data__;return this.size+=this.has(c)?0:1,d[c]=Sl&&u===M?sl:u,this},Vn.prototype.clear=function(){this.__data__=[],this.size=0},Vn.prototype.delete=function(c){var u=this.__data__,d=Cl(u,c);return!(d<0||(d==u.length-1?u.pop():Jc.call(u,d,1),--this.size,0))},Vn.prototype.get=function(c){var u=this.__data__,d=Cl(u,c);return d<0?M:u[d][1]},Vn.prototype.has=function(c){return Cl(this.__data__,c)>-1},Vn.prototype.set=function(c,u){var d=this.__data__,v=Cl(d,c);return v<0?(++this.size,d.push([c,u])):d[v][1]=u,this},bn.prototype.clear=function(){this.size=0,this.__data__={hash:new mo,map:new(_n||Vn),string:new mo}},bn.prototype.delete=function(c){var u=Rl(this,c).delete(c);return this.size-=u?1:0,u},bn.prototype.get=function(c){return Rl(this,c).get(c)},bn.prototype.has=function(c){return Rl(this,c).has(c)},bn.prototype.set=function(c,u){var d=Rl(this,c),v=d.size;return d.set(c,u),this.size+=d.size==v?0:1,this},vo.prototype.add=vo.prototype.push=function(c){return this.__data__.set(c,sl),this},vo.prototype.has=function(c){return this.__data__.has(c)},Xi.prototype.clear=function(){this.__data__=new Vn,this.size=0},Xi.prototype.delete=function(c){var u=this.__data__,d=u.delete(c);return this.size=u.size,d},Xi.prototype.get=function(c){return this.__data__.get(c)},Xi.prototype.has=function(c){return this.__data__.has(c)},Xi.prototype.set=function(c,u){var d=this.__data__;if(d instanceof Vn){var v=d.__data__;if(!_n||v.length<199)return v.push([c,u]),this.size=++d.size,this;d=this.__data__=new bn(v)}return d.set(c,u),this.size=d.size,this};var rr=mu(Ui),Rd=mu(en,!0);function dE(c,u){var d=!0;return rr(c,function(v,b,P){return d=!!u(v,b,P)}),d}function lu(c,u,d){for(var v=-1,b=c.length;++v<b;){var P=c[v],x=u(P);if(null!=x&&(O===M?x==x&&!jn(x):d(x,O)))var O=x,L=P}return L}function ma(c,u){var d=[];return rr(c,function(v,b,P){u(v,b,P)&&d.push(v)}),d}function _i(c,u,d,v,b){var P=-1,x=c.length;for(d||(d=wa),b||(b=[]);++P<x;){var O=c[P];u>0&&d(O)?u>1?_i(O,u-1,d,v,b):pi(b,O):v||(b[b.length]=O)}return b}var uu=xl(),Nd=xl(!0);function Ui(c,u){return c&&uu(c,u,Si)}function en(c,u){return c&&Nd(c,u,Si)}function va(c,u){return mn(u,function(d){return Un(c[d])})}function or(c,u){for(var d=0,v=(u=Ao(u,c)).length;null!=c&&d<v;)c=c[os(u[d++])];return d&&d==v?c:M}function _o(c,u,d){var v=u(c);return ye(c)?v:pi(v,d(c))}function ni(c){return null==c?c===M?"[object Undefined]":"[object Null]":fo&&fo in Tt(c)?function(c){var u=He.call(c,fo),d=c[fo];try{c[fo]=M;var v=!0}catch(P){}var b=ir.call(c);return v&&(u?c[fo]=d:delete c[fo]),b}(c):function(c){return ir.call(c)}(c)}function Or(c,u){return c>u}function Pl(c,u){return null!=c&&He.call(c,u)}function Ld(c,u){return null!=c&&u in Tt(c)}function _m(c,u,d){for(var v=d?lo:fi,b=c[0].length,P=c.length,x=P,O=F(P),L=1/0,U=[];x--;){var j=c[x];x&&u&&(j=yt(j,Bn(u))),L=ci(j.length,L),O[x]=!d&&(u||b>=120&&j.length>=120)?new vo(x&&j):M}j=c[0];var Q=-1,ee=O[0];e:for(;++Q<b&&U.length<L;){var he=j[Q],ke=u?u(he):he;if(he=d||0!==he?he:0,!(ee?Wc(ee,ke):v(U,ke,d))){for(x=P;--x;){var We=O[x];if(!(We?Wc(We,ke):v(c[x],ke,d)))continue e}ee&&ee.push(ke),U.push(he)}}return U}function Al(c,u,d){var v=null==(c=Qm(c,u=Ao(u,c)))?c:c[os(Cn(u))];return null==v?M:di(v,c,d)}function fE(c){return Ut(c)&&ni(c)==Xo}function hu(c,u,d,v,b){return c===u||(null==c||null==u||!Ut(c)&&!Ut(u)?c!=c&&u!=u:function(c,u,d,v,b,P){var x=ye(c),O=ye(u),L=x?al:bi(c),U=O?al:bi(u),j=(L=L==Xo?Rn:L)==Rn,Q=(U=U==Xo?Rn:U)==Rn,ee=L==U;if(ee&&Ds(c)){if(!Ds(u))return!1;x=!0,j=!1}if(ee&&!j)return P||(P=new Xi),x||Wl(c)?Kd(c,u,d,v,b,P):function(c,u,d,v,b,P,x){switch(d){case kr:if(c.byteLength!=u.byteLength||c.byteOffset!=u.byteOffset)return!1;c=c.buffer,u=u.buffer;case ia:return!(c.byteLength!=u.byteLength||!P(new yl(c),new yl(u)));case ea:case ll:case cl:return ge(+c,+u);case ta:return c.name==u.name&&c.message==u.message;case Lc:case oo:return c==u+"";case Zn:var O=im;case Qi:if(O||(O=_d),c.size!=u.size&&!(1&v))return!1;var U=x.get(c);if(U)return U==u;v|=2,x.set(c,u);var j=Kd(O(c),O(u),v,b,P,x);return x.delete(c),j;case Bc:if(da)return da.call(c)==da.call(u)}return!1}(c,u,L,d,v,b,P);if(!(1&d)){var he=j&&He.call(c,"__wrapped__"),ke=Q&&He.call(u,"__wrapped__");if(he||ke){var We=he?c.value():c,De=ke?u.value():u;return P||(P=new Xi),b(We,De,d,v,P)}}return!!ee&&(P||(P=new Xi),function(c,u,d,v,b,P){var x=1&d,O=Qd(c),L=O.length;if(L!=Qd(u).length&&!x)return!1;for(var Q=L;Q--;){var ee=O[Q];if(!(x?ee in u:He.call(u,ee)))return!1}var he=P.get(c),ke=P.get(u);if(he&&ke)return he==u&&ke==c;var We=!0;P.set(c,u),P.set(u,c);for(var De=x;++Q<L;){var ze=c[ee=O[Q]],st=u[ee];if(v)var rn=x?v(st,ze,ee,u,c,P):v(ze,st,ee,c,u,P);if(!(rn===M?ze===st||b(ze,st,d,v,P):rn)){We=!1;break}De||(De="constructor"==ee)}if(We&&!De){var Mi=c.constructor,Wn=u.constructor;Mi!=Wn&&"constructor"in c&&"constructor"in u&&!("function"==typeof Mi&&Mi instanceof Mi&&"function"==typeof Wn&&Wn instanceof Wn)&&(We=!1)}return P.delete(c),P.delete(u),We}(c,u,d,v,b,P))}(c,u,d,v,hu,b))}function Sm(c,u,d,v){var b=d.length,P=b,x=!v;if(null==c)return!P;for(c=Tt(c);b--;){var O=d[b];if(x&&O[2]?O[1]!==c[O[0]]:!(O[0]in c))return!1}for(;++b<P;){var L=(O=d[b])[0],U=c[L],j=O[1];if(x&&O[2]){if(U===M&&!(L in c))return!1}else{var Q=new Xi;if(v)var ee=v(U,j,L,c,u,Q);if(!(ee===M?hu(j,U,3,v,Q):ee))return!1}}return!0}function gE(c){return!(!Gt(c)||function(c){return!!Kc&&Kc in c}(c))&&(Un(c)?Ed:cO).test(Nr(c))}function mE(c){return"function"==typeof c?c:null==c?zi:"object"==typeof c?ye(c)?du(c[0],c[1]):si(c):Vo(c)}function Em(c){if(!Bl(c))return PO(c);var u=[];for(var d in Tt(c))He.call(c,d)&&"constructor"!=d&&u.push(d);return u}function So(c,u){return c<u}function vE(c,u){var d=-1,v=nn(c)?F(c.length):[];return rr(c,function(b,P,x){v[++d]=u(b,P,x)}),v}function si(c){var u=Jd(c);return 1==u.length&&u[0][2]?jm(u[0][0],u[0][1]):function(d){return d===c||Sm(d,c,u)}}function du(c,u){return tf(c)&&Um(u)?jm(os(c),u):function(d){var v=Ql(d,c);return v===M&&v===u?Lu(d,c):hu(u,v,3)}}function Eo(c,u,d,v,b){c!==u&&uu(u,function(P,x){if(b||(b=new Xi),Gt(P))!function(c,u,d,v,b,P,x){var O=Eu(c,d),L=Eu(u,d),U=x.get(L);if(U)pa(c,d,U);else{var j=P?P(O,L,d+"",c,u,x):M,Q=j===M;if(Q){var ee=ye(L),he=!ee&&Ds(L),ke=!ee&&!he&&Wl(L);j=L,ee||he||ke?ye(O)?j=O:qt(O)?j=gi(O):he?(Q=!1,j=xm(L,!0)):ke?(Q=!1,j=Sa(L,!0)):j=[]:Nu(L)||As(L)?(j=O,As(O)?j=Nv(O):(!Gt(O)||Un(O))&&(j=Su(L))):Q=!1}Q&&(x.set(L,j),b(j,L,v,P,x),x.delete(L)),pa(c,d,j)}}(c,u,x,d,Eo,v,b);else{var O=v?v(Eu(c,x),P,x+"",c,u,b):M;O===M&&(O=P),pa(c,x,O)}},Wi)}function wm(c,u){var d=c.length;if(d)return rs(u+=u<0?d:0,d)?c[u]:M}function En(c,u,d){u=u.length?yt(u,function(P){return ye(P)?function(x){return or(x,1===P.length?P[0]:P)}:P}):[zi];var v=-1;return u=yt(u,Bn(Ee())),function(N,G){var F=N.length;for(N.sort(function(P,x){return function(c,u,d){for(var v=-1,b=c.criteria,P=u.criteria,x=b.length,O=d.length;++v<x;){var L=Im(b[v],P[v]);if(L)return v>=O?L:L*("desc"==d[v]?-1:1)}return c.index-u.index}(P,x,d)});F--;)N[F]=N[F].value;return N}(vE(c,function(P,x,O){return{criteria:yt(u,function(U){return U(P)}),index:++v,value:P}}))}function Dl(c,u,d){for(var v=-1,b=u.length,P={};++v<b;){var x=u[v],O=or(c,x);d(O,x)&&Co(P,Ao(x,c),O)}return P}function ws(c,u,d,v){var b=v?KS:Jt,P=-1,x=u.length,O=c;for(c===u&&(u=gi(u)),d&&(O=yt(c,Bn(d)));++P<x;)for(var L=0,U=u[P],j=d?d(U):U;(L=b(O,j,L,v))>-1;)O!==c&&Jc.call(O,L,1),Jc.call(c,L,1);return c}function Bd(c,u){for(var d=c?u.length:0,v=d-1;d--;){var b=u[d];if(d==v||b!==P){var P=b;rs(b)?Jc.call(c,b,1):Dm(c,b)}}return c}function $d(c,u){return c+_l(is()*(u-c+1))}function Cm(c,u){var d="";if(!c||u<1||u>Cr)return d;do{u%2&&(d+=c),(u=_l(u/2))&&(c+=c)}while(u);return d}function Je(c,u){return wu(Km(c,u,zi),c+"")}function km(c){return gm(xa(c))}function wn(c,u){var d=xa(c);return Cu(d,sr(u,0,d.length))}function Co(c,u,d,v){if(!Gt(c))return c;for(var b=-1,P=(u=Ao(u,c)).length,x=P-1,O=c;null!=O&&++b<P;){var L=os(u[b]),U=d;if("__proto__"===L||"constructor"===L||"prototype"===L)return c;if(b!=x){var j=O[L];(U=v?v(j,L,O):M)===M&&(U=Gt(j)?j:rs(u[b+1])?[]:{})}ou(O,L,U),O=O[L]}return c}var ko=ha?function(c,u){return ha.set(c,u),c}:zi,LO=Zc?function(c,u){return Zc(c,"toString",{configurable:!0,enumerable:!1,value:Uf(u),writable:!0})}:zi;function Pm(c){return Cu(xa(c))}function Fn(c,u,d){var v=-1,b=c.length;u<0&&(u=-u>b?0:b+u),(d=d>b?b:d)<0&&(d+=b),b=u>d?0:d-u>>>0,u>>>=0;for(var P=F(b);++v<b;)P[v]=c[v+u];return P}function _E(c,u){var d;return rr(c,function(v,b,P){return!(d=u(v,b,P))}),!!d}function fu(c,u,d){var v=0,b=null==c?v:c.length;if("number"==typeof u&&u==u&&b<=2147483647){for(;v<b;){var P=v+b>>>1,x=c[P];null!==x&&!jn(x)&&(d?x<=u:x<u)?v=P+1:b=P}return b}return Vd(c,u,zi,d)}function Vd(c,u,d,v){var b=0,P=null==c?0:c.length;if(0===P)return 0;for(var x=(u=d(u))!=u,O=null===u,L=jn(u),U=u===M;b<P;){var j=_l((b+P)/2),Q=d(c[j]),ee=Q!==M,he=null===Q,ke=Q==Q,We=jn(Q);if(x)var De=v||ke;else De=U?ke&&(v||ee):O?ke&&ee&&(v||!he):L?ke&&ee&&!he&&(v||!We):!he&&!We&&(v?Q<=u:Q<u);De?b=j+1:P=j}return ci(P,4294967294)}function Am(c,u){for(var d=-1,v=c.length,b=0,P=[];++d<v;){var x=c[d],O=u?u(x):x;if(!d||!ge(O,L)){var L=O;P[b++]=0===x?0:x}}return P}function ya(c){return"number"==typeof c?c:jn(c)?NaN:+c}function ji(c){if("string"==typeof c)return c;if(ye(c))return yt(c,ji)+"";if(jn(c))return Pd?Pd.call(c):"";var u=c+"";return"0"==u&&1/c==-ro?"-0":u}function ns(c,u,d){var v=-1,b=fi,P=c.length,x=!0,O=[],L=O;if(d)x=!1,b=lo;else if(P>=200){var U=u?null:CE(c);if(U)return _d(U);x=!1,b=Wc,L=new vo}else L=u?[]:O;e:for(;++v<P;){var j=c[v],Q=u?u(j):j;if(j=d||0!==j?j:0,x&&Q==Q){for(var ee=L.length;ee--;)if(L[ee]===Q)continue e;u&&L.push(Q),O.push(j)}else b(L,Q,d)||(L!==O&&L.push(Q),O.push(j))}return O}function Dm(c,u){return null==(c=Qm(c,u=Ao(u,c)))||delete c[os(Cn(u))]}function _a(c,u,d,v){return Co(c,u,d(or(c,u)),v)}function ba(c,u,d,v){for(var b=c.length,P=v?b:-1;(v?P--:++P<b)&&u(c[P],P,c););return d?Fn(c,v?0:P,v?P+1:b):Fn(c,v?P+1:0,v?b:P)}function Po(c,u){var d=c;return d instanceof Ce&&(d=d.value()),St(u,function(v,b){return b.func.apply(b.thisArg,pi([v],b.args))},d)}function Fd(c,u,d){var v=c.length;if(v<2)return v?ns(c[0]):[];for(var b=-1,P=F(v);++b<v;)for(var x=c[b],O=-1;++O<v;)O!=b&&(P[b]=ga(P[b]||x,c[O],u,d));return ns(_i(P,1),u,d)}function Tm(c,u,d){for(var v=-1,b=c.length,P=u.length,x={};++v<b;)d(x,c[v],v<P?u[v]:M);return x}function Hd(c){return qt(c)?c:[]}function Tl(c){return"function"==typeof c?c:zi}function Ao(c,u){return ye(c)?c:tf(c,u)?[c]:af(pt(c))}var qd=Je;function Hn(c,u,d){var v=c.length;return d=d===M?v:d,!u&&d>=v?c:Fn(c,u,d)}var Do=K||function(c){return bt.clearTimeout(c)};function xm(c,u){if(u)return c.slice();var d=c.length,v=Yc?Yc(d):new c.constructor(d);return c.copy(v),v}function q(c){var u=new c.constructor(c.byteLength);return new yl(u).set(new yl(c)),u}function Sa(c,u){var d=u?q(c.buffer):c.buffer;return new c.constructor(d,c.byteOffset,c.length)}function Im(c,u){if(c!==u){var d=c!==M,v=null===c,b=c==c,P=jn(c),x=u!==M,O=null===u,L=u==u,U=jn(u);if(!O&&!U&&!P&&c>u||P&&x&&L&&!O&&!U||v&&x&&L||!d&&L||!b)return 1;if(!v&&!P&&!U&&c<u||U&&d&&b&&!v&&!P||O&&d&&b||!x&&b||!L)return-1}return 0}function Gd(c,u,d,v){for(var b=-1,P=c.length,x=d.length,O=-1,L=u.length,U=li(P-x,0),j=F(L+U),Q=!v;++O<L;)j[O]=u[O];for(;++b<x;)(Q||b<P)&&(j[d[b]]=c[b]);for(;U--;)j[O++]=c[b++];return j}function SE(c,u,d,v){for(var b=-1,P=c.length,x=-1,O=d.length,L=-1,U=u.length,j=li(P-O,0),Q=F(j+U),ee=!v;++b<j;)Q[b]=c[b];for(var he=b;++L<U;)Q[he+L]=u[L];for(;++x<O;)(ee||b<P)&&(Q[he+d[x]]=c[b++]);return Q}function gi(c,u){var d=-1,v=c.length;for(u||(u=F(v));++d<v;)u[d]=c[d];return u}function ui(c,u,d,v){var b=!d;d||(d={});for(var P=-1,x=u.length;++P<x;){var O=u[P],L=v?v(d[O],c[O],O,d,c):M;L===M&&(L=c[O]),b?Sn(d,O,L):ou(d,O,L)}return d}function gu(c,u){return function(d,v){var b=ye(d)?Fe:mm,P=u?u():{};return b(d,c,Ee(v,2),P)}}function Mo(c){return Je(function(u,d){var v=-1,b=d.length,P=b>1?d[b-1]:M,x=b>2?d[2]:M;for(P=c.length>3&&"function"==typeof P?(b--,P):M,x&&xi(d[0],d[1],x)&&(P=b<3?M:P,b=1),u=Tt(u);++v<b;){var O=d[v];O&&c(u,O,v,P)}return u})}function mu(c,u){return function(d,v){if(null==d)return d;if(!nn(d))return c(d,v);for(var b=d.length,P=u?b:-1,x=Tt(d);(u?P--:++P<b)&&!1!==v(x[P],P,x););return d}}function xl(c){return function(u,d,v){for(var b=-1,P=Tt(u),x=v(u),O=x.length;O--;){var L=x[c?O:++b];if(!1===d(P[L],L,P))break}return u}}function Nm(c){return function(u){var d=vl(u=pt(u))?Dt(u):M,v=d?d[0]:u.charAt(0),b=d?Hn(d,1).join(""):u.slice(1);return v[c]()+b}}function Ea(c){return function(u){return St(qf(Nf(u).replace(Qg,"")),c,"")}}function Cs(c){return function(){var u=arguments;switch(u.length){case 0:return new c;case 1:return new c(u[0]);case 2:return new c(u[0],u[1]);case 3:return new c(u[0],u[1],u[2]);case 4:return new c(u[0],u[1],u[2],u[3]);case 5:return new c(u[0],u[1],u[2],u[3],u[4]);case 6:return new c(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new c(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var d=nr(c.prototype),v=c.apply(d,u);return Gt(v)?v:d}}function Lm(c){return function(u,d,v){var b=Tt(u);if(!nn(u)){var P=Ee(d,3);u=Si(u),d=function(O){return P(b[O],O,b)}}var x=c(u,d,v);return x>-1?b[P?u[x]:x]:M}}function EE(c){return ss(function(u){var d=u.length,v=d,b=$n.prototype.thru;for(c&&u.reverse();v--;){var P=u[v];if("function"!=typeof P)throw new vn($i);if(b&&!x&&"wrapper"==bu(P))var x=new $n([],!0)}for(v=x?v:d;++v<d;){var O=bu(P=u[v]),L="wrapper"==O?_u(P):M;x=L&&sf(L[0])&&424==L[1]&&!L[4].length&&1==L[9]?x[bu(L[0])].apply(x,L[3]):1==P.length&&sf(P)?x[O]():x.thru(P)}return function(){var U=arguments,j=U[0];if(x&&1==U.length&&ye(j))return x.plant(j).value();for(var Q=0,ee=d?u[Q].apply(this,U):j;++Q<d;)ee=u[Q].call(this,ee);return ee}})}function Il(c,u,d,v,b,P,x,O,L,U){var j=128&u,Q=1&u,ee=2&u,he=24&u,ke=512&u,We=ee?M:Cs(c);return function De(){for(var ze=arguments.length,st=F(ze),rn=ze;rn--;)st[rn]=arguments[rn];if(he)var Mi=Io(De),Wn=mO(st,Mi);if(v&&(st=Gd(st,v,b,he)),P&&(st=SE(st,P,x,he)),ze-=Wn,he&&ze<U){var gt=bs(st,Mi);return tn(c,u,Il,De.placeholder,d,st,gt,O,L,U-ze)}var Ms=Q?d:this,Vr=ee?Ms[c]:c;return ze=st.length,O?st=Ym(st,O):ke&&ze>1&&st.reverse(),j&&L<ze&&(st.length=L),this&&this!==bt&&this instanceof De&&(Vr=We||Cs(Vr)),Vr.apply(Ms,st)}}function Bm(c,u){return function(d,v){return function(c,u,d,v){return Ui(c,function(b,P,x){u(v,d(b),P,x)}),v}(d,c,u(v),{})}}function Ud(c,u){return function(d,v){var b;if(d===M&&v===M)return u;if(d!==M&&(b=d),v!==M){if(b===M)return v;"string"==typeof d||"string"==typeof v?(d=ji(d),v=ji(v)):(d=ya(d),v=ya(v)),b=c(d,v)}return b}}function jd(c){return ss(function(u){return u=yt(u,Bn(Ee())),Je(function(d){var v=this;return c(u,function(b){return di(b,v,d)})})})}function vu(c,u){var d=(u=u===M?" ":ji(u)).length;if(d<2)return d?Cm(u,c):u;var v=Cm(u,Wt(c/uo(u)));return vl(u)?Hn(Dt(v),0,c).join(""):v.slice(0,c)}function $m(c){return function(u,d,v){return v&&"number"!=typeof v&&xi(u,d,v)&&(d=v=M),u=Ts(u),d===M?(d=u,u=0):d=Ts(d),function(c,u,d,v){for(var b=-1,P=li(Wt((u-c)/(d||1)),0),x=F(P);P--;)x[v?P:++b]=c,c+=d;return x}(u,d,v=v===M?u<d?1:-1:Ts(v),c)}}function Wd(c){return function(u,d){return"string"==typeof u&&"string"==typeof d||(u=sn(u),d=sn(d)),c(u,d)}}function tn(c,u,d,v,b,P,x,O,L,U){var j=8&u;u|=j?32:64,4&(u&=~(j?64:32))||(u&=-4);var We=[c,u,b,j?P:M,j?x:M,j?M:P,j?M:x,O,L,U],De=d.apply(M,We);return sf(c)&&Rr(De,We),De.placeholder=v,Jm(De,c,u)}function zd(c){var u=Zt[c];return function(d,v){if(d=sn(d),(v=null==v?0:ci(Be(v),292))&&Xc(d)){var b=(pt(d)+"e").split("e");return+((b=(pt(u(b[0]+"e"+(+b[1]+v)))+"e").split("e"))[0]+"e"+(+b[1]-v))}return u(d)}}var CE=go&&1/_d(new go([,-0]))[1]==ro?function(c){return new go(c)}:zf;function Vm(c){return function(u){var d=bi(u);return d==Zn?im(u):d==Qi?function(N){var G=-1,F=Array(N.size);return N.forEach(function(oe){F[++G]=[oe,oe]}),F}(u):function(N,G){return yt(G,function(F){return[F,N[F]]})}(u,c(u))}}function qn(c,u,d,v,b,P,x,O){var L=2&u;if(!L&&"function"!=typeof c)throw new vn($i);var U=v?v.length:0;if(U||(u&=-97,v=b=M),x=x===M?x:li(Be(x),0),O=O===M?O:Be(O),U-=b?b.length:0,64&u){var j=v,Q=b;v=b=M}var ee=L?M:_u(c),he=[c,u,d,v,b,j,Q,P,x,O];if(ee&&function(c,u){var d=c[1],v=u[1],b=d|v;if(!(b<131||(128==v&&8==d||128==v&&256==d&&c[7].length<=u[8]||384==v&&u[7].length<=u[8]&&8==d)))return c;1&v&&(c[2]=u[2],b|=1&d?0:4);var O=u[3];if(O){var L=c[3];c[3]=L?Gd(L,O,u[4]):O,c[4]=L?bs(c[3],eo):u[4]}(O=u[5])&&(c[5]=(L=c[5])?SE(L,O,u[6]):O,c[6]=L?bs(c[5],eo):u[6]),(O=u[7])&&(c[7]=O),128&v&&(c[8]=null==c[8]?u[8]:ci(c[8],u[8])),null==c[9]&&(c[9]=u[9]),c[0]=u[0],c[1]=b}(he,ee),c=he[0],u=he[1],d=he[2],v=he[3],b=he[4],!(O=he[9]=he[9]===M?L?0:c.length:li(he[9]-U,0))&&24&u&&(u&=-25),u&&1!=u)ke=8==u||16==u?function(c,u,d){var v=Cs(c);return function b(){for(var P=arguments.length,x=F(P),O=P,L=Io(b);O--;)x[O]=arguments[O];var U=P<3&&x[0]!==L&&x[P-1]!==L?[]:bs(x,L);return(P-=U.length)<d?tn(c,u,Il,b.placeholder,M,x,U,M,M,d-P):di(this&&this!==bt&&this instanceof b?v:c,this,x)}}(c,u,O):32!=u&&33!=u||b.length?Il.apply(M,he):function(c,u,d,v){var b=1&u,P=Cs(c);return function x(){for(var O=-1,L=arguments.length,U=-1,j=v.length,Q=F(j+L),ee=this&&this!==bt&&this instanceof x?P:c;++U<j;)Q[U]=v[U];for(;L--;)Q[U++]=arguments[++O];return di(ee,b?d:this,Q)}}(c,u,d,v);else var ke=function(c,u,d){var v=1&u,b=Cs(c);return function P(){return(this&&this!==bt&&this instanceof P?b:c).apply(v?d:this,arguments)}}(c,u,d);return Jm((ee?ko:Rr)(ke,he),c,u)}function Di(c,u,d,v){return c===M||ge(c,ca[d])&&!He.call(v,d)?u:c}function yu(c,u,d,v,b,P){return Gt(c)&&Gt(u)&&(P.set(u,c),Eo(c,u,M,yu,P),P.delete(u)),c}function Fm(c){return Nu(c)?M:c}function Kd(c,u,d,v,b,P){var x=1&d,O=c.length,L=u.length;if(O!=L&&!(x&&L>O))return!1;var U=P.get(c),j=P.get(u);if(U&&j)return U==u&&j==c;var Q=-1,ee=!0,he=2&d?new vo:M;for(P.set(c,u),P.set(u,c);++Q<O;){var ke=c[Q],We=u[Q];if(v)var De=x?v(We,ke,Q,u,c,P):v(ke,We,Q,c,u,P);if(De!==M){if(De)continue;ee=!1;break}if(he){if(!gd(u,function(ze,st){if(!Wc(he,st)&&(ke===ze||b(ke,ze,d,v,P)))return he.push(st)})){ee=!1;break}}else if(ke!==We&&!b(ke,We,d,v,P)){ee=!1;break}}return P.delete(c),P.delete(u),ee}function ss(c){return wu(Km(c,M,Fl),c+"")}function Qd(c){return _o(c,Si,Nl)}function Yd(c){return _o(c,Wi,Hm)}var _u=ha?function(c){return ha.get(c)}:zf;function bu(c){for(var u=c.name+"",d=xr[u],v=He.call(xr,u)?d.length:0;v--;){var b=d[v],P=b.func;if(null==P||P==c)return b.name}return u}function Io(c){return(He.call(k,"placeholder")?k:c).placeholder}function Ee(){var c=k.iteratee||$o;return c=c===$o?mE:c,arguments.length?c(arguments[0],arguments[1]):c}function Rl(c,u){var d=c.__data__;return function(c){var u=typeof c;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==c:null===c}(u)?d["string"==typeof u?"string":"hash"]:d.map}function Jd(c){for(var u=Si(c),d=u.length;d--;){var v=u[d],b=c[v];u[d]=[v,b,Um(b)]}return u}function Oo(c,u){var d=function(N,G){return null==N?M:N[G]}(c,u);return gE(d)?d:M}var Nl=po?function(c){return null==c?[]:(c=Tt(c),mn(po(c),function(u){return om.call(c,u)}))}:$r,Hm=po?function(c){for(var u=[];c;)pi(u,Nl(c)),c=Ae(c);return u}:$r,bi=ni;function Xd(c,u,d){for(var v=-1,b=(u=Ao(u,c)).length,P=!1;++v<b;){var x=os(u[v]);if(!(P=null!=c&&d(c,x)))break;c=c[x]}return P||++v!=b?P:!!(b=null==c?0:c.length)&&Pf(b)&&rs(x,b)&&(ye(c)||As(c))}function Su(c){return"function"!=typeof c.constructor||Bl(c)?{}:nr(Ae(c))}function wa(c){return ye(c)||As(c)||!!(am&&c&&c[am])}function rs(c,u){var d=typeof c;return!!(u=null==u?Cr:u)&&("number"==d||"symbol"!=d&&hO.test(c))&&c>-1&&c%1==0&&c<u}function xi(c,u,d){if(!Gt(d))return!1;var v=typeof u;return!!("number"==v?nn(d)&&rs(u,d.length):"string"==v&&u in d)&&ge(d[u],c)}function tf(c,u){if(ye(c))return!1;var d=typeof c;return!("number"!=d&&"symbol"!=d&&"boolean"!=d&&null!=c&&!jn(c))||sO.test(c)||!Fg.test(c)||null!=u&&c in Tt(u)}function sf(c){var u=bu(c),d=k[u];if("function"!=typeof d||!(u in Ce.prototype))return!1;if(c===d)return!0;var v=_u(d);return!!v&&c===v[0]}(Tr&&bi(new Tr(new ArrayBuffer(1)))!=kr||_n&&bi(new _n)!=Zn||Cd&&bi(Cd.resolve())!=AS||go&&bi(new go)!=Qi||bl&&bi(new bl)!=$c)&&(bi=function(c){var u=ni(c),d=u==Rn?c.constructor:M,v=d?Nr(d):"";if(v)switch(v){case cm:return kr;case kd:return Zn;case nE:return AS;case um:return Qi;case tu:return $c}return u});var PE=Sd?Un:Qf;function Bl(c){var u=c&&c.constructor;return c===("function"==typeof u&&u.prototype||ca)}function Um(c){return c==c&&!Gt(c)}function jm(c,u){return function(d){return null!=d&&d[c]===u&&(u!==M||c in Tt(d))}}function Km(c,u,d){return u=li(u===M?c.length-1:u,0),function(){for(var v=arguments,b=-1,P=li(v.length-u,0),x=F(P);++b<P;)x[b]=v[u+b];b=-1;for(var O=F(u+1);++b<u;)O[b]=v[b];return O[u]=d(x),di(c,this,O)}}function Qm(c,u){return u.length<2?c:or(c,Fn(u,0,-1))}function Ym(c,u){for(var d=c.length,v=ci(u.length,d),b=gi(c);v--;){var P=u[v];c[v]=rs(P,d)?b[P]:M}return c}function Eu(c,u){if(("constructor"!==u||"function"!=typeof c[u])&&"__proto__"!=u)return c[u]}var Rr=$l(ko),Ca=Lt||function(c,u){return bt.setTimeout(c,u)},wu=$l(LO);function Jm(c,u,d){var v=u+"";return wu(c,function(c,u){var d=u.length;if(!d)return c;var v=d-1;return u[v]=(d>1?"& ":"")+u[v],u=u.join(d>2?", ":" "),c.replace(OS,"{\n/* [wrapped with "+u+"] */\n")}(v,function(c,u){return Fi(kS,function(d){var v="_."+d[0];u&d[1]&&!fi(c,v)&&c.push(v)}),c.sort()}(function(c){var u=c.match(rO);return u?u[1].split(oO):[]}(v),d)))}function $l(c){var u=0,d=0;return function(){var v=eu(),b=16-(v-d);if(d=v,b>0){if(++u>=800)return arguments[0]}else u=0;return c.apply(M,arguments)}}function Cu(c,u){var d=-1,v=c.length,b=v-1;for(u=u===M?v:u;++d<u;){var P=$d(d,b),x=c[P];c[P]=c[d],c[d]=x}return c.length=u,c}var u,d,af=(u=jl(function(c){var u=[];return 46===c.charCodeAt(0)&&u.push(""),c.replace(Pr,function(d,v,b,P){u.push(b?P.replace(aO,"$1"):v||d)}),u},function(v){return 500===d.size&&d.clear(),v}),d=u.cache,u);function os(c){if("string"==typeof c||jn(c))return c;var u=c+"";return"0"==u&&1/c==-ro?"-0":u}function Nr(c){if(null!=c){try{return ho.call(c)}catch(u){}try{return c+""}catch(u){}}return""}function cf(c){if(c instanceof Ce)return c.clone();var u=new $n(c.__wrapped__,c.__chain__);return u.__actions__=gi(c.__actions__),u.__index__=c.__index__,u.__values__=c.__values__,u}var uf=Je(function(c,u){return qt(c)?ga(c,_i(u,1,qt,!0)):[]}),hf=Je(function(c,u){var d=Cn(u);return qt(d)&&(d=M),qt(c)?ga(c,_i(u,1,qt,!0),Ee(d,2)):[]}),df=Je(function(c,u){var d=Cn(u);return qt(d)&&(d=M),qt(c)?ga(c,_i(u,1,qt,!0),M,d):[]});function ff(c,u,d){var v=null==c?0:c.length;if(!v)return-1;var b=null==d?0:Be(d);return b<0&&(b=li(v+b,0)),_s(c,Ee(u,3),b)}function Au(c,u,d){var v=null==c?0:c.length;if(!v)return-1;var b=v-1;return d!==M&&(b=Be(d),b=d<0?li(v+b,0):ci(b,v-1)),_s(c,Ee(u,3),b,!0)}function Fl(c){return null!=c&&c.length?_i(c,1):[]}function ev(c){return c&&c.length?c[0]:M}var Du=Je(function(c){var u=yt(c,Hd);return u.length&&u[0]===c[0]?_m(u):[]}),gf=Je(function(c){var u=Cn(c),d=yt(c,Hd);return u===Cn(d)?u=M:d.pop(),d.length&&d[0]===c[0]?_m(d,Ee(u,2)):[]}),tv=Je(function(c){var u=Cn(c),d=yt(c,Hd);return(u="function"==typeof u?u:M)&&d.pop(),d.length&&d[0]===c[0]?_m(d,M,u):[]});function Cn(c){var u=null==c?0:c.length;return u?c[u-1]:M}var OE=Je(nv);function nv(c,u){return c&&c.length&&u&&u.length?ws(c,u):c}var kn=ss(function(c,u){var d=null==c?0:c.length,v=kl(c,u);return Bd(c,yt(u,function(b){return rs(b,d)?+b:b}).sort(Im)),v});function Tu(c){return null==c?c:lm.call(c)}var Ps=Je(function(c){return ns(_i(c,1,qt,!0))}),ql=Je(function(c){var u=Cn(c);return qt(u)&&(u=M),ns(_i(c,1,qt,!0),Ee(u,2))}),ov=Je(function(c){var u=Cn(c);return u="function"==typeof u?u:M,ns(_i(c,1,qt,!0),M,u)});function cv(c){if(!c||!c.length)return[];var u=0;return c=mn(c,function(d){if(qt(d))return u=li(d.length,u),!0}),Xg(u,function(d){return yt(c,gl(d))})}function WE(c,u){if(!c||!c.length)return[];var d=cv(c);return null==u?d:yt(d,function(v){return di(u,M,v)})}var mf=Je(function(c,u){return qt(c)?ga(c,u):[]}),vf=Je(function(c){return Fd(mn(c,qt))}),yf=Je(function(c){var u=Cn(c);return qt(u)&&(u=M),Fd(mn(c,qt),Ee(u,2))}),HO=Je(function(c){var u=Cn(c);return u="function"==typeof u?u:M,Fd(mn(c,qt),M,u)}),qO=Je(cv),KE=Je(function(c){var u=c.length,d=u>1?c[u-1]:M;return d="function"==typeof d?(c.pop(),d):M,WE(c,d)});function hv(c){var u=k(c);return u.__chain__=!0,u}function Gl(c,u){return u(c)}var xu=ss(function(c){var u=c.length,d=u?c[0]:0,v=this.__wrapped__,b=function(P){return kl(P,c)};return!(u>1||this.__actions__.length)&&v instanceof Ce&&rs(d)?((v=v.slice(d,+d+(u?1:0))).__actions__.push({func:Gl,args:[b],thisArg:M}),new $n(v,this.__chain__).thru(function(P){return u&&!P.length&&P.push(M),P})):this.thru(b)}),pv=gu(function(c,u,d){He.call(c,d)?++c[d]:Sn(c,d,1)}),tw=Lm(ff),iw=Lm(Au);function ka(c,u){return(ye(c)?Fi:rr)(c,Ee(u,3))}function gv(c,u){return(ye(c)?oa:Rd)(c,Ee(u,3))}var mv=gu(function(c,u,d){He.call(c,d)?c[d].push(u):Sn(c,d,[u])}),vv=Je(function(c,u,d){var v=-1,b="function"==typeof u,P=nn(c)?F(c.length):[];return rr(c,function(x){P[++v]=b?di(u,x,d):Al(x,u,d)}),P}),sw=gu(function(c,u,d){Sn(c,d,u)});function Sf(c,u){return(ye(c)?yt:vE)(c,Ee(u,3))}var Mu=gu(function(c,u,d){c[d?0:1].push(u)},function(){return[[],[]]}),uw=Je(function(c,u){if(null==c)return[];var d=u.length;return d>1&&xi(c,u[0],u[1])?u=[]:d>2&&xi(u[0],u[1],u[2])&&(u=[u[0]]),En(c,_i(u,1),[])}),Ul=lt||function(){return bt.Date.now()};function Ef(c,u,d){return u=d?M:u,qn(c,128,M,M,M,M,u=c&&null==u?c.length:u)}function bv(c,u){var d;if("function"!=typeof u)throw new vn($i);return c=Be(c),function(){return--c>0&&(d=u.apply(this,arguments)),c<=1&&(u=M),d}}var wf=Je(function(c,u,d){var v=1;if(d.length){var b=bs(d,Io(wf));v|=32}return qn(c,v,u,d,b)}),Sv=Je(function(c,u,d){var v=3;if(d.length){var b=bs(d,Io(Sv));v|=32}return qn(u,v,c,d,b)});function hw(c,u,d){var v,b,P,x,O,L,U=0,j=!1,Q=!1,ee=!0;if("function"!=typeof c)throw new vn($i);function he(gt){var Ms=v,Vr=b;return v=b=M,U=gt,x=c.apply(Vr,Ms)}function ke(gt){return U=gt,O=Ca(ze,u),j?he(gt):x}function De(gt){var Ms=gt-L;return L===M||Ms>=u||Ms<0||Q&&gt-U>=P}function ze(){var gt=Ul();if(De(gt))return st(gt);O=Ca(ze,function(gt){var gC=u-(gt-L);return Q?ci(gC,P-(gt-U)):gC}(gt))}function st(gt){return O=M,ee&&v?he(gt):(v=b=M,x)}function Wn(){var gt=Ul(),Ms=De(gt);if(v=arguments,b=this,L=gt,Ms){if(O===M)return ke(L);if(Q)return Do(O),O=Ca(ze,u),he(L)}return O===M&&(O=Ca(ze,u)),x}return u=sn(u)||0,Gt(d)&&(j=!!d.leading,P=(Q="maxWait"in d)?li(sn(d.maxWait)||0,u):P,ee="trailing"in d?!!d.trailing:ee),Wn.cancel=function(){O!==M&&Do(O),U=0,v=L=b=O=M},Wn.flush=function(){return O===M?x:st(Ul())},Wn}var WO=Je(function(c,u){return Od(c,1,u)}),Ev=Je(function(c,u,d){return Od(c,sn(u)||0,d)});function jl(c,u){if("function"!=typeof c||null!=u&&"function"!=typeof u)throw new vn($i);var d=function(){var v=arguments,b=u?u.apply(this,v):v[0],P=d.cache;if(P.has(b))return P.get(b);var x=c.apply(this,v);return d.cache=P.set(b,x)||P,x};return d.cache=new(jl.Cache||bn),d}function Cf(c){if("function"!=typeof c)throw new vn($i);return function(){var u=arguments;switch(u.length){case 0:return!c.call(this);case 1:return!c.call(this,u[0]);case 2:return!c.call(this,u[0],u[1]);case 3:return!c.call(this,u[0],u[1],u[2])}return!c.apply(this,u)}}jl.Cache=bn;var dw=qd(function(c,u){var d=(u=1==u.length&&ye(u[0])?yt(u[0],Bn(Ee())):yt(_i(u,1),Bn(Ee()))).length;return Je(function(v){for(var b=-1,P=ci(v.length,d);++b<P;)v[b]=u[b].call(this,v[b]);return di(c,this,v)})}),Iu=Je(function(c,u){var d=bs(u,Io(Iu));return qn(c,32,M,u,d)}),Cv=Je(function(c,u){var d=bs(u,Io(Cv));return qn(c,64,M,u,d)}),fw=ss(function(c,u){return qn(c,256,M,M,M,u)});function ge(c,u){return c===u||c!=c&&u!=u}var H=Wd(Or),Av=Wd(function(c,u){return c>=u}),As=fE(function(){return arguments}())?fE:function(c){return Ut(c)&&He.call(c,"callee")&&!om.call(c,"callee")},ye=F.isArray,Dv=Zi?Bn(Zi):function(c){return Ut(c)&&ni(c)==ia};function nn(c){return null!=c&&Pf(c.length)&&!Un(c)}function qt(c){return Ut(c)&&nn(c)}var Ds=Ss||Qf,Tv=Ar?Bn(Ar):function(c){return Ut(c)&&ni(c)==ll};function cs(c){if(!Ut(c))return!1;var u=ni(c);return u==ta||"[object DOMException]"==u||"string"==typeof c.message&&"string"==typeof c.name&&!Nu(c)}function Un(c){if(!Gt(c))return!1;var u=ni(c);return u==Oc||u==Bg||"[object AsyncFunction]"==u||"[object Proxy]"==u}function Ru(c){return"number"==typeof c&&c==Be(c)}function Pf(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=Cr}function Gt(c){var u=typeof c;return null!=c&&("object"==u||"function"==u)}function Ut(c){return null!=c&&"object"==typeof c}var Ew=ai?Bn(ai):function(c){return Ut(c)&&bi(c)==Zn};function kw(c){return"number"==typeof c||Ut(c)&&ni(c)==cl}function Nu(c){if(!Ut(c)||ni(c)!=Rn)return!1;var u=Ae(c);if(null===u)return!0;var d=He.call(u,"constructor")&&u.constructor;return"function"==typeof d&&d instanceof d&&ho.call(d)==yn}var Ov=Dr?Bn(Dr):function(c){return Ut(c)&&ni(c)==Lc},Pw=Ft?Bn(Ft):function(c){return Ut(c)&&bi(c)==Qi};function Df(c){return"string"==typeof c||!ye(c)&&Ut(c)&&ni(c)==oo}function jn(c){return"symbol"==typeof c||Ut(c)&&ni(c)==Bc}var Wl=ra?Bn(ra):function(c){return Ut(c)&&Pf(c.length)&&!!At[ni(c)]},Lr=Wd(So),Tf=Wd(function(c,u){return c<=u});function Rv(c){if(!c)return[];if(nn(c))return Df(c)?Dt(c):gi(c);if(ua&&c[ua])return function(N){for(var G,F=[];!(G=N.next()).done;)F.push(G.value);return F}(c[ua]());var u=bi(c);return(u==Zn?im:u==Qi?_d:xa)(c)}function Ts(c){return c?(c=sn(c))===ro||c===-ro?17976931348623157e292*(c<0?-1:1):c==c?c:0:0===c?c:0}function Be(c){var u=Ts(c),d=u%1;return u==u?d?u-d:u:0}function xf(c){return c?sr(Be(c),0,ys):0}function sn(c){if("number"==typeof c)return c;if(jn(c))return NaN;if(Gt(c)){var u="function"==typeof c.valueOf?c.valueOf():c;c=Gt(u)?u+"":u}if("string"!=typeof c)return 0===c?c:+c;c=em(c);var d=lO.test(c);return d||uO.test(c)?Pi(c.slice(2),d?2:8):Js.test(c)?NaN:+c}function Nv(c){return ui(c,Wi(c))}function pt(c){return null==c?"":ji(c)}var Aw=Mo(function(c,u){if(Bl(u)||nn(u))ui(u,Si(u),c);else for(var d in u)He.call(u,d)&&ou(c,d,u[d])}),Dw=Mo(function(c,u){ui(u,Wi(u),c)}),Pa=Mo(function(c,u,d,v){ui(u,Wi(u),c,v)}),Tw=Mo(function(c,u,d,v){ui(u,Si(u),c,v)}),Lv=ss(kl),Mw=Je(function(c,u){c=Tt(c);var d=-1,v=u.length,b=v>2?u[2]:M;for(b&&xi(u[0],u[1],b)&&(v=1);++d<v;)for(var P=u[d],x=Wi(P),O=-1,L=x.length;++O<L;){var U=x[O],j=c[U];(j===M||ge(j,ca[U])&&!He.call(c,U))&&(c[U]=P[U])}return c}),zl=Je(function(c){return c.push(M,yu),di(qv,M,c)});function Ql(c,u,d){var v=null==c?M:or(c,u);return v===M?d:v}function Lu(c,u){return null!=c&&Xd(c,u,Ld)}var Bu=Bm(function(c,u,d){null!=u&&"function"!=typeof u.toString&&(u=ir.call(u)),c[u]=d},Uf(zi)),Ow=Bm(function(c,u,d){null!=u&&"function"!=typeof u.toString&&(u=ir.call(u)),He.call(c,u)?c[u].push(d):c[u]=[d]},Ee),Vv=Je(Al);function Si(c){return nn(c)?yo(c):Em(c)}function Wi(c){return nn(c)?yo(c,!0):function(c){if(!Gt(c))return function(c){var u=[];if(null!=c)for(var d in Tt(c))u.push(d);return u}(c);var u=Bl(c),d=[];for(var v in c)"constructor"==v&&(u||!He.call(c,v))||d.push(v);return d}(c)}var Hv=Mo(function(c,u,d){Eo(c,u,d)}),qv=Mo(function(c,u,d,v){Eo(c,u,d,v)}),Nw=ss(function(c,u){var d={};if(null==c)return d;var v=!1;u=yt(u,function(P){return P=Ao(P,c),v||(v=P.length>1),P}),ui(c,Yd(c),d),v&&(d=Gi(d,7,Fm));for(var b=u.length;b--;)Dm(d,u[b]);return d}),Lw=ss(function(c,u){return null==c?{}:function(c,u){return Dl(c,u,function(d,v){return Lu(c,v)})}(c,u)});function Gv(c,u){if(null==c)return{};var d=yt(Yd(c),function(v){return[v]});return u=Ee(u),Dl(c,d,function(v,b){return u(v,b[0])})}var Bw=Vm(Si),jv=Vm(Wi);function xa(c){return null==c?[]:tm(c,Si(c))}var qw=Ea(function(c,u,d){return u=u.toLowerCase(),c+(d?Rf(u):u)});function Rf(c){return Vu(pt(c).toLowerCase())}function Nf(c){return(c=pt(c))&&c.replace(LS,vO).replace(GS,"")}var Uw=Ea(function(c,u,d){return c+(d?"-":"")+u.toLowerCase()}),jw=Ea(function(c,u,d){return c+(d?" ":"")+u.toLowerCase()}),nR=Nm("toLowerCase"),Yw=Ea(function(c,u,d){return c+(d?"_":"")+u.toLowerCase()}),$f=Ea(function(c,u,d){return c+(d?" ":"")+Vu(u)}),Jv=Ea(function(c,u,d){return c+(d?" ":"")+u.toUpperCase()}),Vu=Nm("toUpperCase");function qf(c,u,d){return c=pt(c),(u=d?M:u)===M?function(N){return Nn.test(N)}(c)?function(N){return N.match(dl)||[]}(c):function(N){return N.match(Hc)||[]}(c):c.match(u)||[]}var Gf=Je(function(c,u){try{return di(c,M,u)}catch(d){return cs(d)?d:new Oe(d)}}),Zv=ss(function(c,u){return Fi(u,function(d){d=os(d),Sn(c,d,wf(c[d],c))}),c});function Uf(c){return function(){return c}}var rR=EE(),Ma=EE(!0);function zi(c){return c}function $o(c){return mE("function"==typeof c?c:Gi(c,1))}var jf=Je(function(c,u){return function(d){return Al(d,c,u)}}),Xv=Je(function(c,u){return function(d){return Al(c,d,u)}});function Wf(c,u,d){var v=Si(u),b=va(u,v);null==d&&(!Gt(u)||!b.length&&v.length)&&(d=u,u=c,c=this,b=va(u,Si(u)));var P=!(Gt(d)&&"chain"in d&&!d.chain),x=Un(c);return Fi(b,function(O){var L=u[O];c[O]=L,x&&(c.prototype[O]=function(){var U=this.__chain__;if(P||U){var j=c(this.__wrapped__),Q=j.__actions__=gi(this.__actions__);return Q.push({func:L,args:arguments,thisArg:c}),j.__chain__=U,j}return L.apply(c,pi([this.value()],arguments))})}),c}function zf(){}var nC=jd(yt),sC=jd(Uc),ty=jd(gd);function Vo(c){return tf(c)?gl(os(c)):function(c){return function(u){return or(u,c)}}(c)}var rC=$m(),oC=$m(!0);function $r(){return[]}function Qf(){return!1}var xt=Ud(function(c,u){return c+u},0),Yf=zd("ceil"),aR=Ud(function(c,u){return c/u},1),cr=zd("floor"),ry=Ud(function(c,u){return c*u},1),oy=zd("round"),ay=Ud(function(c,u){return c-u},0);return k.after=function(c,u){if("function"!=typeof u)throw new vn($i);return c=Be(c),function(){if(--c<1)return u.apply(this,arguments)}},k.ary=Ef,k.assign=Aw,k.assignIn=Dw,k.assignInWith=Pa,k.assignWith=Tw,k.at=Lv,k.before=bv,k.bind=wf,k.bindAll=Zv,k.bindKey=Sv,k.castArray=function(){if(!arguments.length)return[];var c=arguments[0];return ye(c)?c:[c]},k.chain=hv,k.chunk=function(c,u,d){u=(d?xi(c,u,d):u===M)?1:li(Be(u),0);var v=null==c?0:c.length;if(!v||u<1)return[];for(var b=0,P=0,x=F(Wt(v/u));b<v;)x[P++]=Fn(c,b,b+=u);return x},k.compact=function(c){for(var u=-1,d=null==c?0:c.length,v=0,b=[];++u<d;){var P=c[u];P&&(b[v++]=P)}return b},k.concat=function(){var c=arguments.length;if(!c)return[];for(var u=F(c-1),d=arguments[0],v=c;v--;)u[v-1]=arguments[v];return pi(ye(d)?gi(d):[d],_i(u,1))},k.cond=function(c){var u=null==c?0:c.length,d=Ee();return c=u?yt(c,function(v){if("function"!=typeof v[1])throw new vn($i);return[d(v[0]),v[1]]}):[],Je(function(v){for(var b=-1;++b<u;){var P=c[b];if(di(P[0],this,v))return di(P[1],this,v)}})},k.conforms=function(c){return function(c){var u=Si(c);return function(d){return ym(d,c,u)}}(Gi(c,1))},k.constant=Uf,k.countBy=pv,k.create=function(c,u){var d=nr(c);return null==u?d:vm(d,u)},k.curry=function Bo(c,u,d){var v=qn(c,8,M,M,M,M,M,u=d?M:u);return v.placeholder=Bo.placeholder,v},k.curryRight=function as(c,u,d){var v=qn(c,16,M,M,M,M,M,u=d?M:u);return v.placeholder=as.placeholder,v},k.debounce=hw,k.defaults=Mw,k.defaultsDeep=zl,k.defer=WO,k.delay=Ev,k.difference=uf,k.differenceBy=hf,k.differenceWith=df,k.drop=function(c,u,d){var v=null==c?0:c.length;return v?Fn(c,(u=d||u===M?1:Be(u))<0?0:u,v):[]},k.dropRight=function(c,u,d){var v=null==c?0:c.length;return v?Fn(c,0,(u=v-(u=d||u===M?1:Be(u)))<0?0:u):[]},k.dropRightWhile=function(c,u){return c&&c.length?ba(c,Ee(u,3),!0,!0):[]},k.dropWhile=function(c,u){return c&&c.length?ba(c,Ee(u,3),!0):[]},k.fill=function(c,u,d,v){var b=null==c?0:c.length;return b?(d&&"number"!=typeof d&&xi(c,u,d)&&(d=0,v=b),function(c,u,d,v){var b=c.length;for((d=Be(d))<0&&(d=-d>b?0:b+d),(v=v===M||v>b?b:Be(v))<0&&(v+=b),v=d>v?0:xf(v);d<v;)c[d++]=u;return c}(c,u,d,v)):[]},k.filter=function(c,u){return(ye(c)?mn:ma)(c,Ee(u,3))},k.flatMap=function(c,u){return _i(Sf(c,u),1)},k.flatMapDeep=function(c,u){return _i(Sf(c,u),ro)},k.flatMapDepth=function(c,u,d){return d=d===M?1:Be(d),_i(Sf(c,u),d)},k.flatten=Fl,k.flattenDeep=function(c){return null!=c&&c.length?_i(c,ro):[]},k.flattenDepth=function(c,u){return null!=c&&c.length?_i(c,u=u===M?1:Be(u)):[]},k.flip=function(c){return qn(c,512)},k.flow=rR,k.flowRight=Ma,k.fromPairs=function(c){for(var u=-1,d=null==c?0:c.length,v={};++u<d;){var b=c[u];v[b[0]]=b[1]}return v},k.functions=function(c){return null==c?[]:va(c,Si(c))},k.functionsIn=function(c){return null==c?[]:va(c,Wi(c))},k.groupBy=mv,k.initial=function(c){return null!=c&&c.length?Fn(c,0,-1):[]},k.intersection=Du,k.intersectionBy=gf,k.intersectionWith=tv,k.invert=Bu,k.invertBy=Ow,k.invokeMap=vv,k.iteratee=$o,k.keyBy=sw,k.keys=Si,k.keysIn=Wi,k.map=Sf,k.mapKeys=function(c,u){var d={};return u=Ee(u,3),Ui(c,function(v,b,P){Sn(d,u(v,b,P),v)}),d},k.mapValues=function(c,u){var d={};return u=Ee(u,3),Ui(c,function(v,b,P){Sn(d,b,u(v,b,P))}),d},k.matches=function(c){return si(Gi(c,1))},k.matchesProperty=function(c,u){return du(c,Gi(u,1))},k.memoize=jl,k.merge=Hv,k.mergeWith=qv,k.method=jf,k.methodOf=Xv,k.mixin=Wf,k.negate=Cf,k.nthArg=function(c){return c=Be(c),Je(function(u){return wm(u,c)})},k.omit=Nw,k.omitBy=function(c,u){return Gv(c,Cf(Ee(u)))},k.once=function(c){return bv(2,c)},k.orderBy=function(c,u,d,v){return null==c?[]:(ye(u)||(u=null==u?[]:[u]),ye(d=v?M:d)||(d=null==d?[]:[d]),En(c,u,d))},k.over=nC,k.overArgs=dw,k.overEvery=sC,k.overSome=ty,k.partial=Iu,k.partialRight=Cv,k.partition=Mu,k.pick=Lw,k.pickBy=Gv,k.property=Vo,k.propertyOf=function(c){return function(u){return null==c?M:or(c,u)}},k.pull=OE,k.pullAll=nv,k.pullAllBy=function(c,u,d){return c&&c.length&&u&&u.length?ws(c,u,Ee(d,2)):c},k.pullAllWith=function(c,u,d){return c&&c.length&&u&&u.length?ws(c,u,M,d):c},k.pullAt=kn,k.range=rC,k.rangeRight=oC,k.rearg=fw,k.reject=function(c,u){return(ye(c)?mn:ma)(c,Cf(Ee(u,3)))},k.remove=function(c,u){var d=[];if(!c||!c.length)return d;var v=-1,b=[],P=c.length;for(u=Ee(u,3);++v<P;){var x=c[v];u(x,v,c)&&(d.push(x),b.push(v))}return Bd(c,b),d},k.rest=function(c,u){if("function"!=typeof c)throw new vn($i);return Je(c,u=u===M?u:Be(u))},k.reverse=Tu,k.sampleSize=function(c,u,d){return u=(d?xi(c,u,d):u===M)?1:Be(u),(ye(c)?fa:wn)(c,u)},k.set=function(c,u,d){return null==c?c:Co(c,u,d)},k.setWith=function(c,u,d,v){return v="function"==typeof v?v:M,null==c?c:Co(c,u,d,v)},k.shuffle=function(c){return(ye(c)?Id:Pm)(c)},k.slice=function(c,u,d){var v=null==c?0:c.length;return v?(d&&"number"!=typeof d&&xi(c,u,d)?(u=0,d=v):(u=null==u?0:Be(u),d=d===M?v:Be(d)),Fn(c,u,d)):[]},k.sortBy=uw,k.sortedUniq=function(c){return c&&c.length?Am(c):[]},k.sortedUniqBy=function(c,u){return c&&c.length?Am(c,Ee(u,2)):[]},k.split=function(c,u,d){return d&&"number"!=typeof d&&xi(c,u,d)&&(u=d=M),(d=d===M?ys:d>>>0)?(c=pt(c))&&("string"==typeof u||null!=u&&!Ov(u))&&!(u=ji(u))&&vl(c)?Hn(Dt(c),0,d):c.split(u,d):[]},k.spread=function(c,u){if("function"!=typeof c)throw new vn($i);return u=null==u?0:li(Be(u),0),Je(function(d){var v=d[u],b=Hn(d,0,u);return v&&pi(b,v),di(c,this,b)})},k.tail=function(c){var u=null==c?0:c.length;return u?Fn(c,1,u):[]},k.take=function(c,u,d){return c&&c.length?Fn(c,0,(u=d||u===M?1:Be(u))<0?0:u):[]},k.takeRight=function(c,u,d){var v=null==c?0:c.length;return v?Fn(c,(u=v-(u=d||u===M?1:Be(u)))<0?0:u,v):[]},k.takeRightWhile=function(c,u){return c&&c.length?ba(c,Ee(u,3),!1,!0):[]},k.takeWhile=function(c,u){return c&&c.length?ba(c,Ee(u,3)):[]},k.tap=function(c,u){return u(c),c},k.throttle=function(c,u,d){var v=!0,b=!0;if("function"!=typeof c)throw new vn($i);return Gt(d)&&(v="leading"in d?!!d.leading:v,b="trailing"in d?!!d.trailing:b),hw(c,u,{leading:v,maxWait:u,trailing:b})},k.thru=Gl,k.toArray=Rv,k.toPairs=Bw,k.toPairsIn=jv,k.toPath=function(c){return ye(c)?yt(c,os):jn(c)?[c]:gi(af(pt(c)))},k.toPlainObject=Nv,k.transform=function(c,u,d){var v=ye(c),b=v||Ds(c)||Wl(c);if(u=Ee(u,4),null==d){var P=c&&c.constructor;d=b?v?new P:[]:Gt(c)&&Un(P)?nr(Ae(c)):{}}return(b?Fi:Ui)(c,function(x,O,L){return u(d,x,O,L)}),d},k.unary=function(c){return Ef(c,1)},k.union=Ps,k.unionBy=ql,k.unionWith=ov,k.uniq=function(c){return c&&c.length?ns(c):[]},k.uniqBy=function(c,u){return c&&c.length?ns(c,Ee(u,2)):[]},k.uniqWith=function(c,u){return u="function"==typeof u?u:M,c&&c.length?ns(c,M,u):[]},k.unset=function(c,u){return null==c||Dm(c,u)},k.unzip=cv,k.unzipWith=WE,k.update=function(c,u,d){return null==c?c:_a(c,u,Tl(d))},k.updateWith=function(c,u,d,v){return v="function"==typeof v?v:M,null==c?c:_a(c,u,Tl(d),v)},k.values=xa,k.valuesIn=function(c){return null==c?[]:tm(c,Wi(c))},k.without=mf,k.words=qf,k.wrap=function(c,u){return Iu(Tl(u),c)},k.xor=vf,k.xorBy=yf,k.xorWith=HO,k.zip=qO,k.zipObject=function(c,u){return Tm(c||[],u||[],ou)},k.zipObjectDeep=function(c,u){return Tm(c||[],u||[],Co)},k.zipWith=KE,k.entries=Bw,k.entriesIn=jv,k.extend=Dw,k.extendWith=Pa,Wf(k,k),k.add=xt,k.attempt=Gf,k.camelCase=qw,k.capitalize=Rf,k.ceil=Yf,k.clamp=function(c,u,d){return d===M&&(d=u,u=M),d!==M&&(d=(d=sn(d))==d?d:0),u!==M&&(u=(u=sn(u))==u?u:0),sr(sn(c),u,d)},k.clone=function(c){return Gi(c,4)},k.cloneDeep=function(c){return Gi(c,5)},k.cloneDeepWith=function(c,u){return Gi(c,5,u="function"==typeof u?u:M)},k.cloneWith=function(c,u){return Gi(c,4,u="function"==typeof u?u:M)},k.conformsTo=function(c,u){return null==u||ym(c,u,Si(u))},k.deburr=Nf,k.defaultTo=function(c,u){return null==c||c!=c?u:c},k.divide=aR,k.endsWith=function(c,u,d){c=pt(c),u=ji(u);var v=c.length,b=d=d===M?v:sr(Be(d),0,v);return(d-=u.length)>=0&&c.slice(d,b)==u},k.eq=ge,k.escape=function(c){return(c=pt(c))&&rd.test(c)?c.replace(Fc,yO):c},k.escapeRegExp=function(c){return(c=pt(c))&&od.test(c)?c.replace(Hg,"\\$&"):c},k.every=function(c,u,d){var v=ye(c)?Uc:dE;return d&&xi(c,u,d)&&(u=M),v(c,Ee(u,3))},k.find=tw,k.findIndex=ff,k.findKey=function(c,u){return pl(c,Ee(u,3),Ui)},k.findLast=iw,k.findLastIndex=Au,k.findLastKey=function(c,u){return pl(c,Ee(u,3),en)},k.floor=cr,k.forEach=ka,k.forEachRight=gv,k.forIn=function(c,u){return null==c?c:uu(c,Ee(u,3),Wi)},k.forInRight=function(c,u){return null==c?c:Nd(c,Ee(u,3),Wi)},k.forOwn=function(c,u){return c&&Ui(c,Ee(u,3))},k.forOwnRight=function(c,u){return c&&en(c,Ee(u,3))},k.get=Ql,k.gt=H,k.gte=Av,k.has=function(c,u){return null!=c&&Xd(c,u,Pl)},k.hasIn=Lu,k.head=ev,k.identity=zi,k.includes=function(c,u,d,v){c=nn(c)?c:xa(c),d=d&&!v?Be(d):0;var b=c.length;return d<0&&(d=li(b+d,0)),Df(c)?d<=b&&c.indexOf(u,d)>-1:!!b&&Jt(c,u,d)>-1},k.indexOf=function(c,u,d){var v=null==c?0:c.length;if(!v)return-1;var b=null==d?0:Be(d);return b<0&&(b=li(v+b,0)),Jt(c,u,b)},k.inRange=function(c,u,d){return u=Ts(u),d===M?(d=u,u=0):d=Ts(d),function(c,u,d){return c>=ci(u,d)&&c<li(u,d)}(c=sn(c),u,d)},k.invoke=Vv,k.isArguments=As,k.isArray=ye,k.isArrayBuffer=Dv,k.isArrayLike=nn,k.isArrayLikeObject=qt,k.isBoolean=function(c){return!0===c||!1===c||Ut(c)&&ni(c)==ea},k.isBuffer=Ds,k.isDate=Tv,k.isElement=function(c){return Ut(c)&&1===c.nodeType&&!Nu(c)},k.isEmpty=function(c){if(null==c)return!0;if(nn(c)&&(ye(c)||"string"==typeof c||"function"==typeof c.splice||Ds(c)||Wl(c)||As(c)))return!c.length;var u=bi(c);if(u==Zn||u==Qi)return!c.size;if(Bl(c))return!Em(c).length;for(var d in c)if(He.call(c,d))return!1;return!0},k.isEqual=function(c,u){return hu(c,u)},k.isEqualWith=function(c,u,d){var v=(d="function"==typeof d?d:M)?d(c,u):M;return v===M?hu(c,u,M,d):!!v},k.isError=cs,k.isFinite=function(c){return"number"==typeof c&&Xc(c)},k.isFunction=Un,k.isInteger=Ru,k.isLength=Pf,k.isMap=Ew,k.isMatch=function(c,u){return c===u||Sm(c,u,Jd(u))},k.isMatchWith=function(c,u,d){return d="function"==typeof d?d:M,Sm(c,u,Jd(u),d)},k.isNaN=function(c){return kw(c)&&c!=+c},k.isNative=function(c){if(PE(c))throw new Oe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return gE(c)},k.isNil=function(c){return null==c},k.isNull=function(c){return null===c},k.isNumber=kw,k.isObject=Gt,k.isObjectLike=Ut,k.isPlainObject=Nu,k.isRegExp=Ov,k.isSafeInteger=function(c){return Ru(c)&&c>=-Cr&&c<=Cr},k.isSet=Pw,k.isString=Df,k.isSymbol=jn,k.isTypedArray=Wl,k.isUndefined=function(c){return c===M},k.isWeakMap=function(c){return Ut(c)&&bi(c)==$c},k.isWeakSet=function(c){return Ut(c)&&"[object WeakSet]"==ni(c)},k.join=function(c,u){return null==c?"":wd.call(c,u)},k.kebabCase=Uw,k.last=Cn,k.lastIndexOf=function(c,u,d){var v=null==c?0:c.length;if(!v)return-1;var b=v;return d!==M&&(b=(b=Be(d))<0?li(v+b,0):ci(b,v-1)),u==u?function(N,G,F){for(var oe=F+1;oe--;)if(N[oe]===G)return oe;return oe}(c,u,b):_s(c,es,b,!0)},k.lowerCase=jw,k.lowerFirst=nR,k.lt=Lr,k.lte=Tf,k.max=function(c){return c&&c.length?lu(c,zi,Or):M},k.maxBy=function(c,u){return c&&c.length?lu(c,Ee(u,2),Or):M},k.mean=function(c){return Ln(c,zi)},k.meanBy=function(c,u){return Ln(c,Ee(u,2))},k.min=function(c){return c&&c.length?lu(c,zi,So):M},k.minBy=function(c,u){return c&&c.length?lu(c,Ee(u,2),So):M},k.stubArray=$r,k.stubFalse=Qf,k.stubObject=function(){return{}},k.stubString=function(){return""},k.stubTrue=function(){return!0},k.multiply=ry,k.nth=function(c,u){return c&&c.length?wm(c,Be(u)):M},k.noConflict=function(){return bt._===this&&(bt._=rm),this},k.noop=zf,k.now=Ul,k.pad=function(c,u,d){c=pt(c);var v=(u=Be(u))?uo(c):0;if(!u||v>=u)return c;var b=(u-v)/2;return vu(_l(b),d)+c+vu(Wt(b),d)},k.padEnd=function(c,u,d){c=pt(c);var v=(u=Be(u))?uo(c):0;return u&&v<u?c+vu(u-v,d):c},k.padStart=function(c,u,d){c=pt(c);var v=(u=Be(u))?uo(c):0;return u&&v<u?vu(u-v,d)+c:c},k.parseInt=function(c,u,d){return d||null==u?u=0:u&&(u=+u),qi(pt(c).replace(Ie,""),u||0)},k.random=function(c,u,d){if(d&&"boolean"!=typeof d&&xi(c,u,d)&&(u=d=M),d===M&&("boolean"==typeof u?(d=u,u=M):"boolean"==typeof c&&(d=c,c=M)),c===M&&u===M?(c=0,u=1):(c=Ts(c),u===M?(u=c,c=0):u=Ts(u)),c>u){var v=c;c=u,u=v}if(d||c%1||u%1){var b=is();return ci(c+b*(u-c+Ji("1e-"+((b+"").length-1))),u)}return $d(c,u)},k.reduce=function(c,u,d){var v=ye(c)?St:ml,b=arguments.length<3;return v(c,Ee(u,4),d,b,rr)},k.reduceRight=function(c,u,d){var v=ye(c)?zS:ml,b=arguments.length<3;return v(c,Ee(u,4),d,b,Rd)},k.repeat=function(c,u,d){return u=(d?xi(c,u,d):u===M)?1:Be(u),Cm(pt(c),u)},k.replace=function(){var c=arguments,u=pt(c[0]);return c.length<3?u:u.replace(c[1],c[2])},k.result=function(c,u,d){var v=-1,b=(u=Ao(u,c)).length;for(b||(b=1,c=M);++v<b;){var P=null==c?M:c[os(u[v])];P===M&&(v=b,P=d),c=Un(P)?P.call(c):P}return c},k.round=oy,k.runInContext=N,k.sample=function(c){return(ye(c)?gm:km)(c)},k.size=function(c){if(null==c)return 0;if(nn(c))return Df(c)?uo(c):c.length;var u=bi(c);return u==Zn||u==Qi?c.size:Em(c).length},k.snakeCase=Yw,k.some=function(c,u,d){var v=ye(c)?gd:_E;return d&&xi(c,u,d)&&(u=M),v(c,Ee(u,3))},k.sortedIndex=function(c,u){return fu(c,u)},k.sortedIndexBy=function(c,u,d){return Vd(c,u,Ee(d,2))},k.sortedIndexOf=function(c,u){var d=null==c?0:c.length;if(d){var v=fu(c,u);if(v<d&&ge(c[v],u))return v}return-1},k.sortedLastIndex=function(c,u){return fu(c,u,!0)},k.sortedLastIndexBy=function(c,u,d){return Vd(c,u,Ee(d,2),!0)},k.sortedLastIndexOf=function(c,u){if(null!=c&&c.length){var v=fu(c,u,!0)-1;if(ge(c[v],u))return v}return-1},k.startCase=$f,k.startsWith=function(c,u,d){return c=pt(c),d=null==d?0:sr(Be(d),0,c.length),u=ji(u),c.slice(d,d+u.length)==u},k.subtract=ay,k.sum=function(c){return c&&c.length?vd(c,zi):0},k.sumBy=function(c,u){return c&&c.length?vd(c,Ee(u,2)):0},k.template=function(c,u,d){var v=k.templateSettings;d&&xi(c,u,d)&&(u=M),c=pt(c),u=Pa({},u,v,Di);var O,L,b=Pa({},u.imports,v.imports,Di),P=Si(b),x=tm(b,P),U=0,j=u.interpolate||ad,Q="__p += '",ee=Nt((u.escape||ad).source+"|"+j.source+"|"+(j===pe?RS:ad).source+"|"+(u.evaluate||ad).source+"|$","g"),he="//# sourceURL="+(He.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Yg+"]")+"\n";c.replace(ee,function(De,ze,st,rn,Mi,Wn){return st||(st=rn),Q+=c.slice(U,Wn).replace(BS,_O),ze&&(O=!0,Q+="' +\n__e("+ze+") +\n'"),Mi&&(L=!0,Q+="';\n"+Mi+";\n__p += '"),st&&(Q+="' +\n((__t = ("+st+")) == null ? '' : __t) +\n'"),U=Wn+De.length,De}),Q+="';\n";var ke=He.call(u,"variable")&&u.variable;if(ke){if(pn.test(ke))throw new Oe("Invalid `variable` option passed into `_.template`")}else Q="with (obj) {\n"+Q+"\n}\n";Q=(L?Q.replace(TS,""):Q).replace(xS,"$1").replace(MS,"$1;"),Q="function("+(ke||"obj")+") {\n"+(ke?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(O?", __e = _.escape":"")+(L?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Q+"return __p\n}";var We=Gf(function(){return ft(P,he+"return "+Q).apply(M,x)});if(We.source=Q,cs(We))throw We;return We},k.times=function(c,u){if((c=Be(c))<1||c>Cr)return[];var d=ys,v=ci(c,ys);u=Ee(u),c-=ys;for(var b=Xg(v,u);++d<c;)u(d);return b},k.toFinite=Ts,k.toInteger=Be,k.toLength=xf,k.toLower=function(c){return pt(c).toLowerCase()},k.toNumber=sn,k.toSafeInteger=function(c){return c?sr(Be(c),-Cr,Cr):0===c?c:0},k.toString=pt,k.toUpper=function(c){return pt(c).toUpperCase()},k.trim=function(c,u,d){if((c=pt(c))&&(d||u===M))return em(c);if(!c||!(u=ji(u)))return c;var v=Dt(c),b=Dt(u);return Hn(v,YS(v,b),JS(v,b)+1).join("")},k.trimEnd=function(c,u,d){if((c=pt(c))&&(d||u===M))return c.slice(0,bd(c)+1);if(!c||!(u=ji(u)))return c;var v=Dt(c);return Hn(v,0,JS(v,Dt(u))+1).join("")},k.trimStart=function(c,u,d){if((c=pt(c))&&(d||u===M))return c.replace(Ie,"");if(!c||!(u=ji(u)))return c;var v=Dt(c);return Hn(v,YS(v,Dt(u))).join("")},k.truncate=function(c,u){var d=30,v="...";if(Gt(u)){var b="separator"in u?u.separator:b;d="length"in u?Be(u.length):d,v="omission"in u?ji(u.omission):v}var P=(c=pt(c)).length;if(vl(c)){var x=Dt(c);P=x.length}if(d>=P)return c;var O=d-uo(v);if(O<1)return v;var L=x?Hn(x,0,O).join(""):c.slice(0,O);if(b===M)return L+v;if(x&&(O+=L.length-O),Ov(b)){if(c.slice(O).search(b)){var U,j=L;for(b.global||(b=Nt(b.source,pt(NS.exec(b))+"g")),b.lastIndex=0;U=b.exec(j);)var Q=U.index;L=L.slice(0,Q===M?O:Q)}}else if(c.indexOf(ji(b),O)!=O){var ee=L.lastIndexOf(b);ee>-1&&(L=L.slice(0,ee))}return L+v},k.unescape=function(c){return(c=pt(c))&&qe.test(c)?c.replace(ut,ZS):c},k.uniqueId=function(c){var u=++tE;return pt(c)+u},k.upperCase=Jv,k.upperFirst=Vu,k.each=ka,k.eachRight=gv,k.first=ev,Wf(k,function(){var c={};return Ui(k,function(u,d){He.call(k.prototype,d)||(c[d]=u)}),c}(),{chain:!1}),k.VERSION="4.17.21",Fi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){k[c].placeholder=k}),Fi(["drop","take"],function(c,u){Ce.prototype[c]=function(d){d=d===M?1:li(Be(d),0);var v=this.__filtered__&&!u?new Ce(this):this.clone();return v.__filtered__?v.__takeCount__=ci(d,v.__takeCount__):v.__views__.push({size:ci(d,ys),type:c+(v.__dir__<0?"Right":"")}),v},Ce.prototype[c+"Right"]=function(d){return this.reverse()[c](d).reverse()}}),Fi(["filter","map","takeWhile"],function(c,u){var d=u+1,v=1==d||3==d;Ce.prototype[c]=function(b){var P=this.clone();return P.__iteratees__.push({iteratee:Ee(b,3),type:d}),P.__filtered__=P.__filtered__||v,P}}),Fi(["head","last"],function(c,u){var d="take"+(u?"Right":"");Ce.prototype[c]=function(){return this[d](1).value()[0]}}),Fi(["initial","tail"],function(c,u){var d="drop"+(u?"":"Right");Ce.prototype[c]=function(){return this.__filtered__?new Ce(this):this[d](1)}}),Ce.prototype.compact=function(){return this.filter(zi)},Ce.prototype.find=function(c){return this.filter(c).head()},Ce.prototype.findLast=function(c){return this.reverse().find(c)},Ce.prototype.invokeMap=Je(function(c,u){return"function"==typeof c?new Ce(this):this.map(function(d){return Al(d,c,u)})}),Ce.prototype.reject=function(c){return this.filter(Cf(Ee(c)))},Ce.prototype.slice=function(c,u){c=Be(c);var d=this;return d.__filtered__&&(c>0||u<0)?new Ce(d):(c<0?d=d.takeRight(-c):c&&(d=d.drop(c)),u!==M&&(d=(u=Be(u))<0?d.dropRight(-u):d.take(u-c)),d)},Ce.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},Ce.prototype.toArray=function(){return this.take(ys)},Ui(Ce.prototype,function(c,u){var d=/^(?:filter|find|map|reject)|While$/.test(u),v=/^(?:head|last)$/.test(u),b=k[v?"take"+("last"==u?"Right":""):u],P=v||/^find/.test(u);!b||(k.prototype[u]=function(){var x=this.__wrapped__,O=v?[1]:arguments,L=x instanceof Ce,U=O[0],j=L||ye(x),Q=function(ze){var st=b.apply(k,pi([ze],O));return v&&ee?st[0]:st};j&&d&&"function"==typeof U&&1!=U.length&&(L=j=!1);var ee=this.__chain__,he=!!this.__actions__.length,ke=P&&!ee,We=L&&!he;if(!P&&j){x=We?x:new Ce(this);var De=c.apply(x,O);return De.__actions__.push({func:Gl,args:[Q],thisArg:M}),new $n(De,ee)}return ke&&We?c.apply(this,O):(De=this.thru(Q),ke?v?De.value()[0]:De.value():De)})}),Fi(["pop","push","shift","sort","splice","unshift"],function(c){var u=zc[c],d=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",v=/^(?:pop|shift)$/.test(c);k.prototype[c]=function(){var b=arguments;if(v&&!this.__chain__){var P=this.value();return u.apply(ye(P)?P:[],b)}return this[d](function(x){return u.apply(ye(x)?x:[],b)})}}),Ui(Ce.prototype,function(c,u){var d=k[u];if(d){var v=d.name+"";He.call(xr,v)||(xr[v]=[]),xr[v].push({name:u,func:d})}}),xr[Il(M,2).name]=[{name:"wrapper",func:M}],Ce.prototype.clone=function(){var c=new Ce(this.__wrapped__);return c.__actions__=gi(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=gi(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=gi(this.__views__),c},Ce.prototype.reverse=function(){if(this.__filtered__){var c=new Ce(this);c.__dir__=-1,c.__filtered__=!0}else(c=this.clone()).__dir__*=-1;return c},Ce.prototype.value=function(){var c=this.__wrapped__.value(),u=this.__dir__,d=ye(c),v=u<0,b=d?c.length:0,P=function(c,u,d){for(var v=-1,b=d.length;++v<b;){var P=d[v],x=P.size;switch(P.type){case"drop":c+=x;break;case"dropRight":u-=x;break;case"take":u=ci(u,c+x);break;case"takeRight":c=li(c,u-x)}}return{start:c,end:u}}(0,b,this.__views__),x=P.start,O=P.end,L=O-x,U=v?O:x-1,j=this.__iteratees__,Q=j.length,ee=0,he=ci(L,this.__takeCount__);if(!d||!v&&b==L&&he==L)return Po(c,this.__actions__);var ke=[];e:for(;L--&&ee<he;){for(var We=-1,De=c[U+=u];++We<Q;){var ze=j[We],rn=ze.type,Mi=(0,ze.iteratee)(De);if(2==rn)De=Mi;else if(!Mi){if(1==rn)continue e;break e}}ke[ee++]=De}return ke},k.prototype.at=xu,k.prototype.chain=function(){return hv(this)},k.prototype.commit=function(){return new $n(this.value(),this.__chain__)},k.prototype.next=function(){this.__values__===M&&(this.__values__=Rv(this.value()));var c=this.__index__>=this.__values__.length;return{done:c,value:c?M:this.__values__[this.__index__++]}},k.prototype.plant=function(c){for(var u,d=this;d instanceof iu;){var v=cf(d);v.__index__=0,v.__values__=M,u?b.__wrapped__=v:u=v;var b=v;d=d.__wrapped__}return b.__wrapped__=c,u},k.prototype.reverse=function(){var c=this.__wrapped__;if(c instanceof Ce){var u=c;return this.__actions__.length&&(u=new Ce(this)),(u=u.reverse()).__actions__.push({func:Gl,args:[Tu],thisArg:M}),new $n(u,this.__chain__)}return this.thru(Tu)},k.prototype.toJSON=k.prototype.valueOf=k.prototype.value=function(){return Po(this.__wrapped__,this.__actions__)},k.prototype.first=k.prototype.head,ua&&(k.prototype[ua]=function(){return this}),k}();bt._=la,(Jn=function(){return la}.call(Mt,Qt,Mt,Kt))!==M&&(Kt.exports=Jn)}.call(this)},471:(Kt,Mt,Qt)=>{"use strict";var Jn={};function M(n){return"function"==typeof n}Qt.r(Jn),Qt.d(Jn,{afterMain:()=>F3,afterRead:()=>B3,afterWrite:()=>G3,applyStyles:()=>fM,arrow:()=>J3,auto:()=>Sb,basePlacements:()=>kh,beforeMain:()=>$3,beforeRead:()=>N3,beforeWrite:()=>H3,bottom:()=>us,clippingParents:()=>O3,computeStyles:()=>vM,createPopper:()=>CM,createPopperBase:()=>j9,createPopperLite:()=>K9,detectOverflow:()=>Mh,end:()=>Ph,eventListeners:()=>yM,flip:()=>n$,hide:()=>o$,left:()=>In,main:()=>V3,modifierPhases:()=>U3,offset:()=>a$,placements:()=>hM,popper:()=>Ah,popperGenerator:()=>Pb,popperOffsets:()=>wM,preventOverflow:()=>l$,read:()=>L3,reference:()=>R3,right:()=>hs,start:()=>gc,top:()=>Mn,variationPlacements:()=>uM,viewport:()=>cM,write:()=>q3});let Qh=!1;const dn={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else Qh&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Qh=n},get useDeprecatedSynchronousErrorHandling(){return Qh}};function Jo(n){setTimeout(()=>{throw n},0)}const $i={closed:!0,next(n){},error(n){if(dn.useDeprecatedSynchronousErrorHandling)throw n;Jo(n)},complete(){}},nl=Array.isArray||(n=>n&&"number"==typeof n.length);function sl(n){return null!==n&&"object"==typeof n}const eo=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class tt{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof tt)e.remove(this);else if(null!==e)for(let o=0;o<e.length;++o)e[o].remove(this);if(M(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(o){t=o instanceof eo?Yh(o.errors):[o]}}if(nl(r)){let o=-1,a=r.length;for(;++o<a;){const l=r[o];if(sl(l))try{l.unsubscribe()}catch(h){t=t||[],h instanceof eo?t=t.concat(Yh(h.errors)):t.push(h)}}}if(t)throw new eo(t)}add(t){let e=t;if(!t)return tt.EMPTY;switch(typeof t){case"function":e=new tt(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof tt)){const r=e;e=new tt,e._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof tt){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[e]:s.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function Yh(n){return n.reduce((t,e)=>t.concat(e instanceof eo?e.errors:e),[])}tt.EMPTY=((n=new tt).closed=!0,n);const Qs="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Rt extends tt{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=$i;break;case 1:if(!t){this.destination=$i;break}if("object"==typeof t){t instanceof Rt?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new fn(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new fn(this,t,e,i)}}[Qs](){return this}static create(t,e,i){const s=new Rt(t,e,i);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class fn extends Rt{constructor(t,e,i,s){super(),this._parentSubscriber=t;let r,o=this;M(e)?r=e:e&&(r=e.next,i=e.error,s=e.complete,e!==$i&&(o=Object.create(e),M(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=r,this._error=i,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;dn.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=dn;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):Jo(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;Jo(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);dn.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),dn.useDeprecatedSynchronousErrorHandling)throw i;Jo(i)}}__tryOrSetError(t,e,i){if(!dn.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(s){return dn.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(Jo(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const Ki="function"==typeof Symbol&&Symbol.observable||"@@observable";function io(n){return n}let Ye=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,s){const{operator:r}=this,o=function(n,t,e){if(n){if(n instanceof Rt)return n;if(n[Qs])return n[Qs]()}return n||t||e?new Rt(n,t,e):new Rt($i)}(e,i,s);if(o.add(r?r.call(o,this.source):this.source||dn.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),dn.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){dn.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof Rt?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=Zo(i))((s,r)=>{let o;o=this.subscribe(a=>{try{e(a)}catch(l){r(l),o&&o.unsubscribe()}},r,s)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[Ki](){return this}pipe(...e){return 0===e.length?this:function(n){return 0===n.length?io:1===n.length?n[0]:function(e){return n.reduce((i,s)=>s(i),e)}}(e)(this)}toPromise(e){return new(e=Zo(e))((i,s)=>{let r;this.subscribe(o=>r=o,o=>s(o),()=>i(r))})}}return n.create=t=>new n(t),n})();function Zo(n){if(n||(n=dn.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const so=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class Og extends tt{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class Rg extends Rt{constructor(t){super(t),this.destination=t}}let Ze=(()=>{class n extends Ye{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Qs](){return new Rg(this)}lift(e){const i=new Jh(this,this);return i.operator=e,i}next(e){if(this.closed)throw new so;if(!this.isStopped){const{observers:i}=this,s=i.length,r=i.slice();for(let o=0;o<s;o++)r[o].next(e)}}error(e){if(this.closed)throw new so;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,s=i.length,r=i.slice();for(let o=0;o<s;o++)r[o].error(e);this.observers.length=0}complete(){if(this.closed)throw new so;this.isStopped=!0;const{observers:e}=this,i=e.length,s=e.slice();for(let r=0;r<i;r++)s[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new so;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new so;return this.hasError?(e.error(this.thrownError),tt.EMPTY):this.isStopped?(e.complete(),tt.EMPTY):(this.observers.push(e),new Og(this,e))}asObservable(){const e=new Ye;return e.source=this,e}}return n.create=(t,e)=>new Jh(t,e),n})();class Jh extends Ze{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):tt.EMPTY}}function ol(n){return n&&"function"==typeof n.schedule}function vs(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new ro(n,t))}}class ro{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new Cr(t,this.project,this.thisArg))}}class Cr extends Rt{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const Ng=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},Ic="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",al=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Lg(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const ea=n=>{if(n&&"function"==typeof n[Ki])return(n=>t=>{const e=n[Ki]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(al(n))return Ng(n);if(Lg(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Jo),t))(n);if(n&&"function"==typeof n[Ic])return(n=>t=>{const e=n[Ic]();for(;;){let i;try{i=e.next()}catch(s){return t.error(s),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${sl(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function ta(n,t){return new Ye(e=>{const i=new tt;let s=0;return i.add(t.schedule(function(){s!==n.length?(e.next(n[s++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function Rc(n,t){return t?function(n,t){if(null!=n){if(function(n){return n&&"function"==typeof n[Ki]}(n))return function(n,t){return new Ye(e=>{const i=new tt;return i.add(t.schedule(()=>{const s=n[Ki]();i.add(s.subscribe({next(r){i.add(t.schedule(()=>e.next(r)))},error(r){i.add(t.schedule(()=>e.error(r)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(Lg(n))return function(n,t){return new Ye(e=>{const i=new tt;return i.add(t.schedule(()=>n.then(s=>{i.add(t.schedule(()=>{e.next(s),i.add(t.schedule(()=>e.complete()))}))},s=>{i.add(t.schedule(()=>e.error(s)))}))),i})}(n,t);if(al(n))return ta(n,t);if(function(n){return n&&"function"==typeof n[Ic]}(n)||"string"==typeof n)return function(n,t){if(!n)throw new Error("Iterable cannot be null");return new Ye(e=>{const i=new tt;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(t.schedule(()=>{s=n[Ic](),i.add(t.schedule(function(){if(e.closed)return;let r,o;try{const a=s.next();r=a.value,o=a.done}catch(a){return void e.error(a)}o?e.complete():(e.next(r),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof Ye?n:new Ye(ea(n))}class Rn extends Rt{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Nc extends Rt{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function Qi(n,t){if(t.closed)return;if(n instanceof Ye)return n.subscribe(t);let e;try{e=ea(n)(t)}catch(i){t.error(i)}return e}function oo(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(oo((s,r)=>Rc(n(s,r)).pipe(vs((o,a)=>t(s,o,r,a))),e)):("number"==typeof t&&(e=t),i=>i.lift(new Bc(n,e)))}class Bc{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new DS(t,this.project,this.concurrent))}}class DS extends Nc{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Rn(this),i=this.destination;i.add(e);const s=Qi(t,e);s!==e&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function $g(n=Number.POSITIVE_INFINITY){return oo(io,n)}function ia(n,t){return t?ta(n,t):new Ye(Ng(n))}function kr(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return ol(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof Ye?n[0]:$g(t)(ia(n,e))}function Vc(){return function(t){return t.lift(new Zh(t))}}class Zh{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const s=new Xh(t,i),r=e.subscribe(s);return s.closed||(s.connection=i.connect()),r}}class Xh extends Rt{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,s=t._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()}}class ed extends Ye{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new tt,t.add(this.source.subscribe(new id(this.getSubject(),this))),t.closed&&(this._connection=null,t=tt.EMPTY)),t}refCount(){return Vc()(this)}}const td=(()=>{const n=ed.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class id extends Rg{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function xS(){return new Ze}function ut(n){for(let t in n)if(n[t]===ut)return t;throw Error("Could not find renamed property on target object.")}function Fc(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function qe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(qe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function rd(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const IS=ut({__forward_ref__:ut});function wt(n){return n.__forward_ref__=wt,n.toString=function(){return qe(this())},n}function pe(n){return Fg(n)?n():n}function Fg(n){return"function"==typeof n&&n.hasOwnProperty(IS)&&n.__forward_ref__===wt}class Pr extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function Ie(n){return"string"==typeof n?n:null==n?"":String(n)}function Vi(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ie(n)}function Hc(n,t){const e=t?` in ${t}`:"";throw new Pr("201",`No provider for ${Vi(n)} found${e}`)}function gn(n,t){null==n&&function(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function le(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function jt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Zs(n){return qg(n,na)||qg(n,hd)}function qg(n,t){return n.hasOwnProperty(t)?n[t]:null}function cd(n){return n&&(n.hasOwnProperty(ud)||n.hasOwnProperty(qc))?n[ud]:null}const na=ut({\u0275prov:ut}),ud=ut({\u0275inj:ut}),hd=ut({ngInjectableDef:ut}),qc=ut({ngInjectorDef:ut});var Se=(()=>((Se=Se||{})[Se.Default=0]="Default",Se[Se.Host=1]="Host",Se[Se.Self=2]="Self",Se[Se.SkipSelf=4]="SkipSelf",Se[Se.Optional=8]="Optional",Se))();let dd;function Xs(n){const t=dd;return dd=n,t}function Gc(n,t,e){const i=Zs(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Se.Optional?null:void 0!==t?t:void Hc(qe(n),"Injector")}function er(n){return{toString:n}.toString()}var Yi=(()=>((Yi=Yi||{})[Yi.OnPush=0]="OnPush",Yi[Yi.Default=1]="Default",Yi))(),Yt=(()=>((Yt=Yt||{})[Yt.Emulated=0]="Emulated",Yt[Yt.None=2]="None",Yt[Yt.ShadowDom=3]="ShadowDom",Yt))();const zg="undefined"!=typeof globalThis&&globalThis,FS="undefined"!=typeof window&&window,Kg="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,dt=zg||"undefined"!=typeof global&&global||FS||Kg,sa={},_t=[],hl=ut({\u0275cmp:ut}),fd=ut({\u0275dir:ut}),pd=ut({\u0275pipe:ut}),Qg=ut({\u0275mod:ut}),GS=ut({\u0275loc:ut}),Xn=ut({\u0275fac:ut}),dl=ut({__NG_ELEMENT_ID__:ut});let US=0;function Nn(n){return er(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Yi.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||_t,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Yt.Emulated,id:"c",styles:n.styles||_t,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,r=n.features,o=n.pipes;return i.id+=US++,i.inputs=Jg(n.inputs,e),i.outputs=Jg(n.outputs),r&&r.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Yg):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(At):null,i})}function Yg(n){return Pi(n)||function(n){return n[fd]||null}(n)}function At(n){return function(n){return n[pd]||null}(n)}const kt={};function ti(n){return er(()=>{const t={type:n.type,bootstrap:n.bootstrap||_t,declarations:n.declarations||_t,imports:n.imports||_t,exports:n.exports||_t,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(kt[n.id]=n.type),t})}function Jg(n,t){if(null==n)return sa;const e={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),e[s]=i,t&&(t[s]=r)}return e}const ue=Nn;function Ji(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Pi(n){return n[hl]||null}function bt(n,t){const e=n[Qg]||null;if(!e&&!0===t)throw new Error(`Type ${qe(n)} does not have '\u0275mod' property.`);return e}function es(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ln(n){return Array.isArray(n)&&!0===n[1]}function gl(n){return 0!=(8&n.flags)}function aa(n){return 2==(2&n.flags)}function ml(n){return 1==(1&n.flags)}function ts(n){return null!==n.template}function vd(n){return 0!=(512&n[2])}function co(n,t){return n.hasOwnProperty(Xn)?n[Xn]:null}class uo{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Dt(){return bd}function bd(n){return n.type.prototype.ngOnChanges&&(n.setInput=XS),ZS}function ZS(){const n=sm(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===sa)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function XS(n,t,e,i){const s=sm(n)||function(n,t){return n[nm]=t}(n,{previous:sa,current:null}),r=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[e],l=o[a];r[a]=new uo(l&&l.currentValue,t,o===sa),n[i]=t}Dt.ngInherit=!0;const nm="__ngSimpleChanges__";function sm(n){return n[nm]||null}const F="http://www.w3.org/2000/svg";let Oe;function Nt(n){return!!n.listen}const vn={createRenderer:(n,t)=>void 0!==Oe?Oe:"undefined"!=typeof document?document:void 0};function ii(n){for(;Array.isArray(n);)n=n[0];return n}function ho(n,t){return ii(t[n])}function He(n,t){return ii(t[n.index])}function Kc(n,t){return n.data[t]}function yn(n,t){const e=t[n];return es(e)?e:e[0]}function rm(n){return 4==(4&n[2])}function Ed(n){return 128==(128&n[2])}function Hi(n,t){return null==t?null:n[t]}function yl(n){n[18]=0}function Yc(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Ae={lFrame:da(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ua(){return Ae.bindingsEnabled}function K(){return Ae.lFrame.lView}function lt(){return Ae.lFrame.tView}function Lt(n){return Ae.lFrame.contextLView=n,n[8]}function Wt(){let n=_l();for(;null!==n&&64===n.type;)n=n.parent;return n}function _l(){return Ae.lFrame.currentTNode}function Ss(n,t){const e=Ae.lFrame;e.currentTNode=n,e.isParent=t}function Xc(){return Ae.lFrame.isParent}function wd(){Ae.lFrame.isParent=!1}function ci(){return Ae.isInCheckNoChangesMode}function eu(n){Ae.isInCheckNoChangesMode=n}function qi(){const n=Ae.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function is(){return Ae.lFrame.bindingIndex}function Tr(){return Ae.lFrame.bindingIndex++}function _n(n){const t=Ae.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function bl(n,t){const e=Ae.lFrame;e.bindingIndex=e.bindingRootIndex=n,ha(t)}function ha(n){Ae.lFrame.currentDirectiveIndex=n}function cm(){return Ae.lFrame.currentQueryIndex}function kd(n){Ae.lFrame.currentQueryIndex=n}function nE(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function um(n,t,e){if(e&Se.SkipSelf){let s=t,r=n;for(;!(s=s.parent,null!==s||e&Se.Host||(s=nE(r),null===s||(r=r[15],10&s.type))););if(null===s)return!1;t=s,n=r}const i=Ae.lFrame=El();return i.currentTNode=t,i.lView=n,!0}function tu(n){const t=El(),e=n[1];Ae.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function El(){const n=Ae.lFrame,t=null===n?null:n.child;return null===t?da(n):t}function da(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Pd(){const n=Ae.lFrame;return Ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const k=Pd;function nr(){const n=Pd();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ce(){return Ae.lFrame.selectedIndex}function Mr(n){Ae.lFrame.selectedIndex=n}function Ht(){const n=Ae.lFrame;return Kc(n.tView,n.selectedIndex)}function Ad(){Ae.lFrame.currentNamespace=F}function Dd(){Ae.lFrame.currentNamespace=null}function nu(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const r=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:h,ngOnDestroy:f}=r;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),h&&((n.viewHooks||(n.viewHooks=[])).push(e,h),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,h)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(e,f)}}function Vn(n,t,e){hm(n,t,3,e)}function su(n,t,e,i){(3&n[2])===e&&hm(n,t,e,i)}function Td(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function hm(n,t,e,i){const r=null!=i?i:-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<r||-1==r)&&(aE(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function aE(n,t,e,i){const s=e[i]<0,r=e[i+1],a=n[s?-e[i]:e[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{r.call(a)}finally{}}}else try{r.call(a)}finally{}}class bn{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Xi(n,t,e){const i=Nt(n);let s=0;for(;s<e.length;){const r=e[s];if("number"==typeof r){if(0!==r)break;s++;const o=e[s++],a=e[s++],l=e[s++];i?n.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=r,a=e[++s];Md(o)?i&&n.setProperty(t,o,a):i?n.setAttribute(t,o,a):t.setAttribute(o,a),s++}}return s}function dm(n){return 3===n||4===n||6===n}function Md(n){return 64===n.charCodeAt(0)}function ru(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?e=s:0===e||fm(n,e,s,null,-1===e||2===e?t[++i]:null)}}return n}function fm(n,t,e,i,s){let r=0,o=n.length;if(-1===t)o=-1;else for(;r<n.length;){const a=n[r++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=r-1;break}}}for(;r<n.length;){const a=n[r];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==o&&(n.splice(o,0,t),r=o+1),n.splice(r++,0,e),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}function pm(n){return-1!==n}function yo(n){return 32767&n}function fa(n,t){let e=function(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Id=!0;function pa(n){const t=Id;return Id=n,t}let vm=0;function Sn(n,t){const e=sr(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,kl(i.data,n),kl(t,null),kl(i.blueprint,null));const s=Gi(n,t),r=n.injectorIndex;if(pm(s)){const o=yo(s),a=fa(s,t),l=a[1].data;for(let h=0;h<8;h++)t[r+h]=a[o+h]|l[o+h]}return t[r+8]=s,r}function kl(n,t){n.push(0,0,0,0,0,0,0,0,t)}function sr(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Gi(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,s=t;for(;null!==s;){const r=s[1],o=r.type;if(i=2===o?r.declTNode:1===o?s[6]:null,null===i)return-1;if(e++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function au(n,t,e){!function(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(dl)&&(i=e[dl]),null==i&&(i=e[dl]=vm++);const s=255&i;t.data[n+(s>>5)]|=1<<s}(n,t,e)}function Od(n,t,e){if(e&Se.Optional)return n;Hc(t,"NodeInjector")}function ga(n,t,e,i){if(e&Se.Optional&&void 0===i&&(i=null),0==(e&(Se.Self|Se.Host))){const s=n[9],r=Xs(void 0);try{return s?s.get(t,i,e&Se.Optional):Gc(t,i,e&Se.Optional)}finally{Xs(r)}}return Od(i,t,e)}function rr(n,t,e,i=Se.Default,s){if(null!==n){const r=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(dl)?n[dl]:void 0;return"number"==typeof t?t>=0?255&t:dE:t}(e);if("function"==typeof r){if(!um(t,n,i))return i&Se.Host?Od(s,e,i):ga(t,e,i,s);try{const o=r(i);if(null!=o||i&Se.Optional)return o;Hc(e)}finally{k()}}else if("number"==typeof r){let o=null,a=sr(n,t),l=-1,h=i&Se.Host?t[16][6]:null;for((-1===a||i&Se.SkipSelf)&&(l=-1===a?Gi(n,t):t[a+8],-1!==l&&Nd(i,!1)?(o=t[1],a=yo(l),t=fa(l,t)):a=-1);-1!==a;){const f=t[1];if(uu(r,a,f.data)){const m=lu(a,t,e,o,i,h);if(m!==Rd)return m}l=t[a+8],-1!==l&&Nd(i,t[1].data[a+8]===h)&&uu(r,a,t)?(o=f,a=yo(l),t=fa(l,t)):a=-1}}}return ga(t,e,i,s)}const Rd={};function dE(){return new Ui(Wt(),K())}function lu(n,t,e,i,s,r){const o=t[1],a=o.data[n+8],f=cu(a,o,e,null==i?aa(a)&&Id:i!=o&&0!=(3&a.type),s&Se.Host&&r===a);return null!==f?ma(t,o,f,a):Rd}function cu(n,t,e,i,s){const r=n.providerIndexes,o=t.data,a=1048575&r,l=n.directiveStart,f=r>>20,y=s?a+f:n.directiveEnd;for(let _=i?a:a+f;_<y;_++){const w=o[_];if(_<l&&e===w||_>=l&&w.type===e)return _}if(s){const _=o[l];if(_&&ts(_)&&_.type===e)return l}return null}function ma(n,t,e,i){let s=n[e];const r=t.data;if(function(n){return n instanceof bn}(s)){const o=s;o.resolving&&function(n,t){throw new Pr("200",`Circular dependency in DI detected for ${n}`)}(Vi(r[e]));const a=pa(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Xs(o.injectImpl):null;um(n,i,Se.Default);try{s=n[e]=o.factory(void 0,r,n,i),t.firstCreatePass&&e>=i.directiveStart&&function(n,t,e){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(i){const o=bd(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),r&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,r))}(e,r[e],t)}finally{null!==l&&Xs(l),pa(a),o.resolving=!1,k()}}return s}function uu(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Nd(n,t){return!(n&Se.Self||n&Se.Host&&t)}class Ui{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return rr(this._tNode,this._lView,t,i,e)}}function en(n){return er(()=>{const t=n.prototype.constructor,e=t[Xn]||va(t),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[Xn]||va(s);if(r&&r!==e)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function va(n){return Fg(n)?()=>{const t=va(pe(n));return t&&t()}:co(n)}const ni="__parameters__";function bo(n,t,e){return er(()=>{const i=function(n){return function(...e){if(n){const i=n(...e);for(const s in i)this[s]=i[s]}}}(t);function s(...r){if(this instanceof s)return i.apply(this,r),this;const o=new s(...r);return a.annotation=o,a;function a(l,h,f){const m=l.hasOwnProperty(ni)?l[ni]:Object.defineProperty(l,ni,{value:[]})[ni];for(;m.length<=f;)m.push(null);return(m[f]=m[f]||[]).push(o),l}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class _e{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=le({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function En(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),En(i,t)):t!==n&&t.push(i)}return t}function Es(n,t){n.forEach(e=>Array.isArray(e)?Es(e,t):t(e))}function Dl(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function wo(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function wn(n,t,e){let i=ko(n,t);return i>=0?n[1|i]=e:(i=~i,function(n,t,e,i){let s=n.length;if(s==t)n.push(e,i);else if(1===s)n.push(i,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Co(n,t){const e=ko(n,t);if(e>=0)return n[1|e]}function ko(n,t){return function(n,t,e){let i=0,s=n.length>>e;for(;s!==i;){const r=i+(s-i>>1),o=n[r<<e];if(t===o)return r<<e;o>t?s=r:i=r+1}return~(s<<e)}(n,t,1)}const _a={},ba="__NG_DI_FLAG__",Po="ngTempTokenPath",Tm=/\n/gm,Tl="__source",qd=ut({provide:String,useValue:ut});let Hn;function Do(n){const t=Hn;return Hn=n,t}function xm(n,t=Se.Default){if(void 0===Hn)throw new Error("inject() must be called from an injection context");return null===Hn?Gc(n,void 0,t):Hn.get(n,t&Se.Optional?null:void 0,t)}function q(n,t=Se.Default){return(dd||xm)(pe(n),t)}const bE=q;function To(n){const t=[];for(let e=0;e<n.length;e++){const i=pe(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let s,r=Se.Default;for(let o=0;o<i.length;o++){const a=i[o],l=Im(a);"number"==typeof l?-1===l?s=a.token:r|=l:s=a}t.push(q(s,r))}else t.push(q(i))}return t}function Sa(n,t){return n[ba]=t,n.prototype[ba]=t,n}function Im(n){return n[ba]}function Om(n,t,e,i){const s=n[Po];throw t[Tl]&&s.unshift(t[Tl]),n.message=function(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=qe(t);if(Array.isArray(t))s=t.map(qe).join(" -> ");else if("object"==typeof t){let r=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];r.push(o+":"+("string"==typeof a?JSON.stringify(a):qe(a)))}s=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${s}]: ${n.replace(Tm,"\n  ")}`}("\n"+n.message,s,e,i),n.ngTokenPath=s,n[Po]=null,n}const gi=Sa(bo("Inject",n=>({token:n})),-1),ui=Sa(bo("Optional"),8),xo=Sa(bo("SkipSelf"),4);var tn=(()=>((tn=tn||{})[tn.Important=1]="Important",tn[tn.DashCase=2]="DashCase",tn))();const Kd="__ngContext__";function Ti(n,t){n[Kd]=t}function ss(n){const t=function(n){return n[Kd]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Nl(n,t){return undefined(n,t)}function Ll(n){const t=n[3];return Ln(t)?t[3]:t}function ef(n){return Gm(n[13])}function Su(n){return Gm(n[4])}function Gm(n){for(;null!==n&&!Ln(n);)n=n[4];return n}function wa(n,t,e,i,s){if(null!=i){let r,o=!1;Ln(i)?r=i:es(i)&&(o=!0,i=i[0]);const a=ii(i);0===n&&null!==e?null==s?Ca(t,e,a):Rr(t,e,a,s||null,!0):1===n&&null!==e?Rr(t,e,a,s||null,!0):2===n?function(n,t,e){const i=$l(n,t);i&&function(n,t,e,i){Nt(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=r&&function(n,t,e,i,s){const r=e[7];r!==ii(e)&&wa(t,n,i,r,s);for(let a=10;a<e.length;a++){const l=e[a];Vl(l[1],l,n,t,i,r)}}(t,n,r,e,s)}}function nf(n,t,e){return Nt(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function Wm(n,t){const e=n[9],i=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Yc(s,-1)),e.splice(i,1)}function rf(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const s=i[17];null!==s&&s!==n&&Wm(s,i),t>0&&(n[e-1][4]=i[4]);const r=wo(n,10+t);!function(n,t){Vl(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=r[19];null!==o&&o.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function zm(n,t){if(!(256&t[2])){const e=t[11];Nt(e)&&e.destroyNode&&Vl(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return of(n[1],n);for(;t;){let e=null;if(es(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)es(t)&&of(t[1],t),t=t[3];null===t&&(t=n),es(t)&&of(t[1],t),e=t&&t[4]}t=e}}(t)}}function of(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const s=t[e[i]];if(!(s instanceof bn)){const r=e[i+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){const a=s[r[o]],l=r[o+1];try{l.call(a)}finally{}}else try{r.call(s)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,i=t[7];let s=-1;if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const o=e[r+1],a="function"==typeof o?o(t):ii(t[o]),l=i[s=e[r+2]],h=e[r+3];"boolean"==typeof h?a.removeEventListener(e[r],l,h):h>=0?i[s=h]():i[s=-h].unsubscribe(),r+=2}else{const o=i[s=e[r+1]];e[r].call(o)}if(null!==i){for(let r=s+1;r<i.length;r++)i[r]();t[7]=null}}(n,t),1===t[1].type&&Nt(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Ln(t[3])){e!==t[3]&&Wm(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function Ym(n,t,e){return function(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===Yt.None||s===Yt.Emulated)return null}return He(i,e)}(n,t.parent,e)}function Rr(n,t,e,i,s){Nt(n)?n.insertBefore(t,e,i,s):t.insertBefore(e,i,s)}function Ca(n,t,e){Nt(n)?n.appendChild(t,e):t.appendChild(e)}function wu(n,t,e,i,s){null!==i?Rr(n,t,e,i,s):Ca(n,t,e)}function $l(n,t){return Nt(n)?n.parentNode(t):t.parentNode}let Nr=function(n,t,e){return 40&n.type?He(n,e):null};function ku(n,t,e,i){const s=Ym(n,i,t),r=t[11],a=function(n,t,e){return Nr(n,t,e)}(i.parent||t[6],i,t);if(null!=s)if(Array.isArray(e))for(let l=0;l<e.length;l++)wu(r,s,e[l],a,!1);else wu(r,s,e,a,!1)}function Pu(n,t){if(null!==t){const e=t.type;if(3&e)return He(t,n);if(4&e)return uf(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Pu(n,i);{const s=n[t.index];return Ln(s)?uf(-1,s):ii(s)}}if(32&e)return Nl(t,n)()||ii(n[t.index]);{const i=Zm(n,t);return null!==i?Array.isArray(i)?i[0]:Pu(Ll(n[16]),i):Pu(n,t.next)}}return null}function Zm(n,t){return null!==t?n[16][6].projection[t.projection]:null}function uf(n,t){const e=10+n+1;if(e<t.length){const i=t[e],s=i[1].firstChild;if(null!==s)return Pu(i,s)}return t[7]}function df(n,t,e,i,s,r,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&Ti(ii(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)df(n,t,e.child,i,s,r,!1),wa(t,n,s,a,r);else if(32&l){const h=Nl(e,i);let f;for(;f=h();)wa(t,n,s,f,r);wa(t,n,s,a,r)}else 16&l?Xm(n,t,i,e,s,r):wa(t,n,s,a,r);e=o?e.projectionNext:e.next}}function Vl(n,t,e,i,s,r){df(e,i,n.firstChild,t,s,r,!1)}function Xm(n,t,e,i,s,r){const o=e[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let h=0;h<l.length;h++)wa(t,n,s,l[h],r);else df(n,t,l,o[3],s,r,!0)}function ff(n,t,e){Nt(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function Au(n,t,e){Nt(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function kn(n){return n instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}function Mu(n){return n.ngOriginalError}function ow(n,...t){n.error(...t)}class Lo{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=this._findContext(t),s=function(n){return n&&n.ngErrorLogger||ow}(t);s(this._console,"ERROR",t),e&&s(this._console,"ORIGINAL ERROR",e),i&&s(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?function(n){return n.ngDebugContext}(t)||this._findContext(Mu(t)):null}_findOriginalError(t){let e=t&&Mu(t);for(;e&&Mu(e);)e=Mu(e);return e||null}}const Ef=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(dt))();function as(n){return n instanceof Function?n():n}function jl(n,t,e){let i=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=t.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}e=s+1}}const wv="ng-template";function dw(n,t,e){let i=0;for(;i<n.length;){let s=n[i++];if(e&&"class"===s){if(s=n[i],-1!==jl(s.toLowerCase(),t,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function Iu(n){return 4===n.type&&n.value!==wv}function Cv(n,t,e){return t===(4!==n.type||e?n.value:wv)}function fw(n,t,e){let i=4;const s=n.attrs||[],r=function(n){for(let t=0;t<n.length;t++)if(dm(n[t]))return t;return n.length}(s);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!Cv(n,l,e)||""===l&&1===t.length){if(ls(i))return!1;o=!0}}else{const h=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!dw(n.attrs,h,e)){if(ls(i))return!1;o=!0}continue}const m=pw(8&i?"class":l,s,Iu(n),e);if(-1===m){if(ls(i))return!1;o=!0;continue}if(""!==h){let y;y=m>r?"":s[m+1].toLowerCase();const _=8&i?y:null;if(_&&-1!==jl(_,h,0)||2&i&&h!==y){if(ls(i))return!1;o=!0}}}}else{if(!o&&!ls(i)&&!ls(l))return!1;if(o&&ls(l))continue;o=!1,i=l|1&i}}return ls(i)||o}function ls(n){return 0==(1&n)}function pw(n,t,e,i){if(null===t)return-1;let s=0;if(i||!e){let r=!1;for(;s<t.length;){const o=t[s];if(o===n)return s;if(3===o||6===o)r=!0;else{if(1===o||2===o){let a=t[++s];for(;"string"==typeof a;)a=t[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=r?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function kv(n,t,e=!1){for(let i=0;i<t.length;i++)if(fw(n,t[i],e))return!0;return!1}function Pv(n,t){return n?":not("+t.trim()+")":t}function _w(n){let t=n[0],e=1,i=2,s="",r=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?s+="."+o:4&i&&(s+=" "+o);else""!==s&&!ls(o)&&(t+=Pv(r,s),s=""),i=o,r=r||!ls(i);e++}return""!==s&&(t+=Pv(r,s)),t}const ge={};function H(n){Av(lt(),K(),Ce()+n,ci())}function Av(n,t,e,i){if(!i)if(3==(3&t[2])){const r=n.preOrderCheckHooks;null!==r&&Vn(t,r,e)}else{const r=n.preOrderHooks;null!==r&&su(t,r,0,e)}Mr(e)}function As(n,t){return n<<17|t<<2}function ye(n){return n>>17&32767}function qt(n){return 2|n}function ar(n){return(131068&n)>>2}function Ds(n,t){return-131069&n|t<<2}function kf(n){return 1|n}function Lv(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i],r=e[i+1];if(-1!==r){const o=n.data[r];kd(s),o.contentQueries(2,t[r],r)}}}function zl(n,t,e,i,s,r,o,a,l,h){const f=t.blueprint.slice();return f[0]=s,f[2]=140|i,yl(f),f[3]=f[15]=n,f[8]=e,f[10]=o||n&&n[10],f[11]=a||n&&n[11],f[12]=l||n&&n[12]||null,f[9]=h||n&&n[9]||null,f[6]=r,f[16]=2==t.type?n[16]:f,f}function Aa(n,t,e,i,s){let r=n.data[t];if(null===r)r=function(n,t,e,i,s){const r=_l(),o=Xc(),l=n.data[t]=function(n,t,e,i,s,r){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,e,t,i,s);return null===n.firstChild&&(n.firstChild=l),null!==r&&(o?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l)),l}(n,t,e,i,s),Ae.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=e,r.value=i,r.attrs=s;const o=function(){const n=Ae.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();r.injectorIndex=null===o?-1:o.injectorIndex}return Ss(r,!0),r}function Da(n,t,e,i){if(0===e)return-1;const s=t.length;for(let r=0;r<e;r++)t.push(i),n.blueprint.push(i),n.data.push(null);return s}function Kl(n,t,e){tu(t);try{const i=n.viewQuery;null!==i&&Hf(1,i,e);const s=n.template;null!==s&&Bv(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Lv(n,t),n.staticViewQueries&&Hf(2,n.viewQuery,e);const r=n.components;null!==r&&function(n,t){for(let e=0;e<t.length;e++)Qw(n,t[e])}(t,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,nr()}}function Ta(n,t,e,i){const s=t[2];if(256==(256&s))return;tu(t);const r=ci();try{yl(t),function(n){Ae.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Bv(n,t,e,2,i);const o=3==(3&s);if(!r)if(o){const h=n.preOrderCheckHooks;null!==h&&Vn(t,h,null)}else{const h=n.preOrderHooks;null!==h&&su(t,h,0,null),Td(t,0)}if(function(n){for(let t=ef(n);null!==t;t=Su(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const s=e[i],r=s[3];0==(1024&s[2])&&Yc(r,1),s[2]|=1024}}}(t),function(n){for(let t=ef(n);null!==t;t=Su(t))for(let e=10;e<t.length;e++){const i=t[e],s=i[1];Ed(i)&&Ta(s,i,s.template,i[8])}}(t),null!==n.contentQueries&&Lv(n,t),!r)if(o){const h=n.contentCheckHooks;null!==h&&Vn(t,h)}else{const h=n.contentHooks;null!==h&&su(t,h,1),Td(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)Mr(~s);else{const r=s,o=e[++i],a=e[++i];bl(o,r),a(2,t[r])}}}finally{Mr(-1)}}(n,t);const a=n.components;null!==a&&function(n,t){for(let e=0;e<t.length;e++)Kw(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&Hf(2,l,i),!r)if(o){const h=n.viewCheckHooks;null!==h&&Vn(t,h)}else{const h=n.viewHooks;null!==h&&su(t,h,2),Td(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Yc(t[3],-1))}finally{nr()}}function Iw(n,t,e,i){const s=t[10],r=!ci(),o=rm(t);try{r&&!o&&s.begin&&s.begin(),o&&Kl(n,t,i),Ta(n,t,e,i)}finally{r&&!o&&s.end&&s.end()}}function Bv(n,t,e,i,s){const r=Ce(),o=2&i;try{Mr(-1),o&&t.length>20&&Av(n,t,20,ci()),e(i,s)}finally{Mr(r)}}function $v(n,t,e){if(gl(t)){const s=t.directiveEnd;for(let r=t.directiveStart;r<s;r++){const o=n.data[r];o.contentQueries&&o.contentQueries(1,e[r],r)}}}function Ql(n,t,e){!ua()||(function(n,t,e,i){const s=e.directiveStart,r=e.directiveEnd;n.firstCreatePass||Sn(e,t),Ti(i,t);const o=e.initialInputs;for(let a=s;a<r;a++){const l=n.data[a],h=ts(l);h&&Gw(t,e,l);const f=ma(t,n,a,e);Ti(f,t),null!==o&&Uw(0,a-s,f,l,0,o),h&&(yn(e.index,t)[8]=f)}}(n,t,e,He(e,t)),128==(128&e.flags)&&function(n,t,e){const i=e.directiveStart,s=e.directiveEnd,o=e.index,a=Ae.lFrame.currentDirectiveIndex;try{Mr(o);for(let l=i;l<s;l++){const h=n.data[l],f=t[l];ha(l),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&zv(h,f)}}finally{Mr(-1),ha(a)}}(n,t,e))}function If(n,t,e=He){const i=t.localNames;if(null!==i){let s=t.index+1;for(let r=0;r<i.length;r+=2){const o=i[r+1],a=-1===o?e(t,n):n[o];n[s++]=a}}}function Lu(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Bu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Bu(n,t,e,i,s,r,o,a,l,h){const f=20+i,m=f+s,y=function(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:ge);return e}(f,m),_="function"==typeof h?h():h;return y[1]={type:n,blueprint:y,template:e,queries:null,viewQuery:a,declTNode:t,data:y.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1}}function Fv(n,t,e,i){const s=Jv(t);null===e?s.push(i):(s.push(e),n.firstCreatePass&&Vu(n).push(i,s.length-1))}function Hv(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,s):e[i]=[t,s]}return e}function Pn(n,t,e,i,s,r,o,a){const l=He(t,e);let f,h=t.inputs;!a&&null!=h&&(f=h[i])?(Zv(n,e,f,i,s),aa(t)&&function(n,t){const e=yn(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=o?o(s,t.value||"",i):s,Nt(r)?r.setProperty(l,i,s):Md(i)||(l.setProperty?l.setProperty(i,s):l[i]=s))}function Of(n,t,e,i){let s=!1;if(ua()){const r=function(n,t,e){const i=n.directiveRegistry;let s=null;if(i)for(let r=0;r<i.length;r++){const o=i[r];kv(e,o.selectors,!1)&&(s||(s=[]),au(Sn(e,t),n,o.type),ts(o)?(Kv(n,e),s.unshift(o)):s.push(o))}return s}(n,t,e),o=null===i?null:{"":-1};if(null!==r){s=!0,Rf(e,n.data.length,r.length);for(let f=0;f<r.length;f++){const m=r[f];m.providersResolver&&m.providersResolver(m)}let a=!1,l=!1,h=Da(n,t,r.length,null);for(let f=0;f<r.length;f++){const m=r[f];e.mergedAttrs=ru(e.mergedAttrs,m.hostAttrs),Nf(n,e,t,h,m),qw(h,m,o),null!==m.contentQueries&&(e.flags|=8),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(e.flags|=128);const y=m.type.prototype;!a&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),h++}!function(n,t){const i=t.directiveEnd,s=n.data,r=t.attrs,o=[];let a=null,l=null;for(let h=t.directiveStart;h<i;h++){const f=s[h],m=f.inputs,y=null===r||Iu(t)?null:jw(m,r);o.push(y),a=Hv(m,h,a),l=Hv(f.outputs,h,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=l}(n,e)}o&&function(n,t,e){if(t){const i=n.localNames=[];for(let s=0;s<t.length;s+=2){const r=e[t[s+1]];if(null==r)throw new Pr("301",`Export of name '${t[s+1]}' not found!`);i.push(t[s],r)}}}(e,i,o)}return e.mergedAttrs=ru(e.mergedAttrs,e.attrs),s}function Wv(n,t,e,i,s,r){const o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,s,o)}}function zv(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Kv(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function qw(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;ts(t)&&(e[""]=n)}}function Rf(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Nf(n,t,e,i,s){n.data[i]=s;const r=s.factory||(s.factory=co(s.type)),o=new bn(r,ts(s),null);n.blueprint[i]=o,e[i]=o,Wv(n,t,0,i,Da(n,e,s.hostVars,ge),s)}function Gw(n,t,e){const i=He(t,n),s=Lu(e),r=n[10],o=$u(n,zl(n,s,null,e.onPush?64:16,i,t,r,r.createRenderer(i,e),null,null));n[t.index]=o}function xs(n,t,e,i,s,r){const o=He(n,t);!function(n,t,e,i,s,r,o){if(null==r)Nt(n)?n.removeAttribute(t,s,e):t.removeAttribute(s);else{const a=null==o?Ie(r):o(r,i||"",s);Nt(n)?n.setAttribute(t,s,a,e):e?t.setAttributeNS(e,s,a):t.setAttribute(s,a)}}(t[11],o,r,n.value,e,i,s)}function Uw(n,t,e,i,s,r){const o=r[t];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const h=o[l++],f=o[l++],m=o[l++];null!==a?i.setInput(e,m,h,f):e[f]=m}}}function jw(n,t){let e=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,n[s],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Qv(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function Kw(n,t){const e=yn(t,n);if(Ed(e)){const i=e[1];80&e[2]?Ta(i,e,i.template,e[8]):e[5]>0&&Bf(e)}}function Bf(n){for(let i=ef(n);null!==i;i=Su(i))for(let s=10;s<i.length;s++){const r=i[s];if(1024&r[2]){const o=r[1];Ta(o,r,o.template,r[8])}else r[5]>0&&Bf(r)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const s=yn(e[i],n);Ed(s)&&s[5]>0&&Bf(s)}}function Qw(n,t){const e=yn(t,n),i=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Kl(i,e,e[8])}function $u(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function $f(n){for(;n;){n[2]|=64;const t=Ll(n);if(vd(n)&&!t)return n;n=t}return null}function Ff(n,t,e){const i=t[10];i.begin&&i.begin();try{Ta(n,t,n.template,e)}catch(s){throw Gf(t,s),s}finally{i.end&&i.end()}}function Yv(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=ss(e),s=i[1];Iw(s,i,s.template,e)}}(n[8])}function Hf(n,t,e){kd(0),t(n,e)}const eC=(()=>Promise.resolve(null))();function Jv(n){return n[7]||(n[7]=[])}function Vu(n){return n.cleanup||(n.cleanup=[])}function Gf(n,t){const e=n[9],i=e?e.get(Lo,null):null;i&&i.handleError(t)}function Zv(n,t,e,i,s){for(let r=0;r<e.length;){const o=e[r++],a=e[r++],l=t[o],h=n.data[o];null!==h.setInput?h.setInput(l,s,i,a):l[a]=s}}function lr(n,t,e){const i=ho(t,n);!function(n,t,e){Nt(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function Fu(n,t,e){let i=e?n.styles:null,s=e?n.classes:null,r=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:1==r?s=rd(s,a):2==r&&(i=rd(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=s:n.classesWithoutHost=s}const Ma=new _e("INJECTOR",-1);class zi{get(t,e=_a){if(e===_a){const i=new Error(`NullInjectorError: No provider for ${qe(t)}!`);throw i.name="NullInjectorError",i}return e}}const $o=new _e("Set Injector scope."),Yl={},iC={};let jf;function Xv(){return void 0===jf&&(jf=new zi),jf}function ey(n,t=null,e=null,i){return new zf(n,e,t||Xv(),i)}class zf{constructor(t,e,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&Es(e,a=>this.processProvider(a,t,e)),Es([t],a=>this.processInjectorType(a,[],r)),this.records.set(Ma,Vo(void 0,this));const o=this.records.get($o);this.scope=null!=o?o.value:null,this.source=s||("object"==typeof t?null:qe(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=_a,i=Se.Default){this.assertNotDestroyed();const s=Do(this),r=Xs(void 0);try{if(!(i&Se.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof _e}(t)&&Zs(t);a=l&&this.injectableDefInScope(l)?Vo(Kf(t),Yl):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&Se.Self?Xv():this.parent).get(t,e=i&Se.Optional&&e===_a?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[Po]=o[Po]||[]).unshift(qe(t)),s)throw o;return Om(o,t,"R3InjectorError",this.source)}throw o}finally{Xs(r),Do(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,s)=>t.push(qe(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=pe(t)))return!1;let s=cd(t);const r=null==s&&t.ngModule||void 0,o=void 0===r?t:r,a=-1!==i.indexOf(o);if(void 0!==r&&(s=cd(r)),null==s)return!1;if(null!=s.imports&&!a){let f;i.push(o);try{Es(s.imports,m=>{this.processInjectorType(m,e,i)&&(void 0===f&&(f=[]),f.push(m))})}finally{}if(void 0!==f)for(let m=0;m<f.length;m++){const{ngModule:y,providers:_}=f[m];Es(_,w=>this.processProvider(w,y,_||_t))}}this.injectorDefTypes.add(o);const l=co(o)||(()=>new o);this.records.set(o,Vo(l,Yl));const h=s.providers;if(null!=h&&!a){const f=t;Es(h,m=>this.processProvider(m,f,h))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,i){let s=$r(t=pe(t))?t:pe(t&&t.provide);const r=function(n,t,e){return iy(n)?Vo(void 0,n.useValue):Vo(ty(n),Yl)}(t);if($r(t)||!0!==t.multi)this.records.get(s);else{let o=this.records.get(s);o||(o=Vo(void 0,Yl,!0),o.factory=()=>To(o.multi),this.records.set(s,o)),s=t,o.multi.push(t)}this.records.set(s,r)}hydrate(t,e){return e.value===Yl&&(e.value=iC,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=pe(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Kf(n){const t=Zs(n),e=null!==t?t.factory:co(n);if(null!==e)return e;if(n instanceof _e)throw new Error(`Token ${qe(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const i=function(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?");throw new Error(`Can't resolve all parameters for ${qe(n)}: (${i.join(", ")}).`)}const e=function(n){const t=n&&(n[na]||n[hd]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function ty(n,t,e){let i;if($r(n)){const s=pe(n);return co(s)||Kf(s)}if(iy(n))i=()=>pe(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...To(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>q(pe(n.useExisting));else{const s=pe(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return co(s)||Kf(s);i=()=>new s(...To(n.deps))}return i}function Vo(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function iy(n){return null!==n&&"object"==typeof n&&qd in n}function $r(n){return"function"==typeof n}const ny=function(n,t,e){return function(n,t=null,e=null,i){const s=ey(n,t,e,i);return s._resolveInjectorDefTypes(),s}({name:e},t,n,e)};let xt=(()=>{class n{static create(e,i){return Array.isArray(e)?ny(e,i,""):ny(e.providers,e.parent,e.name||"")}}return n.THROW_IF_NOT_FOUND=_a,n.NULL=new zi,n.\u0275prov=le({token:n,providedIn:"any",factory:()=>q(Ma)}),n.__NG_ELEMENT_ID__=-1,n})();function H4(n,t){nu(ss(n)[1],Wt())}function Bt(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let s;if(ts(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(e){i.push(s);const o=n;o.inputs=mC(n.inputs),o.declaredInputs=mC(n.declaredInputs),o.outputs=mC(n.outputs);const a=s.hostBindings;a&&j4(n,a);const l=s.viewQuery,h=s.contentQueries;if(l&&G4(n,l),h&&U4(n,h),Fc(n.inputs,s.inputs),Fc(n.declaredInputs,s.declaredInputs),Fc(n.outputs,s.outputs),ts(s)&&s.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let o=0;o<r.length;o++){const a=r[o];a&&a.ngInherit&&a(n),a===Bt&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=t+=s.hostVars,s.hostAttrs=ru(s.hostAttrs,e=ru(e,s.hostAttrs))}}(i)}function mC(n){return n===sa?{}:n===_t?[]:n}function G4(n,t){const e=n.viewQuery;n.viewQuery=e?(i,s)=>{t(i,s),e(i,s)}:t}function U4(n,t){const e=n.contentQueries;n.contentQueries=e?(i,s,r)=>{t(i,s,r),e(i,s,r)}:t}function j4(n,t){const e=n.hostBindings;n.hostBindings=e?(i,s)=>{t(i,s),e(i,s)}:t}let ly=null;function Hu(){if(!ly){const n=dt.Symbol;if(n&&n.iterator)ly=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(ly=i)}}}return ly}class ur{constructor(t){this.wrapped=t}static wrap(t){return new ur(t)}static unwrap(t){return ur.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ur}}function Xf(n){return!!vC(n)&&(Array.isArray(n)||!(n instanceof Map)&&Hu()in n)}function vC(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Fr(n,t,e){return n[t]=e}function on(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Jl(n,t,e,i){const s=on(n,t,e);return on(n,t+1,i)||s}function hr(n,t,e,i){const s=K();return on(s,Tr(),t)&&(lt(),xs(Ht(),s,n,t,e,i)),hr}function Gu(n,t,e,i){return on(n,Tr(),e)?t+Ie(e)+i:ge}function Re(n,t,e,i,s,r,o,a){const l=K(),h=lt(),f=n+20,m=h.firstCreatePass?function(n,t,e,i,s,r,o,a,l){const h=t.consts,f=Aa(t,n,4,o||null,Hi(h,a));Of(t,e,f,Hi(h,l)),nu(t,f);const m=f.tViews=Bu(2,f,i,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h);return null!==t.queries&&(t.queries.template(t,f),m.queries=t.queries.embeddedTView(f)),f}(f,h,l,t,e,i,s,r,o):h.data[f];Ss(m,!1);const y=l[11].createComment("");ku(h,l,y,m),Ti(y,l),$u(l,l[f]=Qv(y,l,y,m)),ml(m)&&Ql(h,l,m),null!=o&&If(l,m,a)}function V(n,t=Se.Default){const e=K();return null===e?q(n,t):rr(Wt(),e,pe(n),t)}function z(n,t,e){const i=K();return on(i,Tr(),t)&&Pn(lt(),Ht(),i,n,t,i[11],e,!1),z}function EC(n,t,e,i,s){const o=s?"class":"style";Zv(n,e,t.inputs[o],o,i)}function p(n,t,e,i){const s=K(),r=lt(),o=20+n,a=s[11],l=s[o]=nf(a,t,Ae.lFrame.currentNamespace),h=r.firstCreatePass?function(n,t,e,i,s,r,o){const a=t.consts,h=Aa(t,n,2,s,Hi(a,r));return Of(t,e,h,Hi(a,o)),null!==h.attrs&&Fu(h,h.attrs,!1),null!==h.mergedAttrs&&Fu(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(o,r,s,0,t,e,i):r.data[o];Ss(h,!0);const f=h.mergedAttrs;null!==f&&Xi(a,l,f);const m=h.classes;null!==m&&Au(a,l,m);const y=h.styles;null!==y&&ff(a,l,y),64!=(64&h.flags)&&ku(r,s,l,h),0===Ae.lFrame.elementDepthCount&&Ti(l,s),Ae.lFrame.elementDepthCount++,ml(h)&&(Ql(r,s,h),$v(r,h,s)),null!==i&&If(s,h)}function g(){let n=Wt();Xc()?wd():(n=n.parent,Ss(n,!1));const t=n;Ae.lFrame.elementDepthCount--;const e=lt();e.firstCreatePass&&(nu(e,n),gl(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&EC(e,t,K(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&EC(e,t,K(),t.stylesWithoutHost,!1)}function se(n,t,e,i){p(n,t,e,i),g()}function hy(n,t,e){const i=K(),s=lt(),r=n+20,o=s.firstCreatePass?function(n,t,e,i,s){const r=t.consts,o=Hi(r,i),a=Aa(t,n,8,"ng-container",o);return null!==o&&Fu(a,o,!0),Of(t,e,a,Hi(r,s)),null!==t.queries&&t.queries.elementStart(t,a),a}(r,s,i,t,e):s.data[r];Ss(o,!0);const a=i[r]=i[11].createComment("");ku(s,i,a,o),Ti(a,i),ml(o)&&(Ql(s,i,o),$v(s,o,i)),null!=e&&If(i,o)}function dy(){let n=Wt();const t=lt();Xc()?wd():(n=n.parent,Ss(n,!1)),t.firstCreatePass&&(nu(t,n),gl(n)&&t.queries.elementEnd(n))}function Hr(){return K()}function fy(n){return!!n&&"function"==typeof n.then}const wC=function(n){return!!n&&"function"==typeof n.subscribe};function Ue(n,t,e,i){const s=K(),r=lt(),o=Wt();return function(n,t,e,i,s,r,o,a){const l=ml(i),f=n.firstCreatePass&&Vu(n),m=t[8],y=Jv(t);let _=!0;if(3&i.type||a){const D=He(i,t),R=a?a(D):D,I=y.length,B=a?$=>a(ii($[i.index])):i.index;if(Nt(e)){let $=null;if(!a&&l&&($=function(n,t,e,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const o=s[r];if(o===e&&s[r+1]===i){const a=t[7],l=s[r+2];return a.length>l?a[l]:null}"string"==typeof o&&(r+=2)}return null}(n,t,s,i.index)),null!==$)($.__ngLastListenerFn__||$).__ngNextListenerFn__=r,$.__ngLastListenerFn__=r,_=!1;else{r=CC(i,t,m,r,!1);const W=e.listen(R,s,r);y.push(r,W),f&&f.push(s,B,I,I+1)}}else r=CC(i,t,m,r,!0),R.addEventListener(s,r,o),y.push(r),f&&f.push(s,B,I,o)}else r=CC(i,t,m,r,!1);const w=i.outputs;let T;if(_&&null!==w&&(T=w[s])){const D=T.length;if(D)for(let R=0;R<D;R+=2){const X=t[T[R]][T[R+1]].subscribe(r),ie=y.length;y.push(r,X),f&&f.push(s,i.index,ie,-(ie+1))}}}(r,s,s[11],o,n,t,!!e,i),Ue}function BR(n,t,e,i){try{return!1!==e(i)}catch(s){return Gf(n,s),!1}}function CC(n,t,e,i,s){return function r(o){if(o===Function)return i;const a=2&n.flags?yn(n.index,t):t;0==(32&t[2])&&$f(a);let l=BR(t,0,i,o),h=r.__ngNextListenerFn__;for(;h;)l=BR(t,0,h,o)&&l,h=h.__ngNextListenerFn__;return s&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function je(n=1){return function(n){return(Ae.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,Ae.lFrame.contextLView))[8]}(n)}function tp(n,t,e,i,s){const r=K(),o=Gu(r,t,e,i);return o!==ge&&Pn(lt(),Ht(),r,n,o,r[11],s,!1),tp}function QR(n,t,e,i,s){const r=n[e+1],o=null===t;let a=i?ye(r):ar(r),l=!1;for(;0!==a&&(!1===l||o);){const f=n[a+1];xH(n[a],t)&&(l=!0,n[a+1]=i?kf(f):qt(f)),a=i?ye(f):ar(f)}l&&(n[e+1]=i?qt(r):kf(r))}function xH(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ko(n,t)>=0}const Ei={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function YR(n){return n.substring(Ei.key,Ei.keyEnd)}function JR(n,t){const e=Ei.textEnd;return e===t?-1:(t=Ei.keyEnd=function(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Ei.key=t,e),Zu(n,t,e))}function Zu(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function ip(n,t,e){return dr(n,t,e,!1),ip}function Zl(n,t){return dr(n,t,null,!0),Zl}function Os(n){!function(n,t,e,i){const s=lt(),r=_n(2);s.firstUpdatePass&&nN(s,null,r,i);const o=K();if(e!==ge&&on(o,r,e)){const a=s.data[Ce()];if(aN(a,i)&&!iN(s,r)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=rd(l,e||"")),EC(s,a,o,e,i)}else!function(n,t,e,i,s,r,o,a){s===ge&&(s=_t);let l=0,h=0,f=0<s.length?s[0]:null,m=0<r.length?r[0]:null;for(;null!==f||null!==m;){const y=l<s.length?s[l+1]:void 0,_=h<r.length?r[h+1]:void 0;let T,w=null;f===m?(l+=2,h+=2,y!==_&&(w=m,T=_)):null===m||null!==f&&f<m?(l+=2,w=f):(h+=2,w=m,T=_),null!==w&&rN(n,t,e,i,w,T,o,a),f=l<s.length?s[l]:null,m=h<r.length?r[h]:null}}(s,a,o,o[11],o[r+1],o[r+1]=function(n,t,e){if(null==e||""===e)return _t;const i=[],s=kn(e);if(Array.isArray(s))for(let r=0;r<s.length;r++)n(i,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&n(i,r,s[r]);else"string"==typeof s&&t(i,s);return i}(n,t,e),i,r)}}(wn,Gr,n,!0)}function Gr(n,t){for(let e=function(n){return function(n){Ei.key=0,Ei.keyEnd=0,Ei.value=0,Ei.valueEnd=0,Ei.textEnd=n.length}(n),JR(n,Zu(n,0,Ei.textEnd))}(t);e>=0;e=JR(t,e))wn(n,YR(t),!0)}function dr(n,t,e,i){const s=K(),r=lt(),o=_n(2);r.firstUpdatePass&&nN(r,n,o,i),t!==ge&&on(s,o,t)&&rN(r,r.data[Ce()],s,s[11],n,s[o+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=qe(kn(n)))),n}(t,e),i,o)}function iN(n,t){return t>=n.expandoStartIndex}function nN(n,t,e,i){const s=n.data;if(null===s[e+1]){const r=s[Ce()],o=iN(n,e);aN(r,i)&&null===t&&!o&&(t=!1),t=function(n,t,e,i){const s=function(n){const t=Ae.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let r=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(e=np(e=kC(null,n,t,e,i),t.attrs,i),r=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==s)if(e=kC(s,n,t,e,i),null===r){let l=function(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==ar(i))return n[ye(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=kC(null,n,t,l[1],i),l=np(l,t.attrs,i),function(n,t,e,i){n[ye(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else r=function(n,t,e){let i;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)i=np(i,n[r].hostAttrs,e);return np(i,t.attrs,e)}(n,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),e}(s,r,t,i),function(n,t,e,i,s,r){let o=r?t.classBindings:t.styleBindings,a=ye(o),l=ar(o);n[i]=e;let f,h=!1;if(Array.isArray(e)){const m=e;f=m[1],(null===f||ko(m,f)>0)&&(h=!0)}else f=e;if(s)if(0!==l){const y=ye(n[a+1]);n[i+1]=As(y,a),0!==y&&(n[y+1]=Ds(n[y+1],i)),n[a+1]=function(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=As(a,0),0!==a&&(n[a+1]=Ds(n[a+1],i)),a=i;else n[i+1]=As(l,0),0===a?a=i:n[l+1]=Ds(n[l+1],i),l=i;h&&(n[i+1]=qt(n[i+1])),QR(n,f,i,!0),QR(n,f,i,!1),function(n,t,e,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof t&&ko(r,t)>=0&&(e[i+1]=kf(e[i+1]))}(t,f,n,i,r),o=As(a,l),r?t.classBindings=o:t.styleBindings=o}(s,r,t,e,o,i)}}function kC(n,t,e,i,s){let r=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(r=t[a],i=np(i,r.hostAttrs,s),r!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function np(n,t,e){const i=e?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?s=o:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),wn(n,o,!!e||t[++r]))}return void 0===n?null:n}function rN(n,t,e,i,s,r,o,a){if(!(3&t.type))return;const l=n.data,h=l[a+1];py(function(n){return 1==(1&n)}(h)?oN(l,t,e,s,ar(h),o):void 0)||(py(r)||function(n){return 2==(2&n)}(h)&&(r=oN(l,null,e,s,a,o)),function(n,t,e,i,s){const r=Nt(n);if(t)s?r?n.addClass(e,i):e.classList.add(i):r?n.removeClass(e,i):e.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:tn.DashCase;if(null==s)r?n.removeStyle(e,i,o):e.style.removeProperty(i);else{const a="string"==typeof s&&s.endsWith("!important");a&&(s=s.slice(0,-10),o|=tn.Important),r?n.setStyle(e,i,s,o):e.style.setProperty(i,s,a?"important":"")}}}(i,o,ho(Ce(),e),s,r))}function oN(n,t,e,i,s,r){const o=null===t;let a;for(;s>0;){const l=n[s],h=Array.isArray(l),f=h?l[1]:l,m=null===f;let y=e[s+1];y===ge&&(y=m?_t:void 0);let _=m?Co(y,i):f===i?y:void 0;if(h&&!py(_)&&(_=Co(l,i)),py(_)&&(a=_,o))return a;const w=n[s+1];s=o?ye(w):ar(w)}if(null!==t){let l=r?t.residualClasses:t.residualStyles;null!=l&&(a=Co(l,i))}return a}function py(n){return void 0!==n}function aN(n,t){return 0!=(n.flags&(t?16:32))}function S(n,t=""){const e=K(),i=lt(),s=n+20,r=i.firstCreatePass?Aa(i,s,1,t,null):i.data[s],o=e[s]=function(n,t){return Nt(n)?n.createText(t):n.createTextNode(t)}(e[11],t);ku(i,e,o,r),Ss(r,!1)}function Ii(n){return wi("",n,""),Ii}function wi(n,t,e){const i=K(),s=Gu(i,n,t,e);return s!==ge&&lr(i,Ce(),s),wi}function sp(n,t,e,i,s){const r=K(),o=function(n,t,e,i,s,r){const a=Jl(n,is(),e,s);return _n(2),a?t+Ie(e)+i+Ie(s)+r:ge}(r,n,t,e,i,s);return o!==ge&&lr(r,Ce(),o),sp}const Xl=void 0;var uq=["en",[["a","p"],["AM","PM"],Xl],[["AM","PM"],Xl,Xl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xl,"{1} 'at' {0}",Xl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===e?1:5}];let Xu={};function AN(n){return n in Xu||(Xu[n]=dt.ng&&dt.ng.common&&dt.ng.common.locales&&dt.ng.common.locales[n]),Xu[n]}var re=(()=>((re=re||{})[re.LocaleId=0]="LocaleId",re[re.DayPeriodsFormat=1]="DayPeriodsFormat",re[re.DayPeriodsStandalone=2]="DayPeriodsStandalone",re[re.DaysFormat=3]="DaysFormat",re[re.DaysStandalone=4]="DaysStandalone",re[re.MonthsFormat=5]="MonthsFormat",re[re.MonthsStandalone=6]="MonthsStandalone",re[re.Eras=7]="Eras",re[re.FirstDayOfWeek=8]="FirstDayOfWeek",re[re.WeekendRange=9]="WeekendRange",re[re.DateFormat=10]="DateFormat",re[re.TimeFormat=11]="TimeFormat",re[re.DateTimeFormat=12]="DateTimeFormat",re[re.NumberSymbols=13]="NumberSymbols",re[re.NumberFormats=14]="NumberFormats",re[re.CurrencyCode=15]="CurrencyCode",re[re.CurrencySymbol=16]="CurrencySymbol",re[re.CurrencyName=17]="CurrencyName",re[re.Currencies=18]="Currencies",re[re.Directionality=19]="Directionality",re[re.PluralCase=20]="PluralCase",re[re.ExtraData=21]="ExtraData",re))();const gy="en-US";let DN=gy;function PC(n){gn(n,"Expected localeId to be defined"),"string"==typeof n&&(DN=n.toLowerCase().replace(/_/g,"-"))}function TC(n,t,e,i,s){if(n=pe(n),Array.isArray(n))for(let r=0;r<n.length;r++)TC(n[r],t,e,i,s);else{const r=lt(),o=K();let a=$r(n)?n:pe(n.provide),l=ty(n);const h=Wt(),f=1048575&h.providerIndexes,m=h.directiveStart,y=h.providerIndexes>>20;if($r(n)||!n.multi){const _=new bn(l,s,V),w=MC(a,t,s?f:f+y,m);-1===w?(au(Sn(h,o),r,a),xC(r,n,t.length),t.push(a),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(_),o.push(_)):(e[w]=_,o[w]=_)}else{const _=MC(a,t,f+y,m),w=MC(a,t,f,f+y),T=_>=0&&e[_],D=w>=0&&e[w];if(s&&!D||!s&&!T){au(Sn(h,o),r,a);const R=function(n,t,e,i,s){const r=new bn(n,e,V);return r.multi=[],r.index=t,r.componentProviders=0,ZN(r,s,i&&!e),r}(s?aG:oG,e.length,s,i,l);!s&&D&&(e[w].providerFactory=R),xC(r,n,t.length,0),t.push(a),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(R),o.push(R)}else xC(r,n,_>-1?_:w,ZN(e[s?w:_],l,!s&&i));!s&&i&&D&&e[w].componentProviders++}}}function xC(n,t,e,i){const s=$r(t);if(s||function(n){return!!n.useClass}(t)){const o=(t.useClass||t).prototype.ngOnDestroy;if(o){const a=n.destroyHooks||(n.destroyHooks=[]);if(!s&&t.multi){const l=a.indexOf(e);-1===l?a.push(e,[i,o]):a[l+1].push(i,o)}else a.push(e,o)}}}function ZN(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function MC(n,t,e,i){for(let s=e;s<i;s++)if(t[s]===n)return s;return-1}function oG(n,t,e,i){return IC(this.multi,[])}function aG(n,t,e,i){const s=this.multi;let r;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ma(e,e[1],this.providerFactory.index,i);r=a.slice(0,o),IC(s,r);for(let l=o;l<a.length;l++)r.push(a[l])}else r=[],IC(s,r);return r}function IC(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function ht(n,t=[]){return e=>{e.providersResolver=(i,s)=>function(n,t,e){const i=lt();if(i.firstCreatePass){const s=ts(n);TC(e,i.data,i.blueprint,s,!0),TC(t,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,t)}}class XN{}const tL="ngComponent";class uG{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${qe(n)}. Did you add it to @NgModule.entryComponents?`);return t[tL]=n,t}(t)}}let th=(()=>{class n{}return n.NULL=new uG,n})();function by(...n){}function ih(n,t){return new $t(He(n,t))}const fG=function(){return ih(Wt(),K())};let $t=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=fG,n})();function iL(n){return n instanceof $t?n.nativeElement:n}class ec{}let tc=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>gG(),n})();const gG=function(){const n=K(),e=yn(Wt().index,n);return function(n){return n[11]}(es(e)?e:n)};let RC=(()=>{class n{}return n.\u0275prov=le({token:n,providedIn:"root",factory:()=>null}),n})();class Sy{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const nL=new Sy("12.2.17");class sL{constructor(){}supports(t){return Xf(t)}create(t){return new _G(t)}}const yG=(n,t)=>t;class _G{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||yG}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,s=0,r=null;for(;e||i;){const o=!i||e&&e.currentIndex<oL(i,s,r)?e:i,a=oL(o,s,r),l=o.currentIndex;if(o===i)s--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)s++;else{r||(r=[]);const h=a-s,f=l-s;if(h!=f){for(let y=0;y<h;y++){const _=y<r.length?r[y]:r[y]=0,w=_+y;f<=w&&w<h&&(r[y]=_+1)}r[o.previousIndex]=f-h}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Xf(t))throw new Error(`Error trying to diff '${qe(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,r,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)r=t[a],o=this._trackByFn(a,r),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,r,o,a)),Object.is(e.item,r)||this._addIdentityChange(e,r)):(e=this._mismatch(e,r,o,a),i=!0),e=e._next}else s=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Hu()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(s,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,s)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,s),i=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):t=this._addAfter(new bG(e,i),r,s),t}_verifyReinsertion(t,e,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new rL),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rL),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class bG{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SG{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class rL{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new SG,this.map.set(e,i)),i.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oL(n,t,e){const i=n.previousIndex;if(null===i)return i;let s=0;return e&&i<e.length&&(s=e[i]),i+t+s}class aL{constructor(){}supports(t){return t instanceof Map||vC(t)}create(){return new EG}}class EG{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||vC(t)))throw new Error(`Error trying to diff '${qe(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(s,i);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const r=s._prev,o=s._next;return r&&(r._next=o),o&&(o._prev=r),s._next=null,s._prev=null,s}const i=new wG(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class wG{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function lL(){return new nh([new sL])}let nh=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||lL()),deps:[[n,new xo,new ui]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=le({token:n,providedIn:"root",factory:lL}),n})();function cL(){return new sh([new aL])}let sh=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||cL()),deps:[[n,new xo,new ui]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=le({token:n,providedIn:"root",factory:cL}),n})();function Ey(n,t,e,i,s=!1){for(;null!==e;){const r=t[e.index];if(null!==r&&i.push(ii(r)),Ln(r))for(let a=10;a<r.length;a++){const l=r[a],h=l[1].firstChild;null!==h&&Ey(l[1],l,h,i)}const o=e.type;if(8&o)Ey(n,t,e.child,i);else if(32&o){const a=Nl(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=Zm(t,e);if(Array.isArray(a))i.push(...a);else{const l=Ll(t[16]);Ey(l[1],l,a,i,!0)}}e=s?e.projectionNext:e.next}return i}class cp{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ey(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Ln(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(rf(t,i),wo(e,i))}this._attachedToViewContainer=!1}zm(this._lView[1],this._lView)}onDestroy(t){Fv(this._lView[1],this._lView,null,t)}markForCheck(){$f(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ff(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){eu(!0);try{Ff(n,t,e)}finally{eu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,t){Vl(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class kG extends cp{constructor(t){super(t),this._view=t}detectChanges(){Yv(this._view)}checkNoChanges(){!function(n){eu(!0);try{Yv(n)}finally{eu(!1)}}(this._view)}get context(){return null}}const AG=function(n){return function(n,t,e){if(aa(n)&&!e){const i=yn(n.index,t);return new cp(i,i)}return 47&n.type?new cp(t[16],t):null}(Wt(),K(),16==(16&n))};let wy=(()=>{class n{}return n.__NG_ELEMENT_ID__=AG,n})();const xG=[new aL],IG=new nh([new sL]),OG=new sh(xG),NG=function(){return Cy(Wt(),K())};let Rs=(()=>{class n{}return n.__NG_ELEMENT_ID__=NG,n})();const LG=Rs,BG=class extends LG{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=zl(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(i[19]=r.createEmbeddedView(e)),Kl(e,i,t),new cp(i)}};function Cy(n,t){return 4&n.type?new BG(t,n,ih(n,t)):null}class ic{}const HG=function(){return dL(Wt(),K())};let Ns=(()=>{class n{}return n.__NG_ELEMENT_ID__=HG,n})();const GG=Ns,uL=class extends GG{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return ih(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){const t=Gi(this._hostTNode,this._hostLView);if(pm(t)){const e=fa(t,this._hostLView),i=yo(t);return new Ui(e[1].data[i+8],e)}return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=hL(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const s=t.createEmbeddedView(e||{});return this.insert(s,i),s}createComponent(t,e,i,s,r){const o=i||this.parentInjector;if(!r&&null==t.ngModule&&o){const l=o.get(ic,null);l&&(r=l)}const a=t.create(o,s,void 0,r);return this.insert(a.hostView,e),a}insert(t,e){const i=t._lView,s=i[1];if(function(n){return Ln(n[3])}(i)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const m=i[3],y=new uL(m,m[6],m[3]);y.detach(y.indexOf(t))}}const r=this._adjustIndex(e),o=this._lContainer;!function(n,t,e,i){const s=10+i,r=e.length;i>0&&(e[s-1][4]=t),i<r-10?(t[4]=e[s],Dl(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(s,i,o,r);const a=uf(r,o),l=i[11],h=$l(l,o[7]);return null!==h&&function(n,t,e,i,s,r){i[0]=s,i[6]=t,Vl(n,i,e,1,s,r)}(s,o[6],l,i,h,a),t.attachToViewContainerRef(),Dl(NC(o),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=hL(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=rf(this._lContainer,e);i&&(wo(NC(this._lContainer),e),zm(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=rf(this._lContainer,e);return i&&null!=wo(NC(this._lContainer),e)?new cp(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function hL(n){return n[8]}function NC(n){return n[8]||(n[8]=[])}function dL(n,t){let e;const i=t[n.index];if(Ln(i))e=i;else{let s;if(8&n.type)s=ii(i);else{const r=t[11];s=r.createComment("");const o=He(n,t);Rr(r,$l(r,o),s,function(n,t){return Nt(n)?n.nextSibling(t):t.nextSibling}(r,o),!1)}t[n.index]=e=Qv(i,t,s,n),$u(t,e)}return new uL(e,n,t)}const lh={};class IL extends th{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Pi(t);return new RL(e,this.ngModule)}}function OL(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const VU=new _e("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ef});class RL extends XN{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(n){return n.map(_w).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return OL(this.componentDef.inputs)}get outputs(){return OL(this.componentDef.outputs)}create(t,e,i,s){const r=(s=s||this.ngModule)?function(n,t){return{get:(e,i,s)=>{const r=n.get(e,lh,s);return r!==lh||i===lh?r:t.get(e,i,s)}}}(t,s.injector):t,o=r.get(ec,vn),a=r.get(RC,null),l=o.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=i?function(n,t,e){if(Nt(n))return n.selectRootElement(t,e===Yt.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):nf(o.createRenderer(null,this.componentDef),h,function(n){const t=n.toLowerCase();return"svg"===t?F:"math"===t?"http://www.w3.org/1998/MathML/":null}(h)),m=this.componentDef.onPush?576:528,y=function(n,t){return{components:[],scheduler:n||Ef,clean:eC,playerHandler:t||null,flags:0}}(),_=Bu(0,null,null,1,0,null,null,null,null,null),w=zl(null,_,y,m,null,null,o,l,a,r);let T,D;tu(w);try{const R=function(n,t,e,i,s,r){const o=e[1];e[20]=n;const l=Aa(o,20,2,"#host",null),h=l.mergedAttrs=t.hostAttrs;null!==h&&(Fu(l,h,!0),null!==n&&(Xi(s,n,h),null!==l.classes&&Au(s,n,l.classes),null!==l.styles&&ff(s,n,l.styles)));const f=i.createRenderer(n,t),m=zl(e,Lu(t),null,t.onPush?64:16,e[20],l,i,f,r||null,null);return o.firstCreatePass&&(au(Sn(l,e),o,t.type),Kv(o,l),Rf(l,e.length,1)),$u(e,m),e[20]=m}(f,this.componentDef,w,o,l);if(f)if(i)Xi(l,f,["ng-version",nL.full]);else{const{attrs:I,classes:B}=function(n){const t=[],e=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&t.push(r,n[++i]):8===s&&e.push(r);else{if(!ls(s))break;s=r}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);I&&Xi(l,f,I),B&&B.length>0&&Au(l,f,B.join(" "))}if(D=Kc(_,20),void 0!==e){const I=D.projection=[];for(let B=0;B<this.ngContentSelectors.length;B++){const $=e[B];I.push(null!=$?Array.from($):null)}}T=function(n,t,e,i,s){const r=e[1],o=function(n,t,e){const i=Wt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Nf(n,i,t,Da(n,t,1,null),e));const s=ma(t,n,i.directiveStart,i);Ti(s,t);const r=He(i,t);return r&&Ti(r,t),s}(r,e,t);if(i.components.push(o),n[8]=o,s&&s.forEach(l=>l(o,t)),t.contentQueries){const l=Wt();t.contentQueries(1,o,l.directiveStart)}const a=Wt();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Mr(a.index),Wv(e[1],a,0,a.directiveStart,a.directiveEnd,t),zv(t,o)),o}(R,this.componentDef,w,y,[H4]),Kl(_,w,null)}finally{nr()}return new qU(this.componentType,T,ih(D,w),w,D)}}class qU extends class{}{constructor(t,e,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new kG(s),this.componentType=t}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const ch=new Map;class jU extends ic{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new IL(this);const i=bt(t),s=function(n){return n[GS]||null}(t);s&&PC(s),this._bootstrapComponents=as(i.bootstrap),this._r3Injector=ey(t,e,[{provide:ic,useValue:this},{provide:th,useValue:this.componentFactoryResolver}],qe(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=xt.THROW_IF_NOT_FOUND,i=Se.Default){return t===xt||t===ic||t===Ma?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class KC extends class{}{constructor(t){super(),this.moduleType=t,null!==bt(t)&&function(n){const t=new Set;!function e(i){const s=bt(i,!0),r=s.id;null!==r&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${qe(t)} vs ${qe(t.name)}`)}(r,ch.get(r),i),ch.set(r,i));const o=as(s.imports);for(const a of o)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new jU(this.moduleType,t)}}function VL(n,t,e,i,s){return function(n,t,e,i,s,r,o){const a=t+e;return Jl(n,a,s,r)?Fr(n,a+2,o?i.call(o,s,r):i(s,r)):vp(n,a+2)}(K(),qi(),n,t,e,i,s)}function vp(n,t){const e=n[t];return e===ge?void 0:e}function FL(n,t,e,i,s,r){const o=t+e;return on(n,o,s)?Fr(n,o+1,r?i.call(r,s):i(s)):vp(n,o+1)}function Oa(n,t){const e=lt();let i;const s=n+20;e.firstCreatePass?(i=function(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}throw new Pr("302",`The pipe '${n}' could not be found!`)}(t,e.pipeRegistry),e.data[s]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,i.onDestroy)):i=e.data[s];const r=i.factory||(i.factory=co(i.type)),o=Xs(V);try{const a=pa(!1),l=r();return pa(a),function(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,K(),s,l),l}finally{Xs(o)}}function Ra(n,t,e){const i=n+20,s=K(),r=function(n,t){return n[t]}(s,i);return function(n,t){ur.isWrapped(t)&&(t=ur.unwrap(t),n[is()]=ge);return t}(s,function(n,t){return n[1].data[t].pure}(s,i)?FL(s,qi(),t,r.transform,e,r):r.transform(e))}function QC(n){return t=>{setTimeout(n,void 0,t)}}const mt=class extends Ze{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var s,r,o;let a=t,l=e||(()=>null),h=i;if(t&&"object"==typeof t){const m=t;a=null===(s=m.next)||void 0===s?void 0:s.bind(m),l=null===(r=m.error)||void 0===r?void 0:r.bind(m),h=null===(o=m.complete)||void 0===o?void 0:o.bind(m)}this.__isAsync&&(l=QC(l),a&&(a=QC(a)),h&&(h=QC(h)));const f=super.subscribe({next:a,error:l,complete:h});return t instanceof tt&&t.add(f),f}};function r5(){return this._results[Hu()]()}class Ty{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Hu(),i=Ty.prototype;i[e]||(i[e]=r5)}get changes(){return this._changes||(this._changes=new mt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const s=En(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=t[i];if(e&&(s=e(s),r=e(r)),r!==s)return!1}return!0}(i._results,s,e))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class YC{constructor(t){this.queryList=t,this.matches=null}clone(){return new YC(this.queryList)}setDirty(){this.queryList.setDirty()}}class JC{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let r=0;r<i;r++){const o=e.getByIndex(r);s.push(this.queries[o.indexInDeclarationView].clone())}return new JC(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==QL(t,e).matches&&this.queries[e].setDirty()}}class jL{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class ZC{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const s=null!==e?e.length:0,r=this.getByIndex(i).embeddedTView(t,s);r&&(r.indexInDeclarationView=i,null!==e?e.push(r):e=[r])}return null!==e?new ZC(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class XC{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new XC(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(t,e,l5(e,r)),this.matchTNodeWithReadOption(t,e,cu(e,t,r,!1,!1))}else i===Rs?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,cu(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===$t||s===Ns||s===Rs&&4&e.type)this.addMatch(e.index,-2);else{const r=cu(e,t,s,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function l5(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function u5(n,t,e,i){return-1===e?function(n,t){return 11&n.type?ih(n,t):4&n.type?Cy(n,t):null}(t,n):-2===e?function(n,t,e){return e===$t?ih(t,n):e===Rs?Cy(t,n):e===Ns?dL(t,n):void 0}(n,t,i):ma(n,n[1],e,t)}function WL(n,t,e,i){const s=t[19].queries[i];if(null===s.matches){const r=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const h=o[l];a.push(h<0?null:u5(t,r[h],o[l+1],e.metadata.read))}s.matches=a}return s.matches}function e0(n,t,e,i){const s=n.queries.getByIndex(e),r=s.matches;if(null!==r){const o=WL(n,t,s,e);for(let a=0;a<r.length;a+=2){const l=r[a];if(l>0)i.push(o[a/2]);else{const h=r[a+1],f=t[-l];for(let m=10;m<f.length;m++){const y=f[m];y[17]===y[3]&&e0(y[1],y,h,i)}if(null!==f[9]){const m=f[9];for(let y=0;y<m.length;y++){const _=m[y];e0(_[1],_,h,i)}}}}}return i}function rc(n){const t=K(),e=lt(),i=cm();kd(i+1);const s=QL(e,i);if(n.dirty&&rm(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?e0(e,t,i,[]):WL(e,t,s,i);n.reset(r,iL),n.notifyOnChanges()}return!0}return!1}function xy(n,t,e){const i=lt();i.firstCreatePass&&(KL(i,new jL(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),zL(i,K(),t)}function My(n,t,e,i){const s=lt();if(s.firstCreatePass){const r=Wt();KL(s,new jL(t,e,i),r.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}zL(s,K(),e)}function oc(){return function(n,t){return n[19].queries[t].queryList}(K(),cm())}function zL(n,t,e){const i=new Ty(4==(4&e));Fv(n,t,i,i.destroy),null===t[19]&&(t[19]=new JC),t[19].queries.push(new YC(i))}function KL(n,t,e){null===n.queries&&(n.queries=new ZC),n.queries.track(new XC(t,e))}function QL(n,t){return n.queries.getByIndex(t)}const Ry=new _e("Application Initializer");let hh=(()=>{class n{constructor(e){this.appInits=e,this.resolve=by,this.reject=by,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const r=this.appInits[s]();if(fy(r))e.push(r);else if(wC(r)){const o=new Promise((a,l)=>{r.subscribe({complete:a,error:l})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(s=>{this.reject(s)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(q(Ry,8))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const Sp=new _e("AppId"),H5={provide:Sp,useFactory:function(){return`${a0()}${a0()}${a0()}`},deps:[]};function a0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const p2=new _e("Platform Initializer"),dh=new _e("Platform ID"),q5=new _e("appBootstrapListener");let l0=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const Na=new _e("LocaleId"),g2=new _e("DefaultCurrencyCode");class U5{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const c0=function(n){return new KC(n)},j5=c0,W5=function(n){return Promise.resolve(c0(n))},m2=function(n){const t=c0(n),i=as(bt(n).declarations).reduce((s,r)=>{const o=Pi(r);return o&&s.push(new RL(o)),s},[]);return new U5(t,i)},z5=m2,K5=function(n){return Promise.resolve(m2(n))};let Ly=(()=>{class n{constructor(){this.compileModuleSync=j5,this.compileModuleAsync=W5,this.compileModuleAndAllComponentsSync=z5,this.compileModuleAndAllComponentsAsync=K5}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const J5=(()=>Promise.resolve(0))();function u0(n){"undefined"==typeof Zone?J5.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ke{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mt(!1),this.onMicrotaskEmpty=new mt(!1),this.onStable=new mt(!1),this.onError=new mt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&e,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let n=dt.requestAnimationFrame,t=dt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(dt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,d0(n),n.isCheckStableRunning=!0,h0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),d0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,r,o,a)=>{try{return v2(n),e.invokeTask(s,r,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&t(),y2(n)}},onInvoke:(e,i,s,r,o,a,l)=>{try{return v2(n),e.invoke(s,r,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),y2(n)}},onHasTask:(e,i,s,r)=>{e.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,d0(n),h0(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,i,s,r)=>(e.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ke.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ke.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,s){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+s,t,X5,by,by);try{return r.runTask(o,e,i)}finally{r.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const X5={};function h0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function d0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function v2(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function y2(n){n._nesting--,h0(n)}class i6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mt,this.onMicrotaskEmpty=new mt,this.onStable=new mt,this.onError=new mt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,s){return t.apply(e,i)}}let f0=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ke.assertNotInAngularZone(),u0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())u0(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==r),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:s})}whenStable(e,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,s){return[]}}return n.\u0275fac=function(e){return new(e||n)(q(Ke))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),_2=(()=>{class n{constructor(){this._applications=new Map,p0.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return p0.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class n6{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let p0=new n6,b2=!0,S2=!1;let mr;const w2=new _e("AllowMultipleToken");function C2(n,t,e=[]){const i=`Platform: ${t}`,s=new _e(i);return(r=[])=>{let o=k2();if(!o||o.injector.get(w2,!1))if(n)n(e.concat(r).concat({provide:s,useValue:!0}));else{const a=e.concat(r).concat({provide:s,useValue:!0},{provide:$o,useValue:"platform"});!function(n){if(mr&&!mr.destroyed&&!mr.injector.get(w2,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");mr=n.get(P2);const t=n.get(p2,null);t&&t.forEach(e=>e())}(xt.create({providers:a,name:i}))}return function(n){const t=k2();if(!t)throw new Error("No platform exists!");if(!t.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function k2(){return mr&&!mr.destroyed?mr:null}let P2=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function(n,t){let e;return e="noop"===n?new i6:("zone.js"===n?void 0:n)||new Ke({enableLongStackTrace:(S2=!0,b2),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:Ke,useValue:a}];return a.run(()=>{const h=xt.create({providers:l,parent:this.injector,name:e.moduleType.name}),f=e.create(h),m=f.injector.get(Lo,null);if(!m)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const y=a.onError.subscribe({next:_=>{m.handleError(_)}});f.onDestroy(()=>{g0(this._modules,f),y.unsubscribe()})}),function(n,t,e){try{const i=e();return fy(i)?i.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(m,a,()=>{const y=f.injector.get(hh);return y.runInitializers(),y.donePromise.then(()=>(PC(f.injector.get(Na,gy)||gy),this._moduleDoBootstrap(f),f))})})}bootstrapModule(e,i=[]){const s=A2({},i);return function(n,t,e){const i=new KC(e);return Promise.resolve(i)}(0,0,e).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(e){const i=e.injector.get(Ep);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${qe(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(q(xt))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();function A2(n,t){return Array.isArray(t)?t.reduce(A2,n):Object.assign(Object.assign({},n),t)}let Ep=(()=>{class n{constructor(e,i,s,r,o){this._zone=e,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Ye(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),l=new Ye(h=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{Ke.assertNotInAngularZone(),u0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{Ke.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{f.unsubscribe(),m.unsubscribe()}});this.isStable=kr(a,l.pipe(n=>Vc()(function(n,t){return function(i){let s;s="function"==typeof n?n:function(){return n};const r=Object.create(i,td);return r.source=i,r.subjectFactory=s,r}}(xS)(n))))}bootstrap(e,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let s;s=e instanceof XN?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const r=function(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ic),a=s.create(xt.NULL,[],i||s.selector,r),l=a.location.nativeElement,h=a.injector.get(f0,null),f=h&&a.injector.get(_2);return h&&f&&f.registerApplication(l,h),a.onDestroy(()=>{this.detachView(a.hostView),g0(this.components,a),f&&f.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;g0(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(q5,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(q(Ke),q(xt),q(Lo),q(th),q(hh))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();function g0(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const x6=C2(null,"core",[{provide:dh,useValue:"unknown"},{provide:P2,deps:[xt]},{provide:_2,deps:[]},{provide:l0,deps:[]}]),N6=[{provide:Ep,useClass:Ep,deps:[Ke,xt,Lo,th,hh]},{provide:VU,deps:[Ke],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:hh,useClass:hh,deps:[[new ui,Ry]]},{provide:Ly,useClass:Ly,deps:[]},H5,{provide:nh,useFactory:function(){return IG},deps:[]},{provide:sh,useFactory:function(){return OG},deps:[]},{provide:Na,useFactory:function(n){return PC(n=n||"undefined"!=typeof $localize&&$localize.locale||gy),n},deps:[[new gi(Na),new ui,new xo]]},{provide:g2,useValue:"USD"}];let B6=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(q(Ep))},n.\u0275mod=ti({type:n}),n.\u0275inj=jt({providers:N6}),n})(),Wy=null;function cc(){return Wy}const Xe=new _e("DocumentToken");var mi=(()=>((mi=mi||{})[mi.Zero=0]="Zero",mi[mi.One=1]="One",mi[mi.Two=2]="Two",mi[mi.Few=3]="Few",mi[mi.Many=4]="Many",mi[mi.Other=5]="Other",mi))();const j8=function(n){return function(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=AN(t);if(e)return e;const i=t.split("-")[0];if(e=AN(i),e)return e;if("en"===i)return uq;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[re.PluralCase]};class i_{}let bj=(()=>{class n extends i_{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(j8(i||this.locale)(e)){case mi.Zero:return"zero";case mi.One:return"one";case mi.Two:return"two";case mi.Few:return"few";case mi.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(q(Na))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();function hB(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,r]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}let $0=(()=>{class n{constructor(e,i,s,r){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Xf(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${qe(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)(V(nh),V(sh),V($t),V(tc))},n.\u0275dir=ue({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ej{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Tp=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((s,r,o)=>{if(null==s.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new Ej(null,this._ngForOf,-1,-1),null===o?void 0:o),l=new dB(s,a);i.push(l)}else if(null==o)this._viewContainer.remove(null===r?void 0:r);else if(null!==r){const a=this._viewContainer.get(r);this._viewContainer.move(a,o);const l=new dB(s,a);i.push(l)}});for(let s=0;s<i.length;s++)this._perViewChange(i[s].view,i[s].record);for(let s=0,r=this._viewContainer.length;s<r;s++){const o=this._viewContainer.get(s);o.context.index=s,o.context.count=r,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(V(Ns),V(Rs),V(nh))},n.\u0275dir=ue({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class dB{constructor(t,e){this.record=t,this.view=e}}let gh=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Cj,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){fB("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){fB("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(V(Ns),V(Rs))},n.\u0275dir=ue({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Cj{constructor(){this.$implicit=null,this.ngIf=null}}function fB(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${qe(t)}'.`)}let H0=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=gB}transform(e,i=gB){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const s=this.differ.diff(e),r=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(o=>{this.keyValues.push(function(n,t){return{key:n,value:t}}(o.key,o.currentValue))})),(s||r)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(V(sh,16))},n.\u0275pipe=Ji({name:"keyvalue",type:n,pure:!1}),n})();function gB(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const s=String(e),r=String(i);return s==r?0:s<r?-1:1}let mB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ti({type:n}),n.\u0275inj=jt({providers:[{provide:i_,useClass:bj}]}),n})();const vB="browser";class _B{}class U0 extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){Wy||(Wy=n)}(new U0)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(xp=xp||document.querySelector("base"),xp?xp.getAttribute("href"):null);return null==e?null:function(n){n_=n_||document.createElement("a"),n_.setAttribute("href",n);const t=n_.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){xp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return hB(document.cookie,t)}}let n_,xp=null;const bB=new _e("TRANSITION_ID"),s7=[{provide:Ry,useFactory:function(n,t,e){return()=>{e.get(hh).donePromise.then(()=>{const i=cc(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let r=0;r<s.length;r++)i.remove(s[r])})}},deps:[bB,Xe,xt],multi:!0}];class j0{static init(){!function(n){p0=n}(new j0)}addToWindow(t){dt.getAngularTestability=(i,s=!0)=>{const r=t.findTestabilityInTree(i,s);if(null==r)throw new Error("Could not find testability for element.");return r},dt.getAllAngularTestabilities=()=>t.getAllTestabilities(),dt.getAllAngularRootElements=()=>t.getAllRootElements(),dt.frameworkStabilizers||(dt.frameworkStabilizers=[]),dt.frameworkStabilizers.push(i=>{const s=dt.getAllAngularTestabilities();let r=s.length,o=!1;const a=function(l){o=o||l,r--,0==r&&i(o)};s.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?cc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let r7=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const Mp=new _e("EventManagerPlugins");let r_=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let r=0;r<s.length;r++){const o=s[r];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(q(Mp),q(Ke))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class W0{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=cc().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let EB=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),Ip=(()=>{class n extends EB{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(r=>{const o=this._doc.createElement("style");o.textContent=r,s.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(wB),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(wB))}}return n.\u0275fac=function(e){return new(e||n)(q(Xe))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();function wB(n){cc().remove(n)}const z0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},K0=/%COMP%/g;function o_(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?o_(n,s,e):(s=s.replace(K0,n),e.push(s))}return e}function PB(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let a_=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Q0(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Yt.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new b7(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case Yt.ShadowDom:return new S7(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=o_(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(q(r_),q(Ip),q(Sp))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class Q0{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(z0[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const r=z0[s];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=z0[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(tn.DashCase|tn.Important)?t.style.setProperty(e,i,s&tn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&tn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,PB(i)):this.eventManager.addEventListener(t,e,PB(i))}}class b7 extends Q0{constructor(t,e,i,s){super(t),this.component=i;const r=o_(s+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(K0,n)}(s+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(K0,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class S7 extends Q0{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=o_(s.id,s.styles,[]);for(let o=0;o<r.length;o++){const a=document.createElement("style");a.textContent=r[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let E7=(()=>{class n extends W0{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(q(Xe))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const TB=["alt","control","meta","shift"],T7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xB={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},x7={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let M7=(()=>{class n extends W0{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const r=n.parseEventName(i),o=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cc().onAndCancel(e,r.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let o="";if(TB.forEach(l=>{const h=i.indexOf(l);h>-1&&(i.splice(h,1),o+=l+".")}),o+=r,0!=i.length||0===r.length)return null;const a={};return a.domEventName=s,a.fullKey=o,a}static getEventFullKey(e){let i="",s=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&xB.hasOwnProperty(t)&&(t=xB[t]))}return T7[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),TB.forEach(r=>{r!=s&&x7[r](e)&&(i+=r+".")}),i+=s,i}static eventCallback(e,i,s){return r=>{n.getEventFullKey(r)===e&&s.runGuarded(()=>i(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(q(Xe))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const B7=[{provide:dh,useValue:vB},{provide:p2,useValue:function(){U0.makeCurrent(),j0.init()},multi:!0},{provide:Xe,useFactory:function(){return function(n){Oe=n}(document),document},deps:[]}],V7=C2(x6,"browser",B7),F7=[[],{provide:$o,useValue:"root"},{provide:Lo,useFactory:function(){return new Lo},deps:[]},{provide:Mp,useClass:E7,multi:!0,deps:[Xe,Ke,dh]},{provide:Mp,useClass:M7,multi:!0,deps:[Xe]},[],{provide:a_,useClass:a_,deps:[r_,Ip,Sp]},{provide:ec,useExisting:a_},{provide:EB,useExisting:Ip},{provide:Ip,useClass:Ip,deps:[Xe]},{provide:f0,useClass:f0,deps:[Ke]},{provide:r_,useClass:r_,deps:[Mp,Ke]},{provide:_B,useClass:r7,deps:[]},[]];let X0=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Sp,useValue:e.appId},{provide:bB,useExisting:Sp},s7]}}}return n.\u0275fac=function(e){return new(e||n)(q(n,12))},n.\u0275mod=ti({type:n}),n.\u0275inj=jt({providers:F7,imports:[mB,B6]}),n})();function l_(n,t){return new Ye(e=>{const i=n.length;if(0===i)return void e.complete();const s=new Array(i);let r=0,o=0;for(let a=0;a<i;a++){const l=Rc(n[a]);let h=!1;e.add(l.subscribe({next:f=>{h||(h=!0,o++),s[a]=f},error:f=>e.error(f),complete:()=>{r++,(r===i||!h)&&(o===i&&e.next(t?t.reduce((f,m,y)=>(f[m]=s[y],f),{}):s),e.complete())}}))}})}"undefined"!=typeof window&&window;let IB=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(V(tc),V($t))},n.\u0275dir=ue({type:n}),n})(),uc=(()=>{class n extends IB{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=en(n)))(i||n)}}(),n.\u0275dir=ue({type:n,features:[Bt]}),n})();const Ur=new _e("NgValueAccessor"),Q7={provide:Ur,useExisting:wt(()=>c_),multi:!0};let c_=(()=>{class n extends uc{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=en(n)))(i||n)}}(),n.\u0275dir=ue({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&Ue("change",function(r){return i.onChange(r.target.checked)})("blur",function(){return i.onTouched()})},features:[ht([Q7]),Bt]}),n})();const Y7={provide:Ur,useExisting:wt(()=>qo),multi:!0},Z7=new _e("CompositionEventMode");let qo=(()=>{class n extends IB{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=cc()?cc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(V(tc),V($t),V(Z7,8))},n.\u0275dir=ue({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Ue("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[ht([Y7]),Bt]}),n})();function $a(n){return null==n||0===n.length}function OB(n){return null!=n&&"number"==typeof n.length}const cn=new _e("NgValidators"),Va=new _e("NgAsyncValidators"),X7=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class tk{static min(t){return RB(t)}static max(t){return NB(t)}static required(t){return LB(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return $a(n.value)||X7.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>$a(t.value)||!OB(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>OB(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return Fa;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if($a(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return zB(t)}static composeAsync(t){return KB(t)}}function RB(n){return t=>{if($a(t.value)||$a(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function NB(n){return t=>{if($a(t.value)||$a(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function LB(n){return $a(n.value)?{required:!0}:null}function Fa(n){return null}function qB(n){return null!=n}function GB(n){const t=fy(n)?Rc(n):n;return wC(t),t}function UB(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function jB(n,t){return t.map(e=>e(n))}function WB(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function zB(n){if(!n)return null;const t=n.filter(qB);return 0==t.length?null:function(e){return UB(jB(e,t))}}function ik(n){return null!=n?zB(WB(n)):null}function KB(n){if(!n)return null;const t=n.filter(qB);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if(nl(t))return l_(t,null);if(sl(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return l_(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return l_(n=1===n.length&&nl(n[0])?n[0]:n,null).pipe(vs(e=>t(...e)))}return l_(n,null)}(jB(e,t).map(GB)).pipe(vs(UB))}}function nk(n){return null!=n?KB(WB(n)):null}function QB(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function YB(n){return n._rawValidators}function JB(n){return n._rawAsyncValidators}function sk(n){return n?Array.isArray(n)?n:[n]:[]}function u_(n,t){return Array.isArray(n)?n.includes(t):n===t}function ZB(n,t){const e=sk(t);return sk(n).forEach(s=>{u_(e,s)||e.push(s)}),e}function XB(n,t){return sk(t).filter(e=>!u_(n,e))}let e3=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ik(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=nk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ue({type:n}),n})(),xn=(()=>{class n extends e3{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=en(n)))(i||n)}}(),n.\u0275dir=ue({type:n,features:[Bt]}),n})();class Ha extends e3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class t3{constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}let hc=(()=>{class n extends t3{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(V(Ha,2))},n.\u0275dir=ue({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Zl("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[Bt]}),n})(),dc=(()=>{class n extends t3{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(V(xn,10))},n.\u0275dir=ue({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Zl("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[Bt]}),n})();function Op(n,t){ak(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&i3(n,t)})}(n,t),function(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&i3(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function f_(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),g_(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function p_(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ak(n,t){const e=YB(n);null!==t.validator?n.setValidators(QB(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=JB(n);null!==t.asyncValidator?n.setAsyncValidators(QB(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();p_(t._rawValidators,s),p_(t._rawAsyncValidators,s)}function g_(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=YB(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.validator);r.length!==s.length&&(e=!0,n.setValidators(r))}}if(null!==t.asyncValidator){const s=JB(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.asyncValidator);r.length!==s.length&&(e=!0,n.setAsyncValidators(r))}}}const i=()=>{};return p_(t._rawValidators,i),p_(t._rawAsyncValidators,i),e}function i3(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function m_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Rp="VALID",v_="INVALID",mh="PENDING",Np="DISABLED";function uk(n){return(dk(n)?n.validators:n)||null}function r3(n){return Array.isArray(n)?ik(n):n||null}function hk(n,t){return(dk(t)?t.asyncValidators:n)||null}function o3(n){return Array.isArray(n)?nk(n):n||null}function dk(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class fk{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=r3(this._rawValidators),this._composedAsyncValidatorFn=o3(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Rp}get invalid(){return this.status===v_}get pending(){return this.status==mh}get disabled(){return this.status===Np}get enabled(){return this.status!==Np}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=r3(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=o3(t)}addValidators(t){this.setValidators(ZB(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ZB(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(XB(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(XB(t,this._rawAsyncValidators))}hasValidator(t){return u_(this._rawValidators,t)}hasAsyncValidator(t){return u_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=mh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Np,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Rp,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rp||this.status===mh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Np:Rp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=mh,this._hasOwnPendingAsyncValidator=!0;const e=GB(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=i instanceof Ni?i.controls.hasOwnProperty(s)?i.controls[s]:null:i instanceof y_&&i.at(s)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new mt,this.statusChanges=new mt}_calculateStatus(){return this._allControlsDisabled()?Np:this.errors?v_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mh)?mh:this._anyControlsHaveStatus(v_)?v_:Rp}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){dk(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ne extends fk{constructor(t=null,e,i){super(uk(e),hk(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){m_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){m_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ni extends fk{constructor(t,e,i){super(uk(e),hk(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof ne?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,r)=>{i=e(i,s,r)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class y_ extends fk{constructor(t,e,i){super(uk(e),hk(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ne?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let h3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ue({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const gW={provide:Ur,useExisting:wt(()=>__),multi:!0};let __=(()=>{class n extends uc{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=en(n)))(i||n)}}(),n.\u0275dir=ue({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&Ue("input",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},features:[ht([gW]),Bt]}),n})();const mW={provide:Ur,useExisting:wt(()=>gk),multi:!0};let d3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ti({type:n}),n.\u0275inj=jt({}),n})(),vW=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({factory:function(){return new n},token:n,providedIn:d3}),n})(),gk=(()=>{class n extends uc{constructor(e,i,s,r){super(e,i),this._registry=s,this._injector=r,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Ha),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(e){return new(e||n)(V(tc),V($t),V(vW),V(xt))},n.\u0275dir=ue({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,i){1&e&&Ue("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ht([mW]),Bt]}),n})();const mk=new _e("NgModelWithFormControlWarning"),bW={provide:xn,useExisting:wt(()=>Go)};let Go=(()=>{class n extends xn{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new mt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(g_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Op(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){f_(e.control||null,e,!1),m_(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(f_(i||null,e),s instanceof ne&&(Op(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function(n,t){ak(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return g_(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ak(this.form,this),this._oldForm&&g_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(V(cn,10),V(Va,10))},n.\u0275dir=ue({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&Ue("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ht([bW]),Bt,Dt]}),n})();const wW={provide:Ha,useExisting:wt(()=>qa)};let qa=(()=>{class n extends Ha{constructor(e,i,s,r,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new mt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(r=>{r.constructor===qo?e=r:function(n){return Object.getPrototypeOf(n.constructor)===uc}(r)?i=r:s=r}),s||i||e||null}(0,r)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(V(xn,13),V(cn,10),V(Va,10),V(Ur,10),V(mk,8))},n.\u0275dir=ue({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ht([wW]),Bt,Dt]}),n._ngModelWarningSentOnce=!1,n})();const CW={provide:Ur,useExisting:wt(()=>Bp),multi:!0};function m3(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Bp=(()=>{class n extends uc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=this._getOptionId(e);null==i&&this.setProperty("selectedIndex",-1);const s=m3(i,e);this.setProperty("value",s)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=en(n)))(i||n)}}(),n.\u0275dir=ue({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&Ue("change",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ht([CW]),Bt]}),n})(),_k=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(m3(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(V($t),V(tc),V(Bp,9))},n.\u0275dir=ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const PW={provide:Ur,useExisting:wt(()=>bk),multi:!0};function v3(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let bk=(()=>{class n extends uc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const s=e.map(r=>this._getOptionId(r));i=(r,o)=>{r._setSelected(s.indexOf(o.toString())>-1)}}else i=(s,r)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const s=[];if(void 0!==i.selectedOptions){const r=i.selectedOptions;for(let o=0;o<r.length;o++){const a=r.item(o),l=this._getOptionValue(a.value);s.push(l)}}else{const r=i.options;for(let o=0;o<r.length;o++){const a=r.item(o);if(a.selected){const l=this._getOptionValue(a.value);s.push(l)}}}this.value=s,e(s)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=en(n)))(i||n)}}(),n.\u0275dir=ue({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&Ue("change",function(r){return i.onChange(r.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ht([PW]),Bt]}),n})(),Sk=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(v3(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(v3(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(V($t),V(tc),V(bk,9))},n.\u0275dir=ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),_3=(()=>{class n{constructor(){this._validator=Fa}handleChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.createValidator(i),this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ue({type:n}),n})();const DW={provide:cn,useExisting:wt(()=>b_),multi:!0};let b_=(()=>{class n extends _3{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>NB(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=en(n)))(i||n)}}(),n.\u0275dir=ue({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;hr("max",null!==(s=i.max)&&void 0!==s?s:null)}},inputs:{max:"max"},features:[ht([DW]),Bt,Dt]}),n})();const TW={provide:cn,useExisting:wt(()=>Ek),multi:!0};let Ek=(()=>{class n extends _3{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>RB(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=en(n)))(i||n)}}(),n.\u0275dir=ue({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;hr("min",null!==(s=i.min)&&void 0!==s?s:null)}},inputs:{min:"min"},features:[ht([TW]),Bt,Dt]}),n})();const xW={provide:cn,useExisting:wt(()=>S_),multi:!0};let S_=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?LB(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ue({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&hr("required",i.required?"":null)},inputs:{required:"required"},features:[ht([xW])]}),n})(),k3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ti({type:n}),n.\u0275inj=jt({imports:[[d3]]}),n})(),LW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ti({type:n}),n.\u0275inj=jt({imports:[k3]}),n})(),BW=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:mk,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ti({type:n}),n.\u0275inj=jt({imports:[k3]}),n})();var me=Qt(815);function E_(n){let e,t=n.length;for(;0!=t;)e=Math.floor(Math.random()*t),t--,[n[t],n[e]]=[n[e],n[t]];return n}function Uo(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n}function wk(n){return Math.ceil(100*n)/100}function It(n,t){let e;return e=n.player==t?n.opponet:n.player,e}function $W(n){var t,e,i,s,r,o,a;return new Ni({name:new ne(null!==(t=n.name)&&void 0!==t?t:null,tk.required),tier1Pets:new ne(null!==(e=n.tier1Pets)&&void 0!==e?e:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier2Pets:new ne(null!==(i=n.tier2Pets)&&void 0!==i?i:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier3Pets:new ne(null!==(s=n.tier3Pets)&&void 0!==s?s:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier4Pets:new ne(null!==(r=n.tier4Pets)&&void 0!==r?r:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier5Pets:new ne(null!==(o=n.tier5Pets)&&void 0!==o?o:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier6Pets:new ne(null!==(a=n.tier6Pets)&&void 0!==a?a:[],n=>n.value&&10!==n.value.length?{length:!0}:null)})}class ce{constructor(){this.multiplier=1,this.multiplierMessage="",this.originalPower=this.power}reset(){this.uses=this.originalUses}}class Ga extends ce{constructor(){super(...arguments),this.name="Peanut",this.equipmentClass="attack",this.power=0}}class $p extends ce{constructor(){super(...arguments),this.name="Salt",this.tier=4,this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class Vp extends ce{constructor(){super(...arguments),this.name="Cheese",this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class Fp extends ce{constructor(){super(...arguments),this.name="Pepper",this.equipmentClass="shield",this.uses=1,this.originalUses=1,this.power=0,this.originalPower=0}}class Hp extends ce{constructor(){super(),this.name="Fortune Cookie",this.equipmentClass="attack"}}class w_ extends ce{constructor(){super(...arguments),this.name="Dazed",this.equipmentClass="ailment-other"}}class qp extends ce{constructor(){super(...arguments),this.name="Exposed",this.equipmentClass="ailment-other",this.uses=2,this.originalUses=2}}class fc extends ce{constructor(){super(...arguments),this.name="Crisp",this.equipmentClass="ailment-other"}}class P3 extends ce{constructor(){super(...arguments),this.name="Peanut Butter",this.equipmentClass="attack",this.power=0,this.uses=1,this.originalUses=1}}class A3 extends ce{constructor(){super(),this.name="Blackberry",this.tier=3,this.equipmentClass="shop"}}class C_ extends ce{constructor(){super(...arguments),this.name="Honeydew Melon",this.tier=5,this.equipmentClass="shield",this.power=10,this.originalPower=10,this.uses=1,this.originalUses=1}}class VW extends ce{constructor(){super(...arguments),this.name="Honeydew Melon (Attack)",this.equipmentClass="attack",this.power=5,this.originalPower=5}}class Gp extends ce{constructor(t){super(),this.logService=t,this.name="Fairy Dust",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{let i=r=>{if(null!=r.parent.pet0)return;let o=2*this.multiplier;this.logService.createLog({message:`${r.name} pushed itself to the front and gained ${o} mana(Fairy Dust)${this.multiplierMessage}.`,type:"ability",player:r.parent}),r.parent.pushPetToFront(r,!0),r.increaseMana(o)},s=e.emptyFrontSpace;e.emptyFrontSpace=(r,o)=>{var a;null!=s&&s(r,o),"Tomato"==(null===(a=e.equipment)||void 0===a?void 0:a.name)&&(i(e),e.removePerk())}}}}class k_ extends ce{constructor(){super(...arguments),this.name="Ambrosia",this.tier=4,this.equipmentClass="shield",this.power=8,this.originalPower=8,this.uses=1,this.originalUses=1}}class E{constructor(t,e,i){this.logService=t,this.abilityService=e,this.hidden=!1,this.mana=0,this.maxAbilityUses=null,this.abilityUses=0,this.startOfBattleTriggered=!1,this.exp=0,this.originalExp=0,this.faintPet=!1,this.done=!1,this.seenDead=!1,this.swallowedPets=[],this.toyPet=!1,this.battlesFought=0,this.eggplantTouched=!1,this.cherryTouched=!1,this.parent=i}initPet(t,e,i,s,r){var o,a,l,h,f,m,y,_,w,T,D,R,I,B,$,W,X,ie,xe,Le,Pe,ot,it,et,zt,ve,J,ae,be,Ve,Ot;this.exp=null!=t?t:this.exp,this.health=null!=e?e:this.health*this.level,this.attack=null!=i?i:this.attack*this.level,this.mana=null!=s?s:this.mana,this.originalHealth=this.health,this.originalAttack=this.attack,this.originalMana=this.mana,this.equipment=r,this.originalEquipment=r,this.originalExp=this.exp,this.originalStartOfBattle=this.startOfBattle,this.originalTransform=this.transform,this.originalHurt=this.hurt,this.originalFaint=this.faint,this.originalFriendSummoned=this.friendSummoned,this.originalFriendAheadAttacks=this.friendAheadAttacks,this.originalFriendAheadFaints=this.friendAheadFaints,this.originalFriendFaints=this.friendFaints,this.originalFriendAteFood=this.friendAteFood,this.originalEatsFood=this.eatsFood,this.originalFriendLostPerk=this.friendLostPerk,this.originalGainedPerk=this.gainedPerk,this.originalFriendGainedPerk=this.friendGainedPerk,this.originalFriendGainedAilment=this.friendGainedAilment,this.originalFriendHurt=this.friendHurt,this.originalFriendAttacks=this.friendAttacks,this.originalBeforeFriendAttacks=this.beforeFriendAttacks,this.originalAfterAttack=this.afterAttack,this.originalAfterFaint=this.afterFaint,this.originalBeforeAttack=this.beforeAttack,this.originalBeforeStartOfBattle=this.beforeStartOfBattle,this.originalAnyoneLevelUp=this.anyoneLevelUp,this.originalEndTurn=this.endTurn,this.originalKnockOut=this.knockOut,this.originalSummoned=this.summoned,this.originalFriendlyToyBroke=this.friendlyToyBroke,this.originalEnemySummoned=this.enemySummoned,this.originalEnemyPushed=this.enemyPushed,this.originalEnemyHurt=this.enemyHurt,this.originalEmptyFrontSpace=this.emptyFrontSpace,this.originalAfterFaint=this.afterFaint,this.originalGainedMana=this.gainedMana,this.originalFriendJumped=this.friendJumped,this.originalEnemyGainedAilment=this.enemyGainedAilment,this.originalFriendGainsHealth=this.friendGainsHealth,this.originalFriendGainedExperience=this.friendGainedExperience;let Bi=null===(o=this.faint)||void 0===o?void 0:o.bind(this);null!=Bi&&(this.faintPet=!0),this.faint=(de,fe,at)=>{if(null!=Bi){if(!this.abilityValidCheck())return;Bi(de,fe,at)}if(this.abilityValidCheck()&&!this.kitsuneCheck()&&this.mana>0){let B4;B4={priority:this.attack,player:this.parent,callback:()=>{let $4=It(de,this.parent).getRandomPet([],!1,!0);null!=$4&&0!=this.mana&&this.snipePet($4,this.mana,!0,!1,!1,!1,!0)}},this.abilityService.setManaEvent(B4)}};let oi=null===(a=this.startOfBattle)||void 0===a?void 0:a.bind(this);this.startOfBattle=null==oi?null:(de,fe)=>{if(this.abilityValidCheck())return oi(de,fe)};let un=null===(l=this.transform)||void 0===l?void 0:l.bind(this);this.transform=null==un?null:(de,fe)=>{!this.abilityValidCheck()||un(de,fe)};let vt=null===(h=this.endTurn)||void 0===h?void 0:h.bind(this);this.endTurn=null==vt?null:de=>{!this.abilityValidCheck()||vt(de)};let gs=null===(f=this.beforeAttack)||void 0===f?void 0:f.bind(this);this.beforeAttack=null==gs?null:(de,fe)=>{!this.abilityValidCheck()||gs(de,fe)};let ki=null===(m=this.afterAttack)||void 0===m?void 0:m.bind(this);this.afterAttack=null==ki?null:(de,fe)=>{!this.abilityValidCheck()||ki(de,fe)};let ms=null===(y=this.friendAttacks)||void 0===y?void 0:y.bind(this);this.friendAttacks=null==ms?null:(de,fe)=>{!this.abilityValidCheck()||ms(de,fe)};let On=null===(_=this.beforeFriendAttacks)||void 0===_?void 0:_.bind(this);this.beforeFriendAttacks=null==On?null:(de,fe,at)=>{!this.abilityValidCheck()||On(de,fe,at)};let Yn=null===(w=this.friendFaints)||void 0===w?void 0:w.bind(this);this.friendFaints=null==Yn?null:(de,fe,at)=>{!this.abilityValidCheck()||Yn(de,fe,at)};let il=null===(T=this.friendLostPerk)||void 0===T?void 0:T.bind(this);this.friendLostPerk=null==il?null:(de,fe,at)=>{!this.abilityValidCheck()||il(de,fe,at)};let zh=null===(D=this.gainedPerk)||void 0===D?void 0:D.bind(this);this.gainedPerk=null==zh?null:(de,fe,at)=>{!this.abilityValidCheck()||zh(de,fe,at)};let _S=null===(R=this.friendGainedPerk)||void 0===R?void 0:R.bind(this);this.friendGainedPerk=null==_S?null:(de,fe,at)=>{!this.abilityValidCheck()||_S(de,fe,at)};let Eg=null===(I=this.eatsFood)||void 0===I?void 0:I.bind(this);this.eatsFood=null==Eg?null:(de,fe,at)=>{!this.abilityValidCheck()||Eg(de,fe,at)};let bS=null===(B=this.friendAteFood)||void 0===B?void 0:B.bind(this);this.friendAteFood=null==bS?null:(de,fe,at)=>{!this.abilityValidCheck()||bS(de,fe,at)};let SS=null===($=this.beforeStartOfBattle)||void 0===$?void 0:$.bind(this);this.beforeStartOfBattle=null==SS?null:(de,fe)=>{!this.abilityValidCheck()||SS(de,fe)};let wg=null===(W=this.friendHurt)||void 0===W?void 0:W.bind(this);this.friendHurt=null==wg?null:(de,fe,at)=>{!this.abilityValidCheck()||wg(de,fe,at)};let Cg=null===(X=this.friendSummoned)||void 0===X?void 0:X.bind(this);this.friendSummoned=null==Cg?null:(de,fe,at)=>{!this.abilityValidCheck()||Cg(de,fe,at)};let ES=null===(ie=this.anyoneLevelUp)||void 0===ie?void 0:ie.bind(this);this.anyoneLevelUp=null==ES?null:(de,fe,at)=>{!this.abilityValidCheck()||ES(de,fe,at)};let wS=null===(xe=this.enemyHurt)||void 0===xe?void 0:xe.bind(this);this.enemyHurt=null==wS?null:(de,fe,at)=>{!this.abilityValidCheck()||wS(de,fe,at)};let Xr=null===(Le=this.enemySummoned)||void 0===Le?void 0:Le.bind(this);this.enemySummoned=null==Xr?null:(de,fe,at)=>{!this.abilityValidCheck()||Xr(de,fe,at)};let xc=null===(Pe=this.emptyFrontSpace)||void 0===Pe?void 0:Pe.bind(this);this.emptyFrontSpace=null==xc?null:(de,fe)=>{!this.abilityValidCheck()||xc(de,fe)};let kg=null===(ot=this.gainedMana)||void 0===ot?void 0:ot.bind(this);this.gainedMana=null==kg?null:(de,fe)=>{!this.abilityValidCheck()||kg(de,fe)};let Pg=null===(it=this.friendJumped)||void 0===it?void 0:it.bind(this);this.friendJumped=null==Pg?null:(de,fe,at)=>{!this.abilityValidCheck()||Pg(de,fe,at)};let Kh=null===(et=this.friendlyToyBroke)||void 0===et?void 0:et.bind(this);this.friendlyToyBroke=null==Kh?null:(de,fe)=>{!this.abilityValidCheck()||Kh(de,fe)};let Ag=null===(zt=this.enemyPushed)||void 0===zt?void 0:zt.bind(this);this.enemyPushed=null==Ag?null:(de,fe)=>{!this.abilityValidCheck()||Ag(de,fe)};let Dg=null===(ve=this.summoned)||void 0===ve?void 0:ve.bind(this);this.summoned=null==Dg?null:(de,fe)=>{Dg(de,fe)};let Tg=null===(J=this.knockOut)||void 0===J?void 0:J.bind(this);this.knockOut=null==Tg?null:(de,fe,at)=>{!this.abilityValidCheck()||Tg(de,fe,at)};let xg=null===(ae=this.enemyGainedAilment)||void 0===ae?void 0:ae.bind(this);this.enemyGainedAilment=null==xg?null:(de,fe,at)=>{!this.abilityValidCheck()||xg(de,fe,at)};let R4=null===(be=this.friendGainsHealth)||void 0===be?void 0:be.bind(this);this.friendGainsHealth=null==R4?null:(de,fe,at)=>{!this.abilityValidCheck()||R4(de,fe,at)};let N4=null===(Ve=this.friendGainedExperience)||void 0===Ve?void 0:Ve.bind(this);this.friendGainedExperience=null==N4?null:(de,fe,at)=>{!this.abilityValidCheck()||N4(de,fe,at)};let L4=null===(Ot=this.afterFaint)||void 0===Ot?void 0:Ot.bind(this);this.afterFaint=null==L4?null:(de,fe,at)=>{!this.abilityValidCheck()||L4(de,fe,at)},this.setAbilityUses()}abilityValidCheck(){return!(null==this.savedPosition||this.equipment instanceof w_&&(this.logService.createLog({message:`${this.name}'s ability was not activated because of Dazed.`,type:"ability",player:this.parent}),1))}setAbilityUses(){this.abilityUses=0}tigerCheck(t){var e;return"Tiger"==(null===(e=this.petBehind(!0,!0))||void 0===e?void 0:e.name)&&(null==t||0==t)}superStartOfBattle(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(!0,!0).minExpForLevel,this.originalStartOfBattle(t,!0),this.exp=i}superHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalHurt(t,e,!0),this.exp=s}superFaint(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFaint(t,!0),this.exp=i}superFriendSummoned(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendSummoned(t,e,!0),this.exp=s}superFriendAheadAttacks(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendAheadAttacks(t,e,!0),this.exp=s}superFriendAheadFaints(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendAheadFaints(t,e,!0),this.exp=s}superAfterAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalAfterAttack(t,!0),this.exp=i}superSummoned(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.summoned(t,!0),this.exp=i}superKnockOut(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.knockOut(t,e,!0),this.exp=s}superFriendFaints(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendFaints(t,e,!0),this.exp=s}superBeforeAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalBeforeAttack(t,!0),this.exp=i}superBeforeFriendAttacks(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalBeforeFriendAttacks(t,e,!0),this.exp=s}superFriendLosPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendLostPerk(t,e,!0),this.exp=s}superGainedPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalGainedPerk(t,e,!0),this.exp=s}superFriendGainedPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendGainedPerk(t,e,!0),this.exp=s}superEatsFood(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalEatsFood(t,e,!0),this.exp=s}superFriendAteFood(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendAteFood(t,e,!0),this.exp=s}superBeforeStartOfBattle(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalBeforeStartOfBattle(t,!0),this.exp=i}superFriendlyToyBroke(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendlyToyBroke(t,!0),this.exp=i}superTransform(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalTransform(t,!0),this.exp=i}superEnemySummoned(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemySummoned(t,e,!0),this.exp=s}superFriendHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendHurt(t,e,!0),this.exp=s}superAnyoneLevelUp(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.anyoneLevelUp(t,e,!0),this.exp=s}superEnemyHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyHurt(t,e,!0),this.exp=s}superFriendAttacks(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendAttacks(t,!0),this.exp=i}superEmptyFrontSpace(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.emptyFrontSpace(t,!0),this.exp=i}superGainedMana(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalGainedMana(t,!0),this.exp=i}superFriendJumped(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendJumped(t,e,!0),this.exp=s}superEnemyGainedAilment(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyGainedAilment(t,e,!0),this.exp=s}superFriendGainsHealth(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendGainsHealth(t,e,!0),this.exp=s}superFriendGainedExperience(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendGainedExperience(t,e,!0),this.exp=s}superAfterFaint(t,e=!1,i=!1){if(!this.tigerCheck(e))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalAfterFaint(t,!0,i),this.exp=s}attackPet(t){var e,i,s,r,o;let a=this.calculateDamgae(t,this.getManticoreMult()),l=a.attackEquipment,h=a.defenseEquipment,f=a.damage,m=!1,y=null===(e=this.equipment)||void 0===e?void 0:e.multiplier,_=null===(i=t.equipment)||void 0===i?void 0:i.multiplier;if(l instanceof Ga&&f>0)this.logService.createLog({message:`${this.name} attacks ${t.name} for ${t.health} (Peanut)`,type:"attack",player:this.parent}),t.health=0;else if(l instanceof P3&&f>0&&l.uses>0)this.logService.createLog({message:`${this.name} attacks ${t.name} for ${t.health} (Peanut Butter)`,type:"attack",player:this.parent}),t.health=0;else{t.health-=f;let w=`${this.name} attacks ${t.name} for ${f}.`;if(null!=l){let B=Math.abs(l.power),$="-";l.power>0&&($="+");let W=`${$}${B}`;l instanceof $p&&(W="x2"),l instanceof Vp&&(W=f<=15?"=15":"+0"),l instanceof Hp&&(m=!0,a.fortuneCookie?(W="x2",l.multiplier>1&&(W+=l.multiplierMessage)):W="x1"),w+=` (${l.name} ${W})`,y>1&&(w+=this.equipment.multiplierMessage)}if(null!=h){let B=Math.abs(h.power),$="-";h.power<0&&($="+"),h instanceof Fp&&($=1==t.health?"!":"-",B=""),w+=` (${h.name} ${$}${B})`,_>1&&(w+=t.equipment.multiplierMessage)}t.equipment instanceof qp&&(w+="x2 (Exposed)",t.equipment.multiplier>1&&(w+=t.equipment.multiplierMessage)),a.nurikabe>0&&(w+=` -${a.nurikabe} (Nurikabe)`),a.fairyBallReduction>0&&(w+=` -${a.fairyBallReduction} (Fairy Ball)`);let T=this.getManticoreMult(),R=["Weak","Cold","Exposed","Spooked"].includes(null===(s=t.equipment)||void 0===s?void 0:s.name);if(T.length>0&&R)for(let B of T)w+=` x${B+1} (Manticore)`;this.logService.createLog({message:w,type:"attack",player:this.parent,randomEvent:m});let I="skewer"==(null===(r=this.equipment)||void 0===r?void 0:r.equipmentClass)?this.equipment:null;null!=I&&I.attackCallback(this,t)}this.abilityService.triggerFriendAttacksEvents(this.parent,this),null!=t.hurt&&f>0&&this.abilityService.setHurtEvent({callback:t.hurt.bind(t),priority:t.attack,player:t.parent,callbackPet:this}),null!=this.afterAttack&&this.abilityService.setAfterAttackEvent({callback:this.afterAttack.bind(this),priority:this.attack}),t.health<1&&null!=this.knockOut&&this.abilityService.setKnockOutEvent({callback:this.knockOut.bind(this),priority:this.attack,callbackPet:t}),null!=(null===(o=this.petBehind(null,!0))||void 0===o?void 0:o.friendAheadAttacks)&&this.abilityService.setFriendAheadAttacksEvents({callback:this.petBehind(null,!0).friendAheadAttacks.bind(this.petBehind(null,!0)),priority:this.petBehind(null,!0).attack,callbackPet:this}),t.alive&&f>0&&this.abilityService.triggerFriendHurtEvents(t.parent,t),t.alive&&f>0&&this.abilityService.triggerEnemyHurtEvents(this.parent,t),this.applyCrisp()}applyCrisp(){let t=this.parent.opponent.getManticoreMult();for(let e of this.parent.petArray)if(e.equipment instanceof fc){let i=6,s=e.equipment.multiplier;for(let a of t)s+=a;i*=s;let r=0;"Nurikabe"==e.name&&e.abilityUses<3&&(r=4*e.level,i=Math.max(0,i-r));let o=`${e.name} took ${i} damage`;if(t.length>0)for(let a of t)o+=` x${a+1} (Manticore)`;e.equipment.multiplier>1&&(o+=e.equipment.multiplierMessage),r>0&&(o+=` -${r} (Nurikabe)`),o+=" (Crisp).",this.logService.createLog({message:o,type:"ability",player:e.parent}),e.health-=i,e.removePerk()}}snipePet(t,e,i,s,r,o,a){var l,h,f,m;let y=!1;"Albatross"==(null===(l=this.petAhead)||void 0===l?void 0:l.name)&&t.tier<=4&&(e+=3*this.petAhead.level,y=!0),"Albatross"==(null===(h=this.petBehind())||void 0===h?void 0:h.name)&&t.tier<=4&&(e+=3*this.petBehind().level,y=!0);let _=this.calculateDamgae(t,this.getManticoreMult(),e,!0),w=_.attackEquipment,T=_.defenseEquipment,D=_.damage,R="Ghost Kitten"==t.name,I=0;R&&(I=3*t.level,D=Math.max(0,D-I)),t.health-=D;let B=`${this.name} sniped ${t.name} for ${D}.`;if(null!=T){t.useDefenseEquipment(!0);let ie=Math.abs(T.power),xe="-";T.power<0&&(xe="+"),B+=` (${T.name} ${xe}${ie})`,B+=T.multiplierMessage}if(null!=w&&"attack-snipe"==w.equipmentClass){let ie=Math.abs(w.power),xe="-";w.power>0&&(xe="+"),B+=` (${w.name} ${xe}${ie})`}s&&(B+=" (Tiger)"),y&&(B+=" (Albatross)"),o&&(B+=" (Fig)"),a&&(B+=" (Mana)"),R&&(B+=` -${I} (Ghost Kitten)`),"Exposed"==(null===(f=t.equipment)||void 0===f?void 0:f.name)&&(B+="x2 (Exposed)",t.equipment.multiplier>1&&(B+=t.equipment.multiplierMessage));let $=this.getManticoreMult(),X=["Weak","Cold","Exposed","Spooked"].includes(null===(m=t.equipment)||void 0===m?void 0:m.name);if($.length>0&&X)for(let ie of $)B+=` x${ie+1} (Manticore)`;return _.nurikabe>0&&(B+=` -${_.nurikabe} (Nurikabe)`),_.fairyBallReduction>0&&(B+=` -${_.fairyBallReduction} (Fairy Ball)`),this.logService.createLog({message:B,type:"attack",randomEvent:i,player:this.parent,pteranodon:r}),null!=t.hurt&&D>0&&this.abilityService.setHurtEvent({callback:t.hurt.bind(t),priority:t.attack,player:t.parent,callbackPet:this}),t.health<1&&null!=this.knockOut&&this.abilityService.setKnockOutEvent({callback:this.knockOut.bind(this),priority:this.attack,callbackPet:t}),t.alive&&D>0&&this.abilityService.triggerFriendHurtEvents(t.parent,t),t.alive&&D>0&&this.abilityService.triggerEnemyHurtEvents(this.parent,t),D}calculateDamgae(t,e,i,s=!1){var r,o,a,l,h,f,m,y,_;let w=null===(r=this.equipment)||void 0===r?void 0:r.multiplier,T=null===(o=t.equipment)||void 0===o?void 0:o.multiplier;const R=["Ink"];let $,W,B="defense"==(null===(a=t.equipment)||void 0===a?void 0:a.equipmentClass)||"shield"==(null===(l=t.equipment)||void 0===l?void 0:l.equipmentClass)||"ailment-defense"==(null===(h=t.equipment)||void 0===h?void 0:h.equipmentClass)||s&&"shield-snipe"==(null===(f=t.equipment)||void 0===f?void 0:f.equipmentClass)?t.equipment:null;if(null!=B){if(["Cold","Weak"].includes(null==B?void 0:B.name))for(let it of e)T+=it;B.power=B.originalPower*T}if(s)$="attack-snipe"==(null===(m=this.equipment)||void 0===m?void 0:m.equipmentClass)?this.equipment:null,W=null!=$?i+$.power:i;else{if($=this.equipment instanceof C_?new VW:"attack"==(null===(y=this.equipment)||void 0===y?void 0:y.equipmentClass)||"ailment-attack"==(null===(_=this.equipment)||void 0===_?void 0:_.equipmentClass)?this.equipment:null,null!=$){if(R.includes(null==$?void 0:$.name))for(let ve of e)w+=ve;$.power=$.originalPower*w}let it=this.attack;"Monty"==this.name&&(it*=this.level+1),W=(null!=i?i:it)+((null==$?void 0:$.power)?$.power:0)}let X=(null==B?void 0:B.power)?B.power:0,ie="shield"==(null==B?void 0:B.equipmentClass)||"shield-snipe"==(null==B?void 0:B.equipmentClass)?0:1;void 0!==(null==B?void 0:B.minimumDamage)&&(ie=B.minimumDamage);let xe=0;"Nurikabe"==t.name&&t.abilityUses<3&&(xe=4*t.level,X+=xe,t.abilityUses++),$ instanceof $p&&!s&&(W*=2+w-1);let Pe,Le=!1;if($ instanceof Hp&&!s&&Math.random()<.5&&(W*=2+w-1,Le=!0),$ instanceof Vp&&!s&&(W=Math.max(15,W)),t.equipment instanceof qp){let it=2;for(let et of e)it+=et;it+=t.equipment.multiplier-1,W*=it}Pe=W<=0?0:Math.max(ie,W-X),B instanceof Fp&&(Pe=Math.min(Pe,t.health-1));let ot=0;return"Fairy Ball"===t.name&&(ot=2*t.level,Pe=Math.max(0,Pe-ot)),{defenseEquipment:B,attackEquipment:$,damage:Pe,fortuneCookie:Le,nurikabe:xe,fairyBallReduction:0}}resetPet(){var t;this.health=this.originalHealth,this.attack=this.originalAttack,this.equipment=this.originalEquipment,this.mana=this.originalMana,this.exp=this.originalExp,this.done=!1,this.seenDead=!1;try{null===(t=this.equipment)||void 0===t||t.reset()}catch(e){console.warn("equipment reset failed",this.equipment),console.error(e)}this.swallowedPets=[],this.savedPosition=this.originalSavedPosition,this.setAbilityUses()}get alive(){return this.health>0}setFaintEventIfPresent(){var t;null!=this.faint&&this.abilityService.setFaintEvent({priority:this.attack,callback:this.faint.bind(this)}),"faint"==(null===(t=this.equipment)||void 0===t?void 0:t.equipmentClass)&&this.abilityService.setFaintEvent({priority:-1,callback:()=>{try{this.equipment.callback(this)}catch(e){console.warn("equipment callback failed",this.equipment)}}})}useDefenseEquipment(t=!1){if(null!=this.equipment){if("Exposed"!=this.equipment.name&&"Cold"!=this.equipment.name&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&t&&"shield-snipe"!=this.equipment.equipmentClass)return;null!=this.equipment.uses&&(this.equipment.uses-=1,0==this.equipment.uses&&this.removePerk())}}useAttackDefenseEquipment(){null!=this.equipment&&null!=this.equipment.uses&&("attack"!=this.equipment.equipmentClass&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&"snipe"!=this.equipment.equipmentClass||(isNaN(this.equipment.uses)&&console.warn("uses is NaN",this.equipment),this.equipment.uses-=1,0==this.equipment.uses&&this.removePerk()))}increaseAttack(t){let e=50;"Behemoth"==this.name&&(e=100),this.attack=Math.min(Math.max(this.attack+t,1),e)}increaseHealth(t){let e=50;"Behemoth"==this.name&&(e=100),this.health=Math.min(Math.max(this.health+t,1),e),this.abilityService.triggerFriendGainsHealthEvents(this.parent,this),this.abilityService.executeFriendGainsHealthEvents()}increaseExp(t){let e=this.level;this.increaseAttack(t),this.increaseHealth(t),this.exp=Math.min(this.exp+t,5),this.level>e&&(this.logService.createLog({message:`${this.name} leveled up to level ${this.level}.`,type:"ability",player:this.parent}),this.abilityService.triggerLevelUpEvents(this.parent,this),this.abilityService.triggerLevelUpEvents(this.parent.opponent,this),this.abilityService.executeLevelUpEvents(),this.abilityService.executeFriendlyLevelUpToyEvents(),this.setAbilityUses()),this.abilityService.triggerFriendGainedExperienceEvents(this.parent,this),this.abilityService.executeFriendGainedExperienceEvents()}increaseMana(t){this.mana+=t,this.mana=Math.min(this.mana,50),this.gainedMana&&this.gainedMana(null,!1)}givePetEquipment(t,e=1){if(null!=t){if(("Pita Bread"==t.name||t instanceof Gp||"beforeAttack"==t.equipmentClass||"afterFaint"==t.equipmentClass)&&(this.equipment=t,this.setEquipmentMultiplier(e),this.equipment.callback(this)),t instanceof A3){this.equipment=t,this.setEquipmentMultiplier(e);let i=1*t.multiplier,s=2*t.multiplier;this.increaseAttack(i),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${i} attack and ${s} health (Blackberry)${t.multiplierMessage}`,type:"equipment",player:this.parent})}if("ailment-attack"==t.equipmentClass||"ailment-defense"==t.equipmentClass||"ailment-other"==t.equipmentClass){if(this.equipment instanceof k_)return this.equipment.uses--,this.logService.createLog({message:`${this.name} blocked ${t.name}. (Ambrosia)`,type:"equipment",player:this.parent}),void(0==this.equipment.uses&&this.removePerk());this.equipment=t,this.setEquipmentMultiplier(e),this.abilityService.triggerFriendGainedAilmentEvents(this),this.abilityService.executeFriendGainedAilmentEvents(),this.abilityService.triggerEnemyGainedAilmentEvents(this.parent.opponent.petArray,this),this.abilityService.executeEnemyGainedAilmentEvents()}else this.equipment=t,this.setEquipmentMultiplier(e),this.abilityService.triggerGainedPerkEvents(this),this.abilityService.executeGainedPerkEvents(),this.abilityService.triggerFriendGainedPerkEvents(this),this.abilityService.executeFriendGainedPerkEvents();this.eatsFood&&this.abilityService.setEatsFoodEvent({callback:this.eatsFood.bind(this),priority:this.attack,callbackPet:this}),this.abilityService.triggerFriendAteFoodEvents(this)}else console.warn(`givePetEquipment called with null equipment for pet: ${this.name}`)}removePerk(){if(null==this.equipment)return;let t="ailment-attack"==this.equipment.equipmentClass||"ailment-defense"==this.equipment.equipmentClass||"ailment-other"==this.equipment.equipmentClass;this.equipment=null,t||(this.abilityService.triggerFriendLostPerkEvents(this),this.abilityService.executeFriendLostPerkEvents())}setEquipmentMultiplier(t=1){if(!this.equipment)return;let e=1,i=[];"Panther"===this.name&&"ailment-attack"!==this.equipment.equipmentClass&&"ailment-defense"!==this.equipment.equipmentClass&&"ailment-other"!==this.equipment.equipmentClass&&(e+=this.level,i.push(`x${this.level+1} (Panther)`)),t&&t>1&&(e+=t-1,i.push(`x${t} (Pandora's Box)`)),this.equipment.multiplier=e,this.equipment.multiplierMessage=i.length>0?` ${i.join(" ")}`:""}get level(){return this.exp<2?1:this.exp<5?2:3}get position(){return this==this.parent.pet0?0:this==this.parent.pet1?1:this==this.parent.pet2?2:this==this.parent.pet3?3:this==this.parent.pet4?4:void 0}petBehind(t=!1,e=!1){for(let s=(void 0!==this.position?this.position:this.savedPosition)+1;s<5;s++){let r=this.parent.getPetAtPosition(s);if(e&&null!=r)return r;if(t&&null!=r&&!r.alive&&!r.seenDead)return null;if(null!=r&&r.alive)return r}return null}getManticoreMult(){let t=[];for(let e of this.parent.petArray)"Manticore"==e.name&&t.push(e.level);return t}getPetsAhead(t,e=!1){let i=[],s=this.petAhead;for(;s&&!(i.length>=this.level);)i.push(s),s=s.petAhead;if(i.length<t){let o=this.parent.opponent.furthestUpPet;for(;o&&!(i.length>=t);)i.push(o),o=o.petBehind()}return i}getPetsBehind(t){let e=[],i=this.petBehind();for(;i&&!(e.length>=t);)e.push(i),i=i.petBehind();return e}kitsuneCheck(){let t=this.petBehind(),e=!0;for(;t;){if("Kitsune"==t.name&&e)return!1;if(e=!1,"Kitsune"==t.name)return!0;t=t.petBehind()}return!1}get petAhead(){for(let t=this.position-1;t>-1;t--){let e=this.parent.getPetAtPosition(t);if(null!=e&&e.alive)return e}return null}get minExpForLevel(){return 1==this.level?0:2==this.level?2:5}}class Sr extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puma",this.tier=6,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(a,s,r,o,l)}}class P_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Golden Retriever",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class A_ extends ce{constructor(t){super(),this.logService=t,this.name="Onion",this.equipmentClass="beforeAttack",this.callback=e=>{var i;let s=null===(i=e.originalBeforeAttack)||void 0===i?void 0:i.bind(e);e.beforeAttack=r=>{var o;null!=s&&s(r),"Onion"==(null===(o=e.equipment)||void 0===o?void 0:o.name)&&(this.logService.createLog({message:`${e.name} pushed itself to the back. (Onion)`,type:"equipment",player:e.parent}),e.removePerk(),e.parent.pushPetToBack(e),e.parent.pushPetsForward())}}}}class D3{constructor(t,e,i){this.logService=t,this.abilityService=e,this.gameService=i,this.pack="Turtle",this.trumpets=0,this.spawnedGoldenRetiever=!1,this.summonedBoatThisBattle=!1}alive(){return this.petArray.length>0}resetPets(){var t,e,i,s,r;this.pet0=this.orignalPet0,null===(t=this.pet0)||void 0===t||t.resetPet(),this.pet1=this.orignalPet1,null===(e=this.pet1)||void 0===e||e.resetPet(),this.pet2=this.orignalPet2,null===(i=this.pet2)||void 0===i||i.resetPet(),this.pet3=this.orignalPet3,null===(s=this.pet3)||void 0===s||s.resetPet(),this.pet4=this.orignalPet4,null===(r=this.pet4)||void 0===r||r.resetPet(),this.orignalPet0=this.pet0,this.orignalPet1=this.pet1,this.orignalPet2=this.pet2,this.orignalPet3=this.pet3,this.orignalPet4=this.pet4,this.originalToy=this.toy,this.toy=this.originalToy,this.toy&&(this.toy.used=!1,this.toy.triggers=0),this.trumpets=0,this.spawnedGoldenRetiever=!1,this.summonedBoatThisBattle=!1}setPet(t,e,i=!1){this.getPet(t),0==t&&(this.pet0=e,null!=e&&(this.pet0.savedPosition=0),i&&(this.orignalPet0=e)),1==t&&(this.pet1=e,null!=e&&(this.pet1.savedPosition=1),i&&(this.orignalPet1=e)),2==t&&(this.pet2=e,null!=e&&(this.pet2.savedPosition=2),i&&(this.orignalPet2=e)),3==t&&(this.pet3=e,null!=e&&(this.pet3.savedPosition=3),i&&(this.orignalPet3=e)),4==t&&(this.pet4=e,null!=e&&(this.pet4.savedPosition=4),i&&(this.orignalPet4=e)),i&&null!=e&&(e.originalSavedPosition=e.savedPosition)}getPet(t){return this[`pet${t}`]}pushPetsForward(){let t=(0,me.clone)(this.petArray);try{this.setPet(0,t[0])}catch(e){this.pet0=null}try{this.setPet(1,t[1])}catch(e){this.pet1=null}try{this.setPet(2,t[2])}catch(e){this.pet2=null}try{this.setPet(3,t[3])}catch(e){this.pet3=null}try{this.setPet(4,t[4])}catch(e){this.pet4=null}}onionCheck(){var t;null!=(null===(t=this.pet0)||void 0===t?void 0:t.equipment)&&this.pet0.equipment instanceof A_&&(this.pet0.equipment.callback(this.pet0),this.pushPetsForward())}summonPet(t,e,i=!1){if(5==this.petArray.length)return i||this.logService.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:this}),!1;this==this.gameService.gameApi.player?this.gameService.gameApi.playerSummonedAmount++:this.gameService.gameApi.opponentSummonedAmount++,0==e&&(null!=this.pet0&&this.makeRoomForSlot(0),this.setPet(0,t)),1==e&&(null!=this.pet1&&this.makeRoomForSlot(1),this.setPet(1,t)),2==e&&(null!=this.pet2&&this.makeRoomForSlot(2),this.setPet(2,t)),3==e&&(null!=this.pet3&&this.makeRoomForSlot(3),this.setPet(3,t)),4==e&&(null!=this.pet4&&this.makeRoomForSlot(4),this.setPet(4,t)),t.summoned&&t.summoned(null);let r=It(this.gameService.gameApi,this);return this.abilityService.triggerEnemySummonedEvents(r,t),!0}makeRoomForSlot(t){if(5==this.petArray.length)return void console.warn("No room to Make Room");let e=null,i=!1;if(t>0&&null==this.pet0&&(i=!0,e=0),t>1&&null==this.pet1&&(i=!0,e=1),t>2&&null==this.pet2&&(i=!0,e=2),t>3&&null==this.pet3&&(i=!0,e=3),i){for(let r=e;r<t;r++)this[`pet${r}`]=this[`pet${r+1}`];return}let s=!1;if(t<4&&null==this.pet4&&(s=!0,e=4),t<3&&null==this.pet3&&(s=!0,e=3),t<2&&null==this.pet2&&(s=!0,e=2),t<1&&null==this.pet1&&(s=!0,e=1),s)for(let r=e;r>t;r--)this[`pet${r}`]=this["pet"+(r-1)]}get petArray(){let t=[];return null!=this.pet0&&t.push(this.pet0),null!=this.pet1&&t.push(this.pet1),null!=this.pet2&&t.push(this.pet2),null!=this.pet3&&t.push(this.pet3),null!=this.pet4&&t.push(this.pet4),t}handleDeath(t){t.seenDead=!0,t.setFaintEventIfPresent();let e=t.petBehind(!0,!0);null!=(null==e?void 0:e.friendAheadFaints)&&(null==e?void 0:e.alive)&&this.abilityService.setFriendAheadFaintsEvent({callback:e.friendAheadFaints.bind(e),priority:e.attack,player:this,callbackPet:t}),this.createDeathLog(t)}checkPetsAlive(){this.pet0&&!this.pet0.alive&&!this.pet0.seenDead&&this.handleDeath(this.pet0),this.pet1&&!this.pet1.alive&&!this.pet1.seenDead&&this.handleDeath(this.pet1),this.pet2&&!this.pet2.alive&&!this.pet2.seenDead&&this.handleDeath(this.pet2),this.pet3&&!this.pet3.alive&&!this.pet3.seenDead&&this.handleDeath(this.pet3),this.pet4&&!this.pet4.alive&&!this.pet4.seenDead&&this.handleDeath(this.pet4)}removeDeadPets(){let t=!1;const e=[{pet:this.pet0,index:0},{pet:this.pet1,index:1},{pet:this.pet2,index:2},{pet:this.pet3,index:3},{pet:this.pet4,index:4}];for(const i of e)i.pet&&!i.pet.alive&&(i.pet.afterFaint&&this.abilityService.setAfterFaintEvent({callback:i.pet.afterFaint.bind(i.pet),priority:i.pet.attack,player:this,callbackPet:i.pet}),this.abilityService.triggerFriendFaintsEvents(i.pet),this[`pet${i.index}`]=null,t=!0);return t&&this.abilityService.executeAfterFaintEvents(),t}createDeathLog(t){this.logService.createLog({message:`${t.name} fainted.`,type:"death",player:t.parent})}getRandomPet(t,e,i,s){let r=this.petArray;if(e){let a=this.getPetsWithEquipment("Donut").filter(l=>{null==t||t.includes(l)});a.length>0&&(r=a),s&&(r=r.filter(l=>50!=l.health||50!=l.attack||"Behemoth"==l.name),0==r.length&&(r=this.petArray))}if(i){let a=this.getPetsWithEquipment("Blueberry").filter(l=>{null==t||t.includes(l)});a.length>0&&(r=a)}if(r=r.filter(a=>{let l=!0;return t&&(l=!t.includes(a)),l&&a.health>0}),s){let a=(0,me.clone)(r);r=r.filter(l=>50!=l.health||50!=l.attack),0==r.length&&(r=a)}return 0==r.length?null:r[Uo(0,r.length-1)]}getRandomPets(t,e,i,s){let r=[];e=null!=e?e:[];for(let o=0;o<t;o++){let a=this.getRandomPet(e,i,s);if(null==a)break;e.push(a),r.push(a)}if(r.length<t)for(let o=r.length;o<t;o++){let a=this.getRandomPet(e);if(null==a)break;e.push(a),r.push(a)}return r}getPetsWithEquipment(t){var e;let i=[];for(let s of this.petArray)!s.alive||(null===(e=s.equipment)||void 0===e?void 0:e.name)==t&&i.push(s);return i}getPetAtPosition(t){for(let e of this.petArray)if(e.position==t)return e;return null}getLastPet(){for(let t of this.petArray.reverse())if(t.alive)return t}getHighestHealthPet(t){if(0==this.petArray.filter(s=>s!=t&&s.alive).length)return{pet:null,random:!1};let i;for(let s in this.petArray){let o=this.petArray[+s];if(o!=t){if(null==i){i=[o];continue}if(o.health==i[0].health){i.push(o);continue}o.health>i[0].health&&(i=[o])}}return{pet:i[Uo(0,i.length-1)],random:i.length>1}}getLowestHealthPet(t){let e;for(let s in this.petArray){let o=this.petArray[+s];if(o!=t&&o.alive){if(null==e){e=[o];continue}if(o.health==e[0].health){e.push(o);continue}o.health<e[0].health&&(e=[o])}}let i=null==e?null:e[Uo(0,e.length-1)];return{pet:i,random:null!=i&&e.length>1}}get furthestUpPet(){for(let t of this.petArray)if(t.alive)return t;return null}breakToy(t=!1){if(null==this.toy||null==this.toy.onBreak)return;this.logService.createLog({message:`${this.toy.name} broke!`,type:"ability",player:this,randomEvent:!1});let e=[{callback:this.toy.onBreak.bind(this.toy),priority:99}],i=this.toy.level;for(let r of this.petArray)r instanceof Sr&&e.push({callback:()=>{this.toy.level=r.level,this.toy.onBreak(this.gameService.gameApi,!0),this.toy.level=i},priority:r.attack});e.sort((r,o)=>r.priority>o.priority?-1:r.priority<o.priority?1:0);for(let r of e)r.callback(this.gameService.gameApi);let s=(0,me.cloneDeep)(this.toy);this.toy=null,t&&this.setToy(s)}setToy(t){this.toy=t}getStrongestPet(){let t,e=(0,me.shuffle)(this.petArray);for(let i of e)null!=t?i.attack+i.health>t.attack+t.health&&(t=i):t=i;return t}pushPetToFront(t,e=!1){this.pushPet(t,4),e&&(this.abilityService.triggerFriendJumpedEvents(this,t),this.abilityService.triggerFriendJumpedToyEvents(this,t),this.abilityService.executeFriendJumpedEvents(),this.abilityService.executeFriendJumpedToyEvents())}pushPetToBack(t){this.pushPet(t,-4)}pushPet(t,e=1){let r,i=t.parent,s=t.position;i[`pet${s}`]=null,e>0&&(r=Math.max(s-e,0)),e<0&&(r=Math.min(s-e,4)),i.summonPet(t,r)}getRandomStrawberryPet(t){let e=this.getPetsWithEquipment("Strawberry"),i=e.filter(s=>s!=t);return 0==i.length?null:e[Uo(0,i.length-1)]}get opponent(){return It(this.gameService.gameApi,this)}gainTrumpets(t,e,i,s,r){this.trumpets=Math.min(50,this.trumpets+=t);let o=`${e.name} gained ${t} trumpets. (${this.trumpets})`;r&&(o+=" (Cherry)"),this.logService.createLog({message:o,type:"trumpets",player:this,pteranodon:i,pantherMultiplier:s})}spendTrumpets(t,e,i){this.trumpets=Math.max(0,this.trumpets-=t),this.logService.createLog({message:`${e.name} spent ${t} trumpets. (${this.trumpets})`,type:"trumpets",player:this,pteranodon:i})}checkGoldenSpawn(){if(this.spawnedGoldenRetiever||this.petArray.length>1||0==this.trumpets)return;let t=new P_(this.logService,this.abilityService,this,this.trumpets,this.trumpets);this.logService.createLog({message:`${this==this.gameService.gameApi.player?"Player":"Opponent"} spawned Golden Retriever (${t.attack}/${t.health})`,type:"ability",player:this}),this.summonPet(t,0)&&this.abilityService.triggerSummonedEvents(t),this.trumpets=0,this.spawnedGoldenRetiever=!0}getManticoreMult(){let t=[];for(let e of this.petArray)"Manticore"==e.name&&t.push(e.level);return t}summonPetInFront(t,e){if(5==this.petArray.length)return this.logService.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:this}),!1;let i=!1;for(let s=0;s<t.position;s++)if(null==this.getPet(s)){i=!0;break}if(i)return this.summonPet(e,t.position-1);{let s=t.position;return this.pushPet(t,-1),this.summonPet(e,s)}}summonPetBehind(t,e){if(5==this.petArray.length)return this.logService.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:this}),!1;let i=!1;for(let s=0;s<t.position;s++)if(null==this.getPet(s)){i=!0;break}return i?(this.pushPet(t,1),this.summonPet(e,t.position+1)):this.summonPet(e,t.position+1)}}class D_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ant",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=1==this.level?{health:1,attack:1}:2==this.level?{health:2,attack:2}:{health:3,attack:3},r=this.parent.getRandomPet([this],!0,!1,!0);null!=r&&(this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",randomEvent:!0,player:this.parent,tiger:e,pteranodon:i}),r.increaseAttack(s.attack),r.increaseHealth(s.health),this.superFaint(t,e),this.done=!0)}}class yh extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Cricket",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class Ck extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cricket",this.tier=1,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(a,s,r,o,l)}afterFaint(t,e,i){let s=1,r=0;2==this.level?(r=2,s=2):3==this.level&&(r=5,s=3);let o=new yh(this.logService,this.abilityService,this.parent,null,null,null,r);this.logService.createLog({message:`${this.name} spawned Zombie Cricket Level ${s}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o),super.superAfterFaint(t,e,i)}}class kk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fish",this.tier=1,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(a,s,r,o,l)}}class Pk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Horse",this.tier=1,this.pack="Turtle",this.health=1,this.attack=2,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){e.increaseAttack(this.level),this.logService.createLog({message:`${this.name} gave ${e.name} ${this.level} attack`,type:"ability",player:this.parent,tiger:i}),super.superFriendSummoned(t,e,i)}}class Ak extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosquito",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;let s=i.getRandomPets(this.level,null,null,!0);for(let r of s)this.snipePet(r,1,!0,e);super.superStartOfBattle(t,e)}}class T_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duck",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}}class x_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beaver",this.tier=1,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(a,s,r,o,l)}}class Dk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Otter",this.tier=1,this.pack="Turtle",this.health=4,this.attack=1,this.initPet(a,s,r,o,l)}}class Tk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pig",this.tier=1,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(a,s,r,o,l)}}class xk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mouse",this.tier=1,this.pack="Custom",this.health=2,this.attack=1,this.initPet(a,s,r,o,l)}}class FW extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snail",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}}class Mk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crab",this.tier=2,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){if(!this.alive)return;let i=this.parent.getHighestHealthPet(this).pet,s=Math.floor(i.health*(.25*this.level));this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${100*s}% of ${i.name}'s health (${s})`,type:"ability",player:this.parent,tiger:e}),super.superStartOfBattle(t,e)}}class Ik extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Swan",this.tier=2,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(a,s,r,o,l)}}class M_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dirty Rat",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class Ok extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rat",this.tier=2,this.pack="Turtle",this.health=6,this.attack=3,this.initPet(a,s,r,o,l)}afterFaint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;for(let r=0;r<this.level;r++){this.logService.createLog({message:`${this.name} Summoned Dirty Rat on Opponent`,type:"ability",player:this.parent,tiger:e,pteranodon:i});let o=new M_(this.logService,this.abilityService,s,null,null,0,0);s.summonPet(o,0)&&this.abilityService.triggerSummonedEvents(o)}super.superAfterFaint(t,e,i)}}class Rk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hedgehog",this.tier=2,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=t.player.petArray.filter(o=>o!=this&&o.alive);s.reverse(),s=[...s,...t.opponet.petArray.filter(o=>o.alive)];let r=2*this.level;for(let o of s)this.snipePet(o,r,!1,e,i);super.superFaint(t,e),this.done=!0}}class Nk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Peacock",this.tier=2,this.pack="Turtle",this.health=5,this.attack=2,this.initPet(a,s,r,o,l)}hurt(t,e,i){if(this.health<1)return;let s=4*this.level;this.increaseAttack(s),this.logService.createLog({message:`${this.name} increased attack by ${s} (${this.attack})`,type:"ability",player:this.parent,tiger:i}),super.superHurt(t,e,i)}}class Lk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flamingo",this.tier=2,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let o,a,l,r=this.parent.petArray;for(let h in r)r[+h]==this&&(o=+h);for(let h=o;h<5;h++){let f=r[h];if(null!=f&&f.health>0){if(null==a){a=f;continue}l=f;break}}if(a){let h=a;h.increaseAttack(this.level),h.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${h.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}if(l){let h=l;h.increaseAttack(this.level),h.increaseHealth(this.level),this.logService.createLog({message:`Flamingo gave ${h.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}super.superFaint(t,e)}}class Bk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Worm",this.tier=2,this.pack="Turtle",this.health=1,this.attack=3,this.initPet(a,s,r,o,l)}}class $k extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kangaroo",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}friendAheadAttacks(t,e,i){!this.alive||(this.increaseAttack(this.level),this.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gained ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:i}),super.superFriendAheadAttacks(t,e,i))}}class Vk extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Spider",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(l,r,o,a,h)}afterFaint(t,e,i){let s;s=this.parent==t.player?t.playerPetPool.get(3):t.opponentPetPool.get(3);let r=s.filter(f=>"Spider"!=f),o=r[Uo(0,r.length-1)],a=this.level,l=2*this.level,h=this.petService.createPet({attack:l,exp:this.minExpForLevel,equipment:null,health:l,name:o,mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${h.name} level ${a} (${l}/${l})`,type:"ability",player:this.parent,randomEvent:!0,tiger:e,pteranodon:i}),this.parent.summonPet(h,this.savedPosition)&&this.abilityService.triggerSummonedEvents(h),super.superAfterFaint(t,e,i)}}class Fk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dodo",this.tier=3,this.pack="Turtle",this.health=2,this.attack=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.petAhead;if(null==i)return;let s=Math.floor(this.attack*(.5*this.level));return i.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack.`,player:this.parent,type:"ability",tiger:e}),super.superStartOfBattle(t,e),!0}}class Hk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Badger",this.tier=3,this.pack="Turtle",this.health=3,this.attack=6,this.initPet(a,s,r,o,l)}faint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;let o,r=Math.floor(this.attack*(.5*this.level));this.petBehind()&&this.snipePet(this.petBehind(),r,!1,e,i),o=this.petAhead?this.petAhead:s.furthestUpPet,null!=o&&this.snipePet(o,r,!1,e,i),super.superFaint(t,e),this.done=!0}}class I_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dolphin",this.tier=3,this.pack="Turtle",this.health=3,this.attack=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet();if(!r.pet)break;this.snipePet(r.pet,4,r.random,e)}super.superStartOfBattle(t,e)}}class qk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giraffe",this.tier=3,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class Gk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant",this.tier=3,this.pack="Turtle",this.health=7,this.attack=3,this.initPet(a,s,r,o,l)}afterAttack(t,e){for(let i=0;i<this.level;i++)this.petBehind()&&this.snipePet(this.petBehind(),1,!1,e);super.superAfterAttack(t,e)}}class Uk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Camel",this.tier=3,this.pack="Turtle",this.health=3,this.attack=3,this.initPet(a,s,r,o,l)}hurt(t,e,i){let s=this.petBehind();if(null==s)return;let r=2*this.level;s&&(s.increaseAttack(this.level),s.increaseHealth(r)),this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i}),super.superHurt(t,e,i)}}class jk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rabbit",this.tier=3,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(a,s,r,o,l)}friendAteFood(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.level;e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendGainedPerk(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class jr extends ce{constructor(){super(...arguments),this.name="Melon",this.tier=6,this.equipmentClass="shield",this.power=20,this.originalPower=20,this.uses=1,this.originalUses=1}}class Wk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ox",this.tier=3,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(a,s,r,o,l)}friendAheadFaints(t,e,i){this.abilityUses>=this.maxAbilityUses||(this.increaseAttack(1),this.logService.createLog({message:`${this.name} gained Melon and 1 attack.`,type:"ability",player:this.parent,tiger:i}),this.givePetEquipment(new jr),this.abilityUses++,super.superFriendAheadFaints(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class zk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dog",this.tier=3,this.pack="Turtle",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){if(e==this)return;let s=2*this.level,r=this.level;this.increaseAttack(s),this.increaseHealth(r),this.logService.createLog({message:`${this.name} gained ${s} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i}),super.superFriendSummoned(t,e,i)}}class O_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ram",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}}class Kk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sheep",this.tier=3,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}afterFaint(t,e,i){for(let s=0;s<2;s++){let r=new O_(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Ram (${r.attack}/${r.health}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)}super.superAfterFaint(t,e,i)}}class Qk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tiger",this.tier=6,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(a,s,r,o,l)}}class _h extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Parrot",this.tier=4,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(l,r,o,a,h)}endTurn(t){var e,i,s,r,o,a,l,h,f,m,y,_,w,T,D,R,I,B,$,W,X,ie,xe,Le,Pe,ot,it,et,zt;let ve=this.petAhead;this.copyPet=ve,ve instanceof _h&&(ve=ve.copyPet,this.logService.createLog({message:`Parrot copied ${this.petAhead.name}`,type:"ability",player:this.parent})),null!=ve&&(this.startOfBattle=null===(e=ve.originalStartOfBattle)||void 0===e?void 0:e.bind(this),this.hurt=null===(i=ve.originalHurt)||void 0===i?void 0:i.bind(this),this.faint=null===(s=ve.originalFaint)||void 0===s?void 0:s.bind(this),this.friendSummoned=null===(r=ve.originalFriendSummoned)||void 0===r?void 0:r.bind(this),this.friendAheadAttacks=null===(o=ve.originalFriendAheadAttacks)||void 0===o?void 0:o.bind(this),this.friendAheadFaints=null===(a=ve.originalFriendAheadFaints)||void 0===a?void 0:a.bind(this),this.friendFaints=null===(l=ve.originalFriendFaints)||void 0===l?void 0:l.bind(this),this.afterAttack=null===(h=ve.originalAfterAttack)||void 0===h?void 0:h.bind(this),this.beforeAttack=null===(f=ve.originalBeforeAttack)||void 0===f?void 0:f.bind(this),this.beforeStartOfBattle=null===(m=ve.originalBeforeStartOfBattle)||void 0===m?void 0:m.bind(this),this.knockOut=null===(y=ve.originalKnockOut)||void 0===y?void 0:y.bind(this),this.summoned=null===(_=ve.originalSummoned)||void 0===_?void 0:_.bind(this),this.friendlyToyBroke=null===(w=ve.originalFriendlyToyBroke)||void 0===w?void 0:w.bind(this),this.friendGainedAilment=null===(T=ve.originalFriendGainedAilment)||void 0===T?void 0:T.bind(this),this.eatsFood=null===(D=ve.originalEatsFood)||void 0===D?void 0:D.bind(this),this.friendAteFood=null===(R=ve.originalFriendAteFood)||void 0===R?void 0:R.bind(this),this.friendLostPerk=null===(I=ve.originalFriendLostPerk)||void 0===I?void 0:I.bind(this),this.gainedPerk=null===(B=ve.originalGainedPerk)||void 0===B?void 0:B.bind(this),this.friendGainedPerk=null===($=ve.originalFriendGainedPerk)||void 0===$?void 0:$.bind(this),this.anyoneLevelUp=null===(W=ve.originalAnyoneLevelUp)||void 0===W?void 0:W.bind(this),this.enemySummoned=null===(X=ve.originalEnemySummoned)||void 0===X?void 0:X.bind(this),this.enemyPushed=null===(ie=ve.originalEnemyPushed)||void 0===ie?void 0:ie.bind(this),this.gainedMana=null===(xe=ve.originalGainedMana)||void 0===xe?void 0:xe.bind(this),this.friendJumped=null===(Le=ve.originalFriendJumped)||void 0===Le?void 0:Le.bind(this),this.enemyGainedAilment=null===(Pe=ve.originalEnemyGainedAilment)||void 0===Pe?void 0:Pe.bind(this),this.friendGainsHealth=null===(ot=ve.originalFriendGainsHealth)||void 0===ot?void 0:ot.bind(this),this.emptyFrontSpace=null===(it=ve.originalEmptyFrontSpace)||void 0===it?void 0:it.bind(this),this.enemyHurt=null===(et=ve.originalEnemyHurt)||void 0===et?void 0:et.bind(this),this.afterFaint=null===(zt=ve.originalAfterFaint)||void 0===zt?void 0:zt.bind(this),ve instanceof _h||this.logService.createLog({message:`Parrot copied ${ve.name}`,type:"ability",player:this.parent}))}}class Yk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Skunk",this.tier=4,this.pack="Turtle",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let s=It(t,this.parent).getHighestHealthPet(),r=s.pet,o=.33*this.level,a=Math.max(1,Math.floor(r.health*(1-o)));r.health=a,this.logService.createLog({message:`${this.name} reduced ${r.name} health by ${100*o}% (${a})`,type:"ability",player:this.parent,randomEvent:s.random,tiger:e}),this.superStartOfBattle(t,e)}}class Jk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hippo",this.tier=4,this.pack="Turtle",this.attack=4,this.health=7,this.initPet(a,s,r,o,l)}knockOut(t,e,i){if(this.health<1)return;let s=2*this.level;e.tier>3&&(s*=2),this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superKnockOut(t,e,i)}}class Zk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bison",this.tier=4,this.pack="Turtle",this.attack=4,this.health=4,this.initPet(a,s,r,o,l)}}class Xk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blowfish",this.tier=4,this.pack="Turtle",this.attack=3,this.health=6,this.initPet(a,s,r,o,l)}hurt(t,e,i){let s=3*this.level,r=It(t,this.parent).getRandomPet(null,null,!0);r&&this.snipePet(r,s,!0,i),this.superHurt(t,e,i)}}class eP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turtle",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){for(let s=0;s<this.level;s++){let r=this.petBehind();for(;r&&r.equipment instanceof jr;)r=r.petBehind();if(null==r)return;this.logService.createLog({message:`${this.name} gave ${r.name} Melon.`,type:"ability",tiger:e,player:this.parent,pteranodon:i}),r.givePetEquipment(new jr)}this.superFaint(t,e)}}class tP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squirrel",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}}class iP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Penguin",this.tier=4,this.pack="Turtle",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class bh extends ce{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Chili",this.equipmentClass="skewer",this.power=0,this.originalPower=0,this.attackCallback=(i,s)=>{let r=s.parent.getPetAtPosition(1);if(null==r)return;let o=i.calculateDamgae(r,i.getManticoreMult(),5),a=o.defenseEquipment,l=o.damage*this.multiplier;r.health-=l;let h=`${i.name} attacks ${r.name} for ${l}`;if(this.multiplier>1&&(h+=` x${this.multiplier}${this.multiplierMessage}`),null!=a){r.useDefenseEquipment();let f=Math.abs(a.power),m="-";a.power<0&&(m="+"),h+=` (${a.name} ${m}${f})`}this.logService.createLog({message:h+=" (Chili).",type:"attack",player:i.parent}),null!=r.hurt&&l>0&&this.abilityService.setHurtEvent({callback:r.hurt.bind(r),priority:r.attack,player:r.parent,callbackPet:s}),r.health<1&&null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:r}),r.alive&&l>0&&this.abilityService.triggerFriendHurtEvents(s.parent,r),i.alive&&l>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,r)}}}class R_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bus",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=3,this.attack=5,this.initPet(a,s,r,o,l)}}class nP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Deer",this.tier=4,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}afterFaint(t,e,i){let s=new R_(this.logService,this.abilityService,this.parent,null,null,null,this.minExpForLevel,new bh(this.logService,this.abilityService));this.logService.createLog({message:`${this.name} spawned Bus level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s),super.superAfterFaint(t,e,i)}}class sP extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Whale",this.tier=4,this.pack="Turtle",this.attack=3,this.health=7,this.initPet(l,r,o,a,h)}startOfBattle(t,e){let i=this.petAhead;if(!i)return;let s=this.petService.createDefaultVersionOfPet(i,i.health,i.attack);s.exp=this.exp,this.swallowedPets.push(s),i.health=0,this.logService.createLog({message:`${this.name} swallowed ${i.name}`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}afterFaint(t,e,i){for(;this.swallowedPets.length>0;){let s=this.swallowedPets.shift();this.logService.createLog({message:`${this.name} summoned ${s.name} (level ${s.level}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition),this.abilityService.triggerSummonedEvents(s)}super.superAfterFaint(t,e,i)}}class Sh extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bee",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class rP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Scorpion",this.tier=5,this.pack="Turtle",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}summoned(t,e){this.equipment=new Ga,this.logService.createLog({message:`${this.name} gained the Peanut perk.`,type:"ability",player:this.parent,tiger:e}),this.superSummoned(t,e)}}class oP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crocodile",this.tier=5,this.pack="Turtle",this.attack=8,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){for(let i=0;i<this.level;i++){let s=It(t,this.parent).getLastPet();s&&this.snipePet(s,8,!1,e)}super.superStartOfBattle(t,e)}}class aP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rhino",this.tier=5,this.pack="Turtle",this.attack=6,this.health=9,this.initPet(a,s,r,o,l)}knockOut(t,e,i){let s=It(t,this.parent).furthestUpPet;if(null==s)return;let r=4*this.level;1==s.tier&&(r*=2),this.snipePet(s,r,!1,i),this.superKnockOut(t,e,i)}}class N_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monkey",this.tier=5,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class lP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Armadillo",this.tier=5,this.pack="Turtle",this.attack=2,this.health=10,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=[...this.parent.petArray,...It(t,this.parent).petArray];for(let s of i){if(!s.alive)continue;let r=8*this.level;s.increaseHealth(r),this.logService.createLog({message:`${this.name} increased health of ${s.name} by ${r}.`,type:"ability",player:this.parent,tiger:e})}this.superStartOfBattle(t,e)}}class cP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cow",this.tier=5,this.pack="Turtle",this.attack=4,this.health=6,this.initPet(a,s,r,o,l)}}class uP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seal",this.tier=5,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(a,s,r,o,l)}eatsFood(t,e,i){if(e!=this)return;let s=this.level,r=this.parent.getRandomPets(3,[this],!0,!1);for(let o of r)o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0});this.superGainedPerk(t,e,i)}}class L_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chick",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class hP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rooster",this.tier=5,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(a,s,r,o,l)}afterFaint(t,e,i){let s=Math.max(Math.floor(.5*this.attack),1);for(let r=0;r<this.level;r++){let o=new L_(this.logService,this.abilityService,this.parent,1,s,0,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Chick (${s}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)}super.superAfterFaint(t,e,i)}}class dP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shark",this.tier=5,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){if(this.health<=0||e==this)return;let s={attack:2*this.level,health:2*this.level};this.increaseAttack(s.attack),this.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gained ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i}),super.superFriendFaints(t,e,i)}}class fP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turkey",this.tier=5,this.pack="Turtle",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){let s={attack:3*this.level,health:1*this.level};try{e.increaseAttack(s.attack),e.increaseHealth(s.health)}catch(r){throw console.error(r),console.log(e),r}this.logService.createLog({message:`${this.name} gave ${e.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i}),super.superFriendSummoned(t,e,i)}}class pP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leopard",this.tier=6,this.pack="Turtle",this.attack=10,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=Math.floor(.5*this.attack),s=this.parent.opponent.getRandomPets(this.level,null,null,!0);for(let r of s)this.snipePet(r,i,!0,e);this.superStartOfBattle(t,e)}}class gP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Boar",this.tier=6,this.pack="Turtle",this.attack=10,this.health=6,this.initPet(a,s,r,o,l)}beforeAttack(t,e){let i={attack:4*this.level,health:2*this.level};this.increaseAttack(i.attack),this.increaseHealth(i.health),this.logService.createLog({message:`${this.name} gained ${i.attack} attack and ${i.health} health.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class mP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wolverine",this.tier=6,this.pack="Turtle",this.attack=5,this.health=7,this.initPet(a,s,r,o,l)}friendHurt(t,e,i){e!=this&&(i||this.abilityUses++,this.abilityUses%4==0&&(this.abilityService.setCounterEvent({callback:()=>{let s=[...this.parent.opponent.petArray];s=s.filter(r=>r.alive);for(let r of s){let o=3*this.level,a=Math.max(1,Math.floor(r.health-o));r.health=a,this.logService.createLog({message:`${this.name} reduced ${r.name} health by ${o} (${a})`,type:"ability",player:this.parent,tiger:i})}},priority:this.attack}),this.superFriendHurt(t,e,i)))}}class Wr extends ce{constructor(){super(...arguments),this.name="Coconut",this.equipmentClass="shield",this.power=999,this.originalPower=999,this.uses=1,this.originalUses=1}}class vP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gorilla",this.tier=6,this.pack="Turtle",this.attack=7,this.health=10,this.initPet(a,s,r,o,l)}hurt(t,e,i){!this.alive||(this.abilityUses<this.maxAbilityUses&&(this.abilityUses++,this.equipment=new Wr,this.logService.createLog({message:`${this.name} gained a Coconut.`,type:"ability",player:this.parent,tiger:i})),super.superHurt(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class yP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragon",this.tier=6,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(a,s,r,o,l)}}class _P extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mammoth",this.tier=6,this.pack="Turtle",this.attack=4,this.health=12,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=2*this.level;for(let r of this.parent.petArray.filter(o=>o!=this&&o.alive))r.increaseAttack(s),r.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${r.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});super.superFaint(t,e)}}class bP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cat",this.tier=6,this.pack="Turtle",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}}class SP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snake",this.tier=6,this.pack="Turtle",this.attack=6,this.health=6,this.initPet(a,s,r,o,l)}friendAheadAttacks(t,e,i){let s=5*this.level,r=It(t,this.parent).getRandomPet(null,null,!0);!r||(this.snipePet(r,s,!0,i),this.superFriendAheadAttacks(t,e,i))}}class Up extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Fly",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=4,this.attack=4,this.initPet(a,s,r,o,l)}}class EP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fly",this.tier=6,this.pack="Turtle",this.attack=5,this.health=5,this.maxAbilityUses=3,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){if(e instanceof Up||this.abilityUses>=this.maxAbilityUses||!this.alive)return;let s=new Up(this.logService,this.abilityService,this.parent,null,null,null,this.minExpForLevel);this.parent.summonPet(s,e.savedPosition,!0)&&(this.abilityUses++,this.logService.createLog({message:`${this.name} spawned Zombie Fly Level ${this.level}`,type:"ability",player:this.parent,tiger:i}),this.abilityService.triggerSummonedEvents(s)),super.superFriendFaints(t,e,i)}}class wP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moth",this.tier=1,this.pack="Puppy",this.health=3,this.attack=1,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.furthestUpPet;if(null==i)return;let s=2*this.level;i.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class CP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bluebird",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(a,s,r,o,l)}}class kP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chinchilla",this.tier=1,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class pc extends ce{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Garlic",this.tier=3,this.power=2,this.originalPower=2,this.minimumDamage=2}}class jp extends ce{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Honey",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.originalAfterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=o=>{var a;if(null!=r&&r(o),"Honey"==(null===(a=i.equipment)||void 0===a?void 0:a.name))for(let l=0;l<this.multiplier;l++){let h=new Sh(this.logService,this.abilityService,i.parent,null,null,0);this.logService.createLog({message:`${i.name} Spawned Bee (Honey)${l>0?this.multiplierMessage:""}`,type:"ability",player:i.parent}),i.parent.summonPet(h,i.savedPosition)&&this.abilityService.triggerSummonedEvents(h)}}}}}class B_ extends ce{constructor(){super(...arguments),this.name="Meat Bone",this.equipmentClass="attack",this.power=3,this.originalPower=3}}class PP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beetle",this.tier=1,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i,s=this.petBehind();if(null!=s){switch(this.level){case 1:i=new jp(this.logService,this.abilityService);break;case 2:i=new B_;break;case 3:i=new pc}this.logService.createLog({message:`${this.name} gave ${s.name} ${i.name}.`,type:"ability",player:this.parent,tiger:e}),s.givePetEquipment(i),super.superStartOfBattle(t,e)}}}class AP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ladybug",this.tier=1,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}friendGainedPerk(t,e,i){let s=2*this.level;this.increaseAttack(s),this.logService.createLog({message:`${this.name} gained ${s} attack.`,type:"ability",player:this.parent,tiger:i}),this.superFriendGainedPerk(t,e,i)}}class DP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chipmunk",this.tier=1,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}}class TP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gecko",this.tier=1,this.pack="Puppy",this.attack=3,this.health=1,this.toyPet=!0,this.initPet(a,s,r,o,l)}startOfBattle(t,e){if(null==this.parent.toy)return;let i=2*this.level;this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} health.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class xP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ferret",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(a,s,r,o,l)}}class jo extends ce{constructor(){super(...arguments),this.name="Weak",this.equipmentClass="ailment-defense",this.power=-3,this.originalPower=-3}}class MP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bat",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let s=It(t,this.parent).getRandomPets(1,null,null,!0);for(let r of s)r.givePetEquipment(new jo),this.logService.createLog({message:`${this.name} made ${r.name} weak.`,type:"ability",player:this.parent,randomEvent:!0,tiger:e});this.abilityUses++,this.superBeforeAttack(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class IP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bilby",this.tier=2,this.pack="Puppy",this.attack=1,this.health=4,this.initPet(a,s,r,o,l)}friendLostPerk(t,e,i){this.abilityUses>=this.maxAbilityUses||this!=e&&(this.logService.createLog({message:`${this.name} gave ${e.name} Garlic.`,type:"ability",player:this.parent,tiger:i}),e.givePetEquipment(new pc),this.abilityUses++,super.superFriendLosPerk(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Eh extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nest",this.tier=1,this.pack="Puppy",this.hidden=!0,this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class $_ extends ce{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Egg",this.tier=1,this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.originalBeforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=o=>{var a;if(null!=r&&r(o),"Egg"!=(null===(a=i.equipment)||void 0===a?void 0:a.name))return;let l=1;l=i instanceof Eh?i.level:this.multiplier;for(let h=0;h<l;h++){let m=(i.parent==o.player?o.opponet:o.player).petArray,y=null;for(let I of m)if(I.alive){y=I;break}if(null==y){console.warn("egg didn't find target");continue}let _=i.calculateDamgae(y,i.getManticoreMult(),2,!0),w=_.defenseEquipment,T=_.damage;y.health-=T;let D=`${i.name} sniped ${y.name} for ${T}`,R="";if(!(i instanceof Eh)&&h>0&&(R=this.multiplierMessage),null!=w){y.useDefenseEquipment();let I=Math.abs(w.power),B="-";w.power<0&&(B="+"),D+=` (${w.name} ${B}${I})`}this.logService.createLog({message:D+=` (Egg)${R}.`,type:"attack",player:i.parent}),null!=y.hurt&&this.abilityService.setHurtEvent({callback:y.hurt.bind(y),priority:y.attack,player:y.parent,callbackPet:y}),y.health<1&&null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:y}),y.alive&&this.abilityService.triggerFriendHurtEvents(y.parent,y),y.alive&&T>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,y)}i.removePerk()}}}}class OP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Robin",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=new Eh(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel,null);this.logService.createLog({message:`${this.name} summoned a Nest (level ${this.level}).`,type:"ability",player:this.parent,randomEvent:!1,tiger:e}),this.parent.summonPetInFront(this,i)&&(this.logService.createLog({message:`${this.name} gave Nest an Egg.`,type:"ability",player:this.parent,randomEvent:!1,tiger:e}),i.givePetEquipment(new $_(this.logService,this.abilityService)),this.abilityService.triggerSummonedEvents(i)),this.superStartOfBattle(t,e)}}class RP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dromedary",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class NP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shrimp",this.tier=2,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class LP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toucan",this.tier=3,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}beforeAttack(t,e,i){var s;if(null==this.equipment||this.equipment.tier>5||this.abilityUses>=this.maxAbilityUses)return;let r=this.parent.petArray,o=[],a=!1;for(let l of r)l==this&&(a=!0),a&&(null===(s=l.equipment)||void 0===s?void 0:s.name)!=this.equipment.name&&o.push(l);for(let l=0;l<this.level;l++){let h=o[l];if(null==h)break;this.logService.createLog({message:`${this.name} gave ${h.name} ${this.equipment.name}`,type:"ability",player:this.parent,randomEvent:!1,tiger:e,pteranodon:i}),h.givePetEquipment((0,me.cloneDeep)(this.equipment))}this.abilityUses++,this.superBeforeAttack(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class Wp extends ce{constructor(){super(...arguments),this.name="Rice",this.tier=2,this.equipmentClass="shop"}}class BP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beluga Sturgeon",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=new I_(this.logService,this.abilityService,this.parent,3,2,0,0,new Wp);this.logService.createLog({message:`${this.name} summoned a 2/3 Dolphin with Rice in the back.`,type:"ability",player:this.parent,randomEvent:!1,tiger:e,pteranodon:i}),this.parent.summonPet(r,4)&&this.abilityService.triggerSummonedEvents(r)}super.superAfterFaint(t,e,i)}}class $P extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tabby Cat",this.tier=2,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}friendGainedPerk(t,e,i){let s=this.parent.getRandomPets(2,[this],!0,!1);if(0!=s.length){for(let r of s)this.logService.createLog({message:`${this.name} increased ${r.name}'s health by ${this.level}.`,type:"ability",player:this.parent,randomEvent:!0,tiger:i}),r.increaseHealth(this.level);this.superFriendGainedPerk(t,e,i)}}}class V_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Squirrel",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}friendlyToyBroke(t,e){this.logService.createLog({message:`${this.parent.toy.name} respawned!`,type:"ability",player:this.parent,tiger:e}),this.superFriendlyToyBroke(t,e)}}class VP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mandrill",this.tier=2,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){var s;if((null===(s=this.parent.toy)||void 0===s?void 0:s.tier)<=2*this.level){let o=!1;for(let a of this.parent.petArray)if(a instanceof V_){o=!0;break}this.parent.breakToy(o),this.abilityService.triggerFriendlyToyBrokeEvents(this.parent)}}}class FP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lemur",this.tier=2,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class HP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hoopoe Bird",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=It(t,this.parent),r=s.furthestUpPet,o=s.getLastPet(),a=2*this.level;!r||(this.snipePet(r,a,!1,e,i),this.snipePet(o,a,!1,e,i),this.superFaint(t,e))}}class qP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tropical Fish",this.tier=3,this.pack="Puppy",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}}class GP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hatching Chick",this.tier=3,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class UP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goldfish",this.tier=2,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}}class jP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Owl",this.tier=3,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}}class zp extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mole",this.tier=3,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}afterFaint(t,e,i){let s=6*this.level,r=[];for(let a of this.parent.petArray)a!=this&&a.equipment&&r.push(a);if(r=r.slice(0,2),r.length<2)return;for(let a of r)this.logService.createLog({message:`${this.name} removed ${a.name}'s equipment.`,type:"ability",player:this.parent,pteranodon:i}),a.removePerk();this.logService.createLog({message:`${this.name} summoned a ${s}/${s} Mole.`,type:"ability",player:this.parent,pteranodon:i});let o=new zp(this.logService,this.abilityService,this.parent,s,s);this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o),super.superAfterFaint(t,e,i)}}class WP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Raccoon",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}beforeAttack(t,e){let s=It(t,this.parent).getPetAtPosition(0);null!=s&&null!=s.equipment&&(this.abilityUses>=this.maxAbilityUses||(this.logService.createLog({message:`${this.name} stole ${s.name}'s equipment. (${s.equipment.name})`,type:"ability",player:this.parent}),this.givePetEquipment(s.equipment),s.removePerk(),this.abilityUses++))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class zP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pangolin",this.tier=3,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){if(null==this.parent.toy||null==this.petBehind())return;let s=4*this.level;this.petBehind().increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${this.petBehind().name} ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class KP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puppy",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class QP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Microbe",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.parent.petArray.filter(r=>r!=this);s=[...s,...It(t,this.parent).petArray];for(let r of s)!r.alive||(this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),r.givePetEquipment(new jo));this.superFaint(t,e)}}class YP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lobster",this.tier=4,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class JP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Buffalo",this.tier=4,this.pack="Puppy",this.attack=4,this.health=4,this.initPet(a,s,r,o,l)}}class ZP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Llama",this.tier=4,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}}class F_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Butterly",this.tier=1,this.pack="Puppy",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}transform(t,e){let s=It(t,this.parent).getStrongestPet();null!=s&&(this.health=s.health,this.attack=s.attack,this.logService.createLog({message:`${this.name} copied stats from the strongest enemy (${this.attack}/${this.health}).`,type:"ability",player:this.parent,tiger:e}),this.superTransform(t,e))}}class XP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Caterpillar",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}startOfBattle(t,e){if(this.level<3)return;let i=new F_(this.logService,this.abilityService,this.parent,1,1,this.exp);this.parent.setPet(this.position,i),this.logService.createLog({message:`${this.name} transformed into a Butterfly.`,type:"ability",player:this.parent})}}class eA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Doberman",this.tier=4,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=!0;for(let r of this.parent.petArray)if(r!=this&&r.tier<=this.tier){i=!1;break}if(!i)return;let s=8*this.level;this.increaseAttack(s),this.givePetEquipment(new Wr),this.logService.createLog({message:`${this.name} gained ${s} attack and gained a Coconut.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class tA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tahr",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){if(null==this.petBehind())return;let s=this.petBehind(),r=[s];for(;null!=s.petBehind();)s=s.petBehind(),r.push(s);let o=1;for(let a of r){if(o>this.level)break;a.equipment instanceof bh||(this.logService.createLog({message:`${this.name} gave ${a.name} Chili.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),a.givePetEquipment(new bh(this.logService,this.abilityService)),o++)}this.superFaint(t,e)}}class iA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Whale Shark",this.tier=4,this.pack="Puppy",this.attack=2,this.health=6,this.initPet(a,s,r,o,l)}givePetEquipment(t){super.givePetEquipment(t),this.removePerk();let e=3*this.level;this.increaseAttack(e),this.increaseHealth(e),this.logService.createLog({message:`${this.name} removed ${t.name} and gained ${e} attack and ${e} health.`,type:"ability",player:this.parent})}}class nA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chameleon",this.tier=4,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){if(null==this.parent.toy)return;let s=this.parent.toy,r=s.level;s.level=this.level,this.logService.createLog({message:`${this.name} activated ${s.name}.`,type:"ability",player:this.parent,pteranodon:i}),s.onBreak&&this.parent.breakToy(!0),s.startOfBattle&&s.startOfBattle(t),s.level=r}}class sA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gharial",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(a,s,r,o,l)}}class rA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stonefish",this.tier=5,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=It(t,this.parent);null==s.pet0||!s.pet0.alive||(this.snipePet(s.pet0,this.attack*this.level,!1,e,i),this.superFaint(t,e))}}class oA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poodle",this.tier=5,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class aA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chicken",this.tier=5,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}}class lA extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Eagle",this.tier=5,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(l,r,o,a,h)}afterFaint(t,e,i){let r,s=Math.min(6,t.previousShopTier+1);r=this.parent==t.player?t.playerPetPool.get(s):t.opponentPetPool.get(s);let o=r[Math.floor(Math.random()*r.length)],a=5*this.level,l=this.petService.createPet({name:o,attack:a,health:a,exp:this.minExpForLevel,equipment:null,mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${l.name} Level ${l.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(l,this.savedPosition)&&this.abilityService.triggerSummonedEvents(l),super.superAfterFaint(t,e,i)}}class HW extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mantis",this.tier=1,this.pack="Puppy",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class cA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Orchid Mantis",this.tier=5,this.pack="Puppy",this.attack=8,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=Math.min(Math.floor(this.attack*(.4*this.level)),50),s=Math.min(Math.floor(this.health*(.4*this.level)),50),r=new HW(this.logService,this.abilityService,this.parent,s,i,0,this.minExpForLevel,null);this.logService.createLog({message:`${this.name} spawned Mantis ${r.attack}/${r.health}.`,type:"ability",player:this.parent,tiger:e}),this.parent.summonPetInFront(this,r)&&this.abilityService.triggerSummonedEvents(r),this.superStartOfBattle(t,e)}}class uA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panther",this.tier=5,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}}class hA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Axolotl",this.tier=5,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}friendGainedPerk(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.level;e.increaseAttack(s),e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendGainedPerk(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class dA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goat",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(a,s,r,o,l)}}class Kp extends ce{constructor(t){super(),this.logService=t,this.name="Skewer",this.tier=5,this.equipmentClass="skewer",this.power=0,this.attackCallback=(e,i)=>{this.skewer(e,i,1),this.skewer(e,i,2)}}skewer(t,e,i){let s=e.parent.getPetAtPosition(i);if(null==s)return;let r=t.calculateDamgae(s,t.getManticoreMult(),3),o=r.defenseEquipment,a=r.damage*this.multiplier;s.health-=a;let l=`${t.name} attacks ${s.name} for ${a}`;if(this.multiplier>1&&(l+=` x${this.multiplier}${this.multiplierMessage}`),null!=o){s.useDefenseEquipment();let h=Math.abs(o.power),f="-";o.power<0&&(f="+"),l+=` (${o.name} ${f}${h})`}this.logService.createLog({message:l+=" (Skewer).",type:"attack",player:t.parent})}}class fA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snapping Turtle",this.tier=5,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){if(null==this.petBehind())return;let s=this.petBehind(),r=[s];for(;null!=s.petBehind();)s=s.petBehind(),r.push(s);let o=1;for(let a of r){if(o>this.level)break;a.equipment instanceof Kp||(this.logService.createLog({message:`${this.name} gave ${a.name} Skewer.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),a.givePetEquipment(new Kp(this.logService)),o++)}this.superFaint(t,e)}}class pA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosasaurus",this.tier=5,this.pack="Puppy",this.attack=5,this.health=6,this.initPet(a,s,r,o,l)}friendlyToyBroke(t,e){let i=[];if(this.petAhead&&i.push(this.petAhead),this.petBehind()&&i.push(this.petBehind()),0==i.length)return;for(let r of i)this.logService.createLog({message:`${this.name} gave ${r.name} 2 attach and 3 health.`,type:"ability",player:this.parent,randomEvent:!1,tiger:e}),r.increaseHealth(3),r.increaseAttack(2)}}class gA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sting Ray",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(a,s,r,o,l)}}class mA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mantis Shrimp",this.tier=6,this.pack="Puppy",this.attack=9,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=It(t,this.parent);for(let s=0;s<this.level;s++){let r=i.furthestUpPet;if(null==r)return;this.snipePet(r,10,!1,e)}this.superStartOfBattle(t,e)}}class vA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lionfish",this.tier=6,this.pack="Puppy",this.attack=8,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=It(t,this.parent),r=1+Math.floor(this.attack/10);for(let o=0;o<r;o++){let a=s.getRandomPet(null,null,!0);if(null==a)return;this.snipePet(a,3*this.level,!0,e,i)}this.superFaint(t,e)}}class yA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tyrannosaurus",this.tier=6,this.pack="Puppy",this.attack=7,this.health=7,this.initPet(a,s,r,o,l)}}class _A extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Octopus",this.tier=6,this.pack="Puppy",this.attack=8,this.health=8,this.initPet(a,s,r,o,l)}afterAttack(t,e){let i=It(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getRandomPet(null,null,!0);if(null==r)return;this.snipePet(r,6,!0,e)}this.superAfterAttack(t,e)}}class bA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anglerfish",this.tier=6,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(a,s,r,o,l)}}class SA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sauropod",this.tier=6,this.pack="Puppy",this.attack=4,this.health=12,this.initPet(a,s,r,o,l)}}class EA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant Seal",this.tier=6,this.pack="Puppy",this.attack=2,this.health=8,this.initPet(a,s,r,o,l)}gainedPerk(t,e,i){if(e!=this||this.abilityUses>=this.maxAbilityUses)return;let s=5*this.level,r=this.parent.getRandomPets(3,[this],!0,!1);for(let o of r)o.increaseAttack(s),o.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0});this.abilityUses++,this.superGainedPerk(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class wA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mongoose",this.tier=6,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}}class CA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pillbug",this.tier=1,this.pack="Star",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class kA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duckling",this.tier=1,this.pack="Star",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class qW extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Summoned Cockroach",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.hidden=!0,this.initPet(a,s,r,o,l)}}class PA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockroach",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}faint(t,e,i){const s=this.level,r=new qW(this.logService,this.abilityService,this.parent,1,1,0,0);this.logService.createLog({message:`${this.name} fainted and summoned a 1/1 Cockroach.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&(this.logService.createLog({message:`The summoned ${r.name} gained +${s} experience.`,type:"ability",player:this.parent,tiger:e}),r.increaseExp(s),this.abilityService.triggerSummonedEvents(r)),this.superFaint(t,e)}}class AA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frog",this.tier=1,this.pack="Star",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){if(this.level>1)return;let i=this.petAhead,s=this.petBehind();if(null==i||null==s)return;let r=i.attack,o=i.health,l=s.health;i.attack=s.attack,i.health=l,s.attack=r,s.health=o,this.logService.createLog({message:`${this.name} swapped the attack and health of ${i.name} and ${s.name}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class DA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chihuahua",this.tier=1,this.pack="Star",this.attack=4,this.health=1,this.initPet(a,s,r,o,l)}startOfBattle(t,e){const i=this.parent.opponent,s=i.getHighestHealthPet(),r=s.pet;if(r){const o=this.level;this.logService.createLog({message:`${this.name} pushed ${r.name} forward ${o} space(s).`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),i.pushPet(r,o)}this.superStartOfBattle(t,e)}}class TA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seahorse",this.tier=1,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let s=It(t,this.parent).getLastPet();null!=s&&(this.parent.pushPet(s,this.level),this.logService.createLog({message:`${this.name} pushes ${s.name} forward ${this.level} space${this.level>1?"s":""}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class xA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Iguana",this.tier=2,this.pack="Star",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}enemySummoned(t,e,i){null!=e&&e.alive&&(this.snipePet(e,2*this.level,!1,i),this.superEnemySummoned(t,e,i))}}class MA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hummingbird",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.getRandomStrawberryPet(this);if(null==i)return;let s={attack:2*this.level,health:this.level};i.increaseHealth(s.health),i.increaseAttack(s.attack),this.logService.createLog({message:`${this.name} increased ${i.name}'s attack by ${s.attack} and health by ${s.health}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),this.superStartOfBattle(t,e)}}class T3 extends ce{constructor(){super(...arguments),this.name="Eucalyptus",this.equipmentClass="shield",this.power=4,this.originalPower=4,this.uses=1,this.originalUses=1}}class IA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Koala",this.tier=2,this.pack="Star",this.attack=3,this.health=3,this.abilityUses=0,this.maxAbilityUses=0,this.initPet(a,s,r,o,l)}friendHurt(t,e,i){e===this||this.abilityUses>=this.maxAbilityUses||(this.logService.createLog({message:`${this.name} gave ${e.name} Eucalyptus perk.`,type:"ability",player:this.parent,tiger:i}),e.givePetEquipment(new T3),this.abilityUses++),this.superFriendHurt(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level,this.abilityUses=0}}class OA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Yak",this.tier=2,this.pack="Star",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}}class RA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dumbo Octopus",this.tier=2,this.pack="Star",this.health=5,this.attack=2,this.initPet(a,s,r,o,l)}}class NA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salamander",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class LA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panda",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=.5*this.level,s={attack:Math.floor(this.attack*i),health:Math.floor(this.health*i)},r=this.petAhead;null!=r&&(r.increaseAttack(s.attack),r.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:e}),this.health=0,this.superStartOfBattle(t,e))}}class BA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guinea Pig",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class $A extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pug",this.tier=3,this.pack="Star",this.attack=5,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){if(null==this.petAhead)return;let i=this.level;this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} ${i} exp.`,type:"ability",player:this.parent,tiger:e}),this.petAhead.increaseExp(i),this.superStartOfBattle(t,e)}}class VA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jellyfish",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent)return;let s=this.level;this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} increased attack by ${s} and health by ${s}`,type:"ability",player:this.parent,tiger:i}),this.superAnyoneLevelUp(t,e,i)}}class FA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Atlantic Puffin",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.getPetsWithEquipment("Strawberry").filter(r=>r!==this),s=It(t,this.parent);for(let r=0;r<this.level;r++)for(let o=0;o<i.length;o++){let a=s.getRandomPet(null,null,!0);if(null==a)break;this.snipePet(a,2,!0,e)}this.superStartOfBattle(t,e)}}class HA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dove",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.parent.getPetsWithEquipment("Strawberry").filter(a=>a!==this&&a.alive);s=(0,me.shuffle)(s);let r=2*this.level,o=!1;if(s.length>2&&(o=!0),s.length>0){let a=s[0];a.increaseAttack(r),a.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${a.name} ${r} attack ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:o,pteranodon:i})}if(s.length>1){let a=s[1];a.increaseAttack(r),a.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${a.name} ${r} attack ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:o})}this.superFaint(t,e)}}class qA extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Stork",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(l,r,o,a,h)}afterFaint(t,e,i){let s,r=Math.max(1,t.previousShopTier-1);s=this.parent==t.player?t.playerPetPool.get(r):t.opponentPetPool.get(r);let o=s[Math.floor(Math.random()*s.length)],a=t.oldStork,l=this.petService.createPet({name:o,attack:a?null:3*this.level,equipment:null,exp:this.minExpForLevel,health:a?null:2*this.level,mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${l.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(l,this.savedPosition)&&this.abilityService.triggerSummonedEvents(l),super.superAfterFaint(t,e,i)}}class GA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leech",this.tier=3,this.pack="Star",this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}}class UA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Woodpecker",this.tier=3,this.pack="Star",this.attack=4,this.health=3,this.uses=0,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent;for(let s=0;s<this.level;s++){let o,r=this.petAhead;null==r?(r=i.furthestUpPet,o=null==r?void 0:r.petBehind()):(o=r.petAhead,null==o&&(o=i.furthestUpPet)),null!=r&&this.snipePet(r,2,!1,e),null!=o&&this.snipePet(o,2,!1,e)}this.superStartOfBattle(t,e)}}class jA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tuna",this.tier=3,this.pack="Star",this.attack=3,this.health=5,this.timesHurt=0,this.initPet(a,s,r,o,l)}hurt(t,e,i){this.timesHurt++,this.superHurt(t,e,i)}faint(t,e,i){if(this.timesHurt>0){const s=this.parent.getRandomPet([this]);if(null==s)return;if(s)for(let r=0;r<this.timesHurt;r++){const o=this.level;this.logService.createLog({message:`${this.name} gave ${s.name} +${o} attack and +${o} health.`,type:"ability",player:this.parent,tiger:e}),s.increaseAttack(o),s.increaseHealth(o)}}this.superFaint(t,e)}setAbilityUses(){super.setAbilityUses(),this.timesHurt=0}}class WA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toad",this.tier=3,this.pack="Star",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}enemyHurt(t,e,i){!e.alive||this.abilityUses>=this.maxAbilityUses||e.equipment instanceof jo||(e.givePetEquipment(new jo),this.abilityUses++,this.logService.createLog({message:`${this.name} gave ${e.name} Weak.`,type:"ability",player:this.parent,tiger:i}),this.enemyHurt(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2*this.level}}class zA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Starfish",this.tier=4,this.pack="Star",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}}class KA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Clownfish",this.tier=4,this.pack="Star",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}anyoneLevelUp(t,e,i){if(e.parent!==this.parent)return;let s=2*this.level;e.increaseAttack(s),e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superAnyoneLevelUp(t,e,i)}}class QA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blobfish",this.tier=4,this.pack="Star",this.attack=2,this.health=6,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.petBehind();if(null==s)return;let r=2*this.level;this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} exp.`,type:"ability",player:this.parent,tiger:e}),s.increaseExp(r),this.superFaint(t,e)}}class YA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cabybara",this.tier=3,this.pack="Star",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}}class JA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Okapi",this.tier=3,this.pack="Star",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class ZA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cassowary",this.tier=3,this.pack="Star",this.attack=5,this.health=2,this.initPet(a,s,r,o,l)}friendGainedPerk(t,e,i){var s;if(e.parent!==this.parent||"Strawberry"!==(null===(s=e.equipment)||void 0===s?void 0:s.name))return void this.superFriendGainedPerk(t,e,i);const r=this.level;this.logService.createLog({message:`${this.name} gained +${r} permanent health and +${r} attack for this battle.`,type:"ability",player:this.parent,tiger:i}),this.increaseHealth(r),this.increaseAttack(r),this.superFriendGainedPerk(t,e,i)}}class H_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Orangutang",this.tier=4,this.pack="Star",this.attack=3,this.health=6,this.initPet(a,s,r,o,l)}}class XA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Siamese",this.tier=4,this.pack="Star",this.health=4,this.attack=1,this.initPet(a,s,r,o,l)}}class eD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elk",this.tier=4,this.pack="Star",this.attack=2,this.health=6,this.initPet(a,s,r,o,l)}endTurn(t){}}class q_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy Ball",this.tier=1,this.pack="Star",this.attack=2,this.health=6,this.hidden=!0,this.initPet(a,s,r,o,l)}}class G_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy Armadillo",this.tier=4,this.pack="Star",this.attack=2,this.health=6,this.initPet(a,s,r,o,l)}hurt(t,e,i){if(this.alive){const s=2*this.level;this.increaseHealth(s),this.logService.createLog({message:`${this.name} gains ${s} permanent health and transforms into a protected ball!`,type:"ability",player:this.parent,tiger:i});const r=new q_(this.logService,this.abilityService,this.parent,this.health,this.attack,this.mana,this.exp,this.equipment);this.parent.setPet(this.position,r)}this.superHurt(t,e,i)}}class tD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fossa",this.tier=4,this.pack="Star",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){const s=this.parent===t.player?t.playerRollAmount:t.opponentRollAmount;if(s<=0)return void this.superStartOfBattle(t,e);const r=this.level*s,o=this.parent.opponent.petArray.slice(0,2);for(const a of o)(null==a?void 0:a.alive)&&(this.logService.createLog({message:`${this.name} removed ${r} health from ${a.name}.`,type:"ability",player:this.parent,tiger:e}),a.health-=r);this.superStartOfBattle(t,e)}}class iD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Eel",this.tier=3,this.pack="Star",this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=.5*this.level;this.health=Math.min(50,Math.floor(this.health*(1+i))),this.logService.createLog({message:`${this.name} has gained ${100*i}% health. (${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class nD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hawk",this.tier=4,this.pack="Star",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent,s=this.position,r=i.getPetAtPosition(this.position),o=1;for(;null==r&&o<5;)r=i.getPetAtPosition(s+o),null==r&&(r=i.getPetAtPosition(s-o)),o++;null!=r&&this.snipePet(r,7*this.level,!1,e)}}class sD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Platypus",this.tier=4,this.pack="Star",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}afterFaint(t,e,i){let s=3*this.level,r=2*this.level,o=new T_(this.logService,this.abilityService,this.parent,r,s,0,this.minExpForLevel),a=new x_(this.logService,this.abilityService,this.parent,r,s,0,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned ${s}/${r} Duck level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o),this.logService.createLog({message:`${this.name} spawned ${s}/${r} Beaver level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerSummonedEvents(a),super.superAfterFaint(t,e,i)}}class rD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Praying Mantis",this.tier=4,this.pack="Star",this.attack=7,this.health=2,this.initPet(a,s,r,o,l)}}class oD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crow",this.tier=4,this.pack="Star",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class aD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Donkey",this.tier=4,this.pack="Star",this.attack=4,this.health=6,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let r=this.parent.opponent.getLastPet();null!=r&&(this.parent.pushPet(r,r.position),this.logService.createLog({message:`${this.name} pushed ${r.name} to the front.`,type:"ability",player:this.parent,tiger:i}),this.superFriendFaints(t,e,i),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class x3 extends ce{constructor(t,e,i,s){super(),this.logService=i,this.abilityService=s,this.name="Strawberry (Sparrow Buff)",this.equipmentClass="shield",this.uses=2,this.originalUses=2,this.power=t,this.originalPower=t,this.callback=e.callback.bind(this),this.originalEquipment=e}}class U_ extends ce{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Strawberry",this.equipmentClass="faint",this.callback=i=>{const s=i.parent.getLastPet();if(s){const r=1;this.logService.createLog({message:`${i.name} (Strawberry) gave ${s.name} +${r} attack and +${r} health.`,type:"ability",player:i.parent}),s.increaseAttack(r),s.increaseHealth(r)}}}}class lD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sparrow",this.tier=4,this.pack="Star",this.attack=3,this.health=2,this.buffedPets=[],this.initPet(a,s,r,o,l)}startOfBattle(t,e){const i=this.parent.petArray.filter(s=>s.equipment instanceof U_);if(i.length>0){const s=5*this.level;this.logService.createLog({message:`${this.name} enhances its friends' Strawberries, making them take ${s} less damage, twice.`,type:"ability",player:this.parent,tiger:e});for(const r of i){const o=new x3(s,r.equipment,this.logService,this.abilityService);r.givePetEquipment(o),this.buffedPets.push(r)}}this.superStartOfBattle(t,e)}faint(t,e,i){for(const s of this.buffedPets)s.equipment instanceof x3&&(this.logService.createLog({message:`${this.name} fainted, so ${s.name}'s Strawberry lost its defensive buff.`,type:"ability",player:this.parent}),s.givePetEquipment(s.equipment.originalEquipment));this.buffedPets=[],this.superFaint(t,e)}setAbilityUses(){super.setAbilityUses(),this.buffedPets=[]}}class cD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pelican",this.tier=4,this.pack="Star",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.getRandomStrawberryPet(this),s={attack:2*this.level,health:this.level};if(null==i)return;let r=this.parent.getPetsWithEquipment("Strawberry").filter(o=>o!=this).length>1;i.increaseAttack(s.attack),i.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${i.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:r}),this.superStartOfBattle(t,e)}}class uD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anteater",this.tier=3,this.pack="Star",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=new D_(this.logService,this.abilityService,this.parent,1,1,0,5);this.logService.createLog({message:`${this.name} spawned 1/1 Ant level 3`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)}super.superAfterFaint(t,e,i)}}class hD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sword Fish",this.tier=5,this.pack="Star",this.attack=5,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let s=this.parent.opponent.getHighestHealthPet(),r=s.pet,o=this.attack*this.level;null!=r&&this.snipePet(r,o,s.random,e),this.snipePet(this,o,!1,e),this.superStartOfBattle(t,e)}}class dD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Polar Bear",this.tier=5,this.pack="Star",this.attack=4,this.health=8,this.initPet(a,s,r,o,l)}}class fD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Siberian Husky",this.tier=5,this.pack="Star",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}}class pD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lion",this.tier=5,this.pack="Star",this.attack=6,this.health=6,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(o=>o!==this),s=0;for(let o of i)o.tier>s&&(s=o.tier);let r=.5*this.level;this.tier<=s||(this.increaseAttack(Math.floor(this.attack*r)),this.increaseHealth(Math.floor(this.health*r)),this.logService.createLog({message:`${this.name} increased its attack and health by ${100*r}% (${this.attack}/${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class gD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Triceratops",this.tier=5,this.pack="Star",this.attack=5,this.health=6,this.initPet(a,s,r,o,l)}hurt(t,e,i){let s=this.parent.getRandomPet([this],!0,null,!0),r=3*this.level;null!=s&&(s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),this.superHurt(t,e,i))}}class mD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zebra",this.tier=5,this.pack="Star",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}}class vD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fox",this.tier=5,this.pack="Star",this.attack=6,this.health=4,this.initPet(a,s,r,o,l)}}class yD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hamster",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class _D extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shoebill",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class bD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vulture",this.tier=5,this.pack="Star",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){i||this.abilityUses++,this.abilityUses%2!=1&&(this.abilityService.setCounterEvent({callback:()=>{let r=this.parent.opponent.getRandomPet(null,null,!0);null!=r&&this.snipePet(r,4*this.level,!0,i)},priority:this.attack}),this.superFriendFaints(t,e,i))}}class SD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Komodo",this.tier=6,this.pack="Star",this.attack=6,this.health=6,this.initPet(a,s,r,o,l)}endTurn(t){if(!t.komodoShuffle)return;let i=this.position;if(0==i)return;let r=this.shufflePets(0,i).map(o=>o.name).join(", ");this.logService.createLog({message:`${this.name} shuffled positions of pets (${r}).`,type:"ability",player:this.parent,randomEvent:!0})}shufflePets(t,e){let i=this.parent.petArray.slice(t,e);E_(i);for(let s=0;s<i.length;s++)this.parent[`pet${s}`]=i[s];return i}}class ED extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ostrich",this.tier=6,this.pack="Star",this.attack=6,this.health=7,this.initPet(a,s,r,o,l)}}class wD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Reindeer",this.tier=6,this.pack="Star",this.attack=6,this.health=4,this.initPet(a,s,r,o,l)}beforeAttack(t,e){this.abilityUses>=this.maxAbilityUses||(this.givePetEquipment(new jr),this.abilityUses++,this.logService.createLog({message:`${this.name} gained Melon.`,type:"ability",player:this.parent,tiger:e}),this.superAfterAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class CD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stegosaurus",this.tier=6,this.pack="Star",this.attack=3,this.health=8,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(o=>null!=o.equipment),s=this.parent.getRandomPet([...i,this],!0,!1,!0);if(null==s)return;let r=this.level*t.turnNumber;s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),this.superStartOfBattle(t,e)}}class kD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Piranha",this.tier=6,this.pack="Star",this.attack=10,this.health=4,this.initPet(a,s,r,o,l)}hurt(t,e,i){let s=this.parent.petArray.filter(o=>o!==this&&o.alive),r=3*this.level;for(let o of s)o.increaseAttack(r),this.logService.createLog({message:`${this.name} gave ${o.name} ${r} attack.`,type:"ability",player:this.parent,tiger:i});this.superHurt(t,e,i)}}class PD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hammerhead Shark",this.tier=6,this.pack="Star",this.attack=5,this.health=5,this.initPet(a,s,r,o,l)}}class AD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Velociraptor",this.tier=6,this.pack="Star",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.getPetsWithEquipment("Strawberry").filter(r=>r!==this&&r.alive);i=(0,me.shuffle)(i);let s=[];for(let r=0;r<this.level&&null!=i[r];r++)s.push(i[r]);for(let r of s)r.givePetEquipment(new Wr),this.logService.createLog({message:`${this.name} gave ${r.name} Coconut.`,type:"ability",player:this.parent,tiger:e,randomEvent:this.level<i.length})}}class DD extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Sabertooth Tiger",this.tier=6,this.pack="Star",this.attack=6,this.health=6,this.initPet(l,r,o,a,h)}hurt(t,e,i){let r,s=5*this.level;r=this.parent==t.player?t.playerPetPool.get(1):t.opponentPetPool.get(1);let o=r[Math.floor(Math.random()*r.length)],a=this.petService.createPet({name:o,attack:s,health:s,equipment:null,mana:0,exp:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${a.name} (${s}/${s}).`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerSummonedEvents(a),super.superHurt(t,e,i)}}class TD extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Orca",this.tier=6,this.pack="Star",this.attack=4,this.health=8,this.initPet(l,r,o,a,h)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=this.petService.getRandomFaintPet(this.parent);this.logService.createLog({message:`${this.name} spawned ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)}super.superAfterFaint(t,e,i)}}class xD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Spinosaurus",this.tier=6,this.pack="Star",this.attack=4,this.health=8,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){let s={attack:3*this.level,health:2*this.level},r=this.parent.getRandomPet([this],!0,!1,!0);null!=r&&(r.increaseAttack(s.attack),r.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),super.superFriendFaints(t,e,i))}}class MD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bulldog",this.tier=1,this.pack="Golden",this.attack=1,this.health=4,this.initPet(a,s,r,o,l)}afterAttack(t,e){if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;let i=2*this.level;this.attack+=i,this.logService.createLog({message:`${this.name} gained +${i} attack.`,type:"ability",player:this.parent,tiger:e}),this.abilityUses++,this.superAfterAttack(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class j_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Groundhog",this.tier=1,this.pack="Golden",this.attack=2,this.health=1,this.initPet(a,s,r,o,l)}faint(t,e,i){this.parent.gainTrumpets(this.level,this,i),this.superFaint(t,e)}}class ID extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cone Snail",this.tier=1,this.pack="Golden",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.petBehind();if(null==i)return;let s=2*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class OD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goose",this.tier=1,this.pack="Golden",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent.furthestUpPet;if(null==i)return;let s=this.level;i.increaseAttack(-this.level),this.logService.createLog({message:`${this.name} removed ${s} attack from ${i.name}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class RD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pied Tamarin",this.tier=1,this.pack="Golden",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=this.parent.opponent.getRandomPets(this.level,null,null,!0);for(let r of s)this.snipePet(r,3,!0,e,i);s.length>0&&this.parent.spendTrumpets(1,this,i)}}class ND extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silkmoth",this.tier=1,this.pack="Golden",this.attack=3,this.health=1,this.maxAbilityUses=2,this.initPet(a,s,r,o,l)}friendHurt(t,e,i){if(this.abilityUses>=this.maxAbilityUses||e!=this.petAhead||!e.alive)return;let s=this.level;e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendHurt(t,e,i)}}class LD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lemming",this.tier=1,this.pack="Golden",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}}class BD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Magpie",this.tier=1,this.pack="Golden",this.attack=1,this.health=4,this.initPet(a,s,r,o,l)}}class $D extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hercules Beetle",this.tier=2,this.pack="Golden",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}}class VD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stoat",this.tier=2,this.pack="Golden",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class FD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Black Necked Stilt",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){this.parent.gainTrumpets(2*this.level,this,i),this.superFaint(t,e)}}class HD extends ce{constructor(){super(...arguments),this.name="Ink",this.equipmentClass="ailment-attack",this.power=-3,this.originalPower=-3}}class qD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squid",this.tier=2,this.pack="Golden",this.attack=5,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=!1,r=this.parent.opponent.petArray.filter(o=>{var a;return o.health>0&&"Ink"!=(null===(a=o.equipment)||void 0===a?void 0:a.name)});for(let o=0;o<this.level;o++){let a=r[o];if(null==a)break;s=!0,a.givePetEquipment(new HD),this.logService.createLog({message:`${this.name} gave ${a.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}s&&this.parent.spendTrumpets(1,this,i),this.superFaint(t,e)}}class GD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Urchin",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=[this.parent.opponent.furthestUpPet];if(null!=s[0]){for(let r=0;r<this.level-1;r++){let a=s[r].petBehind();if(null==a)break;s.push(a)}for(let r of s)r.increaseHealth(-5),this.logService.createLog({message:`${this.name} removed 5 health from ${r.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}}class UD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Door Head Ant",this.tier=2,this.pack="Golden",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.parent.pushPetToFront(this,!0),this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e});let i=4*this.level;this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} health.`,type:"ability",player:this.parent,tiger:e})}}class W_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard Tail",this.tier=1,this.pack="Golden",this.hidden=!0,this.attack=3,this.health=1,this.initPet(a,s,r,o,l)}}class jD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.maxAbilityUses=2,this.initPet(a,s,r,o,l)}hurt(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=new W_(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Liazrd Tail Level ${this.level}`,type:"ability",player:this.parent,tiger:i}),this.parent.summonPetInFront(this,s)&&this.abilityService.triggerSummonedEvents(s),this.abilityUses++,super.superFaint(t,i)}}class WD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Turtle",this.tier=2,this.pack="Golden",this.attack=1,this.health=4,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){let s=2*this.level;e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendSummoned(t,e,i)}}class zD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="African Penguin",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}}class KD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Musk Ox",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}friendAheadFaints(t,e,i){let s={attack:this.level,health:2*this.level};this.increaseAttack(s.attack),this.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gained ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendAheadFaints(t,e,i)}}class QD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flea",this.tier=3,this.pack="Golden",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=(0,me.clone)(this.parent.opponent.petArray);(0,me.shuffle)(s),s=s.sort((r,o)=>r.health>o.health?-1:o.health>r.health?1:0).filter(r=>{var o;return"Weak"!=(null===(o=r.equipment)||void 0===o?void 0:o.name)});for(let r=0;r<this.level;r++){let o=s[r];if(null==o)break;this.logService.createLog({message:`${this.name} gave ${o.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),o.givePetEquipment(new jo)}this.superFaint(t,e)}}class YD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Surgeon Fish",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}beforeAttack(t,e){let i=this.petBehind();if(null==i||this.parent.trumpets<2)return;this.parent.spendTrumpets(2,this);let s=4*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class JD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Weasel",this.tier=3,this.pack="Golden",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class ZD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guineafowl",this.tier=3,this.pack="Golden",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}hurt(t,e,i){this.parent.gainTrumpets(2*this.level,this),this.superHurt(t,e,i)}}class XD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Betta Fish",this.tier=3,this.pack="Custom",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.petBehind();if(null==s)return;let r={health:2*this.level,attack:4*this.level};s.increaseAttack(r.attack),s.increaseHealth(r.health),this.logService.createLog({message:`${this.name} gave ${s.name} ${r.attack} attack and ${r.health} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class e1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Meerkat",this.tier=2,this.pack="Golden",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i;i=this.parent==t.player?t.playerGoldSpent:t.opponentGoldSpent;let s=Math.floor(i/4)*this.level,r=this.petAhead,o=this.petBehind();null!=r&&(r.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${r.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e})),null!=o&&(o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e})),this.superFaint(t,e)}}class t1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Fish",this.tier=3,this.pack="Golden",this.attack=5,this.health=2,this.maxAbilityUses=2,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=2*this.level;this.logService.createLog({message:`${this.name} gave ${e.name} ${s} exp.`,type:"ability",player:this.parent,tiger:i}),e.increaseExp(s),this.abilityUses++,this.superFriendSummoned(t,e,i)}}class i1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baboon",this.tier=3,this.pack="Golden",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class n1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Osprey",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=new j_(this.logService,this.abilityService,this.parent,null,null,0,0);this.logService.createLog({message:`${this.name} summoned a 2/1 Groundhog`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)}super.superAfterFaint(t,e,i)}}class s1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manatee",this.tier=4,this.pack="Golden",this.attack=2,this.health=11,this.initPet(a,s,r,o,l)}}class r1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cuttlefish",this.tier=4,this.pack="Golden",this.attack=8,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.parent.opponent.petArray,r=[];for(let a=0;a<this.level;a++){let l=s[s.length-(a+1)];if(null==l)break;r.push(l)}for(let a of r){let l=Math.max(1,a.health-3);a.health=l,this.logService.createLog({message:`${this.name} reduced ${a.name} health by 3 (${l})`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),a.givePetEquipment(new HD),this.logService.createLog({message:`${this.name} gave ${a.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}this.superFaint(t,e)}}class o1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Egyptian Vulture",this.tier=5,this.pack="Golden",this.attack=7,this.health=4,this.initPet(a,s,r,o,l)}knockOut(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.petBehind();for(;null!=s&&null==s.faint;)s=s.petBehind();null!=s&&null!=s.faint&&(this.logService.createLog({message:`${this.name} activated ${s.name}'s ability.`,type:"ability",player:this.parent,tiger:i}),s.faint(t,!1))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class a1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saiga Antelope",this.tier=4,this.pack="Golden",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){!this.alive||(i||this.abilityUses++,this.abilityUses%2==0&&(this.abilityService.setCounterEvent({callback:()=>{this.parent.gainTrumpets(3*this.level,this)},priority:this.attack}),super.superFriendFaints(t,e,i)))}}class l1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sealion",this.tier=4,this.pack="Golden",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class c1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vaquita",this.tier=4,this.pack="Golden",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=Math.max(Math.floor(.5*this.level*this.parent.trumpets),4*this.level);this.parent.gainTrumpets(s,this,i)}}class z_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smallest Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class K_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smaller Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}afterFaint(t,e,i){let s=new z_(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Smallest Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s),super.superFaint(t,e)}}class u1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Slug",this.tier=4,this.pack="Golden",this.attack=4,this.health=4,this.initPet(a,s,r,o,l)}afterFaint(t,e,i){let s=new K_(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Smaller Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s),super.superAfterFaint(t,e,i)}}class h1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poison Dart Frog",this.tier=4,this.pack="Golden",this.attack=5,this.health=2,this.initPet(a,s,r,o,l)}friendAheadFaints(t,e,i){let s=this.parent.opponent.getHighestHealthPet(),r=s.pet;null!=r&&this.snipePet(r,4*this.level,s.random,i)}}class d1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Secretary Bird",this.tier=4,this.pack="Golden",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){if(i||this.abilityUses++,this.abilityUses%2==1)return;let s=this.petAhead;if(null==s)return;let r=3*this.level,o=4*this.level;s.increaseAttack(r),s.increaseHealth(o),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${o} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendFaints(t,e,i)}}class f1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Royal Flycatcher",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}enemySummoned(t,e,i){let s=this.parent.opponent.getRandomPet(null,null,!0);null!=s&&(this.snipePet(s,3*this.level,!0,i),this.superEnemySummoned(t,e,i))}}class p1 extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Falcon",this.tier=4,this.pack="Golden",this.attack=5,this.health=5,this.maxAbilityUses=3,this.initPet(l,r,o,a,h)}knockOut(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=3*this.level,r=this.petService.createPet({attack:s,health:s,name:e.name,exp:this.minExpForLevel,equipment:null,mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${r.name} ${s}/${s} Level ${this.level}`,type:"ability",player:this.parent,tiger:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r),this.abilityUses++,super.superKnockOut(t,e,i)}}class g1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manta Ray",this.tier=4,this.pack="Golden",this.attack=5,this.health=7,this.initPet(a,s,r,o,l)}}class m1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Macaque",this.tier=5,this.pack="Golden",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=12*this.level,s=new H_(this.logService,this.abilityService,this.parent,i,i,0,this.minExpForLevel,(0,me.cloneDeep)(this.equipment)),r=`${this.name} spawned Orangutang ${s.attack}/${s.health}`;null!=this.equipment&&(r+=` with ${this.equipment.name}`),r+=".",this.logService.createLog({message:r,type:"ability",player:this.parent,tiger:e}),this.parent.summonPetInFront(this,s)&&this.abilityService.triggerSummonedEvents(s),this.superStartOfBattle(t,e)}}class v1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nyala",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){this.parent.gainTrumpets(8*this.level,this,i),this.superFaint(t,e)}}class y1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nurse Shark",this.tier=5,this.pack="Golden",this.attack=5,this.health=7,this.initPet(a,s,r,o,l)}faint(t,e,i){if(0==this.parent.trumpets)return;let s=3*Math.min(this.parent.trumpets,6),r=!1,o=(0,me.shuffle)((0,me.clone)(this.parent.opponent.petArray));for(let a=0;a<this.level;a++){let l=o[a];if(null==l)break;r=!0,this.snipePet(l,s,!0,e,i)}r&&this.parent.spendTrumpets(Math.min(this.parent.trumpets,6),this,i),this.superFaint(t,e)}}class _1 extends E{constructor(t,e,i,s,r,o,a,l,h,f){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Beluga Whale",this.tier=5,this.pack="Golden",this.attack=3,this.health=8,this.initPet(l,r,o,a,h),this.belugaSwallowedPet=f}afterFaint(t,e,i){if(null==this.belugaSwallowedPet)return void super.superAfterFaint(t,e,i);let s=this.petService.createPet({attack:null,equipment:null,exp:this.minExpForLevel,health:null,name:this.belugaSwallowedPet,mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${s.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s),super.superAfterFaint(t,e,i)}}class b1 extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Wolf",this.tier=5,this.pack="Golden",this.attack=4,this.health=4,this.initPet(l,r,o,a,h)}afterFaint(t,e,i){let s={attack:3*this.level,health:2*this.level};for(let r=0;r<3;r++){let o=this.petService.createPet({attack:s.attack,equipment:null,exp:this.minExpForLevel,health:s.health,name:"Pig",mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${o.name} ${s.attack}/${s.health}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)}super.superAfterFaint(t,e,i)}}class S1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silver Fox",this.tier=5,this.pack="Custom",this.attack=3,this.health=6,this.initPet(a,s,r,o,l)}beforeAttack(t,e){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class E1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fire Ant",this.tier=5,this.pack="Golden",this.attack=8,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=(0,me.shuffle)(this.parent.petArray.filter(r=>r!=this));s.sort((r,o)=>o.tier-r.tier);for(let r=0;r<this.level;r++){let o=s[r];if(null==o)break;o.increaseAttack(this.attack),this.logService.createLog({message:`${this.name} gave ${o.name} ${this.attack} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i})}super.superFaint(t,e)}}class w1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockatoo",this.tier=4,this.pack="Golden",this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}}class C1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue Ringed Octopus",this.tier=5,this.pack="Golden",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class k1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crane",this.tier=5,this.pack="Golden",this.attack=6,this.health=5,this.initPet(a,s,r,o,l)}friendHurt(t,e,i){e==this.petAhead&&(this.abilityUses>=this.maxAbilityUses||(this.petAhead.increaseAttack(5),this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} 5 attack.`,type:"ability",player:this.parent,tiger:i}),this.petAhead.givePetEquipment(new jr),this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} a Melon.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendHurt(t,e,i)))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class P1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emu",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}emptyFrontSpace(t,e){let i=this.petAhead;if(!i||null!=this.parent.pet0)return;this.parent.pushPet(i,4),this.logService.createLog({message:`${this.name} pushed ${i.name} to the front.`,type:"ability",player:this.parent,tiger:e});let s=4*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e})}}class A1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wildebeast",this.tier=6,this.pack="Golden",this.attack=8,this.health=6,this.initPet(a,s,r,o,l)}beforeAttack(t,e){this.parent.trumpets<2||this.abilityUses>=this.maxAbilityUses||(this.givePetEquipment(new Wr),this.logService.createLog({message:`${this.name} gave itself a Coconut.`,type:"ability",player:this.parent,tiger:e}),this.parent.spendTrumpets(2,this),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class D1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Highland Cow",this.tier=6,this.pack="Golden",this.attack=4,this.health=12,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=Math.floor(this.health/3*this.level);this.parent.gainTrumpets(i,this)}}class T1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Catfish",this.tier=6,this.pack="Golden",this.attack=4,this.health=6,this.initPet(a,s,r,o,l)}}class x1 extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Pteranodon",this.tier=6,this.pack="Golden",this.attack=3,this.health=5,this.initPet(l,r,o,a,h)}friendFaints(t,e,i){if(this.abilityUses>=this.maxAbilityUses||e.name==this.name||!this.alive)return;let s=this.petService.createPet({attack:1,health:1,equipment:null,exp:e.exp,name:e.name,mana:0},this.parent);this.logService.createLog({message:`${this.name} summoned a 1/1 ${e.name} behind it.`,type:"ability",player:this.parent,randomEvent:!1,tiger:i}),this.parent.summonPetBehind(this,s)&&this.abilityService.triggerSummonedEvents(s),this.abilityUses++,this.superFriendFaints(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class M1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Warthog",this.tier=6,this.pack="Golden",this.attack=9,this.health=6,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.level,r=Math.floor(this.attack/3);for(let o=0;o<r;o++){let a=this.parent.getRandomPet(null,!0,null,!0);if(null==a)break;a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0})}}}class I1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cobra",this.tier=6,this.pack="Golden",this.attack=12,this.health=6,this.initPet(a,s,r,o,l)}friendAheadAttacks(t,e,i){let s=this.parent.opponent.getRandomPet(null,null,!0);if(null==s)return;let r=Math.floor(.2*this.attack*this.level);this.snipePet(s,r,!0,i)}}class O1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Grizzly Bear",this.tier=6,this.pack="Golden",this.attack=6,this.health=8,this.initPet(a,s,r,o,l)}friendAttacks(t,e){e||this.abilityUses++,this.abilityUses%5==0&&(this.abilityService.setCounterEvent({callback:()=>{let i=(0,me.shuffle)(this.parent.opponent.petArray),s=6*this.level;for(let r=0;r<2;r++){let o=i[r];if(null==o)break;this.snipePet(o,s,!0,e)}},priority:this.attack}),this.superFriendAttacks(t,e))}}class R1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="German Shephard",this.tier=6,this.pack="Golden",this.attack=10,this.health=6,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){let s=Math.floor(this.attack*this.level*.25);e.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i})}}class N1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bird of Paradise",this.tier=6,this.pack="Golden",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class L1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Oyster",this.tier=6,this.pack="Golden",this.attack=2,this.health=10,this.initPet(a,s,r,o,l)}}class B1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rockhopper Penguin",this.tier=4,this.pack="Golden",this.attack=2,this.health=5,this.maxAbilityUses=1,this.abilityUses=0,this.initPet(a,s,r,o,l)}emptyFrontSpace(t,e){this.abilityUses>=this.maxAbilityUses||null!=this.parent.pet0||(this.logService.createLog({message:`${this.name} jumps to the front!`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0),this.parent.gainTrumpets(12*this.level,this),this.abilityUses++,this.superEmptyFrontSpace(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class $1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Marmoset",this.tier=1,this.pack="Star",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class V1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jerboa",this.tier=4,this.pack="Custom",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}}class F1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frilled Dragon",this.tier=1,this.pack="Custom",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=0;for(let s of this.parent.petArray)s!==this&&null!=s.faint&&i++;i*=this.level,this.increaseAttack(i),this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} attack and ${i} health.`,type:"ability",player:this.parent,tiger:e})}}class H1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wombat",this.tier=2,this.pack="Custom",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=It(t,this.parent),s=[],r=0;for(let a of i.petArray)null!=a.faint&&(a.tier>r?(s=[a],r=a.tier):a.tier==r&&s.push(a));if(0==s.length)return;let o=s[Math.floor(Math.random()*s.length)];this.faint=o.faint.bind(this),this.logService.createLog({message:`${this.name} has copied ${o.name}'s faint ability as level ${this.level}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>1}),this.superStartOfBattle(t,e)}}class q1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frigatebird",this.tier=2,this.pack="Custom",this.attack=2,this.health=1,this.initPet(a,s,r,o,l)}friendGainedAilment(t,e){if(this.abilityUses>=this.level||e==this)return;let i=e.equipment;e.givePetEquipment(new Wp),this.abilityUses++,this.logService.createLog({message:`${this.name} removed ${i.name} from ${e.name} and gave ${e.name} Rice.`,type:"ability",player:this.parent})}resetPet(){super.resetPet()}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class G1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Aardvark",this.tier=3,this.pack="Custom",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}enemySummoned(t,e,i){let s=2*this.level;this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i})}}class U1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bear",this.tier=3,this.pack="Golden",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=[...this.getPetsAhead(this.level,!0),...this.getPetsBehind(this.level)];for(let r of s)r.givePetEquipment(new jp(this.logService,this.abilityService)),this.logService.createLog({message:`${this.name} gave ${r.name} Honey.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}}class j1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emperor Tamarin",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class W1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Porcupine",this.tier=3,this.pack="Custom",this.attack=2,this.health=6,this.initPet(a,s,r,o,l)}hurt(t,e,i){this.snipePet(e,3*this.level)}}class z1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wasp",this.tier=3,this.pack="Custom",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class K1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragonfly",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}}class Q1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lynx",this.tier=4,this.pack="Custom",this.attack=5,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;let s=0;for(let o of this.parent.petArray)s+=o.level;let r=i.getRandomPets(this.level,null,null,!0);for(let o of r)this.snipePet(o,s,!0,e);super.superStartOfBattle(t,e)}}class Y1 extends ce{constructor(){super(...arguments),this.name="Steak",this.equipmentClass="attack",this.power=20,this.originalPower=20,this.uses=1,this.originalUses=1}}class J1 extends ce{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Mushroom",this.equipmentClass="afterFaint",this.callback=s=>{var r;let o=null===(r=s.originalAfterFaint)||void 0===r?void 0:r.bind(s);s.afterFaint=a=>{var l;if(null!=o&&o(a),"Mushroom"==(null===(l=s.equipment)||void 0===l?void 0:l.name))for(let h=0;h<this.multiplier;h++){let f=this.petService.createDefaultVersionOfPet(s,1,1);this.logService.createLog({message:`${s.name} Spawned ${f.name} (level ${f.level}) (Mushroom)${h>0?this.multiplierMessage:""}`,type:"ability",player:s.parent}),s.parent.summonPet(f,s.savedPosition)&&this.abilityService.triggerSummonedEvents(f)}}}}}class Z1 extends ce{constructor(){super(),this.name="Croissant",this.tier=3,this.equipmentClass="shop"}}class X1 extends ce{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Lime",this.tier=2,this.power=1,this.originalPower=1}}class Q_ extends ce{constructor(t){super(),this.logService=t,this.name="Pie",this.tier=4,this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.originalBeforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=r=>{null!=s&&s(r);let o=4*this.multiplier,a=4*this.multiplier;e.increaseAttack(o),e.increaseHealth(a),this.logService.createLog({message:`${e.name} gained ${o} attack and ${a} health (Pie)${this.multiplierMessage}`,type:"equipment",player:e.parent})}}}}class eT extends ce{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Lemon",this.tier=5,this.power=7,this.originalPower=7,this.uses=2,this.originalUses=2}}class Y_ extends ce{constructor(t){super(),this.logService=t,this.name="Pancakes",this.tier=6,this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.originalBeforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=r=>{null!=s&&s(r);for(let o of e.parent.petArray){if(e==o)continue;let a=2*this.multiplier,l=2*this.multiplier;o.increaseAttack(a),o.increaseHealth(l),this.logService.createLog({message:`${o.name} gained ${a} attack and ${l} health (Pancakes)${this.multiplierMessage}`,type:"equipment",player:e.parent})}}}}}class tT extends ce{constructor(){super(...arguments),this.name="Cucumber",this.equipmentClass="shop"}}class iT extends ce{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Banana",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.originalAfterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=o=>{var a;if(null!=r&&r(o),"Banana"==(null===(a=i.equipment)||void 0===a?void 0:a.name))for(let l=0;l<this.multiplier;l++){let h=new N_(this.logService,this.abilityService,i.parent,4,4,0,0);this.logService.createLog({message:`${i.name} Spawned Monkey (Banana)${l>0?this.multiplierMessage:""}`,type:"ability",player:i.parent}),i.parent.summonPet(h,i.savedPosition)&&this.abilityService.triggerSummonedEvents(h)}}}}}class J_ extends ce{constructor(){super(...arguments),this.name="Cherry",this.equipmentClass="beforeStartOfBattle",this.callback=t=>{var e;let i=null===(e=t.originalBeforeStartOfBattle)||void 0===e?void 0:e.bind(t);t.beforeStartOfBattle=s=>{null!=i&&i(s),t.parent.gainTrumpets(2*this.multiplier,t,!1,this.multiplier,!0)}}}}class Qp extends ce{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Chocolate Cake",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.originalBeforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=o=>{var a;if(null!=r&&r(o),"Chocolate Cake"!=(null===(a=i.equipment)||void 0===a?void 0:a.name))return;let l=3*this.multiplier;this.logService.createLog({message:`${i.name} gained ${l} exp. (Chocolate Cake)${this.multiplierMessage}`,type:"equipment",player:i.parent}),i.increaseExp(l),i.health=0,null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack}),i.removePerk()}}}}class nT extends ce{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Durian",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.originalBeforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=o=>{var a;if(null!=r&&r(o),"Durian"==(null===(a=i.equipment)||void 0===a?void 0:a.name)){for(let l=0;l<this.multiplier;l++){let f=(i.parent==o.player?o.opponet:o.player).getHighestHealthPet(),m=f.pet;if(null==m){console.warn("durian didn't find target");continue}let y=.33,_=Math.max(1,Math.floor(m.health*(1-y)));m.health=_,this.logService.createLog({message:`${this.name} reduced ${m.name} health by ${100*y}% (${_})${l>0?this.multiplierMessage:""}`,type:"ability",player:i.parent,randomEvent:f.random})}i.removePerk()}}}}}class Z_ extends ce{constructor(t){super(),this.logService=t,this.name="Eggplant",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.originalBeforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=r=>{null!=s&&s(r);for(let o=0;o<this.multiplier;o++){let a=e.parent.opponent,l=a.getPet(e.position);if(null==l)return;this.logService.createLog({message:`${e.name} pushed ${l.name} 1 space forward. (Eggplant)`,type:"equipment",player:e.parent}),a.pushPet(l,1)}}}}}class X_ extends ce{constructor(t){super(),this.logService=t,this.name="Pita Bread",this.power=0,this.equipmentClass="hurt",this.callback=e=>{var i;let s=null===(i=e.hurt)||void 0===i?void 0:i.bind(e);e.hurt=r=>{var o;if(null!=s&&s(r),"Pita Bread"!=(null===(o=e.equipment)||void 0===o?void 0:o.name)||!e.alive)return;let a=15*this.multiplier;e.increaseHealth(a);let l=`${e.name} gained ${a} health. (Pita Bread)${this.multiplierMessage}`;l+=".",this.logService.createLog({message:l,type:"equipment",player:e.parent}),e.removePerk()}}}}class sT extends ce{constructor(){super(...arguments),this.name="Potato",this.equipmentClass="shield-snipe",this.power=10,this.uses=2,this.originalUses=2,this.originalPower=10}}class rT extends ce{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Tomato",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.originalBeforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=o=>{var a;if(null!=r&&r(o),"Tomato"==(null===(a=i.equipment)||void 0===a?void 0:a.name)){for(let l=0;l<this.multiplier;l++){let f=(i.parent==o.player?o.opponet:o.player).getLastPet();if(null==f){console.warn("tomato didn't find target");continue}let m=i.calculateDamgae(f,i.getManticoreMult(),10,!0),y=m.defenseEquipment,_=m.damage;f.health-=_;let w=`${i.name} sniped ${f.name} for ${_}`,T=l>0?this.multiplierMessage:"";if(null!=y){f.useDefenseEquipment();let D=Math.abs(y.power),R="-";y.power<0&&(R="+"),w+=` (${y.name} ${R}${D})`}this.logService.createLog({message:w+=` (Tomato)${T}.`,type:"attack",player:i.parent}),null!=f.hurt&&this.abilityService.setHurtEvent({callback:f.hurt.bind(f),priority:f.attack,player:f.parent,callbackPet:f}),f.health<1&&null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:f}),f.alive&&this.abilityService.triggerFriendHurtEvents(f.parent,f),f.alive&&_>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,f)}i.removePerk()}}}}}class oT extends ce{constructor(){super(...arguments),this.name="Carrot",this.equipmentClass="shop"}}class aT extends ce{constructor(){super(...arguments),this.name="Grapes",this.equipmentClass="shop"}}class lT extends ce{constructor(t,e,i,s){super(),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Popcorn",this.equipmentClass="afterFaint",this.callback=r=>{var o;let a=null===(o=r.originalAfterFaint)||void 0===o?void 0:o.bind(r);r.afterFaint=l=>{var h;if(null!=a&&a(l),"Popcorn"==(null===(h=r.equipment)||void 0===h?void 0:h.name))for(let f=0;f<this.multiplier;f++){let m;m=r.parent==this.gameService.gameApi.player?this.gameService.gameApi.playerPetPool:this.gameService.gameApi.opponentPetPool;let y=m.get(r.tier),_=y[Math.floor(Math.random()*y.length)],w=this.petService.createPet({attack:null,equipment:null,exp:0,health:null,name:_,mana:0},r.parent);this.logService.createLog({message:`${r.name} Spawned ${w.name} (Popcorn)${f>0?this.multiplierMessage:""}`,type:"ability",player:r.parent,randomEvent:!0}),r.parent.summonPet(w,r.savedPosition)&&this.abilityService.triggerSummonedEvents(w)}}}}}class cT extends ce{constructor(){super(),this.name="Blueberry",this.equipmentClass="target"}}class uT extends ce{constructor(){super(),this.name="Donut",this.equipmentClass="target"}}class hT extends ce{constructor(){super(),this.name="Pineapple",this.equipmentClass="attack-snipe",this.power=2}}class dT extends ce{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Fig",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.originalBeforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=o=>{var a;if(null!=r&&r(o),"Fig"==(null===(a=i.equipment)||void 0===a?void 0:a.name)){for(let l=0;l<this.multiplier;l++){let f=(i.parent==o.player?o.opponet:o.player).getLowestHealthPet().pet;if(null==f)return void console.warn("fig didn't find target");let m=i.calculateDamgae(f,i.getManticoreMult(),4,!0),y=m.defenseEquipment,_=m.damage;f.health-=_;let w=`${i.name} sniped ${f.name} for ${_}`;if(null!=y){f.useDefenseEquipment();let D=Math.abs(y.power),R="-";y.power<0&&(R="+"),w+=` (${y.name} ${R}${D})`}this.logService.createLog({message:w+=" (Fig).",type:"attack",player:i.parent}),null!=f.hurt&&this.abilityService.setHurtEvent({callback:f.hurt.bind(f),priority:f.attack,player:f.parent,callbackPet:f}),f.health<1&&null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:f}),f.alive&&this.abilityService.triggerFriendHurtEvents(f.parent,f),f.alive&&_>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,f)}i.removePerk()}}}}}class eb extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monty",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=3,this.attack=3,this.initPet(a,s,r,o,l)}}class fT extends ce{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Easter Egg",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.originalAfterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=o=>{var a;if(null!=r&&r(o),"Easter Egg"==(null===(a=i.equipment)||void 0===a?void 0:a.name))for(let l=0;l<this.multiplier;l++){let h=new eb(this.logService,this.abilityService,i.parent,null,null,0,0);this.logService.createLog({message:`${i.name} Spawned Monty (Easter Egg)${l>0?this.multiplierMessage:""}`,type:"ability",player:i.parent}),i.parent.summonPet(h,i.savedPosition)&&this.abilityService.triggerSummonedEvents(h)}}}}}class tb extends ce{constructor(t){super(),this.logService=t,this.name="Gingerbread Man",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.originalBeforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=r=>{null!=s&&s(r);let o=1*this.multiplier;this.logService.createLog({message:`${e.name} gained ${o} experience (Gingerbread Man)${this.multiplierMessage}.`,type:"equipment",player:e.parent}),e.increaseExp(o)}}}}class pT extends ce{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Golden Egg",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.originalBeforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=o=>{var a;if(null!=r&&r(o),"Golden Egg"!=(null===(a=i.equipment)||void 0===a?void 0:a.name))return;let h=(i.parent==o.player?o.opponet:o.player).petArray,f=null;for(let m of h)if(m.alive){f=m;break}if(null!=f){for(let m=0;m<this.multiplier;m++){let y=i.calculateDamgae(f,i.getManticoreMult(),6,!0),_=y.defenseEquipment,w=y.damage;f.health-=w;let T=`${i.name} sniped ${f.name} for ${w}`,D=m>0?this.multiplierMessage:"";if(null!=_){f.useDefenseEquipment();let R=Math.abs(_.power),I="-";_.power<0&&(I="+"),T+=` (${_.name} ${I}${R})`}this.logService.createLog({message:T+=` (Golden Egg)${D}.`,type:"attack",player:i.parent}),null!=f.hurt&&this.abilityService.setHurtEvent({callback:f.hurt.bind(f),priority:i.attack,player:f.parent,callbackPet:f}),f.health<1&&null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:f}),f.alive&&this.abilityService.triggerFriendHurtEvents(f.parent,f),f.alive&&w>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,f)}i.removePerk()}else console.warn("golden egg didn't find target")}}}}class ib extends ce{constructor(t){super(),this.logService=t,this.name="Health Potion",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.originalBeforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=r=>{null!=s&&s(r);let o=2*this.multiplier,a=e.parent.furthestUpPet;null!=a&&(this.logService.createLog({message:`${e.name} gave ${o} health to ${a.name} (Health Potion)${this.multiplierMessage}.`,type:"equipment",player:e.parent}),a.increaseHealth(o))}}}}class nb extends ce{constructor(t){super(),this.logService=t,this.name="Love Potion",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.originalBeforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=r=>{null!=s&&s(r);let o=e.petAhead;if(null==o)return;let a=2*this.multiplier;this.logService.createLog({message:`${e.name} gave ${o.name} ${a} health (Love Potion)${this.multiplierMessage}.`,type:"equipment",player:e.parent}),o.increaseHealth(a)}}}}class gT extends ce{constructor(){super(),this.name="Magic Beans",this.equipmentClass="shop"}}class Yp extends ce{constructor(t){super(),this.logService=t,this.name="Rambutan",this.equipmentClass="beforeAttack",this.callback=e=>{var i;let s=null===(i=e.originalBeforeAttack)||void 0===i?void 0:i.bind(e);e.beforeAttack=r=>{var o;if(null!=s&&s(r),"Rambutan"!=(null===(o=e.equipment)||void 0===o?void 0:o.name))return;let l=3*this.multiplier;this.logService.createLog({message:`${e.name} gained ${l} mana. (Rambutan)${this.multiplierMessage}`,type:"equipment",player:e.parent}),e.increaseMana(l)}}}}class mT extends ce{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Squash",this.tier=3,this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.originalBeforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=o=>{var a;if(null!=r&&r(o),"Squash"==(null===(a=i.equipment)||void 0===a?void 0:a.name)){for(let l=0;l<this.multiplier;l++){let f=(i.parent==o.player?o.opponet:o.player).pet0;if(null==f||!f.alive)return void console.warn("squash didn't find target");let m=6,y=Math.max(1,f.health-m);f.health=y,this.logService.createLog({message:`${this.name} reduced ${f.name} health by ${m} (${y})${l>0?this.multiplierMessage:""}`,type:"equipment",player:i.parent})}i.removePerk()}}}}}class vT extends ce{constructor(t,e,i,s){super(),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Faint Bread",this.equipmentClass="afterFaint",this.callback=r=>{var o;let a=null===(o=r.originalAfterFaint)||void 0===o?void 0:o.bind(r);r.afterFaint=l=>{var h;if(null!=a&&a(l),"Faint Bread"==(null===(h=r.equipment)||void 0===h?void 0:h.name))for(let f=0;f<this.multiplier;f++){let m=this.petService.getRandomFaintPet(r.parent,1);this.logService.createLog({message:`${r.name} Spawned ${m.name} (Faint Bread)${f>0?this.multiplierMessage:""}`,type:"ability",player:r.parent,randomEvent:!0}),r.parent.summonPet(m,r.savedPosition)&&this.abilityService.triggerSummonedEvents(m)}}}}}class yT extends E{constructor(t,e,i,s,r,o,a,l,h,f){super(t,e,r),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Seagull",this.tier=4,this.pack="Custom",this.attack=4,this.health=3,this.initPet(h,o,a,l,f)}friendSummoned(t,e,i){this.abilityUses>=this.maxAbilityUses||null!=this.equipment&&(e.givePetEquipment(this.getInstanceOfAllEquipment().get(this.equipment.name)),this.logService.createLog({message:`${this.name} gave ${e.name} a ${this.equipment.name}`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendSummoned(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}getInstanceOfAllEquipment(){let t=new Map;return t.set("Garlic",new pc),t.set("Meat Bone",new B_),t.set("Steak",new Y1),t.set("Melon",new jr),t.set("Honey",new jp(this.logService,this.abilityService)),t.set("Chili",new bh(this.logService,this.abilityService)),t.set("Mushroom",new J1(this.logService,this.abilityService,this.petService)),t.set("Coconut",new Wr),t.set("Peanut",new Ga),t.set("Croissant",new Z1),t.set("Rice",new Wp),t.set("Lime",new X1),t.set("Egg",new $_(this.logService,this.abilityService)),t.set("Salt",new $p),t.set("Pie",new Q_(this.logService)),t.set("Skewer",new Kp(this.logService)),t.set("Lemon",new eT),t.set("Pancakes",new Y_(this.logService)),t.set("Strawberry",new U_(this.logService,this.abilityService)),t.set("Cucumber",new tT),t.set("Cheese",new Vp),t.set("Grapes",new aT),t.set("Carrot",new oT),t.set("Pepper",new Fp),t.set("Popcorn",new lT(this.logService,this.abilityService,this.petService,this.gameService)),t.set("Cherry",new J_),t.set("Chocolate Cake",new Qp(this.logService,this.abilityService)),t.set("Eggplant",new Z_(this.logService)),t.set("Potato",new sT),t.set("Banana",new iT(this.logService,this.abilityService)),t.set("Onion",new A_(this.logService)),t.set("Pita Bread",new X_(this.logService)),t.set("Tomato",new rT(this.logService,this.abilityService)),t.set("Durian",new nT(this.logService,this.abilityService)),t.set("Fortune Cookie",new Hp),t.set("Blueberry",new cT),t.set("Donut",new uT),t.set("Pineapple",new hT),t.set("Fig",new dT(this.logService,this.abilityService)),t.set("Rambutan",new Yp(this.logService)),t.set("Love Potion",new nb(this.logService)),t.set("Fairy Dust",new Gp(this.logService)),t.set("Gingerbread Man",new tb(this.logService)),t.set("Easter Egg",new fT(this.logService,this.abilityService)),t.set("Health Potion",new ib(this.logService)),t.set("Magic Beans",new gT),t.set("Golden Egg",new pT(this.logService,this.abilityService)),t.set("Squash",new mT(this.logService,this.abilityService)),t.set("Honeydew Melon",new C_),t.set("Ambrosia",new k_),t.set("Faint Bread",new vT(this.logService,this.abilityService,this.petService,this.gameService)),t}}class Jp extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Alpaca",this.tier=5,this.pack="Custom",this.attack=3,this.health=7,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){e instanceof Jp||this.abilityUses>=this.maxAbilityUses||(e.increaseExp(1),this.logService.createLog({message:`${this.name} gave ${e.name} 1 exp.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendSummoned(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class _T extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hyena",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){switch(this.level){case 1:this.level1Ability(t,e);break;case 2:this.level2Ability(t,e);break;case 3:this.level3Ability(t,e)}}level1Ability(t,e){let i=[...t.player.petArray,...t.opponet.petArray];for(let s of i){let r=s.health;s.health=s.attack,s.attack=r}this.logService.createLog({message:`${this.name} swapped all pets attack and health.`,type:"ability",player:this.parent,tiger:e})}level2Ability(t,e){this.shufflePets(t.player),this.shufflePets(t.opponet),this.logService.createLog({message:`${this.name} shuffled positions of all pets.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0})}level3Ability(t,e){this.level1Ability(t,e),this.level2Ability(t,e)}shufflePets(t){let e=t.petArray;E_(e);for(let i=0;i<e.length;i++)t[`pet${i}`]=e[i]}}class bT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moose",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.initPet(a,s,r,o,l)}}class ST extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lioness",this.tier=6,this.pack="Custom",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}}class ET extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Tapir",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(l,r,o,a,h)}afterFaint(t,e,i){let s=this.parent.petArray.filter(a=>"Tapir"==a.name),r=this.parent.getRandomPet(s,!0);if(null==r)return void super.superAfterFaint(t,e,i);r=(0,me.clone)(r),r.exp=this.minExpForLevel;let o=this.petService.createDefaultVersionOfPet(r);this.logService.createLog({message:`${this.name} spawned a ${o.name} level ${o.level}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r),super.superAfterFaint(t,e,i)}}class wT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Walrus",this.tier=6,this.pack="Custom",this.attack=7,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.parent.getRandomPets(this.level,null,!0,null);for(let r of s)r.givePetEquipment(new Ga),this.logService.createLog({message:`${this.name} gave ${r.name} a Peanut.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0})}}class CT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="White Tiger",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=[],s=this.petBehind();for(;s&&i.length<this.level;)i.push(s),s=s.petBehind();for(let r of i)this.logService.createLog({message:`${this.name} gave ${r.name} +3 experience.`,type:"ability",player:this.parent,tiger:e}),r.increaseExp(3)}}class kT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amargasaurus",this.tier=5,this.pack="Star",this.attack=5,this.health=7,this.healthRestoredThisTurn=0,this.initPet(a,s,r,o,l)}friendHurt(t,e,i){let s;if(e instanceof G_?(s=e.parent.getPetAtPosition(e.savedPosition),s.originalHealth=e.originalHealth):s=e,!s)return void this.superFriendHurt(t,e,i);if(s===this)return void this.superFriendHurt(t,e,i);const r=15*this.level,o=s.originalHealth-s.health;if(o<=0||this.healthRestoredThisTurn>=r)return void this.superFriendHurt(t,e,i);const l=Math.min(o,r-this.healthRestoredThisTurn);l>0&&(this.logService.createLog({message:`${this.name} restored ${l} health to ${s.name}.`,type:"ability",player:this.parent,tiger:i}),s.increaseHealth(l),this.healthRestoredThisTurn+=l),this.superFriendHurt(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.healthRestoredThisTurn=0}}class PT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Opossum",this.tier=1,this.pack="Golden",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class AT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kiwi",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class DT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Firefly",this.tier=1,this.pack="Star",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){const s=this.level,r=this.savedPosition,o=[];for(const a of this.parent.petArray)if(a.alive){const l=Math.abs(a.position-r);l>0&&l<=s&&o.push(a)}for(const a of this.parent.opponent.petArray)a.alive&&r+a.position+1<=s&&o.push(a);if(o.length>0){this.logService.createLog({message:`${this.name} dealt 1 damage to ${o.length} pets.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});for(const a of o)this.snipePet(a,1,!1,e,i)}this.superFaint(t,e)}}class TT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bass",this.tier=2,this.pack="Star",this.attack=3,this.health=3,this.sellPets=["Beaver","Duck","Pig","Pillbug","Kiwi","Mouse","Frog","Bass"],this.initPet(a,s,r,o,l)}faint(t,e,i){const s=this.parent.petArray.filter(r=>r!==this&&this.sellPets.includes(r.name)&&r.level>=2);if(s.length>0){const r=s[Math.floor(Math.random()*s.length)];if(null==r)return;const o=this.level;this.logService.createLog({message:`${this.name} gave ${r.name} +${o} experience.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),r.increaseExp(o)}this.superFaint(t,e)}}class xT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pigeon",this.tier=1,this.pack="Turtle",this.attack=3,this.health=1,this.initPet(a,s,r,o,l)}}class wh extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hare",this.tier=3,this.pack="Puppy",this.health=4,this.attack=4,this.initPet(a,s,r,o,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.opponent.petArray,s=[];for(let a of i)a.equipment&&this.isUsefulPerk(a.equipment.name)&&s.push(a);if(0==s.length)return;let r=s[Math.floor(Math.random()*s.length)],o=(0,me.cloneDeep)(r.equipment);o.reset(),this.logService.createLog({message:`${this.name} copied ${o.name} from ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>0}),this.givePetEquipment(o),this.abilityUses++,this.superBeforeAttack(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}isUsefulPerk(t){return wh.USEFUL_PERKS.has(t)}}wh.USEFUL_PERKS=new Map([["Lime",2],["Meat Bone",2],["Cherry",2],["Fairy Dust",2],["Garlic",3],["Gingerbread Man",3],["Fig",3],["Cucumber",3],["Croissant",3],["Squash",3],["Banana",4],["Love Potion",4],["Pie",4],["Grapes",4],["Cheese",4],["Salt",4],["Fortune Cookie",4],["Easter Egg",5],["Magic Beans",5],["Chili",5],["Lemon",5],["Durian",5],["Honeydew Melon",5],["Popcorn",6],["Steak",6],["Pancakes",6],["Yggdrasil Fruit",6],["Melon",6],["Tomato",6],["Pita Bread",6]]);class MT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baku",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}}class Zp extends ce{constructor(){super(...arguments),this.name="Spooked",this.equipmentClass="ailment-defense",this.power=-1,this.originalPower=-1}}class IT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="???",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}endTurn(t){const e=this.petAhead;if(e){const i=this.level;this.logService.createLog({message:`${this.name} gave ${e.name} +${i} attack and Spooked.`,type:"ability",player:this.parent}),e.increaseAttack(i),e.givePetEquipment(new Zp)}}}class OT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Axehandle Hound",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent.petArray,s=new Map;for(let a of i)s.has(a.name)?s.get(a.name).push(a):s.set(a.name,[a]);let r=[];for(let[a,l]of s)l.length>1&&r.push(...l);if(0==r.length)return;let o=r[Math.floor(Math.random()*r.length)];null!=o&&(this.logService.createLog({message:`${this.name} sniped ${o.name} for ${10*this.level} damage`,type:"ability",player:this.parent,tiger:e}),this.snipePet(o,10*this.level,!0,e),this.superStartOfBattle(t,e))}}class RT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Barghest",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent.petArray;i.reverse();let s=[],r=this.level;for(let o of i){if(s.length>=r)break;null==o.equipment&&s.push(o)}for(let o of s)this.logService.createLog({message:`${this.name} gave ${o.name} Spooked`,type:"ability",player:this.parent,tiger:e}),o.givePetEquipment(new Zp);this.superStartOfBattle(t,e)}}class NT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tsuchinoko",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=1,this.initPet(a,s,r,o,l)}startOfBattle(t,e){this.parent.pushPetToFront(this,!0),this.logService.createLog({message:`${this.name} pushed itself to the front and gained ${this.level} experience.`,type:"ability",player:this.parent,tiger:e}),this.increaseExp(this.level),this.superStartOfBattle(t,e)}}class LT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Murmel",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(a,s,r,o,l)}friendGainedExperience(t,e,i){if(e.parent!=this.parent)return;let s={attack:this.level,health:0};this.logService.createLog({message:`${this.name} gained ${s.attack} attack.`,type:"ability",player:this.parent,tiger:i}),this.increaseAttack(s.attack),this.superFriendGainedExperience(t,e,i)}}class BT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Alchemedes",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.petAhead;null!=i&&(this.logService.createLog({message:`${this.name} gave ${i.name} ${this.level} mana.`,type:"ability",player:this.parent,randomEvent:!1}),i.increaseMana(this.level),this.superStartOfBattle(t,e))}}class $T extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pengobble",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.maxAbilityUses=2,this.abilityUses=0,this.isTriggering=!1,this.initPet(a,s,r,o,l)}gainedMana(t,e){if(this.isTriggering||this.abilityUses>=this.maxAbilityUses)return;this.isTriggering=!0;const i=2*this.level;this.logService.createLog({message:`${this.name} gained an extra ${i} bonus mana.`,type:"ability",player:this.parent,tiger:e}),this.increaseMana(i),this.abilityUses++,this.isTriggering=!1,this.superGainedMana(t,e)}setAbilityUses(){super.setAbilityUses(),this.abilityUses=0,this.maxAbilityUses=2}}class VT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Warf",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}gainedMana(t,e){let i=this.parent.opponent.getRandomPet([],null,!0);null!=i&&(this.snipePet(i,this.level,!0,e),this.superGainedMana(t,e))}}class FT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bunyip",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let s;s=this.parent==t.player?t.playerRollAmount:t.opponentRollAmount;let r=this.level+s;this.logService.createLog({message:`${this.name} set its health to ${r}.`,type:"ability",player:this.parent,tiger:e}),this.health=r,this.superStartOfBattle(t,e)}}class sb extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="CrackedEgg",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}}class HT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sneaky Egg",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i={attack:4*this.level,health:2*this.level};this.health=0;let s=new sb(this.logService,this.abilityService,this.parent,i.health,i.attack,0);this.logService.createLog({message:`${this.name} spawned a ${i.attack}/${i.health} Cracked Egg`,type:"ability",player:this.parent,tiger:e}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s),this.superStartOfBattle(t,e)}}class qT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cuddle Toad",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class GT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ghost Kitten",this.tier=2,this.pack="Unicorn",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}}class UT extends ce{constructor(){super(...arguments),this.name="Cold",this.equipmentClass="ailment-defense",this.power=-5,this.originalPower=-5,this.uses=1,this.originalUses=1}}class jT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frost Wolf",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.parent.opponent.petArray,r=[];s[0]&&r.push(s[0]);for(let o of r){const a=-5*this.level,l=new UT;l.power=a,l.originalPower=a;let h=".";2===this.level?h=" twice for double effect.":3===this.level&&(h=" thrice for triple effect."),this.logService.createLog({message:`${this.name} made ${o.name} Cold${h}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),o.givePetEquipment(l)}this.superFaint(t,e)}}class WT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mothman",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}onAilmentGained(t,e){if(this.abilityUses>=this.maxAbilityUses)return;const i=this.level;this.logService.createLog({message:`${this.name} gained +${i} attack and +${i} health because ${t.name} gained an ailment.`,type:"ability",player:this.parent,tiger:e}),this.increaseAttack(i),this.increaseHealth(i),this.abilityUses++}friendGainedAilment(t,e){this.onAilmentGained(e,!1)}enemyGainedAilment(t,e,i){this.onAilmentGained(e,i),this.superEnemyGainedAilment(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=5}}class zT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Drop Bear",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0);let i=3*this.level,s=this.parent.opponent.getLastPet();null!=s&&this.snipePet(s,i,!1,e)}}class KT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jackalope",this.tier=2,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}friendJumped(t,e,i){let s=this.parent.opponent.getRandomPet();null!=s&&(this.snipePet(s,2*this.level,!0,i),this.superFriendJumped(t,e,i))}}class QT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lucky Cat",this.tier=3,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}anyoneLevelUp(t,e,i){if(e!=this)return;let s=2;3==this.level&&(s=4),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.increaseAttack(s),this.increaseHealth(s),this.superAnyoneLevelUp(t,e,i)}}class YT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ogopogo",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(a,s,r,o,l)}startOfBattle(t,e){const r=this.parent.petArray.filter(o=>o!==this).slice(0,this.level);if(0!==r.length){for(const o of r)this.logService.createLog({message:`${this.name} gave ${o.name} +1 experience.`,type:"ability",player:this.parent,tiger:e}),o.increaseExp(1);this.superStartOfBattle(t,e)}else this.superStartOfBattle(t,e)}}class JT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Thunderbird",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.furthestUpPet;if(null==i)return;let s=3*this.level;this.logService.createLog({message:`${this.name} gave ${i.name} ${s} mana.`,type:"ability",player:this.parent,tiger:e}),i.increaseMana(s),this.superStartOfBattle(t,e)}}class ZT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gargoyle",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.mana*this.level;s+=2*this.level;let r=this.petBehind();null!=r&&(this.logService.createLog({message:`${this.name} spent ${this.mana} mana and gave ${s} health to ${r.name}.`,type:"ability",player:this.parent,tiger:e}),r.increaseHealth(s),this.mana=0,this.superFaint(t,e))}}class XT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bigfoot",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class ex extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Skeleton Dog",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.parent.getRandomPets(this.level,[this]);for(let r of s)this.logService.createLog({message:`${this.name} gave 1 attack and 1 health to ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),r.increaseAttack(1),r.increaseHealth(1);this.superFaint(t,e)}}class tx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mandrake",this.tier=3,this.pack="Unicorn",this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let o,s=this.parent.opponent.petArray.filter(a=>a.tier<=2*this.level),r=s.filter(a=>a.faintPet);r.length>0?o=r[Math.floor(Math.random()*r.length)]:(E_(s),o=s[0]),this.logService.createLog({message:`${this.name} made ${o.name} Dazed.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),o.givePetEquipment(new w_),this.superFaint(t,e)}}class ix extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fur-Bearing Trout",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=[],r=this;for(;s.length<this.level;){let o=r.petBehind();if(null==o)break;o.equipment instanceof Yp||s.push(o),r=o}if(0!==s.length){for(let o of s)this.logService.createLog({message:`${this.name} gave ${o.name} a Rambutan.`,type:"ability",player:this.parent,tiger:e}),o.givePetEquipment(new Yp(this.logService));this.superFaint(t,e)}}}class nx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mana Hound",this.tier=3,this.pack="Unicorn",this.attack=5,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let s;s=this.parent==t.player?t.playerRollAmount:t.opponentRollAmount,s=Math.min(s,5);let r=this.petAhead;if(null==r)return;let o=s*this.level;this.logService.createLog({message:`${this.name} gave ${r.name} ${o} mana.`,type:"ability",player:this.parent,tiger:e}),r.increaseMana(o),this.superStartOfBattle(t,e)}}class sx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Calygreyhound",this.tier=3,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){if(0==this.mana)return;let s=this.parent.opponent.getHighestHealthPet(),r=this.parent.opponent.getHighestHealthPet(s.pet),o=[];null!=s.pet&&o.push(s.pet),null!=r.pet&&o.push(r.pet);let a=this.level*this.mana;for(let l of o)l.health=Math.max(1,l.health-a),this.logService.createLog({message:`${this.name} reduced ${l.name}'s health by ${a} (${l.health}).`,type:"ability",player:this.parent,tiger:e});this.mana=0,this.superFaint(t,e)}}class rx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Brain Cramp",this.tier=3,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;let i=2*this.level;this.logService.createLog({message:`${this.name} pushed itself to the front, gained ${i} attack and gained Melon.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0),this.increaseAttack(i),this.givePetEquipment(new jr)}}class ox extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Minotaur",this.tier=4,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}friendAheadAttacks(t,e,i){let s=this.level*e.level;this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.increaseAttack(s),this.increaseHealth(s),this.superFriendAheadAttacks(t,e,i)}}class ax extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wyvern",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}}class lx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ouroboros",this.tier=3,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class cx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Griffin",this.tier=3,this.pack="Unicorn",this.attack=5,this.health=4,this.initPet(a,s,r,o,l)}}class ux extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kraken",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=7,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=[...this.parent.petArray,...this.parent.opponent.petArray];i=i.filter(s=>s.alive&&s!==this);for(let s of i){let r=1==this.level?.15:2==this.level?.3:.45,o=Math.max(1,Math.floor(s.health*(1-r)));s.health=o,this.logService.createLog({message:`${this.name} reduced ${s.name} health by ${(100*r).toFixed(0)}% (${o})`,type:"ability",player:this.parent,tiger:e})}this.superStartOfBattle(t,e)}}class hx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Visitor",this.tier=4,this.pack="Unicorn",this.attack=7,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=[...this.getPetsAhead(this.level,!0),...this.getPetsBehind(this.level)];for(let r of s)r.givePetEquipment(new qp),this.logService.createLog({message:`${this.name} made ${r.name} Exposed.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}class dx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vampire Bat",this.tier=5,this.pack="Unicorn",this.attack=2,this.health=5,this.maxAbilityUses=2,this.abilityUses=0,this.initPet(a,s,r,o,l)}enemyGainedAilment(t,e,i){if(console.log("enemyGainedAilment"),this.abilityUses>=this.maxAbilityUses)return;let r=e.health,o=this.snipePet(e,4*this.level,!1,i),a=Math.min(o,r);this.logService.createLog({message:`${this.name} gained ${a} health.`,type:"ability",player:this.parent,tiger:i}),this.increaseHealth(a),this.abilityUses++,this.superEnemyGainedAilment(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class fx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tiger Bug",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(a,s,r,o,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0);let i=this.parent.opponent.furthestUpPet,s=null==i?void 0:i.petBehind(),r=[];i&&r.push(i),s&&r.push(s);let o=3*this.level;for(let a of r)this.snipePet(a,o,!1,e)}}class px extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tatzelwurm",this.tier=4,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}friendAheadFaints(t,e,i){let s=2*this.level;3==e.level&&(s*=2);let r=this.parent.opponent.getRandomPet();null!=r&&(this.snipePet(r,s,!0,i),this.superFriendAheadFaints(t,e,i))}}class gx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cyclops",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}anyoneLevelUp(t,e,i){this.abilityUses>=this.maxAbilityUses||e.parent==this.parent&&(this.logService.createLog({message:`${this.name} gave ${e.name} 1 exp and 2 mana.`,type:"ability",player:this.parent,tiger:i}),e.increaseExp(1),e.increaseMana(2),this.abilityUses++,this.superAnyoneLevelUp(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class rb extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Goat",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class ob extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Lion",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class ab extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Snake",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class mx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chimera",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=6,this.initPet(a,s,r,o,l)}afterFaint(t,e,i){if(this.mana<=0)return void super.superAfterFaint(t,e,i);const s=Math.floor(this.mana/2),a=3+1*s,l=3+2*s;this.logService.createLog({message:`${this.name} spent ${this.mana} mana.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});let h=new ob(this.logService,this.abilityService,this.parent,l,a);if(this.logService.createLog({message:`${this.name} spawned a ${h.name} ${a}/${l}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(h,this.savedPosition)&&this.abilityService.triggerSummonedEvents(h),1==this.level)return this.mana=0,void super.superAfterFaint(t,e,i);let f=new rb(this.logService,this.abilityService,this.parent,l,a);if(this.logService.createLog({message:`${this.name} spawned a ${f.name} ${a}/${l}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(f,this.savedPosition)&&this.abilityService.triggerSummonedEvents(f),2==this.level)return this.mana=0,void super.superAfterFaint(t,e,i);let m=new ab(this.logService,this.abilityService,this.parent,l,a);this.logService.createLog({message:`${this.name} spawned a ${m.name} ${a}/${l}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(m,this.savedPosition)&&this.abilityService.triggerSummonedEvents(m),this.mana=0,super.superAfterFaint(t,e,i)}}class vx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Roc",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=[],s=this.petAhead;for(;s;)i.push(s),s=s.petAhead;if(0==i.length)return;let r=this.parent.petArray.filter(o=>o==this||!i.includes(o));for(let o=0;o<3*this.level;o++){let a=this.parent.getRandomPet(r,!0);this.logService.createLog({message:`${this.name} gave ${a.name} 2 mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),a.increaseMana(2)}this.superStartOfBattle(t,e)}}class yx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Worm of Sand",this.tier=4,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(a,s,r,o,l)}}class _x extends E{constructor(t,e,i,s,r,o,a,l,h,f,m,y){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Abomination",this.tier=4,this.pack="Unicorn",this.attack=6,this.health=5,this.initPet(l,r,o,a,h),this.abominationSwallowedPet1=f,this.abominationSwallowedPet2=m,this.abominationSwallowedPet3=y}startOfBattle(t,e){let i=[],s=!1,r=!1,o=!1;for(let a=0;a<this.level;a++)null==this.abominationSwallowedPet1||s?null==this.abominationSwallowedPet2||r?null!=this.abominationSwallowedPet3&&!o&&(i.push(this.abominationSwallowedPet3),o=!0):(i.push(this.abominationSwallowedPet2),r=!0):(i.push(this.abominationSwallowedPet1),s=!0);for(let a of i)this.logService.createLog({message:`${this.name} used swallowed ${a}'s Ability.`,type:"ability",player:this.parent,tiger:e}),this.petService.createPet({attack:null,health:null,mana:null,equipment:null,name:a,exp:0},this.parent).originalStartOfBattle.bind(this)(t,e)}}class bx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Red Dragon",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=8,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent.petArray;i.reverse();let s=[];for(let r of i)if(!(r.equipment instanceof fc)){if(s.length>=this.level)break;s.push(r)}for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} Crisp.`,type:"ability",player:this.parent,tiger:e}),r.givePetEquipment(new fc);this.superStartOfBattle(t,e)}}class Sx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Unicorn",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}friendGainedAilment(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=2*this.level;this.logService.createLog({message:`${this.name} removed ailment from ${e.name}.`,type:"ability",player:this.parent}),this.logService.createLog({message:`${this.name} gave ${e.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent}),e.removePerk(),e.increaseAttack(i),e.increaseHealth(i),this.abilityUses++}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Ex extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Loveland Frogman",this.tier=5,this.pack="Unicorn",this.attack=1,this.health=5,this.initPet(a,s,r,o,l)}beforeFriendAttacks(t,e,i){let s={attack:1*this.level,health:2*this.level};this.logService.createLog({message:`${this.name} gave ${e.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent}),e.increaseAttack(s.attack),e.increaseHealth(s.health),this.superBeforeFriendAttacks(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class wx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amalgamation",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=5,this.maxAbilityUses=2,this.abilityUses=0,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=3*this.level,r=4*this.level;this.logService.createLog({message:`${this.name} gave ${e.name} +${s} attack, +${r} mana, and Spooked.`,type:"ability",player:this.parent,tiger:i}),e.increaseAttack(s),e.increaseMana(r),e.givePetEquipment(new Zp),this.abilityUses++,this.superFriendSummoned(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class lb extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salmon of Knowledge",this.tier=5,this.pack="Unicorn",this.attack=5,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=2*this.level,s=this.parent.petArray,r=this.parent.opponent.petArray,o=[];null!=s[0]&&o.push(s[0]),null!=s[1]&&o.push(s[1]),null!=r[0]&&o.push(r[0]),null!=r[1]&&o.push(r[1]);for(let a of o)a!=this&&(this.logService.createLog({message:`${this.name} gave ${a.name} ${i} exp.`,type:"ability",player:this.parent}),a.increaseExp(i));this.superStartOfBattle(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Cx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jersey Devil",this.tier=5,this.pack="Unicorn",this.attack=5,this.health=4,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){let r=this.parent===t.player?t.playerLevel3Sold:t.opponentLevel3Sold;r=Math.min(r,5);let o=this.level*r;this.logService.createLog({message:`${this.name} gave ${e.name} ${o} attack and ${o} health`,type:"ability",player:this.parent,tiger:i}),e.increaseAttack(o),e.increaseHealth(o),this.superFriendSummoned(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class kx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pixiu",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){this.mana<4||(this.logService.createLog({message:`${this.name} spent 4 mana and gained ${3*this.level} gold for next turn.`,type:"ability",player:this.parent,tiger:e}),this.mana-=4,this.superFaint(t,e))}}class Px extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kitsune",this.tier=5,this.pack="Unicorn",this.attack=2,this.health=7,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){if(null==this.petAhead)return;let s=e.mana;if(0==s)return;e.mana=0;let r=this.petAhead;null!=r&&(this.logService.createLog({message:`${this.name} took ${s} mana from ${e.name} and gave it to ${r.name} +${2*this.level}.`,type:"ability",player:this.parent,tiger:i}),r.increaseMana(s+2*this.level))}}class cb extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nessie?",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class Ax extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nessie",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}afterFaint(t,e,i){let o=3*this.level,a=3*this.level,l="";if(!this.parent.summonedBoatThisBattle){const m=(this.parent===t.player?t.playerRollAmount:t.opponentRollAmount)*this.level;o+=m,a+=m,this.parent.summonedBoatThisBattle=!0,l=` It's the first Boat, so it gains +${m}/+${m}!`}o=Math.min(50,o),a=Math.min(50,a);let h=new cb(this.logService,this.abilityService,this.parent,a,o,0);this.logService.createLog({message:`${this.name} spawned a Nessie? ${o}/${a}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(h,this.savedPosition)&&this.abilityService.triggerSummonedEvents(h),super.superAfterFaint(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Dx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bad Dog",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class Tx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Werewolf",this.tier=5,this.pack="Unicorn",this.attack=6,this.health=6,this.initPet(a,s,r,o,l)}startOfBattle(t,e){if(t.day){const i=6*this.level;this.increaseMana(i),this.logService.createLog({message:`${this.name} gained ${i} mana.`,type:"ability",player:this.parent,tiger:e})}else{let i=.5*this.level;const s=Math.floor(this.attack*i),r=Math.floor(this.health*i);let o=Math.min(50,this.attack+s),a=Math.min(50,this.health+r);this.logService.createLog({message:`${this.name} increased its stats by ${100*i}% (${o}/${a}).`,type:"ability",player:this.parent,tiger:e}),this.increaseAttack(this.attack*i),this.increaseHealth(this.health*i)}}}class xx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manticore",this.tier=6,this.pack="Unicorn",this.attack=7,this.health=4,this.initPet(a,s,r,o,l)}}class ub extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Young Phoenix",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=6,this.attack=6,this.initPet(a,s,r,o,l)}}class Mx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Phoenix",this.tier=6,this.pack="Unicorn",this.attack=8,this.health=8,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=[...this.parent.petArray,...this.parent.opponent.petArray];s=s.filter(a=>a!=this&&a.alive),E_(s);let r=3*this.level,o=0;if(s.length>0)for(let a of s){if(o>=r)break;this.logService.createLog({message:`${this.name} gave ${a.name} Crisp.`,type:"ability",randomEvent:s.length>r,tiger:e,player:this.parent}),a.givePetEquipment(new fc),o++}this.abilityService.setAfterFaintEvent({callback:()=>{let a=4*this.level,l=new ub(this.logService,this.abilityService,this.parent,a,a,0);this.logService.createLog({message:`${this.name} spawned a Young Phoenix (${a}/${a}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(l,this.savedPosition)&&this.abilityService.triggerSummonedEvents(l)},priority:this.attack}),super.superFaint(t,e)}}class Ix extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Quetzalcoatl",this.tier=6,this.pack="Unicorn",this.attack=2,this.health=8,this.initPet(a,s,r,o,l)}}class Ox extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Team Spirit",this.tier=6,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent||e==this)return;let s=this.parent.petArray;s=s.filter(o=>o!=this);let r={attack:this.level,health:this.level};for(let o of s)this.logService.createLog({message:`${this.name} gave ${o.name} ${r.attack} attack and ${r.health} health.`,type:"ability",player:this.parent,tiger:i}),o.increaseAttack(r.attack),o.increaseHealth(r.health)}}class Rx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sleipnir",this.tier=6,this.pack="Unicorn",this.attack=8,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=Math.floor(this.attack/2),s=this.parent.furthestUpPet,r=[];for(;s&&(r.push(s),!(r.length>=this.level));)s=s.petBehind();for(let o of r)this.logService.createLog({message:`${this.name} gave ${o.name} ${i} mana.`,type:"ability",player:this.parent,tiger:e}),o.increaseMana(i);this.superStartOfBattle(t,e)}}class Nx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Serpent",this.tier=6,this.pack="Unicorn",this.attack=6,this.health=6,this.initPet(a,s,r,o,l)}faint(t,e,i){if(0==this.mana)return;let s=this.parent.opponent.petArray;s=s.filter(l=>l.alive),s.sort((l,h)=>h.health-l.health);const r=this.level+1;let o=this.mana;this.logService.createLog({message:`${this.name} spent ${this.mana} mana.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.mana=0;for(let l=0;l<r;l++){let h=s[l];if(null==h)break;this.snipePet(h,o,!1,e,i)}this.superFaint(t,e)}}class Lx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Yeti",this.tier=6,this.pack="Unicorn",this.attack=5,this.health=9,this.initPet(a,s,r,o,l)}}class hb extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fire Pup",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=8,this.attack=8,this.initPet(a,s,r,o,l)}}class Bx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cerberus",this.tier=6,this.pack="Unicorn",this.attack=9,this.health=9,this.initPet(a,s,r,o,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0||this.abilityUses>=this.maxAbilityUses)return;let s=new hb(this.logService,this.abilityService,this.parent,null,null,5);this.logService.createLog({message:`${this.name} spawned Fire Pup (8/8).`,type:"ability",player:this.parent,tiger:e}),this.parent.summonPet(s,0)&&this.abilityService.triggerSummonedEvents(s),this.abilityUses++,super.superFaint(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class db extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Head",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=5,this.attack=5,this.initPet(a,s,r,o,l)}}class $x extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hydra",this.tier=6,this.pack="Unicorn",this.attack=10,this.health=6,this.initPet(a,s,r,o,l)}afterFaint(t,e,i){let s=Math.floor(this.attack/10);for(let r=0;r<s;r++){let o=5*this.level,a=new db(this.logService,this.abilityService,this.parent,o,o);this.logService.createLog({message:`${this.name} spawned Head (${a.attack}/${a.health}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerSummonedEvents(a)}super.superAfterFaint(t,e,i)}}class Vx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Behemoth",this.tier=6,this.pack="Unicorn",this.attack=12,this.health=12,this.initPet(a,s,r,o,l)}}class Xp extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rock",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class Fx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Basilisk",this.tier=1,this.pack="Custom",this.health=2,this.attack=1,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.petAhead;if(null==i&&(i=this.parent.opponent.petArray[0]),null==i)return;let s=2*this.level;this.logService.createLog({message:`${this.name} turned ${i.name} into a Rock with + ${s} health.`,type:"ability",player:this.parent,tiger:e});let r=i.health+s;r=Math.min(r,50),i.parent.setPet(i.position,new Xp(this.logService,this.abilityService,i.parent,r,i.attack,i.mana,i.exp,i.equipment),!1),this.superStartOfBattle(t,e)}}class fb extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Daycrawler",this.tier=1,this.pack="Custom",this.hidden=!0,this.health=1,this.attack=3,this.initPet(a,s,r,o,l)}}class Hx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nightcrawler",this.tier=2,this.pack="Custom",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}afterFaint(t,e,i){let r=this.parent==t.player?t.playerSummonedAmount:t.opponentSummonedAmount;if(0==r)return void super.superAfterFaint(t,e,i);let o=Math.min(50,this.level*r),l=new fb(this.logService,this.abilityService,this.parent,o,6,0,0);this.logService.createLog({message:`${this.name} spawned Daycrawler (6/${o})`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(l,this.savedPosition)&&this.abilityService.triggerSummonedEvents(l),super.superAfterFaint(t,e,i)}}class qx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sphinx",this.tier=2,this.pack="Custom",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}}class Gx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chupacabra",this.tier=2,this.pack="Custom",this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}knockOut(t,e,i){for(let s=0;s<3*this.level;s++){let r=this.parent.getRandomPet([this],!0,!1,!0);if(null==r)return;this.logService.createLog({message:`${this.name} gave ${r.name} 1 health.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),r.increaseHealth(1)}this.superKnockOut(t,e,i)}}class Ux extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Golden Beetle",this.tier=2,this.pack="Custom",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class jx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Foo Dog",this.tier=3,this.pack="Custom",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}}class Wx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tree",this.tier=3,this.pack="Custom",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){this.attack>6*this.level||(this.logService.createLog({message:`${this.name} gained Coconut.`,type:"ability",player:this.parent,tiger:e}),this.givePetEquipment(new Wr),this.superStartOfBattle(t,e))}}class pb extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smaller Slime",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}}class zx extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Slime",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(a,s,r,o,l),this.battlesFought=h}afterFaint(t,e,i){let s=Math.floor(this.battlesFought/2),r=2*this.level;for(let o=0;o<s;o++){let a=new pb(this.logService,this.abilityService,this.parent,null,null,0);this.logService.createLog({message:`${this.name} spawned Smaller Slime (${r}/${r}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerSummonedEvents(a)}super.superAfterFaint(t,e,i)}}class Kx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pegasus",this.tier=3,this.pack="Custom",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){let s=this.parent.getRandomPets(3,[this],!0);for(let r of s)r.increaseAttack(this.level),this.logService.createLog({message:`${this.name} gave ${r.name} ${this.level} attack.`,type:"ability",player:this.parent,tiger:i})}}class Qx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Deer Lord",this.tier=3,this.pack="Custom",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}}class Yx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}}class Jx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rootling",this.tier=4,this.pack="Custom",this.attack=1,this.health=5,this.initPet(a,s,r,o,l)}}class Zx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anubis",this.tier=4,this.pack="Custom",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(s=>s.faintPet);for(let s of i)!s.alive||s.tier<=2*this.level&&(this.logService.createLog({message:`${this.name} activated ${s.name}'s faint ability.`,type:"ability",player:this.parent,tiger:e}),this.abilityService.setFaintEvent({callback:()=>{s.faint(t,!1,!1)},priority:100-s.position}))}}class Xx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Old Mouse",this.tier=4,this.pack="Custom",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class eM extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hippocampus",this.tier=4,this.pack="Custom",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}friendGainsHealth(t,e,i){let s=2*this.level;this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i}),e.increaseAttack(s),this.superFriendGainsHealth(t,e,i)}}class tM extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Boitata",this.tier=5,this.pack="Custom",this.attack=2,this.health=9,this.initPet(a,s,r,o,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.opponent.furthestUpPet;null!=i&&(this.logService.createLog({message:`${this.name} gave ${i.name} Crisp.`,type:"ability",player:this.parent,tiger:e}),i.givePetEquipment(new fc),this.abilityUses++,this.superBeforeAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class iM extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Kappa",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(l,r,o,a,h)}afterFaint(t,e,i){let r=(this.parent==t.player?t.playerPetPool:t.opponentPetPool).get(3);for(let o=0;o<this.level;o++){let a=r[Math.floor(Math.random()*r.length)],l=r[Math.floor(Math.random()*r.length)],h=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:a},this.parent);this.logService.createLog({message:`${this.name} spawned a ${h.name} (14/16).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.parent.summonPet(h,this.savedPosition)&&this.abilityService.triggerSummonedEvents(h);let f=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:l},this.parent.opponent);this.logService.createLog({message:`${this.name} spawned a ${f.name} (14/16) for the opponent.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.parent.opponent.summonPet(f,this.savedPosition)&&this.abilityService.triggerSummonedEvents(f)}super.superAfterFaint(t,e,i)}}class nM extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mimic",this.tier=5,this.pack="Custom",this.attack=3,this.health=6,this.initPet(a,s,r,o,l)}}class sM extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nurikabe",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.maxAbilityUses=3,this.initPet(a,s,r,o,l)}}class gb extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tandgnost",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(a,s,r,o,l)}}class mb extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tandgrisner",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(a,s,r,o,l)}}class vb extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Great One",this.tier=6,this.pack="Custom",this.attack=7,this.health=13,this.initPet(a,s,r,o,l)}summoned(t,e){let i=[...this.parent.petArray,...this.parent.opponent.petArray];i=i.filter(s=>s!==this);for(let s of i)this.snipePet(s,6*this.level);this.superSummoned(t,e)}}class rM extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leviathan",this.tier=6,this.pack="Custom",this.attack=6,this.health=10,this.initPet(a,s,r,o,l)}}class oM extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Questing Beast",this.tier=6,this.pack="Custom",this.attack=7,this.health=9,this.initPet(a,s,r,o,l)}}class aM extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockatrice",this.tier=6,this.pack="Custom",this.attack=5,this.health=7,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent.petArray.reverse(),s=null;for(let a of i)if(a.level<=this.level){s=a;break}if(null==s)return;this.logService.createLog({message:`${this.name} transformed ${s.name} into a Rock.`,type:"ability",player:this.parent,tiger:e});let r=new Xp(this.logService,this.abilityService,s.parent,s.health,s.attack,s.mana,s.exp,s.equipment);this.parent.opponent.setPet(s.position,r,!1)}}class M3 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Albatross",this.tier=6,this.pack="Custom",this.attack=5,this.health=4,this.initPet(a,s,r,o,l)}}class lM extends E{constructor(t,e,i,s,r,o,a,l,h,f){super(t,e,r),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Good Dog",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=3,this.hidden=!0,this.initPet(h,o,a,l,f)}startOfBattle(t,e){let i=this.parent.petArray,s=this.getInstanceOfAllEquipment(),r=Array.from(s.values());for(let o of i){let a=r[Math.floor(Math.random()*r.length)];this.logService.createLog({message:`${this.name} gave ${o.name} ${a.name}`,type:"ability",player:this.parent,randomEvent:!0}),o.givePetEquipment(a)}}getInstanceOfAllEquipment(){let t=new Map;return t.set("Garlic",new pc),t.set("Meat Bone",new B_),t.set("Steak",new Y1),t.set("Melon",new jr),t.set("Honey",new jp(this.logService,this.abilityService)),t.set("Chili",new bh(this.logService,this.abilityService)),t.set("Mushroom",new J1(this.logService,this.abilityService,this.petService)),t.set("Coconut",new Wr),t.set("Peanut",new Ga),t.set("Croissant",new Z1),t.set("Rice",new Wp),t.set("Egg",new $_(this.logService,this.abilityService)),t.set("Lime",new X1),t.set("Salt",new $p),t.set("Pie",new Q_(this.logService)),t.set("Skewer",new Kp(this.logService)),t.set("Lemon",new eT),t.set("Pancakes",new Y_(this.logService)),t.set("Strawberry",new U_(this.logService,this.abilityService)),t.set("Cucumber",new tT),t.set("Cheese",new Vp),t.set("Grapes",new aT),t.set("Carrot",new oT),t.set("Pepper",new Fp),t.set("Popcorn",new lT(this.logService,this.abilityService,this.petService,this.gameService)),t.set("Cherry",new J_),t.set("Chocolate Cake",new Qp(this.logService,this.abilityService)),t.set("Eggplant",new Z_(this.logService)),t.set("Potato",new sT),t.set("Banana",new iT(this.logService,this.abilityService)),t.set("Onion",new A_(this.logService)),t.set("Pita Bread",new X_(this.logService)),t.set("Tomato",new rT(this.logService,this.abilityService)),t.set("Durian",new nT(this.logService,this.abilityService)),t.set("Fortune Cookie",new Hp),t.set("Blueberry",new cT),t.set("Donut",new uT),t.set("Pineapple",new hT),t.set("Fig",new dT(this.logService,this.abilityService)),t.set("Rambutan",new Yp(this.logService)),t.set("Love Potion",new nb(this.logService)),t.set("Fairy Dust",new Gp(this.logService)),t.set("Gingerbread Man",new tb(this.logService)),t.set("Easter Egg",new fT(this.logService,this.abilityService)),t.set("Health Potion",new ib(this.logService)),t.set("Magic Beans",new gT),t.set("Golden Egg",new pT(this.logService,this.abilityService)),t.set("Squash",new mT(this.logService,this.abilityService)),t.set("Honeydew Melon",new C_),t.set("Ambrosia",new k_),t.set("Faint Bread",new vT(this.logService,this.abilityService,this.petService,this.gameService)),t}}let yb=(()=>{class n{constructor(){this.logs=[]}createLog(e){e.tiger&&(e.message+=" (Tiger)"),e.puma&&(e.message+=" (Puma)"),e.pteranodon&&(e.message+=" (Pteranodon)"),null!=e.pantherMultiplier&&e.pantherMultiplier>1&&(e.message+=` x${e.pantherMultiplier} (Panther)`),this.logs.push(e)}getLogs(){return this.logs}reset(){this.logs=[]}printState(e,i,s){s&&this.createLog({message:s,type:"board"});let r="";r+=this.getPetText(e.pet4),r+=this.getPetText(e.pet3),r+=this.getPetText(e.pet2),r+=this.getPetText(e.pet1),r+=this.getPetText(e.pet0);let o="";o+=this.getPetText(i.pet0),o+=this.getPetText(i.pet1),o+=this.getPetText(i.pet2),o+=this.getPetText(i.pet3),o+=this.getPetText(i.pet4),this.createLog({message:`${r}| ${o}`,type:"board"})}getPetText(e){return null==e?"___ (-/-) ":`${e.name.substring(0,3)} (${e.attack}/${e.health}) `}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ch=(()=>{class n{constructor(){}init(e,i){this.gameApi={player:e,opponet:i}}setTierGroupPets(e,i){null!=e&&(this.gameApi.playerPetPool=e),null!=i&&(this.gameApi.opponentPetPool=i)}setPreviousShopTier(e){this.gameApi.previousShopTier=e}setTurnNumber(e){this.gameApi.turnNumber=e}setGoldSpent(e,i){null!=e&&(this.gameApi.playerGoldSpent=e),null!=i&&(this.gameApi.opponentGoldSpent=i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_b=(()=>{class n{constructor(e){this.gameService=e,this.hurtEvents=[],this.faintEvents=[],this.summonedEvents=[],this.friendFaintsEvents=[],this.friendAheadAttacksEvents=[],this.afterAttackEvents=[],this.friendAheadFaintsEvents=[],this.knockOutEvents=[],this.beforeAttackEvents=[],this.processedBeforeAttackPets=new Set,this.beforeStartOfBattleEvents=[],this.equipmentBeforeAttackEvents=[],this.friendLostPerkEvents=[],this.gainedPerkEvents=[],this.friendGainedPerkEvents=[],this.friendGainedAilmentEvents=[],this.enemyGainedAilmentEvents=[],this.friendlyToyBrokeEvents=[],this.transformEvents=[],this.enemySummonedEvents=[],this.friendHurtEvents=[],this.levelUpEvents=[],this.enemyHurtEvents=[],this.emptyFrontSpaceEvents=[],this.friendAttacksEvents=[],this.beforeFriendAttacksEvents=[],this.friendJumpedEvents=[],this.manaEvents=[],this.friendGainsHealthEvents=[],this.friendGainedExperienceEvents=[],this.afterFaintEvents=[],this.emptyFrontSpaceToyEvents=[],this.friendSummonedToyEvents=[],this.friendlyLevelUpToyEvents=[],this.friendFaintsToyEvents=[],this.friendJumpedToyEvents=[],this.globalEventQueue=[],this.ABILITY_PRIORITIES={levelUp:1,friendLevelUp:2,friendlyLevelUp:2,hurt:3,friendHurt:4,enemyHurt:4,gainsMana:5,summoned:6,friendSummoned:7,enemySummoned:7,friendJumped:8,faint:9,friendAheadFaints:10,afterFaint:11,friendFaints:12,enemyFaints:12,friendlyToyBroke:12,knockOut:13,transformed:14,friendGainedExperience:15,friendAteFood:16,eatsFood:16,counter:17,friendLostPerk:18,gainPerk:19,gainAilment:19,friendlyGainedPerk:20,enemyGainedPerk:20,friendlyGainedAilment:20,enemyGainedAilment:20,petFlung:21,manaSnipe:22,emptyFrontSpace:23,goldenRetrieverSummons:24}}get hasAbilityCycleEvents(){return this.globalEventQueue.length>0}addEventToQueue(e){const i=this.ABILITY_PRIORITIES[e.abilityType]||999;void 0===e.tieBreaker&&(e.tieBreaker=Math.random());let s=0,r=this.globalEventQueue.length;for(;s<r;){const o=Math.floor((s+r)/2),a=this.globalEventQueue[o],l=this.ABILITY_PRIORITIES[a.abilityType]||999;i<l?r=o:i>l?s=o+1:e.priority>a.priority?r=o:e.priority<a.priority?s=o+1:e.tieBreaker<a.tieBreaker?r=o:s=o+1}this.globalEventQueue.splice(s,0,e)}clearGlobalEventQueue(){this.globalEventQueue=[]}get hasGlobalEvents(){return this.globalEventQueue.length>0}getNextHighestPriorityEvent(){return this.globalEventQueue.shift()||null}peekNextHighestPriorityEvent(){return this.globalEventQueue.length>0?this.globalEventQueue[0]:null}getPriorityNumber(e){return this.ABILITY_PRIORITIES[e]||999}executeEventCallback(e){const i=this.gameService.gameApi;switch(e.abilityType){case"faint":case"beforeStartOfBattle":case"afterFaint":case"equipmentBeforeAttack":case"transformed":e.callback(i);break;case"hurt":case"friendHurt":case"knockOut":case"enemyHurt":case"summoned":case"friendAheadFaints":case"friendFaints":case"eatsFood":case"friendAteFood":case"friendLostPerk":case"gainPerk":case"friendGainedPerk":case"friendGainedAilment":case"enemyGainedAilment":case"friendGainedExperience":case"levelUp":case"friendAttacks":case"beforeFriendAttacks":case"friendJumped":case"friendGainsHealth":e.callback(i,e.callbackPet);break;case"afterAttack":case"enemySummoned":case"friendlyToyBroke":case"gainAilment":case"emptyFrontSpace":e.callback(i,e.callbackPet,!1);break;case"friendSummoned":case"friendlyLevelUp":case"friendJumpedToy":e.callback(i,e.callbackPet,e.priority<100,e.level);break;case"emptyFrontSpaceToy":e.callback(i,e.priority<100,e.level,e.priority);break;case"gainsMana":case"counter":e.callback();break;default:try{e.callback(i)}catch(s){e.callback(i,e.callbackPet)}}}migrateExistingEventsToQueue(){this.hurtEvents.forEach(e=>{e.abilityType="hurt",this.addEventToQueue(e)}),this.hurtEvents=[],this.friendHurtEvents.forEach(e=>{e.abilityType="friendHurt",this.addEventToQueue(e)}),this.friendHurtEvents=[],this.enemyHurtEvents.forEach(e=>{e.abilityType="enemyHurt",this.addEventToQueue(e)}),this.enemyHurtEvents=[],this.faintEvents.forEach(e=>{e.abilityType="faint",this.addEventToQueue(e)}),this.faintEvents=[],this.friendAheadFaintsEvents.forEach(e=>{e.abilityType="friendAheadFaints",this.addEventToQueue(e)}),this.friendAheadFaintsEvents=[],this.knockOutEvents.forEach(e=>{e.abilityType="knockOut",this.addEventToQueue(e)}),this.knockOutEvents=[],this.manaEvents.forEach(e=>{e.abilityType="gainsMana",this.addEventToQueue(e)}),this.manaEvents=[],this.summonedEvents.forEach(e=>{e.abilityType="summoned",this.addEventToQueue(e)}),this.summonedEvents=[],this.enemySummonedEvents.forEach(e=>{e.abilityType="enemySummoned",this.addEventToQueue(e)}),this.enemySummonedEvents=[],this.friendFaintsEvents.forEach(e=>{e.abilityType="friendFaints",this.addEventToQueue(e)}),this.friendFaintsEvents=[],this.afterFaintEvents.forEach(e=>{e.abilityType="afterFaint",this.addEventToQueue(e)}),this.afterFaintEvents=[],this.emptyFrontSpaceEvents.forEach(e=>{e.abilityType="emptyFrontSpace",this.addEventToQueue(e)}),this.emptyFrontSpaceEvents=[],this.friendSummonedToyEvents.forEach(e=>{e.abilityType="friendSummoned",this.addEventToQueue(e)}),this.friendSummonedToyEvents=[],this.friendFaintsToyEvents.forEach(e=>{e.abilityType="friendlyToyBroke",this.addEventToQueue(e)}),this.friendFaintsToyEvents=[],this.friendLostPerkEvents.forEach(e=>{e.abilityType="friendLostPerk",this.addEventToQueue(e)}),this.friendLostPerkEvents=[],this.gainedPerkEvents.forEach(e=>{e.abilityType="gainPerk",this.addEventToQueue(e)}),this.gainedPerkEvents=[],this.friendGainedPerkEvents.forEach(e=>{e.abilityType="friendGainedPerk",this.addEventToQueue(e)}),this.friendGainedPerkEvents=[],this.friendGainedAilmentEvents.forEach(e=>{e.abilityType="friendGainedAilment",this.addEventToQueue(e)}),this.friendGainedAilmentEvents=[],this.friendlyToyBrokeEvents.forEach(e=>{e.abilityType="friendlyToyBroke",this.addEventToQueue(e)}),this.friendlyToyBrokeEvents=[],this.levelUpEvents.forEach(e=>{e.abilityType="levelUp",this.addEventToQueue(e)}),this.levelUpEvents=[],this.transformEvents.forEach(e=>{e.abilityType="transformed",this.addEventToQueue(e)}),this.transformEvents=[],this.friendGainedExperienceEvents.forEach(e=>{e.abilityType="friendGainedExperience",this.addEventToQueue(e)}),this.friendGainedExperienceEvents=[],this.friendAttacksEvents.forEach(e=>{e.abilityType="friendAttacks",this.addEventToQueue(e)}),this.friendAttacksEvents=[],this.beforeFriendAttacksEvents.forEach(e=>{e.abilityType="beforeFriendAttacks",this.addEventToQueue(e)}),this.beforeFriendAttacksEvents=[],this.friendJumpedEvents.forEach(e=>{e.abilityType="friendJumped",this.addEventToQueue(e)}),this.friendJumpedEvents=[],this.friendGainsHealthEvents.forEach(e=>{e.abilityType="friendGainsHealth",this.addEventToQueue(e)}),this.friendGainsHealthEvents=[],this.emptyFrontSpaceToyEvents.forEach(e=>{e.abilityType="emptyFrontSpaceToy",this.addEventToQueue(e)}),this.emptyFrontSpaceToyEvents=[],this.friendlyLevelUpToyEvents.forEach(e=>{e.abilityType="friendlyLevelUp",this.addEventToQueue(e)}),this.friendlyLevelUpToyEvents=[],this.friendJumpedToyEvents.forEach(e=>{e.abilityType="friendJumpedToy",this.addEventToQueue(e)}),this.friendJumpedToyEvents=[]}initEndTurnEvents(e){let i=[];for(let s of e.petArray)s.endTurn&&i.push({callback:s.endTurn.bind(s),priority:s.attack,player:e});i=(0,me.shuffle)(i),i.sort((s,r)=>s.priority>r.priority?-1:s.priority<r.priority?1:0);for(let s of i)s.callback(this.gameService.gameApi)}setCounterEvent(e){e.abilityType="counter",this.addEventToQueue(e)}setHurtEvent(e){e.abilityType="hurt",this.addEventToQueue(e)}resetHurtEvents(){this.hurtEvents=[]}executeHurtEvents(){this.hurtEvents=(0,me.shuffle)(this.hurtEvents),this.hurtEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.hurtEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetHurtEvents()}get hasHurtEvents(){return this.hurtEvents.length>0}setFaintEvent(e){e.abilityType="faint",this.addEventToQueue(e)}resetFaintEvents(){this.faintEvents=[]}executeFaintEvents(){this.faintEvents=(0,me.shuffle)(this.faintEvents),this.faintEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.faintEvents)e.callback(this.gameService.gameApi);this.resetFaintEvents()}get hasFaintEvents(){return this.faintEvents.length>0}triggerSummonedEvents(e){this.triggerFriendSummonedToyEvents(e.parent,e);for(let i of e.parent.petArray)i!=e&&null!=i.friendSummoned&&this.setSummonedEvent({callback:i.friendSummoned.bind(i),priority:i.attack,callbackPet:e})}setSummonedEvent(e){e.abilityType="summoned",this.addEventToQueue(e)}resetSummonedEvents(){this.summonedEvents=[]}executeSummonedEvents(){this.summonedEvents=(0,me.shuffle)(this.summonedEvents),this.summonedEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.summonedEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetSummonedEvents()}get hasSummonedEvents(){return this.summonedEvents.length>0}setFriendAheadAttacksEvents(e){this.friendAheadAttacksEvents.push(e)}resetFriendAheadAttacksEvents(){this.friendAheadAttacksEvents=[]}executeFriendAheadAttacksEvents(){this.friendAheadAttacksEvents=(0,me.shuffle)(this.friendAheadAttacksEvents),this.friendAheadAttacksEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendAheadAttacksEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendAheadAttacksEvents()}setAfterAttackEvent(e){this.afterAttackEvents.push(e)}resetAfterAttackEvents(){this.afterAttackEvents=[]}executeAfterAttackEvents(){this.afterAttackEvents=(0,me.shuffle)(this.afterAttackEvents),this.afterAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.afterAttackEvents)e.callback(this.gameService.gameApi);this.resetAfterAttackEvents()}setFriendAheadFaintsEvent(e){e.abilityType="friendAheadFaints",this.addEventToQueue(e)}resetFriendAheadFaintsEvents(){this.friendAheadFaintsEvents=[]}executeFriendAheadFaintsEvents(){this.friendAheadFaintsEvents=(0,me.shuffle)(this.friendAheadFaintsEvents),this.friendAheadFaintsEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendAheadFaintsEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendAheadFaintsEvents()}get hasFriendAheadFaintsEvents(){return this.friendAheadFaintsEvents.length>0}setKnockOutEvent(e){e.abilityType="knockOut",this.addEventToQueue(e)}resetKnockOutEvents(){this.knockOutEvents=[]}executeKnockOutEvents(){this.knockOutEvents=(0,me.shuffle)(this.knockOutEvents),this.knockOutEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.knockOutEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetKnockOutEvents()}get hasKnockOutEvents(){return this.knockOutEvents.length>0}triggerFriendFaintsEvents(e){this.triggerFriendFaintsToyEvents(e.parent,e);for(let i of e.parent.petArray)null!=i.friendFaints&&this.setFriendFaintsEvent({callback:i.friendFaints.bind(i),priority:i.attack,callbackPet:e})}setFriendFaintsEvent(e){e.abilityType="friendFaints",this.addEventToQueue(e)}resetFriendFaintsEvents(){this.friendFaintsEvents=[]}executeFriendFaintsEvents(){this.friendFaintsEvents=(0,me.shuffle)(this.friendFaintsEvents),this.friendFaintsEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendFaintsEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetFriendFaintsEvents()}get hasFriendFaintsEvents(){return this.friendFaintsEvents.length>0}setBeforeAttackEvent(e){this.beforeAttackEvents.push(e),e.pet&&this.processedBeforeAttackPets.add(e.pet)}resetBeforeAttackEvents(){this.beforeAttackEvents=[]}checkAndAddNewBeforeAttackEvents(){let e=this.gameService.gameApi;e.player.pet0&&e.player.pet0.beforeAttack&&!this.processedBeforeAttackPets.has(e.player.pet0)&&(this.beforeAttackEvents.push({callback:e.player.pet0.beforeAttack.bind(e.player.pet0),priority:e.player.pet0.attack,player:e.player}),this.processedBeforeAttackPets.add(e.player.pet0),this.beforeAttackEvents.sort((i,s)=>i.priority>s.priority?-1:i.priority<s.priority?1:0)),e.opponet.pet0&&e.opponet.pet0.beforeAttack&&!this.processedBeforeAttackPets.has(e.opponet.pet0)&&(this.beforeAttackEvents.push({callback:e.opponet.pet0.beforeAttack.bind(e.opponet.pet0),priority:e.opponet.pet0.attack,player:e.opponet}),this.processedBeforeAttackPets.add(e.opponet.pet0),this.beforeAttackEvents.sort((i,s)=>i.priority>s.priority?-1:i.priority<s.priority?1:0))}executeBeforeAttackEvents(){for(this.beforeAttackEvents=(0,me.shuffle)(this.beforeAttackEvents),this.beforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);this.beforeAttackEvents.length>0;)this.beforeAttackEvents.shift().callback(this.gameService.gameApi),this.checkAndAddNewBeforeAttackEvents();this.processedBeforeAttackPets.clear(),this.resetBeforeAttackEvents()}setEqiupmentBeforeAttackEvent(e){this.equipmentBeforeAttackEvents.push(e)}resetEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=[]}executeEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=(0,me.shuffle)(this.equipmentBeforeAttackEvents),this.equipmentBeforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.equipmentBeforeAttackEvents)e.callback(this.gameService.gameApi);this.resetEqiupmentBeforeAttackEvents()}get hasEquipmentBeforeAttackEvents(){return this.hurtEvents.length>0}triggerFriendLostPerkEvents(e){for(let i of e.parent.petArray)null!=i.friendLostPerk&&this.setFriendLostPerkEvent({callback:i.friendLostPerk.bind(i),priority:i.attack,callbackPet:e})}setFriendLostPerkEvent(e){e.abilityType="friendLostPerk",this.addEventToQueue(e)}resetFriendLostPerkEvents(){this.friendLostPerkEvents=[]}executeFriendLostPerkEvents(){this.friendLostPerkEvents=(0,me.shuffle)(this.friendLostPerkEvents),this.friendLostPerkEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendLostPerkEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendLostPerkEvents()}setEatsFoodEvent(e){e.abilityType="eatsFood",this.addEventToQueue(e)}triggerFriendAteFoodEvents(e){for(let i of e.parent.petArray)null!=i.friendAteFood&&this.setFriendAteFoodEvent({callback:i.friendAteFood.bind(i),priority:i.attack,callbackPet:e})}setFriendAteFoodEvent(e){e.abilityType="friendAteFood",this.addEventToQueue(e)}triggerGainedPerkEvents(e){for(let i of e.parent.petArray)i==e&&null!=i.gainedPerk&&this.setGainedPerkEvent({callback:i.gainedPerk.bind(i),priority:i.attack,callbackPet:e})}setGainedPerkEvent(e){e.abilityType="gainPerk",this.addEventToQueue(e)}resetGainedPerkEvents(){this.gainedPerkEvents=[]}executeGainedPerkEvents(){this.gainedPerkEvents=(0,me.shuffle)(this.gainedPerkEvents),this.gainedPerkEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.gainedPerkEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetGainedPerkEvents()}triggerFriendGainedPerkEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedPerk&&this.setFriendGainedPerkEvent({callback:i.friendGainedPerk.bind(i),priority:i.attack,callbackPet:e})}setFriendGainedPerkEvent(e){e.abilityType="friendGainedPerk",this.addEventToQueue(e)}resetFriendGainedPerkEvents(){this.friendGainedPerkEvents=[]}executeFriendGainedPerkEvents(){this.friendGainedPerkEvents=(0,me.shuffle)(this.friendGainedPerkEvents),this.friendGainedPerkEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainedPerkEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendGainedPerkEvents()}triggerBeforeStartOfBattleEvents(e){for(let i of e.petArray)null!=i.beforeStartOfBattle&&this.setBeforeStartOfBattleEvent({callback:i.beforeStartOfBattle.bind(i),priority:i.attack,player:e})}setBeforeStartOfBattleEvent(e){this.beforeStartOfBattleEvents.push(e)}resetBeforeStartOfBattleEvents(){this.beforeStartOfBattleEvents=[]}executeBeforeStartOfBattleEvents(){this.beforeStartOfBattleEvents=(0,me.shuffle)(this.beforeStartOfBattleEvents),this.beforeStartOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.beforeStartOfBattleEvents)e.callback(this.gameService.gameApi);this.resetBeforeStartOfBattleEvents()}triggerFriendGainedAilmentEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedAilment&&this.setFriendGainedAilmentEvent({callback:i.friendGainedAilment.bind(i),priority:i.attack,callbackPet:e})}setFriendGainedAilmentEvent(e){e.abilityType="friendGainedAilment",this.addEventToQueue(e)}resetFriendGainedAilmentEvents(){this.friendGainedAilmentEvents=[]}executeFriendGainedAilmentEvents(){this.friendGainedAilmentEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainedAilmentEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendGainedAilmentEvents()}triggerEnemyGainedAilmentEvents(e,i){for(let s of e)null!=s.enemyGainedAilment&&this.setEnemyGainedAilmentEvent({callback:s.enemyGainedAilment.bind(s),priority:s.attack,callbackPet:i})}setEnemyGainedAilmentEvent(e){e.abilityType="enemyGainedAilment",this.addEventToQueue(e)}resetEnemyGainedAilmentEvents(){this.enemyGainedAilmentEvents=[]}executeEnemyGainedAilmentEvents(){this.enemyGainedAilmentEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.enemyGainedAilmentEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetEnemyGainedAilmentEvents()}triggerFriendlyToyBrokeEvents(e){for(let i of e.petArray)null!=i.friendlyToyBroke&&this.setFriendlyToyBrokeEvent({callback:i.friendlyToyBroke.bind(i),priority:i.attack})}setFriendlyToyBrokeEvent(e){e.abilityType="friendlyToyBroke",this.addEventToQueue(e)}resetFriendlyToyBrokeEvents(){this.friendlyToyBrokeEvents=[]}executeFriendlyToyBrokeEvents(){this.friendlyToyBrokeEvents=(0,me.shuffle)(this.friendlyToyBrokeEvents),this.friendlyToyBrokeEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendlyToyBrokeEvents)e.callback(this.gameService.gameApi,!1);this.resetFriendlyToyBrokeEvents()}triggerTransformEvents(e){for(let i of e.petArray)null!=i.transform&&this.setTransformEvent({callback:i.transform.bind(i),priority:i.attack})}setTransformEvent(e){e.abilityType="transformed",this.addEventToQueue(e)}resetTransformEvents(){this.transformEvents=[]}executeTransformEvents(){this.transformEvents=(0,me.shuffle)(this.transformEvents),this.transformEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.transformEvents)e.callback(this.gameService.gameApi,!1);this.resetTransformEvents()}triggerEnemySummonedEvents(e,i){for(let s of e.petArray)null!=s.enemySummoned&&this.setEnemySummonedEvent({callback:s.enemySummoned.bind(s),priority:s.attack,callbackPet:i})}setEnemySummonedEvent(e){e.abilityType="enemySummoned",this.addEventToQueue(e)}resetEnemySummonedEvents(){this.enemySummonedEvents=[]}executeEnemySummonedEvents(){this.enemySummonedEvents=(0,me.shuffle)(this.enemySummonedEvents),this.enemySummonedEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.enemySummonedEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetEnemySummonedEvents()}get hasEnemySummonedEvents(){return this.enemySummonedEvents.length>0}triggerFriendHurtEvents(e,i){for(let s of e.petArray)null!=s.friendHurt&&this.setFriendHurtEvent({callback:s.friendHurt.bind(s),priority:s.attack,callbackPet:i})}setFriendHurtEvent(e){e.abilityType="friendHurt",this.addEventToQueue(e)}resetFriendHurtEvents(){this.friendHurtEvents=[]}executeFriendHurtEvents(){this.friendHurtEvents=(0,me.shuffle)(this.friendHurtEvents),this.friendHurtEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendHurtEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetFriendHurtEvents()}get hasFriendHurtEvents(){return this.friendHurtEvents.length>0}triggerLevelUpEvents(e,i){this.triggerFriendlyLevelUpToyEvents(e,i);for(let s of e.petArray)null!=s.anyoneLevelUp&&this.setLevelUpEvent({callback:s.anyoneLevelUp.bind(s),priority:s.attack,callbackPet:i})}setLevelUpEvent(e){e.abilityType="levelUp",this.addEventToQueue(e)}resetLevelUpEvents(){this.levelUpEvents=[]}executeLevelUpEvents(){this.levelUpEvents=(0,me.shuffle)(this.levelUpEvents),this.levelUpEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.levelUpEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetLevelUpEvents()}triggerEmptyFrontSpaceEvents(e){for(let i of e.petArray)null!=i.emptyFrontSpace&&this.setEmptyFrontSpaceEvent({callback:i.emptyFrontSpace.bind(i),priority:i.attack})}setEmptyFrontSpaceEvent(e){e.abilityType="emptyFrontSpace",this.addEventToQueue(e)}resetEmptyFrontSpaceEvents(){this.emptyFrontSpaceEvents=[]}executeEmptyFrontSpaceEvents(){this.emptyFrontSpaceEvents=(0,me.shuffle)(this.emptyFrontSpaceEvents),this.emptyFrontSpaceEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.emptyFrontSpaceEvents)e.callback(this.gameService.gameApi,!1);this.resetEmptyFrontSpaceEvents()}get hasEmptyFrontSpaceEvents(){return this.emptyFrontSpaceEvents.length>0}triggerEnemyHurtEvents(e,i){for(let s of e.petArray)null!=s.enemyHurt&&this.setEnemyHurtEvent({callback:s.enemyHurt.bind(s),priority:s.attack,callbackPet:i})}setEnemyHurtEvent(e){e.abilityType="enemyHurt",this.addEventToQueue(e)}resetEnemyHurtEvents(){this.enemyHurtEvents=[]}executeEnemyHurtEvents(){this.enemyHurtEvents=(0,me.shuffle)(this.enemyHurtEvents),this.enemyHurtEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.enemyHurtEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetEnemyHurtEvents()}get hasEnemyHurtEvents(){return this.enemyHurtEvents.length>0}triggerFriendAttacksEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendAttacks&&this.setFriendAttacksEvent({callback:s.friendAttacks.bind(s),priority:s.attack})}setFriendAttacksEvent(e){this.friendAttacksEvents.push(e)}resetFriendAttacksEvents(){this.friendAttacksEvents=[]}executeFriendAttacksEvents(){this.friendAttacksEvents=(0,me.shuffle)(this.friendAttacksEvents),this.friendAttacksEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendAttacksEvents)e.callback(this.gameService.gameApi,!1);this.resetFriendAttacksEvents()}triggerBeforeFriendAttacksEvents(e,i){for(let s of e.petArray)s!==i&&null!=s.beforeFriendAttacks&&this.setBeforeFriendAttacksEvent({callback:s.beforeFriendAttacks.bind(s),priority:s.attack,callbackPet:i})}setBeforeFriendAttacksEvent(e){this.beforeFriendAttacksEvents.push(e)}resetBeforeFriendAttacksEvents(){this.beforeFriendAttacksEvents=[]}executeBeforeFriendAttacksEvents(){this.beforeFriendAttacksEvents=(0,me.shuffle)(this.beforeFriendAttacksEvents),this.beforeFriendAttacksEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.beforeFriendAttacksEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetBeforeFriendAttacksEvents()}triggerFriendJumpedEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendJumped&&this.setFriendJumpedEvent({callback:s.friendJumped.bind(s),priority:s.attack,callbackPet:i})}setFriendJumpedEvent(e){this.friendJumpedEvents.push(e)}resetFriendJumpedEvents(){this.friendJumpedEvents=[]}executeFriendJumpedEvents(){this.friendJumpedEvents=(0,me.shuffle)(this.friendJumpedEvents),this.friendJumpedEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendJumpedEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetFriendJumpedEvents()}setManaEvent(e){e.abilityType="gainsMana",this.addEventToQueue(e)}resetManaEvents(){this.manaEvents=[]}executeManaEvents(){this.manaEvents=(0,me.shuffle)(this.manaEvents),this.manaEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.manaEvents)e.callback();this.resetManaEvents()}triggerFriendGainsHealthEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendGainsHealth&&this.setFriendGainsHealthEvent({callback:s.friendGainsHealth.bind(s),priority:s.attack,callbackPet:i})}setFriendGainsHealthEvent(e){this.friendGainsHealthEvents.push(e)}resetFriendGainsHealthEvents(){this.friendGainsHealthEvents=[]}executeFriendGainsHealthEvents(){this.friendGainsHealthEvents=(0,me.shuffle)(this.friendGainsHealthEvents),this.friendGainsHealthEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainsHealthEvents)e.callback(this.gameApi,e.callbackPet);this.resetFriendGainsHealthEvents()}triggerFriendGainedExperienceEvents(e,i){for(let s of e.petArray)s!==i&&null!=s.friendGainedExperience&&this.setFriendGainedExperienceEvent({callback:s.friendGainedExperience.bind(s),priority:s.attack,callbackPet:i})}setFriendGainedExperienceEvent(e){this.friendGainedExperienceEvents.push(e)}resetFriendGainedExperienceEvents(){this.friendGainedExperienceEvents=[]}executeFriendGainedExperienceEvents(){this.friendGainedExperienceEvents=(0,me.shuffle)(this.friendGainedExperienceEvents),this.friendGainedExperienceEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainedExperienceEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendGainedExperienceEvents()}setAfterFaintEvent(e){e.abilityType="afterFaint",this.addEventToQueue(e)}resetAfterFaintEvents(){this.afterFaintEvents=[]}executeAfterFaintEvents(){this.afterFaintEvents=(0,me.shuffle)(this.afterFaintEvents),this.afterFaintEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.afterFaintEvents)e.callback(this.gameService.gameApi);this.resetAfterFaintEvents()}get hasAfterFaintEvents(){return this.afterFaintEvents.length>0}triggerEmptyFrontSpaceToyEvents(e){var i;if(null!=(null===(i=e.toy)||void 0===i?void 0:i.emptyFromSpace)){if(e.toy.used)return;this.setEmptyFrontSpaceToyEvent({callback:e.toy.emptyFromSpace.bind(e.toy),priority:100,level:e.toy.level});let s=e.petArray.filter(r=>r instanceof Sr);for(let r of s)this.setEmptyFrontSpaceToyEvent({callback:e.toy.emptyFromSpace.bind(e.toy),priority:+r.attack,level:r.level})}}setEmptyFrontSpaceToyEvent(e){this.emptyFrontSpaceToyEvents.push(e)}resetEmptyFrontSpaceToyEvents(){this.emptyFrontSpaceToyEvents=[]}executeEmptyFrontSpaceToyEvents(){this.emptyFrontSpaceToyEvents=(0,me.shuffle)(this.emptyFrontSpaceToyEvents),this.emptyFrontSpaceToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.emptyFrontSpaceToyEvents)e.callback(this.gameService.gameApi,e.priority<100,e.level,e.priority);this.resetEmptyFrontSpaceToyEvents()}triggerFriendSummonedToyEvents(e,i){var s;if(null!=(null===(s=e.toy)||void 0===s?void 0:s.friendSummoned)){this.setFriendSummonedToyEvent({callback:e.toy.friendSummoned.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(o=>o instanceof Sr);for(let o of r)this.setFriendSummonedToyEvent({callback:e.toy.friendSummoned.bind(e.toy),priority:+o.attack,level:o.level,callbackPet:i})}}setFriendSummonedToyEvent(e){this.friendSummonedToyEvents.push(e)}resetFriendSummonedToyEvents(){this.friendSummonedToyEvents=[]}executeFriendSummonedToyEvents(){this.friendSummonedToyEvents=(0,me.shuffle)(this.friendSummonedToyEvents),this.friendSummonedToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendSummonedToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendSummonedToyEvents()}triggerFriendlyLevelUpToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendlyLevelUp)){this.setFriendlyLevelUpToyEvent({callback:e.toy.friendlyLevelUp.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(o=>o instanceof Sr);for(let o of r)this.setFriendlyLevelUpToyEvent({callback:e.toy.friendlyLevelUp.bind(e.toy),priority:+o.attack,level:o.level,callbackPet:i})}}setFriendlyLevelUpToyEvent(e){this.friendlyLevelUpToyEvents.push(e)}resetFriendlyLevelUpToyEvents(){this.friendlyLevelUpToyEvents=[]}executeFriendlyLevelUpToyEvents(){this.friendlyLevelUpToyEvents=(0,me.shuffle)(this.friendlyLevelUpToyEvents),this.friendlyLevelUpToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendlyLevelUpToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendlyLevelUpToyEvents()}triggerFriendFaintsToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendFaints)){this.setFriendFaintsToyEvent({callback:e.toy.friendFaints.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(o=>o instanceof Sr);for(let o of r)this.setFriendFaintsToyEvent({callback:e.toy.friendFaints.bind(e.toy),priority:+o.attack,level:+o.level,callbackPet:i})}}setFriendFaintsToyEvent(e){this.friendFaintsToyEvents.push(e)}resetFriendFaintsToyEvents(){this.friendFaintsToyEvents=[]}executeFriendFaintsToyEvents(){this.friendFaintsToyEvents=(0,me.shuffle)(this.friendFaintsToyEvents),this.friendFaintsToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendFaintsToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendFaintsToyEvents()}triggerFriendJumpedToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendJumped)){this.setFriendJumpedToyEvent({callback:e.toy.friendJumped.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(o=>o instanceof Sr);for(let o of r)this.setFriendJumpedToyEvent({callback:e.toy.friendJumped.bind(e.toy),priority:+o.attack,level:o.level,callbackPet:i})}}setFriendJumpedToyEvent(e){this.friendJumpedToyEvents.push(e)}resetFriendJumpedToyEvents(){this.friendJumpedToyEvents=[]}executeFriendJumpedToyEvents(){this.friendJumpedToyEvents=(0,me.shuffle)(this.friendJumpedToyEvents),this.friendJumpedToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendJumpedToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendJumpedToyEvents()}}return n.\u0275fac=function(e){return new(e||n)(q(Ch))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bb=(()=>{class n{constructor(e,i,s){this.logService=e,this.abilityService=i,this.gameService=s,this.turtlePackPets=new Map,this.puppyPackPets=new Map,this.starPackPets=new Map,this.goldenPackPets=new Map,this.unicornPackPets=new Map,this.customPackPets=new Map,this.playerCustomPackPets=new Map,this.allPets=new Map,this.startOfBattlePets=["Beetle","Cone Snail","Frilled Dragon","Frog","Gecko","Goose","Hummigbird","Mosquito","Moth","Seahorse","Atlantic Puffin","Bat","Crab","Panda","Robin","Salamander","Wombat","Dodo","Dolphin","Eel","Meerkat","Pug","Woodpecker","Doberman","Hawk","Lynx","Pelican","Skunk","Whale","Armadillo","Crocodile","Hyena","Macaque","Sword Fish","Highland Cow","Leopard","Mantis Shrimp","Stegosaurus","Velociraptor","White Tiger","Alchemedes","Axehandle Hound","Barghest","Bunyip","Sneaky Egg","Tsuchinoko","Ogopogo","Thunderbird","Mana Hound","Mandrake","Kraken","Roc","Red Dragon","Salmon of Knowledge","Werewolf","Sleipnir","Basilisk","Tree","Anubis","Cockatrice"]}buildCustomPackPets(e){for(let i of e.controls){let s=new Map;for(let r=1;r<=6;r++)s.set(r,i.get(`tier${r}Pets`).value);this.playerCustomPackPets.set(i.get("name").value,s)}}init(){this.turtlePackPets.set(1,["Ant","Cricket","Duck","Fish","Horse","Mosquito","Beaver","Otter","Pig","Pigeon"]),this.turtlePackPets.set(2,["Snail","Crab","Swan","Rat","Hedgehog","Peacock","Flamingo","Worm","Kangaroo","Spider"]),this.turtlePackPets.set(3,["Dodo","Badger","Dolphin","Giraffe","Elephant","Camel","Rabbit","Ox","Dog","Sheep"]),this.turtlePackPets.set(4,["Skunk","Hippo","Bison","Blowfish","Turtle","Squirrel","Penguin","Deer","Whale","Parrot"]),this.turtlePackPets.set(5,["Scorpion","Crocodile","Rhino","Monkey","Armadillo","Cow","Seal","Rooster","Shark","Turkey"]),this.turtlePackPets.set(6,["Leopard","Tiger","Boar","Wolverine","Gorilla","Dragon","Mammoth","Cat","Snake","Fly"]),this.puppyPackPets.set(1,["Duck","Beaver","Moth","Bluebird","Chinchilla","Beetle","Ladybug","Chipmunk","Gecko","Ferret"]),this.puppyPackPets.set(2,["Robin","Bat","Bilby","Dromedary","Shrimp","Beluga Sturgeon","Tabby Cat","Mandrill","Lemur","Goldfish"]),this.puppyPackPets.set(3,["Hoopoe Bird","Tropical Fish","Toucan","Hatching Chick","Owl","Mole","Flying Squirrel","Pangolin","Puppy","Hare"]),this.puppyPackPets.set(4,["Microbe","Lobster","Buffalo","Llama","Caterpillar","Doberman","Tahr","Whale Shark","Chameleon","Gharial"]),this.puppyPackPets.set(5,["Stonefish","Goat","Chicken","Eagle","Orchid Mantis","Panther","Axolotl","Snapping Turtle","Mosasaurus","Sting Ray"]),this.puppyPackPets.set(6,["Dragon","Mantis Shrimp","Lionfish","Tyrannosaurus","Octopus","Anglerfish","Sauropod","Elephant Seal","Puma","Mongoose"]),this.starPackPets.set(1,["Mouse","Pillbug","Duckling","Cockroach","Frog","Seahorse","Hummingbird","Marmoset","Kiwi","Chihuahua","Firefly"]),this.starPackPets.set(2,["Koala","Yak","Salamander","Panda","Guinea Pig","Jellyfish","Atlantic Puffin","Dove","Stork","Iguana","DumboOctopus","Bass"]),this.starPackPets.set(3,["Leech","Woodpecker","Toad","Cabybara","Okapi","Cassowary","Anteater","Pug","Eel","Tuna"]),this.starPackPets.set(4,["Orangutang","Hawk","Clownfish","Platypus","Praying Mantis","Crow","Donkey","Pelican","Starfish","Blobfish","Fairy Armadillo","Fossa","Elk","Sparrow"]),this.starPackPets.set(5,["Sword Fish","Polar Bear","Siberian Husky","Lion","Triceratops","Zebra","Fox","Hamster","Shoebill","Vulture"]),this.starPackPets.set(6,["Komodo","Ostrich","Reindeer","Stegosaurus","Piranha","Hammerhead Shark","Velociraptor","Sabertooth Tiger","Orca","Spinosaurus"]),this.goldenPackPets.set(1,["Chipmunk","Bulldog","Groundhog","Cone Snail","Goose","Lemming","Pied Tamarin","Opossum","Silkmoth","Magpie"]),this.goldenPackPets.set(2,["Hercules Beetle","Stoat","Black Necked Stilt","Squid","Sea Urchin","Door Head Ant","Lizard","Sea Turtle","Meerkat","African Penguin"]),this.goldenPackPets.set(3,["Musk Ox","Flea","Bear","Royal Flycatcher","Surgeon Fish","Weasel","Guineafowl","Flying Fish","Baboon","Osprey"]),this.goldenPackPets.set(4,["Manatee","Cuttlefish","Saiga Antelope","Sealion","Vaquita","Slug","Poison Dart Frog","Falcon","Manta Ray","Cockatoo"]),this.goldenPackPets.set(5,["Macaque","Nyala","Nurse Shark","Beluga Whale","Wolf","Secretary Bird","Fire Ant","Blue Ringed Octopus","Crane","Emu","Egyptian Vulture"]),this.goldenPackPets.set(6,["Wildebeast","Highland Cow","Catfish","Pteranodon","Warthog","Cobra","Grizzly Bear","German Shephard","Bird of Paradise","Oyster","Rockhopper Penguin"]),this.unicornPackPets.set(1,["Baku","Axehandle Hound","Barghest","Tsuchinoko","Murmel","Alchemedes","Pengobble","Warf","Bunyip","Sneaky Egg","Cuddle Toad","???"]),this.unicornPackPets.set(2,["Ghost Kitten","Frost Wolf","Mothman","Drop Bear","Jackalope","Ogopogo","Thunderbird","Gargoyle","Wyvern","Bigfoot"]),this.unicornPackPets.set(3,["Skeleton Dog","Mandrake","Fur-Bearing Trout","Mana Hound","Calygreyhound","Brain Cramp","Lucky Cat","Tatzelwurm","Ouroboros","Griffin"]),this.unicornPackPets.set(4,["Kraken","Visitor","Unicorn","Tiger Bug","Minotaur","Cyclops","Chimera","Roc","Worm of Sand","Abomination"]),this.unicornPackPets.set(5,["Red Dragon","Vampire Bat","Loveland Frogman","Salmon of Knowledge","Jersey Devil","Pixiu","Kitsune","Nessie","Bad Dog","Werewolf","Amalgamation"]),this.unicornPackPets.set(6,["Manticore","Phoenix","Quetzalcoatl","Team Spirit","Sleipnir","Sea Serpent","Yeti","Cerberus","Hydra","Behemoth"]),this.customPackPets.set(1,["Frilled Dragon","Mouse","Basilisk"]),this.customPackPets.set(2,["Frigatebird","Wombat","Frigatebird","Nightcrawler","Sphinx","Chupacabra","Golden Beetle"]),this.customPackPets.set(3,["Aardvark","Emperor Tamarin","Porcupine","Wasp","Foo Dog","Tree","Slime","Pegasus","Deer Lord","Betta Fish"]),this.customPackPets.set(4,["Jerboa","Dragonfly","Lynx","Seagull","Fairy","Rootling","Anubis","Old Mouse","Hippocampus"]),this.customPackPets.set(5,["Alpaca","Poodle","Hyena","Moose","Raccoon","Silver Fox","Boitata","Kappa","Mimic","Nurikabe","Tandgnost","Tandgrisner"]),this.customPackPets.set(6,["Lioness","Tapir","Walrus","White Tiger","Great One","Leviathan","Questing Beast","Cockatrice","Albatross","Amargasaurus"]),this.setAllPets()}setAllPets(){this.allPets=new Map;for(let e=1;e<=6;e++)this.allPets.set(e,[]);for(let[e,i]of this.turtlePackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.puppyPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.starPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.goldenPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.unicornPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.allPets)this.allPets.set(e,[...new Set(i)])}createPet(e,i){switch(e.name){case"Ant":return new D_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cricket":return new Ck(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fish":return new kk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Horse":return new Pk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mosquito":return new Ak(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Duck":return new T_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beaver":return new x_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Otter":return new Dk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pig":return new Tk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mouse":return new xk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pigeon":return new xT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snail":return new FW(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crab":return new Mk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Swan":return new Ik(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rat":return new Ok(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hedgehog":return new Rk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Peacock":return new Nk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flamingo":return new Lk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Worm":return new Bk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kangaroo":return new $k(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Spider":return new Vk(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dodo":return new Fk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Badger":return new Hk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dolphin":return new I_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Giraffe":return new qk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elephant":return new Gk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Camel":return new Uk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rabbit":return new jk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ox":return new Wk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dog":return new zk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sheep":return new Kk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Skunk":return new Yk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hippo":return new Jk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bison":return new Zk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blowfish":return new Xk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Turtle":return new eP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Squirrel":return new tP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Penguin":return new iP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Deer":return new nP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Whale":return new sP(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Parrot":return new _h(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Scorpion":return new rP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crocodile":return new oP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rhino":return new aP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Monkey":return new N_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Armadillo":return new lP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cow":return new cP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seal":return new uP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rooster":return new hP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shark":return new dP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Turkey":return new fP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leopard":return new pP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Boar":return new gP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tiger":return new Qk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wolverine":return new mP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gorilla":return new vP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dragon":return new yP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mammoth":return new _P(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cat":return new bP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snake":return new SP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fly":return new EP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Moth":return new wP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bluebird":return new CP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chinchilla":return new kP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beetle":return new PP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ladybug":return new AP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chipmunk":return new DP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gecko":return new TP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ferret":return new xP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Robin":return new OP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bat":return new MP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bilby":return new IP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dromedary":return new RP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shrimp":return new NP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Toucan":return new LP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beluga Sturgeon":return new BP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tabby Cat":return new $P(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mandrill":return new VP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lemur":return new FP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hoopoe Bird":return new HP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tropical Fish":return new qP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hatching Chick":return new GP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goldfish":return new UP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Owl":return new jP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mole":return new zp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Raccoon":return new WP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flying Squirrel":return new V_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pangolin":return new zP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Puppy":return new KP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hare":return new wh(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Microbe":return new QP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lobster":return new YP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Buffalo":return new JP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Llama":return new ZP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Caterpillar":return new XP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Doberman":return new eA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tahr":return new tA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Whale Shark":return new iA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chameleon":return new nA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gharial":return new sA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stonefish":return new rA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Poodle":return new oA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goat":return new dA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chicken":return new aA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Eagle":return new lA(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Orchid Mantis":return new cA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Panther":return new uA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Axolotl":return new hA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snapping Turtle":return new fA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mosasaurus":return new pA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sting Ray":return new gA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mantis Shrimp":return new mA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lionfish":return new vA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tyrannosaurus":return new yA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Octopus":return new _A(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anglerfish":return new bA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sauropod":return new SA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elephant Seal":return new EA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Puma":return new Sr(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mongoose":return new wA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pillbug":return new CA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Duckling":return new kA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockroach":return new PA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frog":return new AA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seahorse":return new TA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Iguana":return new xA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hummingbird":return new MA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Marmoset":return new $1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kiwi":return new AT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chihuahua":return new DA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Firefly":return new DT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Koala":return new IA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Yak":return new OA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Salamander":return new NA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Panda":return new LA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Guinea Pig":return new BA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jellyfish":return new VA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pug":return new $A(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Atlantic Puffin":return new FA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dove":return new HA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stork":return new qA(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"DumboOctopus":return new RA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bass":return new TT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leech":return new GA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Woodpecker":return new UA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Toad":return new WA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Starfish":return new zA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Clownfish":return new KA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blobfish":return new QA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cabybara":return new YA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Okapi":return new JA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cassowary":return new ZA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anteater":return new uD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tuna":return new jA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Orangutang":return new H_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Eel":return new iD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hawk":return new nD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Platypus":return new sD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Praying Mantis":return new rD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crow":return new oD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Donkey":return new aD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pelican":return new cD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fairy Armadillo":return new G_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fossa":return new tD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Siamese":return new XA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elk":return new eD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sparrow":return new lD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sword Fish":return new hD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Polar Bear":return new dD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Siberian Husky":return new fD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lion":return new pD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Triceratops":return new gD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zebra":return new mD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fox":return new vD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hamster":return new yD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shoebill":return new _D(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vulture":return new bD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Komodo":return new SD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ostrich":return new ED(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Reindeer":return new wD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stegosaurus":return new CD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Piranha":return new kD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hammerhead Shark":return new PD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Velociraptor":return new AD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sabertooth Tiger":return new DD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Orca":return new TD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Spinosaurus":return new xD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bulldog":return new MD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Groundhog":return new j_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cone Snail":return new ID(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goose":return new OD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lemming":return new LD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pied Tamarin":return new RD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Opossum":return new PT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Silkmoth":return new ND(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Magpie":return new BD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hercules Beetle":return new $D(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stoat":return new VD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Black Necked Stilt":return new FD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Squid":return new qD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Urchin":return new GD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Door Head Ant":return new UD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lizard":return new jD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Turtle":return new WD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"African Penguin":return new zD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Musk Ox":return new KD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flea":return new QD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Royal Flycatcher":return new f1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Surgeon Fish":return new YD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Weasel":return new JD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Guineafowl":return new ZD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Betta Fish":return new XD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Meerkat":return new e1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flying Fish":return new t1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Baboon":return new i1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Osprey":return new n1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manatee":return new s1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cuttlefish":return new r1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Egyptian Vulture":return new o1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Saiga Antelope":return new a1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sealion":return new l1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vaquita":return new c1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Slug":return new u1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Poison Dart Frog":return new h1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Secretary Bird":return new d1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Falcon":return new p1(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manta Ray":return new g1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Macaque":return new m1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nyala":return new v1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nurse Shark":return new y1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beluga Whale":return new _1(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.belugaSwallowedPet);case"Wolf":return new b1(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Silver Fox":return new S1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fire Ant":return new E1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockatoo":return new w1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blue Ringed Octopus":return new C1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crane":return new k1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Emu":return new P1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wildebeast":return new A1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Highland Cow":return new D1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Catfish":return new T1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pteranodon":return new x1(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Warthog":return new M1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cobra":return new I1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Grizzly Bear":return new O1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"German Shephard":return new R1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bird of Paradise":return new N1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Oyster":return new L1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rockhopper Penguin":return new B1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jerboa":return new V1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frilled Dragon":return new F1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wombat":return new H1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frigatebird":return new q1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Aardvark":return new G1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bear":return new U1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Emperor Tamarin":return new j1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Porcupine":return new W1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wasp":return new z1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dragonfly":return new K1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lynx":return new Q1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seagull":return new yT(this.logService,this.abilityService,this,this.gameService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Alpaca":return new Jp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hyena":return new _T(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Moose":return new bT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lioness":return new ST(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tapir":return new ET(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Walrus":return new wT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"White Tiger":return new CT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Basilisk":return new Fx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nightcrawler":return new Hx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sphinx":return new qx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chupacabra":return new Gx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Golden Beetle":return new Ux(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Foo Dog":return new jx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tree":return new Wx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Slime":return new zx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.battlesFought);case"Pegasus":return new Kx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Deer Lord":return new Qx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fairy":return new Yx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rootling":return new Jx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anubis":return new Zx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Old Mouse":return new Xx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hippocampus":return new eM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Boitata":return new tM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kappa":return new iM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mimic":return new nM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nurikabe":return new sM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tandgnost":return new gb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tandgrisner":return new mb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Great One":return new vb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leviathan":return new rM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Questing Beast":return new oM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockatrice":return new aM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amargasaurus":return new kT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bee":return new Sh(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bus":return new R_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Butterfly":return new F_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chick":return new L_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dirty Ray":return new M_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Golden Retriever":return new P_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lizard Tail":return new W_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nest":return new Eh(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ram":return new O_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smaller Slug":return new K_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smallest Slug":return new z_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zombie Cricket":return new yh(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zombie Fly":return new Up(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cracked Egg":return new sb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nessie?":return new cb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Young Phoenix":return new ub(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fire Pup":return new hb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Monty":return new eb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rock":return new Xp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Daycrawler":return new fb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smaller Slime":return new pb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Goat":return new rb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Lion":return new ob(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Snake":return new ab(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Head":return new db(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Good Dog":return new lM(this.logService,this.abilityService,this,this.gameService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fairy Ball":return new q_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp);case"Baku":return new MT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Axehandle Hound":return new OT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Barghest":return new RT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tsuchinoko":return new NT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Murmel":return new LT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Alchemedes":return new BT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pengobble":return new $T(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Warf":return new VT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bunyip":return new FT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sneaky Egg":return new HT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cuddle Toad":return new qT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"???":return new IT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ghost Kitten":return new GT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frost Wolf":return new jT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mothman":return new WT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Drop Bear":return new zT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jackalope":return new KT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ogopogo":return new YT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Thunderbird":return new JT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gargoyle":return new ZT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bigfoot":return new XT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lucky Cat":return new QT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Skeleton Dog":return new ex(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mandrake":return new tx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fur-Bearing Trout":return new ix(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mana Hound":return new nx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Calygreyhound":return new sx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Brain Cramp":return new rx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Minotaur":return new ox(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wyvern":return new ax(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ouroboros":return new lx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Griffin":return new cx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kraken":return new ux(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Visitor":return new hx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vampire Bat":return new dx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tiger Bug":return new fx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tatzelwurm":return new px(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cyclops":return new gx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chimera":return new mx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Roc":return new vx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Worm of Sand":return new yx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Abomination":return new _x(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.abominationSwallowedPet1,e.abominationSwallowedPet2,e.abominationSwallowedPet3);case"Red Dragon":return new bx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Unicorn":return new Sx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Loveland Frogman":return new Ex(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Salmon of Knowledge":return new lb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jersey Devil":return new Cx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pixiu":return new kx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kitsune":return new Px(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nessie":return new Ax(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bad Dog":return new Dx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Werewolf":return new Tx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amalgamation":return new wx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manticore":return new xx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Phoenix":return new Mx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Quetzalcoatl":return new Ix(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Team Spirit":return new Ox(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sleipnir":return new Rx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Serpent":return new Nx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Yeti":return new Lx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cerberus":return new Bx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hydra":return new $x(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Behemoth":return new Vx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment)}}createDefaultVersionOfPet(e,i=null,s=null){let r;return e instanceof D_&&(r=new D_(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Sh&&(r=new Sh(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Ck&&(r=new Ck(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof kk&&(r=new kk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Pk&&(r=new Pk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Ak&&(r=new Ak(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof yh&&(r=new yh(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof T_&&(r=new T_(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof x_&&(r=new x_(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Dk&&(r=new Dk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Tk&&(r=new Tk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof xk&&(r=new xk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof xT&&(r=new xT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Mk&&(r=new Mk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Ik&&(r=new Ik(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Ok&&(r=new Ok(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Rk&&(r=new Rk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Nk&&(r=new Nk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Lk&&(r=new Lk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Bk&&(r=new Bk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof $k&&(r=new $k(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Vk&&(r=new Vk(this.logService,this.abilityService,this,e.parent,i,s,0,C(e.level))),e instanceof Fk&&(r=new Fk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Hk&&(r=new Hk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof I_&&(r=new I_(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof qk&&(r=new qk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Gk&&(r=new Gk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Uk&&(r=new Uk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof jk&&(r=new jk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Wk&&(r=new Wk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof zk&&(r=new zk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Kk&&(r=new Kk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Yk&&(r=new Yk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Jk&&(r=new Jk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Zk&&(r=new Zk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Xk&&(r=new Xk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof eP&&(r=new eP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof tP&&(r=new tP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof iP&&(r=new iP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof nP&&(r=new nP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof sP&&(r=new sP(this.logService,this.abilityService,this,e.parent,i,s,0,C(e.level))),e instanceof _h&&(r=new _h(this.logService,this.abilityService,this,e.parent,i,s,0,C(e.level))),e instanceof rP&&(r=new rP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof oP&&(r=new oP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof aP&&(r=new aP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof N_&&(r=new N_(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof lP&&(r=new lP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof cP&&(r=new cP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof uP&&(r=new uP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof hP&&(r=new hP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof dP&&(r=new dP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof fP&&(r=new fP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof pP&&(r=new pP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof gP&&(r=new gP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Qk&&(r=new Qk(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof mP&&(r=new mP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof vP&&(r=new vP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof yP&&(r=new yP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof _P&&(r=new _P(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof bP&&(r=new bP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof SP&&(r=new SP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof EP&&(r=new EP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof wP&&(r=new wP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof CP&&(r=new CP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof kP&&(r=new kP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof PP&&(r=new PP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof AP&&(r=new AP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof DP&&(r=new DP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof TP&&(r=new TP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof xP&&(r=new xP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof OP&&(r=new OP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof MP&&(r=new MP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof IP&&(r=new IP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof RP&&(r=new RP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof NP&&(r=new NP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof LP&&(r=new LP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof BP&&(r=new BP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof $P&&(r=new $P(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof VP&&(r=new VP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof FP&&(r=new FP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof HP&&(r=new HP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof qP&&(r=new qP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof GP&&(r=new GP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof UP&&(r=new UP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof jP&&(r=new jP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof zp&&(r=new zp(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof WP&&(r=new WP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof V_&&(r=new V_(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof zP&&(r=new zP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof KP&&(r=new KP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof wh&&(r=new wh(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof QP&&(r=new QP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof YP&&(r=new YP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof JP&&(r=new JP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof ZP&&(r=new ZP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof XP&&(r=new XP(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof eA&&(r=new eA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof tA&&(r=new tA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof iA&&(r=new iA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof nA&&(r=new nA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof sA&&(r=new sA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof rA&&(r=new rA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof oA&&(r=new oA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof dA&&(r=new dA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof aA&&(r=new aA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof lA&&(r=new lA(this.logService,this.abilityService,this,e.parent,i,s,0,C(e.level))),e instanceof cA&&(r=new cA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof uA&&(r=new uA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof hA&&(r=new hA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof fA&&(r=new fA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof pA&&(r=new pA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof gA&&(r=new gA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof mA&&(r=new mA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof vA&&(r=new vA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof yA&&(r=new yA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof _A&&(r=new _A(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof bA&&(r=new bA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof SA&&(r=new SA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof EA&&(r=new EA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Sr&&(r=new Sr(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof wA&&(r=new wA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof CA&&(r=new CA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof kA&&(r=new kA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof PA&&(r=new PA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof AT&&(r=new AT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof AA&&(r=new AA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof TA&&(r=new TA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof xA&&(r=new xA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof MA&&(r=new MA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof $1&&(r=new $1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof DA&&(r=new DA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof DT&&(r=new DT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof IA&&(r=new IA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof OA&&(r=new OA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof NA&&(r=new NA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof LA&&(r=new LA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof BA&&(r=new BA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof VA&&(r=new VA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof $A&&(r=new $A(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof FA&&(r=new FA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof HA&&(r=new HA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof qA&&(r=new qA(this.logService,this.abilityService,this,e.parent,i,s,0,C(e.level))),e instanceof RA&&(r=new RA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof TT&&(r=new TT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof GA&&(r=new GA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof UA&&(r=new UA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof WA&&(r=new WA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof zA&&(r=new zA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof KA&&(r=new KA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof QA&&(r=new QA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof YA&&(r=new YA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof JA&&(r=new JA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof ZA&&(r=new ZA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof jA&&(r=new jA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof H_&&(r=new H_(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof iD&&(r=new iD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof nD&&(r=new nD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof sD&&(r=new sD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof rD&&(r=new rD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof oD&&(r=new oD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof aD&&(r=new aD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof cD&&(r=new cD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof uD&&(r=new uD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof G_&&(r=new G_(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof tD&&(r=new tD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof XA&&(r=new XA(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof eD&&(r=new eD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof lD&&(r=new lD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof hD&&(r=new hD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof dD&&(r=new dD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof fD&&(r=new fD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof pD&&(r=new pD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof gD&&(r=new gD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof mD&&(r=new mD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof vD&&(r=new vD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof yD&&(r=new yD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof _D&&(r=new _D(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof bD&&(r=new bD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof SD&&(r=new SD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof ED&&(r=new ED(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof wD&&(r=new wD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof CD&&(r=new CD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof kD&&(r=new kD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof PD&&(r=new PD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof AD&&(r=new AD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof DD&&(r=new DD(this.logService,this.abilityService,this,e.parent,i,s,0,C(e.level))),e instanceof TD&&(r=new TD(this.logService,this.abilityService,this,e.parent,i,s,0,C(e.level))),e instanceof xD&&(r=new xD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof MD&&(r=new MD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof j_&&(r=new j_(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof ID&&(r=new ID(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof OD&&(r=new OD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof LD&&(r=new LD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof RD&&(r=new RD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof PT&&(r=new PT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof ND&&(r=new ND(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof BD&&(r=new BD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof $D&&(r=new $D(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof VD&&(r=new VD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof FD&&(r=new FD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof qD&&(r=new qD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof GD&&(r=new GD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof UD&&(r=new UD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof jD&&(r=new jD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof WD&&(r=new WD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof zD&&(r=new zD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof KD&&(r=new KD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof QD&&(r=new QD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof f1&&(r=new f1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof YD&&(r=new YD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof JD&&(r=new JD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof ZD&&(r=new ZD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof XD&&(r=new XD(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof e1&&(r=new e1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof t1&&(r=new t1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof i1&&(r=new i1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof n1&&(r=new n1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof s1&&(r=new s1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof r1&&(r=new r1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof o1&&(r=new o1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof a1&&(r=new a1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof l1&&(r=new l1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof c1&&(r=new c1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof u1&&(r=new u1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof h1&&(r=new h1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof d1&&(r=new d1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof p1&&(r=new p1(this.logService,this.abilityService,this,e.parent,i,s,0,C(e.level))),e instanceof g1&&(r=new g1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof m1&&(r=new m1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof v1&&(r=new v1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof y1&&(r=new y1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof _1&&(r=new _1(this.logService,this.abilityService,this,e.parent,i,s,0,C(e.level))),e instanceof b1&&(r=new b1(this.logService,this.abilityService,this,e.parent,i,s,0,C(e.level))),e instanceof S1&&(r=new S1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof E1&&(r=new E1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof w1&&(r=new w1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof C1&&(r=new C1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof k1&&(r=new k1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof P1&&(r=new P1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof A1&&(r=new A1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof D1&&(r=new D1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof T1&&(r=new T1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof x1&&(r=new x1(this.logService,this.abilityService,this,e.parent,i,s,0,C(e.level))),e instanceof M1&&(r=new M1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof I1&&(r=new I1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof O1&&(r=new O1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof R1&&(r=new R1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof N1&&(r=new N1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof L1&&(r=new L1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof B1&&(r=new B1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Sh&&(r=new Sh(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof R_&&(r=new R_(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof F_&&(r=new F_(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof L_&&(r=new L_(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof M_&&(r=new M_(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof P_&&(r=new P_(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof W_&&(r=new W_(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Eh&&(r=new Eh(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof O_&&(r=new O_(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof K_&&(r=new K_(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof z_&&(r=new z_(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof yh&&(r=new yh(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Up&&(r=new Up(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof sb&&(r=new sb(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof cb&&(r=new cb(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof ub&&(r=new ub(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof hb&&(r=new hb(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof eb&&(r=new eb(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Xp&&(r=new Xp(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof fb&&(r=new fb(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof pb&&(r=new pb(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof rb&&(r=new rb(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof ob&&(r=new ob(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof ab&&(r=new ab(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof db&&(r=new db(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof lM&&(r=new lM(this.logService,this.abilityService,this,this.gameService,e.parent,i,s,0,C(e.level))),e instanceof q_&&(r=new q_(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof V1&&(r=new V1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof F1&&(r=new F1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof H1&&(r=new H1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof q1&&(r=new q1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof G1&&(r=new G1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof U1&&(r=new U1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof j1&&(r=new j1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof W1&&(r=new W1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof z1&&(r=new z1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof K1&&(r=new K1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Q1&&(r=new Q1(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof yT&&(r=new yT(this.logService,this.abilityService,this,this.gameService,e.parent,i,s,0,C(e.level))),e instanceof Jp&&(r=new Jp(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof _T&&(r=new _T(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof bT&&(r=new bT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof ST&&(r=new ST(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof ET&&(r=new ET(this.logService,this.abilityService,this,e.parent,i,s,0,C(e.level))),e instanceof wT&&(r=new wT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof CT&&(r=new CT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Fx&&(r=new Fx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Hx&&(r=new Hx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof qx&&(r=new qx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Gx&&(r=new Gx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Ux&&(r=new Ux(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof jx&&(r=new jx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Wx&&(r=new Wx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof zx&&(r=new zx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Kx&&(r=new Kx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Qx&&(r=new Qx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Yx&&(r=new Yx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Jx&&(r=new Jx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Zx&&(r=new Zx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Xx&&(r=new Xx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof eM&&(r=new eM(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof tM&&(r=new tM(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof iM&&(r=new iM(this.logService,this.abilityService,this,e.parent,i,s,0,C(e.level))),e instanceof nM&&(r=new nM(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof sM&&(r=new sM(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof gb&&(r=new gb(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof mb&&(r=new mb(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof vb&&(r=new vb(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof rM&&(r=new rM(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof oM&&(r=new oM(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof aM&&(r=new aM(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof M3&&(r=new M3(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof kT&&(r=new kT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof MT&&(r=new MT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof OT&&(r=new OT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof RT&&(r=new RT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof NT&&(r=new NT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof LT&&(r=new LT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof BT&&(r=new BT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof $T&&(r=new $T(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof VT&&(r=new VT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof FT&&(r=new FT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof HT&&(r=new HT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof qT&&(r=new qT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof IT&&(r=new IT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof GT&&(r=new GT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof jT&&(r=new jT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof WT&&(r=new WT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof zT&&(r=new zT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof KT&&(r=new KT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof YT&&(r=new YT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof JT&&(r=new JT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof ZT&&(r=new ZT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof XT&&(r=new XT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof QT&&(r=new QT(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof ex&&(r=new ex(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof tx&&(r=new tx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof ix&&(r=new ix(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof nx&&(r=new nx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof sx&&(r=new sx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof rx&&(r=new rx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof ox&&(r=new ox(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof ax&&(r=new ax(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof lx&&(r=new lx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof cx&&(r=new cx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof ux&&(r=new ux(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof hx&&(r=new hx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof dx&&(r=new dx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof fx&&(r=new fx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof px&&(r=new px(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof gx&&(r=new gx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof mx&&(r=new mx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof vx&&(r=new vx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof yx&&(r=new yx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof _x&&(r=new _x(this.logService,this.abilityService,this,e.parent,i,s,0,C(e.level))),e instanceof bx&&(r=new bx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Sx&&(r=new Sx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Ex&&(r=new Ex(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof lb&&(r=new lb(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Cx&&(r=new Cx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof kx&&(r=new kx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Px&&(r=new Px(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Ax&&(r=new Ax(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Dx&&(r=new Dx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Tx&&(r=new Tx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof wx&&(r=new wx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof xx&&(r=new xx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Mx&&(r=new Mx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Ix&&(r=new Ix(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Ox&&(r=new Ox(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Rx&&(r=new Rx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Nx&&(r=new Nx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Lx&&(r=new Lx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Bx&&(r=new Bx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof $x&&(r=new $x(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),e instanceof Vx&&(r=new Vx(this.logService,this.abilityService,e.parent,i,s,0,C(e.level))),r}getRandomPet(e){let s,i=Uo(1,6);s="Turtle"==e.pack?this.turtlePackPets.get(i):"Puppy"==e.pack?this.puppyPackPets.get(i):"Star"==e.pack?this.starPackPets.get(i):"Golden"==e.pack?this.goldenPackPets.get(i):"Unicorn"==e.pack?this.unicornPackPets.get(i):this.playerCustomPackPets.get(e.pack).get(i);let o=s[Uo(0,s.length-1)];return this.createPet({attack:null,equipment:null,exp:Uo(0,5),health:null,name:o,mana:null},e)}getRandomFaintPet(e,i){let s={1:["Ant","Cricket","Groundhog","Pied Tamarin"],2:["Rat","Hedgehog","Flamingo","Spider","Stork","Beluga Sturgeon","Squid","Black Necked Stilt","Frost Wolf","Mothman","Gargoyle","Bigfoot","Nightcrawler"],3:["Badger","Sheep","Anteater","Hoopoe Bird","Mole","Pangolin","Blobfish","Flea","Weasel","Osprey","Bear","Betta Fish","Skeleton Dog","Fur-Bearing Trout","Calygreyhound","Slime"],4:["Turtle","Deer","Microbe","Tahr","Chameleon","Cuttlefish","Vaquita","Slug","Chimera","Visitor"],5:["Rooster","Eagle","Fire Ant","Stonefish","Nyala","Nurse Shark","Wolf","Nessie","Pixiu","Kappa"],6:["Mammoth","Snapping Turtle","Lionfish","Warthog","Walrus","Phoenix","Sea Serpent","Hydra"]},r=[];r=i&&s[i]?s[i]:[].concat(...Object.values(s));let o=r[Uo(0,r.length-1)];return this.createPet({name:o,attack:null,equipment:null,exp:0,health:null,mana:null},e)}}return n.\u0275fac=function(e){return new(e||n)(q(yb),q(_b),q(Ch))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function C(n){return 1==n?0:2==n?2:5}class GW extends ce{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Yggdrasil Fruit",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.originalAfterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=o=>{var a;if(null!=r&&r(o),"Yggdrasil Fruit"==(null===(a=i.equipment)||void 0===a?void 0:a.name))for(let l=0;l<this.multiplier;l++){let h=new gb(this.logService,this.abilityService,i.parent,3,3,0),f=new mb(this.logService,this.abilityService,i.parent,3,3,0),m=l>0?this.multiplierMessage:"";this.logService.createLog({message:`${i.name} Spawned Tandgnost (Yggdrasil Fruit)${m}`,type:"ability",player:i.parent}),i.parent.summonPet(h,i.savedPosition)&&this.abilityService.triggerSummonedEvents(h),this.logService.createLog({message:`${i.name} Spawned Tandgrisner (Yggdrasil Fruit)${m}`,type:"ability",player:i.parent}),i.parent.summonPet(f,i.savedPosition)&&this.abilityService.triggerSummonedEvents(f)}}}}}class Kn{constructor(t,e,i,s){this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s}getInstanceOfAllEquipment(){let t=new Map;return t.set("Garlic",new pc),t.set("Meat Bone",new B_),t.set("Steak",new Y1),t.set("Melon",new jr),t.set("Honey",new jp(this.logService,this.abilityService)),t.set("Chili",new bh(this.logService,this.abilityService)),t.set("Mushroom",new J1(this.logService,this.abilityService,this.petService)),t.set("Coconut",new Wr),t.set("Peanut",new Ga),t.set("Peanut Butter",new P3),t.set("Blackberry",new A3),t.set("Croissant",new Z1),t.set("Rice",new Wp),t.set("Eucalyptus",new T3),t.set("Lime",new X1),t.set("Egg",new $_(this.logService,this.abilityService)),t.set("Squash",new mT(this.logService,this.abilityService)),t.set("Salt",new $p),t.set("Pie",new Q_(this.logService)),t.set("Skewer",new Kp(this.logService)),t.set("Lemon",new eT),t.set("Pancakes",new Y_(this.logService)),t.set("Strawberry",new U_(this.logService,this.abilityService)),t.set("Cucumber",new tT),t.set("Cheese",new Vp),t.set("Grapes",new aT),t.set("Carrot",new oT),t.set("Pepper",new Fp),t.set("Popcorn",new lT(this.logService,this.abilityService,this.petService,this.gameService)),t.set("Cherry",new J_),t.set("Chocolate Cake",new Qp(this.logService,this.abilityService)),t.set("Eggplant",new Z_(this.logService)),t.set("Potato",new sT),t.set("Banana",new iT(this.logService,this.abilityService)),t.set("Onion",new A_(this.logService)),t.set("Pita Bread",new X_(this.logService)),t.set("Tomato",new rT(this.logService,this.abilityService)),t.set("Durian",new nT(this.logService,this.abilityService)),t.set("Fortune Cookie",new Hp),t.set("Blueberry",new cT),t.set("Donut",new uT),t.set("Pineapple",new hT),t.set("Fig",new dT(this.logService,this.abilityService)),t.set("Rambutan",new Yp(this.logService)),t.set("Love Potion",new nb(this.logService)),t.set("Fairy Dust",new Gp(this.logService)),t.set("Gingerbread Man",new tb(this.logService)),t.set("Easter Egg",new fT(this.logService,this.abilityService)),t.set("Health Potion",new ib(this.logService)),t.set("Magic Beans",new gT),t.set("Golden Egg",new pT(this.logService,this.abilityService)),t.set("Yggdrasil Fruit",new GW(this.logService,this.abilityService)),t.set("Honeydew Melon",new C_),t.set("Ambrosia",new k_),t.set("Faint Bread",new vT(this.logService,this.abilityService,this.petService,this.gameService)),t}getInstanceOfAllAilments(){let t=new Map;return t.set("Cold",new UT),t.set("Crisp",new fc),t.set("Dazed",new w_),t.set("Exposed",new qp),t.set("Ink",new HD),t.set("Spooked",new Zp),t.set("Weak",new jo),t}isUsefulPerk(t){return Kn.USEFUL_PERKS.has(t)}getUsefulPerksByTier(t){const e=this.getInstanceOfAllEquipment(),i=[];for(const[s,r]of Kn.USEFUL_PERKS.entries())r===t&&e.has(s)&&i.push(e.get(s));return i}getUsefulPerks(){const t=this.getInstanceOfAllEquipment(),e=[];for(const i of Kn.USEFUL_PERKS.keys())t.has(i)&&e.push(t.get(i));return e}}function UW(n,t){if(1&n){const e=Hr();p(0,"span",22),Ue("click",function(){return Lt(e),je().setExp(0)}),S(1,"x"),g()}}function jW(n,t){if(1&n&&(p(0,"option",9),S(1),g()),2&n){const e=t.$implicit;z("ngValue",e),H(1),Ii(e)}}function WW(n,t){if(1&n&&(p(0,"option",25),S(1),g()),2&n){const e=t.$implicit,i=je(2);z("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),H(1),Ii(e)}}function zW(n,t){if(1&n&&(p(0,"optgroup",23),Re(1,WW,2,4,"option",24),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),H(1),z("ngForOf",e.value)}}function KW(n,t){if(1&n){const e=Hr();p(0,"button",26),Ue("click",function(){return Lt(e),je().toggleFlyOut()}),S(1,">"),g()}}function QW(n,t){if(1&n&&(p(0,"option",25),S(1),g()),2&n){const e=t.$implicit,i=je(4);z("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),H(1),Ii(e)}}function YW(n,t){if(1&n&&(p(0,"optgroup",23),Re(1,QW,2,4,"option",24),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),H(1),z("ngForOf",e.value)}}function JW(n,t){if(1&n&&(p(0,"div"),p(1,"label",29),S(2,"Swallowed Pet"),g(),p(3,"select",30),p(4,"option",9),S(5,"None"),g(),Re(6,YW,2,2,"optgroup",12),Oa(7,"keyvalue"),g(),g()),2&n){const e=je(2);H(4),z("ngValue",null),H(2),z("ngForOf",Ra(7,2,e.pets))}}function ZW(n,t){if(1&n&&(p(0,"option",25),S(1),g()),2&n){const e=t.$implicit,i=je(5);z("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),H(1),Ii(e)}}function XW(n,t){if(1&n&&(p(0,"optgroup",23),Re(1,ZW,2,4,"option",24),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),H(1),z("ngForOf",e.value)}}function e9(n,t){if(1&n&&(p(0,"div"),p(1,"label",32),S(2,"Swallowed Pet"),g(),p(3,"select",33),p(4,"option",9),S(5,"None"),g(),Re(6,XW,2,2,"optgroup",12),Oa(7,"keyvalue"),g(),g()),2&n){const e=t.index,i=je(3);H(1),tp("for","abominationSwallowedPet",e+1,""),H(2),tp("formControlName","abominationSwallowedPet",e+1,""),H(1),z("ngValue",null),H(2),z("ngForOf",Ra(7,4,i.startOfBattlePets))}}Kn.USEFUL_PERKS=new Map([["Lime",2],["Meat Bone",2],["Cherry",2],["Fairy Dust",2],["Garlic",3],["Gingerbread Man",3],["Fig",3],["Cucumber",3],["Croissant",3],["Squash",3],["Banana",4],["Love Potion",4],["Pie",4],["Grapes",4],["Cheese",4],["Salt",4],["Fortune Cookie",4],["Easter Egg",5],["Magic Beans",5],["Chili",5],["Lemon",5],["Durian",5],["Honeydew Melon",5],["Popcorn",6],["Steak",6],["Pancakes",6],["Yggdrasil Fruit",6],["Melon",6],["Tomato",6],["Pita Bread",6]]),Kn.\u0275fac=function(t){return new(t||Kn)(q(yb),q(_b),q(bb),q(Ch))},Kn.\u0275prov=le({token:Kn,factory:Kn.\u0275fac,providedIn:"root"});const t9=function(){return[]};function i9(n,t){if(1&n&&(p(0,"div"),Re(1,e9,8,6,"div",31),g()),2&n){const e=je(2);H(1),z("ngForOf",function(n,t,e){const i=qi()+n,s=K();return s[i]===ge?Fr(s,i,e?t.call(e):t()):function(n,t){return n[t]}(s,i)}(1,t9).constructor(e.pet.level))}}function n9(n,t){1&n&&(p(0,"div"),p(1,"label",34),S(2,"Battles Fought"),g(),se(3,"input",35),g())}function s9(n,t){if(1&n&&(p(0,"div",27),Re(1,JW,8,4,"div",28),Re(2,i9,2,2,"div",28),Re(3,n9,4,0,"div",28),g()),2&n){const e=je();H(1),z("ngIf","Beluga Whale"==e.pet.name),H(1),z("ngIf","Abomination"==e.pet.name),H(1),z("ngIf","Slime"==e.pet.name)}}function r9(n,t){if(1&n&&(p(0,"option",9),S(1),g()),2&n){const e=t.$implicit;z("ngValue",e.value),H(1),Ii(e.key)}}function o9(n,t){if(1&n&&(p(0,"option",9),S(1),g()),2&n){const e=t.$implicit;z("ngValue",e.value),H(1),Ii(e.key)}}function a9(n,t){if(1&n&&(p(0,"optgroup",36),Re(1,o9,2,2,"option",11),Oa(2,"keyvalue"),g()),2&n){const e=je();H(1),z("ngForOf",Ra(2,1,e.ailmentEquipment))}}function l9(n,t){1&n&&(p(0,"div",37),se(1,"input",38),g())}let I3=(()=>{class n{constructor(e,i){this.petService=e,this.equipmentService=i,this.showFlyOut=!1,this.attackHealthMax=50,this.showTokenPets=!1,this.tokenPets=["Bee","Bus","Chick","Dirty Rat","Lizard Tail","Ram","Smaller Slug","Smallest Slug","Zombie Cricket","Zombie Fly","Chim-Goat","Chim-Lion","Chim-Snake","Daycrawler","Head","Monty","Nessie?","Smaller Slime","Young Phoenix","Good Dog"]}ngOnInit(){var e;this.initSelector(),this.fixLoadEquipment(),"Behemoth"==(null===(e=this.pet)||void 0===e?void 0:e.name)&&(this.attackHealthMax=100)}initSelector(){this.initPets(),this.initEquipment(),this.initForm()}initPets(){this.pets=new Map;for(let e=1;e<=6;e++)this.pets.set(e,[]);for(let[e,i]of this.petService.turtlePackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.puppyPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.starPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.goldenPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.unicornPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.customPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.pets)this.pets.set(e,[...new Set(i)]);this.initStartOfBattlePets(),console.log("pets",this.pets)}initStartOfBattlePets(){this.startOfBattlePets=new Map;for(let e=1;e<=6;e++){let i=[];for(let s of this.pets.get(e))this.petService.startOfBattlePets.includes(s)&&i.push(s);this.startOfBattlePets.set(e,i)}}getPack(e){let i;if("Turtle"==e.pack)i=this.petService.turtlePackPets;else if("Puppy"==e.pack)i=this.petService.puppyPackPets;else if("Star"==e.pack)i=this.petService.starPackPets;else if("Golden"==e.pack)i=this.petService.goldenPackPets;else if("Unicorn"==e.pack)i=this.petService.unicornPackPets;else try{i=this.buildCustomPack(e.pack)}catch(s){i=this.petService.turtlePackPets}return(0,me.cloneDeep)(i)}buildCustomPack(e){let i;for(let r of this.customPacks.controls)if(r.get("name").value==e){i=r;break}let s=new Map;for(let r=1;r<=6;r++)s.set(r,i.get(`tier${r}Pets`).value);return s}initEquipment(){this.equipment=this.equipmentService.getInstanceOfAllEquipment(),this.ailmentEquipment=this.equipmentService.getInstanceOfAllAilments()}initForm(){this.formGroup.get("name").valueChanges.subscribe(e=>{null!=e?this.substitutePet(!0):this.removePet()}),this.formGroup.get("attack").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("health").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("exp").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("equipment").valueChanges.subscribe(e=>{if(null!=e&&null==e.reset){let i=this.equipment.get(e.name);null==i&&(i=this.ailmentEquipment.get(e.name)),this.formGroup.get("equipment").setValue(i,{emitEvent:!1})}this.substitutePet(!1)}),this.formGroup.get("belugaSwallowedPet").valueChanges.subscribe(e=>{this.setBelugaSwallow(e)}),this.formGroup.get("abominationSwallowedPet1").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("abominationSwallowedPet2").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("abominationSwallowedPet3").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("mana").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("battlesFought").valueChanges.subscribe(e=>{this.setBattlesFought(e)})}setExp(e){this.formGroup.get("exp").setValue(e)}getIsSelected(e){return this.formGroup.get("exp").value>=e}showRemoveExp(){return this.formGroup.get("exp").value>0}substitutePet(e=!1){setTimeout(()=>{var i;let s=this.formGroup.value;e&&(s.attack=null,s.health=null,s.mana=null);let r=s.equipment;null!=r&&(s.equipment=null!==(i=this.equipment.get(r.name))&&void 0!==i?i:this.ailmentEquipment.get(r.name));let o=this.petService.createPet(s,this.player);this.player.setPet(this.index,o,!0),e&&(this.formGroup.get("attack").setValue(o.attack,{emitEvent:!1}),this.formGroup.get("health").setValue(o.health,{emitEvent:!1}),this.formGroup.get("mana").setValue(o.mana,{emitEvent:!1})),this.attackHealthMax="Behemoth"==this.formGroup.get("name").value?100:50})}setBelugaSwallow(e){let i=this.player.getPet(this.index);null!=i&&(i.belugaSwallowedPet=e)}setSwallowedPets(e){let i=this.player.getPet(this.index);if(null==i)return;let s=[];null!=this.formGroup.get("abominationSwallowedPet1").value&&s.push(this.formGroup.get("abominationSwallowedPet1").value),null!=this.formGroup.get("abominationSwallowedPet2").value&&s.push(this.formGroup.get("abominationSwallowedPet2").value),null!=this.formGroup.get("abominationSwallowedPet3").value&&s.push(this.formGroup.get("abominationSwallowedPet3").value),console.log(s),i.abominationSwallowedPet1=s[0],i.abominationSwallowedPet2=s[1],i.abominationSwallowedPet3=s[2]}setBattlesFought(e){let i=this.player.getPet(this.index);null!=i&&(i.battlesFought=e)}showFlyOutButton(){return["Beluga Whale","Abomination","Slime"].includes(this.formGroup.get("name").value)}toggleFlyOut(){this.showFlyOut=!this.showFlyOut}removePet(){this.player.setPet(this.index,null,!0),this.formGroup.get("name").setValue(null,{emitEvent:!1}),this.formGroup.get("attack").setValue(0,{emitEvent:!1}),this.formGroup.get("health").setValue(0,{emitEvent:!1}),this.formGroup.get("exp").setValue(0,{emitEvent:!1}),this.formGroup.get("equipment").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(0,{emitEvent:!1})}optionHidden(e){var i;if(this.allPets)return!1;let s=this.getPack(this.player);for(let[r,o]of s)if(o.includes(e))return!1;if(this.angler){let r=this.getPack(this.opponent);for(let[o,a]of r)if(a.includes(e))return!1}return(null===(i=this.player.getPet(this.index))||void 0===i?void 0:i.name)!=e}fixLoadEquipment(){let e=this.formGroup.get("equipment").value;if(null==e)return;let i=this.equipment.get(e.name);null==i&&(i=this.ailmentEquipment.get(e.name)),this.formGroup.get("equipment").setValue(i)}}return n.\u0275fac=function(e){return new(e||n)(V(bb),V(Kn))},n.\u0275cmp=Nn({type:n,selectors:[["app-pet-selector"]],inputs:{pet:"pet",player:"player",opponent:"opponent",index:"index",angler:"angler",ailments:"ailments",allPets:"allPets",mana:"mana",formGroup:"formGroup",customPacks:"customPacks",showTokenPets:"showTokenPets"},decls:40,vars:28,consts:[[1,"card","p-3"],[1,"row","form-group",3,"formGroup"],[1,"col-12","d-flex","level-bar-numbers","mb-1"],[1,"level-3"],[1,"col-12","d-flex","level-bar","mb-2"],["class","remove-exp",3,"click",4,"ngIf"],[3,"click"],[1,"col-12","mb-2","d-flex"],["formControlName","name",1,"form-control"],[3,"ngValue"],["label","Token Pets",3,"hidden"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"label",4,"ngFor","ngForOf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","fly-out border p-3",4,"ngIf"],[1,"col-12","mb-2"],["formControlName","equipment",1,"form-control"],["label","Ailments",4,"ngIf"],["class","col-12 d-flex justify-content-center",4,"ngIf"],[1,"col-6"],["formControlName","attack","type","number","min","1",1,"form-control","select-attack",3,"max"],["formControlName","health","type","number","min","1",1,"form-control","select-health",3,"max"],[1,"remove-exp",3,"click"],[3,"label"],[3,"ngValue","hidden","disabled",4,"ngFor","ngForOf"],[3,"ngValue","hidden","disabled"],[1,"btn","btn-secondary",3,"click"],[1,"fly-out","border","p-3"],[4,"ngIf"],["for","belugaSwallowedPet"],["formControlName","belugaSwallowedPet",1,"form-control"],[4,"ngFor","ngForOf"],[3,"for"],[1,"form-control",3,"formControlName"],["for","battlesFought"],["formControlName","battlesFought","type","number","max","99",1,"form-control"],["label","Ailments"],[1,"col-12","d-flex","justify-content-center"],["formControlName","mana","type","number","min","0","max","100",1,"form-control","select-mana"]],template:function(e,i){1&e&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"span"),S(4,"1"),g(),se(5,"span"),p(6,"span"),S(7,"2"),g(),se(8,"span"),p(9,"span",3),S(10,"3"),g(),g(),p(11,"div",4),Re(12,UW,2,0,"span",5),p(13,"span",6),Ue("click",function(){return i.setExp(1)}),g(),p(14,"span",6),Ue("click",function(){return i.setExp(2)}),g(),p(15,"span",6),Ue("click",function(){return i.setExp(3)}),g(),p(16,"span",6),Ue("click",function(){return i.setExp(4)}),g(),p(17,"span",6),Ue("click",function(){return i.setExp(5)}),g(),g(),p(18,"div",7),p(19,"select",8),p(20,"option",9),S(21,"None"),g(),p(22,"optgroup",10),Re(23,jW,2,2,"option",11),g(),Re(24,zW,2,2,"optgroup",12),Oa(25,"keyvalue"),g(),Re(26,KW,2,0,"button",13),Re(27,s9,4,3,"div",14),g(),p(28,"div",15),p(29,"select",16),p(30,"option",9),S(31,"None"),g(),Re(32,r9,2,2,"option",11),Oa(33,"keyvalue"),Re(34,a9,3,3,"optgroup",17),g(),g(),Re(35,l9,2,0,"div",18),p(36,"div",19),se(37,"input",20),g(),p(38,"div",19),se(39,"input",21),g(),g(),g()),2&e&&(H(1),z("formGroup",i.formGroup),H(11),z("ngIf",i.showRemoveExp()),H(1),Os(i.getIsSelected(1)?"selected":""),H(1),Os(i.getIsSelected(2)?"selected":""),H(1),Os(i.getIsSelected(3)?"selected":""),H(1),Os(i.getIsSelected(4)?"selected":""),H(1),Os(i.getIsSelected(5)?"selected":""),H(3),z("ngValue",null),H(2),z("hidden",!i.showTokenPets),H(1),z("ngForOf",i.tokenPets),H(1),z("ngForOf",Ra(25,24,i.pets)),H(2),z("ngIf",i.showFlyOutButton()),H(1),z("ngIf",i.showFlyOut),H(3),z("ngValue",null),H(2),z("ngForOf",Ra(33,26,i.equipment)),H(2),z("ngIf",i.ailments),H(1),z("ngIf",i.mana),H(2),z("max",i.attackHealthMax),H(2),z("max",i.attackHealthMax))},directives:[dc,Go,gh,Bp,hc,qa,_k,Sk,Tp,qo,__,Ek,b_],pipes:[H0],styles:[".select-attack[_ngcontent-%COMP%]{background-color:gray;color:#fff}.select-health[_ngcontent-%COMP%]{background-color:#ca0202;color:#fff}.select-mana[_ngcontent-%COMP%]{background-color:#7388f8;color:#fff;width:45%}.select-attack[_ngcontent-%COMP%], .select-health[_ngcontent-%COMP%], .select-mana[_ngcontent-%COMP%]{font-size:1.5em;padding-right:0}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% / 5);height:100%}.level-bar[_ngcontent-%COMP%]{position:relative}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:initial;border-radius:initial;width:initial;position:absolute;left:0;bottom:.33em}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.level-3[_ngcontent-%COMP%]{text-align:right}.fly-out[_ngcontent-%COMP%]{position:absolute;left:100%;background-color:#fff;width:100%;z-index:1;box-shadow:12px 4px 9px 7px #0000001a}"]}),n})();var Mn="top",us="bottom",hs="right",In="left",Sb="auto",kh=[Mn,us,hs,In],gc="start",Ph="end",O3="clippingParents",cM="viewport",Ah="popper",R3="reference",uM=kh.reduce(function(n,t){return n.concat([t+"-"+gc,t+"-"+Ph])},[]),hM=[].concat(kh,[Sb]).reduce(function(n,t){return n.concat([t,t+"-"+gc,t+"-"+Ph])},[]),N3="beforeRead",L3="read",B3="afterRead",$3="beforeMain",V3="main",F3="afterMain",H3="beforeWrite",q3="write",G3="afterWrite",U3=[N3,L3,B3,$3,V3,F3,H3,q3,G3];function zr(n){return n?(n.nodeName||"").toLowerCase():null}function ds(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function mc(n){return n instanceof ds(n).Element||n instanceof Element}function Fs(n){return n instanceof ds(n).HTMLElement||n instanceof HTMLElement}function dM(n){return"undefined"!=typeof ShadowRoot&&(n instanceof ds(n).ShadowRoot||n instanceof ShadowRoot)}const fM={name:"applyStyles",enabled:!0,phase:"write",fn:function(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},s=t.attributes[e]||{},r=t.elements[e];!Fs(r)||!zr(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(o){var a=s[o];!1===a?r.removeAttribute(o):r.setAttribute(o,!0===a?"":a)}))})},effect:function(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var s=t.elements[i],r=t.attributes[i]||{},a=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]).reduce(function(l,h){return l[h]="",l},{});!Fs(s)||!zr(s)||(Object.assign(s.style,a),Object.keys(r).forEach(function(l){s.removeAttribute(l)}))})}},requires:["computeStyles"]};function Kr(n){return n.split("-")[0]}var vc=Math.max,Eb=Math.min,Dh=Math.round;function pM(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function j3(){return!/^((?!chrome|android).)*safari/i.test(pM())}function Th(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=n.getBoundingClientRect(),s=1,r=1;t&&Fs(n)&&(s=n.offsetWidth>0&&Dh(i.width)/n.offsetWidth||1,r=n.offsetHeight>0&&Dh(i.height)/n.offsetHeight||1);var a=(mc(n)?ds(n):window).visualViewport,l=!j3()&&e,h=(i.left+(l&&a?a.offsetLeft:0))/s,f=(i.top+(l&&a?a.offsetTop:0))/r,m=i.width/s,y=i.height/r;return{width:m,height:y,top:f,right:h+m,bottom:f+y,left:h,x:h,y:f}}function gM(n){var t=Th(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function W3(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&dM(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Wo(n){return ds(n).getComputedStyle(n)}function h9(n){return["table","td","th"].indexOf(zr(n))>=0}function Ua(n){return((mc(n)?n.ownerDocument:n.document)||window.document).documentElement}function wb(n){return"html"===zr(n)?n:n.assignedSlot||n.parentNode||(dM(n)?n.host:null)||Ua(n)}function z3(n){return Fs(n)&&"fixed"!==Wo(n).position?n.offsetParent:null}function eg(n){for(var t=ds(n),e=z3(n);e&&h9(e)&&"static"===Wo(e).position;)e=z3(e);return e&&("html"===zr(e)||"body"===zr(e)&&"static"===Wo(e).position)?t:e||function(n){var t=/firefox/i.test(pM());if(/Trident/i.test(pM())&&Fs(n)&&"fixed"===Wo(n).position)return null;var s=wb(n);for(dM(s)&&(s=s.host);Fs(s)&&["html","body"].indexOf(zr(s))<0;){var r=Wo(s);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return s;s=s.parentNode}return null}(n)||t}function mM(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function tg(n,t,e){return vc(n,Eb(t,e))}function Q3(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function Y3(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}const J3={name:"arrow",enabled:!0,phase:"main",fn:function(n){var t,e=n.state,i=n.name,s=n.options,r=e.elements.arrow,o=e.modifiersData.popperOffsets,a=Kr(e.placement),l=mM(a),f=[In,hs].indexOf(a)>=0?"height":"width";if(r&&o){var m=function(t,e){return Q3("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:Y3(t,kh))}(s.padding,e),y=gM(r),_="y"===l?Mn:In,w="y"===l?us:hs,T=e.rects.reference[f]+e.rects.reference[l]-o[l]-e.rects.popper[f],D=o[l]-e.rects.reference[l],R=eg(r),I=R?"y"===l?R.clientHeight||0:R.clientWidth||0:0,X=I/2-y[f]/2+(T/2-D/2),ie=tg(m[_],X,I-y[f]-m[w]);e.modifiersData[i]=((t={})[l]=ie,t.centerOffset=ie-X,t)}},effect:function(n){var t=n.state,i=n.options.element,s=void 0===i?"[data-popper-arrow]":i;null!=s&&("string"==typeof s&&!(s=t.elements.popper.querySelector(s))||!W3(t.elements.popper,s)||(t.elements.arrow=s))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xh(n){return n.split("-")[1]}var v9={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Z3(n){var t,e=n.popper,i=n.popperRect,s=n.placement,r=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,h=n.adaptive,f=n.roundOffsets,m=n.isFixed,y=o.x,_=void 0===y?0:y,w=o.y,T=void 0===w?0:w,D="function"==typeof f?f({x:_,y:T}):{x:_,y:T};_=D.x,T=D.y;var R=o.hasOwnProperty("x"),I=o.hasOwnProperty("y"),B=In,$=Mn,W=window;if(h){var X=eg(e),ie="clientHeight",xe="clientWidth";X===ds(e)&&"static"!==Wo(X=Ua(e)).position&&"absolute"===a&&(ie="scrollHeight",xe="scrollWidth"),(s===Mn||(s===In||s===hs)&&r===Ph)&&($=us,T-=(m&&X===W&&W.visualViewport?W.visualViewport.height:X[ie])-i.height,T*=l?1:-1),s!==In&&(s!==Mn&&s!==us||r!==Ph)||(B=hs,_-=(m&&X===W&&W.visualViewport?W.visualViewport.width:X[xe])-i.width,_*=l?1:-1)}var et,ot=Object.assign({position:a},h&&v9),it=!0===f?function(n,t){var i=n.y,s=t.devicePixelRatio||1;return{x:Dh(n.x*s)/s||0,y:Dh(i*s)/s||0}}({x:_,y:T},ds(e)):{x:_,y:T};return _=it.x,T=it.y,Object.assign({},ot,l?((et={})[$]=I?"0":"",et[B]=R?"0":"",et.transform=(W.devicePixelRatio||1)<=1?"translate("+_+"px, "+T+"px)":"translate3d("+_+"px, "+T+"px, 0)",et):((t={})[$]=I?T+"px":"",t[B]=R?_+"px":"",t.transform="",t))}const vM={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(n){var t=n.state,e=n.options,i=e.gpuAcceleration,s=void 0===i||i,r=e.adaptive,o=void 0===r||r,a=e.roundOffsets,l=void 0===a||a,h={placement:Kr(t.placement),variation:xh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Z3(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Z3(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Cb={passive:!0};const yM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(n){var t=n.state,e=n.instance,i=n.options,s=i.scroll,r=void 0===s||s,o=i.resize,a=void 0===o||o,l=ds(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&h.forEach(function(f){f.addEventListener("scroll",e.update,Cb)}),a&&l.addEventListener("resize",e.update,Cb),function(){r&&h.forEach(function(f){f.removeEventListener("scroll",e.update,Cb)}),a&&l.removeEventListener("resize",e.update,Cb)}},data:{}};var S9={left:"right",right:"left",bottom:"top",top:"bottom"};function kb(n){return n.replace(/left|right|bottom|top/g,function(t){return S9[t]})}var E9={start:"end",end:"start"};function X3(n){return n.replace(/start|end/g,function(t){return E9[t]})}function _M(n){var t=ds(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function bM(n){return Th(Ua(n)).left+_M(n).scrollLeft}function SM(n){var t=Wo(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function e$(n){return["html","body","#document"].indexOf(zr(n))>=0?n.ownerDocument.body:Fs(n)&&SM(n)?n:e$(wb(n))}function ig(n,t){var e;void 0===t&&(t=[]);var i=e$(n),s=i===(null==(e=n.ownerDocument)?void 0:e.body),r=ds(i),o=s?[r].concat(r.visualViewport||[],SM(i)?i:[]):i,a=t.concat(o);return s?a:a.concat(ig(wb(o)))}function EM(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function t$(n,t,e){return t===cM?EM(function(n,t){var e=ds(n),i=Ua(n),s=e.visualViewport,r=i.clientWidth,o=i.clientHeight,a=0,l=0;if(s){r=s.width,o=s.height;var h=j3();(h||!h&&"fixed"===t)&&(a=s.offsetLeft,l=s.offsetTop)}return{width:r,height:o,x:a+bM(n),y:l}}(n,e)):mc(t)?function(n,t){var e=Th(n,!1,"fixed"===t);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(t,e):EM(function(n){var t,e=Ua(n),i=_M(n),s=null==(t=n.ownerDocument)?void 0:t.body,r=vc(e.scrollWidth,e.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=vc(e.scrollHeight,e.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+bM(n),l=-i.scrollTop;return"rtl"===Wo(s||e).direction&&(a+=vc(e.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}(Ua(n)))}function i$(n){var l,t=n.reference,e=n.element,i=n.placement,s=i?Kr(i):null,r=i?xh(i):null,o=t.x+t.width/2-e.width/2,a=t.y+t.height/2-e.height/2;switch(s){case Mn:l={x:o,y:t.y-e.height};break;case us:l={x:o,y:t.y+t.height};break;case hs:l={x:t.x+t.width,y:a};break;case In:l={x:t.x-e.width,y:a};break;default:l={x:t.x,y:t.y}}var h=s?mM(s):null;if(null!=h){var f="y"===h?"height":"width";switch(r){case gc:l[h]=l[h]-(t[f]/2-e[f]/2);break;case Ph:l[h]=l[h]+(t[f]/2-e[f]/2)}}return l}function Mh(n,t){void 0===t&&(t={});var i=t.placement,s=void 0===i?n.placement:i,r=t.strategy,o=void 0===r?n.strategy:r,a=t.boundary,l=void 0===a?O3:a,h=t.rootBoundary,f=void 0===h?cM:h,m=t.elementContext,y=void 0===m?Ah:m,_=t.altBoundary,w=void 0!==_&&_,T=t.padding,D=void 0===T?0:T,R=Q3("number"!=typeof D?D:Y3(D,kh)),B=n.rects.popper,$=n.elements[w?y===Ah?R3:Ah:y],W=function(n,t,e,i){var s="clippingParents"===t?function(n){var t=ig(wb(n)),i=["absolute","fixed"].indexOf(Wo(n).position)>=0&&Fs(n)?eg(n):n;return mc(i)?t.filter(function(s){return mc(s)&&W3(s,i)&&"body"!==zr(s)}):[]}(n):[].concat(t),r=[].concat(s,[e]),a=r.reduce(function(l,h){var f=t$(n,h,i);return l.top=vc(f.top,l.top),l.right=Eb(f.right,l.right),l.bottom=Eb(f.bottom,l.bottom),l.left=vc(f.left,l.left),l},t$(n,r[0],i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(mc($)?$:$.contextElement||Ua(n.elements.popper),l,f,o),X=Th(n.elements.reference),ie=i$({reference:X,element:B,strategy:"absolute",placement:s}),xe=EM(Object.assign({},B,ie)),Le=y===Ah?xe:X,Pe={top:W.top-Le.top+R.top,bottom:Le.bottom-W.bottom+R.bottom,left:W.left-Le.left+R.left,right:Le.right-W.right+R.right},ot=n.modifiersData.offset;if(y===Ah&&ot){var it=ot[s];Object.keys(Pe).forEach(function(et){var zt=[hs,us].indexOf(et)>=0?1:-1,ve=[Mn,us].indexOf(et)>=0?"y":"x";Pe[et]+=it[ve]*zt})}return Pe}const n$={name:"flip",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var s=e.mainAxis,r=void 0===s||s,o=e.altAxis,a=void 0===o||o,l=e.fallbackPlacements,h=e.padding,f=e.boundary,m=e.rootBoundary,y=e.altBoundary,_=e.flipVariations,w=void 0===_||_,T=e.allowedAutoPlacements,D=t.options.placement,R=Kr(D),B=l||(R!==D&&w?function(n){if(Kr(n)===Sb)return[];var t=kb(n);return[X3(n),t,X3(t)]}(D):[kb(D)]),$=[D].concat(B).reduce(function(vt,gs){return vt.concat(Kr(gs)===Sb?function(n,t){void 0===t&&(t={});var s=t.boundary,r=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,h=void 0===l?hM:l,f=xh(t.placement),m=f?a?uM:uM.filter(function(w){return xh(w)===f}):kh,y=m.filter(function(w){return h.indexOf(w)>=0});0===y.length&&(y=m);var _=y.reduce(function(w,T){return w[T]=Mh(n,{placement:T,boundary:s,rootBoundary:r,padding:o})[Kr(T)],w},{});return Object.keys(_).sort(function(w,T){return _[w]-_[T]})}(t,{placement:gs,boundary:f,rootBoundary:m,padding:h,flipVariations:w,allowedAutoPlacements:T}):gs)},[]),W=t.rects.reference,X=t.rects.popper,ie=new Map,xe=!0,Le=$[0],Pe=0;Pe<$.length;Pe++){var ot=$[Pe],it=Kr(ot),et=xh(ot)===gc,zt=[Mn,us].indexOf(it)>=0,ve=zt?"width":"height",J=Mh(t,{placement:ot,boundary:f,rootBoundary:m,altBoundary:y,padding:h}),ae=zt?et?hs:In:et?us:Mn;W[ve]>X[ve]&&(ae=kb(ae));var be=kb(ae),Ve=[];if(r&&Ve.push(J[it]<=0),a&&Ve.push(J[ae]<=0,J[be]<=0),Ve.every(function(vt){return vt})){Le=ot,xe=!1;break}ie.set(ot,Ve)}if(xe)for(var Bi=function(gs){var ki=$.find(function(ms){var On=ie.get(ms);if(On)return On.slice(0,gs).every(function(Yn){return Yn})});if(ki)return Le=ki,"break"},oi=w?3:1;oi>0&&"break"!==Bi(oi);oi--);t.placement!==Le&&(t.modifiersData[i]._skip=!0,t.placement=Le,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function s$(n,t,e){return void 0===e&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function r$(n){return[Mn,hs,us,In].some(function(t){return n[t]>=0})}const o$={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(n){var t=n.state,e=n.name,i=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,o=Mh(t,{elementContext:"reference"}),a=Mh(t,{altBoundary:!0}),l=s$(o,i),h=s$(a,s,r),f=r$(l),m=r$(h);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":m})}},a$={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(n){var t=n.state,i=n.name,s=n.options.offset,r=void 0===s?[0,0]:s,o=hM.reduce(function(f,m){return f[m]=function(n,t,e){var i=Kr(n),s=[In,Mn].indexOf(i)>=0?-1:1,r="function"==typeof e?e(Object.assign({},t,{placement:n})):e,o=r[0],a=r[1];return o=o||0,a=(a||0)*s,[In,hs].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}(m,t.rects,r),f},{}),a=o[t.placement],h=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=a.x,t.modifiersData.popperOffsets.y+=h),t.modifiersData[i]=o}},wM={name:"popperOffsets",enabled:!0,phase:"read",fn:function(n){var t=n.state;t.modifiersData[n.name]=i$({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},l$={name:"preventOverflow",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name,s=e.mainAxis,r=void 0===s||s,o=e.altAxis,a=void 0!==o&&o,y=e.tether,_=void 0===y||y,w=e.tetherOffset,T=void 0===w?0:w,D=Mh(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),R=Kr(t.placement),I=xh(t.placement),B=!I,$=mM(R),W=function(n){return"x"===n?"y":"x"}($),X=t.modifiersData.popperOffsets,ie=t.rects.reference,xe=t.rects.popper,Le="function"==typeof T?T(Object.assign({},t.rects,{placement:t.placement})):T,Pe="number"==typeof Le?{mainAxis:Le,altAxis:Le}:Object.assign({mainAxis:0,altAxis:0},Le),ot=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,it={x:0,y:0};if(X){if(r){var et,zt="y"===$?Mn:In,ve="y"===$?us:hs,J="y"===$?"height":"width",ae=X[$],be=ae+D[zt],Ve=ae-D[ve],Ot=_?-xe[J]/2:0,Bi=I===gc?ie[J]:xe[J],oi=I===gc?-xe[J]:-ie[J],un=t.elements.arrow,vt=_&&un?gM(un):{width:0,height:0},gs=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ki=gs[zt],ms=gs[ve],On=tg(0,ie[J],vt[J]),Yn=B?ie[J]/2-Ot-On-ki-Pe.mainAxis:Bi-On-ki-Pe.mainAxis,il=B?-ie[J]/2+Ot+On+ms+Pe.mainAxis:oi+On+ms+Pe.mainAxis,zh=t.elements.arrow&&eg(t.elements.arrow),Eg=null!=(et=null==ot?void 0:ot[$])?et:0,SS=ae+il-Eg,wg=tg(_?Eb(be,ae+Yn-Eg-(zh?"y"===$?zh.clientTop||0:zh.clientLeft||0:0)):be,ae,_?vc(Ve,SS):Ve);X[$]=wg,it[$]=wg-ae}if(a){var Cg,Xr=X[W],xc="y"===W?"height":"width",kg=Xr+D["x"===$?Mn:In],Pg=Xr-D["x"===$?us:hs],Kh=-1!==[Mn,In].indexOf(R),Ag=null!=(Cg=null==ot?void 0:ot[W])?Cg:0,Dg=Kh?kg:Xr-ie[xc]-xe[xc]-Ag+Pe.altAxis,Tg=Kh?Xr+ie[xc]+xe[xc]-Ag-Pe.altAxis:Pg,xg=_&&Kh?function(n,t,e){var i=tg(n,t,e);return i>e?e:i}(Dg,Xr,Tg):tg(_?Dg:kg,Xr,_?Tg:Pg);X[W]=xg,it[W]=xg-Xr}t.modifiersData[i]=it}},requiresIfExists:["offset"]};function F9(n,t,e){void 0===e&&(e=!1);var i=Fs(t),s=Fs(t)&&function(n){var t=n.getBoundingClientRect(),e=Dh(t.width)/n.offsetWidth||1,i=Dh(t.height)/n.offsetHeight||1;return 1!==e||1!==i}(t),r=Ua(t),o=Th(n,s,e),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!e)&&(("body"!==zr(t)||SM(r))&&(a=function(n){return n!==ds(n)&&Fs(n)?function(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):_M(n)}(t)),Fs(t)?((l=Th(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=bM(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function H9(n){var t=new Map,e=new Set,i=[];function s(r){e.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach(function(a){if(!e.has(a)){var l=t.get(a);l&&s(l)}}),i.push(r)}return n.forEach(function(r){t.set(r.name,r)}),n.forEach(function(r){e.has(r.name)||s(r)}),i}function G9(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var c$={placement:"bottom",modifiers:[],strategy:"absolute"};function u$(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function Pb(n){void 0===n&&(n={});var e=n.defaultModifiers,i=void 0===e?[]:e,s=n.defaultOptions,r=void 0===s?c$:s;return function(a,l,h){void 0===h&&(h=r);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},c$,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},m=[],y=!1,_={state:f,setOptions:function(R){var I="function"==typeof R?R(f.options):R;T(),f.options=Object.assign({},r,f.options,I),f.scrollParents={reference:mc(a)?ig(a):a.contextElement?ig(a.contextElement):[],popper:ig(l)};var B=function(n){var t=H9(n);return U3.reduce(function(e,i){return e.concat(t.filter(function(s){return s.phase===i}))},[])}(function(n){var t=n.reduce(function(e,i){var s=e[i.name];return e[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,f.options.modifiers)));return f.orderedModifiers=B.filter(function($){return $.enabled}),f.orderedModifiers.forEach(function(D){var I=D.options,$=D.effect;if("function"==typeof $){var W=$({state:f,name:D.name,instance:_,options:void 0===I?{}:I});m.push(W||function(){})}}),_.update()},forceUpdate:function(){if(!y){var R=f.elements,I=R.reference,B=R.popper;if(u$(I,B)){f.rects={reference:F9(I,eg(B),"fixed"===f.options.strategy),popper:gM(B)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(Pe){return f.modifiersData[Pe.name]=Object.assign({},Pe.data)});for(var $=0;$<f.orderedModifiers.length;$++)if(!0!==f.reset){var W=f.orderedModifiers[$],X=W.fn,ie=W.options;"function"==typeof X&&(f=X({state:f,options:void 0===ie?{}:ie,name:W.name,instance:_})||f)}else f.reset=!1,$=-1}}},update:G9(function(){return new Promise(function(D){_.forceUpdate(),D(f)})}),destroy:function(){T(),y=!0}};if(!u$(a,l))return _;function T(){m.forEach(function(D){return D()}),m=[]}return _.setOptions(h).then(function(D){!y&&h.onFirstUpdate&&h.onFirstUpdate(D)}),_}}var j9=Pb(),CM=Pb({defaultModifiers:[yM,wM,vM,fM,a$,n$,l$,J3,o$]}),K9=Pb({defaultModifiers:[yM,wM,vM,fM]});const ja=new Map,kM={set(n,t,e){ja.has(n)||ja.set(n,new Map);const i=ja.get(n);i.has(t)||0===i.size?i.set(t,e):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(n,t)=>ja.has(n)&&ja.get(n).get(t)||null,remove(n,t){if(!ja.has(n))return;const e=ja.get(n);e.delete(t),0===e.size&&ja.delete(n)}},PM="transitionend",h$=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),n),J9=n=>null==n?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),d$=n=>{n.dispatchEvent(new Event(PM))},zo=n=>!(!n||"object"!=typeof n)&&(void 0!==n.jquery&&(n=n[0]),void 0!==n.nodeType),Wa=n=>zo(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(h$(n)):null,Ih=n=>{if(!zo(n)||0===n.getClientRects().length)return!1;const t="visible"===getComputedStyle(n).getPropertyValue("visibility"),e=n.closest("details:not([open])");if(!e)return t;if(e!==n){const i=n.closest("summary");if(i&&i.parentNode!==e||null===i)return!1}return t},za=n=>!(n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("disabled"))||(void 0!==n.disabled?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),f$=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?f$(n.parentNode):null},Ab=()=>{},p$=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,AM=[],Hs=()=>"rtl"===document.documentElement.dir,qs=n=>{(n=>{"loading"===document.readyState?(AM.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of AM)t()}),AM.push(n)):n()})(()=>{const t=p$();if(t){const e=n.NAME,i=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=i,n.jQueryInterface)}})},Qn=(n,t=[],e=n)=>"function"==typeof n?n(...t):e,g$=(n,t,e=!0)=>{if(!e)return void Qn(n);const s=(n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n);const i=Number.parseFloat(t),s=Number.parseFloat(e);return i||s?(t=t.split(",")[0],e=e.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(e))):0})(t)+5;let r=!1;const o=({target:a})=>{a===t&&(r=!0,t.removeEventListener(PM,o),Qn(n))};t.addEventListener(PM,o),setTimeout(()=>{r||d$(t)},s)},DM=(n,t,e,i)=>{const s=n.length;let r=n.indexOf(t);return-1===r?!e&&i?n[s-1]:n[0]:(r+=e?1:-1,i&&(r=(r+s)%s),n[Math.max(0,Math.min(r,s-1))])},tz=/[^.]*(?=\..*)\.|.*/,iz=/\..*/,nz=/::\d+$/,TM={};let m$=1;const v$={mouseenter:"mouseover",mouseleave:"mouseout"},sz=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function y$(n,t){return t&&`${t}::${m$++}`||n.uidEvent||m$++}function _$(n){const t=y$(n);return n.uidEvent=t,TM[t]=TM[t]||{},TM[t]}function b$(n,t,e=null){return Object.values(n).find(i=>i.callable===t&&i.delegationSelector===e)}function S$(n,t,e){const i="string"==typeof t,s=i?e:t||e;let r=w$(n);return sz.has(r)||(r=n),[i,s,r]}function E$(n,t,e,i,s){if("string"!=typeof t||!n)return;let[r,o,a]=S$(t,e,i);var w;t in v$&&(w=o,o=function(T){if(!T.relatedTarget||T.relatedTarget!==T.delegateTarget&&!T.delegateTarget.contains(T.relatedTarget))return w.call(this,T)});const l=_$(n),h=l[a]||(l[a]={}),f=b$(h,o,r?e:null);if(f)return void(f.oneOff=f.oneOff&&s);const m=y$(o,t.replace(tz,"")),y=r?function(n,t,e){return function i(s){const r=n.querySelectorAll(t);for(let{target:o}=s;o&&o!==this;o=o.parentNode)for(const a of r)if(a===o)return MM(s,{delegateTarget:o}),i.oneOff&&Y.off(n,s.type,t,e),e.apply(o,[s])}}(n,e,o):function(n,t){return function e(i){return MM(i,{delegateTarget:n}),e.oneOff&&Y.off(n,i.type,t),t.apply(n,[i])}}(n,o);y.delegationSelector=r?e:null,y.callable=o,y.oneOff=s,y.uidEvent=m,h[m]=y,n.addEventListener(a,y,r)}function xM(n,t,e,i,s){const r=b$(t[e],i,s);!r||(n.removeEventListener(e,r,Boolean(s)),delete t[e][r.uidEvent])}function az(n,t,e,i){const s=t[e]||{};for(const[r,o]of Object.entries(s))r.includes(i)&&xM(n,t,e,o.callable,o.delegationSelector)}function w$(n){return n=n.replace(iz,""),v$[n]||n}const Y={on(n,t,e,i){E$(n,t,e,i,!1)},one(n,t,e,i){E$(n,t,e,i,!0)},off(n,t,e,i){if("string"!=typeof t||!n)return;const[s,r,o]=S$(t,e,i),a=o!==t,l=_$(n),h=l[o]||{},f=t.startsWith(".");if(void 0===r){if(f)for(const m of Object.keys(l))az(n,l,m,t.slice(1));for(const[m,y]of Object.entries(h)){const _=m.replace(nz,"");(!a||t.includes(_))&&xM(n,l,o,y.callable,y.delegationSelector)}}else{if(!Object.keys(h).length)return;xM(n,l,o,r,s?e:null)}},trigger(n,t,e){if("string"!=typeof t||!n)return null;const i=p$();let o=null,a=!0,l=!0,h=!1;t!==w$(t)&&i&&(o=i.Event(t,e),i(n).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),h=o.isDefaultPrevented());const f=MM(new Event(t,{bubbles:a,cancelable:!0}),e);return h&&f.preventDefault(),l&&n.dispatchEvent(f),f.defaultPrevented&&o&&o.preventDefault(),f}};function MM(n,t={}){for(const[e,i]of Object.entries(t))try{n[e]=i}catch(s){Object.defineProperty(n,e,{configurable:!0,get:()=>i})}return n}function C$(n){if("true"===n)return!0;if("false"===n)return!1;if(n===Number(n).toString())return Number(n);if(""===n||"null"===n)return null;if("string"!=typeof n)return n;try{return JSON.parse(decodeURIComponent(n))}catch(t){return n}}function IM(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Ko={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${IM(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${IM(t)}`)},getDataAttributes(n){if(!n)return{};const t={},e=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of e){let s=i.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),t[s]=C$(n.dataset[i])}return t},getDataAttribute:(n,t)=>C$(n.getAttribute(`data-bs-${IM(t)}`))};class sg{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=zo(e)?Ko.getDataAttribute(e,"config"):{};return hn(hn(hn(hn({},this.constructor.Default),"object"==typeof i?i:{}),zo(e)?Ko.getDataAttributes(e):{}),"object"==typeof t?t:{})}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,s]of Object.entries(e)){const r=t[i],o=zo(r)?"element":J9(r);if(!new RegExp(s).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${s}".`)}}}class Er extends sg{constructor(t,e){super(),(t=Wa(t))&&(this._element=t,this._config=this._getConfig(e),kM.set(this._element,this.constructor.DATA_KEY,this))}dispose(){kM.remove(this._element,this.constructor.DATA_KEY),Y.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){g$(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return kM.get(Wa(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.1"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const OM=n=>{let t=n.getAttribute("data-bs-target");if(!t||"#"===t){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&"#"!==e?e.trim():null}return h$(t)},we={find:(n,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,n)),findOne:(n,t=document.documentElement)=>Element.prototype.querySelector.call(t,n),children:(n,t)=>[].concat(...n.children).filter(e=>e.matches(t)),parents(n,t){const e=[];let i=n.parentNode.closest(t);for(;i;)e.push(i),i=i.parentNode.closest(t);return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(e=>!za(e)&&Ih(e))},getSelectorFromElement(n){const t=OM(n);return t&&we.findOne(t)?t:null},getElementFromSelector(n){const t=OM(n);return t?we.findOne(t):null},getMultipleElementsFromSelector(n){const t=OM(n);return t?we.find(t):[]}},Db=(n,t="hide")=>{const i=n.NAME;Y.on(document,`click.dismiss${n.EVENT_KEY}`,`[data-bs-dismiss="${i}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),za(this))return;const r=we.getElementFromSelector(this)||this.closest(`.${i}`);n.getOrCreateInstance(r)[t]()})},k$=".bs.alert",uz=`close${k$}`,hz=`closed${k$}`;class Tb extends Er{static get NAME(){return"alert"}close(){if(Y.trigger(this._element,uz).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),Y.trigger(this._element,hz),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=Tb.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Db(Tb,"close"),qs(Tb);const P$='[data-bs-toggle="button"]';class xb extends Er{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const e=xb.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}Y.on(document,"click.bs.button.data-api",P$,n=>{n.preventDefault();const t=n.target.closest(P$);xb.getOrCreateInstance(t).toggle()}),qs(xb);const Oh=".bs.swipe",bz=`touchstart${Oh}`,Sz=`touchmove${Oh}`,Ez=`touchend${Oh}`,wz=`pointerdown${Oh}`,Cz=`pointerup${Oh}`,Tz={endCallback:null,leftCallback:null,rightCallback:null},xz={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Mb extends sg{constructor(t,e){super(),this._element=t,t&&Mb.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Tz}static get DefaultType(){return xz}static get NAME(){return"swipe"}dispose(){Y.off(this._element,Oh)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Qn(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&Qn(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Y.on(this._element,wz,t=>this._start(t)),Y.on(this._element,Cz,t=>this._end(t)),this._element.classList.add("pointer-event")):(Y.on(this._element,bz,t=>this._start(t)),Y.on(this._element,Sz,t=>this._move(t)),Y.on(this._element,Ez,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ka=".bs.carousel",A$=".data-api",rg="next",Rh="prev",Nh="left",Ib="right",Nz=`slide${Ka}`,RM=`slid${Ka}`,Lz=`keydown${Ka}`,Bz=`mouseenter${Ka}`,$z=`mouseleave${Ka}`,Vz=`dragstart${Ka}`,Fz=`load${Ka}${A$}`,Hz=`click${Ka}${A$}`,D$="carousel",Ob="active",Zz={ArrowLeft:Ib,ArrowRight:Nh},Xz={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},eK={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class og extends Er{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=we.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===D$&&this.cycle()}static get Default(){return Xz}static get DefaultType(){return eK}static get NAME(){return"carousel"}next(){this._slide(rg)}nextWhenVisible(){!document.hidden&&Ih(this._element)&&this.next()}prev(){this._slide(Rh)}pause(){this._isSliding&&d$(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Y.one(this._element,RM,()=>this.cycle());this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void Y.one(this._element,RM,()=>this.to(t));const i=this._getItemIndex(this._getActive());i!==t&&this._slide(t>i?rg:Rh,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&Y.on(this._element,Lz,t=>this._keydown(t)),"hover"===this._config.pause&&(Y.on(this._element,Bz,()=>this.pause()),Y.on(this._element,$z,()=>this._maybeEnableCycle())),this._config.touch&&Mb.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of we.find(".carousel-item img",this._element))Y.on(i,Vz,s=>s.preventDefault());this._swipeHelper=new Mb(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Nh)),rightCallback:()=>this._slide(this._directionToOrder(Ib)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=Zz[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=we.findOne(".active",this._indicatorsElement);e.classList.remove(Ob),e.removeAttribute("aria-current");const i=we.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(Ob),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),s=t===rg,r=e||DM(this._getItems(),i,s,this._config.wrap);if(r===i)return;const o=this._getItemIndex(r),a=_=>Y.trigger(this._element,_,{relatedTarget:r,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:o});if(a(Nz).defaultPrevented||!i||!r)return;const h=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const f=s?"carousel-item-start":"carousel-item-end",m=s?"carousel-item-next":"carousel-item-prev";r.classList.add(m),i.classList.add(f),r.classList.add(f),this._queueCallback(()=>{r.classList.remove(f,m),r.classList.add(Ob),i.classList.remove(Ob,m,f),this._isSliding=!1,a(RM)},i,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return we.findOne(".active.carousel-item",this._element)}_getItems(){return we.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Hs()?t===Nh?Rh:rg:t===Nh?rg:Rh}_orderToDirection(t){return Hs()?t===Rh?Nh:Ib:t===Rh?Ib:Nh}static jQueryInterface(t){return this.each(function(){const e=og.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)})}}Y.on(document,Hz,"[data-bs-slide], [data-bs-slide-to]",function(n){const t=we.getElementFromSelector(this);if(!t||!t.classList.contains(D$))return;n.preventDefault();const e=og.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");return i?(e.to(i),void e._maybeEnableCycle()):"next"===Ko.getDataAttribute(this,"slide")?(e.next(),void e._maybeEnableCycle()):(e.prev(),void e._maybeEnableCycle())}),Y.on(window,Fz,()=>{const n=we.find('[data-bs-ride="carousel"]');for(const t of n)og.getOrCreateInstance(t)}),qs(og);const ag=".bs.collapse",nK=`show${ag}`,sK=`shown${ag}`,rK=`hide${ag}`,oK=`hidden${ag}`,aK=`click${ag}.data-api`,NM="show",Lh="collapse",Rb="collapsing",cK=`:scope .${Lh} .${Lh}`,LM='[data-bs-toggle="collapse"]',pK={parent:null,toggle:!0},gK={parent:"(null|element)",toggle:"boolean"};class lg extends Er{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=we.find(LM);for(const s of i){const r=we.getSelectorFromElement(s),o=we.find(r).filter(a=>a===this._element);null!==r&&o.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return pK}static get DefaultType(){return gK}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(a=>a!==this._element).map(a=>lg.getOrCreateInstance(a,{toggle:!1}))),t.length&&t[0]._isTransitioning||Y.trigger(this._element,nK).defaultPrevented)return;for(const a of t)a.hide();const i=this._getDimension();this._element.classList.remove(Lh),this._element.classList.add(Rb),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Rb),this._element.classList.add(Lh,NM),this._element.style[i]="",Y.trigger(this._element,sK)},this._element,!0),this._element.style[i]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||Y.trigger(this._element,rK).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,this._element.classList.add(Rb),this._element.classList.remove(Lh,NM);for(const s of this._triggerArray){const r=we.getElementFromSelector(s);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Rb),this._element.classList.add(Lh),Y.trigger(this._element,oK)},this._element,!0)}_isShown(t=this._element){return t.classList.contains(NM)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=Wa(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(LM);for(const e of t){const i=we.getElementFromSelector(e);i&&this._addAriaAndCollapsedClass([e],this._isShown(i))}}_getFirstLevelChildren(t){const e=we.find(cK,this._config.parent);return we.find(t,this._config.parent).filter(i=>!e.includes(i))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=lg.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}})}}Y.on(document,aK,LM,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();for(const t of we.getMultipleElementsFromSelector(this))lg.getOrCreateInstance(t,{toggle:!1}).toggle()}),qs(lg);const M$="dropdown",yc=".bs.dropdown",BM=".data-api",vK="ArrowUp",O$="ArrowDown",_K=`hide${yc}`,bK=`hidden${yc}`,SK=`show${yc}`,EK=`shown${yc}`,R$=`click${yc}${BM}`,N$=`keydown${yc}${BM}`,wK=`keyup${yc}${BM}`,Bh="show",_c='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',TK=`${_c}.show`,Nb=".dropdown-menu",OK=Hs()?"top-end":"top-start",RK=Hs()?"top-start":"top-end",NK=Hs()?"bottom-end":"bottom-start",LK=Hs()?"bottom-start":"bottom-end",BK=Hs()?"left-start":"right-start",$K=Hs()?"right-start":"left-start",HK={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},qK={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Qr extends Er{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=we.next(this._element,Nb)[0]||we.prev(this._element,Nb)[0]||we.findOne(Nb,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return HK}static get DefaultType(){return qK}static get NAME(){return M$}toggle(){return this._isShown()?this.hide():this.show()}show(){if(za(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!Y.trigger(this._element,SK,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const i of[].concat(...document.body.children))Y.on(i,"mouseover",Ab);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Bh),this._element.classList.add(Bh),Y.trigger(this._element,EK,t)}}hide(){!za(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!Y.trigger(this._element,_K,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))Y.off(i,"mouseover",Ab);this._popper&&this._popper.destroy(),this._menu.classList.remove(Bh),this._element.classList.remove(Bh),this._element.setAttribute("aria-expanded","false"),Ko.removeDataAttribute(this._menu,"popper"),Y.trigger(this._element,bK,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!zo(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${M$.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===Jn)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:zo(this._config.reference)?t=Wa(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=CM(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Bh)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return BK;if(t.classList.contains("dropstart"))return $K;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?RK:OK:e?LK:NK}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Ko.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),hn(hn({},t),Qn(this._config.popperConfig,[t]))}_selectMenuItem({key:t,target:e}){const i=we.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(s=>Ih(s));!i.length||DM(i,e,t===O$,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=Qr.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=we.find(TK);for(const i of e){const s=Qr.getInstance(i);if(!s||!1===s._config.autoClose)continue;const r=t.composedPath(),o=r.includes(s._menu);if(r.includes(s._element)||"inside"===s._config.autoClose&&!o||"outside"===s._config.autoClose&&o||s._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const a={relatedTarget:s._element};"click"===t.type&&(a.clickEvent=t),s._completeHide(a)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,s=[vK,O$].includes(t.key);if(!s&&!i||e&&!i)return;t.preventDefault();const r=this.matches(_c)?this:we.prev(this,_c)[0]||we.next(this,_c)[0]||we.findOne(_c,t.delegateTarget.parentNode),o=Qr.getOrCreateInstance(r);if(s)return t.stopPropagation(),o.show(),void o._selectMenuItem(t);o._isShown()&&(t.stopPropagation(),o.hide(),r.focus())}}Y.on(document,N$,_c,Qr.dataApiKeydownHandler),Y.on(document,N$,Nb,Qr.dataApiKeydownHandler),Y.on(document,R$,Qr.clearMenus),Y.on(document,wK,Qr.clearMenus),Y.on(document,R$,_c,function(n){n.preventDefault(),Qr.getOrCreateInstance(this).toggle()}),qs(Qr);const L$="backdrop",$$=`mousedown.bs.${L$}`,UK={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},jK={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class V$ extends sg{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return UK}static get DefaultType(){return jK}static get NAME(){return L$}show(t){if(!this._config.isVisible)return void Qn(t);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Qn(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Qn(t)})):Qn(t)}dispose(){!this._isAppended||(Y.off(this._element,$$),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Wa(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),Y.on(t,$$,()=>{Qn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){g$(t,this._getElement(),this._config.isAnimated)}}const Lb=".bs.focustrap",zK=`focusin${Lb}`,KK=`keydown.tab${Lb}`,F$="backward",JK={autofocus:!0,trapElement:null},ZK={autofocus:"boolean",trapElement:"element"};class H$ extends sg{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return JK}static get DefaultType(){return ZK}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Y.off(document,Lb),Y.on(document,zK,t=>this._handleFocusin(t)),Y.on(document,KK,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,Y.off(document,Lb))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=we.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===F$?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?F$:"forward")}}const q$=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",G$=".sticky-top",Bb="padding-right",U$="margin-right";class $M{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Bb,e=>e+t),this._setElementAttributes(q$,Bb,e=>e+t),this._setElementAttributes(G$,U$,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Bb),this._resetElementAttributes(q$,Bb),this._resetElementAttributes(G$,U$)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const s=this.getWidth();this._applyManipulationCallback(t,o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+s)return;this._saveInitialAttribute(o,e);const a=window.getComputedStyle(o).getPropertyValue(e);o.style.setProperty(e,`${i(Number.parseFloat(a))}px`)})}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&Ko.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,s=>{const r=Ko.getDataAttribute(s,e);null!==r?(Ko.removeDataAttribute(s,e),s.style.setProperty(e,r)):s.style.removeProperty(e)})}_applyManipulationCallback(t,e){if(zo(t))e(t);else for(const i of we.find(t,this._element))e(i)}}const Gs=".bs.modal",iQ=`hide${Gs}`,nQ=`hidePrevented${Gs}`,j$=`hidden${Gs}`,W$=`show${Gs}`,sQ=`shown${Gs}`,rQ=`resize${Gs}`,oQ=`click.dismiss${Gs}`,aQ=`mousedown.dismiss${Gs}`,lQ=`keydown.dismiss${Gs}`,cQ=`click${Gs}.data-api`,z$="modal-open",VM="modal-static",gQ={backdrop:!0,focus:!0,keyboard:!0},mQ={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class bc extends Er{constructor(t,e){super(t,e),this._dialog=we.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new $M,this._addEventListeners()}static get Default(){return gQ}static get DefaultType(){return mQ}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||Y.trigger(this._element,W$,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(z$),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||Y.trigger(this._element,iQ).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Y.off(window,Gs),Y.off(this._dialog,Gs),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new V$({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new H$({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=we.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Y.trigger(this._element,sQ,{relatedTarget:t})},this._dialog,this._isAnimated())}_addEventListeners(){Y.on(this._element,lQ,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Y.on(window,rQ,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Y.on(this._element,aQ,t=>{Y.one(this._element,oQ,e=>{if(this._element===t.target&&this._element===e.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(z$),this._resetAdjustments(),this._scrollBar.reset(),Y.trigger(this._element,j$)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Y.trigger(this._element,nQ).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(VM)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(VM),this._queueCallback(()=>{this._element.classList.remove(VM),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const s=Hs()?"paddingLeft":"paddingRight";this._element.style[s]=`${e}px`}if(!i&&t){const s=Hs()?"paddingRight":"paddingLeft";this._element.style[s]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=bc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](e)}})}}Y.on(document,cQ,'[data-bs-toggle="modal"]',function(n){const t=we.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),Y.one(t,W$,s=>{s.defaultPrevented||Y.one(t,j$,()=>{Ih(this)&&this.focus()})});const e=we.findOne(".modal.show");e&&bc.getInstance(e).hide(),bc.getOrCreateInstance(t).toggle(this)}),Db(bc),qs(bc);const Qo=".bs.offcanvas",Q$=".data-api",yQ=`load${Qo}${Q$}`,J$="showing",X$=".offcanvas.show",SQ=`show${Qo}`,EQ=`shown${Qo}`,wQ=`hide${Qo}`,eV=`hidePrevented${Qo}`,tV=`hidden${Qo}`,CQ=`resize${Qo}`,kQ=`click${Qo}${Q$}`,PQ=`keydown.dismiss${Qo}`,DQ={backdrop:!0,keyboard:!0,scroll:!1},TQ={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Qa extends Er{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return DQ}static get DefaultType(){return TQ}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||Y.trigger(this._element,SQ,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new $M).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(J$),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(J$),Y.trigger(this._element,EQ,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&!Y.trigger(this._element,wQ).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new $M).reset(),Y.trigger(this._element,tV)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new V$({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():Y.trigger(this._element,eV)}:null})}_initializeFocusTrap(){return new H$({trapElement:this._element})}_addEventListeners(){Y.on(this._element,PQ,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();Y.trigger(this._element,eV)}})}static jQueryInterface(t){return this.each(function(){const e=Qa.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Y.on(document,kQ,'[data-bs-toggle="offcanvas"]',function(n){const t=we.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),za(this))return;Y.one(t,tV,()=>{Ih(this)&&this.focus()});const e=we.findOne(X$);e&&e!==t&&Qa.getInstance(e).hide(),Qa.getOrCreateInstance(t).toggle(this)}),Y.on(window,yQ,()=>{for(const n of we.find(X$))Qa.getOrCreateInstance(n).show()}),Y.on(window,CQ,()=>{for(const n of we.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(n).position&&Qa.getOrCreateInstance(n).hide()}),Db(Qa),qs(Qa);const iV={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},xQ=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),MQ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,IQ=(n,t)=>{const e=n.nodeName.toLowerCase();return t.includes(e)?!xQ.has(e)||Boolean(MQ.test(n.nodeValue)):t.filter(i=>i instanceof RegExp).some(i=>i.test(e))},NQ={allowList:iV,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},LQ={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},BQ={entry:"(string|element|function|null)",selector:"(string|element)"};class $Q extends sg{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return NQ}static get DefaultType(){return LQ}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content=hn(hn({},this._config.content),t),this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[s,r]of Object.entries(this._config.content))this._setContent(t,r,s);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},BQ)}_setContent(t,e,i){const s=we.findOne(i,t);if(s){if(!(e=this._resolvePossibleFunction(e)))return void s.remove();if(zo(e))return void this._putElementInTemplate(Wa(e),s);if(this._config.html)return void(s.innerHTML=this._maybeSanitize(e));s.textContent=e}}_maybeSanitize(t){return this._config.sanitize?function(n,t,e){if(!n.length)return n;if(e&&"function"==typeof e)return e(n);const s=(new window.DOMParser).parseFromString(n,"text/html"),r=[].concat(...s.body.querySelectorAll("*"));for(const o of r){const a=o.nodeName.toLowerCase();if(!Object.keys(t).includes(a)){o.remove();continue}const l=[].concat(...o.attributes),h=[].concat(t["*"]||[],t[a]||[]);for(const f of l)IQ(f,h)||o.removeAttribute(f.nodeName)}return s.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Qn(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const FQ=new Set(["sanitize","allowList","sanitizeFn"]),FM="fade",$b="show",sV="hide.bs.modal",cg="hover",HM="focus",tY={AUTO:"auto",TOP:"top",RIGHT:Hs()?"left":"right",BOTTOM:"bottom",LEFT:Hs()?"right":"left"},iY={allowList:iV,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},nY={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class $h extends Er{constructor(t,e){if(void 0===Jn)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return iY}static get DefaultType(){return nY}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Y.off(this._element.closest(".modal"),sV,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=Y.trigger(this._element,this.constructor.eventName("show")),i=(f$(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(s),Y.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(s),s.classList.add($b),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))Y.on(a,"mouseover",Ab);this._queueCallback(()=>{Y.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Y.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove($b),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))Y.off(s,"mouseover",Ab);this._activeTrigger.click=!1,this._activeTrigger[HM]=!1,this._activeTrigger[cg]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Y.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(FM,$b),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(n=>{do{n+=Math.floor(1e6*Math.random())}while(document.getElementById(n));return n})(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(FM),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new $Q(CS(hn({},this._config),{content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(FM)}_isShown(){return this.tip&&this.tip.classList.contains($b)}_createPopper(t){const e=Qn(this._config.placement,[this,t,this._element]),i=tY[e.toUpperCase()];return CM(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return Qn(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return hn(hn({},e),Qn(this._config.popperConfig,[e]))}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)Y.on(this._element,this.constructor.eventName("click"),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if("manual"!==e){const i=this.constructor.eventName(e===cg?"mouseenter":"focusin"),s=this.constructor.eventName(e===cg?"mouseleave":"focusout");Y.on(this._element,i,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger["focusin"===r.type?HM:cg]=!0,o._enter()}),Y.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger["focusout"===r.type?HM:cg]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Y.on(this._element.closest(".modal"),sV,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");!t||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=Ko.getDataAttributes(this._element);for(const i of Object.keys(e))FQ.has(i)&&delete e[i];return t=hn(hn({},e),"object"==typeof t&&t?t:{}),t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:Wa(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=$h.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}qs($h);const aY=CS(hn({},$h.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),lY=CS(hn({},$h.DefaultType),{content:"(null|string|element|function)"});class qM extends $h{static get Default(){return aY}static get DefaultType(){return lY}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=qM.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}qs(qM);const GM=".bs.scrollspy",hY=`activate${GM}`,rV=`click${GM}`,dY=`load${GM}.data-api`,Vh="active",UM="[href]",oV=".nav-link",mY=`${oV}, .nav-item > ${oV}, .list-group-item`,_Y={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},bY={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Vb extends Er{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return _Y}static get DefaultType(){return bY}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Wa(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(Y.off(this._config.target,rV),Y.on(this._config.target,rV,UM,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,s=e.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:s,behavior:"smooth"});i.scrollTop=s}}))}_getNewObserver(){return new IntersectionObserver(e=>this._observerCallback(e),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(t){const e=o=>this._targetLinks.get(`#${o.target.id}`),i=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(e(o))},s=(this._rootElement||document.documentElement).scrollTop,r=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&a){if(i(o),!s)return}else!r&&!a&&i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=we.find(UM,this._config.target);for(const e of t){if(!e.hash||za(e))continue;const i=we.findOne(decodeURI(e.hash),this._element);Ih(i)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,i))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Vh),this._activateParents(t),Y.trigger(this._element,hY,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))we.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(Vh);else for(const e of we.parents(t,".nav, .list-group"))for(const i of we.prev(e,mY))i.classList.add(Vh)}_clearActiveClass(t){t.classList.remove(Vh);const e=we.find(`${UM}.${Vh}`,t);for(const i of e)i.classList.remove(Vh)}static jQueryInterface(t){return this.each(function(){const e=Vb.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}Y.on(window,dY,()=>{for(const n of we.find('[data-bs-spy="scroll"]'))Vb.getOrCreateInstance(n)}),qs(Vb);const Sc=".bs.tab",EY=`hide${Sc}`,wY=`hidden${Sc}`,CY=`show${Sc}`,kY=`shown${Sc}`,PY=`click${Sc}`,AY=`keydown${Sc}`,DY=`load${Sc}`,TY="ArrowLeft",aV="ArrowRight",xY="ArrowUp",lV="ArrowDown",jM="Home",cV="End",Ec="active",WM="show",zM=":not(.dropdown-toggle)",hV='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',KM=`.nav-link${zM}, .list-group-item${zM}, [role="tab"]${zM}, ${hV}`,BY=`.${Ec}[data-bs-toggle="tab"], .${Ec}[data-bs-toggle="pill"], .${Ec}[data-bs-toggle="list"]`;class Fh extends Er{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Y.on(this._element,AY,e=>this._keydown(e)))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?Y.trigger(e,EY,{relatedTarget:t}):null;Y.trigger(t,CY,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(Ec),this._activate(we.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),Y.trigger(t,kY,{relatedTarget:e})):t.classList.add(WM)},t,t.classList.contains("fade")))}_deactivate(t,e){t&&(t.classList.remove(Ec),t.blur(),this._deactivate(we.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),Y.trigger(t,wY,{relatedTarget:e})):t.classList.remove(WM)},t,t.classList.contains("fade")))}_keydown(t){if(![TY,aV,xY,lV,jM,cV].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(s=>!za(s));let i;if([jM,cV].includes(t.key))i=e[t.key===jM?0:e.length-1];else{const s=[aV,lV].includes(t.key);i=DM(e,t.target,s,!0)}i&&(i.focus({preventScroll:!0}),Fh.getOrCreateInstance(i).show())}_getChildren(){return we.find(KM,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=we.getElementFromSelector(t);!e||(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains("dropdown"))return;const s=(r,o)=>{const a=we.findOne(r,i);a&&a.classList.toggle(o,e)};s(".dropdown-toggle",Ec),s(".dropdown-menu",WM),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(Ec)}_getInnerElement(t){return t.matches(KM)?t:we.findOne(KM,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){const e=Fh.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}Y.on(document,PY,hV,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!za(this)&&Fh.getOrCreateInstance(this).show()}),Y.on(window,DY,()=>{for(const n of we.find(BY))Fh.getOrCreateInstance(n)}),qs(Fh);const Ya=".bs.toast",VY=`mouseover${Ya}`,FY=`mouseout${Ya}`,HY=`focusin${Ya}`,qY=`focusout${Ya}`,GY=`hide${Ya}`,UY=`hidden${Ya}`,jY=`show${Ya}`,WY=`shown${Ya}`,Fb="show",Hb="showing",KY={animation:"boolean",autohide:"boolean",delay:"number"},QY={animation:!0,autohide:!0,delay:5e3};class qb extends Er{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return QY}static get DefaultType(){return KY}static get NAME(){return"toast"}show(){Y.trigger(this._element,jY).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Fb,Hb),this._queueCallback(()=>{this._element.classList.remove(Hb),Y.trigger(this._element,WY),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Y.trigger(this._element,GY).defaultPrevented&&(this._element.classList.add(Hb),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Hb,Fb),Y.trigger(this._element,UY)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Fb),super.dispose()}isShown(){return this._element.classList.contains(Fb)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){Y.on(this._element,VY,t=>this._onInteraction(t,!0)),Y.on(this._element,FY,t=>this._onInteraction(t,!1)),Y.on(this._element,HY,t=>this._onInteraction(t,!0)),Y.on(this._element,qY,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=qb.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}})}}function Us(n){return null!=n&&"false"!=`${n}`}function wc(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Li(n){return n instanceof $t?n.nativeElement:n}function Cc(...n){let t=n[n.length-1];return ol(t)?(n.pop(),ta(n,t)):ia(n)}function QM(n,t,e,i){return M(e)&&(i=e,e=void 0),i?QM(n,t,e).pipe(vs(s=>nl(s)?i(...s):i(s))):new Ye(s=>{fV(n,t,function(o){s.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},s,e)})}function fV(n,t,e,i,s){let r;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const o=n;n.addEventListener(t,e,s),r=()=>o.removeEventListener(t,e,s)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const o=n;n.on(t,e),r=()=>o.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const o=n;n.addListener(t,e),r=()=>o.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let o=0,a=n.length;o<a;o++)fV(n[o],t,e,i,s)}i.add(r)}Db(qb),qs(qb);class tJ extends tt{constructor(t,e){super()}schedule(t,e=0){return this}}class Gb extends tJ{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(r){i=!0,s=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let pV=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,s){return new this.SchedulerAction(this,e).schedule(s,i)}}return n.now=()=>Date.now(),n})();class wr extends pV{constructor(t,e=pV.now){super(t,()=>wr.delegate&&wr.delegate!==this?wr.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return wr.delegate&&wr.delegate!==this?wr.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const gV=new class extends wr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends Gb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let sJ=1;const rJ=Promise.resolve(),Ub={};function mV(n){return n in Ub&&(delete Ub[n],!0)}const vV={setImmediate(n){const t=sJ++;return Ub[t]=!0,rJ.then(()=>mV(t)&&n()),t},clearImmediate(n){mV(n)}},ug=(new class extends wr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends Gb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=vV.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(vV.clearImmediate(e),t.scheduled=void 0)}}),new wr(Gb));class dJ{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new fJ(t,this.durationSelector))}}class fJ extends Nc{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(t)}catch(s){return this.destination.error(s)}const i=Qi(e,new Rn(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function YM(n){return!nl(n)&&n-parseFloat(n)+1>=0}function gJ(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function JM(n,t=ug){return function(n){return function(e){return e.lift(new dJ(n))}}(()=>function(n=0,t,e){let i=-1;return YM(t)?i=Number(t)<1?1:Number(t):ol(t)&&(e=t),ol(e)||(e=ug),new Ye(s=>{const r=YM(n)?n:+n-e.now();return e.schedule(gJ,r,{index:0,period:i,subscriber:s})})}(n,t))}function bV(n,t){return function(i){return i.lift(new mJ(n,t))}}class mJ{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new vJ(t,this.predicate,this.thisArg))}}class vJ extends Rt{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Ja(n){return t=>t.lift(new yJ(n))}class yJ{constructor(t){this.notifier=t}call(t,e){const i=new _J(t),s=Qi(this.notifier,new Rn(i));return s&&!i.seenValue?(i.add(s),e.subscribe(i)):i}}class _J extends Nc{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function SV(...n){return $g(1)(Cc(...n))}function hg(...n){const t=n[n.length-1];return ol(t)?(n.pop(),e=>SV(n,e,t)):e=>SV(n,e)}function ZM(n,t){return"function"==typeof t?e=>e.pipe(ZM((i,s)=>Rc(n(i,s)).pipe(vs((r,o)=>t(i,r,s,o))))):e=>e.lift(new CJ(n))}class CJ{constructor(t){this.project=t}call(t,e){return e.subscribe(new kJ(t,this.project))}}class kJ extends Nc{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Rn(this),s=this.destination;s.add(i),this.innerSubscription=Qi(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}new class extends wr{}(class extends Gb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});const TJ=new Ye(n=>n.complete());function EV(n){return n?function(n){return new Ye(t=>n.schedule(()=>t.complete()))}(n):TJ}class js{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return Cc(this.value);case"E":return function(n,t){return new Ye(e=>e.error(n))}(this.error);case"C":return EV()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new js("N",t):js.undefinedValueNotification}static createError(t){return new js("E",void 0,t)}static createComplete(){return js.completeNotification}}let XM;js.completeNotification=new js("C"),js.undefinedValueNotification=new js("N",void 0);try{XM="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){XM=!1}let dg,eI,Ws=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===vB}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!XM)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(q(dh))},n.\u0275prov=le({factory:function(){return new n(q(dh))},token:n,providedIn:"root"}),n})();function fg(n){return function(){if(null==dg&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>dg=!0}))}finally{dg=dg||!1}return dg}()?n:!!n.capture}function tI(n){if(function(){if(null==eI){const n="undefined"!=typeof document?document.head:null;eI=!(!n||!n.createShadowRoot&&!n.attachShadow)}return eI}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Yr(n){return n.composedPath?n.composedPath()[0]:n.target}const kV=new _e("cdk-dir-doc",{providedIn:"root",factory:function(){return bE(Xe)}});let gg=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new mt,e){const s=e.documentElement?e.documentElement.dir:null,r=(e.body?e.body.dir:null)||s;this.value="ltr"===r||"rtl"===r?r:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(q(kV,8))},n.\u0275prov=le({factory:function(){return new n(q(kV,8))},token:n,providedIn:"root"}),n})(),iI=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new Ze,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ye(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(JM(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Cc()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(bV(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=Li(i),r=e.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>QM(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(q(Ke),q(Ws),q(Xe,8))},n.\u0275prov=le({factory:function(){return new n(q(Ke),q(Ws),q(Xe,8))},token:n,providedIn:"root"}),n})(),nI=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new Ze,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,r=s.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-r.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(JM(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(q(Ws),q(Ke),q(Xe,8))},n.\u0275prov=le({factory:function(){return new n(q(Ws),q(Ke),q(Xe,8))},token:n,providedIn:"root"}),n})(),sI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ti({type:n}),n.\u0275inj=jt({}),n})();const cZ=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function rI(n){return t=>0===n?EV():t.lift(new uZ(n))}class uZ{constructor(t){if(this.total=t,this.total<0)throw new cZ}call(t,e){return e.subscribe(new hZ(t,this.total))}}class hZ extends Rt{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function UZ(n){const{subscriber:t,counter:e,period:i}=n;t.next(e),this.schedule({subscriber:t,counter:e+1,period:i},i)}function Za(){}"undefined"!=typeof Element&&Element;class WZ{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new zZ(t,this.nextOrObserver,this.error,this.complete))}}class zZ extends Rt{constructor(t,e,i,s){super(t),this._tapNext=Za,this._tapError=Za,this._tapComplete=Za,this._tapError=i||Za,this._tapComplete=s||Za,M(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Za,this._tapError=e.error||Za,this._tapComplete=e.complete||Za)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function lI(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];s?n.setProperty(i,s,(null==e?void 0:e.has(i))?"important":""):n.removeProperty(i)}return n}function Gh(n,t){const e=t?"":"none";lI(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function zV(n,t,e){lI(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Kb(n,t){return t&&"none"!=t?n+" "+t:n}function KV(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function cI(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function uI(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function hI(n,t,e){const{top:i,bottom:s,left:r,right:o}=n;return e>=i&&e<=s&&t>=r&&t<=o}function mg(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function QV(n,t,e,i){const{top:s,right:r,bottom:o,left:a,width:l,height:h}=n,f=l*t,m=h*t;return i>s-m&&i<o+m&&e>a-f&&e<r+f}class YV{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:uI(e)})})}handleScroll(t){const e=Yr(t),i=this.positions.get(e);if(!i)return null;const s=e===this._document?e.documentElement:e,r=i.scrollPosition;let o,a;if(e===this._document){const f=this._viewportRuler.getViewportScrollPosition();o=f.top,a=f.left}else o=e.scrollTop,a=e.scrollLeft;const l=r.top-o,h=r.left-a;return this.positions.forEach((f,m)=>{f.clientRect&&e!==m&&s.contains(m)&&mg(f.clientRect,l,h)}),r.top=o,r.left=a,{top:l,left:h}}}function JV(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===i?eF(n,t):("input"===i||"select"===i||"textarea"===i)&&XV(n,t),ZV("canvas",n,t,eF),ZV("input, textarea, select",n,t,XV),t}function ZV(n,t,e,i){const s=t.querySelectorAll(n);if(s.length){const r=e.querySelectorAll(n);for(let o=0;o<s.length;o++)i(s[o],r[o])}}let QZ=0;function XV(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${QZ++}`)}function eF(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(i){}}const tF=fg({passive:!0}),iF=fg({passive:!1}),dI=new Set(["position"]);class JZ{constructor(t,e,i,s,r,o){this._config=e,this._document=i,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Ze,this._pointerMoveSubscription=tt.EMPTY,this._pointerUpSubscription=tt.EMPTY,this._scrollSubscription=tt.EMPTY,this._resizeSubscription=tt.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Ze,this.started=new Ze,this.released=new Ze,this.ended=new Ze,this.entered=new Ze,this.exited=new Ze,this.dropped=new Ze,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._handles.find(h=>{const f=Yr(a);return!!f&&(f===h||h.contains(f))});l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const _=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),w=this._dropContainer;if(!_)return void this._endDragSequence(a);(!w||!w.isDragging()&&!w.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),a.preventDefault();const h=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(h),this._dropContainer)this._updateActiveDropContainer(h,l);else{const f=this._activeTransform;f.x=h.x-this._pickupPositionOnPage.x+this._passiveTransform.x,f.y=h.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(f.x,f.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${f.x} ${f.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:h,event:a,distance:this._getDragDistance(h),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new YV(i,r),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Us(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Gh(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Li(i)),this._handles.forEach(i=>Gh(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Li(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,iF),e.addEventListener("touchstart",this._pointerDown,tF)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Li(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Yb(this._rootElement),Yb(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Gh(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Gh(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&Yb(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&Yb(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){vg(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,s=i.parentNode,r=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();s.insertBefore(o,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),zV(i,!1,dI),this._document.body.appendChild(s.replaceChild(r,i)),this._getPreviewInsertionPoint(s,a).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),s=vg(e),r=!s&&0!==e.button,o=this._rootElement,a=Yr(e),l=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),h=s?function(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function(n){return 0===n.offsetX&&0===n.offsetY}(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),i||r||l||h)return;this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor||"",o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(y=>this._updateOnScroll(y)),this._boundaryElement&&(this._boundaryRect=uI(this._boundaryElement));const f=this._previewTemplate;this._pickupPositionInElement=f&&f.template&&!f.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const m=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:m.x,y:m.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){zV(this._rootElement,!0,dI),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),r=this._getDragDistance(s),o=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:r,dropPoint:s}),e.drop(this,i,this._initialIndex,this._initialContainer,o,r,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let s;if(i&&t){const r=t.matchSize?this._rootElement.getBoundingClientRect():null,o=t.viewContainer.createEmbeddedView(i,t.context);o.detectChanges(),s=sF(o,this._document),this._previewRef=o,t.matchSize?rF(s,r):s.style.transform=Qb(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const r=this._rootElement;s=JV(r),rF(s,r.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return lI(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},dI),Gh(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>s.classList.add(r)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function(n){const t=getComputedStyle(n),e=cI(t,"transition-property"),i=e.find(a=>"transform"===a||"all"===a);if(!i)return 0;const s=e.indexOf(i),r=cI(t,"transition-duration"),o=cI(t,"transition-delay");return KV(r[s])+KV(o[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=o=>{var a;(!o||Yr(o)===this._preview&&"transform"===o.propertyName)&&(null===(a=this._preview)||void 0===a||a.removeEventListener("transitionend",s),i(),clearTimeout(r))},r=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=sF(this._placeholderRef,this._document)):i=JV(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),s=t===this._rootElement?null:t,r=s?s.getBoundingClientRect():i,o=vg(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition();return{x:r.left-i.left+(o.pageX-r.left-a.left),y:r.top-i.top+(o.pageY-r.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=vg(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=i.pageX-e.left,r=i.pageY-e.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const a=this._ownerSVGElement.createSVGPoint();return a.x=s,a.y=r,a.matrixTransform(o.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:o}=this._pickupPositionInElement,a=this._boundaryRect,l=this._previewRect,h=a.top+o,f=a.bottom-(l.height-o);i=nF(i,a.left+r,a.right-(l.width-r)),s=nF(s,h,f)}return{x:i,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-r.x),a=Math.abs(i-r.y);return o>this._config.pointerDirectionChangeThreshold&&(s.x=e>r.x?1:-1,r.x=e),a>this._config.pointerDirectionChangeThreshold&&(s.y=i>r.y?1:-1,r.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Gh(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,iF),t.removeEventListener("touchstart",this._pointerDown,tF)}_applyRootElementTransform(t,e){const i=Qb(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=Kb(i,this._initialTransform)}_applyPreviewTransform(t,e){var i;const s=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,r=Qb(t,e);this._preview.style.transform=Kb(r,s)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===s.width&&0===s.height)return;const r=i.left-s.left,o=s.right-i.right,a=i.top-s.top,l=s.bottom-i.bottom;i.width>s.width?(r>0&&(t+=r),o>0&&(t-=o)):t=0,i.height>s.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:vg(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Yr(t);this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&mg(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=tI(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return Li(i)}}function Qb(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function nF(n,t,e){return Math.max(t,Math.min(e,n))}function Yb(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function vg(n){return"t"===n.type[0]}function sF(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(s=>i.appendChild(s)),i}function rF(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=Qb(t.left,t.top)}function oF(n,t,e){const i=yg(t,n.length-1),s=yg(e,n.length-1);if(i===s)return;const r=n[i],o=s<i?-1:1;for(let a=i;a!==s;a+=o)n[a]=n[a+o];n[s]=r}function yg(n,t){return Math.max(0,Math.min(t,n))}class ZZ{constructor(t,e,i,s,r){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Ze,this.entered=new Ze,this.exited=new Ze,this.dropped=new Ze,this.sorted=new Ze,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=tt.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Ze,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(n=0,t=ug){return(!YM(n)||n<0)&&(n=0),(!t||"function"!=typeof t.schedule)&&(t=ug),new Ye(e=>(e.add(t.schedule(UZ,n,{subscriber:e,counter:0,period:n})),e))}(0,gV).pipe(Ja(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?cF(o,-a):2===this._verticalScrollDirection&&cF(o,a),1===this._horizontalScrollDirection?uF(o,-a):2===this._horizontalScrollDirection&&uF(o,a)})},this.element=Li(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new YV(i,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,s){let r;this._draggingStarted(),null==s?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,i))):r=s;const o=this._activeDraggables,a=o.indexOf(t),l=t.getPlaceholderElement();let h=o[r];if(h===t&&(h=o[r+1]),a>-1&&o.splice(a,1),h&&!this._dragDropRegistry.isDragging(h)){const f=h.getRootElement();f.parentElement.insertBefore(l,f),o.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){const f=o[0].getRootElement();f.parentNode.insertBefore(l,f),o.unshift(t)}else Li(this.element).appendChild(l),o.push(t);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,s,r,o,a){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:r,distance:o,dropPoint:a})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Li(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?fI("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,i=>i.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,s){if(this.sortingDisabled||!this._clientRect||!QV(this._clientRect,.05,e,i))return;const r=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,s);if(-1===o&&r.length>0)return;const a="horizontal"===this._orientation,l=fI(r,D=>D.drag===t),h=r[o],m=h.clientRect,y=l>o?1:-1,_=this._getItemOffsetPx(r[l].clientRect,m,y),w=this._getSiblingOffsetPx(l,r,y),T=r.slice();oF(r,l,o),this.sorted.next({previousIndex:l,currentIndex:o,container:this,item:t}),r.forEach((D,R)=>{if(T[R]===D)return;const I=D.drag===t,B=I?_:w,$=I?t.getPlaceholderElement():D.drag.getRootElement();D.offset+=B,a?($.style.transform=Kb(`translate3d(${Math.round(D.offset)}px, 0, 0)`,D.initialTransform),mg(D.clientRect,0,B)):($.style.transform=Kb(`translate3d(0, ${Math.round(D.offset)}px, 0)`,D.initialTransform),mg(D.clientRect,B,0))}),this._previousSwap.overlaps=hI(m,e,i),this._previousSwap.drag=h.drag,this._previousSwap.delta=a?s.x:s.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,s=0,r=0;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||i||QV(o.clientRect,.05,t,e)&&([s,r]=function(n,t,e,i){const s=hF(t,i),r=dF(t,e);let o=0,a=0;if(s){const l=n.scrollTop;1===s?l>0&&(o=1):n.scrollHeight-l>n.clientHeight&&(o=2)}if(r){const l=n.scrollLeft;1===r?l>0&&(a=1):n.scrollWidth-l>n.clientWidth&&(a=2)}return[o,a]}(a,o.clientRect,t,e),(s||r)&&(i=a))}),!s&&!r){const{width:o,height:a}=this._viewportRuler.getViewportSize(),l={width:o,height:a,top:0,right:o,bottom:a,left:0};s=hF(l,e),r=dF(l,t),i=window}i&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=i,(s||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Li(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Li(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:uI(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=Li(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const s=e.getRootElement();if(s){const r=null===(i=this._itemPositions.find(o=>o.drag===e))||void 0===i?void 0:i.initialTransform;s.style.transform=r||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const s="horizontal"===this._orientation,r=e[t].clientRect,o=e[t+-1*i];let a=r[s?"width":"height"]*i;if(o){const l=s?"left":"top",h=s?"right":"bottom";-1===i?a-=o.clientRect[l]-r[h]:a+=r[l]-o.clientRect[h]}return a}_getItemOffsetPx(t,e,i){const s="horizontal"===this._orientation;let r=s?e.left-t.left:e.top-t.top;return-1===i&&(r+=s?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const o=i[i.length-1].clientRect;return s?t>=o.right:e>=o.bottom}{const o=i[0].clientRect;return s?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,i,s){const r="horizontal"===this._orientation,o=fI(this._itemPositions,({drag:a,clientRect:l},h,f)=>{if(a===t)return f.length<2;if(s){const m=r?s.x:s.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&m===this._previousSwap.delta)return!1}return r?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return-1!==o&&this.sortPredicate(o,t,this)?o:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&hI(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(s=>s._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!hI(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,i);if(!s)return!1;const r=Li(this.element);return s===r||r.contains(s)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:i})=>{mg(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=tI(Li(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function fI(n,t){for(let e=0;e<n.length;e++)if(t(n[e],e,n))return e;return-1}function cF(n,t){n===window?n.scrollBy(0,t):n.scrollTop+=t}function uF(n,t){n===window?n.scrollBy(t,0):n.scrollLeft+=t}function hF(n,t){const{top:e,bottom:i,height:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}function dF(n,t){const{left:e,right:i,width:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}const Jb=fg({passive:!1,capture:!0});let fF=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new Ze,this.pointerUp=new Ze,this.scroll=new Ze,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Jb)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Jb)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Jb}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:Jb}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,o)=>{this._document.addEventListener(o,r.handler,r.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Ye(s=>this._ngZone.runOutsideAngular(()=>{const o=a=>{this._activeDragInstances.length&&s.next(a)};return e.addEventListener("scroll",o,!0),()=>{e.removeEventListener("scroll",o,!0)}}))),kr(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(q(Ke),q(Xe))},n.\u0275prov=le({factory:function(){return new n(q(Ke),q(Xe))},token:n,providedIn:"root"}),n})();const eX={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let pI=(()=>{class n{constructor(e,i,s,r){this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(e,i=eX){return new JZ(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new ZZ(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(q(Xe),q(Ke),q(nI),q(fF))},n.\u0275prov=le({factory:function(){return new n(q(Xe),q(Ke),q(nI),q(fF))},token:n,providedIn:"root"}),n})();const gI=new _e("CDK_DRAG_PARENT"),mI=new _e("CdkDropListGroup"),pF=new _e("CDK_DRAG_CONFIG");let tX=0;const gF=new _e("CdkDropList");let nX=(()=>{class n{constructor(e,i,s,r,o,a,l){this.element=e,this._changeDetectorRef=s,this._scrollDispatcher=r,this._dir=o,this._group=a,this._destroyed=new Ze,this.connectedTo=[],this.id="cdk-drop-list-"+tX++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new mt,this.entered=new mt,this.exited=new mt,this.sorted=new mt,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(h,f)=>this.enterPredicate(h.data,f.data),this._dropListRef.sortPredicate=(h,f,m)=>this.sortPredicate(h,f.data,m.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),a&&a._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=Us(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(hg(this._dir.value),Ja(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=function(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(s=>"string"==typeof s?n._dropLists.find(o=>o.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===i.indexOf(s)&&i.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=Us(this.sortingDisabled),e.autoScrollDisabled=Us(this.autoScrollDisabled),e.autoScrollStep=wc(this.autoScrollStep,2),e.connectedTo(i.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:i,draggingDisabled:s,sortingDisabled:r,listAutoScrollDisabled:o,listOrientation:a}=e;this.disabled=null!=s&&s,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=o&&o,this.orientation=a||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n.\u0275fac=function(e){return new(e||n)(V($t),V(pI),V(wy),V(iI),V(gg,8),V(mI,12),V(pF,8))},n.\u0275dir=ue({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(hr("id",i.id),Zl("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[ht([{provide:mI,useValue:void 0},{provide:gF,useExisting:n}])]}),n._dropLists=[],n})();const vI=new _e("CdkDragHandle");let sX=(()=>{class n{constructor(e,i){this.element=e,this._stateChanges=new Ze,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(e){this._disabled=Us(e),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(V($t),V(gI,12))},n.\u0275dir=ue({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[ht([{provide:vI,useExisting:n}])]}),n})();const mF=new _e("CdkDragPlaceholder"),vF=new _e("CdkDragPreview");let oX=(()=>{class n{constructor(e,i,s,r,o,a,l,h,f,m,y){this.element=e,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=o,this._dir=l,this._changeDetectorRef=f,this._selfHandle=m,this._parentDrag=y,this._destroyed=new Ze,this.started=new mt,this.released=new mt,this.ended=new mt,this.entered=new mt,this.exited=new mt,this.dropped=new mt,this.moved=new Ye(_=>{const w=this._dragRef.moved.pipe(vs(T=>({source:this,pointerPosition:T.pointerPosition,event:T.event,delta:T.delta,distance:T.distance}))).subscribe(_);return()=>{w.unsubscribe()}}),this._dragRef=h.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:null==a?void 0:a.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),a&&this._assignDefaults(a),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=Us(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(rI(1),Ja(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,s=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement,i=this.rootElementSelector?yF(e,this.rootElementSelector):e;this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?yF(this.element.nativeElement,e):Li(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,s=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof s&&s?s:wc(s),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(rI(1)).subscribe(()=>{var i,s;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(null===(i=r.classList)||void 0===i?void 0:i.contains("cdk-drag")){e.withParent((null===(s=n._dragInstances.find(o=>o.element.nativeElement===r))||void 0===s?void 0:s._dragRef)||null);break}r=r.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:s,constrainPosition:r,previewClass:o,boundaryElement:a,draggingDisabled:l,rootElementSelector:h,previewContainer:f}=e;this.disabled=null!=l&&l,this.dragStartDelay=s||0,i&&(this.lockAxis=i),r&&(this.constrainPosition=r),o&&(this.previewClass=o),a&&(this.boundaryElement=a),h&&(this.rootElementSelector=h),f&&(this.previewContainer=f)}_setupHandlesListener(){this._handles.changes.pipe(hg(this._handles),function(n,t,e){return function(s){return s.lift(new WZ(n,undefined,undefined))}}(e=>{const i=e.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),ZM(e=>kr(...e.map(i=>i._stateChanges.pipe(hg(i))))),Ja(this._destroyed)).subscribe(e=>{const i=this._dragRef,s=e.element.nativeElement;e.disabled?i.disableHandle(s):i.enableHandle(s)})}}return n.\u0275fac=function(e){return new(e||n)(V($t),V(gF,12),V(Xe),V(Ke),V(Ns),V(pF,8),V(gg,8),V(pI),V(wy),V(vI,10),V(gI,12))},n.\u0275dir=ue({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,s){if(1&e&&(My(s,vF,5),My(s,mF,5),My(s,vI,5)),2&e){let r;rc(r=oc())&&(i._previewTemplate=r.first),rc(r=oc())&&(i._placeholderTemplate=r.first),rc(r=oc())&&(i._handles=r)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&Zl("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[ht([{provide:gI,useExisting:n}]),Dt]}),n._dragInstances=[],n})();function yF(n,t){let e=n.parentElement;for(;e;){if(e.matches?e.matches(t):e.msMatchesSelector(t))return e;e=e.parentElement}return null}let aX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ti({type:n}),n.\u0275inj=jt({providers:[pI],imports:[sI]}),n})();class _F{}const Yo="*";function cX(n,t){return{type:7,name:n,definitions:t,options:{}}}function uX(n,t=null){return{type:4,styles:t,timings:n}}function bF(n,t=null){return{type:2,steps:n,options:t}}function Zb(n){return{type:6,styles:n,offset:null}}function SF(n,t,e){return{type:0,name:n,styles:t,options:e}}function hX(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function EF(n){Promise.resolve(null).then(n)}class Uh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){EF(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class wF{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const r=this.players.length;0==r?EF(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==r&&this._onFinish()}),o.onDestroy(()=>{++i==r&&this._onDestroy()}),o.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class ct{constructor(t,e,i,s){this.logService=t,this.toyService=e,this.used=!1,this.triggers=0,this.parent=i,this.level=s}}class dX extends ct{constructor(){super(...arguments),this.name="Balloon",this.tier=1}onBreak(t,e){let i=this.parent.furthestUpPet;if(null==i)return;let s=this.level;i.increaseAttack(s),i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:e})}}class fX extends ct{constructor(){super(...arguments),this.name="Tennis Ball",this.tier=1}startOfBattle(t,e){let i=It(t,this.parent),s=i.getRandomPet(null,null,!0);null!=s&&(this.toyService.snipePet(s,this.level,this.parent,this.name,!0,e),s=i.getRandomPet(null,null,!0),null!=s&&this.toyService.snipePet(s,this.level,this.parent,this.name,!0,e))}}class pX extends ct{constructor(){super(...arguments),this.name="Radio",this.tier=2}onBreak(t,e){let i=this.parent.petArray;for(let s of i)!s.alive||(s.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} health.`,type:"ability",player:this.parent,puma:e}))}}class gX extends ct{constructor(){super(...arguments),this.name="Garlic Press",this.tier=2}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof pc)){this.logService.createLog({message:`${this.name} gave ${s.name} Garlic.`,type:"ability",player:this.parent,puma:e}),s.givePetEquipment(new pc);break}}}class mX extends ct{constructor(){super(...arguments),this.name="Toilet Paper",this.tier=3}startOfBattle(t,e){let s=It(t,this.parent).petArray.slice(0,this.level);for(let r of s)r.givePetEquipment(new jo),this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,puma:e})}}class vX extends ct{constructor(){super(...arguments),this.name="Oven Mitts",this.tier=3}onBreak(t){}}class yX extends ct{constructor(){super(...arguments),this.name="Melon Helmet",this.tier=4}onBreak(t,e){let i=this.parent.petArray.filter(s=>s.alive).slice(0,this.level);for(let s of i)s.givePetEquipment(new jr),this.logService.createLog({message:`${this.name} gave ${s.name} Melon.`,type:"ability",player:this.parent,puma:e})}}class _X extends ct{constructor(){super(...arguments),this.name="Foam Sword",this.tier=4}startOfBattle(t,e){let i=It(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet();this.toyService.snipePet(r.pet,6,this.parent,this.name,r.random,e)}}}class bX extends ct{constructor(){super(...arguments),this.name="Toy Gun",this.tier=4}startOfBattle(t,e){let i=It(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLastPet();if(null==r)return;this.toyService.snipePet(r,6,this.parent,this.name,!1,e)}}}class SX extends ct{constructor(){super(...arguments),this.name="Flashlight",this.tier=5}onBreak(t,e){let i=6*this.level,s=this.parent.furthestUpPet;s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e})}}class EX extends ct{constructor(){super(...arguments),this.name="Strinky Sock",this.tier=5}startOfBattle(t,e){let i=It(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getHighestHealthPet(),o=r.pet;if(null==o)return;let a=.4,l=Math.max(1,Math.floor(o.health*(1-a)));o.health=l,this.logService.createLog({message:`${this.name} reduced ${o.name} health by ${100*a}% (${l})`,type:"ability",player:this.parent,puma:e,randomEvent:r.random})}}}class wX extends ct{constructor(){super(...arguments),this.name="Television",this.tier=6}onBreak(t,e){let i=2*this.level;for(let s of this.parent.petArray)!s.alive||(s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e}))}}class CX extends ct{constructor(){super(...arguments),this.name="Peanut Jar",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof Ga)){s.givePetEquipment(new Ga),this.logService.createLog({message:`${this.name} gave ${s.name} Peanut.`,type:"ability",player:this.parent,puma:e});break}}}class kX extends ct{constructor(){super(...arguments),this.name="Air Palm Tree",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof Wr)){s.givePetEquipment(new Wr),this.logService.createLog({message:`${this.name} gave ${s.name} Coconut.`,type:"ability",player:this.parent,puma:e});break}}}class PX extends ct{constructor(t,e,i,s,r){super(t,e,i,s),this.logService=t,this.toyService=e,this.equipmentService=r,this.name="Pandoras Box",this.tier=6}startOfBattle(t,e){let i=this.equipmentService.getInstanceOfAllEquipment(),s=[new UT,new fc,new w_,new qp,new Zp,new jo],r=["Carrot","Cherry","Chocolate Cake","Coconut","Croissant","Cucumber","Eggplant","Fig","Gingerbread Man","Grapes","Golden Egg","Health Potion","Love Potion","Magic Beans","Peanut","Pie","Rambutan","Rice","Skewer"],o=[...t.player.petArray,...t.opponet.petArray],a=Array.from(i.values());a=a.filter(l=>!r.includes(l.name));for(let l of o){let h=s;Math.random()<.5&&(h=a);let f=h[Math.floor(Math.random()*h.length)];this.logService.createLog({message:`${this.name} gave ${l.name} ${f.name}`,type:"ability",player:this.parent,randomEvent:!0}),l.givePetEquipment(f,this.level)}}}class AX extends ct{constructor(){super(...arguments),this.name="Witch Broom",this.tier=1}startOfBattle(t,e){let i=It(t,this.parent),s=i.petArray.filter(o=>null!=o.equipment),r=[];for(let o=0;o<this.level;o++){let a=i.getRandomPet(s,null,!0);if(null==a)break;s.push(a),r.push(a)}for(let o of r)this.logService.createLog({message:`${this.name} gave ${o.name} Weak.`,type:"ability",player:this.parent,puma:e,randomEvent:i.petArray.length-s.length>0}),o.givePetEquipment(new jo)}}class DX extends ct{constructor(){super(...arguments),this.name="Magic Wand",this.tier=1}startOfBattle(t,e){let i=this.parent.petArray.filter(o=>o.level<3),s=null,r=!1;0==i.length?s=this.parent.getRandomPet([],!0):(i=(0,me.shuffle)(i),s=i[0],r=i.length>1),null!=s&&(this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} exp.`,type:"ability",player:this.parent,puma:e,randomEvent:r}),s.increaseExp(this.level))}}class TX extends ct{constructor(){super(...arguments),this.name="Crystal Ball",this.tier=1}startOfBattle(t,e){let i=this.parent.petArray[0];null!=i&&(this.logService.createLog({message:`${this.name} gave ${i.name} ${this.level} mana.`,type:"ability",player:this.parent,puma:e,randomEvent:!1}),i.increaseMana(this.level))}}class xX extends ct{constructor(){super(...arguments),this.name="Treasure Map",this.tier=3}}class MX extends ct{constructor(){super(...arguments),this.name="Treasure Chest",this.tier=3}}class IX extends ct{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Evil Book",this.tier=5}emptyFromSpace(t,e,i,s){let r={attack:6*i,health:6*i},a=new vb(this.logService,this.abilityService,this.parent,r.health,r.attack,0,1==i?0:2==i?2:5);this.logService.createLog({message:`${this.name} spawned Great One (${r.attack}/${r.health}).`,type:"ability",player:this.parent,puma:e}),this.parent.summonPet(a,0)&&this.abilityService.triggerSummonedEvents(a),this.used=!0}}class OX extends ct{constructor(){super(...arguments),this.name="Magic Carpet",this.tier=2}friendSummoned(t,e,i,s){this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack.`,type:"ability",player:this.parent,puma:i}),e.increaseAttack(s)}}class RX extends ct{constructor(){super(...arguments),this.name="Magic Lamp",this.tier=2}friendlyLevelUp(t,e,i,s){this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),e.increaseAttack(+s),e.increaseHealth(+s)}}class NX extends ct{constructor(){super(...arguments),this.name="Candleabra",this.tier=4}}class LX extends ct{constructor(){super(...arguments),this.name="Glass Shoes",this.tier=4}friendFaints(t,e,i,s){if(i||this.triggers++,this.triggers%3!=0)return;let r=e.parent.petArray.filter(o=>o.alive);for(let o of r)this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),o.increaseAttack(+s),o.increaseHealth(+s)}}class BX extends ct{constructor(){super(...arguments),this.name="Golden Harp",this.tier=4}}class $X extends ct{constructor(){super(...arguments),this.name="Lock of Hair",this.tier=4}}class VX extends ct{constructor(){super(...arguments),this.name="Magic Mirror",this.tier=4}}class FX extends ct{constructor(){super(...arguments),this.name="Pickaxe",this.tier=4}}class HX extends ct{constructor(){super(...arguments),this.name="Red Cape",this.tier=4}friendJumped(t,e,i,s){let r=e.parent.petArray.filter(o=>o.alive);for(let o of r)this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),o.increaseAttack(+s),o.increaseHealth(+s)}}class qX extends ct{constructor(){super(...arguments),this.name="Rosebud",this.tier=4}friendlyLevelUp(t,e,i,s){if(i||this.triggers++,this.triggers%2!=0)return;let r=e.parent.petArray.filter(o=>o.alive);for(let o of r)this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),o.increaseAttack(+s),o.increaseHealth(+s)}}class GX extends ct{constructor(){super(...arguments),this.name="Excalibur",this.tier=6}}class UX extends ct{constructor(){super(...arguments),this.name="Holy Grail",this.tier=6}}class jX extends ct{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Nutcracker",this.tier=4}friendFaints(t,e,i,s){if(this.used||e.parent.petArray.filter(l=>l.alive).length>0)return;let o=6*this.level,a=new lb(this.logService,this.abilityService,this.parent,o,o,null,0);this.logService.createLog({message:`${this.name} spawned Salmon of Knowledge (${o}/${o})`,type:"ability",player:this.parent}),this.parent.summonPet(a,0)&&this.abilityService.triggerSummonedEvents(a),this.used=!0}}class WX extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Eyes Dog",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=6,this.attack=6,this.initPet(a,s,r,o,l)}}class zX extends ct{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Tinder Box",this.tier=4}emptyFromSpace(t,e,i,s){let r={attack:6*i,health:6*i},a=new WX(this.logService,this.abilityService,this.parent,r.health,r.attack,0,1==i?0:2==i?2:5);this.logService.createLog({message:`${this.name} spawned Giant Eyes Dog (${r.attack}/${r.health}).`,type:"ability",player:this.parent,puma:e}),this.parent.summonPet(a,0)&&this.abilityService.triggerSummonedEvents(a),this.used=!0}}let KX=(()=>{class n{constructor(e,i,s,r){this.logService=e,this.abilityService=i,this.gameService=s,this.equipmentService=r,this.toys=new Map,this.startOfBattleEvents=[],this.emptyFrontSpaceEvents=[],this.friendSummonedEvents=[],this.setToys()}setToys(){this.toys.set(1,["Ballon","Tennis Ball"]),this.toys.set(2,["Radio","Garlic Press"]),this.toys.set(3,["Toilet Paper","Oven Mitts"]),this.toys.set(4,["Melon Helmet","Foam Sword","Toy Gun"]),this.toys.set(5,["Flashlight","Stinky Sock"]),this.toys.set(6,["Television","Peanut Jar","Air Palm Tree"]),this.toys.set(7,["Witch Broom","Pandoras Box","Magic Wand","Crystal Ball","Treasure Map","Treasure Chest","Evil Book","Magic Carpet","Magic Lamp","Nutcracker","Tinder Box","Candleabra","Glass Shoes","Golden Harp","Lock of Hair","Magic Mirror","Pickaxe","Red Cape","Rose Bud","Excalibur","Holy Grail"])}createToy(e,i,s=1){switch(e){case"Ballon":return new dX(this.logService,this,i,s);case"Tennis Ball":return new fX(this.logService,this,i,s);case"Radio":return new pX(this.logService,this,i,s);case"Garlic Press":return new gX(this.logService,this,i,s);case"Toilet Paper":return new mX(this.logService,this,i,s);case"Oven Mitts":return new vX(this.logService,this,i,s);case"Melon Helmet":return new yX(this.logService,this,i,s);case"Foam Sword":return new _X(this.logService,this,i,s);case"Toy Gun":return new bX(this.logService,this,i,s);case"Flashlight":return new SX(this.logService,this,i,s);case"Stinky Sock":return new EX(this.logService,this,i,s);case"Television":return new wX(this.logService,this,i,s);case"Peanut Jar":return new CX(this.logService,this,i,s);case"Air Palm Tree":return new kX(this.logService,this,i,s);case"Pandoras Box":return new PX(this.logService,this,i,s,this.equipmentService);case"Witch Broom":return new AX(this.logService,this,i,s);case"Magic Wand":return new DX(this.logService,this,i,s);case"Crystal Ball":return new TX(this.logService,this,i,s);case"Treasure Map":return new xX(this.logService,this,i,s);case"Treasure Chest":return new MX(this.logService,this,i,s);case"Evil Book":return new IX(this.logService,this,this.abilityService,i,s);case"Magic Carpet":return new OX(this.logService,this,i,s);case"Magic Lamp":return new RX(this.logService,this,i,s);case"Nutcracker":return new jX(this.logService,this,this.abilityService,i,s);case"Tinder Box":return new zX(this.logService,this,this.abilityService,i,s);case"Candleabra":return new NX(this.logService,this,i,s);case"Glass Shoes":return new LX(this.logService,this,i,s);case"Golden Harp":return new BX(this.logService,this,i,s);case"Lock of Hair":return new $X(this.logService,this,i,s);case"Magic Mirror":return new VX(this.logService,this,i,s);case"Pickaxe":return new FX(this.logService,this,i,s);case"Red Cape":return new HX(this.logService,this,i,s);case"Rose Bud":return new qX(this.logService,this,i,s);case"Excalibur":return new GX(this.logService,this,i,s);case"Holy Grail":return new UX(this.logService,this,i,s)}}snipePet(e,i,s,r,o=!1,a=!1){let l=this.calculateDamgae(e,i),h=l.defenseEquipment,f=l.damage;e.health-=f;let m=`${r} sniped ${e.name} for ${f}.`;null!=h&&(e.useDefenseEquipment(),m+=` (${h.name} -${h.power})`),a&&(m+=" (Puma)"),this.logService.createLog({message:m,type:"attack",randomEvent:o,player:s}),null!=e.hurt&&this.abilityService.setHurtEvent({callback:e.hurt.bind(e),priority:e.attack,player:e.parent})}calculateDamgae(e,i){var s,r,o;let a="defense"==(null===(s=e.equipment)||void 0===s?void 0:s.equipmentClass)||"shield"==(null===(r=e.equipment)||void 0===r?void 0:r.equipmentClass)?e.equipment:null,l=null!==(o=null==a?void 0:a.power)&&void 0!==o?o:0;return{defenseEquipment:a,damage:Math.max("shield"==(null==a?void 0:a.equipmentClass)?0:1,i-l)}}setStartOfBattleEvent(e){this.startOfBattleEvents.push(e)}resetStartOfBattleEvents(){this.startOfBattleEvents=[]}executeStartOfBattleEvents(){this.startOfBattleEvents=(0,me.shuffle)(this.startOfBattleEvents),this.startOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.startOfBattleEvents)e.callback(this.gameService.gameApi);this.resetStartOfBattleEvents()}}return n.\u0275fac=function(e){return new(e||n)(q(yb),q(_b),q(Ch),q(Kn))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QX=(()=>{class n{constructor(e){this.gameService=e,this.toyPetEvents=[],this.nonToyPetEvents=[]}redoPriorities(e){this.nonToyPetEvents=this.nonToyPetEvents.filter(i=>i.pet!=e);for(let i of this.nonToyPetEvents)i.priority=i.pet.attack;this.executeNonToyPetEvents()}initStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.player,pet:e})}for(let e of this.gameApi.opponet.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.opponet,pet:e})}}resetToyPetEvents(){this.toyPetEvents=[]}resetNonToyPetEvents(){this.nonToyPetEvents=[]}resetStartOfBattleFlags(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)e.startOfBattleTriggered=!1;for(let e of this.gameApi.opponet.petArray)e.startOfBattleTriggered=!1}executeToyPetEvents(){this.toyPetEvents=(0,me.shuffle)(this.toyPetEvents),this.toyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.toyPetEvents)e.callback(this.gameApi);this.resetToyPetEvents()}executeNonToyPetEvents(){this.nonToyPetEvents=(0,me.shuffle)(this.nonToyPetEvents),this.nonToyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.nonToyPetEvents)if(!e.pet.startOfBattleTriggered&&(e.pet.startOfBattleTriggered=!0,e.callback(this.gameApi)))return this.redoPriorities(e.pet);this.resetNonToyPetEvents()}}return n.\u0275fac=function(e){return new(e||n)(q(Ch))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_I=(()=>{class n{constructor(){this.key="sapData"}getStorage(){return window.localStorage.getItem(this.key),window.localStorage.getItem(this.key)}setFormStorage(e){let i=e.value;for(let s of i.playerPets)null!=s.equipment&&(s.equipment={name:s.equipment.name});for(let s of i.opponentPets)null!=s.equipment&&(s.equipment={name:s.equipment.name});this.setStorage(i)}setStorage(e){"object"==typeof e&&(e=JSON.stringify(e)),window.localStorage.setItem(this.key,e)}clearStorage(){window.localStorage.removeItem(this.key)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Nn({type:n,selectors:[["app-patch-notes"]],decls:504,vars:0,template:function(e,i){1&e&&(p(0,"h2"),S(1,"v0.6.16"),g(),p(2,"ul"),p(3,"li"),S(4,"Updated Unicorn Perks."),g(),p(5,"li"),S(6,"Updated some star pack pets.(Thanks Tangl)"),g(),p(7,"li"),S(8,"Fixed bug with Rooster chicks being death linked"),g(),p(9,"li"),S(10,"Fixed Boar triggering twice"),g(),p(11,"li"),S(12,"Fixed Same Attack trigger not being random"),g(),p(13,"li"),S(14,"Fixed Hippo breaking the calculator"),g(),p(15,"li"),S(16,"Fixed Whale summon"),g(),p(17,"li"),S(18,"Fixed Tiger not working with summon"),g(),p(19,"li"),S(20,"Thanks Freetz for finding all the bugs"),g(),g(),p(21,"h2"),S(22,"v0.6.15"),g(),p(23,"ul"),p(24,"li"),S(25,"Updated trigger order"),g(),p(26,"li"),S(27,"Updated Golden pack"),g(),g(),p(28,"h2"),S(29,"v0.6.14"),g(),p(30,"ul"),p(31,"li"),S(32,"Fixed Bug with Dodo causing SOB ability triggering again. (Thanks JOEBOBBOBJOE)"),g(),p(33,"li"),S(34,"Fixed Bug with wrong summon place. (Thanks Freetz)"),g(),p(35,"li"),S(36,"Updated pets & perks in Puppy Pack."),g(),p(37,"li"),S(38,"Updated pets in Unicorn Pack. (Thanks Tangl)"),g(),g(),p(39,"h2"),S(40,"v0.6.13"),g(),p(41,"ul"),p(42,"li"),S(43,"Updated Deer, Turkey, Whale, and Wolverine."),g(),p(44,"li"),S(45,"Added gain perk trigger for rabbit and seal."),g(),g(),p(46,"h2"),S(47,"v0.6.12"),g(),p(48,"ul"),p(49,"li"),S(50,"Fixed bug with Parrot chaining when front Parrot has lower attack. (Thanks jer.re)"),g(),p(51,"li"),S(52,"Fixed bug with level 1 Crab having 0 health when copying health of pet with 1 health. (Thanks Freetz)"),g(),g(),p(53,"h2"),S(54,"v0.6.11"),g(),p(55,"ul"),p(56,"li"),S(57,"Fixed bug with spawn perks having unpredictable spawn locations. (Thanks Tangl and Wombat)"),g(),p(58,"li"),S(59,"Fixed bug with Parrot chaining. (Thanks Tangl)"),g(),p(60,"li"),S(61,"Fixed bug with Fig (and probably other perks) not working with Parrot."),g(),g(),p(62,"h2"),S(63,"v0.6.10"),g(),p(64,"ul"),p(65,"li"),S(66,"Fixed bug on Import Calculator where importing an empty slot would cause pets from previous calculator to persist. (Thanks jer.re and Freetz)"),g(),p(67,"li"),S(68,"Fixed Pandoras Box"),g(),p(69,"ul"),p(70,"li"),S(71,"Removed perks available according to here: https://superautopets.wiki.gg/wiki/Pandoras_Box"),g(),p(72,"li"),S(73,"Pandoras Box has a 50% chance to give an ailment. If this is incorrect direct hate towards Cheese from SAP Dojo."),g(),g(),g(),p(74,"h2"),S(75,"v0.6.9"),g(),p(76,"ul"),p(77,"li"),S(78,"Fixed more tiger interactions breaking calculator. (Thanks tibby)"),g(),g(),p(79,"h2"),S(80,"v0.6.8"),g(),p(81,"ul"),p(82,"li"),S(83,"Added Export Calculator modal."),g(),p(84,"li"),S(85,"Fixed bug with Dodo not changing Start of Battle priorities in battle. (Thanks Plkess and CrocsAreNice)"),g(),p(86,"li"),S(87,"Fixed bug with Armadillo not giving itself health."),g(),p(88,"li"),S(89,"Fixed Salmon of Knowledge giving itself experience. (Thanks Wombat)"),g(),p(90,"li"),S(91,"Added Unicorn Pack to custom pack editor. (Thanks Rake News)"),g(),p(92,"li"),S(93,"Changed priorty order of knock out and pet ahead faints abilities - fixes Rhino/Ox interaction. (Thanks Mazl0w)"),g(),g(),p(94,"h2"),S(95,"v0.6.7"),g(),p(96,"ul"),p(97,"li"),S(98,"Fixed bug with Tiger sometimes using the wrong level. (Thanks hop)"),g(),g(),p(99,"h2"),S(100,"v0.6.6"),g(),p(101,"ul"),p(102,"li"),S(103,"Fixed bug with parrot. (Thanks hop)"),g(),p(104,"li"),S(105,"Fixed bug with Crisp always doing 6 damage. (Thanks Kutarba)"),g(),g(),p(106,"h2"),S(107,"v0.6.5"),g(),p(108,"ul"),p(109,"li"),S(110,"Fixed Anubis feint abilities happening before other start of battle abilities. (Thanks Grounded)"),g(),p(111,"li"),S(112,"Fixed Roc. (Thanks Grounded)"),g(),p(113,"li"),S(114,"Fixed mana snipe going off after Kitsune removes the mana. (Thanks Grounded)"),g(),p(115,"li"),S(116,"Fixed Manticore ability not going off if it feints. (Thanks goose)"),g(),p(117,"li"),S(118,"Fixed issue with Calygreyhound and there being only one pet left. (Thanks MAi.k)"),g(),p(119,"li"),S(120,"Fixed issue with Slepnir not targeting correctly. (Thanks goose)"),g(),p(121,"li"),S(122,"Max mana is now 50. (Thanks goose)"),g(),p(123,"li"),S(124,"Fixed potato."),g(),p(125,"li"),S(126,"Fixed issue with Pteradon not summoning behind itself in some cases."),g(),p(127,"li"),S(128,"Fixed Snake + Tiger bug. (Thanks mumf)"),g(),g(),p(129,"h2"),S(130,"v0.6.4"),g(),p(131,"ul"),p(132,"li"),S(133,"Fixed order of Friend Faints events so that it triggers after friendly units are summoned. (Thanks Grounded)"),g(),p(134,"li"),S(135,"Fixed calculator simulating only once. \u{1f926}\u200d\u2642\ufe0f"),g(),g(),p(136,"h2"),S(137,"v0.6.3"),g(),p(138,"ul"),p(139,"li"),S(140,"Added Yggdrasil Fruit (Thanks Vuenc)"),g(),p(141,"li"),S(142,"Fixed issue with some pets when spawned having mana. (Thanks Grounded)"),g(),g(),p(143,"h2"),S(144,"v0.6.2"),g(),p(145,"ul"),p(146,"li"),S(147,"Fixed Monty's base stats. (Thanks goose)"),g(),p(148,"li"),S(149,"Fixed Visitor's (and Bear's) ability not targeting ahead friendly units. (Thanks goose)"),g(),p(150,"li"),S(151,"Fixed bug where Tiger fainting before Start of Battle abilities did not triger the Tiger's ability. (Thanks goose)"),g(),p(152,"li"),S(153,"Fixed bug with certain pets having Donut breaking the calculator. (Thanks Freetz)"),g(),p(154,"li"),S(155,"Fixed Manticore not working with Crips. (Thanks Freetz)"),g(),p(156,"li"),S(157,"Added 'Ailment Equipment' mode."),g(),g(),p(158,"h2"),S(159,"v0.6.1"),g(),p(160,"ul"),p(161,"li"),S(162,"Fixed Roc not targeting Donut pets. (Thanks mewi3977)"),g(),p(163,"li"),S(164,"Updated to SAP Version 0.33.3-151 BETA"),g(),p(165,"ul"),p(166,"li"),S(167,"Changed Chimera, Nessie, Axehandle Hound, Unicorn, Vampire Bat, Warf, Barghest, Cyclops, Mana Hound, Loveland Frogman, Jersey Devil, Tigerbug, Bigfoot, Calygreyhound, Gargoyle, Ghost Kitten, Jackalope, Minotaur, Worm of Sand, Werewolf, Lucky Cat, Ogopogo. "),g(),p(168,"li"),S(169,"Added Spooked"),g(),p(170,"li"),S(171,"Minotaur stacks."),g(),g(),p(172,"li"),S(173,"Added Weak as an equipment option."),g(),p(174,"li"),S(175,"Import pack works with Unicorn pets."),g(),g(),p(176,"h2"),S(177,"v0.6.0"),g(),p(178,"ul"),p(179,"li"),S(180,"Unicorn Pack \u{1f389}"),g(),p(181,"li"),S(182,"Updated Info/Guide"),g(),g(),p(183,"h2"),S(184,"v0.5.27"),g(),p(185,"ul"),p(186,"li"),S(187,"Fixed bug with Camel's ability logs showing incorrect values."),g(),g(),p(188,"h2"),S(189,"v0.5.26"),g(),p(190,"ul"),p(191,"li"),S(192,"Fixed bugs with drag and drop. (Thanks Agentcore)"),g(),g(),p(193,"h2"),S(194,"v0.5.25"),g(),p(195,"ul"),p(196,"li"),S(197,"Fixed some import bugs."),g(),g(),p(198,"h2"),S(199,"v0.5.24"),g(),p(200,"ul"),p(201,"li"),S(202,"Fixed bug with Custom Pack dialog not opening."),g(),g(),p(203,"h2"),S(204,"v0.5.23"),g(),p(205,"ul"),p(206,"li"),S(207,"Fixed bug with importing empty pet slots."),g(),p(208,"li"),S(209,"Fixed bug with pets that Tapir summon being disjointed from its' parent player. (Thanks goose)"),g(),g(),p(210,"h2"),S(211,"v0.5.22"),g(),p(212,"ul"),p(213,"li"),S(214,"Fixed Pigeon base stats. (Thanks goose)"),g(),p(215,"li"),S(216,"Fixed Crab copying highest health pets stats even after fainting from other start of battle abilities. (Thanks Phoenix)"),g(),g(),p(217,"h2"),S(218,"v0.5.21"),g(),p(219,"ul"),p(220,"li"),S(221,"Fixed a few Panther/equipment interactions."),g(),p(222,"ul"),p(223,"li"),S(224,"Tomato (Thanks jer.re), Salt, Cheese, Durian, Egg."),g(),g(),g(),p(225,"h2"),S(226,"v0.5.20"),g(),p(227,"ul"),p(228,"li"),S(229,"Added Komodo Shuffle option."),g(),g(),p(230,"h2"),S(231,"v0.5.19"),g(),p(232,"ul"),p(233,"li"),S(234,"Removed Beluga Whale from Orca spawn pool."),g(),g(),p(235,"h2"),S(236,"v0.5.18"),g(),p(237,"ul"),p(238,"li"),S(239,"Fixed bug with Friend Ahead Attacks ability pets not triggering when fainting. (Thanks tibby)"),g(),g(),p(240,"h2"),S(241,"v0.5.17"),g(),p(242,"ul"),p(243,"li"),S(244,"Fixed bug that required running simulation on export."),g(),p(245,"li"),S(246,"Fixed bug with ailment overwritting faint food while pet faints breaking simulation."),g(),p(247,"li"),S(248,'Added "Token Pets" option.'),g(),p(249,"li"),S(250,"Added confirmation window to Reset and Randomize buttons."),g(),g(),p(251,"h2"),S(252,"v0.5.16"),g(),p(253,"ul"),p(254,"li"),S(255,"Fixed bug with Beluga Whale pet not spawning. (Thanks goose)"),g(),p(256,"li"),S(257,"Fixed bug with Chocolate Cake not triggering Knocked Out abilities."),g(),p(258,"li"),S(259,"Fixed bug with Cherry/Fig triggering multiple times after running multiple simulations."),g(),g(),p(260,"h2"),S(261,"v0.5.15"),g(),p(262,"ul"),p(263,"li"),S(264,"Updated to SAP Version 0.31.9-145 BETA"),g(),p(265,"ul"),p(266,"li"),S(267,"Added Pigeon, Hare."),g(),p(268,"li"),S(269,"Changed Cricket, Mouse Nest, Robin, Tabby Cat, Dog, Dolphin, Flying Squirrel, Hatching Chick, Owl, Ox, Raccoon, Cockatoo, Mosasaurus, Tyrannosaurus."),g(),p(270,"li"),S(271,"Added Fig."),g(),p(272,"li"),S(273,"Changed Cherry."),g(),g(),g(),p(274,"h2"),S(275,"v0.5.14"),g(),p(276,"ul"),p(277,"li"),S(278,"Bug Report System."),g(),g(),p(279,"h2"),S(280,"v0.5.13"),g(),p(281,"ul"),p(282,"li"),S(283,"Fixed bug with Opponent Empty Front Space events not triggering. (Thanks jer.re)"),g(),g(),p(284,"h2"),S(285,"v0.5.12"),g(),p(286,"ul"),p(287,"li"),S(288,"Pug is tier 3."),g(),p(289,"li"),S(290,"Siberian Husky spelling fix."),g(),p(291,"li"),S(292,"Fixed Kiwi not availble on Star pack. (Thanks Grounded)"),g(),g(),p(293,"h2"),S(294,"v0.5.11"),g(),p(295,"ul"),p(296,"li"),S(297,"Opossum is spelled correctly."),g(),g(),p(298,"h2"),S(299,"v0.5.10"),g(),p(300,"ul"),p(301,"li"),S(302,"Buff pets do not target 50/50 friends."),g(),g(),p(303,"h2"),S(304,"v0.5.9"),g(),p(305,"ul"),p(306,"li"),S(307,"Fixed Rhino base stats."),g(),p(308,"li"),S(309,"Fixed bug with Tiger behind Hurt pet. (Thanks Freetz)."),g(),p(310,"li"),S(311,"Reset button resets Equipment."),g(),p(312,"li"),S(313,"Fixed bugs with export/import."),g(),g(),p(314,"h2"),S(315,"v0.5.8"),g(),p(316,"ul"),p(317,"li"),S(318,"Fixed bug where Zombie Flies sometimes would spawn in the wrong position. (Thanks Grounded)"),g(),g(),p(319,"h2"),S(320,"v0.5.7"),g(),p(321,"ul"),p(322,"li"),S(323,"Added Pineapple."),g(),g(),p(324,"h2"),S(325,"v0.5.6"),g(),p(326,"ul"),p(327,"li"),S(328,"Fixed bug with Turtle always behaving as a level 1."),g(),g(),p(329,"h2"),S(330,"v0.5.5"),g(),p(331,"ul"),p(332,"li"),S(333,"Fixed bug with Pancakes pet getting all of the stats. (Thanks Grounded)"),g(),g(),p(334,"h2"),S(335,"v0.5.4"),g(),p(336,"ul"),p(337,"li"),S(338,"Calculator is (more) usable on mobile devices."),g(),g(),p(339,"h2"),S(340,"v0.5.3"),g(),p(341,"ul"),p(342,"li"),S(343,"Added Reset buttons for the Player and Opponent."),g(),p(344,"li"),S(345,"Export/Import Calculator."),g(),p(346,"li"),S(347,'Added "Old Stork" mode.'),g(),p(348,"li"),S(349,"Fixed spawn bug sometimes duplicating pets when up against Royal Flycatcher. (Thanks Freetz)"),g(),p(350,"li"),S(351,"Fixed bug with pets having Friend Summoned abilities hitting themselves when summoned with a mushroom."),g(),p(352,"li"),S(353,"Fixed bug with Pteradon's ability triggering if it also faints."),g(),g(),p(354,"h2"),S(355,"v0.5.2"),g(),p(356,"ul"),p(357,"li"),S(358,"Import Custom Packs"),g(),p(359,"li"),S(360,"Custom Pack editor improvments."),g(),g(),p(361,"h2"),S(362,"v0.5.1"),g(),p(363,"ul"),p(364,"li"),S(365,"Added remaining custom pack pets."),g(),p(366,"ul"),p(367,"li"),S(368,"Frilled Dragon, Wombat, Aardvark, Bear, Emperor Tamerain, Procupine, Wasp Dragonfly, Lynx, Seagull, Alpaca, Hyena, Moose, Lioness, Tapir, Walrus, White Tiger"),g(),g(),p(369,"li"),S(370,"Added remaining custom pack food."),g(),p(371,"ul"),p(372,"li"),S(373,"Blueberry, Donut"),g(),g(),p(374,"li"),S(375,"Fixed bug with blobfish showing as tier 3. (Thanks Freetz)"),g(),p(376,"li"),S(377,"Fixed bug with eggplant triggering multiple times when running the simulation multiple times. (Thanks Freetz)"),g(),p(378,"li"),S(379,"Fixed bug with mosquito able to target the same pet."),g(),g(),p(380,"h2"),S(381,"v0.5.0"),g(),p(382,"ul"),p(383,"li"),S(384,"Added custom packs!"),g(),p(385,"li"),S(386,"Added Jerboa"),g(),p(387,"li"),S(388,"Added Fortune Cookie"),g(),g(),p(389,"h2"),S(390,"v0.4.16"),g(),p(391,"ul"),p(392,"li"),S(393,"Updated to SAP Version 0.30.6-138 BETA"),g(),p(394,"ul"),p(395,"li"),S(396," Updated stats/abilities of these pets: Whale, Frog, Iguana, Marmoset, Mouse, Koala, Panda, Shrimp, Tabby Cat, Camel, Eel, Giraffe, Musk Ox, Owl, Ox, Starfish, Anteater, Chameleon, Egyptian Vulture, Manta Ray, Platypus, Cockatoo, Crane, Monkey, Shark, Piranha, Sabertooth Tiger. "),g(),p(397,"li"),S(398," Added Durian. "),g(),g(),g(),p(399,"h2"),S(400,"v0.4.15"),g(),p(401,"ul"),p(402,"li"),S(403,"Fixed bug with Eggplant triggering too many times. (Thanks Freetz)"),g(),g(),p(404,"h2"),S(405,"v0.4.14"),g(),p(406,"ul"),p(407,"li"),S(408,"Fixed rounding error with Skunk ability/Stinky Sock."),g(),p(409,"li"),S(410,"Fixed faint pets ability being the level of the whale when swallowed. (Thanks kutarba)"),g(),g(),p(411,"h2"),S(412,"v0.4.13"),g(),p(413,"ul"),p(414,"li"),S(415,"Fixed Pteradon"),g(),g(),p(416,"h2"),S(417,"v0.4.12"),g(),p(418,"ul"),p(419,"li"),S(420,"Updated to SAP Version 0.29.6-135 BETA"),g(),p(421,"ul"),p(422,"li"),S(423,"Updated stats/abilities of these pets: Ladybug, Atlantic Puffin, Guinea Pig, Hedgehog, Jellyfish, Pug, Salamander, Toucan, Blobfish, Clownfish, Flea, Flying Fish, Mole, Chameleon, Eel, Hippo, Poison Dart Frog, Whale, Fire Ant, Fox, Turkey, Lionfish, Pteradon, Tyrannosaurus. "),g(),g(),g(),p(424,"h2"),S(425,"v0.4.11"),g(),p(426,"ul"),p(427,"li"),S(428,"Fixed bug with Tiger not triggering Leopard when there are few enemies. (Thanks /u/MHolmesSC)"),g(),p(429,"li"),S(430,"Fixed bug with Ant over buffing units on faint. (Thanks /u/MHolmesSC)"),g(),p(431,"li"),S(432,"Fixed bug with Spider behaving odd. (Thanks /u/-RARO-)"),g(),S(433,"ng\n"),g(),p(434,"h2"),S(435,"v0.4.10"),g(),p(436,"ul"),p(437,"li"),S(438,"Fixed bug with Fly not spawning Zombie Fly from Start of Battle abilities fainting pets. (Thanks /u/Danielmac757)"),g(),g(),p(439,"h2"),S(440,"v0.4.9"),g(),p(441,"ul"),p(442,"li"),S(443,"Info/Guide modal."),g(),g(),p(444,"h2"),S(445,"v0.4.8"),g(),p(446,"ul"),p(447,"li"),S(448,"Fixed a bug with Fly attempting to spawn Zombie Fly when there is no room."),g(),g(),p(449,"h2"),S(450,"v0.4.7"),g(),p(451,"ul"),p(452,"li"),S(453,"Updated to SAP Version 0.28.20-130 BETA"),g(),p(454,"ul"),p(455,"li"),S(456,"Changed pets so they all move forward after start of battle abilities."),g(),g(),g(),p(457,"h2"),S(458,"v0.4.6"),g(),p(459,"ul"),p(460,"li"),S(461,"Fixed a bug with mushroom breaking the simulation by breaking the cache process. (Thanks BeastiaVenator)"),g(),p(462,"li"),S(463,"Fixed a bug with loading equipment from the browser cache."),g(),g(),p(464,"h2"),S(465,"v0.4.5"),g(),p(466,"ul"),p(467,"li"),S(468,"Drag and Drop!"),g(),g(),p(469,"h2"),S(470,"v0.4.4"),g(),p(471,"ul"),p(472,"li"),S(473,"Fixed a handful of Tiger bugs causing infinite loops."),g(),p(474,"li"),S(475,"Fixed a bug with typing select options."),g(),g(),p(476,"h2"),S(477,"v0.4.3"),g(),p(478,"ul"),p(479,"li"),S(480,"Duplicate pet option hotfix."),g(),g(),p(481,"h2"),S(482,"v0.4.2"),g(),p(483,"ul"),p(484,"li"),S(485,"Calculator state saves on 'Simulate'."),g(),p(486,"ul"),p(487,"li"),S(488,"This is stored in the browser cache. You can clear the cache by clicking on the link on the bottom of this modal."),g(),g(),p(489,"li"),S(490,"Fixed bugs with Angler mode toggling."),g(),p(491,"li"),S(492,"Zoom In/Out feature."),g(),p(493,"li"),S(494,"Fixed bug with Fly triggering twice instead of three times. (Thanks nob)"),g(),p(495,"li"),S(496,"Fixed bug with some snipe pets having no targets breaking simulation."),g(),g(),p(497,"h2"),S(498,"v0.4.1"),g(),p(499,"ul"),p(500,"li"),S(501,"Fixed a bug where Shark would gain attack/health on its own death. (Thanks mumf)"),g(),p(502,"li"),S(503,"Fixed a bug where attack bonus food would affect snipes. (Thanks Tangl)"),g(),g())},styles:[""]}),n})();const JX=JSON.parse('{"tier1":[{"name":"Alchemedes","tier":"1","id":"626"},{"name":"Ant","tier":"1","id":"0"},{"name":"Axehandle Hound","tier":"1","id":"377"},{"name":"Baku","tier":"1","id":"628"},{"name":"Barghest","tier":"1","id":"621"},{"name":"Basilisk","tier":"1","id":"332"},{"name":"Beaver","tier":"1","id":"3"},{"name":"Bee","tier":"1","id":"4"},{"name":"Beetle","tier":"1","id":"88"},{"name":"Bluebird","tier":"1","id":"89"},{"name":"Bulldog","tier":"1","id":"189"},{"name":"Bunyip","tier":"1","id":"601"},{"name":"Burbel","tier":"1","id":"659"},{"name":"Bus","tier":"1","id":"85"},{"name":"Butterfly","tier":"1","id":"9"},{"name":"Chick","tier":"1","id":"13"},{"name":"Chimera Goat","tier":"1","id":"648"},{"name":"Chimera Lion","tier":"1","id":"650"},{"name":"Chimera Snake","tier":"1","id":"649"},{"name":"Chinchilla","tier":"1","id":"161"},{"name":"Chipmunk","tier":"1","id":"184"},{"name":"Cockroach","tier":"1","id":"18"},{"name":"Cone Snail","tier":"1","id":"272"},{"name":"Cracked Egg","tier":"1","id":"647"},{"name":"Cricket","tier":"1","id":"17"},{"name":"Cuddle Toad","tier":"1","id":"611"},{"name":"Daycrawler","tier":"1","id":"641"},{"name":"Dirty Rat","tier":"1","id":"58"},{"name":"Duck","tier":"1","id":"26"},{"name":"Duckling","tier":"1","id":"113"},{"name":"Fake Nessie","tier":"1","id":"614"},{"name":"Ferret","tier":"1","id":"172"},{"name":"Fire Pup","tier":"1","id":"343"},{"name":"Fish","tier":"1","id":"32"},{"name":"Frilled Dragon","tier":"1","id":"198"},{"name":"Frog","tier":"1","id":"139"},{"name":"Gecko","tier":"1","id":"229"},{"name":"Giant Eyes Dog","tier":"1","id":"644"},{"name":"Golden Retriever","tier":"1","id":"188"},{"name":"Good Dog","tier":"1","id":"658"},{"name":"Goose","tier":"1","id":"232"},{"name":"Groundhog","tier":"1","id":"233"},{"name":"Guinea Piglet","tier":"1","id":"179"},{"name":"Lemming","tier":"1","id":"665"},{"name":"Chihuahua","tier":"1","id":"666"},{"name":"Firefly","tier":"1","id":"667"},{"name":"Pheasant","tier":"1","id":"668"},{"name":"Horse","tier":"1","id":"39"},{"name":"Hummingbird","tier":"1","id":"138"},{"name":"Hydra Head","tier":"1","id":"643"},{"name":"Kiwi","tier":"1","id":"131"},{"name":"Ladybug","tier":"1","id":"92"},{"name":"Lizard Tail","tier":"1","id":"282"},{"name":"Loyal Chinchilla","tier":"1","id":"183"},{"name":"Magpie","tier":"1","id":"239"},{"name":"Marmoset","tier":"1","id":"204"},{"name":"Moby Dick","tier":"1","id":"-"},{"name":"Monty","tier":"1","id":"384"},{"name":"Mosquito","tier":"1","id":"47"},{"name":"Moth","tier":"1","id":"141"},{"name":"Mouse","tier":"1","id":"48"},{"name":"Murmel","tier":"1","id":"362"},{"name":"Nest","tier":"1","id":"508"},{"name":"Opossum","tier":"1","id":"187"},{"name":"Otter","tier":"1","id":"51"},{"name":"Pied Tamarin","tier":"1","id":"251"},{"name":"Pig","tier":"1","id":"59"},{"name":"Pigeon","tier":"1","id":"559"},{"name":"Pillbug","tier":"1","id":"149"},{"name":"Ram","tier":"1","id":"62"},{"name":"Mantis","tier":"1","id":"664"},{"name":"Rock","tier":"1","id":"638"},{"name":"Seahorse","tier":"1","id":"152"},{"name":"Silkmoth","tier":"1","id":"260"},{"name":"Sloth","tier":"1","id":"71"},{"name":"Smaller Slime","tier":"1","id":"642"},{"name":"Smaller Slug","tier":"1","id":"270"},{"name":"Smallest Slug","tier":"1","id":"477"},{"name":"Sneaky Egg","tier":"1","id":"617"},{"name":"Tsuchinoko","tier":"1","id":"379"},{"name":"Warf","tier":"1","id":"382"},{"name":"Young Phoenix","tier":"1","id":"646"},{"name":"Zombie Cricket","tier":"1","id":"86"},{"name":"Zombie Fly","tier":"1","id":"31"}],"tier2":[{"name":"African Penguin","tier":"2","id":"210"},{"name":"Atlantic Puffin","tier":"2","id":"132"},{"name":"Bat","tier":"2","id":"87"},{"name":"Beluga Sturgeon","tier":"2","id":"213"},{"name":"Bigfoot","tier":"2","id":"334"},{"name":"Bilby","tier":"2","id":"663"},{"name":"Black Necked Stilt","tier":"2","id":"215"},{"name":"Chupacabra","tier":"2","id":"339"},{"name":"Crab","tier":"2","id":"16"},{"name":"Door Head Ant","tier":"2","id":"220"},{"name":"Dove","tier":"2","id":"24"},{"name":"Dromedary","tier":"2","id":"104"},{"name":"Drop Bear","tier":"2","id":"341"},{"name":"Flamingo","tier":"2","id":"29"},{"name":"Frigatebird","tier":"2","id":"137"},{"name":"Frost Wolf","tier":"2","id":"344"},{"name":"Gargoyle","tier":"2","id":"345"},{"name":"Gazelle","tier":"2","id":"185"},{"name":"Ghost Kitten","tier":"2","id":"346"},{"name":"Golden Beetle","tier":"2","id":"634"},{"name":"Guinea Pig","tier":"2","id":"109"},{"name":"Hedgehog","tier":"2","id":"37"},{"name":"Hercules Beetle","tier":"2","id":"234"},{"name":"Iguana","tier":"2","id":"147"},{"name":"Jackalope","tier":"2","id":"353"},{"name":"Jellyfish","tier":"2","id":"122"},{"name":"Kangaroo","tier":"2","id":"40"},{"name":"Koala","tier":"2","id":"112"},{"name":"Lemur","tier":"2","id":"236"},{"name":"Lizard","tier":"2","id":"237"},{"name":"Lucky Cat","tier":"3","id":"623"},{"name":"Mandrill","tier":"2","id":"405"},{"name":"Mothman","tier":"2","id":"604"},{"name":"Nightcrawler","tier":"2","id":"605"},{"name":"Ogopogo","tier":"2","id":"639"},{"name":"Panda","tier":"2","id":"107"},{"name":"Peacock","tier":"2","id":"54"},{"name":"Rat","tier":"2","id":"57"},{"name":"Robin","tier":"2","id":"255"},{"name":"Salamander","tier":"2","id":"164"},{"name":"Sea Turtle","tier":"2","id":"191"},{"name":"Sea Urchin","tier":"2","id":"258"},{"name":"Shrimp","tier":"2","id":"67"},{"name":"Snail","tier":"2","id":"72"},{"name":"Sphinx","tier":"2","id":"376"},{"name":"Spider","tier":"2","id":"74"},{"name":"Squid","tier":"2","id":"177"},{"name":"Stoat","tier":"2","id":"263"},{"name":"Stork","tier":"2","id":"136"},{"name":"Swan","tier":"2","id":"76"},{"name":"Tabby Cat","tier":"2","id":"99"},{"name":"Thunderbird","tier":"2","id":"610"},{"name":"Toucan","tier":"2","id":"151"},{"name":"Wombat","tier":"2","id":"207"},{"name":"Worm","tier":"2","id":"82"},{"name":"Yak","tier":"2","id":"163"},{"name":"Dumbo Octupus","tier":"2","id":"661"},{"name":"Bass","tier":"2","id":"669"}],"tier3":[{"name":"Aardvark","tier":"3","id":"193"},{"name":"Anteater","tier":"3","id":"105"},{"name":"Baboon","tier":"3","id":"171"},{"name":"Badger","tier":"3","id":"2"},{"name":"Bear","tier":"3","id":"140"},{"name":"Betta Fish","tier":"3","id":"214"},{"name":"Brain Cramp","tier":"3","id":"349"},{"name":"Calygreyhound","tier":"3","id":"336"},{"name":"Camel","tier":"3","id":"10"},{"name":"Capybara","tier":"3","id":"154"},{"name":"Cassowary","tier":"3","id":"133"},{"name":"Deer Lord","tier":"3","id":"651"},{"name":"Dodo","tier":"3","id":"21"},{"name":"Dog","tier":"3","id":"22"},{"name":"Dolphin","tier":"3","id":"23"},{"name":"Eel","tier":"3","id":"120"},{"name":"Elephant","tier":"3","id":"28"},{"name":"Emperor Tamarin","tier":"3","id":"197"},{"name":"Flea","tier":"3","id":"225"},{"name":"Flying Fish","tier":"3","id":"226"},{"name":"Flying Squirrel","tier":"3","id":"227"},{"name":"Foo Dog","tier":"3","id":"625"},{"name":"Fur-Bearing Trout","tier":"3","id":"653"},{"name":"Giraffe","tier":"3","id":"33"},{"name":"Gold Fish","tier":"3","id":"121"},{"name":"Griffin","tier":"3","id":"348"},{"name":"Guineafowl","tier":"3","id":"228"},{"name":"Hare","tier":"3","id":"551"},{"name":"Hatching Chick","tier":"3","id":"91"},{"name":"Hoopoe Bird","tier":"3","id":"235"},{"name":"Leech","tier":"3","id":"165"},{"name":"Mana Hound","tier":"3","id":"635"},{"name":"Mandrake","tier":"3","id":"357"},{"name":"Meerkat","tier":"3","id":"203"},{"name":"Minotaur","tier":"4","id":"360"},{"name":"Mole","tier":"3","id":"168"},{"name":"Musk Ox","tier":"3","id":"245"},{"name":"Okapi","tier":"3","id":"130"},{"name":"Osprey","tier":"3","id":"247"},{"name":"Ouroboros","tier":"3","id":"364"},{"name":"Owl","tier":"3","id":"95"},{"name":"Ox","tier":"3","id":"52"},{"name":"Pangolin","tier":"3","id":"249"},{"name":"Pegasus","tier":"3","id":"365"},{"name":"Porcupine","tier":"3","id":"169"},{"name":"Pug","tier":"3","id":"145"},{"name":"Puppy","tier":"3","id":"97"},{"name":"Rabbit","tier":"3","id":"60"},{"name":"Royal Flycatcher","tier":"3","id":"256"},{"name":"Sheep","tier":"3","id":"68"},{"name":"Skeleton Dog","tier":"3","id":"374"},{"name":"Slime","tier":"3","id":"375"},{"name":"Surgeon Fish","tier":"3","id":"264"},{"name":"Toad","tier":"3","id":"162"},{"name":"Tree","tier":"3","id":"378"},{"name":"Tropical Fish","tier":"3","id":"100"},{"name":"Wasp","tier":"3","id":"160"},{"name":"Weasel","tier":"3","id":"173"},{"name":"Woodpecker","tier":"3","id":"156"},{"name":"Wyvern","tier":"3","id":"385"},{"name":"Tuna","tier":"3","id":"670"}],"tier4":[{"name":"Abomination","tier":"4","id":"373"},{"name":"Anubis","tier":"4","id":"331"},{"name":"Bison","tier":"4","id":"5"},{"name":"Blobfish","tier":"4","id":"150"},{"name":"Blowfish","tier":"4","id":"7"},{"name":"Buffalo","tier":"4","id":"8"},{"name":"Caterpillar","tier":"4","id":"12"},{"name":"Chameleon","tier":"4","id":"216"},{"name":"Chimera","tier":"4","id":"338"},{"name":"Clownfish","tier":"4","id":"117"},{"name":"Cockatoo","tier":"4","id":"218"},{"name":"Crow","tier":"4","id":"195"},{"name":"Cuttlefish","tier":"4","id":"176"},{"name":"Cyclops","tier":"4","id":"630"},{"name":"Deer","tier":"4","id":"20"},{"name":"Doberman","tier":"4","id":"273"},{"name":"Donkey","tier":"4","id":"111"},{"name":"Dragonfly","tier":"4","id":"196"},{"name":"Fairy","tier":"4","id":"342"},{"name":"Falcon","tier":"4","id":"224"},{"name":"Gharial","tier":"4","id":"231"},{"name":"Hawk","tier":"4","id":"127"},{"name":"Hippo","tier":"4","id":"38"},{"name":"Hippocampus","tier":"4","id":"350"},{"name":"Jerboa","tier":"4","id":"199"},{"name":"Kraken","tier":"4","id":"355"},{"name":"Llama","tier":"4","id":"44"},{"name":"Lobster","tier":"4","id":"93"},{"name":"Lynx","tier":"4","id":"200"},{"name":"Manatee","tier":"4","id":"192"},{"name":"Manta Ray","tier":"4","id":"240"},{"name":"Microbe","tier":"4","id":"94"},{"name":"Old Mouse","tier":"4","id":"612"},{"name":"Orangutan","tier":"4","id":"157"},{"name":"Parrot","tier":"4","id":"53"},{"name":"Pelican","tier":"4","id":"129"},{"name":"Penguin","tier":"4","id":"56"},{"name":"Platypus","tier":"4","id":"159"},{"name":"Poison Dart Frog","tier":"4","id":"252"},{"name":"Praying Mantis","tier":"4","id":"126"},{"name":"Roc","tier":"4","id":"369"},{"name":"Rootling","tier":"4","id":"622"},{"name":"Saiga Antelope","tier":"4","id":"257"},{"name":"Seagull","tier":"4","id":"128"},{"name":"Sealion","tier":"4","id":"175"},{"name":"Secretary Bird","tier":"4","id":"259"},{"name":"Skunk","tier":"4","id":"70"},{"name":"Slug","tier":"4","id":"262"},{"name":"Squirrel","tier":"4","id":"75"},{"name":"Starfish","tier":"4","id":"153"},{"name":"Tahr","tier":"4","id":"393"},{"name":"Tatzelwurm","tier":"4","id":"654"},{"name":"Tiger Bug","tier":"4","id":"330"},{"name":"Turtle","tier":"4","id":"80"},{"name":"Unicorn","tier":"4","id":"380"},{"name":"Vaquita","tier":"4","id":"265"},{"name":"Visitor","tier":"4","id":"386"},{"name":"Whale","tier":"4","id":"81"},{"name":"Whale Shark","tier":"4","id":"267"},{"name":"Worm of Sand","tier":"4","id":"371"},{"name":"Elk","tier":"4","id":"671"}],"tier5":[{"name":"Alpaca","tier":"5","id":"194"},{"name":"Armadillo","tier":"5","id":"166"},{"name":"Axolotl","tier":"5","id":"212"},{"name":"Bad Dog","tier":"5","id":"613"},{"name":"Beluga Whale","tier":"5","id":"182"},{"name":"Blue Ringed Octopus","tier":"5","id":"271"},{"name":"Boitata","tier":"5","id":"656"},{"name":"Chicken","tier":"5","id":"14"},{"name":"Cow","tier":"5","id":"15"},{"name":"Crane","tier":"5","id":"219"},{"name":"Crocodile","tier":"5","id":"19"},{"name":"Eagle","tier":"5","id":"27"},{"name":"Eagle","tier":"5","id":"662"},{"name":"Egyptian Vulture","tier":"5","id":"221"},{"name":"Emu","tier":"5","id":"223"},{"name":"Fire Ant","tier":"5","id":"274"},{"name":"Fox","tier":"5","id":"106"},{"name":"Goat","tier":"5","id":"34"},{"name":"Hamster","tier":"5","id":"110"},{"name":"Hyena","tier":"5","id":"167"},{"name":"Jersey Devil","tier":"5","id":"652"},{"name":"Kappa","tier":"5","id":"655"},{"name":"Kitsune","tier":"5","id":"354"},{"name":"Lion","tier":"5","id":"42"},{"name":"Loveland Frogman","tier":"5","id":"640"},{"name":"Macaque","tier":"5","id":"238"},{"name":"Mimic","tier":"5","id":"359"},{"name":"Monkey","tier":"5","id":"46"},{"name":"Moose","tier":"5","id":"202"},{"name":"Mosasaurus","tier":"5","id":"242"},{"name":"Nessie","tier":"5","id":"363"},{"name":"Nurikabe","tier":"5","id":"657"},{"name":"Nurse Shark","tier":"5","id":"276"},{"name":"Nyala","tier":"5","id":"246"},{"name":"Panther","tier":"5","id":"250"},{"name":"Pixiu","tier":"5","id":"619"},{"name":"Polar Bear","tier":"5","id":"108"},{"name":"Poodle","tier":"5","id":"96"},{"name":"Raccoon","tier":"5","id":"158"},{"name":"Red Dragon","tier":"5","id":"368"},{"name":"Rhino","tier":"5","id":"55"},{"name":"Rooster","tier":"5","id":"63"},{"name":"Salmon of Knowledge","tier":"5","id":"370"},{"name":"Scorpion","tier":"5","id":"65"},{"name":"Seal","tier":"5","id":"66"},{"name":"Shark","tier":"5","id":"69"},{"name":"Shoebill","tier":"5","id":"134"},{"name":"Siberian Husky","tier":"5","id":"146"},{"name":"Silver Fox","tier":"5","id":"261"},{"name":"Snapping Turtle","tier":"5","id":"277"},{"name":"Sting Ray","tier":"5","id":"178"},{"name":"Stonefish","tier":"5","id":"278"},{"name":"Sword Fish","tier":"5","id":"119"},{"name":"Tandgnost","tier":"5","id":"607"},{"name":"Tandgrisner","tier":"5","id":"608"},{"name":"Triceratops","tier":"5","id":"142"},{"name":"Turkey","tier":"5","id":"79"},{"name":"Vampire Bat","tier":"5","id":"381"},{"name":"Vulture","tier":"5","id":"135"},{"name":"Werewolf","tier":"5","id":"383"},{"name":"Wolf","tier":"5","id":"170"},{"name":"Zebra","tier":"5","id":"155"}],"tier6":[{"name":"Anglerfish","tier":"6","id":"180"},{"name":"Behemoth","tier":"6","id":"333"},{"name":"Bird of Paradise","tier":"6","id":"181"},{"name":"Boar","tier":"6","id":"103"},{"name":"Cat","tier":"6","id":"11"},{"name":"Catfish","tier":"6","id":"174"},{"name":"Cerberus","tier":"6","id":"337"},{"name":"Cobra","tier":"6","id":"217"},{"name":"Cockatrice","tier":"6","id":"340"},{"name":"Dragon","tier":"6","id":"25"},{"name":"Elephant Seal","tier":"6","id":"222"},{"name":"Fly","tier":"6","id":"30"},{"name":"German Shepherd","tier":"6","id":"230"},{"name":"Gorilla","tier":"6","id":"36"},{"name":"Great One","tier":"6","id":"335"},{"name":"Grizzly Bear","tier":"6","id":"275"},{"name":"Hammerhead Shark","tier":"6","id":"123"},{"name":"Highland Cow","tier":"6","id":"186"},{"name":"Hydra","tier":"6","id":"352"},{"name":"Komodo","tier":"6","id":"124"},{"name":"Leopard","tier":"6","id":"41"},{"name":"Leviathan","tier":"6","id":"356"},{"name":"Lioness","tier":"6","id":"114"},{"name":"Lionfish","tier":"6","id":"201"},{"name":"Mammoth","tier":"6","id":"45"},{"name":"Manticore","tier":"6","id":"358"},{"name":"Mantis Shrimp","tier":"6","id":"190"},{"name":"Mongoose","tier":"6","id":"241"},{"name":"Octopus","tier":"6","id":"50"},{"name":"Orca","tier":"6","id":"116"},{"name":"Ostrich","tier":"6","id":"125"},{"name":"Oyster","tier":"6","id":"248"},{"name":"Phoenix","tier":"6","id":"366"},{"name":"Piranha","tier":"6","id":"118"},{"name":"Pteranodon","tier":"6","id":"253"},{"name":"Puma","tier":"6","id":"254"},{"name":"Questing Beast","tier":"6","id":"616"},{"name":"Quetzalcoatl","tier":"6","id":"367"},{"name":"Reindeer","tier":"6","id":"205"},{"name":"Sabertooth Tiger","tier":"6","id":"148"},{"name":"Sauropod","tier":"6","id":"98"},{"name":"Sea Serpent","tier":"6","id":"372"},{"name":"Sleipnir","tier":"6","id":"606"},{"name":"Snake","tier":"6","id":"73"},{"name":"Spinosaurus","tier":"6","id":"143"},{"name":"Stegosaurus","tier":"6","id":"144"},{"name":"Tapir","tier":"6","id":"208"},{"name":"Team Spirit","tier":"6","id":"636"},{"name":"Tiger","tier":"6","id":"77"},{"name":"Tyrannosaurus","tier":"6","id":"78"},{"name":"Velociraptor","tier":"6","id":"115"},{"name":"Walrus","tier":"6","id":"209"},{"name":"Warthog","tier":"6","id":"266"},{"name":"White Tiger","tier":"6","id":"206"},{"name":"Wildebeest","tier":"6","id":"268"},{"name":"Wolverine","tier":"6","id":"269"},{"name":"Yeti","tier":"6","id":"387"},{"name":"Albatross","tier":6,"id":"660"}]}');var ZX=Qt.t(JX,2);function XX(n,t){1&n&&(p(0,"div",12),S(1," That name is not allowed. "),g())}function eee(n,t){if(1&n&&(p(0,"div",13),se(1,"input",14),p(2,"label",15),S(3),g(),g()),2&n){const e=t.$implicit;H(1),z("id",e)("formControlName",e),H(1),z("for",e),H(1),wi(" ",e," ")}}function tee(n,t){if(1&n&&(p(0,"div",13),se(1,"input",14),p(2,"label",15),S(3),g(),g()),2&n){const e=t.$implicit;H(1),z("id",e)("formControlName",e),H(1),z("for",e),H(1),wi(" ",e," ")}}function iee(n,t){if(1&n&&(p(0,"div",13),se(1,"input",14),p(2,"label",15),S(3),g(),g()),2&n){const e=t.$implicit;H(1),z("id",e)("formControlName",e),H(1),z("for",e),H(1),wi(" ",e," ")}}function nee(n,t){if(1&n&&(p(0,"div",13),se(1,"input",14),p(2,"label",15),S(3),g(),g()),2&n){const e=t.$implicit;H(1),z("id",e)("formControlName",e),H(1),z("for",e),H(1),wi(" ",e," ")}}function see(n,t){if(1&n&&(p(0,"div",13),se(1,"input",14),p(2,"label",15),S(3),g(),g()),2&n){const e=t.$implicit;H(1),z("id",e)("formControlName",e),H(1),z("for",e),H(1),wi(" ",e," ")}}function ree(n,t){if(1&n&&(p(0,"div",13),se(1,"input",14),p(2,"label",15),S(3),g(),g()),2&n){const e=t.$implicit;H(1),z("id",e)("formControlName",e),H(1),z("for",e),H(1),wi(" ",e," ")}}function oee(n,t){1&n&&(p(0,"div",12),S(1," Name is required. "),g())}let aee=(()=>{class n{constructor(e){this.equipmentService=e,this.submitEvent=new mt,this.cancelEvent=new mt,this.loaded=!1}ngOnInit(){this.initCheckboxFormGroup(),this.formGroup.updateValueAndValidity()}initCheckboxFormGroup(){let e=new Ni({}),i=new Ni({}),s=new Ni({}),r=new Ni({}),o=new Ni({}),a=new Ni({});for(let l of this.getPets(1)){let h=new ne(this.formGroup.get("tier1Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(1,l,f)}),e.addControl(l,h)}for(let l of this.getPets(2)){let h=new ne(this.formGroup.get("tier2Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(2,l,f)}),i.addControl(l,h)}for(let l of this.getPets(3)){let h=new ne(this.formGroup.get("tier3Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(3,l,f)}),s.addControl(l,h)}for(let l of this.getPets(4)){let h=new ne(this.formGroup.get("tier4Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(4,l,f)}),r.addControl(l,h)}for(let l of this.getPets(5)){let h=new ne(this.formGroup.get("tier5Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(5,l,f)}),o.addControl(l,h)}for(let l of this.getPets(6)){let h=new ne(this.formGroup.get("tier6Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(6,l,f)}),a.addControl(l,h)}this.checkboxFormGroup=new Ni({tier1Pets:e,tier2Pets:i,tier3Pets:s,tier4Pets:r,tier5Pets:o,tier6Pets:a})}getCheckboxFormGroup(e){return this.checkboxFormGroup.get(`tier${e}Pets`)}getPets(e){let i=[];for(let[s,r]of this.petPackMap.get(e))i.push(...r);return i=[...new Set(i)],i}getCount(e){return this.formGroup.get(`tier${e}Pets`).value.length}processCheckboxChange(e,i,s){let r=this.formGroup.get(`tier${e}Pets`).value;s?r.push(i):(0,me.remove)(r,o=>o===i),this.formGroup.get(`tier${e}Pets`).updateValueAndValidity()}submit(){this.submitEvent.emit(this.formGroup)}cancel(){confirm("Are you sure you want to cancel?")&&this.cancelEvent.emit(this.formGroup)}submitDisabled(){return this.formGroup.get("name").invalid}}return n.\u0275fac=function(e){return new(e||n)(V(Kn))},n.\u0275cmp=Nn({type:n,selectors:[["app-custom-pack-form"]],inputs:{formGroup:"formGroup",petPackMap:"petPackMap"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:68,vars:34,consts:[[3,"formGroup"],[1,"row","mb-4"],[1,"col-12"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],["class","invalid",4,"ngIf"],[1,"row","mb-4",3,"formGroup"],[1,"row"],[1,"col-12","editor-grid"],["class","form-check",4,"ngFor","ngForOf"],[1,"btn","btn-primary","me-2",3,"disabled","click"],[1,"btn","btn-danger",3,"click"],[1,"invalid"],[1,"form-check"],["type","checkbox","value","",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"]],template:function(e,i){1&e&&(p(0,"form",0),p(1,"div",1),p(2,"div",2),p(3,"label",3),S(4,"Pack Name"),g(),se(5,"input",4),Re(6,XX,2,0,"div",5),g(),g(),p(7,"div",6),p(8,"div",2),p(9,"h3"),S(10,"Tier 1 Pets "),p(11,"span"),S(12),g(),g(),p(13,"div",7),p(14,"div",8),Re(15,eee,4,4,"div",9),g(),g(),g(),g(),p(16,"div",6),p(17,"div",2),p(18,"h3"),S(19,"Tier 2 Pets "),p(20,"span"),S(21),g(),g(),p(22,"div",7),p(23,"div",8),Re(24,tee,4,4,"div",9),g(),g(),g(),g(),p(25,"div",6),p(26,"div",2),p(27,"h3"),S(28,"Tier 3 Pets "),p(29,"span"),S(30),g(),g(),p(31,"div",7),p(32,"div",8),Re(33,iee,4,4,"div",9),g(),g(),g(),g(),p(34,"div",6),p(35,"div",2),p(36,"h3"),S(37,"Tier 4 Pets "),p(38,"span"),S(39),g(),g(),p(40,"div",7),p(41,"div",8),Re(42,nee,4,4,"div",9),g(),g(),g(),g(),p(43,"div",6),p(44,"div",2),p(45,"h3"),S(46,"Tier 5 Pets "),p(47,"span"),S(48),g(),g(),p(49,"div",7),p(50,"div",8),Re(51,see,4,4,"div",9),g(),g(),g(),g(),p(52,"div",6),p(53,"div",2),p(54,"h3"),S(55,"Tier 6 Pets "),p(56,"span"),S(57),g(),g(),p(58,"div",7),p(59,"div",8),Re(60,ree,4,4,"div",9),g(),g(),g(),g(),p(61,"div",7),p(62,"div",2),p(63,"button",10),Ue("click",function(){return i.submit()}),S(64,"Submit Pack"),g(),p(65,"button",11),Ue("click",function(){return i.cancel()}),S(66,"Cancel"),g(),Re(67,oee,2,0,"div",5),g(),g(),g()),2&e&&(z("formGroup",i.formGroup),H(6),z("ngIf",null==i.formGroup.get("name").errors?null:i.formGroup.get("name").errors.forbiddenName),H(1),z("formGroup",i.getCheckboxFormGroup(1)),H(4),Os(10==i.getCount(1)?"valid":"invalid"),H(1),wi("",i.getCount(1),"/10"),H(3),z("ngForOf",i.getPets(1)),H(1),z("formGroup",i.getCheckboxFormGroup(2)),H(4),Os(10==i.getCount(2)?"valid":"invalid"),H(1),wi("",i.getCount(2),"/10"),H(3),z("ngForOf",i.getPets(2)),H(1),z("formGroup",i.getCheckboxFormGroup(3)),H(4),Os(10==i.getCount(3)?"valid":"invalid"),H(1),wi("",i.getCount(3),"/10"),H(3),z("ngForOf",i.getPets(3)),H(1),z("formGroup",i.getCheckboxFormGroup(4)),H(4),Os(10==i.getCount(4)?"valid":"invalid"),H(1),wi("",i.getCount(4),"/10"),H(3),z("ngForOf",i.getPets(4)),H(1),z("formGroup",i.getCheckboxFormGroup(5)),H(4),Os(10==i.getCount(5)?"valid":"invalid"),H(1),wi("",i.getCount(5),"/10"),H(3),z("ngForOf",i.getPets(5)),H(1),z("formGroup",i.getCheckboxFormGroup(6)),H(4),Os(10==i.getCount(6)?"valid":"invalid"),H(1),wi("",i.getCount(6),"/10"),H(3),z("ngForOf",i.getPets(6)),H(3),z("disabled",i.submitDisabled()),H(4),z("ngIf",i.submitDisabled()))},directives:[h3,dc,Go,qo,hc,qa,gh,Tp,c_],styles:[".editor-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);grid-gap:1rem}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:#0ab40a}"]}),n})();function lee(n,t){if(1&n){const e=Hr();p(0,"div",2),p(1,"div",3),p(2,"app-custom-pack-form",4),Ue("submitEvent",function(s){return Lt(e),je().submitEvent(s)})("cancelEvent",function(s){return Lt(e),je().cancelEvent(s)}),g(),g(),g()}if(2&n){const e=je();H(2),z("formGroup",e.makeFormGroup(e.focusedGroup))("petPackMap",e.petPackMap)}}function cee(n,t){1&n&&(p(0,"span",15),S(1,"Valid"),g())}function uee(n,t){1&n&&(p(0,"span",16),S(1,"Invalid"),g())}function hee(n,t){if(1&n){const e=Hr();p(0,"tr"),p(1,"td",11),S(2),g(),p(3,"td",11),Re(4,cee,2,0,"span",12),Re(5,uee,2,0,"span",13),g(),p(6,"td"),p(7,"button",8),Ue("click",function(){const r=Lt(e).$implicit;return je(2).editPack(r)}),S(8,"Edit"),g(),g(),p(9,"td"),p(10,"button",14),Ue("click",function(){const r=Lt(e).$implicit;return je(2).deletePack(r)}),S(11,"Delete"),g(),g(),g()}if(2&n){const e=t.$implicit;H(2),Ii(e.get("name").value),H(2),z("ngIf",e.valid),H(1),z("ngIf",!e.valid)}}function dee(n,t){if(1&n){const e=Hr();p(0,"div"),p(1,"div",5),p(2,"div",3),p(3,"h3"),S(4,"Custom Packs"),g(),p(5,"table"),Re(6,hee,12,3,"tr",6),g(),g(),g(),p(7,"div",7),p(8,"div",3),p(9,"button",8),Ue("click",function(){return Lt(e),je().createNewPack()}),S(10,"Create New Pack"),g(),g(),g(),p(11,"div",5),p(12,"div",3),p(13,"h3"),S(14,"Import Custom Pack"),g(),p(15,"div",9),se(16,"textarea",10),g(),g(),g(),p(17,"div",2),p(18,"div",3),p(19,"button",8),Ue("click",function(){return Lt(e),je().importCustomPack()}),S(20,"Import"),g(),g(),g(),g()}if(2&n){const e=je();H(6),z("ngForOf",e.customPacks.controls),H(9),z("formGroup",e.importFormGroup)}}let fee=(()=>{class n{constructor(e,i){this.petService=e,this.localStorageService=i,this.focusedGroup=null,this.importFormGroup=new Ni({code:new ne(null)}),this.buildPetPackMap()}ngOnInit(){this.customPacks=this.formGroup.get("customPacks")}buildPetPackMap(){this.petPackMap=new Map;for(let e=1;e<=6;e++){let i=new Map;i.set("Turtle",[]),i.set("Puppy",[]),i.set("Star",[]),i.set("Golden",[]),i.set("Unicorn",[]),i.set("Custom",[]),this.petPackMap.set(e,i)}for(let[e,i]of this.petService.turtlePackPets)this.petPackMap.get(e).get("Turtle").push(...i);for(let[e,i]of this.petService.puppyPackPets)this.petPackMap.get(e).get("Puppy").push(...i);for(let[e,i]of this.petService.starPackPets)this.petPackMap.get(e).get("Star").push(...i);for(let[e,i]of this.petService.goldenPackPets)this.petPackMap.get(e).get("Golden").push(...i);for(let[e,i]of this.petService.unicornPackPets)this.petPackMap.get(e).get("Unicorn").push(...i);for(let[e,i]of this.petService.customPackPets)this.petPackMap.get(e).get("Custom").push(...i)}createNewPack(){let e=this.createPack();this.focusedGroup=e}createPack(){return new Ni({name:new ne(null,[tk.required,this.forbiddenNameValidator()]),tier1Pets:new ne([],this.controlArrayLengthOf10()),tier2Pets:new ne([],this.controlArrayLengthOf10()),tier3Pets:new ne([],this.controlArrayLengthOf10()),tier4Pets:new ne([],this.controlArrayLengthOf10()),tier5Pets:new ne([],this.controlArrayLengthOf10()),tier6Pets:new ne([],this.controlArrayLengthOf10())})}makeFormGroup(e){return e}controlArrayLengthOf10(){return e=>10!==e.value.length?{length:!0}:null}submitEvent(e){this.customPacks.controls.includes(e)||this.customPacks.push(e),this.petService.buildCustomPackPets(this.customPacks),this.focusedGroup=null,this.localStorageService.setStorage(this.formGroup.value)}cancelEvent(e){this.focusedGroup=null}editPack(e){this.focusedGroup=e}deletePack(e){if(confirm("Are you sure you want to delete this pack?")){let i=this.customPacks.controls.indexOf(e);this.customPacks.removeAt(i),this.localStorageService.setStorage(this.formGroup.value)}}forbiddenNameValidator(){return e=>{var i,s;let r=["custom"];for(let o of this.customPacks.controls)e!=o.get("name")&&r.push(null===(i=o.get("name").value)||void 0===i?void 0:i.toLowerCase());return r.includes(null===(s=e.value)||void 0===s?void 0:s.toLowerCase())?{forbiddenName:!0}:null}}importCustomPack(){let e=this.importFormGroup.get("code").value;try{e=JSON.parse(e);let i={name:e.Title,tier1Pets:this.getMinions(e.Minions,1),tier2Pets:this.getMinions(e.Minions,2),tier3Pets:this.getMinions(e.Minions,3),tier4Pets:this.getMinions(e.Minions,4),tier5Pets:this.getMinions(e.Minions,5),tier6Pets:this.getMinions(e.Minions,6)};this.createNewPack(),this.focusedGroup.patchValue(i)}catch(i){alert("Invalid code"),console.error(i)}}getMinions(e,i){let s=ZX[`tier${i}`],r=[];for(let o of e)for(let a of s)a.id==o&&r.push(a.name);return r}}return n.\u0275fac=function(e){return new(e||n)(V(bb),V(_I))},n.\u0275cmp=Nn({type:n,selectors:[["app-custom-pack-editor"]],inputs:{formGroup:"formGroup"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[3,"formGroup","petPackMap","submitEvent","cancelEvent"],[1,"row","mb-3"],[4,"ngFor","ngForOf"],[1,"row","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"form-group",3,"formGroup"],["id","code","rows","3","formControlName","code",1,"form-control"],[1,"text"],["class","valid",4,"ngIf"],["class","invalid",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"valid"],[1,"invalid"]],template:function(e,i){1&e&&(Re(0,lee,3,2,"div",0),Re(1,dee,21,2,"div",1)),2&e&&(z("ngIf",null!=i.focusedGroup),H(1),z("ngIf",null==i.focusedGroup))},directives:[gh,aee,dc,Go,Tp,qo,hc,qa],styles:[".valid[_ngcontent-%COMP%]{color:#4caf50}.invalid[_ngcontent-%COMP%]{color:#f44336}.text[_ngcontent-%COMP%]{font-size:1.5em}td[_ngcontent-%COMP%]{padding:.25em .5em}"]}),n})(),pee=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Nn({type:n,selectors:[["app-info"]],decls:97,vars:0,consts:[["src","./assets/info/pack.PNG","alt","pack"],["src","./assets/info/toy.PNG","alt","toy"],["src","./assets/info/angler.PNG","alt","angler"],["src","./assets/info/zoom.PNG","alt","zoom"],["src","./assets/info/advanced.PNG","alt","advanced"],["src","./assets/info/advanced-settings.PNG","alt","advanced settings"],["src","./assets/info/board.PNG","alt","board"],["src","./assets/info/pet.png","alt","pet"],["src","/assets/info/simulate.PNG","alt","simulate"],["src","/assets/info/report-bug.PNG","alt","report bug"],["src","/assets/info/outcome.PNG","alt","outcome"],["src","/assets/info/battles.PNG","alt","battles"],["src","/assets/info/logs.PNG","alt","logs"]],template:function(e,i){1&e&&(p(0,"p"),S(1," The SAP Calculator is an analysis tool that allows you to easily calculate the approximate odds of your team beating another team. The SAP Calculator simulates the defined battle 1000 times and determines the percentage of wins, draws and loses.\n"),g(),p(2,"p"),p(3,"b"),S(4,"Disclaimer: The SAP Calculator is not an official tool of the game and is not affiliated with the game's developers. The SAP Calculator is a fan-made tool, and is not intended to replace the official game."),g(),g(),p(5,"p"),S(6," The SAP Calculator engine is based on the official game engine, but it may not be 100% accurate. It is pretty darn close though, and should be completely accurate for nearly every possible battle.\n"),g(),p(7,"h1"),S(8,"Guide"),g(),se(9,"img",0),p(10,"p"),S(11," Select the pack that the player and opponent are using. This determines the pets that are available to each player.\n"),g(),se(12,"img",1),p(13,"p"),S(14," Toy configuration.\n"),g(),se(15,"img",2),p(16,"ul"),p(17,"li"),S(18,"Angler Mode: The opposite player's pets are available to be selected for each player. (This does not affect pets that summon from your pack pet pool)"),g(),p(19,"li"),S(20,"All Pets: All pets are availble to select. (This does not affect pets that summon from your pack pet pool)"),g(),p(21,"li"),S(22,"Old Stork: Stork summons pets with base stats."),g(),p(23,"li"),S(24,"Token Pets: Token pets are available to select. (This does not affect pets that summon from your pack pet pool)"),g(),p(25,"li"),S(26,"Komodo Shuffle: Shuffle pet order each battle in front of a Komondo."),g(),p(27,"li"),S(28,"Mana: Show/hide mana stat on the pet selector."),g(),g(),se(29,"img",3),p(30,"p"),S(31,"Adjust the zoom level of the application."),g(),se(32,"img",4),p(33,"p"),S(34,"Toggle advanced settings."),g(),se(35,"img",5),p(36,"p"),S(37,"Advanced settings. They allow you to configure the battle to a more specific scenario."),g(),p(38,"ul"),p(39,"li"),S(40,"Turn: The turn the battle takes place. This will affect pets such as the Stork, Eagle, and Stegosaurus."),g(),p(41,"li"),S(42,"Player Gold Spent: Player gold spent the previous round. This will affect the Meerkat."),g(),p(43,"li"),S(44,"Opponent Gold Spent: Same as above but for the Opponent player."),g(),p(45,"li"),S(46,"Player Roll Amount: The amount of times the Player rolled in the shop phase."),g(),p(47,"li"),S(48,"Opponent Roll Amount: Same as above but for the Opponent player."),g(),p(49,"li"),S(50,"Player Lvl 3 Sold: The amount of times the Player sold a Level 3 pet."),g(),p(51,"li"),S(52,"Opponent Lvl 3 Sold: Same as above but for the Opponent player."),g(),p(53,"li"),S(54,"Player Summoned Amt: The amount of times the Player summoned a pet in the shop phase."),g(),p(55,"li"),S(56,"Opponent Summoned Amt: Same as above but for the Opponent player."),g(),g(),se(57,"img",6),p(58,"p"),S(59," This is the board. The left side is the Player pets and the right side is the Opponent Pets. Each white box contains a pet and its' stats/equipment. The layout of the pets are identical to as they would be in battle. The right most Player pet is clashing with the left most Opponent pet.\n"),g(),se(60,"img",7),p(61,"p"),S(62," This is a pet.\n"),g(),p(63,"ul"),p(64,"li"),S(65,"A: This select box is where you may choose the pet that will occupy this space."),g(),p(66,"li"),S(67,"B: This select box is where you may choose the pet's equipment."),g(),p(68,"li"),S(69,"C: These fields are where you may input the pet's stats. The gray field is attack, the red field is health, and the indigo field is mana."),g(),p(70,"li"),S(71,"D: This component determines the amount of exp the pet has. A pet may have 0-5 exp denoted by the number of boxes highlighted. The numbers (1, 2, 3) on top of the exp bar signify the level of the pet. 0-1 exp is level 1, 2-4 exp is level 2, and 5 exp is level 3. The x on the left will clear the exp bar leaving the pet at level 1 with 0 exp. "),g(),p(72,"li"),S(73,"E: This is a drag and drop tool. Use this to reorder your pets."),g(),g(),se(74,"img",8),p(75,"ul"),p(76,"li"),S(77,"Simulate: Run the simulation."),g(),p(78,"li"),S(79,"Randomize: Randomize the Player's and Opponents's pets and equipment."),g(),g(),se(80,"img",9),p(81,"ul"),p(82,"li"),S(83,"Report A Bug: Report a bug to the SAP Calculator develepor."),g(),p(84,"li"),S(85,"Export Calculator: Saves a code to your devices clipboard that can be used to import the calculator state."),g(),p(86,"li"),S(87,"Import Calculator: Import a calculator state."),g(),g(),se(88,"img",10),p(89,"p"),S(90," This is the outcome summary. It shows the number of wins, draws, and loses for the last simulation ran.\n"),g(),se(91,"img",11),p(92,"p"),S(93," This is the Battles table. It is a table of all the battles that were simulated. You may filter the table by the outcome of the battle.\n"),g(),se(94,"img",12),p(95,"p"),S(96," These are the logs of the last selected simulated battle. Logs that are highlighted green are logs from a pet on the Player's team and logs that are highlighted red are logs from a pet on the Opponent's team. Logs that are highlighted purple are random events. Note: Not everything is logged.\n"),g())},styles:["img[_ngcontent-%COMP%]{margin-bottom:.5em;max-width:100%;border:1px solid #bfbfbf}"]}),n})(),gee=(()=>{class n{constructor(){this.formGroup=new Ni({calcCode:new ne(null)})}ngOnInit(){}submit(){let e="";e=this.importFunc(this.formGroup.value.calcCode)?"Import successful":"Import failed",alert(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Nn({type:n,selectors:[["app-import-calculator"]],inputs:{importFunc:"importFunc"},decls:6,vars:1,consts:[[1,"form-group",3,"formGroup"],["id","calcCode","rows","5","formControlName","calcCode",1,"form-control","mb-2"],[1,"warning","mb-2"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(p(0,"div",0),se(1,"textarea",1),p(2,"div",2),S(3," Warning: This will overwrite any existing custom packs. Any custom packs in the import will be added. "),g(),p(4,"button",3),Ue("click",function(){return i.submit()}),S(5,"Import"),g(),g()),2&e&&z("formGroup",i.formGroup)},directives:[dc,Go,qo,hc,qa],styles:[""]}),n})(),mee=(()=>{class n{constructor(e){this.localStorageService=e}ngOnInit(){}formGroupValueString(){return JSON.stringify(this.formGroup.value)}copyToClipboard(){this.localStorageService.setFormStorage(this.formGroup);let e=JSON.stringify(this.formGroup.value);navigator.clipboard.writeText(e).then(()=>{alert("Copied to clipboard")})}}return n.\u0275fac=function(e){return new(e||n)(V(_I))},n.\u0275cmp=Nn({type:n,selectors:[["app-export-calculator"]],inputs:{formGroup:"formGroup"},decls:4,vars:1,consts:[[1,"form-group"],["id","calcCode","rows","5","readonly","",1,"form-control","mb-2",3,"value"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(p(0,"div",0),se(1,"textarea",1),p(2,"button",2),Ue("click",function(){return i.copyToClipboard()}),S(3,"Copy to Clipboard"),g(),g()),2&e&&(H(1),z("value",i.formGroupValueString()))},styles:[""]}),n})();class CF{}class kF{}class Jr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),r=s.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Jr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Jr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Jr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const r=t.value;if(r){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===r.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class yee{encodeKey(t){return PF(t)}encodeValue(t){return PF(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const bee=/%(\d[a-f0-9])/gi,See={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function PF(n){return encodeURIComponent(n).replace(bee,(t,e)=>{var i;return null!==(i=See[e])&&void 0!==i?i:t})}function AF(n){return`${n}`}class Xa{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new yee,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[o,a]=-1==r?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,r)),t.decodeValue(s.slice(r+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Xa({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(AF(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(AF(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Eee{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function DF(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function TF(n){return"undefined"!=typeof Blob&&n instanceof Blob}function xF(n){return"undefined"!=typeof FormData&&n instanceof FormData}class _g{constructor(t,e,i,s){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,r=s):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new Jr),this.context||(this.context=new Eee),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Xa,this.urlWithParams=e}serializeBody(){return null===this.body?null:DF(this.body)||TF(this.body)||xF(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xF(this.body)?null:TF(this.body)?this.body.type||null:DF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,s=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,f=t.params||this.params;const m=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((y,_)=>y.set(_,t.setHeaders[_]),h)),t.setParams&&(f=Object.keys(t.setParams).reduce((y,_)=>y.set(_,t.setParams[_]),f)),new _g(i,s,o,{params:f,headers:h,context:m,reportProgress:l,responseType:r,withCredentials:a})}}var yi=(()=>((yi=yi||{})[yi.Sent=0]="Sent",yi[yi.UploadProgress=1]="UploadProgress",yi[yi.ResponseHeader=2]="ResponseHeader",yi[yi.DownloadProgress=3]="DownloadProgress",yi[yi.Response=4]="Response",yi[yi.User=5]="User",yi))();class bI{constructor(t,e=200,i="OK"){this.headers=t.headers||new Jr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class SI extends bI{constructor(t={}){super(t),this.type=yi.ResponseHeader}clone(t={}){return new SI({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Xb extends bI{constructor(t={}){super(t),this.type=yi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Xb({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class MF extends bI{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function EI(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let IF=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let r;if(e instanceof _g)r=e;else{let l,h;l=s.headers instanceof Jr?s.headers:new Jr(s.headers),s.params&&(h=s.params instanceof Xa?s.params:new Xa({fromObject:s.params})),r=new _g(e,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const o=Cc(r).pipe(function(n,t){return oo(n,void 0,1)}(l=>this.handler.handle(l)));if(e instanceof _g||"events"===s.observe)return o;const a=o.pipe(bV(l=>l instanceof Xb));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(vs(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(vs(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(vs(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(vs(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Xa).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,EI(s,i))}post(e,i,s={}){return this.request("POST",e,EI(s,i))}put(e,i,s={}){return this.request("PUT",e,EI(s,i))}}return n.\u0275fac=function(e){return new(e||n)(q(CF))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class OF{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const RF=new _e("HTTP_INTERCEPTORS");let kee=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const Pee=/^\)\]\}',?\n/;let NF=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ye(i=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((_,w)=>s.setRequestHeader(_,w.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const _=e.detectContentTypeHeader();null!==_&&s.setRequestHeader("Content-Type",_)}if(e.responseType){const _=e.responseType.toLowerCase();s.responseType="json"!==_?_:"text"}const r=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const _=1223===s.status?204:s.status,w=s.statusText||"OK",T=new Jr(s.getAllResponseHeaders()),D=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return o=new SI({headers:T,status:_,statusText:w,url:D}),o},l=()=>{let{headers:_,status:w,statusText:T,url:D}=a(),R=null;204!==w&&(R=void 0===s.response?s.responseText:s.response),0===w&&(w=R?200:0);let I=w>=200&&w<300;if("json"===e.responseType&&"string"==typeof R){const B=R;R=R.replace(Pee,"");try{R=""!==R?JSON.parse(R):null}catch($){R=B,I&&(I=!1,R={error:$,text:R})}}I?(i.next(new Xb({body:R,headers:_,status:w,statusText:T,url:D||void 0})),i.complete()):i.error(new MF({error:R,headers:_,status:w,statusText:T,url:D||void 0}))},h=_=>{const{url:w}=a(),T=new MF({error:_,status:s.status||0,statusText:s.statusText||"Unknown Error",url:w||void 0});i.error(T)};let f=!1;const m=_=>{f||(i.next(a()),f=!0);let w={type:yi.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(w.total=_.total),"text"===e.responseType&&!!s.responseText&&(w.partialText=s.responseText),i.next(w)},y=_=>{let w={type:yi.UploadProgress,loaded:_.loaded};_.lengthComputable&&(w.total=_.total),i.next(w)};return s.addEventListener("load",l),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",m),null!==r&&s.upload&&s.upload.addEventListener("progress",y)),s.send(r),i.next({type:yi.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",l),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",m),null!==r&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(q(_B))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const wI=new _e("XSRF_COOKIE_NAME"),CI=new _e("XSRF_HEADER_NAME");class LF{}let Dee=(()=>{class n{constructor(e,i,s){this.doc=e,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=hB(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(q(Xe),q(dh),q(wI))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),kI=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(q(LF),q(CI))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),Tee=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(RF,[]);this.chain=i.reduceRight((s,r)=>new OF(s,r),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(q(kF),q(xt))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),xee=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:kI,useClass:kee}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:wI,useValue:e.cookieName}:[],e.headerName?{provide:CI,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ti({type:n}),n.\u0275inj=jt({providers:[kI,{provide:RF,useExisting:kI,multi:!0},{provide:LF,useClass:Dee},{provide:wI,useValue:"XSRF-TOKEN"},{provide:CI,useValue:"X-XSRF-TOKEN"}]}),n})(),Mee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ti({type:n}),n.\u0275inj=jt({providers:[IF,{provide:CF,useClass:Tee},NF,{provide:kF,useExisting:NF}],imports:[[xee.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const Iee=function(n){return["form-group","mb-3",n]};function Oee(n,t){if(1&n){const e=Hr();p(0,"div"),p(1,"p"),S(2," An export code of the current calculator will automatically be sent to the developer. Please make sure the calculator is currently relevant to the bug you are reporting. Provide a description of the bug below. (Player should have won, pet's ability is wrong, etc.) Name is optional. Provide your Discord ID if you want me to follow up with you. "),g(),p(3,"div",1),p(4,"div",2),p(5,"label",3),S(6,"Name/Alias/Discord ID"),g(),se(7,"input",4),g(),p(8,"div"),p(9,"label",5),S(10,"Description"),g(),se(11,"textarea",6),g(),g(),p(12,"button",7),Ue("click",function(){return Lt(e),je().submit()}),S(13,"Submit"),g(),g()}if(2&n){const e=je();H(3),z("ngClass",function(n,t,e,i){return FL(K(),qi(),n,t,e,i)}(2,Iee,e.submitted?"was-validated":""))("formGroup",e.formGroup)}}function Ree(n,t){if(1&n){const e=Hr();p(0,"div"),p(1,"h1"),S(2,"Thank you for the bug report!"),g(),p(3,"button",7),Ue("click",function(){return Lt(e),je().back()}),S(4,"Report another bug :("),g(),g()}}let Nee=(()=>{class n{constructor(e){this.http=e,this.formGroup=new Ni({name:new ne(""),description:new ne(null,tk.required)}),this.reported=!1,this.submitted=!1}ngOnInit(){}submit(){if(this.submitted=!0,this.formGroup.invalid)return;let e=Object.assign(Object.assign({},this.formGroup.value),{code:JSON.stringify(this.calcFormGroup.value)});const i=new Jr({"Content-Type":"application/json"});this.http.post("https://formspree.io/f/mgvzngzp",{name:"SAP CALC",replyto:"Ruihan20080129@gmail.com",message:e},{headers:i}).subscribe(s=>{console.log(s)}),this.reported=!0}back(){this.formGroup.reset(),this.submitted=!1,this.reported=!1}}return n.\u0275fac=function(e){return new(e||n)(V(IF))},n.\u0275cmp=Nn({type:n,selectors:[["app-report-a-bug"]],inputs:{calcFormGroup:"calcFormGroup"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngClass","formGroup"],[1,"mb-3"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["for","description"],["rows","3","formControlName","description","required","",1,"form-control"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(Re(0,Oee,14,4,"div",0),Re(1,Ree,5,0,"div",0)),2&e&&(z("ngIf",!i.reported),H(1),z("ngIf",i.reported))},directives:[gh,$0,dc,Go,qo,hc,qa,S_],styles:[""]}),n})();const Lee=["customPackEditor"];function Bee(n,t){if(1&n&&(hy(0),p(1,"div",1),S(2),g(),dy()),2&n){const e=je();H(2),Ii(e.apiResponse)}}function $ee(n,t){if(1&n&&(p(0,"option",130),S(1),g()),2&n){const e=t.$implicit;z("value",e.get("name").value),H(1),Ii(e.get("name").value)}}function Vee(n,t){if(1&n&&(p(0,"option",130),S(1),g()),2&n){const e=t.$implicit;z("value",e.get("name").value),H(1),Ii(e.get("name").value)}}function Fee(n,t){if(1&n&&(p(0,"option",30),S(1),g()),2&n){const e=t.$implicit;z("ngValue",e),H(1),Ii(e)}}function Hee(n,t){if(1&n&&(p(0,"optgroup",131),Re(1,Fee,2,2,"option",132),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),H(1),z("ngForOf",e.value)}}function qee(n,t){if(1&n&&(p(0,"option",30),S(1),g()),2&n){const e=t.$implicit;z("ngValue",e),H(1),Ii(e)}}function Gee(n,t){if(1&n&&(p(0,"optgroup",131),Re(1,qee,2,2,"option",132),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),H(1),z("ngForOf",e.value)}}function Uee(n,t){1&n&&(p(0,"div",12),p(1,"div",13),p(2,"div",133),p(3,"div",134),p(4,"label",135),S(5,"Turn"),g(),se(6,"input",136),g(),p(7,"div",137),p(8,"label",138),S(9,"Player Gold Spent"),g(),se(10,"input",139),g(),p(11,"div",137),p(12,"label",140),S(13,"Opponent Gold Spent"),g(),se(14,"input",141),g(),p(15,"div",137),p(16,"label",142),S(17,"Player Roll Amt"),g(),se(18,"input",143),g(),p(19,"div",137),p(20,"label",144),S(21,"Opponent Roll Amt"),g(),se(22,"input",145),g(),p(23,"div",137),p(24,"label",146),S(25,"Player Lvl 3 Sold"),g(),se(26,"input",147),g(),p(27,"div",137),p(28,"label",148),S(29,"Opponent Lvl 3 Sold"),g(),se(30,"input",149),g(),p(31,"div",137),p(32,"label",150),S(33,"Player Summoned Amt"),g(),se(34,"input",151),g(),p(35,"div",137),p(36,"label",152),S(37,"Opponent Summoned Amt"),g(),se(38,"input",153),g(),g(),g(),g())}function jee(n,t){if(1&n&&(p(0,"div",154),p(1,"div",155),Ad(),p(2,"svg",156),se(3,"path",157),se(4,"path",158),g(),g(),Dd(),se(5,"app-pet-selector",159),g()),2&n){const e=t.$implicit,i=t.index,s=je(2);H(5),z("pet",s.player["pet"+(4-i)])("player",s.player)("opponent",s.opponent)("index",4-i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("ailments",s.formGroup.get("ailmentEquipment").value)("allPets",s.formGroup.get("allPets").value)("mana",s.formGroup.get("mana").value)("showTokenPets",s.formGroup.get("tokenPets").value)("customPacks",s.formGroup.get("customPacks"))}}function Wee(n,t){if(1&n&&(p(0,"div",160),p(1,"div",155),Ad(),p(2,"svg",156),se(3,"path",157),se(4,"path",158),g(),g(),Dd(),se(5,"app-pet-selector",159),g()),2&n){const e=t.$implicit,i=t.index,s=je(2);H(5),z("pet",s.opponent["pet"+i])("player",s.opponent)("opponent",s.player)("index",i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("ailments",s.formGroup.get("ailmentEquipment").value)("allPets",s.formGroup.get("allPets").value)("mana",s.formGroup.get("mana").value)("showTokenPets",s.formGroup.get("tokenPets").value)("customPacks",s.formGroup.get("customPacks"))}}function zee(n,t){if(1&n&&(p(0,"div",89),p(1,"div",161),p(2,"label"),S(3,"Player Wins:"),g(),p(4,"span"),S(5),g(),p(6,"label"),S(7,"Opponent Wins:"),g(),p(8,"span"),S(9),g(),p(10,"label"),S(11,"Draws:"),g(),p(12,"span"),S(13),g(),g(),p(14,"div",162),p(15,"span",163),se(16,"span",164),se(17,"span",165),g(),g(),g()),2&n){const e=je(2);H(5),sp("",e.playerWinner," - ",e.winPercent,"%"),H(4),sp("",e.opponentWinner," - ",e.losePercent,"%"),H(4),sp("",e.draw," - ",e.drawPercent,"%"),H(3),ip("width",e.getDrawWidth()),H(1),ip("width",e.getLoseWidth())}}function Kee(n,t){if(1&n){const e=Hr();p(0,"tr",166),Ue("click",function(){const r=Lt(e).$implicit;return je(2).setViewBattle(r)}),p(1,"td"),S(2),g(),p(3,"td"),S(4),g(),p(5,"td",167),S(6),g(),g()}if(2&n){const e=t.$implicit,i=t.index,s=je(2);H(2),Ii(i),H(2),Ii(e.winner),H(2),Ii(s.getRandomEvents(e))}}const Qee=function(n,t){return[n,t]};function Yee(n,t){if(1&n&&(p(0,"div",68),p(1,"span",168),S(2),g(),g()),2&n){const e=t.$implicit,i=je(2);H(1),z("ngClass",VL(2,Qee,i.getPlayerClass(e),e.randomEvent?"random-event":"")),H(1),Ii(e.message)}}function Jee(n,t){if(1&n){const e=Hr();hy(0),p(1,"div",2,3),p(3,"div",4),p(4,"div",5),p(5,"div",6),p(6,"h1",7),Ue("click",function(){return Lt(e),je().printFormGroup()}),S(7,"SAP Calculator"),g(),p(8,"span",8),S(9,"Info/Guide"),g(),g(),p(10,"div",6),p(11,"div",9),S(12),g(),p(13,"div",10),p(14,"span"),S(15),p(16,"span",11),S(17,"Patch Notes"),g(),g(),p(18,"span"),S(19),g(),g(),g(),g(),g(),p(20,"div",12),p(21,"div",13),p(22,"div",14),p(23,"div",15),p(24,"label",16),S(25,"Player Pack"),g(),p(26,"select",17),p(27,"option",18),S(28,"Turtle"),g(),p(29,"option",19),S(30,"Puppy"),g(),p(31,"option",20),S(32,"Star"),g(),p(33,"option",21),S(34,"Golden"),g(),p(35,"option",22),S(36,"Unicorn"),g(),p(37,"optgroup",23),Re(38,$ee,2,2,"option",24),p(39,"option",25),S(40,"Add Custom Pack"),g(),g(),g(),g(),p(41,"div",26),p(42,"label",16),S(43,"Opponent Pack"),g(),p(44,"select",27),p(45,"option",18),S(46,"Turtle"),g(),p(47,"option",19),S(48,"Puppy"),g(),p(49,"option",20),S(50,"Star"),g(),p(51,"option",21),S(52,"Golden"),g(),p(53,"option",22),S(54,"Unicorn"),g(),p(55,"optgroup",23),Re(56,Vee,2,2,"option",24),p(57,"option",25),S(58,"Add Custom Pack"),g(),g(),g(),g(),p(59,"div",28),p(60,"label",16),S(61,"Player Toy"),g(),p(62,"select",29),p(63,"option",30),S(64,"None"),g(),Re(65,Hee,2,2,"optgroup",31),Oa(66,"keyvalue"),g(),g(),p(67,"div",32),p(68,"label",33),S(69,"Toy Level"),g(),p(70,"select",34),p(71,"option"),S(72,"1"),g(),p(73,"option"),S(74,"2"),g(),p(75,"option"),S(76,"3"),g(),g(),g(),p(77,"div",15),p(78,"label",16),S(79,"Opponent Toy"),g(),p(80,"select",35),p(81,"option",30),S(82,"None"),g(),Re(83,Gee,2,2,"optgroup",31),Oa(84,"keyvalue"),g(),g(),p(85,"div",32),p(86,"label",36),S(87,"Toy Level"),g(),p(88,"select",37),p(89,"option"),S(90,"1"),g(),p(91,"option"),S(92,"2"),g(),p(93,"option"),S(94,"3"),g(),g(),g(),p(95,"div",38),p(96,"span",39),Ue("click",function(){return Lt(e),je().toggleAdvanced()}),S(97),g(),g(),p(98,"div",40),p(99,"div",41),se(100,"input",42),p(101,"label",43),S(102," Angler "),g(),g(),p(103,"div",44),se(104,"input",45),p(105,"label",46),S(106," All Pets "),g(),g(),g(),p(107,"div",40),p(108,"div",47),se(109,"input",48),p(110,"label",49),S(111," Old Stork "),g(),g(),p(112,"div",50),se(113,"input",51),p(114,"label",52),S(115," Token Pets "),g(),g(),g(),p(116,"div",40),p(117,"div",53),se(118,"input",54),p(119,"label",55),S(120," Komodo Shuffle "),g(),g(),p(121,"div",56),se(122,"input",57),p(123,"label",58),S(124," Mana "),g(),g(),g(),p(125,"div",40),p(126,"div",59),se(127,"input",60),p(128,"label",61),S(129," Ailment Equipment "),g(),g(),g(),g(),p(130,"div",62),p(131,"label",63),S(132,"Zoom"),g(),p(133,"div"),p(134,"button",64),Ue("click",function(){return Lt(e),je().zoomIn()}),S(135,"+"),g(),p(136,"button",65),Ue("click",function(){return Lt(e),je().zoomOut()}),S(137,"-"),g(),g(),g(),g(),g(),Re(138,Uee,39,0,"div",66),p(139,"div",67),se(140,"div",68),g(),p(141,"div",69),p(142,"div",70),p(143,"div",71),p(144,"h2",72),S(145,"Player"),g(),p(146,"button",73),Ue("click",function(){return Lt(e),je().resetPlayer("player")}),S(147,"Reset"),g(),g(),p(148,"div",74),p(149,"div",75),Ue("cdkDropListDropped",function(s){return Lt(e),je().drop(s,"player")}),Re(150,jee,6,11,"div",76),g(),g(),g(),p(151,"div",77),p(152,"div",71),p(153,"h2",72),S(154,"Opponent"),g(),p(155,"button",73),Ue("click",function(){return Lt(e),je().resetPlayer("opponent")}),S(156,"Reset"),g(),g(),p(157,"div",78),p(158,"div",75),Ue("cdkDropListDropped",function(s){return Lt(e),je().drop(s,"opponent")}),Re(159,Wee,6,11,"div",79),g(),g(),g(),g(),p(160,"div",80),p(161,"div",81),p(162,"div"),p(163,"button",82),Ue("click",function(){return Lt(e),je().simulate()}),S(164,"Simulate"),g(),p(165,"button",82),Ue("click",function(){return Lt(e),je().randomize()}),S(166,"Randomize"),g(),g(),p(167,"div"),p(168,"button",83),S(169,"Report A Bug"),g(),p(170,"button",84),S(171,"Export Calculator"),g(),p(172,"button",85),S(173,"Import Calculator"),g(),p(174,"button",82),Ue("click",function(){return Lt(e),je().generateShareLink()}),S(175,"Generate Link"),g(),g(),g(),g(),Re(176,zee,18,10,"div",86),p(177,"div",87),p(178,"div",88),p(179,"h3"),S(180,"Battles"),g(),p(181,"div",89),p(182,"div",68),p(183,"label",90),S(184,"Filter Battles By Winner"),g(),g(),p(185,"div",68),p(186,"div",91),se(187,"input",92),p(188,"label",93),S(189,"None"),g(),g(),p(190,"div",91),se(191,"input",94),p(192,"label",95),S(193,"Player"),g(),g(),p(194,"div",91),se(195,"input",96),p(196,"label",97),S(197,"Opponent"),g(),g(),p(198,"div",91),se(199,"input",98),p(200,"label",99),S(201,"Draw"),g(),g(),g(),g(),p(202,"div",100),p(203,"table",101),p(204,"thead"),p(205,"tr"),p(206,"th",102),S(207,"Battle No."),g(),p(208,"th"),S(209,"Winner"),g(),p(210,"th"),S(211,"Random Events"),g(),g(),g(),p(212,"tbody"),Re(213,Kee,7,3,"tr",103),g(),g(),g(),g(),p(214,"div",104),p(215,"h3"),S(216,"Logs"),g(),p(217,"div",105),Re(218,Yee,3,5,"div",106),g(),g(),g(),g(),p(219,"div",107),p(220,"div",108),p(221,"div",109),p(222,"div",110),p(223,"h1",111),S(224,"Patch Notes"),g(),se(225,"button",112),g(),p(226,"div",113),se(227,"app-patch-notes"),g(),p(228,"div",114),p(229,"span",39),Ue("click",function(){return Lt(e),je().clearCache()}),S(230,"Clear Cache"),g(),g(),g(),g(),g(),p(231,"div",115,116),p(233,"div",117),p(234,"div",109),p(235,"div",110),p(236,"h1",118),S(237,"Custom Pack Editor"),g(),se(238,"button",112),g(),p(239,"div",113),se(240,"app-custom-pack-editor",119),g(),g(),g(),g(),p(241,"div",120),p(242,"div",117),p(243,"div",109),p(244,"div",110),p(245,"h1",121),S(246,"Info"),g(),se(247,"button",112),g(),p(248,"div",113),se(249,"app-info"),g(),g(),g(),g(),p(250,"div",122),p(251,"div",117),p(252,"div",109),p(253,"div",110),p(254,"h1",123),S(255,"Import Calculator"),g(),se(256,"button",112),g(),p(257,"div",113),se(258,"app-import-calculator",124),g(),g(),g(),g(),p(259,"div",125),p(260,"div",117),p(261,"div",109),p(262,"div",110),p(263,"h1",126),S(264,"Export Calculator"),g(),se(265,"button",112),g(),p(266,"div",113),se(267,"app-export-calculator",119),g(),g(),g(),g(),p(268,"div",127),p(269,"div",117),p(270,"div",109),p(271,"div",110),p(272,"h1",128),S(273,"Report A Bug"),g(),se(274,"button",112),g(),p(275,"div",113),se(276,"app-report-a-bug",129),g(),g(),g(),g(),dy()}if(2&n){const e=je();H(1),z("formGroup",e.formGroup),H(11),wi("Last Updated: ",e.lastUpdated,""),H(3),wi("Version: ",e.version," "),H(4),wi("SAP Version: ",e.sapVersion,""),H(19),z("ngForOf",e.validCustomPacks),H(18),z("ngForOf",e.validCustomPacks),H(7),z("ngValue",null),H(2),z("ngForOf",Ra(66,23,e.toys)),H(16),z("ngValue",null),H(2),z("ngForOf",Ra(84,25,e.toys)),H(14),wi("",e.formGroup.get("showAdvanced").value?"Hide":"Show"," Advanced Settings"),H(41),z("ngIf",e.formGroup.get("showAdvanced").value),H(2),z("@dayNight",e.dayNight?"day":"night"),H(10),z("ngForOf",e.getPlayerPetsFormArray()),H(9),z("ngForOf",e.getOpponentPetsFormArray()),H(17),z("ngIf",e.simulated),H(11),z("value",null),H(26),z("ngForOf",e.filteredBattles),H(5),z("ngForOf",e.getViewBattleLogs()),H(22),z("formGroup",e.formGroup),H(18),z("importFunc",e.import.bind(e)),H(9),z("formGroup",e.formGroup),H(9),z("calcFormGroup",e.formGroup)}}const ete={pP:"playerPack",oP:"opponentPack",pT:"playerToy",pTL:"playerToyLevel",oT:"opponentToy",oTL:"opponentToyLevel",t:"turn",pGS:"playerGoldSpent",oGS:"opponentGoldSpent",pRA:"playerRollAmount",oRA:"opponentRollAmount",pSA:"playerSummonedAmount",oSA:"opponentSummonedAmount",pL3:"playerLevel3Sold",oL3:"opponentLevel3Sold",p:"playerPets",o:"opponentPets",an:"angler",ap:"allPets",lf:"logFilter",fs:"fontSize",cp:"customPacks",os:"oldStork",tp:"tokenPets",ks:"komodoShuffle",m:"mana",sa:"showAdvanced",ae:"ailmentEquipment",n:"name",a:"attack",h:"health",e:"exp",eq:"equipment"};function eS(n){if(Array.isArray(n))return n.map(t=>eS(t));if(null!==n&&"object"==typeof n){const t={};for(const e in n)t[ete[e]||e]=eS(n[e]);return t}return n}let tte=(()=>{class n{constructor(e,i,s,r,o,a,l,h){this.logService=e,this.abilityService=i,this.gameService=s,this.equipmentService=r,this.petService=o,this.toyService=a,this.startOfBattleService=l,this.localStorageService=h,this.version="0.6.16",this.sapVersion="0.33.3-156 BETA",this.lastUpdated="8/13/2025",this.title="sap-calculator",this.maxTurns=50,this.turns=0,this.battleStarted=!1,this.simulationBattleAmt=1e3,this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.simulated=!1,this.previousPackPlayer=null,this.previousPackOpponent=null,this.dayNight=!0,this.api=!1,this.apiResponse=null,this.isLoadedFromUrl=!1,this.player=new D3(e,i,s),this.opponent=new D3(e,i,s),this.gameService.init(this.player,this.opponent),this.petService.init(),this.initFormGroup();const m=new URLSearchParams(window.location.search).get("code");if(m){this.api=!0;try{const y=JSON.parse(decodeURIComponent(m));this.loadCalculatorFromValue(y),this.simulate(),this.buildApiResponse()}catch(y){console.error("Error parsing API data from URL:",y),this.apiResponse=JSON.stringify({error:"Invalid or corrupted data provided in the URL."})}}}buildApiResponse(){this.apiResponse=JSON.stringify({playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw},null)}printFormGroup(){console.log(this.formGroup)}ngOnInit(){this.isLoadedFromUrl=this.loadStateFromUrl(!0),this.isLoadedFromUrl||this.loadLocalStorage(),this.initApp(),this.initGameApi(),this.setDayNight(),this.toys=this.toyService.toys}loadStateFromUrl(e=!1){const s=new URLSearchParams(window.location.search).get("c");if(s)try{let r;const o=decodeURIComponent(s);if(o.trim().startsWith("{")){const l=eS(JSON.parse(o));r=JSON.stringify(l)}else{const a=atob(s),l=decodeURIComponent(a),f=eS(JSON.parse(l));r=JSON.stringify(f)}return this.import(r),console.log("Calculator state loaded from URL."),!0}catch(r){return console.error("Failed to parse calculator state from URL.",r),alert("Could not load the shared calculator link. The data may be corrupted."),!1}return!1}ngAfterViewInit(){this.isLoadedFromUrl&&this.petSelectors.forEach(e=>{e.fixLoadEquipment()}),this.api||this.initModals()}loadLocalStorage(){if(this.localStorageService.getStorage())try{let i=JSON.parse(this.localStorageService.getStorage());this.loadCalculatorFromValue(i)}catch(i){console.log("error loading local storage",i),this.localStorageService.clearStorage()}}loadCalculatorFromValue(e){const i={playerPack:"Turtle",opponentPack:"Turtle",playerToy:null,playerToyLevel:"1",opponentToy:null,opponentToyLevel:"1",turn:11,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerSummonedAmount:0,opponentSummonedAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerPets:Array(5).fill(null),opponentPets:Array(5).fill(null),angler:!1,allPets:!1,logFilter:null,fontSize:13,customPacks:[],oldStork:!1,tokenPets:!1,komodoShuffle:!1,mana:!1,showAdvanced:!1,ailmentEquipment:!1},s=Object.assign(Object.assign({},i),e);this.formGroup.patchValue(s,{emitEvent:!1});let r=e.customPacks;e.customPacks=[],this.loadCustomPacks(r),this.formGroup.patchValue(e,{emitEvent:!1}),setTimeout(()=>{this.fixCustomPackSelect()}),this.gameService.gameApi.oldStork=this.formGroup.get("oldStork").value,this.gameService.gameApi.komodoShuffle=this.formGroup.get("komodoShuffle").value,this.gameService.gameApi.mana=this.formGroup.get("mana").value,this.gameService.gameApi.playerRollAmount=this.formGroup.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=this.formGroup.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=this.formGroup.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=this.formGroup.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.day=this.dayNight,this.gameService.gameApi.turnNumber=this.formGroup.get("turn").value}setDayNight(){let i=this.formGroup.get("turn").value%2==1;this.dayNight=i,this.gameService.gameApi.day=i}fixCustomPackSelect(){this.formGroup.get("playerPack").setValue(this.formGroup.get("playerPack").value,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.formGroup.get("opponentPack").value,{emitEvent:!1})}initApp(){this.petService.buildCustomPackPets(this.formGroup.get("customPacks")),this.setFontSize(),this.initPlayerPets(),this.updatePlayerPack(this.player,this.formGroup.get("playerPack").value,!1),this.updatePlayerPack(this.opponent,this.formGroup.get("opponentPack").value,!1),this.updatePlayerToy(this.player,this.formGroup.get("playerToy").value),this.updatePlayerToy(this.opponent,this.formGroup.get("opponentToy").value),this.previousPackOpponent=this.opponent.pack,this.previousPackPlayer=this.player.pack}initGameApi(){this.gameService.gameApi.day=this.dayNight,this.gameService.gameApi.oldStork=this.formGroup.get("oldStork").value,this.gameService.gameApi.komodoShuffle=this.formGroup.get("komodoShuffle").value,this.gameService.gameApi.mana=this.formGroup.get("mana").value,this.gameService.gameApi.playerRollAmount=this.formGroup.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=this.formGroup.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=this.formGroup.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=this.formGroup.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value}loadCustomPacks(e){let i=this.formGroup.get("customPacks");i.clear();for(let s of e){let r=$W(s);i.push(r)}}initPlayerPets(){for(let e=0;e<5;e++){let i=this.formGroup.get("playerPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.player);this.player.setPet(e,s,!0)}for(let e=0;e<5;e++){let i=this.formGroup.get("opponentPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.opponent);this.opponent.setPet(e,s,!0)}}randomizePlayerPets(e){for(let i=0;i<5;i++)e.setPet(i,this.petService.getRandomPet(e),!0)}makeFormGroup(e){return e}initFormGroup(){var e,i,s,r,o,a;this.updatePreviousShopTier(11),this.updateGoldSpent(10,10),this.formGroup=new Ni({playerPack:new ne(this.player.pack),opponentPack:new ne(this.opponent.pack),playerToy:new ne(null===(e=this.player.toy)||void 0===e?void 0:e.name),playerToyLevel:new ne(null!==(s=null===(i=this.player.toy)||void 0===i?void 0:i.level)&&void 0!==s?s:1),opponentToy:new ne(null===(r=this.opponent.toy)||void 0===r?void 0:r.name),opponentToyLevel:new ne(null!==(a=null===(o=this.opponent.toy)||void 0===o?void 0:o.level)&&void 0!==a?a:1),turn:new ne(11),playerGoldSpent:new ne(10),opponentGoldSpent:new ne(10),angler:new ne(!1),allPets:new ne(!1),logFilter:new ne(null),playerPets:new y_([]),opponentPets:new y_([]),fontSize:new ne(13),customPacks:new y_([]),oldStork:new ne(!1),tokenPets:new ne(!1),komodoShuffle:new ne(!1),mana:new ne(!1),playerRollAmount:new ne(4),opponentRollAmount:new ne(4),playerLevel3Sold:new ne(0),opponentLevel3Sold:new ne(0),playerSummonedAmount:new ne(0),opponentSummonedAmount:new ne(0),showAdvanced:new ne(!1),ailmentEquipment:new ne(!1)}),this.initPetForms(),this.formGroup.get("playerPack").valueChanges.subscribe(m=>{if(null!=m){if("Add Custom Pack"==m)return void this.openCustomPackEditor();this.previousPackPlayer=m,this.updatePlayerPack(this.player,m)}}),this.formGroup.get("opponentPack").valueChanges.subscribe(m=>{if(null!=m){if("Add Custom Pack"==m)return void this.openCustomPackEditor();this.previousPackOpponent=m,this.updatePlayerPack(this.opponent,m)}}),this.formGroup.get("playerToy").valueChanges.subscribe(m=>{this.updatePlayerToy(this.player,m)}),this.formGroup.get("opponentToy").valueChanges.subscribe(m=>{this.updatePlayerToy(this.opponent,m)}),this.formGroup.get("playerToyLevel").valueChanges.subscribe(m=>{this.updateToyLevel(this.player,m)}),this.formGroup.get("opponentToyLevel").valueChanges.subscribe(m=>{this.updateToyLevel(this.opponent,m)}),this.formGroup.get("turn").valueChanges.subscribe(m=>{this.updatePreviousShopTier(m),this.setDayNight()}),this.formGroup.get("playerGoldSpent").valueChanges.subscribe(m=>{this.updateGoldSpent(m,null)}),this.formGroup.get("opponentGoldSpent").valueChanges.subscribe(m=>{this.updateGoldSpent(null,m)}),this.formGroup.get("angler").valueChanges.subscribe(m=>{setTimeout(()=>{this.updateSelectorPets()})}),this.formGroup.get("oldStork").valueChanges.subscribe(m=>{this.gameService.gameApi.oldStork=m}),this.formGroup.get("komodoShuffle").valueChanges.subscribe(m=>{this.gameService.gameApi.komodoShuffle=m}),this.formGroup.get("mana").valueChanges.subscribe(m=>{this.gameService.gameApi.mana=m}),this.formGroup.get("playerRollAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.playerRollAmount=m,console.log("playerRollAmount",m)}),this.formGroup.get("opponentRollAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentRollAmount=m,console.log("opponentRollAmount",m)}),this.formGroup.get("playerLevel3Sold").valueChanges.subscribe(m=>{this.gameService.gameApi.playerLevel3Sold=m}),this.formGroup.get("opponentLevel3Sold").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentLevel3Sold=m}),this.formGroup.get("playerSummonedAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.playerSummonedAmount=m}),this.formGroup.get("opponentSummonedAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentSummonedAmount=m})}toggleAdvanced(){let e=this.formGroup.get("showAdvanced").value;this.formGroup.get("showAdvanced").setValue(!e)}initPetForms(){let e=[0,1,2,3,4],i=e.map(a=>{var l,h,f,m,y,_,w,T,D,R,I,B,$,W,X,ie;return new Ni({name:new ne(null===(l=this.player[`pet${a}`])||void 0===l?void 0:l.name),attack:new ne(null!==(f=null===(h=this.player[`pet${a}`])||void 0===h?void 0:h.attack)&&void 0!==f?f:0),health:new ne(null!==(y=null===(m=this.player[`pet${a}`])||void 0===m?void 0:m.health)&&void 0!==y?y:0),exp:new ne(null!==(w=null===(_=this.player[`pet${a}`])||void 0===_?void 0:_.exp)&&void 0!==w?w:0),equipment:new ne(null===(T=this.player[`pet${a}`])||void 0===T?void 0:T.equipment),belugaSwallowedPet:new ne(null===(D=this.player[`pet${a}`])||void 0===D?void 0:D.belugaSwallowedPet),mana:new ne(null!==(I=null===(R=this.player[`pet${a}`])||void 0===R?void 0:R.mana)&&void 0!==I?I:0),abominationSwallowedPet1:new ne(null===(B=this.player[`pet${a}`])||void 0===B?void 0:B.abominationSwallowedPet1),abominationSwallowedPet2:new ne(null===($=this.player[`pet${a}`])||void 0===$?void 0:$.abominationSwallowedPet2),abominationSwallowedPet3:new ne(null===(W=this.player[`pet${a}`])||void 0===W?void 0:W.abominationSwallowedPet3),battlesFought:new ne(null!==(ie=null===(X=this.player[`pet${a}`])||void 0===X?void 0:X.battlesFought)&&void 0!==ie?ie:0)})}),s=this.formGroup.get("playerPets");s.clear();for(let a of i)s.push(a);let r=e.map(a=>{var l,h,f,m,y,_,w,T,D,R,I,B,$,W,X,ie;return new Ni({name:new ne(null===(l=this.opponent[`pet${a}`])||void 0===l?void 0:l.name),attack:new ne(null!==(f=null===(h=this.opponent[`pet${a}`])||void 0===h?void 0:h.attack)&&void 0!==f?f:0),health:new ne(null!==(y=null===(m=this.opponent[`pet${a}`])||void 0===m?void 0:m.health)&&void 0!==y?y:0),exp:new ne(null!==(w=null===(_=this.opponent[`pet${a}`])||void 0===_?void 0:_.exp)&&void 0!==w?w:0),equipment:new ne(null===(T=this.opponent[`pet${a}`])||void 0===T?void 0:T.equipment),belugaSwallowedPet:new ne(null===(D=this.opponent[`pet${a}`])||void 0===D?void 0:D.belugaSwallowedPet),mana:new ne(null!==(I=null===(R=this.opponent[`pet${a}`])||void 0===R?void 0:R.mana)&&void 0!==I?I:0),abominationSwallowedPet1:new ne(null===(B=this.opponent[`pet${a}`])||void 0===B?void 0:B.abominationSwallowedPet1),abominationSwallowedPet2:new ne(null===($=this.opponent[`pet${a}`])||void 0===$?void 0:$.abominationSwallowedPet2),abominationSwallowedPet3:new ne(null===(W=this.opponent[`pet${a}`])||void 0===W?void 0:W.abominationSwallowedPet3),battlesFought:new ne(null!==(ie=null===(X=this.opponent[`pet${a}`])||void 0===X?void 0:X.battlesFought)&&void 0!==ie?ie:0)})}),o=this.formGroup.get("opponentPets");o.clear();for(let a of r)o.push(a)}getPlayerPetsFormArray(){return Array.from(this.formGroup.get("playerPets").controls).reverse()}getOpponentPetsFormArray(){return Array.from(this.formGroup.get("opponentPets").controls)}updatePlayerPack(e,i,s=!0){let r;switch(e.pack=i,i){case"Turtle":r=this.petService.turtlePackPets;break;case"Puppy":r=this.petService.puppyPackPets;break;case"Star":r=this.petService.starPackPets;break;case"Golden":r=this.petService.goldenPackPets;break;case"Unicorn":r=this.petService.unicornPackPets;break;default:r=this.petService.playerCustomPackPets.get(i)}e==this.player?this.gameService.setTierGroupPets(r,null):this.gameService.setTierGroupPets(null,r),this.formGroup.get("allPets")}updateSelectorPets(){this.petSelectors.forEach(e=>{e.initPets()})}updatePlayerToy(e,i){let s;e==this.player&&(s="playerToyLevel"),e==this.opponent&&(s="opponentToyLevel");let r=this.formGroup.get(s).value;e.toy=this.toyService.createToy(i,e,r),e.originalToy=e.toy}updatePreviousShopTier(e){let i=1;e>2&&(i=2),e>4&&(i=3),e>6&&(i=4),e>8&&(i=5),e>10&&(i=6),this.gameService.setPreviousShopTier(i),this.gameService.setTurnNumber(e)}updateGoldSpent(e,i){this.gameService.setGoldSpent(e,i)}updateToyLevel(e,i){e.toy&&(e.toy.level=i)}abilityCycle(){for(;this.abilityService.hasGlobalEvents;){const i=this.abilityService.peekNextHighestPriorityEvent();if(i&&this.abilityService.getPriorityNumber(i.abilityType)>=23&&(this.checkPetsAlive(),this.removeDeadPets())){this.emptyFrontSpaceCheck();continue}const s=this.abilityService.getNextHighestPriorityEvent();if(!s){console.error("AbilityCycle: Expected event from queue but got null. Queue state inconsistent.");break}this.abilityService.executeEventCallback(s),this.checkPetsAlive()}this.removeDeadPets()&&this.emptyFrontSpaceCheck()}executeFrequentEvents(){this.abilityService.executeFriendLostPerkEvents(),this.abilityService.executeGainedPerkEvents(),this.abilityService.executeFriendGainedPerkEvents(),this.abilityService.executeFriendGainedAilmentEvents(),this.abilityService.executeFriendlyToyBrokeEvents()}checkPetsAlive(){this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}initToys(){var e,i;(null===(e=this.player.toy)||void 0===e?void 0:e.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.player.toy.startOfBattle(this.gameService.gameApi);let s=this.player.toy.level;for(let r of this.player.petArray)r instanceof Sr&&(this.player.toy.level=r.level,this.player.toy.startOfBattle(this.gameService.gameApi,!0),this.player.toy.level=s)},priority:this.player.toy.tier}),(null===(i=this.opponent.toy)||void 0===i?void 0:i.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.opponent.toy.startOfBattle(this.gameService.gameApi);let s=this.opponent.toy.level;for(let r of this.opponent.petArray)r instanceof Sr&&(this.opponent.toy.level=r.level,this.opponent.toy.startOfBattle(this.gameService.gameApi,!0),this.opponent.toy.level=s)},priority:this.opponent.toy.tier})}simulate(){try{this.runSimulation()}catch(e){console.error(e),window.alert("Something went wrong, please send a bug report.")}}runSimulation(){this.localStorageService.setFormStorage(this.formGroup),this.resetSimulation();for(let e=0;e<this.simulationBattleAmt;e++){for(this.initBattle(),this.startBattle(),this.initToys(),this.abilityService.initEndTurnEvents(this.player),this.abilityService.initEndTurnEvents(this.opponent),this.setAbilityEquipments(this.player),this.setAbilityEquipments(this.opponent),this.initializeEquipmentMultipliers(),this.abilityService.triggerBeforeStartOfBattleEvents(this.player),this.abilityService.triggerBeforeStartOfBattleEvents(this.opponent),this.abilityService.executeBeforeStartOfBattleEvents(),this.checkPetsAlive();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle();for(this.startOfBattleService.resetStartOfBattleFlags(),this.startOfBattleService.initStartOfBattleEvents(),this.startOfBattleService.executeToyPetEvents(),this.toyService.executeStartOfBattleEvents(),this.executeFrequentEvents(),this.startOfBattleService.executeNonToyPetEvents(),this.executeFrequentEvents(),this.abilityService.triggerTransformEvents(this.player),this.abilityService.triggerTransformEvents(this.opponent),this.checkPetsAlive();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle();for(;this.battleStarted;)this.nextTurn();this.reset()}this.simulated=!0}removeDeadPets(){let e=!1;return e=this.player.removeDeadPets(),e=this.opponent.removeDeadPets()||e,e}emptyFrontSpaceCheck(){null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceEvents(),null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceToyEvents()}startBattle(){this.reset(),this.battleStarted=!0,this.turns=0}resetSimulation(){this.playerWinner=0,this.opponentWinner=0,this.viewBattle=null,this.draw=0,this.battles=[],this.currBattle=null}initBattle(){this.logService.reset(),this.currBattle={winner:"draw",logs:this.logs},this.battles.push(this.currBattle),this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value}reset(){this.player.resetPets(),this.opponent.resetPets()}nextTurn(){let e=!1,i=null;if(this.turns++,this.turns>=this.maxTurns&&(e=!0),!this.player.alive()&&this.opponent.alive()&&(i=this.opponent,this.currBattle.winner="opponent",this.opponentWinner++,e=!0),!this.opponent.alive()&&this.player.alive()&&(i=this.player,this.currBattle.winner="player",this.playerWinner++,e=!0),!this.opponent.alive()&&!this.player.alive()&&(this.draw++,e=!0),e)return this.endLog(i),void(this.battleStarted=!1);for(this.pushPetsForwards(),this.logService.printState(this.player,this.opponent),this.player.pet0.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:this.player.pet0.beforeAttack.bind(this.player.pet0),priority:this.player.pet0.attack,player:this.player,pet:this.player.pet0}),this.opponent.pet0.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:this.opponent.pet0.beforeAttack.bind(this.opponent.pet0),priority:this.opponent.pet0.attack,player:this.opponent,pet:this.opponent.pet0}),this.abilityService.executeBeforeAttackEvents(),this.abilityService.triggerBeforeFriendAttacksEvents(this.player,this.player.pet0),this.abilityService.triggerBeforeFriendAttacksEvents(this.opponent,this.opponent.pet0),this.abilityService.executeBeforeFriendAttacksEvents(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle();if(this.player.alive()&&this.opponent.alive()){for(this.pushPetsForwards(),this.fight(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle();for(this.player.checkGoldenSpawn(),this.opponent.checkGoldenSpawn();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle()}}chocolateCakePresent(){var e,i;let s={player:!1,opponent:!1,cake:!1};return s.player=(null===(e=this.player.pet0)||void 0===e?void 0:e.equipment)instanceof Qp,s.opponent=(null===(i=this.opponent.pet0)||void 0===i?void 0:i.equipment)instanceof Qp,s.cake=s.player||s.opponent,s}doChocolateCakeEvents(e){let i=[];e.player&&i.push(this.player.pet0),e.opponent&&i.push(this.opponent.pet0),i=(0,me.shuffle)(i),i.sort((s,r)=>s.attack<r.attack?1:r.attack<s.attack?-1:0);for(let s of i)s.equipment.callback(s)}setAbilityEquipments(e){var i,s,r,o;for(let a of e.petArray)a.equipment instanceof Z_&&(a.equipment.callback(a),a.eggplantTouched=!0),a.equipment instanceof X_&&a.equipment.callback(a),"startOfBattle"==(null===(i=a.equipment)||void 0===i?void 0:i.equipmentClass)&&a.equipment.callback(a),a.equipment instanceof Gp&&a.equipment.callback(a),"beforeStartOfBattle"==(null===(s=a.equipment)||void 0===s?void 0:s.equipmentClass)&&a.equipment.callback(a),"beforeAttack"==(null===(r=a.equipment)||void 0===r?void 0:r.equipmentClass)&&a.equipment.callback(a),"afterFaint"==(null===(o=a.equipment)||void 0===o?void 0:o.equipmentClass)&&a.equipment.callback(a)}executeBeforeStartOfBattleEquipment(e){for(let i of e.petArray){let s=i.equipment.multiplier,r=i.equipment.multiplierMessage;for(let o=0;o<s;o++){if(i.equipment instanceof Q_&&(i.increaseAttack(4),i.increaseHealth(4),this.logService.createLog({message:`${i.name} gained 4 attack and 4 health (Pie)${r}`,type:"equipment",player:e})),i.equipment instanceof J_&&i.parent.gainTrumpets(2*s,i,!1,s,!0),i.equipment instanceof Y_)for(let a of e.petArray)i!=a&&(a.increaseAttack(2),a.increaseHealth(2),this.logService.createLog({message:`${a.name} gained 2 attack and 2 health (Pancake)${r}`,type:"equipment",player:e}));i.equipment instanceof nb&&i.equipment.callback(i),i.equipment instanceof tb&&i.equipment.callback(i),i.equipment instanceof ib&&i.equipment.callback(i)}}}pushPetsForwards(){this.player.pushPetsForward(),this.opponent.pushPetsForward()}fight(){let e=this.player.pet0,i=this.opponent.pet0;e.attackPet(i),i.attackPet(e),e.useAttackDefenseEquipment(),i.useAttackDefenseEquipment(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive(),this.abilityService.executeAfterAttackEvents(),this.abilityService.executeFriendAheadAttacksEvents(),this.abilityService.executeFriendAttacksEvents()}endLog(e){let i;i=null==e?"Draw":e==this.player?"Player is the winner":"Opponent is the winner",this.logService.createLog({message:i,type:"board"})}get logs(){return this.logService.getLogs()}setViewBattle(e){this.viewBattle=e}getViewBattleLogs(){var e,i;return null!==(i=null===(e=this.viewBattle)||void 0===e?void 0:e.logs)&&void 0!==i?i:[]}getDrawWidth(){return`${this.losePercent+this.drawPercent}%`}getLoseWidth(){return`${this.losePercent}%`}getPlayerClass(e){return null==e.player?"log":e.player==this.player?"log-player":"log-opponent"}getRandomEvents(e){let i="",s=e.logs.filter(r=>1==r.randomEvent);for(let r of s)i+=r.message,r!=s[s.length-1]&&(i+="\n");return i}randomize(e){null==e&&!confirm("Are you sure you want to randomize?")||(e?this.randomizePlayerPets(e):(this.randomizePlayerPets(this.player),this.randomizePlayerPets(this.opponent)),this.formGroup&&this.initPetForms(),setTimeout(()=>{this.petSelectors.forEach(i=>{i.initSelector()})}))}zoomIn(){this.formGroup.get("fontSize").setValue(Math.min(this.formGroup.get("fontSize").value+1,20)),this.setFontSize()}zoomOut(){this.formGroup.get("fontSize").setValue(Math.max(this.formGroup.get("fontSize").value-1,8)),this.setFontSize()}setFontSize(){document.documentElement.style.fontSize=`${this.formGroup.get("fontSize").value}px`}clearCache(){this.localStorageService.clearStorage(),alert("Cache cleared. Refresh page to see changes.")}initModals(){this.customPackEditorModal=new bc(this.customPackEditor.nativeElement),this.customPackEditor.nativeElement.addEventListener("hidden.bs.modal",e=>{})}openCustomPackEditor(){this.customPackEditorModal.show(),this.formGroup.get("playerPack").setValue(this.previousPackPlayer,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.previousPackOpponent,{emitEvent:!1})}drop(e,i){let s=e.previousIndex,r=e.currentIndex,o=this.opponent;"player"==i&&(s=4-s,r=4-r,o=this.player),oF(this.formGroup.get(`${i}Pets`).controls,s,r);for(let a of this.petSelectors.toArray())a.substitutePet()}resetPlayer(e){if(!confirm(`Are you sure you want to reset ${e}?`))return;let i=this.petSelectors.toArray().slice("player"==e?0:5,"player"==e?5:10);for(let s of i)s.removePet()}export(){this.localStorageService.setFormStorage(this.formGroup);let e=JSON.stringify(this.formGroup.value);navigator.clipboard.writeText(e).then(()=>{alert("Copied to clipboard")})}import(e,i=!1){let s=!1;try{const r=JSON.parse(e);this.loadCalculatorFromValue(r),this.initApp(),i||setTimeout(()=>{this.petSelectors&&this.petSelectors.forEach(o=>{o.fixLoadEquipment()})},0),s=!0}catch(r){console.error(r)}return s}generateShareLink(){this.localStorageService.setFormStorage(this.formGroup);const e=JSON.stringify(this.formGroup.value),i=encodeURIComponent(e),r=`${window.location.origin+window.location.pathname}?c=${i}`;navigator.clipboard.writeText(r).then(()=>{alert("Shareable link copied to clipboard!")}).catch(o=>{console.error("Failed to copy link: ",o),alert("Failed to copy link. See console for details.")})}get filteredBattles(){return this.battles.filter(e=>{let i=this.formGroup.get("logFilter").value;return null==i||e.winner==i})}get winPercent(){return wk(this.playerWinner/this.simulationBattleAmt*100)}get drawPercent(){return wk(this.draw/this.simulationBattleAmt*100)}get losePercent(){return wk(this.opponentWinner/this.simulationBattleAmt*100)}get validCustomPacks(){let e=this.formGroup.get("customPacks"),i=[];for(let s of e.controls)s.valid&&i.push(s);return i}initializeEquipmentMultipliers(){for(let e of this.player.petArray)e.equipment&&e.setEquipmentMultiplier();for(let e of this.opponent.petArray)e.equipment&&e.setEquipmentMultiplier()}}return n.\u0275fac=function(e){return new(e||n)(V(yb),V(_b),V(Ch),V(Kn),V(bb),V(KX),V(QX),V(_I))},n.\u0275cmp=Nn({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&(xy(Lee,5),xy(I3,5)),2&e){let s;rc(s=oc())&&(i.customPackEditor=s.first),rc(s=oc())&&(i.petSelectors=s)}},decls:2,vars:2,consts:[[4,"ngIf"],["id","apiResponse"],[1,"container-fluid","app-wrapper","flex-col",3,"formGroup"],["container",""],[1,"row","mt-2"],[1,"col-12","header"],[1,"d-flex","align-items-end"],[3,"click"],["data-bs-toggle","modal","data-bs-target","#info",1,"btn-link","info-link"],[1,"me-3"],[1,"d-flex","flex-column","align-items-end"],["data-bs-toggle","modal","data-bs-target","#patchNotes",1,"btn-link"],[1,"row","battle-controller","border"],[1,"col-12","d-flex","justify-content-between","py-2"],[1,"d-flex","flex-wrap"],[1,"form-group","min-w-input","me-3"],["for","playerPack"],["id","playerPack","formControlName","playerPack",1,"form-control"],["value","Turtle"],["value","Puppy"],["value","Star"],["value","Golden"],["value","Unicorn"],["label","Custom Packs"],[3,"value",4,"ngFor","ngForOf"],["value","Add Custom Pack"],[1,"form-group","min-w-input","pe-3","border-end"],["id","opponentPack","formControlName","opponentPack",1,"form-control"],[1,"form-group","min-w-input","mx-3"],["id","playerToy","formControlName","playerToy",1,"form-control"],[3,"ngValue"],[3,"label",4,"ngFor","ngForOf"],[1,"form-group","me-3"],["for","playerToyLevel"],["id","playerToyLevel","formControlName","playerToyLevel",1,"form-control"],["id","opponentToy","formControlName","opponentToy",1,"form-control"],["for","opponentToyLevel"],["id","opponentToyLevel","formControlName","opponentToyLevel",1,"form-control"],[1,"form-group","pe-3","d-flex","align-items-end","border-end"],[1,"btn-link",3,"click"],[1,"flex-column"],["title","Opponent's pack pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","angler","formControlName","angler",1,"form-check-input"],["for","angler",1,"form-check-label"],["title","All pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","allPets","formControlName","allPets",1,"form-check-input"],["for","allPets",1,"form-check-label"],["title","Stork spawns with base stats.",1,"form-check","ms-3"],["type","checkbox","value","","id","oldStork","formControlName","oldStork",1,"form-check-input"],["for","oldStork",1,"form-check-label"],["title","Include Token Pets in pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","oldStork","formControlName","tokenPets",1,"form-check-input"],["for","tokenPets",1,"form-check-label"],["title","Shuffle pets in front of Komodo if present.",1,"form-check","ms-3"],["type","checkbox","value","","id","komodoShuffle","formControlName","komodoShuffle",1,"form-check-input"],["for","komodoShuffle",1,"form-check-label"],["title","Include Mana.",1,"form-check","ms-3"],["type","checkbox","value","","id","mana","formControlName","mana",1,"form-check-input"],["for","mana",1,"form-check-label"],["title","Include Ailments for Equipment Options.",1,"form-check","ms-3"],["type","checkbox","value","","id","ailmentEquipment","formControlName","ailmentEquipment",1,"form-check-input"],["for","ailmentEquipment",1,"form-check-label"],[1,"flex-col","zoom-container"],["for","zoom"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],["class","row battle-controller border",4,"ngIf"],[1,"row","day-night-container"],[1,"col-12"],[1,"row","battle-row","pb-5","pt-3"],[1,"col-12","col-xl-6","px-4","mb-2","mb-xl-0"],[1,"d-flex","justify-content-between"],[1,"me-4"],[1,"btn","btn-secondary","mb-1",3,"click"],[1,"card","p-2","player-card"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"row","row-cols-1","row-cols-md-5",3,"cdkDropListDropped"],["class","col drag-container mb-2 mb-md-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"col-12","col-xl-6","px-4"],[1,"card","p-2","player-card","ml-auto"],["class","col drag-container mb-2 mb-sm-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"row","button-bar","pt-3","pb-1","border"],[1,"col-12","d-flex","justify-content-between"],[1,"btn","btn-primary","me-2","mb-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#reportABug",1,"btn","btn-secondary","me-2","mb-2"],["data-bs-toggle","modal","data-bs-target","#export",1,"btn","btn-secondary","me-2","mb-2"],["data-bs-toggle","modal","data-bs-target","#import",1,"btn","btn-secondary","mb-2"],["class","row",4,"ngIf"],[1,"row","flex-1","bottom-container"],[1,"col-12","col-md-6","border","h-100","flex-col","pe-0"],[1,"row"],["for","logFilter",1,"form-label"],[1,"form-check","form-check-inline"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio1",1,"form-check-input",3,"value"],["for","inlineRadio1",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio2","value","player",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio3","value","opponent",1,"form-check-input"],["for","inlineRadio3",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio4","value","draw",1,"form-check-input"],["for","inlineRadio4",1,"form-check-label"],[1,"battle-container","flex-1","scroll"],[1,"table"],[1,"battle-no"],["class","table-battle-row",3,"click",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","border","h-100","flex-col"],[1,"row","log-container","flex-1","scroll"],["class","col-12",4,"ngFor","ngForOf"],["id","patchNotes","tabindex","-1","aria-labelledby","patchNotesLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","patchNotesLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["id","customPackEditor","tabindex","-1","aria-labelledby","customPackEditorLabel","aria-hidden","true",1,"modal","fade"],["customPackEditor",""],[1,"modal-dialog","modal-lg"],["id","customPackEditorLabel",1,"modal-title","fs-5"],[3,"formGroup"],["id","info","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],["id","import","tabindex","-1","aria-labelledby","importModalLabel","aria-hidden","true",1,"modal","fade"],["id","importModalLabel",1,"modal-title","fs-5"],[3,"importFunc"],["id","export","tabindex","-1","aria-labelledby","exportModalLabel","aria-hidden","true",1,"modal","fade"],["id","exportModalLabel",1,"modal-title","fs-5"],["id","reportABug","tabindex","-1","aria-labelledby","reportABug","aria-hidden","true",1,"modal","fade"],["id","reportABug",1,"modal-title","fs-5"],[3,"calcFormGroup"],[3,"value"],[3,"label"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"border-end","d-flex","flex-wrap","pe-3"],[1,"form-group","small-w-input","me-s-3"],["for","turn"],["id","turn","type","number","formControlName","turn","max","99",1,"form-control"],[1,"form-group","advanced-input","ms-3"],["for","playerGoldSpent","title","Player Gold Spent"],["id","turn","type","number","formControlName","playerGoldSpent","max","99",1,"form-control"],["for","opponentGoldSpent","title","Opponent Gold Spent"],["id","turn","type","number","formControlName","opponentGoldSpent","max","99",1,"form-control"],["for","playerRollAmount","title","Player Roll Amount"],["id","turn","type","number","formControlName","playerRollAmount","max","99",1,"form-control"],["for","opponentRollAmount","title","Opponent Roll Amount"],["id","turn","type","number","formControlName","opponentRollAmount","max","99",1,"form-control"],["for","playerLevel3Sold","title","Player Level 3 Sold"],["id","turn","type","number","formControlName","playerLevel3Sold","max","99",1,"form-control"],["for","opponentLevel3Sold","title","Opponent Level 3 Sold"],["id","turn","type","number","formControlName","opponentLevel3Sold","max","99",1,"form-control"],["for","playerSummonedAmount","title","Player Summoned Amount"],["id","turn","type","number","formControlName","playerSummonedAmount","max","99",1,"form-control"],["for","opponentSummonedAmount","title","Opponent Summoned Amount"],["id","turn","type","number","formControlName","opponentSummonedAmount","max","99",1,"form-control"],["cdkDrag","",1,"col","drag-container","mb-2","mb-md-0"],["cdkDragHandle","",1,"drag-handle"],["fill","currentColor","viewBox","0 0 24 24"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],[3,"pet","player","opponent","index","formGroup","angler","ailments","allPets","mana","showTokenPets","customPacks"],["cdkDrag","",1,"col","drag-container","mb-2","mb-sm-0"],[1,"col-12","stats"],[1,"col-12","py-2"],[1,"results-bar"],[1,"draw-bar"],[1,"lose-bar"],[1,"table-battle-row",3,"click"],[1,"pre"],[3,"ngClass"]],template:function(e,i){1&e&&(Re(0,Bee,3,1,"ng-container",0),Re(1,Jee,277,27,"ng-container",0)),2&e&&(z("ngIf",i.api),H(1),z("ngIf",!i.api))},directives:[gh,dc,Go,Bp,hc,qa,_k,Sk,Tp,c_,nX,qo,gk,YX,fee,pee,gee,mee,Nee,__,b_,oX,sX,I3,$0],pipes:[H0],styles:[".app-wrapper[_ngcontent-%COMP%]{height:100vh}.day-night-container[_ngcontent-%COMP%]{min-height:1em}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:end}.flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.player-card[_ngcontent-%COMP%]{background-color:#e9c137;display:grid;grid-auto-rows:minmax(min-content,max-content);grid-template-columns:auto 1fr auto}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:rotate(180deg);writing-mode:vertical-lr;text-align:center}.battle-row[_ngcontent-%COMP%]{background-color:#5ebe09}.button-bar[_ngcontent-%COMP%], .battle-controller[_ngcontent-%COMP%]{background-color:#f5f5f5}.battle-controller[_ngcontent-%COMP%]   .min-w-input[_ngcontent-%COMP%]{min-width:100px}.small-w-input[_ngcontent-%COMP%]{width:60px}.stats[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:.25em}.stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:1em}.battle-no[_ngcontent-%COMP%]{width:1%;white-space:nowrap}.table-battle-row[_ngcontent-%COMP%]{cursor:pointer}.results-bar[_ngcontent-%COMP%], .draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{display:inline-block}.draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{height:100%;position:absolute;right:0}.results-bar[_ngcontent-%COMP%]{max-width:100%;border:.2em solid black;height:2em;width:30em;background-color:#0f0;position:relative}.draw-bar[_ngcontent-%COMP%]{background-color:#d3d3d3}.lose-bar[_ngcontent-%COMP%]{background-color:red}.log-player[_ngcontent-%COMP%]{background-color:#e4ffe0}.log-opponent[_ngcontent-%COMP%]{background-color:#ffe0e0}.log-container[_ngcontent-%COMP%]{display:flex;align-content:flex-start}.random-event[_ngcontent-%COMP%]{color:purple;font-weight:bold}.flex-1[_ngcontent-%COMP%]{flex:1}.bottom-container[_ngcontent-%COMP%]{min-height:30em}.bottom-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-height:15em}.scroll[_ngcontent-%COMP%]{overflow:scroll}.h-100[_ngcontent-%COMP%]{height:100%}.pre[_ngcontent-%COMP%]{white-space:pre}.btn-link[_ngcontent-%COMP%]{color:#0d6efd;cursor:pointer}.zoom-container[_ngcontent-%COMP%]{min-width:max-content}.zoom-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:2.5em}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.drag-container[_ngcontent-%COMP%]{position:relative}.drag-handle[_ngcontent-%COMP%]{width:1.25em;position:absolute;right:1em;z-index:1;opacity:.5;cursor:pointer}.info-link[_ngcontent-%COMP%]{margin-left:1em;margin-bottom:.5em}@media (max-width: 767.98px){.card[_ngcontent-%COMP%]{max-width:18em}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:initial;writing-mode:initial}.player-card[_ngcontent-%COMP%]{grid-template-columns:none}}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.bug-button[_ngcontent-%COMP%]{margin-right:.5em;margin-bottom:.25em}.advanced-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60px}"],data:{animation:[cX("dayNight",[SF("day",Zb({backgroundColor:"#85ddf2"})),SF("night",Zb({backgroundColor:"#33377a"})),hX("day <=> night",[uX("0.5s")])])]}}),n})();function BF(){return"undefined"!=typeof window&&void 0!==window.document}function PI(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function el(n){switch(n.length){case 0:return new Uh;case 1:return n[0];default:return new wF(n)}}function $F(n,t,e,i,s={},r={}){const o=[],a=[];let l=-1,h=null;if(i.forEach(f=>{const m=f.offset,y=m==l,_=y&&h||{};Object.keys(f).forEach(w=>{let T=w,D=f[w];if("offset"!==w)switch(T=t.normalizePropertyName(T,o),D){case"!":D=s[w];break;case Yo:D=r[w];break;default:D=t.normalizeStyleValue(w,T,D,o)}_[T]=D}),y||a.push(_),h=_,l=m}),o.length){const f="\n - ";throw new Error(`Unable to animate due to the following errors:${f}${o.join(f)}`)}return a}function AI(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&DI(e,"start",n)));break;case"done":n.onDone(()=>i(e&&DI(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&DI(e,"destroy",n)))}}function DI(n,t,e){const i=e.totalTime,r=TI(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),o=n._data;return null!=o&&(r._data=o),r}function TI(n,t,e,i,s="",r=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:r,disabled:!!o}}function fs(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function VF(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let xI=(n,t)=>!1,MI=(n,t)=>!1,FF=(n,t,e)=>[];const HF=PI();(HF||"undefined"!=typeof Element)&&(xI=BF()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),MI=(()=>{if(HF||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):MI}})(),FF=(n,t,e)=>{let i=[];if(e){const s=n.querySelectorAll(t);for(let r=0;r<s.length;r++)i.push(s[r])}else{const s=n.querySelector(t);s&&i.push(s)}return i});let Pc=null,qF=!1;function II(n){Pc||(Pc=("undefined"!=typeof document?document.body:null)||{},qF=!!Pc.style&&"WebkitAppearance"in Pc.style);let t=!0;return Pc.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Pc.style,!t&&qF&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Pc.style)),t}const OI=MI,RI=xI,NI=FF;function GF(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let UF=(()=>{class n{validateStyleProperty(e){return II(e)}matchesElement(e,i){return OI(e,i)}containsElement(e,i){return RI(e,i)}query(e,i,s){return NI(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,r,o,a=[],l){return new Uh(s,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),LI=(()=>{class n{}return n.NOOP=new UF,n})();const BI="ng-enter",tS="ng-leave",iS="ng-trigger",nS=".ng-trigger",WF="ng-animating",$I=".ng-animating";function Ac(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:VI(parseFloat(t[1]),t[2])}function VI(n,t){return"s"===t?1e3*n:n}function sS(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let s,r=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=VI(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(r=VI(parseFloat(l),a[4]));const h=a[5];h&&(o=h)}else s=n;if(!e){let a=!1,l=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),a=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&t.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:r,easing:o}}(n,t,e)}function jh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function tl(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else jh(n,e);return e}function KF(n,t,e){return e?t+":"+e+";":""}function QF(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=KF(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=KF(0,cte(e),n.style[e]));n.setAttribute("style",t)}function Zr(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const s=HI(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[s]),n.style[s]=t[i]}),PI()&&QF(n))}function Dc(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=HI(e);n.style[i]=""}),PI()&&QF(n))}function bg(n){return Array.isArray(n)?1==n.length?n[0]:bF(n):n}const FI=new RegExp("{{\\s*(.+?)\\s*}}","g");function YF(n){let t=[];if("string"==typeof n){let e;for(;e=FI.exec(n);)t.push(e[1]);FI.lastIndex=0}return t}function rS(n,t,e){const i=n.toString(),s=i.replace(FI,(r,o)=>{let a=t[o];return t.hasOwnProperty(o)||(e.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return s==i?n:s}function oS(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const lte=/-+([a-z0-9])/g;function HI(n){return n.replace(lte,(...t)=>t[1].toUpperCase())}function cte(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function JF(n,t){return 0===n||0===t}function ZF(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let r=t[0],o=[];if(i.forEach(a=>{r.hasOwnProperty(a)||o.push(a),r[a]=e[a]}),o.length)for(var s=1;s<t.length;s++){let a=t[s];o.forEach(function(l){a[l]=qI(n,l)})}}return t}function ps(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function qI(n,t){return window.getComputedStyle(n)[t]}function ute(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const l=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const s=i[1],r=i[2],o=i[3];t.push(XF(s,o));"<"==r[0]&&!("*"==s&&"*"==o)&&t.push(XF(o,s))}(i,e,t)):e.push(n),e}const lS=new Set(["true","1"]),cS=new Set(["false","0"]);function XF(n,t){const e=lS.has(n)||cS.has(n),i=lS.has(t)||cS.has(t);return(s,r)=>{let o="*"==n||n==s,a="*"==t||t==r;return!o&&e&&"boolean"==typeof s&&(o=s?lS.has(n):cS.has(n)),!a&&i&&"boolean"==typeof r&&(a=r?lS.has(t):cS.has(t)),o&&a}}const fte=new RegExp("s*:selfs*,?","g");function GI(n,t,e){return new pte(n).build(t,e)}class pte{constructor(t){this._driver=t}build(t,e){const i=new vte(e);return this._resetContextStyleTimingState(i),ps(this,bg(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,h=l.name;h.toString().split(/\s*,\s*/).forEach(f=>{l.name=f,r.push(this.visitState(l,e))}),l.name=h}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,s+=l.depCount,o.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:o,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const r=new Set,o=s||{};if(i.styles.forEach(a=>{if(uS(a)){const l=a;Object.keys(l).forEach(h=>{YF(l[h]).forEach(f=>{o.hasOwnProperty(f)||r.add(f)})})}}),r.size){const a=oS(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ps(this,bg(t.animation),e);return{type:1,matchers:ute(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Tc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ps(this,i,e)),options:Tc(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const r=t.steps.map(o=>{e.currentTime=i;const a=ps(this,o,e);return s=Math.max(s,e.currentTime),a});return e.currentTime=s,{type:3,steps:r,options:Tc(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return UI(sS(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=UI(0,0,"");return r.dynamic=!0,r.strValue=i,r}return e=e||sS(i,t),UI(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,r=t.styles?t.styles:Zb({});if(5==r.type)s=this.visitKeyframes(r,e);else{let o=t.styles,a=!1;if(!o){a=!0;const h={};i.easing&&(h.easing=i.easing),o=Zb(h)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,s=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(o=>{"string"==typeof o?o==Yo?i.push(o):e.errors.push(`The provided style string value ${o} is not allowed.`):i.push(o)}):i.push(t.styles);let s=!1,r=null;return i.forEach(o=>{if(uS(o)){const a=o,l=a.easing;if(l&&(r=l,delete a.easing),!s)for(let h in a)if(a[h].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:r,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void e.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=e.collectedStyles[e.currentQuerySelector],h=l[a];let f=!0;h&&(r!=s&&r>=h.startTime&&s<=h.endTime&&(e.errors.push(`The CSS property "${a}" that exists between the times of "${h.startTime}ms" and "${h.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${s}ms"`),f=!1),r=h.startTime),f&&(l[a]={startTime:r,endTime:s}),e.options&&function(n,t,e){const i=t.params||{},s=YF(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||e.push(`Unable to resolve the local animation param ${r} in the given list of values`)})}(o[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let r=0;const o=[];let a=!1,l=!1,h=0;const f=t.steps.map(R=>{const I=this._makeStyleAst(R,e);let B=null!=I.offset?I.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(uS(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(uS(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(I.styles),$=0;return null!=B&&(r++,$=I.offset=B),l=l||$<0||$>1,a=a||$<h,h=$,o.push($),I});l&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");const m=t.steps.length;let y=0;r>0&&r<m?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(y=1/(m-1));const _=m-1,w=e.currentTime,T=e.currentAnimateTimings,D=T.duration;return f.forEach((R,I)=>{const B=y>0?I==_?1:y*I:o[I],$=B*D;e.currentTime=w+T.delay+$,T.duration=$,this._validateStyleAst(R,e),R.offset=B,i.styles.push(R)}),i}visitReference(t,e){return{type:8,animation:ps(this,bg(t.animation),e),options:Tc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Tc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Tc(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[r,o]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(fte,"")),n=n.replace(/@\*/g,nS).replace(/@\w+/g,e=>nS+"-"+e.substr(1)).replace(/:animating/g,$I),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,fs(e.collectedStyles,e.currentQuerySelector,{});const a=ps(this,bg(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Tc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:sS(t.timings,e.errors,!0);return{type:12,animation:ps(this,bg(t.animation),e),timings:i,options:null}}}class vte{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function uS(n){return!Array.isArray(n)&&"object"==typeof n}function Tc(n){return n?(n=jh(n)).params&&(n.params=function(n){return n?jh(n):null}(n.params)):n={},n}function UI(n,t,e){return{duration:n,delay:t,easing:e}}function jI(n,t,e,i,s,r,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}class hS{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Ete=new RegExp(":enter","g"),Cte=new RegExp(":leave","g");function WI(n,t,e,i,s,r={},o={},a,l,h=[]){return(new kte).buildKeyframes(n,t,e,i,s,r,o,a,l,h)}class kte{buildKeyframes(t,e,i,s,r,o,a,l,h,f=[]){h=h||new hS;const m=new zI(t,e,h,s,r,f,[]);m.options=l,m.currentTimeline.setStyles([o],null,m.errors,l),ps(this,i,m);const y=m.timelines.filter(_=>_.containsAnimation());if(y.length&&Object.keys(a).length){const _=y[y.length-1];_.allowOnlyTimelineStyles()||_.setStyles([a],null,m.errors,l)}return y.length?y.map(_=>_.buildKeyframes()):[jI(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const s=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,s,s.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime;const o=null!=i.duration?Ac(i.duration):null,a=null!=i.delay?Ac(i.delay):null;return 0!==o&&t.forEach(l=>{const h=e.appendInstructionToTimeline(l,o,a);r=Math.max(r,h.duration+h.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),ps(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const r=t.options;if(r&&(r.params||r.delay)&&(s=e.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=dS);const o=Ac(r.delay);s.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>ps(this,o,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Ac(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);r&&a.delayNextStep(r),ps(this,o,a),s=Math.max(s,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return sS(e.params?rS(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const r=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,r=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*r),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(s+r),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},r=s.delay?Ac(s.delay):0;r&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=dS);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((h,f)=>{e.currentQueryIndex=f;const m=e.createSubContext(t.options,h);r&&m.delayNextStep(r),h===e.element&&(l=m.currentTimeline),ps(this,t.animation,m),m.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,m.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const f=e.currentTimeline;l&&f.delayNextStep(l);const m=f.currentTime;ps(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-m+(s.startTime-i.currentTimeline.startTime)}}const dS={};class zI{constructor(t,e,i,s,r,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new fS(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=Ac(i.duration)),null!=i.delay&&(s.delay=Ac(i.delay));const r=i.params;if(r){let o=s.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=rS(r[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,r=new zI(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=dS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},r=new Pte(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,r,o){let a=[];if(s&&a.push(this.element),t.length>0){t=(t=t.replace(Ete,"."+this._enterClassName)).replace(Cte,"."+this._leaveClassName);let h=this._driver.query(this.element,t,1!=i);0!==i&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),a.push(...h)}return!r&&0==a.length&&o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),a}}class fS{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new fS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Yo,this._currentKeyframe[e]=Yo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&(this._previousKeyframe.easing=e);const r=s&&s.params||{},o=function(n,t){const e={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(r=>{e[r]=Yo})):tl(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=rS(o[a],r,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Yo),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],s=t._styleSummary[e];(!i||s.time>i.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((a,l)=>{const h=tl(a,!0);Object.keys(h).forEach(f=>{const m=h[f];"!"==m?t.add(f):m==Yo&&e.add(f)}),i||(h.offset=l/this.duration),s.push(h)});const r=t.size?oS(t.values()):[],o=e.size?oS(e.values()):[];if(i){const a=s[0],l=jh(a);a.offset=0,l.offset=1,s=[a,l]}return jI(this.element,s,r,o,this.duration,this.startTime,this.easing,!1)}}class Pte extends fS{constructor(t,e,i,s,r,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],o=i+e,a=e/o,l=tl(t[0],!1);l.offset=0,r.push(l);const h=tl(t[0],!1);h.offset=i4(a),r.push(h);const f=t.length-1;for(let m=1;m<=f;m++){let y=tl(t[m],!1);y.offset=i4((e+y.offset*i)/o),r.push(y)}i=o,e=0,s="",t=r}return jI(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function i4(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class KI{}class Dte extends KI{normalizePropertyName(t,e){return HI(t)}normalizeStyleValue(t,e,i,s){let r="";const o=i.toString().trim();if(Tte[e]&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&s.push(`Please provide a CSS unit value for ${t}:${i}`)}return o+r}}const Tte=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function n4(n,t,e,i,s,r,o,a,l,h,f,m,y){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:r,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:h,postStyleProps:f,totalTime:m,errors:y}}const QI={};class s4{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function(n,t,e,i,s){return n.some(r=>r(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){const s=this._stateStyles["*"],r=this._stateStyles[t],o=s?s.buildStyles(e,i):{};return r?r.buildStyles(e,i):o}build(t,e,i,s,r,o,a,l,h,f){const m=[],y=this.ast.options&&this.ast.options.params||QI,w=this.buildStyles(i,a&&a.params||QI,m),T=l&&l.params||QI,D=this.buildStyles(s,T,m),R=new Set,I=new Map,B=new Map,$="void"===s,W={params:Object.assign(Object.assign({},y),T)},X=f?[]:WI(t,e,this.ast.animation,r,o,w,D,W,h,m);let ie=0;if(X.forEach(Le=>{ie=Math.max(Le.duration+Le.delay,ie)}),m.length)return n4(e,this._triggerName,i,s,$,w,D,[],[],I,B,ie,m);X.forEach(Le=>{const Pe=Le.element,ot=fs(I,Pe,{});Le.preStyleProps.forEach(et=>ot[et]=!0);const it=fs(B,Pe,{});Le.postStyleProps.forEach(et=>it[et]=!0),Pe!==e&&R.add(Pe)});const xe=oS(R.values());return n4(e,this._triggerName,i,s,$,w,D,X,xe,I,B,ie)}}class Ite{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},s=jh(this.defaultParams);return Object.keys(t).forEach(r=>{const o=t[r];null!=o&&(s[r]=o)}),this.styles.styles.forEach(r=>{if("string"!=typeof r){const o=r;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=rS(l,s,e));const h=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,h,l,e),i[h]=l})}}),i}}class Rte{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new Ite(s.style,s.options&&s.options.params||{},i)}),r4(this.states,"true","1"),r4(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new s4(t,s,this.states))}),this.fallbackTransition=function(n,t,e){return new s4(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(o=>o.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function r4(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const Lte=new hS;class Bte{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=GI(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,i){const s=t.element,r=$F(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],r=this._animations[t];let o;const a=new Map;if(r?(o=WI(this._driver,e,r,BI,tS,{},{},i,Lte,s),o.forEach(f=>{const m=fs(a,f.element,{});f.postStyleProps.forEach(y=>m[y]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),o=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);a.forEach((f,m)=>{Object.keys(f).forEach(y=>{f[y]=this._driver.computeStyle(m,y,Yo)})});const h=el(o.map(f=>{const m=a.get(f.element);return this._buildPlayer(f,{},m)}));return this._playersById[t]=h,h.onDestroy(()=>this.destroy(t)),this.players.push(h),h}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,s){const r=TI(e,"","","");return AI(this._getPlayer(t),i,r,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const o4="ng-animate-queued",a4="ng-animate-disabled",l4=".ng-animate-disabled",Hte=[],c4={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qte={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zs="__ng_removed";class YI{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const r=jh(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const Sg="void",JI=new YI(Sg);class Gte{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ks(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const r=fs(this._elementListeners,t,[]),o={name:e,phase:i,callback:s};r.push(o);const a=fs(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Ks(t,iS),Ks(t,iS+"-"+e),a[e]=JI),()=>{this._engine.afterFlush(()=>{const l=r.indexOf(o);l>=0&&r.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,s=!0){const r=this._getTrigger(e),o=new ZI(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Ks(t,iS),Ks(t,iS+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const h=new YI(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&h.absorbOptions(l.options),a[e]=h,l||(l=JI),h.value!==Sg&&l.value===h.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const r=e[s];if(!t.hasOwnProperty(r)||n[r]!==t[r])return!1}return!0}(l.params,h.params)){const T=[],D=r.matchStyles(l.value,l.params,T),R=r.matchStyles(h.value,h.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{Dc(t,D),Zr(t,R)})}return}const y=fs(this._engine.playersByElement,t,[]);y.forEach(T=>{T.namespaceId==this.id&&T.triggerName==e&&T.queued&&T.destroy()});let _=r.matchTransition(l.value,h.value,t,h.params),w=!1;if(!_){if(!s)return;_=r.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:_,fromState:l,toState:h,player:o,isFallbackTransition:w}),w||(Ks(t,o4),o.onStart(()=>{Wh(t,o4)})),o.onDone(()=>{let T=this.players.indexOf(o);T>=0&&this.players.splice(T,1);const D=this._engine.playersByElement.get(t);if(D){let R=D.indexOf(o);R>=0&&D.splice(R,1)}}),this.players.push(o),y.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,nS,!0);i.forEach(s=>{if(s[zs])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(o=>o.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const r=this._engine.statesByElement.get(t);if(r){const o=[];if(Object.keys(r).forEach(a=>{if(this._triggers[a]){const l=this.trigger(t,a,Sg,s);l&&o.push(l)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&el(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(r=>{const o=r.name;if(s.has(o))return;s.add(o);const l=this._triggers[o].fallbackTransition,h=i[o]||JI,f=new YI(Sg),m=new ZI(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:h,toState:f,player:m,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)s=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const r=t[zs];(!r||r===c4)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ks(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const r=i.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=TI(r,i.triggerName,i.fromState.value,i.toState.value);l._data=t,AI(i.player,a.phase,l,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const r=i.transition.ast.depCount,o=s.transition.ast.depCount;return 0==r||0==o?r-o:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Ute{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Gte(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let r=i;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let r=0;r<s.length;r++){const o=i[s[r]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&e.add(a)}}}return e}trigger(t,e,i,s){if(pS(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!pS(e))return;const r=e[zs];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ks(t,a4)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Wh(t,a4))}removeNode(t,e,i,s){if(pS(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s){this.collectedLeaveElements.push(e),e[zs]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,s,r){return pS(e)?this._fetchNamespace(t).listen(e,i,s,r):()=>{}}_buildInstruction(t,e,i,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,nS,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,$I,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return el(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[zs];if(e&&e.setForRemoval){if(t[zs]=c4,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,l4)&&this.markElementAsDisabled(t,!1),this.driver.query(t,l4,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ks(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?el(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new hS,s=[],r=new Map,o=[],a=new Map,l=new Map,h=new Map,f=new Set;this.disabledNodes.forEach(J=>{f.add(J);const ae=this.driver.query(J,".ng-animate-queued",!0);for(let be=0;be<ae.length;be++)f.add(ae[be])});const m=this.bodyNode,y=Array.from(this.statesByElement.keys()),_=d4(y,this.collectedEnterElements),w=new Map;let T=0;_.forEach((J,ae)=>{const be=BI+T++;w.set(ae,be),J.forEach(Ve=>Ks(Ve,be))});const D=[],R=new Set,I=new Set;for(let J=0;J<this.collectedLeaveElements.length;J++){const ae=this.collectedLeaveElements[J],be=ae[zs];be&&be.setForRemoval&&(D.push(ae),R.add(ae),be.hasAnimation?this.driver.query(ae,".ng-star-inserted",!0).forEach(Ve=>R.add(Ve)):I.add(ae))}const B=new Map,$=d4(y,Array.from(R));$.forEach((J,ae)=>{const be=tS+T++;B.set(ae,be),J.forEach(Ve=>Ks(Ve,be))}),t.push(()=>{_.forEach((J,ae)=>{const be=w.get(ae);J.forEach(Ve=>Wh(Ve,be))}),$.forEach((J,ae)=>{const be=B.get(ae);J.forEach(Ve=>Wh(Ve,be))}),D.forEach(J=>{this.processLeaveNode(J)})});const W=[],X=[];for(let J=this._namespaceList.length-1;J>=0;J--)this._namespaceList[J].drainQueuedTransitions(e).forEach(be=>{const Ve=be.player,Ot=be.element;if(W.push(Ve),this.collectedEnterElements.length){const ki=Ot[zs];if(ki&&ki.setForMove)return void Ve.destroy()}const Bi=!m||!this.driver.containsElement(m,Ot),oi=B.get(Ot),un=w.get(Ot),vt=this._buildInstruction(be,i,un,oi,Bi);if(vt.errors&&vt.errors.length)X.push(vt);else{if(Bi)return Ve.onStart(()=>Dc(Ot,vt.fromStyles)),Ve.onDestroy(()=>Zr(Ot,vt.toStyles)),void s.push(Ve);if(be.isFallbackTransition)return Ve.onStart(()=>Dc(Ot,vt.fromStyles)),Ve.onDestroy(()=>Zr(Ot,vt.toStyles)),void s.push(Ve);vt.timelines.forEach(ki=>ki.stretchStartingKeyframe=!0),i.append(Ot,vt.timelines),o.push({instruction:vt,player:Ve,element:Ot}),vt.queriedElements.forEach(ki=>fs(a,ki,[]).push(Ve)),vt.preStyleProps.forEach((ki,ms)=>{const On=Object.keys(ki);if(On.length){let Yn=l.get(ms);Yn||l.set(ms,Yn=new Set),On.forEach(il=>Yn.add(il))}}),vt.postStyleProps.forEach((ki,ms)=>{const On=Object.keys(ki);let Yn=h.get(ms);Yn||h.set(ms,Yn=new Set),On.forEach(il=>Yn.add(il))})}});if(X.length){const J=[];X.forEach(ae=>{J.push(`@${ae.triggerName} has failed due to:\n`),ae.errors.forEach(be=>J.push(`- ${be}\n`))}),W.forEach(ae=>ae.destroy()),this.reportError(J)}const ie=new Map,xe=new Map;o.forEach(J=>{const ae=J.element;i.has(ae)&&(xe.set(ae,ae),this._beforeAnimationBuild(J.player.namespaceId,J.instruction,ie))}),s.forEach(J=>{const ae=J.element;this._getPreviousPlayers(ae,!1,J.namespaceId,J.triggerName,null).forEach(Ve=>{fs(ie,ae,[]).push(Ve),Ve.destroy()})});const Le=D.filter(J=>p4(J,l,h)),Pe=new Map;h4(Pe,this.driver,I,h,Yo).forEach(J=>{p4(J,l,h)&&Le.push(J)});const it=new Map;_.forEach((J,ae)=>{h4(it,this.driver,new Set(J),l,"!")}),Le.forEach(J=>{const ae=Pe.get(J),be=it.get(J);Pe.set(J,Object.assign(Object.assign({},ae),be))});const et=[],zt=[],ve={};o.forEach(J=>{const{element:ae,player:be,instruction:Ve}=J;if(i.has(ae)){if(f.has(ae))return be.onDestroy(()=>Zr(ae,Ve.toStyles)),be.disabled=!0,be.overrideTotalTime(Ve.totalTime),void s.push(be);let Ot=ve;if(xe.size>1){let oi=ae;const un=[];for(;oi=oi.parentNode;){const vt=xe.get(oi);if(vt){Ot=vt;break}un.push(oi)}un.forEach(vt=>xe.set(vt,Ot))}const Bi=this._buildAnimation(be.namespaceId,Ve,ie,r,it,Pe);if(be.setRealPlayer(Bi),Ot===ve)et.push(be);else{const oi=this.playersByElement.get(Ot);oi&&oi.length&&(be.parentPlayer=el(oi)),s.push(be)}}else Dc(ae,Ve.fromStyles),be.onDestroy(()=>Zr(ae,Ve.toStyles)),zt.push(be),f.has(ae)&&s.push(be)}),zt.forEach(J=>{const ae=r.get(J.element);if(ae&&ae.length){const be=el(ae);J.setRealPlayer(be)}}),s.forEach(J=>{J.parentPlayer?J.syncPlayerEvents(J.parentPlayer):J.destroy()});for(let J=0;J<D.length;J++){const ae=D[J],be=ae[zs];if(Wh(ae,tS),be&&be.hasAnimation)continue;let Ve=[];if(a.size){let Bi=a.get(ae);Bi&&Bi.length&&Ve.push(...Bi);let oi=this.driver.query(ae,$I,!0);for(let un=0;un<oi.length;un++){let vt=a.get(oi[un]);vt&&vt.length&&Ve.push(...vt)}}const Ot=Ve.filter(Bi=>!Bi.destroyed);Ot.length?Kte(this,ae,Ot):this.processLeaveNode(ae)}return D.length=0,et.forEach(J=>{this.players.push(J),J.onDone(()=>{J.destroy();const ae=this.players.indexOf(J);this.players.splice(ae,1)}),J.play()}),et}elementContainsData(t,e){let i=!1;const s=e[zs];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,r){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!r||r==Sg;a.forEach(h=>{h.queued||!l&&h.triggerName!=s||o.push(h)})}}return(i||s)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||s&&s!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const r=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const h=l.element,f=h!==r,m=fs(i,h,[]);this._getPreviousPlayers(h,f,o,a,e.toState).forEach(_=>{const w=_.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),_.destroy(),m.push(_)})}Dc(r,e.fromStyles)}_buildAnimation(t,e,i,s,r,o){const a=e.triggerName,l=e.element,h=[],f=new Set,m=new Set,y=e.timelines.map(w=>{const T=w.element;f.add(T);const D=T[zs];if(D&&D.removedBeforeQueried)return new Uh(w.duration,w.delay);const R=T!==l,I=function(n){const t=[];return f4(n,t),t}((i.get(T)||Hte).map(ie=>ie.getRealPlayer())).filter(ie=>!!ie.element&&ie.element===T),B=r.get(T),$=o.get(T),W=$F(0,this._normalizer,0,w.keyframes,B,$),X=this._buildPlayer(w,W,I);if(w.subTimeline&&s&&m.add(T),R){const ie=new ZI(t,a,T);ie.setRealPlayer(X),h.push(ie)}return X});h.forEach(w=>{fs(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,w.element,w))}),f.forEach(w=>Ks(w,WF));const _=el(y);return _.onDestroy(()=>{f.forEach(w=>Wh(w,WF)),Zr(l,e.toStyles)}),m.forEach(w=>{fs(s,w,[]).push(_)}),_}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Uh(t.duration,t.delay)}}class ZI{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Uh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>AI(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){fs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function pS(n){return n&&1===n.nodeType}function u4(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function h4(n,t,e,i,s){const r=[];e.forEach(l=>r.push(u4(l)));const o=[];i.forEach((l,h)=>{const f={};l.forEach(m=>{const y=f[m]=t.computeStyle(h,m,s);(!y||0==y.length)&&(h[zs]=qte,o.push(h))}),n.set(h,f)});let a=0;return e.forEach(l=>u4(l,r[a++])),o}function d4(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const s=new Set(t),r=new Map;function o(a){if(!a)return 1;let l=r.get(a);if(l)return l;const h=a.parentNode;return l=e.has(h)?h:s.has(h)?1:o(h),r.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}const gS="$$classes";function Ks(n,t){if(n.classList)n.classList.add(t);else{let e=n[gS];e||(e=n[gS]={}),e[t]=!0}}function Wh(n,t){if(n.classList)n.classList.remove(t);else{let e=n[gS];e&&delete e[t]}}function Kte(n,t,e){el(e).onDone(()=>n.processLeaveNode(t))}function f4(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof wF?f4(i.players,t):t.push(i)}}function p4(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(r=>s.add(r)):t.set(n,i),e.delete(n),!0}class mS{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new Ute(t,e,i),this._timelineEngine=new Bte(t,e,i),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(t,e,i,s,r){const o=t+"-"+s;let a=this._triggerCache[o];if(!a){const l=[],h=GI(this._driver,r,l);if(l.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(n,t,e){return new Rte(n,t,e)}(s,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,s,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[r,o]=VF(i);this._timelineEngine.command(r,e,o,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,r){if("@"==i.charAt(0)){const[o,a]=VF(i);return this._timelineEngine.listen(o,e,a,r)}return this._transitionEngine.listen(t,e,i,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function g4(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=XI(t[0]),t.length>1&&(i=XI(t[t.length-1]))):t&&(e=XI(t)),e||i?new Jte(n,e,i):null}let Jte=(()=>{class n{constructor(e,i,s){this._element=e,this._startStyles=i,this._endStyles=s,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Zr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zr(this._element,this._initialStyles),this._endStyles&&(Zr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Dc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dc(this._element,this._endStyles),this._endStyles=null),Zr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function XI(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=e[i];Zte(s)&&(t=t||{},t[s]=n[s])}return t}function Zte(n){return"display"===n||"position"===n}const m4="animation",v4="animationend";class tie{constructor(t,e,i,s,r,o,a){this._element=t,this._name=e,this._duration=i,this._delay=s,this._easing=r,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,t){const e=tO(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),vS(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),b4(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){y4(this._element,this._name,"paused")}resume(){y4(this._element,this._name,"running")}setPosition(t){const e=_4(this._element,this._name);this._position=t*this._duration,vS(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),b4(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=tO(n,"").split(","),s=eO(i,t);s>=0&&(i.splice(s,1),vS(n,"",i.join(",")))}(this._element,this._name))}}function y4(n,t,e){vS(n,"PlayState",e,_4(n,t))}function _4(n,t){const e=tO(n,"");return e.indexOf(",")>0?eO(e.split(","),t):eO([e],t)}function eO(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function b4(n,t,e){e?n.removeEventListener(v4,t):n.addEventListener(v4,t)}function vS(n,t,e,i){const s=m4+t;if(null!=i){const r=n.style[s];if(r.length){const o=r.split(",");o[i]=e,e=o.join(",")}}n.style[s]=e}function tO(n,t){return n.style[m4+t]||""}class S4{constructor(t,e,i,s,r,o,a,l){this.element=t,this.keyframes=e,this.animationName=i,this._duration=s,this._delay=r,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=s+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new tie(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:qI(this.element,i))})}this.currentSnapshot=t}}class aie extends Uh{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=GF(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class w4{constructor(){this._count=0}validateStyleProperty(t){return II(t)}matchesElement(t,e){return OI(t,e)}containsElement(t,e){return RI(t,e)}query(t,e,i){return NI(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(a=>GF(a));let s=`@keyframes ${e} {\n`,r="";i.forEach(a=>{r=" ";const l=parseFloat(a.offset);s+=`${r}${100*l}% {\n`,r+=" ",Object.keys(a).forEach(h=>{const f=a[h];switch(h){case"offset":return;case"easing":return void(f&&(s+=`${r}animation-timing-function: ${f};\n`));default:return void(s+=`${r}${h}: ${f};\n`)}}),s+=`${r}}\n`}),s+="}\n";const o=document.createElement("style");return o.textContent=s,o}animate(t,e,i,s,r,o=[],a){const l=o.filter(D=>D instanceof S4),h={};JF(i,s)&&l.forEach(D=>{let R=D.currentSnapshot;Object.keys(R).forEach(I=>h[I]=R[I])});const f=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(t[s]=i[s])})}),t}(e=ZF(t,e,h));if(0==i)return new aie(t,f);const m="gen_css_kf_"+this._count++,y=this.buildKeyframeElement(t,m,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(y);const w=g4(t,e),T=new S4(t,e,m,i,s,r,f,w);return T.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(y)),T}}class k4{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:qI(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class die{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(P4().toString()),this._cssKeyframesDriver=new w4}validateStyleProperty(t){return II(t)}matchesElement(t,e){return OI(t,e)}containsElement(t,e){return RI(t,e)}query(t,e,i){return NI(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,s,r,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,s,r,o);const f={duration:i,delay:s,fill:0==s?"both":"forwards"};r&&(f.easing=r);const m={},y=o.filter(w=>w instanceof k4);JF(i,s)&&y.forEach(w=>{let T=w.currentSnapshot;Object.keys(T).forEach(D=>m[D]=T[D])});const _=g4(t,e=ZF(t,e=e.map(w=>tl(w,!1)),m));return new k4(t,e,f,_)}}function P4(){return BF()&&Element.prototype.animate||{}}let pie=(()=>{class n extends _F{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Yt.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?bF(e):e;return A4(this._renderer,null,i,"register",[s]),new gie(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(q(ec),q(Xe))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class gie extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new mie(this._id,t,e||{},this._renderer)}}class mie{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return A4(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function A4(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const D4="@.disabled";let vie=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(r,o)=>{o&&o.parentNode(r)&&o.removeChild(r.parentNode,r)}}createRenderer(e,i){const r=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let f=this._rendererCache.get(r);return f||(f=new T4("",r,this.engine),this._rendererCache.set(r,f)),f}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=f=>{Array.isArray(f)?f.forEach(l):this.engine.registerTrigger(o,a,e,f.name,f)};return i.data.animation.forEach(l),new yie(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(q(ec),q(mS),q(Ke))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class T4{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==D4?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class yie extends T4{constructor(t,e,i,s){super(e,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==D4?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let r=e.substr(1),o="";return"@"!=r.charAt(0)&&([r,o]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,s,r,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let Sie=(()=>{class n extends mS{constructor(e,i,s){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(q(Xe),q(LI),q(KI))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const x4=new _e("AnimationModuleType"),M4=[{provide:_F,useClass:pie},{provide:KI,useFactory:function(){return new Dte}},{provide:mS,useClass:Sie},{provide:ec,useFactory:function(n,t,e){return new vie(n,t,e)},deps:[a_,mS,Ke]}],I4=[{provide:LI,useFactory:function(){return"function"==typeof P4()?new die:new w4}},{provide:x4,useValue:"BrowserAnimations"},...M4],O4=[{provide:LI,useClass:UF},{provide:x4,useValue:"NoopAnimations"},...M4];let kie=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?O4:I4}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ti({type:n}),n.\u0275inj=jt({providers:I4,imports:[X0]}),n})(),Pie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ti({type:n,bootstrap:[tte]}),n.\u0275inj=jt({providers:[],imports:[[X0,LW,mB,BW,kie,aX,Mee]]}),n})();(function(){if(S2)throw new Error("Cannot enable prod mode after platform setup.");b2=!1})(),V7().bootstrapModule(Pie).catch(n=>console.error(n))}},Kt=>{Kt(Kt.s=471)}]);