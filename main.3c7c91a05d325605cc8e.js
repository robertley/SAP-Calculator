var mse=Object.defineProperty,vse=Object.defineProperties,yse=Object.getOwnPropertyDescriptors,bq=Object.getOwnPropertySymbols,_se=Object.prototype.hasOwnProperty,bse=Object.prototype.propertyIsEnumerable,Sq=(Yt,Rt,Jt)=>Rt in Yt?mse(Yt,Rt,{enumerable:!0,configurable:!0,writable:!0,value:Jt}):Yt[Rt]=Jt,fn=(Yt,Rt)=>{for(var Jt in Rt||(Rt={}))_se.call(Rt,Jt)&&Sq(Yt,Jt,Rt[Jt]);if(bq)for(var Jt of bq(Rt))bse.call(Rt,Jt)&&Sq(Yt,Jt,Rt[Jt]);return Yt},yS=(Yt,Rt)=>vse(Yt,yse(Rt));(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[179],{255:Yt=>{function Rt(Jt){return Promise.resolve().then(()=>{var Xn=new Error("Cannot find module '"+Jt+"'");throw Xn.code="MODULE_NOT_FOUND",Xn})}Rt.keys=()=>[],Rt.resolve=Rt,Rt.id=255,Yt.exports=Rt},815:function(Yt,Rt,Jt){var Xn;Yt=Jt.nmd(Yt),function(){var M,Fi="Expected a function",nl="__lodash_hash_undefined__",ea="__lodash_placeholder__",ra=1/0,Cr=9007199254740991,_s=4294967295,_S=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Za="[object Arguments]",al="[object Array]",Xa="[object Boolean]",ol="[object Date]",eo="[object Error]",Rc="[object Function]",Tg="[object GeneratorFunction]",es="[object Map]",ll="[object Number]",Ln="[object Object]",SS="[object Promise]",Nc="[object RegExp]",Ji="[object Set]",aa="[object String]",Lc="[object Symbol]",Bc="[object WeakMap]",to="[object ArrayBuffer]",Pr="[object DataView]",$c="[object Float32Array]",Jh="[object Float64Array]",Zh="[object Int8Array]",Xh="[object Int16Array]",ed="[object Int32Array]",td="[object Uint8Array]",Mg="[object Uint8ClampedArray]",id="[object Uint16Array]",nd="[object Uint32Array]",ES=/\b__p \+= '';/g,kS=/\b(__p \+=) '' \+/g,CS=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ut=/&(?:amp|lt|gt|quot|#39);/g,Vc=/[&<>"']/g,Ge=RegExp(ut.source),sd=RegExp(Vc.source),PS=/<%-([\s\S]+?)%>/g,kt=/<%([\s\S]+?)%>/g,ye=/<%=([\s\S]+?)%>/g,Rg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lO=/^\w*$/,Ar=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ig=/[\\^$.*+?()[\]{}|]/g,rd=RegExp(Ig.source),Oe=/^\s+/,Hi=/\s/,AS=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,cO=/\{\n\/\* \[wrapped with (.+)\] \*/,uO=/,? & /,Fc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,mn=/[()=,{}\[\]\/\s]/,hO=/\\(\\)?/g,DS=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,TS=/\w*$/,Zs=/^[-+]0x[0-9a-f]+$/i,dO=/^0b[01]+$/i,fO=/^\[object .+?Constructor\]$/,pO=/^0o[0-7]+$/i,gO=/^(?:0|[1-9]\d*)$/,xS=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ad=/($^)/,MS=/['\n\r\u2028\u2029\\]/g,od="\\ud800-\\udfff",RS="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",IS="\\u2700-\\u27bf",he="a-z\\xdf-\\xf6\\xf8-\\xff",Ng="A-Z\\xc0-\\xd6\\xd8-\\xde",Lg="\\ufe0e\\ufe0f",ld="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",cd="["+od+"]",ud="["+ld+"]",Hc="["+RS+"]",Ee="\\d+",hd="["+IS+"]",Bg="["+he+"]",er="[^"+od+ld+Ee+IS+he+Ng+"]",qc="\\ud83c[\\udffb-\\udfff]",tr="[^"+od+"]",Zi="(?:\\ud83c[\\udde6-\\uddff]){2}",$g="[\\ud800-\\udbff][\\udc00-\\udfff]",cl="["+Ng+"]",Vg="(?:"+Bg+"|"+er+")",OS="(?:"+cl+"|"+er+")",Fg="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",NS="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",dt="(?:"+Hc+"|"+qc+")?",LS="["+Lg+"]?",ul=LS+dt+"(?:\\u200d(?:"+[tr,Zi,$g].join("|")+")"+LS+dt+")*",dd="(?:"+[hd,Zi,$g].join("|")+")"+ul,fd="(?:"+[tr+Hc+"?",Hc,Zi,$g,cd].join("|")+")",Hg=RegExp("['\u2019]","g"),BS=RegExp(Hc,"g"),ts=RegExp(qc+"(?="+qc+")|"+fd+ul,"g"),hl=RegExp([cl+"?"+Bg+"+"+Fg+"(?="+[ud,cl,"$"].join("|")+")",OS+"+"+NS+"(?="+[ud,cl+Vg,"$"].join("|")+")",cl+"?"+Vg+"+"+Fg,cl+"+"+NS,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ee,dd].join("|"),"g"),$S=RegExp("[\\u200d"+od+RS+Lg+"]"),Bn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,VS=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qg=-1,Tt={};Tt[$c]=Tt[Jh]=Tt[Zh]=Tt[Xh]=Tt[ed]=Tt[td]=Tt[Mg]=Tt[id]=Tt[nd]=!0,Tt[Za]=Tt[al]=Tt[to]=Tt[Xa]=Tt[Pr]=Tt[ol]=Tt[eo]=Tt[Rc]=Tt[es]=Tt[ll]=Tt[Ln]=Tt[Nc]=Tt[Ji]=Tt[aa]=Tt[Bc]=!1;var Pt={};Pt[Za]=Pt[al]=Pt[to]=Pt[Pr]=Pt[Xa]=Pt[ol]=Pt[$c]=Pt[Jh]=Pt[Zh]=Pt[Xh]=Pt[ed]=Pt[es]=Pt[ll]=Pt[Ln]=Pt[Nc]=Pt[Ji]=Pt[aa]=Pt[Lc]=Pt[td]=Pt[Mg]=Pt[id]=Pt[nd]=!0,Pt[eo]=Pt[Rc]=Pt[Bc]=!1;var fe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xi=parseFloat,Ti=parseInt,ir="object"==typeof global&&global&&global.Object===Object&&global,oa="object"==typeof self&&self&&self.Object===Object&&self,St=ir||oa||Function("return this")(),Gg=Rt&&!Rt.nodeType&&Rt,xi=Gg&&Yt&&!Yt.nodeType&&Yt,re=xi&&xi.exports===Gg,je=re&&ir.process,st=function(){try{return xi&&xi.require&&xi.require("util").types||je&&je.binding&&je.binding("util")}catch(U){}}(),en=st&&st.isArrayBuffer,Dr=st&&st.isDate,ci=st&&st.isMap,Tr=st&&st.isRegExp,Ht=st&&st.isSet,so=st&&st.isTypedArray;function gi(L,U,V){switch(V.length){case 0:return L.call(U);case 1:return L.call(U,V[0]);case 2:return L.call(U,V[0],V[1]);case 3:return L.call(U,V[0],V[1],V[2])}return L.apply(U,V)}function He(L,U,V,le){for(var Ne=-1,ft=null==L?0:L.length;++Ne<ft;){var ei=L[Ne];U(le,ei,V(ei),L)}return le}function qi(L,U){for(var V=-1,le=null==L?0:L.length;++V<le&&!1!==U(L[V],V,L););return L}function ro(L,U){for(var V=null==L?0:L.length;V--&&!1!==U(L[V],V,L););return L}function Uc(L,U){for(var V=-1,le=null==L?0:L.length;++V<le;)if(!U(L[V],V,L))return!1;return!0}function yn(L,U){for(var V=-1,le=null==L?0:L.length,Ne=0,ft=[];++V<le;){var ei=L[V];U(ei,V,L)&&(ft[Ne++]=ei)}return ft}function mi(L,U){return!(null==L||!L.length)&&Xt(L,U,0)>-1}function la(L,U,V){for(var le=-1,Ne=null==L?0:L.length;++le<Ne;)if(V(U,L[le]))return!0;return!1}function vt(L,U){for(var V=-1,le=null==L?0:L.length,Ne=Array(le);++V<le;)Ne[V]=U(L[V],V,L);return Ne}function vi(L,U){for(var V=-1,le=U.length,Ne=L.length;++V<le;)L[Ne+V]=U[V];return L}function wt(L,U,V,le){var Ne=-1,ft=null==L?0:L.length;for(le&&ft&&(V=L[++Ne]);++Ne<ft;)V=U(V,L[Ne],Ne,L);return V}function HS(L,U,V,le){var Ne=null==L?0:L.length;for(le&&Ne&&(V=L[--Ne]);Ne--;)V=U(V,L[Ne],Ne,L);return V}function pd(L,U){for(var V=-1,le=null==L?0:L.length;++V<le;)if(U(L[V],V,L))return!0;return!1}var Gc=pl("length");function fl(L,U,V){var le;return V(L,function(Ne,ft,ei){if(U(Ne,ft,ei))return le=ft,!1}),le}function bs(L,U,V,le){for(var Ne=L.length,ft=V+(le?1:-1);le?ft--:++ft<Ne;)if(U(L[ft],ft,L))return ft;return-1}function Xt(L,U,V){return U==U?function(L,U,V){for(var le=V-1,Ne=L.length;++le<Ne;)if(L[le]===U)return le;return-1}(L,U,V):bs(L,is,V)}function qS(L,U,V,le){for(var Ne=V-1,ft=L.length;++Ne<ft;)if(le(L[Ne],U))return Ne;return-1}function is(L){return L!=L}function $n(L,U){var V=null==L?0:L.length;return V?md(L,U)/V:NaN}function pl(L){return function(U){return null==U?M:U[L]}}function ao(L){return function(U){return null==L?M:L[U]}}function gl(L,U,V,le,Ne){return Ne(L,function(ft,ei,Mt){V=le?(le=!1,ft):U(V,ft,ei,Mt)}),V}function md(L,U){for(var V,le=-1,Ne=L.length;++le<Ne;){var ft=U(L[le]);ft!==M&&(V=V===M?ft:V+ft)}return V}function jg(L,U){for(var V=-1,le=Array(L);++V<L;)le[V]=U(V);return le}function Wg(L){return L&&L.slice(0,_d(L)+1).replace(Oe,"")}function Vn(L){return function(U){return L(U)}}function zg(L,U){return vt(U,function(V){return L[V]})}function jc(L,U){return L.has(U)}function GS(L,U){for(var V=-1,le=L.length;++V<le&&Xt(U,L[V],0)>-1;);return V}function jS(L,U){for(var V=L.length;V--&&Xt(U,L[V],0)>-1;);return V}function bO(L,U){for(var V=L.length,le=0;V--;)L[V]===U&&++le;return le}var SO=ao({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),wO=ao({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function EO(L){return"\\"+fe[L]}function ml(L){return $S.test(L)}function Kg(L){var U=-1,V=Array(L.size);return L.forEach(function(le,Ne){V[++U]=[Ne,le]}),V}function vd(L,U){return function(V){return L(U(V))}}function Ss(L,U){for(var V=-1,le=L.length,Ne=0,ft=[];++V<le;){var ei=L[V];(ei===U||ei===ea)&&(L[V]=ea,ft[Ne++]=V)}return ft}function yd(L){var U=-1,V=Array(L.size);return L.forEach(function(le){V[++U]=le}),V}function ua(L){return ml(L)?function(L){for(var U=ts.lastIndex=0;ts.test(L);)++U;return U}(L):Gc(L)}function xt(L){return ml(L)?function(L){return L.match(ts)||[]}(L):function(L){return L.split("")}(L)}function _d(L){for(var U=L.length;U--&&Hi.test(L.charAt(U)););return U}var WS=ao({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),oo=function L(U){var c,V=(U=null==U?St:oo.defaults(St.Object(),U,oo.pick(St,VS))).Array,le=U.Date,Ne=U.Error,ft=U.Function,ei=U.Math,Mt=U.Object,Nt=U.RegExp,TO=U.String,_n=U.TypeError,Wc=V.prototype,lo=Mt.prototype,bd=U["__core-js_shared__"],ha=ft.prototype.toString,Ue=lo.hasOwnProperty,QS=0,zc=(c=/[^.]+$/.exec(bd&&bd.keys&&bd.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",nr=lo.toString,bn=ha.call(Mt),Jg=St._,Sd=Nt("^"+ha.call(Ue).replace(Ig,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kc=re?U.Buffer:M,Ui=U.Symbol,vl=U.Uint8Array,Qc=Kc?Kc.allocUnsafe:M,De=vd(Mt.getPrototypeOf,Mt),YS=Mt.create,Zg=lo.propertyIsEnumerable,Yc=Wc.splice,Xg=Ui?Ui.isConcatSpreadable:M,co=Ui?Ui.iterator:M,da=Ui?Ui.toStringTag:M,Jc=function(){try{var c=Ra(Mt,"defineProperty");return c({},"",{}),c}catch(u){}}(),K=U.clearTimeout!==St.clearTimeout&&U.clearTimeout,ot=le&&le.now!==St.Date.now&&le.now,Lt=U.setTimeout!==St.setTimeout&&U.setTimeout,Qt=ei.ceil,yl=ei.floor,fa=Mt.getOwnPropertySymbols,ws=Kc?Kc.isBuffer:M,Zc=U.isFinite,wd=Wc.join,xO=vd(Mt.keys,Mt),ui=ei.max,hi=ei.min,Xc=le.now,Gi=U.parseInt,ss=ei.random,em=Wc.reverse,xr=Ra(U,"DataView"),Sn=Ra(U,"Map"),Ed=Ra(U,"Promise"),pa=Ra(U,"Set"),_l=Ra(U,"WeakMap"),bl=Ra(Mt,"create"),uo=_l&&new _l,Mr={},tm=Lr(xr),kd=Lr(Sn),JS=Lr(Ed),im=Lr(pa),eu=Lr(_l),Sl=Ui?Ui.prototype:M,ho=Sl?Sl.valueOf:M,Cd=Sl?Sl.toString:M;function C(c){if(jt(c)&&!Se(c)&&!(c instanceof Pe)){if(c instanceof Fn)return c;if(Ue.call(c,"__wrapped__"))return lf(c)}return new Fn(c)}var sr=function(){function c(){}return function(u){if(!Gt(u))return{};if(YS)return YS(u);c.prototype=u;var f=new c;return c.prototype=M,f}}();function tu(){}function Fn(c,u){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=M}function Pe(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_s,this.__views__=[]}function ga(c){var u=-1,f=null==c?0:c.length;for(this.clear();++u<f;){var v=c[u];this.set(v[0],v[1])}}function Hn(c){var u=-1,f=null==c?0:c.length;for(this.clear();++u<f;){var v=c[u];this.set(v[0],v[1])}}function wn(c){var u=-1,f=null==c?0:c.length;for(this.clear();++u<f;){var v=c[u];this.set(v[0],v[1])}}function ma(c){var u=-1,f=null==c?0:c.length;for(this.__data__=new wn;++u<f;)this.add(c[u])}function tn(c){var u=this.__data__=new Hn(c);this.size=u.size}function va(c,u){var f=Se(c),v=!f&&Ds(c),E=!f&&!v&&Ts(c),D=!f&&!v&&!E&&jl(c),x=f||v||E||D,R=x?jg(c.length,TO):[],B=R.length;for(var j in c)(u||Ue.call(c,j))&&(!x||!("length"==j||E&&("offset"==j||"parent"==j)||D&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||os(j,B)))&&R.push(j);return R}function om(c){var u=c.length;return u?c[Bd(0,u-1)]:M}function fo(c,u){return Eu(yi(c),rr(u,0,c.length))}function Md(c){return Eu(yi(c))}function po(c,u,f){(f!==M&&!be(c[u],f)||f===M&&!(u in c))&&En(c,u,f)}function ru(c,u,f){var v=c[u];(!Ue.call(c,u)||!be(v,f)||f===M&&!(u in c))&&En(c,u,f)}function El(c,u){for(var f=c.length;f--;)if(be(c[f][0],u))return f;return-1}function lm(c,u,f,v){return ar(c,function(E,D,x){u(v,E,f(E),x)}),v}function cm(c,u){return c&&di(u,ki(u),c)}function En(c,u,f){"__proto__"==u&&Jc?Jc(c,u,{configurable:!0,enumerable:!0,value:f,writable:!0}):c[u]=f}function kl(c,u){for(var f=-1,v=u.length,E=V(v),D=null==c;++f<v;)E[f]=D?M:Kl(c,u[f]);return E}function rr(c,u,f){return c==c&&(f!==M&&(c=c<=f?c:f),u!==M&&(c=c>=u?c:u)),c}function ji(c,u,f,v,E,D){var x,R=1&u,B=2&u,j=4&u;if(f&&(x=E?f(c,v,E,D):f(c)),x!==M)return x;if(!Gt(c))return c;var W=Se(c);if(W){if(x=function(c){var u=c.length,f=new c.constructor(u);return u&&"string"==typeof c[0]&&Ue.call(c,"index")&&(f.index=c.index,f.input=c.input),f}(c),!R)return yi(c,x)}else{var Y=Ei(c),te=Y==Rc||Y==Tg;if(Ts(c))return wm(c,R);if(Y==Ln||Y==Za||te&&!E){if(x=B||te?{}:bu(c),!R)return B?function(c,u){return di(c,Im(c),u)}(c,function(c,u){return c&&di(u,Ki(u),c)}(x,c)):function(c,u){return di(c,Ol(c),u)}(c,cm(x,c))}else{if(!Pt[Y])return E?c:{};x=function(c,u,f){var v=c.constructor;switch(u){case to:return q(c);case Xa:case ol:return new v(+c);case Pr:return function(c,u){var f=u?q(c.buffer):c.buffer;return new c.constructor(f,c.byteOffset,c.byteLength)}(c,f);case $c:case Jh:case Zh:case Xh:case ed:case td:case Mg:case id:case nd:return So(c,f);case es:return new v;case ll:case aa:return new v(c);case Nc:return function(c){var u=new c.constructor(c.source,TS.exec(c));return u.lastIndex=c.lastIndex,u}(c);case Ji:return new v;case Lc:return function(c){return ho?Mt(ho.call(c)):{}}(c)}}(c,Y,R)}}D||(D=new tn);var pe=D.get(c);if(pe)return pe;D.set(c,x),bE(c)?c.forEach(function(Te){x.add(ji(Te,u,f,Te,c,D))}):mE(c)&&c.forEach(function(Te,Qe){x.set(Qe,ji(Te,u,f,Qe,c,D))});var Ke=W?M:(j?B?Qd:Kd:B?Ki:ki)(c);return qi(Ke||c,function(Te,Qe){Ke&&(Te=c[Qe=Te]),ru(x,Qe,ji(Te,u,f,Qe,c,D))}),x}function um(c,u,f){var v=f.length;if(null==c)return!v;for(c=Mt(c);v--;){var E=f[v],x=c[E];if(x===M&&!(E in c)||!(0,u[E])(x))return!1}return!0}function Rd(c,u,f){if("function"!=typeof c)throw new _n(Fi);return ko(function(){c.apply(M,f)},u)}function go(c,u,f,v){var E=-1,D=mi,x=!0,R=c.length,B=[],j=u.length;if(!R)return B;f&&(u=vt(u,Vn(f))),v?(D=la,x=!1):u.length>=200&&(D=jc,x=!1,u=new ma(u));e:for(;++E<R;){var W=c[E],Y=null==f?W:f(W);if(W=v||0!==W?W:0,x&&Y==Y){for(var te=j;te--;)if(u[te]===Y)continue e;B.push(W)}else D(u,Y,v)||B.push(W)}return B}C.templateSettings={escape:PS,evaluate:kt,interpolate:ye,variable:"",imports:{_:C}},(C.prototype=tu.prototype).constructor=C,(Fn.prototype=sr(tu.prototype)).constructor=Fn,(Pe.prototype=sr(tu.prototype)).constructor=Pe,ga.prototype.clear=function(){this.__data__=bl?bl(null):{},this.size=0},ga.prototype.delete=function(c){var u=this.has(c)&&delete this.__data__[c];return this.size-=u?1:0,u},ga.prototype.get=function(c){var u=this.__data__;if(bl){var f=u[c];return f===nl?M:f}return Ue.call(u,c)?u[c]:M},ga.prototype.has=function(c){var u=this.__data__;return bl?u[c]!==M:Ue.call(u,c)},ga.prototype.set=function(c,u){var f=this.__data__;return this.size+=this.has(c)?0:1,f[c]=bl&&u===M?nl:u,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(c){var u=this.__data__,f=El(u,c);return!(f<0||(f==u.length-1?u.pop():Yc.call(u,f,1),--this.size,0))},Hn.prototype.get=function(c){var u=this.__data__,f=El(u,c);return f<0?M:u[f][1]},Hn.prototype.has=function(c){return El(this.__data__,c)>-1},Hn.prototype.set=function(c,u){var f=this.__data__,v=El(f,c);return v<0?(++this.size,f.push([c,u])):f[v][1]=u,this},wn.prototype.clear=function(){this.size=0,this.__data__={hash:new ga,map:new(Sn||Hn),string:new ga}},wn.prototype.delete=function(c){var u=Il(this,c).delete(c);return this.size-=u?1:0,u},wn.prototype.get=function(c){return Il(this,c).get(c)},wn.prototype.has=function(c){return Il(this,c).has(c)},wn.prototype.set=function(c,u){var f=Il(this,c),v=f.size;return f.set(c,u),this.size+=f.size==v?0:1,this},ma.prototype.add=ma.prototype.push=function(c){return this.__data__.set(c,nl),this},ma.prototype.has=function(c){return this.__data__.has(c)},tn.prototype.clear=function(){this.__data__=new Hn,this.size=0},tn.prototype.delete=function(c){var u=this.__data__,f=u.delete(c);return this.size=u.size,f},tn.prototype.get=function(c){return this.__data__.get(c)},tn.prototype.has=function(c){return this.__data__.has(c)},tn.prototype.set=function(c,u){var f=this.__data__;if(f instanceof Hn){var v=f.__data__;if(!Sn||v.length<199)return v.push([c,u]),this.size=++f.size,this;f=this.__data__=new wn(v)}return f.set(c,u),this.size=f.size,this};var ar=gu(Wi),Id=gu(nn,!0);function aw(c,u){var f=!0;return ar(c,function(v,E,D){return f=!!u(v,E,D)}),f}function ou(c,u,f){for(var v=-1,E=c.length;++v<E;){var D=c[v],x=u(D);if(null!=x&&(R===M?x==x&&!zn(x):f(x,R)))var R=x,B=D}return B}function mo(c,u){var f=[];return ar(c,function(v,E,D){u(v,E,D)&&f.push(v)}),f}function wi(c,u,f,v,E){var D=-1,x=c.length;for(f||(f=Eo),E||(E=[]);++D<x;){var R=c[D];u>0&&f(R)?u>1?wi(R,u-1,f,v,E):vi(E,R):v||(E[E.length]=R)}return E}var cu=Tl(),Od=Tl(!0);function Wi(c,u){return c&&cu(c,u,ki)}function nn(c,u){return c&&Od(c,u,ki)}function vo(c,u){return yn(u,function(f){return Wn(c[f])})}function or(c,u){for(var f=0,v=(u=Pa(u,c)).length;null!=c&&f<v;)c=c[ls(u[f++])];return f&&f==v?c:M}function ya(c,u,f){var v=u(c);return Se(c)?v:vi(v,f(c))}function ri(c){return null==c?c===M?"[object Undefined]":"[object Null]":da&&da in Mt(c)?function(c){var u=Ue.call(c,da),f=c[da];try{c[da]=M;var v=!0}catch(D){}var E=nr.call(c);return v&&(u?c[da]=f:delete c[da]),E}(c):function(c){return nr.call(c)}(c)}function Or(c,u){return c>u}function Cl(c,u){return null!=c&&Ue.call(c,u)}function Nd(c,u){return null!=c&&u in Mt(c)}function hm(c,u,f){for(var v=f?la:mi,E=c[0].length,D=c.length,x=D,R=V(D),B=1/0,j=[];x--;){var W=c[x];x&&u&&(W=vt(W,Vn(u))),B=hi(W.length,B),R[x]=!f&&(u||E>=120&&W.length>=120)?new ma(x&&W):M}W=c[0];var Y=-1,te=R[0];e:for(;++Y<E&&j.length<B;){var pe=W[Y],Ae=u?u(pe):pe;if(pe=f||0!==pe?pe:0,!(te?jc(te,Ae):v(j,Ae,f))){for(x=D;--x;){var Ke=R[x];if(!(Ke?jc(Ke,Ae):v(c[x],Ae,f)))continue e}te&&te.push(Ae),j.push(pe)}}return j}function Pl(c,u,f){var v=null==(c=Hm(c,u=Pa(u,c)))?c:c[ls(Pn(u))];return null==v?M:gi(v,c,f)}function ow(c){return jt(c)&&ri(c)==Za}function uu(c,u,f,v,E){return c===u||(null==c||null==u||!jt(c)&&!jt(u)?c!=c&&u!=u:function(c,u,f,v,E,D){var x=Se(c),R=Se(u),B=x?al:Ei(c),j=R?al:Ei(u),W=(B=B==Za?Ln:B)==Ln,Y=(j=j==Za?Ln:j)==Ln,te=B==j;if(te&&Ts(c)){if(!Ts(u))return!1;x=!0,W=!1}if(te&&!W)return D||(D=new tn),x||jl(c)?zd(c,u,f,v,E,D):function(c,u,f,v,E,D,x){switch(f){case Pr:if(c.byteLength!=u.byteLength||c.byteOffset!=u.byteOffset)return!1;c=c.buffer,u=u.buffer;case to:return!(c.byteLength!=u.byteLength||!D(new vl(c),new vl(u)));case Xa:case ol:case ll:return be(+c,+u);case eo:return c.name==u.name&&c.message==u.message;case Nc:case aa:return c==u+"";case es:var R=Kg;case Ji:if(R||(R=yd),c.size!=u.size&&!(1&v))return!1;var j=x.get(c);if(j)return j==u;v|=2,x.set(c,u);var W=zd(R(c),R(u),v,E,D,x);return x.delete(c),W;case Lc:if(ho)return ho.call(c)==ho.call(u)}return!1}(c,u,B,f,v,E,D);if(!(1&f)){var pe=W&&Ue.call(c,"__wrapped__"),Ae=Y&&Ue.call(u,"__wrapped__");if(pe||Ae){var Ke=pe?c.value():c,Te=Ae?u.value():u;return D||(D=new tn),E(Ke,Te,f,v,D)}}return!!te&&(D||(D=new tn),function(c,u,f,v,E,D){var x=1&f,R=Kd(c),B=R.length;if(B!=Kd(u).length&&!x)return!1;for(var Y=B;Y--;){var te=R[Y];if(!(x?te in u:Ue.call(u,te)))return!1}var pe=D.get(c),Ae=D.get(u);if(pe&&Ae)return pe==u&&Ae==c;var Ke=!0;D.set(c,u),D.set(u,c);for(var Te=x;++Y<B;){var Qe=c[te=R[Y]],rt=u[te];if(v)var on=x?v(rt,Qe,te,u,c,D):v(Qe,rt,te,c,u,D);if(!(on===M?Qe===rt||E(Qe,rt,f,v,D):on)){Ke=!1;break}Te||(Te="constructor"==te)}if(Ke&&!Te){var Oi=c.constructor,Kn=u.constructor;Oi!=Kn&&"constructor"in c&&"constructor"in u&&!("function"==typeof Oi&&Oi instanceof Oi&&"function"==typeof Kn&&Kn instanceof Kn)&&(Ke=!1)}return D.delete(c),D.delete(u),Ke}(c,u,f,v,E,D))}(c,u,f,v,uu,E))}function fm(c,u,f,v){var E=f.length,D=E,x=!v;if(null==c)return!D;for(c=Mt(c);E--;){var R=f[E];if(x&&R[2]?R[1]!==c[R[0]]:!(R[0]in c))return!1}for(;++E<D;){var B=(R=f[E])[0],j=c[B],W=R[1];if(x&&R[2]){if(j===M&&!(B in c))return!1}else{var Y=new tn;if(v)var te=v(j,W,B,c,u,Y);if(!(te===M?uu(W,j,3,v,Y):te))return!1}}return!0}function cw(c){return!(!Gt(c)||function(c){return!!zc&&zc in c}(c))&&(Wn(c)?Sd:fO).test(Lr(c))}function uw(c){return"function"==typeof c?c:null==c?Qi:"object"==typeof c?Se(c)?hu(c[0],c[1]):ai(c):$a(c)}function pm(c){if(!Ll(c))return xO(c);var u=[];for(var f in Mt(c))Ue.call(c,f)&&"constructor"!=f&&u.push(f);return u}function ba(c,u){return c<u}function hw(c,u){var f=-1,v=rn(c)?V(c.length):[];return ar(c,function(E,D,x){v[++f]=u(E,D,x)}),v}function ai(c){var u=Yd(c);return 1==u.length&&u[0][2]?Bm(u[0][0],u[0][1]):function(f){return f===c||fm(f,c,u)}}function hu(c,u){return ef(c)&&Lm(u)?Bm(ls(c),u):function(f){var v=Kl(f,c);return v===M&&v===u?Nu(f,c):uu(u,v,3)}}function Sa(c,u,f,v,E){c!==u&&cu(u,function(D,x){if(E||(E=new tn),Gt(D))!function(c,u,f,v,E,D,x){var R=Su(c,f),B=Su(u,f),j=x.get(B);if(j)po(c,f,j);else{var W=D?D(R,B,f+"",c,u,x):M,Y=W===M;if(Y){var te=Se(B),pe=!te&&Ts(B),Ae=!te&&!pe&&jl(B);W=B,te||pe||Ae?Se(R)?W=R:Ut(R)?W=yi(R):pe?(Y=!1,W=wm(B,!0)):Ae?(Y=!1,W=So(B,!0)):W=[]:Ou(B)||Ds(B)?(W=R,Ds(R)?W=Av(R):(!Gt(R)||Wn(R))&&(W=bu(B))):Y=!1}Y&&(x.set(B,W),E(W,B,v,D,x),x.delete(B)),po(c,f,W)}}(c,u,x,f,Sa,v,E);else{var R=v?v(Su(c,x),D,x+"",c,u,E):M;R===M&&(R=D),po(c,x,R)}},Ki)}function gm(c,u){var f=c.length;if(f)return os(u+=u<0?f:0,f)?c[u]:M}function kn(c,u,f){u=u.length?vt(u,function(D){return Se(D)?function(x){return or(x,1===D.length?D[0]:D)}:D}):[Qi];var v=-1;return u=vt(u,Vn(ke())),function(L,U){var V=L.length;for(L.sort(function(D,x){return function(c,u,f){for(var v=-1,E=c.criteria,D=u.criteria,x=E.length,R=f.length;++v<x;){var B=km(E[v],D[v]);if(B)return v>=R?B:B*("desc"==f[v]?-1:1)}return c.index-u.index}(D,x,f)});V--;)L[V]=L[V].value;return L}(hw(c,function(D,x,R){return{criteria:vt(u,function(j){return j(D)}),index:++v,value:D}}))}function Al(c,u,f){for(var v=-1,E=u.length,D={};++v<E;){var x=u[v],R=or(c,x);f(R,x)&&Ea(D,Pa(x,c),R)}return D}function ks(c,u,f,v){var E=v?qS:Xt,D=-1,x=u.length,R=c;for(c===u&&(u=yi(u)),f&&(R=vt(c,Vn(f)));++D<x;)for(var B=0,j=u[D],W=f?f(j):j;(B=E(R,W,B,v))>-1;)R!==c&&Yc.call(R,B,1),Yc.call(c,B,1);return c}function Ld(c,u){for(var f=c?u.length:0,v=f-1;f--;){var E=u[f];if(f==v||E!==D){var D=E;os(E)?Yc.call(c,E,1):bm(c,E)}}return c}function Bd(c,u){return c+yl(ss()*(u-c+1))}function mm(c,u){var f="";if(!c||u<1||u>Cr)return f;do{u%2&&(f+=c),(u=yl(u/2))&&(c+=c)}while(u);return f}function et(c,u){return wu(Fm(c,u,Qi),c+"")}function vm(c){return om(xo(c))}function Cn(c,u){var f=xo(c);return Eu(f,rr(u,0,f.length))}function Ea(c,u,f,v){if(!Gt(c))return c;for(var E=-1,D=(u=Pa(u,c)).length,x=D-1,R=c;null!=R&&++E<D;){var B=ls(u[E]),j=f;if("__proto__"===B||"constructor"===B||"prototype"===B)return c;if(E!=x){var W=R[B];(j=v?v(W,B,R):M)===M&&(j=Gt(W)?W:os(u[E+1])?[]:{})}ru(R,B,j),R=R[B]}return c}var ka=uo?function(c,u){return uo.set(c,u),c}:Qi,FO=Jc?function(c,u){return Jc(c,"toString",{configurable:!0,enumerable:!1,value:Uf(u),writable:!0})}:Qi;function ym(c){return Eu(xo(c))}function qn(c,u,f){var v=-1,E=c.length;u<0&&(u=-u>E?0:E+u),(f=f>E?E:f)<0&&(f+=E),E=u>f?0:f-u>>>0,u>>>=0;for(var D=V(E);++v<E;)D[v]=c[v+u];return D}function fw(c,u){var f;return ar(c,function(v,E,D){return!(f=u(v,E,D))}),!!f}function du(c,u,f){var v=0,E=null==c?v:c.length;if("number"==typeof u&&u==u&&E<=2147483647){for(;v<E;){var D=v+E>>>1,x=c[D];null!==x&&!zn(x)&&(f?x<=u:x<u)?v=D+1:E=D}return E}return $d(c,u,Qi,f)}function $d(c,u,f,v){var E=0,D=null==c?0:c.length;if(0===D)return 0;for(var x=(u=f(u))!=u,R=null===u,B=zn(u),j=u===M;E<D;){var W=yl((E+D)/2),Y=f(c[W]),te=Y!==M,pe=null===Y,Ae=Y==Y,Ke=zn(Y);if(x)var Te=v||Ae;else Te=j?Ae&&(v||te):R?Ae&&te&&(v||!pe):B?Ae&&te&&!pe&&(v||!Ke):!pe&&!Ke&&(v?Y<=u:Y<u);Te?E=W+1:D=W}return hi(D,4294967294)}function _m(c,u){for(var f=-1,v=c.length,E=0,D=[];++f<v;){var x=c[f],R=u?u(x):x;if(!f||!be(R,B)){var B=R;D[E++]=0===x?0:x}}return D}function yo(c){return"number"==typeof c?c:zn(c)?NaN:+c}function zi(c){if("string"==typeof c)return c;if(Se(c))return vt(c,zi)+"";if(zn(c))return Cd?Cd.call(c):"";var u=c+"";return"0"==u&&1/c==-ra?"-0":u}function rs(c,u,f){var v=-1,E=mi,D=c.length,x=!0,R=[],B=R;if(f)x=!1,E=la;else if(D>=200){var j=u?null:yw(c);if(j)return yd(j);x=!1,E=jc,B=new ma}else B=u?[]:R;e:for(;++v<D;){var W=c[v],Y=u?u(W):W;if(W=f||0!==W?W:0,x&&Y==Y){for(var te=B.length;te--;)if(B[te]===Y)continue e;u&&B.push(Y),R.push(W)}else E(B,Y,f)||(B!==R&&B.push(Y),R.push(W))}return R}function bm(c,u){return null==(c=Hm(c,u=Pa(u,c)))||delete c[ls(Pn(u))]}function _o(c,u,f,v){return Ea(c,u,f(or(c,u)),v)}function bo(c,u,f,v){for(var E=c.length,D=v?E:-1;(v?D--:++D<E)&&u(c[D],D,c););return f?qn(c,v?0:D,v?D+1:E):qn(c,v?D+1:0,v?E:D)}function Ca(c,u){var f=c;return f instanceof Pe&&(f=f.value()),wt(u,function(v,E){return E.func.apply(E.thisArg,vi([v],E.args))},f)}function Vd(c,u,f){var v=c.length;if(v<2)return v?rs(c[0]):[];for(var E=-1,D=V(v);++E<v;)for(var x=c[E],R=-1;++R<v;)R!=E&&(D[E]=go(D[E]||x,c[R],u,f));return rs(wi(D,1),u,f)}function Sm(c,u,f){for(var v=-1,E=c.length,D=u.length,x={};++v<E;)f(x,c[v],v<D?u[v]:M);return x}function Fd(c){return Ut(c)?c:[]}function Dl(c){return"function"==typeof c?c:Qi}function Pa(c,u){return Se(c)?c:ef(c,u)?[c]:af(pt(c))}var Hd=et;function Un(c,u,f){var v=c.length;return f=f===M?v:f,!u&&f>=v?c:qn(c,u,f)}var Aa=K||function(c){return St.clearTimeout(c)};function wm(c,u){if(u)return c.slice();var f=c.length,v=Qc?Qc(f):new c.constructor(f);return c.copy(v),v}function q(c){var u=new c.constructor(c.byteLength);return new vl(u).set(new vl(c)),u}function So(c,u){var f=u?q(c.buffer):c.buffer;return new c.constructor(f,c.byteOffset,c.length)}function km(c,u){if(c!==u){var f=c!==M,v=null===c,E=c==c,D=zn(c),x=u!==M,R=null===u,B=u==u,j=zn(u);if(!R&&!j&&!D&&c>u||D&&x&&B&&!R&&!j||v&&x&&B||!f&&B||!E)return 1;if(!v&&!D&&!j&&c<u||j&&f&&E&&!v&&!D||R&&f&&E||!x&&E||!B)return-1}return 0}function qd(c,u,f,v){for(var E=-1,D=c.length,x=f.length,R=-1,B=u.length,j=ui(D-x,0),W=V(B+j),Y=!v;++R<B;)W[R]=u[R];for(;++E<x;)(Y||E<D)&&(W[f[E]]=c[E]);for(;j--;)W[R++]=c[E++];return W}function gw(c,u,f,v){for(var E=-1,D=c.length,x=-1,R=f.length,B=-1,j=u.length,W=ui(D-R,0),Y=V(W+j),te=!v;++E<W;)Y[E]=c[E];for(var pe=E;++B<j;)Y[pe+B]=u[B];for(;++x<R;)(te||E<D)&&(Y[pe+f[x]]=c[E++]);return Y}function yi(c,u){var f=-1,v=c.length;for(u||(u=V(v));++f<v;)u[f]=c[f];return u}function di(c,u,f,v){var E=!f;f||(f={});for(var D=-1,x=u.length;++D<x;){var R=u[D],B=v?v(f[R],c[R],R,f,c):M;B===M&&(B=c[R]),E?En(f,R,B):ru(f,R,B)}return f}function pu(c,u){return function(f,v){var E=Se(f)?He:lm,D=u?u():{};return E(f,c,ke(v,2),D)}}function xa(c){return et(function(u,f){var v=-1,E=f.length,D=E>1?f[E-1]:M,x=E>2?f[2]:M;for(D=c.length>3&&"function"==typeof D?(E--,D):M,x&&Ii(f[0],f[1],x)&&(D=E<3?M:D,E=1),u=Mt(u);++v<E;){var R=f[v];R&&c(u,R,v,D)}return u})}function gu(c,u){return function(f,v){if(null==f)return f;if(!rn(f))return c(f,v);for(var E=f.length,D=u?E:-1,x=Mt(f);(u?D--:++D<E)&&!1!==v(x[D],D,x););return f}}function Tl(c){return function(u,f,v){for(var E=-1,D=Mt(u),x=v(u),R=x.length;R--;){var B=x[c?R:++E];if(!1===f(D[B],B,D))break}return u}}function Am(c){return function(u){var f=ml(u=pt(u))?xt(u):M,v=f?f[0]:u.charAt(0),E=f?Un(f,1).join(""):u.slice(1);return v[c]()+E}}function wo(c){return function(u){return wt(Hf(Of(u).replace(Hg,"")),c,"")}}function Cs(c){return function(){var u=arguments;switch(u.length){case 0:return new c;case 1:return new c(u[0]);case 2:return new c(u[0],u[1]);case 3:return new c(u[0],u[1],u[2]);case 4:return new c(u[0],u[1],u[2],u[3]);case 5:return new c(u[0],u[1],u[2],u[3],u[4]);case 6:return new c(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new c(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var f=sr(c.prototype),v=c.apply(f,u);return Gt(v)?v:f}}function Dm(c){return function(u,f,v){var E=Mt(u);if(!rn(u)){var D=ke(f,3);u=ki(u),f=function(R){return D(E[R],R,E)}}var x=c(u,f,v);return x>-1?E[D?u[x]:x]:M}}function mw(c){return as(function(u){var f=u.length,v=f,E=Fn.prototype.thru;for(c&&u.reverse();v--;){var D=u[v];if("function"!=typeof D)throw new _n(Fi);if(E&&!x&&"wrapper"==_u(D))var x=new Fn([],!0)}for(v=x?v:f;++v<f;){var R=_u(D=u[v]),B="wrapper"==R?yu(D):M;x=B&&nf(B[0])&&424==B[1]&&!B[4].length&&1==B[9]?x[_u(B[0])].apply(x,B[3]):1==D.length&&nf(D)?x[R]():x.thru(D)}return function(){var j=arguments,W=j[0];if(x&&1==j.length&&Se(W))return x.plant(W).value();for(var Y=0,te=f?u[Y].apply(this,j):W;++Y<f;)te=u[Y].call(this,te);return te}})}function Ml(c,u,f,v,E,D,x,R,B,j){var W=128&u,Y=1&u,te=2&u,pe=24&u,Ae=512&u,Ke=te?M:Cs(c);return function Te(){for(var Qe=arguments.length,rt=V(Qe),on=Qe;on--;)rt[on]=arguments[on];if(pe)var Oi=Ma(Te),Kn=bO(rt,Oi);if(v&&(rt=qd(rt,v,E,pe)),D&&(rt=gw(rt,D,x,pe)),Qe-=Kn,pe&&Qe<j){var gt=Ss(rt,Oi);return sn(c,u,Ml,Te.placeholder,f,rt,gt,R,B,j-Qe)}var Rs=Y?f:this,Fr=te?Rs[c]:c;return Qe=rt.length,R?rt=qm(rt,R):Ae&&Qe>1&&rt.reverse(),W&&B<Qe&&(rt.length=B),this&&this!==St&&this instanceof Te&&(Fr=Ke||Cs(Fr)),Fr.apply(Rs,rt)}}function Tm(c,u){return function(f,v){return function(c,u,f,v){return Wi(c,function(E,D,x){u(v,f(E),D,x)}),v}(f,c,u(v),{})}}function Ud(c,u){return function(f,v){var E;if(f===M&&v===M)return u;if(f!==M&&(E=f),v!==M){if(E===M)return v;"string"==typeof f||"string"==typeof v?(f=zi(f),v=zi(v)):(f=yo(f),v=yo(v)),E=c(f,v)}return E}}function Gd(c){return as(function(u){return u=vt(u,Vn(ke())),et(function(f){var v=this;return c(u,function(E){return gi(E,v,f)})})})}function mu(c,u){var f=(u=u===M?" ":zi(u)).length;if(f<2)return f?mm(u,c):u;var v=mm(u,Qt(c/ua(u)));return ml(u)?Un(xt(v),0,c).join(""):v.slice(0,c)}function xm(c){return function(u,f,v){return v&&"number"!=typeof v&&Ii(u,f,v)&&(f=v=M),u=xs(u),f===M?(f=u,u=0):f=xs(f),function(c,u,f,v){for(var E=-1,D=ui(Qt((u-c)/(f||1)),0),x=V(D);D--;)x[v?D:++E]=c,c+=f;return x}(u,f,v=v===M?u<f?1:-1:xs(v),c)}}function jd(c){return function(u,f){return"string"==typeof u&&"string"==typeof f||(u=an(u),f=an(f)),c(u,f)}}function sn(c,u,f,v,E,D,x,R,B,j){var W=8&u;u|=W?32:64,4&(u&=~(W?64:32))||(u&=-4);var Ke=[c,u,E,W?D:M,W?x:M,W?M:D,W?M:x,R,B,j],Te=f.apply(M,Ke);return nf(c)&&Nr(Te,Ke),Te.placeholder=v,Um(Te,c,u)}function Wd(c){var u=ei[c];return function(f,v){if(f=an(f),(v=null==v?0:hi($e(v),292))&&Zc(f)){var E=(pt(f)+"e").split("e");return+((E=(pt(u(E[0]+"e"+(+E[1]+v)))+"e").split("e"))[0]+"e"+(+E[1]-v))}return u(f)}}var yw=pa&&1/yd(new pa([,-0]))[1]==ra?function(c){return new pa(c)}:Wf;function Mm(c){return function(u){var f=Ei(u);return f==es?Kg(u):f==Ji?function(L){var U=-1,V=Array(L.size);return L.forEach(function(le){V[++U]=[le,le]}),V}(u):function(L,U){return vt(U,function(V){return[V,L[V]]})}(u,c(u))}}function Gn(c,u,f,v,E,D,x,R){var B=2&u;if(!B&&"function"!=typeof c)throw new _n(Fi);var j=v?v.length:0;if(j||(u&=-97,v=E=M),x=x===M?x:ui($e(x),0),R=R===M?R:$e(R),j-=E?E.length:0,64&u){var W=v,Y=E;v=E=M}var te=B?M:yu(c),pe=[c,u,f,v,E,W,Y,D,x,R];if(te&&function(c,u){var f=c[1],v=u[1],E=f|v;if(!(E<131||(128==v&&8==f||128==v&&256==f&&c[7].length<=u[8]||384==v&&u[7].length<=u[8]&&8==f)))return c;1&v&&(c[2]=u[2],E|=1&f?0:4);var R=u[3];if(R){var B=c[3];c[3]=B?qd(B,R,u[4]):R,c[4]=B?Ss(c[3],ea):u[4]}(R=u[5])&&(c[5]=(B=c[5])?gw(B,R,u[6]):R,c[6]=B?Ss(c[5],ea):u[6]),(R=u[7])&&(c[7]=R),128&v&&(c[8]=null==c[8]?u[8]:hi(c[8],u[8])),null==c[9]&&(c[9]=u[9]),c[0]=u[0],c[1]=E}(pe,te),c=pe[0],u=pe[1],f=pe[2],v=pe[3],E=pe[4],!(R=pe[9]=pe[9]===M?B?0:c.length:ui(pe[9]-j,0))&&24&u&&(u&=-25),u&&1!=u)Ae=8==u||16==u?function(c,u,f){var v=Cs(c);return function E(){for(var D=arguments.length,x=V(D),R=D,B=Ma(E);R--;)x[R]=arguments[R];var j=D<3&&x[0]!==B&&x[D-1]!==B?[]:Ss(x,B);return(D-=j.length)<f?sn(c,u,Ml,E.placeholder,M,x,j,M,M,f-D):gi(this&&this!==St&&this instanceof E?v:c,this,x)}}(c,u,R):32!=u&&33!=u||E.length?Ml.apply(M,pe):function(c,u,f,v){var E=1&u,D=Cs(c);return function x(){for(var R=-1,B=arguments.length,j=-1,W=v.length,Y=V(W+B),te=this&&this!==St&&this instanceof x?D:c;++j<W;)Y[j]=v[j];for(;B--;)Y[j++]=arguments[++R];return gi(te,E?f:this,Y)}}(c,u,f,v);else var Ae=function(c,u,f){var v=1&u,E=Cs(c);return function D(){return(this&&this!==St&&this instanceof D?E:c).apply(v?f:this,arguments)}}(c,u,f);return Um((te?ka:Nr)(Ae,pe),c,u)}function Mi(c,u,f,v){return c===M||be(c,lo[f])&&!Ue.call(v,f)?u:c}function vu(c,u,f,v,E,D){return Gt(c)&&Gt(u)&&(D.set(u,c),Sa(c,u,M,vu,D),D.delete(u)),c}function Rm(c){return Ou(c)?M:c}function zd(c,u,f,v,E,D){var x=1&f,R=c.length,B=u.length;if(R!=B&&!(x&&B>R))return!1;var j=D.get(c),W=D.get(u);if(j&&W)return j==u&&W==c;var Y=-1,te=!0,pe=2&f?new ma:M;for(D.set(c,u),D.set(u,c);++Y<R;){var Ae=c[Y],Ke=u[Y];if(v)var Te=x?v(Ke,Ae,Y,u,c,D):v(Ae,Ke,Y,c,u,D);if(Te!==M){if(Te)continue;te=!1;break}if(pe){if(!pd(u,function(Qe,rt){if(!jc(pe,rt)&&(Ae===Qe||E(Ae,Qe,f,v,D)))return pe.push(rt)})){te=!1;break}}else if(Ae!==Ke&&!E(Ae,Ke,f,v,D)){te=!1;break}}return D.delete(c),D.delete(u),te}function as(c){return wu(Fm(c,M,Vl),c+"")}function Kd(c){return ya(c,ki,Ol)}function Qd(c){return ya(c,Ki,Im)}var yu=uo?function(c){return uo.get(c)}:Wf;function _u(c){for(var u=c.name+"",f=Mr[u],v=Ue.call(Mr,u)?f.length:0;v--;){var E=f[v],D=E.func;if(null==D||D==c)return E.name}return u}function Ma(c){return(Ue.call(C,"placeholder")?C:c).placeholder}function ke(){var c=C.iteratee||Ba;return c=c===Ba?uw:c,arguments.length?c(arguments[0],arguments[1]):c}function Il(c,u){var f=c.__data__;return function(c){var u=typeof c;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==c:null===c}(u)?f["string"==typeof u?"string":"hash"]:f.map}function Yd(c){for(var u=ki(c),f=u.length;f--;){var v=u[f],E=c[v];u[f]=[v,E,Lm(E)]}return u}function Ra(c,u){var f=function(L,U){return null==L?M:L[U]}(c,u);return cw(f)?f:M}var Ol=fa?function(c){return null==c?[]:(c=Mt(c),yn(fa(c),function(u){return Zg.call(c,u)}))}:Vr,Im=fa?function(c){for(var u=[];c;)vi(u,Ol(c)),c=De(c);return u}:Vr,Ei=ri;function Zd(c,u,f){for(var v=-1,E=(u=Pa(u,c)).length,D=!1;++v<E;){var x=ls(u[v]);if(!(D=null!=c&&f(c,x)))break;c=c[x]}return D||++v!=E?D:!!(E=null==c?0:c.length)&&Cf(E)&&os(x,E)&&(Se(c)||Ds(c))}function bu(c){return"function"!=typeof c.constructor||Ll(c)?{}:sr(De(c))}function Eo(c){return Se(c)||Ds(c)||!!(Xg&&c&&c[Xg])}function os(c,u){var f=typeof c;return!!(u=null==u?Cr:u)&&("number"==f||"symbol"!=f&&gO.test(c))&&c>-1&&c%1==0&&c<u}function Ii(c,u,f){if(!Gt(f))return!1;var v=typeof u;return!!("number"==v?rn(f)&&os(u,f.length):"string"==v&&u in f)&&be(f[u],c)}function ef(c,u){if(Se(c))return!1;var f=typeof c;return!("number"!=f&&"symbol"!=f&&"boolean"!=f&&null!=c&&!zn(c))||lO.test(c)||!Rg.test(c)||null!=u&&c in Mt(u)}function nf(c){var u=_u(c),f=C[u];if("function"!=typeof f||!(u in Pe.prototype))return!1;if(c===f)return!0;var v=yu(f);return!!v&&c===v[0]}(xr&&Ei(new xr(new ArrayBuffer(1)))!=Pr||Sn&&Ei(new Sn)!=es||Ed&&Ei(Ed.resolve())!=SS||pa&&Ei(new pa)!=Ji||_l&&Ei(new _l)!=Bc)&&(Ei=function(c){var u=ri(c),f=u==Ln?c.constructor:M,v=f?Lr(f):"";if(v)switch(v){case tm:return Pr;case kd:return es;case JS:return SS;case im:return Ji;case eu:return Bc}return u});var bw=bd?Wn:Kf;function Ll(c){var u=c&&c.constructor;return c===("function"==typeof u&&u.prototype||lo)}function Lm(c){return c==c&&!Gt(c)}function Bm(c,u){return function(f){return null!=f&&f[c]===u&&(u!==M||c in Mt(f))}}function Fm(c,u,f){return u=ui(u===M?c.length-1:u,0),function(){for(var v=arguments,E=-1,D=ui(v.length-u,0),x=V(D);++E<D;)x[E]=v[u+E];E=-1;for(var R=V(u+1);++E<u;)R[E]=v[E];return R[u]=f(x),gi(c,this,R)}}function Hm(c,u){return u.length<2?c:or(c,qn(u,0,-1))}function qm(c,u){for(var f=c.length,v=hi(u.length,f),E=yi(c);v--;){var D=u[v];c[v]=os(D,f)?E[D]:M}return c}function Su(c,u){if(("constructor"!==u||"function"!=typeof c[u])&&"__proto__"!=u)return c[u]}var Nr=Bl(ka),ko=Lt||function(c,u){return St.setTimeout(c,u)},wu=Bl(FO);function Um(c,u,f){var v=u+"";return wu(c,function(c,u){var f=u.length;if(!f)return c;var v=f-1;return u[v]=(f>1?"& ":"")+u[v],u=u.join(f>2?", ":" "),c.replace(AS,"{\n/* [wrapped with "+u+"] */\n")}(v,function(c,u){return qi(_S,function(f){var v="_."+f[0];u&f[1]&&!mi(c,v)&&c.push(v)}),c.sort()}(function(c){var u=c.match(cO);return u?u[1].split(uO):[]}(v),f)))}function Bl(c){var u=0,f=0;return function(){var v=Xc(),E=16-(v-f);if(f=v,E>0){if(++u>=800)return arguments[0]}else u=0;return c.apply(M,arguments)}}function Eu(c,u){var f=-1,v=c.length,E=v-1;for(u=u===M?v:u;++f<u;){var D=Bd(f,E),x=c[D];c[D]=c[f],c[f]=x}return c.length=u,c}var u,f,af=(u=Gl(function(c){var u=[];return 46===c.charCodeAt(0)&&u.push(""),c.replace(Ar,function(f,v,E,D){u.push(E?D.replace(hO,"$1"):v||f)}),u},function(v){return 500===f.size&&f.clear(),v}),f=u.cache,u);function ls(c){if("string"==typeof c||zn(c))return c;var u=c+"";return"0"==u&&1/c==-ra?"-0":u}function Lr(c){if(null!=c){try{return ha.call(c)}catch(u){}try{return c+""}catch(u){}}return""}function lf(c){if(c instanceof Pe)return c.clone();var u=new Fn(c.__wrapped__,c.__chain__);return u.__actions__=yi(c.__actions__),u.__index__=c.__index__,u.__values__=c.__values__,u}var cf=et(function(c,u){return Ut(c)?go(c,wi(u,1,Ut,!0)):[]}),uf=et(function(c,u){var f=Pn(u);return Ut(f)&&(f=M),Ut(c)?go(c,wi(u,1,Ut,!0),ke(f,2)):[]}),hf=et(function(c,u){var f=Pn(u);return Ut(f)&&(f=M),Ut(c)?go(c,wi(u,1,Ut,!0),M,f):[]});function df(c,u,f){var v=null==c?0:c.length;if(!v)return-1;var E=null==f?0:$e(f);return E<0&&(E=ui(v+E,0)),bs(c,ke(u,3),E)}function Pu(c,u,f){var v=null==c?0:c.length;if(!v)return-1;var E=v-1;return f!==M&&(E=$e(f),E=f<0?ui(v+E,0):hi(E,v-1)),bs(c,ke(u,3),E,!0)}function Vl(c){return null!=c&&c.length?wi(c,1):[]}function Wm(c){return c&&c.length?c[0]:M}var Au=et(function(c){var u=vt(c,Fd);return u.length&&u[0]===c[0]?hm(u):[]}),pf=et(function(c){var u=Pn(c),f=vt(c,Fd);return u===Pn(f)?u=M:f.pop(),f.length&&f[0]===c[0]?hm(f,ke(u,2)):[]}),zm=et(function(c){var u=Pn(c),f=vt(c,Fd);return(u="function"==typeof u?u:M)&&f.pop(),f.length&&f[0]===c[0]?hm(f,M,u):[]});function Pn(c){var u=null==c?0:c.length;return u?c[u-1]:M}var Aw=et(Qm);function Qm(c,u){return c&&c.length&&u&&u.length?ks(c,u):c}var An=as(function(c,u){var f=null==c?0:c.length,v=kl(c,u);return Ld(c,vt(u,function(E){return os(E,f)?+E:E}).sort(km)),v});function Du(c){return null==c?c:em.call(c)}var As=et(function(c){return rs(wi(c,1,Ut,!0))}),Hl=et(function(c){var u=Pn(c);return Ut(u)&&(u=M),rs(wi(c,1,Ut,!0),ke(u,2))}),Zm=et(function(c){var u=Pn(c);return u="function"==typeof u?u:M,rs(wi(c,1,Ut,!0),M,u)});function tv(c){if(!c||!c.length)return[];var u=0;return c=yn(c,function(f){if(Ut(f))return u=ui(f.length,u),!0}),jg(u,function(f){return vt(c,pl(f))})}function Fw(c,u){if(!c||!c.length)return[];var f=tv(c);return null==u?f:vt(f,function(v){return gi(u,M,v)})}var gf=et(function(c,u){return Ut(c)?go(c,u):[]}),mf=et(function(c){return Vd(yn(c,Ut))}),vf=et(function(c){var u=Pn(c);return Ut(u)&&(u=M),Vd(yn(c,Ut),ke(u,2))}),jO=et(function(c){var u=Pn(c);return u="function"==typeof u?u:M,Vd(yn(c,Ut),M,u)}),WO=et(tv),qw=et(function(c){var u=c.length,f=u>1?c[u-1]:M;return f="function"==typeof f?(c.pop(),f):M,Fw(c,f)});function nv(c){var u=C(c);return u.__chain__=!0,u}function ql(c,u){return u(c)}var Tu=as(function(c){var u=c.length,f=u?c[0]:0,v=this.__wrapped__,E=function(D){return kl(D,c)};return!(u>1||this.__actions__.length)&&v instanceof Pe&&os(f)?((v=v.slice(f,+f+(u?1:0))).__actions__.push({func:ql,args:[E],thisArg:M}),new Fn(v,this.__chain__).thru(function(D){return u&&!D.length&&D.push(M),D})):this.thru(E)}),av=pu(function(c,u,f){Ue.call(c,f)?++c[f]:En(c,f,1)}),Qw=Dm(df),Yw=Dm(Pu);function Co(c,u){return(Se(c)?qi:ar)(c,ke(u,3))}function ov(c,u){return(Se(c)?ro:Id)(c,ke(u,3))}var lv=pu(function(c,u,f){Ue.call(c,f)?c[f].push(u):En(c,f,[u])}),cv=et(function(c,u,f){var v=-1,E="function"==typeof u,D=rn(c)?V(c.length):[];return ar(c,function(x){D[++v]=E?gi(u,x,f):Pl(x,u,f)}),D}),Zw=pu(function(c,u,f){En(c,f,u)});function bf(c,u){return(Se(c)?vt:hw)(c,ke(u,3))}var xu=pu(function(c,u,f){c[f?0:1].push(u)},function(){return[[],[]]}),sE=et(function(c,u){if(null==c)return[];var f=u.length;return f>1&&Ii(c,u[0],u[1])?u=[]:f>2&&Ii(u[0],u[1],u[2])&&(u=[u[0]]),kn(c,wi(u,1),[])}),Ul=ot||function(){return St.Date.now()};function Sf(c,u,f){return u=f?M:u,Gn(c,128,M,M,M,M,u=c&&null==u?c.length:u)}function dv(c,u){var f;if("function"!=typeof u)throw new _n(Fi);return c=$e(c),function(){return--c>0&&(f=u.apply(this,arguments)),c<=1&&(u=M),f}}var wf=et(function(c,u,f){var v=1;if(f.length){var E=Ss(f,Ma(wf));v|=32}return Gn(c,v,u,f,E)}),fv=et(function(c,u,f){var v=3;if(f.length){var E=Ss(f,Ma(fv));v|=32}return Gn(u,v,c,f,E)});function rE(c,u,f){var v,E,D,x,R,B,j=0,W=!1,Y=!1,te=!0;if("function"!=typeof c)throw new _n(Fi);function pe(gt){var Rs=v,Fr=E;return v=E=M,j=gt,x=c.apply(Fr,Rs)}function Ae(gt){return j=gt,R=ko(Qe,u),W?pe(gt):x}function Te(gt){var Rs=gt-B;return B===M||Rs>=u||Rs<0||Y&&gt-j>=D}function Qe(){var gt=Ul();if(Te(gt))return rt(gt);R=ko(Qe,function(gt){var u0=u-(gt-B);return Y?hi(u0,D-(gt-j)):u0}(gt))}function rt(gt){return R=M,te&&v?pe(gt):(v=E=M,x)}function Kn(){var gt=Ul(),Rs=Te(gt);if(v=arguments,E=this,B=gt,Rs){if(R===M)return Ae(B);if(Y)return Aa(R),R=ko(Qe,u),pe(B)}return R===M&&(R=ko(Qe,u)),x}return u=an(u)||0,Gt(f)&&(W=!!f.leading,D=(Y="maxWait"in f)?ui(an(f.maxWait)||0,u):D,te="trailing"in f?!!f.trailing:te),Kn.cancel=function(){R!==M&&Aa(R),j=0,v=B=E=R=M},Kn.flush=function(){return R===M?x:rt(Ul())},Kn}var YO=et(function(c,u){return Rd(c,1,u)}),pv=et(function(c,u,f){return Rd(c,an(u)||0,f)});function Gl(c,u){if("function"!=typeof c||null!=u&&"function"!=typeof u)throw new _n(Fi);var f=function(){var v=arguments,E=u?u.apply(this,v):v[0],D=f.cache;if(D.has(E))return D.get(E);var x=c.apply(this,v);return f.cache=D.set(E,x)||D,x};return f.cache=new(Gl.Cache||wn),f}function Ef(c){if("function"!=typeof c)throw new _n(Fi);return function(){var u=arguments;switch(u.length){case 0:return!c.call(this);case 1:return!c.call(this,u[0]);case 2:return!c.call(this,u[0],u[1]);case 3:return!c.call(this,u[0],u[1],u[2])}return!c.apply(this,u)}}Gl.Cache=wn;var aE=Hd(function(c,u){var f=(u=1==u.length&&Se(u[0])?vt(u[0],Vn(ke())):vt(wi(u,1),Vn(ke()))).length;return et(function(v){for(var E=-1,D=hi(v.length,f);++E<D;)v[E]=u[E].call(this,v[E]);return gi(c,this,v)})}),Mu=et(function(c,u){var f=Ss(u,Ma(Mu));return Gn(c,32,M,u,f)}),mv=et(function(c,u){var f=Ss(u,Ma(mv));return Gn(c,64,M,u,f)}),oE=as(function(c,u){return Gn(c,256,M,M,M,u)});function be(c,u){return c===u||c!=c&&u!=u}var F=jd(Or),_v=jd(function(c,u){return c>=u}),Ds=ow(function(){return arguments}())?ow:function(c){return jt(c)&&Ue.call(c,"callee")&&!Zg.call(c,"callee")},Se=V.isArray,bv=en?Vn(en):function(c){return jt(c)&&ri(c)==to};function rn(c){return null!=c&&Cf(c.length)&&!Wn(c)}function Ut(c){return jt(c)&&rn(c)}var Ts=ws||Kf,Sv=Dr?Vn(Dr):function(c){return jt(c)&&ri(c)==ol};function hs(c){if(!jt(c))return!1;var u=ri(c);return u==eo||"[object DOMException]"==u||"string"==typeof c.message&&"string"==typeof c.name&&!Ou(c)}function Wn(c){if(!Gt(c))return!1;var u=ri(c);return u==Rc||u==Tg||"[object AsyncFunction]"==u||"[object Proxy]"==u}function Iu(c){return"number"==typeof c&&c==$e(c)}function Cf(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=Cr}function Gt(c){var u=typeof c;return null!=c&&("object"==u||"function"==u)}function jt(c){return null!=c&&"object"==typeof c}var mE=ci?Vn(ci):function(c){return jt(c)&&Ei(c)==es};function _E(c){return"number"==typeof c||jt(c)&&ri(c)==ll}function Ou(c){if(!jt(c)||ri(c)!=Ln)return!1;var u=De(c);if(null===u)return!0;var f=Ue.call(u,"constructor")&&u.constructor;return"function"==typeof f&&f instanceof f&&ha.call(f)==bn}var Cv=Tr?Vn(Tr):function(c){return jt(c)&&ri(c)==Nc},bE=Ht?Vn(Ht):function(c){return jt(c)&&Ei(c)==Ji};function Af(c){return"string"==typeof c||!Se(c)&&jt(c)&&ri(c)==aa}function zn(c){return"symbol"==typeof c||jt(c)&&ri(c)==Lc}var jl=so?Vn(so):function(c){return jt(c)&&Cf(c.length)&&!!Tt[ri(c)]},Br=jd(ba),Df=jd(function(c,u){return c<=u});function Pv(c){if(!c)return[];if(rn(c))return Af(c)?xt(c):yi(c);if(co&&c[co])return function(L){for(var U,V=[];!(U=L.next()).done;)V.push(U.value);return V}(c[co]());var u=Ei(c);return(u==es?Kg:u==Ji?yd:xo)(c)}function xs(c){return c?(c=an(c))===ra||c===-ra?17976931348623157e292*(c<0?-1:1):c==c?c:0:0===c?c:0}function $e(c){var u=xs(c),f=u%1;return u==u?f?u-f:u:0}function Tf(c){return c?rr($e(c),0,_s):0}function an(c){if("number"==typeof c)return c;if(zn(c))return NaN;if(Gt(c)){var u="function"==typeof c.valueOf?c.valueOf():c;c=Gt(u)?u+"":u}if("string"!=typeof c)return 0===c?c:+c;c=Wg(c);var f=dO.test(c);return f||pO.test(c)?Ti(c.slice(2),f?2:8):Zs.test(c)?NaN:+c}function Av(c){return di(c,Ki(c))}function pt(c){return null==c?"":zi(c)}var SE=xa(function(c,u){if(Ll(u)||rn(u))di(u,ki(u),c);else for(var f in u)Ue.call(u,f)&&ru(c,f,u[f])}),wE=xa(function(c,u){di(u,Ki(u),c)}),Po=xa(function(c,u,f,v){di(u,Ki(u),c,v)}),EE=xa(function(c,u,f,v){di(u,ki(u),c,v)}),Dv=as(kl),CE=et(function(c,u){c=Mt(c);var f=-1,v=u.length,E=v>2?u[2]:M;for(E&&Ii(u[0],u[1],E)&&(v=1);++f<v;)for(var D=u[f],x=Ki(D),R=-1,B=x.length;++R<B;){var j=x[R],W=c[j];(W===M||be(W,lo[j])&&!Ue.call(c,j))&&(c[j]=D[j])}return c}),Wl=et(function(c){return c.push(M,vu),gi(Ov,M,c)});function Kl(c,u,f){var v=null==c?M:or(c,u);return v===M?f:v}function Nu(c,u){return null!=c&&Zd(c,u,Nd)}var Lu=Tm(function(c,u,f){null!=u&&"function"!=typeof u.toString&&(u=nr.call(u)),c[u]=f},Uf(Qi)),AE=Tm(function(c,u,f){null!=u&&"function"!=typeof u.toString&&(u=nr.call(u)),Ue.call(c,u)?c[u].push(f):c[u]=[f]},ke),Mv=et(Pl);function ki(c){return rn(c)?va(c):pm(c)}function Ki(c){return rn(c)?va(c,!0):function(c){if(!Gt(c))return function(c){var u=[];if(null!=c)for(var f in Mt(c))u.push(f);return u}(c);var u=Ll(c),f=[];for(var v in c)"constructor"==v&&(u||!Ue.call(c,v))||f.push(v);return f}(c)}var Iv=xa(function(c,u,f){Sa(c,u,f)}),Ov=xa(function(c,u,f,v){Sa(c,u,f,v)}),TE=as(function(c,u){var f={};if(null==c)return f;var v=!1;u=vt(u,function(D){return D=Pa(D,c),v||(v=D.length>1),D}),di(c,Qd(c),f),v&&(f=ji(f,7,Rm));for(var E=u.length;E--;)bm(f,u[E]);return f}),xE=as(function(c,u){return null==c?{}:function(c,u){return Al(c,u,function(f,v){return Nu(c,v)})}(c,u)});function Nv(c,u){if(null==c)return{};var f=vt(Qd(c),function(v){return[v]});return u=ke(u),Al(c,f,function(v,E){return u(v,E[0])})}var ME=Mm(ki),Bv=Mm(Ki);function xo(c){return null==c?[]:zg(c,ki(c))}var LE=wo(function(c,u,f){return u=u.toLowerCase(),c+(f?If(u):u)});function If(c){return $u(pt(c).toLowerCase())}function Of(c){return(c=pt(c))&&c.replace(xS,SO).replace(BS,"")}var $E=wo(function(c,u,f){return c+(f?"-":"")+u.toLowerCase()}),VE=wo(function(c,u,f){return c+(f?" ":"")+u.toLowerCase()}),oN=Am("toLowerCase"),GE=wo(function(c,u,f){return c+(f?"_":"")+u.toLowerCase()}),Bf=wo(function(c,u,f){return c+(f?" ":"")+$u(u)}),Uv=wo(function(c,u,f){return c+(f?" ":"")+u.toUpperCase()}),$u=Am("toUpperCase");function Hf(c,u,f){return c=pt(c),(u=f?M:u)===M?function(L){return Bn.test(L)}(c)?function(L){return L.match(hl)||[]}(c):function(L){return L.match(Fc)||[]}(c):c.match(u)||[]}var qf=et(function(c,u){try{return gi(c,M,u)}catch(f){return hs(f)?f:new Ne(f)}}),Gv=as(function(c,u){return qi(u,function(f){f=ls(f),En(c,f,wf(c[f],c))}),c});function Uf(c){return function(){return c}}var cN=mw(),Mo=mw(!0);function Qi(c){return c}function Ba(c){return uw("function"==typeof c?c:ji(c,1))}var Gf=et(function(c,u){return function(f){return Pl(f,c,u)}}),jv=et(function(c,u){return function(f){return Pl(c,f,u)}});function jf(c,u,f){var v=ki(u),E=vo(u,v);null==f&&(!Gt(u)||!E.length&&v.length)&&(f=u,u=c,c=this,E=vo(u,ki(u)));var D=!(Gt(f)&&"chain"in f&&!f.chain),x=Wn(c);return qi(E,function(R){var B=u[R];c[R]=B,x&&(c.prototype[R]=function(){var j=this.__chain__;if(D||j){var W=c(this.__wrapped__),Y=W.__actions__=yi(this.__actions__);return Y.push({func:B,args:arguments,thisArg:c}),W.__chain__=j,W}return B.apply(c,vi([this.value()],arguments))})}),c}function Wf(){}var JE=Gd(vt),ZE=Gd(Uc),zv=Gd(pd);function $a(c){return ef(c)?pl(ls(c)):function(c){return function(u){return or(u,c)}}(c)}var XE=xm(),e0=xm(!0);function Vr(){return[]}function Kf(){return!1}var Dt=Ud(function(c,u){return c+u},0),Qf=Wd("ceil"),hN=Ud(function(c,u){return c/u},1),ur=Wd("floor"),Jv=Ud(function(c,u){return c*u},1),Zv=Wd("round"),Xv=Ud(function(c,u){return c-u},0);return C.after=function(c,u){if("function"!=typeof u)throw new _n(Fi);return c=$e(c),function(){if(--c<1)return u.apply(this,arguments)}},C.ary=Sf,C.assign=SE,C.assignIn=wE,C.assignInWith=Po,C.assignWith=EE,C.at=Dv,C.before=dv,C.bind=wf,C.bindAll=Gv,C.bindKey=fv,C.castArray=function(){if(!arguments.length)return[];var c=arguments[0];return Se(c)?c:[c]},C.chain=nv,C.chunk=function(c,u,f){u=(f?Ii(c,u,f):u===M)?1:ui($e(u),0);var v=null==c?0:c.length;if(!v||u<1)return[];for(var E=0,D=0,x=V(Qt(v/u));E<v;)x[D++]=qn(c,E,E+=u);return x},C.compact=function(c){for(var u=-1,f=null==c?0:c.length,v=0,E=[];++u<f;){var D=c[u];D&&(E[v++]=D)}return E},C.concat=function(){var c=arguments.length;if(!c)return[];for(var u=V(c-1),f=arguments[0],v=c;v--;)u[v-1]=arguments[v];return vi(Se(f)?yi(f):[f],wi(u,1))},C.cond=function(c){var u=null==c?0:c.length,f=ke();return c=u?vt(c,function(v){if("function"!=typeof v[1])throw new _n(Fi);return[f(v[0]),v[1]]}):[],et(function(v){for(var E=-1;++E<u;){var D=c[E];if(gi(D[0],this,v))return gi(D[1],this,v)}})},C.conforms=function(c){return function(c){var u=ki(c);return function(f){return um(f,c,u)}}(ji(c,1))},C.constant=Uf,C.countBy=av,C.create=function(c,u){var f=sr(c);return null==u?f:cm(f,u)},C.curry=function La(c,u,f){var v=Gn(c,8,M,M,M,M,M,u=f?M:u);return v.placeholder=La.placeholder,v},C.curryRight=function cs(c,u,f){var v=Gn(c,16,M,M,M,M,M,u=f?M:u);return v.placeholder=cs.placeholder,v},C.debounce=rE,C.defaults=CE,C.defaultsDeep=Wl,C.defer=YO,C.delay=pv,C.difference=cf,C.differenceBy=uf,C.differenceWith=hf,C.drop=function(c,u,f){var v=null==c?0:c.length;return v?qn(c,(u=f||u===M?1:$e(u))<0?0:u,v):[]},C.dropRight=function(c,u,f){var v=null==c?0:c.length;return v?qn(c,0,(u=v-(u=f||u===M?1:$e(u)))<0?0:u):[]},C.dropRightWhile=function(c,u){return c&&c.length?bo(c,ke(u,3),!0,!0):[]},C.dropWhile=function(c,u){return c&&c.length?bo(c,ke(u,3),!0):[]},C.fill=function(c,u,f,v){var E=null==c?0:c.length;return E?(f&&"number"!=typeof f&&Ii(c,u,f)&&(f=0,v=E),function(c,u,f,v){var E=c.length;for((f=$e(f))<0&&(f=-f>E?0:E+f),(v=v===M||v>E?E:$e(v))<0&&(v+=E),v=f>v?0:Tf(v);f<v;)c[f++]=u;return c}(c,u,f,v)):[]},C.filter=function(c,u){return(Se(c)?yn:mo)(c,ke(u,3))},C.flatMap=function(c,u){return wi(bf(c,u),1)},C.flatMapDeep=function(c,u){return wi(bf(c,u),ra)},C.flatMapDepth=function(c,u,f){return f=f===M?1:$e(f),wi(bf(c,u),f)},C.flatten=Vl,C.flattenDeep=function(c){return null!=c&&c.length?wi(c,ra):[]},C.flattenDepth=function(c,u){return null!=c&&c.length?wi(c,u=u===M?1:$e(u)):[]},C.flip=function(c){return Gn(c,512)},C.flow=cN,C.flowRight=Mo,C.fromPairs=function(c){for(var u=-1,f=null==c?0:c.length,v={};++u<f;){var E=c[u];v[E[0]]=E[1]}return v},C.functions=function(c){return null==c?[]:vo(c,ki(c))},C.functionsIn=function(c){return null==c?[]:vo(c,Ki(c))},C.groupBy=lv,C.initial=function(c){return null!=c&&c.length?qn(c,0,-1):[]},C.intersection=Au,C.intersectionBy=pf,C.intersectionWith=zm,C.invert=Lu,C.invertBy=AE,C.invokeMap=cv,C.iteratee=Ba,C.keyBy=Zw,C.keys=ki,C.keysIn=Ki,C.map=bf,C.mapKeys=function(c,u){var f={};return u=ke(u,3),Wi(c,function(v,E,D){En(f,u(v,E,D),v)}),f},C.mapValues=function(c,u){var f={};return u=ke(u,3),Wi(c,function(v,E,D){En(f,E,u(v,E,D))}),f},C.matches=function(c){return ai(ji(c,1))},C.matchesProperty=function(c,u){return hu(c,ji(u,1))},C.memoize=Gl,C.merge=Iv,C.mergeWith=Ov,C.method=Gf,C.methodOf=jv,C.mixin=jf,C.negate=Ef,C.nthArg=function(c){return c=$e(c),et(function(u){return gm(u,c)})},C.omit=TE,C.omitBy=function(c,u){return Nv(c,Ef(ke(u)))},C.once=function(c){return dv(2,c)},C.orderBy=function(c,u,f,v){return null==c?[]:(Se(u)||(u=null==u?[]:[u]),Se(f=v?M:f)||(f=null==f?[]:[f]),kn(c,u,f))},C.over=JE,C.overArgs=aE,C.overEvery=ZE,C.overSome=zv,C.partial=Mu,C.partialRight=mv,C.partition=xu,C.pick=xE,C.pickBy=Nv,C.property=$a,C.propertyOf=function(c){return function(u){return null==c?M:or(c,u)}},C.pull=Aw,C.pullAll=Qm,C.pullAllBy=function(c,u,f){return c&&c.length&&u&&u.length?ks(c,u,ke(f,2)):c},C.pullAllWith=function(c,u,f){return c&&c.length&&u&&u.length?ks(c,u,M,f):c},C.pullAt=An,C.range=XE,C.rangeRight=e0,C.rearg=oE,C.reject=function(c,u){return(Se(c)?yn:mo)(c,Ef(ke(u,3)))},C.remove=function(c,u){var f=[];if(!c||!c.length)return f;var v=-1,E=[],D=c.length;for(u=ke(u,3);++v<D;){var x=c[v];u(x,v,c)&&(f.push(x),E.push(v))}return Ld(c,E),f},C.rest=function(c,u){if("function"!=typeof c)throw new _n(Fi);return et(c,u=u===M?u:$e(u))},C.reverse=Du,C.sampleSize=function(c,u,f){return u=(f?Ii(c,u,f):u===M)?1:$e(u),(Se(c)?fo:Cn)(c,u)},C.set=function(c,u,f){return null==c?c:Ea(c,u,f)},C.setWith=function(c,u,f,v){return v="function"==typeof v?v:M,null==c?c:Ea(c,u,f,v)},C.shuffle=function(c){return(Se(c)?Md:ym)(c)},C.slice=function(c,u,f){var v=null==c?0:c.length;return v?(f&&"number"!=typeof f&&Ii(c,u,f)?(u=0,f=v):(u=null==u?0:$e(u),f=f===M?v:$e(f)),qn(c,u,f)):[]},C.sortBy=sE,C.sortedUniq=function(c){return c&&c.length?_m(c):[]},C.sortedUniqBy=function(c,u){return c&&c.length?_m(c,ke(u,2)):[]},C.split=function(c,u,f){return f&&"number"!=typeof f&&Ii(c,u,f)&&(u=f=M),(f=f===M?_s:f>>>0)?(c=pt(c))&&("string"==typeof u||null!=u&&!Cv(u))&&!(u=zi(u))&&ml(c)?Un(xt(c),0,f):c.split(u,f):[]},C.spread=function(c,u){if("function"!=typeof c)throw new _n(Fi);return u=null==u?0:ui($e(u),0),et(function(f){var v=f[u],E=Un(f,0,u);return v&&vi(E,v),gi(c,this,E)})},C.tail=function(c){var u=null==c?0:c.length;return u?qn(c,1,u):[]},C.take=function(c,u,f){return c&&c.length?qn(c,0,(u=f||u===M?1:$e(u))<0?0:u):[]},C.takeRight=function(c,u,f){var v=null==c?0:c.length;return v?qn(c,(u=v-(u=f||u===M?1:$e(u)))<0?0:u,v):[]},C.takeRightWhile=function(c,u){return c&&c.length?bo(c,ke(u,3),!1,!0):[]},C.takeWhile=function(c,u){return c&&c.length?bo(c,ke(u,3)):[]},C.tap=function(c,u){return u(c),c},C.throttle=function(c,u,f){var v=!0,E=!0;if("function"!=typeof c)throw new _n(Fi);return Gt(f)&&(v="leading"in f?!!f.leading:v,E="trailing"in f?!!f.trailing:E),rE(c,u,{leading:v,maxWait:u,trailing:E})},C.thru=ql,C.toArray=Pv,C.toPairs=ME,C.toPairsIn=Bv,C.toPath=function(c){return Se(c)?vt(c,ls):zn(c)?[c]:yi(af(pt(c)))},C.toPlainObject=Av,C.transform=function(c,u,f){var v=Se(c),E=v||Ts(c)||jl(c);if(u=ke(u,4),null==f){var D=c&&c.constructor;f=E?v?new D:[]:Gt(c)&&Wn(D)?sr(De(c)):{}}return(E?qi:Wi)(c,function(x,R,B){return u(f,x,R,B)}),f},C.unary=function(c){return Sf(c,1)},C.union=As,C.unionBy=Hl,C.unionWith=Zm,C.uniq=function(c){return c&&c.length?rs(c):[]},C.uniqBy=function(c,u){return c&&c.length?rs(c,ke(u,2)):[]},C.uniqWith=function(c,u){return u="function"==typeof u?u:M,c&&c.length?rs(c,M,u):[]},C.unset=function(c,u){return null==c||bm(c,u)},C.unzip=tv,C.unzipWith=Fw,C.update=function(c,u,f){return null==c?c:_o(c,u,Dl(f))},C.updateWith=function(c,u,f,v){return v="function"==typeof v?v:M,null==c?c:_o(c,u,Dl(f),v)},C.values=xo,C.valuesIn=function(c){return null==c?[]:zg(c,Ki(c))},C.without=gf,C.words=Hf,C.wrap=function(c,u){return Mu(Dl(u),c)},C.xor=mf,C.xorBy=vf,C.xorWith=jO,C.zip=WO,C.zipObject=function(c,u){return Sm(c||[],u||[],ru)},C.zipObjectDeep=function(c,u){return Sm(c||[],u||[],Ea)},C.zipWith=qw,C.entries=ME,C.entriesIn=Bv,C.extend=wE,C.extendWith=Po,jf(C,C),C.add=Dt,C.attempt=qf,C.camelCase=LE,C.capitalize=If,C.ceil=Qf,C.clamp=function(c,u,f){return f===M&&(f=u,u=M),f!==M&&(f=(f=an(f))==f?f:0),u!==M&&(u=(u=an(u))==u?u:0),rr(an(c),u,f)},C.clone=function(c){return ji(c,4)},C.cloneDeep=function(c){return ji(c,5)},C.cloneDeepWith=function(c,u){return ji(c,5,u="function"==typeof u?u:M)},C.cloneWith=function(c,u){return ji(c,4,u="function"==typeof u?u:M)},C.conformsTo=function(c,u){return null==u||um(c,u,ki(u))},C.deburr=Of,C.defaultTo=function(c,u){return null==c||c!=c?u:c},C.divide=hN,C.endsWith=function(c,u,f){c=pt(c),u=zi(u);var v=c.length,E=f=f===M?v:rr($e(f),0,v);return(f-=u.length)>=0&&c.slice(f,E)==u},C.eq=be,C.escape=function(c){return(c=pt(c))&&sd.test(c)?c.replace(Vc,wO):c},C.escapeRegExp=function(c){return(c=pt(c))&&rd.test(c)?c.replace(Ig,"\\$&"):c},C.every=function(c,u,f){var v=Se(c)?Uc:aw;return f&&Ii(c,u,f)&&(u=M),v(c,ke(u,3))},C.find=Qw,C.findIndex=df,C.findKey=function(c,u){return fl(c,ke(u,3),Wi)},C.findLast=Yw,C.findLastIndex=Pu,C.findLastKey=function(c,u){return fl(c,ke(u,3),nn)},C.floor=ur,C.forEach=Co,C.forEachRight=ov,C.forIn=function(c,u){return null==c?c:cu(c,ke(u,3),Ki)},C.forInRight=function(c,u){return null==c?c:Od(c,ke(u,3),Ki)},C.forOwn=function(c,u){return c&&Wi(c,ke(u,3))},C.forOwnRight=function(c,u){return c&&nn(c,ke(u,3))},C.get=Kl,C.gt=F,C.gte=_v,C.has=function(c,u){return null!=c&&Zd(c,u,Cl)},C.hasIn=Nu,C.head=Wm,C.identity=Qi,C.includes=function(c,u,f,v){c=rn(c)?c:xo(c),f=f&&!v?$e(f):0;var E=c.length;return f<0&&(f=ui(E+f,0)),Af(c)?f<=E&&c.indexOf(u,f)>-1:!!E&&Xt(c,u,f)>-1},C.indexOf=function(c,u,f){var v=null==c?0:c.length;if(!v)return-1;var E=null==f?0:$e(f);return E<0&&(E=ui(v+E,0)),Xt(c,u,E)},C.inRange=function(c,u,f){return u=xs(u),f===M?(f=u,u=0):f=xs(f),function(c,u,f){return c>=hi(u,f)&&c<ui(u,f)}(c=an(c),u,f)},C.invoke=Mv,C.isArguments=Ds,C.isArray=Se,C.isArrayBuffer=bv,C.isArrayLike=rn,C.isArrayLikeObject=Ut,C.isBoolean=function(c){return!0===c||!1===c||jt(c)&&ri(c)==Xa},C.isBuffer=Ts,C.isDate=Sv,C.isElement=function(c){return jt(c)&&1===c.nodeType&&!Ou(c)},C.isEmpty=function(c){if(null==c)return!0;if(rn(c)&&(Se(c)||"string"==typeof c||"function"==typeof c.splice||Ts(c)||jl(c)||Ds(c)))return!c.length;var u=Ei(c);if(u==es||u==Ji)return!c.size;if(Ll(c))return!pm(c).length;for(var f in c)if(Ue.call(c,f))return!1;return!0},C.isEqual=function(c,u){return uu(c,u)},C.isEqualWith=function(c,u,f){var v=(f="function"==typeof f?f:M)?f(c,u):M;return v===M?uu(c,u,M,f):!!v},C.isError=hs,C.isFinite=function(c){return"number"==typeof c&&Zc(c)},C.isFunction=Wn,C.isInteger=Iu,C.isLength=Cf,C.isMap=mE,C.isMatch=function(c,u){return c===u||fm(c,u,Yd(u))},C.isMatchWith=function(c,u,f){return f="function"==typeof f?f:M,fm(c,u,Yd(u),f)},C.isNaN=function(c){return _E(c)&&c!=+c},C.isNative=function(c){if(bw(c))throw new Ne("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return cw(c)},C.isNil=function(c){return null==c},C.isNull=function(c){return null===c},C.isNumber=_E,C.isObject=Gt,C.isObjectLike=jt,C.isPlainObject=Ou,C.isRegExp=Cv,C.isSafeInteger=function(c){return Iu(c)&&c>=-Cr&&c<=Cr},C.isSet=bE,C.isString=Af,C.isSymbol=zn,C.isTypedArray=jl,C.isUndefined=function(c){return c===M},C.isWeakMap=function(c){return jt(c)&&Ei(c)==Bc},C.isWeakSet=function(c){return jt(c)&&"[object WeakSet]"==ri(c)},C.join=function(c,u){return null==c?"":wd.call(c,u)},C.kebabCase=$E,C.last=Pn,C.lastIndexOf=function(c,u,f){var v=null==c?0:c.length;if(!v)return-1;var E=v;return f!==M&&(E=(E=$e(f))<0?ui(v+E,0):hi(E,v-1)),u==u?function(L,U,V){for(var le=V+1;le--;)if(L[le]===U)return le;return le}(c,u,E):bs(c,is,E,!0)},C.lowerCase=VE,C.lowerFirst=oN,C.lt=Br,C.lte=Df,C.max=function(c){return c&&c.length?ou(c,Qi,Or):M},C.maxBy=function(c,u){return c&&c.length?ou(c,ke(u,2),Or):M},C.mean=function(c){return $n(c,Qi)},C.meanBy=function(c,u){return $n(c,ke(u,2))},C.min=function(c){return c&&c.length?ou(c,Qi,ba):M},C.minBy=function(c,u){return c&&c.length?ou(c,ke(u,2),ba):M},C.stubArray=Vr,C.stubFalse=Kf,C.stubObject=function(){return{}},C.stubString=function(){return""},C.stubTrue=function(){return!0},C.multiply=Jv,C.nth=function(c,u){return c&&c.length?gm(c,$e(u)):M},C.noConflict=function(){return St._===this&&(St._=Jg),this},C.noop=Wf,C.now=Ul,C.pad=function(c,u,f){c=pt(c);var v=(u=$e(u))?ua(c):0;if(!u||v>=u)return c;var E=(u-v)/2;return mu(yl(E),f)+c+mu(Qt(E),f)},C.padEnd=function(c,u,f){c=pt(c);var v=(u=$e(u))?ua(c):0;return u&&v<u?c+mu(u-v,f):c},C.padStart=function(c,u,f){c=pt(c);var v=(u=$e(u))?ua(c):0;return u&&v<u?mu(u-v,f)+c:c},C.parseInt=function(c,u,f){return f||null==u?u=0:u&&(u=+u),Gi(pt(c).replace(Oe,""),u||0)},C.random=function(c,u,f){if(f&&"boolean"!=typeof f&&Ii(c,u,f)&&(u=f=M),f===M&&("boolean"==typeof u?(f=u,u=M):"boolean"==typeof c&&(f=c,c=M)),c===M&&u===M?(c=0,u=1):(c=xs(c),u===M?(u=c,c=0):u=xs(u)),c>u){var v=c;c=u,u=v}if(f||c%1||u%1){var E=ss();return hi(c+E*(u-c+Xi("1e-"+((E+"").length-1))),u)}return Bd(c,u)},C.reduce=function(c,u,f){var v=Se(c)?wt:gl,E=arguments.length<3;return v(c,ke(u,4),f,E,ar)},C.reduceRight=function(c,u,f){var v=Se(c)?HS:gl,E=arguments.length<3;return v(c,ke(u,4),f,E,Id)},C.repeat=function(c,u,f){return u=(f?Ii(c,u,f):u===M)?1:$e(u),mm(pt(c),u)},C.replace=function(){var c=arguments,u=pt(c[0]);return c.length<3?u:u.replace(c[1],c[2])},C.result=function(c,u,f){var v=-1,E=(u=Pa(u,c)).length;for(E||(E=1,c=M);++v<E;){var D=null==c?M:c[ls(u[v])];D===M&&(v=E,D=f),c=Wn(D)?D.call(c):D}return c},C.round=Zv,C.runInContext=L,C.sample=function(c){return(Se(c)?om:vm)(c)},C.size=function(c){if(null==c)return 0;if(rn(c))return Af(c)?ua(c):c.length;var u=Ei(c);return u==es||u==Ji?c.size:pm(c).length},C.snakeCase=GE,C.some=function(c,u,f){var v=Se(c)?pd:fw;return f&&Ii(c,u,f)&&(u=M),v(c,ke(u,3))},C.sortedIndex=function(c,u){return du(c,u)},C.sortedIndexBy=function(c,u,f){return $d(c,u,ke(f,2))},C.sortedIndexOf=function(c,u){var f=null==c?0:c.length;if(f){var v=du(c,u);if(v<f&&be(c[v],u))return v}return-1},C.sortedLastIndex=function(c,u){return du(c,u,!0)},C.sortedLastIndexBy=function(c,u,f){return $d(c,u,ke(f,2),!0)},C.sortedLastIndexOf=function(c,u){if(null!=c&&c.length){var v=du(c,u,!0)-1;if(be(c[v],u))return v}return-1},C.startCase=Bf,C.startsWith=function(c,u,f){return c=pt(c),f=null==f?0:rr($e(f),0,c.length),u=zi(u),c.slice(f,f+u.length)==u},C.subtract=Xv,C.sum=function(c){return c&&c.length?md(c,Qi):0},C.sumBy=function(c,u){return c&&c.length?md(c,ke(u,2)):0},C.template=function(c,u,f){var v=C.templateSettings;f&&Ii(c,u,f)&&(u=M),c=pt(c),u=Po({},u,v,Mi);var R,B,E=Po({},u.imports,v.imports,Mi),D=ki(E),x=zg(E,D),j=0,W=u.interpolate||ad,Y="__p += '",te=Nt((u.escape||ad).source+"|"+W.source+"|"+(W===ye?DS:ad).source+"|"+(u.evaluate||ad).source+"|$","g"),pe="//# sourceURL="+(Ue.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qg+"]")+"\n";c.replace(te,function(Te,Qe,rt,on,Oi,Kn){return rt||(rt=on),Y+=c.slice(j,Kn).replace(MS,EO),Qe&&(R=!0,Y+="' +\n__e("+Qe+") +\n'"),Oi&&(B=!0,Y+="';\n"+Oi+";\n__p += '"),rt&&(Y+="' +\n((__t = ("+rt+")) == null ? '' : __t) +\n'"),j=Kn+Te.length,Te}),Y+="';\n";var Ae=Ue.call(u,"variable")&&u.variable;if(Ae){if(mn.test(Ae))throw new Ne("Invalid `variable` option passed into `_.template`")}else Y="with (obj) {\n"+Y+"\n}\n";Y=(B?Y.replace(ES,""):Y).replace(kS,"$1").replace(CS,"$1;"),Y="function("+(Ae||"obj")+") {\n"+(Ae?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(R?", __e = _.escape":"")+(B?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Y+"return __p\n}";var Ke=qf(function(){return ft(D,pe+"return "+Y).apply(M,x)});if(Ke.source=Y,hs(Ke))throw Ke;return Ke},C.times=function(c,u){if((c=$e(c))<1||c>Cr)return[];var f=_s,v=hi(c,_s);u=ke(u),c-=_s;for(var E=jg(v,u);++f<c;)u(f);return E},C.toFinite=xs,C.toInteger=$e,C.toLength=Tf,C.toLower=function(c){return pt(c).toLowerCase()},C.toNumber=an,C.toSafeInteger=function(c){return c?rr($e(c),-Cr,Cr):0===c?c:0},C.toString=pt,C.toUpper=function(c){return pt(c).toUpperCase()},C.trim=function(c,u,f){if((c=pt(c))&&(f||u===M))return Wg(c);if(!c||!(u=zi(u)))return c;var v=xt(c),E=xt(u);return Un(v,GS(v,E),jS(v,E)+1).join("")},C.trimEnd=function(c,u,f){if((c=pt(c))&&(f||u===M))return c.slice(0,_d(c)+1);if(!c||!(u=zi(u)))return c;var v=xt(c);return Un(v,0,jS(v,xt(u))+1).join("")},C.trimStart=function(c,u,f){if((c=pt(c))&&(f||u===M))return c.replace(Oe,"");if(!c||!(u=zi(u)))return c;var v=xt(c);return Un(v,GS(v,xt(u))).join("")},C.truncate=function(c,u){var f=30,v="...";if(Gt(u)){var E="separator"in u?u.separator:E;f="length"in u?$e(u.length):f,v="omission"in u?zi(u.omission):v}var D=(c=pt(c)).length;if(ml(c)){var x=xt(c);D=x.length}if(f>=D)return c;var R=f-ua(v);if(R<1)return v;var B=x?Un(x,0,R).join(""):c.slice(0,R);if(E===M)return B+v;if(x&&(R+=B.length-R),Cv(E)){if(c.slice(R).search(E)){var j,W=B;for(E.global||(E=Nt(E.source,pt(TS.exec(E))+"g")),E.lastIndex=0;j=E.exec(W);)var Y=j.index;B=B.slice(0,Y===M?R:Y)}}else if(c.indexOf(zi(E),R)!=R){var te=B.lastIndexOf(E);te>-1&&(B=B.slice(0,te))}return B+v},C.unescape=function(c){return(c=pt(c))&&Ge.test(c)?c.replace(ut,WS):c},C.uniqueId=function(c){var u=++QS;return pt(c)+u},C.upperCase=Uv,C.upperFirst=$u,C.each=Co,C.eachRight=ov,C.first=Wm,jf(C,function(){var c={};return Wi(C,function(u,f){Ue.call(C.prototype,f)||(c[f]=u)}),c}(),{chain:!1}),C.VERSION="4.17.21",qi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){C[c].placeholder=C}),qi(["drop","take"],function(c,u){Pe.prototype[c]=function(f){f=f===M?1:ui($e(f),0);var v=this.__filtered__&&!u?new Pe(this):this.clone();return v.__filtered__?v.__takeCount__=hi(f,v.__takeCount__):v.__views__.push({size:hi(f,_s),type:c+(v.__dir__<0?"Right":"")}),v},Pe.prototype[c+"Right"]=function(f){return this.reverse()[c](f).reverse()}}),qi(["filter","map","takeWhile"],function(c,u){var f=u+1,v=1==f||3==f;Pe.prototype[c]=function(E){var D=this.clone();return D.__iteratees__.push({iteratee:ke(E,3),type:f}),D.__filtered__=D.__filtered__||v,D}}),qi(["head","last"],function(c,u){var f="take"+(u?"Right":"");Pe.prototype[c]=function(){return this[f](1).value()[0]}}),qi(["initial","tail"],function(c,u){var f="drop"+(u?"":"Right");Pe.prototype[c]=function(){return this.__filtered__?new Pe(this):this[f](1)}}),Pe.prototype.compact=function(){return this.filter(Qi)},Pe.prototype.find=function(c){return this.filter(c).head()},Pe.prototype.findLast=function(c){return this.reverse().find(c)},Pe.prototype.invokeMap=et(function(c,u){return"function"==typeof c?new Pe(this):this.map(function(f){return Pl(f,c,u)})}),Pe.prototype.reject=function(c){return this.filter(Ef(ke(c)))},Pe.prototype.slice=function(c,u){c=$e(c);var f=this;return f.__filtered__&&(c>0||u<0)?new Pe(f):(c<0?f=f.takeRight(-c):c&&(f=f.drop(c)),u!==M&&(f=(u=$e(u))<0?f.dropRight(-u):f.take(u-c)),f)},Pe.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},Pe.prototype.toArray=function(){return this.take(_s)},Wi(Pe.prototype,function(c,u){var f=/^(?:filter|find|map|reject)|While$/.test(u),v=/^(?:head|last)$/.test(u),E=C[v?"take"+("last"==u?"Right":""):u],D=v||/^find/.test(u);!E||(C.prototype[u]=function(){var x=this.__wrapped__,R=v?[1]:arguments,B=x instanceof Pe,j=R[0],W=B||Se(x),Y=function(Qe){var rt=E.apply(C,vi([Qe],R));return v&&te?rt[0]:rt};W&&f&&"function"==typeof j&&1!=j.length&&(B=W=!1);var te=this.__chain__,pe=!!this.__actions__.length,Ae=D&&!te,Ke=B&&!pe;if(!D&&W){x=Ke?x:new Pe(this);var Te=c.apply(x,R);return Te.__actions__.push({func:ql,args:[Y],thisArg:M}),new Fn(Te,te)}return Ae&&Ke?c.apply(this,R):(Te=this.thru(Y),Ae?v?Te.value()[0]:Te.value():Te)})}),qi(["pop","push","shift","sort","splice","unshift"],function(c){var u=Wc[c],f=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",v=/^(?:pop|shift)$/.test(c);C.prototype[c]=function(){var E=arguments;if(v&&!this.__chain__){var D=this.value();return u.apply(Se(D)?D:[],E)}return this[f](function(x){return u.apply(Se(x)?x:[],E)})}}),Wi(Pe.prototype,function(c,u){var f=C[u];if(f){var v=f.name+"";Ue.call(Mr,v)||(Mr[v]=[]),Mr[v].push({name:u,func:f})}}),Mr[Ml(M,2).name]=[{name:"wrapper",func:M}],Pe.prototype.clone=function(){var c=new Pe(this.__wrapped__);return c.__actions__=yi(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=yi(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=yi(this.__views__),c},Pe.prototype.reverse=function(){if(this.__filtered__){var c=new Pe(this);c.__dir__=-1,c.__filtered__=!0}else(c=this.clone()).__dir__*=-1;return c},Pe.prototype.value=function(){var c=this.__wrapped__.value(),u=this.__dir__,f=Se(c),v=u<0,E=f?c.length:0,D=function(c,u,f){for(var v=-1,E=f.length;++v<E;){var D=f[v],x=D.size;switch(D.type){case"drop":c+=x;break;case"dropRight":u-=x;break;case"take":u=hi(u,c+x);break;case"takeRight":c=ui(c,u-x)}}return{start:c,end:u}}(0,E,this.__views__),x=D.start,R=D.end,B=R-x,j=v?R:x-1,W=this.__iteratees__,Y=W.length,te=0,pe=hi(B,this.__takeCount__);if(!f||!v&&E==B&&pe==B)return Ca(c,this.__actions__);var Ae=[];e:for(;B--&&te<pe;){for(var Ke=-1,Te=c[j+=u];++Ke<Y;){var Qe=W[Ke],on=Qe.type,Oi=(0,Qe.iteratee)(Te);if(2==on)Te=Oi;else if(!Oi){if(1==on)continue e;break e}}Ae[te++]=Te}return Ae},C.prototype.at=Tu,C.prototype.chain=function(){return nv(this)},C.prototype.commit=function(){return new Fn(this.value(),this.__chain__)},C.prototype.next=function(){this.__values__===M&&(this.__values__=Pv(this.value()));var c=this.__index__>=this.__values__.length;return{done:c,value:c?M:this.__values__[this.__index__++]}},C.prototype.plant=function(c){for(var u,f=this;f instanceof tu;){var v=lf(f);v.__index__=0,v.__values__=M,u?E.__wrapped__=v:u=v;var E=v;f=f.__wrapped__}return E.__wrapped__=c,u},C.prototype.reverse=function(){var c=this.__wrapped__;if(c instanceof Pe){var u=c;return this.__actions__.length&&(u=new Pe(this)),(u=u.reverse()).__actions__.push({func:ql,args:[Du],thisArg:M}),new Fn(u,this.__chain__)}return this.thru(Du)},C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=function(){return Ca(this.__wrapped__,this.__actions__)},C.prototype.first=C.prototype.head,co&&(C.prototype[co]=function(){return this}),C}();St._=oo,(Xn=function(){return oo}.call(Rt,Jt,Rt,Yt))!==M&&(Yt.exports=Xn)}.call(this)},797:(Yt,Rt,Jt)=>{"use strict";var Xn={};function M(n){return"function"==typeof n}Jt.r(Xn),Jt.d(Xn,{afterMain:()=>vV,afterRead:()=>pV,afterWrite:()=>bV,applyStyles:()=>vR,arrow:()=>DV,auto:()=>gb,basePlacements:()=>kh,beforeMain:()=>gV,beforeRead:()=>dV,beforeWrite:()=>yV,bottom:()=>ds,clippingParents:()=>uV,computeStyles:()=>SR,createPopper:()=>DR,createPopperBase:()=>vQ,createPopperLite:()=>bQ,detectOverflow:()=>xh,end:()=>Ch,eventListeners:()=>wR,flip:()=>OV,hide:()=>BV,left:()=>On,main:()=>mV,modifierPhases:()=>SV,offset:()=>$V,placements:()=>gR,popper:()=>Ph,popperGenerator:()=>bb,popperOffsets:()=>AR,preventOverflow:()=>VV,read:()=>fV,reference:()=>hV,right:()=>fs,start:()=>pc,top:()=>In,variationPlacements:()=>pR,viewport:()=>fR,write:()=>_V});let Kh=!1;const pn={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else Kh&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Kh=n},get useDeprecatedSynchronousErrorHandling(){return Kh}};function Ya(n){setTimeout(()=>{throw n},0)}const Fi={closed:!0,next(n){},error(n){if(pn.useDeprecatedSynchronousErrorHandling)throw n;Ya(n)},complete(){}},il=Array.isArray||(n=>n&&"number"==typeof n.length);function nl(n){return null!==n&&"object"==typeof n}const ea=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class nt{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof nt)e.remove(this);else if(null!==e)for(let a=0;a<e.length;++a)e[a].remove(this);if(M(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(a){t=a instanceof ea?Qh(a.errors):[a]}}if(il(r)){let a=-1,o=r.length;for(;++a<o;){const l=r[a];if(nl(l))try{l.unsubscribe()}catch(h){t=t||[],h instanceof ea?t=t.concat(Qh(h.errors)):t.push(h)}}}if(t)throw new ea(t)}add(t){let e=t;if(!t)return nt.EMPTY;switch(typeof t){case"function":e=new nt(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof nt)){const r=e;e=new nt,e._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof nt){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[e]:s.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function Qh(n){return n.reduce((t,e)=>t.concat(e instanceof ea?e.errors:e),[])}nt.EMPTY=((n=new nt).closed=!0,n);const Ys="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Ot extends nt{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Fi;break;case 1:if(!t){this.destination=Fi;break}if("object"==typeof t){t instanceof Ot?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new gn(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new gn(this,t,e,i)}}[Ys](){return this}static create(t,e,i){const s=new Ot(t,e,i);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class gn extends Ot{constructor(t,e,i,s){super(),this._parentSubscriber=t;let r,a=this;M(e)?r=e:e&&(r=e.next,i=e.error,s=e.complete,e!==Fi&&(a=Object.create(e),M(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=r,this._error=i,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;pn.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=pn;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):Ya(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;Ya(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);pn.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),pn.useDeprecatedSynchronousErrorHandling)throw i;Ya(i)}}__tryOrSetError(t,e,i){if(!pn.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(s){return pn.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(Ya(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const Yi="function"==typeof Symbol&&Symbol.observable||"@@observable";function ia(n){return n}let Xe=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,s){const{operator:r}=this,a=function(n,t,e){if(n){if(n instanceof Ot)return n;if(n[Ys])return n[Ys]()}return n||t||e?new Ot(n,t,e):new Ot(Fi)}(e,i,s);if(a.add(r?r.call(a,this.source):this.source||pn.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),pn.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(i){pn.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof Ot?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=Ja(i))((s,r)=>{let a;a=this.subscribe(o=>{try{e(o)}catch(l){r(l),a&&a.unsubscribe()}},r,s)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[Yi](){return this}pipe(...e){return 0===e.length?this:function(n){return 0===n.length?ia:1===n.length?n[0]:function(e){return n.reduce((i,s)=>s(i),e)}}(e)(this)}toPromise(e){return new(e=Ja(e))((i,s)=>{let r;this.subscribe(a=>r=a,a=>s(a),()=>i(r))})}}return n.create=t=>new n(t),n})();function Ja(n){if(n||(n=pn.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const sa=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class Cg extends nt{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class Pg extends Ot{constructor(t){super(t),this.destination=t}}let tt=(()=>{class n extends Xe{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ys](){return new Pg(this)}lift(e){const i=new Yh(this,this);return i.operator=e,i}next(e){if(this.closed)throw new sa;if(!this.isStopped){const{observers:i}=this,s=i.length,r=i.slice();for(let a=0;a<s;a++)r[a].next(e)}}error(e){if(this.closed)throw new sa;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,s=i.length,r=i.slice();for(let a=0;a<s;a++)r[a].error(e);this.observers.length=0}complete(){if(this.closed)throw new sa;this.isStopped=!0;const{observers:e}=this,i=e.length,s=e.slice();for(let r=0;r<i;r++)s[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new sa;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new sa;return this.hasError?(e.error(this.thrownError),nt.EMPTY):this.isStopped?(e.complete(),nt.EMPTY):(this.observers.push(e),new Cg(this,e))}asObservable(){const e=new Xe;return e.source=this,e}}return n.create=(t,e)=>new Yh(t,e),n})();class Yh extends tt{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):nt.EMPTY}}function rl(n){return n&&"function"==typeof n.schedule}function ys(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new ra(n,t))}}class ra{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new Cr(t,this.project,this.thisArg))}}class Cr extends Ot{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const Ag=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},Mc="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",al=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Dg(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Xa=n=>{if(n&&"function"==typeof n[Yi])return(n=>t=>{const e=n[Yi]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(al(n))return Ag(n);if(Dg(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ya),t))(n);if(n&&"function"==typeof n[Mc])return(n=>t=>{const e=n[Mc]();for(;;){let i;try{i=e.next()}catch(s){return t.error(s),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${nl(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function eo(n,t){return new Xe(e=>{const i=new nt;let s=0;return i.add(t.schedule(function(){s!==n.length?(e.next(n[s++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function Ic(n,t){return t?function(n,t){if(null!=n){if(function(n){return n&&"function"==typeof n[Yi]}(n))return function(n,t){return new Xe(e=>{const i=new nt;return i.add(t.schedule(()=>{const s=n[Yi]();i.add(s.subscribe({next(r){i.add(t.schedule(()=>e.next(r)))},error(r){i.add(t.schedule(()=>e.error(r)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(Dg(n))return function(n,t){return new Xe(e=>{const i=new nt;return i.add(t.schedule(()=>n.then(s=>{i.add(t.schedule(()=>{e.next(s),i.add(t.schedule(()=>e.complete()))}))},s=>{i.add(t.schedule(()=>e.error(s)))}))),i})}(n,t);if(al(n))return eo(n,t);if(function(n){return n&&"function"==typeof n[Mc]}(n)||"string"==typeof n)return function(n,t){if(!n)throw new Error("Iterable cannot be null");return new Xe(e=>{const i=new nt;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(t.schedule(()=>{s=n[Mc](),i.add(t.schedule(function(){if(e.closed)return;let r,a;try{const o=s.next();r=o.value,a=o.done}catch(o){return void e.error(o)}a?e.complete():(e.next(r),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof Xe?n:new Xe(Xa(n))}class Ln extends Ot{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Oc extends Ot{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function Ji(n,t){if(t.closed)return;if(n instanceof Xe)return n.subscribe(t);let e;try{e=Xa(n)(t)}catch(i){t.error(i)}return e}function aa(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(aa((s,r)=>Ic(n(s,r)).pipe(ys((a,o)=>t(s,a,r,o))),e)):("number"==typeof t&&(e=t),i=>i.lift(new Lc(n,e)))}class Lc{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new wS(t,this.project,this.concurrent))}}class wS extends Oc{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Ln(this),i=this.destination;i.add(e);const s=Ji(t,e);s!==e&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function xg(n=Number.POSITIVE_INFINITY){return aa(ia,n)}function to(n,t){return t?eo(n,t):new Xe(Ag(n))}function Pr(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return rl(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof Xe?n[0]:xg(t)(to(n,e))}function $c(){return function(t){return t.lift(new Jh(t))}}class Jh{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const s=new Zh(t,i),r=e.subscribe(s);return s.closed||(s.connection=i.connect()),r}}class Zh extends Ot{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,s=t._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()}}class Xh extends Xe{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new nt,t.add(this.source.subscribe(new td(this.getSubject(),this))),t.closed&&(this._connection=null,t=nt.EMPTY)),t}refCount(){return $c()(this)}}const ed=(()=>{const n=Xh.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class td extends Pg{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function kS(){return new tt}function ut(n){for(let t in n)if(n[t]===ut)return t;throw Error("Could not find renamed property on target object.")}function Vc(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ge(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ge).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function sd(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const PS=ut({__forward_ref__:ut});function kt(n){return n.__forward_ref__=kt,n.toString=function(){return Ge(this())},n}function ye(n){return Rg(n)?n():n}function Rg(n){return"function"==typeof n&&n.hasOwnProperty(PS)&&n.__forward_ref__===kt}class Ar extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function Oe(n){return"string"==typeof n?n:null==n?"":String(n)}function Hi(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Oe(n)}function Fc(n,t){const e=t?` in ${t}`:"";throw new Ar("201",`No provider for ${Hi(n)} found${e}`)}function vn(n,t){null==n&&function(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function he(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Kt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Xs(n){return Og(n,io)||Og(n,ud)}function Og(n,t){return n.hasOwnProperty(t)?n[t]:null}function ld(n){return n&&(n.hasOwnProperty(cd)||n.hasOwnProperty(Hc))?n[cd]:null}const io=ut({\u0275prov:ut}),cd=ut({\u0275inj:ut}),ud=ut({ngInjectableDef:ut}),Hc=ut({ngInjectorDef:ut});var Ee=(()=>((Ee=Ee||{})[Ee.Default=0]="Default",Ee[Ee.Host=1]="Host",Ee[Ee.Self=2]="Self",Ee[Ee.SkipSelf=4]="SkipSelf",Ee[Ee.Optional=8]="Optional",Ee))();let hd;function er(n){const t=hd;return hd=n,t}function qc(n,t,e){const i=Xs(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Ee.Optional?null:void 0!==t?t:void Fc(Ge(n),"Injector")}function tr(n){return{toString:n}.toString()}var Zi=(()=>((Zi=Zi||{})[Zi.OnPush=0]="OnPush",Zi[Zi.Default=1]="Default",Zi))(),Zt=(()=>((Zt=Zt||{})[Zt.Emulated=0]="Emulated",Zt[Zt.None=2]="None",Zt[Zt.ShadowDom=3]="ShadowDom",Zt))();const Vg="undefined"!=typeof globalThis&&globalThis,OS="undefined"!=typeof window&&window,Fg="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,dt=Vg||"undefined"!=typeof global&&global||OS||Fg,no={},bt=[],ul=ut({\u0275cmp:ut}),dd=ut({\u0275dir:ut}),fd=ut({\u0275pipe:ut}),Hg=ut({\u0275mod:ut}),BS=ut({\u0275loc:ut}),ts=ut({\u0275fac:ut}),hl=ut({__NG_ELEMENT_ID__:ut});let $S=0;function Bn(n){return tr(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Zi.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||bt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Zt.Emulated,id:"c",styles:n.styles||bt,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,r=n.features,a=n.pipes;return i.id+=$S++,i.inputs=Ug(n.inputs,e),i.outputs=Ug(n.outputs),r&&r.forEach(o=>o(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(qg):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(Tt):null,i})}function qg(n){return Ti(n)||function(n){return n[dd]||null}(n)}function Tt(n){return function(n){return n[fd]||null}(n)}const Pt={};function ni(n){return tr(()=>{const t={type:n.type,bootstrap:n.bootstrap||bt,declarations:n.declarations||bt,imports:n.imports||bt,exports:n.exports||bt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Pt[n.id]=n.type),t})}function Ug(n,t){if(null==n)return no;const e={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),e[s]=i,t&&(t[s]=r)}return e}const fe=Bn;function Xi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ti(n){return n[ul]||null}function St(n,t){const e=n[Hg]||null;if(!e&&!0===t)throw new Error(`Type ${Ge(n)} does not have '\u0275mod' property.`);return e}function is(n){return Array.isArray(n)&&"object"==typeof n[1]}function $n(n){return Array.isArray(n)&&!0===n[1]}function pl(n){return 0!=(8&n.flags)}function ao(n){return 2==(2&n.flags)}function gl(n){return 1==(1&n.flags)}function ns(n){return null!==n.template}function md(n){return 0!=(512&n[2])}function ca(n,t){return n.hasOwnProperty(ts)?n[ts]:null}class ua{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function xt(){return _d}function _d(n){return n.type.prototype.ngOnChanges&&(n.setInput=zS),WS}function WS(){const n=Yg(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===no)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function zS(n,t,e,i){const s=Yg(n)||function(n,t){return n[Qg]=t}(n,{previous:no,current:null}),r=s.current||(s.current={}),a=s.previous,o=this.declaredInputs[e],l=a[o];r[o]=new ua(l&&l.currentValue,t,a===no),n[i]=t}xt.ngInherit=!0;const Qg="__ngSimpleChanges__";function Yg(n){return n[Qg]||null}const V="http://www.w3.org/2000/svg";let Ne;function Nt(n){return!!n.listen}const _n={createRenderer:(n,t)=>void 0!==Ne?Ne:"undefined"!=typeof document?document:void 0};function si(n){for(;Array.isArray(n);)n=n[0];return n}function ha(n,t){return si(t[n])}function Ue(n,t){return si(t[n.index])}function zc(n,t){return n.data[t]}function bn(n,t){const e=t[n];return is(e)?e:e[0]}function Jg(n){return 4==(4&n[2])}function Sd(n){return 128==(128&n[2])}function Ui(n,t){return null==t?null:n[t]}function vl(n){n[18]=0}function Qc(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const De={lFrame:ho(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function co(){return De.bindingsEnabled}function K(){return De.lFrame.lView}function ot(){return De.lFrame.tView}function Lt(n){return De.lFrame.contextLView=n,n[8]}function Qt(){let n=yl();for(;null!==n&&64===n.type;)n=n.parent;return n}function yl(){return De.lFrame.currentTNode}function ws(n,t){const e=De.lFrame;e.currentTNode=n,e.isParent=t}function Zc(){return De.lFrame.isParent}function wd(){De.lFrame.isParent=!1}function hi(){return De.isInCheckNoChangesMode}function Xc(n){De.isInCheckNoChangesMode=n}function Gi(){const n=De.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function ss(){return De.lFrame.bindingIndex}function xr(){return De.lFrame.bindingIndex++}function Sn(n){const t=De.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function _l(n,t){const e=De.lFrame;e.bindingIndex=e.bindingRootIndex=n,uo(t)}function uo(n){De.lFrame.currentDirectiveIndex=n}function tm(){return De.lFrame.currentQueryIndex}function kd(n){De.lFrame.currentQueryIndex=n}function JS(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function im(n,t,e){if(e&Ee.SkipSelf){let s=t,r=n;for(;!(s=s.parent,null!==s||e&Ee.Host||(s=JS(r),null===s||(r=r[15],10&s.type))););if(null===s)return!1;t=s,n=r}const i=De.lFrame=Sl();return i.currentTNode=t,i.lView=n,!0}function eu(n){const t=Sl(),e=n[1];De.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Sl(){const n=De.lFrame,t=null===n?null:n.child;return null===t?ho(n):t}function ho(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Cd(){const n=De.lFrame;return De.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const C=Cd;function sr(){const n=Cd();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Pe(){return De.lFrame.selectedIndex}function Rr(n){De.lFrame.selectedIndex=n}function qt(){const n=De.lFrame;return zc(n.tView,n.selectedIndex)}function Pd(){De.lFrame.currentNamespace=V}function Ad(){De.lFrame.currentNamespace=null}function iu(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const r=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:o,ngAfterViewInit:l,ngAfterViewChecked:h,ngOnDestroy:d}=r;a&&(n.contentHooks||(n.contentHooks=[])).push(-e,a),o&&((n.contentHooks||(n.contentHooks=[])).push(e,o),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,o)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),h&&((n.viewHooks||(n.viewHooks=[])).push(e,h),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,h)),null!=d&&(n.destroyHooks||(n.destroyHooks=[])).push(e,d)}}function Hn(n,t,e){nm(n,t,3,e)}function nu(n,t,e,i){(3&n[2])===e&&nm(n,t,e,i)}function Dd(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function nm(n,t,e,i){const r=null!=i?i:-1,a=t.length-1;let o=0;for(let l=void 0!==i?65535&n[18]:0;l<a;l++)if("number"==typeof t[l+1]){if(o=t[l],null!=i&&o>=i)break}else t[l]<0&&(n[18]+=65536),(o<r||-1==r)&&(tw(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function tw(n,t,e,i){const s=e[i]<0,r=e[i+1],o=n[s?-e[i]:e[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{r.call(o)}finally{}}}else try{r.call(o)}finally{}}class wn{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function tn(n,t,e){const i=Nt(n);let s=0;for(;s<e.length;){const r=e[s];if("number"==typeof r){if(0!==r)break;s++;const a=e[s++],o=e[s++],l=e[s++];i?n.setAttribute(t,o,l,a):t.setAttributeNS(a,o,l)}else{const a=r,o=e[++s];xd(a)?i&&n.setProperty(t,a,o):i?n.setAttribute(t,a,o):t.setAttribute(a,o),s++}}return s}function sm(n){return 3===n||4===n||6===n}function xd(n){return 64===n.charCodeAt(0)}function su(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?e=s:0===e||rm(n,e,s,null,-1===e||2===e?t[++i]:null)}}return n}function rm(n,t,e,i,s){let r=0,a=n.length;if(-1===t)a=-1;else for(;r<n.length;){const o=n[r++];if("number"==typeof o){if(o===t){a=-1;break}if(o>t){a=r-1;break}}}for(;r<n.length;){const o=n[r];if("number"==typeof o)break;if(o===e){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==a&&(n.splice(a,0,t),r=a+1),n.splice(r++,0,e),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}function am(n){return-1!==n}function va(n){return 32767&n}function fo(n,t){let e=function(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Md=!0;function po(n){const t=Md;return Md=n,t}let cm=0;function En(n,t){const e=rr(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,kl(i.data,n),kl(t,null),kl(i.blueprint,null));const s=ji(n,t),r=n.injectorIndex;if(am(s)){const a=va(s),o=fo(s,t),l=o[1].data;for(let h=0;h<8;h++)t[r+h]=o[a+h]|l[a+h]}return t[r+8]=s,r}function kl(n,t){n.push(0,0,0,0,0,0,0,0,t)}function rr(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function ji(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,s=t;for(;null!==s;){const r=s[1],a=r.type;if(i=2===a?r.declTNode:1===a?s[6]:null,null===i)return-1;if(e++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function au(n,t,e){!function(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(hl)&&(i=e[hl]),null==i&&(i=e[hl]=cm++);const s=255&i;t.data[n+(s>>5)]|=1<<s}(n,t,e)}function Rd(n,t,e){if(e&Ee.Optional)return n;Fc(t,"NodeInjector")}function go(n,t,e,i){if(e&Ee.Optional&&void 0===i&&(i=null),0==(e&(Ee.Self|Ee.Host))){const s=n[9],r=er(void 0);try{return s?s.get(t,i,e&Ee.Optional):qc(t,i,e&Ee.Optional)}finally{er(r)}}return Rd(i,t,e)}function ar(n,t,e,i=Ee.Default,s){if(null!==n){const r=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(hl)?n[hl]:void 0;return"number"==typeof t?t>=0?255&t:aw:t}(e);if("function"==typeof r){if(!im(t,n,i))return i&Ee.Host?Rd(s,e,i):go(t,e,i,s);try{const a=r(i);if(null!=a||i&Ee.Optional)return a;Fc(e)}finally{C()}}else if("number"==typeof r){let a=null,o=rr(n,t),l=-1,h=i&Ee.Host?t[16][6]:null;for((-1===o||i&Ee.SkipSelf)&&(l=-1===o?ji(n,t):t[o+8],-1!==l&&Od(i,!1)?(a=t[1],o=va(l),t=fo(l,t)):o=-1);-1!==o;){const d=t[1];if(cu(r,o,d.data)){const m=ou(o,t,e,a,i,h);if(m!==Id)return m}l=t[o+8],-1!==l&&Od(i,t[1].data[o+8]===h)&&cu(r,o,t)?(a=d,o=va(l),t=fo(l,t)):o=-1}}}return go(t,e,i,s)}const Id={};function aw(){return new Wi(Qt(),K())}function ou(n,t,e,i,s,r){const a=t[1],o=a.data[n+8],d=lu(o,a,e,null==i?ao(o)&&Md:i!=a&&0!=(3&o.type),s&Ee.Host&&r===o);return null!==d?mo(t,a,d,o):Id}function lu(n,t,e,i,s){const r=n.providerIndexes,a=t.data,o=1048575&r,l=n.directiveStart,d=r>>20,y=s?o+d:n.directiveEnd;for(let S=i?o:o+d;S<y;S++){const k=a[S];if(S<l&&e===k||S>=l&&k.type===e)return S}if(s){const S=a[l];if(S&&ns(S)&&S.type===e)return l}return null}function mo(n,t,e,i){let s=n[e];const r=t.data;if(function(n){return n instanceof wn}(s)){const a=s;a.resolving&&function(n,t){throw new Ar("200",`Circular dependency in DI detected for ${n}`)}(Hi(r[e]));const o=po(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?er(a.injectImpl):null;im(n,i,Ee.Default);try{s=n[e]=a.factory(void 0,r,n,i),t.firstCreatePass&&e>=i.directiveStart&&function(n,t,e){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(i){const a=_d(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),r&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,r))}(e,r[e],t)}finally{null!==l&&er(l),po(o),a.resolving=!1,C()}}return s}function cu(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Od(n,t){return!(n&Ee.Self||n&Ee.Host&&t)}class Wi{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return ar(this._tNode,this._lView,t,i,e)}}function nn(n){return tr(()=>{const t=n.prototype.constructor,e=t[ts]||vo(t),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[ts]||vo(s);if(r&&r!==e)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function vo(n){return Rg(n)?()=>{const t=vo(ye(n));return t&&t()}:ca(n)}const ri="__parameters__";function _a(n,t,e){return tr(()=>{const i=function(n){return function(...e){if(n){const i=n(...e);for(const s in i)this[s]=i[s]}}}(t);function s(...r){if(this instanceof s)return i.apply(this,r),this;const a=new s(...r);return o.annotation=a,o;function o(l,h,d){const m=l.hasOwnProperty(ri)?l[ri]:Object.defineProperty(l,ri,{value:[]})[ri];for(;m.length<=d;)m.push(null);return(m[d]=m[d]||[]).push(a),l}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class we{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=he({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function kn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),kn(i,t)):t!==n&&t.push(i)}return t}function Es(n,t){n.forEach(e=>Array.isArray(e)?Es(e,t):t(e))}function Al(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function wa(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Cn(n,t,e){let i=ka(n,t);return i>=0?n[1|i]=e:(i=~i,function(n,t,e,i){let s=n.length;if(s==t)n.push(e,i);else if(1===s)n.push(i,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Ea(n,t){const e=ka(n,t);if(e>=0)return n[1|e]}function ka(n,t){return function(n,t,e){let i=0,s=n.length>>e;for(;s!==i;){const r=i+(s-i>>1),a=n[r<<e];if(t===a)return r<<e;a>t?s=r:i=r+1}return~(s<<e)}(n,t,1)}const _o={},bo="__NG_DI_FLAG__",Ca="ngTempTokenPath",Sm=/\n/gm,Dl="__source",Hd=ut({provide:String,useValue:ut});let Un;function Aa(n){const t=Un;return Un=n,t}function wm(n,t=Ee.Default){if(void 0===Un)throw new Error("inject() must be called from an injection context");return null===Un?qc(n,void 0,t):Un.get(n,t&Ee.Optional?null:void 0,t)}function q(n,t=Ee.Default){return(hd||wm)(ye(n),t)}const pw=q;function Da(n){const t=[];for(let e=0;e<n.length;e++){const i=ye(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let s,r=Ee.Default;for(let a=0;a<i.length;a++){const o=i[a],l=km(o);"number"==typeof l?-1===l?s=o.token:r|=l:s=o}t.push(q(s,r))}else t.push(q(i))}return t}function So(n,t){return n[bo]=t,n.prototype[bo]=t,n}function km(n){return n[bo]}function Cm(n,t,e,i){const s=n[Ca];throw t[Dl]&&s.unshift(t[Dl]),n.message=function(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=Ge(t);if(Array.isArray(t))s=t.map(Ge).join(" -> ");else if("object"==typeof t){let r=[];for(let a in t)if(t.hasOwnProperty(a)){let o=t[a];r.push(a+":"+("string"==typeof o?JSON.stringify(o):Ge(o)))}s=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${s}]: ${n.replace(Sm,"\n  ")}`}("\n"+n.message,s,e,i),n.ngTokenPath=s,n[Ca]=null,n}const yi=So(_a("Inject",n=>({token:n})),-1),di=So(_a("Optional"),8),Ta=So(_a("SkipSelf"),4);var sn=(()=>((sn=sn||{})[sn.Important=1]="Important",sn[sn.DashCase=2]="DashCase",sn))();const zd="__ngContext__";function Ri(n,t){n[zd]=t}function as(n){const t=function(n){return n[zd]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Ol(n,t){return undefined(n,t)}function Nl(n){const t=n[3];return $n(t)?t[3]:t}function Xd(n){return Nm(n[13])}function bu(n){return Nm(n[4])}function Nm(n){for(;null!==n&&!$n(n);)n=n[4];return n}function Eo(n,t,e,i,s){if(null!=i){let r,a=!1;$n(i)?r=i:is(i)&&(a=!0,i=i[0]);const o=si(i);0===n&&null!==e?null==s?ko(t,e,o):Nr(t,e,o,s||null,!0):1===n&&null!==e?Nr(t,e,o,s||null,!0):2===n?function(n,t,e){const i=Bl(n,t);i&&function(n,t,e,i){Nt(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,o,a):3===n&&t.destroyNode(o),null!=r&&function(n,t,e,i,s){const r=e[7];r!==si(e)&&Eo(t,n,i,r,s);for(let o=10;o<e.length;o++){const l=e[o];$l(l[1],l,n,t,i,r)}}(t,n,r,e,s)}}function tf(n,t,e){return Nt(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function $m(n,t){const e=n[9],i=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Qc(s,-1)),e.splice(i,1)}function sf(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const s=i[17];null!==s&&s!==n&&$m(s,i),t>0&&(n[e-1][4]=i[4]);const r=wa(n,10+t);!function(n,t){$l(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const a=r[19];null!==a&&a.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Vm(n,t){if(!(256&t[2])){const e=t[11];Nt(e)&&e.destroyNode&&$l(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return rf(n[1],n);for(;t;){let e=null;if(is(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)is(t)&&rf(t[1],t),t=t[3];null===t&&(t=n),is(t)&&rf(t[1],t),e=t&&t[4]}t=e}}(t)}}function rf(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const s=t[e[i]];if(!(s instanceof wn)){const r=e[i+1];if(Array.isArray(r))for(let a=0;a<r.length;a+=2){const o=s[r[a]],l=r[a+1];try{l.call(o)}finally{}}else try{r.call(s)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,i=t[7];let s=-1;if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const a=e[r+1],o="function"==typeof a?a(t):si(t[a]),l=i[s=e[r+2]],h=e[r+3];"boolean"==typeof h?o.removeEventListener(e[r],l,h):h>=0?i[s=h]():i[s=-h].unsubscribe(),r+=2}else{const a=i[s=e[r+1]];e[r].call(a)}if(null!==i){for(let r=s+1;r<i.length;r++)i[r]();t[7]=null}}(n,t),1===t[1].type&&Nt(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&$n(t[3])){e!==t[3]&&$m(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function qm(n,t,e){return function(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===Zt.None||s===Zt.Emulated)return null}return Ue(i,e)}(n,t.parent,e)}function Nr(n,t,e,i,s){Nt(n)?n.insertBefore(t,e,i,s):t.insertBefore(e,i,s)}function ko(n,t,e){Nt(n)?n.appendChild(t,e):t.appendChild(e)}function wu(n,t,e,i,s){null!==i?Nr(n,t,e,i,s):ko(n,t,e)}function Bl(n,t){return Nt(n)?n.parentNode(t):t.parentNode}let Lr=function(n,t,e){return 40&n.type?Ue(n,e):null};function ku(n,t,e,i){const s=qm(n,i,t),r=t[11],o=function(n,t,e){return Lr(n,t,e)}(i.parent||t[6],i,t);if(null!=s)if(Array.isArray(e))for(let l=0;l<e.length;l++)wu(r,s,e[l],o,!1);else wu(r,s,e,o,!1)}function Cu(n,t){if(null!==t){const e=t.type;if(3&e)return Ue(t,n);if(4&e)return cf(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Cu(n,i);{const s=n[t.index];return $n(s)?cf(-1,s):si(s)}}if(32&e)return Ol(t,n)()||si(n[t.index]);{const i=Gm(n,t);return null!==i?Array.isArray(i)?i[0]:Cu(Nl(n[16]),i):Cu(n,t.next)}}return null}function Gm(n,t){return null!==t?n[16][6].projection[t.projection]:null}function cf(n,t){const e=10+n+1;if(e<t.length){const i=t[e],s=i[1].firstChild;if(null!==s)return Cu(i,s)}return t[7]}function hf(n,t,e,i,s,r,a){for(;null!=e;){const o=i[e.index],l=e.type;if(a&&0===t&&(o&&Ri(si(o),i),e.flags|=4),64!=(64&e.flags))if(8&l)hf(n,t,e.child,i,s,r,!1),Eo(t,n,s,o,r);else if(32&l){const h=Ol(e,i);let d;for(;d=h();)Eo(t,n,s,d,r);Eo(t,n,s,o,r)}else 16&l?jm(n,t,i,e,s,r):Eo(t,n,s,o,r);e=a?e.projectionNext:e.next}}function $l(n,t,e,i,s,r){hf(e,i,n.firstChild,t,s,r,!1)}function jm(n,t,e,i,s,r){const a=e[16],l=a[6].projection[i.projection];if(Array.isArray(l))for(let h=0;h<l.length;h++)Eo(t,n,s,l[h],r);else hf(n,t,l,a[3],s,r,!0)}function df(n,t,e){Nt(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function Pu(n,t,e){Nt(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function An(n){return n instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}function xu(n){return n.ngOriginalError}function eE(n,...t){n.error(...t)}class Na{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=this._findContext(t),s=function(n){return n&&n.ngErrorLogger||eE}(t);s(this._console,"ERROR",t),e&&s(this._console,"ORIGINAL ERROR",e),i&&s(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?function(n){return n.ngDebugContext}(t)||this._findContext(xu(t)):null}_findOriginalError(t){let e=t&&xu(t);for(;e&&xu(e);)e=xu(e);return e||null}}const Sf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(dt))();function cs(n){return n instanceof Function?n():n}function Gl(n,t,e){let i=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=t.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}e=s+1}}const gv="ng-template";function aE(n,t,e){let i=0;for(;i<n.length;){let s=n[i++];if(e&&"class"===s){if(s=n[i],-1!==Gl(s.toLowerCase(),t,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function Mu(n){return 4===n.type&&n.value!==gv}function mv(n,t,e){return t===(4!==n.type||e?n.value:gv)}function oE(n,t,e){let i=4;const s=n.attrs||[],r=function(n){for(let t=0;t<n.length;t++)if(sm(n[t]))return t;return n.length}(s);let a=!1;for(let o=0;o<t.length;o++){const l=t[o];if("number"!=typeof l){if(!a)if(4&i){if(i=2|1&i,""!==l&&!mv(n,l,e)||""===l&&1===t.length){if(us(i))return!1;a=!0}}else{const h=8&i?l:t[++o];if(8&i&&null!==n.attrs){if(!aE(n.attrs,h,e)){if(us(i))return!1;a=!0}continue}const m=lE(8&i?"class":l,s,Mu(n),e);if(-1===m){if(us(i))return!1;a=!0;continue}if(""!==h){let y;y=m>r?"":s[m+1].toLowerCase();const S=8&i?y:null;if(S&&-1!==Gl(S,h,0)||2&i&&h!==y){if(us(i))return!1;a=!0}}}}else{if(!a&&!us(i)&&!us(l))return!1;if(a&&us(l))continue;a=!1,i=l|1&i}}return us(i)||a}function us(n){return 0==(1&n)}function lE(n,t,e,i){if(null===t)return-1;let s=0;if(i||!e){let r=!1;for(;s<t.length;){const a=t[s];if(a===n)return s;if(3===a||6===a)r=!0;else{if(1===a||2===a){let o=t[++s];for(;"string"==typeof o;)o=t[++s];continue}if(4===a)break;if(0===a){s+=4;continue}}s+=r?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function vv(n,t,e=!1){for(let i=0;i<t.length;i++)if(oE(n,t[i],e))return!0;return!1}function yv(n,t){return n?":not("+t.trim()+")":t}function fE(n){let t=n[0],e=1,i=2,s="",r=!1;for(;e<n.length;){let a=n[e];if("string"==typeof a)if(2&i){const o=n[++e];s+="["+a+(o.length>0?'="'+o+'"':"")+"]"}else 8&i?s+="."+a:4&i&&(s+=" "+a);else""!==s&&!us(a)&&(t+=yv(r,s),s=""),i=a,r=r||!us(i);e++}return""!==s&&(t+=yv(r,s)),t}const be={};function F(n){_v(ot(),K(),Pe()+n,hi())}function _v(n,t,e,i){if(!i)if(3==(3&t[2])){const r=n.preOrderCheckHooks;null!==r&&Hn(t,r,e)}else{const r=n.preOrderHooks;null!==r&&nu(t,r,0,e)}Rr(e)}function Ds(n,t){return n<<17|t<<2}function Se(n){return n>>17&32767}function Ut(n){return 2|n}function lr(n){return(131068&n)>>2}function Ts(n,t){return-131069&n|t<<2}function kf(n){return 1|n}function Dv(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i],r=e[i+1];if(-1!==r){const a=n.data[r];kd(s),a.contentQueries(2,t[r],r)}}}function Wl(n,t,e,i,s,r,a,o,l,h){const d=t.blueprint.slice();return d[0]=s,d[2]=140|i,vl(d),d[3]=d[15]=n,d[8]=e,d[10]=a||n&&n[10],d[11]=o||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=h||n&&n[9]||null,d[6]=r,d[16]=2==t.type?n[16]:d,d}function Ao(n,t,e,i,s){let r=n.data[t];if(null===r)r=function(n,t,e,i,s){const r=yl(),a=Zc(),l=n.data[t]=function(n,t,e,i,s,r){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?r:r&&r.parent,e,t,i,s);return null===n.firstChild&&(n.firstChild=l),null!==r&&(a?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l)),l}(n,t,e,i,s),De.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=e,r.value=i,r.attrs=s;const a=function(){const n=De.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();r.injectorIndex=null===a?-1:a.injectorIndex}return ws(r,!0),r}function Do(n,t,e,i){if(0===e)return-1;const s=t.length;for(let r=0;r<e;r++)t.push(i),n.blueprint.push(i),n.data.push(null);return s}function zl(n,t,e){eu(t);try{const i=n.viewQuery;null!==i&&Ff(1,i,e);const s=n.template;null!==s&&Tv(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Dv(n,t),n.staticViewQueries&&Ff(2,n.viewQuery,e);const r=n.components;null!==r&&function(n,t){for(let e=0;e<t.length;e++)UE(n,t[e])}(t,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,sr()}}function To(n,t,e,i){const s=t[2];if(256==(256&s))return;eu(t);const r=hi();try{vl(t),function(n){De.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Tv(n,t,e,2,i);const a=3==(3&s);if(!r)if(a){const h=n.preOrderCheckHooks;null!==h&&Hn(t,h,null)}else{const h=n.preOrderHooks;null!==h&&nu(t,h,0,null),Dd(t,0)}if(function(n){for(let t=Xd(n);null!==t;t=bu(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const s=e[i],r=s[3];0==(1024&s[2])&&Qc(r,1),s[2]|=1024}}}(t),function(n){for(let t=Xd(n);null!==t;t=bu(t))for(let e=10;e<t.length;e++){const i=t[e],s=i[1];Sd(i)&&To(s,i,s.template,i[8])}}(t),null!==n.contentQueries&&Dv(n,t),!r)if(a){const h=n.contentCheckHooks;null!==h&&Hn(t,h)}else{const h=n.contentHooks;null!==h&&nu(t,h,1),Dd(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)Rr(~s);else{const r=s,a=e[++i],o=e[++i];_l(a,r),o(2,t[r])}}}finally{Rr(-1)}}(n,t);const o=n.components;null!==o&&function(n,t){for(let e=0;e<t.length;e++)qE(n,t[e])}(t,o);const l=n.viewQuery;if(null!==l&&Ff(2,l,i),!r)if(a){const h=n.viewCheckHooks;null!==h&&Hn(t,h)}else{const h=n.viewHooks;null!==h&&nu(t,h,2),Dd(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Qc(t[3],-1))}finally{sr()}}function PE(n,t,e,i){const s=t[10],r=!hi(),a=Jg(t);try{r&&!a&&s.begin&&s.begin(),a&&zl(n,t,i),To(n,t,e,i)}finally{r&&!a&&s.end&&s.end()}}function Tv(n,t,e,i,s){const r=Pe(),a=2&i;try{Rr(-1),a&&t.length>20&&_v(n,t,20,hi()),e(i,s)}finally{Rr(r)}}function xv(n,t,e){if(pl(t)){const s=t.directiveEnd;for(let r=t.directiveStart;r<s;r++){const a=n.data[r];a.contentQueries&&a.contentQueries(1,e[r],r)}}}function Kl(n,t,e){!co()||(function(n,t,e,i){const s=e.directiveStart,r=e.directiveEnd;n.firstCreatePass||En(e,t),Ri(i,t);const a=e.initialInputs;for(let o=s;o<r;o++){const l=n.data[o],h=ns(l);h&&BE(t,e,l);const d=mo(t,n,o,e);Ri(d,t),null!==a&&$E(0,o-s,d,l,0,a),h&&(bn(e.index,t)[8]=d)}}(n,t,e,Ue(e,t)),128==(128&e.flags)&&function(n,t,e){const i=e.directiveStart,s=e.directiveEnd,a=e.index,o=De.lFrame.currentDirectiveIndex;try{Rr(a);for(let l=i;l<s;l++){const h=n.data[l],d=t[l];uo(l),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&Vv(h,d)}}finally{Rr(-1),uo(o)}}(n,t,e))}function Mf(n,t,e=Ue){const i=t.localNames;if(null!==i){let s=t.index+1;for(let r=0;r<i.length;r+=2){const a=i[r+1],o=-1===a?e(t,n):n[a];n[s++]=o}}}function Nu(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Lu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Lu(n,t,e,i,s,r,a,o,l,h){const d=20+i,m=d+s,y=function(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:be);return e}(d,m),S="function"==typeof h?h():h;return y[1]={type:n,blueprint:y,template:e,queries:null,viewQuery:o,declTNode:t,data:y.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:S,incompleteFirstPass:!1}}function Rv(n,t,e,i){const s=Uv(t);null===e?s.push(i):(s.push(e),n.firstCreatePass&&$u(n).push(i,s.length-1))}function Iv(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,s):e[i]=[t,s]}return e}function Dn(n,t,e,i,s,r,a,o){const l=Ue(t,e);let d,h=t.inputs;!o&&null!=h&&(d=h[i])?(Gv(n,e,d,i,s),ao(t)&&function(n,t){const e=bn(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=a?a(s,t.value||"",i):s,Nt(r)?r.setProperty(l,i,s):xd(i)||(l.setProperty?l.setProperty(i,s):l[i]=s))}function Rf(n,t,e,i){let s=!1;if(co()){const r=function(n,t,e){const i=n.directiveRegistry;let s=null;if(i)for(let r=0;r<i.length;r++){const a=i[r];vv(e,a.selectors,!1)&&(s||(s=[]),au(En(e,t),n,a.type),ns(a)?(Fv(n,e),s.unshift(a)):s.push(a))}return s}(n,t,e),a=null===i?null:{"":-1};if(null!==r){s=!0,If(e,n.data.length,r.length);for(let d=0;d<r.length;d++){const m=r[d];m.providersResolver&&m.providersResolver(m)}let o=!1,l=!1,h=Do(n,t,r.length,null);for(let d=0;d<r.length;d++){const m=r[d];e.mergedAttrs=su(e.mergedAttrs,m.hostAttrs),Of(n,e,t,h,m),LE(h,m,a),null!==m.contentQueries&&(e.flags|=8),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(e.flags|=128);const y=m.type.prototype;!o&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),o=!0),!l&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),h++}!function(n,t){const i=t.directiveEnd,s=n.data,r=t.attrs,a=[];let o=null,l=null;for(let h=t.directiveStart;h<i;h++){const d=s[h],m=d.inputs,y=null===r||Mu(t)?null:VE(m,r);a.push(y),o=Iv(m,h,o),l=Iv(d.outputs,h,l)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=o,t.outputs=l}(n,e)}a&&function(n,t,e){if(t){const i=n.localNames=[];for(let s=0;s<t.length;s+=2){const r=e[t[s+1]];if(null==r)throw new Ar("301",`Export of name '${t[s+1]}' not found!`);i.push(t[s],r)}}}(e,i,a)}return e.mergedAttrs=su(e.mergedAttrs,e.attrs),s}function $v(n,t,e,i,s,r){const a=r.hostBindings;if(a){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const l=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=l&&o.push(l),o.push(i,s,a)}}function Vv(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Fv(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function LE(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;ns(t)&&(e[""]=n)}}function If(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Of(n,t,e,i,s){n.data[i]=s;const r=s.factory||(s.factory=ca(s.type)),a=new wn(r,ns(s),null);n.blueprint[i]=a,e[i]=a,$v(n,t,0,i,Do(n,e,s.hostVars,be),s)}function BE(n,t,e){const i=Ue(t,n),s=Nu(e),r=n[10],a=Bu(n,Wl(n,s,null,e.onPush?64:16,i,t,r,r.createRenderer(i,e),null,null));n[t.index]=a}function Ms(n,t,e,i,s,r){const a=Ue(n,t);!function(n,t,e,i,s,r,a){if(null==r)Nt(n)?n.removeAttribute(t,s,e):t.removeAttribute(s);else{const o=null==a?Oe(r):a(r,i||"",s);Nt(n)?n.setAttribute(t,s,o,e):e?t.setAttributeNS(e,s,o):t.setAttribute(s,o)}}(t[11],a,r,n.value,e,i,s)}function $E(n,t,e,i,s,r){const a=r[t];if(null!==a){const o=i.setInput;for(let l=0;l<a.length;){const h=a[l++],d=a[l++],m=a[l++];null!==o?i.setInput(e,m,h,d):e[d]=m}}}function VE(n,t){let e=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,n[s],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Hv(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function qE(n,t){const e=bn(t,n);if(Sd(e)){const i=e[1];80&e[2]?To(i,e,i.template,e[8]):e[5]>0&&Lf(e)}}function Lf(n){for(let i=Xd(n);null!==i;i=bu(i))for(let s=10;s<i.length;s++){const r=i[s];if(1024&r[2]){const a=r[1];To(a,r,a.template,r[8])}else r[5]>0&&Lf(r)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const s=bn(e[i],n);Sd(s)&&s[5]>0&&Lf(s)}}function UE(n,t){const e=bn(t,n),i=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),zl(i,e,e[8])}function Bu(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Bf(n){for(;n;){n[2]|=64;const t=Nl(n);if(md(n)&&!t)return n;n=t}return null}function Vf(n,t,e){const i=t[10];i.begin&&i.begin();try{To(n,t,n.template,e)}catch(s){throw qf(t,s),s}finally{i.end&&i.end()}}function qv(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=as(e),s=i[1];PE(s,i,s.template,e)}}(n[8])}function Ff(n,t,e){kd(0),t(n,e)}const KE=(()=>Promise.resolve(null))();function Uv(n){return n[7]||(n[7]=[])}function $u(n){return n.cleanup||(n.cleanup=[])}function qf(n,t){const e=n[9],i=e?e.get(Na,null):null;i&&i.handleError(t)}function Gv(n,t,e,i,s){for(let r=0;r<e.length;){const a=e[r++],o=e[r++],l=t[a],h=n.data[a];null!==h.setInput?h.setInput(l,s,i,o):l[o]=s}}function cr(n,t,e){const i=ha(t,n);!function(n,t,e){Nt(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function Vu(n,t,e){let i=e?n.styles:null,s=e?n.classes:null,r=0;if(null!==t)for(let a=0;a<t.length;a++){const o=t[a];"number"==typeof o?r=o:1==r?s=sd(s,o):2==r&&(i=sd(i,o+": "+t[++a]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=s:n.classesWithoutHost=s}const Mo=new we("INJECTOR",-1);class Qi{get(t,e=_o){if(e===_o){const i=new Error(`NullInjectorError: No provider for ${Ge(t)}!`);throw i.name="NullInjectorError",i}return e}}const Ba=new we("Set Injector scope."),Ql={},YE={};let Gf;function jv(){return void 0===Gf&&(Gf=new Qi),Gf}function Wv(n,t=null,e=null,i){return new Wf(n,e,t||jv(),i)}class Wf{constructor(t,e,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&Es(e,o=>this.processProvider(o,t,e)),Es([t],o=>this.processInjectorType(o,[],r)),this.records.set(Mo,$a(void 0,this));const a=this.records.get(Ba);this.scope=null!=a?a.value:null,this.source=s||("object"==typeof t?null:Ge(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=_o,i=Ee.Default){this.assertNotDestroyed();const s=Aa(this),r=er(void 0);try{if(!(i&Ee.SkipSelf)){let o=this.records.get(t);if(void 0===o){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof we}(t)&&Xs(t);o=l&&this.injectableDefInScope(l)?$a(zf(t),Ql):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(i&Ee.Self?jv():this.parent).get(t,e=i&Ee.Optional&&e===_o?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Ca]=a[Ca]||[]).unshift(Ge(t)),s)throw a;return Cm(a,t,"R3InjectorError",this.source)}throw a}finally{er(r),Aa(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,s)=>t.push(Ge(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=ye(t)))return!1;let s=ld(t);const r=null==s&&t.ngModule||void 0,a=void 0===r?t:r,o=-1!==i.indexOf(a);if(void 0!==r&&(s=ld(r)),null==s)return!1;if(null!=s.imports&&!o){let d;i.push(a);try{Es(s.imports,m=>{this.processInjectorType(m,e,i)&&(void 0===d&&(d=[]),d.push(m))})}finally{}if(void 0!==d)for(let m=0;m<d.length;m++){const{ngModule:y,providers:S}=d[m];Es(S,k=>this.processProvider(k,y,S||bt))}}this.injectorDefTypes.add(a);const l=ca(a)||(()=>new a);this.records.set(a,$a(l,Ql));const h=s.providers;if(null!=h&&!o){const d=t;Es(h,m=>this.processProvider(m,d,h))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,i){let s=Vr(t=ye(t))?t:ye(t&&t.provide);const r=function(n,t,e){return Kv(n)?$a(void 0,n.useValue):$a(zv(n),Ql)}(t);if(Vr(t)||!0!==t.multi)this.records.get(s);else{let a=this.records.get(s);a||(a=$a(void 0,Ql,!0),a.factory=()=>Da(a.multi),this.records.set(s,a)),s=t,a.multi.push(t)}this.records.set(s,r)}hydrate(t,e){return e.value===Ql&&(e.value=YE,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ye(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function zf(n){const t=Xs(n),e=null!==t?t.factory:ca(n);if(null!==e)return e;if(n instanceof we)throw new Error(`Token ${Ge(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const i=function(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?");throw new Error(`Can't resolve all parameters for ${Ge(n)}: (${i.join(", ")}).`)}const e=function(n){const t=n&&(n[io]||n[ud]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function zv(n,t,e){let i;if(Vr(n)){const s=ye(n);return ca(s)||zf(s)}if(Kv(n))i=()=>ye(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Da(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>q(ye(n.useExisting));else{const s=ye(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return ca(s)||zf(s);i=()=>new s(...Da(n.deps))}return i}function $a(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Kv(n){return null!==n&&"object"==typeof n&&Hd in n}function Vr(n){return"function"==typeof n}const Qv=function(n,t,e){return function(n,t=null,e=null,i){const s=Wv(n,t,e,i);return s._resolveInjectorDefTypes(),s}({name:e},t,n,e)};let Dt=(()=>{class n{static create(e,i){return Array.isArray(e)?Qv(e,i,""):Qv(e.providers,e.parent,e.name||"")}}return n.THROW_IF_NOT_FOUND=_o,n.NULL=new Qi,n.\u0275prov=he({token:n,providedIn:"any",factory:()=>q(Mo)}),n.__NG_ELEMENT_ID__=-1,n})();function wq(n,t){iu(as(n)[1],Qt())}function Bt(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let s;if(ns(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(e){i.push(s);const a=n;a.inputs=h0(n.inputs),a.declaredInputs=h0(n.declaredInputs),a.outputs=h0(n.outputs);const o=s.hostBindings;o&&Pq(n,o);const l=s.viewQuery,h=s.contentQueries;if(l&&kq(n,l),h&&Cq(n,h),Vc(n.inputs,s.inputs),Vc(n.declaredInputs,s.declaredInputs),Vc(n.outputs,s.outputs),ns(s)&&s.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let a=0;a<r.length;a++){const o=r[a];o&&o.ngInherit&&o(n),o===Bt&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=t+=s.hostVars,s.hostAttrs=su(s.hostAttrs,e=su(e,s.hostAttrs))}}(i)}function h0(n){return n===no?{}:n===bt?[]:n}function kq(n,t){const e=n.viewQuery;n.viewQuery=e?(i,s)=>{t(i,s),e(i,s)}:t}function Cq(n,t){const e=n.contentQueries;n.contentQueries=e?(i,s,r)=>{t(i,s,r),e(i,s,r)}:t}function Pq(n,t){const e=n.hostBindings;n.hostBindings=e?(i,s)=>{t(i,s),e(i,s)}:t}let ey=null;function Fu(){if(!ey){const n=dt.Symbol;if(n&&n.iterator)ey=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(ey=i)}}}return ey}class hr{constructor(t){this.wrapped=t}static wrap(t){return new hr(t)}static unwrap(t){return hr.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof hr}}function Zf(n){return!!d0(n)&&(Array.isArray(n)||!(n instanceof Map)&&Fu()in n)}function d0(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Hr(n,t,e){return n[t]=e}function ln(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Yl(n,t,e,i){const s=ln(n,t,e);return ln(n,t+1,i)||s}function dr(n,t,e,i){const s=K();return ln(s,xr(),t)&&(ot(),Ms(qt(),s,n,t,e,i)),dr}function qu(n,t,e,i){return ln(n,xr(),e)?t+Oe(e)+i:be}function Re(n,t,e,i,s,r,a,o){const l=K(),h=ot(),d=n+20,m=h.firstCreatePass?function(n,t,e,i,s,r,a,o,l){const h=t.consts,d=Ao(t,n,4,a||null,Ui(h,o));Rf(t,e,d,Ui(h,l)),iu(t,d);const m=d.tViews=Lu(2,d,i,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h);return null!==t.queries&&(t.queries.template(t,d),m.queries=t.queries.embeddedTView(d)),d}(d,h,l,t,e,i,s,r,a):h.data[d];ws(m,!1);const y=l[11].createComment("");ku(h,l,y,m),Ri(y,l),Bu(l,l[d]=Hv(y,l,y,m)),gl(m)&&Kl(h,l,m),null!=a&&Mf(l,m,o)}function $(n,t=Ee.Default){const e=K();return null===e?q(n,t):ar(Qt(),e,ye(n),t)}function z(n,t,e){const i=K();return ln(i,xr(),t)&&Dn(ot(),qt(),i,n,t,i[11],e,!1),z}function v0(n,t,e,i,s){const a=s?"class":"style";Gv(n,e,t.inputs[a],a,i)}function p(n,t,e,i){const s=K(),r=ot(),a=20+n,o=s[11],l=s[a]=tf(o,t,De.lFrame.currentNamespace),h=r.firstCreatePass?function(n,t,e,i,s,r,a){const o=t.consts,h=Ao(t,n,2,s,Ui(o,r));return Rf(t,e,h,Ui(o,a)),null!==h.attrs&&Vu(h,h.attrs,!1),null!==h.mergedAttrs&&Vu(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(a,r,s,0,t,e,i):r.data[a];ws(h,!0);const d=h.mergedAttrs;null!==d&&tn(o,l,d);const m=h.classes;null!==m&&Pu(o,l,m);const y=h.styles;null!==y&&df(o,l,y),64!=(64&h.flags)&&ku(r,s,l,h),0===De.lFrame.elementDepthCount&&Ri(l,s),De.lFrame.elementDepthCount++,gl(h)&&(Kl(r,s,h),xv(r,h,s)),null!==i&&Mf(s,h)}function g(){let n=Qt();Zc()?wd():(n=n.parent,ws(n,!1));const t=n;De.lFrame.elementDepthCount--;const e=ot();e.firstCreatePass&&(iu(e,n),pl(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&v0(e,t,K(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&v0(e,t,K(),t.stylesWithoutHost,!1)}function ie(n,t,e,i){p(n,t,e,i),g()}function ny(n,t,e){const i=K(),s=ot(),r=n+20,a=s.firstCreatePass?function(n,t,e,i,s){const r=t.consts,a=Ui(r,i),o=Ao(t,n,8,"ng-container",a);return null!==a&&Vu(o,a,!0),Rf(t,e,o,Ui(r,s)),null!==t.queries&&t.queries.elementStart(t,o),o}(r,s,i,t,e):s.data[r];ws(a,!0);const o=i[r]=i[11].createComment("");ku(s,i,o,a),Ri(o,i),gl(a)&&(Kl(s,i,a),xv(s,a,i)),null!=e&&Mf(i,a)}function sy(){let n=Qt();const t=ot();Zc()?wd():(n=n.parent,ws(n,!1)),t.firstCreatePass&&(iu(t,n),pl(n)&&t.queries.elementEnd(n))}function qr(){return K()}function ry(n){return!!n&&"function"==typeof n.then}const y0=function(n){return!!n&&"function"==typeof n.subscribe};function We(n,t,e,i){const s=K(),r=ot(),a=Qt();return function(n,t,e,i,s,r,a,o){const l=gl(i),d=n.firstCreatePass&&$u(n),m=t[8],y=Uv(t);let S=!0;if(3&i.type||o){const P=Ue(i,t),N=o?o(P):P,I=y.length,H=o?O=>o(si(O[i.index])):i.index;if(Nt(e)){let O=null;if(!o&&l&&(O=function(n,t,e,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const a=s[r];if(a===e&&s[r+1]===i){const o=t[7],l=s[r+2];return o.length>l?o[l]:null}"string"==typeof a&&(r+=2)}return null}(n,t,s,i.index)),null!==O)(O.__ngLastListenerFn__||O).__ngNextListenerFn__=r,O.__ngLastListenerFn__=r,S=!1;else{r=_0(i,t,m,r,!1);const G=e.listen(N,s,r);y.push(r,G),d&&d.push(s,H,I,I+1)}}else r=_0(i,t,m,r,!0),N.addEventListener(s,r,a),y.push(r),d&&d.push(s,H,I,a)}else r=_0(i,t,m,r,!1);const k=i.outputs;let T;if(S&&null!==k&&(T=k[s])){const P=T.length;if(P)for(let N=0;N<P;N+=2){const Q=t[T[N]][T[N+1]].subscribe(r),ae=y.length;y.push(r,Q),d&&d.push(s,i.index,ae,-(ae+1))}}}(r,s,s[11],a,n,t,!!e,i),We}function HN(n,t,e,i){try{return!1!==e(i)}catch(s){return qf(n,s),!1}}function _0(n,t,e,i,s){return function r(a){if(a===Function)return i;const o=2&n.flags?bn(n.index,t):t;0==(32&t[2])&&Bf(o);let l=HN(t,0,i,a),h=r.__ngNextListenerFn__;for(;h;)l=HN(t,0,h,a)&&l,h=h.__ngNextListenerFn__;return s&&!1===l&&(a.preventDefault(),a.returnValue=!1),l}}function ze(n=1){return function(n){return(De.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,De.lFrame.contextLView))[8]}(n)}function ep(n,t,e,i,s){const r=K(),a=qu(r,t,e,i);return a!==be&&Dn(ot(),qt(),r,n,a,r[11],s,!1),ep}function XN(n,t,e,i,s){const r=n[e+1],a=null===t;let o=i?Se(r):lr(r),l=!1;for(;0!==o&&(!1===l||a);){const d=n[o+1];hU(n[o],t)&&(l=!0,n[o+1]=i?kf(d):Ut(d)),o=i?Se(d):lr(d)}l&&(n[e+1]=i?Ut(r):kf(r))}function hU(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ka(n,t)>=0}const Ci={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function eL(n){return n.substring(Ci.key,Ci.keyEnd)}function tL(n,t){const e=Ci.textEnd;return e===t?-1:(t=Ci.keyEnd=function(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Ci.key=t,e),Ju(n,t,e))}function Ju(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function tp(n,t,e){return fr(n,t,e,!1),tp}function Jl(n,t){return fr(n,t,null,!0),Jl}function Os(n){!function(n,t,e,i){const s=ot(),r=Sn(2);s.firstUpdatePass&&oL(s,null,r,i);const a=K();if(e!==be&&ln(a,r,e)){const o=s.data[Pe()];if(hL(o,i)&&!aL(s,r)){let l=i?o.classesWithoutHost:o.stylesWithoutHost;null!==l&&(e=sd(l,e||"")),v0(s,o,a,e,i)}else!function(n,t,e,i,s,r,a,o){s===be&&(s=bt);let l=0,h=0,d=0<s.length?s[0]:null,m=0<r.length?r[0]:null;for(;null!==d||null!==m;){const y=l<s.length?s[l+1]:void 0,S=h<r.length?r[h+1]:void 0;let T,k=null;d===m?(l+=2,h+=2,y!==S&&(k=m,T=S)):null===m||null!==d&&d<m?(l+=2,k=d):(h+=2,k=m,T=S),null!==k&&cL(n,t,e,i,k,T,a,o),d=l<s.length?s[l]:null,m=h<r.length?r[h]:null}}(s,o,a,a[11],a[r+1],a[r+1]=function(n,t,e){if(null==e||""===e)return bt;const i=[],s=An(e);if(Array.isArray(s))for(let r=0;r<s.length;r++)n(i,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&n(i,r,s[r]);else"string"==typeof s&&t(i,s);return i}(n,t,e),i,r)}}(Cn,Gr,n,!0)}function Gr(n,t){for(let e=function(n){return function(n){Ci.key=0,Ci.keyEnd=0,Ci.value=0,Ci.valueEnd=0,Ci.textEnd=n.length}(n),tL(n,Ju(n,0,Ci.textEnd))}(t);e>=0;e=tL(t,e))Cn(n,eL(t),!0)}function fr(n,t,e,i){const s=K(),r=ot(),a=Sn(2);r.firstUpdatePass&&oL(r,n,a,i),t!==be&&ln(s,a,t)&&cL(r,r.data[Pe()],s,s[11],n,s[a+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Ge(An(n)))),n}(t,e),i,a)}function aL(n,t){return t>=n.expandoStartIndex}function oL(n,t,e,i){const s=n.data;if(null===s[e+1]){const r=s[Pe()],a=aL(n,e);hL(r,i)&&null===t&&!a&&(t=!1),t=function(n,t,e,i){const s=function(n){const t=De.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let r=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(e=ip(e=b0(null,n,t,e,i),t.attrs,i),r=null);else{const a=t.directiveStylingLast;if(-1===a||n[a]!==s)if(e=b0(s,n,t,e,i),null===r){let l=function(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==lr(i))return n[Se(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=b0(null,n,t,l[1],i),l=ip(l,t.attrs,i),function(n,t,e,i){n[Se(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else r=function(n,t,e){let i;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)i=ip(i,n[r].hostAttrs,e);return ip(i,t.attrs,e)}(n,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),e}(s,r,t,i),function(n,t,e,i,s,r){let a=r?t.classBindings:t.styleBindings,o=Se(a),l=lr(a);n[i]=e;let d,h=!1;if(Array.isArray(e)){const m=e;d=m[1],(null===d||ka(m,d)>0)&&(h=!0)}else d=e;if(s)if(0!==l){const y=Se(n[o+1]);n[i+1]=Ds(y,o),0!==y&&(n[y+1]=Ts(n[y+1],i)),n[o+1]=function(n,t){return 131071&n|t<<17}(n[o+1],i)}else n[i+1]=Ds(o,0),0!==o&&(n[o+1]=Ts(n[o+1],i)),o=i;else n[i+1]=Ds(l,0),0===o?o=i:n[l+1]=Ts(n[l+1],i),l=i;h&&(n[i+1]=Ut(n[i+1])),XN(n,d,i,!0),XN(n,d,i,!1),function(n,t,e,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof t&&ka(r,t)>=0&&(e[i+1]=kf(e[i+1]))}(t,d,n,i,r),a=Ds(o,l),r?t.classBindings=a:t.styleBindings=a}(s,r,t,e,a,i)}}function b0(n,t,e,i,s){let r=null;const a=e.directiveEnd;let o=e.directiveStylingLast;for(-1===o?o=e.directiveStart:o++;o<a&&(r=t[o],i=ip(i,r.hostAttrs,s),r!==n);)o++;return null!==n&&(e.directiveStylingLast=o),i}function ip(n,t,e){const i=e?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const a=t[r];"number"==typeof a?s=a:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Cn(n,a,!!e||t[++r]))}return void 0===n?null:n}function cL(n,t,e,i,s,r,a,o){if(!(3&t.type))return;const l=n.data,h=l[o+1];ay(function(n){return 1==(1&n)}(h)?uL(l,t,e,s,lr(h),a):void 0)||(ay(r)||function(n){return 2==(2&n)}(h)&&(r=uL(l,null,e,s,o,a)),function(n,t,e,i,s){const r=Nt(n);if(t)s?r?n.addClass(e,i):e.classList.add(i):r?n.removeClass(e,i):e.classList.remove(i);else{let a=-1===i.indexOf("-")?void 0:sn.DashCase;if(null==s)r?n.removeStyle(e,i,a):e.style.removeProperty(i);else{const o="string"==typeof s&&s.endsWith("!important");o&&(s=s.slice(0,-10),a|=sn.Important),r?n.setStyle(e,i,s,a):e.style.setProperty(i,s,o?"important":"")}}}(i,a,ha(Pe(),e),s,r))}function uL(n,t,e,i,s,r){const a=null===t;let o;for(;s>0;){const l=n[s],h=Array.isArray(l),d=h?l[1]:l,m=null===d;let y=e[s+1];y===be&&(y=m?bt:void 0);let S=m?Ea(y,i):d===i?y:void 0;if(h&&!ay(S)&&(S=Ea(l,i)),ay(S)&&(o=S,a))return o;const k=n[s+1];s=a?Se(k):lr(k)}if(null!==t){let l=r?t.residualClasses:t.residualStyles;null!=l&&(o=Ea(l,i))}return o}function ay(n){return void 0!==n}function hL(n,t){return 0!=(n.flags&(t?16:32))}function w(n,t=""){const e=K(),i=ot(),s=n+20,r=i.firstCreatePass?Ao(i,s,1,t,null):i.data[s],a=e[s]=function(n,t){return Nt(n)?n.createText(t):n.createTextNode(t)}(e[11],t);ku(i,e,a,r),ws(r,!1)}function Ni(n){return Pi("",n,""),Ni}function Pi(n,t,e){const i=K(),s=qu(i,n,t,e);return s!==be&&cr(i,Pe(),s),Pi}function np(n,t,e,i,s){const r=K(),a=function(n,t,e,i,s,r){const o=Yl(n,ss(),e,s);return Sn(2),o?t+Oe(e)+i+Oe(s)+r:be}(r,n,t,e,i,s);return a!==be&&cr(r,Pe(),a),np}const Zl=void 0;var jU=["en",[["a","p"],["AM","PM"],Zl],[["AM","PM"],Zl,Zl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zl,"{1} 'at' {0}",Zl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===e?1:5}];let Zu={};function ML(n){return n in Zu||(Zu[n]=dt.ng&&dt.ng.common&&dt.ng.common.locales&&dt.ng.common.locales[n]),Zu[n]}var oe=(()=>((oe=oe||{})[oe.LocaleId=0]="LocaleId",oe[oe.DayPeriodsFormat=1]="DayPeriodsFormat",oe[oe.DayPeriodsStandalone=2]="DayPeriodsStandalone",oe[oe.DaysFormat=3]="DaysFormat",oe[oe.DaysStandalone=4]="DaysStandalone",oe[oe.MonthsFormat=5]="MonthsFormat",oe[oe.MonthsStandalone=6]="MonthsStandalone",oe[oe.Eras=7]="Eras",oe[oe.FirstDayOfWeek=8]="FirstDayOfWeek",oe[oe.WeekendRange=9]="WeekendRange",oe[oe.DateFormat=10]="DateFormat",oe[oe.TimeFormat=11]="TimeFormat",oe[oe.DateTimeFormat=12]="DateTimeFormat",oe[oe.NumberSymbols=13]="NumberSymbols",oe[oe.NumberFormats=14]="NumberFormats",oe[oe.CurrencyCode=15]="CurrencyCode",oe[oe.CurrencySymbol=16]="CurrencySymbol",oe[oe.CurrencyName=17]="CurrencyName",oe[oe.Currencies=18]="Currencies",oe[oe.Directionality=19]="Directionality",oe[oe.PluralCase=20]="PluralCase",oe[oe.ExtraData=21]="ExtraData",oe))();const oy="en-US";let RL=oy;function S0(n){vn(n,"Expected localeId to be defined"),"string"==typeof n&&(RL=n.toLowerCase().replace(/_/g,"-"))}function k0(n,t,e,i,s){if(n=ye(n),Array.isArray(n))for(let r=0;r<n.length;r++)k0(n[r],t,e,i,s);else{const r=ot(),a=K();let o=Vr(n)?n:ye(n.provide),l=zv(n);const h=Qt(),d=1048575&h.providerIndexes,m=h.directiveStart,y=h.providerIndexes>>20;if(Vr(n)||!n.multi){const S=new wn(l,s,$),k=P0(o,t,s?d:d+y,m);-1===k?(au(En(h,a),r,o),C0(r,n,t.length),t.push(o),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(S),a.push(S)):(e[k]=S,a[k]=S)}else{const S=P0(o,t,d+y,m),k=P0(o,t,d,d+y),T=S>=0&&e[S],P=k>=0&&e[k];if(s&&!P||!s&&!T){au(En(h,a),r,o);const N=function(n,t,e,i,s){const r=new wn(n,e,$);return r.multi=[],r.index=t,r.componentProviders=0,n2(r,s,i&&!e),r}(s?qG:HG,e.length,s,i,l);!s&&P&&(e[k].providerFactory=N),C0(r,n,t.length,0),t.push(o),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(N),a.push(N)}else C0(r,n,S>-1?S:k,n2(e[s?k:S],l,!s&&i));!s&&i&&P&&e[k].componentProviders++}}}function C0(n,t,e,i){const s=Vr(t);if(s||function(n){return!!n.useClass}(t)){const a=(t.useClass||t).prototype.ngOnDestroy;if(a){const o=n.destroyHooks||(n.destroyHooks=[]);if(!s&&t.multi){const l=o.indexOf(e);-1===l?o.push(e,[i,a]):o[l+1].push(i,a)}else o.push(e,a)}}}function n2(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function P0(n,t,e,i){for(let s=e;s<i;s++)if(t[s]===n)return s;return-1}function HG(n,t,e,i){return A0(this.multi,[])}function qG(n,t,e,i){const s=this.multi;let r;if(this.providerFactory){const a=this.providerFactory.componentProviders,o=mo(e,e[1],this.providerFactory.index,i);r=o.slice(0,a),A0(s,r);for(let l=a;l<o.length;l++)r.push(o[l])}else r=[],A0(s,r);return r}function A0(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function ht(n,t=[]){return e=>{e.providersResolver=(i,s)=>function(n,t,e){const i=ot();if(i.firstCreatePass){const s=ns(n);k0(e,i.data,i.blueprint,s,!0),k0(t,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,t)}}class s2{}const a2="ngComponent";class jG{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${Ge(n)}. Did you add it to @NgModule.entryComponents?`);return t[a2]=n,t}(t)}}let eh=(()=>{class n{}return n.NULL=new jG,n})();function dy(...n){}function th(n,t){return new $t(Ue(n,t))}const KG=function(){return th(Qt(),K())};let $t=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=KG,n})();function o2(n){return n instanceof $t?n.nativeElement:n}class Xl{}let ec=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>YG(),n})();const YG=function(){const n=K(),e=bn(Qt().index,n);return function(n){return n[11]}(is(e)?e:n)};let T0=(()=>{class n{}return n.\u0275prov=he({token:n,providedIn:"root",factory:()=>null}),n})();class fy{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const l2=new fy("12.2.17");class c2{constructor(){}supports(t){return Zf(t)}create(t){return new e5(t)}}const XG=(n,t)=>t;class e5{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||XG}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,s=0,r=null;for(;e||i;){const a=!i||e&&e.currentIndex<h2(i,s,r)?e:i,o=h2(a,s,r),l=a.currentIndex;if(a===i)s--,i=i._nextRemoved;else if(e=e._next,null==a.previousIndex)s++;else{r||(r=[]);const h=o-s,d=l-s;if(h!=d){for(let y=0;y<h;y++){const S=y<r.length?r[y]:r[y]=0,k=S+y;d<=k&&k<h&&(r[y]=S+1)}r[a.previousIndex]=d-h}}o!==l&&t(a,o,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Zf(t))throw new Error(`Error trying to diff '${Ge(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,r,a,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let o=0;o<this.length;o++)r=t[o],a=this._trackByFn(o,r),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,r,a,o)),Object.is(e.item,r)||this._addIdentityChange(e,r)):(e=this._mismatch(e,r,a,o),i=!0),e=e._next}else s=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Fu()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,o=>{a=this._trackByFn(s,o),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,o,a,s)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,a,s),i=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):t=this._addAfter(new t5(e,i),r,s),t}_verifyReinsertion(t,e,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new u2),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new u2),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class t5{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class i5{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class u2{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new i5,this.map.set(e,i)),i.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function h2(n,t,e){const i=n.previousIndex;if(null===i)return i;let s=0;return e&&i<e.length&&(s=e[i]),i+t+s}class d2{constructor(){}supports(t){return t instanceof Map||d0(t)}create(){return new n5}}class n5{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||d0(t)))throw new Error(`Error trying to diff '${Ge(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(s,i);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const r=s._prev,a=s._next;return r&&(r._next=a),a&&(a._prev=r),s._next=null,s._prev=null,s}const i=new s5(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class s5{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function f2(){return new ih([new c2])}let ih=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||f2()),deps:[[n,new Ta,new di]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=he({token:n,providedIn:"root",factory:f2}),n})();function p2(){return new nh([new d2])}let nh=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||p2()),deps:[[n,new Ta,new di]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=he({token:n,providedIn:"root",factory:p2}),n})();function py(n,t,e,i,s=!1){for(;null!==e;){const r=t[e.index];if(null!==r&&i.push(si(r)),$n(r))for(let o=10;o<r.length;o++){const l=r[o],h=l[1].firstChild;null!==h&&py(l[1],l,h,i)}const a=e.type;if(8&a)py(n,t,e.child,i);else if(32&a){const o=Ol(e,t);let l;for(;l=o();)i.push(l)}else if(16&a){const o=Gm(t,e);if(Array.isArray(o))i.push(...o);else{const l=Nl(t[16]);py(l[1],l,o,i,!0)}}e=s?e.projectionNext:e.next}return i}class lp{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return py(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if($n(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(sf(t,i),wa(e,i))}this._attachedToViewContainer=!1}Vm(this._lView[1],this._lView)}onDestroy(t){Rv(this._lView[1],this._lView,null,t)}markForCheck(){Bf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Vf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){Xc(!0);try{Vf(n,t,e)}finally{Xc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,t){$l(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class a5 extends lp{constructor(t){super(t),this._view=t}detectChanges(){qv(this._view)}checkNoChanges(){!function(n){Xc(!0);try{qv(n)}finally{Xc(!1)}}(this._view)}get context(){return null}}const l5=function(n){return function(n,t,e){if(ao(n)&&!e){const i=bn(n.index,t);return new lp(i,i)}return 47&n.type?new lp(t[16],t):null}(Qt(),K(),16==(16&n))};let gy=(()=>{class n{}return n.__NG_ELEMENT_ID__=l5,n})();const h5=[new d2],f5=new ih([new c2]),p5=new nh(h5),m5=function(){return my(Qt(),K())};let Ns=(()=>{class n{}return n.__NG_ELEMENT_ID__=m5,n})();const v5=Ns,y5=class extends v5{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=Wl(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(i[19]=r.createEmbeddedView(e)),zl(e,i,t),new lp(i)}};function my(n,t){return 4&n.type?new y5(t,n,th(n,t)):null}class tc{}const w5=function(){return v2(Qt(),K())};let Ls=(()=>{class n{}return n.__NG_ELEMENT_ID__=w5,n})();const k5=Ls,g2=class extends k5{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return th(this._hostTNode,this._hostLView)}get injector(){return new Wi(this._hostTNode,this._hostLView)}get parentInjector(){const t=ji(this._hostTNode,this._hostLView);if(am(t)){const e=fo(t,this._hostLView),i=va(t);return new Wi(e[1].data[i+8],e)}return new Wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=m2(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const s=t.createEmbeddedView(e||{});return this.insert(s,i),s}createComponent(t,e,i,s,r){const a=i||this.parentInjector;if(!r&&null==t.ngModule&&a){const l=a.get(tc,null);l&&(r=l)}const o=t.create(a,s,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const i=t._lView,s=i[1];if(function(n){return $n(n[3])}(i)){const d=this.indexOf(t);if(-1!==d)this.detach(d);else{const m=i[3],y=new g2(m,m[6],m[3]);y.detach(y.indexOf(t))}}const r=this._adjustIndex(e),a=this._lContainer;!function(n,t,e,i){const s=10+i,r=e.length;i>0&&(e[s-1][4]=t),i<r-10?(t[4]=e[s],Al(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const a=t[17];null!==a&&e!==a&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(a,t);const o=t[19];null!==o&&o.insertView(n),t[2]|=128}(s,i,a,r);const o=cf(r,a),l=i[11],h=Bl(l,a[7]);return null!==h&&function(n,t,e,i,s,r){i[0]=s,i[6]=t,$l(n,i,e,1,s,r)}(s,a[6],l,i,h,o),t.attachToViewContainerRef(),Al(x0(a),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=m2(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=sf(this._lContainer,e);i&&(wa(x0(this._lContainer),e),Vm(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=sf(this._lContainer,e);return i&&null!=wa(x0(this._lContainer),e)?new lp(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function m2(n){return n[8]}function x0(n){return n[8]||(n[8]=[])}function v2(n,t){let e;const i=t[n.index];if($n(i))e=i;else{let s;if(8&n.type)s=si(i);else{const r=t[11];s=r.createComment("");const a=Ue(n,t);Nr(r,Bl(r,a),s,function(n,t){return Nt(n)?n.nextSibling(t):t.nextSibling}(r,a),!1)}t[n.index]=e=Hv(i,t,s,n),Bu(t,e)}return new g2(e,n,t)}const oh={};class B2 extends eh{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Ti(t);return new V2(e,this.ngModule)}}function $2(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const b6=new we("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Sf});class V2 extends s2{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(n){return n.map(fE).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return $2(this.componentDef.inputs)}get outputs(){return $2(this.componentDef.outputs)}create(t,e,i,s){const r=(s=s||this.ngModule)?function(n,t){return{get:(e,i,s)=>{const r=n.get(e,oh,s);return r!==oh||i===oh?r:t.get(e,i,s)}}}(t,s.injector):t,a=r.get(Xl,_n),o=r.get(T0,null),l=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",d=i?function(n,t,e){if(Nt(n))return n.selectRootElement(t,e===Zt.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):tf(a.createRenderer(null,this.componentDef),h,function(n){const t=n.toLowerCase();return"svg"===t?V:"math"===t?"http://www.w3.org/1998/MathML/":null}(h)),m=this.componentDef.onPush?576:528,y=function(n,t){return{components:[],scheduler:n||Sf,clean:KE,playerHandler:t||null,flags:0}}(),S=Lu(0,null,null,1,0,null,null,null,null,null),k=Wl(null,S,y,m,null,null,a,l,o,r);let T,P;eu(k);try{const N=function(n,t,e,i,s,r){const a=e[1];e[20]=n;const l=Ao(a,20,2,"#host",null),h=l.mergedAttrs=t.hostAttrs;null!==h&&(Vu(l,h,!0),null!==n&&(tn(s,n,h),null!==l.classes&&Pu(s,n,l.classes),null!==l.styles&&df(s,n,l.styles)));const d=i.createRenderer(n,t),m=Wl(e,Nu(t),null,t.onPush?64:16,e[20],l,i,d,r||null,null);return a.firstCreatePass&&(au(En(l,e),a,t.type),Fv(a,l),If(l,e.length,1)),Bu(e,m),e[20]=m}(d,this.componentDef,k,a,l);if(d)if(i)tn(l,d,["ng-version",l2.full]);else{const{attrs:I,classes:H}=function(n){const t=[],e=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&t.push(r,n[++i]):8===s&&e.push(r);else{if(!us(s))break;s=r}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);I&&tn(l,d,I),H&&H.length>0&&Pu(l,d,H.join(" "))}if(P=zc(S,20),void 0!==e){const I=P.projection=[];for(let H=0;H<this.ngContentSelectors.length;H++){const O=e[H];I.push(null!=O?Array.from(O):null)}}T=function(n,t,e,i,s){const r=e[1],a=function(n,t,e){const i=Qt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Of(n,i,t,Do(n,t,1,null),e));const s=mo(t,n,i.directiveStart,i);Ri(s,t);const r=Ue(i,t);return r&&Ri(r,t),s}(r,e,t);if(i.components.push(a),n[8]=a,s&&s.forEach(l=>l(a,t)),t.contentQueries){const l=Qt();t.contentQueries(1,a,l.directiveStart)}const o=Qt();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Rr(o.index),$v(e[1],o,0,o.directiveStart,o.directiveEnd,t),Vv(t,a)),a}(N,this.componentDef,k,y,[wq]),zl(S,k,null)}finally{sr()}return new E6(this.componentType,T,th(P,k),k,P)}}class E6 extends class{}{constructor(t,e,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new a5(s),this.componentType=t}get injector(){return new Wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const lh=new Map;class P6 extends tc{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new B2(this);const i=St(t),s=function(n){return n[BS]||null}(t);s&&S0(s),this._bootstrapComponents=cs(i.bootstrap),this._r3Injector=Wv(t,e,[{provide:tc,useValue:this},{provide:eh,useValue:this.componentFactoryResolver}],Ge(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Dt.THROW_IF_NOT_FOUND,i=Ee.Default){return t===Dt||t===tc||t===Mo?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class U0 extends class{}{constructor(t){super(),this.moduleType=t,null!==St(t)&&function(n){const t=new Set;!function e(i){const s=St(i,!0),r=s.id;null!==r&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Ge(t)} vs ${Ge(t.name)}`)}(r,lh.get(r),i),lh.set(r,i));const a=cs(s.imports);for(const o of a)t.has(o)||(t.add(o),e(o))}(n)}(t)}create(t){return new P6(this.moduleType,t)}}function G2(n,t,e,i,s){return function(n,t,e,i,s,r,a){const o=t+e;return Yl(n,o,s,r)?Hr(n,o+2,a?i.call(a,s,r):i(s,r)):mp(n,o+2)}(K(),Gi(),n,t,e,i,s)}function mp(n,t){const e=n[t];return e===be?void 0:e}function j2(n,t,e,i,s,r){const a=t+e;return ln(n,a,s)?Hr(n,a+1,r?i.call(r,s):i(s)):mp(n,a+1)}function Io(n,t){const e=ot();let i;const s=n+20;e.firstCreatePass?(i=function(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}throw new Ar("302",`The pipe '${n}' could not be found!`)}(t,e.pipeRegistry),e.data[s]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,i.onDestroy)):i=e.data[s];const r=i.factory||(i.factory=ca(i.type)),a=er($);try{const o=po(!1),l=r();return po(o),function(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,K(),s,l),l}finally{er(a)}}function Oo(n,t,e){const i=n+20,s=K(),r=function(n,t){return n[t]}(s,i);return function(n,t){hr.isWrapped(t)&&(t=hr.unwrap(t),n[ss()]=be);return t}(s,function(n,t){return n[1].data[t].pure}(s,i)?j2(s,Gi(),t,r.transform,e,r):r.transform(e))}function G0(n){return t=>{setTimeout(n,void 0,t)}}const mt=class extends tt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var s,r,a;let o=t,l=e||(()=>null),h=i;if(t&&"object"==typeof t){const m=t;o=null===(s=m.next)||void 0===s?void 0:s.bind(m),l=null===(r=m.error)||void 0===r?void 0:r.bind(m),h=null===(a=m.complete)||void 0===a?void 0:a.bind(m)}this.__isAsync&&(l=G0(l),o&&(o=G0(o)),h&&(h=G0(h)));const d=super.subscribe({next:o,error:l,complete:h});return t instanceof nt&&t.add(d),d}};function F6(){return this._results[Fu()]()}class Sy{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Fu(),i=Sy.prototype;i[e]||(i[e]=F6)}get changes(){return this._changes||(this._changes=new mt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const s=kn(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=t[i];if(e&&(s=e(s),r=e(r)),r!==s)return!1}return!0}(i._results,s,e))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class j0{constructor(t){this.queryList=t,this.matches=null}clone(){return new j0(this.queryList)}setDirty(){this.queryList.setDirty()}}class W0{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let r=0;r<i;r++){const a=e.getByIndex(r);s.push(this.queries[a.indexInDeclarationView].clone())}return new W0(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==eB(t,e).matches&&this.queries[e].setDirty()}}class Y2{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class z0{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const s=null!==e?e.length:0,r=this.getByIndex(i).embeddedTView(t,s);r&&(r.indexInDeclarationView=i,null!==e?e.push(r):e=[r])}return null!==e?new z0(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class K0{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new K0(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(t,e,U6(e,r)),this.matchTNodeWithReadOption(t,e,lu(e,t,r,!1,!1))}else i===Ns?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,lu(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===$t||s===Ls||s===Ns&&4&e.type)this.addMatch(e.index,-2);else{const r=lu(e,t,s,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function U6(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function j6(n,t,e,i){return-1===e?function(n,t){return 11&n.type?th(n,t):4&n.type?my(n,t):null}(t,n):-2===e?function(n,t,e){return e===$t?th(t,n):e===Ns?my(t,n):e===Ls?v2(t,n):void 0}(n,t,i):mo(n,n[1],e,t)}function J2(n,t,e,i){const s=t[19].queries[i];if(null===s.matches){const r=n.data,a=e.matches,o=[];for(let l=0;l<a.length;l+=2){const h=a[l];o.push(h<0?null:j6(t,r[h],a[l+1],e.metadata.read))}s.matches=o}return s.matches}function Q0(n,t,e,i){const s=n.queries.getByIndex(e),r=s.matches;if(null!==r){const a=J2(n,t,s,e);for(let o=0;o<r.length;o+=2){const l=r[o];if(l>0)i.push(a[o/2]);else{const h=r[o+1],d=t[-l];for(let m=10;m<d.length;m++){const y=d[m];y[17]===y[3]&&Q0(y[1],y,h,i)}if(null!==d[9]){const m=d[9];for(let y=0;y<m.length;y++){const S=m[y];Q0(S[1],S,h,i)}}}}}return i}function sc(n){const t=K(),e=ot(),i=tm();kd(i+1);const s=eB(e,i);if(n.dirty&&Jg(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?Q0(e,t,i,[]):J2(e,t,s,i);n.reset(r,o2),n.notifyOnChanges()}return!0}return!1}function wy(n,t,e){const i=ot();i.firstCreatePass&&(X2(i,new Y2(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),Z2(i,K(),t)}function Ey(n,t,e,i){const s=ot();if(s.firstCreatePass){const r=Qt();X2(s,new Y2(t,e,i),r.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}Z2(s,K(),e)}function rc(){return function(n,t){return n[19].queries[t].queryList}(K(),tm())}function Z2(n,t,e){const i=new Sy(4==(4&e));Rv(n,t,i,i.destroy),null===t[19]&&(t[19]=new W0),t[19].queries.push(new j0(i))}function X2(n,t,e){null===n.queries&&(n.queries=new z0),n.queries.track(new K0(t,e))}function eB(n,t){return n.queries.getByIndex(t)}const Py=new we("Application Initializer");let uh=(()=>{class n{constructor(e){this.appInits=e,this.resolve=dy,this.reject=dy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const r=this.appInits[s]();if(ry(r))e.push(r);else if(y0(r)){const a=new Promise((o,l)=>{r.subscribe({complete:o,error:l})});e.push(a)}}Promise.all(e).then(()=>{i()}).catch(s=>{this.reject(s)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(q(Py,8))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const bp=new we("AppId"),w8={provide:bp,useFactory:function(){return`${tk()}${tk()}${tk()}`},deps:[]};function tk(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yB=new we("Platform Initializer"),hh=new we("Platform ID"),E8=new we("appBootstrapListener");let ik=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const No=new we("LocaleId"),_B=new we("DefaultCurrencyCode");class C8{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const nk=function(n){return new U0(n)},P8=nk,A8=function(n){return Promise.resolve(nk(n))},bB=function(n){const t=nk(n),i=cs(St(n).declarations).reduce((s,r)=>{const a=Ti(r);return a&&s.push(new V2(a)),s},[]);return new C8(t,i)},D8=bB,T8=function(n){return Promise.resolve(bB(n))};let Dy=(()=>{class n{constructor(){this.compileModuleSync=P8,this.compileModuleAsync=A8,this.compileModuleAndAllComponentsSync=D8,this.compileModuleAndAllComponentsAsync=T8}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const R8=(()=>Promise.resolve(0))();function sk(n){"undefined"==typeof Zone?R8.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ye{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mt(!1),this.onMicrotaskEmpty=new mt(!1),this.onStable=new mt(!1),this.onError=new mt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&e,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let n=dt.requestAnimationFrame,t=dt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(dt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ak(n),n.isCheckStableRunning=!0,rk(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ak(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,r,a,o)=>{try{return SB(n),e.invokeTask(s,r,a,o)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&t(),wB(n)}},onInvoke:(e,i,s,r,a,o,l)=>{try{return SB(n),e.invoke(s,r,a,o,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),wB(n)}},onHasTask:(e,i,s,r)=>{e.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,ak(n),rk(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,i,s,r)=>(e.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ye.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ye.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,s){const r=this._inner,a=r.scheduleEventTask("NgZoneEvent: "+s,t,O8,dy,dy);try{return r.runTask(a,e,i)}finally{r.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const O8={};function rk(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ak(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function SB(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function wB(n){n._nesting--,rk(n)}class B8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mt,this.onMicrotaskEmpty=new mt,this.onStable=new mt,this.onError=new mt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,s){return t.apply(e,i)}}let ok=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ye.assertNotInAngularZone(),sk(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sk(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==r),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:s})}whenStable(e,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,s){return[]}}return n.\u0275fac=function(e){return new(e||n)(q(Ye))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})(),EB=(()=>{class n{constructor(){this._applications=new Map,lk.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return lk.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();class $8{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let lk=new $8,kB=!0,CB=!1;let vr;const AB=new we("AllowMultipleToken");function DB(n,t,e=[]){const i=`Platform: ${t}`,s=new we(i);return(r=[])=>{let a=TB();if(!a||a.injector.get(AB,!1))if(n)n(e.concat(r).concat({provide:s,useValue:!0}));else{const o=e.concat(r).concat({provide:s,useValue:!0},{provide:Ba,useValue:"platform"});!function(n){if(vr&&!vr.destroyed&&!vr.injector.get(AB,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");vr=n.get(xB);const t=n.get(yB,null);t&&t.forEach(e=>e())}(Dt.create({providers:o,name:i}))}return function(n){const t=TB();if(!t)throw new Error("No platform exists!");if(!t.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function TB(){return vr&&!vr.destroyed?vr:null}let xB=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const o=function(n,t){let e;return e="noop"===n?new B8:("zone.js"===n?void 0:n)||new Ye({enableLongStackTrace:(CB=!0,kB),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:Ye,useValue:o}];return o.run(()=>{const h=Dt.create({providers:l,parent:this.injector,name:e.moduleType.name}),d=e.create(h),m=d.injector.get(Na,null);if(!m)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(()=>{const y=o.onError.subscribe({next:S=>{m.handleError(S)}});d.onDestroy(()=>{ck(this._modules,d),y.unsubscribe()})}),function(n,t,e){try{const i=e();return ry(i)?i.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(m,o,()=>{const y=d.injector.get(uh);return y.runInitializers(),y.donePromise.then(()=>(S0(d.injector.get(No,oy)||oy),this._moduleDoBootstrap(d),d))})})}bootstrapModule(e,i=[]){const s=MB({},i);return function(n,t,e){const i=new U0(e);return Promise.resolve(i)}(0,0,e).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(e){const i=e.injector.get(Sp);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${Ge(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(q(Dt))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();function MB(n,t){return Array.isArray(t)?t.reduce(MB,n):Object.assign(Object.assign({},n),t)}let Sp=(()=>{class n{constructor(e,i,s,r,a){this._zone=e,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Xe(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),l=new Xe(h=>{let d;this._zone.runOutsideAngular(()=>{d=this._zone.onStable.subscribe(()=>{Ye.assertNotInAngularZone(),sk(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{Ye.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{d.unsubscribe(),m.unsubscribe()}});this.isStable=Pr(o,l.pipe(n=>$c()(function(n,t){return function(i){let s;s="function"==typeof n?n:function(){return n};const r=Object.create(i,ed);return r.source=i,r.subjectFactory=s,r}}(kS)(n))))}bootstrap(e,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let s;s=e instanceof s2?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const r=function(n){return n.isBoundToModule}(s)?void 0:this._injector.get(tc),o=s.create(Dt.NULL,[],i||s.selector,r),l=o.location.nativeElement,h=o.injector.get(ok,null),d=h&&o.injector.get(EB);return h&&d&&d.registerApplication(l,h),o.onDestroy(()=>{this.detachView(o.hostView),ck(this.components,o),d&&d.unregisterApplication(l)}),this._loadComponent(o),o}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;ck(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(E8,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(q(Ye),q(Dt),q(Na),q(eh),q(uh))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();function ck(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const hj=DB(null,"core",[{provide:hh,useValue:"unknown"},{provide:xB,deps:[Dt]},{provide:EB,deps:[]},{provide:ik,deps:[]}]),mj=[{provide:Sp,useClass:Sp,deps:[Ye,Dt,Na,eh,uh]},{provide:b6,deps:[Ye],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:uh,useClass:uh,deps:[[new di,Py]]},{provide:Dy,useClass:Dy,deps:[]},w8,{provide:ih,useFactory:function(){return f5},deps:[]},{provide:nh,useFactory:function(){return p5},deps:[]},{provide:No,useFactory:function(n){return S0(n=n||"undefined"!=typeof $localize&&$localize.locale||oy),n},deps:[[new yi(No),new di,new Ta]]},{provide:_B,useValue:"USD"}];let yj=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(q(Sp))},n.\u0275mod=ni({type:n}),n.\u0275inj=Kt({providers:mj}),n})(),$y=null;function lc(){return $y}const it=new we("DocumentToken");var _i=(()=>((_i=_i||{})[_i.Zero=0]="Zero",_i[_i.One=1]="One",_i[_i.Two=2]="Two",_i[_i.Few=3]="Few",_i[_i.Many=4]="Many",_i[_i.Other=5]="Other",_i))();const P7=function(n){return function(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=ML(t);if(e)return e;const i=t.split("-")[0];if(e=ML(i),e)return e;if("en"===i)return jU;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[oe.PluralCase]};class Ky{}let tW=(()=>{class n extends Ky{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(P7(i||this.locale)(e)){case _i.Zero:return"zero";case _i.One:return"one";case _i.Two:return"two";case _i.Few:return"few";case _i.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(q(No))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();function g$(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,r]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}let Rk=(()=>{class n{constructor(e,i,s,r){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Zf(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ge(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)($(ih),$(nh),$($t),$(ec))},n.\u0275dir=fe({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class nW{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dp=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((s,r,a)=>{if(null==s.previousIndex){const o=this._viewContainer.createEmbeddedView(this._template,new nW(null,this._ngForOf,-1,-1),null===a?void 0:a),l=new m$(s,o);i.push(l)}else if(null==a)this._viewContainer.remove(null===r?void 0:r);else if(null!==r){const o=this._viewContainer.get(r);this._viewContainer.move(o,a);const l=new m$(s,o);i.push(l)}});for(let s=0;s<i.length;s++)this._perViewChange(i[s].view,i[s].record);for(let s=0,r=this._viewContainer.length;s<r;s++){const a=this._viewContainer.get(s);a.context.index=s,a.context.count=r,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)($(Ls),$(Ns),$(ih))},n.\u0275dir=fe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class m${constructor(t,e){this.record=t,this.view=e}}let ph=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new rW,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){v$("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){v$("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)($(Ls),$(Ns))},n.\u0275dir=fe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class rW{constructor(){this.$implicit=null,this.ngIf=null}}function v$(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ge(t)}'.`)}let Nk=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=_$}transform(e,i=_$){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const s=this.differ.diff(e),r=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function(n,t){return{key:n,value:t}}(a.key,a.currentValue))})),(s||r)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)($(nh,16))},n.\u0275pipe=Xi({name:"keyvalue",type:n,pure:!1}),n})();function _$(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const s=String(e),r=String(i);return s==r?0:s<r?-1:1}let b$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ni({type:n}),n.\u0275inj=Kt({providers:[{provide:Ky,useClass:tW}]}),n})();const S$="browser";class E${}class $k extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){$y||($y=n)}(new $k)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Tp=Tp||document.querySelector("base"),Tp?Tp.getAttribute("href"):null);return null==e?null:function(n){Qy=Qy||document.createElement("a"),Qy.setAttribute("href",n);const t=Qy.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Tp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return g$(document.cookie,t)}}let Qy,Tp=null;const k$=new we("TRANSITION_ID"),VW=[{provide:Py,useFactory:function(n,t,e){return()=>{e.get(uh).donePromise.then(()=>{const i=lc(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let r=0;r<s.length;r++)i.remove(s[r])})}},deps:[k$,it,Dt],multi:!0}];class Vk{static init(){!function(n){lk=n}(new Vk)}addToWindow(t){dt.getAngularTestability=(i,s=!0)=>{const r=t.findTestabilityInTree(i,s);if(null==r)throw new Error("Could not find testability for element.");return r},dt.getAllAngularTestabilities=()=>t.getAllTestabilities(),dt.getAllAngularRootElements=()=>t.getAllRootElements(),dt.frameworkStabilizers||(dt.frameworkStabilizers=[]),dt.frameworkStabilizers.push(i=>{const s=dt.getAllAngularTestabilities();let r=s.length,a=!1;const o=function(l){a=a||l,r--,0==r&&i(a)};s.forEach(function(l){l.whenStable(o)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?lc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let FW=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const xp=new we("EventManagerPlugins");let Jy=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let r=0;r<s.length;r++){const a=s[r];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(q(xp),q(Ye))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();class Fk{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=lc().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let P$=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})(),Mp=(()=>{class n extends P${constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(r=>{const a=this._doc.createElement("style");a.textContent=r,s.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(A$),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(A$))}}return n.\u0275fac=function(e){return new(e||n)(q(it))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();function A$(n){lc().remove(n)}const Hk={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qk=/%COMP%/g;function Zy(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?Zy(n,s,e):(s=s.replace(qk,n),e.push(s))}return e}function x$(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Xy=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Uk(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Zt.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new t9(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case Zt.ShadowDom:return new i9(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=Zy(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(q(Jy),q(Mp),q(bp))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();class Uk{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Hk[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const r=Hk[s];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=Hk[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(sn.DashCase|sn.Important)?t.style.setProperty(e,i,s&sn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&sn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,x$(i)):this.eventManager.addEventListener(t,e,x$(i))}}class t9 extends Uk{constructor(t,e,i,s){super(t),this.component=i;const r=Zy(s+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(qk,n)}(s+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(qk,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class i9 extends Uk{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=Zy(s.id,s.styles,[]);for(let a=0;a<r.length;a++){const o=document.createElement("style");o.textContent=r[a],this.shadowRoot.appendChild(o)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let n9=(()=>{class n extends Fk{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(q(it))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const I$=["alt","control","meta","shift"],u9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},O$={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},h9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let d9=(()=>{class n extends Fk{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const r=n.parseEventName(i),a=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lc().onAndCancel(e,r.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let a="";if(I$.forEach(l=>{const h=i.indexOf(l);h>-1&&(i.splice(h,1),a+=l+".")}),a+=r,0!=i.length||0===r.length)return null;const o={};return o.domEventName=s,o.fullKey=a,o}static getEventFullKey(e){let i="",s=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&O$.hasOwnProperty(t)&&(t=O$[t]))}return u9[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),I$.forEach(r=>{r!=s&&h9[r](e)&&(i+=r+".")}),i+=s,i}static eventCallback(e,i,s){return r=>{n.getEventFullKey(r)===e&&s.runGuarded(()=>i(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(q(it))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const y9=[{provide:hh,useValue:S$},{provide:yB,useValue:function(){$k.makeCurrent(),Vk.init()},multi:!0},{provide:it,useFactory:function(){return function(n){Ne=n}(document),document},deps:[]}],b9=DB(hj,"browser",y9),S9=[[],{provide:Ba,useValue:"root"},{provide:Na,useFactory:function(){return new Na},deps:[]},{provide:xp,useClass:n9,multi:!0,deps:[it,Ye,hh]},{provide:xp,useClass:d9,multi:!0,deps:[it]},[],{provide:Xy,useClass:Xy,deps:[Jy,Mp,bp]},{provide:Xl,useExisting:Xy},{provide:P$,useExisting:Mp},{provide:Mp,useClass:Mp,deps:[it]},{provide:ok,useClass:ok,deps:[Ye]},{provide:Jy,useClass:Jy,deps:[xp,Ye]},{provide:E$,useClass:FW,deps:[]},[]];let zk=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:bp,useValue:e.appId},{provide:k$,useExisting:bp},VW]}}}return n.\u0275fac=function(e){return new(e||n)(q(n,12))},n.\u0275mod=ni({type:n}),n.\u0275inj=Kt({providers:S9,imports:[b$,yj]}),n})();function e_(n,t){return new Xe(e=>{const i=n.length;if(0===i)return void e.complete();const s=new Array(i);let r=0,a=0;for(let o=0;o<i;o++){const l=Ic(n[o]);let h=!1;e.add(l.subscribe({next:d=>{h||(h=!0,a++),s[o]=d},error:d=>e.error(d),complete:()=>{r++,(r===i||!h)&&(a===i&&e.next(t?t.reduce((d,m,y)=>(d[m]=s[y],d),{}):s),e.complete())}}))}})}"undefined"!=typeof window&&window;let L$=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)($(ec),$($t))},n.\u0275dir=fe({type:n}),n})(),cc=(()=>{class n extends L${}return n.\u0275fac=function(){let t;return function(i){return(t||(t=nn(n)))(i||n)}}(),n.\u0275dir=fe({type:n,features:[Bt]}),n})();const jr=new we("NgValueAccessor"),x9={provide:jr,useExisting:kt(()=>t_),multi:!0};let t_=(()=>{class n extends cc{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=nn(n)))(i||n)}}(),n.\u0275dir=fe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&We("change",function(r){return i.onChange(r.target.checked)})("blur",function(){return i.onTouched()})},features:[ht([x9]),Bt]}),n})();const M9={provide:jr,useExisting:kt(()=>Ha),multi:!0},I9=new we("CompositionEventMode");let Ha=(()=>{class n extends L${constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=lc()?lc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)($(ec),$($t),$(I9,8))},n.\u0275dir=fe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&We("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[ht([M9]),Bt]}),n})();function $o(n){return null==n||0===n.length}function B$(n){return null!=n&&"number"==typeof n.length}const hn=new we("NgValidators"),Vo=new we("NgAsyncValidators"),O9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qk{static min(t){return $$(t)}static max(t){return V$(t)}static required(t){return F$(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return $o(n.value)||O9.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>$o(t.value)||!B$(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>B$(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return Fo;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if($o(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return J$(t)}static composeAsync(t){return Z$(t)}}function $$(n){return t=>{if($o(t.value)||$o(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function V$(n){return t=>{if($o(t.value)||$o(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function F$(n){return $o(n.value)?{required:!0}:null}function Fo(n){return null}function W$(n){return null!=n}function z$(n){const t=ry(n)?Ic(n):n;return y0(t),t}function K$(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Q$(n,t){return t.map(e=>e(n))}function Y$(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function J$(n){if(!n)return null;const t=n.filter(W$);return 0==t.length?null:function(e){return K$(Q$(e,t))}}function Yk(n){return null!=n?J$(Y$(n)):null}function Z$(n){if(!n)return null;const t=n.filter(W$);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if(il(t))return e_(t,null);if(nl(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return e_(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return e_(n=1===n.length&&il(n[0])?n[0]:n,null).pipe(ys(e=>t(...e)))}return e_(n,null)}(Q$(e,t).map(z$)).pipe(ys(K$))}}function Jk(n){return null!=n?Z$(Y$(n)):null}function X$(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function e3(n){return n._rawValidators}function t3(n){return n._rawAsyncValidators}function Zk(n){return n?Array.isArray(n)?n:[n]:[]}function i_(n,t){return Array.isArray(n)?n.includes(t):n===t}function i3(n,t){const e=Zk(t);return Zk(n).forEach(s=>{i_(e,s)||e.push(s)}),e}function n3(n,t){return Zk(t).filter(e=>!i_(n,e))}let s3=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Yk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Jk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=fe({type:n}),n})(),Rn=(()=>{class n extends s3{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=nn(n)))(i||n)}}(),n.\u0275dir=fe({type:n,features:[Bt]}),n})();class Ho extends s3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class r3{constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}let uc=(()=>{class n extends r3{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)($(Ho,2))},n.\u0275dir=fe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Jl("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[Bt]}),n})(),hc=(()=>{class n extends r3{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)($(Rn,10))},n.\u0275dir=fe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Jl("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[Bt]}),n})();function Rp(n,t){tC(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&a3(n,t)})}(n,t),function(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&a3(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function r_(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),o_(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function a_(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function tC(n,t){const e=e3(n);null!==t.validator?n.setValidators(X$(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=t3(n);null!==t.asyncValidator?n.setAsyncValidators(X$(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();a_(t._rawValidators,s),a_(t._rawAsyncValidators,s)}function o_(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=e3(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(a=>a!==t.validator);r.length!==s.length&&(e=!0,n.setValidators(r))}}if(null!==t.asyncValidator){const s=t3(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(a=>a!==t.asyncValidator);r.length!==s.length&&(e=!0,n.setAsyncValidators(r))}}}const i=()=>{};return a_(t._rawValidators,i),a_(t._rawAsyncValidators,i),e}function a3(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function l_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Ip="VALID",c_="INVALID",gh="PENDING",Op="DISABLED";function sC(n){return(aC(n)?n.validators:n)||null}function c3(n){return Array.isArray(n)?Yk(n):n||null}function rC(n,t){return(aC(t)?t.asyncValidators:n)||null}function u3(n){return Array.isArray(n)?Jk(n):n||null}function aC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class oC{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=c3(this._rawValidators),this._composedAsyncValidatorFn=u3(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ip}get invalid(){return this.status===c_}get pending(){return this.status==gh}get disabled(){return this.status===Op}get enabled(){return this.status!==Op}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=c3(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=u3(t)}addValidators(t){this.setValidators(i3(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(i3(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(n3(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(n3(t,this._rawAsyncValidators))}hasValidator(t){return i_(this._rawValidators,t)}hasAsyncValidator(t){return i_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=gh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Op,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ip,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ip||this.status===gh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Op:Ip}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=gh,this._hasOwnPendingAsyncValidator=!0;const e=z$(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=i instanceof $i?i.controls.hasOwnProperty(s)?i.controls[s]:null:i instanceof u_&&i.at(s)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new mt,this.statusChanges=new mt}_calculateStatus(){return this._allControlsDisabled()?Op:this.errors?c_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gh)?gh:this._anyControlsHaveStatus(c_)?c_:Ip}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){aC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ee extends oC{constructor(t=null,e,i){super(sC(e),rC(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){l_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){l_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class $i extends oC{constructor(t,e,i){super(sC(e),rC(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof ee?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,r)=>{i=e(i,s,r)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class u_ extends oC{constructor(t,e,i){super(sC(e),rC(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ee?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let g3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=fe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Y9={provide:jr,useExisting:kt(()=>h_),multi:!0};let h_=(()=>{class n extends cc{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=nn(n)))(i||n)}}(),n.\u0275dir=fe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&We("input",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},features:[ht([Y9]),Bt]}),n})();const J9={provide:jr,useExisting:kt(()=>cC),multi:!0};let m3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ni({type:n}),n.\u0275inj=Kt({}),n})(),Z9=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({factory:function(){return new n},token:n,providedIn:m3}),n})(),cC=(()=>{class n extends cc{constructor(e,i,s,r){super(e,i),this._registry=s,this._injector=r,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Ho),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(e){return new(e||n)($(ec),$($t),$(Z9),$(Dt))},n.\u0275dir=fe({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,i){1&e&&We("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ht([J9]),Bt]}),n})();const uC=new we("NgModelWithFormControlWarning"),tz={provide:Rn,useExisting:kt(()=>qa)};let qa=(()=>{class n extends Rn{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new mt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(o_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Rp(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){r_(e.control||null,e,!1),l_(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(r_(i||null,e),s instanceof ee&&(Rp(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function(n,t){tC(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return o_(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tC(this.form,this),this._oldForm&&o_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)($(hn,10),$(Vo,10))},n.\u0275dir=fe({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&We("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ht([tz]),Bt,xt]}),n})();const sz={provide:Ho,useExisting:kt(()=>qo)};let qo=(()=>{class n extends Ho{constructor(e,i,s,r,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new mt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(r=>{r.constructor===Ha?e=r:function(n){return Object.getPrototypeOf(n.constructor)===cc}(r)?i=r:s=r}),s||i||e||null}(0,r)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)($(Rn,13),$(hn,10),$(Vo,10),$(jr,10),$(uC,8))},n.\u0275dir=fe({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ht([sz]),Bt,xt]}),n._ngModelWarningSentOnce=!1,n})();const rz={provide:jr,useExisting:kt(()=>Lp),multi:!0};function b3(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Lp=(()=>{class n extends cc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=this._getOptionId(e);null==i&&this.setProperty("selectedIndex",-1);const s=b3(i,e);this.setProperty("value",s)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=nn(n)))(i||n)}}(),n.\u0275dir=fe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&We("change",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ht([rz]),Bt]}),n})(),fC=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(b3(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)($($t),$(ec),$(Lp,9))},n.\u0275dir=fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const oz={provide:jr,useExisting:kt(()=>pC),multi:!0};function S3(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let pC=(()=>{class n extends cc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const s=e.map(r=>this._getOptionId(r));i=(r,a)=>{r._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,r)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const s=[];if(void 0!==i.selectedOptions){const r=i.selectedOptions;for(let a=0;a<r.length;a++){const o=r.item(a),l=this._getOptionValue(o.value);s.push(l)}}else{const r=i.options;for(let a=0;a<r.length;a++){const o=r.item(a);if(o.selected){const l=this._getOptionValue(o.value);s.push(l)}}}this.value=s,e(s)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=nn(n)))(i||n)}}(),n.\u0275dir=fe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&We("change",function(r){return i.onChange(r.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ht([oz]),Bt]}),n})(),gC=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(S3(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(S3(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)($($t),$(ec),$(pC,9))},n.\u0275dir=fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),E3=(()=>{class n{constructor(){this._validator=Fo}handleChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.createValidator(i),this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=fe({type:n}),n})();const cz={provide:hn,useExisting:kt(()=>d_),multi:!0};let d_=(()=>{class n extends E3{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>V$(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=nn(n)))(i||n)}}(),n.\u0275dir=fe({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;dr("max",null!==(s=i.max)&&void 0!==s?s:null)}},inputs:{max:"max"},features:[ht([cz]),Bt,xt]}),n})();const uz={provide:hn,useExisting:kt(()=>mC),multi:!0};let mC=(()=>{class n extends E3{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>$$(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=nn(n)))(i||n)}}(),n.\u0275dir=fe({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;dr("min",null!==(s=i.min)&&void 0!==s?s:null)}},inputs:{min:"min"},features:[ht([uz]),Bt,xt]}),n})();const hz={provide:hn,useExisting:kt(()=>f_),multi:!0};let f_=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?F$(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=fe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&dr("required",i.required?"":null)},inputs:{required:"required"},features:[ht([hz])]}),n})(),T3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ni({type:n}),n.\u0275inj=Kt({imports:[[m3]]}),n})(),vz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ni({type:n}),n.\u0275inj=Kt({imports:[T3]}),n})(),yz=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:uC,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ni({type:n}),n.\u0275inj=Kt({imports:[T3]}),n})();var yt=Jt(815);function vC(n){let e,t=n.length;for(;0!=t;)e=Math.floor(Math.random()*t),t--,[n[t],n[e]]=[n[e],n[t]];return n}function Yn(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n}function yC(n){return Math.ceil(100*n)/100}function Ft(n,t){let e;return e=n.player==t?n.opponet:n.player,e}function _z(n){var t,e,i,s,r,a,o;return new $i({name:new ee(null!==(t=n.name)&&void 0!==t?t:null,Qk.required),tier1Pets:new ee(null!==(e=n.tier1Pets)&&void 0!==e?e:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier2Pets:new ee(null!==(i=n.tier2Pets)&&void 0!==i?i:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier3Pets:new ee(null!==(s=n.tier3Pets)&&void 0!==s?s:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier4Pets:new ee(null!==(r=n.tier4Pets)&&void 0!==r?r:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier5Pets:new ee(null!==(a=n.tier5Pets)&&void 0!==a?a:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier6Pets:new ee(null!==(o=n.tier6Pets)&&void 0!==o?o:[],n=>n.value&&10!==n.value.length?{length:!0}:null)})}class ne{constructor(){this.multiplier=1,this.multiplierMessage="",this.originalPower=this.power}reset(){this.uses=this.originalUses}}class vh extends ne{constructor(){super(...arguments),this.name="Peanut",this.tier=7,this.equipmentClass="attack",this.power=0}}class p_ extends ne{constructor(){super(...arguments),this.name="Salt",this.tier=4,this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class g_ extends ne{constructor(){super(...arguments),this.name="Cheese",this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class m_ extends ne{constructor(){super(...arguments),this.name="Pepper",this.equipmentClass="shield",this.uses=1,this.originalUses=1,this.power=0,this.originalPower=0}}class v_ extends ne{constructor(){super(),this.name="Fortune Cookie",this.equipmentClass="attack"}}class y_ extends ne{constructor(){super(...arguments),this.name="Dazed",this.equipmentClass="ailment-other"}}class Bp extends ne{constructor(){super(...arguments),this.name="Exposed",this.equipmentClass="ailment-other",this.uses=2,this.originalUses=2}}class dc extends ne{constructor(){super(...arguments),this.name="Crisp",this.equipmentClass="ailment-other"}}class _C extends ne{constructor(){super(...arguments),this.name="Toasty",this.equipmentClass="ailment-other",this.uses=1,this.originalUses=1}}class bC extends ne{constructor(){super(...arguments),this.name="Peanut Butter",this.equipmentClass="attack",this.tier=7,this.power=0,this.uses=1,this.originalUses=1}}class x3 extends ne{constructor(){super(),this.name="Blackberry",this.tier=3,this.equipmentClass="shop"}}class SC extends ne{constructor(){super(...arguments),this.name="Honeydew Melon",this.tier=5,this.equipmentClass="shield",this.power=10,this.originalPower=10,this.uses=1,this.originalUses=1}}class bz extends ne{constructor(){super(...arguments),this.name="Honeydew Melon (Attack)",this.equipmentClass="attack",this.power=5,this.originalPower=5}}class $p extends ne{constructor(){super(...arguments),this.name="Maple Syrup",this.tier=5,this.equipmentClass="shield",this.power=0,this.originalPower=0,this.uses=1,this.originalUses=1}}class wC extends ne{constructor(){super(...arguments),this.name="Maple Syrup (Attack)",this.equipmentClass="attack",this.power=0,this.originalPower=0}}class EC extends ne{constructor(){super(...arguments),this.name="White Okra",this.tier=6,this.equipmentClass="shield",this.power=10,this.originalPower=10,this.uses=2,this.originalUses=2}}class kC extends ne{constructor(){super(...arguments),this.name="Ambrosia",this.tier=4,this.equipmentClass="shield",this.power=8,this.originalPower=8,this.uses=1,this.originalUses=1}}class M3 extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="White Truffle",this.equipmentClass="faint",this.callback=i=>{var s;let r=null===(s=i.friendFaints)||void 0===s?void 0:s.bind(i);i.friendFaints=(a,o,l)=>{var h;if(o==i||(null!=r&&r(a,o,l),l)||"White Truffle"!=(null===(h=i.equipment)||void 0===h?void 0:h.name))return;let d=i.parent.opponent.getHighestAttackPet();d.pet&&d.pet.alive&&(i.jumpAttackPrep(d.pet),i.jumpAttack(d.pet,l,null,d.random),i.removePerk())}}}}class _{constructor(t,e,i){this.logService=t,this.abilityService=e,this.hidden=!1,this.mana=0,this.disabled=!1,this.maxAbilityUses=null,this.abilityUses=0,this.startOfBattleTriggered=!1,this.exp=0,this.originalExp=0,this.faintPet=!1,this.transformed=!1,this.transformedInto=null,this.done=!1,this.seenDead=!1,this.swallowedPets=[],this.toyPet=!1,this.battlesFought=0,this.eggplantTouched=!1,this.cherryTouched=!1,this.parent=i}initPet(t,e,i,s,r){var a,o,l,h,d,m,y,S,k,T,P,N,I,H,O,G,Q,ae,ce,ge,_e,Be,qe,Ze,Wt,zt,X,se,ve,Me,_t,li,It;this.exp=null!=t?t:this.exp,this.health=null!=e?e:this.health*this.level,this.attack=null!=i?i:this.attack*this.level,this.mana=null!=s?s:this.mana,this.originalHealth=this.health,this.originalAttack=this.attack,this.originalMana=this.mana,this.equipment=r,this.originalEquipment=r,this.originalExp=this.exp,this.originalStartOfBattle=this.startOfBattle,this.originalTransform=this.transform,this.originalHurt=this.hurt,this.originalFaint=this.faint,this.originalFriendSummoned=this.friendSummoned,this.originalFriendAheadAttacks=this.friendAheadAttacks,this.originalAdjacentAttacked=this.adjacentAttacked,this.originalFriendAheadFaints=this.friendAheadFaints,this.originalFriendFaints=this.friendFaints,this.originalFriendAteFood=this.friendAteFood,this.originalEatsFood=this.eatsFood,this.originalFriendLostPerk=this.friendLostPerk,this.originalGainedPerk=this.gainedPerk,this.originalFriendGainedPerk=this.friendGainedPerk,this.originalFriendGainedAilment=this.friendGainedAilment,this.originalFriendHurt=this.friendHurt,this.originalFriendTransformed=this.friendTransformed,this.originalFriendAttacks=this.friendAttacks,this.originalBeforeFriendAttacks=this.beforeFriendAttacks,this.originalEnemyAttack=this.enemyAttack,this.originalAfterAttack=this.afterAttack,this.originalAfterFaint=this.afterFaint,this.originalBeforeAttack=this.beforeAttack,this.originalBeforeStartOfBattle=this.beforeStartOfBattle,this.originalAnyoneLevelUp=this.anyoneLevelUp,this.originalEndTurn=this.endTurn,this.originalKnockOut=this.knockOut,this.originalSummoned=this.summoned,this.originalFriendlyToyBroke=this.friendlyToyBroke,this.originalEnemySummoned=this.enemySummoned,this.originalEnemyPushed=this.enemyPushed,this.originalEnemyHurt=this.enemyHurt,this.originalEmptyFrontSpace=this.emptyFrontSpace,this.originalAfterFaint=this.afterFaint,this.originalGainedMana=this.gainedMana,this.originalFriendJumped=this.friendJumped,this.originalEnemyJumped=this.enemyJumped,this.originalEnemyGainedAilment=this.enemyGainedAilment,this.originalFriendGainsHealth=this.friendGainsHealth,this.originalFriendGainedExperience=this.friendGainedExperience;let pi=null===(a=this.faint)||void 0===a?void 0:a.bind(this);(null!=pi||null!=this.afterFaint)&&(this.faintPet=!0),this.faint=(ue,de,Fe)=>{if(null!=pi){if(!this.abilityValidCheck())return;pi(ue,de,Fe)}if(this.abilityValidCheck()&&!this.kitsuneCheck()&&this.mana>0){let yq;yq={priority:this.attack,player:this.parent,callback:()=>{let _q=Ft(ue,this.parent).getRandomPet([],!1,!0,!1,this);null!=_q.pet&&0!=this.mana&&this.snipePet(_q.pet,this.mana,!0,!1,!1,!1,!0)}},this.abilityService.setManaEvent(yq)}};let ct=null===(o=this.startOfBattle)||void 0===o?void 0:o.bind(this);this.startOfBattle=null==ct?null:(ue,de)=>{if(this.abilityValidCheck())return ct(ue,de)};let me=null===(l=this.transform)||void 0===l?void 0:l.bind(this);this.transform=null==me?null:(ue,de)=>{!this.abilityValidCheck()||me(ue,de)};let Di=null===(h=this.endTurn)||void 0===h?void 0:h.bind(this);this.endTurn=null==Di?null:ue=>{!this.abilityValidCheck()||Di(ue)};let vs=null===(d=this.beforeAttack)||void 0===d?void 0:d.bind(this);this.beforeAttack=null==vs?null:(ue,de)=>{!this.abilityValidCheck()||vs(ue,de)};let Nn=null===(m=this.afterAttack)||void 0===m?void 0:m.bind(this);this.afterAttack=null==Nn?null:(ue,de)=>{!this.abilityValidCheck()||Nn(ue,de)};let Zn=null===(y=this.friendAttacks)||void 0===y?void 0:y.bind(this);this.friendAttacks=null==Zn?null:(ue,de,Fe)=>{!this.abilityValidCheck()||Zn(ue,de,Fe)};let tl=null===(S=this.beforeFriendAttacks)||void 0===S?void 0:S.bind(this);this.beforeFriendAttacks=null==tl?null:(ue,de,Fe)=>{!this.abilityValidCheck()||tl(ue,de,Fe)};let Wh=null===(k=this.friendFaints)||void 0===k?void 0:k.bind(this);this.friendFaints=null==Wh?null:(ue,de,Fe)=>{!this.abilityValidCheck()||Wh(ue,de,Fe)};let fS=null===(T=this.friendLostPerk)||void 0===T?void 0:T.bind(this);this.friendLostPerk=null==fS?null:(ue,de,Fe)=>{!this.abilityValidCheck()||fS(ue,de,Fe)};let pg=null===(P=this.gainedPerk)||void 0===P?void 0:P.bind(this);this.gainedPerk=null==pg?null:(ue,de,Fe)=>{!this.abilityValidCheck()||pg(ue,de,Fe)};let pS=null===(N=this.friendGainedPerk)||void 0===N?void 0:N.bind(this);this.friendGainedPerk=null==pS?null:(ue,de,Fe)=>{!this.abilityValidCheck()||pS(ue,de,Fe)};let gS=null===(I=this.eatsFood)||void 0===I?void 0:I.bind(this);this.eatsFood=null==gS?null:(ue,de,Fe)=>{!this.abilityValidCheck()||gS(ue,de,Fe)};let gg=null===(H=this.friendAteFood)||void 0===H?void 0:H.bind(this);this.friendAteFood=null==gg?null:(ue,de,Fe)=>{!this.abilityValidCheck()||gg(ue,de,Fe)};let mg=null===(O=this.beforeStartOfBattle)||void 0===O?void 0:O.bind(this);this.beforeStartOfBattle=null==mg?null:(ue,de)=>{!this.abilityValidCheck()||mg(ue,de)};let mS=null===(G=this.friendHurt)||void 0===G?void 0:G.bind(this);this.friendHurt=null==mS?null:(ue,de,Fe)=>{!this.abilityValidCheck()||mS(ue,de,Fe)};let vS=null===(Q=this.friendTransformed)||void 0===Q?void 0:Q.bind(this);this.friendTransformed=null==vS?null:(ue,de,Fe)=>{!this.abilityValidCheck()||vS(ue,de,Fe)};let Xr=null===(ae=this.friendSummoned)||void 0===ae?void 0:ae.bind(this);this.friendSummoned=null==Xr?null:(ue,de,Fe)=>{!this.abilityValidCheck()||Xr(ue,de,Fe)};let Tc=null===(ce=this.anyoneLevelUp)||void 0===ce?void 0:ce.bind(this);this.anyoneLevelUp=null==Tc?null:(ue,de,Fe)=>{!this.abilityValidCheck()||Tc(ue,de,Fe)};let vg=null===(ge=this.enemyHurt)||void 0===ge?void 0:ge.bind(this);this.enemyHurt=null==vg?null:(ue,de,Fe)=>{!this.abilityValidCheck()||vg(ue,de,Fe)};let yg=null===(_e=this.enemySummoned)||void 0===_e?void 0:_e.bind(this);this.enemySummoned=null==yg?null:(ue,de,Fe)=>{!this.abilityValidCheck()||yg(ue,de,Fe)};let zh=null===(Be=this.emptyFrontSpace)||void 0===Be?void 0:Be.bind(this);this.emptyFrontSpace=null==zh?null:(ue,de)=>{!this.abilityValidCheck()||zh(ue,de)};let _g=null===(qe=this.gainedMana)||void 0===qe?void 0:qe.bind(this);this.gainedMana=null==_g?null:(ue,de)=>{!this.abilityValidCheck()||_g(ue,de)};let bg=null===(Ze=this.friendJumped)||void 0===Ze?void 0:Ze.bind(this);this.friendJumped=null==bg?null:(ue,de,Fe)=>{!this.abilityValidCheck()||bg(ue,de,Fe)};let Sg=null===(Wt=this.enemyJumped)||void 0===Wt?void 0:Wt.bind(this);this.enemyJumped=null==Sg?null:(ue,de,Fe)=>{!this.abilityValidCheck()||Sg(ue,de,Fe)};let wg=null===(zt=this.friendlyToyBroke)||void 0===zt?void 0:zt.bind(this);this.friendlyToyBroke=null==wg?null:(ue,de)=>{!this.abilityValidCheck()||wg(ue,de)};let hq=null===(X=this.enemyPushed)||void 0===X?void 0:X.bind(this);this.enemyPushed=null==hq?null:(ue,de,Fe)=>{!this.abilityValidCheck()||hq(ue,de,Fe)};let dq=null===(se=this.summoned)||void 0===se?void 0:se.bind(this);this.summoned=null==dq?null:(ue,de)=>{dq(ue,de)};let fq=null===(ve=this.knockOut)||void 0===ve?void 0:ve.bind(this);this.knockOut=null==fq?null:(ue,de,Fe)=>{!this.abilityValidCheck()||fq(ue,de,Fe)};let pq=null===(Me=this.enemyGainedAilment)||void 0===Me?void 0:Me.bind(this);this.enemyGainedAilment=null==pq?null:(ue,de,Fe)=>{!this.abilityValidCheck()||pq(ue,de,Fe)};let gq=null===(_t=this.friendGainsHealth)||void 0===_t?void 0:_t.bind(this);this.friendGainsHealth=null==gq?null:(ue,de,Fe)=>{!this.abilityValidCheck()||gq(ue,de,Fe)};let mq=null===(li=this.friendGainedExperience)||void 0===li?void 0:li.bind(this);this.friendGainedExperience=null==mq?null:(ue,de,Fe)=>{!this.abilityValidCheck()||mq(ue,de,Fe)};let vq=null===(It=this.afterFaint)||void 0===It?void 0:It.bind(this);this.afterFaint=null==vq?null:(ue,de,Fe)=>{!this.abilityValidCheck()||vq(ue,de,Fe)},this.setAbilityUses()}abilityValidCheck(){return!(null==this.savedPosition||this.disabled||this.equipment instanceof y_&&(this.logService.createLog({message:`${this.name}'s ability was not activated because of Dazed.`,type:"ability",player:this.parent}),1))}setAbilityUses(){this.abilityUses=0}tigerCheck(t){var e;return"Tiger"==(null===(e=this.petBehind(!0,!0))||void 0===e?void 0:e.name)&&(null==t||0==t)}superStartOfBattle(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(!0,!0).minExpForLevel,this.startOfBattle(t,!0),this.exp=i}superHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.hurt(t,e,!0),this.exp=s}superFaint(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.faint(t,!0),this.exp=i}superFriendSummoned(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendSummoned(t,e,!0),this.exp=s}superFriendAheadAttacks(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendAheadAttacks(t,e,!0),this.exp=s}superFriendAheadFaints(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendAheadFaints(t,e,!0),this.exp=s}superAdjacentAttacked(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.adjacentAttacked(t,e,!0),this.exp=s}superAfterAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.afterAttack(t,!0),this.exp=i}superSummoned(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.summoned(t,!0),this.exp=i}superKnockOut(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.knockOut(t,e,!0),this.exp=s}superFriendFaints(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendFaints(t,e,!0),this.exp=s}superBeforeAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.beforeAttack(t,!0),this.exp=i}superBeforeFriendAttacks(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.beforeFriendAttacks(t,e,!0),this.exp=s}superFriendLosPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendLostPerk(t,e,!0),this.exp=s}superGainedPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.gainedPerk(t,e,!0),this.exp=s}superFriendGainedPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendGainedPerk(t,e,!0),this.exp=s}superEatsFood(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.eatsFood(t,e,!0),this.exp=s}superFriendAteFood(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendAteFood(t,e,!0),this.exp=s}superBeforeStartOfBattle(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.beforeStartOfBattle(t,!0),this.exp=i}superFriendlyToyBroke(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendlyToyBroke(t,!0),this.exp=i}superTransform(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.transform(t,!0),this.exp=i}superEnemySummoned(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemySummoned(t,e,!0),this.exp=s}superEnemyPushed(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyPushed(t,e,!0),this.exp=s}superFriendHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendHurt(t,e,!0),this.exp=s}superFriendTransformed(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendTransformed(t,e,!0),this.exp=s}superAnyoneLevelUp(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.anyoneLevelUp(t,e,!0),this.exp=s}superEnemyHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyHurt(t,e,!0),this.exp=s}superFriendAttacks(t,e=null,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendAttacks(t,e,!0),this.exp=s}superEnemyAttack(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyAttack(t,e,!0),this.exp=s}superEmptyFrontSpace(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.emptyFrontSpace(t,!0),this.exp=i}superGainedMana(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.gainedMana(t,!0),this.exp=i}superFriendJumped(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendJumped(t,e,!0),this.exp=s}superEnemyJumped(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyJumped(t,e,!0),this.exp=s}superEnemyGainedAilment(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyGainedAilment(t,e,!0),this.exp=s}superFriendGainsHealth(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendGainsHealth(t,e,!0),this.exp=s}superFriendGainedExperience(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendGainedExperience(t,e,!0),this.exp=s}superAfterFaint(t,e=!1,i=!1){if(!this.tigerCheck(e))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.afterFaint(t,!0,i),this.exp=s}attackPet(t,e=!1,i,s=!1){var r,a,o,l;let T,h=this.calculateDamgae(t,this.getManticoreMult(),i),d=h.attackEquipment,m=h.defenseEquipment,y=h.damage,S=null===(r=this.equipment)||void 0===r?void 0:r.multiplier,k=null===(a=t.equipment)||void 0===a?void 0:a.multiplier;if(this.currentTarget=t,e?(T=`${this.name} jump-attacks ${t.name} for ${y}.`,this.equipment instanceof M3&&(T+="(White Truffle)")):T=`${this.name} attacks ${t.name} for ${y}.`,d instanceof vh&&y>0)this.logService.createLog({message:`${T} (Peanut)`,type:"attack",player:this.parent,randomEvent:s}),this.dealDamage(t,y),t.killedBy=this,t.health=0;else if(d instanceof bC&&y>0&&d.uses>0)this.logService.createLog({message:`${T} (Peanut Butter)`,type:"attack",player:this.parent,randomEvent:s}),t.killedBy=this,this.dealDamage(t,y),t.health=0;else{if(this.dealDamage(t,y),null!=d){let O=Math.abs(d.power),G="-";d.power>0&&(G="+");let Q=`${G}${O}`;d instanceof p_&&(Q="x2"),d instanceof wC&&(Q="x0.5"),d instanceof g_&&(Q=y<=15?"=15":"+0"),d instanceof v_&&(s=!0,h.fortuneCookie?(Q="x2",d.multiplier>1&&(Q+=d.multiplierMessage)):Q="x1"),T+=` (${d.name} ${Q})`,S>1&&(T+=this.equipment.multiplierMessage)}if(null!=m){let O=Math.abs(m.power),G="-";if(m.power<0&&(G="+"),"Strawberry"===m.name){let Q=t.getSparrowLevel();Q>0&&(O=5*Q,T+=` (Strawberry -${O} (Sparrow))`)}else m instanceof m_?(G=1==t.health?"!":"-",O="",T+=` (${m.name} ${G}${O})`):m instanceof $p?(O="x0.5",T+=` (${m.name} ${O})`):T+=` (${m.name} ${G}${O})`;k>1&&(T+=t.equipment.multiplierMessage)}t.equipment instanceof Bp&&(T+="x2 (Exposed)",t.equipment.multiplier>1&&(T+=t.equipment.multiplierMessage)),h.nurikabe>0&&(T+=` -${h.nurikabe} (Nurikabe)`),h.fairyBallReduction>0&&(T+=` -${h.fairyBallReduction} (Fairy Ball)`),h.fanMusselReduction>0&&(T+=` -${h.fanMusselReduction} (Fan Mussel)`),h.mapleSyrupReduction>0&&(T+=` -${h.mapleSyrupReduction} (Maple Syrup)`);let P=this.getManticoreMult(),I=["Weak","Cold","Exposed","Spooked"].includes(null===(o=t.equipment)||void 0===o?void 0:o.name);if(P.length>0&&I)for(let O of P)T+=` x${O+1} (Manticore)`;this.logService.createLog({message:T,type:"attack",player:this.parent,randomEvent:s});let H="skewer"==(null===(l=this.equipment)||void 0===l?void 0:l.equipmentClass)?this.equipment:null;null!=H&&H.attackCallback(this,t)}this.abilityService.triggerFriendAttacksEvents(this.parent,this),null!=this.afterAttack&&this.abilityService.setAfterAttackEvent({callback:this.afterAttack.bind(this),priority:this.attack,pet:this}),this.applyCrisp()}applyCrisp(){let t=this.parent.opponent.getManticoreMult();for(let e of this.parent.petArray)if(e.equipment instanceof dc){let i=6,s=e.equipment.multiplier;for(let l of t)s+=l;i*=s;let r=0;"Nurikabe"==e.name&&e.abilityUses<3&&(r=4*e.level,i=Math.max(0,i-r),e.abilityUses++);let a=0;"Fan Mussel"==e.name&&e.abilityUses<e.maxAbilityUses&&(a=1*e.level,i=Math.max(0,i-a),e.abilityUses++);let o=`${e.name} took ${i} damage`;if(t.length>0)for(let l of t)o+=` x${l+1} (Manticore)`;e.equipment.multiplier>1&&(o+=e.equipment.multiplierMessage),r>0&&(o+=` -${r} (Nurikabe)`),a>0&&(o+=` -${a} (Fan Mussel)`),o+=" (Crisp).",this.logService.createLog({message:o,type:"ability",player:e.parent}),this.dealDamage(e,i),e.removePerk()}else if(e.equipment instanceof _C&&e.equipment.uses>0){let i=1,s=e.equipment.multiplier;for(let l of t)s+=l;i*=s;let r=0;"Nurikabe"==e.name&&e.abilityUses<3&&(r=4*e.level,i=Math.max(0,i-r),e.abilityUses++);let a=0;"Fan Mussel"==e.name&&e.abilityUses<e.maxAbilityUses&&(a=1*e.level,i=Math.max(0,i-a),e.abilityUses++);let o=`${e.name} took ${i} damage`;if(t.length>0)for(let l of t)o+=` x${l+1} (Manticore)`;e.equipment.multiplier>1&&(o+=e.equipment.multiplierMessage),r>0&&(o+=` -${r} (Nurikabe)`),a>0&&(o+=` -${a} (Fan Mussel)`),o+=" (Toasty).",this.logService.createLog({message:o,type:"ability",player:e.parent}),this.dealDamage(e,i),e.equipment.uses--,e.equipment.uses<=0&&e.removePerk()}}snipePet(t,e,i,s,r,a,o){var l,h,d,m,y;let S=!1;"Albatross"==(null===(l=this.petAhead)||void 0===l?void 0:l.name)&&t.tier<=4&&(e+=3*this.petAhead.level,S=!0),"Albatross"==(null===(h=this.petBehind())||void 0===h?void 0:h.name)&&t.tier<=4&&(e+=3*this.petBehind().level,S=!0);let k=this.calculateDamgae(t,this.getManticoreMult(),e,!0),T=k.attackEquipment,P=k.defenseEquipment,N=k.damage,I="Ghost Kitten"==t.name,H=0;I&&(H=3*t.level,N=Math.max(0,N-H)),this.dealDamage(t,N);let O=`${this.name} sniped ${t.name} for ${N}.`;if(null!=P){t.useDefenseEquipment(!0);let ce=Math.abs(P.power),ge="-";if(P.power<0&&(ge="+"),"Strawberry"===P.name){let _e=t.getSparrowLevel();_e>0&&(ce=5*_e,O+=` (Strawberry -${ce} (Sparrow))`)}else O+=` (${P.name} ${ge}${ce})`;O+=P.multiplierMessage}if(null!=T&&"attack-snipe"==T.equipmentClass){let ce=Math.abs(T.power),ge="-";T.power>0&&(ge="+"),O+=` (${T.name} ${ge}${ce})`}(null===(d=this.equipment)||void 0===d?void 0:d.multiplier)>1&&(O+=this.equipment.multiplierMessage),s&&(O+=" (Tiger)"),S&&(O+=" (Albatross)"),a&&this.equipment&&(O+=` (${this.equipment.name})`),o&&(O+=" (Mana)"),I&&(O+=` -${H} (Ghost Kitten)`),"Exposed"==(null===(m=t.equipment)||void 0===m?void 0:m.name)&&(O+="x2 (Exposed)",t.equipment.multiplier>1&&(O+=t.equipment.multiplierMessage));let G=this.getManticoreMult(),ae=["Weak","Cold","Exposed","Spooked"].includes(null===(y=t.equipment)||void 0===y?void 0:y.name);if(G.length>0&&ae)for(let ce of G)O+=` x${ce+1} (Manticore)`;return k.nurikabe>0&&(O+=` -${k.nurikabe} (Nurikabe)`),k.fairyBallReduction>0&&(O+=` -${k.fairyBallReduction} (Fairy Ball)`),k.fanMusselReduction>0&&(O+=` -${k.fanMusselReduction} (Fan Mussel)`),this.logService.createLog({message:O,type:"attack",randomEvent:i,player:this.parent,pteranodon:r}),N}calculateDamgae(t,e,i,s=!1){var r,a,o,l,h,d,m,y,S,k;let T=null===(r=this.equipment)||void 0===r?void 0:r.multiplier,P=null===(a=t.equipment)||void 0===a?void 0:a.multiplier;const I=["Ink"];let G,Q,O="defense"==(null===(o=t.equipment)||void 0===o?void 0:o.equipmentClass)||"shield"==(null===(l=t.equipment)||void 0===l?void 0:l.equipmentClass)||"ailment-defense"==(null===(h=t.equipment)||void 0===h?void 0:h.equipmentClass)||s&&"shield-snipe"==(null===(d=t.equipment)||void 0===d?void 0:d.equipmentClass)?t.equipment:null;if(null!=O){if(["Cold","Weak","Spooked"].includes(null==O?void 0:O.name))for(let X of e)P+=X;O.power=O.originalPower*P}if(s)G="attack-snipe"==(null===(m=this.equipment)||void 0===m?void 0:m.equipmentClass)?this.equipment:null,Q=null!=G?i+G.power:i,O instanceof $p&&(O=null);else{if(G=this.equipment instanceof SC?new bz:this.equipment instanceof $p?new wC:"attack"==(null===(y=this.equipment)||void 0===y?void 0:y.equipmentClass)||"ailment-attack"==(null===(S=this.equipment)||void 0===S?void 0:S.equipmentClass)?this.equipment:null,null!=G){if(I.includes(null==G?void 0:G.name))for(let Me of e)T+=Me;G.power=G.originalPower*T}let X=this.attack;"Monty"==this.name&&(X*=this.level+1),Q=(null!=i?i:X)+((null==G?void 0:G.power)?G.power:0)}let ae=(null==O?void 0:O.power)?O.power:0,ce=t.getSparrowLevel();"Strawberry"===(null===(k=t.equipment)||void 0===k?void 0:k.name)&&ce>0&&(ae+=5*ce),t.equipment instanceof $p&&t.equipment.uses>0&&!s&&(Q=Math.floor(Q*Math.pow(.5,P))),G instanceof p_&&!s&&(Q*=2+T-1),G instanceof wC&&!s&&(Q=Math.floor(Q*Math.pow(.5,T)));let _e=!1;if(G instanceof v_&&!s&&Math.random()<.5&&(Q*=2+T-1,_e=!0),G instanceof g_&&!s&&(Q=Math.max(15,Q)),t.equipment instanceof Bp){let X=2;for(let se of e)X+=se;X+=t.equipment.multiplier-1,Q*=X}let qe,Be="shield"==(null==O?void 0:O.equipmentClass)||"shield-snipe"==(null==O?void 0:O.equipmentClass)?0:1;void 0!==(null==O?void 0:O.minimumDamage)&&(Be=O.minimumDamage),qe=Q<=Be&&ae>0?Math.max(Q,0):Math.max(Be,Q-ae),O instanceof m_&&(qe=Math.min(qe,t.health-1));let Ze=0;"Fairy Ball"===t.name&&qe>0&&(Ze=2*t.level,qe=Math.max(1,qe-Ze));let Wt=0;"Nurikabe"==t.name&&t.abilityUses<3&&qe>0&&(Wt=4*t.level,qe=Math.max(1,qe-Ze),t.abilityUses++);let zt=0;return"Fan Mussel"==t.name&&t.abilityUses<t.maxAbilityUses&&qe>0&&(zt=1*t.level,qe=Math.max(1,qe-Ze),t.abilityUses++),{defenseEquipment:O,attackEquipment:G,damage:qe,fortuneCookie:_e,nurikabe:Wt,fairyBallReduction:Ze,fanMusselReduction:zt,mapleSyrupReduction:0}}resetPet(){var t,e;this.health=this.originalHealth,this.attack=this.originalAttack,this.equipment=this.originalEquipment,this.lastLostEquipment=null,this.mana=this.originalMana,this.exp=this.originalExp,this.done=!1,this.seenDead=!1,this.disabled=!1;try{null===(t=this.equipment)||void 0===t||t.reset()}catch(s){console.warn("equipment reset failed",this.equipment),console.error(s)}this.swallowedPets=[],this.savedPosition=this.originalSavedPosition,this.setAbilityUses(),this.transformed=!1,this.transformedInto=null,this.currentTarget=null,this.lastAttacker=null,this.hasOwnProperty("attackCounter")&&(this.attackCounter=0),this.killedBy=null,this.beforeAttack=this.originalBeforeAttack,this.afterAttack=this.originalAfterAttack,this.beforeFriendAttacks=this.originalBeforeFriendAttacks,this.enemyAttack=this.originalEnemyAttack,this.friendAttacks=this.originalFriendAttacks,this.hurt=this.originalHurt,this.faint=this.originalFaint,this.friendSummoned=this.originalFriendSummoned,this.friendAheadAttacks=this.originalFriendAheadAttacks,this.adjacentAttacked=this.originalAdjacentAttacked,this.friendAheadFaints=this.originalFriendAheadFaints,this.friendFaints=this.originalFriendFaints,this.friendAteFood=this.originalFriendAteFood,this.eatsFood=this.originalEatsFood,this.friendGainedPerk=this.originalFriendGainedPerk,this.friendGainedAilment=this.originalFriendGainedAilment,this.friendHurt=this.originalFriendHurt,this.friendTransformed=this.originalFriendTransformed,this.afterFaint=this.originalAfterFaint,this.beforeStartOfBattle=this.originalBeforeStartOfBattle,this.anyoneLevelUp=this.originalAnyoneLevelUp,this.endTurn=this.originalEndTurn,this.knockOut=this.originalKnockOut,this.summoned=this.originalSummoned;let i=null===(e=this.faint)||void 0===e?void 0:e.bind(this);(null!=i||null!=this.afterFaint)&&(this.faintPet=!0),this.faint=(s,r,a)=>{if(null!=i){if(!this.abilityValidCheck())return;i(s,r,a)}if(this.abilityValidCheck()&&!this.kitsuneCheck()&&this.mana>0){let o;o={priority:this.attack,player:this.parent,callback:()=>{let l=Ft(s,this.parent).getRandomPet([],!1,!0),h=l.pet;null!=h&&0!=this.mana&&this.snipePet(h,this.mana,l.random,!1,!1,!1,!0)}},this.abilityService.setManaEvent(o)}}}jumpAttackPrep(t){this.beforeAttack&&this.alive&&this.abilityService.setBeforeAttackEvent({callback:this.beforeAttack.bind(this),priority:this.attack,player:this.parent,pet:this}),t.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:t.beforeAttack.bind(t),priority:t.attack,player:t.parent,pet:t}),this.abilityService.executeBeforeAttackEvents(),this.abilityService.triggerBeforeFriendAttacksEvents(this.parent,this),this.abilityService.triggerBeforeFriendAttacksEvents(t.parent,this),this.abilityService.executeBeforeFriendAttacksEvents()}jumpAttack(t,e,i,s=!1){let r;t.lastAttacker=this,r=this.transformed?this.transformedInto:this,t.transformed&&(t=t.transformedInto),r.alive&&t.alive&&(r.attackPet(t,!0,i,s),t.attackPet(r),r.useAttackDefenseEquipment(),t.useAttackDefenseEquipment(),r.parent.checkPetsAlive(),t.parent.checkPetsAlive(),r.abilityService.executeAfterAttackEvents(),r.abilityService.executeAfterFriendAttackEvents(),r.abilityService.triggerFriendJumpedEvents(r.parent,r),r.abilityService.triggerEnemyJumpedEvents(t.parent,r))}get alive(){return this.health>0}setFaintEventIfPresent(){var t;null!=this.faint&&this.abilityService.setFaintEvent({priority:this.attack,callback:this.faint.bind(this),pet:this}),"faint"==(null===(t=this.equipment)||void 0===t?void 0:t.equipmentClass)&&this.abilityService.setFaintEvent({priority:-1,callback:()=>{try{this.equipment.callback(this)}catch(e){console.warn("equipment callback failed",this.equipment)}},pet:this})}useDefenseEquipment(t=!1){if(null!=this.equipment){if("ailment-defense"!=this.equipment.equipmentClass&&"Exposed"!=this.equipment.name&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&t&&"shield-snipe"!=this.equipment.equipmentClass)return;null!=this.equipment.uses&&(this.equipment.uses-=1,0==this.equipment.uses&&this.removePerk())}}useAttackDefenseEquipment(){null!=this.equipment&&null!=this.equipment.uses&&("attack"!=this.equipment.equipmentClass&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&"snipe"!=this.equipment.equipmentClass&&"ailment-attack"!=this.equipment.equipmentClass&&"ailment-defense"!=this.equipment.equipmentClass&&"Exposed"!=this.equipment.name||(isNaN(this.equipment.uses)&&console.warn("uses is NaN",this.equipment),this.equipment.uses-=1,0==this.equipment.uses&&this.removePerk()))}increaseAttack(t){let e=50;"Behemoth"==this.name&&(e=100),this.alive&&(this.attack=Math.min(Math.max(this.attack+t,1),e))}increaseHealth(t){let e=50;("Behemoth"==this.name||"Giant Tortoise"==this.name)&&(e=100),this.alive&&(this.health=Math.min(Math.max(this.health+t,1),e),this.abilityService.triggerFriendGainsHealthEvents(this.parent,this),this.abilityService.executeFriendGainsHealthEvents())}dealDamage(t,e){!t.alive||(t.health-=e,t.health<=0&&(t.killedBy=this),null!=t.hurt&&e>0&&this.abilityService.setHurtEvent({callback:t.hurt.bind(t),priority:t.attack,player:t.parent,callbackPet:this,pet:t}),t.health<1&&null!=this.knockOut&&this.abilityService.setKnockOutEvent({callback:this.knockOut.bind(this),priority:this.attack,callbackPet:t,pet:this}),e>0&&this.abilityService.triggerFriendHurtEvents(t.parent,t),e>0&&this.abilityService.triggerEnemyHurtEvents(this.parent,t))}increaseExp(t){let e=this.level;this.increaseAttack(t),this.increaseHealth(t),this.exp=Math.min(this.exp+t,5),this.level>e&&(this.logService.createLog({message:`${this.name} leveled up to level ${this.level}.`,type:"ability",player:this.parent}),this.abilityService.triggerLevelUpEvents(this.parent,this),this.abilityService.triggerLevelUpEvents(this.parent.opponent,this),this.abilityService.executeFriendlyLevelUpToyEvents(),this.setAbilityUses()),this.abilityService.triggerFriendGainedExperienceEvents(this.parent,this)}increaseMana(t){this.mana+=t,this.mana=Math.min(this.mana,50),null!=this.gainedMana&&this.abilityService.setGainManaEvents({callback:this.gainedMana.bind(this),priority:this.attack,pet:this})}givePetEquipment(t,e=1){if(null!=t){if(this.alive)if("ailment-attack"==t.equipmentClass||"ailment-defense"==t.equipmentClass||"ailment-other"==t.equipmentClass){if(this.equipment instanceof kC)return this.equipment.uses--,this.logService.createLog({message:`${this.name} blocked ${t.name}. (Ambrosia)`,type:"equipment",player:this.parent}),void(0==this.equipment.uses&&this.removePerk());if(this.equipment instanceof EC)return this.logService.createLog({message:`${this.name} blocked ${t.name}. (White Okra)`,type:"equipment",player:this.parent}),void this.removePerk();this.applyEquipment(t,e),this.abilityService.triggerFriendGainedAilmentEvents(this),this.abilityService.triggerEnemyGainedAilmentEvents(this.parent.opponent.petArray,this)}else{if(t instanceof x3){this.applyEquipment(t,e);let i=1*t.multiplier,s=2*t.multiplier;this.increaseAttack(i),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${i} attack and ${s} health (Blackberry)${t.multiplierMessage}`,type:"equipment",player:this.parent})}else this.applyEquipment(t,e);this.abilityService.triggerGainedPerkEvents(this),this.abilityService.triggerFriendGainedPerkEvents(this),this.eatsFood&&this.abilityService.setEatsFoodEvent({callback:this.eatsFood.bind(this),priority:this.attack,callbackPet:this,pet:this}),this.abilityService.triggerFriendAteFoodEvents(this)}}else console.warn(`givePetEquipment called with null equipment for pet: ${this.name}`)}applyEquipment(t,e=1){null!=t&&(this.equipment=t,this.setEquipmentMultiplier(e),this.equipment.callback&&"beforeStartOfBattle"!=this.equipment.equipmentClass&&this.equipment.callback(this))}removePerk(){if(null==this.equipment)return;let t="ailment-attack"==this.equipment.equipmentClass||"ailment-defense"==this.equipment.equipmentClass||"ailment-other"==this.equipment.equipmentClass;this.lastLostEquipment=this.equipment,this.equipment=null,t||this.abilityService.triggerFriendLostPerkEvents(this)}setEquipmentMultiplier(t=1){var e;if(!this.equipment)return;let i=(null===(e=this.equipment)||void 0===e?void 0:e.multiplier)||1,s=[];"Panther"===this.name&&"ailment-attack"!==this.equipment.equipmentClass&&"ailment-defense"!==this.equipment.equipmentClass&&"ailment-other"!==this.equipment.equipmentClass&&(i+=this.level,s.push(`x${this.level+1} (Panther)`)),t&&t>1&&(i+=t-1,s.push(`x${t} (Pandora's Box)`)),this.equipment.multiplier=i,this.equipment.multiplierMessage=s.length>0?` ${s.join(" ")}`:""}get level(){return this.exp<2?1:this.exp<5?2:3}get position(){return this==this.parent.pet0?0:this==this.parent.pet1?1:this==this.parent.pet2?2:this==this.parent.pet3?3:this==this.parent.pet4?4:void 0}petBehind(t=!1,e=!1){for(let s=(void 0!==this.position?this.position:this.savedPosition)+1;s<5;s++){let r=this.parent.getPetAtPosition(s);if(e&&null!=r)return r;if(t&&null!=r&&!r.alive&&!r.seenDead)return null;if(null!=r&&r.alive)return r}return null}getManticoreMult(){let t=[];for(let e of this.parent.petArray)"Manticore"==e.name&&t.push(e.level);return t}getSparrowLevel(){let t=0;for(let e of this.parent.petArray)"Sparrow"==e.name&&(t=Math.max(t,e.level));return t}getPetsAhead(t,e=!1,i){var s,r;let a=[],o=this.petAhead;for(;o&&!(a.length>=t);)i&&(null===(s=o.equipment)||void 0===s?void 0:s.name)===i||a.push(o),o=o.petAhead;if(a.length<t&&1==e){let h=this.parent.opponent.furthestUpPet;for(;h&&!(a.length>=t);)i&&(null===(r=h.equipment)||void 0===r?void 0:r.name)===i||a.push(h),h=h.petBehind()}return a}getPetsBehind(t,e){var i;let s=[],r=this.petBehind();for(e&&(null===(i=r.equipment)||void 0===i?void 0:i.name)===e&&(r=r.petBehind());r&&!(s.length>=t);)s.push(r),r=r.petBehind();return s}kitsuneCheck(){let t=this.petBehind(),e=!0;for(;t;){if("Kitsune"==t.name&&e)return!1;if(e=!1,"Kitsune"==t.name)return!0;t=t.petBehind()}return!1}get petAhead(){for(let t=this.position-1;t>-1;t--){let e=this.parent.getPetAtPosition(t);if(null!=e&&e.alive)return e}return null}get minExpForLevel(){return 1==this.level?0:2==this.level?2:5}}class wr extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puma",this.tier=6,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(o,s,r,a,l)}}class __ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Golden Retriever",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class CC extends ne{constructor(t){super(),this.logService=t,this.name="Onion",this.equipmentClass="beforeAttack",this.callback=e=>{var i;let s=null===(i=e.beforeAttack)||void 0===i?void 0:i.bind(e);e.beforeAttack=(r,a)=>{var o;null!=s&&s(r,a),!a&&"Onion"==(null===(o=e.equipment)||void 0===o?void 0:o.name)&&(this.logService.createLog({message:`${e.name} pushed itself to the back. (Onion)`,type:"equipment",player:e.parent}),e.removePerk(),e.parent.pushPetToBack(e),e.parent.pushPetsForward())}}}}class R3{constructor(t,e,i){this.logService=t,this.abilityService=e,this.gameService=i,this.pack="Turtle",this.trumpets=0,this.spawnedGoldenRetiever=!1,this.summonedBoatThisBattle=!1}alive(){return this.petArray.length>0}resetPets(){var t,e,i,s,r;this.pet0=this.orignalPet0,null===(t=this.pet0)||void 0===t||t.resetPet(),this.pet1=this.orignalPet1,null===(e=this.pet1)||void 0===e||e.resetPet(),this.pet2=this.orignalPet2,null===(i=this.pet2)||void 0===i||i.resetPet(),this.pet3=this.orignalPet3,null===(s=this.pet3)||void 0===s||s.resetPet(),this.pet4=this.orignalPet4,null===(r=this.pet4)||void 0===r||r.resetPet(),this.orignalPet0=this.pet0,this.orignalPet1=this.pet1,this.orignalPet2=this.pet2,this.orignalPet3=this.pet3,this.orignalPet4=this.pet4,this.toy=this.originalToy,this.toy&&(this.toy.used=!1,this.toy.triggers=0),this.brokenToy=null,this.trumpets=0,this.spawnedGoldenRetiever=!1,this.summonedBoatThisBattle=!1}setPet(t,e,i=!1){this.getPet(t),0==t&&(this.pet0=e,null!=e&&(this.pet0.savedPosition=0),i&&(this.orignalPet0=e)),1==t&&(this.pet1=e,null!=e&&(this.pet1.savedPosition=1),i&&(this.orignalPet1=e)),2==t&&(this.pet2=e,null!=e&&(this.pet2.savedPosition=2),i&&(this.orignalPet2=e)),3==t&&(this.pet3=e,null!=e&&(this.pet3.savedPosition=3),i&&(this.orignalPet3=e)),4==t&&(this.pet4=e,null!=e&&(this.pet4.savedPosition=4),i&&(this.orignalPet4=e)),i&&null!=e&&(e.originalSavedPosition=e.savedPosition)}getPet(t){return this[`pet${t}`]}pushPetsForward(){let t=(0,yt.clone)(this.petArray);try{this.setPet(0,t[0])}catch(e){this.pet0=null}try{this.setPet(1,t[1])}catch(e){this.pet1=null}try{this.setPet(2,t[2])}catch(e){this.pet2=null}try{this.setPet(3,t[3])}catch(e){this.pet3=null}try{this.setPet(4,t[4])}catch(e){this.pet4=null}}onionCheck(){var t;null!=(null===(t=this.pet0)||void 0===t?void 0:t.equipment)&&this.pet0.equipment instanceof CC&&(this.pet0.equipment.callback(this.pet0),this.pushPetsForward())}summonPet(t,e,i=!1,s){if(s&&this.hasSilly(s)){let o=Math.random()<.5?this:this.opponent,l=Yn(0,4);return t.parent=o,{success:o.summonPet(t,l,i,void 0).success,randomEvent:!0}}if(5==this.petArray.length)return i||this.logService.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:this}),{success:!1,randomEvent:!1};this==this.gameService.gameApi.player?this.gameService.gameApi.playerSummonedAmount++:this.gameService.gameApi.opponentSummonedAmount++,0==e&&(null!=this.pet0&&this.makeRoomForSlot(0),this.setPet(0,t)),1==e&&(null!=this.pet1&&this.makeRoomForSlot(1),this.setPet(1,t)),2==e&&(null!=this.pet2&&this.makeRoomForSlot(2),this.setPet(2,t)),3==e&&(null!=this.pet3&&this.makeRoomForSlot(3),this.setPet(3,t)),4==e&&(null!=this.pet4&&this.makeRoomForSlot(4),this.setPet(4,t)),null!=t.summoned&&this.abilityService.setSummonedEvent({callback:t.summoned.bind(t),priority:t.attack,pet:t});let a=Ft(this.gameService.gameApi,this);return this.abilityService.triggerEnemySummonedEvents(a,t),{success:!0,randomEvent:!1}}transformPet(t,e){this.setPet(t.position,e),this==this.gameService.gameApi.player?this.gameService.gameApi.playerTransformationAmount++:this.gameService.gameApi.opponentTransformationAmount++,t.transformed=!0,t.transformedInto=e,e.applyEquipment(e.equipment),e.transform&&this.abilityService.setTransformEvent({callback:e.transform.bind(e),priority:e.attack,pet:e}),this.abilityService.triggerFriendTransformedEvents(this,e)}pushForwardFromSlot(t){let e=null,i=!1;if(t>0&&null==this.pet0&&(i=!0,e=0),t>1&&null==this.pet1&&(i=!0,e=1),t>2&&null==this.pet2&&(i=!0,e=2),t>3&&null==this.pet3&&(i=!0,e=3),i){for(let s=e;s<t;s++)this[`pet${s}`]=this[`pet${s+1}`];return!0}return!1}pushBackwardFromSlot(t){let e=null,i=!1;if(t<4&&null==this.pet4&&(i=!0,e=4),t<3&&null==this.pet3&&(i=!0,e=3),t<2&&null==this.pet2&&(i=!0,e=2),t<1&&null==this.pet1&&(i=!0,e=1),i)for(let s=e;s>t;s--)this[`pet${s}`]=this["pet"+(s-1)]}makeRoomForSlot(t){5!=this.petArray.length?this.pushForwardFromSlot(t)||this.pushBackwardFromSlot(t):console.warn("No room to Make Room")}get petArray(){let t=[];return null!=this.pet0&&t.push(this.pet0),null!=this.pet1&&t.push(this.pet1),null!=this.pet2&&t.push(this.pet2),null!=this.pet3&&t.push(this.pet3),null!=this.pet4&&t.push(this.pet4),t}handleDeath(t){t.seenDead=!0,t.setFaintEventIfPresent();let e=t.petBehind(null,!0);null!=(null==e?void 0:e.friendAheadFaints)&&(null==e?void 0:e.alive)&&this.abilityService.setFriendAheadFaintsEvent({callback:e.friendAheadFaints.bind(e),priority:e.attack,player:this,callbackPet:t,pet:e}),this.createDeathLog(t)}checkPetsAlive(){this.pet0&&!this.pet0.alive&&!this.pet0.seenDead&&this.handleDeath(this.pet0),this.pet1&&!this.pet1.alive&&!this.pet1.seenDead&&this.handleDeath(this.pet1),this.pet2&&!this.pet2.alive&&!this.pet2.seenDead&&this.handleDeath(this.pet2),this.pet3&&!this.pet3.alive&&!this.pet3.seenDead&&this.handleDeath(this.pet3),this.pet4&&!this.pet4.alive&&!this.pet4.seenDead&&this.handleDeath(this.pet4)}removeDeadPets(){let t=!1;const e=[{pet:this.pet0,index:0},{pet:this.pet1,index:1},{pet:this.pet2,index:2},{pet:this.pet3,index:3},{pet:this.pet4,index:4}];for(const i of e)i.pet&&!i.pet.alive&&(i.pet.afterFaint?this.abilityService.setAfterFaintEvents({callback:i.pet.afterFaint.bind(i.pet),priority:i.pet.attack,player:this,callbackPet:i.pet,pet:i.pet}):i.pet.disabled=!0,this.abilityService.triggerFriendFaintsEvents(i.pet),this[`pet${i.index}`]=null,t=!0);return t}createDeathLog(t){this.logService.createLog({message:`${t.name} fainted.`,type:"death",player:t.parent})}getRandomPet(t,e,i,s,r,a){if(r&&this.hasSilly(r)){let h=this.getRandomLivingPet();return{pet:h.pet,random:h.random}}let o=[];if(o=a?[...this.petArray,...this.opponent.petArray]:this.petArray,e&&i){let h=this.getPetsWithEquipment("Donut").filter(m=>{null==t||t.includes(m)}),d=this.getPetsWithEquipment("Blueberry").filter(m=>{null==t||t.includes(m)});(h.length>0||d.length>0)&&(o=[...h,...d])}else if(e){let h=this.getPetsWithEquipment("Donut").filter(d=>{null==t||t.includes(d)});h.length>0&&(o=h),s&&(o=o.filter(d=>50!=d.health||50!=d.attack||"Behemoth"==d.name),0==o.length&&(o=this.petArray))}else if(i){let h=this.getPetsWithEquipment("Blueberry").filter(d=>{null==t||t.includes(d)});h.length>0&&(o=h)}if(o=o.filter(h=>{let d=!0;return t&&(d=!t.includes(h)),d&&h.health>0}),s){let h=(0,yt.clone)(o);o=o.filter(d=>50!=d.health||50!=d.attack),0==o.length&&(o=h)}return 0==o.length?{pet:null,random:!1}:{pet:o[Yn(0,o.length-1)],random:o.length>1}}getRandomPets(t,e,i,s,r,a){if(r&&this.hasSilly(r)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}let o=[];e=null!=e?e:[];for(let l=0;l<t;l++){let h=this.getRandomPet(e,i,s,null,r,a);if(null==h.pet)break;e.push(h.pet),o.push(h.pet)}return{pets:o,random:o.length>t}}getRandomLivingPets(t){let e=[],i=[];for(let s=0;s<t;s++){let r=this.getRandomLivingPet(i);if(null==r.pet)break;i.push(r.pet),e.push(r.pet)}return{pets:e,random:e.length>t}}getAll(t,e,i){if(e&&this.hasSilly(e))return{pets:[...this.petArray,...this.opponent.petArray].filter(a=>a.alive),random:!1};let s=[];return s=t?[...this.petArray,...this.opponent.petArray]:[...this.petArray],i&&(s=s.filter(r=>r!=e)),s=s.filter(r=>r.alive),{pets:s,random:!1}}getPetsWithEquipment(t){var e;let i=[];for(let s of this.petArray)!s.alive||(null===(e=s.equipment)||void 0===e?void 0:e.name)==t&&i.push(s);return i}getPetAtPosition(t){for(let e of this.petArray)if(e.position==t)return e;return null}getLastPet(t,e){if(e&&this.hasSilly(e)){let i=this.getRandomLivingPet();return{pet:i.pet,random:i.random}}for(let i of[...this.petArray].reverse())if(i.alive&&(!t||!t.includes(i)))return{pet:i,random:!1};return{pet:null,random:!1}}getLastPets(t,e,i){if(i&&this.hasSilly(i)){let o=this.getRandomLivingPets(t);return{pets:o.pets,random:o.random}}let s=[...this.petArray].filter(o=>o.alive);return e&&(s=s.filter("perk-less"==e?o=>{var l;return null==o.equipment||(null===(l=o.equipment)||void 0===l?void 0:l.name.startsWith("ailment"))}:o=>{var l;return(null===(l=o.equipment)||void 0===l?void 0:l.name)!=e})),0===s.length?{pets:[],random:!1}:{pets:[...s].reverse().slice(0,t),random:!1}}getHighestHealthPet(t,e){if(e&&this.hasSilly(e)){let r=this.getRandomLivingPet();return{pet:r.pet,random:r.random}}if(0==this.petArray.filter(r=>r!=t&&r.alive).length)return{pet:null,random:!1};let s;for(let r in this.petArray){let o=this.petArray[+r];if(o!=t){if(null==s){s=[o];continue}if(o.health==s[0].health){s.push(o);continue}o.health>s[0].health&&(s=[o])}}return{pet:s[Yn(0,s.length-1)],random:s.length>1}}getHighestAttackPet(t,e){if(e&&this.hasSilly(e)){let r=this.getRandomLivingPet();return{pet:r.pet,random:r.random}}let i;for(let r in this.petArray){let o=this.petArray[+r];if(o!=t&&o.alive){if(null==i){i=[o];continue}if(o.attack==i[0].attack){i.push(o);continue}o.attack>i[0].attack&&(i=[o])}}let s=null==i?null:i[Yn(0,i.length-1)];return{pet:s,random:null!=s&&i.length>1}}getLowestAttackPet(t,e){if(e&&this.hasSilly(e)){let r=this.getRandomLivingPet();return{pet:r.pet,random:r.random}}let i;for(let r in this.petArray){let o=this.petArray[+r];if(o!=t&&o.alive){if(null==i){i=[o];continue}if(o.attack==i[0].attack){i.push(o);continue}o.attack<i[0].attack&&(i=[o])}}let s=null==i?null:i[Yn(0,i.length-1)];return{pet:s,random:null!=s&&i.length>1}}getLowestHealthPet(t,e){if(e&&this.hasSilly(e)){let r=this.getRandomLivingPet();return{pet:r.pet,random:r.random}}let i;for(let r in this.petArray){let o=this.petArray[+r];if(o!=t&&o.alive){if(null==i){i=[o];continue}if(o.health==i[0].health){i.push(o);continue}o.health<i[0].health&&(i=[o])}}let s=null==i?null:i[Yn(0,i.length-1)];return{pet:s,random:null!=s&&i.length>1}}getLowestHealthPets(t,e,i){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}let s=[...this.petArray].filter(l=>l.alive);if(e&&(s=s.filter(l=>{var h;return(null===(h=l.equipment)||void 0===h?void 0:h.name)!=e})),0===s.length)return{pets:[],random:!1};let r=(0,yt.shuffle)(s);r.sort((l,h)=>l.health-h.health);let a=r.slice(0,t),o=!1;return a.length===t&&r.length>t&&a[t-1].health===r[t].health&&(o=!0),{pets:a,random:o}}getHighestHealthPets(t,e,i){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}let s=[...this.petArray].filter(l=>l.alive);if(e&&(s=s.filter(l=>{var h;return(null===(h=l.equipment)||void 0===h?void 0:h.name)!=e})),0===s.length)return{pets:[],random:!1};let r=(0,yt.shuffle)(s);r.sort((l,h)=>h.health-l.health);let a=r.slice(0,t),o=!1;return a.length===t&&r.length>t&&a[t-1].health===r[t].health&&(o=!0),{pets:a,random:o}}getHighestTierPets(t,e,i){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}let s=[...this.petArray].filter(l=>l.alive);if(e&&(s=s.filter(l=>{var h;return(null===(h=l.equipment)||void 0===h?void 0:h.name)!=e})),0===s.length)return{pets:[],random:!1};let r=(0,yt.shuffle)(s);r.sort((l,h)=>h.tier-l.tier);let a=r.slice(0,t),o=!1;return a.length===t&&r.length>t&&a[t-1].tier===r[t].tier&&(o=!0),{pets:a,random:o}}get furthestUpPet(){for(let t of this.petArray)if(t.alive)return t;return null}getFurthestUpPet(t){if(t&&this.hasSilly(t)){let e=this.getRandomLivingPet();return{pet:e.pet,random:e.random}}for(let e of this.petArray)if(e.alive)return{pet:e,random:!1};return{pet:null,random:!1}}getFurthestUpPets(t,e,i,s){if(i&&this.hasSilly(i)){let o=this.getRandomLivingPets(t);return{pets:o.pets,random:o.random}}let r=[...this.petArray].filter(o=>o.alive);return e&&(r=r.filter("perk-less"==e?o=>{var l;return null==o.equipment||(null===(l=o.equipment)||void 0===l?void 0:l.name.startsWith("ailment"))}:o=>{var l;return(null===(l=o.equipment)||void 0===l?void 0:l.name)!=e})),s&&(r=r.filter(o=>{var l;return(null===(l=o.equipment)||void 0===l?void 0:l.name)==s})),0===r.length?{pets:[],random:!1}:{pets:r.slice(0,t),random:!1}}nearestPetsBehind(t,e,i){if(e&&this.hasSilly(e)){let r=this.getRandomLivingPets(t);return{pets:r.pets,random:r.random}}return{pets:e.getPetsBehind(t,i),random:!1}}getThis(t){if(t&&this.hasSilly(t)){let e=this.getRandomLivingPet();return{pet:e.pet,random:e.random}}return{pet:t,random:!1}}getSpecificPet(t,e){if(t&&this.hasSilly(t)){let i=this.getRandomLivingPet();return{pet:i.pet,random:i.random}}return{pet:e,random:!1}}nearestPetsAhead(t,e,i,s){if(e&&this.hasSilly(e)){let a=this.getRandomLivingPets(t);return{pets:a.pets,random:a.random}}return{pets:e.getPetsAhead(t,s||!1,i),random:!1}}breakToy(t=!1){if(null!=this.toy){if(this.brokenToy=this.toy,this.logService.createLog({message:`${this.toy.name} broke!`,type:"ability",player:this,randomEvent:!1}),null!=this.toy.onBreak){let e=[{callback:this.toy.onBreak.bind(this.toy),priority:99}],i=this.toy.level;for(let s of this.petArray)s instanceof wr&&e.push({callback:()=>{this.toy.level=s.level,this.toy.onBreak(this.gameService.gameApi,!0),this.toy.level=i},priority:s.attack});e.sort((s,r)=>s.priority>r.priority?-1:s.priority<r.priority?1:0);for(let s of e)s.callback(this.gameService.gameApi)}this.toy=null,t&&this.setToy(this.brokenToy)}}setToy(t){this.toy=t}getStrongestPet(t){if(t&&this.hasSilly(t)){let a=this.getRandomLivingPet();return{pet:a.pet,random:a.random}}let e=[],i=-1,s=(0,yt.shuffle)(this.petArray.filter(a=>a.alive));for(let a of s){let o=a.attack+a.health;o>i?(i=o,e=[a]):o===i&&e.push(a)}return 0===e.length?{pet:null,random:!1}:{pet:e[Yn(0,e.length-1)],random:e.length>1}}pushPetToFront(t,e=!1){this.pushPet(t,4),e&&(this.abilityService.triggerFriendJumpedEvents(this,t),this.abilityService.triggerFriendJumpedToyEvents(this,t),this.abilityService.triggerEnemyJumpedEvents(this,t))}pushPetToBack(t){this.pushPet(t,-4)}pushPet(t,e=1){let r,i=t.parent,s=t.position;i[`pet${s}`]=null,e>0&&(r=Math.max(s-e,0),null!=this.getPet(r)&&this.pushForwardFromSlot(r),this.setPet(r,t)),e<0&&(r=Math.min(s-e,4),null!=this.getPet(r)&&this.pushBackwardFromSlot(r),this.setPet(r,t));let a=Ft(this.gameService.gameApi,i);this.abilityService.triggerEnemyPushedEvents(a,t)}get opponent(){return Ft(this.gameService.gameApi,this)}gainTrumpets(t,e,i,s,r){this.trumpets=Math.min(50,this.trumpets+=t);let a=`${e.name} gained ${t} trumpets. (${this.trumpets})`;r&&(a+=" (Cherry)"),this.logService.createLog({message:a,type:"trumpets",player:this,pteranodon:i,pantherMultiplier:s})}spendTrumpets(t,e,i){this.trumpets=Math.max(0,this.trumpets-=t),this.logService.createLog({message:`${e.name} spent ${t} trumpets. (${this.trumpets})`,type:"trumpets",player:this,pteranodon:i})}checkGoldenSpawn(){if(this.spawnedGoldenRetiever||this.petArray.length>1||0==this.trumpets)return;let t=new __(this.logService,this.abilityService,this,this.trumpets,this.trumpets);this.logService.createLog({message:`${this==this.gameService.gameApi.player?"Player":"Opponent"} spawned Golden Retriever (${t.attack}/${t.health})`,type:"ability",player:this}),this.summonPet(t,0)&&this.abilityService.triggerFriendSummonedEvents(t),this.trumpets=0,this.spawnedGoldenRetiever=!0}getManticoreMult(){let t=[];for(let e of this.petArray)"Manticore"==e.name&&t.push(e.level);return t}summonPetInFront(t,e){if(5==this.petArray.length)return this.logService.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:this}),{success:!1,randomEvent:!1};let i=!1;for(let s=0;s<t.position;s++)if(null==this.getPet(s)){i=!0;break}if(i)return this.summonPet(e,t.position-1,!1,t);{let s=t.position;return this.pushPet(t,-1),this.summonPet(e,s,!1,t)}}summonPetBehind(t,e){if(5==this.petArray.length)return this.logService.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:this}),{success:!1,randomEvent:!1};let i=!1;for(let s=0;s<t.position;s++)if(null==this.getPet(s)){i=!0;break}return i?(this.pushPet(t,1),this.summonPet(e,t.position+1,!1,t)):this.summonPet(e,t.position+1,!1,t)}getPetsWithinXSpaces(t,e){if(t&&this.hasSilly(t)){let r=this.getRandomLivingPets(2*e);return{pets:r.pets,random:r.random}}const i=t.savedPosition,s=[];for(const r of this.petArray)if(r.alive&&r!==t){const a=Math.abs(r.position-i);a>0&&a<=e&&s.push(r)}for(const r of this.opponent.petArray)r.alive&&i+r.position+1<=e&&s.push(r);return{pets:s,random:!1}}getOppositeEnemyPet(t){if(t&&this.hasSilly(t)){let s=this.getRandomLivingPet();return{pet:s.pet,random:s.random}}let e=t.position,i=this.opponent.getPetAtPosition(e);if(i&&i.alive)return{pet:i,random:!1};for(let s=1;s<=4;s++){if(i=this.opponent.getPetAtPosition(e+s),i&&i.alive)return{pet:i,random:!1};if(i=this.opponent.getPetAtPosition(e-s),i&&i.alive)return{pet:i,random:!1}}return{pet:null,random:!1}}hasSilly(t){var e;return"Silly"===(null===(e=t.equipment)||void 0===e?void 0:e.name)}getRandomLivingPet(t){let e=[...this.petArray,...this.opponent.petArray],i=this.getPetsWithEquipment("Donut").filter(l=>!(null==t?void 0:t.includes(l))),s=this.getPetsWithEquipment("Blueberry").filter(l=>!(null==t?void 0:t.includes(l))),r=this.opponent.getPetsWithEquipment("Donut").filter(l=>!(null==t?void 0:t.includes(l))),a=this.opponent.getPetsWithEquipment("Blueberry").filter(l=>!(null==t?void 0:t.includes(l)));return(i.length>0||s.length>0||r.length>0||a.length>0)&&(e=[...i,...s,...r,...a]),e=e.filter(l=>{let h=!0;return t&&(h=!t.includes(l)),h&&l.health>0}),0==e.length?{pet:null,random:!1}:{pet:e[Yn(0,e.length-1)],random:e.length>1}}}let Vp=(()=>{class n{static setInjector(e){n.injector||(n.injector=e)}static getInjector(){return n.injector}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class b_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ant",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=1==this.level?{health:1,attack:1}:2==this.level?{health:2,attack:2}:{health:3,attack:3},r=this.parent.getRandomPet([this],!0,!1,!0,this);null!=r.pet&&(this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${s.attack} attack and ${s.health} health.`,type:"ability",randomEvent:r.random,player:this.parent,tiger:e,pteranodon:i}),r.pet.increaseAttack(s.attack),r.pet.increaseHealth(s.health),this.superFaint(t,e),this.done=!0)}}class yh extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Cricket",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class PC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cricket",this.tier=1,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=1,r=0;2==this.level?(r=2,s=2):3==this.level&&(r=5,s=3);let a=new yh(this.logService,this.abilityService,this.parent,null,null,null,r),o=this.parent.summonPet(a,this.savedPosition,!1,this);o.success&&(this.logService.createLog({message:`${this.name} spawned Zombie Cricket Level ${s}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a)),super.superAfterFaint(t,e,i)}}class S_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fish",this.tier=1,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(o,s,r,a,l)}}class AC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Horse",this.tier=1,this.pack="Turtle",this.health=1,this.attack=2,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let s=this.parent.getSpecificPet(this,e);null!=s.pet&&(s.pet.increaseAttack(this.level),this.logService.createLog({message:`${this.name} gave ${e.name} ${this.level} attack`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),super.superFriendSummoned(t,e,i))}}class DC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosquito",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;let s=i.getRandomPets(this.level,null,null,!0,this);for(let r of s.pets)null!=r&&this.snipePet(r,1,s.random,e);super.superStartOfBattle(t,e)}}class w_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duck",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}}class E_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beaver",this.tier=1,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(o,s,r,a,l)}}class TC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Otter",this.tier=1,this.pack="Turtle",this.health=4,this.attack=1,this.initPet(o,s,r,a,l)}}class xC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pig",this.tier=1,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(o,s,r,a,l)}}class MC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mouse",this.tier=1,this.pack="Custom",this.health=2,this.attack=1,this.initPet(o,s,r,a,l)}}class Sz extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snail",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}}class RC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crab",this.tier=2,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(!this.alive)return;let i=this.parent.getHighestHealthPet(this,this);if(null==i.pet)return;let s=Math.floor(i.pet.health*(.25*this.level)),r=this.parent.getThis(this);r.pet&&(r.pet.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${.25*this.level*100}% of ${i.pet.name}'s health (${s})`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random})),super.superStartOfBattle(t,e)}}class IC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Swan",this.tier=2,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,s,r,a,l)}}class k_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dirty Rat",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class OC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rat",this.tier=2,this.pack="Turtle",this.health=6,this.attack=3,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;for(let r=0;r<this.level;r++){let a=new k_(this.logService,this.abilityService,s,null,null,0,0),o=s.summonPet(a,0,!1,this);o.success&&(this.logService.createLog({message:`${this.name} Summoned Dirty Rat on Opponent`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a))}super.superAfterFaint(t,e,i)}}class NC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hedgehog",this.tier=2,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getAll(!0,this),r=s.pets;if(0==r.length)return;let a=2*this.level;for(let o of r)this.snipePet(o,a,s.random,e,i);super.superFaint(t,e),this.done=!0}}class LC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Peacock",this.tier=2,this.pack="Turtle",this.health=5,this.attack=2,this.initPet(o,s,r,a,l)}hurt(t,e,i){if(this.health<1)return;let s=3*this.level,r=this.parent.getThis(this);r.pet&&(r.pet.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random})),super.superHurt(t,e,i)}}class BC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flamingo",this.tier=2,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let a=this.parent.nearestPetsBehind(2,this).pets;if(0!=a.length){for(let o of a)o.increaseAttack(this.level),o.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${o.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});super.superFaint(t,e)}}}class $C extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Worm",this.tier=2,this.pack="Turtle",this.health=1,this.attack=3,this.initPet(o,s,r,a,l)}}class VC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kangaroo",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}friendAheadAttacks(t,e,i){if(!this.alive)return;let s=this.parent.getThis(this);s.pet&&(s.pet.increaseAttack(this.level),s.pet.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${s.pet.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})),super.superFriendAheadAttacks(t,e,i)}}class FC extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Spider",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let s;s=this.parent==t.player?t.playerPetPool.get(3):t.opponentPetPool.get(3);let r=s.filter(m=>"Spider"!=m),a=r[Yn(0,r.length-1)],o=this.level,l=2*this.level,h=this.petService.createPet({attack:l,exp:this.minExpForLevel,equipment:null,health:l,name:a,mana:0},this.parent);this.parent.summonPet(h,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned ${h.name} level ${o} (${l}/${l})`,type:"ability",player:this.parent,randomEvent:!0,tiger:e,pteranodon:i}),this.abilityService.triggerFriendSummonedEvents(h)),super.superAfterFaint(t,e,i)}}class HC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dodo",this.tier=3,this.pack="Turtle",this.health=2,this.attack=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(1,this);if(0===i.pets.length)return;let s=i.pets[0],r=Math.floor(this.attack*(.5*this.level));s.increaseAttack(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack.`,player:this.parent,type:"ability",tiger:e,randomEvent:i.random}),super.superStartOfBattle(t,e)}}class qC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Badger",this.tier=3,this.pack="Turtle",this.health=3,this.attack=6,this.initPet(o,s,r,a,l)}faint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;let r=Math.floor(this.attack*(.5*this.level)),a=this.parent.nearestPetsBehind(1,this);a.pets.length>0&&this.snipePet(a.pets[0],r,a.random,e,i);let o=this.parent.nearestPetsAhead(1,this,void 0,!0);o.pets.length>0&&this.snipePet(o.pets[0],r,o.random,e,i),super.superFaint(t,e),this.done=!0}}class C_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dolphin",this.tier=3,this.pack="Turtle",this.health=3,this.attack=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet(null,this);if(!r.pet)break;this.snipePet(r.pet,4,r.random,e)}super.superStartOfBattle(t,e)}}class UC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giraffe",this.tier=3,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class GC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant",this.tier=3,this.pack="Turtle",this.health=7,this.attack=3,this.initPet(o,s,r,a,l)}afterAttack(t,e){for(let i=0;i<this.level;i++){let s=this.parent.nearestPetsBehind(1,this);s.pets.length>0&&this.snipePet(s.pets[0],1,s.random,e)}super.superAfterAttack(t,e)}}class jC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Camel",this.tier=3,this.pack="Turtle",this.health=3,this.attack=3,this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=this.parent.nearestPetsBehind(1,this);if(0===s.pets.length)return;let r=s.pets[0],a=2*this.level;r.increaseAttack(this.level),r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${this.level} attack and ${a} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),super.superHurt(t,e,i)}}class WC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rabbit",this.tier=3,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,s,r,a,l)}friendAteFood(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.level,r=this.parent.getSpecificPet(this,e),a=r.pet;null!=a&&(a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),this.abilityUses++,this.superFriendGainedPerk(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class Wr extends ne{constructor(){super(...arguments),this.name="Melon",this.tier=6,this.equipmentClass="shield",this.power=20,this.originalPower=20,this.uses=1,this.originalUses=1}}class zC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ox",this.tier=3,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,s,r,a,l)}friendAheadFaints(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getThis(this),r=s.pet;if(null==r)return;r.increaseAttack(1),this.logService.createLog({message:`${this.name} gave ${r.name} +1 attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random});let a=this.parent.getThis(this),o=a.pet;null!=o&&(o.givePetEquipment(new Wr),this.logService.createLog({message:`${this.name} gave ${o.name} Melon.`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random}),this.abilityUses++,super.superFriendAheadFaints(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class KC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dog",this.tier=3,this.pack="Turtle",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){if(e==this)return;let s=2*this.level,r=this.level,a=this.parent.getThis(this);a.pet&&(a.pet.increaseAttack(s),a.pet.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${a.pet.name} ${s} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random})),super.superFriendSummoned(t,e,i)}}class P_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ram",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}}class QC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sheep",this.tier=3,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<2;s++){let r=new P_(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel),a=this.parent.summonPet(r,this.savedPosition,!1,this);a.success&&(this.logService.createLog({message:`${this.name} spawned Ram (${r.attack}/${r.health}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a.randomEvent}),this.abilityService.triggerFriendSummonedEvents(r))}super.superAfterFaint(t,e,i)}}class YC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tiger",this.tier=6,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}}class _h extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Parrot",this.tier=4,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(l,r,a,o,h)}endTurn(t){var e,i,s,r,a,o,l,h,d,m,y,S,k,T,P,N,I,H,O,G,Q,ae,ce,ge,_e,Be,qe,Ze,Wt,zt,X,se,ve,Me,_t,li,It,pi,ct;let me=this.petAhead;this.copyPet=me,me instanceof _h&&(me=me.copyPet,this.logService.createLog({message:`Parrot copied ${this.petAhead.name}`,type:"ability",player:this.parent})),null!=me&&(this.startOfBattle=null===(e=me.originalStartOfBattle)||void 0===e?void 0:e.bind(this),this.hurt=null===(i=me.originalHurt)||void 0===i?void 0:i.bind(this),this.faint=null===(s=me.originalFaint)||void 0===s?void 0:s.bind(this),this.friendSummoned=null===(r=me.originalFriendSummoned)||void 0===r?void 0:r.bind(this),this.friendAheadAttacks=null===(a=me.originalFriendAheadAttacks)||void 0===a?void 0:a.bind(this),this.friendAheadFaints=null===(o=me.originalFriendAheadFaints)||void 0===o?void 0:o.bind(this),this.friendFaints=null===(l=me.originalFriendFaints)||void 0===l?void 0:l.bind(this),this.enemyAttack=null===(h=me.originalEnemyAttack)||void 0===h?void 0:h.bind(this),this.afterAttack=null===(d=me.originalAfterAttack)||void 0===d?void 0:d.bind(this),this.beforeAttack=null===(m=me.originalBeforeAttack)||void 0===m?void 0:m.bind(this),this.beforeStartOfBattle=null===(y=me.originalBeforeStartOfBattle)||void 0===y?void 0:y.bind(this),this.knockOut=null===(S=me.originalKnockOut)||void 0===S?void 0:S.bind(this),this.summoned=null===(k=me.originalSummoned)||void 0===k?void 0:k.bind(this),this.friendlyToyBroke=null===(T=me.originalFriendlyToyBroke)||void 0===T?void 0:T.bind(this),this.friendGainedAilment=null===(P=me.originalFriendGainedAilment)||void 0===P?void 0:P.bind(this),this.friendHurt=null===(N=me.originalFriendHurt)||void 0===N?void 0:N.bind(this),this.friendTransformed=null===(I=me.originalFriendTransformed)||void 0===I?void 0:I.bind(this),this.eatsFood=null===(H=me.originalEatsFood)||void 0===H?void 0:H.bind(this),this.friendAteFood=null===(O=me.originalFriendAteFood)||void 0===O?void 0:O.bind(this),this.friendLostPerk=null===(G=me.originalFriendLostPerk)||void 0===G?void 0:G.bind(this),this.gainedPerk=null===(Q=me.originalGainedPerk)||void 0===Q?void 0:Q.bind(this),this.friendGainedPerk=null===(ae=me.originalFriendGainedPerk)||void 0===ae?void 0:ae.bind(this),this.anyoneLevelUp=null===(ce=me.originalAnyoneLevelUp)||void 0===ce?void 0:ce.bind(this),this.enemySummoned=null===(ge=me.originalEnemySummoned)||void 0===ge?void 0:ge.bind(this),this.enemyPushed=null===(_e=me.originalEnemyPushed)||void 0===_e?void 0:_e.bind(this),this.gainedMana=null===(Be=me.originalGainedMana)||void 0===Be?void 0:Be.bind(this),this.friendJumped=null===(qe=me.originalFriendJumped)||void 0===qe?void 0:qe.bind(this),this.enemyGainedAilment=null===(Ze=me.originalEnemyGainedAilment)||void 0===Ze?void 0:Ze.bind(this),this.friendGainsHealth=null===(Wt=me.originalFriendGainsHealth)||void 0===Wt?void 0:Wt.bind(this),this.emptyFrontSpace=null===(zt=me.originalEmptyFrontSpace)||void 0===zt?void 0:zt.bind(this),this.enemyHurt=null===(X=me.originalEnemyHurt)||void 0===X?void 0:X.bind(this),this.afterFaint=null===(se=me.originalAfterFaint)||void 0===se?void 0:se.bind(this),this.transform=null===(ve=me.originalTransform)||void 0===ve?void 0:ve.bind(this),this.adjacentAttacked=null===(Me=me.originalAdjacentAttacked)||void 0===Me?void 0:Me.bind(this),this.friendAttacks=null===(_t=me.originalFriendAttacks)||void 0===_t?void 0:_t.bind(this),this.beforeFriendAttacks=null===(li=me.originalBeforeFriendAttacks)||void 0===li?void 0:li.bind(this),this.enemyJumped=null===(It=me.originalEnemyJumped)||void 0===It?void 0:It.bind(this),this.friendGainedExperience=null===(pi=me.originalFriendGainedExperience)||void 0===pi?void 0:pi.bind(this),this.maxAbilityUses=me.maxAbilityUses,this.setAbilityUses=null===(ct=me.setAbilityUses)||void 0===ct?void 0:ct.bind(this),this.setAbilityUses(),me instanceof _h||this.logService.createLog({message:`Parrot copied ${me.name}`,type:"ability",player:this.parent}))}}class JC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Skunk",this.tier=4,this.pack="Turtle",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=Ft(t,this.parent).getHighestHealthPet(void 0,this),r=s.pet;if(null==r)return;let a=.33*this.level,o=Math.max(1,Math.floor(r.health*(1-a)));r.health=o,this.logService.createLog({message:`${this.name} reduced ${r.name} health by ${100*a}% (${o})`,type:"ability",player:this.parent,randomEvent:s.random,tiger:e}),this.superStartOfBattle(t,e)}}class ZC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hippo",this.tier=4,this.pack="Turtle",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}knockOut(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=3*this.level,r=this.parent.getThis(this),a=r.pet;null!=a&&(a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),this.superKnockOut(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class XC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bison",this.tier=4,this.pack="Turtle",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}}class eP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blowfish",this.tier=4,this.pack="Turtle",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=3*this.level,r=Ft(t,this.parent).getRandomPet([],!1,!0,!1,this);r.pet&&this.snipePet(r.pet,s,r.random,i),this.superHurt(t,e,i)}}class tP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turtle",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.nearestPetsBehind(this.level,this,"Melon");if(0!==s.pets.length){for(let r of s.pets)this.logService.createLog({message:`${this.name} gave ${r.name} Melon.`,type:"ability",tiger:e,player:this.parent,pteranodon:i,randomEvent:s.random}),r.givePetEquipment(new Wr);this.superFaint(t,e)}}}class iP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squirrel",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}}class nP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Penguin",this.tier=4,this.pack="Turtle",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class A_ extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Chili",this.equipmentClass="skewer",this.power=0,this.originalPower=0,this.attackCallback=(i,s)=>{let r=s.parent.getPetAtPosition(1);if(null==r)return;let a=i.calculateDamgae(r,i.getManticoreMult(),5),o=a.defenseEquipment,l=a.damage*this.multiplier;i.dealDamage(r,l);let h=`${i.name} attacks ${r.name} for ${l}`;if(this.multiplier>1&&(h+=` x${this.multiplier}${this.multiplierMessage}`),null!=o){r.useDefenseEquipment();let d=Math.abs(o.power),m="-";o.power<0&&(m="+"),h+=` (${o.name} ${m}${d})`}this.logService.createLog({message:h+=" (Chili).",type:"attack",player:i.parent})}}}class D_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bus",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=3,this.attack=5,this.initPet(o,s,r,a,l)}}class sP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Deer",this.tier=4,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=new D_(this.logService,this.abilityService,this.parent,null,null,null,this.minExpForLevel,new A_(this.logService,this.abilityService)),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} spawned Bus level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),super.superAfterFaint(t,e,i)}}class rP extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Whale",this.tier=4,this.pack="Turtle",this.attack=3,this.health=7,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(1,this);if(0===i.pets.length)return;let s=i.pets[0],r=this.petService.createPet({name:s.name,attack:s.attack,health:s.health,exp:this.exp,equipment:null,mana:0},this.parent);this.swallowedPets.push(r),s.health=0,this.logService.createLog({message:`${this.name} swallowed ${s.name}`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.superStartOfBattle(t,e)}afterFaint(t,e,i){for(;this.swallowedPets.length>0;){let s=this.swallowedPets.shift(),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} summoned ${s.name} (level ${s.level}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s))}super.superAfterFaint(t,e,i)}}class bh extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bee",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class T_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Angry Pygmy Hog",this.tier=2,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}}class aP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Scorpion",this.tier=5,this.pack="Turtle",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}summoned(t,e){let i=new vh,s=this.parent.getThis(this),r=s.pet;null!=r&&(r.givePetEquipment(i),this.logService.createLog({message:`${this.name} gave ${r.name} the Peanut perk.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.superSummoned(t,e))}}class oP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crocodile",this.tier=5,this.pack="Turtle",this.attack=8,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){for(let i=0;i<this.level;i++){let s=Ft(t,this.parent).getLastPet(void 0,this),r=s.pet;r&&this.snipePet(r,8,s.random,e)}super.superStartOfBattle(t,e)}}class lP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rhino",this.tier=5,this.pack="Turtle",this.attack=6,this.health=9,this.initPet(o,s,r,a,l)}knockOut(t,e,i){let s=Ft(t,this.parent).getFurthestUpPet(this),r=s.pet;if(null==r)return;let a=4*this.level;1==r.tier&&(a*=2),this.snipePet(r,a,s.random,i),this.superKnockOut(t,e,i)}}class x_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monkey",this.tier=5,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class cP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Armadillo",this.tier=5,this.pack="Turtle",this.attack=2,this.health=10,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getAll(!0,this),s=i.pets;if(0!=s.length){for(let r of s){if(!r.alive)continue;let a=8*this.level;r.increaseHealth(a),this.logService.createLog({message:`${this.name} increased health of ${r.name} by ${a}.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random})}this.superStartOfBattle(t,e)}}}class uP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cow",this.tier=5,this.pack="Turtle",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}}class hP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seal",this.tier=5,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(o,s,r,a,l)}eatsFood(t,e,i){if(e!=this)return;let s=this.level,r=this.parent.getRandomPets(3,[this],!0,!1,this);for(let a of r.pets)null!=a&&(a.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}));this.superGainedPerk(t,e,i)}}class M_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chick",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class dP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rooster",this.tier=5,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=Math.max(Math.floor(.5*this.attack),1);for(let r=0;r<this.level;r++){let a=new M_(this.logService,this.abilityService,this.parent,1,s,0,this.minExpForLevel),o=this.parent.summonPet(a,this.savedPosition,!1,this);o.success&&(this.logService.createLog({message:`${this.name} spawned Chick (${s}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a))}super.superAfterFaint(t,e,i)}}class fP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shark",this.tier=5,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(e==this)return;let s={attack:2*this.level,health:2*this.level},r=this.parent.getThis(this),a=r.pet;null!=a&&(a.increaseAttack(s.attack),a.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${a.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),super.superFriendFaints(t,e,i))}}class pP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turkey",this.tier=5,this.pack="Turtle",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let s={attack:3*this.level,health:1*this.level},r=this.parent.getSpecificPet(this,e),a=r.pet;null!=a&&(a.increaseAttack(s.attack),a.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${a.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),super.superFriendSummoned(t,e,i))}}class gP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leopard",this.tier=6,this.pack="Turtle",this.attack=10,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.floor(.5*this.attack),s=this.parent.opponent.getRandomPets(this.level,null,null,!0,this);for(let r of s.pets)null!=r&&this.snipePet(r,i,s.random,e);this.superStartOfBattle(t,e)}}class mP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Boar",this.tier=6,this.pack="Turtle",this.attack=10,this.health=6,this.initPet(o,s,r,a,l)}beforeAttack(t,e){let i={attack:4*this.level,health:2*this.level},s=this.parent.getThis(this),r=s.pet;null!=r&&(r.increaseAttack(i.attack),r.increaseHealth(i.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${i.attack} attack and ${i.health} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.superBeforeAttack(t,e))}}class vP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wolverine",this.tier=6,this.pack="Turtle",this.attack=5,this.health=7,this.attackCounter=0,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){e!=this&&(i||(this.attackCounter++,this.logService.createLog({message:`${this.name} increased counter: (${this.attackCounter%4}/4)}`,type:"ability",player:this.parent,tiger:i})),this.attackCounter%4==0&&(this.abilityService.setCounterEvent({callback:()=>{let s=this.parent.opponent.getAll(!1,this),r=s.pets;if(0!=r.length)for(let a of r){let o=-3*this.level;a.increaseHealth(o),this.logService.createLog({message:`${this.name} reduced ${a.name} health by ${Math.abs(o)}`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})}},priority:this.attack,pet:this}),this.superFriendHurt(t,e,i)))}}class Ua extends ne{constructor(){super(...arguments),this.name="Coconut",this.equipmentClass="shield",this.power=999,this.originalPower=999,this.uses=1,this.originalUses=1}}class yP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gorilla",this.tier=6,this.pack="Turtle",this.attack=7,this.health=10,this.initPet(o,s,r,a,l)}hurt(t,e,i){if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;let r=this.parent.getThis(this).pet;null!=r&&(r.givePetEquipment(new Ua),this.logService.createLog({message:`${this.name} gave ${r.name} a Coconut.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,super.superHurt(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class _P extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragon",this.tier=6,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(o,s,r,a,l)}}class bP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mammoth",this.tier=6,this.pack="Turtle",this.attack=4,this.health=12,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=2*this.level,r=this.parent.getRandomPets(5,null,null,null,this),a=r.pets;if(0!=a.length){for(let o of a)o.increaseAttack(s),o.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.random});super.superFaint(t,e)}}}class SP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cat",this.tier=6,this.pack="Turtle",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}}class wP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snake",this.tier=6,this.pack="Turtle",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}friendAheadAttacks(t,e,i){let s=5*this.level,r=Ft(t,this.parent).getRandomPet([],!1,!0,!1,this);!r.pet||(this.snipePet(r.pet,s,r.random,i),this.superFriendAheadAttacks(t,e,i))}}class Fp extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Fly",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=4,this.attack=4,this.initPet(o,s,r,a,l)}}class EP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fly",this.tier=6,this.pack="Turtle",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(!this.alive||e instanceof Fp||this.abilityUses>=this.maxAbilityUses)return;let s=new Fp(this.logService,this.abilityService,this.parent,null,null,null,this.minExpForLevel),r=this.parent.summonPet(s,e.savedPosition,!0,this);r.success&&(this.abilityUses++,this.logService.createLog({message:`${this.name} spawned Zombie Fly Level ${this.level}`,type:"ability",player:this.parent,tiger:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),super.superFriendFaints(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class kP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moth",this.tier=1,this.pack="Puppy",this.health=3,this.attack=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getFurthestUpPet(this),s=i.pet;if(null==s)return;let r=2*this.level;s.increaseAttack(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.superStartOfBattle(t,e)}}class CP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bluebird",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}}class PP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chinchilla",this.tier=1,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class fc extends ne{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Garlic",this.tier=3,this.power=2,this.originalPower=2,this.minimumDamage=2}}class R_ extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Honey",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.afterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=(a,o)=>{var l;if(null!=r&&r(a,o),!o&&"Honey"==(null===(l=i.equipment)||void 0===l?void 0:l.name))for(let h=0;h<this.multiplier;h++){let d=new bh(this.logService,this.abilityService,i.parent,null,null,0);this.logService.createLog({message:`${i.name} Spawned Bee (Honey)${h>0?this.multiplierMessage:""}`,type:"ability",player:i.parent}),i.parent.summonPet(d,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(d)}}}}}class I_ extends ne{constructor(){super(...arguments),this.name="Meat Bone",this.equipmentClass="attack",this.power=3,this.originalPower=3}}class AP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beetle",this.tier=1,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsBehind(1,this);if(0===i.pets.length)return void super.superStartOfBattle(t,e);let r,s=i.pets[0];switch(this.level){case 1:r=new R_(this.logService,this.abilityService);break;case 2:r=new I_;break;case 3:r=new fc}this.logService.createLog({message:`${this.name} gave ${s.name} ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),s.givePetEquipment(r),super.superStartOfBattle(t,e)}}class DP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ladybug",this.tier=1,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}friendGainedPerk(t,e,i){let s=2*this.level,r=this.parent.getThis(this);r.pet&&(r.pet.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random})),this.superFriendGainedPerk(t,e,i)}}class TP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chipmunk",this.tier=1,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}}class xP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gecko",this.tier=1,this.pack="Puppy",this.attack=3,this.health=1,this.toyPet=!0,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(null==this.parent.toy)return;let i=2*this.level,r=this.parent.getThis(this).pet;null!=r&&(r.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${r.name} ${i} health.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class MP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ferret",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}}class Ga extends ne{constructor(){super(...arguments),this.name="Weak",this.equipmentClass="ailment-defense",this.power=-3,this.originalPower=-3}}class RP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bat",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let s=Ft(t,this.parent).getRandomPet(null,null,!0,null,this),r=s.pet;null!=r&&(r.givePetEquipment(new Ga),this.logService.createLog({message:`${this.name} made ${r.name} weak.`,type:"ability",player:this.parent,randomEvent:s.random,tiger:e})),this.abilityUses++,this.superBeforeAttack(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class IP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bilby",this.tier=2,this.pack="Puppy",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}friendLostPerk(t,e,i){if(this.abilityUses>=this.maxAbilityUses||this==e)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&(this.logService.createLog({message:`${this.name} gave ${r.name} Garlic.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),r.givePetEquipment(new fc),this.abilityUses++,super.superFriendLosPerk(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Hp extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nest",this.tier=1,this.pack="Puppy",this.hidden=!0,this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class OP extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Egg",this.tier=1,this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),o||i.equipment!==this)return;let l=1;l=i instanceof Hp?i.level:this.multiplier;for(let h=0;h<l;h++){let m=(i.parent==a.player?a.opponet:a.player).petArray,y=null;for(let S of m)if(S.alive){y=S;break}null!=y?i.snipePet(y,2,!1,!1,!1,!0,!1):console.warn("egg didn't find target")}i.removePerk()}}}}class NP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Robin",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=new Hp(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel,null);this.logService.createLog({message:`${this.name} summoned a Nest (level ${this.level}).`,type:"ability",player:this.parent,randomEvent:!1,tiger:e});let s=this.parent.summonPetInFront(this,i);s.success&&(this.logService.createLog({message:`${this.name} gave Nest an Egg.`,type:"ability",player:this.parent,randomEvent:s.randomEvent,tiger:e}),i.givePetEquipment(new OP(this.logService,this.abilityService)),this.abilityService.triggerFriendSummonedEvents(i)),this.superStartOfBattle(t,e)}}class LP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dromedary",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class BP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shrimp",this.tier=2,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class I3 extends ne{constructor(){super(...arguments),this.name="Steak",this.equipmentClass="attack",this.tier=6,this.power=20,this.originalPower=20,this.uses=1,this.originalUses=1}}class O3 extends ne{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Mushroom",this.tier=6,this.equipmentClass="afterFaint",this.callback=s=>{var r;let a=null===(r=s.afterFaint)||void 0===r?void 0:r.bind(s);s.afterFaint=(o,l)=>{if(null!=a&&a(o,l),!l&&s.equipment===this)for(let h=0;h<this.multiplier;h++){let d=this.petService.createDefaultVersionOfPet(s,1,1);this.logService.createLog({message:`${s.name} Spawned ${d.name} (level ${d.level}) (Mushroom)${h>0?this.multiplierMessage:""}`,type:"ability",player:s.parent}),s.parent.summonPet(d,s.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(d)}}}}}class N3 extends ne{constructor(){super(),this.name="Croissant",this.tier=3,this.equipmentClass="shop"}}class O_ extends ne{constructor(){super(...arguments),this.name="Rice",this.tier=2,this.equipmentClass="shop"}}class N_ extends ne{constructor(){super(...arguments),this.name="Eucalyptus",this.equipmentClass="shield",this.power=4,this.originalPower=4,this.uses=1,this.originalUses=1}}class L3 extends ne{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Lime",this.tier=2,this.power=1,this.originalPower=1}}class B3 extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Squash",this.tier=3,this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),!o&&i.equipment===this){for(let l=0;l<this.multiplier;l++){let d=(i.parent==a.player?a.opponet:a.player).pet0;if(null==d||!d.alive)return void console.warn("squash didn't find target");let m=6,y=Math.max(1,d.health-m);d.health=y,this.logService.createLog({message:`${this.name} reduced ${d.name} health by ${m} (${y})${l>0?this.multiplierMessage:""}`,type:"equipment",player:i.parent})}i.removePerk()}}}}}class $P extends ne{constructor(t){super(),this.logService=t,this.name="Pie",this.tier=4,this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.beforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=(r,a)=>{if(null!=s&&s(r,a),a)return;let o=4*this.multiplier,l=4*this.multiplier;e.increaseAttack(o),e.increaseHealth(l),this.logService.createLog({message:`${e.name} gained ${o} attack and ${l} health (Pie)${this.multiplierMessage}`,type:"equipment",player:e.parent})}}}}class VP extends ne{constructor(t){super(),this.logService=t,this.name="Skewer",this.tier=5,this.equipmentClass="skewer",this.power=0,this.attackCallback=(e,i)=>{this.skewer(e,i,1),this.skewer(e,i,2)}}skewer(t,e,i){let s=e.parent.getPetAtPosition(i);if(null==s)return;let r=t.calculateDamgae(s,t.getManticoreMult(),3),a=r.defenseEquipment,o=r.damage*this.multiplier;t.dealDamage(s,o);let l=`${t.name} attacks ${s.name} for ${o}`;if(this.multiplier>1&&(l+=` x${this.multiplier}${this.multiplierMessage}`),null!=a){s.useDefenseEquipment();let h=Math.abs(a.power),d="-";a.power<0&&(d="+"),l+=` (${a.name} ${d}${h})`}this.logService.createLog({message:l+=" (Skewer).",type:"attack",player:t.parent})}}class $3 extends ne{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Lemon",this.tier=5,this.power=7,this.originalPower=7,this.uses=2,this.originalUses=2}}class FP extends ne{constructor(t){super(),this.logService=t,this.name="Pancakes",this.tier=6,this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.beforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=(r,a)=>{if(null!=s&&s(r,a),!a)for(let o of e.parent.petArray){if(e==o)continue;let l=2*this.multiplier,h=2*this.multiplier;o.increaseAttack(l),o.increaseHealth(h),this.logService.createLog({message:`${o.name} gained ${l} attack and ${h} health (Pancakes)${this.multiplierMessage}`,type:"equipment",player:e.parent})}}}}}class L_ extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Strawberry",this.equipmentClass="defense",this.tier=1,this.uses=2,this.originalUses=2,this.callback=i=>{var s;let r=null===(s=i.faint)||void 0===s?void 0:s.bind(i);i.faint=(a,o,l)=>{if(null!=r&&r(a,o,l),o)return;const h=i.parent.getLastPet();if(h.pet){const d=1;this.logService.createLog({message:`${i.name} (Strawberry) gave ${h.pet.name} +${d} attack and +${d} health.`,type:"equipment",player:i.parent,randomEvent:h.random}),h.pet.increaseAttack(d),h.pet.increaseHealth(d)}}}}}class V3 extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Baguette",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),o||i.equipment!==this)return;let h=i.parent.opponent.furthestUpPet;if(null!=h&&null!=h.equipment){let d=h.equipment.name;h.removePerk(),this.logService.createLog({message:`${i.name} removed ${d} from ${h.name} (Baguette)`,type:"equipment",player:i.parent}),i.removePerk()}}}}}class F3 extends ne{constructor(){super(...arguments),this.name="Cucumber",this.equipmentClass="shop"}}class H3 extends ne{constructor(){super(...arguments),this.name="Grapes",this.equipmentClass="shop"}}class q3 extends ne{constructor(){super(...arguments),this.name="Carrot",this.equipmentClass="shop"}}class U3 extends ne{constructor(t,e,i,s){super(),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Popcorn",this.equipmentClass="afterFaint",this.callback=r=>{var a;let o=null===(a=r.afterFaint)||void 0===a?void 0:a.bind(r);r.afterFaint=(l,h)=>{if(null!=o&&o(l,h),!h&&r.equipment===this)for(let d=0;d<this.multiplier;d++){let m;m=r.parent==this.gameService.gameApi.player?this.gameService.gameApi.playerPetPool:this.gameService.gameApi.opponentPetPool;let y=m.get(r.tier),S=y[Math.floor(Math.random()*y.length)],k=this.petService.createPet({attack:null,equipment:null,exp:0,health:null,name:S,mana:0},r.parent);this.logService.createLog({message:`${r.name} Spawned ${k.name} (Popcorn)${d>0?this.multiplierMessage:""}`,type:"ability",player:r.parent,randomEvent:!0}),r.parent.summonPet(k,r.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(k)}}}}}class HP extends ne{constructor(){super(...arguments),this.name="Cherry",this.equipmentClass="beforeStartOfBattle",this.callback=t=>{var e;let i=null===(e=t.beforeStartOfBattle)||void 0===e?void 0:e.bind(t);t.beforeStartOfBattle=(s,r)=>{null!=i&&i(s,r),!r&&t.parent.gainTrumpets(2*this.multiplier,t,!1,this.multiplier,!0)}}}}class B_ extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Chocolate Cake",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{var l;if(null!=r&&r(a,o),o||"Chocolate Cake"!=(null===(l=i.equipment)||void 0===l?void 0:l.name))return;let h=3*this.multiplier;this.logService.createLog({message:`${i.name} gained ${h} exp. (Chocolate Cake)${this.multiplierMessage}`,type:"equipment",player:i.parent}),i.increaseExp(h),i.health=0,null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack}),i.removePerk()}}}}class wz extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Cod Roe",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.afterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=(a,o)=>{var l;if(null!=r&&r(a,o),!o&&"Cod Roe"==(null===(l=i.equipment)||void 0===l?void 0:l.name))for(let h=0;h<this.multiplier;h++){let d=new S_(this.logService,this.abilityService,i.parent,3,2,0,0);this.logService.createLog({message:`${i.name} spawned ${d.name} (Cod Roe)${h>0?this.multiplierMessage:""}`,type:"equipment",player:i.parent}),i.parent.summonPet(d,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(d)}}}}}class qP extends ne{constructor(t){super(),this.logService=t,this.name="Eggplant",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.beforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=(r,a)=>{if(null!=s&&s(r,a),!a)for(let o=0;o<this.multiplier;o++){let l=e.parent.opponent,h=l.getPet(e.position);if(null==h)return;this.logService.createLog({message:`${e.name} pushed ${h.name} 1 space forward. (Eggplant)`,type:"equipment",player:e.parent}),l.pushPet(h,1)}}}}}class G3 extends ne{constructor(){super(...arguments),this.name="Potato",this.equipmentClass="shield-snipe",this.power=10,this.uses=2,this.originalUses=2,this.originalPower=10}}class j3 extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Banana",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.afterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=(a,o)=>{if(null!=r&&r(a,o),!o&&i.equipment===this)for(let l=0;l<this.multiplier;l++){let h=new x_(this.logService,this.abilityService,i.parent,4,4,0,0);this.logService.createLog({message:`${i.name} Spawned Monkey (Banana)${l>0?this.multiplierMessage:""}`,type:"ability",player:i.parent}),i.parent.summonPet(h,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(h)}}}}}class W3 extends ne{constructor(t){super(),this.logService=t,this.name="Pita Bread",this.tier=6,this.power=0,this.equipmentClass="hurt",this.callback=e=>{var i;let s=null===(i=e.hurt)||void 0===i?void 0:i.bind(e);e.hurt=(r,a,o)=>{var l;if(null!=s&&s(r,a,o),o||"Pita Bread"!=(null===(l=a.equipment)||void 0===l?void 0:l.name)||!a.alive)return;let h=15*this.multiplier;a.increaseHealth(h);let d=`${a.name} gained ${h} health. (Pita Bread)${this.multiplierMessage}`;d+=".",this.logService.createLog({message:d,type:"equipment",player:a.parent}),a.removePerk()}}}}class z3 extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Tomato",this.tier=6,this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),!o&&i.equipment===this){for(let l=0;l<this.multiplier;l++){let d=(i.parent==a.player?a.opponet:a.player).getLastPet();if(null==d.pet)break;i.snipePet(d.pet,10,d.random,!1,!1,!0,!1)}i.removePerk()}}}}}class Ez extends ne{constructor(t){super(),this.logService=t,this.name="Sudduth Tomato",this.equipmentClass="hurt",this.callback=e=>{var i;let s=null===(i=e.hurt)||void 0===i?void 0:i.bind(e);e.hurt=(r,a,o)=>{var l;if(null!=s&&s(r,a,o),o||"Sudduth Tomato"!=(null===(l=a.equipment)||void 0===l?void 0:l.name)||!a.alive)return;let h=1*this.multiplier;a.increaseHealth(h),this.logService.createLog({message:`${a.name} gained ${h} health (Sudduth Tomato)${this.multiplierMessage}`,type:"equipment",player:a.parent}),a.removePerk()}}}}class kz extends ne{constructor(t){super(),this.logService=t,this.name="Unagi",this.equipmentClass="startOfBattle",this.callback=e=>{var i;let s=null===(i=e.startOfBattle)||void 0===i?void 0:i.bind(e);e.startOfBattle=(r,a)=>{var o;if(null!=s&&s(r,a),a||"Unagi"!=(null===(o=e.equipment)||void 0===o?void 0:o.name))return;let l=e.parent.opponent.getRandomPet([],!1,!0,!1,e);l.pet&&e.snipePet(l.pet,2*this.multiplier,!0,!1,!1,!0,!1)}}}}class K3 extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Durian",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),!o&&i.equipment===this){for(let l=0;l<this.multiplier;l++){let d=(i.parent==a.player?a.opponet:a.player).getHighestHealthPet(),m=d.pet;if(null==m){console.warn("durian didn't find target");continue}let y=.33,S=Math.max(1,Math.floor(m.health*(1-y)));m.health=S,this.logService.createLog({message:`${this.name} reduced ${m.name} health by ${100*y}% (${S})${l>0?this.multiplierMessage:""}`,type:"ability",player:i.parent,randomEvent:d.random})}i.removePerk()}}}}}class Cz extends ne{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Gros Michel Banana",this.equipmentClass="beforeAttack",this.callback=s=>{var r;let a=null===(r=s.beforeAttack)||void 0===r?void 0:r.bind(s);s.beforeAttack=(o,l)=>{var h;if(null!=a&&a(o,l),l||"Gros Michel Banana"!=(null===(h=s.equipment)||void 0===h?void 0:h.name))return;let d=this.petService.createPet({name:"Ant",attack:s.attack,health:s.health,mana:s.mana,exp:s.exp,equipment:null},s.parent);this.logService.createLog({message:`${s.name} transformed into ${d.name} (Gros Michel Banana)`,type:"equipment",player:s.parent}),s.parent.transformPet(s,d)}}}}class Q3 extends ne{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Seaweed",this.equipmentClass="beforeAttack",this.callback=s=>{var r;let a=null===(r=s.beforeAttack)||void 0===r?void 0:r.bind(s);s.beforeAttack=(o,l)=>{if(null!=a&&a(o,l),l||s.equipment!==this)return;let h=this.petService.createPet({name:"Baby Urchin",attack:s.attack,health:s.health,mana:s.mana,exp:s.exp,equipment:null},s.parent);this.logService.createLog({message:`${s.name} transformed into ${h.name} (Seaweed)`,type:"equipment",player:s.parent}),s.parent.transformPet(s,h)}}}}class Y3 extends ne{constructor(){super(),this.name="Blueberry",this.equipmentClass="target"}}class J3 extends ne{constructor(){super(),this.name="Donut",this.equipmentClass="target"}}class Z3 extends ne{constructor(){super(),this.name="Pineapple",this.equipmentClass="attack-snipe",this.power=2}}class X3 extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Fig",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),!o&&i.equipment==this){for(let l=0;l<this.multiplier;l++){let d=(i.parent==a.player?a.opponet:a.player).getLowestHealthPet().pet;if(null==d)return void console.warn("fig didn't find target");i.snipePet(d,4,!0,!1,!1,!0,!1)}i.removePerk()}}}}}class eV extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Caramel",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),o||i.equipment!==this)return;let l=i.parent.petArray.filter(S=>{var k;return S.alive&&"Caramel"===(null===(k=S.equipment)||void 0===k?void 0:k.name)});if(0===l.length)return;let h=3*l.length,m=(i.parent===a.player?a.opponet:a.player).getHighestHealthPet(),y=m.pet;if(null!=y){i.snipePet(y,h,m.random,o,!1,!0,!1);for(let S of l)S.removePerk(),this.logService.createLog({message:`${S.name} lost Caramel equipment`,type:"ability",player:i.parent,tiger:!1})}}}}}class $_ extends ne{constructor(t){super(),this.logService=t,this.name="Rambutan",this.equipmentClass="beforeAttack",this.callback=e=>{var i;let s=null===(i=e.beforeAttack)||void 0===i?void 0:i.bind(e);e.beforeAttack=(r,a)=>{if(null!=s&&s(r,a),a||e.equipment!==this)return;let l=3*this.multiplier;this.logService.createLog({message:`${e.name} gained ${l} mana. (Rambutan)${this.multiplierMessage}`,type:"equipment",player:e.parent}),e.increaseMana(l)}}}}class UP extends ne{constructor(t){super(),this.logService=t,this.name="Love Potion",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.beforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=(r,a)=>{if(null!=s&&s(r,a),a)return;let o=e.petAhead;if(null==o)return;let l=2*this.multiplier;this.logService.createLog({message:`${e.name} gave ${o.name} ${l} health (Love Potion)${this.multiplierMessage}.`,type:"equipment",player:e.parent}),o.increaseHealth(l)}}}}class tV extends ne{constructor(t){super(),this.logService=t,this.name="Fairy Dust",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{let i=r=>{if(null!=r.parent.pet0)return;let a=2*this.multiplier;this.logService.createLog({message:`${r.name} pushed itself to the front and gained ${a} mana(Fairy Dust)${this.multiplierMessage}.`,type:"ability",player:r.parent}),r.parent.pushPetToFront(r,!0),r.increaseMana(a)},s=e.emptyFrontSpace;e.emptyFrontSpace=(r,a)=>{var o;null!=s&&s(r,a),!a&&"Tomato"==(null===(o=e.equipment)||void 0===o?void 0:o.name)&&(i(e),e.removePerk())}}}}class GP extends ne{constructor(t){super(),this.logService=t,this.name="Gingerbread Man",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.beforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=(r,a)=>{if(null!=s&&s(r,a),a)return;let o=1*this.multiplier;this.logService.createLog({message:`${e.name} gained ${o} experience (Gingerbread Man)${this.multiplierMessage}.`,type:"equipment",player:e.parent}),e.increaseExp(o)}}}}class V_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monty",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=3,this.attack=3,this.initPet(o,s,r,a,l)}}class iV extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Easter Egg",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.afterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=(a,o)=>{var l;if(null!=r&&r(a,o),!o&&"Easter Egg"==(null===(l=i.equipment)||void 0===l?void 0:l.name))for(let h=0;h<this.multiplier;h++){let d=new V_(this.logService,this.abilityService,i.parent,null,null,0,0);this.logService.createLog({message:`${i.name} Spawned Monty (Easter Egg)${h>0?this.multiplierMessage:""}`,type:"ability",player:i.parent}),i.parent.summonPet(d,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(d)}}}}}class jP extends ne{constructor(t){super(),this.logService=t,this.name="Health Potion",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.beforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=(r,a)=>{if(null!=s&&s(r,a),a)return;let o=2*this.multiplier,l=e.parent.furthestUpPet;null!=l&&(this.logService.createLog({message:`${e.name} gave ${o} health to ${l.name} (Health Potion)${this.multiplierMessage}.`,type:"equipment",player:e.parent}),l.increaseHealth(o))}}}}class nV extends ne{constructor(){super(),this.name="Magic Beans",this.equipmentClass="shop"}}class sV extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Golden Egg",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),o||i.equipment!==this)return;let h=(i.parent==a.player?a.opponet:a.player).petArray,d=null;for(let m of h)if(m.alive){d=m;break}if(null!=d){for(let m=0;m<this.multiplier;m++)i.snipePet(d,6,!1,!1,!1,!0,!1);i.removePerk()}else console.warn("golden egg didn't find target")}}}}class WP extends ne{constructor(){super(...arguments),this.name="Cold",this.equipmentClass="ailment-defense",this.power=-5,this.originalPower=-5,this.uses=1,this.originalUses=1}}class zP extends ne{constructor(){super(...arguments),this.name="Ink",this.equipmentClass="ailment-attack",this.power=-3,this.originalPower=-3}}class qp extends ne{constructor(){super(...arguments),this.name="Spooked",this.equipmentClass="ailment-defense",this.power=-1,this.originalPower=-1}}class rV extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Tasty",this.equipmentClass="faint",this.callback=i=>{var s;let r=null===(s=i.afterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=(a,o)=>{var l;if(null!=r&&r(a,o),o||"Tasty"!=(null===(l=i.equipment)||void 0===l?void 0:l.name))return;let d=(i.parent==a.player?a.opponet:a.player).petArray.filter(y=>y.alive);if(0==d.length)return;let m=d[Math.floor(Math.random()*d.length)];m.increaseAttack(2),m.increaseHealth(2),this.logService.createLog({message:`${i.name} gave ${m.name} +2 attack and +2 health (Tasty)`,type:"equipment",player:i.parent,randomEvent:d.length>1})}}}}class F_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tandgnost",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}}class H_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tandgrisner",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}}class Pz extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Yggdrasil Fruit",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.afterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=(a,o)=>{if(null!=r&&r(a,o),!o&&i.equipment===this)for(let l=0;l<this.multiplier;l++){let h=new F_(this.logService,this.abilityService,i.parent,3,3,0),d=new H_(this.logService,this.abilityService,i.parent,3,3,0),m=l>0?this.multiplierMessage:"";this.logService.createLog({message:`${i.name} Spawned Tandgnost (Yggdrasil Fruit)${m}`,type:"ability",player:i.parent}),i.parent.summonPet(h,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(h),this.logService.createLog({message:`${i.name} Spawned Tandgrisner (Yggdrasil Fruit)${m}`,type:"ability",player:i.parent}),i.parent.summonPet(d,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(d)}}}}}class Az extends ne{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Cocoa Bean",this.tier=5,this.equipmentClass="beforeAttack",this.power=0,this.originalPower=0,this.uses=1,this.originalUses=1,this.callback=s=>{var r;let a=null===(r=s.beforeAttack)||void 0===r?void 0:r.bind(s);s.beforeAttack=(o,l)=>{var h;if(null!=a&&a(o,l),l||"Cocoa Bean"!=(null===(h=s.equipment)||void 0===h?void 0:h.name))return;let m=(s.parent==o.player?o.opponet:o.player).petArray.filter(k=>k.alive);if(0==m.length)return void s.removePerk();let y=m[Math.floor(Math.random()*m.length)],S=this.petService.createPet({name:y.name,attack:y.attack,health:y.health,mana:s.mana,exp:s.exp,equipment:null},s.parent);if(y.swallowedPets&&y.swallowedPets.length>0){S.swallowedPets=[];for(let k of y.swallowedPets){let T=this.petService.createPet({name:k.name,attack:k.attack,health:k.health,mana:k.mana,exp:k.exp,equipment:k.equipment},s.parent);S.swallowedPets.push(T)}}void 0!==y.attackCounter&&(S.attackCounter=y.attackCounter),S.abilityUses=0,S.maxAbilityUses=y.maxAbilityUses,void 0!==y.hurtThisBattle&&(S.hurtThisBattle=y.hurtThisBattle),this.logService.createLog({message:`${s.name} transformed into ${S.name} (Cocoa Bean)`,type:"equipment",player:s.parent,randomEvent:m.length>1}),s.parent.transformPet(s,S)}}}}class aV extends ne{constructor(t,e,i,s){super(),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Faint Bread",this.equipmentClass="afterFaint",this.callback=r=>{var a;let o=null===(a=r.afterFaint)||void 0===a?void 0:a.bind(r);r.afterFaint=(l,h)=>{var d;if(null!=o&&o(l,h),!h&&"Faint Bread"==(null===(d=r.equipment)||void 0===d?void 0:d.name))for(let m=0;m<this.multiplier;m++){let y=this.petService.getRandomFaintPet(r.parent,1);this.logService.createLog({message:`${r.name} Spawned ${y.name} (Faint Bread)${m>0?this.multiplierMessage:""}`,type:"ability",player:r.parent,randomEvent:!0}),r.parent.summonPet(y,r.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(y)}}}}}let q_=(()=>{class n{constructor(){this.logs=[]}createLog(e){e.tiger&&(e.message+=" (Tiger)"),e.puma&&(e.message+=" (Puma)"),e.pteranodon&&(e.message+=" (Pteranodon)"),null!=e.pantherMultiplier&&e.pantherMultiplier>1&&(e.message+=` x${e.pantherMultiplier} (Panther)`),this.logs.push(e)}getLogs(){return this.logs}reset(){this.logs=[]}printState(e,i,s){s&&this.createLog({message:s,type:"board"});let r="";r+=this.getPetText(e.pet4),r+=this.getPetText(e.pet3),r+=this.getPetText(e.pet2),r+=this.getPetText(e.pet1),r+=this.getPetText(e.pet0);let a="";a+=this.getPetText(i.pet0),a+=this.getPetText(i.pet1),a+=this.getPetText(i.pet2),a+=this.getPetText(i.pet3),a+=this.getPetText(i.pet4),this.createLog({message:`${r}| ${a}`,type:"board"})}getPetText(e){return null==e?"___ (-/-) ":`${e.name.substring(0,3)} (${e.attack}/${e.health}) `}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sh=(()=>{class n{constructor(){}init(e,i){this.gameApi={player:e,opponet:i}}setTierGroupPets(e,i){null!=e&&(this.gameApi.playerPetPool=e),null!=i&&(this.gameApi.opponentPetPool=i)}setPreviousShopTier(e){this.gameApi.previousShopTier=e}setTurnNumber(e){this.gameApi.turnNumber=e}setGoldSpent(e,i){null!=e&&(this.gameApi.playerGoldSpent=e),null!=i&&(this.gameApi.opponentGoldSpent=i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U_=(()=>{class n{constructor(e){this.gameService=e,this.afterAttackEvents=[],this.beforeAttackEvents=[],this.processedBeforeAttackPets=new Set,this.beforeStartOfBattleEvents=[],this.equipmentBeforeAttackEvents=[],this.afterFriendAttackEvents=[],this.beforeFriendAttacksEvents=[],this.friendGainsHealthEvents=[],this.friendGainedExperienceEvents=[],this.emptyFrontSpaceToyEvents=[],this.friendSummonedToyEvents=[],this.friendlyLevelUpToyEvents=[],this.friendFaintsToyEvents=[],this.friendJumpedToyEvents=[],this.globalEventQueue=[],this.ABILITY_PRIORITIES={levelUp:1,friendLevelUp:2,friendlyLevelUp:2,hurt:3,friendHurt:4,enemyHurt:4,gainsMana:5,summoned:6,friendSummoned:7,enemySummoned:7,enemyPushed:7,friendJumped:8,enemyJumped:8,faint:9,friendAheadFaints:10,afterFaint:11,friendFaints:12,enemyFaints:12,friendlyToyBroke:12,knockOut:13,transform:14,friendTransformed:14.5,friendGainedExperience:15,friendAteFood:16,eatsFood:16,counter:17,friendLostPerk:18,gainPerk:19,gainAilment:19,friendlyGainedPerk:20,enemyGainedPerk:20,friendlyGainedAilment:20,enemyGainedAilment:20,petFlung:21,manaSnipe:22,emptyFrontSpace:23,goldenRetrieverSummons:24}}get hasAbilityCycleEvents(){return this.globalEventQueue.length>0}addEventToQueue(e){const i=this.ABILITY_PRIORITIES[e.abilityType]||999;void 0===e.tieBreaker&&(e.tieBreaker=Math.random());let s=0,r=this.globalEventQueue.length;for(;s<r;){const a=Math.floor((s+r)/2),o=this.globalEventQueue[a],l=this.ABILITY_PRIORITIES[o.abilityType]||999;i<l?r=a:i>l?s=a+1:e.priority>o.priority?r=a:e.priority<o.priority?s=a+1:e.tieBreaker<o.tieBreaker?r=a:s=a+1}this.globalEventQueue.splice(s,0,e)}clearGlobalEventQueue(){this.globalEventQueue=[]}get hasGlobalEvents(){return this.globalEventQueue.length>0}getNextHighestPriorityEvent(){return this.globalEventQueue.shift()||null}peekNextHighestPriorityEvent(){return this.globalEventQueue.length>0?this.globalEventQueue[0]:null}getPriorityNumber(e){return this.ABILITY_PRIORITIES[e]||999}executeEventCallback(e){const i=this.gameService.gameApi,s=e.pet;if(s&&s.transformed&&s.transformedInto&&e.abilityType){const r=s.transformedInto;if("function"!=typeof r[e.abilityType])return;e.callback=r[e.abilityType].bind(r)}switch(e.abilityType){case"faint":case"beforeStartOfBattle":case"afterFaint":case"equipmentBeforeAttack":case"summoned":case"transform":e.callback(i);break;case"hurt":case"friendHurt":case"knockOut":case"enemyHurt":case"friendAheadFaints":case"friendFaints":case"eatsFood":case"friendAteFood":case"friendLostPerk":case"gainPerk":case"friendGainedPerk":case"friendGainedAilment":case"enemyGainedAilment":case"friendGainedExperience":case"levelUp":case"friendAttacks":case"beforeFriendAttacks":case"friendJumped":case"enemyJumped":case"friendTransformed":case"friendGainsHealth":case"friendlyLevelUp":case"friendSummoned":e.callback(i,e.callbackPet);break;case"afterAttack":case"enemySummoned":case"enemyPushed":case"friendlyToyBroke":case"gainAilment":case"emptyFrontSpace":e.callback(i,e.callbackPet,!1);break;case"friendJumpedToy":case"emptyFrontSpaceToy":e.callback(i,e.priority<100,e.level,e.priority);break;case"gainsMana":e.callback(null);break;case"manaSnipe":case"counter":e.callback();break;default:try{e.callback(i)}catch(r){e.callback(i,e.callbackPet)}}}initEndTurnEvents(e){let i=[];for(let s of e.petArray)s.endTurn&&i.push({callback:s.endTurn.bind(s),priority:s.attack,player:e});i=(0,yt.shuffle)(i),i.sort((s,r)=>s.priority>r.priority?-1:s.priority<r.priority?1:0);for(let s of i)s.callback(this.gameService.gameApi)}setCounterEvent(e){e.abilityType="counter",this.addEventToQueue(e)}setHurtEvent(e){e.abilityType="hurt",this.addEventToQueue(e)}setFaintEvent(e){e.abilityType="faint",this.addEventToQueue(e)}setSummonedEvent(e){e.abilityType="summoned",this.addEventToQueue(e)}triggerFriendSummonedEvents(e){this.triggerFriendSummonedToyEvents(e.parent,e);for(let i of e.parent.petArray)i!=e&&null!=i.friendSummoned&&this.setFriendSummonedEvent({callback:i.friendSummoned.bind(i),priority:i.attack,callbackPet:e,pet:i})}setFriendSummonedEvent(e){e.abilityType="friendSummoned",this.addEventToQueue(e)}setAfterAttackEvent(e){this.afterAttackEvents.push(e)}resetAfterAttackEvents(){this.afterAttackEvents=[]}executeAfterAttackEvents(){this.afterAttackEvents=(0,yt.shuffle)(this.afterAttackEvents),this.afterAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.afterAttackEvents)e.callback(this.gameService.gameApi);this.resetAfterAttackEvents()}setFriendAheadFaintsEvent(e){e.abilityType="friendAheadFaints",this.addEventToQueue(e)}setKnockOutEvent(e){e.abilityType="knockOut",this.addEventToQueue(e)}triggerFriendFaintsEvents(e){this.triggerFriendFaintsToyEvents(e.parent,e);for(let i of e.parent.petArray)null!=i.friendFaints&&this.setFriendFaintsEvent({callback:i.friendFaints.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendFaintsEvent(e){e.abilityType="friendFaints",this.addEventToQueue(e)}setBeforeAttackEvent(e){this.beforeAttackEvents.push(e)}resetBeforeAttackEvents(){this.beforeAttackEvents=[]}checkAndAddNewBeforeAttackEvents(){let e=this.gameService.gameApi;e.player.pet0&&e.player.pet0.beforeAttack&&!this.processedBeforeAttackPets.has(e.player.pet0)&&(this.beforeAttackEvents.push({callback:e.player.pet0.beforeAttack.bind(e.player.pet0),priority:e.player.pet0.attack,player:e.player}),this.processedBeforeAttackPets.add(e.player.pet0),this.beforeAttackEvents.sort((i,s)=>i.priority>s.priority?-1:i.priority<s.priority?1:0)),e.opponet.pet0&&e.opponet.pet0.beforeAttack&&!this.processedBeforeAttackPets.has(e.opponet.pet0)&&(this.beforeAttackEvents.push({callback:e.opponet.pet0.beforeAttack.bind(e.opponet.pet0),priority:e.opponet.pet0.attack,player:e.opponet}),this.processedBeforeAttackPets.add(e.opponet.pet0),this.beforeAttackEvents.sort((i,s)=>i.priority>s.priority?-1:i.priority<s.priority?1:0))}executeBeforeAttackEvents(){for(this.beforeAttackEvents=(0,yt.shuffle)(this.beforeAttackEvents),this.beforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);this.beforeAttackEvents.length>0;)this.beforeAttackEvents.shift().callback(this.gameService.gameApi);this.resetBeforeAttackEvents()}setEqiupmentBeforeAttackEvent(e){this.equipmentBeforeAttackEvents.push(e)}resetEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=[]}executeEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=(0,yt.shuffle)(this.equipmentBeforeAttackEvents),this.equipmentBeforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.equipmentBeforeAttackEvents)e.callback(this.gameService.gameApi);this.resetEqiupmentBeforeAttackEvents()}get hasEquipmentBeforeAttackEvents(){return this.equipmentBeforeAttackEvents.length>0}triggerFriendLostPerkEvents(e){for(let i of e.parent.petArray)null!=i.friendLostPerk&&this.setFriendLostPerkEvent({callback:i.friendLostPerk.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendLostPerkEvent(e){e.abilityType="friendLostPerk",this.addEventToQueue(e)}setEatsFoodEvent(e){e.abilityType="eatsFood",this.addEventToQueue(e)}triggerFriendAteFoodEvents(e){for(let i of e.parent.petArray)null!=i.friendAteFood&&this.setFriendAteFoodEvent({callback:i.friendAteFood.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendAteFoodEvent(e){e.abilityType="friendAteFood",this.addEventToQueue(e)}triggerGainedPerkEvents(e){for(let i of e.parent.petArray)i==e&&null!=i.gainedPerk&&this.setGainedPerkEvent({callback:i.gainedPerk.bind(i),priority:i.attack,pet:i,callbackPet:e})}setGainedPerkEvent(e){e.abilityType="gainPerk",this.addEventToQueue(e)}triggerFriendGainedPerkEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedPerk&&this.setFriendGainedPerkEvent({callback:i.friendGainedPerk.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendGainedPerkEvent(e){e.abilityType="friendGainedPerk",this.addEventToQueue(e)}triggerBeforeStartOfBattleEvents(e){for(let i of e.petArray)null!=i.beforeStartOfBattle&&this.setBeforeStartOfBattleEvent({callback:i.beforeStartOfBattle.bind(i),priority:i.attack,pet:i,player:e})}setBeforeStartOfBattleEvent(e){this.beforeStartOfBattleEvents.push(e)}resetBeforeStartOfBattleEvents(){this.beforeStartOfBattleEvents=[]}executeBeforeStartOfBattleEvents(){this.beforeStartOfBattleEvents=(0,yt.shuffle)(this.beforeStartOfBattleEvents),this.beforeStartOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.beforeStartOfBattleEvents)e.callback(this.gameService.gameApi);this.resetBeforeStartOfBattleEvents()}triggerFriendGainedAilmentEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedAilment&&this.setFriendGainedAilmentEvent({callback:i.friendGainedAilment.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendGainedAilmentEvent(e){e.abilityType="friendGainedAilment",this.addEventToQueue(e)}triggerEnemyGainedAilmentEvents(e,i){for(let s of e)null!=s.enemyGainedAilment&&this.setEnemyGainedAilmentEvent({callback:s.enemyGainedAilment.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemyGainedAilmentEvent(e){e.abilityType="enemyGainedAilment",this.addEventToQueue(e)}triggerFriendlyToyBrokeEvents(e){for(let i of e.petArray)null!=i.friendlyToyBroke&&this.setFriendlyToyBrokeEvent({callback:i.friendlyToyBroke.bind(i),priority:i.attack,pet:i})}setFriendlyToyBrokeEvent(e){e.abilityType="friendlyToyBroke",this.addEventToQueue(e)}triggerTransformEvents(e){for(let i of e.petArray)null!=i.transform&&this.setTransformEvent({callback:i.transform.bind(i),priority:i.attack,pet:i})}setTransformEvent(e){e.abilityType="transform",this.addEventToQueue(e)}triggerFriendTransformedEvents(e,i){for(let s of e.petArray)null!=s.friendTransformed&&this.setFriendTransformedEvent({callback:s.friendTransformed.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendTransformedEvent(e){e.abilityType="friendTransformed",this.addEventToQueue(e)}triggerEnemySummonedEvents(e,i){for(let s of e.petArray)null!=s.enemySummoned&&this.setEnemySummonedEvent({callback:s.enemySummoned.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemySummonedEvent(e){e.abilityType="enemySummoned",this.addEventToQueue(e)}triggerEnemyPushedEvents(e,i){for(let s of e.petArray)null!=s.enemyPushed&&this.setEnemyPushedEvent({callback:s.enemyPushed.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemyPushedEvent(e){e.abilityType="enemyPushed",this.addEventToQueue(e)}triggerFriendHurtEvents(e,i){for(let s of e.petArray)null!=s.friendHurt&&this.setFriendHurtEvent({callback:s.friendHurt.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendHurtEvent(e){e.abilityType="friendHurt",this.addEventToQueue(e)}triggerLevelUpEvents(e,i){this.triggerFriendlyLevelUpToyEvents(e,i);for(let s of e.petArray)null!=s.anyoneLevelUp&&this.setLevelUpEvent({callback:s.anyoneLevelUp.bind(s),priority:s.attack,pet:s,callbackPet:i})}setLevelUpEvent(e){e.abilityType="levelUp",this.addEventToQueue(e)}triggerEmptyFrontSpaceEvents(e){for(let i of e.petArray)null!=i.emptyFrontSpace&&this.setEmptyFrontSpaceEvent({callback:i.emptyFrontSpace.bind(i),priority:i.attack,pet:i})}setEmptyFrontSpaceEvent(e){e.abilityType="emptyFrontSpace",this.addEventToQueue(e)}triggerEnemyHurtEvents(e,i){for(let s of e.petArray)null!=s.enemyHurt&&this.setEnemyHurtEvent({callback:s.enemyHurt.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemyHurtEvent(e){e.abilityType="enemyHurt",this.addEventToQueue(e)}triggerFriendAttacksEvents(e,i){var s,r,a;for(let o of e.petArray)o!=i&&null!=o.friendAttacks&&this.setAfterFriendAttackEvent({callback:()=>o.friendAttacks(this.gameApi,i,!1),priority:o.attack,pet:o,callbackPet:i,abilityType:"friendAttacks"});null!=(null===(s=i.petBehind(null,!0))||void 0===s?void 0:s.friendAheadAttacks)&&this.setAfterFriendAttackEvent({callback:i.petBehind(null,!0).friendAheadAttacks.bind(i.petBehind(null,!0)),priority:i.petBehind(null,!0).attack,pet:i.petBehind(null,!0),callbackPet:i,abilityType:"friendAheadAttacks"}),null!=(null===(r=i.petAhead)||void 0===r?void 0:r.adjacentAttacked)&&this.setAfterFriendAttackEvent({callback:()=>i.petAhead.adjacentAttacked(this.gameApi,i),priority:i.petAhead.attack,pet:i.petAhead,callbackPet:i,abilityType:"adjacentFriendAttacks"}),null!=(null===(a=i.petBehind(null,!0))||void 0===a?void 0:a.adjacentAttacked)&&this.setAfterFriendAttackEvent({callback:()=>i.petBehind(null,!0).adjacentAttacked(this.gameApi,i),priority:i.petBehind(null,!0).attack,pet:i.petBehind(null,!0),callbackPet:i,abilityType:"adjacentFriendAttacks"}),this.triggerEnemyAttackEvents(i.parent.opponent,i)}triggerBeforeFriendAttacksEvents(e,i){for(let s of e.petArray)s!==i&&null!=s.beforeFriendAttacks&&this.setBeforeFriendAttacksEvent({callback:s.beforeFriendAttacks.bind(s),priority:s.attack,pet:s,callbackPet:i})}setBeforeFriendAttacksEvent(e){this.beforeFriendAttacksEvents.push(e)}resetBeforeFriendAttacksEvents(){this.beforeFriendAttacksEvents=[]}executeBeforeFriendAttacksEvents(){this.beforeFriendAttacksEvents=(0,yt.shuffle)(this.beforeFriendAttacksEvents),this.beforeFriendAttacksEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.beforeFriendAttacksEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetBeforeFriendAttacksEvents()}setAfterFriendAttackEvent(e){this.afterFriendAttackEvents.push(e)}resetAfterFriendAttackEvents(){this.afterFriendAttackEvents=[]}executeAfterFriendAttackEvents(){this.afterFriendAttackEvents=(0,yt.shuffle)(this.afterFriendAttackEvents),this.afterFriendAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.afterFriendAttackEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetAfterFriendAttackEvents()}triggerEnemyAttackEvents(e,i){for(let s of e.petArray)null!=s.enemyAttack&&this.setAfterFriendAttackEvent({callback:s.enemyAttack.bind(s),priority:s.attack,pet:s,callbackPet:i,abilityType:"enemyAttack"})}triggerFriendJumpedEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendJumped&&this.setFriendJumpedEvent({callback:s.friendJumped.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendJumpedEvent(e){e.abilityType="friendJumped",this.addEventToQueue(e)}triggerEnemyJumpedEvents(e,i){for(let s of e.opponent.petArray)null!=s.enemyJumped&&this.setEnemyJumpedEvent({callback:s.enemyJumped.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemyJumpedEvent(e){e.abilityType="enemyJumped",this.addEventToQueue(e)}setManaEvent(e){e.abilityType="manaSnipe",this.addEventToQueue(e)}setGainManaEvents(e){e.abilityType="gainsMana",this.addEventToQueue(e)}triggerFriendGainsHealthEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendGainsHealth&&this.setFriendGainsHealthEvent({callback:s.friendGainsHealth.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendGainsHealthEvent(e){this.friendGainsHealthEvents.push(e)}resetFriendGainsHealthEvents(){this.friendGainsHealthEvents=[]}executeFriendGainsHealthEvents(){this.friendGainsHealthEvents=(0,yt.shuffle)(this.friendGainsHealthEvents),this.friendGainsHealthEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainsHealthEvents)e.callback(this.gameApi,e.callbackPet);this.resetFriendGainsHealthEvents()}triggerFriendGainedExperienceEvents(e,i){for(let s of e.petArray)s!==i&&null!=s.friendGainedExperience&&this.setFriendGainedExperienceEvent({callback:s.friendGainedExperience.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendGainedExperienceEvent(e){this.friendGainedExperienceEvents.push(e)}setAfterFaintEvents(e){e.abilityType="afterFaint",this.addEventToQueue(e)}triggerEmptyFrontSpaceToyEvents(e){var i;if(null!=(null===(i=e.toy)||void 0===i?void 0:i.emptyFromSpace)){if(e.toy.used)return;this.setEmptyFrontSpaceToyEvent({callback:e.toy.emptyFromSpace.bind(e.toy),priority:100,level:e.toy.level});let s=e.petArray.filter(r=>r instanceof wr);for(let r of s)this.setEmptyFrontSpaceToyEvent({callback:e.toy.emptyFromSpace.bind(e.toy),priority:+r.attack,level:r.level})}}setEmptyFrontSpaceToyEvent(e){this.emptyFrontSpaceToyEvents.push(e)}resetEmptyFrontSpaceToyEvents(){this.emptyFrontSpaceToyEvents=[]}executeEmptyFrontSpaceToyEvents(){this.emptyFrontSpaceToyEvents=(0,yt.shuffle)(this.emptyFrontSpaceToyEvents),this.emptyFrontSpaceToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.emptyFrontSpaceToyEvents)e.callback(this.gameService.gameApi,e.priority<100,e.level,e.priority);this.resetEmptyFrontSpaceToyEvents()}triggerFriendSummonedToyEvents(e,i){var s;if(null!=(null===(s=e.toy)||void 0===s?void 0:s.friendSummoned)){this.setFriendSummonedToyEvent({callback:e.toy.friendSummoned.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(a=>a instanceof wr);for(let a of r)this.setFriendSummonedToyEvent({callback:e.toy.friendSummoned.bind(e.toy),priority:+a.attack,level:a.level,callbackPet:i})}}setFriendSummonedToyEvent(e){this.friendSummonedToyEvents.push(e)}resetFriendSummonedToyEvents(){this.friendSummonedToyEvents=[]}executeFriendSummonedToyEvents(){this.friendSummonedToyEvents=(0,yt.shuffle)(this.friendSummonedToyEvents),this.friendSummonedToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendSummonedToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendSummonedToyEvents()}triggerFriendlyLevelUpToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendlyLevelUp)){this.setFriendlyLevelUpToyEvent({callback:e.toy.friendlyLevelUp.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(a=>a instanceof wr);for(let a of r)this.setFriendlyLevelUpToyEvent({callback:e.toy.friendlyLevelUp.bind(e.toy),priority:+a.attack,level:a.level,callbackPet:i})}}setFriendlyLevelUpToyEvent(e){this.friendlyLevelUpToyEvents.push(e)}resetFriendlyLevelUpToyEvents(){this.friendlyLevelUpToyEvents=[]}executeFriendlyLevelUpToyEvents(){this.friendlyLevelUpToyEvents=(0,yt.shuffle)(this.friendlyLevelUpToyEvents),this.friendlyLevelUpToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendlyLevelUpToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendlyLevelUpToyEvents()}triggerFriendFaintsToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendFaints)){this.setFriendFaintsToyEvent({callback:e.toy.friendFaints.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(a=>a instanceof wr);for(let a of r)this.setFriendFaintsToyEvent({callback:e.toy.friendFaints.bind(e.toy),priority:+a.attack,level:+a.level,callbackPet:i})}}setFriendFaintsToyEvent(e){this.friendFaintsToyEvents.push(e)}resetFriendFaintsToyEvents(){this.friendFaintsToyEvents=[]}executeFriendFaintsToyEvents(){this.friendFaintsToyEvents=(0,yt.shuffle)(this.friendFaintsToyEvents),this.friendFaintsToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendFaintsToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendFaintsToyEvents()}triggerFriendJumpedToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendJumped)){this.setFriendJumpedToyEvent({callback:e.toy.friendJumped.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(a=>a instanceof wr);for(let a of r)this.setFriendJumpedToyEvent({callback:e.toy.friendJumped.bind(e.toy),priority:+a.attack,level:a.level,callbackPet:i})}}setFriendJumpedToyEvent(e){this.friendJumpedToyEvents.push(e)}resetFriendJumpedToyEvents(){this.friendJumpedToyEvents=[]}executeFriendJumpedToyEvents(){this.friendJumpedToyEvents=(0,yt.shuffle)(this.friendJumpedToyEvents),this.friendJumpedToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendJumpedToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendJumpedToyEvents()}}return n.\u0275fac=function(e){return new(e||n)(q(Sh))},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dn{constructor(t,e,i){this.logService=t,this.abilityService=e,this.gameService=i}getInstanceOfAllEquipment(){const t=Vp.getInjector().get(pb);let e=new Map;return e.set("Garlic",new fc),e.set("Meat Bone",new I_),e.set("Steak",new I3),e.set("Melon",new Wr),e.set("Honey",new R_(this.logService,this.abilityService)),e.set("Chili",new A_(this.logService,this.abilityService)),e.set("Mushroom",new O3(this.logService,this.abilityService,t)),e.set("Coconut",new Ua),e.set("Peanut",new vh),e.set("Peanut Butter",new bC),e.set("Blackberry",new x3),e.set("Croissant",new N3),e.set("Rice",new O_),e.set("Eucalyptus",new N_),e.set("Lime",new L3),e.set("Egg",new OP(this.logService,this.abilityService)),e.set("Squash",new B3(this.logService,this.abilityService)),e.set("Salt",new p_),e.set("Pie",new $P(this.logService)),e.set("Skewer",new VP(this.logService)),e.set("Lemon",new $3),e.set("Pancakes",new FP(this.logService)),e.set("Strawberry",new L_(this.logService,this.abilityService)),e.set("Baguette",new V3(this.logService,this.abilityService)),e.set("Cucumber",new F3),e.set("Cheese",new g_),e.set("Grapes",new H3),e.set("Carrot",new q3),e.set("Pepper",new m_),e.set("Popcorn",new U3(this.logService,this.abilityService,t,this.gameService)),e.set("Cherry",new HP),e.set("Chocolate Cake",new B_(this.logService,this.abilityService)),e.set("Cod Roe",new wz(this.logService,this.abilityService)),e.set("Eggplant",new qP(this.logService)),e.set("Potato",new G3),e.set("Banana",new j3(this.logService,this.abilityService)),e.set("Onion",new CC(this.logService)),e.set("Pita Bread",new W3(this.logService)),e.set("Tomato",new z3(this.logService,this.abilityService)),e.set("Sudduth Tomato",new Ez(this.logService)),e.set("Unagi",new kz(this.logService)),e.set("Durian",new K3(this.logService,this.abilityService)),e.set("Gros Michel Banana",new Cz(this.logService,this.abilityService,t)),e.set("Seaweed",new Q3(this.logService,this.abilityService,t)),e.set("Fortune Cookie",new v_),e.set("Blueberry",new Y3),e.set("Donut",new J3),e.set("Pineapple",new Z3),e.set("Fig",new X3(this.logService,this.abilityService)),e.set("Caramel",new eV(this.logService,this.abilityService)),e.set("Rambutan",new $_(this.logService)),e.set("Love Potion",new UP(this.logService)),e.set("Fairy Dust",new tV(this.logService)),e.set("Gingerbread Man",new GP(this.logService)),e.set("Easter Egg",new iV(this.logService,this.abilityService)),e.set("Health Potion",new jP(this.logService)),e.set("Magic Beans",new nV),e.set("Golden Egg",new sV(this.logService,this.abilityService)),e.set("Yggdrasil Fruit",new Pz(this.logService,this.abilityService)),e.set("Honeydew Melon",new SC),e.set("Maple Syrup",new $p),e.set("Cocoa Bean",new Az(this.logService,this.abilityService,t)),e.set("White Okra",new EC),e.set("White Truffle",new M3(this.logService,this.abilityService)),e.set("Ambrosia",new kC),e.set("Faint Bread",new aV(this.logService,this.abilityService,t,this.gameService)),e}getInstanceOfAllAilments(){let t=new Map;return t.set("Cold",new WP),t.set("Crisp",new dc),t.set("Dazed",new y_),t.set("Exposed",new Bp),t.set("Ink",new zP),t.set("Spooked",new qp),t.set("Weak",new Ga),t.set("Tasty",new rV(this.logService,this.abilityService)),t}isUsefulPerk(t){return dn.USEFUL_PERKS.has(t)}getUsefulPerksByTier(t){const e=this.getInstanceOfAllEquipment(),i=[];for(const[s,r]of dn.USEFUL_PERKS.entries())r===t&&e.has(s)&&i.push(e.get(s));return i}getUsefulPerks(){const t=this.getInstanceOfAllEquipment(),e=[];for(const i of dn.USEFUL_PERKS.keys())t.has(i)&&e.push(t.get(i));return e}}dn.USEFUL_PERKS=new Map([["Lime",2],["Meat Bone",2],["Cherry",2],["Fairy Dust",2],["Garlic",3],["Gingerbread Man",3],["Fig",3],["Cucumber",3],["Croissant",3],["Squash",3],["Banana",4],["Love Potion",4],["Pie",4],["Grapes",4],["Cheese",4],["Salt",4],["Fortune Cookie",4],["Easter Egg",5],["Magic Beans",5],["Chili",5],["Lemon",5],["Durian",5],["Honeydew Melon",5],["Maple Syrup",5],["Cocoa Bean",5],["White Okra",5],["White Truffle",5],["Popcorn",6],["Steak",6],["Pancakes",6],["Yggdrasil Fruit",6],["Melon",6],["Tomato",6],["Pita Bread",6]]),dn.\u0275fac=function(t){return new(t||dn)(q(q_),q(U_),q(Sh))},dn.\u0275prov=he({token:dn,factory:dn.\u0275fac,providedIn:"root"});class KP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toucan",this.tier=3,this.pack="Puppy",this.attack=4,this.health=3,this.attacked=!1,this.initPet(o,s,r,a,l)}beforeAttack(t,e,i){var s;if(null==this.equipment||this.equipment.tier>5||this.attacked)return;let r=this.parent.petArray,a=[],o=!1;for(let l of r)l==this&&(o=!0),o&&(null===(s=l.equipment)||void 0===s?void 0:s.name)!=this.equipment.name&&a.push(l);for(let l=0;l<this.level;l++){let h=a[l];if(null==h)break;this.logService.createLog({message:`${this.name} gave ${h.name} ${this.equipment.name}`,type:"ability",player:this.parent,randomEvent:!1,tiger:e,pteranodon:i});const d=Vp.getInjector().get(dn).getInstanceOfAllEquipment().get(this.equipment.name);d&&h.givePetEquipment(d)}this.superBeforeAttack(t,e)}attackPet(t,e,i,s){this.attacked=!0,super.attackPet(t,e,i,s)}resetPet(){this.attacked=!1,super.resetPet()}}class QP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beluga Sturgeon",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=new C_(this.logService,this.abilityService,this.parent,3,2,0,0,new O_),a=this.parent.summonPet(r,4,!1,this);a.success&&(this.logService.createLog({message:`${this.name} summoned a 2/3 Dolphin with Rice in the back.`,type:"ability",player:this.parent,randomEvent:a.randomEvent,tiger:e,pteranodon:i}),this.abilityService.triggerFriendSummonedEvents(r))}super.superAfterFaint(t,e,i)}}class YP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tabby Cat",this.tier=2,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}friendGainedPerk(t,e,i){let s=this.parent.getRandomPets(2,[this],!0,!1,this);if(0!=s.pets.length){for(let r of s.pets)null!=r&&(this.logService.createLog({message:`${this.name} increased ${r.name}'s health by ${this.level}.`,type:"ability",player:this.parent,randomEvent:s.random,tiger:i}),r.increaseHealth(this.level));this.superFriendGainedPerk(t,e,i)}}}class lt{constructor(t,e,i,s){this.logService=t,this.toyService=e,this.used=!1,this.triggers=0,this.parent=i,this.level=s}}class Dz extends lt{constructor(){super(...arguments),this.name="Balloon",this.tier=1}onBreak(t,e){let i=this.parent.furthestUpPet;if(null==i)return;let s=this.level;i.increaseAttack(s),i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:e})}}class Tz extends lt{constructor(){super(...arguments),this.name="Tennis Ball",this.tier=1}startOfBattle(t,e){let i=Ft(t,this.parent),s=i.getRandomPet([],!1,!0,!1,null);null!=s.pet&&(this.toyService.snipePet(s.pet,this.level,this.parent,this.name,!0,e),s=i.getRandomPet([],!1,!0,!1,null),null!=s.pet&&this.toyService.snipePet(s.pet,this.level,this.parent,this.name,!0,e))}}class xz extends lt{constructor(){super(...arguments),this.name="Radio",this.tier=2}onBreak(t,e){let i=this.parent.petArray;for(let s of i)!s.alive||(s.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} health.`,type:"ability",player:this.parent,puma:e}))}}class Mz extends lt{constructor(){super(...arguments),this.name="Garlic Press",this.tier=2}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof fc)){this.logService.createLog({message:`${this.name} gave ${s.name} Garlic.`,type:"ability",player:this.parent,puma:e}),s.givePetEquipment(new fc);break}}}class Rz extends lt{constructor(){super(...arguments),this.name="Plastic Saw",this.tier=2}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof N_)){this.logService.createLog({message:`${this.name} gave ${s.name} Eucalyptus.`,type:"ability",player:this.parent,puma:e}),s.givePetEquipment(new N_);break}}}class Iz extends lt{constructor(){super(...arguments),this.name="Toilet Paper",this.tier=3}startOfBattle(t,e){let s=Ft(t,this.parent).petArray.slice(0,this.level);for(let r of s)r.givePetEquipment(new Ga),this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,puma:e})}}class Oz extends lt{constructor(){super(...arguments),this.name="Oven Mitts",this.tier=3}onBreak(t){}}class Nz extends lt{constructor(){super(...arguments),this.name="Melon Helmet",this.tier=4}onBreak(t,e){let i=this.parent.petArray.filter(s=>s.alive).slice(0,this.level);for(let s of i)s.givePetEquipment(new Wr),this.logService.createLog({message:`${this.name} gave ${s.name} Melon.`,type:"ability",player:this.parent,puma:e})}}class Lz extends lt{constructor(){super(...arguments),this.name="Foam Sword",this.tier=4}startOfBattle(t,e){let i=Ft(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet();this.toyService.snipePet(r.pet,6,this.parent,this.name,r.random,e)}}}class Bz extends lt{constructor(){super(...arguments),this.name="Toy Gun",this.tier=4}startOfBattle(t,e){let i=Ft(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLastPet();if(null==r.pet)return;this.toyService.snipePet(r.pet,6,this.parent,this.name,!1,e)}}}class $z extends lt{constructor(){super(...arguments),this.name="Flashlight",this.tier=5}onBreak(t,e){let i=6*this.level,s=this.parent.furthestUpPet;null!=s&&(s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e}))}}class Vz extends lt{constructor(){super(...arguments),this.name="Strinky Sock",this.tier=5}startOfBattle(t,e){let i=Ft(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getHighestHealthPet(),a=r.pet;if(null==a)return;let o=.4,l=Math.max(1,Math.floor(a.health*(1-o)));a.health=l,this.logService.createLog({message:`${this.name} reduced ${a.name} health by ${100*o}% (${l})`,type:"ability",player:this.parent,puma:e,randomEvent:r.random})}}}class Fz extends lt{constructor(){super(...arguments),this.name="Television",this.tier=6}onBreak(t,e){let i=2*this.level;for(let s of this.parent.petArray)!s.alive||(s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e}))}}class Hz extends lt{constructor(){super(...arguments),this.name="Peanut Jar",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof vh)){s.givePetEquipment(new vh),this.logService.createLog({message:`${this.name} gave ${s.name} Peanut.`,type:"ability",player:this.parent,puma:e});break}}}class qz extends lt{constructor(){super(...arguments),this.name="Air Palm Tree",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof Ua)){s.givePetEquipment(new Ua),this.logService.createLog({message:`${this.name} gave ${s.name} Coconut.`,type:"ability",player:this.parent,puma:e});break}}}class Uz extends lt{constructor(t,e,i,s,r){super(t,e,i,s),this.logService=t,this.toyService=e,this.equipmentService=r,this.name="Pandoras Box",this.tier=6}startOfBattle(t,e){let i=this.equipmentService.getInstanceOfAllEquipment(),s=[new WP,new dc,new y_,new Bp,new qp,new _C,new Ga],r=["Carrot","Cherry","Chocolate Cake","Coconut","Croissant","Cucumber","Eggplant","Fig","Gingerbread Man","Grapes","Golden Egg","Health Potion","Love Potion","Magic Beans","Peanut","Pie","Rambutan","Rice","Skewer"],a=[...t.player.petArray,...t.opponet.petArray],o=Array.from(i.values());o=o.filter(l=>!r.includes(l.name));for(let l of a){let h=s;Math.random()<.5&&(h=o);let d=h[Math.floor(Math.random()*h.length)];this.logService.createLog({message:`${this.name} gave ${l.name} ${d.name}`,type:"ability",player:this.parent,randomEvent:!0}),l.givePetEquipment(d,this.level)}}}class Gz extends lt{constructor(){super(...arguments),this.name="Witch Broom",this.tier=1}startOfBattle(t,e){let i=Ft(t,this.parent),s=i.petArray.filter(a=>null!=a.equipment),r=[];for(let a=0;a<this.level;a++){let o=i.getRandomPet(s,!1,!0,!1,null);if(null==o.pet)break;s.push(o.pet),r.push(o.pet)}for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} Weak.`,type:"ability",player:this.parent,puma:e,randomEvent:i.petArray.length-s.length>0}),a.givePetEquipment(new Ga)}}class jz extends lt{constructor(){super(...arguments),this.name="Magic Wand",this.tier=1}startOfBattle(t,e){let i=this.parent.petArray.filter(a=>a.level<3),s=null,r=!1;0==i.length?s=this.parent.getRandomPet([],!0):(i=(0,yt.shuffle)(i),s=i[0],r=i.length>1),null!=s&&(this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} exp.`,type:"ability",player:this.parent,puma:e,randomEvent:r}),s.increaseExp(this.level))}}class Wz extends lt{constructor(){super(...arguments),this.name="Crystal Ball",this.tier=1}startOfBattle(t,e){let i=this.parent.petArray[0];null!=i&&(this.logService.createLog({message:`${this.name} gave ${i.name} ${this.level} mana.`,type:"ability",player:this.parent,puma:e,randomEvent:!1}),i.increaseMana(this.level))}}class zz extends lt{constructor(){super(...arguments),this.name="Treasure Map",this.tier=3}}class Kz extends lt{constructor(){super(...arguments),this.name="Treasure Chest",this.tier=3}}class G_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Great One",this.tier=6,this.pack="Custom",this.attack=7,this.health=13,this.initPet(o,s,r,a,l)}summoned(t,e){let i=[...this.parent.petArray,...this.parent.opponent.petArray];i=i.filter(s=>s!==this);for(let s of i)this.snipePet(s,6*this.level);this.superSummoned(t,e)}}class Qz extends lt{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Evil Book",this.tier=5}emptyFromSpace(t,e,i,s){let r={attack:6*i,health:6*i},o=new G_(this.logService,this.abilityService,this.parent,r.health,r.attack,0,1==i?0:2==i?2:5);this.logService.createLog({message:`${this.name} spawned Great One (${r.attack}/${r.health}).`,type:"ability",player:this.parent,puma:e}),this.parent.summonPet(o,0)&&this.abilityService.triggerFriendSummonedEvents(o),this.used=!0}}class Yz extends lt{constructor(){super(...arguments),this.name="Magic Carpet",this.tier=2}friendSummoned(t,e,i,s){this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack.`,type:"ability",player:this.parent,puma:i}),e.increaseAttack(s)}}class Jz extends lt{constructor(){super(...arguments),this.name="Magic Lamp",this.tier=2}friendlyLevelUp(t,e,i,s){this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),e.increaseAttack(+s),e.increaseHealth(+s)}}class Zz extends lt{constructor(){super(...arguments),this.name="Candleabra",this.tier=4}}class Xz extends lt{constructor(){super(...arguments),this.name="Glass Shoes",this.tier=4}friendFaints(t,e,i,s){if(i||this.triggers++,this.triggers%3!=0)return;let r=e.parent.petArray.filter(a=>a.alive);for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),a.increaseAttack(+s),a.increaseHealth(+s)}}class eK extends lt{constructor(){super(...arguments),this.name="Golden Harp",this.tier=4}}class tK extends lt{constructor(){super(...arguments),this.name="Lock of Hair",this.tier=4}}class iK extends lt{constructor(){super(...arguments),this.name="Magic Mirror",this.tier=4}}class nK extends lt{constructor(){super(...arguments),this.name="Pickaxe",this.tier=4}}class sK extends lt{constructor(){super(...arguments),this.name="Red Cape",this.tier=4}friendJumped(t,e,i,s){let r=e.parent.petArray.filter(a=>a.alive);for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),a.increaseAttack(+s),a.increaseHealth(+s)}}class rK extends lt{constructor(){super(...arguments),this.name="Rosebud",this.tier=4}friendlyLevelUp(t,e,i,s){if(i||this.triggers++,this.triggers%2!=0)return;let r=e.parent.petArray.filter(a=>a.alive);for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),a.increaseAttack(+s),a.increaseHealth(+s)}}class aK extends lt{constructor(){super(...arguments),this.name="Excalibur",this.tier=6}}class oK extends lt{constructor(){super(...arguments),this.name="Holy Grail",this.tier=6}}class j_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salmon of Knowledge",this.tier=5,this.pack="Unicorn",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=2*this.level,s=[],r=this.parent.getFurthestUpPets(2,null,this);s.push(...r.pets);let a=this.parent.opponent.getFurthestUpPets(2,null,this);s.push(...a.pets);for(let o of s)this.logService.createLog({message:`${this.name} gave ${o.name} ${i} exp.`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random||a.random}),o.increaseExp(i);this.superStartOfBattle(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class lK extends lt{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Nutcracker",this.tier=4}friendFaints(t,e,i,s){if(this.used||e.parent.petArray.filter(l=>l.alive).length>0)return;let a=6*this.level,o=new j_(this.logService,this.abilityService,this.parent,a,a,null,0);this.logService.createLog({message:`${this.name} spawned Salmon of Knowledge (${a}/${a})`,type:"ability",player:this.parent}),this.parent.summonPet(o,0)&&this.abilityService.triggerFriendSummonedEvents(o),this.used=!0}}class cK extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Eyes Dog",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=6,this.attack=6,this.initPet(o,s,r,a,l)}}class uK extends lt{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Tinder Box",this.tier=4}emptyFromSpace(t,e,i,s){let r={attack:6*i,health:6*i},o=new cK(this.logService,this.abilityService,this.parent,r.health,r.attack,0,1==i?0:2==i?2:5);this.logService.createLog({message:`${this.name} spawned Giant Eyes Dog (${r.attack}/${r.health}).`,type:"ability",player:this.parent,puma:e}),this.parent.summonPet(o,0)&&this.abilityService.triggerFriendSummonedEvents(o),this.used=!0}}let oV=(()=>{class n{constructor(e,i,s,r){this.logService=e,this.abilityService=i,this.gameService=s,this.equipmentService=r,this.toys=new Map,this.startOfBattleEvents=[],this.emptyFrontSpaceEvents=[],this.friendSummonedEvents=[],this.setToys()}setToys(){this.toys.set(1,["Ballon","Tennis Ball"]),this.toys.set(2,["Radio","Garlic Press","Plastic Saw"]),this.toys.set(3,["Toilet Paper","Oven Mitts"]),this.toys.set(4,["Melon Helmet","Foam Sword","Toy Gun"]),this.toys.set(5,["Flashlight","Stinky Sock"]),this.toys.set(6,["Television","Peanut Jar","Air Palm Tree"]),this.toys.set(7,["Witch Broom","Pandoras Box","Magic Wand","Crystal Ball","Treasure Map","Treasure Chest","Evil Book","Magic Carpet","Magic Lamp","Nutcracker","Tinder Box","Candleabra","Glass Shoes","Golden Harp","Lock of Hair","Magic Mirror","Pickaxe","Red Cape","Rose Bud","Excalibur","Holy Grail"])}createToy(e,i,s=1){switch(e){case"Ballon":return new Dz(this.logService,this,i,s);case"Tennis Ball":return new Tz(this.logService,this,i,s);case"Radio":return new xz(this.logService,this,i,s);case"Garlic Press":return new Mz(this.logService,this,i,s);case"Plastic Saw":return new Rz(this.logService,this,i,s);case"Toilet Paper":return new Iz(this.logService,this,i,s);case"Oven Mitts":return new Oz(this.logService,this,i,s);case"Melon Helmet":return new Nz(this.logService,this,i,s);case"Foam Sword":return new Lz(this.logService,this,i,s);case"Toy Gun":return new Bz(this.logService,this,i,s);case"Flashlight":return new $z(this.logService,this,i,s);case"Stinky Sock":return new Vz(this.logService,this,i,s);case"Television":return new Fz(this.logService,this,i,s);case"Peanut Jar":return new Hz(this.logService,this,i,s);case"Air Palm Tree":return new qz(this.logService,this,i,s);case"Pandoras Box":return new Uz(this.logService,this,i,s,this.equipmentService);case"Witch Broom":return new Gz(this.logService,this,i,s);case"Magic Wand":return new jz(this.logService,this,i,s);case"Crystal Ball":return new Wz(this.logService,this,i,s);case"Treasure Map":return new zz(this.logService,this,i,s);case"Treasure Chest":return new Kz(this.logService,this,i,s);case"Evil Book":return new Qz(this.logService,this,this.abilityService,i,s);case"Magic Carpet":return new Yz(this.logService,this,i,s);case"Magic Lamp":return new Jz(this.logService,this,i,s);case"Nutcracker":return new lK(this.logService,this,this.abilityService,i,s);case"Tinder Box":return new uK(this.logService,this,this.abilityService,i,s);case"Candleabra":return new Zz(this.logService,this,i,s);case"Glass Shoes":return new Xz(this.logService,this,i,s);case"Golden Harp":return new eK(this.logService,this,i,s);case"Lock of Hair":return new tK(this.logService,this,i,s);case"Magic Mirror":return new iK(this.logService,this,i,s);case"Pickaxe":return new nK(this.logService,this,i,s);case"Red Cape":return new sK(this.logService,this,i,s);case"Rose Bud":return new rK(this.logService,this,i,s);case"Excalibur":return new aK(this.logService,this,i,s);case"Holy Grail":return new oK(this.logService,this,i,s)}}snipePet(e,i,s,r,a=!1,o=!1){var l,h;let d=this.calculateDamgae(e,this.getManticoreMult(s),i),m=d.defenseEquipment,y=d.damage,S="Ghost Kitten"==e.name,k=0;S&&(k=3*e.level,y=Math.max(0,y-k)),this.dealDamage(e,y,s);let T=`${r} sniped ${e.name} for ${y}.`;if(null!=m){e.useDefenseEquipment(!0);let H=Math.abs(m.power),O="-";if(m.power<0&&(O="+"),"Strawberry"===m.name){let G=e.getSparrowLevel();G>0&&(H=5*G,T+=` (Strawberry -${H} (Sparrow))`)}else T+=` (${m.name} ${O}${H})`;T+=m.multiplierMessage}S&&(T+=` -${k} (Ghost Kitten)`),"Exposed"==(null===(l=e.equipment)||void 0===l?void 0:l.name)&&(T+="x2 (Exposed)",e.equipment.multiplier>1&&(T+=e.equipment.multiplierMessage));let P=this.getManticoreMult(s),I=["Weak","Cold","Exposed","Spooked"].includes(null===(h=e.equipment)||void 0===h?void 0:h.name);if(P.length>0&&I)for(let H of P)T+=` x${H+1} (Manticore)`;return d.nurikabe>0&&(T+=` -${d.nurikabe} (Nurikabe)`),d.fairyBallReduction>0&&(T+=` -${d.fairyBallReduction} (Fairy Ball)`),d.fanMusselReduction>0&&(T+=` -${d.fanMusselReduction} (Fan Mussel)`),o&&(T+=" (Puma)"),this.logService.createLog({message:T,type:"attack",randomEvent:a,player:s}),y}calculateDamgae(e,i,s){var r,a,o,l,h,d,m;let y=null===(r=e.equipment)||void 0===r?void 0:r.multiplier,P="defense"==(null===(a=e.equipment)||void 0===a?void 0:a.equipmentClass)||"shield"==(null===(o=e.equipment)||void 0===o?void 0:o.equipmentClass)||"ailment-defense"==(null===(l=e.equipment)||void 0===l?void 0:l.equipmentClass)||"shield-snipe"==(null===(h=e.equipment)||void 0===h?void 0:h.equipmentClass)?e.equipment:null;if(null!=P){if("Maple Syrup"==P.name&&(P=null),["Cold","Weak","Spooked"].includes(null==P?void 0:P.name))for(let ce of i)y+=ce;P.power=P.originalPower*y}let N=(null==P?void 0:P.power)?P.power:0,I=e.getSparrowLevel();if("Strawberry"===(null===(d=e.equipment)||void 0===d?void 0:d.name)&&I>0&&(N+=5*I),"Exposed"==(null===(m=e.equipment)||void 0===m?void 0:m.name)){let ce=2;for(let ge of i)ce+=ge;ce+=e.equipment.multiplier-1,s*=ce}let O,H="shield"==(null==P?void 0:P.equipmentClass)||"shield-snipe"==(null==P?void 0:P.equipmentClass)?0:1;void 0!==(null==P?void 0:P.minimumDamage)&&(H=P.minimumDamage),O=s<=H&&N>0?Math.max(s,0):Math.max(H,s-N);let G=0;"Fairy Ball"===e.name&&O>0&&(G=2*e.level,O=Math.max(1,O-G));let Q=0;"Nurikabe"==e.name&&e.abilityUses<3&&O>0&&(Q=4*e.level,O=Math.max(1,O-G),e.abilityUses++);let ae=0;return"Fan Mussel"==e.name&&e.abilityUses<e.maxAbilityUses&&O>0&&(ae=1*e.level,O=Math.max(1,O-G),e.abilityUses++),{defenseEquipment:P,damage:O,nurikabe:Q,fairyBallReduction:G,fanMusselReduction:ae}}dealDamage(e,i,s){e.health-=i,null!=e.hurt&&i>0&&this.abilityService.setHurtEvent({callback:e.hurt.bind(e),priority:e.attack,player:e.parent,pet:e}),i>0&&this.abilityService.triggerFriendHurtEvents(e.parent,e),i>0&&this.abilityService.triggerEnemyHurtEvents(s,e)}getManticoreMult(e){let i=[];for(let s of e.petArray)"Manticore"==s.name&&i.push(s.level);return i}getSparrowLevel(e){let i=0;for(let s of e.petArray)"Sparrow"==s.name&&(i=Math.max(i,s.level));return i}setStartOfBattleEvent(e){this.startOfBattleEvents.push(e)}resetStartOfBattleEvents(){this.startOfBattleEvents=[]}executeStartOfBattleEvents(){this.startOfBattleEvents=(0,yt.shuffle)(this.startOfBattleEvents),this.startOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.startOfBattleEvents)e.callback(this.gameService.gameApi);this.resetStartOfBattleEvents()}}return n.\u0275fac=function(e){return new(e||n)(q(q_),q(U_),q(Sh),q(dn))},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class W_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Squirrel",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}friendlyToyBroke(t,e){let i=2*this.level,s=this.parent.getThis(this),r=s.pet;if(null==r||(r.increaseAttack(i),this.logService.createLog({message:`${this.name} gave ${r.name} +${i} attack`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),null==this.parent.brokenToy))return;const a=Vp.getInjector().get(oV).createToy(this.parent.brokenToy.name,this.parent);a.level=Math.min(this.level,this.parent.brokenToy.level),this.parent.setToy(a),this.logService.createLog({message:`${a.name} respawned (Level ${a.level})!`,type:"ability",player:this.parent,tiger:e}),this.superFriendlyToyBroke(t,e)}}class JP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mandrill",this.tier=2,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){var s;if((null===(s=this.parent.toy)||void 0===s?void 0:s.tier)<=2*this.level){let a=!1;for(let o of this.parent.petArray)if(o instanceof W_){a=!0;break}this.parent.breakToy(),this.abilityService.triggerFriendlyToyBrokeEvents(this.parent)}}}class z_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lemur",this.tier=2,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class ZP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hoopoe Bird",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=Ft(t,this.parent),r=s.getFurthestUpPet(this),a=r.pet,o=s.getLastPet(void 0,this),l=o.pet,h=2*this.level;a&&this.snipePet(a,h,r.random,e,i),l&&this.snipePet(l,h,o.random,e,i),this.superFaint(t,e)}}class XP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tropical Fish",this.tier=3,this.pack="Puppy",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}}class eA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hatching Chick",this.tier=3,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class tA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goldfish",this.tier=2,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}}class iA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Owl",this.tier=3,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}}class Up extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mole",this.tier=3,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=6*this.level,r=[];for(let l of this.parent.petArray)l!=this&&l.equipment&&r.push(l);if(r=r.slice(0,2),r.length<2)return;for(let l of r)this.logService.createLog({message:`${this.name} removed ${l.name}'s equipment.`,type:"ability",player:this.parent,pteranodon:i}),l.removePerk();let a=new Up(this.logService,this.abilityService,this.parent,s,s),o=this.parent.summonPet(a,this.savedPosition,!1,this);o.success&&(this.logService.createLog({message:`${this.name} summoned a ${s}/${s} Mole.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a)),super.superAfterFaint(t,e,i)}}class nA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Raccoon",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}beforeAttack(t,e){let s=Ft(t,this.parent).getPetAtPosition(0);null!=s&&null!=s.equipment&&(this.abilityUses>=this.maxAbilityUses||(this.logService.createLog({message:`${this.name} stole ${s.name}'s equipment. (${s.equipment.name})`,type:"ability",player:this.parent}),this.givePetEquipment(s.equipment),s.removePerk(),this.abilityUses++))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class sA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Cucumber",this.tier=5,this.pack="Custom",this.health=5,this.attack=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=(this.parent==t.player?t.opponet:t.player).petArray.filter(l=>l.alive);if(0==s.length)return void this.superStartOfBattle(t,e);let r=this.level,o=[...s];for(let l=0;l<r&&o.length>0;l++){let h=Math.floor(Math.random()*o.length),d=o[h],m=new rV(this.logService,this.abilityService);this.logService.createLog({message:`${this.name} made ${d.name} Tasty`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>1}),d.givePetEquipment(m),o.splice(h,1)}this.superStartOfBattle(t,e)}}class rA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pangolin",this.tier=3,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){if(null==this.parent.toy)return void this.superFaint(t,e);let s=this.parent.nearestPetsBehind(1,this);if(0===s.pets.length)return void this.superFaint(t,e);let r=s.pets[0],a=4*this.level;r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),this.superFaint(t,e)}}class aA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puppy",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class oA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Microbe",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getAll(!0,this),r=s.pets;if(0!=r.length){for(let a of r)!a.alive||(this.logService.createLog({message:`${this.name} gave ${a.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),a.givePetEquipment(new Ga));this.superFaint(t,e)}}}class lA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lobster",this.tier=4,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class cA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Buffalo",this.tier=4,this.pack="Puppy",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}}class uA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Llama",this.tier=4,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class K_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Butterly",this.tier=1,this.pack="Puppy",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}transform(t,e){if(!this.alive)return;let s=Ft(t,this.parent).getStrongestPet(this);null!=s.pet&&(this.health=s.pet.health,this.attack=s.pet.attack,this.logService.createLog({message:`${this.name} copied stats from the strongest enemy (${this.attack}/${this.health}).`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.superTransform(t,e))}}class hA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Caterpillar",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(this.level<3)return;let i=this.parent.getThis(this),s=i.pet;if(null==s)return;let r=new K_(this.logService,this.abilityService,s.parent,s.health,s.attack,s.mana,s.exp,s.equipment);this.parent.transformPet(s,r),this.logService.createLog({message:`${this.name} transformed into a Butterfly.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random})}}class dA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Doberman",this.tier=4,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=!0;for(let h of this.parent.petArray)if(h!=this&&h.tier<=this.tier){i=!1;break}if(!i)return;let s=8*this.level,r=this.parent.getThis(this),a=r.pet;if(null==a)return;a.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random});let o=this.parent.getThis(this),l=o.pet;null!=l&&(l.givePetEquipment(new Ua),this.logService.createLog({message:`${this.name} gave ${l.name} Coconut.`,type:"ability",player:this.parent,tiger:e,randomEvent:o.random}),this.superStartOfBattle(t,e))}}class fA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tahr",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.nearestPetsBehind(this.level,this,"Chili");if(0!==s.pets.length){for(let r of s.pets)this.logService.createLog({message:`${this.name} gave ${r.name} Chili.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),r.givePetEquipment(new A_(this.logService,this.abilityService));this.superFaint(t,e)}else this.superFaint(t,e)}}class pA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Whale Shark",this.tier=4,this.pack="Puppy",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}givePetEquipment(t){super.givePetEquipment(t),this.removePerk(),this.logService.createLog({message:`${this.name} removed ${t.name}`,type:"ability",player:this.parent});let e=this.parent.getThis(this),i=e.pet;if(null==i)return;let s=3*this.level;i.increaseAttack(s),i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,randomEvent:e.random})}}class gA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chameleon",this.tier=4,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){if(null==this.parent.toy)return;let s=this.parent.toy,r=s.level;s.level=this.level,this.logService.createLog({message:`${this.name} activated ${s.name}.`,type:"ability",player:this.parent,pteranodon:i}),s.onBreak&&this.parent.breakToy(!0),s.startOfBattle&&s.startOfBattle(t),s.level=r}}class mA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gharial",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(o,s,r,a,l)}}class vA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stonefish",this.tier=5,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){let r=this.parent.getSpecificPet(this,this.killedBy).pet;null==r||!r.alive||(this.snipePet(r,this.attack*this.level,!1,e,i),this.superFaint(t,e))}}class yA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poodle",this.tier=5,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class _A extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chicken",this.tier=5,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}}class bA extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Eagle",this.tier=5,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let r,s=Math.min(6,t.previousShopTier+1);r=this.parent==t.player?t.playerPetPool.get(s):t.opponentPetPool.get(s);let a=r[Math.floor(Math.random()*r.length)],o=5*this.level,l=this.petService.createPet({name:a,attack:o,health:o,exp:this.minExpForLevel,equipment:null,mana:0},this.parent);this.parent.summonPet(l,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned ${l.name} Level ${l.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.abilityService.triggerFriendSummonedEvents(l)),super.superAfterFaint(t,e,i)}}class Q_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Praying Mantis",this.tier=4,this.pack="Star",this.attack=7,this.health=2,this.initPet(o,s,r,a,l)}}class SA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Orchid Mantis",this.tier=5,this.pack="Puppy",this.attack=8,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.min(Math.floor(this.attack*(.4*this.level)),50),s=Math.min(Math.floor(this.health*(.4*this.level)),50),r=new Q_(this.logService,this.abilityService,this.parent,s,i,0,this.minExpForLevel,null),a=this.parent.summonPetInFront(this,r);a.success&&(this.logService.createLog({message:`${this.name} spawned Mantis ${r.attack}/${r.health}.`,type:"ability",player:this.parent,tiger:e,randomEvent:a.randomEvent}),this.abilityService.triggerFriendSummonedEvents(r)),this.superStartOfBattle(t,e)}}class wA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panther",this.tier=5,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class EA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Axolotl",this.tier=5,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}friendGainedPerk(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;if(null==r)return;let a=this.level;r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} attack and ${a} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.abilityUses++,this.superFriendGainedPerk(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class kA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goat",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}}class CA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snapping Turtle",this.tier=5,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.nearestPetsBehind(this.level,this,"Skewer");if(0!==s.pets.length){for(let r of s.pets)this.logService.createLog({message:`${this.name} gave ${r.name} Skewer.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),r.givePetEquipment(new VP(this.logService));this.superFaint(t,e)}}}class PA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosasaurus",this.tier=5,this.pack="Puppy",this.attack=5,this.health=6,this.initPet(o,s,r,a,l)}friendlyToyBroke(t,e){let i=[],s=!1,r=this.parent.nearestPetsAhead(1,this);r.pets.length>0&&(i.push(r.pets[0]),s=r.random);let a=this.parent.nearestPetsBehind(1,this);if(a.pets.length>0&&(i.push(a.pets[0]),s=s||a.random),0==i.length)return;for(let l of i)this.logService.createLog({message:`${this.name} gave ${l.name} 2 attach and 3 health.`,type:"ability",player:this.parent,randomEvent:s,tiger:e}),l.increaseHealth(3),l.increaseAttack(2)}}class AA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sting Ray",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}}class DA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mantis Shrimp",this.tier=6,this.pack="Puppy",this.attack=9,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Ft(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getFurthestUpPet(this),a=r.pet;if(null==a)return;this.snipePet(a,10,r.random,e)}this.superStartOfBattle(t,e)}}class TA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lionfish",this.tier=6,this.pack="Puppy",this.attack=8,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=Ft(t,this.parent),r=1+Math.floor(this.attack/10);for(let a=0;a<r;a++){let o=s.getRandomPet([],!1,!0,!1,this);if(null==o.pet)return;this.snipePet(o.pet,3*this.level,o.random,e,i)}this.superFaint(t,e)}}class xA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tyrannosaurus",this.tier=6,this.pack="Puppy",this.attack=7,this.health=7,this.initPet(o,s,r,a,l)}}class MA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Octopus",this.tier=6,this.pack="Puppy",this.attack=8,this.health=8,this.initPet(o,s,r,a,l)}afterAttack(t,e){let s=Ft(t,this.parent).getRandomPets(this.level,null,null,!0,this),r=s.pets;for(let o of r){if(null==o)return;this.snipePet(o,6,s.random,e)}this.superAfterAttack(t,e)}}class RA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anglerfish",this.tier=6,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(o,s,r,a,l)}}class IA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sauropod",this.tier=6,this.pack="Puppy",this.attack=4,this.health=12,this.initPet(o,s,r,a,l)}}class OA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant Seal",this.tier=6,this.pack="Puppy",this.attack=2,this.health=8,this.initPet(o,s,r,a,l)}gainedPerk(t,e,i){if(e!=this||this.abilityUses>=this.maxAbilityUses)return;let s=5*this.level,r=this.parent.getRandomPets(3,[this],!0,!1,this);for(let a of r.pets)null!=a&&(a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}));this.abilityUses++,this.superGainedPerk(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class NA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mongoose",this.tier=6,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}}class LA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pillbug",this.tier=1,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class BA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duckling",this.tier=1,this.pack="Custom",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class hK extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Summoned Cockroach",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.hidden=!0,this.initPet(o,s,r,a,l)}}class $A extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockroach",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}afterfaint(t,e,i){const s=this.level,r=new hK(this.logService,this.abilityService,this.parent,1,1,0,0);let a=this.parent.summonPet(r,this.savedPosition,!1,this);if(a.success){this.logService.createLog({message:`${this.name} summoned a 1/1 Cockroach.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a.randomEvent});let o=this.parent.getThis(r);o.pet.increaseExp(s),this.logService.createLog({message:`${this.name} gave ${o.pet.name} +${s} exp.`,type:"ability",player:this.parent,tiger:e,randomEvent:o.random}),this.abilityService.triggerFriendSummonedEvents(r)}this.superAfterFaint(t,e)}}class VA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frog",this.tier=1,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(this.level>1)return;let i=this.parent.nearestPetsAhead(1,this),s=this.parent.nearestPetsBehind(1,this);if(0===i.pets.length||0===s.pets.length)return;let r=i.pets[0],a=s.pets[0],o=r.attack,l=r.health,d=a.health;r.attack=a.attack,r.health=d,a.attack=o,a.health=l,this.logService.createLog({message:`${this.name} swapped the attack and health of ${r.name} and ${a.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random||s.random}),this.superStartOfBattle(t,e)}}class FA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chihuahua",this.tier=1,this.pack="Star",this.attack=4,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){const i=this.parent.opponent,s=i.getHighestHealthPet(void 0,this),r=s.pet;if(r){const a=this.level;this.logService.createLog({message:`${this.name} pushed ${r.name} forward ${a} space(s).`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),i.pushPet(r,a)}this.superStartOfBattle(t,e)}}class HA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seahorse",this.tier=1,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=Ft(t,this.parent).getLastPet();null!=s.pet&&(this.parent.pushPet(s.pet,this.level),this.logService.createLog({message:`${this.name} pushes ${s.pet.name} forward ${this.level} space(s).`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class qA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Iguana",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}enemyPushed(t,e,i){let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&r.alive&&(this.snipePet(r,2*this.level,s.random,i),this.superEnemyPushed(t,e,i))}enemySummoned(t,e,i){let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&r.alive&&(this.snipePet(r,2*this.level,s.random,i),this.superEnemySummoned(t,e,i))}}class UA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hummingbird",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsBehind(this.level,this,"Strawberry");if(0!==i.pets.length){for(let s of i.pets)s.givePetEquipment(new L_(this.logService,this.abilityService)),this.logService.createLog({message:`${this.name} gave ${s.name} strawberry.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random});this.superStartOfBattle(t,e)}}}class GA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Koala",this.tier=2,this.pack="Star",this.attack=3,this.health=3,this.abilityUses=0,this.maxAbilityUses=0,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){if(e===this||this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&(this.logService.createLog({message:`${this.name} gave ${r.name} Eucalyptus perk.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),r.givePetEquipment(new N_),this.abilityUses++,this.superFriendHurt(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level,this.abilityUses=0}}class jA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Yak",this.tier=2,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class WA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dumbo Octopus",this.tier=2,this.pack="Star",this.health=5,this.attack=2,this.initPet(o,s,r,a,l)}}class zA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salamander",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class KA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panda",this.tier=2,this.pack="Custom",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=.5*this.level,s={attack:Math.floor(this.attack*i),health:Math.floor(this.health*i)},r=this.parent.nearestPetsAhead(1,this);if(0===r.pets.length)return void this.superStartOfBattle(t,e);let a=r.pets[0];a.increaseAttack(s.attack),a.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${a.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}),this.health=0,this.superStartOfBattle(t,e)}}class QA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guinea Pig",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class YA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pug",this.tier=3,this.pack="Star",this.attack=5,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(1,this);if(0===i.pets.length)return void this.superStartOfBattle(t,e);let s=i.pets[0],r=this.level;this.logService.createLog({message:`${this.name} gave ${s.name} ${r} exp.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),s.increaseExp(r),this.superStartOfBattle(t,e)}}class JA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jellyfish",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent)return;let s=this.parent.getThis(this),r=s.pet;if(null==r)return;let a=this.level;r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} attack by ${a} and health by ${a}`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.superAnyoneLevelUp(t,e,i)}}class ZA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Atlantic Puffin",this.tier=2,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}friendAttacks(t,e,i){var s;if("Strawberry"!=(null===(s=e.equipment)||void 0===s?void 0:s.name))return;this.logService.createLog({message:`${this.name} removed ${e.name}'s ${e.equipment.name}.`,type:"ability",player:this.parent,tiger:i}),e.removePerk();let r=2*this.level,a=this.parent.opponent.getLastPet(),o=a.pet;null!=o&&(this.snipePet(o,r,a.random,i),this.superStartOfBattle(t,i))}}class XA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dove",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.petArray.filter(o=>{var l;return o==this||"Strawberry"!=(null===(l=o.equipment)||void 0===l?void 0:l.name)}),r=this.parent.getRandomPets(3,s,null,null,this),a=r.pets;if(0!=a.length){for(let o of a){if("Strawberry"!=o.equipment.name)continue;this.logService.createLog({message:`${this.name} activated ${o.name}'s Strawberry.`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random,pteranodon:i});let h=o.parent.getLastPet(null,o).pet,d=this.level+h.equipment.multiplier-1;h.increaseAttack(d),h.increaseHealth(d),this.logService.createLog({message:`${o.name} gave ${h.name} ${d} attack ${d} health (Strawberry) (x${this.level} ${this.name}).`,type:"equipment",player:this.parent,tiger:e,pteranodon:i})}this.superFaint(t,e)}}}class eD extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Stork",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let s,r=Math.max(1,t.previousShopTier-1);s=this.parent==t.player?t.playerPetPool.get(r):t.opponentPetPool.get(r);let a=s[Math.floor(Math.random()*s.length)],o=t.oldStork,l=this.petService.createPet({name:a,attack:o?null:3*this.level,equipment:null,exp:this.minExpForLevel,health:o?null:2*this.level,mana:0},this.parent);this.parent.summonPet(l,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned ${l.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.abilityService.triggerFriendSummonedEvents(l)),super.superAfterFaint(t,e,i)}}class tD extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Shima Enaga",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(l,r,a,o,h)}friendFaints(t,e,i){var s;if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;if(!e||"Strawberry"!=(null===(s=e.equipment)||void 0===s?void 0:s.name))return void this.superFriendFaints(t,e,i);let r=2*this.level,a=this.parent.petArray.filter(d=>d.alive);if(this.abilityUses++,0===a.length)return;let o=a[Math.floor(Math.random()*a.length)],l=this.petService.createPet({name:o.name,attack:r,health:r,equipment:null,exp:o.exp,mana:0},this.parent);this.parent.summonPet(l,e.position,!1,this).success&&(this.logService.createLog({message:`${this.name} summoned a (${r}/${r}) ${l.name} }`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),this.abilityService.triggerFriendSummonedEvents(l)),this.superFriendFaints(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class iD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leech",this.tier=3,this.pack="Star",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}}class nD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Woodpecker",this.tier=5,this.pack="Star",this.attack=6,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=2*this.level;for(let s=0;s<i;s++){let r=this.parent.nearestPetsAhead(2,this,null,!0),a=r.pets;for(let o of a)this.snipePet(o,2,r.random,e)}this.superStartOfBattle(t,e)}}class sD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tuna",this.tier=3,this.pack="Star",this.attack=3,this.health=5,this.timesHurt=0,this.hurtThisBattle=this.timesHurt,this.initPet(o,s,r,a,l)}hurt(t,e,i){this.hurtThisBattle++}faint(t,e,i){let s=this.hurtThisBattle;for(let r=0;r<s;r++){const a=this.parent.getRandomPet([this],!0,!1,!0,this);if(null==a.pet)continue;const o=this.level;this.logService.createLog({message:`${this.name} gave ${a.pet.name} +${o} attack and +${o} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:a.random}),a.pet.increaseAttack(o),a.pet.increaseHealth(o)}this.superFaint(t,e)}setAbilityUses(){super.setAbilityUses()}resetPet(){this.hurtThisBattle=this.timesHurt,super.resetPet()}}class rD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toad",this.tier=3,this.pack="Star",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}enemyHurt(t,e,i){if(!e.alive||this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&(r.equipment instanceof Ga||(r.givePetEquipment(new Ga),this.abilityUses++,this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.enemyHurt(t,e,i)))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2*this.level}}class aD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Starfish",this.tier=5,this.pack="Star",this.attack=3,this.health=7,this.initPet(o,s,r,a,l)}}class oD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Clownfish",this.tier=4,this.pack="Star",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){if(e.parent!==this.parent)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;if(null==r)return;let a=2*this.level;r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} attack and ${a} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.superAnyoneLevelUp(t,e,i)}}class lD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blobfish",this.tier=5,this.pack="Star",this.attack=2,this.health=10,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.nearestPetsBehind(2,this),r=s.pets;for(let a of r){let o=this.level;this.logService.createLog({message:`${this.name} gave ${a.name} ${o} exp.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),a.increaseExp(o)}this.superFaint(t,e)}}class cD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cabybara",this.tier=3,this.pack="Star",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}}class uD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Okapi",this.tier=3,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class hD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cassowary",this.tier=3,this.pack="Star",this.attack=5,this.health=2,this.initPet(o,s,r,a,l)}friendGainedPerk(t,e,i){var s;if(e.parent!==this.parent||"Strawberry"!==(null===(s=e.equipment)||void 0===s?void 0:s.name))return;const r=this.level;let o=this.parent.getThis(this).pet;null!=o&&(this.logService.createLog({message:`${this.name} gave ${o.name} +${r} permanent health and +${r} attack for this battle.`,type:"ability",player:this.parent,tiger:i}),o.increaseHealth(r),o.increaseAttack(r),this.superFriendGainedPerk(t,e,i))}}class Y_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Orangutang",this.tier=3,this.pack="Star",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}}class dD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Siamese",this.tier=4,this.pack="Star",this.health=4,this.attack=1,this.initPet(o,s,r,a,l)}}class fD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elk",this.tier=4,this.pack="Star",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}endTurn(t){}}class J_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy Ball",this.tier=1,this.pack="Star",this.attack=2,this.health=6,this.hidden=!0,this.initPet(o,s,r,a,l)}}class pD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy Armadillo",this.tier=4,this.pack="Star",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}hurt(t,e,i){if(this.alive){const s=2*this.level,r=this.parent.getThis(this),a=r.pet;if(null==a)return;a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} permanent health and transforms into a protected ball!`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random});const o=this.parent.getThis(this),l=o.pet;if(null==l)return;const h=new J_(this.logService,this.abilityService,l.parent,l.health,l.attack,l.mana,l.exp,l.equipment);this.logService.createLog({message:`${this.name} transformed ${l.name} into a protected ball!`,type:"ability",player:this.parent,tiger:i,randomEvent:o.random}),l.parent.transformPet(l,h)}this.superHurt(t,e,i)}}class gD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fossa",this.tier=4,this.pack="Star",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){const s=this.parent===t.player?t.playerRollAmount:t.opponentRollAmount;if(s<=0)return;const r=this.level*s;let o=this.parent.getFurthestUpPets(2,null,this).pets;if(0!=o.length){for(let l of o)this.logService.createLog({message:`${this.name} removed ${r} health from ${l.name}.`,type:"ability",player:this.parent,tiger:e}),l.increaseHealth(-r);this.superStartOfBattle(t,e)}}}class mD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Eel",this.tier=4,this.pack="Custom",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(!this.alive)return;let i=.5*this.level;this.health=Math.min(50,Math.floor(this.health*(1+i))),this.logService.createLog({message:`${this.name} has gained ${100*i}% health. (${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class vD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hawk",this.tier=4,this.pack="Star",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getOppositeEnemyPet(this),s=i.pet;s&&this.snipePet(s,7*this.level,i.random,e)}}class yD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Platypus",this.tier=4,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=3*this.level,r=2*this.level,a=new w_(this.logService,this.abilityService,this.parent,r,s,0,this.minExpForLevel),o=new E_(this.logService,this.abilityService,this.parent,r,s,0,this.minExpForLevel),l=this.parent.summonPet(a,this.savedPosition,!1,this);l.success&&(this.logService.createLog({message:`${this.name} spawned ${s}/${r} Duck level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:l.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a));let h=this.parent.summonPet(o,this.savedPosition,!1,this);h.success&&(this.logService.createLog({message:`${this.name} spawned ${s}/${r} Beaver level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:h.randomEvent}),this.abilityService.triggerFriendSummonedEvents(o)),super.superAfterFaint(t,e,i)}}class _D extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crow",this.tier=4,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class bD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Donkey",this.tier=4,this.pack="Star",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;let r=this.parent.opponent.getLastPet();null!=r.pet&&(this.parent.pushPet(r.pet,r.pet.position),this.logService.createLog({message:`${this.name} pushed ${r.pet.name} to the front.`,type:"ability",player:this.parent,tiger:i}),this.superFriendFaints(t,e,i),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class SD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sparrow",this.tier=4,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}}class wD extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Pelican",this.tier=5,this.pack="Star",this.attack=5,this.health=5,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=this.level,s=this.parent.nearestPetsAhead(5,this),a=s.pets.filter(o=>o.equipment instanceof L_).slice(0,i);for(let o of a){let l=this.petService.createPet({name:"Salmon",attack:o.attack,health:o.health,exp:this.minExpForLevel,equipment:null,mana:0},this.parent);this.swallowedPets.push(l),o.health=0,this.logService.createLog({message:`${this.name} swallowed ${o.name}`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random})}this.superStartOfBattle(t,e)}afterFaint(t,e,i){for(;this.swallowedPets.length>0;){let s=this.swallowedPets.shift(),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} summoned ${s.name} (level ${s.level}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s))}super.superAfterFaint(t,e,i)}}class ED extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anteater",this.tier=3,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=new b_(this.logService,this.abilityService,this.parent,1,1,0,5),a=this.parent.summonPet(r,this.savedPosition,!1,this);a.success&&(this.logService.createLog({message:`${this.name} spawned 1/1 Ant level 3`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a.randomEvent}),this.abilityService.triggerFriendSummonedEvents(r))}super.superAfterFaint(t,e,i)}}class kD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sword Fish",this.tier=5,this.pack="Star",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=this.parent.opponent.getHighestHealthPet(void 0,this),r=s.pet,a=this.attack*this.level;null!=r&&this.snipePet(r,a,s.random,e),this.snipePet(this,a,!1,e),this.superStartOfBattle(t,e)}}class CD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Polar Bear",this.tier=5,this.pack="Custom",this.attack=4,this.health=8,this.initPet(o,s,r,a,l)}}class PD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Siberian Husky",this.tier=5,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}}class AD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lion",this.tier=5,this.pack="Custom",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(a=>a!==this),s=0;for(let a of i)a.tier>s&&(s=a.tier);let r=.5*this.level;this.tier<=s||(this.increaseAttack(Math.floor(this.attack*r)),this.increaseHealth(Math.floor(this.health*r)),this.logService.createLog({message:`${this.name} increased its attack and health by ${100*r}% (${this.attack}/${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class DD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Triceratops",this.tier=5,this.pack="Star",this.attack=5,this.health=6,this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=this.parent.getRandomPet([this],!0,!1,!0,this),r=3*this.level;null!=s.pet&&(s.pet.increaseAttack(r),s.pet.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.pet.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.superHurt(t,e,i))}}class TD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zebra",this.tier=5,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class xD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fox",this.tier=5,this.pack="Custom",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}}class MD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hamster",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class RD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shoebill",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class ID extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vulture",this.tier=5,this.pack="Star",this.attack=4,this.health=3,this.attackCounter=0,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){!this.alive||(i||this.attackCounter++,this.attackCounter%2!=1&&(this.abilityService.setCounterEvent({callback:()=>{let r=this.parent.opponent.getRandomPet([],!1,!0,!1,this);null!=r.pet&&this.snipePet(r.pet,4*this.level,r.random,i)},priority:this.attack,pet:this}),this.superFriendFaints(t,e,i)))}}class OD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ibex",this.tier=5,this.pack="Star",this.attack=6,this.health=7,this.affectedEnemies=new Set,this.initPet(o,s,r,a,l)}processEnemyTrigger(t,e){if(this.affectedEnemies.has(t)||this.affectedEnemies.size>=this.maxAbilityUses)return;let i=this.parent.getSpecificPet(this,t),s=i.pet;if(null==s)return;let r=Math.floor(.7*t.health);s.increaseHealth(-r),this.affectedEnemies.add(s),this.logService.createLog({message:`${this.name} removed ${r} health from ${t.name} (70%)`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random})}enemyHurt(t,e,i){!(null==e?void 0:e.alive)||(this.processEnemyTrigger(e,i),this.superEnemyHurt(t,e,i))}enemyPushed(t,e,i){!(null==e?void 0:e.alive)||(this.processEnemyTrigger(e,i),this.superEnemyPushed(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class ND extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Komodo",this.tier=6,this.pack="Custom",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}endTurn(t){if(!t.komodoShuffle)return;let i=this.position;if(0==i)return;let r=this.shufflePets(0,i).map(a=>a.name).join(", ");this.logService.createLog({message:`${this.name} shuffled positions of pets (${r}).`,type:"ability",player:this.parent,randomEvent:!0})}shufflePets(t,e){let i=this.parent.petArray.slice(t,e);vC(i);for(let s=0;s<i.length;s++)this.parent[`pet${s}`]=i[s];return i}}class LD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ostrich",this.tier=6,this.pack="Star",this.attack=6,this.health=7,this.initPet(o,s,r,a,l)}}class BD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Reindeer",this.tier=6,this.pack="Star",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.getThis(this),s=i.pet;null!=s&&(s.givePetEquipment(new Wr),this.abilityUses++,this.logService.createLog({message:`${this.name} gave ${s.name} Melon.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.superAfterAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class $D extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stegosaurus",this.tier=6,this.pack="Custom",this.attack=3,this.health=8,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(a=>null!=a.equipment),s=this.parent.getRandomPet([...i,this],!0,!1,!0,this);if(null==s.pet)return;let r=this.level*t.turnNumber;s.pet.increaseAttack(r),s.pet.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.pet.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.superStartOfBattle(t,e)}}class VD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Piranha",this.tier=6,this.pack="Star",this.attack=10,this.health=4,this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=this.parent.getRandomPets(5,null,null,null,this,!1),r=s.pets,a=3*this.level;for(let o of r)o.increaseAttack(a),this.logService.createLog({message:`${this.name} gave ${o.name} ${a} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random});this.superHurt(t,e,i)}}class FD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hammerhead Shark",this.tier=6,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}}class HD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Therizinosaurus",this.tier=6,this.pack="Custom",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getFurthestUpPets(this.level,null,this,"Strawberry"),s=i.pets;for(let r of s)r.givePetEquipment(new Ua),this.logService.createLog({message:`${this.name} gave ${r.name} Coconut.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random})}}class qD extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Harpy Eagle",this.tier=6,this.pack="Custom",this.attack=6,this.health=6,this.initPet(l,r,a,o,h)}hurt(t,e,i){let r,s=5*this.level;r=this.parent==t.player?t.playerPetPool.get(1):t.opponentPetPool.get(1);let a=r[Math.floor(Math.random()*r.length)],o=this.petService.createPet({name:a,attack:s,health:s,equipment:null,mana:0,exp:0},this.parent);this.parent.summonPet(o,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned ${o.name} (${s}/${s}).`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),this.abilityService.triggerFriendSummonedEvents(o)),super.superHurt(t,e,i)}}class UD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Real Velociraptor",this.tier=6,this.pack="Star",this.attack=6,this.health=5,this.friendAppliedThisTurn=new Set,this.initPet(o,s,r,a,l)}friendLostPerk(t,e,i){if(this.abilityUses>=this.maxAbilityUses||this==e||!(null==e?void 0:e.lastLostEquipment)||this.friendAppliedThisTurn.has(e))return;let s=this.createEquipmentInstance(e.lastLostEquipment);if(s){let r=this.parent.getSpecificPet(this,e),a=r.pet;if(null==a)return;a.givePetEquipment(s),this.logService.createLog({message:`${this.name} returned ${s.name} to ${a.name}.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),this.friendAppliedThisTurn.add(a),this.abilityUses++}super.superFriendLosPerk(t,e,i)}createEquipmentInstance(t){try{return new(0,t.constructor)}catch(e){return console.warn("Failed to create equipment instance:",t.name,e),null}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class GD extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Sabertooth Tiger",this.tier=6,this.pack="Star",this.attack=4,this.health=5,this.timesHurt=0,this.hurtThisBattle=this.timesHurt,this.initPet(l,r,a,o,h)}hurt(t,e,i){this.hurtThisBattle++,this.superHurt(t,e,i)}afterFaint(t,e,i){let s=this.hurtThisBattle;if(s>0)for(let r=0;r<this.level;r++){let a=2*s,o=3*s,l=this.petService.createPet({name:"Mammoth",attack:a,health:o,equipment:null,mana:0,exp:0},this.parent),h=this.parent.summonPet(l,this.savedPosition,!1,this);h.success&&(this.logService.createLog({message:`${this.name} summoned ${l.name} (${a}/${o}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:h.randomEvent}),this.abilityService.triggerFriendSummonedEvents(l))}this.superAfterFaint(t,e)}resetPet(){this.hurtThisBattle=this.timesHurt,super.resetPet()}}class jD extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Orca",this.tier=6,this.pack="Star",this.attack=5,this.health=7,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=this.petService.getRandomFaintPet(this.parent);r.attack=6,r.health=6,this.parent.summonPet(r,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned a 6/6 ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.abilityService.triggerFriendSummonedEvents(r))}super.superAfterFaint(t,e,i)}}class WD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Spinosaurus",this.tier=6,this.pack="Star",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(!this.alive)return;let s={attack:2*this.level,health:3*this.level},r=this.parent.getRandomPet([this],!0,!1,!0,this);null!=r.pet&&(r.pet.increaseAttack(s.attack),r.pet.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),super.superFriendFaints(t,e,i))}}class zD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bulldog",this.tier=1,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}afterAttack(t,e){if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;let i=2*this.level,s=this.parent.getThis(this),r=s.pet;null!=r&&(r.increaseAttack(i),this.logService.createLog({message:`${this.name} gained +${i} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.abilityUses++,this.superAfterAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class Z_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Groundhog",this.tier=1,this.pack="Golden",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}faint(t,e,i){this.parent.gainTrumpets(this.level,this,i),this.superFaint(t,e)}}class KD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cone Snail",this.tier=1,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsBehind(1,this);if(0===i.pets.length)return;let s=i.pets[0],r=2*this.level;s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.superStartOfBattle(t,e)}}class QD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goose",this.tier=1,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.opponent.getFurthestUpPet(this),s=i.pet;if(null==s)return;let r=this.level;s.increaseAttack(-this.level),this.logService.createLog({message:`${this.name} removed ${r} attack from ${s.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.superStartOfBattle(t,e)}}class YD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pied Tamarin",this.tier=1,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=this.parent.opponent.getRandomPets(this.level,null,null,!0,this);for(let r of s.pets)null!=r&&this.snipePet(r,3,s.random,e,i);s.pets.length>0&&this.parent.spendTrumpets(1,this,i)}}class JD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silkmoth",this.tier=1,this.pack="Golden",this.attack=3,this.health=1,this.maxAbilityUses=2,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){if(this.abilityUses>=this.maxAbilityUses||e!=this.petAhead)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;if(null==r)return;let a=this.level;r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.abilityUses++,this.superFriendHurt(t,e,i)}}class ZD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lemming",this.tier=1,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}}class XD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Magpie",this.tier=1,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}}class eT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hercules Beetle",this.tier=2,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}}class tT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stoat",this.tier=2,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class iT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Black Necked Stilt",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){this.parent.gainTrumpets(2*this.level,this,i),this.superFaint(t,e)}}class nT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squid",this.tier=2,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=!1,r=this.parent.opponent.getFurthestUpPets(this.level,"Ink",this),a=r.pets;for(let o of a){if(null==o)break;s=!0,o.givePetEquipment(new zP),this.logService.createLog({message:`${this.name} gave ${o.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.random})}s&&this.parent.spendTrumpets(1,this,i),this.superFaint(t,e)}}class sT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Urchin",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getFurthestUpPet(this),r=[s.pet],a=s.random;if(null!=r[0]){for(let o=0;o<this.level-1;o++){let l;if(l=a?this.parent.opponent.getFurthestUpPet(this).pet:r[o].petBehind(),null==l)break;r.push(l)}for(let o of r)null!=o&&(o.increaseHealth(-5),this.logService.createLog({message:`${this.name} removed 5 health from ${o.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a}));this.superFaint(t,e)}}}class rT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Door Head Ant",this.tier=2,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.parent.pushPetToFront(this,!0),this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e});let i=4*this.level,s=this.parent.getThis(this),r=s.pet;null!=r&&(r.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}))}}class X_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard Tail",this.tier=1,this.pack="Golden",this.hidden=!0,this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}}class aT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.maxAbilityUses=2,this.initPet(o,s,r,a,l)}hurt(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=new X_(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel),r=this.parent.summonPetInFront(this,s);r.success&&(this.logService.createLog({message:`${this.name} spawned Liazrd Tail Level ${this.level}`,type:"ability",player:this.parent,tiger:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),this.abilityUses++,super.superHurt(t,i)}}class oT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Turtle",this.tier=2,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let s=2*this.level,r=this.parent.getSpecificPet(this,e),a=r.pet;null!=a&&(a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),this.superFriendSummoned(t,e,i))}}class lT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="African Penguin",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}}class cT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Musk Ox",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}friendAheadFaints(t,e,i){let s={attack:this.level,health:2*this.level},r=this.parent.getThis(this),a=r.pet;null!=a&&(a.increaseAttack(s.attack),a.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${a.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),this.superFriendAheadFaints(t,e,i))}}class uT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flea",this.tier=3,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getHighestHealthPets(this.level,"Weak",this);for(let r of s.pets)this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),r.givePetEquipment(new Ga);this.superFaint(t,e)}}class hT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Surgeon Fish",this.tier=3,this.pack="Golden",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e){let s=this.parent.nearestPetsBehind(2,this).pets;if(0==s.length||this.parent.trumpets<2)return;this.parent.spendTrumpets(2,this);let r=4*this.level;for(let a of s)a.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${a.name} ${r} health.`,type:"ability",player:this.parent,tiger:e});this.superFaint(t,e)}}class eb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Weasel",this.tier=3,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class dT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guineafowl",this.tier=3,this.pack="Golden",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}hurt(t,e,i){this.parent.gainTrumpets(2*this.level,this),this.superHurt(t,e,i)}}class fT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Betta Fish",this.tier=3,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.nearestPetsBehind(1,this);if(0===s.pets.length)return void this.superFaint(t,e);let r=s.pets[0],a={health:2*this.level,attack:4*this.level};r.increaseAttack(a.attack),r.increaseHealth(a.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${a.attack} attack and ${a.health} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),this.superFaint(t,e)}}class pT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Meerkat",this.tier=2,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i;i=this.parent==t.player?t.playerGoldSpent:t.opponentGoldSpent;let s=Math.floor(i/4)*this.level,r=this.parent.nearestPetsBehind(1,this),a=this.parent.nearestPetsAhead(1,this);if(a.pets.length>0){let o=a.pets[0];o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:a.random})}if(r.pets.length>0){let o=r.pets[0];o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random})}this.superFaint(t,e)}}class gT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Fish",this.tier=3,this.pack="Golden",this.attack=5,this.health=2,this.maxAbilityUses=2,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=2*this.level,r=this.parent.getSpecificPet(this,e),a=r.pet;null!=a&&(this.logService.createLog({message:`${this.name} gave ${a.name} ${s} exp.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),a.increaseExp(s),this.abilityUses++,this.superFriendSummoned(t,e,i))}}class mT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baboon",this.tier=3,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class vT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Osprey",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=new Z_(this.logService,this.abilityService,this.parent,null,null,0,0),a=this.parent.summonPet(r,this.savedPosition,!1,this);a.success&&(this.logService.createLog({message:`${this.name} summoned a 2/1 Groundhog`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a.randomEvent}),this.abilityService.triggerFriendSummonedEvents(r))}super.superAfterFaint(t,e,i)}}class yT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manatee",this.tier=4,this.pack="Golden",this.attack=2,this.health=11,this.initPet(o,s,r,a,l)}}class _T extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cuttlefish",this.tier=4,this.pack="Golden",this.attack=8,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getLastPets(this.level,null,this),r=s.pets;if(0==r.length)return;for(let h of r)h.increaseHealth(-3),this.logService.createLog({message:`${this.name} reduced ${h.name} health by 3)`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random});let l=this.parent.opponent.getLastPets(this.level,null,this).pets;if(0!=l.length){for(let h of l)h.givePetEquipment(new zP),this.logService.createLog({message:`${this.name} gave ${h.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}}class bT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Egyptian Vulture",this.tier=5,this.pack="Golden",this.attack=7,this.health=4,this.initPet(o,s,r,a,l)}knockOut(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.nearestPetsBehind(5,this),r=null;for(let a of s.pets)if(null!=a.faint){r=a;break}null!=r&&(this.logService.createLog({message:`${this.name} activated ${r.name}'s ability.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),r.faint(t,!1),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class ST extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saiga Antelope",this.tier=4,this.pack="Golden",this.attack=4,this.health=3,this.attackCounter=0,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){e!=this&&(!this.alive||(i||this.attackCounter++,this.attackCounter%2==0&&(this.abilityService.setCounterEvent({callback:()=>{this.parent.gainTrumpets(3*this.level,this)},priority:this.attack,pet:this}),super.superFriendFaints(t,e,i))))}}class wT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sealion",this.tier=4,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class ET extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vaquita",this.tier=4,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=Math.max(Math.floor(.5*this.level*this.parent.trumpets),4*this.level);this.parent.gainTrumpets(s,this,i)}}class tb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smallest Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class ib extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smaller Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=new tb(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} spawned Smallest Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),super.superFaint(t,e)}}class kT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Slug",this.tier=4,this.pack="Golden",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=new ib(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} spawned Smaller Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),super.superAfterFaint(t,e,i)}}class CT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poison Dart Frog",this.tier=4,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,s,r,a,l)}friendAheadFaints(t,e,i){let s=this.parent.opponent.getHighestHealthPet(void 0,this),r=s.pet;null!=r&&this.snipePet(r,4*this.level,s.random,i)}}class PT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Secretary Bird",this.tier=4,this.pack="Golden",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(!this.alive||(i||this.abilityUses++,this.abilityUses%2==1))return;let s=this.parent.nearestPetsAhead(1,this);if(0===s.pets.length)return;let r=s.pets[0],a=3*this.level,o=4*this.level;r.increaseAttack(a),r.increaseHealth(o),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} attack and ${o} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.superFriendFaints(t,e,i)}}class AT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Royal Flycatcher",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}enemySummoned(t,e,i){let s=this.parent.opponent.getRandomPet([],!1,!0,!1,this);null!=s.pet&&(this.snipePet(s.pet,3*this.level,s.random,i),this.superEnemySummoned(t,e,i))}}class DT extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Falcon",this.tier=4,this.pack="Golden",this.attack=5,this.health=5,this.maxAbilityUses=3,this.initPet(l,r,a,o,h)}knockOut(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=3*this.level,r=this.petService.createPet({attack:s,health:s,name:e.name,exp:this.minExpForLevel,equipment:null,mana:0},this.parent),a=this.parent.summonPet(r,this.savedPosition,!1,this);a.success&&(this.logService.createLog({message:`${this.name} spawned ${r.name} ${s}/${s} Level ${this.level}`,type:"ability",player:this.parent,tiger:i,randomEvent:a.randomEvent}),this.abilityService.triggerFriendSummonedEvents(r)),this.abilityUses++,super.superKnockOut(t,e,i)}}class TT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manta Ray",this.tier=4,this.pack="Golden",this.attack=5,this.health=7,this.initPet(o,s,r,a,l)}}class xT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Macaque",this.tier=5,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=12*this.level,s=new Y_(this.logService,this.abilityService,this.parent,i,i,0,this.minExpForLevel,this.equipment),r=this.parent.summonPetInFront(this,s);if(r.success){this.abilityService.triggerFriendSummonedEvents(s);let a=`${this.name} spawned Orangutang ${s.attack}/${s.health}`;null!=this.equipment&&(a+=` with ${this.equipment.name}`),a+=".",this.logService.createLog({message:a,type:"ability",player:this.parent,tiger:e,randomEvent:r.randomEvent})}this.superStartOfBattle(t,e)}}class MT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nyala",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){this.parent.gainTrumpets(8*this.level,this,i),this.superFaint(t,e)}}class RT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nurse Shark",this.tier=5,this.pack="Golden",this.attack=5,this.health=7,this.initPet(o,s,r,a,l)}faint(t,e,i){if(0==this.parent.trumpets)return;let s=3*Math.min(this.parent.trumpets,6),r=this.parent.opponent.getRandomPets(2,[],!1,!0,this),a=r.pets;if(0!=a.length){this.parent.spendTrumpets(Math.min(this.parent.trumpets,6),this,i);for(let o of a)this.snipePet(o,s,r.random,e,i);this.superFaint(t,e)}}}class IT extends _{constructor(t,e,i,s,r,a,o,l,h,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Beluga Whale",this.tier=5,this.pack="Golden",this.attack=3,this.health=8,this.initPet(l,r,a,o,h),this.belugaSwallowedPet=d}afterFaint(t,e,i){if(null==this.belugaSwallowedPet)return void super.superAfterFaint(t,e,i);let s=this.petService.createPet({attack:null,equipment:null,exp:this.minExpForLevel,health:null,name:this.belugaSwallowedPet,mana:0},this.parent),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} spawned ${s.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),super.superAfterFaint(t,e,i)}}class OT extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Wolf",this.tier=5,this.pack="Golden",this.attack=4,this.health=4,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let s={attack:3*this.level,health:2*this.level};for(let r=0;r<3;r++){let a=this.petService.createPet({attack:s.attack,equipment:null,exp:this.minExpForLevel,health:s.health,name:"Pig",mana:0},this.parent),o=this.parent.summonPet(a,this.savedPosition,!1,this);o.success&&(this.logService.createLog({message:`${this.name} spawned ${a.name} ${s.attack}/${s.health}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a))}super.superAfterFaint(t,e,i)}}class NT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silver Fox",this.tier=5,this.pack="Custom",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}beforeAttack(t,e){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class LT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fire Ant",this.tier=5,this.pack="Golden",this.attack=8,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=(0,yt.shuffle)(this.parent.petArray.filter(r=>r!=this));s.sort((r,a)=>a.tier-r.tier);for(let r=0;r<this.level;r++){let a=s[r];if(null==a)break;a.increaseAttack(this.attack),this.logService.createLog({message:`${this.name} gave ${a.name} ${this.attack} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i})}super.superFaint(t,e)}}class BT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockatoo",this.tier=4,this.pack="Golden",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}}class $T extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue Ringed Octopus",this.tier=5,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class VT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crane",this.tier=5,this.pack="Golden",this.attack=6,this.health=5,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){if(e!=this.petAhead||this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.nearestPetsAhead(1,this);if(0==s.pets.length)return;let r=s.pets[0];r.increaseAttack(5),this.logService.createLog({message:`${this.name} gave ${r.name} 5 attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random});let a=this.parent.nearestPetsAhead(1,this);if(0==a.pets.length)return;let o=a.pets[0];o.givePetEquipment(new Wr),this.logService.createLog({message:`${this.name} gave ${o.name} Melon.`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random}),this.abilityUses++,this.superFriendHurt(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class FT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emu",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;let i=this.parent.nearestPetsAhead(1,this);if(0==i.pets.length)return;let s=i.pets[0],r=4*this.level;s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random});let a=this.parent.nearestPetsAhead(1,this);if(0===a.pets.length)return;let o=a.pets[0];this.parent.pushPet(o,4),this.logService.createLog({message:`${this.name} pushed ${o.name} to the front.`,type:"ability",player:this.parent,tiger:e,randomEvent:a.random})}}class HT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wildebeast",this.tier=6,this.pack="Golden",this.attack=8,this.health=6,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.parent.trumpets<2||this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.getThis(this),s=i.pet;null!=s&&(s.givePetEquipment(new Ua),this.logService.createLog({message:`${this.name} gave itself a Coconut.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.parent.spendTrumpets(2,this),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class qT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Highland Cow",this.tier=6,this.pack="Golden",this.attack=4,this.health=12,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.floor(this.health/3*this.level);this.parent.gainTrumpets(i,this)}}class UT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Catfish",this.tier=6,this.pack="Golden",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}}class GT extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Pteranodon",this.tier=6,this.pack="Golden",this.attack=3,this.health=5,this.initPet(l,r,a,o,h)}friendFaints(t,e,i){if(!this.alive||this.abilityUses>=this.maxAbilityUses||e.name==this.name)return;let s=this.petService.createPet({attack:1,health:1,equipment:null,exp:e.exp,name:e.name,mana:0},this.parent),r=this.parent.summonPetBehind(this,s);r.success&&(this.logService.createLog({message:`${this.name} summoned a 1/1 ${e.name} behind it.`,type:"ability",player:this.parent,randomEvent:r.randomEvent,tiger:i}),this.abilityService.triggerFriendSummonedEvents(s)),this.abilityUses++,this.superFriendFaints(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class jT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Warthog",this.tier=6,this.pack="Golden",this.attack=9,this.health=6,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.level,r=Math.floor(this.attack/3);for(let a=0;a<r;a++){let o=this.parent.getRandomPet([],!0,!1,!0,this);if(null==o.pet)break;o.pet.increaseAttack(s),o.pet.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${o.pet.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.random})}}}class WT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cobra",this.tier=6,this.pack="Golden",this.attack=12,this.health=6,this.initPet(o,s,r,a,l)}friendAheadAttacks(t,e,i){let s=this.parent.opponent.getRandomPet([],!1,!0,!1,this);if(null==s.pet)return;let r=Math.floor(.2*this.attack*this.level);this.snipePet(s.pet,r,s.random,i)}}class zT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Grizzly Bear",this.tier=6,this.pack="Golden",this.attack=6,this.health=8,this.attackCounter=0,this.initPet(o,s,r,a,l)}friendAttacks(t,e,i){i||this.attackCounter++,this.attackCounter%5==0&&(this.abilityService.setCounterEvent({callback:()=>{let s=this.parent.opponent.getRandomPets(2,[],!0,!1,this),r=s.pets,a=6*this.level;for(let o of r)this.snipePet(o,a,s.random,i)},priority:this.attack,pet:this}),this.superFriendAttacks(t,e,i))}}class KT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="German Shepherd",this.tier=6,this.pack="Golden",this.attack=10,this.health=6,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let s=Math.floor(this.attack*this.level*.25),r=this.parent.getSpecificPet(this,e),a=r.pet;null!=a&&(a.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}))}}class QT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bird of Paradise",this.tier=6,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class YT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Oyster",this.tier=6,this.pack="Golden",this.attack=2,this.health=10,this.initPet(o,s,r,a,l)}}class JT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rockhopper Penguin",this.tier=6,this.pack="Golden",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(this.abilityUses>=this.maxAbilityUses||null!=this.parent.pet0)return;let i=this.parent.getThis(this),s=i.pet;null!=s&&(this.logService.createLog({message:`${this.name} jumps to the front!`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.parent.pushPetToFront(s,!0),this.parent.gainTrumpets(12*this.level,this),this.abilityUses++,this.superEmptyFrontSpace(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class ZT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Marmoset",this.tier=1,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class XT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jerboa",this.tier=4,this.pack="Custom",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}}class e1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frilled Dragon",this.tier=1,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=0;for(let s of this.parent.petArray)s!==this&&null!=s.faint&&i++;i*=this.level,this.increaseAttack(i),this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} attack and ${i} health.`,type:"ability",player:this.parent,tiger:e})}}class t1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wombat",this.tier=2,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Ft(t,this.parent),s=[],r=0;for(let o of i.petArray)null!=o.faint&&(o.tier>r?(s=[o],r=o.tier):o.tier==r&&s.push(o));if(0==s.length)return;let a=s[Math.floor(Math.random()*s.length)];this.faint=a.faint.bind(this),this.logService.createLog({message:`${this.name} has copied ${a.name}'s faint ability as level ${this.level}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>1}),this.superStartOfBattle(t,e)}}class i1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frigatebird",this.tier=2,this.pack="Custom",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}friendGainedAilment(t,e){if(this.abilityUses>=this.level||e==this)return;let i=e.equipment;e.givePetEquipment(new O_),this.abilityUses++,this.logService.createLog({message:`${this.name} removed ${i.name} from ${e.name} and gave ${e.name} Rice.`,type:"ability",player:this.parent})}resetPet(){super.resetPet()}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class n1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Aardvark",this.tier=3,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}enemySummoned(t,e,i){let s=2*this.level;this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i})}}class s1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bear",this.tier=3,this.pack="Golden",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){const s=this.level,r=this.savedPosition,a=[];for(const o of this.parent.petArray)if(o.alive){const l=Math.abs(o.position-r);l>0&&l<=s&&a.push(o)}for(const o of this.parent.opponent.petArray)o.alive&&r+o.position+1<=s&&a.push(o);for(let o of a)o.givePetEquipment(new R_(this.logService,this.abilityService)),this.logService.createLog({message:`${this.name} gave ${o.name} Honey.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}class r1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emperor Tamarin",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class a1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Porcupine",this.tier=3,this.pack="Custom",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}hurt(t,e,i){null==e||!e.alive||this.snipePet(e,3*this.level)}}class o1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wasp",this.tier=3,this.pack="Custom",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class l1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragonfly",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}}class c1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lynx",this.tier=4,this.pack="Custom",this.attack=5,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;let s=0;for(let a of this.parent.petArray)s+=a.level;let r=i.getRandomPets(this.level,null,null,!0,this);for(let a of r.pets)null!=a&&this.snipePet(a,s,r.random,e);super.superStartOfBattle(t,e)}}class u1 extends _{constructor(t,e,i,s,r,a,o,l,h,d){super(t,e,r),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Seagull",this.tier=4,this.pack="Custom",this.attack=4,this.health=3,this.initPet(h,a,o,l,d)}friendSummoned(t,e,i){this.abilityUses>=this.maxAbilityUses||null!=this.equipment&&(e.givePetEquipment(Vp.getInjector().get(dn).getInstanceOfAllEquipment().get(this.equipment.name)),this.logService.createLog({message:`${this.name} gave ${e.name} a ${this.equipment.name}`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendSummoned(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Gp extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Alpaca",this.tier=6,this.pack="Star",this.attack=3,this.health=7,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){if(e instanceof Gp||this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&(r.increaseExp(3),this.logService.createLog({message:`${this.name} gave ${r.name} 3 exp.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.abilityUses++,this.superFriendSummoned(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class h1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hyena",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){switch(this.level){case 1:this.level1Ability(t,e);break;case 2:this.level2Ability(t,e);break;case 3:this.level3Ability(t,e)}}level1Ability(t,e){let i=this.parent.getAll(!0,this);for(let s of i.pets){let r=s.health;s.health=s.attack,s.attack=r}this.logService.createLog({message:`${this.name} swapped all pets attack and health.`,type:"ability",player:this.parent,tiger:e})}level2Ability(t,e){this.shufflePets(t.player),this.shufflePets(t.opponet),this.logService.createLog({message:`${this.name} shuffled positions of all pets.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0})}level3Ability(t,e){this.level1Ability(t,e),this.level2Ability(t,e)}shufflePets(t){let e=t.petArray;vC(e);for(let i=0;i<e.length;i++)t[`pet${i}`]=e[i]}}class d1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moose",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.initPet(o,s,r,a,l)}}class f1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lioness",this.tier=6,this.pack="Custom",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}}class p1 extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Tapir",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let s=this.parent.petArray.filter(h=>"Tapir"==h.name),r=this.parent.getRandomPet(s,!0,!1,!1,this);if(null==r.pet)return void super.superAfterFaint(t,e,i);let a=(0,yt.clone)(r.pet);a.exp=this.minExpForLevel;let o=this.petService.createDefaultVersionOfPet(a);this.parent.summonPet(o,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned a ${o.name} level ${o.level}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.abilityService.triggerFriendSummonedEvents(o)),super.superAfterFaint(t,e,i)}}class g1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Walrus",this.tier=6,this.pack="Custom",this.attack=7,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getRandomPets(this.level,null,!0,!1,this);for(let r of s.pets)null!=r&&(r.givePetEquipment(new bC),this.logService.createLog({message:`${this.name} gave ${r.name} a Peanut Butter.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}))}}class m1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="White Tiger",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsBehind(this.level,this);for(let s of i.pets)this.logService.createLog({message:`${this.name} gave ${s.name} +3 experience.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),s.increaseExp(3);this.superStartOfBattle(t,e)}}class v1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amargasaurus",this.tier=5,this.pack="Star",this.attack=5,this.health=7,this.healthRestoredThisTurn=0,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){let s;if(e.transformed?(s=e.transformedInto,s.originalHealth=e.originalHealth):s=e,!s||!s.alive||s===this)return;const r=15*this.level,a=s.originalHealth-s.health;if(a<=0||this.healthRestoredThisTurn>=r)return;const l=Math.min(a,r-this.healthRestoredThisTurn);if(l>0){let d=this.parent.getSpecificPet(this,s).pet;if(null==d)return;this.logService.createLog({message:`${this.name} restored ${l} health to ${d.name}.`,type:"ability",player:this.parent,tiger:i}),d.increaseHealth(l),this.healthRestoredThisTurn+=l}this.superFriendHurt(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.healthRestoredThisTurn=0}}class y1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Opossum",this.tier=1,this.pack="Golden",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class _1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kiwi",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=this.parent.petArray.filter(l=>{var h;return"Strawberry"!=(null===(h=l.equipment)||void 0===h?void 0:h.name)||l==this}),r=this.parent.getLastPet(s,this),a=r.pet;if(null==a)return;let o=this.level;a.increaseAttack(o),this.logService.createLog({message:`${this.name} gave ${a.name} +${o} attack`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),this.superHurt(t,e,i)}}class b1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Firefly",this.tier=1,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getPetsWithinXSpaces(this,this.level),r=s.pets;if(0!=r.length){for(const a of r)this.snipePet(a,1,s.random,e,i);this.superFaint(t,e)}}}class S1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bass",this.tier=2,this.pack="Star",this.attack=3,this.health=3,this.sellPets=["Beaver","Duck","Pig","Pillbug","Kiwi","Mouse","Frog","Bass","Tooth Billed Pigeon"],this.initPet(o,s,r,a,l)}faint(t,e,i){const s=this.parent.petArray.filter(l=>l==this&&!this.sellPets.includes(l.name)&&l.level<2);let r=this.parent.getRandomPet(s,!0,null,null,this);const a=r.pet;if(null==a)return;const o=this.level;this.logService.createLog({message:`${this.name} gave ${a.name} +${o} experience.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.random}),a.increaseExp(o),this.superFaint(t,e)}}class w1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pigeon",this.tier=1,this.pack="Turtle",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}}class wh extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hare",this.tier=3,this.pack="Puppy",this.health=4,this.attack=4,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.opponent.petArray,s=[];for(let o of i)o.equipment&&this.isUsefulPerk(o.equipment.name)&&s.push(o);if(0==s.length)return;let r=s[Math.floor(Math.random()*s.length)],a=r.equipment;this.logService.createLog({message:`${this.name} copied ${a.name} from ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>0}),this.givePetEquipment(a),this.abilityUses++,this.superBeforeAttack(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}isUsefulPerk(t){return wh.USEFUL_PERKS.has(t)}}wh.USEFUL_PERKS=new Map([["Honey",1],["Strawberry",1],["Egg",1],["Lime",2],["Meat Bone",2],["Cherry",2],["Fairy Dust",2],["Garlic",3],["Gingerbread Man",3],["Fig",3],["Cucumber",3],["Croissant",3],["Squash",3],["Banana",4],["Love Potion",4],["Pie",4],["Grapes",4],["Cheese",4],["Cod Roe",4],["Salt",4],["Fortune Cookie",4],["Easter Egg",5],["Magic Beans",5],["Chili",5],["Lemon",5],["Durian",5],["Honeydew Melon",5],["Maple Syrup",5],["Cocoa Bean",5],["White Okra",5],["Popcorn",6],["Steak",6],["Pancakes",6],["Yggdrasil Fruit",6],["Melon",6],["Tomato",6],["Sudduth Tomato",6],["Pita Bread",6],["Seaweed",5],["Caramel",4],["Baguette",4]]);class E1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baku",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}}class k1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="???",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}endTurn(t){let e=this.parent.nearestPetsAhead(1,this);if(0===e.pets.length)return;const i=e.pets[0],s=this.level;this.logService.createLog({message:`${this.name} gave ${i.name} +${s} attack and Spooked.`,type:"ability",player:this.parent,randomEvent:e.random}),i.increaseAttack(s),i.givePetEquipment(new qp)}}class C1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Axehandle Hound",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.opponent.petArray,s=new Set,r=!1;for(let l of i){if(s.has(l.name)){r=!0;break}s.add(l.name)}if(0==r)return;let o=this.parent.opponent.getAll(!1,this).pets;if(0!=o.length){for(let l of o)this.snipePet(l,2*this.level,!0,e);this.abilityUses++,this.superStartOfBattle(t,e)}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class P1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Barghest",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=this.parent.opponent.getLastPets(this.level,"perk-less",this).pets;if(0!=s.length){for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} Spooked`,type:"ability",player:this.parent,tiger:e}),r.givePetEquipment(new qp);this.superStartOfBattle(t,e)}}}class A1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tsuchinoko",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=this.parent.getThis(this).pet;if(null==s)return;this.parent.pushPetToFront(s,!0),this.logService.createLog({message:`${this.name} pushed ${s.name} to the front and gained ${this.level} experience.`,type:"ability",player:this.parent,tiger:e});let a=this.parent.getThis(this).pet;null!=a&&(a.increaseExp(this.level),this.logService.createLog({message:`${this.name} gave ${a.name} +${this.level} experience.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class D1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Murmel",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}friendGainedExperience(t,e,i){if(e.parent!=this.parent)return;let s={attack:this.level,health:0},a=this.parent.getThis(this).pet;null!=a&&(this.logService.createLog({message:`${this.name} gave ${a.name} ${s.attack} attack.`,type:"ability",player:this.parent,tiger:i}),a.increaseAttack(s.attack),this.superFriendGainedExperience(t,e,i))}}class T1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Alchemedes",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(1,this);if(0===i.pets.length)return void this.superStartOfBattle(t,e);let s=i.pets[0];this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),s.increaseMana(this.level),this.superStartOfBattle(t,e)}}class x1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pengobble",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}gainedMana(t,e){if(this.abilityUses>=this.maxAbilityUses)return;const i=2*this.level;let s=this.parent.getThis(this),r=s.pet;null!=r&&(this.logService.createLog({message:`${this.name} gave ${r.name} an extra ${i} bonus mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.mana+=i,this.abilityUses++,this.superGainedMana(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class M1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Warf",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}gainedMana(t,e){let i=this.parent.opponent.getRandomPet([],!1,!0,!1,this);null!=i.pet&&(this.snipePet(i.pet,this.level,i.random,e),this.superGainedMana(t,e))}}class R1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bunyip",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s;s=this.parent==t.player?t.playerRollAmount:t.opponentRollAmount;let a=this.parent.getThis(this).pet;if(null==a)return;let o=this.level+s;a.increaseHealth(o-a.health),this.logService.createLog({message:`${this.name} set its health to ${o}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class nb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="CrackedEgg",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}}class I1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sneaky Egg",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i={attack:4*this.level,health:2*this.level};this.health=0;let s=new nb(this.logService,this.abilityService,this.parent,i.health,i.attack,0),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} spawned a ${i.attack}/${i.health} Cracked Egg`,type:"ability",player:this.parent,tiger:e,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),this.superStartOfBattle(t,e)}}class O1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cuddle Toad",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class N1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ghost Kitten",this.tier=2,this.pack="Unicorn",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}}class L1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frost Wolf",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let r=this.parent.opponent.getFurthestUpPet(this).pet;const o=new WP;o.multiplier+=this.level-1;let l=".";2===this.level?l=" twice for double effect.":3===this.level&&(l=" thrice for triple effect."),this.logService.createLog({message:`${this.name} made ${r.name} Cold${l}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),r.givePetEquipment(o),this.superFaint(t,e)}}class B1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mothman",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}onAilmentGained(t,e){if(this.abilityUses>=this.maxAbilityUses)return;const i=this.level;this.logService.createLog({message:`${this.name} gained +${i} attack and +${i} health because ${t.name} gained an ailment.`,type:"ability",player:this.parent,tiger:e}),this.increaseAttack(i),this.increaseHealth(i),this.abilityUses++}friendGainedAilment(t,e){this.onAilmentGained(e,!1)}enemyGainedAilment(t,e,i){this.onAilmentGained(e,i),this.superEnemyGainedAilment(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=5}}class $1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Drop Bear",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0);let i=3*this.level,s=this.parent.opponent.getLastPet();null!=s.pet&&this.snipePet(s.pet,i,s.random,e)}}class V1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jackalope",this.tier=2,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}friendJumped(t,e,i){let s=this.parent.opponent.getRandomPet([],!1,!0,!1,this);null!=s.pet&&(this.snipePet(s.pet,2*this.level,s.random,i),this.superFriendJumped(t,e,i))}}class F1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lucky Cat",this.tier=3,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){if(e!=this)return;let s=2;3==this.level&&(s=4),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.increaseAttack(s),this.increaseHealth(s),this.superAnyoneLevelUp(t,e,i)}}class H1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ogopogo",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){const r=this.parent.petArray.filter(a=>a!==this).slice(0,this.level);if(0!==r.length){for(const a of r)this.logService.createLog({message:`${this.name} gave ${a.name} +1 experience.`,type:"ability",player:this.parent,tiger:e}),a.increaseExp(1);this.superStartOfBattle(t,e)}else this.superStartOfBattle(t,e)}}class q1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Thunderbird",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.furthestUpPet;if(null==i)return;let s=3*this.level;this.logService.createLog({message:`${this.name} gave ${i.name} ${s} mana.`,type:"ability",player:this.parent,tiger:e}),i.increaseMana(s),this.superStartOfBattle(t,e)}}class U1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gargoyle",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.mana*this.level;s+=2*this.level;let r=this.parent.nearestPetsBehind(1,this);if(0===r.pets.length)return void this.superFaint(t,e);let a=r.pets[0];this.logService.createLog({message:`${this.name} spent ${this.mana} mana and gave ${s} health to ${a.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.random}),a.increaseHealth(s),this.mana=0,this.superFaint(t,e)}}class G1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bigfoot",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class j1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Skeleton Dog",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getRandomPets(this.level,[this],!0,!1,this);for(let r of s.pets)null!=r&&(this.logService.createLog({message:`${this.name} gave 1 attack and 1 health to ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),r.increaseAttack(1),r.increaseHealth(1));this.superFaint(t,e)}}class W1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mandrake",this.tier=3,this.pack="Unicorn",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let a,s=this.parent.opponent.petArray.filter(o=>o.tier<=2*this.level),r=s.filter(o=>o.faintPet);r.length>0?a=r[Math.floor(Math.random()*r.length)]:(vC(s),a=s[0]),this.logService.createLog({message:`${this.name} made ${a.name} Dazed.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),a.givePetEquipment(new y_),this.superFaint(t,e)}}class z1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fur-Bearing Trout",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=[],r=this;for(;s.length<this.level;){let a=r.petBehind();if(null==a)break;a.equipment instanceof $_||s.push(a),r=a}if(0!==s.length){for(let a of s)this.logService.createLog({message:`${this.name} gave ${a.name} a Rambutan.`,type:"ability",player:this.parent,tiger:e}),a.givePetEquipment(new $_(this.logService));this.superFaint(t,e)}}}class K1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mana Hound",this.tier=3,this.pack="Unicorn",this.attack=5,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s;s=this.parent==t.player?t.playerRollAmount:t.opponentRollAmount,s=Math.min(s,5);let r=this.parent.nearestPetsAhead(1,this);if(0===r.pets.length)return;let a=r.pets[0],o=s*this.level;this.logService.createLog({message:`${this.name} gave ${a.name} ${o} mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}),a.increaseMana(o),this.superStartOfBattle(t,e)}}class Q1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Calygreyhound",this.tier=3,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){if(0==this.mana)return;let s=this.parent.opponent.getHighestHealthPets(2,void 0,this),r=this.level*this.mana;for(let a of s.pets)a.health=Math.max(1,a.health-r),this.logService.createLog({message:`${this.name} reduced ${a.name}'s health by ${r} (${a.health}).`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random});this.mana=0,this.superFaint(t,e)}}class Y1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Brain Cramp",this.tier=3,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;let i=2*this.level;this.logService.createLog({message:`${this.name} pushed itself to the front, gained ${i} attack and gained Melon.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0),this.increaseAttack(i),this.givePetEquipment(new Wr)}}class J1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Minotaur",this.tier=4,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}friendAheadAttacks(t,e,i){let s=this.level*e.level,r=this.parent.getThis(this),a=r.pet;null!=a&&(this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),a.increaseAttack(s),a.increaseHealth(s),this.superFriendAheadAttacks(t,e,i))}}class Z1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wyvern",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}}class X1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ouroboros",this.tier=3,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class ex extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Griffin",this.tier=3,this.pack="Unicorn",this.attack=5,this.health=4,this.initPet(o,s,r,a,l)}}class tx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kraken",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=7,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getAll(!0,this,!0),s=i.pets;if(0!=s.length){for(let r of s){let a=1==this.level?.15:2==this.level?.3:.45,o=Math.max(1,Math.floor(r.health*(1-a)));r.health=o,this.logService.createLog({message:`${this.name} reduced ${r.name} health by ${(100*a).toFixed(0)}% (${o})`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random})}this.superStartOfBattle(t,e)}}}class ix extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Visitor",this.tier=4,this.pack="Unicorn",this.attack=7,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){let r=this.parent.getPetsWithinXSpaces(this,this.level).pets;if(0!=r.length){for(let a of r)a.givePetEquipment(new Bp),this.logService.createLog({message:`${this.name} made ${a.name} Exposed.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}}class nx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vampire Bat",this.tier=5,this.pack="Unicorn",this.attack=2,this.health=5,this.maxAbilityUses=2,this.abilityUses=0,this.initPet(o,s,r,a,l)}enemyGainedAilment(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=4*this.level,a=this.parent.getSpecificPet(this,e).pet;if(null==a)return;let o=a.health,l=this.snipePet(a,s,!1,i),h=Math.min(l,o),d=this.parent.getSpecificPet(this,e),m=d.pet;null!=m&&(this.logService.createLog({message:`${this.name} gave ${m.name} ${h} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:d.random}),m.increaseHealth(h),this.abilityUses++,this.superEnemyGainedAilment(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class sx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tiger Bug",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0);let i=this.parent.opponent.getFurthestUpPet(this),s=i.pet,r=[],a=i.random;s&&r.push(s);let o=null;o=a?this.parent.opponent.getFurthestUpPet(this).pet:null==s?void 0:s.petBehind(),o&&r.push(o);let l=3*this.level;for(let h of r)null!=h&&this.snipePet(h,l,a,e)}}class rx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tatzelwurm",this.tier=4,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}friendAheadFaints(t,e,i){let s=2*this.level;3==e.level&&(s*=2);let r=this.parent.opponent.getFurthestUpPet(this);null!=r.pet&&(this.snipePet(r.pet,s,r.random,i),this.superFriendAheadFaints(t,e,i))}}class ax extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cyclops",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent||e==this)return;let s=2*this.level,r=this.parent.getThis(this),a=r.pet;if(null==a||(this.logService.createLog({message:`${this.name} gave ${a.name} ${s} mana.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),a.increaseMana(s),this.abilityUses>=this.maxAbilityUses))return;let o=this.parent.getThis(this);this.logService.createLog({message:`${this.name} gave ${o.pet.name} 1 exp.`,type:"ability",player:this.parent,tiger:i,randomEvent:o.random}),e.increaseExp(1),this.abilityUses++,this.superAnyoneLevelUp(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class sb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Goat",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class rb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Lion",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class ab extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Snake",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class ox extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chimera",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){if(this.mana<=0)return void super.superAfterFaint(t,e,i);const s=Math.floor(this.mana/2),o=3+1*s,l=3+2*s;this.logService.createLog({message:`${this.name} spent ${this.mana} mana.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});let h=new rb(this.logService,this.abilityService,this.parent,l,o),d=this.parent.summonPet(h,this.savedPosition,!1,this);if(d.success&&(this.logService.createLog({message:`${this.name} spawned a ${h.name} ${o}/${l}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:d.randomEvent}),this.abilityService.triggerFriendSummonedEvents(h)),1==this.level)return this.mana=0,void super.superAfterFaint(t,e,i);let m=new sb(this.logService,this.abilityService,this.parent,l,o),y=this.parent.summonPet(m,this.savedPosition,!1,this);if(y.success&&(this.logService.createLog({message:`${this.name} spawned a ${m.name} ${o}/${l}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:y.randomEvent}),this.abilityService.triggerFriendSummonedEvents(m)),2==this.level)return this.mana=0,void super.superAfterFaint(t,e,i);let S=new ab(this.logService,this.abilityService,this.parent,l,o),k=this.parent.summonPet(S,this.savedPosition,!1,this);k.success&&(this.logService.createLog({message:`${this.name} spawned a ${S.name} ${o}/${l}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:k.randomEvent}),this.abilityService.triggerFriendSummonedEvents(S)),this.mana=0,super.superAfterFaint(t,e,i)}}class lx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Roc",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.getPetsAhead(5);if(0==i.length)return;let s=this.parent.petArray.filter(r=>r==this||!i.includes(r));for(let r=0;r<3*this.level;r++){let a=this.parent.getRandomPet(s,!0,!1,!1,this);if(null==a.pet)break;this.logService.createLog({message:`${this.name} gave ${a.pet.name} 2 mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:a.random}),a.pet.increaseMana(2)}this.superStartOfBattle(t,e)}}class cx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Worm of Sand",this.tier=4,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}}class ux extends _{constructor(t,e,i,s,r,a,o,l,h,d,m,y){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Abomination",this.tier=4,this.pack="Unicorn",this.attack=6,this.health=5,this.initPet(l,r,a,o,h),this.abominationSwallowedPet1=d,this.abominationSwallowedPet2=m,this.abominationSwallowedPet3=y}startOfBattle(t,e){let i=[],s=!1,r=!1,a=!1;for(let o=0;o<this.level;o++)null==this.abominationSwallowedPet1||s?null==this.abominationSwallowedPet2||r?null!=this.abominationSwallowedPet3&&!a&&(i.push(this.abominationSwallowedPet3),a=!0):(i.push(this.abominationSwallowedPet2),r=!0):(i.push(this.abominationSwallowedPet1),s=!0);for(let o of i)this.logService.createLog({message:`${this.name} used swallowed ${o}'s Ability.`,type:"ability",player:this.parent,tiger:e}),this.petService.createPet({attack:null,health:null,mana:null,equipment:null,name:o,exp:0},this.parent).originalStartOfBattle.bind(this)(t,e)}}class hx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Red Dragon",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=8,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.opponent.getLastPets(this.level,"Crisp",this),s=i.pets;if(0!=s.length){for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} Crisp.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),r.givePetEquipment(new dc);this.superStartOfBattle(t,e)}}}class dx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Unicorn",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}friendGainedAilment(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=2*this.level;this.logService.createLog({message:`${this.name} removed ailment from ${e.name}.`,type:"ability",player:this.parent}),e.removePerk();let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&(this.logService.createLog({message:`${this.name} gave ${r.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,randomEvent:s.random}),r.increaseAttack(i),r.increaseHealth(i),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class fx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Loveland Frogman",this.tier=5,this.pack="Unicorn",this.attack=1,this.health=5,this.initPet(o,s,r,a,l)}beforeFriendAttacks(t,e,i){let s={attack:1*this.level,health:2*this.level},r=this.parent.getSpecificPet(this,e),a=r.pet;null!=a&&(this.logService.createLog({message:`${this.name} gave ${a.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,randomEvent:r.random}),a.increaseAttack(s.attack),a.increaseHealth(s.health),this.superBeforeFriendAttacks(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class px extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amalgamation",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=5,this.maxAbilityUses=2,this.abilityUses=0,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getThis(e),r=s.pet;if(null==r)return;let a=3*this.level,o=4*this.level;this.logService.createLog({message:`${this.name} gave ${r.name} +${a} attack, +${o} mana, and Spooked.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),r.increaseAttack(a),r.increaseMana(o),r.givePetEquipment(new qp),this.abilityUses++,this.superFriendSummoned(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class gx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jersey Devil",this.tier=5,this.pack="Unicorn",this.attack=5,this.health=4,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let r=this.parent===t.player?t.playerLevel3Sold:t.opponentLevel3Sold;r=Math.min(r,5);let a=this.level*r,o=this.parent.getThis(e),l=o.pet;null!=l&&(this.logService.createLog({message:`${this.name} gave ${l.name} ${a} attack and ${a} health`,type:"ability",player:this.parent,tiger:i,randomEvent:o.random}),l.increaseAttack(a),l.increaseHealth(a),this.superFriendSummoned(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class mx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pixiu",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){this.mana<4||(this.logService.createLog({message:`${this.name} spent 4 mana and gained ${3*this.level} gold for next turn.`,type:"ability",player:this.parent,tiger:e}),this.mana-=4,this.superFaint(t,e))}}class vx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kitsune",this.tier=5,this.pack="Unicorn",this.attack=2,this.health=7,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(null==this.petAhead)return;let s=this.parent.getSpecificPet(this,e);if(null==s.pet)return;let r=s.pet,a=r.mana;r.mana=0,this.logService.createLog({message:`${this.name} took ${a} mana from ${r.name}.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random});let o=this.parent.nearestPetsAhead(1,this);if(null==o.pets.length)return;let l=o.pets[0];this.logService.createLog({message:`${this.name} gave ${r.name} +${a+2*this.level} mana.`,type:"ability",player:this.parent,tiger:i,randomEvent:o.random}),l.increaseMana(a+2*this.level),this.superFriendFaints(t,e,i)}}class ob extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nessie?",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class yx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nessie",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let a=3*this.level,o=3*this.level,l="";if(!this.parent.summonedBoatThisBattle){const y=(this.parent===t.player?t.playerRollAmount:t.opponentRollAmount)*this.level;a+=y,o+=y,this.parent.summonedBoatThisBattle=!0,l=` It's the first Boat, so it gains +${y}/+${y}!`}a=Math.min(50,a),o=Math.min(50,o);let h=new ob(this.logService,this.abilityService,this.parent,o,a,0),d=this.parent.summonPet(h,this.savedPosition,!1,this);d.success&&(this.logService.createLog({message:`${this.name} spawned a Nessie? ${a}/${o}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:d.randomEvent}),this.abilityService.triggerFriendSummonedEvents(h)),super.superAfterFaint(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class _x extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bad Dog",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class bx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Werewolf",this.tier=5,this.pack="Unicorn",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(t.day){const i=6*this.level;let r=this.parent.getThis(this).pet;if(null==r)return;r.increaseMana(i),this.logService.createLog({message:`${this.name} gave ${r.name} ${i} mana.`,type:"ability",player:this.parent,tiger:e})}else{let s=this.parent.getThis(this).pet;if(null==s)return;let r=.5*this.level;const a=Math.floor(this.attack*r),o=Math.floor(this.health*r);let l=Math.min(50,this.attack+a),h=Math.min(50,this.health+o);this.logService.createLog({message:`${this.name} increased ${s.name}'s stats by ${100*r}% (${l}/${h}).`,type:"ability",player:this.parent,tiger:e}),s.increaseAttack(this.attack*r),s.increaseHealth(this.health*r)}}}class Sx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manticore",this.tier=6,this.pack="Unicorn",this.attack=7,this.health=4,this.initPet(o,s,r,a,l)}}class lb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Young Phoenix",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=6,this.attack=6,this.initPet(o,s,r,a,l)}}class wx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Phoenix",this.tier=6,this.pack="Unicorn",this.attack=8,this.health=8,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=3*this.level,a=[...this.parent.petArray,...this.parent.opponent.petArray].filter(h=>h.equipment instanceof dc),o=this.parent.getRandomPets(s,a,!0,!0,this,!0),l=o.pets;if(l.length>0)for(let h of l)this.logService.createLog({message:`${this.name} gave ${h.name} Crisp.`,type:"ability",randomEvent:o.random,tiger:e,player:this.parent}),h.givePetEquipment(new dc);this.afterFaint=(h,d,m)=>{let y=4*this.level,S=new lb(this.logService,this.abilityService,this.parent,y,y,0),k=this.parent.summonPet(S,this.savedPosition,!1,this);k.success&&(this.logService.createLog({message:`${this.name} spawned a Young Phoenix (${y}/${y}).`,type:"ability",player:this.parent,tiger:d,pteranodon:m,randomEvent:k.randomEvent}),this.abilityService.triggerFriendSummonedEvents(S)),this.superAfterFaint(h,d,m)},super.superFaint(t,e)}}class Ex extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Quetzalcoatl",this.tier=6,this.pack="Unicorn",this.attack=2,this.health=8,this.initPet(o,s,r,a,l)}}class kx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Team Spirit",this.tier=6,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent||e==this)return;let s=this.parent.getRandomPets(5,[this],!1,!1,this),r=s.pets,a={attack:this.level,health:this.level};for(let o of r)this.logService.createLog({message:`${this.name} gave ${o.name} ${a.attack} attack and ${a.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),o.increaseAttack(a.attack),o.increaseHealth(a.health)}}class Cx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sleipnir",this.tier=6,this.pack="Unicorn",this.attack=8,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.floor(this.attack/2),s=this.parent.getFurthestUpPets(this.level,null,this),r=s.pets;if(0!=r.length){for(let a of r)null!=a&&(this.logService.createLog({message:`${this.name} gave ${a.name} ${i} mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),a.increaseMana(i));this.superStartOfBattle(t,e)}}}class Px extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Serpent",this.tier=6,this.pack="Unicorn",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}faint(t,e,i){if(0==this.mana)return;let s=this.mana;this.logService.createLog({message:`${this.name} spent ${this.mana} mana.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.mana=0;let a=this.parent.opponent.getHighestHealthPet(void 0,this);null!=a.pet&&this.snipePet(a.pet,s,a.random,e,i);let o=this.parent.opponent.getRandomPets(this.level,[a.pet],null,!0,this);for(let l of o.pets)null!=l&&this.snipePet(l,s,o.random,e,i);this.superFaint(t,e)}}class Ax extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Yeti",this.tier=6,this.pack="Unicorn",this.attack=5,this.health=9,this.initPet(o,s,r,a,l)}}class cb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fire Pup",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=8,this.attack=8,this.initPet(o,s,r,a,l)}}class Dx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cerberus",this.tier=6,this.pack="Unicorn",this.attack=9,this.health=9,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0||this.abilityUses>=this.maxAbilityUses)return;let s=new cb(this.logService,this.abilityService,this.parent,null,null,5),r=this.parent.summonPet(s,0,!1,this);r.success&&(this.logService.createLog({message:`${this.name} spawned Fire Pup (8/8).`,type:"ability",player:this.parent,tiger:e,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),this.abilityUses++,super.superFaint(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class ub extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Head",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=5,this.attack=5,this.initPet(o,s,r,a,l)}}class Tx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hydra",this.tier=6,this.pack="Unicorn",this.attack=10,this.health=6,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=Math.floor(this.attack/10);for(let r=0;r<s;r++){let a=5*this.level,o=new ub(this.logService,this.abilityService,this.parent,a,a),l=this.parent.summonPet(o,this.savedPosition,!1,this);l.success&&(this.logService.createLog({message:`${this.name} spawned Head (${o.attack}/${o.health}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:l.randomEvent}),this.abilityService.triggerFriendSummonedEvents(o))}super.superAfterFaint(t,e,i)}}class xx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Behemoth",this.tier=6,this.pack="Unicorn",this.attack=12,this.health=12,this.initPet(o,s,r,a,l)}}class Mx extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Iriomote Cat",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(l,r,a,o,h)}beforeStartOfBattle(t,e){let s=this.parent.getThis(this).pet;if(!s||!s.alive)return;let r=this.petService.allPets.get(this.level),o=r[Yn(0,r.length-1)],l=this.petService.createPet({name:o,attack:s.attack,health:s.health,exp:s.exp,equipment:s.equipment,mana:s.mana},this.parent);this.logService.createLog({message:`${this.name} transformed ${s.name} into a ${o}.`,type:"ability",player:this.parent,randomEvent:!0}),this.parent.transformPet(s,l)}}class Rx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ili Pika",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}friendTransformed(t,e,i){let s=this.parent.getSpecificPet(this,e),r=s.pet;if(!r)return;let a=1*this.level;r.attack>r.health?(r.increaseAttack(a),this.logService.createLog({message:`${this.name} give ${a} attack to ${r.name}.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})):(r.increaseHealth(a),this.logService.createLog({message:`${this.name} give ${a} health to ${r.name}.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})),this.superFriendTransformed(t,e,i)}}class Ix extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Malay Tapir",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}adjacentAttacked(t,e,i){let s=this.parent.getThis(this),r=s.pet;if(!r)return;let a=1*this.level;r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} health`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.superAdjacentAttacked(t,e,i)}}class Ox extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bombus Dahlbomii",this.tier=1,this.pack="Danger",this.attack=1,this.health=2,this.attackCounter=0,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){if(!(this.abilityUses>=this.maxAbilityUses)){if(i||this.attackCounter++,this.attackCounter%2!=0)return void this.superEnemyAttack(t,e,i);this.abilityService.setCounterEvent({callback:()=>{let s=this.parent.opponent.getFurthestUpPet(this),r=s.pet;r&&this.snipePet(r,1*this.level,s.random,i)},priority:this.attack,pet:this}),this.abilityUses++,this.superEnemyAttack(t,e,i)}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class hb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ethiopian Wolf",this.tier=1,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getFurthestUpPets(this.level,void 0,this);for(const r of s.pets)(null==r?void 0:r.alive)&&(r.increaseAttack(-1),this.logService.createLog({message:`${this.name} removed 1 attack from ${r.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}));this.superFaint(t,e)}}class Nx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fan Mussel",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class Lx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Togian Babirusa",this.tier=1,this.pack="Danger",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getRandomPet([],!1,!1,!1,this);s.pet&&(s.pet.increaseAttack(1),s.pet.increaseHealth(1),this.logService.createLog({message:`${this.name} gave ${s.pet.name} +1 attack and +1 health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random})),this.superFaint(t,e)}}class Bx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tooth Billed Pigeon",this.tier=1,this.pack="Danger",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}}class $x extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Volcano Snail",this.tier=1,this.pack="Danger",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e){let i=[...this.parent.opponent.petArray].filter(r=>null!=r.equipment),s=this.parent.opponent.getRandomPets(3,i,null,null,this);if(0!==s.pets.length){for(let r of s.pets){let a=new _C;r.givePetEquipment(a),this.logService.createLog({message:`${this.name} made ${r.name} Toasty`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random})}this.superFaint(t,e)}}}class Vx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="African Wild Dog",this.tier=1,this.pack="Danger",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){var i;let r,s=this.parent.opponent.getFurthestUpPet(this);if(null!=s.pet){if(r=s.random?s.pet:null===(i=s.pet)||void 0===i?void 0:i.petBehind(),r){let a=3*this.level;this.jumpAttackPrep(r),this.jumpAttack(r,e,a,s.random)}this.superStartOfBattle(t,e)}}}class Fx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Araripe Manakin",this.tier=2,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}friendJumped(t,e,i){this.gainHealthFromEvent(t,e,i),this.superFriendJumped(t,e,i)}friendTransformed(t,e,i){this.gainHealthFromEvent(t,e,i),this.superFriendTransformed(t,e,i)}gainHealthFromEvent(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getThis(this),r=s.pet;if(!r)return;let a=2*this.level;r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} health`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.abilityUses++}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class Hx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="European Mink",this.tier=2,this.pack="Danger",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}adjacentAttacked(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.level,r=this.parent.nearestPetsAhead(1,this);if(r.pets.length>0){let o=r.pets[0];o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random})}let a=this.parent.nearestPetsBehind(1,this);if(a.pets.length>0){let o=a.pets[0];o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random})}this.abilityUses++}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class qx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Proboscis Monkey",this.tier=2,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}}class Ux extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pygmy Hog",this.tier=2,this.pack="Danger",this.attack=1,this.health=2,this.attackCounter=0,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){i||this.attackCounter++,this.attackCounter%5==0?(this.abilityService.setCounterEvent({callback:()=>{let s=this.parent.getThis(this),r=s.pet;if(!r)return;let a=5*this.level,o=new T_(this.logService,this.abilityService,this.parent,a,a,r.mana,r.exp,new fc);this.logService.createLog({message:`${this.name} transformed ${r.name} into ${o.name} (${a}/${a}) with Garlic!`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.parent.transformPet(r,o)},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i)):this.superEnemyAttack(t,e,i)}}class Gx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saola",this.tier=2,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class jx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saker Falcon",this.tier=2,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(!(this.abilityUses>=this.maxAbilityUses)){if(this.parent.petArray.length<this.parent.opponent.petArray.length){let r=this.parent.getThis(this),a=r.pet;if(!a)return void this.superBeforeAttack(t,e);let o=2*this.level;a.increaseAttack(o),a.increaseHealth(o),this.logService.createLog({message:`${this.name} gave ${a.name} ${o} attack and ${o} health (outnumbered)`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}),this.abilityUses++}this.superBeforeAttack(t,e)}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class Wx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Taita Shrew",this.tier=2,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getThis(this),s=i.pet;if(!s)return;let r=new eb(this.logService,this.abilityService,this.parent,s.health,s.attack,s.mana,s.exp,s.equipment);this.logService.createLog({message:`${this.name} transformed ${s.name} into ${r.name} (level ${this.level}).`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.parent.transformPet(s,r),this.superStartOfBattle(t,e)}}class zx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="White-Bellied Heron",this.tier=2,this.pack="Danger",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(this.level,this);if(0!==i.pets.length){for(let s of i.pets){let r=new I_;s.givePetEquipment(r),this.logService.createLog({message:`${this.name} gave ${s.name} a Meat Bone.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random})}this.superStartOfBattle(t,e)}}}class Kx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Darwin's Fox",this.tier=2,this.pack="Danger",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(e&&this.alive&&!(this.abilityUses>=this.maxAbilityUses)){if(e.killedBy&&e.killedBy.alive){let s=this.parent.getSpecificPet(this,e.killedBy),r=s.pet;if(!r)return;this.jumpAttackPrep(r),this.jumpAttack(r,i,void 0,s.random)}else{let s=this.parent.opponent.getFurthestUpPet(this),r=s.pet;if(!r)return;this.jumpAttackPrep(r),this.jumpAttack(r,i,void 0,s.random)}this.abilityUses++,this.superFriendFaints(t,e,i)}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Qx extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Takhi",this.tier=2,this.pack="Danger",this.attack=2,this.health=2,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let a=this.petService.createPet({name:"African Wild Dog",attack:3*this.level,health:2*this.level,exp:0,mana:0,equipment:null},this.parent);if(a){let o=this.parent.summonPet(a,this.savedPosition,!1,this);o.success&&(this.logService.createLog({message:`${this.name} summoned a ${a.attack}/${a.health} ${a.name}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a),a.startOfBattle(t,e))}this.superAfterFaint(t,e)}}class Yx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue-Throated Macaw",this.tier=3,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}friendTransformed(t,e,i){let s=this.parent.getSpecificPet(this,e),r=s.pet;if(!r)return void this.superFriendTransformed(t,e,i);let a=2*this.level,o=1*this.level;r.increaseAttack(a),r.increaseHealth(o),this.logService.createLog({message:`${this.name} gave ${r.name} +${a} attack and +${o} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.superFriendTransformed(t,e,i)}}class Jx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hirola",this.tier=3,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<2;s++){let r=1*this.level,a=2*this.level,o=new hb(this.logService,this.abilityService,this.parent,a,r,this.mana,this.exp),l=this.parent.summonPet(o,this.savedPosition,!1,this);l.success&&(this.logService.createLog({message:`${this.name} summoned a ${r}/${a} ${o.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:l.randomEvent}),this.abilityService.triggerFriendSummonedEvents(o))}this.superAfterFaint(t,e,i)}}class Zx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monkey-Faced Bat",this.tier=3,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){if(this.abilityUses>=this.maxAbilityUses||!e||e.position<=this.position)return;let s=this.parent.getRandomPets(2,[this],!0,!1,this);for(let r of s.pets)if(null!=r){let a=this.level;r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} attack and ${a} health`,type:"ability",player:this.parent,randomEvent:s.random,tiger:i})}this.abilityUses++,this.superFriendHurt(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class Xx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pygmy Hippo",this.tier=3,this.pack="Danger",this.attack=2,this.health=7,this.attackCounter=0,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){i||this.attackCounter++,this.attackCounter%5==0?(this.abilityService.setCounterEvent({callback:()=>{let s=Math.floor(.33*this.health),r=this.parent.opponent.getLowestHealthPets(this.level,void 0,this);for(let a of r.pets)this.snipePet(a,s,r.random,i)},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i)):this.superEnemyAttack(t,e,i)}}class eM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Takin",this.tier=3,this.pack="Danger",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){if(!this.alive)return void this.superFriendHurt(t,e,i);if(!e||e!=this.petAhead)return;let s=this.level,r=2*this.level,a=this.parent.getThis(this),o=a.pet;o.increaseAttack(s),o.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random}),this.superFriendHurt(t,e,i)}}class tM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tucuxi",this.tier=3,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getLastPet([this],this),r=s.pet;if(!r)return;this.parent.pushPetToFront(r,!1),this.logService.createLog({message:`${this.name} pushed ${r.name} to the front`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random});let a=this.parent.getLastPet([this],this),o=a.pet;if(!o)return;let l=3*this.level;o.increaseAttack(l),o.increaseHealth(l),this.logService.createLog({message:`${this.name} gave ${o.name} +${l} attack and +${l} health`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a.random}),this.superFaint(t,e)}}class iM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Roloway Monkey",this.tier=3,this.pack="Danger",this.attack=2,this.health=5,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(2,this);if(0===i.pets.length)return;const s=["Camel","Peacock","Porcupine","Lizard","Guineafowl"];for(let r of i.pets){let a=Math.floor(Math.random()*s.length),l=this.petService.createPet({name:s[a],health:r.health,attack:r.attack,mana:r.mana,exp:this.exp,equipment:r.equipment},this.parent);this.parent.transformPet(r,l),this.logService.createLog({message:`${this.name} transformed ${r.name} into a ${l.attack}/${l.health} ${l.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0})}this.superStartOfBattle(t,e)}}class nM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Spoon-Billed Sandpiper",this.tier=3,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class sM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amami Rabbit",this.tier=3,this.pack="Danger",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=1*this.level,s=this.parent.opponent.getHighestAttackPet(void 0,this);if(s.pet&&s.pet.alive)if(this.jumpAttackPrep(s.pet),this.transformed&&this.transformedInto){let r=this.parent.getThis(this.transformedInto);r.pet&&(this.transformedInto.increaseAttack(i),this.logService.createLog({message:`${this.name} gave ${this.transformedInto.name} ${i} attack`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}))}else{let r=this.parent.getThis(this);r.pet&&(r.pet.increaseAttack(i),this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${i} attack`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}))}this.jumpAttack(s.pet,e,void 0,s.random),this.superStartOfBattle(t,e)}}class dK extends ne{constructor(){super(...arguments),this.name="Silly",this.equipmentClass="ailment-other"}}class rM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tree Kangaroo",this.tier=3,this.pack="Danger",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Ft(t,this.parent).getLastPet(void 0,this),s=i.pet;s&&(s.givePetEquipment(new dK),this.logService.createLog({message:`${this.name} gave ${s.name} Silly`,type:"ability",tiger:e,player:this.parent,randomEvent:i.random})),super.superStartOfBattle(t,e)}}class aM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Angelshark",this.tier=4,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}}class oM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Bonobo",this.tier=4,this.pack="Danger",this.attack=3,this.health=3,this.initPet(l,r,a,o,h)}}class lM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Tortoise",this.tier=4,this.pack="Danger",this.attack=4,this.health=8,this.initPet(o,s,r,a,l)}}class cM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Humphead Wrasse",this.tier=4,this.pack="Danger",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=.3*this.level,s=this.parent.opponent.getHighestAttackPet(void 0,this);if(!s.pet)return;let r=s.pet,a=Math.floor(r.attack*i),o=Math.max(1,r.attack-a);r.attack=o,this.logService.createLog({message:`${this.name} reduced ${r.name}'s attack by ${100*i}% to (${r.attack})`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.superStartOfBattle(t,e)}}class uM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Golden Tamarin",this.tier=4,this.pack="Danger",this.attack=4,this.health=4,this.initPet(l,r,a,o,h)}beforeStartOfBattle(t,e){let s=this.parent.getThis(this).pet;if(!s)return;const r=["Crocodile","Red Dragon","Salmon of Knowledge","Sea Cucumber","Werewolf","Tarantula Hawk","Snow Leopard"];let a=Math.floor(Math.random()*r.length),l=this.petService.createPet({name:r[a],health:s.health,attack:s.attack,mana:s.mana,exp:s.exp,equipment:s.equipment},this.parent);this.parent.transformPet(s,l),this.logService.createLog({message:`${this.name} transformed ${s.name} into a ${l.attack}/${l.health} ${l.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),this.superBeforeStartOfBattle(t,e)}}class hM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kakapo",this.tier=4,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}friendTransformed(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;r&&(this.logService.createLog({message:`${this.name} gave ${r.name} +3 experience.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),r.increaseExp(3),this.abilityUses++,this.superFriendTransformed(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class dM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Longcomb Sawfish",this.tier=4,this.pack="Danger",this.attack=3,this.health=3,this.attackCounter=0,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){i||this.attackCounter++,this.attackCounter%5==0?(this.abilityService.setCounterEvent({callback:()=>{let s=4*this.level,r=-4*this.level,a=this.parent.getThis(this),o=a.pet;o&&(o.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} health`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random}));let h=this.parent.opponent.getAll(!1,this).pets;for(let d of h)d.increaseHealth(r),this.logService.createLog({message:`${this.name} reduced ${d.name} health by ${Math.abs(r)}`,type:"ability",player:this.parent,tiger:i})},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i)):this.superEnemyAttack(t,e,i)}}class fM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amazon River Dolphin",this.tier=4,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}adjacentAttacked(t,e,i){let s=this.parent.getSpecificPet(this,e.currentTarget),r=s.pet;if(r&&r.alive)this.snipePet(r,3*this.level,s.random,i);else{let a=this.parent.getThis(this),o=a.pet;if(!o)return;let l=3*this.level;o.increaseAttack(l),this.logService.createLog({message:`${this.name} gave ${o.name} ${l} attack`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random})}}}class pM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tasmanian Devil",this.tier=4,this.pack="Danger",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=.5*this.level,s=this.parent.opponent.getLowestAttackPet(void 0,this);if(s.pet&&s.pet.alive){let r=Math.floor(this.attack*i);this.jumpAttackPrep(s.pet),this.transformed&&this.transformedInto&&(r=Math.floor(this.transformedInto.attack*i)),this.jumpAttack(s.pet,e,r,s.random)}this.superStartOfBattle(t,e)}}class gM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Otter",this.tier=4,this.pack="Danger",this.attack=4,this.health=3,this.buffedFriends=new Map,this.initPet(o,s,r,a,l)}beforeStartOfBattle(t,e){let i=3*this.level,s=this.parent.getAll(!1,this,!0),r=s.pets;for(let a of r){a.increaseAttack(i),a.increaseHealth(i);let o=this.buffedFriends.get(a);this.buffedFriends.set(a,o?{attack:o.attack+i,health:o.health+i}:{attack:i,health:i}),this.logService.createLog({message:`${this.name} gave ${a.name} +${i} attack and +${i} health`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random})}this.superBeforeStartOfBattle(t,e)}removeConditionalBuffs(){for(let[t,e]of this.buffedFriends)t&&t.alive&&(t.increaseAttack(-e.attack),t.increaseHealth(-e.health),this.logService.createLog({message:`${t.name} lost ${e.attack} attack and ${e.health} health (Giant Otter removed)`,type:"ability",player:this.parent}))}friendTransformed(t,e,i){e===this&&(null==t?void 0:t.isInStartOfBattleFlag)&&this.removeConditionalBuffs(),this.superFriendTransformed(t,e,i)}afterFaint(t,e,i){(null==t?void 0:t.isInStartOfBattleFlag)&&this.removeConditionalBuffs(),this.superAfterFaint(t,e,i)}resetPet(){super.resetPet(),this.buffedFriends.clear()}}class mM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Aye-aye",this.tier=5,this.pack="Danger",this.attack=3,this.health=5,this.attackCounter=0,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){i||this.attackCounter++,this.attackCounter%8==0?(this.abilityService.setCounterEvent({callback:()=>{for(let a=0;a<2;a++){let o=3,l=3,h=new z_(this.logService,this.abilityService,this.parent,l,o,0,0),d=this.parent.summonPet(h,this.savedPosition,!1,this);d.success&&(this.logService.createLog({message:`${this.name} summoned a ${o}/${l} ${h.name}.`,type:"ability",player:this.parent,tiger:i,randomEvent:d.randomEvent}),this.abilityService.triggerFriendSummonedEvents(h))}let s=3*this.level,r=this.parent.getAll(!1,this,!0);for(let a of r.pets)a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} +${s} attack and +${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random})},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i)):this.superEnemyAttack(t,e,i)}}class vM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Banggai Cardinalfish",this.tier=5,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=6*this.level,r=this.parent.getAll(!0,this);for(let a of r.pets){let o=Math.max(a.attack-i,5);a.attack=o,this.logService.createLog({message:`${this.name} reduced ${a.name} attack by ${i} to (${o}).`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random})}this.superStartOfBattle(t,e)}}class yM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Geometric Tortoise",this.tier=5,this.pack="Danger",this.attack=3,this.health=10,this.damageTakenList=[],this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=this.damageTakenList.shift();if(null==s)return;let r=.33*this.level;3==this.level&&(r=1);let a=Math.floor(s*r);if(a>0){let o=this.parent.opponent.getRandomPet([],!1,!0,!1,this);o.pet&&this.snipePet(o.pet,a,o.random,i)}this.superHurt(t,e,i)}dealDamage(t,e){this.damageTakenList.push(e),super.dealDamage(t,e)}}class _M extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Pangasius",this.tier=5,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){if(!t)return;let s;s=this.parent===t.player?t.playerTransformationAmount:t.opponentTransformationAmount;let r=4*this.level;if(s>0)for(let a=0;a<s;a++){let o=this.parent.opponent.getRandomPet([],!1,!0,!1,this);o.pet&&this.snipePet(o.pet,r,o.random,e)}this.superFaint(t,e)}}class bM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hawaiian Monk Seal",this.tier=5,this.pack="Danger",this.attack=3,this.health=4,this.friendBuffedThisTurn=new Set,this.initPet(o,s,r,a,l)}friendAttacks(t,e,i){let s=this.parent.getSpecificPet(this,e),r=s.pet;if(r&&!this.friendBuffedThisTurn.has(r)){if(this.friendBuffedThisTurn.size<3&&r.alive){let a=2*this.level;r.increaseHealth(a),this.friendBuffedThisTurn.add(r),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} health`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})}this.superFriendAttacks(t,e,i)}}setAbilityUses(){super.setAbilityUses()}resetPet(){super.resetPet(),this.friendBuffedThisTurn.clear()}}class SM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Marine Iguana",this.tier=5,this.pack="Danger",this.attack=4,this.health=5,this.targetsThisTurn=[],this.initPet(o,s,r,a,l)}beforeFriendAttacks(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;!r||this.targetsThisTurn.includes(r)||(r.givePetEquipment(new Wr),this.targetsThisTurn.push(r),this.logService.createLog({message:`${this.name} gave ${r.name} Melon`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.abilityUses++,this.superBeforeFriendAttacks(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}resetPet(){super.resetPet(),this.targetsThisTurn=[]}}class wM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Red Panda",this.tier=5,this.pack="Danger",this.health=4,this.attack=4,this.initPet(o,s,r,a,l)}}class EM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Taita Thrush",this.tier=5,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}adjacentAttacked(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.level,r=this.parent.getAll(!1,this,!0);for(let a of r.pets)a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} +${s} attack and +${s} health`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random});this.abilityUses++,this.superAdjacentAttacked(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class kM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Painted Terrapin",this.tier=5,this.pack="Danger",this.health=6,this.attack=4,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.nearestPetsBehind(this.level,this,"White Okra"),r=s.pets;for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} White Okra perk`,type:"ability",tiger:e,player:this.parent,pteranodon:i,randomEvent:s.random}),a.givePetEquipment(new EC);this.superFaint(t,e)}}class CM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snow Leopard",this.tier=5,this.pack="Danger",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=5*this.level,s=this.parent.opponent.getRandomPet([],!1,!0,!1,this);if(s.pet&&s.pet.alive){if(this.jumpAttackPrep(s.pet),this.transformed&&this.transformedInto){let r=this.parent.getThis(this.transformedInto);r.pet&&(this.transformedInto.increaseAttack(i),this.transformedInto.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${this.transformedInto.name} ${i} attack and ${i} health`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}))}else{let r=this.parent.getThis(this);r.pet&&(r.pet.increaseAttack(i),r.pet.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${i} attack and ${i} health`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}))}this.jumpAttack(s.pet,e,null,s.random)}this.superStartOfBattle(t,e)}}class PM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amsterdam Albatross",this.tier=6,this.pack="Danger",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}friendTransformed(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=1*this.level,r=2*this.level,o=this.parent.getSpecificPet(this,e).pet;null!=o&&(o.increaseAttack(s),o.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${o.name} +${s} attack and +${r} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendTransformed(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class AM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Bay Cat",this.tier=6,this.pack="Danger",this.attack=7,this.health=5,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let s=["Skunk","Fossa","Kraken","Lynx","Humphead Wrasse","Goblin Shark","Red Lipped Batfish","Platybelodon","Tasmanian Devil"];for(let r=0;r<this.level;r++){let a=s[Math.floor(Math.random()*s.length)],o=this.petService.createPet({name:a,attack:null,health:null,equipment:null,mana:0,exp:0},this.parent);this.parent.summonPet(o,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} summoned ${o.name}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),o.startOfBattle&&(this.logService.createLog({message:`${o.name} activated its start of battle ability`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),o.startOfBattle(t,e)),this.abilityService.triggerFriendSummonedEvents(o))}this.superAfterFaint(t,e)}}class DM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Black Rhino",this.tier=6,this.pack="Danger",this.attack=5,this.health=9,this.attackCounter=0,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){i||this.attackCounter++,this.attackCounter%8==0?(this.abilityService.setCounterEvent({callback:()=>{let r=this.parent.opponent.getRandomPets(this.level,[],!1,!0,this),a=r.pets;for(let o of a)this.snipePet(o,30,r.random,i)},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i)):this.superEnemyAttack(t,e,i)}}class TM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue Whale",this.tier=6,this.pack="Danger",this.health=12,this.attack=12,this.initPet(o,s,r,a,l)}}class Eh extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="California Condor",this.tier=6,this.pack="Danger",this.attack=10,this.health=3,this.initPet(l,r,a,o,h)}friendTransformed(t,e,i){if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;let s=e;this.copyPet=s,s instanceof Eh&&(s=s.copyPet,this.logService.createLog({message:`California Condor copied ${e.name}`,type:"ability",player:this.parent,tiger:i})),null!=s&&(s.originalStartOfBattle&&(this.startOfBattle=s.originalStartOfBattle.bind(this)),s.originalHurt&&(this.hurt=s.originalHurt.bind(this)),s.originalFaint&&(this.faint=s.originalFaint.bind(this)),s.originalFriendSummoned&&(this.friendSummoned=s.originalFriendSummoned.bind(this)),s.originalFriendAheadAttacks&&(this.friendAheadAttacks=s.originalFriendAheadAttacks.bind(this)),s.originalFriendAheadFaints&&(this.friendAheadFaints=s.originalFriendAheadFaints.bind(this)),s.originalFriendFaints&&(this.friendFaints=s.originalFriendFaints.bind(this)),s.originalEnemyAttack&&(this.enemyAttack=s.originalEnemyAttack.bind(this)),s.originalAfterAttack&&(this.afterAttack=s.originalAfterAttack.bind(this)),s.originalBeforeAttack&&(this.beforeAttack=s.originalBeforeAttack.bind(this)),s.originalBeforeStartOfBattle&&(this.beforeStartOfBattle=s.originalBeforeStartOfBattle.bind(this)),s.originalKnockOut&&(this.knockOut=s.originalKnockOut.bind(this)),s.originalSummoned&&(this.summoned=s.originalSummoned.bind(this)),s.originalFriendlyToyBroke&&(this.friendlyToyBroke=s.originalFriendlyToyBroke.bind(this)),s.originalFriendGainedAilment&&(this.friendGainedAilment=s.originalFriendGainedAilment.bind(this)),s.originalFriendHurt&&(this.friendHurt=s.originalFriendHurt.bind(this)),s.originalFriendTransformed&&(this.friendTransformed=s.originalFriendTransformed.bind(this)),s.originalEatsFood&&(this.eatsFood=s.originalEatsFood.bind(this)),s.originalFriendAteFood&&(this.friendAteFood=s.originalFriendAteFood.bind(this)),s.originalFriendLostPerk&&(this.friendLostPerk=s.originalFriendLostPerk.bind(this)),s.originalGainedPerk&&(this.gainedPerk=s.originalGainedPerk.bind(this)),s.originalFriendGainedPerk&&(this.friendGainedPerk=s.originalFriendGainedPerk.bind(this)),s.originalAnyoneLevelUp&&(this.anyoneLevelUp=s.originalAnyoneLevelUp.bind(this)),s.originalEnemySummoned&&(this.enemySummoned=s.originalEnemySummoned.bind(this)),s.originalEnemyPushed&&(this.enemyPushed=s.originalEnemyPushed.bind(this)),s.originalGainedMana&&(this.gainedMana=s.originalGainedMana.bind(this)),s.originalFriendJumped&&(this.friendJumped=s.originalFriendJumped.bind(this)),s.originalEnemyGainedAilment&&(this.enemyGainedAilment=s.originalEnemyGainedAilment.bind(this)),s.originalFriendGainsHealth&&(this.friendGainsHealth=s.originalFriendGainsHealth.bind(this)),s.originalEmptyFrontSpace&&(this.emptyFrontSpace=s.originalEmptyFrontSpace.bind(this)),s.originalEnemyHurt&&(this.enemyHurt=s.originalEnemyHurt.bind(this)),s.originalAfterFaint&&(this.afterFaint=s.originalAfterFaint.bind(this)),s.originalTransform&&(this.transform=s.originalTransform.bind(this)),s.originalAdjacentAttacked&&(this.adjacentAttacked=s.originalAdjacentAttacked.bind(this)),s.originalFriendAttacks&&(this.friendAttacks=s.originalFriendAttacks.bind(this)),s.originalBeforeFriendAttacks&&(this.beforeFriendAttacks=s.originalBeforeFriendAttacks.bind(this)),s.originalEnemyJumped&&(this.enemyJumped=s.originalEnemyJumped.bind(this)),s.originalFriendGainedExperience&&(this.friendGainedExperience=s.originalFriendGainedExperience.bind(this)),this.originalStartOfBattle=this.startOfBattle,this.originalTransform=this.transform,this.originalHurt=this.hurt,this.originalFaint=this.faint,this.originalFriendSummoned=this.friendSummoned,this.originalFriendAheadAttacks=this.friendAheadAttacks,this.originalFriendAheadFaints=this.friendAheadFaints,this.originalFriendFaints=this.friendFaints,this.originalEnemyAttack=this.enemyAttack,this.originalAfterAttack=this.afterAttack,this.originalBeforeAttack=this.beforeAttack,this.originalBeforeStartOfBattle=this.beforeStartOfBattle,this.originalKnockOut=this.knockOut,this.originalSummoned=this.summoned,this.originalFriendlyToyBroke=this.friendlyToyBroke,this.originalFriendGainedAilment=this.friendGainedAilment,this.originalFriendHurt=this.friendHurt,this.originalFriendTransformed=this.friendTransformed,this.originalEatsFood=this.eatsFood,this.originalFriendAteFood=this.friendAteFood,this.originalFriendLostPerk=this.friendLostPerk,this.originalGainedPerk=this.gainedPerk,this.originalFriendGainedPerk=this.friendGainedPerk,this.originalAnyoneLevelUp=this.anyoneLevelUp,this.originalEnemySummoned=this.enemySummoned,this.originalEnemyPushed=this.enemyPushed,this.originalGainedMana=this.gainedMana,this.originalFriendJumped=this.friendJumped,this.originalEnemyGainedAilment=this.enemyGainedAilment,this.originalFriendGainsHealth=this.friendGainsHealth,this.originalEmptyFrontSpace=this.emptyFrontSpace,this.originalEnemyHurt=this.enemyHurt,this.originalAfterFaint=this.afterFaint,this.originalAdjacentAttacked=this.adjacentAttacked,this.originalFriendAttacks=this.friendAttacks,this.originalBeforeFriendAttacks=this.beforeFriendAttacks,this.originalEnemyJumped=this.enemyJumped,this.originalFriendGainedExperience=this.friendGainedExperience,s instanceof Eh||this.logService.createLog({message:`California Condor copied ${s.name}'s level ${this.level} ability`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendTransformed(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}resetPet(){this.startOfBattle=void 0,this.hurt=void 0,this.faint=void 0,this.friendSummoned=void 0,this.friendAheadAttacks=void 0,this.friendAheadFaints=void 0,this.friendFaints=void 0,this.enemyAttack=void 0,this.afterAttack=void 0,this.beforeAttack=void 0,this.beforeStartOfBattle=void 0,this.knockOut=void 0,this.summoned=void 0,this.friendlyToyBroke=void 0,this.friendGainedAilment=void 0,this.friendHurt=void 0,this.eatsFood=void 0,this.friendAteFood=void 0,this.friendLostPerk=void 0,this.gainedPerk=void 0,this.friendGainedPerk=void 0,this.anyoneLevelUp=void 0,this.enemySummoned=void 0,this.enemyPushed=void 0,this.gainedMana=void 0,this.friendJumped=void 0,this.enemyGainedAilment=void 0,this.friendGainsHealth=void 0,this.emptyFrontSpace=void 0,this.enemyHurt=void 0,this.afterFaint=void 0,this.transform=void 0,this.adjacentAttacked=void 0,this.friendAttacks=void 0,this.beforeFriendAttacks=void 0,this.enemyJumped=void 0,this.friendGainedExperience=void 0,this.originalStartOfBattle=void 0,this.originalHurt=void 0,this.originalFaint=void 0,this.originalFriendSummoned=void 0,this.originalFriendAheadAttacks=void 0,this.originalFriendAheadFaints=void 0,this.originalFriendFaints=void 0,this.originalEnemyAttack=void 0,this.originalAfterAttack=void 0,this.originalBeforeAttack=void 0,this.originalBeforeStartOfBattle=void 0,this.originalKnockOut=void 0,this.originalSummoned=void 0,this.originalFriendlyToyBroke=void 0,this.originalFriendGainedAilment=void 0,this.originalFriendHurt=void 0,this.originalFriendTransformed=void 0,this.originalEatsFood=void 0,this.originalFriendAteFood=void 0,this.originalFriendLostPerk=void 0,this.originalGainedPerk=void 0,this.originalFriendGainedPerk=void 0,this.originalAnyoneLevelUp=void 0,this.originalEnemySummoned=void 0,this.originalEnemyPushed=void 0,this.originalGainedMana=void 0,this.originalFriendJumped=void 0,this.originalEnemyGainedAilment=void 0,this.originalFriendGainsHealth=void 0,this.originalEmptyFrontSpace=void 0,this.originalEnemyHurt=void 0,this.originalAfterFaint=void 0,this.originalTransform=void 0,this.originalAdjacentAttacked=void 0,this.originalFriendAttacks=void 0,this.originalBeforeFriendAttacks=void 0,this.originalEnemyJumped=void 0,this.originalFriendGainedExperience=void 0,this.copyPet=null,super.resetPet()}}class xM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Green Sea Turtle",this.tier=6,this.pack="Danger",this.attack=5,this.health=6,this.attackCounter=0,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){if(!(this.abilityUses>=this.maxAbilityUses)){if(i||this.attackCounter++,this.attackCounter%5!=0)return void this.superEnemyAttack(t,e,i);this.abilityService.setCounterEvent({callback:()=>{let r=this.parent.getAll(!1,this).pets;for(let a of r)a.givePetEquipment(new Wr,this.level),this.logService.createLog({message:`${this.name} gave ${a.name} Melon.`,type:"ability",player:this.parent,tiger:i})},priority:this.attack,pet:this}),this.abilityUses++,this.superEnemyAttack(t,e,i)}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class MM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Helmeted Hornbill",this.tier=6,this.pack="Danger",this.health=4,this.attack=5,this.initPet(o,s,r,a,l)}}class RM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Philippine Eagle",this.tier=6,this.pack="Danger",this.attack=6,this.health=5,this.initPet(o,s,r,a,l)}friendJumped(t,e,i){this.anyoneJumpedAbility(t,e,i),this.superFriendJumped(t,e,i)}enemyJumped(t,e,i){this.anyoneJumpedAbility(t,e,i),this.superEnemyJumped(t,e,i)}anyoneJumpedAbility(t,e,i){let s=this.parent.getRandomPet([this],!1,!1,!1,this),r=s.pet;if(!r)return;let a=4*this.level;r.increaseAttack(a),this.logService.createLog({message:`${this.name} gave ${r.name} +${a} attack`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} +${a} health`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})}}function fK(n){return 1==n?0:2==n?2:5}class IM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Silky Sifaka",this.tier=6,this.pack="Danger",this.attack=4,this.health=6,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=["Mammoth","Lionfish","Orca","Sabertooth Tiger","Warthog","Hydra","Phoenix","Bay Cat","Walrus","Ammonite"],r=this.parent.nearestPetsBehind(2,this).pets;for(let a of r){let o=i[Math.floor(Math.random()*i.length)],l=this.petService.createPet({name:o,attack:a.attack,health:a.health,mana:a.mana,exp:fK(this.level),equipment:a.equipment},this.parent);this.parent.transformPet(a,l),this.logService.createLog({message:`${this.name} transformed ${a.name} into level ${this.level} ${l.name}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0})}this.superStartOfBattle(t,e)}}class OM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sumatran Tiger",this.tier=6,this.pack="Danger",this.attack=8,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getOppositeEnemyPet(this),s=i.pet;if(s&&(this.jumpAttackPrep(s),this.jumpAttack(s,e,null,i.random),this.level>=2)){let r=2==this.level?6:12,a=[];if(i.random)a=this.parent.getRandomLivingPets(2).pets;else{let o=s.petBehind();o&&o.alive&&a.push(o);let l=s.petAhead;l&&l.alive&&a.push(l)}for(let o of a)this.snipePet(o,r,i.random,e)}this.superStartOfBattle(t,e)}}class jp extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rock",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class NM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Basilisk",this.tier=1,this.pack="Custom",this.health=2,this.attack=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(1,this,void 0,!0);if(0===i.pets.length)return;let s=i.pets[0];if(null==s||!s.alive)return;let r=2*this.level,a=s.health+r;a=Math.min(a,50);let o=new jp(this.logService,this.abilityService,s.parent,a,s.attack,s.mana,s.exp,s.equipment);this.logService.createLog({message:`${this.name} turned ${s.name} into a Rock with + ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),s.parent.transformPet(s,o),this.superStartOfBattle(t,e)}}class db extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Daycrawler",this.tier=1,this.pack="Custom",this.hidden=!0,this.health=1,this.attack=3,this.initPet(o,s,r,a,l)}}class LM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nightcrawler",this.tier=2,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let r=this.parent==t.player?t.playerSummonedAmount:t.opponentSummonedAmount;if(0==r)return;let a=Math.min(50,this.level*r),l=new db(this.logService,this.abilityService,this.parent,a,6,0,0),h=this.parent.summonPet(l,this.savedPosition,!1,this);h.success&&(this.logService.createLog({message:`${this.name} spawned Daycrawler (6/${a})`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:h.randomEvent}),this.abilityService.triggerFriendSummonedEvents(l)),super.superAfterFaint(t,e,i)}}class BM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sphinx",this.tier=2,this.pack="Custom",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}}class $M extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chupacabra",this.tier=2,this.pack="Custom",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}knockOut(t,e,i){for(let s=0;s<3*this.level;s++){let r=this.parent.getRandomPet([this],!0,!1,!0,this);if(null==r.pet)return;this.logService.createLog({message:`${this.name} gave ${r.pet.name} 1 health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),r.pet.increaseHealth(1)}this.superKnockOut(t,e,i)}}class VM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Golden Beetle",this.tier=2,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class FM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Foo Dog",this.tier=3,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class HM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tree",this.tier=3,this.pack="Custom",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){this.attack>6*this.level||(this.logService.createLog({message:`${this.name} gained Coconut.`,type:"ability",player:this.parent,tiger:e}),this.givePetEquipment(new Ua),this.superStartOfBattle(t,e))}}class fb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smaller Slime",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}}class qM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Slime",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a,l),this.battlesFought=h}afterFaint(t,e,i){let s=Math.floor(this.battlesFought/2),r=2*this.level;for(let a=0;a<s;a++){let o=new fb(this.logService,this.abilityService,this.parent,null,null,0),l=this.parent.summonPet(o,this.savedPosition,!1,this);l.success&&(this.logService.createLog({message:`${this.name} spawned Smaller Slime (${r}/${r}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:l.randomEvent}),this.abilityService.triggerFriendSummonedEvents(o))}super.superAfterFaint(t,e,i)}}class UM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pegasus",this.tier=3,this.pack="Custom",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let s=this.parent.getRandomPets(3,[this],!0,!1,this);for(let r of s.pets)null!=r&&(r.increaseAttack(this.level),this.logService.createLog({message:`${this.name} gave ${r.name} ${this.level} attack.`,type:"ability",player:this.parent,randomEvent:s.random,tiger:i}))}}class GM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Deer Lord",this.tier=3,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}}class jM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}}class WM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rootling",this.tier=4,this.pack="Custom",this.attack=1,this.health=5,this.initPet(o,s,r,a,l)}}class zM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anubis",this.tier=4,this.pack="Custom",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(s=>s.faintPet);for(let s of i)!s.alive||s.tier<=2*this.level&&(this.logService.createLog({message:`${this.name} activated ${s.name}'s faint ability.`,type:"ability",player:this.parent,tiger:e}),this.abilityService.setFaintEvent({callback:()=>{s.faint(t,!1,!1)},priority:100-s.position,pet:s}))}}class KM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Old Mouse",this.tier=4,this.pack="Custom",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class QM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hippocampus",this.tier=4,this.pack="Custom",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}friendGainsHealth(t,e,i){let s=2*this.level;this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i}),e.increaseAttack(s),this.superFriendGainsHealth(t,e,i)}}class YM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Goblin Shark",this.tier=4,this.pack="Custom",this.attack=6,this.health=3,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=6*this.level;for(let s of this.parent.opponent.petArray)if(s.alive&&s.health<=i){let r=this.petService.createPet({name:s.name,attack:s.attack,health:s.health,exp:s.exp,equipment:null,mana:0},this.parent);this.swallowedPets.push(r),s.health=0,this.logService.createLog({message:`${this.name} swallowed ${s.name}`,type:"ability",player:this.parent,tiger:e});break}this.superStartOfBattle(t,e)}afterFaint(t,e,i){for(;this.swallowedPets.length>0;){let s=this.swallowedPets.shift(),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} summoned ${s.name} (level ${s.level}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s))}super.superAfterFaint(t,e,i)}}class JM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Red Lipped Batfish",this.tier=4,this.pack="Custom",this.attack=5,this.health=3,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=this.parent.opponent.getPetAtPosition(this.position);if(!i||!i.alive)return;let s=Math.max(1,i.tier-this.level),r=this.petService.getRandomFaintPet(i.parent,s),a=this.petService.createPet({name:r.name,attack:i.attack,health:i.health,exp:i.exp,equipment:i.equipment,mana:i.mana},i.parent);this.logService.createLog({message:`${this.name} transformed ${i.name} into ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),i.parent.transformPet(i,a),this.superStartOfBattle(t,e)}}class ZM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Platybelodon",this.tier=4,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=0;this.parent===t.player?i=t.playerRollAmount||0:this.parent===t.opponet&&(i=t.opponentRollAmount||0);let s=this.level*Math.min(i,8);s>0&&this.parent.gainTrumpets(s,this,e),this.superStartOfBattle(t,e)}}class XM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Boitata",this.tier=5,this.pack="Custom",this.attack=2,this.health=9,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.opponent.getFurthestUpPet(this),s=i.pet;null!=s&&(this.logService.createLog({message:`${this.name} gave ${s.name} Crisp.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),s.givePetEquipment(new dc),this.abilityUses++,this.superBeforeAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class eR extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Kappa",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let r=(this.parent==t.player?t.playerPetPool:t.opponentPetPool).get(3);for(let a=0;a<this.level;a++){let o=r[Math.floor(Math.random()*r.length)],l=r[Math.floor(Math.random()*r.length)],h=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:o},this.parent);this.parent.summonPet(h,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned a ${h.name} (14/16).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.abilityService.triggerFriendSummonedEvents(h));let m=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:l},this.parent.opponent);this.parent.opponent.summonPet(m,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned a ${m.name} (14/16) for the opponent.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.abilityService.triggerFriendSummonedEvents(m))}super.superAfterFaint(t,e,i)}}class tR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mimic",this.tier=5,this.pack="Custom",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}}class iR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nurikabe",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.maxAbilityUses=3,this.initPet(o,s,r,a,l)}}class nR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leviathan",this.tier=6,this.pack="Custom",this.attack=6,this.health=10,this.initPet(o,s,r,a,l)}}class sR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Questing Beast",this.tier=6,this.pack="Custom",this.attack=7,this.health=9,this.initPet(o,s,r,a,l)}}class rR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockatrice",this.tier=6,this.pack="Custom",this.attack=5,this.health=7,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.opponent.petArray.reverse(),s=null;for(let o of i)if(o.level<=this.level){s=o;break}if(null==s)return;this.logService.createLog({message:`${this.name} transformed ${s.name} into a Rock.`,type:"ability",player:this.parent,tiger:e});let r=new jp(this.logService,this.abilityService,s.parent,s.health,s.attack,s.mana,s.exp,s.equipment);this.parent.opponent.setPet(s.position,r,!1)}}class lV extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Albatross",this.tier=6,this.pack="Custom",this.attack=5,this.health=4,this.initPet(o,s,r,a,l)}}class aR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tarantula Hawk",this.tier=6,this.pack="Custom",this.health=2,this.attack=10,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.floor(this.attack/10)*this.level;if(i<=0)return;let r=this.parent.opponent.getAll(!1,this).pets;if(0!=r.length){for(let a of r)a.increaseHealth(-i),this.logService.createLog({message:`${this.name} removed ${i} health from ${a.name}`,type:"ability",player:this.parent,tiger:e});this.superStartOfBattle(t,e)}}}class oR extends _{constructor(t,e,i,s,r,a,o,l,h,d){super(t,e,r),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Good Dog",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=3,this.hidden=!0,this.initPet(h,a,o,l,d)}startOfBattle(t,e){let i=this.parent.getRandomPets(10,[this],null,null,this),s=i.pets;if(0==s.length)return;let r=this.getInstanceOfAllEquipment(),a=Array.from(r.values());for(let o of s){if(!o.alive)continue;let l=a[Math.floor(Math.random()*a.length)];this.logService.createLog({message:`${this.name} gave ${o.name} ${l.name}`,type:"ability",player:this.parent,randomEvent:i.random,tiger:e}),o.givePetEquipment(l)}}getInstanceOfAllEquipment(){let t=new Map;return t.set("Garlic",new fc),t.set("Meat Bone",new I_),t.set("Steak",new I3),t.set("Melon",new Wr),t.set("Honey",new R_(this.logService,this.abilityService)),t.set("Chili",new A_(this.logService,this.abilityService)),t.set("Mushroom",new O3(this.logService,this.abilityService,this.petService)),t.set("Coconut",new Ua),t.set("Peanut",new vh),t.set("Croissant",new N3),t.set("Rice",new O_),t.set("Egg",new OP(this.logService,this.abilityService)),t.set("Lime",new L3),t.set("Salt",new p_),t.set("Pie",new $P(this.logService)),t.set("Skewer",new VP(this.logService)),t.set("Lemon",new $3),t.set("Pancakes",new FP(this.logService)),t.set("Strawberry",new L_(this.logService,this.abilityService)),t.set("Cucumber",new F3),t.set("Cheese",new g_),t.set("Grapes",new H3),t.set("Carrot",new q3),t.set("Pepper",new m_),t.set("Popcorn",new U3(this.logService,this.abilityService,this.petService,this.gameService)),t.set("Cherry",new HP),t.set("Chocolate Cake",new B_(this.logService,this.abilityService)),t.set("Eggplant",new qP(this.logService)),t.set("Potato",new G3),t.set("Banana",new j3(this.logService,this.abilityService)),t.set("Onion",new CC(this.logService)),t.set("Pita Bread",new W3(this.logService)),t.set("Tomato",new z3(this.logService,this.abilityService)),t.set("Durian",new K3(this.logService,this.abilityService)),t.set("Fortune Cookie",new v_),t.set("Blueberry",new Y3),t.set("Donut",new J3),t.set("Pineapple",new Z3),t.set("Fig",new X3(this.logService,this.abilityService)),t.set("Rambutan",new $_(this.logService)),t.set("Love Potion",new UP(this.logService)),t.set("Fairy Dust",new tV(this.logService)),t.set("Gingerbread Man",new GP(this.logService)),t.set("Easter Egg",new iV(this.logService,this.abilityService)),t.set("Health Potion",new jP(this.logService)),t.set("Magic Beans",new nV),t.set("Golden Egg",new sV(this.logService,this.abilityService)),t.set("Squash",new B3(this.logService,this.abilityService)),t.set("Honeydew Melon",new SC),t.set("Ambrosia",new kC),t.set("Faint Bread",new aV(this.logService,this.abilityService,this.petService,this.gameService)),t.set("Seaweed",new Q3(this.logService,this.abilityService,this.petService)),t.set("Caramel",new eV(this.logService,this.abilityService)),t.set("Baguette",new V3(this.logService,this.abilityService)),t}}class lR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salmon",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.hidden=!0,this.initPet(o,s,r,a,l)}summoned(t,e){let i=1+Math.floor(this.health/25),s=5*this.level;for(let r=0;r<i;r++){let a=this.parent.opponent.getRandomPet([],!1,!0,!1,this);a.pet&&this.snipePet(a.pet,s,a.random,e)}this.superSummoned(t,e)}}class cR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mimic Octopus",this.tier=6,this.pack="Star",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}afterAttack(t,e){let i=this.parent.opponent.getLowestHealthPets(this.level,void 0,this);for(let s of i.pets)this.snipePet(s,4,i.random,e);this.superAfterAttack(t,e)}}class uR extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Ammonite",this.tier=6,this.pack="Star",this.attack=5,this.health=3,this.initPet(l,r,a,o,h)}faint(t,e,i){let s=this.parent.nearestPetsBehind(1,this);if(0===s.pets.length)return;let r=s.pets[0],o=Math.floor((this.parent===t.player?t.playerRollAmount:t.opponentRollAmount)/2)*this.level,l=this.petService.createPet({name:"Mimic Octopus",attack:r.attack,health:r.health,equipment:r.equipment,mana:r.mana,exp:r.exp},this.parent);this.logService.createLog({message:`${this.name} transformed ${r.name} into ${l.name}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),this.parent.transformPet(r,l);let h=this.parent.getThis(l),d=h.pet;null!=d&&(this.logService.createLog({message:`${this.name} gave ${d.name} +${o} experience.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:h.random}),d.increaseExp(o),this.superFaint(t,e))}}class hR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Velociraptor",this.tier=6,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}friendAttacks(t,e,i){let s;for(let a=this.parent.petArray.indexOf(this)-1;a>=0;a--){let o=this.parent.petArray[a];if(o.alive&&o.equipment&&"Strawberry"===o.equipment.name){s=o;break}}if(s){if(s&&s.equipment&&"Strawberry"===s.equipment.name){s.removePerk(),this.logService.createLog({message:`${this.name} removed Strawberry from ${s.name}`,type:"ability",player:this.parent,tiger:i});let a=2*this.level,o=3*this.level,l=this.parent.getRandomPets(5,null,null,null,this),h=l.pets;for(let d of h)d.increaseAttack(a),d.increaseHealth(o),this.logService.createLog({message:`${this.name} gave ${d.name} +${a} attack and +${o} health`,type:"ability",player:this.parent,tiger:i,randomEvent:l.random})}this.superFriendAttacks(t,e,i)}}}class dR extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baby Urchin",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getFurthestUpPet(this),r=[s.pet],a=s.random;if(null!=r[0]){for(let o=0;o<this.level-1;o++){let l;if(l=a?this.parent.opponent.getFurthestUpPet(this).pet:r[o].petBehind(),null==l)break;r.push(l)}for(let o of r)null!=o&&(o.increaseHealth(-4),this.logService.createLog({message:`${this.name} removed 4 health from ${o.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a}));this.superFaint(t,e)}else this.superFaint(t,e)}}let pb=(()=>{class n{constructor(e,i,s){this.logService=e,this.abilityService=i,this.gameService=s,this.turtlePackPets=new Map,this.puppyPackPets=new Map,this.starPackPets=new Map,this.goldenPackPets=new Map,this.unicornPackPets=new Map,this.customPackPets=new Map,this.dangerPackPets=new Map,this.playerCustomPackPets=new Map,this.allPets=new Map,this.startOfBattlePets=["Beetle","Cone Snail","Frilled Dragon","Frog","Gecko","Goose","Hummigbird","Mosquito","Moth","Seahorse","Atlantic Puffin","Bat","Crab","Panda","Robin","Salamander","Wombat","Dodo","Dolphin","Eel","Meerkat","Pug","Woodpecker","Doberman","Hawk","Lynx","Pelican","Skunk","Whale","Armadillo","Crocodile","Hyena","Macaque","Sword Fish","Highland Cow","Leopard","Mantis Shrimp","Stegosaurus","Therizinosaurus","White Tiger","Alchemedes","Axehandle Hound","Barghest","Bunyip","Sneaky Egg","Tsuchinoko","Ogopogo","Thunderbird","Mana Hound","Mandrake","Kraken","Roc","Red Dragon","Salmon of Knowledge","Werewolf","Sleipnir","Basilisk","Tree","Anubis","Cockatrice"]}buildCustomPackPets(e){for(let i of e.controls){let s=new Map;for(let r=1;r<=6;r++)s.set(r,i.get(`tier${r}Pets`).value);this.playerCustomPackPets.set(i.get("name").value,s)}}init(){this.turtlePackPets.set(1,["Ant","Cricket","Duck","Fish","Horse","Mosquito","Beaver","Otter","Pig","Pigeon"]),this.turtlePackPets.set(2,["Snail","Crab","Swan","Rat","Hedgehog","Peacock","Flamingo","Worm","Kangaroo","Spider"]),this.turtlePackPets.set(3,["Dodo","Badger","Dolphin","Giraffe","Elephant","Camel","Rabbit","Ox","Dog","Sheep"]),this.turtlePackPets.set(4,["Skunk","Hippo","Bison","Blowfish","Turtle","Squirrel","Penguin","Deer","Whale","Parrot"]),this.turtlePackPets.set(5,["Scorpion","Crocodile","Rhino","Monkey","Armadillo","Cow","Seal","Rooster","Shark","Turkey"]),this.turtlePackPets.set(6,["Leopard","Tiger","Boar","Wolverine","Gorilla","Dragon","Mammoth","Cat","Snake","Fly"]),this.puppyPackPets.set(1,["Duck","Beaver","Moth","Bluebird","Chinchilla","Beetle","Ladybug","Chipmunk","Gecko","Ferret"]),this.puppyPackPets.set(2,["Robin","Bat","Bilby","Dromedary","Shrimp","Beluga Sturgeon","Tabby Cat","Mandrill","Lemur","Goldfish"]),this.puppyPackPets.set(3,["Hoopoe Bird","Tropical Fish","Toucan","Hatching Chick","Owl","Mole","Flying Squirrel","Pangolin","Puppy","Hare"]),this.puppyPackPets.set(4,["Microbe","Lobster","Buffalo","Llama","Caterpillar","Doberman","Tahr","Whale Shark","Chameleon","Gharial"]),this.puppyPackPets.set(5,["Stonefish","Goat","Chicken","Eagle","Orchid Mantis","Panther","Axolotl","Snapping Turtle","Mosasaurus","Sting Ray"]),this.puppyPackPets.set(6,["Dragon","Mantis Shrimp","Lionfish","Tyrannosaurus","Octopus","Anglerfish","Sauropod","Elephant Seal","Puma","Mongoose"]),this.starPackPets.set(1,["Mouse","Pillbug","Cockroach","Frog","Hummingbird","Marmoset","Kiwi","Chihuahua","Firefly"]),this.starPackPets.set(2,["Koala","Salamander","Guinea Pig","Jellyfish","Dove","Stork","Iguana","DumboOctopus","Bass","Shima Enaga"]),this.starPackPets.set(3,["Leech","Toad","Cabybara","Okapi","Cassowary","Anteater","Pug","Orangutang","Tuna"]),this.starPackPets.set(4,["Hawk","Clownfish","Platypus","Praying Mantis","Donkey","Fairy Armadillo","Fossa","Elk","Sparrow"]),this.starPackPets.set(5,["Sword Fish","Triceratops","Hamster","Shoebill","Woodpecker","Starfish","Blobfish","Pelican","Vulture","Ibex"]),this.starPackPets.set(6,["Ostrich","Reindeer","Piranha","Orca","Spinosaurus","Real Velociraptor","Sabertooth Tiger","Ammonite","Velociraptor","Alpaca"]),this.goldenPackPets.set(1,["Chipmunk","Bulldog","Groundhog","Cone Snail","Goose","Lemming","Pied Tamarin","Opossum","Silkmoth","Magpie"]),this.goldenPackPets.set(2,["Hercules Beetle","Stoat","Black Necked Stilt","Squid","Sea Urchin","Door Head Ant","Lizard","Sea Turtle","Meerkat","African Penguin"]),this.goldenPackPets.set(3,["Musk Ox","Flea","Bear","Royal Flycatcher","Surgeon Fish","Weasel","Guineafowl","Flying Fish","Baboon","Osprey"]),this.goldenPackPets.set(4,["Manatee","Cuttlefish","Saiga Antelope","Sealion","Vaquita","Slug","Poison Dart Frog","Falcon","Manta Ray","Cockatoo"]),this.goldenPackPets.set(5,["Macaque","Nyala","Nurse Shark","Beluga Whale","Wolf","Secretary Bird","Fire Ant","Blue Ringed Octopus","Crane","Emu","Egyptian Vulture"]),this.goldenPackPets.set(6,["Wildebeast","Highland Cow","Catfish","Pteranodon","Warthog","Cobra","Grizzly Bear","German Shepherd","Bird of Paradise","Oyster","Rockhopper Penguin"]),this.unicornPackPets.set(1,["Baku","Axehandle Hound","Barghest","Tsuchinoko","Murmel","Alchemedes","Pengobble","Warf","Bunyip","Sneaky Egg","Cuddle Toad","???"]),this.unicornPackPets.set(2,["Ghost Kitten","Frost Wolf","Mothman","Drop Bear","Jackalope","Ogopogo","Thunderbird","Gargoyle","Wyvern","Bigfoot"]),this.unicornPackPets.set(3,["Skeleton Dog","Mandrake","Fur-Bearing Trout","Mana Hound","Calygreyhound","Brain Cramp","Lucky Cat","Tatzelwurm","Ouroboros","Griffin"]),this.unicornPackPets.set(4,["Kraken","Visitor","Unicorn","Tiger Bug","Minotaur","Cyclops","Chimera","Roc","Worm of Sand","Abomination"]),this.unicornPackPets.set(5,["Red Dragon","Vampire Bat","Loveland Frogman","Salmon of Knowledge","Jersey Devil","Pixiu","Kitsune","Nessie","Bad Dog","Werewolf","Amalgamation"]),this.unicornPackPets.set(6,["Manticore","Phoenix","Quetzalcoatl","Team Spirit","Sleipnir","Sea Serpent","Yeti","Cerberus","Hydra","Behemoth"]),this.dangerPackPets.set(1,["African Wild Dog","Iriomote Cat","Ili Pika","Malay Tapir","Bombus Dahlbomii","Ethiopian Wolf","Fan Mussel","Togian Babirusa","Tooth Billed Pigeon","Volcano Snail"]),this.dangerPackPets.set(2,["Araripe Manakin","Darwin's Fox","European Mink","Proboscis Monkey","Pygmy Hog","Saola","Saker Falcon","Taita Shrew","Takhi","White-Bellied Heron"]),this.dangerPackPets.set(3,["Amami Rabbit","Blue-Throated Macaw","Hirola","Monkey-Faced Bat","Takin","Tree Kangaroo","Tucuxi","Pygmy Hippo","Roloway Monkey","Spoon-Billed Sandpiper"]),this.dangerPackPets.set(4,["Amazon River Dolphin","Angelshark","Bonobo","Giant Otter","Giant Tortoise","Golden Tamarin","Humphead Wrasse","Kakapo","Longcomb Sawfish","Tasmanian Devil"]),this.dangerPackPets.set(5,["Aye-aye","Banggai Cardinalfish","Geometric Tortoise","Giant Pangasius","Hawaiian Monk Seal","Marine Iguana","Red Panda","Snow Leopard","Taita Thrush","Painted Terrapin"]),this.dangerPackPets.set(6,["Amsterdam Albatross","Bay Cat","Black Rhino","Blue Whale","California Condor","Green Sea Turtle","Helmeted Hornbill","Philippine Eagle","Silky Sifaka","Sumatran Tiger"]),this.customPackPets.set(1,["Frilled Dragon","Mouse","Basilisk","Duckling","Seahorse"]),this.customPackPets.set(2,["Frigatebird","Wombat","Frigatebird","Nightcrawler","Sphinx","Chupacabra","Golden Beetle","Yak","Panda","Atlantic Puffin"]),this.customPackPets.set(3,["Aardvark","Emperor Tamarin","Porcupine","Wasp","Foo Dog","Tree","Slime","Pegasus","Deer Lord","Betta Fish"]),this.customPackPets.set(4,["Jerboa","Dragonfly","Lynx","Seagull","Fairy","Rootling","Anubis","Old Mouse","Hippocampus","Goblin Shark","Red Lipped Batfish","Platybelodon","Eel","Crow"]),this.customPackPets.set(5,["Poodle","Hyena","Moose","Raccoon","Sea Cucumber","Silver Fox","Boitata","Kappa","Mimic","Nurikabe","Tandgnost","Tandgrisner","Fox","Lion","Polar Bear","Siberian Husky","Zebra"]),this.customPackPets.set(6,["Lioness","Tapir","Walrus","White Tiger","Great One","Leviathan","Questing Beast","Cockatrice","Albatross","Amargasaurus","Tarantula Hawk","Hammerhead Shark","Komodo","Stegosaurus","Harpy Eagle","Therizinosaurus"]),this.setAllPets()}setAllPets(){this.allPets=new Map;for(let e=1;e<=6;e++)this.allPets.set(e,[]);for(let[e,i]of this.turtlePackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.puppyPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.starPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.goldenPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.unicornPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.dangerPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.allPets)this.allPets.set(e,[...new Set(i)])}createPet(e,i){switch(e.name){case"Ant":return new b_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cricket":return new PC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fish":return new S_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Horse":return new AC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mosquito":return new DC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Duck":return new w_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beaver":return new E_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Otter":return new TC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pig":return new xC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mouse":return new MC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pigeon":return new w1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snail":return new Sz(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crab":return new RC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Swan":return new IC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rat":return new OC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hedgehog":return new NC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Peacock":return new LC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flamingo":return new BC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Worm":return new $C(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kangaroo":return new VC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Spider":return new FC(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dodo":return new HC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Badger":return new qC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dolphin":return new C_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Giraffe":return new UC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elephant":return new GC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Camel":return new jC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rabbit":return new WC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ox":return new zC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dog":return new KC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sheep":return new QC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Skunk":return new JC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hippo":return new ZC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bison":return new XC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blowfish":return new eP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Turtle":return new tP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Squirrel":return new iP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Penguin":return new nP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Deer":return new sP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Whale":return new rP(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Parrot":return new _h(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Scorpion":return new aP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crocodile":return new oP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rhino":return new lP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Monkey":return new x_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Armadillo":return new cP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cow":return new uP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seal":return new hP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rooster":return new dP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shark":return new fP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Turkey":return new pP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leopard":return new gP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Boar":return new mP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tiger":return new YC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wolverine":return new vP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gorilla":return new yP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dragon":return new _P(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mammoth":return new bP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cat":return new SP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snake":return new wP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fly":return new EP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Moth":return new kP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bluebird":return new CP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chinchilla":return new PP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beetle":return new AP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ladybug":return new DP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chipmunk":return new TP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gecko":return new xP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ferret":return new MP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Robin":return new NP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bat":return new RP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bilby":return new IP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dromedary":return new LP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shrimp":return new BP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Toucan":return new KP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beluga Sturgeon":return new QP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tabby Cat":return new YP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mandrill":return new JP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lemur":return new z_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hoopoe Bird":return new ZP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tropical Fish":return new XP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hatching Chick":return new eA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goldfish":return new tA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Owl":return new iA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mole":return new Up(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Raccoon":return new nA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flying Squirrel":return new W_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pangolin":return new rA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Puppy":return new aA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hare":return new wh(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Microbe":return new oA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lobster":return new lA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Buffalo":return new cA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Llama":return new uA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Caterpillar":return new hA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Doberman":return new dA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tahr":return new fA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Whale Shark":return new pA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chameleon":return new gA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gharial":return new mA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stonefish":return new vA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Poodle":return new yA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goat":return new kA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chicken":return new _A(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Eagle":return new bA(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Orchid Mantis":return new SA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Panther":return new wA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Axolotl":return new EA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snapping Turtle":return new CA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mosasaurus":return new PA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sting Ray":return new AA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mantis Shrimp":return new DA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lionfish":return new TA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tyrannosaurus":return new xA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Octopus":return new MA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anglerfish":return new RA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sauropod":return new IA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elephant Seal":return new OA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Puma":return new wr(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mongoose":return new NA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pillbug":return new LA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Duckling":return new BA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockroach":return new $A(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frog":return new VA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seahorse":return new HA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Iguana":return new qA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hummingbird":return new UA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Marmoset":return new ZT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kiwi":return new _1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chihuahua":return new FA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Firefly":return new b1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Koala":return new GA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Yak":return new jA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Salamander":return new zA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Panda":return new KA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Guinea Pig":return new QA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jellyfish":return new JA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pug":return new YA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Atlantic Puffin":return new ZA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dove":return new XA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stork":return new eD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"DumboOctopus":return new WA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bass":return new S1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shima Enaga":return new tD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leech":return new iD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Woodpecker":return new nD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Toad":return new rD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Starfish":return new aD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Clownfish":return new oD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blobfish":return new lD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cabybara":return new cD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Okapi":return new uD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cassowary":return new hD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anteater":return new ED(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tuna":return new sD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Orangutang":return new Y_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Eel":return new mD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hawk":return new vD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Platypus":return new yD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Praying Mantis":return new Q_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crow":return new _D(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Donkey":return new bD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pelican":return new wD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fairy Armadillo":return new pD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fossa":return new gD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Siamese":return new dD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elk":return new fD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sparrow":return new SD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sword Fish":return new kD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Polar Bear":return new CD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Siberian Husky":return new PD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lion":return new AD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Triceratops":return new DD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zebra":return new TD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fox":return new xD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hamster":return new MD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shoebill":return new RD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vulture":return new ID(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ibex":return new OD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Komodo":return new ND(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ostrich":return new LD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Reindeer":return new BD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stegosaurus":return new $D(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Piranha":return new VD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hammerhead Shark":return new FD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Therizinosaurus":return new HD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Harpy Eagle":return new qD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Real Velociraptor":return new UD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sabertooth Tiger":return new GD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Orca":return new jD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Spinosaurus":return new WD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bulldog":return new zD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Groundhog":return new Z_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cone Snail":return new KD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goose":return new QD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lemming":return new ZD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pied Tamarin":return new YD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Opossum":return new y1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Silkmoth":return new JD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Magpie":return new XD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hercules Beetle":return new eT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stoat":return new tT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Black Necked Stilt":return new iT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Squid":return new nT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Urchin":return new sT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Door Head Ant":return new rT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lizard":return new aT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Turtle":return new oT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"African Penguin":return new lT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Musk Ox":return new cT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flea":return new uT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Royal Flycatcher":return new AT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Surgeon Fish":return new hT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Weasel":return new eb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Guineafowl":return new dT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Betta Fish":return new fT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Meerkat":return new pT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flying Fish":return new gT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Baboon":return new mT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Osprey":return new vT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manatee":return new yT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cuttlefish":return new _T(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Egyptian Vulture":return new bT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Saiga Antelope":return new ST(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sealion":return new wT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vaquita":return new ET(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Slug":return new kT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Poison Dart Frog":return new CT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Secretary Bird":return new PT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Falcon":return new DT(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manta Ray":return new TT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Macaque":return new xT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nyala":return new MT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nurse Shark":return new RT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beluga Whale":return new IT(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.belugaSwallowedPet);case"Wolf":return new OT(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Silver Fox":return new NT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fire Ant":return new LT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockatoo":return new BT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blue Ringed Octopus":return new $T(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crane":return new VT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Emu":return new FT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wildebeast":return new HT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Highland Cow":return new qT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Catfish":return new UT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pteranodon":return new GT(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Warthog":return new jT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cobra":return new WT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Grizzly Bear":return new zT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"German Shepherd":return new KT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bird of Paradise":return new QT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Oyster":return new YT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rockhopper Penguin":return new JT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jerboa":return new XT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frilled Dragon":return new e1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wombat":return new t1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frigatebird":return new i1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Aardvark":return new n1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bear":return new s1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Emperor Tamarin":return new r1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Porcupine":return new a1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wasp":return new o1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dragonfly":return new l1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lynx":return new c1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seagull":return new u1(this.logService,this.abilityService,this,this.gameService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Alpaca":return new Gp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hyena":return new h1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Moose":return new d1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Cucumber":return new sA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lioness":return new f1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tapir":return new p1(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Walrus":return new g1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"White Tiger":return new m1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Basilisk":return new NM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nightcrawler":return new LM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sphinx":return new BM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chupacabra":return new $M(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Golden Beetle":return new VM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Foo Dog":return new FM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tree":return new HM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Slime":return new qM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.battlesFought);case"Pegasus":return new UM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Deer Lord":return new GM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fairy":return new jM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rootling":return new WM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anubis":return new zM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Old Mouse":return new KM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hippocampus":return new QM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goblin Shark":return new YM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Red Lipped Batfish":return new JM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Platybelodon":return new ZM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Boitata":return new XM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kappa":return new eR(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mimic":return new tR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nurikabe":return new iR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tandgnost":return new F_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tandgrisner":return new H_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Great One":return new G_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leviathan":return new nR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Questing Beast":return new sR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockatrice":return new rR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amargasaurus":return new v1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tarantula Hawk":return new aR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Angry Pygmy Hog":return new T_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bee":return new bh(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bus":return new D_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Butterfly":return new K_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chick":return new M_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dirty Rat":return new k_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Golden Retriever":return new __(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lizard Tail":return new X_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nest":return new Hp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ram":return new P_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smaller Slug":return new ib(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smallest Slug":return new tb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zombie Cricket":return new yh(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zombie Fly":return new Fp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cracked Egg":return new nb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nessie?":return new ob(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Young Phoenix":return new lb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fire Pup":return new cb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Monty":return new V_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rock":return new jp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Daycrawler":return new db(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smaller Slime":return new fb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Goat":return new sb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Lion":return new rb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Snake":return new ab(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Head":return new ub(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Good Dog":return new oR(this.logService,this.abilityService,this,this.gameService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Salmon":return new lR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mimic Octopus":return new cR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ammonite":return new uR(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Velociraptor":return new hR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Baby Urchin":return new dR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fairy Ball":return new J_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp);case"Baku":return new E1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Axehandle Hound":return new C1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Barghest":return new P1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tsuchinoko":return new A1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Murmel":return new D1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Alchemedes":return new T1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pengobble":return new x1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Warf":return new M1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bunyip":return new R1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sneaky Egg":return new I1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cuddle Toad":return new O1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"???":return new k1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ghost Kitten":return new N1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frost Wolf":return new L1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mothman":return new B1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Drop Bear":return new $1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jackalope":return new V1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ogopogo":return new H1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Thunderbird":return new q1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gargoyle":return new U1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bigfoot":return new G1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lucky Cat":return new F1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Skeleton Dog":return new j1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mandrake":return new W1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fur-Bearing Trout":return new z1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mana Hound":return new K1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Calygreyhound":return new Q1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Brain Cramp":return new Y1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Minotaur":return new J1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wyvern":return new Z1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ouroboros":return new X1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Griffin":return new ex(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kraken":return new tx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Visitor":return new ix(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vampire Bat":return new nx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tiger Bug":return new sx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tatzelwurm":return new rx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cyclops":return new ax(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chimera":return new ox(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Roc":return new lx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Worm of Sand":return new cx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Abomination":return new ux(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.abominationSwallowedPet1,e.abominationSwallowedPet2,e.abominationSwallowedPet3);case"Red Dragon":return new hx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Unicorn":return new dx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Loveland Frogman":return new fx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Salmon of Knowledge":return new j_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jersey Devil":return new gx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pixiu":return new mx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kitsune":return new vx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nessie":return new yx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bad Dog":return new _x(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Werewolf":return new bx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amalgamation":return new px(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manticore":return new Sx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Phoenix":return new wx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Quetzalcoatl":return new Ex(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Team Spirit":return new kx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sleipnir":return new Cx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Serpent":return new Px(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Yeti":return new Ax(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cerberus":return new Dx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hydra":return new Tx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Behemoth":return new xx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Iriomote Cat":return new Mx(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ili Pika":return new Rx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Malay Tapir":return new Ix(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bombus Dahlbomii":return new Ox(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"African Wild Dog":return new Vx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ethiopian Wolf":return new hb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fan Mussel":return new Nx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Togian Babirusa":return new Lx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tooth Billed Pigeon":return new Bx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Volcano Snail":return new $x(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Araripe Manakin":return new Fx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"European Mink":return new Hx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Proboscis Monkey":return new qx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pygmy Hog":return new Ux(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Saola":return new Gx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Saker Falcon":return new jx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Taita Shrew":return new Wx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Darwin's Fox":return new Kx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Takhi":return new Qx(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"White-Bellied Heron":return new zx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amami Rabbit":return new sM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tree Kangaroo":return new rM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blue-Throated Macaw":return new Yx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hirola":return new Jx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Monkey-Faced Bat":return new Zx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Takin":return new eM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tucuxi":return new tM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pygmy Hippo":return new Xx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Roloway Monkey":return new iM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Spoon-Billed Sandpiper":return new nM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Angelshark":return new aM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bonobo":return new oM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Giant Otter":return new gM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Giant Tortoise":return new lM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Golden Tamarin":return new uM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Humphead Wrasse":return new cM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kakapo":return new hM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Longcomb Sawfish":return new dM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tasmanian Devil":return new pM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amazon River Dolphin":return new fM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Aye-aye":return new mM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Banggai Cardinalfish":return new vM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Geometric Tortoise":return new yM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Giant Pangasius":return new _M(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hawaiian Monk Seal":return new bM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Marine Iguana":return new SM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Red Panda":return new wM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Taita Thrush":return new EM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snow Leopard":return new CM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Painted Terrapin":return new kM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amsterdam Albatross":return new PM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bay Cat":return new AM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Black Rhino":return new DM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blue Whale":return new TM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"California Condor":return new Eh(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Green Sea Turtle":return new xM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Helmeted Hornbill":return new MM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Philippine Eagle":return new RM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Silky Sifaka":return new IM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sumatran Tiger":return new OM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment)}}createDefaultVersionOfPet(e,i=null,s=null){let r;return e instanceof b_&&(r=new b_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bh&&(r=new bh(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PC&&(r=new PC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof S_&&(r=new S_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AC&&(r=new AC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DC&&(r=new DC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yh&&(r=new yh(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof w_&&(r=new w_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof E_&&(r=new E_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof TC&&(r=new TC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xC&&(r=new xC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MC&&(r=new MC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof w1&&(r=new w1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof RC&&(r=new RC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof IC&&(r=new IC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof OC&&(r=new OC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof NC&&(r=new NC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LC&&(r=new LC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BC&&(r=new BC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $C&&(r=new $C(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof VC&&(r=new VC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FC&&(r=new FC(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof HC&&(r=new HC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qC&&(r=new qC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof C_&&(r=new C_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof UC&&(r=new UC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof GC&&(r=new GC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jC&&(r=new jC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof WC&&(r=new WC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zC&&(r=new zC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KC&&(r=new KC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QC&&(r=new QC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JC&&(r=new JC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZC&&(r=new ZC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XC&&(r=new XC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eP&&(r=new eP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tP&&(r=new tP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iP&&(r=new iP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nP&&(r=new nP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sP&&(r=new sP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rP&&(r=new rP(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof _h&&(r=new _h(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof aP&&(r=new aP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oP&&(r=new oP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lP&&(r=new lP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof x_&&(r=new x_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cP&&(r=new cP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uP&&(r=new uP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hP&&(r=new hP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dP&&(r=new dP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fP&&(r=new fP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pP&&(r=new pP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gP&&(r=new gP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mP&&(r=new mP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YC&&(r=new YC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vP&&(r=new vP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yP&&(r=new yP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _P&&(r=new _P(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bP&&(r=new bP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof SP&&(r=new SP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wP&&(r=new wP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof EP&&(r=new EP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kP&&(r=new kP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CP&&(r=new CP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PP&&(r=new PP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AP&&(r=new AP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DP&&(r=new DP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof TP&&(r=new TP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xP&&(r=new xP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MP&&(r=new MP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof NP&&(r=new NP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof RP&&(r=new RP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof IP&&(r=new IP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LP&&(r=new LP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BP&&(r=new BP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KP&&(r=new KP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QP&&(r=new QP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YP&&(r=new YP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JP&&(r=new JP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof z_&&(r=new z_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZP&&(r=new ZP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XP&&(r=new XP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eA&&(r=new eA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tA&&(r=new tA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iA&&(r=new iA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Up&&(r=new Up(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nA&&(r=new nA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof W_&&(r=new W_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rA&&(r=new rA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aA&&(r=new aA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wh&&(r=new wh(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oA&&(r=new oA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lA&&(r=new lA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cA&&(r=new cA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uA&&(r=new uA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hA&&(r=new hA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dA&&(r=new dA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fA&&(r=new fA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pA&&(r=new pA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gA&&(r=new gA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mA&&(r=new mA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vA&&(r=new vA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yA&&(r=new yA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kA&&(r=new kA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _A&&(r=new _A(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bA&&(r=new bA(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof SA&&(r=new SA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wA&&(r=new wA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof EA&&(r=new EA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CA&&(r=new CA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PA&&(r=new PA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AA&&(r=new AA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DA&&(r=new DA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof TA&&(r=new TA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xA&&(r=new xA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MA&&(r=new MA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof RA&&(r=new RA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof IA&&(r=new IA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof OA&&(r=new OA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wr&&(r=new wr(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof NA&&(r=new NA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LA&&(r=new LA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BA&&(r=new BA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $A&&(r=new $A(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _1&&(r=new _1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof VA&&(r=new VA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof HA&&(r=new HA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qA&&(r=new qA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof UA&&(r=new UA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZT&&(r=new ZT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FA&&(r=new FA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof b1&&(r=new b1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof GA&&(r=new GA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jA&&(r=new jA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zA&&(r=new zA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KA&&(r=new KA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QA&&(r=new QA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JA&&(r=new JA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YA&&(r=new YA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZA&&(r=new ZA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XA&&(r=new XA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eD&&(r=new eD(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof WA&&(r=new WA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tD&&(r=new tD(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof S1&&(r=new S1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iD&&(r=new iD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nD&&(r=new nD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rD&&(r=new rD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aD&&(r=new aD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oD&&(r=new oD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lD&&(r=new lD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cD&&(r=new cD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uD&&(r=new uD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hD&&(r=new hD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sD&&(r=new sD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Y_&&(r=new Y_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mD&&(r=new mD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vD&&(r=new vD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yD&&(r=new yD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Q_&&(r=new Q_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _D&&(r=new _D(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bD&&(r=new bD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wD&&(r=new wD(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof ED&&(r=new ED(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pD&&(r=new pD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gD&&(r=new gD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dD&&(r=new dD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fD&&(r=new fD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof SD&&(r=new SD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kD&&(r=new kD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CD&&(r=new CD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PD&&(r=new PD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AD&&(r=new AD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DD&&(r=new DD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof TD&&(r=new TD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xD&&(r=new xD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MD&&(r=new MD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof RD&&(r=new RD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ID&&(r=new ID(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof OD&&(r=new OD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ND&&(r=new ND(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LD&&(r=new LD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BD&&(r=new BD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $D&&(r=new $D(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof VD&&(r=new VD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FD&&(r=new FD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof HD&&(r=new HD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qD&&(r=new qD(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof UD&&(r=new UD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof GD&&(r=new GD(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof jD&&(r=new jD(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof WD&&(r=new WD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zD&&(r=new zD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Z_&&(r=new Z_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KD&&(r=new KD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QD&&(r=new QD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZD&&(r=new ZD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YD&&(r=new YD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof y1&&(r=new y1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JD&&(r=new JD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XD&&(r=new XD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eT&&(r=new eT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tT&&(r=new tT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iT&&(r=new iT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nT&&(r=new nT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sT&&(r=new sT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rT&&(r=new rT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aT&&(r=new aT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oT&&(r=new oT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lT&&(r=new lT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cT&&(r=new cT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uT&&(r=new uT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AT&&(r=new AT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hT&&(r=new hT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eb&&(r=new eb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dT&&(r=new dT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fT&&(r=new fT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pT&&(r=new pT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gT&&(r=new gT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mT&&(r=new mT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vT&&(r=new vT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yT&&(r=new yT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _T&&(r=new _T(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bT&&(r=new bT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ST&&(r=new ST(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wT&&(r=new wT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ET&&(r=new ET(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kT&&(r=new kT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CT&&(r=new CT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PT&&(r=new PT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DT&&(r=new DT(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof TT&&(r=new TT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xT&&(r=new xT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MT&&(r=new MT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof RT&&(r=new RT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof IT&&(r=new IT(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof OT&&(r=new OT(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof NT&&(r=new NT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LT&&(r=new LT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BT&&(r=new BT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $T&&(r=new $T(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof VT&&(r=new VT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FT&&(r=new FT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof HT&&(r=new HT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qT&&(r=new qT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof UT&&(r=new UT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof GT&&(r=new GT(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof jT&&(r=new jT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof WT&&(r=new WT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zT&&(r=new zT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KT&&(r=new KT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QT&&(r=new QT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YT&&(r=new YT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JT&&(r=new JT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof T_&&(r=new T_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bh&&(r=new bh(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof D_&&(r=new D_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof K_&&(r=new K_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof M_&&(r=new M_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof k_&&(r=new k_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof __&&(r=new __(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof X_&&(r=new X_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Hp&&(r=new Hp(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof P_&&(r=new P_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ib&&(r=new ib(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tb&&(r=new tb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yh&&(r=new yh(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Fp&&(r=new Fp(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nb&&(r=new nb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ob&&(r=new ob(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lb&&(r=new lb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cb&&(r=new cb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof V_&&(r=new V_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jp&&(r=new jp(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof db&&(r=new db(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fb&&(r=new fb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sb&&(r=new sb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rb&&(r=new rb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ab&&(r=new ab(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ub&&(r=new ub(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oR&&(r=new oR(this.logService,this.abilityService,this,this.gameService,e.parent,i,s,0,b(e.level))),e instanceof lR&&(r=new lR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cR&&(r=new cR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uR&&(r=new uR(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof hR&&(r=new hR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dR&&(r=new dR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof J_&&(r=new J_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XT&&(r=new XT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof e1&&(r=new e1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof t1&&(r=new t1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof i1&&(r=new i1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof n1&&(r=new n1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof s1&&(r=new s1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof r1&&(r=new r1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof a1&&(r=new a1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof o1&&(r=new o1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof l1&&(r=new l1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof c1&&(r=new c1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof u1&&(r=new u1(this.logService,this.abilityService,this,this.gameService,e.parent,i,s,0,b(e.level))),e instanceof Gp&&(r=new Gp(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof h1&&(r=new h1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof d1&&(r=new d1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sA&&(r=new sA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof f1&&(r=new f1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof p1&&(r=new p1(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof g1&&(r=new g1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof m1&&(r=new m1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof NM&&(r=new NM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LM&&(r=new LM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BM&&(r=new BM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $M&&(r=new $M(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof VM&&(r=new VM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FM&&(r=new FM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof HM&&(r=new HM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qM&&(r=new qM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof UM&&(r=new UM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof GM&&(r=new GM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jM&&(r=new jM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof WM&&(r=new WM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zM&&(r=new zM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KM&&(r=new KM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QM&&(r=new QM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YM&&(r=new YM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof JM&&(r=new JM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof ZM&&(r=new ZM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XM&&(r=new XM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eR&&(r=new eR(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof tR&&(r=new tR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iR&&(r=new iR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof F_&&(r=new F_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof H_&&(r=new H_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof G_&&(r=new G_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nR&&(r=new nR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sR&&(r=new sR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rR&&(r=new rR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lV&&(r=new lV(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof v1&&(r=new v1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aR&&(r=new aR(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof E1&&(r=new E1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof C1&&(r=new C1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof P1&&(r=new P1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof A1&&(r=new A1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof D1&&(r=new D1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof T1&&(r=new T1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof x1&&(r=new x1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof M1&&(r=new M1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof R1&&(r=new R1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof I1&&(r=new I1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof O1&&(r=new O1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof k1&&(r=new k1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof N1&&(r=new N1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof L1&&(r=new L1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof B1&&(r=new B1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $1&&(r=new $1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof V1&&(r=new V1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof H1&&(r=new H1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof q1&&(r=new q1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof U1&&(r=new U1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof G1&&(r=new G1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof F1&&(r=new F1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof j1&&(r=new j1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof W1&&(r=new W1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof z1&&(r=new z1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof K1&&(r=new K1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Q1&&(r=new Q1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Y1&&(r=new Y1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof J1&&(r=new J1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Z1&&(r=new Z1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof X1&&(r=new X1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ex&&(r=new ex(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tx&&(r=new tx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ix&&(r=new ix(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nx&&(r=new nx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sx&&(r=new sx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rx&&(r=new rx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ax&&(r=new ax(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ox&&(r=new ox(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lx&&(r=new lx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cx&&(r=new cx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ux&&(r=new ux(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof hx&&(r=new hx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dx&&(r=new dx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fx&&(r=new fx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof j_&&(r=new j_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gx&&(r=new gx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mx&&(r=new mx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vx&&(r=new vx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yx&&(r=new yx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _x&&(r=new _x(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bx&&(r=new bx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof px&&(r=new px(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Sx&&(r=new Sx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wx&&(r=new wx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Ex&&(r=new Ex(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kx&&(r=new kx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Cx&&(r=new Cx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Px&&(r=new Px(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Ax&&(r=new Ax(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Dx&&(r=new Dx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Tx&&(r=new Tx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xx&&(r=new xx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Mx&&(r=new Mx(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof Rx&&(r=new Rx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Ix&&(r=new Ix(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Ox&&(r=new Ox(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Vx&&(r=new Vx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hb&&(r=new hb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Nx&&(r=new Nx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Lx&&(r=new Lx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Bx&&(r=new Bx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $x&&(r=new $x(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Fx&&(r=new Fx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Hx&&(r=new Hx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qx&&(r=new qx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Ux&&(r=new Ux(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Gx&&(r=new Gx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jx&&(r=new jx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Wx&&(r=new Wx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Kx&&(r=new Kx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Qx&&(r=new Qx(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof zx&&(r=new zx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sM&&(r=new sM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rM&&(r=new rM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Yx&&(r=new Yx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Jx&&(r=new Jx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Zx&&(r=new Zx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eM&&(r=new eM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tM&&(r=new tM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Xx&&(r=new Xx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iM&&(r=new iM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof nM&&(r=new nM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aM&&(r=new aM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oM&&(r=new oM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof gM&&(r=new gM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lM&&(r=new lM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uM&&(r=new uM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof cM&&(r=new cM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hM&&(r=new hM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dM&&(r=new dM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pM&&(r=new pM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fM&&(r=new fM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mM&&(r=new mM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vM&&(r=new vM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yM&&(r=new yM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _M&&(r=new _M(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bM&&(r=new bM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof SM&&(r=new SM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wM&&(r=new wM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof EM&&(r=new EM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CM&&(r=new CM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kM&&(r=new kM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PM&&(r=new PM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AM&&(r=new AM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof DM&&(r=new DM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof TM&&(r=new TM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Eh&&(r=new Eh(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof xM&&(r=new xM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MM&&(r=new MM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof RM&&(r=new RM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof IM&&(r=new IM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof OM&&(r=new OM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),r}getRandomPet(e){let s,i=Yn(1,6);s="Turtle"==e.pack?this.turtlePackPets.get(i):"Puppy"==e.pack?this.puppyPackPets.get(i):"Star"==e.pack?this.starPackPets.get(i):"Golden"==e.pack?this.goldenPackPets.get(i):"Unicorn"==e.pack?this.unicornPackPets.get(i):"Danger"==e.pack?this.dangerPackPets.get(i):this.playerCustomPackPets.get(e.pack).get(i);let a=s[Yn(0,s.length-1)];return this.createPet({attack:null,equipment:null,exp:Yn(0,5),health:null,name:a,mana:null},e)}getRandomFaintPet(e,i){let s={1:["Ant","Cricket","Groundhog","Pied Tamarin"],2:["Rat","Hedgehog","Flamingo","Spider","Stork","Beluga Sturgeon","Squid","Black Necked Stilt","Frost Wolf","Mothman","Gargoyle","Bigfoot","Nightcrawler"],3:["Badger","Sheep","Anteater","Hoopoe Bird","Mole","Pangolin","Blobfish","Flea","Weasel","Osprey","Bear","Betta Fish","Skeleton Dog","Fur-Bearing Trout","Calygreyhound","Slime"],4:["Turtle","Deer","Microbe","Tahr","Chameleon","Cuttlefish","Vaquita","Slug","Chimera","Visitor"],5:["Rooster","Eagle","Fire Ant","Stonefish","Nyala","Nurse Shark","Wolf","Nessie","Pixiu","Kappa"],6:["Mammoth","Snapping Turtle","Lionfish","Warthog","Walrus","Phoenix","Sea Serpent","Hydra"]},r=[];r=i&&s[i]?s[i]:[].concat(...Object.values(s));let a=r[Yn(0,r.length-1)];return this.createPet({name:a,attack:null,equipment:null,exp:0,health:null,mana:null},e)}}return n.\u0275fac=function(e){return new(e||n)(q(q_),q(U_),q(Sh))},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function b(n){return 1==n?0:2==n?2:5}function pK(n,t){if(1&n){const e=qr();p(0,"span",22),We("click",function(){return Lt(e),ze().setExp(0)}),w(1,"x"),g()}}function gK(n,t){if(1&n&&(p(0,"option",9),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e),F(1),Ni(e)}}function mK(n,t){if(1&n&&(p(0,"option",25),w(1),g()),2&n){const e=t.$implicit,i=ze(2);z("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),F(1),Ni(e)}}function vK(n,t){if(1&n&&(p(0,"optgroup",23),Re(1,mK,2,4,"option",24),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),F(1),z("ngForOf",e.value)}}function yK(n,t){if(1&n){const e=qr();p(0,"button",26),We("click",function(){return Lt(e),ze().toggleFlyOut()}),w(1,">"),g()}}function _K(n,t){if(1&n&&(p(0,"option",25),w(1),g()),2&n){const e=t.$implicit,i=ze(4);z("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),F(1),Ni(e)}}function bK(n,t){if(1&n&&(p(0,"optgroup",23),Re(1,_K,2,4,"option",24),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),F(1),z("ngForOf",e.value)}}function SK(n,t){if(1&n&&(p(0,"div"),p(1,"label",29),w(2,"Swallowed Pet"),g(),p(3,"select",30),p(4,"option",9),w(5,"None"),g(),Re(6,bK,2,2,"optgroup",12),Io(7,"keyvalue"),g(),g()),2&n){const e=ze(2);F(4),z("ngValue",null),F(2),z("ngForOf",Oo(7,2,e.pets))}}function wK(n,t){if(1&n&&(p(0,"option",25),w(1),g()),2&n){const e=t.$implicit,i=ze(5);z("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),F(1),Ni(e)}}function EK(n,t){if(1&n&&(p(0,"optgroup",23),Re(1,wK,2,4,"option",24),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),F(1),z("ngForOf",e.value)}}function kK(n,t){if(1&n&&(p(0,"div"),p(1,"label",32),w(2,"Swallowed Pet"),g(),p(3,"select",33),p(4,"option",9),w(5,"None"),g(),Re(6,EK,2,2,"optgroup",12),Io(7,"keyvalue"),g(),g()),2&n){const e=t.index,i=ze(3);F(1),ep("for","abominationSwallowedPet",e+1,""),F(2),ep("formControlName","abominationSwallowedPet",e+1,""),F(1),z("ngValue",null),F(2),z("ngForOf",Oo(7,4,i.startOfBattlePets))}}const CK=function(){return[]};function PK(n,t){if(1&n&&(p(0,"div"),Re(1,kK,8,6,"div",31),g()),2&n){const e=ze(2);F(1),z("ngForOf",function(n,t,e){const i=Gi()+n,s=K();return s[i]===be?Hr(s,i,e?t.call(e):t()):function(n,t){return n[t]}(s,i)}(1,CK).constructor(e.pet.level))}}function AK(n,t){1&n&&(p(0,"div"),p(1,"label",34),w(2,"Battles Fought"),g(),ie(3,"input",35),g())}function DK(n,t){1&n&&(p(0,"div"),p(1,"label",36),w(2,"Times Hurt"),g(),ie(3,"input",37),g())}function TK(n,t){1&n&&(p(0,"div"),p(1,"label",38),w(2,"Times Hurt"),g(),ie(3,"input",39),g())}function xK(n,t){if(1&n&&(p(0,"div",27),Re(1,SK,8,4,"div",28),Re(2,PK,2,2,"div",28),Re(3,AK,4,0,"div",28),Re(4,DK,4,0,"div",28),Re(5,TK,4,0,"div",28),g()),2&n){const e=ze();F(1),z("ngIf","Beluga Whale"==e.pet.name),F(1),z("ngIf","Abomination"==e.pet.name),F(1),z("ngIf","Slime"==e.pet.name),F(1),z("ngIf","Sabertooth Tiger"==e.pet.name),F(1),z("ngIf","Tuna"==e.pet.name)}}function MK(n,t){if(1&n&&(p(0,"option",9),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e.value),F(1),Ni(e.key)}}function RK(n,t){if(1&n&&(p(0,"option",9),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e.value),F(1),Ni(e.key)}}function IK(n,t){if(1&n&&(p(0,"optgroup",40),Re(1,RK,2,2,"option",11),Io(2,"keyvalue"),g()),2&n){const e=ze();F(1),z("ngForOf",Oo(2,1,e.ailmentEquipment))}}function OK(n,t){1&n&&(p(0,"div",41),ie(1,"input",42),g())}let cV=(()=>{class n{constructor(e,i){this.petService=e,this.equipmentService=i,this.showFlyOut=!1,this.attackHealthMax=50,this.showTokenPets=!1,this.tokenPets=["Bee","Bus","Chick","Dirty Rat","Lizard Tail","Ram","Smaller Slug","Smallest Slug","Zombie Cricket","Zombie Fly","Chim-Goat","Chim-Lion","Chim-Snake","Daycrawler","Head","Monty","Nessie?","Smaller Slime","Young Phoenix","Good Dog"]}ngOnInit(){var e;this.initSelector(),this.fixLoadEquipment(),"Behemoth"==(null===(e=this.pet)||void 0===e?void 0:e.name)&&(this.attackHealthMax=100)}initSelector(){this.initPets(),this.initEquipment(),this.initForm()}initPets(){this.pets=new Map;for(let e=1;e<=6;e++)this.pets.set(e,[]);for(let[e,i]of this.petService.turtlePackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.puppyPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.starPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.goldenPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.unicornPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.dangerPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.customPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.pets)this.pets.set(e,[...new Set(i)]);this.initStartOfBattlePets(),console.log("pets",this.pets)}initStartOfBattlePets(){this.startOfBattlePets=new Map;for(let e=1;e<=6;e++){let i=[];for(let s of this.pets.get(e))this.petService.startOfBattlePets.includes(s)&&i.push(s);this.startOfBattlePets.set(e,i)}}getPack(e){let i;if("Turtle"==e.pack)i=this.petService.turtlePackPets;else if("Puppy"==e.pack)i=this.petService.puppyPackPets;else if("Star"==e.pack)i=this.petService.starPackPets;else if("Golden"==e.pack)i=this.petService.goldenPackPets;else if("Unicorn"==e.pack)i=this.petService.unicornPackPets;else if("Danger"==e.pack)i=this.petService.dangerPackPets;else try{i=this.buildCustomPack(e.pack)}catch(s){i=this.petService.turtlePackPets}return(0,yt.cloneDeep)(i)}buildCustomPack(e){let i;for(let r of this.customPacks.controls)if(r.get("name").value==e){i=r;break}let s=new Map;for(let r=1;r<=6;r++)s.set(r,i.get(`tier${r}Pets`).value);return s}initEquipment(){this.equipment=this.equipmentService.getInstanceOfAllEquipment(),this.ailmentEquipment=this.equipmentService.getInstanceOfAllAilments()}initForm(){this.formGroup.get("name").valueChanges.subscribe(e=>{null!=e?this.substitutePet(!0):this.removePet()}),this.formGroup.get("attack").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("health").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("exp").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("equipment").valueChanges.subscribe(e=>{if(null!=e&&null==e.reset){let i=this.equipment.get(e.name);null==i&&(i=this.ailmentEquipment.get(e.name)),this.formGroup.get("equipment").setValue(i,{emitEvent:!1})}this.substitutePet(!1)}),this.formGroup.get("belugaSwallowedPet").valueChanges.subscribe(e=>{this.setBelugaSwallow(e)}),this.formGroup.get("abominationSwallowedPet1").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("abominationSwallowedPet2").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("abominationSwallowedPet3").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("mana").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("battlesFought").valueChanges.subscribe(e=>{this.setBattlesFought(e)}),this.formGroup.get("sabertoothTimesHurt").valueChanges.subscribe(e=>{this.setSabertoothTimesHurt(e)}),this.formGroup.get("tunaTimesHurt").valueChanges.subscribe(e=>{this.setTunaTimesHurt(e)})}setExp(e){this.formGroup.get("exp").setValue(e)}getIsSelected(e){return this.formGroup.get("exp").value>=e}showRemoveExp(){return this.formGroup.get("exp").value>0}substitutePet(e=!1){setTimeout(()=>{var i;let s=this.formGroup.value;e&&(s.attack=null,s.health=null,s.mana=null);let r=s.equipment;null!=r&&(s.equipment=null!==(i=this.equipment.get(r.name))&&void 0!==i?i:this.ailmentEquipment.get(r.name));let a=this.petService.createPet(s,this.player);this.player.setPet(this.index,a,!0),e&&(this.formGroup.get("attack").setValue(a.attack,{emitEvent:!1}),this.formGroup.get("health").setValue(a.health,{emitEvent:!1}),this.formGroup.get("mana").setValue(a.mana,{emitEvent:!1})),this.attackHealthMax="Behemoth"==this.formGroup.get("name").value?100:50})}setBelugaSwallow(e){let i=this.player.getPet(this.index);null!=i&&(i.belugaSwallowedPet=e)}setSwallowedPets(e){let i=this.player.getPet(this.index);if(null==i)return;let s=[];null!=this.formGroup.get("abominationSwallowedPet1").value&&s.push(this.formGroup.get("abominationSwallowedPet1").value),null!=this.formGroup.get("abominationSwallowedPet2").value&&s.push(this.formGroup.get("abominationSwallowedPet2").value),null!=this.formGroup.get("abominationSwallowedPet3").value&&s.push(this.formGroup.get("abominationSwallowedPet3").value),console.log(s),i.abominationSwallowedPet1=s[0],i.abominationSwallowedPet2=s[1],i.abominationSwallowedPet3=s[2]}setBattlesFought(e){let i=this.player.getPet(this.index);null!=i&&(i.battlesFought=e)}setSabertoothTimesHurt(e){let i=this.player.getPet(this.index);null!=i&&(i.timesHurt=e)}setTunaTimesHurt(e){let i=this.player.getPet(this.index);null!=i&&(i.timesHurt=e)}showFlyOutButton(){return["Beluga Whale","Abomination","Slime","Sabertooth Tiger","Tuna"].includes(this.formGroup.get("name").value)}toggleFlyOut(){this.showFlyOut=!this.showFlyOut}removePet(){this.player.setPet(this.index,null,!0),this.formGroup.get("name").setValue(null,{emitEvent:!1}),this.formGroup.get("attack").setValue(0,{emitEvent:!1}),this.formGroup.get("health").setValue(0,{emitEvent:!1}),this.formGroup.get("exp").setValue(0,{emitEvent:!1}),this.formGroup.get("equipment").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(0,{emitEvent:!1})}optionHidden(e){var i;if(this.allPets)return!1;let s=this.getPack(this.player);for(let[r,a]of s)if(a.includes(e))return!1;if(this.angler){let r=this.getPack(this.opponent);for(let[a,o]of r)if(o.includes(e))return!1}return(null===(i=this.player.getPet(this.index))||void 0===i?void 0:i.name)!=e}fixLoadEquipment(){let e=this.formGroup.get("equipment").value;if(null==e)return;let i=this.equipment.get(e.name);null==i&&(i=this.ailmentEquipment.get(e.name)),this.formGroup.get("equipment").setValue(i)}}return n.\u0275fac=function(e){return new(e||n)($(pb),$(dn))},n.\u0275cmp=Bn({type:n,selectors:[["app-pet-selector"]],inputs:{pet:"pet",player:"player",opponent:"opponent",index:"index",angler:"angler",ailments:"ailments",allPets:"allPets",mana:"mana",formGroup:"formGroup",customPacks:"customPacks",showTokenPets:"showTokenPets"},decls:40,vars:28,consts:[[1,"card","p-3"],[1,"row","form-group",3,"formGroup"],[1,"col-12","d-flex","level-bar-numbers","mb-1"],[1,"level-3"],[1,"col-12","d-flex","level-bar","mb-2"],["class","remove-exp",3,"click",4,"ngIf"],[3,"click"],[1,"col-12","mb-2","d-flex"],["formControlName","name",1,"form-control"],[3,"ngValue"],["label","Token Pets",3,"hidden"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"label",4,"ngFor","ngForOf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","fly-out border p-3",4,"ngIf"],[1,"col-12","mb-2"],["formControlName","equipment",1,"form-control"],["label","Ailments",4,"ngIf"],["class","col-12 d-flex justify-content-center",4,"ngIf"],[1,"col-6"],["formControlName","attack","type","number","min","1",1,"form-control","select-attack",3,"max"],["formControlName","health","type","number","min","1",1,"form-control","select-health",3,"max"],[1,"remove-exp",3,"click"],[3,"label"],[3,"ngValue","hidden","disabled",4,"ngFor","ngForOf"],[3,"ngValue","hidden","disabled"],[1,"btn","btn-secondary",3,"click"],[1,"fly-out","border","p-3"],[4,"ngIf"],["for","belugaSwallowedPet"],["formControlName","belugaSwallowedPet",1,"form-control"],[4,"ngFor","ngForOf"],[3,"for"],[1,"form-control",3,"formControlName"],["for","battlesFought"],["formControlName","battlesFought","type","number","max","99",1,"form-control"],["for","sabertoothTimesHurt"],["formControlName","sabertoothTimesHurt","type","number","min","0","max","99",1,"form-control"],["for","tunaTimesHurt"],["formControlName","tunaTimesHurt","type","number","min","0","max","99",1,"form-control"],["label","Ailments"],[1,"col-12","d-flex","justify-content-center"],["formControlName","mana","type","number","min","0","max","100",1,"form-control","select-mana"]],template:function(e,i){1&e&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"span"),w(4,"1"),g(),ie(5,"span"),p(6,"span"),w(7,"2"),g(),ie(8,"span"),p(9,"span",3),w(10,"3"),g(),g(),p(11,"div",4),Re(12,pK,2,0,"span",5),p(13,"span",6),We("click",function(){return i.setExp(1)}),g(),p(14,"span",6),We("click",function(){return i.setExp(2)}),g(),p(15,"span",6),We("click",function(){return i.setExp(3)}),g(),p(16,"span",6),We("click",function(){return i.setExp(4)}),g(),p(17,"span",6),We("click",function(){return i.setExp(5)}),g(),g(),p(18,"div",7),p(19,"select",8),p(20,"option",9),w(21,"None"),g(),p(22,"optgroup",10),Re(23,gK,2,2,"option",11),g(),Re(24,vK,2,2,"optgroup",12),Io(25,"keyvalue"),g(),Re(26,yK,2,0,"button",13),Re(27,xK,6,5,"div",14),g(),p(28,"div",15),p(29,"select",16),p(30,"option",9),w(31,"None"),g(),Re(32,MK,2,2,"option",11),Io(33,"keyvalue"),Re(34,IK,3,3,"optgroup",17),g(),g(),Re(35,OK,2,0,"div",18),p(36,"div",19),ie(37,"input",20),g(),p(38,"div",19),ie(39,"input",21),g(),g(),g()),2&e&&(F(1),z("formGroup",i.formGroup),F(11),z("ngIf",i.showRemoveExp()),F(1),Os(i.getIsSelected(1)?"selected":""),F(1),Os(i.getIsSelected(2)?"selected":""),F(1),Os(i.getIsSelected(3)?"selected":""),F(1),Os(i.getIsSelected(4)?"selected":""),F(1),Os(i.getIsSelected(5)?"selected":""),F(3),z("ngValue",null),F(2),z("hidden",!i.showTokenPets),F(1),z("ngForOf",i.tokenPets),F(1),z("ngForOf",Oo(25,24,i.pets)),F(2),z("ngIf",i.showFlyOutButton()),F(1),z("ngIf",i.showFlyOut),F(3),z("ngValue",null),F(2),z("ngForOf",Oo(33,26,i.equipment)),F(2),z("ngIf",i.ailments),F(1),z("ngIf",i.mana),F(2),z("max",i.attackHealthMax),F(2),z("max",i.attackHealthMax))},directives:[hc,qa,ph,Lp,uc,qo,fC,gC,Dp,Ha,h_,mC,d_],pipes:[Nk],styles:[".select-attack[_ngcontent-%COMP%]{background-color:gray;color:#fff}.select-health[_ngcontent-%COMP%]{background-color:#ca0202;color:#fff}.select-mana[_ngcontent-%COMP%]{background-color:#7388f8;color:#fff;width:45%}.select-attack[_ngcontent-%COMP%], .select-health[_ngcontent-%COMP%], .select-mana[_ngcontent-%COMP%]{font-size:1.5em;padding-right:0}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% / 5);height:100%}.level-bar[_ngcontent-%COMP%]{position:relative}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:initial;border-radius:initial;width:initial;position:absolute;left:0;bottom:.33em}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.level-3[_ngcontent-%COMP%]{text-align:right}.fly-out[_ngcontent-%COMP%]{position:absolute;left:100%;background-color:#fff;width:100%;z-index:1;box-shadow:12px 4px 9px 7px #0000001a}"]}),n})();var In="top",ds="bottom",fs="right",On="left",gb="auto",kh=[In,ds,fs,On],pc="start",Ch="end",uV="clippingParents",fR="viewport",Ph="popper",hV="reference",pR=kh.reduce(function(n,t){return n.concat([t+"-"+pc,t+"-"+Ch])},[]),gR=[].concat(kh,[gb]).reduce(function(n,t){return n.concat([t,t+"-"+pc,t+"-"+Ch])},[]),dV="beforeRead",fV="read",pV="afterRead",gV="beforeMain",mV="main",vV="afterMain",yV="beforeWrite",_V="write",bV="afterWrite",SV=[dV,fV,pV,gV,mV,vV,yV,_V,bV];function zr(n){return n?(n.nodeName||"").toLowerCase():null}function ps(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function gc(n){return n instanceof ps(n).Element||n instanceof Element}function Hs(n){return n instanceof ps(n).HTMLElement||n instanceof HTMLElement}function mR(n){return"undefined"!=typeof ShadowRoot&&(n instanceof ps(n).ShadowRoot||n instanceof ShadowRoot)}const vR={name:"applyStyles",enabled:!0,phase:"write",fn:function(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},s=t.attributes[e]||{},r=t.elements[e];!Hs(r)||!zr(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(a){var o=s[a];!1===o?r.removeAttribute(a):r.setAttribute(a,!0===o?"":o)}))})},effect:function(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var s=t.elements[i],r=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]).reduce(function(l,h){return l[h]="",l},{});!Hs(s)||!zr(s)||(Object.assign(s.style,o),Object.keys(r).forEach(function(l){s.removeAttribute(l)}))})}},requires:["computeStyles"]};function Kr(n){return n.split("-")[0]}var mc=Math.max,mb=Math.min,Ah=Math.round;function yR(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function wV(){return!/^((?!chrome|android).)*safari/i.test(yR())}function Dh(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=n.getBoundingClientRect(),s=1,r=1;t&&Hs(n)&&(s=n.offsetWidth>0&&Ah(i.width)/n.offsetWidth||1,r=n.offsetHeight>0&&Ah(i.height)/n.offsetHeight||1);var o=(gc(n)?ps(n):window).visualViewport,l=!wV()&&e,h=(i.left+(l&&o?o.offsetLeft:0))/s,d=(i.top+(l&&o?o.offsetTop:0))/r,m=i.width/s,y=i.height/r;return{width:m,height:y,top:d,right:h+m,bottom:d+y,left:h,x:h,y:d}}function _R(n){var t=Dh(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function EV(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&mR(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ja(n){return ps(n).getComputedStyle(n)}function BK(n){return["table","td","th"].indexOf(zr(n))>=0}function Uo(n){return((gc(n)?n.ownerDocument:n.document)||window.document).documentElement}function vb(n){return"html"===zr(n)?n:n.assignedSlot||n.parentNode||(mR(n)?n.host:null)||Uo(n)}function kV(n){return Hs(n)&&"fixed"!==ja(n).position?n.offsetParent:null}function Wp(n){for(var t=ps(n),e=kV(n);e&&BK(e)&&"static"===ja(e).position;)e=kV(e);return e&&("html"===zr(e)||"body"===zr(e)&&"static"===ja(e).position)?t:e||function(n){var t=/firefox/i.test(yR());if(/Trident/i.test(yR())&&Hs(n)&&"fixed"===ja(n).position)return null;var s=vb(n);for(mR(s)&&(s=s.host);Hs(s)&&["html","body"].indexOf(zr(s))<0;){var r=ja(s);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return s;s=s.parentNode}return null}(n)||t}function bR(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function zp(n,t,e){return mc(n,mb(t,e))}function PV(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function AV(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}const DV={name:"arrow",enabled:!0,phase:"main",fn:function(n){var t,e=n.state,i=n.name,s=n.options,r=e.elements.arrow,a=e.modifiersData.popperOffsets,o=Kr(e.placement),l=bR(o),d=[On,fs].indexOf(o)>=0?"height":"width";if(r&&a){var m=function(t,e){return PV("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:AV(t,kh))}(s.padding,e),y=_R(r),S="y"===l?In:On,k="y"===l?ds:fs,T=e.rects.reference[d]+e.rects.reference[l]-a[l]-e.rects.popper[d],P=a[l]-e.rects.reference[l],N=Wp(r),I=N?"y"===l?N.clientHeight||0:N.clientWidth||0:0,Q=I/2-y[d]/2+(T/2-P/2),ae=zp(m[S],Q,I-y[d]-m[k]);e.modifiersData[i]=((t={})[l]=ae,t.centerOffset=ae-Q,t)}},effect:function(n){var t=n.state,i=n.options.element,s=void 0===i?"[data-popper-arrow]":i;null!=s&&("string"==typeof s&&!(s=t.elements.popper.querySelector(s))||!EV(t.elements.popper,s)||(t.elements.arrow=s))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Th(n){return n.split("-")[1]}var UK={top:"auto",right:"auto",bottom:"auto",left:"auto"};function TV(n){var t,e=n.popper,i=n.popperRect,s=n.placement,r=n.variation,a=n.offsets,o=n.position,l=n.gpuAcceleration,h=n.adaptive,d=n.roundOffsets,m=n.isFixed,y=a.x,S=void 0===y?0:y,k=a.y,T=void 0===k?0:k,P="function"==typeof d?d({x:S,y:T}):{x:S,y:T};S=P.x,T=P.y;var N=a.hasOwnProperty("x"),I=a.hasOwnProperty("y"),H=On,O=In,G=window;if(h){var Q=Wp(e),ae="clientHeight",ce="clientWidth";Q===ps(e)&&"static"!==ja(Q=Uo(e)).position&&"absolute"===o&&(ae="scrollHeight",ce="scrollWidth"),(s===In||(s===On||s===fs)&&r===Ch)&&(O=ds,T-=(m&&Q===G&&G.visualViewport?G.visualViewport.height:Q[ae])-i.height,T*=l?1:-1),s!==On&&(s!==In&&s!==ds||r!==Ch)||(H=fs,S-=(m&&Q===G&&G.visualViewport?G.visualViewport.width:Q[ce])-i.width,S*=l?1:-1)}var Ze,Be=Object.assign({position:o},h&&UK),qe=!0===d?function(n,t){var i=n.y,s=t.devicePixelRatio||1;return{x:Ah(n.x*s)/s||0,y:Ah(i*s)/s||0}}({x:S,y:T},ps(e)):{x:S,y:T};return S=qe.x,T=qe.y,Object.assign({},Be,l?((Ze={})[O]=I?"0":"",Ze[H]=N?"0":"",Ze.transform=(G.devicePixelRatio||1)<=1?"translate("+S+"px, "+T+"px)":"translate3d("+S+"px, "+T+"px, 0)",Ze):((t={})[O]=I?T+"px":"",t[H]=N?S+"px":"",t.transform="",t))}const SR={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(n){var t=n.state,e=n.options,i=e.gpuAcceleration,s=void 0===i||i,r=e.adaptive,a=void 0===r||r,o=e.roundOffsets,l=void 0===o||o,h={placement:Kr(t.placement),variation:Th(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,TV(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,TV(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var yb={passive:!0};const wR={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(n){var t=n.state,e=n.instance,i=n.options,s=i.scroll,r=void 0===s||s,a=i.resize,o=void 0===a||a,l=ps(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&h.forEach(function(d){d.addEventListener("scroll",e.update,yb)}),o&&l.addEventListener("resize",e.update,yb),function(){r&&h.forEach(function(d){d.removeEventListener("scroll",e.update,yb)}),o&&l.removeEventListener("resize",e.update,yb)}},data:{}};var zK={left:"right",right:"left",bottom:"top",top:"bottom"};function _b(n){return n.replace(/left|right|bottom|top/g,function(t){return zK[t]})}var KK={start:"end",end:"start"};function xV(n){return n.replace(/start|end/g,function(t){return KK[t]})}function ER(n){var t=ps(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function kR(n){return Dh(Uo(n)).left+ER(n).scrollLeft}function CR(n){var t=ja(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function MV(n){return["html","body","#document"].indexOf(zr(n))>=0?n.ownerDocument.body:Hs(n)&&CR(n)?n:MV(vb(n))}function Kp(n,t){var e;void 0===t&&(t=[]);var i=MV(n),s=i===(null==(e=n.ownerDocument)?void 0:e.body),r=ps(i),a=s?[r].concat(r.visualViewport||[],CR(i)?i:[]):i,o=t.concat(a);return s?o:o.concat(Kp(vb(a)))}function PR(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function RV(n,t,e){return t===fR?PR(function(n,t){var e=ps(n),i=Uo(n),s=e.visualViewport,r=i.clientWidth,a=i.clientHeight,o=0,l=0;if(s){r=s.width,a=s.height;var h=wV();(h||!h&&"fixed"===t)&&(o=s.offsetLeft,l=s.offsetTop)}return{width:r,height:a,x:o+kR(n),y:l}}(n,e)):gc(t)?function(n,t){var e=Dh(n,!1,"fixed"===t);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(t,e):PR(function(n){var t,e=Uo(n),i=ER(n),s=null==(t=n.ownerDocument)?void 0:t.body,r=mc(e.scrollWidth,e.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=mc(e.scrollHeight,e.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),o=-i.scrollLeft+kR(n),l=-i.scrollTop;return"rtl"===ja(s||e).direction&&(o+=mc(e.clientWidth,s?s.clientWidth:0)-r),{width:r,height:a,x:o,y:l}}(Uo(n)))}function IV(n){var l,t=n.reference,e=n.element,i=n.placement,s=i?Kr(i):null,r=i?Th(i):null,a=t.x+t.width/2-e.width/2,o=t.y+t.height/2-e.height/2;switch(s){case In:l={x:a,y:t.y-e.height};break;case ds:l={x:a,y:t.y+t.height};break;case fs:l={x:t.x+t.width,y:o};break;case On:l={x:t.x-e.width,y:o};break;default:l={x:t.x,y:t.y}}var h=s?bR(s):null;if(null!=h){var d="y"===h?"height":"width";switch(r){case pc:l[h]=l[h]-(t[d]/2-e[d]/2);break;case Ch:l[h]=l[h]+(t[d]/2-e[d]/2)}}return l}function xh(n,t){void 0===t&&(t={});var i=t.placement,s=void 0===i?n.placement:i,r=t.strategy,a=void 0===r?n.strategy:r,o=t.boundary,l=void 0===o?uV:o,h=t.rootBoundary,d=void 0===h?fR:h,m=t.elementContext,y=void 0===m?Ph:m,S=t.altBoundary,k=void 0!==S&&S,T=t.padding,P=void 0===T?0:T,N=PV("number"!=typeof P?P:AV(P,kh)),H=n.rects.popper,O=n.elements[k?y===Ph?hV:Ph:y],G=function(n,t,e,i){var s="clippingParents"===t?function(n){var t=Kp(vb(n)),i=["absolute","fixed"].indexOf(ja(n).position)>=0&&Hs(n)?Wp(n):n;return gc(i)?t.filter(function(s){return gc(s)&&EV(s,i)&&"body"!==zr(s)}):[]}(n):[].concat(t),r=[].concat(s,[e]),o=r.reduce(function(l,h){var d=RV(n,h,i);return l.top=mc(d.top,l.top),l.right=mb(d.right,l.right),l.bottom=mb(d.bottom,l.bottom),l.left=mc(d.left,l.left),l},RV(n,r[0],i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}(gc(O)?O:O.contextElement||Uo(n.elements.popper),l,d,a),Q=Dh(n.elements.reference),ae=IV({reference:Q,element:H,strategy:"absolute",placement:s}),ce=PR(Object.assign({},H,ae)),ge=y===Ph?ce:Q,_e={top:G.top-ge.top+N.top,bottom:ge.bottom-G.bottom+N.bottom,left:G.left-ge.left+N.left,right:ge.right-G.right+N.right},Be=n.modifiersData.offset;if(y===Ph&&Be){var qe=Be[s];Object.keys(_e).forEach(function(Ze){var Wt=[fs,ds].indexOf(Ze)>=0?1:-1,zt=[In,ds].indexOf(Ze)>=0?"y":"x";_e[Ze]+=qe[zt]*Wt})}return _e}const OV={name:"flip",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var s=e.mainAxis,r=void 0===s||s,a=e.altAxis,o=void 0===a||a,l=e.fallbackPlacements,h=e.padding,d=e.boundary,m=e.rootBoundary,y=e.altBoundary,S=e.flipVariations,k=void 0===S||S,T=e.allowedAutoPlacements,P=t.options.placement,N=Kr(P),H=l||(N!==P&&k?function(n){if(Kr(n)===gb)return[];var t=_b(n);return[xV(n),t,xV(t)]}(P):[_b(P)]),O=[P].concat(H).reduce(function(ct,me){return ct.concat(Kr(me)===gb?function(n,t){void 0===t&&(t={});var s=t.boundary,r=t.rootBoundary,a=t.padding,o=t.flipVariations,l=t.allowedAutoPlacements,h=void 0===l?gR:l,d=Th(t.placement),m=d?o?pR:pR.filter(function(k){return Th(k)===d}):kh,y=m.filter(function(k){return h.indexOf(k)>=0});0===y.length&&(y=m);var S=y.reduce(function(k,T){return k[T]=xh(n,{placement:T,boundary:s,rootBoundary:r,padding:a})[Kr(T)],k},{});return Object.keys(S).sort(function(k,T){return S[k]-S[T]})}(t,{placement:me,boundary:d,rootBoundary:m,padding:h,flipVariations:k,allowedAutoPlacements:T}):me)},[]),G=t.rects.reference,Q=t.rects.popper,ae=new Map,ce=!0,ge=O[0],_e=0;_e<O.length;_e++){var Be=O[_e],qe=Kr(Be),Ze=Th(Be)===pc,Wt=[In,ds].indexOf(qe)>=0,zt=Wt?"width":"height",X=xh(t,{placement:Be,boundary:d,rootBoundary:m,altBoundary:y,padding:h}),se=Wt?Ze?fs:On:Ze?ds:In;G[zt]>Q[zt]&&(se=_b(se));var ve=_b(se),Me=[];if(r&&Me.push(X[qe]<=0),o&&Me.push(X[se]<=0,X[ve]<=0),Me.every(function(ct){return ct})){ge=Be,ce=!1;break}ae.set(Be,Me)}if(ce)for(var li=function(me){var Di=O.find(function(vs){var Nn=ae.get(vs);if(Nn)return Nn.slice(0,me).every(function(Zn){return Zn})});if(Di)return ge=Di,"break"},It=k?3:1;It>0&&"break"!==li(It);It--);t.placement!==ge&&(t.modifiersData[i]._skip=!0,t.placement=ge,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function NV(n,t,e){return void 0===e&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function LV(n){return[In,fs,ds,On].some(function(t){return n[t]>=0})}const BV={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(n){var t=n.state,e=n.name,i=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,a=xh(t,{elementContext:"reference"}),o=xh(t,{altBoundary:!0}),l=NV(a,i),h=NV(o,s,r),d=LV(l),m=LV(h);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:d,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":m})}},$V={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(n){var t=n.state,i=n.name,s=n.options.offset,r=void 0===s?[0,0]:s,a=gR.reduce(function(d,m){return d[m]=function(n,t,e){var i=Kr(n),s=[On,In].indexOf(i)>=0?-1:1,r="function"==typeof e?e(Object.assign({},t,{placement:n})):e,a=r[0],o=r[1];return a=a||0,o=(o||0)*s,[On,fs].indexOf(i)>=0?{x:o,y:a}:{x:a,y:o}}(m,t.rects,r),d},{}),o=a[t.placement],h=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=o.x,t.modifiersData.popperOffsets.y+=h),t.modifiersData[i]=a}},AR={name:"popperOffsets",enabled:!0,phase:"read",fn:function(n){var t=n.state;t.modifiersData[n.name]=IV({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},VV={name:"preventOverflow",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name,s=e.mainAxis,r=void 0===s||s,a=e.altAxis,o=void 0!==a&&a,y=e.tether,S=void 0===y||y,k=e.tetherOffset,T=void 0===k?0:k,P=xh(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),N=Kr(t.placement),I=Th(t.placement),H=!I,O=bR(N),G=function(n){return"x"===n?"y":"x"}(O),Q=t.modifiersData.popperOffsets,ae=t.rects.reference,ce=t.rects.popper,ge="function"==typeof T?T(Object.assign({},t.rects,{placement:t.placement})):T,_e="number"==typeof ge?{mainAxis:ge,altAxis:ge}:Object.assign({mainAxis:0,altAxis:0},ge),Be=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,qe={x:0,y:0};if(Q){if(r){var Ze,Wt="y"===O?In:On,zt="y"===O?ds:fs,X="y"===O?"height":"width",se=Q[O],ve=se+P[Wt],Me=se-P[zt],_t=S?-ce[X]/2:0,li=I===pc?ae[X]:ce[X],It=I===pc?-ce[X]:-ae[X],pi=t.elements.arrow,ct=S&&pi?_R(pi):{width:0,height:0},me=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Di=me[Wt],vs=me[zt],Nn=zp(0,ae[X],ct[X]),Zn=H?ae[X]/2-_t-Nn-Di-_e.mainAxis:li-Nn-Di-_e.mainAxis,tl=H?-ae[X]/2+_t+Nn+vs+_e.mainAxis:It+Nn+vs+_e.mainAxis,Wh=t.elements.arrow&&Wp(t.elements.arrow),pg=null!=(Ze=null==Be?void 0:Be[O])?Ze:0,gS=se+tl-pg,gg=zp(S?mb(ve,se+Zn-pg-(Wh?"y"===O?Wh.clientTop||0:Wh.clientLeft||0:0)):ve,se,S?mc(Me,gS):Me);Q[O]=gg,qe[O]=gg-se}if(o){var mg,Xr=Q[G],Tc="y"===G?"height":"width",vg=Xr+P["x"===O?In:On],yg=Xr-P["x"===O?ds:fs],zh=-1!==[In,On].indexOf(N),_g=null!=(mg=null==Be?void 0:Be[G])?mg:0,bg=zh?vg:Xr-ae[Tc]-ce[Tc]-_g+_e.altAxis,Sg=zh?Xr+ae[Tc]+ce[Tc]-_g-_e.altAxis:yg,wg=S&&zh?function(n,t,e){var i=zp(n,t,e);return i>e?e:i}(bg,Xr,Sg):zp(S?bg:vg,Xr,S?Sg:yg);Q[G]=wg,qe[G]=wg-Xr}t.modifiersData[i]=qe}},requiresIfExists:["offset"]};function dQ(n,t,e){void 0===e&&(e=!1);var i=Hs(t),s=Hs(t)&&function(n){var t=n.getBoundingClientRect(),e=Ah(t.width)/n.offsetWidth||1,i=Ah(t.height)/n.offsetHeight||1;return 1!==e||1!==i}(t),r=Uo(t),a=Dh(n,s,e),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!e)&&(("body"!==zr(t)||CR(r))&&(o=function(n){return n!==ps(n)&&Hs(n)?function(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):ER(n)}(t)),Hs(t)?((l=Dh(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=kR(r))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function fQ(n){var t=new Map,e=new Set,i=[];function s(r){e.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach(function(o){if(!e.has(o)){var l=t.get(o);l&&s(l)}}),i.push(r)}return n.forEach(function(r){t.set(r.name,r)}),n.forEach(function(r){e.has(r.name)||s(r)}),i}function gQ(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var FV={placement:"bottom",modifiers:[],strategy:"absolute"};function HV(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function bb(n){void 0===n&&(n={});var e=n.defaultModifiers,i=void 0===e?[]:e,s=n.defaultOptions,r=void 0===s?FV:s;return function(o,l,h){void 0===h&&(h=r);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},FV,r),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},m=[],y=!1,S={state:d,setOptions:function(N){var I="function"==typeof N?N(d.options):N;T(),d.options=Object.assign({},r,d.options,I),d.scrollParents={reference:gc(o)?Kp(o):o.contextElement?Kp(o.contextElement):[],popper:Kp(l)};var H=function(n){var t=fQ(n);return SV.reduce(function(e,i){return e.concat(t.filter(function(s){return s.phase===i}))},[])}(function(n){var t=n.reduce(function(e,i){var s=e[i.name];return e[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,d.options.modifiers)));return d.orderedModifiers=H.filter(function(O){return O.enabled}),d.orderedModifiers.forEach(function(P){var I=P.options,O=P.effect;if("function"==typeof O){var G=O({state:d,name:P.name,instance:S,options:void 0===I?{}:I});m.push(G||function(){})}}),S.update()},forceUpdate:function(){if(!y){var N=d.elements,I=N.reference,H=N.popper;if(HV(I,H)){d.rects={reference:dQ(I,Wp(H),"fixed"===d.options.strategy),popper:_R(H)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(_e){return d.modifiersData[_e.name]=Object.assign({},_e.data)});for(var O=0;O<d.orderedModifiers.length;O++)if(!0!==d.reset){var G=d.orderedModifiers[O],Q=G.fn,ae=G.options;"function"==typeof Q&&(d=Q({state:d,options:void 0===ae?{}:ae,name:G.name,instance:S})||d)}else d.reset=!1,O=-1}}},update:gQ(function(){return new Promise(function(P){S.forceUpdate(),P(d)})}),destroy:function(){T(),y=!0}};if(!HV(o,l))return S;function T(){m.forEach(function(P){return P()}),m=[]}return S.setOptions(h).then(function(P){!y&&h.onFirstUpdate&&h.onFirstUpdate(P)}),S}}var vQ=bb(),DR=bb({defaultModifiers:[wR,AR,SR,vR,$V,OV,VV,DV,BV]}),bQ=bb({defaultModifiers:[wR,AR,SR,vR]});const Go=new Map,TR={set(n,t,e){Go.has(n)||Go.set(n,new Map);const i=Go.get(n);i.has(t)||0===i.size?i.set(t,e):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(n,t)=>Go.has(n)&&Go.get(n).get(t)||null,remove(n,t){if(!Go.has(n))return;const e=Go.get(n);e.delete(t),0===e.size&&Go.delete(n)}},xR="transitionend",qV=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),n),EQ=n=>null==n?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),UV=n=>{n.dispatchEvent(new Event(xR))},Wa=n=>!(!n||"object"!=typeof n)&&(void 0!==n.jquery&&(n=n[0]),void 0!==n.nodeType),jo=n=>Wa(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(qV(n)):null,Mh=n=>{if(!Wa(n)||0===n.getClientRects().length)return!1;const t="visible"===getComputedStyle(n).getPropertyValue("visibility"),e=n.closest("details:not([open])");if(!e)return t;if(e!==n){const i=n.closest("summary");if(i&&i.parentNode!==e||null===i)return!1}return t},Wo=n=>!(n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("disabled"))||(void 0!==n.disabled?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),GV=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?GV(n.parentNode):null},Sb=()=>{},jV=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,MR=[],qs=()=>"rtl"===document.documentElement.dir,Us=n=>{(n=>{"loading"===document.readyState?(MR.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of MR)t()}),MR.push(n)):n()})(()=>{const t=jV();if(t){const e=n.NAME,i=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=i,n.jQueryInterface)}})},Jn=(n,t=[],e=n)=>"function"==typeof n?n(...t):e,WV=(n,t,e=!0)=>{if(!e)return void Jn(n);const s=(n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n);const i=Number.parseFloat(t),s=Number.parseFloat(e);return i||s?(t=t.split(",")[0],e=e.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(e))):0})(t)+5;let r=!1;const a=({target:o})=>{o===t&&(r=!0,t.removeEventListener(xR,a),Jn(n))};t.addEventListener(xR,a),setTimeout(()=>{r||UV(t)},s)},RR=(n,t,e,i)=>{const s=n.length;let r=n.indexOf(t);return-1===r?!e&&i?n[s-1]:n[0]:(r+=e?1:-1,i&&(r=(r+s)%s),n[Math.max(0,Math.min(r,s-1))])},AQ=/[^.]*(?=\..*)\.|.*/,DQ=/\..*/,TQ=/::\d+$/,IR={};let zV=1;const KV={mouseenter:"mouseover",mouseleave:"mouseout"},xQ=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function QV(n,t){return t&&`${t}::${zV++}`||n.uidEvent||zV++}function YV(n){const t=QV(n);return n.uidEvent=t,IR[t]=IR[t]||{},IR[t]}function JV(n,t,e=null){return Object.values(n).find(i=>i.callable===t&&i.delegationSelector===e)}function ZV(n,t,e){const i="string"==typeof t,s=i?e:t||e;let r=eF(n);return xQ.has(r)||(r=n),[i,s,r]}function XV(n,t,e,i,s){if("string"!=typeof t||!n)return;let[r,a,o]=ZV(t,e,i);var k;t in KV&&(k=a,a=function(T){if(!T.relatedTarget||T.relatedTarget!==T.delegateTarget&&!T.delegateTarget.contains(T.relatedTarget))return k.call(this,T)});const l=YV(n),h=l[o]||(l[o]={}),d=JV(h,a,r?e:null);if(d)return void(d.oneOff=d.oneOff&&s);const m=QV(a,t.replace(AQ,"")),y=r?function(n,t,e){return function i(s){const r=n.querySelectorAll(t);for(let{target:a}=s;a&&a!==this;a=a.parentNode)for(const o of r)if(o===a)return NR(s,{delegateTarget:a}),i.oneOff&&J.off(n,s.type,t,e),e.apply(a,[s])}}(n,e,a):function(n,t){return function e(i){return NR(i,{delegateTarget:n}),e.oneOff&&J.off(n,i.type,t),t.apply(n,[i])}}(n,a);y.delegationSelector=r?e:null,y.callable=a,y.oneOff=s,y.uidEvent=m,h[m]=y,n.addEventListener(o,y,r)}function OR(n,t,e,i,s){const r=JV(t[e],i,s);!r||(n.removeEventListener(e,r,Boolean(s)),delete t[e][r.uidEvent])}function IQ(n,t,e,i){const s=t[e]||{};for(const[r,a]of Object.entries(s))r.includes(i)&&OR(n,t,e,a.callable,a.delegationSelector)}function eF(n){return n=n.replace(DQ,""),KV[n]||n}const J={on(n,t,e,i){XV(n,t,e,i,!1)},one(n,t,e,i){XV(n,t,e,i,!0)},off(n,t,e,i){if("string"!=typeof t||!n)return;const[s,r,a]=ZV(t,e,i),o=a!==t,l=YV(n),h=l[a]||{},d=t.startsWith(".");if(void 0===r){if(d)for(const m of Object.keys(l))IQ(n,l,m,t.slice(1));for(const[m,y]of Object.entries(h)){const S=m.replace(TQ,"");(!o||t.includes(S))&&OR(n,l,a,y.callable,y.delegationSelector)}}else{if(!Object.keys(h).length)return;OR(n,l,a,r,s?e:null)}},trigger(n,t,e){if("string"!=typeof t||!n)return null;const i=jV();let a=null,o=!0,l=!0,h=!1;t!==eF(t)&&i&&(a=i.Event(t,e),i(n).trigger(a),o=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),h=a.isDefaultPrevented());const d=NR(new Event(t,{bubbles:o,cancelable:!0}),e);return h&&d.preventDefault(),l&&n.dispatchEvent(d),d.defaultPrevented&&a&&a.preventDefault(),d}};function NR(n,t={}){for(const[e,i]of Object.entries(t))try{n[e]=i}catch(s){Object.defineProperty(n,e,{configurable:!0,get:()=>i})}return n}function tF(n){if("true"===n)return!0;if("false"===n)return!1;if(n===Number(n).toString())return Number(n);if(""===n||"null"===n)return null;if("string"!=typeof n)return n;try{return JSON.parse(decodeURIComponent(n))}catch(t){return n}}function LR(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const za={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${LR(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${LR(t)}`)},getDataAttributes(n){if(!n)return{};const t={},e=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of e){let s=i.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),t[s]=tF(n.dataset[i])}return t},getDataAttribute:(n,t)=>tF(n.getAttribute(`data-bs-${LR(t)}`))};class Yp{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=Wa(e)?za.getDataAttribute(e,"config"):{};return fn(fn(fn(fn({},this.constructor.Default),"object"==typeof i?i:{}),Wa(e)?za.getDataAttributes(e):{}),"object"==typeof t?t:{})}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,s]of Object.entries(e)){const r=t[i],a=Wa(r)?"element":EQ(r);if(!new RegExp(s).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${a}" but expected type "${s}".`)}}}class Er extends Yp{constructor(t,e){super(),(t=jo(t))&&(this._element=t,this._config=this._getConfig(e),TR.set(this._element,this.constructor.DATA_KEY,this))}dispose(){TR.remove(this._element,this.constructor.DATA_KEY),J.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){WV(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return TR.get(jo(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.1"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const BR=n=>{let t=n.getAttribute("data-bs-target");if(!t||"#"===t){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&"#"!==e?e.trim():null}return qV(t)},Ce={find:(n,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,n)),findOne:(n,t=document.documentElement)=>Element.prototype.querySelector.call(t,n),children:(n,t)=>[].concat(...n.children).filter(e=>e.matches(t)),parents(n,t){const e=[];let i=n.parentNode.closest(t);for(;i;)e.push(i),i=i.parentNode.closest(t);return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(e=>!Wo(e)&&Mh(e))},getSelectorFromElement(n){const t=BR(n);return t&&Ce.findOne(t)?t:null},getElementFromSelector(n){const t=BR(n);return t?Ce.findOne(t):null},getMultipleElementsFromSelector(n){const t=BR(n);return t?Ce.find(t):[]}},wb=(n,t="hide")=>{const i=n.NAME;J.on(document,`click.dismiss${n.EVENT_KEY}`,`[data-bs-dismiss="${i}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),Wo(this))return;const r=Ce.getElementFromSelector(this)||this.closest(`.${i}`);n.getOrCreateInstance(r)[t]()})},iF=".bs.alert",LQ=`close${iF}`,BQ=`closed${iF}`;class Eb extends Er{static get NAME(){return"alert"}close(){if(J.trigger(this._element,LQ).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),J.trigger(this._element,BQ),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=Eb.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}wb(Eb,"close"),Us(Eb);const nF='[data-bs-toggle="button"]';class kb extends Er{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const e=kb.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}J.on(document,"click.bs.button.data-api",nF,n=>{n.preventDefault();const t=n.target.closest(nF);kb.getOrCreateInstance(t).toggle()}),Us(kb);const Rh=".bs.swipe",WQ=`touchstart${Rh}`,zQ=`touchmove${Rh}`,KQ=`touchend${Rh}`,QQ=`pointerdown${Rh}`,YQ=`pointerup${Rh}`,tY={endCallback:null,leftCallback:null,rightCallback:null},iY={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Cb extends Yp{constructor(t,e){super(),this._element=t,t&&Cb.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return tY}static get DefaultType(){return iY}static get NAME(){return"swipe"}dispose(){J.off(this._element,Rh)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Jn(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&Jn(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(J.on(this._element,QQ,t=>this._start(t)),J.on(this._element,YQ,t=>this._end(t)),this._element.classList.add("pointer-event")):(J.on(this._element,WQ,t=>this._start(t)),J.on(this._element,zQ,t=>this._move(t)),J.on(this._element,KQ,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const zo=".bs.carousel",sF=".data-api",Jp="next",Ih="prev",Oh="left",Pb="right",oY=`slide${zo}`,$R=`slid${zo}`,lY=`keydown${zo}`,cY=`mouseenter${zo}`,uY=`mouseleave${zo}`,hY=`dragstart${zo}`,dY=`load${zo}${sF}`,fY=`click${zo}${sF}`,rF="carousel",Ab="active",kY={ArrowLeft:Pb,ArrowRight:Oh},CY={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},PY={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Zp extends Er{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ce.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===rF&&this.cycle()}static get Default(){return CY}static get DefaultType(){return PY}static get NAME(){return"carousel"}next(){this._slide(Jp)}nextWhenVisible(){!document.hidden&&Mh(this._element)&&this.next()}prev(){this._slide(Ih)}pause(){this._isSliding&&UV(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void J.one(this._element,$R,()=>this.cycle());this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void J.one(this._element,$R,()=>this.to(t));const i=this._getItemIndex(this._getActive());i!==t&&this._slide(t>i?Jp:Ih,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&J.on(this._element,lY,t=>this._keydown(t)),"hover"===this._config.pause&&(J.on(this._element,cY,()=>this.pause()),J.on(this._element,uY,()=>this._maybeEnableCycle())),this._config.touch&&Cb.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of Ce.find(".carousel-item img",this._element))J.on(i,hY,s=>s.preventDefault());this._swipeHelper=new Cb(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Oh)),rightCallback:()=>this._slide(this._directionToOrder(Pb)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=kY[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=Ce.findOne(".active",this._indicatorsElement);e.classList.remove(Ab),e.removeAttribute("aria-current");const i=Ce.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(Ab),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),s=t===Jp,r=e||RR(this._getItems(),i,s,this._config.wrap);if(r===i)return;const a=this._getItemIndex(r),o=S=>J.trigger(this._element,S,{relatedTarget:r,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:a});if(o(oY).defaultPrevented||!i||!r)return;const h=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=r;const d=s?"carousel-item-start":"carousel-item-end",m=s?"carousel-item-next":"carousel-item-prev";r.classList.add(m),i.classList.add(d),r.classList.add(d),this._queueCallback(()=>{r.classList.remove(d,m),r.classList.add(Ab),i.classList.remove(Ab,m,d),this._isSliding=!1,o($R)},i,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Ce.findOne(".active.carousel-item",this._element)}_getItems(){return Ce.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return qs()?t===Oh?Ih:Jp:t===Oh?Jp:Ih}_orderToDirection(t){return qs()?t===Ih?Oh:Pb:t===Ih?Pb:Oh}static jQueryInterface(t){return this.each(function(){const e=Zp.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)})}}J.on(document,fY,"[data-bs-slide], [data-bs-slide-to]",function(n){const t=Ce.getElementFromSelector(this);if(!t||!t.classList.contains(rF))return;n.preventDefault();const e=Zp.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");return i?(e.to(i),void e._maybeEnableCycle()):"next"===za.getDataAttribute(this,"slide")?(e.next(),void e._maybeEnableCycle()):(e.prev(),void e._maybeEnableCycle())}),J.on(window,dY,()=>{const n=Ce.find('[data-bs-ride="carousel"]');for(const t of n)Zp.getOrCreateInstance(t)}),Us(Zp);const Xp=".bs.collapse",TY=`show${Xp}`,xY=`shown${Xp}`,MY=`hide${Xp}`,RY=`hidden${Xp}`,IY=`click${Xp}.data-api`,VR="show",Nh="collapse",Db="collapsing",NY=`:scope .${Nh} .${Nh}`,FR='[data-bs-toggle="collapse"]',FY={parent:null,toggle:!0},HY={parent:"(null|element)",toggle:"boolean"};class eg extends Er{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=Ce.find(FR);for(const s of i){const r=Ce.getSelectorFromElement(s),a=Ce.find(r).filter(o=>o===this._element);null!==r&&a.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return FY}static get DefaultType(){return HY}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(o=>o!==this._element).map(o=>eg.getOrCreateInstance(o,{toggle:!1}))),t.length&&t[0]._isTransitioning||J.trigger(this._element,TY).defaultPrevented)return;for(const o of t)o.hide();const i=this._getDimension();this._element.classList.remove(Nh),this._element.classList.add(Db),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const a=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Db),this._element.classList.add(Nh,VR),this._element.style[i]="",J.trigger(this._element,xY)},this._element,!0),this._element.style[i]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||J.trigger(this._element,MY).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,this._element.classList.add(Db),this._element.classList.remove(Nh,VR);for(const s of this._triggerArray){const r=Ce.getElementFromSelector(s);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Db),this._element.classList.add(Nh),J.trigger(this._element,RY)},this._element,!0)}_isShown(t=this._element){return t.classList.contains(VR)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=jo(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(FR);for(const e of t){const i=Ce.getElementFromSelector(e);i&&this._addAriaAndCollapsedClass([e],this._isShown(i))}}_getFirstLevelChildren(t){const e=Ce.find(NY,this._config.parent);return Ce.find(t,this._config.parent).filter(i=>!e.includes(i))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=eg.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}})}}J.on(document,IY,FR,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();for(const t of Ce.getMultipleElementsFromSelector(this))eg.getOrCreateInstance(t,{toggle:!1}).toggle()}),Us(eg);const lF="dropdown",vc=".bs.dropdown",HR=".data-api",UY="ArrowUp",uF="ArrowDown",jY=`hide${vc}`,WY=`hidden${vc}`,zY=`show${vc}`,KY=`shown${vc}`,hF=`click${vc}${HR}`,dF=`keydown${vc}${HR}`,QY=`keyup${vc}${HR}`,Lh="show",yc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',tJ=`${yc}.show`,Tb=".dropdown-menu",rJ=qs()?"top-end":"top-start",aJ=qs()?"top-start":"top-end",oJ=qs()?"bottom-end":"bottom-start",lJ=qs()?"bottom-start":"bottom-end",cJ=qs()?"left-start":"right-start",uJ=qs()?"right-start":"left-start",fJ={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},pJ={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Qr extends Er{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=Ce.next(this._element,Tb)[0]||Ce.prev(this._element,Tb)[0]||Ce.findOne(Tb,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return fJ}static get DefaultType(){return pJ}static get NAME(){return lF}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Wo(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!J.trigger(this._element,zY,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const i of[].concat(...document.body.children))J.on(i,"mouseover",Sb);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Lh),this._element.classList.add(Lh),J.trigger(this._element,KY,t)}}hide(){!Wo(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!J.trigger(this._element,jY,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))J.off(i,"mouseover",Sb);this._popper&&this._popper.destroy(),this._menu.classList.remove(Lh),this._element.classList.remove(Lh),this._element.setAttribute("aria-expanded","false"),za.removeDataAttribute(this._menu,"popper"),J.trigger(this._element,WY,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!Wa(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${lF.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===Xn)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:Wa(this._config.reference)?t=jo(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=DR(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Lh)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return cJ;if(t.classList.contains("dropstart"))return uJ;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?aJ:rJ:e?lJ:oJ}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(za.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),fn(fn({},t),Jn(this._config.popperConfig,[t]))}_selectMenuItem({key:t,target:e}){const i=Ce.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(s=>Mh(s));!i.length||RR(i,e,t===uF,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=Qr.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=Ce.find(tJ);for(const i of e){const s=Qr.getInstance(i);if(!s||!1===s._config.autoClose)continue;const r=t.composedPath(),a=r.includes(s._menu);if(r.includes(s._element)||"inside"===s._config.autoClose&&!a||"outside"===s._config.autoClose&&a||s._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:s._element};"click"===t.type&&(o.clickEvent=t),s._completeHide(o)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,s=[UY,uF].includes(t.key);if(!s&&!i||e&&!i)return;t.preventDefault();const r=this.matches(yc)?this:Ce.prev(this,yc)[0]||Ce.next(this,yc)[0]||Ce.findOne(yc,t.delegateTarget.parentNode),a=Qr.getOrCreateInstance(r);if(s)return t.stopPropagation(),a.show(),void a._selectMenuItem(t);a._isShown()&&(t.stopPropagation(),a.hide(),r.focus())}}J.on(document,dF,yc,Qr.dataApiKeydownHandler),J.on(document,dF,Tb,Qr.dataApiKeydownHandler),J.on(document,hF,Qr.clearMenus),J.on(document,QY,Qr.clearMenus),J.on(document,hF,yc,function(n){n.preventDefault(),Qr.getOrCreateInstance(this).toggle()}),Us(Qr);const fF="backdrop",gF=`mousedown.bs.${fF}`,mJ={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},vJ={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class mF extends Yp{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return mJ}static get DefaultType(){return vJ}static get NAME(){return fF}show(t){if(!this._config.isVisible)return void Jn(t);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Jn(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Jn(t)})):Jn(t)}dispose(){!this._isAppended||(J.off(this._element,gF),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=jo(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),J.on(t,gF,()=>{Jn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){WV(t,this._getElement(),this._config.isAnimated)}}const xb=".bs.focustrap",_J=`focusin${xb}`,bJ=`keydown.tab${xb}`,vF="backward",EJ={autofocus:!0,trapElement:null},kJ={autofocus:"boolean",trapElement:"element"};class yF extends Yp{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return EJ}static get DefaultType(){return kJ}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),J.off(document,xb),J.on(document,_J,t=>this._handleFocusin(t)),J.on(document,bJ,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,J.off(document,xb))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=Ce.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===vF?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?vF:"forward")}}const _F=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",bF=".sticky-top",Mb="padding-right",SF="margin-right";class qR{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Mb,e=>e+t),this._setElementAttributes(_F,Mb,e=>e+t),this._setElementAttributes(bF,SF,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Mb),this._resetElementAttributes(_F,Mb),this._resetElementAttributes(bF,SF)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const s=this.getWidth();this._applyManipulationCallback(t,a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+s)return;this._saveInitialAttribute(a,e);const o=window.getComputedStyle(a).getPropertyValue(e);a.style.setProperty(e,`${i(Number.parseFloat(o))}px`)})}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&za.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,s=>{const r=za.getDataAttribute(s,e);null!==r?(za.removeDataAttribute(s,e),s.style.setProperty(e,r)):s.style.removeProperty(e)})}_applyManipulationCallback(t,e){if(Wa(t))e(t);else for(const i of Ce.find(t,this._element))e(i)}}const Gs=".bs.modal",DJ=`hide${Gs}`,TJ=`hidePrevented${Gs}`,wF=`hidden${Gs}`,EF=`show${Gs}`,xJ=`shown${Gs}`,MJ=`resize${Gs}`,RJ=`click.dismiss${Gs}`,IJ=`mousedown.dismiss${Gs}`,OJ=`keydown.dismiss${Gs}`,NJ=`click${Gs}.data-api`,kF="modal-open",UR="modal-static",HJ={backdrop:!0,focus:!0,keyboard:!0},qJ={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class _c extends Er{constructor(t,e){super(t,e),this._dialog=Ce.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new qR,this._addEventListeners()}static get Default(){return HJ}static get DefaultType(){return qJ}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||J.trigger(this._element,EF,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(kF),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||J.trigger(this._element,DJ).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){J.off(window,Gs),J.off(this._dialog,Gs),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new mF({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new yF({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=Ce.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,J.trigger(this._element,xJ,{relatedTarget:t})},this._dialog,this._isAnimated())}_addEventListeners(){J.on(this._element,OJ,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),J.on(window,MJ,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),J.on(this._element,IJ,t=>{J.one(this._element,RJ,e=>{if(this._element===t.target&&this._element===e.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(kF),this._resetAdjustments(),this._scrollBar.reset(),J.trigger(this._element,wF)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(J.trigger(this._element,TJ).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(UR)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(UR),this._queueCallback(()=>{this._element.classList.remove(UR),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const s=qs()?"paddingLeft":"paddingRight";this._element.style[s]=`${e}px`}if(!i&&t){const s=qs()?"paddingRight":"paddingLeft";this._element.style[s]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=_c.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](e)}})}}J.on(document,NJ,'[data-bs-toggle="modal"]',function(n){const t=Ce.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),J.one(t,EF,s=>{s.defaultPrevented||J.one(t,wF,()=>{Mh(this)&&this.focus()})});const e=Ce.findOne(".modal.show");e&&_c.getInstance(e).hide(),_c.getOrCreateInstance(t).toggle(this)}),wb(_c),Us(_c);const Ka=".bs.offcanvas",PF=".data-api",GJ=`load${Ka}${PF}`,DF="showing",xF=".offcanvas.show",zJ=`show${Ka}`,KJ=`shown${Ka}`,QJ=`hide${Ka}`,MF=`hidePrevented${Ka}`,RF=`hidden${Ka}`,YJ=`resize${Ka}`,JJ=`click${Ka}${PF}`,ZJ=`keydown.dismiss${Ka}`,eZ={backdrop:!0,keyboard:!0,scroll:!1},tZ={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ko extends Er{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return eZ}static get DefaultType(){return tZ}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||J.trigger(this._element,zJ,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new qR).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(DF),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(DF),J.trigger(this._element,KJ,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&!J.trigger(this._element,QJ).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new qR).reset(),J.trigger(this._element,RF)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new mF({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():J.trigger(this._element,MF)}:null})}_initializeFocusTrap(){return new yF({trapElement:this._element})}_addEventListeners(){J.on(this._element,ZJ,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();J.trigger(this._element,MF)}})}static jQueryInterface(t){return this.each(function(){const e=Ko.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}J.on(document,JJ,'[data-bs-toggle="offcanvas"]',function(n){const t=Ce.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Wo(this))return;J.one(t,RF,()=>{Mh(this)&&this.focus()});const e=Ce.findOne(xF);e&&e!==t&&Ko.getInstance(e).hide(),Ko.getOrCreateInstance(t).toggle(this)}),J.on(window,GJ,()=>{for(const n of Ce.find(xF))Ko.getOrCreateInstance(n).show()}),J.on(window,YJ,()=>{for(const n of Ce.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(n).position&&Ko.getOrCreateInstance(n).hide()}),wb(Ko),Us(Ko);const IF={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},iZ=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),nZ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,sZ=(n,t)=>{const e=n.nodeName.toLowerCase();return t.includes(e)?!iZ.has(e)||Boolean(nZ.test(n.nodeValue)):t.filter(i=>i instanceof RegExp).some(i=>i.test(e))},oZ={allowList:IF,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},lZ={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},cZ={entry:"(string|element|function|null)",selector:"(string|element)"};class uZ extends Yp{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return oZ}static get DefaultType(){return lZ}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content=fn(fn({},this._config.content),t),this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[s,r]of Object.entries(this._config.content))this._setContent(t,r,s);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},cZ)}_setContent(t,e,i){const s=Ce.findOne(i,t);if(s){if(!(e=this._resolvePossibleFunction(e)))return void s.remove();if(Wa(e))return void this._putElementInTemplate(jo(e),s);if(this._config.html)return void(s.innerHTML=this._maybeSanitize(e));s.textContent=e}}_maybeSanitize(t){return this._config.sanitize?function(n,t,e){if(!n.length)return n;if(e&&"function"==typeof e)return e(n);const s=(new window.DOMParser).parseFromString(n,"text/html"),r=[].concat(...s.body.querySelectorAll("*"));for(const a of r){const o=a.nodeName.toLowerCase();if(!Object.keys(t).includes(o)){a.remove();continue}const l=[].concat(...a.attributes),h=[].concat(t["*"]||[],t[o]||[]);for(const d of l)sZ(d,h)||a.removeAttribute(d.nodeName)}return s.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Jn(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const dZ=new Set(["sanitize","allowList","sanitizeFn"]),GR="fade",Rb="show",NF="hide.bs.modal",tg="hover",jR="focus",AZ={AUTO:"auto",TOP:"top",RIGHT:qs()?"left":"right",BOTTOM:"bottom",LEFT:qs()?"right":"left"},DZ={allowList:IF,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},TZ={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Bh extends Er{constructor(t,e){if(void 0===Xn)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return DZ}static get DefaultType(){return TZ}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),J.off(this._element.closest(".modal"),NF,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=J.trigger(this._element,this.constructor.eventName("show")),i=(GV(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(s),J.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(s),s.classList.add(Rb),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))J.on(o,"mouseover",Sb);this._queueCallback(()=>{J.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!J.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Rb),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))J.off(s,"mouseover",Sb);this._activeTrigger.click=!1,this._activeTrigger[jR]=!1,this._activeTrigger[tg]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),J.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(GR,Rb),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(n=>{do{n+=Math.floor(1e6*Math.random())}while(document.getElementById(n));return n})(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(GR),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new uZ(yS(fn({},this._config),{content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(GR)}_isShown(){return this.tip&&this.tip.classList.contains(Rb)}_createPopper(t){const e=Jn(this._config.placement,[this,t,this._element]),i=AZ[e.toUpperCase()];return DR(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return Jn(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return fn(fn({},e),Jn(this._config.popperConfig,[e]))}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)J.on(this._element,this.constructor.eventName("click"),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if("manual"!==e){const i=this.constructor.eventName(e===tg?"mouseenter":"focusin"),s=this.constructor.eventName(e===tg?"mouseleave":"focusout");J.on(this._element,i,this._config.selector,r=>{const a=this._initializeOnDelegatedTarget(r);a._activeTrigger["focusin"===r.type?jR:tg]=!0,a._enter()}),J.on(this._element,s,this._config.selector,r=>{const a=this._initializeOnDelegatedTarget(r);a._activeTrigger["focusout"===r.type?jR:tg]=a._element.contains(r.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},J.on(this._element.closest(".modal"),NF,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");!t||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=za.getDataAttributes(this._element);for(const i of Object.keys(e))dZ.has(i)&&delete e[i];return t=fn(fn({},e),"object"==typeof t&&t?t:{}),t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:jo(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=Bh.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Us(Bh);const IZ=yS(fn({},Bh.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),OZ=yS(fn({},Bh.DefaultType),{content:"(null|string|element|function)"});class WR extends Bh{static get Default(){return IZ}static get DefaultType(){return OZ}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=WR.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Us(WR);const zR=".bs.scrollspy",BZ=`activate${zR}`,LF=`click${zR}`,$Z=`load${zR}.data-api`,$h="active",KR="[href]",BF=".nav-link",qZ=`${BF}, .nav-item > ${BF}, .list-group-item`,jZ={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},WZ={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ib extends Er{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return jZ}static get DefaultType(){return WZ}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=jo(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(J.off(this._config.target,LF),J.on(this._config.target,LF,KR,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,s=e.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:s,behavior:"smooth"});i.scrollTop=s}}))}_getNewObserver(){return new IntersectionObserver(e=>this._observerCallback(e),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(t){const e=a=>this._targetLinks.get(`#${a.target.id}`),i=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(e(a))},s=(this._rootElement||document.documentElement).scrollTop,r=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const a of t){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(a));continue}const o=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&o){if(i(a),!s)return}else!r&&!o&&i(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=Ce.find(KR,this._config.target);for(const e of t){if(!e.hash||Wo(e))continue;const i=Ce.findOne(decodeURI(e.hash),this._element);Mh(i)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,i))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add($h),this._activateParents(t),J.trigger(this._element,BZ,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))Ce.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add($h);else for(const e of Ce.parents(t,".nav, .list-group"))for(const i of Ce.prev(e,qZ))i.classList.add($h)}_clearActiveClass(t){t.classList.remove($h);const e=Ce.find(`${KR}.${$h}`,t);for(const i of e)i.classList.remove($h)}static jQueryInterface(t){return this.each(function(){const e=Ib.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}J.on(window,$Z,()=>{for(const n of Ce.find('[data-bs-spy="scroll"]'))Ib.getOrCreateInstance(n)}),Us(Ib);const bc=".bs.tab",KZ=`hide${bc}`,QZ=`hidden${bc}`,YZ=`show${bc}`,JZ=`shown${bc}`,ZZ=`click${bc}`,XZ=`keydown${bc}`,eX=`load${bc}`,tX="ArrowLeft",$F="ArrowRight",iX="ArrowUp",VF="ArrowDown",QR="Home",FF="End",Sc="active",YR="show",JR=":not(.dropdown-toggle)",qF='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ZR=`.nav-link${JR}, .list-group-item${JR}, [role="tab"]${JR}, ${qF}`,cX=`.${Sc}[data-bs-toggle="tab"], .${Sc}[data-bs-toggle="pill"], .${Sc}[data-bs-toggle="list"]`;class Vh extends Er{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),J.on(this._element,XZ,e=>this._keydown(e)))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?J.trigger(e,KZ,{relatedTarget:t}):null;J.trigger(t,YZ,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(Sc),this._activate(Ce.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),J.trigger(t,JZ,{relatedTarget:e})):t.classList.add(YR)},t,t.classList.contains("fade")))}_deactivate(t,e){t&&(t.classList.remove(Sc),t.blur(),this._deactivate(Ce.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),J.trigger(t,QZ,{relatedTarget:e})):t.classList.remove(YR)},t,t.classList.contains("fade")))}_keydown(t){if(![tX,$F,iX,VF,QR,FF].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(s=>!Wo(s));let i;if([QR,FF].includes(t.key))i=e[t.key===QR?0:e.length-1];else{const s=[$F,VF].includes(t.key);i=RR(e,t.target,s,!0)}i&&(i.focus({preventScroll:!0}),Vh.getOrCreateInstance(i).show())}_getChildren(){return Ce.find(ZR,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=Ce.getElementFromSelector(t);!e||(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains("dropdown"))return;const s=(r,a)=>{const o=Ce.findOne(r,i);o&&o.classList.toggle(a,e)};s(".dropdown-toggle",Sc),s(".dropdown-menu",YR),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(Sc)}_getInnerElement(t){return t.matches(ZR)?t:Ce.findOne(ZR,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){const e=Vh.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}J.on(document,ZZ,qF,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Wo(this)&&Vh.getOrCreateInstance(this).show()}),J.on(window,eX,()=>{for(const n of Ce.find(cX))Vh.getOrCreateInstance(n)}),Us(Vh);const Qo=".bs.toast",hX=`mouseover${Qo}`,dX=`mouseout${Qo}`,fX=`focusin${Qo}`,pX=`focusout${Qo}`,gX=`hide${Qo}`,mX=`hidden${Qo}`,vX=`show${Qo}`,yX=`shown${Qo}`,Ob="show",Nb="showing",bX={animation:"boolean",autohide:"boolean",delay:"number"},SX={animation:!0,autohide:!0,delay:5e3};class Lb extends Er{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return SX}static get DefaultType(){return bX}static get NAME(){return"toast"}show(){J.trigger(this._element,vX).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Ob,Nb),this._queueCallback(()=>{this._element.classList.remove(Nb),J.trigger(this._element,yX),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!J.trigger(this._element,gX).defaultPrevented&&(this._element.classList.add(Nb),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Nb,Ob),J.trigger(this._element,mX)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ob),super.dispose()}isShown(){return this._element.classList.contains(Ob)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){J.on(this._element,hX,t=>this._onInteraction(t,!0)),J.on(this._element,dX,t=>this._onInteraction(t,!1)),J.on(this._element,fX,t=>this._onInteraction(t,!0)),J.on(this._element,pX,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=Lb.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}})}}function js(n){return null!=n&&"false"!=`${n}`}function wc(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Vi(n){return n instanceof $t?n.nativeElement:n}function Ec(...n){let t=n[n.length-1];return rl(t)?(n.pop(),eo(n,t)):to(n)}function XR(n,t,e,i){return M(e)&&(i=e,e=void 0),i?XR(n,t,e).pipe(ys(s=>il(s)?i(...s):i(s))):new Xe(s=>{GF(n,t,function(a){s.next(arguments.length>1?Array.prototype.slice.call(arguments):a)},s,e)})}function GF(n,t,e,i,s){let r;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const a=n;n.addEventListener(t,e,s),r=()=>a.removeEventListener(t,e,s)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const a=n;n.on(t,e),r=()=>a.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const a=n;n.addListener(t,e),r=()=>a.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let a=0,o=n.length;a<o;a++)GF(n[a],t,e,i,s)}i.add(r)}wb(Lb),Us(Lb);class AX extends nt{constructor(t,e){super()}schedule(t,e=0){return this}}class Bb extends AX{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(r){i=!0,s=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let jF=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,s){return new this.SchedulerAction(this,e).schedule(s,i)}}return n.now=()=>Date.now(),n})();class kr extends jF{constructor(t,e=jF.now){super(t,()=>kr.delegate&&kr.delegate!==this?kr.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return kr.delegate&&kr.delegate!==this?kr.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const WF=new class extends kr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends Bb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let xX=1;const MX=Promise.resolve(),$b={};function zF(n){return n in $b&&(delete $b[n],!0)}const KF={setImmediate(n){const t=xX++;return $b[t]=!0,MX.then(()=>zF(t)&&n()),t},clearImmediate(n){zF(n)}},ig=(new class extends kr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends Bb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=KF.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(KF.clearImmediate(e),t.scheduled=void 0)}}),new kr(Bb));class $X{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new VX(t,this.durationSelector))}}class VX extends Oc{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(t)}catch(s){return this.destination.error(s)}const i=Ji(e,new Ln(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function eI(n){return!il(n)&&n-parseFloat(n)+1>=0}function HX(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function tI(n,t=ig){return function(n){return function(e){return e.lift(new $X(n))}}(()=>function(n=0,t,e){let i=-1;return eI(t)?i=Number(t)<1?1:Number(t):rl(t)&&(e=t),rl(e)||(e=ig),new Xe(s=>{const r=eI(n)?n:+n-e.now();return e.schedule(HX,r,{index:0,period:i,subscriber:s})})}(n,t))}function JF(n,t){return function(i){return i.lift(new qX(n,t))}}class qX{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new UX(t,this.predicate,this.thisArg))}}class UX extends Ot{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Yo(n){return t=>t.lift(new GX(n))}class GX{constructor(t){this.notifier=t}call(t,e){const i=new jX(t),s=Ji(this.notifier,new Ln(i));return s&&!i.seenValue?(i.add(s),e.subscribe(i)):i}}class jX extends Oc{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function ZF(...n){return xg(1)(Ec(...n))}function ng(...n){const t=n[n.length-1];return rl(t)?(n.pop(),e=>ZF(n,e,t)):e=>ZF(n,e)}function iI(n,t){return"function"==typeof t?e=>e.pipe(iI((i,s)=>Ic(n(i,s)).pipe(ys((r,a)=>t(i,r,s,a))))):e=>e.lift(new YX(n))}class YX{constructor(t){this.project=t}call(t,e){return e.subscribe(new JX(t,this.project))}}class JX extends Oc{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Ln(this),s=this.destination;s.add(i),this.innerSubscription=Ji(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}new class extends kr{}(class extends Bb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});const tee=new Xe(n=>n.complete());function XF(n){return n?function(n){return new Xe(t=>n.schedule(()=>t.complete()))}(n):tee}class Ws{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return Ec(this.value);case"E":return function(n,t){return new Xe(e=>e.error(n))}(this.error);case"C":return XF()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new Ws("N",t):Ws.undefinedValueNotification}static createError(t){return new Ws("E",void 0,t)}static createComplete(){return Ws.completeNotification}}let nI;Ws.completeNotification=new Ws("C"),Ws.undefinedValueNotification=new Ws("N",void 0);try{nI="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){nI=!1}let sg,sI,zs=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===S$}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!nI)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(q(hh))},n.\u0275prov=he({factory:function(){return new n(q(hh))},token:n,providedIn:"root"}),n})();function rg(n){return function(){if(null==sg&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>sg=!0}))}finally{sg=sg||!1}return sg}()?n:!!n.capture}function rI(n){if(function(){if(null==sI){const n="undefined"!=typeof document?document.head:null;sI=!(!n||!n.createShadowRoot&&!n.attachShadow)}return sI}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Yr(n){return n.composedPath?n.composedPath()[0]:n.target}const i4=new we("cdk-dir-doc",{providedIn:"root",factory:function(){return pw(it)}});let og=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new mt,e){const s=e.documentElement?e.documentElement.dir:null,r=(e.body?e.body.dir:null)||s;this.value="ltr"===r||"rtl"===r?r:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(q(i4,8))},n.\u0275prov=he({factory:function(){return new n(q(i4,8))},token:n,providedIn:"root"}),n})(),aI=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new tt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Xe(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(tI(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ec()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(JF(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=Vi(i),r=e.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>XR(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(q(Ye),q(zs),q(it,8))},n.\u0275prov=he({factory:function(){return new n(q(Ye),q(zs),q(it,8))},token:n,providedIn:"root"}),n})(),oI=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new tt,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,r=s.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-r.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(tI(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(q(zs),q(Ye),q(it,8))},n.\u0275prov=he({factory:function(){return new n(q(zs),q(Ye),q(it,8))},token:n,providedIn:"root"}),n})(),lI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ni({type:n}),n.\u0275inj=Kt({}),n})();const Nee=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function cI(n){return t=>0===n?XF():t.lift(new Lee(n))}class Lee{constructor(t){if(this.total=t,this.total<0)throw new Nee}call(t,e){return e.subscribe(new Bee(t,this.total))}}class Bee extends Ot{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function mte(n){const{subscriber:t,counter:e,period:i}=n;t.next(e),this.schedule({subscriber:t,counter:e+1,period:i},i)}function Jo(){}"undefined"!=typeof Element&&Element;class yte{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new _te(t,this.nextOrObserver,this.error,this.complete))}}class _te extends Ot{constructor(t,e,i,s){super(t),this._tapNext=Jo,this._tapError=Jo,this._tapComplete=Jo,this._tapError=i||Jo,this._tapComplete=s||Jo,M(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Jo,this._tapError=e.error||Jo,this._tapComplete=e.complete||Jo)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function dI(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];s?n.setProperty(i,s,(null==e?void 0:e.has(i))?"important":""):n.removeProperty(i)}return n}function qh(n,t){const e=t?"":"none";dI(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function k4(n,t,e){dI(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function qb(n,t){return t&&"none"!=t?n+" "+t:n}function C4(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function fI(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function pI(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function gI(n,t,e){const{top:i,bottom:s,left:r,right:a}=n;return e>=i&&e<=s&&t>=r&&t<=a}function lg(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function P4(n,t,e,i){const{top:s,right:r,bottom:a,left:o,width:l,height:h}=n,d=l*t,m=h*t;return i>s-m&&i<a+m&&e>o-d&&e<r+d}class A4{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:pI(e)})})}handleScroll(t){const e=Yr(t),i=this.positions.get(e);if(!i)return null;const s=e===this._document?e.documentElement:e,r=i.scrollPosition;let a,o;if(e===this._document){const d=this._viewportRuler.getViewportScrollPosition();a=d.top,o=d.left}else a=e.scrollTop,o=e.scrollLeft;const l=r.top-a,h=r.left-o;return this.positions.forEach((d,m)=>{d.clientRect&&e!==m&&s.contains(m)&&lg(d.clientRect,l,h)}),r.top=a,r.left=o,{top:l,left:h}}}function D4(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===i?M4(n,t):("input"===i||"select"===i||"textarea"===i)&&x4(n,t),T4("canvas",n,t,M4),T4("input, textarea, select",n,t,x4),t}function T4(n,t,e,i){const s=t.querySelectorAll(n);if(s.length){const r=e.querySelectorAll(n);for(let a=0;a<s.length;a++)i(s[a],r[a])}}let Ste=0;function x4(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${Ste++}`)}function M4(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(i){}}const R4=rg({passive:!0}),I4=rg({passive:!1}),mI=new Set(["position"]);class Ete{constructor(t,e,i,s,r,a){this._config=e,this._document=i,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new tt,this._pointerMoveSubscription=nt.EMPTY,this._pointerUpSubscription=nt.EMPTY,this._scrollSubscription=nt.EMPTY,this._resizeSubscription=nt.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new tt,this.started=new tt,this.released=new tt,this.ended=new tt,this.entered=new tt,this.exited=new tt,this.dropped=new tt,this.moved=this._moveEvents,this._pointerDown=o=>{if(this.beforeStarted.next(),this._handles.length){const l=this._handles.find(h=>{const d=Yr(o);return!!d&&(d===h||h.contains(d))});l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,o)}else this.disabled||this._initializeDragSequence(this._rootElement,o)},this._pointerMove=o=>{const l=this._getPointerPositionOnPage(o);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const S=Date.now()>=this._dragStartTime+this._getDragStartDelay(o),k=this._dropContainer;if(!S)return void this._endDragSequence(o);(!k||!k.isDragging()&&!k.isReceiving())&&(o.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(o)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),o.preventDefault();const h=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(h),this._dropContainer)this._updateActiveDropContainer(h,l);else{const d=this._activeTransform;d.x=h.x-this._pickupPositionOnPage.x+this._passiveTransform.x,d.y=h.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${d.x} ${d.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:h,event:o,distance:this._getDragDistance(h),delta:this._pointerDirectionDelta})})},this._pointerUp=o=>{this._endDragSequence(o)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new A4(i,r),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=js(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>qh(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Vi(i)),this._handles.forEach(i=>qh(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Vi(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,I4),e.addEventListener("touchstart",this._pointerDown,R4)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Vi(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Gb(this._rootElement),Gb(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),qh(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),qh(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&Gb(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&Gb(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){cg(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,s=i.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),o=this._getShadowRoot();s.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),k4(i,!1,mI),this._document.body.appendChild(s.replaceChild(r,i)),this._getPreviewInsertionPoint(s,o).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),s=cg(e),r=!s&&0!==e.button,a=this._rootElement,o=Yr(e),l=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),h=s?function(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function(n){return 0===n.offsetX&&0===n.offsetY}(e);if(o&&o.draggable&&"mousedown"===e.type&&e.preventDefault(),i||r||l||h)return;this._handles.length&&(this._rootElementTapHighlight=a.style.webkitTapHighlightColor||"",a.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(y=>this._updateOnScroll(y)),this._boundaryElement&&(this._boundaryRect=pI(this._boundaryElement));const d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const m=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:m.x,y:m.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){k4(this._rootElement,!0,mI),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),r=this._getDragDistance(s),a=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:r,dropPoint:s}),e.drop(this,i,this._initialIndex,this._initialContainer,a,r,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let s;if(i&&t){const r=t.matchSize?this._rootElement.getBoundingClientRect():null,a=t.viewContainer.createEmbeddedView(i,t.context);a.detectChanges(),s=N4(a,this._document),this._previewRef=a,t.matchSize?L4(s,r):s.style.transform=Ub(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const r=this._rootElement;s=D4(r),L4(s,r.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return dI(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},mI),qh(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>s.classList.add(r)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function(n){const t=getComputedStyle(n),e=fI(t,"transition-property"),i=e.find(o=>"transform"===o||"all"===o);if(!i)return 0;const s=e.indexOf(i),r=fI(t,"transition-duration"),a=fI(t,"transition-delay");return C4(r[s])+C4(a[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=a=>{var o;(!a||Yr(a)===this._preview&&"transform"===a.propertyName)&&(null===(o=this._preview)||void 0===o||o.removeEventListener("transitionend",s),i(),clearTimeout(r))},r=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=N4(this._placeholderRef,this._document)):i=D4(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),s=t===this._rootElement?null:t,r=s?s.getBoundingClientRect():i,a=cg(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:r.left-i.left+(a.pageX-r.left-o.left),y:r.top-i.top+(a.pageY-r.top-o.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=cg(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=i.pageX-e.left,r=i.pageY-e.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const o=this._ownerSVGElement.createSVGPoint();return o.x=s,o.y=r,o.matrixTransform(a.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:a}=this._pickupPositionInElement,o=this._boundaryRect,l=this._previewRect,h=o.top+a,d=o.bottom-(l.height-a);i=O4(i,o.left+r,o.right-(l.width-r)),s=O4(s,h,d)}return{x:i,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-r.x),o=Math.abs(i-r.y);return a>this._config.pointerDirectionChangeThreshold&&(s.x=e>r.x?1:-1,r.x=e),o>this._config.pointerDirectionChangeThreshold&&(s.y=i>r.y?1:-1,r.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,qh(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,I4),t.removeEventListener("touchstart",this._pointerDown,R4)}_applyRootElementTransform(t,e){const i=Ub(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=qb(i,this._initialTransform)}_applyPreviewTransform(t,e){var i;const s=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,r=Ub(t,e);this._preview.style.transform=qb(r,s)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===s.width&&0===s.height)return;const r=i.left-s.left,a=s.right-i.right,o=i.top-s.top,l=s.bottom-i.bottom;i.width>s.width?(r>0&&(t+=r),a>0&&(t-=a)):t=0,i.height>s.height?(o>0&&(e+=o),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:cg(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Yr(t);this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&lg(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=rI(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return Vi(i)}}function Ub(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function O4(n,t,e){return Math.max(t,Math.min(e,n))}function Gb(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function cg(n){return"t"===n.type[0]}function N4(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(s=>i.appendChild(s)),i}function L4(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=Ub(t.left,t.top)}function B4(n,t,e){const i=ug(t,n.length-1),s=ug(e,n.length-1);if(i===s)return;const r=n[i],a=s<i?-1:1;for(let o=i;o!==s;o+=a)n[o]=n[o+a];n[s]=r}function ug(n,t){return Math.max(0,Math.min(t,n))}class kte{constructor(t,e,i,s,r){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new tt,this.entered=new tt,this.exited=new tt,this.dropped=new tt,this.sorted=new tt,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=nt.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new tt,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(n=0,t=ig){return(!eI(n)||n<0)&&(n=0),(!t||"function"!=typeof t.schedule)&&(t=ig),new Xe(e=>(e.add(t.schedule(mte,n,{subscriber:e,counter:0,period:n})),e))}(0,WF).pipe(Yo(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,o=this.autoScrollStep;1===this._verticalScrollDirection?F4(a,-o):2===this._verticalScrollDirection&&F4(a,o),1===this._horizontalScrollDirection?H4(a,-o):2===this._horizontalScrollDirection&&H4(a,o)})},this.element=Vi(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new A4(i,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,s){let r;this._draggingStarted(),null==s?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,i))):r=s;const a=this._activeDraggables,o=a.indexOf(t),l=t.getPlaceholderElement();let h=a[r];if(h===t&&(h=a[r+1]),o>-1&&a.splice(o,1),h&&!this._dragDropRegistry.isDragging(h)){const d=h.getRootElement();d.parentElement.insertBefore(l,d),a.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){const d=a[0].getRootElement();d.parentNode.insertBefore(l,d),a.unshift(t)}else Vi(this.element).appendChild(l),a.push(t);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,s,r,a,o){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:r,distance:a,dropPoint:o})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Vi(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?vI("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,i=>i.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,s){if(this.sortingDisabled||!this._clientRect||!P4(this._clientRect,.05,e,i))return;const r=this._itemPositions,a=this._getItemIndexFromPointerPosition(t,e,i,s);if(-1===a&&r.length>0)return;const o="horizontal"===this._orientation,l=vI(r,P=>P.drag===t),h=r[a],m=h.clientRect,y=l>a?1:-1,S=this._getItemOffsetPx(r[l].clientRect,m,y),k=this._getSiblingOffsetPx(l,r,y),T=r.slice();B4(r,l,a),this.sorted.next({previousIndex:l,currentIndex:a,container:this,item:t}),r.forEach((P,N)=>{if(T[N]===P)return;const I=P.drag===t,H=I?S:k,O=I?t.getPlaceholderElement():P.drag.getRootElement();P.offset+=H,o?(O.style.transform=qb(`translate3d(${Math.round(P.offset)}px, 0, 0)`,P.initialTransform),lg(P.clientRect,0,H)):(O.style.transform=qb(`translate3d(0, ${Math.round(P.offset)}px, 0)`,P.initialTransform),lg(P.clientRect,H,0))}),this._previousSwap.overlaps=gI(m,e,i),this._previousSwap.drag=h.drag,this._previousSwap.delta=o?s.x:s.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,s=0,r=0;if(this._parentPositions.positions.forEach((a,o)=>{o===this._document||!a.clientRect||i||P4(a.clientRect,.05,t,e)&&([s,r]=function(n,t,e,i){const s=q4(t,i),r=U4(t,e);let a=0,o=0;if(s){const l=n.scrollTop;1===s?l>0&&(a=1):n.scrollHeight-l>n.clientHeight&&(a=2)}if(r){const l=n.scrollLeft;1===r?l>0&&(o=1):n.scrollWidth-l>n.clientWidth&&(o=2)}return[a,o]}(o,a.clientRect,t,e),(s||r)&&(i=o))}),!s&&!r){const{width:a,height:o}=this._viewportRuler.getViewportSize(),l={width:a,height:o,top:0,right:a,bottom:o,left:0};s=q4(l,e),r=U4(l,t),i=window}i&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=i,(s||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Vi(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Vi(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:pI(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=Vi(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const s=e.getRootElement();if(s){const r=null===(i=this._itemPositions.find(a=>a.drag===e))||void 0===i?void 0:i.initialTransform;s.style.transform=r||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const s="horizontal"===this._orientation,r=e[t].clientRect,a=e[t+-1*i];let o=r[s?"width":"height"]*i;if(a){const l=s?"left":"top",h=s?"right":"bottom";-1===i?o-=a.clientRect[l]-r[h]:o+=r[l]-a.clientRect[h]}return o}_getItemOffsetPx(t,e,i){const s="horizontal"===this._orientation;let r=s?e.left-t.left:e.top-t.top;return-1===i&&(r+=s?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const a=i[i.length-1].clientRect;return s?t>=a.right:e>=a.bottom}{const a=i[0].clientRect;return s?t<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(t,e,i,s){const r="horizontal"===this._orientation,a=vI(this._itemPositions,({drag:o,clientRect:l},h,d)=>{if(o===t)return d.length<2;if(s){const m=r?s.x:s.y;if(o===this._previousSwap.drag&&this._previousSwap.overlaps&&m===this._previousSwap.delta)return!1}return r?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return-1!==a&&this.sortPredicate(a,t,this)?a:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&gI(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(s=>s._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!gI(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,i);if(!s)return!1;const r=Vi(this.element);return s===r||r.contains(s)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:i})=>{lg(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=rI(Vi(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function vI(n,t){for(let e=0;e<n.length;e++)if(t(n[e],e,n))return e;return-1}function F4(n,t){n===window?n.scrollBy(0,t):n.scrollTop+=t}function H4(n,t){n===window?n.scrollBy(t,0):n.scrollLeft+=t}function q4(n,t){const{top:e,bottom:i,height:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}function U4(n,t){const{left:e,right:i,width:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}const jb=rg({passive:!1,capture:!0});let G4=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new tt,this.pointerUp=new tt,this.scroll=new tt,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,jb)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,jb)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:jb}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:jb}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,a)=>{this._document.addEventListener(a,r.handler,r.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Xe(s=>this._ngZone.runOutsideAngular(()=>{const a=o=>{this._activeDragInstances.length&&s.next(o)};return e.addEventListener("scroll",a,!0),()=>{e.removeEventListener("scroll",a,!0)}}))),Pr(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(q(Ye),q(it))},n.\u0275prov=he({factory:function(){return new n(q(Ye),q(it))},token:n,providedIn:"root"}),n})();const Pte={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let yI=(()=>{class n{constructor(e,i,s,r){this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(e,i=Pte){return new Ete(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new kte(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(q(it),q(Ye),q(oI),q(G4))},n.\u0275prov=he({factory:function(){return new n(q(it),q(Ye),q(oI),q(G4))},token:n,providedIn:"root"}),n})();const _I=new we("CDK_DRAG_PARENT"),bI=new we("CdkDropListGroup"),j4=new we("CDK_DRAG_CONFIG");let Ate=0;const W4=new we("CdkDropList");let Tte=(()=>{class n{constructor(e,i,s,r,a,o,l){this.element=e,this._changeDetectorRef=s,this._scrollDispatcher=r,this._dir=a,this._group=o,this._destroyed=new tt,this.connectedTo=[],this.id="cdk-drop-list-"+Ate++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new mt,this.entered=new mt,this.exited=new mt,this.sorted=new mt,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(h,d)=>this.enterPredicate(h.data,d.data),this._dropListRef.sortPredicate=(h,d,m)=>this.sortPredicate(h,d.data,m.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),o&&o._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=js(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(ng(this._dir.value),Yo(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=function(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(s=>"string"==typeof s?n._dropLists.find(a=>a.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===i.indexOf(s)&&i.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=js(this.sortingDisabled),e.autoScrollDisabled=js(this.autoScrollDisabled),e.autoScrollStep=wc(this.autoScrollStep,2),e.connectedTo(i.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:i,draggingDisabled:s,sortingDisabled:r,listAutoScrollDisabled:a,listOrientation:o}=e;this.disabled=null!=s&&s,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=a&&a,this.orientation=o||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n.\u0275fac=function(e){return new(e||n)($($t),$(yI),$(gy),$(aI),$(og,8),$(bI,12),$(j4,8))},n.\u0275dir=fe({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(dr("id",i.id),Jl("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[ht([{provide:bI,useValue:void 0},{provide:W4,useExisting:n}])]}),n._dropLists=[],n})();const SI=new we("CdkDragHandle");let xte=(()=>{class n{constructor(e,i){this.element=e,this._stateChanges=new tt,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(e){this._disabled=js(e),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)($($t),$(_I,12))},n.\u0275dir=fe({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[ht([{provide:SI,useExisting:n}])]}),n})();const z4=new we("CdkDragPlaceholder"),K4=new we("CdkDragPreview");let Rte=(()=>{class n{constructor(e,i,s,r,a,o,l,h,d,m,y){this.element=e,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=a,this._dir=l,this._changeDetectorRef=d,this._selfHandle=m,this._parentDrag=y,this._destroyed=new tt,this.started=new mt,this.released=new mt,this.ended=new mt,this.entered=new mt,this.exited=new mt,this.dropped=new mt,this.moved=new Xe(S=>{const k=this._dragRef.moved.pipe(ys(T=>({source:this,pointerPosition:T.pointerPosition,event:T.event,delta:T.delta,distance:T.distance}))).subscribe(S);return()=>{k.unsubscribe()}}),this._dragRef=h.createDrag(e,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),o&&this._assignDefaults(o),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=js(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(cI(1),Yo(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,s=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement,i=this.rootElementSelector?Q4(e,this.rootElementSelector):e;this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?Q4(this.element.nativeElement,e):Vi(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,s=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof s&&s?s:wc(s),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(cI(1)).subscribe(()=>{var i,s;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(null===(i=r.classList)||void 0===i?void 0:i.contains("cdk-drag")){e.withParent((null===(s=n._dragInstances.find(a=>a.element.nativeElement===r))||void 0===s?void 0:s._dragRef)||null);break}r=r.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:s,constrainPosition:r,previewClass:a,boundaryElement:o,draggingDisabled:l,rootElementSelector:h,previewContainer:d}=e;this.disabled=null!=l&&l,this.dragStartDelay=s||0,i&&(this.lockAxis=i),r&&(this.constrainPosition=r),a&&(this.previewClass=a),o&&(this.boundaryElement=o),h&&(this.rootElementSelector=h),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.changes.pipe(ng(this._handles),function(n,t,e){return function(s){return s.lift(new yte(n,undefined,undefined))}}(e=>{const i=e.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),iI(e=>Pr(...e.map(i=>i._stateChanges.pipe(ng(i))))),Yo(this._destroyed)).subscribe(e=>{const i=this._dragRef,s=e.element.nativeElement;e.disabled?i.disableHandle(s):i.enableHandle(s)})}}return n.\u0275fac=function(e){return new(e||n)($($t),$(W4,12),$(it),$(Ye),$(Ls),$(j4,8),$(og,8),$(yI),$(gy),$(SI,10),$(_I,12))},n.\u0275dir=fe({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,s){if(1&e&&(Ey(s,K4,5),Ey(s,z4,5),Ey(s,SI,5)),2&e){let r;sc(r=rc())&&(i._previewTemplate=r.first),sc(r=rc())&&(i._placeholderTemplate=r.first),sc(r=rc())&&(i._handles=r)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&Jl("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[ht([{provide:_I,useExisting:n}]),xt]}),n._dragInstances=[],n})();function Q4(n,t){let e=n.parentElement;for(;e;){if(e.matches?e.matches(t):e.msMatchesSelector(t))return e;e=e.parentElement}return null}let Ite=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ni({type:n}),n.\u0275inj=Kt({providers:[yI],imports:[lI]}),n})();class Y4{}const Qa="*";function Nte(n,t){return{type:7,name:n,definitions:t,options:{}}}function Lte(n,t=null){return{type:4,styles:t,timings:n}}function J4(n,t=null){return{type:2,steps:n,options:t}}function Wb(n){return{type:6,styles:n,offset:null}}function Z4(n,t,e){return{type:0,name:n,styles:t,options:e}}function Bte(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function X4(n){Promise.resolve(null).then(n)}class Uh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){X4(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class eH{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const r=this.players.length;0==r?X4(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==r&&this._onFinish()}),a.onDestroy(()=>{++i==r&&this._onDestroy()}),a.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((a,o)=>Math.max(a,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}let $te=(()=>{class n{constructor(e){this.gameService=e,this.toyPetEvents=[],this.nonToyPetEvents=[]}redoPriorities(e){this.nonToyPetEvents=this.nonToyPetEvents.filter(i=>i.pet!=e);for(let i of this.nonToyPetEvents)i.priority=i.pet.attack;this.executeNonToyPetEvents()}initStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.player,pet:e})}for(let e of this.gameApi.opponet.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.opponet,pet:e})}}resetToyPetEvents(){this.toyPetEvents=[]}resetNonToyPetEvents(){this.nonToyPetEvents=[]}resetStartOfBattleFlags(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)e.startOfBattleTriggered=!1;for(let e of this.gameApi.opponet.petArray)e.startOfBattleTriggered=!1}executeToyPetEvents(){this.toyPetEvents=(0,yt.shuffle)(this.toyPetEvents),this.toyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.toyPetEvents){if(e.pet&&e.pet.transformed&&e.pet.transformedInto){const i=e.pet.transformedInto;if(!i.startOfBattle)continue;e.callback=i.startOfBattle.bind(i)}e.callback(this.gameApi)}this.resetToyPetEvents()}executeNonToyPetEvents(){this.nonToyPetEvents=(0,yt.shuffle)(this.nonToyPetEvents),this.nonToyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.nonToyPetEvents){if(e.pet.startOfBattleTriggered)continue;let i=e.pet;if(e.pet.transformed&&e.pet.transformedInto){const r=e.pet.transformedInto;if(!r.startOfBattle){e.pet.startOfBattleTriggered=!0;continue}i=r,e.callback=r.startOfBattle.bind(r)}if(i.startOfBattleTriggered=!0,e.callback(this.gameApi))return this.redoPriorities(e.pet)}this.resetNonToyPetEvents()}}return n.\u0275fac=function(e){return new(e||n)(q(Sh))},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EI=(()=>{class n{constructor(){this.key="sapData"}getStorage(){return window.localStorage.getItem(this.key),window.localStorage.getItem(this.key)}setFormStorage(e){let i=(0,yt.cloneDeep)(e.value);const s=[...i.playerPets||[],...i.opponentPets||[]];for(const r of s)r&&(delete r.parent,delete r.logService,delete r.abilityService,delete r.gameService,delete r.petService,null!=r.equipment&&(r.equipment={name:r.equipment.name}));this.setStorage(i)}setStorage(e){"object"==typeof e&&(e=JSON.stringify(e)),window.localStorage.setItem(this.key,e)}clearStorage(){window.localStorage.removeItem(this.key)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vte=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bn({type:n,selectors:[["app-patch-notes"]],decls:533,vars:0,template:function(e,i){1&e&&(p(0,"h2"),w(1,"v0.6.19"),g(),p(2,"ul"),p(3,"li"),w(4,"Fixed bug with Bunyip gaining health after it fainted. (Thanks ProfNinja)"),g(),p(5,"li"),w(6,"Implemented Silly logic in static packs, no acitavtion yet"),g(),p(7,"li"),w(8,"Fixed Bug with Pandoras Box (Thanks Tangl)"),g(),p(9,"li"),w(10,"Fixed Bug with not able to drag and drop sometimes (Thanks Tangl)"),g(),g(),p(11,"h2"),w(12,"v0.6.18"),g(),p(13,"ul"),p(14,"li"),w(15,"Fixed bug with 1 attack pet dealing 2 damage to pets with garlic. (Thanks Zoklev)"),g(),p(16,"li"),w(17,"Fixed bug with Octopus sniping same pet twice (Thanks Zoklev)"),g(),g(),p(18,"h2"),w(19,"v0.6.17"),g(),p(20,"ul"),p(21,"li"),w(22,"All pets and perks in star pack are updated."),g(),p(23,"li"),w(24,"Updated some star pack pets.(Thanks Tangl)"),g(),p(25,"li"),w(26,"All pets and perks execept Tree Kangaroo is updated"),g(),p(27,"li"),w(28,"Fixed bug with pets not removed correctly(Thanks Zoklev)"),g(),g(),p(29,"h2"),w(30,"v0.6.16"),g(),p(31,"ul"),p(32,"li"),w(33,"Updated Unicorn Perks."),g(),p(34,"li"),w(35,"Updated some star pack pets.(Thanks Tangl)"),g(),p(36,"li"),w(37,"Fixed bug with Rooster chicks being death linked"),g(),p(38,"li"),w(39,"Fixed Boar triggering twice"),g(),p(40,"li"),w(41,"Fixed Same Attack trigger not being random"),g(),p(42,"li"),w(43,"Fixed Hippo breaking the calculator"),g(),p(44,"li"),w(45,"Fixed Whale summon"),g(),p(46,"li"),w(47,"Fixed Tiger not working with summon"),g(),p(48,"li"),w(49,"Thanks Freetz for finding all the bugs"),g(),g(),p(50,"h2"),w(51,"v0.6.15"),g(),p(52,"ul"),p(53,"li"),w(54,"Updated trigger order"),g(),p(55,"li"),w(56,"Updated Golden pack"),g(),g(),p(57,"h2"),w(58,"v0.6.14"),g(),p(59,"ul"),p(60,"li"),w(61,"Fixed Bug with Dodo causing SOB ability triggering again. (Thanks JOEBOBBOBJOE)"),g(),p(62,"li"),w(63,"Fixed Bug with wrong summon place. (Thanks Freetz)"),g(),p(64,"li"),w(65,"Updated pets & perks in Puppy Pack."),g(),p(66,"li"),w(67,"Updated pets in Unicorn Pack. (Thanks Tangl)"),g(),g(),p(68,"h2"),w(69,"v0.6.13"),g(),p(70,"ul"),p(71,"li"),w(72,"Updated Deer, Turkey, Whale, and Wolverine."),g(),p(73,"li"),w(74,"Added gain perk trigger for rabbit and seal."),g(),g(),p(75,"h2"),w(76,"v0.6.12"),g(),p(77,"ul"),p(78,"li"),w(79,"Fixed bug with Parrot chaining when front Parrot has lower attack. (Thanks jer.re)"),g(),p(80,"li"),w(81,"Fixed bug with level 1 Crab having 0 health when copying health of pet with 1 health. (Thanks Freetz)"),g(),g(),p(82,"h2"),w(83,"v0.6.11"),g(),p(84,"ul"),p(85,"li"),w(86,"Fixed bug with spawn perks having unpredictable spawn locations. (Thanks Tangl and Wombat)"),g(),p(87,"li"),w(88,"Fixed bug with Parrot chaining. (Thanks Tangl)"),g(),p(89,"li"),w(90,"Fixed bug with Fig (and probably other perks) not working with Parrot."),g(),g(),p(91,"h2"),w(92,"v0.6.10"),g(),p(93,"ul"),p(94,"li"),w(95,"Fixed bug on Import Calculator where importing an empty slot would cause pets from previous calculator to persist. (Thanks jer.re and Freetz)"),g(),p(96,"li"),w(97,"Fixed Pandoras Box"),g(),p(98,"ul"),p(99,"li"),w(100,"Removed perks available according to here: https://superautopets.wiki.gg/wiki/Pandoras_Box"),g(),p(101,"li"),w(102,"Pandoras Box has a 50% chance to give an ailment. If this is incorrect direct hate towards Cheese from SAP Dojo."),g(),g(),g(),p(103,"h2"),w(104,"v0.6.9"),g(),p(105,"ul"),p(106,"li"),w(107,"Fixed more tiger interactions breaking calculator. (Thanks tibby)"),g(),g(),p(108,"h2"),w(109,"v0.6.8"),g(),p(110,"ul"),p(111,"li"),w(112,"Added Export Calculator modal."),g(),p(113,"li"),w(114,"Fixed bug with Dodo not changing Start of Battle priorities in battle. (Thanks Plkess and CrocsAreNice)"),g(),p(115,"li"),w(116,"Fixed bug with Armadillo not giving itself health."),g(),p(117,"li"),w(118,"Fixed Salmon of Knowledge giving itself experience. (Thanks Wombat)"),g(),p(119,"li"),w(120,"Added Unicorn Pack to custom pack editor. (Thanks Rake News)"),g(),p(121,"li"),w(122,"Changed priorty order of knock out and pet ahead faints abilities - fixes Rhino/Ox interaction. (Thanks Mazl0w)"),g(),g(),p(123,"h2"),w(124,"v0.6.7"),g(),p(125,"ul"),p(126,"li"),w(127,"Fixed bug with Tiger sometimes using the wrong level. (Thanks hop)"),g(),g(),p(128,"h2"),w(129,"v0.6.6"),g(),p(130,"ul"),p(131,"li"),w(132,"Fixed bug with parrot. (Thanks hop)"),g(),p(133,"li"),w(134,"Fixed bug with Crisp always doing 6 damage. (Thanks Kutarba)"),g(),g(),p(135,"h2"),w(136,"v0.6.5"),g(),p(137,"ul"),p(138,"li"),w(139,"Fixed Anubis feint abilities happening before other start of battle abilities. (Thanks Grounded)"),g(),p(140,"li"),w(141,"Fixed Roc. (Thanks Grounded)"),g(),p(142,"li"),w(143,"Fixed mana snipe going off after Kitsune removes the mana. (Thanks Grounded)"),g(),p(144,"li"),w(145,"Fixed Manticore ability not going off if it feints. (Thanks goose)"),g(),p(146,"li"),w(147,"Fixed issue with Calygreyhound and there being only one pet left. (Thanks MAi.k)"),g(),p(148,"li"),w(149,"Fixed issue with Slepnir not targeting correctly. (Thanks goose)"),g(),p(150,"li"),w(151,"Max mana is now 50. (Thanks goose)"),g(),p(152,"li"),w(153,"Fixed potato."),g(),p(154,"li"),w(155,"Fixed issue with Pteradon not summoning behind itself in some cases."),g(),p(156,"li"),w(157,"Fixed Snake + Tiger bug. (Thanks mumf)"),g(),g(),p(158,"h2"),w(159,"v0.6.4"),g(),p(160,"ul"),p(161,"li"),w(162,"Fixed order of Friend Faints events so that it triggers after friendly units are summoned. (Thanks Grounded)"),g(),p(163,"li"),w(164,"Fixed calculator simulating only once. \u{1f926}\u200d\u2642\ufe0f"),g(),g(),p(165,"h2"),w(166,"v0.6.3"),g(),p(167,"ul"),p(168,"li"),w(169,"Added Yggdrasil Fruit (Thanks Vuenc)"),g(),p(170,"li"),w(171,"Fixed issue with some pets when spawned having mana. (Thanks Grounded)"),g(),g(),p(172,"h2"),w(173,"v0.6.2"),g(),p(174,"ul"),p(175,"li"),w(176,"Fixed Monty's base stats. (Thanks goose)"),g(),p(177,"li"),w(178,"Fixed Visitor's (and Bear's) ability not targeting ahead friendly units. (Thanks goose)"),g(),p(179,"li"),w(180,"Fixed bug where Tiger fainting before Start of Battle abilities did not triger the Tiger's ability. (Thanks goose)"),g(),p(181,"li"),w(182,"Fixed bug with certain pets having Donut breaking the calculator. (Thanks Freetz)"),g(),p(183,"li"),w(184,"Fixed Manticore not working with Crips. (Thanks Freetz)"),g(),p(185,"li"),w(186,"Added 'Ailment Equipment' mode."),g(),g(),p(187,"h2"),w(188,"v0.6.1"),g(),p(189,"ul"),p(190,"li"),w(191,"Fixed Roc not targeting Donut pets. (Thanks mewi3977)"),g(),p(192,"li"),w(193,"Updated to SAP Version 0.33.3-151 BETA"),g(),p(194,"ul"),p(195,"li"),w(196,"Changed Chimera, Nessie, Axehandle Hound, Unicorn, Vampire Bat, Warf, Barghest, Cyclops, Mana Hound, Loveland Frogman, Jersey Devil, Tigerbug, Bigfoot, Calygreyhound, Gargoyle, Ghost Kitten, Jackalope, Minotaur, Worm of Sand, Werewolf, Lucky Cat, Ogopogo. "),g(),p(197,"li"),w(198,"Added Spooked"),g(),p(199,"li"),w(200,"Minotaur stacks."),g(),g(),p(201,"li"),w(202,"Added Weak as an equipment option."),g(),p(203,"li"),w(204,"Import pack works with Unicorn pets."),g(),g(),p(205,"h2"),w(206,"v0.6.0"),g(),p(207,"ul"),p(208,"li"),w(209,"Unicorn Pack \u{1f389}"),g(),p(210,"li"),w(211,"Updated Info/Guide"),g(),g(),p(212,"h2"),w(213,"v0.5.27"),g(),p(214,"ul"),p(215,"li"),w(216,"Fixed bug with Camel's ability logs showing incorrect values."),g(),g(),p(217,"h2"),w(218,"v0.5.26"),g(),p(219,"ul"),p(220,"li"),w(221,"Fixed bugs with drag and drop. (Thanks Agentcore)"),g(),g(),p(222,"h2"),w(223,"v0.5.25"),g(),p(224,"ul"),p(225,"li"),w(226,"Fixed some import bugs."),g(),g(),p(227,"h2"),w(228,"v0.5.24"),g(),p(229,"ul"),p(230,"li"),w(231,"Fixed bug with Custom Pack dialog not opening."),g(),g(),p(232,"h2"),w(233,"v0.5.23"),g(),p(234,"ul"),p(235,"li"),w(236,"Fixed bug with importing empty pet slots."),g(),p(237,"li"),w(238,"Fixed bug with pets that Tapir summon being disjointed from its' parent player. (Thanks goose)"),g(),g(),p(239,"h2"),w(240,"v0.5.22"),g(),p(241,"ul"),p(242,"li"),w(243,"Fixed Pigeon base stats. (Thanks goose)"),g(),p(244,"li"),w(245,"Fixed Crab copying highest health pets stats even after fainting from other start of battle abilities. (Thanks Phoenix)"),g(),g(),p(246,"h2"),w(247,"v0.5.21"),g(),p(248,"ul"),p(249,"li"),w(250,"Fixed a few Panther/equipment interactions."),g(),p(251,"ul"),p(252,"li"),w(253,"Tomato (Thanks jer.re), Salt, Cheese, Durian, Egg."),g(),g(),g(),p(254,"h2"),w(255,"v0.5.20"),g(),p(256,"ul"),p(257,"li"),w(258,"Added Komodo Shuffle option."),g(),g(),p(259,"h2"),w(260,"v0.5.19"),g(),p(261,"ul"),p(262,"li"),w(263,"Removed Beluga Whale from Orca spawn pool."),g(),g(),p(264,"h2"),w(265,"v0.5.18"),g(),p(266,"ul"),p(267,"li"),w(268,"Fixed bug with Friend Ahead Attacks ability pets not triggering when fainting. (Thanks tibby)"),g(),g(),p(269,"h2"),w(270,"v0.5.17"),g(),p(271,"ul"),p(272,"li"),w(273,"Fixed bug that required running simulation on export."),g(),p(274,"li"),w(275,"Fixed bug with ailment overwritting faint food while pet faints breaking simulation."),g(),p(276,"li"),w(277,'Added "Token Pets" option.'),g(),p(278,"li"),w(279,"Added confirmation window to Reset and Randomize buttons."),g(),g(),p(280,"h2"),w(281,"v0.5.16"),g(),p(282,"ul"),p(283,"li"),w(284,"Fixed bug with Beluga Whale pet not spawning. (Thanks goose)"),g(),p(285,"li"),w(286,"Fixed bug with Chocolate Cake not triggering Knocked Out abilities."),g(),p(287,"li"),w(288,"Fixed bug with Cherry/Fig triggering multiple times after running multiple simulations."),g(),g(),p(289,"h2"),w(290,"v0.5.15"),g(),p(291,"ul"),p(292,"li"),w(293,"Updated to SAP Version 0.31.9-145 BETA"),g(),p(294,"ul"),p(295,"li"),w(296,"Added Pigeon, Hare."),g(),p(297,"li"),w(298,"Changed Cricket, Mouse Nest, Robin, Tabby Cat, Dog, Dolphin, Flying Squirrel, Hatching Chick, Owl, Ox, Raccoon, Cockatoo, Mosasaurus, Tyrannosaurus."),g(),p(299,"li"),w(300,"Added Fig."),g(),p(301,"li"),w(302,"Changed Cherry."),g(),g(),g(),p(303,"h2"),w(304,"v0.5.14"),g(),p(305,"ul"),p(306,"li"),w(307,"Bug Report System."),g(),g(),p(308,"h2"),w(309,"v0.5.13"),g(),p(310,"ul"),p(311,"li"),w(312,"Fixed bug with Opponent Empty Front Space events not triggering. (Thanks jer.re)"),g(),g(),p(313,"h2"),w(314,"v0.5.12"),g(),p(315,"ul"),p(316,"li"),w(317,"Pug is tier 3."),g(),p(318,"li"),w(319,"Siberian Husky spelling fix."),g(),p(320,"li"),w(321,"Fixed Kiwi not availble on Star pack. (Thanks Grounded)"),g(),g(),p(322,"h2"),w(323,"v0.5.11"),g(),p(324,"ul"),p(325,"li"),w(326,"Opossum is spelled correctly."),g(),g(),p(327,"h2"),w(328,"v0.5.10"),g(),p(329,"ul"),p(330,"li"),w(331,"Buff pets do not target 50/50 friends."),g(),g(),p(332,"h2"),w(333,"v0.5.9"),g(),p(334,"ul"),p(335,"li"),w(336,"Fixed Rhino base stats."),g(),p(337,"li"),w(338,"Fixed bug with Tiger behind Hurt pet. (Thanks Freetz)."),g(),p(339,"li"),w(340,"Reset button resets Equipment."),g(),p(341,"li"),w(342,"Fixed bugs with export/import."),g(),g(),p(343,"h2"),w(344,"v0.5.8"),g(),p(345,"ul"),p(346,"li"),w(347,"Fixed bug where Zombie Flies sometimes would spawn in the wrong position. (Thanks Grounded)"),g(),g(),p(348,"h2"),w(349,"v0.5.7"),g(),p(350,"ul"),p(351,"li"),w(352,"Added Pineapple."),g(),g(),p(353,"h2"),w(354,"v0.5.6"),g(),p(355,"ul"),p(356,"li"),w(357,"Fixed bug with Turtle always behaving as a level 1."),g(),g(),p(358,"h2"),w(359,"v0.5.5"),g(),p(360,"ul"),p(361,"li"),w(362,"Fixed bug with Pancakes pet getting all of the stats. (Thanks Grounded)"),g(),g(),p(363,"h2"),w(364,"v0.5.4"),g(),p(365,"ul"),p(366,"li"),w(367,"Calculator is (more) usable on mobile devices."),g(),g(),p(368,"h2"),w(369,"v0.5.3"),g(),p(370,"ul"),p(371,"li"),w(372,"Added Reset buttons for the Player and Opponent."),g(),p(373,"li"),w(374,"Export/Import Calculator."),g(),p(375,"li"),w(376,'Added "Old Stork" mode.'),g(),p(377,"li"),w(378,"Fixed spawn bug sometimes duplicating pets when up against Royal Flycatcher. (Thanks Freetz)"),g(),p(379,"li"),w(380,"Fixed bug with pets having Friend Summoned abilities hitting themselves when summoned with a mushroom."),g(),p(381,"li"),w(382,"Fixed bug with Pteradon's ability triggering if it also faints."),g(),g(),p(383,"h2"),w(384,"v0.5.2"),g(),p(385,"ul"),p(386,"li"),w(387,"Import Custom Packs"),g(),p(388,"li"),w(389,"Custom Pack editor improvments."),g(),g(),p(390,"h2"),w(391,"v0.5.1"),g(),p(392,"ul"),p(393,"li"),w(394,"Added remaining custom pack pets."),g(),p(395,"ul"),p(396,"li"),w(397,"Frilled Dragon, Wombat, Aardvark, Bear, Emperor Tamerain, Procupine, Wasp Dragonfly, Lynx, Seagull, Alpaca, Hyena, Moose, Lioness, Tapir, Walrus, White Tiger"),g(),g(),p(398,"li"),w(399,"Added remaining custom pack food."),g(),p(400,"ul"),p(401,"li"),w(402,"Blueberry, Donut"),g(),g(),p(403,"li"),w(404,"Fixed bug with blobfish showing as tier 3. (Thanks Freetz)"),g(),p(405,"li"),w(406,"Fixed bug with eggplant triggering multiple times when running the simulation multiple times. (Thanks Freetz)"),g(),p(407,"li"),w(408,"Fixed bug with mosquito able to target the same pet."),g(),g(),p(409,"h2"),w(410,"v0.5.0"),g(),p(411,"ul"),p(412,"li"),w(413,"Added custom packs!"),g(),p(414,"li"),w(415,"Added Jerboa"),g(),p(416,"li"),w(417,"Added Fortune Cookie"),g(),g(),p(418,"h2"),w(419,"v0.4.16"),g(),p(420,"ul"),p(421,"li"),w(422,"Updated to SAP Version 0.30.6-138 BETA"),g(),p(423,"ul"),p(424,"li"),w(425," Updated stats/abilities of these pets: Whale, Frog, Iguana, Marmoset, Mouse, Koala, Panda, Shrimp, Tabby Cat, Camel, Eel, Giraffe, Musk Ox, Owl, Ox, Starfish, Anteater, Chameleon, Egyptian Vulture, Manta Ray, Platypus, Cockatoo, Crane, Monkey, Shark, Piranha, Sabertooth Tiger. "),g(),p(426,"li"),w(427," Added Durian. "),g(),g(),g(),p(428,"h2"),w(429,"v0.4.15"),g(),p(430,"ul"),p(431,"li"),w(432,"Fixed bug with Eggplant triggering too many times. (Thanks Freetz)"),g(),g(),p(433,"h2"),w(434,"v0.4.14"),g(),p(435,"ul"),p(436,"li"),w(437,"Fixed rounding error with Skunk ability/Stinky Sock."),g(),p(438,"li"),w(439,"Fixed faint pets ability being the level of the whale when swallowed. (Thanks kutarba)"),g(),g(),p(440,"h2"),w(441,"v0.4.13"),g(),p(442,"ul"),p(443,"li"),w(444,"Fixed Pteradon"),g(),g(),p(445,"h2"),w(446,"v0.4.12"),g(),p(447,"ul"),p(448,"li"),w(449,"Updated to SAP Version 0.29.6-135 BETA"),g(),p(450,"ul"),p(451,"li"),w(452,"Updated stats/abilities of these pets: Ladybug, Atlantic Puffin, Guinea Pig, Hedgehog, Jellyfish, Pug, Salamander, Toucan, Blobfish, Clownfish, Flea, Flying Fish, Mole, Chameleon, Eel, Hippo, Poison Dart Frog, Whale, Fire Ant, Fox, Turkey, Lionfish, Pteradon, Tyrannosaurus. "),g(),g(),g(),p(453,"h2"),w(454,"v0.4.11"),g(),p(455,"ul"),p(456,"li"),w(457,"Fixed bug with Tiger not triggering Leopard when there are few enemies. (Thanks /u/MHolmesSC)"),g(),p(458,"li"),w(459,"Fixed bug with Ant over buffing units on faint. (Thanks /u/MHolmesSC)"),g(),p(460,"li"),w(461,"Fixed bug with Spider behaving odd. (Thanks /u/-RARO-)"),g(),w(462,"ng\n"),g(),p(463,"h2"),w(464,"v0.4.10"),g(),p(465,"ul"),p(466,"li"),w(467,"Fixed bug with Fly not spawning Zombie Fly from Start of Battle abilities fainting pets. (Thanks /u/Danielmac757)"),g(),g(),p(468,"h2"),w(469,"v0.4.9"),g(),p(470,"ul"),p(471,"li"),w(472,"Info/Guide modal."),g(),g(),p(473,"h2"),w(474,"v0.4.8"),g(),p(475,"ul"),p(476,"li"),w(477,"Fixed a bug with Fly attempting to spawn Zombie Fly when there is no room."),g(),g(),p(478,"h2"),w(479,"v0.4.7"),g(),p(480,"ul"),p(481,"li"),w(482,"Updated to SAP Version 0.28.20-130 BETA"),g(),p(483,"ul"),p(484,"li"),w(485,"Changed pets so they all move forward after start of battle abilities."),g(),g(),g(),p(486,"h2"),w(487,"v0.4.6"),g(),p(488,"ul"),p(489,"li"),w(490,"Fixed a bug with mushroom breaking the simulation by breaking the cache process. (Thanks BeastiaVenator)"),g(),p(491,"li"),w(492,"Fixed a bug with loading equipment from the browser cache."),g(),g(),p(493,"h2"),w(494,"v0.4.5"),g(),p(495,"ul"),p(496,"li"),w(497,"Drag and Drop!"),g(),g(),p(498,"h2"),w(499,"v0.4.4"),g(),p(500,"ul"),p(501,"li"),w(502,"Fixed a handful of Tiger bugs causing infinite loops."),g(),p(503,"li"),w(504,"Fixed a bug with typing select options."),g(),g(),p(505,"h2"),w(506,"v0.4.3"),g(),p(507,"ul"),p(508,"li"),w(509,"Duplicate pet option hotfix."),g(),g(),p(510,"h2"),w(511,"v0.4.2"),g(),p(512,"ul"),p(513,"li"),w(514,"Calculator state saves on 'Simulate'."),g(),p(515,"ul"),p(516,"li"),w(517,"This is stored in the browser cache. You can clear the cache by clicking on the link on the bottom of this modal."),g(),g(),p(518,"li"),w(519,"Fixed bugs with Angler mode toggling."),g(),p(520,"li"),w(521,"Zoom In/Out feature."),g(),p(522,"li"),w(523,"Fixed bug with Fly triggering twice instead of three times. (Thanks nob)"),g(),p(524,"li"),w(525,"Fixed bug with some snipe pets having no targets breaking simulation."),g(),g(),p(526,"h2"),w(527,"v0.4.1"),g(),p(528,"ul"),p(529,"li"),w(530,"Fixed a bug where Shark would gain attack/health on its own death. (Thanks mumf)"),g(),p(531,"li"),w(532,"Fixed a bug where attack bonus food would affect snipes. (Thanks Tangl)"),g(),g())},styles:[""]}),n})();const Fte=JSON.parse('{"tier1":[{"name":"African Wild Dog","tier":"1","id":"722"},{"name":"Alchemedes","tier":"1","id":"626"},{"name":"Ant","tier":"1","id":"0"},{"name":"Axehandle Hound","tier":"1","id":"377"},{"name":"Baku","tier":"1","id":"628"},{"name":"Barghest","tier":"1","id":"621"},{"name":"Basilisk","tier":"1","id":"332"},{"name":"Beaver","tier":"1","id":"3"},{"name":"Bee","tier":"1","id":"4"},{"name":"Bombus Dahlbomii","tier":"1","id":"674"},{"name":"Ethiopian Wolf","tier":"1","id":"675"},{"name":"Fan Mussel","tier":"1","id":"676"},{"name":"Togian Babirusa","tier":"1","id":"677"},{"name":"Tooth Billed Pigeon","tier":"1","id":"678"},{"name":"Beetle","tier":"1","id":"88"},{"name":"Bluebird","tier":"1","id":"89"},{"name":"Bulldog","tier":"1","id":"189"},{"name":"Bunyip","tier":"1","id":"601"},{"name":"Burbel","tier":"1","id":"659"},{"name":"Bus","tier":"1","id":"85"},{"name":"Butterfly","tier":"1","id":"9"},{"name":"Chick","tier":"1","id":"13"},{"name":"Chimera Goat","tier":"1","id":"648"},{"name":"Chimera Lion","tier":"1","id":"650"},{"name":"Chimera Snake","tier":"1","id":"649"},{"name":"Chinchilla","tier":"1","id":"161"},{"name":"Chipmunk","tier":"1","id":"184"},{"name":"Cockroach","tier":"1","id":"18"},{"name":"Cone Snail","tier":"1","id":"272"},{"name":"Cracked Egg","tier":"1","id":"647"},{"name":"Cricket","tier":"1","id":"17"},{"name":"Cuddle Toad","tier":"1","id":"611"},{"name":"Daycrawler","tier":"1","id":"641"},{"name":"Dirty Rat","tier":"1","id":"58"},{"name":"Duck","tier":"1","id":"26"},{"name":"Duckling","tier":"1","id":"113"},{"name":"Fake Nessie","tier":"1","id":"614"},{"name":"Ferret","tier":"1","id":"172"},{"name":"Fire Pup","tier":"1","id":"343"},{"name":"Fish","tier":"1","id":"32"},{"name":"Frilled Dragon","tier":"1","id":"198"},{"name":"Frog","tier":"1","id":"139"},{"name":"Gecko","tier":"1","id":"229"},{"name":"Giant Eyes Dog","tier":"1","id":"644"},{"name":"Golden Retriever","tier":"1","id":"188"},{"name":"Good Dog","tier":"1","id":"658"},{"name":"Salmon","tier":"1","id":"726"},{"name":"Mimic Octopus","tier":"6","id":"727"},{"name":"Ammonite","tier":"6","id":"730"},{"name":"Velociraptor","tier":"6","id":"732"},{"name":"Baby Urchin","tier":"2","id":"731"},{"name":"Goose","tier":"1","id":"232"},{"name":"Groundhog","tier":"1","id":"233"},{"name":"Guinea Piglet","tier":"1","id":"179"},{"name":"Lemming","tier":"1","id":"665"},{"name":"Chihuahua","tier":"1","id":"666"},{"name":"Firefly","tier":"1","id":"667"},{"name":"Pheasant","tier":"1","id":"668"},{"name":"Horse","tier":"1","id":"39"},{"name":"Hummingbird","tier":"1","id":"138"},{"name":"Hydra Head","tier":"1","id":"643"},{"name":"Iriomote Cat","tier":"1","id":"672"},{"name":"Ili Pika","tier":"1","id":"673"},{"name":"Malay Tapir","tier":"1","id":"704"},{"name":"Kiwi","tier":"1","id":"131"},{"name":"Ladybug","tier":"1","id":"92"},{"name":"Lizard Tail","tier":"1","id":"282"},{"name":"Loyal Chinchilla","tier":"1","id":"183"},{"name":"Magpie","tier":"1","id":"239"},{"name":"Marmoset","tier":"1","id":"204"},{"name":"Moby Dick","tier":"1","id":"-"},{"name":"Monty","tier":"1","id":"384"},{"name":"Mosquito","tier":"1","id":"47"},{"name":"Moth","tier":"1","id":"141"},{"name":"Mouse","tier":"1","id":"48"},{"name":"Murmel","tier":"1","id":"362"},{"name":"Nest","tier":"1","id":"508"},{"name":"Opossum","tier":"1","id":"187"},{"name":"Otter","tier":"1","id":"51"},{"name":"Pied Tamarin","tier":"1","id":"251"},{"name":"Pig","tier":"1","id":"59"},{"name":"Pigeon","tier":"1","id":"559"},{"name":"Pillbug","tier":"1","id":"149"},{"name":"Ram","tier":"1","id":"62"},{"name":"Mantis","tier":"1","id":"664"},{"name":"Rock","tier":"1","id":"638"},{"name":"Seahorse","tier":"1","id":"152"},{"name":"Silkmoth","tier":"1","id":"260"},{"name":"Sloth","tier":"1","id":"71"},{"name":"Smaller Slime","tier":"1","id":"642"},{"name":"Smaller Slug","tier":"1","id":"270"},{"name":"Smallest Slug","tier":"1","id":"477"},{"name":"Sneaky Egg","tier":"1","id":"617"},{"name":"Tsuchinoko","tier":"1","id":"379"},{"name":"Volcano Snail","tier":"1","id":"661"},{"name":"Warf","tier":"1","id":"382"},{"name":"Young Phoenix","tier":"1","id":"646"},{"name":"Zombie Cricket","tier":"1","id":"86"},{"name":"Zombie Fly","tier":"1","id":"31"},{"name":"Pengobble","tier":"1","id":"743"},{"name":"Gibbon","tier":"1","id":"748"},{"name":"Termite","tier":"1","id":"749"},{"name":"Fairy Ball","tier":"1","id":"751"},{"name":"Nessie Q","tier":"1","id":"752"},{"name":"Summoned Cockroach","tier":"1","id":"753"}],"tier2":[{"name":"African Penguin","tier":"2","id":"210"},{"name":"Angry Pygmy Hog","tier":"2","id":"679"},{"name":"Araripe Manakin","tier":"2","id":"705"},{"name":"European Mink","tier":"2","id":"706"},{"name":"Atlantic Puffin","tier":"2","id":"132"},{"name":"Bat","tier":"2","id":"87"},{"name":"Beluga Sturgeon","tier":"2","id":"213"},{"name":"Bigfoot","tier":"2","id":"334"},{"name":"Bilby","tier":"2","id":"663"},{"name":"Black Necked Stilt","tier":"2","id":"215"},{"name":"Chupacabra","tier":"2","id":"339"},{"name":"Crab","tier":"2","id":"16"},{"name":"Darwin\'s Fox","tier":"2","id":"733"},{"name":"Door Head Ant","tier":"2","id":"220"},{"name":"Dove","tier":"2","id":"24"},{"name":"Dromedary","tier":"2","id":"104"},{"name":"Drop Bear","tier":"2","id":"341"},{"name":"Flamingo","tier":"2","id":"29"},{"name":"Frigatebird","tier":"2","id":"137"},{"name":"Frost Wolf","tier":"2","id":"344"},{"name":"Gargoyle","tier":"2","id":"345"},{"name":"Gazelle","tier":"2","id":"185"},{"name":"Ghost Kitten","tier":"2","id":"346"},{"name":"Golden Beetle","tier":"2","id":"634"},{"name":"Guinea Pig","tier":"2","id":"109"},{"name":"Hedgehog","tier":"2","id":"37"},{"name":"Hercules Beetle","tier":"2","id":"234"},{"name":"Iguana","tier":"2","id":"147"},{"name":"Jackalope","tier":"2","id":"353"},{"name":"Jellyfish","tier":"2","id":"122"},{"name":"Kangaroo","tier":"2","id":"40"},{"name":"Koala","tier":"2","id":"112"},{"name":"Lemur","tier":"2","id":"236"},{"name":"Lizard","tier":"2","id":"237"},{"name":"Lucky Cat","tier":"3","id":"623"},{"name":"Mandrill","tier":"2","id":"405"},{"name":"Mothman","tier":"2","id":"604"},{"name":"Nightcrawler","tier":"2","id":"605"},{"name":"Ogopogo","tier":"2","id":"639"},{"name":"Panda","tier":"2","id":"107"},{"name":"Peacock","tier":"2","id":"54"},{"name":"Proboscis Monkey","tier":"2","id":"680"},{"name":"Pygmy Hog","tier":"2","id":"681"},{"name":"Saola","tier":"2","id":"682"},{"name":"Saker Falcon","tier":"2","id":"707"},{"name":"Taita Shrew","tier":"2","id":"683"},{"name":"Takhi","tier":"2","id":"734"},{"name":"White-Bellied Heron","tier":"2","id":"684"},{"name":"Rat","tier":"2","id":"57"},{"name":"Robin","tier":"2","id":"255"},{"name":"Salamander","tier":"2","id":"164"},{"name":"Sea Turtle","tier":"2","id":"191"},{"name":"Sea Urchin","tier":"2","id":"258"},{"name":"Shrimp","tier":"2","id":"67"},{"name":"Snail","tier":"2","id":"72"},{"name":"Sphinx","tier":"2","id":"376"},{"name":"Spider","tier":"2","id":"74"},{"name":"Squid","tier":"2","id":"177"},{"name":"Stoat","tier":"2","id":"263"},{"name":"Stork","tier":"2","id":"136"},{"name":"Swan","tier":"2","id":"76"},{"name":"Tabby Cat","tier":"2","id":"99"},{"name":"Thunderbird","tier":"2","id":"610"},{"name":"Toucan","tier":"2","id":"151"},{"name":"Wombat","tier":"2","id":"207"},{"name":"Worm","tier":"2","id":"82"},{"name":"Yak","tier":"2","id":"163"},{"name":"Dumbo Octupus","tier":"2","id":"661"},{"name":"Bass","tier":"2","id":"669"},{"name":"Shima Enaga","tier":"2","id":"725"}],"tier3":[{"name":"Aardvark","tier":"3","id":"193"},{"name":"Amami Rabbit","tier":"3","id":"735"},{"name":"Anteater","tier":"3","id":"105"},{"name":"Baboon","tier":"3","id":"171"},{"name":"Badger","tier":"3","id":"2"},{"name":"Bear","tier":"3","id":"140"},{"name":"Betta Fish","tier":"3","id":"214"},{"name":"Blue-Throated Macaw","tier":"3","id":"685"},{"name":"Brain Cramp","tier":"3","id":"349"},{"name":"Calygreyhound","tier":"3","id":"336"},{"name":"Camel","tier":"3","id":"10"},{"name":"Capybara","tier":"3","id":"154"},{"name":"Cassowary","tier":"3","id":"133"},{"name":"Deer Lord","tier":"3","id":"651"},{"name":"Dodo","tier":"3","id":"21"},{"name":"Dog","tier":"3","id":"22"},{"name":"Dolphin","tier":"3","id":"23"},{"name":"Eel","tier":"3","id":"120"},{"name":"Elephant","tier":"3","id":"28"},{"name":"Emperor Tamarin","tier":"3","id":"197"},{"name":"Flea","tier":"3","id":"225"},{"name":"Flying Fish","tier":"3","id":"226"},{"name":"Flying Squirrel","tier":"3","id":"227"},{"name":"Foo Dog","tier":"3","id":"625"},{"name":"Fur-Bearing Trout","tier":"3","id":"653"},{"name":"Giraffe","tier":"3","id":"33"},{"name":"Gold Fish","tier":"3","id":"121"},{"name":"Griffin","tier":"3","id":"348"},{"name":"Guineafowl","tier":"3","id":"228"},{"name":"Hare","tier":"3","id":"551"},{"name":"Hatching Chick","tier":"3","id":"91"},{"name":"Hirola","tier":"3","id":"686"},{"name":"Hoopoe Bird","tier":"3","id":"235"},{"name":"Leech","tier":"3","id":"165"},{"name":"Mana Hound","tier":"3","id":"635"},{"name":"Mandrake","tier":"3","id":"357"},{"name":"Meerkat","tier":"3","id":"203"},{"name":"Minotaur","tier":"4","id":"360"},{"name":"Mole","tier":"3","id":"168"},{"name":"Monkey-Faced Bat","tier":"3","id":"708"},{"name":"Takin","tier":"3","id":"709"},{"name":"Tucuxi","tier":"3","id":"710"},{"name":"Musk Ox","tier":"3","id":"245"},{"name":"Okapi","tier":"3","id":"130"},{"name":"Osprey","tier":"3","id":"247"},{"name":"Ouroboros","tier":"3","id":"364"},{"name":"Owl","tier":"3","id":"95"},{"name":"Ox","tier":"3","id":"52"},{"name":"Pangolin","tier":"3","id":"249"},{"name":"Pegasus","tier":"3","id":"365"},{"name":"Porcupine","tier":"3","id":"169"},{"name":"Pug","tier":"3","id":"145"},{"name":"Pygmy Hippo","tier":"3","id":"687"},{"name":"Roloway Monkey","tier":"3","id":"688"},{"name":"Spoon-Billed Sandpiper","tier":"3","id":"689"},{"name":"Tree Kangaroo","tier":"3","id":"742"},{"name":"Angelshark","tier":"4","id":"690"},{"name":"Bonobo","tier":"4","id":"691"},{"name":"Giant Otter","tier":"4","id":"739"},{"name":"Giant Tortoise","tier":"4","id":"692"},{"name":"Golden Tamarin","tier":"4","id":"693"},{"name":"Humphead Wrasse","tier":"4","id":"711"},{"name":"Kakapo","tier":"4","id":"712"},{"name":"Longcomb Sawfish","tier":"4","id":"694"},{"name":"Puppy","tier":"3","id":"97"},{"name":"Rabbit","tier":"3","id":"60"},{"name":"Royal Flycatcher","tier":"3","id":"256"},{"name":"Sheep","tier":"3","id":"68"},{"name":"Skeleton Dog","tier":"3","id":"374"},{"name":"Slime","tier":"3","id":"375"},{"name":"Surgeon Fish","tier":"3","id":"264"},{"name":"Toad","tier":"3","id":"162"},{"name":"Tree","tier":"3","id":"378"},{"name":"Tropical Fish","tier":"3","id":"100"},{"name":"Wasp","tier":"3","id":"160"},{"name":"Weasel","tier":"3","id":"173"},{"name":"Woodpecker","tier":"5","id":"156"},{"name":"Wyvern","tier":"3","id":"385"},{"name":"Tuna","tier":"3","id":"670"}],"tier4":[{"name":"Abomination","tier":"4","id":"373"},{"name":"Anubis","tier":"4","id":"331"},{"name":"Amazon River Dolphin","tier":"4","id":"724"},{"name":"Bison","tier":"4","id":"5"},{"name":"Blobfish","tier":"5","id":"150"},{"name":"Blowfish","tier":"4","id":"7"},{"name":"Buffalo","tier":"4","id":"8"},{"name":"Caterpillar","tier":"4","id":"12"},{"name":"Chameleon","tier":"4","id":"216"},{"name":"Chimera","tier":"4","id":"338"},{"name":"Clownfish","tier":"4","id":"117"},{"name":"Cockatoo","tier":"4","id":"218"},{"name":"Crow","tier":"4","id":"195"},{"name":"Cuttlefish","tier":"4","id":"176"},{"name":"Cyclops","tier":"4","id":"630"},{"name":"Deer","tier":"4","id":"20"},{"name":"Doberman","tier":"4","id":"273"},{"name":"Donkey","tier":"4","id":"111"},{"name":"Dragonfly","tier":"4","id":"196"},{"name":"Fairy","tier":"4","id":"342"},{"name":"Falcon","tier":"4","id":"224"},{"name":"Gharial","tier":"4","id":"231"},{"name":"Hawk","tier":"4","id":"127"},{"name":"Hippo","tier":"4","id":"38"},{"name":"Hippocampus","tier":"4","id":"350"},{"name":"Jerboa","tier":"4","id":"199"},{"name":"Kraken","tier":"4","id":"355"},{"name":"Llama","tier":"4","id":"44"},{"name":"Lobster","tier":"4","id":"93"},{"name":"Lynx","tier":"4","id":"200"},{"name":"Manatee","tier":"4","id":"192"},{"name":"Manta Ray","tier":"4","id":"240"},{"name":"Microbe","tier":"4","id":"94"},{"name":"Old Mouse","tier":"4","id":"612"},{"name":"Orangutan","tier":"3","id":"157"},{"name":"Parrot","tier":"4","id":"53"},{"name":"Pelican","tier":"5","id":"129"},{"name":"Penguin","tier":"4","id":"56"},{"name":"Platypus","tier":"4","id":"159"},{"name":"Poison Dart Frog","tier":"4","id":"252"},{"name":"Praying Mantis","tier":"4","id":"126"},{"name":"Roc","tier":"4","id":"369"},{"name":"Rootling","tier":"4","id":"622"},{"name":"Saiga Antelope","tier":"4","id":"257"},{"name":"Seagull","tier":"4","id":"128"},{"name":"Sealion","tier":"4","id":"175"},{"name":"Secretary Bird","tier":"4","id":"259"},{"name":"Skunk","tier":"4","id":"70"},{"name":"Slug","tier":"4","id":"262"},{"name":"Squirrel","tier":"4","id":"75"},{"name":"Starfish","tier":"5","id":"153"},{"name":"Tahr","tier":"4","id":"393"},{"name":"Tatzelwurm","tier":"4","id":"654"},{"name":"Tiger Bug","tier":"4","id":"330"},{"name":"Turtle","tier":"4","id":"80"},{"name":"Unicorn","tier":"4","id":"380"},{"name":"Vaquita","tier":"4","id":"265"},{"name":"Visitor","tier":"4","id":"386"},{"name":"Whale","tier":"4","id":"81"},{"name":"Whale Shark","tier":"4","id":"267"},{"name":"Worm of Sand","tier":"4","id":"371"},{"name":"Elk","tier":"4","id":"671"},{"name":"Goblin Shark","tier":"4","id":"719"},{"name":"Red Lipped Batfish","tier":"4","id":"720"},{"name":"Platybelodon","tier":"4","id":"721"},{"name":"Tasmanian Devil","tier":"4","id":"736"},{"name":"Fairy Armadillo","tier":"4","id":"745"},{"name":"Siamese","tier":"4","id":"746"},{"name":"Sparrow","tier":"4","id":"747"}],"tier5":[{"name":"Aye-aye","tier":"5","id":"695"},{"name":"Banggai Cardinalfish","tier":"5","id":"696"},{"name":"Alpaca","tier":"5","id":"194"},{"name":"Armadillo","tier":"5","id":"166"},{"name":"Axolotl","tier":"5","id":"212"},{"name":"Bad Dog","tier":"5","id":"613"},{"name":"Beluga Whale","tier":"5","id":"182"},{"name":"Blue Ringed Octopus","tier":"5","id":"271"},{"name":"Boitata","tier":"5","id":"656"},{"name":"Chicken","tier":"5","id":"14"},{"name":"Cow","tier":"5","id":"15"},{"name":"Crane","tier":"5","id":"219"},{"name":"Crocodile","tier":"5","id":"19"},{"name":"Eagle","tier":"5","id":"27"},{"name":"Eagle","tier":"5","id":"662"},{"name":"Egyptian Vulture","tier":"5","id":"221"},{"name":"Emu","tier":"5","id":"223"},{"name":"Fire Ant","tier":"5","id":"274"},{"name":"Fox","tier":"5","id":"106"},{"name":"Goat","tier":"5","id":"34"},{"name":"Geometric Tortoise","tier":"5","id":"742"},{"name":"Giant Pangasius","tier":"5","id":"740"},{"name":"Hamster","tier":"5","id":"110"},{"name":"Hawaiian Monk Seal","tier":"5","id":"723"},{"name":"Marine Iguana","tier":"5","id":"755"},{"name":"Hyena","tier":"5","id":"167"},{"name":"Jersey Devil","tier":"5","id":"652"},{"name":"Kappa","tier":"5","id":"655"},{"name":"Kitsune","tier":"5","id":"354"},{"name":"Lion","tier":"5","id":"42"},{"name":"Loveland Frogman","tier":"5","id":"640"},{"name":"Macaque","tier":"5","id":"238"},{"name":"Mimic","tier":"5","id":"359"},{"name":"Monkey","tier":"5","id":"46"},{"name":"Moose","tier":"5","id":"202"},{"name":"Mosasaurus","tier":"5","id":"242"},{"name":"Nessie","tier":"5","id":"363"},{"name":"Nurikabe","tier":"5","id":"657"},{"name":"Nurse Shark","tier":"5","id":"276"},{"name":"Nyala","tier":"5","id":"246"},{"name":"Panther","tier":"5","id":"250"},{"name":"Pixiu","tier":"5","id":"619"},{"name":"Polar Bear","tier":"5","id":"108"},{"name":"Poodle","tier":"5","id":"96"},{"name":"Red Panda","tier":"5","id":"697"},{"name":"Taita Thrush","tier":"5","id":"713"},{"name":"Painted Terrapin","tier":"5","id":"714"},{"name":"Raccoon","tier":"5","id":"158"},{"name":"Red Dragon","tier":"5","id":"368"},{"name":"Rhino","tier":"5","id":"55"},{"name":"Rooster","tier":"5","id":"63"},{"name":"Salmon of Knowledge","tier":"5","id":"370"},{"name":"Scorpion","tier":"5","id":"65"},{"name":"Sea Cucumber","tier":"5","id":"717"},{"name":"Seal","tier":"5","id":"66"},{"name":"Shark","tier":"5","id":"69"},{"name":"Shoebill","tier":"5","id":"134"},{"name":"Siberian Husky","tier":"5","id":"146"},{"name":"Silver Fox","tier":"5","id":"261"},{"name":"Snapping Turtle","tier":"5","id":"277"},{"name":"Sting Ray","tier":"5","id":"178"},{"name":"Stonefish","tier":"5","id":"278"},{"name":"Sword Fish","tier":"5","id":"119"},{"name":"Tandgnost","tier":"5","id":"607"},{"name":"Tandgrisner","tier":"5","id":"608"},{"name":"Triceratops","tier":"5","id":"142"},{"name":"Turkey","tier":"5","id":"79"},{"name":"Vampire Bat","tier":"5","id":"381"},{"name":"Vulture","tier":"5","id":"135"},{"name":"Ibex","tier":"5","id":"727"},{"name":"Werewolf","tier":"5","id":"383"},{"name":"Wolf","tier":"5","id":"170"},{"name":"Snow Leopard","tier":"5","id":"737"},{"name":"Zebra","tier":"5","id":"155"},{"name":"Amalgamation","tier":"5","id":"750"}],"tier6":[{"name":"Amsterdam Albatross","tier":"6","id":"698"},{"name":"Bay Cat","tier":"6","id":"714"},{"name":"Black Rhino","tier":"6","id":"699"},{"name":"Blue Whale","tier":"6","id":"700"},{"name":"California Condor","tier":"6","id":"701"},{"name":"Green Sea Turtle","tier":"6","id":"702"},{"name":"Helmeted Hornbill","tier":"6","id":"703"},{"name":"Philippine Eagle","tier":"6","id":"715"},{"name":"Silky Sifaka","tier":"6","id":"716"},{"name":"Sumatran Tiger","tier":"6","id":"738"},{"name":"Anglerfish","tier":"6","id":"180"},{"name":"Behemoth","tier":"6","id":"333"},{"name":"Bird of Paradise","tier":"6","id":"181"},{"name":"Boar","tier":"6","id":"103"},{"name":"Cat","tier":"6","id":"11"},{"name":"Catfish","tier":"6","id":"174"},{"name":"Cerberus","tier":"6","id":"337"},{"name":"Cobra","tier":"6","id":"217"},{"name":"Cockatrice","tier":"6","id":"340"},{"name":"Dragon","tier":"6","id":"25"},{"name":"Elephant Seal","tier":"6","id":"222"},{"name":"Fly","tier":"6","id":"30"},{"name":"German Shepherd","tier":"6","id":"230"},{"name":"Gorilla","tier":"6","id":"36"},{"name":"Great One","tier":"6","id":"335"},{"name":"Grizzly Bear","tier":"6","id":"275"},{"name":"Hammerhead Shark","tier":"6","id":"123"},{"name":"Highland Cow","tier":"6","id":"186"},{"name":"Hydra","tier":"6","id":"352"},{"name":"Komodo","tier":"6","id":"124"},{"name":"Leopard","tier":"6","id":"41"},{"name":"Leviathan","tier":"6","id":"356"},{"name":"Lioness","tier":"6","id":"114"},{"name":"Lionfish","tier":"6","id":"201"},{"name":"Mammoth","tier":"6","id":"45"},{"name":"Manticore","tier":"6","id":"358"},{"name":"Mantis Shrimp","tier":"6","id":"190"},{"name":"Mongoose","tier":"6","id":"241"},{"name":"Octopus","tier":"6","id":"50"},{"name":"Orca","tier":"6","id":"116"},{"name":"Ostrich","tier":"6","id":"125"},{"name":"Oyster","tier":"6","id":"248"},{"name":"Phoenix","tier":"6","id":"366"},{"name":"Piranha","tier":"6","id":"118"},{"name":"Pteranodon","tier":"6","id":"253"},{"name":"Puma","tier":"6","id":"254"},{"name":"Questing Beast","tier":"6","id":"616"},{"name":"Quetzalcoatl","tier":"6","id":"367"},{"name":"Reindeer","tier":"6","id":"205"},{"name":"Harpy Eagle","tier":"6","id":"148"},{"name":"Sauropod","tier":"6","id":"98"},{"name":"Sea Serpent","tier":"6","id":"372"},{"name":"Sleipnir","tier":"6","id":"606"},{"name":"Snake","tier":"6","id":"73"},{"name":"Spinosaurus","tier":"6","id":"143"},{"name":"Stegosaurus","tier":"6","id":"144"},{"name":"Tapir","tier":"6","id":"208"},{"name":"Tarantula Hawk","tier":"6","id":"718"},{"name":"Team Spirit","tier":"6","id":"636"},{"name":"Tiger","tier":"6","id":"77"},{"name":"Tyrannosaurus","tier":"6","id":"78"},{"name":"Therizinosaurus","tier":"6","id":"115"},{"name":"Walrus","tier":"6","id":"209"},{"name":"Warthog","tier":"6","id":"266"},{"name":"White Tiger","tier":"6","id":"206"},{"name":"Wildebeest","tier":"6","id":"268"},{"name":"Wolverine","tier":"6","id":"269"},{"name":"Yeti","tier":"6","id":"387"},{"name":"Albatross","tier":6,"id":"660"},{"name":"Real Velociraptor","tier":"6","id":"728"},{"name":"Sabertooth Tiger","tier":"6","id":"729"},{"name":"Farmer Dog","tier":"6","id":"754"}]}');var Hte=Jt.t(Fte,2);function qte(n,t){1&n&&(p(0,"div",12),w(1," That name is not allowed. "),g())}function Ute(n,t){if(1&n&&(p(0,"div",13),ie(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;F(1),z("id",e)("formControlName",e),F(1),z("for",e),F(1),Pi(" ",e," ")}}function Gte(n,t){if(1&n&&(p(0,"div",13),ie(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;F(1),z("id",e)("formControlName",e),F(1),z("for",e),F(1),Pi(" ",e," ")}}function jte(n,t){if(1&n&&(p(0,"div",13),ie(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;F(1),z("id",e)("formControlName",e),F(1),z("for",e),F(1),Pi(" ",e," ")}}function Wte(n,t){if(1&n&&(p(0,"div",13),ie(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;F(1),z("id",e)("formControlName",e),F(1),z("for",e),F(1),Pi(" ",e," ")}}function zte(n,t){if(1&n&&(p(0,"div",13),ie(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;F(1),z("id",e)("formControlName",e),F(1),z("for",e),F(1),Pi(" ",e," ")}}function Kte(n,t){if(1&n&&(p(0,"div",13),ie(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;F(1),z("id",e)("formControlName",e),F(1),z("for",e),F(1),Pi(" ",e," ")}}function Qte(n,t){1&n&&(p(0,"div",12),w(1," Name is required. "),g())}let Yte=(()=>{class n{constructor(e){this.equipmentService=e,this.submitEvent=new mt,this.cancelEvent=new mt,this.loaded=!1}ngOnInit(){this.initCheckboxFormGroup(),this.formGroup.updateValueAndValidity()}initCheckboxFormGroup(){let e=new $i({}),i=new $i({}),s=new $i({}),r=new $i({}),a=new $i({}),o=new $i({});for(let l of this.getPets(1)){let h=new ee(this.formGroup.get("tier1Pets").value.includes(l));h.valueChanges.subscribe(d=>{this.processCheckboxChange(1,l,d)}),e.addControl(l,h)}for(let l of this.getPets(2)){let h=new ee(this.formGroup.get("tier2Pets").value.includes(l));h.valueChanges.subscribe(d=>{this.processCheckboxChange(2,l,d)}),i.addControl(l,h)}for(let l of this.getPets(3)){let h=new ee(this.formGroup.get("tier3Pets").value.includes(l));h.valueChanges.subscribe(d=>{this.processCheckboxChange(3,l,d)}),s.addControl(l,h)}for(let l of this.getPets(4)){let h=new ee(this.formGroup.get("tier4Pets").value.includes(l));h.valueChanges.subscribe(d=>{this.processCheckboxChange(4,l,d)}),r.addControl(l,h)}for(let l of this.getPets(5)){let h=new ee(this.formGroup.get("tier5Pets").value.includes(l));h.valueChanges.subscribe(d=>{this.processCheckboxChange(5,l,d)}),a.addControl(l,h)}for(let l of this.getPets(6)){let h=new ee(this.formGroup.get("tier6Pets").value.includes(l));h.valueChanges.subscribe(d=>{this.processCheckboxChange(6,l,d)}),o.addControl(l,h)}this.checkboxFormGroup=new $i({tier1Pets:e,tier2Pets:i,tier3Pets:s,tier4Pets:r,tier5Pets:a,tier6Pets:o})}getCheckboxFormGroup(e){return this.checkboxFormGroup.get(`tier${e}Pets`)}getPets(e){let i=[];for(let[s,r]of this.petPackMap.get(e))i.push(...r);return i=[...new Set(i)],i}getCount(e){return this.formGroup.get(`tier${e}Pets`).value.length}processCheckboxChange(e,i,s){let r=this.formGroup.get(`tier${e}Pets`).value;s?r.push(i):(0,yt.remove)(r,a=>a===i),this.formGroup.get(`tier${e}Pets`).updateValueAndValidity()}submit(){this.submitEvent.emit(this.formGroup)}cancel(){confirm("Are you sure you want to cancel?")&&this.cancelEvent.emit(this.formGroup)}submitDisabled(){return this.formGroup.get("name").invalid}}return n.\u0275fac=function(e){return new(e||n)($(dn))},n.\u0275cmp=Bn({type:n,selectors:[["app-custom-pack-form"]],inputs:{formGroup:"formGroup",petPackMap:"petPackMap"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:68,vars:34,consts:[[3,"formGroup"],[1,"row","mb-4"],[1,"col-12"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],["class","invalid",4,"ngIf"],[1,"row","mb-4",3,"formGroup"],[1,"row"],[1,"col-12","editor-grid"],["class","form-check",4,"ngFor","ngForOf"],[1,"btn","btn-primary","me-2",3,"disabled","click"],[1,"btn","btn-danger",3,"click"],[1,"invalid"],[1,"form-check"],["type","checkbox","value","",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"]],template:function(e,i){1&e&&(p(0,"form",0),p(1,"div",1),p(2,"div",2),p(3,"label",3),w(4,"Pack Name"),g(),ie(5,"input",4),Re(6,qte,2,0,"div",5),g(),g(),p(7,"div",6),p(8,"div",2),p(9,"h3"),w(10,"Tier 1 Pets "),p(11,"span"),w(12),g(),g(),p(13,"div",7),p(14,"div",8),Re(15,Ute,4,4,"div",9),g(),g(),g(),g(),p(16,"div",6),p(17,"div",2),p(18,"h3"),w(19,"Tier 2 Pets "),p(20,"span"),w(21),g(),g(),p(22,"div",7),p(23,"div",8),Re(24,Gte,4,4,"div",9),g(),g(),g(),g(),p(25,"div",6),p(26,"div",2),p(27,"h3"),w(28,"Tier 3 Pets "),p(29,"span"),w(30),g(),g(),p(31,"div",7),p(32,"div",8),Re(33,jte,4,4,"div",9),g(),g(),g(),g(),p(34,"div",6),p(35,"div",2),p(36,"h3"),w(37,"Tier 4 Pets "),p(38,"span"),w(39),g(),g(),p(40,"div",7),p(41,"div",8),Re(42,Wte,4,4,"div",9),g(),g(),g(),g(),p(43,"div",6),p(44,"div",2),p(45,"h3"),w(46,"Tier 5 Pets "),p(47,"span"),w(48),g(),g(),p(49,"div",7),p(50,"div",8),Re(51,zte,4,4,"div",9),g(),g(),g(),g(),p(52,"div",6),p(53,"div",2),p(54,"h3"),w(55,"Tier 6 Pets "),p(56,"span"),w(57),g(),g(),p(58,"div",7),p(59,"div",8),Re(60,Kte,4,4,"div",9),g(),g(),g(),g(),p(61,"div",7),p(62,"div",2),p(63,"button",10),We("click",function(){return i.submit()}),w(64,"Submit Pack"),g(),p(65,"button",11),We("click",function(){return i.cancel()}),w(66,"Cancel"),g(),Re(67,Qte,2,0,"div",5),g(),g(),g()),2&e&&(z("formGroup",i.formGroup),F(6),z("ngIf",null==i.formGroup.get("name").errors?null:i.formGroup.get("name").errors.forbiddenName),F(1),z("formGroup",i.getCheckboxFormGroup(1)),F(4),Os(10==i.getCount(1)?"valid":"invalid"),F(1),Pi("",i.getCount(1),"/10"),F(3),z("ngForOf",i.getPets(1)),F(1),z("formGroup",i.getCheckboxFormGroup(2)),F(4),Os(10==i.getCount(2)?"valid":"invalid"),F(1),Pi("",i.getCount(2),"/10"),F(3),z("ngForOf",i.getPets(2)),F(1),z("formGroup",i.getCheckboxFormGroup(3)),F(4),Os(10==i.getCount(3)?"valid":"invalid"),F(1),Pi("",i.getCount(3),"/10"),F(3),z("ngForOf",i.getPets(3)),F(1),z("formGroup",i.getCheckboxFormGroup(4)),F(4),Os(10==i.getCount(4)?"valid":"invalid"),F(1),Pi("",i.getCount(4),"/10"),F(3),z("ngForOf",i.getPets(4)),F(1),z("formGroup",i.getCheckboxFormGroup(5)),F(4),Os(10==i.getCount(5)?"valid":"invalid"),F(1),Pi("",i.getCount(5),"/10"),F(3),z("ngForOf",i.getPets(5)),F(1),z("formGroup",i.getCheckboxFormGroup(6)),F(4),Os(10==i.getCount(6)?"valid":"invalid"),F(1),Pi("",i.getCount(6),"/10"),F(3),z("ngForOf",i.getPets(6)),F(3),z("disabled",i.submitDisabled()),F(4),z("ngIf",i.submitDisabled()))},directives:[g3,hc,qa,Ha,uc,qo,ph,Dp,t_],styles:[".editor-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);grid-gap:1rem}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:#0ab40a}"]}),n})();function Jte(n,t){if(1&n){const e=qr();p(0,"div",2),p(1,"div",3),p(2,"app-custom-pack-form",4),We("submitEvent",function(s){return Lt(e),ze().submitEvent(s)})("cancelEvent",function(s){return Lt(e),ze().cancelEvent(s)}),g(),g(),g()}if(2&n){const e=ze();F(2),z("formGroup",e.makeFormGroup(e.focusedGroup))("petPackMap",e.petPackMap)}}function Zte(n,t){1&n&&(p(0,"span",15),w(1,"Valid"),g())}function Xte(n,t){1&n&&(p(0,"span",16),w(1,"Invalid"),g())}function eie(n,t){if(1&n){const e=qr();p(0,"tr"),p(1,"td",11),w(2),g(),p(3,"td",11),Re(4,Zte,2,0,"span",12),Re(5,Xte,2,0,"span",13),g(),p(6,"td"),p(7,"button",8),We("click",function(){const r=Lt(e).$implicit;return ze(2).editPack(r)}),w(8,"Edit"),g(),g(),p(9,"td"),p(10,"button",14),We("click",function(){const r=Lt(e).$implicit;return ze(2).deletePack(r)}),w(11,"Delete"),g(),g(),g()}if(2&n){const e=t.$implicit;F(2),Ni(e.get("name").value),F(2),z("ngIf",e.valid),F(1),z("ngIf",!e.valid)}}function tie(n,t){if(1&n){const e=qr();p(0,"div"),p(1,"div",5),p(2,"div",3),p(3,"h3"),w(4,"Custom Packs"),g(),p(5,"table"),Re(6,eie,12,3,"tr",6),g(),g(),g(),p(7,"div",7),p(8,"div",3),p(9,"button",8),We("click",function(){return Lt(e),ze().createNewPack()}),w(10,"Create New Pack"),g(),g(),g(),p(11,"div",5),p(12,"div",3),p(13,"h3"),w(14,"Import Custom Pack"),g(),p(15,"div",9),ie(16,"textarea",10),g(),g(),g(),p(17,"div",2),p(18,"div",3),p(19,"button",8),We("click",function(){return Lt(e),ze().importCustomPack()}),w(20,"Import"),g(),g(),g(),g()}if(2&n){const e=ze();F(6),z("ngForOf",e.customPacks.controls),F(9),z("formGroup",e.importFormGroup)}}let iie=(()=>{class n{constructor(e,i){this.petService=e,this.localStorageService=i,this.focusedGroup=null,this.importFormGroup=new $i({code:new ee(null)}),this.buildPetPackMap()}ngOnInit(){this.customPacks=this.formGroup.get("customPacks")}buildPetPackMap(){this.petPackMap=new Map;for(let e=1;e<=6;e++){let i=new Map;i.set("Turtle",[]),i.set("Puppy",[]),i.set("Star",[]),i.set("Golden",[]),i.set("Unicorn",[]),i.set("Custom",[]),this.petPackMap.set(e,i)}for(let[e,i]of this.petService.turtlePackPets)this.petPackMap.get(e).get("Turtle").push(...i);for(let[e,i]of this.petService.puppyPackPets)this.petPackMap.get(e).get("Puppy").push(...i);for(let[e,i]of this.petService.starPackPets)this.petPackMap.get(e).get("Star").push(...i);for(let[e,i]of this.petService.goldenPackPets)this.petPackMap.get(e).get("Golden").push(...i);for(let[e,i]of this.petService.unicornPackPets)this.petPackMap.get(e).get("Unicorn").push(...i);for(let[e,i]of this.petService.customPackPets)this.petPackMap.get(e).get("Custom").push(...i)}createNewPack(){let e=this.createPack();this.focusedGroup=e}createPack(){return new $i({name:new ee(null,[Qk.required,this.forbiddenNameValidator()]),tier1Pets:new ee([],this.controlArrayLengthOf10()),tier2Pets:new ee([],this.controlArrayLengthOf10()),tier3Pets:new ee([],this.controlArrayLengthOf10()),tier4Pets:new ee([],this.controlArrayLengthOf10()),tier5Pets:new ee([],this.controlArrayLengthOf10()),tier6Pets:new ee([],this.controlArrayLengthOf10())})}makeFormGroup(e){return e}controlArrayLengthOf10(){return e=>10!==e.value.length?{length:!0}:null}submitEvent(e){this.customPacks.controls.includes(e)||this.customPacks.push(e),this.petService.buildCustomPackPets(this.customPacks),this.focusedGroup=null,this.localStorageService.setStorage(this.formGroup.value)}cancelEvent(e){this.focusedGroup=null}editPack(e){this.focusedGroup=e}deletePack(e){if(confirm("Are you sure you want to delete this pack?")){let i=this.customPacks.controls.indexOf(e);this.customPacks.removeAt(i),this.localStorageService.setStorage(this.formGroup.value)}}forbiddenNameValidator(){return e=>{var i,s;let r=["custom"];for(let a of this.customPacks.controls)e!=a.get("name")&&r.push(null===(i=a.get("name").value)||void 0===i?void 0:i.toLowerCase());return r.includes(null===(s=e.value)||void 0===s?void 0:s.toLowerCase())?{forbiddenName:!0}:null}}importCustomPack(){let e=this.importFormGroup.get("code").value;try{e=JSON.parse(e);let i={name:e.Title,tier1Pets:this.getMinions(e.Minions,1),tier2Pets:this.getMinions(e.Minions,2),tier3Pets:this.getMinions(e.Minions,3),tier4Pets:this.getMinions(e.Minions,4),tier5Pets:this.getMinions(e.Minions,5),tier6Pets:this.getMinions(e.Minions,6)};this.createNewPack(),this.focusedGroup.patchValue(i)}catch(i){alert("Invalid code"),console.error(i)}}getMinions(e,i){let s=Hte[`tier${i}`],r=[];for(let a of e)for(let o of s)o.id==a&&r.push(o.name);return r}}return n.\u0275fac=function(e){return new(e||n)($(pb),$(EI))},n.\u0275cmp=Bn({type:n,selectors:[["app-custom-pack-editor"]],inputs:{formGroup:"formGroup"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[3,"formGroup","petPackMap","submitEvent","cancelEvent"],[1,"row","mb-3"],[4,"ngFor","ngForOf"],[1,"row","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"form-group",3,"formGroup"],["id","code","rows","3","formControlName","code",1,"form-control"],[1,"text"],["class","valid",4,"ngIf"],["class","invalid",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"valid"],[1,"invalid"]],template:function(e,i){1&e&&(Re(0,Jte,3,2,"div",0),Re(1,tie,21,2,"div",1)),2&e&&(z("ngIf",null!=i.focusedGroup),F(1),z("ngIf",null==i.focusedGroup))},directives:[ph,Yte,hc,qa,Dp,Ha,uc,qo],styles:[".valid[_ngcontent-%COMP%]{color:#4caf50}.invalid[_ngcontent-%COMP%]{color:#f44336}.text[_ngcontent-%COMP%]{font-size:1.5em}td[_ngcontent-%COMP%]{padding:.25em .5em}"]}),n})(),nie=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bn({type:n,selectors:[["app-info"]],decls:101,vars:0,consts:[["src","./assets/info/pack.PNG","alt","pack"],["src","./assets/info/toy.PNG","alt","toy"],["src","./assets/info/angler.PNG","alt","angler"],["src","./assets/info/zoom.PNG","alt","zoom"],["src","./assets/info/advanced.PNG","alt","advanced"],["src","./assets/info/advanced-settings.PNG","alt","advanced settings"],["src","./assets/info/board.PNG","alt","board"],["src","./assets/info/pet.png","alt","pet"],["src","/assets/info/simulate.PNG","alt","simulate"],["src","/assets/info/report-bug.PNG","alt","report bug"],["src","/assets/info/outcome.PNG","alt","outcome"],["src","/assets/info/battles.PNG","alt","battles"],["src","/assets/info/logs.PNG","alt","logs"]],template:function(e,i){1&e&&(p(0,"p"),w(1," The SAP Calculator is an analysis tool that allows you to easily calculate the approximate odds of your team beating another team. The SAP Calculator simulates the defined battle 1000 times and determines the percentage of wins, draws and loses.\n"),g(),p(2,"p"),p(3,"b"),w(4,"Disclaimer: The SAP Calculator is not an official tool of the game and is not affiliated with the game's developers. The SAP Calculator is a fan-made tool, and is not intended to replace the official game."),g(),g(),p(5,"p"),w(6," The SAP Calculator engine is based on the official game engine, but it may not be 100% accurate. It is pretty darn close though, and should be completely accurate for nearly every possible battle.\n"),g(),p(7,"h1"),w(8,"Guide"),g(),ie(9,"img",0),p(10,"p"),w(11," Select the pack that the player and opponent are using. This determines the pets that are available to each player.\n"),g(),ie(12,"img",1),p(13,"p"),w(14," Toy configuration.\n"),g(),ie(15,"img",2),p(16,"ul"),p(17,"li"),w(18,"Angler Mode: The opposite player's pets are available to be selected for each player. (This does not affect pets that summon from your pack pet pool)"),g(),p(19,"li"),w(20,"All Pets: All pets are availble to select. (This does not affect pets that summon from your pack pet pool)"),g(),p(21,"li"),w(22,"Old Stork: Stork summons pets with base stats."),g(),p(23,"li"),w(24,"Token Pets: Token pets are available to select. (This does not affect pets that summon from your pack pet pool)"),g(),p(25,"li"),w(26,"Komodo Shuffle: Shuffle pet order each battle in front of a Komondo."),g(),p(27,"li"),w(28,"Mana: Show/hide mana stat on the pet selector."),g(),g(),ie(29,"img",3),p(30,"p"),w(31,"Adjust the zoom level of the application."),g(),ie(32,"img",4),p(33,"p"),w(34,"Toggle advanced settings."),g(),ie(35,"img",5),p(36,"p"),w(37,"Advanced settings. They allow you to configure the battle to a more specific scenario."),g(),p(38,"ul"),p(39,"li"),w(40,"Turn: The turn the battle takes place. This will affect pets such as the Stork, Eagle, and Stegosaurus."),g(),p(41,"li"),w(42,"Player Gold Spent: Player gold spent the previous round. This will affect the Meerkat."),g(),p(43,"li"),w(44,"Opponent Gold Spent: Same as above but for the Opponent player."),g(),p(45,"li"),w(46,"Player Roll Amount: The amount of times the Player rolled in the shop phase."),g(),p(47,"li"),w(48,"Opponent Roll Amount: Same as above but for the Opponent player."),g(),p(49,"li"),w(50,"Player Lvl 3 Sold: The amount of times the Player sold a Level 3 pet."),g(),p(51,"li"),w(52,"Opponent Lvl 3 Sold: Same as above but for the Opponent player."),g(),p(53,"li"),w(54,"Player Summoned Amt: The amount of times the Player summoned a pet in the shop phase."),g(),p(55,"li"),w(56,"Opponent Summoned Amt: Same as above but for the Opponent player."),g(),p(57,"li"),w(58,"Player Transformation Amt: The amount of times the Player transformed a pet in the shop phase."),g(),p(59,"li"),w(60,"Opponent Transformation Amt: Same as above but for the Opponent player."),g(),g(),ie(61,"img",6),p(62,"p"),w(63," This is the board. The left side is the Player pets and the right side is the Opponent Pets. Each white box contains a pet and its' stats/equipment. The layout of the pets are identical to as they would be in battle. The right most Player pet is clashing with the left most Opponent pet.\n"),g(),ie(64,"img",7),p(65,"p"),w(66," This is a pet.\n"),g(),p(67,"ul"),p(68,"li"),w(69,"A: This select box is where you may choose the pet that will occupy this space."),g(),p(70,"li"),w(71,"B: This select box is where you may choose the pet's equipment."),g(),p(72,"li"),w(73,"C: These fields are where you may input the pet's stats. The gray field is attack, the red field is health, and the indigo field is mana."),g(),p(74,"li"),w(75,"D: This component determines the amount of exp the pet has. A pet may have 0-5 exp denoted by the number of boxes highlighted. The numbers (1, 2, 3) on top of the exp bar signify the level of the pet. 0-1 exp is level 1, 2-4 exp is level 2, and 5 exp is level 3. The x on the left will clear the exp bar leaving the pet at level 1 with 0 exp. "),g(),p(76,"li"),w(77,"E: This is a drag and drop tool. Use this to reorder your pets."),g(),g(),ie(78,"img",8),p(79,"ul"),p(80,"li"),w(81,"Simulate: Run the simulation."),g(),p(82,"li"),w(83,"Randomize: Randomize the Player's and Opponents's pets and equipment."),g(),g(),ie(84,"img",9),p(85,"ul"),p(86,"li"),w(87,"Report A Bug: Report a bug to the SAP Calculator develepor."),g(),p(88,"li"),w(89,"Export Calculator: Saves a code to your devices clipboard that can be used to import the calculator state."),g(),p(90,"li"),w(91,"Import Calculator: Import a calculator state."),g(),g(),ie(92,"img",10),p(93,"p"),w(94," This is the outcome summary. It shows the number of wins, draws, and loses for the last simulation ran.\n"),g(),ie(95,"img",11),p(96,"p"),w(97," This is the Battles table. It is a table of all the battles that were simulated. You may filter the table by the outcome of the battle.\n"),g(),ie(98,"img",12),p(99,"p"),w(100," These are the logs of the last selected simulated battle. Logs that are highlighted green are logs from a pet on the Player's team and logs that are highlighted red are logs from a pet on the Opponent's team. Logs that are highlighted purple are random events. Note: Not everything is logged.\n"),g())},styles:["img[_ngcontent-%COMP%]{margin-bottom:.5em;max-width:100%;border:1px solid #bfbfbf}"]}),n})(),sie=(()=>{class n{constructor(){this.formGroup=new $i({calcCode:new ee(null)})}ngOnInit(){}submit(){let e="";e=this.importFunc(this.formGroup.value.calcCode)?"Import successful":"Import failed",alert(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bn({type:n,selectors:[["app-import-calculator"]],inputs:{importFunc:"importFunc"},decls:6,vars:1,consts:[[1,"form-group",3,"formGroup"],["id","calcCode","rows","5","formControlName","calcCode",1,"form-control","mb-2"],[1,"warning","mb-2"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(p(0,"div",0),ie(1,"textarea",1),p(2,"div",2),w(3," Warning: This will overwrite any existing custom packs. Any custom packs in the import will be added. "),g(),p(4,"button",3),We("click",function(){return i.submit()}),w(5,"Import"),g(),g()),2&e&&z("formGroup",i.formGroup)},directives:[hc,qa,Ha,uc,qo],styles:[""]}),n})(),rie=(()=>{class n{constructor(e){this.localStorageService=e}ngOnInit(){}formGroupValueString(){if(!this.formGroup)return"";try{const i=(0,yt.cloneDeep)(this.formGroup.value),s=[...i.playerPets||[],...i.opponentPets||[]];for(const r of s)r&&(delete r.parent,delete r.logService,delete r.abilityService,delete r.gameService,delete r.petService,r.equipment&&(r.equipment={name:r.equipment.name}));return JSON.stringify(i,null,2)}catch(e){return console.error("Error creating export string:",e),"Error: Could not generate the export data."}}copyToClipboard(){this.localStorageService.setFormStorage(this.formGroup);let e=JSON.stringify(this.formGroup.value);navigator.clipboard.writeText(e).then(()=>{alert("Copied to clipboard")})}}return n.\u0275fac=function(e){return new(e||n)($(EI))},n.\u0275cmp=Bn({type:n,selectors:[["app-export-calculator"]],inputs:{formGroup:"formGroup"},decls:4,vars:1,consts:[[1,"form-group"],["id","calcCode","rows","5","readonly","",1,"form-control","mb-2",3,"value"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(p(0,"div",0),ie(1,"textarea",1),p(2,"button",2),We("click",function(){return i.copyToClipboard()}),w(3,"Copy to Clipboard"),g(),g()),2&e&&(F(1),z("value",i.formGroupValueString()))},styles:[""]}),n})();class tH{}class iH{}class Jr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),r=s.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(a):this.headers.set(r,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Jr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Jr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Jr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const r=t.value;if(r){let a=this.headers.get(e);if(!a)return;a=a.filter(o=>-1===r.indexOf(o)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class oie{encodeKey(t){return nH(t)}encodeValue(t){return nH(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const cie=/%(\d[a-f0-9])/gi,uie={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function nH(n){return encodeURIComponent(n).replace(cie,(t,e)=>{var i;return null!==(i=uie[e])&&void 0!==i?i:t})}function sH(n){return`${n}`}class Zo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new oie,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[a,o]=-1==r?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,r)),t.decodeValue(s.slice(r+1))],l=e.get(a)||[];l.push(o),e.set(a,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Zo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(sH(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(sH(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class hie{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function rH(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function aH(n){return"undefined"!=typeof Blob&&n instanceof Blob}function oH(n){return"undefined"!=typeof FormData&&n instanceof FormData}class hg{constructor(t,e,i,s){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,r=s):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new Jr),this.context||(this.context=new hie),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const o=e.indexOf("?");this.urlWithParams=e+(-1===o?"?":o<e.length-1?"&":"")+a}}else this.params=new Zo,this.urlWithParams=e}serializeBody(){return null===this.body?null:rH(this.body)||aH(this.body)||oH(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Zo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oH(this.body)?null:aH(this.body)?this.body.type||null:rH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Zo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,s=t.url||this.url,r=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,d=t.params||this.params;const m=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((y,S)=>y.set(S,t.setHeaders[S]),h)),t.setParams&&(d=Object.keys(t.setParams).reduce((y,S)=>y.set(S,t.setParams[S]),d)),new hg(i,s,a,{params:d,headers:h,context:m,reportProgress:l,responseType:r,withCredentials:o})}}var Si=(()=>((Si=Si||{})[Si.Sent=0]="Sent",Si[Si.UploadProgress=1]="UploadProgress",Si[Si.ResponseHeader=2]="ResponseHeader",Si[Si.DownloadProgress=3]="DownloadProgress",Si[Si.Response=4]="Response",Si[Si.User=5]="User",Si))();class kI{constructor(t,e=200,i="OK"){this.headers=t.headers||new Jr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class CI extends kI{constructor(t={}){super(t),this.type=Si.ResponseHeader}clone(t={}){return new CI({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class zb extends kI{constructor(t={}){super(t),this.type=Si.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new zb({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class lH extends kI{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function PI(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let cH=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let r;if(e instanceof hg)r=e;else{let l,h;l=s.headers instanceof Jr?s.headers:new Jr(s.headers),s.params&&(h=s.params instanceof Zo?s.params:new Zo({fromObject:s.params})),r=new hg(e,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=Ec(r).pipe(function(n,t){return aa(n,void 0,1)}(l=>this.handler.handle(l)));if(e instanceof hg||"events"===s.observe)return a;const o=a.pipe(JF(l=>l instanceof zb));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(ys(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return o.pipe(ys(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return o.pipe(ys(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return o.pipe(ys(l=>l.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Zo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,PI(s,i))}post(e,i,s={}){return this.request("POST",e,PI(s,i))}put(e,i,s={}){return this.request("PUT",e,PI(s,i))}}return n.\u0275fac=function(e){return new(e||n)(q(tH))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();class uH{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const hH=new we("HTTP_INTERCEPTORS");let pie=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const gie=/^\)\]\}',?\n/;let dH=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Xe(i=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((S,k)=>s.setRequestHeader(S,k.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const S=e.detectContentTypeHeader();null!==S&&s.setRequestHeader("Content-Type",S)}if(e.responseType){const S=e.responseType.toLowerCase();s.responseType="json"!==S?S:"text"}const r=e.serializeBody();let a=null;const o=()=>{if(null!==a)return a;const S=1223===s.status?204:s.status,k=s.statusText||"OK",T=new Jr(s.getAllResponseHeaders()),P=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return a=new CI({headers:T,status:S,statusText:k,url:P}),a},l=()=>{let{headers:S,status:k,statusText:T,url:P}=o(),N=null;204!==k&&(N=void 0===s.response?s.responseText:s.response),0===k&&(k=N?200:0);let I=k>=200&&k<300;if("json"===e.responseType&&"string"==typeof N){const H=N;N=N.replace(gie,"");try{N=""!==N?JSON.parse(N):null}catch(O){N=H,I&&(I=!1,N={error:O,text:N})}}I?(i.next(new zb({body:N,headers:S,status:k,statusText:T,url:P||void 0})),i.complete()):i.error(new lH({error:N,headers:S,status:k,statusText:T,url:P||void 0}))},h=S=>{const{url:k}=o(),T=new lH({error:S,status:s.status||0,statusText:s.statusText||"Unknown Error",url:k||void 0});i.error(T)};let d=!1;const m=S=>{d||(i.next(o()),d=!0);let k={type:Si.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(k.total=S.total),"text"===e.responseType&&!!s.responseText&&(k.partialText=s.responseText),i.next(k)},y=S=>{let k={type:Si.UploadProgress,loaded:S.loaded};S.lengthComputable&&(k.total=S.total),i.next(k)};return s.addEventListener("load",l),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",m),null!==r&&s.upload&&s.upload.addEventListener("progress",y)),s.send(r),i.next({type:Si.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",l),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",m),null!==r&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(q(E$))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const AI=new we("XSRF_COOKIE_NAME"),DI=new we("XSRF_HEADER_NAME");class fH{}let vie=(()=>{class n{constructor(e,i,s){this.doc=e,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=g$(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(q(it),q(hh),q(AI))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})(),TI=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(q(fH),q(DI))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})(),yie=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(hH,[]);this.chain=i.reduceRight((s,r)=>new uH(s,r),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(q(iH),q(Dt))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})(),_ie=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:TI,useClass:pie}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:AI,useValue:e.cookieName}:[],e.headerName?{provide:DI,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ni({type:n}),n.\u0275inj=Kt({providers:[TI,{provide:hH,useExisting:TI,multi:!0},{provide:fH,useClass:vie},{provide:AI,useValue:"XSRF-TOKEN"},{provide:DI,useValue:"X-XSRF-TOKEN"}]}),n})(),bie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ni({type:n}),n.\u0275inj=Kt({providers:[cH,{provide:tH,useClass:yie},dH,{provide:iH,useExisting:dH}],imports:[[_ie.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const Sie=function(n){return["form-group","mb-3",n]};function wie(n,t){if(1&n){const e=qr();p(0,"div"),p(1,"p"),w(2," An export code of the current calculator will automatically be sent to the developer. Please make sure the calculator is currently relevant to the bug you are reporting. Provide a description of the bug below. (Player should have won, pet's ability is wrong, etc.) Name is optional. Provide your Discord ID if you want me to follow up with you. "),g(),p(3,"div",1),p(4,"div",2),p(5,"label",3),w(6,"Name/Alias/Discord ID"),g(),ie(7,"input",4),g(),p(8,"div"),p(9,"label",5),w(10,"Description"),g(),ie(11,"textarea",6),g(),g(),p(12,"button",7),We("click",function(){return Lt(e),ze().submit()}),w(13,"Submit"),g(),g()}if(2&n){const e=ze();F(3),z("ngClass",function(n,t,e,i){return j2(K(),Gi(),n,t,e,i)}(2,Sie,e.submitted?"was-validated":""))("formGroup",e.formGroup)}}function Eie(n,t){if(1&n){const e=qr();p(0,"div"),p(1,"h1"),w(2,"Thank you for the bug report!"),g(),p(3,"button",7),We("click",function(){return Lt(e),ze().back()}),w(4,"Report another bug :("),g(),g()}}let kie=(()=>{class n{constructor(e){this.http=e,this.formGroup=new $i({name:new ee(""),description:new ee(null,Qk.required)}),this.reported=!1,this.submitted=!1}ngOnInit(){}submit(){if(this.submitted=!0,this.formGroup.invalid)return;let e=Object.assign(Object.assign({},this.formGroup.value),{code:JSON.stringify(this.calcFormGroup.value)});const i=new Jr({"Content-Type":"application/json"});this.http.post("https://formspree.io/f/mgvzngzp",{name:"SAP CALC",replyto:"Ruihan20080129@gmail.com",message:e},{headers:i}).subscribe(s=>{console.log(s)}),this.reported=!0}back(){this.formGroup.reset(),this.submitted=!1,this.reported=!1}}return n.\u0275fac=function(e){return new(e||n)($(cH))},n.\u0275cmp=Bn({type:n,selectors:[["app-report-a-bug"]],inputs:{calcFormGroup:"calcFormGroup"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngClass","formGroup"],[1,"mb-3"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["for","description"],["rows","3","formControlName","description","required","",1,"form-control"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(Re(0,wie,14,4,"div",0),Re(1,Eie,5,0,"div",0)),2&e&&(z("ngIf",!i.reported),F(1),z("ngIf",i.reported))},directives:[ph,Rk,hc,qa,Ha,uc,qo,f_],styles:[""]}),n})();const Cie=["customPackEditor"];function Pie(n,t){if(1&n&&(ny(0),p(1,"div",1),w(2),g(),sy()),2&n){const e=ze();F(2),Ni(e.apiResponse)}}function Aie(n,t){if(1&n&&(p(0,"option",131),w(1),g()),2&n){const e=t.$implicit;z("value",e.get("name").value),F(1),Ni(e.get("name").value)}}function Die(n,t){if(1&n&&(p(0,"option",131),w(1),g()),2&n){const e=t.$implicit;z("value",e.get("name").value),F(1),Ni(e.get("name").value)}}function Tie(n,t){if(1&n&&(p(0,"option",31),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e),F(1),Ni(e)}}function xie(n,t){if(1&n&&(p(0,"optgroup",132),Re(1,Tie,2,2,"option",133),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),F(1),z("ngForOf",e.value)}}function Mie(n,t){if(1&n&&(p(0,"option",31),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e),F(1),Ni(e)}}function Rie(n,t){if(1&n&&(p(0,"optgroup",132),Re(1,Mie,2,2,"option",133),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),F(1),z("ngForOf",e.value)}}function Iie(n,t){1&n&&(p(0,"div",12),p(1,"div",13),p(2,"div",134),p(3,"div",135),p(4,"label",136),w(5,"Turn"),g(),ie(6,"input",137),g(),p(7,"div",138),p(8,"label",139),w(9,"Player Gold Spent"),g(),ie(10,"input",140),g(),p(11,"div",138),p(12,"label",141),w(13,"Opponent Gold Spent"),g(),ie(14,"input",142),g(),p(15,"div",138),p(16,"label",143),w(17,"Player Roll Amt"),g(),ie(18,"input",144),g(),p(19,"div",138),p(20,"label",145),w(21,"Opponent Roll Amt"),g(),ie(22,"input",146),g(),p(23,"div",138),p(24,"label",147),w(25,"Player Lvl 3 Sold"),g(),ie(26,"input",148),g(),p(27,"div",138),p(28,"label",149),w(29,"Opponent Lvl 3 Sold"),g(),ie(30,"input",150),g(),p(31,"div",138),p(32,"label",151),w(33,"Player Summoned Amt"),g(),ie(34,"input",152),g(),p(35,"div",138),p(36,"label",153),w(37,"Opponent Summoned Amt"),g(),ie(38,"input",154),g(),p(39,"div",138),p(40,"label",155),w(41,"Player Transformation Amt"),g(),ie(42,"input",156),g(),p(43,"div",138),p(44,"label",157),w(45,"Opponent Transformation Amt"),g(),ie(46,"input",158),g(),g(),g(),g())}function Oie(n,t){if(1&n&&(p(0,"div",159),p(1,"div",160),Pd(),p(2,"svg",161),ie(3,"path",162),ie(4,"path",163),g(),g(),Ad(),ie(5,"app-pet-selector",164),g()),2&n){const e=t.$implicit,i=t.index,s=ze(2);F(5),z("pet",s.player["pet"+(4-i)])("player",s.player)("opponent",s.opponent)("index",4-i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("ailments",s.formGroup.get("ailmentEquipment").value)("allPets",s.formGroup.get("allPets").value)("mana",s.formGroup.get("mana").value)("showTokenPets",s.formGroup.get("tokenPets").value)("customPacks",s.formGroup.get("customPacks"))}}function Nie(n,t){if(1&n&&(p(0,"div",165),p(1,"div",160),Pd(),p(2,"svg",161),ie(3,"path",162),ie(4,"path",163),g(),g(),Ad(),ie(5,"app-pet-selector",164),g()),2&n){const e=t.$implicit,i=t.index,s=ze(2);F(5),z("pet",s.opponent["pet"+i])("player",s.opponent)("opponent",s.player)("index",i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("ailments",s.formGroup.get("ailmentEquipment").value)("allPets",s.formGroup.get("allPets").value)("mana",s.formGroup.get("mana").value)("showTokenPets",s.formGroup.get("tokenPets").value)("customPacks",s.formGroup.get("customPacks"))}}function Lie(n,t){if(1&n&&(p(0,"div",90),p(1,"div",166),p(2,"label"),w(3,"Player Wins:"),g(),p(4,"span"),w(5),g(),p(6,"label"),w(7,"Opponent Wins:"),g(),p(8,"span"),w(9),g(),p(10,"label"),w(11,"Draws:"),g(),p(12,"span"),w(13),g(),g(),p(14,"div",167),p(15,"span",168),ie(16,"span",169),ie(17,"span",170),g(),g(),g()),2&n){const e=ze(2);F(5),np("",e.playerWinner," - ",e.winPercent,"%"),F(4),np("",e.opponentWinner," - ",e.losePercent,"%"),F(4),np("",e.draw," - ",e.drawPercent,"%"),F(3),tp("width",e.getDrawWidth()),F(1),tp("width",e.getLoseWidth())}}function Bie(n,t){if(1&n){const e=qr();p(0,"tr",171),We("click",function(){const r=Lt(e).$implicit;return ze(2).setViewBattle(r)}),p(1,"td"),w(2),g(),p(3,"td"),w(4),g(),p(5,"td",172),w(6),g(),g()}if(2&n){const e=t.$implicit,i=t.index,s=ze(2);F(2),Ni(i),F(2),Ni(e.winner),F(2),Ni(s.getRandomEvents(e))}}const $ie=function(n,t){return[n,t]};function Vie(n,t){if(1&n&&(p(0,"div",69),p(1,"span",173),w(2),g(),g()),2&n){const e=t.$implicit,i=ze(2);F(1),z("ngClass",G2(2,$ie,i.getPlayerClass(e),e.randomEvent?"random-event":"")),F(1),Ni(e.message)}}function Fie(n,t){if(1&n){const e=qr();ny(0),p(1,"div",2,3),p(3,"div",4),p(4,"div",5),p(5,"div",6),p(6,"h1",7),We("click",function(){return Lt(e),ze().printFormGroup()}),w(7,"SAP Calculator"),g(),p(8,"span",8),w(9,"Info/Guide"),g(),g(),p(10,"div",6),p(11,"div",9),w(12),g(),p(13,"div",10),p(14,"span"),w(15),p(16,"span",11),w(17,"Patch Notes"),g(),g(),p(18,"span"),w(19),g(),g(),g(),g(),g(),p(20,"div",12),p(21,"div",13),p(22,"div",14),p(23,"div",15),p(24,"label",16),w(25,"Player Pack"),g(),p(26,"select",17),p(27,"option",18),w(28,"Turtle"),g(),p(29,"option",19),w(30,"Puppy"),g(),p(31,"option",20),w(32,"Star"),g(),p(33,"option",21),w(34,"Golden"),g(),p(35,"option",22),w(36,"Unicorn"),g(),p(37,"option",23),w(38,"Danger"),g(),p(39,"optgroup",24),Re(40,Aie,2,2,"option",25),p(41,"option",26),w(42,"Add Custom Pack"),g(),g(),g(),g(),p(43,"div",27),p(44,"label",16),w(45,"Opponent Pack"),g(),p(46,"select",28),p(47,"option",18),w(48,"Turtle"),g(),p(49,"option",19),w(50,"Puppy"),g(),p(51,"option",20),w(52,"Star"),g(),p(53,"option",21),w(54,"Golden"),g(),p(55,"option",22),w(56,"Unicorn"),g(),p(57,"option",23),w(58,"Danger"),g(),p(59,"optgroup",24),Re(60,Die,2,2,"option",25),p(61,"option",26),w(62,"Add Custom Pack"),g(),g(),g(),g(),p(63,"div",29),p(64,"label",16),w(65,"Player Toy"),g(),p(66,"select",30),p(67,"option",31),w(68,"None"),g(),Re(69,xie,2,2,"optgroup",32),Io(70,"keyvalue"),g(),g(),p(71,"div",33),p(72,"label",34),w(73,"Toy Level"),g(),p(74,"select",35),p(75,"option"),w(76,"1"),g(),p(77,"option"),w(78,"2"),g(),p(79,"option"),w(80,"3"),g(),g(),g(),p(81,"div",15),p(82,"label",16),w(83,"Opponent Toy"),g(),p(84,"select",36),p(85,"option",31),w(86,"None"),g(),Re(87,Rie,2,2,"optgroup",32),Io(88,"keyvalue"),g(),g(),p(89,"div",33),p(90,"label",37),w(91,"Toy Level"),g(),p(92,"select",38),p(93,"option"),w(94,"1"),g(),p(95,"option"),w(96,"2"),g(),p(97,"option"),w(98,"3"),g(),g(),g(),p(99,"div",39),p(100,"span",40),We("click",function(){return Lt(e),ze().toggleAdvanced()}),w(101),g(),g(),p(102,"div",41),p(103,"div",42),ie(104,"input",43),p(105,"label",44),w(106," Angler "),g(),g(),p(107,"div",45),ie(108,"input",46),p(109,"label",47),w(110," All Pets "),g(),g(),g(),p(111,"div",41),p(112,"div",48),ie(113,"input",49),p(114,"label",50),w(115," Old Stork "),g(),g(),p(116,"div",51),ie(117,"input",52),p(118,"label",53),w(119," Token Pets "),g(),g(),g(),p(120,"div",41),p(121,"div",54),ie(122,"input",55),p(123,"label",56),w(124," Komodo Shuffle "),g(),g(),p(125,"div",57),ie(126,"input",58),p(127,"label",59),w(128," Mana "),g(),g(),g(),p(129,"div",41),p(130,"div",60),ie(131,"input",61),p(132,"label",62),w(133," Ailment Equipment "),g(),g(),g(),g(),p(134,"div",63),p(135,"label",64),w(136,"Zoom"),g(),p(137,"div"),p(138,"button",65),We("click",function(){return Lt(e),ze().zoomIn()}),w(139,"+"),g(),p(140,"button",66),We("click",function(){return Lt(e),ze().zoomOut()}),w(141,"-"),g(),g(),g(),g(),g(),Re(142,Iie,47,0,"div",67),p(143,"div",68),ie(144,"div",69),g(),p(145,"div",70),p(146,"div",71),p(147,"div",72),p(148,"h2",73),w(149,"Player"),g(),p(150,"button",74),We("click",function(){return Lt(e),ze().resetPlayer("player")}),w(151,"Reset"),g(),g(),p(152,"div",75),p(153,"div",76),We("cdkDropListDropped",function(s){return Lt(e),ze().drop(s,"player")}),Re(154,Oie,6,11,"div",77),g(),g(),g(),p(155,"div",78),p(156,"div",72),p(157,"h2",73),w(158,"Opponent"),g(),p(159,"button",74),We("click",function(){return Lt(e),ze().resetPlayer("opponent")}),w(160,"Reset"),g(),g(),p(161,"div",79),p(162,"div",76),We("cdkDropListDropped",function(s){return Lt(e),ze().drop(s,"opponent")}),Re(163,Nie,6,11,"div",80),g(),g(),g(),g(),p(164,"div",81),p(165,"div",82),p(166,"div"),p(167,"button",83),We("click",function(){return Lt(e),ze().simulate()}),w(168,"Simulate"),g(),p(169,"button",83),We("click",function(){return Lt(e),ze().randomize()}),w(170,"Randomize"),g(),g(),p(171,"div"),p(172,"button",84),w(173,"Report A Bug"),g(),p(174,"button",85),w(175,"Export Calculator"),g(),p(176,"button",86),w(177,"Import Calculator"),g(),p(178,"button",83),We("click",function(){return Lt(e),ze().generateShareLink()}),w(179,"Generate Link"),g(),g(),g(),g(),Re(180,Lie,18,10,"div",87),p(181,"div",88),p(182,"div",89),p(183,"h3"),w(184,"Battles"),g(),p(185,"div",90),p(186,"div",69),p(187,"label",91),w(188,"Filter Battles By Winner"),g(),g(),p(189,"div",69),p(190,"div",92),ie(191,"input",93),p(192,"label",94),w(193,"None"),g(),g(),p(194,"div",92),ie(195,"input",95),p(196,"label",96),w(197,"Player"),g(),g(),p(198,"div",92),ie(199,"input",97),p(200,"label",98),w(201,"Opponent"),g(),g(),p(202,"div",92),ie(203,"input",99),p(204,"label",100),w(205,"Draw"),g(),g(),g(),g(),p(206,"div",101),p(207,"table",102),p(208,"thead"),p(209,"tr"),p(210,"th",103),w(211,"Battle No."),g(),p(212,"th"),w(213,"Winner"),g(),p(214,"th"),w(215,"Random Events"),g(),g(),g(),p(216,"tbody"),Re(217,Bie,7,3,"tr",104),g(),g(),g(),g(),p(218,"div",105),p(219,"h3"),w(220,"Logs"),g(),p(221,"div",106),Re(222,Vie,3,5,"div",107),g(),g(),g(),g(),p(223,"div",108),p(224,"div",109),p(225,"div",110),p(226,"div",111),p(227,"h1",112),w(228,"Patch Notes"),g(),ie(229,"button",113),g(),p(230,"div",114),ie(231,"app-patch-notes"),g(),p(232,"div",115),p(233,"span",40),We("click",function(){return Lt(e),ze().clearCache()}),w(234,"Clear Cache"),g(),g(),g(),g(),g(),p(235,"div",116,117),p(237,"div",118),p(238,"div",110),p(239,"div",111),p(240,"h1",119),w(241,"Custom Pack Editor"),g(),ie(242,"button",113),g(),p(243,"div",114),ie(244,"app-custom-pack-editor",120),g(),g(),g(),g(),p(245,"div",121),p(246,"div",118),p(247,"div",110),p(248,"div",111),p(249,"h1",122),w(250,"Info"),g(),ie(251,"button",113),g(),p(252,"div",114),ie(253,"app-info"),g(),g(),g(),g(),p(254,"div",123),p(255,"div",118),p(256,"div",110),p(257,"div",111),p(258,"h1",124),w(259,"Import Calculator"),g(),ie(260,"button",113),g(),p(261,"div",114),ie(262,"app-import-calculator",125),g(),g(),g(),g(),p(263,"div",126),p(264,"div",118),p(265,"div",110),p(266,"div",111),p(267,"h1",127),w(268,"Export Calculator"),g(),ie(269,"button",113),g(),p(270,"div",114),ie(271,"app-export-calculator",120),g(),g(),g(),g(),p(272,"div",128),p(273,"div",118),p(274,"div",110),p(275,"div",111),p(276,"h1",129),w(277,"Report A Bug"),g(),ie(278,"button",113),g(),p(279,"div",114),ie(280,"app-report-a-bug",130),g(),g(),g(),g(),sy()}if(2&n){const e=ze();F(1),z("formGroup",e.formGroup),F(11),Pi("Last Updated: ",e.lastUpdated,""),F(3),Pi("Version: ",e.version," "),F(4),Pi("SAP Version: ",e.sapVersion,""),F(21),z("ngForOf",e.validCustomPacks),F(20),z("ngForOf",e.validCustomPacks),F(7),z("ngValue",null),F(2),z("ngForOf",Oo(70,23,e.toys)),F(16),z("ngValue",null),F(2),z("ngForOf",Oo(88,25,e.toys)),F(14),Pi("",e.formGroup.get("showAdvanced").value?"Hide":"Show"," Advanced Settings"),F(41),z("ngIf",e.formGroup.get("showAdvanced").value),F(2),z("@dayNight",e.dayNight?"day":"night"),F(10),z("ngForOf",e.getPlayerPetsFormArray()),F(9),z("ngForOf",e.getOpponentPetsFormArray()),F(17),z("ngIf",e.simulated),F(11),z("value",null),F(26),z("ngForOf",e.filteredBattles),F(5),z("ngForOf",e.getViewBattleLogs()),F(22),z("formGroup",e.formGroup),F(18),z("importFunc",e.import.bind(e)),F(9),z("formGroup",e.formGroup),F(9),z("calcFormGroup",e.formGroup)}}const Uie={pP:"playerPack",oP:"opponentPack",pT:"playerToy",pTL:"playerToyLevel",oT:"opponentToy",oTL:"opponentToyLevel",t:"turn",pGS:"playerGoldSpent",oGS:"opponentGoldSpent",pRA:"playerRollAmount",oRA:"opponentRollAmount",pSA:"playerSummonedAmount",oSA:"opponentSummonedAmount",pL3:"playerLevel3Sold",oL3:"opponentLevel3Sold",p:"playerPets",o:"opponentPets",an:"angler",ap:"allPets",lf:"logFilter",fs:"fontSize",cp:"customPacks",os:"oldStork",tp:"tokenPets",ks:"komodoShuffle",m:"mana",sa:"showAdvanced",ae:"ailmentEquipment",pTA:"playerTransformationAmount",oTA:"opponentTransformationAmount",n:"name",a:"attack",h:"health",e:"exp",eq:"equipment"};function Kb(n){if(Array.isArray(n))return n.map(t=>Kb(t));if(null!==n&&"object"==typeof n){const t={};for(const e in n)t[Uie[e]||e]=Kb(n[e]);return t}return n}let Gie=(()=>{class n{constructor(e,i,s,r,a,o,l,h,d){this.logService=e,this.injector=i,this.abilityService=s,this.gameService=r,this.equipmentService=a,this.petService=o,this.toyService=l,this.startOfBattleService=h,this.localStorageService=d,this.version="0.6.19",this.sapVersion="0.33.3-156 BETA",this.lastUpdated="9/6/2025",this.title="sap-calculator",this.maxTurns=50,this.turns=0,this.battleStarted=!1,this.simulationBattleAmt=1e3,this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.simulated=!1,this.previousPackPlayer=null,this.previousPackOpponent=null,this.dayNight=!0,this.api=!1,this.apiResponse=null,this.isLoadedFromUrl=!1,Vp.setInjector(this.injector),this.player=new R3(e,s,r),this.opponent=new R3(e,s,r),this.gameService.init(this.player,this.opponent),this.petService.init(),this.initFormGroup();const y=new URLSearchParams(window.location.search).get("code");if(y){this.api=!0;try{const S=JSON.parse(decodeURIComponent(y));this.loadCalculatorFromValue(S),this.simulate(),this.buildApiResponse()}catch(S){console.error("Error parsing API data from URL:",S),this.apiResponse=JSON.stringify({error:"Invalid or corrupted data provided in the URL."})}}}buildApiResponse(){this.apiResponse=JSON.stringify({playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw},null)}printFormGroup(){console.log(this.formGroup)}ngOnInit(){this.isLoadedFromUrl=this.loadStateFromUrl(!0),this.isLoadedFromUrl||this.loadLocalStorage(),this.initApp(),this.initGameApi(),this.setDayNight(),this.toys=this.toyService.toys}loadStateFromUrl(e=!1){const s=new URLSearchParams(window.location.search).get("c");if(s)try{let r;const a=decodeURIComponent(s);if(a.trim().startsWith("{")){const l=Kb(JSON.parse(a));r=JSON.stringify(l)}else{const o=atob(s),l=decodeURIComponent(o),d=Kb(JSON.parse(l));r=JSON.stringify(d)}return this.import(r),console.log("Calculator state loaded from URL."),!0}catch(r){return console.error("Failed to parse calculator state from URL.",r),alert("Could not load the shared calculator link. The data may be corrupted."),!1}return!1}ngAfterViewInit(){this.isLoadedFromUrl&&this.petSelectors.forEach(e=>{e.fixLoadEquipment()}),this.api||this.initModals()}loadLocalStorage(){if(this.localStorageService.getStorage())try{let i=JSON.parse(this.localStorageService.getStorage());this.loadCalculatorFromValue(i)}catch(i){console.log("error loading local storage",i),this.localStorageService.clearStorage()}}loadCalculatorFromValue(e){const i={playerPack:"Turtle",opponentPack:"Turtle",playerToy:null,playerToyLevel:"1",opponentToy:null,opponentToyLevel:"1",turn:11,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerPets:Array(5).fill(null),opponentPets:Array(5).fill(null),angler:!1,allPets:!1,logFilter:null,fontSize:13,customPacks:[],oldStork:!1,tokenPets:!1,komodoShuffle:!1,mana:!1,showAdvanced:!1,ailmentEquipment:!1},s=Object.assign(Object.assign({},i),e);this.formGroup.patchValue(s,{emitEvent:!1});let r=e.customPacks;e.customPacks=[],this.loadCustomPacks(r),this.formGroup.patchValue(e,{emitEvent:!1}),setTimeout(()=>{this.fixCustomPackSelect()}),this.gameService.gameApi.oldStork=this.formGroup.get("oldStork").value,this.gameService.gameApi.komodoShuffle=this.formGroup.get("komodoShuffle").value,this.gameService.gameApi.mana=this.formGroup.get("mana").value,this.gameService.gameApi.playerRollAmount=this.formGroup.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=this.formGroup.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=this.formGroup.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=this.formGroup.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=this.formGroup.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=this.formGroup.get("opponentTransformationAmount").value,this.gameService.gameApi.day=this.dayNight,this.gameService.gameApi.turnNumber=this.formGroup.get("turn").value}setDayNight(){let i=this.formGroup.get("turn").value%2==1;this.dayNight=i,this.gameService.gameApi.day=i}fixCustomPackSelect(){this.formGroup.get("playerPack").setValue(this.formGroup.get("playerPack").value,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.formGroup.get("opponentPack").value,{emitEvent:!1})}initApp(){this.petService.buildCustomPackPets(this.formGroup.get("customPacks")),this.setFontSize(),this.initPlayerPets(),this.updatePlayerPack(this.player,this.formGroup.get("playerPack").value,!1),this.updatePlayerPack(this.opponent,this.formGroup.get("opponentPack").value,!1),this.updatePlayerToy(this.player,this.formGroup.get("playerToy").value),this.updatePlayerToy(this.opponent,this.formGroup.get("opponentToy").value),this.previousPackOpponent=this.opponent.pack,this.previousPackPlayer=this.player.pack}initGameApi(){this.gameService.gameApi.day=this.dayNight,this.gameService.gameApi.oldStork=this.formGroup.get("oldStork").value,this.gameService.gameApi.komodoShuffle=this.formGroup.get("komodoShuffle").value,this.gameService.gameApi.mana=this.formGroup.get("mana").value,this.gameService.gameApi.playerRollAmount=this.formGroup.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=this.formGroup.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=this.formGroup.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=this.formGroup.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=this.formGroup.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=this.formGroup.get("opponentTransformationAmount").value}loadCustomPacks(e){let i=this.formGroup.get("customPacks");i.clear();for(let s of e){let r=_z(s);i.push(r)}}initPlayerPets(){for(let e=0;e<5;e++){let i=this.formGroup.get("playerPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.player);this.player.setPet(e,s,!0)}for(let e=0;e<5;e++){let i=this.formGroup.get("opponentPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.opponent);this.opponent.setPet(e,s,!0)}}randomizePlayerPets(e){for(let i=0;i<5;i++)e.setPet(i,this.petService.getRandomPet(e),!0)}makeFormGroup(e){return e}initFormGroup(){var e,i,s,r,a,o;this.updatePreviousShopTier(11),this.updateGoldSpent(10,10),this.formGroup=new $i({playerPack:new ee(this.player.pack),opponentPack:new ee(this.opponent.pack),playerToy:new ee(null===(e=this.player.toy)||void 0===e?void 0:e.name),playerToyLevel:new ee(null!==(s=null===(i=this.player.toy)||void 0===i?void 0:i.level)&&void 0!==s?s:1),opponentToy:new ee(null===(r=this.opponent.toy)||void 0===r?void 0:r.name),opponentToyLevel:new ee(null!==(o=null===(a=this.opponent.toy)||void 0===a?void 0:a.level)&&void 0!==o?o:1),turn:new ee(11),playerGoldSpent:new ee(10),opponentGoldSpent:new ee(10),angler:new ee(!1),allPets:new ee(!1),logFilter:new ee(null),playerPets:new u_([]),opponentPets:new u_([]),fontSize:new ee(13),customPacks:new u_([]),oldStork:new ee(!1),tokenPets:new ee(!1),komodoShuffle:new ee(!1),mana:new ee(!1),playerRollAmount:new ee(4),opponentRollAmount:new ee(4),playerLevel3Sold:new ee(0),opponentLevel3Sold:new ee(0),playerSummonedAmount:new ee(0),opponentSummonedAmount:new ee(0),playerTransformationAmount:new ee(0),opponentTransformationAmount:new ee(0),showAdvanced:new ee(!1),ailmentEquipment:new ee(!1)}),this.initPetForms(),this.formGroup.get("playerPack").valueChanges.subscribe(m=>{if(null!=m){if("Add Custom Pack"==m)return void this.openCustomPackEditor();this.previousPackPlayer=m,this.updatePlayerPack(this.player,m)}}),this.formGroup.get("opponentPack").valueChanges.subscribe(m=>{if(null!=m){if("Add Custom Pack"==m)return void this.openCustomPackEditor();this.previousPackOpponent=m,this.updatePlayerPack(this.opponent,m)}}),this.formGroup.get("playerToy").valueChanges.subscribe(m=>{this.updatePlayerToy(this.player,m)}),this.formGroup.get("opponentToy").valueChanges.subscribe(m=>{this.updatePlayerToy(this.opponent,m)}),this.formGroup.get("playerToyLevel").valueChanges.subscribe(m=>{this.updateToyLevel(this.player,m)}),this.formGroup.get("opponentToyLevel").valueChanges.subscribe(m=>{this.updateToyLevel(this.opponent,m)}),this.formGroup.get("turn").valueChanges.subscribe(m=>{this.updatePreviousShopTier(m),this.setDayNight()}),this.formGroup.get("playerGoldSpent").valueChanges.subscribe(m=>{this.updateGoldSpent(m,null)}),this.formGroup.get("opponentGoldSpent").valueChanges.subscribe(m=>{this.updateGoldSpent(null,m)}),this.formGroup.get("angler").valueChanges.subscribe(m=>{setTimeout(()=>{this.updateSelectorPets()})}),this.formGroup.get("oldStork").valueChanges.subscribe(m=>{this.gameService.gameApi.oldStork=m}),this.formGroup.get("komodoShuffle").valueChanges.subscribe(m=>{this.gameService.gameApi.komodoShuffle=m}),this.formGroup.get("mana").valueChanges.subscribe(m=>{this.gameService.gameApi.mana=m}),this.formGroup.get("playerRollAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.playerRollAmount=m,console.log("playerRollAmount",m)}),this.formGroup.get("opponentRollAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentRollAmount=m,console.log("opponentRollAmount",m)}),this.formGroup.get("playerLevel3Sold").valueChanges.subscribe(m=>{this.gameService.gameApi.playerLevel3Sold=m}),this.formGroup.get("opponentLevel3Sold").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentLevel3Sold=m}),this.formGroup.get("playerSummonedAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.playerSummonedAmount=m}),this.formGroup.get("opponentSummonedAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentSummonedAmount=m}),this.formGroup.get("playerTransformationAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.playerTransformationAmount=m}),this.formGroup.get("opponentTransformationAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentTransformationAmount=m})}toggleAdvanced(){let e=this.formGroup.get("showAdvanced").value;this.formGroup.get("showAdvanced").setValue(!e)}initPetForms(){let e=[0,1,2,3,4],i=e.map(o=>{var l,h,d,m,y,S,k,T,P,N,I,H,O,G,Q,ae,ce,ge,_e,Be;return new $i({name:new ee(null===(l=this.player[`pet${o}`])||void 0===l?void 0:l.name),attack:new ee(null!==(d=null===(h=this.player[`pet${o}`])||void 0===h?void 0:h.attack)&&void 0!==d?d:0),health:new ee(null!==(y=null===(m=this.player[`pet${o}`])||void 0===m?void 0:m.health)&&void 0!==y?y:0),exp:new ee(null!==(k=null===(S=this.player[`pet${o}`])||void 0===S?void 0:S.exp)&&void 0!==k?k:0),equipment:new ee(null===(T=this.player[`pet${o}`])||void 0===T?void 0:T.equipment),belugaSwallowedPet:new ee(null===(P=this.player[`pet${o}`])||void 0===P?void 0:P.belugaSwallowedPet),mana:new ee(null!==(I=null===(N=this.player[`pet${o}`])||void 0===N?void 0:N.mana)&&void 0!==I?I:0),abominationSwallowedPet1:new ee(null===(H=this.player[`pet${o}`])||void 0===H?void 0:H.abominationSwallowedPet1),abominationSwallowedPet2:new ee(null===(O=this.player[`pet${o}`])||void 0===O?void 0:O.abominationSwallowedPet2),abominationSwallowedPet3:new ee(null===(G=this.player[`pet${o}`])||void 0===G?void 0:G.abominationSwallowedPet3),battlesFought:new ee(null!==(ae=null===(Q=this.player[`pet${o}`])||void 0===Q?void 0:Q.battlesFought)&&void 0!==ae?ae:0),sabertoothTimesHurt:new ee(null!==(ge=null===(ce=this.player[`pet${o}`])||void 0===ce?void 0:ce.timesHurt)&&void 0!==ge?ge:0),tunaTimesHurt:new ee(null!==(Be=null===(_e=this.player[`pet${o}`])||void 0===_e?void 0:_e.timesHurt)&&void 0!==Be?Be:0)})}),s=this.formGroup.get("playerPets");s.clear();for(let o of i)s.push(o);let r=e.map(o=>{var l,h,d,m,y,S,k,T,P,N,I,H,O,G,Q,ae,ce,ge,_e,Be;return new $i({name:new ee(null===(l=this.opponent[`pet${o}`])||void 0===l?void 0:l.name),attack:new ee(null!==(d=null===(h=this.opponent[`pet${o}`])||void 0===h?void 0:h.attack)&&void 0!==d?d:0),health:new ee(null!==(y=null===(m=this.opponent[`pet${o}`])||void 0===m?void 0:m.health)&&void 0!==y?y:0),exp:new ee(null!==(k=null===(S=this.opponent[`pet${o}`])||void 0===S?void 0:S.exp)&&void 0!==k?k:0),equipment:new ee(null===(T=this.opponent[`pet${o}`])||void 0===T?void 0:T.equipment),belugaSwallowedPet:new ee(null===(P=this.opponent[`pet${o}`])||void 0===P?void 0:P.belugaSwallowedPet),mana:new ee(null!==(I=null===(N=this.opponent[`pet${o}`])||void 0===N?void 0:N.mana)&&void 0!==I?I:0),abominationSwallowedPet1:new ee(null===(H=this.opponent[`pet${o}`])||void 0===H?void 0:H.abominationSwallowedPet1),abominationSwallowedPet2:new ee(null===(O=this.opponent[`pet${o}`])||void 0===O?void 0:O.abominationSwallowedPet2),abominationSwallowedPet3:new ee(null===(G=this.opponent[`pet${o}`])||void 0===G?void 0:G.abominationSwallowedPet3),battlesFought:new ee(null!==(ae=null===(Q=this.opponent[`pet${o}`])||void 0===Q?void 0:Q.battlesFought)&&void 0!==ae?ae:0),sabertoothTimesHurt:new ee(null!==(ge=null===(ce=this.opponent[`pet${o}`])||void 0===ce?void 0:ce.timesHurt)&&void 0!==ge?ge:0),tunaTimesHurt:new ee(null!==(Be=null===(_e=this.opponent[`pet${o}`])||void 0===_e?void 0:_e.timesHurt)&&void 0!==Be?Be:0)})}),a=this.formGroup.get("opponentPets");a.clear();for(let o of r)a.push(o)}getPlayerPetsFormArray(){return Array.from(this.formGroup.get("playerPets").controls).reverse()}getOpponentPetsFormArray(){return Array.from(this.formGroup.get("opponentPets").controls)}updatePlayerPack(e,i,s=!0){let r;switch(e.pack=i,i){case"Turtle":r=this.petService.turtlePackPets;break;case"Puppy":r=this.petService.puppyPackPets;break;case"Star":r=this.petService.starPackPets;break;case"Golden":r=this.petService.goldenPackPets;break;case"Unicorn":r=this.petService.unicornPackPets;break;case"Danger":r=this.petService.dangerPackPets;break;default:r=this.petService.playerCustomPackPets.get(i)}e==this.player?this.gameService.setTierGroupPets(r,null):this.gameService.setTierGroupPets(null,r),this.formGroup.get("allPets")}updateSelectorPets(){this.petSelectors.forEach(e=>{e.initPets()})}updatePlayerToy(e,i){let s;e==this.player&&(s="playerToyLevel"),e==this.opponent&&(s="opponentToyLevel");let r=Number(this.formGroup.get(s).value);e.toy=this.toyService.createToy(i,e,r),e.originalToy=e.toy}updatePreviousShopTier(e){let i=1;e>2&&(i=2),e>4&&(i=3),e>6&&(i=4),e>8&&(i=5),e>10&&(i=6),this.gameService.setPreviousShopTier(i),this.gameService.setTurnNumber(e)}updateGoldSpent(e,i){this.gameService.setGoldSpent(e,i)}updateToyLevel(e,i){e.toy&&(e.toy.level=i)}abilityCycle(){for(;this.abilityService.hasGlobalEvents;){const i=this.abilityService.peekNextHighestPriorityEvent();if(i&&this.abilityService.getPriorityNumber(i.abilityType)>=23&&(this.checkPetsAlive(),this.removeDeadPets())){this.emptyFrontSpaceCheck();continue}const s=this.abilityService.getNextHighestPriorityEvent();if(!s){console.error("AbilityCycle: Expected event from queue but got null. Queue state inconsistent.");break}this.abilityService.executeEventCallback(s),this.checkPetsAlive()}this.removeDeadPets()&&this.emptyFrontSpaceCheck()}checkPetsAlive(){this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}initToys(){var e,i;(null===(e=this.player.toy)||void 0===e?void 0:e.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.player.toy.startOfBattle(this.gameService.gameApi);let s=this.player.toy.level;for(let r of this.player.petArray)r instanceof wr&&(this.player.toy.level=r.level,this.player.toy.startOfBattle(this.gameService.gameApi,!0),this.player.toy.level=s)},priority:this.player.toy.tier}),(null===(i=this.opponent.toy)||void 0===i?void 0:i.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.opponent.toy.startOfBattle(this.gameService.gameApi);let s=this.opponent.toy.level;for(let r of this.opponent.petArray)r instanceof wr&&(this.opponent.toy.level=r.level,this.opponent.toy.startOfBattle(this.gameService.gameApi,!0),this.opponent.toy.level=s)},priority:this.opponent.toy.tier})}simulate(){try{this.runSimulation()}catch(e){console.error(e),window.alert("Something went wrong, please send a bug report.")}}runSimulation(){this.localStorageService.setFormStorage(this.formGroup),this.resetSimulation();for(let e=0;e<this.simulationBattleAmt;e++){this.initBattle(),this.startBattle(),this.initToys(),this.abilityService.initEndTurnEvents(this.player),this.abilityService.initEndTurnEvents(this.opponent),this.setAbilityEquipments(this.player),this.setAbilityEquipments(this.opponent),this.initializeEquipmentMultipliers(),this.abilityService.triggerBeforeStartOfBattleEvents(this.player),this.abilityService.triggerBeforeStartOfBattleEvents(this.opponent),this.abilityService.executeBeforeStartOfBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);this.startOfBattleService.resetStartOfBattleFlags(),this.startOfBattleService.initStartOfBattleEvents(),this.startOfBattleService.executeToyPetEvents(),this.gameService.gameApi.isInStartOfBattleFlag=!0,this.toyService.executeStartOfBattleEvents(),this.startOfBattleService.executeNonToyPetEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);for(this.gameService.gameApi.isInStartOfBattleFlag=!1;this.battleStarted;)this.nextTurn();this.reset()}this.simulated=!0}removeDeadPets(){let e=!1;return e=this.player.removeDeadPets(),e=this.opponent.removeDeadPets()||e,e}emptyFrontSpaceCheck(){null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.opponent),null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceToyEvents()}startBattle(){this.reset(),this.battleStarted=!0,this.turns=0}resetSimulation(){this.playerWinner=0,this.opponentWinner=0,this.viewBattle=null,this.draw=0,this.battles=[],this.currBattle=null}initBattle(){this.logService.reset(),this.currBattle={winner:"draw",logs:this.logs},this.battles.push(this.currBattle),this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentTransformationAmount=this.formGroup.get("opponentTransformationAmount").value,this.gameService.gameApi.playerTransformationAmount=this.formGroup.get("playerTransformationAmount").value}reset(){this.player.resetPets(),this.opponent.resetPets()}nextTurn(){let e=!1,i=null;if(this.turns++,this.turns>=this.maxTurns&&(e=!0),!this.player.alive()&&this.opponent.alive()&&(i=this.opponent,this.currBattle.winner="opponent",this.opponentWinner++,e=!0),!this.opponent.alive()&&this.player.alive()&&(i=this.player,this.currBattle.winner="player",this.playerWinner++,e=!0),!this.opponent.alive()&&!this.player.alive()&&(this.draw++,e=!0),e)return this.logService.printState(this.player,this.opponent),this.endLog(i),void(this.battleStarted=!1);for(this.pushPetsForwards(),this.logService.printState(this.player,this.opponent);;){let s=this.player.pet0,r=this.opponent.pet0;this.player.pet0.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:this.player.pet0.beforeAttack.bind(this.player.pet0),priority:this.player.pet0.attack,player:this.player,pet:this.player.pet0}),this.opponent.pet0.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:this.opponent.pet0.beforeAttack.bind(this.opponent.pet0),priority:this.opponent.pet0.attack,player:this.opponent,pet:this.opponent.pet0}),this.abilityService.executeBeforeAttackEvents(),this.abilityService.triggerBeforeFriendAttacksEvents(this.player,this.player.pet0),this.abilityService.triggerBeforeFriendAttacksEvents(this.opponent,this.opponent.pet0),this.abilityService.executeBeforeFriendAttacksEvents(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);if(!this.player.alive()||!this.opponent.alive())return;if(this.pushPetsForwards(),s.transformed&&(s=s.transformedInto),r.transformed&&(r=r.transformedInto),this.player.pet0==s&&this.opponent.pet0==r)break}this.fight(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);this.player.checkGoldenSpawn(),this.opponent.checkGoldenSpawn();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents)}chocolateCakePresent(){var e,i;let s={player:!1,opponent:!1,cake:!1};return s.player=(null===(e=this.player.pet0)||void 0===e?void 0:e.equipment)instanceof B_,s.opponent=(null===(i=this.opponent.pet0)||void 0===i?void 0:i.equipment)instanceof B_,s.cake=s.player||s.opponent,s}doChocolateCakeEvents(e){let i=[];e.player&&i.push(this.player.pet0),e.opponent&&i.push(this.opponent.pet0),i=(0,yt.shuffle)(i),i.sort((s,r)=>s.attack<r.attack?1:r.attack<s.attack?-1:0);for(let s of i)s.equipment.callback(s)}setAbilityEquipments(e){var i;for(let s of e.petArray)s.equipment instanceof qP?(s.equipment.callback(s),s.eggplantTouched=!0):(null===(i=s.equipment)||void 0===i?void 0:i.callback)&&s.equipment.callback(s)}executeBeforeStartOfBattleEquipment(e){for(let i of e.petArray){let s=i.equipment.multiplier,r=i.equipment.multiplierMessage;for(let a=0;a<s;a++){if(i.equipment instanceof $P&&(i.increaseAttack(4),i.increaseHealth(4),this.logService.createLog({message:`${i.name} gained 4 attack and 4 health (Pie)${r}`,type:"equipment",player:e})),i.equipment instanceof HP&&i.parent.gainTrumpets(2*s,i,!1,s,!0),i.equipment instanceof FP)for(let o of e.petArray)i!=o&&(o.increaseAttack(2),o.increaseHealth(2),this.logService.createLog({message:`${o.name} gained 2 attack and 2 health (Pancake)${r}`,type:"equipment",player:e}));i.equipment instanceof UP&&i.equipment.callback(i),i.equipment instanceof GP&&i.equipment.callback(i),i.equipment instanceof jP&&i.equipment.callback(i)}}}pushPetsForwards(){this.player.pushPetsForward(),this.opponent.pushPetsForward()}fight(){let e=this.player.pet0,i=this.opponent.pet0;e.attackPet(i),i.attackPet(e),e.useAttackDefenseEquipment(),i.useAttackDefenseEquipment(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive(),this.abilityService.executeAfterAttackEvents(),this.abilityService.executeAfterFriendAttackEvents()}endLog(e){let i;i=null==e?"Draw":e==this.player?"Player is the winner":"Opponent is the winner",this.logService.createLog({message:i,type:"board"})}get logs(){return this.logService.getLogs()}setViewBattle(e){this.viewBattle=e}getViewBattleLogs(){var e,i;return null!==(i=null===(e=this.viewBattle)||void 0===e?void 0:e.logs)&&void 0!==i?i:[]}getDrawWidth(){return`${this.losePercent+this.drawPercent}%`}getLoseWidth(){return`${this.losePercent}%`}getPlayerClass(e){return null==e.player?"log":e.player==this.player?"log-player":"log-opponent"}getRandomEvents(e){let i="",s=e.logs.filter(r=>1==r.randomEvent);for(let r of s)i+=r.message,r!=s[s.length-1]&&(i+="\n");return i}randomize(e){null==e&&!confirm("Are you sure you want to randomize?")||(e?this.randomizePlayerPets(e):(this.randomizePlayerPets(this.player),this.randomizePlayerPets(this.opponent)),this.formGroup&&this.initPetForms(),setTimeout(()=>{this.petSelectors.forEach(i=>{i.initSelector()})}))}zoomIn(){this.formGroup.get("fontSize").setValue(Math.min(this.formGroup.get("fontSize").value+1,20)),this.setFontSize()}zoomOut(){this.formGroup.get("fontSize").setValue(Math.max(this.formGroup.get("fontSize").value-1,8)),this.setFontSize()}setFontSize(){document.documentElement.style.fontSize=`${this.formGroup.get("fontSize").value}px`}clearCache(){this.localStorageService.clearStorage(),alert("Cache cleared. Refresh page to see changes.")}initModals(){this.customPackEditorModal=new _c(this.customPackEditor.nativeElement),this.customPackEditor.nativeElement.addEventListener("hidden.bs.modal",e=>{})}openCustomPackEditor(){this.customPackEditorModal.show(),this.formGroup.get("playerPack").setValue(this.previousPackPlayer,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.previousPackOpponent,{emitEvent:!1})}drop(e,i){let s=e.previousIndex,r=e.currentIndex,a=this.opponent;"player"==i&&(s=4-s,r=4-r,a=this.player),B4(this.formGroup.get(`${i}Pets`).controls,s,r);for(let o of this.petSelectors.toArray())o.substitutePet()}resetPlayer(e){if(!confirm(`Are you sure you want to reset ${e}?`))return;let i=this.petSelectors.toArray().slice("player"==e?0:5,"player"==e?5:10);for(let s of i)s.removePet()}export(){this.localStorageService.setFormStorage(this.formGroup);let e=JSON.stringify(this.formGroup.value);navigator.clipboard.writeText(e).then(()=>{alert("Copied to clipboard")})}import(e,i=!1){let s=!1;try{const r=JSON.parse(e);this.loadCalculatorFromValue(r),this.initApp(),i||setTimeout(()=>{this.petSelectors&&this.petSelectors.forEach(a=>{a.fixLoadEquipment()})},0),s=!0}catch(r){console.error(r)}return s}generateShareLink(){this.localStorageService.setFormStorage(this.formGroup);const i=(0,yt.cloneDeep)(this.formGroup.value),s=[...i.playerPets||[],...i.opponentPets||[]];for(const h of s)h&&(delete h.parent,delete h.logService,delete h.abilityService,delete h.gameService,delete h.petService,h.equipment&&(h.equipment={name:h.equipment.name}));const r=JSON.stringify(i),a=encodeURIComponent(r),l=`${window.location.origin+window.location.pathname}?c=${a}`;navigator.clipboard.writeText(l).then(()=>{alert("Shareable link copied to clipboard!")}).catch(h=>{console.error("Failed to copy link: ",h),alert("Failed to copy link. See console for details.")})}get filteredBattles(){return this.battles.filter(e=>{let i=this.formGroup.get("logFilter").value;return null==i||e.winner==i})}get winPercent(){return yC(this.playerWinner/this.simulationBattleAmt*100)}get drawPercent(){return yC(this.draw/this.simulationBattleAmt*100)}get losePercent(){return yC(this.opponentWinner/this.simulationBattleAmt*100)}get validCustomPacks(){let e=this.formGroup.get("customPacks"),i=[];for(let s of e.controls)s.valid&&i.push(s);return i}initializeEquipmentMultipliers(){for(let e of this.player.petArray)e.equipment&&e.setEquipmentMultiplier();for(let e of this.opponent.petArray)e.equipment&&e.setEquipmentMultiplier()}}return n.\u0275fac=function(e){return new(e||n)($(q_),$(Dt),$(U_),$(Sh),$(dn),$(pb),$(oV),$($te),$(EI))},n.\u0275cmp=Bn({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&(wy(Cie,5),wy(cV,5)),2&e){let s;sc(s=rc())&&(i.customPackEditor=s.first),sc(s=rc())&&(i.petSelectors=s)}},decls:2,vars:2,consts:[[4,"ngIf"],["id","apiResponse"],[1,"container-fluid","app-wrapper","flex-col",3,"formGroup"],["container",""],[1,"row","mt-2"],[1,"col-12","header"],[1,"d-flex","align-items-end"],[3,"click"],["data-bs-toggle","modal","data-bs-target","#info",1,"btn-link","info-link"],[1,"me-3"],[1,"d-flex","flex-column","align-items-end"],["data-bs-toggle","modal","data-bs-target","#patchNotes",1,"btn-link"],[1,"row","battle-controller","border"],[1,"col-12","d-flex","justify-content-between","py-2"],[1,"d-flex","flex-wrap"],[1,"form-group","min-w-input","me-3"],["for","playerPack"],["id","playerPack","formControlName","playerPack",1,"form-control"],["value","Turtle"],["value","Puppy"],["value","Star"],["value","Golden"],["value","Unicorn"],["value","Danger"],["label","Custom Packs"],[3,"value",4,"ngFor","ngForOf"],["value","Add Custom Pack"],[1,"form-group","min-w-input","pe-3","border-end"],["id","opponentPack","formControlName","opponentPack",1,"form-control"],[1,"form-group","min-w-input","mx-3"],["id","playerToy","formControlName","playerToy",1,"form-control"],[3,"ngValue"],[3,"label",4,"ngFor","ngForOf"],[1,"form-group","me-3"],["for","playerToyLevel"],["id","playerToyLevel","formControlName","playerToyLevel",1,"form-control"],["id","opponentToy","formControlName","opponentToy",1,"form-control"],["for","opponentToyLevel"],["id","opponentToyLevel","formControlName","opponentToyLevel",1,"form-control"],[1,"form-group","pe-3","d-flex","align-items-end","border-end"],[1,"btn-link",3,"click"],[1,"flex-column"],["title","Opponent's pack pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","angler","formControlName","angler",1,"form-check-input"],["for","angler",1,"form-check-label"],["title","All pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","allPets","formControlName","allPets",1,"form-check-input"],["for","allPets",1,"form-check-label"],["title","Stork spawns with base stats.",1,"form-check","ms-3"],["type","checkbox","value","","id","oldStork","formControlName","oldStork",1,"form-check-input"],["for","oldStork",1,"form-check-label"],["title","Include Token Pets in pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","oldStork","formControlName","tokenPets",1,"form-check-input"],["for","tokenPets",1,"form-check-label"],["title","Shuffle pets in front of Komodo if present.",1,"form-check","ms-3"],["type","checkbox","value","","id","komodoShuffle","formControlName","komodoShuffle",1,"form-check-input"],["for","komodoShuffle",1,"form-check-label"],["title","Include Mana.",1,"form-check","ms-3"],["type","checkbox","value","","id","mana","formControlName","mana",1,"form-check-input"],["for","mana",1,"form-check-label"],["title","Include Ailments for Equipment Options.",1,"form-check","ms-3"],["type","checkbox","value","","id","ailmentEquipment","formControlName","ailmentEquipment",1,"form-check-input"],["for","ailmentEquipment",1,"form-check-label"],[1,"flex-col","zoom-container"],["for","zoom"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],["class","row battle-controller border",4,"ngIf"],[1,"row","day-night-container"],[1,"col-12"],[1,"row","battle-row","pb-5","pt-3"],[1,"col-12","col-xl-6","px-4","mb-2","mb-xl-0"],[1,"d-flex","justify-content-between"],[1,"me-4"],[1,"btn","btn-secondary","mb-1",3,"click"],[1,"card","p-2","player-card"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"row","row-cols-1","row-cols-md-5",3,"cdkDropListDropped"],["class","col drag-container mb-2 mb-md-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"col-12","col-xl-6","px-4"],[1,"card","p-2","player-card","ml-auto"],["class","col drag-container mb-2 mb-sm-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"row","button-bar","pt-3","pb-1","border"],[1,"col-12","d-flex","justify-content-between"],[1,"btn","btn-primary","me-2","mb-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#reportABug",1,"btn","btn-secondary","me-2","mb-2"],["data-bs-toggle","modal","data-bs-target","#export",1,"btn","btn-secondary","me-2","mb-2"],["data-bs-toggle","modal","data-bs-target","#import",1,"btn","btn-secondary","mb-2"],["class","row",4,"ngIf"],[1,"row","flex-1","bottom-container"],[1,"col-12","col-md-6","border","h-100","flex-col","pe-0"],[1,"row"],["for","logFilter",1,"form-label"],[1,"form-check","form-check-inline"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio1",1,"form-check-input",3,"value"],["for","inlineRadio1",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio2","value","player",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio3","value","opponent",1,"form-check-input"],["for","inlineRadio3",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio4","value","draw",1,"form-check-input"],["for","inlineRadio4",1,"form-check-label"],[1,"battle-container","flex-1","scroll"],[1,"table"],[1,"battle-no"],["class","table-battle-row",3,"click",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","border","h-100","flex-col"],[1,"row","log-container","flex-1","scroll"],["class","col-12",4,"ngFor","ngForOf"],["id","patchNotes","tabindex","-1","aria-labelledby","patchNotesLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","patchNotesLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["id","customPackEditor","tabindex","-1","aria-labelledby","customPackEditorLabel","aria-hidden","true",1,"modal","fade"],["customPackEditor",""],[1,"modal-dialog","modal-lg"],["id","customPackEditorLabel",1,"modal-title","fs-5"],[3,"formGroup"],["id","info","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],["id","import","tabindex","-1","aria-labelledby","importModalLabel","aria-hidden","true",1,"modal","fade"],["id","importModalLabel",1,"modal-title","fs-5"],[3,"importFunc"],["id","export","tabindex","-1","aria-labelledby","exportModalLabel","aria-hidden","true",1,"modal","fade"],["id","exportModalLabel",1,"modal-title","fs-5"],["id","reportABug","tabindex","-1","aria-labelledby","reportABug","aria-hidden","true",1,"modal","fade"],["id","reportABug",1,"modal-title","fs-5"],[3,"calcFormGroup"],[3,"value"],[3,"label"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"border-end","d-flex","flex-wrap","pe-3"],[1,"form-group","small-w-input","me-s-3"],["for","turn"],["id","turn","type","number","formControlName","turn","max","99",1,"form-control"],[1,"form-group","advanced-input","ms-3"],["for","playerGoldSpent","title","Player Gold Spent"],["id","turn","type","number","formControlName","playerGoldSpent","max","99",1,"form-control"],["for","opponentGoldSpent","title","Opponent Gold Spent"],["id","turn","type","number","formControlName","opponentGoldSpent","max","99",1,"form-control"],["for","playerRollAmount","title","Player Roll Amount"],["id","turn","type","number","formControlName","playerRollAmount","max","99",1,"form-control"],["for","opponentRollAmount","title","Opponent Roll Amount"],["id","turn","type","number","formControlName","opponentRollAmount","max","99",1,"form-control"],["for","playerLevel3Sold","title","Player Level 3 Sold"],["id","turn","type","number","formControlName","playerLevel3Sold","max","99",1,"form-control"],["for","opponentLevel3Sold","title","Opponent Level 3 Sold"],["id","turn","type","number","formControlName","opponentLevel3Sold","max","99",1,"form-control"],["for","playerSummonedAmount","title","Player Summoned Amount"],["id","turn","type","number","formControlName","playerSummonedAmount","max","99",1,"form-control"],["for","opponentSummonedAmount","title","Opponent Summoned Amount"],["id","turn","type","number","formControlName","opponentSummonedAmount","max","99",1,"form-control"],["for","playerTransformationAmount","title","Player Transformation Amount"],["id","turn","type","number","formControlName","playerTransformationAmount","max","99",1,"form-control"],["for","opponentTransformationAmount","title","Opponent Transformation Amount"],["id","turn","type","number","formControlName","opponentTransformationAmount","max","99",1,"form-control"],["cdkDrag","",1,"col","drag-container","mb-2","mb-md-0"],["cdkDragHandle","",1,"drag-handle"],["fill","currentColor","viewBox","0 0 24 24"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],[3,"pet","player","opponent","index","formGroup","angler","ailments","allPets","mana","showTokenPets","customPacks"],["cdkDrag","",1,"col","drag-container","mb-2","mb-sm-0"],[1,"col-12","stats"],[1,"col-12","py-2"],[1,"results-bar"],[1,"draw-bar"],[1,"lose-bar"],[1,"table-battle-row",3,"click"],[1,"pre"],[3,"ngClass"]],template:function(e,i){1&e&&(Re(0,Pie,3,1,"ng-container",0),Re(1,Fie,281,27,"ng-container",0)),2&e&&(z("ngIf",i.api),F(1),z("ngIf",!i.api))},directives:[ph,hc,qa,Lp,uc,qo,fC,gC,Dp,t_,Tte,Ha,cC,Vte,iie,nie,sie,rie,kie,h_,d_,Rte,xte,cV,Rk],pipes:[Nk],styles:[".app-wrapper[_ngcontent-%COMP%]{height:100vh}.day-night-container[_ngcontent-%COMP%]{min-height:1em}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:end}.flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.player-card[_ngcontent-%COMP%]{background-color:#e9c137;display:grid;grid-auto-rows:minmax(min-content,max-content);grid-template-columns:auto 1fr auto}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:rotate(180deg);writing-mode:vertical-lr;text-align:center}.battle-row[_ngcontent-%COMP%]{background-color:#5ebe09}.button-bar[_ngcontent-%COMP%], .battle-controller[_ngcontent-%COMP%]{background-color:#f5f5f5}.battle-controller[_ngcontent-%COMP%]   .min-w-input[_ngcontent-%COMP%]{min-width:100px}.small-w-input[_ngcontent-%COMP%]{width:60px}.stats[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:.25em}.stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:1em}.battle-no[_ngcontent-%COMP%]{width:1%;white-space:nowrap}.table-battle-row[_ngcontent-%COMP%]{cursor:pointer}.results-bar[_ngcontent-%COMP%], .draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{display:inline-block}.draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{height:100%;position:absolute;right:0}.results-bar[_ngcontent-%COMP%]{max-width:100%;border:.2em solid black;height:2em;width:30em;background-color:#0f0;position:relative}.draw-bar[_ngcontent-%COMP%]{background-color:#d3d3d3}.lose-bar[_ngcontent-%COMP%]{background-color:red}.log-player[_ngcontent-%COMP%]{background-color:#e4ffe0}.log-opponent[_ngcontent-%COMP%]{background-color:#ffe0e0}.log-container[_ngcontent-%COMP%]{display:flex;align-content:flex-start}.random-event[_ngcontent-%COMP%]{color:purple;font-weight:bold}.flex-1[_ngcontent-%COMP%]{flex:1}.bottom-container[_ngcontent-%COMP%]{min-height:30em}.bottom-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-height:15em}.scroll[_ngcontent-%COMP%]{overflow:scroll}.h-100[_ngcontent-%COMP%]{height:100%}.pre[_ngcontent-%COMP%]{white-space:pre}.btn-link[_ngcontent-%COMP%]{color:#0d6efd;cursor:pointer}.zoom-container[_ngcontent-%COMP%]{min-width:max-content}.zoom-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:2.5em}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.drag-container[_ngcontent-%COMP%]{position:relative}.drag-handle[_ngcontent-%COMP%]{width:1.25em;position:absolute;right:1em;z-index:1;opacity:.5;cursor:pointer}.info-link[_ngcontent-%COMP%]{margin-left:1em;margin-bottom:.5em}@media (max-width: 767.98px){.card[_ngcontent-%COMP%]{max-width:18em}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:initial;writing-mode:initial}.player-card[_ngcontent-%COMP%]{grid-template-columns:none}}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.bug-button[_ngcontent-%COMP%]{margin-right:.5em;margin-bottom:.25em}.advanced-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60px}"],data:{animation:[Nte("dayNight",[Z4("day",Wb({backgroundColor:"#85ddf2"})),Z4("night",Wb({backgroundColor:"#33377a"})),Bte("day <=> night",[Lte("0.5s")])])]}}),n})();function pH(){return"undefined"!=typeof window&&void 0!==window.document}function xI(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Xo(n){switch(n.length){case 0:return new Uh;case 1:return n[0];default:return new eH(n)}}function gH(n,t,e,i,s={},r={}){const a=[],o=[];let l=-1,h=null;if(i.forEach(d=>{const m=d.offset,y=m==l,S=y&&h||{};Object.keys(d).forEach(k=>{let T=k,P=d[k];if("offset"!==k)switch(T=t.normalizePropertyName(T,a),P){case"!":P=s[k];break;case Qa:P=r[k];break;default:P=t.normalizeStyleValue(k,T,P,a)}S[T]=P}),y||o.push(S),h=S,l=m}),a.length){const d="\n - ";throw new Error(`Unable to animate due to the following errors:${d}${a.join(d)}`)}return o}function MI(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&RI(e,"start",n)));break;case"done":n.onDone(()=>i(e&&RI(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&RI(e,"destroy",n)))}}function RI(n,t,e){const i=e.totalTime,r=II(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),a=n._data;return null!=a&&(r._data=a),r}function II(n,t,e,i,s="",r=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:r,disabled:!!a}}function gs(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function mH(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let OI=(n,t)=>!1,NI=(n,t)=>!1,vH=(n,t,e)=>[];const yH=xI();(yH||"undefined"!=typeof Element)&&(OI=pH()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),NI=(()=>{if(yH||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):NI}})(),vH=(n,t,e)=>{let i=[];if(e){const s=n.querySelectorAll(t);for(let r=0;r<s.length;r++)i.push(s[r])}else{const s=n.querySelector(t);s&&i.push(s)}return i});let Cc=null,_H=!1;function LI(n){Cc||(Cc=("undefined"!=typeof document?document.body:null)||{},_H=!!Cc.style&&"WebkitAppearance"in Cc.style);let t=!0;return Cc.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Cc.style,!t&&_H&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Cc.style)),t}const BI=NI,$I=OI,VI=vH;function bH(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let SH=(()=>{class n{validateStyleProperty(e){return LI(e)}matchesElement(e,i){return BI(e,i)}containsElement(e,i){return $I(e,i)}query(e,i,s){return VI(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,r,a,o=[],l){return new Uh(s,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})(),FI=(()=>{class n{}return n.NOOP=new SH,n})();const HI="ng-enter",Qb="ng-leave",Yb="ng-trigger",Jb=".ng-trigger",EH="ng-animating",qI=".ng-animating";function Pc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:UI(parseFloat(t[1]),t[2])}function UI(n,t){return"s"===t?1e3*n:n}function Zb(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let s,r=0,a="";if("string"==typeof n){const o=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=UI(parseFloat(o[1]),o[2]);const l=o[3];null!=l&&(r=UI(parseFloat(l),o[4]));const h=o[5];h&&(a=h)}else s=n;if(!e){let o=!1,l=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),o=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),o=!0),o&&t.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:r,easing:a}}(n,t,e)}function Gh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function el(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Gh(n,e);return e}function CH(n,t,e){return e?t+":"+e+";":""}function PH(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=CH(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=CH(0,Zie(e),n.style[e]));n.setAttribute("style",t)}function Zr(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const s=jI(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[s]),n.style[s]=t[i]}),xI()&&PH(n))}function Ac(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=jI(e);n.style[i]=""}),xI()&&PH(n))}function dg(n){return Array.isArray(n)?1==n.length?n[0]:J4(n):n}const GI=new RegExp("{{\\s*(.+?)\\s*}}","g");function AH(n){let t=[];if("string"==typeof n){let e;for(;e=GI.exec(n);)t.push(e[1]);GI.lastIndex=0}return t}function Xb(n,t,e){const i=n.toString(),s=i.replace(GI,(r,a)=>{let o=t[a];return t.hasOwnProperty(a)||(e.push(`Please provide a value for the animation param ${a}`),o=""),o.toString()});return s==i?n:s}function eS(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Jie=/-+([a-z0-9])/g;function jI(n){return n.replace(Jie,(...t)=>t[1].toUpperCase())}function Zie(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function DH(n,t){return 0===n||0===t}function TH(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let r=t[0],a=[];if(i.forEach(o=>{r.hasOwnProperty(o)||a.push(o),r[o]=e[o]}),a.length)for(var s=1;s<t.length;s++){let o=t[s];a.forEach(function(l){o[l]=WI(n,l)})}}return t}function ms(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function WI(n,t){return window.getComputedStyle(n)[t]}function Xie(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const l=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const s=i[1],r=i[2],a=i[3];t.push(xH(s,a));"<"==r[0]&&!("*"==s&&"*"==a)&&t.push(xH(a,s))}(i,e,t)):e.push(n),e}const iS=new Set(["true","1"]),nS=new Set(["false","0"]);function xH(n,t){const e=iS.has(n)||nS.has(n),i=iS.has(t)||nS.has(t);return(s,r)=>{let a="*"==n||n==s,o="*"==t||t==r;return!a&&e&&"boolean"==typeof s&&(a=s?iS.has(n):nS.has(n)),!o&&i&&"boolean"==typeof r&&(o=r?iS.has(t):nS.has(t)),a&&o}}const ine=new RegExp("s*:selfs*,?","g");function zI(n,t,e){return new nne(n).build(t,e)}class nne{constructor(t){this._driver=t}build(t,e){const i=new ane(e);return this._resetContextStyleTimingState(i),ms(this,dg(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const r=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(o=>{if(this._resetContextStyleTimingState(e),0==o.type){const l=o,h=l.name;h.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,r.push(this.visitState(l,e))}),l.name=h}else if(1==o.type){const l=this.visitTransition(o,e);i+=l.queryCount,s+=l.depCount,a.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:a,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const r=new Set,a=s||{};if(i.styles.forEach(o=>{if(sS(o)){const l=o;Object.keys(l).forEach(h=>{AH(l[h]).forEach(d=>{a.hasOwnProperty(d)||r.add(d)})})}}),r.size){const o=eS(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${o.join(", ")}`)}}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ms(this,dg(t.animation),e);return{type:1,matchers:Xie(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Dc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ms(this,i,e)),options:Dc(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const r=t.steps.map(a=>{e.currentTime=i;const o=ms(this,a,e);return s=Math.max(s,e.currentTime),o});return e.currentTime=s,{type:3,steps:r,options:Dc(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return KI(Zb(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=KI(0,0,"");return r.dynamic=!0,r.strValue=i,r}return e=e||Zb(i,t),KI(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,r=t.styles?t.styles:Wb({});if(5==r.type)s=this.visitKeyframes(r,e);else{let a=t.styles,o=!1;if(!a){o=!0;const h={};i.easing&&(h.easing=i.easing),a=Wb(h)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(a,e);l.isEmptyStep=o,s=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(a=>{"string"==typeof a?a==Qa?i.push(a):e.errors.push(`The provided style string value ${a} is not allowed.`):i.push(a)}):i.push(t.styles);let s=!1,r=null;return i.forEach(a=>{if(sS(a)){const o=a,l=o.easing;if(l&&(r=l,delete o.easing),!s)for(let h in o)if(o[h].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:r,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(o=>{if(!this._driver.validateStyleProperty(o))return void e.errors.push(`The provided animation property "${o}" is not a supported CSS property for animations`);const l=e.collectedStyles[e.currentQuerySelector],h=l[o];let d=!0;h&&(r!=s&&r>=h.startTime&&s<=h.endTime&&(e.errors.push(`The CSS property "${o}" that exists between the times of "${h.startTime}ms" and "${h.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${s}ms"`),d=!1),r=h.startTime),d&&(l[o]={startTime:r,endTime:s}),e.options&&function(n,t,e){const i=t.params||{},s=AH(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||e.push(`Unable to resolve the local animation param ${r} in the given list of values`)})}(a[o],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let r=0;const a=[];let o=!1,l=!1,h=0;const d=t.steps.map(N=>{const I=this._makeStyleAst(N,e);let H=null!=I.offset?I.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(sS(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(sS(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(I.styles),O=0;return null!=H&&(r++,O=I.offset=H),l=l||O<0||O>1,o=o||O<h,h=O,a.push(O),I});l&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const m=t.steps.length;let y=0;r>0&&r<m?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(y=1/(m-1));const S=m-1,k=e.currentTime,T=e.currentAnimateTimings,P=T.duration;return d.forEach((N,I)=>{const H=y>0?I==S?1:y*I:a[I],O=H*P;e.currentTime=k+T.delay+O,T.duration=O,this._validateStyleAst(N,e),N.offset=H,i.styles.push(N)}),i}visitReference(t,e){return{type:8,animation:ms(this,dg(t.animation),e),options:Dc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Dc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Dc(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[r,a]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(ine,"")),n=n.replace(/@\*/g,Jb).replace(/@\w+/g,e=>Jb+"-"+e.substr(1)).replace(/:animating/g,qI),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,gs(e.collectedStyles,e.currentQuerySelector,{});const o=ms(this,dg(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:a,animation:o,originalSelector:t.selector,options:Dc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Zb(t.timings,e.errors,!0);return{type:12,animation:ms(this,dg(t.animation),e),timings:i,options:null}}}class ane{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function sS(n){return!Array.isArray(n)&&"object"==typeof n}function Dc(n){return n?(n=Gh(n)).params&&(n.params=function(n){return n?Gh(n):null}(n.params)):n={},n}function KI(n,t,e){return{duration:n,delay:t,easing:e}}function QI(n,t,e,i,s,r,a=null,o=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:a,subTimeline:o}}class rS{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const hne=new RegExp(":enter","g"),fne=new RegExp(":leave","g");function YI(n,t,e,i,s,r={},a={},o,l,h=[]){return(new pne).buildKeyframes(n,t,e,i,s,r,a,o,l,h)}class pne{buildKeyframes(t,e,i,s,r,a,o,l,h,d=[]){h=h||new rS;const m=new JI(t,e,h,s,r,d,[]);m.options=l,m.currentTimeline.setStyles([a],null,m.errors,l),ms(this,i,m);const y=m.timelines.filter(S=>S.containsAnimation());if(y.length&&Object.keys(o).length){const S=y[y.length-1];S.allowOnlyTimelineStyles()||S.setStyles([o],null,m.errors,l)}return y.length?y.map(S=>S.buildKeyframes()):[QI(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const s=e.createSubContext(t.options),r=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,s,s.options);r!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime;const a=null!=i.duration?Pc(i.duration):null,o=null!=i.delay?Pc(i.delay):null;return 0!==a&&t.forEach(l=>{const h=e.appendInstructionToTimeline(l,a,o);r=Math.max(r,h.duration+h.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),ms(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const r=t.options;if(r&&(r.params||r.delay)&&(s=e.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=aS);const a=Pc(r.delay);s.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>ms(this,a,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Pc(t.options.delay):0;t.steps.forEach(a=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),ms(this,a,o),s=Math.max(s,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Zb(e.params?Xb(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const r=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,r=i.duration,o=e.createSubContext().currentTimeline;o.easing=i.easing,t.styles.forEach(l=>{o.forwardTime((l.offset||0)*r),o.setStyles(l.styles,l.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(s+r),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},r=s.delay?Pc(s.delay):0;r&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=aS);let a=i;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=o.length;let l=null;o.forEach((h,d)=>{e.currentQueryIndex=d;const m=e.createSubContext(t.options,h);r&&m.delayNextStep(r),h===e.element&&(l=m.currentTimeline),ms(this,t.animation,m),m.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,m.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,r=t.timings,a=Math.abs(r.duration),o=a*(e.currentQueryTotal-1);let l=a*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=o-l;break;case"full":l=i.currentStaggerTime}const d=e.currentTimeline;l&&d.delayNextStep(l);const m=d.currentTime;ms(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-m+(s.startTime-i.currentTimeline.startTime)}}const aS={};class JI{constructor(t,e,i,s,r,a,o,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=a,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=aS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new oS(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=Pc(i.duration)),null!=i.delay&&(s.delay=Pc(i.delay));const r=i.params;if(r){let a=s.params;a||(a=this.options.params={}),Object.keys(r).forEach(o=>{(!e||!a.hasOwnProperty(o))&&(a[o]=Xb(r[o],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,r=new JI(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=aS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},r=new gne(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,r,a){let o=[];if(s&&o.push(this.element),t.length>0){t=(t=t.replace(hne,"."+this._enterClassName)).replace(fne,"."+this._leaveClassName);let h=this._driver.query(this.element,t,1!=i);0!==i&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),o.push(...h)}return!r&&0==o.length&&a.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class oS{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new oS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Qa,this._currentKeyframe[e]=Qa}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&(this._previousKeyframe.easing=e);const r=s&&s.params||{},a=function(n,t){const e={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(r=>{e[r]=Qa})):el(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(a).forEach(o=>{const l=Xb(a[o],r,i);this._pendingStyles[o]=l,this._localTimelineStyles.hasOwnProperty(o)||(this._backFill[o]=this._globalTimelineStyles.hasOwnProperty(o)?this._globalTimelineStyles[o]:Qa),this._updateStyle(o,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],s=t._styleSummary[e];(!i||s.time>i.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((o,l)=>{const h=el(o,!0);Object.keys(h).forEach(d=>{const m=h[d];"!"==m?t.add(d):m==Qa&&e.add(d)}),i||(h.offset=l/this.duration),s.push(h)});const r=t.size?eS(t.values()):[],a=e.size?eS(e.values()):[];if(i){const o=s[0],l=Gh(o);o.offset=0,l.offset=1,s=[o,l]}return QI(this.element,s,r,a,this.duration,this.startTime,this.easing,!1)}}class gne extends oS{constructor(t,e,i,s,r,a,o=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],a=i+e,o=e/a,l=el(t[0],!1);l.offset=0,r.push(l);const h=el(t[0],!1);h.offset=IH(o),r.push(h);const d=t.length-1;for(let m=1;m<=d;m++){let y=el(t[m],!1);y.offset=IH((e+y.offset*i)/a),r.push(y)}i=a,e=0,s="",t=r}return QI(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function IH(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class ZI{}class vne extends ZI{normalizePropertyName(t,e){return jI(t)}normalizeStyleValue(t,e,i,s){let r="";const a=i.toString().trim();if(yne[e]&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const o=i.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&s.push(`Please provide a CSS unit value for ${t}:${i}`)}return a+r}}const yne=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function OH(n,t,e,i,s,r,a,o,l,h,d,m,y){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:r,toState:i,toStyles:a,timelines:o,queriedElements:l,preStyleProps:h,postStyleProps:d,totalTime:m,errors:y}}const XI={};class NH{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function(n,t,e,i,s){return n.some(r=>r(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){const s=this._stateStyles["*"],r=this._stateStyles[t],a=s?s.buildStyles(e,i):{};return r?r.buildStyles(e,i):a}build(t,e,i,s,r,a,o,l,h,d){const m=[],y=this.ast.options&&this.ast.options.params||XI,k=this.buildStyles(i,o&&o.params||XI,m),T=l&&l.params||XI,P=this.buildStyles(s,T,m),N=new Set,I=new Map,H=new Map,O="void"===s,G={params:Object.assign(Object.assign({},y),T)},Q=d?[]:YI(t,e,this.ast.animation,r,a,k,P,G,h,m);let ae=0;if(Q.forEach(ge=>{ae=Math.max(ge.duration+ge.delay,ae)}),m.length)return OH(e,this._triggerName,i,s,O,k,P,[],[],I,H,ae,m);Q.forEach(ge=>{const _e=ge.element,Be=gs(I,_e,{});ge.preStyleProps.forEach(Ze=>Be[Ze]=!0);const qe=gs(H,_e,{});ge.postStyleProps.forEach(Ze=>qe[Ze]=!0),_e!==e&&N.add(_e)});const ce=eS(N.values());return OH(e,this._triggerName,i,s,O,k,P,Q,ce,I,H,ae)}}class Sne{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},s=Gh(this.defaultParams);return Object.keys(t).forEach(r=>{const a=t[r];null!=a&&(s[r]=a)}),this.styles.styles.forEach(r=>{if("string"!=typeof r){const a=r;Object.keys(a).forEach(o=>{let l=a[o];l.length>1&&(l=Xb(l,s,e));const h=this.normalizer.normalizePropertyName(o,e);l=this.normalizer.normalizeStyleValue(o,h,l,e),i[h]=l})}}),i}}class Ene{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new Sne(s.style,s.options&&s.options.params||{},i)}),LH(this.states,"true","1"),LH(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new NH(t,s,this.states))}),this.fallbackTransition=function(n,t,e){return new NH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,o)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(a=>a.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function LH(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const Cne=new rS;class Pne{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=zI(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,i){const s=t.element,r=gH(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],r=this._animations[t];let a;const o=new Map;if(r?(a=YI(this._driver,e,r,HI,Qb,{},{},i,Cne,s),a.forEach(d=>{const m=gs(o,d.element,{});d.postStyleProps.forEach(y=>m[y]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),a=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);o.forEach((d,m)=>{Object.keys(d).forEach(y=>{d[y]=this._driver.computeStyle(m,y,Qa)})});const h=Xo(a.map(d=>{const m=o.get(d.element);return this._buildPlayer(d,{},m)}));return this._playersById[t]=h,h.onDestroy(()=>this.destroy(t)),this.players.push(h),h}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,s){const r=II(e,"","","");return MI(this._getPlayer(t),i,r,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const BH="ng-animate-queued",$H="ng-animate-disabled",VH=".ng-animate-disabled",xne=[],FH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Mne={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ks="__ng_removed";class eO{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const r=Gh(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const fg="void",tO=new eO(fg);class Rne{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Qs(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const r=gs(this._elementListeners,t,[]),a={name:e,phase:i,callback:s};r.push(a);const o=gs(this._engine.statesByElement,t,{});return o.hasOwnProperty(e)||(Qs(t,Yb),Qs(t,Yb+"-"+e),o[e]=tO),()=>{this._engine.afterFlush(()=>{const l=r.indexOf(a);l>=0&&r.splice(l,1),this._triggers[e]||delete o[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,s=!0){const r=this._getTrigger(e),a=new iO(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Qs(t,Yb),Qs(t,Yb+"-"+e),this._engine.statesByElement.set(t,o={}));let l=o[e];const h=new eO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&h.absorbOptions(l.options),o[e]=h,l||(l=tO),h.value!==fg&&l.value===h.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const r=e[s];if(!t.hasOwnProperty(r)||n[r]!==t[r])return!1}return!0}(l.params,h.params)){const T=[],P=r.matchStyles(l.value,l.params,T),N=r.matchStyles(h.value,h.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{Ac(t,P),Zr(t,N)})}return}const y=gs(this._engine.playersByElement,t,[]);y.forEach(T=>{T.namespaceId==this.id&&T.triggerName==e&&T.queued&&T.destroy()});let S=r.matchTransition(l.value,h.value,t,h.params),k=!1;if(!S){if(!s)return;S=r.fallbackTransition,k=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:S,fromState:l,toState:h,player:a,isFallbackTransition:k}),k||(Qs(t,BH),a.onStart(()=>{jh(t,BH)})),a.onDone(()=>{let T=this.players.indexOf(a);T>=0&&this.players.splice(T,1);const P=this._engine.playersByElement.get(t);if(P){let N=P.indexOf(a);N>=0&&P.splice(N,1)}}),this.players.push(a),y.push(a),a}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Jb,!0);i.forEach(s=>{if(s[Ks])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(a=>a.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const r=this._engine.statesByElement.get(t);if(r){const a=[];if(Object.keys(r).forEach(o=>{if(this._triggers[o]){const l=this.trigger(t,o,fg,s);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&Xo(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(r=>{const a=r.name;if(s.has(a))return;s.add(a);const l=this._triggers[a].fallbackTransition,h=i[a]||tO,d=new eO(fg),m=new iO(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:l,fromState:h,toState:d,player:m,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)s=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const r=t[Ks];(!r||r===FH)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Qs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const r=i.element,a=this._elementListeners.get(r);a&&a.forEach(o=>{if(o.name==i.triggerName){const l=II(r,i.triggerName,i.fromState.value,i.toState.value);l._data=t,MI(i.player,o.phase,l,o.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const r=i.transition.ast.depCount,a=s.transition.ast.depCount;return 0==r||0==a?r-a:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Ine{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Rne(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let r=i;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let r=0;r<s.length;r++){const a=i[s[r]].namespaceId;if(a){const o=this._fetchNamespace(a);o&&e.add(o)}}}return e}trigger(t,e,i,s){if(lS(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!lS(e))return;const r=e[Ks];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Qs(t,$H)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),jh(t,$H))}removeNode(t,e,i,s){if(lS(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s){this.collectedLeaveElements.push(e),e[Ks]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,s,r){return lS(e)?this._fetchNamespace(t).listen(e,i,s,r):()=>{}}_buildInstruction(t,e,i,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,Jb,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,qI,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Xo(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ks];if(e&&e.setForRemoval){if(t[Ks]=FH,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,VH)&&this.markElementAsDisabled(t,!1),this.driver.query(t,VH,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Qs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Xo(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new rS,s=[],r=new Map,a=[],o=new Map,l=new Map,h=new Map,d=new Set;this.disabledNodes.forEach(X=>{d.add(X);const se=this.driver.query(X,".ng-animate-queued",!0);for(let ve=0;ve<se.length;ve++)d.add(se[ve])});const m=this.bodyNode,y=Array.from(this.statesByElement.keys()),S=UH(y,this.collectedEnterElements),k=new Map;let T=0;S.forEach((X,se)=>{const ve=HI+T++;k.set(se,ve),X.forEach(Me=>Qs(Me,ve))});const P=[],N=new Set,I=new Set;for(let X=0;X<this.collectedLeaveElements.length;X++){const se=this.collectedLeaveElements[X],ve=se[Ks];ve&&ve.setForRemoval&&(P.push(se),N.add(se),ve.hasAnimation?this.driver.query(se,".ng-star-inserted",!0).forEach(Me=>N.add(Me)):I.add(se))}const H=new Map,O=UH(y,Array.from(N));O.forEach((X,se)=>{const ve=Qb+T++;H.set(se,ve),X.forEach(Me=>Qs(Me,ve))}),t.push(()=>{S.forEach((X,se)=>{const ve=k.get(se);X.forEach(Me=>jh(Me,ve))}),O.forEach((X,se)=>{const ve=H.get(se);X.forEach(Me=>jh(Me,ve))}),P.forEach(X=>{this.processLeaveNode(X)})});const G=[],Q=[];for(let X=this._namespaceList.length-1;X>=0;X--)this._namespaceList[X].drainQueuedTransitions(e).forEach(ve=>{const Me=ve.player,_t=ve.element;if(G.push(Me),this.collectedEnterElements.length){const Di=_t[Ks];if(Di&&Di.setForMove)return void Me.destroy()}const li=!m||!this.driver.containsElement(m,_t),It=H.get(_t),pi=k.get(_t),ct=this._buildInstruction(ve,i,pi,It,li);if(ct.errors&&ct.errors.length)Q.push(ct);else{if(li)return Me.onStart(()=>Ac(_t,ct.fromStyles)),Me.onDestroy(()=>Zr(_t,ct.toStyles)),void s.push(Me);if(ve.isFallbackTransition)return Me.onStart(()=>Ac(_t,ct.fromStyles)),Me.onDestroy(()=>Zr(_t,ct.toStyles)),void s.push(Me);ct.timelines.forEach(Di=>Di.stretchStartingKeyframe=!0),i.append(_t,ct.timelines),a.push({instruction:ct,player:Me,element:_t}),ct.queriedElements.forEach(Di=>gs(o,Di,[]).push(Me)),ct.preStyleProps.forEach((Di,vs)=>{const Nn=Object.keys(Di);if(Nn.length){let Zn=l.get(vs);Zn||l.set(vs,Zn=new Set),Nn.forEach(tl=>Zn.add(tl))}}),ct.postStyleProps.forEach((Di,vs)=>{const Nn=Object.keys(Di);let Zn=h.get(vs);Zn||h.set(vs,Zn=new Set),Nn.forEach(tl=>Zn.add(tl))})}});if(Q.length){const X=[];Q.forEach(se=>{X.push(`@${se.triggerName} has failed due to:\n`),se.errors.forEach(ve=>X.push(`- ${ve}\n`))}),G.forEach(se=>se.destroy()),this.reportError(X)}const ae=new Map,ce=new Map;a.forEach(X=>{const se=X.element;i.has(se)&&(ce.set(se,se),this._beforeAnimationBuild(X.player.namespaceId,X.instruction,ae))}),s.forEach(X=>{const se=X.element;this._getPreviousPlayers(se,!1,X.namespaceId,X.triggerName,null).forEach(Me=>{gs(ae,se,[]).push(Me),Me.destroy()})});const ge=P.filter(X=>jH(X,l,h)),_e=new Map;qH(_e,this.driver,I,h,Qa).forEach(X=>{jH(X,l,h)&&ge.push(X)});const qe=new Map;S.forEach((X,se)=>{qH(qe,this.driver,new Set(X),l,"!")}),ge.forEach(X=>{const se=_e.get(X),ve=qe.get(X);_e.set(X,Object.assign(Object.assign({},se),ve))});const Ze=[],Wt=[],zt={};a.forEach(X=>{const{element:se,player:ve,instruction:Me}=X;if(i.has(se)){if(d.has(se))return ve.onDestroy(()=>Zr(se,Me.toStyles)),ve.disabled=!0,ve.overrideTotalTime(Me.totalTime),void s.push(ve);let _t=zt;if(ce.size>1){let It=se;const pi=[];for(;It=It.parentNode;){const ct=ce.get(It);if(ct){_t=ct;break}pi.push(It)}pi.forEach(ct=>ce.set(ct,_t))}const li=this._buildAnimation(ve.namespaceId,Me,ae,r,qe,_e);if(ve.setRealPlayer(li),_t===zt)Ze.push(ve);else{const It=this.playersByElement.get(_t);It&&It.length&&(ve.parentPlayer=Xo(It)),s.push(ve)}}else Ac(se,Me.fromStyles),ve.onDestroy(()=>Zr(se,Me.toStyles)),Wt.push(ve),d.has(se)&&s.push(ve)}),Wt.forEach(X=>{const se=r.get(X.element);if(se&&se.length){const ve=Xo(se);X.setRealPlayer(ve)}}),s.forEach(X=>{X.parentPlayer?X.syncPlayerEvents(X.parentPlayer):X.destroy()});for(let X=0;X<P.length;X++){const se=P[X],ve=se[Ks];if(jh(se,Qb),ve&&ve.hasAnimation)continue;let Me=[];if(o.size){let li=o.get(se);li&&li.length&&Me.push(...li);let It=this.driver.query(se,qI,!0);for(let pi=0;pi<It.length;pi++){let ct=o.get(It[pi]);ct&&ct.length&&Me.push(...ct)}}const _t=Me.filter(li=>!li.destroyed);_t.length?Bne(this,se,_t):this.processLeaveNode(se)}return P.length=0,Ze.forEach(X=>{this.players.push(X),X.onDone(()=>{X.destroy();const se=this.players.indexOf(X);this.players.splice(se,1)}),X.play()}),Ze}elementContainsData(t,e){let i=!1;const s=e[Ks];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,r){let a=[];if(e){const o=this.playersByQueriedElement.get(t);o&&(a=o)}else{const o=this.playersByElement.get(t);if(o){const l=!r||r==fg;o.forEach(h=>{h.queued||!l&&h.triggerName!=s||a.push(h)})}}return(i||s)&&(a=a.filter(o=>!(i&&i!=o.namespaceId||s&&s!=o.triggerName))),a}_beforeAnimationBuild(t,e,i){const r=e.element,a=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const h=l.element,d=h!==r,m=gs(i,h,[]);this._getPreviousPlayers(h,d,a,o,e.toState).forEach(S=>{const k=S.getRealPlayer();k.beforeDestroy&&k.beforeDestroy(),S.destroy(),m.push(S)})}Ac(r,e.fromStyles)}_buildAnimation(t,e,i,s,r,a){const o=e.triggerName,l=e.element,h=[],d=new Set,m=new Set,y=e.timelines.map(k=>{const T=k.element;d.add(T);const P=T[Ks];if(P&&P.removedBeforeQueried)return new Uh(k.duration,k.delay);const N=T!==l,I=function(n){const t=[];return GH(n,t),t}((i.get(T)||xne).map(ae=>ae.getRealPlayer())).filter(ae=>!!ae.element&&ae.element===T),H=r.get(T),O=a.get(T),G=gH(0,this._normalizer,0,k.keyframes,H,O),Q=this._buildPlayer(k,G,I);if(k.subTimeline&&s&&m.add(T),N){const ae=new iO(t,o,T);ae.setRealPlayer(Q),h.push(ae)}return Q});h.forEach(k=>{gs(this.playersByQueriedElement,k.element,[]).push(k),k.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,k.element,k))}),d.forEach(k=>Qs(k,EH));const S=Xo(y);return S.onDestroy(()=>{d.forEach(k=>jh(k,EH)),Zr(l,e.toStyles)}),m.forEach(k=>{gs(s,k,[]).push(S)}),S}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Uh(t.duration,t.delay)}}class iO{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Uh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>MI(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){gs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function lS(n){return n&&1===n.nodeType}function HH(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function qH(n,t,e,i,s){const r=[];e.forEach(l=>r.push(HH(l)));const a=[];i.forEach((l,h)=>{const d={};l.forEach(m=>{const y=d[m]=t.computeStyle(h,m,s);(!y||0==y.length)&&(h[Ks]=Mne,a.push(h))}),n.set(h,d)});let o=0;return e.forEach(l=>HH(l,r[o++])),a}function UH(n,t){const e=new Map;if(n.forEach(o=>e.set(o,[])),0==t.length)return e;const s=new Set(t),r=new Map;function a(o){if(!o)return 1;let l=r.get(o);if(l)return l;const h=o.parentNode;return l=e.has(h)?h:s.has(h)?1:a(h),r.set(o,l),l}return t.forEach(o=>{const l=a(o);1!==l&&e.get(l).push(o)}),e}const cS="$$classes";function Qs(n,t){if(n.classList)n.classList.add(t);else{let e=n[cS];e||(e=n[cS]={}),e[t]=!0}}function jh(n,t){if(n.classList)n.classList.remove(t);else{let e=n[cS];e&&delete e[t]}}function Bne(n,t,e){Xo(e).onDone(()=>n.processLeaveNode(t))}function GH(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof eH?GH(i.players,t):t.push(i)}}function jH(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(r=>s.add(r)):t.set(n,i),e.delete(n),!0}class uS{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new Ine(t,e,i),this._timelineEngine=new Pne(t,e,i),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(t,e,i,s,r){const a=t+"-"+s;let o=this._triggerCache[a];if(!o){const l=[],h=zI(this._driver,r,l);if(l.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);o=function(n,t,e){return new Ene(n,t,e)}(s,h,this._normalizer),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(e,s,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[r,a]=mH(i);this._timelineEngine.command(r,e,a,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,r){if("@"==i.charAt(0)){const[a,o]=mH(i);return this._timelineEngine.listen(a,e,o,r)}return this._transitionEngine.listen(t,e,i,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function WH(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=nO(t[0]),t.length>1&&(i=nO(t[t.length-1]))):t&&(e=nO(t)),e||i?new Fne(n,e,i):null}let Fne=(()=>{class n{constructor(e,i,s){this._element=e,this._startStyles=i,this._endStyles=s,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Zr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zr(this._element,this._initialStyles),this._endStyles&&(Zr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ac(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ac(this._element,this._endStyles),this._endStyles=null),Zr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function nO(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=e[i];Hne(s)&&(t=t||{},t[s]=n[s])}return t}function Hne(n){return"display"===n||"position"===n}const zH="animation",KH="animationend";class Gne{constructor(t,e,i,s,r,a,o){this._element=t,this._name=e,this._duration=i,this._delay=s,this._easing=r,this._fillMode=a,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,t){const e=rO(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),hS(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),JH(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){QH(this._element,this._name,"paused")}resume(){QH(this._element,this._name,"running")}setPosition(t){const e=YH(this._element,this._name);this._position=t*this._duration,hS(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),JH(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=rO(n,"").split(","),s=sO(i,t);s>=0&&(i.splice(s,1),hS(n,"",i.join(",")))}(this._element,this._name))}}function QH(n,t,e){hS(n,"PlayState",e,YH(n,t))}function YH(n,t){const e=rO(n,"");return e.indexOf(",")>0?sO(e.split(","),t):sO([e],t)}function sO(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function JH(n,t,e){e?n.removeEventListener(KH,t):n.addEventListener(KH,t)}function hS(n,t,e,i){const s=zH+t;if(null!=i){const r=n.style[s];if(r.length){const a=r.split(",");a[i]=e,e=a.join(",")}}n.style[s]=e}function rO(n,t){return n.style[zH+t]||""}class ZH{constructor(t,e,i,s,r,a,o,l){this.element=t,this.keyframes=e,this.animationName=i,this._duration=s,this._delay=r,this._finalStyles=o,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=s+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Gne(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:WI(this.element,i))})}this.currentSnapshot=t}}class Yne extends Uh{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=bH(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class eq{constructor(){this._count=0}validateStyleProperty(t){return LI(t)}matchesElement(t,e){return BI(t,e)}containsElement(t,e){return $I(t,e)}query(t,e,i){return VI(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(o=>bH(o));let s=`@keyframes ${e} {\n`,r="";i.forEach(o=>{r=" ";const l=parseFloat(o.offset);s+=`${r}${100*l}% {\n`,r+=" ",Object.keys(o).forEach(h=>{const d=o[h];switch(h){case"offset":return;case"easing":return void(d&&(s+=`${r}animation-timing-function: ${d};\n`));default:return void(s+=`${r}${h}: ${d};\n`)}}),s+=`${r}}\n`}),s+="}\n";const a=document.createElement("style");return a.textContent=s,a}animate(t,e,i,s,r,a=[],o){const l=a.filter(P=>P instanceof ZH),h={};DH(i,s)&&l.forEach(P=>{let N=P.currentSnapshot;Object.keys(N).forEach(I=>h[I]=N[I])});const d=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(t[s]=i[s])})}),t}(e=TH(t,e,h));if(0==i)return new Yne(t,d);const m="gen_css_kf_"+this._count++,y=this.buildKeyframeElement(t,m,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(y);const k=WH(t,e),T=new ZH(t,e,m,i,s,r,d,k);return T.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(y)),T}}class iq{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:WI(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class tse{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(nq().toString()),this._cssKeyframesDriver=new eq}validateStyleProperty(t){return LI(t)}matchesElement(t,e){return BI(t,e)}containsElement(t,e){return $I(t,e)}query(t,e,i){return VI(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,s,r,a=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,s,r,a);const d={duration:i,delay:s,fill:0==s?"both":"forwards"};r&&(d.easing=r);const m={},y=a.filter(k=>k instanceof iq);DH(i,s)&&y.forEach(k=>{let T=k.currentSnapshot;Object.keys(T).forEach(P=>m[P]=T[P])});const S=WH(t,e=TH(t,e=e.map(k=>el(k,!1)),m));return new iq(t,e,d,S)}}function nq(){return pH()&&Element.prototype.animate||{}}let nse=(()=>{class n extends Y4{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Zt.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?J4(e):e;return sq(this._renderer,null,i,"register",[s]),new sse(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(q(Xl),q(it))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();class sse extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new rse(this._id,t,e||{},this._renderer)}}class rse{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return sq(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function sq(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const rq="@.disabled";let ase=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(r,a)=>{a&&a.parentNode(r)&&a.removeChild(r.parentNode,r)}}createRenderer(e,i){const r=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(r);return d||(d=new aq("",r,this.engine),this._rendererCache.set(r,d)),d}const a=i.id,o=i.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(a,o,e,d.name,d)};return i.data.animation.forEach(l),new ose(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[a,o]=r;a(o)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(q(Xl),q(uS),q(Ye))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();class aq{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==rq?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ose extends aq{constructor(t,e,i,s){super(e,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==rq?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let r=e.substr(1),a="";return"@"!=r.charAt(0)&&([r,a]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,s,r,a,o=>{this.factory.scheduleListenerCallback(o._data||-1,i,o)})}return this.delegate.listen(t,e,i)}}let use=(()=>{class n extends uS{constructor(e,i,s){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(q(it),q(FI),q(ZI))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const oq=new we("AnimationModuleType"),lq=[{provide:Y4,useClass:nse},{provide:ZI,useFactory:function(){return new vne}},{provide:uS,useClass:use},{provide:Xl,useFactory:function(n,t,e){return new ase(n,t,e)},deps:[Xy,uS,Ye]}],cq=[{provide:FI,useFactory:function(){return"function"==typeof nq()?new tse:new eq}},{provide:oq,useValue:"BrowserAnimations"},...lq],uq=[{provide:FI,useClass:SH},{provide:oq,useValue:"NoopAnimations"},...lq];let pse=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?uq:cq}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ni({type:n}),n.\u0275inj=Kt({providers:cq,imports:[zk]}),n})(),gse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ni({type:n,bootstrap:[Gie]}),n.\u0275inj=Kt({providers:[],imports:[[zk,vz,b$,yz,pse,Ite,bie]]}),n})();(function(){if(CB)throw new Error("Cannot enable prod mode after platform setup.");kB=!1})(),b9().bootstrapModule(gse).catch(n=>console.error(n))}},Yt=>{Yt(Yt.s=797)}]);