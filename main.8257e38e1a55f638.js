"use strict";(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[792],{76(O,S,i){i.d(S,{t:()=>_});var P=i(46200),c=i(5615),A=i(23770);class _ extends P.i{logService;abilityService;name="Farmer Mouse";tier=1;pack="Custom";attack=2;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"FarmerMouseAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,d=o.parent.nearestPetsBehind(this.level,o).pets;if(0!==d.length){for(const g of d)g.givePetEquipment(new A.D),this.logService.createLog({message:`${o.name} fed ${g.name} Corncob.`,type:"ability",player:o.parent,tiger:n,pteranodon:a});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},242(O,S,i){i.d(S,{T:()=>c});var P=i(22097);class c extends P.${name="Kiwifruit";equipmentClass="shop";tier=2}},590(O,S,i){i.d(S,{A:()=>A});var P=i(50336);const A=function c(_,v){var e=this.__data__,t=(0,P.A)(e,_);return t<0?(++this.size,e.push([_,v])):e[t][1]=v,this}},607(O,S,i){i.d(S,{Y:()=>c});var P=i(22097);class c extends P.${name="Crisp";equipmentClass="ailment-other"}},736(O,S,i){i.d(S,{W:()=>A,k:()=>_});var P=i(50873),c=i(5615);class A extends P.L{name="Treasure Map";tier=3}class _ extends c.T{logService;constructor(e,t){super({name:"TreasureMapAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){}copy(e){return new _(e,this.logService)}}},890(O,S,i){i.d(S,{K:()=>v,_:()=>_});var P=i(27852),c=i(50873),A=i(5615);class _ extends c.L{logService;toyService;abilityService;name="Evil Book";tier=5;emptyFromSpace(t,n,a,o){let r={attack:6*a,health:6*a},g=new P.v(this.logService,this.abilityService,this.parent,r.health,r.attack,0,1==a?0:2==a?2:5),f=`${this.name} spawned Great One (${r.attack}/${r.health}).`;this.parent.summonPet(g,0).success&&this.logService.createLog({message:f,type:"ability",player:this.parent,puma:n}),this.used=!0}constructor(t,n,a,o,r){super(t,n,o,r),this.logService=t,this.toyService=n,this.abilityService=a}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"EvilBookAbility",owner:t,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:o=>null==this.owner.parent.pet0,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g={attack:6*this.level,health:6*this.level},f=new P.v(this.logService,this.abilityService,d.parent,g.health,g.attack,0,this.minExpForLevel),D=d.parent.summonPet(f,0);D.success&&this.logService.createLog({message:`Evil Book Ability spawned Great One (${g.attack}/${g.health}).`,type:"ability",player:d.parent,tiger:o,randomEvent:D.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},904(O,S,i){i.d(S,{I:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Weasel";tier=3;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WeaselAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;this.logService.createLog({message:`${r.name} gained ${this.level} Gold.`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},945(O,S,i){i.d(S,{Y:()=>c});var P=i(50873);class c extends P.L{name="Lunchbox";tier=1;startOfBattle(_,v){const e=_?.turnNumber??1;for(let t=0;t<e;t++){const n=this.parent.getRandomLivingPet();if(!n.pet)return;const a=n.pet,r=a.parent!==this.parent?2:1;a.increaseAttack(r),a.increaseHealth(r),this.logService.createLog({message:`${this.name} fed ${a.name} +${r}/+${r}.`,type:"ability",player:this.parent,puma:v,randomEvent:n.random})}}}},1029(O,S,i){i.d(S,{d:()=>A});var P=i(89407),c=i(75970);class A extends P.r{summonPetInFront(v,e){return(0,c.DQ)(this,v,e,this.logService,this.abilityService,this.gameService)}summonPetBehind(v,e){return(0,c.zq)(this,v,e,this.logService,this.abilityService,this.gameService)}}},1075(O,S,i){i.d(S,{V:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Pancakes";tier=6;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"PancakesAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;for(let n of t.parent.petArray){if(t==n)continue;let a=2*this.equipment.multiplier,o=2*this.equipment.multiplier;n.increaseAttack(a),n.increaseHealth(o),this.logService.createLog({message:`${n.name} gained ${a} attack and ${o} health (Pancakes)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}}},1152(O,S,i){function P(a){const o=a.position??a.savedPosition;if(null==o)return[];const r=[],d=a.parent.getPetAtPosition(o-1),g=a.parent.getPetAtPosition(o+1);return d&&d.alive&&r.push(d),g&&g.alive&&r.push(g),r}function c(a,o){return!(a.equipment&&!a.equipment.equipmentClass?.startsWith("ailment")||a.equipment?.name===o)}function A(a,o,r,d,g,f={}){a.createLog({message:r,type:"ability",player:o.parent,tiger:d,pteranodon:g,sourcePet:o,...f})}function _(a,o,r){return o?r?r(a,o)??{random:!1}:a.parent.getSpecificPet(a,o):{random:!1}}function v(a,o){if(!o)return{random:!1};const r=a.parent.getSpecificPet(a,o),d=r.pet;return d&&d.alive?r:{random:r.random}}i.d(S,{LZ:()=>v,MZ:()=>P,Re:()=>n,Uj:()=>_,lK:()=>t,rv:()=>A,zo:()=>c});const t=v,n=function e(a,o,r){return!(!o||r?.excludeOwner&&o===a||!v(a,o).pet)}},1178(O,S,i){i.d(S,{A:()=>v});var P=i(77901),c=i(28010),A=i(35776);const v=function _(e){return"function"!=typeof e.constructor||(0,A.A)(e)?{}:(0,P.A)((0,c.A)(e))}},1257(O,S,i){i.d(S,{C:()=>Ht});var P=i(22382),c=i(41752),A=i(78440),_=i(58880),v=i(16306),e=i(23586),t=i(62332),n=i(60892),a=i(89043),o=i(96889),r=i(62983),d=i(49999),g=i(88988),f=i(61753),D=i(7023),k=i(57788),L=i(92060),N=i(18155),q=i(95365),ne=i(55649),Q=i(63981),$=i(55984),H=i(26273),ae=i(904),re=i(93348),_e=i(42824),be=i(72557),Ee=i(81106),ke=i(29823),de=i(95015),Te=i(34443),Ne=i(27207),Ge=i(61950),Ie=i(43125),gt=i(1913),pt=i(14829),We=i(3725),tt=i(50119),At=i(40970),nt=i(46021),et=i(55853),Dt=i(51876),ct=i(44876),vt=i(65418),rt=i(49517),He=i(48955),kt=i(66391),Xt=i(84371),it=i(36466),$t=i(26302),Et=i(42798),ge=i(69359),we=i(83796),Ve=i(98146),Fe=i(38354),ot=i(54515),Bt=i(52164),Rt=i(63972),qt=i(57967),zt=i(6368);const Ht={Bulldog:P.s,Groundhog:c.G,"Cone Snail":A.r,Goose:_.w,Lemming:t.E,"Pied Tamarin":v.$,Opossum:a.B,Silkmoth:e.C,Magpie:n.C,"Hercules Beetle":o.Z,Stoat:r.U,"Black Necked Stilt":d.O,Squid:g.P,"Sea Urchin":f.p,"Door Head Ant":D.a,Lizard:k.r,"Sea Turtle":L.y,"African Penguin":N.t,"Musk Ox":ne.Y,Flea:Q.Z,"Royal Flycatcher":$.p,"Surgeon Fish":H.w,Weasel:ae.I,Guineafowl:re.w,"Betta Fish":_e.L,Meerkat:q.s,"Flying Fish":be.G,Baboon:Ee._,Osprey:ke.R,Manatee:de.Y,Cuttlefish:Te.K,"Egyptian Vulture":Ne.T,"Saiga Antelope":Ge.m,Sealion:Ie.Y,Vaquita:gt.g,Slug:pt.M,"Poison Dart Frog":We.E,"Secretary Bird":et.J,"Manta Ray":At.s,Macaque:Dt.u,Nyala:ct.C,"Nurse Shark":vt.f,"Fire Ant":kt.i,Cockatoo:nt.w,"Blue Ringed Octopus":Xt.L,Crane:it.M,Emu:$t.e,Wildebeest:Et.f,"Highland Cow":ge.x,Catfish:we.r,Warthog:Fe.n,Cobra:ot.w,"Grizzly Bear":Bt.g,"German Shepherd":Rt.a,"Bird of Paradise":qt.G,Oyster:zt.r,"Beluga Whale":rt.I,Falcon:tt.e,Pteranodon:Ve.D,Wolf:He.t}},1277(O,S,i){i.d(S,{y:()=>_});var P=i(46200),c=i(5615),A=i(60489);class _ extends P.i{logService;abilityService;name="Cricket";tier=1;pack="Turtle";health=3;attack=1;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"CricketAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner,g=this.level;let L=new A.y(this.logService,this.abilityService,d.parent,g,g,null,this.minExpForLevel),N=d.parent.summonPet(L,d.savedPosition,!1,d);N.success&&this.logService.createLog({message:`${d.name} spawned Zombie Cricket Level ${g}`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:N.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},1383(O,S,i){i.d(S,{C:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Poodle";tier=6;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PoodleAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:n,pteranodon:a}=e,o=[];for(let r=1;r<=6;r++){const d=t.parent.petArray.find(f=>f&&f.alive&&f!==t&&f.tier===r);if(!d)continue;const g=this.level;d.increaseAttack(g),d.increaseHealth(g),o.push(d)}if(o.length>0){const r=o.map(d=>d.name).join(", ");this.logService.createLog({message:`${t.name} buffed ${r} (+${this.level}/+${this.level}) at end of turn.`,type:"ability",player:t.parent,tiger:n,pteranodon:a})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},1398(O,S,i){i.d(S,{H:()=>A});var P=i(50873);i(5615);class A extends P.L{name="Magic Carpet";tier=2;friendSummoned(e,t,n,a){this.logService.createLog({message:`${this.name} gave ${t.name} ${a} attack.`,type:"ability",player:this.parent,puma:n}),t.increaseAttack(a)}}},1406(O,S,i){i.d(S,{U:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Caramel";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"CaramelAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let n=t.parent.petArray.filter(d=>d.alive&&"Caramel"===d.equipment?.name);if(0===n.length)return;let a=3*n.length,o=t.parent.opponent.getHighestHealthPet(),r=o.pet;if(null!=r){t.snipePet(r,a,o.random,!1,!1,!0,!1);for(let d of n)d.removePerk(),this.logService.createLog({message:`${d.name} lost Caramel equipment`,type:"ability",player:t.parent,tiger:!1})}}}},1689(O,S,i){i.d(S,{S:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Fairy Dust";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"FairyDustAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,condition:()=>null==this.owner.parent.pet0,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let a=2*this.equipment.multiplier;this.logService.createLog({message:`${t.name} pushed itself to the front and gained ${a} mana(Fairy Dust)${this.equipment.multiplierMessage}.`,type:"ability",player:t.parent}),t.parent.pushPetToFront(t,!0),t.increaseMana(a),t.removePerk()}}},1728(O,S,i){i.d(S,{c:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Tand and Tand";tier=4;pack="Custom";hidden=!0;attack=1;health=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},1744(O,S,i){i.d(S,{w:()=>c});var P=i(47868);let c=(()=>{class A{gameApi;constructor(){}init(v,e){this.gameApi={player:v,opponent:e}}setTierGroupPets(v,e){null!=v&&(this.gameApi.playerPetPool=v),null!=e&&(this.gameApi.opponentPetPool=e)}setPreviousShopTier(v){this.gameApi.previousShopTier=v}setTurnNumber(v){this.gameApi.turnNumber=v}setGoldSpent(v,e){null!=v&&(this.gameApi.playerGoldSpent=v),null!=e&&(this.gameApi.opponentGoldSpent=e)}static \u0275fac=function(e){return new(e||A)};static \u0275prov=P.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},1785(O,S,i){i.d(S,{q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mantis Shrimp";tier=6;pack="Puppy";attack=9;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MantisShrimpAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.opponent;for(let g=0;g<this.level;g++){let f=d.getFurthestUpPet(r),D=f.pet;if(null==D)return;r.snipePet(D,10,f.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},1827(O,S,i){i.d(S,{A:()=>A});var P=i(84746);const A=function c(_,v,e){"__proto__"==v&&P.A?(0,P.A)(_,v,{configurable:!0,enumerable:!0,value:e,writable:!0}):_[v]=e}},1860(O,S,i){i.d(S,{A:()=>_});var P=i(17133),c="object"==typeof self&&self&&self.Object===Object&&self;const _=P.A||c||Function("return this")()},1874(O,S,i){i.d(S,{_:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mana Hound";tier=3;pack="Unicorn";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ManaHoundAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:a}=e,r=this.owner;let g;if(g=r.parent==t.player?t.playerRollAmount:t.opponentRollAmount,g=Math.max(0,Math.min(g??0,3)),0===g)return;let f=r.parent.nearestPetsAhead(1,r);if(0===f.pets.length)return;let D=f.pets[0],k=g*this.level*2;this.logService.createLog({message:`${r.name} gave ${D.name} ${k} mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}),D.increaseMana(k),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},1913(O,S,i){i.d(S,{g:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Vaquita";tier=4;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"VaquitaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{pteranodon:o}=e,r=this.owner;let d=Math.max(Math.floor(.5*this.level*r.parent.trumpets),4*this.level);const g=r.parent.resolveTrumpetGainTarget(r);g.player.gainTrumpets(d,r,o,void 0,void 0,g.random),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},2042(O,S,i){i.d(S,{z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Ghost Kitten";tier=2;pack="Unicorn";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GhostKittenAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){}copy(e){return new _(e,this.logService,this.abilityService)}}},2145(O,S,i){i.d(S,{P:()=>c});const c=(()=>{function A(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return A.prototype=Object.create(Error.prototype),A})()},2375(O,S,i){i.d(S,{_:()=>c});var P=i(22097);class c extends P.${name="Peanut Butter";equipmentClass="attack";tier=7;power=0;uses=1;originalUses=1}},2525(O,S,i){i.d(S,{_:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Cow";tier=5;pack="Turtle";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CowAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} replaced shop food with two free ${1===this.level?"Milk":2===this.level?"Better Milk":"Best Milk"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},2641(O,S,i){i.d(S,{E:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Lynx";tier=4;pack="Custom";attack=5;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Lynx Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent.petArray.reduce((g,f)=>g+(f?.level??0),0);if(o<=0)return void this.triggerTigerExecution(e);const r=this.level,d=[];for(let g=0;g<r;g++){const f=a.parent.opponent.getRandomPet(d,!1,!1,!1,a);if(!f.pet)break;d.push(f.pet),a.snipePet(f.pet,o,f.random)}this.logService.createLog({message:`${a.name} dealt ${o} damage to ${d.length} enemy${1===d.length?"":"ies"}.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},2730(O,S,i){i.d(S,{$:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Eggplant";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"EggplantAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let n=this.equipment.multiplier;for(let a=0;a<n;a++){let o=t.parent.opponent,r=o.getPet(t.position);if(null==r)return;this.logService.createLog({message:`${t.name} pushed ${r.name} 1 space forward. (Eggplant)${a>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent}),o.pushPet(r,1)}}}},3043(O,S,i){i.d(S,{A:()=>A});var P=i(56689);const A=function c(_,v){return(0,P.A)(v,function(e){return _[e]})}},3057(O,S,i){i.d(S,{B:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="African Wild Dog";tier=1;pack="Danger";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AfricanWildDogAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let g,d=r.parent.opponent.getFurthestUpPet(r);if(null!=d.pet){if(g=d.random?d.pet:d.pet?.petBehind(),g){let f=3*this.level;r.jumpAttackPrep(g),r.jumpAttack(g,a,f,d.random)}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},3129(O,S,i){i.d(S,{X:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;abilityService;petService;name="Seaweed";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService,this.petService))};constructor(e,t,n){super(),this.logService=e,this.abilityService=t,this.petService=n}}class _ extends c.T{equipment;logService;petService;constructor(e,t,n,a){super({name:"SeaweedAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.logService=n,this.petService=a}executeAbility(e){const t=this.owner;let n=this.petService.createPet({name:"Baby Urchin",attack:t.attack,health:t.health,mana:t.mana,exp:t.exp,equipment:null},t.parent);this.logService.createLog({message:`${t.name} transformed into ${n.name} (Seaweed)`,type:"equipment",player:t.parent}),t.parent.transformPet(t,n)}}},3269(O,S,i){i.d(S,{D:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Behemoth";tier=6;pack="Unicorn";attack=12;health=12;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BehemothAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){}copy(e){return new _(e,this.logService,this.abilityService)}}},3273(O,S,i){i.d(S,{o:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Badger";tier=3;pack="Turtle";health=3;attack=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BadgerAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=Math.floor(r.attack*(.5*this.level)),g=r.parent.nearestPetsBehind(1,r);g.pets.length>0&&r.snipePet(g.pets[0],d,g.random,a,o);let f=r.parent.nearestPetsAhead(1,r,void 0,!0);f.pets.length>0&&r.snipePet(f.pets[0],d,f.random,a,o),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},3279(O,S,i){i.d(S,{D:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Nest";tier=1;pack="Puppy";hidden=!0;attack=2;health=3;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},3332(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Orca";tier=6;pack="Star";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}class _ extends c.T{logService;abilityService;petService;constructor(e,t,n,a){super({name:"OrcaAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=n,this.petService=a}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;for(let d=0;d<this.level;d++){let g=this.petService.getRandomFaintPet(r.parent,void 0,[r.name,"Quetzalcoatlus"],r);g.attack=6,g.health=6,r.parent.summonPet(g,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned a 6/6 ${g.name}.`,type:"ability",player:r.parent,tiger:a,randomEvent:!0,pteranodon:o})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService,this.petService)}}},3615(O,S,i){i.d(S,{w:()=>c});var P=i(22097);class c extends P.${name="Sausage";equipmentClass="shop"}},3626(O,S,i){i.d(S,{d:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Ladybug";tier=1;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LadybugAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=2*this.level,g=r.parent.getThis(r);g.pet&&(g.pet.increaseAttack(d),this.logService.createLog({message:`${r.name} gave ${g.pet.name} ${d} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},3684(O,S,i){i.d(S,{V5:()=>_,hD:()=>A,v1:()=>v});const c=["Weak","Cold","Icky","Spooked"];function A(e){if("Strawberry"!==e.equipment?.name||(e.equipment.uses??0)<=0)return 0;const t=e.getSparrowLevel();return t<=0?0:5*t}function _(e,t,n,a={}){if(!n)return e;a.consumeDefenseEquipment&&t.useDefenseEquipment(!0);const o=n.power??0;let r=Math.abs(o),d="-";if(o<0&&(d="+"),a.coconutAsBlock&&"Coconut"===n.name)e+=` (${n.name} block)`;else if("Strawberry"===n.name){const g=n.power??A(t);g>0&&(r=g,e+=` (Strawberry -${r} (Sparrow))`)}else e+=` (${n.name} ${d}${r})`;return a.includeMultiplierMessage&&(e+=n.multiplierMessage??""),e}function v(e,t,n,a){if("Icky"==t.equipment?.name&&(e+="x2 (Icky)",t.equipment.multiplier>1&&(e+=t.equipment.multiplierMessage)),n.length>0&&c.includes(t.equipment?.name??""))for(const r of n)e+=` x${r+1} (Manticore)`;return(a.nurikabe??0)>0&&(e+=` -${a.nurikabe} (Nurikabe)`),(a.fairyBallReduction??0)>0&&(e+=` -${a.fairyBallReduction} (Fairy Ball)`),(a.fanMusselReduction??0)>0&&(e+=` -${a.fanMusselReduction} (Fan Mussel)`),(a.ghostKittenReduction??0)>0&&(e+=` -${a.ghostKittenReduction} (Ghost Kitten)`),e}},3725(O,S,i){i.d(S,{E:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Poison Dart Frog";tier=4;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PoisonDartFrogAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.opponent.getHighestHealthPet(void 0,r),g=d.pet;null!=g&&(r.snipePet(g,4*r.level,d.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},3746(O,S,i){i.d(S,{A:()=>A});var P=i(60309);const A=function c(_,v){var e=_.__data__;return(0,P.A)(v)?e["string"==typeof v?"string":"hash"]:e.map}},3754(O,S,i){i.d(S,{j:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="CrackedEgg";tier=1;pack="Unicorn";hidden=!0;attack=4;health=2;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},3813(O,S,i){i.d(S,{l:()=>be});var P=i(46200),c=i(5615),A=i(23201),_=i(37545),v=i(22167),e=i(97244),t=i(77226),n=i(76032),a=i(97588),o=i(40358),r=i(13950),d=i(63257),g=i(93614),f=i(29866),D=i(25321),k=i(60715),L=i(78708),N=i(890),q=i(26683),ne=i(85709),Q=i(736),$=i(20136),H=i(72242),ae=i(91946),re=i(93533),_e=i(53227);class be extends P.i{logService;abilityService;name="Chameleon";tier=4;pack="Puppy";attack=3;health=5;toyService;equipmentService;initAbilities(){this.addAbility(new Ee(this,this.logService,this.abilityService,this.equipmentService)),super.initAbilities()}constructor(de,Te,Ne,Ge,Ie,gt,pt,We,tt,At,nt){super(de,Te,Ne),this.logService=de,this.abilityService=Te,this.toyService=At,this.equipmentService=nt,this.initPet(pt,Ge,Ie,gt,We,tt)}}class Ee extends c.T{logService;abilityService;equipmentService;constructor(de,Te,Ne,Ge){super({name:"ChameleonAbility",owner:de,triggers:["SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:de.level,condition:Ie=>null!=this.owner.parent.toy,abilityFunction:Ie=>{this.executeAbility(Ie)}}),this.logService=Te,this.abilityService=Ne,this.equipmentService=Ge}executeAbility(de){const gt=this.owner;gt.removeAbility(this.name,"Pet"),this.addToyAbility(gt.parent.toy.name)}addToyAbility(de){let Te=this.owner;const Ge={"Tennis Ball":()=>new A.r(Te,this.logService),Balloon:()=>new _.s(Te,this.logService),"Plastic Saw":()=>new v.E(Te,this.logService),Radio:()=>new e.e(Te,this.logService),"Oven Mitts":()=>new t.K(Te,this.logService),"Toilet Paper":()=>new n.Y(Te,this.logService),"Foam Sword":()=>new a.r(Te,this.logService),"Toy Gun":()=>new o.z(Te,this.logService),"Melon Helmet":()=>new r.F(Te,this.logService),"Stinky Sock":()=>new d.J(Te,this.logService),Flashlight:()=>new g.v(Te,this.logService),"Peanut Jar":()=>new f.B(Te,this.logService),"Air Palm Tree":()=>new D.D(Te,this.logService),Television:()=>new k.P(Te,this.logService),"Crystal Ball":()=>new L.y(Te,this.logService),"Evil Book":()=>new N.K(Te,this.logService,this.abilityService),"Treasure Chest":()=>new q.p(Te,this.logService),"Witch Broom":()=>new ne.b(Te,this.logService),"Treasure Map":()=>new Q.k(Te,this.logService),"Pandoras Box":()=>new $.o(Te,this.logService,this.abilityService,this.equipmentService),Stick:()=>new H.L(Te,this.logService),"Cash Register":()=>new ae.j(Te,this.logService),"Microwave Oven":()=>new re.G(Te,this.logService,this.equipmentService),Camera:()=>new _e.E(Te,this.logService)}[de];if(Ge)try{const Ie=Ge();Ie.abilityLevel=Math.min(Te.parent.toy.level,this.level),Ie.alwaysIgnorePetLevel=!0,Te.addAbility(Ie),this.logService.createLog({message:`${this.name} gained ${de} ability!`,type:"ability",player:Te.parent})}catch(Ie){console.warn(`Failed to add ${de} ability to ${this.name}:`,Ie)}else this.logService.createLog({message:"Custom toy ability is currently not supported for Chameleon ability",type:"ability",player:Te.parent})}copy(de){return new Ee(de,this.logService,this.abilityService,this.equipmentService)}}},3836(O,S,i){i.d(S,{L:()=>_});var P=i(19058),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Toad";tier=3;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;reset(){this.maxUses=2*this.owner.level,super.reset()}constructor(t,n){super({name:"ToadAbility",owner:t,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2*t.level,condition:a=>{const{triggerPet:o}=a;return o&&o.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=d.parent.getSpecificPet(d,a),f=g.pet;if("Weak"===f?.equipment?.name){let D=d.parent.getPetsWithEquipmentWithSillyFallback("Weak",d);g=d.parent.opponent.getRandomPet(D,null,!0,null,d),f=g.pet}null!=f&&(f.givePetEquipment(new P.l),this.logService.createLog({message:`${d.name} gave ${f.name} Weak.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},3887(O,S,i){i.d(S,{L:()=>c,v:()=>A});var P=i(22097);class c extends P.${name="Honeydew Melon";tier=5;equipmentClass="shield";power=10;originalPower=10;uses=1;originalUses=1}class A extends P.${name="Honeydew Melon (Attack)";equipmentClass="attack";power=5;originalPower=5}},4066(O,S,i){i.d(S,{v:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Whale Shark";tier=4;pack="Puppy";attack=2;health=6;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"WhaleSharkAbility",owner:e,triggers:["ThisGainedPerk","ThisGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const r=this.owner;r.equipment&&(this.logService.createLog({message:`${r.name} removed ${r.equipment.name}`,type:"ability",player:r.parent}),r.removePerk());let d=r.parent.getThis(r),g=d.pet;if(null==g)return;let f=3*this.level;g.increaseAttack(f),g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} attack and ${f} health.`,type:"ability",player:r.parent,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},4146(O,S,i){i.d(S,{B:()=>_});var P=i(46200),c=i(5615),A=i(33605);class _ extends P.i{logService;abilityService;name="Quail Chick";tier=3;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"Quail Chick Ability",owner:t,triggers:["FoodEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>this.executeAbility(o)}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=2*this.level*2,d=o.petAhead;d&&d.alive&&(d.increaseAttack(r),d.increaseHealth(r));const g=new A.V(this.logService,this.abilityService,o.parent,void 0,void 0,void 0,o.exp);o.parent.transformPet(o,g),this.logService.createLog(d&&d.alive?{message:`${o.name} transformed into ${g.name} and gave ${d.name} +${r} attack and +${r} health.`,type:"ability",player:o.parent,tiger:n,pteranodon:a}:{message:`${o.name} transformed into ${g.name}.`,type:"ability",player:o.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},4193(O,S,i){i.d(S,{r:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Unicorn";tier=4;pack="Unicorn";attack=2;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"UnicornAbility",owner:t,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,precondition:a=>{const{triggerPet:o}=a,g=(0,A.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a}=t,d=this.owner;let g=2*this.level;if(!a)return;this.logService.createLog({message:`${d.name} removed ailment from ${a.name}.`,type:"ability",player:d.parent}),a.removePerk();let f=(0,A.lK)(d,a),D=f.pet;null!=D&&(this.logService.createLog({message:`${d.name} gave ${D.name} ${g} attack and ${g} health.`,type:"ability",player:d.parent,randomEvent:f.random}),D.increaseAttack(g),D.increaseHealth(g),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},4230(O,S,i){i.d(S,{K:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mouse";tier=1;pack="Custom";health=2;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MouseAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} replaced shop food with one free ${1===this.level?"Apple":2===this.level?"Better Apple":"Best Apple"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},4399(O,S,i){i.d(S,{K:()=>_});var P=i(46200),c=i(5615),A=i(18060);class _ extends P.i{logService;abilityService;name="Volcano Snail";tier=1;pack="Danger";attack=1;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"VolcanoSnailAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let D=[...d.parent.getPetsWithEquipmentWithSillyFallback("perk",d),...d.parent.getPetsWithEquipmentWithSillyFallback("Toasty",d)],k=d.parent.getRandomEnemyPetsWithSillyFallback(this.level,D,null,null,d);if(0!==k.pets.length){for(let L of k.pets){let N=new A.V;L.givePetEquipment(N),this.logService.createLog({message:`${d.name} made ${L.name} Toasty`,type:"ability",player:d.parent,sourcePet:d,targetPet:L,tiger:o,randomEvent:k.random})}this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},4635(O,S,i){i.d(S,{f:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Daycrawler";tier=1;pack="Custom";hidden=!0;health=1;attack=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},4673(O,S,i){i.d(S,{O:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Fire Pup";tier=1;pack="Unicorn";hidden=!0;health=8;attack=8;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},4902(O,S,i){i.d(S,{Db:()=>We,Iq:()=>tt,JL:()=>At,M3:()=>nt,ul:()=>et});var P=i(37831),c=i(27088),A=i(20150),_=i(77392),v=i(6988),e=i(59951),t=i(72354),n=i(90771),a=i(35454),o=i(91576),r=i(67336),d=i(21545),g=i(70458),f=i(34747),D=i(45686),k=i(44746),L=i(60397),N=i(97280),q=i(34829),ne=i(59370),Q=i(50119),$=i(49517),H=i(48955),ae=i(98146),re=i(13837),_e=i(27694),be=i(3332),Ee=i(55267),ke=i(14469),de=i(88034),Te=i(20791),Ne=i(40830),Ge=i(42377),Ie=i(41074),gt=i(86863),pt=i(62983);const We={Spider:g.c,Whale:N.Uw,Parrot:L.f,Stork:D.i,"Shima Enaga":k.J,Eagle:f.Z,Pelican:ne.R6,Falcon:Q.e,"Beluga Whale":$.I,Wolf:H.t,Pteranodon:ae.D,"Harpy Eagle":re.V,"Sabertooth Tiger":_e.f,Orca:be.s,Hippogriff:Ge.j,"Goblin Shark":P.FZ,"Red Lipped Batfish":c.R,Kappa:A.K,Ammonite:ke.j,"Iriomote Cat":v.U,Takhi:e.y,"Roloway Monkey":t.n,Bonobo:n.m,"Golden Tamarin":a.U,"Bay Cat":d.P,"California Condor":o.k,"Silky Sifaka":r.e,Abomination:_._,"Sarcastic Fringehead":Ne.Z,Leviathan:Ie.j,Tadpole:gt.M,Stoat:pt.U},tt={Seagull:q.Q,"Good Dog":Ee._},At=[P.FZ,c.R,A.K,_._,v.U,e.y,t.n,n.m,a.U,o.k,r.e,d.P,g.c,f.Z,D.i,k.J,L.f,N.Uw,ne.R6,Q.e,$.I,H.t,ae.D,re.V,_e.f,be.s,ke.j,Ne.Z,Ge.j,Ie.j,gt.M,pt.U],nt=[q.Q,Ee._],et={"Beluga Whale":(Dt,ct,vt,rt)=>new $.I(Dt.logService,Dt.abilityService,rt,vt,ct.health,ct.attack,ct.mana,ct.exp,ct.equipment,ct.triggersConsumed,ct.belugaSwallowedPet),Abomination:(Dt,ct,vt,rt)=>new _._(Dt.logService,Dt.abilityService,rt,vt,ct.health,ct.attack,ct.mana,ct.exp,ct.equipment,ct.triggersConsumed,ct.abominationSwallowedPet1,ct.abominationSwallowedPet2,ct.abominationSwallowedPet3,ct.abominationSwallowedPet1Level,ct.abominationSwallowedPet2Level,ct.abominationSwallowedPet3Level,ct.abominationSwallowedPet1TimesHurt,ct.abominationSwallowedPet2TimesHurt,ct.abominationSwallowedPet3TimesHurt),"Sabertooth Tiger":(Dt,ct,vt,rt)=>new _e.f(Dt.logService,Dt.abilityService,rt,vt,ct.health,ct.attack,ct.mana,ct.exp,ct.equipment,ct.triggersConsumed,ct.timesHurt),Tuna:(Dt,ct,vt)=>new de.n(Dt.logService,Dt.abilityService,vt,ct.health,ct.attack,ct.mana,ct.exp,ct.equipment,ct.triggersConsumed,ct.timesHurt),Slime:(Dt,ct,vt)=>new Te.f(Dt.logService,Dt.abilityService,vt,ct.health,ct.attack,ct.mana,ct.exp,ct.equipment,ct.triggersConsumed)}},4942(O,S,i){i.d(S,{Q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Piranha";tier=6;pack="Star";attack=10;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PiranhaAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getAll(!1,r,!0),g=d.pets,f=3*this.level;for(let D of g)D.increaseAttack(f),this.logService.createLog({message:`${r.name} gave ${D.name} ${f} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random});this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},4945(O,S,i){i.d(S,{N:()=>_});var P=i(46200),c=i(5615),A=i(51838);class _ extends P.i{logService;abilityService;name="Doberman";tier=4;pack="Puppy";attack=1;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"DobermanAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=8*this.level,f=d.parent.getThis(d),D=f.pet;if(null==D)return;D.increaseAttack(g),this.logService.createLog({message:`${d.name} gave ${D.name} ${g} attack.`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random});let k=!0;for(let q of d.parent.petArray)if(q!=d&&q.tier<=d.tier){k=!1;break}if(!k)return void this.triggerTigerExecution(t);let L=d.parent.getThis(d),N=L.pet;null!=N&&(N.givePetEquipment(new A.K),this.logService.createLog({message:`${d.name} gave ${N.name} Coconut.`,type:"ability",player:d.parent,tiger:o,randomEvent:L.random}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},5021(O,S,i){i.d(S,{g:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Vulture";tier=5;pack="Star";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"VultureAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a}=e,r=this.owner;let g=r.parent.opponent.getRandomPet([],!1,!0,!1,r);if(null==g.pet)return;let f=4*this.level;r.snipePet(g.pet,f,g.random,a),this.logService.createLog({message:`${r.name} sniped ${g.pet.name} for ${f} after a friend died.`,type:"ability",player:r.parent,tiger:a}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},5040(O,S,i){i.d(S,{F:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Rootling";tier=4;pack="Custom";attack=1;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Rootling Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=this.level,d=a.parent.petArray.filter(g=>g&&g.alive&&g!==a&&g.health<a.health).sort((g,f)=>g.health-f.health).slice(0,2);for(const g of d)g.increaseAttack(o),g.increaseHealth(o);d.length>0&&this.logService.createLog({message:`${a.name} gave ${d.map(g=>g.name).join(", ")} +${o}/+${o}.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},5238(O,S,i){i.d(S,{I:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Quoll";tier=1;pack="Custom";attack=3;health=2;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},5388(O,S,i){i.d(S,{S:()=>_});var P=i(46200),c=i(5615),A=i(23770);class _ extends P.i{logService;abilityService;name="Farmer Dog";tier=6;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Farmer Dog Ability",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=this.level,o=n.parent.petArray.filter(r=>r&&r.alive&&r!==n);if(0!==o.length){for(const r of o){const d=new A.D;d.effectMultiplier=a,r.givePetEquipment(d)}this.logService.createLog({message:`${n.name} fed ${a} Corncob${1===a?"":"s"} to ${o.length} friend${1===o.length?"":"s"}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}else this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},5492(O,S,i){i.d(S,{V:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Ibex";tier=5;pack="Star";attack=6;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;affectedEnemies=new Set;reset(){this.maxUses=this.level,this.affectedEnemies=new Set,super.reset()}constructor(e,t){super({name:"IbexAbility",owner:e,triggers:["EnemyHurt","EnemyPushed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:n=>{const{triggerPet:a}=n;return a&&a.alive&&!this.affectedEnemies.has(a)},abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let d=r.parent.getSpecificPet(r,n),g=d.pet;if(null==g)return;let f=Math.floor(.7*n.health);g.increaseHealth(-f),this.affectedEnemies.add(g),this.logService.createLog({message:`${r.name} removed ${f} health from ${n.name} (70%)`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},5611(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Sumatran Tiger";tier=6;pack="Danger";attack=9;health=9;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SumatranTigerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getOppositeEnemyPet(r),g=d.pet;if(g&&(r.jumpAttackPrep(g),r.jumpAttack(g,a,null,d.random),r.level>=2)){let f=2===this.level?6:12,D=[];if(d.random)D=r.parent.getRandomLivingPets(2).pets;else{let k=g.petBehind();k&&k.alive&&D.push(k);let L=g.petAhead;L&&L.alive&&D.push(L)}for(let k of D)r.snipePet(k,f,d.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},5615(O,S,i){i.d(S,{T:()=>A});var P=i(86785),c=i(83028);class A{name;owner;_triggers=[];get triggers(){return this._triggers}set triggers(v){this._triggers=v}abilityType;maxUses;currentUses;initialCurrentUses;abilityLevel;precondition;condition;abilityFunction;native;ignoreRepeats;alwaysIgnorePetLevel;constructor(v){(0,c.L)(this),this.name=v.name,this.owner=v.owner,this.triggers=v.triggers,this.abilityType=v.abilityType,this.maxUses=v.maxUses??-1;const e=v.initialCurrentUses??("Pet"===v.abilityType?v.owner.triggersConsumed:0);this.initialCurrentUses=e,this.currentUses=e,this.abilityLevel=v.abilitylevel??1,this.precondition=v.precondition,this.condition=v.condition,this.abilityFunction=v.abilityFunction,this.native=v.native??!0,this.ignoreRepeats=v.ignoreRepeats??!1,this.alwaysIgnorePetLevel=v.alwaysIgnorePetLevel??!1}canUse(){return!(this.maxUses>0&&this.currentUses>=this.maxUses)}execute(v,e,t,n,a){if(this.owner.removed&&!this.matchesTrigger("PostRemovalFaint")||!this.owner.abilityValidCheck())return!1;try{const o={gameApi:v,triggerPet:e,tiger:t,pteranodon:n,...a??{}};return!(this.precondition&&!this.precondition(o)||this.condition&&!this.condition(o)||(this.currentUses++,"Pet"===this.abilityType&&(this.owner.triggersConsumed=Math.max(this.owner.triggersConsumed,this.currentUses)),this.abilityFunction(o),0))}catch(o){return console.error(`Error executing ability ${this.name||"unnamed"}:`,o),!1}}tigerCheck(v,e){if(this.ignoreRepeats||"Pet"!=this.abilityType)return!1;const t=e??this.owner.petBehind(!0,!0);return!(!t||!t.hasTrigger(void 0,void 0,"TigerAbility")||null!=v&&0!=v)}triggerTigerExecution(v){const e=v.tigerSupportPet??this.owner.petBehind(!0,!0);if(!this.tigerCheck(v.tiger,e)||!this.canUse())return;let t=this.abilityLevel,n=this.alwaysIgnorePetLevel;this.abilityLevel=e.level,this.alwaysIgnorePetLevel=!0;const{gameApi:a,triggerPet:o,tiger:r,pteranodon:d,...g}=v;this.execute(a,o,!0,d,g),this.abilityLevel=t,this.alwaysIgnorePetLevel=n}reset(){this.currentUses=0}initUses(){this.currentUses=this.initialCurrentUses}copy(v){return null}matchesTrigger(v){return this.triggers.includes(v)}get level(){return this.alwaysIgnorePetLevel?this.abilityLevel:this.owner.level}get minExpForLevel(){return(0,P.T)(this.level)}}},5762(O,S,i){i.d(S,{T:()=>_});var P=i(56979),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Barghest";tier=1;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"BarghestAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let D=[...d.parent.getPetsWithEquipmentWithSillyFallback("perk",d),...d.parent.getPetsWithEquipmentWithSillyFallback("Spooked",d)],L=d.parent.opponent.getLastPets(this.level,D,d).pets;if(0!=L.length){for(let N of L)this.logService.createLog({message:`${d.name} gave ${N.name} Spooked`,type:"ability",player:d.parent,tiger:o}),N.givePetEquipment(new P.E);this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},6043(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Deer Lord";tier=3;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Deer Lord Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=t.petAhead;n&&(n.health=0,this.logService.createLog({message:`${t.name} knocked out ${n.name}.`,type:"ability",player:t.parent}),this.logService.createLog({message:`${t.name} stocked ${this.level} free Bacon.`,type:"ability",player:t.parent})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},6050(O,S,i){i.d(S,{p:()=>_});var P=i(46200),c=i(10041),A=i(5615);class _ extends P.i{logService;abilityService;name="Rooster";tier=5;pack="Turtle";attack=6;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"RoosterAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=Math.max(Math.floor(.5*d.attack),1);for(let f=0;f<this.level;f++){let D=new c.$(this.logService,this.abilityService,d.parent,1,g,0,this.minExpForLevel),k=d.parent.summonPet(D,d.savedPosition,!1,d);k.success&&this.logService.createLog({message:`${d.name} spawned Chick (${g}).`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:k.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},6143(O,S,i){i.d(S,{P:()=>c});var P=i(50873);class c extends P.L{name="Ring Pyramid";tier=1;startOfBattle(_,v){const e=_?.turnNumber??1;let t=1;e>2&&(t=2),e>4&&(t=3),e>6&&(t=4),e>8&&(t=5),e>10&&(t=6);const n=t-1;if(!(n<1))for(const a of this.parent.petArray)a.tier===n&&(a.health=0,this.logService.createLog({message:`${this.name} knocked out ${a.name}.`,type:"ability",player:this.parent,puma:v}))}}},6145(O,S,i){i.d(S,{S:()=>c});var P=i(22097);class c extends P.${name="Macaron";equipmentClass="shop"}},6172(O,S,i){i.d(S,{N:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Triceratops";tier=5;pack="Star";attack=5;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TriceratopsAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getRandomPet([r],!0,!1,!0,r),g=3*this.level;null!=d.pet&&(d.pet.increaseAttack(g),d.pet.increaseHealth(g),this.logService.createLog({message:`${r.name} gave ${d.pet.name} ${g} attack and ${g} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},6267(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Donkey";tier=4;pack="Star";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"DonkeyAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.opponent,g=d.getLastPet();null!=g.pet&&(d.pushPet(g.pet,g.pet.position),g.pet.increaseAttack(-3),this.logService.createLog({message:`${r.name} pushed ${g.pet.name} to the front and removed 3 attack.`,type:"ability",player:r.parent,tiger:a}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},6300(O,S,i){i.d(S,{Y:()=>_});var P=i(46200),c=i(74891),A=i(5615);class _ extends P.i{logService;abilityService;name="Rat";tier=2;pack="Turtle";health=6;attack=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"RatAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.opponent;for(let f=0;f<this.level;f++){let D=new c.s(this.logService,this.abilityService,g,null,null,0,0),k=g.summonPet(D,0,!1,d);k.success&&this.logService.createLog({message:`${d.name} Summoned Dirty Rat on Opponent`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:k.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},6328(O,S,i){i.d(S,{Y:()=>c});var P=i(22097);class c extends P.${name="Fortune Cookie";equipmentClass="attack";constructor(){super()}}},6368(O,S,i){i.d(S,{r:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Oyster";tier=6;pack="Golden";attack=2;health=10;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"OysterAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${3*this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},6425(O,S,i){i.d(S,{K:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Penguin";tier=4;pack="Turtle";attack=2;health=3;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},6513(O,S,i){i.d(S,{L:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;abilityService;name="Chocolate Cake";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}}class _ extends c.T{equipment;logService;abilityService;constructor(e,t,n,a){super({name:"ChocolateCakeAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.logService=n,this.abilityService=a}executeAbility(e){const t=this.owner;let a=3*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${a} exp. (Chocolate Cake)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.increaseExp(a),t.health=0,this.abilityService.triggerKillEvents(t,t)}}},6550(O,S,i){i.d(S,{AV:()=>c,H6:()=>v,Ls:()=>e,aA:()=>_,uF:()=>P,yo:()=>A});const P=[1,2,3];function c(t,n){const a=`${t}${n}`;return{base:a,belugaSwallowedPet:`${a}BelugaSwallowedPet`,sarcasticFringeheadSwallowedPet:`${a}SarcasticFringeheadSwallowedPet`,level:`${a}Level`,timesHurt:`${a}TimesHurt`,parrotCopyPet:`${a}ParrotCopyPet`,parrotCopyPetBelugaSwallowedPet:`${a}ParrotCopyPetBelugaSwallowedPet`,nested:o=>{const r=`${a}ParrotCopyPetAbominationSwallowedPet${o}`;return{base:r,belugaSwallowedPet:`${r}BelugaSwallowedPet`,sarcasticFringeheadSwallowedPet:`${r}SarcasticFringeheadSwallowedPet`,level:`${r}Level`,timesHurt:`${r}TimesHurt`}}}}function A(t,n,a=null){const o=t[n];return"string"==typeof o||null===o?o:a}function _(t,n,a){const o=t[n];return"number"==typeof o&&Number.isFinite(o)?o:a}function v(t,n,a){t[n]=a}function e(t,n,a){t[n]=a}},6674(O,S,i){i.d(S,{h:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Nachos";tier=1;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"NachosAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let r=Math.min(3,t.health-1);r>0&&(t.increaseHealth(-r),t.increaseAttack(r),this.logService.createLog({message:`${t.name} converted ${r} health into ${r} attack (Nachos)${n>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent}))}t.removePerk()}}},6792(O,S,i){i.d(S,{A:()=>o});var P=i(99659),c=i(97061),A=i(43744),_=i(10259),v=i(28606),e=i(54608),n=Object.prototype.hasOwnProperty;const o=function a(r,d){var g=(0,A.A)(r),f=!g&&(0,c.A)(r),D=!g&&!f&&(0,_.A)(r),k=!g&&!f&&!D&&(0,e.A)(r),L=g||f||D||k,N=L?(0,P.A)(r.length,String):[],q=N.length;for(var ne in r)(d||n.call(r,ne))&&(!L||!("length"==ne||D&&("offset"==ne||"parent"==ne)||k&&("buffer"==ne||"byteLength"==ne||"byteOffset"==ne)||(0,v.A)(ne,q)))&&N.push(ne);return N}},6944(O,S,i){i.d(S,{A:()=>A});const A=i(1860).A.Symbol},6953(O,S,i){i.d(S,{v:()=>v});var P=i(46200),c=i(5615),A=i(90966),_=i(33127);class v extends P.i{logService;abilityService;name="Racket Tail";tier=4;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"Racket Tail Ability",owner:n,triggers:["BeforeFriendAttacks"],abilityType:"Pet",maxUses:n.level,native:!0,abilitylevel:n.level,precondition:o=>{const{triggerPet:r}=o;return!!r&&r.parent===this.owner.parent&&r.alive},abilityFunction:o=>this.executeAbility(o)}),this.logService=a}executeAbility(n){const{triggerPet:a,tiger:o,pteranodon:r}=n,d=this.owner;if(!a)return;const f=_.I.getInjector().get(A.m).getInstanceOfAllEquipment().get("Strawberry");f&&a.givePetEquipment(f),a.increaseAttack(5),this.logService.createLog({message:`${d.name} gave ${a.name} Strawberry and +5 attack before attacking.`,type:"ability",player:d.parent,tiger:o,pteranodon:r}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},6988(O,S,i){i.d(S,{U:()=>t});var P=i(46200),c=i(5615),A=i(61850),_=i(94798),v=i(58857),e=i(79222);class t extends P.i{logService;abilityService;petService;name="Iriomote Cat";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new n(this,this.logService,this.petService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,N,q){super(o,r,g),this.logService=o,this.abilityService=r,this.petService=d,this.initPet(L,f,D,k,N,q)}}class n extends c.T{logService;petService;constructor(o,r,d){super({name:"IriomoteCatAbility",owner:o,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.petService=d}executeAbility(o){const D=this.owner,k=_.s.iriomoteCat[this.level]??this.petService.allPets.get(this.level)??[];if(0===k.length)return;const L=(0,v.k6)({key:"pet.iriomote-cat-transform",label:(0,e.I)(D,"Iriomote Cat transform"),options:k.map(ne=>({id:ne,label:ne}))},()=>(0,A.hw)(0,k.length-1));let N=k[L.index],q=this.petService.createPet({name:N,attack:D.attack,health:D.health,exp:0,equipment:D.equipment,mana:D.mana},D.parent);this.logService.createLog({message:`${D.name} transformed into a ${N} (Level ${q.level}).`,type:"ability",player:D.parent,randomEvent:L.randomEvent}),D.parent.transformPet(D,q),this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.petService)}}},7023(O,S,i){i.d(S,{a:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Door Head Ant";tier=2;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DoorHeadAntAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null==this.owner.parent.pet0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.getThis(r),g=d.pet;if(null==g)return;r.parent.pushPetToFront(g,!0),this.logService.createLog({message:`${r.name} pushed ${g.name} to the front.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random});let f=4*this.level,D=r.parent.getThis(r),k=D.pet;null!=k&&(k.increaseHealth(f),this.logService.createLog({message:`${r.name} gained ${f} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:D.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},7056(O,S,i){i.d(S,{E:()=>v});var P=i(46200),c=i(5615),A=i(33524),_=i(61850);class v extends P.i{logService;abilityService;name="Spider Crab";tier=2;pack="Custom";attack=1;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;affectedPets=new Set;constructor(n,a){super({name:"Spider Crab Ability",owner:n,triggers:["FriendAttacked","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:o=>this.executeAbility(o)}),this.logService=a}executeAbility(n){const a=this.owner,{triggerPet:o,tiger:r,pteranodon:d}=n;if("StartTurn"===n.trigger)return this.affectedPets.clear(),void this.triggerTigerExecution(n);if(!o||o.parent!==a.parent)return void this.triggerTigerExecution(n);if(!o.alive)return void this.triggerTigerExecution(n);if(this.affectedPets.has(o))return void this.triggerTigerExecution(n);if(this.affectedPets.size>=this.level)return void this.triggerTigerExecution(n);let g=o;if((0,A.ku)(a)){const f=a.parent.petArray.filter(D=>D.alive);if(0===f.length)return void this.triggerTigerExecution(n);g=f[(0,_.hw)(0,f.length-1)]}g.increaseHealth(4),g.parent.pushPetToBack(g),this.affectedPets.add(o),this.logService.createLog({message:`${a.name} moved ${g.name} to the back and gave it +4 health.`,type:"ability",player:a.parent,tiger:r,pteranodon:d}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},7059(O,S,i){i.d(S,{v:()=>_});var P=i(46200),c=i(3754),A=i(5615);class _ extends P.i{logService;abilityService;name="Sneaky Egg";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"SneakyEggAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g={attack:4*this.level,health:2*this.level};d.health=0,d.parent.handleDeath(d),d.parent.removeDeadPets();let f=new c.j(this.logService,this.abilityService,d.parent,g.health,g.attack,0),D=d.parent.summonPet(f,d.savedPosition,!1,d);D.success&&this.logService.createLog({message:`${d.name} spawned a ${g.attack}/${g.health} Cracked Egg`,type:"ability",player:d.parent,tiger:o,randomEvent:D.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},7199(O,S,i){i.d(S,{o:()=>e});var P=i(22097),c=i(5615),A=i(33127),_=i(24111),v=i(56990);class e extends P.${name="Webbed";equipmentClass="ailment-other";callback=a=>{a.addAbility(new t(a))}}class t extends c.T{logService;petService;constructor(a){super({name:"WebbedAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:o=>this.executeAbility(o)}),this.logService=A.I.getInjector().get(_.K),this.petService=A.I.getInjector().get(v.T)}executeAbility(a){const o=this.owner,r=o.parent.opponent,d=this.petService.createPet({name:"Spider",attack:2,health:2,exp:0,equipment:null,mana:0},r),g=r.summonPet(d,0,!1,o);g.success&&this.logService.createLog({message:`${o.name} summoned ${d.name} for the opponent. (Webbed)`,type:"equipment",player:o.parent,randomEvent:g.randomEvent})}}},7234(O,S,i){i.d(S,{l:()=>_});var P=i(46200),c=i(25479),A=i(5615);class _ extends P.i{logService;abilityService;name="Anteater";tier=3;pack="Star";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"AnteaterAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;for(let g=0;g<this.level;g++){let f=new c.w(this.logService,this.abilityService,d.parent,1,1,0,5),D=d.parent.summonPet(f,d.savedPosition,!1,d);D.success&&this.logService.createLog({message:`${d.name} spawned 1/1 Ant level 3`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:D.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},7390(O,S,i){i.d(S,{T:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Fish";tier=1;pack="Turtle";health=3;attack=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FishAbility",owner:e,triggers:["ThisLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;if(this.level>=3)return;const n=this.level,a=t.parent.getRandomPets(2,[t],!1,!1,t);if(0!==a.pets.length){for(const o of a.pets)o.increaseAttack(n),o.increaseHealth(n);this.logService.createLog({message:`${t.name} gave ${a.pets.map(o=>o.name).join(", ")} ${n} attack and ${n} health.`,type:"ability",player:t.parent,randomEvent:a.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},7598(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Deinocheirus";tier=4;pack="Custom";attack=4;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Deinocheirus Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.equipment;if(!o)return void this.triggerTigerExecution(e);if(!o.equipmentClass?.startsWith("ailment"))return void this.triggerTigerExecution(e);const d=this.level,g=d,f=2*d;a.increaseAttack(g),a.increaseHealth(f),this.logService.createLog({message:`${a.name} reversed ${o.name} and gained +${g}/+${f} (x${d}).`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},7639(O,S,i){i.d(S,{F:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Namazu";tier=5;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Namazu Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=t.mana;if(n<=0)return void this.triggerTigerExecution(e);const a=n*this.level;t.parent.gainTrumpets(a,t,e.pteranodon),t.mana=0,this.logService.createLog({message:`${t.name} spent ${n} mana and gained ${a} trumpets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},7715(O,S,i){i.d(S,{k:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Chimera Lion";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},7978(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Vervet";tier=2;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Vervet Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,n=this.owner,a=this.level,o="Microwave Oven",r=t?.toyService?.createToy(o,n.parent,a);r&&(n.parent.toy=r,this.logService.createLog({message:`${n.name} summoned a level ${a} ${o}.`,type:"ability",player:n.parent})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},8143(O,S,i){i.d(S,{e:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mole";tier=3;pack="Puppy";attack=2;health=3;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MoleAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=6*this.level,g=[];for(let L of r.parent.petArray){if(L==r)continue;const N=L.equipment?.equipmentClass;N&&"ailment-attack"!==N&&"ailment-defense"!==N&&"ailment-other"!==N&&g.push(L)}const f=r.position;if(g.sort((L,N)=>{const q=Math.abs(L.position-f),ne=Math.abs(N.position-f);return q!==ne?q-ne:L.position-N.position}),g=g.slice(0,2),g.length<2)return;for(let L of g)this.logService.createLog({message:`${r.name} removed ${L.name}'s perk.`,type:"ability",player:r.parent,pteranodon:o}),L.removePerk(!0);let D=new A(this.logService,this.abilityService,r.parent,d,d),k=r.parent.summonPet(D,r.savedPosition,!1,r);k.success&&this.logService.createLog({message:`${r.name} summoned a ${d}/${d} Mole.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:k.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},8178(O,S,i){i.d(S,{p:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Nessie?";tier=1;pack="Unicorn";hidden=!0;health=2;attack=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},8362(O,S,i){i.d(S,{g:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Vampire Bat";tier=5;pack="Unicorn";attack=2;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"VampireBatAbility",owner:t,triggers:["EnemyGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,precondition:a=>{const{triggerPet:o}=a,g=(0,A.LZ)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=4*this.level,D=(0,A.LZ)(d,a).pet;if(null==D)return;const k=D.health;let L=d.snipePet(D,g,!1,o),N=Math.min(L,k),q=d.parent.getThis(d),ne=q.pet;null!=ne&&(this.logService.createLog({message:`${d.name} gave ${ne.name} ${N} health.`,type:"ability",player:d.parent,tiger:o,randomEvent:q.random}),ne.increaseHealth(N),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},8408(O,S,i){i.d(S,{_:()=>c});var P=i(50873);class c extends P.L{name="Toy Mouse";tier=3;startOfBattle(_,v){for(const e of this.parent.petArray)e.exp=0,this.logService.createLog({message:`${this.name} set ${e.name} to level 1.`,type:"ability",player:this.parent,puma:v})}}},8534(O,S,i){i.d(S,{t:()=>A});var P=i(46200),c=i(5615);class A extends P.i{constructor(e,t,n){super(e,t,n),this.name="Pegasus",this.tier=4,this.pack="Custom",this.attack=2,this.health=4}initAbilities(){this.abilityList=[new _(this,this.logService)],super.initAbilities()}}class _ extends c.T{logService;pendingBuffs=new Map;constructor(e,t){super({name:"Pegasus Ability",owner:e,triggers:["FriendSummoned","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{trigger:t,tiger:n,pteranodon:a}=e,o=this.owner;if("FriendSummoned"===t){const r=o.parent.getRandomPets(3,[],!1,!1,o),d=this.level;if(r.pets.length>0){const g=[];for(const f of r.pets){f.increaseAttack(d);const D=this.pendingBuffs.get(f)??0;this.pendingBuffs.set(f,D+d),g.push(f.name)}this.logService.createLog({message:`${o.name} temporarily buffed ${g.join(", ")} for +${d} attack until next turn.`,type:"ability",player:o.parent,tiger:n,pteranodon:a,randomEvent:r.random})}}else"EndTurn"===t&&this.resetBuffs();this.triggerTigerExecution(e)}resetBuffs(){for(const[e,t]of this.pendingBuffs)e.alive&&e.increaseAttack(-t);this.pendingBuffs.clear()}copy(e){return new _(e,this.logService)}}},8540(O,S,i){i.d(S,{n:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pacific Fanfish";tier=5;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Pacific Fanfish Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=4*this.level,a=t.parent.petArray.filter(r=>r&&r!==t&&r.alive&&r.sellValue>=3);if(0===a.length)return void this.triggerTigerExecution(e);const o=n*a.length;t.increaseAttack(o),t.increaseHealth(o),this.logService.createLog({message:`${t.name} gained +${o}/+${o} from ${a.length} friend(s) with \u22653 sell value.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},8891(O,S,i){i.d(S,{w:()=>t});var P=i(22097),c=i(5615),A=i(90966),_=i(33127),v=i(94798),e=i(61850);class t extends P.${logService;name="Radish";equipmentClass="beforeStartOfBattle";callback=o=>{const r=o.getEquippedEquipmentInstance(this);o.addAbility(new n(o,r,this.logService))};constructor(o){super(),this.logService=o}}class n extends c.T{equipment;logService;equipmentService;constructor(o,r,d){super({name:"RadishAbility",owner:o,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:g=>this.executeAbility(g)}),this.equipment=r,this.logService=d,this.equipmentService=_.I.getInjector().get(A.m)}executeAbility(o){const r=this.owner,d=Math.min(Math.max(r.tier??r.level??1,1),6),g=v.s.radish[d];if(!g||0===g.length)return;const f=this.equipmentService.getInstanceOfAllEquipment(),D=g.filter(q=>f.has(q));if(0===D.length)return;const k=(0,e.hw)(0,D.length-1),N=f.get(D[k]);N&&(r.givePetEquipment(N),this.logService.createLog({message:`${r.name} gained ${N.name} before battle (Radish).`,type:"equipment",player:r.parent,randomEvent:!0}))}}},9008(O,S,i){i.d(S,{B:()=>c});var P=i(22097);class c extends P.${name="Sad";equipmentClass="ailment-other"}},9215(O,S,i){i.d(S,{u:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Blobfish";tier=5;pack="Star";attack=2;health=10;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BlobfishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.nearestPetsBehind(2,r),g=d.pets;for(let f of g){let D=this.level;this.logService.createLog({message:`${r.name} gave ${f.name} ${D} exp.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),f.increaseExp(D)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},9238(O,S,i){i.d(S,{g:()=>A});var P=i(57488),c=i(50873);class A extends c.L{name="Pogo Stick";tier=1;startOfBattle(v,e){const t=(0,P.a)(v,this.parent),n=t.getLastPet();if(!n.pet)return;const a=n.pet;t.pushPetToFront(a);const o=a.attack,r=a.health;a.increaseAttack(o),a.increaseHealth(r),this.logService.createLog({message:`${this.name} pushed ${a.name} forward and gave +${o}/+${r}.`,type:"ability",player:this.parent,puma:e})}}},9292(O,S,i){i.d(S,{C:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Worm";tier=2;pack="Turtle";health=4;attack=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WormAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked one 2-gold ${1===this.level?"Apple":2===this.level?"Better Apple":"Best Apple"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},9452(O,S,i){i.d(S,{A:()=>_});var P=i(99898),c=i(14429);const _=function A(v,e){return v&&(0,P.A)(e,(0,c.A)(e),v)}},9680(O,S,i){i.d(S,{M:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Duckling";tier=1;pack="Custom";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"DucklingAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gave the left-most shop pet +${2*this.level} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},9695(O,S,i){i.d(S,{f:()=>_});var P=i(46200),c=i(5615),A=i(44402);class _ extends P.i{logService;abilityService;name="Reindeer";tier=6;pack="Star";attack=9;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(t,n){super({name:"ReindeerAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getThis(d),f=g.pet;null!=f&&(f.givePetEquipment(new A.m),this.logService.createLog({message:`${d.name} gave ${f.name} Melon.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},9933(O,S,i){i.d(S,{A:()=>n});var P=i(1860),c="object"==typeof exports&&exports&&!exports.nodeType&&exports,A=c&&"object"==typeof module&&module&&!module.nodeType&&module,v=A&&A.exports===c?P.A.Buffer:void 0,e=v?v.allocUnsafe:void 0;const n=function t(a,o){if(o)return a.slice();var r=a.length,d=e?e(r):new a.constructor(r);return a.copy(d),d}},10041(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Chick";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ChickAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},10259(O,S,i){i.d(S,{A:()=>a});var P=i(1860),c=i(85554),A="object"==typeof exports&&exports&&!exports.nodeType&&exports,_=A&&"object"==typeof module&&module&&!module.nodeType&&module,e=_&&_.exports===A?P.A.Buffer:void 0;const a=(e?e.isBuffer:void 0)||c.A},10467(O,S,i){function P(A,_,v,e,t,n,a){try{var o=A[n](a),r=o.value}catch(d){return void v(d)}o.done?_(r):Promise.resolve(r).then(e,t)}function c(A){return function(){var _=this,v=arguments;return new Promise(function(e,t){var n=A.apply(_,v);function a(r){P(n,e,t,a,o,"next",r)}function o(r){P(n,e,t,a,o,"throw",r)}a(void 0)})}}i.d(S,{A:()=>c})},10687(O,S,i){i.d(S,{e:()=>c});var P=i(22097);class c extends P.${name="Bloated";equipmentClass="ailment-other"}},10778(O,S,i){i.d(S,{Z:()=>v});var P=i(46200),c=i(5615),A=i(26886),_=i(33127);class v extends P.i{constructor(n,a,o){super(n,a,o),this.name="Flying Squirrel",this.tier=3,this.pack="Custom",this.attack=3,this.health=3}initAbilities(){this.abilityList=[new e(this,this.logService)],super.initAbilities()}}class e extends c.T{logService;constructor(n,a){super({name:"FlyingSquirrelAbility",owner:n,triggers:["FriendlyToyBroke"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{tiger:r}=n,g=this.owner;let f=2*this.level,D=g.parent.getThis(g),k=D.pet;if(null==k||(k.increaseAttack(f),this.logService.createLog({message:`${g.name} gave ${k.name} +${f} attack`,type:"ability",player:g.parent,tiger:r,randomEvent:D.random}),null==g.parent.brokenToy))return;const L=_.I.getInjector().get(A.w).createToy(g.parent.brokenToy.name,g.parent);L.level=Math.min(this.level,g.parent.brokenToy.level),g.parent.setToy(L),this.logService.createLog({message:`${L.name} respawned (Level ${L.level})!`,type:"ability",player:g.parent,tiger:r}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},10858(O,S,i){i.d(S,{P:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Malay Tapir";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MalayTapirAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getThis(r),g=d.pet;if(!g)return;let f=1*this.level;g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} health`,type:"ability",player:r.parent,sourcePet:r,targetPet:g,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},10948(O,S,i){i.d(S,{l:()=>_});var P=i(46200),c=i(5615),A=i(23770);class _ extends P.i{logService;abilityService;name="Farmer Crow";tier=5;pack="Custom";attack=6;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Farmer Crow Ability",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=Math.min(n.level,3),r=n.parent.nearestPetsBehind(a,n),d=r.pets;for(const g of d)for(let f=0;f<3;f++){const D=new A.D;D.effectMultiplier=3,g.applyEquipment(D)}d.length>0&&this.logService.createLog({message:`${n.name} fed Corncobs with 3x effect to ${d.length} friend${1===d.length?"":"s"}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:r.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},11325(O,S,i){i.d(S,{t:()=>_});var P=i(46200),c=i(5615),A=i(60826);class _ extends P.i{logService;abilityService;name="Snapping Turtle";tier=5;pack="Puppy";attack=4;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"SnappingTurtleAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithEquipment("Skewer"),f=d.parent.nearestPetsBehind(d.level,d,g);if(0!==f.pets.length){for(let D of f.pets)this.logService.createLog({message:`${d.name} gave ${D.name} Skewer.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.random}),D.givePetEquipment(new A.q(this.logService));this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},11374(O,S,i){i.d(S,{A:()=>e});var P=i(77107),_=Object.prototype.hasOwnProperty;const e=function v(t){var n=this.__data__;if(P.A){var a=n[t];return"__lodash_hash_undefined__"===a?void 0:a}return _.call(n,t)?n[t]:void 0}},11733(O,S,i){i.d(S,{v:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Giant Squirrel";tier=2;pack="Custom";attack=2;health=5;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},11970(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Skeleton Dog";tier=3;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SkeletonDogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getRandomPets(this.level,[r],!0,!1,r);for(let g of d.pets)null!=g&&(this.logService.createLog({message:`${r.name} gave 1 attack and 1 health to ${g.name}.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),g.increaseAttack(1),g.increaseHealth(1));this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},12160(O,S,i){i.d(S,{C:()=>c});var P=i(22097);class c extends P.${equipmentClass="shield";name="Lemon";tier=5;power=7;originalPower=7;uses=2;originalUses=2}},12173(O,S,i){i.d(S,{A:()=>e});var P=i(92661),c=i(20778),A=i(33340),_=A.A&&A.A.isSet;const e=_?(0,c.A)(_):P.A},12312(O,S,i){i.d(S,{x:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Smaller Slime";tier=1;pack="Unicorn";hidden=!0;health=2;attack=2;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},12367(O,S,i){i.d(S,{O:()=>v});var P=i(46200),c=i(5615),A=i(33127),_=i(90966);class v extends P.i{logService;abilityService;name="Fox";tier=5;pack="Custom";attack=6;health=4;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"Fox Ability",owner:n,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const a=this.owner,r=A.I.getInjector().get(_.m).getInstanceOfAllEquipment(),d=Array.from(r.values()).filter(L=>"shop"===L.equipmentClass);if(0===d.length)return void this.triggerTigerExecution(n);const g=d[d.length-1],f=this.level,k=Math.max(1,2*a.level)*f;a.increaseAttack(k),a.increaseHealth(k),this.logService.createLog({message:`${a.name} stole ${g.name} (x${f}) and gained +${k}/+${k}.`,type:"ability",player:a.parent,tiger:n.tiger,pteranodon:n.pteranodon}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},12765(O,S,i){i.d(S,{n:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Longcomb Sawfish";tier=4;pack="Danger";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LongcombSawfishAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=4*this.level,g=-4*this.level,f=r.parent.getThis(r),D=f.pet;D&&(D.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${D.name} ${d} health`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}));let L=r.parent.opponent.getAll(!1,r).pets;for(let N of L)N.increaseHealth(g),this.logService.createLog({message:`${r.name} reduced ${N.name} health by ${Math.abs(g)}`,type:"ability",player:r.parent,tiger:a});this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},12768(O,S,i){i.d(S,{P:()=>A,Y:()=>c});var P=i(45312);const c=(_,v,e,t,n)=>{const a=o=>{if(e.createLog({message:`${o.name} broke!`,type:"ability",player:_,randomEvent:!1}),null==o.onBreak)return;const r=[{callback:o.onBreak.bind(o),priority:99}],d=o.level;for(const g of _.petArray)g instanceof P.E&&r.push({callback:()=>{o.level=g.level,o.onBreak(n.gameApi,!0),o.level=d},priority:g.attack});r.sort((g,f)=>g.priority>f.priority?-1:g.priority<f.priority?1:0);for(const g of r)g.callback(n.gameApi)};if(null!=_.toy){const o=_.toy;_.brokenToy=o,a(o),_.toy=null}if(null!=_.hardToy){const o=_.hardToy;_.brokenHardToy=o,a(o),_.hardToy=null}v&&_.brokenToy&&A(_,_.brokenToy)},A=(_,v)=>{_.toy=v}},13004(O,S,i){i.d(S,{gn:()=>e,tS:()=>n,zA:()=>_});var P=i(70762),c=i(27389),A=i(60135);class _ extends P.v{constructor(o){super(),this.parent=o}_next(o){this.parent.notifyNext(o)}_error(o){this.parent.notifyError(o),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class e extends P.v{notifyNext(o){this.destination.next(o)}notifyError(o){this.destination.error(o)}notifyComplete(){this.destination.complete()}}function n(a,o){if(o.closed)return;if(a instanceof c.c)return a.subscribe(o);let r;try{r=(0,A.i)(a)(o)}catch(d){o.error(d)}return r}},13115(O,S,i){i.d(S,{B:()=>c});var P=i(22097);class c extends P.${name="Salt";tier=4;equipmentClass="attack";uses=1;originalUses=1}},13276(O){O.exports=JSON.parse('[{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and Spooked until next turn to the nearest friend ahead."},{"Level":2,"About":"End turn: Give +2 attack and Spooked until next turn to the nearest friend ahead."},{"Level":3,"About":"End turn: Give +3 attack and Spooked until next turn to the nearest friend ahead."}],"Id":"624","Name":"???","NameId":"Leafling","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Jump attack the second enemy for 3 damage."},{"Level":2,"About":"Start of battle: Jump attack the second enemy for 6 damage."},{"Level":3,"About":"Start of battle: Jump attack the second enemy for 9 damage."}],"Id":"388","Name":"African Wild Dog","NameId":"AfricanWildDog","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +1 mana."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +2 mana."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +3 mana."}],"Id":"626","Name":"Alchemedes","NameId":"AlchemistBug","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Give one random friend +1 attack and +1 health."},{"Level":2,"About":"Faint: Give one random friend +2 attack and +2 health."},{"Level":3,"About":"Faint: Give one random friend +3 attack and +3 health."}],"Id":"0","Name":"Ant","NameId":"Ant","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: If turn number is even, replace random ailments with +1 health on two friends."},{"Level":2,"About":"End turn: If turn number is even, replace random ailments with +2 health on two friends."},{"Level":3,"About":"End turn: If turn number is even, replace random ailments with +3 health on two friends."}],"Id":"628","Name":"Baku","NameId":"Baku","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make the last perk-less enemy Spooked."},{"Level":2,"About":"Start of battle: Make the two last perk-less enemies Spooked."},{"Level":3,"About":"Start of battle: Make the three last perk-less enemies Spooked."}],"Id":"621","Name":"Barghest","NameId":"Barghest","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give two random friends +1 attack."},{"Level":2,"About":"Sell: Give two random friends +2 attack."},{"Level":3,"About":"Sell: Give two random friends +3 attack."}],"Id":"3","Name":"Beaver","NameId":"Beaver","Tier":1,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"4","Name":"Bee","NameId":"Bee","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Walnut perk to nearest friend behind."},{"Level":2,"About":"Start of battle: Give Walnut perk with double effect to nearest friend behind."},{"Level":3,"About":"Start of battle: Give Walnut perk with triple effect to nearest friend behind."}],"Id":"88","Name":"Beetle","NameId":"Beetle","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Give one random friend +1 attack."},{"Level":2,"About":"End turn: Give one random friend +2 attack."},{"Level":3,"About":"End turn: Give one random friend +3 attack."}],"Id":"89","Name":"Bluebird","NameId":"Bluebird","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Two enemy attacks: Deal 1 damage to the first enemy. Works 2 times per battle."},{"Level":2,"About":"Two enemy attacks: Deal 2 damage to the first enemy. Works 2 times per battle."},{"Level":3,"About":"Two enemy attacks: Deal 3 damage to the first enemy. Works 2 times per battle."}],"Id":"401","Name":"Bombus Dahlbomii","NameId":"BombusDahlbomii","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain the Popcorn perk and +1 health."},{"Level":2,"About":"Start of battle: Gain the Popcorn perk and +2 health."},{"Level":3,"About":"Start of battle: Gain the Popcorn perk and +3 health."}],"Id":"775","Name":"Budgie","NameId":"Budgie","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"After first attack: Gain +2 attack."},{"Level":2,"About":"After first attack: Gain +4 attack."},{"Level":3,"About":"After first attack: Gain +6 attack."}],"Id":"189","Name":"Bulldog","NameId":"Bulldog","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 health for each roll (max 2)."},{"Level":2,"About":"Start of battle: Gain +2 health for each roll (max 2)."},{"Level":3,"About":"Start of battle: Gain +3 health for each roll (max 2)."}],"Id":"601","Name":"Bunyip","NameId":"Bunyip","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"85","Name":"Bus","NameId":"Bus","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"13","Name":"Chick","NameId":"Chick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Push the most healthy enemy one space forward."},{"Level":2,"About":"Start of battle: Push the most healthy enemy two spaces forward."},{"Level":3,"About":"Start of battle: Push the most healthy enemy three spaces forward."}],"Id":"541","Name":"Chihuahua","NameId":"Chihuahua","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Summon one 2/2 level 1 Loyal Chinchilla."},{"Level":2,"About":"Sell: Summon one 4/4 level 2 Loyal Chinchilla."},{"Level":3,"About":"Sell: Summon one 6/6 level 3 Loyal Chinchilla."}],"Id":"161","Name":"Chinchilla","NameId":"Chinchilla","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Stock one free copy of this pet\'s food perk."},{"Level":2,"About":"Sell: Stock two free copies of this pet\'s food perk."},{"Level":3,"About":"Sell: Stock three free copies of this pet\'s food perk."}],"Id":"184","Name":"Chipmunk","NameId":"Chipmunk","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Pack4"],"PacksRequired":["Pack2","Pack4"],"Rollable":true,"CustomArchetypes":["Perks","Mvp"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Cockroach and give it +1 experience."},{"Level":2,"About":"Faint: Summon one 1/1 Cockroach and give it +2 experience."},{"Level":3,"About":"Faint: Summon one 1/1 Cockroach and give it +3 experience."}],"Id":"18","Name":"Cockroach","NameId":"Cockroach","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend behind +2 health."},{"Level":2,"About":"Start of battle: Give the nearest friend behind +4 health."},{"Level":3,"About":"Start of battle: Give the nearest friend behind +6 health."}],"Id":"272","Name":"Cone Snail","NameId":"ConeSnail","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Does not provide shop rewards on level-up."},{"Level":2,"About":"Does not provide shop rewards on level-up."},{"Level":3,"About":"Does not provide shop rewards on level-up."}],"Id":"710","Name":"Cooked Roach","NameId":"CockroachToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"647","Name":"Cracked Egg","NameId":"EggLadCracked","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Cricket."},{"Level":2,"About":"Faint: Summon one 2/2 Cricket."},{"Level":3,"About":"Faint: Summon one 3/3 Cricket."}],"Id":"17","Name":"Cricket","NameId":"Cricket","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Attack and health can\'t go over 1."},{"Level":2,"About":"Attack and health can\'t go over 1."},{"Level":3,"About":"Attack and health can\'t go over 1."}],"Id":"788","Name":"Cuckoo Chick","NameId":"CuckooBaby","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Choose one witch toy that breaks after 2 turns."},{"Level":2,"About":"Sell: Choose one witch toy that breaks after 4 turns."},{"Level":3,"About":"Sell: Choose one witch toy that breaks after 6 turns."}],"Id":"611","Name":"Cuddle Toad","NameId":"CuddleToad","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"641","Name":"Daycrawler","NameId":"DayCrawler","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"58","Name":"Dirty Rat","NameId":"RatToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give shop pets +1 health."},{"Level":2,"About":"Sell: Give shop pets +2 health."},{"Level":3,"About":"Sell: Give shop pets +3 health."}],"Id":"26","Name":"Duck","NameId":"Duck","Tier":1,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give left-most shop pet +2 health."},{"Level":2,"About":"Sell: Give left-most shop pet +4 health."},{"Level":3,"About":"Sell: Give left-most shop pet +6 health."}],"Id":"113","Name":"Duckling","NameId":"BabyDuck","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Remove 1 attack from the first enemy."},{"Level":2,"About":"Faint: Remove 1 attack from the first two enemies."},{"Level":3,"About":"Faint: Remove 1 attack from the first three enemies."}],"Id":"406","Name":"Ethiopian Wolf","NameId":"EthiopianWolf","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Takes 1 less damage. Works 2 times per turn."},{"Level":2,"About":"Takes 2 less damage. Works 2 times per turn."},{"Level":3,"About":"Takes 3 less damage. Works 2 times per turn."}],"Id":"408","Name":"Fan Mussel","NameId":"FanMussel","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Feed one Corncob to the nearest friend behind."},{"Level":2,"About":"Faint: Feed one Corncob to the nearest two friends behind."},{"Level":3,"About":"Faint: Feed one Corncob to the nearest three friends behind."}],"Id":"693","Name":"Farmer Mouse","NameId":"FarmerMouse","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Ferret toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Ferret toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Ferret toy."}],"Id":"172","Name":"Ferret","NameId":"Ferret","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"343","Name":"Fire Pup","NameId":"FirePup","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 1 damage to ALL pets within one space."},{"Level":2,"About":"Faint: Deal 1 damage to ALL pets within two spaces."},{"Level":3,"About":"Faint: Deal 1 damage to ALL pets within three spaces."}],"Id":"548","Name":"Firefly","NameId":"Firefly","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Level-up: Give two friends +1 attack and +1 health."},{"Level":2,"About":"Level-up: Give two friends +2 attack and +2 health."},{"Level":3,"About":"No ability."}],"Id":"32","Name":"Fish","NameId":"Fish","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +1 health per Faint friend."},{"Level":2,"About":"Start of battle: Gain +2 attack and +2 health per Faint friend."},{"Level":3,"About":"Start of battle: Gain +3 attack and +3 health per Faint friend."}],"Id":"198","Name":"Frilled Dragon","NameId":"FrilledDragon","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: If both adjacent friends are tier 2 or lower, swap their stats."},{"Level":2,"About":"Sell: If both adjacent friends are tier 4 or lower, swap their stats."},{"Level":3,"About":"Sell: If both adjacent friends are tier 6 or lower, swap their stats."}],"Id":"139","Name":"Frog","NameId":"Frog","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: If you have a toy, gain +2 health."},{"Level":2,"About":"Start of battle: If you have a toy, gain +4 health."},{"Level":3,"About":"Start of battle: If you have a toy, gain +6 health."}],"Id":"229","Name":"Gecko","NameId":"Gecko","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"644","Name":"Giant Eyes Dog","NameId":"GiantEyesDog","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Shop tier upgraded: Give the two nearest pets behind +1 health."},{"Level":2,"About":"Shop tier upgraded: Give the two nearest pets behind +2 health."},{"Level":3,"About":"Shop tier upgraded: Give the two nearest pets behind +3 health."}],"Id":"550","Name":"Gibbon","NameId":"Gibbon","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"648","Name":"Goat","NameId":"ChimeraGoat","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Always there for his friends!"},{"Level":2,"About":"Always there for his friends!"},{"Level":3,"About":"Always there for his friends!"}],"Id":"188","Name":"Golden Retriever","NameId":"GoldenRetriever","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give friends plenty of useful perks!"},{"Level":2,"About":"Start of battle: Give friends silly amounts of useful perks!"},{"Level":3,"About":"Start of battle: Give friends silly amounts of useful perks!"}],"Id":"658","Name":"Good Dog","NameId":"GoodDog","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 attack from the first enemy."},{"Level":2,"About":"Start of battle: Remove 2 attack from the first enemy."},{"Level":3,"About":"Start of battle: Remove 3 attack from the first enemy."}],"Id":"232","Name":"Goose","NameId":"Goose","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":7,"Health":13,"Abilities":[{"Level":1,"About":"Summoned: Deal 5 damage to ALL other pets."},{"Level":2,"About":"Summoned: Deal 10 damage to ALL other pets."},{"Level":3,"About":"Summoned: Deal 15 damage to ALL other pets."}],"Id":"335","Name":"Great One","NameId":"Cthulu","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Gain +1 trumpet."},{"Level":2,"About":"Faint: Gain +2 trumpets."},{"Level":3,"About":"Faint: Gain +3 trumpets."}],"Id":"233","Name":"Groundhog","NameId":"Groundhog","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack until next turn."},{"Level":2,"About":"Friend summoned: Give it +2 attack until next turn."},{"Level":3,"About":"Friend summoned: Give it +3 attack until next turn."}],"Id":"39","Name":"Horse","NameId":"Horse","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Give Strawberry perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Strawberry perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Strawberry perk to the three nearest friends behind."}],"Id":"138","Name":"Hummingbird","NameId":"Hummingbird","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Perks"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"643","Name":"Head","NameId":"HydraHead","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend transformed: Give it +1 to its highest stat until next turn."},{"Level":2,"About":"Friend transformed: Give it +2 to its highest stat until next turn."},{"Level":3,"About":"Friend transformed: Give it +3 to its highest stat until next turn."}],"Id":"417","Name":"Ili Pika","NameId":"IliPika","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Before battle: Transform into ANY useful level 1 pet from tier 1."},{"Level":2,"About":"Before battle: Transform into ANY useful level 1 pet from tier 2."},{"Level":3,"About":"Before battle: Transform into ANY useful level 1 pet from tier 3."}],"Id":"418","Name":"Iriomote Cat","NameId":"IriomoteCat","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +1 attack."},{"Level":2,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +2 attack."},{"Level":3,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +3 attack."}],"Id":"131","Name":"Kiwi","NameId":"Kiwi","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained perk: Gain +2 attack until next turn."},{"Level":2,"About":"Friendly gained perk: Gain +4 attack until next turn."},{"Level":3,"About":"Friendly gained perk: Gain +6 attack until next turn."}],"Id":"92","Name":"Ladybug","NameId":"Ladybug","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold next turn."},{"Level":2,"About":"Sell: Gain +2 gold next turn."},{"Level":3,"About":"Sell: Gain +3 gold next turn."}],"Id":"555","Name":"Lemming","NameId":"Lemming","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"650","Name":"Lion","NameId":"ChimeraLion","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"282","Name":"Lizard Tail","NameId":"LizardToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"183","Name":"Loyal Chinchilla","NameId":"ChinchillaToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Spend up to 1 gold and gain it back next turn."},{"Level":2,"About":"End turn: Spend up to 2 gold and gain it back next turn."},{"Level":3,"About":"End turn: Spend up to 3 gold and gain it back next turn."}],"Id":"239","Name":"Magpie","NameId":"Magpie","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Gain +1 health. Works 3 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Gain +2 health. Works 3 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Gain +3 health. Works 3 times per turn."}],"Id":"421","Name":"Malay Tapir","NameId":"MalayTapir","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Your next roll is free."},{"Level":2,"About":"Sell: Your next two rolls are free."},{"Level":3,"About":"Sell: Your next three rolls are free."}],"Id":"204","Name":"Marmoset","NameId":"Marmoset","Tier":1,"TierMax":2147483647,"Packs":["Pack3","Custom"],"PacksRequired":["Pack3","Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Attack for double damage."},{"Level":2,"About":"Attack for triple damage."},{"Level":3,"About":"Attack for quadruple damage."}],"Id":"384","Name":"Monty","NameId":"WhiteKillerRabbit","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Deal 1 damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 1 damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 1 damage to three random enemies."}],"Id":"47","Name":"Mosquito","NameId":"Mosquito","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give front-most friendly pet +2 attack."},{"Level":2,"About":"Start of battle: Give front-most friendly pet +4 attack."},{"Level":3,"About":"Start of battle: Give front-most friendly pet +6 attack."}],"Id":"141","Name":"Moth","NameId":"Moth","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Replace shop food with one free Apple."},{"Level":2,"About":"Sell: Replace shop food with one free Better Apple."},{"Level":3,"About":"Sell: Replace shop food with one free Best Apple."}],"Id":"48","Name":"Mouse","NameId":"Mouse","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend gained experience: Gain +1 attack until next turn."},{"Level":2,"About":"Friend gained experience: Gain +2 attack until next turn."},{"Level":3,"About":"Friend gained experience: Gain +3 attack until next turn."}],"Id":"362","Name":"Murmel","NameId":"Murloc","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Egg perk has regular effect."},{"Level":2,"About":"Egg perk has double effect."},{"Level":3,"About":"Egg perk has triple effect."}],"Id":"508","Name":"Nest","NameId":"Nest","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: If there are no friendly duplicates, gain +3 attack and +1 health."},{"Level":2,"About":"Start of battle: If there are no friendly duplicates, gain +6 attack and +2 health."},{"Level":3,"About":"Start of battle: If there are no friendly duplicates, gain +9 attack and +3 health."}],"Id":"757","Name":"Nudibranch","NameId":"Nudibranchs","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Give one random Faint pet in the shop +1 attack and +1 health."},{"Level":2,"About":"Sell: Give one random Faint pet in the shop +2 attack and +2 health."},{"Level":3,"About":"Sell: Give one random Faint pet in the shop +3 attack and +3 health."}],"Id":"187","Name":"Opossum","NameId":"Opossum","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Give one random friend +1 health."},{"Level":2,"About":"Buy: Give two random friends +1 health."},{"Level":3,"About":"Buy: Give three random friends +1 health."}],"Id":"51","Name":"Otter","NameId":"Otter","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Make adjacent perk-less pets Spooked."},{"Level":2,"About":"Faint: Make adjacent perk-less pets Spooked with double effect."},{"Level":3,"About":"Faint: Make adjacent perk-less pets Spooked with triple effect."}],"Id":"745","Name":"Peacock Spider","NameId":"PeacockSpider","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Gains mana: Gain 2 bonus mana. Works 2 times per turn."},{"Level":2,"About":"Gains mana: Gain 4 bonus mana. Works 2 times per turn."},{"Level":3,"About":"Gains mana: Gain 6 bonus mana. Works 2 times per turn."}],"Id":"627","Name":"Pengobble","NameId":"Pengobble","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 3 times per turn."}],"Id":"558","Name":"Pheasant","NameId":"Pheasant","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Perks"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 1 trumpet to deal 3 damage to one random enemy."},{"Level":2,"About":"Faint: Spend 1 trumpet to deal 3 damage to two random enemies."},{"Level":3,"About":"Faint: Spend 1 trumpet to deal 3 damage to three random enemies."}],"Id":"251","Name":"Pied Tamarin","NameId":"PiedTamarin","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"],"Random":true},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold."},{"Level":2,"About":"Sell: Gain +2 gold."},{"Level":3,"About":"Sell: Gain +3 gold."}],"Id":"59","Name":"Pig","NameId":"Pig","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Stock one free Bread Crumbs."},{"Level":2,"About":"Sell: Stock two free Bread Crumbs."},{"Level":3,"About":"Sell: Stock three free Bread Crumbs."}],"Id":"559","Name":"Pigeon","NameId":"Pigeon","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Stock one free Sleeping Pill."},{"Level":2,"About":"Sell: Stock two free Sleeping Pills."},{"Level":3,"About":"Sell: Stock three free Sleeping Pills."}],"Id":"149","Name":"Pillbug","NameId":"Pillbug","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give three random friends +1 attack and +1 health and remove this."},{"Level":2,"About":"Start of battle: Give three random friends +2 attack and +2 health and remove this."},{"Level":3,"About":"Start of battle: Give three random friends +3 attack and +3 health and remove this."}],"Id":"761","Name":"Pygmy Seahorse","NameId":"PygmySeahorse","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Choose one tier 1 food to stock at 1 gold."},{"Level":2,"About":"Sell: Choose one tier 1 food to stock at 1 gold. Stock two copies."},{"Level":3,"About":"Sell: Choose one tier 1 food to stock at 1 gold. Stock three copies."}],"Id":"704","Name":"Quoll","NameId":"Quoll","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Food","Perks"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"62","Name":"Ram","NameId":"Ram","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"638","Name":"Rock","NameId":"Rock","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Give it +1 health. Works 2 times per turn."},{"Level":2,"About":"Friend ahead hurt: Give it +2 health. Works 2 times per turn."},{"Level":3,"About":"Friend ahead hurt: Give it +3 health. Works 2 times per turn."}],"Id":"260","Name":"Silkmoth","NameId":"Silkmoth","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Sells for +2 gold extra, but lose 1 next turn."},{"Level":2,"About":"Sell: Sells for +4 gold extra, but lose 2 next turn."},{"Level":3,"About":"Sell: Sells for +6 gold extra, but lose 3 next turn."}],"Id":"566","Name":"Silverfish","NameId":"Silverfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"},{"Level":2,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"},{"Level":3,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"}],"Id":"71","Name":"Sloth","NameId":"Sloth","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"642","Name":"Smaller Slime","NameId":"SmallerSlime","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Smallest Slug."},{"Level":2,"About":"Faint: Summon one 2/2 Smallest Slug."},{"Level":3,"About":"Faint: Summon one 3/3 Smallest Slug."}],"Id":"270","Name":"Smaller Slug","NameId":"SlugToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"477","Name":"Smallest Slug","NameId":"SlugToken2","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"649","Name":"Snake","NameId":"ChimeraSnake","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Faint and summon one 4/2 Cracked Egg."},{"Level":2,"About":"Start of battle: Faint and summon one 8/4 Cracked Egg."},{"Level":3,"About":"Start of battle: Faint and summon one 12/6 Cracked Egg."}],"Id":"617","Name":"Sneaky Egg","NameId":"EggLadCovered","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Set attack to the current shop tier + 1."},{"Level":2,"About":"Start of turn: Set attack to the current shop tier + 2."},{"Level":3,"About":"Start of turn: Set attack to the current shop tier + 3."}],"Id":"571","Name":"Termite","NameId":"Termite","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give one random enemy +1 health."},{"Level":2,"About":"Faint: Give one random enemy +1 health."},{"Level":3,"About":"Faint: Give one random enemy +1 health."}],"Id":"713","Name":"Togian Babirusa","NameId":"TogianBabirusa","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Stock one free Seed Pile."},{"Level":2,"About":"Sell: Stock two free Seed Pile."},{"Level":3,"About":"Sell: Stock three free Seed Pile."}],"Id":"438","Name":"Tooth Billed Pigeon","NameId":"ToothBilledPigeon","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Jump to the front space and gain +1 experience."},{"Level":2,"About":"Start of battle: Jump to the front space and gain +2 experience."},{"Level":3,"About":"Start of battle: Jump to the front space and gain +3 experience."}],"Id":"379","Name":"Tsuchinoko","NameId":"Tsuchinoko","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Guard"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Make the nearest friend ahead Dazed."},{"Level":2,"About":"End turn: Make the two nearest friends ahead Dazed."},{"Level":3,"About":"End turn: Make the three nearest friends ahead Dazed."}],"Id":"746","Name":"Umbrella Bird","NameId":"LongWattledUmbrellabird","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Make one random perk-less enemy Toasty."},{"Level":2,"About":"Faint: Make two random perk-less enemies Toasty."},{"Level":3,"About":"Faint: Make three random perk-less enemies Toasty."}],"Id":"440","Name":"Volcano Snail","NameId":"VolcanoSnail","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friendly ate food: Give them +1 attack until next turn. Works 3 times per turn."},{"Level":2,"About":"Friendly ate food: Give them +2 attack until next turn. Works 3 times per turn."},{"Level":3,"About":"Friendly ate food: Give them +3 attack until next turn. Works 3 times per turn."}],"Id":"708","Name":"Weevil","NameId":"Weevil","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"646","Name":"Young Phoenix","NameId":"BabyPhoenix","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"86","Name":"Zombie Cricket","NameId":"CricketToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"31","Name":"Zombie Fly","NameId":"FlyToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Give three random friends +1 attack."},{"Level":2,"About":"Buy: Give three random friends +2 attack."},{"Level":3,"About":"Buy: Give three random friends +3 attack."}],"Id":"210","Name":"African Penguin","NameId":"AfricanPenguin","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Replace shop food with three random food and discount them by 1 gold."},{"Level":2,"About":"Sell: Replace shop food with three random food and discount them by 2 gold."},{"Level":3,"About":"Sell: Replace shop food with three random food and discount them by 3 gold."}],"Id":"686","Name":"Albino Squirrel","NameId":"AlbinoSquirrel","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the nearest friend ahead +1 attack on odd turns and +1 health on even."},{"Level":2,"About":"End turn: Give the nearest friend ahead +2 attack on odd turns and +2 health on even."},{"Level":3,"About":"End turn: Give the nearest friend ahead +3 attack on odd turns and +3 health on even."}],"Id":"811","Name":"Amphisbaena","NameId":"Amphisbaena","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Really angry!"},{"Level":2,"About":"Really angry!"},{"Level":3,"About":"Really angry!"}],"Id":"821","Name":"Angry Pygmy Hog","NameId":"AngryPygmyHog","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend jumped or transformed: Gain +3 health until next turn. Works 2 times per turn."},{"Level":2,"About":"Friend jumped or transformed: Gain +6 health until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend jumped or transformed: Gain +9 health until next turn. Works 2 times per turn."}],"Id":"394","Name":"Araripe Manakin","NameId":"AraripeManakin","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Guard"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Friendly attacked: Remove its Strawberry perk to deal 2 damage to the last enemy."},{"Level":2,"About":"Friendly attacked: Remove its Strawberry perk to deal 4 damage to the last enemy."},{"Level":3,"About":"Friendly attacked: Remove its Strawberry perk to deal 6 damage to the last enemy."}],"Id":"132","Name":"Atlantic Puffin","NameId":"AtlanticPuffin","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +1 experience."},{"Level":2,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +2 experience."},{"Level":3,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +3 experience."}],"Id":"537","Name":"Bass","NameId":"Bass","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Make one random enemy Weak. Works 1 time per battle."},{"Level":2,"About":"Before attack: Make one random enemy Weak. Works 2 times per battle."},{"Level":3,"About":"Before attack: Make one random enemy Weak. Works 3 times per battle."}],"Id":"87","Name":"Bat","NameId":"Bat","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/3 Dolphin in the back and give it Rice."},{"Level":2,"About":"Faint: Summon two 2/3 Dolphins in the back and give them Rice."},{"Level":3,"About":"Faint: Summon three 2/3 Dolphins in the back and give them Rice."}],"Id":"213","Name":"Beluga Sturgeon","NameId":"BelugaSturgeon","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Gain one free roll next turn."},{"Level":2,"About":"Faint: Gain two free rolls next turn."},{"Level":3,"About":"Faint: Gain three free rolls next turn."}],"Id":"334","Name":"Bigfoot","NameId":"Bigfoot","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend lost perk: Give it Garlic. Works 1 time per turn."},{"Level":2,"About":"Friend lost perk: Give it Garlic. Works 2 times per turn."},{"Level":3,"About":"Friend lost perk: Give it Garlic. Works 3 times per turn."}],"Id":"758","Name":"Bilby","NameId":"Bilby","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Gain +2 trumpets."},{"Level":2,"About":"Faint: Gain +4 trumpets."},{"Level":3,"About":"Faint: Gain +6 trumpets."}],"Id":"215","Name":"Black Necked Stilt","NameId":"BlackNeckedStilt","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Knock out: Give +1 health to one random friend. Triggers 2 times."},{"Level":2,"About":"Knock out: Give +1 health to one random friend. Triggers 4 times."},{"Level":3,"About":"Knock out: Give +1 health to one random friend. Triggers 6 times."}],"Id":"339","Name":"Chupacabra","NameId":"Chupacabra","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain health equal to 25% of the most healthy friend."},{"Level":2,"About":"Start of battle: Gain health equal to 50% of the most healthy friend."},{"Level":3,"About":"Start of battle: Gain health equal to 75% of the most healthy friend."}],"Id":"16","Name":"Crab","NameId":"Crab","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 1 time per battle."},{"Level":2,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 2 times per battle."},{"Level":3,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 3 times per battle."}],"Id":"404","Name":"Darwin\'s Fox","NameId":"DarwinsFox","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from one tier above."},{"Level":2,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from two tiers above."},{"Level":3,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from three tiers above."}],"Id":"768","Name":"Desert Rain Frog","NameId":"DesertRainFrog","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +4 health in battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +8 health in battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +12 health in battle."}],"Id":"220","Name":"Door Head Ant","NameId":"DoorHeadAnt","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Activate three friendly Strawberries."},{"Level":2,"About":"Faint: Activate three friendly Strawberries with double effect."},{"Level":3,"About":"Faint: Activate three friendly Strawberries with triple effect."}],"Id":"24","Name":"Dove","NameId":"Dove","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give the two left-most shop pets +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give the two left-most shop pets +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give the two left-most shop pets +3 attack and +3 health."}],"Id":"104","Name":"Dromedary","NameId":"Dromedary","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and deal 3 damage to the last enemy in battle."},{"Level":2,"About":"Empty front space: Jump to the front and deal 6 damage to the last enemy in battle."},{"Level":3,"About":"Empty front space: Jump to the front and deal 9 damage to the last enemy in battle."}],"Id":"341","Name":"Drop Bear","NameId":"DropBear","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 1 gold."},{"Level":2,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 2 gold."},{"Level":3,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 3 gold."}],"Id":"545","Name":"Dumbo Octopus","NameId":"DumboOctopus","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to the least healthy enemy for each food eaten this turn, up to 3 food."},{"Level":2,"About":"Faint: Deal 6 damage to the least healthy enemy for each food eaten this turn, up to 3 food."},{"Level":3,"About":"Faint: Deal 9 damage to the least healthy enemy for each food eaten this turn, up to 3 food."}],"Id":"721","Name":"Dung Beetle","NameId":"DungBeetle","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption","Food"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Give adjacent friends +1 attack. Works 5 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Give adjacent friends +2 attack. Works 5 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Give adjacent friends +3 attack. Works 5 times per turn."}],"Id":"407","Name":"European Mink","NameId":"EuropeanMink","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Feed one Corncob to the nearest friend ahead."},{"Level":2,"About":"End turn: Feed one Corncob to the nearest two friends ahead."},{"Level":3,"About":"End turn: Feed one Corncob to the nearest three friends ahead."}],"Id":"690","Name":"Farmer Chicken","NameId":"FarmerChicken","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Give the two nearest friends behind +1 attack and +1 health."},{"Level":2,"About":"Faint: Give the two nearest friends behind +2 attack and +2 health."},{"Level":3,"About":"Faint: Give the two nearest friends behind +3 attack and +3 health."}],"Id":"29","Name":"Flamingo","NameId":"Flamingo","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friend gained ailment: Give it Rice. Works 1 time per turn."},{"Level":2,"About":"Friend gained ailment: Give it Rice. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Give it Rice. Works 3 times per turn."}],"Id":"137","Name":"Frigatebird","NameId":"Frigatebird","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Make the first enemy Cold."},{"Level":2,"About":"Faint: Make the first enemy Cold twice for double effect."},{"Level":3,"About":"Faint: Make the first enemy Cold thrice for triple effect."}],"Id":"344","Name":"Frost Wolf","NameId":"FrostWolf","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +5 damage, once.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 2 damage to it."},{"Level":2,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 4 damage to it."},{"Level":3,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 6 damage to it."}],"Id":"695","Name":"Fruit Fly","NameId":"FruitFly","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give the nearest friend behind +2 health. Spend mana to give 1 more per mana."},{"Level":2,"About":"Faint: Give the nearest friend behind +4 health. Spend mana to give 2 more per mana."},{"Level":3,"About":"Faint: Give the nearest friend behind +6 health. Spend mana to give 3 more per mana."}],"Id":"345","Name":"Gargoyle","NameId":"Gargoyle","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Takes 3 less damage from abilities."},{"Level":2,"About":"Takes 6 less damage from abilities."},{"Level":3,"About":"Takes 9 less damage from abilities."}],"Id":"346","Name":"Ghost Kitten","NameId":"GhostKitten","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 1 time per battle."},{"Level":2,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 2 times per battle."},{"Level":3,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 3 times per battle."}],"Id":"800","Name":"Giant Squirrel","NameId":"GiantSquirrel","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Increase sell value by 1 gold."},{"Level":2,"About":"Start of turn: Increase sell value by 2 gold."},{"Level":3,"About":"Start of turn: Increase sell value by 3 gold."}],"Id":"121","Name":"Gold Fish","NameId":"GoldFish","Tier":2,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold. Triple if attack is at least 10."},{"Level":2,"About":"Sell: Gain +2 gold. Triple if attack is at least 10."},{"Level":3,"About":"Sell: Gain +3 gold. Triple if attack is at least 10."}],"Id":"634","Name":"Golden Beetle","NameId":"DwarvenBeetle","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Cycle","Gold"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Summon one 1/1 Guinea Pig."},{"Level":2,"About":"Buy: Summon one 2/2 Guinea Pig."},{"Level":3,"About":"Buy: Summon one 3/3 Guinea Pig."}],"Id":"109","Name":"Guinea Pig","NameId":"GuineaPig","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 2 damage to ALL pets."},{"Level":2,"About":"Faint: Deal 4 damage to ALL pets."},{"Level":3,"About":"Faint: Deal 6 damage to ALL pets."}],"Id":"37","Name":"Hedgehog","NameId":"Hedgehog","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Sell: Give friends +1 attack for each battle this has fought evenly spread."},{"Level":2,"About":"Sell: Give friends +2 attack for each battle this has fought evenly spread."},{"Level":3,"About":"Sell: Give friends +3 attack for each battle this has fought evenly spread."}],"Id":"234","Name":"Hercules Beetle","NameId":"HerculesBeetle","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: If current perk is tier 2 or lower, copy it to the Golden Retriever when summoned."},{"Level":2,"About":"Start of battle: If current perk is tier 4 or lower, copy it to the Golden Retriever when summoned."},{"Level":3,"About":"Start of battle: If current perk is tier 6 or lower, copy it to the Golden Retriever when summoned."}],"Id":"783","Name":"Hermit Crab","NameId":"HermitCrab","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for one friend of each tier."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for one friend of each tier."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for one friend of each tier."}],"Id":"726","Name":"Honduran White Bat","NameId":"HonduranWhiteBat","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Enemy summoned or pushed: Deal 2 damage to it."},{"Level":2,"About":"Enemy summoned or pushed: Deal 4 damage to it."},{"Level":3,"About":"Enemy summoned or pushed: Deal 6 damage to it."}],"Id":"147","Name":"Iguana","NameId":"Iguana","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it +1 attack. Double if it jumped. Works 3 times per battle."},{"Level":2,"About":"Before friend attacks: Give it +2 attack. Double if it jumped. Works 3 times per battle."},{"Level":3,"About":"Before friend attacks: Give it +3 attack. Double if it jumped. Works 3 times per battle."}],"Id":"353","Name":"Jackalope","NameId":"Jackalope","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend level-up: Gain +1 attack and +1 health."},{"Level":2,"About":"Friend level-up: Gain +2 attack and +2 health."},{"Level":3,"About":"Friend level-up: Gain +3 attack and +3 health."}],"Id":"122","Name":"Jellyfish","NameId":"Jellyfish","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Gain +1 attack and +1 health."},{"Level":2,"About":"Friend ahead attacks: Gain +2 attack and +2 health."},{"Level":3,"About":"Friend ahead attacks: Gain +3 attack and +3 health."}],"Id":"40","Name":"Kangaroo","NameId":"Kangaroo","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Friend hurt: Give it the Eucalyptus perk. Works 1 time per turn."},{"Level":2,"About":"Friend hurt: Give it the Eucalyptus perk. Works 2 times per turn."},{"Level":3,"About":"Friend hurt: Give it the Eucalyptus perk. Works 3 times per turn."}],"Id":"112","Name":"Koala","NameId":"Koala","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Lemur toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Lemur toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Lemur toy."}],"Id":"236","Name":"Lemur","NameId":"Lemur","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Summon one 3/1 Lizard Tail. Works 2 times per turn."},{"Level":2,"About":"Hurt: Summon one 6/2 Lizard Tail. Works 2 times per turn."},{"Level":3,"About":"Hurt: Summon one 9/3 Lizard Tail. Works 2 times per turn."}],"Id":"237","Name":"Lizard","NameId":"Lizard","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: Replace own ailment with +2 attack and +2 health."},{"Level":2,"About":"Before attack: Replace own ailment with +4 attack and +4 health."},{"Level":3,"About":"Before attack: Replace own ailment with +6 attack and +6 health."}],"Id":"724","Name":"Mandarinfish","NameId":"Mandarinfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Break friendly tier 2 or lower toy."},{"Level":2,"About":"Faint: Break friendly tier 4 or lower toy."},{"Level":3,"About":"Faint: Break friendly tier 6 or lower toy."}],"Id":"405","Name":"Mandrill","NameId":"Drill","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give adjacent friends +1 attack for every 4 gold spent this turn."},{"Level":2,"About":"Start of battle: Give adjacent friends +2 attack for every 4 gold spent this turn."},{"Level":3,"About":"Start of battle: Give adjacent friends +3 attack for every 4 gold spent this turn."}],"Id":"203","Name":"Meerkat","NameId":"Meerkat","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Gain ANY useful perk from the previous tier."},{"Level":2,"About":"Start of battle: Gain ANY useful perk from the previous tier with double effect."},{"Level":3,"About":"Start of battle: Gain ANY useful perk from the previous tier with triple effect."}],"Id":"700","Name":"Mink","NameId":"Mink","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Anyone gained ailment: Gain +1 attack and +1 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Anyone gained ailment: Gain +2 attack and +2 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Anyone gained ailment: Gain +3 attack and +3 health until next turn. Works 5 times per turn."}],"Id":"604","Name":"Mothman","NameId":"Mothman","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon one Crawler with 3 attack, and +1 health for each friend summoned this turn."},{"Level":2,"About":"Faint: Summon one Crawler with 6 attack, and +2 health for each friend summoned this turn."},{"Level":3,"About":"Faint: Summon one Crawler with 9 attack, and +3 health for each friend summoned this turn."}],"Id":"605","Name":"Nightcrawler","NameId":"NightCrawler","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +1 experience."},{"Level":2,"About":"Start of battle: Give the two front-most friends +1 experience."},{"Level":3,"About":"Start of battle: Give the three front-most friends +1 experience."}],"Id":"639","Name":"Ogopogo","NameId":"Ogopogo","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Make one random enemy Spooked and multiply the effect once for each roll this turn."},{"Level":2,"About":"Faint: Make one random enemy Spooked and multiply the effect twice for each roll this turn."},{"Level":3,"About":"Faint: Make one random enemy Spooked and multiply the effect thrice for each roll this turn."}],"Id":"725","Name":"Olm","NameId":"Olm","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments","Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Faint to give 50% attack and health to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Faint to give 100% attack and health to the nearest friend ahead."},{"Level":3,"About":"Start of battle: Faint to give 150% attack and health to the nearest friend ahead."}],"Id":"107","Name":"Panda","NameId":"Panda","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Hurt: Gain +3 attack."},{"Level":2,"About":"Hurt: Gain +6 attack."},{"Level":3,"About":"Hurt: Gain +9 attack."}],"Id":"54","Name":"Peacock","NameId":"Peacock","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Activate <b>End Turn</b> on one random tier 2 or lower friend."},{"Level":2,"About":"Faint: Activate <b>End Turn</b> on one random tier 4 or lower friend."},{"Level":3,"About":"Faint: Activate <b>End Turn</b> on one random tier 6 or lower friend."}],"Id":"732","Name":"Pink Robin","NameId":"PinkRobin","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Transform the nearest friend ahead into another pet from the same tier."},{"Level":2,"About":"Start of turn: Transform the nearest two friends ahead into other pets from the same tier."},{"Level":3,"About":"Start of turn: Transform the nearest three friends ahead into other pets from the same tier."}],"Id":"425","Name":"Proboscis Monkey","NameId":"ProboscisMonkey","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 5 attack and health."},{"Level":2,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 10 attack and health."},{"Level":3,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 15 attack and health."}],"Id":"427","Name":"Pygmy Hog","NameId":"PygmyHog","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":["Transform","Summon"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Dirty Rat up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."},{"Level":2,"About":"Faint: Summon two 1/1 Dirty Rats up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."},{"Level":3,"About":"Faint: Summon three 1/1 Dirty Rats up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."}],"Id":"57","Name":"Rat","NameId":"Rat","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give Strawberry perk and +2 attack to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Give Strawberry perk and +2 attack to the two nearest friends ahead."},{"Level":3,"About":"Start of battle: Give Strawberry perk and +2 attack to the three nearest friends ahead."}],"Id":"765","Name":"Roadrunner","NameId":"Roadrunner","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 2/3 level 1 Nest and give it Egg perk."},{"Level":2,"About":"Start of battle: Summon one 4/6 level 2 Nest and give it Egg perk."},{"Level":3,"About":"Start of battle: Summon one 6/9 level 3 Nest and give it Egg perk."}],"Id":"255","Name":"Robin","NameId":"Robin","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before attack: Deal 2 damage to target, once.","CustomArchetypes":["Cycle"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: If outnumbered, gain +2 attack and +2 health. Works 3 times per turn."},{"Level":2,"About":"Before attack: If outnumbered, gain +4 attack and +4 health. Works 3 times per turn."},{"Level":3,"About":"Before attack: If outnumbered, gain +6 attack and +6 health. Works 3 times per turn."}],"Id":"430","Name":"Saker Falcon","NameId":"SakerFalcon","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +1 health for each level of each Sell friend."},{"Level":2,"About":"Start of battle: Gain +2 attack and +2 health for each level of each Sell friend."},{"Level":3,"About":"Start of battle: Gain +3 attack and +3 health for each level of each Sell friend."}],"Id":"164","Name":"Salamander","NameId":"Salamander","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the highest attack friend -1 attack and +2 health."},{"Level":2,"About":"End turn: Give the two highest attack friends -1 attack and +2 health."},{"Level":3,"About":"End turn: Give the three highest attack friends -1 attack and +2 health."}],"Id":"431","Name":"Saola","NameId":"Saola","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +2 health until next turn."},{"Level":2,"About":"Friend summoned: Give it +4 health until next turn."},{"Level":3,"About":"Friend summoned: Give it +6 health until next turn."}],"Id":"191","Name":"Sea Turtle","NameId":"SeaTurtle","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Remove 5 health from the first enemy."},{"Level":2,"About":"Faint: Remove 5 health from the first two enemies."},{"Level":3,"About":"Faint: Remove 5 health from the first three enemies."}],"Id":"258","Name":"Sea Urchin","NameId":"SeaUrchin","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Push the last enemy one space forward."},{"Level":2,"About":"Start of battle: Push the last enemy two spaces forward."},{"Level":3,"About":"Start of battle: Push the last enemy three spaces forward."}],"Id":"152","Name":"Seahorse","NameId":"Seahorse","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend faints: If it had a Strawberry, summon one 2/2 friend in its place. Works 2 times per turn."},{"Level":2,"About":"Friend faints: If it had a Strawberry, summon one 4/4 friend in its place. Works 2 times per turn."},{"Level":3,"About":"Friend faints: If it had a Strawberry, summon one 6/6 friend in its place. Works 2 times per turn."}],"Id":"803","Name":"Shima Enaga","NameId":"ShimaEnaga","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend sold: Give one random friend +1 health. Works 3 times per turn."},{"Level":2,"About":"Friend sold: Give one random friend +2 health. Works 3 times per turn."},{"Level":3,"About":"Friend sold: Give one random friend +3 health. Works 3 times per turn."}],"Id":"67","Name":"Shrimp","NameId":"Shrimp","Tier":2,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: If you lost last battle, give the three nearest friends ahead +1 attack."},{"Level":2,"About":"End turn: If you lost last battle, give the three nearest friends ahead +2 attack."},{"Level":3,"About":"End turn: If you lost last battle, give the three nearest friends ahead +3 attack."}],"Id":"72","Name":"Snail","NameId":"Snail","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 adventurous toy."},{"Level":2,"About":"Buy: Choose one level 2 adventurous toy."},{"Level":3,"About":"Buy: Choose one level 3 adventurous toy."}],"Id":"376","Name":"Sphinx","NameId":"Sphinx","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one tier 3 pet as a 2/2 level 1."},{"Level":2,"About":"Faint: Summon one tier 3 pet as a 4/4 level 2."},{"Level":3,"About":"Faint: Summon one tier 3 pet as a 6/6 level 3."}],"Id":"74","Name":"Spider","NameId":"Spider","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Stock one random canned ailment."},{"Level":2,"About":"Start of turn: Stock two random canned ailments to choose from."},{"Level":3,"About":"Start of turn: Stock three random canned ailments to choose from."}],"Id":"735","Name":"Spotted Handfish","NameId":"SpottedHandfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 1 trumpet to make the first enemy Inked."},{"Level":2,"About":"Faint: Spend 1 trumpet to make the two first enemies Inked."},{"Level":3,"About":"Faint: Spend 1 trumpet to make the three first enemies Inked."}],"Id":"177","Name":"Squid","NameId":"Squid","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Summon one level 1 pet from your current tier as a 1/1."},{"Level":2,"About":"Sell: Summon one level 2 pet from your current tier as a 1/1."},{"Level":3,"About":"Sell: Summon one level 3 pet from your current tier as a 1/1."}],"Id":"263","Name":"Stoat","NameId":"Stoat","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle","Mvp"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon ANY one level 1 pet from the previous shop tier as a 2/2."},{"Level":2,"About":"Faint: Summon ANY one level 2 pet from the previous shop tier as a 4/4."},{"Level":3,"About":"Faint: Summon ANY one level 3 pet from the previous shop tier as a 6/6."}],"Id":"136","Name":"Stork","NameId":"Stork","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Gain +1 gold."},{"Level":2,"About":"Start of turn: Gain +2 gold."},{"Level":3,"About":"Start of turn: Gain +3 gold."}],"Id":"76","Name":"Swan","NameId":"Swan","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained perk: Give two random friends +1 health until next turn."},{"Level":2,"About":"Friendly gained perk: Give two random friends +2 health until next turn."},{"Level":3,"About":"Friendly gained perk: Give two random friends +3 health until next turn."}],"Id":"99","Name":"Tabby Cat","NameId":"TabbyCat","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform into a level 1 Frog and gain +2 experience."},{"Level":2,"About":"Start of battle: Transform into a level 1 Frog and gain +4 experience."},{"Level":3,"About":"Start of battle: Transform into a level 1 Frog and gain +6 experience."}],"Id":"805","Name":"Tadpole","NameId":"Tadpole","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Transform","Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform into a level 1 Weasel."},{"Level":2,"About":"Start of battle: Transform into a level 2 Weasel."},{"Level":3,"About":"Start of battle: Transform into a level 3 Weasel."}],"Id":"435","Name":"Taita Shrew","NameId":"TaitaShrew","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Gold"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/2 African Wild Dog that jump-attacks the second enemy."},{"Level":2,"About":"Faint: Summon one 6/4 African Wild Dog that jump-attacks the second enemy."},{"Level":3,"About":"Faint: Summon one 9/6 African Wild Dog that jump-attacks the second enemy."}],"Id":"715","Name":"Takhi","NameId":"Takhi","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to one random enemy and prioritize those with ailments."},{"Level":2,"About":"Faint: Deal 6 damage to one random enemy and prioritize those with ailments."},{"Level":3,"About":"Faint: Deal 9 damage to one random enemy and prioritize those with ailments."}],"Id":"731","Name":"Thorny Dragon","NameId":"ThornyDragon","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the second nearest friend ahead +3 mana."},{"Level":2,"About":"Start of battle: Give the second nearest friend ahead +6 mana."},{"Level":3,"About":"Start of battle: Give the second nearest friend ahead +9 mana."}],"Id":"610","Name":"Thunderbird","NameId":"Thunderbird","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Summon one level 1 Microwave Oven."},{"Level":2,"About":"Start of turn: Summon one level 2 Microwave Oven."},{"Level":3,"About":"Start of turn: Summon one level 3 Microwave Oven."}],"Id":"707","Name":"Vervet","NameId":"Vervet","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Toys","Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Gains mana: Deal 1 damage to one random enemy. Triple on the first trigger each battle."},{"Level":2,"About":"Gains mana: Deal 2 damage to one random enemy. Triple on the first trigger each battle."},{"Level":3,"About":"Gains mana: Deal 3 damage to one random enemy. Triple on the first trigger each battle."}],"Id":"382","Name":"Warf","NameId":"Warg","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"],"Random":true},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Meat Bone to the friend ahead."},{"Level":2,"About":"Start of battle: Give Meat Bone to the friend ahead with double effect."},{"Level":3,"About":"Start of battle: Give Meat Bone to the friend ahead with triple effect."}],"Id":"441","Name":"White-Bellied Heron","NameId":"WhiteBelliedHeron","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 1."},{"Level":2,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 2."},{"Level":3,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 3."}],"Id":"207","Name":"Wombat","NameId":"Wombat","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Stock one 2-gold Apple."},{"Level":2,"About":"Start of turn: Stock one 2-gold Better Apple."},{"Level":3,"About":"Start of turn: Stock one 2-gold Best Apple."}],"Id":"82","Name":"Worm","NameId":"Worm","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friendly level-up: Gain 1 extra shop reward."},{"Level":2,"About":"Friendly level-up: Gain 2 extra shop reward."},{"Level":3,"About":"Friendly level-up: Gain 3 extra shop reward."}],"Id":"385","Name":"Wyvern","NameId":"Wyvern","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Take 1 damage and gain +2 attack."},{"Level":2,"About":"End turn: Take 2 damage and gain +4 attack."},{"Level":3,"About":"End turn: Take 3 damage and gain +6 attack."}],"Id":"163","Name":"Yak","NameId":"Yak","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Enemy summoned: Gain +1 attack and +3 health."},{"Level":2,"About":"Enemy summoned: Gain +2 attack and +6 health."},{"Level":3,"About":"Enemy summoned: Gain +3 attack and +9 health."}],"Id":"193","Name":"Aardvark","NameId":"Aardvark","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack permanently and jump-attack the highest attack enemy."},{"Level":2,"About":"Start of battle: Gain +2 attack permanently and jump-attack the highest attack enemy."},{"Level":3,"About":"Start of battle: Gain +3 attack permanently and jump-attack the highest attack enemy."}],"Id":"389","Name":"Amami Rabbit","NameId":"AmamiRabbit","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 level 3 Ant."},{"Level":2,"About":"Faint: Summon two 1/1 level 3 Ants."},{"Level":3,"About":"Faint: Summon three 1/1 level 3 Ants."}],"Id":"105","Name":"Anteater","NameId":"Anteater","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Before any attack: If opponent has duplicates, deal 2 damage to all enemies. Works 1 time per battle."},{"Level":2,"About":"Before any attack: If opponent has duplicates, deal 4 damage to all enemies. Works 1 time per battle."},{"Level":3,"About":"Before any attack: If opponent has duplicates, deal 6 damage to all enemies. Works 1 time per battle."}],"Id":"377","Name":"Axehandle Hound","NameId":"AxehandleHound","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Give one random friend from the current or higher shop tier +1 attack and +1 health."},{"Level":2,"About":"End turn: Give one random friend from the current or higher shop tier +2 attack and +2 health."},{"Level":3,"About":"End turn: Give one random friend from the current or higher shop tier +3 attack and +3 health."}],"Id":"171","Name":"Baboon","NameId":"Baboon","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Remove 4 health from the first enemy."},{"Level":2,"About":"Faint: Remove 4 health from the first two enemies."},{"Level":3,"About":"Faint: Remove 4 health from the first three enemies."}],"Id":"822","Name":"Baby Urchin","NameId":"BabySeaUrchin","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 50% attack damage to adjacent pets."},{"Level":2,"About":"Faint: Deal 100% attack damage to adjacent pets."},{"Level":3,"About":"Faint: Deal 150% attack damage to adjacent pets."}],"Id":"2","Name":"Badger","NameId":"Badger","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"End turn: If you did not roll this turn, gain +1 experience."},{"Level":2,"About":"End turn: If you did not roll this turn, gain +2 experience."},{"Level":3,"About":"End turn: If you did not roll this turn, gain +3 experience."}],"Id":"796","Name":"Barnacle","NameId":"Barnacle","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Levels"],"Random":true},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health."},{"Level":2,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health. Double on friendly pets."},{"Level":3,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health. Triple on friendly pets."}],"Id":"332","Name":"Basilisk","NameId":"Basilisk","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Transform","Disruption"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Honey perk to all pets within one space."},{"Level":2,"About":"Faint: Give Honey perk to all pets within two spaces."},{"Level":3,"About":"Faint: Give Honey perk to all pets within three spaces."}],"Id":"140","Name":"Bear","NameId":"Bear","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Faint: Summon one 1/1 Bee.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend lost perk: Give it the Guava perk. Works on one friend per turn."},{"Level":2,"About":"Friend lost perk: Give it the Guava perk. Works on two different friends per turn."},{"Level":3,"About":"Friend lost perk: Give it the Guava perk. Works on three different friends per turn."}],"Id":"214","Name":"Betta Fish","NameId":"BettaFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 3 damage, and attack for +3 damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for each friend behind and give friends ahead +1 mana."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for each friend behind and give friends ahead +2 mana."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for each friend behind and give friends ahead +3 mana."}],"Id":"728","Name":"Blue Dragon","NameId":"GlaucusAtlanticus","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4","Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Trumpets"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend transformed: If it is ahead, give it +3 attack until next turn. Otherwise give health."},{"Level":2,"About":"Friend transformed: If it is ahead, give it +6 attack until next turn. Otherwise give health."},{"Level":3,"About":"Friend transformed: If it is ahead, give it +9 attack until next turn. Otherwise give health."}],"Id":"400","Name":"Blue-Throated Macaw","NameId":"BlueThroatedMacaw","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +2 attack and Melon perk in battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +4 attack and Melon perk in battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +6 attack and Melon perk in battle."}],"Id":"349","Name":"Brain Cramp","NameId":"Headcrab","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Guard","Perks"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Randomly redistribute stats of the highest health enemy."},{"Level":2,"About":"Start of battle: Randomly redistribute stats of the two highest health enemies."},{"Level":3,"About":"Start of battle: Randomly redistribute stats of the three highest health enemies."}],"Id":"798","Name":"Brazillian Treehopper","NameId":"BrazillianTreehopper","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before friend attacks: Replace 3 mana on it with +2 attack and +2 health."},{"Level":2,"About":"Before friend attacks: Replace 3 mana on it with +4 attack and +4 health."},{"Level":3,"About":"Before friend attacks: Replace 3 mana on it with +6 attack and +6 health."}],"Id":"786","Name":"Caladrius","NameId":"Caladrius","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Spend mana to remove 1 health per mana from the two most healthy enemies."},{"Level":2,"About":"Faint: Spend mana to remove 2 health per mana from the two most healthy enemies."},{"Level":3,"About":"Faint: Spend mana to remove 3 health per mana from the two most healthy enemies."}],"Id":"336","Name":"Calygreyhound","NameId":"Calygreyhound","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Give the nearest friend behind +1 attack and +2 health."},{"Level":2,"About":"Hurt: Give the nearest friend behind +2 attack and +4 health."},{"Level":3,"About":"Hurt: Give the nearest friend behind +3 attack and +6 health."}],"Id":"10","Name":"Camel","NameId":"Camel","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Roll & Sell: Give newly rolled shop pets +1 attack and +1 health."},{"Level":2,"About":"Roll & Sell: Give newly rolled shop pets +2 attack and +2 health."},{"Level":3,"About":"Roll & Sell: Give newly rolled shop pets +3 attack and +3 health."}],"Id":"154","Name":"Capybara","NameId":"Capybara","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 1 gold.","FinePrint":"Skips over perks from locked tiers."},{"Level":2,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 2 gold.","FinePrint":"Skips over perks from locked tiers."},{"Level":3,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 3 gold.","FinePrint":"Skips over perks from locked tiers."}],"Id":"539","Name":"Cardinal","NameId":"Cardinal","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained strawberry: Gain +1 health. Also gain +1 attack until next turn."},{"Level":2,"About":"Friendly gained strawberry: Gain +2 health. Also gain +2 attack until next turn."},{"Level":3,"About":"Friendly gained strawberry: Gain +3 health. Also gain +3 attack until next turn."}],"Id":"133","Name":"Cassowary","NameId":"Cassowary","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend bought: Gain +1 attack and +1 health times its tier until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend bought: Gain +2 attack and +2 health times its tier until next turn. Works 1 time per turn."},{"Level":3,"About":"Friend bought: Gain +3 attack and +3 health times its tier until next turn. Works 1 time per turn."}],"Id":"540","Name":"Centipede","NameId":"Centipede","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Knock out the nearest friend ahead and stock one free Bacon."},{"Level":2,"About":"End turn: Knock out the nearest friend ahead and stock two free Bacons."},{"Level":3,"About":"End turn: Knock out the nearest friend ahead and stock three free Bacons."}],"Id":"651","Name":"Deer Lord","NameId":"Wendigo","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 5/5 friend if able. Otherwise give friends +1 attack and +1 health."},{"Level":2,"About":"Start of battle: Summon one 10/10 friend if able. Otherwise give friends +2 attack and +2 health."},{"Level":3,"About":"Start of battle: Summon one 15/15 friend if able. Otherwise give friends +3 attack and +3 health."}],"Id":"543","Name":"Dimetrodon","NameId":"Dimetrodon","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give 50% of attack to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Give 100% of attack to the nearest friend ahead."},{"Level":3,"About":"Start of battle: Give 150% of attack to the nearest friend ahead."}],"Id":"21","Name":"Dodo","NameId":"Dodo","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Gain +2 attack and +1 health until next turn."},{"Level":2,"About":"Friend summoned: Gain +4 attack and +2 health until next turn."},{"Level":3,"About":"Friend summoned: Gain +6 attack and +3 health until next turn."}],"Id":"22","Name":"Dog","NameId":"Dog","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal 4 damage to the lowest health enemy."},{"Level":2,"About":"Start of battle: Deal 4 damage to the lowest health enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 4 damage to the lowest health enemy. Triggers 3 times."}],"Id":"23","Name":"Dolphin","NameId":"Dolphin","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give friends that aren\'t from your pack +2 attack and +2 health."},{"Level":2,"About":"Faint: Give friends that aren\'t from your pack +4 attack and +4 health."},{"Level":3,"About":"Faint: Give friends that aren\'t from your pack +6 attack and +6 health."}],"Id":"544","Name":"Dugong","NameId":"Dugong","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Gain +50% health."},{"Level":2,"About":"Start of battle: Gain +100% health."},{"Level":3,"About":"Start of battle: Gain +150% health."}],"Id":"120","Name":"Eel","NameId":"Eel","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"After attack: Deal 1 damage to the nearest friend behind."},{"Level":2,"About":"After attack: Deal 1 damage to the nearest friend behind. Triggers 2 times."},{"Level":3,"About":"After attack: Deal 1 damage to the nearest friend behind. Triggers 3 times."}],"Id":"28","Name":"Elephant","NameId":"Elephant","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Sell: Give 33% attack and health to the leftmost shop pet."},{"Level":2,"About":"Sell: Give 66% attack and health to the leftmost shop pet."},{"Level":3,"About":"Sell: Give 100% attack and health to the leftmost shop pet."}],"Id":"197","Name":"Emperor Tamarin","NameId":"EmperorTamarin","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Feed adjacent friends one Corncob with double effect."},{"Level":2,"About":"Start of battle: Feed adjacent friends two Corncobs with double effect."},{"Level":3,"About":"Start of battle: Feed adjacent friends three Corncobs with double effect."}],"Id":"694","Name":"Farmer Pig","NameId":"FarmerPig","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Make the most healthy enemy Weak."},{"Level":2,"About":"Faint: Make the two most healthy enemies Weak."},{"Level":3,"About":"Faint: Make the three most healthy enemies Weak."}],"Id":"225","Name":"Flea","NameId":"Flea","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments","Mvp"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: If in battle, give it +2 experience. Works 2 times per turn."},{"Level":2,"About":"Friend summoned: If in battle, give it +4 experience. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: If in battle, give it +6 experience. Works 2 times per turn."}],"Id":"226","Name":"Flying Fish","NameId":"FlyingFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friendly toy broke: Gain +2 attack and re-summon the toy at up to level 1."},{"Level":2,"About":"Friendly toy broke: Gain +4 attack and re-summon the toy at up to level 2."},{"Level":3,"About":"Friendly toy broke: Gain +6 attack and re-summon the toy at up to level 3."}],"Id":"227","Name":"Flying Squirrel","NameId":"FlyingSquirrel","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Buy: Give future shop pets from the next tier permanent +2 health."},{"Level":2,"About":"Buy: Give future shop pets from the next tier permanent +4 health."},{"Level":3,"About":"Buy: Give future shop pets from the next tier permanent +6 health."}],"Id":"625","Name":"Foo Dog","NameId":"FuLion","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Rambutan perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Rambutan perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Rambutan perk to the three nearest friends behind."}],"Id":"653","Name":"Fur-Bearing Trout","NameId":"FurBearingTrout","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before attack: Gain +3 mana.","CustomArchetypes":["Mana","Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Remove the highest tier perk from one enemy."},{"Level":2,"About":"Start of battle: Remove the highest tier perks from two enemies."},{"Level":3,"About":"Start of battle: Remove the highest tier perks from three enemies."}],"Id":"740","Name":"Gerenuk","NameId":"Gerenuk","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Gharial toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Gharial toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Gharial toy."}],"Id":"231","Name":"Gharial","NameId":"Gharial","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Give the nearest friend ahead +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give the nearest two friends ahead +1 attack and +1 health."},{"Level":3,"About":"Start of turn: Give the nearest three friends ahead +1 attack and +1 health."}],"Id":"33","Name":"Giraffe","NameId":"Giraffe","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Anyone hurt: If nobody has attacked, gain +2 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Anyone hurt: If nobody has attacked, gain +4 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Anyone hurt: If nobody has attacked, gain +6 health until next turn. Works 5 times per turn."}],"Id":"697","Name":"Great Potoo","NameId":"GreatPotoo","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 toy from Griffin\'s collection."},{"Level":2,"About":"Buy: Choose one level 2 toy from Griffin\'s collection."},{"Level":3,"About":"Buy: Choose one level 3 toy from Griffin\'s collection."}],"Id":"348","Name":"Griffin","NameId":"Griffin","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Gain +2 trumpets."},{"Level":2,"About":"Hurt: Gain +4 trumpets."},{"Level":3,"About":"Hurt: Gain +6 trumpets."}],"Id":"228","Name":"Guineafowl","NameId":"FowlBird","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Hurt"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Copy a useful food perk from one random enemy. Works 1 time per battle."},{"Level":2,"About":"Before attack: Copy a useful food perk from one random enemy. Works 2 times per battle."},{"Level":3,"About":"Before attack: Copy a useful food perk from one random enemy. Works 3 times per battle."}],"Id":"551","Name":"Hare","NameId":"Hare","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the nearest friend ahead +3 attack and +3 health until next turn.","FinePrint":"Will give permanent stats at level 2."},{"Level":2,"About":"End turn: Give the nearest friend ahead +2 attack and +2 health.","FinePrint":"Will give experience at level 3."},{"Level":3,"About":"End turn: Give the nearest friend ahead +1 experience."}],"Id":"91","Name":"Hatching Chick","NameId":"HatchingChick","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff","Levels","Mvp"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 4/3 Ethiopian Wolf."},{"Level":2,"About":"Faint: Summon two 4/3 Ethiopian Wolves."},{"Level":3,"About":"Faint: Summon three 4/3 Ethiopian Wolves."}],"Id":"717","Name":"Hirola","NameId":"Hirola","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 2 damage to the first and last enemy."},{"Level":2,"About":"Faint: Deal 4 damage to the first and last enemy."},{"Level":3,"About":"Faint: Deal 6 damage to the first and last enemy."}],"Id":"235","Name":"Hoopoe Bird","NameId":"HoopoeBird","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 1 gold."},{"Level":2,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 2 gold."},{"Level":3,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 3 gold."}],"Id":"736","Name":"Jewel Caterpillar","NameId":"JewelCaterpillar","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Deal 1 damage to the nearest friend ahead and gain damage as health."},{"Level":2,"About":"End turn: Deal 2 damage to the nearest friend ahead and gain damage as health."},{"Level":3,"About":"End turn: Deal 3 damage to the nearest friend ahead and gain damage as health."}],"Id":"165","Name":"Leech","NameId":"Leech","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt","Mvp"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Level-up: Gain +2 attack and +2 health now and +2 gold next turn."},{"Level":2,"About":"Level-up: Gain +4 attack and +4 health now and +4 gold next turn."},{"Level":3,"About":"No ability."}],"Id":"623","Name":"Lucky Cat","NameId":"LuckyCat","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +2 mana for each roll this turn, up to 3 rolls."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +4 mana for each roll this turn, up to 3 rolls."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +6 mana for each roll this turn, up to 3 rolls."}],"Id":"635","Name":"Mana Hound","NameId":"ManaHound","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Roll"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make one tier 2 or lower enemy Dazed and prioritize <b>Faint</b> pets."},{"Level":2,"About":"Start of battle: Make one tier 4 or lower enemy Dazed and prioritize <b>Faint</b> pets."},{"Level":3,"About":"Start of battle: Make one tier 6 or lower enemy Dazed and prioritize <b>Faint</b> pets."}],"Id":"357","Name":"Mandrake","NameId":"Mandrake","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Remove the two nearest friendly perks to summon one 6/6 Mole."},{"Level":2,"About":"Faint: Remove the two nearest friendly perks to summon one 12/12 Mole."},{"Level":3,"About":"Faint: Remove the two nearest friendly perks to summon one 18/18 Mole."}],"Id":"168","Name":"Mole","NameId":"Mole","Tier":3,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Anyone behind hurt: Give two random friendly pets +1 attack and +2 health. Works 2 times per battle."},{"Level":2,"About":"Anyone behind hurt: Give two random friendly pets +2 attack and +4 health. Works 2 times per battle."},{"Level":3,"About":"Anyone behind hurt: Give two random friendly pets +3 attack and +6 health. Works 2 times per battle."}],"Id":"422","Name":"Monkey-Faced Bat","NameId":"MonkeyFacedBat","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain +1 attack and +2 health until next turn."},{"Level":2,"About":"Friend ahead faints: Gain +2 attack and +4 health until next turn."},{"Level":3,"About":"Friend ahead faints: Gain +3 attack and +6 health until next turn."}],"Id":"245","Name":"Musk Ox","NameId":"MuskOx","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Roll: Gain +1 attack and +1 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Roll: Gain +2 attack and +2 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Roll: Gain +3 attack and +3 health until next turn. Works 5 times per turn."}],"Id":"130","Name":"Okapi","NameId":"Okapi","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give the lowest health friendly pet +3 health."},{"Level":2,"About":"End turn: Give the lowest health friendly pet +6 health."},{"Level":3,"About":"End turn: Give the lowest health friendly pet +9 health."}],"Id":"157","Name":"Orangutan","NameId":"Orangutan","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/1 Groundhog."},{"Level":2,"About":"Faint: Summon two 2/1 Groundhogs."},{"Level":3,"About":"Faint: Summon three 2/1 Groundhogs."}],"Id":"247","Name":"Osprey","NameId":"Osprey","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Roll: Give new shop pets +1 attack and +1 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."},{"Level":2,"About":"Roll: Give new shop pets +2 attack and +2 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."},{"Level":3,"About":"Roll: Give new shop pets +3 attack and +3 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."}],"Id":"364","Name":"Ouroboros","NameId":"Ouroboros","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Summon one level 1 Mouse."},{"Level":2,"About":"Start of turn: Summon one level 2 Mouse."},{"Level":3,"About":"Start of turn: Summon one level 3 Mouse."}],"Id":"95","Name":"Owl","NameId":"Owl","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle","Mvp"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 1 time per turn."},{"Level":2,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 2 times per turn."},{"Level":3,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 3 times per turn."}],"Id":"52","Name":"Ox","NameId":"Ox","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy."},{"Level":2,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy with double effect."},{"Level":3,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy with triple effect."}],"Id":"701","Name":"Pangasius","NameId":"Pangasius","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: If you have a toy, give the nearest friend behind +4 health."},{"Level":2,"About":"Faint: If you have a toy, give the nearest friend behind +8 health."},{"Level":3,"About":"Faint: If you have a toy, give the nearest friend behind +12 health."}],"Id":"249","Name":"Pangolin","NameId":"Pangolin","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +4 trumpets and summon the Golden Retriever immediately."},{"Level":2,"About":"Faint: Gain +8 trumpets and summon the Golden Retriever immediately."},{"Level":3,"About":"Faint: Gain +12 trumpets and summon the Golden Retriever immediately."}],"Id":"733","Name":"Patagonian Mara","NameId":"PatagonianMara","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Summon"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Knock out: Feed the nearest friend behind with one Better Apple."},{"Level":2,"About":"Knock out: Feed the nearest friend behind with two Better Apples."},{"Level":3,"About":"Knock out: Feed the nearest friend behind with three Better Apples."}],"Id":"560","Name":"Pony","NameId":"Pony","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Deal 3 damage directly back."},{"Level":2,"About":"Hurt: Deal 6 damage directly back."},{"Level":3,"About":"Hurt: Deal 9 damage directly back."}],"Id":"169","Name":"Porcupine","NameId":"Porcupine","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +1 experience."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +2 experience."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +3 experience."}],"Id":"145","Name":"Pug","NameId":"Pug","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 3 times per turn."}],"Id":"744","Name":"Purple Frog","NameId":"PurpleFrog","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Five enemy attacks: Deal 33% of health as damage to the least healthy enemy."},{"Level":2,"About":"Five enemy attacks: Deal 33% of health as damage to the two least healthy enemies."},{"Level":3,"About":"Five enemy attacks: Deal 33% of health as damage to the three least healthy enemies."}],"Id":"426","Name":"Pygmy Hippo","NameId":"PygmyHippo","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Transformed: Give front-most friend +2 attack and +2 health. Double in battle."},{"Level":2,"About":"Transformed: Give front-most friend +4 attack and +4 health. Double in battle."},{"Level":3,"About":"Transformed: Give front-most friend +6 attack and +6 health. Double in battle."}],"Id":"702","Name":"Quail","NameId":"Quail","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Eats food: Transform and give front-most friend +2 attack and +2 health. Double in battle."},{"Level":2,"About":"Eats food: Transform and give front-most friend +4 attack and +4 health. Double in battle."},{"Level":3,"About":"Eats food: Transform and give front-most friend +6 attack and +6 health. Double in battle."}],"Id":"778","Name":"Quail Chick","NameId":"QuailChick","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Transform","Food"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Bee summoned: Give it +3 attack and +3 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"},{"Level":2,"About":"Bee summoned: Give it +6 attack and +6 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"},{"Level":3,"About":"Bee summoned: Give it +9 attack and +9 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"}],"Id":"703","Name":"Queen Bee","NameId":"QueenBee","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give the pet that knocked this out and its friends +1 attack and +1 health."},{"Level":2,"About":"Faint: Give the pet that knocked this out and its friends +2 attack and +2 health."},{"Level":3,"About":"Faint: Give the pet that knocked this out and its friends +3 attack and +3 health."}],"Id":"751","Name":"Quetzalcoatlus","NameId":"Quetzalcoatlus","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Friendly ate food: Give them +1 health. Works 3 times per turn."},{"Level":2,"About":"Friendly ate food: Give them +2 health. Works 3 times per turn."},{"Level":3,"About":"Friendly ate food: Give them +3 health. Works 3 times per turn."}],"Id":"60","Name":"Rabbit","NameId":"Rabbit","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Transform two friends ahead into ANY useful level 1 <b>Hurt</b> pets from tier 3 or lower."},{"Level":2,"About":"Start of battle: Transform two friends ahead into ANY useful level 2 <b>Hurt</b> pets from tier 3 or lower."},{"Level":3,"About":"Start of battle: Transform two friends ahead into ANY useful level 3 <b>Hurt</b> pets from tier 3 or lower."}],"Id":"429","Name":"Roloway Monkey","NameId":"RolowayMonkey","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Hurt"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Three enemies faint: Deal 4 damage to one random enemy."},{"Level":2,"About":"Three enemies faint: Deal 8 damage to one random enemy."},{"Level":3,"About":"Three enemies faint: Deal 12 damage to one random enemy."}],"Id":"256","Name":"Royal Flycatcher","NameId":"RoyalFlycatcher","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 1 time per turn."},{"Level":2,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 2 times per turn."},{"Level":3,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 3 times per turn."}],"Id":"531","Name":"Sage-Grouse","NameId":"GreaterSageGrouse","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 1 copy up front for the opponent on faint."},{"Level":2,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 2 copy up front for the opponent on faint."},{"Level":3,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 3 copy up front for the opponent on faint."}],"Id":"763","Name":"Sarcastic Fringehead","NameId":"SarcasticFringehead","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon two 2/2 Rams."},{"Level":2,"About":"Faint: Summon two 4/4 Rams."},{"Level":3,"About":"Faint: Summon two 6/6 Rams."}],"Id":"68","Name":"Sheep","NameId":"Sheep","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Friend gained ailment: Give it a random tier 1 perk. Works 2 times per turn."},{"Level":2,"About":"Friend gained ailment: Give it a random tier 2 perk. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Give it a random tier 3 perk. Works 2 times per turn."}],"Id":"722","Name":"Silkie Chicken","NameId":"SilkieChicken","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give one random friend permanent +1 attack and +1 health."},{"Level":2,"About":"Faint: Give two random friends permanent +1 attack and +1 health."},{"Level":3,"About":"Faint: Give three random friends permanent +1 attack and +1 health."}],"Id":"374","Name":"Skeleton Dog","NameId":"SkeletonDog","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/2 Slime for each two battles fought."},{"Level":2,"About":"Faint: Summon one 4/4 Slime for each two battles fought."},{"Level":3,"About":"Faint: Summon one 6/6 Slime for each two battles fought."}],"Id":"375","Name":"Slime","NameId":"Slime","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Give the nearest friend behind +2 to their lowest stat."},{"Level":2,"About":"Start of turn: Give the nearest two friends behind +2 to their lowest stat."},{"Level":3,"About":"Start of turn: Give the nearest three friends behind +2 to their lowest stat."}],"Id":"433","Name":"Spoon-Billed Sandpiper","NameId":"SpoonBilledSandpiper","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Stock one free Cupcake."},{"Level":2,"About":"Start of turn: Stock one free Cupcake with double effect."},{"Level":3,"About":"Start of turn: Stock one free Cupcake with triple effect."}],"Id":"705","Name":"Sugar Glider","NameId":"SugarGlider","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +4 health."},{"Level":2,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +8 health."},{"Level":3,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +12 health."}],"Id":"264","Name":"Surgeon Fish","NameId":"SurgeonFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Gain +1 attack and +2 health until next turn."},{"Level":2,"About":"Friend ahead hurt: Gain +2 attack and +4 health until next turn."},{"Level":3,"About":"Friend ahead hurt: Gain +3 attack and +6 health until next turn."}],"Id":"719","Name":"Takin","NameId":"Takin","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Hurt"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead faints: Deal 2 damage to the first enemy. Double if the friend was level 3."},{"Level":2,"About":"Friend ahead faints: Deal 4 damage to the first enemy. Double if the friend was level 3."},{"Level":3,"About":"Friend ahead faints: Deal 6 damage to the first enemy. Double if the friend was level 3."}],"Id":"654","Name":"Tatzelwurm","NameId":"Tatzelwurm","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Enemy hurt: Make it Weak. Works 2 times per battle."},{"Level":2,"About":"Enemy hurt: Make it Weak. Works 4 times per battle."},{"Level":3,"About":"Enemy hurt: Make it Weak. Works 6 times per battle."}],"Id":"162","Name":"Toad","NameId":"Toad","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the nearest friend behind."},{"Level":2,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the two nearest friends behind."},{"Level":3,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the three nearest friends behind."}],"Id":"151","Name":"Toucan","NameId":"Toucan","Tier":3,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: If this has 6 or less attack, gain Coconut perk."},{"Level":2,"About":"Start of battle: If this has 12 or less attack, gain Coconut perk."},{"Level":3,"About":"Start of battle: If this has 18 or less attack, gain Coconut perk."}],"Id":"378","Name":"Tree","NameId":"TreeEnt","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make the last perk-less enemy Silly and activate it."},{"Level":2,"About":"Start of battle: Make the last perk-less enemy Silly and activate it twice."},{"Level":3,"About":"Start of battle: Make the last perk-less enemy Silly and activate it thrice."}],"Id":"534","Name":"Tree Kangaroo","NameId":"TreeKangaroo","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Ability has random targets in battle.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Give adjacent friends +1 health."},{"Level":2,"About":"Start of turn: Give adjacent friends +2 health."},{"Level":3,"About":"Start of turn: Give adjacent friends +3 health."}],"Id":"100","Name":"Tropical Fish","NameId":"TropicalFish","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Push the back-most friend to the front and give it +3 attack and +3 health in battle."},{"Level":2,"About":"Faint: Push the back-most friend to the front and give it +6 attack and +6 health in battle."},{"Level":3,"About":"Faint: Push the back-most friend to the front and give it +9 attack and +9 health in battle."}],"Id":"439","Name":"Tucuxi","NameId":"Tucuxi","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give one random friend +1 attack and +1 health for each time this was hurt."},{"Level":2,"About":"Faint: Give one random friend +2 attack and +2 health for each time this was hurt."},{"Level":3,"About":"Faint: Give one random friend +3 attack and +3 health for each time this was hurt."}],"Id":"572","Name":"Tuna","NameId":"Tuna","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +2 health for each friendly pet with a different ailment."},{"Level":2,"About":"Start of battle: Gain +2 attack and +4 health for each friendly pet with a different ailment."},{"Level":3,"About":"Start of battle: Gain +3 attack and +6 health for each friendly pet with a different ailment."}],"Id":"791","Name":"Vampire Parrot","NameId":"VampireParrot","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Shop tier upgraded: Gain +50% attack."},{"Level":2,"About":"Shop tier upgraded: Gain +100% attack."},{"Level":3,"About":"Shop tier upgraded: Gain +150% attack."}],"Id":"160","Name":"Wasp","NameId":"Wasp","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +1 gold on next turn."},{"Level":2,"About":"Faint: Gain +2 gold on next turn."},{"Level":3,"About":"Faint: Gain +3 gold on next turn."}],"Id":"173","Name":"Weasel","NameId":"Weasel","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Swallow and copy the left-most unfrozen shop pet until next turn."},{"Level":2,"About":"End turn: Swallow and copy the two left-most unfrozen and different shop pets until next turn."},{"Level":3,"About":"End turn: Swallow and copy the three left-most unfrozen and different shop pets until next turn."}],"Id":"373","Name":"Abomination","NameId":"Shoggoth","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Summon one level 1 Ocarina."},{"Level":2,"About":"End turn: Summon one level 2 Ocarina."},{"Level":3,"About":"End turn: Summon one level 3 Ocarina."}],"Id":"785","Name":"Ahuizotl","NameId":"Ahuizotl","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Deal 3 damage to its target, or gain +3 attack."},{"Level":2,"About":"Adjacent friend attacked: Deal 6 damage to its target, or gain +6 attack."},{"Level":3,"About":"Adjacent friend attacked: Deal 9 damage to its target, or gain +9 attack."}],"Id":"390","Name":"Amazon River Dolphin","NameId":"AmazonRiverDolphin","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 50% of its stats until next turn."},{"Level":2,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 100% of its stats until next turn."},{"Level":3,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 150% of its stats until next turn."}],"Id":"730","Name":"Andrewsarchus","NameId":"Andrewsarchus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give friends +1 to their highest stat."},{"Level":2,"About":"End turn: Give friends +2 to their highest stat."},{"Level":3,"About":"End turn: Give friends +3 to their highest stat."}],"Id":"392","Name":"Angelshark","NameId":"Angelshark","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Activate two Faint friends from tier 2 or lower front-to-back."},{"Level":2,"About":"Start of battle: Activate two Faint friends from tier 4 or lower front-to-back."},{"Level":3,"About":"Start of battle: Activate two Faint friends from tier 6 or lower front-to-back."}],"Id":"331","Name":"Anubis","NameId":"Anubis","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"End turn: If this has a level 3 friend, gain +1 attack and +2 health."},{"Level":2,"About":"End turn: If this has a level 3 friend, gain +2 attack and +4 health."},{"Level":3,"About":"End turn: If this has a level 3 friend, gain +3 attack and +6 health."}],"Id":"5","Name":"Bison","NameId":"Bison","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: Stock one copy of it. Works 1 time per turn."},{"Level":2,"About":"Friend sold: Stock one copy of it. Works 2 times per turn."},{"Level":3,"About":"Friend sold: Stock one copy of it. Works 3 times per turn."}],"Id":"797","Name":"Bloodhound","NameId":"Bloodhound","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Deal 3 damage to one random enemy."},{"Level":2,"About":"Hurt: Deal 6 damage to one random enemy."},{"Level":3,"About":"Hurt: Deal 9 damage to one random enemy."}],"Id":"7","Name":"Blowfish","NameId":"Blowfish","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Hurt"],"Random":true},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice."},{"Level":2,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice that works twice."},{"Level":3,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice that works thrice."}],"Id":"530","Name":"Blue-Footed Booby","NameId":"BlueFootedBooby","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Transform into the front-most friend."},{"Level":2,"About":"Start of turn: Transform into the front-most friend."},{"Level":3,"About":"Start of turn: Transform into the front-most friend."}],"Id":"402","Name":"Bonobo","NameId":"Bonobo","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Levels","Mvp"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: Gain +2 attack and +2 health until next turn."},{"Level":2,"About":"Friend sold: Gain +4 attack and +4 health until next turn."},{"Level":3,"About":"Friend sold: Gain +6 attack and +6 health until next turn."}],"Id":"8","Name":"Buffalo","NameId":"Buffalo","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Transformed: Copy 33% attack and health from the strongest enemy."},{"Level":2,"About":"Transformed: Copy 66% attack and health from the strongest enemy."},{"Level":3,"About":"Transformed: Copy 100% attack and health from the strongest enemy."}],"Id":"9","Name":"Butterfly","NameId":"Butterfly","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Gain +1 experience.","FinePrint":"Will copy an enemy\'s stats at level 3."},{"Level":2,"About":"Start of turn: Gain +1 experience.","FinePrint":"Will copy an enemy\'s stats at level 3."},{"Level":3,"About":"Start of battle: Transform into a 1/1 Butterfly and copy stats of the strongest enemy."}],"Id":"12","Name":"Caterpillar","NameId":"Caterpillar","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Levels","Transform"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Copy friendly toy ability at up to level 1 until next turn.","FinePrint":"Break abilities trigger on faint instead."},{"Level":2,"About":"End turn: Copy friendly toy ability at up to level 2 until next turn.","FinePrint":"Break abilities trigger on faint instead."},{"Level":3,"About":"End turn: Copy friendly toy ability at up to level 3 until next turn.","FinePrint":"Break abilities trigger on faint instead."}],"Id":"216","Name":"Chameleon","NameId":"Chameleon","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 pet. Spend mana to give it +1 attack and +2 health per 2 mana."},{"Level":2,"About":"Faint: Summon two 3/3 pets. Spend mana to give them +1 attack and +2 health per 2 mana."},{"Level":3,"About":"Faint: Summon three 3/3 pets. Spend mana to give them +1 attack and +2 health per 2 mana."}],"Id":"338","Name":"Chimera","NameId":"Chimera","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friendly level-up: Give it +2 attack and +2 health."},{"Level":2,"About":"Friendly level-up: Give it +4 attack and +4 health."},{"Level":3,"About":"Friendly level-up: Give it +6 attack and +6 health."}],"Id":"117","Name":"Clownfish","NameId":"ClownFish","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Buy: Give the highest tier friend +2 attack and +2 health."},{"Level":2,"About":"Buy: Give the highest tier friend +4 attack and +4 health."},{"Level":3,"About":"Buy: Give the highest tier friend +6 attack and +6 health."}],"Id":"218","Name":"Cockatoo","NameId":"Cockatoo","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Stock one Chocolate."},{"Level":2,"About":"Sell: Stock one Better Chocolate."},{"Level":3,"About":"Sell: Stock one Best Chocolate."}],"Id":"195","Name":"Crow","NameId":"Crow","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels","Mvp"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Enemy faints: Summon a 1/1 bad Chick in that slot for the enemy early. Can summon up to 2 per battle."},{"Level":2,"About":"Enemy faints: Summon a 1/1 bad Chick in that slot for the enemy early. Can summon up to 4 per battle."},{"Level":3,"About":"Enemy faints: Summon a 1/1 bad Chick in that slot for the enemy early. Can summon up to 6 per battle."}],"Id":"787","Name":"Cuckoo","NameId":"Cuckoo","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Remove 3 health from the last enemy and make it Inked."},{"Level":2,"About":"Faint: Remove 3 health from the last two enemies and make them Inked."},{"Level":3,"About":"Faint: Remove 3 health from the last three enemies and make them Inked."}],"Id":"176","Name":"Cuttlefish","NameId":"Cuddlefish","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friend level-up: Give it +2 mana. Also give +1 experience on the first trigger this turn."},{"Level":2,"About":"Friend level-up: Give it +4 mana. Also give +1 experience on the first two triggers this turn."},{"Level":3,"About":"Friend level-up: Give it +6 mana. Also give +1 experience on the first three triggers this turn."}],"Id":"630","Name":"Cyclops","NameId":"Cyclops","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Mana"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/3 Bus with Chili."},{"Level":2,"About":"Faint: Summon one 10/6 Bus with Chili."},{"Level":3,"About":"Faint: Summon one 15/9 Bus with Chili."}],"Id":"20","Name":"Deer","NameId":"Deer","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack second enemy for 5 damage.","CustomArchetypes":["Summon"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Ailments on this work in reverse.","FinePrint":"Weak and Spooked works 3 times."},{"Level":2,"About":"Ailments on this work in reverse and are two times better.","FinePrint":"Weak and Spooked works 3 times."},{"Level":3,"About":"Ailments on this work in reverse and are three times better.","FinePrint":"Weak and Spooked works 3 times."}],"Id":"748","Name":"Deinocheirus","NameId":"Deinocheirus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +8 attack. If all friends are higher tiers, also gain Coconut perk."},{"Level":2,"About":"Start of battle: Gain +16 attack. If all friends are higher tiers, also gain Coconut perk."},{"Level":3,"About":"Start of battle: Gain +24 attack. If all friends are higher tiers, also gain Coconut perk."}],"Id":"273","Name":"Doberman","NameId":"Doberman","Tier":4,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Perks"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 1 time per battle."},{"Level":2,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 2 times per battle."},{"Level":3,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 3 times per battle."}],"Id":"111","Name":"Donkey","NameId":"Donkey","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 2 gold.","FinePrint":"Max gold limit is 30."},{"Level":2,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 4 gold.","FinePrint":"Max gold limit is 30."},{"Level":3,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 6 gold.","FinePrint":"Max gold limit is 30."}],"Id":"546","Name":"Elk","NameId":"Elk","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Gold"],"Random":true},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 wondrous toy."},{"Level":2,"About":"Buy: Choose one level 2 wondrous toy."},{"Level":3,"About":"Buy: Choose one level 3 wondrous toy."}],"Id":"342","Name":"Fairy","NameId":"Fairy","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: If still standing, gain permanent +2 health and transform into a protected ball."},{"Level":2,"About":"Hurt: If still standing, gain permanent +4 health and transform into a protected ball."},{"Level":3,"About":"Hurt: If still standing, gain permanent +6 health and transform into a protected ball."}],"Id":"547","Name":"Fairy Armadillo","NameId":"FairyArmadillo","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Transform","Hurt"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Takes 2 less damage."},{"Level":2,"About":"Takes 4 less damage."},{"Level":3,"About":"Takes 6 less damage."}],"Id":"771","Name":"Fairy Ball","NameId":"FairyArmadilloBall","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Knock out: Summon one 3/3 level 1 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."},{"Level":2,"About":"Knock out: Summon one 6/6 level 2 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."},{"Level":3,"About":"Knock out: Summon one 9/9 level 3 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."}],"Id":"224","Name":"Falcon","NameId":"Falcon","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Feed friends one Corncob."},{"Level":2,"About":"Buy: Feed friends two Corncobs."},{"Level":3,"About":"Buy: Feed friends three Corncobs."}],"Id":"689","Name":"Farmer Cat","NameId":"FarmerCat","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 health from the two first enemies for each roll this turn."},{"Level":2,"About":"Start of battle: Remove 2 health from the two first enemies for each roll this turn."},{"Level":3,"About":"Start of battle: Remove 3 health from the two first enemies for each roll this turn."}],"Id":"549","Name":"Fossa","NameId":"Fossa","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Gain +2 attack and +1 health until next turn for each gold over 10."},{"Level":2,"About":"Start of turn: Gain +4 attack and +2 health until next turn for each gold over 10."},{"Level":3,"About":"Start of turn: Gain +6 attack and +3 health until next turn for each gold over 10."}],"Id":"185","Name":"Gazelle","NameId":"Gazelle","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Eats two food: Transform and feed one Pear to each friend."},{"Level":2,"About":"Eats two food: Transform and feed two Pears to each friend."},{"Level":3,"About":"Eats two food: Transform and feed three Pears to each friend."}],"Id":"696","Name":"Gelada","NameId":"Gelada","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food","Transform"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before battle: Give friends +2 attack and +5 health until after the first non-jump attack."},{"Level":2,"About":"Before battle: Give friends +4 attack and +10 health until after the first non-jump attack."},{"Level":3,"About":"Before battle: Give friends +6 attack and +15 health until after the first non-jump attack."}],"Id":"410","Name":"Giant Otter","NameId":"GiantOtter","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Gain +2 health, and set attack to 4. Health can go to 100!"},{"Level":2,"About":"End turn: Gain +4 health, and set attack to 8. Health can go to 100!"},{"Level":3,"About":"End turn: Gain +6 health, and set attack to 12. Health can go to 100!"}],"Id":"412","Name":"Giant Tortoise","NameId":"GiantTortoise","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Swallow the first enemy with 6 health or less. Release it with 1 health on faint."},{"Level":2,"About":"Start of battle: Swallow the first enemy with 12 health or less. Release it with 1 health on faint."},{"Level":3,"About":"Start of battle: Swallow the first enemy with 18 health or less. Release it with 1 health on faint."}],"Id":"754","Name":"Goblin Shark","NameId":"GoblinShark","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Before battle: Transform into ANY useful level 1 <b>Start of Battle</b> pet from tier 5."},{"Level":2,"About":"Before battle: Transform into ANY useful level 2 <b>Start of Battle</b> pet from tier 5."},{"Level":3,"About":"Before battle: Transform into ANY useful level 3 <b>Start of Battle</b> pet from tier 5."}],"Id":"720","Name":"Golden Tamarin","NameId":"GoldenTamarin","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 7 damage to the opposite enemy."},{"Level":2,"About":"Start of battle: Deal 14 damage to the opposite enemy."},{"Level":3,"About":"Start of battle: Deal 21 damage to the opposite enemy."}],"Id":"127","Name":"Hawk","NameId":"Hawk","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Knock out: Gain +3 attack and +3 health. Works 3 times per battle."},{"Level":2,"About":"Knock out: Gain +6 attack and +6 health. Works 3 times per battle."},{"Level":3,"About":"Knock out: Gain +9 attack and +9 health. Works 3 times per battle."}],"Id":"38","Name":"Hippo","NameId":"Hippo","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Remove friendly strawberries to gain +3 trumpets for each."},{"Level":2,"About":"Start of battle: Remove friendly strawberries to gain +6 trumpets for each."},{"Level":3,"About":"Start of battle: Remove friendly strawberries to gain +9 trumpets for each."}],"Id":"755","Name":"Hoatzin","NameId":"Hoatzin","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Trumpets"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Remove 30% attack from the highest attack enemy."},{"Level":2,"About":"Start of battle: Remove 60% attack from the highest attack enemy."},{"Level":3,"About":"Start of battle: Remove 90% attack from the highest attack enemy."}],"Id":"416","Name":"Humphead Wrasse","NameId":"HumpheadWrasse","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Eats apple: Give friends +1 attack and +1 health. Works 1 time per turn."},{"Level":2,"About":"Eats apple: Give friends +2 attack and +2 health. Works 1 time per turn."},{"Level":3,"About":"Eats apple: Give friends +3 attack and +3 health. Works 1 time per turn."}],"Id":"199","Name":"Jerboa","NameId":"Jerboa","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"After first attack: Make the highest attack enemy Spooked and push it to the back."},{"Level":2,"About":"After first attack: Make the two highest attack enemies Spooked and push them to the back."},{"Level":3,"About":"After first attack: Make the three highest attack enemies Spooked and push them to the back."}],"Id":"419","Name":"Kakapo","NameId":"Kakapo","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments","Disruption"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Remove 15% health from ALL other pets."},{"Level":2,"About":"Start of battle: Remove 30% health from ALL other pets."},{"Level":3,"About":"Start of battle: Remove 45% health from ALL other pets."}],"Id":"355","Name":"Kraken","NameId":"Kraken","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Give random ailments to ANY three random pets. Double the effect on enemies."},{"Level":2,"About":"Faint: Give random ailments to ANY six random pets. Double the effect on enemies."},{"Level":3,"About":"Faint: Give random ailments to ANY nine random pets. Double the effect on enemies."}],"Id":"750","Name":"Leaf Gecko","NameId":"SatanicLeafTailedGecko","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":7,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give adjacent friends 1 experience and remove this."},{"Level":2,"About":"Start of battle: Give adjacent friends 2 experience and remove this."},{"Level":3,"About":"Start of battle: Give adjacent friends 3 experience and remove this."}],"Id":"723","Name":"Leafy Sea Dragon","NameId":"LeafySeaDragon","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle","Levels"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: If there is an empty space, gain +1 attack and +2 health."},{"Level":2,"About":"End turn: If there is an empty space, gain +2 attack and +4 health."},{"Level":3,"About":"End turn: If there is an empty space, gain +3 attack and +6 health."}],"Id":"44","Name":"Llama","NameId":"Llama","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend summoned: If outside battle, give it +1 attack and +2 health."},{"Level":2,"About":"Friend summoned: If outside battle, give it +2 attack and +4 health."},{"Level":3,"About":"Friend summoned: If outside battle, give it +3 attack and +6 health."}],"Id":"93","Name":"Lobster","NameId":"Lobster","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one friend and feed it with random food for every food eaten this turn."},{"Level":2,"About":"Faint: Summon two friends and feed them with random food for every food eaten this turn."},{"Level":3,"About":"Faint: Summon three friends and feed them with random food for every food eaten this turn."}],"Id":"698","Name":"Locust","NameId":"Locust","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Summon","Food"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Five enemy attacks: Gain +4 health and remove 4 health from all enemies."},{"Level":2,"About":"Five enemy attacks: Gain +8 health and remove 8 health from all enemies."},{"Level":3,"About":"Five enemy attacks: Gain +12 health and remove 12 health from all enemies."}],"Id":"420","Name":"Longcomb Sawfish","NameId":"LongcombSawfish","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal damage to one random enemy equal to the sum of all friendly levels."},{"Level":2,"About":"Start of battle: Deal damage to two random enemies equal to the sum of all friendly levels."},{"Level":3,"About":"Start of battle: Deal damage to three random enemies equal to the sum of all friendly levels."}],"Id":"200","Name":"Lynx","NameId":"Lynx","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels","Disruption"],"Random":true},{"Attack":2,"Health":11,"Abilities":[{"Level":1,"About":"End turn: Take 5 damage and give the nearest friend ahead +2 attack and +1 health."},{"Level":2,"About":"End turn: Take 5 damage and give the nearest friend ahead +4 attack and +2 health."},{"Level":3,"About":"End turn: Take 5 damage and give the nearest friend ahead +6 attack and +3 health."}],"Id":"192","Name":"Manatee","NameId":"Manatee","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"End turn: If there is an empty space, gain +2 gold next turn."},{"Level":2,"About":"End turn: If there is an empty space, gain +4 gold next turn."},{"Level":3,"About":"End turn: If there is an empty space, gain +6 gold next turn."}],"Id":"240","Name":"Manta Ray","NameId":"MantaRay","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Make ALL pets within 3 spaces Weak."},{"Level":2,"About":"Faint: Make ALL pets within 6 spaces Weak."},{"Level":3,"About":"Faint: Make ALL pets within 9 spaces Weak."}],"Id":"94","Name":"Microbe","NameId":"Microbe","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Three friends faint: Gain +1 gold on next turn."},{"Level":2,"About":"Three friends faint: Gain +2 gold on next turn."},{"Level":3,"About":"Three friends faint: Gain +3 gold on next turn."}],"Id":"359","Name":"Mimic","NameId":"Mimic","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Gold","Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Gain +1 attack and +1 health for each of the friend\'s level."},{"Level":2,"About":"Friend ahead attacks: Gain +2 attack and +2 health for each of the friend\'s level."},{"Level":3,"About":"Friend ahead attacks: Gain +3 attack and +3 health for each of the friend\'s level."}],"Id":"360","Name":"Minotaur","NameId":"Minotaur","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 nostalgic toy."},{"Level":2,"About":"Start of turn: Choose one level 2 nostalgic toy."},{"Level":3,"About":"Start of turn: Choose one level 3 nostalgic toy."}],"Id":"612","Name":"Old Mouse","NameId":"OldMouse","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"],"Random":true},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Copy ability from the nearest pet ahead as level 1 until next turn."},{"Level":2,"About":"End turn: Copy ability from the nearest pet ahead as level 2 until next turn."},{"Level":3,"About":"End turn: Copy ability from the nearest pet ahead as level 3 until next turn."}],"Id":"53","Name":"Parrot","NameId":"Parrot","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Mvp","Mvp"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give three friends +1 attack until next turn."},{"Level":2,"About":"Friend summoned: Give three friends +2 attack until next turn."},{"Level":3,"About":"Friend summoned: Give three friends +3 attack until next turn."}],"Id":"365","Name":"Pegasus","NameId":"Pegasus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Give two level 2 or higher friends +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give two level 2 or higher friends +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give two level 2 or higher friends +3 attack and +3 health."}],"Id":"56","Name":"Penguin","NameId":"Penguin","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for each roll (max 8) this turn."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for each roll (max 8) this turn."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for each roll (max 8) this turn."}],"Id":"734","Name":"Platybelodon","NameId":"Platybelodon","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Roll"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint & Sell: Summon one 3/2 level 1 Duck and Beaver."},{"Level":2,"About":"Faint & Sell: Summon one 6/4 level 2 Duck and Beaver."},{"Level":3,"About":"Faint & Sell: Summon one 9/6 level 3 Duck and Beaver."}],"Id":"159","Name":"Platypus","NameId":"Platypus","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle","Summon"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead faints: Deal 4 damage to the highest health enemy."},{"Level":2,"About":"Friend ahead faints: Deal 8 damage to the highest health enemy."},{"Level":3,"About":"Friend ahead faints: Deal 12 damage to the highest health enemy."}],"Id":"252","Name":"Poison Dart Frog","NameId":"PoisonDartFrog","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend transformed: Give it +3 experience. Works 1 time per battle."},{"Level":2,"About":"Friend transformed: Give it +3 experience. Works 2 times per battle."},{"Level":3,"About":"Friend transformed: Give it +3 experience. Works 3 times per battle."}],"Id":"729","Name":"Poodle Moth","NameId":"PoodleMoth","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels","Transform"]},{"Attack":7,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +6 attack and +6 health."}],"Id":"126","Name":"Praying Mantis","NameId":"PrayingMantis","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff","Mvp"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Puppy toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Puppy toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Puppy toy."}],"Id":"97","Name":"Puppy","NameId":"Puppy","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 1 time per battle."},{"Level":2,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 2 times per battle."},{"Level":3,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 3 times per battle."}],"Id":"760","Name":"Racket Tail","NameId":"WhiteBootedRacketTail","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from one tier below."},{"Level":2,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from two tiers below."},{"Level":3,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from three tiers below."}],"Id":"742","Name":"Red Lipped Batfish","NameId":"RedLippedBatfish","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 3 times and spread evenly."},{"Level":2,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 6 times and spread evenly."},{"Level":3,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 9 times and spread evenly."}],"Id":"369","Name":"Roc","NameId":"Roc","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give two friends with less health than this +1 attack and +1 health."},{"Level":2,"About":"End turn: Give two friends with less health than this +2 attack and +2 health."},{"Level":3,"About":"End turn: Give two friends with less health than this +3 attack and +3 health."}],"Id":"622","Name":"Rootling","NameId":"Rootler","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Replace friendly strawberries with +4 mana."},{"Level":2,"About":"Start of battle: Replace friendly strawberries with +8 mana."},{"Level":3,"About":"Start of battle: Replace friendly strawberries with +12 mana."}],"Id":"802","Name":"Ruspoli\'s Turaco","NameId":"RuspolisTuraco","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Two friends faint: Gain +3 trumpets."},{"Level":2,"About":"Two friends faint: Gain +6 trumpets."},{"Level":3,"About":"Two friends faint: Gain +9 trumpets."}],"Id":"257","Name":"Saiga Antelope","NameId":"SaigaAntelope","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Summon"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: If it was a Sell pet, give one random friend +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Friend sold: If it was a Sell pet, give one random friend +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Friend sold: If it was a Sell pet, give one random friend +3 attack and +3 health. Works 3 times per turn."}],"Id":"563","Name":"Sea Anemone","NameId":"SeaAnemone","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 3 times per turn."}],"Id":"128","Name":"Seagull","NameId":"Seagull","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give friends behind +1 attack and friends ahead +1 health."},{"Level":2,"About":"End turn: Give friends behind +2 attack and friends ahead +2 health."},{"Level":3,"About":"End turn: Give friends behind +3 attack and friends ahead +3 health."}],"Id":"175","Name":"Sealion","NameId":"Sealion","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Give adjacent pets +1 attack. Also +1 health if the shop has discounted food."},{"Level":2,"About":"End turn: Give adjacent pets +2 attack. Also +2 health if the shop has discounted food."},{"Level":3,"About":"End turn: Give adjacent pets +3 attack. Also +3 health if the shop has discounted food."}],"Id":"565","Name":"Siamese","NameId":"Siamese","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 33% health from the highest health enemy."},{"Level":2,"About":"Start of battle: Remove 66% health from the highest health enemy."},{"Level":3,"About":"Start of battle: Remove 99% health from the highest health enemy."}],"Id":"70","Name":"Skunk","NameId":"Skunk","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Transformed: Feed one Pear to each friend."},{"Level":2,"About":"Transformed: Feed two Pears to each friend."},{"Level":3,"About":"Transformed: Feed three Pears to each friend."}],"Id":"780","Name":"Sleeping Gelada","NameId":"GeladaSleeping","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/2 Smaller Slug that summons one 1/1 Smallest Slug."},{"Level":2,"About":"Faint: Summon one 4/4 Smaller Slug that summons one 2/2 Smallest Slug."},{"Level":3,"About":"Faint: Summon one 6/6 Smaller Slug that summons one 3/3 Smallest Slug."}],"Id":"262","Name":"Slug","NameId":"Slug","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Guard"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friendly Strawberries block 5 damage twice, or ailments once."},{"Level":2,"About":"Friendly Strawberries block 10 damage twice, or ailments once."},{"Level":3,"About":"Friendly Strawberries block 15 damage twice, or ailments once."}],"Id":"567","Name":"Sparrow","NameId":"Sparrow","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Friend attacks: Give it +4 health and move it far back. Works on one friend per turn."},{"Level":2,"About":"Friend attacks: Give it +4 health and move it far back. Works on two different friends per turn."},{"Level":3,"About":"Friend attacks: Give it +4 health and move it far back. Works on three different friends per turn."}],"Id":"727","Name":"Spider Crab","NameId":"SpiderCrab","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 1 damage to two random enemies and multiply damage by the distance."},{"Level":2,"About":"Faint: Deal 2 damage to two random enemies and multiply damage by the distance."},{"Level":3,"About":"Faint: Deal 3 damage to two random enemies and multiply damage by the distance."}],"Id":"804","Name":"Spiny Bush Viper","NameId":"SpinyBushViper","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of turn: Discount all shop food by 1 gold."},{"Level":2,"About":"Start of turn: Discount all shop food by 2 gold."},{"Level":3,"About":"Start of turn: Discount all shop food by 3 gold."}],"Id":"75","Name":"Squirrel","NameId":"Squirrel","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give Mild Chili perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Mild Chili perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Mild Chili perk to the three nearest friends behind."}],"Id":"393","Name":"Tahr","NameId":"ArabianTahr","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack second enemy for 4 damage.","CustomArchetypes":["Perks"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Transformed: Summon a level 1 Thunder Hammer."},{"Level":2,"About":"Transformed: Summon a level 2 Thunder Hammer."},{"Level":3,"About":"Transformed: Summon a level 3 Thunder Hammer."}],"Id":"819","Name":"Tand and Tand","NameId":"ThorGoats","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":6,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give one random friendly Tandgrisner +3 health. Can also..."},{"Level":2,"About":"End turn: Give one random friendly Tandgrisner +6 health. Can also..."},{"Level":3,"About":"End turn: Give one random friendly Tandgrisner +9 health. Can also..."}],"Id":"607","Name":"Tandgnost","NameId":"ThorGoat1","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Give one random friendly Tandgnost +3 attack. Can also..."},{"Level":2,"About":"End turn: Give one random friendly Tandgnost +6 attack. Can also..."},{"Level":3,"About":"End turn: Give one random friendly Tandgnost +9 attack. Can also..."}],"Id":"608","Name":"Tandgrisner","NameId":"ThorGoat2","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 level 1 Tardigrade and make it Dazed."},{"Level":2,"About":"Faint: Summon one 6/6 level 2 Tardigrade and make it Dazed."},{"Level":3,"About":"Faint: Summon one 9/9 level 3 Tardigrade and make it Dazed."}],"Id":"570","Name":"Tardigrade","NameId":"Tardigrade","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Summon","Ailments"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make the lowest attack enemy 5x\xa0Spooked and jump-attack it."},{"Level":2,"About":"Start of battle: Make the lowest attack enemy 10x\xa0Spooked and jump-attack it."},{"Level":3,"About":"Start of battle: Make the lowest attack enemy 15x\xa0Spooked and jump-attack it."}],"Id":"437","Name":"Tasmanian Devil","NameId":"TasmanianDevil","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Guard","Ailments"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and deal 3 damage to the two first enemies."},{"Level":2,"About":"Empty front space: Jump to the front and deal 6 damage to the two first enemies."},{"Level":3,"About":"Empty front space: Jump to the front and deal 9 damage to the two first enemies."}],"Id":"330","Name":"Tiger Bug","NameId":"AntLion","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: If it was sold for at least 3 gold, gain +1 attack and +2 health."},{"Level":2,"About":"Friend sold: If it was sold for at least 3 gold, gain +2 attack and +4 health."},{"Level":3,"About":"Friend sold: If it was sold for at least 3 gold, gain +3 attack and +6 health."}],"Id":"706","Name":"Trout","NameId":"Trout","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Melon perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Melon perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Melon perk to the three nearest friends behind."}],"Id":"80","Name":"Turtle","NameId":"Turtle","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 1 time per turn."},{"Level":2,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 3 times per turn."}],"Id":"380","Name":"Unicorn","NameId":"Unicorn","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +50% trumpets, and minimum +4 trumpets."},{"Level":2,"About":"Faint: Gain +100% trumpets, and minimum +8 trumpets."},{"Level":3,"About":"Faint: Gain +150% trumpets, and minimum +12 trumpets."}],"Id":"265","Name":"Vaquita","NameId":"Vaquita","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Make ALL pets within one space Icky."},{"Level":2,"About":"Faint: Make ALL pets within two spaces Icky."},{"Level":3,"About":"Faint: Make ALL pets within three spaces Icky."}],"Id":"386","Name":"Visitor","NameId":"Xenomorph","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take double damage, twice.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 1 on faint."},{"Level":2,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 2 on faint."},{"Level":3,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 3 on faint."}],"Id":"81","Name":"Whale","NameId":"Whale","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Gain perk or ailment: Remove it and gain +1 attack and +1 health. Triple in battle."},{"Level":2,"About":"Gain perk or ailment: Remove it and gain +2 attack and +2 health. Triple in battle."},{"Level":3,"About":"Gain perk or ailment: Remove it and gain +3 attack and +3 health. Triple in battle."}],"Id":"267","Name":"Whale Shark","NameId":"WhaleShark","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks","Ailments"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Give adjacent friends +1 attack and +1 health for every 4 roll, up to 8 rolls."},{"Level":2,"About":"End turn: Give adjacent friends +2 attack and +2 health for every 4 roll, up to 8 rolls."},{"Level":3,"About":"End turn: Give adjacent friends +3 attack and +3 health for every 4 roll, up to 8 rolls."}],"Id":"371","Name":"Worm of Sand","NameId":"Sandworm","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 1 time per battle."},{"Level":2,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 2 times per battle."},{"Level":3,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 3 times per battle."}],"Id":"756","Name":"Yeti Crab","NameId":"YetiCrab","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block 10 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Transformed: Give two back-most friends 1 experience."},{"Level":2,"About":"Transformed: Give two back-most friends 2 experience."},{"Level":3,"About":"Transformed: Give two back-most friends 3 experience."}],"Id":"777","Name":"Adult Flounder","NameId":"FlounderAdult","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +3 attack and +4 mana and Spooked. Works 2 times per turn."},{"Level":2,"About":"Friend summoned: Give it +6 attack and +8 mana and Spooked. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it +9 attack and +12 mana and Spooked. Works 2 times per turn."}],"Id":"631","Name":"Amalgamation","NameId":"Amalgam","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Ailments","Summon"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give ALL pets +8 health."},{"Level":2,"About":"Start of battle: Give ALL pets +16 health."},{"Level":3,"About":"Start of battle: Give ALL pets +24 health."}],"Id":"166","Name":"Armadillo","NameId":"Armadillo","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friendly gained perk: Give it permanent +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Friendly gained perk: Give it permanent +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Friendly gained perk: Give it permanent +3 attack and +3 health. Works 3 times per turn."}],"Id":"212","Name":"Axolotl","NameId":"Axolotl","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +3 attack and +3 health."},{"Level":2,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +6 attack and +6 health."},{"Level":3,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +9 attack and +9 health."}],"Id":"395","Name":"Aye-aye","NameId":"AyeAye","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 toy that brings doom and chaos!"},{"Level":2,"About":"Buy: Choose one level 2 toy that brings doom and chaos!"},{"Level":3,"About":"Buy: Choose one level 3 toy that brings doom and chaos!"}],"Id":"613","Name":"Bad Dog","NameId":"BadDog","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys","Disruption"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Remove 6 attack from ALL other pets to a minimum of 4 attack."},{"Level":2,"About":"Start of battle: Remove 12 attack from ALL other pets to a minimum of 4 attack."},{"Level":3,"About":"Start of battle: Remove 18 attack from ALL other pets to a minimum of 4 attack."}],"Id":"396","Name":"Banggai Cardinalfish","NameId":"BanggaiCardinalfish","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Eats food: Swallow the left-most shop pet and summon it at level 1 with base stats on faint."},{"Level":2,"About":"Eats food: Swallow the left-most shop pet and summon it at level 2 with double stats on faint."},{"Level":3,"About":"Eats food: Swallow the left-most shop pet and summon it at level 3 with triple stats on faint."}],"Id":"182","Name":"Beluga Whale","NameId":"WhiteWhale","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Mvp"]},{"Attack":2,"Health":10,"Abilities":[{"Level":1,"About":"Faint: Give the nearest friend behind +1 experience. Give to one more friend in battle."},{"Level":2,"About":"Faint: Give the nearest friend behind +2 experience. Give to one more friend in battle."},{"Level":3,"About":"Faint: Give the nearest friend behind +3 experience. Give to one more friend in battle."}],"Id":"150","Name":"Blobfish","NameId":"Blobfish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three random friends +1 attack and +1 health for each food this has eaten this turn."},{"Level":2,"About":"Faint: Give three random friends +2 attack and +2 health for each food this has eaten this turn."},{"Level":3,"About":"Faint: Give three random friends +3 attack and +3 health for each food this has eaten this turn."}],"Id":"774","Name":"Blue Jay","NameId":"BlueJay","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Give friends +1 attack and +1 health."},{"Level":2,"About":"Buy: Give friends +2 attack and +2 health."},{"Level":3,"About":"Buy: Give friends +3 attack and +3 health."}],"Id":"271","Name":"Blue Ringed Octopus","NameId":"BlueRingedOctopus","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":2,"Health":12,"Abilities":[{"Level":1,"About":"Before attack: Make the target Crisp. Works 2 times per battle."},{"Level":2,"About":"Before attack: Make the target Crisp. Works 4 times per battle."},{"Level":3,"About":"Before attack: Make the target Crisp. Works 6 times per battle."}],"Id":"656","Name":"Boitata","NameId":"Boitata","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three friends that dealt damage this battle permanent +1 attack and +1 health."},{"Level":2,"About":"Faint: Give three friends that dealt damage this battle permanent +2 attack and +2 health."},{"Level":3,"About":"Faint: Give three friends that dealt damage this battle permanent +3 attack and +3 health."}],"Id":"688","Name":"Brahma Chicken","NameId":"BrahmaChicken","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give future shop pets +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give future shop pets +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give future shop pets +3 attack and +3 health."}],"Id":"14","Name":"Chicken","NameId":"Chicken","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Buy: Replace shop food with two free Milk."},{"Level":2,"About":"Buy: Replace shop food with two free Better Milk."},{"Level":3,"About":"Buy: Replace shop food with two free Best Milk."}],"Id":"15","Name":"Cow","NameId":"Cow","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food","Cycle"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 1 time per turn."},{"Level":2,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 2 times per turn."},{"Level":3,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 3 times per turn."}],"Id":"219","Name":"Crane","NameId":"Crane","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 8 damage to the last enemy."},{"Level":2,"About":"Start of battle: Deal 8 damage to the last enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 8 damage to the last enemy. Triggers 3 times."}],"Id":"19","Name":"Crocodile","NameId":"Crocodile","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +1 health to one friend of each level."},{"Level":2,"About":"End turn: Give +2 attack and +2 health to one friend of each level."},{"Level":3,"About":"End turn: Give +3 attack and +3 health to one friend of each level."}],"Id":"196","Name":"Dragonfly","NameId":"Dragonfly","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/5 level 1 pet from the next shop tier."},{"Level":2,"About":"Faint: Summon one 10/10 level 2 pet from the next shop tier."},{"Level":3,"About":"Faint: Summon one 15/15 level 3 pet from the next shop tier."}],"Id":"27","Name":"Eagle","NameId":"Eagle","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 1 time per battle."},{"Level":2,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 2 times per battle."},{"Level":3,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 3 times per battle."}],"Id":"221","Name":"Egyptian Vulture","NameId":"EgyptianVulture","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Empty front space: Give nearest friend ahead +4 health and move it to the front in battle."},{"Level":2,"About":"Empty front space: Give nearest friend ahead +8 health and move it to the front in battle."},{"Level":3,"About":"Empty front space: Give nearest friend ahead +12 health and move it to the front in battle."}],"Id":"223","Name":"Emu","NameId":"Emu","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 friend with +1 attack and +1 health for each ailment gained."},{"Level":2,"About":"Faint: Summon two 3/3 friends with +1 attack and +1 health for each ailment gained."},{"Level":3,"About":"Faint: Summon three 3/3 friends with +1 attack and +1 health for each ailment gained."}],"Id":"770","Name":"Estemmenosuchus","NameId":"Estemmenosuchus","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments","Summon"]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Feed three Corncobs with triple effect to the nearest friend behind."},{"Level":2,"About":"Faint: Feed three Corncobs with triple effect to the nearest two friends behind."},{"Level":3,"About":"Faint: Feed three Corncobs with triple effect to the nearest three friends behind."}],"Id":"691","Name":"Farmer Crow","NameId":"FarmerCrow","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give attack to the highest tier friend."},{"Level":2,"About":"Faint: Give attack to the two highest tier friends."},{"Level":3,"About":"Faint: Give attack to the three highest tier friends."}],"Id":"274","Name":"Fire Ant","NameId":"FireAnt","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Eats two food: Transform and give the two back-most friends 1 experience."},{"Level":2,"About":"Eats two food: Transform and give the two back-most friends 2 experience."},{"Level":3,"About":"Eats two food: Transform and give the two back-most friends 3 experience."}],"Id":"776","Name":"Flounder","NameId":"FlounderYoung","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Steal the right-most shop food."},{"Level":2,"About":"End turn: Steal the right-most shop food and double its attack and health effects."},{"Level":3,"About":"End turn: Steal the right-most shop food and triple its attack and health effects."}],"Id":"106","Name":"Fox","NameId":"Fox","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":10,"Abilities":[{"Level":1,"About":"Hurt: Deal 33% of damage taken as damage to one random enemy."},{"Level":2,"About":"Hurt: Deal 66% of damage taken as damage to one random enemy."},{"Level":3,"About":"Hurt: Deal 100% of damage taken as damage to one random enemy."}],"Id":"409","Name":"Geometric Tortoise","NameId":"GeometricTortoise","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give friends +2 health. Spend 2 trumpets to give 1 more health in the future."},{"Level":2,"About":"Faint: Give friends +4 health. Spend 2 trumpets to give 2 more health in the future."},{"Level":3,"About":"Faint: Give friends +6 health. Spend 2 trumpets to give 3 more health in the future."}],"Id":"752","Name":"Giant Isopod","NameId":"GiantIsopod","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Deal 4 damage to one random enemy for each friendly transformation this turn."},{"Level":2,"About":"Faint: Deal 8 damage to one random enemy for each friendly transformation this turn."},{"Level":3,"About":"Faint: Deal 12 damage to one random enemy for each friendly transformation this turn."}],"Id":"411","Name":"Giant Pangasius","NameId":"GiantPangasius","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Disruption","Transform"],"Random":true},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend bought: Gain +1 gold. Works 2 times per turn."},{"Level":2,"About":"Friend bought: Gain +2 gold. Works 2 times per turn."},{"Level":3,"About":"Friend bought: Gain +3 gold. Works 2 times per turn."}],"Id":"34","Name":"Goat","NameId":"Goat","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle","Gold"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Roll: Gain one free roll. Works 2 times per turn."},{"Level":2,"About":"Roll: Gain one free roll. Works 4 times per turn."},{"Level":3,"About":"Roll: Gain one free roll. Works 6 times per turn."}],"Id":"110","Name":"Hamster","NameId":"Hamster","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give three random friends that fainted last battle +2 health."},{"Level":2,"About":"Start of turn: Give three random friends that fainted last battle +4 health."},{"Level":3,"About":"Start of turn: Give three random friends that fainted last battle +6 health."}],"Id":"414","Name":"Hawaiian Monk Seal","NameId":"HawaiianMonkSeal","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain +1 mana for each roll this turn."},{"Level":2,"About":"Friend ahead faints: Gain +2 mana for each roll this turn."},{"Level":3,"About":"Friend ahead faints: Gain +3 mana for each roll this turn."}],"Id":"350","Name":"Hippocampus","NameId":"Hippocampus","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll","Guard","Mana"],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Swap attack and health of ALL pets.","FinePrint":"Will shuffle positions of all pets at level 2."},{"Level":2,"About":"Start of battle: Shuffle positions of ALL pets.","FinePrint":"Will swap stats and shuffe positions of all pets at level 3."},{"Level":3,"About":"Start of battle: Swap attack and health and shuffle positions of ALL pets."}],"Id":"167","Name":"Hyena","NameId":"Hyena","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on one enemy per battle."},{"Level":2,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on two different enemies per battle."},{"Level":3,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on three different enemies per battle."}],"Id":"553","Name":"Ibex","NameId":"Ibex","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Pet flung: Set attack and health to 13."},{"Level":2,"About":"Pet flung: Set attack and health to 26."},{"Level":3,"About":"Pet flung: Set attack and health to 39."}],"Id":"554","Name":"Jackal","NameId":"Jackal","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one random 14/16 pet from tier 3 up front for you and the opponent."},{"Level":2,"About":"Faint: Summon two random 14/16 pets from tier 3 up front for you and the opponent."},{"Level":3,"About":"Faint: Summon three random 14/16 pets from tier 3 up front for you and the opponent."}],"Id":"655","Name":"Kappa","NameId":"Kappa","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Friend faints: Transfer all friendly mana + 2 to nearest friend ahead."},{"Level":2,"About":"Friend faints: Transfer all friendly mana + 4 to nearest friend ahead."},{"Level":3,"About":"Friend faints: Transfer all friendly mana + 6 to nearest friend ahead."}],"Id":"354","Name":"Kitsune","NameId":"Kitsune","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it +1 attack and +2 health once. Permanent if it jumped."},{"Level":2,"About":"Before friend attacks: Give it +2 attack and +4 health once. Permanent if it jumped."},{"Level":3,"About":"Before friend attacks: Give it +3 attack and +6 health once. Permanent if it jumped."}],"Id":"640","Name":"Loveland Frogman","NameId":"LovelandFrogman","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend mana to remove 1 attack and health per mana from one random enemy."},{"Level":2,"About":"Faint: Spend mana to remove 1 attack and health per mana from two random enemies."},{"Level":3,"About":"Faint: Spend mana to remove 1 attack and health per mana from three random enemies."}],"Id":"808","Name":"Lusca","NameId":"Lusca","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 12/12 Orangutan with the same food perk as this."},{"Level":2,"About":"Start of battle: Summon one 24/24 Orangutan with the same food perk as this."},{"Level":3,"About":"Start of battle: Summon one 36/36 Orangutan with the same food perk as this."}],"Id":"238","Name":"Macaque","NameId":"Macaque","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Convert trumpets into double mana and spread it evenly to friends."},{"Level":2,"About":"Faint: Convert trumpets into triple mana and spread it evenly to friends."},{"Level":3,"About":"Faint: Convert trumpets into quadruple mana and spread it evenly to friends."}],"Id":"556","Name":"Maltese","NameId":"Maltese","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Mana"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it Melon. Works on one friend per turn."},{"Level":2,"About":"Before friend attacks: Give it Melon. Works on two different friends per turn."},{"Level":3,"About":"Before friend attacks: Give it Melon. Works on three different friends per turn."}],"Id":"532","Name":"Marine Iguana","NameId":"MarineIguana","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give front-most friendly pet +2 attack and +2 health."},{"Level":2,"About":"End turn: Give front-most friendly pet +4 attack and +4 health."},{"Level":3,"About":"End turn: Give front-most friendly pet +6 attack and +6 health."}],"Id":"46","Name":"Monkey","NameId":"Monkey","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Unfreeze shop and give one random friend +3 health for each tier 1 shop pet."},{"Level":2,"About":"End turn: Unfreeze shop and give one random friend +6 health for each tier 1 shop pet."},{"Level":3,"About":"End turn: Unfreeze shop and give one random friend +9 health for each tier 1 shop pet."}],"Id":"202","Name":"Moose","NameId":"Moose","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Friendly toy broke: Give adjacent friends +2 attack and +3 health."},{"Level":2,"About":"Friendly toy broke: Give adjacent friends +4 attack and +6 health."},{"Level":3,"About":"Friendly toy broke: Give adjacent friends +6 attack and +9 health."}],"Id":"242","Name":"Mosasaurus","NameId":"Mosasaurus","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend mana to gain 1 trumpet for each mana."},{"Level":2,"About":"Faint: Spend mana to gain 2 trumpets for each mana."},{"Level":3,"About":"Faint: Spend mana to gain 3 trumpets for each mana."}],"Id":"784","Name":"Namazu","NameId":"Namazu","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Trumpets"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 Boat. If it\'s your first Boat this battle, give it +1 and +1 for each roll."},{"Level":2,"About":"Faint: Summon one 6/6 Boat. If it\'s your first Boat this battle, give it +2 and +2 for each roll."},{"Level":3,"About":"Faint: Summon one 9/9 Boat. If it\'s your first Boat this battle, give it +3 and +3 for each roll."}],"Id":"363","Name":"Nessie","NameId":"Nessie","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"614","Name":"Nessie?","NameId":"FakeNessie","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Takes 4 less damage. Works 3 times per turn."},{"Level":2,"About":"Takes 8 less damage. Works 3 times per turn."},{"Level":3,"About":"Takes 12 less damage. Works 3 times per turn."}],"Id":"657","Name":"Nurikabe","NameId":"Nurikabe","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to one random enemy."},{"Level":2,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to two random enemies."},{"Level":3,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to three random enemies."}],"Id":"276","Name":"Nurse Shark","NameId":"NurseShark","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +8 trumpets."},{"Level":2,"About":"Faint: Gain +16 trumpets."},{"Level":3,"About":"Faint: Gain +24 trumpets."}],"Id":"246","Name":"Nyala","NameId":"Nyala","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Summon one Mantis with 40% attack and health of this."},{"Level":2,"About":"Start of battle: Summon one Mantis with 80% attack and health of this."},{"Level":3,"About":"Start of battle: Summon one Mantis with 120% attack and health of this."}],"Id":"557","Name":"Orchid Mantis","NameId":"OrchidMantis","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +4 attack and +4 health for each friend that sells for at least 3 gold."},{"Level":2,"About":"Start of battle: Gain +8 attack and +8 health for each friend that sells for at least 3 gold."},{"Level":3,"About":"Start of battle: Gain +12 attack and +12 health for each friend that sells for at least 3 gold."}],"Id":"801","Name":"Pacific Fanfish","NameId":"PacificFanfish","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give White Okra perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give White Okra perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give White Okra perk to the three nearest friends behind."}],"Id":"423","Name":"Painted Terrapin","NameId":"PaintedTerrapin","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 10 damage twice or ailment once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Perks are two times stronger on this in battle."},{"Level":2,"About":"Perks are three times stronger on this in battle."},{"Level":3,"About":"Perks are four times stronger on this in battle."}],"Id":"250","Name":"Panther","NameId":"Panther","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Swallow one Strawberry friend ahead and turn it into a Salmon on faint."},{"Level":2,"About":"Start of battle: Swallow two Strawberry friends ahead and turn them into Salmons on faint."},{"Level":3,"About":"Start of battle: Swallow three Strawberry friends ahead and turn them into Salmons on faint."}],"Id":"129","Name":"Pelican","NameId":"Pelican","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Summon"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Spend 4 mana to gain +3 gold next turn."},{"Level":2,"About":"Faint: Spend 4 mana to gain +6 gold next turn."},{"Level":3,"About":"Faint: Spend 4 mana to gain +9 gold next turn."}],"Id":"619","Name":"Pixiu","NameId":"Pixiu","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of turn: Give one random frozen shop pet +4 attack and +4 health."},{"Level":2,"About":"Start of turn: Give one random frozen shop pet +8 attack and +8 health."},{"Level":3,"About":"Start of turn: Give one random frozen shop pet +12 attack and +12 health."}],"Id":"108","Name":"Polar Bear","NameId":"PolarBear","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Before attack: Steal food perk from target. Works 1 time per battle."},{"Level":2,"About":"Before attack: Steal food perk from target. Works 2 times per battle."},{"Level":3,"About":"Before attack: Steal food perk from target. Works 3 times per battle."}],"Id":"158","Name":"Raccoon","NameId":"Racoon","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Make the last enemy Crisp."},{"Level":2,"About":"Start of battle: Make the two last enemies Crisp."},{"Level":3,"About":"Start of battle: Make the three last enemies Crisp."}],"Id":"368","Name":"Red Dragon","NameId":"RedDragon","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":["Ailments"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."},{"Level":2,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."},{"Level":3,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."}],"Id":"428","Name":"Red Panda","NameId":"RedPanda","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Knock out: Deal 4 damage to the first enemy. Double against tier 1 pets."},{"Level":2,"About":"Knock out: Deal 8 damage to the first enemy. Double against tier 1 pets."},{"Level":3,"About":"Knock out: Deal 12 damage to the first enemy. Double against tier 1 pets."}],"Id":"55","Name":"Rhino","NameId":"Rhino","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one Chick with 1 health and 50% attack of this."},{"Level":2,"About":"Faint: Summon two Chicks with 1 health and 50% attack of this."},{"Level":3,"About":"Faint: Summon three Chicks with 1 health and 50% attack of this."}],"Id":"63","Name":"Rooster","NameId":"Rooster","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Summoned: Deal 5 damage to one random enemy. Repeat for every 25 health this has."},{"Level":2,"About":"Summoned: Deal 10 damage to one random enemy. Repeat for every 25 health this has."},{"Level":3,"About":"Summoned: Deal 15 damage to one random enemy. Repeat for every 25 health this has."}],"Id":"562","Name":"Salmon","NameId":"Salmon","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the two front-most friends AND enemies +2 experience."},{"Level":2,"About":"Start of battle: Give the two front-most friends AND enemies +4 experience."},{"Level":3,"About":"Start of battle: Give the two front-most friends AND enemies +6 experience."}],"Id":"370","Name":"Salmon of Knowledge","NameId":"SalmonofWisdom","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Summoned: Gain Peanut perk."},{"Level":2,"About":"Summoned: Gain Peanut perk."},{"Level":3,"About":"Summoned: Gain Peanut perk."}],"Id":"65","Name":"Scorpion","NameId":"Scorpion","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make one random enemy Tasty."},{"Level":2,"About":"Start of battle: Make two random enemies Tasty."},{"Level":3,"About":"Start of battle: Make three random enemies Tasty."}],"Id":"564","Name":"Sea Cucumber","NameId":"SeaCucumber","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Faint: Give one random enemy permanent +2 attack and +2 health.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Eats food: Give three random friends +1 attack."},{"Level":2,"About":"Eats food: Give three random friends +2 attack."},{"Level":3,"About":"Eats food: Give three random friends +3 attack."}],"Id":"66","Name":"Seal","NameId":"Seal","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Two friends faint: Give the nearest friend ahead +3 attack and +4 health."},{"Level":2,"About":"Two friends faint: Give the nearest friend ahead +6 attack and +8 health."},{"Level":3,"About":"Two friends faint: Give the nearest friend ahead +9 attack and +12 health."}],"Id":"259","Name":"Secretary Bird","NameId":"SecretaryBird","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend faints: Gain +2 attack and +2 health."},{"Level":2,"About":"Friend faints: Gain +4 attack and +4 health."},{"Level":3,"About":"Friend faints: Gain +6 attack and +6 health."}],"Id":"69","Name":"Shark","NameId":"Shark","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Replace the nearest Strawberry ahead with +4 attack and +4 health."},{"Level":2,"About":"Start of turn: Replace the nearest Strawberry ahead with +8 attack and +8 health."},{"Level":3,"About":"Start of turn: Replace the nearest Strawberry ahead with +12 attack and +12 health."}],"Id":"134","Name":"Shoebill","NameId":"Shoebill","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Give three random friends with no food perks +1 attack and +1 health."},{"Level":2,"About":"End turn: Give three random friends with no food perks +2 attack and +2 health."},{"Level":3,"About":"End turn: Give three random friends with no food perks +3 attack and +3 health."}],"Id":"146","Name":"Siberian Husky","NameId":"SiberianHusky","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain +1 gold on next turn. Works 3 times per battle."},{"Level":2,"About":"Before attack: Gain +2 gold on next turn. Works 3 times per battle."},{"Level":3,"About":"Before attack: Gain +3 gold on next turn. Works 3 times per battle."}],"Id":"261","Name":"Silver Fox","NameId":"SilverFox","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Skewer perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Skewer perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Skewer perk to the three nearest friends behind."}],"Id":"277","Name":"Snapping Turtle","NameId":"SnappingJawTurtle","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack second and third enemy for 3 damage.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Gain +5 attack and +5 health and jump-attack one random enemy."},{"Level":2,"About":"Start of battle: Gain +10 attack and +10 health and jump-attack one random enemy."},{"Level":3,"About":"Start of battle: Gain +15 attack and +15 health and jump-attack one random enemy."}],"Id":"716","Name":"Snow Leopard","NameId":"SnowLeopard","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"],"Random":true},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Level 3 friend sold: Give friends +1 attack and +1 health. Triple if sold pet had at least 10 attack."},{"Level":2,"About":"Level 3 friend sold: Give friends +2 attack and +2 health. Triple if sold pet had at least 10 attack."},{"Level":3,"About":"Level 3 friend sold: Give friends +3 attack and +3 health. Triple if sold pet had at least 10 attack."}],"Id":"153","Name":"Starfish","NameId":"Starfish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Sting Ray toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Sting Ray toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Sting Ray toy."}],"Id":"178","Name":"Sting Ray","NameId":"Stingray","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal attack damage directly back to whoever knocked this out."},{"Level":2,"About":"Faint: Deal double attack damage directly back to whoever knocked this out."},{"Level":3,"About":"Faint: Deal triple attack damage directly back to whoever knocked this out."}],"Id":"278","Name":"Stonefish","NameId":"Stonefish","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":6,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Deal 100% attack damage to the most healthy enemy and itself."},{"Level":2,"About":"Start of battle: Deal 200% attack damage to the most healthy enemy and itself."},{"Level":3,"About":"Start of battle: Deal 300% attack damage to the most healthy enemy and itself."}],"Id":"119","Name":"Swordfish","NameId":"SwordFish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Give friends +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Give friends +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Give friends +3 attack and +3 health. Works 3 times per turn."}],"Id":"436","Name":"Taita Thrush","NameId":"TaitaThrush","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":10,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 health from all enemies. Repeat for every 10 attack this has."},{"Level":2,"About":"Start of battle: Remove 2 health from all enemies. Repeat for every 10 attack this has."},{"Level":3,"About":"Start of battle: Remove 3 health from all enemies. Repeat for every 10 attack this has."}],"Id":"569","Name":"Tarantula Hawk","NameId":"TarantulaHawk","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 25% of all stats and divide them out. Socialism!"},{"Level":2,"About":"Start of battle: Remove 50% of all stats and divide them out. Socialism!"},{"Level":3,"About":"Start of battle: Remove 75% of all stats and divide them out. Socialism!"}],"Id":"812","Name":"Tarasque","NameId":"Tarasque","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Give one random friend +3 attack and +3 health."},{"Level":2,"About":"Hurt: Give one random friend +6 attack and +6 health."},{"Level":3,"About":"Hurt: Give one random friend +9 attack and +9 health."}],"Id":"142","Name":"Triceratops","NameId":"Triceratops","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +3 attack and +1 health."},{"Level":2,"About":"Friend summoned: Give it +6 attack and +2 health."},{"Level":3,"About":"Friend summoned: Give it +9 attack and +3 health."}],"Id":"79","Name":"Turkey","NameId":"Turkey","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Enemy gained ailment: Deal 4 damage to it and gain damage as health. Works 2 times per battle."},{"Level":2,"About":"Enemy gained ailment: Deal 8 damage to it and gain damage as health. Works 2 times per battle."},{"Level":3,"About":"Enemy gained ailment: Deal 12 damage to it and gain damage as health. Works 2 times per battle."}],"Id":"381","Name":"Vampire Bat","NameId":"VampireBat","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold.","FinePrint":"Can\'t stock itself or Anglerfish."},{"Level":2,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold, twice.","FinePrint":"Can\'t stock itself or Anglerfish."},{"Level":3,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold, thrice.","FinePrint":"Can\'t stock itself or Anglerfish."}],"Id":"573","Name":"Venus Flytrap","NameId":"VenusFlytrap","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Two friends faint: Deal 4 damage to one random enemy."},{"Level":2,"About":"Two friends faint: Deal 8 damage to one random enemy."},{"Level":3,"About":"Two friends faint: Deal 12 damage to one random enemy."}],"Id":"135","Name":"Vulture","NameId":"Vulture","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption","Summon"],"Random":true},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: If turn number is even, gain +50% attack and health. Otherwise gain 6 mana."},{"Level":2,"About":"Start of battle: If turn number is even, gain +100% attack and health. Otherwise gain 12 mana."},{"Level":3,"About":"Start of battle: If turn number is even, gain +150% attack and health. Otherwise gain 18 mana."}],"Id":"383","Name":"Werewolf","NameId":"Werewolf","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Summon three 3/2 Pigs."},{"Level":2,"About":"Faint: Summon three 6/4 Pigs."},{"Level":3,"About":"Faint: Summon three 9/6 Pigs."}],"Id":"170","Name":"Wolf","NameId":"Wolf","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Deal 1 damage to nearest two pets ahead two times. Double against enemies."},{"Level":2,"About":"Start of battle: Deal 1 damage to nearest two pets ahead four times. Double against enemies."},{"Level":3,"About":"Start of battle: Deal 1 damage to nearest two pets ahead six times. Double against enemies."}],"Id":"156","Name":"Woodpecker","NameId":"Woodpecker","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt","Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first enemy."},{"Level":2,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first two enemies."},{"Level":3,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first three enemies."}],"Id":"807","Name":"Woolly Rhino","NameId":"WoollyRhino","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Buy & Sell: Give one random friend +2 attack and +2 health."},{"Level":2,"About":"Buy & Sell: Give one random friend +4 attack and +4 health."},{"Level":3,"About":"Buy & Sell: Give one random friend +6 attack and +6 health."}],"Id":"155","Name":"Zebra","NameId":"Zebra","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +3 attack and +3 health."},{"Level":2,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +6 attack and +6 health."},{"Level":3,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +9 attack and +9 health."}],"Id":"782","Name":"Akhlut","NameId":"Akhlut","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Adjacent tier 4 or lower friends deals 3 ability damage extra."},{"Level":2,"About":"Adjacent tier 4 or lower friends deals 6 ability damage extra."},{"Level":3,"About":"Adjacent tier 4 or lower friends deals 9 ability damage extra."}],"Id":"535","Name":"Albatross","NameId":"Albatross","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 3 times per turn."}],"Id":"194","Name":"Alpaca","NameId":"Alpaca","Tier":6,"TierMax":2147483647,"Packs":["Pack3","Custom"],"PacksRequired":["Pack3","Custom"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Friend hurt: Restore its health. Can restore up to 15 health per turn."},{"Level":2,"About":"Friend hurt: Restore its health. Can restore up to 30 health per turn."},{"Level":3,"About":"Friend hurt: Restore its health. Can restore up to 45 health per turn."}],"Id":"772","Name":"Amargasaurus","NameId":"Amargasaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +1 XP in battle for every 2 roll."},{"Level":2,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +2 XP in battle for every 2 roll."},{"Level":3,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +3 XP in battle for every 2 roll."}],"Id":"536","Name":"Ammonite","NameId":"Ammonite","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Transform","Levels","Roll"],"Random":true},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Friend transformed: Give it permanent +2 attack and +2 health. Works 2 times per turn."},{"Level":2,"About":"Friend transformed: Give it permanent +4 attack and +4 health. Works 2 times per turn."},{"Level":3,"About":"Friend transformed: Give it permanent +6 attack and +6 health. Works 2 times per turn."}],"Id":"391","Name":"Amsterdam Albatross","NameId":"AmsterdamAlbatross","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose one free pet from your last opponent to stock."},{"Level":2,"About":"Buy: Choose one free pet from your last opponent to stock twice."},{"Level":3,"About":"Buy: Choose one free pet from your last opponent to stock thrice."}],"Id":"180","Name":"Anglerfish","NameId":"Anglerfish","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make the highest attack enemy Sleepy."},{"Level":2,"About":"Start of battle: Make the two highest attack enemies Sleepy."},{"Level":3,"About":"Start of battle: Make the three highest attack enemies Sleepy."}],"Id":"603","Name":"Bakunawa","NameId":"Bakunawa","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Attack with half damage, once.","CustomArchetypes":["Ailments"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon ANY one useful <b>Start of Battle</b> pet from tier 4 and activate its ability."},{"Level":2,"About":"Faint: Summon ANY two useful <b>Start of Battle</b> pets from tier 4 and activate their abilities."},{"Level":3,"About":"Faint: Summon ANY three useful <b>Start of Battle</b> pets from tier 4 and activate their abilities."}],"Id":"397","Name":"Bay Cat","NameId":"BayCat","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":12,"Health":12,"Abilities":[{"Level":1,"About":"End turn: Gain +2 attack and +2 health. Attack and health can go up to 100!"},{"Level":2,"About":"End turn: Gain +4 attack and +4 health. Attack and health can go up to 100!"},{"Level":3,"About":"End turn: Gain +6 attack and +6 health. Attack and health can go up to 100!"}],"Id":"333","Name":"Behemoth","NameId":"Behemoth","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff","Mvp"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Spend 7 gold: Give three random friends +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Spend 7 gold: Give three random friends +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Spend 7 gold: Give three random friends +3 attack and +3 health. Works 3 times per turn."}],"Id":"181","Name":"Bird of Paradise","NameId":"ParadiseBird","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff","Gold"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Remove 4 health from one random enemy for each food this has eaten this turn."},{"Level":2,"About":"Faint: Remove 8 health from one random enemy for each food this has eaten this turn."},{"Level":3,"About":"Faint: Remove 12 health from one random enemy for each food this has eaten this turn."}],"Id":"687","Name":"Black Bear","NameId":"BlackBear","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption","Food"],"Random":true},{"Attack":5,"Health":9,"Abilities":[{"Level":1,"About":"Seven enemy attacks: Deal 30 damage to the most healthy enemy."},{"Level":2,"About":"Seven enemy attacks: Deal 30 damage to the two most healthy enemies."},{"Level":3,"About":"Seven enemy attacks: Deal 30 damage to the three most healthy enemies."}],"Id":"398","Name":"Black Rhino","NameId":"BlackRhino","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":12,"Health":12,"Abilities":[{"Level":1,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +6 attack and +6 health."}],"Id":"399","Name":"Blue Whale","NameId":"BlueWhale","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain +4 attack and +2 health."},{"Level":2,"About":"Before attack: Gain +8 attack and +4 health."},{"Level":3,"About":"Before attack: Gain +12 attack and +6 health."}],"Id":"103","Name":"Boar","NameId":"Boar","Tier":6,"TierMax":2147483647,"Packs":["Pack1","Custom"],"PacksRequired":["Pack1","Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Friend transformed: Gain its level 1 ability. Works 2 times per battle."},{"Level":2,"About":"Friend transformed: Gain its level 2 ability. Works 2 times per battle."},{"Level":3,"About":"Friend transformed: Gain its level 3 ability. Works 2 times per battle."}],"Id":"403","Name":"California Condor","NameId":"CaliforniaCondor","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Shop food gives two times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."},{"Level":2,"About":"Shop food gives three times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."},{"Level":3,"About":"Shop food gives four times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."}],"Id":"11","Name":"Cat","NameId":"Cat","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff","Food","Mvp"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Activate Buy ability on the nearest friend ahead once, or give it +4 health."},{"Level":2,"About":"Start of turn: Activate Buy ability on the nearest friend ahead twice, or give it +8 health."},{"Level":3,"About":"Start of turn: Activate Buy ability on the nearest friend ahead thrice, or give it +12 health."}],"Id":"174","Name":"Catfish","NameId":"Catfish","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":9,"Health":9,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 1 time per battle."},{"Level":2,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 2 times per battle."},{"Level":3,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 3 times per battle."}],"Id":"337","Name":"Cerberus","NameId":"Cerberus","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Summon"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend ate corncob: Give them +1 attack and +1 health."},{"Level":2,"About":"Friend ate corncob: Give them +2 attack and +2 health."},{"Level":3,"About":"Friend ate corncob: Give them +3 attack and +3 health."}],"Id":"542","Name":"Chimpanzee","NameId":"Chimpanzee","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":12,"Health":6,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Deal 20% attack damage to one random enemy."},{"Level":2,"About":"Friend ahead attacks: Deal 40% attack damage to one random enemy."},{"Level":3,"About":"Friend ahead attacks: Deal 60% attack damage to one random enemy."}],"Id":"217","Name":"Cobra","NameId":"Cobra","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption","Guard"],"Random":true},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Transform the back-most level 1 or lower enemy to rock."},{"Level":2,"About":"Start of battle: Transform the back-most level 2 or lower enemy to rock."},{"Level":3,"About":"Start of battle: Transform the back-most level 3 or lower enemy to rock."}],"Id":"340","Name":"Cockatrice","NameId":"Cockatrice","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Eats two food: Gain Coconut perk until next turn."},{"Level":2,"About":"Eats two food: Gain Coconut perk that works twice until next turn."},{"Level":3,"About":"Eats two food: Gain Coconut perk that works thrice until next turn."}],"Id":"779","Name":"Coconut Crab","NameId":"CoconutCrab","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Food"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Tier 1 friend bought: Give friends +1 attack and +1 health. Works 4 times per turn."},{"Level":2,"About":"Tier 1 friend bought: Give friends +2 attack and +2 health. Works 4 times per turn."},{"Level":3,"About":"Tier 1 friend bought: Give friends +3 attack and +3 health. Works 4 times per turn."}],"Id":"25","Name":"Dragon","NameId":"Dragon","Tier":6,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Buff","Cycle"]},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Before attack: Move ailment to the first two enemies."},{"Level":2,"About":"Before attack: Move ailment to the first two enemies with double effect."},{"Level":3,"About":"Before attack: Move ailment to the first two enemies with triple effect."}],"Id":"769","Name":"Dunkleosteus","NameId":"Dunkleosteus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three random friends +1 attack and +1 health for each battle this has fought."},{"Level":2,"About":"Faint: Give three random friends +2 attack and +2 health for each battle this has fought."},{"Level":3,"About":"Faint: Give three random friends +3 attack and +3 health for each battle this has fought."}],"Id":"781","Name":"Eagle Owl","NameId":"EagleOwl","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Gain perk: Give three friends +4 attack and +4 health until next turn. Works 1 time per turn."},{"Level":2,"About":"Gain perk: Give three friends +8 attack and +8 health until next turn. Works 1 time per turn."},{"Level":3,"About":"Gain perk: Give three friends +12 attack and +12 health until next turn. Works 1 time per turn."}],"Id":"222","Name":"Elephant Seal","NameId":"ElephantSeal","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Feed one Corncob to all friends."},{"Level":2,"About":"End turn: Feed two Corncobs to all friends."},{"Level":3,"About":"End turn: Feed three Corncobs to all friends."}],"Id":"692","Name":"Farmer Dog","NameId":"FarmerDog","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend faints: Summon one 4/4 fly in its place. Works 3 times per turn."},{"Level":2,"About":"Friend faints: Summon one 8/8 fly in its place. Works 3 times per turn."},{"Level":3,"About":"Friend faints: Summon one 12/12 fly in its place. Works 3 times per turn."}],"Id":"30","Name":"Fly","NameId":"Fly","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Friend summoned: Give 25% of attack to it until next turn."},{"Level":2,"About":"Friend summoned: Give 50% of attack to it until next turn."},{"Level":3,"About":"Friend summoned: Give 75% of attack to it until next turn."}],"Id":"230","Name":"German Shepherd","NameId":"GermanShepard","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":7,"Health":10,"Abilities":[{"Level":1,"About":"Hurt: Gain Coconut perk. Works 1 time per turn."},{"Level":2,"About":"Hurt: Gain Coconut perk. Works 2 times per turn."},{"Level":3,"About":"Hurt: Gain Coconut perk. Works 3 times per turn."}],"Id":"36","Name":"Gorilla","NameId":"Gorilla","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Hurt"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 20 damage. Works 1 time per turn."},{"Level":2,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 40 damage. Works 1 time per turn."},{"Level":3,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 60 damage. Works 1 time per turn."}],"Id":"413","Name":"Green Sea Turtle","NameId":"GreenSeaTurtle","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Five friendly attacks: Deal 6 damage to two random enemies."},{"Level":2,"About":"Five friendly attacks: Deal 12 damage to two random enemies."},{"Level":3,"About":"Five friendly attacks: Deal 18 damage to two random enemies."}],"Id":"275","Name":"Grizzly Bear","NameId":"GrizzlyBear","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption","Summon"],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of turn: If this has a level 3 friend, gain +3 gold."},{"Level":2,"About":"Start of turn: If this has a level 3 friend, gain +6 gold."},{"Level":3,"About":"Start of turn: If this has a level 3 friend, gain +9 gold."}],"Id":"123","Name":"Hammerhead Shark","NameId":"Hammershark","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Gold","Levels"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Summon one random 5/5 pet from tier 1. Works 3 times per turn."},{"Level":2,"About":"Hurt: Summon one random 10/10 pet from tier 1. Works 3 times per turn."},{"Level":3,"About":"Hurt: Summon one random 15/15 pet from tier 1. Works 3 times per turn."}],"Id":"552","Name":"Harpy Eagle","NameId":"HarpyEagle","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give three friends +2 to their lowest stat."},{"Level":2,"About":"End turn: Give three friends +4 to their lowest stat."},{"Level":3,"About":"End turn: Give three friends +6 to their lowest stat."}],"Id":"415","Name":"Helmeted Hornbill","NameId":"HelmetedHornbill","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of battle: Gain +4 trumpets and 1 more for each 3 health this has."},{"Level":2,"About":"Start of battle: Gain +8 trumpets and 2 more for each 3 health this has."},{"Level":3,"About":"Start of battle: Gain +12 trumpets and 3 more for each 3 health this has."}],"Id":"186","Name":"Highland Cow","NameId":"HighlandCow","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":9,"Abilities":[{"Level":1,"About":"Friend transformed: Transform it back and down to level 1. Works 2 times per turn."},{"Level":2,"About":"Friend transformed: Transform it back and down to level 2. Works 2 times per turn."},{"Level":3,"About":"Friend transformed: Transform it back and down to level 3. Works 2 times per turn."}],"Id":"753","Name":"Hooded Seal","NameId":"HoodedSeal","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/5 Head for each 10 attack this has."},{"Level":2,"About":"Faint: Summon one 10/10 Head for each 10 attack this has."},{"Level":3,"About":"Faint: Summon one 15/15 Head for each 10 attack this has."}],"Id":"352","Name":"Hydra","NameId":"Hydra","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack and +1 health until next turn for each level 3 pet sold this game (max 5)."},{"Level":2,"About":"Friend summoned: Give it +2 attack and +2 health until next turn for each level 3 pet sold this game (max 5)."},{"Level":3,"About":"Friend summoned: Give it +3 attack and +3 health until next turn for each level 3 pet sold this game (max 5)."}],"Id":"652","Name":"Jersey Devil","NameId":"JerseyDevil","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Give friends ahead +1 attack and +1 health and then shuffle their positions."},{"Level":2,"About":"End turn: Give friends ahead +2 attack and +2 health and then shuffle their positions."},{"Level":3,"About":"End turn: Give friends ahead +3 attack and +3 health and then shuffle their positions."}],"Id":"124","Name":"Komodo","NameId":"Komodo","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Friend faints: Deal 1 damage to the nearest friend ahead."},{"Level":2,"About":"Friend faints: Deal 1 damage to the nearest two friends ahead."},{"Level":3,"About":"Friend faints: Deal 1 damage to the nearest three friends ahead."}],"Id":"749","Name":"Lamprey","NameId":"Lamprey","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 50% attack damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 50% attack damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 50% attack damage to three random enemies."}],"Id":"41","Name":"Leopard","NameId":"Leopard","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":6,"Health":10,"Abilities":[{"Level":1,"About":"Start of turn: Summon one 6/6 Fish and give it +2 experience."},{"Level":2,"About":"Start of turn: Summon one 12/12 Fish and give it +4 experience."},{"Level":3,"About":"Start of turn: Summon one 18/18 Fish and give it +6 experience."}],"Id":"356","Name":"Leviathan","NameId":"Leviathan","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Cycle"]},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: If this is your highest tier pet, gain +50% attack and health."},{"Level":2,"About":"Start of battle: If this is your highest tier pet, gain +100% attack and health."},{"Level":3,"About":"Start of battle: If this is your highest tier pet, gain +150% attack and health."}],"Id":"42","Name":"Lion","NameId":"Lion","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Pet sold: Give future shop pets of the same tier +1 attack and +1 health. Works 2 times per turn."},{"Level":2,"About":"Pet sold: Give future shop pets of the same tier +2 attack and +2 health. Works 2 times per turn."},{"Level":3,"About":"Pet sold: Give future shop pets of the same tier +3 attack and +3 health. Works 2 times per turn."}],"Id":"114","Name":"Lioness","NameId":"Lioness","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to one random enemy. Repeat for each 10 attack this has."},{"Level":2,"About":"Faint: Deal 6 damage to one random enemy. Repeat for each 10 attack this has."},{"Level":3,"About":"Faint: Deal 9 damage to one random enemy. Repeat for each 10 attack this has."}],"Id":"201","Name":"Lionfish","NameId":"Lionfish","Tier":6,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":4,"Health":12,"Abilities":[{"Level":1,"About":"Faint: Give friends +2 attack and +2 health."},{"Level":2,"About":"Faint: Give friends +4 attack and +4 health."},{"Level":3,"About":"Faint: Give friends +6 attack and +6 health."}],"Id":"45","Name":"Mammoth","NameId":"Mammoth","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Enemy ailments are two times worse."},{"Level":2,"About":"Enemy ailments are three times worse."},{"Level":3,"About":"Enemy ailments are four times worse."}],"Id":"358","Name":"Manticore","NameId":"Manticore","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":9,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal 10 damage to the first enemy."},{"Level":2,"About":"Start of battle: Deal 10 damage to the first enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 10 damage to the first enemy. Triggers 3 times."}],"Id":"190","Name":"Mantis Shrimp","NameId":"ShrimpMantis","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Spend 4 trumpets to give friends permanent +4 attack and +4 health evenly spread."},{"Level":2,"About":"Faint: Spend 4 trumpets to give friends permanent +8 attack and +8 health evenly spread."},{"Level":3,"About":"Faint: Spend 4 trumpets to give friends permanent +12 attack and +12 health evenly spread."}],"Id":"743","Name":"Markhor","NameId":"Markhor","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"After attack: Deal 4 damage to the least healthy enemy."},{"Level":2,"About":"After attack: Deal 4 damage to the two least healthy enemies."},{"Level":3,"About":"After attack: Deal 4 damage to the three least healthy enemies."}],"Id":"712","Name":"Mimic Octopus","NameId":"MimicOctopus","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":7,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Mongoose toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Mongoose toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Mongoose toy."}],"Id":"241","Name":"Mongoose","NameId":"Mongoose","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"After attack: Deal 6 damage to one random enemy."},{"Level":2,"About":"After attack: Deal 6 damage to two random enemies."},{"Level":3,"About":"After attack: Deal 6 damage to three random enemies."}],"Id":"50","Name":"Octopus","NameId":"Octopus","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Summon one random Faint pet from ANY pack as 6/6."},{"Level":2,"About":"Faint: Summon two random Faint pets from ANY pack as 6/6."},{"Level":3,"About":"Faint: Summon three random Faint pets from ANY pack as 6/6."}],"Id":"116","Name":"Orca","NameId":"Orca","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +2 health. Works 4 times per turn."},{"Level":2,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +4 health. Works 4 times per turn."},{"Level":3,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +6 health. Works 4 times per turn."}],"Id":"125","Name":"Ostrich","NameId":"Ostrich","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll","Buff"],"Random":true},{"Attack":2,"Health":10,"Abilities":[{"Level":1,"About":"Sell: Gain +3 gold."},{"Level":2,"About":"Sell: Gain +6 gold."},{"Level":3,"About":"Sell: Gain +9 gold."}],"Id":"248","Name":"Oyster","NameId":"Oyster","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":7,"Health":6,"Abilities":[{"Level":1,"About":"Anyone jumped: Give one random friendly pet +4 attack and +4 health."},{"Level":2,"About":"Anyone jumped: Give one random friendly pet +8 attack and +8 health."},{"Level":3,"About":"Anyone jumped: Give one random friendly pet +12 attack and +12 health."}],"Id":"424","Name":"Philippine Eagle","NameId":"PhilippineEagle","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"],"Random":true},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"Faint: Make ANY three random pets Crisp, then summon one 4/4 Young Phoenix."},{"Level":2,"About":"Faint: Make ANY six random pets Crisp, then summon one 8/8 Young Phoenix."},{"Level":3,"About":"Faint: Make ANY nine random pets Crisp, then summon one 12/12 Young Phoenix."}],"Id":"366","Name":"Phoenix","NameId":"Phoenix","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Hurt: Give friends +3 attack."},{"Level":2,"About":"Hurt: Give friends +6 attack."},{"Level":3,"About":"Hurt: Give friends +9 attack."}],"Id":"118","Name":"Piranha","NameId":"Piranha","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +1 health to one friend of each tier."},{"Level":2,"About":"End turn: Give +2 attack and +2 health to one friend of each tier."},{"Level":3,"About":"End turn: Give +3 attack and +3 health to one friend of each tier."}],"Id":"96","Name":"Poodle","NameId":"Poodle","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 1 time per battle.","FinePrint":"Does not summon other Pteranodons."},{"Level":2,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 2 times per battle.","FinePrint":"Does not summon other Pteranodons."},{"Level":3,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 3 times per battle.","FinePrint":"Does not summon other Pteranodons."}],"Id":"253","Name":"Pteranodon","NameId":"Pteranodon","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friendly toy repeats its ability as level 1."},{"Level":2,"About":"Friendly toy repeats its ability as level 2."},{"Level":3,"About":"Friendly toy repeats its ability as level 3."}],"Id":"254","Name":"Puma","NameId":"Puma","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":7,"Health":9,"Abilities":[{"Level":1,"About":"Sell: Choose one level 1 king toy."},{"Level":2,"About":"Sell: Choose one level 2 king toy."},{"Level":3,"About":"Sell: Choose one level 3 king toy."}],"Id":"616","Name":"Questing Beast","NameId":"QuestingBeast","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give one random tier 3 or lower friend +2 experience."},{"Level":2,"About":"End turn: Give one random tier 3 or lower friend +2 experience. Triggers 2 times."},{"Level":3,"About":"End turn: Give one random tier 3 or lower friend +2 experience. Triggers 3 times."}],"Id":"367","Name":"Quetzalcoatl","NameId":"Quetzalcoatl","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"],"Random":true},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friend lost perk: Return its perk. Works on one friend per turn."},{"Level":2,"About":"Friend lost perk: Return its perk. Works on two different friends per turn."},{"Level":3,"About":"Friend lost perk: Return its perk. Works on three different friends per turn."}],"Id":"561","Name":"Real Velociraptor","NameId":"RealVelociraptor","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":9,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain Melon perk. Works 1 time per battle."},{"Level":2,"About":"Before attack: Gain Melon perk. Works 2 times per battle."},{"Level":3,"About":"Before attack: Gain Melon perk. Works 3 times per battle."}],"Id":"205","Name":"Reindeer","NameId":"Reindeer","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +12 trumpets. Works 1 time per battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +24 trumpets. Works 1 time per battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +36 trumpets. Works 1 time per battle."}],"Id":"533","Name":"Rockhopper Penguin","NameId":"SouthernRockhopperPenguin","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard","Trumpets"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one Mammoth with +2 attack and +3 health for each time this was hurt."},{"Level":2,"About":"Faint: Summon two Mammoths with +2 attack and +3 health for each time this was hurt."},{"Level":3,"About":"Faint: Summon three Mammoths with +2 attack and +3 health for each time this was hurt."}],"Id":"148","Name":"Sabertooth Tiger","NameId":"SabertoothTiger","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon","Hurt"]},{"Attack":4,"Health":12,"Abilities":[{"Level":1,"About":"Friendly gained perk: Gain +1 gold next turn. Works 3 times per turn."},{"Level":2,"About":"Friendly gained perk: Gain +2 gold next turn. Works 3 times per turn."},{"Level":3,"About":"Friendly gained perk: Gain +3 gold next turn. Works 3 times per turn."}],"Id":"98","Name":"Sauropod","NameId":"Sauropod","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Gold","Perks"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"This pet\'s mana damage hits the most healthy enemy and one extra enemy."},{"Level":2,"About":"This pet\'s mana damage hits the most healthy enemy and two extra enemies."},{"Level":3,"About":"This pet\'s mana damage hits the most healthy enemy and three extra enemies."}],"Id":"372","Name":"Sea Serpent","NameId":"SeaSerpent","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Disruption"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of battle: Transform two friends behind into ANY useful level 1 <b>Faint</b> pets from tier 6."},{"Level":2,"About":"Start of battle: Transform two friends behind into ANY useful level 2 <b>Faint</b> pets from tier 6."},{"Level":3,"About":"Start of battle: Transform two friends behind into ANY useful level 3 <b>Faint</b> pets from tier 6."}],"Id":"432","Name":"Silky Sifaka","NameId":"SilkySifaka","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":8,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +1 mana for each 2 attack this has."},{"Level":2,"About":"Start of battle: Give the two front-most friends +1 mana for each 2 attack this has."},{"Level":3,"About":"Start of battle: Give the three front-most friends +1 mana for each 2 attack this has."}],"Id":"606","Name":"Sleipnir","NameId":"Sleipnir","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies."},{"Level":2,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies. Triggers 2 times."},{"Level":3,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies. Triggers 3 times."}],"Id":"773","Name":"Small One","NameId":"BabyCthulhu","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Deal 5 damage to one random enemy. Works 5 times per battle."},{"Level":2,"About":"Friend ahead attacks: Deal 10 damage to one random enemy. Works 5 times per battle."},{"Level":3,"About":"Friend ahead attacks: Deal 15 damage to one random enemy. Works 5 times per battle."}],"Id":"73","Name":"Snake","NameId":"Snake","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Guard"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend faints: Give one random friend +2 attack and +3 health."},{"Level":2,"About":"Friend faints: Give one random friend +4 attack and +6 health."},{"Level":3,"About":"Friend faints: Give one random friend +6 attack and +9 health."}],"Id":"143","Name":"Spinosaurus","NameId":"Spinosaurus","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon","Mvp"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give one perk-less friend +10 attack and +10 health."},{"Level":2,"About":"Start of battle: Give one perk-less friend +20 attack and +20 health."},{"Level":3,"About":"Start of battle: Give one perk-less friend +30 attack and +30 health."}],"Id":"144","Name":"Stegosaurus","NameId":"Stegosaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":9,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Jump-attack the opposite enemy."},{"Level":2,"About":"Start of battle: Jump-attack the opposite enemy and deal 6 damage to adjacent enemies."},{"Level":3,"About":"Start of battle: Jump-attack the opposite enemy and deal 12 damage to adjacent enemies."}],"Id":"434","Name":"Sumatran Tiger","NameId":"SumatranTiger","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":4,"Health":10,"Abilities":[{"Level":1,"About":"Start of battle: If turn number is odd, deal 4 damage to ALL pets ahead."},{"Level":2,"About":"Start of battle: If turn number is odd, deal 8 damage to ALL pets ahead."},{"Level":3,"About":"Start of battle: If turn number is odd, deal 12 damage to ALL pets ahead."}],"Id":"568","Name":"Sunfish","NameId":"Sunfish","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 10/10 level 1 copy of the back-most friend."},{"Level":2,"About":"Start of battle: Summon one 20/20 level 2 copy of the back-most friend."},{"Level":3,"About":"Start of battle: Summon one 30/30 level 3 copy of the back-most friend."}],"Id":"208","Name":"Tapir","NameId":"Tapir","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Friend level-up: Give friends +1 attack and +1 health."},{"Level":2,"About":"Friend level-up: Give friends +2 attack and +2 health."},{"Level":3,"About":"Friend level-up: Give friends +3 attack and +3 health."}],"Id":"636","Name":"Team Spirit","NameId":"TeamSpirit","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give Peanut perk to the front-most Strawberry friend."},{"Level":2,"About":"Start of battle: Give Peanut perk to the two front-most Strawberry friends."},{"Level":3,"About":"Start of battle: Give Peanut perk to the three front-most Strawberry friends."}],"Id":"806","Name":"Terror Bird","NameId":"TerrorBird","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":["Strawberry"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to the front-most Strawberry friend."},{"Level":2,"About":"Start of battle: Give Coconut perk to the two front-most Strawberry friends."},{"Level":3,"About":"Start of battle: Give Coconut perk to the three front-most Strawberry friends."}],"Id":"759","Name":"Therizinosaurus","NameId":"Therizinosaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Strawberry"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"The friend ahead repeats their ability in battle as if they were level 1."},{"Level":2,"About":"The friend ahead repeats their ability in battle as if they were level 2."},{"Level":3,"About":"The friend ahead repeats their ability in battle as if they were level 3."}],"Id":"77","Name":"Tiger","NameId":"Tiger","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Mvp","Mvp"]},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of turn: Give two tier 5 friends or higher +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Give two tier 5 friends or higher +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Give two tier 5 friends or higher +6 attack and +6 health."}],"Id":"78","Name":"Tyrannosaurus","NameId":"Tyrannosaurus","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +2 health to each friend with a different ailment."},{"Level":2,"About":"End turn: Give +2 attack and +4 health to each friend with a different ailment."},{"Level":3,"About":"End turn: Give +3 attack and +6 health to each friend with a different ailment."}],"Id":"711","Name":"Vampire Squid","NameId":"VampireSquid","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +2 attack and +3 health."},{"Level":2,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +4 attack and +6 health."},{"Level":3,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +6 attack and +9 health."}],"Id":"115","Name":"Velociraptor","NameId":"Velociraptor","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Peanut Butter perk to one random friend."},{"Level":2,"About":"Faint: Give Peanut Butter perk to two random friends."},{"Level":3,"About":"Faint: Give Peanut Butter perk to three random friends."}],"Id":"209","Name":"Walrus","NameId":"Walrus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":["Perks"],"Random":true},{"Attack":9,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give random friends +1 attack and +1 health for every 3 attack this has."},{"Level":2,"About":"Faint: Give random friends +2 attack and +2 health for every 3 attack this has."},{"Level":3,"About":"Faint: Give random friends +3 attack and +3 health for every 3 attack this has."}],"Id":"266","Name":"Warthog","NameId":"Warthog","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend behind +3 experience."},{"Level":2,"About":"Start of battle: Give the two nearest friends behind +3 experience."},{"Level":3,"About":"Start of battle: Give the three nearest friends behind +3 experience."}],"Id":"206","Name":"White Tiger","NameId":"WhiteTiger","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":8,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 1 time per battle."},{"Level":2,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 2 times per battle."},{"Level":3,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 3 times per battle."}],"Id":"268","Name":"Wildebeest","NameId":"Wildebeest","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give the nearest two friends ahead 5 mana."},{"Level":2,"About":"End turn: Give the nearest two friends ahead 10 mana."},{"Level":3,"About":"End turn: Give the nearest two friends ahead 15 mana."}],"Id":"633","Name":"Winter Spirit","NameId":"ForestSpirit","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Four friends hurt: Remove 3 health from all enemies."},{"Level":2,"About":"Four friends hurt: Remove 6 health from all enemies."},{"Level":3,"About":"Four friends hurt: Remove 9 health from all enemies."}],"Id":"269","Name":"Wolverine","NameId":"Wolverine","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Set attack and health of the most healthy pet from ANY team to 20."},{"Level":2,"About":"Faint: Set attack and health of the two most healthy pets from ANY team to 20."},{"Level":3,"About":"Faint: Set attack and health of the three most healthy pets from ANY team to 20."}],"Id":"766","Name":"Yellow Boxfish","NameId":"YellowBoxFish","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":9,"Abilities":[{"Level":1,"About":"Start of turn: Roll four times while freezing pet copies and tier 6 food."},{"Level":2,"About":"Start of turn: Roll eight times while freezing pet copies and tier 6 food."},{"Level":3,"About":"Start of turn: Roll twelve times while freezing pet copies and tier 6 food."}],"Id":"387","Name":"Yeti","NameId":"Yeti","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"648","Name":"Chimera Goat","NameId":"ChimeraGoat","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"650","Name":"Chimera Lion","NameId":"ChimeraLion","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"649","Name":"Chimera Snake","NameId":"ChimeraSnake","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"614","Name":"Fake Nessie","NameId":"FakeNessie","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Remove this."},{"Level":2,"About":"Start of battle: Remove this. Summoned: Remove this."},{"Level":3,"About":"Start of battle: Remove this. Summoned: Remove this."}],"Id":"823","Name":"Moby Dick","NameId":"MochaDick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Before battle: If pack has no pets/food from the tab, remove 1 XP from three random enemies."},{"Level":2,"About":"Before battle: If pack has no pets/food from the tab, remove 2 XP from three random enemies."},{"Level":3,"About":"Before battle: If pack has no pets/food from the tab, remove 3 XP from three random enemies."}],"Id":"824","Name":"Tanystropheus","NameId":"Tanystropheus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]}]')},13322(O,S,i){i.d(S,{$:()=>v});var P=i(56518),c=i(46200),A=i(5615),_=i(1152);class v extends c.i{logService;abilityService;name="Pheasant";tier=1;pack="Star";attack=2;health=1;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends A.T{logService;abilityService;reset(){this.maxUses=this.level,super.reset()}constructor(n,a,o){super({name:"PheasantAbility",owner:n,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=o}executeAbility(n){const{triggerPet:o,tiger:r,pteranodon:d}=n,g=this.owner,f=(0,_.Uj)(g,o);if(!f.pet)return;const D=f.pet;(0,_.rv)(this.logService,g,`${g.name} gave ${D.name} a Strawberry.`,r,d,{randomEvent:f.random}),D.givePetEquipment(new P.q(this.logService)),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},13325(O,S,i){i.d(S,{Q:()=>v});var P=i(46200),c=i(5615),A=i(56990),_=i(33127);class v extends P.i{logService;abilityService;name="Desert Rain Frog";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"DesertRainFrogAbility",owner:n,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:n.level,condition:o=>this.owner.parent.trumpets>=1,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{tiger:a,pteranodon:o}=n,r=this.owner,d=_.I.getInjector().get(A.T);let g=Math.min(6,r.tier+this.level),f=d.getRandomFaintPet(r.parent,g,[],r);this.logService.createLog({message:`${r.name} transformed into ${f.name}.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:!0}),r.parent.spendTrumpets(1,r,o),r.parent.transformPet(r,f),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},13340(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Emperor Tamarin";tier=3;pack="Custom";attack=3;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Emperor Tamarin Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} sold and gave ${1===this.level?33:2===this.level?66:100}% of its stats to the leftmost shop pet.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},13420(O,S,i){i.d(S,{a:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Takin";tier=3;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TakinAbility",owner:e,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=this.level,g=2*this.level,f=r.parent.getThis(r),D=f.pet;D.increaseAttack(d),D.increaseHealth(g),this.logService.createLog({message:`${r.name} gave ${D.name} ${d} attack and ${g} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},13651(O,S,i){i.d(S,{J:()=>c});var P=i(22097);class c extends P.${name="Croissant";tier=3;equipmentClass="shop";constructor(){super()}}},13712(O,S,i){i.d(S,{u:()=>c});var P=i(22097);class c extends P.${name="Peanut";tier=7;equipmentClass="attack";power=0}},13713(O,S,i){i.d(S,{s:()=>c});var P=i(50873);class c extends P.L{name="Holy Grail";tier=6}},13761(O,S,i){i.d(S,{s:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Sleeping Gelada";tier=1;pack="Custom";hidden=!0;attack=3;health=7;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},13837(O,S,i){i.d(S,{V:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;petService;name="Harpy Eagle";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new t(this,this.logService,this.petService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L,N){super(a,o,d),this.logService=a,this.abilityService=o,this.petService=r,this.initPet(k,g,f,D,L,N)}}class t extends c.T{logService;petService;usesThisTurn=0;constructor(a,o,r){super({name:"HarpyEagleAbility",owner:a,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.petService=r}executeAbility(a){if("ThisHurt"!==a.trigger||this.usesThisTurn>=3)return;this.usesThisTurn++;const{gameApi:o,tiger:r}=a,g=this.owner;let f=5*this.level;const D=$=>($??[]).filter(H=>H&&g.name&&H.toLowerCase()!==g.name.toLowerCase()),k=g.parent===o.player?o.playerPetPool:o.opponentPetPool;let L=D(k?.get(1));if(L.length||(L=D(this.petService.allPets.get(1))),!L.length)return;const N=(0,A.k6)({key:"pet.harpy-eagle-hurt-summon",label:(0,v.I)(g,"Harpy Eagle hurt summon"),options:L.map($=>({id:$,label:$}))},()=>(0,_.hw)(0,L.length-1));let ne=this.petService.createPet({name:L[N.index],attack:f,health:f,equipment:null,mana:0,exp:0},g.parent);g.parent.summonPet(ne,g.savedPosition,!1,g).success&&this.logService.createLog({message:`${g.name} spawned ${ne.name} (${f}/${f}).`,type:"ability",player:g.parent,tiger:r,randomEvent:N.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.petService)}}},13891(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Tucuxi";tier=3;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TucuxiAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.getLastPet([r],r),g=d.pet;if(!g)return;r.parent.pushPetToFront(g,!1),this.logService.createLog({message:`${r.name} pushed ${g.name} to the front`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random});let f=3*this.level;g.increaseAttack(f),g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} +${f} attack and +${f} health`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},13950(O,S,i){i.d(S,{F:()=>v,h:()=>_});var P=i(44402),c=i(50873),A=i(5615);class _ extends c.L{name="Melon Helmet";tier=3;onBreak(t,n){let a=this.parent.petArray.filter(o=>o.alive).slice(0,this.level);for(let o of a)o.givePetEquipment(new P.m),this.logService.createLog({message:`${this.name} gave ${o.name} Melon.`,type:"ability",player:this.parent,puma:n})}}class v extends A.T{logService;constructor(t,n){super({name:"MelonHelmetAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getPetsWithEquipment("Melon"),f=d.parent.getFurthestUpPets(this.level,g,d),D=f.pets;for(let k of D)k.givePetEquipment(new P.m),this.logService.createLog({message:`${d.name} gave ${k.name} Melon.`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},13997(O,S,i){i.d(S,{N:()=>v});var P=i(22097),c=i(5615),A=i(33127),_=i(24111);class v extends P.${name="Oyster Mushroom";equipmentClass="beforeAttack";callback=n=>{const a=n.getEquippedEquipmentInstance(this);n.addAbility(new e(n,a))}}class e extends c.T{equipment;logService;constructor(n,a){super({name:"OysterMushroomAbility",owner:n,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:o=>this.executeAbility(o)}),this.equipment=a,this.logService=A.I.getInjector().get(_.K)}executeAbility(n){const a=this.owner,o=Math.max(a.attack,9),r=Math.max(a.health,9);o!==a.attack&&(a.attack=o),r!==a.health&&(a.health=r),this.logService.createLog({message:`${a.name} set stats to ${a.attack}/${a.health}. (Oyster Mushroom)`,type:"equipment",player:a.parent}),a.removePerk()}}},14166(O,S,i){i.d(S,{A:()=>A});var P=i(50336);const A=function c(_){return(0,P.A)(this.__data__,_)>-1}},14173(O,S,i){i.d(S,{A:()=>A});var P=i(73180);const A=function c(){this.__data__=new P.A,this.size=0}},14182(O,S,i){i.d(S,{O:()=>A});var P=i(23828),c=i(50873);class A extends c.L{name="Dice Cup";tier=1;startOfBattle(v,e){const t=(0,P.A)(this.parent.petArray.filter(n=>n.alive));for(let n=0;n<5;n++)this.parent.setPet(n,t[n]??null);this.logService.createLog({message:`${this.name} shuffled the team.`,type:"ability",player:this.parent,puma:e})}}},14218(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Snail";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SnailAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,n=e.gameApi;if(!(t.parent===n?.player?n?.playerLostLastBattle:n?.opponentLostLastBattle))return;const r=this.level,d=t.parent.nearestPetsAhead(3,t);if(0!==d.pets.length){for(const g of d.pets)g.increaseAttack(r);this.logService.createLog({message:`${t.name} gave ${d.pets.map(g=>g.name).join(", ")} +${r} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:d.random}),this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},14228(O,S,i){i.d(S,{d:()=>_});var P=i(46200),c=i(5615),A=i(4230);class _ extends P.i{logService;abilityService;name="Owl";tier=3;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"OwlAbility",owner:t,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,o=new A.K(this.logService,this.abilityService,n.parent,null,null,null,this.minExpForLevel),r=n.parent.summonPet(o,n.savedPosition,!1,n);r.success&&this.logService.createLog({message:`${n.name} summoned a level ${this.level} Mouse.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:r.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},14271(O,S,i){i.d(S,{t:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;petService;name="Mushroom";tier=6;equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService,this.petService))};constructor(e,t){super(),this.logService=e,this.petService=t}}class _ extends c.T{equipment;logService;petService;constructor(e,t,n,a){super({name:"MushroomAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.logService=n,this.petService=a}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let a=this.petService.createDefaultVersionOfPet(t,1,1);a.exp=t.exp,a.triggersConsumed=t.triggersConsumed,a.originalTriggersConsumed=t.triggersConsumed,t.parent.summonPet(a,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned ${a.name} (level ${a.level}) (Mushroom)${n>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent})}}}},14421(O,S,i){i.d(S,{of:()=>_});var P=i(32234),c=i(44279),A=i(32496);function _(...v){let e=v[v.length-1];return(0,P.m)(e)?(v.pop(),(0,A.V)(v,e)):(0,c.c)(v)}},14429(O,S,i){i.d(S,{A:()=>v});var P=i(6792),c=i(42917),A=i(31287);const v=function _(e){return(0,A.A)(e)?(0,P.A)(e):(0,c.A)(e)}},14469(O,S,i){i.d(S,{j:()=>_});var P=i(46200),c=i(5615),A=i(23638);class _ extends P.i{logService;abilityService;petService;name="Ammonite";tier=6;pack="Star";attack=5;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D,k){super(t,n,o),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,d,g,D,k)}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"AmmoniteAbility",owner:t,triggers:["Faint"],abilityType:"Pet",abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.petService=a}executeAbility(t){const{gameApi:n}=t,d=this.owner;let g=d.parent.nearestPetsBehind(1,d);if(0===g.pets.length)return;let f=g.pets[0],k=Math.floor((d.parent===n.player?n.playerRollAmount:n.opponentRollAmount)/2)*this.level,L=this.petService.createPet({name:"Mimic Octopus",attack:f.attack,health:f.health,equipment:f.equipment,mana:f.mana,exp:null},d.parent);(0,A.c2)({logService:this.logService,owner:d,context:t,fromPet:f,toPet:L,message:`${d.name} transformed ${f.name} into ${L.name}`,extras:{randomEvent:g.random}});let N=d.parent.getSpecificPet(d,L),q=N.pet;null!=q&&((0,A.Oe)({logService:this.logService,owner:d,context:t,target:q,amount:k,extras:{randomEvent:N.random}}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService,this.petService)}}},14541(O,S,i){i.d(S,{A:()=>_});var v,P=i(39748),c=(v=/[^.]+$/.exec(P.A&&P.A.keys&&P.A.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"";const _=function A(v){return!!c&&c in v}},14787(O,S,i){i.d(S,{s:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Summoned Cockroach";tier=1;pack="Star";attack=1;health=1;hidden=!0;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},14829(O,S,i){i.d(S,{M:()=>_});var P=i(46200),c=i(56057),A=i(5615);class _ extends P.i{logService;abilityService;name="Slug";tier=4;pack="Golden";attack=4;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"SlugAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let D=new c.m(this.logService,this.abilityService,d.parent,2*this.level,2*this.level,0,d.minExpForLevel),k=d.parent.summonPet(D,d.savedPosition,!1,d);k.success&&this.logService.createLog({message:`${d.name} spawned Smaller Slug Level ${d.level}`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:k.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},14908(O,S,i){i.d(S,{r:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Loyal Chinchilla";tier=1;pack="Puppy";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"LoyalChinchillaAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},15030(O,S,i){i.d(S,{A:()=>A});var P=i(3746);const A=function c(_,v){var e=(0,P.A)(this,_),t=e.size;return e.set(_,v),this.size+=e.size==t?0:1,this}},15082(O,S,i){i.d(S,{Fq:()=>A,IF:()=>_,N7:()=>v,NL:()=>c});var P=i(62223);function c(r){const d=r.filter(g=>!!g).sort((g,f)=>f.length-g.length).map(g=>function o(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(g));return d.length?new RegExp(`(?<![A-Za-z0-9])(${d.join("|")})(?![A-Za-z0-9])`,"g"):null}function A(r,d,g){const f=new Map;for(const D of g)D&&f.set(D,"equipment");for(const D of d)D&&f.set(D,"toy");for(const D of r)D&&f.set(D,"pet");return f}function _(r,d,g){const f=new Set;return r.forEach(D=>D&&f.add(D)),d.forEach(D=>D&&f.add(D)),g.forEach(D=>D&&f.add(D)),c(Array.from(f))}function v(r,d,g,f){if(!r||r.includes("<img")||!d)return r;let D=n(r,d,ae=>function e(r,d,g){const f=d.get(r)??null;if("pet"===f)return(0,P.EA)(r);if("toy"===f)return(0,P.bG)(r);if("equipment"===f){const D=g.has(r);return(0,P.ht)(r,D)??(0,P.ht)(r,!D)}return null}(ae,g,f),ae=>function t(r,d,g){if("equipment"!==(d.get(r)??null))return null;const D=g.has(r),k=(0,P.ht)(r,D);if(!k)return null;const L=(0,P.ht)(r,!D);return`<img src="${k}" class="log-inline-icon" alt="${r}" onerror="if(!this.dataset.step){${L?`this.dataset.step='1';this.src='${L}';`:"this.dataset.step='1';"}return;}this.remove();"> ${r}`}(ae,g,f));return D=n(D,/(?<![A-Za-z0-9])mana(?![A-Za-z0-9])(?!\s+Potion)/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/mana.png"),D=n(D,/(?<![A-Za-z0-9])(?:xp|exp)(?![A-Za-z0-9])/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/xp.png"),D=n(D,/(?<![A-Za-z0-9])gold(?![A-Za-z0-9])/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/gold.png"),D=n(D,/(?<![A-Za-z0-9])trumpets?(?![A-Za-z0-9])/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/trumpet.png"),D}function n(r,d,g,f){return r.split(/(<[^>]+>)/g).map(D=>D.startsWith("<")?D:function a(r,d,g,f){return d?r.replace(d,D=>{const k=g(D);if(f){const L=f(D,k);if(L)return L}return k?`<img src="${k}" class="log-inline-icon" alt="${D}" onerror="this.remove()"> ${D}`:D}):r}(D,d,g,f)).join("")}},15481(O,S,i){i.d(S,{A:()=>A});const A=function c(_){return"number"==typeof _&&_>-1&&_%1==0&&_<=9007199254740991}},15504(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pangolin";tier=3;pack="Puppy";attack=2;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PangolinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null!=this.owner.parent.toy,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.nearestPetsBehind(1,r);if(0===d.pets.length)return;let g=d.pets[0],f=4*this.level;g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},15523(O,S,i){i.d(S,{Z:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Cuckoo Chick";tier=1;pack="Custom";hidden=!0;attack=1;health=1;increaseAttack(_){if(_<=0||!this.alive)return 0;const v=this.attack;return this.attack=Math.min(this.attack+_,1),this.attack-v}increaseHealth(_){if(_<=0||!this.alive)return 0;const v=this.health;return this.health=Math.min(this.health+_,1),this.health-v}constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},15539(O,S,i){i.d(S,{M:()=>_});var P=i(70762);function c(){}var A=i(98099);function _(t,n,a){return function(r){return r.lift(new v(t,n,a))}}class v{constructor(n,a,o){this.nextOrObserver=n,this.error=a,this.complete=o}call(n,a){return a.subscribe(new e(n,this.nextOrObserver,this.error,this.complete))}}class e extends P.v{constructor(n,a,o,r){super(n),this._tapNext=c,this._tapError=c,this._tapComplete=c,this._tapError=o||c,this._tapComplete=r||c,(0,A.T)(a)?(this._context=this,this._tapNext=a):a&&(this._context=a,this._tapNext=a.next||c,this._tapError=a.error||c,this._tapComplete=a.complete||c)}_next(n){try{this._tapNext.call(this._context,n)}catch(a){return void this.destination.error(a)}this.destination.next(n)}_error(n){try{this._tapError.call(this._context,n)}catch(a){return void this.destination.error(a)}this.destination.error(n)}_complete(){try{this._tapComplete.call(this._context)}catch(n){return void this.destination.error(n)}return this.destination.complete()}}},15684(O,S,i){i.d(S,{S:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Humphead Wrasse";tier=4;pack="Danger";attack=6;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HumpheadWrasseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=.3*this.level,g=r.parent.opponent.getHighestAttackPet(void 0,r);if(!g.pet)return;let f=g.pet,D=Math.ceil(f.attack*d),k=Math.max(1,f.attack-D);f.attack=k,this.logService.createLog({message:`${r.name} reduced ${f.name}'s attack by ${100*d}% to ${f.attack}.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},15824(O,S,i){i.d(S,{Ag:()=>Ne,Bg:()=>N,EF:()=>Ie,H8:()=>de,Ht:()=>e,JC:()=>g,KE:()=>n,KO:()=>At,KZ:()=>Te,Ny:()=>Ge,O8:()=>it,TO:()=>L,Wu:()=>ne,XR:()=>H,a7:()=>be,bh:()=>v,j2:()=>vt,lh:()=>Et,mC:()=>rt,mK:()=>r,n5:()=>et,nR:()=>t,pL:()=>o,s0:()=>kt,si:()=>$,vX:()=>$t});let P=null,c=!1,A=1;const v=Symbol("SIGNAL");function e(ge){const we=P;return P=ge,we}function t(){return P}function n(){return c}const o={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function r(ge){if(c)throw new Error("");if(null===P)return;P.consumerOnSignalRead(ge);const we=P.producersTail;if(void 0!==we&&we.producer===ge)return;let Ve;const Fe=P.recomputing;if(Fe&&(Ve=void 0!==we?we.nextProducer:P.producers,void 0!==Ve&&Ve.producer===ge))return P.producersTail=Ve,void(Ve.lastReadVersion=ge.version);const ot=ge.consumersTail;if(void 0!==ot&&ot.consumer===P&&(!Fe||function ke(ge,we){const Ve=we.producersTail;if(void 0!==Ve){let Fe=we.producers;do{if(Fe===ge)return!0;if(Fe===Ve)break;Fe=Fe.nextProducer}while(void 0!==Fe)}return!1}(ot,P)))return;const Bt=_e(P),Rt={producer:ge,consumer:P,nextProducer:Ve,prevConsumer:ot,lastReadVersion:ge.version,nextConsumer:void 0};P.producersTail=Rt,void 0!==we?we.nextProducer=Rt:P.producers=Rt,Bt&&ae(ge,Rt)}function g(ge){if((!_e(ge)||ge.dirty)&&(ge.dirty||ge.lastCleanEpoch!==A)){if(!ge.producerMustRecompute(ge)&&!$(ge))return void L(ge);ge.producerRecomputeValue(ge),L(ge)}}function f(ge){if(void 0===ge.consumers)return;const we=c;c=!0;try{for(let Ve=ge.consumers;void 0!==Ve;Ve=Ve.nextConsumer){const Fe=Ve.consumer;Fe.dirty||k(Fe)}}finally{c=we}}function D(){return!1!==P?.consumerAllowSignalWrites}function k(ge){ge.dirty=!0,f(ge),ge.consumerMarkedDirty?.(ge)}function L(ge){ge.dirty=!1,ge.lastCleanEpoch=A}function N(ge){return ge&&function q(ge){ge.producersTail=void 0,ge.recomputing=!0}(ge),e(ge)}function ne(ge,we){e(we),ge&&function Q(ge){ge.recomputing=!1;const we=ge.producersTail;let Ve=void 0!==we?we.nextProducer:ge.producers;if(void 0!==Ve){if(_e(ge))do{Ve=re(Ve)}while(void 0!==Ve);void 0!==we?we.nextProducer=void 0:ge.producers=void 0}}(ge)}function $(ge){for(let we=ge.producers;void 0!==we;we=we.nextProducer){const Ve=we.producer,Fe=we.lastReadVersion;if(Fe!==Ve.version||(g(Ve),Fe!==Ve.version))return!0}return!1}function H(ge){if(_e(ge)){let we=ge.producers;for(;void 0!==we;)we=re(we)}ge.producers=void 0,ge.producersTail=void 0,ge.consumers=void 0,ge.consumersTail=void 0}function ae(ge,we){const Ve=ge.consumersTail,Fe=_e(ge);if(void 0!==Ve?(we.nextConsumer=Ve.nextConsumer,Ve.nextConsumer=we):(we.nextConsumer=void 0,ge.consumers=we),we.prevConsumer=Ve,ge.consumersTail=we,!Fe)for(let ot=ge.producers;void 0!==ot;ot=ot.nextProducer)ae(ot.producer,ot)}function re(ge){const we=ge.producer,Ve=ge.nextProducer,Fe=ge.nextConsumer,ot=ge.prevConsumer;if(ge.nextConsumer=void 0,ge.prevConsumer=void 0,void 0!==Fe?Fe.prevConsumer=ot:we.consumersTail=ot,void 0!==ot)ot.nextConsumer=Fe;else if(we.consumers=Fe,!_e(we)){let Bt=we.producers;for(;void 0!==Bt;)Bt=re(Bt)}return Ve}function _e(ge){return ge.consumerIsAlwaysLive||void 0!==ge.consumers}function be(ge){}function de(ge,we){return Object.is(ge,we)}function Te(ge,we){const Ve=Object.create(gt);Ve.computation=ge,void 0!==we&&(Ve.equal=we);const Fe=()=>{if(g(Ve),r(Ve),Ve.value===Ie)throw Ve.error;return Ve.value};return Fe[v]=Ve,Fe}const Ne=Symbol("UNSET"),Ge=Symbol("COMPUTING"),Ie=Symbol("ERRORED"),gt={...o,value:Ne,dirty:!0,error:null,equal:de,kind:"computed",producerMustRecompute:ge=>ge.value===Ne||ge.value===Ge,producerRecomputeValue(ge){if(ge.value===Ge)throw new Error("");const we=ge.value;ge.value=Ge;const Ve=N(ge);let Fe,ot=!1;try{Fe=ge.computation(),e(null),ot=we!==Ne&&we!==Ie&&Fe!==Ie&&ge.equal(we,Fe)}catch(Bt){Fe=Ie,ge.error=Bt}finally{ne(ge,Ve)}ot?ge.value=we:(ge.value=Fe,ge.version++)}};let We=function pt(){throw new Error};function tt(ge){We(ge)}function At(ge){We=ge}function et(ge,we){const Ve=Object.create(kt);Ve.value=ge,void 0!==we&&(Ve.equal=we);const Fe=()=>function ct(ge){return r(ge),ge.value}(Ve);return Fe[v]=Ve,[Fe,Rt=>vt(Ve,Rt),Rt=>rt(Ve,Rt)]}function vt(ge,we){D()||tt(ge),ge.equal(ge.value,we)||(ge.value=we,function Xt(ge){ge.version++,function d(){A++}(),f(ge)}(ge))}function rt(ge,we){D()||tt(ge),vt(ge,we(ge.value))}const kt={...o,equal:de,value:void 0,kind:"signal"};function it(ge){const we=e(null);try{return ge()}finally{e(we)}}const $t={...o,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"};function Et(ge){if(ge.dirty=!1,ge.version>0&&!$(ge))return;ge.version++;const we=N(ge);try{ge.cleanup(),ge.fn()}finally{ne(ge,we)}}},15847(O,S,i){var P;i.d(S,{Y:()=>v});var c=i(74766);const A=new Map,_=c??(P||(P=i.t(c,2)))??[];for(const t of _)t?.Name&&A.set(t.Name,!0===t.Rollable);const v=t=>!!t?.name&&!0===A.get(t.name)},15896(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Darwin's Fox";tier=2;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DarwinsFoxAbility",owner:e,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;if(n&&n.alive){let d=r.parent.getSpecificPet(r,n),g=d.pet;if(!g)return;r.jumpAttackPrep(g),r.jumpAttack(g,a,void 0,d.random)}else{let d=r.parent.opponent.getFurthestUpPet(r),g=d.pet;if(!g)return;r.jumpAttackPrep(g),r.jumpAttack(g,a,void 0,d.random)}this.triggerTigerExecution(e)}reset(){this.maxUses=this.level,super.reset()}copy(e){return new _(e,this.logService)}}},15998(O,S,i){function P(c){return!!c&&"function"!=typeof c.subscribe&&"function"==typeof c.then}i.d(S,{y:()=>P})},16042(O,S,i){i.d(S,{v:()=>_});var P=i(46200),c=i(5615),A=i(84932);class _ extends P.i{logService;abilityService;name="Bakunawa";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Bakunawa Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=n.parent.opponent.petArray.filter(g=>g&&g.alive&&"Sleepy"!==g.equipment?.name).sort((g,f)=>f.attack!==g.attack?f.attack-g.attack:(g.position??0)-(f.position??0));if(0===a.length)return void this.triggerTigerExecution(t);const o=a.slice(0,Math.min(this.level,a.length));for(const g of o){const f=new A.Z;f.multiplier+=this.level-1,g.givePetEquipment(f)}const r=["."," twice for double effect."," thrice for triple effect."],d=`${n.name} made ${o.map(g=>g.name).join(", ")} Sleepy${r[Math.min(this.level,r.length)-1]}`;this.logService.createLog({message:d,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},16080(O,S,i){i.d(S,{A:()=>Ve});var P=i(37302),c=i(99162),A=i(81984),_=i(9452),v=i(63507),e=i(9933),t=i(94528),n=i(30712),a=i(59975),o=i(67895),r=i(57372),d=i(63080),g=i(67104),f=i(57850),D=i(1178),k=i(43744),L=i(10259),N=i(41795),q=i(30554),ne=i(12173),Q=i(14429),$=i(64238),_e="[object Arguments]",Te="[object Function]",gt="[object Object]",ge={};ge[_e]=ge["[object Array]"]=ge["[object ArrayBuffer]"]=ge["[object DataView]"]=ge["[object Boolean]"]=ge["[object Date]"]=ge["[object Float32Array]"]=ge["[object Float64Array]"]=ge["[object Int8Array]"]=ge["[object Int16Array]"]=ge["[object Int32Array]"]=ge["[object Map]"]=ge["[object Number]"]=ge[gt]=ge["[object RegExp]"]=ge["[object Set]"]=ge["[object String]"]=ge["[object Symbol]"]=ge["[object Uint8Array]"]=ge["[object Uint8ClampedArray]"]=ge["[object Uint16Array]"]=ge["[object Uint32Array]"]=!0,ge["[object Error]"]=ge[Te]=ge["[object WeakMap]"]=!1;const Ve=function we(Fe,ot,Bt,Rt,qt,zt){var Ht,Gi=1&ot,xt=2&ot,Qi=4&ot;if(Bt&&(Ht=qt?Bt(Fe,Rt,qt,zt):Bt(Fe)),void 0!==Ht)return Ht;if(!(0,q.A)(Fe))return Fe;var Vi=(0,k.A)(Fe);if(Vi){if(Ht=(0,g.A)(Fe),!Gi)return(0,t.A)(Fe,Ht)}else{var wi=(0,d.A)(Fe),Oi=wi==Te||"[object GeneratorFunction]"==wi;if((0,L.A)(Fe))return(0,e.A)(Fe,Gi);if(wi==gt||wi==_e||Oi&&!qt){if(Ht=xt||Oi?{}:(0,D.A)(Fe),!Gi)return xt?(0,a.A)(Fe,(0,v.A)(Ht,Fe)):(0,n.A)(Fe,(0,_.A)(Ht,Fe))}else{if(!ge[wi])return qt?Fe:{};Ht=(0,f.A)(Fe,wi,Gi)}}zt||(zt=new P.A);var zi=zt.get(Fe);if(zi)return zi;zt.set(Fe,Ht),(0,ne.A)(Fe)?Fe.forEach(function(_i){Ht.add(we(_i,ot,Bt,_i,Fe,zt))}):(0,N.A)(Fe)&&Fe.forEach(function(_i,Mi){Ht.set(Mi,we(_i,ot,Bt,Mi,Fe,zt))});var Di=Vi?void 0:(Qi?xt?r.A:o.A:xt?$.A:Q.A)(Fe);return(0,c.A)(Di||Fe,function(_i,Mi){Di&&(_i=Fe[Mi=_i]),(0,A.A)(Ht,Mi,we(_i,ot,Bt,Mi,Fe,zt))}),Ht}},16306(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pied Tamarin";tier=1;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PiedTamarinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>this.owner.parent.trumpets>=1,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,r);for(let g of d.pets)null!=g&&r.snipePet(g,3,d.random,a,o);d.pets.length>0&&r.parent.spendTrumpets(1,r,o),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},16408(O,S,i){i.d(S,{c:()=>t});var P=i(46200),c=i(5615),A=i(33127),_=i(26886),v=i(61850),e=i(1152);class t extends P.i{logService;abilityService;name="Mongoose";tier=6;pack="Puppy";attack=7;health=6;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,N){super(o,r,d),this.logService=o,this.abilityService=r,this.initPet(k,g,f,D,L,N)}}class n extends c.T{logService;abilityService;constructor(o,r,d){super({name:"MongooseAbility",owner:o,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.abilityService=d}executeAbility(o){const r=this.owner,d=A.I.getInjector().get(_.w),g=Math.max(1,Math.min(3,this.level)),f=d.toys.get(g)??[];if(0===f.length)return void this.triggerTigerExecution(o);const D=f[(0,v.hw)(0,f.length-1)],k=d.createToy(D,r.parent,g);k?(r.parent.toy=k,r.parent.toy.used=!1,r.parent.toy.triggers=0,(0,e.rv)(this.logService,r,`${r.name} chose a level ${g} ${D} toy.`,o.tiger,o.pteranodon),this.triggerTigerExecution(o)):this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.abilityService)}}},16725(O,S,i){i.d(S,{o:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bombus Dahlbomii";tier=1;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BombusDahlbomiiAbility",owner:e,triggers:["EnemyAttacked2"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a}=e,r=this.owner;this.abilityService.setCounterEvent({callback:()=>{let d=r.parent.opponent.getFurthestUpPet(r),g=d.pet;g&&r.snipePet(g,1*this.level,d.random,a)},priority:r.attack,pet:r}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},16775(O,S,i){i.d(S,{a:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Mink";tier=2;pack="Custom";attack=3;health=3;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},17017(O,S,i){i.d(S,{W:()=>c});var P=i(22097);class c extends P.${logService;abilityService;name="Mild Chili";equipmentClass="skewer";power=0;originalPower=0;attackCallback=(_,v)=>{let e=v.parent.getPetAtPosition(1);null!=e&&_.snipePet(e,4*(_.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",4)};constructor(_,v){super(),this.logService=_,this.abilityService=v}}},17133(O,S,i){i.d(S,{A:()=>c});const c="object"==typeof global&&global&&global.Object===Object&&global},17144(O,S,i){i.d(S,{X:()=>_});var P=i(46200),c=i(5615),A=i(60385);class _ extends P.i{logService;abilityService;name="Painted Terrapin";tier=5;pack="Danger";health=6;attack=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"PaintedTerrapinAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithEquipment("White Okra"),f=d.parent.nearestPetsBehind(d.level,d,g),D=f.pets;for(let k of D)this.logService.createLog({message:`${d.name} gave ${k.name} White Okra perk`,type:"ability",tiger:o,player:d.parent,pteranodon:r,randomEvent:f.random}),k.givePetEquipment(new A.f);this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},17374(O,S,i){i.d(S,{V:()=>_});var P=i(46200),c=i(5615),A=i(56979);class _ extends P.i{logService;abilityService;name="Olm";tier=2;pack="Custom";attack=3;health=1;constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}}class v extends c.T{logService;constructor(t,n){super({name:"OlmAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{gameApi:n,tiger:a,pteranodon:o}=t,r=this.owner,d=r.parent===n.player?n.playerRollAmount||0:n.opponentRollAmount||0,g=r.parent.getPetsWithEquipmentWithSillyFallback("Spooked",r),f=r.parent.opponent.getRandomPet(g,null,!0,null,r),D=f.pet;if(!D)return;const k=new A.E;d>0&&(k.multiplier+=d),this.logService.createLog({message:`${r.name} made ${D.name}${k.multiplier>1?` ${k.multiplier}x`:""} Spooked.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:f.random}),D.givePetEquipment(k),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},17385(O,S,i){function P(A){if(!A)return null;const _=Object.create(Object.getPrototypeOf(A));return Object.assign(_,A),_}i.d(S,{e:()=>P})},17520(O,S,i){i.d(S,{e:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mimic";tier=5;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"Mimic Ability",owner:e,triggers:["StartBattle","PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t;if("StartBattle"===e.trigger)return n.mimicFaintCount=0,n.mimicTriggeredThreshold=0,t.parent.pendingGoldFromMimic=0,void this.triggerTigerExecution(e);if("PostRemovalFriendFaints"===e.trigger){n.mimicFaintCount=(n.mimicFaintCount??0)+1;const a=Math.floor((n.mimicFaintCount??0)/3),o=n.mimicTriggeredThreshold??0;if(a>o){const r=a-o;n.mimicTriggeredThreshold=a;const g=this.level*r;t.parent.pendingGoldFromMimic=(t.parent.pendingGoldFromMimic??0)+g,this.logService.createLog({message:`${t.name} will grant +${g} gold next turn after ${n.mimicFaintCount} friendly faints.`,type:"ability",player:t.parent})}}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},17554(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Centipede";tier=3;pack="Custom";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;pendingAttack=0;pendingHealth=0;usedThisTurn=!1;constructor(e,t){super({name:"CentipedeAbility",owner:e,triggers:["FriendBought","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{trigger:t,triggerPet:n,tiger:a,pteranodon:o}=e,r=this.owner;if("FriendBought"===t){if(this.usedThisTurn||!n)return;const g=this.level*(n.tier??1);return r.increaseAttack(g),r.increaseHealth(g),this.pendingAttack+=g,this.pendingHealth+=g,this.usedThisTurn=!0,this.logService.createLog({message:`${r.name} gained +${g} attack and +${g} health until next turn.`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),void this.triggerTigerExecution(e)}if("EndTurn"===t)return(this.pendingAttack||this.pendingHealth)&&(r.increaseAttack(-this.pendingAttack),r.increaseHealth(-this.pendingHealth),this.pendingAttack=0,this.pendingHealth=0),void(this.usedThisTurn=!1)}copy(e){return new _(e,this.logService)}}},17634(O,S,i){i.d(S,{T:()=>e});var P=i(46200),c=i(5615),A=i(33127),_=i(56990),v=i(86785);class e extends P.i{logService;abilityService;name="Wombat";tier=2;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;constructor(a,o){super({name:"Wombat Ability",owner:a,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=o}executeAbility(a){const{tiger:o,pteranodon:r}=a,d=this.owner,f=d.parent.opponent.petArray.find(D=>D.alive&&D.isFaintPet());if(f){const D=A.I.getInjector().get(_.T);if(!D)return void this.triggerTigerExecution(a);const k=D.createPet({name:f.name,attack:null,health:null,exp:(0,v.l)(this.level),equipment:null,mana:null},d.parent);d.parent.transformPet(d,k),this.logService.createLog({message:`${d.name} transformed into level ${this.level} ${f.name}.`,type:"ability",player:d.parent,tiger:o,pteranodon:r})}this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},17647(O,S,i){i.d(S,{l:()=>_});var P=i(55378),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Visitor";tier=4;pack="Unicorn";attack=7;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"VisitorAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner,D=[...d.parent.nearestPetsBehind(this.level,d).pets,...d.parent.opponent.getFurthestUpPets(this.level).pets].filter(k=>k.alive&&"Icky"!==k.equipment?.name).filter((k,L,N)=>N.indexOf(k)===L);if(0!=D.length){for(let k of D)k.givePetEquipment(new P.z),this.logService.createLog({message:`${d.name} made ${k.name} Icky.`,type:"ability",player:d.parent,tiger:o,pteranodon:r});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},17705(O,S,i){i.d(S,{L39:()=>Si,MKu:()=>Li,TL3:()=>tn,Udg:()=>oi,_q3:()=>Pi,a0P:()=>da,gRc:()=>ve});var P=i(47868),A=(i(15824),i(35547));i(31805);const ge=new P.nKC(""),we=new P.nKC("");function Ve(ee){return!ee.moduleRef}let Ht=null;let ve=(()=>class ee{static __NG_ELEMENT_ID__=Le})();function Le(ee){return function Ue(ee,j,Z){if((0,P.Qs1)(ee)&&!Z){const he=(0,P.KdJ)(ee.index,j);return new A.NCX(he,he)}return 175&ee.type?new A.NCX(j[P.b5C],j):null}((0,P.Mx4)(),(0,P.OAn)(),!(16&~ee))}class Kt{constructor(){}supports(j){return(0,A.ozJ)(j)}create(j){return new bi(j)}}const Pt=(ee,j)=>j;class bi{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(j){this._trackByFn=j||Pt}forEachItem(j){let Z;for(Z=this._itHead;null!==Z;Z=Z._next)j(Z)}forEachOperation(j){let Z=this._itHead,he=this._removalsHead,Ce=0,Be=null;for(;Z||he;){const Ye=!he||Z&&Z.currentIndex<on(he,Ce,Be)?Z:he,at=on(Ye,Ce,Be),Tt=Ye.currentIndex;if(Ye===he)Ce--,he=he._nextRemoved;else if(Z=Z._next,null==Ye.previousIndex)Ce++;else{Be||(Be=[]);const Ot=at-Ce,Vt=Tt-Ce;if(Ot!=Vt){for(let mi=0;mi<Ot;mi++){const Wi=mi<Be.length?Be[mi]:Be[mi]=0,yn=Wi+mi;Vt<=yn&&yn<Ot&&(Be[mi]=Wi+1)}Be[Ye.previousIndex]=Vt-Ot}}at!==Tt&&j(Ye,at,Tt)}}forEachPreviousItem(j){let Z;for(Z=this._previousItHead;null!==Z;Z=Z._nextPrevious)j(Z)}forEachAddedItem(j){let Z;for(Z=this._additionsHead;null!==Z;Z=Z._nextAdded)j(Z)}forEachMovedItem(j){let Z;for(Z=this._movesHead;null!==Z;Z=Z._nextMoved)j(Z)}forEachRemovedItem(j){let Z;for(Z=this._removalsHead;null!==Z;Z=Z._nextRemoved)j(Z)}forEachIdentityChange(j){let Z;for(Z=this._identityChangesHead;null!==Z;Z=Z._nextIdentityChange)j(Z)}diff(j){if(null==j&&(j=[]),!(0,A.ozJ)(j))throw new P.buA(900,!1);return this.check(j)?this:null}onDestroy(){}check(j){this._reset();let Ce,Be,Ye,Z=this._itHead,he=!1;if(Array.isArray(j)){this.length=j.length;for(let at=0;at<this.length;at++)Be=j[at],Ye=this._trackByFn(at,Be),null!==Z&&Object.is(Z.trackById,Ye)?(he&&(Z=this._verifyReinsertion(Z,Be,Ye,at)),Object.is(Z.item,Be)||this._addIdentityChange(Z,Be)):(Z=this._mismatch(Z,Be,Ye,at),he=!0),Z=Z._next}else Ce=0,(0,A.utN)(j,at=>{Ye=this._trackByFn(Ce,at),null!==Z&&Object.is(Z.trackById,Ye)?(he&&(Z=this._verifyReinsertion(Z,at,Ye,Ce)),Object.is(Z.item,at)||this._addIdentityChange(Z,at)):(Z=this._mismatch(Z,at,Ye,Ce),he=!0),Z=Z._next,Ce++}),this.length=Ce;return this._truncate(Z),this.collection=j,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let j;for(j=this._previousItHead=this._itHead;null!==j;j=j._next)j._nextPrevious=j._next;for(j=this._additionsHead;null!==j;j=j._nextAdded)j.previousIndex=j.currentIndex;for(this._additionsHead=this._additionsTail=null,j=this._movesHead;null!==j;j=j._nextMoved)j.previousIndex=j.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(j,Z,he,Ce){let Be;return null===j?Be=this._itTail:(Be=j._prev,this._remove(j)),null!==(j=null===this._unlinkedRecords?null:this._unlinkedRecords.get(he,null))?(Object.is(j.item,Z)||this._addIdentityChange(j,Z),this._reinsertAfter(j,Be,Ce)):null!==(j=null===this._linkedRecords?null:this._linkedRecords.get(he,Ce))?(Object.is(j.item,Z)||this._addIdentityChange(j,Z),this._moveAfter(j,Be,Ce)):j=this._addAfter(new Fi(Z,he),Be,Ce),j}_verifyReinsertion(j,Z,he,Ce){let Be=null===this._unlinkedRecords?null:this._unlinkedRecords.get(he,null);return null!==Be?j=this._reinsertAfter(Be,j._prev,Ce):j.currentIndex!=Ce&&(j.currentIndex=Ce,this._addToMoves(j,Ce)),j}_truncate(j){for(;null!==j;){const Z=j._next;this._addToRemovals(this._unlink(j)),j=Z}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(j,Z,he){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(j);const Ce=j._prevRemoved,Be=j._nextRemoved;return null===Ce?this._removalsHead=Be:Ce._nextRemoved=Be,null===Be?this._removalsTail=Ce:Be._prevRemoved=Ce,this._insertAfter(j,Z,he),this._addToMoves(j,he),j}_moveAfter(j,Z,he){return this._unlink(j),this._insertAfter(j,Z,he),this._addToMoves(j,he),j}_addAfter(j,Z,he){return this._insertAfter(j,Z,he),this._additionsTail=null===this._additionsTail?this._additionsHead=j:this._additionsTail._nextAdded=j,j}_insertAfter(j,Z,he){const Ce=null===Z?this._itHead:Z._next;return j._next=Ce,j._prev=Z,null===Ce?this._itTail=j:Ce._prev=j,null===Z?this._itHead=j:Z._next=j,null===this._linkedRecords&&(this._linkedRecords=new hi),this._linkedRecords.put(j),j.currentIndex=he,j}_remove(j){return this._addToRemovals(this._unlink(j))}_unlink(j){null!==this._linkedRecords&&this._linkedRecords.remove(j);const Z=j._prev,he=j._next;return null===Z?this._itHead=he:Z._next=he,null===he?this._itTail=Z:he._prev=Z,j}_addToMoves(j,Z){return j.previousIndex===Z||(this._movesTail=null===this._movesTail?this._movesHead=j:this._movesTail._nextMoved=j),j}_addToRemovals(j){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hi),this._unlinkedRecords.put(j),j.currentIndex=null,j._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=j,j._prevRemoved=null):(j._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=j),j}_addIdentityChange(j,Z){return j.item=Z,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=j:this._identityChangesTail._nextIdentityChange=j,j}}class Fi{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(j,Z){this.item=j,this.trackById=Z}}class gi{_head=null;_tail=null;add(j){null===this._head?(this._head=this._tail=j,j._nextDup=null,j._prevDup=null):(this._tail._nextDup=j,j._prevDup=this._tail,j._nextDup=null,this._tail=j)}get(j,Z){let he;for(he=this._head;null!==he;he=he._nextDup)if((null===Z||Z<=he.currentIndex)&&Object.is(he.trackById,j))return he;return null}remove(j){const Z=j._prevDup,he=j._nextDup;return null===Z?this._head=he:Z._nextDup=he,null===he?this._tail=Z:he._prevDup=Z,null===this._head}}class hi{map=new Map;put(j){const Z=j.trackById;let he=this.map.get(Z);he||(he=new gi,this.map.set(Z,he)),he.add(j)}get(j,Z){const Ce=this.map.get(j);return Ce?Ce.get(j,Z):null}remove(j){const Z=j.trackById;return this.map.get(Z).remove(j)&&this.map.delete(Z),j}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function on(ee,j,Z){const he=ee.previousIndex;if(null===he)return he;let Ce=0;return Z&&he<Z.length&&(Ce=Z[he]),he+j+Ce}class ri{constructor(){}supports(j){return j instanceof Map||(0,A.vDg)(j)}create(){return new Ri}}class Ri{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(j){let Z;for(Z=this._mapHead;null!==Z;Z=Z._next)j(Z)}forEachPreviousItem(j){let Z;for(Z=this._previousMapHead;null!==Z;Z=Z._nextPrevious)j(Z)}forEachChangedItem(j){let Z;for(Z=this._changesHead;null!==Z;Z=Z._nextChanged)j(Z)}forEachAddedItem(j){let Z;for(Z=this._additionsHead;null!==Z;Z=Z._nextAdded)j(Z)}forEachRemovedItem(j){let Z;for(Z=this._removalsHead;null!==Z;Z=Z._nextRemoved)j(Z)}diff(j){if(j){if(!(j instanceof Map||(0,A.vDg)(j)))throw new P.buA(900,!1)}else j=new Map;return this.check(j)?this:null}onDestroy(){}check(j){this._reset();let Z=this._mapHead;if(this._appendAfter=null,this._forEach(j,(he,Ce)=>{if(Z&&Z.key===Ce)this._maybeAddToChanges(Z,he),this._appendAfter=Z,Z=Z._next;else{const Be=this._getOrCreateRecordForKey(Ce,he);Z=this._insertBeforeOrAppend(Z,Be)}}),Z){Z._prev&&(Z._prev._next=null),this._removalsHead=Z;for(let he=Z;null!==he;he=he._nextRemoved)he===this._mapHead&&(this._mapHead=null),this._records.delete(he.key),he._nextRemoved=he._next,he.previousValue=he.currentValue,he.currentValue=null,he._prev=null,he._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(j,Z){if(j){const he=j._prev;return Z._next=j,Z._prev=he,j._prev=Z,he&&(he._next=Z),j===this._mapHead&&(this._mapHead=Z),this._appendAfter=j,j}return this._appendAfter?(this._appendAfter._next=Z,Z._prev=this._appendAfter):this._mapHead=Z,this._appendAfter=Z,null}_getOrCreateRecordForKey(j,Z){if(this._records.has(j)){const Ce=this._records.get(j);this._maybeAddToChanges(Ce,Z);const Be=Ce._prev,Ye=Ce._next;return Be&&(Be._next=Ye),Ye&&(Ye._prev=Be),Ce._next=null,Ce._prev=null,Ce}const he=new Gt(j);return this._records.set(j,he),he.currentValue=Z,this._addToAdditions(he),he}_reset(){if(this.isDirty){let j;for(this._previousMapHead=this._mapHead,j=this._previousMapHead;null!==j;j=j._next)j._nextPrevious=j._next;for(j=this._changesHead;null!==j;j=j._nextChanged)j.previousValue=j.currentValue;for(j=this._additionsHead;null!=j;j=j._nextAdded)j.previousValue=j.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(j,Z){Object.is(Z,j.currentValue)||(j.previousValue=j.currentValue,j.currentValue=Z,this._addToChanges(j))}_addToAdditions(j){null===this._additionsHead?this._additionsHead=this._additionsTail=j:(this._additionsTail._nextAdded=j,this._additionsTail=j)}_addToChanges(j){null===this._changesHead?this._changesHead=this._changesTail=j:(this._changesTail._nextChanged=j,this._changesTail=j)}_forEach(j,Z){j instanceof Map?j.forEach(Z):Object.keys(j).forEach(he=>Z(j[he],he))}}class Gt{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(j){this.key=j}}function Yt(){return new Pi([new Kt])}let Pi=(()=>{class ee{factories;static \u0275prov=(0,P.jDH)({token:ee,providedIn:"root",factory:Yt});constructor(Z){this.factories=Z}static create(Z,he){if(null!=he){const Ce=he.factories.slice();Z=Z.concat(Ce)}return new ee(Z)}static extend(Z){return{provide:ee,useFactory:()=>{const he=(0,P.WQX)(ee,{optional:!0,skipSelf:!0});return ee.create(Z,he||Yt())}}}find(Z){const he=this.factories.find(Ce=>Ce.supports(Z));if(null!=he)return he;throw new P.buA(901,!1)}}return ee})();function Jt(){return new Li([new ri])}let Li=(()=>{class ee{static \u0275prov=(0,P.jDH)({token:ee,providedIn:"root",factory:Jt});factories;constructor(Z){this.factories=Z}static create(Z,he){if(he){const Ce=he.factories.slice();Z=Z.concat(Ce)}return new ee(Z)}static extend(Z){return{provide:ee,useFactory:()=>{const he=(0,P.WQX)(ee,{optional:!0,skipSelf:!0});return ee.create(Z,he||Jt())}}}find(Z){const he=this.factories.find(Ce=>Ce.supports(Z));if(he)return he;throw new P.buA(901,!1)}}return ee})();function tn(ee){const{rootComponent:j,appProviders:Z,platformProviders:he,platformRef:Ce}=ee;(0,A.Ef8)(A.mS5.BootstrapApplicationStart);try{const Be=Ce?.injector??function zi(ee=[]){if(Ht)return Ht;(0,A.pl0)();const j=function Qi(ee=[],j){return P.zZn.create({name:j,providers:[{provide:P.GBX,useValue:"platform"},{provide:ge,useValue:new Set([()=>Ht=null])},...ee]})}(ee);return Ht=j,(0,A.ypd)(),function Di(ee){const j=ee.get(A.PLl,null);(0,P.N4e)(ee,()=>{j?.forEach(Z=>Z())})}(j),j}(he),Ye=[(0,A.rpG)(),P.gv8,...Z||[]];return function Fe(ee){const j=Ve(ee)?ee.r3Injector:ee.moduleRef.injector,Z=j.get(P.SKi);return Z.run(()=>{Ve(ee)?ee.r3Injector.resolveInjectorInitializers():ee.moduleRef.resolveInjectorInitializers();const he=j.get(P.ZTf);let Ce;if(Z.runOutsideAngular(()=>{Ce=Z.onError.subscribe({next:he})}),Ve(ee)){const Be=()=>j.destroy(),Ye=ee.platformInjector.get(ge);Ye.add(Be),j.onDestroy(()=>{Ce.unsubscribe(),Ye.delete(Be)})}else{const Be=()=>ee.moduleRef.destroy(),Ye=ee.platformInjector.get(ge);Ye.add(Be),ee.moduleRef.onDestroy(()=>{(0,A.TFI)(ee.allPlatformModules,ee.moduleRef),Ce.unsubscribe(),Ye.delete(Be)})}return function qt(ee,j,Z){try{const he=Z();return(0,A.yLl)(he)?he.catch(Ce=>{throw j.runOutsideAngular(()=>ee(Ce)),Ce}):he}catch(he){throw j.runOutsideAngular(()=>ee(he)),he}}(he,Z,()=>{const Be=j.get(P.rev),Ye=Be.add(),at=j.get(A.H1s);return at.runInitializers(),at.donePromise.then(()=>{const Tt=j.get(A.xe9,A.DkB);if((0,A.e6s)(Tt||A.DkB),!j.get(we,!0))return Ve(ee)?j.get(A.o8S):(ee.allPlatformModules.push(ee.moduleRef),ee.moduleRef);if(Ve(ee)){const Vt=j.get(A.o8S);return void 0!==ee.rootComponent&&Vt.bootstrap(ee.rootComponent),Vt}return ee.moduleRef}).finally(()=>{Be.remove(Ye)})})})}({r3Injector:new A.bH1({providers:Ye,parent:Be,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:Be,rootComponent:j})}catch(Be){return Promise.reject(Be)}finally{(0,A.Ef8)(A.mS5.BootstrapApplicationEnd)}}function Si(ee){return"boolean"==typeof ee?ee:null!=ee&&"false"!==ee}function oi(ee,j=NaN){return isNaN(parseFloat(ee))||isNaN(Number(ee))?j:Number(ee)}function da(ee,j){const Z=(0,P.xUg)(ee),he=j.elementInjector||(0,P.WB9)();return new A.eHC(Z).create(he,j.projectableNodes,j.hostElement,j.environmentInjector,j.directives,j.bindings)}},17996(O,S,i){i.d(S,{Y:()=>ei});var P=i(33837),c=i(46567),A=i(9680),_=i(76),v=i(21881),e=i(23780),t=i(4230),n=i(65223),a=i(58069),o=i(29192),r=i(5238),d=i(53874),g=i(29629),f=i(84587),D=i(47097),k=i(22931),L=i(34593),N=i(57483),q=i(95695),ne=i(95626),Q=i(13325),$=i(47748),H=i(60583),ae=i(83031),re=i(46482),_e=i(11733),be=i(95395),Ee=i(77348),ke=i(62275),de=i(34444),Te=i(16775),Ne=i(18816),Ge=i(17374),Ie=i(56616),gt=i(20827),pt=i(46398),We=i(38086),tt=i(67412),At=i(93365),nt=i(86863),et=i(57356),Dt=i(7978),ct=i(99654),vt=i(17634),rt=i(80591),He=i(69357),kt=i(74838),Xt=i(35389),it=i(42797),$t=i(67459),Et=i(93584),ge=i(45035),we=i(17554),Ve=i(6043),Fe=i(92990),ot=i(58789),Bt=i(42381),Rt=i(13340),qt=i(68629),zt=i(10778),Ht=i(63792),Gi=i(57130),xt=i(43714),Qi=i(99094),Vi=i(78500),wi=i(75191),Oi=i(61759),zi=i(20428),En=i(4146),Di=i(18232),_i=i(23508),Mi=i(63625),Nn=i(40830),pn=i(58238),an=i(20791),sn=i(54571),Yi=i(23407),In=i(96034),Bi=i(85240),di=i(66328),Ii=i(68932),Hi=i(71772),Sn=i(61582),yi=i(41604),qi=i(76483),Zi=i(7598),Tn=i(75182),Qn=i(45575),Ei=i(27454),en=i(91442),Vn=i(67476),Dn=i(37831),zn=i(48191),rn=i(30147),qn=i(48813),Ea=i(23790),Qa=i(79323),hn=i(27810),gn=i(2641),pi=i(83245),Zn=i(8534),ea=i(41837),ce=i(87750),Ae=i(6953),ve=i(27088),Le=i(5040),Ue=i(63618),je=i(81207),ze=i(34829),Kt=i(7056),Pt=i(80517),bi=i(64888),Fi=i(70511),gi=i(78848),hi=i(73620),on=i(84736),ri=i(39195),Ri=i(47832),Gt=i(50229),Yt=i(45925),Pi=i(10948),Ci=i(5388),Jt=i(34638),Li=i(12367),ln=i(49449),Ui=i(42377),Sa=i(48762),Rn=i(49547),ta=i(20150),mn=i(62307),tn=i(33685),ia=i(57616),Yn=i(17520),_n=i(82144),fn=i(7639),Ta=i(25632),Un=i(8540),Mn=i(32308),qa=i(72492),Y=i(70471),me=i(59879),ie=i(40328),oe=i(72560),De=i(40781),$e=i(44071),Qe=i(29768),lt=i(52561),ni=i(24287),Zt=i(61625),si=i(37584),Qt=i(16042),Si=i(91066),oi=i(46138),fi=i(85078),Wn=i(43422),Ln=i(67056),vn=i(93311),cn=i(27852),xn=i(64174),ca=i(13837),Cn=i(57455),Za=i(82661),ds=i(48626),Xn=i(41074),sr=i(92083),ps=i(30102),Ba=i(1383),Da=i(62990),Is=i(22120),hs=i(74794),Wr=i(63651),es=i(54416),gs=i(38866),ts=i(89189),Fa=i(42916),jt=i(53190),ue=i(59303),Xi=i(31401),ua=i(59644),na=i(21299),da=i(56485),rr=i(79340),pa=i(15523);const ei={Basilisk:P.L,Budgie:c.P,Duckling:A.M,"Farmer Mouse":_.t,"Frilled Dragon":v.A,Gibbon:e.E,Mouse:t.K,Nudibranch:n.X,"Peacock Spider":a.u,"Pygmy Seahorse":o.J,Quoll:r.I,Silverfish:d.M,Sloth:g.B,Termite:f.$,"Umbrella Bird":D.s,Weevil:k.v,"Albino Squirrel":L.T,Amphisbaena:N._,"Atlantic Puffin":q.d,Chupacabra:ne.V,"Desert Rain Frog":Q.Q,"Dung Beetle":$.k,"Farmer Chicken":H.N,Frigatebird:ae.Y,"Fruit Fly":re.u,"Giant Squirrel":_e.v,"Golden Beetle":be.n,"Hermit Crab":Ee.I,"Honduran White Bat":ke.y,Mandarinfish:de.X,Mink:Te.a,Nightcrawler:Ne.P,Olm:Ge.V,Panda:Ie.R,"Pink Robin":gt.D,Roadrunner:pt.z,Seahorse:We.x,Sphinx:tt.l,"Spotted Handfish":At.p,Tadpole:nt.M,"Thorny Dragon":et.g,Vervet:Dt.x,Warf:ct.B,Wombat:vt.T,Yak:rt.E,Aardvark:He.L,"Axehandle Hound":kt.L,Barnacle:Xt.x,Bear:it.d,"Blue Dragon":$t.a,"Brazillian Treehopper":Et.h,Caladrius:ge.t,Centipede:we.k,"Deer Lord":Ve.s,Dimetrodon:Fe._,Dugong:ot.f,Eel:Bt.d,"Emperor Tamarin":Rt.x,"Farmer Pig":qt.u,"Flying Squirrel":zt.Z,"Foo Dog":Ht.X,Gerenuk:Gi.q,"Great Potoo":xt.J,"Jewel Caterpillar":Qi.X,Pangasius:Vi.c,"Patagonian Mara":wi.w,Pony:Oi.k,Porcupine:zi.Q,"Quail Chick":En.B,"Queen Bee":Di.t,Quetzalcoatlus:_i.q,"Sage-Grouse":Mi.y,"Sarcastic Fringehead":Nn.Z,"Silkie Chicken":pn.Z,Slime:an.f,"Sugar Glider":sn.G,Tree:Yi.P,"Vampire Parrot":In.d,Wasp:Bi.y,Ahuizotl:di.r,Andrewsarchus:Ii.v,Anubis:Hi.H,Bloodhound:Sn.V,"Blue-Footed Booby":yi.F,Crow:qi.e,Deinocheirus:Zi.Z,Dragonfly:Tn.j,Fairy:Qn.s,"Farmer Cat":Ei.m,Gazelle:en.Z,Gelada:Vn.h,"Goblin Shark":Dn.FZ,Hippocampus:zn.m,Hoatzin:rn.O,Jerboa:qn.a,"Leaf Gecko":Ea.K,"Leafy Sea Dragon":Qa.k,Locust:hn.R,Lynx:gn.E,"Old Mouse":pi.t,Pegasus:Zn.t,Platybelodon:ea.E,"Poodle Moth":ce.q,"Racket Tail":Ae.v,"Red Lipped Batfish":ve.R,Rootling:Le.F,"Ruspoli's Turaco":Ue.y,"Sea Anemone":je.X,Seagull:ze.Q,"Spider Crab":Kt.E,"Spiny Bush Viper":Pt.A,Tandgnost:bi.l,Tardigrade:Fi.c,Trout:gi.F,"Yeti Crab":hi.u,"Blue Jay":on.v,Boitata:ri.v,"Brahma Chicken":Ri.B,Cuckoo:Gt.F,Estemmenosuchus:Yt.f,"Farmer Crow":Pi.l,"Farmer Dog":Ci.S,Flounder:Jt.i,Fox:Li.O,"Giant Isopod":ln.o,Hippogriff:Ui.j,Hyena:Sa.S,Jackal:Rn.x,Kappa:ta.K,Lion:mn.X,Lusca:tn.h,Maltese:ia.O,Mimic:Yn.e,Moose:_n.k,Namazu:fn.F,Nurikabe:Ta.I,"Pacific Fanfish":Un.n,"Polar Bear":Mn.H,Raccoon:qa.E,"Sea Cucumber":Y.w,"Siberian Husky":me.A,"Silver Fox":ie.r,Tandgrisner:oe.c,Tarasque:De.X,"Venus Flytrap":$e.y,"Woolly Rhino":Qe.B,Zebra:lt.f,Akhlut:ni.y,Albatross:Zt.s,Amargasaurus:si.r,Bakunawa:Qt.v,"Black Bear":Si.e,Chimpanzee:oi.n,Cockatrice:fi.j,"Coconut Crab":Wn.Q,Dunkleosteus:Ln.B,"Eagle Owl":vn.T,"Great One":cn.v,"Hammerhead Shark":xn.K,"Harpy Eagle":ca.V,"Hooded Seal":Cn.T,Komodo:Za.C,Lamprey:ds.z,Leviathan:Xn.j,Lioness:sr.Y,Markhor:ps.J,Poodle:Ba.C,"Questing Beast":Da.e,"Rockhopper Penguin":Is.q,"Small One":hs.a,Stegosaurus:Wr.z,Sunfish:es.J,Tapir:gs.v,Tanystropheus:ts.G,"Tarantula Hawk":Fa.W,"Terror Bird":jt.y,Therizinosaurus:ue.c,"Vampire Squid":Xi.x,Walrus:ua.R,"White Tiger":na.J,"Winter Spirit":da.B,"Yellow Boxfish":rr.M,"Cuckoo Chick":pa.Z}},18060(O,S,i){i.d(S,{V:()=>c});var P=i(22097);class c extends P.${name="Toasty";equipmentClass="ailment-other";uses=1;originalUses=1}},18155(O,S,i){i.d(S,{t:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="African Penguin";tier=2;pack="Golden";attack=1;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"AfricanPenguinAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.parent.getRandomPets(3,[t]),a=n.pets;if(0===a.length)return void this.triggerTigerExecution(e);const o=this.level;for(const r of a)r.increaseAttack(o);this.logService.createLog({message:`${t.name} gave ${a.map(r=>r.name).join(", ")} +${o} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},18232(O,S,i){i.d(S,{t:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Queen Bee";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Queen Bee Ability",owner:e,triggers:["BeeSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n,triggerPet:a}=e,o=this.owner,r=a;if(!r||"Bee"!==r.name)return void this.triggerTigerExecution(e);const d=3*this.level;r.increaseAttack(d),r.increaseHealth(d);const g=this.removeOtherQueenBees(o);this.logService.createLog({message:`${o.name} gave ${r.name} +${d}/+${d} and removed ${g} other Queen Bees.`,type:"ability",player:o.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}removeOtherQueenBees(e){const t=[e.parent,e.parent.opponent];let n=0;for(const a of t){for(const o of[...a.petArray])o!==e&&o.alive&&"Queen Bee"===o.name&&(o.health=0,a.handleDeath(o),n++);a.removeDeadPets()}return n}copy(e){return new _(e,this.logService)}}},18456(O,S,i){i.d(S,{ZZ:()=>_});var P=i(95006),c=i(84787),A=i(13004);function _(n,a,o=Number.POSITIVE_INFINITY){return"function"==typeof a?r=>r.pipe(_((d,g)=>(0,c.H)(n(d,g)).pipe((0,P.T)((f,D)=>a(d,f,g,D))),o)):("number"==typeof a&&(o=a),r=>r.lift(new v(n,o)))}class v{constructor(a,o=Number.POSITIVE_INFINITY){this.project=a,this.concurrent=o}call(a,o){return o.subscribe(new e(a,this.project,this.concurrent))}}class e extends A.gn{constructor(a,o,r=Number.POSITIVE_INFINITY){super(a),this.project=o,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(a){this.active<this.concurrent?this._tryNext(a):this.buffer.push(a)}_tryNext(a){let o;const r=this.index++;try{o=this.project(a,r)}catch(d){return void this.destination.error(d)}this.active++,this._innerSub(o)}_innerSub(a){const o=new A.zA(this),r=this.destination;r.add(o);const d=(0,A.tS)(a,o);d!==o&&r.add(d)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(a){this.destination.next(a)}notifyComplete(){const a=this.buffer;this.active--,a.length>0?this._next(a.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},18467(O,S,i){i.d(S,{P:()=>v});var P=i(46200),c=i(5615),A=i(56979),_=i(1152);class v extends P.i{logService;abilityService;name="Amalgamation";tier=5;pack="Unicorn";attack=4;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"AmalgamationAbility",owner:n,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:2,precondition:o=>{const{triggerPet:r}=o;return!!r&&!!(0,_.Uj)(this.owner,r,(g,f)=>g.parent.getSpecificPet(g,f)).pet},abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{triggerPet:o,tiger:r,pteranodon:d}=n,g=this.owner,f=(0,_.Uj)(g,o,(N,q)=>N.parent.getSpecificPet(N,q)),D=f.pet;if(!D)return;const k=3*this.level,L=4*this.level;(0,_.rv)(this.logService,g,`${g.name} gave ${D.name} +${k} attack, +${L} mana, and Spooked.`,r,d,{randomEvent:f.random}),D.increaseAttack(k),D.increaseMana(L),D.givePetEquipment(new A.E),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},18506(O,S,i){i.d(S,{y:()=>_});var P=i(46200),c=i(5615),A=i(17017);class _ extends P.i{logService;abilityService;name="Tahr";tier=4;pack="Puppy";attack=5;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"TahrAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithEquipment("Mild Chili"),f=d.parent.nearestPetsBehind(this.level,d,g);if(0!==f.pets.length){for(let D of f.pets)this.logService.createLog({message:`${d.name} gave ${D.name} Mild Chili.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.random}),D.givePetEquipment(new A.W(this.logService,this.abilityService));this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService,this.abilityService)}}},18609(O,S,i){i.d(S,{t:()=>_});var P=i(45651),c=i(50873);i(5615);class _ extends c.L{logService;toyService;abilityService;name="Nutcracker";tier=4;suppressFriendFaintLog=!0;pendingSpawn=!1;friendFaints(t,n,a,o){this.used||this.pendingSpawn||n.parent.petArray.filter(d=>d.alive).length>0||this.queueSalmonSpawn()}queueSalmonSpawn(){this.pendingSpawn=!0,this.abilityService.setCounterEvent({priority:0,callback:(t,n,a)=>{this.pendingSpawn=!1,this.attemptSalmonSpawn()}})}attemptSalmonSpawn(){if(this.used||this.parent.petArray.filter(o=>o.alive).length>0)return;const n=6*this.level,a=new P.K(this.logService,this.abilityService,this.parent,n,n,null,0);this.parent.summonPet(a,0).success&&this.logService.createLog({message:`${this.name} spawned Salmon of Knowledge (${n}/${n})`,type:"ability",player:this.parent}),this.used=!0}constructor(t,n,a,o,r){super(t,n,o,r),this.logService=t,this.toyService=n,this.abilityService=a}}},18779(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Snake";tier=6;pack="Turtle";attack=8;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SnakeAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=5*this.level,g=r.parent.opponent.getRandomPet([],!1,!0,!1,r);g.pet&&(r.snipePet(g.pet,d,g.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},18783(O,S,i){i.d(S,{S:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Health Potion";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"HealthPotionAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let a=2*this.equipment.multiplier,o=t.parent.furthestUpPet;null!=o&&(this.logService.createLog({message:`${t.name} gave ${a} health to ${o.name} (Health Potion)${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent}),o.increaseHealth(a))}}},18816(O,S,i){i.d(S,{P:()=>_});var P=i(46200),c=i(5615),A=i(4635);class _ extends P.i{logService;abilityService;name="Nightcrawler";tier=2;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"NightcrawlerAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{gameApi:n,tiger:o,pteranodon:r}=t,d=this.owner;let f=d.parent==n.player?n.playerSummonedAmount:n.opponentSummonedAmount;if(0==f)return;let D=Math.min(50,this.level*f),L=new A.f(this.logService,this.abilityService,d.parent,D,6,0,0),N=d.parent.summonPet(L,d.savedPosition,!1,d);N.success&&this.logService.createLog({message:`${d.name} spawned Daycrawler (6/${D})`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:N.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},18960(O,S,i){i.d(S,{A:()=>c});const c=function P(A){return this.__data__.has(A)}},19058(O,S,i){i.d(S,{l:()=>c});var P=i(22097);class c extends P.${name="Weak";equipmentClass="ailment-defense";power=-3;originalPower=-3}},19114(O,S,i){i.d(S,{u:()=>_});var P=i(46200),c=i(5615),A=i(19058);class _ extends P.i{logService;abilityService;name="Microbe";tier=4;pack="Puppy";attack=4;health=1;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"MicrobeAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithinXSpaces(d,3*this.level),f=g.pets.filter(D=>"Weak"!==D.equipment?.name);if(0!=f.length){for(let D of f)D.alive&&(this.logService.createLog({message:`${d.name} gave ${D.name} Weak.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:g.random}),D.givePetEquipment(new A.l));this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},19180(O,S,i){i.d(S,{V:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;petService;name="Faint Bread";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.petService,this.logService))};constructor(e,t){super(),this.logService=e,this.petService=t}}class _ extends c.T{equipment;petService;logService;constructor(e,t,n,a){super({name:"FaintBreadAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.petService=n,this.logService=a}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let a=this.petService.getRandomFaintPet(t.parent,1,[],t),o=n>0?this.equipment.multiplierMessage:"";t.parent.summonPet(a,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned ${a.name} (Faint Bread)${o}`,type:"ability",player:t.parent,randomEvent:!0})}}}},19405(O,S,i){i.d(S,{h:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bigfoot";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BigfootAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} will gain ${n} free ${1===n?"roll":"rolls"} next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},19429(O,S,i){i.d(S,{U:()=>_});var P=i(22097),c=i(94433),A=i(5615);class _ extends P.${logService;abilityService;name="Banana";equipmentClass="afterFaint";callback=t=>{const n=t.getEquippedEquipmentInstance(this);t.addAbility(new v(t,n,this.logService,this.abilityService))};constructor(t,n){super(),this.logService=t,this.abilityService=n}}class v extends A.T{equipment;logService;abilityService;constructor(t,n,a,o){super({name:"BananaAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=n,this.logService=a,this.abilityService=o}executeAbility(t){const n=this.owner;for(let a=0;a<this.equipment.multiplier;a++){let o=new c.P(this.logService,this.abilityService,n.parent,4,4,0,0),r=a>0?this.equipment.multiplierMessage:"";n.parent.summonPet(o,n.savedPosition).success&&this.logService.createLog({message:`${n.name} Spawned Monkey (Banana)${r}`,type:"ability",player:n.parent})}}}},19540(O,S,i){i.d(S,{U:()=>c});var P=i(50873);class c extends P.L{name="Excalibur";tier=6}},19661(O,S,i){function e(Q){const{baseConfig:$,simulateBatch:H,shouldAbort:ae,onProgress:re,projectEndTurnLineup:_e}=Q,be=Q.options.side,Ee=Math.max(1,Math.trunc(Q.options.maxSimulationsPerPermutation??$.simulationCount??250)),ke=Math.max(1,Math.trunc(Q.options.batchSize??25)),de=null!=Q.options.confidenceZ&&Number.isFinite(Q.options.confidenceZ)?Math.max(0,Q.options.confidenceZ):1.96,Te=Math.max(1,Math.trunc(Q.options.minSamplesBeforeElimination??50)),Ne=null!=Q.options.baseSeed&&Number.isFinite(Q.options.baseSeed)?Math.trunc(Q.options.baseSeed):null!=$.seed&&Number.isFinite($.seed)?Math.trunc($.seed):123456789,Ge="player"===be?"playerPets":"opponentPets",Ie=($[Ge]??[]).slice(),gt=_e?d(Ie,f(_e({baseConfig:$,side:be,lineup:Ie}),Ie.length)):null,pt=function k(Q){const $=Q.length;if($<=0)return[[]];const H=function L(Q){const $=[];for(let H=0;H<Q.length;H+=1){const ae=Q[H],re=$.find(_e=>ne(_e.representative,ae));re?re.indices.push(H):$.push({representative:ae,indices:[H]})}return $}(Q),ae=H.map(be=>be.indices.length),_e=[];return N(0,new Array($),ae,_e),_e.map(be=>function q(Q,$){const H=$.map(()=>0);return Q.map(ae=>{const re=H[ae];H[ae]+=1;const _e=$[ae].indices[re];if(null==_e)throw new Error("Failed to map grouped permutation to index permutation.");return _e})}(be,H))}(Ie),We=pt.map(vt=>({order:[...vt],lineup:o(Ie,vt),simulations:0,wins:0,draws:0,losses:0,score:0,lowerBound:0,upperBound:1,eliminated:!1,rounds:0,simulationLineup:gt?r($,be,Ie,vt,gt,_e):o(Ie,vt)}));let tt=0;const At=pt.length*Ee;let nt=0,et=!1;if(0===We.length)throw new Error("Could not generate any board permutations.");for(;;){if(ae?.()){et=!0;break}const vt=We.filter(it=>!it.eliminated);if(vt.length<=1)break;const rt=Ne+nt;let He=!1;for(const it of vt){if(ae?.()){et=!0;break}if(it.simulations>=Ee)continue;const Et=Math.min(ke,Ee-it.simulations);if(Et<=0)continue;He=!0;const we=H({...$,[Ge]:it.simulationLineup,simulationCount:Et,logsEnabled:!1,maxLoggedBattles:0,captureRandomDecisions:!1,randomDecisionOverrides:[],seed:rt}),Ve="player"===be?we.playerWins:we.opponentWins,Fe="player"===be?we.opponentWins:we.playerWins;it.simulations+=Et,it.rounds+=1,it.wins+=Ve,it.draws+=we.draws,it.losses+=Fe,n(it,de),tt+=Et;const ot=We.filter(Rt=>Rt.simulations>0).length,Bt=Math.max(...We.map(Rt=>Rt.score));re?.({completedBattles:tt,totalBattlesEstimate:At,testedPermutations:ot,activePermutations:We.filter(Rt=>!Rt.eliminated).length,bestScore:Bt})}if(et||!He)break;const kt=We.filter(it=>!it.eliminated);for(const it of kt)n(it,de);const Xt=kt.filter(it=>it.simulations>=Te);if(Xt.length>1){const it=Math.max(...Xt.map($t=>$t.lowerBound));for(const $t of Xt)$t.upperBound<it&&($t.eliminated=!0)}nt+=1}for(const vt of We)n(vt,de);const Dt=[...We].sort((vt,rt)=>rt.score!==vt.score?rt.score-vt.score:rt.lowerBound!==vt.lowerBound?rt.lowerBound-vt.lowerBound:rt.simulations!==vt.simulations?rt.simulations-vt.simulations:0),ct=Dt[0];if(!ct)throw new Error("Positioning optimization failed to rank candidates.");return{side:be,totalPermutations:We.length,prunedPermutations:We.filter(vt=>vt.eliminated).length,simulatedBattles:tt,aborted:et,bestPermutation:t(ct),rankedPermutations:Dt.map(t)}}function t(Q){return{order:[...Q.order],lineup:[...Q.lineup],simulations:Q.simulations,wins:Q.wins,draws:Q.draws,losses:Q.losses,score:Q.score,lowerBound:Q.lowerBound,upperBound:Q.upperBound,eliminated:Q.eliminated}}function n(Q,$){const H=Q.simulations;if(H<=0)return Q.score=0,Q.lowerBound=0,void(Q.upperBound=1);const ae=function a(Q,$,H){return H<=0?0:(Q+.5*$)/H}(Q.wins,Q.draws,H),re=Math.max(0,ae*(1-ae)),_e=$*Math.sqrt(re/H);Q.score=ae,Q.lowerBound=Math.max(0,ae-_e),Q.upperBound=Math.min(1,ae+_e)}function o(Q,$){return $.map(H=>Q[H])}function r(Q,$,H,ae,re,_e){const be=o(H,ae),ke=d(be,f(_e({baseConfig:Q,side:$,lineup:be}),be.length));return be.map((de,Te)=>{if(!de)return null;const Ge=re[ae[Te]??Te]??{},Ie=ke[Te]??{},gt=new Set([...Object.keys(Ie),...Object.keys(Ge)]);if(gt.size<=0)return de;const pt=de,We={...pt,equipment:pt.equipment&&"object"==typeof pt.equipment?{...pt.equipment}:pt.equipment??null};for(const tt of gt){const nt=(D(pt[tt])??0)+(Ie[tt]??0)-(Ge[tt]??0);We[tt]=nt}return We})}function d(Q,$){const H=Math.max(Q.length,$.length),ae=[];for(let re=0;re<H;re+=1)ae.push(g(Q[re]??null,$[re]??null));return ae}function g(Q,$){if(!Q||!$)return{};const H=Q,ae=$,re=new Set;Object.entries(H).forEach(([be,Ee])=>{null!=D(Ee)&&re.add(be)}),Object.entries(ae).forEach(([be,Ee])=>{null!=D(Ee)&&re.add(be)});const _e={};for(const be of re){const Ee=D(H[be])??0,de=(D(ae[be])??0)-Ee;0!==de&&(_e[be]=de)}return _e}function f(Q,$){const H=Q.slice(0,$);for(;H.length<$;)H.push(null);return H}function D(Q){return"number"==typeof Q&&Number.isFinite(Q)?Q:null}function N(Q,$,H,ae){if(Q>=$.length)ae.push($.slice());else for(let re=0;re<H.length;re+=1)H[re]<=0||($[Q]=re,H[re]-=1,N(Q+1,$,H,ae),H[re]+=1)}function ne(Q,$){if(Object.is(Q,$))return!0;if(null==Q||null==$)return Q===$;if(Array.isArray(Q)||Array.isArray($)){if(!Array.isArray(Q)||!Array.isArray($)||Q.length!==$.length)return!1;for(let be=0;be<Q.length;be+=1)if(!ne(Q[be],$[be]))return!1;return!0}if("object"!=typeof Q||"object"!=typeof $)return!1;const H=Q,ae=$,re=Object.keys(H).sort(),_e=Object.keys(ae).sort();if(re.length!==_e.length)return!1;for(let be=0;be<re.length;be+=1){const Ee=re[be],ke=_e[be];if(Ee!==ke||!ne(H[Ee],ae[ke]))return!1}return!0}i.d(S,{i:()=>e})},19866(O,S,i){i.d(S,{r:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Calygreyhound";tier=3;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CalygreyhoundAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;if(0==r.mana)return;let d=r.parent.opponent.getHighestHealthPets(2,void 0,r),g=this.level*r.mana;for(let f of d.pets)f.health=Math.max(1,f.health-g),this.logService.createLog({message:`${r.name} reduced ${f.name}'s health by ${g} to ${f.health}.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random});r.mana=0,this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},19939(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Stonefish";tier=5;pack="Puppy";attack=7;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"StonefishAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a,pteranodon:o}=e,r=this.owner;let g=r.parent.getSpecificPet(r,n).pet;null==g||!g.alive||(r.snipePet(g,r.attack*this.level,!1,a,o),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},20136(O,S,i){i.d(S,{g:()=>a,o:()=>o});var P=i(50873),c=i(15847),A=i(5615),_=i(57488),v=i(17385),e=i(58857),t=i(61850),n=i(79222);class a extends P.L{logService;toyService;equipmentService;name="Pandoras Box";tier=5;startOfBattle(d,g){o.applyPandorasBoxEffect({logService:this.logService,equipmentService:this.equipmentService,level:this.level,pets:[...d.player.petArray,...d.opponent.petArray],useClones:!1,logPlayer:this.parent,logMeta:{randomEvent:!0},logMessage:(f,D)=>`${this.name} gave ${f.name} ${D.name}`})}constructor(d,g,f,D,k){super(d,g,f,D),this.logService=d,this.toyService=g,this.equipmentService=k}}class o extends A.T{logService;abilityService;equipmentService;constructor(d,g,f,D){super({name:"PandorasBoxAbility",owner:d,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:d.level,abilityFunction:k=>{this.executeAbility(k)}}),this.logService=g,this.abilityService=f,this.equipmentService=D}executeAbility(d){const{gameApi:g,tiger:f,pteranodon:D}=d,k=this.owner,L=(0,_.a)(g,k.parent),N=[...k.parent.petArray,...L.petArray].filter(q=>q?.alive);o.applyPandorasBoxEffect({logService:this.logService,equipmentService:this.equipmentService,level:this.level,pets:N,useClones:!0,logPlayer:k.parent,logMeta:{tiger:f,pteranodon:D,randomEvent:!0},logMessage:(q,ne)=>`Pandoras Box Ability gave ${q.name} ${ne.name}`}),this.triggerTigerExecution(d)}copy(d){return new o(d,this.logService,this.abilityService,this.equipmentService)}static applyPandorasBoxEffect(d){const{logService:g,equipmentService:f,level:D,pets:k,useClones:L,logPlayer:N,logMeta:q,logMessage:ne}=d,Q=Array.from(f.getInstanceOfAllAilments().values()),$=new Set(["Chocolate Cake"]),H=Array.from(f.getInstanceOfAllEquipment().values()).filter(ae=>{if(!ae||$.has(ae.name)||!(0,c.Y)(ae))return!1;const re=ae.triggers??[];return!(re.includes("StartTurn")||re.includes("EndTurn")||re.includes("BeforeStartBattle"))});for(const ae of k){const _e=0===(0,e.k6)({key:"toy.pandoras-box.pool",label:(0,n.I)(ae,"Pandoras Box pool"),options:[{id:"ailments",label:"Ailments"},{id:"equipment",label:"Equipment"}]},()=>(0,t.hw)(0,1)).index?Q:H;if(!_e.length)continue;const be=(0,e.k6)({key:"toy.pandoras-box.item",label:(0,n.I)(ae,"Pandoras Box item"),options:_e.map(de=>({id:de.name,label:de.name}))},()=>(0,t.hw)(0,_e.length-1)),Ee=_e[be.index];if(!Ee)continue;const ke=L?(0,v.e)(Ee):Ee;ke&&(ae.givePetEquipment(ke,D),g.createLog({message:ne(ae,ke),type:"ability",player:N,sourcePet:ae,tiger:q?.tiger,pteranodon:q?.pteranodon,randomEvent:q?.randomEvent}))}}}},20150(O,S,i){i.d(S,{K:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;petService;name="Kappa";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L,N){super(a,o,d),this.logService=a,this.abilityService=o,this.petService=r,this.initPet(k,g,f,D,L,N)}}class t extends c.T{logService;abilityService;petService;constructor(a,o,r,d){super({name:"KappaAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=o,this.abilityService=r,this.petService=d}executeAbility(a){const{gameApi:o,tiger:d,pteranodon:g}=a,f=this.owner;let k=(f.parent==o.player?o.playerPetPool:o.opponentPetPool).get(3);for(let L=0;L<f.level;L++){const N=(0,A.k6)({key:"pet.kappa-player-spawn",label:(0,v.I)(f,"Kappa player spawn",L+1),options:k.map(_e=>({id:_e,label:_e}))},()=>(0,_.hw)(0,k.length-1));let q=k[N.index];const ne=(0,A.k6)({key:"pet.kappa-opponent-spawn",label:(0,v.I)(f,"Kappa opponent spawn",L+1),options:k.map(_e=>({id:_e,label:_e}))},()=>(0,_.hw)(0,k.length-1));let Q=k[ne.index],$=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:q},f.parent);f.parent.summonPet($,f.savedPosition,!1,f).success&&this.logService.createLog({message:`${f.name} spawned a ${$.name} (14/16).`,type:"ability",player:f.parent,tiger:d,pteranodon:g,randomEvent:N.randomEvent});let ae=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:Q},f.parent.opponent);f.parent.opponent.summonPet(ae,f.savedPosition,!1,f).success&&this.logService.createLog({message:`${f.name} spawned a ${ae.name} (14/16) for the opponent.`,type:"ability",player:f.parent,tiger:d,pteranodon:g,randomEvent:ne.randomEvent})}this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService,this.petService)}}},20178(O,S,i){i.d(S,{I:()=>A});var P=i(80614),c=i(58253);const A={closed:!0,next(_){},error(_){if(P.$.useDeprecatedSynchronousErrorHandling)throw _;(0,c.T)(_)},complete(){}}},20188(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pygmy Hippo";tier=3;pack="Danger";attack=2;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"PygmyHippoAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=Math.floor(.33*r.health),g=r.parent.opponent.getLowestHealthPets(this.level,void 0,r);for(let f of g.pets)r.snipePet(f,d,g.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},20290(O,S,i){i.d(S,{S:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Shrimp";tier=2;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,n){super({name:"ShrimpAbility",owner:e,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const n=e.triggerPet;if(!n||!n.isSellPet())return void this.triggerTigerExecution(e);const a=t.parent.getRandomPet([t]),o=a.pet;if(!o)return void this.triggerTigerExecution(e);const r=this.level;o.increaseHealth(r),this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave ${o.name} +${r} health after ${n.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},20428(O,S,i){i.d(S,{Q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Porcupine";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Porcupine Ability",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{triggerPet:t}=e,n=this.owner;if(t&&t.alive&&t.parent!==n.parent){const a=3*this.level;n.dealDamage(t,a),this.logService.createLog({message:`${n.name} reflected ${a} damage to ${t.name}.`,type:"ability",player:n.parent})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},20441(O,S,i){i.d(S,{g:()=>a});var P=i(64855),c=i(83028),A=i(47868),_=i(24111),v=i(49230),e=i(56990),t=i(90966),n=i(1744);let a=(()=>{class o{logService;abilityService;petService;equipmentService;gameService;constructor(d,g,f,D,k){this.logService=d,this.abilityService=g,this.petService=f,this.equipmentService=D,this.gameService=k,this.logService=(0,c.V)(this.logService)}createToy(d,g,f,D,k,L,N){const ne=P.AF[d];return ne?ne({logService:this.logService,abilityService:this.abilityService,toyService:D,parent:g,level:f,petService:this.petService??k,equipmentService:this.equipmentService??L,gameService:this.gameService??N}):P.UI[d]?new(0,P.UI[d])(this.logService,D,this.abilityService,g,f):P.qw[d]?new(0,P.qw[d])(this.logService,D,g,f):null}static \u0275fac=function(g){return new(g||o)(A.KVO(_.K),A.KVO(v.K),A.KVO(e.T),A.KVO(t.m),A.KVO(n.w))};static \u0275prov=A.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},20778(O,S,i){i.d(S,{A:()=>c});const c=function P(A){return function(_){return A(_)}}},20791(O,S,i){i.d(S,{f:()=>_});var P=i(46200),c=i(5615),A=i(12312);class _ extends P.i{logService;abilityService;name="Slime";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"Slime Ability",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>this.executeAbility(o)}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=Math.max(0,o.battlesFought??0),d=Math.floor(r/2);if(d<=0)return void this.triggerTigerExecution(t);const g=2*this.level;let f=0;for(let D=0;D<d;D++){const k=new A.x(this.logService,this.abilityService,o.parent,g,g);if(!o.parent.summonPet(k,o.savedPosition,!1,o).success)break;f++}f>0&&this.logService.createLog({message:`${o.name} summoned ${f} ${g}/${g} Smaller Slime${1===f?"":"s"}.`,type:"ability",player:o.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},20802(O,S,i){i.d(S,{B:()=>_});var P=i(46200),c=i(5615),A=i(33524);class _ extends P.i{logService;abilityService;name="Giant Pangasius";tier=5;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"GiantPangasiusAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{gameApi:n,tiger:o}=t,d=this.owner;if(!n)return;let g;g=d.parent===n.player?n.playerTransformationAmount:n.opponentTransformationAmount;let f=4*this.level;if(g>0)for(let D=0;D<g;D++){let L=(0,A.ku)(d)?d.parent.getRandomPet([],!1,!0,!1,d,!0):d.parent.opponent.getRandomPet([],!1,!0,!1,d);L.pet&&d.snipePet(L.pet,f,L.random,o)}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},20827(O,S,i){i.d(S,{D:()=>a});var P=i(24111),c=i(46200),A=i(5615),_=i(22168),v=i(33127),e=i(58857),t=i(61850),n=i(79222);class a extends c.i{logService;abilityService;name="Pink Robin";tier=1;pack="Custom";attack=3;health=2;constructor(d,g,f,D,k,L,N,q,ne){super(d,g,f),this.logService=d,this.abilityService=g,this.initPet(N,D,k,L,q,ne)}initAbilities(){this.addAbility(new o(this)),super.initAbilities()}}class o extends A.T{constructor(d){super({name:"Pink Robin Ability",owner:d,triggers:["PostRemovalFaint"],abilityType:"Pet",abilitylevel:d.level,abilityFunction:g=>this.executeAbility(g)})}executeAbility(d){const{tiger:g,pteranodon:f}=d,D=this.owner,k=2*this.level,L=D.parent.petArray.filter(N=>N.alive&&N!==D&&N.tier<=k);if(L.length>0){const N=(0,e.k6)({key:"pet.pink-robin-end-turn-target",label:(0,n.I)(D,"Pink Robin end-turn target"),options:L.map($=>({id:`${$.savedPosition+1}:${$.name}`,label:`P${$.savedPosition+1} ${$.name}`}))},()=>(0,t.hw)(0,L.length-1)),q=L[N.index],ne=v.I.getInjector().get(_.b),Q=v.I.getInjector().get(P.K);ne.triggerAbility(q,"EndTurn",D),Q.createLog({message:`${D.name} activated End Turn on ${q.name}.`,type:"ability",player:D.parent,randomEvent:N.randomEvent,tiger:g,pteranodon:f})}this.triggerTigerExecution(d)}copy(d){return new o(d)}}},20858(O,S,i){i.d(S,{j:()=>_});var P=i(48576),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Frost Wolf";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"FrostWolfAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithEquipmentWithSillyFallback("Cold",d),f=d.parent.opponent.getFurthestUpPet(d,g),D=f.pet;if(null==D)return;const k=new P.b;k.multiplier+=this.level-1,k.baseMultiplier=k.multiplier;let L=".";2===this.level?L=" twice for double effect.":3===this.level&&(L=" thrice for triple effect."),this.logService.createLog({message:`${d.name} made ${D.name} Cold${L}`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.random}),D.givePetEquipment(k),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},20882(O,S,i){i.d(S,{A:()=>_});var P=i(94528),c=i(54841);const _=function A(v){return(0,c.A)((0,P.A)(v))}},21110(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Yeti";tier=6;pack="Unicorn";attack=5;health=9;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"YetiAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} rolled ${4*this.level} times while freezing pet copies and tier 6 food.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},21259(O,S,i){i.d(S,{Y:()=>c});var P=i(31805);class c extends P.y{constructor(_,v){super(),this.subject=_,this.subscriber=v,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const _=this.subject,v=_.observers;if(this.subject=null,!v||0===v.length||_.isStopped||_.closed)return;const e=v.indexOf(this.subscriber);-1!==e&&v.splice(e,1)}}},21299(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="White Tiger";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WhiteTigerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.nearestPetsBehind(this.level,r);for(let g of d.pets)this.logService.createLog({message:`${r.name} gave ${g.name} +3 experience.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random}),g.increaseExp(3);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},21311(O,S,i){i.d(S,{F:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Cat";tier=6;pack="Turtle";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;usesThisTurn=0;constructor(e,t){super({name:"CatAbility",owner:e,triggers:["FoodEatenByFriendly","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,{trigger:n,triggerPet:a}=e;if("StartTurn"===n)return void(this.usesThisTurn=0);if(this.usesThisTurn>=2)return;this.usesThisTurn++;const o=this.level+1;this.logService.createLog({message:`${t.name} boosted ${a?.name??"a friend"}'s shop food by ${o}x.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},21499(O,S,i){i.d(S,{c:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Leech";tier=3;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"LeechAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.petAhead;if(!n)return void this.triggerTigerExecution(e);const a=this.level,o=Math.min(a,n.health);t.dealDamage(n,a),t.increaseHealth(o),this.logService.createLog({message:`${t.name} dealt ${a} damage to ${n.name} and gained ${o} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},21545(O,S,i){i.d(S,{P:()=>t});var P=i(46200),c=i(5615),A=i(94798),_=i(58857),v=i(61850),e=i(79222);class t extends P.i{logService;abilityService;petService;name="Bay Cat";tier=6;pack="Danger";attack=7;health=5;initAbilities(){this.addAbility(new n(this,this.logService,this.petService,this.abilityService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,N,q){super(o,r,g),this.logService=o,this.abilityService=r,this.petService=d,this.initPet(L,f,D,k,N,q)}}class n extends c.T{logService;petService;abilityService;constructor(o,r,d,g){super({name:"BayCatAbility",owner:o,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:f=>{this.executeAbility(f)}}),this.logService=r,this.petService=d,this.abilityService=g}executeAbility(o){const{gameApi:r,tiger:g,pteranodon:f}=o,D=this.owner;let k=A.s.bayCat;for(let L=0;L<D.level;L++){const N=(0,_.k6)({key:"pet.bay-cat-summon",label:(0,e.I)(D,"Bay Cat summon",L+1),options:k.map($=>({id:$,label:$}))},()=>(0,v.hw)(0,k.length-1));let ne=this.petService.createPet({name:k[N.index],attack:null,health:null,equipment:null,mana:0,exp:0},D.parent);D.parent.summonPet(ne,D.savedPosition,!1,D).success&&(this.logService.createLog({message:`${D.name} summoned ${ne.name}`,type:"ability",player:D.parent,tiger:g,pteranodon:f,randomEvent:N.randomEvent}),ne.hasAbility("StartBattle")&&(this.logService.createLog({message:`${ne.name} activated its start of battle ability`,type:"ability",player:D.parent,tiger:g,pteranodon:f}),ne.activateAbilities("StartBattle",r,"Pet")))}this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.petService,this.abilityService)}}},21580(O,S,i){i.d(S,{k:()=>c});var P=i(22097);class c extends P.${logService;abilityService;name="Chili";equipmentClass="skewer";power=0;originalPower=0;attackCallback=(_,v)=>{let e=v.parent.getPetAtPosition(1);null!=e&&_.snipePet(e,5*(_.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",5)};constructor(_,v){super(),this.logService=_,this.abilityService=v}}},21784(O,S,i){i.d(S,{G:()=>_});var P=i(46200),c=i(5615),A=i(43378);class _ extends P.i{logService;abilityService;name="Caterpillar";tier=4;pack="Puppy";attack=1;health=1;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"CaterpillarAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:o=>this.owner.level>=3,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getThis(d),f=g.pet;if(null==f)return;let D=new A.A(this.logService,this.abilityService,f.parent,f.health,f.attack,f.mana,f.exp,f.equipment);d.parent.transformPet(f,D),this.logService.createLog({message:`${d.name} transformed into a Butterfly.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},21844(O,S,i){i.d(S,{z:()=>c});var P=i(22097);class c extends P.${name="Blueberry";equipmentClass="target";constructor(){super()}}},21881(O,S,i){i.d(S,{A:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Frilled Dragon";tier=1;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FrilledDragonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=0;for(let g of r.parent.petArray)g!==r&&g.isFaintPet()&&d++;d*=this.level,r.increaseAttack(d),r.increaseHealth(d),this.logService.createLog({message:`${r.name} gained ${d} attack and ${d} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},22097(O,S,i){i.d(S,{$:()=>c});var P=i(83028);class c{equipmentClass;name;tier;power;originalPower;uses;originalUses;callback;attackCallback;multiplier=1;multiplierMessage="";baseMultiplier=1;minimumDamage;hasRandomEvents=!1;triggers;constructor(){(0,P.L)(this),this.originalPower=this.power,this.baseMultiplier=this.multiplier}reset(){this.uses=this.originalUses}}},22120(O,S,i){i.d(S,{q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Rockhopper Penguin";tier=6;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"RockhopperPenguinAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,condition:()=>null==e.parent.pet0,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent.getThis(a),r=o.pet;if(!r)return void this.triggerTigerExecution(e);a.parent.pushPetToFront(r,!0);const d=12*this.level,g=a.parent.resolveTrumpetGainTarget(a);g.player.gainTrumpets(d,a,n,void 0,void 0,g.random),this.logService.createLog({message:`${a.name} jumped to the front and gained +${d} trumpets.`,type:"ability",player:a.parent,tiger:t,pteranodon:n,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},22167(O,S,i){i.d(S,{E:()=>v,y:()=>_});var P=i(32334),c=i(50873),A=i(5615);class _ extends c.L{name="Plastic Saw";tier=2;startOfBattle(t,n){let a=this.parent.getPetsWithEquipment("Eucalyptus"),r=this.parent.getFurthestUpPets(this.level,a).pets;if(0!=r.length)for(let d of r)this.logService.createLog({message:`${this.name} gave ${d.name} Eucalyptus.`,type:"ability",player:this.parent,puma:n}),d.givePetEquipment(new P.E)}}class v extends A.T{logService;constructor(t,n){super({name:"PlasticSawAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,r=this.owner;let d=r.parent.getPetsWithEquipment("Eucalyptus"),g=r.parent.getFurthestUpPets(this.level,d,r),f=g.pets;if(0!=f.length){for(let D of f)this.logService.createLog({message:`${r.name} gave ${D.name} Eucalyptus.`,type:"ability",player:r.parent,tiger:o,randomEvent:g.random}),D.givePetEquipment(new P.E);this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},22168(O,S,i){i.d(S,{b:()=>e});var P=i(46200),c=i(73028),A=i(53591),_=i(61850),v=i(47868);let e=(()=>{class t{static BEFORE_ATTACK_PRIORITY_BONUS=2e4;static FRIENDLY_GAINS_PERK_SELF_PRIORITY_BONUS=1e4;static CHURROS_PRIORITY_OFFSET=1e3;static MACARON_PRIORITY_OFFSET=-1e3;globalEventQueue=[];numberedTriggerCache=new WeakMap;numberedTriggerRegexCache=new Map;constructor(){}addEventToQueue(a){a.tieBreaker=(0,_.Ak)();const o=this.findEventInsertionIndex(a);this.globalEventQueue.splice(o,0,a)}findEventInsertionIndex(a){let o=0,r=this.globalEventQueue.length;for(;o<r;){const d=Math.floor((o+r)/2);this.compareEventsForQueueOrder(a,this.globalEventQueue[d])<0?r=d:o=d+1}return o}compareEventsForQueueOrder(a,o){const r=this.getAbilityPriority(a.abilityType)-this.getAbilityPriority(o.abilityType);if(0!==r)return r;const d=o.priority-a.priority;return 0!==d?d:(a.tieBreaker??0)-(o.tieBreaker??0)}clearGlobalEventQueue(){this.globalEventQueue=[]}get hasGlobalEvents(){return this.globalEventQueue.length>0}processQueue(a,o){(0,A.T5)(this.globalEventQueue,a,o)}getNextHighestPriorityEvent(){return this.globalEventQueue.shift()||null}peekNextHighestPriorityEvent(){return this.globalEventQueue.length>0?this.globalEventQueue[0]:null}executeEvent(a,o){(0,A.ET)(a,o)}getAbilityPriority(a){if("string"!=typeof a||0===a.length)return 999;const o=c.mX[a];if(null!=o)return o;const r=this.removeNumericSuffix(a);return r!==a?c.mX[r]??c.mX.CounterEvent??999:999}getPriorityNumber(a){return this.getAbilityPriority(a)}getPetEventPriority(a){let o=a.attack;return"Churros"===a.equipment?.name?o+=t.CHURROS_PRIORITY_OFFSET:"Macaron"===a.equipment?.name&&(o+=t.MACARON_PRIORITY_OFFSET),o}triggerAbility(a,o,r,d){if(a.hasTrigger(o)){let g=this.getPetEventPriority(a);("BeforeThisAttacks"===o||"BeforeFirstAttack"===o)&&(g+=t.BEFORE_ATTACK_PRIORITY_BONUS),"FriendlyGainsPerk"===o&&a===r&&(g+=t.FRIENDLY_GAINS_PERK_SELF_PRIORITY_BONUS);const f={...d??{},trigger:o,tigerSupportPet:a.petBehind(!0,!0)??null},D={priority:g,pet:a,triggerPet:r,abilityType:o,tieBreaker:(0,_.Ak)(),customParams:f};this.addEventToQueue(D)}}simulatePostRemovalFriendFaintsCounters(a,o){if(!a||o<=0)return;const r=this.getNumberedTriggersForPet(a,"PostRemovalFriendFaints");for(let d=0;d<o;d++)this.handleNumberedCounterTriggers(a,void 0,void 0,r)}handleCounterTriggers(a,o,r,d){for(const g of d)a.hasTrigger(g.trigger)&&(a.abilityCounter++,a.abilityCounter%g.modulo===0&&this.triggerAbility(a,g.trigger,o,r))}getTriggerModulo(a){const o=this.getNumericSuffix(a);return o?parseInt(o,10):null}handleNumberedCounterTriggers(a,o,r,d){const g=[];for(const f of d){const D=this.getTriggerModulo(f);null!=D&&g.push({trigger:f,modulo:D})}0!==g.length&&this.handleCounterTriggers(a,o,r,g)}getNumberedTriggersForPet(a,o){const r=a.abilityList;let d=this.numberedTriggerCache.get(a);(!d||d.listRef!==r||d.listLength!==r.length)&&(d={listRef:r,listLength:r.length,prefixMap:new Map},this.numberedTriggerCache.set(a,d));const g=d.prefixMap.get(o);if(g)return g;const f=new Set;let D=this.numberedTriggerRegexCache.get(o);D||(D=new RegExp(`^${o}\\d+$`),this.numberedTriggerRegexCache.set(o,D));for(const L of r)for(const N of L.triggers??[])D.test(N)&&f.add(N);const k=Array.from(f);return d.prefixMap.set(o,k),k}getNumericSuffix(a){if("string"!=typeof a||0===a.length)return null;const o=a.match(/(\d+)$/);return o?o[1]:null}removeNumericSuffix(a){return"string"!=typeof a||0===a.length?"":this.getNumericSuffix(a)?a.replace(/\d+$/,""):a}getTeam(a){const r=(a instanceof P.i?a.parent:a)?.petArray;return Array.isArray(r)?r:[]}static \u0275fac=function(o){return new(o||t)};static \u0275prov=v.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},22266(O,S,i){i.d(S,{T:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pug";tier=3;pack="Star";attack=5;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PugAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.nearestPetsAhead(1,r);if(0===d.pets.length)return;let g=d.pets[0],f=this.level;this.logService.createLog({message:`${r.name} gave ${g.name} ${f} exp.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),g.increaseExp(f),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},22312(O,S,i){i.d(S,{d:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Okapi";tier=3;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;pendingAttack=0;pendingHealth=0;maxUsesPerTurn=5;constructor(e,t,n){super({name:"OkapiAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return(this.pendingAttack||this.pendingHealth)&&(t.increaseAttack(-this.pendingAttack),t.increaseHealth(-this.pendingHealth)),this.pendingAttack=0,this.pendingHealth=0,this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const n=this.level;t.increaseAttack(n),t.increaseHealth(n),this.pendingAttack+=n,this.pendingHealth+=n,this.usesThisTurn++,this.logService.createLog({message:`${t.name} gained +${n}/+${n} until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},22382(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bulldog";tier=1;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BulldogAbility",owner:e,triggers:["ThisFirstAttack"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>this.owner.timesAttacked<=1,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=2*this.level,g=r.parent.getThis(r),f=g.pet;null!=f&&(f.increaseAttack(d),this.logService.createLog({message:`${r.name} gained +${d} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},22410(O,S,i){i.d(S,{W:()=>c});var P=i(22097);class c extends P.${name="Cheese";equipmentClass="attack";uses=1;originalUses=1}},22426(O,S,i){i.d(S,{z:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Smallest Slug";tier=1;pack="Golden";hidden=!0;health=1;attack=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},22528(O,S,i){i.d(S,{D:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Moby Dick";tier=1;pack="Custom";hidden=!0;attack=8;health=8;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MobyDickAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}get triggers(){const e=["StartBattle"];return this.owner.level>1&&e.push("ThisSummoned"),e}set triggers(e){this._triggers=e}executeAbility(e){this.logService.createLog({message:`${this.owner.name} removed itself.`,type:"ability",player:this.owner.parent}),this.owner.removed=!0;const t=this.owner.parent;t&&(t.pet0===this.owner&&(t.pet0=null),t.pet1===this.owner&&(t.pet1=null),t.pet2===this.owner&&(t.pet2=null),t.pet3===this.owner&&(t.pet3=null),t.pet4===this.owner&&(t.pet4=null)),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},22729(O,S,i){i.d(S,{H:()=>v});var P=i(77856),c=i(29916),A=i(42704),_=i(33524);class v{asPlayerLike(){return this}getRandomPet(t,n,a,o,r,d){return(0,P.dK)(this.asPlayerLike(),t,n,a,o,r,d)}getRandomPets(t,n,a,o,r,d){return(0,P.oc)(this.asPlayerLike(),t,n,a,o,r,d)}getRandomEnemyPetsWithSillyFallback(t,n,a,o,r){return(0,P.Ff)(this.asPlayerLike(),t,n,a,o,r)}getPetsWithEquipmentWithSillyFallback(t,n){return(0,P.IR)(this.asPlayerLike(),t,n)}getRandomLivingPets(t){return(0,P.BR)(this.asPlayerLike(),t)}getAll(t,n,a){return(0,A.UK)(this.asPlayerLike(),t,n,a)}getPetsWithEquipment(t){return(0,_.Rr)(this.asPlayerLike(),t)}getPetsWithoutEquipment(t){return(0,_.XT)(this.asPlayerLike(),t)}getPetAtPosition(t){return(0,_.Ye)(this.asPlayerLike(),t)}getMiddleFriend(t){return(0,A.O3)(this.asPlayerLike(),t)}getLastPet(t,n){return(0,A.Oc)(this.asPlayerLike(),t,n)}getLastPets(t,n,a){return(0,A.Nq)(this.asPlayerLike(),t,n,a)}getHighestHealthPet(t,n){return(0,c.m8)(this.asPlayerLike(),t,n)}getHighestAttackPet(t,n){return(0,c.il)(this.asPlayerLike(),t,n)}getHighestAttackPets(t,n,a){return(0,c.v)(this.asPlayerLike(),t,n,a)}getLowestAttackPets(t,n,a){return(0,c.nE)(this.asPlayerLike(),t,n,a)}getLowestAttackPet(t,n){return(0,c.SB)(this.asPlayerLike(),t,n)}getLowestHealthPet(t,n){return(0,c._k)(this.asPlayerLike(),t,n)}getLowestHealthPets(t,n,a){return(0,c.Pl)(this.asPlayerLike(),t,n,a)}getHighestHealthPets(t,n,a){return(0,c.H5)(this.asPlayerLike(),t,n,a)}getHighestTierPets(t,n,a){return(0,c.XS)(this.asPlayerLike(),t,n,a)}getTierXOrLowerPet(t,n,a){return(0,c.oy)(this.asPlayerLike(),t,n,a)}get furthestUpPet(){for(const t of this.petArray)if(t.alive)return t;return null}getFurthestUpPet(t,n){return(0,A.gK)(this.asPlayerLike(),t,n)}getFurthestUpPets(t,n,a){return(0,A.xF)(this.asPlayerLike(),t,n,a)}nearestPetsBehind(t,n,a){return(0,A.Jd)(this.asPlayerLike(),t,n,a)}getThis(t){return(0,A.Rh)(this.asPlayerLike(),t)}getSpecificPet(t,n){return(0,A._w)(this.asPlayerLike(),t,n)}nearestPetsAhead(t,n,a,o,r){return(0,A.MR)(this.asPlayerLike(),t,n,a,o,r)}getStrongestPet(t){return(0,c.xk)(this.asPlayerLike(),t)}getManticoreMult(){return(0,_.lx)(this.asPlayerLike())}getPetsWithinXSpaces(t,n){return(0,A.vn)(this.asPlayerLike(),t,n)}getOppositeEnemyPet(t){return(0,A.p5)(this.asPlayerLike(),t)}getRandomLivingPet(t){return(0,P.WB)(this.asPlayerLike(),t)}}},22806(O,S,i){i.d(S,{d:()=>_});var P=i(46200),c=i(5615),A=i(23865);class _ extends P.i{logService;abilityService;name="White-Bellied Heron";tier=2;pack="Danger";attack=4;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"WhiteBelliedHeronAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.nearestPetsAhead(1,d);if(0==g.pets.length)return;let f=g.pets[0],D=new A.i;D.multiplier+=this.level-1,f.givePetEquipment(D);let k=".";2===this.level?k=" twice for double effect.":3===this.level&&(k=" thrice for triple effect."),this.logService.createLog({message:`${d.name} made ${f.name} Meat Bone${k}`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},22931(O,S,i){i.d(S,{v:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Weevil";tier=1;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"WeevilAbility",owner:t,triggers:["FoodEatenByFriendly"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,precondition:a=>{const{triggerPet:o}=a,g=(0,A.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:n,tiger:a,pteranodon:o}=t,r=this.owner,d=(0,A.lK)(r,n),g=d.pet;null!=g&&(g.increaseAttack(this.level),this.logService.createLog({message:`${r.name} gave ${g.name} +${this.level} attack.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},23201(O,S,i){i.d(S,{R:()=>A,r:()=>_});var P=i(50873),c=i(5615);class A extends P.L{name="Tennis Ball";tier=2;startOfBattle(e,t){let n=this.parent.opponent.getRandomPets(this.level,[],!1,!0),a=n.pets;if(0!=a.length)for(let o of a)this.toyService.snipePet(o,3,this.parent,this.name,n.random,t)}}class _ extends c.T{logService;constructor(e,t){super({name:"TennisBallAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!0,r),g=d.pets;if(0!=g.length){for(let f of g)r.snipePet(f,3,d.random,a);this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},23238(O,S,i){i.d(S,{M:()=>v});var P=i(46200),c=i(5615),A=i(17385),_=i(1152);class v extends P.i{logService;abilityService;name="Real Velociraptor";tier=6;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;friendAppliedThisTurn=new Set;reset(){this.maxUses=this.level,this.friendAppliedThisTurn=new Set,super.reset()}constructor(n,a){super({name:"RealVelociraptorAbility",owner:n,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:o=>{const{triggerPet:r}=o,d=this.owner;if(!r||!r.lastLostEquipment||!(0,_.Re)(d,r,{excludeOwner:!0}))return!1;const f=(0,_.lK)(d,r).pet;return!!f&&!this.friendAppliedThisTurn.has(f)},abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{triggerPet:o,tiger:r}=n,g=this.owner;let f=this.createEquipmentInstance(o.lastLostEquipment);if(f){let D=(0,_.lK)(g,o),k=D.pet;if(null==k)return;k.givePetEquipment(f),this.logService.createLog({message:`${g.name} returned ${f.name} to ${k.name}.`,type:"ability",player:g.parent,tiger:r,randomEvent:D.random}),this.friendAppliedThisTurn.add(k)}this.triggerTigerExecution(n)}createEquipmentInstance(n){return n?(0,A.e)(n):null}copy(n){return new e(n,this.logService)}}},23296(O,S,i){i.d(S,{m:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Baguette";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"BaguetteAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let a=t.parent.opponent.getPetsWithoutEquipment("Perk"),o=t.parent.opponent.getFurthestUpPet(t,a).pet;if(null==o)return;if(null!=o.equipment){let r=o.equipment.name;o.removePerk(),this.logService.createLog({message:`${t.name} removed ${r} from ${o.name} (Baguette)${n>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}}t.removePerk()}}},23360(O,S,i){i.d(S,{A:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dragon";tier=6;pack="Turtle";attack=3;health=8;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"DragonAbility",owner:e,triggers:["Tier1FriendBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:4,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level,a=t.parent.petArray.filter(o=>o&&o.alive);if(0!==a.length){for(const o of a)o.increaseAttack(n),o.increaseHealth(n);this.logService.createLog({message:`${t.name} gave friends +${n} attack and +${n} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService,this.abilityService)}}},23393(O,S,i){i.d(S,{q:()=>A});var P=i(47868),c=i(22168);let A=(()=>{class _{abilityQueueService;constructor(e){this.abilityQueueService=e}triggerBeforeAttackEvents(e){const t=e?.parent,n=t&&Array.isArray(t.petArray)?t.petArray:[];for(let a of n)a.hasTrigger("BeforeFriendlyAttack")&&this.abilityQueueService.triggerAbility(a,"BeforeFriendlyAttack",e,void 0),a==e?(a.hasTrigger("BeforeThisAttacks")&&this.abilityQueueService.triggerAbility(a,"BeforeThisAttacks"),a.hasTrigger("BeforeFirstAttack")&&this.abilityQueueService.triggerAbility(a,"BeforeFirstAttack")):a.hasTrigger("BeforeFriendAttacks")&&this.abilityQueueService.triggerAbility(a,"BeforeFriendAttacks",e),(a==e.petAhead||a==e.petBehind())&&a.hasTrigger("BeforeAdjacentFriendAttacked")&&this.abilityQueueService.triggerAbility(a,"BeforeAdjacentFriendAttacked",e)}triggerAfterAttackEvents(e){if(!e)return;const t=this.abilityQueueService.getTeam(e);for(let a of t)this.abilityQueueService.handleNumberedCounterTriggers(a,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(a,"FriendlyAttacked")),a.hasTrigger("FriendlyAttacked")&&this.abilityQueueService.triggerAbility(a,"FriendlyAttacked"),a.hasTrigger("AnyoneAttack")&&this.abilityQueueService.triggerAbility(a,"AnyoneAttack",e),a==e?(a.hasTrigger("ThisAttacked")&&this.abilityQueueService.triggerAbility(a,"ThisAttacked"),a.hasTrigger("ThisFirstAttack")&&this.abilityQueueService.triggerAbility(a,"ThisFirstAttack")):(a.hasTrigger("FriendAttacked")&&this.abilityQueueService.triggerAbility(a,"FriendAttacked",e),this.abilityQueueService.handleNumberedCounterTriggers(a,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(a,"FriendAttacked"))),(a==e.petAhead||a==e.petBehind())&&a.hasTrigger("AdjacentFriendAttacked")&&this.abilityQueueService.triggerAbility(a,"AdjacentFriendAttacked",e),a==e.petBehind(null,!0)&&a.hasTrigger("FriendAheadAttacked")&&this.abilityQueueService.triggerAbility(a,"FriendAheadAttacked",e);const n=this.abilityQueueService.getTeam(e.parent?.opponent);if(n.length)for(let a of n)a.hasTrigger("AnyoneAttack")&&this.abilityQueueService.triggerAbility(a,"AnyoneAttack",e),a.hasTrigger("EnemyAttacked")&&this.abilityQueueService.triggerAbility(a,"EnemyAttacked"),this.abilityQueueService.handleNumberedCounterTriggers(a,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(a,"EnemyAttacked"))}static \u0275fac=function(t){return new(t||_)(P.KVO(c.b))};static \u0275prov=P.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},23407(O,S,i){i.d(S,{P:()=>_});var P=i(46200),c=i(5615),A=i(51838);class _ extends P.i{logService;abilityService;name="Tree";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Tree Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=[6,12,18],d=r[Math.min(this.level-1,r.length-1)];o.attack<=d&&(o.givePetEquipment(new A.K),this.logService.createLog({message:`${o.name} gained Coconut perk for meeting the ${d} attack threshold.`,type:"ability",player:o.parent,tiger:n,pteranodon:a})),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},23475(O,S,i){i.d(S,{_:()=>_});var P=i(46200),c=i(5615),A=i(14908);class _ extends P.i{logService;abilityService;name="Chinchilla";tier=1;pack="Puppy";attack=2;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"ChinchillaAbility",owner:t,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=this.level,r=2*a,d=new A.r(this.logService,this.abilityService,n.parent,r,r,null,this.minExpForLevel),g=n.parent.summonPet(d,n.savedPosition,!1,n);g.success&&this.logService.createLog({message:`${n.name} summoned a ${r}/${r} Loyal Chinchilla (level ${a}).`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:g.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},23508(O,S,i){i.d(S,{q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Quetzalcoatlus";tier=3;pack="Custom";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Quetzalcoatlus Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:n,pteranodon:a}=e,o=this.owner;if(!t||!t.alive)return void this.triggerTigerExecution(e);const r=this.level,d=t.parent.petArray.filter(g=>g.alive);for(const g of d)g.increaseAttack(r),g.increaseHealth(r);this.logService.createLog({message:`${o.name} (Faint) gave +${r}/+${r} to ${t.name} and its friends.`,type:"ability",player:o.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},23586(O,S,i){i.d(S,{C:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Silkmoth";tier=1;pack="Golden";attack=3;health=1;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"SilkmothAbility",owner:t,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,precondition:a=>{const{triggerPet:o}=a,g=(0,A.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=(0,A.lK)(d,a),f=g.pet;if(null==f)return;let D=this.level;f.increaseHealth(D),this.logService.createLog({message:`${d.name} gave ${f.name} ${D} health.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},23623(O,S,i){i.d(S,{W:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Tatzelwurm";tier=4;pack="Unicorn";attack=1;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TatzelwurmAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let d=2*this.level;n&&3==n.level&&(d*=2);let g=r.parent.opponent.getFurthestUpPet(r);null!=g.pet&&(r.snipePet(g.pet,d,g.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},23638(O,S,i){function P(_,v,e,t,n={}){_.createLog({message:t,type:"ability",player:v.parent,tiger:e.tiger,pteranodon:e.pteranodon,...n})}function c(_){P(_.logService,_.owner,_.context,_.message,_.extras),_.owner.parent.transformPet(_.fromPet,_.toPet)}function A(_){_.amount<=0||(P(_.logService,_.owner,_.context,_.message??`${_.owner.name} gave ${_.target.name} +${_.amount} experience.`,_.extras),_.target.increaseExp(_.amount))}i.d(S,{Oe:()=>A,c2:()=>c})},23770(O,S,i){i.d(S,{D:()=>c});var P=i(22097);class c extends P.${name="Corncob";tier=1;equipmentClass="shop";effectMultiplier=1}},23780(O,S,i){i.d(S,{E:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Gibbon";tier=1;pack="Custom";health=2;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GibbonAbility",owner:e,triggers:["ShopUpgrade"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=this.level,g=r.parent.nearestPetsBehind(2,r);if(0!==g.pets.length){for(let f of g.pets)f.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${f.name} ${d} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:g.random});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService,this.abilityService)}}},23790(O,S,i){i.d(S,{K:()=>o});var P=i(46200),c=i(5615),A=i(90966),_=i(33127),v=i(61850),e=i(1152),t=i(17385),n=i(58857),a=i(79222);class o extends P.i{logService;abilityService;name="Leaf Gecko";tier=4;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new r(this,this.logService)),super.initAbilities()}constructor(g,f,D,k,L,N,q,ne,Q){super(g,f,D),this.logService=g,this.abilityService=f,this.initPet(q,k,L,N,ne,Q)}}class r extends c.T{logService;constructor(g,f){super({name:"Leaf Gecko Ability",owner:g,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:g.level,abilityFunction:D=>this.executeAbility(D)}),this.logService=f}executeAbility(g){const{tiger:f,pteranodon:D}=g,k=this.owner,L=_.I.getInjector().get(A.m),N=Array.from(L.getInstanceOfAllAilments().keys()),q=[...k.parent.petArray,...k.parent.opponent.petArray].filter(be=>be?.alive);if(0===N.length||0===q.length)return void this.triggerTigerExecution(g);const ne=3*this.level;let Q=0;const $=[];let H=0;const ae=5*ne;let re=!1;for(;Q<ne&&H<ae;){const be=(0,n.k6)({key:"pet.leaf-gecko-target",label:(0,a.I)(k,"Leaf Gecko cursed target",H+1),options:q.map(Ie=>({id:`${Ie.parent?.isOpponent?"O":"P"}:${Ie.savedPosition+1}:${Ie.name}`,label:`${Ie.parent?.isOpponent?"O":"P"}${Ie.savedPosition+1} ${Ie.name}`}))},()=>(0,v.hw)(0,q.length-1));re=re||be.randomEvent;const Ee=q[be.index];if(!Ee){H++;continue}const ke=N.filter(Ie=>(0,e.zo)(Ee,Ie));if(0===ke.length){H++;continue}const de=(0,n.k6)({key:"pet.leaf-gecko-ailment",label:(0,a.I)(k,`Leaf Gecko ailment for ${Ee.name}`,H+1),options:ke.map(Ie=>({id:Ie,label:Ie}))},()=>(0,v.hw)(0,ke.length-1));re=re||de.randomEvent;const Te=ke[de.index];if(!Te){H++;continue}const Ne=L.getInstanceOfAllAilments().get(Te);if(!Ne){H++;continue}const Ge=(0,t.e)(Ne);Ge?(Ee.parent!==k.parent&&(Ge.multiplier=2,Ge.multiplierMessage=" x2 (Leaf Gecko)"),Ee.givePetEquipment(Ge),Ee.equipment?.name===Te&&Ee.equipment?.equipmentClass?.startsWith("ailment")&&(Q++,$.push(`${Ee.name} (${Te}${Ee.parent!==k.parent?" x2":""})`)),H++):H++}const _e=Q>0?`${k.name} cursed ${Q} pet${1===Q?"":"s"}: ${$.join(", ")}.`:`${k.name} could not apply any random ailments.`;(0,e.rv)(this.logService,k,_e,f,D,{randomEvent:re}),this.triggerTigerExecution(g)}copy(g){return new r(g,this.logService)}}},23828(O,S,i){i.d(S,{A:()=>v});var P=i(20882),c=i(96396),A=i(43744);const v=function _(e){return((0,A.A)(e)?P.A:c.A)(e)}},23865(O,S,i){i.d(S,{i:()=>c});var P=i(22097);class c extends P.${name="Meat Bone";equipmentClass="attack";power=3;originalPower=3}},24101(O,S,i){i.d(S,{r:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Goat";tier=5;pack="Puppy";attack=4;health=6;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},24111(O,S,i){i.d(S,{K:()=>t});var P=i(62223),c=i(58212),A=i(15082),_=i(38762),v=i(78311),e=i(47868);let t=(()=>{class n{logs=[];petNameRegex;toyNameRegex;equipmentNameRegex;inlineNameRegex;inlineNameTypeMap;ailmentNames;enabled=!0;deferDecorations=!1;showTriggerNamesInLogs=!1;debugSummonBoardStateLogs=!1;constructor(){const o=(0,P.bf)(),r=(0,P.Eo)(),d=(0,P.oI)();this.petNameRegex=(0,A.NL)(o),this.toyNameRegex=(0,A.NL)(r),this.equipmentNameRegex=(0,A.NL)(d),this.inlineNameTypeMap=(0,A.Fq)(o,r,d),this.inlineNameRegex=(0,A.IF)(o,r,d),this.ailmentNames=new Set(Object.values(c.U).flat().filter(Boolean))}setEnabled(o){this.enabled=!!o,this.enabled||(this.logs=[])}isEnabled(){return this.enabled}setDeferDecorations(o){this.deferDecorations=!!o}isDeferDecorations(){return this.deferDecorations}setShowTriggerNamesInLogs(o){this.showTriggerNamesInLogs=!!o}isShowTriggerNamesInLogs(){return this.showTriggerNamesInLogs}setDebugSummonBoardStateLogs(o){this.debugSummonBoardStateLogs=!!o}isDebugSummonBoardStateLogs(){return this.debugSummonBoardStateLogs}decorateLogIfNeeded(o){if(!o||o.decorated||!o.rawMessage)return;const r=this.decorateMessageWithNames(o.rawMessage,o.sourcePet,o.targetPet,o.sourceIndex,o.targetIndex);o.message=(0,A.N7)(r,this.inlineNameRegex,this.inlineNameTypeMap,this.ailmentNames),o.decorated=!0}createLog(o){if(!this.enabled)return;o.message?.startsWith("Phase ")&&(o.bold=!0),this.resolveLogMetadata(o);let r=this.decorateLogMessage(o);r=this.appendTagSuffixes(r,o),this.persistDecoratedMessage(o,r);const d=this.logs[this.logs.length-1],g=this.shouldAppendSummonBoardState(o);this.tryMergeAttackHealthLogs(d,o)||(this.shouldCollapseLog(d,o)?d.count=(d.count??1)+1:this.logs.push(o)),g&&this.appendSummonBoardStateLog(o)}resolveLogMetadata(o){if(!o.sourcePet&&o.player&&o.message){const r=o.player.petArray.filter(d=>d&&o.message.startsWith(d.name));1===r.length&&(o.sourcePet=r[0])}"attack"===o.type&&o.player&&o.message&&this.resolveAttackPetsFromMessage(o),!o.randomEventReason&&!0===o.randomEvent&&(o.randomEventReason="true-random"),o.player&&o.message&&this.resolveSourceTargetFromMessage(o),o.sourcePet&&null==o.sourceIndex&&(o.sourceIndex=this.getFrontIndex(o.sourcePet)??void 0),o.targetPet&&null==o.targetIndex&&(o.targetIndex=this.getFrontIndex(o.targetPet)??void 0)}decorateLogMessage(o){const r=o.message??"";return this.deferDecorations?r:this.decorateMessageWithNames(r,o.sourcePet,o.targetPet,o.sourceIndex,o.targetIndex)}appendTagSuffixes(o,r){let d=o;return r.tiger&&(d+=" (Tiger)"),r.puma&&(d+=" (Puma)"),r.pteranodon&&(d+=" (Pteranodon)"),null!=r.pantherMultiplier&&r.pantherMultiplier>1&&(d+=` x${r.pantherMultiplier} (Panther)`),d}persistDecoratedMessage(o,r){if(r){if(this.deferDecorations)return o.rawMessage=r,o.message=r,void(o.decorated=!1);o.message=(0,A.N7)(r,this.inlineNameRegex,this.inlineNameTypeMap,this.ailmentNames),o.decorated=!0}}shouldCollapseLog(o,r){if(!o)return!1;const d=o.player===r.player;return o.message?.trim()===r.message?.trim()&&d&&o.randomEvent===r.randomEvent&&o.randomEventReason===r.randomEventReason&&(!(null!=r.sourcePet||null!=r.targetPet||null!=r.sourceIndex||null!=r.targetIndex)||o.sourcePet===r.sourcePet&&o.sourceIndex===r.sourceIndex&&o.targetPet===r.targetPet&&o.targetIndex===r.targetIndex)}getLogs(){return this.logs}reset(){this.logs=[]}getFrontIndex(o){const r=o?.parent;return r?r.pet0===o?1:r.pet1===o?2:r.pet2===o?3:r.pet3===o?4:r.pet4===o?5:null:null}decorateMessage(o,r){const d=this.getFrontIndex(r);return null==d?o:this.replaceFirst(o,r.name,`${r.parent?.isOpponent?"O":"P"}${d} ${r.name}`)}decorateAttackMessage(o,r,d,g,f){const D=g??this.getFrontIndex(r),k=f??this.getFrontIndex(d);if(null==D||null==k)return o;const q=`${r.parent?.isOpponent?"O":"P"}${D} ${r.name}`,ne=`${d.parent?.isOpponent?"O":"P"}${k} ${d.name}`,Q="___SOURCE_HOLDER___",$="___TARGET_HOLDER___";let H=this.replaceFirst(o,r.name,Q);return H=this.replaceFirst(H,d.name,$),H=H.replace(Q,q),H=H.replace($,ne),H}decorateMessageWithNames(o,r,d,g,f){return o?r&&d?this.decorateAttackMessage(o,r,d,g,f):r?null!=g?this.replaceFirst(o,r.name,`${r.parent?.isOpponent?"O":"P"}${g} ${r.name}`):this.decorateMessage(o,r):o:o}replaceFirst(o,r,d){const g=o.indexOf(r);return-1===g?o:o.slice(0,g)+d+o.slice(g+r.length)}resolveAttackPetsFromMessage(o){if(!o?.message||!o.player||o.sourcePet&&o.targetPet)return;const r=o.message,d=/^(.+?)\s+sniped\s+(.+?)\s+for\s+/i.exec(r),g=/^(.+?)\s+(?:jump-)?attacks?\s+(.+?)\s+for\s+/i.exec(r),f=d??g;if(!f)return;const D=f[1].trim(),k=f[2].trim(),L=o.player.petArray??[],N=o.player.opponent?.petArray??[];o.sourcePet||(o.sourcePet=L.find(q=>q?.name===D)??null),o.targetPet||(o.targetPet=N.find(q=>q?.name===k)??L.find(q=>q?.name===k)??null)}isAilmentName(o){return this.ailmentNames.has(o)}resolveSourceTargetFromMessage(o){if(o.sourcePet&&o.targetPet)return;const r=o.message;if(!r)return;const d=this.extractPetNames(r);if(d.length<2)return;const g=o.player?.petArray??[],f=o.player?.opponent?.petArray??[],D=(k,L,N)=>k.find(q=>q?.name===L&&q!==N)??null;o.sourcePet||(o.sourcePet=D(g,d[0])??D(f,d[0])),o.targetPet||(o.targetPet=d[1]===d[0]?o.sourcePet&&r.startsWith(o.sourcePet.name)&&o.sourcePet?o.sourcePet:D(g,d[1],o.sourcePet)??D(f,d[1],o.sourcePet)??o.sourcePet??null:D(f,d[1])??D(g,d[1]))}extractPetNames(o){return this.petNameRegex&&o?o.match(this.petNameRegex)??[]:[]}tryMergeAttackHealthLogs(o,r){const d=(0,_.c)(o,r);if(!d)return!1;if(this.deferDecorations)o.rawMessage=d,o.message=d,o.decorated=!1;else{const g=this.decorateMessageWithNames(d,o.sourcePet,o.targetPet,o.sourceIndex,o.targetIndex);o.message=(0,A.N7)(g,this.inlineNameRegex,this.inlineNameTypeMap,this.ailmentNames),o.decorated=!0}return!0}shouldAppendSummonBoardState(o){return!!(this.debugSummonBoardStateLogs&&o?.message&&"board"!==o.type&&o.player&&o.player.opponent)&&/\b(summoned|spawned)\b|^No room to spawn\b/i.test(o.message)}appendSummonBoardStateLog(o){const r=o.player,d=o.player?.opponent;!r||!d||this.logs.push({message:this.buildPlainBoardStateMessage(r,d),type:"board",player:r})}buildPlainBoardStateMessage(o,r){return`${[o.pet4,o.pet3,o.pet2,o.pet1,o.pet0].map(f=>this.renderPlainPetText(f)).join(" ")} | ${[r.pet0,r.pet1,r.pet2,r.pet3,r.pet4].map(f=>this.renderPlainPetText(f)).join(" ")}`}renderPlainPetText(o){if(!o)return"___ (-/-)";const r=this.getFrontIndex(o);return`${null!=r?`${o.parent?.isOpponent?"O":"P"}${r}`:"P?"} ${o.name}(${o.attack}/${o.health}/${o.exp}xp)`}printState(o,r,d){if(!this.enabled)return;d&&this.createLog({message:d,type:"board"});const g=(0,v.n)(o,r,f=>this.getFrontIndex(f),f=>this.isAilmentName(f));this.createLog({message:g,type:"board"})}static \u0275fac=function(r){return new(r||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()},24207(O,S,i){i.d(S,{C:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Young Phoenix";tier=1;pack="Unicorn";hidden=!0;health=6;attack=6;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},24233(O,S,i){i.d(S,{n:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Velociraptor";tier=6;pack="Star";attack=3;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"VelociraptorAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d;for(let f=r.parent.petArray.indexOf(r)-1;f>=0;f--){let D=r.parent.petArray[f];if(D.alive&&D.equipment&&"Strawberry"===D.equipment.name){d=D;break}}if(d){if(d&&d.equipment&&"Strawberry"===d.equipment.name){d.removePerk(),this.logService.createLog({message:`${r.name} removed Strawberry from ${d.name}`,type:"ability",player:r.parent,tiger:a});let f=2*this.level,D=3*this.level,k=r.parent.getAll(!1,r,!0),L=k.pets;for(let N of L)N.increaseAttack(f),N.increaseHealth(D),this.logService.createLog({message:`${r.name} gave ${N.name} +${f} attack and +${D} health`,type:"ability",player:r.parent,tiger:a,randomEvent:k.random})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},24277(O,S,i){i.d(S,{a:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Werewolf";tier=5;pack="Unicorn";attack=7;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WerewolfAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,a=this.owner;if((t?.turnNumber??1)%2!=0&&t?.mana){const g=6*this.level;let D=a.parent.getThis(a).pet;if(null==D)return;D.increaseMana(g),this.logService.createLog({message:`${a.name} gave ${D.name} ${g} mana.`,type:"ability",player:a.parent,tiger:n})}else{let f=a.parent.getThis(a).pet;if(null==f)return;let D=.5*this.level;const k=Math.floor(a.attack*D),L=Math.floor(a.health*D);let N=Math.min(50,a.attack+k),q=Math.min(50,a.health+L);this.logService.createLog({message:`${a.name} increased ${f.name}'s stats by ${100*D}% (${N}/${q}).`,type:"ability",player:a.parent,tiger:n}),f.increaseAttack(k),f.increaseHealth(L)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},24287(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Akhlut";tier=6;pack="Custom";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Akhlut Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;if(t.mana<2)return;t.mana=Math.max(t.mana-2,0);const n=t.parent.nearestPetsBehind(1,t,[t]),a=n.pets[0];if(!a)return;const o=3*this.level;a.increaseAttack(o),a.increaseHealth(o),this.logService.createLog({message:`${t.name} spent 2 mana to give ${a.name} +${o}/+${o}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},24609(O,S,i){i.d(S,{R:()=>v});var P=i(46200),c=i(5615),A=i(32804),_=i(83991);class v extends P.i{logService;abilityService;name="Pygmy Hog";tier=2;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;abilityService;constructor(n,a,o){super({name:"PygmyHogAbility",owner:n,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=o}executeAbility(n){const{tiger:r}=n,g=this.owner;let f={health:Math.max(5*this.level,g.health),attack:Math.max(5*this.level,g.attack)},D=new A._(this.logService,this.abilityService,g.parent,f.health,f.attack,g.mana,g.exp,new _.T);this.logService.createLog({message:`${g.name} transformed into ${D.name} (${f.attack}/${f.health}) with Garlic!`,type:"ability",player:g.parent,tiger:r}),g.parent.transformPet(g,D),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},24990(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Araripe Manakin";tier=2;pack="Danger";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AraripeManakinAbility",owner:e,triggers:["FriendTransformed","FriendJumped"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getThis(r),g=d.pet;if(!g)return;let f=3*this.level;g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} health`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},25047(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Sleipnir";tier=6;pack="Unicorn";attack=8;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SleipnirAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=Math.floor(r.attack/2),g=r.parent.getFurthestUpPets(this.level,[r],r),f=g.pets;if(0!=f.length){for(let D of f)null!=D&&(this.logService.createLog({message:`${r.name} gave ${D.name} ${d} mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),D.increaseMana(d));this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},25208(O,S,i){i.d(S,{p:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Otter";tier=1;pack="Turtle";health=4;attack=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"OtterAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,a=t.parent.getRandomPets(this.level,[t],!1,!1,t);if(0!==a.pets.length){for(const o of a.pets)o.increaseHealth(1);this.logService.createLog({message:`${t.name} gave ${a.pets.map(o=>o.name).join(", ")} +1 health.`,type:"ability",player:t.parent,randomEvent:a.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},25240(O,S,i){i.d(S,{F:()=>_});var P=i(56518),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Hummingbird";tier=1;pack="Star";attack=3;health=1;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"HummingbirdAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getPetsWithEquipment("Strawberry"),f=d.parent.nearestPetsBehind(this.level,d,g);if(0!==f.pets.length){for(let D of f.pets)D.givePetEquipment(new P.q(this.logService)),this.logService.createLog({message:`${d.name} gave ${D.name} strawberry.`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService,this.abilityService)}}},25253(O,S,i){i.d(S,{X:()=>P});const P=c=>c&&"number"==typeof c.length&&"function"!=typeof c},25321(O,S,i){i.d(S,{D:()=>v,H:()=>_});var P=i(51838),c=i(50873),A=i(5615);class _ extends c.L{name="Air Palm Tree";tier=6;startOfBattle(t,n){let a=this.parent.getHighestAttackPets(this.level,this.parent.getPetsWithEquipment("Coconut")),o=a.pets;if(0!=o.length)for(let r of o)r.givePetEquipment(new P.K),this.logService.createLog({message:`${this.name} gave ${r.name} Coconut.`,type:"ability",player:this.parent,puma:n,randomEvent:a.random})}}class v extends A.T{logService;constructor(t,n){super({name:"AirPalmTreeAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getPetsWithEquipment("Coconut"),f=d.parent.getHighestAttackPets(this.level,g,d),D=f.pets;if(0!=D.length){for(let k of D)k.givePetEquipment(new P.K),this.logService.createLog({message:`${d.name} gave ${k.name} Coconut.`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},25479(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Ant";tier=1;pack="Turtle";health=2;attack=2;initPet(e,t,n,a,o,r){this.addAbility(new _(this,this.logService)),super.initPet(e,t,n,a,o,r)}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AntAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner,d=this.level,g=r.parent.getRandomPet([r],!0,!1,!0,r);null!=g.pet&&(this.logService.createLog({message:`${r.name} gave ${g.pet.name} ${d} attack and ${d} health.`,type:"ability",randomEvent:g.random,player:r.parent,tiger:a,pteranodon:o}),g.pet.increaseAttack(d),g.pet.increaseHealth(d),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},25632(O,S,i){i.d(S,{I:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Nurikabe";tier=5;pack="Custom";attack=5;health=6;maxAbilityUses=3;initAbilities(){this.addAbility(new _(this)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{constructor(e){super({name:"NurikabeAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){}copy(e){return new _(e)}}},25700(O,S,i){i.d(S,{w:()=>t});var P=i(46200),c=i(5615),A=i(33127),_=i(26886),v=i(61850),e=i(1152);class t extends P.i{logService;abilityService;name="Sting Ray";tier=5;pack="Puppy";attack=5;health=7;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,N){super(o,r,d),this.logService=o,this.abilityService=r,this.initPet(k,g,f,D,L,N)}}class n extends c.T{logService;abilityService;constructor(o,r,d){super({name:"StingRayAbility",owner:o,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.abilityService=d}executeAbility(o){const r=this.owner,d=A.I.getInjector().get(_.w),g=Math.max(1,Math.min(3,this.level)),f=d.toys.get(g)??[];if(0===f.length)return void this.triggerTigerExecution(o);const D=f[(0,v.hw)(0,f.length-1)],k=d.createToy(D,r.parent,g);k?(r.parent.toy=k,r.parent.toy.used=!1,r.parent.toy.triggers=0,(0,e.rv)(this.logService,r,`${r.name} chose a level ${g} ${D} toy.`,o.tiger,o.pteranodon),this.triggerTigerExecution(o)):this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.abilityService)}}},25828(O,S,i){i.d(S,{y:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Giant Eyes Dog";tier=1;pack="Unicorn";hidden=!0;health=1;attack=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},25935(O,S,i){i.d(S,{L:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Ogopogo";tier=2;pack="Unicorn";attack=3;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"OgopogoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,d=r.parent.getFurthestUpPets(this.level,[r],r),g=d.pets;if(0!==g.length){for(const f of g)this.logService.createLog({message:`${r.name} gave ${f.name} +1 experience.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),f.increaseExp(1);this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},26032(O,S,i){i.d(S,{A:()=>c});const c=function P(){return[]}},26273(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Surgeon Fish";tier=3;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SurgeonFishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>!(this.owner.parent.trumpets<2),abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.nearestPetsBehind(2,r),g=d.pets;if(0==g.length)return;r.parent.spendTrumpets(2,r);let f=4*this.level;for(let D of g)D.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${D.name} ${f} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random});this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},26302(O,S,i){i.d(S,{e:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Emu";tier=5;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"EmuAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null==this.owner.parent.pet0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.nearestPetsAhead(1,r);if(0==d.pets.length)return;let g=d.pets[0],f=4*this.level;g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random});let D=r.parent.nearestPetsAhead(1,r);if(0===D.pets.length)return;let k=D.pets[0];r.parent.pushPetToFront(k),this.logService.createLog({message:`${r.name} pushed ${k.name} to the front.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:D.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},26509(O,S,i){i.d(S,{A:()=>A});const A=i(1860).A.Uint8Array},26624(O,S,i){i.d(S,{L:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Praying Mantis";tier=4;pack="Star";attack=7;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"PrayingMantisAbility",owner:t,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,o=(0,A.MZ)(n);for(const d of o)n.dealDamage(d,50);const r=2*this.level;n.increaseAttack(r),n.increaseHealth(r),this.logService.createLog({message:`${n.name} dealt 50 damage to adjacent friends and gained +${r}/+${r}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:o.length>1}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},26666(O,S,i){i.d(S,{Q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dromedary";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"DromedaryAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} gave the two left-most shop pets +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},26683(O,S,i){i.d(S,{P:()=>A,p:()=>_});var P=i(50873),c=i(5615);class A extends P.L{name="Treasure Chest";tier=3}class _ extends c.T{logService;constructor(e,t){super({name:"TreasureChestAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){}copy(e){return new _(e,this.logService)}}},26717(O,S,i){i.d(S,{L:()=>_});var P=i(607),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Red Dragon";tier=5;pack="Unicorn";attack=4;health=8;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"RedDragonAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getPetsWithEquipmentWithSillyFallback("Crisp",d),f=d.parent.opponent.getLastPets(this.level,g,d),D=f.pets;if(0!=D.length){for(let k of D)this.logService.createLog({message:`${d.name} gave ${k.name} Crisp.`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random}),k.givePetEquipment(new P.Y);this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},26886(O,S,i){var P;i.d(S,{w:()=>L});var c=i(23828),A=i(37283),_=i(58500),v=i(87647),e=i(3684),t=i(61850),n=i(83028),a=i(47868),o=i(24111),r=i(49230),d=i(1744),g=i(90966),f=i(56990),D=i(20441),k=i(49149);let L=(()=>{class N{logService;abilityService;gameService;equipmentService;petService;toyFactory;toyEventService;toys=new Map;toysByType=new Map;toyNameIds=new Map;localStartOfBattleEvents=[];constructor(ne,Q,$,H,ae,re,_e){this.logService=ne,this.abilityService=Q,this.gameService=$,this.equipmentService=H,this.petService=ae,this.toyFactory=re,this.toyEventService=_e,this.logService=(0,n.V)(this.logService),this.setToys()}setToys(){this.toys.clear(),this.toyNameIds.clear(),this.toysByType.clear();const ne=this.getToyEntriesFromJson();for(const Q of ne){const $=Number(Q.Tier);if(!Number.isFinite($)||$<1)continue;this.toys.has($)||this.toys.set($,[]);const H=this.toys.get($);H&&H.push(Q.Name);const ae=Number.isFinite(Number(Q.ToyType))?Number(Q.ToyType):0;this.toysByType.has(ae)||this.toysByType.set(ae,new Map);const re=this.toysByType.get(ae);re&&!re.has($)&&re.set($,[]);const _e=re?.get($);_e&&_e.push(Q.Name),Q.Name&&Q.NameId&&this.toyNameIds.set(Q.Name,Q.NameId)}for(const[Q,$]of this.toys)this.toys.set(Q,[...new Set($)]);for(const[Q,$]of this.toysByType)for(const[H,ae]of $)$.set(H,[...new Set(ae)])}getToyNameId(ne){return ne?this.toyNameIds.get(ne)??null:null}getToysByType(ne){const Q=this.toysByType.get(ne);return Q?new Map(Array.from(Q.entries()).map(([$,H])=>[$,[...H]])):new Map}isToyRandom(ne){return!0===this.toyDataMap.get(ne)?.Random}toyDataMap=new Map;getToyEntriesFromJson(){const ne=A??(P||(P=i.t(A,2)))??[];return ne.forEach(Q=>{Q.Name&&this.toyDataMap.set(Q.Name,Q)}),ne.filter(Q=>!!Q?.Name)}createToy(ne,Q,$=1){return this.toyFactory.createToy(ne,Q,$,this,this.petService,this.equipmentService,this.gameService)}snipePet(ne,Q,$,H,ae=!1,re=!1){let _e=this.calculateDamage(ne,$.getManticoreMult(),Q),be=_e.defenseEquipment,Ee=_e.damage;this.dealDamage(ne,Ee,$);let ke=`${H} sniped ${ne.name} for ${Ee}.`;return ke=(0,e.V5)(ke,ne,be,{consumeDefenseEquipment:!0,includeMultiplierMessage:!0,coconutAsBlock:!1}),ke=(0,e.v1)(ke,ne,$.getManticoreMult(),_e),re&&(ke+=" (Puma)"),this.logService.createLog({message:ke,type:"attack",randomEvent:ae,player:$}),Ee}calculateDamage(ne,Q,$){const ae=(0,_.u)(ne,Q,{includeShieldSnipe:!0,nullifyMapleSyrupDefense:!0}).defenseEquipment,re=(0,_.b)(ne,$??0,ae,Q),_e=(0,v.qw)(ne,re,{includeGhostKitten:!0,fairyMinimumOne:!1,fairyRequiresPositiveDamage:!0,nurikabeConsumesOnZeroHit:!0,fanMusselConsumesOnZeroHit:!0});return{defenseEquipment:ae,damage:_e.damage,nurikabe:_e.nurikabe,fairyBallReduction:_e.fairyBallReduction,fanMusselReduction:_e.fanMusselReduction,ghostKittenReduction:_e.ghostKittenReduction}}dealDamage(ne,Q,$){ne.health-=Q,Q>0&&this.abilityService.triggerHurtEvents(ne)}setStartOfBattleEvent(ne){this.toyEventService?this.toyEventService.setStartOfBattleEvent(ne):(ne.tieBreaker=(0,t.Ak)(),this.localStartOfBattleEvents.push(ne))}executeStartOfBattleEvents(){if(this.toyEventService)return void this.toyEventService.executeStartOfBattleEvents();this.localStartOfBattleEvents=(0,c.A)(this.localStartOfBattleEvents),this.localStartOfBattleEvents.sort((Q,$)=>Q.priority!==$.priority?$.priority-Q.priority:($.tieBreaker??0)-(Q.tieBreaker??0));const ne=new Map;for(const Q of this.localStartOfBattleEvents)ne.set(Q.priority,(ne.get(Q.priority)??0)+1);for(const Q of this.localStartOfBattleEvents){const $=(ne.get(Q.priority)??0)>1;this.logLocalStartOfBattleToyEvent(Q,$,$?"tie-broken":"deterministic"),Q.callback(this.gameService.gameApi)}this.localStartOfBattleEvents=[]}logLocalStartOfBattleToyEvent(ne,Q,$){const H=ne.player?.toy?.name;H&&this.logService.createLog({message:`${ne.player?.isOpponent?"Opponent's":"Player's"} ${H} activated at start of battle${ne.triggerPet?.name?` (${ne.triggerPet.name})`:""}`,type:"ability",player:ne.player,randomEvent:Q,randomEventReason:$})}static \u0275fac=function(Q){return new(Q||N)(a.KVO(o.K),a.KVO(r.K),a.KVO(d.w),a.KVO(g.m),a.KVO(f.T),a.KVO(D.g),a.KVO(k.e))};static \u0275prov=a.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})()},26980(O,S,i){i.d(S,{Qq:()=>zi,Lr:()=>D,$R:()=>Vn,Sx:()=>rn}),i(10467);var c=i(47868),A=i(35547),_=i(49090),v=i(77312),e=i(18456),n=i(58728),a=i(95006),o=i(27389),d=(i(84787),i(14421)),g=i(73117),f=i(46494);class D{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(Ae){Ae?"string"==typeof Ae?this.lazyInit=()=>{this.headers=new Map,Ae.split("\n").forEach(ve=>{const Le=ve.indexOf(":");if(Le>0){const Ue=ve.slice(0,Le),je=ve.slice(Le+1).trim();this.addHeaderEntry(Ue,je)}})}:typeof Headers<"u"&&Ae instanceof Headers?(this.headers=new Map,Ae.forEach((ve,Le)=>{this.addHeaderEntry(Le,ve)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ae).forEach(([ve,Le])=>{this.setHeaderEntries(ve,Le)})}:this.headers=new Map}has(Ae){return this.init(),this.headers.has(Ae.toLowerCase())}get(Ae){this.init();const ve=this.headers.get(Ae.toLowerCase());return ve&&ve.length>0?ve[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ae){return this.init(),this.headers.get(Ae.toLowerCase())||null}append(Ae,ve){return this.clone({name:Ae,value:ve,op:"a"})}set(Ae,ve){return this.clone({name:Ae,value:ve,op:"s"})}delete(Ae,ve){return this.clone({name:Ae,value:ve,op:"d"})}maybeSetNormalizedName(Ae,ve){this.normalizedNames.has(ve)||this.normalizedNames.set(ve,Ae)}init(){this.lazyInit&&(this.lazyInit instanceof D?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ae=>this.applyUpdate(Ae)),this.lazyUpdate=null))}copyFrom(Ae){Ae.init(),Array.from(Ae.headers.keys()).forEach(ve=>{this.headers.set(ve,Ae.headers.get(ve)),this.normalizedNames.set(ve,Ae.normalizedNames.get(ve))})}clone(Ae){const ve=new D;return ve.lazyInit=this.lazyInit&&this.lazyInit instanceof D?this.lazyInit:this,ve.lazyUpdate=(this.lazyUpdate||[]).concat([Ae]),ve}applyUpdate(Ae){const ve=Ae.name.toLowerCase();switch(Ae.op){case"a":case"s":let Le=Ae.value;if("string"==typeof Le&&(Le=[Le]),0===Le.length)return;this.maybeSetNormalizedName(Ae.name,ve);const Ue=("a"===Ae.op?this.headers.get(ve):void 0)||[];Ue.push(...Le),this.headers.set(ve,Ue);break;case"d":const je=Ae.value;if(je){let ze=this.headers.get(ve);if(!ze)return;ze=ze.filter(Kt=>-1===je.indexOf(Kt)),0===ze.length?(this.headers.delete(ve),this.normalizedNames.delete(ve)):this.headers.set(ve,ze)}else this.headers.delete(ve),this.normalizedNames.delete(ve)}}addHeaderEntry(Ae,ve){const Le=Ae.toLowerCase();this.maybeSetNormalizedName(Ae,Le),this.headers.has(Le)?this.headers.get(Le).push(ve):this.headers.set(Le,[ve])}setHeaderEntries(Ae,ve){const Le=(Array.isArray(ve)?ve:[ve]).map(je=>je.toString()),Ue=Ae.toLowerCase();this.headers.set(Ue,Le),this.maybeSetNormalizedName(Ae,Ue)}forEach(Ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(ve=>Ae(this.normalizedNames.get(ve),this.headers.get(ve)))}}class N{map=new Map;set(Ae,ve){return this.map.set(Ae,ve),this}get(Ae){return this.map.has(Ae)||this.map.set(Ae,Ae.defaultValue()),this.map.get(Ae)}delete(Ae){return this.map.delete(Ae),this}has(Ae){return this.map.has(Ae)}keys(){return this.map.keys()}}class q{encodeKey(Ae){return H(Ae)}encodeValue(Ae){return H(Ae)}decodeKey(Ae){return decodeURIComponent(Ae)}decodeValue(Ae){return decodeURIComponent(Ae)}}const Q=/%(\d[a-f0-9])/gi,$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function H(ce){return encodeURIComponent(ce).replace(Q,(Ae,ve)=>$[ve]??Ae)}function ae(ce){return`${ce}`}class re{map;encoder;updates=null;cloneFrom=null;constructor(Ae={}){if(this.encoder=Ae.encoder||new q,Ae.fromString){if(Ae.fromObject)throw new c.buA(2805,!1);this.map=function ne(ce,Ae){const ve=new Map;return ce.length>0&&ce.replace(/^\?/,"").split("&").forEach(Ue=>{const je=Ue.indexOf("="),[ze,Kt]=-1==je?[Ae.decodeKey(Ue),""]:[Ae.decodeKey(Ue.slice(0,je)),Ae.decodeValue(Ue.slice(je+1))],Pt=ve.get(ze)||[];Pt.push(Kt),ve.set(ze,Pt)}),ve}(Ae.fromString,this.encoder)}else Ae.fromObject?(this.map=new Map,Object.keys(Ae.fromObject).forEach(ve=>{const Le=Ae.fromObject[ve],Ue=Array.isArray(Le)?Le.map(ae):[ae(Le)];this.map.set(ve,Ue)})):this.map=null}has(Ae){return this.init(),this.map.has(Ae)}get(Ae){this.init();const ve=this.map.get(Ae);return ve?ve[0]:null}getAll(Ae){return this.init(),this.map.get(Ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ae,ve){return this.clone({param:Ae,value:ve,op:"a"})}appendAll(Ae){const ve=[];return Object.keys(Ae).forEach(Le=>{const Ue=Ae[Le];Array.isArray(Ue)?Ue.forEach(je=>{ve.push({param:Le,value:je,op:"a"})}):ve.push({param:Le,value:Ue,op:"a"})}),this.clone(ve)}set(Ae,ve){return this.clone({param:Ae,value:ve,op:"s"})}delete(Ae,ve){return this.clone({param:Ae,value:ve,op:"d"})}toString(){return this.init(),this.keys().map(Ae=>{const ve=this.encoder.encodeKey(Ae);return this.map.get(Ae).map(Le=>ve+"="+this.encoder.encodeValue(Le)).join("&")}).filter(Ae=>""!==Ae).join("&")}clone(Ae){const ve=new re({encoder:this.encoder});return ve.cloneFrom=this.cloneFrom||this,ve.updates=(this.updates||[]).concat(Ae),ve}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ae=>this.map.set(Ae,this.cloneFrom.map.get(Ae))),this.updates.forEach(Ae=>{switch(Ae.op){case"a":case"s":const ve=("a"===Ae.op?this.map.get(Ae.param):void 0)||[];ve.push(ae(Ae.value)),this.map.set(Ae.param,ve);break;case"d":if(void 0===Ae.value){this.map.delete(Ae.param);break}{let Le=this.map.get(Ae.param)||[];const Ue=Le.indexOf(ae(Ae.value));-1!==Ue&&Le.splice(Ue,1),Le.length>0?this.map.set(Ae.param,Le):this.map.delete(Ae.param)}}}),this.cloneFrom=this.updates=null)}}function be(ce){return typeof ArrayBuffer<"u"&&ce instanceof ArrayBuffer}function Ee(ce){return typeof Blob<"u"&&ce instanceof Blob}function ke(ce){return typeof FormData<"u"&&ce instanceof FormData}const Te="Content-Type",Ge="text/plain",Ie="application/json",gt=`${Ie}, ${Ge}, */*`;class pt{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(Ae,ve,Le,Ue){let je;if(this.url=ve,this.method=Ae.toUpperCase(),function _e(ce){switch(ce){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ue?(this.body=void 0!==Le?Le:null,je=Ue):je=Le,je){if(this.reportProgress=!!je.reportProgress,this.withCredentials=!!je.withCredentials,this.keepalive=!!je.keepalive,je.responseType&&(this.responseType=je.responseType),je.headers&&(this.headers=je.headers),je.context&&(this.context=je.context),je.params&&(this.params=je.params),je.priority&&(this.priority=je.priority),je.cache&&(this.cache=je.cache),je.credentials&&(this.credentials=je.credentials),"number"==typeof je.timeout){if(je.timeout<1||!Number.isInteger(je.timeout))throw new c.buA(2822,"");this.timeout=je.timeout}je.mode&&(this.mode=je.mode),je.redirect&&(this.redirect=je.redirect),je.integrity&&(this.integrity=je.integrity),je.referrer&&(this.referrer=je.referrer),je.referrerPolicy&&(this.referrerPolicy=je.referrerPolicy),this.transferCache=je.transferCache}if(this.headers??=new D,this.context??=new N,this.params){const ze=this.params.toString();if(0===ze.length)this.urlWithParams=ve;else{const Kt=ve.indexOf("?");this.urlWithParams=ve+(-1===Kt?"?":Kt<ve.length-1?"&":"")+ze}}else this.params=new re,this.urlWithParams=ve}serializeBody(){return null===this.body?null:"string"==typeof this.body||be(this.body)||Ee(this.body)||ke(this.body)||function de(ce){return typeof URLSearchParams<"u"&&ce instanceof URLSearchParams}(this.body)?this.body:this.body instanceof re?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ke(this.body)?null:Ee(this.body)?this.body.type||null:be(this.body)?null:"string"==typeof this.body?Ge:this.body instanceof re?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?Ie:null}clone(Ae={}){const ve=Ae.method||this.method,Le=Ae.url||this.url,Ue=Ae.responseType||this.responseType,je=Ae.keepalive??this.keepalive,ze=Ae.priority||this.priority,Kt=Ae.cache||this.cache,Pt=Ae.mode||this.mode,bi=Ae.redirect||this.redirect,Fi=Ae.credentials||this.credentials,gi=Ae.referrer||this.referrer,hi=Ae.integrity||this.integrity,on=Ae.referrerPolicy||this.referrerPolicy,ri=Ae.transferCache??this.transferCache,Ri=Ae.timeout??this.timeout,Gt=void 0!==Ae.body?Ae.body:this.body,Yt=Ae.withCredentials??this.withCredentials,Pi=Ae.reportProgress??this.reportProgress;let Ci=Ae.headers||this.headers,Jt=Ae.params||this.params;const Li=Ae.context??this.context;return void 0!==Ae.setHeaders&&(Ci=Object.keys(Ae.setHeaders).reduce((ln,Ui)=>ln.set(Ui,Ae.setHeaders[Ui]),Ci)),Ae.setParams&&(Jt=Object.keys(Ae.setParams).reduce((ln,Ui)=>ln.set(Ui,Ae.setParams[Ui]),Jt)),new pt(ve,Le,Gt,{params:Jt,headers:Ci,context:Li,reportProgress:Pi,responseType:Ue,withCredentials:Yt,transferCache:ri,keepalive:je,cache:Kt,priority:ze,timeout:Ri,mode:Pt,redirect:bi,credentials:Fi,referrer:gi,integrity:hi,referrerPolicy:on})}}var We=function(ce){return ce[ce.Sent=0]="Sent",ce[ce.UploadProgress=1]="UploadProgress",ce[ce.ResponseHeader=2]="ResponseHeader",ce[ce.DownloadProgress=3]="DownloadProgress",ce[ce.Response=4]="Response",ce[ce.User=5]="User",ce}(We||{});class tt{headers;status;statusText;url;ok;type;redirected;responseType;constructor(Ae,ve=200,Le="OK"){this.headers=Ae.headers||new D,this.status=void 0!==Ae.status?Ae.status:ve,this.statusText=Ae.statusText||Le,this.url=Ae.url||null,this.redirected=Ae.redirected,this.responseType=Ae.responseType,this.ok=this.status>=200&&this.status<300}}class At extends tt{constructor(Ae={}){super(Ae)}type=We.ResponseHeader;clone(Ae={}){return new At({headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0})}}class nt extends tt{body;constructor(Ae={}){super(Ae),this.body=void 0!==Ae.body?Ae.body:null}type=We.Response;clone(Ae={}){return new nt({body:void 0!==Ae.body?Ae.body:this.body,headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0,redirected:Ae.redirected??this.redirected,responseType:Ae.responseType??this.responseType})}}class et extends tt{name="HttpErrorResponse";message;error;ok=!1;constructor(Ae){super(Ae,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ae.url||"(unknown url)"}`:`Http failure response for ${Ae.url||"(unknown url)"}: ${Ae.status} ${Ae.statusText}`,this.error=Ae.error||null}}const He=new c.nKC(""),ge=/^\)\]\}',?\n/;let Ve=(()=>{class ce{xhrFactory;tracingService=(0,c.WQX)(A.a8H,{optional:!0});constructor(ve){this.xhrFactory=ve}maybePropagateTrace(ve){return this.tracingService?.propagate?this.tracingService.propagate(ve):ve}handle(ve){if("JSONP"===ve.method)throw new c.buA(-2800,!1);const Le=this.xhrFactory;return(0,d.of)(null).pipe((0,_.n)(()=>new o.c(je=>{const ze=Le.build();if(ze.open(ve.method,ve.urlWithParams),ve.withCredentials&&(ze.withCredentials=!0),ve.headers.forEach((Gt,Yt)=>ze.setRequestHeader(Gt,Yt.join(","))),ve.headers.has("Accept")||ze.setRequestHeader("Accept",gt),!ve.headers.has(Te)){const Gt=ve.detectContentTypeHeader();null!==Gt&&ze.setRequestHeader(Te,Gt)}if(ve.timeout&&(ze.timeout=ve.timeout),ve.responseType){const Gt=ve.responseType.toLowerCase();ze.responseType="json"!==Gt?Gt:"text"}const Kt=ve.serializeBody();let Pt=null;const bi=()=>{if(null!==Pt)return Pt;const Gt=ze.statusText||"OK",Yt=new D(ze.getAllResponseHeaders());return Pt=new At({headers:Yt,status:ze.status,statusText:Gt,url:ze.responseURL||ve.url}),Pt},Fi=this.maybePropagateTrace(()=>{let{headers:Gt,status:Yt,statusText:Pi,url:Ci}=bi(),Jt=null;204!==Yt&&(Jt=typeof ze.response>"u"?ze.responseText:ze.response),0===Yt&&(Yt=Jt?200:0);let Li=Yt>=200&&Yt<300;if("json"===ve.responseType&&"string"==typeof Jt){const ln=Jt;Jt=Jt.replace(ge,"");try{Jt=""!==Jt?JSON.parse(Jt):null}catch(Ui){Jt=ln,Li&&(Li=!1,Jt={error:Ui,text:Jt})}}Li?(je.next(new nt({body:Jt,headers:Gt,status:Yt,statusText:Pi,url:Ci||void 0})),je.complete()):je.error(new et({error:Jt,headers:Gt,status:Yt,statusText:Pi,url:Ci||void 0}))}),gi=this.maybePropagateTrace(Gt=>{const{url:Yt}=bi(),Pi=new et({error:Gt,status:ze.status||0,statusText:ze.statusText||"Unknown Error",url:Yt||void 0});je.error(Pi)});let hi=gi;ve.timeout&&(hi=this.maybePropagateTrace(Gt=>{const{url:Yt}=bi(),Pi=new et({error:new DOMException("Request timed out","TimeoutError"),status:ze.status||0,statusText:ze.statusText||"Request timeout",url:Yt||void 0});je.error(Pi)}));let on=!1;const ri=this.maybePropagateTrace(Gt=>{on||(je.next(bi()),on=!0);let Yt={type:We.DownloadProgress,loaded:Gt.loaded};Gt.lengthComputable&&(Yt.total=Gt.total),"text"===ve.responseType&&ze.responseText&&(Yt.partialText=ze.responseText),je.next(Yt)}),Ri=this.maybePropagateTrace(Gt=>{let Yt={type:We.UploadProgress,loaded:Gt.loaded};Gt.lengthComputable&&(Yt.total=Gt.total),je.next(Yt)});return ze.addEventListener("load",Fi),ze.addEventListener("error",gi),ze.addEventListener("timeout",hi),ze.addEventListener("abort",gi),ve.reportProgress&&(ze.addEventListener("progress",ri),null!==Kt&&ze.upload&&ze.upload.addEventListener("progress",Ri)),ze.send(Kt),je.next({type:We.Sent}),()=>{ze.removeEventListener("error",gi),ze.removeEventListener("abort",gi),ze.removeEventListener("load",Fi),ze.removeEventListener("timeout",hi),ve.reportProgress&&(ze.removeEventListener("progress",ri),null!==Kt&&ze.upload&&ze.upload.removeEventListener("progress",Ri)),ze.readyState!==ze.DONE&&ze.abort()}})))}static \u0275fac=function(Le){return new(Le||ce)(c.KVO(g.N))};static \u0275prov=c.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();function Fe(ce,Ae){return Ae(ce)}function ot(ce,Ae){return(ve,Le)=>Ae.intercept(ve,{handle:Ue=>ce(Ue,Le)})}const Rt=new c.nKC(""),qt=new c.nKC("",{factory:()=>[]}),zt=new c.nKC(""),Ht=new c.nKC("",{factory:()=>!0});function Gi(){let ce=null;return(Ae,ve)=>{null===ce&&(ce=((0,c.WQX)(Rt,{optional:!0})??[]).reduceRight(ot,Fe));const Le=(0,c.WQX)(c.u5s);if((0,c.WQX)(Ht)){const je=Le.add();return ce(Ae,ve).pipe((0,v.j)(je))}return ce(Ae,ve)}}let xt=(()=>{class ce{static \u0275fac=function(Le){return new(Le||ce)};static \u0275prov=c.jDH({token:ce,factory:function(Le){let Ue=null;return Ue=Le?new(Le||ce):c.KVO(Ve),Ue},providedIn:"root"})}return ce})(),Vi=(()=>{class ce{backend;injector;chain=null;pendingTasks=(0,c.WQX)(c.u5s);contributeToStability=(0,c.WQX)(Ht);constructor(ve,Le){this.backend=ve,this.injector=Le}handle(ve){if(null===this.chain){const Le=Array.from(new Set([...this.injector.get(qt),...this.injector.get(zt,[])]));this.chain=Le.reduceRight((Ue,je)=>function Bt(ce,Ae,ve){return(Le,Ue)=>(0,c.N4e)(ve,()=>Ae(Le,je=>ce(je,Ue)))}(Ue,je,this.injector),Fe)}if(this.contributeToStability){const Le=this.pendingTasks.add();return this.chain(ve,Ue=>this.backend.handle(Ue)).pipe((0,v.j)(Le))}return this.chain(ve,Le=>this.backend.handle(Le))}static \u0275fac=function(Le){return new(Le||ce)(c.KVO(xt),c.KVO(c.uvJ))};static \u0275prov=c.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),wi=(()=>{class ce{static \u0275fac=function(Le){return new(Le||ce)};static \u0275prov=c.jDH({token:ce,factory:function(Le){let Ue=null;return Ue=Le?new(Le||ce):c.KVO(Vi),Ue},providedIn:"root"})}return ce})();function Oi(ce,Ae){return{body:Ae,headers:ce.headers,context:ce.context,observe:ce.observe,params:ce.params,reportProgress:ce.reportProgress,responseType:ce.responseType,withCredentials:ce.withCredentials,credentials:ce.credentials,transferCache:ce.transferCache,timeout:ce.timeout,keepalive:ce.keepalive,priority:ce.priority,cache:ce.cache,mode:ce.mode,redirect:ce.redirect,integrity:ce.integrity,referrer:ce.referrer,referrerPolicy:ce.referrerPolicy}}let zi=(()=>{class ce{handler;constructor(ve){this.handler=ve}request(ve,Le,Ue={}){let je;if(ve instanceof pt)je=ve;else{let Pt,bi;Pt=Ue.headers instanceof D?Ue.headers:new D(Ue.headers),Ue.params&&(bi=Ue.params instanceof re?Ue.params:new re({fromObject:Ue.params})),je=new pt(ve,Le,void 0!==Ue.body?Ue.body:null,{headers:Pt,context:Ue.context,params:bi,reportProgress:Ue.reportProgress,responseType:Ue.responseType||"json",withCredentials:Ue.withCredentials,transferCache:Ue.transferCache,keepalive:Ue.keepalive,priority:Ue.priority,cache:Ue.cache,mode:Ue.mode,redirect:Ue.redirect,credentials:Ue.credentials,referrer:Ue.referrer,referrerPolicy:Ue.referrerPolicy,integrity:Ue.integrity,timeout:Ue.timeout})}const ze=(0,d.of)(je).pipe(function t(ce,Ae){return(0,e.ZZ)(ce,Ae,1)}(Pt=>this.handler.handle(Pt)));if(ve instanceof pt||"events"===Ue.observe)return ze;const Kt=ze.pipe((0,n.p)(Pt=>Pt instanceof nt));switch(Ue.observe||"body"){case"body":switch(je.responseType){case"arraybuffer":return Kt.pipe((0,a.T)(Pt=>{if(null!==Pt.body&&!(Pt.body instanceof ArrayBuffer))throw new c.buA(2806,!1);return Pt.body}));case"blob":return Kt.pipe((0,a.T)(Pt=>{if(null!==Pt.body&&!(Pt.body instanceof Blob))throw new c.buA(2807,!1);return Pt.body}));case"text":return Kt.pipe((0,a.T)(Pt=>{if(null!==Pt.body&&"string"!=typeof Pt.body)throw new c.buA(2808,!1);return Pt.body}));default:return Kt.pipe((0,a.T)(Pt=>Pt.body))}case"response":return Kt;default:throw new c.buA(2809,!1)}}delete(ve,Le={}){return this.request("DELETE",ve,Le)}get(ve,Le={}){return this.request("GET",ve,Le)}head(ve,Le={}){return this.request("HEAD",ve,Le)}jsonp(ve,Le){return this.request("JSONP",ve,{params:(new re).append(Le,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ve,Le={}){return this.request("OPTIONS",ve,Le)}patch(ve,Le,Ue={}){return this.request("PATCH",ve,Oi(Ue,Le))}post(ve,Le,Ue={}){return this.request("POST",ve,Oi(Ue,Le))}put(ve,Le,Ue={}){return this.request("PUT",ve,Oi(Ue,Le))}static \u0275fac=function(Le){return new(Le||ce)(c.KVO(wi))};static \u0275prov=c.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();const di=new c.nKC("",{factory:()=>!0}),Hi=new c.nKC("",{factory:()=>"XSRF-TOKEN"}),yi=new c.nKC("",{factory:()=>"X-XSRF-TOKEN"});let qi=(()=>{class ce{cookieName=(0,c.WQX)(Hi);doc=(0,c.WQX)(c.qQL);lastCookieString="";lastToken=null;parseCount=0;getToken(){const ve=this.doc.cookie||"";return ve!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,g.b)(ve,this.cookieName),this.lastCookieString=ve),this.lastToken}static \u0275fac=function(Le){return new(Le||ce)};static \u0275prov=c.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),Zi=(()=>{class ce{static \u0275fac=function(Le){return new(Le||ce)};static \u0275prov=c.jDH({token:ce,factory:function(Le){let Ue=null;return Ue=Le?new(Le||ce):c.KVO(qi),Ue},providedIn:"root"})}return ce})();function Tn(ce,Ae){if(!(0,c.WQX)(di)||"GET"===ce.method||"HEAD"===ce.method)return Ae(ce);try{const Ue=(0,c.WQX)(f.Vw).href,{origin:je}=new URL(Ue),{origin:ze}=new URL(ce.url,je);if(je!==ze)return Ae(ce)}catch{return Ae(ce)}const ve=(0,c.WQX)(Zi).getToken(),Le=(0,c.WQX)(yi);return null!=ve&&!ce.headers.has(Le)&&(ce=ce.clone({headers:ce.headers.set(Le,ve)})),Ae(ce)}var Ei=function(ce){return ce[ce.Interceptors=0]="Interceptors",ce[ce.LegacyInterceptors=1]="LegacyInterceptors",ce[ce.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ce[ce.NoXsrfProtection=3]="NoXsrfProtection",ce[ce.JsonpSupport=4]="JsonpSupport",ce[ce.RequestsMadeViaParent=5]="RequestsMadeViaParent",ce[ce.Fetch=6]="Fetch",ce}(Ei||{});function Vn(...ce){const Ae=[zi,Vi,{provide:wi,useExisting:Vi},{provide:xt,useFactory:()=>(0,c.WQX)(He,{optional:!0})??(0,c.WQX)(Ve)},{provide:qt,useValue:Tn,multi:!0}];for(const ve of ce)Ae.push(...ve.\u0275providers);return(0,c.EmA)(Ae)}const zn=new c.nKC("");function rn(){return function en(ce,Ae){return{\u0275kind:ce,\u0275providers:Ae}}(Ei.LegacyInterceptors,[{provide:zn,useFactory:Gi},{provide:qt,useExisting:zn,multi:!0}])}},27088(O,S,i){i.d(S,{R:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Red Lipped Batfish";tier=4;pack="Custom";attack=5;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}class _ extends c.T{logService;petService;constructor(e,t,n){super({name:"Red Lipped Batfish Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=t,this.petService=n}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent.opponent;if(!o)return void this.triggerTigerExecution(e);const r=o.getPetAtPosition(a.position);if(!r||!r.alive)return void this.triggerTigerExecution(e);const d=Math.max(1,4-this.level),g=this.petService.getRandomFaintPet(o,d,[],a);o.transformPet(r,g),this.logService.createLog({message:`${a.name} transformed ${r.name} into ${g.name} (tier ${d}).`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.petService)}}},27207(O,S,i){i.d(S,{T:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Egyptian Vulture";tier=5;pack="Golden";attack=7;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"EgyptianVultureAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.petArray.filter(D=>!D.isFaintPet()),g=r.parent.nearestPetsBehind(1,r,d),f=g.pets[0];null!=f&&(this.logService.createLog({message:`${r.name} activated ${f.name}'s ability.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:g.random}),f.activateAbilities(void 0,t,"Pet"),this.triggerTigerExecution(e))}reset(){super.reset(),this.maxUses=this.level}copy(e){return new _(e,this.logService)}}},27312(O,S,i){i.d(S,{S:()=>e});var P=i(46200),c=i(72638),A=i(5615),_=i(7715),v=i(36481);class e extends P.i{logService;abilityService;name="Chimera";tier=4;pack="Unicorn";attack=2;health=6;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L),this.suppressManaSnipeOnFaint=!0}}class t extends A.T{logService;abilityService;constructor(a,o,r){super({name:"ChimeraAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.abilityService=r}executeAbility(a){const{tiger:d,pteranodon:g}=a,f=this.owner,D=f.mana,k=D/2,L=Math.floor(3+1*k),N=Math.floor(3+2*k);D>0&&this.logService.createLog({message:`${f.name} spent ${D} mana.`,type:"ability",player:f.parent,tiger:d,pteranodon:g});let q=new _.k(this.logService,this.abilityService,f.parent,N,L),ne=f.parent.summonPet(q,f.savedPosition,!1,f);if(ne.success&&this.logService.createLog({message:`${f.name} spawned a ${q.name} ${L}/${N}.`,type:"ability",player:f.parent,tiger:d,pteranodon:g,randomEvent:ne.randomEvent}),this.level>=2){let Q=new c.D(this.logService,this.abilityService,f.parent,N,L),$=f.parent.summonPet(Q,f.savedPosition,!1,f);$.success&&this.logService.createLog({message:`${f.name} spawned a ${Q.name} ${L}/${N}.`,type:"ability",player:f.parent,tiger:d,pteranodon:g,randomEvent:$.randomEvent})}if(this.level>=3){let Q=new v.U(this.logService,this.abilityService,f.parent,N,L),$=f.parent.summonPet(Q,f.savedPosition,!1,f);$.success&&this.logService.createLog({message:`${f.name} spawned a ${Q.name} ${L}/${N}.`,type:"ability",player:f.parent,tiger:d,pteranodon:g,randomEvent:$.randomEvent})}f.mana=0,this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},27354(O,S,i){i.d(S,{c:()=>P});const P=Array.isArray||(c=>c&&"number"==typeof c.length)},27376(O,S,i){i.d(S,{h:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dumbo Octopus";tier=2;pack="Star";health=5;attack=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"DumboOctopusAbility",owner:e,triggers:["Roll3"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked a discounted food from the last 3 tiers (-${this.level} gold).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},27389(O,S,i){i.d(S,{c:()=>e});var P=i(97677),c=i(39112),A=i(45722),_=i(78167),v=i(80614);let e=(()=>{class n{constructor(o){this._isScalar=!1,o&&(this._subscribe=o)}lift(o){const r=new n;return r.source=this,r.operator=o,r}subscribe(o,r,d){const{operator:g}=this,f=(0,c.u)(o,r,d);if(f.add(g?g.call(f,this.source):this.source||v.$.useDeprecatedSynchronousErrorHandling&&!f.syncErrorThrowable?this._subscribe(f):this._trySubscribe(f)),v.$.useDeprecatedSynchronousErrorHandling&&f.syncErrorThrowable&&(f.syncErrorThrowable=!1,f.syncErrorThrown))throw f.syncErrorValue;return f}_trySubscribe(o){try{return this._subscribe(o)}catch(r){v.$.useDeprecatedSynchronousErrorHandling&&(o.syncErrorThrown=!0,o.syncErrorValue=r),(0,P.H)(o)?o.error(r):console.warn(r)}}forEach(o,r){return new(r=t(r))((d,g)=>{let f;f=this.subscribe(D=>{try{o(D)}catch(k){g(k),f&&f.unsubscribe()}},g,d)})}_subscribe(o){const{source:r}=this;return r&&r.subscribe(o)}[A.s](){return this}pipe(...o){return 0===o.length?this:(0,_.m)(o)(this)}toPromise(o){return new(o=t(o))((r,d)=>{let g;this.subscribe(f=>g=f,f=>d(f),()=>r(g))})}}return n.create=a=>new n(a),n})();function t(n){if(n||(n=v.$.Promise||Promise),!n)throw new Error("no Promise impl found");return n}},27454(O,S,i){i.d(S,{m:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Farmer Cat";tier=4;pack="Custom";attack=4;health=3;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},27694(O,S,i){i.d(S,{f:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Sabertooth Tiger";tier=6;pack="Star";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}resetPet(){super.resetPet()}constructor(e,t,n,a,o,r,d,g,f,D,k){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D),this.timesHurt=k??0,this.originalTimesHurt=this.timesHurt}}class _ extends c.T{logService;abilityService;petService;timesHurtOverride;constructor(e,t,n,a,o){super({name:"SabertoothTigerAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=n,this.petService=a,this.timesHurtOverride=o??null}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=this.timesHurtOverride??r.timesHurt;if(d>0)for(let g=0;g<this.level;g++){let f=Math.min(2*d,50),D=Math.min(3*d,50),k=this.petService.createPet({name:"Mammoth",attack:f,health:D,equipment:null,mana:0,exp:0},r.parent),L=r.parent.summonPet(k,r.savedPosition,!1,r);L.success&&this.logService.createLog({message:`${r.name} summoned ${k.name} (${f}/${D}).`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:L.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService,this.petService,this.timesHurtOverride??this.owner.timesHurt)}}},27810(O,S,i){var P;i.d(S,{R:()=>a});var c=i(46200),A=i(5615),_=i(33127),v=i(56990),e=i(61850),t=i(74766);const n=(()=>{const r=t??(P||(P=i.t(t,2)));if(!Array.isArray(r))return[];const d=[],g=/Give one pet \+(\d+) attack(?: and \+(\d+) health)?|Give one pet \+(\d+) health/;for(const f of r){if(!f||"object"!=typeof f)continue;const D=f,k=D.Ability??"";if(!k||/perk/i.test(k)||!k.startsWith("Give one pet +"))continue;const L=k.match(g);if(!L)continue;const N=L[1]?Number(L[1]):0,q=L[2]?Number(L[2]):L[3]?Number(L[3]):0;!Number.isFinite(N)||!Number.isFinite(q)||D.Name&&d.push({name:D.Name,attack:N,health:q})}return d})();class a extends c.i{logService;abilityService;name="Locust";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new o(this,this.logService,this.abilityService)),super.initAbilities()}constructor(d,g,f,D,k,L,N,q,ne){super(d,g,f),this.logService=d,this.abilityService=g,this.initPet(N,D,k,L,q,ne)}}class o extends A.T{logService;abilityService;constructor(d,g,f){super({name:"Locust Ability",owner:d,triggers:["FoodEatenByThis","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:d.level,abilityFunction:D=>this.executeAbility(D)}),this.logService=g,this.abilityService=f}executeAbility(d){const{gameApi:g,tiger:f,pteranodon:D}=d,k=this.owner,L=k,N=g?.turnNumber??0;if(L.locustFoodTurn!==N&&(L.locustFoodTurn=N,L.locustFoodEaten=0),L.locustFoodSeededTurn!==N){L.locustFoodSeededTurn=N;const ae=k.foodsEaten??0;ae>0&&(L.locustFoodEaten=Math.max(L.locustFoodEaten??0,ae))}if("FoodEatenByThis"===d.trigger&&k.alive)return void(L.locustFoodEaten=(L.locustFoodEaten??0)+1);if("PostRemovalFaint"!==d.trigger)return void this.triggerTigerExecution(d);const q=L.locustFoodEaten??0;if(q<=0)return void this.triggerTigerExecution(d);let ne=0;const Q=k.position??k.savedPosition??0,$=_.I.getInjector().get(v.T),H=n;for(let ae=0;ae<this.level;ae++){const re=$?$.getRandomPet(k.parent):null;if(!re||!k.parent.summonPet(re,Q,!1,k).success)break;ne++;for(let be=0;be<q&&0!==H.length;be++){const Ee=H[(0,e.hw)(0,H.length-1)];Ee&&(Ee.attack&&re.increaseAttack(Ee.attack),Ee.health&&re.increaseHealth(Ee.health),this.abilityService?.triggerFoodEvents(re,Ee.name.toLowerCase()))}}this.logService.createLog({message:`${k.name} summoned ${ne} friend${1===ne?"":"s"} and fed them random food.`,type:"ability",player:k.parent,tiger:f,pteranodon:D}),this.triggerTigerExecution(d)}copy(d){return new o(d,this.logService,this.abilityService)}}},27852(O,S,i){i.d(S,{v:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Great One";tier=6;pack="Custom";attack=7;health=13;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GreatOneAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const r=this.owner;let d=[...r.parent.petArray,...r.parent.opponent.petArray];d=d.filter(g=>g!==r);for(let g of d)r.snipePet(g,5*r.level);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},27906(O,S,i){i.d(S,{c:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Proboscis Monkey";tier=2;pack="Danger";attack=4;health=4;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},28010(O,S,i){i.d(S,{A:()=>A});const A=(0,i(38992).A)(Object.getPrototypeOf,Object)},28114(O,S,i){i.d(S,{A:()=>t});var P=i(70563),c=i(28010),A=i(42697),_=i(26032);const t=Object.getOwnPropertySymbols?function(n){for(var a=[];n;)(0,P.A)(a,(0,A.A)(n)),n=(0,c.A)(n);return a}:_.A},28128(O,S,i){i.d(S,{D:()=>A});var P=i(50873);i(5615);class A extends P.L{name="Magic Mirror";tier=4}},28266(O,S,i){i.d(S,{q:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Loveland Frogman";tier=5;pack="Unicorn";attack=1;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"LovelandFrogmanAbility",owner:t,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const{triggerPet:o}=a,r=this.owner,g=(0,A.lK)(r,o).pet;return!!g&&g.alive&&!r.targettedFriends.has(g)},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a}=t,d=this.owner;let g={attack:1*d.level,health:2*d.level},f=(0,A.lK)(d,a),D=f.pet;null!=D&&(this.logService.createLog({message:`${d.name} gave ${D.name} ${g.attack} attack and ${g.health} health.`,type:"ability",player:d.parent,randomEvent:f.random}),D.increaseAttack(g.attack),D.increaseHealth(g.health),d.targettedFriends.add(D),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},28606(O,S,i){i.d(S,{A:()=>_});var c=/^(?:0|[1-9]\d*)$/;const _=function A(v,e){var t=typeof v;return!!(e=e??9007199254740991)&&("number"==t||"symbol"!=t&&c.test(v))&&v>-1&&v%1==0&&v<e}},28805(O,S,i){i.d(S,{x:()=>_});var P=i(46200),c=i(51838),A=i(5615);class _ extends P.i{logService;abilityService;name="Gorilla";tier=6;pack="Turtle";attack=7;health=10;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"GorillaAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,condition:a=>this.owner.alive,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let f=d.parent.getThis(d).pet;null!=f&&(f.givePetEquipment(new c.K),this.logService.createLog({message:`${d.name} gave ${f.name} a Coconut.`,type:"ability",player:d.parent,tiger:o}),this.triggerTigerExecution(t))}reset(){this.maxUses=this.level,super.reset()}copy(t){const n=new v(t,this.logService);return n.maxUses=t.level,n}}},29088(O,S,i){i.d(S,{A:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Rock";tier=1;pack="Unicorn";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"RockAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},29192(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pygmy Seahorse";tier=1;pack="Custom";attack=3;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PygmySeahorseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent.getRandomPets(3,[a],!1,!1,a),r=o.pets;if(0!==r.length){for(const d of r)d.increaseAttack(this.level),d.increaseHealth(this.level),this.logService.createLog({message:`${a.name} gave ${d.name} +${this.level} attack and +${this.level} health.`,type:"ability",player:a.parent,tiger:t,pteranodon:n,randomEvent:o.random});a.health=0,this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},29629(O,S,i){i.d(S,{B:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Sloth";tier=1;pack="Custom";attack=1;health=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},29654(O,S,i){i.d(S,{z:()=>c});var P=i(50873);class c extends P.L{name="Lamp";tier=1;startOfBattle(_,v){for(const e of this.parent.petArray){const t=Math.floor(.2*e.attack),n=Math.floor(.2*e.health);t>0&&e.increaseAttack(-t),n>0&&e.increaseHealth(-n),this.logService.createLog({message:`${this.name} removed ${t} attack and ${n} health from ${e.name}.`,type:"ability",player:this.parent,puma:v})}}}},29768(O,S,i){i.d(S,{B:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Woolly Rhino";tier=5;pack="Custom";attack=3;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Woolly Rhino Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=new Set;for(const g of t.parent.petArray){const f=g?.equipment;("ailment-attack"===f?.equipmentClass||"ailment-defense"===f?.equipmentClass||"ailment-other"===f?.equipmentClass)&&n.add(f.name)}const a=n.size;if(a<=0)return void this.triggerTigerExecution(e);const o=4*a,r=t.parent.opponent.petArray.filter(g=>g.alive),d=Math.min(this.level,r.length);for(let g=0;g<d;g++)t.snipePet(r[g],o,!1,e.tiger,e.pteranodon);d>0&&this.logService.createLog({message:`${t.name} dealt ${o} damage to ${d} enemy${1===d?"":"ies"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},29823(O,S,i){i.d(S,{R:()=>_});var P=i(46200),c=i(41752),A=i(5615);class _ extends P.i{logService;abilityService;name="Osprey";tier=3;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"OspreyAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;for(let g=0;g<d.level;g++){let f=new c.G(this.logService,this.abilityService,d.parent,null,null,0,0),D=d.parent.summonPet(f,d.savedPosition,!1,d);D.success&&this.logService.createLog({message:`${d.name} summoned a 2/1 Groundhog`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:D.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},29855(O,S,i){i.d(S,{p:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Head";tier=1;pack="Unicorn";hidden=!0;health=5;attack=5;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},29866(O,S,i){i.d(S,{B:()=>v,J:()=>_});var P=i(50873),c=i(2375),A=i(5615);class _ extends P.L{name="Peanut Jar";tier=6;startOfBattle(t,n){let a=this.parent.getLowestAttackPets(this.level,this.parent.getPetsWithEquipment("Peanut Butter")),o=a.pets;if(0!=o.length)for(let r of o)r.givePetEquipment(new c._),this.logService.createLog({message:`${this.name} gave ${r.name} PeanutButter.`,type:"ability",player:this.parent,puma:n,randomEvent:a.random})}}class v extends A.T{logService;constructor(t,n){super({name:"PeanutJarAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithEquipment("Peanut Butter"),D=d.parent.getLowestAttackPets(this.level,g,d).pets;if(0!=D.length){for(let k of D)k.givePetEquipment(new c._),this.logService.createLog({message:`Peanut Jar Ability gave ${k.name} PeanutButter.`,type:"ability",player:d.parent,tiger:o,pteranodon:r});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},29886(O,S,i){i.d(S,{B:()=>c,P:()=>A});var P=i(22097);class c extends P.${name="Guava";tier=3;equipmentClass="shield";power=3;originalPower=3;uses=1;originalUses=1}class A extends P.${name="Guava (Attack)";equipmentClass="attack";power=3;originalPower=3}},29916(O,S,i){i.d(S,{H5:()=>Q,Pl:()=>ne,SB:()=>N,XS:()=>$,_k:()=>q,il:()=>D,m8:()=>f,nE:()=>L,oy:()=>H,v:()=>k,xk:()=>ae});var P=i(23828),c=i(61850),A=i(33524),_=i(77856),v=i(58857);function t(re){return re?`${re.parent?.isOpponent?"O":"P"}${Number.isFinite(re.savedPosition)?re.savedPosition+1:0} ${re.name}`:"unknown caller"}function n(re){const _e=re.some(Ee=>!Ee.parent?.isOpponent),be=re.some(Ee=>Ee.parent?.isOpponent);return _e&&be?"both teams":be?"opponent team":"player team"}function a(re,_e,be,Ee){if(0===be.length)return{pet:null,random:!1};const ke=(0,v.k6)({key:re,label:`${t(Ee)} -> ${_e} (${n(be)}, ${be.length} options)`,options:be.map(de=>function e(re){const _e=re.parent?.isOpponent?"opponent":"player",be=re.parent?.isOpponent?"O":"P",Ee=Number.isFinite(re.savedPosition)?re.savedPosition+1:0;return{id:`${_e}:${Ee}:${re.name}`,label:`${be}${Ee} ${re.name}`}}(de))},()=>(0,c.hw)(0,be.length-1));return{pet:be[ke.index]??null,random:ke.randomEvent}}function o(re){return!(!re||!(0,A.ku)(re))}function r(re,_e){return[...re.petArray].filter(be=>be.alive&&(!_e||!_e.includes(be)))}function d(re,_e,be,Ee){let ke=[];for(const de of re){if(de===Ee||!de.alive)continue;if(0===ke.length){ke=[de];continue}const Te=_e(de),Ne=_e(ke[0]);Te!==Ne?("max"===be?Te>Ne:Te<Ne)&&(ke=[de]):ke.push(de)}return ke}function g(re,_e,be,Ee){if(0===re.length)return{pets:[],random:!1};const ke=(0,P.A)(re);ke.sort(be);const de=ke.slice(0,_e);let Te=!1;return de.length===_e&&ke.length>_e&&Ee(de[_e-1])===Ee(ke[_e])&&(Te=!0),{pets:de,random:Te}}const f=(re,_e,be)=>{if(o(be))return(0,_.WB)(re,[be],!0);const Ee=d(re.petArray,ke=>ke.health,"max",_e);return 0===Ee.length?{pet:null,random:!1}:a("target.highest-health","Highest health tie-break",Ee,be)},D=(re,_e,be)=>o(be)?(0,_.WB)(re,[be],!0):a("target.highest-attack","Highest attack tie-break",d(re.petArray,ke=>ke.attack,"max",_e),be),k=(re,_e,be,Ee)=>o(Ee)?(0,_.BR)(re,_e,!0,[Ee]):g(r(re,be),_e,(ke,de)=>de.attack-ke.attack,ke=>ke.attack),L=(re,_e,be,Ee)=>o(Ee)?(0,_.BR)(re,_e,!0,[Ee]):g(r(re,be),_e,(ke,de)=>ke.attack-de.attack,ke=>ke.attack),N=(re,_e,be)=>o(be)?(0,_.WB)(re,[be],!0):a("target.lowest-attack","Lowest attack tie-break",d(re.petArray,ke=>ke.attack,"min",_e),be),q=(re,_e,be)=>o(be)?(0,_.WB)(re,[be],!0):a("target.lowest-health","Lowest health tie-break",d(re.petArray,ke=>ke.health,"min",_e),be),ne=(re,_e,be,Ee)=>o(Ee)?(0,_.BR)(re,_e,!0,[Ee]):g(r(re,be),_e,(ke,de)=>ke.health-de.health,ke=>ke.health),Q=(re,_e,be,Ee)=>o(Ee)?(0,_.BR)(re,_e,!0,[Ee]):g(r(re,be),_e,(ke,de)=>de.health-ke.health,ke=>ke.health),$=(re,_e,be,Ee)=>o(Ee)?(0,_.BR)(re,_e,!0,[Ee]):g(r(re,be),_e,(ke,de)=>de.tier-ke.tier,ke=>ke.tier),H=(re,_e,be,Ee)=>{if(o(Ee))return(0,_.WB)(re,[Ee],!0);const ke=[...re.petArray].filter(de=>de.alive&&de.tier<=_e&&(!be||!be.includes(de)));return 0===ke.length?{pet:null,random:!1}:a("target.tier-x-or-lower",`Tier ${_e} or lower target`,ke,Ee)},ae=(re,_e)=>{if(o(_e))return(0,_.WB)(re,[_e],!0);let be=[],Ee=-1;const ke=(0,P.A)(re.petArray.filter(de=>de.alive));for(const de of ke){const Te=de.attack+de.health;Te>Ee?(Ee=Te,be=[de]):Te===Ee&&be.push(de)}return 0===be.length?{pet:null,random:!1}:a("target.strongest-pet","Strongest pet tie-break",be,_e)}},30102(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Markhor";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MarkhorAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:n,pteranodon:a}=e,o=t.parent;if(o.trumpets<4)return void this.triggerTigerExecution(e);const r=o.petArray.filter(N=>N&&N!==t&&N.alive);if(0===r.length)return void this.triggerTigerExecution(e);o.trumpets-=4;const d=4*this.level,g=4*this.level,f=Math.floor(d/r.length),D=Math.floor(g/r.length),k=d-f*r.length,L=g-D*r.length;for(let N=0;N<r.length;N++){const q=r[N],Q=N<L?1:0;q.increaseAttack(f+(N<k?1:0)),q.increaseHealth(D+Q)}this.logService.createLog({message:`${t.name} spent 4 trumpets to grant ${d}/${g} evenly among ${r.length} friends.`,type:"ability",player:o,tiger:n,pteranodon:a}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},30126(O,S,i){i.d(S,{t:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Geometric Tortoise";tier=5;pack="Danger";attack=3;health=10;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GeometricTortoiseAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,damageAmount:r}=e,d=this.owner;if(void 0===r||r<=0)return;let g=.33*this.level;3===d.level&&(g=1);let f=Math.floor(r*g);if(f>0){let D=d.parent.opponent.getRandomPet([],!1,!0,!1,d);D.pet&&d.snipePet(D.pet,f,D.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},30147(O,S,i){i.d(S,{O:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Hoatzin";tier=4;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Hoatzin Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent,r=3*this.level;let d=0;for(const D of o.petArray)!D||!D.alive||"Strawberry"===D.equipment?.name&&(D.removePerk(),d++);if(0===d)return void this.triggerTigerExecution(e);const g=r*d,f=o.resolveTrumpetGainTarget(a);f.player.gainTrumpets(g,a,t,void 0,void 0,f.random),this.logService.createLog({message:`${a.name} removed ${d} Strawberry${1===d?"":"s"} for +${g} trumpets.`,type:"ability",player:o,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},30219(O,S,i){i.d(S,{A:()=>A});var P=i(3746);const A=function c(_){var v=(0,P.A)(this,_).delete(_);return this.size-=v?1:0,v}},30254(O,S,i){i.d(S,{d:()=>A});var P=i(22097),c=i(5615);class A extends P.${name="Unagi";equipmentClass="startOfBattle";hasRandomEvents=!0;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t))};constructor(){super()}}class _ extends c.T{equipment;constructor(e,t){super({name:"UnagiAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let a=t.parent.opponent.getRandomPet([],!1,!0,!1,t);a.pet&&t.snipePet(a.pet,2,a.random,!1,!1,!0,!1)}}}},30357(O,S,i){i.d(S,{w:()=>c});var P=i(22097);class c extends P.${name="Inked";equipmentClass="ailment-attack";power=-3;originalPower=-3}},30450(O,S,i){i.d(S,{H:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Angelshark";tier=4;pack="Danger";attack=3;health=4;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},30553(O,S,i){i.d(S,{C:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;name="Baku";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;abilityService;constructor(a,o,r){super({name:"BakuAbility",owner:a,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.abilityService=r}executeAbility(a){const o=this.owner;if((a.gameApi?.turnNumber??0)%2!=0)return void this.triggerTigerExecution(a);const d=o.parent.petArray.filter(k=>k.alive&&k.equipment?.equipmentClass?.startsWith("ailment"));if(0===d.length)return void this.triggerTigerExecution(a);const g=[],f=[...d];for(;g.length<2&&f.length>0;){const k=(0,A.k6)({key:"pet.baku-end-turn-target",label:(0,v.I)(o,"Baku ailment target",g.length+1),options:f.map(L=>({id:`${L.savedPosition+1}:${L.name}`,label:`P${L.savedPosition+1} ${L.name}`}))},()=>(0,_.hw)(0,f.length-1));g.push(f[k.index]),f.splice(k.index,1)}const D=this.level;for(const k of g)k.removePerk(),k.increaseHealth(D);this.logService.createLog({message:`${o.name} replaced ailments with +${D} health on ${g.map(k=>k.name).join(", ")}.`,type:"ability",player:o.parent,tiger:a.tiger,pteranodon:a.pteranodon,randomEvent:d.length>g.length}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},30554(O,S,i){i.d(S,{A:()=>c});const c=function P(A){var _=typeof A;return null!=A&&("object"==_||"function"==_)}},30568(O,S,i){i.d(S,{A:()=>de});var P=i(31685),c=i(15481),A=i(42661),Ee={};Ee["[object Float32Array]"]=Ee["[object Float64Array]"]=Ee["[object Int8Array]"]=Ee["[object Int16Array]"]=Ee["[object Int32Array]"]=Ee["[object Uint8Array]"]=Ee["[object Uint8ClampedArray]"]=Ee["[object Uint16Array]"]=Ee["[object Uint32Array]"]=!0,Ee["[object Arguments]"]=Ee["[object Array]"]=Ee["[object ArrayBuffer]"]=Ee["[object Boolean]"]=Ee["[object DataView]"]=Ee["[object Date]"]=Ee["[object Error]"]=Ee["[object Function]"]=Ee["[object Map]"]=Ee["[object Number]"]=Ee["[object Object]"]=Ee["[object RegExp]"]=Ee["[object Set]"]=Ee["[object String]"]=Ee["[object WeakMap]"]=!1;const de=function ke(Te){return(0,A.A)(Te)&&(0,c.A)(Te.length)&&!!Ee[(0,P.A)(Te)]}},30639(O,S,i){i.d(S,{b:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Skunk";tier=4;pack="Turtle";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SkunkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let g=r.parent.opponent.getHighestHealthPet(void 0,r),f=g.pet;if(null==f)return;let D=.33*this.level,k=Math.max(1,Math.floor(f.health*(1-D)));f.health=k,this.logService.createLog({message:`${r.name} reduced ${f.name} health by ${100*D}% to ${k}.`,type:"ability",player:r.parent,randomEvent:g.random,tiger:a}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},30712(O,S,i){i.d(S,{A:()=>_});var P=i(99898),c=i(42697);const _=function A(v,e){return(0,P.A)(v,(0,c.A)(v),e)}},31287(O,S,i){i.d(S,{A:()=>_});var P=i(70129),c=i(15481);const _=function A(v){return null!=v&&(0,c.A)(v.length)&&!(0,P.A)(v)}},31401(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Vampire Squid";tier=6;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"VampireSquidAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=new Map;for(const f of a.parent.petArray)!f||f===a||!f.alive||!f.equipment||!(f.equipment.equipmentClass??"").startsWith("ailment")||o.has(f.equipment.name)||o.set(f.equipment.name,f);if(0===o.size)return void this.triggerTigerExecution(e);const r=this.level,d=2*this.level,g=[];o.forEach(f=>{f.increaseAttack(r),f.increaseHealth(d),g.push(f.name)}),this.logService.createLog({message:`${a.name} gave ${g.join(", ")} +${r}/+${d} at end of turn for having unique ailments.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},31546(O,S,i){i.d(S,{w:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="White Truffle";equipmentClass="faint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"WhiteTruffleAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const{tiger:t}=e,n=this.owner,a=4*this.equipment.multiplier;n.increaseAttack(a),this.logService.createLog({message:`${n.name} gained ${a} attack (White Truffle)${this.equipment.multiplierMessage}`,type:"equipment",player:n.parent});for(let o=0;o<this.equipment.multiplier;o++){let r=n.parent.opponent.getHighestAttackPet(void 0,n);r.pet&&(n.jumpAttackPrep(r.pet),n.jumpAttack(r.pet,t,null,r.random))}n.removePerk()}}},31671(O,S,i){i.d(S,{N:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Gargoyle";tier=2;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GargoyleAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.mana*this.level;d+=2*this.level;let g=r.parent.nearestPetsBehind(1,r);if(0===g.pets.length)return;let f=g.pets[0];this.logService.createLog({message:`${r.name} spent ${r.mana} mana and gave ${d} health to ${f.name}.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:g.random}),f.increaseHealth(d),r.mana=0,this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},31685(O,S,i){i.d(S,{A:()=>n});var P=i(6944),c=i(96756),A=i(83811),e=P.A?P.A.toStringTag:void 0;const n=function t(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":e&&e in Object(a)?(0,c.A)(a):(0,A.A)(a)}},31805(O,S,i){i.d(S,{y:()=>v});var t,P=i(27354),c=i(61456),A=i(98099),_=i(69379);class v{constructor(n){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,n&&(this._ctorUnsubscribe=!0,this._unsubscribe=n)}unsubscribe(){let n;if(this.closed)return;let{_parentOrParents:a,_ctorUnsubscribe:o,_unsubscribe:r,_subscriptions:d}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof v)a.remove(this);else if(null!==a)for(let g=0;g<a.length;++g)a[g].remove(this);if((0,A.T)(r)){o&&(this._unsubscribe=void 0);try{r.call(this)}catch(g){n=g instanceof _.Z?e(g.errors):[g]}}if((0,P.c)(d)){let g=-1,f=d.length;for(;++g<f;){const D=d[g];if((0,c.G)(D))try{D.unsubscribe()}catch(k){n=n||[],k instanceof _.Z?n=n.concat(e(k.errors)):n.push(k)}}}if(n)throw new _.Z(n)}add(n){let a=n;if(!n)return v.EMPTY;switch(typeof n){case"function":a=new v(n);case"object":if(a===this||a.closed||"function"!=typeof a.unsubscribe)return a;if(this.closed)return a.unsubscribe(),a;if(!(a instanceof v)){const d=a;a=new v,a._subscriptions=[d]}break;default:throw new Error("unrecognized teardown "+n+" added to Subscription.")}let{_parentOrParents:o}=a;if(null===o)a._parentOrParents=this;else if(o instanceof v){if(o===this)return a;a._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return a;o.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[a]:r.push(a),a}remove(n){const a=this._subscriptions;if(a){const o=a.indexOf(n);-1!==o&&a.splice(o,1)}}}function e(t){return t.reduce((n,a)=>n.concat(a instanceof _.Z?a.errors:a),[])}v.EMPTY=((t=new v).closed=!0,t)},32232(O,S,i){i.d(S,{o:()=>c});var P=i(22097);class c extends P.${name="Melon Slice";equipmentClass="shield";power=10;originalPower=10;uses=1;originalUses=1}},32234(O,S,i){function P(c){return c&&"function"==typeof c.schedule}i.d(S,{m:()=>P})},32238(O,S,i){i.d(S,{w:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Sudduth Tomato";equipmentClass="hurt";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"SudduthTomatoAbility",owner:e,triggers:["ThisHurt"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,condition:a=>!!this.owner.alive,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const a=this.owner;let r=1*this.equipment.multiplier;a.increaseHealth(r),this.logService.createLog({message:`${a.name} gained ${r} health (Sudduth Tomato)${this.equipment.multiplierMessage}`,type:"equipment",player:a.parent}),a.removePerk()}}},32308(O,S,i){i.d(S,{H:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Polar Bear";tier=5;pack="Custom";attack=4;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Polar Bear Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=[4,8,12],a=n[Math.min(Math.max(t.level-1,0),n.length-1)],o=t.parent.getRandomPets(1,[],!1,!1,t),r=o.pets[0];r?(r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${t.name} gave ${r.name} +${a}/+${a}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:o.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},32334(O,S,i){i.d(S,{E:()=>c});var P=i(22097);class c extends P.${name="Eucalyptus";equipmentClass="shield";power=4;originalPower=4;uses=1;originalUses=1}},32480(O,S,i){i.d(S,{p:()=>_});var P=i(46200),c=i(32584),A=i(5615);class _ extends P.i{logService;abilityService;name="Fairy Armadillo";tier=4;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"FairyArmadilloAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner,g=2*this.level,f=d.parent.getThis(d),D=f.pet;if(null==D)return;D.increaseHealth(g),this.logService.createLog({message:`${d.name} gave ${D.name} ${g} permanent health and transforms into a protected ball!`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random});const L=d.parent.getThis(d).pet;if(null==L)return;const N=new c.f(this.logService,this.abilityService,L.parent,L.health,L.attack,L.mana,L.exp,L.equipment);L.parent.transformPet(L,N),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},32496(O,S,i){i.d(S,{V:()=>A});var P=i(27389),c=i(31805);function A(_,v){return new P.c(e=>{const t=new c.y;let n=0;return t.add(v.schedule(function(){n!==_.length?(e.next(_[n++]),e.closed||t.add(this.schedule())):e.complete()})),t})}},32584(O,S,i){i.d(S,{f:()=>A});var P=i(45575),c=i(46200);class A extends c.i{logService;abilityService;name="Fairy Ball";tier=1;pack="Star";attack=2;health=6;hidden=!0;initAbilities(){this.addAbility(new P.q(this)),super.initAbilities()}constructor(v,e,t,n,a,o,r,d,g){super(v,e,t),this.logService=v,this.abilityService=e,this.initPet(r,n,a,o,d,g)}}},32804(O,S,i){i.d(S,{_:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Angry Pygmy Hog";tier=2;pack="Custom";attack=5;health=5;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},33126(O,S,i){i.d(S,{A:()=>g});var P=i(70129),c=i(14541),A=i(30554),_=i(38736),e=/^\[object .+?Constructor\]$/,r=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const g=function d(f){return!(!(0,A.A)(f)||(0,c.A)(f))&&((0,P.A)(f)?r:e).test((0,_.A)(f))}},33127(O,S,i){i.d(S,{I:()=>c});var P=i(47868);let c=(()=>{class A{static injector;static setInjector(v){A.injector||(A.injector=v)}static getInjector(){return A.injector}static \u0275fac=function(e){return new(e||A)};static \u0275prov=P.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},33245(O,S,i){i.d(S,{U:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Baby Urchin";tier=2;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BabyUrchinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.opponent.getFurthestUpPet(r),g=[d.pet],f=d.random;if(g[0]){for(let D=0;D<r.level-1;D++){let k;if(k=f?r.parent.opponent.getFurthestUpPet(r).pet:g[D].petBehind(),!k)break;g.push(k)}for(let D of g)D&&(D.increaseHealth(-4),this.logService.createLog({message:`${r.name} removed 4 health from ${D.name}.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:f}));this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},33270(O,S,i){i.d(S,{Y:()=>A});var P=i(50873);i(5615);class A extends P.L{name="Pickaxe";tier=4}},33340(O,S,i){i.d(S,{A:()=>t});var P=i(17133),c="object"==typeof exports&&exports&&!exports.nodeType&&exports,A=c&&"object"==typeof module&&module&&!module.nodeType&&module,v=A&&A.exports===c&&P.A.process;const t=function(){try{return A&&A.require&&A.require("util").types||v&&v.binding&&v.binding("util")}catch{}}()},33411(O,S,i){i.d(S,{L:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Tooth Billed Pigeon";tier=1;pack="Danger";attack=3;health=1;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},33446(O,S,i){i.d(S,{A:()=>v});var P=i(16080);const v=function _(e){return(0,P.A)(e,5)}},33500(O,S,i){i.d(S,{EE:()=>a,Kw:()=>r,Q_:()=>f,i2:()=>D,m3:()=>o,q7:()=>g,vI:()=>d,yY:()=>n});var P=i(42280),c=i(80659);const _=(k,L,N)=>{switch(L){case 0:k.pet0=N;break;case 1:k.pet1=N;break;case 2:k.pet2=N;break;case 3:k.pet3=N;break;case 4:k.pet4=N}},v=(k,L,N)=>{try{k.setPet(L,N)}catch{_(k,L,void 0)}},n=k=>{const L=(0,P.A)(k.petArray);for(let N=0;N<=4;N++)v(k,N,L[N])},a=k=>{null!=k.pet0?.equipment&&k.pet0.equipment instanceof c.m&&(k.pet0.equipment.callback(k.pet0),n(k))},o=(k,L)=>{const N=((k,L)=>{for(let N=L-1;N>=0;N--)if(null==k.getPet(N))return N;return null})(k,L);if(null==N)return!1;for(let q=N;q<L;q++)_(k,q,k.getPet(q+1));return!0},r=(k,L)=>{const N=((k,L)=>{for(let N=L+1;N<=4;N++)if(null==k.getPet(N))return N;return null})(k,L);if(null==N)return!1;for(let q=N;q>L;q--)_(k,q,k.getPet(q-1));return!0},d=(k,L)=>{5!==k.petArray.length?o(k,L)||r(k,L):console.warn("No room to Make Room")},g=(k,L,N=1,q,ne,Q)=>{if("Brussels Sprout"===L?.equipment?.name)return ne.createLog({message:`${L.name} blocked being pushed. (Brussels Sprout)`,type:"equipment",player:L.parent}),void L.removePerk();const $=L.position;let H;if(_(L.parent,$,void 0),N>0&&(H=Math.max($-N,0),null!=k.getPet(H)&&(o(k,H)||r(k,H)),k.setPet(H,L)),N<0&&(H=Math.min($-N,4),null!=k.getPet(H)&&(r(k,H)||o(k,H)),k.setPet(H,L)),q?(L.jumped=!0,Q.triggerJumpEvents(L)):Q.triggerPushedEvents(L),null==k.pet0)Q.triggerEmptyFrontSpaceEvents(k),Q.executeEmptyFrontSpaceEvents(),Q.triggerEmptyFrontSpaceToyEvents(k),Q.executeEmptyFrontSpaceToyEvents();else for(const ae of k.petArray)ae.clearFrontTriggered=!1},f=(k,L,N,q,ne)=>{g(k,L,4,N,q,ne)},D=(k,L,N,q)=>{g(k,L,-4,!1,N,q)}},33524(O,S,i){i.d(S,{Rr:()=>c,XT:()=>A,Ye:()=>_,ku:()=>P,lx:()=>v});const P=e=>{const t=e.equipment;return"string"==typeof t?"Silly"===t:!(!t||"string"!=typeof t.name)&&"Silly"===t.name},c=(e,t)=>{const n=[];for(const a of e.petArray)a.alive&&("perk"===t?a.equipment&&!a.equipment.equipmentClass?.startsWith("ailment")&&n.push(a):a.equipment?.name===t&&n.push(a));return n},A=(e,t)=>{const n=[];for(const a of e.petArray)a.alive&&("Perk"===t?(!a.equipment||a.equipment.name.startsWith("ailment"))&&n.push(a):(!a.equipment||a.equipment.name!==t)&&n.push(a));return n},_=(e,t)=>{for(const n of e.petArray)if(n.position===t)return n;return null},v=e=>{const t=[];for(const n of e.petArray)if(n.hasTrigger(void 0,"Pet","ManticoreAbility"))for(const a of n.abilityList)"ManticoreAbility"===a.name&&t.push(a.level);return t}},33605(O,S,i){i.d(S,{V:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Quail";tier=1;pack="Custom";hidden=!0;attack=2;health=2;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},33685(O,S,i){i.d(S,{h:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Lusca";tier=5;pack="Custom";attack=7;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Lusca Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=t.mana;if(n<=0)return void this.triggerTigerExecution(e);t.mana=0;const o=t.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!1,t).pets;if(0!==o.length){for(const r of o){const d=n,g=Math.max(0,r.attack-d),f=Math.max(0,r.health-d);r.attack=g,r.health=Math.max(1,f)}this.logService.createLog({message:`${t.name} spent ${n} mana and drained ${o.map(r=>r.name).join(", ")}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},33837(O,S,i){i.d(S,{L:()=>_});var P=i(46200),c=i(5615),A=i(29088);class _ extends P.i{name="Basilisk";tier=3;pack="Custom";attack=5;health=2;constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.initPet(g,o,r,d,f,D)}initAbilities(){this.abilityList=[new v(this,this.logService,this.abilityService)],super.initAbilities()}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"Basilisk Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>this.executeAbility(o)}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=o.petAhead;if(r&&r.alive){const d=5*this.level,g=Math.max(1,r.attack??1),f=Math.max(1,r.health??1)+d,D=new A.A(this.logService,this.abilityService,r.parent,f,g,r.mana,r.exp);o.parent.transformPet(r,D),this.logService.createLog({message:`${o.name} transformed ${r.name} into a Rock with +${d} health.`,type:"ability",player:o.parent,tiger:n,pteranodon:a})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},34122(O,S,i){i.d(S,{C:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bass";tier=2;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BassAbility",owner:e,triggers:["Faint","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner,d=r.parent.petArray.filter(k=>k==r&&!k.isSellPet()&&k.level<2);let g=r.parent.getRandomPet(d,!0,null,null,r);const f=g.pet;if(null==f)return;const D=this.level;this.logService.createLog({message:`${r.name} gave ${f.name} +${D} experience.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:g.random}),f.increaseExp(D),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},34133(O,S,i){i.d(S,{B:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Blue-Throated Macaw";tier=3;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"BlueThroatedMacawAbility",owner:t,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const{triggerPet:o}=a,g=(0,A.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;if(a){if(a.position<d.position){let g=(0,A.lK)(d,a),f=g.pet;if(!f)return;let D=3*this.level;f.increaseAttack(D),this.logService.createLog({message:`${d.name} gave ${f.name} +${D} attack.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random})}else{let g=(0,A.lK)(d,a),f=g.pet;if(!f)return;let D=3*this.level;f.increaseHealth(D),this.logService.createLog({message:`${d.name} gave ${f.name} +${D} health.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random})}this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},34443(O,S,i){i.d(S,{K:()=>_});var P=i(46200),c=i(5615),A=i(30357);class _ extends P.i{logService;abilityService;name="Cuttlefish";tier=4;pack="Golden";attack=8;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"CuttlefishAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.opponent.getLastPets(this.level,void 0,d),f=g.pets;if(0==f.length)return;for(let q of f)q.increaseHealth(-3),this.logService.createLog({message:`${d.name} reduced ${q.name} health by 3`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:g.random});let k=d.parent.getPetsWithEquipmentWithSillyFallback("Inked",d),L=d.parent.opponent.getLastPets(this.level,k,d),N=L.pets;if(0!=N.length){for(let q of N)q.givePetEquipment(new A.w),this.logService.createLog({message:`${d.name} gave ${q.name} Inked.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:L.random});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},34444(O,S,i){i.d(S,{X:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Mandarinfish";tier=2;pack="Custom";attack=2;health=3;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},34593(O,S,i){i.d(S,{T:()=>e});var P=i(46200),c=i(5615),A=i(90966),_=i(33127),v=i(61850);class e extends P.i{logService;abilityService;name="Albino Squirrel";tier=2;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;constructor(a,o){super({name:"AlbinoSquirrelAbility",owner:a,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=o}executeAbility(a){const{tiger:o,pteranodon:r}=a,d=this.owner,f=_.I.getInjector().get(A.m).getInstanceOfAllEquipment(),D=Array.from(f.values()).filter(L=>"shop"===L.equipmentClass);if(0===D.length)return;let k=[];for(let L=0;L<3;L++){let N=D[(0,v.hw)(0,D.length-1)];k.push(N.name)}this.logService.createLog({message:`${d.name} restocked shop food with ${k.join(", ")} at -${this.level} gold.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:!0}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},34638(O,S,i){i.d(S,{i:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Flounder";tier=5;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;foodsEaten=0;triggeredThisTurn=!1;constructor(e,t){super({name:"Flounder Ability",owner:e,triggers:["FoodEatenByThis","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.foodsEaten=0,this.triggeredThisTurn=!1,void this.triggerTigerExecution(e);if(this.triggeredThisTurn)return void this.triggerTigerExecution(e);if(this.foodsEaten++,this.foodsEaten<2)return void this.triggerTigerExecution(e);const n=this.level,a=t.parent.nearestPetsBehind(2,t);for(const o of a.pets)o.increaseExp(n),this.logService.createLog({message:`${t.name} gave ${o.name} ${n} exp.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.random});this.triggeredThisTurn=!0,this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},34747(O,S,i){i.d(S,{Z:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;petService;name="Eagle";tier=5;pack="Puppy";attack=6;health=5;constructor(a,o,r,d,g,f,D,k,L,N){super(a,o,d),this.logService=a,this.abilityService=o,this.petService=r,this.initPet(k,g,f,D,L,N)}initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class t extends c.T{logService;abilityService;petService;constructor(a,o,r,d){super({name:"EagleAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=o,this.abilityService=r,this.petService=d}executeAbility(a){const{gameApi:o,tiger:d,pteranodon:g}=a,f=this.owner,D=Number.isFinite(o.previousShopTier)?o.previousShopTier:1,k=Math.min(6,Math.max(1,D+1)),L=re=>(re??[]).filter(_e=>_e&&f.name&&_e.toLowerCase()!==f.name.toLowerCase()),N=f.parent===o.player?o.playerPetPool:o.opponentPetPool;let q=L(N?.get(k));if(q?.length||(q=L(this.petService.allPets.get(k))),q?.length||(q=L(this.petService.allPets.get(1))),!q.length)return void this.triggerTigerExecution(a);const ne=(0,A.k6)({key:"pet.eagle-faint-summon",label:(0,v.I)(f,`Eagle tier ${k} summon`),options:q.map(re=>({id:re,label:re}))},()=>(0,_.hw)(0,q.length-1));let $=5*this.level,H=this.petService.createPet({name:q[ne.index],attack:$,health:$,exp:f.minExpForLevel,equipment:null,mana:0},f.parent);f.parent.summonPet(H,f.savedPosition,!1,f).success&&this.logService.createLog({message:`${f.name} spawned ${H.name} Level ${H.level}`,type:"ability",player:f.parent,tiger:d,randomEvent:ne.randomEvent,pteranodon:g}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService,this.petService)}}},34748(O,S,i){i.d(S,{V:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dolphin";tier=3;pack="Turtle";health=3;attack=4;hasRandomEvents=!0;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DolphinAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.opponent;for(let g=0;g<this.level;g++){let f=d.getLowestHealthPet(null,r);if(!f.pet)break;r.snipePet(f.pet,4,f.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},34774(O,S,i){i.d(S,{P:()=>v});var P=i(46200),c=i(5615),A=i(90966),_=i(33127);class v extends P.i{logService;abilityService;name="Toucan";tier=3;pack="Puppy";attack=4;health=3;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"ToucanAbility",owner:n,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:n.level,condition:o=>this.owner.timesAttacked<1,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{tiger:r,pteranodon:d}=n,g=this.owner;let f;f=null==g.equipment||g.equipment.tier>5?"Egg":g.equipment.name;let D=g.parent.getPetsWithEquipment(f),L=g.parent.nearestPetsBehind(this.level,g,D).pets;if(0!=L.length){for(let N of L){const q=_.I.getInjector().get(A.m).getInstanceOfAllEquipment().get(f);q&&(this.logService.createLog({message:`${g.name} gave ${N.name} ${q.name}`,type:"ability",player:g.parent,randomEvent:!1,tiger:r,pteranodon:d}),N.givePetEquipment(q))}this.triggerTigerExecution(n)}}copy(n){return new e(n,this.logService)}}},34815(O,S,i){i.d(S,{w:()=>v});var P=i(46200),c=i(59374),A=i(5615),_=i(61850);class v extends P.i{logService;abilityService;name="Mandrake";tier=3;pack="Unicorn";attack=4;health=3;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends A.T{logService;constructor(n,a){super({name:"MandrakeAbility",owner:n,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{tiger:r}=n,g=this.owner;let f=g.parent.getPetsWithEquipmentWithSillyFallback("Dazed",g),k=this.getTargetPrioritizingFaintPets(f,g).pet;null!=k&&(this.logService.createLog({message:`${g.name} made ${k.name} Dazed.`,type:"ability",player:g.parent,tiger:r,randomEvent:!0}),k.givePetEquipment(new c.x),this.triggerTigerExecution(n))}getTargetPrioritizingFaintPets(n,a){const o=2*this.level,r=a.parent.opponent.petArray.filter(d=>d.alive&&d.tier<=o&&!n.includes(d)&&d.isFaintPet());return r.length>0?{pet:r[(0,_.hw)(0,r.length-1)],random:r.length>1}:a.parent.opponent.getTierXOrLowerPet(o,n,a)}copy(n){return new e(n,this.logService)}}},34829(O,S,i){i.d(S,{Q:()=>e});var P=i(46200),c=i(5615),A=i(90966),_=i(33127),v=i(1152);class e extends P.i{logService;abilityService;petService;gameService;name="Seagull";tier=4;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L,N,q){super(a,o,g),this.logService=a,this.abilityService=o,this.petService=r,this.gameService=d,this.initPet(L,f,D,k,N,q)}}class t extends c.T{logService;usesThisTurn=0;constructor(a,o){super({name:"SeagullAbility",owner:a,triggers:["FriendSummoned","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=o}executeAbility(a){const{triggerPet:o,tiger:r,pteranodon:d,trigger:g}=a,f=this.owner;if("StartTurn"===g)return void(this.usesThisTurn=0);const D=(0,v.Uj)(f,o);if(!D.pet||!f.equipment||this.usesThisTurn>=this.level)return void this.triggerTigerExecution(a);const k=_.I.getInjector().get(A.m),L=f.equipment,N=k.getInstanceOfAllEquipment().get(L.name);if(!N)return void this.triggerTigerExecution(a);const q=D.pet;q.givePetEquipment(N),this.usesThisTurn++,(0,v.rv)(this.logService,f,`${f.name} gave ${q.name} a ${L.name}`,r,d,{randomEvent:D.random}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},35045(O,S,i){i.d(S,{x:()=>Rt});var P=i(38022),c=i(84797),A=i(23475),_=i(71433),v=i(3626),e=i(90285),t=i(35867),n=i(86950),a=i(72818),o=i(50871),r=i(88513),d=i(26666),g=i(20290),f=i(48549),D=i(57862),k=i(98964),L=i(56692),N=i(78229),q=i(34774),ne=i(66548),Q=i(66855),$=i(87955),H=i(14228),ae=i(8143),re=i(15504),_e=i(56876),be=i(98349),Ee=i(60990),ke=i(19114),de=i(50598),Te=i(50702),Ne=i(83398),Ge=i(21784),Ie=i(4945),gt=i(18506),pt=i(4066),We=i(3813),tt=i(98977),At=i(19939),nt=i(64747),et=i(34747),Dt=i(79770),ct=i(92248),vt=i(49575),rt=i(24101),He=i(11325),kt=i(37429),Xt=i(25700),it=i(1785),$t=i(66802),Et=i(46637),ge=i(50424),we=i(80128),Ve=i(43726),Fe=i(51384),ot=i(45312),Bt=i(16408);const Rt={Moth:P.n,Bluebird:c.S,Chinchilla:A._,Beetle:_._,Ladybug:v.d,Chipmunk:e.C,Gecko:t.k,Ferret:n.t,Robin:r.v,Bat:a.M,Bilby:o.i,Dromedary:d.Q,Shrimp:g.S,Toucan:q.P,"Beluga Sturgeon":f.$,"Tabby Cat":D.b,Mandrill:k._,Lemur:L.S,"Gold Fish":N.Z,"Hoopoe Bird":ne.u,"Tropical Fish":Q.f,"Hatching Chick":$.x,Owl:H.d,Mole:ae.e,Pangolin:re.Z,Puppy:_e.p,"Purple Frog":be.J,Hare:Ee.z,Microbe:ke.u,Lobster:de.g,Buffalo:Te.s,Llama:Ne.m,Caterpillar:Ge.G,Doberman:Ie.N,Tahr:gt.y,"Whale Shark":pt.v,Chameleon:We.l,Gharial:tt.V,Stonefish:At.w,Goat:rt.r,Chicken:nt.u,"Orchid Mantis":Dt.u,Panther:ct.X,Axolotl:vt.W,"Snapping Turtle":He.t,Mosasaurus:kt.P,"Sting Ray":Xt.w,"Mantis Shrimp":it.q,Lionfish:$t.n,Tyrannosaurus:Et.x,Octopus:ge.S,Anglerfish:we.w,Sauropod:Ve.y,"Elephant Seal":Fe.d,Puma:ot.E,Mongoose:Bt.c,Eagle:et.Z}},35115(O,S,i){i.d(S,{t:()=>_});var P=i(46200),c=i(5615),A=i(904);class _ extends P.i{logService;abilityService;name="Taita Shrew";tier=2;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"TaitaShrewAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getThis(d),f=g.pet;if(!f)return;let D=new A.I(this.logService,this.abilityService,d.parent,f.health,f.attack,f.mana,f.exp,f.equipment);this.logService.createLog({message:`${d.name} transformed ${f.name} into ${D.name} (level ${this.level}).`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),d.parent.transformPet(f,D),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},35389(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{constructor(e,t,n){super(e,t,n),this.name="Barnacle",this.tier=3,this.pack="Custom",this.attack=1,this.health=3}initAbilities(){this.abilityList=[new _(this,this.logService)],super.initAbilities()}}class _ extends c.T{logService;constructor(e,t){super({name:"Barnacle Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,n=this.owner;if(0===(n.parent===t.player?t.playerRollAmount||0:t.opponentRollAmount||0)){const o=this.level;n.increaseExp(o),this.logService.createLog({message:`${n.name} gained +${o} experience (EndTurn, no rolls).`,type:"ability",player:n.parent})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},35454(O,S,i){i.d(S,{U:()=>t});var P=i(46200),c=i(5615),A=i(94798),_=i(58857),v=i(61850),e=i(79222);class t extends P.i{logService;abilityService;petService;name="Golden Tamarin";tier=4;pack="Danger";attack=4;health=4;initAbilities(){this.addAbility(new n(this,this.logService,this.petService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,N,q){super(o,r,g),this.logService=o,this.abilityService=r,this.petService=d,this.initPet(L,f,D,k,N,q)}}class n extends c.T{logService;petService;constructor(o,r,d){super({name:"GoldenTamarinAbility",owner:o,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.petService=d}executeAbility(o){const{tiger:g}=o,D=this.owner;let L=D.parent.getThis(D).pet;if(!L)return;const N=A.s.goldenTamarin,q=(0,_.k6)({key:"pet.golden-tamarin-transform",label:(0,e.I)(D,"Golden Tamarin transform"),options:N.map($=>({id:$,label:$}))},()=>(0,v.hw)(0,N.length-1));let Q=this.petService.createPet({name:N[q.index],health:L.health,attack:L.attack,mana:L.mana,exp:L.exp,equipment:L.equipment},D.parent);D.parent.transformPet(L,Q),this.logService.createLog({message:`${D.name} transformed ${L.name} into a ${Q.attack}/${Q.health} ${Q.name}.`,type:"ability",player:D.parent,tiger:g,randomEvent:q.randomEvent}),this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.petService)}}},35547(O,S,i){i.d(S,{$C:()=>ap,$Ln:()=>vp,$o8:()=>_s,AVh:()=>n_,Ab1:()=>Sr,Agw:()=>j,B4B:()=>Uh,BIS:()=>he,BMQ:()=>Ap,C4Q:()=>Ic,C5r:()=>cP,C7A:()=>ey,Co$:()=>Wg,DH7:()=>h_,DNE:()=>Qc,DUP:()=>Ks,DkB:()=>Pu,EBC:()=>q_,EFF:()=>Hb,EJ8:()=>Kv,Ef8:()=>rt,FsC:()=>Wv,GBs:()=>e_,H1s:()=>my,HbH:()=>xb,Hgh:()=>va,JRh:()=>c_,Jt5:()=>Bp,Jv_:()=>eP,KED:()=>Z0,LHq:()=>qp,LVR:()=>Ty,Lme:()=>u_,NCX:()=>xd,NOj:()=>tf,NSC:()=>Pa,NYb:()=>uy,OA$:()=>Ie,Ocv:()=>fD,PLl:()=>ee,PeT:()=>bo,R50:()=>p_,R7$:()=>lf,RV6:()=>jm,SpI:()=>Qp,TFI:()=>Ao,UQu:()=>SP,VBU:()=>$g,VeQ:()=>Be,Vt3:()=>zg,VzW:()=>LS,XpG:()=>Eb,Y8G:()=>Cs,YEm:()=>pa,Zhj:()=>Er,_9s:()=>Sg,_9u:()=>rr,_jY:()=>Gn,_qm:()=>Yt,_ys:()=>mf,a8H:()=>Ec,aCM:()=>ka,aKT:()=>Jt,bH1:()=>Uv,bIt:()=>Qm,bVm:()=>yu,c1b:()=>Jd,cDI:()=>a1,cdK:()=>gy,czy:()=>_d,d80:()=>Yl,dOL:()=>ru,dfE:()=>eA,e6s:()=>CT,eHC:()=>Xd,eq3:()=>x0,eu8:()=>$m,eux:()=>Ip,gXe:()=>Ca,j41:()=>ko,k0s:()=>Or,kBR:()=>xp,kS0:()=>Le,lJ4:()=>nr,lJT:()=>_y,l_i:()=>y_,lsd:()=>Db,mGM:()=>Tb,mS5:()=>He,mY:()=>Ce,mal:()=>Qh,mxI:()=>g_,nrm:()=>Op,nv$:()=>Sy,o8S:()=>ou,ozJ:()=>kg,pl0:()=>U1,qex:()=>Fl,rXU:()=>fl,rj2:()=>Bl,rpG:()=>DP,s1E:()=>aP,sFG:()=>xE,sMw:()=>iP,sZ2:()=>ei,sdS:()=>Cb,sgu:()=>wS,tSv:()=>Q_,uiO:()=>ne,utN:()=>qE,vDg:()=>bv,w6W:()=>RS,xGo:()=>ea,xc7:()=>i_,xe9:()=>MP,yLl:()=>hy,ypd:()=>W1,ziG:()=>nP,zoo:()=>Sc});var P=i(10467),c=i(47868),A=i(15824),_=i(45286),v=i(31805),e=i(95006);function t(s){return{toString:s}.toString()}const n="__annotations__",a="__parameters__",o="__prop__metadata__";function r(s,p,m,b,T){return t(()=>{const M=d(p);function w(...R){if(this instanceof w)return M.call(this,...R),this;const B=new w(...R);return function(J){return T&&T(J,...R),(J.hasOwnProperty(n)?J[n]:Object.defineProperty(J,n,{value:[]})[n]).push(B),J}}return m&&(w.prototype=Object.create(m.prototype)),w.prototype.ngMetadataName=s,w.annotationCls=w,w})}function d(s){return function(...m){if(s){const b=s(...m);for(const T in b)this[T]=b[T]}}}function g(s,p,m){return t(()=>{const b=d(p);function T(...M){if(this instanceof T)return b.apply(this,M),this;const w=new T(...M);return R.annotation=w,R;function R(B,G,J){const le=B.hasOwnProperty(a)?B[a]:Object.defineProperty(B,a,{value:[]})[a];for(;le.length<=J;)le.push(null);return(le[J]=le[J]||[]).push(w),B}}return T.prototype.ngMetadataName=s,T.annotationCls=T,T})}const D=(0,c.z6V)(g("Inject",s=>({token:s})),-1),k=(0,c.z6V)(g("Optional"),8),L=(0,c.z6V)(g("Self"),2),N=(0,c.z6V)(g("SkipSelf"),4),q=(0,c.z6V)(g("Host"),1);function ne(s){const p=c.laP.ng;if(p&&p.\u0275compilerFacade)return p.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Q={\u0275\u0275defineInjectable:c.jDH,\u0275\u0275defineInjector:c.G2t,\u0275\u0275inject:c.KVO,\u0275\u0275invalidFactoryDep:c.dmw,resolveForwardRef:c.nl4},$=Function;function H(s){return"function"==typeof s}const ae=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,re=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,_e=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,be=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class ke{_reflect;constructor(p){this._reflect=p||c.laP.Reflect}factory(p){return(...m)=>new p(...m)}_zipTypesAndAnnotations(p,m){let b;b=(0,c.WfI)(typeof p>"u"?m.length:p.length);for(let T=0;T<b.length;T++)b[T]=typeof p>"u"?[]:p[T]&&p[T]!=Object?[p[T]]:[],m&&null!=m[T]&&(b[T]=b[T].concat(m[T]));return b}_ownParameters(p,m){if(function Ee(s){return ae.test(s)||be.test(s)||re.test(s)&&!_e.test(s)}(p.toString()))return null;if(p.parameters&&p.parameters!==m.parameters)return p.parameters;const T=p.ctorParameters;if(T&&T!==m.ctorParameters){const R="function"==typeof T?T():T,B=R.map(J=>J&&J.type),G=R.map(J=>J&&de(J.decorators));return this._zipTypesAndAnnotations(B,G)}const M=p.hasOwnProperty(a)&&p[a],w=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",p);return w||M?this._zipTypesAndAnnotations(w,M):(0,c.WfI)(p.length)}parameters(p){if(!H(p))return[];const m=Te(p);let b=this._ownParameters(p,m);return!b&&m!==Object&&(b=this.parameters(m)),b||[]}_ownAnnotations(p,m){if(p.annotations&&p.annotations!==m.annotations){let b=p.annotations;return"function"==typeof b&&b.annotations&&(b=b.annotations),b}return p.decorators&&p.decorators!==m.decorators?de(p.decorators):p.hasOwnProperty(n)?p[n]:null}annotations(p){if(!H(p))return[];const m=Te(p),b=this._ownAnnotations(p,m)||[];return(m!==Object?this.annotations(m):[]).concat(b)}_ownPropMetadata(p,m){if(p.propMetadata&&p.propMetadata!==m.propMetadata){let b=p.propMetadata;return"function"==typeof b&&b.propMetadata&&(b=b.propMetadata),b}if(p.propDecorators&&p.propDecorators!==m.propDecorators){const b=p.propDecorators,T={};return Object.keys(b).forEach(M=>{T[M]=de(b[M])}),T}return p.hasOwnProperty(o)?p[o]:null}propMetadata(p){if(!H(p))return{};const m=Te(p),b={};if(m!==Object){const M=this.propMetadata(m);Object.keys(M).forEach(w=>{b[w]=M[w]})}const T=this._ownPropMetadata(p,m);return T&&Object.keys(T).forEach(M=>{const w=[];b.hasOwnProperty(M)&&w.push(...b[M]),w.push(...T[M]),b[M]=w}),b}ownPropMetadata(p){return H(p)&&this._ownPropMetadata(p,Te(p))||{}}hasLifecycleHook(p,m){return p instanceof $&&m in p.prototype}}function de(s){return s?s.map(p=>new(0,p.type.annotationCls)(...p.args?p.args:[])):[]}function Te(s){const p=s.prototype?Object.getPrototypeOf(s.prototype):null;return(p?p.constructor:null)||Object}function Ne(s,p,m,b){null!==p?p.applyValueToInputSignal(p,b):s[m]=b}class Ge{previousValue;currentValue;firstChange;constructor(p,m,b){this.previousValue=p,this.currentValue=m,this.firstChange=b}isFirstChange(){return this.firstChange}}const Ie=(()=>{const s=()=>gt;return s.ngInherit=!0,s})();function gt(s){return s.type.prototype.ngOnChanges&&(s.setInput=We),pt}function pt(){const s=At(this),p=s?.current;if(p){const m=s.previous;if(m===c.MZA)s.previous=p;else for(let b in p)m[b]=p[b];s.current=null,this.ngOnChanges(p)}}function We(s,p,m,b,T){const M=this.declaredInputs[b],w=At(s)||function nt(s,p){return s[tt]=p}(s,{previous:c.MZA,current:null}),R=w.current||(w.current={}),B=w.previous,G=B[M];R[M]=new Ge(G&&G.currentValue,m,B===c.MZA),Ne(s,p,T,m)}const tt="__ngSimpleChanges__";function At(s){return s[tt]||null}const et=[],rt=function(s,p=null,m){for(let b=0;b<et.length;b++)(0,et[b])(s,p,m)};var He=function(s){return s[s.TemplateCreateStart=0]="TemplateCreateStart",s[s.TemplateCreateEnd=1]="TemplateCreateEnd",s[s.TemplateUpdateStart=2]="TemplateUpdateStart",s[s.TemplateUpdateEnd=3]="TemplateUpdateEnd",s[s.LifecycleHookStart=4]="LifecycleHookStart",s[s.LifecycleHookEnd=5]="LifecycleHookEnd",s[s.OutputStart=6]="OutputStart",s[s.OutputEnd=7]="OutputEnd",s[s.BootstrapApplicationStart=8]="BootstrapApplicationStart",s[s.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",s[s.BootstrapComponentStart=10]="BootstrapComponentStart",s[s.BootstrapComponentEnd=11]="BootstrapComponentEnd",s[s.ChangeDetectionStart=12]="ChangeDetectionStart",s[s.ChangeDetectionEnd=13]="ChangeDetectionEnd",s[s.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",s[s.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",s[s.AfterRenderHooksStart=16]="AfterRenderHooksStart",s[s.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",s[s.ComponentStart=18]="ComponentStart",s[s.ComponentEnd=19]="ComponentEnd",s[s.DeferBlockStateStart=20]="DeferBlockStateStart",s[s.DeferBlockStateEnd=21]="DeferBlockStateEnd",s[s.DynamicComponentStart=22]="DynamicComponentStart",s[s.DynamicComponentEnd=23]="DynamicComponentEnd",s[s.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",s[s.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",s}(He||{});function Xt(s,p){for(let m=p.directiveStart,b=p.directiveEnd;m<b;m++){const M=s.data[m].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:R,ngAfterViewInit:B,ngAfterViewChecked:G,ngOnDestroy:J}=M;w&&(s.contentHooks??=[]).push(-m,w),R&&((s.contentHooks??=[]).push(m,R),(s.contentCheckHooks??=[]).push(m,R)),B&&(s.viewHooks??=[]).push(-m,B),G&&((s.viewHooks??=[]).push(m,G),(s.viewCheckHooks??=[]).push(m,G)),null!=J&&(s.destroyHooks??=[]).push(m,J)}}function it(s,p,m){ge(s,p,3,m)}function $t(s,p,m,b){(3&s[c.Wg1])===m&&ge(s,p,m,b)}function Et(s,p){let m=s[c.Wg1];(3&m)===p&&(m&=16383,m+=1,s[c.Wg1]=m)}function ge(s,p,m,b){const M=b??-1,w=p.length-1;let R=0;for(let B=void 0!==b?65535&s[c.wVl]:0;B<w;B++)if("number"==typeof p[B+1]){if(R=p[B],null!=b&&R>=b)break}else p[B]<0&&(s[c.wVl]+=65536),(R<M||-1==M)&&(Ve(s,m,p,B),s[c.wVl]=(4294901760&s[c.wVl])+B+2),B++}function we(s,p){rt(He.LifecycleHookStart,s,p);const m=(0,A.Ht)(null);try{p.call(s)}finally{(0,A.Ht)(m),rt(He.LifecycleHookEnd,s,p)}}function Ve(s,p,m,b){const T=m[b]<0,M=m[b+1],R=s[T?-m[b]:m[b]];T?s[c.Wg1]>>14<s[c.wVl]>>16&&(3&s[c.Wg1])===p&&(s[c.Wg1]+=16384,we(R,M)):we(R,M)}class ot{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(p,m,b,T){this.factory=p,this.name=T,this.canSeeViewProviders=m,this.injectImpl=b}}function Rt(s){return null!=s&&"object"==typeof s&&(null===s.insertBeforeIndex||"number"==typeof s.insertBeforeIndex||Array.isArray(s.insertBeforeIndex))}function Vi(s){return 3===s||4===s||6===s}function wi(s){return 64===s.charCodeAt(0)}function Oi(s,p){if(null!==p&&0!==p.length)if(null===s||0===s.length)s=p.slice();else{let m=-1;for(let b=0;b<p.length;b++){const T=p[b];"number"==typeof T?m=T:0===m||zi(s,m,T,0,-1===m||2===m?p[++b]:null)}}return s}function zi(s,p,m,b,T){let M=0,w=s.length;if(-1===p)w=-1;else for(;M<s.length;){const R=s[M++];if("number"==typeof R){if(R===p){w=-1;break}if(R>p){w=M-1;break}}}for(;M<s.length;){const R=s[M];if("number"==typeof R)break;if(R===m)return void(null!==T&&(s[M+1]=T));M++,null!==T&&M++}-1!==w&&(s.splice(w,0,p),M=w+1),s.splice(M++,0,m),null!==T&&s.splice(M++,0,T)}function En(s){return-1!==s}function Di(s){return 32767&s}function Mi(s,p){let m=function _i(s){return s>>16}(s),b=p;for(;m>0;)b=b[c.X5O],m--;return b}let Nn=!0;function pn(s){const p=Nn;return Nn=s,p}let In=0;const Bi={};function Ii(s,p){const m=Sn(s,p);if(-1!==m)return m;const b=p[c.eDl];b.firstCreatePass&&(s.injectorIndex=p.length,Hi(b.data,s),Hi(p,null),Hi(b.blueprint,null));const T=yi(s,p),M=s.injectorIndex;if(En(T)){const w=Di(T),R=Mi(T,p),B=R[c.eDl].data;for(let G=0;G<8;G++)p[M+G]=R[w+G]|B[w+G]}return p[M+8]=T,M}function Hi(s,p){s.push(0,0,0,0,0,0,0,0,p)}function Sn(s,p){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===p[s.injectorIndex+8]?-1:s.injectorIndex}function yi(s,p){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let m=0,b=null,T=p;for(;null!==T;){if(b=ve(T),null===b)return-1;if(m++,T=T[c.X5O],-1!==b.injectorIndex)return b.injectorIndex|m<<16}return-1}function qi(s,p,m){!function di(s,p,m){let b;"string"==typeof m?b=m.charCodeAt(0)||0:m.hasOwnProperty(c.p9y)&&(b=m[c.p9y]),null==b&&(b=m[c.p9y]=In++);const T=255&b;p.data[s+(T>>5)]|=1<<T}(s,p,m)}function Tn(s,p,m){if(8&m||void 0!==s)return s;(0,c.$Hz)(p,"NodeInjector")}function Qn(s,p,m,b){if(8&m&&void 0===b&&(b=null),!(3&m)){const T=s[c.YEL],M=(0,c.a2B)(void 0);try{return T?T.get(p,b,8&m):(0,c.MzJ)(p,b,8&m)}finally{(0,c.a2B)(M)}}return Tn(b,p,m)}function Ei(s,p,m,b=0,T){if(null!==s){if(2048&p[c.Wg1]&&!(2&b)){const w=function Ae(s,p,m,b,T){let M=s,w=p;for(;null!==M&&null!==w&&2048&w[c.Wg1]&&!(0,c.EFk)(w);){const R=en(M,w,m,2|b,Bi);if(R!==Bi)return R;let B=M.parent;if(!B){const G=w[c.oMQ];if(G){const J=G.get(m,Bi,b);if(J!==Bi)return J}B=ve(w),w=w[c.X5O]}M=B}return T}(s,p,m,b,Bi);if(w!==Bi)return w}const M=en(s,p,m,b,Bi);if(M!==Bi)return M}return Qn(p,m,b,T)}function en(s,p,m,b,T){const M=function qn(s){if("string"==typeof s)return s.charCodeAt(0)||0;const p=s.hasOwnProperty(c.p9y)?s[c.p9y]:void 0;return"number"==typeof p?p>=0?255&p:Zn:p}(m);if("function"==typeof M){if(!(0,c.ihb)(p,s,b))return 1&b?Tn(T,m,b):Qn(p,m,b,T);try{let w;if(w=M(b),null!=w||8&b)return w;(0,c.$Hz)(m)}finally{(0,c.niQ)()}}else if("number"==typeof M){let w=null,R=Sn(s,p),B=-1,G=1&b?p[c.b5C][c.qlT]:null;for((-1===R||4&b)&&(B=-1===R?yi(s,p):p[R+8],-1!==B&&Qa(b,!1)?(w=p[c.eDl],R=Di(B),p=Mi(B,p)):R=-1);-1!==R;){const J=p[c.eDl];if(Ea(M,R,J.data)){const le=Vn(R,p,m,w,b,G);if(le!==Bi)return le}B=p[R+8],-1!==B&&Qa(b,p[c.eDl].data[R+8]===G)&&Ea(M,R,p)?(w=J,R=Di(B),p=Mi(B,p)):R=-1}}return T}function Vn(s,p,m,b,T,M){const w=p[c.eDl],R=w.data[s+8],J=Dn(R,w,m,null==b?(0,c.Qs1)(R)&&Nn:b!=w&&!!(3&R.type),1&T&&M===R);return null!==J?rn(p,w,J,R,T):Bi}function Dn(s,p,m,b,T){const M=s.providerIndexes,w=p.data,R=1048575&M,B=s.directiveStart,J=M>>20,ye=T?R+J:s.directiveEnd;for(let Pe=b?R:R+J;Pe<ye;Pe++){const Oe=w[Pe];if(Pe<B&&m===Oe||Pe>=B&&Oe.type===m)return Pe}if(T){const Pe=w[B];if(Pe&&(0,c.JlV)(Pe)&&Pe.type===m)return B}return null}function rn(s,p,m,b,T){let M=s[m];const w=p.data;if(M instanceof ot){const R=M;if(R.resolving){const Pe=(0,c.PP7)(w[m]);throw(0,c.PQT)(Pe)}const B=pn(R.canSeeViewProviders);R.resolving=!0;const le=R.injectImpl?(0,c.a2B)(R.injectImpl):null;(0,c.ihb)(s,b,0);try{M=s[m]=R.factory(void 0,T,w,s,b),p.firstCreatePass&&m>=b.directiveStart&&function kt(s,p,m){const{ngOnChanges:b,ngOnInit:T,ngDoCheck:M}=p.type.prototype;if(b){const w=gt(p);(m.preOrderHooks??=[]).push(s,w),(m.preOrderCheckHooks??=[]).push(s,w)}T&&(m.preOrderHooks??=[]).push(0-s,T),M&&((m.preOrderHooks??=[]).push(s,M),(m.preOrderCheckHooks??=[]).push(s,M))}(m,w[m],p)}finally{null!==le&&(0,c.a2B)(le),pn(B),R.resolving=!1,(0,c.niQ)()}}return M}function Ea(s,p,m){return!!(m[p+(s>>5)]&1<<s)}function Qa(s,p){return!(2&s||1&s&&p)}class pi{_tNode;_lView;constructor(p,m){this._tNode=p,this._lView=m}get(p,m,b){return Ei(this._tNode,this._lView,p,(0,c.hjC)(b),m)}}function Zn(){return new pi((0,c.Mx4)(),(0,c.OAn)())}function ea(s){return t(()=>{const p=s.prototype.constructor,m=p[c.zSs]||ce(p),b=Object.prototype;let T=Object.getPrototypeOf(s.prototype).constructor;for(;T&&T!==b;){const M=T[c.zSs]||ce(T);if(M&&M!==m)return M;T=Object.getPrototypeOf(T)}return M=>new M})}function ce(s){return(0,c.Jzi)(s)?()=>{const p=ce((0,c.nl4)(s));return p&&p()}:(0,c.wGu)(s)}function ve(s){const p=s[c.eDl],m=p.type;return 2===m?p.declTNode:1===m?s[c.qlT]:null}function Le(s){return function Zi(s,p){if("class"===p)return s.classes;if("style"===p)return s.styles;const m=s.attrs;if(m){const b=m.length;let T=0;for(;T<b;){const M=m[T];if(Vi(M))break;if(0===M)T+=2;else if("number"==typeof M)for(T++;T<b&&"string"==typeof m[T];)T++;else{if(M===p)return m[T+1];T+=2}}}return null}((0,c.Mx4)(),s)}const Ue=g("Attribute",s=>({attributeName:s,__NG_ELEMENT_ID__:()=>Le(s)}));let je=null;function Kt(s){return Pt(function ze(){return je=je||new ke}().parameters(s))}function Pt(s){return s.map(p=>function bi(s){const p={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(s)&&s.length>0)for(let m=0;m<s.length;m++){const b=s[m];if(void 0===b)continue;const T=Object.getPrototypeOf(b);if(b instanceof k||"Optional"===T.ngMetadataName)p.optional=!0;else if(b instanceof N||"SkipSelf"===T.ngMetadataName)p.skipSelf=!0;else if(b instanceof L||"Self"===T.ngMetadataName)p.self=!0;else if(b instanceof q||"Host"===T.ngMetadataName)p.host=!0;else if(b instanceof D)p.token=b.token;else if(b instanceof Ue){if(void 0===b.attributeName)throw new c.buA(204,!1);p.attribute=b.attributeName}else p.token=b}else p.token=void 0===s||Array.isArray(s)&&0===s.length?null:s;return p}(p))}const gi=(0,c.kLh)({provide:String,useValue:c.kLh});function hi(s){return void 0!==s.useClass}function ri(s){return void 0!==s.useFactory}const Yt=r("Injectable",void 0,void 0,0,(s,p)=>function Fi(s,p){let m=null,b=null;s.hasOwnProperty(c.yAH)||Object.defineProperty(s,c.yAH,{get:()=>(null===m&&(m=ne().compileInjectable(Q,`ng:///${s.name}/\u0275prov.js`,function Gt(s,p){const m=p||{providedIn:null},b={name:s.name,type:s,typeArgumentCount:0,providedIn:m.providedIn};return(hi(m)||ri(m))&&void 0!==m.deps&&(b.deps=Pt(m.deps)),hi(m)?b.useClass=m.useClass:function on(s){return gi in s}(m)?b.useValue=m.useValue:ri(m)?b.useFactory=m.useFactory:function Ri(s){return void 0!==s.useExisting}(m)&&(b.useExisting=m.useExisting),b}(s,p))),m)}),s.hasOwnProperty(c.zSs)||Object.defineProperty(s,c.zSs,{get:()=>{if(null===b){const T=ne();b=T.compileFactory(Q,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,typeArgumentCount:0,deps:Kt(s),target:T.FactoryTarget.Injectable})}return b},configurable:!0})}(s,p));function Pi(){return Ci((0,c.Mx4)(),(0,c.OAn)())}function Ci(s,p){return new Jt((0,c.d31)(s,p))}let Jt=(()=>class s{nativeElement;constructor(m){this.nativeElement=m}static __NG_ELEMENT_ID__=Pi})();function Li(s){return s instanceof Jt?s.nativeElement:s}function ln(){return this._results[Symbol.iterator]()}class Ui{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new _.B7}constructor(p=!1){this._emitDistinctChangesOnly=p}get(p){return this._results[p]}map(p){return this._results.map(p)}filter(p){return this._results.filter(p)}find(p){return this._results.find(p)}reduce(p,m){return this._results.reduce(p,m)}forEach(p){this._results.forEach(p)}some(p){return this._results.some(p)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(p,m){this.dirty=!1;const b=(0,c.Bqz)(p);(this._changesDetected=!(0,c.ng7)(this._results,b,m))&&(this._results=b,this.length=b.length,this.last=b[this.length-1],this.first=b[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(p){this._onDirty=p}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=ln}function tn(s){return!(128&~s.flags)}var _n=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(_n||{});const fn=new Map;let Ta=0;function Y(s){fn.delete(s[c.ID])}const Qe="__ngContext__";function lt(s,p){(0,c.q$2)(p)?(s[Qe]=p[c.ID],function Mn(s){fn.set(s[c.ID],s)}(p)):s[Qe]=p}function Cn(s){return ds(s[c.EJG])}function Za(s){return ds(s[c.K29])}function ds(s){for(;null!==s&&!(0,c.A0l)(s);)s=s[c.K29];return s}let da;function rr(s){da=s}function pa(){if(void 0!==da)return da;if(typeof document<"u")return document;throw new c.buA(210,!1)}const ei=new c.nKC("",{factory:()=>ms}),ms="ng",_s={provide:c.Z63,multi:!0,useValue:()=>{const s=(0,c.WQX)(ei);if(!/^[a-zA-Z0-9\-_]+$/.test(s))throw new c.buA(211,`APP_ID value "${s}" is not alphanumeric. The APP_ID must be a string of alphanumeric characters. (a-zA-Z0-9), hyphens (-) and underscores (_) are allowed.`)}},ee=new c.nKC(""),j=new c.nKC("",{providedIn:"platform",factory:()=>"unknown"}),he=new c.nKC("",{factory:()=>(0,c.WQX)(c.qQL).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Ce={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Be=new c.nKC("",{factory:()=>Ce});let at=(()=>{class s{static \u0275prov=(0,c.jDH)({token:s,providedIn:"root",factory:()=>{const m=new s;return m.store=function Tt(s,p){const m=s.getElementById(p+"-state");if(m?.textContent)try{return JSON.parse(m.textContent)}catch(b){console.warn("Exception while restoring TransferState for app "+p,b)}return{}}((0,c.WQX)(c.qQL),(0,c.WQX)(ei)),m}});store={};onSerializeCallbacks={};get(m,b){return void 0!==this.store[m]?this.store[m]:b}set(m,b){this.store[m]=b}remove(m){delete this.store[m]}hasKey(m){return this.store.hasOwnProperty(m)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(m,b){this.onSerializeCallbacks[m]=b}toJson(){for(const m in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(m))try{this.store[m]=this.onSerializeCallbacks[m]()}catch(b){console.warn("Exception in onSerialize callback: ",b)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return s})();const ns=new c.nKC("",{factory:()=>!1}),Jl=new c.nKC(""),xs={passive:!0,capture:!0},Na=new WeakMap,ur=new WeakMap,Ua=new WeakMap,Bs=["click","keydown"],dr=["mouseenter","mouseover","focusin"],pr=new Map;class hr{callbacks=new Set;listener=()=>{for(const p of this.callbacks)p()}}function Gr(s,p){let m=ur.get(s);if(!m){m=new hr,ur.set(s,m);for(const b of Bs)s.addEventListener(b,m.listener,xs)}return m.callbacks.add(p),()=>{const{callbacks:b,listener:T}=m;if(b.delete(p),0===b.size){ur.delete(s);for(const M of Bs)s.removeEventListener(M,T,xs)}}}function Ho(s,p){let m=Na.get(s);if(!m){m=new hr,Na.set(s,m);for(const b of dr)s.addEventListener(b,m.listener,xs)}return m.callbacks.add(p),()=>{const{callbacks:b,listener:T}=m;if(b.delete(p),0===b.size){for(const M of dr)s.removeEventListener(M,T,xs);Na.delete(s)}}}function as(s){return s?`${s.rootMargin}/${"number"==typeof s.threshold?s.threshold:s.threshold?.join("\n")}`:""}const un=new c.nKC("");function ha(s){return!(32&~s.flags)}function fh(s){let p=s._lView;return 2===p[c.eDl].type?null:((0,c.EFk)(p)&&(p=p[c.Yw1]),p)}function Hu(s){return s.get(Jl,!1,{optional:!0})}function qu(s,p){const m=s.contentQueries;if(null!==m){const b=(0,A.Ht)(null);try{for(let T=0;T<m.length;T+=2){const w=m[T+1];if(-1!==w){const R=s.data[w];(0,c.GA0)(m[T]),R.contentQueries(2,p[w],w)}}}finally{(0,A.Ht)(b)}}}function Zo(s,p,m){(0,c.GA0)(0);const b=(0,A.Ht)(null);try{p(s,m)}finally{(0,A.Ht)(b)}}function rc(s,p,m){if((0,c.srX)(p)){const b=(0,A.Ht)(null);try{const M=p.directiveEnd;for(let w=p.directiveStart;w<M;w++){const R=s.data[w];R.contentQueries&&R.contentQueries(1,m[w],w)}}finally{(0,A.Ht)(b)}}}var Ca=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s[s.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",s}(Ca||{});let $n,fr;function wn(){if(void 0===$n&&($n=null,c.laP.trustedTypes))try{$n=c.laP.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return $n}function bs(s){return wn()?.createHTML(s)||s}function Ps(){if(void 0===fr&&(fr=null,c.laP.trustedTypes))try{fr=c.laP.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return fr}function cc(s){return Ps()?.createHTML(s)||s}function nd(s){return Ps()?.createScript(s)||s}function vr(s){return Ps()?.createScriptURL(s)||s}class Mh{changingThisBreaksApplicationSecurity;constructor(p){this.changingThisBreaksApplicationSecurity=p}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${c.ok8})`}}function ka(s){return s instanceof Mh?s.changingThisBreaksApplicationSecurity:s}function al(s,p){const m=function sl(s){return s instanceof Mh&&s.getTypeName()||null}(s);if(null!=m&&m!==p){if("ResourceURL"===m&&"URL"===p)return!0;throw new Error(`Required a safe ${p}, got a ${m} (see ${c.ok8})`)}return m===p}function sd(s){const p=new Mt(s);return function ga(){try{return!!(new window.DOMParser).parseFromString(bs(""),"text/html")}catch{return!1}}()?new rd(p):p}class rd{inertDocumentHelper;constructor(p){this.inertDocumentHelper=p}getInertBodyElement(p){p="<body><remove></remove>"+p;try{const m=(new window.DOMParser).parseFromString(bs(p),"text/html").body;return null===m?this.inertDocumentHelper.getInertBodyElement(p):(m.firstChild?.remove(),m)}catch{return null}}}class Mt{defaultDoc;inertDocument;constructor(p){this.defaultDoc=p,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(p){const m=this.inertDocument.createElement("template");return m.innerHTML=bs(p),m}}const od=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function As(s){return(s=String(s)).match(od)?s:"unsafe:"+s}function aa(s){const p={};for(const m of s.split(","))p[m]=!0;return p}function Ns(...s){const p={};for(const m of s)for(const b in m)m.hasOwnProperty(b)&&(p[b]=!0);return p}const dc=aa("area,br,col,hr,img,wbr"),ol=aa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ll=aa("rp,rt"),ld=Ns(dc,Ns(ol,aa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ns(ll,aa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ns(ll,ol)),pc=aa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cl=Ns(pc,aa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),aa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Oh=aa("script,style,template");class hc{sanitizedSomething=!1;buf=[];sanitizeChildren(p){let m=p.firstChild,b=!0,T=[];for(;m;)if(m.nodeType===Node.ELEMENT_NODE?b=this.startElement(m):m.nodeType===Node.TEXT_NODE?this.chars(m.nodeValue):this.sanitizedSomething=!0,b&&m.firstChild)T.push(m),m=Lh(m);else for(;m;){m.nodeType===Node.ELEMENT_NODE&&this.endElement(m);let M=Rh(m);if(M){m=M;break}m=T.pop()}return this.buf.join("")}startElement(p){const m=cd(p).toLowerCase();if(!ld.hasOwnProperty(m))return this.sanitizedSomething=!0,!Oh.hasOwnProperty(m);this.buf.push("<"),this.buf.push(m);const b=p.attributes;for(let T=0;T<b.length;T++){const M=b.item(T),w=M.name,R=w.toLowerCase();if(!cl.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let B=M.value;pc[R]&&(B=As(B)),this.buf.push(" ",w,'="',mc(B),'"')}return this.buf.push(">"),!0}endElement(p){const m=cd(p).toLowerCase();ld.hasOwnProperty(m)&&!dc.hasOwnProperty(m)&&(this.buf.push("</"),this.buf.push(m),this.buf.push(">"))}chars(p){this.buf.push(mc(p))}}function Rh(s){const p=s.nextSibling;if(p&&s!==p.previousSibling)throw gc(p);return p}function Lh(s){const p=s.firstChild;if(p&&function Ih(s,p){return(s.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(s,p))throw gc(p);return p}function cd(s){const p=s.nodeName;return"string"==typeof p?p:"FORM"}function gc(s){return new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`)}const xh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ud=/([^\#-~ |!])/g;function mc(s){return s.replace(/&/g,"&amp;").replace(xh,function(p){return"&#"+(1024*(p.charCodeAt(0)-55296)+(p.charCodeAt(1)-56320)+65536)+";"}).replace(ud,function(p){return"&#"+p.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let io;function _c(s){return"content"in s&&function Fh(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}const yr=/^>|^->|<!--|-->|--!>|<!-$/g,dd=/(<|>)/g;function V(s,p){return s.createText(p)}function se(s,p,m){s.setValue(p,m)}function Se(s,p){return s.createComment(function x(s){return s.replace(yr,p=>p.replace(dd,"\u200b$1\u200b"))}(p))}function Re(s,p,m){return s.createElement(p,m)}function Je(s,p,m,b,T){s.insertBefore(p,m,b,T)}function yt(s,p,m){s.appendChild(p,m)}function Ti(s,p,m,b,T){null!==b?Je(s,p,m,b,T):yt(s,p,m)}function ti(s,p,m,b){s.removeChild(null,p,m,b)}function X_(s,p,m){const{mergedAttrs:b,classes:T,styles:M}=m;null!==b&&function Qi(s,p,m){let b=0;for(;b<m.length;){const T=m[b];if("number"==typeof T){if(0!==T)break;b++;const M=m[b++],w=m[b++],R=m[b++];s.setAttribute(p,w,R,M)}else{const M=T,w=m[++b];wi(M)?s.setProperty(p,M,w):s.setAttribute(p,M,w),b++}}}(s,p,b),null!==T&&function FP(s,p,m){""===m?s.removeAttribute(p,"class"):s.setAttribute(p,"class",m)}(s,p,T),null!==M&&function Us(s,p,m){s.setAttribute(p,"style",m)}(s,p,M)}var Ga=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(Ga||{});function Uh(s){const p=fc();return p?p.sanitize(Ga.URL,s)||"":al(s,"URL")?ka(s):As((0,c.eFE)(s))}function J_(s){const p=fc();if(p)return vr(p.sanitize(Ga.RESOURCE_URL,s)||"");if(al(s,"ResourceURL"))return vr(ka(s));throw new c.buA(904,!1)}const GP=new Set(["embed","frame","iframe","media","script"]),HP=new Set(["base","link","script"]);function fc(){const s=(0,c.OAn)();return s&&s[c.M0L].sanitizer}const hd=new Set(["attributename"]),zP={iframe:new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]),animate:hd,set:hd,animatemotion:hd,animatetransform:hd};function Q_(s){return s.ownerDocument.defaultView}function q_(s){return s.ownerDocument}function Es(s){return s instanceof Function?s():s}function eA(s){if(tf(s),!(0,c.xUg)(s).standalone)throw new c.buA(907,`The ${(0,c.PP7)(s)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${(0,c.PP7)(s)} component does not have the \`standalone: false\` flag in the decorator.`)}function tf(s){if(!(0,c.xUg)(s))throw new c.buA(906,`The ${(0,c.PP7)(s)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}function vc(s,p,m){let b=s.length;for(;;){const T=s.indexOf(p,m);if(-1===T)return T;if(0===T||s.charCodeAt(T-1)<=32){const M=p.length;if(T+M===b||s.charCodeAt(T+M)<=32)return T}m=T+1}}const yc="ng-template";function Kh(s,p,m,b){let T=0;if(b){for(;T<p.length&&"string"==typeof p[T];T+=2)if("class"===p[T]&&-1!==vc(p[T+1].toLowerCase(),m,0))return!0}else if(bc(s))return!1;if(T=p.indexOf(1,T),T>-1){let M;for(;++T<p.length&&"string"==typeof(M=p[T]);)if(M.toLowerCase()===m)return!0}return!1}function bc(s){return 4===s.type&&s.value!==yc}function $h(s,p,m){return p===(4!==s.type||m?s.value:yc)}function af(s,p,m){let b=4;const T=s.attrs,M=null!==T?function no(s){for(let p=0;p<s.length;p++)if(Vi(s[p]))return p;return s.length}(T):0;let w=!1;for(let R=0;R<p.length;R++){const B=p[R];if("number"!=typeof B){if(!w)if(4&b){if(b=2|1&b,""!==B&&!$h(s,B,m)||""===B&&1===p.length){if(ss(b))return!1;w=!0}}else if(8&b){if(null===T||!Kh(s,T,B,m)){if(ss(b))return!1;w=!0}}else{const G=p[++R],J=Ws(B,T,bc(s),m);if(-1===J){if(ss(b))return!1;w=!0;continue}if(""!==G){let le;if(le=J>M?"":T[J+1].toLowerCase(),2&b&&G!==le){if(ss(b))return!1;w=!0}}}}else{if(!w&&!ss(b)&&!ss(B))return!1;if(w&&ss(B))continue;w=!1,b=B|1&b}}return ss(b)||w}function ss(s){return!(1&s)}function Ws(s,p,m,b){if(null===p)return-1;let T=0;if(b||!m){let M=!1;for(;T<p.length;){const w=p[T];if(w===s)return T;if(3===w||6===w)M=!0;else{if(1===w||2===w){let R=p[++T];for(;"string"==typeof R;)R=p[++T];continue}if(4===w)break;if(0===w){T+=4;continue}}T+=M?1:2}return-1}return function nA(s,p){let m=s.indexOf(4);if(m>-1)for(m++;m<s.length;){const b=s[m];if("number"==typeof b)return-1;if(b===p)return m;m++}return-1}(p,s)}function Pc(s,p,m=!1){for(let b=0;b<p.length;b++)if(af(s,p[b],m))return!0;return!1}function aA(s,p){e:for(let m=0;m<p.length;m++){const b=p[m];if(s.length===b.length){for(let T=0;T<s.length;T++)if(s[T]!==b[T])continue e;return!0}}return!1}function sf(s,p){return s?":not("+p.trim()+")":p}function Gh(s){let p=s[0],m=1,b=2,T="",M=!1;for(;m<s.length;){let w=s[m];if("string"==typeof w)if(2&b){const R=s[++m];T+="["+w+(R.length>0?'="'+R+'"':"")+"]"}else 8&b?T+="."+w:4&b&&(T+=" "+w);else""!==T&&!ss(w)&&(p+=sf(M,T),T=""),b=w,M=M||!ss(b);m++}return""!==T&&(p+=sf(M,T)),p}const Ai={};function Hh(s,p,m,b,T,M,w,R,B,G,J){const le=c.Yw1+b,ye=le+T,Pe=function oA(s,p){const m=[];for(let b=0;b<p;b++)m.push(b<s?null:Ai);return m}(le,ye),Oe="function"==typeof G?G():G;return Pe[c.eDl]={type:s,blueprint:Pe,template:m,queries:null,viewQuery:R,declTNode:p,data:Pe.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:ye,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof M?M():M,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:B,consts:Oe,incompleteFirstPass:!1,ssrId:J}}function rf(s){const p=s.tView;return null===p||p.incompleteFirstPass?s.tView=Hh(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):p}function gd(s,p,m,b,T,M,w,R,B,G,J){const le=p.blueprint.slice();return le[c.jgP]=T,le[c.Wg1]=1228|b,(null!==G||s&&2048&s[c.Wg1])&&(le[c.Wg1]|=2048),(0,c.HUe)(le),le[c.f7T]=le[c.X5O]=s,le[c.SKP]=m,le[c.M0L]=w||s&&s[c.M0L],le[c.GpT]=R||s&&s[c.GpT],le[c.YEL]=B||s&&s[c.YEL]||null,le[c.qlT]=M,le[c.ID]=function Un(){return Ta++}(),le[c.tcA]=J,le[c.oMQ]=G,le[c.b5C]=2==p.type?s[c.b5C]:le,le}function jh(s){let p=16;return s.signals?p=4096:s.onPush&&(p=64),p}function Ac(s,p,m,b){if(0===m)return-1;const T=p.length;for(let M=0;M<m;M++)p.push(b),s.blueprint.push(b),s.data.push(null);return T}function Vh(s,p){return s[c.EJG]?s[c.Yrj][c.K29]=p:s[c.EJG]=p,s[c.Yrj]=p,p}function lf(s=1){cf((0,c.klJ)(),(0,c.OAn)(),(0,c._px)()+s,!1)}function cf(s,p,m,b){if(!b)if(3&~p[c.Wg1]){const M=s.preOrderHooks;null!==M&&$t(p,M,0,m)}else{const M=s.preOrderCheckHooks;null!==M&&it(p,M,m)}(0,c.ypq)(m)}var md=function(s){return s[s.None=0]="None",s[s.SignalBased=1]="SignalBased",s[s.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",s}(md||{});function ao(s,p,m,b){const T=(0,A.Ht)(null);try{const[M,w,R]=s.inputs[m];let B=null;0!==(w&md.SignalBased)&&(B=p[M][A.bh]),null!==B&&void 0!==B.transformFn?b=B.transformFn(b):null!==R&&(b=R.call(p,b)),null!==s.setInput?s.setInput(p,B,b,m,M):Ne(p,B,M,b)}finally{(0,A.Ht)(T)}}var _d=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(_d||{});let zh;function Yh(s,p){return zh(s,p)}function fd(s){if(!s)return 0;const p=s.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(s)*p}function dl(s,p){return s.getPropertyValue(p).split(",").map(b=>b.trim())}function uf(s,p){return void 0!==s&&s.duration>p.duration}function Xh(s){return(null!=s.animationName||null!=s.propertyName)&&s.duration>0}function pf(s,p,m){if(!m)return;const b=s.getAnimations();return 0===b.length?function df(s,p){const m=getComputedStyle(s),b=function dA(s){const p=dl(s,"animation-name"),m=dl(s,"animation-delay"),b=dl(s,"animation-duration"),T={animationName:"",propertyName:void 0,duration:0};for(let M=0;M<p.length;M++){const w=fd(m[M])+fd(b[M]);w>T.duration&&(T.animationName=p[M],T.duration=w)}return T}(m),T=function uA(s){const p=dl(s,"transition-property"),m=dl(s,"transition-duration"),b=dl(s,"transition-delay"),T={propertyName:"",duration:0,animationName:void 0};for(let M=0;M<p.length;M++){const w=fd(b[M])+fd(m[M]);w>T.duration&&(T.propertyName=p[M],T.duration=w)}return T}(m),M=b.duration>T.duration?b:T;uf(p.get(s),M)||Xh(M)&&p.set(s,M)}(s,p):function vd(s,p,m){let b={animationName:void 0,propertyName:void 0,duration:0};for(const T of m){const M=T.effect?.getTiming(),w="number"==typeof M?.duration?M.duration:0;let B,G,R=(M?.delay??0)+w;T.animationName?G=T.animationName:B=T.transitionProperty,R>=b.duration&&(b={animationName:G,propertyName:B,duration:R})}uf(p.get(s),b)||Xh(b)&&p.set(s,b)}(s,p,b)}const Ks=new Set;var Jh=function(s){return s[s.CHANGE_DETECTION=0]="CHANGE_DETECTION",s[s.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",s}(Jh||{});const Ec=new c.nKC(""),hf=new Set;function Gn(s){hf.has(s)||(hf.add(s),performance?.mark?.("mark_feature_usage",{detail:{feature:s}}))}let gf=(()=>{class s{impl=null;execute(){this.impl?.execute()}static \u0275prov=(0,c.jDH)({token:s,providedIn:"root",factory:()=>new s})}return s})();const Sc=[0,1,2,3];let pA=(()=>{class s{ngZone=(0,c.WQX)(c.SKi);scheduler=(0,c.WQX)(c.hk6);errorHandler=(0,c.WQX)(c.zcH,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){(0,c.WQX)(Ec,{optional:!0})}execute(){const m=this.sequences.size>0;m&&rt(He.AfterRenderHooksStart),this.executing=!0;for(const b of Sc)for(const T of this.sequences)if(!T.erroredOrDestroyed&&T.hooks[b])try{T.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,T.hooks[b])(T.pipelinedValue),T.snapshot))}catch(M){T.erroredOrDestroyed=!0,this.errorHandler?.handleError(M)}this.executing=!1;for(const b of this.sequences)b.afterRun(),b.once&&(this.sequences.delete(b),b.destroy());for(const b of this.deferredRegistrations)this.sequences.add(b);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),m&&rt(He.AfterRenderHooksEnd)}register(m){const{view:b}=m;void 0!==b?((b[c.JEi]??=[]).push(m),(0,c.blu)(b),b[c.Wg1]|=8192):this.executing?this.deferredRegistrations.add(m):this.addSequence(m)}addSequence(m){this.sequences.add(m),this.scheduler.notify(7)}unregister(m){this.executing&&this.sequences.has(m)?(m.erroredOrDestroyed=!0,m.pipelinedValue=void 0,m.once=!0):(this.sequences.delete(m),this.deferredRegistrations.delete(m))}maybeTrace(m,b){return b?b.run(Jh.AFTER_NEXT_RENDER,m):m()}static \u0275prov=(0,c.jDH)({token:s,providedIn:"root",factory:()=>new s})}return s})();class mf{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(p,m,b,T,M,w=null){this.impl=p,this.hooks=m,this.view=b,this.once=T,this.snapshot=w,this.unregisterOnDestroy=M?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const p=this.view?.[c.JEi];p&&(this.view[c.JEi]=p.filter(m=>m!==this))}}function Qh(s,p){const m=p?.injector??(0,c.WQX)(c.zZn);return Gn("NgAfterNextRender"),_f(s,m,p,!0)}function _f(s,p,m,b){const T=p.get(gf);T.impl??=p.get(pA);const M=p.get(Ec,null,{optional:!0}),w=!0!==m?.manualCleanup?p.get(c.abz):null,R=p.get(c.r4V,null,{optional:!0}),B=new mf(T.impl,function gA(s){return s instanceof Function?[void 0,void 0,s,void 0]:[s.earlyRead,s.write,s.mixedReadWrite,s.read]}(s),R?.view,b,w,M?.snapshot(null));return T.impl.register(B),B}const yd=new c.nKC("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:(0,c.WQX)(c.uvJ)})});function qh(s,p,m){const b=s.get(yd);if(Array.isArray(p))for(const T of p)b.queue.add(T),m?.detachedLeaveAnimationFns?.push(T);else b.queue.add(p),m?.detachedLeaveAnimationFns?.push(p);b.scheduler&&b.scheduler(s)}function ff(s){const p=s.get(yd);p.isScheduled||(Qh(()=>{p.isScheduled=!1;for(let m of p.queue)m();p.queue.clear()},{injector:p.injector}),p.isScheduled=!0)}function Pd(s){const p=s.get(yd);p.scheduler=ff,p.scheduler(s)}function Zh(s,p){for(const[m,b]of p)qh(s,b.animateFns)}function vf(s,p,m,b){const T=s?.[c.Isx]?.enter;null!==p&&T&&T.has(m.index)&&Zh(b,T)}function pl(s,p,m,b,T,M,w,R){if(null!=T){let B,G=!1;(0,c.A0l)(T)?B=T:(0,c.q$2)(T)&&(G=!0,T=T[c.jgP]);const J=(0,c.IvY)(T);0===s&&null!==b?(vf(R,b,M,m),null==w?yt(p,b,J):Je(p,b,J,w||null,!0)):1===s&&null!==b?(vf(R,b,M,m),Je(p,b,J,w||null,!0)):2===s?Pf(R,M,m,le=>{ti(p,J,G,le)}):3===s&&Pf(R,M,m,()=>{p.destroyNode(J)}),null!=B&&function Mf(s,p,m,b,T,M,w){const R=b[c.s6P];R!==(0,c.IvY)(b)&&pl(p,s,m,M,R,T,w);for(let G=c.Y20;G<b.length;G++){const J=b[G];Td(J[c.eDl],J,s,p,M,R)}}(p,s,m,B,M,b,w)}}function yf(s,p){bf(s,p),p[c.jgP]=null,p[c.qlT]=null}function bf(s,p){p[c.M0L].changeDetectionScheduler?.notify(9),Td(s,p,p[c.GpT],2,null,null)}function eg(s,p){const m=s[c.nfM],b=m.indexOf(p);m.splice(b,1)}function Tc(s,p){if((0,c.EPY)(p))return;const m=p[c.GpT];m.destroyNode&&Td(s,p,m,3,null,null),function _A(s){let p=s[c.EJG];if(!p)return tg(s[c.eDl],s);for(;p;){let m=null;if((0,c.q$2)(p))m=p[c.EJG];else{const b=p[c.Y20];b&&(m=b)}if(!m){for(;p&&!p[c.K29]&&p!==s;)(0,c.q$2)(p)&&tg(p[c.eDl],p),p=p[c.f7T];null===p&&(p=s),(0,c.q$2)(p)&&tg(p[c.eDl],p),m=p&&p[c.K29]}p=m}}(p)}function tg(s,p){if((0,c.EPY)(p))return;const m=(0,A.Ht)(null);try{p[c.Wg1]&=-129,p[c.Wg1]|=256,p[c.Iaj]&&(0,A.XR)(p[c.Iaj]),function yA(s,p){let m;if(null!=s&&null!=(m=s.destroyHooks))for(let b=0;b<m.length;b+=2){const T=p[m[b]];if(!(T instanceof ot)){const M=m[b+1];if(Array.isArray(M))for(let w=0;w<M.length;w+=2){const R=T[M[w]],B=M[w+1];rt(He.LifecycleHookStart,R,B);try{B.call(R)}finally{rt(He.LifecycleHookEnd,R,B)}}else{rt(He.LifecycleHookStart,T,M);try{M.call(T)}finally{rt(He.LifecycleHookEnd,T,M)}}}}}(s,p),function vA(s,p){const m=s.cleanup,b=p[c.VVG];if(null!==m)for(let w=0;w<m.length-1;w+=2)if("string"==typeof m[w]){const R=m[w+3];R>=0?b[R]():b[-R].unsubscribe(),w+=2}else m[w].call(b[m[w+1]]);null!==b&&(p[c.VVG]=null);const T=p[c.Czx];if(null!==T){p[c.Czx]=null;for(let w=0;w<T.length;w++)(0,T[w])()}const M=p[c.tQN];if(null!==M){p[c.tQN]=null;for(const w of M)w.destroy()}}(s,p),1===p[c.eDl].type&&p[c.GpT].destroy();const b=p[c.rQE];if(null!==b&&(0,c.A0l)(p[c.f7T])){b!==p[c.f7T]&&eg(b,p);const T=p[c.Ds7];null!==T&&T.detachView(s)}Y(p)}finally{(0,A.Ht)(m)}}function Pf(s,p,m,b){const T=s?.[c.Isx];if(null==T||null==T.leave||!T.leave.has(p.index))return b(!1);s&&Ks.add(s[c.ID]),qh(m,()=>{if(T.leave&&T.leave.has(p.index)){const w=T.leave.get(p.index),R=[];if(w){for(let B=0;B<w.animateFns.length;B++){const G=w.animateFns[B],{promise:J}=G();R.push(J)}T.detachedLeaveAnimationFns=void 0}T.running=Promise.allSettled(R),function fA(s,p){const m=s[c.Isx]?.running;m?m.then(()=>{s[c.Isx].running=void 0,Ks.delete(s[c.ID]),p(!0)}):p(!1)}(s,b)}else s&&Ks.delete(s[c.ID]),b(!1)},T)}function ig(s,p,m){return Af(s,p.parent,m)}function Af(s,p,m){let b=p;for(;null!==b&&168&b.type;)b=(p=b).parent;if(null===b)return m[c.jgP];if((0,c.Qs1)(b)){const{encapsulation:T}=s.data[b.directiveStart+b.componentOffset];if(T===Ca.None||T===Ca.Emulated)return null}return(0,c.d31)(b,m)}function Ef(s,p,m){return Ad(s,p,m)}function ng(s,p,m){return 40&s.type?(0,c.d31)(s,m):null}let ag,Ad=ng;function Sf(s,p){Ad=s,ag=p}function Ed(s,p,m,b){const T=ig(s,b,p),M=p[c.GpT],R=Ef(b.parent||p[c.qlT],b,p);if(null!=T)if(Array.isArray(m))for(let B=0;B<m.length;B++)Ti(M,T,m[B],R,!1);else Ti(M,T,m,R,!1);void 0!==ag&&ag(M,b,p,m,T)}function so(s,p){if(null!==p){const m=p.type;if(3&m)return(0,c.d31)(p,s);if(4&m)return Sd(-1,s[p.index]);if(8&m){const b=p.child;if(null!==b)return so(s,b);{const T=s[p.index];return(0,c.A0l)(T)?Sd(-1,T):(0,c.IvY)(T)}}if(128&m)return so(s,p.next);if(32&m)return Yh(p,s)()||(0,c.IvY)(s[p.index]);{const b=Tf(s,p);return null!==b?Array.isArray(b)?b[0]:so((0,c._0$)(s[c.b5C]),b):so(s,p.next)}}return null}function Tf(s,p){return null!==p?s[c.b5C][c.qlT].projection[p.projection]:null}function Sd(s,p){const m=c.Y20+s+1;if(m<p.length){const b=p[m],T=b[c.eDl].firstChild;if(null!==T)return so(b,T)}return p[c.s6P]}function sg(s,p,m,b,T,M,w){for(;null!=m;){const R=b[c.YEL];if(128===m.type){m=m.next;continue}const B=b[m.index],G=m.type;if(w&&0===p&&(B&&lt((0,c.IvY)(B),b),m.flags|=2),!ha(m))if(8&G)sg(s,p,m.child,b,T,M,!1),pl(p,s,R,T,B,m,M,b);else if(32&G){const J=Yh(m,b);let le;for(;le=J();)pl(p,s,R,T,le,m,M,b);pl(p,s,R,T,B,m,M,b)}else 16&G?br(s,p,b,m,T,M):pl(p,s,R,T,B,m,M,b);m=w?m.projectionNext:m.next}}function Td(s,p,m,b,T,M){sg(m,b,s.firstChild,p,T,M,!1)}function br(s,p,m,b,T,M){const w=m[c.b5C],B=w[c.qlT].projection[b.projection];if(Array.isArray(B))for(let G=0;G<B.length;G++)pl(p,s,m[c.YEL],T,B[G],b,M,m);else{let G=B;const J=w[c.f7T];tn(b)&&(G.flags|=128),sg(s,p,G,J,T,M,!0)}}function Cf(s,p,m,b,T){const M=(0,c._px)(),w=2&b;try{(0,c.ypq)(-1),w&&p.length>c.Yw1&&cf(s,p,c.Yw1,!1),rt(w?He.TemplateUpdateStart:He.TemplateCreateStart,T,m),m(b,T)}finally{(0,c.ypq)(M),rt(w?He.TemplateUpdateEnd:He.TemplateCreateEnd,T,m)}}function Dc(s,p,m){(function EA(s,p,m){const b=m.directiveStart,T=m.directiveEnd;(0,c.Qs1)(m)&&function lA(s,p,m){const b=(0,c.d31)(p,s),T=rf(m),M=s[c.M0L].rendererFactory,w=Vh(s,gd(s,T,null,jh(m),b,p,null,M.createRenderer(b,m),null,null,null));s[p.index]=w}(p,m,s.data[b+m.componentOffset]),s.firstCreatePass||Ii(m,p);const M=m.initialInputs;for(let w=b;w<T;w++){const R=s.data[w],B=rn(p,s,w,m);lt(B,p),null!==M&&MA(0,w-b,B,R,0,M),(0,c.JlV)(R)&&((0,c.KdJ)(m.index,p)[c.SKP]=rn(p,s,w,m))}})(s,p,m),!(64&~m.flags)&&function SA(s,p,m){const b=m.directiveStart,T=m.directiveEnd,M=m.index,w=(0,c.Z9v)();try{(0,c.ypq)(M);for(let R=b;R<T;R++){const B=s.data[R],G=p[R];(0,c.RZ9)(R),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&TA(B,G)}}finally{(0,c.ypq)(-1),(0,c.RZ9)(w)}}(s,p,m)}function ro(s,p,m=c.d31){const b=p.localNames;if(null!==b){let T=p.index+1;for(let M=0;M<b.length;M+=2){const w=b[M+1],R=-1===w?m(p,s):s[w];s[T++]=R}}}let rg=()=>null;function Mc(s,p,m,b,T,M){Od(s,p[c.eDl],p,m,b)?(0,c.Qs1)(s)&&kf(p,s.index):(3&s.type&&(m=function og(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(m)),Md(s,p,m,b,T,M))}function Md(s,p,m,b,T,M){if(3&s.type){const w=(0,c.d31)(s,p);b=null!=M?M(b,s.value||"",m):b,T.setProperty(w,m,b)}}function kf(s,p){const m=(0,c.KdJ)(p,s);16&m[c.Wg1]||(m[c.Wg1]|=64)}function TA(s,p){null!==s.hostBindings&&s.hostBindings(1,p)}function Cd(s,p){const m=s.directiveRegistry;let b=null;if(m)for(let T=0;T<m.length;T++){const M=m[T];Pc(p,M.selectors,!1)&&(b??=[],(0,c.JlV)(M)?b.unshift(M):b.push(M))}return b}function kd(s,p,m,b,T,M,w){if(null==M)s.removeAttribute(p,T,m);else{const R=null==w?(0,c.eFE)(M):w(M,b||"",T);s.setAttribute(p,T,R,m)}}function MA(s,p,m,b,T,M){const w=M[p];if(null!==w)for(let R=0;R<w.length;R+=2)ao(b,m,w[R],w[R+1])}function wd(s,p,m,b,T){const M=c.Yw1+m,w=p[c.eDl],R=T(w,p,s,b,m);p[M]=R,(0,c.iMd)(s,!0);const B=2===s.type;return B?(X_(p[c.GpT],R,s),(0===(0,c.znI)()||(0,c.yoD)(s))&&lt(R,p),(0,c.Fje)()):lt(R,p),(0,c.SX7)()&&(!B||!ha(s))&&Ed(w,p,R,s),s}function Cc(s){let p=s;return(0,c.YWB)()?(0,c.Pfq)():(p=p.parent,(0,c.iMd)(p,!1)),p}function Of(s,p,m){return(null===s||(0,c.JlV)(s))&&(m=(0,c.zAe)(m[p.index])),m[c.GpT]}function lg(s,p){const m=s[c.YEL];if(!m)return;let b;try{b=m.get(c.ZTf,null)}catch{b=null}b?.(p)}function Od(s,p,m,b,T){const M=s.inputs?.[b],w=s.hostDirectiveInputs?.[b];let R=!1;if(w)for(let B=0;B<w.length;B+=2){const G=w[B];ao(p.data[G],m[G],w[B+1],T),R=!0}if(M)for(const B of M)ao(p.data[B],m[B],b,T),R=!0;return R}function cg(s,p){const m=(0,c.KdJ)(p,s),b=m[c.eDl];!function kA(s,p){for(let m=p.length;m<s.blueprint.length;m++)p.push(s.blueprint[m])}(b,m);const T=m[c.jgP];null!==T&&null===m[c.tcA]&&(m[c.tcA]=null),rt(He.ComponentStart);try{Id(b,m,m[c.SKP])}finally{rt(He.ComponentEnd,m[c.SKP])}}function Id(s,p,m){(0,c.ID8)(p);try{const b=s.viewQuery;null!==b&&Zo(1,b,m);const T=s.template;null!==T&&Cf(s,p,T,1,m),s.firstCreatePass&&(s.firstCreatePass=!1),p[c.Ds7]?.finishViewCreation(s),s.staticContentQueries&&qu(s,p),s.staticViewQueries&&Zo(2,s.viewQuery,m);const M=s.components;null!==M&&function wA(s,p){for(let m=0;m<p.length;m++)cg(s,p[m])}(p,M)}catch(b){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),b}finally{p[c.Wg1]&=-5,(0,c.bll)()}}function Pr(s,p,m,b){const T=(0,A.Ht)(null);try{const M=p.tView,B=gd(s,M,m,4096&s[c.Wg1]?4096:16,null,p,null,null,b?.injector??null,b?.embeddedViewInjector??null,b?.dehydratedView??null);B[c.rQE]=s[p.index];const J=s[c.Ds7];return null!==J&&(B[c.Ds7]=J.createEmbeddedView(M)),Id(M,B,m),B}finally{(0,A.Ht)(T)}}function oo(s,p){return!p||null===p.firstChild||tn(s)}function kc(s,p,m,b,T=!1){for(;null!==m;){if(128===m.type){m=T?m.projectionNext:m.next;continue}const M=p[m.index];null!==M&&b.push((0,c.IvY)(M)),(0,c.A0l)(M)&&OA(M,b);const w=m.type;if(8&w)kc(s,p,m.child,b);else if(32&w){const R=Yh(m,p);let B;for(;B=R();)b.push(B)}else if(16&w){const R=Tf(p,m);if(Array.isArray(R))b.push(...R);else{const B=(0,c._0$)(p[c.b5C]);kc(B[c.eDl],B,R,b,!0)}}m=T?m.projectionNext:m.next}return b}function OA(s,p){for(let m=c.Y20;m<s.length;m++){const b=s[m],T=b[c.eDl].firstChild;null!==T&&kc(b[c.eDl],b,T,p)}s[c.s6P]!==s[c.jgP]&&p.push(s[c.s6P])}function Rf(s){if(null!==s[c.JEi]){for(const p of s[c.JEi])p.impl.addSequence(p);s[c.JEi].length=0}}let Lf=[];const xA={...A.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:s=>{(0,c.blu)(s.lView)},consumerOnSignalRead(){this.lView[c.Iaj]=this}},xf={...A.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:s=>{let p=(0,c._0$)(s.lView);for(;p&&!ug(p[c.eDl]);)p=(0,c._0$)(p);p&&(0,c.HAh)(p)},consumerOnSignalRead(){this.lView[c.Iaj]=this}};function ug(s){return 2!==s.type}function Bf(s){if(null===s[c.tQN])return;let p=!0;for(;p;){let m=!1;for(const b of s[c.tQN])b.dirty&&(m=!0,null===b.zone||Zone.current===b.zone?b.run():b.zone.run(()=>b.run()));p=m&&!!(8192&s[c.Wg1])}}function Rd(s,p=0){const b=s[c.M0L].rendererFactory;b.begin?.();try{!function UA(s,p){const m=(0,c.yP_)();try{(0,c.cBl)(!0),dg(s,p);let b=0;for(;(0,c.dMS)(s);){if(100===b)throw new c.buA(103,!1);b++,dg(s,1)}}finally{(0,c.cBl)(m)}}(s,p)}finally{b.end?.()}}function Nf(s,p,m,b){if((0,c.EPY)(p))return;const T=p[c.Wg1];(0,c.ID8)(p);let R=!0,B=null,G=null;ug(s)?(G=function IA(s){return s[c.Iaj]??function RA(s){const p=Lf.pop()??Object.create(xA);return p.lView=s,p}(s)}(p),B=(0,A.Bg)(G)):null===(0,A.nR)()?(R=!1,G=function BA(s){const p=s[c.Iaj]??Object.create(xf);return p.lView=s,p}(p),B=(0,A.Bg)(G)):p[c.Iaj]&&((0,A.XR)(p[c.Iaj]),p[c.Iaj]=null);try{(0,c.HUe)(p),(0,c.Kw3)(s.bindingStartIndex),null!==m&&Cf(s,p,m,2,b);const J=!(3&~T);if(J){const Pe=s.preOrderCheckHooks;null!==Pe&&it(p,Pe,null)}else{const Pe=s.preOrderHooks;null!==Pe&&$t(p,Pe,0,null),Et(p,0)}if(function wc(s){for(let p=Cn(s);null!==p;p=Za(p)){if(!(2&p[c.Wg1]))continue;const m=p[c.nfM];for(let b=0;b<m.length;b++)(0,c.HAh)(m[b])}}(p),Bf(p),Uf(p,0),null!==s.contentQueries&&qu(s,p),J){const Pe=s.contentCheckHooks;null!==Pe&&it(p,Pe)}else{const Pe=s.contentHooks;null!==Pe&&$t(p,Pe,1),Et(p,1)}!function KA(s,p){const m=s.hostBindingOpCodes;if(null!==m)try{for(let b=0;b<m.length;b++){const T=m[b];if(T<0)(0,c.ypq)(~T);else{const M=T,w=m[++b],R=m[++b];(0,c.vQI)(w,M);const B=p[M];rt(He.HostBindingsUpdateStart,B);try{R(2,B)}finally{rt(He.HostBindingsUpdateEnd,B)}}}}finally{(0,c.ypq)(-1)}}(s,p);const le=s.components;null!==le&&Wf(p,le,0);const ye=s.viewQuery;if(null!==ye&&Zo(2,ye,b),J){const Pe=s.viewCheckHooks;null!==Pe&&it(p,Pe)}else{const Pe=s.viewHooks;null!==Pe&&$t(p,Pe,2),Et(p,2)}if(!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p[c.pcR]){for(const Pe of p[c.pcR])Pe();p[c.pcR]=null}Rf(p),p[c.Wg1]&=-73}catch(J){throw(0,c.blu)(p),J}finally{null!==G&&((0,A.Wu)(G,B),R&&function LA(s){s.lView[c.Iaj]!==s&&(s.lView=null,Lf.push(s))}(G)),(0,c.bll)()}}function Uf(s,p){for(let m=Cn(s);null!==m;m=Za(m))for(let b=c.Y20;b<m.length;b++)Ld(m[b],p)}function WA(s,p,m){rt(He.ComponentStart);const b=(0,c.KdJ)(p,s);try{Ld(b,m)}finally{rt(He.ComponentEnd,b[c.SKP])}}function Ld(s,p){(0,c.F1c)(s)&&dg(s,p)}function dg(s,p){const b=s[c.eDl],T=s[c.Wg1],M=s[c.Iaj];let w=!!(0===p&&16&T);if(w||=!!(64&T&&0===p),w||=!!(1024&T),w||=!(!M?.dirty||!(0,A.si)(M)),w||=!1,M&&(M.dirty=!1),s[c.Wg1]&=-9217,w)Nf(b,s,b.template,s[c.SKP]);else if(8192&T){const R=(0,A.Ht)(null);try{Bf(s),Uf(s,1);const B=b.components;null!==B&&Wf(s,B,1),Rf(s)}finally{(0,A.Ht)(R)}}}function Wf(s,p,m){for(let b=0;b<p.length;b++)WA(s,p[b],m)}function hl(s,p){const m=(0,c.yP_)()?64:1088;for(s[c.M0L].changeDetectionScheduler?.notify(p);s;){s[c.Wg1]|=m;const b=(0,c._0$)(s);if((0,c.EFk)(s)&&!b)return s;s=b}return null}function Kf(s,p,m,b){return[s,!0,0,p,null,b,null,m,null,null]}function pg(s,p){const m=c.Y20+p;if(m<s.length)return s[m]}function gl(s,p,m,b=!0){const T=p[c.eDl];if(function $A(s,p,m,b){const T=c.Y20+b,M=m.length;b>0&&(m[T-1][c.K29]=p),b<M-c.Y20?(p[c.K29]=m[T],(0,c.EYC)(m,c.Y20+b,p)):(m.push(p),p[c.K29]=null),p[c.f7T]=m;const w=p[c.rQE];null!==w&&m!==w&&$f(w,p);const R=p[c.Ds7];null!==R&&R.insertView(s),(0,c._gW)(p),p[c.Wg1]|=128}(T,p,s,m),b){const w=Sd(m,s),R=p[c.GpT],B=R.parentNode(s[c.s6P]);null!==B&&function mA(s,p,m,b,T,M){b[c.jgP]=T,b[c.qlT]=p,Td(s,b,m,1,T,M)}(T,s[c.qlT],R,p,B,w)}const M=p[c.tcA];null!==M&&null!==M.firstChild&&(M.firstChild=null)}function hg(s,p){const m=Oc(s,p);return void 0!==m&&Tc(m[c.eDl],m),m}function Oc(s,p){if(s.length<=c.Y20)return;const m=c.Y20+p,b=s[m];if(b){const T=b[c.rQE];null!==T&&T!==s&&eg(T,b),p>0&&(s[m-1][c.K29]=b[c.K29]);const M=(0,c.E6O)(s,c.Y20+p);yf(b[c.eDl],b);const w=M[c.Ds7];null!==w&&w.detachView(M[c.eDl]),b[c.f7T]=null,b[c.K29]=null,b[c.Wg1]&=-129}return b}function $f(s,p){const m=s[c.nfM],b=p[c.f7T];((0,c.q$2)(b)||p[c.b5C]!==b[c.f7T][c.b5C])&&(s[c.Wg1]|=2),null===m?s[c.nfM]=[p]:m.push(p)}class xd{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const p=this._lView,m=p[c.eDl];return kc(m,p,m.firstChild,[])}constructor(p,m){this._lView=p,this._cdRefInjectingView=m}get context(){return this._lView[c.SKP]}set context(p){this._lView[c.SKP]=p}get destroyed(){return(0,c.EPY)(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const p=this._lView[c.f7T];if((0,c.A0l)(p)){const m=p[c.bm_],b=m?m.indexOf(this):-1;b>-1&&(Oc(p,b),(0,c.E6O)(m,b))}this._attachedToViewContainer=!1}Tc(this._lView[c.eDl],this._lView)}onDestroy(p){(0,c.ik5)(this._lView,p)}markForCheck(){hl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[c.Wg1]&=-129}reattach(){(0,c._gW)(this._lView),this._lView[c.Wg1]|=128}detectChanges(){this._lView[c.Wg1]|=1024,Rd(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new c.buA(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const p=(0,c.EFk)(this._lView),m=this._lView[c.rQE];null!==m&&!p&&eg(m,this._lView),bf(this._lView[c.eDl],this._lView)}attachToAppRef(p){if(this._attachedToViewContainer)throw new c.buA(902,!1);this._appRef=p;const m=(0,c.EFk)(this._lView),b=this._lView[c.rQE];null!==b&&!m&&$f(b,this._lView),(0,c._gW)(this._lView)}}let Ic=(()=>class s{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=GA;constructor(m,b,T){this._declarationLView=m,this._declarationTContainer=b,this.elementRef=T}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(m,b){return this.createEmbeddedViewImpl(m,b)}createEmbeddedViewImpl(m,b,T){const M=Pr(this._declarationLView,this._declarationTContainer,m,{embeddedViewInjector:b,dehydratedView:T});return new xd(M)}})();function GA(){return Bd((0,c.Mx4)(),(0,c.OAn)())}function Bd(s,p){return 4&s.type?new Ic(p,s,Ci(s,p)):null}function jf(s,p,m){const b=p.insertBeforeIndex,T=Array.isArray(b)?b[0]:b;return null===T?ng(s,0,m):(0,c.IvY)(m[T])}function Vf(s,p,m,b,T){const M=p.insertBeforeIndex;if(Array.isArray(M)){let w=b,R=null;if(3&p.type||(R=w,w=T),null!==w&&-1===p.componentOffset)for(let B=1;B<M.length;B++)Je(s,w,m[M[B]],R,!1)}}function lo(s,p,m,b,T){let M=s.data[p];if(null===M)M=fg(s,p,m,b,T),(0,c.JjR)()&&(M.flags|=32);else if(64&M.type){M.type=m,M.value=b,M.attrs=T;const w=(0,c.Ab)();M.injectorIndex=null===w?-1:w.injectorIndex}return(0,c.iMd)(M,!0),M}function fg(s,p,m,b,T){const M=(0,c.veI)(),w=(0,c.YWB)(),B=s.data[p]=function qA(s,p,m,b,T,M){let w=p?p.injectorIndex:-1,R=0;return(0,c.KtD)()&&(R|=128),{type:m,index:b,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:R,providerIndexes:0,value:T,attrs:M,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:p,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?M:M&&M.parent,m,p,b,T);return function QA(s,p,m,b){null===s.firstChild&&(s.firstChild=p),null!==m&&(b?null==m.child&&null!==p.parent&&(m.child=p):null===m.next&&(m.next=p,p.prev=m))}(s,B,M,w),B}function zf(s,p){if(s.push(p),s.length>1)for(let m=s.length-2;m>=0;m--){const b=s[m];Yf(b)||ZA(b,p)&&null===Xf(b)&&eE(b,p.index)}}function Yf(s){return!(64&s.type)}function ZA(s,p){return Yf(p)||s.index>p.index}function Xf(s){const p=s.insertBeforeIndex;return Array.isArray(p)?p[0]:p}function eE(s,p){const m=s.insertBeforeIndex;Array.isArray(m)?m[0]=p:(Sf(jf,Vf),s.insertBeforeIndex=p)}function Bc(s,p){const m=s.data[p];return null===m||"string"==typeof m?null:m.hasOwnProperty("currentCaseLViewIndex")?m:m.value}function nE(s,p,m){const b=fg(s,m,64,null,null);return zf(p,b),b}function Nd(s,p){const m=p[s.currentCaseLViewIndex];return null===m?m:m<0?~m:m}function Jf(s){return s>>>17}function Qf(s){return(131070&s)>>>1}function vg(s,p,m){s.index=0;const b=Nd(p,m);s.removes=null!==b?p.remove[b]:c.Mlv}function Ud(s){if(s.index<s.removes.length){const p=s.removes[s.index++];return p>0?s.lView[p]:(s.stack.push(s.index,s.removes),vg(s,s.lView[c.eDl].data[~p],s.lView),Ud(s))}return 0===s.stack.length?(s.lView=void 0,null):(s.removes=s.stack.pop(),s.index=s.stack.pop(),Ud(s))}function sE(){const s={stack:[],index:-1};return function p(m,b){for(s.lView=b;s.stack.length;)s.stack.pop();return vg(s,m.value,b),Ud.bind(null,s)}}function TE(s,p,m){for(const b of m.node.cases[m.case]){const T=p.get(b.index-c.Yw1);T&&ti(s,T,!1)}}function Kd(s){const p=s[c.qFA]??[],b=s[c.f7T][c.GpT],T=[];for(const M of p)void 0!==M.data.di?T.push(M):rv(M,b);s[c.qFA]=T}function DE(s){const{lContainer:p}=s,m=p[c.qFA];if(null===m)return;const T=p[c.f7T][c.GpT];for(const M of m)rv(M,T)}function rv(s,p){let m=0,b=s.firstChild;if(b){const T=s.data.r;for(;m<T;){const M=b.nextSibling;ti(p,b,!1),b=M,m++}}}function $d(s){Kd(s);const p=s[c.jgP];(0,c.q$2)(p)&&Gd(p);for(let m=c.Y20;m<s.length;m++)Gd(s[m])}function Gd(s){!function SE(s){const p=s[c.tcA];if(p){const{i18nNodes:m,dehydratedIcuData:b}=p;if(m&&b){const T=s[c.GpT];for(const M of b.values())TE(T,m,M)}p.i18nNodes=void 0,p.dehydratedIcuData=void 0}}(s);const p=s[c.eDl];for(let m=c.Yw1;m<p.bindingStartIndex;m++)(0,c.A0l)(s[m])?$d(s[m]):(0,c.q$2)(s[m])&&Gd(s[m])}let RE=class{},pv=class{};class LE{resolveComponentFactory(p){throw new c.buA(917,!1)}}let Hd=class{static NULL=new LE};class Sg{}let xE=(()=>class s{destroyNode=null;static __NG_ELEMENT_ID__=()=>function BE(){const s=(0,c.OAn)(),p=(0,c.Mx4)(),m=(0,c.KdJ)(p.index,s);return((0,c.q$2)(m)?m:s)[c.GpT]}()})(),FE=(()=>{class s{static \u0275prov=(0,c.jDH)({token:s,providedIn:"root",factory:()=>null})}return s})();function Tg(s){return void 0!==s.ngModule}function ml(s){return!!(0,c.phH)(s)}function jd(s){return!!(0,c.oyA)(s)}function hv(s){return!!(0,c.HaV)(s)}function Kc(s){return!!(0,c.xUg)(s)}function UE(s,p){if((0,c.Jzi)(s)&&!(s=(0,c.nl4)(s)))throw new Error(`Expected forwardRef function, imported from "${(0,c.PP7)(p)}", to return a standalone entity or NgModule but got "${(0,c.PP7)(s)||s}".`);if(null==(0,c.phH)(s)){const m=(0,c.xUg)(s)||(0,c.HaV)(s)||(0,c.oyA)(s);if(null==m)throw Tg(s)?new Error(`A module with providers was imported from "${(0,c.PP7)(p)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${(0,c.PP7)(s)}" type, imported from "${(0,c.PP7)(p)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`);if(!m.standalone){const b=function NE(s){return(0,c.xUg)(s)?"component":(0,c.HaV)(s)?"directive":(0,c.oyA)(s)?"pipe":"type"}(s);throw new Error(`The "${(0,c.PP7)(s)}" ${b}, imported from "${(0,c.PP7)(p)}", is not standalone. Does the ${b} have the standalone: false flag?`)}}}class WE{ownerNgModule=new Map;ngModulesWithSomeUnresolvedDecls=new Set;ngModulesScopeCache=new Map;standaloneComponentsScopeCache=new Map;resolveNgModulesDecls(){if(0!==this.ngModulesWithSomeUnresolvedDecls.size){for(const p of this.ngModulesWithSomeUnresolvedDecls){const m=(0,c.phH)(p);if(m?.declarations)for(const b of Es(m.declarations))Kc(b)&&this.ownerNgModule.set(b,p)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(p,m){this.resolveNgModulesDecls();const b=(0,c.xUg)(p);if(null===b)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${p}`);if(b.standalone){const T=this.getStandaloneComponentScope(p,m);return T.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...T.compilation.directives,...T.compilation.pipes,...T.compilation.ngModules]}}{if(!this.ownerNgModule.has(p))return{dependencies:[]};const T=this.getNgModuleScope(this.ownerNgModule.get(p));return T.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...T.compilation.directives,...T.compilation.pipes]}}}registerNgModule(p,m){if(!ml(p))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${p}`);this.ngModulesWithSomeUnresolvedDecls.add(p)}clearScopeCacheFor(p){this.ngModulesScopeCache.delete(p),this.standaloneComponentsScopeCache.delete(p)}getNgModuleScope(p){if(this.ngModulesScopeCache.has(p))return this.ngModulesScopeCache.get(p);const m=this.computeNgModuleScope(p);return this.ngModulesScopeCache.set(p,m),m}computeNgModuleScope(p){const m=(0,c.WbQ)(p),b={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(const T of Es(m.imports))if(ml(T)){const M=this.getNgModuleScope(T);Ar(M.exported.directives,b.compilation.directives),Ar(M.exported.pipes,b.compilation.pipes)}else{if(!(0,c.QuC)(T)){b.compilation.isPoisoned=!0;break}if(hv(T)||Kc(T))b.compilation.directives.add(T);else{if(!jd(T))throw new c.buA(980,"The standalone imported type is neither a component nor a directive nor a pipe");b.compilation.pipes.add(T)}}if(!b.compilation.isPoisoned)for(const T of Es(m.declarations)){if(ml(T)||(0,c.QuC)(T)){b.compilation.isPoisoned=!0;break}jd(T)?b.compilation.pipes.add(T):b.compilation.directives.add(T)}for(const T of Es(m.exports))if(ml(T)){const M=this.getNgModuleScope(T);Ar(M.exported.directives,b.exported.directives),Ar(M.exported.pipes,b.exported.pipes),Ar(M.exported.directives,b.compilation.directives),Ar(M.exported.pipes,b.compilation.pipes)}else jd(T)?b.exported.pipes.add(T):b.exported.directives.add(T);return b}getStandaloneComponentScope(p,m){if(this.standaloneComponentsScopeCache.has(p))return this.standaloneComponentsScopeCache.get(p);const b=this.computeStandaloneComponentScope(p,m);return this.standaloneComponentsScopeCache.set(p,b),b}computeStandaloneComponentScope(p,m){const b={compilation:{directives:new Set([p]),pipes:new Set,ngModules:new Set}};for(const T of(0,c.Bqz)(m??[])){const M=(0,c.nl4)(T);try{UE(M,p)}catch{return b.compilation.isPoisoned=!0,b}if(ml(M)){b.compilation.ngModules.add(M);const w=this.getNgModuleScope(M);if(w.exported.isPoisoned)return b.compilation.isPoisoned=!0,b;Ar(w.exported.directives,b.compilation.directives),Ar(w.exported.pipes,b.compilation.pipes)}else if(jd(M))b.compilation.pipes.add(M);else{if(!hv(M)&&!Kc(M))return b.compilation.isPoisoned=!0,b;b.compilation.directives.add(M)}}return b}isOrphanComponent(p){const m=(0,c.xUg)(p);return!(!m||m.standalone||(this.resolveNgModulesDecls(),this.ownerNgModule.has(p)))}}function Ar(s,p){for(const m of s)p.add(m)}const $c=new WE,Dg={};class _l{injector;parentInjector;constructor(p,m){this.injector=p,this.parentInjector=m}get(p,m,b){const T=this.injector.get(p,Dg,b);return T!==Dg||m===Dg?T:this.parentInjector.get(p,m,b)}}function Vd(s,p,m){let b=m?s.styles:null,T=m?s.classes:null,M=0;if(null!==p)for(let w=0;w<p.length;w++){const R=p[w];if("number"==typeof R)M=R;else if(1==M)T=(0,c.n$e)(T,R);else if(2==M){const G=p[++w];b=(0,c.n$e)(b,R+": "+G+";")}}m?s.styles=b:s.stylesWithoutHost=b,m?s.classes=T:s.classesWithoutHost=T}function fl(s,p=0){const m=(0,c.OAn)();return null===m?(0,c.KVO)(s,p):Ei((0,c.Mx4)(),m,(0,c.nl4)(s),p)}function gv(s,p,m,b,T){const M=null===b?null:{"":-1},w=T(s,m);if(null!==w){let R=w,B=null,G=null;for(const J of w)if(null!==J.resolveHostDirectives){[R,B,G]=J.resolveHostDirectives(w);break}!function HE(s,p,m,b,T,M,w){const R=b.length;let B=null;for(let ye=0;ye<R;ye++){const Pe=b[ye];null===B&&(0,c.JlV)(Pe)&&(B=Pe,GE(s,m,ye)),qi(Ii(m,p),s,Pe.type)}(function JE(s,p,m){s.flags|=1,s.directiveStart=p,s.directiveEnd=p+m,s.providerIndexes=p})(m,s.data.length,R),B?.viewProvidersResolver&&B.viewProvidersResolver(B);for(let ye=0;ye<R;ye++){const Pe=b[ye];Pe.providersResolver&&Pe.providersResolver(Pe)}let G=!1,J=!1,le=Ac(s,p,R,null);R>0&&(m.directiveToIndex=new Map);for(let ye=0;ye<R;ye++){const Pe=b[ye];if(m.mergedAttrs=Oi(m.mergedAttrs,Pe.hostAttrs),VE(s,m,p,le,Pe),XE(le,Pe,T),null!==w&&w.has(Pe)){const[Xe,dt]=w.get(Pe);m.directiveToIndex.set(Pe.type,[le,Xe+m.directiveStart,dt+m.directiveStart])}else(null===M||!M.has(Pe))&&m.directiveToIndex.set(Pe.type,le);null!==Pe.contentQueries&&(m.flags|=4),(null!==Pe.hostBindings||null!==Pe.hostAttrs||0!==Pe.hostVars)&&(m.flags|=64);const Oe=Pe.type.prototype;!G&&(Oe.ngOnChanges||Oe.ngOnInit||Oe.ngDoCheck)&&((s.preOrderHooks??=[]).push(m.index),G=!0),!J&&(Oe.ngOnChanges||Oe.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(m.index),J=!0),le++}!function jE(s,p,m){for(let b=p.directiveStart;b<p.directiveEnd;b++){const T=s.data[b];if(null!==m&&m.has(T)){const M=m.get(T);_v(0,p,M,b),_v(1,p,M,b),vv(p,b,!0)}else mv(0,p,T,b),mv(1,p,T,b),vv(p,b,!1)}}(s,m,M)}(s,p,m,R,M,B,G)}null!==M&&null!==b&&function $E(s,p,m){const b=s.localNames=[];for(let T=0;T<p.length;T+=2){const M=m[p[T+1]];if(null==M)throw new c.buA(-301,!1);b.push(p[T],M)}}(m,b,M)}function GE(s,p,m){p.componentOffset=m,(s.components??=[]).push(p.index)}function mv(s,p,m,b){const T=0===s?m.inputs:m.outputs;for(const M in T)if(T.hasOwnProperty(M)){let w;w=0===s?p.inputs??={}:p.outputs??={},w[M]??=[],w[M].push(b),fv(p,M)}}function _v(s,p,m,b){const T=0===s?m.inputs:m.outputs;for(const M in T)if(T.hasOwnProperty(M)){const w=T[M];let R;R=0===s?p.hostDirectiveInputs??={}:p.hostDirectiveOutputs??={},R[w]??=[],R[w].push(b,M),fv(p,w)}}function fv(s,p){"class"===p?s.flags|=8:"style"===p&&(s.flags|=16)}function vv(s,p,m){const{attrs:b,inputs:T,hostDirectiveInputs:M}=s;if(null===b||!m&&null===T||m&&null===M||bc(s))return s.initialInputs??=[],void s.initialInputs.push(null);let w=null,R=0;for(;R<b.length;){const B=b[R];if(0!==B)if(5!==B){if("number"==typeof B)break;if(!m&&T.hasOwnProperty(B)){const G=T[B];for(const J of G)if(J===p){w??=[],w.push(B,b[R+1]);break}}else if(m&&M.hasOwnProperty(B)){const G=M[B];for(let J=0;J<G.length;J+=2)if(G[J]===p){w??=[],w.push(G[J+1],b[R+1]);break}}R+=2}else R+=2;else R+=4}s.initialInputs??=[],s.initialInputs.push(w)}function VE(s,p,m,b,T){s.data[b]=T;const M=T.factory||(T.factory=(0,c.wGu)(T.type,!0)),w=new ot(M,(0,c.JlV)(T),fl,null);s.blueprint[b]=w,m[b]=w,function zE(s,p,m,b,T){const M=T.hostBindings;if(M){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const R=~p.index;(function YE(s){let p=s.length;for(;p>0;){const m=s[--p];if("number"==typeof m&&m<0)return m}return 0})(w)!=R&&w.push(R),w.push(m,b,M)}}(s,p,b,Ac(s,m,T.hostVars,Ai),T)}function XE(s,p,m){if(m){if(p.exportAs)for(let b=0;b<p.exportAs.length;b++)m[p.exportAs[b]]=s;(0,c.JlV)(p)&&(m[""]=s)}}function Mg(s,p,m,b,T,M,w,R){const B=p[c.eDl],G=B.consts,le=lo(B,s,m,b,(0,c.db4)(G,w));return M&&gv(B,p,le,(0,c.db4)(G,R),T),le.mergedAttrs=Oi(le.mergedAttrs,le.attrs),null!==le.attrs&&Vd(le,le.attrs,!1),null!==le.mergedAttrs&&Vd(le,le.mergedAttrs,!0),null!==B.queries&&B.queries.elementStart(B,le),le}function Cg(s,p){Xt(s,p),(0,c.srX)(p)&&s.queries.elementEnd(p)}function yv(s,p,m,b,T,M){const w=p.consts,B=lo(p,s,m,b,(0,c.db4)(w,T));if(B.mergedAttrs=Oi(B.mergedAttrs,B.attrs),null!=M){const G=(0,c.db4)(w,M);B.localNames=[];for(let J=0;J<G.length;J+=2)B.localNames.push(G[J],-1)}return null!==B.attrs&&Vd(B,B.attrs,!1),null!==B.mergedAttrs&&Vd(B,B.mergedAttrs,!0),null!==p.queries&&p.queries.elementStart(p,B),B}function kg(s){return!!bv(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function qE(s,p){if(Array.isArray(s))for(let m=0;m<s.length;m++)p(s[m]);else{const m=s[Symbol.iterator]();let b;for(;!(b=m.next()).done;)p(b.value)}}function bv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ss(s,p,m){return s[p]=m}function Gc(s,p){return s[p]}function Ni(s,p,m){return m!==Ai&&(!Object.is(s[p],m)&&(s[p]=m,!0))}function ho(s,p,m,b){const T=Ni(s,p,m);return Ni(s,p+1,b)||T}function zd(s,p,m,b,T){const M=ho(s,p,m,b);return Ni(s,p+2,T)||M}function Ha(s,p,m,b,T,M){const w=ho(s,p,m,b);return ho(s,p+2,T,M)||w}const Pv=Symbol("CONTROL");function $s(s,p,m){return function b(T){hl((0,c.Qs1)(s)?(0,c.KdJ)(s.index,p):p,5);const w=p[c.SKP];let R=Av(p,w,m,T),B=b.__ngNextListenerFn__;for(;B;)R=Av(p,w,B,T)&&R,B=B.__ngNextListenerFn__;return R}}function Av(s,p,m,b){const T=(0,A.Ht)(null);try{return rt(He.OutputStart,p,m),!1!==m(b)}catch(M){return lg(s,M),!1}finally{rt(He.OutputEnd,p,m),(0,A.Ht)(T)}}function Yd(s,p,m,b,T,M,w,R){const B=(0,c.yoD)(s);let G=!1,J=null;if(!b&&B&&(J=function tS(s,p,m,b){const T=s.cleanup;if(null!=T)for(let M=0;M<T.length-1;M+=2){const w=T[M];if(w===m&&T[M+1]===b){const R=p[c.VVG],B=T[M+2];return R&&R.length>B?R[B]:null}"string"==typeof w&&(M+=2)}return null}(p,m,M,s.index)),null!==J)(J.__ngLastListenerFn__||J).__ngNextListenerFn__=w,J.__ngLastListenerFn__=w,G=!0;else{const le=(0,c.d31)(s,m),ye=b?b(le):le,Pe=T.listen(ye,M,R);(function eS(s){return s.startsWith("animation")||s.startsWith("transition")})(M)||Ev(b?Xe=>b((0,c.IvY)(Xe[s.index])):s.index,p,m,M,R,Pe,!1)}return G}function Ev(s,p,m,b,T,M,w){const R=p.firstCreatePass?(0,c.vNG)(p):null,B=(0,c.d_l)(m),G=B.length;B.push(T,M),R&&R.push(b,s,G,(G+1)*(w?-1:1))}function vl(s,p,m,b,T,M){const R=p[c.eDl],le=p[m][R.data[m].outputs[b]].subscribe(M);Ev(s.index,R,p,T,M,le,!0)}const Gs=Symbol("BINDING");class Tv extends Hd{ngModule;constructor(p){super(),this.ngModule=p}resolveComponentFactory(p){const m=(0,c.xUg)(p);return new Xd(m,this.ngModule)}}class Xd extends pv{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function Dv(s){return Object.keys(s).map(p=>{const[m,b,T]=s[p],M={propName:m,templateName:p,isSignal:0!==(b&md.SignalBased)};return T&&(M.transform=T),M})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function Mv(s){return Object.keys(s).map(p=>({propName:s[p],templateName:p}))}(this.componentDef.outputs),this.cachedOutputs}constructor(p,m){super(),this.componentDef=p,this.ngModule=m,this.componentType=p.type,this.selector=function sA(s){return s.map(Gh).join(",")}(p.selectors),this.ngContentSelectors=p.ngContentSelectors??[],this.isBoundToModule=!!m}create(p,m,b,T,M,w){rt(He.DynamicComponentStart);const R=(0,A.Ht)(null);try{const B=this.componentDef,G=function gS(s,p,m,b){const T=s?["ng-version","21.1.1"]:function rA(s){const p=[],m=[];let b=1,T=2;for(;b<s.length;){let M=s[b];if("string"==typeof M)2===T?""!==M&&p.push(M,s[++b]):8===T&&m.push(M);else{if(!ss(T))break;T=M}b++}return m.length&&p.push(1,...m),p}(p.selectors[0]);let M=null,w=null,R=0;if(m)for(const J of m)R+=J[Gs].requiredVars,J.create&&(J.targetIdx=0,(M??=[]).push(J)),J.update&&(J.targetIdx=0,(w??=[]).push(J));if(b)for(let J=0;J<b.length;J++){const le=b[J];if("function"!=typeof le)for(const ye of le.bindings){R+=ye[Gs].requiredVars;const Pe=J+1;ye.create&&(ye.targetIdx=Pe,(M??=[]).push(ye)),ye.update&&(ye.targetIdx=Pe,(w??=[]).push(ye))}}const B=[p];if(b)for(const J of b){const ye=(0,c.HaV)("function"==typeof J?J:J.type);B.push(ye)}return Hh(0,null,function Cv(s,p){return s||p?m=>{if(1&m&&s)for(const b of s)b.create();if(2&m&&p)for(const b of p)b.update()}:null}(M,w),1,R,B,null,null,null,[T],null)}(b,B,w,M),J=function uS(s,p,m){let b=p instanceof c.uvJ?p:p?.injector;return b&&null!==s.getStandaloneInjector&&(b=s.getStandaloneInjector(b)||b),b?new _l(m,b):m}(B,T||this.ngModule,p),le=function dS(s){const p=s.get(Sg,null);if(null===p)throw new c.buA(407,!1);return{rendererFactory:p,sanitizer:s.get(FE,null),changeDetectionScheduler:s.get(c.hk6,null),ngReflect:!1}}(J),ye=le.rendererFactory.createRenderer(null,B),Pe=b?function Dd(s,p,m,b){const M=b.get(ns,!1)||m===Ca.ShadowDom||m===Ca.ExperimentalIsolatedShadowDom,w=s.selectRootElement(p,M);return function PA(s){rg(s)}(w),w}(ye,b,B.encapsulation,J):function pS(s,p){const m=function hS(s){return(s.selectors[0][0]||"div").toLowerCase()}(s);return Re(p,m,"svg"===m?c.jNX:"math"===m?c.rJ1:null)}(B,ye),Oe=w?.some(kv)||M?.some(St=>"function"!=typeof St&&St.bindings.some(kv)),Xe=gd(null,G,null,512|jh(B),null,null,le,ye,J,null,null);Xe[c.Yw1]=Pe,(0,c.ID8)(Xe);let dt=null;try{const St=Mg(c.Yw1,Xe,2,"#host",()=>G.directiveRegistry,!0,0);X_(ye,Pe,St),lt(Pe,Xe),Dc(G,Xe,St),rc(G,St,Xe),Cg(G,St),void 0!==m&&function _S(s,p,m){const b=s.projection=[];for(let T=0;T<p.length;T++){const M=m[T];b.push(null!=M&&M.length?Array.from(M):null)}}(St,this.ngContentSelectors,m),dt=(0,c.KdJ)(St.index,Xe),Xe[c.SKP]=dt[c.SKP],Id(G,Xe,null)}catch(St){throw null!==dt&&Y(dt),Y(Xe),St}finally{rt(He.DynamicComponentEnd),(0,c.bll)()}return new mS(this.componentType,Xe,!!Oe)}finally{(0,A.Ht)(R)}}}function kv(s){const p=s[Gs].kind;return"input"===p||"twoWay"===p}class mS extends RE{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(p,m,b){super(),this._rootLView=m,this._hasInputBindings=b,this._tNode=(0,c.XRZ)(m[c.eDl],c.Yw1),this.location=Ci(this._tNode,m),this.instance=(0,c.KdJ)(this._tNode.index,m)[c.SKP],this.hostView=this.changeDetectorRef=new xd(m,void 0),this.componentType=p}setInput(p,m){const b=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(p)&&Object.is(this.previousInputValues.get(p),m))return;const T=this._rootLView;Od(b,T[c.eDl],T,p,m),this.previousInputValues.set(p,m),hl((0,c.KdJ)(b.index,T),1)}get injector(){return new pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(p){this.hostView.onDestroy(p)}}let Jd=(()=>class s{static __NG_ELEMENT_ID__=fS})();function fS(){return Hc((0,c.Mx4)(),(0,c.OAn)())}const vS=Jd,yl=class extends vS{_lContainer;_hostTNode;_hostLView;constructor(p,m,b){super(),this._lContainer=p,this._hostTNode=m,this._hostLView=b}get element(){return Ci(this._hostTNode,this._hostLView)}get injector(){return new pi(this._hostTNode,this._hostLView)}get parentInjector(){const p=yi(this._hostTNode,this._hostLView);if(En(p)){const m=Mi(p,this._hostLView),b=Di(p);return new pi(m[c.eDl].data[b+8],m)}return new pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(p){const m=Qd(this._lContainer);return null!==m&&m[p]||null}get length(){return this._lContainer.length-c.Y20}createEmbeddedView(p,m,b){let T,M;"number"==typeof b?T=b:null!=b&&(T=b.index,M=b.injector);const R=p.createEmbeddedViewImpl(m||{},M,null);return this.insertImpl(R,T,oo(this._hostTNode,null)),R}createComponent(p,m,b,T,M,w,R){const B=p&&!H(p);let G;if(B)G=m;else{const dt=m||{};G=dt.index,b=dt.injector,T=dt.projectableNodes,M=dt.environmentInjector||dt.ngModuleRef,w=dt.directives,R=dt.bindings}const J=B?p:new Xd((0,c.xUg)(p)),le=b||this.parentInjector;if(!M&&null==J.ngModule){const St=(B?le:this.parentInjector).get(c.uvJ,null);St&&(M=St)}(0,c.xUg)(J.componentType??{});const Xe=J.create(le,T,null,M,w,R);return this.insertImpl(Xe.hostView,G,oo(this._hostTNode,null)),Xe}insert(p,m){return this.insertImpl(p,m,!0)}insertImpl(p,m,b){const T=p._lView;if((0,c.ITl)(T)){const R=this.indexOf(p);if(-1!==R)this.detach(R);else{const B=T[c.f7T],G=new yl(B,B[c.qlT],B[c.f7T]);G.detach(G.indexOf(p))}}const M=this._adjustIndex(m),w=this._lContainer;return gl(w,T,M,b),p.attachToViewContainerRef(),(0,c.EYC)(wg(w),M,p),p}move(p,m){return this.insert(p,m)}indexOf(p){const m=Qd(this._lContainer);return null!==m?m.indexOf(p):-1}remove(p){const m=this._adjustIndex(p,-1),b=Oc(this._lContainer,m);b&&((0,c.E6O)(wg(this._lContainer),m),Tc(b[c.eDl],b))}detach(p){const m=this._adjustIndex(p,-1),b=Oc(this._lContainer,m);return b&&null!=(0,c.E6O)(wg(this._lContainer),m)?new xd(b):null}_adjustIndex(p,m=0){return p??this.length+m}};function Qd(s){return s[c.bm_]}function wg(s){return s[c.bm_]||(s[c.bm_]=[])}function Hc(s,p){let m;const b=p[s.index];return(0,c.A0l)(b)?m=b:(m=Kf(b,p,null,s),p[s.index]=m,Vh(p,m)),Og(m,p,s,b),new yl(m,s,p)}let Og=function jc(s,p,m,b){if(s[c.s6P])return;let T;T=8&m.type?(0,c.IvY)(b):function qd(s,p){const m=s[c.GpT],b=m.createComment(""),T=(0,c.d31)(p,s),M=m.parentNode(T);return Je(m,M,b,m.nextSibling(T),!1),b}(p,m),s[c.s6P]=T};class Vc{queryList;matches=null;constructor(p){this.queryList=p}clone(){return new Vc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rg{queries;constructor(p=[]){this.queries=p}createEmbeddedView(p){const m=p.queries;if(null!==m){const b=null!==p.contentQueries?p.contentQueries[0]:m.length,T=[];for(let M=0;M<b;M++){const w=m.getByIndex(M);T.push(this.queries[w.indexInDeclarationView].clone())}return new Rg(T)}return null}insertView(p){this.dirtyQueriesWithMatches(p)}detachView(p){this.dirtyQueriesWithMatches(p)}finishViewCreation(p){this.dirtyQueriesWithMatches(p)}dirtyQueriesWithMatches(p){for(let m=0;m<this.queries.length;m++)null!==ip(p,m).matches&&this.queries[m].setDirty()}}class wv{flags;read;predicate;constructor(p,m,b=null){this.flags=m,this.read=b,this.predicate="string"==typeof p?function zc(s){return s.split(",").map(p=>p.trim())}(p):p}}class Lg{queries;constructor(p=[]){this.queries=p}elementStart(p,m){for(let b=0;b<this.queries.length;b++)this.queries[b].elementStart(p,m)}elementEnd(p){for(let m=0;m<this.queries.length;m++)this.queries[m].elementEnd(p)}embeddedTView(p){let m=null;for(let b=0;b<this.length;b++){const T=null!==m?m.length:0,M=this.getByIndex(b).embeddedTView(p,T);M&&(M.indexInDeclarationView=b,null!==m?m.push(M):m=[M])}return null!==m?new Lg(m):null}template(p,m){for(let b=0;b<this.queries.length;b++)this.queries[b].template(p,m)}getByIndex(p){return this.queries[p]}get length(){return this.queries.length}track(p){this.queries.push(p)}}class ep{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(p,m=-1){this.metadata=p,this._declarationNodeIndex=m}elementStart(p,m){this.isApplyingToNode(m)&&this.matchTNode(p,m)}elementEnd(p){this._declarationNodeIndex===p.index&&(this._appliesToNextNode=!1)}template(p,m){this.elementStart(p,m)}embeddedTView(p,m){return this.isApplyingToNode(p)?(this.crossesNgTemplate=!0,this.addMatch(-p.index,m),new ep(this.metadata)):null}isApplyingToNode(p){if(this._appliesToNextNode&&1&~this.metadata.flags){const m=this._declarationNodeIndex;let b=p.parent;for(;null!==b&&8&b.type&&b.index!==m;)b=b.parent;return m===(null!==b?b.index:-1)}return this._appliesToNextNode}matchTNode(p,m){const b=this.metadata.predicate;if(Array.isArray(b))for(let T=0;T<b.length;T++){const M=b[T];this.matchTNodeWithReadOption(p,m,Ov(m,M)),this.matchTNodeWithReadOption(p,m,Dn(m,p,M,!1,!1))}else b===Ic?4&m.type&&this.matchTNodeWithReadOption(p,m,-1):this.matchTNodeWithReadOption(p,m,Dn(m,p,b,!1,!1))}matchTNodeWithReadOption(p,m,b){if(null!==b){const T=this.metadata.read;if(null!==T)if(T===Jt||T===Jd||T===Ic&&4&m.type)this.addMatch(m.index,-2);else{const M=Dn(m,p,T,!1,!1);null!==M&&this.addMatch(m.index,M)}else this.addMatch(m.index,b)}}addMatch(p,m){null===this.matches?this.matches=[p,m]:this.matches.push(p,m)}}function Ov(s,p){const m=s.localNames;if(null!==m)for(let b=0;b<m.length;b+=2)if(m[b]===p)return m[b+1];return null}function ES(s,p,m,b){return-1===m?function AS(s,p){return 11&s.type?Ci(s,p):4&s.type?Bd(s,p):null}(p,s):-2===m?function SS(s,p,m){return m===Jt?Ci(p,s):m===Ic?Bd(p,s):m===Jd?Hc(p,s):void 0}(s,p,b):rn(s,s[c.eDl],m,p)}function Iv(s,p,m,b){const T=p[c.Ds7].queries[b];if(null===T.matches){const M=s.data,w=m.matches,R=[];for(let B=0;null!==w&&B<w.length;B+=2){const G=w[B];R.push(G<0?null:ES(p,M[G],w[B+1],m.metadata.read))}T.matches=R}return T.matches}function xg(s,p,m,b){const T=s.queries.getByIndex(m),M=T.matches;if(null!==M){const w=Iv(s,p,T,m);for(let R=0;R<M.length;R+=2){const B=M[R];if(B>0)b.push(w[R/2]);else{const G=M[R+1],J=p[-B];for(let le=c.Y20;le<J.length;le++){const ye=J[le];ye[c.rQE]===ye[c.f7T]&&xg(ye[c.eDl],ye,G,b)}if(null!==J[c.nfM]){const le=J[c.nfM];for(let ye=0;ye<le.length;ye++){const Pe=le[ye];xg(Pe[c.eDl],Pe,G,b)}}}}}return b}function Bg(s,p){return s[c.Ds7].queries[p].queryList}function Rv(s,p,m){const b=new Ui(!(4&~m));return(0,c.B22)(s,p,b,b.destroy),(p[c.Ds7]??=new Rg).queries.push(new Vc(b))-1}function Lv(s,p,m){const b=(0,c.klJ)();return b.firstCreatePass&&(Fg(b,new wv(s,p,m),-1),!(2&~p)&&(b.staticViewQueries=!0)),Rv(b,(0,c.OAn)(),p)}function tp(s,p,m,b){const T=(0,c.klJ)();if(T.firstCreatePass){const M=(0,c.Mx4)();Fg(T,new wv(p,m,b),M.index),function TS(s,p){const m=s.contentQueries||(s.contentQueries=[]);p!==(m.length?m[m.length-1]:-1)&&m.push(s.queries.length-1,p)}(T,s),!(2&~m)&&(T.staticContentQueries=!0)}return Rv(T,(0,c.OAn)(),m)}function Fg(s,p,m){null===s.queries&&(s.queries=new Lg),s.queries.track(new ep(p,m))}function ip(s,p){return s.queries.getByIndex(p)}function Ng(s,p){const m=s[c.eDl],b=ip(m,p);return b.crossesNgTemplate?xg(m,s,p,[]):Iv(m,s,b,p)}function xv(s,p){const m=s[A.bh];m._lView=(0,c.OAn)(),m._queryIndex=p,m._queryList=Bg(m._lView,p),m._queryList.onDirty(()=>m._dirtyCounter.update(b=>b+1))}let go=new Map;const bl=new Set;function Er(s){return mo.apply(this,arguments)}function mo(){return mo=(0,P.A)(function*(s){const p=go;go=new Map;const m=new Map;function b(M){const w=m.get(M);if(w)return w;const R=s(M).then(B=>function OS(s,p){return np.apply(this,arguments)}(M,B));return m.set(M,R),R}const T=Array.from(p).map(function(){var M=(0,P.A)(function*([w,R]){if(R.styleUrl&&R.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");const B=[];R.templateUrl&&B.push(b(R.templateUrl).then(ye=>{R.template=ye}));const G="string"==typeof R.styles?[R.styles]:R.styles??[];R.styles=G;let{styleUrl:J,styleUrls:le}=R;if(J&&(le=[J],R.styleUrl=void 0),le?.length){const ye=Promise.all(le.map(Pe=>b(Pe))).then(Pe=>{G.push(...Pe),R.styleUrls=void 0});B.push(ye)}yield Promise.all(B),bl.delete(w)});return function(w){return M.apply(this,arguments)}}());yield Promise.all(T)}),mo.apply(this,arguments)}function wS(){return 0===go.size}function np(){return(np=(0,P.A)(function*(s,p){if("string"==typeof p)return p;if(void 0!==p.status&&200!==p.status)throw new c.buA(918,!1);return p.text()})).apply(this,arguments)}const Ug=new Map;function Fv(s,p){(function IS(s,p,m){if(p&&p!==m)throw new c.buA(921,!1)})(0,Ug.get(p)||null,s),Ug.set(p,s)}let Sr=class{},Nv=class{};function RS(s,p){return new Hs(s,p??null,[])}class Hs extends Sr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Tv(this);constructor(p,m,b,T=!0){super(),this.ngModuleType=p,this._parent=m;const M=(0,c.phH)(p);this._bootstrapComponents=Es(M.bootstrap),this._r3Injector=(0,c.Pz9)(p,m,[{provide:Sr,useValue:this},{provide:Hd,useValue:this.componentFactoryResolver},...b],(0,c.AsM)(p),new Set(["environment"])),T&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const p=this._r3Injector;!p.destroyed&&p.destroy(),this.destroyCbs.forEach(m=>m()),this.destroyCbs=null}onDestroy(p){this.destroyCbs.push(p)}}class Wg extends Nv{moduleType;constructor(p){super(),this.moduleType=p}create(p){return new Hs(this.moduleType,p,[])}}function LS(s,p,m){return new Hs(s,p,m,!1)}class Uv extends Sr{injector;componentFactoryResolver=new Tv(this);instance=null;constructor(p){super();const m=new c.e5P([...p.providers,{provide:Sr,useValue:this},{provide:Hd,useValue:this.componentFactoryResolver}],p.parent||(0,c.WB9)(),p.debugName,new Set(["environment"]));this.injector=m,p.runEnvironmentInitializers&&m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(p){this.injector.onDestroy(p)}}function Kg(s,p,m=null){return new Uv({providers:s,parent:p,debugName:m,runEnvironmentInitializers:!0}).injector}let xS=(()=>{class s{_injector;cachedInjectors=new Map;constructor(m){this._injector=m}getOrCreateStandaloneInjector(m){if(!m.standalone)return null;if(!this.cachedInjectors.has(m)){const b=(0,c.jXY)(!1,m.type),T=b.length>0?Kg([b],this._injector,""):null;this.cachedInjectors.set(m,T)}return this.cachedInjectors.get(m)}ngOnDestroy(){try{for(const m of this.cachedInjectors.values())null!==m&&m.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,c.jDH)({token:s,providedIn:"environment",factory:()=>new s((0,c.KVO)(c.uvJ))})}return s})();function $g(s){return t(()=>{const p=sp(s),m={...p,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===_n.OnPush,directiveDefs:null,pipeDefs:null,dependencies:p.standalone&&s.dependencies||null,getStandaloneInjector:p.standalone?T=>T.get(xS).getOrCreateStandaloneInjector(m):null,getExternalStyles:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||Ca.Emulated,styles:s.styles||c.Mlv,_:null,schemas:s.schemas||null,tView:null,id:""};p.standalone&&Gn("NgStandalone"),$v(m);const b=s.dependencies;return m.directiveDefs=fo(b,_o),m.pipeDefs=fo(b,c.oyA),m.id=function NS(s){let p=0;const b=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,"function"==typeof s.consts?"":s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery];for(const M of b.join("|"))p=Math.imul(31,p)+M.charCodeAt(0)|0;return p+=2147483648,"c"+p}(m),m})}function _o(s){return(0,c.xUg)(s)||(0,c.HaV)(s)}function ap(s){return t(()=>({type:s.type,bootstrap:s.bootstrap||c.Mlv,declarations:s.declarations||c.Mlv,imports:s.imports||c.Mlv,exports:s.exports||c.Mlv,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function BS(s,p){if(null==s)return c.MZA;const m={};for(const b in s)if(s.hasOwnProperty(b)){const T=s[b];let M,w,R,B;Array.isArray(T)?(R=T[0],M=T[1],w=T[2]??M,B=T[3]||null):(M=T,w=T,R=md.None,B=null),m[M]=[b,R,B],p[M]=w}return m}function FS(s){if(null==s)return c.MZA;const p={};for(const m in s)s.hasOwnProperty(m)&&(p[s[m]]=m);return p}function Wv(s){return t(()=>{const p=sp(s);return $v(p),p})}function Kv(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:s.standalone??!0,onDestroy:s.type.prototype.ngOnDestroy||null}}function sp(s){const p={};return{type:s.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:p,inputConfig:s.inputs||c.MZA,exportAs:s.exportAs||null,standalone:s.standalone??!0,signals:!0===s.signals,selectors:s.selectors||c.Mlv,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:BS(s.inputs,p),outputs:FS(s.outputs),debugInfo:null}}function $v(s){s.features?.forEach(p=>p(s))}function fo(s,p){return s?()=>{const m="function"==typeof s?s():s,b=[];for(const T of m){const M=p(T);null!==M&&b.push(M)}return b}:null}function WS(s){const p=[];let m=!1,b=null,T=null;for(let M=0;M<s.length;M++){const w=s[M];if(null!==w.hostDirectives){const R=p.length;b??=new Map,T??=new Map,Gv(w,p,b),T.set(w,[R,p.length-1])}0===M&&(0,c.JlV)(w)&&(m=!0,p.push(w))}for(let M=m?1:0;M<s.length;M++)p.push(s[M]);return[p,b,T]}function Gv(s,p,m){if(null!==s.hostDirectives)for(const b of s.hostDirectives)if("function"==typeof b){const T=b();for(const M of T)vo(rp(M),p,m)}else vo(b,p,m)}function vo(s,p,m){const b=(0,c.HaV)(s.directive);(function KS(s,p){for(const m in p)p.hasOwnProperty(m)&&(s[p[m]]=s[m])})(b.declaredInputs,s.inputs),Gv(b,p,m),m.set(b,s),p.push(b)}function rp(s){return"function"==typeof s?{directive:(0,c.nl4)(s),inputs:c.MZA,outputs:c.MZA}:{directive:(0,c.nl4)(s.directive),inputs:Hg(s.inputs),outputs:Hg(s.outputs)}}function Hg(s){if(void 0===s||0===s.length)return c.MZA;const p={};for(let m=0;m<s.length;m+=2)p[s[m]]=s[m+1];return p}function zg(s){let p=function Ts(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),m=!0;const b=[s];for(;p;){let T;if((0,c.JlV)(s))T=p.\u0275cmp||p.\u0275dir;else{if(p.\u0275cmp)throw new c.buA(903,!1);T=p.\u0275dir}if(T){if(m){b.push(T);const w=s;w.inputs=yo(s.inputs),w.declaredInputs=yo(s.declaredInputs),w.outputs=yo(s.outputs);const R=T.hostBindings;R&&dn(s,R);const B=T.viewQuery,G=T.contentQueries;if(B&&Bn(s,B),G&&op(s,G),$S(s,T),(0,c.dwj)(s.outputs,T.outputs),(0,c.JlV)(T)&&T.data.animation){const J=s.data;J.animation=(J.animation||[]).concat(T.data.animation)}}const M=T.features;if(M)for(let w=0;w<M.length;w++){const R=M[w];R&&R.ngInherit&&R(s),R===zg&&(m=!1)}}p=Object.getPrototypeOf(p)}!function Jc(s){let p=0,m=null;for(let b=s.length-1;b>=0;b--){const T=s[b];T.hostVars=p+=T.hostVars,T.hostAttrs=Oi(T.hostAttrs,m=Oi(m,T.hostAttrs))}}(b)}function $S(s,p){for(const m in p.inputs){if(!p.inputs.hasOwnProperty(m)||s.inputs.hasOwnProperty(m))continue;const b=p.inputs[m];void 0!==b&&(s.inputs[m]=b,s.declaredInputs[m]=p.declaredInputs[m])}}function yo(s){return s===c.MZA?{}:s===c.Mlv?[]:s}function Bn(s,p){const m=s.viewQuery;s.viewQuery=m?(b,T)=>{p(b,T),m(b,T)}:p}function op(s,p){const m=s.contentQueries;s.contentQueries=m?(b,T,M)=>{p(b,T,M),m(b,T,M)}:p}function dn(s,p){const m=s.hostBindings;s.hostBindings=m?(b,T)=>{p(b,T),m(b,T)}:p}function Jn(s,p,m,b,T,M,w,R){if(m.firstCreatePass){s.mergedAttrs=Oi(s.mergedAttrs,s.attrs);const J=s.tView=Hh(2,s,T,M,w,m.directiveRegistry,m.pipeRegistry,null,m.schemas,m.consts,null);null!==m.queries&&(m.queries.template(m,s),J.queries=m.queries.embeddedTView(s))}R&&(s.flags|=R),(0,c.iMd)(s,!1);const B=qc(m,p,s,b);(0,c.SX7)()&&Ed(m,p,B,s),lt(B,p);const G=Kf(B,p,B,s);p[b+c.Yw1]=G,Vh(p,G)}function sa(s,p,m,b,T,M,w,R,B,G,J){const le=m+c.Yw1;let ye;if(p.firstCreatePass){if(ye=lo(p,le,4,w||null,R||null),null!=G){const Pe=(0,c.db4)(p.consts,G);ye.localNames=[];for(let Oe=0;Oe<Pe.length;Oe+=2)ye.localNames.push(Pe[Oe],-1)}}else ye=p.data[le];return Jn(ye,s,p,m,b,T,M,B),null!=G&&ro(s,ye,J),ye}function Qc(s,p,m,b,T,M,w,R){const B=(0,c.OAn)(),G=(0,c.klJ)();return function Yg(s,p,m,b,T,M,w,R,B,G,J){const le=m+c.Yw1;let ye;p.firstCreatePass?(ye=lo(p,le,4,w||null,R||null),(0,c.ckz)()&&gv(p,s,ye,(0,c.db4)(p.consts,G),Cd),Xt(p,ye)):ye=p.data[le],Jn(ye,s,p,m,b,T,M,B),(0,c.yoD)(ye)&&Dc(p,s,ye),null!=G&&ro(s,ye,J)}(B,G,s,p,m,b,T,(0,c.db4)(G.consts,M),void 0,w,R),Qc}function bo(s,p,m,b,T,M,w,R){const B=(0,c.OAn)(),G=(0,c.klJ)();return sa(B,G,s,p,m,b,T,(0,c.db4)(G.consts,M),void 0,w,R),bo}let qc=function js(s,p,m,b){return(0,c.m7n)(!0),p[c.GpT].createComment("")};var nn=function(s){return s[s.NOT_STARTED=0]="NOT_STARTED",s[s.IN_PROGRESS=1]="IN_PROGRESS",s[s.COMPLETE=2]="COMPLETE",s[s.FAILED=3]="FAILED",s}(nn||{}),ki=function(s){return s[s.Placeholder=0]="Placeholder",s[s.Loading=1]="Loading",s[s.Complete=2]="Complete",s[s.Error=3]="Error",s}(ki||{}),Po=function(s){return s[s.Initial=-1]="Initial",s}(Po||{}),Al=function(s){return s[s.Manual=0]="Manual",s[s.Playthrough=1]="Playthrough",s}(Al||{});function Pn(s,p,m){const b=Xg(s);null===p[b]&&(p[b]=[]),p[b].push(m)}function lp(s,p){const m=Xg(s),b=p[m];if(null!==b){for(const T of b)T();p[m]=null}}function zv(s){lp(1,s),lp(0,s),lp(2,s)}function Xg(s){let p=4;return 1===s?p=5:2===s&&(p=9),p}function tu(s){return s+1}function ra(s,p){return s[tu(p.index)]}function Hn(s,p){const m=tu(p.index);return s.data[m]}function Jg(s,p){return p===ki.Placeholder?s.placeholderBlockConfig?.[0]??null:p===ki.Loading?s.loadingBlockConfig?.[0]??null:null}function Qg(s){return s.loadingBlockConfig?.[1]??null}function Yv(s,p){if(!s||0===s.length)return p;const m=new Set(s);for(const b of p)m.add(b);return s.length===m.size?s:Array.from(m)}function cp(s,p,m,b){const T=m.get(c.SKi);return function Wa(s,p,m,b){const T=as(b);let M=Ua.get(s)?.get(T);pr.has(T)||pr.set(T,{observer:m(b),count:0});const w=pr.get(T);if(!M){M=new hr,w.observer.observe(s);let R=Ua.get(s);R?R.set(T,M):(R=new Map,Ua.set(s,R)),R.set(T,M),w.count++}return M.callbacks.add(p),()=>{if(Ua.get(s)?.has(T)){if(M.callbacks.delete(p),0===M.callbacks.size){w.observer.unobserve(s),w.count--;const R=Ua.get(s);R&&(R.delete(T),0===R.size&&Ua.delete(s))}0===w.count&&(w.observer.disconnect(),pr.delete(T))}}}(s,()=>T.run(p),M=>T.runOutsideAngular(()=>function Nu(s){const p=as(s);return new IntersectionObserver(m=>{for(const b of m)b.isIntersecting&&Ua.has(b.target)&&Ua.get(b.target)?.get(p)?.listener()},s)}(M)),b)}function El(s,p,m,b,T,M,w,R){const B=s[c.YEL],G=B.get(c.SKi);let J;J=function hA(s,p){const m=p?.injector??(0,c.WQX)(c.zZn);return Gn("NgAfterRender"),_f(s,m,p,!1)}({read:function le(){if((0,c.EPY)(s))return void J.destroy();const ye=ra(s,p),Pe=ye[1];if(Pe!==Po.Initial&&Pe!==ki.Placeholder)return void J.destroy();const Oe=function bM(s,p,m){return null==m?s:m>=0?(0,c.jRZ)(m,s):s[p.index][c.Y20]??null}(s,p,b);if(!Oe||(J.destroy(),(0,c.EPY)(Oe)))return;const Xe=function Jv(s,p){return(0,c.vaC)(c.Yw1+p,s)}(Oe,m),dt=T(Xe,()=>{G.run(()=>{s!==Oe&&(0,c.DyX)(Oe,dt),M()})},B,R);s!==Oe&&(0,c.ik5)(Oe,dt),Pn(w,ye,dt)}},{injector:B})}function up(s,p){const m=p.get(Sl);return m.add(s),()=>m.remove(s)}let Sl=(()=>{class s{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=(0,c.WQX)(c.SKi);requestIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout)().bind(globalThis);add(m){(this.executingCallbacks?this.deferred:this.current).add(m),null===this.idleId&&this.scheduleIdleCallback()}remove(m){const{current:b,deferred:T}=this;b.delete(m),T.delete(m),0===b.size&&0===T.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const m=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const b of this.current)b();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const b of this.deferred)this.current.add(b);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(m))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static \u0275prov=(0,c.jDH)({token:s,providedIn:"root",factory:()=>new s})}return s})();function iu(s){return(p,m)=>qg(s,p,m)}function qg(s,p,m){const b=m.get(QS),T=m.get(c.SKi);return b.add(s,p,T),()=>b.remove(p)}let QS=(()=>{class s{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(m,b,T){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+m,b),this.scheduleTimer(T)}remove(m){const{current:b,deferred:T}=this;-1===this.removeFromQueue(b,m)&&this.removeFromQueue(T,m),0===b.length&&0===T.length&&this.clearTimeout()}addToQueue(m,b,T){let M=m.length;for(let w=0;w<m.length;w+=2)if(m[w]>b){M=w;break}(0,c.llW)(m,M,b,T)}removeFromQueue(m,b){let T=-1;for(let M=0;M<m.length;M+=2)if(m[M+1]===b){T=M;break}return T>-1&&(0,c.gsJ)(m,T,2),T}scheduleTimer(m){const b=()=>{this.clearTimeout(),this.executingCallbacks=!0;const M=[...this.current],w=Date.now();for(let B=0;B<M.length;B+=2){const J=M[B+1];if(!(M[B]<=w))break;J()}let R=-1;for(let B=0;B<this.current.length&&this.current[B]<=w;B+=2)R=B+1;if(R>=0&&(0,c.gsJ)(this.current,0,R+1),this.executingCallbacks=!1,this.deferred.length>0){for(let B=0;B<this.deferred.length;B+=2)this.addToQueue(this.current,this.deferred[B],this.deferred[B+1]);this.deferred.length=0}this.scheduleTimer(m)};if(this.current.length>0){const M=Date.now(),w=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-w>16){this.clearTimeout();const R=Math.max(w-M,16);this.invokeTimerAt=w,this.timeoutId=m.runOutsideAngular(()=>setTimeout(()=>m.run(b),R))}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=(0,c.jDH)({token:s,providedIn:"root",factory:()=>new s})}return s})(),qS=(()=>{class s{cachedInjectors=new Map;getOrCreateInjector(m,b,T,M){if(!this.cachedInjectors.has(m)){const w=T.length>0?Kg(T,b,M):null;this.cachedInjectors.set(m,w)}return this.cachedInjectors.get(m)}ngOnDestroy(){try{for(const m of this.cachedInjectors.values())null!==m&&m.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,c.jDH)({token:s,providedIn:"environment",factory:()=>new s})}return s})();const e1=new c.nKC("");function Zg(s,p,m){return s.get(qS).getOrCreateInjector(p,s,m,"")}function Tr(s,p,m,b=!1){const T=m[c.f7T],M=T[c.eDl];if((0,c.EPY)(T))return;const w=ra(T,p),B=w[7];if(!(null!==B&&s<B)&&pp(w[1],s)&&pp(w[0]??-1,s)){const G=Hn(M,p),le=b||null===Qg(G)&&null===Jg(G,ki.Loading)&&!Jg(G,ki.Placeholder)?dp:em;try{le(s,w,m,p,T)}catch(ye){lg(T,ye)}}}function dp(s,p,m,b,T){rt(He.DeferBlockStateStart);const M=function zS(s,p,m){const T=Hn(p[c.eDl],m);switch(s){case ki.Complete:return T.primaryTmplIndex;case ki.Loading:return T.loadingTmplIndex;case ki.Error:return T.errorTmplIndex;case ki.Placeholder:return T.placeholderTmplIndex;default:return null}}(s,T,b);if(null!==M){p[1]=s;const w=T[c.eDl],B=(0,c.XRZ)(w,M+c.Yw1),G=0;let J;if(hg(m,G),s===ki.Complete){const Oe=Hn(w,b),Xe=Oe.providers;Xe&&Xe.length>0&&(J=function Qv(s,p,m){if(s instanceof _l){const T=s.injector,w=Zg(s.parentInjector,p,m);return new _l(T,w)}const b=s.get(c.uvJ);if(b!==s){const T=Zg(b,p,m);return new _l(s,T)}return Zg(s,p,m)}(T[c.YEL],Oe,Xe))}const{dehydratedView:le,dehydratedViewIx:ye}=function t1(s,p){const m=s[c.qFA]?.findIndex(T=>T.data.s===p[1])??-1;return{dehydratedView:m>-1?s[c.qFA][m]:null,dehydratedViewIx:m}}(m,p),Pe=Pr(T,B,null,{injector:J,dehydratedView:le});if(gl(m,Pe,G,oo(B,le)),hl(Pe,2),ye>-1&&m[c.qFA]?.splice(ye,1),(s===ki.Complete||s===ki.Error)&&Array.isArray(p[8])){for(const Oe of p[8])Oe();p[8]=null}}rt(He.DeferBlockStateEnd)}function i1(s,p,m,b,T){const M=Date.now(),R=Hn(T[c.eDl],b);if(null===p[2]||p[2]<=M){p[2]=null;const B=Qg(R),G=null!==p[3];if(s!==ki.Loading||null===B||G){s>ki.Loading&&G&&(p[3](),p[3]=null,p[0]=null),dp(s,p,m,b,T);const J=Jg(R,s);null!==J&&(p[2]=M+J,qv(J,p,b,m,T))}else{p[0]=s;const J=qv(B,p,b,m,T);p[3]=J}}else p[0]=s}function qv(s,p,m,b,T){return qg(s,()=>{const w=p[0];p[2]=null,p[0]=null,null!==w&&Tr(w,m,b)},T[c.YEL])}function pp(s,p){return s<p}function Tl(s,p){Tr(ki.Placeholder,p,s[p.index])}function Zv(s,p,m){s.loadingPromise.then(()=>{s.loadingState===nn.COMPLETE?Tr(ki.Complete,p,m):s.loadingState===nn.FAILED&&Tr(ki.Error,p,m)})}let em=null;function a1(s,p,m,b){return t(()=>{const T=s;null!==p&&(T.hasOwnProperty("decorators")&&void 0!==T.decorators?T.decorators.push(...p):T.decorators=p),null!==m&&(T.ctorParameters=m),null!==b&&(T.propDecorators=T.hasOwnProperty("propDecorators")&&void 0!==T.propDecorators?{...T.propDecorators,...b}:b)})}let ey=(()=>{class s{log(m){console.log(m)}warn(m){console.warn(m)}static \u0275fac=function(b){return new(b||s)};static \u0275prov=(0,c.jDH)({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function ny(s){return function iy(s){return"function"==typeof s&&void 0!==s[A.bh]}(s)&&"function"==typeof s.set}const ru=new c.nKC(""),vp=new c.nKC("");let sm,uy=(()=>{class s{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(m,b,T){this._ngZone=m,this.registry=b,(0,c.M6u)()&&(this._destroyRef=(0,c.WQX)(c.abz,{optional:!0})??void 0),sm||(function py(s){sm=s}(T),T.addToWindow(b)),this._watchAngularEvents(),m.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const m=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),b=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{c.SKi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{m.unsubscribe(),b.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let m=this._callbacks.pop();clearTimeout(m.timeoutId),m.doneCb()}});else{let m=this.getPendingTasks();this._callbacks=this._callbacks.filter(b=>!b.updateCb||!b.updateCb(m)||(clearTimeout(b.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(m=>({source:m.source,creationLocation:m.creationLocation,data:m.data})):[]}addCallback(m,b,T){let M=-1;b&&b>0&&(M=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==M),m()},b)),this._callbacks.push({doneCb:m,timeoutId:M,updateCb:T})}whenStable(m,b,T){if(T&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(m,b,T),this._runCallbacksIfReady()}registerApplication(m){this.registry.registerApplication(m,this)}unregisterApplication(m){this.registry.unregisterApplication(m)}findProviders(m,b,T){return[]}static \u0275fac=function(b){return new(b||s)((0,c.KVO)(c.SKi),(0,c.KVO)(dy),(0,c.KVO)(vp))};static \u0275prov=(0,c.jDH)({token:s,factory:s.\u0275fac})}return s})(),dy=(()=>{class s{_applications=new Map;registerApplication(m,b){this._applications.set(m,b)}unregisterApplication(m){this._applications.delete(m)}unregisterAllApplications(){this._applications.clear()}getTestability(m){return this._applications.get(m)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(m,b=!0){return sm?.findTestabilityInTree(this,m,b)??null}static \u0275fac=function(b){return new(b||s)};static \u0275prov=(0,c.jDH)({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function hy(s){return!!s&&"function"==typeof s.then}function gy(s){return!!s&&"function"==typeof s.subscribe}const rm=new c.nKC("");let my=(()=>{class s{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((m,b)=>{this.resolve=m,this.reject=b});appInits=(0,c.WQX)(rm,{optional:!0})??[];injector=(0,c.WQX)(c.zZn);constructor(){}runInitializers(){if(this.initialized)return;const m=[];for(const T of this.appInits){const M=(0,c.N4e)(this.injector,T);if(hy(M))m.push(M);else if(gy(M)){const w=new Promise((R,B)=>{M.subscribe({complete:R,error:B})});m.push(w)}}const b=()=>{this.done=!0,this.resolve()};Promise.all(m).then(()=>{b()}).catch(T=>{this.reject(T)}),0===m.length&&b(),this.initialized=!0}static \u0275fac=function(b){return new(b||s)};static \u0275prov=(0,c.jDH)({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const N1=new c.nKC("");function U1(){}function W1(){(0,A.KO)(()=>{throw new c.buA(600,"")})}function _y(s,p){return Array.isArray(p)?p.reduce(_y,s):{...s,...p}}let ou=(()=>{class s{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=(0,c.WQX)(c.ZTf);afterRenderManager=(0,c.WQX)(gf);zonelessEnabled=(0,c.WQX)(c.Evm);rootEffectScheduler=(0,c.WQX)(c.VML);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new _.B7;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=(0,c.WQX)(c.rev);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe((0,e.T)(m=>!m))}constructor(){(0,c.WQX)(Ec,{optional:!0})}whenStable(){let m;return new Promise(b=>{m=this.isStable.subscribe({next:T=>{T&&b()}})}).finally(()=>{m.unsubscribe()})}_injector=(0,c.WQX)(c.uvJ);_rendererFactory=null;get injector(){return this._injector}bootstrap(m,b){return this.bootstrapImpl(m,b)}bootstrapImpl(m,b,T=c.zZn.NULL){return this._injector.get(c.SKi).run(()=>{rt(He.BootstrapComponentStart);const w=m instanceof pv;if(!this._injector.get(my).done)throw new c.buA(405,"");let B;B=w?m:this._injector.get(Hd).resolveComponentFactory(m),this.componentTypes.push(B.componentType);const G=function K1(s){return s.isBoundToModule}(B)?void 0:this._injector.get(Sr),le=B.create(T,[],b||B.selector,G),ye=le.location.nativeElement,Pe=le.injector.get(ru,null);return Pe?.registerApplication(ye),le.onDestroy(()=>{this.detachView(le.hostView),Ao(this.components,le),Pe?.unregisterApplication(ye)}),this._loadComponent(le),rt(He.BootstrapComponentEnd,le),le})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){rt(He.ChangeDetectionStart),null!==this.tracingSnapshot?this.tracingSnapshot.run(Jh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw rt(He.ChangeDetectionEnd),new c.buA(101,!1);const m=(0,A.Ht)(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,(0,A.Ht)(m),this.afterTick.next(),rt(He.ChangeDetectionEnd)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Sg,null,{optional:!0}));let m=0;for(;0!==this.dirtyFlags&&m++<10;){rt(He.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{rt(He.ChangeDetectionSyncEnd)}}}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let m=!1;if(7&this.dirtyFlags){const b=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:T}of this.allViews)(b||(0,c.dMS)(T))&&(Rd(T,b&&!this.zonelessEnabled?0:1),m=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}m||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:m})=>(0,c.dMS)(m))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(m){const b=m;this._views.push(b),b.attachToAppRef(this)}detachView(m){const b=m;Ao(this._views,b),b.detachFromAppRef()}_loadComponent(m){this.attachView(m.hostView);try{this.tick()}catch(T){this.internalErrorHandler(T)}this.components.push(m),this._injector.get(N1,[]).forEach(T=>T(m))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(m=>m()),this._views.slice().forEach(m=>m.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(m){return this._destroyListeners.push(m),()=>Ao(this._destroyListeners,m)}destroy(){if(this._destroyed)throw new c.buA(406,!1);const m=this._injector;m.destroy&&!m.destroyed&&m.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(b){return new(b||s)};static \u0275prov=(0,c.jDH)({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Ao(s,p){const m=s.indexOf(p);m>-1&&s.splice(m,1)}function lu(){let s,p;return{promise:new Promise((b,T)=>{s=b,p=T}),resolve:s,reject:p}}function lm(s){const p=(0,c.OAn)(),m=(0,c.Mx4)();if(Tl(p,m),!vy(0,p))return;const b=p[c.YEL];Pn(0,ra(p,m),s(()=>Eo(0,p,m),b))}function fy(s){const p=(0,c.OAn)(),m=p[c.YEL],b=(0,c.Mx4)(),M=Hn(p[c.eDl],b);M.loadingState===nn.NOT_STARTED&&Pn(1,ra(p,b),s(()=>cu(M,p,b),m))}function wa(s,p,m){const b=p[c.YEL],T=ra(p,m),M=T[6];Pn(2,T,s(()=>Js(b,M),b))}function cu(s,p,m){yp(s,p,m)}function yp(s,p,m){const b=p[c.YEL],T=p[c.eDl];if(s.loadingState!==nn.NOT_STARTED)return s.loadingPromise??Promise.resolve();const M=ra(p,m),w=function YS(s,p){return(0,c.XRZ)(s,p.primaryTmplIndex+c.Yw1)}(T,s);s.loadingState=nn.IN_PROGRESS,lp(1,M);let R=s.dependencyResolverFn;const B=b.get(c.u5s).add();return R?(s.loadingPromise=Promise.allSettled(R()).then(G=>{let J=!1;const le=[],ye=[];for(const Pe of G){if("fulfilled"!==Pe.status){J=!0;break}{const Oe=Pe.value,Xe=(0,c.xUg)(Oe)||(0,c.HaV)(Oe);if(Xe)le.push(Xe);else{const dt=(0,c.oyA)(Oe);dt&&ye.push(dt)}}}if(J){if(s.loadingState=nn.FAILED,null===s.errorTmplIndex){const Oe=new c.buA(-750,!1);lg(p,Oe)}}else{s.loadingState=nn.COMPLETE;const Pe=w.tView;if(le.length>0){Pe.directiveRegistry=Yv(Pe.directiveRegistry,le);const Oe=le.map(dt=>dt.type),Xe=(0,c.jXY)(!1,...Oe);s.providers=Xe}ye.length>0&&(Pe.pipeRegistry=Yv(Pe.pipeRegistry,ye))}}),s.loadingPromise.finally(()=>{s.loadingPromise=null,B()})):(s.loadingPromise=Promise.resolve().then(()=>{s.loadingPromise=null,s.loadingState=nn.COMPLETE,B()}),s.loadingPromise)}function vy(s,p){return p[c.YEL].get(e1,null,{optional:!0})?.behavior!==Al.Manual}function Eo(s,p,m){const b=p[c.eDl],T=p[m.index];if(!vy(0,p))return;const M=ra(p,m),w=Hn(b,m);switch(zv(M),w.loadingState){case nn.NOT_STARTED:Tr(ki.Loading,m,T),yp(w,p,m),w.loadingState===nn.IN_PROGRESS&&Zv(w,m,T);break;case nn.IN_PROGRESS:Tr(ki.Loading,m,T),Zv(w,m,T);break;case nn.COMPLETE:Tr(ki.Complete,m,T);break;case nn.FAILED:Tr(ki.Error,m,T)}}function Js(s,p,m){return cm.apply(this,arguments)}function cm(){return(cm=(0,P.A)(function*(s,p,m){const b=s.get(un);if(b.hydrating.has(p))return;const{parentBlockPromise:M,hydrationQueue:w}=function zu(s,p){const m=p.get(un),T=p.get(at).get("__nghDeferData__",{});let M=!1,w=s,R=null;const B=[];for(;!M&&w;){M=m.has(w);const G=m.hydrating.get(w);if(null===R&&null!=G){R=G.promise;break}B.unshift(w),w=T[w].p}return{parentBlockPromise:R,hydrationQueue:B}}(p,s);if(0===w.length)return;null!==M&&w.shift(),function j1(s,p){for(let m of p)s.hydrating.set(m,lu())}(b,w),null!==M&&(yield M);const R=w[0];b.has(R)?yield yy(s,w,m):b.awaitParentBlock(R,(0,P.A)(function*(){return yield yy(s,w,m)}))})).apply(this,arguments)}function yy(s,p,m){return um.apply(this,arguments)}function um(){return(um=(0,P.A)(function*(s,p,m){const b=s.get(un),T=b.hydrating,M=s.get(c.rev),w=M.add();for(let B=0;B<p.length;B++){const G=p[B],J=b.get(G);if(null==J){H1(B,p,b),by(p.slice(B),b);break}if(yield Py(J),yield V1(s),G1(J)){DE(J),by(p.slice(B),b);break}T.get(G).resolve()}const R=p[p.length-1];yield T.get(R)?.promise,M.remove(w),m&&m(p),function CE(s,p,m,b){null!==s&&(m.cleanup(p),$d(s.lContainer),function ME(s){const p=s._views;for(const m of p){const b=fh(m);null!==b&&null!==b[c.jgP]&&((0,c.q$2)(b)?Gd(b):$d(b))}}(b))}(b.get(R),p,b,s.get(ou))})).apply(this,arguments)}function G1(s){return ra(s.lView,s.tNode)[1]===ki.Error}function H1(s,p,m){const b=s-1,T=b>-1?m.get(p[b]):null;T&&$d(T.lContainer)}function by(s,p){const m=p.hydrating;for(const b in s)m.get(b)?.reject();p.cleanup(s)}function V1(s){return new Promise(p=>Qh(p,{injector:s}))}function Py(s){return dm.apply(this,arguments)}function dm(){return(dm=(0,P.A)(function*(s){const{tNode:p,lView:m}=s,b=ra(m,p);return new Promise(T=>{(function z1(s,p){Array.isArray(s[8])||(s[8]=[]),s[8].push(p)})(b,T),Eo(0,m,p)})})).apply(this,arguments)}function Ki(s,p,m){return 0===s?uu(p,m):2!==s||!uu(p,m)}function uu(s,p){const m=s[c.YEL],b=Hn(s[c.eDl],p),T=Hu(m),M=function pm(s){return null!=s&&!(1&~s)}(b.flags),R=null!==ra(s,p)[6];return!(M&&R&&T)}function Va(s,p){const m=Hn(s,p);return m.hydrateTriggers??=new Map}function Sy(s,p,m,b,T,M,w,R,B,G){const J=(0,c.OAn)(),le=(0,c.klJ)(),ye=s+c.Yw1,Pe=sa(J,le,s,null,0,0),Oe=J[c.YEL],Xe=Hu(Oe);if(le.firstCreatePass){Gn("NgDefer");const ar={primaryTmplIndex:p,loadingTmplIndex:b??null,placeholderTmplIndex:T??null,errorTmplIndex:M??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:m??null,loadingState:nn.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:G??0};B?.(le,ar,R,w),function VS(s,p,m){const b=tu(p);s.data[b]=m}(le,ye,ar)}const dt=J[ye];let St=null,Ze=null;if(dt[c.qFA]?.length>0){const ar=dt[c.qFA][0].data;Ze=ar.di??null,St=ar.s}const ci=[null,Po.Initial,null,null,null,null,Ze,St,null,null];!function jS(s,p,m){s[tu(p)]=m}(J,ye,ci);let jn=null;null!==Ze&&Xe&&(jn=Oe.get(un),jn.add(Ze,{lView:J,tNode:Pe,lContainer:dt}));const $i=()=>{zv(ci),null!==Ze&&jn?.cleanup([Ze])};Pn(0,ci,()=>(0,c.DyX)(J,$i)),(0,c.ik5)(J,$i)}function Ty(s){const p=(0,c.OAn)(),m=(0,c.CpD)();if(Ki(0,p,m)&&Ni(p,(0,c.xbp)(),s)){const T=(0,A.Ht)(null);try{const M=!!s,R=ra(p,m)[1];!1===M&&R===Po.Initial?Tl(p,m):!0===M&&(R===Po.Initial||R===ki.Placeholder)&&Eo(0,p,m)}finally{(0,A.Ht)(T)}}}function Ap(s,p,m,b){const T=(0,c.OAn)();return Ni(T,(0,c.xbp)(),p)&&((0,c.klJ)(),function DA(s,p,m,b,T,M){const w=(0,c.d31)(s,p);kd(p[c.GpT],w,M,s.value,m,b,T)}((0,c.CpD)(),T,s,p,m,b)),Ap}const Oy=new c.nKC("",{factory:()=>!1}),Iy=new c.nKC("",{factory:()=>Ry}),Ry=4e3,Dr=typeof document<"u"&&"function"==typeof document?.documentElement?.getAnimations;function pu(s){return s[c.YEL].get(Oy,!1)}function fa(s){const p=wl.get(s);if(p){for(const m of p.cleanupFns)m();wl.delete(s)}Do.delete(s)}const ym=()=>{},wl=new WeakMap,Do=new WeakMap,Mr=new WeakMap;function Ya(s,p){const m=Mr.get(s);if(m&&m.length>0){const b=m.findIndex(T=>T===p);b>-1&&m.splice(b,1)}0===m?.length&&Mr.delete(s)}function Ds(s,p){const m=Mr.get(s)?.shift(),b=p[c.rQE];if(b){const M=Sd(s.index,b)?.previousSibling;m&&M&&m===M&&m.dispatchEvent(new CustomEvent("animationend",{detail:{cancel:!0}}))}}function hu(s,p){Mr.has(s)?Mr.get(s)?.push(p):Mr.set(s,[p])}function qs(s){const p=s[c.Isx]??={};return p.enter??=new Map}function Zs(s){const p=s[c.Isx]??={};return p.leave??=new Map}function bm(s){const p="function"==typeof s?s():s;let m=Array.isArray(p)?p:null;return"string"==typeof p&&(m=p.trim().split(/\s+/).filter(b=>b)),m}function Am(s,p){const m=Do.get(p);return void 0===m||p===s.target&&(void 0!==m.animationName&&s.animationName===m.animationName||void 0!==m.propertyName&&s.propertyName===m.propertyName)}function Xa(s,p,m){const b=s.get(p.index)??{animateFns:[]};b.animateFns.push(m),s.set(p.index,b)}function Em(s,p){if(s)for(const m of s)m();for(const m of p)m()}function Ms(s,p){const m=Zs(s).get(p.index);m&&(m.resolvers=void 0)}function Mo(s,p,m,b,T){Ya(p,m),Em(b,T),Ms(s,p)}function Uy(s,p){const m=s.fieldIndex;return-1===m?void 0:p[m]}function Wy(s,p){return function Dp(s,p){return p in s.inputs}(s,p)&&Ky(s,p+"Change")}function Ky(s,p){return p in s.outputs}function Dm(s,p,m,b){const T=(0,c.klJ)(),M=p.customControlIndex,w=b+"Change";vl(p,s,M,w,w,$s(p,s,G=>m.state().setControlValue(G)));const B="touchedChange";Ky(T.data[M],B)&&vl(p,s,M,B,B,$s(p,s,()=>m.state().markAsTouched()))}function Rl(s,p,m,b){const T=(0,c.klJ)(),M=s.customControlIndex,w=p[M],R=T.data[M],B=m.state(),G=Cp(p),J=B.controlValue();Co(G,Rm,J)&&ao(R,w,b,J);const le=!!(8192&s.flags),ye=le?(0,c.d31)(s,p):null,Pe=p[c.GpT];for(const Oe of Lm){const Xe=B[Oe]?.();if(Co(G,Oe,Xe)){const dt=xl[Oe];Mp(s,p,dt,Xe),le&&!(dt in R.inputs)&&Om(s,Pe,ye,Oe,Xe,dt)}}}function Mp(s,p,m,b){const T=s.inputs?.[m];if(T){const M=(0,c.klJ)();for(const w of T)ao(M.data[w],p[w],m,b);return!0}return!1}function Om(s,p,m,b,T,M){switch(b){case pT:p.setAttribute(m,M,T);break;case Im:case hT:case Xy:!function mT(s,p,m,b){b?s.setAttribute(p,m,""):s.removeAttribute(p,m)}(p,m,M,T);break;case Vy:case dT:16384&s.flags&&Jy(p,m,M,T);break;case zy:case Yy:32768&s.flags&&Jy(p,m,M,T)}}function Gy(s){return null===s||s instanceof Date}function jy(s,p){isNaN(p)?s.value="":s.valueAsNumber=p}const Im=(0,c.kLh)({disabled:c.kLh}),Vy=(0,c.kLh)({max:c.kLh}),zy=(0,c.kLh)({maxLength:c.kLh}),dT=(0,c.kLh)({min:c.kLh}),Yy=(0,c.kLh)({minLength:c.kLh}),pT=(0,c.kLh)({name:c.kLh}),hT=(0,c.kLh)({readonly:c.kLh}),Xy=(0,c.kLh)({required:c.kLh}),Rm=(0,c.kLh)({controlValue:c.kLh}),xl={disabled:"disabled",disabledReasons:"disabledReasons",dirty:"dirty",errors:"errors",hidden:"hidden",invalid:"invalid",max:"max",maxLength:"maxLength",min:"min",minLength:"minLength",name:"name",pattern:"pattern",pending:"pending",readonly:"readonly",required:"required",touched:"touched"},Lm=Object.keys(xl);function Cp(s){const p=(0,c.c$7)();let m=s[p];return m===Ai&&(m=s[p]={}),m}function Co(s,p,m){return!Object.is(s[p],m)&&(s[p]=m,!0)}function gT(s,p,m){return!Object.is(s[p],m)&&(s[p]=m,!0)}function Jy(s,p,m,b){void 0!==b?s.setAttribute(p,m,b.toString()):s.removeAttribute(p,m)}class _T{destroy(p){}updateValue(p,m){}swap(p,m){const b=Math.min(p,m),T=Math.max(p,m),M=this.detach(T);if(T-b>1){const w=this.detach(b);this.attach(b,M),this.attach(T,w)}else this.attach(b,M)}move(p,m){this.attach(m,this.detach(p))}}function xm(s,p,m,b,T){return s===m&&Object.is(p,b)?1:Object.is(T(s,p),T(m,b))?-1:0}function Bm(s,p,m,b){return!(void 0===p||!p.has(b)||(s.attach(m,p.get(b)),p.delete(b),0))}function Fm(s,p,m,b,T){if(Bm(s,p,b,m(b,T)))s.updateValue(b,T);else{const M=s.create(b,T);s.attach(b,M)}}function Nm(s,p,m,b){const T=new Set;for(let M=p;M<=m;M++)T.add(b(M,s.at(M)));return T}class vu{kvMap=new Map;_vMap=void 0;has(p){return this.kvMap.has(p)}delete(p){if(!this.has(p))return!1;const m=this.kvMap.get(p);return void 0!==this._vMap&&this._vMap.has(m)?(this.kvMap.set(p,this._vMap.get(m)),this._vMap.delete(m)):this.kvMap.delete(p),!0}get(p){return this.kvMap.get(p)}set(p,m){if(this.kvMap.has(p)){let b=this.kvMap.get(p);void 0===this._vMap&&(this._vMap=new Map);const T=this._vMap;for(;T.has(b);)b=T.get(b);T.set(b,m)}else this.kvMap.set(p,m)}forEach(p){for(let[m,b]of this.kvMap)if(p(b,m),void 0!==this._vMap){const T=this._vMap;for(;T.has(b);)b=T.get(b),p(b,m)}}}function Um(s,p,m,b,T,M,w,R){Gn("NgControlFlow");const B=(0,c.OAn)(),G=(0,c.klJ)();return sa(B,G,s,p,m,b,T,(0,c.db4)(G.consts,M),512,w,R),Um}class yT{lContainer;$implicit;$index;constructor(p,m,b){this.lContainer=p,this.$implicit=m,this.$index=b}get $count(){return this.lContainer.length-c.Y20}}class Km{hasEmptyBlock;trackByFn;liveCollection;constructor(p,m,b){this.hasEmptyBlock=p,this.trackByFn=m,this.liveCollection=b}}class qy extends _T{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(p,m,b){super(),this.lContainer=p,this.hostLView=m,this.templateTNode=b}get length(){return this.lContainer.length-c.Y20}at(p){return this.getLView(p)[c.SKP].$implicit}attach(p,m){const b=m[c.tcA];this.needsIndexUpdate||=p!==this.length,gl(this.lContainer,m,p,oo(this.templateTNode,b)),function ET(s,p){if(s.length<=c.Y20)return;const b=s[c.Y20+p],T=b?b[c.Isx]:void 0;b&&T&&T.detachedLeaveAnimationFns&&T.detachedLeaveAnimationFns.length>0&&(function bd(s,p){const m=s.get(yd);if(p.detachedLeaveAnimationFns){for(const b of p.detachedLeaveAnimationFns)m.queue.delete(b);p.detachedLeaveAnimationFns=void 0}}(b[c.YEL],T),Ks.delete(b[c.ID]),T.detachedLeaveAnimationFns=void 0)}(this.lContainer,p)}detach(p){return this.needsIndexUpdate||=p!==this.length-1,function Zy(s,p){if(s.length<=c.Y20)return;const b=s[c.Y20+p],T=b?b[c.Isx]:void 0;T&&T.leave&&T.leave.size>0&&(T.detachedLeaveAnimationFns=[])}(this.lContainer,p),function er(s,p){return Oc(s,p)}(this.lContainer,p)}create(p,m){return Pr(this.hostLView,this.templateTNode,new yT(this.lContainer,m,p),{dehydratedView:null})}destroy(p){Tc(p[c.eDl],p)}updateValue(p,m){this.getLView(p)[c.SKP].$implicit=m}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let p=0;p<this.length;p++)this.getLView(p)[c.SKP].$index=p}getLView(p){return function kr(s,p){return pg(s,p)}(this.lContainer,p)}}function kp(s,p){return s[p]}function wr(s,p){return(0,c.XRZ)(s,p)}function Cs(s,p,m){const b=(0,c.OAn)();return Ni(b,(0,c.xbp)(),p)&&((0,c.klJ)(),Mc((0,c.CpD)(),b,s,p,b[c.GpT],m)),Cs}function wp(s,p,m,b,T){Od(p,s,m,T?"class":"style",b)}function ko(s,p,m,b){const T=(0,c.OAn)(),M=T[c.eDl],w=s+c.Yw1,R=M.firstCreatePass?Mg(w,T,2,p,Cd,(0,c.ckz)(),m,b):M.data[w];if(wd(R,T,s,p,ya),(0,c.yoD)(R)){const B=T[c.eDl];Dc(B,T,R),rc(B,R,T)}return null!=b&&ro(T,R),ko}function Or(){const s=(0,c.klJ)(),m=Cc((0,c.Mx4)());return s.firstCreatePass&&Cg(s,m),(0,c.UhH)(m)&&(0,c.krE)(),(0,c.N79)(),null!=m.classesWithoutHost&&function zt(s){return!!(8&s.flags)}(m)&&wp(s,m,(0,c.OAn)(),m.classesWithoutHost,!0),null!=m.stylesWithoutHost&&function Ht(s){return!!(16&s.flags)}(m)&&wp(s,m,(0,c.OAn)(),m.stylesWithoutHost,!1),Or}function Op(s,p,m,b){return ko(s,p,m,b),Or(),Op}function Bl(s,p,m,b){const T=(0,c.OAn)(),M=T[c.eDl],w=s+c.Yw1,R=M.firstCreatePass?yv(w,M,2,p,m,b):M.data[w];return wd(R,T,s,p,ya),null!=b&&ro(T,R),Bl}function Ip(){const p=Cc((0,c.Mx4)());return(0,c.UhH)(p)&&(0,c.krE)(),(0,c.N79)(),Ip}function va(s,p,m,b){return Bl(s,p,m,b),Ip(),va}let ya=(s,p,m,b,T)=>((0,c.m7n)(!0),Re(p[c.GpT],b,(0,c.UaU)()));function Fl(s,p,m){const b=(0,c.OAn)(),T=b[c.eDl],M=s+c.Yw1,w=T.firstCreatePass?Mg(M,b,8,"ng-container",Cd,(0,c.ckz)(),p,m):T.data[M];if(wd(w,b,s,"ng-container",Lp),(0,c.yoD)(w)){const R=b[c.eDl];Dc(R,b,w),rc(R,w,b)}return null!=m&&ro(b,w),Fl}function yu(){const s=(0,c.klJ)(),m=Cc((0,c.Mx4)());return s.firstCreatePass&&Cg(s,m),yu}function $m(s,p,m){return Fl(s,p,m),yu(),$m}function Gm(s,p,m){const b=(0,c.OAn)(),T=b[c.eDl],M=s+c.Yw1,w=T.firstCreatePass?yv(M,T,8,"ng-container",p,m):T.data[M];return wd(w,b,s,"ng-container",Lp),null!=m&&ro(b,w),Gm}function Rp(){return Cc((0,c.Mx4)()),yu}let Lp=(s,p,m,b,T)=>((0,c.m7n)(!0),Se(p[c.GpT],""));function jm(){return(0,c.OAn)()}const Nl=void 0;var nb=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202fa","h:mm:ss\u202fa","h:mm:ss\u202fa z","h:mm:ss\u202fa zzzz"],["{1}, {0}",Nl,Nl,Nl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ib(s){const p=Math.floor(Math.abs(s)),m=s.toString().replace(/^[^.]*\.?/,"").length;return 1===p&&0===m?1:5}];let Ir={};function xp(s){const p=function bu(s){return s.toLowerCase().replace(/_/g,"-")}(s);let m=Vm(p);if(m)return m;const b=p.split("-")[0];if(m=Vm(b),m)return m;if("en"===b)return nb;throw new c.buA(701,!1)}function Bp(s){return xp(s)[Pa.PluralCase]}function Vm(s){return s in Ir||(Ir[s]=c.laP.ng&&c.laP.ng.common&&c.laP.ng.common.locales&&c.laP.ng.common.locales[s]),Ir[s]}var Pa=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(Pa||{});const MT=["zero","one","two","few","many"],Pu="en-US",wo={marker:"element"},Fp={marker:"ICU"};var Ra=function(s){return s[s.SHIFT=2]="SHIFT",s[s.APPEND_EAGERLY=1]="APPEND_EAGERLY",s[s.COMMENT=2]="COMMENT",s}(Ra||{});let zm=Pu;function CT(s){"string"==typeof s&&(zm=s.toLowerCase().replace(/_/g,"-"))}let Au=0,Eu=0;let Su=(s,p,m,b)=>((0,c.m7n)(!0),function OT(s,p,m){const b=s[c.GpT];switch(m){case Node.COMMENT_NODE:return Se(b,p);case Node.TEXT_NODE:return V(b,p);case Node.ELEMENT_NODE:return Re(b,p,null)}}(s,m,b));function rb(s,p,m,b){const T=m[c.GpT];let w,M=null;for(let R=0;R<p.length;R++){const B=p[R];if("string"==typeof B){const G=p[++R];null===m[G]&&(m[G]=Su(m,0,B,Node.TEXT_NODE))}else if("number"==typeof B)switch(1&B){case 0:const G=Jf(B);let J,le;if(null===M&&(M=G,w=T.parentNode(b)),G===M?(J=b,le=w):(J=null,le=(0,c.IvY)(m[G])),null!==le){const Xe=Qf(B);Je(T,le,m[Xe],J,!1);const St=Bc(s,Xe);if(null!==St&&"object"==typeof St){const Ze=Nd(St,m);null!==Ze&&rb(s,St.create[Ze],m,m[St.anchorIdx])}}break;case 1:const Pe=p[++R],Oe=p[++R];kd(T,(0,c.vaC)(B>>>1,m),null,null,Pe,Oe,null)}else switch(B){case Fp:const G=p[++R],J=p[++R];null===m[J]&&lt(m[J]=Su(m,0,G,Node.COMMENT_NODE),m);break;case wo:const le=p[++R],ye=p[++R];null===m[ye]&&lt(m[ye]=Su(m,0,le,Node.ELEMENT_NODE),m)}}}function Tu(s,p,m,b,T){for(let M=0;M<m.length;M++){const w=m[M],R=m[++M];if(w&T){let B="";for(let G=M+1;G<=M+R;G++){const J=m[G];if("string"==typeof J)B+=J;else if("number"==typeof J)if(J<0)B+=(0,c.eFE)(p[b-J]);else{const le=J>>>2;switch(3&J){case 1:const ye=m[++G],Pe=m[++G],Oe=s.data[le];"string"==typeof Oe?kd(p[c.GpT],p[le],null,Oe,ye,B,Pe):Mc(Oe,p,ye,B,p[c.GpT],Pe);break;case 0:const Xe=p[le];null!==Xe&&se(p[c.GpT],Xe,B);break;case 2:Ul(s,Bc(s,le),p,B);break;case 3:ob(s,Bc(s,le),b,p)}}}}else{const B=m[M+1];if(B>0&&!(3&~B)){const J=Bc(s,B>>>2);p[J.currentCaseLViewIndex]<0&&ob(s,J,b,p)}}M+=R}}function ob(s,p,m,b){let T=b[p.currentCaseLViewIndex];if(null!==T){let M=Au;T<0&&(T=b[p.currentCaseLViewIndex]=~T,M=-1),Tu(s,b,p.update[T],m,M)}}function Ul(s,p,m,b){const T=function RT(s,p){let m=s.cases.indexOf(p);if(-1===m)switch(s.type){case 1:{const b=function cs(s,p){const m=Bp(p)(parseInt(s,10)),b=MT[m];return void 0!==b?b:"other"}(p,function kT(){return zm}());m=s.cases.indexOf(b),-1===m&&"other"!==b&&(m=s.cases.indexOf("other"));break}case 0:m=s.cases.indexOf("other")}return-1===m?null:m}(p,b);if(Nd(p,m)!==T&&(lb(s,p,m),m[p.currentCaseLViewIndex]=null===T?null:~T,null!==T)){const w=m[p.anchorIdx];w&&rb(s,p.create[T],m,w)}}function lb(s,p,m){let b=Nd(p,m);if(null!==b){const T=p.remove[b];for(let M=0;M<T.length;M++){const w=T[M];if(w>0){const R=(0,c.vaC)(w,m);null!==R&&ti(m[c.GpT],R)}else lb(s,Bc(s,~w),m)}}}const Up=/\ufffd(\d+):?\d*\ufffd/gi,LT=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,xT=/\ufffd(\d+)\ufffd/,ub=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,BT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,UM=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Lr=/\uE500/g;function pb(s,p,m,b,T,M,w){const R=Ac(s,b,1,null);let B=R<<Ra.SHIFT,G=(0,c.Ab)();p===G&&(G=null),null===G&&(B|=Ra.APPEND_EAGERLY),w&&(B|=Ra.COMMENT,function cA(s){void 0===zh&&(zh=s())}(sE)),T.push(B,null===M?"":M);const J=fg(s,R,w?32:1,null===M?"":M,null);zf(m,J);const le=J.index;return(0,c.iMd)(J,!1),null!==G&&p!==G&&function iE(s,p){let m=s.insertBeforeIndex;null===m?(Sf(jf,Vf),m=s.insertBeforeIndex=[null,p]):((0,c.Xln)(Array.isArray(m),!0,"Expecting array here"),m.push(p))}(G,le),J}function Du(s,p,m,b,T,M,w,R){const B=R.match(Up),J=pb(p,m,b,w,T,B?null:R,!1).index;B&&ks(M,R,J,null,0,null),s.push({kind:0,index:J})}function ks(s,p,m,b,T,M){const w=s.length,R=w+1;s.push(null,null);const B=w+2,G=p.split(Up);let J=0;for(let le=0;le<G.length;le++){const ye=G[le];if(1&le){const Pe=T+parseInt(ye,10);s.push(-1-Pe),J|=hb(Pe)}else""!==ye&&s.push(ye)}return s.push(m<<2|(b?1:0)),b&&s.push(b,M),s[w]=J,s[R]=s.length-B,J}function Wp(s){let p=0;for(let m=0;m<s.length;m++){const b=s[m];"number"==typeof b&&b<0&&p++}return p}function hb(s){return 1<<Math.min(s,31)}function Kp(s){let p,M,m="",b=0,T=!1;for(;null!==(p=BT.exec(s));)T?p[0]===`\ufffd/*${M}\ufffd`&&(b=p.index,T=!1):(m+=s.substring(b,p.index+p[0].length),M=p[1],T=!0);return m+=s.slice(b),m}function gb(s,p,m,b,T,M,w){let R=0;const B={type:M.type,currentCaseLViewIndex:Ac(p,m,1,null),anchorIdx:w,cases:[],create:[],remove:[],update:[]};(function KT(s,p,m){s.push(hb(p.mainBinding),2,-1-p.mainBinding,m<<2|2)})(b,M,w),function tE(s,p,m){const b=s.data[p];null===b?s.data[p]=m:b.value=m}(p,w,B);const G=M.values,J=[];for(let le=0;le<G.length;le++){const ye=G[le],Pe=[];for(let Xe=0;Xe<ye.length;Xe++){const dt=ye[Xe];if("string"!=typeof dt){const St=Pe.push(dt)-1;ye[Xe]=`\x3c!--\ufffd${St}\ufffd--\x3e`}}const Oe=[];J.push(Oe),R=WT(Oe,p,B,m,b,T,M.cases[le],ye.join(""),Pe)|R}R&&function $T(s,p,m){s.push(p,1,m<<2|3)}(b,R,w),s.push({kind:3,index:w,cases:J,currentCaseLViewIndex:B.currentCaseLViewIndex})}function UT(s){const p=[],m=[];let b=1,T=0;const M=Ym(s=s.replace(ub,function(w,R,B){return b="select"===B?0:1,T=parseInt(R.slice(1),10),""}));for(let w=0;w<M.length;){let R=M[w++].trim();1===b&&(R=R.replace(/\s*(?:=)?(\w+)\s*/,"$1")),R.length&&p.push(R);const B=Ym(M[w++]);p.length>m.length&&m.push(B)}return{type:b,mainBinding:T,cases:p,values:m}}function Ym(s){if(!s)return[];let p=0;const m=[],b=[],T=/[{}]/g;let M;for(T.lastIndex=0;M=T.exec(s);){const R=M.index;if("}"==M[0]){if(m.pop(),0==m.length){const B=s.substring(p,R);ub.test(B)?b.push(UT(B)):b.push(B),p=R+1}}else{if(0==m.length){const B=s.substring(p,R);b.push(B),p=R+1}m.push("{")}}const w=s.substring(p);return b.push(w),b}function WT(s,p,m,b,T,M,w,R,B){const G=[],J=[],le=[];m.cases.push(w),m.create.push(G),m.remove.push(J),m.update.push(le);const Pe=sd(pa()).getInertBodyElement(R),Oe=_c(Pe)||Pe;return Oe?mb(s,p,m,b,T,G,J,le,Oe,M,B,0):0}function mb(s,p,m,b,T,M,w,R,B,G,J,le){let ye=0,Pe=B.firstChild;for(;Pe;){const Oe=Ac(p,b,1,null);switch(Pe.nodeType){case Node.ELEMENT_NODE:const Xe=Pe,dt=Xe.tagName.toLowerCase();if(ld.hasOwnProperty(dt)){Jm(M,wo,dt,G,Oe),p.data[Oe]=dt;const jn=Xe.attributes;for(let ar=0;ar<jn.length;ar++){const Ur=jn.item(ar),L_=Ur.name.toLowerCase();Ur.value.match(Up)?cl.hasOwnProperty(L_)&&ks(R,Ur.value,Oe,Ur.name,0,pc[L_]?As:null):GT(M,Oe,Ur)}const $i={kind:1,index:Oe,children:[]};s.push($i),ye=mb($i.children,p,m,b,T,M,w,R,Pe,Oe,J,le+1)|ye,Xm(w,Oe,le)}break;case Node.TEXT_NODE:const St=Pe.textContent||"",Ze=St.match(Up);Jm(M,null,Ze?"":St,G,Oe),Xm(w,Oe,le),Ze&&(ye=ks(R,St,Oe,null,0,null)|ye),s.push({kind:0,index:Oe});break;case Node.COMMENT_NODE:const ci=xT.exec(Pe.textContent||"");if(ci){const $i=J[parseInt(ci[1],10)];Jm(M,Fp,"",G,Oe),gb(s,p,b,T,G,$i,Oe),$p(w,Oe,le)}}Pe=Pe.nextSibling}return ye}function Xm(s,p,m){0===m&&s.push(p)}function $p(s,p,m){0===m&&(s.push(~p),s.push(p))}function Jm(s,p,m,b,T){null!==p&&s.push(p),s.push(m,T,function aE(s,p,m){return s|p<<17|m<<1}(0,b,T))}function GT(s,p,m){s.push(p<<1|1,m.name,m.value)}const fb=/\[(\ufffd.+?\ufffd?)\]/,vb=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,HT=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,jT=/{([A-Z0-9_]+)}/g,VT=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,zT=/\/\*/,YT=/\d+\:(\d+)/;function yb(s,p,m=-1){const b=(0,c.klJ)(),T=(0,c.OAn)(),M=c.Yw1+s,w=(0,c.db4)(b.consts,p),R=(0,c.Ab)();b.firstCreatePass&&function FT(s,p,m,b,T,M){const w=(0,c.Ab)(),R=[],B=[],G=[[]],J=[[]];T=function NT(s,p){if(function qf(s){return-1===s}(p))return Kp(s);{const m=s.indexOf(`:${p}\ufffd`)+2+p.toString().length,b=s.search(new RegExp(`\ufffd\\/\\*\\d+:${p}\ufffd`));return Kp(s.substring(m,b))}}(T,M);const le=function db(s){return s.replace(Lr," ")}(T).split(UM);for(let ye=0;ye<le.length;ye++){let Pe=le[ye];if(1&ye){const Oe=47===Pe.charCodeAt(0),Xe=Pe.charCodeAt(Oe?1:0),dt=c.Yw1+Number.parseInt(Pe.substring(Oe?2:1));if(Oe)G.shift(),J.shift(),(0,c.iMd)((0,c.Ab)(),!1);else{const St=nE(s,G[0],dt);G.unshift([]),(0,c.iMd)(St,!0);const Ze={kind:2,index:dt,children:[],type:35===Xe?0:1};J[0].push(Ze),J.unshift(Ze.children)}}else{const Oe=Ym(Pe);for(let Xe=0;Xe<Oe.length;Xe++){let dt=Oe[Xe];if(1&Xe){const St=dt;if("object"!=typeof St)throw new Error(`Unable to parse ICU expression in "${T}" message.`);const ci=pb(s,w,G[0],m,R,"",!0).index;gb(J[0],s,m,B,p,St,ci)}else""!==dt&&Du(J[0],s,w,G[0],R,B,m,dt)}}}s.data[b]={create:R,update:B,ast:J[0],parentTNodeIndex:p}}(b,null===R?0:R.index,T,M,w,m),2===b.type?T[c.b5C][c.Wg1]|=32:T[c.Wg1]|=32;const B=b.data[M],J=Af(b,R===T[c.qlT]?null:R,T);(function sb(s,p,m,b){const T=s[c.GpT];for(let M=0;M<p.length;M++){const w=p[M++],G=(w&Ra.APPEND_EAGERLY)===Ra.APPEND_EAGERLY,J=w>>>Ra.SHIFT;let le=s[J],ye=!1;null===le&&(le=s[J]=Su(s,0,p[M],(w&Ra.COMMENT)===Ra.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),ye=(0,c.SX7)()),G&&null!==m&&ye&&Je(T,m,le,b,!1)}})(T,B.create,J,R&&8&R.type?T[R.index]:null),(0,c.xyx)(!0)}function bb(){(0,c.xyx)(!1)}function Qm(s,p,m){const b=(0,c.OAn)(),T=(0,c.klJ)(),M=(0,c.Mx4)();return qm(T,b,b[c.GpT],M,s,p,m),Qm}function qm(s,p,m,b,T,M,w){let R=!0,B=null;if((3&b.type||w)&&(B??=$s(b,p,M),Yd(b,s,p,w,m,T,M,B)&&(R=!1)),R){const G=b.outputs?.[T],J=b.hostDirectiveOutputs?.[T];if(J&&J.length)for(let le=0;le<J.length;le+=2){const ye=J[le],Pe=J[le+1];B??=$s(b,p,M),vl(b,p,ye,Pe,T,B)}if(G&&G.length)for(const le of G)B??=$s(b,p,M),vl(b,p,le,T,T,B)}}function Eb(s=1){return(0,c.jvu)(s)}function Zm(s,p){let m=null;const b=function iA(s){const p=s.attrs;if(null!=p){const m=p.indexOf(5);if(!(1&m))return p[m+1]}return null}(s);for(let T=0;T<p.length;T++){const M=p[T];if("*"!==M){if(null===b?Pc(s,M,!0):aA(b,M))return T}else m=T}return m}function e_(s,p,m){return Lv(s,p,m),e_}function Tb(s){const p=(0,c.OAn)(),m=(0,c.klJ)(),b=(0,c.w7Z)();(0,c.GA0)(b+1);const T=ip(m,b);if(s.dirty&&(0,c.vOT)(p)===!(2&~T.metadata.flags)){if(null===T.matches)s.reset([]);else{const M=Ng(p,b);s.reset(M,Li),s.notifyOnChanges()}return!0}return!1}function Db(){return Bg((0,c.OAn)(),(0,c.w7Z)())}function Cb(s){const p=(0,c.VPL)();return(0,c.Hh6)(p,c.Yw1+s)}function xr(s,p){return s<<17|p<<2}function Br(s){return s>>17&32767}function ku(s){return 2|s}function $l(s){return(131068&s)>>2}function jp(s,p){return-131069&s|p<<2}function Vp(s){return 1|s}function kb(s,p,m,b){const T=s[m+1],M=null===p;let w=b?Br(T):$l(T),R=!1;for(;0!==w&&(!1===R||M);){const G=s[w+1];s0(s[w],p)&&(R=!0,s[w+1]=b?Vp(G):ku(G)),w=b?Br(G):$l(G)}R&&(s[m+1]=b?ku(T):Vp(T))}function s0(s,p){return null===s||null==p||(Array.isArray(s)?s[1]:s)===p||!(!Array.isArray(s)||"string"!=typeof p)&&(0,c.FRF)(s,p)>=0}const On={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function t_(s){return s.substring(On.key,On.keyEnd)}function wb(s){return s.substring(On.value,On.valueEnd)}function Io(s,p){const m=On.textEnd;return m===p?-1:(p=On.keyEnd=function l0(s,p,m){for(;p<m&&s.charCodeAt(p)>32;)p++;return p}(s,On.key=p,m),Gl(s,p,m))}function Ob(s,p){const m=On.textEnd;let b=On.key=Gl(s,p,m);return m===b?-1:(b=On.keyEnd=function Ro(s,p,m){let b;for(;p<m&&(45===(b=s.charCodeAt(p))||95===b||(-33&b)>=65&&(-33&b)<=90||b>=48&&b<=57);)p++;return p}(s,b,m),b=Rb(s,b,m),b=On.value=Gl(s,b,m),b=On.valueEnd=function zp(s,p,m){let b=-1,T=-1,M=-1,w=p,R=w;for(;w<m;){const B=s.charCodeAt(w++);if(59===B)return R;34===B||39===B?R=w=Lb(s,B,w,m):p===w-4&&85===M&&82===T&&76===b&&40===B?R=w=Lb(s,41,w,m):B>32&&(R=w),M=T,T=b,b=-33&B}return R}(s,b,m),Rb(s,b,m))}function Ib(s){On.key=0,On.keyEnd=0,On.value=0,On.valueEnd=0,On.textEnd=s.length}function Gl(s,p,m){for(;p<m&&s.charCodeAt(p)<=32;)p++;return p}function Rb(s,p,m,b){return(p=Gl(s,p,m))<m&&p++,p}function Lb(s,p,m,b){let T=-1,M=m;for(;M<b;){const w=s.charCodeAt(M++);if(w==p&&92!==T)return M;T=92==w&&92===T?0:w}throw new Error}function i_(s,p,m){return Bb(s,p,m,!1),i_}function n_(s,p){return Bb(s,p,null,!0),n_}function u0(s,p){for(let m=function o0(s){return Ib(s),Ob(s,Gl(s,0,On.textEnd))}(p);m>=0;m=Ob(p,m))Kb(s,t_(p),wb(p))}function xb(s){Fb($b,d0,s,!0)}function d0(s,p){for(let m=function r0(s){return Ib(s),Io(s,Gl(s,0,On.textEnd))}(p);m>=0;m=Io(p,m))(0,c.ezK)(s,t_(p),!0)}function Bb(s,p,m,b){const T=(0,c.OAn)(),M=(0,c.klJ)(),w=(0,c.b$O)(2);M.firstUpdatePass&&Ub(M,s,w,b),p!==Ai&&Ni(T,w,p)&&_0(M,M.data[(0,c._px)()],T,T[c.GpT],s,T[w+1]=function f0(s,p){return null==s||""===s||("string"==typeof p?s+=p:"object"==typeof s&&(s=(0,c.AsM)(ka(s)))),s}(p,m),b,w)}function Fb(s,p,m,b){const T=(0,c.klJ)(),M=(0,c.b$O)(2);T.firstUpdatePass&&Ub(T,null,M,b);const w=(0,c.OAn)();if(m!==Ai&&Ni(w,M,m)){const R=T.data[(0,c._px)()];if(Gb(R,b)&&!Nb(T,M)){let B=b?R.classesWithoutHost:R.stylesWithoutHost;null!==B&&(m=(0,c.n$e)(B,m||"")),wp(T,R,w,m,b)}else!function m0(s,p,m,b,T,M,w,R){T===Ai&&(T=c.Mlv);let B=0,G=0,J=0<T.length?T[0]:null,le=0<M.length?M[0]:null;for(;null!==J||null!==le;){const ye=B<T.length?T[B+1]:void 0,Pe=G<M.length?M[G+1]:void 0;let Xe,Oe=null;J===le?(B+=2,G+=2,ye!==Pe&&(Oe=le,Xe=Pe)):null===le||null!==J&&J<le?(B+=2,Oe=J):(G+=2,Oe=le,Xe=Pe),null!==Oe&&_0(s,p,m,b,Oe,Xe,w,R),J=B<T.length?T[B]:null,le=G<M.length?M[G]:null}}(T,R,w,w[c.GpT],w[M+1],w[M+1]=function g0(s,p,m){if(null==m||""===m)return c.Mlv;const b=[],T=ka(m);if(Array.isArray(T))for(let M=0;M<T.length;M++)s(b,T[M],!0);else if(T instanceof Set)for(const M of T)s(b,M,!0);else if("object"==typeof T)for(const M in T)T.hasOwnProperty(M)&&s(b,M,T[M]);else"string"==typeof T&&p(b,T);return b}(s,p,m),b,M)}}function Nb(s,p){return p>=s.expandoStartIndex}function Ub(s,p,m,b){const T=s.data;if(null===T[m+1]){const M=T[(0,c._px)()],w=Nb(s,m);Gb(M,b)&&null===p&&!w&&(p=!1),p=function p0(s,p,m,b){const T=(0,c.MT)(s);let M=b?p.residualClasses:p.residualStyles;if(null===T)0===(b?p.classBindings:p.styleBindings)&&(m=Hl(m=Yp(null,s,p,m,b),p.attrs,b),M=null);else{const w=p.directiveStylingLast;if(-1===w||s[w]!==T)if(m=Yp(T,s,p,m,b),null===M){let B=function ws(s,p,m){const b=m?p.classBindings:p.styleBindings;if(0!==$l(b))return s[Br(b)]}(s,p,b);void 0!==B&&Array.isArray(B)&&(B=Yp(null,s,p,B[1],b),B=Hl(B,p.attrs,b),function Wb(s,p,m,b){s[Br(m?p.classBindings:p.styleBindings)]=b}(s,p,b,B))}else M=function h0(s,p,m){let b;const T=p.directiveEnd;for(let M=1+p.directiveStylingLast;M<T;M++)b=Hl(b,s[M].hostAttrs,m);return Hl(b,p.attrs,m)}(s,p,b)}return void 0!==M&&(b?p.residualClasses=M:p.residualStyles=M),m}(T,M,p,b),function n0(s,p,m,b,T,M){let w=M?p.classBindings:p.styleBindings,R=Br(w),B=$l(w);s[b]=m;let J,G=!1;if(Array.isArray(m)?(J=m[1],(null===J||(0,c.FRF)(m,J)>0)&&(G=!0)):J=m,T)if(0!==B){const ye=Br(s[R+1]);s[b+1]=xr(ye,R),0!==ye&&(s[ye+1]=jp(s[ye+1],b)),s[R+1]=function Oo(s,p){return 131071&s|p<<17}(s[R+1],b)}else s[b+1]=xr(R,0),0!==R&&(s[R+1]=jp(s[R+1],b)),R=b;else s[b+1]=xr(B,0),0===R?R=b:s[B+1]=jp(s[B+1],b),B=b;G&&(s[b+1]=ku(s[b+1])),kb(s,J,b,!0),kb(s,J,b,!1),function a0(s,p,m,b,T){const M=T?s.residualClasses:s.residualStyles;null!=M&&"string"==typeof p&&(0,c.FRF)(M,p)>=0&&(m[b+1]=Vp(m[b+1]))}(p,J,s,b,M),w=xr(R,B),M?p.classBindings=w:p.styleBindings=w}(T,M,p,m,w,b)}}function Yp(s,p,m,b,T){let M=null;const w=m.directiveEnd;let R=m.directiveStylingLast;for(-1===R?R=m.directiveStart:R++;R<w&&(M=p[R],b=Hl(b,M.hostAttrs,T),M!==s);)R++;return null!==s&&(m.directiveStylingLast=R),b}function Hl(s,p,m){const b=m?1:2;let T=-1;if(null!==p)for(let M=0;M<p.length;M++){const w=p[M];"number"==typeof w?T=w:T===b&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),(0,c.ezK)(s,w,!!m||p[++M]))}return void 0===s?null:s}function Kb(s,p,m){(0,c.ezK)(s,p,ka(m))}function $b(s,p,m){const b=String(p);""!==b&&!b.includes(" ")&&(0,c.ezK)(s,b,m)}function _0(s,p,m,b,T,M,w,R){if(!(3&p.type))return;const B=s.data,G=B[R+1],J=function t0(s){return!(1&~s)}(G)?wu(B,p,m,T,$l(G),w):void 0;Xp(J)||(Xp(M)||function KM(s){return!(2&~s)}(G)&&(M=wu(B,null,m,T,R,w)),function bA(s,p,m,b,T){if(p)T?s.addClass(m,b):s.removeClass(m,b);else{let M=-1===b.indexOf("-")?void 0:_d.DashCase;null==T?s.removeStyle(m,b,M):("string"==typeof T&&T.endsWith("!important")&&(T=T.slice(0,-10),M|=_d.Important),s.setStyle(m,b,T,M))}}(b,w,(0,c.vaC)((0,c._px)(),m),T,M))}function wu(s,p,m,b,T,M){const w=null===p;let R;for(;T>0;){const B=s[T],G=Array.isArray(B),J=G?B[1]:B,le=null===J;let ye=m[T+1];ye===Ai&&(ye=le?c.Mlv:void 0);let Pe=le?(0,c.K7h)(ye,b):J===b?ye:void 0;if(G&&!Xp(Pe)&&(Pe=(0,c.K7h)(B,b)),Xp(Pe)&&(R=Pe,w))return R;const Oe=s[T+1];T=w?Br(Oe):$l(Oe)}if(null!==p){let B=M?p.residualClasses:p.residualStyles;null!=B&&(R=(0,c.K7h)(B,b))}return R}function Xp(s){return void 0!==s}function Gb(s,p){return!!(s.flags&(p?8:16))}function Hb(s,p=""){const m=(0,c.OAn)(),b=(0,c.klJ)(),T=s+c.Yw1,M=b.firstCreatePass?lo(b,T,1,p,null):b.data[T],w=a_(b,m,M,p,s);m[T]=w,(0,c.SX7)()&&Ed(b,m,w,M),(0,c.iMd)(M,!1)}let a_=(s,p,m,b,T)=>((0,c.m7n)(!0),V(p[c.GpT],b));function s_(s,p){let m=!1,b=(0,c.c$7)();for(let M=1;M<p.length;M+=2)m=Ni(s,b++,p[M])||m;if((0,c.Kw3)(b),!m)return Ai;let T=p[0];for(let M=1;M<p.length;M+=2)T+=(0,c.eFE)(p[M])+(M+1!==p.length?p[M+1]:"");return T}function r_(s,p,m,b=""){return Ni(s,(0,c.xbp)(),m)?p+(0,c.eFE)(m)+b:Ai}function o_(s,p,m,b,T,M=""){const R=ho(s,(0,c.c$7)(),m,T);return(0,c.b$O)(2),R?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M:Ai}function Ou(s,p,m,b,T,M,w,R=""){const G=zd(s,(0,c.c$7)(),m,T,w);return(0,c.b$O)(3),G?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M+(0,c.eFE)(w)+R:Ai}function l_(s,p,m,b,T,M,w,R,B,G=""){const le=Ha(s,(0,c.c$7)(),m,T,w,B);return(0,c.b$O)(4),le?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M+(0,c.eFE)(w)+R+(0,c.eFE)(B)+G:Ai}function Jp(s,p,m,b,T,M,w,R,B,G,J,le=""){const ye=(0,c.c$7)();let Pe=Ha(s,ye,m,T,w,B);return Pe=Ni(s,ye+4,J)||Pe,(0,c.b$O)(5),Pe?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M+(0,c.eFE)(w)+R+(0,c.eFE)(B)+G+(0,c.eFE)(J)+le:Ai}function jb(s,p,m,b,T,M,w,R,B,G,J,le,ye,Pe=""){const Oe=(0,c.c$7)();let Xe=Ha(s,Oe,m,T,w,B);return Xe=ho(s,Oe+4,J,ye)||Xe,(0,c.b$O)(6),Xe?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M+(0,c.eFE)(w)+R+(0,c.eFE)(B)+G+(0,c.eFE)(J)+le+(0,c.eFE)(ye)+Pe:Ai}function y0(s,p,m,b,T,M,w,R,B,G,J,le,ye,Pe,Oe,Xe=""){const dt=(0,c.c$7)();let St=Ha(s,dt,m,T,w,B);return St=zd(s,dt+4,J,ye,Oe)||St,(0,c.b$O)(7),St?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M+(0,c.eFE)(w)+R+(0,c.eFE)(B)+G+(0,c.eFE)(J)+le+(0,c.eFE)(ye)+Pe+(0,c.eFE)(Oe)+Xe:Ai}function La(s,p,m,b,T,M,w,R,B,G,J,le,ye,Pe,Oe,Xe,dt,St=""){const Ze=(0,c.c$7)();let ci=Ha(s,Ze,m,T,w,B);return ci=Ha(s,Ze+4,J,ye,Oe,dt)||ci,(0,c.b$O)(8),ci?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M+(0,c.eFE)(w)+R+(0,c.eFE)(B)+G+(0,c.eFE)(J)+le+(0,c.eFE)(ye)+Pe+(0,c.eFE)(Oe)+Xe+(0,c.eFE)(dt)+St:Ai}function c_(s){return Qp("",s),c_}function Qp(s,p,m){const b=(0,c.OAn)(),T=r_(b,s,p,m);return T!==Ai&&tr(b,(0,c._px)(),T),Qp}function u_(s,p,m,b,T){const M=(0,c.OAn)(),w=o_(M,s,p,m,b,T);return w!==Ai&&tr(M,(0,c._px)(),w),u_}function qp(s,p,m,b,T,M,w,R,B){const G=(0,c.OAn)(),J=l_(G,s,p,m,b,T,M,w,R,B);return J!==Ai&&tr(G,(0,c._px)(),J),qp}function tr(s,p,m){const b=(0,c.vaC)(p,s);se(s[c.GpT],b,m)}function p_(s,p,m){ny(p)&&(p=p());const b=(0,c.OAn)();return Ni(b,(0,c.xbp)(),p)&&((0,c.klJ)(),Mc((0,c.CpD)(),b,s,p,b[c.GpT],m)),p_}function h_(s,p){const m=ny(s);return m&&s.set(p),m}function g_(s,p){const m=(0,c.OAn)(),b=(0,c.klJ)(),T=(0,c.Mx4)();return qm(b,m,m[c.GpT],T,s,p),g_}const m_={};function __(s,p,m){const b=(0,c.klJ)();b.firstCreatePass&&f_(p,b.data,b.blueprint,(0,c.JlV)(s),m)}function f_(s,p,m,b,T){if(s=(0,c.nl4)(s),Array.isArray(s))for(let M=0;M<s.length;M++)f_(s[M],p,m,b,T);else{const M=(0,c.klJ)(),w=(0,c.OAn)(),R=(0,c.Mx4)();let B=(0,c.Y3W)(s)?s:(0,c.nl4)(s.provide);const G=(0,c.Rc9)(s),J=1048575&R.providerIndexes,le=R.directiveStart,ye=R.providerIndexes>>20;if((0,c.Y3W)(s)||!s.multi){const Pe=new ot(G,T,fl,null),Oe=th(B,p,T?J:J+ye,le);-1===Oe?(qi(Ii(R,w),M,B),eh(M,s,p.length),p.push(B),R.directiveStart++,R.directiveEnd++,T&&(R.providerIndexes+=1048576),m.push(Pe),w.push(Pe)):(m[Oe]=Pe,w[Oe]=Pe)}else{const Pe=th(B,p,J+ye,le),Oe=th(B,p,J,J+ye),dt=Oe>=0&&m[Oe];if(T&&!dt||!T&&!(Pe>=0&&m[Pe])){qi(Ii(R,w),M,B);const St=function Zb(s,p,m,b,T){const w=new ot(s,m,fl,null);return w.multi=[],w.index=p,w.componentProviders=0,qb(w,T,b&&!m),w}(T?w0:k0,m.length,T,b,G);!T&&dt&&(m[Oe].providerFactory=St),eh(M,s,p.length,0),p.push(B),R.directiveStart++,R.directiveEnd++,T&&(R.providerIndexes+=1048576),m.push(St),w.push(St)}else eh(M,s,Pe>-1?Pe:Oe,qb(m[T?Oe:Pe],G,!T&&b));!T&&b&&dt&&m[Oe].componentProviders++}}}function eh(s,p,m,b){const T=(0,c.Y3W)(p),M=(0,c.MME)(p);if(T||M){const B=(M?(0,c.nl4)(p.useClass):p).prototype.ngOnDestroy;if(B){const G=s.destroyHooks||(s.destroyHooks=[]);if(!T&&p.multi){const J=G.indexOf(m);-1===J?G.push(m,[b,B]):G[J+1].push(b,B)}else G.push(m,B)}}}function qb(s,p,m){return m&&s.componentProviders++,s.multi.push(p)-1}function th(s,p,m,b){for(let T=m;T<b;T++)if(p[T]===s)return T;return-1}function k0(s,p,m,b,T){return v_(this.multi,[])}function w0(s,p,m,b,T){const M=this.multi;let w;if(this.providerFactory){const R=this.providerFactory.componentProviders,B=rn(b,b[c.eDl],this.providerFactory.index,T);w=B.slice(0,R),v_(M,w);for(let G=R;G<B.length;G++)w.push(B[G])}else w=[],v_(M,w);return w}function v_(s,p){for(let m=0;m<s.length;m++)p.push((0,s[m])());return p}function eP(s,p){return m=>{m.providersResolver=(b,T)=>__(b,T?T(s):s,!1),p&&(m.viewProvidersResolver=(b,T)=>__(b,T?T(p):p,!0))}}function ih(s){if("function"==typeof s)return s;const p=(0,c.Bqz)(s);return p.some(c.Jzi)?()=>p.map(c.nl4).map(tP):p.map(tP)}function tP(s){return Tg(s)?s.ngModule:s}function nr(s,p){const m=(0,c.gxQ)()+s,b=(0,c.OAn)();return b[m]===Ai?Ss(b,m,p()):Gc(b,m)}function x0(s,p,m){return sP((0,c.OAn)(),(0,c.gxQ)(),s,p,m)}function y_(s,p,m,b){return rP((0,c.OAn)(),(0,c.gxQ)(),s,p,m,b)}function iP(s,p,m,b,T){return oP((0,c.OAn)(),(0,c.gxQ)(),s,p,m,b,T)}function nP(s,p,m,b,T,M,w){return nh((0,c.OAn)(),(0,c.gxQ)(),s,p,m,b,T,M)}function aP(s,p,m,b,T,M,w){const R=(0,c.gxQ)()+s,B=(0,c.OAn)(),G=Ha(B,R,m,b,T,M);return Ni(B,R+4,w)||G?Ss(B,R+5,p(m,b,T,M,w)):Gc(B,R+5)}function Iu(s,p){const m=s[p];return m===Ai?void 0:m}function sP(s,p,m,b,T,M){const w=p+m;return Ni(s,w,T)?Ss(s,w+1,M?b.call(M,T):b(T)):Iu(s,w+1)}function rP(s,p,m,b,T,M,w){const R=p+m;return ho(s,R,T,M)?Ss(s,R+2,w?b.call(w,T,M):b(T,M)):Iu(s,R+2)}function oP(s,p,m,b,T,M,w,R){const B=p+m;return zd(s,B,T,M,w)?Ss(s,B+3,R?b.call(R,T,M,w):b(T,M,w)):Iu(s,B+3)}function nh(s,p,m,b,T,M,w,R,B){const G=p+m;return Ha(s,G,T,M,w,R)?Ss(s,G+4,B?b.call(B,T,M,w,R):b(T,M,w,R)):Iu(s,G+4)}function lP(s,p,m,b,T,M){let w=p+m,R=!1;for(let B=0;B<T.length;B++)Ni(s,w++,T[B])&&(R=!0);return R?Ss(s,w,b.apply(M,T)):Iu(s,w)}function Lu(s,p){return s[c.eDl].data[p].pure}function cP(s,p){return Bd(s,p)}function sh(s,p,m,b,T){const M=T[c.eDl];if(M!==b.tView)for(let w=c.Yw1;w<M.bindingStartIndex;w++){const R=T[w];if((0,c.A0l)(R)){(0,c.q$2)(R[c.jgP])&&sh(s,p,m,b,R[c.jgP]);for(let B=c.Y20;B<R.length;B++)sh(s,p,m,b,R[B])}else(0,c.q$2)(R)&&sh(s,p,m,b,R)}else!function Q0(s,p,m,b,T){const M=T[c.SKP];let w=T[c.jgP];const R=T[c.f7T],B=T[c.qlT],G=T[c.YEL].get(c.SKi,null),J=()=>{if(b.encapsulation===Ca.ShadowDom||b.encapsulation===Ca.ExperimentalIsolatedShadowDom){const Oe=w.cloneNode(!1);w.replaceWith(Oe),w=Oe}const le=rf(m),ye=gd(R,le,M,jh(m),w,B,null,null,null,null,null);(function q0(s,p,m,b){for(let T=c.Yw1;T<s[c.eDl].bindingStartIndex;T++){const M=s[T];if(((0,c.q$2)(M)||(0,c.A0l)(M))&&M[c.K29]===p){M[c.K29]=m;break}}s[c.EJG]===p&&(s[c.EJG]=m),s[c.Yrj]===p&&(s[c.Yrj]=m),m[c.K29]=p[c.K29],p[c.K29]=null,s[b]=m})(R,T,ye,B.index),Tc(T[c.eDl],T);const Pe=T[c.M0L].rendererFactory;(function J0(s,p){s.componentReplaced?.(p.id)})(Pe,b),ye[c.GpT]=Pe.createRenderer(w,m),yf(T[c.eDl],T),function jl(s){if(null!==s.projection){for(const p of s.projection)Rt(p)&&(p.projectionNext=null,p.flags&=-3);s.projection=null}}(B),Id(le,ye,M),Nf(le,ye,le.template,M)};null===G?uP(s,p,J):G.run(()=>uP(s,p,J))}(s,p,m,b,T)}function uP(s,p,m){try{m()}catch(b){if(null!==p&&b.message){const M=b.message+(b.stack?"\n"+b.stack:"");s?.hot?.send?.("angular:invalidate",{id:p,message:M,error:!0})}throw b}}const Fr={\u0275\u0275animateEnter:function gu(s){if(Gn("NgAnimateEnter"),!Dr)return gu;const p=(0,c.OAn)();if(pu(p))return gu;const m=(0,c.Mx4)();return Ds(m,p),Xa(qs(p),m,()=>function Z1(s,p,m){const b=(0,c.d31)(p,s),T=s[c.GpT],M=s[c.YEL].get(c.SKi),w=bm(m),R=[],B=J=>{if(J.target!==b)return;const le=J instanceof AnimationEvent?"animationend":"transitionend";M.runOutsideAngular(()=>{T.listen(b,le,G)})},G=J=>{J.target===b&&function mu(s,p,m){const b=wl.get(p);if(s.target===p&&b&&Am(s,p)){s.stopImmediatePropagation();for(const T of b.classList)m.removeClass(p,T);fa(p)}}(J,b,T)};if(w&&w.length>0){M.runOutsideAngular(()=>{R.push(T.listen(b,"animationstart",B)),R.push(T.listen(b,"transitionstart",B))}),function To(s,p,m){const b=wl.get(s);if(b){for(const T of p)b.classList.push(T);for(const T of m)b.cleanupFns.push(T)}else wl.set(s,{classList:p,cleanupFns:m})}(b,w,R);for(const J of w)T.addClass(b,J);M.runOutsideAngular(()=>{requestAnimationFrame(()=>{if(pf(b,Do,Dr),!Do.has(b)){for(const J of w)T.removeClass(b,J);fa(b)}})})}}(p,m,s)),Pd(p[c.YEL]),Zh(p[c.YEL],qs(p)),gu},\u0275\u0275animateEnterListener:function Il(s){if(Gn("NgAnimateEnter"),!Dr)return Il;const p=(0,c.OAn)();if(pu(p))return Il;const m=(0,c.Mx4)();return Ds(m,p),Xa(qs(p),m,()=>function _u(s,p,m){const b=(0,c.d31)(p,s);m.call(s[c.SKP],{target:b,animationComplete:ym})}(p,m,s)),Pd(p[c.YEL]),Zh(p[c.YEL],qs(p)),Il},\u0275\u0275animateLeave:function Ep(s){if(Gn("NgAnimateLeave"),!Dr)return Ep;const p=(0,c.OAn)();if(pu(p))return Ep;const b=(0,c.Mx4)();return Ds(b,p),Xa(Zs(p),b,()=>function xy(s,p,m){const{promise:b,resolve:T}=lu(),M=(0,c.d31)(p,s),w=s[c.GpT],R=s[c.YEL].get(c.SKi);Ks.add(s[c.ID]),(Zs(s).get(p.index).resolvers??=[]).push(T);const B=bm(m);return B&&B.length>0?function By(s,p,m,b,T,M){!function Ol(s,p){if(!Dr)return;const m=wl.get(s);if(m&&m.classList.length>0&&function Pm(s,p){for(const m of p)if(s.classList.contains(m))return!0;return!1}(s,m.classList))for(const b of m.classList)p.removeClass(s,b);fa(s)}(s,T);const w=[],R=Zs(m).get(p.index)?.resolvers,B=G=>{if(G.target===s&&(G instanceof CustomEvent||Am(G,s))){if(G.stopImmediatePropagation(),Do.delete(s),Ya(p,s),Array.isArray(p.projection))for(const J of b)T.removeClass(s,J);Em(R,w),Ms(m,p)}};M.runOutsideAngular(()=>{w.push(T.listen(s,"animationend",B)),w.push(T.listen(s,"transitionend",B))}),hu(p,s);for(const G of b)T.addClass(s,G);M.runOutsideAngular(()=>{requestAnimationFrame(()=>{pf(s,Do,Dr),Do.has(s)||(Ya(p,s),Em(R,w),Ms(m,p))})})}(M,p,s,B,w,R):T(),{promise:b,resolve:T}}(p,b,s)),Pd(p[c.YEL]),Ep},\u0275\u0275animateLeaveListener:function Sp(s){if(Gn("NgAnimateLeave"),!Dr)return Sp;const p=(0,c.OAn)(),m=(0,c.Mx4)();return Ds(m,p),Ks.add(p[c.ID]),Xa(Zs(p),m,()=>function eT(s,p,m){const{promise:b,resolve:T}=lu(),M=(0,c.d31)(p,s),w=[],R=s[c.GpT],B=pu(s),G=s[c.YEL].get(c.SKi),J=s[c.YEL].get(Iy);(Zs(s).get(p.index).resolvers??=[]).push(T);const le=Zs(s).get(p.index)?.resolvers;if(B)Mo(s,p,M,le,w);else{const ye=setTimeout(()=>Mo(s,p,M,le,w),J),Pe={target:M,animationComplete:()=>{Mo(s,p,M,le,w),clearTimeout(ye)}};hu(p,M),G.runOutsideAngular(()=>{w.push(R.listen(M,"animationend",()=>{Mo(s,p,M,le,w),clearTimeout(ye)},{once:!0}))}),m.call(s[c.SKP],Pe)}return{promise:b,resolve:T}}(p,m,s)),Pd(p[c.YEL]),Sp},\u0275\u0275attribute:Ap,\u0275\u0275defineComponent:$g,\u0275\u0275defineDirective:Wv,\u0275\u0275defineInjectable:c.jDH,\u0275\u0275defineInjector:c.G2t,\u0275\u0275defineNgModule:ap,\u0275\u0275definePipe:Kv,\u0275\u0275directiveInject:fl,\u0275\u0275getInheritedFactory:ea,\u0275\u0275inject:c.KVO,\u0275\u0275injectAttribute:Le,\u0275\u0275invalidFactory:function KE(){throw new Error("invalid")},\u0275\u0275invalidFactoryDep:c.dmw,\u0275\u0275templateRefExtractor:cP,\u0275\u0275resetView:c.Njj,\u0275\u0275HostDirectivesFeature:function US(s){const p=m=>{const b=Array.isArray(s);null===m.hostDirectives?(m.resolveHostDirectives=WS,m.hostDirectives=b?s.map(rp):[s]):b?m.hostDirectives.unshift(...s.map(rp)):m.hostDirectives.unshift(s)};return p.ngInherit=!0,p},\u0275\u0275NgOnChangesFeature:Ie,\u0275\u0275ProvidersFeature:eP,\u0275\u0275InheritDefinitionFeature:zg,\u0275\u0275ExternalStylesFeature:function I0(s){return p=>{s.length<1||(p.getExternalStyles=m=>s.map(T=>T+"?ngcomp"+(m?"="+encodeURIComponent(m):"")+"&e="+p.encapsulation))}},\u0275\u0275nextContext:Eb,\u0275\u0275namespaceHTML:c.joV,\u0275\u0275namespaceMathML:c.By9,\u0275\u0275namespaceSVG:c.qSk,\u0275\u0275enableBindings:c.cSN,\u0275\u0275disableBindings:c.fuf,\u0275\u0275elementStart:ko,\u0275\u0275elementEnd:Or,\u0275\u0275element:Op,\u0275\u0275elementContainerStart:Fl,\u0275\u0275elementContainerEnd:yu,\u0275\u0275domElement:va,\u0275\u0275domElementStart:Bl,\u0275\u0275domElementEnd:Ip,\u0275\u0275domElementContainer:function Hm(s,p,m){return Gm(s,p,m),Rp(),Hm},\u0275\u0275domElementContainerStart:Gm,\u0275\u0275domElementContainerEnd:Rp,\u0275\u0275domTemplate:bo,\u0275\u0275domListener:function Ab(s,p,m){const b=(0,c.OAn)(),T=(0,c.klJ)(),M=(0,c.Mx4)();return(3&M.type||m)&&Yd(M,T,b,m,b[c.GpT],s,p,$s(M,b,p)),Ab},\u0275\u0275elementContainer:$m,\u0275\u0275pureFunction0:nr,\u0275\u0275pureFunction1:x0,\u0275\u0275pureFunction2:y_,\u0275\u0275pureFunction3:iP,\u0275\u0275pureFunction4:nP,\u0275\u0275pureFunction5:aP,\u0275\u0275pureFunction6:function B0(s,p,m,b,T,M,w,R){const B=(0,c.gxQ)()+s,G=(0,c.OAn)(),J=Ha(G,B,m,b,T,M);return ho(G,B+4,w,R)||J?Ss(G,B+6,p(m,b,T,M,w,R)):Gc(G,B+6)},\u0275\u0275pureFunction7:function F0(s,p,m,b,T,M,w,R,B){const G=(0,c.gxQ)()+s,J=(0,c.OAn)();let le=Ha(J,G,m,b,T,M);return zd(J,G+4,w,R,B)||le?Ss(J,G+7,p(m,b,T,M,w,R,B)):Gc(J,G+7)},\u0275\u0275pureFunction8:function N0(s,p,m,b,T,M,w,R,B,G){const J=(0,c.gxQ)()+s,le=(0,c.OAn)(),ye=Ha(le,J,m,b,T,M);return Ha(le,J+4,w,R,B,G)||ye?Ss(le,J+8,p(m,b,T,M,w,R,B,G)):Gc(le,J+8)},\u0275\u0275pureFunctionV:function U0(s,p,m){return lP((0,c.OAn)(),(0,c.gxQ)(),s,p,m)},\u0275\u0275getCurrentView:jm,\u0275\u0275restoreView:c.eBV,\u0275\u0275listener:Qm,\u0275\u0275projection:function Gp(s,p=0,m,b,T,M){const w=(0,c.OAn)(),R=(0,c.klJ)(),B=b?s+1:null;null!==B&&sa(w,R,B,b,T,M,null,m);const G=lo(R,c.Yw1+s,16,null,m||null);null===G.projection&&(G.projection=p),(0,c.Pfq)();const le=!w[c.tcA]||(0,c.KtD)();null===w[c.b5C][c.qlT].projection[G.projection]&&null!==B?function ZT(s,p,m){const b=c.Yw1+m,T=p.data[b],M=s[b];gl(M,Pr(s,T,void 0,{dehydratedView:null}),0,oo(T,null))}(w,R,B):le&&!ha(G)&&function Df(s,p,m){br(p[c.GpT],0,p,m,ig(s,m,p),Ef(m.parent||p[c.qlT],m,p))}(R,w,G)},\u0275\u0275syntheticHostProperty:function tb(s,p,m){const b=(0,c.OAn)();if(Ni(b,(0,c.xbp)(),p)){const M=(0,c.klJ)(),w=(0,c.CpD)();Md(w,b,s,p,Of((0,c.MT)(M.data),w,b),m)}return tb},\u0275\u0275syntheticHostListener:function Pb(s,p){const m=(0,c.Mx4)(),b=(0,c.OAn)(),T=(0,c.klJ)();return qm(T,b,Of((0,c.MT)(T.data),m,b),m,s,p),Pb},\u0275\u0275pipeBind1:function Ru(s,p,m){const b=s+c.Yw1,T=(0,c.OAn)(),M=(0,c.Hh6)(T,b);return Lu(T,b)?sP(T,(0,c.gxQ)(),p,M.transform,m,M):M.transform(m)},\u0275\u0275pipeBind2:function b_(s,p,m,b){const T=s+c.Yw1,M=(0,c.OAn)(),w=(0,c.Hh6)(M,T);return Lu(M,T)?rP(M,(0,c.gxQ)(),p,w.transform,m,b,w):w.transform(m,b)},\u0275\u0275pipeBind3:function P_(s,p,m,b,T){const M=s+c.Yw1,w=(0,c.OAn)(),R=(0,c.Hh6)(w,M);return Lu(w,M)?oP(w,(0,c.gxQ)(),p,R.transform,m,b,T,R):R.transform(m,b,T)},\u0275\u0275pipeBind4:function G0(s,p,m,b,T,M){const w=s+c.Yw1,R=(0,c.OAn)(),B=(0,c.Hh6)(R,w);return Lu(R,w)?nh(R,(0,c.gxQ)(),p,B.transform,m,b,T,M,B):B.transform(m,b,T,M)},\u0275\u0275pipeBindV:function H0(s,p,m){const b=s+c.Yw1,T=(0,c.OAn)(),M=(0,c.Hh6)(T,b);return Lu(T,b)?lP(T,(0,c.gxQ)(),p,M.transform,m,M):M.transform.apply(M,m)},\u0275\u0275projectionDef:function Kl(s){const p=(0,c.OAn)()[c.b5C][c.qlT];if(!p.projection){const b=p.projection=(0,c.WfI)(s?s.length:1,null),T=b.slice();let M=p.child;for(;null!==M;){if(128!==M.type){const w=s?Zm(M,s):0;null!==w&&(T[w]?T[w].projectionNext=M:b[w]=M,T[w]=M)}M=M.next}}},\u0275\u0275domProperty:function eb(s,p,m){const b=(0,c.OAn)();return Ni(b,(0,c.xbp)(),p)&&((0,c.klJ)(),Md((0,c.CpD)(),b,s,p,b[c.GpT],m)),eb},\u0275\u0275ariaProperty:function vm(s,p){const m=(0,c.OAn)();if(Ni(m,(0,c.xbp)(),p)){const T=(0,c.klJ)(),M=(0,c.CpD)();if(Od(M,T,m,s,p))(0,c.Qs1)(M)&&kf(m,M.index);else{const R=(0,c.d31)(M,m);kd(m[c.GpT],R,null,M.value,s,p,null)}}return vm},\u0275\u0275property:Cs,\u0275\u0275control:function Fy(s,p,m){const b=(0,c.OAn)(),T=(0,c.CpD)();Ni(b,(0,c.xbp)(),s)&&((0,c.klJ)(),Mc(T,b,p,s,b[c.GpT],m)),function Ny(s,p){const m=Uy(p,s);m&&(function $y(s,p,m){if(m.classes){const b=Cp(s);b.classes??={},m.state();const T=s[c.GpT],M=(0,c.d31)(p,s);for(const[w,R]of m.classes){const B=R();gT(b.classes,w,B)&&(B?T.addClass(M,w):T.removeClass(M,w))}}}(s,p,m),1024&p.flags?Rl(p,s,m,"value"):2048&p.flags?Rl(p,s,m,"checked"):4096&p.flags?function wm(s,p,m){const b=m.\u0275interopControl,T=Cp(p),M=m.state(),w=!!(8192&s.flags),R=w?(0,c.d31)(s,p):null,B=p[c.GpT],G=M.value();Co(T,Rm,G)&&(0,c.O8t)(()=>b.writeValue(G));for(const J of Lm){const le=M[J]?.();if(Co(T,J,le)){const ye=xl[J],Pe=Mp(s,p,ye,le);J===Im?b.setDisabledState&&(0,c.O8t)(()=>b.setDisabledState(le)):w&&!Pe&&Om(s,B,R,J,le,ye)}}}(p,s,m):function lT(s,p,m){const b=(0,c.d31)(s,p),T=p[c.GpT],M=m.state(),w=Cp(p),R=M.controlValue();Co(w,Rm,R)&&function uT(s,p){switch(s.type){case"checkbox":return void(s.checked=p);case"radio":return void(s.checked=p===s.value);case"number":case"range":case"datetime-local":if("number"==typeof p)return void jy(s,p);break;case"date":case"month":case"time":case"week":if(Gy(p))return void(s.valueAsDate=p);if("number"==typeof p)return void jy(s,p)}s.value=p}(b,R);for(const B of Lm){const G=M[B]?.();if(Co(w,B,G)){const J=xl[B];Om(s,T,b,B,G,J),Mp(s,p,J,G)}}}(p,s,m)),(0,c.xbp)()}(b,T)},\u0275\u0275controlCreate:function iT(){const s=(0,c.OAn)(),p=(0,c.klJ)(),m=(0,c.Mx4)();p.firstCreatePass&&function nT(s,p,m){const b=p.inputs?.formField;if(!b||(0,c.Qs1)(p)&&b.includes(p.directiveStart+p.componentOffset))return;const T=b.find(w=>Pv in m[w]);if(void 0===T)return;p.fieldIndex=T;const M=function sT(s,p){return!!p[s.fieldIndex].\u0275interopControl&&(s.flags|=4096,!0)}(p,m)||function Sm(s,p){for(let m=p.directiveStart;m<p.directiveEnd;m++){const b=s.data[m];if(Wy(b,"value"))return p.flags|=1024,p.customControlIndex=m,!0;if(Wy(b,"checked"))return p.flags|=2048,p.customControlIndex=m,!0}return!1}(s,p);if(!function Tp(s){return!!function Cm(s){if(2!==s.type)return!1;const p=s.value;return"input"===p||"textarea"===p||"select"===p}(s)&&(s.flags|=8192,function Hy(s){if(!s.attrs||"input"!==s.value)return!1;for(let p=0;p<s.attrs.length;p+=2){const m=s.attrs[p];if(Vi(m))break;if("type"===m){const b=s.attrs[p+1];return"date"===b||"datetime-local"===b||"month"===b||"number"===b||"range"===b||"time"===b||"week"===b}}return!1}(s)&&(s.flags|=16384),function Ll(s){return"select"!==s.value}(s)&&(s.flags|=32768),!0)}(p)&&!M)throw new c.buA(318,!1)}(p,m,s);const b=Uy(m,s);b&&(Gn("NgSignalForms"),1024&m.flags?Dm(s,m,b,"value"):2048&m.flags?Dm(s,m,b,"checked"):4096&m.flags?function Mm(s){const p=s.\u0275interopControl;p.registerOnChange(m=>s.state().setControlValue(m)),p.registerOnTouched(()=>s.state().markAsTouched())}(b):8192&m.flags&&function rT(s,p,m){const b=(0,c.klJ)(),T=s[c.GpT],M=(0,c.d31)(p,s),w=()=>{const B=m.state();B.setControlValue(function cT(s,p){switch(s.type){case"checkbox":return s.checked;case"number":case"range":case"datetime-local":if("number"==typeof p())return s.valueAsNumber;break;case"date":case"month":case"time":case"week":const m=p();if(Gy(m))return s.valueAsDate;if("number"==typeof m)return s.valueAsNumber}return s.value}(M,B.value))};Yd(p,b,s,void 0,T,"input",w,$s(p,s,w));const R=()=>{m.state().markAsTouched()};if(Yd(p,b,s,void 0,T,"blur",R,$s(p,s,R)),2===p.type&&"select"===p.value&&"function"==typeof MutationObserver){const B=function oT(s,p){const m=new MutationObserver(b=>{b.some(T=>function km(s){if("childList"===s.type||"characterData"===s.type){if(s.target instanceof Comment)return!1;for(const p of s.addedNodes)if(!(p instanceof Comment))return!0;for(const p of s.removedNodes)if(!(p instanceof Comment))return!0;return!1}return"attributes"===s.type&&s.target instanceof HTMLOptionElement}(T))&&(s.value=p.state().value())});return m.observe(s,{attributes:!0,attributeFilter:["value"],characterData:!0,childList:!0,subtree:!0}),m}(M,m);(0,c.B22)(b,s,B,B.disconnect)}}(s,m,b),b.registerAsBinding(function Tm(s,p){const m=s.customControlIndex;return-1===m?void 0:p[m]}(m,s)))},\u0275\u0275pipe:function ah(s,p){const m=(0,c.klJ)();let b;const T=s+c.Yw1;m.firstCreatePass?(b=function W0(s,p){if(p)for(let m=p.length-1;m>=0;m--){const b=p[m];if(s===b.name)return b}}(p,m.pipeRegistry),m.data[T]=b,b.onDestroy&&(m.destroyHooks??=[]).push(T,b.onDestroy)):b=m.data[T];const M=b.factory||(b.factory=(0,c.wGu)(b.type,!0)),R=(0,c.a2B)(fl);try{const B=pn(!1),G=M();return pn(B),(0,c.M_e)(m,(0,c.OAn)(),T,G),G}finally{(0,c.a2B)(R)}},\u0275\u0275queryRefresh:Tb,\u0275\u0275queryAdvance:function e0(s=1){(0,c.GA0)((0,c.w7Z)()+s)},\u0275\u0275viewQuery:e_,\u0275\u0275viewQuerySignal:function Hp(s,p,m,b){return xv(s,Lv(p,m,b)),Hp},\u0275\u0275loadQuery:Db,\u0275\u0275contentQuery:function Sb(s,p,m,b){return tp(s,p,m,b),Sb},\u0275\u0275contentQuerySignal:function Mb(s,p,m,b,T){return xv(p,tp(s,m,b,T)),Mb},\u0275\u0275reference:Cb,\u0275\u0275classMap:xb,\u0275\u0275styleMap:function c0(s){Fb(Kb,u0,s,!1)},\u0275\u0275styleProp:i_,\u0275\u0275classProp:n_,\u0275\u0275advance:lf,\u0275\u0275template:Qc,\u0275\u0275conditional:function Wm(s,p){Gn("NgControlFlow");const m=(0,c.OAn)(),b=(0,c.xbp)(),T=m[b]!==Ai?m[b]:-1,M=-1!==T?kp(m,c.Yw1+T):void 0;if(Ni(m,b,s)){const R=(0,A.Ht)(null);try{if(void 0!==M&&hg(M,0),-1!==s){const B=c.Yw1+s,G=kp(m,B),J=wr(m[c.eDl],B),le=null;gl(G,Pr(m,J,p,{dehydratedView:le}),0,oo(J,le))}}finally{(0,A.Ht)(R)}}else if(void 0!==M){const R=pg(M,0);void 0!==R&&(R[c.SKP]=p)}},\u0275\u0275conditionalCreate:function vT(s,p,m,b,T,M,w,R){Gn("NgControlFlow");const B=(0,c.OAn)(),G=(0,c.klJ)();return sa(B,G,s,p,m,b,T,(0,c.db4)(G.consts,M),256,w,R),Um},\u0275\u0275conditionalBranchCreate:Um,\u0275\u0275defer:Sy,\u0275\u0275deferWhen:Ty,\u0275\u0275deferOnIdle:function Q1(){Ki(0,(0,c.OAn)(),(0,c.Mx4)())&&lm(up)},\u0275\u0275deferOnImmediate:function Oa(){const s=(0,c.OAn)(),p=(0,c.Mx4)();Ki(0,s,p)&&(null===Hn(s[c.eDl],p).loadingTmplIndex&&Tl(s,p),Eo(0,s,p))},\u0275\u0275deferOnTimer:function Pp(s){Ki(0,(0,c.OAn)(),(0,c.Mx4)())&&lm(iu(s))},\u0275\u0275deferOnHover:function Cl(s,p){const m=(0,c.OAn)(),b=(0,c.Mx4)();Ki(0,m,b)&&(Tl(m,b),El(m,b,s,p,Ho,()=>Eo(0,m,b),0))},\u0275\u0275deferOnInteraction:function kl(s,p){const m=(0,c.OAn)(),b=(0,c.Mx4)();Ki(0,m,b)&&(Tl(m,b),El(m,b,s,p,Gr,()=>Eo(0,m,b),0))},\u0275\u0275deferOnViewport:function fm(s,p,m){const b=(0,c.OAn)(),T=(0,c.Mx4)();Ki(0,b,T)&&(Tl(b,T),El(b,T,s,p,cp,()=>Eo(0,b,T),0,m))},\u0275\u0275deferPrefetchWhen:function X1(s){const p=(0,c.OAn)(),m=(0,c.CpD)();if(Ki(1,p,m)&&Ni(p,(0,c.xbp)(),s)){const T=(0,A.Ht)(null);try{const M=!!s,R=Hn(p[c.eDl],m);!0===M&&R.loadingState===nn.NOT_STARTED&&cu(R,p,m)}finally{(0,A.Ht)(T)}}},\u0275\u0275deferPrefetchOnIdle:function q1(){Ki(1,(0,c.OAn)(),(0,c.Mx4)())&&fy(up)},\u0275\u0275deferPrefetchOnImmediate:function Ia(){const s=(0,c.OAn)(),p=(0,c.Mx4)();if(!Ki(1,s,p))return;const b=Hn(s[c.eDl],p);b.loadingState===nn.NOT_STARTED&&yp(b,s,p)},\u0275\u0275deferPrefetchOnTimer:function Ml(s){Ki(1,(0,c.OAn)(),(0,c.Mx4)())&&fy(iu(s))},\u0275\u0275deferPrefetchOnHover:function My(s,p){const m=(0,c.OAn)(),b=(0,c.Mx4)();if(!Ki(1,m,b))return;const M=Hn(m[c.eDl],b);M.loadingState===nn.NOT_STARTED&&El(m,b,s,p,Ho,()=>cu(M,m,b),1)},\u0275\u0275deferPrefetchOnInteraction:function Cy(s,p){const m=(0,c.OAn)(),b=(0,c.Mx4)();if(!Ki(1,m,b))return;const M=Hn(m[c.eDl],b);M.loadingState===nn.NOT_STARTED&&El(m,b,s,p,Gr,()=>cu(M,m,b),1)},\u0275\u0275deferPrefetchOnViewport:function ky(s,p,m){const b=(0,c.OAn)(),T=(0,c.Mx4)();if(!Ki(1,b,T))return;const w=Hn(b[c.eDl],T);w.loadingState===nn.NOT_STARTED&&El(b,T,s,p,cp,()=>cu(w,b,T),1,m)},\u0275\u0275deferHydrateWhen:function Dy(s){const p=(0,c.OAn)(),m=(0,c.CpD)();if(!Ki(2,p,m))return;const b=(0,c.xbp)();if(Va((0,c.klJ)(),m).set(6,null),Ni(p,b,s)){const w=p[c.YEL],R=(0,A.Ht)(null);try{1==!!s&&Js(w,ra(p,m)[6])}finally{(0,A.Ht)(R)}}},\u0275\u0275deferHydrateNever:function J1(){const s=(0,c.OAn)(),p=(0,c.Mx4)();Ki(2,s,p)&&Va((0,c.klJ)(),p).set(7,null)},\u0275\u0275deferHydrateOnIdle:function oa(){const s=(0,c.OAn)(),p=(0,c.Mx4)();Ki(2,s,p)&&(Va((0,c.klJ)(),p).set(0,null),wa(up,s,p))},\u0275\u0275deferHydrateOnImmediate:function la(){const s=(0,c.OAn)(),p=(0,c.Mx4)();Ki(2,s,p)&&(Va((0,c.klJ)(),p).set(1,null),Js(s[c.YEL],ra(s,p)[6]))},\u0275\u0275deferHydrateOnTimer:function So(s){const p=(0,c.OAn)(),m=(0,c.Mx4)();Ki(2,p,m)&&(Va((0,c.klJ)(),m).set(5,{type:5,delay:s}),wa(iu(s),p,m))},\u0275\u0275deferHydrateOnHover:function mm(){const s=(0,c.OAn)(),p=(0,c.Mx4)();Ki(2,s,p)&&Va((0,c.klJ)(),p).set(4,null)},\u0275\u0275deferHydrateOnInteraction:function _m(){const s=(0,c.OAn)(),p=(0,c.Mx4)();Ki(2,s,p)&&Va((0,c.klJ)(),p).set(3,null)},\u0275\u0275deferHydrateOnViewport:function wy(s){const p=(0,c.OAn)(),m=(0,c.Mx4)();Ki(2,p,m)&&Va((0,c.klJ)(),m).set(2,s?{type:2,intersectionObserverOptions:s}:null)},\u0275\u0275deferEnableTimerScheduling:function n1(s,p,m,b){const T=s.consts;null!=m&&(p.placeholderBlockConfig=(0,c.db4)(T,m)),null!=b&&(p.loadingBlockConfig=(0,c.db4)(T,b)),null===em&&(em=i1)},\u0275\u0275repeater:function AT(s){const p=(0,A.Ht)(null),m=(0,c._px)();try{const b=(0,c.OAn)(),T=b[c.eDl],M=b[m],w=m+1,R=kp(b,w);if(void 0===M.liveCollection){const G=wr(T,w);M.liveCollection=new qy(R,b,G)}else M.liveCollection.reset();const B=M.liveCollection;if(function fT(s,p,m,b){let T,M,w=0,R=s.length-1;if(Array.isArray(p)){(0,A.Ht)(b);let G=p.length-1;for((0,A.Ht)(null);w<=R&&w<=G;){const J=s.at(w),le=p[w],ye=xm(w,J,w,le,m);if(0!==ye){ye<0&&s.updateValue(w,le),w++;continue}const Pe=s.at(R),Oe=p[G],Xe=xm(R,Pe,G,Oe,m);if(0!==Xe){Xe<0&&s.updateValue(R,Oe),R--,G--;continue}const dt=m(w,J),St=m(R,Pe),Ze=m(w,le);if(Object.is(Ze,St)){const ci=m(G,Oe);Object.is(ci,dt)?(s.swap(w,R),s.updateValue(R,Oe),G--,R--):s.move(R,w),s.updateValue(w,le),w++;continue}if(T??=new vu,M??=Nm(s,w,R,m),Bm(s,T,w,Ze))s.updateValue(w,le),w++,R++;else if(M.has(Ze))T.set(dt,s.detach(w)),R--;else{const ci=s.create(w,p[w]);s.attach(w,ci),w++,R++}}for(;w<=G;)Fm(s,T,m,w,p[w]),w++}else if(null!=p){(0,A.Ht)(b);const G=p[Symbol.iterator]();(0,A.Ht)(null);let J=G.next();for(;!J.done&&w<=R;){const le=s.at(w),ye=J.value,Pe=xm(w,le,w,ye,m);if(0!==Pe)Pe<0&&s.updateValue(w,ye),w++,J=G.next();else{T??=new vu,M??=Nm(s,w,R,m);const Oe=m(w,ye);if(Bm(s,T,w,Oe))s.updateValue(w,ye),w++,R++,J=G.next();else if(M.has(Oe)){const Xe=m(w,le);T.set(Xe,s.detach(w)),R--}else s.attach(w,s.create(w,ye)),w++,R++,J=G.next()}}for(;!J.done;)Fm(s,T,m,s.length,J.value),J=G.next()}for(;w<=R;)s.destroy(s.detach(R--));T?.forEach(G=>{s.destroy(G)})}(B,s,M.trackByFn,p),B.updateIndexes(),M.hasEmptyBlock){const G=(0,c.xbp)(),J=0===B.length;if(Ni(b,G,J)){const le=m+2,ye=kp(b,le);if(J){const Pe=wr(T,le),Oe=null;gl(ye,Pr(b,Pe,void 0,{dehydratedView:Oe}),0,oo(Pe,Oe))}else T.firstUpdatePass&&Kd(ye),hg(ye,0)}}}finally{(0,A.Ht)(p)}},\u0275\u0275repeaterCreate:function PT(s,p,m,b,T,M,w,R,B,G,J,le,ye){Gn("NgControlFlow");const Pe=(0,c.OAn)(),Oe=(0,c.klJ)(),Xe=void 0!==B,dt=(0,c.OAn)(),St=R?w.bind(dt[c.b5C][c.SKP]):w,Ze=new Km(Xe,St);dt[c.Yw1+s]=Ze,sa(Pe,Oe,s+1,p,m,b,T,(0,c.db4)(Oe.consts,M),256),Xe&&sa(Pe,Oe,s+2,B,G,J,le,(0,c.db4)(Oe.consts,ye),512)},\u0275\u0275repeaterTrackByIndex:function bT(s){return s},\u0275\u0275repeaterTrackByIdentity:function Cr(s,p){return p},\u0275\u0275componentInstance:function tT(){return(0,c.OAn)()[c.b5C][c.SKP]},\u0275\u0275text:Hb,\u0275\u0275textInterpolate:c_,\u0275\u0275textInterpolate1:Qp,\u0275\u0275textInterpolate2:u_,\u0275\u0275textInterpolate3:function Vb(s,p,m,b,T,M,w){const R=(0,c.OAn)(),B=Ou(R,s,p,m,b,T,M,w);return B!==Ai&&tr(R,(0,c._px)(),B),Vb},\u0275\u0275textInterpolate4:qp,\u0275\u0275textInterpolate5:function d_(s,p,m,b,T,M,w,R,B,G,J){const le=(0,c.OAn)(),ye=Jp(le,s,p,m,b,T,M,w,R,B,G,J);return ye!==Ai&&tr(le,(0,c._px)(),ye),d_},\u0275\u0275textInterpolate6:function zb(s,p,m,b,T,M,w,R,B,G,J,le,ye){const Pe=(0,c.OAn)(),Oe=jb(Pe,s,p,m,b,T,M,w,R,B,G,J,le,ye);return Oe!==Ai&&tr(Pe,(0,c._px)(),Oe),zb},\u0275\u0275textInterpolate7:function Yb(s,p,m,b,T,M,w,R,B,G,J,le,ye,Pe,Oe){const Xe=(0,c.OAn)(),dt=y0(Xe,s,p,m,b,T,M,w,R,B,G,J,le,ye,Pe,Oe);return dt!==Ai&&tr(Xe,(0,c._px)(),dt),Yb},\u0275\u0275textInterpolate8:function Xb(s,p,m,b,T,M,w,R,B,G,J,le,ye,Pe,Oe,Xe,dt){const St=(0,c.OAn)(),Ze=La(St,s,p,m,b,T,M,w,R,B,G,J,le,ye,Pe,Oe,Xe,dt);return Ze!==Ai&&tr(St,(0,c._px)(),Ze),Xb},\u0275\u0275textInterpolateV:function Jb(s){const p=(0,c.OAn)(),m=s_(p,s);return m!==Ai&&tr(p,(0,c._px)(),m),Jb},\u0275\u0275i18n:function Mu(s,p,m){yb(s,p,m),bb()},\u0275\u0275i18nAttributes:function JT(s,p){const m=(0,c.klJ)(),b=(0,c.db4)(m.consts,p);!function Wl(s,p,m){const T=(0,c.Mx4)().index,M=[];if(s.firstCreatePass&&null===s.data[p]){for(let w=0;w<m.length;w+=2){const R=m[w],B=m[w+1];if(""!==B){if(LT.test(B))throw new Error(`ICU expressions are not supported in attributes. Message: "${B}".`);ks(M,B,T,R,Wp(M),null)}}s.data[p]=M}}(m,s+c.Yw1,b)},\u0275\u0275i18nExp:function QT(s){return function Np(s){s&&(Au|=1<<Math.min(Eu,31)),Eu++}(Ni((0,c.OAn)(),(0,c.xbp)(),s)),QT},\u0275\u0275i18nStart:yb,\u0275\u0275i18nEnd:bb,\u0275\u0275i18nApply:function Cu(s){!function wT(s,p,m){if(Eu>0){const b=s.data[m];Tu(s,p,Array.isArray(b)?b:b.update,(0,c.c$7)()-Eu-1,Au)}Au=0,Eu=0}((0,c.klJ)(),(0,c.OAn)(),s+c.Yw1)},\u0275\u0275i18nPostprocess:function qT(s,p={}){return function XT(s,p={}){let m=s;if(fb.test(s)){const b={},T=[0];m=m.replace(vb,(M,w,R)=>{const B=w||R,G=b[B]||[];if(G.length||(B.split("|").forEach(Xe=>{const dt=Xe.match(YT),St=dt?parseInt(dt[1],10):0,Ze=zT.test(Xe);G.push([St,Ze,Xe])}),b[B]=G),!G.length)throw new Error(`i18n postprocess: unmatched placeholder - ${B}`);const J=T[T.length-1];let le=0;for(let Xe=0;Xe<G.length;Xe++)if(G[Xe][0]===J){le=Xe;break}const[ye,Pe,Oe]=G[le];return Pe?T.pop():J!==ye&&T.push(ye),G.splice(le,1),Oe})}return Object.keys(p).length&&(m=m.replace(HT,(b,T,M,w,R,B)=>p.hasOwnProperty(M)?`${T}${p[M]}${B}`:b),m=m.replace(jT,(b,T)=>p.hasOwnProperty(T)?p[T]:b),m=m.replace(VT,(b,T)=>{if(p.hasOwnProperty(T)){const M=p[T];if(!M.length)throw new Error(`i18n postprocess: unmatched ICU - ${b} with key: ${T}`);return M.shift()}return b})),m}(s,p)},\u0275\u0275resolveWindow:Q_,\u0275\u0275resolveDocument:q_,\u0275\u0275resolveBody:function Z_(s){return s.ownerDocument.body},\u0275\u0275setComponentScope:function R0(s,p,m){const b=s.\u0275cmp;b.directiveDefs=fo(p,_o),b.pipeDefs=fo(m,c.oyA)},\u0275\u0275setNgModuleScope:function L0(s,p){return t(()=>{const m=(0,c.WbQ)(s);m.declarations=ih(p.declarations||c.Mlv),m.imports=ih(p.imports||c.Mlv),m.exports=ih(p.exports||c.Mlv),p.bootstrap&&(m.bootstrap=ih(p.bootstrap)),$c.registerNgModule(s,p)})},\u0275\u0275registerNgModuleType:Fv,\u0275\u0275getComponentDepsFactory:function j0(s,p){return()=>{try{return $c.getComponentDependencies(s,p).dependencies}catch(m){throw console.error(`Computing dependencies in local compilation mode for the component "${s.name}" failed with the exception:`,m),m}}},\u0275setClassDebugInfo:function V0(s,p){const m=(0,c.xUg)(s);null!==m&&(m.debugInfo=p)},\u0275\u0275declareLet:function Zp(s){Gn("NgLet");const p=(0,c.klJ)(),m=(0,c.OAn)(),b=s+c.Yw1,T=lo(p,b,128,null,null);return(0,c.iMd)(T,!1),(0,c.M_e)(p,m,b,m_),Zp},\u0275\u0275storeLet:function b0(s){const p=(0,c.klJ)(),m=(0,c.OAn)(),b=(0,c._px)();return(0,c.M_e)(p,m,b,s),s},\u0275\u0275readContextLet:function P0(s){const p=(0,c.VPL)(),m=(0,c.Hh6)(p,c.Yw1+s);if(m===m_)throw new c.buA(314,!1);return m},\u0275\u0275attachSourceLocations:function A0(s,p){const m=(0,c.klJ)(),b=(0,c.OAn)(),T=b[c.GpT],M="data-ng-source-location";for(const[w,R,B,G]of p){(0,c.XRZ)(m,w+c.Yw1);const le=(0,c.vaC)(w+c.Yw1,b);le.hasAttribute(M)||T.setAttribute(le,M,`${s}@o:${R},l:${B},c:${G}`)}},\u0275\u0275interpolate:function E0(s){return Ni((0,c.OAn)(),(0,c.xbp)(),s)?(0,c.eFE)(s):Ai},\u0275\u0275interpolate1:function S0(s,p,m=""){return r_((0,c.OAn)(),s,p,m)},\u0275\u0275interpolate2:function T0(s,p,m,b,T=""){return o_((0,c.OAn)(),s,p,m,b,T)},\u0275\u0275interpolate3:function Lo(s,p,m,b,T,M,w=""){return Ou((0,c.OAn)(),s,p,m,b,T,M,w)},\u0275\u0275interpolate4:function D0(s,p,m,b,T,M,w,R,B=""){return l_((0,c.OAn)(),s,p,m,b,T,M,w,R,B)},\u0275\u0275interpolate5:function HM(s,p,m,b,T,M,w,R,B,G,J=""){return Jp((0,c.OAn)(),s,p,m,b,T,M,w,R,B,G,J)},\u0275\u0275interpolate6:function ir(s,p,m,b,T,M,w,R,B,G,J,le,ye=""){return jb((0,c.OAn)(),s,p,m,b,T,M,w,R,B,G,J,le,ye)},\u0275\u0275interpolate7:function Qb(s,p,m,b,T,M,w,R,B,G,J,le,ye,Pe,Oe=""){return y0((0,c.OAn)(),s,p,m,b,T,M,w,R,B,G,J,le,ye,Pe,Oe)},\u0275\u0275interpolate8:function M0(s,p,m,b,T,M,w,R,B,G,J,le,ye,Pe,Oe,Xe,dt=""){return La((0,c.OAn)(),s,p,m,b,T,M,w,R,B,G,J,le,ye,Pe,Oe,Xe,dt)},\u0275\u0275interpolateV:function C0(s){return s_((0,c.OAn)(),s)},\u0275\u0275sanitizeHtml:function Nh(s){const p=fc();return p?cc(p.sanitize(Ga.HTML,s)||""):al(s,"HTML")?cc(ka(s)):function Bh(s,p){let m=null;try{io=io||sd(s);let b=p?String(p):"";m=io.getInertBodyElement(b);let T=5,M=b;do{if(0===T)throw new Error("Failed to sanitize html because the input is unstable");T--,b=M,M=m.innerHTML,m=io.getInertBodyElement(b)}while(b!==M);return bs((new hc).sanitizeChildren(_c(m)||m))}finally{if(m){const b=_c(m)||m;for(;b.firstChild;)b.firstChild.remove()}}}(pa(),(0,c.eFE)(s))},\u0275\u0275sanitizeStyle:function UP(s){const p=fc();return p?p.sanitize(Ga.STYLE,s)||"":al(s,"Style")?ka(s):(0,c.eFE)(s)},\u0275\u0275sanitizeResourceUrl:J_,\u0275\u0275sanitizeScript:function WP(s){const p=fc();if(p)return nd(p.sanitize(Ga.SCRIPT,s)||"");if(al(s,"Script"))return nd(ka(s));throw new c.buA(905,!1)},\u0275\u0275validateAttribute:function YP(s,p,m){const b=p.toLowerCase(),T=m.toLowerCase();if(!zP[b]?.has(T))return s;const M=(0,c.CpD)();if(2!==M.type)return s;const w=(0,c.OAn)();throw"iframe"===b&&function NP(s){const p=(0,c.OAn)();s.src="",s.srcdoc=bs(""),ti(p[c.GpT],s)}((0,c.d31)(M,w)),new c.buA(-910,!1)},\u0275\u0275sanitizeUrl:Uh,\u0275\u0275sanitizeUrlOrResourceUrl:function VP(s,p,m){return function jP(s,p){return"src"===p&&GP.has(s)||"href"===p&&HP.has(s)||"xlink:href"===p&&"script"===s?J_:Uh}(p,m)(s)},\u0275\u0275trustConstantHtml:function KP(s){return bs(s[0])},\u0275\u0275trustConstantResourceUrl:function $P(s){return function il(s){return wn()?.createScriptURL(s)||s}(s[0])},forwardRef:c.Rfq,resolveForwardRef:c.nl4,\u0275\u0275twoWayProperty:p_,\u0275\u0275twoWayBindingSet:h_,\u0275\u0275twoWayListener:g_,\u0275\u0275replaceMetadata:function Y0(s,p,m,b,T=null,M=null){const w=(0,c.xUg)(s);p.apply(null,[s,m,...b]);const{newDef:R,oldDef:B}=function X0(s,p){const m={...s};return{newDef:Object.assign(s,p,{directiveDefs:m.directiveDefs,pipeDefs:m.pipeDefs,setInput:m.setInput,type:m.type}),oldDef:m}}(w,(0,c.xUg)(s));if(s[c.CQl]=R,B.tView){const G=function me(){return fn}().values();for(const J of G)(0,c.EFk)(J)&&null===J[c.f7T]&&sh(T,M,R,B,J)}},\u0275\u0275getReplaceMetadataURL:function z0(s,p,m){const b=`./@ng/component?c=${s}&t=${encodeURIComponent(p)}`;return new URL(b,m).href}};let Vl=null;function Z0(s){null!==Vl&&(s.defaultEncapsulation!==Vl.defaultEncapsulation||s.preserveWhitespaces!==Vl.preserveWhitespaces)||(Vl=s)}const xo=[];function _P(s){return Tg(s)?s.ngModule:s}const SP=r("NgModule",s=>s,void 0,0,(s,p)=>function iD(s,p={}){(function hP(s,p){const b=(0,c.Bqz)(p.declarations||c.Mlv);let T=null;Object.defineProperty(s,c.hmW,{configurable:!0,get:()=>(null===T&&(T=ne().compileNgModule(Fr,`ng:///${s.name}/\u0275mod.js`,{type:s,bootstrap:(0,c.Bqz)(p.bootstrap||c.Mlv).map(c.nl4),declarations:b.map(c.nl4),imports:(0,c.Bqz)(p.imports||c.Mlv).map(c.nl4).map(_P),exports:(0,c.Bqz)(p.exports||c.Mlv).map(c.nl4).map(_P),schemas:p.schemas?(0,c.Bqz)(p.schemas):null,id:p.id||null}),T.schemas||(T.schemas=[])),T)});let M=null;Object.defineProperty(s,c.zSs,{get:()=>{if(null===M){const R=ne();M=R.compileFactory(Fr,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,deps:Kt(s),target:R.FactoryTarget.NgModule,typeArgumentCount:0})}return M},configurable:!1});let w=null;Object.defineProperty(s,c.ONQ,{get:()=>{if(null===w){const R={name:s.name,type:s,providers:p.providers||c.Mlv,imports:[(p.imports||c.Mlv).map(c.nl4),(p.exports||c.Mlv).map(c.nl4)]};w=ne().compileInjector(Fr,`ng:///${s.name}/\u0275inj.js`,R)}return w},configurable:!1})})(s,p),void 0!==p.id&&Fv(s,p.id),function tD(s,p){xo.push({moduleType:s,ngModule:p})}(s,p)}(s,p)),Yl=new c.nKC("");let mD=(()=>{class s{applicationErrorHandler=(0,c.WQX)(c.ZTf);appRef=(0,c.WQX)(ou);taskService=(0,c.WQX)(c.rev);ngZone=(0,c.WQX)(c.SKi);zonelessEnabled=(0,c.WQX)(c.Evm);tracing=(0,c.WQX)(Ec,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new v.y;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(c.AbJ):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&((0,c.WQX)(c.AQb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{const m=this.taskService.add();this.runningTick||(this.cleanup(),this.zonelessEnabled&&!this.appRef.includeAllTestViews)?(this.switchToMicrotaskScheduler(),this.taskService.remove(m)):this.taskService.remove(m)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{const m=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(m)})})}notify(m){if(!this.zonelessEnabled&&5===m)return;switch(m){case 0:case 6:case 13:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 12:this.appRef.dirtyFlags|=16;break;case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;const b=this.useMicrotaskScheduler?c.uiq:c.l4E;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>b(()=>this.tick())):this.ngZone.runOutsideAngular(()=>b(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(c.AbJ+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const m=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(b){this.applicationErrorHandler(b)}finally{this.taskService.remove(m),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const m=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(m)}}static \u0275fac=function(b){return new(b||s)};static \u0275prov=(0,c.jDH)({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function DP(){return[{provide:c.hk6,useExisting:mD},{provide:c.SKi,useClass:c.myG},{provide:c.Evm,useValue:!0}]}const MP=new c.nKC("",{factory:()=>(0,c.WQX)(MP,{optional:!0,skipSelf:!0})||function _D(){return typeof $localize<"u"&&$localize.locale||Pu}()}),fD=new c.nKC("",{factory:()=>"USD"})},35776(O,S,i){i.d(S,{A:()=>A});var P=Object.prototype;const A=function c(_){var v=_&&_.constructor;return _===("function"==typeof v&&v.prototype||P)}},35867(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Gecko";tier=1;pack="Puppy";attack=3;health=1;toyPet=!0;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GeckoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null!=this.owner.parent.toy,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=2*this.level,f=r.parent.getThis(r).pet;null!=f&&(f.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${f.name} ${d} health.`,type:"ability",player:r.parent,tiger:a}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},36466(O,S,i){i.d(S,{M:()=>_});var P=i(46200),c=i(5615),A=i(44402);class _ extends P.i{logService;abilityService;name="Crane";tier=5;pack="Golden";attack=6;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"CraneAbility",owner:t,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.nearestPetsAhead(1,d);if(0==g.pets.length)return;let f=g.pets[0];f.increaseAttack(5),this.logService.createLog({message:`${d.name} gave ${f.name} 5 attack.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:g.random});let D=d.parent.nearestPetsAhead(1,d);if(0==D.pets.length)return;let k=D.pets[0];k.givePetEquipment(new A.m),this.logService.createLog({message:`${d.name} gave ${k.name} Melon.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:D.random}),this.triggerTigerExecution(t)}reset(){super.reset(),this.maxUses=this.level}copy(t){return new v(t,this.logService)}}},36481(O,S,i){i.d(S,{U:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Chimera Snake";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},36509(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Armadillo";tier=5;pack="Turtle";attack=4;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ArmadilloAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getAll(!0,r),g=d.pets;if(0!=g.length){for(let f of g){if(!f.alive)continue;let D=8*this.level;f.increaseHealth(D),this.logService.createLog({message:`${r.name} increased health of ${f.name} by ${D}.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},36548(O,S,i){i.d(S,{u:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Fan Mussel";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new _(this)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{constructor(e){super({name:"FanMusselAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:t=>{this.executeAbility(t)}})}executeAbility(e){}copy(e){return new _(e)}}},36578(O,S,i){i.d(S,{v:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Camel";tier=3;pack="Turtle";health=3;attack=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CamelAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.nearestPetsBehind(1,r);if(0===d.pets.length)return;let g=d.pets[0],f=2*this.level;g.increaseAttack(this.level),g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${this.level} attack and ${f} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},37272(O,S,i){i.d(S,{N:()=>_});var P=i(46200),c=i(5615),A=i(44402);class _ extends P.i{logService;abilityService;name="Green Sea Turtle";tier=6;pack="Danger";attack=5;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"GreenSeaTurtleAbility",owner:t,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:1,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let f=d.parent.getAll(!1,d).pets;for(let D of f)D.givePetEquipment(new A.m,d.level),this.logService.createLog({message:`${d.name} gave ${D.name} Melon.`,type:"ability",player:d.parent,tiger:o});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},37283(O){O.exports=JSON.parse('[{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to two first enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"294","Name":"Action Figure","NameId":"RelicActionFigure","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Break: Give the front-most friend +1 attack and +1 health."},{"Level":2,"About":"Break: Give the two front-most friends +1 attack and +1 health."},{"Level":3,"About":"Break: Give the three front-most friends +1 attack and +1 health."}],"Type":1,"ToyType":0,"Id":"479","Name":"Balloon","NameId":"RelicBalloon","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Deal 50 damage to the front-most friend."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"299","Name":"Boot","NameId":"RelicBoot","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you rolled less than 6 times this turn, deal the turn number as damage to friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"300","Name":"Bowling Ball","NameId":"RelicBowlingBall","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Lose 3 gold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"310","Name":"Broken Piggy Bank","NameId":"RelicOpenPiggyBank","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Sell the two front-most friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"302","Name":"Cardboard Box","NameId":"RelicCardboardBox","Tier":1,"TierMax":4,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give +1 experience to friends and +2 experience to enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"794","Name":"Chocolate Box","NameId":"RelicChocolateBox","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Summoned: Replace this with another random toy."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"482","Name":"Crumpled Paper","NameId":"RelicCrumpledPaper","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +2 mana."},{"Level":2,"About":"Start of battle: Give the front-most friend +4 mana."},{"Level":3,"About":"Start of battle: Give the front-most friend +6 mana."}],"Type":1,"ToyType":0,"Id":"580","Name":"Crystal Ball","NameId":"RelicCrystalBall","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Friend bought: Transform it into ANY random pet from the same tier with new base stats."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"303","Name":"Deck of Cards","NameId":"RelicCardDeck","Tier":1,"TierMax":4,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Roll: Lose 1 gold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"304","Name":"Dice","NameId":"RelicDice","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Shuffle positions of all friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"286","Name":"Dice Cup","NameId":"RelicDiceCup","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you did not buy any tier 1 food this turn, make friends Dazed until next turn."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"485","Name":"Flute","NameId":"RelicFlute","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two front-most friends Weak."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"306","Name":"Handkerchief","NameId":"RelicHandkerchief","Tier":1,"TierMax":3,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Empty front space: Remove 20% attack from the back-most friend and move it to the front."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"307","Name":"Kite","NameId":"RelicKite","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Remove 20% attack and 20% health from friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"506","Name":"Lamp","NameId":"RelicLamp","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Feed Apples to random pets for each turn number. Double their power on enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"308","Name":"Lunchbox","NameId":"RelicLunchbox","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the back-most tier 2 or lower friend +1 experience."},{"Level":2,"About":"Start of battle: Give the back-most tier 2 or lower friend +2 experience."},{"Level":3,"About":"Start of battle: Give the back-most tier 2 or lower friend +3 experience."}],"Type":1,"ToyType":0,"Id":"581","Name":"Magic Wand","NameId":"RelicMagicWand","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make two random friends Cold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"590","Name":"Onesie","NameId":"RelicOnesie","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Knock it out."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"312","Name":"Paper Shredder","NameId":"RelicPaperShredder","Tier":1,"TierMax":5,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two front-most friends Inked."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"313","Name":"Pen","NameId":"RelicPen","Tier":1,"TierMax":3,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out the two front-most friends and the front-most enemy."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"284","Name":"Pill Bottle","NameId":"RelicPillBottle","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Push the last enemy up front and give it +100% attack and +100% health."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"314","Name":"Pogo Stick","NameId":"RelicPogoStick","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give enemies +20% attack and +20% health."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"315","Name":"Remote Car","NameId":"RelicRemoteCar","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you spent less than 13 gold this turn, remove 20% health from friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"582","Name":"Ring","NameId":"RelicTheOneRing","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out friends from the previous tier."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"316","Name":"Ring Pyramid","NameId":"RelicRingPyramid","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Deal 1 damage to the three front-most friends. Multiply damage with their tiers."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"285","Name":"Rock Bag","NameId":"RelicRockBag","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"All enemies fainted: Summon one 50/1 enemy Duck. Works 1 time per battle."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"318","Name":"Rubber Duck","NameId":"RelicRubberDuck","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Set attack and health of all friends to the turn number."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"795","Name":"Scale","NameId":"RelicScale","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out friends from the current tier."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"486","Name":"Soccer Ball","NameId":"RelicFootball","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give Walnut perk to the friend on the middle space."},{"Level":2,"About":"Start of battle: Give Walnut perk with double effect to the friend on the middle space."},{"Level":3,"About":"Start of battle: Give Walnut perk with triple effect to the friend on the middle space."}],"Type":1,"ToyType":0,"Id":"496","Name":"Stick","NameId":"RelicWoodenStick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two back-most friends Icky."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"792","Name":"Sticky Hand","NameId":"RelicStickyHand","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take double damage, twice.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Three friends faint: Summon one exact enemy copy of the back-most friend."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"324","Name":"Stuffed Bear","NameId":"RelicTeddyBear","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Remove the lowest tier perks from two friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"793","Name":"Vacuum Cleaner","NameId":"RelicHandheldVacuumCleaner","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make one random perk-less enemy Weak."},{"Level":2,"About":"Start of battle: Make two random perk-less enemies Weak."},{"Level":3,"About":"Start of battle: Make three random perk-less enemies Weak."}],"Type":1,"ToyType":0,"Id":"600","Name":"Witch Broom","NameId":"RelicWitchBroom","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend Garlic perk."},{"Level":2,"About":"Start of battle: Give the two front-most friends Garlic perk."},{"Level":3,"About":"Start of battle: Give the three front-most friends Garlic perk."}],"Type":1,"ToyType":0,"Id":"509","Name":"Garlic Press","NameId":"RelicGarlicPress","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack."},{"Level":2,"About":"Friend summoned: Give it +2 attack."},{"Level":3,"About":"Friend summoned: Give it +3 attack."}],"Type":1,"ToyType":0,"Id":"598","Name":"Magic Carpet","NameId":"RelicMagicCarpet","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Friendly level-up: Give it +1 attack and +1 health."},{"Level":2,"About":"Friendly level-up: Give it +2 attack and +2 health."},{"Level":3,"About":"Friendly level-up: Give it +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"575","Name":"Magic Lamp","NameId":"RelicMagicLamp","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give Popcorn perk to the front-most perkless friend."},{"Level":2,"About":"Start of battle: Give Popcorn perk to the two front-most perkless friends."},{"Level":3,"About":"Start of battle: Give Popcorn perk to the three front-most perkless friends."}],"Type":1,"ToyType":0,"Id":"699","Name":"Microwave Oven","NameId":"RelicMicrowaver","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Faint: Summon one random pet from the same tier.","CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give Eucalyptus perk to the front-most friend."},{"Level":2,"About":"Start of battle: Give Eucalyptus perk to the two front-most friends."},{"Level":3,"About":"Start of battle: Give Eucalyptus perk to the three front-most friends."}],"Type":1,"ToyType":0,"Id":"789","Name":"Plastic Saw","NameId":"RelicToySaw","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Break: Give friends +1 health."},{"Level":2,"About":"Break: Give friends +2 health."},{"Level":3,"About":"Break: Give friends +3 health."}],"Type":1,"ToyType":0,"Id":"488","Name":"Radio","NameId":"RelicRadio","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Deal 3 damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 3 damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 3 damage to three random enemies."}],"Type":1,"ToyType":0,"Id":"478","Name":"Tennis Ball","NameId":"RelicTennisBall","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three friends bought: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three friends bought: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three friends bought: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"574","Name":"Candelabra","NameId":"RelicCandelabra","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 5 damage to the lowest health enemy."},{"Level":2,"About":"Start of battle: Deal 5 damage to the lowest health enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 5 damage to the lowest health enemy. Triggers 3 times."}],"Type":1,"ToyType":0,"Id":"507","Name":"Foam Sword","NameId":"RelicFoamSword","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three friends faint: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three friends faint: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three friends faint: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"586","Name":"Glass Shoes","NameId":"RelicGlassShoes","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Spend 14 gold: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Spend 14 gold: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Spend 14 gold: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"589","Name":"Golden Harp","NameId":"RelicGoldenHarp","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three food bought: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three food bought: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three food bought: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"595","Name":"Lock of Hair","NameId":"RelicLockofHair","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Two friends transformed: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Two friends transformed: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Two friends transformed: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"578","Name":"Magic Mirror","NameId":"RelicMagicMirror","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Give the front-most friend Melon perk."},{"Level":2,"About":"Break: Give the two front-most friends Melon perk."},{"Level":3,"About":"Break: Give the three front-most friends Melon perk."}],"Type":1,"ToyType":0,"Id":"510","Name":"Melon Helmet","NameId":"RelicMelonHelmet","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Roll 7 times: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Roll 7 times: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Roll 7 times: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"599","Name":"Pickaxe","NameId":"RelicPickaxe","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Friend jumped: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Friend jumped: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Friend jumped: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"576","Name":"Red Cape","NameId":"RelicRedCape","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Two friendly level-up: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Two friendly level-up: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Two friendly level-up: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"579","Name":"Rosebud","NameId":"RelicRosebud","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Transform front-most friend into another random pet from 2 tiers below."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"319","Name":"Scissors","NameId":"RelicScissors","Tier":3,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 5 damage to the last enemy."},{"Level":2,"About":"Start of battle: Deal 5 damage to the last enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 5 damage to the last enemy. Triggers 3 times."}],"Type":1,"ToyType":0,"Id":"493","Name":"Toy Gun","NameId":"RelicToyGun","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Transform all friends to level 1."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"327","Name":"Toy Mouse","NameId":"RelicToyMouse","Tier":3,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Stock one free pet from tier 2 as a 4/4 level 3."},{"Level":2,"About":"Break: Stock one free pet from tier 4 as a 8/8 level 3."},{"Level":3,"About":"Break: Stock one free pet from tier 6 as a 12/12 level 3."}],"Type":1,"ToyType":0,"Id":"591","Name":"Treasure Chest","NameId":"RelicTreasureChest","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Summon a level 1 Treasure Chest."},{"Level":2,"About":"Break: Summon a level 2 Treasure Chest."},{"Level":3,"About":"Break: Summon a level 3 Treasure Chest."}],"Type":1,"ToyType":0,"Id":"594","Name":"Treasure Map","NameId":"RelicTreasureMap","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"End turn: Gain one free roll next turn."},{"Level":2,"About":"End turn: Gain two free rolls next turn."},{"Level":3,"About":"End turn: Gain three free rolls next turn."}],"Type":1,"ToyType":0,"Id":"597","Name":"Winged Sandals","NameId":"RelicWingedSandals","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Break: Summon one 6/6 friend that sells for 3 gold."},{"Level":2,"About":"Break: Summon one 12/12 friend that sells for 6 gold."},{"Level":3,"About":"Break: Summon one 18/18 friend that sells for 9 gold."}],"Type":1,"ToyType":0,"Id":"492","Name":"Cash Register","NameId":"RelicToyCashRegister","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"All friends fainted: Summon one 6/6 Salmon of Knowledge in battle once."},{"Level":2,"About":"All friends fainted: Summon one 12/12 Salmon of Knowledge in battle once."},{"Level":3,"About":"All friends fainted: Summon one 18/18 Salmon of Knowledge in battle once."}],"Type":1,"ToyType":0,"Id":"584","Name":"Nutcracker","NameId":"RelicNutcracker","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Give the middle friendly pet +6 mana."},{"Level":2,"About":"Start of battle: Give the middle friendly pet +12 mana."},{"Level":3,"About":"Start of battle: Give the middle friendly pet +18 mana."}],"Type":1,"ToyType":0,"Id":"587","Name":"Ocarina","NameId":"RelicOcarina","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Break: Stock one free Chicken Leg."},{"Level":2,"About":"Break: Stock two free Chicken Legs."},{"Level":3,"About":"Break: Stock three free Chicken Legs."}],"Type":1,"ToyType":0,"Id":"311","Name":"Oven Mitts","NameId":"RelicOvenMitts","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Give one random Tand & Tand +6 attack and +6 health."},{"Level":2,"About":"Start of battle: Give one random Tand & Tand +12 attack and +12 health."},{"Level":3,"About":"Start of battle: Give one random Tand & Tand +18 attack and +18 health."}],"Type":1,"ToyType":0,"Id":"585","Name":"Thunder Hammer","NameId":"RelicThunderHammer","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 6/6 Giant Eyes Dog up front in battle once."},{"Level":2,"About":"Empty front space: Summon one 12/12 Giant Eyes Dog up front in battle once."},{"Level":3,"About":"Empty front space: Summon one 18/18 Giant Eyes Dog up front in battle once."}],"Type":1,"ToyType":0,"Id":"588","Name":"Tinder Box","NameId":"RelicTinderBox","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Make the first enemy Weak."},{"Level":2,"About":"Start of battle: Make the first two enemies Weak."},{"Level":3,"About":"Start of battle: Make the first three enemies Weak."}],"Type":1,"ToyType":0,"Id":"326","Name":"Toilet Paper","NameId":"RelicToiletPaper","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Remove 30% attack from the highest attack enemy."},{"Level":2,"About":"Start of battle: Remove 30% attack from the two highest attack enemies."},{"Level":3,"About":"Start of battle: Remove 30% attack from the three highest attack enemies."}],"Type":1,"ToyType":0,"Id":"503","Name":"Camera","NameId":"RelicCamera","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 6/6 Great One in battle that deals 5 damage to ALL other pets."},{"Level":2,"About":"Empty front space: Summon one 12/12 Great One in battle that deals 10 damage to ALL other pets."},{"Level":3,"About":"Empty front space: Summon one 18/18 Great One in battle that deals 15 damage to ALL other pets."}],"Type":1,"ToyType":0,"Id":"645","Name":"Evil Book","NameId":"RelicEvilBook","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Break: Give front-most friend +5 attack and +5 health."},{"Level":2,"About":"Break: Give front-most friend +10 attack and +10 health."},{"Level":3,"About":"Break: Give front-most friend +15 attack and +15 health."}],"Type":1,"ToyType":0,"Id":"484","Name":"Flashlight","NameId":"RelicFlashlight","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Give ALL pets random perks and ailments."},{"Level":2,"About":"Start of battle: Give ALL pets random perks and ailments with double effects."},{"Level":3,"About":"Start of battle: Give ALL pets random perks and ailments with triple effects."}],"Type":1,"ToyType":0,"Id":"593","Name":"Pandoras Box","NameId":"RelicPandorasBox","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Remove 40% health from the highest health enemy."},{"Level":2,"About":"Start of battle: Remove 40% health from the two highest health enemies."},{"Level":3,"About":"Start of battle: Remove 40% health from the three highest health enemies."}],"Type":1,"ToyType":0,"Id":"513","Name":"Stinky Sock","NameId":"RelicStinkySock","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to the highest attack friend."},{"Level":2,"About":"Start of battle: Give Coconut perk to the two highest attack friends."},{"Level":3,"About":"Start of battle: Give Coconut perk to the three highest attack friends."}],"Type":1,"ToyType":0,"Id":"511","Name":"Air Palm Tree","NameId":"RelicPalmTree","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"End turn: Give the back-most friend +1 attack and +1 health."},{"Level":2,"About":"End turn: Give the back-most friend +2 attack and +2 health."},{"Level":3,"About":"End turn: Give the back-most friend +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"583","Name":"Excalibur","NameId":"RelicExcalibur","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Break: Stock one free Holy Water."},{"Level":2,"About":"Break: Stock two free Holy Waters."},{"Level":3,"About":"Break: Stock three free Holy Waters."}],"Type":1,"ToyType":0,"Id":"592","Name":"Holy Grail","NameId":"RelicHolyGrail","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Start of battle: Give Peanut Butter perk to the lowest attack friend."},{"Level":2,"About":"Start of battle: Give Peanut Butter perk to the two lowest attack friends."},{"Level":3,"About":"Start of battle: Give Peanut Butter perk to the three lowest attack friends."}],"Type":1,"ToyType":0,"Id":"512","Name":"Peanut Jar","NameId":"RelicPeanutJar","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Break: Give friends +2 attack and +2 health."},{"Level":2,"About":"Break: Give friends +4 attack and +4 health."},{"Level":3,"About":"Break: Give friends +6 attack and +6 health."}],"Type":1,"ToyType":0,"Id":"491","Name":"Television","NameId":"RelicTelevision","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]}]')},37302(O,S,i){i.d(S,{A:()=>n});var P=i(73180),c=i(14173),A=i(77437),_=i(90340),v=i(18960),e=i(73632);function t(a){var o=this.__data__=new P.A(a);this.size=o.size}t.prototype.clear=c.A,t.prototype.delete=A.A,t.prototype.get=_.A,t.prototype.has=v.A,t.prototype.set=e.A;const n=t},37429(O,S,i){i.d(S,{P:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Mosasaurus";tier=5;pack="Puppy";attack=5;health=6;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"MosasaurusAbility",owner:t,triggers:["FriendlyToyBroke"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=(0,A.MZ)(n);if(0===a.length)return void this.triggerTigerExecution(t);const o=2*this.level,r=3*this.level;for(const d of a)d.increaseAttack(o),d.increaseHealth(r),this.logService.createLog({message:`${n.name} gave ${d.name} +${o}/+${r}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},37545(O,S,i){i.d(S,{O:()=>A,s:()=>_});var P=i(50873),c=i(5615);class A extends P.L{name="Balloon";tier=1;onBreak(e,t){let n=this.parent.getFurthestUpPets(this.level,[]);if(0!=n.pets.length)for(let o of n.pets)o.increaseAttack(1),o.increaseHealth(1),this.logService.createLog({message:`${this.name} gave ${o.name} 1 attack and 1 health.`,type:"ability",player:this.parent,puma:t})}}class _ extends c.T{logService;constructor(e,t){super({name:"BalloonAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,o=this.owner;let r=o.parent.getFurthestUpPets(this.level,[],o),d=r.pets;if(0!=d.length){for(let f of d)f.increaseAttack(1),f.increaseHealth(1),this.logService.createLog({message:`${o.name} gave ${f.name} 1 attack and 1 health.`,type:"ability",player:o.parent,tiger:a,randomEvent:r.random});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},37584(O,S,i){i.d(S,{r:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Amargasaurus";tier=5;pack="Star";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;healthRestoredThisTurn=0;reset(){this.healthRestoredThisTurn=0,super.reset()}constructor(e,t){super({name:"AmargasaurusAbility",owner:e,triggers:["FriendHurt","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return void(this.healthRestoredThisTurn=0);const{triggerPet:a,tiger:o,pteranodon:r}=e;let d;if(!a||(a.transformed?(d=a.transformedInto,d.originalHealth=a.originalHealth):d=a,!d||!d.alive)||d===t)return;const g=15*this.level,f=d.originalHealth-d.health;if(f<=0||this.healthRestoredThisTurn>=g)return;const k=Math.min(f,g-this.healthRestoredThisTurn);if(k>0){let N=t.parent.getSpecificPet(t,d).pet;if(null==N)return;this.logService.createLog({message:`${t.name} restored ${k} health to ${N.name}.`,type:"ability",player:t.parent,tiger:o,pteranodon:r}),N.increaseHealth(k),this.healthRestoredThisTurn+=k}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},37765(O,S,i){i.d(S,{lJ:()=>c});const c=function P(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},37831(O,S,i){i.d(S,{FZ:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Goblin Shark";tier=4;pack="Custom";attack=6;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D,k){super(t,n,o),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,d,g,D,k)}}class _ extends c.T{logService;abilityService;constructor(t,n,a){super({name:"GoblinSharkFaintAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:o=>this.owner.alive,abilityFunction:o=>{this.executeAbility(o)},ignoreRepeats:!0}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;for(;d.swallowedPets.length>0;){let g=d.swallowedPets.shift();g.health=1;let f=d.parent.summonPet(g,d.savedPosition,!1,d);f.success&&this.logService.createLog({message:`${d.name} summoned ${g.name} (level ${g.level}).`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new _(t,this.logService,this.abilityService)}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"GoblinSharkStartAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.petService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=6*this.level;for(let f of d.parent.opponent.petArray)if(f.alive&&f.health<=g){let D=this.petService.createPet({name:f.name,attack:f.attack,health:f.health,exp:f.exp,equipment:null,mana:0},d.parent);d.swallowedPets.push(D),f.health=0,this.logService.createLog({message:`${d.name} swallowed ${f.name}`,type:"ability",player:d.parent,tiger:o,pteranodon:r});break}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.petService)}}},37850(O,S,i){i.d(S,{L:()=>A});var P=i(19058),c=i(50873);class A extends c.L{name="Handkerchief";tier=1;startOfBattle(v,e){const t=this.parent.getFurthestUpPets(2);for(const n of t.pets)n.givePetEquipment(new P.l),this.logService.createLog({message:`${this.name} gave ${n.name} Weak.`,type:"ability",player:this.parent,puma:e,randomEvent:t.random})}}},37907(O,S,i){i.d(S,{z:()=>c});var P=i(22097);class c extends P.${name="Sardinian Currant";equipmentClass="shop"}},38022(O,S,i){i.d(S,{n:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Moth";tier=1;pack="Puppy";health=3;attack=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MothAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getFurthestUpPet(r),g=d.pet;if(null==g)return;let f=2*this.level;g.increaseAttack(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},38065(O,S,i){i.d(S,{f:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Roc";tier=4;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"RocAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let g=r.parent.nearestPetsAhead(5,r).pets;if(0==g.length)return;let f=r.parent.petArray.filter(D=>D==r||!g.includes(D));for(let D=0;D<3*this.level;D++){let k=r.parent.getRandomPet(f,!0,!1,!1,r);if(null==k.pet)break;this.logService.createLog({message:`${r.name} gave ${k.pet.name} 2 mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:k.random}),k.pet.increaseMana(2)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},38086(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Seahorse";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SeahorseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,r=a.parent.opponent.getLastPet();if(null==r.pet)return;const d=r.pet;d.parent.pushPet(d,this.level),this.logService.createLog({message:`${a.name} pushed ${d.name} forward ${this.level} space(s).`,type:"ability",player:a.parent,tiger:t,pteranodon:n,randomEvent:r.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},38129(O,S,i){i.d(S,{$:()=>c,d:()=>P});const P=["Turtle","Puppy","Star","Golden","Unicorn","Danger","Custom"],c=P.filter(A=>"Custom"!==A)},38130(O,S,i){i.d(S,{A:()=>c});var P=i(50873);class c extends P.L{logService;toyService;petService;name="Rubber Duck";tier=1;constructor(_,v,e,t,n){super(_,v,t,n),this.logService=_,this.toyService=v,this.petService=e}allEnemiesFainted(_,v){if(this.used)return;const e=this.parent.opponent,t=this.petService.createPet({name:"Duck",attack:50,health:1,exp:0,mana:0,equipment:null},e);t.toyPet=!0,e.summonPet(t,0).success&&(this.logService.createLog({message:`${this.name} summoned a 50/1 Duck for the enemy.`,type:"ability",player:this.parent,puma:v}),this.used=!0)}}},38148(O,S,i){i.d(S,{N:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Golden Egg";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;constructor(e,t){super({name:"GoldenEggAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t}executeAbility(e){const t=this.owner;let n=t.parent.opponent.petArray,a=null;for(let r of n)if(r.alive){a=r;break}if(null==a)return;let o=this.equipment.multiplier;for(let r=0;r<o;r++)t.snipePet(a,6,!1,!1,!1,!0,!1);t.removePerk()}}},38271(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pillbug";tier=1;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"PillbugAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} stocked ${n} free Sleeping Pill${1===n?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},38350(O,S,i){i.d(S,{Z:()=>_});var P=i(86785),c=i(61850),A=i(44708);class _ extends A.q{petBehind(e=!1,t=!1){if(!this.parent)return null;for(let a=(void 0!==this.position?this.position:this.savedPosition)+1;a<5;a++){let o=this.parent.getPetAtPosition(a);if(t&&null!=o)return o;if(e&&null!=o&&!o.alive&&!o.seenDead)return null;if(null!=o&&o.alive)return o}return null}getManticoreMult(){const e=this.parent;if(!e||!e.petArray)return[];let t=[];for(let n of e.petArray)"Manticore"==n.name&&t.push(n.level);return t}getSparrowLevel(){const e=this.parent;if(!e||!Array.isArray(e.petArray))return 0;let t=0;for(let n of e.petArray)"Sparrow"==n.name&&(t=Math.max(t,n.level));return t}getPetsBehind(e,t){const n=this.getSillyRandomTargets(e,t);if(n.length>0)return n;let a=[],o=this.petBehind();for(t&&o&&o.equipment?.name===t&&(o=o.petBehind());o&&!(a.length>=e);)a.push(o),o=o.petBehind();return a}kitsuneCheck(){let e=this.petBehind(),t=!0;for(;e;){if("Kitsune"==e.name&&t)return!1;if(t=!1,"Kitsune"==e.name)return!0;e=e.petBehind()}return!1}get petAhead(){const e=this.parent;if(!e)return null;for(let n=(void 0!==this.position?this.position:this.savedPosition)-1;n>-1;n--){let a=e.getPetAtPosition(n);if(null!=a&&a.alive)return a}return null}get minExpForLevel(){return(0,P.T)(this.level)}getSillyRandomTargets(e,t){if(!this.parent?.opponent)return[];const n=this.equipment;if(!("string"==typeof n&&"Silly"===n||n&&"string"==typeof n.name&&"Silly"===n.name))return[];const r=[],d=[...[...this.parent.petArray,...this.parent.opponent.petArray].filter(g=>!(!g.alive||g===this.asPet()||t&&g.equipment?.name===t))];for(;r.length<e&&d.length>0;){const g=(0,c.hw)(0,d.length-1);r.push(d.splice(g,1)[0])}return r}}},38354(O,S,i){i.d(S,{n:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Warthog";tier=6;pack="Golden";attack=9;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WarthogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=this.level,g=Math.floor(r.attack/3);for(let f=0;f<g;f++){let D=r.parent.getRandomPet([],!0,!1,!0,r);if(null==D.pet)break;D.pet.increaseAttack(d),D.pet.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${D.pet.name} ${d} attack and ${d} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:D.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},38736(O,S,i){i.d(S,{A:()=>_});var c=Function.prototype.toString;const _=function A(v){if(null!=v){try{return c.call(v)}catch{}try{return v+""}catch{}}return""}},38762(O,S,i){function P(v,e){if(!v||!e||v.player!==e.player||v.type!==e.type||v.randomEvent!==e.randomEvent||v.randomEventReason!==e.randomEventReason||v.sourcePet!==e.sourcePet||v.sourceIndex!==e.sourceIndex||v.targetPet!==e.targetPet||v.targetIndex!==e.targetIndex||v.tiger!==e.tiger||v.puma!==e.puma||v.pteranodon!==e.pteranodon)return null;if((v.pantherMultiplier??null)!==(e.pantherMultiplier??null))return null;const a=_(v.rawMessage??v.message??""),o=_(e.rawMessage??e.message??"");return!a||!o||a.includes(" attack and ")||a.includes(" health and ")||o.includes(" attack and ")||o.includes(" health and ")?null:c(a,o)??c(o,a)}function c(v,e){const t=A(v,"lost","attack"),n=A(e,"lost","health");if(t&&n&&t.prefix===n.prefix&&t.suffix===n.suffix)return`${t.prefix}${t.value} attack and ${n.value} health${t.suffix}`;const a=A(v,"gave","attack"),o=A(e,"gave","health");return a&&o&&a.prefix===o.prefix&&a.suffix===o.suffix?`${a.prefix}${a.plus}${a.value} attack and ${o.plus}${o.value} health${a.suffix}`:null}function A(v,e,t){if("lost"===e){const o=new RegExp(`^(.*\\blost\\s+)(\\d+)\\s+${t}\\b(.*)$`,"i"),r=v.match(o);return r?{prefix:r[1],plus:"",value:r[2],suffix:r[3]}:null}const n=new RegExp(`^(.*\\b(?:gave|give|gives)\\b.*?\\s+)(\\+?)(\\d+)\\s+${t}\\b(.*)$`,"i"),a=v.match(n);return a?{prefix:a[1],plus:a[2]??"",value:a[3],suffix:a[4]}:null}function _(v){return v.replace(/<[^>]+>/g,"").trim()}i.d(S,{c:()=>P})},38818(O,S,i){i.d(S,{A:()=>_});var P=i(77107);const _=function A(v,e){var t=this.__data__;return this.size+=this.has(v)?0:1,t[v]=P.A&&void 0===e?"__lodash_hash_undefined__":e,this}},38866(O,S,i){i.d(S,{v:()=>e});var P=i(46200),c=i(5615),A=i(33127),_=i(43681),v=i(56990);class e extends P.i{logService;abilityService;name="Tapir";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;constructor(a,o){super({name:"TapirAbility",owner:a,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=o}executeAbility(a){const o=this.owner,{tiger:r,pteranodon:d}=a,f=o.parent.getLastPet(void 0,o).pet;if(!f)return void this.triggerTigerExecution(a);const D=Math.min(3,Math.max(1,this.level)),k=10*D,L=1===D?0:2===D?2:5,N=A.I.getInjector().get(_.h),q=A.I.getInjector().get(v.T),ne=N.createPet(f,q,k,k,L);if(!ne)return void this.triggerTigerExecution(a);const Q=o.parent.summonPet(ne,o.savedPosition,!1,o);Q.success&&this.logService.createLog({message:`${o.name} summoned a ${k}/${k} copy of ${f.name}.`,type:"ability",player:o.parent,tiger:r,pteranodon:d,randomEvent:Q.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},38950(O,S,i){i.d(S,{w:()=>c});const P=[{name:"FairyAbility",label:"FairyBall",perLevel:2},{name:"NurikabeAbility",label:"Nurikabe",perLevel:4,incrementUses:!0},{name:"FanMusselAbility",label:"Fan Mussel",perLevel:1,incrementUses:!0},{name:"GhostKittenAbility",label:"Ghost Kitten",perLevel:3}];class c{static applyDamage(_){const{pet:v,baseDamage:e,perkName:t,manticoreMultipliers:n,logService:a,afterDamage:o}=_,r=v.equipment;if(!r)return;let d=r.multiplier;for(let L of n)d+=L;const f=this.applyAbilityReductions(v,e*d),D=f.damage,k=this.buildLogMessage({pet:v,finalDamage:D,equipment:r,perkName:t,reductions:f.reductions,manticoreMultipliers:n});a.createLog({message:k,type:"ability",player:v.parent}),v.dealDamage(v,D),o&&o(v)}static applyAbilityReductions(_,v){let e=v;const t=[];for(const n of P){if(e<=0)break;if(!_.hasTrigger(void 0,"Pet",n.name))continue;let a=0;for(const o of _.abilityList){if(o.name!==n.name)continue;const r=o.level*n.perLevel;0!==r&&(a+=r,e=Math.max(0,e-r),n.incrementUses&&o.currentUses++)}a>0&&t.push({label:n.label,amount:a})}return{damage:e,reductions:t}}static buildLogMessage(_){let v=`${_.pet.name} took ${_.finalDamage} damage`;if(_.manticoreMultipliers.length>0)for(const e of _.manticoreMultipliers)v+=` x${e+1} (Manticore)`;_.equipment.multiplier>1&&(v+=_.equipment.multiplierMessage);for(const e of _.reductions)v+=` -${e.amount} (${e.label})`;return v+=` (${_.perkName}).`,v}}},38992(O,S,i){i.d(S,{A:()=>c});const c=function P(A,_){return function(v){return A(_(v))}}},39112(O,S,i){i.d(S,{u:()=>_});var P=i(70762),c=i(40091),A=i(20178);function _(v,e,t){if(v){if(v instanceof P.v)return v;if(v[c.D])return v[c.D]()}return v||e||t?new P.v(v,e,t):new P.v(A.I)}},39156(O,S,i){i.d(S,{E:()=>A});var P=i(65419),c=i(12768);class A extends P.n{breakToy(v=!1){(0,c.Y)(this,v,this.logService,this.abilityService,this.gameService)}setToy(v){(0,c.P)(this,v)}}},39195(O,S,i){i.d(S,{v:()=>_});var P=i(46200),c=i(5615),A=i(607);class _ extends P.i{logService;abilityService;name="Boitata";tier=5;pack="Custom";attack=2;health=12;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;reset(){this.maxUses=2*this.level,super.reset()}initUses(){this.maxUses=2*this.level,super.initUses()}constructor(t,n,a){super({name:"BoitataAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2*t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithEquipmentWithSillyFallback("Crisp",d),f=d.parent.opponent.getFurthestUpPet(d,g),D=f.pet;null!=D&&(this.logService.createLog({message:`${d.name} gave ${D.name} Crisp.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.random}),D.givePetEquipment(new A.Y),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService,this.abilityService)}}},39371(O,S,i){i.d(S,{t:()=>c});var P=i(22097);class c extends P.${name="Grapes";equipmentClass="shop"}},39486(O,S,i){i.d(S,{i:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Blue Whale";tier=6;pack="Danger";health=12;attack=12;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BlueWhaleAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=2*this.level;this.logService.createLog({message:`${t.name} sold friends for +2 extra gold each and gave future shop pets +${n} attack and +${n} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},39748(O,S,i){i.d(S,{A:()=>A});const A=i(1860).A["__core-js_shared__"]},39830(O,S,i){i.d(S,{U:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Leopard";tier=6;pack="Turtle";attack=10;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LeopardAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=Math.floor(.5*r.attack),g=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,r);for(let f of g.pets)null!=f&&r.snipePet(f,d,g.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},40091(O,S,i){i.d(S,{D:()=>P});const P="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},40110(O,S,i){i.d(S,{o:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Squash";tier=3;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"SquashAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,condition:()=>{const a=this.owner.parent.opponent.pet0;return!!a&&a.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let a=t.parent.opponent.pet0;if(null==a||!a.alive)return;let o=6,r=Math.max(1,a.health-o);a.health=r,this.logService.createLog({message:`${this.equipment.name} reduced ${a.name} health by ${o} to ${r}${n>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}t.removePerk()}}},40212(O,S,i){i.d(S,{_:()=>_});var P=i(46200),c=i(5615),A=i(63683);class _ extends P.i{logService;abilityService;name="Hirola";tier=3;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"HirolaAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;for(let g=0;g<this.level;g++){let f=new A.A(this.logService,this.abilityService,d.parent,3,4,d.mana,d.exp),D=d.parent.summonPet(f,d.savedPosition,!1,d);D.success&&this.logService.createLog({message:`${d.name} summoned a 4/3 ${f.name}.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:D.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},40328(O,S,i){i.d(S,{r:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Silver Fox";tier=5;pack="Custom";attack=3;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Silver Fox Ability",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,n=this.level,a=t.parent;a.gold=(a.gold??0)+n,this.logService.createLog({message:`${t.name} gave ${n} gold to the owner.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},40358(O,S,i){i.d(S,{j:()=>_,z:()=>v});var P=i(57488),c=i(50873),A=i(5615);class _ extends c.L{name="Toy Gun";tier=3;startOfBattle(t,n){let a=(0,P.a)(t,this.parent);for(let o=0;o<this.level;o++){let r=a.getLastPet();if(null==r.pet)return;this.toyService.snipePet(r.pet,5,this.parent,this.name,!1,n)}}}class v extends A.T{logService;constructor(t,n){super({name:"ToyGunAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.opponent;for(let f=0;f<this.level;f++){let D=g.getLastPet();if(null==D.pet)return;d.snipePet(D.pet,5,D.random,o)}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},40468(O,S,i){i.d(S,{F:()=>_});var P=i(46200),c=i(5615),A=i(56692);class _ extends P.i{logService;abilityService;name="Aye-aye";tier=5;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"AyeAyeAbility",owner:t,triggers:["EnemyAttacked7"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;for(let D=0;D<2;D++){let k=3,L=3,N=new A.S(this.logService,this.abilityService,d.parent,L,k,0,0),q=d.parent.summonPet(N,d.savedPosition,!1,d);q.success&&this.logService.createLog({message:`${d.name} summoned a ${k}/${L} ${N.name}.`,type:"ability",player:d.parent,tiger:o,randomEvent:q.randomEvent})}let g=3*this.level,f=d.parent.getAll(!1,d,!0);for(let D of f.pets)D.increaseAttack(g),D.increaseHealth(g),this.logService.createLog({message:`${d.name} gave ${D.name} +${g} attack and +${g} health.`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},40482(O,S,i){i.d(S,{m:()=>e});var P=i(22097),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.${logService;petService;gameService;name="Popcorn";equipmentClass="afterFaint";callback=a=>{const o=a.getEquippedEquipmentInstance(this);a.addAbility(new t(a,o,this.logService,this.petService))};constructor(a,o,r){super(),this.logService=a,this.petService=o,this.gameService=r}}class t extends c.T{equipment;logService;petService;constructor(a,o,r,d){super({name:"PopcornAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:g=>{this.executeAbility(g)}}),this.equipment=o,this.logService=r,this.petService=d}executeAbility(a){const{gameApi:o}=a,r=this.owner;for(let d=0;d<this.equipment.multiplier;d++){let f=[...(r.parent==o.player?o.playerPetPool:o.opponentPetPool)?.get(r.tier)??[]];if(f.length||(f=[...this.petService.allPets.get(r.tier)??[]]),!f.length)return;const D=(0,A.k6)({key:"equipment.popcorn-summon",label:(0,v.R)(r,"Popcorn","summon",d+1),options:f.map(q=>({id:q,label:q}))},()=>(0,_.hw)(0,f.length-1));if(D.index<0||D.index>=f.length)return;let L=this.petService.createPet({attack:null,equipment:null,exp:0,health:null,name:f[D.index],mana:0},r.parent);r.parent.summonPet(L,r.savedPosition).success&&this.logService.createLog({message:`${r.name} Spawned ${L.name} (Popcorn)${d>0?this.equipment.multiplierMessage:""}`,type:"ability",player:r.parent,randomEvent:D.randomEvent})}}}},40532(O,S,i){i.d(S,{$:()=>c});var P=i(45312);class c{logService;gameService;abilityService;toyService;player;opponent;constructor(_,v,e,t,n,a){this.logService=_,this.gameService=v,this.abilityService=e,this.toyService=t,this.player=n,this.opponent=a}applyPreBattleFriendDeathCounts(){const _=[this.player,this.opponent];for(const v of _)for(const e of v.petArray)e?.friendsDiedBeforeBattle&&this.abilityService.simulatePostRemovalFriendFaintsCounters(e,e.friendsDiedBeforeBattle)}abilityCycle(){this.emptyFrontSpaceCheck();let _=0;const v=1e5;for(;;){for(;this.abilityService.hasGlobalEvents;){const t=this.abilityService.peekNextHighestPriorityEvent();if(t&&this.abilityService.getPriorityNumber(t.abilityType)>=27&&(this.checkPetsAlive(),this.removeDeadPets())){this.resetClearFrontFlags(),this.emptyFrontSpaceCheck();continue}const n=this.abilityService.getNextHighestPriorityEvent();if(!n){console.error("AbilityCycle: Expected event from queue but got null. Queue state inconsistent.");break}if(_++,_>v){const a=this.abilityService.getQueueSnapshot().map(d=>d.abilityType??"unknown"),o=new Map;for(const d of a)o.set(d,(o.get(d)??0)+1);const r=Array.from(o.entries()).sort((d,g)=>g[1]-d[1]).slice(0,10).map(([d,g])=>`${d}:${g}`).join(", ");throw new Error(`Ability cycle overflow: processed>${v}. Last=${n.abilityType??"unknown"}. QueueLen=${a.length}. Top=[${r}]`)}this.abilityService.executeEventCallback(n),this.checkPetsAlive()}if(this.removeDeadPets()&&(this.resetClearFrontFlags(),this.emptyFrontSpaceCheck()),!this.abilityService.hasGlobalEvents){this.player.checkGoldenSpawn(),this.opponent.checkGoldenSpawn();break}}}checkPetsAlive(){this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}removeDeadPets(){let _=!1;return _=this.player.removeDeadPets(),_=this.opponent.removeDeadPets()||_,_}emptyFrontSpaceCheck(){if(null==this.player.pet0)this.abilityService.triggerEmptyFrontSpaceEvents(this.player);else for(const _ of this.player.petArray)_.clearFrontTriggered=!1;if(null==this.opponent.pet0)this.abilityService.triggerEmptyFrontSpaceEvents(this.opponent);else for(const _ of this.opponent.petArray)_.clearFrontTriggered=!1;null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceToyEvents()}initToys(){this.registerStartOfBattleToyEvents(this.player),this.registerStartOfBattleToyEvents(this.opponent)}getActiveToys(_){const v=[];return _.toy&&v.push(_.toy),_.hardToy&&v.push(_.hardToy),v}registerStartOfBattleToyEvents(_){const v=this.getActiveToys(_);for(const e of v){const t=e.startOfBattle;t&&this.toyService.setStartOfBattleEvent({callback:()=>{if(_.toy!==e&&_.hardToy!==e)return;t.call(e,this.gameService.gameApi);const n=e.level;for(const a of _.petArray)a instanceof P.E&&(e.level=a.level,t.call(e,this.gameService.gameApi,!0),e.level=n)},priority:e.tier,player:_,customParams:{toyName:e.name,suppressFriendFaintLog:e.suppressFriendFaintLog}})}}initializeEquipmentMultipliers(){for(let _ of this.player.petArray)_.equipment&&_.setEquipmentMultiplier();for(let _ of this.opponent.petArray)_.equipment&&_.setEquipmentMultiplier()}resetClearFrontFlags(){for(const _ of this.player.petArray)_.clearFrontTriggered=!1;for(const _ of this.opponent.petArray)_.clearFrontTriggered=!1}}},40555(O,S,i){i.d(S,{A:()=>_});var P=i(3043),c=i(14429);const _=function A(v){return null==v?[]:(0,P.A)(v,(0,c.A)(v))}},40622(O){O.exports=JSON.parse('{"byNameId":{"Leafling":"Leafling-sharedassets1.assets-3345.ogg","AfricanWildDog":"AfricanWildDog-sharedassets1.assets-3650.ogg","AlchemistBug":"AlchemistBug-sharedassets1.assets-3321.ogg","Ant":"Ant-sharedassets1.assets-3379.ogg","Baku":"Baku-sharedassets1.assets-3837.ogg","Barghest":"Barghest-sharedassets1.assets-3885.ogg","Beaver":"Beaver-sharedassets1.assets-3576.ogg","Bee":"Bee-sharedassets1.assets-3578.ogg","Beetle":"Beetle-sharedassets1.assets-3273.ogg","Bluebird":"Bluebird-sharedassets1.assets-3335.ogg","BombusDahlbomii":"BombusDahlbomii-sharedassets1.assets-3473.ogg","Budgie":"Budgie-sharedassets1.assets-3277.ogg","Bulldog":"Bulldog-sharedassets1.assets-3614.ogg","Bunyip":"Bunyip-sharedassets1.assets-3743.ogg","Bus":"Bus-sharedassets1.assets-3459.ogg","Chick":"Chick-sharedassets1.assets-3748.ogg","Chihuahua":"Chihuahua-sharedassets1.assets-3570.ogg","Chinchilla":"Chinchilla-sharedassets1.assets-3853.ogg","Chipmunk":"Chipmunk-sharedassets1.assets-3830.ogg","Cockroach":"Cockroach-sharedassets1.assets-3408.ogg","ConeSnail":"ConeSnail-sharedassets1.assets-3754.ogg","Cricket":"Cricket-sharedassets1.assets-3397.ogg","CuckooBaby":"CuckooBaby-sharedassets1.assets-3551.ogg","CuddleToad":"CuddleToad-sharedassets1.assets-3472.ogg","Duck":"Duck-sharedassets1.assets-3290.ogg","BabyDuck":"BabyDuck-sharedassets1.assets-3545.ogg","EthiopianWolf":"EthiopianWolf-sharedassets1.assets-3822.ogg","FanMussel":"FanMussel-sharedassets1.assets-3497.ogg","FarmerMouse":"FarmerMouse-sharedassets1.assets-3295.ogg","Ferret":"Ferret-sharedassets1.assets-3597.ogg","FirePup":"FirePup-sharedassets1.assets-3341.ogg","Firefly":"Firefly-sharedassets1.assets-3840.ogg","Fish":"Fish-sharedassets1.assets-3403.ogg","FrilledDragon":"FrilledDragon-sharedassets1.assets-3617.ogg","Frog":"Frog-sharedassets1.assets-3873.ogg","Gecko":"Gecko-sharedassets1.assets-3289.ogg","Gibbon":"Gibbon-sharedassets1.assets-3770.ogg","GoldenRetriever":"GoldenRetriever-sharedassets1.assets-3671.ogg","Goose":"Goose-sharedassets1.assets-3546.ogg","Groundhog":"Groundhog-sharedassets1.assets-3574.ogg","Horse":"Horse-sharedassets1.assets-3718.ogg","Hummingbird":"Hummingbird-sharedassets1.assets-3352.ogg","IliPika":"IliPika-sharedassets1.assets-3535.ogg","IriomoteCat":"IriomoteCat-sharedassets1.assets-3298.ogg","Kiwi":"Kiwi-sharedassets1.assets-3815.ogg","Lemming":"Lemming-sharedassets1.assets-3383.ogg","Magpie":"Magpie-sharedassets1.assets-3716.ogg","MalayTapir":"MalayTapir-sharedassets1.assets-3311.ogg","Marmoset":"Marmoset-sharedassets1.assets-3351.ogg","WhiteKillerRabbit":"WhiteKillerRabbit-sharedassets1.assets-3691.ogg","Mosquito":"Mosquito-sharedassets1.assets-3860.ogg","Moth":"Moth-sharedassets1.assets-3406.ogg","Mouse":"Mouse-sharedassets1.assets-3506.ogg","Murloc":"Murloc-sharedassets1.assets-3773.ogg","Nudibranchs":"Nudibranchs-sharedassets1.assets-3400.ogg","Opossum":"Opossum-sharedassets1.assets-3681.ogg","Otter":"Otter-sharedassets1.assets-3727.ogg","PeacockSpider":"PeacockSpider-sharedassets1.assets-3677.ogg","Pengobble":"Pengobble-sharedassets1.assets-3776.ogg","Pheasant":"Pheasant-sharedassets1.assets-3675.ogg","PiedTamarin":"PiedTamarin-sharedassets1.assets-3310.ogg","Pig":"Pig-sharedassets1.assets-3527.ogg","Pigeon":"Pigeon-sharedassets1.assets-3529.ogg","Pillbug":"Pillbug-sharedassets1.assets-3642.ogg","PygmySeahorse":"PygmySeahorse-sharedassets1.assets-3673.ogg","Quoll":"Quoll-sharedassets1.assets-3724.ogg","Silkmoth":"Silkmoth-sharedassets1.assets-3465.ogg","Silverfish":"Silverfish-sharedassets1.assets-3849.ogg","Sloth":"Sloth-sharedassets1.assets-3366.ogg","EggLadCovered":"EggLadCovered-sharedassets1.assets-3845.ogg","Termite":"Termite-sharedassets1.assets-3613.ogg","TogianBabirusa":"TogianBabirusa-sharedassets1.assets-3805.ogg","ToothBilledPigeon":"ToothBilledPigeon-sharedassets1.assets-3323.ogg","Tsuchinoko":"Tsuchinoko-sharedassets1.assets-3317.ogg","LongWattledUmbrellabird":"LongWattledUmbrellabird-sharedassets1.assets-3342.ogg","VolcanoSnail":"VolcanoSnail-sharedassets1.assets-3306.ogg","Weevil":"Weevil-sharedassets1.assets-3728.ogg","AfricanPenguin":"AfricanPenguin-sharedassets1.assets-3772.ogg","AlbinoSquirrel":"AlbinoSquirrel-sharedassets1.assets-3531.ogg","Amphisbaena":"Amphisbaena-sharedassets1.assets-3470.ogg","AraripeManakin":"AraripeManakin-sharedassets1.assets-3336.ogg","AtlanticPuffin":"AtlanticPuffin-sharedassets1.assets-3312.ogg","Bass":"Bass-sharedassets1.assets-3325.ogg","Bat":"Bat-sharedassets1.assets-3523.ogg","BelugaSturgeon":"BelugaSturgeon-sharedassets1.assets-3674.ogg","Bigfoot":"Bigfoot-sharedassets1.assets-3880.ogg","Bilby":"Bilby-sharedassets1.assets-3619.ogg","BlackNeckedStilt":"BlackNeckedStilt-sharedassets1.assets-3388.ogg","Chupacabra":"Chupacabra-sharedassets1.assets-3409.ogg","Crab":"Crab-sharedassets1.assets-3555.ogg","DarwinsFox":"DarwinsFox-sharedassets1.assets-3640.ogg","DesertRainFrog":"DesertRainFrog-sharedassets1.assets-3821.ogg","DoorHeadAnt":"DoorHeadAnt-sharedassets1.assets-3755.ogg","Dove":"Dove-sharedassets1.assets-3624.ogg","Dromedary":"Dromedary-sharedassets1.assets-3643.ogg","DropBear":"DropBear-sharedassets1.assets-3783.ogg","DumboOctopus":"DumboOctopus-sharedassets1.assets-3349.ogg","DungBeetle":"DungBeetle-sharedassets1.assets-3496.ogg","EuropeanMink":"EuropeanMink-sharedassets1.assets-3422.ogg","FarmerChicken":"FarmerChicken-sharedassets1.assets-3832.ogg","Flamingo":"Flamingo-sharedassets1.assets-3689.ogg","Frigatebird":"Frigatebird-sharedassets1.assets-3567.ogg","FrostWolf":"FrostWolf-sharedassets1.assets-3279.ogg","FruitFly":"FruitFly-sharedassets1.assets-3870.ogg","Gargoyle":"Gargoyle-sharedassets1.assets-3874.ogg","GhostKitten":"GhostKitten-sharedassets1.assets-3620.ogg","GiantSquirrel":"GiantSquirrel-sharedassets1.assets-3713.ogg","DwarvenBeetle":"DwarvenBeetle-sharedassets1.assets-3583.ogg","GuineaPig":"GuineaPig-sharedassets1.assets-3635.ogg","Hedgehog":"Hedgehog-sharedassets1.assets-3466.ogg","HerculesBeetle":"HerculesBeetle-sharedassets1.assets-3634.ogg","HermitCrab":"HermitCrab-sharedassets1.assets-3444.ogg","HonduranWhiteBat":"HonduranWhiteBat-sharedassets1.assets-3427.ogg","Iguana":"Iguana-sharedassets1.assets-3512.ogg","Jackalope":"Jackalope-sharedassets1.assets-3340.ogg","Kangaroo":"Kangaroo-sharedassets1.assets-3720.ogg","Koala":"Koala-sharedassets1.assets-3445.ogg","Lemur":"Lemur-sharedassets1.assets-3666.ogg","Lizard":"Lizard-sharedassets1.assets-3670.ogg","Mandarinfish":"Mandarinfish-sharedassets1.assets-3678.ogg","Drill":"Drill-sharedassets1.assets-3443.ogg","Meerkat":"Meerkat-sharedassets1.assets-3797.ogg","Mink":"Mink-sharedassets1.assets-3495.ogg","Mothman":"Mothman-sharedassets1.assets-3426.ogg","NightCrawler":"NightCrawler-sharedassets1.assets-3274.ogg","Ogopogo":"Ogopogo-sharedassets1.assets-3411.ogg","Olm":"Olm-sharedassets1.assets-3563.ogg","Panda":"Panda-sharedassets1.assets-3272.ogg","Peacock":"Peacock-sharedassets1.assets-3800.ogg","PinkRobin":"PinkRobin-sharedassets1.assets-3552.ogg","ProboscisMonkey":"ProboscisMonkey-sharedassets1.assets-3318.ogg","PygmyHog":"PygmyHog-sharedassets1.assets-3362.ogg","Rat":"Rat-sharedassets1.assets-3621.ogg","Roadrunner":"Roadrunner-sharedassets1.assets-3744.ogg","Robin":"Robin-sharedassets1.assets-3646.ogg","SakerFalcon":"SakerFalcon-sharedassets1.assets-3420.ogg","Salamander":"Salamander-sharedassets1.assets-3710.ogg","Saola":"Saola-sharedassets1.assets-3695.ogg","SeaTurtle":"SeaTurtle-sharedassets1.assets-3684.ogg","SeaUrchin":"SeaUrchin-sharedassets1.assets-3846.ogg","Seahorse":"Seahorse-sharedassets1.assets-3368.ogg","ShimaEnaga":"ShimaEnaga-sharedassets1.assets-3862.ogg","Shrimp":"Shrimp-sharedassets1.assets-3350.ogg","Snail":"Snail-sharedassets1.assets-3810.ogg","Sphinx":"Sphinx-sharedassets1.assets-3554.ogg","Spider":"Spider-sharedassets1.assets-3270.ogg","SpottedHandfish":"SpottedHandfish-sharedassets1.assets-3664.ogg","Squid":"Squid-sharedassets1.assets-3708.ogg","Stoat":"Stoat-sharedassets1.assets-3498.ogg","Stork":"Stork-sharedassets1.assets-3477.ogg","Swan":"Swan-sharedassets1.assets-3307.ogg","TabbyCat":"TabbyCat-sharedassets1.assets-3360.ogg","Tadpole":"Tadpole-sharedassets1.assets-3462.ogg","TaitaShrew":"TaitaShrew-sharedassets1.assets-3392.ogg","Takhi":"Takhi-sharedassets1.assets-3799.ogg","ThornyDragon":"ThornyDragon-sharedassets1.assets-3572.ogg","Thunderbird":"Thunderbird-sharedassets1.assets-3421.ogg","Vervet":"Vervet-sharedassets1.assets-3326.ogg","Warg":"Warg-sharedassets1.assets-3398.ogg","WhiteBelliedHeron":"WhiteBelliedHeron-sharedassets1.assets-3540.ogg","Wombat":"Wombat-sharedassets1.assets-3302.ogg","Worm":"Worm-sharedassets1.assets-3533.ogg","Wyvern":"Wyvern-sharedassets1.assets-3692.ogg","Yak":"Yak-sharedassets1.assets-3483.ogg","Aardvark":"Aardvark-sharedassets1.assets-3659.ogg","AmamiRabbit":"AmamiRabbit-sharedassets1.assets-3847.ogg","AxehandleHound":"AxehandleHound-sharedassets1.assets-3715.ogg","Baboon":"Baboon-sharedassets1.assets-3723.ogg","Badger":"Badger-sharedassets1.assets-3730.ogg","Barnacle":"Barnacle-sharedassets1.assets-3645.ogg","Basilisk":"Basilisk-sharedassets1.assets-3553.ogg","Bear":"Bear-sharedassets1.assets-3304.ogg","BettaFish":"BettaFish-sharedassets1.assets-3610.ogg","GlaucusAtlanticus":"GlaucusAtlanticus-sharedassets1.assets-3628.ogg","BlueThroatedMacaw":"BlueThroatedMacaw-sharedassets1.assets-3347.ogg","Headcrab":"Headcrab-sharedassets1.assets-3468.ogg","BrazillianTreehopper":"BrazillianTreehopper-sharedassets1.assets-3864.ogg","Caladrius":"Caladrius-sharedassets1.assets-3741.ogg","Calygreyhound":"Calygreyhound-sharedassets1.assets-3455.ogg","Camel":"Camel-sharedassets1.assets-3363.ogg","Capybara":"Capybara-sharedassets1.assets-3700.ogg","Cardinal":"Cardinal-sharedassets1.assets-3359.ogg","Cassowary":"Cassowary-sharedassets1.assets-3868.ogg","Centipede":"Centipede-sharedassets1.assets-3353.ogg","Wendigo":"Wendigo-sharedassets1.assets-3549.ogg","Dimetrodon":"Dimetrodon-sharedassets1.assets-3448.ogg","Dodo":"Dodo-sharedassets1.assets-3726.ogg","Dog":"Dog-sharedassets1.assets-3474.ogg","Dolphin":"Dolphin-sharedassets1.assets-3871.ogg","Dugong":"Dugong-sharedassets1.assets-3834.ogg","Eel":"Eel-sharedassets1.assets-3502.ogg","Elephant":"Elephant-sharedassets1.assets-3686.ogg","EmperorTamarin":"EmperorTamarin-sharedassets1.assets-3761.ogg","FarmerPig":"FarmerPig-sharedassets1.assets-3365.ogg","Flea":"Flea-sharedassets1.assets-3835.ogg","FlyingFish":"FlyingFish-sharedassets1.assets-3284.ogg","FlyingSquirrel":"FlyingSquirrel-sharedassets1.assets-3794.ogg","FuLion":"FuLion-sharedassets1.assets-3401.ogg","FurBearingTrout":"FurBearingTrout-sharedassets1.assets-3729.ogg","Gerenuk":"Gerenuk-sharedassets1.assets-3756.ogg","Gharial":"Gharial-sharedassets1.assets-3334.ogg","Giraffe":"Giraffe-sharedassets1.assets-3548.ogg","GreatPotoo":"GreatPotoo-sharedassets1.assets-3491.ogg","Griffin":"Griffin-sharedassets1.assets-3798.ogg","FowlBird":"FowlBird-sharedassets1.assets-3652.ogg","Hare":"Hare-sharedassets1.assets-3370.ogg","HatchingChick":"HatchingChick-sharedassets1.assets-3740.ogg","Hirola":"Hirola-sharedassets1.assets-3774.ogg","HoopoeBird":"HoopoeBird-sharedassets1.assets-3283.ogg","JewelCaterpillar":"JewelCaterpillar-sharedassets1.assets-3522.ogg","Leech":"Leech-sharedassets1.assets-3293.ogg","LuckyCat":"LuckyCat-sharedassets1.assets-3291.ogg","ManaHound":"ManaHound-sharedassets1.assets-3434.ogg","Mandrake":"Mandrake-sharedassets1.assets-3668.ogg","Mole":"Mole-sharedassets1.assets-3478.ogg","MonkeyFacedBat":"MonkeyFacedBat-sharedassets1.assets-3878.ogg","MuskOx":"MuskOx-sharedassets1.assets-3641.ogg","Okapi":"Okapi-sharedassets1.assets-3486.ogg","Orangutan":"Orangutan-sharedassets1.assets-3813.ogg","Osprey":"Osprey-sharedassets1.assets-3575.ogg","Ouroboros":"Ouroboros-sharedassets1.assets-3876.ogg","Owl":"Owl-sharedassets1.assets-3669.ogg","Ox":"Ox-sharedassets1.assets-3265.ogg","Pangasius":"Pangasius-sharedassets1.assets-3492.ogg","Pangolin":"Pangolin-sharedassets1.assets-3883.ogg","PatagonianMara":"PatagonianMara-sharedassets1.assets-3760.ogg","Pony":"Pony-sharedassets1.assets-3507.ogg","Porcupine":"Porcupine-sharedassets1.assets-3587.ogg","Pug":"Pug-sharedassets1.assets-3482.ogg","PurpleFrog":"PurpleFrog-sharedassets1.assets-3661.ogg","PygmyHippo":"PygmyHippo-sharedassets1.assets-3764.ogg","Quail":"Quail-sharedassets1.assets-3297.ogg","QueenBee":"QueenBee-sharedassets1.assets-3667.ogg","Quetzalcoatlus":"Quetzalcoatlus-sharedassets1.assets-3565.ogg","Rabbit":"Rabbit-sharedassets1.assets-3452.ogg","RolowayMonkey":"RolowayMonkey-sharedassets1.assets-3399.ogg","RoyalFlycatcher":"RoyalFlycatcher-sharedassets1.assets-3625.ogg","GreaterSageGrouse":"GreaterSageGrouse-sharedassets1.assets-3423.ogg","SarcasticFringehead":"SarcasticFringehead-sharedassets1.assets-3833.ogg","Sheep":"Sheep-sharedassets1.assets-3524.ogg","SilkieChicken":"SilkieChicken-sharedassets1.assets-3532.ogg","SkeletonDog":"SkeletonDog-sharedassets1.assets-3539.ogg","Slime":"Slime-sharedassets1.assets-3446.ogg","SpoonBilledSandpiper":"SpoonBilledSandpiper-sharedassets1.assets-3415.ogg","SugarGlider":"SugarGlider-sharedassets1.assets-3665.ogg","SurgeonFish":"SurgeonFish-sharedassets1.assets-3763.ogg","Takin":"Takin-sharedassets1.assets-3490.ogg","Tatzelwurm":"Tatzelwurm-sharedassets1.assets-3865.ogg","Toad":"Toad-sharedassets1.assets-3704.ogg","Toucan":"Toucan-sharedassets1.assets-3717.ogg","TreeEnt":"TreeEnt-sharedassets1.assets-3395.ogg","TreeKangaroo":"TreeKangaroo-sharedassets1.assets-3500.ogg","TropicalFish":"TropicalFish-sharedassets1.assets-3441.ogg","Tucuxi":"Tucuxi-sharedassets1.assets-3413.ogg","Tuna":"Tuna-sharedassets1.assets-3637.ogg","VampireParrot":"VampireParrot-sharedassets1.assets-3348.ogg","Wasp":"Wasp-sharedassets1.assets-3380.ogg","Weasel":"Weasel-sharedassets1.assets-3795.ogg","Shoggoth":"Shoggoth-sharedassets1.assets-3556.ogg","Ahuizotl":"Ahuizotl-sharedassets1.assets-3428.ogg","AmazonRiverDolphin":"AmazonRiverDolphin-sharedassets1.assets-3603.ogg","Andrewsarchus":"Andrewsarchus-sharedassets1.assets-3479.ogg","Angelshark":"Angelshark-sharedassets1.assets-3787.ogg","Anubis":"Anubis-sharedassets1.assets-3606.ogg","Bison":"Bison-sharedassets1.assets-3651.ogg","Bloodhound":"Bloodhound-sharedassets1.assets-3439.ogg","Blowfish":"Blowfish-sharedassets1.assets-3544.ogg","BlueFootedBooby":"BlueFootedBooby-sharedassets1.assets-3682.ogg","Bonobo":"Bonobo-sharedassets1.assets-3432.ogg","Buffalo":"Buffalo-sharedassets1.assets-3839.ogg","Butterfly":"Butterfly-sharedassets1.assets-3792.ogg","Caterpillar":"Caterpillar-sharedassets1.assets-3451.ogg","Chameleon":"Chameleon-sharedassets1.assets-3841.ogg","Chimera":"Chimera-sharedassets1.assets-3547.ogg","ClownFish":"ClownFish-sharedassets1.assets-3433.ogg","Cockatoo":"Cockatoo-sharedassets1.assets-3286.ogg","Crow":"Crow-sharedassets1.assets-3750.ogg","Cuckoo":"Cuckoo-sharedassets1.assets-3633.ogg","Cuddlefish":"Cuddlefish-sharedassets1.assets-3557.ogg","Cyclops":"Cyclops-sharedassets1.assets-3521.ogg","Deer":"Deer-sharedassets1.assets-3698.ogg","Deinocheirus":"Deinocheirus-sharedassets1.assets-3264.ogg","Doberman":"Doberman-sharedassets1.assets-3746.ogg","Donkey":"Donkey-sharedassets1.assets-3843.ogg","Elk":"Elk-sharedassets1.assets-3859.ogg","Fairy":"Fairy-sharedassets1.assets-3779.ogg","FairyArmadillo":"FairyArmadillo-sharedassets1.assets-3263.ogg","Falcon":"Falcon-sharedassets1.assets-3657.ogg","FarmerCat":"FarmerCat-sharedassets1.assets-3375.ogg","Fossa":"Fossa-sharedassets1.assets-3566.ogg","Gazelle":"Gazelle-sharedassets1.assets-3725.ogg","Gelada":"Gelada-sharedassets1.assets-3806.ogg","GiantOtter":"GiantOtter-sharedassets1.assets-3801.ogg","GiantTortoise":"GiantTortoise-sharedassets1.assets-3742.ogg","GoblinShark":"GoblinShark-sharedassets1.assets-3696.ogg","GoldenTamarin":"GoldenTamarin-sharedassets1.assets-3396.ogg","Hawk":"Hawk-sharedassets1.assets-3369.ogg","Hippo":"Hippo-sharedassets1.assets-3464.ogg","Hoatzin":"Hoatzin-sharedassets1.assets-3586.ogg","HumpheadWrasse":"HumpheadWrasse-sharedassets1.assets-3528.ogg","Jerboa":"Jerboa-sharedassets1.assets-3367.ogg","Kakapo":"Kakapo-sharedassets1.assets-3631.ogg","Kraken":"Kraken-sharedassets1.assets-3536.ogg","SatanicLeafTailedGecko":"SatanicLeafTailedGecko-sharedassets1.assets-3301.ogg","LeafySeaDragon":"LeafySeaDragon-sharedassets1.assets-3731.ogg","Llama":"Llama-sharedassets1.assets-3314.ogg","Lobster":"Lobster-sharedassets1.assets-3816.ogg","Locust":"Locust-sharedassets1.assets-3752.ogg","LongcombSawfish":"LongcombSawfish-sharedassets1.assets-3622.ogg","Lynx":"Lynx-sharedassets1.assets-3749.ogg","Manatee":"Manatee-sharedassets1.assets-3561.ogg","MantaRay":"MantaRay-sharedassets1.assets-3818.ogg","Microbe":"Microbe-sharedassets1.assets-3638.ogg","Mimic":"Mimic-sharedassets1.assets-3735.ogg","Minotaur":"Minotaur-sharedassets1.assets-3812.ogg","OldMouse":"OldMouse-sharedassets1.assets-3579.ogg","Parrot":"Parrot-sharedassets1.assets-3511.ogg","Pegasus":"Pegasus-sharedassets1.assets-3442.ogg","Penguin":"Penguin-sharedassets1.assets-3775.ogg","Platybelodon":"Platybelodon-sharedassets1.assets-3609.ogg","Platypus":"Platypus-sharedassets1.assets-3287.ogg","PoisonDartFrog":"PoisonDartFrog-sharedassets1.assets-3660.ogg","PoodleMoth":"PoodleMoth-sharedassets1.assets-3294.ogg","PrayingMantis":"PrayingMantis-sharedassets1.assets-3316.ogg","Puppy":"Puppy-sharedassets1.assets-3588.ogg","WhiteBootedRacketTail":"WhiteBootedRacketTail-sharedassets1.assets-3623.ogg","RedLippedBatfish":"RedLippedBatfish-sharedassets1.assets-3796.ogg","Roc":"Roc-sharedassets1.assets-3308.ogg","Rootler":"Rootler-sharedassets1.assets-3767.ogg","RuspolisTuraco":"RuspolisTuraco-sharedassets1.assets-3313.ogg","SaigaAntelope":"SaigaAntelope-sharedassets1.assets-3453.ogg","SeaAnemone":"SeaAnemone-sharedassets1.assets-3393.ogg","Seagull":"Seagull-sharedassets1.assets-3737.ogg","Sealion":"Sealion-sharedassets1.assets-3361.ogg","Siamese":"Siamese-sharedassets1.assets-3707.ogg","Skunk":"Skunk-sharedassets1.assets-3454.ogg","Slug":"Slug-sharedassets1.assets-3537.ogg","Sparrow":"Sparrow-sharedassets1.assets-3732.ogg","SpiderCrab":"SpiderCrab-sharedassets1.assets-3809.ogg","SpinyBushViper":"SpinyBushViper-sharedassets1.assets-3639.ogg","Squirrel":"Squirrel-sharedassets1.assets-3867.ogg","ArabianTahr":"ArabianTahr-sharedassets1.assets-3331.ogg","ThorGoat1":"ThorGoat1-sharedassets1.assets-3857.ogg","Tardigrade":"Tardigrade-sharedassets1.assets-3385.ogg","TasmanianDevil":"TasmanianDevil-sharedassets1.assets-3758.ogg","AntLion":"AntLion-sharedassets1.assets-3390.ogg","Trout":"Trout-sharedassets1.assets-3607.ogg","Turtle":"Turtle-sharedassets1.assets-3879.ogg","Unicorn":"Unicorn-sharedassets1.assets-3460.ogg","Vaquita":"Vaquita-sharedassets1.assets-3819.ogg","Xenomorph":"Xenomorph-sharedassets1.assets-3680.ogg","Whale":"Whale-sharedassets1.assets-3430.ogg","WhaleShark":"WhaleShark-sharedassets1.assets-3672.ogg","Sandworm":"Sandworm-sharedassets1.assets-3778.ogg","YetiCrab":"YetiCrab-sharedassets1.assets-3863.ogg","Amalgam":"Amalgam-sharedassets1.assets-3269.ogg","Armadillo":"Armadillo-sharedassets1.assets-3499.ogg","Axolotl":"Axolotl-sharedassets1.assets-3447.ogg","AyeAye":"AyeAye-sharedassets1.assets-3785.ogg","BadDog":"BadDog-sharedassets1.assets-3856.ogg","BanggaiCardinalfish":"BanggaiCardinalfish-sharedassets1.assets-3266.ogg","WhiteWhale":"WhiteWhale-sharedassets1.assets-3471.ogg","BlueJay":"BlueJay-sharedassets1.assets-3333.ogg","BlueRingedOctopus":"BlueRingedOctopus-sharedassets1.assets-3850.ogg","Boitata":"Boitata-sharedassets1.assets-3412.ogg","BrahmaChicken":"BrahmaChicken-sharedassets1.assets-3757.ogg","Chicken":"Chicken-sharedassets1.assets-3869.ogg","Cow":"Cow-sharedassets1.assets-3407.ogg","Crane":"Crane-sharedassets1.assets-3458.ogg","Crocodile":"Crocodile-sharedassets1.assets-3534.ogg","Dragonfly":"Dragonfly-sharedassets1.assets-3745.ogg","Eagle":"Eagle-sharedassets1.assets-3807.ogg","EgyptianVulture":"EgyptianVulture-sharedassets1.assets-3419.ogg","Emu":"Emu-sharedassets1.assets-3571.ogg","Estemmenosuchus":"Estemmenosuchus-sharedassets1.assets-3685.ogg","FarmerCrow":"FarmerCrow-sharedassets1.assets-3324.ogg","FireAnt":"FireAnt-sharedassets1.assets-3504.ogg","FlounderYoung":"FlounderYoung-sharedassets1.assets-3777.ogg","GeometricTortoise":"GeometricTortoise-sharedassets1.assets-3594.ogg","GiantIsopod":"GiantIsopod-sharedassets1.assets-3404.ogg","GiantPangasius":"GiantPangasius-sharedassets1.assets-3387.ogg","Goat":"Goat-sharedassets1.assets-3296.ogg","Hamster":"Hamster-sharedassets1.assets-3844.ogg","HawaiianMonkSeal":"HawaiianMonkSeal-sharedassets1.assets-3630.ogg","Hippocampus":"Hippocampus-sharedassets1.assets-3480.ogg","Hyena":"Hyena-sharedassets1.assets-3683.ogg","Ibex":"Ibex-sharedassets1.assets-3378.ogg","Jackal":"Jackal-sharedassets1.assets-3328.ogg","Kappa":"Kappa-sharedassets1.assets-3329.ogg","Kitsune":"Kitsune-sharedassets1.assets-3487.ogg","LovelandFrogman":"LovelandFrogman-sharedassets1.assets-3391.ogg","Lusca":"Lusca-sharedassets1.assets-3281.ogg","Macaque":"Macaque-sharedassets1.assets-3861.ogg","Maltese":"Maltese-sharedassets1.assets-3416.ogg","MarineIguana":"MarineIguana-sharedassets1.assets-3626.ogg","Monkey":"Monkey-sharedassets1.assets-3437.ogg","Moose":"Moose-sharedassets1.assets-3436.ogg","Mosasaurus":"Mosasaurus-sharedassets1.assets-3550.ogg","Namazu":"Namazu-sharedassets1.assets-3319.ogg","Nessie":"Nessie-sharedassets1.assets-3384.ogg","Nurikabe":"Nurikabe-sharedassets1.assets-3519.ogg","NurseShark":"NurseShark-sharedassets1.assets-3877.ogg","Nyala":"Nyala-sharedassets1.assets-3690.ogg","OrchidMantis":"OrchidMantis-sharedassets1.assets-3852.ogg","PacificFanfish":"PacificFanfish-sharedassets1.assets-3354.ogg","PaintedTerrapin":"PaintedTerrapin-sharedassets1.assets-3802.ogg","Panther":"Panther-sharedassets1.assets-3602.ogg","Pelican":"Pelican-sharedassets1.assets-3558.ogg","Pixiu":"Pixiu-sharedassets1.assets-3485.ogg","PolarBear":"PolarBear-sharedassets1.assets-3389.ogg","Racoon":"Racoon-sharedassets1.assets-3784.ogg","RedDragon":"RedDragon-sharedassets1.assets-3786.ogg","RedPanda":"RedPanda-sharedassets1.assets-3562.ogg","Rhino":"Rhino-sharedassets1.assets-3332.ogg","Rooster":"Rooster-sharedassets1.assets-3611.ogg","Salmon":"Salmon-sharedassets1.assets-3526.ogg","Scorpion":"Scorpion-sharedassets1.assets-3618.ogg","SeaCucumber":"SeaCucumber-sharedassets1.assets-3702.ogg","Seal":"Seal-sharedassets1.assets-3481.ogg","SecretaryBird":"SecretaryBird-sharedassets1.assets-3848.ogg","Shark":"Shark-sharedassets1.assets-3766.ogg","Shoebill":"Shoebill-sharedassets1.assets-3405.ogg","SiberianHusky":"SiberianHusky-sharedassets1.assets-3884.ogg","SilverFox":"SilverFox-sharedassets1.assets-3343.ogg","SnappingJawTurtle":"SnappingJawTurtle-sharedassets1.assets-3644.ogg","SnowLeopard":"SnowLeopard-sharedassets1.assets-3872.ogg","Starfish":"Starfish-sharedassets1.assets-3654.ogg","Stingray":"Stingray-sharedassets1.assets-3771.ogg","Stonefish":"Stonefish-sharedassets1.assets-3636.ogg","SwordFish":"SwordFish-sharedassets1.assets-3386.ogg","TaitaThrush":"TaitaThrush-sharedassets1.assets-3520.ogg","TarantulaHawk":"TarantulaHawk-sharedassets1.assets-3355.ogg","Tarasque":"Tarasque-sharedassets1.assets-3600.ogg","Triceratops":"Triceratops-sharedassets1.assets-3762.ogg","Turkey":"Turkey-sharedassets1.assets-3402.ogg","VampireBat":"VampireBat-sharedassets1.assets-3688.ogg","VenusFlytrap":"VenusFlytrap-sharedassets1.assets-3275.ogg","Vulture":"Vulture-sharedassets1.assets-3414.ogg","Werewolf":"Werewolf-sharedassets1.assets-3781.ogg","Wolf":"Wolf-sharedassets1.assets-3271.ogg","WoollyRhino":"WoollyRhino-sharedassets1.assets-3599.ogg","Zebra":"Zebra-sharedassets1.assets-3828.ogg","Akhlut":"Akhlut-sharedassets1.assets-3573.ogg","Albatross":"Albatross-sharedassets1.assets-3508.ogg","Alpaca":"Alpaca-sharedassets1.assets-3358.ogg","Amargasaurus":"Amargasaurus-sharedassets1.assets-3320.ogg","Ammonite":"Ammonite-sharedassets1.assets-3374.ogg","AmsterdamAlbatross":"AmsterdamAlbatross-sharedassets1.assets-3604.ogg","Anglerfish":"Anglerfish-sharedassets1.assets-3516.ogg","Bakunawa":"Bakunawa-sharedassets1.assets-3722.ogg","BayCat":"BayCat-sharedassets1.assets-3591.ogg","Behemoth":"Behemoth-sharedassets1.assets-3484.ogg","ParadiseBird":"ParadiseBird-sharedassets1.assets-3788.ogg","BlackBear":"BlackBear-sharedassets1.assets-3503.ogg","BlackRhino":"BlackRhino-sharedassets1.assets-3338.ogg","BlueWhale":"BlueWhale-sharedassets1.assets-3372.ogg","Boar":"Boar-sharedassets1.assets-3285.ogg","CaliforniaCondor":"CaliforniaCondor-sharedassets1.assets-3739.ogg","Cat":"Cat-sharedassets1.assets-3782.ogg","Catfish":"Catfish-sharedassets1.assets-3344.ogg","Cerberus":"Cerberus-sharedassets1.assets-3559.ogg","Chimpanzee":"Chimpanzee-sharedassets1.assets-3596.ogg","Cobra":"Cobra-sharedassets1.assets-3751.ogg","Cockatrice":"Cockatrice-sharedassets1.assets-3649.ogg","CoconutCrab":"CoconutCrab-sharedassets1.assets-3488.ogg","Dragon":"Dragon-sharedassets1.assets-3598.ogg","Dunkleosteus":"Dunkleosteus-sharedassets1.assets-3418.ogg","EagleOwl":"EagleOwl-sharedassets1.assets-3824.ogg","ElephantSeal":"ElephantSeal-sharedassets1.assets-3831.ogg","FarmerDog":"FarmerDog-sharedassets1.assets-3538.ogg","Fly":"Fly-sharedassets1.assets-3276.ogg","GermanShepard":"GermanShepard-sharedassets1.assets-3601.ogg","Gorilla":"Gorilla-sharedassets1.assets-3709.ogg","GreenSeaTurtle":"GreenSeaTurtle-sharedassets1.assets-3881.ogg","GrizzlyBear":"GrizzlyBear-sharedassets1.assets-3530.ogg","Hammershark":"Hammershark-sharedassets1.assets-3662.ogg","HarpyEagle":"HarpyEagle-sharedassets1.assets-3322.ogg","HelmetedHornbill":"HelmetedHornbill-sharedassets1.assets-3382.ogg","HighlandCow":"HighlandCow-sharedassets1.assets-3456.ogg","HoodedSeal":"HoodedSeal-sharedassets1.assets-3653.ogg","Hydra":"Hydra-sharedassets1.assets-3280.ogg","JerseyDevil":"JerseyDevil-sharedassets1.assets-3629.ogg","Komodo":"Komodo-sharedassets1.assets-3790.ogg","Lamprey":"Lamprey-sharedassets1.assets-3693.ogg","Leopard":"Leopard-sharedassets1.assets-3612.ogg","Leviathan":"Leviathan-sharedassets1.assets-3759.ogg","Lion":"Lion-sharedassets1.assets-3605.ogg","Lioness":"Lioness-sharedassets1.assets-3808.ogg","Mammoth":"Mammoth-sharedassets1.assets-3780.ogg","Manticore":"Manticore-sharedassets1.assets-3719.ogg","ShrimpMantis":"ShrimpMantis-sharedassets1.assets-3371.ogg","Markhor":"Markhor-sharedassets1.assets-3582.ogg","MimicOctopus":"MimicOctopus-sharedassets1.assets-3694.ogg","Mongoose":"Mongoose-sharedassets1.assets-3817.ogg","Octopus":"Octopus-sharedassets1.assets-3738.ogg","Orca":"Orca-sharedassets1.assets-3449.ogg","Ostrich":"Ostrich-sharedassets1.assets-3315.ogg","Oyster":"Oyster-sharedassets1.assets-3305.ogg","PhilippineEagle":"PhilippineEagle-sharedassets1.assets-3875.ogg","Phoenix":"Phoenix-sharedassets1.assets-3736.ogg","Piranha":"Piranha-sharedassets1.assets-3429.ogg","Poodle":"Poodle-sharedassets1.assets-3804.ogg","Pteranodon":"Pteranodon-sharedassets1.assets-3569.ogg","Puma":"Puma-sharedassets1.assets-3866.ogg","QuestingBeast":"QuestingBeast-sharedassets1.assets-3647.ogg","Quetzalcoatl":"Quetzalcoatl-sharedassets1.assets-3440.ogg","RealVelociraptor":"RealVelociraptor-sharedassets1.assets-3765.ogg","Reindeer":"Reindeer-sharedassets1.assets-3509.ogg","SabertoothTiger":"SabertoothTiger-sharedassets1.assets-3373.ogg","Sauropod":"Sauropod-sharedassets1.assets-3747.ogg","SeaSerpent":"SeaSerpent-sharedassets1.assets-3627.ogg","SilkySifaka":"SilkySifaka-sharedassets1.assets-3589.ogg","Sleipnir":"Sleipnir-sharedassets1.assets-3803.ogg","BabyCthulhu":"BabyCthulhu-sharedassets1.assets-3461.ogg","Snake":"Snake-sharedassets1.assets-3377.ogg","Spinosaurus":"Spinosaurus-sharedassets1.assets-3823.ogg","Stegosaurus":"Stegosaurus-sharedassets1.assets-3467.ogg","SumatranTiger":"SumatranTiger-sharedassets1.assets-3299.ogg","Sunfish":"Sunfish-sharedassets1.assets-3364.ogg","Tapir":"Tapir-sharedassets1.assets-3510.ogg","TeamSpirit":"TeamSpirit-sharedassets1.assets-3701.ogg","TerrorBird":"TerrorBird-sharedassets1.assets-3697.ogg","Therizinosaurus":"Therizinosaurus-sharedassets1.assets-3590.ogg","Tiger":"Tiger-sharedassets1.assets-3721.ogg","Tyrannosaurus":"Tyrannosaurus-sharedassets1.assets-3793.ogg","VampireSquid":"VampireSquid-sharedassets1.assets-3706.ogg","Velociraptor":"Velociraptor-sharedassets1.assets-3337.ogg","Walrus":"Walrus-sharedassets1.assets-3476.ogg","Warthog":"Warthog-sharedassets1.assets-3768.ogg","WhiteTiger":"WhiteTiger-sharedassets1.assets-3679.ogg","Wildebeest":"Wildebeest-sharedassets1.assets-3410.ogg","ForestSpirit":"ForestSpirit-sharedassets1.assets-3525.ogg","Wolverine":"Wolverine-sharedassets1.assets-3829.ogg","YellowBoxFish":"YellowBoxFish-sharedassets1.assets-3303.ogg","Yeti":"Yeti-sharedassets1.assets-3593.ogg","MochaDick":"MochaDick-sharedassets1.assets-3581.ogg","Tanystropheus":"Tanystropheus-sharedassets1.assets-3417.ogg"},"byPetId":{"0":"Ant-sharedassets1.assets-3379.ogg","2":"Badger-sharedassets1.assets-3730.ogg","3":"Beaver-sharedassets1.assets-3576.ogg","4":"Bee-sharedassets1.assets-3578.ogg","5":"Bison-sharedassets1.assets-3651.ogg","7":"Blowfish-sharedassets1.assets-3544.ogg","8":"Buffalo-sharedassets1.assets-3839.ogg","9":"Butterfly-sharedassets1.assets-3792.ogg","10":"Camel-sharedassets1.assets-3363.ogg","11":"Cat-sharedassets1.assets-3782.ogg","12":"Caterpillar-sharedassets1.assets-3451.ogg","13":"Chick-sharedassets1.assets-3748.ogg","14":"Chicken-sharedassets1.assets-3869.ogg","15":"Cow-sharedassets1.assets-3407.ogg","16":"Crab-sharedassets1.assets-3555.ogg","17":"Cricket-sharedassets1.assets-3397.ogg","18":"Cockroach-sharedassets1.assets-3408.ogg","19":"Crocodile-sharedassets1.assets-3534.ogg","20":"Deer-sharedassets1.assets-3698.ogg","21":"Dodo-sharedassets1.assets-3726.ogg","22":"Dog-sharedassets1.assets-3474.ogg","23":"Dolphin-sharedassets1.assets-3871.ogg","24":"Dove-sharedassets1.assets-3624.ogg","25":"Dragon-sharedassets1.assets-3598.ogg","26":"Duck-sharedassets1.assets-3290.ogg","27":"Eagle-sharedassets1.assets-3807.ogg","28":"Elephant-sharedassets1.assets-3686.ogg","29":"Flamingo-sharedassets1.assets-3689.ogg","30":"Fly-sharedassets1.assets-3276.ogg","32":"Fish-sharedassets1.assets-3403.ogg","33":"Giraffe-sharedassets1.assets-3548.ogg","34":"Goat-sharedassets1.assets-3296.ogg","36":"Gorilla-sharedassets1.assets-3709.ogg","37":"Hedgehog-sharedassets1.assets-3466.ogg","38":"Hippo-sharedassets1.assets-3464.ogg","39":"Horse-sharedassets1.assets-3718.ogg","40":"Kangaroo-sharedassets1.assets-3720.ogg","41":"Leopard-sharedassets1.assets-3612.ogg","42":"Lion-sharedassets1.assets-3605.ogg","44":"Llama-sharedassets1.assets-3314.ogg","45":"Mammoth-sharedassets1.assets-3780.ogg","46":"Monkey-sharedassets1.assets-3437.ogg","47":"Mosquito-sharedassets1.assets-3860.ogg","48":"Mouse-sharedassets1.assets-3506.ogg","50":"Octopus-sharedassets1.assets-3738.ogg","51":"Otter-sharedassets1.assets-3727.ogg","52":"Ox-sharedassets1.assets-3265.ogg","53":"Parrot-sharedassets1.assets-3511.ogg","54":"Peacock-sharedassets1.assets-3800.ogg","55":"Rhino-sharedassets1.assets-3332.ogg","56":"Penguin-sharedassets1.assets-3775.ogg","57":"Rat-sharedassets1.assets-3621.ogg","59":"Pig-sharedassets1.assets-3527.ogg","60":"Rabbit-sharedassets1.assets-3452.ogg","63":"Rooster-sharedassets1.assets-3611.ogg","65":"Scorpion-sharedassets1.assets-3618.ogg","66":"Seal-sharedassets1.assets-3481.ogg","67":"Shrimp-sharedassets1.assets-3350.ogg","68":"Sheep-sharedassets1.assets-3524.ogg","69":"Shark-sharedassets1.assets-3766.ogg","70":"Skunk-sharedassets1.assets-3454.ogg","71":"Sloth-sharedassets1.assets-3366.ogg","72":"Snail-sharedassets1.assets-3810.ogg","73":"Snake-sharedassets1.assets-3377.ogg","74":"Spider-sharedassets1.assets-3270.ogg","75":"Squirrel-sharedassets1.assets-3867.ogg","76":"Swan-sharedassets1.assets-3307.ogg","77":"Tiger-sharedassets1.assets-3721.ogg","78":"Tyrannosaurus-sharedassets1.assets-3793.ogg","79":"Turkey-sharedassets1.assets-3402.ogg","80":"Turtle-sharedassets1.assets-3879.ogg","81":"Whale-sharedassets1.assets-3430.ogg","82":"Worm-sharedassets1.assets-3533.ogg","85":"Bus-sharedassets1.assets-3459.ogg","87":"Bat-sharedassets1.assets-3523.ogg","88":"Beetle-sharedassets1.assets-3273.ogg","89":"Bluebird-sharedassets1.assets-3335.ogg","91":"HatchingChick-sharedassets1.assets-3740.ogg","93":"Lobster-sharedassets1.assets-3816.ogg","94":"Microbe-sharedassets1.assets-3638.ogg","95":"Owl-sharedassets1.assets-3669.ogg","96":"Poodle-sharedassets1.assets-3804.ogg","97":"Puppy-sharedassets1.assets-3588.ogg","98":"Sauropod-sharedassets1.assets-3747.ogg","99":"TabbyCat-sharedassets1.assets-3360.ogg","100":"TropicalFish-sharedassets1.assets-3441.ogg","103":"Boar-sharedassets1.assets-3285.ogg","104":"Dromedary-sharedassets1.assets-3643.ogg","107":"Panda-sharedassets1.assets-3272.ogg","108":"PolarBear-sharedassets1.assets-3389.ogg","109":"GuineaPig-sharedassets1.assets-3635.ogg","110":"Hamster-sharedassets1.assets-3844.ogg","111":"Donkey-sharedassets1.assets-3843.ogg","112":"Koala-sharedassets1.assets-3445.ogg","113":"BabyDuck-sharedassets1.assets-3545.ogg","114":"Lioness-sharedassets1.assets-3808.ogg","115":"Velociraptor-sharedassets1.assets-3337.ogg","116":"Orca-sharedassets1.assets-3449.ogg","117":"ClownFish-sharedassets1.assets-3433.ogg","118":"Piranha-sharedassets1.assets-3429.ogg","119":"SwordFish-sharedassets1.assets-3386.ogg","120":"Eel-sharedassets1.assets-3502.ogg","123":"Hammershark-sharedassets1.assets-3662.ogg","124":"Komodo-sharedassets1.assets-3790.ogg","125":"Ostrich-sharedassets1.assets-3315.ogg","126":"PrayingMantis-sharedassets1.assets-3316.ogg","127":"Hawk-sharedassets1.assets-3369.ogg","128":"Seagull-sharedassets1.assets-3737.ogg","129":"Pelican-sharedassets1.assets-3558.ogg","130":"Okapi-sharedassets1.assets-3486.ogg","131":"Kiwi-sharedassets1.assets-3815.ogg","132":"AtlanticPuffin-sharedassets1.assets-3312.ogg","133":"Cassowary-sharedassets1.assets-3868.ogg","134":"Shoebill-sharedassets1.assets-3405.ogg","135":"Vulture-sharedassets1.assets-3414.ogg","136":"Stork-sharedassets1.assets-3477.ogg","137":"Frigatebird-sharedassets1.assets-3567.ogg","138":"Hummingbird-sharedassets1.assets-3352.ogg","139":"Frog-sharedassets1.assets-3873.ogg","140":"Bear-sharedassets1.assets-3304.ogg","141":"Moth-sharedassets1.assets-3406.ogg","142":"Triceratops-sharedassets1.assets-3762.ogg","143":"Spinosaurus-sharedassets1.assets-3823.ogg","144":"Stegosaurus-sharedassets1.assets-3467.ogg","145":"Pug-sharedassets1.assets-3482.ogg","146":"SiberianHusky-sharedassets1.assets-3884.ogg","147":"Iguana-sharedassets1.assets-3512.ogg","148":"SabertoothTiger-sharedassets1.assets-3373.ogg","149":"Pillbug-sharedassets1.assets-3642.ogg","151":"Toucan-sharedassets1.assets-3717.ogg","152":"Seahorse-sharedassets1.assets-3368.ogg","153":"Starfish-sharedassets1.assets-3654.ogg","154":"Capybara-sharedassets1.assets-3700.ogg","155":"Zebra-sharedassets1.assets-3828.ogg","157":"Orangutan-sharedassets1.assets-3813.ogg","158":"Racoon-sharedassets1.assets-3784.ogg","159":"Platypus-sharedassets1.assets-3287.ogg","160":"Wasp-sharedassets1.assets-3380.ogg","161":"Chinchilla-sharedassets1.assets-3853.ogg","162":"Toad-sharedassets1.assets-3704.ogg","163":"Yak-sharedassets1.assets-3483.ogg","164":"Salamander-sharedassets1.assets-3710.ogg","165":"Leech-sharedassets1.assets-3293.ogg","166":"Armadillo-sharedassets1.assets-3499.ogg","167":"Hyena-sharedassets1.assets-3683.ogg","168":"Mole-sharedassets1.assets-3478.ogg","169":"Porcupine-sharedassets1.assets-3587.ogg","170":"Wolf-sharedassets1.assets-3271.ogg","171":"Baboon-sharedassets1.assets-3723.ogg","172":"Ferret-sharedassets1.assets-3597.ogg","173":"Weasel-sharedassets1.assets-3795.ogg","174":"Catfish-sharedassets1.assets-3344.ogg","175":"Sealion-sharedassets1.assets-3361.ogg","176":"Cuddlefish-sharedassets1.assets-3557.ogg","177":"Squid-sharedassets1.assets-3708.ogg","178":"Stingray-sharedassets1.assets-3771.ogg","180":"Anglerfish-sharedassets1.assets-3516.ogg","181":"ParadiseBird-sharedassets1.assets-3788.ogg","182":"WhiteWhale-sharedassets1.assets-3471.ogg","184":"Chipmunk-sharedassets1.assets-3830.ogg","185":"Gazelle-sharedassets1.assets-3725.ogg","186":"HighlandCow-sharedassets1.assets-3456.ogg","187":"Opossum-sharedassets1.assets-3681.ogg","188":"GoldenRetriever-sharedassets1.assets-3671.ogg","189":"Bulldog-sharedassets1.assets-3614.ogg","190":"ShrimpMantis-sharedassets1.assets-3371.ogg","191":"SeaTurtle-sharedassets1.assets-3684.ogg","192":"Manatee-sharedassets1.assets-3561.ogg","193":"Aardvark-sharedassets1.assets-3659.ogg","194":"Alpaca-sharedassets1.assets-3358.ogg","195":"Crow-sharedassets1.assets-3750.ogg","196":"Dragonfly-sharedassets1.assets-3745.ogg","197":"EmperorTamarin-sharedassets1.assets-3761.ogg","198":"FrilledDragon-sharedassets1.assets-3617.ogg","199":"Jerboa-sharedassets1.assets-3367.ogg","200":"Lynx-sharedassets1.assets-3749.ogg","202":"Moose-sharedassets1.assets-3436.ogg","203":"Meerkat-sharedassets1.assets-3797.ogg","204":"Marmoset-sharedassets1.assets-3351.ogg","205":"Reindeer-sharedassets1.assets-3509.ogg","206":"WhiteTiger-sharedassets1.assets-3679.ogg","207":"Wombat-sharedassets1.assets-3302.ogg","208":"Tapir-sharedassets1.assets-3510.ogg","209":"Walrus-sharedassets1.assets-3476.ogg","210":"AfricanPenguin-sharedassets1.assets-3772.ogg","212":"Axolotl-sharedassets1.assets-3447.ogg","213":"BelugaSturgeon-sharedassets1.assets-3674.ogg","214":"BettaFish-sharedassets1.assets-3610.ogg","215":"BlackNeckedStilt-sharedassets1.assets-3388.ogg","216":"Chameleon-sharedassets1.assets-3841.ogg","217":"Cobra-sharedassets1.assets-3751.ogg","218":"Cockatoo-sharedassets1.assets-3286.ogg","219":"Crane-sharedassets1.assets-3458.ogg","220":"DoorHeadAnt-sharedassets1.assets-3755.ogg","221":"EgyptianVulture-sharedassets1.assets-3419.ogg","222":"ElephantSeal-sharedassets1.assets-3831.ogg","223":"Emu-sharedassets1.assets-3571.ogg","224":"Falcon-sharedassets1.assets-3657.ogg","225":"Flea-sharedassets1.assets-3835.ogg","226":"FlyingFish-sharedassets1.assets-3284.ogg","227":"FlyingSquirrel-sharedassets1.assets-3794.ogg","228":"FowlBird-sharedassets1.assets-3652.ogg","229":"Gecko-sharedassets1.assets-3289.ogg","230":"GermanShepard-sharedassets1.assets-3601.ogg","231":"Gharial-sharedassets1.assets-3334.ogg","232":"Goose-sharedassets1.assets-3546.ogg","233":"Groundhog-sharedassets1.assets-3574.ogg","234":"HerculesBeetle-sharedassets1.assets-3634.ogg","235":"HoopoeBird-sharedassets1.assets-3283.ogg","236":"Lemur-sharedassets1.assets-3666.ogg","237":"Lizard-sharedassets1.assets-3670.ogg","238":"Macaque-sharedassets1.assets-3861.ogg","239":"Magpie-sharedassets1.assets-3716.ogg","240":"MantaRay-sharedassets1.assets-3818.ogg","241":"Mongoose-sharedassets1.assets-3817.ogg","242":"Mosasaurus-sharedassets1.assets-3550.ogg","245":"MuskOx-sharedassets1.assets-3641.ogg","246":"Nyala-sharedassets1.assets-3690.ogg","247":"Osprey-sharedassets1.assets-3575.ogg","248":"Oyster-sharedassets1.assets-3305.ogg","249":"Pangolin-sharedassets1.assets-3883.ogg","250":"Panther-sharedassets1.assets-3602.ogg","251":"PiedTamarin-sharedassets1.assets-3310.ogg","252":"PoisonDartFrog-sharedassets1.assets-3660.ogg","253":"Pteranodon-sharedassets1.assets-3569.ogg","254":"Puma-sharedassets1.assets-3866.ogg","255":"Robin-sharedassets1.assets-3646.ogg","256":"RoyalFlycatcher-sharedassets1.assets-3625.ogg","257":"SaigaAntelope-sharedassets1.assets-3453.ogg","258":"SeaUrchin-sharedassets1.assets-3846.ogg","259":"SecretaryBird-sharedassets1.assets-3848.ogg","260":"Silkmoth-sharedassets1.assets-3465.ogg","261":"SilverFox-sharedassets1.assets-3343.ogg","262":"Slug-sharedassets1.assets-3537.ogg","263":"Stoat-sharedassets1.assets-3498.ogg","264":"SurgeonFish-sharedassets1.assets-3763.ogg","265":"Vaquita-sharedassets1.assets-3819.ogg","266":"Warthog-sharedassets1.assets-3768.ogg","267":"WhaleShark-sharedassets1.assets-3672.ogg","268":"Wildebeest-sharedassets1.assets-3410.ogg","269":"Wolverine-sharedassets1.assets-3829.ogg","271":"BlueRingedOctopus-sharedassets1.assets-3850.ogg","272":"ConeSnail-sharedassets1.assets-3754.ogg","273":"Doberman-sharedassets1.assets-3746.ogg","274":"FireAnt-sharedassets1.assets-3504.ogg","275":"GrizzlyBear-sharedassets1.assets-3530.ogg","276":"NurseShark-sharedassets1.assets-3877.ogg","277":"SnappingJawTurtle-sharedassets1.assets-3644.ogg","278":"Stonefish-sharedassets1.assets-3636.ogg","330":"AntLion-sharedassets1.assets-3390.ogg","331":"Anubis-sharedassets1.assets-3606.ogg","332":"Basilisk-sharedassets1.assets-3553.ogg","333":"Behemoth-sharedassets1.assets-3484.ogg","334":"Bigfoot-sharedassets1.assets-3880.ogg","336":"Calygreyhound-sharedassets1.assets-3455.ogg","337":"Cerberus-sharedassets1.assets-3559.ogg","338":"Chimera-sharedassets1.assets-3547.ogg","339":"Chupacabra-sharedassets1.assets-3409.ogg","340":"Cockatrice-sharedassets1.assets-3649.ogg","341":"DropBear-sharedassets1.assets-3783.ogg","342":"Fairy-sharedassets1.assets-3779.ogg","343":"FirePup-sharedassets1.assets-3341.ogg","344":"FrostWolf-sharedassets1.assets-3279.ogg","345":"Gargoyle-sharedassets1.assets-3874.ogg","346":"GhostKitten-sharedassets1.assets-3620.ogg","348":"Griffin-sharedassets1.assets-3798.ogg","349":"Headcrab-sharedassets1.assets-3468.ogg","350":"Hippocampus-sharedassets1.assets-3480.ogg","352":"Hydra-sharedassets1.assets-3280.ogg","353":"Jackalope-sharedassets1.assets-3340.ogg","354":"Kitsune-sharedassets1.assets-3487.ogg","355":"Kraken-sharedassets1.assets-3536.ogg","356":"Leviathan-sharedassets1.assets-3759.ogg","357":"Mandrake-sharedassets1.assets-3668.ogg","358":"Manticore-sharedassets1.assets-3719.ogg","359":"Mimic-sharedassets1.assets-3735.ogg","360":"Minotaur-sharedassets1.assets-3812.ogg","362":"Murloc-sharedassets1.assets-3773.ogg","363":"Nessie-sharedassets1.assets-3384.ogg","364":"Ouroboros-sharedassets1.assets-3876.ogg","365":"Pegasus-sharedassets1.assets-3442.ogg","366":"Phoenix-sharedassets1.assets-3736.ogg","367":"Quetzalcoatl-sharedassets1.assets-3440.ogg","368":"RedDragon-sharedassets1.assets-3786.ogg","369":"Roc-sharedassets1.assets-3308.ogg","371":"Sandworm-sharedassets1.assets-3778.ogg","372":"SeaSerpent-sharedassets1.assets-3627.ogg","373":"Shoggoth-sharedassets1.assets-3556.ogg","374":"SkeletonDog-sharedassets1.assets-3539.ogg","375":"Slime-sharedassets1.assets-3446.ogg","376":"Sphinx-sharedassets1.assets-3554.ogg","377":"AxehandleHound-sharedassets1.assets-3715.ogg","378":"TreeEnt-sharedassets1.assets-3395.ogg","379":"Tsuchinoko-sharedassets1.assets-3317.ogg","380":"Unicorn-sharedassets1.assets-3460.ogg","381":"VampireBat-sharedassets1.assets-3688.ogg","382":"Warg-sharedassets1.assets-3398.ogg","383":"Werewolf-sharedassets1.assets-3781.ogg","384":"WhiteKillerRabbit-sharedassets1.assets-3691.ogg","385":"Wyvern-sharedassets1.assets-3692.ogg","386":"Xenomorph-sharedassets1.assets-3680.ogg","387":"Yeti-sharedassets1.assets-3593.ogg","388":"AfricanWildDog-sharedassets1.assets-3650.ogg","389":"AmamiRabbit-sharedassets1.assets-3847.ogg","390":"AmazonRiverDolphin-sharedassets1.assets-3603.ogg","391":"AmsterdamAlbatross-sharedassets1.assets-3604.ogg","392":"Angelshark-sharedassets1.assets-3787.ogg","393":"ArabianTahr-sharedassets1.assets-3331.ogg","394":"AraripeManakin-sharedassets1.assets-3336.ogg","395":"AyeAye-sharedassets1.assets-3785.ogg","396":"BanggaiCardinalfish-sharedassets1.assets-3266.ogg","397":"BayCat-sharedassets1.assets-3591.ogg","398":"BlackRhino-sharedassets1.assets-3338.ogg","399":"BlueWhale-sharedassets1.assets-3372.ogg","400":"BlueThroatedMacaw-sharedassets1.assets-3347.ogg","401":"BombusDahlbomii-sharedassets1.assets-3473.ogg","402":"Bonobo-sharedassets1.assets-3432.ogg","403":"CaliforniaCondor-sharedassets1.assets-3739.ogg","404":"DarwinsFox-sharedassets1.assets-3640.ogg","405":"Drill-sharedassets1.assets-3443.ogg","406":"EthiopianWolf-sharedassets1.assets-3822.ogg","407":"EuropeanMink-sharedassets1.assets-3422.ogg","408":"FanMussel-sharedassets1.assets-3497.ogg","409":"GeometricTortoise-sharedassets1.assets-3594.ogg","410":"GiantOtter-sharedassets1.assets-3801.ogg","411":"GiantPangasius-sharedassets1.assets-3387.ogg","412":"GiantTortoise-sharedassets1.assets-3742.ogg","413":"GreenSeaTurtle-sharedassets1.assets-3881.ogg","414":"HawaiianMonkSeal-sharedassets1.assets-3630.ogg","415":"HelmetedHornbill-sharedassets1.assets-3382.ogg","416":"HumpheadWrasse-sharedassets1.assets-3528.ogg","417":"IliPika-sharedassets1.assets-3535.ogg","418":"IriomoteCat-sharedassets1.assets-3298.ogg","419":"Kakapo-sharedassets1.assets-3631.ogg","420":"LongcombSawfish-sharedassets1.assets-3622.ogg","421":"MalayTapir-sharedassets1.assets-3311.ogg","422":"MonkeyFacedBat-sharedassets1.assets-3878.ogg","423":"PaintedTerrapin-sharedassets1.assets-3802.ogg","424":"PhilippineEagle-sharedassets1.assets-3875.ogg","425":"ProboscisMonkey-sharedassets1.assets-3318.ogg","426":"PygmyHippo-sharedassets1.assets-3764.ogg","427":"PygmyHog-sharedassets1.assets-3362.ogg","428":"RedPanda-sharedassets1.assets-3562.ogg","429":"RolowayMonkey-sharedassets1.assets-3399.ogg","430":"SakerFalcon-sharedassets1.assets-3420.ogg","431":"Saola-sharedassets1.assets-3695.ogg","432":"SilkySifaka-sharedassets1.assets-3589.ogg","433":"SpoonBilledSandpiper-sharedassets1.assets-3415.ogg","434":"SumatranTiger-sharedassets1.assets-3299.ogg","435":"TaitaShrew-sharedassets1.assets-3392.ogg","436":"TaitaThrush-sharedassets1.assets-3520.ogg","437":"TasmanianDevil-sharedassets1.assets-3758.ogg","438":"ToothBilledPigeon-sharedassets1.assets-3323.ogg","439":"Tucuxi-sharedassets1.assets-3413.ogg","440":"VolcanoSnail-sharedassets1.assets-3306.ogg","441":"WhiteBelliedHeron-sharedassets1.assets-3540.ogg","530":"BlueFootedBooby-sharedassets1.assets-3682.ogg","531":"GreaterSageGrouse-sharedassets1.assets-3423.ogg","532":"MarineIguana-sharedassets1.assets-3626.ogg","534":"TreeKangaroo-sharedassets1.assets-3500.ogg","535":"Albatross-sharedassets1.assets-3508.ogg","536":"Ammonite-sharedassets1.assets-3374.ogg","537":"Bass-sharedassets1.assets-3325.ogg","539":"Cardinal-sharedassets1.assets-3359.ogg","540":"Centipede-sharedassets1.assets-3353.ogg","541":"Chihuahua-sharedassets1.assets-3570.ogg","542":"Chimpanzee-sharedassets1.assets-3596.ogg","543":"Dimetrodon-sharedassets1.assets-3448.ogg","544":"Dugong-sharedassets1.assets-3834.ogg","545":"DumboOctopus-sharedassets1.assets-3349.ogg","546":"Elk-sharedassets1.assets-3859.ogg","547":"FairyArmadillo-sharedassets1.assets-3263.ogg","548":"Firefly-sharedassets1.assets-3840.ogg","549":"Fossa-sharedassets1.assets-3566.ogg","550":"Gibbon-sharedassets1.assets-3770.ogg","551":"Hare-sharedassets1.assets-3370.ogg","552":"HarpyEagle-sharedassets1.assets-3322.ogg","553":"Ibex-sharedassets1.assets-3378.ogg","554":"Jackal-sharedassets1.assets-3328.ogg","555":"Lemming-sharedassets1.assets-3383.ogg","556":"Maltese-sharedassets1.assets-3416.ogg","557":"OrchidMantis-sharedassets1.assets-3852.ogg","558":"Pheasant-sharedassets1.assets-3675.ogg","559":"Pigeon-sharedassets1.assets-3529.ogg","560":"Pony-sharedassets1.assets-3507.ogg","561":"RealVelociraptor-sharedassets1.assets-3765.ogg","562":"Salmon-sharedassets1.assets-3526.ogg","563":"SeaAnemone-sharedassets1.assets-3393.ogg","564":"SeaCucumber-sharedassets1.assets-3702.ogg","565":"Siamese-sharedassets1.assets-3707.ogg","566":"Silverfish-sharedassets1.assets-3849.ogg","567":"Sparrow-sharedassets1.assets-3732.ogg","568":"Sunfish-sharedassets1.assets-3364.ogg","569":"TarantulaHawk-sharedassets1.assets-3355.ogg","570":"Tardigrade-sharedassets1.assets-3385.ogg","571":"Termite-sharedassets1.assets-3613.ogg","572":"Tuna-sharedassets1.assets-3637.ogg","573":"VenusFlytrap-sharedassets1.assets-3275.ogg","601":"Bunyip-sharedassets1.assets-3743.ogg","603":"Bakunawa-sharedassets1.assets-3722.ogg","604":"Mothman-sharedassets1.assets-3426.ogg","605":"NightCrawler-sharedassets1.assets-3274.ogg","606":"Sleipnir-sharedassets1.assets-3803.ogg","607":"ThorGoat1-sharedassets1.assets-3857.ogg","610":"Thunderbird-sharedassets1.assets-3421.ogg","611":"CuddleToad-sharedassets1.assets-3472.ogg","612":"OldMouse-sharedassets1.assets-3579.ogg","613":"BadDog-sharedassets1.assets-3856.ogg","616":"QuestingBeast-sharedassets1.assets-3647.ogg","617":"EggLadCovered-sharedassets1.assets-3845.ogg","619":"Pixiu-sharedassets1.assets-3485.ogg","621":"Barghest-sharedassets1.assets-3885.ogg","622":"Rootler-sharedassets1.assets-3767.ogg","623":"LuckyCat-sharedassets1.assets-3291.ogg","624":"Leafling-sharedassets1.assets-3345.ogg","625":"FuLion-sharedassets1.assets-3401.ogg","626":"AlchemistBug-sharedassets1.assets-3321.ogg","627":"Pengobble-sharedassets1.assets-3776.ogg","628":"Baku-sharedassets1.assets-3837.ogg","630":"Cyclops-sharedassets1.assets-3521.ogg","631":"Amalgam-sharedassets1.assets-3269.ogg","633":"ForestSpirit-sharedassets1.assets-3525.ogg","634":"DwarvenBeetle-sharedassets1.assets-3583.ogg","635":"ManaHound-sharedassets1.assets-3434.ogg","636":"TeamSpirit-sharedassets1.assets-3701.ogg","639":"Ogopogo-sharedassets1.assets-3411.ogg","640":"LovelandFrogman-sharedassets1.assets-3391.ogg","651":"Wendigo-sharedassets1.assets-3549.ogg","652":"JerseyDevil-sharedassets1.assets-3629.ogg","653":"FurBearingTrout-sharedassets1.assets-3729.ogg","654":"Tatzelwurm-sharedassets1.assets-3865.ogg","655":"Kappa-sharedassets1.assets-3329.ogg","656":"Boitata-sharedassets1.assets-3412.ogg","657":"Nurikabe-sharedassets1.assets-3519.ogg","686":"AlbinoSquirrel-sharedassets1.assets-3531.ogg","687":"BlackBear-sharedassets1.assets-3503.ogg","688":"BrahmaChicken-sharedassets1.assets-3757.ogg","689":"FarmerCat-sharedassets1.assets-3375.ogg","690":"FarmerChicken-sharedassets1.assets-3832.ogg","691":"FarmerCrow-sharedassets1.assets-3324.ogg","692":"FarmerDog-sharedassets1.assets-3538.ogg","693":"FarmerMouse-sharedassets1.assets-3295.ogg","694":"FarmerPig-sharedassets1.assets-3365.ogg","695":"FruitFly-sharedassets1.assets-3870.ogg","696":"Gelada-sharedassets1.assets-3806.ogg","697":"GreatPotoo-sharedassets1.assets-3491.ogg","698":"Locust-sharedassets1.assets-3752.ogg","700":"Mink-sharedassets1.assets-3495.ogg","701":"Pangasius-sharedassets1.assets-3492.ogg","702":"Quail-sharedassets1.assets-3297.ogg","703":"QueenBee-sharedassets1.assets-3667.ogg","704":"Quoll-sharedassets1.assets-3724.ogg","705":"SugarGlider-sharedassets1.assets-3665.ogg","706":"Trout-sharedassets1.assets-3607.ogg","707":"Vervet-sharedassets1.assets-3326.ogg","708":"Weevil-sharedassets1.assets-3728.ogg","711":"VampireSquid-sharedassets1.assets-3706.ogg","712":"MimicOctopus-sharedassets1.assets-3694.ogg","713":"TogianBabirusa-sharedassets1.assets-3805.ogg","715":"Takhi-sharedassets1.assets-3799.ogg","716":"SnowLeopard-sharedassets1.assets-3872.ogg","717":"Hirola-sharedassets1.assets-3774.ogg","719":"Takin-sharedassets1.assets-3490.ogg","720":"GoldenTamarin-sharedassets1.assets-3396.ogg","721":"DungBeetle-sharedassets1.assets-3496.ogg","722":"SilkieChicken-sharedassets1.assets-3532.ogg","723":"LeafySeaDragon-sharedassets1.assets-3731.ogg","724":"Mandarinfish-sharedassets1.assets-3678.ogg","725":"Olm-sharedassets1.assets-3563.ogg","726":"HonduranWhiteBat-sharedassets1.assets-3427.ogg","727":"SpiderCrab-sharedassets1.assets-3809.ogg","728":"GlaucusAtlanticus-sharedassets1.assets-3628.ogg","729":"PoodleMoth-sharedassets1.assets-3294.ogg","730":"Andrewsarchus-sharedassets1.assets-3479.ogg","731":"ThornyDragon-sharedassets1.assets-3572.ogg","732":"PinkRobin-sharedassets1.assets-3552.ogg","733":"PatagonianMara-sharedassets1.assets-3760.ogg","734":"Platybelodon-sharedassets1.assets-3609.ogg","735":"SpottedHandfish-sharedassets1.assets-3664.ogg","736":"JewelCaterpillar-sharedassets1.assets-3522.ogg","740":"Gerenuk-sharedassets1.assets-3756.ogg","742":"RedLippedBatfish-sharedassets1.assets-3796.ogg","743":"Markhor-sharedassets1.assets-3582.ogg","744":"PurpleFrog-sharedassets1.assets-3661.ogg","745":"PeacockSpider-sharedassets1.assets-3677.ogg","746":"LongWattledUmbrellabird-sharedassets1.assets-3342.ogg","748":"Deinocheirus-sharedassets1.assets-3264.ogg","749":"Lamprey-sharedassets1.assets-3693.ogg","750":"SatanicLeafTailedGecko-sharedassets1.assets-3301.ogg","751":"Quetzalcoatlus-sharedassets1.assets-3565.ogg","752":"GiantIsopod-sharedassets1.assets-3404.ogg","753":"HoodedSeal-sharedassets1.assets-3653.ogg","754":"GoblinShark-sharedassets1.assets-3696.ogg","755":"Hoatzin-sharedassets1.assets-3586.ogg","756":"YetiCrab-sharedassets1.assets-3863.ogg","757":"Nudibranchs-sharedassets1.assets-3400.ogg","758":"Bilby-sharedassets1.assets-3619.ogg","759":"Therizinosaurus-sharedassets1.assets-3590.ogg","760":"WhiteBootedRacketTail-sharedassets1.assets-3623.ogg","761":"PygmySeahorse-sharedassets1.assets-3673.ogg","763":"SarcasticFringehead-sharedassets1.assets-3833.ogg","765":"Roadrunner-sharedassets1.assets-3744.ogg","766":"YellowBoxFish-sharedassets1.assets-3303.ogg","768":"DesertRainFrog-sharedassets1.assets-3821.ogg","769":"Dunkleosteus-sharedassets1.assets-3418.ogg","770":"Estemmenosuchus-sharedassets1.assets-3685.ogg","772":"Amargasaurus-sharedassets1.assets-3320.ogg","773":"BabyCthulhu-sharedassets1.assets-3461.ogg","774":"BlueJay-sharedassets1.assets-3333.ogg","775":"Budgie-sharedassets1.assets-3277.ogg","776":"FlounderYoung-sharedassets1.assets-3777.ogg","779":"CoconutCrab-sharedassets1.assets-3488.ogg","781":"EagleOwl-sharedassets1.assets-3824.ogg","782":"Akhlut-sharedassets1.assets-3573.ogg","783":"HermitCrab-sharedassets1.assets-3444.ogg","784":"Namazu-sharedassets1.assets-3319.ogg","785":"Ahuizotl-sharedassets1.assets-3428.ogg","786":"Caladrius-sharedassets1.assets-3741.ogg","787":"Cuckoo-sharedassets1.assets-3633.ogg","788":"CuckooBaby-sharedassets1.assets-3551.ogg","791":"VampireParrot-sharedassets1.assets-3348.ogg","796":"Barnacle-sharedassets1.assets-3645.ogg","797":"Bloodhound-sharedassets1.assets-3439.ogg","798":"BrazillianTreehopper-sharedassets1.assets-3864.ogg","800":"GiantSquirrel-sharedassets1.assets-3713.ogg","801":"PacificFanfish-sharedassets1.assets-3354.ogg","802":"RuspolisTuraco-sharedassets1.assets-3313.ogg","803":"ShimaEnaga-sharedassets1.assets-3862.ogg","804":"SpinyBushViper-sharedassets1.assets-3639.ogg","805":"Tadpole-sharedassets1.assets-3462.ogg","806":"TerrorBird-sharedassets1.assets-3697.ogg","807":"WoollyRhino-sharedassets1.assets-3599.ogg","808":"Lusca-sharedassets1.assets-3281.ogg","811":"Amphisbaena-sharedassets1.assets-3470.ogg","812":"Tarasque-sharedassets1.assets-3600.ogg","823":"MochaDick-sharedassets1.assets-3581.ogg","824":"Tanystropheus-sharedassets1.assets-3417.ogg"}}')},40781(O,S,i){i.d(S,{X:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Tarasque";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Tarasque Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,o=[.25,.5,.75][Math.min(Math.max(t.level-1,0),2)],r=t.parent.petArray.filter(N=>N&&N.alive);if(0===r.length)return void this.triggerTigerExecution(e);let d=0,g=0;for(const N of r){const q=Math.floor(N.attack*o),ne=Math.floor(N.health*o);N.attack=Math.max(1,N.attack-q),N.health=Math.max(1,N.health-ne),d+=q,g+=ne}const f=Math.floor(d/r.length),D=Math.floor(g/r.length),k=d%r.length,L=g%r.length;for(let N=0;N<r.length;N++){const q=r[N];let ne=f+(N<k?1:0),Q=D+(N<L?1:0);ne>0&&q.increaseAttack(ne),Q>0&&q.increaseHealth(Q)}this.logService.createLog({message:`${t.name} redistributed ${d}/${g} stats across ${r.length} pets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},40804(O,S,i){i.d(S,{G:()=>c});var P=i(22097);class c extends P.${name="Bok Choy";equipmentClass="shop";tier=2}},40830(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Sarcastic Fringehead";tier=3;pack="Custom";attack=4;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}class _ extends c.T{logService;petService;constructor(e,t,n){super({name:"SarcasticFringeheadAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=t,this.petService=n}spawnForOpponent(e){const t=this.owner,n=t.parent.opponent;if(0===(t.swallowedPets?.length??0)){const a=t.sarcasticFringeheadSwallowedPet;if(a){const o=this.petService.createPet({name:a,attack:1,health:1,exp:t.minExpForLevel,equipment:null,mana:0},t.parent);o&&t.swallowedPets.push(o)}}for(;t.swallowedPets.length>0;){const a=t.swallowedPets.shift();if(!a)continue;a.parent=n;const o=n.summonPet(a,0,!1);o.success&&this.logService.createLog({message:`${t.name} spawned ${a.name} for the opponent.`,type:"ability",player:t.parent,tiger:e.tiger,randomEvent:o.randomEvent})}}executeAbility(e){this.spawnForOpponent(e),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.petService)}}},40970(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Manta Ray";tier=4;pack="Golden";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MantaRayAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;let n=!1;for(let o=0;o<5;o++)if(null==t.parent.getPetAtPosition(o)){n=!0;break}n?(this.logService.createLog({message:`${t.name} will give +${2*this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},41074(O,S,i){i.d(S,{j:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Leviathan";tier=6;pack="Custom";attack=6;health=10;initAbilities(){this.addAbility(new _(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}class _ extends c.T{logService;petService;constructor(e,t,n){super({name:"LeviathanAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.petService=n}executeAbility(e){const t=this.owner,{tiger:n,pteranodon:a}=e,o=6*this.level,r=2*this.level,d=this.petService.createPet({name:"Fish",attack:o,health:o,mana:0,exp:0,equipment:null,triggersConsumed:0},t.parent);d.increaseExp(r);const g=t.parent.summonPet(d,t.savedPosition,!1,t);g.success&&this.logService.createLog({message:`${t.name} summoned ${d.name} (${o}/${o}) and granted ${r} exp.`,type:"ability",player:t.parent,tiger:n,pteranodon:a,randomEvent:g.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.petService)}}},41080(O,S,i){i.d(S,{b:()=>_});var P=i(68189);const _=new(i(76228).q)(P.R)},41270(O,S,i){i.d(S,{A:()=>t});var P=i(30554),c=i(35776),A=i(53600),v=Object.prototype.hasOwnProperty;const t=function e(n){if(!(0,P.A)(n))return(0,A.A)(n);var a=(0,c.A)(n),o=[];for(var r in n)"constructor"==r&&(a||!v.call(n,r))||o.push(r);return o}},41271(O,S,i){i.d(S,{R:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Salmon";tier=1;pack="Star";attack=5;health=5;hidden=!0;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SalmonAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=1+Math.floor(r.health/25),g=5*this.level;for(let f=0;f<d;f++){let D=r.parent.opponent.getRandomPet([],!1,!0,!1,r);D.pet&&r.snipePet(D.pet,g,D.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},41504(O,S,i){i.d(S,{W:()=>A});var P=i(50873),c=i(17385);class A extends P.L{logService;toyService;petService;name="Stuffed Bear";tier=1;faintCount=0;constructor(v,e,t,n,a){super(v,e,n,a),this.logService=v,this.toyService=e,this.petService=t}friendFaints(v,e,t,n){if(this.faintCount+=1,this.faintCount%3!=0)return;const a=this.parent.getLastPet();if(!a.pet)return;const o=a.pet,r=(0,c.e)(o.equipment),d=this.parent.opponent,g=this.petService.createPet({name:o.name,attack:o.attack,health:o.health,exp:o.exp??0,mana:o.mana??0,equipment:r},d);g.toyPet=!0,d.summonPet(g,0).success&&this.logService.createLog({message:`${this.name} summoned an enemy copy of ${o.name}.`,type:"ability",player:this.parent,puma:t})}}},41604(O,S,i){i.d(S,{F:()=>_});var P=i(46200),c=i(5615),A=i(32232);class _ extends P.i{logService;abilityService;name="Blue-Footed Booby";tier=4;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Blue-Footed Booby Ability",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner;if(o.parent.trumpets<4)return void this.triggerTigerExecution(t);const g=o.getPetsBehind(1,"Melon Slice")[0];if(!g||!g.alive)return void this.triggerTigerExecution(t);o.parent.spendTrumpets(4,o);const f=new A.o;f.uses=this.level,f.originalUses=f.uses,g.givePetEquipment(f),this.logService.createLog({message:`${o.name} spent 4 trumpets to give ${g.name} a Melon Slice (${f.uses} uses).`,type:"ability",player:o.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},41752(O,S,i){i.d(S,{G:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Groundhog";tier=1;pack="Golden";attack=2;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GroundhogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{pteranodon:o}=e,r=this.owner,d=r.parent.resolveTrumpetGainTarget(r);d.player.gainTrumpets(this.level,r,o,void 0,void 0,d.random),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},41795(O,S,i){i.d(S,{A:()=>e});var P=i(42619),c=i(20778),A=i(33340),_=A.A&&A.A.isMap;const e=_?(0,c.A)(_):P.A},41837(O,S,i){i.d(S,{E:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Platybelodon";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PlatybelodonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:a}=e,r=this.owner;let d=0;r.parent===t.player?d=t.playerRollAmount||0:r.parent===t.opponent&&(d=t.opponentRollAmount||0);let g=this.level*Math.min(d,8);if(g>0){const f=r.parent.resolveTrumpetGainTarget(r);f.player.gainTrumpets(g,r,a,void 0,void 0,f.random)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},41885(O,S,i){i.d(S,{A:()=>c});const c=function P(A,_){return A?.[_]}},41943(O,S,i){i.d(S,{z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bus";tier=1;pack="Turtle";hidden=!0;health=3;attack=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BusAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},42075(O,S,i){i.d(S,{u:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Orangutan";tier=3;pack="Star";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"OrangutanAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.parent.getLowestHealthPet(t),a=n.pet;if(!a)return void this.triggerTigerExecution(e);const o=3*this.level;a.increaseHealth(o),this.logService.createLog({message:`${t.name} gave ${a.name} +${o} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},42280(O,S,i){i.d(S,{A:()=>_});var P=i(16080);const _=function A(v){return(0,P.A)(v,4)}},42294(O,S,i){function P(v,e,t){for(const n of v.getTeam(e))v.triggerAbility(n,"FoodEatenByAny",e),v.triggerAbility(n,"FoodEatenByFriendly",e),n==e?(v.triggerAbility(n,"FoodEatenByThis",e),"apple"===t?(v.triggerAbility(n,"AppleEatenByThis",e),v.handleNumberedCounterTriggers(n,e,void 0,v.getNumberedTriggersForPet(n,"AppleEatenByThis"))):"corn"===t&&v.triggerAbility(n,"CornEatenByThis",e),v.handleNumberedCounterTriggers(n,e,void 0,v.getNumberedTriggersForPet(n,"Eat"))):(v.triggerAbility(n,"FoodEatenByFriend",e),"corn"===t&&v.triggerAbility(n,"CornEatenByFriend",e));for(const n of v.getTeam(e.parent?.opponent))v.triggerAbility(n,"FoodEatenByAny",e)}function c(v,e,t){for(const n of v.getTeam(e))v.triggerAbility(n,"FriendlyGainsPerk",e),"Strawberry"===t&&v.triggerAbility(n,"FriendlyGainedStrawberry",e),n==e?(v.triggerAbility(n,"ThisGainedPerk",e),"Strawberry"===t&&v.triggerAbility(n,"ThisGainedStrawberry",e)):(v.triggerAbility(n,"FriendGainsPerk",e),"Strawberry"===t&&v.triggerAbility(n,"FriendGainedStrawberry",e))}function A(v,e,t){for(const n of v.getTeam(e))v.triggerAbility(n,"PetLostPerk",e),"strawberry"===t&&v.triggerAbility(n,"LostStrawberry",e),n==e?v.triggerAbility(n,"ThisLostPerk",e):(v.triggerAbility(n,"FriendLostPerk",e),"strawberry"===t&&v.triggerAbility(n,"FriendLostStrawberry",e));for(const n of v.getTeam(e.parent?.opponent))v.triggerAbility(n,"PetLostPerk",e)}function _(v,e,t){for(const n of v.getTeam(e))v.triggerAbility(n,"AnyoneGainedAilment",e),v.triggerAbility(n,n==e?"ThisGainedAilment":"FriendGainsAilment",e),"weak"===t&&v.triggerAbility(n,"AnyoneGainedWeak",e);for(const n of v.getTeam(e.parent?.opponent))v.triggerAbility(n,"EnemyGainedAilment",e),v.triggerAbility(n,"AnyoneGainedAilment",e),"weak"===t&&v.triggerAbility(n,"AnyoneGainedWeak",e)}i.d(S,{$f:()=>_,Jo:()=>c,hu:()=>A,yB:()=>P})},42377(O,S,i){i.d(S,{j:()=>t});var P=i(46200),c=i(5615),A=i(1152),_=i(58857),v=i(61850),e=i(79222);class t extends P.i{logService;abilityService;petService;name="Hippogriff";tier=5;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,N,q){super(o,r,g),this.logService=o,this.abilityService=r,this.petService=d,this.initPet(L,f,D,k,N,q)}}class n extends c.T{logService;abilityService;petService;pendingBuffs=new Map;constructor(o,r,d,g){super({name:"Hippogriff Ability",owner:o,triggers:["FriendSummoned","EndTurn","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:f=>this.executeAbility(f)}),this.logService=r,this.abilityService=d,this.petService=g}executeAbility(o){const{trigger:r,triggerPet:d,gameApi:g}=o;if("FriendSummoned"===r){const L=(0,A.Uj)(this.owner,d);L.pet&&this.applyTemporaryBuff(L.pet,o,L.random)}else"EndTurn"===r?this.resetBuffs():"PostRemovalFaint"===r&&this.summonNextTierPet(g,o);this.triggerTigerExecution(o)}applyTemporaryBuff(o,r,d){const g=this.owner,f=this.level;o.increaseAttack(f);const D=this.pendingBuffs.get(o)??0;this.pendingBuffs.set(o,D+f),(0,A.rv)(this.logService,g,`${g.name} gave ${o.name} +${f} attack until next turn.`,r.tiger,r.pteranodon,{randomEvent:d})}resetBuffs(){for(const[o,r]of this.pendingBuffs)o&&o.increaseAttack(-r);this.pendingBuffs.clear()}summonNextTierPet(o,r){const d=this.owner;if(!o)return;const g=Number.isFinite(o.previousShopTier)?o.previousShopTier:1,f=Math.min(6,Math.max(1,g+1)),D=H=>(H??[]).filter(ae=>ae&&d.name&&ae.toLowerCase()!==d.name.toLowerCase()),k=d.parent===o.player?o.playerPetPool:o.opponentPetPool;let L=D(k?.get(f));if(L?.length||(L=D(this.petService.allPets.get(f))),L?.length||(L=D(this.petService.allPets.get(1))),!L.length)return;const N=(0,_.k6)({key:"pet.hippogriff-faint-summon",label:(0,e.I)(d,`Hippogriff tier ${f} summon`),options:L.map(H=>({id:H,label:H}))},()=>(0,v.hw)(0,L.length-1)),ne=5*this.level,Q=this.petService.createPet({name:L[N.index],attack:ne,equipment:null,exp:0,health:ne,mana:0},d.parent);d.parent.summonPet(Q,d.savedPosition,!1,d).success&&this.logService.createLog({message:`${d.name} spawned a ${Q.attack}/${Q.health} ${Q.name} from tier ${f}.`,type:"ability",player:d.parent,tiger:r.tiger,randomEvent:N.randomEvent,pteranodon:r.pteranodon})}copy(o){return new n(o,this.logService,this.abilityService,this.petService)}}},42381(O,S,i){i.d(S,{d:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Eel";tier=3;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Eel Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=.5*this.level,r=Math.floor(a.health*o);a.increaseHealth(r),this.logService.createLog({message:`${a.name} gained +${r} health (+${100*o}%).`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},42390(O,S,i){i.d(S,{T:()=>_});var P=i(46200),c=i(5615),A=i(85871);class _ extends P.i{logService;abilityService;name="Tree Kangaroo";tier=3;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"TreeKangarooAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{gameApi:n,tiger:o,pteranodon:r}=t,d=this.owner;let k=[...d.parent.getPetsWithEquipmentWithSillyFallback("perk",d),...d.parent.opponent.petArray.filter(q=>"Tree Kangaroo"==q.name),...d.parent.petArray.filter(q=>"Tree Kangaroo"==q.name)],L=d.parent.opponent.getLastPet(k,d),N=L.pet;N&&(N.givePetEquipment(new A.E),this.logService.createLog({message:`${d.name} gave ${N.name} Silly`,type:"ability",tiger:o,player:d.parent,randomEvent:L.random}));for(let q=0;q<this.level;q++){let Q=d.parent.getSpecificPet(d,N).pet;if(Q){this.logService.createLog({message:`${d.name} activated ${N.name}'s ability.`,type:"ability",tiger:o,player:d.parent,randomEvent:L.random});for(const $ of Q.abilityList)$.execute(n,Q,o,r)}}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},42495(O,S,i){i.d(S,{A:()=>c});const c=function P(A){var _=this.has(A)&&delete this.__data__[A];return this.size-=_?1:0,_}},42504(O,S,i){i.d(S,{f:()=>A});var P=i(50873);i(5615);class A extends P.L{name="Golden Harp";tier=4}},42589(O,S,i){i.d(S,{Y:()=>_});var P=i(46200),c=i(8178),A=i(5615);class _ extends P.i{logService;abilityService;name="Nessie";tier=5;pack="Unicorn";attack=3;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"NessieAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{gameApi:n,tiger:o,pteranodon:r}=t,d=this.owner,D=3*this.level,k=3*this.level;let L=D,N=k,q="";const ne=!d.parent.summonedBoatThisBattle;if(ne){const ae=(d.parent===n.player?n.playerRollAmount:n.opponentRollAmount)*this.level;L+=ae,N+=ae,d.parent.summonedBoatThisBattle=!0}L=Math.min(50,L),N=Math.min(50,N),ne&&(q=` It's the first Boat, so it gains +${Math.max(0,L-D)}/+${Math.max(0,N-k)}!`);let Q=new c.p(this.logService,this.abilityService,d.parent,N,L,0),$=d.parent.summonPet(Q,d.savedPosition,!1,d);$.success&&this.logService.createLog({message:`${d.name} spawned a Nessie? ${L}/${N}${q}`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:$.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},42619(O,S,i){i.d(S,{A:()=>v});var P=i(63080),c=i(42661);const v=function _(e){return(0,c.A)(e)&&"[object Map]"==(0,P.A)(e)}},42655(O,S,i){i.d(S,{A:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Zombie Fly";tier=1;pack="Turtle";hidden=!0;health=4;attack=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ZombieFlyAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},42661(O,S,i){i.d(S,{A:()=>c});const c=function P(A){return null!=A&&"object"==typeof A}},42697(O,S,i){i.d(S,{A:()=>t});var P=i(71861),c=i(26032),_=Object.prototype.propertyIsEnumerable,v=Object.getOwnPropertySymbols;const t=v?function(n){return null==n?[]:(n=Object(n),(0,P.A)(v(n),function(a){return _.call(n,a)}))}:c.A},42704(O,S,i){i.d(S,{Jd:()=>a,MR:()=>d,Nq:()=>e,O3:()=>_,Oc:()=>v,Rh:()=>o,UK:()=>A,_w:()=>r,gK:()=>t,p5:()=>f,vn:()=>g,xF:()=>n});var P=i(33524),c=i(77856);const A=(D,k,L,N)=>{if(L&&(0,P.ku)(L))return{pets:[...D.petArray,...D.opponent.petArray].filter(Q=>Q.alive),random:!1};let q=k?[...D.petArray,...D.opponent.petArray]:[...D.petArray];return N&&(q=q.filter(ne=>ne!==L)),q=q.filter(ne=>ne.alive),{pets:q,random:!1}},_=(D,k)=>{if(k&&(0,P.ku)(k))return(0,c.WB)(D,[k],!0);const L=D.getPet(2);return L&&!L.alive?{pet:null,random:!1}:{pet:L??null,random:!1}},v=(D,k,L)=>{if(L&&(0,P.ku)(L))return(0,c.WB)(D,[L],!0);for(const N of[...D.petArray].reverse())if(N.alive&&(!k||!k.includes(N)))return{pet:N,random:!1};return{pet:null,random:!1}},e=(D,k,L,N)=>{if(N&&(0,P.ku)(N))return(0,c.BR)(D,k,!0,[N]);const q=[...D.petArray].filter($=>$.alive&&(!L||!L.includes($)));return 0===q.length?{pets:[],random:!1}:{pets:[...q].reverse().slice(0,k),random:!1}},t=(D,k,L)=>{if(k&&(0,P.ku)(k))return(0,c.WB)(D,[k],!0);for(const N of D.petArray)if(N.alive){if(L&&L.includes(N))continue;return{pet:N,random:!1}}return{pet:null,random:!1}},n=(D,k,L,N)=>{if(N&&(0,P.ku)(N))return(0,c.BR)(D,k,!0,[N]);const q=[...D.petArray].filter(Q=>Q.alive&&(!L||!L.includes(Q)));return 0===q.length?{pets:[],random:!1}:{pets:q.slice(0,k),random:!1}},a=(D,k,L,N)=>{if(L&&(0,P.ku)(L)){const $=N?[...N]:[];return $.includes(L)||$.push(L),(0,c.BR)(D,k,!0,$)}return{pets:L.getPetsBehind(2*k).filter($=>!N||!N.includes($)).slice(0,k),random:!1}},o=(D,k)=>k&&(0,P.ku)(k)?(0,c.WB)(D,[k],!0):{pet:k,random:!1},r=(D,k,L)=>k&&(0,P.ku)(k)?(0,c.WB)(D,void 0,!0):L&&L.alive?{pet:L,random:!1}:{pet:null,random:!1},d=(D,k,L,N,q,ne)=>{if(L&&(0,P.ku)(L)){const H=N?[...N]:[];return H.includes(L)||H.push(L),(0,c.BR)(D,k,!0,H)}const Q=[];let $=L.petAhead;for(;$&&!(Q.length>=k);)ne&&$.equipment?.name===ne||(!N||!N.includes($))&&Q.push($),$=$.petAhead;if(Q.length<k&&q){let H=D.opponent.furthestUpPet;for(;H&&!(Q.length>=k);)ne&&H.equipment?.name===ne||(!N||!N.includes(H))&&Q.push(H),H=H.petBehind()}return{pets:Q,random:!1}},g=(D,k,L)=>{if(k&&(0,P.ku)(k))return(0,c.BR)(D,2*L,!0,[k]);const N=k.savedPosition,q=[];for(const ne of D.petArray)if(ne.alive&&ne!==k){const Q=Math.abs(ne.position-N);Q>0&&Q<=L&&q.push(ne)}for(const ne of D.opponent.petArray)ne.alive&&N+ne.position+1<=L&&q.push(ne);return{pets:q,random:!1}},f=(D,k)=>{if(k&&(0,P.ku)(k))return(0,c.WB)(D,[k],!0);const L=k.position;let N=(0,P.Ye)(D.opponent,L);if(N&&N.alive)return{pet:N,random:!1};for(let q=1;q<=4;q++){if(N=(0,P.Ye)(D.opponent,L+q),N&&N.alive)return{pet:N,random:!1};if(N=(0,P.Ye)(D.opponent,L-q),N&&N.alive)return{pet:N,random:!1}}return{pet:null,random:!1}}},42727(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mosquito";tier=1;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MosquitoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,r);for(let g of d.pets)null!=g&&r.snipePet(g,1,d.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},42797(O,S,i){i.d(S,{d:()=>_});var P=i(46200),c=i(5615),A=i(81226);class _ extends P.i{logService;abilityService;name="Bear";tier=3;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"BearAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner,g=this.level,f=d.savedPosition,D=[];for(const k of d.parent.petArray)if(k.alive){const L=Math.abs(k.position-f);L>0&&L<=g&&D.push(k)}for(const k of d.parent.opponent.petArray)k.alive&&f+k.position+1<=g&&D.push(k);for(let k of D)k.givePetEquipment(new A.c(this.logService,this.abilityService)),this.logService.createLog({message:`${d.name} gave ${k.name} Honey.`,type:"ability",player:d.parent,tiger:o,pteranodon:r});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},42798(O,S,i){i.d(S,{f:()=>_});var P=i(46200),c=i(5615),A=i(51838);class _ extends P.i{logService;abilityService;name="Wildebeest";tier=6;pack="Golden";attack=8;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"WildebeestAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,condition:a=>this.owner.parent.trumpets>=2,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getThis(d),f=g.pet;null!=f&&(f.givePetEquipment(new A.K),this.logService.createLog({message:`${d.name} gave itself a Coconut.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:g.random}),d.parent.spendTrumpets(2,d),this.triggerTigerExecution(t))}reset(){super.reset(),this.maxUses=this.level}copy(t){return new v(t,this.logService)}}},42814(O,S,i){i.d(S,{_:()=>P});class P{setAbilityEquipments(){"Eggplant"==this.equipment?.name?(this.equipment.callback(this.asPet()),this.eggplantTouched=!0):this.equipment?.callback&&this.equipment.callback(this.asPet())}getEquippedEquipmentInstance(A){return this.equipment??A}addAbility(A){this.abilityList.push(A)}removeAbility(A,_){const v=this.abilityList.length;return this.abilityList=this.abilityList.filter(e=>!(A&&e.name===A||_&&e.abilityType===_||!A&&!_)),this.abilityList.length<v}getAbilities(A,_){return this.abilityList.filter(v=>!(A&&!v.matchesTrigger(A)||_&&v.abilityType!==_))}getAbilitiesWithTrigger(A,_,v){return this.abilityList.filter(e=>!(A&&!e.matchesTrigger(A)||!e.canUse()||_&&e.abilityType!==_||v&&e.name!==v))}executeAbilities(A,_,v,e,t,n){if(this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(A,_,v,e,t,n);const a=this.getAbilitiesWithTrigger(A,"Pet");for(const r of a)if(r.execute(_,v,e,t,n),this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(A,_,v,e,t,n);const o=this.getAbilitiesWithTrigger(A,"Equipment");for(const r of o)if(r.execute(_,v,e,t,n),this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(A,_,v,e,t,n)}activateAbilities(A,_,v,e,t){const n=this.getAbilities(A,v);for(const a of n)a.execute(_,e,void 0,void 0,t)}copyAbilities(A,_,v){this.transferAbilities(A,_,v,!0)}gainAbilities(A,_,v){this.transferAbilities(A,_,v,!1)}transferAbilities(A,_,v,e){const t=A.getAbilities(void 0,_);e&&this.removeAbility(void 0,_);for(const n of t){const a=n.copy(this.asPet());if(null==a)continue;v&&(a.abilityLevel=v,a.alwaysIgnorePetLevel=!0,a.reset()),a.native=!1;const o=a.abilityFunction,r=A.name;a.abilityFunction=d=>{const g=this.name;this.name=`${this.baseName??g}'s ${r}`;try{o(d)}finally{this.name=g}},this.addAbility(a)}}hasAbility(A,_){return this.getAbilities(A,_).length>0}hasTrigger(A,_,v){return this.getAbilitiesWithTrigger(A,_,v).length>0}isSellPet(){return!!(["Beaver","Duck","Pig","Pillbug","Kiwi","Mouse","Frog","Bass","Tooth Billed Pigeon","Marmoset","Capybara","Platypus"].includes(this.name)||this.originalAbilityList.filter(_=>_.matchesTrigger("ThisSold")&&"Pet"==_.abilityType).length>0)}isFaintPet(){return this.originalAbilityList.filter(A=>(A.matchesTrigger("PostRemovalFaint")||A.matchesTrigger("Faint"))&&"Pet"==A.abilityType).length>0}asPet(){return this}}},42824(O,S,i){i.d(S,{L:()=>v});var P=i(46200),c=i(5615),A=i(29886),_=i(1152);class v extends P.i{logService;abilityService;name="Betta Fish";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;targetedPets=new Set;constructor(n,a){super({name:"Betta Fish Ability",owner:n,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:o=>{const{triggerPet:r}=o,d=this.owner;if(!(0,_.Re)(d,r,{excludeOwner:!0}))return!1;const f=(0,_.lK)(d,r).pet;return!!f&&!this.targetedPets.has(f)},abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}reset(){this.maxUses=this.level,this.targetedPets.clear(),super.reset()}executeAbility(n){const{triggerPet:o,tiger:r}=n,g=this.owner;if(!o)return;const D=(0,_.lK)(g,o).pet;D&&(this.targetedPets.add(D),D.givePetEquipment(new A.B),this.logService.createLog({message:`${g.name} gave ${D.name} Guava.`,type:"ability",player:g.parent,tiger:r}),this.triggerTigerExecution(n))}copy(n){return new e(n,this.logService)}}},42916(O,S,i){i.d(S,{W:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Tarantula Hawk";tier=6;pack="Custom";health=2;attack=10;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TarantulaHawkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner,d=Math.floor(r.attack/10);if(d<=0)return;let f=r.parent.opponent.getAll(!1,r).pets;if(0!=f.length){for(let D=0;D<d;D++)for(let k of f){const L=this.formatPositionArg(r),N=this.formatPositionArg(k);k.increaseHealth(-this.level),this.logService.createLog({message:`[${L}->${N}] ${r.name} removed ${this.level} health from ${k.name}.`,type:"ability",player:r.parent,sourcePet:r,targetPet:k,sourceIndex:r.savedPosition+1,targetIndex:k.savedPosition+1,targetIsOpponent:k.parent?.isOpponent,tiger:a,pteranodon:o})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}formatPositionArg(e){const t=e.parent?.isOpponent?"O":"P",n=Number.isFinite(e.savedPosition)?Math.trunc(e.savedPosition)+1:1;return`${t}${Math.min(Math.max(n,1),5)}`}}},42917(O,S,i){i.d(S,{A:()=>e});var P=i(35776),c=i(97939),_=Object.prototype.hasOwnProperty;const e=function v(t){if(!(0,P.A)(t))return(0,c.A)(t);var n=[];for(var a in Object(t))_.call(t,a)&&"constructor"!=a&&n.push(a);return n}},43125(O,S,i){i.d(S,{Y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Sealion";tier=4;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"SealionAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level,a=this.level,o=[];let r=t.petBehind();for(;r;)o.push(r),r=r.petBehind();const d=[];let g=t.petAhead;for(;g;)d.push(g),g=g.petAhead;for(const f of o)f.increaseAttack(n);for(const f of d)f.increaseHealth(a);(o.length>0||d.length>0)&&this.logService.createLog({message:`${t.name} gave friends behind +${n} attack and friends ahead +${a} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:o.length+d.length>1}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},43378(O,S,i){i.d(S,{A:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Butterfly";tier=1;pack="Puppy";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ButterflyAbility",owner:e,triggers:["ThisTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;if(!r.alive)return;let g=r.parent.opponent.getStrongestPet(r);g.pet&&(r.health=g.pet.health,r.attack=g.pet.attack,this.logService.createLog({message:`${r.name} copied stats from the strongest enemy (${r.attack}/${r.health}).`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},43422(O,S,i){i.d(S,{Q:()=>_});var P=i(46200),c=i(5615),A=i(51838);class _ extends P.i{logService;abilityService;name="Coconut Crab";tier=6;pack="Custom";attack=4;health=8;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;hasCoconut=!1;constructor(t,n){super({name:"Coconut Crab Ability",owner:t,triggers:["Eat2","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner;if("StartTurn"!==t.trigger){if("Eat2"===t.trigger){const a=new A.K;a.uses=this.level,a.originalUses=this.level,n.givePetEquipment(a),this.hasCoconut=!0,this.logService.createLog({message:`${n.name} gained Coconut perk that works ${1===this.level?"once":2===this.level?"twice":"thrice"} until next turn.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}}else this.hasCoconut&&(n.removePerk(!0),this.hasCoconut=!1)}copy(t){return new v(t,this.logService)}}},43592(O,S,i){i.d(S,{S:()=>c});var P=i(22097);class c extends P.${name="Walnut";tier=1;equipmentClass="shield";power=2;originalPower=2;uses=1;originalUses=1}},43681(O,S,i){i.d(S,{h:()=>g});var P=i(22097),c=i(86785),A=i(90966),_=i(17385),v=i(33127),e=i(78833),t=i(4902),n=i(83028),a=i(47868),o=i(24111),r=i(49230),d=i(1744);let g=(()=>{class f{logService;abilityService;gameService;equipmentService;equipmentCache=new Map;constructor(k,L,N,q){this.logService=k,this.abilityService=L,this.gameService=N,this.equipmentService=q,this.logService=(0,n.V)(this.logService)}createPet(k,L,N,q,ne){const Q=k.constructor,$=k.parent,H=ne??(0,c.l)(k.level);for(const ae of t.M3)if(k instanceof ae)return new ae(this.logService,this.abilityService,L,this.gameService,$,q,N,0,H);return t.JL.includes(Q)?new Q(this.logService,this.abilityService,L,$,q,N,0,H):new Q(this.logService,this.abilityService,$,q,N,0,H)}createPetFromForm(k,L,N,q){const ne=this.normalizePetForm(k),Q=this.getPetBuildPlan(ne,q),$=this.resolveEquipment(Q.equipmentValue,Q.equipmentUses),{name:H,health:ae,attack:re,mana:_e,exp:be,triggersConsumed:Ee,foodsEaten:ke,battlesFought:de}=ne;let Te=ne.hasRandomEvents;void 0===Te&&"function"==typeof N.isPetRandom&&(Te=N.isPetRandom(H));const pt=We=>We&&Q.needsPostInit?(We=>{if(!We)return We;if(null!=ke){const tt=Number(ke);Number.isFinite(tt)&&(We.foodsEaten=tt,We.originalFoodsEaten=tt)}if(Q.hasTimesHurt&&null!=ne.timesHurt&&(We.timesHurt=ne.timesHurt,We.originalTimesHurt=ne.timesHurt),null!=de){const tt=Number(de);Number.isFinite(tt)&&(We.battlesFought=Math.max(0,Math.floor(tt)))}return Te&&(We.hasRandomEvents=!0),We})((We=>(!Q.hasParrotData||"Parrot"!==We?.name||(0,e.YW)(We,ne,e.Kq),We))((We=>(We&&(Q.hasSarcastic||Q.hasFriendsDied)&&(We.sarcasticFringeheadSwallowedPet=ne.sarcasticFringeheadSwallowedPet??null,We.friendsDiedBeforeBattle=ne.friendsDiedBeforeBattle??0),We))((We=>(!Q.hasAbominationData||"Abomination"!==We?.name||(0,e.YW)(We,ne,e.JX),We))(Q.hasEquipmentUses?this.applyEquipmentUsesOverride(We,ne):We)))):We;if("gameservice"===Q.builderKind&&Q.PetClass)return pt(new(0,Q.PetClass)(this.logService,this.abilityService,N,this.gameService,L,ae,re,_e,be,$,Ee));if("special"===Q.builderKind&&Q.specialBuilder){const We={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService},tt={...ne,equipment:$};return pt(Q.specialBuilder(We,tt,L,N))}return"petservice"===Q.builderKind&&Q.PetClass?pt(new(0,Q.PetClass)(this.logService,this.abilityService,N,L,ae,re,_e,be,$,Ee)):"registry"===Q.builderKind&&Q.PetClass?pt(new(0,Q.PetClass)(this.logService,this.abilityService,L,ae,re,_e,be,$,Ee)):null}applyEquipmentUsesOverride(k,L){return k&&(null!=L.equipmentUses&&(k.equipmentUsesOverride=L.equipmentUses),k)}resolveEquipmentFromForm(k,L){return this.resolveEquipment(k,L)}resolveEquipment(k,L){const N=L??("number"==typeof k?.uses?k.uses:null);if(k instanceof P.$){const _e=(0,_.e)(k);if(null!=N){const be=Number(N);Number.isFinite(be)&&(_e.uses=be,_e.originalUses=be)}return _e}const q=this.getEquipmentName(k);if(!q)return null;const ne=v.I.getInjector(),Q=this.equipmentService??(ne?ne.get(A.m):null);if(!Q)return null;const $=Q.getInstanceOfAllEquipment(),H=Q.getInstanceOfAllAilments(),ae=$.get(q)??H.get(q);if(!ae)return null;const re=(0,_.e)(ae);if(null!=N){const _e=Number(N);Number.isFinite(_e)&&(re.uses=_e,re.originalUses=_e)}return re}getEquipmentName(k){return k?"string"==typeof k?k:("string"==typeof k.name?k.name:null)||null:null}getPetBuildPlan(k,L){const N=k.name,q=null!=k.equipmentUses,ne="Parrot"===k.name&&(0,e.A_)(k,e.Kq),Q="Abomination"===k.name&&(0,e.A_)(k,e.JX),$=null!=k.sarcasticFringeheadSwallowedPet,H=(k.friendsDiedBeforeBattle??0)>0,ae=(k.timesHurt??0)>0;let Ee,ke,be="missing";return t.Iq[N]?(be="gameservice",Ee=t.Iq[N]):t.ul[N]?(be="special",ke=t.ul[N]):t.Db[N]?(be="petservice",Ee=t.Db[N]):L[N]&&(be="registry",Ee=L[N]),{name:N,builderKind:be,PetClass:Ee,specialBuilder:ke,needsPostInit:q||ne||Q||$||H||ae||null!=k.foodsEaten,hasParrotData:ne,hasAbominationData:Q,hasSarcastic:$,hasFriendsDied:H,hasTimesHurt:ae,hasEquipmentUses:q,equipmentValue:k.equipment??null,equipmentUses:k.equipmentUses??null}}normalizePetForm(k){if("Abomination"!==k.name)return k;const L={...k},N=L,q=[1,2,3];for(const ae of q){const re=`abominationSwallowedPet${ae}`,_e=`abominationSwallowedPet${ae}Level`,be=`abominationSwallowedPet${ae}TimesHurt`,Ee=`abominationSwallowedPet${ae}BelugaSwallowedPet`,ke=N[re],de="string"==typeof ke&&ke.trim().length>0?ke:null;de?"Beluga Whale"!==de&&(N[Ee]=null):(N[re]=null,N[_e]=1,N[be]=0,N[Ee]=null)}const Q=q.some(ae=>"Behemoth"===N[`abominationSwallowedPet${ae}`])?100:50,$=this.clampFiniteNumber(L.attack,0,Q);null!=$&&(L.attack=$);const H=this.clampFiniteNumber(L.health,0,Q);return null!=H&&(L.health=H),L}clampFiniteNumber(k,L,N){return"number"==typeof k&&Number.isFinite(k)?Math.min(N,Math.max(L,k)):null}static \u0275fac=function(L){return new(L||f)(a.KVO(o.K),a.KVO(r.K),a.KVO(d.w),a.KVO(A.m))};static \u0275prov=a.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},43714(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Great Potoo";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Great Potoo Ability",owner:e,triggers:["AnyoneHurt"],abilityType:"Pet",native:!0,maxUses:5,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,n=this.owner;if(!0!==t.FirstNonJumpAttackHappened){const o=2*this.level;n.increaseHealth(o),this.logService.createLog({message:`${n.name} gained +${o} health from AnyoneHurt (before any attacks).`,type:"ability",player:n.parent})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},43726(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Sauropod";tier=6;pack="Puppy";attack=4;health=12;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,n){super({name:"SauropodAbility",owner:e,triggers:["FriendlyGainsPerk","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const n=this.level;this.usesThisTurn++,this.logService.createLog({message:`${t.name} will give +${n} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},43744(O,S,i){i.d(S,{A:()=>c});const c=Array.isArray},43783(O,S,i){i.d(S,{s:()=>v});var P=i(22097),c=i(5615),A=i(33127),_=i(24111);class v extends P.${name="Cauliflower";equipmentClass="shop";callback=n=>{const a=n.getEquippedEquipmentInstance(this);n.addAbility(new e(n,a))}}class e extends c.T{equipment;logService;constructor(n,a){super({name:"CauliflowerAbility",owner:n,triggers:["KnockOut"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:o=>this.executeAbility(o)}),this.equipment=a,this.logService=A.I.getInjector().get(_.K)}executeAbility(n){const a=this.owner;if(!a.alive)return void a.removePerk();const o=1*this.equipment.multiplier;a.increaseAttack(o),a.increaseHealth(o),this.logService.createLog({message:`${a.name} gained +${o} attack and +${o} health. (Cauliflower)${this.equipment.multiplierMessage}`,type:"equipment",player:a.parent}),a.removePerk()}}},43870(O,S,i){i.d(S,{C:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Monkey-Faced Bat";tier=3;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MonkeyFacedBatAbility",owner:e,triggers:["AnyoneBehindHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getRandomPets(2,[],!0,!1,r);for(let g of d.pets)if(null!=g){let f={attack:this.level,health:2*this.level};g.increaseAttack(f.attack),g.increaseHealth(f.health),this.logService.createLog({message:`${r.name} gave ${g.name} ${f.attack} attack and ${f.health} health`,type:"ability",player:r.parent,randomEvent:d.random,tiger:a})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},43959(O,S,i){i.d(S,{t:()=>zt});var P=i(38271),c=i(90021),A=i(84968),_=i(25240),v=i(75998),e=i(13322),t=i(81658),n=i(53654),a=i(72445),o=i(95966),r=i(64255),d=i(27376),g=i(55577),f=i(65033),D=i(79099),k=i(99953),L=i(45686),N=i(44746),q=i(34122),ne=i(22266),Q=i(66948),$=i(21499),H=i(88034),ae=i(3836),re=i(50795),_e=i(22312),be=i(53108),Ee=i(7234),ke=i(42075),de=i(79520),Te=i(50342),Ne=i(91589),Ge=i(32480),Ie=i(82491),gt=i(91982),pt=i(76563),We=i(26624),tt=i(6267),At=i(82967),nt=i(9215),et=i(80337),Dt=i(75540),ct=i(59370),vt=i(89732),rt=i(6172),He=i(75818),kt=i(88184),Xt=i(5021),it=i(5492),$t=i(61313),Et=i(9695),ge=i(4942),we=i(23238),Ve=i(27694),Fe=i(3332),ot=i(83355),Bt=i(57511),Rt=i(24233),qt=i(14469);const zt={Pillbug:P.s,Cockroach:c.A,Frog:A.F,Hummingbird:_.F,Marmoset:v.t,Pheasant:e.$,Kiwi:t.Z,Chihuahua:n.p,Firefly:a.s,Koala:r.Z,Salamander:g.L,"Guinea Pig":f.A,Jellyfish:D.Z,Dove:k.H,"Dumbo Octopus":d.h,Bass:q.C,Leech:$.c,Woodpecker:et.M,Toad:ae.L,Starfish:Dt.P,Clownfish:de.u,Blobfish:nt.u,Capybara:re.I,Okapi:_e.d,Cassowary:be.Z,Anteater:Ee.l,Orangutan:ke.u,Hawk:gt.y,Platypus:pt.V,"Praying Mantis":We.L,Donkey:tt.$,"Fairy Armadillo":Ge.p,Fossa:Ie.D,Siamese:Te.y,Elk:Ne.B,Sparrow:At.b,Swordfish:vt.K,Triceratops:rt.N,Hamster:He.V,Shoebill:kt.$,Vulture:Xt.g,Ibex:it.V,Ostrich:$t.N,Reindeer:Et.f,Piranha:ge.Q,"Real Velociraptor":we.M,Spinosaurus:ot.b,Alpaca:Bt.V,Velociraptor:Rt.n,Ammonite:qt.j,Cardinal:Q.v,Orca:Fe.s,Pelican:ct.R6,"Sabertooth Tiger":Ve.f,"Shima Enaga":N.J,Stork:L.i,Tuna:H.n,Iguana:o.i,Pug:ne.T}},44071(O,S,i){i.d(S,{y:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Venus Flytrap";tier=5;pack="Custom";attack=2;health=7;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},44279(O,S,i){i.d(S,{c:()=>_});var P=i(27389),c=i(84385),A=i(32496);function _(v,e){return e?(0,A.V)(v,e):new P.c((0,c.v)(v))}},44314(O,S,i){i.d(S,{A:()=>A});var P=i(75152);const A=function c(_,v){var e=v?(0,P.A)(_.buffer):_.buffer;return new _.constructor(e,_.byteOffset,_.length)}},44398(O,S,i){i.d(S,{m:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Spoon-Billed Sandpiper";tier=3;pack="Danger";attack=3;health=2;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},44402(O,S,i){i.d(S,{m:()=>c});var P=i(22097);class c extends P.${name="Melon";tier=6;equipmentClass="shield";power=20;originalPower=20;uses=1;originalUses=1}},44519(O,S,i){i.d(S,{H:()=>c});var P=i(22097);class c extends P.${name="Pepper";equipmentClass="shield";uses=1;originalUses=1;power=0;originalPower=0}},44708(O,S,i){i.d(S,{q:()=>e});var P=i(75263),c=i(60385),A=i(56518),_=i(76282),v=i(42814);class e extends v._{givePetEquipment(n,a=1){if(null!=n){if(this.alive){if("Bloated"===this.equipment?.name&&!n.equipmentClass?.startsWith("ailment"))return this.logService.createLog({message:`${this.name} blocked gaining ${n.name}. (Bloated)`,type:"equipment",player:this.parent}),void this.removePerk();if(!this.handleCorncobEquipment(n))if("ailment-attack"==n.equipmentClass||"ailment-defense"==n.equipmentClass||"ailment-other"==n.equipmentClass){if(this.applyAilmentEquipment(n,a))return}else this.applyStandardEquipment(n,a)}}else console.warn(`givePetEquipment called with null equipment for pet: ${this.name}`)}applyEquipment(n,a=1){null!=n&&(this.equipment=n,this.setEquipmentMultiplier(a),this.removeAbility(void 0,"Equipment"),this.equipment.callback&&this.equipment.callback(this.asPet()))}removePerk(n=!1){if(null==this.equipment)return;let a="ailment-attack"==this.equipment.equipmentClass||"ailment-defense"==this.equipment.equipmentClass||"ailment-other"==this.equipment.equipmentClass;n&&a||(this.lastLostEquipment=this.equipment,this.removeAbility(void 0,"Equipment"),this.equipment=null,a||this.abilityService.triggerPerkLossEvents(this.asPet(),this.lastLostEquipment?.name))}setEquipmentMultiplier(n=1){if(!this.equipment)return;let a=this.equipment.baseMultiplier??1;const o=this.equipment.multiplier??1;1===a&&1!==o&&(a=o),this.equipment.baseMultiplier=a;let r=a,d=[];const g=this.getPantherEquipmentMultiplierLevel();g>0&&"ailment-attack"!==this.equipment.equipmentClass&&"ailment-defense"!==this.equipment.equipmentClass&&"ailment-other"!==this.equipment.equipmentClass&&(r+=g,d.push(`x${g+1} (Panther)`)),n&&n>1&&(r+=n-1,d.push(`x${n} (Pandora's Box)`)),this.equipment.multiplier=r,this.equipment.multiplierMessage=d.length>0?` ${d.join(" ")}`:""}getPantherEquipmentMultiplierLevel(){const n=this.abilityList.filter(a=>"PantherAbility"===a.name).map(a=>Number(a.abilityLevel)).filter(a=>Number.isFinite(a)&&a>0);return 0===n.length?0:Math.max(...n)}handleCorncobEquipment(n){if("Corncob"!==n.name)return!1;const o=Math.max(1,Math.floor(n.effectMultiplier??1));return this.attack<=this.health?this.increaseAttack(o):this.increaseHealth(o),this.abilityService.triggerFoodEvents(this.asPet(),"corn"),!0}applyAilmentEquipment(n,a){return!(this.equipment?.name!==n.name&&(this.equipment instanceof P.B?(this.equipment.uses--,this.logService.createLog({message:`${this.name} blocked ${n.name}. (Ambrosia)`,type:"equipment",player:this.parent}),0==this.equipment.uses&&this.removePerk(),0):this.equipment instanceof c.f?(this.logService.createLog({message:`${this.name} blocked ${n.name}. (White Okra)`,type:"equipment",player:this.parent}),this.removePerk(),0):this.equipment instanceof A.q&&this.getSparrowLevel()>0&&this.equipment.uses>0?(this.logService.createLog({message:`${this.name} blocked ${n.name}. (Strawberry)`,type:"equipment",player:this.parent}),this.removePerk(),0):(null!=this.equipment&&this.removePerk(!0),this.applyEquipment(n,a),this.abilityService.triggerAilmentGainEvents(this.asPet(),n.name),0)))}applyStandardEquipment(n,a){if(n instanceof _.a){this.applyEquipment(n,a);const o=1*n.multiplier,r=2*n.multiplier;this.increaseAttack(o),this.increaseHealth(r),this.logService.createLog({message:`${this.name} gained ${o} attack and ${r} health (Blackberry)${n.multiplierMessage}`,type:"equipment",player:this.parent})}else this.applyEquipment(n,a);this.abilityService.triggerPerkGainEvents(this.asPet(),n.name),this.abilityService.triggerFoodEvents(this.asPet(),n.name)}}},44746(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Shima Enaga";tier=2;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}class _ extends c.T{logService;abilityService;petService;constructor(e,t,n,a){super({name:"ShimaEnagaAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,condition:o=>{const{triggerPet:r}=o;return r&&"Strawberry"==r.equipment?.name},abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=n,this.petService=a}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let d=2*this.level,g=this.petService.createPet({name:r.name,attack:d,health:d,equipment:null,exp:0,mana:0},r.parent);r.parent.summonPet(g,n.position,!1,r).success&&this.logService.createLog({message:`${r.name} summoned a (${d}/${d}) Shima Enaga`,type:"ability",player:r.parent,tiger:a,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService,this.petService)}}},44870(O,S,i){i.d(S,{m:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Swan";tier=2;pack="Turtle";health=2;attack=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SwanAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},44876(O,S,i){i.d(S,{C:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Nyala";tier=5;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"NyalaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{pteranodon:o}=e,r=this.owner,d=r.parent.resolveTrumpetGainTarget(r);d.player.gainTrumpets(8*this.level,r,o,void 0,void 0,d.random),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},44937(O,S,i){i.d(S,{s:()=>c});var P=i(47868);let c=(()=>{class A{key="sapData";constructor(){}getStorage(){return window.localStorage.getItem(this.key),window.localStorage.getItem(this.key)}setFormStorage(v){this.setStorage(v.value)}setStorage(v){if("object"==typeof v&&null!==v){const e=new Set,t=(n,a)=>{if("equipment"===n&&"object"==typeof a&&null!==a&&"name"in a){const o="string"==typeof a.name?a.name:null;return o?{name:o}:null}if(!["parent","logService","abilityService","gameService","petService"].includes(n)){if("object"==typeof a&&null!==a){if(e.has(a))return;e.add(a)}return a}};try{const n=JSON.stringify(v,t);window.localStorage.setItem(this.key,n)}catch(n){console.error("Could not stringify value for local storage",n)}}else"string"==typeof v&&window.localStorage.setItem(this.key,v)}clearStorage(){window.localStorage.removeItem(this.key)}static \u0275fac=function(e){return new(e||A)};static \u0275prov=P.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},45035(O,S,i){i.d(S,{t:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Caladrius";tier=3;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Caladrius Ability",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:n,pteranodon:a}=e,o=this.owner;if(t&&t.parent===o.parent&&t!==o&&t.mana>=3){const r=2*this.level;t.mana-=3,t.increaseAttack(r),t.increaseHealth(r),this.logService.createLog({message:`${o.name} spent 3 mana from ${t.name} to give it +${r}/+${r}.`,type:"ability",player:o.parent,tiger:n,pteranodon:a})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},45286(O,S,i){i.d(S,{B7:()=>n});var P=i(27389),c=i(70762),A=i(31805),_=i(2145),v=i(21259),e=i(40091);class t extends c.v{constructor(r){super(r),this.destination=r}}let n=(()=>{class o extends P.c{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[e.D](){return new t(this)}lift(d){const g=new a(this,this);return g.operator=d,g}next(d){if(this.closed)throw new _.P;if(!this.isStopped){const{observers:g}=this,f=g.length,D=g.slice();for(let k=0;k<f;k++)D[k].next(d)}}error(d){if(this.closed)throw new _.P;this.hasError=!0,this.thrownError=d,this.isStopped=!0;const{observers:g}=this,f=g.length,D=g.slice();for(let k=0;k<f;k++)D[k].error(d);this.observers.length=0}complete(){if(this.closed)throw new _.P;this.isStopped=!0;const{observers:d}=this,g=d.length,f=d.slice();for(let D=0;D<g;D++)f[D].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(d){if(this.closed)throw new _.P;return super._trySubscribe(d)}_subscribe(d){if(this.closed)throw new _.P;return this.hasError?(d.error(this.thrownError),A.y.EMPTY):this.isStopped?(d.complete(),A.y.EMPTY):(this.observers.push(d),new v.Y(this,d))}asObservable(){const d=new P.c;return d.source=this,d}}return o.create=(r,d)=>new a(r,d),o})();class a extends n{constructor(r,d){super(),this.destination=r,this.source=d}next(r){const{destination:d}=this;d&&d.next&&d.next(r)}error(r){const{destination:d}=this;d&&d.error&&this.destination.error(r)}complete(){const{destination:r}=this;r&&r.complete&&this.destination.complete()}_subscribe(r){const{source:d}=this;return d?this.source.subscribe(r):A.y.EMPTY}}},45312(O,S,i){i.d(S,{E:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Puma";tier=6;pack="Puppy";attack=6;health=5;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},45525(O,S,i){i.d(S,{A:()=>_});var P=i(33126),c=i(41885);const _=function A(v,e){var t=(0,c.A)(v,e);return(0,P.A)(t)?t:void 0}},45575(O,S,i){i.d(S,{q:()=>_,s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Fairy";tier=4;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new _(this)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{constructor(e){super({name:"FairyAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:t=>{this.executeAbility(t)}})}executeAbility(e){}copy(e){return new _(e)}}},45651(O,S,i){i.d(S,{K:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Salmon of Knowledge";tier=5;pack="Unicorn";attack=5;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SalmonOfKnowledgeAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=2*this.level,g=[],f=r.parent.getFurthestUpPets(2,[r],r);g.push(...f.pets);let D=r.parent.opponent.getFurthestUpPets(2,void 0,r);g.push(...D.pets);for(let k of g)this.logService.createLog({message:`${r.name} gave ${k.name} ${d} exp.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random||D.random}),k.increaseExp(d);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},45686(O,S,i){i.d(S,{i:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;petService;name="Stork";tier=2;pack="Star";attack=3;health=1;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L,N){super(a,o,d),this.logService=a,this.abilityService=o,this.petService=r,this.initPet(k,g,f,D,L,N)}}class t extends c.T{logService;abilityService;petService;constructor(a,o,r,d){super({name:"StorkAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=o,this.abilityService=r,this.petService=d}executeAbility(a){const{gameApi:o,tiger:d,pteranodon:g}=a,f=this.owner;let D=Math.max(1,o.previousShopTier-1);const k=H=>(H??[]).filter(ae=>ae&&f.name&&ae.toLowerCase()!==f.name.toLowerCase());let L=k(this.petService.allPets.get(D));if(L.length||(L=k(this.petService.allPets.get(1))),!L.length)return void this.triggerTigerExecution(a);const N=(0,A.k6)({key:"pet.stork-faint-summon",label:(0,v.I)(f,"Stork faint summon"),options:L.map(H=>({id:H,label:H}))},()=>(0,_.hw)(0,L.length-1));let ne=o.oldStork,Q=this.petService.createPet({name:L[N.index],attack:ne?null:2*this.level,equipment:null,exp:f.minExpForLevel,health:ne?null:2*this.level,mana:0},f.parent);f.parent.summonPet(Q,f.savedPosition,!1,f).success&&this.logService.createLog({message:`${f.name} spawned ${Q.name} Level ${this.level}`,type:"ability",player:f.parent,tiger:d,randomEvent:N.randomEvent,pteranodon:g}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService,this.petService)}}},45722(O,S,i){i.d(S,{s:()=>P});const P="function"==typeof Symbol&&Symbol.observable||"@@observable"},45925(O,S,i){i.d(S,{f:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Estemmenosuchus";tier=5;pack="Custom";attack=4;health=6;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class _ extends P.i{name="Estemmenosuchus's Ally";tier=1;pack="Custom";attack=1;health=1;initAbilities(){}constructor(t,n,a,o,r){super(t,n,a),this.initPet(0,r,o,0,void 0,0)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"Estemmenosuchus Ability",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>this.executeAbility(o)}),this.logService=n,this.abilityService=a}countAilments(){return this.owner.parent.petArray.filter(n=>{const a=n?.equipment?.equipmentClass;return!!a&&a.startsWith("ailment")}).length}executeAbility(t){const n=this.owner,a=Math.max(0,this.countAilments()),o=3+a,r=Math.min(this.level,3),d=n.position??n.savedPosition??0;let g=0;for(let f=0;f<r;f++){const D=new _(this.logService,this.abilityService,n.parent,o,o);if(!n.parent.summonPet(D,d,!1,n).success)break;g++}g>0&&this.logService.createLog({message:`${n.name} summoned ${g} 3/3 friend${1===g?"":"s"} with +${a}/+${a}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},46021(O,S,i){i.d(S,{w:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;name="Cockatoo";tier=4;pack="Golden";attack=4;health=2;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;abilityService;constructor(a,o,r){super({name:"CockatooAbility",owner:a,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.abilityService=r}executeAbility(a){const o=this.owner,r=o.parent.petArray.filter(L=>L.alive&&L!==o);if(0===r.length)return void this.triggerTigerExecution(a);let d=Math.max(...r.map(L=>L.tier));const g=r.filter(L=>L.tier===d),f=(0,A.k6)({key:"pet.cockatoo-bought-target",label:(0,v.I)(o,"Cockatoo bought target"),options:g.map(L=>({id:`${L.savedPosition+1}:${L.name}`,label:`P${L.savedPosition+1} ${L.name}`}))},()=>(0,_.hw)(0,g.length-1)),D=g[f.index],k=2*this.level;D.increaseAttack(k),D.increaseHealth(k),this.logService.createLog({message:`${o.name} gave ${D.name} +${k}/+${k}.`,type:"ability",player:o.parent,tiger:a.tiger,pteranodon:a.pteranodon,randomEvent:f.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},46138(O,S,i){i.d(S,{n:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Chimpanzee";tier=6;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Chimpanzee Ability",owner:t,triggers:["CornEatenByFriend"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const d=(0,A.lK)(this.owner,a.triggerPet).pet;return!!d&&d.alive},abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=(0,A.lK)(n,t.triggerPet),o=a.pet;if(!o)return void this.triggerTigerExecution(t);const r=this.level;o.increaseAttack(r),o.increaseHealth(r),this.logService.createLog({message:`${n.name} gave ${o.name} +${r}/+${r} after eating Corncob.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:a.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},46200(O,S,i){i.d(S,{i:()=>A});var P=i(80152),c=i(83028);class A extends P.O{logService;abilityService;name;baseName;tier;pack;hidden=!1;parent;health;attack;exp=0;equipment;equipmentUsesOverride;mana=0;suppressManaSnipeOnFaint=!1;triggersConsumed=0;foodsEaten=0;sellValue=1;baseSellValue=1;swallowedPets=[];belugaSwallowedPet=null;parrotCopyPet=null;parrotCopyPetBelugaSwallowedPet=null;sarcasticFringeheadSwallowedPet;friendsDiedBeforeBattle=0;timesHurt=0;timesAttacked=0;battlesFought=0;currentTarget;lastAttacker;killedBy;transformedInto=null;lastLostEquipment;abilityCounter=0;targettedFriends=new Set;originalHealth;originalAttack;originalMana;originalTriggersConsumed;originalFoodsEaten;originalEquipment;originalExp=0;originalTimesHurt=0;faintPet=!1;toyPet=!1;transformed=!1;removed=!1;startOfBattleTriggered=!1;jumped=!1;done=!1;seenDead=!1;eggplantTouched=!1;cherryTouched=!1;clearFrontTriggered=!1;maxAbilityUses=null;abilityList=[];originalAbilityList=[];savedPosition;originalSavedPosition;hasRandomEvents=!1;constructor(v,e,t){super(),this.logService=v,this.abilityService=e,(0,c.L)(this),this.parent=t}initPet(v,e,t,n,a,o){this.baseName=this.baseName??this.name;const r=v??this.exp??0;this.exp=r,this.health=e??this.health+r,this.attack=t??this.attack+r,this.mana=n??this.mana,this.triggersConsumed=o??this.triggersConsumed,this.originalHealth=this.health,this.originalAttack=this.attack,this.originalMana=this.mana,this.originalTriggersConsumed=this.triggersConsumed,this.originalFoodsEaten=this.foodsEaten,this.equipment=a,this.originalEquipment=a,this.originalExp=this.exp,this.baseSellValue=this.level,this.sellValue=this.baseSellValue,this.initAbilities(),this.originalAbilityList=[...this.abilityList]}}},46300(O,S,i){i.d(S,{R:()=>c});var P=i(22097);class c extends P.${name="Donut";equipmentClass="target";constructor(){super()}}},46398(O,S,i){i.d(S,{z:()=>_});var P=i(46200),c=i(5615),A=i(56518);class _ extends P.i{logService;abilityService;name="Roadrunner";tier=2;pack="Custom";attack=4;health=1;constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}}class v extends c.T{logService;constructor(t,n){super({name:"Roadrunner Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const a=this.owner,o=this.level,d=a.parent.petArray.filter(g=>g.alive&&g.position<a.position).sort((g,f)=>f.position-g.position).slice(0,o);for(const g of d){const f=new A.q(this.logService);f&&g.applyEquipment(f),g.attack+=2,this.logService.createLog({message:`${a.name} gave Strawberry and +2 attack to ${g.name}.`,type:"ability",player:a.parent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},46482(O,S,i){i.d(S,{u:()=>_});var P=i(46200),c=i(5615),A=i(21844);class _ extends P.i{logService;abilityService;name="Fruit Fly";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"FruitFlyAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner;let r=o.parent.getOppositeEnemyPet(o),d=r.pet;null!=d&&(d.givePetEquipment(new A.z),this.logService.createLog({message:`${o.name} gave ${d.name} Blueberry.`,type:"ability",player:o.parent,tiger:n,pteranodon:a,randomEvent:r.random}),o.snipePet(d,2*this.level,r.random,n),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},46494(O,S,i){i.d(S,{Vw:()=>e,ig:()=>_,qj:()=>v,rb:()=>A});var P=i(47868);let c=null;function A(){return c}function _(a){c??=a}class v{}let e=(()=>{class a{historyGo(r){throw new Error("")}static \u0275fac=function(d){return new(d||a)};static \u0275prov=P.jDH({token:a,factory:()=>(0,P.WQX)(n),providedIn:"platform"})}return a})(),n=(()=>{class a extends e{_location;_history;_doc=(0,P.WQX)(P.qQL);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return A().getBaseHref(this._doc)}onPopState(r){const d=A().getGlobalEventTarget(this._doc,"window");return d.addEventListener("popstate",r,!1),()=>d.removeEventListener("popstate",r)}onHashChange(r){const d=A().getGlobalEventTarget(this._doc,"window");return d.addEventListener("hashchange",r,!1),()=>d.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,d,g){this._history.pushState(r,d,g)}replaceState(r,d,g){this._history.replaceState(r,d,g)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}static \u0275fac=function(d){return new(d||a)};static \u0275prov=P.jDH({token:a,factory:()=>new a,providedIn:"platform"})}return a})()},46567(O,S,i){i.d(S,{P:()=>v});var P=i(46200),c=i(5615),A=i(90966),_=i(33127);class v extends P.i{logService;abilityService;name="Budgie";tier=1;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"BudgieAbility",owner:n,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{tiger:a,pteranodon:o}=n,r=this.owner,g=_.I.getInjector().get(A.m).getInstanceOfAllEquipment().get("Popcorn");r.givePetEquipment(g),r.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gained Popcorn and +${this.level} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},46637(O,S,i){i.d(S,{x:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;name="Tyrannosaurus";tier=6;pack="Puppy";attack=7;health=7;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"TyrannosaurusAbility",owner:t,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=n.parent.petArray.filter(g=>g.alive&&g!==n&&g.tier>=5),o=a.length;if(0===a.length)return void this.triggerTigerExecution(t);const r=[];for(;r.length<2&&a.length>0;){const g=(0,A.hw)(0,a.length-1);r.push(a[g]),a.splice(g,1)}const d=2*this.level;for(const g of r)g.increaseAttack(d),g.increaseHealth(d);this.logService.createLog({message:`${n.name} gave ${r.map(g=>g.name).join(", ")} +${d}/+${d}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:o>r.length}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},46791(O,S,i){i.d(S,{O:()=>t});var P=i(95892),c=i(40532),A=i(72222),_=i(82429),v=i(58857),e=i(83028);class t{logService;gameService;abilityService;petService;equipmentService;toyService;player;opponent;battleStarted=!1;turns=0;maxTurns=71;currBattle=null;battles=[];playerWinner=0;opponentWinner=0;draw=0;abilityEngine;eventProcessor;petFormCache=new WeakMap;constructor(o,r,d,g,f,D){this.logService=o,this.gameService=r,this.abilityService=d,this.petService=g,this.equipmentService=f,this.toyService=D,this.logService=(0,e.V)(this.logService),this.player=new P.a(this.logService,d,r),this.opponent=new P.a(this.logService,d,r),this.opponent.isOpponent=!0,this.gameService.init(this.player,this.opponent),this.abilityEngine=new c.$(this.logService,this.gameService,this.abilityService,this.toyService,this.player,this.opponent),this.eventProcessor=new A.v({player:this.player,opponent:this.opponent,logService:this.logService,gameService:this.gameService,abilityService:this.abilityService,abilityEngine:this.abilityEngine,maxTurns:this.maxTurns,getBattle:()=>this.currBattle,setBattle:L=>{this.currBattle=L},getBattleStarted:()=>this.battleStarted,setBattleStarted:L=>{this.battleStarted=L},getTurns:()=>this.turns,setTurns:L=>{this.turns=L},incrementPlayerWinner:()=>{this.playerWinner+=1},incrementOpponentWinner:()=>{this.opponentWinner+=1},incrementDraw:()=>{this.draw+=1}})}run(o,r){const d=(0,_.c)(o.seed);let g,f={playerWins:0,opponentWins:0,draws:0,battles:[]};(0,v.Ys)({capture:o.captureRandomDecisions,overrides:o.randomDecisionOverrides,strictValidation:!1!==o.strictRandomOverrideValidation});try{let D=o.simulationCount||1e3;const k=!1!==o.logsEnabled;let L=0;const N=r?.onProgress&&null!=r.progressInterval?Math.max(1,r.progressInterval):null;this.logService.setEnabled(k),this.logService.setDeferDecorations(!0),this.resetSimulation(),this.setupGameEnvironment(o),o.optimizeDeterministicSimulations&&(0,_.B)(o,this.petService,this.equipmentService,this.toyService)&&(D=1);let q=null==o.maxLoggedBattles?k?D:0:Math.max(0,o.maxLoggedBattles);q>D&&(q=D);for(let ne=0;ne<D&&!r?.shouldAbort?.();ne++){const Q=k&&q>0&&L<q;if(this.logService.setEnabled(Q),this.initBattle(o,Q),Q&&(L+=1),this.prepareBattle(o),this.executeBattleLoop(),this.reset(),r?.onProgress&&null!=N){const $=ne+1;($%N===0||$===D)&&r.onProgress({completed:$,total:D,playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw,loggedBattles:this.battles.length})}if(r?.shouldAbort?.())break}f={playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw,battles:this.battles}}finally{d(),g=(0,v.xe)()}return f.randomDecisions=g.decisions,f.randomOverrideError=g.invalidOverrideError,f}projectLineupAfterEndTurn(o,r,d){const g={...o,playerPets:"player"===r?n(d,5):o.playerPets,opponentPets:"opponent"===r?n(d,5):o.opponentPets,simulationCount:1,logsEnabled:!1,maxLoggedBattles:0,captureRandomDecisions:!1,randomDecisionOverrides:[]},f=this.logService.isEnabled(),D=this.logService.isDeferDecorations();this.logService.setEnabled(!1),this.logService.setDeferDecorations(!0);try{return this.logService.reset(),this.abilityService.clearGlobalEventQueue(),this.setupGameEnvironment(g),this.clearPlayers(),this.createPets(this.player,g.playerPets),this.createPets(this.opponent,g.opponentPets),this.applyPreBattleFriendDeathCounts(),this.abilityService.triggerEndTurnEvents(),this.abilityService.executeEndTurnEvents(),"player"===r?this.captureProjectedLineup(g.playerPets,this.player):this.captureProjectedLineup(g.opponentPets,this.opponent)}finally{this.logService.setEnabled(f),this.logService.setDeferDecorations(D)}}resetSimulation(){this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.currBattle=null}setupGameEnvironment(o){let r=1;o.turn>2&&(r=2),o.turn>4&&(r=3),o.turn>6&&(r=4),o.turn>8&&(r=5),o.turn>10&&(r=6),this.gameService.setPreviousShopTier(r),this.gameService.setTurnNumber(o.turn),this.gameService.setGoldSpent(o.playerGoldSpent??10,o.opponentGoldSpent??10),this.gameService.gameApi.oldStork=o.oldStork??!1,this.gameService.gameApi.komodoShuffle=o.komodoShuffle??!1,this.gameService.gameApi.mana=o.mana??!1,this.gameService.gameApi.playerRollAmount=o.playerRollAmount??4,this.gameService.gameApi.opponentRollAmount=o.opponentRollAmount??4,this.gameService.gameApi.playerLevel3Sold=o.playerLevel3Sold??0,this.gameService.gameApi.opponentLevel3Sold=o.opponentLevel3Sold??0,this.gameService.gameApi.playerLostLastBattle=o.playerLostLastBattle??!1,this.gameService.gameApi.opponentLostLastBattle=o.opponentLostLastBattle??!1,this.petService.setCustomPackPools(o.customPacks??[]),this.player.pack=o.playerPack,this.opponent.pack=o.opponentPack;const d=D=>{switch(D){case"Turtle":return this.petService.turtlePackPets;case"Puppy":return this.petService.puppyPackPets;case"Star":return this.petService.starPackPets;case"Golden":return this.petService.goldenPackPets;case"Unicorn":return this.petService.unicornPackPets;case"Danger":return this.petService.dangerPackPets;default:return this.petService.playerCustomPackPets.get(D)||new Map}},g=d(o.playerPack),f=d(o.opponentPack);this.gameService.setTierGroupPets(g,f)}initBattle(o,r=!0){this.logService.reset(),this.abilityService.clearGlobalEventQueue(),r?(this.currBattle={winner:"draw",logs:this.logService.getLogs()},this.battles.push(this.currBattle)):this.currBattle=null,this.gameService.gameApi.opponentSummonedAmount=o.opponentSummonedAmount??0,this.gameService.gameApi.playerSummonedAmount=o.playerSummonedAmount??0,this.gameService.gameApi.opponentTransformationAmount=o.opponentTransformationAmount??0,this.gameService.gameApi.playerTransformationAmount=o.playerTransformationAmount??0}prepareBattle(o){this.reset(),this.createPets(this.player,o.playerPets),this.createPets(this.opponent,o.opponentPets),this.applyPreBattleFriendDeathCounts(),o.playerToy?(this.player.toy=this.toyService.createToy(o.playerToy,this.player,o.playerToyLevel??1),this.player.originalToy=this.player.toy):(this.player.toy=null,this.player.originalToy=null),o.playerHardToy?(this.player.hardToy=this.toyService.createToy(o.playerHardToy,this.player,o.playerHardToyLevel??1),this.player.originalHardToy=this.player.hardToy):(this.player.hardToy=null,this.player.originalHardToy=null),o.opponentToy?(this.opponent.toy=this.toyService.createToy(o.opponentToy,this.opponent,o.opponentToyLevel??1),this.opponent.originalToy=this.opponent.toy):(this.opponent.toy=null,this.opponent.originalToy=null),o.opponentHardToy?(this.opponent.hardToy=this.toyService.createToy(o.opponentHardToy,this.opponent,o.opponentHardToyLevel??1),this.opponent.originalHardToy=this.opponent.hardToy):(this.opponent.hardToy=null,this.opponent.originalHardToy=null),this.gameService.gameApi.playerHardToy=o.playerHardToy??null,this.gameService.gameApi.playerHardToyLevel=o.playerHardToyLevel??1,this.gameService.gameApi.opponentHardToy=o.opponentHardToy??null,this.gameService.gameApi.opponentHardToyLevel=o.opponentHardToyLevel??1,this.startBattle(),this.initToys(),this.abilityService.initSpecialEndTurnAbility(this.player),this.abilityService.initSpecialEndTurnAbility(this.opponent),this.gameService.gameApi.FirstNonJumpAttackHappened=!1,this.initializeEquipmentMultipliers(),this.logService.createLog({message:"Phase 1: Before battle",type:"board"}),this.logService.printState(this.player,this.opponent),this.abilityService.triggerBeforeStartOfBattleEvents(),this.abilityService.executeBeforeStartOfBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);const r=d=>"Churros"===d.equipment?.name;this.logService.createLog({message:"Phase 2: Start of battle",type:"board"}),this.logService.printState(this.player,this.opponent),this.abilityService.triggerStartBattleEvents(r),this.abilityService.executeStartBattleEvents(),this.toyService.executeStartOfBattleEvents(),this.abilityService.triggerStartBattleEvents(d=>!r(d)),this.abilityService.executeStartBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);this.logService.createLog({message:"Phase 3: After Start of Battle",type:"board"}),this.logService.printState(this.player,this.opponent)}createPets(o,r){for(let d=0;d<5;d++){const g=r[d];if(!g||!g.name)continue;let f=this.petFormCache.get(g);f||(f=this.buildPetForm(g),this.petFormCache.set(g,f));const D=this.petService.createPet(f,o);o.setPet(d,D,!0)}}buildPetForm(o){const r=o.equipment;let d=null;"string"==typeof r?d={name:r}:r&&"object"==typeof r&&(d=r);const g=r&&"object"==typeof r?r:null;return{...o,name:o.name,attack:o.attack??0,health:o.health??0,exp:o.exp??0,mana:o.mana??0,triggersConsumed:o.triggersConsumed??0,foodsEaten:o.foodsEaten??0,equipment:d,equipmentUses:o.equipmentUses??("number"==typeof g?.uses?g.uses:null),battlesFought:o.battlesFought??0,timesHurt:o.timesHurt??0,friendsDiedBeforeBattle:o.friendsDiedBeforeBattle??0,abominationSwallowedPet1TimesHurt:o.abominationSwallowedPet1TimesHurt??0,abominationSwallowedPet2TimesHurt:o.abominationSwallowedPet2TimesHurt??0,abominationSwallowedPet3TimesHurt:o.abominationSwallowedPet3TimesHurt??0}}applyPreBattleFriendDeathCounts(){this.abilityEngine.applyPreBattleFriendDeathCounts()}executeBattleLoop(){this.eventProcessor.executeBattleLoop()}startBattle(){this.eventProcessor.startBattle()}reset(){this.eventProcessor.reset()}nextTurn(){this.eventProcessor.nextTurn()}fight(){this.eventProcessor.fight()}abilityCycle(){this.abilityEngine.abilityCycle()}checkPetsAlive(){this.abilityEngine.checkPetsAlive()}removeDeadPets(){return this.abilityEngine.removeDeadPets()}emptyFrontSpaceCheck(){this.abilityEngine.emptyFrontSpaceCheck()}initToys(){this.abilityEngine.initToys()}pushPetsForwards(){this.eventProcessor.pushPetsForwards()}endLog(o){this.eventProcessor.endLog(o)}initializeEquipmentMultipliers(){this.abilityEngine.initializeEquipmentMultipliers()}resetClearFrontFlags(){this.abilityEngine.resetClearFrontFlags()}captureProjectedLineup(o,r){const d=[];for(let g=0;g<o.length;g+=1){const f=o[g]??null,D=r.getPetAtPosition(g);if(!f||!D){d.push(null);continue}const k={...f,name:D.name??f.name??null,attack:D.attack??f.attack??0,health:D.health??f.health??0,exp:D.exp??f.exp??0,mana:D.mana??f.mana??0,triggersConsumed:D.triggersConsumed??f.triggersConsumed??0,foodsEaten:D.foodsEaten??f.foodsEaten??0,battlesFought:D.battlesFought??f.battlesFought??0,timesHurt:D.timesHurt??f.timesHurt??0,friendsDiedBeforeBattle:D.friendsDiedBeforeBattle??f.friendsDiedBeforeBattle??0,equipment:D.equipment?.name?{name:D.equipment.name}:null,equipmentUses:D.equipment?.uses??f.equipmentUses??null};d.push(k)}return d}clearPlayers(){this.clearPlayer(this.player),this.clearPlayer(this.opponent)}clearPlayer(o){o.pet0=void 0,o.pet1=void 0,o.pet2=void 0,o.pet3=void 0,o.pet4=void 0,o.orignalPet0=void 0,o.orignalPet1=void 0,o.orignalPet2=void 0,o.orignalPet3=void 0,o.orignalPet4=void 0}}function n(a,o){const r=a.slice(0,o);for(;r.length<o;)r.push(null);return r}},47097(O,S,i){i.d(S,{s:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Umbrella Bird";tier=1;pack="Custom";attack=3;health=2;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},47175(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mothman";tier=2;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MothmanAbility",owner:e,triggers:["AnyoneGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,d=this.level;let f=r.parent.getThis(r).pet;null!=f&&(this.logService.createLog({message:`${r.name} gave ${f.name} +${d} attack and +${d} health.`,type:"ability",player:r.parent,tiger:a}),f.increaseAttack(d),f.increaseHealth(d),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},47256(O,S,i){i.d(S,{a:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;name="Quetzalcoatl";tier=6;pack="Unicorn";attack=4;health=8;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;abilityService;constructor(a,o,r){super({name:"QuetzalcoatlAbility",owner:a,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.abilityService=r}executeAbility(a){const o=this.owner,r=o.parent.petArray.filter(g=>g.alive&&g!==o&&g.tier<=3);if(0===r.length)return void this.triggerTigerExecution(a);const d=this.level;for(let g=0;g<d;g++){const f=(0,A.k6)({key:"pet.quetzalcoatl-end-turn-target",label:(0,v.I)(o,"Quetzalcoatl end turn target",g+1),options:r.map(k=>({id:`${k.savedPosition+1}:${k.name}`,label:`P${k.savedPosition+1} ${k.name}`}))},()=>(0,_.hw)(0,r.length-1)),D=r[f.index];D.increaseExp(2),this.logService.createLog({message:`${o.name} gave ${D.name} +2 experience.`,type:"ability",player:o.parent,tiger:a.tiger,pteranodon:a.pteranodon,randomEvent:f.randomEvent})}this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},47748(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dung Beetle";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DungBeetleAbility",owner:e,triggers:["FoodEatenByFriendly","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,triggerPet:n,tiger:a,pteranodon:o}=e,r=this.owner,d=r,g=t?.turnNumber??0;if(d.dungBeetleFoodTurn!==g&&(d.dungBeetleFoodTurn=g,d.dungBeetleFoodEaten=0),d.dungBeetleFoodSeededTurn!==g){d.dungBeetleFoodSeededTurn=g;const k=r.foodsEaten??0;k>0&&(d.dungBeetleFoodEaten=Math.min(3,Math.max(d.dungBeetleFoodEaten??0,k)))}if(n&&r.alive)return void(d.dungBeetleFoodEaten=Math.min(3,(d.dungBeetleFoodEaten??0)+1));if(r.alive)return;const f=Math.min(3,d.dungBeetleFoodEaten??0);if(f<=0)return;const D=3*this.level;for(let k=0;k<f;k++){let L=r.parent.opponent.getLowestHealthPet(void 0,r),N=L.pet;if(null==N)break;r.snipePet(N,D,L.random,a)}this.logService.createLog({message:`${r.name} dealt ${D} damage ${f} time(s) to the weakest enemy.`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},47832(O,S,i){i.d(S,{B:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;name="Brahma Chicken";tier=5;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;attackers=new Set;constructor(t,n){super({name:"Brahma Chicken Ability",owner:t,triggers:["FriendAttacked","PostRemovalFaint","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,{triggerPet:a,tiger:o,pteranodon:r}=t;if("StartBattle"!==t.trigger){if("FriendAttacked"===t.trigger&&a&&a.parent===n.parent)this.attackers.add(a);else if("PostRemovalFaint"===t.trigger){const d=(0,A.k4)(Array.from(this.attackers).filter(k=>k&&k.alive)),g=Math.min(3,d.length),f=this.level,D=d.slice(0,g);for(const k of D)k.increaseAttack(f),k.increaseHealth(f);D.length>0&&this.logService.createLog({message:`${n.name} gave ${D.map(k=>k.name).join(", ")} +${f}/+${f} after fainting.`,type:"ability",player:n.parent,tiger:o,pteranodon:r}),this.triggerTigerExecution(t)}}else this.attackers.clear()}copy(t){return new v(t,this.logService)}}},47868(O,S,i){i.d(S,{$8:()=>et,$Hz:()=>gn,A0l:()=>vs,A7J:()=>Di,AQb:()=>Lh,Ab:()=>Xo,AbJ:()=>ad,Af3:()=>Fa,Agf:()=>Sn,Ap:()=>o,AsM:()=>ne,B22:()=>vh,B9r:()=>Y,BI7:()=>zi,Bqz:()=>ln,By9:()=>H_,CQl:()=>Nn,CpD:()=>td,Cv0:()=>ke,Czx:()=>Vt,DFp:()=>qt,Ds7:()=>at,DyX:()=>_h,E6O:()=>Rn,EFk:()=>lr,EJG:()=>j,EPY:()=>$r,EYC:()=>Sa,EmA:()=>ie,Evm:()=>Ih,F1c:()=>ha,FRF:()=>_n,Fje:()=>K_,G2t:()=>Xt,GA0:()=>Zo,GBX:()=>Ln,GWr:()=>We,GYQ:()=>Rh,GZS:()=>ur,GpT:()=>ee,HAh:()=>Zl,HO5:()=>wh,HUe:()=>gh,HaV:()=>yi,Hh6:()=>Lt,IAh:()=>Ie,ID:()=>Tt,ID8:()=>Sh,ITl:()=>Wu,Iaj:()=>Wi,Isx:()=>bn,IvY:()=>U,JEi:()=>yn,JjR:()=>Qu,JlV:()=>ns,Jzi:()=>_e,K29:()=>na,K7h:()=>Yn,KET:()=>Ua,KVO:()=>hi,KdJ:()=>un,KtD:()=>bh,Kw3:()=>Jr,LIA:()=>de,LZP:()=>ct,M0L:()=>_s,M6u:()=>ts,MI:()=>N_,MME:()=>Wn,MT:()=>$_,MZA:()=>Ta,M_e:()=>li,MdC:()=>hr,Mlv:()=>Un,Mx4:()=>Yo,MzJ:()=>je,N4e:()=>gs,N79:()=>yh,Njj:()=>Ph,O8q:()=>Ql,O8t:()=>pd,OAn:()=>ju,ONQ:()=>Fe,OsK:()=>f,P2g:()=>Xu,P3H:()=>Yu,PEr:()=>Nu,PP7:()=>Ei,PQT:()=>qn,Pfq:()=>Xr,Pz9:()=>bs,QZP:()=>mc,Qs1:()=>$o,QuC:()=>Tn,R2n:()=>xs,RZ9:()=>qr,Rc9:()=>ps,Rfq:()=>ae,Rom:()=>cr,RxE:()=>t,SKP:()=>ei,SKi:()=>rl,SMZ:()=>L,SX7:()=>lc,TWe:()=>Ho,Tkx:()=>hh,U45:()=>be,U7d:()=>wi,UaU:()=>id,UhH:()=>zo,VKj:()=>Jl,VML:()=>gc,VPL:()=>Ah,VVG:()=>pa,VX4:()=>Ea,W0r:()=>Na,WB9:()=>ca,WQX:()=>ri,WbQ:()=>Ii,WfI:()=>ta,Wg1:()=>Xi,WrV:()=>Ee,X5O:()=>he,XRZ:()=>mt,XaM:()=>_i,Xln:()=>Te,XvL:()=>gt,Y20:()=>fs,Y3W:()=>fi,YEL:()=>ms,YWB:()=>Jo,Yrj:()=>Z,Yw1:()=>Ji,Z63:()=>Mn,Z9v:()=>sc,ZFY:()=>ze,ZQF:()=>Ge,ZRn:()=>fe,ZTf:()=>ll,_0$:()=>Vo,_Z$:()=>en,_gW:()=>U_,_px:()=>el,a2B:()=>Ue,abz:()=>Ps,b$O:()=>ac,b5C:()=>Ce,bBq:()=>Bs,biv:()=>F_,bkB:()=>$a,bll:()=>oc,blu:()=>kn,bm_:()=>Rs,brz:()=>lt,buA:()=>d,c$7:()=>Ju,cBl:()=>Qo,cP4:()=>dr,cSN:()=>tc,ckz:()=>mr,d31:()=>te,dMS:()=>jo,dTm:()=>ud,d_l:()=>fh,db4:()=>Ku,dmw:()=>on,dwj:()=>q,e5P:()=>Za,eBV:()=>ic,eDl:()=>ue,eFE:()=>Qn,eVN:()=>Hr,ebl:()=>we,ezK:()=>ia,f7T:()=>ua,fuf:()=>Vr,gsJ:()=>mn,gv8:()=>V_,gxQ:()=>nc,hjC:()=>Ri,hk6:()=>hc,hmW:()=>sn,iMd:()=>_r,iYM:()=>nt,ihb:()=>Ca,ik5:()=>$u,iw4:()=>Ne,jDH:()=>kt,jNX:()=>Uu,jRZ:()=>mh,jXY:()=>$e,jgP:()=>jt,joV:()=>ys,jvu:()=>Dh,kLh:()=>N,kNT:()=>rt,kcM:()=>xt,klJ:()=>Vu,krE:()=>zr,l4E:()=>uc,laP:()=>D,llW:()=>tn,m7n:()=>$n,myG:()=>As,n$e:()=>Q,nKC:()=>ot,nZS:()=>Vi,nfM:()=>Ma,ng7:()=>Li,niQ:()=>Th,nl4:()=>re,oMQ:()=>Ot,oTH:()=>me,oZy:()=>as,ok8:()=>r,oyA:()=>qi,p9y:()=>In,pbo:()=>tt,pcR:()=>wt,phH:()=>di,pr_:()=>He,q$2:()=>Ls,qFA:()=>is,qQL:()=>fr,qSk:()=>LP,qlT:()=>da,r4V:()=>cl,rFz:()=>zu,rJ1:()=>ql,rQE:()=>Be,rev:()=>nl,s6P:()=>Kn,srX:()=>or,tF7:()=>vt,tQN:()=>mi,tcA:()=>rr,tdH:()=>Y_,u5s:()=>cd,uXy:()=>Oi,uiq:()=>ka,uvJ:()=>Cn,vNG:()=>Gu,vOT:()=>Ka,vPA:()=>pc,vQI:()=>Eh,vaC:()=>F,veI:()=>Yr,w7Z:()=>qu,wGu:()=>Jt,wVl:()=>Ye,xLP:()=>Ui,xUg:()=>Hi,xbp:()=>Qr,xyx:()=>qo,yAH:()=>Ve,yP_:()=>Fs,yoD:()=>Kr,ypq:()=>G_,yzR:()=>Gr,z6V:()=>Pi,z7f:()=>Dt,zAe:()=>K,zQk:()=>Wa,zSs:()=>Yi,zZn:()=>il,zcH:()=>ol,znI:()=>W_});var P=i(15824),c=i(27389),A=i(45286),_=i(79928),v=i(31805),e=i(91679);class t{full;major;minor;patch;constructor(V){this.full=V;const se=V.split(".");this.major=se[0],this.minor=se[1],this.patch=se.slice(2).join(".")}}const n=new t("21.1.1"),o=`${(()=>{const x=n.full;return`https://${x.includes("-next")||x.includes("-rc")||"0.0.0-PLACEHOLDER"===x?"next":`v${n.major}`}.angular.dev`})()}/errors`,r="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class d extends Error{code;constructor(V,se){super(f(V,se)),this.code=V}}function f(x,V){return`${function g(x){return`NG0${Math.abs(x)}`}(x)}${V?": "+V:""}`}const D=globalThis;function L(){return!1}function N(x){for(let V in x)if(x[V]===N)return V;throw Error("")}function q(x,V){for(const se in V)V.hasOwnProperty(se)&&!x.hasOwnProperty(se)&&(x[se]=V[se])}function ne(x){if("string"==typeof x)return x;if(Array.isArray(x))return`[${x.map(ne).join(", ")}]`;if(null==x)return""+x;const V=x.overriddenName||x.name;if(V)return`${V}`;const se=x.toString();if(null==se)return""+se;const Se=se.indexOf("\n");return Se>=0?se.slice(0,Se):se}function Q(x,V){return x?V?`${x} ${V}`:x:V||""}const H=N({__forward_ref__:N});function ae(x){return x.__forward_ref__=ae,x.toString=function(){return ne(this())},x}function re(x){return _e(x)?x():x}function _e(x){return"function"==typeof x&&x.hasOwnProperty(H)&&x.__forward_ref__===ae}function be(x,V){"number"!=typeof x&&et(V,typeof x,"number","===")}function Ee(x,V,se){be(x,"Expected a number"),function pt(x,V,se){x<=V||et(se,x,V,"<=")}(x,se,"Expected number to be less than or equal to"),tt(x,V,"Expected number to be greater than or equal to")}function ke(x,V){"string"!=typeof x&&et(V,null===x?"null":typeof x,"string","===")}function de(x,V){"function"!=typeof x&&et(V,null===x?"null":typeof x,"function","===")}function Te(x,V,se){x!=V&&et(se,x,V,"==")}function Ne(x,V,se){x==V&&et(se,x,V,"!=")}function Ge(x,V,se){x!==V&&et(se,x,V,"===")}function Ie(x,V,se){x===V&&et(se,x,V,"!==")}function gt(x,V,se){x<V||et(se,x,V,"<")}function We(x,V,se){x>V||et(se,x,V,">")}function tt(x,V,se){x>=V||et(se,x,V,">=")}function nt(x,V){null==x&&et(V,x,null,"!=")}function et(x,V,se,Se){throw new Error(`ASSERTION ERROR: ${x}`+(null==Se?"":` [Expected=> ${se} ${Se} ${V} <=Actual]`))}function Dt(x){x instanceof Node||et(`The provided value must be an instance of a DOM Node but got ${ne(x)}`)}function ct(x){x instanceof Element||et(`The provided value must be an element but got ${ne(x)}`)}function vt(x,V){nt(x,"Array must be defined.");const se=x.length;(V<0||V>=se)&&et(`Index expected to be less than ${se} but got ${V}`)}function rt(x,...V){if(-1!==V.indexOf(x))return!0;et(`Expected value to be one of ${JSON.stringify(V)} but was ${JSON.stringify(x)}.`)}function He(x){null!==(0,P.nR)()&&et(`${x}() should never be called in a reactive context.`)}function kt(x){return{token:x.token,providedIn:x.providedIn||null,factory:x.factory,value:void 0}}function Xt(x){return{providers:x.providers||[],imports:x.imports||[]}}function it(x){return function Et(x,V){return x.hasOwnProperty(V)&&x[V]||null}(x,Ve)}function we(x){return x&&x.hasOwnProperty(Fe)?x[Fe]:null}const Ve=N({\u0275prov:N}),Fe=N({\u0275inj:N});class ot{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(V,se){this._desc=V,this.\u0275prov=void 0,"number"==typeof se?this.__NG_ELEMENT_ID__=se:void 0!==se&&(this.\u0275prov=kt({token:this,providedIn:se.providedIn||"root",factory:se.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}let Bt;function Rt(){return et("getInjectorProfilerContext should never be called in production mode"),Bt}function qt(x){et("setInjectorProfilerContext should never be called in production mode");const V=Bt;return Bt=x,V}const zt=[],Ht=()=>{};function xt(x){return et("setInjectorProfiler should never be called in production mode"),null!==x?(zt.includes(x)||zt.push(x),()=>function Gi(x){const V=zt.indexOf(x);-1!==V&&zt.splice(V,1)}(x)):(zt.length=0,Ht)}function Qi(x){et("Injector profiler should never be called in production mode");for(let V=0;V<zt.length;V++)(0,zt[V])(x)}function Vi(x,V=!1){let se;et("Injector profiler should never be called in production mode"),se="function"==typeof x||x instanceof ot?x:re(x.provide);let Se=x;x instanceof ot&&(Se=x.\u0275prov||x),Qi({type:2,context:Rt(),providerRecord:{token:se,provider:Se,isViewProvider:V}})}function wi(x){et("Injector profiler should never be called in production mode"),Qi({type:5,context:Rt(),token:x})}function Oi(x){et("Injector profiler should never be called in production mode"),Qi({type:1,context:Rt(),instance:{value:x}})}function zi(x,V,se){et("Injector profiler should never be called in production mode"),Qi({type:0,context:Rt(),service:{token:x,value:V,flags:se}})}function Di(x){et("Injector profiler should never be called in production mode"),Qi({type:4,context:Rt(),effectPhase:x})}function _i(x,V,se){et("runInInjectorProfilerContext should never be called in production mode");const Se=qt({injector:x,token:V});try{se()}finally{qt(Se)}}function Mi(x){return x&&!!x.\u0275providers}const Nn=N({\u0275cmp:N}),pn=N({\u0275dir:N}),an=N({\u0275pipe:N}),sn=N({\u0275mod:N}),Yi=N({\u0275fac:N}),In=N({__NG_ELEMENT_ID__:N}),Bi=N({__NG_ENV_ID__:N});function di(x){return Zi(x),x[sn]||null}function Ii(x){const V=di(x);if(!V)throw new d(915,!1);return V}function Hi(x){return Zi(x),x[Nn]||null}function Sn(x){const V=yi(x);if(!V)throw new d(916,!1);return V}function yi(x){return Zi(x),x[pn]||null}function qi(x){return Zi(x),x[an]||null}function Zi(x,V){if(null==x)throw new d(-919,!1)}function Tn(x){const V=Hi(x)||yi(x)||qi(x);return null!==V&&V.standalone}function Qn(x){return"string"==typeof x?x:null==x?"":String(x)}function Ei(x){return"function"==typeof x?x.name||x.toString():"object"==typeof x&&null!=x&&"function"==typeof x.type?x.type.name||x.type.toString():Qn(x)}function en(x){const V=Hi(x);return null!==V&&V.debugInfo?function Vn(x){return x.filePath&&x.lineNumber?`${x.className} (at ${x.filePath}:${x.lineNumber})`:x.className}(V.debugInfo):Ei(x)}const Dn=N({ngErrorCode:N}),zn=N({ngErrorMessage:N}),rn=N({ngTokenPath:N});function qn(x,V){return ea("",-200,V)}function Ea(x,V){return function Zn(x,V){return x.message=function Ae(x,V,se=[],Se=null){let Re="";se&&se.length>1&&(Re=` Path: ${se.join(" -> ")}.`);return f(V,`${x}${Se?` Source: ${Se}.`:""}${Re}`)}(x[zn]||x.message,x[Dn],x[rn],V),x}(qn(0,V),null)}function gn(x,V){throw new d(-201,!1)}function ea(x,V,se){const Se=new d(V,x);return Se[Dn]=V,Se[zn]=x,se&&(Se[rn]=se),Se}let ve;function Le(){return ve}function Ue(x){const V=ve;return ve=x,V}function je(x,V,se){const Se=it(x);return Se&&"root"==Se.providedIn?void 0===Se.value?Se.value=Se.factory():Se.value:8&se?null:void 0!==V?V:void gn()}function ze(x){}const Pt={},bi="__NG_DI_FLAG__";class Fi{injector;constructor(V){this.injector=V}retrieve(V,se){const Se=Ri(se)||0;try{return this.injector.get(V,8&Se?null:Pt,Se)}catch(Re){if((0,e.c4)(Re))return Re;throw Re}}}function gi(x,V=0){const se=(0,e.Af)();if(void 0===se)throw new d(-203,!1);if(null===se)return je(x,void 0,V);{const Se=function Gt(x){return{optional:!!(8&x),host:!!(1&x),self:!!(2&x),skipSelf:!!(4&x)}}(V),Re=se.retrieve(x,Se);if((0,e.c4)(Re)){if(Se.optional)return null;throw Re}return Re}}function hi(x,V=0){return(Le()||gi)(re(x),V)}function on(x){throw new d(202,!1)}function ri(x,V){return hi(x,Ri(V))}function Ri(x){return typeof x>"u"||"number"==typeof x?x:0|(x.optional&&8)|(x.host&&1)|(x.self&&2)|(x.skipSelf&&4)}function Yt(x){const V=[];for(let se=0;se<x.length;se++){const Se=re(x[se]);if(Array.isArray(Se)){if(0===Se.length)throw new d(900,!1);let Re,Je=0;for(let yt=0;yt<Se.length;yt++){const Ti=Se[yt],ti=Ci(Ti);"number"==typeof ti?-1===ti?Re=Ti.token:Je|=ti:Re=Ti}V.push(hi(Re,Je))}else V.push(hi(Se))}return V}function Pi(x,V){return x[bi]=V,x.prototype[bi]=V,x}function Ci(x){return x[bi]}function Jt(x,V){return x.hasOwnProperty(Yi)?x[Yi]:null}function Li(x,V,se){if(x.length!==V.length)return!1;for(let Se=0;Se<x.length;Se++){let Re=x[Se],Je=V[Se];if(se&&(Re=se(Re),Je=se(Je)),Je!==Re)return!1}return!0}function ln(x){return x.flat(Number.POSITIVE_INFINITY)}function Ui(x,V){x.forEach(se=>Array.isArray(se)?Ui(se,V):V(se))}function Sa(x,V,se){V>=x.length?x.push(se):x.splice(V,0,se)}function Rn(x,V){return V>=x.length-1?x.pop():x.splice(V,1)[0]}function ta(x,V){const se=[];for(let Se=0;Se<x;Se++)se.push(V);return se}function mn(x,V,se){const Se=x.length-se;for(;V<Se;)x[V]=x[V+se],V++;for(;se--;)x.pop()}function tn(x,V,se,Se){let Re=x.length;if(Re==V)x.push(se,Se);else if(1===Re)x.push(Se,x[0]),x[0]=se;else{for(Re--,x.push(x[Re-1],x[Re]);Re>V;)x[Re]=x[Re-2],Re--;x[V]=se,x[V+1]=Se}}function ia(x,V,se){let Se=_n(x,V);return Se>=0?x[1|Se]=se:(Se=~Se,tn(x,Se,V,se)),Se}function Yn(x,V){const se=_n(x,V);if(se>=0)return x[1|se]}function _n(x,V){return function fn(x,V,se){let Se=0,Re=x.length>>se;for(;Re!==Se;){const Je=Se+(Re-Se>>1),yt=x[Je<<se];if(V===yt)return Je<<se;yt>V?Re=Je:Se=Je+1}return~(Re<<se)}(x,V,1)}const Ta={},Un=[],Mn=new ot(""),qa=new ot("",-1),Y=new ot("");class me{get(V,se=Pt){if(se===Pt){const Re=ea("",-201);throw Re.name="\u0275NotFound",Re}return se}}function ie(x){return{\u0275providers:x}}function De(...x){return{\u0275providers:$e(0,x),\u0275fromNgModule:!0}}function $e(x,...V){const se=[],Se=new Set;let Re;const Je=yt=>{se.push(yt)};return Ui(V,yt=>{const Ti=yt;lt(Ti,Je,[],Se)&&(Re||=[],Re.push(Ti))}),void 0!==Re&&Qe(Re,Je),se}function Qe(x,V){for(let se=0;se<x.length;se++){const{ngModule:Se,providers:Re}=x[se];Zt(Re,Je=>{V(Je,Se)})}}function lt(x,V,se,Se){if(!(x=re(x)))return!1;let Re=null,Je=we(x);const yt=!Je&&Hi(x);if(Je||yt){if(yt&&!yt.standalone)return!1;Re=x}else{const ti=x.ngModule;if(Je=we(ti),!Je)return!1;Re=ti}const Ti=Se.has(Re);if(yt){if(Ti)return!1;if(Se.add(Re),yt.dependencies){const ti="function"==typeof yt.dependencies?yt.dependencies():yt.dependencies;for(const xi of ti)lt(xi,V,se,Se)}}else{if(!Je)return!1;{if(null!=Je.imports&&!Ti){let xi;Se.add(Re),Ui(Je.imports,Us=>{lt(Us,V,se,Se)&&(xi||=[],xi.push(Us))}),void 0!==xi&&Qe(xi,V)}if(!Ti){const xi=Jt(Re)||(()=>new Re);V({provide:Re,useFactory:xi,deps:Un},Re),V({provide:Y,useValue:Re,multi:!0},Re),V({provide:Mn,useValue:()=>hi(Re),multi:!0},Re)}const ti=Je.providers;if(null!=ti&&!Ti){const xi=x;Zt(ti,Us=>{V(Us,xi)})}}}return Re!==x&&void 0!==x.providers}function Zt(x,V){for(let se of x)Mi(se)&&(se=se.\u0275providers),Array.isArray(se)?Zt(se,V):V(se)}const si=N({provide:String,useValue:N});function Qt(x){return null!==x&&"object"==typeof x&&si in x}function fi(x){return"function"==typeof x}function Wn(x){return!!x.useClass}const Ln=new ot(""),vn={},cn={};let xn;function ca(){return void 0===xn&&(xn=new me),xn}class Cn{}class Za extends Cn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(V,se,Se,Re){super(),this.parent=se,this.source=Se,this.scopes=Re,es(V,yt=>this.processProvider(yt)),this.records.set(qa,Da(void 0,this)),Re.has("environment")&&this.records.set(Cn,Da(void 0,this));const Je=this.records.get(Ln);null!=Je&&"string"==typeof Je.value&&this.scopes.add(Je.value),this.injectorDefTypes=new Set(this.get(Y,Un,{self:!0}))}retrieve(V,se){const Se=Ri(se)||0;try{return this.get(V,Pt,Se)}catch(Re){if((0,e.c4)(Re))return Re;throw Re}}destroy(){Ba(this),this._destroyed=!0;const V=(0,P.Ht)(null);try{for(const Se of this._ngOnDestroyHooks)Se.ngOnDestroy();const se=this._onDestroyHooks;this._onDestroyHooks=[];for(const Se of se)Se()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),(0,P.Ht)(V)}}onDestroy(V){return Ba(this),this._onDestroyHooks.push(V),()=>this.removeOnDestroy(V)}runInContext(V){Ba(this);const se=(0,e.mu)(this),Se=Ue(void 0);try{return V()}finally{(0,e.mu)(se),Ue(Se)}}get(V,se=Pt,Se){if(Ba(this),V.hasOwnProperty(Bi))return V[Bi](this);const Re=Ri(Se),yt=(0,e.mu)(this),Ti=Ue(void 0);try{if(!(4&Re)){let xi=this.records.get(V);if(void 0===xi){const Us=function Wr(x){return"function"==typeof x||"object"==typeof x&&"InjectionToken"===x.ngMetadataName}(V)&&it(V);xi=Us&&this.injectableDefInScope(Us)?Da(ds(V),vn):null,this.records.set(V,xi)}if(null!=xi)return this.hydrate(V,xi,Re)}return(2&Re?ca():this.parent).get(V,se=8&Re&&se===Pt?null:se)}catch(ti){const xi=function ce(x){return x[Dn]}(ti);throw-200===xi||-201===xi?new d(xi,null):ti}finally{Ue(Ti),(0,e.mu)(yt)}}resolveInjectorInitializers(){const V=(0,P.Ht)(null),se=(0,e.mu)(this),Se=Ue(void 0);try{const Je=this.get(Mn,Un,{self:!0});for(const yt of Je)yt()}finally{(0,e.mu)(se),Ue(Se),(0,P.Ht)(V)}}toString(){const V=[],se=this.records;for(const Se of se.keys())V.push(ne(Se));return`R3Injector[${V.join(", ")}]`}processProvider(V){let se=fi(V=re(V))?V:re(V&&V.provide);const Se=function sr(x){return Qt(x)?Da(void 0,x.useValue):Da(ps(x),vn)}(V);if(!fi(V)&&!0===V.multi){let Re=this.records.get(se);Re||(Re=Da(void 0,vn,!0),Re.factory=()=>Yt(Re.multi),this.records.set(se,Re)),se=V,Re.multi.push(V)}this.records.set(se,Se)}hydrate(V,se,Se){const Re=(0,P.Ht)(null);try{if(se.value===cn)throw qn(ne(V));return se.value===vn&&(se.value=cn,se.value=se.factory(void 0,Se)),"object"==typeof se.value&&se.value&&function hs(x){return null!==x&&"object"==typeof x&&"function"==typeof x.ngOnDestroy}(se.value)&&this._ngOnDestroyHooks.add(se.value),se.value}finally{(0,P.Ht)(Re)}}injectableDefInScope(V){if(!V.providedIn)return!1;const se=re(V.providedIn);return"string"==typeof se?"any"===se||this.scopes.has(se):this.injectorDefTypes.has(se)}removeOnDestroy(V){const se=this._onDestroyHooks.indexOf(V);-1!==se&&this._onDestroyHooks.splice(se,1)}}function ds(x){const V=it(x),se=null!==V?V.factory:Jt(x);if(null!==se)return se;if(x instanceof ot)throw new d(204,!1);if(x instanceof Function)return function Xn(x){if(x.length>0)throw new d(204,!1);const se=function ge(x){return(x?.[Ve]??null)||null}(x);return null!==se?()=>se.factory(x):()=>new x}(x);throw new d(204,!1)}function ps(x,V,se){let Se;if(fi(x)){const Re=re(x);return Jt(Re)||ds(Re)}if(Qt(x))Se=()=>re(x.useValue);else if(function oi(x){return!(!x||!x.useFactory)}(x))Se=()=>x.useFactory(...Yt(x.deps||[]));else if(function Si(x){return!(!x||!x.useExisting)}(x))Se=(Re,Je)=>hi(re(x.useExisting),void 0!==Je&&8&Je?8:void 0);else{const Re=re(x&&(x.useClass||x.provide));if(!function Is(x){return!!x.deps}(x))return Jt(Re)||ds(Re);Se=()=>new Re(...Yt(x.deps))}return Se}function Ba(x){if(x.destroyed)throw new d(205,!1)}function Da(x,V,se=!1){return{factory:x,value:V,multi:se?[]:void 0}}function es(x,V){for(const se of x)Array.isArray(se)?es(se,V):se&&Mi(se)?es(se.\u0275providers,V):V(se)}function gs(x,V){let se;x instanceof Za?(Ba(x),se=x):se=new Fi(x);const Re=(0,e.mu)(se),Je=Ue(void 0);try{return V()}finally{(0,e.mu)(Re),Ue(Je)}}function ts(){return void 0!==Le()||null!=(0,e.Af)()}function Fa(x){if(!ts())throw new d(-203,!1)}const jt=0,ue=1,Xi=2,ua=3,na=4,da=5,rr=6,pa=7,ei=8,ms=9,_s=10,ee=11,j=12,Z=13,he=14,Ce=15,Be=16,Ye=17,at=18,Tt=19,Ot=20,Vt=21,wt=22,mi=23,Wi=24,yn=25,bn=26,Ji=27,is=6,Kn=7,Rs=8,Ma=9,fs=10;function Ls(x){return Array.isArray(x)&&"object"==typeof x[1]}function vs(x){return Array.isArray(x)&&!0===x[1]}function or(x){return!!(4&x.flags)}function $o(x){return x.componentOffset>-1}function Kr(x){return!(1&~x.flags)}function ns(x){return!!x.template}function lr(x){return!!(512&x[Xi])}function $r(x){return!(256&~x[Xi])}function Jl(x,V){cr(x,V[ue])}function Ql(x,V){const se=V+Ji;vt(x,se),gt(se,x[ue].bindingStartIndex,"TNodes should be created before any bindings")}function cr(x,V){xs(x);const se=V.data;for(let Se=Ji;Se<se.length;Se++)if(se[Se]===x)return;et("This TNode does not belong to this TView.")}function xs(x){nt(x,"TNode must be defined"),x&&"object"==typeof x&&x.hasOwnProperty("directiveStylingLast")||et("Not of type TNode, got: "+x)}function Na(x){nt(x,"Expected TIcu to be defined"),"number"!=typeof x.currentCaseLViewIndex&&et("Object is not of TIcu type.")}function ur(x,V="Type passed in is not ComponentType, it does not have '\u0275cmp' property."){Hi(x)||et(V)}function Ua(x,V="Type passed in is not NgModuleType, it does not have '\u0275mod' property."){di(x)||et(V)}function Bs(x){nt(x,"currentTNode should exist!"),nt(x.parent,"currentTNode should have a parent")}function dr(x){nt(x,"LContainer must be defined"),Te(vs(x),!0,"Expecting LContainer")}function hr(x){nt(x,"LView must be defined"),Te(Ls(x),!0,"Expecting LView")}function Gr(x,V){Te(x.firstCreatePass,!0,V||"Should only be called in first create pass.")}function Ho(x,V){Te(x.firstUpdatePass,!0,"Should only be called in first update pass.")}function Nu(x){(void 0===x.type||null==x.selectors||void 0===x.inputs)&&et("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")}function Wa(x,V){gr(Ji,x.bindingStartIndex,V)}function as(x,V){gr(x[1].expandoStartIndex,x.length,V)}function gr(x,V,se){x<=se&&se<V||et(`Index out of range (expecting ${x} <= ${se} < ${V})`)}function F_(x,V){nt(x[Ce],"Component views should exist."),nt(x[Ce][da].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}function N_(x,V){nt(x,"Component views should always have a parent view (component's host view)")}function hh(x,V){as(x,V),as(x,V+8),be(x[V+0],"injectorIndex should point to a bloom filter"),be(x[V+1],"injectorIndex should point to a bloom filter"),be(x[V+2],"injectorIndex should point to a bloom filter"),be(x[V+3],"injectorIndex should point to a bloom filter"),be(x[V+4],"injectorIndex should point to a bloom filter"),be(x[V+5],"injectorIndex should point to a bloom filter"),be(x[V+6],"injectorIndex should point to a bloom filter"),be(x[V+7],"injectorIndex should point to a bloom filter"),be(x[V+8],"injectorIndex should point to parent injector")}const Uu="svg",ql="math";function U(x){for(;Array.isArray(x);)x=x[jt];return x}function K(x){for(;Array.isArray(x);){if("object"==typeof x[1])return x;x=x[jt]}return null}function F(x,V){return U(V[x])}function te(x,V){return U(V[x.index])}function fe(x,V){const se=null===x?-1:x.index;return-1!==se?U(V[se]):null}function mt(x,V){return x.data[V]}function Lt(x,V){return x[V]}function li(x,V,se,Se){se>=x.data.length&&(x.data[se]=null,x.blueprint[se]=null),V[se]=Se}function un(x,V){const se=V[x];return Ls(se)?se:se[jt]}function Ka(x){return!(4&~x[Xi])}function ha(x){return!(128&~x[Xi])}function Wu(x){return vs(x[ua])}function Ku(x,V){return null==V?null:x[V]}function gh(x){x[Ye]=0}function Zl(x){1024&x[Xi]||(x[Xi]|=1024,ha(x)&&kn(x))}function mh(x,V){for(;x>0;)V=V[he],x--;return V}function jo(x){return!!(9216&x[Xi]||x[Wi]?.dirty)}function U_(x){x[_s].changeDetectionScheduler?.notify(8),64&x[Xi]&&(x[Xi]|=1024),jo(x)&&kn(x)}function kn(x){x[_s].changeDetectionScheduler?.notify(0);let V=Vo(x);for(;null!==V&&!(8192&V[Xi])&&(V[Xi]|=8192,ha(V));)V=Vo(V)}function $u(x,V){if($r(x))throw new d(911,!1);null===x[Vt]&&(x[Vt]=[]),x[Vt].push(V)}function _h(x,V){if(null===x[Vt])return;const se=x[Vt].indexOf(V);-1!==se&&x[Vt].splice(se,1)}function Vo(x){const V=x[ua];return vs(V)?V[ua]:V}function fh(x){return x[pa]??=[]}function Gu(x){return x.cleanup??=[]}function vh(x,V,se,Se){const Re=fh(V);Re.push(se),x.firstCreatePass&&Gu(x).push(Se,Re.length-1)}const Ft={lFrame:Zr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Hr=function(x){return x[x.Off=0]="Off",x[x.Exhaustive=1]="Exhaustive",x[x.OnlyDirtyViews=2]="OnlyDirtyViews",x}(Hr||{});let jr=0,ec=!1;function W_(){return Ft.lFrame.elementDepthCount}function K_(){Ft.lFrame.elementDepthCount++}function yh(){Ft.lFrame.elementDepthCount--}function mr(){return Ft.bindingsEnabled}function bh(){return null!==Ft.skipHydrationRootTNode}function zo(x){return Ft.skipHydrationRootTNode===x}function tc(){Ft.bindingsEnabled=!0}function Vr(){Ft.bindingsEnabled=!1}function zr(){Ft.skipHydrationRootTNode=null}function ju(){return Ft.lFrame.lView}function Vu(){return Ft.lFrame.tView}function ic(x){return Ft.lFrame.contextLView=x,x[ei]}function Ph(x){return Ft.lFrame.contextLView=null,x}function Yo(){let x=Yr();for(;null!==x&&64===x.type;)x=x.parent;return x}function Yr(){return Ft.lFrame.currentTNode}function Xo(){const x=Ft.lFrame,V=x.currentTNode;return x.isParent?V:V.parent}function _r(x,V){const se=Ft.lFrame;se.currentTNode=x,se.isParent=V}function Jo(){return Ft.lFrame.isParent}function Xr(){Ft.lFrame.isParent=!1}function Ah(){return Ft.lFrame.contextLView}function zu(){return et("Must never be called in production mode"),jr!==Hr.Off}function Yu(){return et("Must never be called in production mode"),jr===Hr.Exhaustive}function Xu(x){et("Must never be called in production mode"),jr=x}function Fs(){return ec}function Qo(x){const V=ec;return ec=x,V}function nc(){const x=Ft.lFrame;let V=x.bindingRootIndex;return-1===V&&(V=x.bindingRootIndex=x.tView.bindingStartIndex),V}function Ju(){return Ft.lFrame.bindingIndex}function Jr(x){return Ft.lFrame.bindingIndex=x}function Qr(){return Ft.lFrame.bindingIndex++}function ac(x){const V=Ft.lFrame,se=V.bindingIndex;return V.bindingIndex=V.bindingIndex+x,se}function Qu(){return Ft.lFrame.inI18n}function qo(x){Ft.lFrame.inI18n=x}function Eh(x,V){const se=Ft.lFrame;se.bindingIndex=se.bindingRootIndex=x,qr(V)}function sc(){return Ft.lFrame.currentDirectiveIndex}function qr(x){Ft.lFrame.currentDirectiveIndex=x}function $_(x){const V=Ft.lFrame.currentDirectiveIndex;return-1===V?null:x[V]}function qu(){return Ft.lFrame.currentQueryIndex}function Zo(x){Ft.lFrame.currentQueryIndex=x}function rc(x){const V=x[ue];return 2===V.type?V.declTNode:1===V.type?x[da]:null}function Ca(x,V,se){if(4&se){let Re=V,Je=x;for(;!(Re=Re.parent,null!==Re||1&se||(Re=rc(Je),null===Re||(Je=Je[he],10&Re.type))););if(null===Re)return!1;V=Re,x=Je}const Se=Ft.lFrame=Zu();return Se.currentTNode=V,Se.lView=x,!0}function Sh(x){const V=Zu(),se=x[ue];Ft.lFrame=V,V.currentTNode=se.firstChild,V.lView=x,V.tView=se,V.contextLView=x,V.bindingIndex=se.bindingStartIndex,V.inI18n=!1}function Zu(){const x=Ft.lFrame,V=null===x?null:x.child;return null===V?Zr(x):V}function Zr(x){const V={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:x,child:null,inI18n:!1};return null!==x&&(x.child=V),V}function ed(){const x=Ft.lFrame;return Ft.lFrame=x.parent,x.currentTNode=null,x.lView=null,x}const Th=ed;function oc(){const x=ed();x.isParent=!0,x.tView=null,x.selectedIndex=-1,x.contextLView=null,x.elementDepthCount=0,x.currentDirectiveIndex=-1,x.currentNamespace=null,x.bindingRootIndex=-1,x.bindingIndex=-1,x.currentQueryIndex=0}function Dh(x){return(Ft.lFrame.contextLView=mh(x,Ft.lFrame.contextLView))[ei]}function el(){return Ft.lFrame.selectedIndex}function G_(x){Ft.lFrame.selectedIndex=x}function td(){const x=Ft.lFrame;return mt(x.tView,x.selectedIndex)}function LP(){Ft.lFrame.currentNamespace=Uu}function H_(){Ft.lFrame.currentNamespace=ql}function ys(){!function eo(){Ft.lFrame.currentNamespace=null}()}function id(){return Ft.lFrame.currentNamespace}let tl=!0;function lc(){return tl}function $n(x){tl=x}function wn(x,V=null,se=null,Se){const Re=bs(x,V,se,Se);return Re.resolveInjectorInitializers(),Re}function bs(x,V=null,se=null,Se,Re=new Set){const Je=[se||Un,De(x)];return Se=Se||("object"==typeof x?void 0:ne(x)),new Za(Je,V||ca(),Se||null,Re)}class il{static THROW_IF_NOT_FOUND=Pt;static NULL=new me;static create(V,se){if(Array.isArray(V))return wn({name:""},se,V,"");{const Se=V.name??"";return wn({name:Se},V.parent,V.providers,Se)}}static \u0275prov=kt({token:il,providedIn:"any",factory:()=>hi(qa)});static __NG_ELEMENT_ID__=-1}const fr=new ot("");let Ps=(()=>class x{static __NG_ELEMENT_ID__=nd;static __NG_ENV_ID__=se=>se})();class cc extends Ps{_lView;constructor(V){super(),this._lView=V}get destroyed(){return $r(this._lView)}onDestroy(V){const se=this._lView;return $u(se,V),()=>_h(se,V)}}function nd(){return new cc(ju())}const vr=!1,Mh=new ot("");let nl=(()=>{class x{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new _.t(!1);debugTaskTracker=ri(Mh,{optional:!0});get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new c.c(se=>{se.next(!1),se.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const se=this.taskId++;return this.pendingTasks.add(se),this.debugTaskTracker?.add(se),se}has(se){return this.pendingTasks.has(se)}remove(se){this.pendingTasks.delete(se),this.debugTaskTracker?.remove(se),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=kt({token:x,providedIn:"root",factory:()=>new x})}return x})();const $a=class Ch extends A.B7{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(V=!1){super(),this.__isAsync=V,ts()&&(this.destroyRef=ri(Ps,{optional:!0})??void 0,this.pendingTasks=ri(nl,{optional:!0})??void 0)}emit(V){const se=(0,P.Ht)(null);try{super.next(V)}finally{(0,P.Ht)(se)}}subscribe(V,se,Se){let Re=V,Je=se||(()=>null),yt=Se;if(V&&"object"==typeof V){const ti=V;Re=ti.next?.bind(ti),Je=ti.error?.bind(ti),yt=ti.complete?.bind(ti)}this.__isAsync&&(Je=this.wrapInTimeout(Je),Re&&(Re=this.wrapInTimeout(Re)),yt&&(yt=this.wrapInTimeout(yt)));const Ti=super.subscribe({next:Re,error:Je,complete:yt});return V instanceof v.y&&V.add(Ti),Ti}wrapInTimeout(V){return se=>{const Se=this.pendingTasks?.add();setTimeout(()=>{try{V(se)}finally{void 0!==Se&&this.pendingTasks?.remove(Se)}})}}};function to(...x){}function uc(x){let V,se;function Se(){x=to;try{void 0!==se&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(se),void 0!==V&&clearTimeout(V)}catch{}}return V=setTimeout(()=>{x(),Se()}),"function"==typeof requestAnimationFrame&&(se=requestAnimationFrame(()=>{x(),Se()})),()=>Se()}function ka(x){return queueMicrotask(()=>x()),()=>{x=to}}const sl="isAngularZone",ad=sl+"_ID";let j_=0;class rl{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new $a(!1);onMicrotaskEmpty=new $a(!1);onStable=new $a(!1);onError=new $a(!1);constructor(V){const{enableLongStackTrace:se=!1,shouldCoalesceEventChangeDetection:Se=!1,shouldCoalesceRunChangeDetection:Re=!1,scheduleInRootZone:Je=vr}=V;if(typeof Zone>"u")throw new d(908,!1);Zone.assertZonePatched();const yt=this;yt._nesting=0,yt._outer=yt._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(yt._inner=yt._inner.fork(new Zone.TaskTrackingZoneSpec)),se&&Zone.longStackTraceZoneSpec&&(yt._inner=yt._inner.fork(Zone.longStackTraceZoneSpec)),yt.shouldCoalesceEventChangeDetection=!Re&&Se,yt.shouldCoalesceRunChangeDetection=Re,yt.callbackScheduled=!1,yt.scheduleInRootZone=Je,function rd(x){const V=()=>{!function sd(x){function V(){uc(()=>{x.callbackScheduled=!1,Mt(x),x.isCheckStableRunning=!0,kh(x),x.isCheckStableRunning=!1})}x.isCheckStableRunning||x.callbackScheduled||(x.callbackScheduled=!0,x.scheduleInRootZone?Zone.root.run(()=>{V()}):x._outer.run(()=>{V()}),Mt(x))}(x)},se=j_++;x._inner=x._inner.fork({name:"angular",properties:{[sl]:!0,[ad]:se,[ad+se]:!0},onInvokeTask:(Se,Re,Je,yt,Ti,ti)=>{if(function aa(x){return dc(x,"__ignore_ng_zone__")}(ti))return Se.invokeTask(Je,yt,Ti,ti);try{return ga(x),Se.invokeTask(Je,yt,Ti,ti)}finally{(x.shouldCoalesceEventChangeDetection&&"eventTask"===yt.type||x.shouldCoalesceRunChangeDetection)&&V(),od(x)}},onInvoke:(Se,Re,Je,yt,Ti,ti,xi)=>{try{return ga(x),Se.invoke(Je,yt,Ti,ti,xi)}finally{x.shouldCoalesceRunChangeDetection&&!x.callbackScheduled&&!function Ns(x){return dc(x,"__scheduler_tick__")}(ti)&&V(),od(x)}},onHasTask:(Se,Re,Je,yt)=>{Se.hasTask(Je,yt),Re===Je&&("microTask"==yt.change?(x._hasPendingMicrotasks=yt.microTask,Mt(x),kh(x)):"macroTask"==yt.change&&(x.hasPendingMacrotasks=yt.macroTask))},onHandleError:(Se,Re,Je,yt)=>(Se.handleError(Je,yt),x.runOutsideAngular(()=>x.onError.emit(yt)),!1)})}(yt)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(sl)}static assertInAngularZone(){if(!rl.isInAngularZone())throw new d(909,!1)}static assertNotInAngularZone(){if(rl.isInAngularZone())throw new d(909,!1)}run(V,se,Se){return this._inner.run(V,se,Se)}runTask(V,se,Se,Re){const Je=this._inner,yt=Je.scheduleEventTask("NgZoneEvent: "+Re,V,xP,to,to);try{return Je.runTask(yt,se,Se)}finally{Je.cancelTask(yt)}}runGuarded(V,se,Se){return this._inner.runGuarded(V,se,Se)}runOutsideAngular(V){return this._outer.run(V)}}const xP={};function kh(x){if(0==x._nesting&&!x.hasPendingMicrotasks&&!x.isStable)try{x._nesting++,x.onMicrotaskEmpty.emit(null)}finally{if(x._nesting--,!x.hasPendingMicrotasks)try{x.runOutsideAngular(()=>x.onStable.emit(null))}finally{x.isStable=!0}}}function Mt(x){x.hasPendingMicrotasks=!!(x._hasPendingMicrotasks||(x.shouldCoalesceEventChangeDetection||x.shouldCoalesceRunChangeDetection)&&!0===x.callbackScheduled)}function ga(x){x._nesting++,x.isStable&&(x.isStable=!1,x.onUnstable.emit(null))}function od(x){x._nesting--,kh(x)}class As{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new $a;onMicrotaskEmpty=new $a;onStable=new $a;onError=new $a;run(V,se,Se){return V.apply(se,Se)}runGuarded(V,se,Se){return V.apply(se,Se)}runOutsideAngular(V){return V()}runTask(V,se,Se,Re){return V.apply(se,Se)}}function dc(x,V){return!(!Array.isArray(x)||1!==x.length)&&!0===x[0]?.data?.[V]}class ol{_console=console;handleError(V){this._console.error("ERROR",V)}}const ll=new ot("",{factory:()=>{const x=ri(rl),V=ri(Cn);let se;return Se=>{x.runOutsideAngular(()=>{V.destroyed&&!se?setTimeout(()=>{throw Se}):(se??=V.get(ol),se.handleError(Se))})}}}),V_={provide:Mn,useValue:()=>{ri(ol,{optional:!0})},multi:!0};function pc(x,V){const[se,Se,Re]=(0,P.n5)(x,V?.equal),Je=se;return Je.set=Se,Je.update=Re,Je.asReadonly=wh.bind(Je),Je}function wh(){const x=this[P.bh];if(void 0===x.readonlyFn){const V=()=>this();V[P.bh]=x,x.readonlyFn=V}return x.readonlyFn}function Y_(x,V){if(null!==(0,P.nR)())throw new d(-602,!1)}let cl=(()=>class x{view;node;constructor(se,Se){this.view=se,this.node=Se}static __NG_ELEMENT_ID__=Oh})();function Oh(){return new cl(ju(),Yo())}class hc{}const Ih=new ot("",{factory:()=>!0}),Rh=new ot("",{factory:()=>!1}),Lh=new ot("");let cd=(()=>{class x{internalPendingTasks=ri(nl);scheduler=ri(hc);errorHandler=ri(ll);add(){const se=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(se)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(se))}}run(se){const Se=this.add();se().catch(this.errorHandler).finally(Se)}static \u0275prov=kt({token:x,providedIn:"root",factory:()=>new x})}return x})(),gc=(()=>{class x{static \u0275prov=kt({token:x,providedIn:"root",factory:()=>new xh})}return x})();class xh{dirtyEffectCount=0;queues=new Map;add(V){this.enqueue(V),this.schedule(V)}schedule(V){V.dirty&&this.dirtyEffectCount++}remove(V){const Se=this.queues.get(V.zone);Se.has(V)&&(Se.delete(V),V.dirty&&this.dirtyEffectCount--)}enqueue(V){const se=V.zone;this.queues.has(se)||this.queues.set(se,new Set);const Se=this.queues.get(se);Se.has(V)||Se.add(V)}flush(){for(;this.dirtyEffectCount>0;){let V=!1;for(const[se,Se]of this.queues)V||=null===se?this.flushQueue(Se):se.run(()=>this.flushQueue(Se));V||(this.dirtyEffectCount=0)}}flushQueue(V){let se=!1;for(const Se of V)Se.dirty&&(this.dirtyEffectCount--,se=!0,Se.run());return se}}class ud{[P.bh];constructor(V){this[P.bh]=V}destroy(){this[P.bh].destroy()}}function mc(x,V){const se=V?.injector??ri(il);let Re,Se=!0!==V?.manualCleanup?se.get(Ps):null;const Je=se.get(cl,null,{optional:!0}),yt=se.get(hc);return null!==Je?(Re=function Fh(x,V,se){const Se=Object.create(_c);return Se.view=x,Se.zone=typeof Zone<"u"?Zone.current:null,Se.notifier=V,Se.fn=dd(Se,se),x[mi]??=new Set,x[mi].add(Se),Se.consumerMarkedDirty(Se),Se}(Je.view,yt,x),Se instanceof cc&&Se._lView===Je.view&&(Se=null)):Re=function yr(x,V,se){const Se=Object.create(Bh);return Se.fn=dd(Se,x),Se.scheduler=V,Se.notifier=se,Se.zone=typeof Zone<"u"?Zone.current:null,Se.scheduler.add(Se),Se.notifier.notify(12),Se}(x,se.get(gc),yt),Re.injector=se,null!==Se&&(Re.onDestroyFns=[Se.onDestroy(()=>Re.destroy())]),new ud(Re)}const io={...P.vX,cleanupFns:void 0,zone:null,onDestroyFns:null,run(){const x=Qo(!1);try{(0,P.lh)(this)}finally{Qo(x)}},cleanup(){if(!this.cleanupFns?.length)return;const x=(0,P.Ht)(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],(0,P.Ht)(x)}}},Bh={...io,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if((0,P.XR)(this),null!==this.onDestroyFns)for(const x of this.onDestroyFns)x();this.cleanup(),this.scheduler.remove(this)}},_c={...io,consumerMarkedDirty(){this.view[Xi]|=8192,kn(this.view),this.notifier.notify(13)},destroy(){if((0,P.XR)(this),null!==this.onDestroyFns)for(const x of this.onDestroyFns)x();this.cleanup(),this.view[mi]?.delete(this)}};function dd(x,V){return()=>{V(se=>(x.cleanupFns??=[]).push(se))}}function pd(x){return(0,P.O8)(x)}},47925(O,S,i){i.d(S,{Z:()=>A,q:()=>c});var P=i(22097);class c extends P.${name="Maple Syrup";tier=4;equipmentClass="shield";power=0;originalPower=0;uses=3;originalUses=3}class A extends P.${name="Maple Syrup (Attack)";equipmentClass="attack";power=0;originalPower=0}},48191(O,S,i){i.d(S,{m:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Hippocampus";tier=4;pack="Custom";attack=4;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"HippocampusAbility",owner:t,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{gameApi:n,tiger:a,pteranodon:o}=t,r=this.owner;if(!n)return void this.triggerTigerExecution(t);const d=r.parent===n.player?n.playerRollAmount||0:n.opponentRollAmount||0,g=d*this.level;g<=0||(r.increaseMana(g),(0,A.rv)(this.logService,r,`${r.name} gained ${g} mana from ${d} rolls this turn.`,a,o)),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},48352(O,S,i){i.d(S,{X:()=>c});var P=i(50873);class c extends P.L{name="Glass Shoes";tier=4;friendFaints(_,v,e,t){if(e||this.triggers++,this.triggers%3!=0)return;let n=v.parent.petArray.filter(a=>a.alive);for(let a of n)this.logService.createLog({message:`${this.name} gave ${a.name} ${t} attack and ${t} health.`,type:"ability",player:this.parent,puma:e}),a.increaseAttack(+t),a.increaseHealth(+t)}}},48356(O,S,i){i.d(S,{i:()=>A});var P=i(57488),c=i(50873);class A extends c.L{name="Chocolate Box";tier=1;startOfBattle(v,e){const t=(0,P.a)(v,this.parent);for(const n of this.parent.petArray)n.increaseExp(1),this.logService.createLog({message:`${this.name} gave ${n.name} 1 exp.`,type:"ability",player:this.parent,puma:e});for(const n of t.petArray)n.increaseExp(2),this.logService.createLog({message:`${this.name} gave ${n.name} 2 exp.`,type:"ability",player:this.parent,puma:e})}}},48549(O,S,i){i.d(S,{$:()=>v});var P=i(51610),c=i(46200),A=i(34748),_=i(5615);class v extends c.i{logService;abilityService;name="Beluga Sturgeon";tier=2;pack="Puppy";attack=2;health=3;constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}}class e extends _.T{logService;abilityService;constructor(n,a,o){super({name:"BelugaSturgeonAbility",owner:n,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=o}executeAbility(n){const{tiger:r,pteranodon:d}=n,g=this.owner;for(let f=0;f<this.level;f++){let D=new A.V(this.logService,this.abilityService,g.parent,3,2,0,0,null),k=g.parent.summonPet(D,4,!1,g);k.success&&(this.logService.createLog({message:`${g.name} summoned a 2/3 Dolphin in the back.`,type:"ability",player:g.parent,randomEvent:k.randomEvent,tiger:r,pteranodon:d}),D.givePetEquipment(new P.o),this.logService.createLog({message:`${g.name} gave ${D.name} Rice.`,type:"ability",player:g.parent,randomEvent:!1,tiger:r,pteranodon:d}))}this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},48576(O,S,i){i.d(S,{b:()=>c});var P=i(22097);class c extends P.${name="Cold";equipmentClass="ailment-defense";power=-5;originalPower=-5;uses=1;originalUses=1}},48626(O,S,i){i.d(S,{z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Lamprey";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LampreyAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:n,pteranodon:a}=e,o=this.owner;if(!t)return void this.triggerTigerExecution(e);const r=o.parent.nearestPetsAhead(this.level,o);if(0===r.pets.length)return void this.triggerTigerExecution(e);const d=r.pets;for(const f of d)o.dealDamage(f,1);const g=d.map(f=>f.name).join(", ");this.logService.createLog({message:`${o.name} dealt 1 damage to ${g} when ${t.name} fainted.`,type:"ability",player:o.parent,tiger:n,pteranodon:a,randomEvent:r.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},48740(O,S,i){i.d(S,{W:()=>Ht});var P=i(6988),c=i(90417),A=i(10858),_=i(16725),v=i(63683),e=i(36548),t=i(95033),n=i(33411),a=i(4399),o=i(3057),r=i(24990),d=i(60797),g=i(27906),f=i(24609),D=i(65006),k=i(75518),L=i(35115),N=i(22806),q=i(15896),ne=i(59951),Q=i(34133),$=i(40212),H=i(43870),ae=i(20188),re=i(13420),_e=i(13891),be=i(72354),Ee=i(44398),ke=i(50745),de=i(42390),Te=i(30450),Ne=i(90771),Ge=i(80163),Ie=i(15684),gt=i(35454),pt=i(59713),We=i(12765),tt=i(76350),At=i(72297),nt=i(69792),et=i(40468),Dt=i(91543),ct=i(30126),vt=i(20802),rt=i(93525),He=i(65103),kt=i(63979),Xt=i(93699),it=i(17144),$t=i(68546),Et=i(93012),ge=i(21545),we=i(77648),Ve=i(39486),Fe=i(91576),ot=i(37272),Bt=i(89443),Rt=i(52865),qt=i(67336),zt=i(5611);const Ht={"Iriomote Cat":P.U,"Ili Pika":c.M,"Malay Tapir":A.P,"Bombus Dahlbomii":_.o,"African Wild Dog":o.B,"Ethiopian Wolf":v.A,"Fan Mussel":e.u,"Togian Babirusa":t.Y,"Tooth Billed Pigeon":n.L,"Volcano Snail":a.K,"Araripe Manakin":r.s,"European Mink":d.N,"Proboscis Monkey":g.c,"Pygmy Hog":f.R,Saola:D.$,"Saker Falcon":k.j,"Taita Shrew":L.t,"White-Bellied Heron":N.d,"Darwin's Fox":q.y,"Amami Rabbit":ke.y,"Tree Kangaroo":de.T,"Blue-Throated Macaw":Q.B,Hirola:$._,"Monkey-Faced Bat":H.C,Takin:re.a,Tucuxi:_e.x,"Pygmy Hippo":ae.$,"Spoon-Billed Sandpiper":Ee.m,Angelshark:Te.H,"Giant Otter":nt.M,"Giant Tortoise":Ge.d,"Humphead Wrasse":Ie.S,Kakapo:pt.i,"Longcomb Sawfish":We.n,"Tasmanian Devil":At.P,"Amazon River Dolphin":tt.$,"Aye-aye":et.F,"Banggai Cardinalfish":Dt.Q,"Geometric Tortoise":ct.t,"Giant Pangasius":vt.B,"Hawaiian Monk Seal":rt.B,"Marine Iguana":He.y,"Red Panda":kt.e,"Taita Thrush":Xt.k,"Snow Leopard":$t.V,"Painted Terrapin":it.X,"Amsterdam Albatross":Et.A,"Black Rhino":we.a,"Blue Whale":Ve.i,"Green Sea Turtle":ot.N,"Helmeted Hornbill":Bt.L,"Philippine Eagle":Rt.B,"Sumatran Tiger":zt.Z,"Bay Cat":ge.P,Bonobo:Ne.m,"California Condor":Fe.k,"Golden Tamarin":gt.U,"Roloway Monkey":be.n,"Silky Sifaka":qt.e,Takhi:ne.y}},48762(O,S,i){i.d(S,{S:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;name="Hyena";tier=5;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"HyenaAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{gameApi:n,tiger:o,pteranodon:r}=t;switch(this.level){case 1:this.level1Ability(n,o,r);break;case 2:this.level2Ability(n,o,r);break;case 3:this.level3Ability(n,o,r)}this.triggerTigerExecution(t)}level1Ability(t,n,a){const o=this.owner;let r=o.parent.getAll(!0,o);for(let d of r.pets){let g=d.health;d.health=d.attack,d.attack=g}this.logService.createLog({message:`${o.name} swapped all pets attack and health.`,type:"ability",player:o.parent,tiger:n,pteranodon:a})}level2Ability(t,n,a){const o=this.owner;this.shufflePets(t.player),this.shufflePets(t.opponent),this.logService.createLog({message:`${o.name} shuffled positions of all pets.`,type:"ability",player:o.parent,tiger:n,pteranodon:a,randomEvent:!0})}level3Ability(t,n,a){this.level1Ability(t,n,a),this.level2Ability(t,n,a)}shufflePets(t){let n=t.petArray;(0,A.k4)(n);for(let a=0;a<n.length;a++)t.setPet(a,n[a])}copy(t){return new v(t,this.logService)}}},48813(O,S,i){i.d(S,{a:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Jerboa";tier=4;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;lastTriggeredTurn=null;constructor(e,t,n){super({name:"Jerboa Ability",owner:e,triggers:["AppleEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:t,pteranodon:n,gameApi:a}=e,o=this.owner,r=a?.turnNumber??null;if(null!=r&&this.lastTriggeredTurn===r)return void this.triggerTigerExecution(e);this.lastTriggeredTurn=r;const d=this.level,g=o.parent,f=g.petArray.filter(D=>D&&D.alive&&D!==o);if(0!==f.length){for(const D of f)D.increaseAttack(d),D.increaseHealth(d);this.logService.createLog({message:`${o.name} ate an apple and gave friendly pets +${d}/+${d}.`,type:"ability",player:g,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},48955(O,S,i){i.d(S,{t:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Wolf";tier=5;pack="Golden";attack=4;health=4;constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class _ extends c.T{logService;abilityService;petService;constructor(e,t,n,a){super({name:"WolfAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=n,this.petService=a}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d={attack:3*this.level,health:2*this.level};for(let g=0;g<3;g++){let f=this.petService.createPet({attack:d.attack,equipment:null,exp:r.minExpForLevel,health:d.health,name:"Pig",mana:0},r.parent),D=r.parent.summonPet(f,r.savedPosition,!1,r);D.success&&this.logService.createLog({message:`${r.name} spawned ${f.name} ${d.attack}/${d.health}`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:D.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService,this.petService)}}},49090(O,S,i){i.d(S,{n:()=>_});var P=i(95006),c=i(84787),A=i(13004);function _(t,n){return"function"==typeof n?a=>a.pipe(_((o,r)=>(0,c.H)(t(o,r)).pipe((0,P.T)((d,g)=>n(o,d,r,g))))):a=>a.lift(new v(t))}class v{constructor(n){this.project=n}call(n,a){return a.subscribe(new e(n,this.project))}}class e extends A.gn{constructor(n,a){super(n),this.project=a,this.index=0}_next(n){let a;const o=this.index++;try{a=this.project(n,o)}catch(r){return void this.destination.error(r)}this._innerSub(a)}_innerSub(n){const a=this.innerSubscription;a&&a.unsubscribe();const o=new A.zA(this),r=this.destination;r.add(o),this.innerSubscription=(0,A.tS)(n,o),this.innerSubscription!==o&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}},49149(O,S,i){i.d(S,{e:()=>t});var P=i(23828),c=i(61850),A=i(83028),_=i(47868),v=i(1744),e=i(24111);let t=(()=>{class n{gameService;logService;startOfBattleToyEvents=[];emptyFrontSpaceToyEvents=[];friendSummonedToyEvents=[];friendlyLevelUpToyEvents=[];friendFaintsToyEvents=[];friendJumpedToyEvents=[];constructor(o,r){this.gameService=o,this.logService=r,this.logService=(0,A.V)(this.logService)}enqueueToyEvents(o,r,d,g,f){this.addToyEvent(o,{callback:f,priority:100,level:d.level,triggerPet:g,player:r,customParams:{toyName:d.name,suppressFriendFaintLog:d.suppressFriendFaintLog}});const D=r.petArray.filter(k=>"Puma"===k.name);for(const k of D)this.addToyEvent(o,{callback:f,priority:+k.attack,level:k.level,triggerPet:g,player:r})}getActiveToys(o){const r=[];return o.toy&&r.push(o.toy),o.hardToy&&r.push(o.hardToy),r}addToyEvent(o,r){o.push(r)}setStartOfBattleEvent(o){o.tieBreaker=(0,c.Ak)(),this.startOfBattleToyEvents.push(o)}executeStartOfBattleEvents(){const o=(0,P.A)(this.startOfBattleToyEvents);o.sort((d,g)=>d.priority!==g.priority?g.priority-d.priority:(g.tieBreaker??0)-(d.tieBreaker??0));const r=new Map;for(const d of o)r.set(d.priority,(r.get(d.priority)??0)+1);for(const d of o){const g=(r.get(d.priority)??0)>1;this.logStartOfBattleToyEvent(d,g,g?"tie-broken":"deterministic"),d.callback(this.gameService.gameApi)}this.startOfBattleToyEvents=[]}logStartOfBattleToyEvent(o,r,d){const g=o.customParams?.toyName??o.player?.toy?.name;g&&this.logService.createLog({message:`${o.player?.isOpponent?"Opponent's":"Player's"} ${g} activated at start of battle${o.triggerPet?.name?` (${o.triggerPet.name})`:""}`,type:"ability",player:o.player,randomEvent:r,randomEventReason:d})}executeToyEventQueue(o,r,d,g){const f=(0,P.A)(o);f.sort((k,L)=>k.priority>L.priority?-1:k.priority<L.priority?1:0);const D=new Map;for(const k of f)D.set(k.priority,(D.get(k.priority)??0)+1);for(const k of f){if(d&&(null==g||g(k))){const L=(D.get(k.priority)??0)>1;this.logToyEvent(k,d,L,L?"tie-broken":"deterministic")}r(k)}o.length=0}logToyEvent(o,r,d,g){const f=o.customParams?.toyName??o.player?.toy?.name;f&&this.logService.createLog({message:`${f} ${r}${o.triggerPet?.name?` (${o.triggerPet.name})`:""}`,type:"ability",player:o.player,randomEvent:d,randomEventReason:g})}triggerEmptyFrontSpaceToyEvents(o){for(const r of this.getActiveToys(o))null!=r.emptyFromSpace&&(r.used||this.enqueueToyEvents(this.emptyFrontSpaceToyEvents,o,r,void 0,r.emptyFromSpace.bind(r)))}executeEmptyFrontSpaceToyEvents(){this.executeToyEventQueue(this.emptyFrontSpaceToyEvents,o=>{o.callback(this.gameService.gameApi,o.priority<100,o.level,o.priority)},"triggered after empty front space")}triggerFriendSummonedToyEvents(o,r){for(const d of this.getActiveToys(o))null!=d.friendSummoned&&this.enqueueToyEvents(this.friendSummonedToyEvents,o,d,r,d.friendSummoned.bind(d))}executeFriendSummonedToyEvents(){this.executeToyEventQueue(this.friendSummonedToyEvents,o=>{o.callback(this.gameService.gameApi,o.triggerPet,o.priority<100,o.level)},"reacted to friend summoned")}triggerFriendlyLevelUpToyEvents(o,r){if(o==r.parent)for(const d of this.getActiveToys(o))null!=d.friendlyLevelUp&&this.enqueueToyEvents(this.friendlyLevelUpToyEvents,o,d,r,d.friendlyLevelUp.bind(d))}executeFriendlyLevelUpToyEvents(){this.executeToyEventQueue(this.friendlyLevelUpToyEvents,o=>{o.callback(this.gameService.gameApi,o.triggerPet,o.priority<100,o.level)},"reacted to friendly level up")}triggerFriendFaintsToyEvents(o,r){if(o==r.parent)for(const d of this.getActiveToys(o))null!=d.friendFaints&&this.enqueueToyEvents(this.friendFaintsToyEvents,o,d,r,d.friendFaints.bind(d))}executeFriendFaintsToyEvents(){this.executeToyEventQueue(this.friendFaintsToyEvents,o=>{o.callback(this.gameService.gameApi,o.triggerPet,o.priority<100,o.level)},"reacted to friend fainting",o=>!o.customParams?.suppressFriendFaintLog)}triggerFriendJumpedToyEvents(o,r){if(o==r.parent)for(const d of this.getActiveToys(o))null!=d.friendJumped&&this.enqueueToyEvents(this.friendJumpedToyEvents,o,d,r,d.friendJumped.bind(d))}executeFriendJumpedToyEvents(){this.executeToyEventQueue(this.friendJumpedToyEvents,o=>{o.callback(this.gameService.gameApi,o.triggerPet,o.priority<100,o.level)},"reacted to friend jumping")}static \u0275fac=function(r){return new(r||n)(_.KVO(v.w),_.KVO(e.K))};static \u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()},49230(O,S,i){i.d(S,{K:()=>o});var P=i(99462),c=i(83028),A=i(47868),_=i(1744),v=i(24111),e=i(49149),t=i(22168),n=i(23393),a=i(63891);let o=(()=>{class r extends P.m{gameService;logService;toyEventService;abilityQueueService;attackEventService;faintEventService;gameApi;lastLoggedTrigger;nonPhaseExecutionLock=null;constructor(g,f,D,k,L,N){super(),this.gameService=g,this.logService=f,this.toyEventService=D,this.abilityQueueService=k,this.attackEventService=L,this.faintEventService=N,this.logService=(0,c.V)(this.logService)}clearGlobalEventQueue(){this.abilityQueueService.clearGlobalEventQueue(),this.lastLoggedTrigger=void 0}get hasGlobalEvents(){return this.abilityQueueService.hasGlobalEvents}get hasAbilityCycleEvents(){return this.abilityQueueService.hasGlobalEvents}getQueueSnapshot(){return[...this.abilityQueueService.globalEventQueue]}getNextHighestPriorityEvent(){return this.abilityQueueService.getNextHighestPriorityEvent()}peekNextHighestPriorityEvent(){return this.abilityQueueService.peekNextHighestPriorityEvent()}getPriorityNumber(g){return this.abilityQueueService.getPriorityNumber(g)}executeEventCallback(g){this.logTriggerHeader(g),this.abilityQueueService.executeEvent(g,this.gameService.gameApi),this.hasGlobalEvents||(this.lastLoggedTrigger=void 0)}logTriggerHeader(g){if(!this.logService.isShowTriggerNamesInLogs())return void(this.lastLoggedTrigger=void 0);const f=g?.abilityType;f&&this.lastLoggedTrigger!==f&&(this.lastLoggedTrigger=f,this.logService.createLog({message:`${f}:`,type:"ability",player:g.player??g.pet?.parent}))}clearLastLoggedTrigger(){this.lastLoggedTrigger=void 0}simulatePostRemovalFriendFaintsCounters(g,f){this.abilityQueueService.simulatePostRemovalFriendFaintsCounters(g,f)}initSpecialEndTurnAbility(g){for(let f of g.petArray)f.hasTrigger("SpecialEndTurn")&&f.executeAbilities("SpecialEndTurn",this.gameService.gameApi)}triggerEndTurnEvents(){this.gameApi=this.gameService.gameApi;for(const g of this.gameApi.player.petArray)g.hasTrigger("EndTurn")&&this.abilityQueueService.triggerAbility(g,"EndTurn");for(const g of this.gameApi.opponent.petArray)g.hasTrigger("EndTurn")&&this.abilityQueueService.triggerAbility(g,"EndTurn")}executeEndTurnEvents(){this.processPhaseWithInterleaving(new Set(["EndTurn"]))}triggerBeforeStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let g of this.gameApi.player.petArray)g.hasTrigger("BeforeStartBattle")&&this.abilityQueueService.triggerAbility(g,"BeforeStartBattle");for(let g of this.gameApi.opponent.petArray)g.hasTrigger("BeforeStartBattle")&&this.abilityQueueService.triggerAbility(g,"BeforeStartBattle")}resetBeforeStartOfBattleEvents(){}executeBeforeStartOfBattleEvents(){this.processPhaseWithInterleaving(new Set(["BeforeStartBattle"]))}setCounterEvent(g){this.abilityQueueService.addEventToQueue(g)}triggerStartBattleEvents(g){this.gameApi=this.gameService.gameApi;for(let f of this.gameApi.player.petArray)f.hasTrigger("StartBattle")&&(!g||g(f))&&this.abilityQueueService.triggerAbility(f,"StartBattle");for(let f of this.gameApi.opponent.petArray)f.hasTrigger("StartBattle")&&(!g||g(f))&&this.abilityQueueService.triggerAbility(f,"StartBattle")}executeStartBattleEvents(){this.processPhaseWithInterleaving(new Set(["StartBattle"]),!1,!0)}triggerBeforeAttackEvent(g){this.attackEventService.triggerBeforeAttackEvents(g)}executeBeforeAttackEvents(){if(this.nonPhaseExecutionLock)return;const g=new Set(["BeforeFriendlyAttack","BeforeThisAttacks","BeforeFirstAttack","BeforeFriendAttacks","BeforeAdjacentFriendAttacked"]),f=new Set(["BeforeStartBattle","StartBattle"]);this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:D=>g.has(D.abilityType),onExecute:D=>this.logTriggerHeader(D)}),this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:D=>!f.has(D.abilityType),onExecute:D=>this.logTriggerHeader(D)}),this.lastLoggedTrigger=void 0}executeBeforeAttackTriggerOnly(){if(this.nonPhaseExecutionLock)return;const g=new Set(["BeforeFriendlyAttack","BeforeThisAttacks","BeforeFirstAttack","BeforeFriendAttacks","BeforeAdjacentFriendAttacked"]);this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:f=>g.has(f.abilityType),onExecute:f=>this.logTriggerHeader(f)}),this.lastLoggedTrigger=void 0}triggerAttacksEvents(g){this.attackEventService.triggerAfterAttackEvents(g)}executeAfterAttackEvents(){if(this.nonPhaseExecutionLock)return;const g=new Set(["FriendlyAttacked","FriendAttacked","FriendAheadAttacked","AdjacentFriendAttacked","AnyoneAttack","EnemyAttacked","ThisAttacked","ThisFirstAttack"]),f=new Set(["BeforeStartBattle","StartBattle"]);this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:D=>{const k=D.abilityType;return!!g.has(k)||/^(FriendlyAttacked|FriendAttacked|EnemyAttacked)\d+$/.test(k)},onExecute:D=>this.logTriggerHeader(D)}),this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:D=>!f.has(D.abilityType),onExecute:D=>this.logTriggerHeader(D)}),this.lastLoggedTrigger=void 0}takeNextPhaseEvent(g){const f=this.abilityQueueService.globalEventQueue;let D=-1;for(let L=0;L<f.length;L++){const N=f[L];if(!g.has(N.abilityType))continue;if(-1===D){D=L;continue}const q=f[D],ne=this.abilityQueueService.getPriorityNumber(N.abilityType),Q=this.abilityQueueService.getPriorityNumber(q.abilityType);if(ne<Q){D=L;continue}if(ne>Q)continue;const $=N.pet?.transformed&&N.pet?.transformedInto?N.pet.transformedInto:N.pet,H=q.pet?.transformed&&q.pet?.transformedInto?q.pet.transformedInto:q.pet,ae=$?this.abilityQueueService.getPetEventPriority($):Number(N.priority??0),re=H?this.abilityQueueService.getPetEventPriority(H):Number(q.priority??0);ae>re?D=L:ae<re||Number(N.tieBreaker??0)<Number(q.tieBreaker??0)&&(D=L)}if(-1===D)return null;const[k]=f.splice(D,1);return k??null}processPhaseWithInterleaving(g,f=!0,D=!1){const k=()=>{this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:q=>!g.has(q.abilityType),onExecute:q=>this.logTriggerHeader(q)})},L=()=>{for(;;){const q=this.takeNextPhaseEvent(g);if(!q)break;this.logTriggerHeader(q),this.abilityQueueService.executeEvent(q,this.gameService.gameApi),f&&k()}},N=this.nonPhaseExecutionLock;D&&(this.nonPhaseExecutionLock=g);try{L()}finally{D&&(this.nonPhaseExecutionLock=N)}f||k(),this.lastLoggedTrigger=void 0}static \u0275fac=function(f){return new(f||r)(A.KVO(_.w),A.KVO(v.K),A.KVO(e.e),A.KVO(t.b),A.KVO(n.q),A.KVO(a.q))};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()},49449(O,S,i){i.d(S,{o:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Giant Isopod";tier=5;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;triggerCount=0;constructor(e,t){super({name:"Giant Isopod Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,o=[2,4,6][Math.min(Math.max(this.level-1,0),2)]+Math.floor(this.triggerCount/2),r=t.parent.petArray.filter(d=>d&&d.alive&&d!==t);for(const d of r)d.increaseHealth(o);this.logService.createLog({message:`${t.name} gave ${r.length} friends +${o} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),t.parent.trumpets>=2&&t.parent.spendTrumpets(2,t),this.triggerCount++,this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},49517(O,S,i){i.d(S,{I:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Beluga Whale";tier=5;pack="Golden";attack=2;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D,k){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D),this.belugaSwallowedPet=k??null}}class _ extends c.T{logService;abilityService;petService;constructor(e,t,n,a){super({name:"BelugaWhaleAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>{this.executeAbility(o)},ignoreRepeats:!0}),this.logService=t,this.abilityService=n,this.petService=a}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;if(null==r.belugaSwallowedPet||r.alive)return;let d=this.petService.createPet({attack:null,equipment:null,exp:this.minExpForLevel,health:null,name:r.belugaSwallowedPet,mana:0},r.parent);const g=this.level,D=d.health-d.exp;d.attack=(d.attack-d.exp)*g,d.health=D*g,d.originalAttack=d.attack,d.originalHealth=d.health;let k=r.parent.summonPet(d,r.savedPosition,!1,r);k.success&&this.logService.createLog({message:`${r.name} spawned ${d.name} Level ${this.level}`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:k.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService,this.petService)}}},49547(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Jackal";tier=5;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Jackal Ability",owner:e,triggers:["AnyoneFlung"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=e.triggerPet;if(!n||n!==t)return;const a=[13,26,39],o=a[Math.min(Math.max(this.level-1,0),a.length-1)];t.attack=o,t.health=o,this.logService.createLog({message:`${t.name} was flung and reset to ${o}/${o}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},49575(O,S,i){i.d(S,{W:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Axolotl";tier=5;pack="Puppy";attack=2;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"AxolotlAbility",owner:t,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,precondition:a=>{const{triggerPet:o}=a,g=(0,A.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=(0,A.lK)(d,a),f=g.pet;if(null==f)return;let D=this.level;f.increaseAttack(D),f.increaseHealth(D),this.logService.createLog({message:`${d.name} gave ${f.name} ${D} attack and ${D} health.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},49769(O,S,i){i.d(S,{MD:()=>qa,Sq:()=>qn,T3:()=>ze,YU:()=>Vn,bT:()=>hn});var P=i(17705),c=i(47868),A=i(35547);const Ei=/\s+/,en=[];let Vn=(()=>{class Y{_ngEl;_renderer;initialClasses=en;rawClass;stateMap=new Map;constructor(ie,oe){this._ngEl=ie,this._renderer=oe}set klass(ie){this.initialClasses=null!=ie?ie.trim().split(Ei):en}set ngClass(ie){this.rawClass="string"==typeof ie?ie.trim().split(Ei):ie}ngDoCheck(){for(const oe of this.initialClasses)this._updateState(oe,!0);const ie=this.rawClass;if(Array.isArray(ie)||ie instanceof Set)for(const oe of ie)this._updateState(oe,!0);else if(null!=ie)for(const oe of Object.keys(ie))this._updateState(oe,!!ie[oe]);this._applyStateDiff()}_updateState(ie,oe){const De=this.stateMap.get(ie);void 0!==De?(De.enabled!==oe&&(De.changed=!0,De.enabled=oe),De.touched=!0):this.stateMap.set(ie,{enabled:oe,changed:!0,touched:!0})}_applyStateDiff(){for(const ie of this.stateMap){const oe=ie[0],De=ie[1];De.changed?(this._toggleClass(oe,De.enabled),De.changed=!1):De.touched||(De.enabled&&this._toggleClass(oe,!1),this.stateMap.delete(oe)),De.touched=!1}}_toggleClass(ie,oe){(ie=ie.trim()).length>0&&ie.split(Ei).forEach(De=>{oe?this._renderer.addClass(this._ngEl.nativeElement,De):this._renderer.removeClass(this._ngEl.nativeElement,De)})}static \u0275fac=function(oe){return new(oe||Y)(A.rXU(A.aKT),A.rXU(A.sFG))};static \u0275dir=A.FsC({type:Y,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return Y})();class rn{$implicit;ngForOf;index;count;constructor(me,ie,oe,De){this.$implicit=me,this.ngForOf=ie,this.index=oe,this.count=De}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qn=(()=>{class Y{_viewContainer;_template;_differs;set ngForOf(ie){this._ngForOf=ie,this._ngForOfDirty=!0}set ngForTrackBy(ie){this._trackByFn=ie}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(ie,oe,De){this._viewContainer=ie,this._template=oe,this._differs=De}set ngForTemplate(ie){ie&&(this._template=ie)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ie=this._ngForOf;!this._differ&&ie&&(this._differ=this._differs.find(ie).create(this.ngForTrackBy))}if(this._differ){const ie=this._differ.diff(this._ngForOf);ie&&this._applyChanges(ie)}}_applyChanges(ie){const oe=this._viewContainer;ie.forEachOperation((De,$e,Qe)=>{if(null==De.previousIndex)oe.createEmbeddedView(this._template,new rn(De.item,this._ngForOf,-1,-1),null===Qe?void 0:Qe);else if(null==Qe)oe.remove(null===$e?void 0:$e);else if(null!==$e){const lt=oe.get($e);oe.move(lt,Qe),Ea(lt,De)}});for(let De=0,$e=oe.length;De<$e;De++){const lt=oe.get(De).context;lt.index=De,lt.count=$e,lt.ngForOf=this._ngForOf}ie.forEachIdentityChange(De=>{Ea(oe.get(De.currentIndex),De)})}static ngTemplateContextGuard(ie,oe){return!0}static \u0275fac=function(oe){return new(oe||Y)(A.rXU(A.c1b),A.rXU(A.C4Q),A.rXU(P._q3))};static \u0275dir=A.FsC({type:Y,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return Y})();function Ea(Y,me){Y.context.$implicit=me.item}let hn=(()=>{class Y{_viewContainer;_context=new gn;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(ie,oe){this._viewContainer=ie,this._thenTemplateRef=oe}set ngIf(ie){this._context.$implicit=this._context.ngIf=ie,this._updateView()}set ngIfThen(ie){pi(ie),this._thenTemplateRef=ie,this._thenViewRef=null,this._updateView()}set ngIfElse(ie){pi(ie),this._elseTemplateRef=ie,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(ie,oe){return!0}static \u0275fac=function(oe){return new(oe||Y)(A.rXU(A.c1b),A.rXU(A.C4Q))};static \u0275dir=A.FsC({type:Y,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return Y})();class gn{$implicit=null;ngIf=null}function pi(Y,me){if(Y&&!Y.createEmbeddedView)throw new c.buA(2020,!1)}let ze=(()=>{class Y{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(ie){this._viewContainerRef=ie}ngOnChanges(ie){if(this._shouldRecreateView(ie)){const oe=this._viewContainerRef;if(this._viewRef&&oe.remove(oe.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const De=this._createContextForwardProxy();this._viewRef=oe.createEmbeddedView(this.ngTemplateOutlet,De,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(ie){return!!ie.ngTemplateOutlet||!!ie.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(ie,oe,De)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,oe,De),get:(ie,oe,De)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,oe,De)}})}static \u0275fac=function(oe){return new(oe||Y)(A.rXU(A.c1b))};static \u0275dir=A.FsC({type:Y,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[A.OA$]})}return Y})(),qa=(()=>{class Y{static \u0275fac=function(oe){return new(oe||Y)};static \u0275mod=A.$C({type:Y});static \u0275inj=c.G2t({})}return Y})()},49943(O,S,i){i.d(S,{b:()=>_});var P=i(44402),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Turtle";tier=4;pack="Turtle";attack=2;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"TurtleAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithEquipment("Melon"),f=d.parent.nearestPetsBehind(this.level,d,g);if(0!=f.pets.length){for(let D of f.pets)this.logService.createLog({message:`${d.name} gave ${D.name} Melon.`,type:"ability",tiger:o,player:d.parent,pteranodon:r,randomEvent:f.random}),D.givePetEquipment(new P.m);this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},49999(O,S,i){i.d(S,{O:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Black Necked Stilt";tier=2;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BlackNeckedStiltAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{pteranodon:o}=e,r=this.owner;let d=2*this.level;const g=r.parent.resolveTrumpetGainTarget(r);g.player.gainTrumpets(d,r,o,void 0,void 0,g.random),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},50048(O,S,i){i.d(S,{EX:()=>v});var P=i(607),c=i(46200),A=i(24207),_=i(5615);class v extends c.i{logService;abilityService;name="Phoenix";tier=6;pack="Unicorn";attack=8;health=8;initAbilities(){this.addAbility(new t(this,this.logService)),this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class e extends _.T{logService;abilityService;constructor(a,o,r){super({name:"PhoenixAfterFaintAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.abilityService=r}executeAbility(a){const{tiger:d,pteranodon:g}=a,f=this.owner;let D=4*this.level,k=new A.C(this.logService,this.abilityService,f.parent,D,D,0),L=f.parent.summonPet(k,f.savedPosition,!1,f);L.success&&this.logService.createLog({message:`${f.name} spawned a Young Phoenix (${D}/${D}).`,type:"ability",player:f.parent,tiger:d,pteranodon:g,sourcePet:f,randomEvent:L.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new e(a,this.logService,this.abilityService)}}class t extends _.T{logService;constructor(a,o){super({name:"PhoenixFaintAbility",owner:a,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=o}executeAbility(a){const{tiger:d}=a,f=this.owner;let D=3*this.level,L=[...f.parent.petArray,...f.parent.opponent.petArray].filter(ne=>ne.equipment instanceof P.Y),N=f.parent.getRandomPets(D,L,!0,!0,f,!0),q=N.pets;if(q.length>0)for(let ne of q)this.logService.createLog({message:`${f.name} gave ${ne.name} Crisp.`,type:"ability",randomEvent:N.random,tiger:d,player:f.parent}),ne.givePetEquipment(new P.Y);this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},50119(O,S,i){i.d(S,{e:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Falcon";tier=4;pack="Golden";attack=5;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.petService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}class _ extends c.T{logService;petService;abilityService;constructor(e,t,n,a){super({name:"FalconAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.petService=n,this.abilityService=a}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let d=3*this.level,g=this.petService.createPet({attack:d,health:d,name:n.name,exp:r.minExpForLevel,equipment:null,mana:0},r.parent),f=r.parent.summonPet(g,r.savedPosition,!1,r);f.success&&this.logService.createLog({message:`${r.name} spawned ${g.name} ${d}/${d} Level ${this.level}`,type:"ability",player:r.parent,tiger:a,randomEvent:f.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.petService,this.abilityService)}}},50229(O,S,i){i.d(S,{F:()=>_});var P=i(46200),c=i(5615),A=i(15523);class _ extends P.i{logService;abilityService;name="Cuckoo";tier=5;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"CuckooAbility",owner:t,triggers:["EnemyFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{triggerPet:n,tiger:a,pteranodon:o}=t,r=this.owner,d=r.parent.opponent;if(this.currentUses>2*this.level)return;let f=new A.Z(this.logService,this.abilityService,d);f.initPet(0,1,1,0,null,0);let k=d.summonPet(f,n?.savedPosition??0,!0,r);k.success&&this.logService.createLog({message:`${r.name} summoned Cuckoo Chick for the enemy Early.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:k.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},50253(O,S,i){i.d(S,{A:()=>v});var P=i(31685),c=i(42661);const v=function _(e){return(0,c.A)(e)&&"[object Arguments]"==(0,P.A)(e)}},50336(O,S,i){i.d(S,{A:()=>A});var P=i(61319);const A=function c(_,v){for(var e=_.length;e--;)if((0,P.A)(_[e][0],v))return e;return-1}},50342(O,S,i){i.d(S,{y:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Siamese";tier=4;pack="Star";health=5;attack=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"SiameseAbility",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=(0,A.MZ)(n);if(0===a.length)return void this.triggerTigerExecution(t);const r=this.level,d=!0===t.discountedFood||!0===t.shopDiscountedFood?this.level:0;for(const g of a)g.increaseAttack(r),d>0&&g.increaseHealth(d);this.logService.createLog({message:`${n.name} gave adjacent friends +${r} attack${d>0?` and +${d} health`:""}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:a.length>1}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},50424(O,S,i){i.d(S,{S:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Octopus";tier=6;pack="Puppy";attack=8;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"OctopusAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,d=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[r],null,!0,r);let g=d.pets;for(let D of g){if(null==D)return;r.snipePet(D,6,d.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},50598(O,S,i){i.d(S,{g:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Lobster";tier=4;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"LobsterAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=(0,A.Uj)(n,t.triggerPet);if(!a.pet)return;const o=this.level,r=2*this.level;a.pet.increaseAttack(o),a.pet.increaseHealth(r),(0,A.rv)(this.logService,n,`${n.name} gave ${a.pet.name} ${o} attack and ${r} health.`,t.tiger,t.pteranodon,{randomEvent:a.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},50702(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Buffalo";tier=4;pack="Puppy";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;pendingAttack=0;pendingHealth=0;constructor(e,t,n){super({name:"BuffaloAbility",owner:e,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return(this.pendingAttack||this.pendingHealth)&&(t.increaseAttack(-this.pendingAttack),t.increaseHealth(-this.pendingHealth)),this.pendingAttack=0,this.pendingHealth=0,void this.triggerTigerExecution(e);const n=e.triggerPet;if(!n||!n.isSellPet())return void this.triggerTigerExecution(e);const a=2*this.level;t.increaseAttack(a),t.increaseHealth(a),this.pendingAttack+=a,this.pendingHealth+=a,this.logService.createLog({message:`${t.name} gained +${a}/+${a} until next turn after ${n.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},50745(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Amami Rabbit";tier=3;pack="Danger";attack=1;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AmamiRabbitAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=1*this.level,g=r.parent.opponent.getHighestAttackPet(void 0,r);if(g.pet&&g.pet.alive){if(r.jumpAttackPrep(g.pet),r.transformed&&r.transformedInto){let f=r.parent.getThis(r.transformedInto);f.pet&&(r.transformedInto.increaseAttack(d),this.logService.createLog({message:`${r.name} gave ${r.transformedInto.name} ${d} attack`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}))}else{let f=r.parent.getThis(r);f.pet&&(f.pet.increaseAttack(d),this.logService.createLog({message:`${r.name} gave ${f.pet.name} ${d} attack`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}))}r.jumpAttack(g.pet,a,void 0,g.random)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},50795(O,S,i){i.d(S,{I:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Capybara";tier=3;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"CapybaraAbility",owner:e,triggers:["Roll","FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} gave newly rolled shop pets +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},50871(O,S,i){i.d(S,{i:()=>v});var P=i(46200),c=i(5615),A=i(83991),_=i(1152);class v extends P.i{logService;abilityService;name="Bilby";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(n,a){super({name:"BilbyAbility",owner:n,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:o=>(0,_.Re)(this.owner,o.triggerPet,{excludeOwner:!0}),abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{triggerPet:o,tiger:r}=n,g=this.owner;let f=(0,_.lK)(g,o),D=f.pet;null!=D&&(this.logService.createLog({message:`${g.name} gave ${D.name} Garlic.`,type:"ability",player:g.parent,tiger:r,randomEvent:f.random}),D.givePetEquipment(new A.T),this.triggerTigerExecution(n))}copy(n){return new e(n,this.logService)}}},50873(O,S,i){i.d(S,{L:()=>c});var P=i(83028);class c{logService;toyService;name;parent;level;tier;used=!1;suppressFriendFaintLog=!1;triggers=0;constructor(_,v,e,t){this.logService=_,this.toyService=v,(0,P.L)(this),this.parent=e,this.level=t}}},50885(O,S,i){i.d(S,{p:()=>c});var P=i(22097);class c extends P.${name="Brussels Sprout";equipmentClass="shield";power=5;originalPower=5;uses=1;originalUses=1}},51235(O,S,i){i.d(S,{I:()=>A});var P=i(27389);const c=new P.c(v=>v.complete());function A(v){return v?function _(v){return new P.c(e=>v.schedule(()=>e.complete()))}(v):c}},51384(O,S,i){i.d(S,{d:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Elephant Seal";tier=6;pack="Puppy";attack=4;health=8;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}}class _ extends c.T{logService;constructor(e,t){super({name:"ElephantSealAbility",owner:e,triggers:["ThisGainedPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=4*this.level,g=r.parent.getRandomPets(3,[r],!0,!1,r);for(let f of g.pets)null!=f&&(f.increaseAttack(d),f.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${f.name} ${d} attack and ${d} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}));this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},51610(O,S,i){i.d(S,{o:()=>c});var P=i(22097);class c extends P.${name="Rice";tier=2;equipmentClass="shop";callback=_=>{_.increaseSellValue(2*this.multiplier)}}},51665(O,S,i){i.d(S,{K:()=>_});var P=i(46200),c=i(80249),A=i(5615);class _ extends P.i{logService;abilityService;name="Fur-Bearing Trout";tier=3;pack="Unicorn";attack=3;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"FurBearingTroutAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=[],f=d;for(;g.length<this.level;){let D=f.petBehind();if(null==D)break;D.equipment instanceof c.B||g.push(D),f=D}if(0!==g.length){for(let D of g)this.logService.createLog({message:`${d.name} gave ${D.name} a Rambutan.`,type:"ability",player:d.parent,tiger:o}),D.givePetEquipment(new c.B(this.logService));this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},51838(O,S,i){i.d(S,{K:()=>c});var P=i(22097);class c extends P.${name="Coconut";tier=7;equipmentClass="shield";power=999;originalPower=999;uses=1;originalUses=1}},51876(O,S,i){i.d(S,{u:()=>_});var P=i(46200),c=i(5615),A=i(42075);class _ extends P.i{logService;abilityService;name="Macaque";tier=5;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"MacaqueAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=12*this.level,f=new A.u(this.logService,this.abilityService,d.parent,g,g,0,d.minExpForLevel,d.equipment),D=d.parent.summonPetInFront(d,f);if(D.success){let k=`${d.name} spawned Orangutan ${f.attack}/${f.health}`;null!=d.equipment&&(k+=` with ${d.equipment.name}`),k+=".",this.logService.createLog({message:k,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:D.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},52078(O,S,i){i.d(S,{W:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Thunderbird";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ThunderbirdAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.nearestPetsAhead(2,r);if(d.pets.length<1)return;let f=d.pets[1]??d.pets[0];if(null==f)return;let D=3*this.level;this.logService.createLog({message:`${r.name} gave ${f.name} ${D} mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),f.increaseMana(D),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},52164(O,S,i){i.d(S,{g:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Grizzly Bear";tier=6;pack="Golden";attack=6;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GrizzlyBearAbility",owner:e,triggers:["FriendlyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getRandomEnemyPetsWithSillyFallback(2,[],!0,!1,r),g=d.pets,f=6*this.level;for(let D of g)r.snipePet(D,f,d.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},52561(O,S,i){i.d(S,{f:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Zebra";tier=5;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Zebra Ability",owner:e,triggers:["ThisBought","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,n=t.parent.getRandomPets(1,[t],!1,!1,t),a=n.pets[0];if(!a)return void this.triggerTigerExecution(e);const o=2*this.level;a.increaseAttack(o),a.increaseHealth(o),this.logService.createLog({message:`${t.name} gave ${a.name} +${o}/+${o}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},52573(O,S,i){i.d(S,{N:()=>v});var P=i(21580),c=i(46200),A=i(41943),_=i(5615);class v extends c.i{logService;abilityService;name="Deer";tier=4;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends _.T{logService;abilityService;constructor(n,a,o){super({name:"DeerAbility",owner:n,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=o}executeAbility(n){const{tiger:r,pteranodon:d}=n,g=this.owner;let k=new A.z(this.logService,this.abilityService,g.parent,3*this.level,5*this.level,null,this.minExpForLevel,new P.k(this.logService,this.abilityService)),L=g.parent.summonPet(k,g.savedPosition,!1,g);L.success&&this.logService.createLog({message:`${g.name} spawned Bus level ${this.level}`,type:"ability",player:g.parent,tiger:r,pteranodon:d,randomEvent:L.randomEvent}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},52783(O,S,i){i.d(S,{y:()=>a});var P=i(76413),c=i(35045),A=i(43959),_=i(1257),v=i(83167),e=i(48740),t=i(17996),n=i(56015);const a={...P.n,...c.x,...A.t,..._.C,...v.f,...e.W,...t.Y,...n.D}},52865(O,S,i){i.d(S,{B:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Philippine Eagle";tier=6;pack="Danger";attack=7;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PhilippineEagleAbility",owner:e,triggers:["AnyoneJumped"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getRandomPet([],!1,!1,!1,r),g=d.pet;if(!g)return;let f=4*this.level;g.increaseAttack(f),g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} +${f} attack and +${f} health`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},53092(O,S,i){i.d(S,{I:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Minotaur";tier=4;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MinotaurAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;if(!n)return;let d=this.level*n.level,g=r.parent.getThis(r),f=g.pet;null!=f&&(this.logService.createLog({message:`${r.name} gave ${f.name} ${d} attack and ${d} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),f.increaseAttack(d),f.increaseHealth(d),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},53108(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Cassowary";tier=3;pack="Star";attack=5;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CassowaryAbility",owner:e,triggers:["FriendlyGainedStrawberry"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,d=this.level;let f=r.parent.getThis(r).pet;null!=f&&(this.logService.createLog({message:`${r.name} gave ${f.name} +${d} permanent health and +${d} attack for this battle.`,type:"ability",player:r.parent,tiger:a}),f.increaseHealth(d),f.increaseAttack(d),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},53190(O,S,i){i.d(S,{y:()=>_});var P=i(46200),c=i(5615),A=i(13712);class _ extends P.i{logService;abilityService;name="Terror Bird";tier=6;pack="Custom";attack=8;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"TerrorBirdAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,{tiger:a,pteranodon:o}=t,r=n.parent.petArray.filter(g=>g&&g!==n&&g.alive&&"Strawberry"===g.equipment?.name).sort((g,f)=>g.position-f.position).slice(0,this.level);if(0===r.length)return void this.triggerTigerExecution(t);for(const g of r)g.givePetEquipment(new A.u);const d=r.map(g=>g.name).join(", ");this.logService.createLog({message:`${n.name} gave Peanut to ${d} at start of battle.`,type:"ability",player:n.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},53227(O,S,i){i.d(S,{E:()=>v,i:()=>_});var P=i(57488),c=i(50873),A=i(5615);class _ extends c.L{name="Camera";tier=5;startOfBattle(t,n){let a=(0,P.a)(t,this.parent);for(let o=0;o<this.level;o++){let r=a.getHighestAttackPet(),d=r.pet;if(null==d)return;let g=.3,f=Math.max(1,Math.floor(d.attack*(1-g)));d.attack=f,this.logService.createLog({message:`${this.name} reduced ${d.name} attack by ${100*g}% to ${f}`,type:"ability",player:this.parent,puma:n,randomEvent:r.random})}}}class v extends A.T{constructor(t,n){super({name:"CameraAbility",triggers:["StartBattle"],owner:t,abilityType:"Pet",abilityFunction:a=>{const{gameApi:o,puma:r}=a;let d=(0,P.a)(o,t.parent);for(let g=0;g<this.abilityLevel;g++){let f=d.getHighestAttackPet(),D=f.pet;if(null==D)return;let k=.3,L=Math.max(1,Math.floor(D.attack*(1-k)));D.attack=L,n.createLog({message:`${t.name} reduced ${D.name} attack by ${100*k}% to ${L} (Camera)`,type:"ability",player:t.parent,puma:r,randomEvent:f.random})}}})}}},53324(O,S,i){i.d(S,{F:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Fig";equipmentClass="beforeAttack";hasRandomEvents=!0;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;constructor(e,t){super({name:"FigAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t}executeAbility(e){const t=this.owner;let n=this.equipment.multiplier;for(let a=0;a<n;a++){let o=t.parent.opponent.getLowestHealthPet(),r=o.pet;if(null==r)return;t.snipePet(r,4,o.random,!1,!1,!0,!1)}t.removePerk()}}},53473(O,S,i){i.d(S,{Q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Tiger Bug";tier=4;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TigerBugAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null==this.owner.parent.pet0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let g=r.parent.getThis(r).pet;if(null==g)return;this.logService.createLog({message:`${r.name} pushed ${g.name} to the front.`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),r.parent.pushPetToFront(g,!0);let f=r.parent.opponent.getFurthestUpPets(2,[],r),D=f.pets;if(0==D.length)return;let k=3*this.level;for(let L of D)null!=L&&r.snipePet(L,k,f.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},53591(O,S,i){i.d(S,{ET:()=>e,T5:()=>t});var P=i(61850);function A(n,a,o){o&&o(n),e(n,a)}function e(n,a,o){if(n.callback){const d=n.pet;if(d&&d.transformed&&d.transformedInto&&n.abilityType){const g=d.transformedInto;n.callback=(f,D)=>{g.executeAbilities(f,D,n.triggerPet,void 0,void 0,o)}}return void n.callback(n.abilityType,a,n.triggerPet)}const r=function c(n){const a=n.pet;return a?a.transformed&&a.transformedInto?a.transformedInto:a:null}(n);r&&n.abilityType&&r.executeAbilities(n.abilityType,a,n.triggerPet,void 0,void 0,n.customParams||o)}function t(n,a,o){if(o?.shuffle)for(let r=n.length-1;r>0;r--){const d=(0,P.hw)(0,r);[n[r],n[d]]=[n[d],n[r]]}if(o?.filter)!function _(n,a,o,r){let d=n.findIndex(o);for(;-1!==d;){const[g]=n.splice(d,1);if(!g)break;A(g,a,r),d=n.findIndex(o)}}(n,a,o.filter,o.onExecute);else for(;n.length>0;)A(n.shift(),a,o?.onExecute)}},53600(O,S,i){i.d(S,{A:()=>c});const c=function P(A){var _=[];if(null!=A)for(var v in Object(A))_.push(v);return _}},53654(O,S,i){i.d(S,{p:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Chihuahua";tier=1;pack="Star";attack=4;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ChihuahuaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,d=r.parent.opponent,g=d.getHighestHealthPet(void 0,r),f=g.pet;if(f){const D=this.level;this.logService.createLog({message:`${r.name} pushed ${f.name} forward ${D} space(s).`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),d.pushPet(f,D)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},53874(O,S,i){i.d(S,{M:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Silverfish";tier=2;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Silverfish Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} sold for +${2*this.level} gold, but will lose ${this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},54073(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Alchemedes";tier=1;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AlchemedesAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.nearestPetsAhead(1,r);if(0===d.pets.length)return;let g=d.pets[0];this.logService.createLog({message:`${r.name} gave ${g.name} ${this.level} mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),g.increaseMana(this.level),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},54155(O,S,i){i.d(S,{j:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Pita Bread";tier=6;power=0;equipmentClass="hurt";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"PitaBreadAbility",owner:e,triggers:["ThisHurt"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;if(!t.alive)return;let a=15*this.equipment.multiplier;t.increaseHealth(a),this.logService.createLog({message:`${t.name} gained ${a} health. (Pita Bread)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.removePerk()}}},54190(O,S,i){i.d(S,{U:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Tomato";tier=6;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;constructor(e,t){super({name:"TomatoAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t}executeAbility(e){const t=this.owner;let n=this.equipment.multiplier;for(let a=0;a<n;a++){let o=t.parent.opponent.getLastPet();if(null==o.pet)break;t.snipePet(o.pet,10,o.random,!1,!1,!0,!1)}t.removePerk()}}},54205(O,S,i){i.d(S,{G:()=>P});class P{setMessage;setTone;durationMs;onStateChange;timer=null;constructor(A,_,v=3e3,e){this.setMessage=A,this.setTone=_,this.durationMs=v,this.onStateChange=e}set(A,_){this.clearTimer(),this.setMessage(A),this.setTone(_),this.onStateChange?.(),this.timer=setTimeout(()=>{this.setMessage(""),this.timer=null,this.onStateChange?.()},this.durationMs)}clear(){this.clearTimer(),this.setMessage(""),this.onStateChange?.()}dispose(){this.clearTimer()}clearTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}}},54416(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Sunfish";tier=6;pack="Custom";attack=4;health=10;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SunfishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,{gameApi:n,tiger:a,pteranodon:o}=e,r=n?.turnNumber??1;if(r%2==0)return void this.triggerTigerExecution(e);const d=4*this.level,f=t.parent.nearestPetsAhead(5,t,void 0,!0).pets;if(0===f.length)return void this.triggerTigerExecution(e);for(const k of f)t.snipePet(k,d);const D=f.map(k=>k.name).join(", ");this.logService.createLog({message:`${t.name} hit ${D} ahead for ${d} damage because turn ${r} is odd.`,type:"ability",player:t.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},54515(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Cobra";tier=6;pack="Golden";attack=12;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CobraAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.opponent.getRandomPet([],!1,!0,!1,r);if(null==d.pet)return;let g=Math.floor(.2*r.attack*r.level);r.snipePet(d.pet,g,d.random,a),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},54571(O,S,i){i.d(S,{G:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;name="Sugar Glider";tier=3;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Sugar Glider Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=2*this.level,g=(0,A.k4)(o.parent.petArray.filter(f=>f.alive&&f!==o)).slice(0,2);for(const f of g)f.mana+=r;g.length>0&&this.logService.createLog({message:`${o.name} gave ${r} mana to ${g.length} friends.`,type:"ability",player:o.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},54608(O,S,i){i.d(S,{A:()=>e});var P=i(30568),c=i(20778),A=i(33340),_=A.A&&A.A.isTypedArray;const e=_?(0,c.A)(_):P.A},54841(O,S,i){i.d(S,{A:()=>A});var P=i(57690);const A=function c(_,v){var e=-1,t=_.length,n=t-1;for(v=void 0===v?t:v;++e<v;){var a=(0,P.A)(e,n),o=_[a];_[a]=_[e],_[e]=o}return _.length=v,_}},55241(O,S,i){function P(c){return c}i.d(S,{D:()=>P})},55267(O,S,i){i.d(S,{_:()=>a});var P=i(46200),c=i(5615),A=i(90966),_=i(33127),v=i(17385),e=i(58857),t=i(61850),n=i(79222);class a extends P.i{logService;abilityService;petService;gameService;name="Good Dog";tier=5;pack="Unicorn";attack=1;health=1;hidden=!0;initAbilities(){this.addAbility(new o(this,this.logService)),super.initAbilities()}constructor(d,g,f,D,k,L,N,q,ne,Q,$){super(d,g,k),this.logService=d,this.abilityService=g,this.petService=f,this.gameService=D,this.initPet(ne,L,N,q,Q,$)}}class o extends c.T{logService;constructor(d,g){super({name:"GoodDogAbility",owner:d,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:d.level,abilityFunction:f=>{this.executeAbility(f)}}),this.logService=g}executeAbility(d){const{tiger:D}=d,L=this.owner;let N=L.parent.getAll(!0,L),q=N.pets;if(0===q.length)return;const ne=_.I.getInjector().get(A.m).getInstanceOfAllEquipment(),$=new Map([[1,1],[2,3],[3,5]]).get(L.level)??1;let H=Array.from(ne.values()).filter(ae=>ae&&(ae.tier??1)>=$);H.length||(H=Array.from(ne.values()).filter(ae=>ae));for(let ae of q){if(!ae.alive)continue;const re=(0,e.k6)({key:"pet.good-dog-equipment",label:(0,n.I)(L,`Good Dog equipment for P${ae.savedPosition+1} ${ae.name}`),options:H.map(Ee=>({id:Ee.name,label:Ee.name}))},()=>(0,t.hw)(0,H.length-1)),be=(0,v.e)(H[re.index]);be&&(this.logService.createLog({message:`${L.name} gave ${ae.name} ${be.name}`,type:"ability",player:L.parent,randomEvent:N.random||re.randomEvent,tiger:D}),ae.givePetEquipment(be))}this.triggerTigerExecution(d)}copy(d){return new o(d,this.logService)}}},55378(O,S,i){i.d(S,{z:()=>c});var P=i(22097);class c extends P.${name="Icky";equipmentClass="ailment-other";uses=2;originalUses=2}},55541(O,S,i){i.d(S,{G:()=>_});var P=i(46200),c=i(5615),A=i(13712);class _ extends P.i{logService;abilityService;name="Scorpion";tier=5;pack="Turtle";attack=1;health=1;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"ScorpionAbility",owner:t,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=new A.u,f=d.parent.getThis(d),D=f.pet;null!=D&&(D.givePetEquipment(g),this.logService.createLog({message:`${d.name} gave ${D.name} the Peanut perk.`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},55577(O,S,i){i.d(S,{L:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Salamander";tier=2;pack="Star";attack=1;health=2;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}}class _ extends c.T{logService;constructor(e,t){super({name:"SalamanderAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.getThis(r),g=d.pet;if(null==g)return;let f=0;for(let D of r.parent.petArray)D.isSellPet()&&(f+=D.level*this.level);f>0&&(this.logService.createLog({message:`${r.name} gave ${g.name} ${f} attack and ${f} health from sell pets.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random}),g.increaseAttack(f),g.increaseHealth(f)),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},55649(O,S,i){i.d(S,{Y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Musk Ox";tier=3;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MuskOxAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d={attack:r.level,health:2*r.level},g=r.parent.getThis(r),f=g.pet;null!=f&&(f.increaseAttack(d.attack),f.increaseHealth(d.health),this.logService.createLog({message:`${r.name} gave ${f.name} ${d.attack} attack and ${d.health} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},55713(O,S,i){i.d(S,{S:()=>v});var P=i(22097),c=i(5615),A=i(56990),_=i(33127);class v extends P.${logService;name="Love Potion";equipmentClass="beforeStartOfBattle";tier=5;callback=n=>{const a=n.getEquippedEquipmentInstance(this);n.addAbility(new e(n,a,this.logService))};constructor(n){super(),this.logService=n}}class e extends c.T{equipment;logService;petService;constructor(n,a,o){super({name:"LovePotionAbility",owner:n,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=a,this.logService=o,this.petService=_.I.getInjector().get(A.T)}executeAbility(n){const a=this.owner;for(let o=0;o<this.equipment.multiplier;o++){const r=this.petService.createPet({name:a.name,attack:3,health:3,exp:0,equipment:null,mana:0},a.parent),d=a.parent.summonPet(r,a.savedPosition,!1,a);d.success&&this.logService.createLog({message:`${a.name} summoned a ${r.attack}/${r.health} ${r.name} (Love Potion)${o>0?this.equipment.multiplierMessage:""}.`,type:"equipment",player:a.parent,randomEvent:d.randomEvent})}}}},55786(O,S,i){i.d(S,{ST:()=>r.S,hA:()=>q,jb:()=>ne,su:()=>Q,uL:()=>N});var P=i(13712),c=i(2375),A=i(31546),_=i(13115),v=i(22410),e=i(6328),t=i(44519),n=i(84932),a=i(47925),o=i(3684),r=i(97758);const d=["Weak","Cold","Icky","Spooked"];function k($){if(!$||!$.alive||!$.hasTrigger(void 0,"Pet","Albatross Ability"))return 0;let H=0;for(const ae of $.abilityList)"Albatross Ability"===ae.name&&(H+=3*ae.level);return H}function N($,H,ae=!1,re,_e=!1){$.timesAttacked++;let be=(0,r.S)($,H,$.getManticoreMult(),re),Ee=be.attackEquipment,ke=be.defenseEquipment,de=be.damage;const Te=$.equipment instanceof n.Z;Te&&(de=Math.floor(de/2));let Ie,Ne=$.equipment?.multiplier??1,Ge=H.equipment?.multiplier??1;if($.currentTarget=H,ae?(Ie=`${$.name} jump-attacks ${H.name} for ${de}.`,$.equipment instanceof A.w&&(Ie+=" (White Truffle)")):Ie=`${$.name} attacks ${H.name} for ${de}.`,Te&&(Ie+=" (Sleepy x0.5)"),Ee instanceof P.u&&de>0)$.createLog({message:`${Ie} (Peanut)`,type:"attack",player:$.parent,sourcePet:$,targetPet:H,randomEvent:_e}),Q($,H,de),H.killedBy=$,H.health=0;else if(Ee instanceof c._&&de>0&&Ee.uses>0)$.createLog({message:`${Ie} (Peanut Butter)`,type:"attack",player:$.parent,sourcePet:$,targetPet:H,randomEvent:_e}),H.killedBy=$,Q($,H,de),H.health=0;else{if(Q($,H,de),null!=Ee){const We=Ee.power??0;let At="-";We>0&&(At="+");let nt=`${At}${Math.abs(We)}`;Ee instanceof _.B&&(nt="x2"),Ee instanceof a.Z&&(nt="x0.5"),Ee instanceof v.W&&(nt=de<=15?"=15":"+0"),Ee instanceof e.Y&&(_e=!0,be.fortuneCookie?(nt="x2",Ee.multiplier>1&&(nt+=Ee.multiplierMessage)):nt="x1"),Ie+=` (${Ee.name} ${nt})`,Ne>1&&$.equipment&&(Ie+=$.equipment.multiplierMessage)}if(null!=ke){const We=ke.power??0;let tt=Math.abs(We),At="-";if(We<0&&(At="+"),"Coconut"===ke.name)Ie+=` (${ke.name} block)`;else if("Strawberry"===ke.name){const nt=ke.power??(0,o.hD)(H);nt>0&&(tt=nt,Ie+=` (Strawberry -${tt} (Sparrow))`)}else ke instanceof t.H?(At=1==H.health?"!":"-",tt="",Ie+=` (${ke.name} ${At}${tt})`):ke instanceof a.q?(tt="x0.5",Ie+=` (${ke.name} ${tt})`):Ie+=` (${ke.name} ${At}${tt})`;Ge>1&&H.equipment&&(Ie+=H.equipment.multiplierMessage)}Ie=function g($,H){if("Icky"!=H.equipment?.name)return $;let ae=`${$}x2 (Icky)`;return H.equipment.multiplier>1&&(ae+=H.equipment.multiplierMessage),ae}(Ie,H),Ie=function D($,H,ae){let re=$;return H.nurikabe>0&&(re+=` -${H.nurikabe} (Nurikabe)`),(H.fairyBallReduction??0)>0&&(re+=` -${H.fairyBallReduction} (Fairy Ball)`),(H.fanMusselReduction??0)>0&&(re+=` -${H.fanMusselReduction} (Fan Mussel)`),(H.ghostKittenReduction??0)>0&&(re+=` -${H.ghostKittenReduction} (Ghost Kitten)`),ae&&(H.mapleSyrupReduction??0)>0&&(re+=` -${H.mapleSyrupReduction} (Maple Syrup)`),re}(Ie,be,!0),Ie=function f($,H,ae){const re=H.getManticoreMult();if(0===re.length||!d.includes(ae.equipment?.name??""))return $;let be=$;for(const Ee of re)be+=` x${Ee+1} (Manticore)`;return be}(Ie,$,H),$.createLog({message:Ie,type:"attack",player:$.parent,sourcePet:$,targetPet:H,randomEvent:_e}),("skewer"==$.equipment?.equipmentClass?$.equipment:null)?.attackCallback?.($,H)}Te&&$.removePerk(),$.triggerAttackEventsFor(),$.applyCrisp();const gt=$.parent.opponent?.petArray?.[0];gt&&gt.applyCrisp()}function q($,H,ae,re,_e,be,Ee,ke,de="sniped",Te){const Ne=function L($){if(($.tier??Number.POSITIVE_INFINITY)>4)return 0;let H=0;return H+=k($.petAhead),H+=k($.petBehind()),H}($);Ne>0&&(ae+=Ne);let Ge=(0,r.S)($,H,$.getManticoreMult(),ae,!0),Ie=Ge.attackEquipment,gt=Ge.defenseEquipment,pt=Ge.damage;"Kiwano"===$.equipment?.name&&pt>0&&(pt+=8,$.createLog({message:`${$.name} added +8 damage. (Kiwano)`,type:"equipment",player:$.parent}),$.removePerk()),Q($,H,pt);let We=`${$.name} ${de} ${H.name} for ${pt}.`;if(null!=Te&&null!=$.equipment?.multiplier&&$.equipment.multiplier>1&&(We+=` (${Te}*${$.equipment.multiplier})`),We=(0,o.V5)(We,H,gt,{consumeDefenseEquipment:!0,includeMultiplierMessage:!0,coconutAsBlock:!0}),null!=Ie&&"attack-snipe"==Ie.equipmentClass){const tt=Ie.power??0;let At=Math.abs(tt),nt="-";tt>0&&(nt="+"),We+=` (${Ie.name} ${nt}${At})`,$.equipment?.multiplier&&$.equipment.multiplier>1&&(We+=$.equipment.multiplierMessage)}return _e&&(We+=" (Tiger)"),Ne>0&&(We+=` (+${Ne} Albatross)`),Ee&&$.equipment&&(We+=` (${$.equipment.name})`),ke&&(We+=" (Mana)"),We=(0,o.v1)(We,H,$.getManticoreMult(),Ge),$.createLog({message:We,type:"attack",randomEvent:re,player:$.parent,sourcePet:$,targetPet:H,pteranodon:be}),null!=Ie&&"attack-snipe"==Ie.equipmentClass&&null!=$.equipment?.uses&&($.equipment.uses-=1,$.equipment.uses<=0&&$.removePerk()),pt}function ne($,H,ae,re,_e=!1){let be;H.lastAttacker=$,be=$.transformed?$.transformedInto??$:$,H.transformed&&(H=H.transformedInto??H),be.alive&&H.alive&&(be.attackPet(H,!0,re,_e),H.attackPet(be),be.useAttackDefenseEquipment(),H.useAttackDefenseEquipment(),be.executeAfterAttackEvents(),be.triggerJumpEventsFor())}function Q($,H,ae){if(H.alive){if(ae>=H.health&&"Bok Choy"==H.equipment?.name){let re=4*H.equipment.multiplier;$.createLog({message:`${H.name} gained ${re} health (Bok Choy) ${H.equipment.multiplierMessage} `,type:"equipment",player:H.parent}),H.increaseHealth(re),H.removePerk()}H.health-=ae,H.health<=0&&(H.killedBy=$),ae>0&&H.timesHurt++,H.health<1&&$.triggerKillEventsFor(H),ae>0&&$.triggerHurtEventsFor(H,ae)}}},55853(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Secretary Bird";tier=4;pack="Golden";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityUses=0;constructor(e,t){super({name:"SecretaryBirdAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.nearestPetsAhead(1,r);if(0===d.pets.length)return;let g=d.pets[0],f=3*this.level,D=4*this.level;g.increaseAttack(f),g.increaseHealth(D),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} attack and ${D} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random}),this.triggerTigerExecution(e),this.logService.createLog({message:`${r.name} triggered secretary bird ability at level ${this.level}.`,type:"ability",player:r.parent,tiger:a,pteranodon:o})}copy(e){return new _(e,this.logService)}}},55984(O,S,i){i.d(S,{p:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Royal Flycatcher";tier=3;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"RoyalFlycatcherAbility",owner:e,triggers:["EnemyFaint3"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=4*this.level,g=r.parent.opponent.getRandomPet([],null,!0,null,r),f=g.pet;null!=f&&(r.snipePet(f,d,g.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},56015(O,S,i){i.d(S,{D:()=>Dt});var P=i(78477),c=i(32804),A=i(33245),_=i(98441),v=i(41943),e=i(43378),t=i(10041),n=i(72638),a=i(7715),o=i(36481),r=i(92952),d=i(3754),g=i(4635),f=i(74891),D=i(32584),k=i(89124),L=i(4673),N=i(25828),q=i(57235),ne=i(55267),Q=i(29855),$=i(58068),H=i(14908),ae=i(95768),re=i(22528),_e=i(63892),be=i(8178),Ee=i(3279),ke=i(33605),de=i(95573),Te=i(29088),Ne=i(41271),Ge=i(13761),Ie=i(12312),gt=i(56057),pt=i(22426),We=i(14787),tt=i(1728),At=i(24207),nt=i(60489),et=i(42655);const Dt={"Adult Flounder":P.u,"Angry Pygmy Hog":c._,"Baby Urchin":A.U,Bee:_.V,Bus:v.z,Butterfly:e.A,Chick:t.$,"Chimera Goat":n.D,"Chimera Lion":a.k,"Chimera Snake":o.U,"Cooked Roach":r.J,"Cracked Egg":d.j,Daycrawler:g.f,"Dirty Rat":f.s,"Fairy Ball":D.f,"Fake Nessie":k.b,"Fire Pup":L.O,"Giant Eyes Dog":N.y,"Golden Retriever":q.K,"Good Dog":ne._,Head:Q.p,"Lizard Tail":$.n,"Loyal Chinchilla":H.r,"Mimic Octopus":ae.Z,"Moby Dick":re.D,Monty:_e.m,"Nessie?":be.p,Nest:Ee.D,Quail:ke.V,Ram:de.w,Rock:Te.A,Salmon:Ne.R,"Sleeping Gelada":Ge.s,"Smaller Slime":Ie.x,"Smaller Slug":gt.m,"Smallest Slug":pt.z,"Summoned Cockroach":We.s,"Tand and Tand":tt.c,"Young Phoenix":At.C,"Zombie Cricket":nt.y,"Zombie Fly":et.A}},56057(O,S,i){i.d(S,{m:()=>_});var P=i(46200),c=i(5615),A=i(22426);class _ extends P.i{logService;abilityService;name="Smaller Slug";tier=1;pack="Golden";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"SmallerSlugAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let D=new A.z(this.logService,this.abilityService,d.parent,this.level,this.level,0,d.minExpForLevel),k=d.parent.summonPet(D,d.savedPosition,!1,d);k.success&&this.logService.createLog({message:`${d.name} spawned Smallest Slug Level ${d.level}`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:k.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},56079(O,S,i){i.d(S,{B:()=>A});var P=i(50873);i(5615);class A extends P.L{name="Lock of Hair";tier=4}},56351(O,S,i){i.d(S,{i:()=>_});var P=i(25828),c=i(50873);i(5615);class _ extends c.L{logService;toyService;abilityService;name="Tinder Box";tier=4;emptyFromSpace(t,n,a,o){let r={attack:6*a,health:6*a},g=new P.y(this.logService,this.abilityService,this.parent,r.health,r.attack,0,1==a?0:2==a?2:5),f=`${this.name} spawned Giant Eyes Dog (${r.attack}/${r.health}).`;this.parent.summonPet(g,0).success&&this.logService.createLog({message:f,type:"ability",player:this.parent,puma:n}),this.used=!0}constructor(t,n,a,o,r){super(t,n,o,r),this.logService=t,this.toyService=n,this.abilityService=a}}},56485(O,S,i){i.d(S,{B:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Winter Spirit";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WinterSpiritAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,r=a.parent.nearestPetsAhead(2,a).pets;if(0===r.length)return void this.triggerTigerExecution(e);const d=5*this.level,g=[];for(const f of r)f.increaseMana(d),g.push(f.name);this.logService.createLog({message:`${a.name} gave ${g.join(", ")} +${d} mana at end of turn.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},56518(O,S,i){i.d(S,{q:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Strawberry";equipmentClass="shield";tier=1;uses=2;originalUses=2;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"StrawberryAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:t.originalUses,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner,n=t.parent.getLastPet();if(n.pet){const a=1*this.equipment.multiplier;this.logService.createLog({message:`${t.name} (Strawberry) gave ${n.pet.name} +${a} attack and +${a} health${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent,randomEvent:n.random}),n.pet.increaseAttack(a),n.pet.increaseHealth(a)}}}},56613(O,S,i){i.d(S,{G:()=>A});var P=i(22097),c=i(5615);class A extends P.${name="Cherry";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t))}}class _ extends c.T{equipment;constructor(e,t){super({name:"CherryAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t}executeAbility(e){const t=this.owner;let n=this.equipment.multiplier;t.parent.gainTrumpets(2*n,t,!1,n,!0),t.removePerk(!0)}}},56616(O,S,i){i.d(S,{R:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Panda";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PandaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=.5*this.level,g={attack:Math.floor(r.attack*d),health:Math.floor(r.health*d)},f=r.parent.nearestPetsAhead(1,r);if(f.pets.length>0){let D=f.pets[0];D.increaseAttack(g.attack),D.increaseHealth(g.health),this.logService.createLog({message:`${r.name} gave ${D.name} ${g.attack} attack and ${g.health} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:f.random})}r.health=0,this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},56658(O,S,i){i.d(S,{A:()=>_});var P=i(70563),c=i(43744);const _=function A(v,e,t){var n=e(v);return(0,c.A)(v)?n:(0,P.A)(n,t(v))}},56689(O,S,i){i.d(S,{A:()=>c});const c=function P(A,_){for(var v=-1,e=null==A?0:A.length,t=Array(e);++v<e;)t[v]=_(A[v],v,A);return t}},56692(O,S,i){i.d(S,{S:()=>t});var P=i(46200),c=i(5615),A=i(33127),_=i(26886),v=i(61850),e=i(1152);class t extends P.i{logService;abilityService;name="Lemur";tier=2;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,N){super(o,r,d),this.logService=o,this.abilityService=r,this.initPet(k,g,f,D,L,N)}}class n extends c.T{logService;abilityService;constructor(o,r,d){super({name:"LemurAbility",owner:o,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.abilityService=d}executeAbility(o){const r=this.owner,d=A.I.getInjector().get(_.w),g=Math.max(1,Math.min(3,this.level)),f=d.toys.get(g)??[];if(0===f.length)return void this.triggerTigerExecution(o);const D=f[(0,v.hw)(0,f.length-1)],k=d.createToy(D,r.parent,g);k?(r.parent.toy=k,r.parent.toy.used=!1,r.parent.toy.triggers=0,(0,e.rv)(this.logService,r,`${r.name} chose a level ${g} ${D} toy.`,o.tiger,o.pteranodon),this.triggerTigerExecution(o)):this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.abilityService)}}},56876(O,S,i){i.d(S,{p:()=>t});var P=i(46200),c=i(5615),A=i(33127),_=i(26886),v=i(61850),e=i(1152);class t extends P.i{logService;abilityService;name="Puppy";tier=4;pack="Puppy";attack=3;health=6;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,N){super(o,r,d),this.logService=o,this.abilityService=r,this.initPet(k,g,f,D,L,N)}}class n extends c.T{logService;abilityService;constructor(o,r,d){super({name:"PuppyAbility",owner:o,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.abilityService=d}executeAbility(o){const r=this.owner,d=A.I.getInjector().get(_.w),g=Math.max(1,Math.min(3,this.level)),f=d.toys.get(g)??[];if(0===f.length)return void this.triggerTigerExecution(o);const D=f[(0,v.hw)(0,f.length-1)],k=d.createToy(D,r.parent,g);k?(r.parent.toy=k,r.parent.toy.used=!1,r.parent.toy.triggers=0,(0,e.rv)(this.logService,r,`${r.name} chose a level ${g} ${D} toy.`,o.tiger,o.pteranodon),this.triggerTigerExecution(o)):this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.abilityService)}}},56960(O,S,i){i.d(S,{Y:()=>_});var P=i(44402),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Brain Cramp";tier=3;pack="Unicorn";attack=1;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"BrainCrampAbility",owner:t,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:a=>null==this.owner.parent.pet0,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=2*this.level,D=d.parent.getThis(d).pet;if(null==D)return;this.logService.createLog({message:`${d.name} pushed ${D.name} to the front.`,type:"ability",player:d.parent,tiger:o,pteranodon:r}),d.parent.pushPetToFront(D,!0);let L=d.parent.getThis(d).pet;if(null==L)return;this.logService.createLog({message:`${d.name} gave ${L.name} Melon.`,type:"ability",player:d.parent,tiger:o,pteranodon:r}),L.givePetEquipment(new P.m);let q=d.parent.getThis(d).pet;null!=q&&(this.logService.createLog({message:`${d.name} gave ${q.name} ${g} attack.`,type:"ability",player:d.parent,tiger:o,pteranodon:r}),q.increaseAttack(g),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},56979(O,S,i){i.d(S,{E:()=>c});var P=i(22097);class c extends P.${name="Spooked";equipmentClass="ailment-defense";power=-1;originalPower=-1}},56990(O,S,i){var P;i.d(S,{T:()=>q});var c=i(61850),A=i(4230),_=i(52783),v=i(38129),e=i(13276),t=i(58857),n=i(83028),a=i(47868),o=i(24111),r=i(49230),d=i(1744),g=i(43681);const k=[1,2,3,4,5,6],N={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"};let q=(()=>{class ne{logService;abilityService;gameService;petFactory;turtlePackPets=new Map;puppyPackPets=new Map;starPackPets=new Map;goldenPackPets=new Map;unicornPackPets=new Map;customPackPets=new Map;dangerPackPets=new Map;playerCustomPackPets=new Map;allPets=new Map;tokenPetsMap=new Map;basePackPetsByName;startOfBattlePets=[];faintPetsByTier=new Map;constructor($,H,ae,re){this.logService=$,this.abilityService=H,this.gameService=ae,this.petFactory=re,this.logService=(0,n.V)(this.logService),this.basePackPetsByName={Turtle:this.turtlePackPets,Puppy:this.puppyPackPets,Star:this.starPackPets,Golden:this.goldenPackPets,Unicorn:this.unicornPackPets,Danger:this.dangerPackPets,Custom:this.customPackPets}}buildCustomPackPets($){for(let H of $.controls){let ae=new Map;for(let re=1;re<=6;re++)ae.set(re,H.get(`tier${re}Pets`).value);this.playerCustomPackPets.set(H.get("name").value,ae)}}setCustomPackPools($=[]){this.playerCustomPackPets.clear();for(const H of $){const ae=`${H?.name??""}`.trim();if(!ae)continue;const re=new Map;for(const _e of k){const be=`tier${_e}Pets`,Ee=H?.[be],ke=this.normalizePetNameList(Ee);re.set(_e,ke)}this.playerCustomPackPets.set(ae,re)}}normalizePetNameList($){return Array.isArray($)?$.filter(H=>"string"==typeof H).map(H=>H.trim()).filter(H=>H.length>0):[]}isValidTier($){return Number.isFinite($)&&$>=1&&$<=6}getCustomPackTierPets($,H){return[...this.playerCustomPackPets.get($)?.get(H)||[]]}getBasePackTierPets($,H){return[...this.basePackPetsByName[$]?.get(H)||[]]}resolveBasePackName($){switch($){case"Turtle":case"Puppy":case"Star":case"Golden":case"Unicorn":case"Danger":return $;default:return null}}getRandomPetPoolByTier($,H){if($.allPets)return[...this.allPets.get(H)||[]];const ae=this.resolveBasePackName($.pack);return ae?this.getBasePackTierPets(ae,H):this.getCustomPackTierPets($.pack,H)}resetPackMaps(){const $=[this.turtlePackPets,this.puppyPackPets,this.starPackPets,this.goldenPackPets,this.unicornPackPets,this.dangerPackPets,this.customPackPets,this.tokenPetsMap];for(const H of $){H.clear();for(const ae of k)H.set(ae,[])}}getPetEntriesFromJson(){return(e??(P||(P=i.t(e,2)))??[]).filter(H=>!!H?.Name)}isPetRandom($){return!0===this.petDataMap.get($)?.Random}petDataMap=new Map;populatePackMaps($){for(const H of $){H.Name&&this.petDataMap.set(H.Name,H);const ae=Number(H.Tier);if(!this.isValidTier(ae))continue;const re=Array.isArray(H.Abilities)&&H.Abilities.length>0&&H.Abilities.every(be=>"No ability."===be?.About);if(!0!==H.Rollable||re)this.tokenPetsMap.get(ae)?.push(H.Name);else for(const be of this.getPackNamesFromEntry(H)){const ke=this.basePackPetsByName[be]?.get(ae);ke&&ke.push(H.Name)}}for(const H of Object.values(this.basePackPetsByName))this.deduplicateTierMap(H);this.deduplicateTierMap(this.tokenPetsMap)}getPackNamesFromEntry($){const H=new Set,ae=new Set;Array.isArray($.Packs)&&$.Packs.forEach(be=>{if(be){const Ee=be.trim();H.add(Ee),ae.add(Ee)}}),!(ae.has("Custom")||ae.has("MiniPack1")||ae.has("MiniPack2")||ae.has("MiniPack3"))&&Array.isArray($.PacksRequired)&&$.PacksRequired.forEach(be=>{be&&H.add(be.trim())});const _e=new Set;for(const be of H){const Ee=N[be];Ee&&_e.add(Ee)}return Array.from(_e)}deduplicateTierMap($){for(const[H,ae]of $)$.set(H,[...new Set(ae)])}buildStartOfBattlePets($){const H=new Set;for(const ae of $)Array.isArray(ae.Abilities)&&ae.Abilities.some(re=>{const _e=re?.About;return"string"==typeof _e&&_e.toLowerCase().includes("start of battle")})&&H.add(ae.Name);return Array.from(H)}buildFaintPetsByTier($){const H=new Map;for(const ae of k)H.set(ae,[]);for(const ae of $){const re=Number(ae.Tier);!this.isValidTier(re)||!0!==ae.Rollable||!Array.isArray(ae.Abilities)||!ae.Abilities.some(be=>{const Ee=be?.About;return"string"==typeof Ee&&Ee.includes("Faint:")})||H.get(re)?.push(ae.Name)}return this.deduplicateTierMap(H),H}init(){this.resetPackMaps();const $=this.getPetEntriesFromJson();this.populatePackMaps($),this.startOfBattlePets=this.buildStartOfBattlePets($),this.faintPetsByTier=this.buildFaintPetsByTier($),this.setAllPets()}setAllPets(){this.allPets=new Map;for(const $ of k)this.allPets.set($,[]);for(const $ of v.$){const H=this.basePackPetsByName[$];for(let[ae,re]of H)this.allPets.get(ae).push(...re)}for(let[$,H]of this.allPets)this.allPets.set($,[...new Set(H)])}createPet($,H){const ae=this.petFactory.createPetFromForm($,H,this,_.y);if(ae)return ae;const re=this.petFactory.resolveEquipmentFromForm($.equipment,$.equipmentUses);return new A.K(this.logService,this.abilityService,H,$.health,$.attack,$.mana,$.exp,re,$.triggersConsumed)}createDefaultVersionOfPet($,H=null,ae=null){return this.petFactory.createPet($,this,H,ae)}getRandomPet($){const H=k.map(ke=>({id:`tier-${ke}`,label:`Tier ${ke}`}));let re=(0,t.k6)({key:"pet.random-tier",label:"Random pet tier",options:H},()=>(0,c.hw)(0,H.length-1)).index+1,_e=this.getRandomPetPoolByTier($,re);if($.allPets&&$.tokenPets){const ke=this.tokenPetsMap.get(re)||[];_e.push(...ke),_e=[...new Set(_e)]}(!_e||0===_e.length)&&(_e=["Ant"]);const be=(0,t.k6)({key:"pet.random-pool",label:`Random pet from tier ${re}`,options:_e.map(ke=>({id:ke,label:ke}))},()=>(0,c.hw)(0,_e.length-1));let Ee=_e[be.index];return this.createPet({attack:null,equipment:null,exp:(0,c.hw)(0,5),health:null,name:Ee,mana:null},$)}getRandomFaintPet($,H,ae=[],re){this.faintPetsByTier?.size||(this.faintPetsByTier=this.buildFaintPetsByTier(this.getPetEntriesFromJson()));let _e=[];_e=H&&this.faintPetsByTier.get(H)?this.faintPetsByTier.get(H)??[]:Array.from(this.faintPetsByTier.values()).flat();const be=new Set(ae.map(Ne=>Ne?.toLowerCase()));let ke=_e.filter(Ne=>!be.has(Ne.toLowerCase()));if(!ke.length&&H){const Ne=Array.from(this.faintPetsByTier.values()).flat().filter(Ge=>!be.has(Ge.toLowerCase()));Ne.length&&(ke=Ne)}ke.length||(ke=_e);const de=(0,t.k6)({key:"pet.random-faint-pet",label:`${this.describeRandomFaintPetOwner($,re)} -> Random faint pet summon`,options:ke.map(Ne=>({id:Ne,label:Ne}))},()=>(0,c.hw)(0,ke.length-1));return this.createPet({name:ke[de.index],attack:null,equipment:null,exp:0,health:null,mana:null},$)}describeRandomFaintPetOwner($,H){const ae=$?.isOpponent?"opponent team":"player team";return H?`${H.parent?.isOpponent?"O":"P"}${Number.isFinite(H.savedPosition)?H.savedPosition+1:0} ${H.name} (owner: ${ae})`:ae}static \u0275fac=function(H){return new(H||ne)(a.KVO(o.K),a.KVO(r.K),a.KVO(d.w),a.KVO(g.h))};static \u0275prov=a.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})}return ne})()},57033(O,S,i){i.d(S,{$K:()=>H,$j:()=>be,_9:()=>ke,d4:()=>Ee,ml:()=>ae});var P=i(33446),c=i(96767);const A="abomParrotSwallowed",_="SAPC1:",v={playerPack:"Turtle",opponentPack:"Turtle",playerToy:null,playerToyLevel:1,playerHardToy:null,playerHardToyLevel:1,opponentToy:null,opponentToyLevel:1,opponentHardToy:null,opponentHardToyLevel:1,turn:11,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerPets:[null,null,null,null,null],opponentPets:[null,null,null,null,null],allPets:!1,logFilter:null,customPacks:[],oldStork:!1,tokenPets:!0,komodoShuffle:!1,mana:!1,seed:null,triggersConsumed:!1,showAdvanced:!1,showTriggerNamesInLogs:!1,showPositionalArgsInLogs:!0,ailmentEquipment:!1,changeEquipmentUses:!1,logsEnabled:!0,simulations:100};function e(de){return"object"==typeof de&&null!==de}function t(de,Te){if(Array.isArray(de)&&Array.isArray(Te)){if(de.length!==Te.length)return!1;for(let Ne=0;Ne<de.length;Ne++)if(!t(de[Ne],Te[Ne]))return!1;return!0}return de===Te}function a(de){if(Array.isArray(de))return de.map(Te=>a(Te));if(e(de)){const Te={};for(const Ne of Object.keys(de))Te[c.H[Ne]||Ne]=a(de[Ne]);return Te}return de}function o(de){if(Array.isArray(de))return de.map(Te=>o(Te));if(e(de)){const Te={};for(const Ne of Object.keys(de))Te[c.g[Ne]||Ne]=o(de[Ne]);return Te}return de}function g(de,Te){if(!e(de))return;const Ie=[...Array.isArray(de.playerPets)?de.playerPets:[],...Array.isArray(de.opponentPets)?de.opponentPets:[]];for(const gt of Ie)e(gt)&&Te(gt)}function f(de){return!de||null==de[0]&&null==de[1]&&null==de[2]&&null==de[3]}function D(de){if(!de)return!0;const Te=Array.isArray(de[6])?de[6]:[];return null==de[0]&&null==de[1]&&null==de[2]&&null==de[3]&&null==de[4]&&null==de[5]&&Te.every(Ne=>f(Ne))}function k(de){let Te=de.length;for(;Te>0&&f(de[Te-1]);)Te-=1;return Te===de.length?de:de.slice(0,Te)}function N(de){if(Array.isArray(de[A]))return;const Te=[];for(let Ge=1;Ge<=3;Ge++){const Ie=`parrotCopyPetAbominationSwallowedPet${Ge}`,gt=[];for(let We=1;We<=3;We++){const tt=`${Ie}ParrotCopyPetAbominationSwallowedPet${We}`;gt.push([de[tt]??null,de[`${tt}BelugaSwallowedPet`]??null,de[`${tt}Level`]??null,de[`${tt}TimesHurt`]??null]),delete de[tt],delete de[`${tt}BelugaSwallowedPet`],delete de[`${tt}Level`],delete de[`${tt}TimesHurt`]}const pt=k(gt);Te.push([de[Ie]??null,de[`${Ie}BelugaSwallowedPet`]??null,de[`${Ie}Level`]??null,de[`${Ie}TimesHurt`]??null,de[`${Ie}ParrotCopyPet`]??null,de[`${Ie}ParrotCopyPetBelugaSwallowedPet`]??null,pt]),delete de[Ie],delete de[`${Ie}BelugaSwallowedPet`],delete de[`${Ie}Level`],delete de[`${Ie}TimesHurt`],delete de[`${Ie}ParrotCopyPet`],delete de[`${Ie}ParrotCopyPetBelugaSwallowedPet`]}const Ne=function L(de){let Te=de.length;for(;Te>0&&D(de[Te-1]);)Te-=1;return Te===de.length?de:de.slice(0,Te)}(Te);Ne.length>0&&(de[A]=Ne)}function q(de){if(!e(de))return null;const Te=de.name;if("string"!=typeof Te||0===Te.trim().length)return null;if(delete de.parent,delete de.logService,delete de.abilityService,delete de.gameService,delete de.petService,de.equipment){const Ne="string"==typeof de.equipment?de.equipment:e(de.equipment)&&"string"==typeof de.equipment.name?de.equipment.name:null;de.equipment=Ne?{name:Ne}:null}for(const Ne of Object.keys(de)){if("name"===Ne)continue;const Ge=de[Ne];(null==Ge||!1===Ge||""===Ge||"number"==typeof Ge&&0===Ge||Ne.endsWith("Level")&&1===Ge||Array.isArray(Ge)&&0===Ge.length)&&delete de[Ne]}return de}function ne(de){if(!e(de))return null;const Te=de.name;if("string"!=typeof Te||0===Te.trim().length)return null;if(delete de.parent,delete de.logService,delete de.abilityService,delete de.gameService,delete de.petService,de.equipment){const Ne="string"==typeof de.equipment?de.equipment:e(de.equipment)&&"string"==typeof de.equipment.name?de.equipment.name:null;de.equipment=Ne?{name:Ne}:null}return de}function Q(de){const Te=de[A];if(Array.isArray(Te)){for(let Ne=1;Ne<=3;Ne++){const Ge=`parrotCopyPetAbominationSwallowedPet${Ne}`,Ie=Te[Ne-1];if(!Ie)continue;const[gt,pt,We,tt,At,nt,et]=Ie;if(de[Ge]=gt??null,de[`${Ge}BelugaSwallowedPet`]=pt??null,de[`${Ge}Level`]=We??null,de[`${Ge}TimesHurt`]=tt??null,de[`${Ge}ParrotCopyPet`]=At??null,de[`${Ge}ParrotCopyPetBelugaSwallowedPet`]=nt??null,Array.isArray(et))for(let Dt=1;Dt<=3;Dt++){const ct=`${Ge}ParrotCopyPetAbominationSwallowedPet${Dt}`,vt=et[Dt-1];if(!vt)continue;const[rt,He,kt,Xt]=vt;de[ct]=rt??null,de[`${ct}BelugaSwallowedPet`]=He??null,de[`${ct}Level`]=kt??null,de[`${ct}TimesHurt`]=Xt??null}}delete de[A]}}function H(de){return e(de)&&g(de,Q),de}function ae(de,Te,Ne){return JSON.stringify({playerWins:de,opponentWins:Te,draws:Ne},null)}function re(de){const Te=(0,P.A)(de),Ne=Array.isArray(Te.playerPets)?Te.playerPets:[],Ge=Array.isArray(Te.opponentPets)?Te.opponentPets:[];Te.playerPets=Ne.map(We=>q(We)),Te.opponentPets=Ge.map(We=>q(We)),function n(de){for(const Te of Object.keys(v))Te in de&&t(de[Te],v[Te])&&delete de[Te]}(Te);const Ie=function $(de){const Te=(0,P.A)(de);return g(Te,N),Te}(Te),gt=a(Ie),pt=JSON.stringify(gt);return`${_}${function r(de){const Te=(new TextEncoder).encode(de);let Ne="";for(let Ie=0;Ie<Te.length;Ie+=32768)Ne+=String.fromCharCode(...Te.subarray(Ie,Ie+32768));return btoa(Ne).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")}(pt)}`}function be(de,Te="compressed"){return"legacyJson"===Te?function _e(de){const Te=(0,P.A)(de),Ne=Array.isArray(Te.playerPets)?Te.playerPets:[],Ge=Array.isArray(Te.opponentPets)?Te.opponentPets:[];return Te.playerPets=Ne.map(Ie=>ne(Ie)),Te.opponentPets=Ge.map(Ie=>ne(Ie)),JSON.stringify(Te,null,2)}(de.value):re(de.value)}function Ee(de){const Te=de.trim();if(!Te)throw new Error("Import payload is empty.");if(Te.startsWith(_)){const Ge=Te.slice(6),Ie=JSON.parse(function d(de){const Te=de.replace(/-/g,"+").replace(/_/g,"/"),Ge=`${Te}${"=".repeat((4-Te.length%4)%4)}`,Ie=atob(Ge),gt=Uint8Array.from(Ie,pt=>pt.charCodeAt(0));return(new TextDecoder).decode(gt)}(Ge));return o(Ie)}const Ne=JSON.parse(Te);return"object"==typeof Ne&&null!==Ne||Array.isArray(Ne)?o(Ne):Ne}function ke(de,Te){return`${Te}#c=${re(de.value).slice(6)}`}},57130(O,S,i){i.d(S,{q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Gerenuk";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Gerenuk Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent.opponent;let r=this.level;for(;r>0;){const d=this.getHighestTierPerkPet(o);if(!d)break;const g=d.equipment?.name??"perk";d.removePerk(!0),this.logService.createLog({message:`${a.name} removed ${d.name}'s ${g}.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),r--}this.triggerTigerExecution(e)}getHighestTierPerkPet(e){const t=e.petArray.filter(o=>o.alive&&o.equipment&&!this.isAilmentEquipment(o.equipment));if(0===t.length)return null;let n=Math.max(...t.map(o=>o.equipment?.tier??0));return t.filter(o=>(o.equipment?.tier??0)===n).sort((o,r)=>o.position-r.position)[0]??null}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new _(e,this.logService)}}},57235(O,S,i){i.d(S,{K:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Golden Retriever";tier=1;pack="Golden";hidden=!0;health=1;attack=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},57252(O,S,i){i.d(S,{_:()=>c});var P=i(50873);class c extends P.L{name="Paper Shredder";tier=1;friendSummoned(_,v,e,t){v&&(v.health=0,this.logService.createLog({message:`${this.name} knocked out ${v.name}.`,type:"ability",player:this.parent,puma:e}))}}},57356(O,S,i){i.d(S,{g:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;name="Thorny Dragon";tier=2;pack="Custom";attack=3;health=3;hasRandomEvents=!0;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Thorny Dragon Ability",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=3*this.level,d=o.parent.opponent.petArray.filter(L=>L.alive);if(0===d.length)return;const g=d.filter(L=>!!L.equipment&&("ailment-attack"===L.equipment.equipmentClass||"ailment-defense"===L.equipment.equipmentClass||"ailment-other"===L.equipment.equipmentClass)),f=g.length>0?g:d,D=f.length>1,k=f[(0,A.hw)(0,f.length-1)];k&&(o.snipePet(k,r,D,n,a),this.logService.createLog({message:`${o.name} fainted and dealt ${r} damage to ${k.name} (prioritizing ailments).`,type:"ability",player:o.parent,tiger:n,pteranodon:a,randomEvent:D})),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},57372(O,S,i){i.d(S,{A:()=>v});var P=i(56658),c=i(28114),A=i(64238);const v=function _(e){return(0,P.A)(e,A.A,c.A)}},57455(O,S,i){i.d(S,{T:()=>_});var P=i(46200),c=i(5615),A=i(86785);class _ extends P.i{logService;abilityService;name="Hooded Seal";tier=6;pack="Custom";attack=4;health=9;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;usesThisTurn=0;constructor(t,n){super({name:"Hooded Seal Ability",owner:t,triggers:["FriendTransformed","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){if("StartTurn"===t.trigger)return void(this.usesThisTurn=0);if(this.usesThisTurn>=2)return void this.triggerTigerExecution(t);const n=t.triggerPet;if(!n)return void this.triggerTigerExecution(t);this.usesThisTurn++;const a=(0,A.T)(this.level);n.exp=Math.min(n.exp,a),n.resetAbilityUses(),this.logService.createLog({message:`${this.owner.name} capped ${n.name} to level ${this.level}.`,type:"ability",player:this.owner.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},57483(O,S,i){i.d(S,{_:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Amphisbaena";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AmphisbaenaAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:a}=e,o=this.owner;let r=o.parent.nearestPetsAhead(1,o);if(0===r.pets.length)return;let d=r.pets[0];(t?.turnNumber??1)%2==1?(d.increaseAttack(this.level),this.logService.createLog({message:`${o.name} gave ${d.name} ${this.level} attack.`,type:"ability",player:o.parent,tiger:n,pteranodon:a,randomEvent:r.random})):(d.increaseHealth(this.level),this.logService.createLog({message:`${o.name} gave ${d.name} ${this.level} health.`,type:"ability",player:o.parent,tiger:n,pteranodon:a,randomEvent:r.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},57488(O,S,i){function P(c,A){return c.player===A?c.opponent:c.player}i.d(S,{a:()=>P})},57511(O,S,i){i.d(S,{V:()=>v});var P=i(46200),c=i(5615),A=i(23638),_=i(1152);class v extends P.i{logService;abilityService;name="Alpaca";tier=6;pack="Star";attack=3;health=7;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(n,a){super({name:"AlpacaAbility",owner:n,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,condition:o=>{const{triggerPet:r}=o;return r&&!(r instanceof v)},abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{triggerPet:o}=n,g=this.owner,f=(0,_.Uj)(g,o);f.pet&&((0,A.Oe)({logService:this.logService,owner:g,context:n,target:f.pet,amount:3,extras:{randomEvent:f.random}}),this.triggerTigerExecution(n))}copy(n){return new e(n,this.logService)}}},57598(O,S,i){i.d(S,{h:()=>_});var P=i(22097),c=i(5615),A=i(25479);class _ extends P.${logService;abilityService;name="Gros Michel Banana";equipmentClass="beforeAttack";callback=t=>{t.addAbility(new v(t,this,this.logService,this.abilityService))};constructor(t,n){super(),this.logService=t,this.abilityService=n}}class v extends c.T{equipment;logService;abilityService;constructor(t,n,a,o){super({name:"GrosMichelBananaAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=n,this.logService=a,this.abilityService=o}executeAbility(t){const a=this.owner;for(let o=0;o<this.equipment.multiplier;o++){let r=new A.w(this.logService,this.abilityService,a.parent,a.health,a.attack,a.mana,a.exp);this.logService.createLog({message:`${a.name} transformed into ${r.name} (Gros Michel Banana)${o>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:a.parent}),a.parent.transformPet(a,r)}}}},57616(O,S,i){i.d(S,{O:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Maltese";tier=5;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Maltese Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=t.parent,a=n.trumpets;a>0&&n.spendTrumpets(a,t,e.pteranodon);const o=n.petArray.filter(D=>D.alive&&D!==t);if(0===o.length||a<=0)return void this.triggerTigerExecution(e);const d=a*(this.level+1),g=Math.floor(d/o.length);let f=d%o.length;for(const D of o){const k=g+(f>0?1:0);k>0&&D.increaseMana(k),f=Math.max(0,f-1)}this.logService.createLog({message:`${t.name} converted ${a} trumpets into ${d} mana and spread it to friends.`,type:"ability",player:n,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},57690(O,S,i){i.d(S,{A:()=>_});var P=Math.floor,c=Math.random;const _=function A(v,e){return v+P(c()*(e-v+1))}},57788(O,S,i){i.d(S,{r:()=>_});var P=i(46200),c=i(5615),A=i(58068);class _ extends P.i{logService;abilityService;name="Lizard";tier=2;pack="Golden";attack=1;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"LizardAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=new A.n(this.logService,this.abilityService,d.parent,null,null,0,d.minExpForLevel),f=d.parent.summonPetInFront(d,g);f.success&&this.logService.createLog({message:`${d.name} spawned Lizard Tail Level ${d.level}`,type:"ability",player:d.parent,tiger:o,randomEvent:f.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},57850(O,S,i){i.d(S,{A:()=>_e});var P=i(75152),c=i(80618),A=i(58438),_=i(85267),v=i(44314);const _e=function re(be,Ee,ke){var de=be.constructor;switch(Ee){case"[object ArrayBuffer]":return(0,P.A)(be);case"[object Boolean]":case"[object Date]":return new de(+be);case"[object DataView]":return(0,c.A)(be,ke);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,v.A)(be,ke);case"[object Map]":case"[object Set]":return new de;case"[object Number]":case"[object String]":return new de(be);case"[object RegExp]":return(0,A.A)(be);case"[object Symbol]":return(0,_.A)(be)}}},57862(O,S,i){i.d(S,{b:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Tabby Cat";tier=2;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TabbyCatAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getRandomPets(2,[r],!0,!1,r);if(0!=d.pets.length){for(let g of d.pets)null!=g&&(this.logService.createLog({message:`${r.name} increased ${g.name}'s health by ${this.level}.`,type:"ability",player:r.parent,randomEvent:d.random,tiger:a}),g.increaseHealth(this.level));this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},57967(O,S,i){i.d(S,{G:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bird of Paradise";tier=6;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,n){super({name:"BirdOfParadiseAbility",owner:e,triggers:["SpendGold7","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=this.owner,n=t.parent.getRandomPets(3,[t]),a=n.pets;if(0===a.length)return void this.triggerTigerExecution(e);const o=this.level;for(const r of a)r.increaseAttack(o),r.increaseHealth(o);this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave ${a.map(r=>r.name).join(", ")} +${o}/+${o}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},58068(O,S,i){i.d(S,{n:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Lizard Tail";tier=1;pack="Golden";hidden=!0;attack=3;health=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},58069(O,S,i){i.d(S,{u:()=>v});var P=i(46200),c=i(5615),A=i(56979),_=i(1152);class v extends P.i{logService;abilityService;name="Peacock Spider";tier=1;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"PeacockSpiderAbility",owner:n,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{tiger:a,pteranodon:o}=n,r=this.owner,d=(0,_.MZ)(r);if(0!==d.length){for(const g of d){if(!(0,_.zo)(g,"Spooked"))continue;const f=new A.E;f.power=-this.level,f.originalPower=f.power,g.givePetEquipment(f),(0,_.rv)(this.logService,r,`${r.name} gave ${g.name} Spooked.`,a,o)}this.triggerTigerExecution(n)}}copy(n){return new e(n,this.logService)}}},58151(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Griffin";tier=3;pack="Unicorn";attack=5;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GriffinAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} chose a level ${this.level} toy from Griffin's collection.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},58212(O,S,i){i.d(S,{M:()=>P,U:()=>c});const P={Turtle:["Cake","Chili","Coconut","Garlic","Honey","Meat Bone","Melon","Mushroom","Peanut","Steak"],Puppy:["Blackberry","Croissant","Egg","Eucalyptus","Lemon","Lime","Mild Chili","Pancakes","Pie","Rice","Salt","Skewer","Squash","Walnut"],Star:["Baguette","Caramel","Carrot","Cheese","Cucumber","Grapes","Pepper","Popcorn","Seaweed","Strawberry"],Golden:["Banana","Bok Choy","Cherry","Chocolate Cake","Durian","Eggplant","Fig","Honeydew Melon","Maple Syrup","Onion","Pita Bread","Potato","Tomato"],Unicorn:["Ambrosia","Easter Egg","Faint Bread","Fairy Dust","Gingerbread Man","Golden Egg","Health Potion","Love Potion","Magic Beans","Rambutan","Yggdrasil Fruit"],Danger:["Cocoa Bean","Cod Roe","Gros Michel Banana","Sudduth Tomato","White Okra","White Truffle"],Custom:["Blueberry","Brussels Sprout","Cashew Nut","Cauliflower","Churros","Donut","Fortune Cookie","Guava","Kiwano","Kiwifruit","Macaron","Melon Slice","Nachos","Oyster Mushroom","Pineapple","Radish","Sardinian Currant","Sausage","Unagi"],Hidden:["Cake Slice","Peanut Butter"]},c={Ailments:["Bloated","Cold","Confused","Crisp","Cursed","Dazed","Icky","Inked","Sad","Silly","Sleepy","Spooked","Tasty","Toasty","Weak","Webbed"]}},58238(O,S,i){i.d(S,{Z:()=>e});var P=i(46200),c=i(5615),A=i(90966),_=i(33127),v=i(61850);class e extends P.i{logService;abilityService;name="Silkie Chicken";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;constructor(a,o){super({name:"Silkie Chicken Ability",owner:a,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,maxUses:2,abilitylevel:a.level,precondition:r=>{const d=r.triggerPet;return!!d&&d.alive},abilityFunction:r=>this.executeAbility(r)}),this.logService=o}executeAbility(a){const{tiger:o,pteranodon:r,triggerPet:d}=a,g=this.owner,f=d;if(!f)return;const k=_.I.getInjector().get(A.m).getUsefulPerksByTier(1);if(0===k.length)return;const N=k[(0,v.hw)(0,k.length-1)];f.givePetEquipment(N),this.logService.createLog({message:`${g.name} gave ${f.name} the ${N.name} perk.`,type:"ability",player:g.parent,tiger:o,pteranodon:r}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},58253(O,S,i){function P(c){setTimeout(()=>{throw c},0)}i.d(S,{T:()=>P})},58438(O,S,i){i.d(S,{A:()=>A});var P=/\w*$/;const A=function c(_){var v=new _.constructor(_.source,P.exec(_));return v.lastIndex=_.lastIndex,v}},58500(O,S,i){i.d(S,{b:()=>e,u:()=>v});var P=i(47925),c=i(87647),A=i(3684);const _=["Cold","Weak","Spooked"];function v(t,n,a={}){let o=t.equipment?.multiplier??1;const r=a.includeShieldSnipe??!1,d=a.nullifyMapleSyrupDefense??!1,g=a.manticoreDefenseAilments??_;let f="defense"==t.equipment?.equipmentClass||"shield"==t.equipment?.equipmentClass||"ailment-defense"==t.equipment?.equipmentClass||r&&"shield-snipe"==t.equipment?.equipmentClass?t.equipment:null;if(null==f)return{defenseEquipment:null,defenseMultiplier:o};if("Strawberry"===f.name){const k=(0,A.hD)(t);return k<=0?{defenseEquipment:null,defenseMultiplier:o}:(f.power=k,{defenseEquipment:f,defenseMultiplier:o})}return d&&f instanceof P.q?{defenseEquipment:null,defenseMultiplier:o}:(o=(0,c.GH)(o,f.name,n,g),f.power=(f.originalPower??f.power??0)*o,{defenseEquipment:f,defenseMultiplier:o})}function e(t,n,a,o){const r=(0,c.W6)(n,t.equipment,o),d=a?.power??0;let g="shield"==a?.equipmentClass||"shield-snipe"==a?.equipmentClass?0:1;return void 0!==a?.minimumDamage&&(g=a.minimumDamage),r<=g&&d>0?Math.max(r,0):Math.max(g,r-d)}},58728(O,S,i){i.d(S,{p:()=>c});var P=i(70762);function c(v,e){return function(n){return n.lift(new A(v,e))}}class A{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new _(e,this.predicate,this.thisArg))}}class _ extends P.v{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}},58789(O,S,i){i.d(S,{f:()=>e});var P=i(46200),c=i(5615),A=i(33127),_=i(56990),v=i(38129);class e extends P.i{logService;abilityService;name="Dugong";tier=3;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;constructor(a,o){super({name:"Dugong Ability",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=o}executeAbility(a){const{tiger:o,pteranodon:r}=a,d=this.owner,g=2*this.level,f=2*this.level,D=A.I.getInjector().get(_.T),k=d.parent.pack,L=d.parent.petArray.filter(N=>N.alive&&N!==d&&!this.isPetInActivePack(N,k,D));for(const N of L)N.increaseAttack(g),N.increaseHealth(f);L.length>0&&this.logService.createLog({message:`${d.name} gave +${g}/+${f} to pets outside ${k}.`,type:"ability",player:d.parent,tiger:o,pteranodon:r}),this.triggerTigerExecution(a)}isPetInActivePack(a,o,r){if(!r)return a.pack===o;if(v.$.includes(o))return(r.basePackPetsByName[o]?.get(a.tier)??[]).includes(a.name);const d=r.playerCustomPackPets.get(o);return d?d.get(a.tier)?.includes(a.name)??!1:a.pack===o}copy(a){return new t(a,this.logService)}}},58857(O,S,i){function P(t,n){return`${t}::${n}`}i.d(S,{Ys:()=>_,k6:()=>e,xe:()=>v});let c=null;function A(t,n){const a=(t??"").trim();return a.length>0?a:`option-${n+1}`}function _(t){const n=new Map,a=new Map;for(const o of t?.overrides??[]){if(!o||!Number.isFinite(o.index))continue;const r=Math.trunc(o.index);if(r<0)continue;const d=`${o.optionId??""}`.trim();if(!d)continue;const g=`${o.key??""}`.trim(),f=`${o.label??""}`.trim();g&&f&&a.set(P(g,f),d),n.set(r,d)}c={capture:!!t?.capture,strictValidation:!1!==t?.strictValidation,overridesByIndex:n,overridesByFingerprint:a,decisions:[],invalidOverrideError:null}}function v(){const t={decisions:c?.decisions??[],invalidOverrideError:c?.invalidOverrideError??null};return c=null,t}function e(t,n){const a=t.options.map((N,q)=>({id:A(N?.id,q),label:N?.label??N?.id??`Option ${q+1}`}));if(0===a.length)return{index:-1,randomEvent:!1,forced:!1};if(1===a.length)return{index:0,randomEvent:!1,forced:!1};const o=c,d=!!o&&(o.capture||o.overridesByIndex.size>0||o.overridesByFingerprint.size>0),g=o?.decisions.length??-1,f=P(t.key,t.label),D=o&&g>=0?o.overridesByFingerprint.get(f)??o.overridesByIndex.get(g)??null:null;let k=n(),L=!1;if(D){const N=a.findIndex(q=>q.id===D);if(N>=0)k=N,L=!0;else if(o&&o.strictValidation){const q=`Random override invalid at step ${g+1}: "${D}" not found for ${t.label}.`;throw o.invalidOverrideError=q,new Error(q)}}return(k<0||k>=a.length)&&(k=Math.max(0,Math.min(a.length-1,k))),d&&o&&o.decisions.push({index:g,key:t.key,label:t.label,options:a,selectedOptionId:a[k]?.id??null,forced:L}),{index:k,randomEvent:!0,forced:L}}},58880(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Goose";tier=1;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GooseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.opponent.getFurthestUpPet(r),g=d.pet;if(null==g)return;let f=this.level;g.increaseAttack(-this.level),this.logService.createLog({message:`${r.name} removed ${f} attack from ${g.name}.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},59303(O,S,i){i.d(S,{c:()=>_});var P=i(46200),c=i(5615),A=i(51838);class _ extends P.i{logService;abilityService;name="Therizinosaurus";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"TherizinosaurusAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithoutEquipment("Strawberry"),f=d.parent.getFurthestUpPets(this.level,g,d),D=f.pets;for(let k of D)k.givePetEquipment(new A.K),this.logService.createLog({message:`${d.name} gave ${k.name} Coconut.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.random});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},59320(O,S,i){i.d(S,{A:()=>t});var P=i(71387),c=i(42495),A=i(11374),_=i(75738),v=i(38818);function e(n){var a=-1,o=null==n?0:n.length;for(this.clear();++a<o;){var r=n[a];this.set(r[0],r[1])}}e.prototype.clear=P.A,e.prototype.delete=c.A,e.prototype.get=A.A,e.prototype.has=_.A,e.prototype.set=v.A;const t=e},59370(O,S,i){i.d(S,{R6:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Pelican";tier=5;pack="Star";attack=5;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D,k){super(t,n,o),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,d,g,D,k)}}class _ extends c.T{logService;abilityService;constructor(t,n,a){super({name:"PelicanFaintAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)},ignoreRepeats:!0}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;for(;d.swallowedPets.length>0;){let g=d.swallowedPets.shift(),f=d.parent.summonPet(g,d.savedPosition,!1,d);f.success&&this.logService.createLog({message:`${d.name} summoned ${g.name} (level ${g.level}).`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new _(t,this.logService,this.abilityService)}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"PelicanStartAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.petService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getPetsWithoutEquipment("Strawberry"),f=d.parent.nearestPetsAhead(this.level,d,g),D=f.pets;if(0!=D.length){for(let k of D){let L=this.petService.createPet({name:"Salmon",attack:k.attack,health:k.health,exp:k.exp,equipment:null,mana:0},d.parent);d.swallowedPets.push(L),k.health=0,this.logService.createLog({message:`${d.name} swallowed ${k.name}`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random})}this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService,this.petService)}}},59374(O,S,i){i.d(S,{x:()=>c});var P=i(22097);class c extends P.${name="Dazed";equipmentClass="ailment-other"}},59561(O,S,i){i.d(S,{Q:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Durian";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"DurianAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let n=this.equipment.multiplier;for(let a=0;a<n;a++){let o=t.parent.opponent.getHighestHealthPet(),r=o.pet;if(null==r)continue;let d=.33,g=Math.max(1,Math.floor(r.health*(1-d)));r.health=g,this.logService.createLog({message:`${this.equipment.name} reduced ${r.name} health by ${100*d}% to ${g}${a>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent,randomEvent:o.random})}t.removePerk()}}},59644(O,S,i){i.d(S,{R:()=>_});var P=i(46200),c=i(5615),A=i(2375);class _ extends P.i{logService;abilityService;name="Walrus";tier=6;pack="Custom";attack=7;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"WalrusAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=o.parent.getRandomPets(this.level,[o],!1,!1,o),d=r.pets;if(0===d.length)return void this.triggerTigerExecution(t);const g=[];for(const f of d)f.givePetEquipment(new A._),g.push(f.name);this.logService.createLog({message:`${o.name} gave Peanut Butter to ${g.join(", ")} on faint.`,type:"ability",player:o.parent,tiger:n,pteranodon:a,randomEvent:r.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},59659(O,S,i){i.d(S,{W:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Kitsune";tier=5;pack="Unicorn";attack=2;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"KitsuneAbility",owner:e,triggers:["FriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,d=r.petAhead;if(!d||!d.alive)return;let g=0;const f=r.parent.petArray.filter(D=>D.mana>0&&D!==r&&D!==d);for(let D of f){const k=D.mana;g+=k,D.mana=0,this.logService.createLog({message:`${r.name} took ${k} mana from ${D.name}.`,type:"ability",player:r.parent,tiger:a})}this.logService.createLog({message:`${r.name} gave ${d.name} +${g+2*r.level} mana.`,type:"ability",player:r.parent,tiger:a}),d.increaseMana(g+2*r.level),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},59713(O,S,i){i.d(S,{i:()=>_});var P=i(46200),c=i(5615),A=i(56979);class _ extends P.i{logService;abilityService;name="Kakapo";tier=4;pack="Danger";attack=4;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"KakapoAbility",owner:t,triggers:["ThisFirstAttack"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,condition:a=>this.owner.timesAttacked<=1,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner,g=d.parent.opponent.getHighestAttackPets(this.level,void 0,d),f=[...g.pets].sort((D,k)=>D.attack-k.attack);for(let D of f)D.givePetEquipment(new A.E),this.logService.createLog({message:`${d.name} gave ${D.name} Spooked.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random});for(let D of f)D.parent.pushPetToBack(D),this.logService.createLog({message:`${d.name} pushed ${D.name} to the back.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},59879(O,S,i){i.d(S,{A:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;name="Siberian Husky";tier=5;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Siberian Husky Ability",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const n=this.owner,a=this.level,o=n.parent.petArray.filter(d=>!(!d||d===n||!d.alive||null!=d.equipment&&"shop"===d.equipment.equipmentClass));if(0===o.length)return void this.triggerTigerExecution(t);(0,A.k4)(o);const r=o.slice(0,3);for(const d of r)d.increaseAttack(a),d.increaseHealth(a);this.logService.createLog({message:`${n.name} gave ${r.map(d=>d.name).join(", ")} +${a}/+${a}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},59951(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Takhi";tier=2;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}class _ extends c.T{logService;abilityService;petService;constructor(e,t,n,a){super({name:"TakhiAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=n,this.petService=a}executeAbility(e){const{gameApi:t,tiger:a,pteranodon:o}=e,r=this.owner;let f=this.petService.createPet({name:"African Wild Dog",attack:3*this.level,health:2*this.level,exp:0,mana:0,equipment:null},r.parent);if(f){let D=r.parent.summonPet(f,r.savedPosition,!1,r);D.success&&(this.logService.createLog({message:`${r.name} summoned a ${f.attack}/${f.health} ${f.name}`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:D.randomEvent}),f.activateAbilities("StartBattle",t,"Pet"))}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService,this.petService)}}},59975(O,S,i){i.d(S,{A:()=>_});var P=i(99898),c=i(28114);const _=function A(v,e){return(0,P.A)(v,(0,c.A)(v),e)}},60135(O,S,i){i.d(S,{i:()=>r});var P=i(84385),c=i(58253),_=i(37765),e=i(45722),n=i(25253),a=i(15998),o=i(61456);const r=d=>{if(d&&"function"==typeof d[e.s])return(d=>g=>{const f=d[e.s]();if("function"!=typeof f.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return f.subscribe(g)})(d);if((0,n.X)(d))return(0,P.v)(d);if((0,a.y)(d))return(d=>g=>(d.then(f=>{g.closed||(g.next(f),g.complete())},f=>g.error(f)).then(null,c.T),g))(d);if(d&&"function"==typeof d[_.lJ])return(d=>g=>{const f=d[_.lJ]();for(;;){let D;try{D=f.next()}catch(k){return g.error(k),g}if(D.done){g.complete();break}if(g.next(D.value),g.closed)break}return"function"==typeof f.return&&g.add(()=>{f.return&&f.return()}),g})(d);{const f=`You provided ${(0,o.G)(d)?"an invalid object":`'${d}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(f)}}},60190(O,S,i){i.d(S,{o:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Squirrel";tier=4;pack="Turtle";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SquirrelAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} discounted all shop food by ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},60309(O,S,i){i.d(S,{A:()=>c});const c=function P(A){var _=typeof A;return"string"==_||"number"==_||"symbol"==_||"boolean"==_?"__proto__"!==A:null===A}},60385(O,S,i){i.d(S,{f:()=>c});var P=i(22097);class c extends P.${name="White Okra";tier=6;equipmentClass="shield";power=10;originalPower=10;uses=2;originalUses=2}},60397(O,S,i){i.d(S,{f:()=>_});var P=i(46200),c=i(5615),A=i(6550);class _ extends P.i{logService;abilityService;petService;name="Parrot";tier=4;pack="Turtle";attack=4;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D,k){super(t,n,o),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,d,g,D,k)}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"ParrotAbility",owner:t,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.petService=a}executeAbility(t){const{gameApi:n,triggerPet:a,tiger:o,pteranodon:r}=t;let d=this.owner;const g=null!=d.parrotCopyPet&&""!==d.parrotCopyPet,f=g?(0,A.yo)(d,"parrotCopyPet",null):d.petAhead?.name??null,D=g?(0,A.yo)(d,"parrotCopyPetBelugaSwallowedPet",null):null;if(!f)return;const L="Abomination"===f&&g?(()=>{const ne={};for(const Q of A.uF){const $=(0,A.AV)("parrotCopyPetAbominationSwallowedPet",Q),H=(0,A.AV)("abominationSwallowedPet",Q);ne[H.base]=(0,A.yo)(d,$.base,null),ne[H.belugaSwallowedPet]=(0,A.yo)(d,$.belugaSwallowedPet,null),ne[H.level]=(0,A.aA)(d,$.level,1),ne[H.timesHurt]=(0,A.aA)(d,$.timesHurt,0),ne[H.parrotCopyPet]=(0,A.yo)(d,$.parrotCopyPet,null),ne[H.parrotCopyPetBelugaSwallowedPet]=(0,A.yo)(d,$.parrotCopyPetBelugaSwallowedPet,null);for(const ae of A.uF){const re=$.nested(ae),_e=H.nested(ae);ne[_e.base]=(0,A.yo)(d,re.base,null),ne[_e.belugaSwallowedPet]=(0,A.yo)(d,re.belugaSwallowedPet,null),ne[_e.level]=(0,A.aA)(d,re.level,1),ne[_e.timesHurt]=(0,A.aA)(d,re.timesHurt,0)}}return ne})():{},N={name:f,attack:null,health:null,mana:null,exp:d.exp??0,equipment:null,belugaSwallowedPet:"Beluga Whale"===f?(0,A.yo)({belugaSwallowedPet:D},"belugaSwallowedPet",null)??null:void 0};Object.assign(N,L);let q=this.petService.createPet(N,d.parent);if(null!=q){if("Abomination"===f&&Object.assign(d,L),"Beluga Whale"===f&&(d.belugaSwallowedPet=D??null),d.copyAbilities(q,"Pet",d.level),d.initAbilityUses(),"Abomination"===f){const ne=d.abilityList.filter(Q=>"AbominationAbility"===Q.name);for(const Q of ne)Q.execute(n,a,o,r)}this.logService.createLog({message:`${d.name} copied ${q.name}`,type:"ability",player:d.parent})}}copy(t){return new v(t,this.logService,this.petService)}}},60489(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Zombie Cricket";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ZombieCricketAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},60583(O,S,i){i.d(S,{N:()=>_});var P=i(46200),c=i(5615),A=i(23770);class _ extends P.i{logService;abilityService;name="Farmer Chicken";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"FarmerChickenAbility",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner;let r=o.parent.nearestPetsAhead(this.level,o);if(0!==r.pets.length){for(let d of r.pets)d.givePetEquipment(new A.D),this.logService.createLog({message:`${o.name} fed ${d.name} a Corncob.`,type:"ability",player:o.parent,tiger:n,pteranodon:a,randomEvent:r.random});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},60715(O,S,i){i.d(S,{P:()=>_,f:()=>A});var P=i(50873),c=i(5615);class A extends P.L{name="Television";tier=6;onBreak(e,t){let n=2*this.level;for(let a of this.parent.petArray)a.alive&&(a.increaseAttack(n),a.increaseHealth(n),this.logService.createLog({message:`${this.name} gave ${a.name} ${n} attack and ${n} health.`,type:"ability",player:this.parent,puma:t}))}}class _ extends c.T{logService;constructor(e,t){super({name:"TelevisionAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=2*this.level,g=r.parent.getAll(!1,r,!0),f=g.pets;if(0!=f.length){for(let D of f)D.increaseAttack(d),D.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${D.name} ${d} attack and ${d} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},60797(O,S,i){i.d(S,{N:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="European Mink";tier=2;pack="Danger";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"EuropeanMinkAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=this.level,g=r.parent.nearestPetsAhead(1,r);if(g.pets.length>0){let D=g.pets[0];D.increaseAttack(d),this.logService.createLog({message:`${r.name} gave ${D.name} ${d} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random})}let f=r.parent.nearestPetsBehind(1,r);if(f.pets.length>0){let D=f.pets[0];D.increaseAttack(d),this.logService.createLog({message:`${r.name} gave ${D.name} ${d} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},60826(O,S,i){i.d(S,{q:()=>c});var P=i(22097);class c extends P.${logService;name="Skewer";tier=5;equipmentClass="skewer";power=0;attackCallback=(_,v)=>{this.skewer(_,v,1),this.skewer(_,v,2)};constructor(_){super(),this.logService=_}skewer(_,v,e){let t=v.parent.getPetAtPosition(e);null!=t&&_.snipePet(t,3*(_.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",3)}}},60892(O,S,i){i.d(S,{C:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Magpie";tier=1;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MagpieAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} spent up to ${this.level} gold and will gain it back next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},60990(O,S,i){i.d(S,{z:()=>n});var P=i(46200),c=i(5615),A=i(90966),_=i(33127),v=i(58857),e=i(61850),t=i(79222);class n extends P.i{logService;abilityService;name="Hare";tier=3;pack="Puppy";health=4;attack=4;initAbilities(){this.addAbility(new a(this,this.logService)),super.initAbilities()}constructor(r,d,g,f,D,k,L,N,q){super(r,d,g),this.logService=r,this.abilityService=d,this.initPet(L,f,D,k,N,q)}}class a extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(r,d){super({name:"HareAbility",owner:r,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:r.level,maxUses:r.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=d}executeAbility(r){const{tiger:f}=r,k=this.owner;let L=k.parent.opponent.petArray,N=[];for(let re of L)re.equipment&&_.I.getInjector().get(A.m).isUsefulPerk(re.equipment.name)&&N.push(re);if(0==N.length)return;const q=(0,v.k6)({key:"pet.hare-copy-equipment",label:(0,t.I)(k,"Hare copied equipment source"),options:N.map(re=>({id:`${re.savedPosition+1}:${re.name}`,label:`O${re.savedPosition+1} ${re.name}`}))},()=>(0,e.hw)(0,N.length-1));let ne=N[q.index],Q=ne.equipment;if(!Q)return;const $=_.I.getInjector().get(A.m).getInstanceOfAllEquipment().get(Q.name);if(!$)return;let ae=k.parent.getThis(k).pet;null!=ae&&(k.givePetEquipment($),this.logService.createLog({message:`${k.name} copied ${Q.name} to ${ae.name} from ${ne.name}.`,type:"ability",player:k.parent,tiger:f,randomEvent:q.randomEvent}),this.triggerTigerExecution(r))}copy(r){return new a(r,this.logService)}}},61245(O,S,i){i.d(S,{Ox:()=>_});var P=i(46200),c=i(5615),A=i(44402);class _ extends P.i{logService;abilityService;name="Ox";tier=3;pack="Turtle";health=3;attack=1;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"OxAbility",owner:t,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getThis(d),f=g.pet;if(null==f)return;f.increaseAttack(1),this.logService.createLog({message:`${d.name} gave ${f.name} +1 attack.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random});let D=d.parent.getThis(d),k=D.pet;null!=k&&(k.givePetEquipment(new A.m),this.logService.createLog({message:`${d.name} gave ${k.name} Melon.`,type:"ability",player:d.parent,tiger:o,randomEvent:D.random}),this.triggerTigerExecution(t))}reset(){this.maxUses=this.level,super.reset()}copy(t){return new v(t,this.logService)}}},61311(O,S,i){i.d(S,{U:()=>e});var P=i(22097),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.${logService;name="Tasty";equipmentClass="faint";callback=a=>{const o=a.getEquippedEquipmentInstance(this);a.addAbility(new t(a,o,this.logService))};constructor(a){super(),this.logService=a}}class t extends c.T{equipment;logService;constructor(a,o,r){super({name:"TastyAbility",owner:a,triggers:["Faint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:d=>{this.executeAbility(d)}}),this.equipment=o,this.logService=r}executeAbility(a){const o=this.owner;let r=o.parent.opponent.petArray.filter(f=>f.alive);if(0==r.length)return;const d=(0,A.k6)({key:"equipment.tasty-target",label:(0,v.R)(o,"Tasty","target"),options:r.map(f=>({id:`${f.savedPosition+1}:${f.name}`,label:`O${f.savedPosition+1} ${f.name}`}))},()=>(0,_.hw)(0,r.length-1));let g=r[d.index];g.increaseAttack(2*this.equipment.multiplier),g.increaseHealth(2*this.equipment.multiplier),this.logService.createLog({message:`${o.name} gave ${g.name} +2 attack and +2 health (Tasty)${this.equipment.multiplierMessage}`,type:"equipment",player:o.parent,randomEvent:d.randomEvent})}}},61313(O,S,i){i.d(S,{N:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Ostrich";tier=6;pack="Star";attack=6;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=4;constructor(e,t,n){super({name:"OstrichAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=e.shopPets,a=e.shopPetTiers??t?.map(f=>"number"==typeof f?.tier?f.tier:null);if(!a||a.length<4)return void this.triggerTigerExecution(e);const o=a[0];if(null==o||!a.slice(0,4).every(f=>f===o))return void this.triggerTigerExecution(e);this.usesThisTurn++;const r=this.owner,d=2*this.level,g=r.parent.petArray.filter(f=>f.alive);for(const f of g)f.increaseHealth(d);this.logService.createLog({message:`${r.name} re-rolled the shop and gave friends +${d} health.`,type:"ability",player:r.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},61319(O,S,i){i.d(S,{A:()=>c});const c=function P(A,_){return A===_||A!=A&&_!=_}},61404(O,S,i){i.d(S,{r:()=>c});var P=i(22097);class c extends P.${name="Cake Slice";equipmentClass="shop";tier=1}},61456(O,S,i){function P(c){return null!==c&&"object"==typeof c}i.d(S,{G:()=>P})},61502(O,S,i){i.d(S,{u:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Wyvern";tier=3;pack="Unicorn";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"WyvernAbility",owner:e,triggers:["FriendlyLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} will grant ${n} extra shop reward${1===n?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},61582(O,S,i){i.d(S,{V:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Bloodhound";tier=4;pack="Custom";attack=4;health=4;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},61625(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Albatross";tier=6;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Albatross Ability",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:()=>{}}),this.logService=t}copy(e){return new _(e,this.logService)}}},61752(O,S,i){i.d(S,{x:()=>c});var P=i(50873);class c extends P.L{name="Rosebud";tier=4;friendlyLevelUp(_,v,e,t){if(e||this.triggers++,this.triggers%2!=0)return;let n=v.parent.petArray.filter(a=>a.alive);for(let a of n)this.logService.createLog({message:`${this.name} gave ${a.name} ${t} attack and ${t} health.`,type:"ability",player:this.parent,puma:e}),a.increaseAttack(+t),a.increaseHealth(+t)}}},61753(O,S,i){i.d(S,{p:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Sea Urchin";tier=2;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SeaUrchinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.opponent.getFurthestUpPet(r),g=[d.pet],f=d.random;if(null!=g[0]){for(let D=0;D<this.level-1;D++){let k;if(k=f?r.parent.opponent.getFurthestUpPet(r).pet:g[D].petBehind(),null==k)break;g.push(k)}for(let D of g)null!=D&&(D.increaseHealth(-5),this.logService.createLog({message:`${r.name} removed 5 health from ${D.name}.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:f}));this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},61759(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pony";tier=3;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Pony Ability",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent,r=this.level,d=a.petBehind();if(!d)return void this.triggerTigerExecution(e);const g=o.abilityService;for(let f=0;f<r;f++)this.applyBetterApple(d,g);this.logService.createLog({message:`${a.name} fed ${d.name} ${r} Better Apple${1===r?"":"s"} after knocking out an enemy.`,type:"ability",player:o,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}applyBetterApple(e,t){e.increaseAttack(2),e.increaseHealth(2),t?.triggerFoodEvents(e,"better apple")}copy(e){return new _(e,this.logService)}}},61850(O,S,i){function P(v){let t,e=v.length;for(;0!==e;)t=Math.floor(Math.random()*e),e--,[v[e],v[t]]=[v[t],v[e]];return v}function c(v,e){const t=Math.ceil(v),n=Math.floor(e);return Math.floor(Math.random()*(n-t+1))+t}function A(){return Math.random()}i.d(S,{Ak:()=>A,hw:()=>c,k4:()=>P})},61901(O,S,i){i.d(S,{D:()=>A});var P=i(55378),c=i(50873);class A extends c.L{name="Sticky Hand";tier=1;startOfBattle(v,e){const t=this.parent.getLastPets(2);for(const n of t.pets)n.givePetEquipment(new P.z),this.logService.createLog({message:`${this.name} gave ${n.name} Icky.`,type:"ability",player:this.parent,puma:e,randomEvent:t.random})}}},61908(O,S,i){i.d(S,{$:()=>v});var P=i(22097),c=i(5615),A=i(33127),_=i(24111);class v extends P.${name="Cursed";equipmentClass="ailment-other";callback=n=>{n.addAbility(new e(n))}}class e extends c.T{logService;constructor(n){super({name:"CursedAbility",owner:n,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>this.executeAbility(a)}),this.logService=A.I.getInjector().get(_.K)}executeAbility(n){const a=this.owner,o=a.parent.getRandomPet([a],!1,!1,!1,a),r=o.pet;r&&(r.givePetEquipment(new v),this.logService.createLog({message:`${a.name} made ${r.name} Cursed.`,type:"equipment",player:a.parent,randomEvent:o.random}))}}},61950(O,S,i){i.d(S,{m:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Saiga Antelope";tier=4;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"SaigaAntelopeAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner,d=r.parent.resolveTrumpetGainTarget(r);d.player.gainTrumpets(3*this.level,r,o,void 0,void 0,d.random),this.logService.createLog({message:`${r.name} gave ${3*this.level} trumpets after a friend died.`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},61967(O,S,i){i.d(S,{m:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Tsuchinoko";tier=1;pack="Unicorn";attack=2;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TsuchinokoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let g=r.parent.getThis(r).pet;if(null==g)return;r.parent.pushPetToFront(g,!0),this.logService.createLog({message:`${r.name} pushed ${g.name} to the front and gained ${this.level} experience.`,type:"ability",player:r.parent,tiger:a});let D=r.parent.getThis(r).pet;null!=D&&(D.increaseExp(this.level),this.logService.createLog({message:`${r.name} gave ${D.name} +${this.level} experience.`,type:"ability",player:r.parent,tiger:a}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},62023(O,S,i){i.d(S,{c:()=>_});var P=i(46200),c=i(95573),A=i(5615);class _ extends P.i{logService;abilityService;name="Sheep";tier=3;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"SheepAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner,g=2*this.level,f=2*this.level;for(let D=0;D<2;D++){let k=new c.w(this.logService,this.abilityService,d.parent,f,g,0,this.minExpForLevel),L=d.parent.summonPet(k,d.savedPosition,!1,d);L.success&&this.logService.createLog({message:`${d.name} spawned Ram (${k.attack}/${k.health}).`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:L.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},62223(O,S,i){var P,c,A,_;i.d(S,{EA:()=>We,Eo:()=>rt,KK:()=>et,Mw:()=>vt,XR:()=>tt,_s:()=>pt,bG:()=>ct,bf:()=>Dt,ht:()=>kt,oI:()=>it,qK:()=>Et,yx:()=>Xt});var v=i(13276),e=i(40622),t=i(37283),n=i(98935);const a=ge=>ge.map(we=>we?.Name).filter(we=>!!we),o={"Beluga Whale":"WhiteWhale","Great One":"Cthulu","Small One":"BabyCthulhu",Abomination:"Shoggoth",Visitor:"Xenomorph",Swordfish:"SwordFish",Doberman:"DobermanDog","Highland Cow":"HighlandCow","Sabertooth Tiger":"SaberToothTiger","Moby Dick":"MochaDick","Chimera Goat":"ChimeraGoat","Chimera Lion":"ChimeraLion","Chimera Snake":"ChimeraSnake",CrackedEgg:"EggLadCracked","Fake Nessie":"FakeNessie","Tand and Tand":"ThorGoats"},r={Corncob:"Corn","Cake Slice":"BirthdayCakeSlice","Peanut Butter":"PeanutButter","Mana Potion":"ManaPotion","Faint Bread":"DeadBread",Kiwifruit:"Kiwi",Eggplant:"EggPlant",Rice:"RiceBall",Donut:"Doughnut",Cherry:"Cherries","Melon Slice":"WaterMelon",Cold:"Frozen",Crisp:"Burn",Dazed:"Deaf",Icky:"Acid",Inked:"Ink",Spooked:"Scared",Sleepy:"Drowsy",Webbed:"Web",Cursed:"Curse",Silly:"Silly",Bloated:"Bloated"},d=Object.fromEntries(Object.entries(r).map(([ge,we])=>[ge.toLowerCase(),we])),g=ge=>ge?ge.replace(/[^a-zA-Z0-9]/g,""):"",f=ge=>{const we=new Map;for(const Ve of ge)Ve?.Name&&Ve?.NameId&&we.set(Ve.Name,Ve.NameId);return we},D=(ge,we)=>{const Ve=ot=>!ot||/^no ability\.?$/i.test(ot.trim()),Fe=[];if(Array.isArray(ge))for(const ot of ge)!ot?.About||Ve(ot.About)||Fe.push(null!=ot.Level?`Lv${ot.Level}: ${ot.About}`:ot.About);return we&&Fe.push(we),Fe.length?Fe.join("\n"):null},k=f(v??(P||(P=i.t(v,2)))??[]),L=new Map,N=v??(P||(P=i.t(v,2)))??[];for(const ge of N)!ge?.Name||!ge?.Id||L.set(ge.Name,ge.Id);const q=e??(c||(c=i.t(e,2)))??{},ne=new Map(Object.entries(q.byNameId??{})),Q=new Map(Object.entries(q.byPetId??{})),$=new Map,H=v??(P||(P=i.t(v,2)))??[];for(const ge of H){if(!ge?.Name)continue;const we=D(ge.Abilities,ge.PerkNote);we&&$.set(ge.Name,we)}const ae=a(v??(P||(P=i.t(v,2)))??[]),re=f(t??(A||(A=i.t(t,2)))??[]),_e=new Map,be=t??(A||(A=i.t(t,2)))??[];for(const ge of be){if(!ge?.Name)continue;const we=D(ge.Abilities);we&&_e.set(ge.Name,we)}const Ee=a(t??(A||(A=i.t(t,2)))??[]),ke=f(n??(_||(_=i.t(n,2)))??[]),de=new Map(Array.from(ke.entries()).map(([ge,we])=>[ge.toLowerCase(),we])),Te=new Map(Array.from(ke.entries()).map(([ge,we])=>[g(ge),we])),Ne=new Map,Ge=n??(_||(_=i.t(n,2)))??[];for(const ge of Ge)ge?.Name&&ge.Ability&&Ne.set(ge.Name,ge.Ability);const Ie=a(n??(_||(_=i.t(n,2)))??[]);function pt(ge){if(!ge)return null;const we=k.get(ge);return we||(o[ge]||null)}function We(ge){const we=pt(ge);return we?`assets/art/Public/Public/Pets/${we}.png`:null}function tt(ge){return ge?$.get(ge)??null:null}function et(ge){if(!ge)return null;const Ve=function At(ge){if(!ge)return null;const we=ne.get(ge);return we?`assets/sounds/pets/${we}`:null}(k.get(ge));return Ve||function nt(ge){if(null==ge)return null;const we=Q.get(String(ge));return we?`assets/sounds/pets/${we}`:null}(L.get(ge))}function Dt(){return[...ae]}function ct(ge){if(!ge)return null;const Ve=re.get(ge)??g(ge);return Ve?`assets/art/Public/Public/Toys/${Ve}.png`:null}function vt(ge){return ge?_e.get(ge)??null:null}function rt(){return[...Ee]}function kt(ge,we=!1){const Ve=(ge=>{if(!ge)return null;const we=g(ge),Ve=ke.get(ge)??de.get(ge.toLowerCase())??Te.get(we),Fe=r[ge]??d[ge.toLowerCase()];return(Ve??Fe??we)||null})(ge);return Ve?we?`assets/art/Ailments/Ailments/${Ve}.png`:`assets/art/Public/Public/Food/${Ve}.png`:null}function Xt(ge){return ge?Ne.get(ge)??null:null}function it(){return[...Ie]}const $t={Turtle:"Turtle",Golden:"Golden Retriever",Puppy:"Puppy",Star:"Starfish",Unicorn:"Unicorn",Danger:"Blue Whale",Custom:"White Tiger"};function Et(ge){return ge&&"Add Custom Pack"!==ge?We($t[ge]||"White Tiger"):null}},62275(O,S,i){i.d(S,{y:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Honduran White Bat";tier=2;pack="Custom";attack=1;health=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},62307(O,S,i){i.d(S,{X:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Lion";tier=5;pack="Custom";attack=7;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LionAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}conditionFunction(){const e=this.owner;let t=e.parent.petArray.filter(a=>a!==e),n=0;for(let a of t)a.tier>n&&(n=a.tier);return e.tier>n}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;if(!this.conditionFunction())return;let d=.5*this.level;r.increaseAttack(Math.floor(r.attack*d)),r.increaseHealth(Math.floor(r.health*d)),this.logService.createLog({message:`${r.name} increased its attack and health by ${100*d}% (${r.attack}/${r.health})`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},62332(O,S,i){i.d(S,{E:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Lemming";tier=1;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"LemmingAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} will give +${this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},62633(O,S,i){i.d(S,{T:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Lucky Cat";tier=3;pack="Unicorn";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LuckyCatAbility",owner:e,triggers:["ThisLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=2;3==r.level&&(d=4);let f=r.parent.getThis(r).pet;null!=f&&(this.logService.createLog({message:`${r.name} gave ${f.name} ${d} attack and ${d} health.`,type:"ability",player:r.parent,tiger:a}),f.increaseAttack(d),f.increaseHealth(d),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},62983(O,S,i){i.d(S,{U:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;petService;name="Stoat";tier=2;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L,N){super(a,o,d),this.logService=a,this.abilityService=o,this.petService=r,this.initPet(k,g,f,D,L,N)}}class t extends c.T{logService;abilityService;petService;constructor(a,o,r,d){super({name:"StoatAbility",owner:a,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=o,this.abilityService=r,this.petService=d}executeAbility(a){const o=this.owner,{gameApi:r}=a,d=Math.max(1,r.previousShopTier??o.tier),g=this.petService.allPets.get(d)??[];if(!g.length)return void this.triggerTigerExecution(a);const f=(0,A.k6)({key:"pet.stoat-summon",label:(0,v.I)(o,"Stoat summon"),options:g.map(q=>({id:q,label:q}))},()=>(0,_.hw)(0,g.length-1)),L=this.petService.createPet({name:g[f.index],attack:1,health:1,equipment:null,exp:this.minExpForLevel,mana:0},o.parent);o.parent.summonPet(L,o.savedPosition,!1,o).success&&this.logService.createLog({message:`${o.name} summoned a 1/1 level ${this.level} ${L.name}.`,type:"ability",player:o.parent,tiger:a.tiger,pteranodon:a.pteranodon,randomEvent:f.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService,this.petService)}}},62990(O,S,i){i.d(S,{e:()=>e});var P=i(46200),c=i(5615),A=i(33127),_=i(26886),v=i(61850);class e extends P.i{logService;abilityService;name="Questing Beast";tier=6;pack="Custom";attack=7;health=9;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;constructor(a,o){super({name:"QuestingBeastAbility",owner:a,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=o}executeAbility(a){const o=this.owner,r=Math.max(1,Math.min(3,this.level)),d=A.I.getInjector().get(_.w),g=d.toys.get(r)??[];if(0===g.length)return void this.triggerTigerExecution(a);const f=g[(0,v.hw)(0,g.length-1)],D=d.createToy(f,o.parent,r);D?(o.parent.toy=D,o.parent.toy.used=!1,o.parent.toy.triggers=0,this.logService.createLog({message:`${o.name} created a level ${r} ${f} toy.`,type:"ability",player:o.parent}),this.triggerTigerExecution(a)):this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},63080(O,S,i){i.d(S,{A:()=>ne});var P=i(78257),c=i(86568),A=i(82063),_=i(94226),v=i(75756),e=i(31685),t=i(38736),n="[object Map]",o="[object Promise]",r="[object Set]",d="[object WeakMap]",g="[object DataView]",f=(0,t.A)(P.A),D=(0,t.A)(c.A),k=(0,t.A)(A.A),L=(0,t.A)(_.A),N=(0,t.A)(v.A),q=e.A;(P.A&&q(new P.A(new ArrayBuffer(1)))!=g||c.A&&q(new c.A)!=n||A.A&&q(A.A.resolve())!=o||_.A&&q(new _.A)!=r||v.A&&q(new v.A)!=d)&&(q=function(Q){var $=(0,e.A)(Q),H="[object Object]"==$?Q.constructor:void 0,ae=H?(0,t.A)(H):"";if(ae)switch(ae){case f:return g;case D:return n;case k:return o;case L:return r;case N:return d}return $});const ne=q},63195(O,S,i){i.d(S,{I:()=>c});var P=i(50873);class c extends P.L{name="Kite";tier=1;emptyFromSpace(_,v,e,t){const n=this.parent.getLastPet();if(!n.pet)return;const a=n.pet,o=Math.floor(.2*a.attack);o>0&&a.increaseAttack(-o),this.parent.pushPetToFront(a),this.logService.createLog({message:`${this.name} moved ${a.name} to the front and removed ${o} attack.`,type:"ability",player:this.parent,puma:v}),this.used=!0}}},63198(O,S,i){i.d(S,{G:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mammoth";tier=6;pack="Turtle";attack=4;health=12;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MammothAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=2*this.level,g=r.parent.getAll(!1,r),f=g.pets;if(0!=f.length){for(let D of f)D.increaseAttack(d),D.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${D.name} ${d} attack and ${d} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:g.random});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},63257(O,S,i){i.d(S,{J:()=>v,d:()=>_});var P=i(57488),c=i(50873),A=i(5615);class _ extends c.L{name="Stinky Sock";tier=5;startOfBattle(t,n){let a=(0,P.a)(t,this.parent);for(let o=0;o<this.level;o++){let r=a.getHighestHealthPet(),d=r.pet;if(null==d)return;let g=.4,f=Math.max(1,Math.floor(d.health*(1-g)));d.health=f,this.logService.createLog({message:`${this.name} reduced ${d.name} health by ${100*g}% to ${f}`,type:"ability",player:this.parent,puma:n,randomEvent:r.random})}}}class v extends A.T{logService;constructor(t,n){super({name:"StinkySockAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let f=d.parent.opponent.getHighestHealthPets(this.level,[],d),D=f.pets;if(0!=D.length){for(let k of D){let L=.4,N=Math.max(1,Math.floor(k.health*(1-L)));k.health=N,this.logService.createLog({message:`${d.name} reduced ${k.name} health by ${100*L}% to ${N}`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.random})}this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},63507(O,S,i){i.d(S,{A:()=>_});var P=i(99898),c=i(64238);const _=function A(v,e){return v&&(0,P.A)(e,(0,c.A)(e),v)}},63618(O,S,i){i.d(S,{y:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Ruspolis Turaco";tier=4;pack="Custom";attack=4;health=3;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},63625(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Sage-Grouse";tier=3;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Sage-Grouse Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent;"Strawberry"===a.equipment?.name?(a.removePerk(!0),o.gold=(o.gold??0)+3,this.logService.createLog({message:`${a.name} sold and removed Strawberry to gain +3 gold.`,type:"ability",player:o,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},63651(O,S,i){i.d(S,{z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Stegosaurus";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"StegosaurusAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:a,pteranodon:o}=e,r=10*this.level,d=t.parent.petArray.find(g=>g&&g!==t&&g.alive&&!g.equipment);d?(d.increaseAttack(r),d.increaseHealth(r),this.logService.createLog({message:`${t.name} gave ${d.name} +${r}/+${r} at start of battle.`,type:"ability",player:t.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},63683(O,S,i){i.d(S,{A:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Ethiopian Wolf";tier=1;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"EthiopianWolfAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.opponent.getFurthestUpPets(this.level,void 0,r);for(const g of d.pets)g?.alive&&(g.increaseAttack(-1),this.logService.createLog({message:`${r.name} removed 1 attack from ${g.name}.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random}));this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},63792(O,S,i){i.d(S,{X:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Foo Dog";tier=3;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Foo Dog Ability",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} was bought and gave future shop pets from the next tier +${2*this.level} health.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},63891(O,S,i){i.d(S,{q:()=>_});var P=i(47868),c=i(22168),A=i(49149);let _=(()=>{class v{abilityQueueService;toyEventService;constructor(t,n){this.abilityQueueService=t,this.toyEventService=n}triggerFaintEvents(t){const n=this.abilityQueueService.getTeam(t);for(let a of n)this.abilityQueueService.triggerAbility(a,a==t?"Faint":"FriendFaints",t),a==t.petBehind(null,!0)&&this.abilityQueueService.triggerAbility(a,"FriendAheadFainted",t),(a==t.petBehind(null,!0)||a.petBehind(null,!0)==t)&&this.abilityQueueService.triggerAbility(a,"AdjacentFriendsFaint",t)}triggerAfterFaintEvents(t){t.parent&&this.toyEventService.triggerFriendFaintsToyEvents(t.parent,t),this.abilityQueueService.triggerAbility(t,"PetFainted",t),this.abilityQueueService.triggerAbility(t,"PostRemovalFaint",t);const n=this.abilityQueueService.getTeam(t);for(let o of n)this.abilityQueueService.triggerAbility(o,"PetFainted",t),this.abilityQueueService.triggerAbility(o,"PostRemovalFriendFaints",t),this.abilityQueueService.handleNumberedCounterTriggers(o,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(o,"PostRemovalFriendFaints"));const a=this.abilityQueueService.getTeam(t.parent?.opponent).filter(o=>o.alive);for(let o of a)this.abilityQueueService.triggerAbility(o,"EnemyFainted",t),this.abilityQueueService.triggerAbility(o,"EnemyFaint",t),this.abilityQueueService.triggerAbility(o,"PetFainted",t),this.abilityQueueService.handleNumberedCounterTriggers(o,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(o,"EnemyFaint"));this.toyEventService.executeFriendFaintsToyEvents()}static \u0275fac=function(n){return new(n||v)(P.KVO(c.b),P.KVO(A.e))};static \u0275prov=P.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},63892(O,S,i){i.d(S,{m:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Monty";tier=1;pack="Unicorn";hidden=!0;health=3;attack=3;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},63972(O,S,i){i.d(S,{a:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="German Shepherd";tier=6;pack="Golden";attack=10;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"GermanShepherdAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:n,tiger:a,pteranodon:o}=t,r=this.owner,g=Math.floor(r.attack*(.25*this.level)),f=(0,A.Uj)(r,n);if(!f.pet)return;const D=f.pet;D.increaseAttack(g),(0,A.rv)(this.logService,r,`${r.name} gave ${D.name} ${g} attack.`,a,o,{randomEvent:f.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},63979(O,S,i){i.d(S,{e:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Red Panda";tier=5;pack="Danger";health=4;attack=4;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},63981(O,S,i){i.d(S,{Z:()=>_});var P=i(46200),c=i(5615),A=i(19058);class _ extends P.i{logService;abilityService;name="Flea";tier=3;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"FleaAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithEquipmentWithSillyFallback("Weak",d),f=d.parent.opponent.getHighestHealthPets(this.level,g,d);for(let D of f.pets)this.logService.createLog({message:`${d.name} gave ${D.name} Weak.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.random}),D.givePetEquipment(new A.l);this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},64017(O,S,i){i.d(S,{W:()=>c});var P=i(22097);class c extends P.${name="Kiwano";equipmentClass="shop"}},64174(O,S,i){i.d(S,{K:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Hammerhead Shark";tier=6;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Hammerhead Shark Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;if(!t.parent.petArray.some(r=>r&&r!==t&&3===r.level))return void this.triggerTigerExecution(e);const a=3*this.level,o=t.parent;o.gold=(o.gold??0)+a,this.logService.createLog({message:`${t.name} gained +${a} gold from level 3 friends.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},64238(O,S,i){i.d(S,{A:()=>v});var P=i(6792),c=i(41270),A=i(31287);const v=function _(e){return(0,A.A)(e)?(0,P.A)(e,!0):(0,c.A)(e)}},64255(O,S,i){i.d(S,{Z:()=>v});var P=i(46200),c=i(5615),A=i(32334),_=i(1152);class v extends P.i{logService;abilityService;name="Koala";tier=2;pack="Star";attack=4;health=2;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"KoalaAbility",owner:n,triggers:["FriendHurt"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:o=>(0,_.Re)(this.owner,o.triggerPet),abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{triggerPet:o,tiger:r}=n,g=this.owner;let f=(0,_.LZ)(g,o),D=f.pet;D&&(D.givePetEquipment(new A.E),this.logService.createLog({message:`${g.name} gave ${D.name} Eucalyptus perk.`,type:"ability",player:g.parent,tiger:r,randomEvent:f.random}),this.triggerTigerExecution(n))}copy(n){return new e(n,this.logService)}}},64746(O,S,i){i.d(S,{A:()=>A});var P=i(3746);const A=function c(_){return(0,P.A)(this,_).get(_)}},64747(O,S,i){i.d(S,{u:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Chicken";tier=5;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ChickenAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} gave future shop pets +${n} attack and +${n} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},64855(O,S,i){i.d(S,{AF:()=>Gi,UI:()=>Ht,qw:()=>zt});var P=i(37545),c=i(23201),A=i(72242),_=i(68879),v=i(48356),e=i(14182),t=i(37850),n=i(63195),a=i(29654),o=i(945),r=i(78435),d=i(57252),g=i(94225),f=i(95624),D=i(9238),k=i(95957),L=i(6143),N=i(38130),q=i(94640),ne=i(95621),Q=i(61901),$=i(41504),H=i(8408),ae=i(97244),re=i(22167),_e=i(76032),be=i(77226),Ee=i(13950),ke=i(97588),de=i(40358),Te=i(91946),Ne=i(53227),Ge=i(93614),Ie=i(63257),gt=i(60715),pt=i(29866),We=i(25321),tt=i(20136),At=i(85709),nt=i(83048),et=i(78708),Dt=i(736),ct=i(26683),vt=i(890),rt=i(1398),He=i(83699),kt=i(68460),Xt=i(48352),it=i(42504),$t=i(56079),Et=i(28128),ge=i(33270),we=i(67276),Ve=i(61752),Fe=i(19540),ot=i(13713),Bt=i(18609),Rt=i(56351),qt=i(93533);const zt={"Action Figure":_.j,Balloon:P.O,"Chocolate Box":v.i,"Dice Cup":e.O,Handkerchief:t.L,Kite:n.I,Lamp:a.z,Lunchbox:o.Y,"Tennis Ball":c.R,Onesie:r.M,"Paper Shredder":d._,Pen:g.w,"Pill Bottle":f.S,"Pogo Stick":D.g,"Remote Car":k.N,"Ring Pyramid":L.P,Scale:q.F,"Soccer Ball":ne.x,"Sticky Hand":Q.D,Radio:ae.s,"Plastic Saw":re.y,"Toilet Paper":_e.G,"Oven Mitts":be.w,"Melon Helmet":Ee.h,"Foam Sword":ke.P,"Toy Gun":de.j,"Toy Mouse":H._,"Cash Register":Te.X,Camera:Ne.i,Flashlight:Ge.l,"Stinky Sock":Ie.d,Television:gt.f,"Peanut Jar":pt.J,"Air Palm Tree":We.H,"Witch Broom":At.t,"Magic Wand":nt.a,"Crystal Ball":et.u,"Treasure Map":Dt.W,"Treasure Chest":ct.P,"Magic Carpet":rt.H,"Magic Lamp":He.M,Candelabra:kt.a,"Glass Shoes":Xt.X,"Golden Harp":it.f,"Lock of Hair":$t.B,"Magic Mirror":Et.D,Pickaxe:ge.Y,"Red Cape":we.N,Rosebud:Ve.x,Excalibur:Fe.U,"Holy Grail":ot.s},Ht={"Evil Book":vt._,Nutcracker:Bt.t,"Tinder Box":Rt.i},Gi={"Rubber Duck":xt=>new N.A(xt.logService,xt.toyService,xt.petService,xt.parent,xt.level),Stick:xt=>new A.n(xt.logService,xt.toyService,xt.parent,xt.level,xt.petService),"Stuffed Bear":xt=>new $.W(xt.logService,xt.toyService,xt.petService,xt.parent,xt.level),"Pandoras Box":xt=>new tt.g(xt.logService,xt.toyService,xt.parent,xt.level,xt.equipmentService),"Microwave Oven":xt=>new qt.q(xt.logService,xt.toyService,xt.parent,xt.level,xt.petService,xt.gameService)}},64888(O,S,i){i.d(S,{l:()=>_});var P=i(61850),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Tandgnost";tier=4;pack="Custom";attack=6;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"Tandgnost Ability",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=n.parent.petArray.filter(d=>d&&d.alive&&"Tandgrisner"===d.name);if(0===a.length)return void this.triggerTigerExecution(t);const[o]=(0,P.k4)([...a]),r=3*Math.max(1,this.level);o.increaseHealth(r),this.logService.createLog({message:`${n.name} gave ${o.name} +${r} health.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},65006(O,S,i){i.d(S,{$:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Saola";tier=2;pack="Danger";attack=2;health=2;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},65033(O,S,i){i.d(S,{A:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Guinea Pig";tier=2;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GuineaPigAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,a=this.level,o=new A(this.logService,this.abilityService,t.parent,a,a,null,this.minExpForLevel),r=t.parent.summonPet(o,t.savedPosition,!1,t);r.success&&this.logService.createLog({message:`${t.name} summoned a ${a}/${a} Guinea Pig (level ${this.level}).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:r.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},65103(O,S,i){i.d(S,{y:()=>v});var P=i(46200),c=i(5615),A=i(44402),_=i(1152);class v extends P.i{logService;abilityService;name="Marine Iguana";tier=5;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;targettedFriends=new Set;constructor(n,a){super({name:"MarineIguanaAbility",owner:n,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:o=>{const r=this.owner;if(!(0,_.Re)(r,o.triggerPet))return!1;const g=(0,_.lK)(r,o.triggerPet).pet;return!!g&&!this.targettedFriends.has(g)},abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}reset(){this.targettedFriends=new Set,super.reset()}executeAbility(n){const{triggerPet:o,tiger:r}=n,g=this.owner;let f=(0,_.lK)(g,o),D=f.pet;D&&(D.givePetEquipment(new A.m),this.targettedFriends.add(D),this.logService.createLog({message:`${g.name} gave ${D.name} Melon`,type:"ability",player:g.parent,tiger:r,randomEvent:f.random}),this.triggerTigerExecution(n))}copy(n){return new e(n,this.logService)}}},65188(O,S,i){i.d(S,{E:()=>c});var P=i(22097);class c extends P.${name="Carrot";equipmentClass="shop"}},65223(O,S,i){i.d(S,{X:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Nudibranch";tier=1;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"NudibranchAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>{const a=this.owner;let o=new Set;for(const r of a.parent.petArray){if(o.has(r.name))return!1;o.add(r.name)}return!0},abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=3*this.level,r=this.level;a.increaseAttack(o),a.increaseHealth(r),this.logService.createLog({message:`${a.name} gained +${o} attack and +${r} health.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},65418(O,S,i){i.d(S,{f:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Nurse Shark";tier=5;pack="Golden";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"NurseSharkAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>0!=this.owner.parent.trumpets,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=3*Math.min(r.parent.trumpets,6),g=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!0,r),f=g.pets;if(0!=f.length){r.parent.spendTrumpets(Math.min(r.parent.trumpets,6),r,o);for(let D of f)r.snipePet(D,d,g.random,a,o);this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},65419(O,S,i){i.d(S,{n:()=>A});var P=i(33500),c=i(22729);class A extends c.H{pushPetToFront(v,e=!1){(0,P.Q_)(this,v,e,this.logService,this.abilityService)}pushPetToBack(v){(0,P.i2)(this,v,this.logService,this.abilityService)}pushPet(v,e=1,t){(0,P.q7)(this,v,e,t,this.logService,this.abilityService)}}},65438(O,S,i){i.d(S,{B:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Murmel";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MurmelAbility",owner:e,triggers:["FriendGainedExp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=this.level,f=r.parent.getThis(r).pet;null!=f&&(this.logService.createLog({message:`${r.name} gave ${f.name} ${d} attack.`,type:"ability",player:r.parent,tiger:a}),f.increaseAttack(d),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},65679(O,S,i){i.d(S,{v:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Boar";tier=6;pack="Turtle";attack=10;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BoarAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d={attack:4*this.level,health:2*this.level},g=r.parent.getThis(r),f=g.pet;null!=f&&(f.increaseAttack(d.attack),f.increaseHealth(d.health),this.logService.createLog({message:`${r.name} gave ${f.name} ${d.attack} attack and ${d.health} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},65919(O,S,i){i.d(S,{n:()=>_});var P=i(46200),c=i(29855),A=i(5615);class _ extends P.i{logService;abilityService;name="Hydra";tier=6;pack="Unicorn";attack=10;health=6;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"HydraAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=Math.floor(d.attack/10);for(let f=0;f<g;f++){let D=5*this.level,k=new c.p(this.logService,this.abilityService,d.parent,D,D),L=d.parent.summonPet(k,d.savedPosition,!1,d);L.success&&this.logService.createLog({message:`${d.name} spawned Head (${k.attack}/${k.health}).`,type:"ability",player:d.parent,tiger:o,pteranodon:r,sourcePet:d,randomEvent:L.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},66139(O,S,i){i.d(S,{u:()=>_});var P=i(22097),c=i(63892),A=i(5615);class _ extends P.${logService;abilityService;name="Easter Egg";equipmentClass="afterFaint";callback=t=>{const n=t.getEquippedEquipmentInstance(this);t.addAbility(new v(t,n,this.logService,this.abilityService))};constructor(t,n){super(),this.logService=t,this.abilityService=n}}class v extends A.T{equipment;logService;abilityService;constructor(t,n,a,o){super({name:"EasterEggAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=n,this.logService=a,this.abilityService=o}executeAbility(t){const n=this.owner;for(let a=0;a<this.equipment.multiplier;a++){let o=new c.m(this.logService,this.abilityService,n.parent,null,null,0,0);n.parent.summonPet(o,n.savedPosition).success&&this.logService.createLog({message:`${n.name} Spawned Monty (Easter Egg)${a>0?this.equipment.multiplierMessage:""}`,type:"ability",player:n.parent})}}}},66328(O,S,i){i.d(S,{r:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Ahuizotl";tier=4;pack="Custom";attack=3;health=6;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},66358(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dog";tier=3;pack="Turtle";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DogAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;if(!n||n===r)return;let d=2*this.level,g=this.level,f=r.parent.getThis(r);f.pet&&(f.pet.increaseAttack(d),f.pet.increaseHealth(g),this.logService.createLog({message:`${r.name} gave ${f.pet.name} ${d} attack and ${g} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},66391(O,S,i){i.d(S,{i:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Fire Ant";tier=5;pack="Golden";attack=8;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FireAntAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.getHighestTierPets(this.level,null,r),g=d.pets;if(0!=g.length){for(let f of g)f.increaseAttack(r.attack),this.logService.createLog({message:`${r.name} gave ${f.name} ${r.attack} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random,pteranodon:o});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},66548(O,S,i){i.d(S,{u:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Hoopoe Bird";tier=3;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HoopoeBirdAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.opponent,g=d.getFurthestUpPet(r),f=g.pet,D=d.getLastPet(void 0,r),k=D.pet,L=2*this.level;f&&r.snipePet(f,L,g.random,a,o),k&&r.snipePet(k,L,D.random,a,o),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},66723(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Manticore";tier=6;pack="Unicorn";attack=7;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ManticoreAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){}copy(e){return new _(e,this.logService,this.abilityService)}}},66802(O,S,i){i.d(S,{n:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Lionfish";tier=6;pack="Puppy";attack=10;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LionfishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.opponent,g=1+Math.floor(r.attack/10);for(let f=0;f<g;f++){let D=d.getRandomPet([],!1,!0,!1,r);if(null==D.pet)return;r.snipePet(D.pet,3*this.level,D.random,a,o)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},66855(O,S,i){i.d(S,{f:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Tropical Fish";tier=3;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"TropicalFishAbility",owner:t,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=(0,A.MZ)(n);if(0!==a.length){for(const o of a)o.increaseHealth(this.level),(0,A.rv)(this.logService,n,`${n.name} gave ${o.name} +${this.level} health.`,t.tiger,t.pteranodon);this.triggerTigerExecution(t)}else this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},66948(O,S,i){i.d(S,{v:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Cardinal";tier=3;pack="Star";health=3;attack=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"CardinalAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;let n=t.petAhead;for(;n;){const a=n.equipment;if(a&&!a.equipmentClass?.startsWith("ailment")){this.logService.createLog({message:`${t.name} stocked a discounted copy of ${a.name} (-${this.level} gold).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon});break}n=n.petAhead}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},67013(O,S,i){i.d(S,{P:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Hippo";tier=4;pack="Turtle";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HippoAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=3*this.level,g=r.parent.getThis(r),f=g.pet;null!=f&&(f.increaseAttack(d),f.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${f.name} ${d} attack and ${d} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},67056(O,S,i){i.d(S,{B:()=>_});var P=i(46200),c=i(33446),A=i(5615);class _ extends P.i{logService;abilityService;name="Dunkleosteus";tier=6;pack="Custom";attack=6;health=8;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"Dunkleosteus Ability",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=n.equipment;if(!a||!this.isAilmentEquipment(a))return void this.triggerTigerExecution(t);const o=n.parent.opponent.petArray.filter(D=>D&&D.alive);if(0===o.length)return void this.triggerTigerExecution(t);const r=(0,c.A)(a);n.removePerk(!0);const d=o.slice(0,Math.min(2,o.length));for(const D of d){const k=(0,c.A)(r);k.multiplier+=this.level-1,D.givePetEquipment(k)}const g=["."," with double effect."," with triple effect."],f=`${n.name} moved ${r.name} to ${d.map(D=>D.name).join(", ")}${g[Math.min(this.level,g.length)-1]}`;this.logService.createLog({message:f,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}isAilmentEquipment(t){return"ailment-attack"===t.equipmentClass||"ailment-defense"===t.equipmentClass||"ailment-other"===t.equipmentClass}copy(t){return new v(t,this.logService)}}},67104(O,S,i){i.d(S,{A:()=>_});var c=Object.prototype.hasOwnProperty;const _=function A(v){var e=v.length,t=new v.constructor(e);return e&&"string"==typeof v[0]&&c.call(v,"index")&&(t.index=v.index,t.input=v.input),t}},67138(O,S,i){i.d(S,{z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Team Spirit";tier=6;pack="Unicorn";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TeamSpiritAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getAll(!1,r,!0),g=d.pets,f={attack:r.level,health:r.level};for(let D of g)this.logService.createLog({message:`${r.name} gave ${D.name} ${f.attack} attack and ${f.health} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),D.increaseAttack(f.attack),D.increaseHealth(f.health);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},67174(O,S,i){i.d(S,{a:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bad Dog";tier=5;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BadDogAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} chose a level ${this.level} toy that brings doom and chaos!`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},67276(O,S,i){i.d(S,{N:()=>A});var P=i(50873);i(5615);class A extends P.L{name="Red Cape";tier=4;friendJumped(e,t,n,a){let o=t.parent.petArray.filter(r=>r.alive);for(let r of o)this.logService.createLog({message:`${this.name} gave ${r.name} ${a} attack and ${a} health.`,type:"ability",player:this.parent,puma:n}),r.increaseAttack(+a),r.increaseHealth(+a)}}},67319(O,S,i){i.d(S,{S:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Shark";tier=5;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SharkAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;if(!r.alive||n==r)return;let d={attack:2*this.level,health:2*this.level},g=r.parent.getThis(r),f=g.pet;null!=f&&(f.increaseAttack(d.attack),f.increaseHealth(d.health),this.logService.createLog({message:`${r.name} gave ${f.name} ${d.attack} attack and ${d.health} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},67336(O,S,i){i.d(S,{e:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;petService;name="Silky Sifaka";tier=6;pack="Danger";attack=4;health=6;initAbilities(){this.addAbility(new t(this,this.logService,this.petService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L,N){super(a,o,d),this.logService=a,this.abilityService=o,this.petService=r,this.initPet(k,g,f,D,L,N)}}class t extends c.T{logService;petService;constructor(a,o,r){super({name:"SilkySifakaAbility",owner:a,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.petService=r}executeAbility(a){const{tiger:d}=a,f=this.owner;let D=["Mammoth","Lionfish","Orca","Sabertooth Tiger","Warthog","Hydra","Phoenix","Bay Cat","Walrus","Ammonite"],L=f.parent.nearestPetsBehind(2,f).pets;for(let N of L){const q=this.formatPositionArg(f),ne=this.formatPositionArg(N),Q=(0,A.k6)({key:"pet.silky-sifaka-transform",label:(0,v.I)(f,`Silky Sifaka transform for ${N.name}`),options:D.map(ae=>({id:ae,label:ae}))},()=>(0,_.hw)(0,D.length-1));let H=this.petService.createPet({name:D[Q.index],attack:N.attack,health:N.health,mana:N.mana,exp:f.minExpForLevel,equipment:N.equipment},f.parent);f.parent.transformPet(N,H),this.logService.createLog({message:`[${q}->${ne}] ${f.name} transformed ${N.name} into level ${f.level} ${H.name}`,type:"ability",player:f.parent,sourceIndex:f.savedPosition+1,targetIndex:N.savedPosition+1,targetIsOpponent:N.parent?.isOpponent,tiger:d,randomEvent:Q.randomEvent})}this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.petService)}formatPositionArg(a){const o=a.parent?.isOpponent?"O":"P",r=Number.isFinite(a.savedPosition)?Math.trunc(a.savedPosition)+1:1;return`${o}${Math.min(Math.max(r,1),5)}`}}},67358(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Sea Serpent";tier=6;pack="Unicorn";attack=6;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SeaSerpentAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner,g=e.seaSerpentMana??r.mana;if(0==g)return;null==e.seaSerpentMana&&(e.seaSerpentMana=g,r.mana=0);let f=g;this.logService.createLog({message:`${r.name} spent ${g} mana.`,type:"ability",player:r.parent,tiger:a,pteranodon:o});let k=r.parent.opponent.getHighestHealthPet(void 0,r);null!=k.pet&&r.snipePet(k.pet,f,k.random,a,o);let L=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[k.pet],null,!0,r);for(let N of L.pets)null!=N&&r.snipePet(N,f,L.random,a,o);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},67412(O,S,i){i.d(S,{l:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;name="Sphinx";tier=2;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new t(this)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{constructor(a){super({name:"Sphinx Ability",owner:a,triggers:["ThisBought"],abilityType:"Pet",abilitylevel:a.level,abilityFunction:o=>this.executeAbility(o)})}executeAbility(a){const{gameApi:o}=a,r=this.owner,d=this.level,g=["Tennis Ball","Plastic Saw","Toilet Paper","Foam Sword","Flashlight","Television"],f=(0,A.k6)({key:"pet.sphinx-toy-roll",label:(0,v.I)(r,"Sphinx adventurous toy roll"),options:g.map(L=>({id:L,label:L}))},()=>(0,_.hw)(0,g.length-1)),D=g[f.index],k=o?.toyService?.createToy(D,r.parent,d);k&&(r.parent.toy=k,o?.logService?.createLog({message:`${r.name} gained a level ${d} ${D}.`,type:"ability",player:r.parent,randomEvent:f.randomEvent})),this.triggerTigerExecution(a)}copy(a){return new t(a)}}},67459(O,S,i){i.d(S,{a:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Blue Dragon";tier=3;pack="Custom";attack=3;health=4;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}}class _ extends c.T{logService;constructor(e,t){super({name:"Blue Dragon Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,d=a.parent.nearestPetsBehind(4,a).pets.length*this.level;if(d>0){const k=a.parent.resolveTrumpetGainTarget(a);k.player.gainTrumpets(d,a,n,void 0,void 0,k.random)}const g=this.level,D=a.parent.nearestPetsAhead(4,a).pets;D.length>0&&(D.forEach(k=>k.increaseMana(g)),this.logService.createLog({message:`${a.name} gave ${D.length} friend${1===D.length?"":"s"} ahead +${g} mana at StartBattle.`,type:"ability",player:a.parent,tiger:t,pteranodon:n})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},67476(O,S,i){i.d(S,{h:()=>_});var P=i(46200),c=i(5615),A=i(13761);class _ extends P.i{logService;abilityService;name="Gelada";tier=4;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"Gelada Ability",owner:t,triggers:["Eat2"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>this.executeAbility(o)}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=this.level;if(r<=0)return void this.triggerTigerExecution(t);const d=new A.s(this.logService,this.abilityService,o.parent,void 0,void 0,void 0,o.exp);o.parent.transformPet(o,d),this.feedFriends(r),this.logService.createLog({message:`${o.name} transformed into ${d.name} and fed each friend ${r} Pear${1===r?"":"s"}.`,type:"ability",player:o.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(t)}feedFriends(t){if(t<=0)return;const o=this.owner.parent.petArray.filter(r=>r&&r.alive);for(const r of o)for(let d=0;d<t;d++)r.increaseAttack(1),r.increaseHealth(1),this.abilityService.triggerFoodEvents(r,"pear")}copy(t){return new v(t,this.logService,this.abilityService)}}},67647(O,S,i){i.d(S,{T:()=>c});var P=i(22097);class c extends P.${name="Cucumber";equipmentClass="shop"}},67895(O,S,i){i.d(S,{A:()=>v});var P=i(56658),c=i(42697),A=i(14429);const v=function _(e){return(0,P.A)(e,A.A,c.A)}},67902(O,S,i){i.d(S,{S:()=>_});var P=i(46200),c=i(42655),A=i(5615);class _ extends P.i{logService;abilityService;name="Fly";tier=6;pack="Turtle";attack=4;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"FlyAbility",owner:t,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,condition:o=>{const{triggerPet:r}=o;return!(r&&r instanceof c.A||this.owner.parent.petArray.length>=5)},abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=new c.A(this.logService,this.abilityService,d.parent,null,null,null,this.minExpForLevel),f=d.parent.summonPet(g,a.savedPosition,!1,d);f.success&&this.logService.createLog({message:`${d.name} spawned Zombie Fly Level ${this.level}`,type:"ability",player:d.parent,tiger:o,randomEvent:f.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},68169(O,S,i){i.d(S,{E:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Beaver";tier=1;pack="Turtle";health=2;attack=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BeaverAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,n=this.level,a=t.parent.getRandomPets(2,[t],!1,!1,t);if(0!==a.pets.length){for(const o of a.pets)o.increaseAttack(n);this.logService.createLog({message:`${t.name} gave ${a.pets.map(o=>o.name).join(", ")} ${n} attack.`,type:"ability",player:t.parent,randomEvent:a.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},68184(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Cuddle Toad";tier=1;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"CuddleToadAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked a witch toy that breaks after ${2*this.level} turns.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},68189(O,S,i){i.d(S,{R:()=>A});var P=i(31805);class c extends P.y{constructor(v,e){super()}schedule(v,e=0){return this}}class A extends c{constructor(v,e){super(v,e),this.scheduler=v,this.work=e,this.pending=!1}schedule(v,e=0){if(this.closed)return this;this.state=v;const t=this.id,n=this.scheduler;return null!=t&&(this.id=this.recycleAsyncId(n,t,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this}requestAsyncId(v,e,t=0){return setInterval(v.flush.bind(v,this),t)}recycleAsyncId(v,e,t=0){if(null!==t&&this.delay===t&&!1===this.pending)return e;clearInterval(e)}execute(v,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const t=this._execute(v,e);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(v,e){let n,t=!1;try{this.work(v)}catch(a){t=!0,n=!!a&&a||new Error(a)}if(t)return this.unsubscribe(),n}_unsubscribe(){const v=this.id,e=this.scheduler,t=e.actions,n=t.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&t.splice(n,1),null!=v&&(this.id=this.recycleAsyncId(e,v,null)),this.delay=null}}},68308(O,S,i){i.d(S,{A:()=>t});var P=i(92943),c=i(30219),A=i(64746),_=i(86542),v=i(15030);function e(n){var a=-1,o=null==n?0:n.length;for(this.clear();++a<o;){var r=n[a];this.set(r[0],r[1])}}e.prototype.clear=P.A,e.prototype.delete=c.A,e.prototype.get=A.A,e.prototype.has=_.A,e.prototype.set=v.A;const t=e},68460(O,S,i){i.d(S,{a:()=>c});var P=i(50873);class c extends P.L{name="Candelabra";tier=4}},68478(O,S,i){i.d(S,{N:()=>c});var P=i(22097);class c extends P.${name="Pineapple";equipmentClass="attack-snipe";power=2;uses=3;originalUses=3;constructor(){super()}}},68546(O,S,i){i.d(S,{V:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Snow Leopard";tier=5;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SnowLeopardAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=5*this.level,g=r.parent.opponent.getRandomPet([],!1,!0,!1,r);if(g.pet&&g.pet.alive){if(r.jumpAttackPrep(g.pet),r.transformed&&r.transformedInto){let f=r.parent.getThis(r.transformedInto);f.pet&&(r.transformedInto.increaseAttack(d),r.transformedInto.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${r.transformedInto.name} ${d} attack and ${d} health`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}))}else{let f=r.parent.getThis(r);f.pet&&(f.pet.increaseAttack(d),f.pet.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${f.pet.name} ${d} attack and ${d} health`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}))}r.jumpAttack(g.pet,a,null,g.random)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},68629(O,S,i){i.d(S,{u:()=>_});var P=i(46200),c=i(5615),A=i(23770);class _ extends P.i{logService;abilityService;name="Farmer Pig";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Farmer Pig Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=[o.petAhead,o.petBehind()].filter(d=>null!==d&&d.alive);for(const d of r)for(let g=0;g<this.level;g++){const f=new A.D;f.effectMultiplier=2,d.givePetEquipment(f)}r.length>0&&this.logService.createLog({message:`${o.name} fed adjacent friends ${this.level} Corncob${1===this.level?"":"s"} with double effect.`,type:"ability",player:o.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},68879(O,S,i){i.d(S,{j:()=>_});var P=i(57488),c=i(51838),A=i(50873);class _ extends A.L{name="Action Figure";tier=1;startOfBattle(e,t){const a=(0,P.a)(e,this.parent).getFurthestUpPets(2);for(const o of a.pets)o.givePetEquipment(new c.K),this.logService.createLog({message:`${this.name} gave ${o.name} Coconut.`,type:"ability",player:this.parent,puma:t,randomEvent:a.random})}}},68908(O,S,i){i.d(S,{g:()=>_});var P=i(46200),c=i(5615),A=i(4673);class _ extends P.i{logService;abilityService;name="Cerberus";tier=6;pack="Unicorn";attack=9;health=9;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"CerberusAbility",owner:t,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,condition:o=>null==this.owner.parent.pet0,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let f=new A.O(this.logService,this.abilityService,d.parent,8,8,null,5),D=d.parent.summonPet(f,0,!1,d);D.success&&this.logService.createLog({message:`${d.name} spawned Fire Pup (8/8).`,type:"ability",player:d.parent,tiger:o,sourcePet:d,randomEvent:D.randomEvent}),this.triggerTigerExecution(t)}reset(){this.maxUses=this.level,super.reset()}copy(t){return new v(t,this.logService,this.abilityService)}}},68932(O,S,i){var P;i.d(S,{v:()=>n});var c=i(46200),A=i(5615),_=i(61850),v=i(13276);const e=new Map,t=v??(P||(P=i.t(v,2)));if(Array.isArray(t))for(const o of t){if(!o||"object"!=typeof o)continue;const r=o;if(!r.Name)continue;const d=Number(r.Attack??0),g=Number(r.Health??0);e.set(r.Name,{attack:d,health:g})}class n extends c.i{logService;abilityService;name="Andrewsarchus";tier=4;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new a(this,this.logService)),super.initAbilities()}constructor(r,d,g,f,D,k,L,N,q){super(r,d,g),this.logService=r,this.abilityService=d,this.initPet(L,f,D,k,N,q)}}class a extends A.T{logService;pendingAttack=0;pendingHealth=0;constructor(r,d){super({name:"Andrewsarchus Ability",owner:r,triggers:["EndTurn","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:r.level,abilityFunction:g=>this.executeAbility(g)}),this.logService=d}executeAbility(r){const{gameApi:d,tiger:g,pteranodon:f}=r,D=this.owner;if("StartTurn"===r.trigger)return(this.pendingAttack||this.pendingHealth)&&(D.increaseAttack(-this.pendingAttack),D.increaseHealth(-this.pendingHealth),this.pendingAttack=0,this.pendingHealth=0),void this.triggerTigerExecution(r);const k=D.parent===d?.player?d?.playerPetPool:d?.opponentPetPool,L=[];let N=-1;for(const ae of k?.values()??[])for(const re of ae??[]){const _e=e.get(re);_e&&(_e.health>N?(N=_e.health,L.length=0,L.push(re)):_e.health===N&&L.push(re))}if(!L.length||N<0)return void this.triggerTigerExecution(r);const q=1===L.length?L[0]:L[(0,_.hw)(0,L.length-1)],ne=e.get(q);if(!ne)return void this.triggerTigerExecution(r);const Q=.5*this.level,$=Math.floor(ne.attack*Q),H=Math.floor(ne.health*Q);($>0||H>0)&&(D.increaseAttack($),D.increaseHealth(H),this.pendingAttack+=$,this.pendingHealth+=H),this.logService.createLog({message:`${D.name} removed ${q} from the shop and gained +${$}/+${H} until next turn.`,type:"ability",player:D.parent,tiger:g,pteranodon:f,randomEvent:L.length>1}),this.triggerTigerExecution(r)}copy(r){const d=new a(r,this.logService);return d.pendingAttack=this.pendingAttack,d.pendingHealth=this.pendingHealth,d}}},69357(O,S,i){i.d(S,{L:()=>A});var P=i(46200),c=i(5615);class A extends P.i{constructor(e,t,n){super(e,t,n),this.name="Aardvark",this.tier=3,this.pack="Custom",this.attack=2,this.health=3}initAbilities(){this.abilityList=[new _(this,this.logService)],super.initAbilities()}}class _ extends c.T{logService;constructor(e,t){super({name:"Aardvark Ability",owner:e,triggers:["EnemySummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=this.level,r=3*this.level;a.increaseAttack(o),a.increaseHealth(r),this.logService.createLog({message:`${a.name} gained +${o}/+${r} from EnemySummoned.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},69359(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Highland Cow";tier=6;pack="Golden";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HighlandCowAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{pteranodon:o}=e,r=this.owner,d=4*this.level+Math.floor(r.health/3)*this.level,g=r.parent.resolveTrumpetGainTarget(r);g.player.gainTrumpets(d,r,o,void 0,void 0,g.random),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},69379(O,S,i){i.d(S,{Z:()=>c});const c=(()=>{function A(_){return Error.call(this),this.message=_?`${_.length} errors occurred during unsubscription:\n${_.map((v,e)=>`${e+1}) ${v.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_,this}return A.prototype=Object.create(Error.prototype),A})()},69385(O,S,i){i.d(S,{L:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Worm of Sand";tier=4;pack="Unicorn";attack=4;health=1;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"WormOfSandAbility",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,o=Math.min(Math.max((n.parent===t.gameApi.player?t.gameApi.playerRollAmount:t.gameApi.opponentRollAmount)??0,0),8),r=Math.floor(o/4);if(r<=0)return void this.triggerTigerExecution(t);const d=this.level*r,g=(0,A.MZ)(n);for(const f of g)f.increaseAttack(d),f.increaseHealth(d);g.length>0&&this.logService.createLog({message:`${n.name} gave adjacent friends +${d}/+${d}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:g.length>1}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},69792(O,S,i){i.d(S,{M:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Giant Otter";tier=4;pack="Danger";attack=4;health=3;buffedFriends=new Map;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;buffedFriends=new Map;constructor(e,t){super({name:"GiantOtterAbility",owner:e,triggers:["BeforeStartBattle","AnyoneAttack","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}reset(){this.buffedFriends.clear(),super.reset()}removeConditionalBuffs(){this.buffedFriends.size>0&&this.logService.createLog({message:`${this.owner.name} removed its temporary buffs after the first non-jump attack`,type:"ability",player:this.owner.parent});for(let[e,t]of this.buffedFriends){let n=e;if(n.transformed&&n.transformedInto&&(n=n.transformedInto),n&&n.alive&&(t.attack>0&&n.increaseAttack(-t.attack),t.health>0&&n.increaseHealth(-t.health),t.attack>0||t.health>0)){const a=[];t.attack>0&&a.push(`${t.attack} attack`),t.health>0&&a.push(`${t.health} health`),this.logService.createLog({message:`${n.name} lost ${a.join(" and ")} (Giant Otter Buffs removed)`,type:"ability",player:this.owner.parent})}this.buffedFriends.delete(e)}}executeAbility(e){const{gameApi:t,triggerPet:n,tiger:a}=e,d=this.owner;if("PostRemovalFaint"===e.trigger)return void this.removeConditionalBuffs();if(n)return void(t.FirstNonJumpAttackHappened&&this.removeConditionalBuffs());let g={attack:2*this.level,health:5*this.level},f=d.parent.getAll(!1,d,!0),D=f.pets;for(let k of D){const L=k.increaseAttack(g.attack),N=k.increaseHealth(g.health),q=this.buffedFriends.get(k);q?(q.attack+=L,q.health+=N):this.buffedFriends.set(k,{attack:L,health:N}),this.logService.createLog({message:`${d.name} gave ${k.name} +${g.attack} attack and +${g.health} health`,type:"ability",player:d.parent,tiger:a,randomEvent:f.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},70129(O,S,i){i.d(S,{A:()=>n});var P=i(31685),c=i(30554);const n=function t(a){if(!(0,c.A)(a))return!1;var o=(0,P.A)(a);return"[object Function]"==o||"[object GeneratorFunction]"==o||"[object AsyncFunction]"==o||"[object Proxy]"==o}},70458(O,S,i){i.d(S,{c:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;petService;name="Spider";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D,k){super(t,n,o),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,d,g,D,k)}}class v extends c.T{logService;abilityService;petService;constructor(t,n,a,o){super({name:"SpiderAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=n,this.abilityService=a,this.petService=o}executeAbility(t){const{gameApi:n,tiger:o,pteranodon:r}=t,d=this.owner;let D=[...(d.parent==n?.player?n?.playerPetPool:n?.opponentPetPool)?.get(3)??[]].filter($=>$&&"Spider"!=$);if(0==D.length&&(D=[...this.petService?.allPets?.get(3)??[]].filter($=>$&&"Spider"!=$)),0==D.length)return;let k=D[(0,A.hw)(0,D.length-1)];if(!k)return;let L=this.level,q=2*this.level,ne=this.petService.createPet({attack:q,exp:this.minExpForLevel,equipment:null,health:q,name:k,mana:0},d.parent);d.parent.summonPet(ne,d.savedPosition,!1,d).success&&this.logService.createLog({message:`${d.name} spawned ${ne.name} level ${L} (${q}/${q})`,type:"ability",player:d.parent,randomEvent:!0,tiger:o,pteranodon:r}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService,this.petService)}}},70471(O,S,i){i.d(S,{w:()=>_});var P=i(46200),c=i(5615),A=i(61311);class _ extends P.i{logService;abilityService;name="Sea Cucumber";tier=5;pack="Custom";health=5;attack=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"SeaCucumberAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithEquipmentWithSillyFallback("Tasty",d),f=d.parent.getRandomEnemyPetsWithSillyFallback(this.level,g,!1,!0,d),D=f.pets;if(0!=D.length){for(let k of D){let L=new A.U(this.logService);k.givePetEquipment(L),this.logService.createLog({message:`${d.name} made ${k.name} Tasty`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.random})}this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService,this.abilityService)}}},70511(O,S,i){i.d(S,{c:()=>_});var P=i(46200),c=i(5615),A=i(59374);class _ extends P.i{logService;abilityService;name="Tardigrade";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class v extends P.i{name="Tardigrade";tier=1;pack="Custom";attack=3;health=3;initAbilities(){}constructor(n,a,o,r,d){super(n,a,o),this.initPet(0,r,d,0,void 0,0)}}class e extends c.T{logService;abilityService;constructor(n,a,o){super({name:"Tardigrade Ability",owner:n,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=a,this.abilityService=o}executeAbility(n){const a=this.owner,o=3*Math.max(1,this.level),r=a.position??a.savedPosition??0,d=new v(this.logService,this.abilityService,a.parent,o,o);a.parent.summonPet(d,r,!1,a).success&&(d.givePetEquipment(new A.x),this.logService.createLog({message:`${a.name} summoned a ${o}/${o} level ${this.level} Tardigrade (Dazed).`,type:"ability",player:a.parent,tiger:n.tiger,pteranodon:n.pteranodon})),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},70563(O,S,i){i.d(S,{A:()=>c});const c=function P(A,_){for(var v=-1,e=_.length,t=A.length;++v<e;)A[t+v]=_[v];return A}},70762(O,S,i){i.d(S,{v:()=>t});var P=i(98099),c=i(20178),A=i(31805),_=i(40091),v=i(80614),e=i(58253);class t extends A.y{constructor(o,r,d){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=c.I;break;case 1:if(!o){this.destination=c.I;break}if("object"==typeof o){o instanceof t?(this.syncErrorThrowable=o.syncErrorThrowable,this.destination=o,o.add(this)):(this.syncErrorThrowable=!0,this.destination=new n(this,o));break}default:this.syncErrorThrowable=!0,this.destination=new n(this,o,r,d)}}[_.D](){return this}static create(o,r,d){const g=new t(o,r,d);return g.syncErrorThrowable=!1,g}next(o){this.isStopped||this._next(o)}error(o){this.isStopped||(this.isStopped=!0,this._error(o))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(o){this.destination.next(o)}_error(o){this.destination.error(o),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:o}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=o,this}}class n extends t{constructor(o,r,d,g){super(),this._parentSubscriber=o;let f,D=this;(0,P.T)(r)?f=r:r&&(f=r.next,d=r.error,g=r.complete,r!==c.I&&(D=Object.create(r),(0,P.T)(D.unsubscribe)&&this.add(D.unsubscribe.bind(D)),D.unsubscribe=this.unsubscribe.bind(this))),this._context=D,this._next=f,this._error=d,this._complete=g}next(o){if(!this.isStopped&&this._next){const{_parentSubscriber:r}=this;v.$.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,this._next,o)&&this.unsubscribe():this.__tryOrUnsub(this._next,o)}}error(o){if(!this.isStopped){const{_parentSubscriber:r}=this,{useDeprecatedSynchronousErrorHandling:d}=v.$;if(this._error)d&&r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,o),this.unsubscribe()):(this.__tryOrUnsub(this._error,o),this.unsubscribe());else if(r.syncErrorThrowable)d?(r.syncErrorValue=o,r.syncErrorThrown=!0):(0,e.T)(o),this.unsubscribe();else{if(this.unsubscribe(),d)throw o;(0,e.T)(o)}}}complete(){if(!this.isStopped){const{_parentSubscriber:o}=this;if(this._complete){const r=()=>this._complete.call(this._context);v.$.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable?(this.__tryOrSetError(o,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(o,r){try{o.call(this._context,r)}catch(d){if(this.unsubscribe(),v.$.useDeprecatedSynchronousErrorHandling)throw d;(0,e.T)(d)}}__tryOrSetError(o,r,d){if(!v.$.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,d)}catch(g){return v.$.useDeprecatedSynchronousErrorHandling?(o.syncErrorValue=g,o.syncErrorThrown=!0,!0):((0,e.T)(g),!0)}return!1}_unsubscribe(){const{_parentSubscriber:o}=this;this._context=null,this._parentSubscriber=null,o.unsubscribe()}}},70928(O,S,i){i.d(S,{$:()=>c});var P=i(22097);class c extends P.${name="Magic Beans";equipmentClass="shop";constructor(){super()}}},71322(O,S,i){i.d(S,{g:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Flamingo";tier=2;pack="Turtle";health=2;attack=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FlamingoAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let g=r.parent.nearestPetsBehind(2,r).pets;if(0!=g.length){for(let f of g)f.increaseAttack(this.level),f.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${f.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},71387(O,S,i){i.d(S,{A:()=>A});var P=i(77107);const A=function c(){this.__data__=P.A?(0,P.A)(null):{},this.size=0}},71433(O,S,i){i.d(S,{_:()=>_});var P=i(46200),c=i(5615),A=i(43592);class _ extends P.i{logService;abilityService;name="Beetle";tier=1;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"BeetleAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g;switch(this.level){case 1:g=new A.S;break;case 2:g=new A.S,g.power=4,g.originalPower=4;break;case 3:g=new A.S,g.power=6,g.originalPower=6}let f=d.parent.getPetsWithEquipment(g.name),D=d.parent.nearestPetsBehind(1,d,f);if(0===D.pets.length)return;let k=D.pets[0];this.logService.createLog({message:`${d.name} gave ${k.name} ${g.name}.`,type:"ability",player:d.parent,tiger:o,randomEvent:D.random}),k.givePetEquipment(g),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},71772(O,S,i){i.d(S,{H:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Anubis";tier=4;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AnubisAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:a}=e,o=this.owner,r=[2,4,6],d=r[Math.min(Math.max(this.level,1)-1,r.length-1)],g=o.parent.petArray.filter(f=>f&&f!==o&&f.alive&&f.isFaintPet()&&f.tier<=d).sort((f,D)=>(f.position??0)-(D.position??0)).slice(0,2);for(const f of g)this.logService.createLog({message:`${o.name} activated ${f.name}'s faint ability (tier ${f.tier} <= ${d}).`,type:"ability",player:o.parent,tiger:n,pteranodon:a}),f.activateAbilities("PostRemovalFaint",t,"Pet");this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},71799(O,S,i){i.d(S,{r:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Cashew Nut";tier=1;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;constructor(e,t){super({name:"CashewNutAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let a=t.parent.nearestPetsAhead(2,t,null,!0),o=a.pets.filter(d=>d?.alive);if(o.length<2)return;let r=o[1];t.snipePet(r,r.parent==t.parent?1:2,a.random,null,null,!0)}}}},71861(O,S,i){i.d(S,{A:()=>c});const c=function P(A,_){for(var v=-1,e=null==A?0:A.length,t=0,n=[];++v<e;){var a=A[v];_(a,v,A)&&(n[t++]=a)}return n}},72222(O,S,i){i.d(S,{v:()=>P});class P{ctx;constructor(A){this.ctx=A}executeBattleLoop(){for(;this.ctx.getBattleStarted();)this.nextTurn()}startBattle(){this.reset(),this.ctx.setBattleStarted(!0),this.ctx.setTurns(0)}reset(){this.ctx.player.resetPets(),this.ctx.opponent.resetPets()}nextTurn(){let A=!1,_=null;this.ctx.setTurns(this.ctx.getTurns()+1);let v=this.ctx.player.alive(),e=this.ctx.opponent.alive();if(v&&!e){const t=this.tryAllEnemiesFaintedToyTrigger(this.ctx.player,this.ctx.opponent);if(e=this.ctx.opponent.alive(),!t){_=this.ctx.player;const n=this.ctx.getBattle();n&&(n.winner="player"),this.ctx.incrementPlayerWinner(),A=!0}}if(!v&&e){const t=this.tryAllEnemiesFaintedToyTrigger(this.ctx.opponent,this.ctx.player);if(v=this.ctx.player.alive(),!t){_=this.ctx.opponent;const n=this.ctx.getBattle();n&&(n.winner="opponent"),this.ctx.incrementOpponentWinner(),A=!0}}if(!v&&!e&&(this.ctx.incrementDraw(),A=!0),A)return this.ctx.logService.printState(this.ctx.player,this.ctx.opponent),this.endLog(_),void this.ctx.setBattleStarted(!1);if(this.ctx.getTurns()>=this.ctx.maxTurns&&(this.ctx.incrementDraw(),A=!0),A)return this.ctx.logService.printState(this.ctx.player,this.ctx.opponent),this.endLog(_),void this.ctx.setBattleStarted(!1);for(this.pushPetsForwards(),this.ctx.logService.printState(this.ctx.player,this.ctx.opponent);;){let t=this.ctx.player.pet0,n=this.ctx.opponent.pet0;this.ctx.player.pet0&&this.ctx.abilityService.triggerBeforeAttackEvent(this.ctx.player.pet0),this.ctx.opponent.pet0&&this.ctx.abilityService.triggerBeforeAttackEvent(this.ctx.opponent.pet0),this.ctx.abilityService.executeBeforeAttackEvents(),this.ctx.abilityEngine.checkPetsAlive();do{this.ctx.abilityEngine.abilityCycle()}while(this.ctx.abilityService.hasAbilityCycleEvents);if(!this.ctx.player.alive()||!this.ctx.opponent.alive())return;if(this.pushPetsForwards(),t&&t.transformed&&(t=t.transformedInto??t),n&&n.transformed&&(n=n.transformedInto??n),this.ctx.player.pet0==t&&this.ctx.opponent.pet0==n)break}this.ctx.player.resetJumpedFlags(),this.ctx.opponent.resetJumpedFlags(),this.fight(),this.ctx.abilityEngine.checkPetsAlive();do{this.ctx.abilityEngine.abilityCycle()}while(this.ctx.abilityService.hasAbilityCycleEvents)}fight(){const A=this.ctx.player.pet0,_=this.ctx.opponent.pet0;!A||!_||(A.attackPet(_),_.attackPet(A),A.useAttackDefenseEquipment(),_.useAttackDefenseEquipment(),this.ctx.gameService.gameApi.FirstNonJumpAttackHappened=!0,this.ctx.abilityService.executeAfterAttackEvents(),this.ctx.abilityEngine.checkPetsAlive())}pushPetsForwards(){this.ctx.player.pushPetsForward(),this.ctx.opponent.pushPetsForward()}endLog(A){let _;_=null==A?"Draw":A==this.ctx.player?"Player is the winner":"Opponent is the winner",this.ctx.logService.createLog({message:_,type:"board"})}tryAllEnemiesFaintedToyTrigger(A,_){const v=[A.toy,A.hardToy].filter(e=>null!=e?.allEnemiesFainted);if(0===v.length)return!1;for(const e of v)e?.allEnemiesFainted?.(this.ctx.gameService.gameApi);return _.alive()}}},72242(O,S,i){i.d(S,{L:()=>v,n:()=>_});var P=i(50873),c=i(43592),A=i(5615);class _ extends P.L{logService;toyService;petService;name="Stick";tier=1;constructor(t,n,a,o,r){super(t,n,a,o),this.logService=t,this.toyService=n,this.petService=r}startOfBattle(t,n){const a=this.parent.getMiddleFriend();if(a.pet&&a.pet.alive){const o=new c.S;o.power=2*this.level,o.originalPower=o.power,a.pet.givePetEquipment(o),this.logService.createLog({message:`${this.name} gave Walnut to ${a.pet.name}`,type:"ability",player:this.parent,randomEvent:a.random})}}}class v extends A.T{constructor(t,n){super({name:"StickAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",abilityFunction:a=>{const r=t.parent.getMiddleFriend(t);if(r.pet&&r.pet.alive){const d=new c.S;d.power=2*this.abilityLevel,d.originalPower=d.power,r.pet.givePetEquipment(d),n.createLog({message:`${t.name} gave Walnut to ${r.pet.name} (Stick)`,type:"ability",player:t.parent,randomEvent:r.random})}}})}}},72297(O,S,i){i.d(S,{P:()=>_});var P=i(46200),c=i(5615),A=i(56979);class _ extends P.i{logService;abilityService;name="Tasmanian Devil";tier=4;pack="Danger";attack=1;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"TasmanianDevilAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.opponent.getLowestAttackPet(void 0,d);if(g.pet&&g.pet.alive){let f=new A.E;f.multiplier+=5*this.level-1,this.logService.createLog({message:`${d.name} gave ${g.pet.name} ${f.multiplier}x Spooked.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),g.pet.givePetEquipment(f),d.jumpAttackPrep(g.pet),d.jumpAttack(g.pet,o,null,g.random)}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},72354(O,S,i){i.d(S,{n:()=>t});var P=i(46200),c=i(5615),A=i(94798),_=i(58857),v=i(61850),e=i(79222);class t extends P.i{logService;abilityService;petService;name="Roloway Monkey";tier=3;pack="Danger";attack=2;health=5;initAbilities(){this.addAbility(new n(this,this.logService,this.petService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,N,q){super(o,r,g),this.logService=o,this.abilityService=r,this.petService=d,this.initPet(L,f,D,k,N,q)}}class n extends c.T{logService;petService;constructor(o,r,d){super({name:"RolowayMonkeyAbility",owner:o,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.petService=d}executeAbility(o){const{tiger:g}=o,D=this.owner;let k=D.parent.nearestPetsAhead(2,D);if(0===k.pets.length)return;const L=A.s.rolowayMonkey;for(let N of k.pets){const q=this.formatPositionArg(D),ne=this.formatPositionArg(N),Q=(0,_.k6)({key:"pet.roloway-monkey-transform",label:(0,e.I)(D,`Roloway Monkey transform for ${ne} ${N.name}`),options:L.map(ae=>({id:ae,label:ae}))},()=>(0,v.hw)(0,L.length-1));let H=this.petService.createPet({name:L[Q.index],health:N.health,attack:N.attack,mana:N.mana,exp:D.exp,equipment:N.equipment},D.parent);D.parent.transformPet(N,H),this.logService.createLog({message:`[${q}->${ne}] ${D.name} transformed ${N.name} into a ${H.attack}/${H.health} ${H.name}.`,type:"ability",player:D.parent,sourceIndex:D.savedPosition+1,targetIndex:N.savedPosition+1,targetIsOpponent:N.parent?.isOpponent,tiger:g,randomEvent:Q.randomEvent})}this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.petService)}formatPositionArg(o){const r=o.parent?.isOpponent?"O":"P",d=Number.isFinite(o.savedPosition)?Math.trunc(o.savedPosition)+1:1;return`${r}${Math.min(Math.max(d,1),5)}`}}},72421(O,S,i){i.d(S,{F:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Pie";tier=4;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"PieAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner,n=4*this.equipment.multiplier,a=3*this.equipment.multiplier;t.increaseAttack(n),t.increaseHealth(a),this.logService.createLog({message:`${t.name} gained ${n} attack and ${a} health (Pie)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}},72445(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Firefly";tier=1;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FireflyAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.getPetsWithinXSpaces(r,this.level),g=d.pets;if(0!=g.length){for(const f of g)r.snipePet(f,1,d.random,a,o);this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},72492(O,S,i){i.d(S,{E:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Raccoon";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"RaccoonAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner;let r=a.parent.opponent.getPetAtPosition(0);null!=r&&null!=r.equipment&&(this.isAilmentEquipment(r.equipment)||(this.logService.createLog({message:`${a.name} stole ${r.name}'s equipment. (${r.equipment.name})`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),a.givePetEquipment(r.equipment),r.removePerk(!0),this.triggerTigerExecution(e)))}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new _(e,this.logService)}}},72557(O,S,i){i.d(S,{G:()=>v});var P=i(46200),c=i(5615),A=i(23638),_=i(1152);class v extends P.i{logService;abilityService;name="Flying Fish";tier=3;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"FlyingFishAbility",owner:n,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:2,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{triggerPet:o}=n,g=this.owner,f=2*this.level,D=(0,_.Uj)(g,o);D.pet&&((0,A.Oe)({logService:this.logService,owner:g,context:n,target:D.pet,amount:f,extras:{randomEvent:D.random}}),this.triggerTigerExecution(n))}copy(n){return new e(n,this.logService)}}},72560(O,S,i){i.d(S,{c:()=>_});var P=i(61850),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Tandgrisner";tier=5;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"Tandgrisner Ability",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=n.parent.petArray.filter(d=>d&&d.alive&&"Tandgnost"===d.name);if(0===a.length)return void this.triggerTigerExecution(t);const[o]=(0,P.k4)([...a]),r=3*Math.max(1,this.level);o.increaseAttack(r),this.logService.createLog({message:`${n.name} gave ${o.name} +${r} attack.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},72638(O,S,i){i.d(S,{D:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Chimera Goat";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},72683(O,S,i){i.d(S,{R:()=>c});var P=i(22097);class c extends P.${name="Steak";equipmentClass="attack";tier=6;power=20;originalPower=20;uses=1;originalUses=1}},72818(O,S,i){i.d(S,{M:()=>_});var P=i(46200),c=i(5615),A=i(19058);class _ extends P.i{logService;abilityService;name="Bat";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(t,n){super({name:"BatAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getPetsWithEquipmentWithSillyFallback("Weak",d),f=d.parent.opponent.getRandomPet(g,null,!0,null,d),D=f.pet;null!=D&&(D.givePetEquipment(new A.l),this.logService.createLog({message:`${d.name} made ${D.name} weak.`,type:"ability",player:d.parent,randomEvent:f.random,tiger:o})),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},73028(O,S,i){i.d(S,{mX:()=>P});const P={ThisLeveledUp:1,FriendLeveledUp:2,FriendlyLeveledUp:2,ThisHurt:3,FriendHurt:4,EnemyHurt:4,AnyoneHurt:4,FriendAheadHurt:4,AnyoneBehindHurt:4,ThisGainedMana:5,ThisSummoned:6,FriendSummoned:7,EnemySummoned:7,BeeSummoned:7,EnemyPushed:8,FriendJumped:8,AnyoneJumped:8,Faint:9,FriendAheadFainted:10,FriendFaints:11,EnemyFaint:11,KnockOut:13,ThisTransformed:14,FriendTransformed:15,FriendGainedExp:16,FoodEatenByThis:17,FoodEatenByFriendly:17,AppleEatenByThis:17,CornEatenByFriend:17,CounterEvent:18,FriendLostPerk:19,PetLostPerk:19,ThisGainedPerk:20,FriendlyGainsPerk:21,FriendlyGainedStrawberry:21,ThisGainedAilment:20,FriendGainsAilment:21,EnemyGainedAilment:21,AnyoneGainedAilment:21,AnyoneFlung:22,ManaSnipe:23,PostRemovalFaint:25,PostRemovalFriendFaints:26,FriendlyToyBroke:26,EmptyFrontSpace:27,GoldenRetrieverSummons:28}},73117(O,S,i){function P(A,_){_=encodeURIComponent(_);for(const v of A.split(";")){const e=v.indexOf("="),[t,n]=-1==e?[v,""]:[v.slice(0,e),v.slice(e+1)];if(t.trim()===_)return decodeURIComponent(n)}return null}i.d(S,{N:()=>c,b:()=>P});class c{}},73180(O,S,i){i.d(S,{A:()=>t});var P=i(73527),c=i(80355),A=i(94402),_=i(14166),v=i(590);function e(n){var a=-1,o=null==n?0:n.length;for(this.clear();++a<o;){var r=n[a];this.set(r[0],r[1])}}e.prototype.clear=P.A,e.prototype.delete=c.A,e.prototype.get=A.A,e.prototype.has=_.A,e.prototype.set=v.A;const t=e},73327(O,S,i){i.d(S,{F:()=>v});var P=i(46200),c=i(5615),A=i(56979),_=i(1152);class v extends P.i{logService;abilityService;name="???";tier=1;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;abilityService;constructor(n,a,o){super({name:"QuestionMarksAbility",owner:n,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=o}executeAbility(n){const a=this.owner,o=a.petAhead;if(!o)return void this.triggerTigerExecution(n);const r=this.level;if(o.increaseAttack(r),(0,_.zo)(o,"Spooked")){const d=new A.E;d.power=-1,d.originalPower=-1,o.givePetEquipment(d)}this.logService.createLog({message:`${a.name} gave ${o.name} +${r} attack and Spooked until next turn.`,type:"ability",player:a.parent,tiger:n.tiger,pteranodon:n.pteranodon}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},73527(O,S,i){i.d(S,{A:()=>c});const c=function P(){this.__data__=[],this.size=0}},73620(O,S,i){i.d(S,{u:()=>v});var P=i(46200),c=i(5615),A=i(32232),_=i(1152);class v extends P.i{logService;abilityService;name="Yeti Crab";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"Yeti Crab Ability",owner:n,triggers:["PetLostPerk"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:o=>{const{triggerPet:r}=o,d=this.owner;return!!r&&(r.parent!==d.parent?r.alive:(0,_.Re)(d,r))},abilityFunction:o=>this.executeAbility(o)}),this.logService=a}executeAbility(n){const a=this.owner,o=n.triggerPet,{tiger:r,pteranodon:d}=n;if(o){if(o.parent===a.parent){const g=(0,_.lK)(a,o),f=g.pet;if(!f)return;const D=new A.o;f.givePetEquipment(D),this.logService.createLog({message:`${a.name} gave ${f.name} a Melon Slice after losing a perk.`,type:"ability",player:a.parent,tiger:r,randomEvent:g.random})}else a.dealDamage(o,6),this.logService.createLog({message:`${a.name} dealt 6 damage to ${o.name} after they lost a perk.`,type:"ability",player:a.parent,tiger:r,pteranodon:d});this.triggerTigerExecution(n)}}copy(n){return new e(n,this.logService)}}},73632(O,S,i){i.d(S,{A:()=>e});var P=i(73180),c=i(86568),A=i(68308);const e=function v(t,n){var a=this.__data__;if(a instanceof P.A){var o=a.__data__;if(!c.A||o.length<199)return o.push([t,n]),this.size=++a.size,this;a=this.__data__=new A.A(o)}return a.set(t,n),this.size=a.size,this}},74384(O,S,i){i.d(S,{Y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Wolverine";tier=6;pack="Turtle";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"WolverineAbility",owner:e,triggers:["FriendHurt4"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.opponent.getAll(!1,r),g=d.pets;if(0!=g.length){for(let f of g){let D=-3*this.level;f.increaseHealth(D),this.logService.createLog({message:`${r.name} reduced ${f.name} health by ${Math.abs(D)}`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService,this.abilityService)}}},74766(O){O.exports=JSON.parse('[{"Ability":"Give one pet +1 attack and +1 health.","Id":"0","Name":"Apple","NameId":"Apple","Tier":1,"Packs":["Pack1","Pack2","Pack4"],"PacksRequired":["Pack1","Pack2","Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Increase sell value of one pet by 1 gold.","Id":"117","Name":"Asparagus","NameId":"Asparagus","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack.","Id":"2","Name":"Bacon","NameId":"Bacon","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health.","Id":"135","Name":"Best Apple","NameId":"Apple3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +6 health.","Id":"103","Name":"Best Milk","NameId":"Milk3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health.","Id":"134","Name":"Better Apple","NameId":"Apple2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +4 health.","Id":"102","Name":"Better Milk","NameId":"Milk2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Blueberry perk.","Id":"7","Name":"Blueberry","NameId":"BlueBerries","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Prioritize this for enemy random abilities.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +1 attack.","Id":"139","Name":"Bread Crumbs","NameId":"BreadCrumbs","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health until next turn.","Id":"213","Name":"Cake Slice","NameId":"BirthdayCakeSlice","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one tier 1-3 ailment to stock. Always on sale!","Id":"225","Name":"Canned Ailment","NameId":"CannedAilment","Tier":1,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Spooked without triggering abilities.","Id":"216","Name":"Canned Spooky","NameId":"CannedScared","Tier":1,"Packs":[],"PacksRequired":[],"PerkNote":"Take +1 damage.","CustomArchetypes":[]},{"Ability":"Make one pet Toasty without triggering abilities.","Id":"223","Name":"Canned Toasty","NameId":"CannedToasty","Tier":1,"Packs":[],"PacksRequired":[],"PerkNote":"Anyone attacks: Take 1 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cashew Nut perk.","Id":"173","Name":"Cashew Nut","NameId":"CashewNut","Tier":1,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before battle: Deal 1 damage to the second nearest pet ahead. Double against enemies.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health until next turn.","Id":"27","Name":"Cookie","NameId":"Cookie","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +1 to lowest stat.","Id":"28","Name":"Corncob","NameId":"Corn","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Ability":"Give one pet the Egg perk.","Id":"33","Name":"Egg","NameId":"Egg","Tier":1,"Packs":["Pack2","Pack4"],"PacksRequired":["Pack2","Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 2 damage to target, once.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Ferret toy.","Id":"234","Name":"Ferret Present","NameId":"FerretGift1","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Ferret toy.","Id":"235","Name":"Ferret Present","NameId":"FerretGift2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Ferret toy.","Id":"236","Name":"Ferret Present","NameId":"FerretGift3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 to their lowest stat.","Id":"191","Name":"Fresh Water","NameId":"FreshWater","Tier":1,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Golden Egg perk.","Id":"148","Name":"Golden Egg","NameId":"GoldenEgg","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"PerkNote":"Before attack: Deal 6 damage to target, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Gros Michel Banana perk.","Id":"192","Name":"Gros Michel Banana","NameId":"GrosMichelBanana","Tier":1,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Before attack: Transform into an Ant.","CustomArchetypes":[]},{"Ability":"Give one pet the Health Potion perk.","Id":"150","Name":"Health Potion","NameId":"HealthPotion","Tier":1,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Give the front-most friendly pet +2 health.","CustomArchetypes":[]},{"Ability":"Transform one Bad Dog into Good Dog, or give +4 attack and +4 health.","Id":"151","Name":"Holy Water","NameId":"HolyWater","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Ability":"Give one pet the Honey perk.","Id":"40","Name":"Honey","NameId":"Honey","Tier":1,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Faint: Summon one 1/1 Bee.","CustomArchetypes":[]},{"Ability":"Give one pet the Macaron perk.","Id":"128","Name":"Macaron","NameId":"Macaron","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Activate ability after other pets with the same trigger.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +2 health.","Id":"49","Name":"Milk","NameId":"Milk","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Nachos perk.","Id":"136","Name":"Nachos","NameId":"Nachos","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before attack: Convert up to 3 health into attack.","CustomArchetypes":[]},{"Ability":"Give one pet +2 health.","Id":"64","Name":"Peach","NameId":"Plumb","Tier":1,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack on odd turns and +2 health on even turns.","Id":"119","Name":"Pumpkin","NameId":"Pumpkin","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":false,"CustomArchetypes":[]},{"Ability":"Give one pet +1 health.","Id":"210","Name":"Seed Pile","NameId":"SeedPile","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Strawberry perk.","Id":"81","Name":"Strawberry","NameId":"Strawberry","Tier":1,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Unagi perk.","Id":"196","Name":"Unagi","NameId":"Unagi","Tier":1,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Start of battle: Deal 2 damage to a random enemy.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Walnut perk.","Id":"174","Name":"Walnut","NameId":"Walnut","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":[]},{"Ability":"Choose ANY perk food from the current tier to stock at 1 gold.","Id":"208","Name":"Antarctic Krill","NameId":"AntarcticKrill","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Bok Choy perk.","Id":"176","Name":"Bok Choy","NameId":"BokChoy","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Gain +3 health when this would faint, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 health and remove 1 attack.","Id":"11","Name":"Broccoli","NameId":"Broccoli","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Cold without triggering abilities.","Id":"219","Name":"Canned Cold","NameId":"CannedFrozen","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Take +5 damage, once.","CustomArchetypes":[]},{"Ability":"Make one pet Inked without triggering abilities.","Id":"220","Name":"Canned Ink","NameId":"CannedInk","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":[]},{"Ability":"Make one pet Weak without triggering abilities.","Id":"214","Name":"Canned Weak","NameId":"CannedWeak","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Caramel perk.","Id":"124","Name":"Caramel","NameId":"Caramel","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Combine friendly Caramels to deal 3 damage each to the most healthy enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cherry perk.","Id":"20","Name":"Cherries","NameId":"Cherries","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before battle: Gain 2 trumpets and remove perk.","CustomArchetypes":[]},{"Ability":"Give one pet the Chocolate Cake perk.","Id":"24","Name":"Chocolate Cake","NameId":"ChocolateCake","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Gain +3 experience and faint.","CustomArchetypes":[]},{"Ability":"Give one pet the Churros perk.","Id":"126","Name":"Churros","NameId":"Churros","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Activate ability before other pets with the same trigger.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +1 health. Triple on every third Cloudberry.","Id":"185","Name":"Cloudberry","NameId":"Cloudberries","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cod Roe perk.","Id":"207","Name":"Cod Roe","NameId":"CodRoe","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Faint: Summon one 2/3 Fish.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health until next turn.","Id":"50","Name":"Cupcake","NameId":"Muffin","Tier":2,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Eucalyptus perk.","Id":"167","Name":"Eucalyptus","NameId":"Eucalyptus","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Faint Bread perk.","Id":"140","Name":"Faint Bread","NameId":"DeadBread","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon ANY one tier 1 <b>Faint</b> pet.","CustomArchetypes":[]},{"Ability":"Give one pet the Fairy Dust perk.","Id":"144","Name":"Fairy Dust","NameId":"FairyDust","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Empty front space: Jump to the front and gain +2 mana, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and remove 1 health.","Id":"100","Name":"Fried Shrimp","NameId":"FriedShrimp","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Gain 2 free rolls next turn.","Id":"45","Name":"Kiwifruit","NameId":"Kiwi","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Choose one level 1 Lemur toy.","Id":"249","Name":"Lemur Present","NameId":"LemurGift1","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Lemur toy.","Id":"250","Name":"Lemur Present","NameId":"LemurGift2","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Lemur toy.","Id":"251","Name":"Lemur Present","NameId":"LemurGift3","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Lime perk.","Id":"170","Name":"Lime","NameId":"Lime","Tier":2,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Takes 1 less damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Meat Bone perk.","Id":"9","Name":"Meat Bone","NameId":"MeatBone","Tier":2,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack with +3 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Radish perk.","Id":"122","Name":"Radish","NameId":"Radish","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before battle: Gain ANY useful perk from the pet\'s tier.","CustomArchetypes":[]},{"Ability":"Give one pet the Rice perk.","Id":"70","Name":"Rice","NameId":"RiceBall","Tier":2,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":[]},{"Ability":"Make one pet faint. Always on sale!","Id":"92","Name":"Sleeping Pill","NameId":"Pill","Tier":2,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sudduth Tomato perk.","Id":"195","Name":"Sudduth Tomato","NameId":"SudduthTomato","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Hurt: If still standing, gain permanent +1 health, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and Weak.","Id":"159","Name":"Wall Chicken","NameId":"WallChicken","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Gain +3 gold on next turn.","Id":"1","Name":"Avocado","NameId":"Avocado","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Blackberry perk.","Id":"172","Name":"Blackberry","NameId":"Blackberry","Tier":3,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Gain +1 attack and +2 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Brussels Sprout perk.","Id":"118","Name":"Brussels Sprout","NameId":"BrusselsSprout","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block being pushed or 5 damage, once.","CustomArchetypes":[]},{"Ability":"Give future shop pets from the next tier permanent +1 attack and +1 health.","Id":"12","Name":"Bubble Tea","NameId":"BubbleTea","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cake perk.","Id":"6","Name":"Cake","NameId":"BirthdayCake","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"End turn: Increase sell value by 1 gold.","CustomArchetypes":[]},{"Ability":"Make one pet Confused without triggering abilities.","Id":"231","Name":"Canned Confusion","NameId":"CannedConfused","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Before attack: Transform into a pet from one tier below, once.","CustomArchetypes":[]},{"Ability":"Make one pet Silly without triggering abilities.","Id":"217","Name":"Canned Silly","NameId":"CannedSilly","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Ability has random targets in battle.","CustomArchetypes":[],"Random":true},{"Ability":"Make one pet Webbed without triggering abilities.","Id":"228","Name":"Canned Web","NameId":"CannedWeb","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Summon one 2/2 Spider up front for the opponent.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack.","Id":"201","Name":"Carrot Parisier","NameId":"CarrotParisier","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Croissant perk.","Id":"29","Name":"Croissant","NameId":"Croissant","Tier":3,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"PerkNote":"End turn: Gain +1 attack.","CustomArchetypes":[]},{"Ability":"Give one pet the Cucumber perk.","Id":"97","Name":"Cucumber","NameId":"Cucumber","Tier":3,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"End turn: Gain +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Fig perk.","Id":"109","Name":"Fig","NameId":"Fig","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 4 damage to the lowest health enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Garlic perk.","Id":"38","Name":"Garlic","NameId":"Garlic","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Takes 2 less damage.","PerkFinePrint":"Damage can\'t be reduced to less than 2.","CustomArchetypes":[]},{"Ability":"Give one pet +3 health.","Id":"211","Name":"Geechee Red Pea","NameId":"GeecheeRedPea","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one level 1 Gharial toy.","Id":"237","Name":"Gharial Present","NameId":"GharialGift1","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Gharial toy.","Id":"238","Name":"Gharial Present","NameId":"GharialGift2","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Gharial toy.","Id":"239","Name":"Gharial Present","NameId":"GharialGift3","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Gingerbread Man perk.","Id":"147","Name":"Gingerbread Man","NameId":"GingerbreadMan","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Gain +1 experience.","CustomArchetypes":[]},{"Ability":"Give one pet the Guava perk.","Id":"112","Name":"Guava","NameId":"Guava","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Block 3 damage, and attack for +3 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 to their lowest stat.","Id":"153","Name":"Just-Right Porridge","NameId":"JustRightPorridge","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give three pets from the current shop tier or higher +1 attack and +1 health.","Id":"72","Name":"Lettuce","NameId":"Salad","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Swap Attack and Health of a pet. Always on sale!","Id":"48","Name":"Lollipop","NameId":"Lollipop","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pineapple perk.","Id":"61","Name":"Pineapple","NameId":"Pineapple","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Ability deals +2 damage, thrice.","CustomArchetypes":[]},{"Ability":"Give one pet the Rambutan perk.","Id":"110","Name":"Rambutan","NameId":"Rambutan","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Before attack: Gain +3 mana.","CustomArchetypes":[]},{"Ability":"Replace perk or ailment on one pet with +2 attack and +2 health.","Id":"179","Name":"Ravioli","NameId":"Ravioli","Tier":3,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give two random pets +1 attack and +1 health.","Id":"73","Name":"Salad Bowl","NameId":"SaladBowl","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Balance out attack and health. Always on sale!","Id":"75","Name":"Sandwich","NameId":"Sandwich","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sausage perk.","Id":"114","Name":"Sausage","NameId":"Sausage","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Start of turn: Gain one free roll.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Seaweed perk.","Id":"184","Name":"Seaweed","NameId":"Seaweed","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Transform into a Baby Urchin.","CustomArchetypes":[]},{"Ability":"Give one pet the Squash perk.","Id":"121","Name":"Squash","NameId":"Squash","Tier":3,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before attack: Remove 6 health from target, once.","CustomArchetypes":[]},{"Ability":"Transform one pet into another from the same tier and with ANY tier 3 perk.","Id":"161","Name":"Water of Youth","NameId":"YouthWater","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the White Truffle perk.","Id":"198","Name":"White Truffle","NameId":"WhiteTruffle","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Friend faints: Gain +4 attack and jump-attack the highest attack enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Ambrosia perk.","Id":"138","Name":"Ambrosia","NameId":"Ambrosia","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Block ailment or 8 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Baguette perk.","Id":"3","Name":"Baguette","NameId":"Baguette","Tier":4,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Remove the front-most enemy perk, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Banana perk.","Id":"4","Name":"Banana","NameId":"Banana","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Faint: Summon one 4/4 Monkey.","CustomArchetypes":[]},{"Ability":"Make one pet Bloated without triggering abilities.","Id":"229","Name":"Canned Bloat","NameId":"CannedBloated","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Can\'t gain perk, once.","CustomArchetypes":[]},{"Ability":"Make one pet Crisp without triggering abilities.","Id":"224","Name":"Canned Burn","NameId":"CannedBurn","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":[]},{"Ability":"Give all current and future shop pets +1 attack and +1 health.","Id":"16","Name":"Canned Food","NameId":"CannedFood","Tier":4,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Tasty without triggering abilities.","Id":"222","Name":"Canned Tasty","NameId":"CannedTasty","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Give one random enemy permanent +2 attack and +2 health.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Cauliflower perk.","Id":"137","Name":"Cauliflower","NameId":"Cauliflower","Tier":4,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Knock out: If still standing, gain permanent +1 attack and +1 health, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cheese perk.","Id":"19","Name":"Cheese","NameId":"Cheese","Tier":4,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Attack with at least 15 attack, once.","CustomArchetypes":[]},{"Ability":"Transform one pet into another of the same tier and give two other +1 attack and +1 health.","Id":"189","Name":"Chickpea","NameId":"Chickpea","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Donut perk.","Id":"31","Name":"Donut","NameId":"Doughnut","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Prioritize this for friendly random abilities.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +3 health. Also convert 2 attack into health.","Id":"141","Name":"Drink-Me Liquid","NameId":"DrinkMeLiquid","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack. Also convert 2 health into attack.","Id":"143","Name":"Eat-Me Cake","NameId":"EatMeCake","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Fortune Cookie perk.","Id":"35","Name":"Fortune Cookie","NameId":"FortuneCookie","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Attack has 50% chance to deal double damage.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Grapes perk.","Id":"39","Name":"Grapes","NameId":"Grapes","Tier":4,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Start of turn: Gain +1 gold.","CustomArchetypes":[]},{"Ability":"Give one pet the Maple Syrup perk.","Id":"194","Name":"Maple Syrup","NameId":"MapleSyrup","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Attack for 50% damage and block 50% damage, thrice.","CustomArchetypes":[]},{"Ability":"Give one pet the Melon Slice perk.","Id":"87","Name":"Melon Slice","NameId":"WaterMelon","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Block 10 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Mild Chili perk.","Id":"232","Name":"Mild Chili","NameId":"MildChili","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Attack second enemy for 4 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Onion perk.","Id":"53","Name":"Onion","NameId":"Onion","Tier":4,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Move to the back, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Oyster Mushroom perk.","Id":"183","Name":"Oyster Mushroom","NameId":"OysterMushroom","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before attack: Set attack and health to at least 9, once.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health.","Id":"58","Name":"Pear","NameId":"Pear","Tier":4,"Packs":["Pack1","Pack3"],"PacksRequired":["Pack1","Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pie perk.","Id":"60","Name":"Pie","NameId":"Pie","Tier":4,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before battle: Gain +4 attack and +3 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Potato perk.","Id":"66","Name":"Potato","NameId":"Potato","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 10 damage from abilities and perks, twice.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Puppy toy.","Id":"240","Name":"Puppy Present","NameId":"PuppyGift1","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Puppy toy.","Id":"241","Name":"Puppy Present","NameId":"PuppyGift2","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Puppy toy.","Id":"242","Name":"Puppy Present","NameId":"PuppyGift3","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Salt perk.","Id":"74","Name":"Salt","NameId":"Salt","Tier":4,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack for double damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +1 health. Triple if you have 1 life left.","Id":"78","Name":"Soup","NameId":"Soup","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one tier 4-6 ailment to stock. Always on sale!","Id":"226","Name":"Stronger Canned Ailment","NameId":"CannedAilment2","Tier":4,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give the two left-most shop pets +2 attack and +3 health.","Id":"197","Name":"Vanilla Bean","NameId":"VanillaBean","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Activate buy ability or give +3 health.","Id":"86","Name":"Waffle","NameId":"Waffle","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 experience.","Id":"105","Name":"Best Chocolate","NameId":"Chocolate3","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 experience.","Id":"104","Name":"Better Chocolate","NameId":"Chocolate2","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +6 mana.","Id":"202","Name":"Big Mana Potion","NameId":"ManaPotion2","Tier":5,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Dazed without triggering abilities.","Id":"218","Name":"Canned Dazed","NameId":"CannedDeaf","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Prevent ability from activating.","CustomArchetypes":[]},{"Ability":"Make one pet Sleepy without triggering abilities.","Id":"221","Name":"Canned Sleepy","NameId":"CannedDrowsy","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Attack with half damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Carrot perk.","Id":"17","Name":"Carrot","NameId":"Carrot","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"End turn: Gain +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Chili perk.","Id":"22","Name":"Chili","NameId":"Chili","Tier":5,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack second enemy for 5 damage.","CustomArchetypes":[]},{"Ability":"Give one pet +1 experience.","Id":"23","Name":"Chocolate","NameId":"Chocolate","Tier":5,"Packs":["Pack1","Pack2","Pack3","Pack4","Pack5","Danger"],"PacksRequired":["Pack1","Pack2","Pack3","Pack4","Pack5","Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cocoa Bean perk.","Id":"190","Name":"Cocoa Bean","NameId":"CocoaBean","Tier":5,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Before attack: Transform into an exact copy of a random enemy, once.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +3 attack and +2 health.","Id":"123","Name":"Cotton Candy","NameId":"CottonCandy","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Durian perk.","Id":"113","Name":"Durian","NameId":"Durian","Tier":5,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Reduce the most healthy enemy by 33% health, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Easter Egg perk.","Id":"142","Name":"Easter Egg","NameId":"EasterEgg","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon one 3/3 Bunny that attacks for double damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Eggplant perk.","Id":"34","Name":"Eggplant","NameId":"EggPlant","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before battle: Push opposite enemy 1 space forward.","CustomArchetypes":[]},{"Ability":"Replace each shop item with something from 1 tier higher than it.","Id":"129","Name":"Flodebolle","NameId":"Flodeboller","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Honeydew Melon perk.","Id":"193","Name":"Honeydew Melon","NameId":"HoneydewMelon","Tier":5,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 10 damage, and attack for +5 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Kiwano perk.","Id":"181","Name":"Kiwano","NameId":"Kiwano","Tier":5,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Ability deals +8 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +3 health.","Id":"125","Name":"Lasagna","NameId":"Lasagne","Tier":5,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Lemon perk.","Id":"47","Name":"Lemon","NameId":"Lemon","Tier":5,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Block 7 damage, twice.","CustomArchetypes":[]},{"Ability":"Give one pet the Love Potion perk.","Id":"155","Name":"Love Potion","NameId":"LovePotion","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Summon one 5/5 pet like this.","CustomArchetypes":[]},{"Ability":"Give one pet the Magic Beans perk.","Id":"156","Name":"Magic Beans","NameId":"MagicBeans","Tier":5,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Start of turn: Gain the Golden Egg perk and increase sell value by 4 gold.","CustomArchetypes":[]},{"Ability":"Give one pet +5 to its lowest stat.","Id":"209","Name":"Oblonot","NameId":"Oblonot","Tier":5,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pepper perk.","Id":"59","Name":"Pepper","NameId":"Pepper","Tier":5,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Health does not go under 1. Removed after taking damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Skewer perk.","Id":"76","Name":"Skewer","NameId":"Skewer","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Attack second and third enemy for 3 damage.","CustomArchetypes":[]},{"Ability":"Give three random pets +2 health.","Id":"80","Name":"Stew","NameId":"Stew","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Choose one level 1 Sting Ray toy.","Id":"246","Name":"Sting Ray Present","NameId":"StingRayGift1","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Sting Ray toy.","Id":"247","Name":"Sting Ray Present","NameId":"StingRayGift2","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Sting Ray toy.","Id":"248","Name":"Sting Ray Present","NameId":"StingRayGift3","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet Strawberry. Always on sale!","Id":"168","Name":"Strawberry Jam","NameId":"StrawberryJar","Tier":5,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give three random pets +1 attack and +1 health.","Id":"82","Name":"Sushi","NameId":"Sushi","Tier":5,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give three random pets +2 attack.","Id":"84","Name":"Taco","NameId":"Taco","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Stock one 2-gold copy of the last non-Tofu food bought this turn.","Id":"187","Name":"Tofu","NameId":"Tofu","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Cursed without triggering abilities.","Id":"230","Name":"Canned Curse","NameId":"CannedCurse","Tier":6,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Make one random friend Cursed.","CustomArchetypes":[],"Random":true},{"Ability":"Make one pet Icky without triggering abilities.","Id":"215","Name":"Canned Icky","NameId":"CannedAcid","Tier":6,"Packs":[],"PacksRequired":[],"PerkNote":"Take double damage, twice.","CustomArchetypes":[]},{"Ability":"Give one pet +6 health.","Id":"120","Name":"Celery","NameId":"Celery","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health.","Id":"21","Name":"Chicken Leg","NameId":"ChickenLeg","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Activate one pet\'s ability.","Id":"206","Name":"Coffee Bean","NameId":"CoffeeBean","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"CustomArchetypes":[]},{"Ability":"Choose one free tier 6 food to stock from ALL packs.","Id":"166","Name":"Cornucopia","NameId":"Cornucopia","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give two random pets +4 attack.","Id":"41","Name":"Hot Dog","NameId":"HotDog","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Stock one 2-gold Melon and one 2-gold Steak.","Id":"106","Name":"Judean Date","NameId":"Date","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Transform one pet into another from one higher tier.","Id":"154","Name":"Konpeito","NameId":"Kompeito","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Ability":"Give one pet the Melon perk.","Id":"96","Name":"Melon","NameId":"Melon","Tier":6,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Mongoose toy.","Id":"243","Name":"Mongoose Present","NameId":"MongooseGift1","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Mongoose toy.","Id":"244","Name":"Mongoose Present","NameId":"MongooseGift2","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Mongoose toy.","Id":"245","Name":"Mongoose Present","NameId":"MongooseGift3","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Mushroom perk.","Id":"51","Name":"Mushroom","NameId":"Mushroom","Tier":6,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Faint: Come back as a 1/1.","CustomArchetypes":["Mvp"]},{"Ability":"Give two random pets +4 health.","Id":"54","Name":"Orange","NameId":"Orange","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Pancakes perk.","Id":"55","Name":"Pancakes","NameId":"Pancakes","Tier":6,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before battle: Give friends +2 attack and +2 health.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health. Upgrade future peaches to give +1 more attack and health.","Id":"152","Name":"Peach of Immortality","NameId":"ImmortalPeach","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pita Bread perk.","Id":"62","Name":"Pita Bread","NameId":"PitaBread","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Hurt: Gain +15 health, once.","CustomArchetypes":[]},{"Ability":"Give two random pets +2 attack and +2 health.","Id":"63","Name":"Pizza","NameId":"Pizza","Tier":6,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Popcorn perk.","Id":"65","Name":"Popcorn","NameId":"Popcorn","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Summon one random pet from the same tier.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +2 attack and +2 health. Double if all pets are tier 4 or higher.","Id":"67","Name":"Pretzel","NameId":"Pretzel","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"If pack has no pets/food from the tab, give tier 5 and 6 perks to one pet and the friends ahead of it.","Id":"158","Name":"Rainbow Jelly","NameId":"RainbowJelly","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sardinian Currant perk.","Id":"200","Name":"Sardinian Currant","NameId":"SardinianCurrant","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Start of turn: Gain +2 gold.","CustomArchetypes":[]},{"Ability":"Give all pets +1 attack.","Id":"77","Name":"Soft Ice","NameId":"SoftIce","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one tier 5-6 perk food to stock for free from ANY pack.","Id":"171","Name":"Starfruit","NameId":"Starfruit","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Steak perk.","Id":"79","Name":"Steak","NameId":"Steak","Tier":6,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"PerkNote":"Attack with +20 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Tomato perk.","Id":"85","Name":"Tomato","NameId":"Tomato","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 10 damage to the last enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the White Okra perk.","Id":"199","Name":"White Okra","NameId":"WhiteOkra","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 10 damage twice or ailment once.","CustomArchetypes":[]},{"Ability":"Give one pet the Yggdrasil Fruit perk.","Id":"160","Name":"Yggdrasil Fruit","NameId":"YggdrasilFruit","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon two 5/5 Nordic Goats.","CustomArchetypes":[]},{"Ability":"Give one pet the Coconut perk.","Id":"26","Name":"Coconut","NameId":"Coconut","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Peanut perk.","Id":"57","Name":"Peanut","NameId":"Peanut","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":[]},{"Ability":"Give one pet the Peanut Butter perk.","Id":"204","Name":"Peanut Butter","NameId":"PeanutButter","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":[]}]')},74794(O,S,i){i.d(S,{a:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Small One";tier=6;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SmallOneAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:n,pteranodon:a}=e,o=t.parent.getAll(!0,t).pets.filter(g=>g&&g!==t);if(0!==o.length){for(let g=0;g<this.level;g++)for(const f of o)t.dealDamage(f,f.parent===t.parent?2:4);this.logService.createLog({message:`${t.name} dealt 2 (4 vs enemies) damage ${this.level}x to all other pets.`,type:"ability",player:t.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},74838(O,S,i){i.d(S,{L:()=>A});var P=i(46200),c=i(5615);class A extends P.i{constructor(e,t,n){super(e,t,n),this.name="Axehandle Hound",this.attack=5,this.health=3,this.tier=3,this.pack="Custom"}initAbilities(){this.abilityList=[new _(this,this.logService)],super.initAbilities()}}class _ extends c.T{hasUsed=!1;logService;constructor(e,t){super({name:"Axehandle Hound Ability",owner:e,triggers:["BeforeFriendlyAttack","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:a}=e;if("StartBattle"===e.trigger)return this.hasUsed=!1,void this.triggerTigerExecution(e);if(this.hasUsed)return;const o=t.opponent;if(!o)return;const r=o.petArray.filter(f=>f.health>0),d=r.map(f=>f.name);if(new Set(d).size!==d.length){this.hasUsed=!0;const f=2*this.level;this.logService.createLog({message:`${this.owner.name} activated. Opponent has duplicates. Dealing ${f} damage to all enemies.`,type:"ability",player:this.owner.parent,tiger:n,pteranodon:a});for(const D of r)this.owner.dealDamage(D,f)}this.triggerTigerExecution(e)}copy(e){const t=new _(e,this.logService);return t.hasUsed=this.hasUsed,t}}},74891(O,S,i){i.d(S,{s:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Dirty Rat";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},75119(O,S,i){i.d(S,{Zm:()=>Dt,me:()=>He,Yp:()=>ei,MJ:()=>Cn,JD:()=>mi,gE:()=>Li,j4:()=>bn,YN:()=>Uu,zX:()=>Go,VZ:()=>$r,BC:()=>yi,cb:()=>qi,vS:()=>gs,xH:()=>Rs,Q0:()=>ue,MR:()=>pa,X1:()=>ql,YS:()=>cr,wz:()=>Kn,k0:()=>ge,qT:()=>Fa,y7:()=>or});var P=i(35547),c=i(47868),_=(i(10467),i(15824));function r(U,K){return(0,_.KZ)(U,K?.equal)}Error,Error;var Ee=i(17705),ke=i(46494),de=i(84787),Te=i(27389),Ne=i(27354),Ge=i(95006),Ie=i(61456);function pt(U,K){return new Te.c(F=>{const te=U.length;if(0===te)return void F.complete();const fe=new Array(te);let mt=0,Lt=0;for(let li=0;li<te;li++){const un=(0,de.H)(U[li]);let Ka=!1;F.add(un.subscribe({next:ha=>{Ka||(Ka=!0,Lt++),fe[li]=ha},error:ha=>F.error(ha),complete:()=>{mt++,(mt===te||!Ka)&&(Lt===te&&F.next(K?K.reduce((ha,Wu,Ku)=>(ha[Wu]=fe[Ku],ha),{}):fe),F.complete())}}))}})}var We=i(45286);let tt=(()=>{class U{_renderer;_elementRef;onChange=F=>{};onTouched=()=>{};constructor(F,te){this._renderer=F,this._elementRef=te}setProperty(F,te){this._renderer.setProperty(this._elementRef.nativeElement,F,te)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}static \u0275fac=function(te){return new(te||U)(P.rXU(P.sFG),P.rXU(P.aKT))};static \u0275dir=P.FsC({type:U})}return U})(),At=(()=>{class U extends tt{static \u0275fac=(()=>{let F;return function(fe){return(F||(F=P.xGo(U)))(fe||U)}})();static \u0275dir=P.FsC({type:U,features:[P.Vt3]})}return U})();const nt=new c.nKC(""),et={provide:nt,useExisting:(0,c.Rfq)(()=>Dt),multi:!0};let Dt=(()=>{class U extends At{writeValue(F){this.setProperty("checked",F)}static \u0275fac=(()=>{let F;return function(fe){return(F||(F=P.xGo(U)))(fe||U)}})();static \u0275dir=P.FsC({type:U,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(te,fe){1&te&&P.bIt("change",function(Lt){return fe.onChange(Lt.target.checked)})("blur",function(){return fe.onTouched()})},standalone:!1,features:[P.Jv_([et]),P.Vt3]})}return U})();const ct={provide:nt,useExisting:(0,c.Rfq)(()=>He),multi:!0},rt=new c.nKC("");let He=(()=>{class U extends tt{_compositionMode;_composing=!1;constructor(F,te,fe){super(F,te),this._compositionMode=fe,null==this._compositionMode&&(this._compositionMode=!function vt(){const U=(0,ke.rb)()?(0,ke.rb)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(F){this.setProperty("value",F??"")}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}static \u0275fac=function(te){return new(te||U)(P.rXU(P.sFG),P.rXU(P.aKT),P.rXU(rt,8))};static \u0275dir=P.FsC({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(te,fe){1&te&&P.bIt("input",function(Lt){return fe._handleInput(Lt.target.value)})("blur",function(){return fe.onTouched()})("compositionstart",function(){return fe._compositionStart()})("compositionend",function(Lt){return fe._compositionEnd(Lt.target.value)})},standalone:!1,features:[P.Jv_([ct]),P.Vt3]})}return U})();function kt(U){return null==U||0===Xt(U)}function Xt(U){return null==U?null:Array.isArray(U)||"string"==typeof U?U.length:U instanceof Set?U.size:null}const it=new c.nKC(""),$t=new c.nKC(""),Et=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ge{static min(K){return we(K)}static max(K){return Ve(K)}static required(K){return Fe(K)}static requiredTrue(K){return function ot(U){return!0===U.value?null:{required:!0}}(K)}static email(K){return function Bt(U){return kt(U.value)||Et.test(U.value)?null:{email:!0}}(K)}static minLength(K){return function Rt(U){return K=>{const F=K.value?.length??Xt(K.value);return null===F||0===F?null:F<U?{minlength:{requiredLength:U,actualLength:F}}:null}}(K)}static maxLength(K){return function qt(U){return K=>{const F=K.value?.length??Xt(K.value);return null!==F&&F>U?{maxlength:{requiredLength:U,actualLength:F}}:null}}(K)}static pattern(K){return function zt(U){if(!U)return Ht;let K,F;return"string"==typeof U?(F="","^"!==U.charAt(0)&&(F+="^"),F+=U,"$"!==U.charAt(U.length-1)&&(F+="$"),K=new RegExp(F)):(F=U.toString(),K=U),te=>{if(kt(te.value))return null;const fe=te.value;return K.test(fe)?null:{pattern:{requiredPattern:F,actualValue:fe}}}}(K)}static nullValidator(K){return null}static compose(K){return zi(K)}static composeAsync(K){return Di(K)}}function we(U){return K=>{if(null==K.value||null==U)return null;const F=parseFloat(K.value);return!isNaN(F)&&F<U?{min:{min:U,actual:K.value}}:null}}function Ve(U){return K=>{if(null==K.value||null==U)return null;const F=parseFloat(K.value);return!isNaN(F)&&F>U?{max:{max:U,actual:K.value}}:null}}function Fe(U){return kt(U.value)?{required:!0}:null}function Ht(U){return null}function Gi(U){return null!=U}function xt(U){return(0,P.yLl)(U)?(0,de.H)(U):U}function Qi(U){let K={};return U.forEach(F=>{K=null!=F?{...K,...F}:K}),0===Object.keys(K).length?null:K}function Vi(U,K){return K.map(F=>F(U))}function Oi(U){return U.map(K=>function wi(U){return!U.validate}(K)?K:F=>K.validate(F))}function zi(U){if(!U)return null;const K=U.filter(Gi);return 0==K.length?null:function(F){return Qi(Vi(F,K))}}function En(U){return null!=U?zi(Oi(U)):null}function Di(U){if(!U)return null;const K=U.filter(Gi);return 0==K.length?null:function(F){return function gt(...U){if(1===U.length){const K=U[0];if((0,Ne.c)(K))return pt(K,null);if((0,Ie.G)(K)&&Object.getPrototypeOf(K)===Object.prototype){const F=Object.keys(K);return pt(F.map(te=>K[te]),F)}}if("function"==typeof U[U.length-1]){const K=U.pop();return pt(U=1===U.length&&(0,Ne.c)(U[0])?U[0]:U,null).pipe((0,Ge.T)(F=>K(...F)))}return pt(U,null)}(Vi(F,K).map(xt)).pipe((0,Ge.T)(Qi))}}function _i(U){return null!=U?Di(Oi(U)):null}function Mi(U,K){return null===U?[K]:Array.isArray(U)?[...U,K]:[U,K]}function Nn(U){return U._rawValidators}function pn(U){return U._rawAsyncValidators}function an(U){return U?Array.isArray(U)?U:[U]:[]}function sn(U,K){return Array.isArray(U)?U.includes(K):U===K}function Yi(U,K){const F=an(K);return an(U).forEach(fe=>{sn(F,fe)||F.push(fe)}),F}function In(U,K){return an(K).filter(F=>!sn(U,F))}class Bi{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(K){this._rawValidators=K||[],this._composedValidatorFn=En(this._rawValidators)}_setAsyncValidators(K){this._rawAsyncValidators=K||[],this._composedAsyncValidatorFn=_i(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(K){this._onDestroyCallbacks.push(K)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(K=>K()),this._onDestroyCallbacks=[]}reset(K=void 0){this.control&&this.control.reset(K)}hasError(K,F){return!!this.control&&this.control.hasError(K,F)}getError(K,F){return this.control?this.control.getError(K,F):null}}class di extends Bi{name;get formDirective(){return null}get path(){return null}}class Ii extends Bi{_parent=null;name=null;valueAccessor=null}class Hi{_cd;constructor(K){this._cd=K}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let yi=(()=>{class U extends Hi{constructor(F){super(F)}static \u0275fac=function(te){return new(te||U)(P.rXU(Ii,2))};static \u0275dir=P.FsC({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(te,fe){2&te&&P.AVh("ng-untouched",fe.isUntouched)("ng-touched",fe.isTouched)("ng-pristine",fe.isPristine)("ng-dirty",fe.isDirty)("ng-valid",fe.isValid)("ng-invalid",fe.isInvalid)("ng-pending",fe.isPending)},standalone:!1,features:[P.Vt3]})}return U})(),qi=(()=>{class U extends Hi{constructor(F){super(F)}static \u0275fac=function(te){return new(te||U)(P.rXU(di,10))};static \u0275dir=P.FsC({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(te,fe){2&te&&P.AVh("ng-untouched",fe.isUntouched)("ng-touched",fe.isTouched)("ng-pristine",fe.isPristine)("ng-dirty",fe.isDirty)("ng-valid",fe.isValid)("ng-invalid",fe.isInvalid)("ng-pending",fe.isPending)("ng-submitted",fe.isSubmitted)},standalone:!1,features:[P.Vt3]})}return U})();const ve="VALID",Le="INVALID",Ue="PENDING",je="DISABLED";class ze{}class Kt extends ze{value;source;constructor(K,F){super(),this.value=K,this.source=F}}class Pt extends ze{pristine;source;constructor(K,F){super(),this.pristine=K,this.source=F}}class bi extends ze{touched;source;constructor(K,F){super(),this.touched=K,this.source=F}}class Fi extends ze{status;source;constructor(K,F){super(),this.status=K,this.source=F}}class gi extends ze{source;constructor(K){super(),this.source=K}}class hi extends ze{source;constructor(K){super(),this.source=K}}function on(U){return(Yt(U)?U.validators:U)||null}function Ri(U,K){return(Yt(K)?K.asyncValidators:U)||null}function Yt(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}function Pi(U,K,F){const te=U.controls;if(!(K?Object.keys(te):te).length)throw new c.buA(1e3,"");if(!te[F])throw new c.buA(1001,"")}function Ci(U,K,F){U._forEachChild((te,fe)=>{if(void 0===F[fe])throw new c.buA(1002,"")})}class Jt{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(K,F){this._assignValidators(K),this._assignAsyncValidators(F)}get validator(){return this._composedValidatorFn}set validator(K){this._rawValidators=this._composedValidatorFn=K}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(K){this._rawAsyncValidators=this._composedAsyncValidatorFn=K}get parent(){return this._parent}get status(){return(0,c.O8t)(this.statusReactive)}set status(K){(0,c.O8t)(()=>this.statusReactive.set(K))}_status=r(()=>this.statusReactive());statusReactive=(0,c.vPA)(void 0);get valid(){return this.status===ve}get invalid(){return this.status===Le}get pending(){return this.status==Ue}get disabled(){return this.status===je}get enabled(){return this.status!==je}errors;get pristine(){return(0,c.O8t)(this.pristineReactive)}set pristine(K){(0,c.O8t)(()=>this.pristineReactive.set(K))}_pristine=r(()=>this.pristineReactive());pristineReactive=(0,c.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,c.O8t)(this.touchedReactive)}set touched(K){(0,c.O8t)(()=>this.touchedReactive.set(K))}_touched=r(()=>this.touchedReactive());touchedReactive=(0,c.vPA)(!1);get untouched(){return!this.touched}_events=new We.B7;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(K){this._assignValidators(K)}setAsyncValidators(K){this._assignAsyncValidators(K)}addValidators(K){this.setValidators(Yi(K,this._rawValidators))}addAsyncValidators(K){this.setAsyncValidators(Yi(K,this._rawAsyncValidators))}removeValidators(K){this.setValidators(In(K,this._rawValidators))}removeAsyncValidators(K){this.setAsyncValidators(In(K,this._rawAsyncValidators))}hasValidator(K){return sn(this._rawValidators,K)}hasAsyncValidator(K){return sn(this._rawAsyncValidators,K)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(K={}){const F=!1===this.touched;this.touched=!0;const te=K.sourceControl??this;this._parent&&!K.onlySelf&&this._parent.markAsTouched({...K,sourceControl:te}),F&&!1!==K.emitEvent&&this._events.next(new bi(!0,te))}markAllAsDirty(K={}){this.markAsDirty({onlySelf:!0,emitEvent:K.emitEvent,sourceControl:this}),this._forEachChild(F=>F.markAllAsDirty(K))}markAllAsTouched(K={}){this.markAsTouched({onlySelf:!0,emitEvent:K.emitEvent,sourceControl:this}),this._forEachChild(F=>F.markAllAsTouched(K))}markAsUntouched(K={}){const F=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const te=K.sourceControl??this;this._forEachChild(fe=>{fe.markAsUntouched({onlySelf:!0,emitEvent:K.emitEvent,sourceControl:te})}),this._parent&&!K.onlySelf&&this._parent._updateTouched(K,te),F&&!1!==K.emitEvent&&this._events.next(new bi(!1,te))}markAsDirty(K={}){const F=!0===this.pristine;this.pristine=!1;const te=K.sourceControl??this;this._parent&&!K.onlySelf&&this._parent.markAsDirty({...K,sourceControl:te}),F&&!1!==K.emitEvent&&this._events.next(new Pt(!1,te))}markAsPristine(K={}){const F=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const te=K.sourceControl??this;this._forEachChild(fe=>{fe.markAsPristine({onlySelf:!0,emitEvent:K.emitEvent})}),this._parent&&!K.onlySelf&&this._parent._updatePristine(K,te),F&&!1!==K.emitEvent&&this._events.next(new Pt(!0,te))}markAsPending(K={}){this.status=Ue;const F=K.sourceControl??this;!1!==K.emitEvent&&(this._events.next(new Fi(this.status,F)),this.statusChanges.emit(this.status)),this._parent&&!K.onlySelf&&this._parent.markAsPending({...K,sourceControl:F})}disable(K={}){const F=this._parentMarkedDirty(K.onlySelf);this.status=je,this.errors=null,this._forEachChild(fe=>{fe.disable({...K,onlySelf:!0})}),this._updateValue();const te=K.sourceControl??this;!1!==K.emitEvent&&(this._events.next(new Kt(this.value,te)),this._events.next(new Fi(this.status,te)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...K,skipPristineCheck:F},this),this._onDisabledChange.forEach(fe=>fe(!0))}enable(K={}){const F=this._parentMarkedDirty(K.onlySelf);this.status=ve,this._forEachChild(te=>{te.enable({...K,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent}),this._updateAncestors({...K,skipPristineCheck:F},this),this._onDisabledChange.forEach(te=>te(!1))}_updateAncestors(K,F){this._parent&&!K.onlySelf&&(this._parent.updateValueAndValidity(K),K.skipPristineCheck||this._parent._updatePristine({},F),this._parent._updateTouched({},F))}setParent(K){this._parent=K}getRawValue(){return this.value}updateValueAndValidity(K={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const te=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ve||this.status===Ue)&&this._runAsyncValidator(te,K.emitEvent)}const F=K.sourceControl??this;!1!==K.emitEvent&&(this._events.next(new Kt(this.value,F)),this._events.next(new Fi(this.status,F)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!K.onlySelf&&this._parent.updateValueAndValidity({...K,sourceControl:F})}_updateTreeValidity(K={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(K)),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?je:ve}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(K,F){if(this.asyncValidator){this.status=Ue,this._hasOwnPendingAsyncValidator={emitEvent:!1!==F,shouldHaveEmitted:!1!==K};const te=xt(this.asyncValidator(this));this._asyncValidationSubscription=te.subscribe(fe=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(fe,{emitEvent:F,shouldHaveEmitted:K})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const K=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,K}return!1}setErrors(K,F={}){this.errors=K,this._updateControlsErrors(!1!==F.emitEvent,this,F.shouldHaveEmitted)}get(K){let F=K;return null==F||(Array.isArray(F)||(F=F.split(".")),0===F.length)?null:F.reduce((te,fe)=>te&&te._find(fe),this)}getError(K,F){const te=F?this.get(F):this;return te&&te.errors?te.errors[K]:null}hasError(K,F){return!!this.getError(K,F)}get root(){let K=this;for(;K._parent;)K=K._parent;return K}_updateControlsErrors(K,F,te){this.status=this._calculateStatus(),K&&this.statusChanges.emit(this.status),(K||te)&&this._events.next(new Fi(this.status,F)),this._parent&&this._parent._updateControlsErrors(K,F,te)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?je:this.errors?Le:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ue)?Ue:this._anyControlsHaveStatus(Le)?Le:ve}_anyControlsHaveStatus(K){return this._anyControls(F=>F.status===K)}_anyControlsDirty(){return this._anyControls(K=>K.dirty)}_anyControlsTouched(){return this._anyControls(K=>K.touched)}_updatePristine(K,F){const te=!this._anyControlsDirty(),fe=this.pristine!==te;this.pristine=te,this._parent&&!K.onlySelf&&this._parent._updatePristine(K,F),fe&&this._events.next(new Pt(this.pristine,F))}_updateTouched(K={},F){this.touched=this._anyControlsTouched(),this._events.next(new bi(this.touched,F)),this._parent&&!K.onlySelf&&this._parent._updateTouched(K,F)}_onDisabledChange=[];_registerOnCollectionChange(K){this._onCollectionChange=K}_setUpdateStrategy(K){Yt(K)&&null!=K.updateOn&&(this._updateOn=K.updateOn)}_parentMarkedDirty(K){return!K&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(K){return null}_assignValidators(K){this._rawValidators=Array.isArray(K)?K.slice():K,this._composedValidatorFn=function ri(U){return Array.isArray(U)?En(U):U||null}(this._rawValidators)}_assignAsyncValidators(K){this._rawAsyncValidators=Array.isArray(K)?K.slice():K,this._composedAsyncValidatorFn=function Gt(U){return Array.isArray(U)?_i(U):U||null}(this._rawAsyncValidators)}}class Li extends Jt{constructor(K,F,te){super(on(F),Ri(te,F)),this.controls=K,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(K,F){return this.controls[K]?this.controls[K]:(this.controls[K]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(K,F,te={}){this.registerControl(K,F),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}removeControl(K,F={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(K,F,te={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],F&&this.registerControl(K,F),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}contains(K){return this.controls.hasOwnProperty(K)&&this.controls[K].enabled}setValue(K,F={}){Ci(this,0,K),Object.keys(K).forEach(te=>{Pi(this,!0,te),this.controls[te].setValue(K[te],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(K,F={}){null!=K&&(Object.keys(K).forEach(te=>{const fe=this.controls[te];fe&&fe.patchValue(K[te],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(K={},F={}){this._forEachChild((te,fe)=>{te.reset(K?K[fe]:null,{...F,onlySelf:!0})}),this._updatePristine(F,this),this._updateTouched(F,this),this.updateValueAndValidity(F),!1!==F?.emitEvent&&this._events.next(new hi(this))}getRawValue(){return this._reduceChildren({},(K,F,te)=>(K[te]=F.getRawValue(),K))}_syncPendingControls(){let K=this._reduceChildren(!1,(F,te)=>!!te._syncPendingControls()||F);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){Object.keys(this.controls).forEach(F=>{const te=this.controls[F];te&&K(te,F)})}_setUpControls(){this._forEachChild(K=>{K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(K){for(const[F,te]of Object.entries(this.controls))if(this.contains(F)&&K(te))return!0;return!1}_reduceValue(){return this._reduceChildren({},(F,te,fe)=>((te.enabled||this.disabled)&&(F[fe]=te.value),F))}_reduceChildren(K,F){let te=K;return this._forEachChild((fe,mt)=>{te=F(te,fe,mt)}),te}_allControlsDisabled(){for(const K of Object.keys(this.controls))if(this.controls[K].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(K){return this.controls.hasOwnProperty(K)?this.controls[K]:null}}const mn=new c.nKC("",{factory:()=>tn}),tn="always";function ia(U,K){return[...K.path,U]}function Yn(U,K,F=tn){Un(U,K),K.valueAccessor.writeValue(U.value),(U.disabled||"always"===F)&&K.valueAccessor.setDisabledState?.(U.disabled),function qa(U,K){K.valueAccessor.registerOnChange(F=>{U._pendingValue=F,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&me(U,K)})}(U,K),function ie(U,K){const F=(te,fe)=>{K.valueAccessor.writeValue(te),fe&&K.viewToModelUpdate(te)};U.registerOnChange(F),K._registerOnDestroy(()=>{U._unregisterOnChange(F)})}(U,K),function Y(U,K){K.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&me(U,K),"submit"!==U.updateOn&&U.markAsTouched()})}(U,K),function Ta(U,K){if(K.valueAccessor.setDisabledState){const F=te=>{K.valueAccessor.setDisabledState(te)};U.registerOnDisabledChange(F),K._registerOnDestroy(()=>{U._unregisterOnDisabledChange(F)})}}(U,K)}function _n(U,K,F=!0){const te=()=>{};K.valueAccessor&&(K.valueAccessor.registerOnChange(te),K.valueAccessor.registerOnTouched(te)),Mn(U,K),U&&(K._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function fn(U,K){U.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(K)})}function Un(U,K){const F=Nn(U);null!==K.validator?U.setValidators(Mi(F,K.validator)):"function"==typeof F&&U.setValidators([F]);const te=pn(U);null!==K.asyncValidator?U.setAsyncValidators(Mi(te,K.asyncValidator)):"function"==typeof te&&U.setAsyncValidators([te]);const fe=()=>U.updateValueAndValidity();fn(K._rawValidators,fe),fn(K._rawAsyncValidators,fe)}function Mn(U,K){let F=!1;if(null!==U){if(null!==K.validator){const fe=Nn(U);if(Array.isArray(fe)&&fe.length>0){const mt=fe.filter(Lt=>Lt!==K.validator);mt.length!==fe.length&&(F=!0,U.setValidators(mt))}}if(null!==K.asyncValidator){const fe=pn(U);if(Array.isArray(fe)&&fe.length>0){const mt=fe.filter(Lt=>Lt!==K.asyncValidator);mt.length!==fe.length&&(F=!0,U.setAsyncValidators(mt))}}}const te=()=>{};return fn(K._rawValidators,te),fn(K._rawAsyncValidators,te),F}function me(U,K){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),K.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function si(U,K){if(!U.hasOwnProperty("model"))return!1;const F=U.model;return!!F.isFirstChange()||!Object.is(K,F.currentValue)}function oi(U,K){if(!K)return null;let F,te,fe;return Array.isArray(K),K.forEach(mt=>{mt.constructor===He?F=mt:function Qt(U){return Object.getPrototypeOf(U.constructor)===At}(mt)?te=mt:fe=mt}),fe||te||F||null}function xn(U,K){const F=U.indexOf(K);F>-1&&U.splice(F,1)}function ca(U){return"object"==typeof U&&null!==U&&2===Object.keys(U).length&&"value"in U&&"disabled"in U}Promise.resolve();const Cn=class extends Jt{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(K=null,F,te){super(on(F),Ri(te,F)),this._applyFormState(K),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yt(F)&&(F.nonNullable||F.initialValueIsDefault)&&(this.defaultValue=ca(K)?K.value:K)}setValue(K,F={}){this.value=this._pendingValue=K,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(te=>te(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(K,F={}){this.setValue(K,F)}reset(K=this.defaultValue,F={}){this._applyFormState(K),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),F.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,!1!==F?.emitEvent&&this._events.next(new hi(this))}_updateValue(){}_anyControls(K){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(K){this._onChange.push(K)}_unregisterOnChange(K){xn(this._onChange,K)}registerOnDisabledChange(K){this._onDisabledChange.push(K)}_unregisterOnDisabledChange(K){xn(this._onDisabledChange,K)}_forEachChild(K){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(K){ca(K)?(this.value=this._pendingValue=K.value,K.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=K}},Wr={provide:Ii,useExisting:(0,c.Rfq)(()=>gs)},es=Promise.resolve();let gs=(()=>{class U extends Ii{_changeDetectorRef;callSetDisabledState;control=new Cn;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new c.bkB;constructor(F,te,fe,mt,Lt,li){super(),this._changeDetectorRef=Lt,this.callSetDisabledState=li,this._parent=F,this._setValidators(te),this._setAsyncValidators(fe),this.valueAccessor=oi(0,mt)}ngOnChanges(F){if(this._checkForErrors(),!this._registered||"name"in F){if(this._registered&&(this._checkName(),this.formDirective)){const te=F.name.previousValue;this.formDirective.removeControl({name:te,path:this._getPath(te)})}this._setUpControl()}"isDisabled"in F&&this._updateDisabled(F),si(F,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Yn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(F){es.then(()=>{this.control.setValue(F,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(F){const te=F.isDisabled.currentValue,fe=0!==te&&(0,Ee.L39)(te);es.then(()=>{fe&&!this.control.disabled?this.control.disable():!fe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(F){return this._parent?ia(F,this._parent):[F]}static \u0275fac=function(te){return new(te||U)(P.rXU(di,9),P.rXU(it,10),P.rXU($t,10),P.rXU(nt,10),P.rXU(Ee.gRc,8),P.rXU(mn,8))};static \u0275dir=P.FsC({type:U,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[P.Jv_([Wr]),P.Vt3,P.OA$]})}return U})(),Fa=(()=>{class U{static \u0275fac=function(te){return new(te||U)};static \u0275dir=P.FsC({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return U})();const jt={provide:nt,useExisting:(0,c.Rfq)(()=>ue),multi:!0};let ue=(()=>{class U extends At{writeValue(F){this.setProperty("value",F??"")}registerOnChange(F){this.onChange=te=>{F(""==te?null:parseFloat(te))}}static \u0275fac=(()=>{let F;return function(fe){return(F||(F=P.xGo(U)))(fe||U)}})();static \u0275dir=P.FsC({type:U,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(te,fe){1&te&&P.bIt("input",function(Lt){return fe.onChange(Lt.target.value)})("blur",function(){return fe.onTouched()})},standalone:!1,features:[P.Jv_([jt]),P.Vt3]})}return U})();const rr={provide:nt,useExisting:(0,c.Rfq)(()=>pa),multi:!0};let pa=(()=>{class U extends At{writeValue(F){this.setProperty("value",parseFloat(F))}registerOnChange(F){this.onChange=te=>{F(""==te?null:parseFloat(te))}}static \u0275fac=(()=>{let F;return function(fe){return(F||(F=P.xGo(U)))(fe||U)}})();static \u0275dir=P.FsC({type:U,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(te,fe){1&te&&P.bIt("change",function(Lt){return fe.onChange(Lt.target.value)})("input",function(Lt){return fe.onChange(Lt.target.value)})("blur",function(){return fe.onTouched()})},standalone:!1,features:[P.Jv_([rr]),P.Vt3]})}return U})();class ei extends Jt{constructor(K,F,te){super(on(F),Ri(te,F)),this.controls=K,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(K){return this.controls[this._adjustIndex(K)]}push(K,F={}){Array.isArray(K)?K.forEach(te=>{this.controls.push(te),this._registerControl(te)}):(this.controls.push(K),this._registerControl(K)),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(K,F,te={}){this.controls.splice(K,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:te.emitEvent})}removeAt(K,F={}){let te=this._adjustIndex(K);te<0&&(te=0),this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),this.controls.splice(te,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(K,F,te={}){let fe=this._adjustIndex(K);fe<0&&(fe=0),this.controls[fe]&&this.controls[fe]._registerOnCollectionChange(()=>{}),this.controls.splice(fe,1),F&&(this.controls.splice(fe,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(K,F={}){Ci(this,0,K),K.forEach((te,fe)=>{Pi(this,!1,fe),this.at(fe).setValue(te,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(K,F={}){null!=K&&(K.forEach((te,fe)=>{this.at(fe)&&this.at(fe).patchValue(te,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(K=[],F={}){this._forEachChild((te,fe)=>{te.reset(K[fe],{...F,onlySelf:!0})}),this._updatePristine(F,this),this._updateTouched(F,this),this.updateValueAndValidity(F),!1!==F?.emitEvent&&this._events.next(new hi(this))}getRawValue(){return this.controls.map(K=>K.getRawValue())}clear(K={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:K.emitEvent}))}_adjustIndex(K){return K<0?K+this.length:K}_syncPendingControls(){let K=this.controls.reduce((F,te)=>!!te._syncPendingControls()||F,!1);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){this.controls.forEach((F,te)=>{K(F,te)})}_updateValue(){this.value=this.controls.filter(K=>K.enabled||this.disabled).map(K=>K.value)}_anyControls(K){return this.controls.some(F=>F.enabled&&K(F))}_setUpControls(){this._forEachChild(K=>this._registerControl(K))}_allControlsDisabled(){for(const K of this.controls)if(K.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(K){K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)}_find(K){return this.at(K)??null}}let ee=(()=>{class U extends di{callSetDisabledState;get submitted(){return(0,c.O8t)(this._submittedReactive)}set submitted(F){this._submittedReactive.set(F)}_submitted=r(()=>this._submittedReactive());_submittedReactive=(0,c.vPA)(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(F,te,fe){super(),this.callSetDisabledState=fe,this._setValidators(F),this._setAsyncValidators(te)}ngOnChanges(F){this.onChanges(F)}ngOnDestroy(){this.onDestroy()}onChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(Mn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(F){const te=this.form.get(F.path);return Yn(te,F,this.callSetDisabledState),te.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),te}getControl(F){return this.form.get(F.path)}removeControl(F){_n(F.control||null,F,!1),function fi(U,K){const F=U.indexOf(K);F>-1&&U.splice(F,1)}(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}getFormArray(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}updateModel(F,te){this.form.get(F.path).setValue(te)}onReset(){this.resetForm()}resetForm(F=void 0,te={}){this.form.reset(F,te),this._submittedReactive.set(!1)}onSubmit(F){return this.submitted=!0,function Si(U,K){U._syncPendingControls(),K.forEach(F=>{const te=F.control;"submit"===te.updateOn&&te._pendingChange&&(F.viewToModelUpdate(te._pendingValue),te._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(F),this.form._events.next(new gi(this.control)),"dialog"===F?.target?.method}_updateDomValue(){this.directives.forEach(F=>{const te=F.control,fe=this.form.get(F.path);te!==fe&&(_n(te||null,F),(U=>U instanceof Cn)(fe)&&(Yn(fe,F,this.callSetDisabledState),F.control=fe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const te=this.form.get(F.path);(function oe(U,K){Un(U,K)})(te,F),te.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const te=this.form.get(F.path);te&&function De(U,K){return Mn(U,K)}(te,F)&&te.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Un(this.form,this),this._oldForm&&Mn(this._oldForm,this)}_checkFormPresent(){}static \u0275fac=function(te){return new(te||U)(P.rXU(it,10),P.rXU($t,10),P.rXU(mn,8))};static \u0275dir=P.FsC({type:U,features:[P.Vt3,P.OA$]})}return U})();const he=new c.nKC(""),wt={provide:Ii,useExisting:(0,c.Rfq)(()=>mi)};let mi=(()=>{class U extends Ii{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(F){}model;update=new c.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(F,te,fe,mt,Lt){super(),this._ngModelWarningConfig=Lt,this._parent=F,this._setValidators(te),this._setAsyncValidators(fe),this.valueAccessor=oi(0,mt)}ngOnChanges(F){this._added||this._setUpControl(),si(F,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}get path(){return ia(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(te){return new(te||U)(P.rXU(di,13),P.rXU(it,10),P.rXU($t,10),P.rXU(nt,10),P.rXU(he,8))};static \u0275dir=P.FsC({type:U,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[P.Jv_([wt]),P.Vt3,P.OA$]})}return U})();const yn={provide:di,useExisting:(0,c.Rfq)(()=>bn)};let bn=(()=>{class U extends ee{form=null;ngSubmit=new c.bkB;get control(){return this.form}static \u0275fac=(()=>{let F;return function(fe){return(F||(F=P.xGo(U)))(fe||U)}})();static \u0275dir=P.FsC({type:U,selectors:[["","formGroup",""]],hostBindings:function(te,fe){1&te&&P.bIt("submit",function(Lt){return fe.onSubmit(Lt)})("reset",function(){return fe.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[P.Jv_([yn]),P.Vt3]})}return U})();const Ji={provide:nt,useExisting:(0,c.Rfq)(()=>Kn),multi:!0};function ji(U,K){return null==U?`${K}`:(K&&"object"==typeof K&&(K="Object"),`${U}: ${K}`.slice(0,50))}let Kn=(()=>{class U extends At{value;_optionMap=new Map;_idCounter=0;set compareWith(F){this._compareWith=F}_compareWith=Object.is;appRefInjector=(0,c.WQX)(P.o8S).injector;destroyRef=(0,c.WQX)(c.abz);cdr=(0,c.WQX)(Ee.gRc);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,(0,P.mal)({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(F){this.cdr.markForCheck(),this.value=F;const fe=ji(this._getOptionId(F),F);this.setProperty("value",fe)}registerOnChange(F){this.onChange=te=>{this.value=this._getOptionValue(te),F(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(F){for(const te of this._optionMap.keys())if(this._compareWith(this._optionMap.get(te),F))return te;return null}_getOptionValue(F){const te=function is(U){return U.split(":")[0]}(F);return this._optionMap.has(te)?this._optionMap.get(te):F}static \u0275fac=(()=>{let F;return function(fe){return(F||(F=P.xGo(U)))(fe||U)}})();static \u0275dir=P.FsC({type:U,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(te,fe){1&te&&P.bIt("change",function(Lt){return fe.onChange(Lt.target.value)})("blur",function(){return fe.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[P.Jv_([Ji]),P.Vt3]})}return U})(),Rs=(()=>{class U{_element;_renderer;_select;id;constructor(F,te,fe){this._element=F,this._renderer=te,this._select=fe,this._select&&(this.id=this._select._registerOption())}set ngValue(F){null!=this._select&&(this._select._optionMap.set(this.id,F),this._setElementValue(ji(this.id,F)),this._select._writeValueAfterRender())}set value(F){this._setElementValue(F),this._select&&this._select._writeValueAfterRender()}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(te){return new(te||U)(P.rXU(P.aKT),P.rXU(P.sFG),P.rXU(Kn,9))};static \u0275dir=P.FsC({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return U})();const Ma={provide:nt,useExisting:(0,c.Rfq)(()=>vs),multi:!0};function fs(U,K){return null==U?`${K}`:("string"==typeof K&&(K=`'${K}'`),K&&"object"==typeof K&&(K="Object"),`${U}: ${K}`.slice(0,50))}let vs=(()=>{class U extends At{value;_optionMap=new Map;_idCounter=0;set compareWith(F){this._compareWith=F}_compareWith=Object.is;writeValue(F){let te;if(this.value=F,Array.isArray(F)){const fe=F.map(mt=>this._getOptionId(mt));te=(mt,Lt)=>{mt._setSelected(fe.indexOf(Lt.toString())>-1)}}else te=(fe,mt)=>{fe._setSelected(!1)};this._optionMap.forEach(te)}registerOnChange(F){this.onChange=te=>{const fe=[],mt=te.selectedOptions;if(void 0!==mt){const Lt=mt;for(let li=0;li<Lt.length;li++){const Ka=this._getOptionValue(Lt[li].value);fe.push(Ka)}}else{const Lt=te.options;for(let li=0;li<Lt.length;li++){const un=Lt[li];if(un.selected){const Ka=this._getOptionValue(un.value);fe.push(Ka)}}}this.value=fe,F(fe)}}_registerOption(F){const te=(this._idCounter++).toString();return this._optionMap.set(te,F),te}_getOptionId(F){for(const te of this._optionMap.keys())if(this._compareWith(this._optionMap.get(te)._value,F))return te;return null}_getOptionValue(F){const te=function Ls(U){return U.split(":")[0]}(F);return this._optionMap.has(te)?this._optionMap.get(te)._value:F}static \u0275fac=(()=>{let F;return function(fe){return(F||(F=P.xGo(U)))(fe||U)}})();static \u0275dir=P.FsC({type:U,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(te,fe){1&te&&P.bIt("change",function(Lt){return fe.onChange(Lt.target)})("blur",function(){return fe.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[P.Jv_([Ma]),P.Vt3]})}return U})(),or=(()=>{class U{_element;_renderer;_select;id;_value;constructor(F,te,fe){this._element=F,this._renderer=te,this._select=fe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(F){null!=this._select&&(this._value=F,this._setElementValue(fs(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._select?(this._value=F,this._setElementValue(fs(this.id,F)),this._select.writeValue(this._select.value)):this._setElementValue(F)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}_setSelected(F){this._renderer.setProperty(this._element.nativeElement,"selected",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(te){return new(te||U)(P.rXU(P.aKT),P.rXU(P.sFG),P.rXU(vs,9))};static \u0275dir=P.FsC({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return U})();function Kr(U){return"number"==typeof U?U:parseFloat(U)}let ns=(()=>{class U{_validator=Ht;_onChange;_enabled;ngOnChanges(F){if(this.inputName in F){const te=this.normalizeInput(F[this.inputName].currentValue);this._enabled=this.enabled(te),this._validator=this._enabled?this.createValidator(te):Ht,this._onChange&&this._onChange()}}validate(F){return this._validator(F)}registerOnValidatorChange(F){this._onChange=F}enabled(F){return null!=F}static \u0275fac=function(te){return new(te||U)};static \u0275dir=P.FsC({type:U,features:[P.OA$]})}return U})();const lr={provide:it,useExisting:(0,c.Rfq)(()=>Go),multi:!0};let Go=(()=>{class U extends ns{max;inputName="max";normalizeInput=F=>Kr(F);createValidator=F=>Ve(F);static \u0275fac=(()=>{let F;return function(fe){return(F||(F=P.xGo(U)))(fe||U)}})();static \u0275dir=P.FsC({type:U,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(te,fe){2&te&&P.BMQ("max",fe._enabled?fe.max:null)},inputs:{max:"max"},standalone:!1,features:[P.Jv_([lr]),P.Vt3]})}return U})();const Fu={provide:it,useExisting:(0,c.Rfq)(()=>$r),multi:!0};let $r=(()=>{class U extends ns{min;inputName="min";normalizeInput=F=>Kr(F);createValidator=F=>we(F);static \u0275fac=(()=>{let F;return function(fe){return(F||(F=P.xGo(U)))(fe||U)}})();static \u0275dir=P.FsC({type:U,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(te,fe){2&te&&P.BMQ("min",fe._enabled?fe.min:null)},inputs:{min:"min"},standalone:!1,features:[P.Jv_([Fu]),P.Vt3]})}return U})();const Jl={provide:it,useExisting:(0,c.Rfq)(()=>cr),multi:!0};let cr=(()=>{class U extends ns{required;inputName="required";normalizeInput=Ee.L39;createValidator=F=>Fe;enabled(F){return F}static \u0275fac=(()=>{let F;return function(fe){return(F||(F=P.xGo(U)))(fe||U)}})();static \u0275dir=P.FsC({type:U,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(te,fe){2&te&&P.BMQ("required",fe._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[P.Jv_([Jl]),P.Vt3]})}return U})(),as=(()=>{class U{static \u0275fac=function(te){return new(te||U)};static \u0275mod=P.$C({type:U});static \u0275inj=c.G2t({})}return U})(),Uu=(()=>{class U{static withConfig(F){return{ngModule:U,providers:[{provide:mn,useValue:F.callSetDisabledState??tn}]}}static \u0275fac=function(te){return new(te||U)};static \u0275mod=P.$C({type:U});static \u0275inj=c.G2t({imports:[as]})}return U})(),ql=(()=>{class U{static withConfig(F){return{ngModule:U,providers:[{provide:he,useValue:F.warnOnNgModelWithFormControl??"always"},{provide:mn,useValue:F.callSetDisabledState??tn}]}}static \u0275fac=function(te){return new(te||U)};static \u0275mod=P.$C({type:U});static \u0275inj=c.G2t({imports:[as]})}return U})()},75152(O,S,i){i.d(S,{A:()=>A});var P=i(26509);const A=function c(_){var v=new _.constructor(_.byteLength);return new P.A(v).set(new P.A(_)),v}},75182(O,S,i){i.d(S,{j:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dragonfly";tier=4;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DragonflyAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,n=this.level,a=t.parent.petArray.filter(r=>r&&r.alive&&r!==t),o=new Map;for(const r of a)o.has(r.level)||o.set(r.level,r);if(0!==o.size){for(const r of o.values())r.increaseAttack(n),r.increaseHealth(n);this.logService.createLog({message:`${t.name} gave friends +${n}/+${n} based on unique levels.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},75191(O,S,i){i.d(S,{w:()=>e});var P=i(49230),c=i(46200),A=i(5615),_=i(33127),v=i(57235);class e extends c.i{logService;abilityService;name="Patagonian Mara";tier=3;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends A.T{logService;constructor(a,o){super({name:"Patagonian Mara Ability",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=o}executeAbility(a){const{tiger:o,pteranodon:r}=a,d=this.owner,g=d.parent,f=4*this.level;g.gainTrumpets(f,d,r);const D=_.I.getInjector().get(P.K),k=new v.K(this.logService,D,g,this.level,this.level);g.summonPet(k,d.position),this.logService.createLog({message:`${d.name} gained ${f} trumpets and summoned a Golden Retriever.`,type:"ability",player:g,tiger:o,pteranodon:r}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},75263(O,S,i){i.d(S,{B:()=>c});var P=i(22097);class c extends P.${name="Ambrosia";tier=4;equipmentClass="shield";power=8;originalPower=8;uses=1;originalUses=1}},75518(O,S,i){i.d(S,{j:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Saker Falcon";tier=2;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SakerFalconAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;if(r.parent.petArray.length<r.parent.opponent.petArray.length){let f=r.parent.getThis(r),D=f.pet;if(!D)return;let k=2*this.level;D.increaseAttack(k),D.increaseHealth(k),this.logService.createLog({message:`${r.name} gave ${D.name} ${k} attack and ${k} health (outnumbered)`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},75540(O,S,i){i.d(S,{P:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Starfish";tier=5;pack="Star";attack=3;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"StarfishAbility",owner:e,triggers:["FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=e.triggerPet;if(!n||3!==n.level)return void this.triggerTigerExecution(e);const a=n.attack>=10?3:1,o=this.level*a,r=t.parent.petArray.filter(d=>d.alive);for(const d of r)d.increaseAttack(o),d.increaseHealth(o);this.logService.createLog({message:`${t.name} gave friends +${o}/+${o}${a>1?" (triple bonus)":""}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},75738(O,S,i){i.d(S,{A:()=>v});var P=i(77107),A=Object.prototype.hasOwnProperty;const v=function _(e){var t=this.__data__;return P.A?void 0!==t[e]:A.call(t,e)}},75756(O,S,i){i.d(S,{A:()=>_});var P=i(45525),c=i(1860);const _=(0,P.A)(c.A,"WeakMap")},75818(O,S,i){i.d(S,{V:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Hamster";tier=5;pack="Star";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;constructor(e,t,n){super({name:"HamsterAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=2*this.level)return void this.triggerTigerExecution(e);this.usesThisTurn++;const n=this.owner;this.logService.createLog({message:`${n.name} gained a free roll.`,type:"ability",player:n.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},75898(O,S,i){i.d(S,{Q:()=>_});var P=i(22097),c=i(5615),A=i(3279);class _ extends P.${logService;name="Egg";tier=1;equipmentClass="beforeAttack";callback=t=>{const n=t.getEquippedEquipmentInstance(this);t.addAbility(new v(t,n))};constructor(t){super(),this.logService=t}}class v extends c.T{equipment;constructor(t,n){super({name:"EggAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=n}executeAbility(t){const{triggerPet:n}=t,a=this.owner;let o=this.equipment.multiplier;a instanceof A.D&&(o+=("Tiger"===n?.name?n.level:a.level)-1);for(let r=0;r<o;r++){let d=a.parent.opponent.petArray,g=null;for(let f of d)if(f.alive){g=f;break}null!=g&&a.snipePet(g,2,!1,!1,!1,!0,!1)}a.removePerk()}}},75970(O,S,i){i.d(S,{AT:()=>e,DQ:()=>t,Rd:()=>v,zq:()=>n});var P=i(61850),c=i(33524),A=i(33500),_=i(58857);const v=(a,o,r,d,g,f,D,k)=>{if(g&&(0,c.ku)(g)){const q=0===(0,_.k6)({key:"summon.silly-target-team",label:"Silly summon target team",options:[{id:"player",label:"Player team"},{id:"opponent",label:"Opponent team"}]},()=>(0,P.hw)(0,1)).index?a:a.opponent,Q=(0,_.k6)({key:"summon.silly-position",label:"Silly summon position",options:[0,1,2,3,4].map(H=>({id:`slot-${H+1}`,label:`Slot ${H+1}`}))},()=>(0,P.hw)(0,4)).index;return o.parent=q,{success:v(q,o,Q,d,void 0,f,D,k).success,randomEvent:!0}}return r<0||r>4?(d||f.createLog({message:`No room to spawn ${o.name}!`,type:"ability",player:a}),{success:!1,randomEvent:!1}):d&&null!=a.getPet(r)?{success:!1,randomEvent:!1}:5===a.petArray.length?(d||f.createLog({message:`No room to spawn ${o.name}!`,type:"ability",player:a}),{success:!1,randomEvent:!1}):(a===k.gameApi.player?k.gameApi.playerSummonedAmount++:k.gameApi.opponentSummonedAmount++,0===r&&(null!=a.pet0&&(0,A.vI)(a,0),a.setPet(0,o)),1===r&&(null!=a.pet1&&(0,A.vI)(a,1),a.setPet(1,o)),2===r&&(null!=a.pet2&&(0,A.vI)(a,2),a.setPet(2,o)),3===r&&(null!=a.pet3&&(0,A.vI)(a,3),a.setPet(3,o)),4===r&&(null!=a.pet4&&(0,A.vI)(a,4),a.setPet(4,o)),D.triggerSummonEvents(o),{success:!0,randomEvent:!1})},e=(a,o,r,d,g)=>{const f=o?.parent??a;r.parent!==f&&(r.parent=f),f.setPet((()=>{for(let N=0;N<=4;N++)if(f.getPet(N)===o)return N;if(o?.transformedInto)for(let N=0;N<=4;N++)if(f.getPet(N)===o.transformedInto)return N;const L=Number(o?.savedPosition);if(Number.isInteger(L)&&L>=0&&L<=4)return L;for(let N=0;N<=4;N++)if(null==f.getPet(N))return N;return 0})(),r),f===g.gameApi.player?g.gameApi.playerTransformationAmount++:g.gameApi.opponentTransformationAmount++,o.transformed=!0,o.transformedInto=r,r.applyEquipment(r.equipment),d.triggerTransformEvents(o)},t=(a,o,r,d,g,f)=>{if(5===a.petArray.length)return d.createLog({message:`No room to spawn ${r.name}!`,type:"ability",player:a}),{success:!1,randomEvent:!1};let D=!1;for(let N=0;N<o.position;N++)if(null==a.getPet(N)){D=!0;break}if(D)return v(a,r,o.position-1,!1,o,d,g,f);const k=o.position,L=Math.min(k+1,4);return o.parent.setPet(k,null),null!=a.getPet(L)&&(0,A.Kw)(a,L),a.setPet(L,o),v(a,r,k,!1,o,d,g,f)},n=(a,o,r,d,g,f)=>{if(5===a.petArray.length)return d.createLog({message:`No room to spawn ${r.name}!`,type:"ability",player:a}),{success:!1,randomEvent:!1};let D=!1;for(let k=0;k<o.position;k++)if(null==a.getPet(k)){D=!0;break}if(D){const k=o.position;o.parent.setPet(k,null);const L=Math.max(k-1,0);return null!=a.getPet(L)&&(0,A.m3)(a,L),a.setPet(L,o),v(a,r,o.position+1,!1,o,d,g,f)}return v(a,r,o.position+1,!1,o,d,g,f)}},75998(O,S,i){i.d(S,{t:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Marmoset";tier=1;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MarmosetAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} was sold and your ${1===n?"next roll is":`next ${n} rolls are`} free.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},76030(O,S,i){i.d(S,{w:()=>c});var P=i(22097);class c extends P.${equipmentClass="defense";name="Lime";tier=2;power=1;originalPower=1;callback=_=>{}}},76032(O,S,i){i.d(S,{G:()=>v,Y:()=>e});var P=i(57488),c=i(19058),A=i(50873),_=i(5615);class v extends A.L{name="Toilet Paper";tier=4;startOfBattle(n,a){let r=(0,P.a)(n,this.parent).petArray.filter(d=>"Weak"!=d.equipment?.name).slice(0,this.level);for(let d of r)d.givePetEquipment(new c.l),this.logService.createLog({message:`${this.name} gave ${d.name} Weak.`,type:"ability",player:this.parent,puma:a})}}class e extends _.T{logService;constructor(n,a){super({name:"ToiletPaperAbility",owner:n,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{tiger:r}=n,g=this.owner;let f=g.parent.opponent,D=g.parent.getPetsWithEquipmentWithSillyFallback("Weak",g),k=f.getFurthestUpPets(this.level,D,g),L=k.pets;if(0!=L.length){for(let N of L)N.givePetEquipment(new c.l),this.logService.createLog({message:`${g.name} gave ${N.name} Weak.`,type:"ability",player:g.parent,tiger:r,randomEvent:k.random});this.triggerTigerExecution(n)}}copy(n){return new e(n,this.logService)}}},76228(O,S,i){i.d(S,{q:()=>c});let P=(()=>{class A{constructor(v,e=A.now){this.SchedulerAction=v,this.now=e}schedule(v,e=0,t){return new this.SchedulerAction(this,v).schedule(t,e)}}return A.now=()=>Date.now(),A})();class c extends P{constructor(_,v=P.now){super(_,()=>c.delegate&&c.delegate!==this?c.delegate.now():v()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(_,v=0,e){return c.delegate&&c.delegate!==this?c.delegate.schedule(_,v,e):super.schedule(_,v,e)}flush(_){const{actions:v}=this;if(this.active)return void v.push(_);let e;this.active=!0;do{if(e=_.execute(_.state,_.delay))break}while(_=v.shift());if(this.active=!1,e){for(;_=v.shift();)_.unsubscribe();throw e}}}},76282(O,S,i){i.d(S,{a:()=>c});var P=i(22097);class c extends P.${name="Blackberry";tier=3;equipmentClass="shop";constructor(){super()}}},76325(O,S,i){i.d(S,{W:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Drop Bear";tier=2;pack="Unicorn";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DropBearAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null==this.owner.parent.pet0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;this.logService.createLog({message:`${r.name} pushed itself to the front.`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),r.parent.pushPetToFront(r,!0);let d=3*this.level,g=r.parent.opponent.getLastPet();null!=g.pet&&(r.snipePet(g.pet,d,g.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},76350(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Amazon River Dolphin";tier=4;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AmazonRiverDolphinAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let d=r.parent.getSpecificPet(r,n.currentTarget),g=d.pet;if(g&&g.alive)r.snipePet(g,3*this.level,d.random,a);else{let f=r.parent.getThis(r),D=f.pet;if(!D)return;let k=3*this.level;D.increaseAttack(k),this.logService.createLog({message:`${r.name} gave ${D.name} ${k} attack`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},76351(O,S,i){i.d(S,{ZM:()=>a,eK:()=>n,gq:()=>t,rd:()=>o});var P=i(46200),c=i(57235),A=i(33524),_=i(75970),v=i(58857),e=i(61850);const t=(r,d)=>d&&(0,A.ku)(d)?{player:0===(0,v.k6)({key:"trumpets.silly-target-team",label:"Silly trumpet target team",options:[{id:"player",label:"Player team"},{id:"opponent",label:"Opponent team"}]},()=>(0,e.hw)(0,1)).index?r:r.opponent,random:!0}:{player:r,random:!1},n=(r,d,g,f,D,k,L,N)=>{r.trumpets=Math.min(50,r.trumpets+=d);let ne=g instanceof P.i&&null!=g.parent&&g.parent!==r?`${g.name} gave opponent ${d} trumpets. (${r.trumpets})`:`${g.name} gained ${d} trumpets. (${r.trumpets})`;L&&(ne+=" (Cherry)"),f.createLog({message:ne,type:"trumpets",player:r,pteranodon:D,pantherMultiplier:k,randomEvent:N})},a=(r,d,g,f,D)=>{r.trumpets=Math.max(0,r.trumpets-=d),f.createLog({message:`${g.name} spent ${d} trumpets. (${r.trumpets})`,type:"trumpets",player:r,pteranodon:D})},o=(r,d,g,f)=>{r.spawnedGoldenRetiever||r.petArray.length>1||0===r.trumpets||(d.setgoldenRetrieverSummonsEvent({priority:0,callback:(D,k,L)=>{const N=new c.K(g,d,r,r.trumpets,r.trumpets);g.createLog({message:`${r===k.player?"Player":"Opponent"} spawned Golden Retriever (${N.attack}/${N.health})`,type:"ability",player:r}),(0,_.Rd)(r,N,0,!1,void 0,g,d,f),r.trumpets=0}}),r.spawnedGoldenRetiever=!0)}},76413(O,S,i){i.d(S,{n:()=>Ht});var P=i(25479),c=i(1277),A=i(7390),_=i(92495),v=i(42727),e=i(96849),t=i(68169),n=i(25208),a=i(86610),o=i(87942),r=i(14218),d=i(86589),g=i(44870),f=i(6300),D=i(77262),k=i(97265),L=i(71322),N=i(9292),q=i(86909),ne=i(70458),Q=i(95770),$=i(3273),H=i(34748),ae=i(81740),re=i(84375),_e=i(36578),be=i(87970),Ee=i(61245),ke=i(66358),de=i(62023),Te=i(60397),Ne=i(30639),Ge=i(67013),Ie=i(81946),gt=i(89579),pt=i(49943),We=i(60190),tt=i(6425),At=i(52573),nt=i(97280),et=i(55541),Dt=i(91298),ct=i(79720),vt=i(94433),rt=i(36509),He=i(2525),kt=i(86249),Xt=i(6050),it=i(67319),$t=i(76638),Et=i(39830),ge=i(65679),we=i(92244),Ve=i(74384),Fe=i(28805),ot=i(23360),Bt=i(63198),Rt=i(21311),qt=i(18779),zt=i(67902);const Ht={Ant:P.w,Cricket:c.y,Fish:A.T,Horse:_.W,Mosquito:v.w,Duck:e.e,Beaver:t.E,Otter:n.p,Pig:a.r,Pigeon:o.H,Snail:r.w,Crab:d.B,Swan:g.m,Rat:f.Y,Hedgehog:D.O,Peacock:k.z,Flamingo:L.g,Worm:N.C,Kangaroo:q.$,Spider:ne.c,Dodo:Q.F,Badger:$.o,Dolphin:H.V,Giraffe:ae.P,Elephant:re.C,Camel:_e.v,Rabbit:be.Z,Ox:Ee.Ox,Dog:ke.J,Sheep:de.c,Parrot:Te.f,Skunk:Ne.b,Hippo:Ge.P,Bison:Ie.q,Blowfish:gt.d,Turtle:pt.b,Squirrel:We.o,Penguin:tt.K,Deer:At.N,Whale:nt.Uw,Scorpion:et.G,Crocodile:Dt.J,Rhino:ct.M,Monkey:vt.P,Armadillo:rt.y,Cow:He._,Seal:kt.Q,Rooster:Xt.p,Shark:it.S,Turkey:$t.z,Leopard:Et.U,Boar:ge.v,Tiger:we._,Wolverine:Ve.Y,Gorilla:Fe.x,Dragon:ot.A,Mammoth:Bt.G,Cat:Rt.F,Snake:qt.Z,Fly:zt.S}},76483(O,S,i){i.d(S,{e:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Crow";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"CrowAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked one ${1===this.level?"Chocolate":2===this.level?"Better Chocolate":"Best Chocolate"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},76563(O,S,i){i.d(S,{V:()=>v});var P=i(46200),c=i(68169),A=i(96849),_=i(5615);class v extends P.i{logService;abilityService;name="Platypus";tier=4;pack="Star";attack=2;health=2;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends _.T{logService;abilityService;constructor(n,a,o){super({name:"PlatypusAbility",owner:n,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=o}executeAbility(n){const{tiger:r,pteranodon:d}=n,g=this.owner;let f=3*this.level,D=2*this.level,k=new A.e(this.logService,this.abilityService,g.parent,D,f,0,this.minExpForLevel),L=new c.E(this.logService,this.abilityService,g.parent,D,f,0,this.minExpForLevel),N=g.parent.summonPet(k,g.savedPosition,!1,g);N.success&&this.logService.createLog({message:`${g.name} spawned ${f}/${D} Duck level ${this.level}`,type:"ability",player:g.parent,tiger:r,pteranodon:d,randomEvent:N.randomEvent});let q=g.parent.summonPet(L,g.savedPosition,!1,g);q.success&&this.logService.createLog({message:`${g.name} spawned ${f}/${D} Beaver level ${this.level}`,type:"ability",player:g.parent,tiger:r,pteranodon:d,randomEvent:q.randomEvent}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},76638(O,S,i){i.d(S,{z:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Turkey";tier=5;pack="Turtle";attack=3;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"TurkeyAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o,pteranodon:r}=t,d=this.owner,g={attack:3*this.level,health:1*this.level},f=(0,A.Uj)(d,a);if(!f.pet)return;const D=f.pet;D.increaseAttack(g.attack),D.increaseHealth(g.health),(0,A.rv)(this.logService,d,`${d.name} gave ${D.name} ${g.attack} attack and ${g.health} health.`,o,r,{randomEvent:f.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},77107(O,S,i){i.d(S,{A:()=>A});const A=(0,i(45525).A)(Object,"create")},77226(O,S,i){i.d(S,{K:()=>_,w:()=>A});var P=i(50873),c=i(5615);class A extends P.L{name="Oven Mitts";tier=4;onBreak(e){}}class _ extends c.T{logService;constructor(e,t){super({name:"OvenMittsAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){}copy(e){return new _(e,this.logService)}}},77262(O,S,i){i.d(S,{O:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Hedgehog";tier=2;pack="Turtle";attack=4;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HedgehogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.getAll(!0,r),g=d.pets;if(0==g.length)return;let f=2*this.level;for(let D of g)r.snipePet(D,f,d.random,a,o);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},77312(O,S,i){i.d(S,{j:()=>A});var P=i(70762),c=i(31805);function A(e){return t=>t.lift(new _(e))}class _{constructor(t){this.callback=t}call(t,n){return n.subscribe(new v(t,this.callback))}}class v extends P.v{constructor(t,n){super(t),this.add(new c.y(n))}}},77348(O,S,i){i.d(S,{I:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Hermit Crab";tier=1;pack="Custom";attack=1;health=4;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},77392(O,S,i){i.d(S,{_:()=>_});var P=i(46200),c=i(5615),A=i(6550);class _ extends P.i{logService;abilityService;petService;name="Abomination";tier=4;pack="Unicorn";attack=6;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D,k,L,N,q,ne,Q,$,H,ae,re){super(t,n,o),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,d,g,D,k),this.abominationSwallowedPet1=L,this.abominationSwallowedPet2=N,this.abominationSwallowedPet3=q,this.abominationSwallowedPet1Level=ne??1,this.abominationSwallowedPet2Level=Q??1,this.abominationSwallowedPet3Level=$??1,this.abominationSwallowedPet1TimesHurt=H??0,this.abominationSwallowedPet2TimesHurt=ae??0,this.abominationSwallowedPet3TimesHurt=re??0}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"AbominationAbility",owner:t,triggers:["EndTurn","SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.petService=a}executeAbility(t){const{gameApi:n,triggerPet:a,tiger:o,pteranodon:r}=t,d=this.owner,g=this.level,f=Q=>{const $={};for(const H of A.uF){const ae=Q.nested(H),re=(0,A.AV)("parrotCopyPetAbominationSwallowedPet",H);$[re.base]=(0,A.yo)(d,ae.base,null),$[re.belugaSwallowedPet]=(0,A.yo)(d,ae.belugaSwallowedPet,null),$[re.sarcasticFringeheadSwallowedPet]=(0,A.yo)(d,ae.sarcasticFringeheadSwallowedPet,null),$[re.level]=(0,A.aA)(d,ae.level,1),$[re.timesHurt]=(0,A.aA)(d,ae.timesHurt,0)}return $},D=Q=>{const $={};for(const H of A.uF){const ae=(0,A.AV)("parrotCopyPetAbominationSwallowedPet",H);$[ae.base]=Q[ae.base]??void 0,$[ae.belugaSwallowedPet]=Q[ae.belugaSwallowedPet]??void 0,$[ae.sarcasticFringeheadSwallowedPet]=Q[ae.sarcasticFringeheadSwallowedPet]??void 0,$[ae.level]=Q[ae.level]??void 0,$[ae.timesHurt]=Q[ae.timesHurt]??void 0}return $},L=Q=>{(0,A.H6)(d,"parrotCopyPet",Q.parrotCopyPet??null),(0,A.H6)(d,"parrotCopyPetBelugaSwallowedPet",Q.parrotCopyPetBelugaSwallowedPet??null);for(const $ of A.uF){const H=(0,A.AV)("parrotCopyPetAbominationSwallowedPet",$);(0,A.H6)(d,H.base,(0,A.yo)(Q,H.base,null)),(0,A.H6)(d,H.belugaSwallowedPet,(0,A.yo)(Q,H.belugaSwallowedPet,null)),(0,A.H6)(d,H.sarcasticFringeheadSwallowedPet,(0,A.yo)(Q,H.sarcasticFringeheadSwallowedPet,null)),(0,A.Ls)(d,H.level,(0,A.aA)(Q,H.level,1)),(0,A.Ls)(d,H.timesHurt,(0,A.aA)(Q,H.timesHurt,0))}},q=A.uF.map(Q=>(Q=>{const $=(0,A.AV)("abominationSwallowedPet",Q);return{name:(0,A.yo)(d,$.base,null),level:(0,A.aA)(d,$.level,1),timesHurt:(0,A.aA)(d,$.timesHurt,0),belugaSwallowedPet:(0,A.yo)(d,$.belugaSwallowedPet,null),sarcasticFringeheadSwallowedPet:(0,A.yo)(d,$.sarcasticFringeheadSwallowedPet,null),parrotCopyPet:(0,A.yo)(d,$.parrotCopyPet,null),parrotCopyPetBelugaSwallowedPet:(0,A.yo)(d,$.parrotCopyPetBelugaSwallowedPet,null),...f($)}})(Q)).filter(Q=>null!=Q.name).slice(0,g);let ne=q;o&&q.length>0&&(ne=q.slice(0,1));for(let Q of ne){if(!Q.name)continue;const $=Q.name,H="Parrot"===$?D(Q):{},ae={attack:0,health:0,mana:0,equipment:null,name:$,exp:0,timesHurt:Q.timesHurt??0,belugaSwallowedPet:"Beluga Whale"===$?(0,A.yo)(Q,"belugaSwallowedPet",null)??void 0:void 0,sarcasticFringeheadSwallowedPet:"Sarcastic Fringehead"===$?(0,A.yo)(Q,"sarcasticFringeheadSwallowedPet",null)??void 0:void 0,parrotCopyPet:"Parrot"===$?(0,A.yo)(Q,"parrotCopyPet",null)??void 0:void 0,parrotCopyPetBelugaSwallowedPet:"Parrot"===$?(0,A.yo)(Q,"parrotCopyPetBelugaSwallowedPet",null)??void 0:void 0};Object.assign(ae,H);let re=this.petService.createPet(ae,d.parent);if(!re)continue;"Beluga Whale"===$&&(d.belugaSwallowedPet=Q.belugaSwallowedPet??null),"Sarcastic Fringehead"===$&&(d.sarcasticFringeheadSwallowedPet=Q.sarcasticFringeheadSwallowedPet??null),"Parrot"===$&&L(Q),d.removeAbility("AbominationAbility");const _e=d.abilityList.length;if(d.gainAbilities(re,"Pet",Q.level??1),"Parrot"===$){const be=d.abilityList.slice(_e).filter(Ee=>"ParrotAbility"===Ee.name);for(const Ee of be)Ee.execute(n,a,o,r)}}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.petService)}}},77437(O,S,i){i.d(S,{A:()=>c});const c=function P(A){var _=this.__data__,v=_.delete(A);return this.size=_.size,v}},77648(O,S,i){i.d(S,{a:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Black Rhino";tier=6;pack="Danger";attack=5;health=9;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BlackRhinoAbility",owner:e,triggers:["EnemyAttacked7"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let g=r.parent.opponent.getHighestHealthPets(r.level,[],r),f=g.pets;for(let D of f)r.snipePet(D,30,g.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},77856(O,S,i){i.d(S,{BR:()=>g,Ff:()=>r,IR:()=>d,WB:()=>f,dK:()=>a,oc:()=>o});var P=i(42280),c=i(61850),A=i(33524),_=i(58857);function e(D){return D?`${D.parent?.isOpponent?"O":"P"}${Number.isFinite(D.savedPosition)?D.savedPosition+1:0} ${D.name}`:"unknown caller"}function t(D){const k=D.some(N=>!N.parent?.isOpponent),L=D.some(N=>N.parent?.isOpponent);return k&&L?"both teams":L?"opponent team":"player team"}function n(D,k,L,N){if(0===L.length)return{pet:null,random:!1};const q=(0,_.k6)({key:D,label:`${e(N)} -> ${k} (${t(L)}, ${L.length} options)`,options:L.map(ne=>function v(D){const k=D.parent?.isOpponent?"opponent":"player",L=D.parent?.isOpponent?"O":"P",N=Number.isFinite(D.savedPosition)?D.savedPosition+1:0;return{id:`${k}:${N}:${D.name}`,label:`${L}${N} ${D.name}`}}(ne))},()=>(0,c.hw)(0,L.length-1));return{pet:L[q.index]??null,random:q.randomEvent}}const a=(D,k,L,N,q,ne,Q)=>{if(ne&&(0,A.ku)(ne)){const H=k?[...k]:[];return H.includes(ne)||H.push(ne),f(D,H,!0)}let $=Q?[...D.opponent.petArray,...D.petArray]:D.petArray;if(L&&N){const H=(0,A.Rr)(D,"Donut").filter(re=>!k?.includes(re)),ae=(0,A.Rr)(D,"Blueberry").filter(re=>!k?.includes(re));(H.length>0||ae.length>0)&&($=[...H,...ae])}else if(L){const H=(0,A.Rr)(D,"Donut").filter(ae=>!k?.includes(ae));H.length>0&&($=H),q&&($=$.filter(ae=>50!==ae.health||50!==ae.attack||ae.hasTrigger(void 0,"Pet","BehemothAbility")||ae.hasTrigger(void 0,"Pet","GiantTortoiseAbility")),0===$.length&&($=D.petArray))}else if(N){const H=(0,A.Rr)(D,"Blueberry").filter(ae=>!k?.includes(ae));H.length>0&&($=H)}if($=$.filter(H=>{let ae=!0;return k&&(ae=!k.includes(H)),ae&&H.health>0}),q){const H=(0,P.A)($);$=$.filter(ae=>50!==ae.health||50!==ae.attack),0===$.length&&($=H)}return 0===$.length?{pet:null,random:!1}:n("target.random-pet","Random pet target",$,ne)},o=(D,k,L,N,q,ne,Q)=>{if(ne&&(0,A.ku)(ne)){const re=L?[...L]:[];return re.includes(ne)||re.push(ne),g(D,k,!0,re)}const $=[],H=L??[];let ae=!0;for(let re=0;re<k;re++){const _e=a(D,H,N,q,void 0,ne,Q);if(ae=_e.random,null==_e.pet)break;H.push(_e.pet),$.push(_e.pet)}return{pets:$,random:ae}},r=(D,k,L,N,q,ne)=>{if(ne&&(0,A.ku)(ne)){const Q=L?[...L]:[];return Q.includes(ne)||Q.push(ne),o(D,k,Q,N,q,void 0,!0)}return o(D.opponent,k,L,N,q,ne)},d=(D,k,L)=>L&&(0,A.ku)(L)?[...(0,A.Rr)(D,k),...(0,A.Rr)(D.opponent,k)]:(0,A.Rr)(D.opponent,k),g=(D,k,L=!1,N)=>{const q=[],ne=N?[...N]:[],$=(H=>{let ae=[...D.petArray,...D.opponent.petArray];if(!L){const re=(0,A.Rr)(D,"Donut").filter(ke=>!H?.includes(ke)),_e=(0,A.Rr)(D,"Blueberry").filter(ke=>!H?.includes(ke)),be=(0,A.Rr)(D.opponent,"Donut").filter(ke=>!H?.includes(ke)),Ee=(0,A.Rr)(D.opponent,"Blueberry").filter(ke=>!H?.includes(ke));(re.length>0||_e.length>0||be.length>0||Ee.length>0)&&(ae=[...re,..._e,...be,...Ee])}return ae.filter(re=>{let _e=!0;return H&&(_e=!H.includes(re)),_e&&re.health>0})})(ne).length;for(let H=0;H<k;H++){const ae=f(D,ne,L);if(null==ae.pet)break;ne.push(ae.pet),q.push(ae.pet)}return{pets:q,random:$>q.length}},f=(D,k,L=!1)=>{let N=[...D.opponent.petArray,...D.petArray];if(!L){const q=(0,A.Rr)(D,"Donut").filter(H=>!k?.includes(H)),ne=(0,A.Rr)(D,"Blueberry").filter(H=>!k?.includes(H)),Q=(0,A.Rr)(D.opponent,"Donut").filter(H=>!k?.includes(H)),$=(0,A.Rr)(D.opponent,"Blueberry").filter(H=>!k?.includes(H));(q.length>0||ne.length>0||Q.length>0||$.length>0)&&(N=[...Q,...$,...q,...ne])}return N=N.filter(q=>{let ne=!0;return k&&(ne=!k.includes(q)),ne&&q.health>0}),0===N.length?{pet:null,random:!1}:n("target.random-living-pet","Random living pet target",N,void 0)}},77901(O,S,i){i.d(S,{A:()=>_});var P=i(30554),c=Object.create;const _=function(){function v(){}return function(e){if(!(0,P.A)(e))return{};if(c)return c(e);v.prototype=e;var t=new v;return v.prototype=void 0,t}}()},78167(O,S,i){i.d(S,{m:()=>A});var P=i(55241);function A(_){return 0===_.length?P.D:1===_.length?_[0]:function(e){return _.reduce((t,n)=>n(t),e)}}},78229(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Goldfish";tier=2;pack="Puppy";attack=1;health=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GoldfishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;t.increaseSellValue(this.level),this.logService.createLog({message:`${t.name} increased its sell value by ${this.level}.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},78257(O,S,i){i.d(S,{A:()=>_});var P=i(45525),c=i(1860);const _=(0,P.A)(c.A,"DataView")},78305(O,S,i){i.d(S,{A:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pixiu";tier=5;pack="Unicorn";attack=5;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PixiuAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;r.mana<4||(this.logService.createLog({message:`${r.name} spent 4 mana and gained ${3*this.level} gold for next turn.`,type:"ability",player:r.parent,tiger:a}),r.mana-=4,this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},78311(O,S,i){i.d(S,{n:()=>c});var P=i(62223);function c(_,v,e,t){let n="";_.toy&&(n+=`{{toy:${_.toy.name}}} `),_.hardToy&&(n+=`{{hardtoy:${_.hardToy.name}}} `),n+=A(_.pet4,e,t),n+=A(_.pet3,e,t),n+=A(_.pet2,e,t),n+=A(_.pet1,e,t),n+=A(_.pet0,e,t);let a="";return a+=A(v.pet0,e,t),a+=A(v.pet1,e,t),a+=A(v.pet2,e,t),a+=A(v.pet3,e,t),a+=A(v.pet4,e,t),v.toy&&(a+=`{{toy:${v.toy.name}}} `),v.hardToy&&(a+=`{{hardtoy:${v.hardToy.name}}} `),`${n}| ${a}`}function A(_,v,e){if(null==_)return"___ (-/-) ";const t=v(_),n=null!=t?`${_.parent?.isOpponent?"O":"P"}${t} `:"",a=(0,P.EA)(_.name),o=a?`<img src="${a}" class="log-pet-icon" alt="${_.name}">`:"",r="string"==typeof _.equipment?.name?_.equipment.name:null,d=r?(()=>{const D=e(r),k=(0,P.ht)(r,D)??(0,P.ht)(r,!D);if(!k)return"";const L=(0,P.ht)(r,!D);return`<img src="${k}" class="log-inline-icon" alt="${r}" onerror="if(!this.dataset.step){${L?`this.dataset.step='1';this.src='${L}';`:"this.dataset.step='1';"}return;}this.remove()">`})():"",g=Number.isFinite(_.mana)?Math.max(0,Math.trunc(_.mana)):0;return`${n}${o}${d}(${_.attack}/${_.health}/${_.exp}xp${g>0?`/${g}mana`:""}) `}},78435(O,S,i){i.d(S,{M:()=>A});var P=i(48576),c=i(50873);class A extends c.L{name="Onesie";tier=1;startOfBattle(v,e){const t=[];for(let n=0;n<2;n++){const a=this.parent.getRandomPet(t);if(!a.pet)return;t.push(a.pet),a.pet.givePetEquipment(new P.b),this.logService.createLog({message:`${this.name} gave ${a.pet.name} Cold.`,type:"ability",player:this.parent,puma:e,randomEvent:a.random})}}}},78440(O,S,i){i.d(S,{r:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Cone Snail";tier=1;pack="Golden";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ConeSnailAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.nearestPetsBehind(1,r);if(0===d.pets.length)return;let g=d.pets[0],f=2*this.level;g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},78477(O,S,i){i.d(S,{u:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Adult Flounder";tier=1;pack="Custom";hidden=!0;attack=2;health=4;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},78480(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pengobble";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PengobbleAbility",owner:e,triggers:["ThisGainedMana"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,d=2*this.level;let g=r.parent.getThis(r),f=g.pet;null!=f&&(this.logService.createLog({message:`${r.name} gave ${f.name} an extra ${d} bonus mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),r.mana+=d,this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},78500(O,S,i){i.d(S,{c:()=>v});var P=i(46200),c=i(5615),A=i(56979),_=i(17385);class v extends P.i{logService;abilityService;name="Pangasius";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"Pangasius Ability",owner:n,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:o=>this.executeAbility(o)}),this.logService=a}executeAbility(n){const{tiger:a,pteranodon:o}=n,r=this.owner,d=this.getFriendWithAilment(r.parent),g=this.getFirstEnemy(r.parent.opponent);if(!g)return void this.triggerTigerExecution(n);const f=this.level,D=d?.equipment??new A.E,k=(0,_.e)(D);if(!k)return void this.triggerTigerExecution(n);f>1&&(k.multiplier=f,k.multiplierMessage=` x${f} (Pangasius)`),g.givePetEquipment(k);const L=["copied","copied with double effect","copied with triple effect"],N=L[Math.min(f,L.length)-1];this.logService.createLog({message:`${r.name} ${N} ${d?`${d.name}'s ${D?.name}`:D?.name} onto ${g.name}.`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(n)}getFriendWithAilment(n){return n.petArray.filter(o=>o.alive&&o.equipment&&this.isAilmentEquipment(o.equipment)).sort((o,r)=>o.position-r.position)[0]??null}getFirstEnemy(n){return n.petArray.find(a=>a.alive)??null}isAilmentEquipment(n){return"ailment-attack"===n.equipmentClass||"ailment-defense"===n.equipmentClass||"ailment-other"===n.equipmentClass}copy(n){return new e(n,this.logService)}}},78708(O,S,i){i.d(S,{u:()=>A,y:()=>_});var P=i(50873),c=i(5615);class A extends P.L{name="Crystal Ball";tier=1;startOfBattle(e,t){let n=this.parent.petArray[0];null!=n&&(this.logService.createLog({message:`${this.name} gave ${n.name} ${this.level} mana.`,type:"ability",player:this.parent,puma:t,randomEvent:!1}),n.increaseMana(this.level))}}class _ extends c.T{logService;constructor(e,t){super({name:"CrystalBallAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getFurthestUpPet(r),g=d.pet;if(null==g)return;let f=2*this.level;g.increaseMana(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},78833(O,S,i){i.d(S,{A_:()=>a,JX:()=>t,Kq:()=>e,YW:()=>o});var P=i(6550);const e=(()=>{const r=["parrotCopyPet","parrotCopyPetBelugaSwallowedPet"];for(const d of P.uF){const g=(0,P.AV)("parrotCopyPetAbominationSwallowedPet",d);r.push(g.base,g.belugaSwallowedPet,g.sarcasticFringeheadSwallowedPet,g.level,g.timesHurt,g.parrotCopyPet,g.parrotCopyPetBelugaSwallowedPet);for(const f of P.uF){const D=g.nested(f);r.push(D.base,D.belugaSwallowedPet,D.sarcasticFringeheadSwallowedPet,D.level,D.timesHurt)}}return r})(),t=(()=>{const r=[];for(const d of P.uF){const g=(0,P.AV)("abominationSwallowedPet",d);r.push(g.belugaSwallowedPet,g.sarcasticFringeheadSwallowedPet,g.parrotCopyPet,g.parrotCopyPetBelugaSwallowedPet);for(const f of P.uF){const D=g.nested(f);r.push(D.base,D.belugaSwallowedPet,D.sarcasticFringeheadSwallowedPet,D.level,D.timesHurt)}}return r})(),n=(r,d)=>{if(null==d||"string"==typeof d&&""===d.trim())return!1;const g=String(r);if(g.endsWith("Level")){const f="number"==typeof d?d:Number(d);return!!Number.isFinite(f)&&1!==f}if(g.endsWith("TimesHurt")){const f="number"==typeof d?d:Number(d);return!!Number.isFinite(f)&&0!==f}return!0};function a(r,d){const g=r;for(const f of d){const D=g[String(f)];if(n(f,D))return!0}return!1}function o(r,d,g){const f=d,D=r;for(const k of g){const L=String(k),N=f[L];if(null!=N){D[L]=N;continue}const q=L;D[L]=q.endsWith("Level")?1:q.endsWith("TimesHurt")?0:null}}},78848(O,S,i){i.d(S,{F:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Trout";tier=4;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Trout Ability",owner:e,triggers:["FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=e.triggerPet;if(!n||n.sellValue<3)return void this.triggerTigerExecution(e);const a=Math.max(1,this.level),o=2*a;t.increaseAttack(a),t.increaseHealth(o),this.logService.createLog({message:`${t.name} gained +${a}/+${o} after ${n.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},79099(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Jellyfish";tier=2;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"JellyfishAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getThis(r),g=d.pet;if(null==g)return;let f=this.level;g.increaseAttack(f),g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} attack by ${f} and health by ${f}`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},79222(O,S,i){function P(A,_,v){const e=`${_??""}`.trim()||"Random event",t=Number.isFinite(v)&&Number(v)>0?` ${Math.trunc(Number(v))}`:"";if(!A)return`${e}${t}`;const a=A.savedPosition??A.position??Number.NaN;return`(${A.parent?.isOpponent?"O":"P"}${Number.isFinite(a)?Math.trunc(a)+1:0}) ${e}${t}`}function c(A,_,v,e){const t=`${_??""}`.trim()||"Equipment",n=`${v??""}`.trim()||"random event",a=Number.isFinite(e)&&Number(e)>0?` ${Math.trunc(Number(e))}`:"";if(!A)return`${t} ${n}${a}`;const r=A.savedPosition??A.position??Number.NaN;return`(${A.parent?.isOpponent?"O":"P"}${Number.isFinite(r)?Math.trunc(r)+1:0}) ${t} (${`${A.name??""}`.trim()||"Unknown"}) ${n}${a}`}i.d(S,{I:()=>P,R:()=>c})},79257(O,S,i){i.d(S,{r:()=>_});var P=i(22097),c=i(5615),A=i(7390);class _ extends P.${logService;abilityService;name="Cod Roe";equipmentClass="afterFaint";callback=t=>{const n=t.getEquippedEquipmentInstance(this);t.addAbility(new v(t,n,this.logService,this.abilityService))};constructor(t,n){super(),this.logService=t,this.abilityService=n}}class v extends c.T{equipment;logService;abilityService;constructor(t,n,a,o){super({name:"CodRoeAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=n,this.logService=a,this.abilityService=o}executeAbility(t){const n=this.owner;for(let a=0;a<this.equipment.multiplier;a++){let o=new A.T(this.logService,this.abilityService,n.parent,3,2,0,0);n.parent.summonPet(o,n.savedPosition).success&&this.logService.createLog({message:`${n.name} spawned ${o.name} (Cod Roe)${a>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:n.parent})}}}},79323(O,S,i){i.d(S,{k:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Leafy Sea Dragon";tier=4;pack="Custom";attack=7;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Leafy Sea Dragon Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=this.level,d=(0,A.MZ)(o);d.forEach(f=>{f.increaseExp(r)}),o.health=0,o.parent.handleDeath(o),o.parent.removeDeadPets(),(0,A.rv)(this.logService,o,`${o.name} gave ${d.length} adjacent friend${1===d.length?"":"s"} +${r} experience and removed itself.`,n,a),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},79340(O,S,i){i.d(S,{M:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Yellow Boxfish";tier=6;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"YellowBoxfishAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent.getAll(!0,a).pets.filter(f=>f&&f.alive&&f!==a);if(0===o.length)return void this.triggerTigerExecution(e);const d=[...o].sort((f,D)=>D.attack+D.health-(f.attack+f.health)).slice(0,this.level);if(0===d.length)return void this.triggerTigerExecution(e);for(const f of d)f.attack=20,f.health=20;const g=d.map(f=>f.name).join(", ");this.logService.createLog({message:`${a.name} set ${g} to 20/20 at faint.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},79520(O,S,i){i.d(S,{u:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Clownfish";tier=4;pack="Star";attack=3;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"ClownfishAbility",owner:t,triggers:["FriendlyLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const{triggerPet:o}=a,g=(0,A.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=(0,A.lK)(d,a),f=g.pet;if(null==f)return;let D=2*this.level;f.increaseAttack(D),f.increaseHealth(D),this.logService.createLog({message:`${d.name} gave ${f.name} ${D} attack and ${D} health.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},79545(O,S,i){var P={};i.r(P),i.d(P,{afterMain:()=>Iy,afterRead:()=>vm,afterWrite:()=>Dr,applyStyles:()=>Mr,arrow:()=>Fy,auto:()=>Pp,basePlacements:()=>Ml,beforeMain:()=>Ap,beforeRead:()=>ky,beforeWrite:()=>Ry,bottom:()=>Oa,clippingParents:()=>My,computeStyles:()=>Sm,createPopper:()=>Wm,createPopperBase:()=>vT,createPopperLite:()=>bT,detectOverflow:()=>Ll,end:()=>Cl,eventListeners:()=>Tm,flip:()=>Im,hide:()=>Yy,left:()=>la,main:()=>Oy,modifierPhases:()=>pu,offset:()=>Xy,placements:()=>fm,popper:()=>kl,popperGenerator:()=>vu,popperOffsets:()=>xl,preventOverflow:()=>Co,read:()=>wy,reference:()=>Cy,right:()=>Ia,start:()=>So,top:()=>oa,variationPlacements:()=>_m,viewport:()=>mm,write:()=>Ly});var c=i(10467),A=i(46494),_=i(73117),v=i(47868),e=i(35547),t=i(17705);const o="browser",_e=u=>u.src,be=new v.nKC("",{factory:()=>_e}),zi=/^((\s*\d+w\s*(,|$)){1,})$/,Mi=[1,2];let yi=(()=>{class u{imageLoader=(0,v.WQX)(be);config=function qi(u){let h={};return u.breakpoints&&(h.breakpoints=u.breakpoints.sort((l,y)=>l-y)),Object.assign({},e.mY,u,h)}((0,v.WQX)(e.VeQ));renderer=(0,v.WQX)(e.sFG);imgElement=(0,v.WQX)(e.aKT).nativeElement;injector=(0,v.WQX)(v.zZn);destroyRef=(0,v.WQX)(v.abz);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){(0,e._jY)("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true"),this.updateSrcAndSrcset(),this.sizes?"lazy"===this.getLoadingBehavior()?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&zi.test(this.ngSrcset)&&"lazy"===this.getLoadingBehavior()&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(l){l.ngSrc&&!l.ngSrc.isFirstChange()&&this.updateSrcAndSrcset(!0)}callImageLoader(l){let y=l;return this.loaderParams&&(y.loaderParams=this.loaderParams),this.imageLoader(y)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const l=zi.test(this.ngSrcset);return this.ngSrcset.split(",").filter(E=>""!==E).map(E=>{E=E.trim();const C=l?parseFloat(E):parseFloat(E)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:C})} ${E}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:l}=this.config;let y=l;return"100vw"===this.sizes?.trim()&&(y=l.filter(C=>C>=640)),y.map(C=>`${this.callImageLoader({src:this.ngSrc,width:C})} ${C}w`).join(", ")}updateSrcAndSrcset(l=!1){l&&(this._renderedSrc=null);const y=this.getRewrittenSrc();let E;return this.setHostAttribute("src",y),this.ngSrcset?E=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(E=this.getAutomaticSrcset()),E&&this.setHostAttribute("srcset",E),E}getFixedSrcset(){return Mi.map(y=>`${this.callImageLoader({src:this.ngSrc,width:this.width*y})} ${y}x`).join(", ")}shouldGenerateAutomaticSrcset(){let l=!1;return this.sizes||(l=this.width>1920||this.height>1080),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==_e&&!l}generatePlaceholder(l){const{placeholderResolution:y}=this.config;return!0===l?`url(${this.callImageLoader({src:this.ngSrc,width:y,isPlaceholder:!0})})`:"string"==typeof l?`url(${l})`:null}shouldBlurPlaceholder(l){return!l||!l.hasOwnProperty("blur")||!!l.blur}removePlaceholderOnLoad(l){const y=()=>{const I=this.injector.get(t.gRc);E(),C(),this.placeholder=!1,I.markForCheck()},E=this.renderer.listen(l,"load",y),C=this.renderer.listen(l,"error",y);this.destroyRef.onDestroy(()=>{E(),C()}),function Fi(u,h){u.complete&&u.naturalWidth&&h()}(l,y)}setHostAttribute(l,y){this.renderer.setAttribute(this.imgElement,l,y)}static \u0275fac=function(y){return new(y||u)};static \u0275dir=e.FsC({type:u,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(y,E){2&y&&e.xc7("position",E.fill?"absolute":null)("width",E.fill?"100%":null)("height",E.fill?"100%":null)("inset",E.fill?"0":null)("background-size",E.placeholder?"cover":null)("background-position",E.placeholder?"50% 50%":null)("background-repeat",E.placeholder?"no-repeat":null)("background-image",E.placeholder?E.generatePlaceholder(E.placeholder):null)("filter",E.placeholder&&E.shouldBlurPlaceholder(E.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",hi],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",t.Udg],height:[2,"height","height",t.Udg],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",t.L39],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",t.L39],fill:[2,"fill","fill",t.L39],placeholder:[2,"placeholder","placeholder",on],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[e.OA$]})}return u})();function hi(u){return"string"==typeof u?u:(0,e.aCM)(u)}function on(u){return"string"==typeof u&&"true"!==u&&"false"!==u&&""!==u?u:(0,t.L39)(u)}class ri{_doc;constructor(h){this._doc=h}manager}let Ri=(()=>{class u extends ri{constructor(l){super(l)}supports(l){return!0}addEventListener(l,y,E,C){return l.addEventListener(y,E,C),()=>this.removeEventListener(l,y,E,C)}removeEventListener(l,y,E,C){return l.removeEventListener(y,E,C)}static \u0275fac=function(y){return new(y||u)(v.KVO(v.qQL))};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac})}return u})();const Gt=new v.nKC("");let Yt=(()=>{class u{_zone;_plugins;_eventNameToPlugin=new Map;constructor(l,y){this._zone=y,l.forEach(I=>{I.manager=this});const E=l.filter(I=>!(I instanceof Ri));this._plugins=E.slice().reverse();const C=l.find(I=>I instanceof Ri);C&&this._plugins.push(C)}addEventListener(l,y,E,C){return this._findPluginFor(y).addEventListener(l,y,E,C)}getZone(){return this._zone}_findPluginFor(l){let y=this._eventNameToPlugin.get(l);if(y)return y;if(y=this._plugins.find(C=>C.supports(l)),!y)throw new v.buA(5101,!1);return this._eventNameToPlugin.set(l,y),y}static \u0275fac=function(y){return new(y||u)(v.KVO(Gt),v.KVO(v.SKi))};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac})}return u})();const Pi="ng-app-id";function Ci(u){for(const h of u)h.remove()}function Jt(u,h){const l=h.createElement("style");return l.textContent=u,l}function ln(u,h){const l=h.createElement("link");return l.setAttribute("rel","stylesheet"),l.setAttribute("href",u),l}let Ui=(()=>{class u{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(l,y,E,C={}){this.doc=l,this.appId=y,this.nonce=E,function Li(u,h,l,y){const E=u.head?.querySelectorAll(`style[${Pi}="${h}"],link[${Pi}="${h}"]`);if(E)for(const C of E)C.removeAttribute(Pi),C instanceof HTMLLinkElement?y.set(C.href.slice(C.href.lastIndexOf("/")+1),{usage:0,elements:[C]}):C.textContent&&l.set(C.textContent,{usage:0,elements:[C]})}(l,y,this.inline,this.external),this.hosts.add(l.head)}addStyles(l,y){for(const E of l)this.addUsage(E,this.inline,Jt);y?.forEach(E=>this.addUsage(E,this.external,ln))}removeStyles(l,y){for(const E of l)this.removeUsage(E,this.inline);y?.forEach(E=>this.removeUsage(E,this.external))}addUsage(l,y,E){const C=y.get(l);C?C.usage++:y.set(l,{usage:1,elements:[...this.hosts].map(I=>this.addElement(I,E(l,this.doc)))})}removeUsage(l,y){const E=y.get(l);E&&(E.usage--,E.usage<=0&&(Ci(E.elements),y.delete(l)))}ngOnDestroy(){for(const[,{elements:l}]of[...this.inline,...this.external])Ci(l);this.hosts.clear()}addHost(l){this.hosts.add(l);for(const[y,{elements:E}]of this.inline)E.push(this.addElement(l,Jt(y,this.doc)));for(const[y,{elements:E}]of this.external)E.push(this.addElement(l,ln(y,this.doc)))}removeHost(l){this.hosts.delete(l)}addElement(l,y){return this.nonce&&y.setAttribute("nonce",this.nonce),l.appendChild(y)}static \u0275fac=function(y){return new(y||u)(v.KVO(v.qQL),v.KVO(e.sZ2),v.KVO(e.BIS,8),v.KVO(e.Agw))};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac})}return u})();const Sa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Rn=/%COMP%/g,fn=new v.nKC("",{factory:()=>!0});function Mn(u,h){return h.map(l=>l.replace(Rn,u))}let Y=(()=>{class u{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(l,y,E,C,I,W,X=null,z=null){this.eventManager=l,this.sharedStylesHost=y,this.appId=E,this.removeStylesOnCompDestroy=C,this.doc=I,this.ngZone=W,this.nonce=X,this.tracingService=z,this.defaultRenderer=new me(l,I,W,this.tracingService)}createRenderer(l,y){if(!l||!y)return this.defaultRenderer;const E=this.getOrCreateRenderer(l,y);return E instanceof lt?E.applyToHost(l):E instanceof Qe&&E.applyStyles(),E}getOrCreateRenderer(l,y){const E=this.rendererByCompId;let C=E.get(y.id);if(!C){const I=this.doc,W=this.ngZone,X=this.eventManager,z=this.sharedStylesHost,pe=this.removeStylesOnCompDestroy,Me=this.tracingService;switch(y.encapsulation){case e.gXe.Emulated:C=new lt(X,z,y,this.appId,pe,I,W,Me);break;case e.gXe.ShadowDom:return new $e(X,l,y,I,W,this.nonce,Me,z);case e.gXe.ExperimentalIsolatedShadowDom:return new $e(X,l,y,I,W,this.nonce,Me);default:C=new Qe(X,z,y,pe,I,W,Me)}E.set(y.id,C)}return C}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(l){this.rendererByCompId.delete(l)}static \u0275fac=function(y){return new(y||u)(v.KVO(Yt),v.KVO(Ui),v.KVO(e.sZ2),v.KVO(fn),v.KVO(v.qQL),v.KVO(v.SKi),v.KVO(e.BIS),v.KVO(e.a8H,8))};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac})}return u})();class me{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(h,l,y,E){this.eventManager=h,this.doc=l,this.ngZone=y,this.tracingService=E}destroy(){}destroyNode=null;createElement(h,l){return l?this.doc.createElementNS(Sa[l]||l,h):this.doc.createElement(h)}createComment(h){return this.doc.createComment(h)}createText(h){return this.doc.createTextNode(h)}appendChild(h,l){(De(h)?h.content:h).appendChild(l)}insertBefore(h,l,y){h&&(De(h)?h.content:h).insertBefore(l,y)}removeChild(h,l){l.remove()}selectRootElement(h,l){let y="string"==typeof h?this.doc.querySelector(h):h;if(!y)throw new v.buA(-5104,!1);return l||(y.textContent=""),y}parentNode(h){return h.parentNode}nextSibling(h){return h.nextSibling}setAttribute(h,l,y,E){if(E){l=E+":"+l;const C=Sa[E];C?h.setAttributeNS(C,l,y):h.setAttribute(l,y)}else h.setAttribute(l,y)}removeAttribute(h,l,y){if(y){const E=Sa[y];E?h.removeAttributeNS(E,l):h.removeAttribute(`${y}:${l}`)}else h.removeAttribute(l)}addClass(h,l){h.classList.add(l)}removeClass(h,l){h.classList.remove(l)}setStyle(h,l,y,E){E&(e.czy.DashCase|e.czy.Important)?h.style.setProperty(l,y,E&e.czy.Important?"important":""):h.style[l]=y}removeStyle(h,l,y){y&e.czy.DashCase?h.style.removeProperty(l):h.style[l]=""}setProperty(h,l,y){null!=h&&(h[l]=y)}setValue(h,l){h.nodeValue=l}listen(h,l,y,E){if("string"==typeof h&&!(h=(0,A.rb)().getGlobalEventTarget(this.doc,h)))throw new v.buA(5102,!1);let C=this.decoratePreventDefault(y);return this.tracingService?.wrapEventListener&&(C=this.tracingService.wrapEventListener(h,l,C)),this.eventManager.addEventListener(h,l,C,E)}decoratePreventDefault(h){return l=>{if("__ngUnwrap__"===l)return h;!1===h(l)&&l.preventDefault()}}}function De(u){return"TEMPLATE"===u.tagName&&void 0!==u.content}class $e extends me{hostEl;sharedStylesHost;shadowRoot;constructor(h,l,y,E,C,I,W,X){super(h,E,C,W),this.hostEl=l,this.sharedStylesHost=X,this.shadowRoot=l.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let z=y.styles;z=Mn(y.id,z);for(const Me of z){const xe=document.createElement("style");I&&xe.setAttribute("nonce",I),xe.textContent=Me,this.shadowRoot.appendChild(xe)}const pe=y.getExternalStyles?.();if(pe)for(const Me of pe){const xe=ln(Me,E);I&&xe.setAttribute("nonce",I),this.shadowRoot.appendChild(xe)}}nodeOrShadowRoot(h){return h===this.hostEl?this.shadowRoot:h}appendChild(h,l){return super.appendChild(this.nodeOrShadowRoot(h),l)}insertBefore(h,l,y){return super.insertBefore(this.nodeOrShadowRoot(h),l,y)}removeChild(h,l){return super.removeChild(null,l)}parentNode(h){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(h)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}}class Qe extends me{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(h,l,y,E,C,I,W,X){super(h,C,I,W),this.sharedStylesHost=l,this.removeStylesOnCompDestroy=E;let z=y.styles;this.styles=X?Mn(X,z):z,this.styleUrls=y.getExternalStyles?.(X)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===e.DUP.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class lt extends Qe{contentAttr;hostAttr;constructor(h,l,y,E,C,I,W,X){const z=E+"-"+y.id;super(h,l,y,C,I,W,X,z),this.contentAttr=function Ta(u){return"_ngcontent-%COMP%".replace(Rn,u)}(z),this.hostAttr=function Un(u){return"_nghost-%COMP%".replace(Rn,u)}(z)}applyToHost(h){this.applyStyles(),this.setAttribute(h,this.hostAttr,"")}createElement(h,l){const y=super.createElement(h,l);return super.setAttribute(y,this.contentAttr,""),y}}class ni extends A.qj{supportsDOMEvents=!0;static makeCurrent(){(0,A.ig)(new ni)}onAndCancel(h,l,y,E){return h.addEventListener(l,y,E),()=>{h.removeEventListener(l,y,E)}}dispatchEvent(h,l){h.dispatchEvent(l)}remove(h){h.remove()}createElement(h,l){return(l=l||this.getDefaultDocument()).createElement(h)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(h){return h.nodeType===Node.ELEMENT_NODE}isShadowRoot(h){return h instanceof DocumentFragment}getGlobalEventTarget(h,l){return"window"===l?window:"document"===l?h:"body"===l?h.body:null}getBaseHref(h){const l=function si(){return Zt=Zt||document.head.querySelector("base"),Zt?Zt.getAttribute("href"):null}();return null==l?null:function Qt(u){return new URL(u,document.baseURI).pathname}(l)}resetBaseElement(){Zt=null}getUserAgent(){return window.navigator.userAgent}getCookie(h){return(0,_.b)(document.cookie,h)}}let Zt=null,oi=(()=>{class u{build(){return new XMLHttpRequest}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac})}return u})();const fi=["alt","control","meta","shift"],Wn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ln={alt:u=>u.altKey,control:u=>u.ctrlKey,meta:u=>u.metaKey,shift:u=>u.shiftKey};let vn=(()=>{class u extends ri{constructor(l){super(l)}supports(l){return null!=u.parseEventName(l)}addEventListener(l,y,E,C){const I=u.parseEventName(y),W=u.eventCallback(I.fullKey,E,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,A.rb)().onAndCancel(l,I.domEventName,W,C))}static parseEventName(l){const y=l.toLowerCase().split("."),E=y.shift();if(0===y.length||"keydown"!==E&&"keyup"!==E)return null;const C=u._normalizeKey(y.pop());let I="",W=y.indexOf("code");if(W>-1&&(y.splice(W,1),I="code."),fi.forEach(z=>{const pe=y.indexOf(z);pe>-1&&(y.splice(pe,1),I+=z+".")}),I+=C,0!=y.length||0===C.length)return null;const X={};return X.domEventName=E,X.fullKey=I,X}static matchEventFullKeyCode(l,y){let E=Wn[l.key]||l.key,C="";return y.indexOf("code.")>-1&&(E=l.code,C="code."),!(null==E||!E)&&(E=E.toLowerCase()," "===E?E="space":"."===E&&(E="dot"),fi.forEach(I=>{I!==E&&(0,Ln[I])(l)&&(C+=I+".")}),C+=E,C===y)}static eventCallback(l,y,E){return C=>{u.matchEventFullKeyCode(C,l)&&E.runGuarded(()=>y(C))}}static _normalizeKey(l){return"esc"===l?"escape":l}static \u0275fac=function(y){return new(y||u)(v.KVO(v.qQL))};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac})}return u})();function xn(){return(xn=(0,c.A)(function*(u,h,l){const y={rootComponent:u,...Za(h,l)};return(0,t.TL3)(y)})).apply(this,arguments)}function Za(u,h){return{platformRef:h?.platformRef,appProviders:[...gs,...u?.providers??[]],platformProviders:Is}}const Is=[{provide:e.Agw,useValue:o},{provide:e.PLl,useValue:function ps(){ni.makeCurrent()},multi:!0},{provide:v.qQL,useFactory:function Da(){return(0,e._9u)(document),document}}],gs=[{provide:v.GBX,useValue:"root"},{provide:v.zcH,useFactory:function Ba(){return new v.zcH}},{provide:Gt,useClass:Ri,multi:!0},{provide:Gt,useClass:vn,multi:!0},Y,Ui,Yt,{provide:e._9s,useExisting:Y},{provide:_.N,useClass:oi},[]];var Fa=i(26980),jt=i(49769),ue=i(75119),Xi=i(70762),ua=i(41080);function na(u,h=ua.b){return l=>l.lift(new da(u,h))}class da{constructor(h,l){this.dueTime=h,this.scheduler=l}call(h,l){return l.subscribe(new rr(h,this.dueTime,this.scheduler))}}class rr extends Xi.v{constructor(h,l,y){super(h),this.dueTime=l,this.scheduler=y,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(h){this.clearDebounce(),this.lastValue=h,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(pa,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:h}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(h)}}clearDebounce(){const h=this.debouncedSubscription;null!==h&&(this.remove(h),h.unsubscribe(),this.debouncedSubscription=null)}}function pa(u){u.debouncedNext()}var ei=i(45286),ms=i(27389),_s=i(32234),ee=i(18456),j=i(55241);function Z(u=Number.POSITIVE_INFINITY){return(0,ee.ZZ)(j.D,u)}var he=i(44279);function Ce(...u){let h=Number.POSITIVE_INFINITY,l=null,y=u[u.length-1];return(0,_s.m)(y)?(l=u.pop(),u.length>1&&"number"==typeof u[u.length-1]&&(h=u.pop())):"number"==typeof y&&(h=u.pop()),null===l&&1===u.length&&u[0]instanceof ms.c?u[0]:Z(h)((0,he.c)(u,l))}var Be=i(31805),Ye=i(27354);function at(u){return!(0,Ye.c)(u)&&u-parseFloat(u)+1>=0}function Ot(u){const{subscriber:h,counter:l,period:y}=u;h.next(l),this.schedule({subscriber:h,counter:l+1,period:y},y)}var Vt=i(68189),mi=i(76228);const yn=new class Wi extends mi.q{flush(h){this.active=!0,this.scheduled=void 0;const{actions:l}=this;let y,E=-1,C=l.length;h=h||l.shift();do{if(y=h.execute(h.state,h.delay))break}while(++E<C&&(h=l.shift()));if(this.active=!1,y){for(;++E<C&&(h=l.shift());)h.unsubscribe();throw y}}}(class wt extends Vt.R{constructor(h,l){super(h,l),this.scheduler=h,this.work=l}requestAsyncId(h,l,y=0){return null!==y&&y>0?super.requestAsyncId(h,l,y):(h.actions.push(this),h.scheduled||(h.scheduled=requestAnimationFrame(()=>h.flush(null))))}recycleAsyncId(h,l,y=0){if(null!==y&&y>0||null===y&&this.delay>0)return super.recycleAsyncId(h,l,y);0===h.actions.length&&(cancelAnimationFrame(l),h.scheduled=void 0)}});var Ji=i(79928);let ji;function Kn(u){if(function is(){if(null==ji){const u=typeof document<"u"?document.head:null;ji=!(!u||!u.createShadowRoot&&!u.attachShadow)}return ji}()){const h=u.getRootNode?u.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&h instanceof ShadowRoot)return h}return null}function Ma(u){return u.composedPath?u.composedPath()[0]:u.target}const fs=new WeakMap;let Ls=(()=>{class u{_appRef;_injector=(0,v.WQX)(v.zZn);_environmentInjector=(0,v.WQX)(v.uvJ);load(l){const y=this._appRef=this._appRef||this._injector.get(e.o8S);let E=fs.get(y);E||(E={loaders:new Set,refs:[]},fs.set(y,E),y.onDestroy(()=>{fs.get(y)?.refs.forEach(C=>C.destroy()),fs.delete(y)})),E.loaders.has(l)||(E.loaders.add(l),E.refs.push((0,t.a0P)(l,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();var $o=i(14421);let Kr=1;const ns=Promise.resolve(),lr={};function Go(u){return u in lr&&(delete lr[u],!0)}const Fu={setImmediate(u){const h=Kr++;return lr[h]=!0,ns.then(()=>Go(h)&&u()),h},clearImmediate(u){Go(u)}};new class Ql extends mi.q{flush(h){this.active=!0,this.scheduled=void 0;const{actions:l}=this;let y,E=-1,C=l.length;h=h||l.shift();do{if(y=h.execute(h.state,h.delay))break}while(++E<C&&(h=l.shift()));if(this.active=!1,y){for(;++E<C&&(h=l.shift());)h.unsubscribe();throw y}}}(class Jl extends Vt.R{constructor(h,l){super(h,l),this.scheduler=h,this.work=l}requestAsyncId(h,l,y=0){return null!==y&&y>0?super.requestAsyncId(h,l,y):(h.actions.push(this),h.scheduled||(h.scheduled=Fu.setImmediate(h.flush.bind(h,null))))}recycleAsyncId(h,l,y=0){if(null!==y&&y>0||null===y&&this.delay>0)return super.recycleAsyncId(h,l,y);0===h.actions.length&&(Fu.clearImmediate(l),h.scheduled=void 0)}});var Na=i(13004);class Ua{constructor(h){this.durationSelector=h}call(h,l){return l.subscribe(new Bs(h,this.durationSelector))}}class Bs extends Na.gn{constructor(h,l){super(h),this.durationSelector=l,this.hasValue=!1}_next(h){if(this.value=h,this.hasValue=!0,!this.throttled){let l;try{const{durationSelector:E}=this;l=E(h)}catch(E){return this.destination.error(E)}const y=(0,Na.tS)(l,new Na.zA(this));!y||y.closed?this.clearThrottle():this.add(this.throttled=y)}}clearThrottle(){const{value:h,hasValue:l,throttled:y}=this;y&&(this.remove(y),this.throttled=void 0,y.unsubscribe()),l&&(this.value=void 0,this.hasValue=!1,this.destination.next(h))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function pr(u){const{index:h,period:l,subscriber:y}=u;if(y.next(h),!y.closed){if(-1===l)return y.complete();u.index=h+1,this.schedule(u,l)}}function hr(u,h=ua.b){return function ur(u){return function(l){return l.lift(new Ua(u))}}(()=>function dr(u=0,h,l){let y=-1;return at(h)?y=Number(h)<1?1:Number(h):(0,_s.m)(h)&&(l=h),(0,_s.m)(l)||(l=ua.b),new ms.c(E=>{const C=at(u)?u:+u-l.now();return l.schedule(pr,C,{index:0,period:y,subscriber:E})})}(u,h))}var Gr=i(58728);function Ho(u,h=0){return function Nu(u){return!isNaN(parseFloat(u))&&!isNaN(Number(u))}(u)?Number(u):2===arguments.length?h:0}function Wa(u){return u instanceof e.aKT?u.nativeElement:u}let as;try{as=typeof Intl<"u"&&Intl.v8BreakIterator}catch{as=!1}let gr=(()=>{class u{_platformId=(0,v.WQX)(e.Agw);isBrowser=this._platformId?function d(u){return u===o}(this._platformId):"object"==typeof document&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!(!window.chrome&&!as)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})(),F=(()=>{class u{_ngZone=(0,v.WQX)(v.SKi);_platform=(0,v.WQX)(gr);_renderer=(0,v.WQX)(e._9s).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new ei.B7;_scrolledCount=0;scrollContainers=new Map;register(l){this.scrollContainers.has(l)||this.scrollContainers.set(l,l.elementScrolled().subscribe(()=>this._scrolled.next(l)))}deregister(l){const y=this.scrollContainers.get(l);y&&(y.unsubscribe(),this.scrollContainers.delete(l))}scrolled(l=20){return this._platform.isBrowser?new ms.c(y=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));const E=l>0?this._scrolled.pipe(hr(l)).subscribe(y):this._scrolled.subscribe(y);return this._scrolledCount++,()=>{E.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):(0,$o.of)()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((l,y)=>this.deregister(y)),this._scrolled.complete()}ancestorScrolled(l,y){const E=this.getAncestorScrollContainers(l);return this.scrolled(y).pipe((0,Gr.p)(C=>!C||E.indexOf(C)>-1))}getAncestorScrollContainers(l){const y=[];return this.scrollContainers.forEach((E,C)=>{this._scrollableContainsElement(C,l)&&y.push(C)}),y}_scrollableContainsElement(l,y){let E=Wa(y),C=l.getElementRef().nativeElement;do{if(E==C)return!0}while(E=E.parentElement);return!1}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})(),mt=(()=>{class u{_platform=(0,v.WQX)(gr);_listeners;_viewportSize=null;_change=new ei.B7;_document=(0,v.WQX)(v.qQL);constructor(){const l=(0,v.WQX)(v.SKi),y=(0,v.WQX)(e._9s).createRenderer(null,null);l.runOutsideAngular(()=>{if(this._platform.isBrowser){const E=C=>this._change.next(C);this._listeners=[y.listen("window","resize",E),y.listen("window","orientationchange",E)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(l=>l()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const l={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),l}getViewportRect(){const l=this.getViewportScrollPosition(),{width:y,height:E}=this.getViewportSize();return{top:l.top,left:l.left,bottom:l.top+E,right:l.left+y,height:E,width:y}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const l=this._document,y=this._getWindow(),E=l.documentElement,C=E.getBoundingClientRect();return{top:-C.top||l.body?.scrollTop||y.scrollY||E.scrollTop||0,left:-C.left||l.body?.scrollLeft||y.scrollX||E.scrollLeft||0}}change(l=20){return l>0?this._change.pipe(hr(l)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const l=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:l.innerWidth,height:l.innerHeight}:{width:0,height:0}}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})(),jo=(()=>{class u{static \u0275fac=function(y){return new(y||u)};static \u0275mod=e.$C({type:u});static \u0275inj=v.G2t({})}return u})();function kn(u){return h=>h.lift(new $u(u))}class $u{constructor(h){this.notifier=h}call(h,l){const y=new _h(h),E=(0,Na.tS)(this.notifier,new Na.zA(y));return E&&!y.seenValue?(y.add(E),l.subscribe(y)):y}}class _h extends Na.gn{constructor(h){super(h),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var Vo=i(95006);const Gu=(()=>{function u(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return u.prototype=Object.create(Error.prototype),u})();var vh=i(51235);class Hr{constructor(h){if(this.total=h,this.total<0)throw new Gu}call(h,l){return l.subscribe(new jr(h,this.total))}}class jr extends Xi.v{constructor(h,l){super(h),this.total=l,this.count=0}_next(h){const l=this.total,y=++this.count;y<=l&&(this.destination.next(h),y===l&&(this.destination.complete(),this.unsubscribe()))}}var ec=i(15539),W_=i(49090);function yh(...u){return function K_(){return Z(1)}()((0,$o.of)(...u))}function mr(...u){const h=u[u.length-1];return(0,_s.m)(h)?(u.pop(),l=>yh(u,l,h)):l=>yh(u,l)}const bh=new v.nKC("cdk-dir-doc",{providedIn:"root",factory:()=>(0,v.WQX)(v.qQL)}),zo=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Hu=(()=>{class u{get value(){return this.valueSignal()}valueSignal=(0,v.vPA)("ltr");change=new v.bkB;constructor(){const l=(0,v.WQX)(bh,{optional:!0});l&&this.valueSignal.set(function tc(u){const h=u?.toLowerCase()||"";return"auto"===h&&typeof navigator<"u"&&navigator?.language?zo.test(navigator.language)?"rtl":"ltr":"rtl"===h?"rtl":"ltr"}((l.body?l.body.dir:null)||(l.documentElement?l.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();const Vr={};class zr{_appId=(0,v.WQX)(e.sZ2);static _infix=`a${Math.floor(1e5*Math.random()).toString()}`;getId(h,l=!1){return"ng"!==this._appId&&(h+=this._appId),Vr.hasOwnProperty(h)||(Vr[h]=0),`${h}${l?zr._infix+"-":""}${Vr[h]++}`}static \u0275fac=function(l){return new(l||zr)};static \u0275prov=v.jDH({token:zr,factory:zr.\u0275fac,providedIn:"root"})}function Vu(u){const h=u.cloneNode(!0),l=h.querySelectorAll("[id]"),y=u.nodeName.toLowerCase();h.removeAttribute("id");for(let E=0;E<l.length;E++)l[E].removeAttribute("id");return"canvas"===y?Yr(u,h):("input"===y||"select"===y||"textarea"===y)&&Yo(u,h),ic("canvas",u,h,Yr),ic("input, textarea, select",u,h,Yo),h}function ic(u,h,l,y){const E=h.querySelectorAll(u);if(E.length){const C=l.querySelectorAll(u);for(let I=0;I<E.length;I++)y(E[I],C[I])}}let Ph=0;function Yo(u,h){"file"!==h.type&&(h.value=u.value),"radio"===h.type&&h.name&&(h.name=`mat-clone-${h.name}-${Ph++}`)}function Yr(u,h){const l=h.getContext("2d");if(l)try{l.drawImage(u,0,0)}catch{}}function Xo(u){const h=u.getBoundingClientRect();return{top:h.top,right:h.right,bottom:h.bottom,left:h.left,width:h.width,height:h.height,x:h.x,y:h.y}}function _r(u,h,l){const{top:y,bottom:E,left:C,right:I}=u;return l>=y&&l<=E&&h>=C&&h<=I}function Xr(u,h,l){u.top+=h,u.bottom=u.top+u.height,u.left+=l,u.right=u.left+u.width}function Ah(u,h,l,y){const{top:E,right:C,bottom:I,left:W,width:X,height:z}=u,pe=X*h,Me=z*h;return y>E-Me&&y<I+Me&&l>W-pe&&l<C+pe}class zu{_document;positions=new Map;constructor(h){this._document=h}clear(){this.positions.clear()}cache(h){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),h.forEach(l=>{this.positions.set(l,{scrollPosition:{top:l.scrollTop,left:l.scrollLeft},clientRect:Xo(l)})})}handleScroll(h){const l=Ma(h),y=this.positions.get(l);if(!y)return null;const E=y.scrollPosition;let C,I;if(l===this._document){const z=this.getViewportScrollPosition();C=z.top,I=z.left}else C=l.scrollTop,I=l.scrollLeft;const W=E.top-C,X=E.left-I;return this.positions.forEach((z,pe)=>{z.clientRect&&l!==pe&&l.contains(pe)&&Xr(z.clientRect,W,X)}),E.top=C,E.left=I,{top:W,left:X}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Yu(u,h){const l=u.rootNodes;if(1===l.length&&l[0].nodeType===h.ELEMENT_NODE)return l[0];const y=h.createElement("div");return l.forEach(E=>y.appendChild(E)),y}function Xu(u,h,l){for(let y in h)if(h.hasOwnProperty(y)){const E=h[y];E?u.setProperty(y,E,l?.has(y)?"important":""):u.removeProperty(y)}return u}function Fs(u,h){const l=h?"":"none";Xu(u.style,{"touch-action":h?"":"none","-webkit-user-drag":h?"":"none","-webkit-tap-highlight-color":h?"":"transparent","user-select":l,"-ms-user-select":l,"-webkit-user-select":l,"-moz-user-select":l})}function Qo(u,h,l){Xu(u.style,{position:h?"":"fixed",top:h?"":"0",opacity:h?"":"0",left:h?"":"-999em"},l)}function nc(u,h){return h&&"none"!=h?u+" "+h:u}function Ju(u,h){u.style.width=`${h.width}px`,u.style.height=`${h.height}px`,u.style.transform=Jr(h.left,h.top)}function Jr(u,h){return`translate3d(${Math.round(u)}px, ${Math.round(h)}px, 0)`}const Qr={capture:!0},ac={passive:!1,capture:!0};let Qu=(()=>{class u{static \u0275fac=function(y){return new(y||u)};static \u0275cmp=e.VBU({type:u,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(y,E){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}\n"],encapsulation:2,changeDetection:0})}return u})(),qo=(()=>{class u{_ngZone=(0,v.WQX)(v.SKi);_document=(0,v.WQX)(v.qQL);_styleLoader=(0,v.WQX)(Ls);_renderer=(0,v.WQX)(e._9s).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new ei.B7;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=(0,v.vPA)([]);_globalListeners;_draggingPredicate=l=>l.isDragging();_domNodesToDirectives=null;pointerMove=new ei.B7;pointerUp=new ei.B7;constructor(){}registerDropContainer(l){this._dropInstances.has(l)||this._dropInstances.add(l)}registerDragItem(l){this._dragInstances.add(l),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,ac)})}removeDropContainer(l){this._dropInstances.delete(l)}removeDragItem(l){this._dragInstances.delete(l),this.stopDragging(l),0===this._dragInstances.size&&this._cleanupDocumentTouchmove?.()}startDragging(l,y){if(!(this._activeDragInstances().indexOf(l)>-1)&&(this._styleLoader.load(Qu),this._activeDragInstances.update(E=>[...E,l]),1===this._activeDragInstances().length)){const E=y.type.startsWith("touch"),C=W=>this.pointerUp.next(W),I=[["scroll",W=>this._scroll.next(W),Qr],["selectstart",this._preventDefaultWhileDragging,ac]];E?I.push(["touchend",C,Qr],["touchcancel",C,Qr]):I.push(["mouseup",C,Qr]),E||I.push(["mousemove",W=>this.pointerMove.next(W),ac]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=I.map(([W,X,z])=>this._renderer.listen(this._document,W,X,z))})}}stopDragging(l){this._activeDragInstances.update(y=>{const E=y.indexOf(l);return E>-1?(y.splice(E,1),[...y]):y}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(l){return this._activeDragInstances().indexOf(l)>-1}scrolled(l){const y=[this._scroll];return l&&l!==this._document&&y.push(new ms.c(E=>this._ngZone.runOutsideAngular(()=>{const C=this._renderer.listen(l,"scroll",I=>{this._activeDragInstances().length&&E.next(I)},Qr);return()=>{C()}}))),Ce(...y)}registerDirectiveNode(l,y){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(l,y)}removeDirectiveNode(l){this._domNodesToDirectives?.delete(l)}getDragDirectiveForNode(l){return this._domNodesToDirectives?.get(l)||null}ngOnDestroy(){this._dragInstances.forEach(l=>this.removeDragItem(l)),this._dropInstances.forEach(l=>this.removeDropContainer(l)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=l=>{this._activeDragInstances().length>0&&l.preventDefault()};_persistentTouchmoveListener=l=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&l.preventDefault(),this.pointerMove.next(l))};_clearGlobalListeners(){this._globalListeners?.forEach(l=>l()),this._globalListeners=void 0}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();function Eh(u){const h=u.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(u)*h}function qr(u,h){return u.getPropertyValue(h).split(",").map(y=>y.trim())}const $_=new Set(["position"]);class qu{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView=null;_preview;get element(){return this._preview}constructor(h,l,y,E,C,I,W,X,z,pe){this._document=h,this._rootElement=l,this._direction=y,this._initialDomRect=E,this._previewTemplate=C,this._previewClass=I,this._pickupPositionOnPage=W,this._initialTransform=X,this._zIndex=z,this._renderer=pe}attach(h){this._preview=this._createPreview(),h.appendChild(this._preview),Zo(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(h){this._preview.style.transform=h}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(h){this._preview.classList.add(h)}getTransitionDuration(){return function sc(u){const h=getComputedStyle(u),l=qr(h,"transition-property"),y=l.find(W=>"transform"===W||"all"===W);if(!y)return 0;const E=l.indexOf(y),C=qr(h,"transition-duration"),I=qr(h,"transition-delay");return Eh(C[E])+Eh(I[E])}(this._preview)}addEventListener(h,l){return this._renderer.listen(this._preview,h,l)}_createPreview(){const h=this._previewTemplate,l=this._previewClass,y=h?h.template:null;let E;if(y&&h){const C=h.matchSize?this._initialDomRect:null,I=h.viewContainer.createEmbeddedView(y,h.context);I.detectChanges(),E=Yu(I,this._document),this._previewEmbeddedView=I,h.matchSize?Ju(E,C):E.style.transform=Jr(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else E=Vu(this._rootElement),Ju(E,this._initialDomRect),this._initialTransform&&(E.style.transform=this._initialTransform);return Xu(E.style,{"pointer-events":"none",margin:Zo(E)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},$_),Fs(E,!1),E.classList.add("cdk-drag-preview"),E.setAttribute("popover","manual"),E.setAttribute("dir",this._direction),l&&(Array.isArray(l)?l.forEach(C=>E.classList.add(C)):E.classList.add(l)),E}}function Zo(u){return"showPopover"in u}const rc={passive:!0},Ca={passive:!1},Sh={passive:!1,capture:!0},Zr="cdk-drag-placeholder",ed=new Set(["position"]);function Th(u,h,l={dragStartThreshold:5,pointerDirectionChangeThreshold:5}){const y=u.get(e.sFG,null,{optional:!0})||u.get(e._9s).createRenderer(null,null);return new oc(h,l,u.get(v.qQL),u.get(v.SKi),u.get(mt),u.get(qo),y)}class oc{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview=null;_previewContainer;_placeholderRef=null;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=(0,v.vPA)(!1);_hasMoved=!1;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new ei.B7;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement=null;_rootElementTapHighlight;_pointerMoveSubscription=Be.y.EMPTY;_pointerUpSubscription=Be.y.EMPTY;_scrollSubscription=Be.y.EMPTY;_resizeSubscription=Be.y.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef=null;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(h){h!==this._disabled&&(this._disabled=h,this._toggleNativeDragInteractions(),this._handles.forEach(l=>Fs(l,h)))}_disabled=!1;beforeStarted=new ei.B7;started=new ei.B7;released=new ei.B7;ended=new ei.B7;entered=new ei.B7;exited=new ei.B7;dropped=new ei.B7;moved=this._moveEvents;data;constrainPosition;constructor(h,l,y,E,C,I,W){this._config=l,this._document=y,this._ngZone=E,this._viewportRuler=C,this._dragDropRegistry=I,this._renderer=W,this.withRootElement(h).withParent(l.parentDragRef||null),this._parentPositions=new zu(y),I.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(h){this._handles=h.map(y=>Wa(y)),this._handles.forEach(y=>Fs(y,this.disabled)),this._toggleNativeDragInteractions();const l=new Set;return this._disabledHandles.forEach(y=>{this._handles.indexOf(y)>-1&&l.add(y)}),this._disabledHandles=l,this}withPreviewTemplate(h){return this._previewTemplate=h,this}withPlaceholderTemplate(h){return this._placeholderTemplate=h,this}withRootElement(h){const l=Wa(h);if(l!==this._rootElement){this._removeRootElementListeners();const y=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[y.listen(l,"mousedown",this._pointerDown,Ca),y.listen(l,"touchstart",this._pointerDown,rc),y.listen(l,"dragstart",this._nativeDragStart,Ca)]),this._initialTransform=void 0,this._rootElement=l}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(h){return this._boundaryElement=h?Wa(h):null,this._resizeSubscription.unsubscribe(),h&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(h){return this._parentDragRef=h,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&function Jo(u,h){return h.left<u.left||h.left+h.width>u.right||h.top<u.top||h.top+h.height>u.bottom}(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){const h=this._boundaryElement.getBoundingClientRect(),l=this._rootElement.getBoundingClientRect();let y=0,E=0;l.left<h.left?y=h.left-l.left:l.right>h.right&&(y=h.right-l.right),l.top<h.top?E=h.top-l.top:l.bottom>h.bottom&&(E=h.bottom-l.bottom);let W=this._activeTransform.x+y,X=this._activeTransform.y+E;this._rootElement.style.transform=Jr(W,X),this._activeTransform={x:W,y:X},this._passiveTransform={x:W,y:X}}}disableHandle(h){!this._disabledHandles.has(h)&&this._handles.indexOf(h)>-1&&(this._disabledHandles.add(h),Fs(h,!0))}enableHandle(h){this._disabledHandles.has(h)&&(this._disabledHandles.delete(h),Fs(h,this.disabled))}withDirection(h){return this._direction=h,this}_withDropContainer(h){this._dropContainer=h}getFreeDragPosition(){const h=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:h.x,y:h.y}}setFreeDragPosition(h){return this._activeTransform={x:0,y:0},this._passiveTransform.x=h.x,this._passiveTransform.y=h.y,this._dropContainer||this._applyRootElementTransform(h.x,h.y),this}withPreviewContainer(h){return this._previewContainer=h,this}_sortFromLastPointerPosition(){const h=this._lastKnownPointerPosition;h&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(h),h)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=h=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(h);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,h)}else this.disabled||this._initializeDragSequence(this._rootElement,h)};_pointerMove=h=>{const l=this._getPointerPositionOnPage(h);if(!this._hasStartedDragging()){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const W=Date.now()>=this._dragStartTime+this._getDragStartDelay(h),X=this._dropContainer;if(!W)return void this._endDragSequence(h);(!X||!X.isDragging()&&!X.isReceiving())&&(h.cancelable&&h.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(h)))}return}h.cancelable&&h.preventDefault();const y=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(y),this._dropContainer)this._updateActiveDropContainer(y,l);else{const E=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,C=this._activeTransform;C.x=y.x-E.x+this._passiveTransform.x,C.y=y.y-E.y+this._passiveTransform.y,this._applyRootElementTransform(C.x,C.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:y,event:h,distance:this._getDragDistance(y),delta:this._pointerDirectionDelta})})};_pointerUp=h=>{this._endDragSequence(h)};_endDragSequence(h){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:h}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(h),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const l=this._getPointerPositionOnPage(h);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(l),dropPoint:l,event:h})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(h){el(h)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const l=this._getShadowRoot(),y=this._dropContainer;if(l&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(l,"selectstart",G_,Sh)}),y){const E=this._rootElement,C=E.parentNode,I=this._placeholder=this._createPlaceholderElement(),W=this._marker=this._marker||this._document.createComment("");C.insertBefore(W,E),this._initialTransform=E.style.transform||"",this._preview=new qu(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(C,l)),Qo(E,!1,ed),this._document.body.appendChild(C.replaceChild(I,E)),this.started.next({source:this,event:h}),y.start(),this._initialContainer=y,this._initialIndex=y.getItemIndex(this)}else this.started.next({source:this,event:h}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(y?y.getScrollableParents():[])}_initializeDragSequence(h,l){this._parentDragRef&&l.stopPropagation();const y=this.isDragging(),E=el(l),C=!E&&0!==l.button,I=this._rootElement,W=Ma(l),X=!E&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),z=E?function or(u){const h=u.touches&&u.touches[0]||u.changedTouches&&u.changedTouches[0];return!(!h||-1!==h.identifier||null!=h.radiusX&&1!==h.radiusX||null!=h.radiusY&&1!==h.radiusY)}(l):function vs(u){return 0===u.buttons||0===u.detail}(l);if(W&&W.draggable&&"mousedown"===l.type&&l.preventDefault(),y||C||X||z)return;if(this._handles.length){const xe=I.style;this._rootElementTapHighlight=xe.webkitTapHighlightColor||"",xe.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(xe=>this._updateOnScroll(xe)),this._boundaryElement&&(this._boundaryRect=Xo(this._boundaryElement));const pe=this._previewTemplate;this._pickupPositionInElement=pe&&pe.template&&!pe.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,h,l);const Me=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(l);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Me.x,y:Me.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,l)}_cleanupDragArtifacts(h){Qo(this._rootElement,!0,ed),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const l=this._dropContainer,y=l.getItemIndex(this),E=this._getPointerPositionOnPage(h),C=this._getDragDistance(E),I=l._isOverContainer(E.x,E.y);this.ended.next({source:this,distance:C,dropPoint:E,event:h}),this.dropped.next({item:this,currentIndex:y,previousIndex:this._initialIndex,container:l,previousContainer:this._initialContainer,isPointerOverContainer:I,distance:C,dropPoint:E,event:h}),l.drop(this,y,this._initialIndex,this._initialContainer,I,C,E,h),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:h,y:l},{x:y,y:E}){let C=this._initialContainer._getSiblingContainerFromPosition(this,h,l);!C&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(h,l)&&(C=this._initialContainer),C&&C!==this._dropContainer&&this._ngZone.run(()=>{const I=this._dropContainer.getItemIndex(this),W=this._dropContainer.getItemAtIndex(I+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(C,this._dropContainer,W),this._dropContainer=C,this._dropContainer.enter(this,h,l,C===this._initialContainer&&C.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:C,currentIndex:C.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(y,E),this._dropContainer._sortItem(this,h,l,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(h,l):this._applyPreviewTransform(h-this._pickupPositionInElement.x,l-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const h=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(h.left,h.top);const l=this._preview.getTransitionDuration();return 0===l?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(y=>{const E=W=>{(!W||this._preview&&Ma(W)===this._preview.element&&"transform"===W.propertyName)&&(I(),y(),clearTimeout(C))},C=setTimeout(E,1.5*l),I=this._preview.addEventListener("transitionend",E)}))}_createPlaceholderElement(){const h=this._placeholderTemplate,l=h?h.template:null;let y;return l?(this._placeholderRef=h.viewContainer.createEmbeddedView(l,h.context),this._placeholderRef.detectChanges(),y=Yu(this._placeholderRef,this._document)):y=Vu(this._rootElement),y.style.pointerEvents="none",y.classList.add(Zr),y}_getPointerPositionInElement(h,l,y){const E=l===this._rootElement?null:l,C=E?E.getBoundingClientRect():h,I=el(y)?y.targetTouches[0]:y,W=this._getViewportScrollPosition();return{x:C.left-h.left+(I.pageX-C.left-W.left),y:C.top-h.top+(I.pageY-C.top-W.top)}}_getPointerPositionOnPage(h){const l=this._getViewportScrollPosition(),y=el(h)?h.touches[0]||h.changedTouches[0]||{pageX:0,pageY:0}:h,E=y.pageX-l.left,C=y.pageY-l.top;if(this._ownerSVGElement){const I=this._ownerSVGElement.getScreenCTM();if(I){const W=this._ownerSVGElement.createSVGPoint();return W.x=E,W.y=C,W.matrixTransform(I.inverse())}}return{x:E,y:C}}_getConstrainedPointerPosition(h){const l=this._dropContainer?this._dropContainer.lockAxis:null;let{x:y,y:E}=this.constrainPosition?this.constrainPosition(h,this,this._initialDomRect,this._pickupPositionInElement):h;if("x"===this.lockAxis||"x"===l?E=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===l)&&(y=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:C,y:I}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,W=this._boundaryRect,{width:X,height:z}=this._getPreviewRect(),pe=W.top+I,Me=W.bottom-(z-I);y=Dh(y,W.left+C,W.right-(X-C)),E=Dh(E,pe,Me)}return{x:y,y:E}}_updatePointerDirectionDelta(h){const{x:l,y}=h,E=this._pointerDirectionDelta,C=this._pointerPositionAtLastDirectionChange,I=Math.abs(l-C.x),W=Math.abs(y-C.y);return I>this._config.pointerDirectionChangeThreshold&&(E.x=l>C.x?1:-1,C.x=l),W>this._config.pointerDirectionChangeThreshold&&(E.y=y>C.y?1:-1,C.y=y),E}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const h=this._handles.length>0||!this.isDragging();h!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=h,Fs(this._rootElement,h))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(h=>h()),this._rootElementCleanups=void 0}_applyRootElementTransform(h,l){const y=1/this.scale,E=Jr(h*y,l*y),C=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=C.transform&&"none"!=C.transform?C.transform:""),C.transform=nc(E,this._initialTransform)}_applyPreviewTransform(h,l){const y=this._previewTemplate?.template?void 0:this._initialTransform,E=Jr(h,l);this._preview.setTransform(nc(E,y))}_getDragDistance(h){const l=this._pickupPositionOnPage;return l?{x:h.x-l.x,y:h.y-l.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:h,y:l}=this._passiveTransform;if(0===h&&0===l||this.isDragging()||!this._boundaryElement)return;const y=this._rootElement.getBoundingClientRect(),E=this._boundaryElement.getBoundingClientRect();if(0===E.width&&0===E.height||0===y.width&&0===y.height)return;const C=E.left-y.left,I=y.right-E.right,W=E.top-y.top,X=y.bottom-E.bottom;E.width>y.width?(C>0&&(h+=C),I>0&&(h-=I)):h=0,E.height>y.height?(W>0&&(l+=W),X>0&&(l-=X)):l=0,(h!==this._passiveTransform.x||l!==this._passiveTransform.y)&&this.setFreeDragPosition({y:l,x:h})}_getDragStartDelay(h){const l=this.dragStartDelay;return"number"==typeof l?l:el(h)?l.touch:l?l.mouse:0}_updateOnScroll(h){const l=this._parentPositions.handleScroll(h);if(l){const y=Ma(h);this._boundaryRect&&y!==this._boundaryElement&&y.contains(this._boundaryElement)&&Xr(this._boundaryRect,l.top,l.left),this._pickupPositionOnPage.x+=l.left,this._pickupPositionOnPage.y+=l.top,this._dropContainer||(this._activeTransform.x-=l.left,this._activeTransform.y-=l.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Kn(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(h,l){const y=this._previewContainer||"global";if("parent"===y)return h;if("global"===y){const E=this._document;return l||E.fullscreenElement||E.webkitFullscreenElement||E.mozFullScreenElement||E.msFullscreenElement||E.body}return Wa(y)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=h=>{if(this._handles.length){const l=this._getTargetHandle(h);l&&!this._disabledHandles.has(l)&&!this.disabled&&h.preventDefault()}else this.disabled||h.preventDefault()};_getTargetHandle(h){return this._handles.find(l=>h.target&&(h.target===l||l.contains(h.target)))}_conditionallyInsertAnchor(h,l,y){if(h===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(l===this._initialContainer&&l.hasAnchor){const E=this._anchor??=Vu(this._placeholder);E.classList.remove(Zr),E.classList.add("cdk-drag-anchor"),E.style.transform="",y?y.before(E):Wa(l.element).appendChild(E)}}}function Dh(u,h,l){return Math.max(h,Math.min(l,u))}function el(u){return"t"===u.type[0]}function G_(u){u.preventDefault()}function td(u,h,l){const y=ys(h,u.length-1),E=ys(l,u.length-1);if(y===E)return;const C=u[y],I=E<y?-1:1;for(let W=y;W!==E;W+=I)u[W]=u[W+I];u[E]=C}function ys(u,h){return Math.max(0,Math.min(h,u))}class eo{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction="ltr";constructor(h){this._dragDropRegistry=h}_previousSwap={drag:null,delta:0,overlaps:!1};start(h){this.withItems(h)}sort(h,l,y,E){const C=this._itemPositions,I=this._getItemIndexFromPointerPosition(h,l,y,E);if(-1===I&&C.length>0)return null;const W="horizontal"===this.orientation,X=C.findIndex(st=>st.drag===h),z=C[I],Me=z.clientRect,xe=X>I?1:-1,Ke=this._getItemOffsetPx(C[X].clientRect,Me,xe),_t=this._getSiblingOffsetPx(X,C,xe),ht=C.slice();return td(C,X,I),C.forEach((st,Ct)=>{if(ht[Ct]===st)return;const ut=st.drag===h,bt=ut?Ke:_t,ft=ut?h.getPlaceholderElement():st.drag.getRootElement();st.offset+=bt;const It=Math.round(st.offset*(1/st.drag.scale));W?(ft.style.transform=nc(`translate3d(${It}px, 0, 0)`,st.initialTransform),Xr(st.clientRect,0,bt)):(ft.style.transform=nc(`translate3d(0, ${It}px, 0)`,st.initialTransform),Xr(st.clientRect,bt,0))}),this._previousSwap.overlaps=_r(Me,l,y),this._previousSwap.drag=z.drag,this._previousSwap.delta=W?E.x:E.y,{previousIndex:X,currentIndex:I}}enter(h,l,y,E){const C=null==E||E<0?this._getItemIndexFromPointerPosition(h,l,y):E,I=this._activeDraggables,W=I.indexOf(h),X=h.getPlaceholderElement();let z=I[C];if(z===h&&(z=I[C+1]),!z&&(null==C||-1===C||C<I.length-1)&&this._shouldEnterAsFirstChild(l,y)&&(z=I[0]),W>-1&&I.splice(W,1),z&&!this._dragDropRegistry.isDragging(z)){const pe=z.getRootElement();pe.parentElement.insertBefore(X,pe),I.splice(C,0,h)}else this._element.appendChild(X),I.push(h);X.style.transform="",this._cacheItemPositions()}withItems(h){this._activeDraggables=h.slice(),this._cacheItemPositions()}withSortPredicate(h){this._sortPredicate=h}reset(){this._activeDraggables?.forEach(h=>{const l=h.getRootElement();if(l){const y=this._itemPositions.find(E=>E.drag===h)?.initialTransform;l.style.transform=y||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(h){return this._getVisualItemPositions().findIndex(l=>l.drag===h)}getItemAtIndex(h){return this._getVisualItemPositions()[h]?.drag||null}updateOnScroll(h,l){this._itemPositions.forEach(({clientRect:y})=>{Xr(y,h,l)}),this._itemPositions.forEach(({drag:y})=>{this._dragDropRegistry.isDragging(y)&&y._sortFromLastPointerPosition()})}withElementContainer(h){this._element=h}_cacheItemPositions(){const h="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(l=>{const y=l.getVisibleElement();return{drag:l,offset:0,initialTransform:y.style.transform||"",clientRect:Xo(y)}}).sort((l,y)=>h?l.clientRect.left-y.clientRect.left:l.clientRect.top-y.clientRect.top)}_getVisualItemPositions(){return"horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(h,l,y){const E="horizontal"===this.orientation;let C=E?l.left-h.left:l.top-h.top;return-1===y&&(C+=E?l.width-h.width:l.height-h.height),C}_getSiblingOffsetPx(h,l,y){const E="horizontal"===this.orientation,C=l[h].clientRect,I=l[h+-1*y];let W=C[E?"width":"height"]*y;if(I){const X=E?"left":"top",z=E?"right":"bottom";-1===y?W-=I.clientRect[X]-C[z]:W+=C[X]-I.clientRect[z]}return W}_shouldEnterAsFirstChild(h,l){if(!this._activeDraggables.length)return!1;const y=this._itemPositions,E="horizontal"===this.orientation;if(y[0].drag!==this._activeDraggables[0]){const I=y[y.length-1].clientRect;return E?h>=I.right:l>=I.bottom}{const I=y[0].clientRect;return E?h<=I.left:l<=I.top}}_getItemIndexFromPointerPosition(h,l,y,E){const C="horizontal"===this.orientation,I=this._itemPositions.findIndex(({drag:W,clientRect:X})=>W!==h&&((!E||W!==this._previousSwap.drag||!this._previousSwap.overlaps||(C?E.x:E.y)!==this._previousSwap.delta)&&(C?l>=Math.floor(X.left)&&l<Math.floor(X.right):y>=Math.floor(X.top)&&y<Math.floor(X.bottom))));return-1!==I&&this._sortPredicate(I,h)?I:-1}}class id{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(h,l){this._document=h,this._dragDropRegistry=l}start(h){const l=this._element.childNodes;this._relatedNodes=[];for(let y=0;y<l.length;y++){const E=l[y];this._relatedNodes.push([E,E.nextSibling])}this.withItems(h)}sort(h,l,y,E){const C=this._getItemIndexFromPointerPosition(h,l,y),I=this._previousSwap;if(-1===C||this._activeItems[C]===h)return null;const W=this._activeItems[C];if(I.drag===W&&I.overlaps&&I.deltaX===E.x&&I.deltaY===E.y)return null;const X=this.getItemIndex(h),z=h.getPlaceholderElement(),pe=W.getRootElement();C>X?pe.after(z):pe.before(z),td(this._activeItems,X,C);const Me=this._getRootNode().elementFromPoint(l,y);return I.deltaX=E.x,I.deltaY=E.y,I.drag=W,I.overlaps=pe===Me||pe.contains(Me),{previousIndex:X,currentIndex:C}}enter(h,l,y,E){const C=this._activeItems.indexOf(h);C>-1&&this._activeItems.splice(C,1);let I=null==E||E<0?this._getItemIndexFromPointerPosition(h,l,y):E;-1===I&&(I=this._getClosestItemIndexToPointer(h,l,y));const W=this._activeItems[I];W&&!this._dragDropRegistry.isDragging(W)?(this._activeItems.splice(I,0,h),W.getRootElement().before(h.getPlaceholderElement())):(this._activeItems.push(h),this._element.appendChild(h.getPlaceholderElement()))}withItems(h){this._activeItems=h.slice()}withSortPredicate(h){this._sortPredicate=h}reset(){const h=this._element,l=this._previousSwap;for(let y=this._relatedNodes.length-1;y>-1;y--){const[E,C]=this._relatedNodes[y];E.parentNode===h&&E.nextSibling!==C&&(null===C?h.appendChild(E):C.parentNode===h&&h.insertBefore(E,C))}this._relatedNodes=[],this._activeItems=[],l.drag=null,l.deltaX=l.deltaY=0,l.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(h){return this._activeItems.indexOf(h)}getItemAtIndex(h){return this._activeItems[h]||null}updateOnScroll(){this._activeItems.forEach(h=>{this._dragDropRegistry.isDragging(h)&&h._sortFromLastPointerPosition()})}withElementContainer(h){h!==this._element&&(this._element=h,this._rootNode=void 0)}_getItemIndexFromPointerPosition(h,l,y){const E=this._getRootNode().elementFromPoint(Math.floor(l),Math.floor(y)),C=E?this._activeItems.findIndex(I=>{const W=I.getRootElement();return E===W||W.contains(E)}):-1;return-1!==C&&this._sortPredicate(C,h)?C:-1}_getRootNode(){return this._rootNode||(this._rootNode=Kn(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(h,l,y){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let E=1/0,C=-1;for(let I=0;I<this._activeItems.length;I++){const W=this._activeItems[I];if(W!==h){const{x:X,y:z}=W.getRootElement().getBoundingClientRect(),pe=Math.hypot(l-X,y-z);pe<E&&(E=pe,C=I)}}return C}}var $n=function(u){return u[u.NONE=0]="NONE",u[u.UP=1]="UP",u[u.DOWN=2]="DOWN",u}($n||{}),wn=function(u){return u[u.NONE=0]="NONE",u[u.LEFT=1]="LEFT",u[u.RIGHT=2]="RIGHT",u}(wn||{});function bs(u,h){return new il(h,u.get(qo),u.get(v.qQL),u.get(v.SKi),u.get(mt))}class il{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new ei.B7;entered=new ei.B7;exited=new ei.B7;dropped=new ei.B7;sorted=new ei.B7;receivingStarted=new ei.B7;receivingStopped=new ei.B7;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Be.y.EMPTY;_verticalScrollDirection=$n.NONE;_horizontalScrollDirection=wn.NONE;_scrollNode;_stopScrollTimers=new ei.B7;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(h,l,y,E,C){this._dragDropRegistry=l,this._ngZone=E,this._viewportRuler=C;const I=this.element=Wa(h);this._document=y,this.withOrientation("vertical").withElementContainer(I),l.registerDropContainer(this),this._parentPositions=new zu(y)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(h,l,y,E){this._draggingStarted(),null==E&&this.sortingDisabled&&(E=this._draggables.indexOf(h)),this._sortStrategy.enter(h,l,y,E),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:h,container:this,currentIndex:this.getItemIndex(h)})}exit(h){this._reset(),this.exited.next({item:h,container:this})}drop(h,l,y,E,C,I,W,X={}){this._reset(),this.dropped.next({item:h,currentIndex:l,previousIndex:y,container:this,previousContainer:E,isPointerOverContainer:C,distance:I,dropPoint:W,event:X})}withItems(h){const l=this._draggables;return this._draggables=h,h.forEach(y=>y._withDropContainer(this)),this.isDragging()&&(l.filter(E=>E.isDragging()).every(E=>-1===h.indexOf(E))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(h){return this._direction=h,this._sortStrategy instanceof eo&&(this._sortStrategy.direction=h),this}connectedTo(h){return this._siblings=h.slice(),this}withOrientation(h){if("mixed"===h)this._sortStrategy=new id(this._document,this._dragDropRegistry);else{const l=new eo(this._dragDropRegistry);l.direction=this._direction,l.orientation=h,this._sortStrategy=l}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((l,y)=>this.sortPredicate(l,y,this)),this}withScrollableParents(h){const l=this._container;return this._scrollableElements=-1===h.indexOf(l)?[l,...h]:h.slice(),this}withElementContainer(h){if(h===this._container)return this;Wa(this.element);const y=this._scrollableElements.indexOf(this._container),E=this._scrollableElements.indexOf(h);return y>-1&&this._scrollableElements.splice(y,1),E>-1&&this._scrollableElements.splice(E,1),this._sortStrategy&&this._sortStrategy.withElementContainer(h),this._cachedShadowRoot=null,this._scrollableElements.unshift(h),this._container=h,this}getScrollableParents(){return this._scrollableElements}getItemIndex(h){return this._isDragging?this._sortStrategy.getItemIndex(h):this._draggables.indexOf(h)}getItemAtIndex(h){return this._isDragging?this._sortStrategy.getItemAtIndex(h):this._draggables[h]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(h,l,y,E){if(this.sortingDisabled||!this._domRect||!Ah(this._domRect,.05,l,y))return;const C=this._sortStrategy.sort(h,l,y,E);C&&this.sorted.next({previousIndex:C.previousIndex,currentIndex:C.currentIndex,container:this,item:h})}_startScrollingIfNecessary(h,l){if(this.autoScrollDisabled)return;let y,E=$n.NONE,C=wn.NONE;if(this._parentPositions.positions.forEach((I,W)=>{W===this._document||!I.clientRect||y||Ah(I.clientRect,.05,h,l)&&([E,C]=function cc(u,h,l,y,E){const C=fr(h,E),I=Ps(h,y);let W=$n.NONE,X=wn.NONE;if(C){const z=u.scrollTop;C===$n.UP?z>0&&(W=$n.UP):u.scrollHeight-z>u.clientHeight&&(W=$n.DOWN)}if(I){const z=u.scrollLeft;"rtl"===l?I===wn.RIGHT?z<0&&(X=wn.RIGHT):u.scrollWidth+z>u.clientWidth&&(X=wn.LEFT):I===wn.LEFT?z>0&&(X=wn.LEFT):u.scrollWidth-z>u.clientWidth&&(X=wn.RIGHT)}return[W,X]}(W,I.clientRect,this._direction,h,l),(E||C)&&(y=W))}),!E&&!C){const{width:I,height:W}=this._viewportRuler.getViewportSize(),X={width:I,height:W,top:0,right:I,bottom:W,left:0};E=fr(X,l),C=Ps(X,h),y=window}y&&(E!==this._verticalScrollDirection||C!==this._horizontalScrollDirection||y!==this._scrollNode)&&(this._verticalScrollDirection=E,this._horizontalScrollDirection=C,this._scrollNode=y,(E||C)&&y?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const h=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=h.msScrollSnapType||h.scrollSnapType||"",h.scrollSnapType=h.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const h=this._container.style;h.scrollSnapType=h.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(l=>l._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),function Tt(u=0,h=ua.b){return(!at(u)||u<0)&&(u=0),(!h||"function"!=typeof h.schedule)&&(h=ua.b),new ms.c(l=>(l.add(h.schedule(Ot,u,{subscriber:l,counter:0,period:u})),l))}(0,yn).pipe(kn(this._stopScrollTimers)).subscribe(()=>{const h=this._scrollNode,l=this.autoScrollStep;this._verticalScrollDirection===$n.UP?h.scrollBy(0,-l):this._verticalScrollDirection===$n.DOWN&&h.scrollBy(0,l),this._horizontalScrollDirection===wn.LEFT?h.scrollBy(-l,0):this._horizontalScrollDirection===wn.RIGHT&&h.scrollBy(l,0)})};_isOverContainer(h,l){return null!=this._domRect&&_r(this._domRect,h,l)}_getSiblingContainerFromPosition(h,l,y){return this._siblings.find(E=>E._canReceive(h,l,y))}_canReceive(h,l,y){if(!this._domRect||!_r(this._domRect,l,y)||!this.enterPredicate(h,this))return!1;const E=this._getShadowRoot().elementFromPoint(l,y);return!!E&&(E===this._container||this._container.contains(E))}_startReceiving(h,l){const y=this._activeSiblings;!y.has(h)&&l.every(E=>this.enterPredicate(E,this)||this._draggables.indexOf(E)>-1)&&(y.add(h),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:h,receiver:this,items:l}))}_stopReceiving(h){this._activeSiblings.delete(h),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:h,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>{if(this.isDragging()){const l=this._parentPositions.handleScroll(h);l&&this._sortStrategy.updateOnScroll(l.top,l.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const h=Kn(this._container);this._cachedShadowRoot=h||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const h=this._sortStrategy.getActiveItemsSnapshot().filter(l=>l.isDragging());this._siblings.forEach(l=>l._startReceiving(this,h))}}function fr(u,h){const{top:l,bottom:y,height:E}=u,C=.05*E;return h>=l-C&&h<=l+C?$n.UP:h>=y-C&&h<=y+C?$n.DOWN:$n.NONE}function Ps(u,h){const{left:l,right:y,width:E}=u,C=.05*E;return h>=l-C&&h<=l+C?wn.LEFT:h>=y-C&&h<=y+C?wn.RIGHT:wn.NONE}let nd=(()=>{class u{_injector=(0,v.WQX)(v.zZn);constructor(){}createDrag(l,y){return Th(this._injector,l,y)}createDropList(l){return bs(this._injector,l)}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();const vr=new v.nKC("CDK_DRAG_PARENT"),nl=new v.nKC("CdkDragHandle"),$a=new v.nKC("CDK_DRAG_CONFIG"),to=new v.nKC("CdkDropList");let uc=(()=>{class u{element=(0,v.WQX)(e.aKT);dropContainer=(0,v.WQX)(to,{optional:!0,skipSelf:!0});_ngZone=(0,v.WQX)(v.SKi);_viewContainerRef=(0,v.WQX)(e.c1b);_dir=(0,v.WQX)(Hu,{optional:!0});_changeDetectorRef=(0,v.WQX)(t.gRc);_selfHandle=(0,v.WQX)(nl,{optional:!0,self:!0});_parentDrag=(0,v.WQX)(vr,{optional:!0,skipSelf:!0});_dragDropRegistry=(0,v.WQX)(qo);_destroyed=new ei.B7;_handles=new Ji.t([]);_previewTemplate=null;_placeholderTemplate=null;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!(!this.dropContainer||!this.dropContainer.disabled)}set disabled(l){this._disabled=l,this._dragRef.disabled=this._disabled}_disabled=!1;constrainPosition;previewClass;previewContainer;scale=1;started=new v.bkB;released=new v.bkB;ended=new v.bkB;entered=new v.bkB;exited=new v.bkB;dropped=new v.bkB;moved=new ms.c(l=>{const y=this._dragRef.moved.pipe((0,Vo.T)(E=>({source:this,pointerPosition:E.pointerPosition,event:E.event,delta:E.delta,distance:E.distance}))).subscribe(l);return()=>{y.unsubscribe()}});_injector=(0,v.WQX)(v.zZn);constructor(){const l=this.dropContainer,y=(0,v.WQX)($a,{optional:!0});this._dragRef=Th(this._injector,this.element,{dragStartThreshold:y&&null!=y.dragStartThreshold?y.dragStartThreshold:5,pointerDirectionChangeThreshold:y&&null!=y.pointerDirectionChangeThreshold?y.pointerDirectionChangeThreshold:5,zIndex:y?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),y&&this._assignDefaults(y),l&&(l.addItem(this),l._dropListRef.beforeStarted.pipe(kn(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(l){this._dragRef.setFreeDragPosition(l)}ngAfterViewInit(){(0,e.mal)(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(l){const y=l.rootElementSelector,E=l.freeDragPosition;y&&!y.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,E&&!E.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(l){const y=this._handles.getValue();y.push(l),this._handles.next(y)}_removeHandle(l){const y=this._handles.getValue(),E=y.indexOf(l);E>-1&&(y.splice(E,1),this._handles.next(y))}_setPreviewTemplate(l){this._previewTemplate=l}_resetPreviewTemplate(l){l===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(l){this._placeholderTemplate=l}_resetPlaceholderTemplate(l){l===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const l=this.element.nativeElement;let y=l;this.rootElementSelector&&(y=void 0!==l.closest?l.closest(this.rootElementSelector):l.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(y||l)}_getBoundaryElement(){const l=this.boundaryElement;return l?"string"==typeof l?this.element.nativeElement.closest(l):Wa(l):null}_syncInputs(l){l.beforeStarted.subscribe(()=>{if(!l.isDragging()){const y=this._dir,E=this.dragStartDelay,C=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,I=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;l.disabled=this.disabled,l.lockAxis=this.lockAxis,l.scale=this.scale,l.dragStartDelay="object"==typeof E&&E?E:Ho(E),l.constrainPosition=this.constrainPosition,l.previewClass=this.previewClass,l.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(C).withPreviewTemplate(I).withPreviewContainer(this.previewContainer||"global"),y&&l.withDirection(y.value)}}),l.beforeStarted.pipe(function Ft(u){return h=>0===u?(0,vh.I)():h.lift(new Hr(u))}(1)).subscribe(()=>{if(this._parentDrag)return void l.withParent(this._parentDrag._dragRef);let y=this.element.nativeElement.parentElement;for(;y;){const E=this._dragDropRegistry.getDragDirectiveForNode(y);if(E){l.withParent(E._dragRef);break}y=y.parentElement}})}_handleEvents(l){l.started.subscribe(y=>{this.started.emit({source:this,event:y.event}),this._changeDetectorRef.markForCheck()}),l.released.subscribe(y=>{this.released.emit({source:this,event:y.event})}),l.ended.subscribe(y=>{this.ended.emit({source:this,distance:y.distance,dropPoint:y.dropPoint,event:y.event}),this._changeDetectorRef.markForCheck()}),l.entered.subscribe(y=>{this.entered.emit({container:y.container.data,item:this,currentIndex:y.currentIndex})}),l.exited.subscribe(y=>{this.exited.emit({container:y.container.data,item:this})}),l.dropped.subscribe(y=>{this.dropped.emit({previousIndex:y.previousIndex,currentIndex:y.currentIndex,previousContainer:y.previousContainer.data,container:y.container.data,isPointerOverContainer:y.isPointerOverContainer,item:this,distance:y.distance,dropPoint:y.dropPoint,event:y.event})})}_assignDefaults(l){const{lockAxis:y,dragStartDelay:E,constrainPosition:C,previewClass:I,boundaryElement:W,draggingDisabled:X,rootElementSelector:z,previewContainer:pe}=l;this.disabled=X??!1,this.dragStartDelay=E||0,this.lockAxis=y||null,C&&(this.constrainPosition=C),I&&(this.previewClass=I),W&&(this.boundaryElement=W),z&&(this.rootElementSelector=z),pe&&(this.previewContainer=pe)}_setupHandlesListener(){this._handles.pipe((0,ec.M)(l=>{const y=l.map(E=>E.element);this._selfHandle&&this.rootElementSelector&&y.push(this.element),this._dragRef.withHandles(y)}),(0,W_.n)(l=>Ce(...l.map(y=>y._stateChanges.pipe(mr(y))))),kn(this._destroyed)).subscribe(l=>{const y=this._dragRef,E=l.element.nativeElement;l.disabled?y.disableHandle(E):y.enableHandle(E)})}static \u0275fac=function(y){return new(y||u)};static \u0275dir=e.FsC({type:u,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(y,E){2&y&&e.AVh("cdk-drag-disabled",E.disabled)("cdk-drag-dragging",E._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",t.L39],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",t.Udg]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[e.Jv_([{provide:vr,useExisting:u}]),e.OA$]})}return u})();const ka=new v.nKC("CdkDropListGroup");let sl=(()=>{class u{element=(0,v.WQX)(e.aKT);_changeDetectorRef=(0,v.WQX)(t.gRc);_scrollDispatcher=(0,v.WQX)(F);_dir=(0,v.WQX)(Hu,{optional:!0});_group=(0,v.WQX)(ka,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new ei.B7;_scrollableParentsResolved=!1;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation="vertical";id=(0,v.WQX)(zr).getId("cdk-drop-list-");lockAxis=null;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(l){this._dropListRef.disabled=this._disabled=l}_disabled=!1;sortingDisabled=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled=!1;autoScrollStep;elementContainerSelector=null;hasAnchor=!1;dropped=new v.bkB;entered=new v.bkB;exited=new v.bkB;sorted=new v.bkB;_unsortedItems=new Set;constructor(){const l=(0,v.WQX)($a,{optional:!0}),y=(0,v.WQX)(v.zZn);this._dropListRef=bs(y,this.element),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(E,C)=>this.enterPredicate(E.data,C.data),this._dropListRef.sortPredicate=(E,C,I)=>this.sortPredicate(E,C.data,I.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),u._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(l){this._unsortedItems.add(l),l._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(y=>y._dragRef))}removeItem(l){if(this._unsortedItems.delete(l),this._latestSortedRefs){const y=this._latestSortedRefs.indexOf(l._dragRef);y>-1&&(this._latestSortedRefs.splice(y,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((l,y)=>l._dragRef.getVisibleElement().compareDocumentPosition(y._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const l=u._dropLists.indexOf(this);l>-1&&u._dropLists.splice(l,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(l){this._dir&&this._dir.change.pipe(mr(this._dir.value),kn(this._destroyed)).subscribe(y=>l.withDirection(y)),l.beforeStarted.subscribe(()=>{const y=function ju(u){return Array.isArray(u)?u:[u]}(this.connectedTo).map(E=>"string"==typeof E?u._dropLists.find(I=>I.id===E):E);if(this._group&&this._group._items.forEach(E=>{-1===y.indexOf(E)&&y.push(E)}),!this._scrollableParentsResolved){const E=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(C=>C.getElementRef().nativeElement);this._dropListRef.withScrollableParents(E),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){const E=this.element.nativeElement.querySelector(this.elementContainerSelector);l.withElementContainer(E)}l.disabled=this.disabled,l.lockAxis=this.lockAxis,l.sortingDisabled=this.sortingDisabled,l.autoScrollDisabled=this.autoScrollDisabled,l.autoScrollStep=Ho(this.autoScrollStep,2),l.hasAnchor=this.hasAnchor,l.connectedTo(y.filter(E=>E&&E!==this).map(E=>E._dropListRef)).withOrientation(this.orientation)})}_handleEvents(l){l.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(y=>y._dragRef)),this._changeDetectorRef.markForCheck()}),l.entered.subscribe(y=>{this.entered.emit({container:this,item:y.item.data,currentIndex:y.currentIndex})}),l.exited.subscribe(y=>{this.exited.emit({container:this,item:y.item.data}),this._changeDetectorRef.markForCheck()}),l.sorted.subscribe(y=>{this.sorted.emit({previousIndex:y.previousIndex,currentIndex:y.currentIndex,container:this,item:y.item.data})}),l.dropped.subscribe(y=>{this.dropped.emit({previousIndex:y.previousIndex,currentIndex:y.currentIndex,previousContainer:y.previousContainer.data,container:y.container.data,item:y.item.data,isPointerOverContainer:y.isPointerOverContainer,distance:y.distance,dropPoint:y.dropPoint,event:y.event}),this._changeDetectorRef.markForCheck()}),Ce(l.receivingStarted,l.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(l){const{lockAxis:y,draggingDisabled:E,sortingDisabled:C,listAutoScrollDisabled:I,listOrientation:W}=l;this.disabled=E??!1,this.sortingDisabled=C??!1,this.autoScrollDisabled=I??!1,this.orientation=W||"vertical",this.lockAxis=y||null}_syncItemsWithRef(l){this._latestSortedRefs=l,this._dropListRef.withItems(l)}static \u0275fac=function(y){return new(y||u)};static \u0275dir=e.FsC({type:u,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(y,E){2&y&&(e.BMQ("id",E.id),e.AVh("cdk-drop-list-disabled",E.disabled)("cdk-drop-list-dragging",E._dropListRef.isDragging())("cdk-drop-list-receiving",E._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",t.L39],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",t.L39],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",t.L39],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",t.L39]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[e.Jv_([{provide:ka,useValue:void 0},{provide:to,useExisting:u}])]})}return u})(),sd=(()=>{class u{static \u0275fac=function(y){return new(y||u)};static \u0275mod=e.$C({type:u});static \u0275inj=v.G2t({providers:[nd],imports:[jo]})}return u})();var rd=i(95892),Mt=i(62223),ga=i(38129);let od=(()=>{class u{el;renderer;tooltipText=null;tooltipElement=null;currentTooltipText=null;constructor(l,y){this.el=l,this.renderer=y}onShow(){const l=this.formatTooltipText(this.tooltipText);l?(this.currentTooltipText=l,this.ensureTooltipElements(),this.tooltipElement&&(this.tooltipElement.textContent=l,this.renderer.setAttribute(this.tooltipElement,"role","tooltip"),this.updatePosition(l))):this.removeTooltip()}onHide(){this.removeTooltip()}onViewportChange(){!this.currentTooltipText||!this.tooltipElement||this.updatePosition(this.currentTooltipText)}ngOnDestroy(){this.removeTooltip()}updatePosition(l){if(!this.tooltipElement)return;const y=this.el.nativeElement.getBoundingClientRect(),E=window.innerWidth,C=window.innerHeight,I=12,X=12,z=Math.min(420,E-24),pe=Math.min(360,C-24),{width:Me,height:xe}=this.measureTooltip(l,z,pe),_t=this.clamp(y.left+y.width/2-Me/2,I,E-Me-I),ht=y.top,st=C-y.bottom,bt=xe+X+0;let ft="top";const It=E-y.right>=Me+X+0;It||y.left>=Me+X+0?ft=It?"right":"left":ht<bt&&st>=bt?ft="bottom":ht<bt&&st<bt&&(ft=ht>=st?"top":"bottom");let ui=y.top-xe-X-0,Ut=_t;"bottom"===ft&&(ui=y.bottom+X+0),"right"===ft&&(Ut=this.clamp(y.right+X+0,I,E-Me-I),ui=this.clamp(y.top+y.height/2-xe/2,I,C-xe-I)),"left"===ft&&(Ut=this.clamp(y.left-Me-X-0,I,E-Me-I),ui=this.clamp(y.top+y.height/2-xe/2,I,C-xe-I)),this.renderer.setStyle(this.tooltipElement,"left",`${Ut}px`),this.renderer.setStyle(this.tooltipElement,"top",`${ui}px`),this.renderer.setStyle(this.tooltipElement,"max-width",`${z}px`),this.renderer.setStyle(this.tooltipElement,"max-height",`${pe}px`),this.renderer.setAttribute(this.tooltipElement,"data-placement",ft)}measureTooltip(l,y,E){const C=document.createElement("div");C.textContent=l,C.style.position="fixed",C.style.visibility="hidden",C.style.pointerEvents="none",C.style.fontSize="0.72rem",C.style.lineHeight="1.2",C.style.padding="0.45rem 0.6rem",C.style.borderRadius="8px",C.style.maxWidth=`${y}px`,C.style.maxHeight=`${E}px`,C.style.whiteSpace="pre-wrap",C.style.overflow="visible",C.style.boxSizing="border-box",C.style.width="max-content",document.body.appendChild(C);let I=C.getBoundingClientRect();return I.width>y&&(C.style.width=`${y}px`,I=C.getBoundingClientRect()),document.body.removeChild(C),{width:I.width,height:I.height}}ensureTooltipElements(){this.tooltipElement||(this.tooltipElement=this.renderer.createElement("div"),this.renderer.addClass(this.tooltipElement,"sap-floating-tooltip"),this.renderer.appendChild(document.body,this.tooltipElement))}removeTooltip(){this.currentTooltipText=null,this.tooltipElement&&(this.renderer.removeChild(document.body,this.tooltipElement),this.tooltipElement=null)}formatTooltipText(l){return l?l.trim().replace(/\s*(Level\s+\d+\s*[:-])/gi,"\n$1").replace(/^\n+/,"").replace(/\n{3,}/g,"\n\n"):""}clamp(l,y,E){return Math.min(Math.max(l,y),E)}static \u0275fac=function(y){return new(y||u)(e.rXU(e.aKT),e.rXU(e.sFG))};static \u0275dir=e.FsC({type:u,selectors:[["","appTooltip",""]],hostBindings:function(y,E){1&y&&e.bIt("mouseenter",function(){return E.onShow()})("focus",function(){return E.onShow()})("mouseleave",function(){return E.onHide()})("blur",function(){return E.onHide()})("resize",function(){return E.onViewportChange()},e.tSv)("scroll",function(){return E.onViewportChange()},e.tSv)},inputs:{tooltipText:[0,"appTooltip","tooltipText"]}})}return u})();var As=i(56990),aa=i(90966),Ns=i(26886);const dc=["searchInput"];function ol(u,h){if(1&u&&e.nrm(0,"img",21),2&u){const l=h.ngIf,y=e.XpG().$implicit;e.Y8G("ngSrc",l)("alt",y)}}function ll(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){const E=v.eBV(l).$implicit,C=e.XpG(2);return v.Njj(C.selectPack(E))}),e.j41(1,"span",19),e.DNE(2,ol,1,2,"img",20),e.j41(3,"span"),e.EFF(4),e.k0s()()()}if(2&u){const l=h.$implicit,y=e.XpG(2);e.AVh("btn-primary",y.selectedPack===l)("btn-outline-primary",y.selectedPack!==l),e.R7$(2),e.Y8G("ngIf",y.getPackFilterIcon(l)),e.R7$(2),e.JRh(l)}}function V_(u,h){if(1&u&&(e.j41(0,"div",16),e.DNE(1,ll,5,6,"button",17),e.k0s()),2&u){const l=e.XpG();e.R7$(),e.Y8G("ngForOf",l.availablePacks)("ngForTrackBy",l.trackByPack)}}function z_(u,h){if(1&u&&e.nrm(0,"img",21),2&u){const l=h.ngIf,y=e.XpG().$implicit;e.Y8G("ngSrc",l)("alt",y)}}function BP(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){const E=v.eBV(l).$implicit,C=e.XpG(2);return v.Njj(C.selectPack(E))}),e.j41(1,"span",19),e.DNE(2,z_,1,2,"img",20),e.j41(3,"span"),e.EFF(4),e.k0s()()()}if(2&u){const l=h.$implicit,y=e.XpG(2);e.AVh("btn-primary",y.selectedPack===l)("btn-outline-primary",y.selectedPack!==l),e.R7$(2),e.Y8G("ngIf",y.getPackFilterIcon(l)),e.R7$(2),e.JRh(l)}}function ld(u,h){if(1&u&&(e.j41(0,"div",16),e.DNE(1,BP,5,6,"button",17),e.k0s()),2&u){const l=e.XpG();e.R7$(),e.Y8G("ngForOf",l.abilityPackFilters)("ngForTrackBy",l.trackByPack)}}function pc(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",22)(1,"div",23)(2,"input",24),e.bIt("change",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.selectedLevel=1)}),e.k0s(),e.j41(3,"label",25),e.EFF(4,"Lv. 1"),e.k0s(),e.j41(5,"input",26),e.bIt("change",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.selectedLevel=2)}),e.k0s(),e.j41(6,"label",27),e.EFF(7,"Lv. 2"),e.k0s(),e.j41(8,"input",28),e.bIt("change",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.selectedLevel=3)}),e.k0s(),e.j41(9,"label",29),e.EFF(10,"Lv. 3"),e.k0s()()()}if(2&u){const l=e.XpG();e.R7$(2),e.Y8G("checked",1===l.selectedLevel),e.R7$(3),e.Y8G("checked",2===l.selectedLevel),e.R7$(3),e.Y8G("checked",3===l.selectedLevel)}}function wh(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){const E=v.eBV(l).$implicit,C=e.XpG(2);return v.Njj(C.selectItemCategory(E))}),e.EFF(1),e.k0s()}if(2&u){const l=h.$implicit,y=e.XpG(2);e.AVh("btn-primary",y.selectedItemCategory===l)("btn-outline-primary",y.selectedItemCategory!==l),e.R7$(),e.SpI(" ",l," ")}}function Y_(u,h){if(1&u&&(e.j41(0,"div",16),e.DNE(1,wh,2,5,"button",17),e.k0s()),2&u){const l=e.XpG();e.R7$(),e.Y8G("ngForOf",l.availableItemCategories)("ngForTrackBy",l.trackByCategory)}}function cl(u,h){1&u&&(e.j41(0,"div",30)(1,"span",31),e.EFF(2,"\u26a0"),e.k0s(),e.j41(3,"span"),e.EFF(4,"Equipment & Toys are "),e.j41(5,"strong"),e.EFF(6,"non-vanilla"),e.k0s(),e.EFF(7," features and are indicated by a yellow border."),e.k0s()())}function Oh(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",32),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.onItemClick(null))}),e.j41(1,"div",33)(2,"span",34),e.EFF(3,"None"),e.k0s()(),e.j41(4,"div",35),e.EFF(5,"None"),e.k0s()()}}function hc(u,h){if(1&u&&(e.j41(0,"div",39),e.EFF(1),e.k0s()),2&u){const l=e.XpG().$implicit;e.R7$(),e.SpI(" ",l.category," ")}}function Ih(u,h){if(1&u&&e.nrm(0,"img",42),2&u){const l=e.XpG(2).$implicit;e.Y8G("ngSrc",l.icon)("alt",l.name)}}function Rh(u,h){if(1&u&&(e.j41(0,"div",43),e.EFF(1),e.k0s()),2&u){const l=e.XpG(2).$implicit;e.Y8G("ngClass","tier-badge-tier-"+l.tier),e.R7$(),e.SpI(" ",l.tier," ")}}function Lh(u,h){if(1&u&&(e.qex(0),e.DNE(1,Ih,1,2,"img",40)(2,Rh,2,2,"div",41),e.bVm()),2&u){const l=e.XpG().$implicit,y=e.XpG();e.R7$(),e.Y8G("ngIf",l.icon),e.R7$(),e.Y8G("ngIf",l.tier>0&&"hard-toy"!==y.type)}}function cd(u,h){if(1&u&&e.nrm(0,"img",46),2&u){const l=h.$implicit,y=e.XpG(2).$implicit;e.Y8G("ngSrc",l)("alt",y.name)}}function gc(u,h){if(1&u&&(e.j41(0,"div",44),e.DNE(1,cd,1,2,"img",45),e.k0s()),2&u){const l=e.XpG().$implicit,y=e.XpG();e.R7$(),e.Y8G("ngForOf",l.icons)("ngForTrackBy",y.trackByIndex)}}function xh(u,h){if(1&u){const l=e.RV6();e.qex(0),e.DNE(1,hc,2,1,"div",36),e.j41(2,"div",37),e.bIt("click",function(){const E=v.eBV(l).$implicit,C=e.XpG();return v.Njj(C.onItemClick(E))}),e.j41(3,"div",33),e.DNE(4,Lh,3,2,"ng-container",38)(5,gc,2,2,"ng-template",null,1,e.C5r),e.k0s(),e.j41(7,"div",35),e.EFF(8),e.k0s()(),e.bVm()}if(2&u){const l=h.$implicit,y=h.index,E=e.sdS(6),C=e.XpG();e.R7$(),e.Y8G("ngIf",0===y||C.filteredItems[y-1].category!==l.category),e.R7$(),e.AVh("item-card-disabled",l.isDisabled)("team-card","team"===C.type),e.Y8G("appTooltip",l.tooltip||l.displayName||l.name),e.R7$(),e.AVh("team-container","team"===C.type),e.R7$(),e.Y8G("ngIf","team"!==C.type)("ngIfElse",E),e.R7$(4),e.JRh(l.displayName||l.name)}}function ud(u,h){if(1&u&&(e.j41(0,"div",47),e.EFF(1),e.k0s()),2&u){const l=e.XpG();e.R7$(),e.SpI(' No items found matching "',l.searchQuery,'" ')}}let mc=(()=>{class u{petService;equipmentService;toyService;type="pet";currentPack="Turtle";showTokenPets=!1;showAllPets=!1;customPacks=null;savedTeams=[];lockAbilityLevel=!1;initialLevel=1;select=new v.bkB;close=new v.bkB;searchInput;searchQuery="";selectedPack="All";availablePacks=["All",...ga.d,"Tokens"];selectedItemCategory="All";availableItemCategories=["All"];selectedLevel=1;items=[];filteredItems=[];customPacksSubscription=null;basePetItems=null;tokenItems=[];equipmentItems=null;toyItems=null;hardToyItems=null;searchDebounceHandle=null;trackByPack(l,y){return y??String(l)}trackByCategory(l,y){return y??String(l)}trackByItem(l,y){return y?.id??y?.name??l}trackByIndex(l){return l}get shouldShowNoneCard(){return"swallowed-pet"!==this.type&&"ability"!==this.type&&"pack"!==this.type&&"team"!==this.type&&0===this.searchQuery.trim().length}constructor(l,y,E){this.petService=l,this.equipmentService=y,this.toyService=E}ngOnInit(){this.selectedLevel=this.clampLevel(this.initialLevel),this.updateAvailablePacks(),this.customPacks&&this.customPacks instanceof ue.Yp&&(this.customPacksSubscription=this.customPacks.valueChanges.subscribe(()=>{this.updateAvailablePacks(),this.loadItems()})),this.showAllPets?this.selectedPack="All":this.currentPack&&"custom"!==this.currentPack&&(this.selectedPack=this.currentPack),this.availablePacks.includes(this.selectedPack)||(this.selectedPack="All"),this.loadItems()}ngAfterViewInit(){setTimeout(()=>{this.searchInput?.nativeElement?.focus(),this.searchInput?.nativeElement?.select()})}ngOnDestroy(){this.customPacksSubscription&&this.customPacksSubscription.unsubscribe(),this.searchDebounceHandle&&(clearTimeout(this.searchDebounceHandle),this.searchDebounceHandle=null)}updateAvailablePacks(){if(this.availablePacks=["All",...ga.d,"Tokens"],this.customPacks&&this.customPacks instanceof ue.Yp){const l=this.customPacks;for(const y of l.controls){const E=y.get("name")?.value;E&&y.valid&&this.availablePacks.push(E)}}this.availablePacks.includes(this.selectedPack)||(this.selectedPack="All")}loadItems(){"pet"===this.type||"swallowed-pet"===this.type?this.loadPets():"equipment"===this.type?this.loadEquipment():"toy"===this.type?this.loadToys(!1):"hard-toy"===this.type?this.loadToys(!0):"pack"===this.type?this.loadPacks():"team"===this.type?this.loadTeams():"ability"===this.type&&this.loadAbilities(),this.updateAvailableItemCategories(),this.filterItems()}loadPets(){const l=[];if(!this.basePetItems){const E=[];for(const C of ga.d){const I=this.petService.basePackPetsByName[C];if(I)for(const[W,X]of I)X.forEach(z=>{E.push({name:z,displayName:z,tier:W,pack:C,icon:(0,Mt.EA)(z),tooltip:(0,Mt.XR)(z),type:"pet",category:`Tier ${W}`})})}this.basePetItems=E}if(l.push(...this.basePetItems),this.customPacks&&this.customPacks instanceof ue.Yp){const E=this.customPacks;for(const C of E.controls){const I=C.get("name")?.value;if(!I||!C.valid)continue;const W=this.petService.playerCustomPackPets.get(I);if(W)for(const[X,z]of W)z.forEach(pe=>{l.push({name:pe,displayName:pe,tier:X,pack:I,icon:(0,Mt.EA)(pe),tooltip:(0,Mt.XR)(pe),type:"pet",category:`Tier ${X}`})})}}this.tokenItems=this.buildTokenItems(),l.push(...this.tokenItems);const y=new Map;l.forEach(E=>{const C=y.get(E.name);C?"Tokens"===C.pack&&"Tokens"!==E.pack&&y.set(E.name,E):y.set(E.name,E)}),this.items=Array.from(y.values())}loadEquipment(){if(!this.equipmentItems){const l=[],y=this.equipmentService.getInstanceOfAllEquipment(),E=this.equipmentService.getInstanceOfAllAilments();y.forEach((C,I)=>{"Corncob"===C?.name||"Mana Potion"===C?.name||l.push({name:I,displayName:C.name,tier:C.tier||0,icon:(0,Mt.ht)(C.name),tooltip:(0,Mt.yx)(C.name),type:"equipment",category:C.tier?`Tier ${C.tier}`:"Perks",item:C})}),E.forEach((C,I)=>{l.push({name:I,displayName:C.name,tier:0,icon:(0,Mt.ht)(C.name,!0),tooltip:(0,Mt.yx)(C.name),type:"ailment",category:"Ailments",item:C})}),this.equipmentItems=l}this.items=this.equipmentItems}loadTeams(){const l=Array.isArray(this.savedTeams)?this.savedTeams:[];this.items=l.map(y=>{const E=(y.pets||[]).map(I=>I?.name).filter(Boolean).slice(0,5),C=E.map(I=>(0,Mt.EA)(I));return{id:y.id,name:y.name,displayName:y.name,tier:0,icon:null,icons:C,tooltip:E.join(", "),type:"team",category:"Saved Teams"}})}loadToys(l){if(!(l?this.hardToyItems:this.toyItems)){const E=[];this.toyService.getToysByType(l?1:0).forEach((I,W)=>{I.forEach(X=>{E.push({name:X,displayName:X,tier:W,icon:(0,Mt.bG)(X),tooltip:(0,Mt.Mw)(X),type:l?"hard-toy":"toy",category:`Tier ${W}`,item:X})})}),l?this.hardToyItems=E:this.toyItems=E}this.items=l?this.hardToyItems:this.toyItems}loadPacks(){const l=[];for(const y of ga.d)"Custom"!==y&&l.push({name:y,displayName:y,tier:0,icon:(0,Mt.qK)(y),type:"pack",category:"Packs"});if(this.customPacks&&this.customPacks instanceof ue.Yp){const y=this.customPacks;for(const E of y.controls){const C=E.get("name")?.value;if(C&&E.valid){const I=this.getFirstCustomPackPet(E);l.push({name:C,displayName:C,tier:0,icon:I?(0,Mt.EA)(I):(0,Mt.qK)(C),type:"pack",category:"Custom Packs"})}}}l.push({name:"Add Custom Pack",displayName:"+ Add Custom Pack",tier:0,icon:(0,Mt.EA)("White Tiger"),type:"pack",category:"Custom Packs"}),this.items=l}filterItems(){let l=this.items;if(("pet"===this.type||"swallowed-pet"===this.type)&&("Tokens"===this.selectedPack?l=this.tokenItems:"All"!==this.selectedPack&&(l=l.filter(y=>y.pack===this.selectedPack||"swallowed-pet"===this.type&&"Tokens"===y.pack))),"ability"===this.type&&"All"!==this.selectedPack&&(l=l.filter("Tokens"===this.selectedPack?y=>"Tokens"===y.pack:"Equipment"===this.selectedPack?y=>"equipment"===y.type||"ailment"===y.type:"Toys"===this.selectedPack?y=>"toy"===y.type||"hard-toy"===y.type:y=>y.pack===this.selectedPack||y.isDisabled)),("equipment"===this.type||"toy"===this.type||"hard-toy"===this.type)&&"All"!==this.selectedItemCategory&&(l=l.filter(y=>y.category===this.selectedItemCategory)),this.searchQuery){const y=this.searchQuery.toLowerCase();l=l.filter(E=>E.name.toLowerCase().includes(y)||E.displayName&&E.displayName.toLowerCase().includes(y))}this.filteredItems=[...l].sort((y,E)=>{if("ability"===this.type){const C=W=>"pet"===W.type?0:"equipment"===W.type||"ailment"===W.type?1:2,I=C(y)-C(E);if(0!==I)return I}return"Ailments"===y.category&&"Ailments"!==E.category?1:"Ailments"!==y.category&&"Ailments"===E.category?-1:y.category!==E.category?y.category.localeCompare(E.category):y.tier!==E.tier?y.tier-E.tier:y.name.localeCompare(E.name)})}onSearchChange(){this.searchDebounceHandle&&clearTimeout(this.searchDebounceHandle),this.searchDebounceHandle=setTimeout(()=>{this.searchDebounceHandle=null,this.filterItems()},50)}selectPack(l){this.selectedPack=l,this.filterItems()}selectItemCategory(l){this.selectedItemCategory=l,this.filterItems()}getPackFilterIcon(l){if(!l||"All"===l)return null;if("Tokens"===l)return(0,Mt.EA)("Bee");if(ga.d.includes(l))return(0,Mt.qK)(l);if(this.customPacks&&this.customPacks instanceof ue.Yp){const E=this.customPacks.controls.find(C=>C.get("name")?.value===l&&C.valid);if(E){const C=this.getFirstCustomPackPet(E);if(C)return(0,Mt.EA)(C)}}return(0,Mt.qK)(l)}onItemClick(l){this.select.emit(l?"team"!==this.type?"pet"===this.type||"swallowed-pet"===this.type||"pack"===this.type?"swallowed-pet"===this.type?{name:l.name,level:this.selectedLevel}:l.name:"ability"===this.type?{name:l.name,level:this.selectedLevel}:l.item:l.id||l.name:null)}onCancel(){this.close.emit()}getFirstCustomPackPet(l){for(let y=1;y<=6;y++){const E=l.get(`tier${y}Pets`)?.value;if(Array.isArray(E)){const C=E.find(I=>!!I);if(C)return C}}return null}buildTokenItems(){const l=[];for(const[y,E]of this.petService.tokenPetsMap)E.forEach(C=>{l.push({name:C,displayName:C,tier:y,pack:"Tokens",icon:(0,Mt.EA)(C),tooltip:(0,Mt.XR)(C),type:"pet",category:"Tokens"})});return l}loadAbilities(){const l=[];if(!this.basePetItems){const W=[];for(const X of ga.d){const z=this.petService.basePackPetsByName[X];if(z)for(const[pe,Me]of z)Me.forEach(xe=>{W.push({name:xe,displayName:xe,tier:pe,pack:X,icon:(0,Mt.EA)(xe),tooltip:(0,Mt.XR)(xe),type:"pet",category:`Tier ${pe}`})})}this.basePetItems=W}const y=[];y.push(...this.basePetItems),y.push(...this.buildTokenItems());const E=new Map;y.forEach(W=>{const X=E.get(W.name);X?"Tokens"===X.pack&&"Tokens"!==W.pack&&E.set(W.name,W):E.set(W.name,W)}),l.push(...Array.from(E.values())),this.equipmentItems||this.loadEquipment();const C=(this.equipmentItems??[]).map(W=>({...W,isDisabled:!0,category:"ailment"===W.type?"Ailments":W.category??"Equipment"}));this.toyItems||this.loadToys(!1),this.hardToyItems||this.loadToys(!0);const I=[...this.toyItems??[],...this.hardToyItems??[]].map(W=>({...W,isDisabled:!0,category:"hard-toy"===W.type?`Hard Toy Tier ${W.tier}`:`Toy Tier ${W.tier}`}));this.items=[...l,...C,...I]}updateAvailableItemCategories(){if("equipment"!==this.type&&"toy"!==this.type&&"hard-toy"!==this.type)return this.availableItemCategories=["All"],void(this.selectedItemCategory="All");const l=Array.from(new Set(this.items.map(y=>y.category).filter(Boolean)));l.sort((y,E)=>{const C=this.extractTierNumber(y),I=this.extractTierNumber(E);return null!=C&&null!=I?C-I:null!=C?-1:null!=I?1:y.localeCompare(E)}),this.availableItemCategories=["All",...l],this.availableItemCategories.includes(this.selectedItemCategory)||(this.selectedItemCategory="All")}get abilityPackFilters(){return"ability"!==this.type?[]:["All",...ga.d,"Tokens","Equipment","Toys"]}extractTierNumber(l){const y=/^Tier\s+(\d+)$/i.exec(l);return y?Number(y[1]):null}clampLevel(l){const y=Number(l);return Number.isFinite(y)?Math.max(1,Math.min(3,Math.trunc(y))):1}static \u0275fac=function(y){return new(y||u)(e.rXU(As.T),e.rXU(aa.m),e.rXU(Ns.w))};static \u0275cmp=e.VBU({type:u,selectors:[["app-item-selection-dialog"]],viewQuery:function(y,E){if(1&y&&e.GBs(dc,5),2&y){let C;e.mGM(C=e.lsd())&&(E.searchInput=C.first)}},inputs:{type:"type",currentPack:"currentPack",showTokenPets:"showTokenPets",showAllPets:"showAllPets",customPacks:"customPacks",savedTeams:"savedTeams",lockAbilityLevel:"lockAbilityLevel",initialLevel:"initialLevel"},outputs:{select:"select",close:"close"},decls:19,vars:13,consts:[["searchInput",""],["teamIcons",""],[1,"selection-overlay",3,"click"],[1,"selection-dialog","card","shadow-lg",3,"click"],[1,"dialog-header"],[1,"btn-close",3,"click"],[1,"dialog-body"],[1,"search-container"],["type","text","placeholder","Search...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["class","pack-filters",4,"ngIf"],["class","ability-level-selector mt-2 text-center",4,"ngIf"],["class","ability-mode-notice",4,"ngIf"],[1,"items-grid","scroll"],["class","item-card none-card",3,"click",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","no-results",4,"ngIf"],[1,"pack-filters"],["class","btn btn-sm",3,"btn-primary","btn-outline-primary","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-sm",3,"click"],[1,"pack-filter-content"],["width","18","height","18","loading","lazy","decoding","async","class","pack-filter-icon",3,"ngSrc","alt",4,"ngIf"],["width","18","height","18","loading","lazy","decoding","async",1,"pack-filter-icon",3,"ngSrc","alt"],[1,"ability-level-selector","mt-2","text-center"],["role","group","aria-label","Ability Level Selector",1,"btn-group","btn-group-sm"],["type","radio","name","abilityLevel","id","abilityLevel1",1,"btn-check",3,"change","checked"],["for","abilityLevel1",1,"btn","btn-outline-primary"],["type","radio","name","abilityLevel","id","abilityLevel2",1,"btn-check",3,"change","checked"],["for","abilityLevel2",1,"btn","btn-outline-primary"],["type","radio","name","abilityLevel","id","abilityLevel3",1,"btn-check",3,"change","checked"],["for","abilityLevel3",1,"btn","btn-outline-primary"],[1,"ability-mode-notice"],[1,"notice-icon"],[1,"item-card","none-card",3,"click"],[1,"item-icon-container"],[1,"none-icon"],[1,"item-name"],["class","category-header",4,"ngIf"],[1,"item-card",3,"click","appTooltip"],[4,"ngIf","ngIfElse"],[1,"category-header"],["width","48","height","48","loading","lazy","decoding","async","class","item-icon",3,"ngSrc","alt",4,"ngIf"],["class","tier-badge",3,"ngClass",4,"ngIf"],["width","48","height","48","loading","lazy","decoding","async",1,"item-icon",3,"ngSrc","alt"],[1,"tier-badge",3,"ngClass"],[1,"team-icon-strip"],["width","32","height","32","loading","lazy","decoding","async","class","team-icon",3,"ngSrc","alt",4,"ngFor","ngForOf","ngForTrackBy"],["width","32","height","32","loading","lazy","decoding","async",1,"team-icon",3,"ngSrc","alt"],[1,"no-results"]],template:function(y,E){if(1&y){const C=e.RV6();e.j41(0,"div",2),e.bIt("click",function(){return v.eBV(C),v.Njj(E.onCancel())}),e.j41(1,"div",3),e.bIt("click",function(W){return v.eBV(C),v.Njj(W.stopPropagation())}),e.j41(2,"div",4)(3,"h3"),e.EFF(4),e.k0s(),e.j41(5,"button",5),e.bIt("click",function(){return v.eBV(C),v.Njj(E.onCancel())}),e.k0s()(),e.j41(6,"div",6)(7,"div",7)(8,"input",8,0),e.mxI("ngModelChange",function(W){return v.eBV(C),e.DH7(E.searchQuery,W)||(E.searchQuery=W),v.Njj(W)}),e.bIt("ngModelChange",function(){return v.eBV(C),v.Njj(E.onSearchChange())}),e.k0s()(),e.DNE(10,V_,2,2,"div",9)(11,ld,2,2,"div",9)(12,pc,11,3,"div",10)(13,Y_,2,2,"div",9)(14,cl,8,0,"div",11),e.j41(15,"div",12),e.DNE(16,Oh,6,0,"div",13)(17,xh,9,11,"ng-container",14)(18,ud,2,1,"div",15),e.k0s()()()()}2&y&&(e.R7$(4),e.SpI(" Select ","pet"===E.type?"Pet":"swallowed-pet"===E.type?"Swallowed Pet":"equipment"===E.type?"Equipment":"toy"===E.type?"Toy":"hard-toy"===E.type?"Hard Toy":"team"===E.type?"Team":"ability"===E.type?"Ability":"Pack"," "),e.R7$(4),e.R50("ngModel",E.searchQuery),e.R7$(2),e.Y8G("ngIf","pet"===E.type||"swallowed-pet"===E.type),e.R7$(),e.Y8G("ngIf","ability"===E.type),e.R7$(),e.Y8G("ngIf","ability"===E.type&&!E.lockAbilityLevel),e.R7$(),e.Y8G("ngIf","equipment"===E.type||"toy"===E.type||"hard-toy"===E.type),e.R7$(),e.Y8G("ngIf","ability"===E.type),e.R7$(),e.AVh("team-grid","team"===E.type),e.R7$(),e.Y8G("ngIf",E.shouldShowNoneCard),e.R7$(),e.Y8G("ngForOf",E.filteredItems)("ngForTrackBy",E.trackByItem),e.R7$(),e.Y8G("ngIf",0===E.filteredItems.length))},dependencies:[jt.MD,jt.YU,jt.Sq,jt.bT,yi,ue.YN,ue.me,ue.BC,ue.vS,od],styles:[".selection-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;backdrop-filter:blur(4px);z-index:1000;display:flex;align-items:center;justify-content:center}.selection-dialog[_ngcontent-%COMP%]{width:90%;max-width:600px;height:80vh;background:#fff;border-radius:12px;display:flex;flex-direction:column;overflow:hidden;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%], .lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.dialog-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center;background:#f8f9fa}.dialog-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600}.dialog-body[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column;gap:1rem;flex:1;overflow:hidden}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{border-radius:8px;padding:.6rem 1rem;background:#f1f3f5;border:2px solid transparent;transition:all .2s}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{background:#fff;border-color:#33377a;box-shadow:0 0 0 4px #33377a1a}.pack-filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.4rem;padding-bottom:.5rem;border-bottom:1px solid #eee}.pack-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px;padding:.2rem .8rem;font-size:.8rem;text-transform:capitalize}.pack-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .pack-filter-content[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem}.pack-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .pack-filter-icon[_ngcontent-%COMP%]{width:18px;height:18px;object-fit:contain;flex-shrink:0}.items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:.75rem;padding:.5rem .5rem .75rem;overflow-y:auto;flex:1;align-content:start;align-items:start}.items-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.items-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.items-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border-radius:3px}.items-grid.team-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(160px,1fr));justify-content:stretch;gap:.6rem}.category-header[_ngcontent-%COMP%]{grid-column:1/-1;padding:.25rem .5rem .2rem;font-size:.85rem;font-weight:700;color:#33377a;text-transform:uppercase;letter-spacing:.05em;border-bottom:1px solid rgba(51,55,122,.1);margin-top:.15rem}.item-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:.5rem;border-radius:8px;cursor:pointer;transition:all .2s;text-align:center;position:relative;z-index:1}.item-card[_ngcontent-%COMP%]:hover{background:#f1f3f5;transform:translateY(-2px)}.item-card.none-card[_ngcontent-%COMP%]   .none-icon[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#868e96;text-transform:uppercase}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]{position:relative;width:48px;height:48px;display:flex;align-items:center;justify-content:center;margin-bottom:.4rem}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#e67e22;color:#fff;font-size:.75rem;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;box-shadow:0 2px 4px #0003;border:1.5px solid white}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-1[_ngcontent-%COMP%]{background:#6c757d}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-2[_ngcontent-%COMP%]{background:#198754}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-3[_ngcontent-%COMP%]{background:#0d6efd}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-4[_ngcontent-%COMP%]{background:#6f42c1}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-5[_ngcontent-%COMP%]{background:#fd7e14}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-6[_ngcontent-%COMP%]{background:#dc3545}.item-card[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-size:.75rem;color:#495057;word-break:break-word;line-height:1.1}.item-card.item-card-disabled[_ngcontent-%COMP%]{opacity:.65;cursor:pointer;border:1.5px solid #f0a500;background:#f0a5000d}.item-card.item-card-disabled[_ngcontent-%COMP%]:hover{background:#f0a5001f;transform:translateY(-1px)}.item-card.item-card-disabled[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#7a6200}.night[_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]{border-color:#c98f00;background:#c8960014}.night[_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]:hover, .night   [_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]:hover{background:#c8960029}.night[_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#d4aa30}.ability-mode-notice[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.4rem .75rem;background:#f0a5001a;border:1px solid rgba(240,165,0,.4);border-radius:6px;font-size:.8rem;color:#7a5e00}.ability-mode-notice[_ngcontent-%COMP%]   .notice-icon[_ngcontent-%COMP%]{font-size:1rem;flex-shrink:0}.night[_nghost-%COMP%]   .ability-mode-notice[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .ability-mode-notice[_ngcontent-%COMP%]{background:#c896001f;border-color:#c8960066;color:#d4aa30}.item-card.team-card[_ngcontent-%COMP%]{align-items:stretch;width:100%;padding:.45rem}.item-card.team-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]{width:100%;height:auto;margin-bottom:.35rem}.item-card.team-card[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{text-align:center}.no-results[_ngcontent-%COMP%]{grid-column:1/-1;padding:2rem;text-align:center;color:#868e96;font-style:italic}.night[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]{background:#2d2d2d;color:#eee}.night[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]{background:#1a1a1a;border-bottom-color:#444}.night[_nghost-%COMP%]   .item-name[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#ccc}.night[_nghost-%COMP%]   .item-card[_ngcontent-%COMP%]:hover, .night   [_nghost-%COMP%]   .item-card[_ngcontent-%COMP%]:hover{background:#3d3d3d}.night[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]{background:#3d3d3d;color:#eee}.night[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]:focus, .night   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{background:#444}.night[_nghost-%COMP%]   .pack-filters[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .pack-filters[_ngcontent-%COMP%]{border-bottom-color:#444}.team-icon-strip[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:3px;width:100%;justify-items:center}.team-icon[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain;background:#f5f6f8;border-radius:6px;border:1px solid rgba(0,0,0,.08)}"],changeDetection:0})}return u})(),io=(()=>{class u{formGroup;setExp(l){this.formGroup.get("exp")?.setValue(l)}getIsSelected(l){return(this.formGroup.get("exp")?.value??0)>=l}showRemoveExp(){return(this.formGroup.get("exp")?.value??0)>0}static \u0275fac=function(y){return new(y||u)};static \u0275cmp=e.VBU({type:u,selectors:[["app-pet-level-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup"},decls:20,vars:15,consts:[[3,"formGroup"],[1,"col-12","d-flex","level-bar-numbers","mb-1"],[1,"remove-exp","spacer"],[1,"level-slots-labels","d-flex","flex-grow-1"],[1,"level-icon"],["ngSrc","assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/l1.png","width","18","height","18","loading","lazy","decoding","async","alt","Level 1"],["ngSrc","assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/l2.png","width","18","height","18","loading","lazy","decoding","async","alt","Level 2"],[1,"level-icon","level-3"],["ngSrc","assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/l3.png","width","18","height","18","loading","lazy","decoding","async","alt","Level 3"],[1,"col-12","d-flex","level-bar","mb-2"],[1,"remove-exp",3,"click"],[3,"click"]],template:function(y,E){1&y&&(e.qex(0,0),e.j41(1,"div",1),e.nrm(2,"span",2),e.j41(3,"div",3)(4,"span",4),e.nrm(5,"img",5),e.k0s(),e.nrm(6,"span"),e.j41(7,"span",4),e.nrm(8,"img",6),e.k0s(),e.nrm(9,"span"),e.j41(10,"span",7),e.nrm(11,"img",8),e.k0s()()(),e.j41(12,"div",9)(13,"span",10),e.bIt("click",function(){return E.setExp(0)}),e.EFF(14,"x"),e.k0s(),e.j41(15,"span",11),e.bIt("click",function(){return E.setExp(1)}),e.k0s(),e.j41(16,"span",11),e.bIt("click",function(){return E.setExp(2)}),e.k0s(),e.j41(17,"span",11),e.bIt("click",function(){return E.setExp(3)}),e.k0s(),e.j41(18,"span",11),e.bIt("click",function(){return E.setExp(4)}),e.k0s(),e.j41(19,"span",11),e.bIt("click",function(){return E.setExp(5)}),e.k0s()(),e.bVm()),2&y&&(e.Y8G("formGroup",E.formGroup),e.R7$(2),e.xc7("visibility",E.showRemoveExp()?"visible":"hidden"),e.R7$(11),e.xc7("visibility",E.showRemoveExp()?"visible":"hidden"),e.R7$(2),e.AVh("selected",E.getIsSelected(1)),e.R7$(),e.AVh("selected",E.getIsSelected(1)&&E.getIsSelected(2)),e.R7$(),e.AVh("selected",E.getIsSelected(1)&&E.getIsSelected(3)),e.R7$(),e.AVh("selected",E.getIsSelected(1)&&E.getIsSelected(4)),e.R7$(),e.AVh("selected",E.getIsSelected(1)&&E.getIsSelected(5)))},dependencies:[jt.MD,yi,ue.X1,ue.cb,ue.j4],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return u})();const Bh=new Set(["parrot","parrot-beluga","parrot-abomination","parrot-abomination-beluga","abomination-parrot","abomination-parrot-beluga","abomination-parrot-abomination","abomination-parrot-abomination-beluga","parrot-abomination-parrot","parrot-abomination-parrot-beluga","parrot-abomination-parrot-abomination","parrot-abomination-parrot-abomination-beluga"]),_c=new Set(["sabertooth tiger","tuna"]);function yr(u){const h=function Fh(u){if("string"==typeof u){const h=u.trim().toLowerCase();return h.length>0?h:null}if(u&&"object"==typeof u&&"string"==typeof u.name){const h=u.name.trim().toLowerCase();return h.length>0?h:null}return null}(u);return!!h&&(!!_c.has(h)||h.includes("sabertooth"))}const dd=["Adult Flounder","Angry Pygmy Hog","Baby Urchin","Bee","Bus","Butterfly","Chick","Chimera Goat","Chimera Lion","Chimera Snake","Cooked Roach","Cracked Egg","Cuckoo Chick","Daycrawler","Dirty Rat","Fairy Ball","Fake Nessie","Fire Pup","Giant Eyes Dog","Golden Retriever","Good Dog","Great One","Head","Lizard Tail","Loyal Chinchilla","Mimic Octopus","Moby Dick","Monty","Nessie?","Nest","Quail","Ram","Rock","Salmon","Sleeping Gelada","Smaller Slime","Smaller Slug","Smallest Slug","Tand and Tand","Young Phoenix","Zombie Cricket","Zombie Fly"],pd=(()=>{const u=[];for(let h=1;h<=3;h++){const l=`parrotCopyPetAbominationSwallowedPet${h}`;u.push(l),u.push(`${l}BelugaSwallowedPet`),u.push(`${l}Level`),u.push(`${l}TimesHurt`)}return u})(),x=(()=>{const u=[];for(let h=1;h<=3;h++){const l=`parrotCopyPetAbominationSwallowedPet${h}`;u.push(`${l}ParrotCopyPet`),u.push(`${l}ParrotCopyPetBelugaSwallowedPet`);for(let y=1;y<=3;y++){const E=`${l}ParrotCopyPetAbominationSwallowedPet${y}`;u.push(E),u.push(`${E}BelugaSwallowedPet`),u.push(`${E}Level`),u.push(`${E}TimesHurt`)}}return u})();function V(u,h){1&u&&(e.j41(0,"div",8)(1,"label",9),e.EFF(2,"Times Hurt"),e.k0s(),e.nrm(3,"input",10),e.k0s())}function se(u,h){1&u&&(e.j41(0,"div",8)(1,"label",11),e.EFF(2,"Friends Fainted in Shop"),e.k0s(),e.nrm(3,"input",12),e.k0s())}function Se(u,h){1&u&&(e.j41(0,"div",8)(1,"label",13),e.EFF(2,"Battles Fought"),e.k0s(),e.nrm(3,"input",14),e.k0s())}function Re(u,h){1&u&&(e.j41(0,"div",16)(1,"div",17),e.nrm(2,"input",18),e.k0s()())}function Je(u,h){1&u&&(e.j41(0,"div",16),e.nrm(1,"input",19),e.k0s())}function yt(u,h){1&u&&(e.qex(0),e.j41(1,"div",3)(2,"div",17),e.nrm(3,"input",18),e.k0s()(),e.j41(4,"div",3),e.nrm(5,"input",20),e.k0s(),e.bVm())}function Ti(u,h){if(1&u&&(e.qex(0),e.DNE(1,Re,3,0,"div",15)(2,Je,2,0,"div",15)(3,yt,6,0,"ng-container",2),e.bVm()),2&u){const l=e.XpG();e.R7$(),e.Y8G("ngIf",l.mana&&!l.triggersConsumed),e.R7$(),e.Y8G("ngIf",!l.mana&&l.triggersConsumed),e.R7$(),e.Y8G("ngIf",l.mana&&l.triggersConsumed)}}function ti(u,h){1&u&&(e.j41(0,"div",8)(1,"label",21),e.EFF(2,"Foods Eaten"),e.k0s(),e.nrm(3,"input",22),e.k0s())}let xi=(()=>{class u{formGroup;petName=null;mana=!1;triggersConsumed=!1;attackHealthMax=100;friendsDiedCaps=new Map([["Vulture",1],["Saiga Antelope",1],["Secretary Bird",1],["Mimic",2]]);foodsEatenPets=new Set(["Black Bear","Blue Jay","Dung Beetle","Locust"]);battlesFoughtPets=new Set(["Slime"]);shouldShowFriendsDiedInput(){return!!this.petName&&this.friendsDiedCaps.has(this.petName)}shouldShowFoodsEatenInput(){return!!this.petName&&this.foodsEatenPets.has(this.petName)}shouldShowBattlesFoughtInput(){return!!this.petName&&this.battlesFoughtPets.has(this.petName)}shouldShowTimesHurtInput(){return yr(this.petName??this.formGroup?.get("name")?.value)}getFriendsDiedMax(){return this.petName?this.friendsDiedCaps.get(this.petName)??5:5}static \u0275fac=function(y){return new(y||u)};static \u0275cmp=e.VBU({type:u,selectors:[["app-pet-stats-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup",petName:"petName",mana:"mana",triggersConsumed:"triggersConsumed",attackHealthMax:"attackHealthMax"},decls:12,vars:8,consts:[[3,"formGroup"],["class","col-12 mb-2",4,"ngIf"],[4,"ngIf"],[1,"col-6"],[1,"stat-tile","stat-attack"],["formControlName","attack","type","number","min","1",1,"form-control","stat-input","select-attack",3,"max"],[1,"stat-tile","stat-health"],["formControlName","health","type","number","min","1",1,"form-control","stat-input","select-health",3,"max"],[1,"col-12","mb-2"],["for","timesHurt"],["formControlName","timesHurt","type","number","min","0","max","99",1,"form-control"],["for","friendsDiedBeforeBattle",1,"swallowed-label"],["type","number","min","0","max","5","formControlName","friendsDiedBeforeBattle",1,"form-control"],["for","battlesFought"],["formControlName","battlesFought","type","number","min","0","max","99",1,"form-control"],["class","col-12",4,"ngIf"],[1,"col-12"],[1,"stat-tile","stat-mana"],["formControlName","mana","type","number","min","0","max","50","placeholder","Mana",1,"form-control","stat-input","select-mana"],["formControlName","triggersConsumed","type","number","min","0","max","10","placeholder","Triggers Consumed",1,"form-control","select-triggers-consumed","single-stat-input"],["formControlName","triggersConsumed","type","number","min","0","max","10","placeholder","Triggers Consumed",1,"form-control","select-triggers-consumed"],["for","foodsEaten",1,"swallowed-label"],["formControlName","foodsEaten","type","number","min","0","max","99",1,"form-control","select-foods-eaten"]],template:function(y,E){1&y&&(e.qex(0,0),e.DNE(1,V,4,0,"div",1)(2,se,4,0,"div",1)(3,Se,4,0,"div",1)(4,Ti,4,3,"ng-container",2)(5,ti,4,0,"div",1),e.j41(6,"div",3)(7,"div",4),e.nrm(8,"input",5),e.k0s()(),e.j41(9,"div",3)(10,"div",6),e.nrm(11,"input",7),e.k0s()(),e.bVm()),2&y&&(e.Y8G("formGroup",E.formGroup),e.R7$(),e.Y8G("ngIf",E.shouldShowTimesHurtInput()),e.R7$(),e.Y8G("ngIf",E.shouldShowFriendsDiedInput()),e.R7$(),e.Y8G("ngIf",E.shouldShowBattlesFoughtInput()),e.R7$(),e.Y8G("ngIf",E.mana||E.triggersConsumed),e.R7$(),e.Y8G("ngIf",E.shouldShowFoodsEatenInput()),e.R7$(3),e.Y8G("max",E.attackHealthMax),e.R7$(3),e.Y8G("max",E.attackHealthMax))},dependencies:[jt.MD,jt.bT,ue.X1,ue.me,ue.Q0,ue.BC,ue.cb,ue.VZ,ue.zX,ue.j4,ue.JD],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return u})();function Us(u,h){if(1&u&&e.nrm(0,"img",7),2&u){const l=e.XpG();e.Y8G("ngSrc",l.equipmentImageSrc)}}function FP(u,h){if(1&u&&e.nrm(0,"img",7),2&u){const l=e.XpG();e.Y8G("ngSrc",l.ailmentImageSrc)}}function X_(u,h){if(1&u&&(e.j41(0,"div",8)(1,"label",9),e.EFF(2,"Uses"),e.k0s(),e.nrm(3,"input",10),e.k0s()),2&u){const l=e.XpG();e.R7$(),e.Y8G("for",l.equipmentUsesInputId),e.R7$(2),e.Y8G("id",l.equipmentUsesInputId)}}let NP=(()=>{class u{formGroup;equipmentImageSrc=null;ailmentImageSrc=null;allowEquipmentUseOverrides=!1;equipmentUsesAvailable=!1;equipmentUsesInputId="";openSelection=new v.bkB;static \u0275fac=function(y){return new(y||u)};static \u0275cmp=e.VBU({type:u,selectors:[["app-pet-equipment-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup",equipmentImageSrc:"equipmentImageSrc",ailmentImageSrc:"ailmentImageSrc",allowEquipmentUseOverrides:"allowEquipmentUseOverrides",equipmentUsesAvailable:"equipmentUsesAvailable",equipmentUsesInputId:"equipmentUsesInputId"},outputs:{openSelection:"openSelection"},decls:9,vars:5,consts:[[3,"formGroup"],[1,"col-12","mb-2"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center",3,"click"],["class","btn-icon me-2","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc",4,"ngIf"],[1,"btn-text"],[1,"bi","bi-chevron-down","ms-auto"],["class","col-6 mb-2",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async",1,"btn-icon","me-2",3,"ngSrc"],[1,"col-6","mb-2"],[3,"for"],["type","number","min","1","max","99","formControlName","equipmentUses",1,"form-control",3,"id"]],template:function(y,E){if(1&y&&(e.qex(0,0),e.j41(1,"div",1)(2,"button",2),e.bIt("click",function(){return E.openSelection.emit()}),e.DNE(3,Us,1,1,"img",3)(4,FP,1,1,"img",3),e.j41(5,"span",4),e.EFF(6),e.k0s(),e.nrm(7,"i",5),e.k0s()(),e.DNE(8,X_,4,2,"div",6),e.bVm()),2&y){let C;e.Y8G("formGroup",E.formGroup),e.R7$(3),e.Y8G("ngIf",E.equipmentImageSrc),e.R7$(),e.Y8G("ngIf",!E.equipmentImageSrc&&E.ailmentImageSrc),e.R7$(2),e.JRh((null==(C=E.formGroup.get("equipment"))?null:C.value)||"Select Equipment"),e.R7$(2),e.Y8G("ngIf",E.allowEquipmentUseOverrides&&E.equipmentUsesAvailable)}},dependencies:[jt.MD,jt.bT,yi,ue.X1,ue.me,ue.Q0,ue.BC,ue.cb,ue.VZ,ue.zX,ue.j4,ue.JD],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return u})();var Ga=i(58212);const Nh=()=>[];function UP(u,h){if(1&u&&(e.j41(0,"span",13),e.nrm(1,"img",14),e.j41(2,"span",15),e.EFF(3),e.k0s()()),2&u){const l=h.ngIf,y=e.XpG().index,E=e.XpG(2);e.R7$(),e.Y8G("ngSrc",l),e.R7$(2),e.JRh(E.getAbominationAbilityLevel(y))}}function Uh(u,h){if(1&u&&(e.j41(0,"div",20)(1,"label",21),e.EFF(2,"Times Hurt"),e.k0s(),e.nrm(3,"input",22),e.k0s()),2&u){const l=e.XpG(2).index;e.R7$(3),e.Y8G("formControlName","abominationSwallowedPet"+(l+1)+"TimesHurt")}}function J_(u,h){if(1&u&&e.nrm(0,"img",26),2&u){let l;const y=e.XpG(3).index,E=e.XpG(2);e.Y8G("ngSrc",E.getAbilityImagePath(null==(l=E.formGroup.get("abominationSwallowedPet"+(y+1)+"BelugaSwallowedPet"))?null:l.value))}}function WP(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",23)(1,"label",21),e.EFF(2,"Swallowed by Beluga"),e.k0s(),e.j41(3,"button",24),e.bIt("click",function(){v.eBV(l);const E=e.XpG(2).index,C=e.XpG(2);return v.Njj(C.openSelectionDialog("swallowed-pet",E+1,"abomination-beluga"))}),e.DNE(4,J_,1,1,"img",25),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s()()}if(2&u){let l,y;const E=e.XpG(2).index,C=e.XpG(2);e.R7$(4),e.Y8G("ngIf",C.getAbilityImagePath(null==(l=C.formGroup.get("abominationSwallowedPet"+(E+1)+"BelugaSwallowedPet"))?null:l.value)),e.R7$(2),e.JRh((null==(y=C.formGroup.get("abominationSwallowedPet"+(E+1)+"BelugaSwallowedPet"))?null:y.value)||"None")}}function KP(u,h){if(1&u&&e.nrm(0,"img",28),2&u){let l;const y=e.XpG(3).index,E=e.XpG(2);e.Y8G("ngSrc",E.getAbilityImagePath(null==(l=E.formGroup.get("abominationSwallowedPet"+(y+1)+"SarcasticFringeheadSwallowedPet"))?null:l.value))}}function $P(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",23)(1,"label",21),e.EFF(2,"Swallowed by Fringehead"),e.k0s(),e.j41(3,"button",24),e.bIt("click",function(){v.eBV(l);const E=e.XpG(2).index,C=e.XpG(2);return v.Njj(C.openSelectionDialog("swallowed-pet",E+1,"abomination-sarcastic"))}),e.DNE(4,KP,1,1,"img",27),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s()()}if(2&u){let l,y;const E=e.XpG(2).index,C=e.XpG(2);e.R7$(4),e.Y8G("ngIf",C.getAbilityImagePath(null==(l=C.formGroup.get("abominationSwallowedPet"+(E+1)+"SarcasticFringeheadSwallowedPet"))?null:l.value)),e.R7$(2),e.JRh((null==(y=C.formGroup.get("abominationSwallowedPet"+(E+1)+"SarcasticFringeheadSwallowedPet"))?null:y.value)||"None")}}function GP(u,h){if(1&u&&e.nrm(0,"img",32),2&u){let l;const y=e.XpG(3).index,E=e.XpG(2);e.Y8G("ngSrc",E.getAbilityImagePath(null==(l=E.formGroup.get("abominationSwallowedPet"+(y+1)+"ParrotCopyPet"))?null:l.value))}}function HP(u,h){if(1&u&&e.nrm(0,"img",35),2&u){let l;const y=e.XpG(4).index,E=e.XpG(2);e.Y8G("ngSrc",E.getAbilityImagePath(null==(l=E.formGroup.get("abominationSwallowedPet"+(y+1)+"ParrotCopyPetBelugaSwallowedPet"))?null:l.value))}}function jP(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",33)(1,"label",21),e.EFF(2,"Then Beluga Swallow"),e.k0s(),e.j41(3,"button",24),e.bIt("click",function(){v.eBV(l);const E=e.XpG(3).index,C=e.XpG(2);return v.Njj(C.openSelectionDialog("swallowed-pet",E+1,"abomination-parrot-beluga"))}),e.DNE(4,HP,1,1,"img",34),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s()()}if(2&u){let l,y;const E=e.XpG(3).index,C=e.XpG(2);e.R7$(4),e.Y8G("ngIf",C.getAbilityImagePath(null==(l=C.formGroup.get("abominationSwallowedPet"+(E+1)+"ParrotCopyPetBelugaSwallowedPet"))?null:l.value)),e.R7$(2),e.JRh((null==(y=C.formGroup.get("abominationSwallowedPet"+(E+1)+"ParrotCopyPetBelugaSwallowedPet"))?null:y.value)||"None")}}function VP(u,h){if(1&u&&(e.j41(0,"span",13),e.nrm(1,"img",38),e.j41(2,"span",15),e.EFF(3),e.k0s()()),2&u){const l=h.ngIf,y=e.XpG().index,E=e.XpG(4).index,C=e.XpG(2);e.R7$(),e.Y8G("ngSrc",l),e.R7$(2),e.JRh(C.getNestedAbominationAbilityLevel(E,y))}}function OD(u,h){if(1&u&&(e.j41(0,"div",39)(1,"label",40),e.EFF(2,"Times Hurt"),e.k0s(),e.nrm(3,"input",22),e.k0s()),2&u){const l=e.XpG().index,y=e.XpG(4).index;e.R7$(3),e.Y8G("formControlName","abominationSwallowedPet"+(y+1)+"ParrotCopyPetAbominationSwallowedPet"+(l+1)+"TimesHurt")}}function ID(u,h){if(1&u){const l=e.RV6();e.j41(0,"div")(1,"label",21),e.EFF(2),e.k0s(),e.j41(3,"button",36),e.bIt("click",function(){const E=v.eBV(l).index,C=e.XpG(4).index,I=e.XpG(2);return v.Njj(I.openSelectionDialog("ability",C+1,"abomination-parrot-abomination",E+1))}),e.DNE(4,VP,4,2,"span",9),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s(),e.DNE(8,OD,4,1,"div",37),e.k0s()}if(2&u){let l,y;const E=h.index,C=e.XpG(4).index,I=e.XpG(2);e.R7$(2),e.JRh(I.getNestedAbominationAbilityTitle(C,E)),e.R7$(2),e.Y8G("ngIf",I.getAbilityImagePath(null==(l=I.formGroup.get("abominationSwallowedPet"+(C+1)+"ParrotCopyPetAbominationSwallowedPet"+(E+1)))?null:l.value)),e.R7$(2),e.JRh((null==(y=I.formGroup.get("abominationSwallowedPet"+(C+1)+"ParrotCopyPetAbominationSwallowedPet"+(E+1)))?null:y.value)||"None"),e.R7$(2),e.Y8G("ngIf",I.shouldShowAbominationParrotCopyAbominationTimesHurt(C+1,E+1))}}function fc(u,h){if(1&u&&(e.j41(0,"div",33),e.DNE(1,ID,9,4,"div",4),e.k0s()),2&u){const l=e.XpG(5);e.R7$(),e.Y8G("ngForOf",e.lJ4(2,Nh).constructor(3))("ngForTrackBy",l.trackByIndex)}}function hd(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",29)(1,"label",21),e.EFF(2,"Parrot Copy"),e.k0s(),e.j41(3,"button",24),e.bIt("click",function(){v.eBV(l);const E=e.XpG(2).index,C=e.XpG(2);return v.Njj(C.openSelectionDialog("ability",E+1,"abomination-parrot"))}),e.DNE(4,GP,1,1,"img",30),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s(),e.DNE(8,jP,8,2,"div",31)(9,fc,2,3,"div",31),e.k0s()}if(2&u){let l,y,E,C;const I=e.XpG(2).index,W=e.XpG(2);e.R7$(4),e.Y8G("ngIf",W.getAbilityImagePath(null==(l=W.formGroup.get("abominationSwallowedPet"+(I+1)+"ParrotCopyPet"))?null:l.value)),e.R7$(2),e.JRh((null==(y=W.formGroup.get("abominationSwallowedPet"+(I+1)+"ParrotCopyPet"))?null:y.value)||"None"),e.R7$(2),e.Y8G("ngIf","Beluga Whale"===(null==(E=W.formGroup.get("abominationSwallowedPet"+(I+1)+"ParrotCopyPet"))?null:E.value)),e.R7$(),e.Y8G("ngIf","Abomination"===(null==(C=W.formGroup.get("abominationSwallowedPet"+(I+1)+"ParrotCopyPet"))?null:C.value))}}function zP(u,h){if(1&u&&(e.j41(0,"div",16),e.DNE(1,Uh,4,1,"div",17)(2,WP,8,2,"div",18)(3,$P,8,2,"div",18)(4,hd,10,4,"div",19),e.k0s()),2&u){let l,y,E;const C=e.XpG().index,I=e.XpG(2);e.R7$(),e.Y8G("ngIf",I.shouldShowAbominationSwallowTimesHurt(C)),e.R7$(),e.Y8G("ngIf","Beluga Whale"===(null==(l=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:l.value)),e.R7$(),e.Y8G("ngIf","Sarcastic Fringehead"===(null==(y=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:y.value)),e.R7$(),e.Y8G("ngIf","Parrot"===(null==(E=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:E.value))}}function YP(u,h){if(1&u){const l=e.RV6();e.j41(0,"div")(1,"div",5)(2,"label",6),e.EFF(3),e.k0s(),e.j41(4,"div",7)(5,"button",8),e.bIt("click",function(){const E=v.eBV(l).index,C=e.XpG(2);return v.Njj(C.openSelectionDialog("ability",E+1,"abomination"))}),e.DNE(6,UP,4,2,"span",9),e.j41(7,"span",10),e.EFF(8),e.k0s(),e.nrm(9,"i",11),e.k0s()(),e.DNE(10,zP,5,4,"div",12),e.k0s()()}if(2&u){let l,y,E;const C=h.index,I=e.XpG(2);e.R7$(3),e.JRh(I.getAbilityTitle(C)),e.R7$(3),e.Y8G("ngIf",I.getAbilityImagePath(null==(l=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:l.value)),e.R7$(2),e.JRh((null==(y=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:y.value)||"None"),e.R7$(2),e.Y8G("ngIf",(null==(E=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:E.value)&&(I.shouldShowAbominationSwallowTimesHurt(C)||"Beluga Whale"===(null==(E=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:E.value)||"Sarcastic Fringehead"===(null==(E=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:E.value)||"Parrot"===(null==(E=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:E.value)))}}function XP(u,h){if(1&u&&(e.j41(0,"div",2),e.DNE(1,YP,11,4,"div",4),e.k0s()),2&u){const l=e.XpG();e.R7$(),e.Y8G("ngForOf",e.lJ4(2,Nh).constructor(l.pet.level))("ngForTrackBy",l.trackByIndex)}}function RD(u,h){if(1&u&&e.nrm(0,"img",43),2&u){let l;const y=e.XpG(2);e.Y8G("ngSrc",y.getAbilityImagePath(null==(l=y.formGroup.get("belugaSwallowedPet"))?null:l.value))}}function LD(u,h){if(1&u){const l=e.RV6();e.j41(0,"div")(1,"label",6),e.EFF(2,"Swallowed by Beluga"),e.k0s(),e.j41(3,"button",41),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.openSelectionDialog("swallowed-pet",void 0,"pet"))}),e.DNE(4,RD,1,1,"img",42),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s()()}if(2&u){let l,y;const E=e.XpG();e.R7$(4),e.Y8G("ngIf",E.getAbilityImagePath(null==(l=E.formGroup.get("belugaSwallowedPet"))?null:l.value)),e.R7$(2),e.JRh((null==(y=E.formGroup.get("belugaSwallowedPet"))?null:y.value)||"Select Pet")}}function JP(u,h){if(1&u&&e.nrm(0,"img",46),2&u){let l;const y=e.XpG(2);e.Y8G("ngSrc",y.getAbilityImagePath(null==(l=y.formGroup.get("parrotCopyPet"))?null:l.value))}}function QP(u,h){if(1&u&&e.nrm(0,"img",49),2&u){let l;const y=e.XpG(3);e.Y8G("ngSrc",y.getAbilityImagePath(null==(l=y.formGroup.get("parrotCopyPetBelugaSwallowedPet"))?null:l.value))}}function qP(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",47)(1,"label",6),e.EFF(2,"Then Beluga Swallow"),e.k0s(),e.j41(3,"button",41),e.bIt("click",function(){v.eBV(l);const E=e.XpG(2);return v.Njj(E.openSelectionDialog("swallowed-pet",void 0,"parrot-beluga"))}),e.DNE(4,QP,1,1,"img",48),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s()()}if(2&u){let l,y;const E=e.XpG(2);e.R7$(4),e.Y8G("ngIf",E.getAbilityImagePath(null==(l=E.formGroup.get("parrotCopyPetBelugaSwallowedPet"))?null:l.value)),e.R7$(2),e.JRh((null==(y=E.formGroup.get("parrotCopyPetBelugaSwallowedPet"))?null:y.value)||"Select Pet")}}function ZP(u,h){if(1&u&&(e.j41(0,"span",13),e.nrm(1,"img",52),e.j41(2,"span",15),e.EFF(3),e.k0s()()),2&u){const l=h.ngIf,y=e.XpG().index,E=e.XpG(3);e.R7$(),e.Y8G("ngSrc",l),e.R7$(2),e.JRh(E.getParrotAbominationAbilityLevel(y))}}function Q_(u,h){if(1&u&&(e.j41(0,"div",53)(1,"label",21),e.EFF(2,"Times Hurt"),e.k0s(),e.nrm(3,"input",22),e.k0s()),2&u){const l=e.XpG().index;e.R7$(3),e.Y8G("formControlName","parrotCopyPetAbominationSwallowedPet"+(l+1)+"TimesHurt")}}function q_(u,h){if(1&u){const l=e.RV6();e.j41(0,"div")(1,"label",6),e.EFF(2),e.k0s(),e.j41(3,"button",50),e.bIt("click",function(){const E=v.eBV(l).index,C=e.XpG(3);return v.Njj(C.openSelectionDialog("ability",E+1,"parrot-abomination"))}),e.DNE(4,ZP,4,2,"span",9),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s(),e.DNE(8,Q_,4,1,"div",51),e.k0s()}if(2&u){let l,y;const E=h.index,C=e.XpG(3);e.R7$(2),e.JRh(C.getParrotAbominationAbilityTitle(E)),e.R7$(2),e.Y8G("ngIf",C.getAbilityImagePath(null==(l=C.formGroup.get("parrotCopyPetAbominationSwallowedPet"+(E+1)))?null:l.value)),e.R7$(2),e.JRh((null==(y=C.formGroup.get("parrotCopyPetAbominationSwallowedPet"+(E+1)))?null:y.value)||"None"),e.R7$(2),e.Y8G("ngIf",C.shouldShowParrotCopyPetAbominationTimesHurt(E+1))}}function Z_(u,h){if(1&u&&(e.j41(0,"div",47),e.DNE(1,q_,9,4,"div",4),e.k0s()),2&u){const l=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.lJ4(2,Nh).constructor(l.getParrotCopyAbominationSlotCount()))("ngForTrackBy",l.trackByIndex)}}function ul(u,h){if(1&u){const l=e.RV6();e.j41(0,"div")(1,"label",6),e.EFF(2,"Parrot Copy"),e.k0s(),e.j41(3,"button",41),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.openSelectionDialog("ability",void 0,"parrot"))}),e.DNE(4,JP,1,1,"img",44),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s(),e.DNE(8,qP,8,2,"div",45)(9,Z_,2,3,"div",45),e.k0s()}if(2&u){let l,y,E,C;const I=e.XpG();e.R7$(4),e.Y8G("ngIf",I.getAbilityImagePath(null==(l=I.formGroup.get("parrotCopyPet"))?null:l.value)),e.R7$(2),e.JRh((null==(y=I.formGroup.get("parrotCopyPet"))?null:y.value)||"Select Pet"),e.R7$(2),e.Y8G("ngIf","Beluga Whale"===(null==(E=I.formGroup.get("parrotCopyPet"))?null:E.value)),e.R7$(),e.Y8G("ngIf","Abomination"===(null==(C=I.formGroup.get("parrotCopyPet"))?null:C.value))}}function Es(u,h){if(1&u&&e.nrm(0,"img",55),2&u){let l;const y=e.XpG(2);e.Y8G("ngSrc",y.getAbilityImagePath(null==(l=y.formGroup.get("sarcasticFringeheadSwallowedPet"))?null:l.value))}}function ef(u,h){if(1&u){const l=e.RV6();e.j41(0,"div")(1,"label",6),e.EFF(2,"Swallowed by Fringehead"),e.k0s(),e.j41(3,"button",41),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.openSelectionDialog("swallowed-pet",void 0,"pet"))}),e.DNE(4,Es,1,1,"img",54),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s()()}if(2&u){let l,y;const E=e.XpG();e.R7$(4),e.Y8G("ngIf",E.getAbilityImagePath(null==(l=E.formGroup.get("sarcasticFringeheadSwallowedPet"))?null:l.value)),e.R7$(2),e.JRh((null==(y=E.formGroup.get("sarcasticFringeheadSwallowedPet"))?null:y.value)||"Select Pet")}}const eA=new Map((0,Mt.bf)().map(u=>[u.toLowerCase(),u])),tf=new Map((0,Mt.Eo)().map(u=>[u.toLowerCase(),u])),xD=new Map((0,Mt.oI)().map(u=>[u.toLowerCase(),u])),BD=new Set(Object.values(Ga.U).flat().map(u=>`${u}`.toLowerCase()));let nf=(()=>{class u{formGroup;pet=null;openSelection=new v.bkB;getPetImagePath(l){return(0,Mt.EA)(l)}getAbilityImagePath(l){if(!l)return null;const y=l.trim().toLowerCase(),E=eA.get(y);if(E)return(0,Mt.EA)(E);const C=tf.get(y);if(C)return(0,Mt.bG)(C);const I=xD.get(y);return I?(0,Mt.ht)(I,BD.has(y)):null}trackByIndex(l){return l}getParrotCopyAbominationSlotCount(){return 3}getAbominationAbilityLevel(l){return this.getLevelValue(`abominationSwallowedPet${l+1}Level`)}getNestedAbominationAbilityLevel(l,y){return this.getLevelValue(`abominationSwallowedPet${l+1}ParrotCopyPetAbominationSwallowedPet${y+1}Level`)}getParrotAbominationAbilityLevel(l){return this.getLevelValue(`parrotCopyPetAbominationSwallowedPet${l+1}Level`)}getAbilityTitle(l){const y=l+1;return`Ability ${y} - Level ${this.getLevelValue(`abominationSwallowedPet${y}Level`)}`}getNestedAbominationAbilityTitle(l,y){const C=y+1;return`Nested Slot ${C} - Level ${this.getLevelValue(`abominationSwallowedPet${l+1}ParrotCopyPetAbominationSwallowedPet${C}Level`)}`}getParrotAbominationAbilityTitle(l){const y=l+1;return`Ability ${y} - Level ${this.getLevelValue(`parrotCopyPetAbominationSwallowedPet${y}Level`)}`}supportsTimesHurt(l){return yr(l)}shouldShowParrotCopyPetAbominationParrotAbominationTimesHurt(l,y){const E=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${l}ParrotCopyPetAbominationSwallowedPet${y}`)?.value;return this.supportsTimesHurt(E)}shouldShowParrotCopyPetAbominationTimesHurt(l){const y=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${l}`)?.value;return this.supportsTimesHurt(y)}shouldShowAbominationParrotCopyAbominationTimesHurt(l,y){const E=this.formGroup.get(`abominationSwallowedPet${l}ParrotCopyPetAbominationSwallowedPet${y}`)?.value;return this.supportsTimesHurt(E)}shouldShowAbominationSwallowTimesHurt(l){const y=this.formGroup.get(`abominationSwallowedPet${l+1}`)?.value;return this.supportsTimesHurt(y)}getLevelValue(l){const y=this.formGroup.get(l)?.value,E=Number(y);return!Number.isFinite(E)||E<1||E>3?1:E}openSelectionDialog(l,y,E="pet",C){this.openSelection.emit({type:l,index:y,target:E,parentIndex:C})}static \u0275fac=function(y){return new(y||u)};static \u0275cmp=e.VBU({type:u,selectors:[["app-swallowed-pet-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup",pet:"pet"},outputs:{openSelection:"openSelection"},decls:6,vars:5,consts:[[3,"formGroup"],["class","col-12 mb-2",4,"ngIf"],[1,"col-12","mb-2"],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"swallowed-slot","mb-2"],[1,"swallowed-label"],[1,"d-flex","align-items-center","gap-2"],["type","button",1,"btn","selection-btn","flex-grow-1","d-flex","align-items-center",3,"click"],["class","selection-icon-wrap",4,"ngIf"],[1,"selection-text"],[1,"fas","fa-chevron-down","ms-auto"],["class","swallowed-nested mt-2 ps-3 border-start",4,"ngIf"],[1,"selection-icon-wrap"],["width","24","height","24","loading","lazy","decoding","async","alt","Ability",1,"selection-icon",3,"ngSrc"],[1,"selection-level-badge"],[1,"swallowed-nested","mt-2","ps-3","border-start"],["class","form-group small-w-input mb-2",4,"ngIf"],["class","nested-selection mb-2",4,"ngIf"],["class","nested-selection",4,"ngIf"],[1,"form-group","small-w-input","mb-2"],[1,"swallowed-label-small"],["type","number","min","0","max","99",1,"form-control","form-control-sm",3,"formControlName"],[1,"nested-selection","mb-2"],["type","button",1,"btn","selection-btn","btn-sm","w-100","d-flex","align-items-center",3,"click"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",3,"ngSrc",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",1,"selection-icon",3,"ngSrc"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Fringehead Swallowed Pet",3,"ngSrc",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Fringehead Swallowed Pet",1,"selection-icon",3,"ngSrc"],[1,"nested-selection"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Parrot Copy Pet",3,"ngSrc",4,"ngIf"],["class","mt-2 ps-2 border-start",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Parrot Copy Pet",1,"selection-icon",3,"ngSrc"],[1,"mt-2","ps-2","border-start"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Nested Beluga",3,"ngSrc",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Nested Beluga",1,"selection-icon",3,"ngSrc"],["type","button",1,"btn","selection-btn","btn-sm","w-100","d-flex","align-items-center","mb-1",3,"click"],["class","form-group small-w-input mb-1 ms-2",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Nested Abom Slot",1,"selection-icon",3,"ngSrc"],[1,"form-group","small-w-input","mb-1","ms-2"],[1,"swallowed-label-tiny"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center",3,"click"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Beluga Swallowed",3,"ngSrc",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Beluga Swallowed",1,"selection-icon",3,"ngSrc"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Parrot Copy",3,"ngSrc",4,"ngIf"],["class","mt-2 ps-3 border-start",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Parrot Copy",1,"selection-icon",3,"ngSrc"],[1,"mt-2","ps-3","border-start"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Nested Beluga",3,"ngSrc",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Nested Beluga",1,"selection-icon",3,"ngSrc"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center","mb-2",3,"click"],["class","form-group small-w-input mb-2 ms-3",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Nested Abom Slot",1,"selection-icon",3,"ngSrc"],[1,"form-group","small-w-input","mb-2","ms-3"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Fringehead Swallowed",3,"ngSrc",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Fringehead Swallowed",1,"selection-icon",3,"ngSrc"]],template:function(y,E){1&y&&(e.qex(0,0),e.DNE(1,XP,2,3,"div",1),e.j41(2,"div",2),e.DNE(3,LD,8,2,"div",3)(4,ul,10,4,"div",3)(5,ef,8,2,"div",3),e.k0s(),e.bVm()),2&y&&(e.Y8G("formGroup",E.formGroup),e.R7$(),e.Y8G("ngIf","Abomination"===(null==E.pet?null:E.pet.name)),e.R7$(2),e.Y8G("ngIf","Beluga Whale"===(null==E.pet?null:E.pet.name)),e.R7$(),e.Y8G("ngIf","Parrot"===(null==E.pet?null:E.pet.name)),e.R7$(),e.Y8G("ngIf","Sarcastic Fringehead"===(null==E.pet?null:E.pet.name)))},dependencies:[jt.MD,jt.Sq,jt.bT,yi,ue.X1,ue.me,ue.Q0,ue.BC,ue.cb,ue.VZ,ue.zX,ue.j4,ue.JD],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return u})();const Wh="sapSoundMuted",tA="sapSoundVolume";function yc(){return typeof window<"u"&&typeof window.localStorage<"u"}function Kh(){if(!yc())return!1;try{return"true"===window.localStorage.getItem(Wh)}catch{return!1}}function bc(u){if(yc())try{window.localStorage.setItem(Wh,u?"true":"false")}catch{}}function $h(){if(!yc())return 1;try{const u=window.localStorage.getItem(tA);if(null==u||""===u)return 1;const h=Number(u);return Number.isFinite(h)?Math.min(1,Math.max(0,h)):1}catch{return 1}}function af(u){if(!yc())return;const h=Number.isFinite(u)?Math.min(1,Math.max(0,u)):1;try{window.localStorage.setItem(tA,String(h))}catch{}}function Ws(u,h){return null==u?null:h(u)}function Pc(u,h,l){return null==u||null==h?null:l(u,h)}function no(u,h){return l=>l.lift(new nA(u,h))}class nA{constructor(h,l){this.compare=h,this.keySelector=l}call(h,l){return l.subscribe(new aA(h,this.compare,this.keySelector))}}class aA extends Xi.v{constructor(h,l,y){super(h),this.keySelector=y,this.hasKey=!1,"function"==typeof l&&(this.compare=l)}compare(h,l){return h===l}_next(h){let l;try{const{keySelector:E}=this;l=E?E(h):h}catch(E){return this.destination.error(E)}let y=!1;if(this.hasKey)try{const{compare:E}=this;y=E(this.key,l)}catch(E){return this.destination.error(E)}else this.hasKey=!0;y||(this.key=l,this.destination.next(h))}}let sf=(()=>{class u{petService;equipmentService;cdr;pet;player;opponent;index;ailments;allPets;mana;triggersConsumed;formGroup;customPacks;flipImage=!1;allowEquipmentUseOverrides;equipment;ailmentEquipment;equipmentCategoryGroups=[];ailmentCategoryGroups=[];turtlePackPets;pets;startOfBattlePets;attackHealthMax=100;petImageBroken=!1;equipmentImageBroken=!1;compareEquipment=(l,y)=>l?.name===y?.name;basePackSets=new Map;friendsDiedCaps=new Map([["Vulture",1],["Saiga Antelope",1],["Secretary Bird",1],["Mimic",2]]);customPackPetsCache=new Map;cachedPlayerPack=null;cachedOpponentPack=null;cachedPlayerPackSet=null;cachedOpponentPackSet=null;customPackSubscription=null;destroy$=new ei.B7;showTokenPets=!1;showSelectionDialog=!1;selectionType="pet";swallowedPetIndex;swallowedPetParentIndex;swallowedPetTarget="pet";forceShowAllPets=!1;lockSelectionLevel=!1;lockedSelectionLevel=1;tokenPets=dd;constructor(l,y,E){this.petService=l,this.equipmentService=y,this.cdr=E}optionHidden(l){return!(this.allPets||this.getPlayerPackSet().has(l)||this.player.getPet(this.index)?.name==l)}initPackSets(){for(const l of ga.$)this.basePackSets.set(l,this.buildPackSetFromMap(this.petService.basePackPetsByName[l]))}buildPackSetFromMap(l){const y=new Set;for(const E of l.values())for(const C of E)y.add(C);return y}invalidatePackCaches(){this.customPackPetsCache.clear(),this.cachedPlayerPack=null,this.cachedOpponentPack=null,this.cachedPlayerPackSet=null,this.cachedOpponentPackSet=null}getPlayerPackSet(){const l=this.player?.pack||"Turtle";return(this.cachedPlayerPack!==l||!this.cachedPlayerPackSet)&&(this.cachedPlayerPack=l,this.cachedPlayerPackSet=this.getPackSetForName(l)),this.cachedPlayerPackSet}getOpponentPackSet(){const l=this.opponent?.pack||"Turtle";return(this.cachedOpponentPack!==l||!this.cachedOpponentPackSet)&&(this.cachedOpponentPack=l,this.cachedOpponentPackSet=this.getPackSetForName(l)),this.cachedOpponentPackSet}getPackSetForName(l){const y=this.basePackSets.get(l);if(y)return y;const E=this.customPackPetsCache.get(l);if(E)return E;const C=this.buildCustomPackSet(l);return this.customPackPetsCache.set(l,C),C}buildCustomPackSet(l){const y=this.basePackSets.get("Turtle")??new Set,E=this.customPacks;if(!E?.controls?.length)return y;const C=E.controls.find(W=>W.get("name").value===l);if(!C)return y;const I=new Set;for(let W=1;W<=6;W++){const X=C.get(`tier${W}Pets`).value||[];for(const z of X)z&&I.add(z)}return I}fixLoadEquipment(){const l=this.formGroup.get("equipment").value,y=this.normalizeEquipmentValue(l);y!==l&&setTimeout(()=>{this.formGroup.get("equipment").setValue(y,{emitEvent:!1}),this.formGroup.get("equipment").updateValueAndValidity({emitEvent:!1})})}normalizeEquipmentValue(l){return l?"string"==typeof l?l:"object"==typeof l&&null!==l&&"string"==typeof l.name?l.name:null:null}getSelectedEquipmentName(){return this.normalizeEquipmentValue(this.formGroup?.get("equipment")?.value)}getSelectedEquipment(){const l=this.getSelectedEquipmentName();return l?this.equipment.get(l)??this.ailmentEquipment.get(l)??null:null}static \u0275fac=function(y){return new(y||u)(e.rXU(As.T),e.rXU(aa.m),e.rXU(t.gRc))};static \u0275dir=e.FsC({type:u,inputs:{pet:"pet",player:"player",opponent:"opponent",index:"index",ailments:"ailments",allPets:"allPets",mana:"mana",triggersConsumed:"triggersConsumed",formGroup:"formGroup",customPacks:"customPacks",flipImage:"flipImage",allowEquipmentUseOverrides:"allowEquipmentUseOverrides",showTokenPets:"showTokenPets"}})}return u})();const Gh=[1,2,3].map(u=>({index:u,nameField:`abominationSwallowedPet${u}`,belugaField:`abominationSwallowedPet${u}BelugaSwallowedPet`,sarcasticField:`abominationSwallowedPet${u}SarcasticFringeheadSwallowedPet`,levelField:`abominationSwallowedPet${u}Level`,timesHurtField:`abominationSwallowedPet${u}TimesHurt`})),sA=[1,2,3].map(u=>({index:u,petField:`parrotCopyPetAbominationSwallowedPet${u}`,belugaField:`parrotCopyPetAbominationSwallowedPet${u}BelugaSwallowedPet`,levelField:`parrotCopyPetAbominationSwallowedPet${u}Level`,timesHurtField:`parrotCopyPetAbominationSwallowedPet${u}TimesHurt`}));let rA=(()=>{class u extends sf{substitutePet(l=!1){}setAbominationParrotCopySettings(l){let y=this.player.getPet(this.index);if(null==y)return;const E=[1,2,3];for(const C of E){const I=`abominationSwallowedPet${C}`;if("Parrot"!==this.formGroup.get(I)?.value){this.clearAbominationParrotCopySettings(y,C);continue}const X=this.formGroup.get(`${I}ParrotCopyPet`)?.value??null,z=this.formGroup.get(`${I}ParrotCopyPetBelugaSwallowedPet`)?.value??null;if(this.setPetField(y,`${I}ParrotCopyPet`,X),this.setPetField(y,`${I}ParrotCopyPetBelugaSwallowedPet`,"Beluga Whale"===X?z:null),"Beluga Whale"!==X&&this.formGroup.get(`${I}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),"Abomination"===X)for(let pe=1;pe<=3;pe++){const Me=`${I}ParrotCopyPetAbominationSwallowedPet${pe}`,xe=this.formGroup.get(Me)?.value??null,Ke=this.formGroup.get(`${Me}BelugaSwallowedPet`)?.value??null,_t=Number(this.formGroup.get(`${Me}Level`)?.value??1);this.setPetField(y,Me,xe),this.setPetField(y,`${Me}BelugaSwallowedPet`,"Beluga Whale"===xe?Ke:null),this.setPetField(y,`${Me}Level`,_t||1),this.setPetField(y,`${Me}TimesHurt`,this.getAbominationParrotCopyAbominationTimesHurtValue(`${Me}TimesHurt`)),"Beluga Whale"!==xe&&this.formGroup.get(`${Me}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1})}else this.clearAbominationParrotCopyAbominationSettings(y,C)}}shouldShowAbominationParrotCopyAbominationTimesHurt(l,y){const E=this.formGroup.get(`abominationSwallowedPet${l}ParrotCopyPetAbominationSwallowedPet${y}`);return yr(E?.value)}setParrotCopyPetAbominationSwallowedPets(l){let y=this.player.getPet(this.index);if(null!=y){for(const E of sA){const C=this.formGroup.get(E.petField)?.value??null,I=this.formGroup.get(E.belugaField)?.value??null,W=Number(this.formGroup.get(E.levelField)?.value??1);this.setPetField(y,E.petField,C),this.setPetField(y,E.belugaField,"Beluga Whale"===C?I:null),"Beluga Whale"!==C&&this.formGroup.get(E.belugaField)?.setValue(null,{emitEvent:!1}),this.setPetField(y,E.levelField,W||1),this.setPetField(y,E.timesHurtField,this.getParrotAbominationTimesHurtValue(E.timesHurtField))}this.setParrotCopyPetAbominationParrotSettings(null)}}setParrotCopyPetAbominationParrotSettings(l){let y=this.player.getPet(this.index);if(null!=y)for(let E=1;E<=3;E++){const C=`parrotCopyPetAbominationSwallowedPet${E}`;if("Parrot"!==this.formGroup.get(C)?.value){this.clearParrotCopyPetAbominationParrotSettings(y,E);continue}const W=this.formGroup.get(`${C}ParrotCopyPet`)?.value??null,X=this.formGroup.get(`${C}ParrotCopyPetBelugaSwallowedPet`)?.value??null;if(this.setPetField(y,`${C}ParrotCopyPet`,W),this.setPetField(y,`${C}ParrotCopyPetBelugaSwallowedPet`,"Beluga Whale"===W?X:null),"Beluga Whale"!==W&&this.formGroup.get(`${C}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),"Abomination"===W)for(let z=1;z<=3;z++){const pe=`${C}ParrotCopyPetAbominationSwallowedPet${z}`,Me=this.formGroup.get(pe)?.value??null,xe=this.formGroup.get(`${pe}BelugaSwallowedPet`)?.value??null,Ke=Number(this.formGroup.get(`${pe}Level`)?.value??1);this.setPetField(y,pe,Me),this.setPetField(y,`${pe}BelugaSwallowedPet`,"Beluga Whale"===Me?xe:null),this.setPetField(y,`${pe}Level`,Ke||1),this.setPetField(y,`${pe}TimesHurt`,this.getParrotCopyPetAbominationParrotAbominationTimesHurtValue(`${pe}TimesHurt`)),"Beluga Whale"!==Me&&this.formGroup.get(`${pe}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1})}else this.clearParrotCopyPetAbominationParrotAbominationSettings(y,E)}}shouldShowParrotCopyPetAbominationParrotAbominationTimesHurt(l,y){const E=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${l}ParrotCopyPetAbominationSwallowedPet${y}`);return yr(E?.value)}shouldShowParrotCopyPetAbominationTimesHurt(l){const y=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${l+1}`);return yr(y?.value)}setSarcasticFringeheadSwallowedPet(l){let y=this.player.getPet(this.index);null!=y&&(y.sarcasticFringeheadSwallowedPet=l)}setSwallowedPets(l){const y=this.player.getPet(this.index);if(null==y)return;const E=this.normalizeAbominationSwallowedSlots(y);for(const C of E){const I=Gh[C.index-1];this.setPetField(y,I.nameField,C.name),this.setPetField(y,I.belugaField,C.beluga),this.setPetField(y,I.sarcasticField,C.sarcastic),this.setPetField(y,I.levelField,C.level),this.setPetField(y,I.timesHurtField,this.getAbominationTimesHurtValue(I.timesHurtField))}this.setAbominationParrotCopySettings(null),this.substitutePet(!1)}shouldShowAbominationSwallowTimesHurt(l){const y=this.formGroup.get(`abominationSwallowedPet${l+1}`);return yr(y?.value)}setBattlesFought(l){let y=this.player.getPet(this.index);null!=y&&(y.battlesFought=l)}setTimesHurt(l){let y=this.player.getPet(this.index);null!=y&&(y.timesHurt=l,this.substitutePet(!1))}getAbominationParrotCopyAbominationTimesHurtValue(l){const y=this.formGroup.get(l);if(!y)return 0;const E=Number(y.value);return Number.isNaN(E)?0:Math.max(0,Math.min(99,E))}clearAbominationParrotCopySettings(l,y){const E=`abominationSwallowedPet${y}`;this.setPetField(l,`${E}ParrotCopyPet`,null),this.setPetField(l,`${E}ParrotCopyPetBelugaSwallowedPet`,null),this.formGroup.get(`${E}ParrotCopyPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${E}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.clearAbominationParrotCopyAbominationSettings(l,y)}clearAbominationParrotCopyAbominationSettings(l,y){for(let E=1;E<=3;E++){const C=`abominationSwallowedPet${y}ParrotCopyPetAbominationSwallowedPet${E}`;this.setPetField(l,C,null),this.setPetField(l,`${C}BelugaSwallowedPet`,null),this.setPetField(l,`${C}Level`,1),this.setPetField(l,`${C}TimesHurt`,0),this.formGroup.get(C)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${C}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${C}Level`)?.setValue(1,{emitEvent:!1}),this.formGroup.get(`${C}TimesHurt`)?.setValue(0,{emitEvent:!1})}}getParrotCopyPetAbominationParrotAbominationTimesHurtValue(l){const y=this.formGroup.get(l);if(!y)return 0;const E=Number(y.value);return Number.isNaN(E)?0:Math.max(0,Math.min(99,E))}clearParrotCopyPetAbominationParrotSettings(l,y){const E=`parrotCopyPetAbominationSwallowedPet${y}`;this.setPetField(l,`${E}ParrotCopyPet`,null),this.setPetField(l,`${E}ParrotCopyPetBelugaSwallowedPet`,null),this.formGroup.get(`${E}ParrotCopyPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${E}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.clearParrotCopyPetAbominationParrotAbominationSettings(l,y)}clearParrotCopyPetAbominationParrotAbominationSettings(l,y){for(let E=1;E<=3;E++){const C=`parrotCopyPetAbominationSwallowedPet${y}ParrotCopyPetAbominationSwallowedPet${E}`;this.setPetField(l,C,null),this.setPetField(l,`${C}BelugaSwallowedPet`,null),this.setPetField(l,`${C}Level`,1),this.setPetField(l,`${C}TimesHurt`,0),this.formGroup.get(C)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${C}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${C}Level`)?.setValue(1,{emitEvent:!1}),this.formGroup.get(`${C}TimesHurt`)?.setValue(0,{emitEvent:!1})}}getParrotAbominationTimesHurtValue(l){const y=this.formGroup.get(l);if(!y)return 0;const E=Number(y.value);return Number.isNaN(E)?0:Math.max(0,Math.min(99,E))}clearParrotCopyPetAbominationSettings(l){for(const y of pd){const E=y.endsWith("Level")?1:y.endsWith("TimesHurt")?0:null;this.setPetField(l,y,E),this.formGroup.get(y)?.setValue(E,{emitEvent:!1})}for(let y=1;y<=3;y++)this.clearParrotCopyPetAbominationParrotSettings(l,y)}getAbominationTimesHurtValue(l){const y=this.formGroup.get(l);if(!y)return 0;const E=Number(y.value);return Number.isNaN(E)?0:Math.max(0,Math.min(99,E))}normalizeAbominationSwallowedSlots(l){const y=Gh.map(E=>({index:E.index,name:this.formGroup.get(E.nameField)?.value??null,beluga:this.formGroup.get(E.belugaField)?.value??null,sarcastic:this.formGroup.get(E.sarcasticField)?.value??null,level:Number(this.formGroup.get(E.levelField)?.value??1)||1}));for(const E of y){const C=Gh[E.index-1],I="string"==typeof E.name&&E.name.trim().length>0?E.name:null;E.name=I,I?("Beluga Whale"!==I&&(E.beluga=null,this.formGroup.get(C.belugaField)?.setValue(null,{emitEvent:!1})),"Sarcastic Fringehead"!==I&&(E.sarcastic=null,this.formGroup.get(C.sarcasticField)?.setValue(null,{emitEvent:!1})),"Parrot"!==I&&this.clearAbominationParrotCopySettings(l,E.index)):(E.beluga=null,E.sarcastic=null,this.formGroup.get(C.belugaField)?.setValue(null,{emitEvent:!1}),this.formGroup.get(C.sarcasticField)?.setValue(null,{emitEvent:!1}),this.clearAbominationParrotCopySettings(l,E.index))}return y}setPetField(l,y,E){l[y]=E}static \u0275fac=(()=>{let l;return function(E){return(l||(l=e.xGo(u)))(E||u)}})();static \u0275dir=e.FsC({type:u,features:[e.Vt3]})}return u})(),Ai=(()=>{class u extends rA{setBelugaSwallow(l){let y=this.player.getPet(this.index);null!=y&&(y.belugaSwallowedPet=l)}setParrotCopyPet(l){let y=this.player.getPet(this.index);null!=y&&(y.parrotCopyPet=l,"Beluga Whale"!==l&&(y.parrotCopyPetBelugaSwallowedPet=null,this.formGroup.get("parrotCopyPetBelugaSwallowedPet")?.setValue(null,{emitEvent:!1})),"Abomination"!==l&&this.clearParrotCopyPetAbominationSettings(y))}setParrotCopyPetBelugaSwallowedPet(l){let y=this.player.getPet(this.index);null!=y&&(y.parrotCopyPetBelugaSwallowedPet=l)}getParrotCopyAbominationSlotCount(){const l=Number(this.formGroup.get("exp")?.value??0);return l<2?1:l<5?2:3}getAbominationSwallowedSlotCount(){const l=Number(this.formGroup.get("exp")?.value??0);return l<2?1:l<5?2:3}static \u0275fac=(()=>{let l;return function(E){return(l||(l=e.xGo(u)))(E||u)}})();static \u0275dir=e.FsC({type:u,features:[e.Vt3]})}return u})();const oA=function Hh(){const u=[];for(let h=1;h<=3;h++){const l=`abominationSwallowedPet${h}`;u.push(`${l}ParrotCopyPet`,`${l}ParrotCopyPetBelugaSwallowedPet`);for(let y=1;y<=3;y++){const E=`${l}ParrotCopyPetAbominationSwallowedPet${y}`;u.push(E,`${E}BelugaSwallowedPet`,`${E}Level`,`${E}TimesHurt`)}}return u}();let rf=(()=>{class u extends Ai{initForm(){this.formGroup.get("name").valueChanges.pipe(kn(this.destroy$),no()).subscribe(E=>{this.petImageBroken=!1,null!=E?this.substitutePet(!0):this.removePet()}),this.subscribeDebouncedStat("attack",0,100),this.subscribeDebouncedStat("health",0,100),this.formGroup.get("exp").valueChanges.pipe(kn(this.destroy$),no()).subscribe(()=>{this.substitutePet(!1)});const y=this.formGroup.get("equipmentUses");this.formGroup.get("equipment").valueChanges.pipe(kn(this.destroy$)).subscribe(E=>{this.equipmentImageBroken=!1;const C=this.normalizeEquipmentValue(E);C!==E&&this.formGroup.get("equipment").setValue(C,{emitEvent:!1}),C||y?.setValue(null,{emitEvent:!1}),this.substitutePet(!1)}),this.formGroup.get("equipmentUses")?.valueChanges.pipe(kn(this.destroy$),na(0),no()).subscribe(()=>this.substitutePet(!1)),this.subscribeControl("belugaSwallowedPet",E=>this.setBelugaSwallow(E)),this.subscribeControl("parrotCopyPet",E=>this.setParrotCopyPet(E)),this.subscribeControl("parrotCopyPetBelugaSwallowedPet",E=>this.setParrotCopyPetBelugaSwallowedPet(E)),this.subscribeControls(pd,E=>this.setParrotCopyPetAbominationSwallowedPets(E)),this.subscribeControls(x,E=>this.setParrotCopyPetAbominationParrotSettings(E)),this.subscribeControl("sarcasticFringeheadSwallowedPet",E=>this.setSarcasticFringeheadSwallowedPet(E)),this.subscribeControls(["abominationSwallowedPet1","abominationSwallowedPet2","abominationSwallowedPet3","abominationSwallowedPet1BelugaSwallowedPet","abominationSwallowedPet2BelugaSwallowedPet","abominationSwallowedPet3BelugaSwallowedPet","abominationSwallowedPet1SarcasticFringeheadSwallowedPet","abominationSwallowedPet2SarcasticFringeheadSwallowedPet","abominationSwallowedPet3SarcasticFringeheadSwallowedPet","abominationSwallowedPet1Level","abominationSwallowedPet2Level","abominationSwallowedPet3Level","abominationSwallowedPet1TimesHurt","abominationSwallowedPet2TimesHurt","abominationSwallowedPet3TimesHurt"],E=>this.setSwallowedPets(E)),this.subscribeControls(oA,E=>this.setAbominationParrotCopySettings(E)),this.subscribeDebouncedStat("mana",0,50),this.subscribeDebouncedStat("triggersConsumed",0,10),this.subscribeDebouncedStat("foodsEaten",0,99),this.formGroup.get("friendsDiedBeforeBattle")?.valueChanges.pipe(kn(this.destroy$),na(0),no()).subscribe(()=>{this.clampFriendsDiedBeforeBattle(),this.substitutePet(!1)}),this.formGroup.get("battlesFought").valueChanges.pipe(kn(this.destroy$),na(0),no()).subscribe(E=>{this.setBattlesFought(E)}),this.formGroup.get("timesHurt").valueChanges.pipe(kn(this.destroy$),na(0),no()).subscribe(E=>{this.setTimesHurt(E)})}subscribeDebouncedStat(l,y,E){this.formGroup.get(l)?.valueChanges.pipe(kn(this.destroy$),na(0),no()).subscribe(()=>{this.clampControl(l,y,E),this.substitutePet(!1)})}subscribeControl(l,y){this.formGroup.get(l)?.valueChanges.pipe(kn(this.destroy$)).subscribe(E=>y(E??null))}subscribeControls(l,y){for(const E of l)this.subscribeControl(E,y)}substitutePet(l=!1){setTimeout(()=>{let y=this.formGroup.getRawValue();l&&(this.formGroup.get("attack").setValue(null,{emitEvent:!1}),this.formGroup.get("health").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(null,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(null,{emitEvent:!1}),this.formGroup.get("foodsEaten").setValue(null,{emitEvent:!1}),y=this.formGroup.getRawValue()),this.applyStatCaps(y),y.equipment=this.normalizeEquipmentValue(y.equipment);let E=this.petService.createPet(y,this.player);this.player.setPet(this.index,E,!0),this.pet=E,this.cdr.markForCheck(),l&&(this.formGroup.get("attack").setValue(E.attack,{emitEvent:!1}),this.formGroup.get("health").setValue(E.health,{emitEvent:!1}),this.formGroup.get("mana").setValue(E.mana,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(E.triggersConsumed,{emitEvent:!1}),this.formGroup.get("foodsEaten").setValue(E.foodsEaten??0,{emitEvent:!1}),this.cdr.markForCheck())})}applyStatCaps(l){const y=this.getAttackHealthMax(l);this.attackHealthMax!==y&&(this.attackHealthMax=y,this.cdr.markForCheck());const E=this.clampValue(l.attack,0,y),C=this.clampValue(l.health,0,y),I=this.clampValue(l.mana,0,50),W=this.clampValue(l.triggersConsumed,0,10),X=this.clampValue(l.foodsEaten,0,99);E!==l.attack&&null!=l.attack&&(this.formGroup.get("attack").setValue(E,{emitEvent:!1}),l.attack=E),C!==l.health&&null!=l.health&&(this.formGroup.get("health").setValue(C,{emitEvent:!1}),l.health=C),I!==l.mana&&null!=l.mana&&(this.formGroup.get("mana").setValue(I,{emitEvent:!1}),l.mana=I),W!==l.triggersConsumed&&null!=l.triggersConsumed&&(this.formGroup.get("triggersConsumed").setValue(W,{emitEvent:!1}),l.triggersConsumed=W),X!==l.foodsEaten&&null!=l.foodsEaten&&(this.formGroup.get("foodsEaten").setValue(X,{emitEvent:!1}),l.foodsEaten=X)}getAttackHealthMax(l){return"Abomination"!==l.name||[this.formGroup.get("abominationSwallowedPet1")?.value,this.formGroup.get("abominationSwallowedPet2")?.value,this.formGroup.get("abominationSwallowedPet3")?.value].some(C=>"Behemoth"===C)?100:50}clampControl(l,y,E){const C=this.formGroup.get(l);if(!C)return;const I=C.value,W=this.clampValue(I,y,E);W!==I&&null!=I&&""!==I&&C.setValue(W,{emitEvent:!1})}clampValue(l,y,E){if(null==l||""===l)return l;const C=Number(l);return Number.isNaN(C)?l:Math.min(E,Math.max(y,C))}removePet(){this.player.setPet(this.index,null,!0),this.formGroup.get("name").setValue(null,{emitEvent:!1}),this.formGroup.get("attack").setValue(0,{emitEvent:!1}),this.formGroup.get("health").setValue(0,{emitEvent:!1}),this.formGroup.get("exp").setValue(0,{emitEvent:!1}),this.formGroup.get("equipment").setValue(null,{emitEvent:!1}),this.formGroup.get("equipmentUses").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(0,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(0,{emitEvent:!1}),this.formGroup.get("foodsEaten").setValue(0,{emitEvent:!1})}clampFriendsDiedBeforeBattle(){const l=this.getFriendsDiedMax();this.clampControl("friendsDiedBeforeBattle",0,l)}getFriendsDiedMax(){const l=this.formGroup.get("name").value;return this.friendsDiedCaps.get(l)??5}static \u0275fac=(()=>{let l;return function(E){return(l||(l=e.xGo(u)))(E||u)}})();static \u0275dir=e.FsC({type:u,features:[e.Vt3]})}return u})();const gd=new Map((0,Mt.bf)().map(u=>[u.toLowerCase(),u])),lA=new Map((0,Mt.Eo)().map(u=>[u.toLowerCase(),u])),jh=new Map((0,Mt.oI)().map(u=>[u.toLowerCase(),u])),Ac=new Set(Object.values(Ga.U).flat().map(u=>`${u}`.toLowerCase()));let Vh=(()=>{class u extends rf{get abominationSwallowedPetArt(){if("Abomination"!==this.formGroup?.get("name")?.value)return[];const y=[{name:this.formGroup.get("abominationSwallowedPet1")?.value,belugaSwallowed:this.formGroup.get("abominationSwallowedPet1BelugaSwallowedPet")?.value},{name:this.formGroup.get("abominationSwallowedPet2")?.value,belugaSwallowed:this.formGroup.get("abominationSwallowedPet2BelugaSwallowedPet")?.value},{name:this.formGroup.get("abominationSwallowedPet3")?.value,belugaSwallowed:this.formGroup.get("abominationSwallowedPet3BelugaSwallowedPet")?.value}],E=[];for(const C of y){if(!C.name)continue;const I=this.getSelectionImagePath(C.name);if(!I)continue;const W="Beluga Whale"===C.name&&C.belugaSwallowed?this.getSelectionImagePath(C.belugaSwallowed):null;E.push({image:I,belugaSwallowedImage:W})}return E}trackByIndex(l){return l}ngOnInit(){this.initPackSets()}ngOnChanges(l){(l.formGroup||l.pet||l.index||l.player)&&this.initSelector()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.customPackSubscription&&this.customPackSubscription.unsubscribe()}initSelector(){this.destroy$.next(),this.initPets(),this.initEquipment(),this.initForm(),this.customPackSubscription?.unsubscribe(),this.customPackSubscription=this.customPacks?.valueChanges?.subscribe(()=>{this.invalidatePackCaches()})??null,this.fixLoadEquipment()}openSelectionDialog(l,y,E="pet",C){this.selectionType=l,this.swallowedPetIndex=y,this.swallowedPetTarget=E,this.swallowedPetParentIndex=C;const I=this.isParrotCopyTarget(E);this.forceShowAllPets=("swallowed-pet"===l||"ability"===l)&&I,this.lockSelectionLevel="ability"===l&&I,this.lockedSelectionLevel=this.lockSelectionLevel?this.getCurrentPetLevel():1,this.showSelectionDialog=!0}onItemSelected(l){if(l instanceof Event)this.closeSelectionDialog();else{if("pet"===this.selectionType)"string"==typeof l&&this.playSelectedPetSound(l),this.formGroup.get("name").setValue(l);else if("equipment"===this.selectionType){const y="string"==typeof l?l:l&&"object"==typeof l&&"string"==typeof l.name?l.name:null;this.formGroup.get("equipment").setValue(y)}else if("swallowed-pet"===this.selectionType||"ability"===this.selectionType){const y="object"==typeof l&&null!==l&&"name"in l&&"level"in l,E=y?l.name:l,C=y?l.level:void 0,I=function ss({target:u,swallowedPetIndex:h,swallowedPetParentIndex:l,petName:y}){switch(u){case"abomination-beluga":return Ws(h,E=>`abominationSwallowedPet${E}BelugaSwallowedPet`);case"abomination-sarcastic":return Ws(h,E=>`abominationSwallowedPet${E}SarcasticFringeheadSwallowedPet`);case"parrot":return"parrotCopyPet";case"parrot-beluga":return"parrotCopyPetBelugaSwallowedPet";case"parrot-abomination":return Ws(h,E=>`parrotCopyPetAbominationSwallowedPet${E}`);case"parrot-abomination-beluga":return Ws(h,E=>`parrotCopyPetAbominationSwallowedPet${E}BelugaSwallowedPet`);case"abomination-parrot":return Ws(h,E=>`abominationSwallowedPet${E}ParrotCopyPet`);case"abomination-parrot-beluga":return Ws(h,E=>`abominationSwallowedPet${E}ParrotCopyPetBelugaSwallowedPet`);case"abomination-parrot-abomination":return Pc(l,h,(E,C)=>`abominationSwallowedPet${E}ParrotCopyPetAbominationSwallowedPet${C}`);case"abomination-parrot-abomination-beluga":return Pc(l,h,(E,C)=>`abominationSwallowedPet${E}ParrotCopyPetAbominationSwallowedPet${C}BelugaSwallowedPet`);case"parrot-abomination-parrot":return Ws(h,E=>`parrotCopyPetAbominationSwallowedPet${E}ParrotCopyPet`);case"parrot-abomination-parrot-beluga":return Ws(h,E=>`parrotCopyPetAbominationSwallowedPet${E}ParrotCopyPetBelugaSwallowedPet`);case"parrot-abomination-parrot-abomination":return Pc(l,h,(E,C)=>`parrotCopyPetAbominationSwallowedPet${E}ParrotCopyPetAbominationSwallowedPet${C}`);case"parrot-abomination-parrot-abomination-beluga":return Pc(l,h,(E,C)=>`parrotCopyPetAbominationSwallowedPet${E}ParrotCopyPetAbominationSwallowedPet${C}BelugaSwallowedPet`);default:return function iA(u,h,l){return"Beluga Whale"===l?"belugaSwallowedPet":"abomination"===u||"Abomination"===l?Ws(h,y=>`abominationSwallowedPet${y}`):"Sarcastic Fringehead"===l?"sarcasticFringeheadSwallowedPet":null}(u,h,y)}}({target:this.swallowedPetTarget,swallowedPetIndex:this.swallowedPetIndex,swallowedPetParentIndex:this.swallowedPetParentIndex,petName:this.pet?.name});if(!I)return void this.closeSelectionDialog();if(this.formGroup.get(I)?.setValue(E),void 0!==C){const X=this.formGroup.get(`${I}Level`);X&&X.setValue(C)}}this.closeSelectionDialog()}}closeSelectionDialog(){this.showSelectionDialog=!1,this.forceShowAllPets=!1,this.lockSelectionLevel=!1,this.lockedSelectionLevel=1}setExp(l){this.formGroup.get("exp").setValue(l)}getIsSelected(l){return this.formGroup.get("exp").value>=l}showRemoveExp(){return this.formGroup.get("exp").value>0}get petImageSrc(){const l=this.formGroup?.get("name")?.value;if(!l)return null;const y=(0,Mt._s)(l);return y?`assets/art/Public/Public/Pets/${y}.png`:null}get swallowedPetImageSrc(){const l=this.formGroup?.get("name")?.value;if("Beluga Whale"===l)return this.getSelectionImagePath(this.formGroup.get("belugaSwallowedPet")?.value);if("Sarcastic Fringehead"===l)return this.getSelectionImagePath(this.formGroup.get("sarcasticFringeheadSwallowedPet")?.value);if("Parrot"===l){const y=this.formGroup.get("parrotCopyPetBelugaSwallowedPet")?.value;return this.getSelectionImagePath(y||this.formGroup.get("parrotCopyPet")?.value)}return null}get equipmentImageSrc(){const l=this.getSelectedEquipmentName();return!l||this.ailmentEquipment?.has(l)?null:(0,Mt.ht)(l,!1)}get ailmentImageSrc(){const l=this.getSelectedEquipmentName();return l&&this.ailmentEquipment?.has(l)?(0,Mt.ht)(l,!0):null}get equipmentSelected(){return!!this.getSelectedEquipmentName()}get equipmentHasUses(){return null!=this.getSelectedEquipment()?.uses}get equipmentUsesToggleId(){return`equipmentUsesToggle-${this.index??"none"}`}get equipmentUsesInputId(){return`equipmentUsesInput-${this.index??"none"}`}get equipmentUsesAvailable(){return this.equipmentSelected&&this.equipmentHasUses}getPetOptionStyle(l){const y=(0,Mt.EA)(l);return this.buildOptionStyle(y)}getEquipmentOptionStyle(l,y=!1){const E=(0,Mt.ht)(l?.name,y);return this.buildOptionStyle(E)}shouldShowFriendsDiedInput(){return this.friendsDiedCaps.has(this.formGroup.get("name").value)}getPetImagePath(l){if(!l)return null;const y=(0,Mt._s)(l);return y?`assets/art/Public/Public/Pets/${y}.png`:null}getSelectionImagePath(l){if(!l)return null;const y=l.trim().toLowerCase(),E=gd.get(y);if(E)return this.getPetImagePath(E);const C=lA.get(y);if(C)return(0,Mt.bG)(C);const I=jh.get(y);return I?(0,Mt.ht)(I,Ac.has(y)):null}isParrotCopyTarget(l){return Bh.has(l)}getCurrentPetLevel(){const l=Number(this.formGroup?.get("exp")?.value??0);return Number.isFinite(l)?l>=5?3:l>=2?2:1:1}initPets(){this.pets=new Map;for(let l=1;l<=6;l++)this.pets.set(l,[]);for(const l of ga.d){const y=this.petService.basePackPetsByName[l];for(let[E,C]of y)this.pets.get(E).push(...C)}for(let[l,y]of this.pets)this.pets.set(l,[...new Set(y)]);this.initStartOfBattlePets()}initStartOfBattlePets(){this.startOfBattlePets=new Map;for(let l=1;l<=6;l++){let y=[];for(let E of this.pets.get(l))this.petService.startOfBattlePets.includes(E)&&y.push(E);this.startOfBattlePets.set(l,y)}}initEquipment(){this.equipment=this.equipmentService.getInstanceOfAllEquipment(),this.ailmentEquipment=this.equipmentService.getInstanceOfAllAilments(),this.equipmentCategoryGroups=this.buildCategoryGroups(Ga.M,this.equipment),this.ailmentCategoryGroups=this.buildCategoryGroups(Ga.U,this.ailmentEquipment)}buildCategoryGroups(l,y){return Object.entries(l).map(([E,C])=>{const I=[];for(const W of C){const X=y.get(W);X&&I.push(X)}return{label:E,items:I}}).filter(E=>E.items.length>0)}buildOptionStyle(l){return l?{"background-image":`url(${l})`,"background-repeat":"no-repeat","background-position":"left center","background-size":"24px 24px","padding-left":"2.5rem"}:{}}playSelectedPetSound(l){if(Kh())return;const y=$h();if(y<=0)return;const E=(0,Mt.KK)(l);if(E&&!(typeof Audio>"u"))try{const C=new Audio(E);C.volume=y;const I=C.play();I&&"function"==typeof I.catch&&I.catch(()=>{})}catch{}}static \u0275fac=(()=>{let l;return function(E){return(l||(l=e.xGo(u)))(E||u)}})();static \u0275dir=e.FsC({type:u,features:[e.Vt3,e.OA$]})}return u})(),lf=(()=>{class u extends Vh{static \u0275fac=(()=>{let l;return function(E){return(l||(l=e.xGo(u)))(E||u)}})();static \u0275dir=e.FsC({type:u,features:[e.Vt3]})}return u})(),cf=(()=>{class u extends lf{static \u0275fac=(()=>{let l;return function(E){return(l||(l=e.xGo(u)))(E||u)}})();static \u0275dir=e.FsC({type:u,features:[e.Vt3]})}return u})(),md=(()=>{class u extends cf{static \u0275fac=(()=>{let l;return function(E){return(l||(l=e.xGo(u)))(E||u)}})();static \u0275dir=e.FsC({type:u,features:[e.Vt3]})}return u})();function ao(u,h){if(1&u&&e.nrm(0,"img",13),2&u){const l=e.XpG();e.Y8G("ngSrc",l.petImageSrc)}}function _d(u,h){if(1&u){const l=e.RV6();e.j41(0,"img",21),e.bIt("error",function(){v.eBV(l);const E=e.XpG(3);return v.Njj(E.equipmentImageBroken=!0)}),e.k0s()}if(2&u){const l=e.XpG(3);e.Y8G("ngSrc",l.equipmentImageSrc)("alt",l.formGroup.get("equipment").value||"Equipment")}}function zh(u,h){if(1&u){const l=e.RV6();e.j41(0,"img",21),e.bIt("error",function(){v.eBV(l);const E=e.XpG(3);return v.Njj(E.equipmentImageBroken=!0)}),e.k0s()}if(2&u){const l=e.XpG(3);e.Y8G("ngSrc",l.ailmentImageSrc)("alt",l.formGroup.get("equipment").value||"Ailment")}}function Yh(u,h){if(1&u&&(e.j41(0,"div",19),e.DNE(1,_d,1,2,"img",20)(2,zh,1,2,"img",20),e.k0s()),2&u){const l=e.XpG(2);e.R7$(),e.Y8G("ngIf",l.equipmentImageSrc),e.R7$(),e.Y8G("ngIf",!l.equipmentImageSrc&&l.ailmentImageSrc)}}function cA(u,h){if(1&u&&(e.j41(0,"div",22),e.nrm(1,"img",23),e.k0s()),2&u){const l=e.XpG(2);e.R7$(),e.Y8G("ngSrc",l.swallowedPetImageSrc)}}function fd(u,h){if(1&u&&e.nrm(0,"img",28),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.belugaSwallowedImage)}}function dl(u,h){if(1&u&&(e.j41(0,"div",26),e.nrm(1,"img",23),e.DNE(2,fd,1,1,"img",27),e.k0s()),2&u){const l=h.$implicit;e.R7$(),e.Y8G("ngSrc",l.image),e.R7$(),e.Y8G("ngIf",l.belugaSwallowedImage)}}function uA(u,h){if(1&u&&(e.j41(0,"div",24),e.DNE(1,dl,3,2,"div",25),e.k0s()),2&u){const l=e.XpG(2);e.R7$(),e.Y8G("ngForOf",l.abominationSwallowedPetArt)("ngForTrackBy",l.trackByIndex)}}function dA(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",14)(1,"img",15),e.bIt("error",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.petImageBroken=!0)}),e.k0s(),e.DNE(2,Yh,3,2,"div",16)(3,cA,2,1,"div",17)(4,uA,2,2,"div",18),e.k0s()}if(2&u){const l=e.XpG();e.AVh("equipment-left",!l.flipImage)("equipment-right",l.flipImage),e.R7$(),e.AVh("flipped",l.flipImage),e.Y8G("ngSrc",l.petImageSrc)("alt",l.formGroup.get("name").value||"Pet"),e.R7$(),e.Y8G("ngIf",(l.equipmentImageSrc||l.ailmentImageSrc)&&!l.equipmentImageBroken),e.R7$(),e.Y8G("ngIf",l.swallowedPetImageSrc),e.R7$(),e.Y8G("ngIf",l.abominationSwallowedPetArt.length)}}function uf(u,h){if(1&u){const l=e.RV6();e.j41(0,"app-item-selection-dialog",29),e.bIt("select",function(E){v.eBV(l);const C=e.XpG();return v.Njj(C.onItemSelected(E))})("close",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.closeSelectionDialog())}),e.k0s()}if(2&u){const l=e.XpG();e.Y8G("type",l.selectionType)("showAllPets",l.allPets||l.forceShowAllPets)("currentPack",null==l.player?null:l.player.pack)("lockAbilityLevel",l.lockSelectionLevel)("initialLevel",l.lockedSelectionLevel)}}let Xh=(()=>{class u extends md{constructor(l,y,E){super(l,y,E)}static \u0275fac=function(y){return new(y||u)(e.rXU(As.T),e.rXU(aa.m),e.rXU(t.gRc))};static \u0275cmp=e.VBU({type:u,selectors:[["app-pet-selector"]],features:[e.Vt3],decls:14,vars:19,consts:[[1,"card","p-2"],[1,"row","form-group","g-0",3,"formGroup"],[3,"formGroup"],[1,"col-12","mb-2"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center",3,"click"],["class","btn-icon me-2","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc",4,"ngIf"],[1,"btn-text"],[1,"fas","fa-chevron-down","ms-auto"],[3,"openSelection","formGroup","pet"],[3,"openSelection","formGroup","equipmentImageSrc","ailmentImageSrc","allowEquipmentUseOverrides","equipmentUsesAvailable","equipmentUsesInputId"],["class","col-12 pet-art mb-2",3,"equipment-left","equipment-right",4,"ngIf"],[3,"formGroup","petName","mana","triggersConsumed","attackHealthMax"],[3,"type","showAllPets","currentPack","lockAbilityLevel","initialLevel","select","close",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async",1,"btn-icon","me-2",3,"ngSrc"],[1,"col-12","pet-art","mb-2"],["width","72","height","72","loading","lazy","decoding","async",3,"error","ngSrc","alt"],["class","equipment-art",4,"ngIf"],["class","swallowed-art",4,"ngIf"],["class","swallowed-art swallowed-stack",4,"ngIf"],[1,"equipment-art"],["width","32","height","32","loading","lazy","decoding","async",3,"ngSrc","alt","error",4,"ngIf"],["width","32","height","32","loading","lazy","decoding","async",3,"error","ngSrc","alt"],[1,"swallowed-art"],["width","32","height","32","loading","lazy","decoding","async","alt","Swallowed Pet",3,"ngSrc"],[1,"swallowed-art","swallowed-stack"],["class","swallowed-stack-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"swallowed-stack-item"],["class","swallowed-beluga-nested","width","16","height","16","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",3,"ngSrc",4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",1,"swallowed-beluga-nested",3,"ngSrc"],[3,"select","close","type","showAllPets","currentPack","lockAbilityLevel","initialLevel"]],template:function(y,E){if(1&y&&(e.j41(0,"div",0)(1,"form",1),e.nrm(2,"app-pet-level-selector",2),e.j41(3,"div",3)(4,"button",4),e.bIt("click",function(){return E.openSelectionDialog("pet")}),e.DNE(5,ao,1,1,"img",5),e.j41(6,"span",6),e.EFF(7),e.k0s(),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"app-swallowed-pet-selector",8),e.bIt("openSelection",function(I){return E.openSelectionDialog(I.type,I.index,I.target,I.parentIndex)}),e.k0s(),e.j41(10,"app-pet-equipment-selector",9),e.bIt("openSelection",function(){return E.openSelectionDialog("equipment")}),e.k0s(),e.DNE(11,dA,5,11,"div",10),e.nrm(12,"app-pet-stats-selector",11),e.k0s()(),e.DNE(13,uf,1,5,"app-item-selection-dialog",12)),2&y){let C;e.R7$(),e.Y8G("formGroup",E.formGroup),e.R7$(),e.Y8G("formGroup",E.formGroup),e.R7$(3),e.Y8G("ngIf",E.petImageSrc),e.R7$(2),e.JRh(E.formGroup.get("name").value||"Select Pet"),e.R7$(2),e.Y8G("formGroup",E.formGroup)("pet",E.pet),e.R7$(),e.Y8G("formGroup",E.formGroup)("equipmentImageSrc",E.equipmentImageSrc)("ailmentImageSrc",E.ailmentImageSrc)("allowEquipmentUseOverrides",E.allowEquipmentUseOverrides)("equipmentUsesAvailable",E.equipmentUsesAvailable)("equipmentUsesInputId",E.equipmentUsesInputId),e.R7$(),e.Y8G("ngIf",E.petImageSrc&&!E.petImageBroken),e.R7$(),e.Y8G("formGroup",E.formGroup)("petName",null==(C=E.formGroup.get("name"))?null:C.value)("mana",E.mana)("triggersConsumed",E.triggersConsumed)("attackHealthMax",E.attackHealthMax),e.R7$(),e.Y8G("ngIf",E.showSelectionDialog)}},dependencies:[jt.MD,jt.Sq,jt.bT,yi,ue.X1,ue.qT,ue.cb,ue.j4,ue.YN,mc,io,xi,NP,nf],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"],changeDetection:0})}return u})();var df=i(13276),pf=i.t(df,2),vd=i(37302),Ks=i(68308);function Sc(u){var h=-1,l=null==u?0:u.length;for(this.__data__=new Ks.A;++h<l;)this.add(u[h])}Sc.prototype.add=Sc.prototype.push=function Ec(u){return this.__data__.set(u,"__lodash_hash_undefined__"),this},Sc.prototype.has=function Gn(u){return this.__data__.has(u)};const pA=Sc,hA=function mf(u,h){for(var l=-1,y=null==u?0:u.length;++l<y;)if(h(u[l],l,u))return!0;return!1},gA=function Qh(u,h){return u.has(h)},qh=function yd(u,h,l,y,E,C){var I=1&l,W=u.length,X=h.length;if(W!=X&&!(I&&X>W))return!1;var z=C.get(u),pe=C.get(h);if(z&&pe)return z==h&&pe==u;var Me=-1,xe=!0,Ke=2&l?new pA:void 0;for(C.set(u,h),C.set(h,u);++Me<W;){var _t=u[Me],ht=h[Me];if(y)var st=I?y(ht,_t,Me,h,u,C):y(_t,ht,Me,u,h,C);if(void 0!==st){if(st)continue;xe=!1;break}if(Ke){if(!hA(h,function(Ct,ut){if(!gA(Ke,ut)&&(_t===Ct||E(_t,Ct,l,y,C)))return Ke.push(ut)})){xe=!1;break}}else if(_t!==ht&&!E(_t,ht,l,y,C)){xe=!1;break}}return C.delete(u),C.delete(h),xe};var bd=i(6944),ff=i(26509),Pd=i(61319);const vf=function Zh(u){var h=-1,l=Array(u.size);return u.forEach(function(y,E){l[++h]=[E,y]}),l},yf=function pl(u){var h=-1,l=Array(u.size);return u.forEach(function(y){l[++h]=y}),l};var ng=bd.A?bd.A.prototype:void 0,Ad=ng?ng.valueOf:void 0;var Ed=i(67895),Sd=Object.prototype.hasOwnProperty;var Df=i(63080),br=i(43744),Mf=i(10259),bA=i(54608),Dc="[object Arguments]",ro="[object Array]",Dd="[object Object]",rg=Object.prototype.hasOwnProperty;const ND=function AA(u,h,l,y,E,C){var I=(0,br.A)(u),W=(0,br.A)(h),X=I?ro:(0,Df.A)(u),z=W?ro:(0,Df.A)(h),pe=(X=X==Dc?Dd:X)==Dd,Me=(z=z==Dc?Dd:z)==Dd,xe=X==z;if(xe&&(0,Mf.A)(u)){if(!(0,Mf.A)(h))return!1;I=!0,pe=!1}if(xe&&!pe)return C||(C=new vd.A),I||(0,bA.A)(u)?qh(u,h,l,y,E,C):function ag(u,h,l,y,E,C,I){switch(l){case"[object DataView]":if(u.byteLength!=h.byteLength||u.byteOffset!=h.byteOffset)return!1;u=u.buffer,h=h.buffer;case"[object ArrayBuffer]":return!(u.byteLength!=h.byteLength||!C(new ff.A(u),new ff.A(h)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,Pd.A)(+u,+h);case"[object Error]":return u.name==h.name&&u.message==h.message;case"[object RegExp]":case"[object String]":return u==h+"";case"[object Map]":var W=vf;case"[object Set]":if(W||(W=yf),u.size!=h.size&&!(1&y))return!1;var z=I.get(u);if(z)return z==h;y|=2,I.set(u,h);var pe=qh(W(u),W(h),y,E,C,I);return I.delete(u),pe;case"[object Symbol]":if(Ad)return Ad.call(u)==Ad.call(h)}return!1}(u,h,X,l,y,E,C);if(!(1&l)){var Ke=pe&&rg.call(u,"__wrapped__"),_t=Me&&rg.call(h,"__wrapped__");if(Ke||_t){var ht=Ke?u.value():u,st=_t?h.value():h;return C||(C=new vd.A),E(ht,st,l,y,C)}}return!!xe&&(C||(C=new vd.A),function sg(u,h,l,y,E,C){var I=1&l,W=(0,Ed.A)(u),X=W.length;if(X!=(0,Ed.A)(h).length&&!I)return!1;for(var Me=X;Me--;){var xe=W[Me];if(!(I?xe in h:Sd.call(h,xe)))return!1}var Ke=C.get(u),_t=C.get(h);if(Ke&&_t)return Ke==h&&_t==u;var ht=!0;C.set(u,h),C.set(h,u);for(var st=I;++Me<X;){var Ct=u[xe=W[Me]],ut=h[xe];if(y)var bt=I?y(ut,Ct,xe,h,u,C):y(Ct,ut,xe,u,h,C);if(!(void 0===bt?Ct===ut||E(Ct,ut,l,y,C):bt)){ht=!1;break}st||(st="constructor"==xe)}if(ht&&!st){var ft=u.constructor,It=h.constructor;ft!=It&&"constructor"in u&&"constructor"in h&&!("function"==typeof ft&&ft instanceof ft&&"function"==typeof It&&It instanceof It)&&(ht=!1)}return C.delete(u),C.delete(h),ht}(u,h,l,y,E,C))};var og=i(42661);const Md=function Mc(u,h,l,y,E){return u===h||(null==u||null==h||!(0,og.A)(u)&&!(0,og.A)(h)?u!=u&&h!=h:ND(u,h,l,y,Mc,E))};var SA=i(30554);const Cd=function TA(u){return u==u&&!(0,SA.A)(u)};var DA=i(14429);const Cc=function wd(u,h){return function(l){return null!=l&&l[u]===h&&(void 0!==h||u in Object(l))}},Of=function WD(u){var h=function kd(u){for(var h=(0,DA.A)(u),l=h.length;l--;){var y=h[l],E=u[y];h[l]=[y,E,Cd(E)]}return h}(u);return 1==h.length&&h[0][2]?Cc(h[0][0],h[0][1]):function(l){return l===u||function UD(u,h,l,y){var E=l.length,C=E,I=!y;if(null==u)return!C;for(u=Object(u);E--;){var W=l[E];if(I&&W[2]?W[1]!==u[W[0]]:!(W[0]in u))return!1}for(;++E<C;){var X=(W=l[E])[0],z=u[X],pe=W[1];if(I&&W[2]){if(void 0===z&&!(X in u))return!1}else{var Me=new vd.A;if(y)var xe=y(z,pe,X,u,h,Me);if(!(void 0===xe?Md(pe,z,3,y,Me):xe))return!1}}return!0}(l,u,h)}};var lg=i(31685);const cg=function CA(u){return"symbol"==typeof u||(0,og.A)(u)&&"[object Symbol]"==(0,lg.A)(u)};var kA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Id=/^\w*$/;const Pr=function wA(u,h){if((0,br.A)(u))return!1;var l=typeof u;return!("number"!=l&&"symbol"!=l&&"boolean"!=l&&null!=u&&!cg(u))||Id.test(u)||!kA.test(u)||null!=h&&u in Object(h)};function If(u,h){if("function"!=typeof u||null!=h&&"function"!=typeof h)throw new TypeError("Expected a function");var l=function(){var y=arguments,E=h?h.apply(this,y):y[0],C=l.cache;if(C.has(E))return C.get(E);var I=u.apply(this,y);return l.cache=C.set(E,I)||C,I};return l.cache=new(If.Cache||Ks.A),l}If.Cache=Ks.A;const KD=If;var Lf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,IA=/\\(\\)?/g;const LA=function OA(u){var h=KD(u,function(y){return 500===l.size&&l.clear(),y}),l=h.cache;return h}(function(u){var h=[];return 46===u.charCodeAt(0)&&h.push(""),u.replace(Lf,function(l,y,E,C){h.push(E?C.replace(IA,"$1"):y||l)}),h});var xA=i(56689),xf=bd.A?bd.A.prototype:void 0,ug=xf?xf.toString:void 0;const Bf=function FA(u){if("string"==typeof u)return u;if((0,br.A)(u))return(0,xA.A)(u,FA)+"";if(cg(u))return ug?ug.call(u):"";var h=u+"";return"0"==h&&1/u==-1/0?"-0":h},Rd=function NA(u){return null==u?"":Bf(u)},Ff=function UA(u,h){return(0,br.A)(u)?u:Pr(u,h)?[u]:LA(Rd(u))},wc=function Uf(u){if("string"==typeof u||cg(u))return u;var h=u+"";return"0"==h&&1/u==-1/0?"-0":h},Ld=function WA(u,h){for(var l=0,y=(h=Ff(h,u)).length;null!=u&&l<y;)u=u[wc(h[l++])];return l&&l==y?u:void 0},hl=function KA(u,h){return null!=u&&h in Object(u)};var Kf=i(97061),pg=i(28606),gl=i(15481);const $f=function $A(u,h){return null!=u&&function hg(u,h,l){for(var y=-1,E=(h=Ff(h,u)).length,C=!1;++y<E;){var I=wc(h[y]);if(!(C=null!=u&&l(u,I)))break;u=u[I]}return C||++y!=E?C:!!(E=null==u?0:u.length)&&(0,gl.A)(E)&&(0,pg.A)(I,E)&&((0,br.A)(u)||(0,Kf.A)(u))}(u,h,hl)},Ic=function GD(u,h){return Pr(u)&&Cd(h)?Cc(wc(u),h):function(l){var y=function dg(u,h,l){var y=null==u?void 0:Ld(u,h);return void 0===y?l:y}(l,u);return void 0===y&&y===h?$f(l,u):Md(h,y,3)}},Bd=function GA(u){return u},VA=function jA(u){return Pr(u)?function gg(u){return function(h){return h?.[u]}}(wc(u)):function HD(u){return function(h){return Ld(h,u)}}(u)},Rc=function mg(u,h){return h.length<2?u:Ld(u,function YA(u,h,l){var y=-1,E=u.length;h<0&&(h=-h>E?0:E+h),(l=l>E?E:l)<0&&(l+=E),E=h>l?0:l-h>>>0,h>>>=0;for(var C=Array(E);++y<E;)C[y]=u[y+h];return C}(h,0,-1))};var Fd=Object.prototype.hasOwnProperty;const Lc=function Gf(u,h){var l=-1,y=(h=Ff(h,u)).length;if(!y)return!0;for(var E=null==u||"object"!=typeof u&&"function"!=typeof u;++l<y;){var C=h[l];if("string"==typeof C){if("__proto__"===C&&!Fd.call(u,"__proto__"))return!1;if("constructor"===C&&l+1<y&&"string"==typeof h[l+1]&&"prototype"===h[l+1]){if(E&&0===l)continue;return!1}}}var I=Rc(u,h);return null==I||delete I[wc(function YD(u){var h=null==u?0:u.length;return h?u[h-1]:void 0}(h))]};var JA=Array.prototype.splice;const lo=function Vf(u,h){var l=[];if(!u||!u.length)return l;var y=-1,E=[],C=u.length;for(h=function VD(u){return"function"==typeof u?u:null==u?Bd:"object"==typeof u?(0,br.A)(u)?Ic(u[0],u[1]):Of(u):VA(u)}(h);++y<C;){var I=u[y];h(I,y,u)&&(l.push(I),E.push(y))}return function xc(u,h){for(var l=u?h.length:0,y=l-1;l--;){var E=h[l];if(l==y||E!==C){var C=E;(0,pg.A)(E)?JA.call(u,E,1):Lc(u,E)}}}(u,E),l};function fg(u,h){1&u&&(e.j41(0,"div",10),e.EFF(1," That name is not allowed. "),e.k0s())}function QA(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",14),e.nrm(1,"input",15),e.j41(2,"label",16)(3,"img",17),e.bIt("error",function(E){v.eBV(l);const C=e.XpG(2);return v.Njj(C.handlePetIconError(E))}),e.k0s(),e.EFF(4),e.k0s()()}if(2&u){const l=h.$implicit,y=e.XpG(2);e.R7$(),e.Y8G("id",l)("formControlName",l),e.R7$(),e.Y8G("for",l),e.R7$(),e.Y8G("src",y.getPetIcon(l),e.B4B)("alt",l+" icon"),e.R7$(),e.SpI(" ",l," ")}}function qA(u,h){if(1&u&&(e.j41(0,"div",11)(1,"div",2)(2,"h3"),e.EFF(3),e.j41(4,"span"),e.EFF(5),e.k0s()(),e.j41(6,"div",7)(7,"div",12),e.DNE(8,QA,5,6,"div",13),e.k0s()()()()),2&u){const l=h.$implicit,y=e.XpG();e.Y8G("formGroup",y.getCheckboxFormGroup(l)),e.R7$(3),e.SpI(" Tier ",l," Pets "),e.R7$(),e.HbH(10==y.getCount(l)?"valid":"invalid"),e.R7$(),e.SpI("",y.getCount(l),"/10"),e.R7$(3),e.Y8G("ngForOf",y.getPets(l))("ngForTrackBy",y.trackByPetName)}}function zf(u,h){1&u&&(e.j41(0,"div",10),e.EFF(1,"Name is required."),e.k0s())}let Yf=(()=>{class u{tiers=[1,2,3,4,5,6];formGroup;petPackMap;submitEvent=new v.bkB;cancelEvent=new v.bkB;checkboxFormGroup;loaded=!1;fallbackIcon="assets/art/Public/Public/Icons/Level_L1.png";constructor(){}ngOnInit(){this.initCheckboxFormGroup(),this.formGroup.updateValueAndValidity()}initCheckboxFormGroup(){let l=new ue.gE({}),y=new ue.gE({}),E=new ue.gE({}),C=new ue.gE({}),I=new ue.gE({}),W=new ue.gE({});for(let X of this.getPets(1)){let z=new ue.MJ(this.formGroup.get("tier1Pets").value.includes(X));z.valueChanges.subscribe(pe=>{this.processCheckboxChange(1,X,pe)}),l.addControl(X,z)}for(let X of this.getPets(2)){let z=new ue.MJ(this.formGroup.get("tier2Pets").value.includes(X));z.valueChanges.subscribe(pe=>{this.processCheckboxChange(2,X,pe)}),y.addControl(X,z)}for(let X of this.getPets(3)){let z=new ue.MJ(this.formGroup.get("tier3Pets").value.includes(X));z.valueChanges.subscribe(pe=>{this.processCheckboxChange(3,X,pe)}),E.addControl(X,z)}for(let X of this.getPets(4)){let z=new ue.MJ(this.formGroup.get("tier4Pets").value.includes(X));z.valueChanges.subscribe(pe=>{this.processCheckboxChange(4,X,pe)}),C.addControl(X,z)}for(let X of this.getPets(5)){let z=new ue.MJ(this.formGroup.get("tier5Pets").value.includes(X));z.valueChanges.subscribe(pe=>{this.processCheckboxChange(5,X,pe)}),I.addControl(X,z)}for(let X of this.getPets(6)){let z=new ue.MJ(this.formGroup.get("tier6Pets").value.includes(X));z.valueChanges.subscribe(pe=>{this.processCheckboxChange(6,X,pe)}),W.addControl(X,z)}this.checkboxFormGroup=new ue.gE({tier1Pets:l,tier2Pets:y,tier3Pets:E,tier4Pets:C,tier5Pets:I,tier6Pets:W})}getCheckboxFormGroup(l){return this.checkboxFormGroup.get(`tier${l}Pets`)}getPets(l){let y=[];for(let[E,C]of this.petPackMap.get(l))y.push(...C);return y=[...new Set(y)],y}getCount(l){return this.formGroup.get(`tier${l}Pets`).value.length}processCheckboxChange(l,y,E){let C=this.formGroup.get(`tier${l}Pets`).value;E?C.push(y):lo(C,I=>I===y),this.formGroup.get(`tier${l}Pets`).updateValueAndValidity()}getPetIcon(l){return(0,Mt.EA)(l)??this.fallbackIcon}handlePetIconError(l){const y=l.target;y?.dataset?.fallback||(y.dataset.fallback="true",y.src=this.fallbackIcon)}trackByPetName(l,y){return y??String(l)}submit(){this.submitEvent.emit(this.formGroup)}cancel(){confirm("Are you sure you want to cancel?")&&this.cancelEvent.emit(this.formGroup)}submitDisabled(){return this.formGroup.get("name").invalid}static \u0275fac=function(y){return new(y||u)};static \u0275cmp=e.VBU({type:u,selectors:[["app-custom-pack-form"]],inputs:{formGroup:"formGroup",petPackMap:"petPackMap"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:15,vars:5,consts:[[3,"formGroup"],[1,"row","mb-4"],[1,"col-12"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],["class","invalid",4,"ngIf"],["class","row mb-4",3,"formGroup",4,"ngFor","ngForOf"],[1,"row"],[1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-danger",3,"click"],[1,"invalid"],[1,"row","mb-4",3,"formGroup"],[1,"col-12","editor-grid"],["class","form-check",4,"ngFor","ngForOf","ngForTrackBy"],[1,"form-check"],["type","checkbox","value","",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label","pet-label",3,"for"],[1,"pet-icon",3,"error","src","alt"]],template:function(y,E){if(1&y&&(e.j41(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),e.EFF(4,"Pack Name"),e.k0s(),e.nrm(5,"input",4),e.DNE(6,fg,2,0,"div",5),e.k0s()(),e.DNE(7,qA,9,7,"div",6),e.j41(8,"div",7)(9,"div",2)(10,"button",8),e.bIt("click",function(){return E.submit()}),e.EFF(11," Submit Pack "),e.k0s(),e.j41(12,"button",9),e.bIt("click",function(){return E.cancel()}),e.EFF(13,"Cancel"),e.k0s(),e.DNE(14,zf,2,0,"div",5),e.k0s()()()),2&y){let C;e.Y8G("formGroup",E.formGroup),e.R7$(6),e.Y8G("ngIf",null==(C=E.formGroup.get("name").errors)?null:C.forbiddenName),e.R7$(),e.Y8G("ngForOf",E.tiers),e.R7$(3),e.Y8G("disabled",E.submitDisabled()),e.R7$(4),e.Y8G("ngIf",E.submitDisabled())}},dependencies:[jt.MD,jt.Sq,jt.bT,ue.X1,ue.qT,ue.me,ue.Zm,ue.BC,ue.cb,ue.j4,ue.JD],styles:[".editor-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));grid-gap:1rem}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:#0ab40a}.form-check[_ngcontent-%COMP%]{min-height:2.5rem}.pet-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.35rem;line-height:1.2;flex-wrap:wrap;white-space:normal}.pet-icon[_ngcontent-%COMP%]{width:26px;height:26px;object-fit:contain}"]})}return u})();var ZA=i(54205),Xf=i(44937);function eE(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"app-custom-pack-form",4),e.bIt("submitEvent",function(E){v.eBV(l);const C=e.XpG();return v.Njj(C.submitEvent(E))})("cancelEvent",function(E){v.eBV(l);const C=e.XpG();return v.Njj(C.cancelEvent(E))}),e.k0s()()()}if(2&u){const l=e.XpG();e.R7$(2),e.Y8G("formGroup",l.makeFormGroup(l.focusedGroup))("petPackMap",l.petPackMap)}}function Bc(u,h){1&u&&(e.j41(0,"span",17),e.EFF(1,"Valid"),e.k0s())}function tE(u,h){1&u&&(e.j41(0,"span",18),e.EFF(1,"Invalid"),e.k0s())}function iE(u,h){if(1&u){const l=e.RV6();e.j41(0,"tr")(1,"td",12),e.EFF(2),e.k0s(),e.j41(3,"td",12),e.DNE(4,Bc,2,0,"span",13)(5,tE,2,0,"span",14),e.k0s(),e.j41(6,"td")(7,"button",8),e.bIt("click",function(){const E=v.eBV(l).$implicit,C=e.XpG(2);return v.Njj(C.editPack(E))}),e.EFF(8," Edit "),e.k0s()(),e.j41(9,"td")(10,"button",15),e.bIt("click",function(){const E=v.eBV(l).$implicit,C=e.XpG(2);return v.Njj(C.exportCustomPack(E))}),e.EFF(11," Export "),e.k0s()(),e.j41(12,"td")(13,"button",16),e.bIt("click",function(){const E=v.eBV(l).$implicit,C=e.XpG(2);return v.Njj(C.deletePack(E))}),e.EFF(14," Delete "),e.k0s()()()}if(2&u){const l=h.$implicit;e.R7$(2),e.JRh(l.get("name").value),e.R7$(2),e.Y8G("ngIf",l.valid),e.R7$(),e.Y8G("ngIf",!l.valid)}}function nE(u,h){if(1&u&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&u){const l=e.XpG(2);e.Y8G("ngClass","success"===l.statusTone?"text-success":"text-danger"),e.R7$(),e.SpI(" ",l.statusMessage," ")}}function Nd(u,h){if(1&u){const l=e.RV6();e.j41(0,"div")(1,"div",5)(2,"div",3)(3,"h3"),e.EFF(4,"Custom Packs"),e.k0s(),e.j41(5,"table"),e.DNE(6,iE,15,3,"tr",6),e.k0s()()(),e.j41(7,"div",7)(8,"div",3)(9,"button",8),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.createNewPack())}),e.EFF(10," Create New Pack "),e.k0s()()(),e.j41(11,"div",5)(12,"div",3)(13,"h3"),e.EFF(14,"Import Custom Pack"),e.k0s(),e.j41(15,"div",9),e.nrm(16,"textarea",10),e.k0s()()(),e.j41(17,"div",2)(18,"div",3)(19,"button",8),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.importCustomPack())}),e.EFF(20," Import "),e.k0s()()(),e.DNE(21,nE,2,2,"div",11),e.k0s()}if(2&u){const l=e.XpG();e.R7$(6),e.Y8G("ngForOf",l.customPacks.controls)("ngForTrackBy",l.trackByPackName),e.R7$(9),e.Y8G("formGroup",l.importFormGroup),e.R7$(6),e.Y8G("ngIf",l.statusMessage)}}let Jf=(()=>{class u{petService;localStorageService;formGroup;customPacks;petPackMap;petIdLookup=new Map;petNameToId=new Map;petNameToTier=new Map;focusedGroup=null;importFormGroup=new ue.gE({code:new ue.MJ(null)});statusMessage="";statusTone="success";statusController=new ZA.G(l=>{this.statusMessage=l},l=>{this.statusTone=l},4e3);constructor(l,y){this.petService=l,this.localStorageService=y}ngOnInit(){this.customPacks=this.formGroup.get("customPacks"),this.buildPetPackMap(),this.buildPetNameToTierMap(),this.buildPetIdLookup()}ngOnDestroy(){this.statusController.dispose()}buildPetPackMap(){this.petPackMap=new Map;for(let l=1;l<=6;l++){let y=new Map;for(const E of ga.d)y.set(E,[]);this.petPackMap.set(l,y)}for(const l of ga.d){const y=this.petService.basePackPetsByName[l];for(let[E,C]of y)this.petPackMap.get(E).get(l).push(...C)}}createNewPack(){let l=this.createPack();this.focusedGroup=l}createPack(){return new ue.gE({name:new ue.MJ(null,[ue.k0.required,this.forbiddenNameValidator()]),tier1Pets:new ue.MJ([],this.controlArrayLengthOf10()),tier2Pets:new ue.MJ([],this.controlArrayLengthOf10()),tier3Pets:new ue.MJ([],this.controlArrayLengthOf10()),tier4Pets:new ue.MJ([],this.controlArrayLengthOf10()),tier5Pets:new ue.MJ([],this.controlArrayLengthOf10()),tier6Pets:new ue.MJ([],this.controlArrayLengthOf10()),spells:new ue.MJ([])})}makeFormGroup(l){return l}controlArrayLengthOf10(){return l=>10!==l.value.length?{length:!0}:null}submitEvent(l){this.customPacks.controls.includes(l)||this.customPacks.push(l),this.petService.buildCustomPackPets(this.customPacks),this.focusedGroup=null,this.localStorageService.setFormStorage(this.formGroup)}cancelEvent(l){this.focusedGroup=null}editPack(l){this.focusedGroup=l}deletePack(l){if(confirm("Are you sure you want to delete this pack?")){let y=this.customPacks.controls.indexOf(l);this.customPacks.removeAt(y),this.focusedGroup=null,this.localStorageService.setFormStorage(this.formGroup)}}trackByPackName(l,y){return y?.get("name")?.value??String(l)}forbiddenNameValidator(){return l=>{let y=["custom"];for(let E of this.customPacks.controls)l!=E.get("name")&&y.push(E.get("name").value?.toLowerCase());return y.includes(l.value?.toLowerCase())?{forbiddenName:!0}:null}}importCustomPack(){let l=this.importFormGroup.get("code").value;this.clearStatus();try{let y=l;const E=l.indexOf("{"),C=l.lastIndexOf("}");-1!==E&&C>E&&(y=l.substring(E,C+1));const I=JSON.parse(y);let W=this.parseMinions(I.Minions,I.MinionMap);const X=Array.isArray(I.Spells)?I.Spells:[];let z={name:I.Title,tier1Pets:W.tierMinions.get(1),tier2Pets:W.tierMinions.get(2),tier3Pets:W.tierMinions.get(3),tier4Pets:W.tierMinions.get(4),tier5Pets:W.tierMinions.get(5),tier6Pets:W.tierMinions.get(6),spells:X};this.createNewPack(),this.focusedGroup.patchValue(z),W.missingMinions.length>0?this.setStatus(`Some minion IDs were not recognized and were skipped: ${W.missingMinions.join(", ")}`,"error"):this.setStatus("Custom pack imported.","success")}catch(y){this.setStatus("Invalid code.","error"),console.error(y)}}buildPetIdLookup(){this.petIdLookup=new Map,this.petNameToId=new Map;const l=df??pf;for(let y of l){let E=Number(y.Tier),C=String(y.Id);this.petIdLookup.has(C)||this.petIdLookup.set(C,{name:y.Name,tier:E}),this.petNameToId.has(y.Name)||this.petNameToId.set(y.Name,C)}}exportCustomPack(l){const y=this.buildExportPayload(l),E=JSON.stringify(y);this.importFormGroup.get("code")?.setValue(E),this.copyToClipboard(E)}buildExportPayload(l){const y=X=>{const z=l.get(`tier${X}Pets`);return(Array.isArray(z?.value)?z.value:[]).filter(Me=>!!Me)},E=[];for(let X=1;X<=6;X++){const z=y(X);for(const pe of z){const Me=this.petNameToId.get(pe);E.push(Me??pe)}}const C=l.get("spells"),W=(Array.isArray(C?.value)?C.value:Array.isArray(l?.value?.spells)?l.value.spells:[]).filter(X=>!!X);return{Title:l.get("name")?.value||"Custom Pack",Minions:E,...W.length?{Spells:W}:{}}}copyToClipboard(l){this.clearStatus(),navigator?.clipboard?.writeText?navigator.clipboard.writeText(l).then(()=>{this.setStatus("Custom pack copied to clipboard.","success")}).catch(()=>{this.setStatus("Failed to copy custom pack.","error")}):this.setStatus("Clipboard not available.","error")}buildPetNameToTierMap(){this.petNameToTier=new Map;for(let[l,y]of this.petPackMap)for(let E of y.values())for(let C of E)this.petNameToTier.has(C)||this.petNameToTier.set(C,l)}parseMinions(l,y={}){let E=new Map;for(let I=1;I<=6;I++)E.set(I,[]);let C=[];if(!Array.isArray(l))return{tierMinions:E,missingMinions:C};for(let I of l){let W=null,X=null;if("number"==typeof I)X=String(I);else if("string"==typeof I){let pe=I.trim();pe&&pe.match(/^\d+$/)?X=pe:W=I}if(X){let pe=this.petIdLookup.get(X);pe?W=pe.name:y&&y[X]&&(W=y[X])}if(!W){C.push(I);continue}let z=this.petNameToTier.get(W);z?E.get(z).push(W):C.push(I)}return{tierMinions:E,missingMinions:C}}clearStatus(){this.statusController.clear()}setStatus(l,y){this.statusController.set(l,y)}static \u0275fac=function(y){return new(y||u)(e.rXU(As.T),e.rXU(Xf.s))};static \u0275cmp=e.VBU({type:u,selectors:[["app-custom-pack-editor"]],inputs:{formGroup:"formGroup"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[3,"submitEvent","cancelEvent","formGroup","petPackMap"],[1,"row","mb-3"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"form-group",3,"formGroup"],["id","code","rows","3","formControlName","code",1,"form-control"],["class","mt-2",3,"ngClass",4,"ngIf"],[1,"text"],["class","valid",4,"ngIf"],["class","invalid",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"valid"],[1,"invalid"],[1,"mt-2",3,"ngClass"]],template:function(y,E){1&y&&e.DNE(0,eE,3,2,"div",0)(1,Nd,22,4,"div",1),2&y&&(e.Y8G("ngIf",null!=E.focusedGroup),e.R7$(),e.Y8G("ngIf",null==E.focusedGroup))},dependencies:[jt.MD,jt.YU,jt.Sq,jt.bT,ue.X1,ue.me,ue.BC,ue.cb,ue.j4,ue.JD,Yf],styles:[".valid[_ngcontent-%COMP%]{color:#4caf50}.invalid[_ngcontent-%COMP%]{color:#f44336}.text[_ngcontent-%COMP%]{font-size:1.5em}td[_ngcontent-%COMP%]{padding:.25em .5em}"]})}return u})();const Qf=["soundMenuRoot"],co=()=>({standalone:!0});function aE(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",46),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.app.cancelSimulation())}),e.EFF(1," Cancel "),e.k0s()}}function qf(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.app.undoRandomize())}),e.EFF(1," Undo Randomize "),e.k0s()}}function vg(u,h){if(1&u&&(e.j41(0,"div",61)(1,"span",62),e.EFF(2),e.k0s(),e.j41(3,"span",63),e.EFF(4),e.k0s(),e.j41(5,"span",64),e.EFF(6,"\xb7"),e.k0s(),e.j41(7,"span",65),e.EFF(8),e.k0s(),e.j41(9,"span",64),e.EFF(10,"\xb7"),e.k0s(),e.j41(11,"span",66),e.EFF(12),e.k0s()()),2&u){const l=e.XpG(2);e.R7$(2),e.SpI("",l.app.positioningDeltaSideLabel," optimize delta:"),e.R7$(2),e.SpI("Win ",l.app.formatSignedPercentDelta(l.app.positioningDeltaSummary.winDeltaPercent),"pp"),e.R7$(4),e.SpI("Draw ",l.app.formatSignedPercentDelta(l.app.positioningDeltaSummary.drawDeltaPercent),"pp"),e.R7$(4),e.SpI("Loss ",l.app.formatSignedPercentDelta(l.app.positioningDeltaSummary.lossDeltaPercent),"pp")}}function Ud(u,h){if(1&u&&(e.qex(0),e.j41(1,"div",47)(2,"div",48)(3,"span",49)(4,"span",50),e.EFF(5,"Player"),e.k0s(),e.j41(6,"span",51),e.EFF(7),e.k0s()(),e.j41(8,"span",52)(9,"span",53),e.EFF(10,"Draw"),e.k0s(),e.j41(11,"span",51),e.EFF(12),e.k0s()(),e.j41(13,"span",54)(14,"span",55),e.EFF(15,"Opponent"),e.k0s(),e.j41(16,"span",51),e.EFF(17),e.k0s()()(),e.j41(18,"div",56),e.nrm(19,"span",57)(20,"span",58)(21,"span",59),e.k0s(),e.DNE(22,vg,13,4,"div",60),e.k0s(),e.bVm()),2&u){const l=e.XpG();e.R7$(7),e.Lme("",l.app.playerWinner," - ",l.app.winPercent,"%"),e.R7$(5),e.Lme("",l.app.draw," - ",l.app.drawPercent,"%"),e.R7$(5),e.Lme("",l.app.opponentWinner," - ",l.app.losePercent,"%"),e.R7$(2),e.xc7("width",l.app.winPercent,"%"),e.R7$(),e.xc7("width",l.app.drawPercent,"%"),e.R7$(),e.xc7("width",l.app.losePercent,"%"),e.R7$(),e.Y8G("ngIf",l.app.positioningDeltaSummary)}}function sE(u,h){1&u&&(e.j41(0,"div",67),e.nrm(1,"span",68),e.k0s())}function rE(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",69)(1,"div",70),e.EFF(2),e.k0s(),e.j41(3,"input",71),e.bIt("ngModelChange",function(E){v.eBV(l);const C=e.XpG();return v.Njj(C.app.setSoundVolume(E))}),e.k0s(),e.j41(4,"button",72),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.app.toggleSoundMuted())}),e.EFF(5),e.k0s()()}if(2&u){const l=e.XpG();e.R7$(2),e.SpI("Volume: ",l.app.soundVolumePercent,"%"),e.R7$(),e.Y8G("ngModel",l.app.soundVolume)("ngModelOptions",e.lJ4(4,co)),e.R7$(2),e.SpI(" ",l.app.soundMuted?"Unmute":"Mute"," ")}}function oE(u,h){if(1&u&&(e.j41(0,"div",73),e.EFF(1),e.k0s()),2&u){const l=e.XpG();e.Y8G("ngClass","success"===l.app.statusTone?"text-success":"text-danger"),e.R7$(),e.SpI(" ",l.app.statusMessage," ")}}function lE(u,h){if(1&u&&(e.j41(0,"div",74),e.EFF(1),e.k0s()),2&u){const l=e.XpG();e.R7$(),e.SpI(" ",l.app.autoSaveLabel," ")}}function cE(u,h){if(1&u&&(e.j41(0,"div",75)(1,"div",76),e.nrm(2,"div",77),e.k0s(),e.j41(3,"div",78),e.EFF(4),e.k0s()()),2&u){const l=e.XpG();e.R7$(2),e.xc7("width",l.app.simulationProgress+"%"),e.R7$(2),e.SpI(" ",l.app.simulationCancelRequested?"Cancelling...":l.app.simulationProgressLabel," ")}}function uE(u,h){if(1&u&&(e.j41(0,"span",79),e.EFF(1),e.k0s()),2&u){const l=e.XpG();e.R7$(),e.SpI(" ",l.activeAdvancedOverridesCount," active ")}}function yg(u,h){if(1&u&&(e.j41(0,"div",80),e.EFF(1),e.k0s()),2&u){const l=e.XpG();e.R7$(),e.SpI(" ",l.unifiedAdvancedSummary," ")}}function dE(u,h){if(1&u){const l=e.RV6();e.j41(0,"img",169),e.bIt("error",function(){v.eBV(l);const E=e.XpG(2);return v.Njj(E.app.onPackImageError("player"))}),e.k0s()}if(2&u){const l=e.XpG(2);e.Y8G("ngSrc",l.app.getPackIconPath(l.app.formGroup.get("playerPack").value))}}function Zf(u,h){if(1&u){const l=e.RV6();e.j41(0,"img",169),e.bIt("error",function(){v.eBV(l);const E=e.XpG(2);return v.Njj(E.app.onPackImageError("opponent"))}),e.k0s()}if(2&u){const l=e.XpG(2);e.Y8G("ngSrc",l.app.getPackIconPath(l.app.formGroup.get("opponentPack").value))}}function ev(u,h){if(1&u&&e.nrm(0,"img",172),2&u){const l=h.$implicit,y=e.XpG(3);e.Y8G("ngSrc",l)("alt",y.app.selectedTeamName)}}function pE(u,h){if(1&u&&(e.j41(0,"div",170),e.DNE(1,ev,1,2,"img",171),e.k0s()),2&u){const l=e.XpG(2);e.R7$(),e.Y8G("ngForOf",l.app.selectedTeamPreviewIcons)}}function Fc(u,h){1&u&&(e.j41(0,"span",173),e.EFF(1,"Saved teams"),e.k0s())}function Wd(u,h){1&u&&(e.j41(0,"div",137)(1,"label",174),e.nrm(2,"span",175),e.j41(3,"span",85),e.EFF(4,"Player"),e.k0s(),e.EFF(5," Roll Amount "),e.k0s(),e.nrm(6,"input",176),e.k0s())}function XD(u,h){1&u&&(e.j41(0,"div",137)(1,"label",177),e.nrm(2,"span",175),e.j41(3,"span",90),e.EFF(4,"Opponent"),e.k0s(),e.EFF(5," Roll Amount "),e.k0s(),e.nrm(6,"input",178),e.k0s())}function hE(u,h){if(1&u&&(e.j41(0,"span",179),e.EFF(1),e.k0s()),2&u){const l=e.XpG(2);e.R7$(),e.SpI(" ",l.app.randomDecisions.length," events ")}}function tv(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",180)(1,"button",181),e.bIt("click",function(){v.eBV(l);const E=e.XpG(2);return v.Njj(E.app.captureRandomEvents())}),e.EFF(2," Capture Random Events "),e.k0s(),e.j41(3,"button",182),e.bIt("click",function(){v.eBV(l);const E=e.XpG(2);return v.Njj(E.app.runForcedRandomSimulation())}),e.EFF(4," Run Forced Simulation "),e.k0s(),e.j41(5,"button",183),e.bIt("click",function(){v.eBV(l);const E=e.XpG(2);return v.Njj(E.app.clearRandomOverrides())}),e.EFF(6," Clear "),e.k0s()()}if(2&u){const l=e.XpG(2);e.R7$(),e.Y8G("disabled",l.app.simulationInProgress),e.R7$(2),e.Y8G("disabled",l.app.simulationInProgress||!l.app.randomDecisions.length),e.R7$(2),e.Y8G("disabled",!l.app.randomDecisions.length)}}function bg(u,h){if(1&u&&(e.j41(0,"div",184),e.EFF(1),e.k0s()),2&u){const l=e.XpG(2);e.R7$(),e.SpI(" ",l.app.randomDecisions.length?"Overrides captured. Expand to inspect or force outcomes.":"Capture random events when needed."," ")}}function gE(u,h){1&u&&(e.j41(0,"div",189),e.EFF(1," Capture random events to populate override selectors. "),e.k0s())}function iv(u,h){if(1&u&&(e.j41(0,"div",190),e.EFF(1),e.k0s()),2&u){const l=e.XpG(3);e.R7$(),e.SpI(" ",l.app.randomOverrideError," ")}}function JD(u,h){if(1&u&&e.nrm(0,"img",203),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.src)("alt",l.alt)}}function QD(u,h){if(1&u&&(e.j41(0,"span",204),e.EFF(1),e.k0s()),2&u){const l=e.XpG().$implicit;e.Y8G("ngClass",l.className),e.R7$(),e.JRh(l.text)}}function mE(u,h){1&u&&e.nrm(0,"br")}function nv(u,h){if(1&u&&(e.qex(0),e.DNE(1,JD,1,2,"img",200)(2,QD,2,2,"span",201)(3,mE,1,0,"br",202),e.bVm()),2&u){const l=h.$implicit;e.R7$(),e.Y8G("ngIf","img"===l.type),e.R7$(),e.Y8G("ngIf","text"===l.type),e.R7$(),e.Y8G("ngIf","br"===l.type)}}function av(u,h){if(1&u&&e.nrm(0,"img",203),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.src)("alt",l.alt)}}function qD(u,h){if(1&u&&(e.j41(0,"span",204),e.EFF(1),e.k0s()),2&u){const l=e.XpG().$implicit;e.Y8G("ngClass",l.className),e.R7$(),e.JRh(l.text)}}function sv(u,h){1&u&&e.nrm(0,"br")}function _E(u,h){if(1&u&&(e.qex(0),e.DNE(1,av,1,2,"img",200)(2,qD,2,2,"span",201)(3,sv,1,0,"br",202),e.bVm()),2&u){const l=h.$implicit;e.R7$(),e.Y8G("ngIf","img"===l.type),e.R7$(),e.Y8G("ngIf","text"===l.type),e.R7$(),e.Y8G("ngIf","br"===l.type)}}function ZD(u,h){if(1&u&&(e.j41(0,"option",205),e.EFF(1),e.k0s()),2&u){const l=h.$implicit;e.Y8G("ngValue",l.id),e.R7$(),e.SpI(" ",l.label," ")}}function eM(u,h){if(1&u){const l=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"div",195),e.DNE(5,nv,4,3,"ng-container",194),e.k0s(),e.j41(6,"div",196),e.EFF(7),e.k0s()(),e.j41(8,"td")(9,"div",197),e.DNE(10,_E,4,3,"ng-container",194),e.k0s(),e.j41(11,"select",198),e.bIt("ngModelChange",function(E){const C=v.eBV(l).$implicit,I=e.XpG(4);return v.Njj(I.app.onRandomDecisionChoiceChanged(C,E))}),e.DNE(12,ZD,2,2,"option",199),e.k0s()()()}if(2&u){const l=h.$implicit,y=e.XpG(4);e.R7$(2),e.JRh(l.index+1),e.R7$(3),e.Y8G("ngForOf",y.app.getRandomDecisionLabelParts(l))("ngForTrackBy",y.app.trackByIndex),e.R7$(2),e.JRh(l.key),e.R7$(3),e.Y8G("ngForOf",y.app.getRandomDecisionSelectedOptionParts(l))("ngForTrackBy",y.app.trackByIndex),e.R7$(),e.Y8G("ngModel",y.app.getSelectedRandomDecisionOptionId(l))("ngModelOptions",e.lJ4(10,co)),e.R7$(),e.Y8G("ngForOf",l.options)("ngForTrackBy",y.app.trackByIndex)}}function tM(u,h){if(1&u&&(e.j41(0,"div",191)(1,"table",192)(2,"thead")(3,"tr")(4,"th",193),e.EFF(5,"Step"),e.k0s(),e.j41(6,"th",193),e.EFF(7,"Event"),e.k0s(),e.j41(8,"th",193),e.EFF(9,"Forced Choice"),e.k0s()()(),e.j41(10,"tbody"),e.DNE(11,eM,13,11,"tr",194),e.k0s()()()),2&u){const l=e.XpG(3);e.R7$(11),e.Y8G("ngForOf",l.app.randomDecisions)("ngForTrackBy",l.app.trackByIndex)}}function fE(u,h){if(1&u&&(e.j41(0,"div",185),e.DNE(1,gE,2,0,"div",186)(2,iv,2,1,"div",187)(3,tM,12,2,"div",188),e.k0s()),2&u){const l=e.XpG(2);e.R7$(),e.Y8G("ngIf",!l.app.randomDecisions.length),e.R7$(),e.Y8G("ngIf",l.app.randomOverrideError),e.R7$(),e.Y8G("ngIf",l.app.randomDecisions.length)}}function iM(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",81)(1,"div",82)(2,"div",83),e.EFF(3,"Pack Selection"),e.k0s(),e.j41(4,"div",84)(5,"label")(6,"span",85),e.EFF(7,"Player"),e.k0s(),e.EFF(8," Pack"),e.k0s(),e.j41(9,"button",86),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.app.openSelectionDialog("pack","player"))}),e.DNE(10,dE,1,1,"img",87),e.j41(11,"span",88),e.EFF(12),e.k0s(),e.nrm(13,"i",89),e.k0s()(),e.j41(14,"div",84)(15,"label")(16,"span",90),e.EFF(17,"Opponent"),e.k0s(),e.EFF(18," Pack"),e.k0s(),e.j41(19,"button",86),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.app.openSelectionDialog("pack","opponent"))}),e.DNE(20,Zf,1,1,"img",87),e.j41(21,"span",88),e.EFF(22),e.k0s(),e.nrm(23,"i",89),e.k0s()(),e.j41(24,"div",91),e.nrm(25,"input",92),e.j41(26,"label",93),e.EFF(27,"All Pets"),e.k0s()()(),e.j41(28,"div",94)(29,"div",83),e.EFF(30,"Save / Load Teams"),e.k0s(),e.j41(31,"div",95)(32,"input",96),e.mxI("ngModelChange",function(E){v.eBV(l);const C=e.XpG();return e.DH7(C.app.teamName,E)||(C.app.teamName=E),v.Njj(E)}),e.k0s(),e.j41(33,"div",97)(34,"button",98),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.app.saveTeam(E.saveSide))}),e.EFF(35," Save "),e.k0s(),e.j41(36,"select",99),e.mxI("ngModelChange",function(E){v.eBV(l);const C=e.XpG();return e.DH7(C.saveSide,E)||(C.saveSide=E),v.Njj(E)}),e.j41(37,"option",15),e.EFF(38,"Player"),e.k0s(),e.j41(39,"option",16),e.EFF(40,"Opponent"),e.k0s()()()(),e.j41(41,"div",95)(42,"button",100),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.app.openSelectionDialog("team","none"))}),e.DNE(43,pE,2,1,"div",101)(44,Fc,2,0,"ng-template",null,2,e.C5r),e.j41(46,"span",88),e.EFF(47),e.k0s(),e.nrm(48,"i",89),e.k0s(),e.j41(49,"div",102)(50,"button",98),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.app.loadTeam(E.loadSide))}),e.EFF(51," Load "),e.k0s(),e.j41(52,"select",99),e.mxI("ngModelChange",function(E){v.eBV(l);const C=e.XpG();return e.DH7(C.loadSide,E)||(C.loadSide=E),v.Njj(E)}),e.j41(53,"option",15),e.EFF(54,"Player"),e.k0s(),e.j41(55,"option",16),e.EFF(56,"Opponent"),e.k0s()()()()(),e.j41(57,"div",103)(58,"div",104)(59,"div",105),e.EFF(60,"Scenario Settings"),e.k0s(),e.j41(61,"button",106),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.resetScenarioSettings())}),e.EFF(62," Reset Scenario Settings "),e.k0s()(),e.j41(63,"div",107)(64,"div",108),e.nrm(65,"input",109),e.j41(66,"label",110),e.nrm(67,"span",111),e.EFF(68," Komodo Shuffle "),e.k0s()(),e.j41(69,"div",112),e.nrm(70,"input",113),e.j41(71,"label",114),e.nrm(72,"span",115),e.EFF(73," Change equipment uses "),e.k0s()(),e.j41(74,"div",116),e.nrm(75,"input",117),e.j41(76,"label",118),e.nrm(77,"span",119),e.EFF(78," Mana "),e.k0s()(),e.j41(79,"div",120),e.nrm(80,"input",121),e.j41(81,"label",122),e.EFF(82," Enable logs "),e.k0s()(),e.j41(83,"div",123),e.nrm(84,"input",124),e.j41(85,"label",125),e.nrm(86,"span",126),e.EFF(87," Triggers Consumed "),e.k0s()(),e.j41(88,"div",127)(89,"input",128),e.bIt("change",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.app.refreshDebugLogPresentation())}),e.k0s(),e.j41(90,"label",129),e.EFF(91," Debug Info "),e.k0s()(),e.j41(92,"div",130)(93,"input",131),e.bIt("change",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.app.refreshDebugLogPresentation())}),e.k0s(),e.j41(94,"label",132),e.EFF(95," Positional Args "),e.k0s()()(),e.j41(96,"div",133)(97,"div",134)(98,"label",135),e.EFF(99,"Turn Number"),e.k0s(),e.nrm(100,"input",136),e.k0s(),e.j41(101,"div",137)(102,"label",138),e.EFF(103," Seed "),e.k0s(),e.nrm(104,"input",139),e.k0s(),e.j41(105,"div",137)(106,"label",140),e.nrm(107,"span",141),e.j41(108,"span",85),e.EFF(109,"Player"),e.k0s(),e.EFF(110," Gold Spent "),e.k0s(),e.nrm(111,"input",142),e.k0s(),e.j41(112,"div",137)(113,"label",143),e.nrm(114,"span",141),e.j41(115,"span",90),e.EFF(116,"Opponent"),e.k0s(),e.EFF(117," Gold Spent "),e.k0s(),e.nrm(118,"input",144),e.k0s(),e.DNE(119,Wd,7,0,"div",145)(120,XD,7,0,"div",145),e.j41(121,"div",137)(122,"label",146),e.nrm(123,"span",147),e.j41(124,"span",85),e.EFF(125,"Player"),e.k0s(),e.EFF(126," Level 3 Sold "),e.k0s(),e.nrm(127,"input",148),e.k0s(),e.j41(128,"div",137)(129,"label",149),e.nrm(130,"span",147),e.j41(131,"span",90),e.EFF(132,"Opponent"),e.k0s(),e.EFF(133," Level 3 Sold "),e.k0s(),e.nrm(134,"input",150),e.k0s(),e.j41(135,"div",137)(136,"label",151),e.nrm(137,"span",152),e.j41(138,"span",85),e.EFF(139,"Player"),e.k0s(),e.EFF(140," Summoned Amount "),e.k0s(),e.nrm(141,"input",153),e.k0s(),e.j41(142,"div",137)(143,"label",154),e.nrm(144,"span",152),e.j41(145,"span",90),e.EFF(146,"Opponent"),e.k0s(),e.EFF(147," Summoned Amount "),e.k0s(),e.nrm(148,"input",155),e.k0s(),e.j41(149,"div",137)(150,"label",156),e.nrm(151,"span",157),e.j41(152,"span",85),e.EFF(153,"Player"),e.k0s(),e.EFF(154," Transformation Amount "),e.k0s(),e.nrm(155,"input",158),e.k0s(),e.j41(156,"div",137)(157,"label",159),e.nrm(158,"span",157),e.j41(159,"span",90),e.EFF(160,"Opponent"),e.k0s(),e.EFF(161," Transformation Amount "),e.k0s(),e.nrm(162,"input",160),e.k0s()()(),e.j41(163,"div",161)(164,"div",162)(165,"button",163),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.app.toggleRandomOverrides())}),e.j41(166,"span",41),e.EFF(167,"Random Overrides"),e.k0s(),e.DNE(168,hE,2,1,"span",164),e.j41(169,"span",165),e.EFF(170,"\u25be"),e.k0s()(),e.DNE(171,tv,7,3,"div",166),e.k0s(),e.DNE(172,bg,2,1,"div",167)(173,fE,4,3,"div",168),e.k0s()()}if(2&u){const l=e.sdS(45),y=e.XpG();e.R7$(10),e.Y8G("ngIf",y.app.getPackIconPath(y.app.formGroup.get("playerPack").value)&&!y.app.playerPackImageBroken),e.R7$(2),e.JRh(y.app.formGroup.get("playerPack").value||"Select Pack"),e.R7$(8),e.Y8G("ngIf",y.app.getPackIconPath(y.app.formGroup.get("opponentPack").value)&&!y.app.opponentPackImageBroken),e.R7$(2),e.JRh(y.app.formGroup.get("opponentPack").value||"Select Pack"),e.R7$(10),e.R50("ngModel",y.app.teamName),e.Y8G("ngModelOptions",e.lJ4(25,co)),e.R7$(4),e.R50("ngModel",y.saveSide),e.Y8G("ngClass","player"===y.saveSide?"side-select-player":"side-select-opponent")("ngModelOptions",e.lJ4(26,co)),e.R7$(7),e.Y8G("ngIf",y.app.selectedTeamPreviewIcons.length)("ngIfElse",l),e.R7$(4),e.JRh(y.app.selectedTeamName),e.R7$(5),e.R50("ngModel",y.loadSide),e.Y8G("ngClass","player"===y.loadSide?"side-select-player":"side-select-opponent")("ngModelOptions",e.lJ4(27,co)),e.R7$(9),e.Y8G("disabled",!(null!=y.app&&y.app.formGroup)),e.R7$(58),e.Y8G("ngIf",y.app.rollInputVisible),e.R7$(),e.Y8G("ngIf",y.app.rollInputVisible),e.R7$(45),e.BMQ("aria-expanded",y.app.showRandomOverrides),e.R7$(3),e.Y8G("ngIf",y.app.randomDecisions.length),e.R7$(),e.AVh("expanded",y.app.showRandomOverrides),e.R7$(2),e.Y8G("ngIf",y.app.showRandomOverrides),e.R7$(),e.Y8G("ngIf",!y.app.showRandomOverrides),e.R7$(),e.Y8G("ngIf",y.app.showRandomOverrides)}}const Pg={komodoShuffle:!1,changeEquipmentUses:!1,mana:!1,logsEnabled:!0,triggersConsumed:!1,showTriggerNamesInLogs:!1,showPositionalArgsInLogs:!0,turn:11,seed:null,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerLevel3Sold:0,opponentLevel3Sold:0,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0},vE={komodoShuffle:!1,changeEquipmentUses:!1,mana:!1,logsEnabled:!0,triggersConsumed:!1,showTriggerNamesInLogs:!1,showPositionalArgsInLogs:!0,turn:1,seed:null,playerGoldSpent:0,opponentGoldSpent:0,playerRollAmount:0,opponentRollAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0};let yE=(()=>{class u{app;soundMenuRoot;optimizeSide="player";saveSide="player";loadSide="player";get isUnifiedAdvancedExpanded(){return!!this.app?.formGroup?.get("showAdvanced")?.value}get activeAdvancedSettingsCount(){return this.app?.formGroup?Object.entries(Pg).reduce((l,[y,E])=>{const C=this.app.formGroup.get(y)?.value;return l+(C!==E?1:0)},0):0}get activeAdvancedOverridesCount(){return this.activeAdvancedSettingsCount+this.randomOverrideCount}get unifiedAdvancedSummary(){const l=this.activeAdvancedSettingsCount,y=this.randomOverrideCount,E=`Packs: ${this.getControlDisplayValue("playerPack","None")} vs ${this.getControlDisplayValue("opponentPack","None")}.`;return l||y?l&&y?`${E} ${l} advanced setting${1===l?"":"s"} and ${y} random override${1===y?"":"s"} active.`:l?`${E} ${l} advanced setting${1===l?"":"s"} active.`:`${E} ${y} random override${1===y?"":"s"} captured.`:`${E} No scenario tweaks active.`}get randomOverrideCount(){return this.app?.randomDecisions?.length??0}onDocumentClick(l){if(!this.app?.soundMenuOpen)return;const y=l.target,E=this.soundMenuRoot?.nativeElement;if(!y||!E)return this.app.soundMenuOpen=!1,void this.app.markForCheck();E.contains(y)||(this.app.soundMenuOpen=!1,this.app.markForCheck())}resetScenarioSettings(){this.app?.formGroup&&(this.app.formGroup.patchValue(vE),this.app.refreshDebugLogPresentation())}getControlDisplayValue(l,y){const E=this.app?.formGroup?.get(l)?.value;return null==E||""===E?y:String(E)}static \u0275fac=function(y){return new(y||u)};static \u0275cmp=e.VBU({type:u,selectors:[["app-shell-controls"]],viewQuery:function(y,E){if(1&y&&e.GBs(Qf,5),2&y){let C;e.mGM(C=e.lsd())&&(E.soundMenuRoot=C.first)}},hostBindings:function(y,E){1&y&&e.bIt("click",function(I){return E.onDocumentClick(I)},e.EBC)},inputs:{app:"app"},decls:67,vars:25,consts:[["resultsPlaceholder",""],["soundMenuRoot",""],["teamPlaceholder",""],[1,"top-controls","card","mb-3",3,"formGroup"],[1,"top-controls-header"],[1,"top-toolbar-zone","top-toolbar-zone-run"],[1,"zone-label"],[1,"simulate-controls"],[1,"simulate-input-group"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-outline-danger",3,"click",4,"ngIf"],["type","number","formControlName","simulations","min","1",1,"form-control","simulate-input"],[1,"optimize-control-group"],[1,"btn","btn-outline-primary",3,"click","disabled"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel","ngClass","ngModelOptions","disabled"],["value","player",1,"player-side-text"],["value","opponent",1,"opponent-side-text"],[1,"randomize-control-group"],[1,"btn","btn-secondary",3,"click"],["class","btn btn-secondary",3,"click",4,"ngIf"],[1,"top-toolbar-zone","top-toolbar-zone-results"],[4,"ngIf","ngIfElse"],[1,"top-toolbar-zone","top-toolbar-zone-actions"],[1,"zone-label","zone-label-right"],[1,"external-buttons"],[1,"sound-menu"],["class","sound-menu-panel",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#info","aria-label","Open guide",1,"btn","btn-secondary",3,"click"],["data-bs-toggle","modal","data-bs-target","#reportABug",1,"btn","btn-secondary",3,"click"],["data-bs-toggle","modal","data-bs-target","#export",1,"btn","btn-secondary",3,"click"],["data-bs-toggle","modal","data-bs-target","#import",1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"external-meta","top-controls-meta-text"],["class","px-3 pb-2",3,"ngClass",4,"ngIf"],["class","px-3 pb-2 text-muted small top-controls-meta-text",4,"ngIf"],["class","simulation-progress px-3 pb-2",4,"ngIf"],[1,"top-controls-body"],[1,"controls-grid"],[1,"controls-section","unified-advanced-section"],[1,"unified-advanced-header"],["type","button","aria-controls","advanced-overrides-panel",1,"btn-link","unified-advanced-toggle-btn",3,"click"],[1,"section-title"],["class","unified-advanced-count",4,"ngIf"],["aria-hidden","true",1,"unified-advanced-chevron"],["class","unified-advanced-summary",4,"ngIf"],["id","advanced-overrides-panel","class","unified-advanced-body",4,"ngIf"],[1,"btn","btn-outline-danger",3,"click"],[1,"results-row"],[1,"stats"],[1,"stat-block","player-stat"],[1,"stat-label","player-side-text"],[1,"stat-value"],[1,"stat-block","draw-stat"],[1,"stat-label"],[1,"stat-block","opponent-stat"],[1,"stat-label","opponent-side-text"],["aria-hidden","true",1,"results-bar","modern-results-bar"],[1,"results-segment","results-segment-player"],[1,"results-segment","results-segment-draw"],[1,"results-segment","results-segment-opponent"],["class","optimization-delta",4,"ngIf"],[1,"optimization-delta"],[1,"optimization-delta-label"],[1,"optimization-delta-value","optimization-delta-value-win"],[1,"optimization-delta-separator"],[1,"optimization-delta-value"],[1,"optimization-delta-value","optimization-delta-value-loss"],[1,"results-placeholder"],["aria-hidden","true",1,"results-bar","modern-results-bar","placeholder-bar"],[1,"sound-menu-panel"],[1,"sound-menu-title"],["type","range","min","0","max","1","step","0.05",1,"form-range","sound-menu-slider",3,"ngModelChange","ngModel","ngModelOptions"],[1,"btn","btn-secondary","btn-sm","sound-menu-mute-btn",3,"click"],[1,"px-3","pb-2",3,"ngClass"],[1,"px-3","pb-2","text-muted","small","top-controls-meta-text"],[1,"simulation-progress","px-3","pb-2"],[1,"progress","flex-1"],["role","progressbar",1,"progress-bar"],[1,"progress-text"],[1,"unified-advanced-count"],[1,"unified-advanced-summary"],["id","advanced-overrides-panel",1,"unified-advanced-body"],[1,"controls-section","nested-section","packs-section"],[1,"section-title","subsection-title"],[1,"form-group","min-w-input"],[1,"player-side-text"],[1,"selection-btn",3,"click"],["class","btn-icon","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc","error",4,"ngIf"],[1,"btn-text"],[1,"fas","fa-chevron-down","ms-auto"],[1,"opponent-side-text"],["title","All pets are included in the pet pool.",1,"form-check"],["type","checkbox","value","","id","allPets","formControlName","allPets",1,"form-check-input"],["for","allPets",1,"form-check-label"],[1,"controls-section","nested-section","teams-section"],[1,"team-column"],["placeholder","Team name",1,"form-control","team-name-input",3,"ngModelChange","ngModel","ngModelOptions"],[1,"team-name-actions"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel","ngClass","ngModelOptions"],[1,"selection-btn","team-selection-btn",3,"click"],["class","team-preview",4,"ngIf","ngIfElse"],[1,"team-name-actions","load-actions"],[1,"advanced-panel-body"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap","gap-2","mb-2"],[1,"section-title","mb-0"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"advanced-grid"],["title","Shuffle pets in front of Komodo if present.",1,"form-check"],["type","checkbox","value","","id","komodoShuffle","formControlName","komodoShuffle",1,"form-check-input"],["for","komodoShuffle",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","komodo-icon"],["title","Enable changing equipment uses globally.",1,"form-check"],["type","checkbox","value","","id","changeEquipmentUses","formControlName","changeEquipmentUses",1,"form-check-input"],["for","changeEquipmentUses",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","perk-icon"],["title","Include Mana.",1,"form-check"],["type","checkbox","value","","id","mana","formControlName","mana",1,"form-check-input"],["for","mana",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","mana-icon"],["title","Disable battle logs for faster simulations.",1,"form-check"],["type","checkbox","value","","id","logsEnabled","formControlName","logsEnabled",1,"form-check-input"],["for","logsEnabled",1,"form-check-label"],["title","Include Triggers Consumed.",1,"form-check"],["type","checkbox","value","","id","triggersConsumed","formControlName","triggersConsumed",1,"form-check-input"],["for","triggersConsumed",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","pheasant-icon"],["title","Show debug details: trigger names and random reason labels.",1,"form-check"],["type","checkbox","value","","id","showTriggerNamesInLogs","formControlName","showTriggerNamesInLogs",1,"form-check-input",3,"change"],["for","showTriggerNamesInLogs",1,"form-check-label"],["title","Show [P#/O#] positional prefixes in logs and animation.",1,"form-check"],["type","checkbox","value","","id","showPositionalArgsInLogs","formControlName","showPositionalArgsInLogs",1,"form-check-input",3,"change"],["for","showPositionalArgsInLogs",1,"form-check-label"],[1,"advanced-number-grid","mt-2"],[1,"form-group","small-w-input"],["for","turn"],["id","turn","type","number","formControlName","turn","max","99",1,"form-control"],[1,"form-group","advanced-input"],["for","seed","title","Simulation Seed"],["id","seed","type","number","formControlName","seed",1,"form-control"],["for","playerGoldSpent","title","Player Gold Spent",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","gold-icon"],["id","playerGoldSpent","type","number","formControlName","playerGoldSpent","max","99",1,"form-control"],["for","opponentGoldSpent","title","Opponent Gold Spent",1,"advanced-label-with-icon"],["id","opponentGoldSpent","type","number","formControlName","opponentGoldSpent","max","99",1,"form-control"],["class","form-group advanced-input",4,"ngIf"],["for","playerLevel3Sold","title","Player Level 3 Sold",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","cycle-icon"],["id","playerLevel3Sold","type","number","formControlName","playerLevel3Sold","max","99",1,"form-control"],["for","opponentLevel3Sold","title","Opponent Level 3 Sold",1,"advanced-label-with-icon"],["id","opponentLevel3Sold","type","number","formControlName","opponentLevel3Sold","max","99",1,"form-control"],["for","playerSummonedAmount","title","Player Summoned Amount",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","summon-icon"],["id","playerSummonedAmount","type","number","formControlName","playerSummonedAmount","max","99",1,"form-control"],["for","opponentSummonedAmount","title","Opponent Summoned Amount",1,"advanced-label-with-icon"],["id","opponentSummonedAmount","type","number","formControlName","opponentSummonedAmount","max","99",1,"form-control"],["for","playerTransformationAmount","title","Player Transformation Amount",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","transform-icon"],["id","playerTransformationAmount","type","number","formControlName","playerTransformationAmount","max","99",1,"form-control"],["for","opponentTransformationAmount","title","Opponent Transformation Amount",1,"advanced-label-with-icon"],["id","opponentTransformationAmount","type","number","formControlName","opponentTransformationAmount","max","99",1,"form-control"],[1,"random-overrides-panel"],[1,"random-overrides-header"],["type","button","aria-controls","random-overrides-panel",1,"btn-link","random-overrides-toggle",3,"click"],["class","random-overrides-count",4,"ngIf"],["aria-hidden","true",1,"random-overrides-chevron"],["class","random-overrides-actions",4,"ngIf"],["class","random-overrides-summary",4,"ngIf"],["id","random-overrides-panel","class","random-overrides-body",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async",1,"btn-icon",3,"error","ngSrc"],[1,"team-preview"],["width","28","height","28","loading","lazy","decoding","async","class","team-preview-icon",3,"ngSrc","alt",4,"ngFor","ngForOf"],["width","28","height","28","loading","lazy","decoding","async",1,"team-preview-icon",3,"ngSrc","alt"],[1,"btn-placeholder"],["for","playerRollAmount","title","Player Roll Amount",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","roll-icon"],["id","playerRollAmount","type","number","formControlName","playerRollAmount","max","99",1,"form-control"],["for","opponentRollAmount","title","Opponent Roll Amount",1,"advanced-label-with-icon"],["id","opponentRollAmount","type","number","formControlName","opponentRollAmount","max","99",1,"form-control"],[1,"random-overrides-count"],[1,"random-overrides-actions"],["title","Runs one logged battle and captures random decision points.",1,"btn","btn-secondary","btn-sm",3,"click","disabled"],["title","Runs one logged battle while forcing selected random options.",1,"btn","btn-primary","btn-sm",3,"click","disabled"],[1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],[1,"random-overrides-summary"],["id","random-overrides-panel",1,"random-overrides-body"],["class","random-overrides-empty",4,"ngIf"],["class","random-overrides-error",4,"ngIf"],["class","random-overrides-table-wrap",4,"ngIf"],[1,"random-overrides-empty"],[1,"random-overrides-error"],[1,"random-overrides-table-wrap"],[1,"table","table-sm","random-overrides-table"],["scope","col"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"decision-label"],[1,"decision-key"],[1,"decision-choice-preview"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel","ngModelOptions"],[3,"ngValue",4,"ngFor","ngForOf","ngForTrackBy"],["class","log-inline-icon","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],[3,"ngClass",4,"ngIf"],[4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async",1,"log-inline-icon",3,"ngSrc","alt"],[3,"ngClass"],[3,"ngValue"]],template:function(y,E){if(1&y){const C=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),e.EFF(4,"Run"),e.k0s(),e.j41(5,"div",7)(6,"div",8)(7,"button",9),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.simulate(E.app.formGroup.get("simulations").value))}),e.EFF(8),e.k0s(),e.DNE(9,aE,2,0,"button",10),e.nrm(10,"input",11),e.k0s(),e.j41(11,"div",12)(12,"button",13),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.optimizePositioning(E.optimizeSide))}),e.EFF(13," Optimize "),e.k0s(),e.j41(14,"select",14),e.mxI("ngModelChange",function(W){return v.eBV(C),e.DH7(E.optimizeSide,W)||(E.optimizeSide=W),v.Njj(W)}),e.j41(15,"option",15),e.EFF(16,"Player"),e.k0s(),e.j41(17,"option",16),e.EFF(18,"Opponent"),e.k0s()()(),e.j41(19,"div",17)(20,"button",18),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.randomize())}),e.EFF(21," Randomize "),e.k0s(),e.DNE(22,qf,2,0,"button",19),e.k0s()()(),e.j41(23,"div",20)(24,"div",6),e.EFF(25),e.k0s(),e.DNE(26,Ud,23,13,"ng-container",21)(27,sE,2,0,"ng-template",null,0,e.C5r),e.k0s(),e.j41(29,"div",22)(30,"div",23),e.EFF(31,"Actions"),e.k0s(),e.j41(32,"div",24)(33,"button",18),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.toggleTheme())}),e.EFF(34),e.k0s(),e.j41(35,"div",25,1)(37,"button",18),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.toggleSoundMenu())}),e.EFF(38," Sound "),e.k0s(),e.DNE(39,rE,6,5,"div",26),e.k0s(),e.j41(40,"button",27),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.showInfo=!0)}),e.EFF(41," Guide "),e.k0s(),e.j41(42,"button",28),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.showReportABug=!0)}),e.EFF(43," Report A Bug "),e.k0s(),e.j41(44,"button",29),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.showExport=!0)}),e.EFF(45," Export "),e.k0s(),e.j41(46,"button",30),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.showImport=!0)}),e.EFF(47," Import "),e.k0s(),e.j41(48,"button",31),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.generateShareLink())}),e.EFF(49," Generate Link "),e.k0s()(),e.j41(50,"div",32),e.EFF(51," Shortcuts: Alt+S simulate, Alt+R randomize, Alt+P/O optimize, Alt+A controls, Alt+T theme "),e.k0s()()(),e.DNE(52,oE,2,2,"div",33)(53,lE,2,1,"div",34)(54,cE,5,3,"div",35),e.j41(55,"div",36)(56,"div",37)(57,"div",38)(58,"div",39)(59,"button",40),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.toggleAdvanced())}),e.j41(60,"span",41),e.EFF(61,"Scenario Controls"),e.k0s(),e.DNE(62,uE,2,1,"span",42),e.j41(63,"span",43),e.EFF(64,"\u25be"),e.k0s()()(),e.DNE(65,yg,2,1,"div",44)(66,iM,174,28,"div",45),e.k0s()()()()}if(2&y){const C=e.sdS(28);e.Y8G("formGroup",E.app.formGroup),e.R7$(7),e.Y8G("disabled",E.app.simulationInProgress),e.R7$(),e.SpI(" ",E.app.simulationInProgress?"Simulating...":"Simulate"," "),e.R7$(),e.Y8G("ngIf",E.app.simulationInProgress),e.R7$(3),e.Y8G("disabled",E.app.simulationInProgress),e.R7$(2),e.R50("ngModel",E.optimizeSide),e.Y8G("ngClass","player"===E.optimizeSide?"side-select-player":"side-select-opponent")("ngModelOptions",e.lJ4(24,co))("disabled",E.app.simulationInProgress),e.R7$(8),e.Y8G("ngIf",E.app.undoState),e.R7$(3),e.JRh(E.app.simulated?"Results":"Simulate to see results"),e.R7$(),e.Y8G("ngIf",E.app.simulated)("ngIfElse",C),e.R7$(8),e.SpI(" ","dark"===E.app.theme?"Light Theme":"Dark Theme"," "),e.R7$(5),e.Y8G("ngIf",E.app.soundMenuOpen),e.R7$(13),e.Y8G("ngIf",E.app.statusMessage),e.R7$(),e.Y8G("ngIf",E.app.autoSaveLabel),e.R7$(),e.Y8G("ngIf",E.app.simulationInProgress),e.R7$(5),e.BMQ("aria-expanded",E.isUnifiedAdvancedExpanded),e.R7$(3),e.Y8G("ngIf",E.activeAdvancedOverridesCount),e.R7$(),e.AVh("expanded",E.isUnifiedAdvancedExpanded),e.R7$(2),e.Y8G("ngIf",!E.isUnifiedAdvancedExpanded),e.R7$(),e.Y8G("ngIf",E.isUnifiedAdvancedExpanded)}},dependencies:[jt.MD,jt.YU,jt.Sq,jt.bT,ue.YN,ue.xH,ue.y7,ue.me,ue.Q0,ue.MR,ue.Zm,ue.wz,ue.BC,ue.cb,ue.VZ,ue.zX,ue.vS,ue.X1,ue.j4,ue.JD,yi],encapsulation:2})}return u})();const bE=["battleSplitContainer"],uo=["animationSplitContainer"],Nc=["logsAnalysisSplitContainer"],Ag=["analysisSplitContainer"],Eg=(u,h)=>({"player-side-text":u,"opponent-side-text":h}),PE=(u,h,l)=>({"battle-winner-player":u,"battle-winner-opponent":h,"battle-winner-draw":l}),po=()=>[],Uc=()=>({standalone:!0}),AE=(u,h,l,y,E)=>[u,h,l,y,E],nM=(u,h,l,y)=>({"diff-same":u,"diff-changed":h,"diff-left-only":l,"diff-right-only":y});function EE(u,h){1&u&&(e.j41(0,"div",43),e.EFF(1," Swipe or shift-scroll to view logs -> "),e.k0s())}function SE(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",44)(1,"button",45),e.bIt("click",function(){v.eBV(l);const E=e.XpG(2);return v.Njj(E.setTabletActivePane("battle"))}),e.EFF(2," Battles "),e.k0s(),e.j41(3,"button",45),e.bIt("click",function(){v.eBV(l);const E=e.XpG(2);return v.Njj(E.setTabletActivePane("logs"))}),e.EFF(4," Logs "),e.k0s()()}if(2&u){const l=e.XpG(2);e.R7$(),e.AVh("active","battle"===l.activeTabletPane),e.BMQ("aria-selected","battle"===l.activeTabletPane),e.R7$(2),e.AVh("active","logs"===l.activeTabletPane),e.BMQ("aria-selected","logs"===l.activeTabletPane)}}function TE(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",46),e.bIt("click",function(){const E=v.eBV(l).$implicit,C=e.XpG(2);return v.Njj(C.app.formGroup.get("logFilter").setValue(E.value))}),e.EFF(1),e.k0s()}if(2&u){const l=h.$implicit,y=e.XpG(2);e.AVh("active",y.app.formGroup.get("logFilter").value===l.value),e.Y8G("ngClass",e.l_i(4,Eg,"player"===l.value,"opponent"===l.value)),e.R7$(),e.SpI(" ",l.label," ")}}function Kd(u,h){if(1&u&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&u){const l=h.ngIf,y=e.XpG(2);e.R7$(),e.SpI("Viewing #",y.app.battles.indexOf(l))}}function DE(u,h){if(1&u&&e.nrm(0,"img",53),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.src)("alt",l.alt)}}function rv(u,h){if(1&u&&(e.j41(0,"span",54),e.EFF(1),e.k0s()),2&u){const l=e.XpG().$implicit;e.Y8G("ngClass",l.className),e.R7$(),e.JRh(l.text)}}function $d(u,h){1&u&&e.nrm(0,"br")}function Gd(u,h){if(1&u&&(e.qex(0),e.DNE(1,DE,1,2,"img",51)(2,rv,2,2,"span",52)(3,$d,1,0,"br",25),e.bVm()),2&u){const l=h.$implicit;e.R7$(),e.Y8G("ngIf","img"===l.type),e.R7$(),e.Y8G("ngIf","text"===l.type),e.R7$(),e.Y8G("ngIf","br"===l.type)}}function ME(u,h){if(1&u&&(e.qex(0),e.DNE(1,Gd,4,3,"ng-container",50),e.bVm()),2&u){const l=e.XpG().$implicit,y=e.XpG(2);e.R7$(),e.Y8G("ngForOf",y.app.battleRandomEventsByBattle.get(l)||e.lJ4(2,po))("ngForTrackBy",y.app.trackByIndex)}}function CE(u,h){1&u&&(e.j41(0,"span",55),e.EFF(1,"None"),e.k0s())}function kE(u,h){if(1&u){const l=e.RV6();e.j41(0,"tr",47),e.bIt("click",function(){const E=v.eBV(l).$implicit,C=e.XpG(2);return v.Njj(C.app.setViewBattle(E))}),e.j41(1,"td")(2,"span",48),e.EFF(3),e.k0s()(),e.j41(4,"td",49),e.DNE(5,ME,2,3,"ng-container",39)(6,CE,2,0,"ng-template",null,6,e.C5r),e.k0s()()}if(2&u){const l=h.$implicit,y=e.sdS(7),E=e.XpG(2);e.AVh("selected-battle",l===E.app.viewBattle),e.Y8G("ngClass","player"===l.winner?"battle-win":"opponent"===l.winner?"battle-loss":"battle-draw"),e.R7$(2),e.Y8G("ngClass",e.sMw(7,PE,"player"===l.winner,"opponent"===l.winner,"draw"===l.winner)),e.R7$(),e.SpI(" ",l.winner," "),e.R7$(2),e.Y8G("ngIf",(E.app.battleRandomEventsByBattle.get(l)||e.lJ4(11,po)).length>0)("ngIfElse",y)}}function ov(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",56),e.bIt("pointerdown",function(E){v.eBV(l);const C=e.XpG(2);return v.Njj(C.onDividerPointerDown(E))})("pointermove",function(E){v.eBV(l);const C=e.XpG(2);return v.Njj(C.onDividerPointerMove(E))})("pointerup",function(E){v.eBV(l);const C=e.XpG(2);return v.Njj(C.onDividerPointerUp(E))})("pointercancel",function(E){v.eBV(l);const C=e.XpG(2);return v.Njj(C.onDividerPointerUp(E))})("keydown",function(E){v.eBV(l);const C=e.XpG(2);return v.Njj(C.onPaneDividerKeyDown(E))}),e.k0s()}}function lv(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",57),e.bIt("click",function(){const E=v.eBV(l).$implicit,C=e.XpG(2);return v.Njj(C.app.setViewBattleLogFilter(E.value))}),e.EFF(1),e.k0s()}if(2&u){const l=h.$implicit,y=e.XpG(2);e.AVh("active",y.app.logEventFilter===l.value),e.R7$(),e.SpI(" ",l.label," ")}}function aM(u,h){if(1&u&&e.nrm(0,"img",77),2&u){const l=e.XpG().ngIf,y=e.XpG(2);e.Y8G("ngSrc",y.app.getToyIconPath(l.frame.opponentToyName))("alt",l.frame.opponentToyName+" toy")}}function wE(u,h){if(1&u&&e.nrm(0,"img",78),2&u){const l=e.XpG().ngIf,y=e.XpG(2);e.Y8G("ngSrc",y.app.getToyIconPath(l.frame.opponentHardToyName))("alt",l.frame.opponentHardToyName+" hard toy")}}function Wc(u,h){if(1&u&&e.nrm(0,"img",91),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.slot.petIconSrc)("alt",l.slot.petName||"Opponent pet")}}function OE(u,h){if(1&u&&e.nrm(0,"img",92),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.slot.petCompanionIconSrc)("alt",l.slot.petCompanionName||"Companion pet")}}function cv(u,h){1&u&&(e.j41(0,"span",93),e.EFF(1,"___"),e.k0s())}function IE(u,h){if(1&u&&e.nrm(0,"img",94),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.slot.equipmentIconSrc)("alt",l.slot.equipmentName||"Equipment")}}function uv(u,h){if(1&u&&e.nrm(0,"img",97),2&u){const l=e.XpG().ngIf;e.Y8G("ngSrc",l.equipmentIconSrc)("alt",(l.equipmentName||"Equipment")+" removed")}}function dv(u,h){if(1&u&&(e.j41(0,"div",95),e.DNE(1,uv,1,2,"img",96),e.k0s()),2&u){const l=h.ngIf;e.R7$(),e.Y8G("ngIf",l.equipmentIconSrc)}}function RE(u,h){if(1&u&&e.nrm(0,"img",100),2&u){const l=e.XpG().ngIf;e.Y8G("ngSrc",l.equipmentIconSrc)("alt",(l.equipmentName||"Equipment")+" added")}}function pv(u,h){if(1&u&&(e.j41(0,"div",98),e.DNE(1,RE,1,2,"img",99),e.k0s()),2&u){const l=h.ngIf;e.R7$(),e.Y8G("ngIf",l.equipmentIconSrc)}}function LE(u,h){if(1&u&&(e.j41(0,"div",101),e.nrm(1,"img",102),e.k0s()),2&u){const l=e.XpG(4);e.R7$(),e.Y8G("ngSrc",l.app.fightSnipeIconSrc)}}function Hd(u,h){if(1&u&&e.nrm(0,"img",106),2&u){const l=e.XpG().$implicit,y=e.XpG(4);e.Y8G("ngSrc","attack"===l.type?y.app.fightAttackIconSrc:"health"===l.type?y.app.fightHealthIconSrc:"exp"===l.type?y.app.fightExpIconSrc:"mana"===l.type?y.app.fightManaIconSrc:y.app.fightTrumpetIconSrc)}}function Sg(u,h){if(1&u&&(e.qex(0),e.j41(1,"span",103),e.DNE(2,Hd,1,1,"img",104),e.j41(3,"span",105),e.EFF(4),e.k0s()(),e.bVm()),2&u){const l=h.$implicit,y=h.index;e.R7$(),e.xc7("--fight-popup-index",y),e.AVh("fight-value-popup-damage","damage"===l.type)("fight-value-popup-trumpets","trumpets"===l.type)("fight-value-popup-buff","damage"!==l.type&&l.delta>0)("fight-value-popup-debuff","damage"!==l.type&&l.delta<0),e.R7$(),e.Y8G("ngIf","attack"===l.type||"health"===l.type||"exp"===l.type||"mana"===l.type||"trumpets"===l.type),e.R7$(2),e.JRh((l.delta>0?"+":"-")+(l.delta>0?l.delta:-l.delta))}}function xE(u,h){if(1&u&&e.nrm(0,"img",110),2&u){const l=e.XpG().ngIf;e.Y8G("ngSrc",l.petIconSrc)("alt",l.petName||"Fainted pet")}}function BE(u,h){if(1&u&&e.nrm(0,"img",111),2&u){const l=e.XpG().ngIf;e.Y8G("ngSrc",l.petCompanionIconSrc)("alt",l.petCompanionName||"Fainted companion")}}function FE(u,h){if(1&u&&(e.j41(0,"div",107),e.DNE(1,xE,1,2,"img",108)(2,BE,1,2,"img",109),e.k0s()),2&u){const l=h.ngIf;e.R7$(),e.Y8G("ngIf",l.petIconSrc),e.R7$(),e.Y8G("ngIf",l.petCompanionIconSrc)}}function Tg(u,h){if(1&u&&(e.j41(0,"span",115),e.nrm(1,"img",116),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&u){const l=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightAttackIconSrc),e.R7$(2),e.JRh(l.slot.attack)}}function ml(u,h){if(1&u&&(e.j41(0,"span",115),e.nrm(1,"img",116),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&u){const l=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightHealthIconSrc),e.R7$(2),e.JRh(l.slot.health)}}function jd(u,h){if(1&u&&(e.j41(0,"span",115),e.nrm(1,"img",116),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&u){const l=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightManaIconSrc),e.R7$(2),e.JRh(l.slot.mana)}}function hv(u,h){if(1&u&&(e.j41(0,"span",117),e.nrm(1,"img",116),e.j41(2,"span",118)(3,"span",119)(4,"span",120),e.EFF(5,"L1"),e.k0s(),e.nrm(6,"span"),e.j41(7,"span",120),e.EFF(8,"L2"),e.k0s(),e.nrm(9,"span"),e.j41(10,"span",120),e.EFF(11,"L3"),e.k0s()(),e.j41(12,"span",121),e.nrm(13,"span",122)(14,"span",122)(15,"span",122)(16,"span",122)(17,"span",122),e.k0s()()()),2&u){const l=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightExpIconSrc),e.R7$(11),e.BMQ("aria-label","XP: "+l.slot.exp+" out of 5"),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=1),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=2),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=3),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=4),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=5)}}function Kc(u,h){if(1&u&&(e.j41(0,"div",112),e.DNE(1,Tg,4,2,"span",113)(2,ml,4,2,"span",113)(3,jd,4,2,"span",113)(4,hv,18,12,"span",114),e.k0s()),2&u){const l=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",null!=l.slot.attack),e.R7$(),e.Y8G("ngIf",null!=l.slot.health),e.R7$(),e.Y8G("ngIf",null!=l.slot.mana),e.R7$(),e.Y8G("ngIf",null!=l.slot.exp)}}function NE(u,h){if(1&u&&(e.j41(0,"div",79)(1,"div",80),e.EFF(2),e.k0s(),e.j41(3,"div",81),e.DNE(4,Wc,1,2,"img",82)(5,OE,1,2,"img",83)(6,cv,2,0,"span",84)(7,IE,1,2,"img",85)(8,dv,2,1,"div",86)(9,pv,2,1,"div",87)(10,LE,2,1,"div",88)(11,Sg,5,12,"ng-container",50)(12,FE,3,2,"div",89),e.k0s(),e.DNE(13,Kc,5,4,"div",90),e.k0s()),2&u){const l=h.$implicit,y=e.XpG(3);e.xc7("--fight-shift-steps",l.shiftSteps),e.Y8G("ngClass",l.classMap),e.R7$(2),e.JRh(l.slot.label||"O"+(l.slot.slot+1)),e.R7$(2),e.Y8G("ngIf",l.slot.petIconSrc),e.R7$(),e.Y8G("ngIf",l.slot.petCompanionIconSrc),e.R7$(),e.Y8G("ngIf",!l.slot.petIconSrc),e.R7$(),e.Y8G("ngIf",l.slot.equipmentIconSrc),e.R7$(),e.Y8G("ngIf",l.removedEquipment),e.R7$(),e.Y8G("ngIf",l.addedEquipment),e.R7$(),e.Y8G("ngIf",l.showSnipeImpact),e.R7$(),e.Y8G("ngForOf",l.popups)("ngForTrackBy",y.app.trackByIndex),e.R7$(),e.Y8G("ngIf",l.death),e.R7$(),e.Y8G("ngIf",null!=l.slot.attack||null!=l.slot.health||null!=l.slot.exp||null!=l.slot.mana)}}function UE(u,h){if(1&u&&e.nrm(0,"img",124),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.src)("alt",l.alt)}}function WE(u,h){if(1&u&&(e.j41(0,"span",54),e.EFF(1),e.k0s()),2&u){const l=e.XpG().$implicit;e.Y8G("ngClass",l.className),e.R7$(),e.JRh(l.text)}}function Ar(u,h){1&u&&e.nrm(0,"br")}function $c(u,h){if(1&u&&(e.qex(0),e.DNE(1,UE,1,2,"img",123)(2,WE,2,2,"span",52)(3,Ar,1,0,"br",25),e.bVm()),2&u){const l=h.$implicit;e.R7$(),e.Y8G("ngIf","img"===l.type),e.R7$(),e.Y8G("ngIf","text"===l.type),e.R7$(),e.Y8G("ngIf","br"===l.type)}}function Dg(u,h){if(1&u&&(e.qex(0),e.j41(1,"span",54),e.DNE(2,$c,4,3,"ng-container",50),e.k0s(),e.bVm()),2&u){const l=h.ngIf,y=e.XpG(3);e.R7$(),e.Y8G("ngClass",l.classes),e.R7$(),e.Y8G("ngForOf",l.parts)("ngForTrackBy",y.app.trackByIndex)}}function _l(u,h){if(1&u&&e.EFF(0),2&u){const l=e.XpG().ngIf;e.SpI(" ",l.frame.text," ")}}function Vd(u,h){if(1&u&&e.nrm(0,"img",77),2&u){const l=e.XpG().ngIf,y=e.XpG(2);e.Y8G("ngSrc",y.app.getToyIconPath(l.frame.playerToyName))("alt",l.frame.playerToyName+" toy")}}function fl(u,h){if(1&u&&e.nrm(0,"img",78),2&u){const l=e.XpG().ngIf,y=e.XpG(2);e.Y8G("ngSrc",y.app.getToyIconPath(l.frame.playerHardToyName))("alt",l.frame.playerHardToyName+" hard toy")}}function KE(u,h){if(1&u&&e.nrm(0,"img",91),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.slot.petIconSrc)("alt",l.slot.petName||"Player pet")}}function gv(u,h){if(1&u&&e.nrm(0,"img",92),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.slot.petCompanionIconSrc)("alt",l.slot.petCompanionName||"Companion pet")}}function $E(u,h){1&u&&(e.j41(0,"span",93),e.EFF(1,"___"),e.k0s())}function GE(u,h){if(1&u&&e.nrm(0,"img",94),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.slot.equipmentIconSrc)("alt",l.slot.equipmentName||"Equipment")}}function HE(u,h){if(1&u&&e.nrm(0,"img",97),2&u){const l=e.XpG().ngIf;e.Y8G("ngSrc",l.equipmentIconSrc)("alt",(l.equipmentName||"Equipment")+" removed")}}function jE(u,h){if(1&u&&(e.j41(0,"div",95),e.DNE(1,HE,1,2,"img",96),e.k0s()),2&u){const l=h.ngIf;e.R7$(),e.Y8G("ngIf",l.equipmentIconSrc)}}function mv(u,h){if(1&u&&e.nrm(0,"img",100),2&u){const l=e.XpG().ngIf;e.Y8G("ngSrc",l.equipmentIconSrc)("alt",(l.equipmentName||"Equipment")+" added")}}function _v(u,h){if(1&u&&(e.j41(0,"div",98),e.DNE(1,mv,1,2,"img",99),e.k0s()),2&u){const l=h.ngIf;e.R7$(),e.Y8G("ngIf",l.equipmentIconSrc)}}function fv(u,h){if(1&u&&(e.j41(0,"div",101),e.nrm(1,"img",102),e.k0s()),2&u){const l=e.XpG(4);e.R7$(),e.Y8G("ngSrc",l.app.fightSnipeIconSrc)}}function vv(u,h){if(1&u&&e.nrm(0,"img",106),2&u){const l=e.XpG().$implicit,y=e.XpG(4);e.Y8G("ngSrc","attack"===l.type?y.app.fightAttackIconSrc:"health"===l.type?y.app.fightHealthIconSrc:"exp"===l.type?y.app.fightExpIconSrc:"mana"===l.type?y.app.fightManaIconSrc:y.app.fightTrumpetIconSrc)}}function VE(u,h){if(1&u&&(e.qex(0),e.j41(1,"span",103),e.DNE(2,vv,1,1,"img",104),e.j41(3,"span",105),e.EFF(4),e.k0s()(),e.bVm()),2&u){const l=h.$implicit,y=h.index;e.R7$(),e.xc7("--fight-popup-index",y),e.AVh("fight-value-popup-damage","damage"===l.type)("fight-value-popup-trumpets","trumpets"===l.type)("fight-value-popup-buff","damage"!==l.type&&l.delta>0)("fight-value-popup-debuff","damage"!==l.type&&l.delta<0),e.R7$(),e.Y8G("ngIf","attack"===l.type||"health"===l.type||"exp"===l.type||"mana"===l.type||"trumpets"===l.type),e.R7$(2),e.JRh((l.delta>0?"+":"-")+(l.delta>0?l.delta:-l.delta))}}function zE(u,h){if(1&u&&e.nrm(0,"img",110),2&u){const l=e.XpG().ngIf;e.Y8G("ngSrc",l.petIconSrc)("alt",l.petName||"Fainted pet")}}function YE(u,h){if(1&u&&e.nrm(0,"img",111),2&u){const l=e.XpG().ngIf;e.Y8G("ngSrc",l.petCompanionIconSrc)("alt",l.petCompanionName||"Fainted companion")}}function XE(u,h){if(1&u&&(e.j41(0,"div",107),e.DNE(1,zE,1,2,"img",108)(2,YE,1,2,"img",109),e.k0s()),2&u){const l=h.ngIf;e.R7$(),e.Y8G("ngIf",l.petIconSrc),e.R7$(),e.Y8G("ngIf",l.petCompanionIconSrc)}}function JE(u,h){if(1&u&&(e.j41(0,"span",115),e.nrm(1,"img",116),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&u){const l=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightAttackIconSrc),e.R7$(2),e.JRh(l.slot.attack)}}function sM(u,h){if(1&u&&(e.j41(0,"span",115),e.nrm(1,"img",116),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&u){const l=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightHealthIconSrc),e.R7$(2),e.JRh(l.slot.health)}}function Mg(u,h){if(1&u&&(e.j41(0,"span",115),e.nrm(1,"img",116),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&u){const l=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightManaIconSrc),e.R7$(2),e.JRh(l.slot.mana)}}function Cg(u,h){if(1&u&&(e.j41(0,"span",117),e.nrm(1,"img",116),e.j41(2,"span",118)(3,"span",119)(4,"span",120),e.EFF(5,"L1"),e.k0s(),e.nrm(6,"span"),e.j41(7,"span",120),e.EFF(8,"L2"),e.k0s(),e.nrm(9,"span"),e.j41(10,"span",120),e.EFF(11,"L3"),e.k0s()(),e.j41(12,"span",121),e.nrm(13,"span",122)(14,"span",122)(15,"span",122)(16,"span",122)(17,"span",122),e.k0s()()()),2&u){const l=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightExpIconSrc),e.R7$(11),e.BMQ("aria-label","XP: "+l.slot.exp+" out of 5"),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=1),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=2),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=3),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=4),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=5)}}function yv(u,h){if(1&u&&(e.j41(0,"div",112),e.DNE(1,JE,4,2,"span",113)(2,sM,4,2,"span",113)(3,Mg,4,2,"span",113)(4,Cg,18,12,"span",114),e.k0s()),2&u){const l=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",null!=l.slot.attack),e.R7$(),e.Y8G("ngIf",null!=l.slot.health),e.R7$(),e.Y8G("ngIf",null!=l.slot.mana),e.R7$(),e.Y8G("ngIf",null!=l.slot.exp)}}function kg(u,h){if(1&u&&(e.j41(0,"div",79)(1,"div",80),e.EFF(2),e.k0s(),e.j41(3,"div",81),e.DNE(4,KE,1,2,"img",82)(5,gv,1,2,"img",83)(6,$E,2,0,"span",84)(7,GE,1,2,"img",85)(8,jE,2,1,"div",86)(9,_v,2,1,"div",87)(10,fv,2,1,"div",88)(11,VE,5,12,"ng-container",50)(12,XE,3,2,"div",89),e.k0s(),e.DNE(13,yv,5,4,"div",90),e.k0s()),2&u){const l=h.$implicit,y=e.XpG(3);e.xc7("--fight-shift-steps",l.shiftSteps),e.Y8G("ngClass",l.classMap),e.R7$(2),e.JRh(l.slot.label||"P"+(l.slot.slot+1)),e.R7$(2),e.Y8G("ngIf",l.slot.petIconSrc),e.R7$(),e.Y8G("ngIf",l.slot.petCompanionIconSrc),e.R7$(),e.Y8G("ngIf",!l.slot.petIconSrc),e.R7$(),e.Y8G("ngIf",l.slot.equipmentIconSrc),e.R7$(),e.Y8G("ngIf",l.removedEquipment),e.R7$(),e.Y8G("ngIf",l.addedEquipment),e.R7$(),e.Y8G("ngIf",l.showSnipeImpact),e.R7$(),e.Y8G("ngForOf",l.popups)("ngForTrackBy",y.app.trackByIndex),e.R7$(),e.Y8G("ngIf",l.death),e.R7$(),e.Y8G("ngIf",null!=l.slot.attack||null!=l.slot.health||null!=l.slot.exp||null!=l.slot.mana)}}function QE(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",125),e.bIt("click",function(){const E=v.eBV(l).$implicit,C=e.XpG(3);return v.Njj(C.app.setFightAnimationSpeed(E))}),e.EFF(1),e.k0s()}if(2&u){const l=h.$implicit,y=e.XpG(3);e.AVh("active",y.app.fightAnimationSpeed===l),e.R7$(),e.SpI(" ",l,"x ")}}function qE(u,h){if(1&u){const l=e.RV6();e.qex(0),e.j41(1,"div",58)(2,"div",59)(3,"div",60),e.DNE(4,aM,1,2,"img",61)(5,wE,1,2,"img",62),e.k0s(),e.DNE(6,NE,14,15,"div",63),e.k0s(),e.j41(7,"div",64)(8,"div",65),e.EFF(9),e.k0s(),e.j41(10,"div",66),e.DNE(11,Dg,3,3,"ng-container",39)(12,_l,1,1,"ng-template",null,7,e.C5r),e.k0s(),e.j41(14,"div",67),e.EFF(15),e.k0s()(),e.j41(16,"div",68)(17,"div",60),e.DNE(18,Vd,1,2,"img",61)(19,fl,1,2,"img",62),e.k0s(),e.DNE(20,kg,14,15,"div",63),e.k0s()(),e.j41(21,"div",69)(22,"div",70)(23,"button",71),e.bIt("click",function(){v.eBV(l);const E=e.XpG(2);return v.Njj(E.app.resetFightAnimation())}),e.EFF(24," Reset "),e.k0s(),e.j41(25,"button",71),e.bIt("click",function(){v.eBV(l);const E=e.XpG(2);return v.Njj(E.app.stepFightAnimation(-1))}),e.EFF(26," Prev "),e.k0s(),e.j41(27,"button",72),e.bIt("click",function(){v.eBV(l);const E=e.XpG(2);return v.Njj(E.app.toggleFightAnimationPlayback())}),e.EFF(28),e.k0s(),e.j41(29,"button",71),e.bIt("click",function(){v.eBV(l);const E=e.XpG(2);return v.Njj(E.app.stepFightAnimation(1))}),e.EFF(30," Next "),e.k0s()(),e.j41(31,"div",73),e.DNE(32,QE,2,3,"button",74),e.k0s()(),e.j41(33,"div",75)(34,"input",76),e.bIt("input",function(E){v.eBV(l);const C=e.XpG(2);return v.Njj(C.app.onFightAnimationScrub(E.target.value))}),e.k0s()(),e.bVm()}if(2&u){const l=h.ngIf,y=e.sdS(13),E=e.XpG(2);e.R7$(),e.xc7("--fight-frame-cadence",E.app.currentFightAnimationCadenceScale)("--fight-impact-scale",E.app.currentFightAnimationImpactScale),e.AVh("fight-phase-a","a"===l.phase)("fight-phase-b","b"===l.phase)("fight-frame-attack","attack"===l.frame.type)("fight-frame-contact-freeze","attack"===l.frame.type&&l.frame.impact&&!l.frame.impact.isSnipe)("fight-frame-ability","ability"===l.frame.type||"equipment"===l.frame.type)("fight-frame-heavy-impact",E.app.currentFightAnimationIsHeavyImpactFrame)("fight-frame-burst",E.app.currentFightAnimationIsBurstFrame)("fight-frame-resolution",E.app.currentFightAnimationIsResolutionFrame),e.R7$(3),e.Y8G("ngIf",l.frame.opponentToyName),e.R7$(),e.Y8G("ngIf",l.frame.opponentHardToyName),e.R7$(),e.Y8G("ngForOf",l.opponentSlots)("ngForTrackBy",E.app.trackByIndex),e.R7$(),e.AVh("fight-event-random",l.frame.randomEvent),e.R7$(2),e.JRh(l.frame.type),e.R7$(2),e.Y8G("ngIf",E.app.currentFightAnimationLogRow)("ngIfElse",y),e.R7$(4),e.Lme(" Step ",E.app.fightAnimationFrameIndex+1," / ",E.app.fightAnimationFrames.length," "),e.R7$(3),e.Y8G("ngIf",l.frame.playerToyName),e.R7$(),e.Y8G("ngIf",l.frame.playerHardToyName),e.R7$(),e.Y8G("ngForOf",l.playerSlots)("ngForTrackBy",E.app.trackByIndex),e.R7$(3),e.Y8G("disabled",0===E.app.fightAnimationFrames.length),e.R7$(2),e.Y8G("disabled",E.app.fightAnimationFrameIndex<=0),e.R7$(2),e.Y8G("disabled",0===E.app.fightAnimationFrames.length),e.R7$(),e.SpI(" ",E.app.fightAnimationPlaying?"Pause":"Play"," "),e.R7$(),e.Y8G("disabled",E.app.fightAnimationFrameIndex>=E.app.fightAnimationFrames.length-1),e.R7$(3),e.Y8G("ngForOf",E.app.fightAnimationSpeedOptions)("ngForTrackBy",E.app.trackByIndex),e.R7$(2),e.Y8G("min",0)("max",E.app.fightAnimationFrames.length-1)("value",E.app.fightAnimationFrameIndex)}}function bv(u,h){1&u&&e.eu8(0)}function ZE(u,h){1&u&&(e.j41(0,"div",126),e.EFF(1," No animation frames found for this battle. Enable logs and run at least one simulation. "),e.k0s())}function Ss(u,h){1&u&&e.eu8(0)}function Gc(u,h){if(1&u&&(e.j41(0,"tr",54)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s()()),2&u){const l=h.$implicit;e.Y8G("ngClass",e.s1E(6,AE,"player"===l.side?"timeline-player":"","opponent"===l.side?"timeline-opponent":"","true random"===l.reason?"timeline-random":"","tie-broken"===l.reason?"timeline-tie":"","deterministic"===l.reason?"timeline-deterministic":"")),e.R7$(2),e.JRh(l.step),e.R7$(2),e.JRh(l.source),e.R7$(2),e.JRh(l.target),e.R7$(2),e.JRh(l.reason),e.R7$(2),e.JRh(l.text)}}function Ni(u,h){if(1&u&&(e.j41(0,"option",144),e.EFF(1),e.k0s()),2&u){const l=h.$implicit,y=h.index;e.Y8G("ngValue",y),e.R7$(),e.Lme(" ",y," (",l.winner,") ")}}function ho(u,h){if(1&u&&(e.j41(0,"option",144),e.EFF(1),e.k0s()),2&u){const l=h.$implicit,y=h.index;e.Y8G("ngValue",y),e.R7$(),e.Lme(" ",y," (",l.winner,") ")}}function zd(u,h){if(1&u&&(e.j41(0,"tr",54)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s()()),2&u){const l=h.$implicit;e.Y8G("ngClass",e.ziG(4,nM,"same"===l.kind,"changed"===l.kind,"left-only"===l.kind,"right-only"===l.kind)),e.R7$(2),e.JRh(l.step),e.R7$(2),e.JRh(l.left),e.R7$(2),e.JRh(l.right)}}function Ha(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",128,9)(2,"div",129),e.DNE(3,Ss,1,0,"ng-container",42),e.k0s(),e.j41(4,"div",130),e.bIt("pointerdown",function(E){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onLogsAnalysisDividerPointerDown(E))})("pointermove",function(E){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onLogsAnalysisDividerPointerMove(E))})("pointerup",function(E){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onLogsAnalysisDividerPointerUp(E))})("pointercancel",function(E){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onLogsAnalysisDividerPointerUp(E))})("keydown",function(E){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onLogsAnalysisDividerKeyDown(E))}),e.k0s(),e.j41(5,"div",131)(6,"div",132,10)(8,"div",133)(9,"h4",134),e.EFF(10,"Trigger Timeline"),e.k0s(),e.j41(11,"div",135)(12,"table",136)(13,"thead")(14,"tr")(15,"th"),e.EFF(16,"#"),e.k0s(),e.j41(17,"th"),e.EFF(18,"Source"),e.k0s(),e.j41(19,"th"),e.EFF(20,"Target"),e.k0s(),e.j41(21,"th"),e.EFF(22,"Reason"),e.k0s(),e.j41(23,"th"),e.EFF(24,"Event"),e.k0s()()(),e.j41(25,"tbody"),e.DNE(26,Gc,11,12,"tr",137),e.k0s()()()(),e.j41(27,"div",138),e.bIt("pointerdown",function(E){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onAnalysisDividerPointerDown(E))})("pointermove",function(E){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onAnalysisDividerPointerMove(E))})("pointerup",function(E){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onAnalysisDividerPointerUp(E))})("pointercancel",function(E){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onAnalysisDividerPointerUp(E))})("keydown",function(E){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onAnalysisDividerKeyDown(E))}),e.k0s(),e.j41(28,"div",139)(29,"h4",134),e.EFF(30,"Battle Diff"),e.k0s(),e.j41(31,"div",140)(32,"label",141),e.EFF(33," Left "),e.j41(34,"select",142),e.bIt("ngModelChange",function(E){v.eBV(l);const C=e.XpG(3);return v.Njj(C.app.setBattleDiffLeft(E))}),e.DNE(35,Ni,2,3,"option",143),e.k0s()(),e.j41(36,"label",141),e.EFF(37," Left Scope "),e.j41(38,"select",142),e.bIt("ngModelChange",function(E){v.eBV(l);const C=e.XpG(3);return v.Njj(C.app.setBattleDiffLeftScope(E))}),e.j41(39,"option",144),e.EFF(40,"All"),e.k0s(),e.j41(41,"option",145),e.EFF(42,"Player"),e.k0s(),e.j41(43,"option",146),e.EFF(44,"Opponent"),e.k0s()()(),e.j41(45,"label",141),e.EFF(46," Right "),e.j41(47,"select",142),e.bIt("ngModelChange",function(E){v.eBV(l);const C=e.XpG(3);return v.Njj(C.app.setBattleDiffRight(E))}),e.DNE(48,ho,2,3,"option",143),e.k0s()(),e.j41(49,"label",141),e.EFF(50," Right Scope "),e.j41(51,"select",142),e.bIt("ngModelChange",function(E){v.eBV(l);const C=e.XpG(3);return v.Njj(C.app.setBattleDiffRightScope(E))}),e.j41(52,"option",144),e.EFF(53,"All"),e.k0s(),e.j41(54,"option",145),e.EFF(55,"Player"),e.k0s(),e.j41(56,"option",146),e.EFF(57,"Opponent"),e.k0s()()()(),e.j41(58,"div",147),e.EFF(59),e.k0s(),e.j41(60,"div",135)(61,"table",136)(62,"thead")(63,"tr")(64,"th"),e.EFF(65,"#"),e.k0s(),e.j41(66,"th"),e.EFF(67,"Left"),e.k0s(),e.j41(68,"th"),e.EFF(69,"Right"),e.k0s()()(),e.j41(70,"tbody"),e.DNE(71,zd,7,9,"tr",137),e.k0s()()()()()()()}if(2&u){e.XpG(2);const l=e.sdS(53),y=e.XpG();e.R7$(2),e.xc7("flex-basis",y.logsTopHeightPx,"px")("max-height",y.logsTopHeightPx,"px")("height",y.logsTopHeightPx,"px"),e.AVh("log-container-with-analysis",y.app.showBattleAnalysis),e.R7$(),e.Y8G("ngTemplateOutlet",l),e.R7$(5),e.xc7("flex-basis",y.timelineTopHeightPx,"px")("max-height",y.timelineTopHeightPx,"px")("height",y.timelineTopHeightPx,"px"),e.R7$(18),e.Y8G("ngForOf",y.app.viewBattleTimelineRows)("ngForTrackBy",y.app.trackByIndex),e.R7$(8),e.Y8G("ngModel",y.app.diffBattleLeftIndex)("ngModelOptions",e.lJ4(41,Uc)),e.R7$(),e.Y8G("ngForOf",y.app.battles)("ngForTrackBy",y.app.trackByIndex),e.R7$(3),e.Y8G("ngModel",y.app.diffBattleLeftScope)("ngModelOptions",e.lJ4(42,Uc)),e.R7$(),e.Y8G("ngValue","all"),e.R7$(2),e.Y8G("ngValue","player"),e.R7$(2),e.Y8G("ngValue","opponent"),e.R7$(4),e.Y8G("ngModel",y.app.diffBattleRightIndex)("ngModelOptions",e.lJ4(43,Uc)),e.R7$(),e.Y8G("ngForOf",y.app.battles)("ngForTrackBy",y.app.trackByIndex),e.R7$(3),e.Y8G("ngModel",y.app.diffBattleRightScope)("ngModelOptions",e.lJ4(44,Uc)),e.R7$(),e.Y8G("ngValue","all"),e.R7$(2),e.Y8G("ngValue","player"),e.R7$(2),e.Y8G("ngValue","opponent"),e.R7$(3),e.LHq(" Equal: ",y.app.battleDiffSummary.equalSteps," | Changed: ",y.app.battleDiffSummary.changedSteps," | Left Only: ",y.app.battleDiffSummary.leftOnly," | Right Only: ",y.app.battleDiffSummary.rightOnly," "),e.R7$(12),e.Y8G("ngForOf",y.app.battleDiffRows)("ngForTrackBy",y.app.trackByIndex)}}function Pv(u,h){1&u&&e.eu8(0)}function $s(u,h){if(1&u&&(e.j41(0,"div",148),e.DNE(1,Pv,1,0,"ng-container",42),e.k0s()),2&u){e.XpG(2);const l=e.sdS(53);e.R7$(),e.Y8G("ngTemplateOutlet",l)}}function Av(u,h){if(1&u&&e.DNE(0,Ha,72,45,"div",127)(1,$s,2,1,"ng-template",null,8,e.C5r),2&u){const l=e.sdS(2),y=e.XpG(2);e.Y8G("ngIf",y.app.showBattleAnalysis)("ngIfElse",l)}}function Yd(u,h){if(1&u&&(e.j41(0,"span",165),e.EFF(1),e.k0s()),2&u){const l=h.$implicit;e.Y8G("ngClass",l.className),e.R7$(),e.SpI(" ",l.text," ")}}function eS(u,h){if(1&u&&e.nrm(0,"img",124),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.src)("alt",l.alt)}}function tS(u,h){if(1&u&&(e.j41(0,"span",54),e.EFF(1),e.k0s()),2&u){const l=e.XpG().$implicit;e.Y8G("ngClass",l.className),e.R7$(),e.JRh(l.text)}}function Ev(u,h){1&u&&e.nrm(0,"br")}function iS(u,h){if(1&u&&(e.qex(0),e.DNE(1,eS,1,2,"img",123)(2,tS,2,2,"span",52)(3,Ev,1,0,"br",25),e.bVm()),2&u){const l=h.$implicit;e.R7$(),e.Y8G("ngIf","img"===l.type),e.R7$(),e.Y8G("ngIf","text"===l.type),e.R7$(),e.Y8G("ngIf","br"===l.type)}}function nS(u,h){if(1&u&&(e.j41(0,"div",161)(1,"div",162),e.DNE(2,Yd,2,2,"span",163),e.k0s(),e.j41(3,"div",164),e.DNE(4,iS,4,3,"ng-container",50),e.k0s()()),2&u){const l=h.$implicit,y=e.XpG(6);e.Y8G("ngClass",l.classes),e.R7$(2),e.Y8G("ngForOf",l.badges)("ngForTrackBy",y.app.trackByIndex),e.R7$(2),e.Y8G("ngForOf",l.parts)("ngForTrackBy",y.app.trackByIndex)}}function vl(u,h){if(1&u&&(e.j41(0,"div",159),e.DNE(1,nS,5,5,"div",160),e.k0s()),2&u){const l=e.XpG().$implicit,y=e.XpG(4);e.R7$(),e.Y8G("ngForOf",l.rows)("ngForTrackBy",y.app.trackByIndex)}}function rM(u,h){if(1&u){const l=e.RV6();e.j41(0,"section",152)(1,"button",153),e.bIt("click",function(){const E=v.eBV(l).$implicit,C=e.XpG(4);return v.Njj(C.app.toggleViewBattleLogGroup(E.id))}),e.j41(2,"span",154),e.EFF(3),e.k0s(),e.j41(4,"span",155)(5,"span",156),e.EFF(6),e.k0s(),e.j41(7,"span",157),e.EFF(8," \u25be "),e.k0s()()(),e.DNE(9,vl,2,2,"div",158),e.k0s()}if(2&u){const l=h.$implicit;e.R7$(),e.BMQ("aria-expanded",!l.collapsed),e.R7$(2),e.JRh(l.title),e.R7$(3),e.SpI("",l.rows.length," rows"),e.R7$(),e.AVh("log-group-chevron-collapsed",l.collapsed),e.R7$(2),e.Y8G("ngIf",!l.collapsed)}}function Gs(u,h){if(1&u&&(e.j41(0,"div",150),e.DNE(1,rM,10,6,"section",151),e.k0s()),2&u){const l=e.XpG(3);e.R7$(),e.Y8G("ngForOf",l.app.viewBattleLogGroups)("ngForTrackBy",l.app.trackByIndex)}}function aS(u,h){if(1&u&&e.DNE(0,Gs,2,2,"div",149),2&u){e.XpG();const l=e.sdS(55),y=e.XpG();e.Y8G("ngIf",y.app.viewBattleLogGroups.length)("ngIfElse",l)}}function sS(u,h){1&u&&(e.j41(0,"div",166),e.EFF(1," No log rows match this filter. "),e.k0s())}function rS(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",12),e.DNE(1,EE,2,0,"div",13)(2,SE,5,6,"div",14),e.j41(3,"div",15,0)(5,"div",16)(6,"div",17)(7,"h3",18),e.EFF(8,"Battles"),e.k0s(),e.j41(9,"label",19),e.EFF(10,"Filter battles by winner"),e.k0s(),e.j41(11,"div",20),e.DNE(12,TE,2,7,"button",21),e.k0s()(),e.j41(13,"div",22)(14,"div",23)(15,"div",24)(16,"span"),e.EFF(17),e.k0s(),e.DNE(18,Kd,2,1,"span",25),e.k0s(),e.j41(19,"table",26)(20,"thead")(21,"tr")(22,"th"),e.EFF(23,"Winner"),e.k0s(),e.j41(24,"th"),e.EFF(25,"Random Events"),e.k0s()()(),e.j41(26,"tbody"),e.DNE(27,kE,8,12,"tr",27),e.k0s()()()()(),e.DNE(28,ov,1,0,"div",28),e.j41(29,"div",29)(30,"div",30)(31,"div",31)(32,"h3",18),e.EFF(33,"Fight Animation + Logs"),e.k0s(),e.j41(34,"div",32)(35,"button",33),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.app.toggleBattleAnalysis())}),e.EFF(36),e.k0s()()(),e.j41(37,"div",34)(38,"span",35),e.EFF(39,"Event filter"),e.k0s(),e.DNE(40,lv,2,3,"button",36),e.k0s()(),e.j41(41,"div",37,1)(43,"div",38),e.DNE(44,qE,35,45,"ng-container",39),e.k0s(),e.j41(45,"div",40),e.bIt("pointerdown",function(E){v.eBV(l);const C=e.XpG();return v.Njj(C.onAnimationDividerPointerDown(E))})("pointermove",function(E){v.eBV(l);const C=e.XpG();return v.Njj(C.onAnimationDividerPointerMove(E))})("pointerup",function(E){v.eBV(l);const C=e.XpG();return v.Njj(C.onAnimationDividerPointerUp(E))})("pointercancel",function(E){v.eBV(l);const C=e.XpG();return v.Njj(C.onAnimationDividerPointerUp(E))})("keydown",function(E){v.eBV(l);const C=e.XpG();return v.Njj(C.onAnimationDividerKeyDown(E))}),e.k0s(),e.j41(46,"div",41),e.DNE(47,bv,1,0,"ng-container",42),e.k0s()(),e.DNE(48,ZE,2,0,"ng-template",null,2,e.C5r)(50,Av,3,2,"ng-template",null,3,e.C5r)(52,aS,1,2,"ng-template",null,4,e.C5r)(54,sS,2,0,"ng-template",null,5,e.C5r),e.k0s()()()}if(2&u){const l=e.sdS(49),y=e.sdS(51),E=e.XpG();e.R7$(),e.Y8G("ngIf",!E.isTabletTabsLayout),e.R7$(),e.Y8G("ngIf",E.isTabletTabsLayout),e.R7$(),e.AVh("bottom-container-single-column",E.isTabletTabsLayout),e.R7$(2),e.xc7("flex-basis",E.isTabletTabsLayout?null:E.leftPaneWidthPx,"px")("max-width",E.isTabletTabsLayout?null:E.leftPaneWidthPx,"px")("width",E.isTabletTabsLayout?null:E.leftPaneWidthPx,"px"),e.AVh("pane-hidden-single-column",E.isTabletTabsLayout&&"battle"!==E.activeTabletPane),e.R7$(7),e.Y8G("ngForOf",E.app.logFilterTabs)("ngForTrackBy",E.app.trackByLogTab),e.R7$(5),e.SpI("",E.app.filteredBattlesCache.length," battles"),e.R7$(),e.Y8G("ngIf",E.app.viewBattle),e.R7$(9),e.Y8G("ngForOf",E.app.filteredBattlesCache)("ngForTrackBy",E.app.trackByIndex),e.R7$(),e.Y8G("ngIf",!E.isTabletTabsLayout),e.R7$(),e.AVh("pane-hidden-single-column",E.isTabletTabsLayout&&"logs"!==E.activeTabletPane),e.R7$(7),e.SpI(" ",E.app.showBattleAnalysis?"Hide":"Show"," Analysis "),e.R7$(4),e.Y8G("ngForOf",E.app.logEventFilterOptions)("ngForTrackBy",E.app.trackByIndex),e.R7$(),e.xc7("--fight-motion-scale",E.app.fightAnimationMotionScale),e.R7$(2),e.xc7("flex-basis",E.animationTopHeightPx,"px")("max-height",E.animationTopHeightPx,"px")("height",E.animationTopHeightPx,"px"),e.R7$(),e.Y8G("ngIf",E.app.currentFightAnimationRenderFrame)("ngIfElse",l),e.R7$(3),e.Y8G("ngTemplateOutlet",y)}}let Sv=(()=>{class u{app;battleSplitContainer;animationSplitContainer;logsAnalysisSplitContainer;analysisSplitContainer;leftPaneWidthPx=null;animationTopHeightPx=null;logsTopHeightPx=null;timelineTopHeightPx=null;isTabletTabsLayout=!1;activeTabletPane="battle";dividerStorageKey="sap.battleLogs.leftPaneWidthPx";tabletMediaQuery="(min-width: 768px) and (max-width: 991.98px)";minPaneWidthPx=320;minSectionHeightPx=160;resizeStartX=0;resizeStartY=0;resizeStartWidth=0;resizeContainerWidth=0;resizing=!1;animationResizing=!1;logsAnalysisResizing=!1;analysisResizing=!1;ngOnInit(){this.updateTabletTabsLayoutState()}ngAfterViewInit(){if(this.updateTabletTabsLayoutState(),typeof window>"u")return;const l=window.localStorage.getItem(this.dividerStorageKey);if(!l)return;const y=Number(l);!Number.isFinite(y)||y<=0||(this.leftPaneWidthPx=this.clampPaneWidth(y,this.getSplitContainerWidth()))}onWindowResize(){this.updateTabletTabsLayoutState(),null!=this.leftPaneWidthPx&&(this.leftPaneWidthPx=this.clampPaneWidth(this.leftPaneWidthPx,this.getSplitContainerWidth())),null!=this.animationTopHeightPx&&(this.animationTopHeightPx=this.clampSectionHeight(this.animationTopHeightPx,this.getAnimationSplitHeight())),null!=this.logsTopHeightPx&&(this.logsTopHeightPx=this.clampSectionHeight(this.logsTopHeightPx,this.getLogsAnalysisSplitHeight())),null!=this.timelineTopHeightPx&&(this.timelineTopHeightPx=this.clampSectionHeight(this.timelineTopHeightPx,this.getAnalysisSplitHeight()))}setTabletActivePane(l){this.activeTabletPane=l}onDividerPointerDown(l){if(this.isTabletTabsLayout)return;const y=l.target,E=y?.closest(".bottom-container"),C=E?.querySelector(".battle-pane");!E||!C||(this.resizing=!0,this.resizeStartX=l.clientX,this.resizeStartWidth=C.getBoundingClientRect().width,this.resizeContainerWidth=this.getSplitContainerWidth(),y.setPointerCapture?.(l.pointerId),l.preventDefault())}onDividerPointerMove(l){this.resizing&&(this.leftPaneWidthPx=this.clampPaneWidth(this.resizeStartWidth+(l.clientX-this.resizeStartX),this.resizeContainerWidth))}onDividerPointerUp(l){this.resizing&&(this.resizing=!1,l.target?.releasePointerCapture?.(l.pointerId),null!=this.leftPaneWidthPx&&typeof window<"u"&&window.localStorage.setItem(this.dividerStorageKey,`${Math.round(this.leftPaneWidthPx)}`))}onPaneDividerKeyDown(l){if(this.isTabletTabsLayout)return;const y=this.getNextSizeFromKeyboard(l,this.leftPaneWidthPx,this.getSplitContainerWidth(),this.minPaneWidthPx,this.clampPaneWidth.bind(this));null!=y&&(this.leftPaneWidthPx=y,typeof window<"u"&&window.localStorage.setItem(this.dividerStorageKey,`${Math.round(this.leftPaneWidthPx)}`))}onAnimationDividerPointerDown(l){const y=l.target,E=y?.closest(".vertical-resizable-stack"),C=E?.querySelector(".animation-top-pane");!E||!C||(this.animationResizing=!0,this.resizeStartX=l.clientX,this.resizeStartY=l.clientY,this.resizeStartWidth=C.getBoundingClientRect().height,this.resizeContainerWidth=this.getAnimationSplitHeight(),y.setPointerCapture?.(l.pointerId),l.preventDefault())}onAnimationDividerPointerMove(l){this.animationResizing&&(this.animationTopHeightPx=this.clampSectionHeight(this.resizeStartWidth+(l.clientY-this.resizeStartY),this.resizeContainerWidth))}onAnimationDividerPointerUp(l){this.animationResizing&&(this.animationResizing=!1,l.target?.releasePointerCapture?.(l.pointerId))}onAnimationDividerKeyDown(l){const y=this.getNextSizeFromKeyboard(l,this.animationTopHeightPx,this.getAnimationSplitHeight(),this.minSectionHeightPx,this.clampSectionHeight.bind(this),!0);null!=y&&(this.animationTopHeightPx=y)}onLogsAnalysisDividerPointerDown(l){const y=l.target,E=y?.closest(".vertical-resizable-stack"),C=E?.querySelector(".logs-top-pane");!E||!C||(this.logsAnalysisResizing=!0,this.resizeStartX=l.clientX,this.resizeStartY=l.clientY,this.resizeStartWidth=C.getBoundingClientRect().height,this.resizeContainerWidth=this.getLogsAnalysisSplitHeight(),y.setPointerCapture?.(l.pointerId),l.preventDefault())}onLogsAnalysisDividerPointerMove(l){this.logsAnalysisResizing&&(this.logsTopHeightPx=this.clampSectionHeight(this.resizeStartWidth+(l.clientY-this.resizeStartY),this.resizeContainerWidth))}onLogsAnalysisDividerPointerUp(l){this.logsAnalysisResizing&&(this.logsAnalysisResizing=!1,l.target?.releasePointerCapture?.(l.pointerId))}onLogsAnalysisDividerKeyDown(l){const y=this.getNextSizeFromKeyboard(l,this.logsTopHeightPx,this.getLogsAnalysisSplitHeight(),this.minSectionHeightPx,this.clampSectionHeight.bind(this),!0);null!=y&&(this.logsTopHeightPx=y)}onAnalysisDividerPointerDown(l){const y=l.target,E=y?.closest(".vertical-resizable-stack"),C=E?.querySelector(".timeline-top-pane");!E||!C||(this.analysisResizing=!0,this.resizeStartX=l.clientX,this.resizeStartY=l.clientY,this.resizeStartWidth=C.getBoundingClientRect().height,this.resizeContainerWidth=this.getAnalysisSplitHeight(),y.setPointerCapture?.(l.pointerId),l.preventDefault())}onAnalysisDividerPointerMove(l){this.analysisResizing&&(this.timelineTopHeightPx=this.clampSectionHeight(this.resizeStartWidth+(l.clientY-this.resizeStartY),this.resizeContainerWidth))}onAnalysisDividerPointerUp(l){this.analysisResizing&&(this.analysisResizing=!1,l.target?.releasePointerCapture?.(l.pointerId))}onAnalysisDividerKeyDown(l){const y=this.getNextSizeFromKeyboard(l,this.timelineTopHeightPx,this.getAnalysisSplitHeight(),this.minSectionHeightPx,this.clampSectionHeight.bind(this),!0);null!=y&&(this.timelineTopHeightPx=y)}getSplitContainerWidth(){return this.battleSplitContainer?.nativeElement.getBoundingClientRect().width??0}getAnimationSplitHeight(){return this.animationSplitContainer?.nativeElement.getBoundingClientRect().height??0}getLogsAnalysisSplitHeight(){return this.logsAnalysisSplitContainer?.nativeElement.getBoundingClientRect().height??0}getAnalysisSplitHeight(){return this.analysisSplitContainer?.nativeElement.getBoundingClientRect().height??0}updateTabletTabsLayoutState(){this.isTabletTabsLayout=this.isTabletViewport()}isTabletViewport(){return!(typeof window>"u"||"function"!=typeof window.matchMedia)&&window.matchMedia(this.tabletMediaQuery).matches}clampPaneWidth(l,y){if(!Number.isFinite(y)||y<=0)return Math.max(this.minPaneWidthPx,l);const E=Math.max(this.minPaneWidthPx,y-this.minPaneWidthPx);return Math.min(E,Math.max(this.minPaneWidthPx,l))}clampSectionHeight(l,y){if(!Number.isFinite(y)||y<=0)return Math.max(this.minSectionHeightPx,l);const E=Math.max(this.minSectionHeightPx,y-this.minSectionHeightPx);return Math.min(E,Math.max(this.minSectionHeightPx,l))}getNextSizeFromKeyboard(l,y,E,C,I,W=!1){const X=l.shiftKey?48:24,z=C,pe=Math.max(C,E-C),Me=y??I(E/2,E);let xe=null;return l.key===(W?"ArrowUp":"ArrowLeft")?xe=Me-X:l.key===(W?"ArrowDown":"ArrowRight")?xe=Me+X:"Home"===l.key?xe=z:"End"===l.key&&(xe=pe),null==xe?null:(l.preventDefault(),I(xe,E))}static \u0275fac=function(y){return new(y||u)};static \u0275cmp=e.VBU({type:u,selectors:[["app-shell-battle-results"]],viewQuery:function(y,E){if(1&y&&e.GBs(bE,5)(uo,5)(Nc,5)(Ag,5),2&y){let C;e.mGM(C=e.lsd())&&(E.battleSplitContainer=C.first),e.mGM(C=e.lsd())&&(E.animationSplitContainer=C.first),e.mGM(C=e.lsd())&&(E.logsAnalysisSplitContainer=C.first),e.mGM(C=e.lsd())&&(E.analysisSplitContainer=C.first)}},hostBindings:function(y,E){1&y&&e.bIt("resize",function(){return E.onWindowResize()},e.tSv)},inputs:{app:"app"},decls:1,vars:1,consts:[["battleSplitContainer",""],["animationSplitContainer",""],["noAnimationFrames",""],["logsView",""],["groupedLogsTemplate",""],["noFilteredLogs",""],["noRandomEvents",""],["fallbackFightEventText",""],["logsOnlyView",""],["logsAnalysisSplitContainer",""],["analysisSplitContainer",""],["class","bottom-container-scroll",4,"ngIf"],[1,"bottom-container-scroll"],["class","bottom-container-scroll-hint","aria-hidden","true",4,"ngIf"],["class","pane-switch-tabs","role","tablist","aria-label","Battle results sections",4,"ngIf"],[1,"row","flex-1","bottom-container","g-0"],[1,"col-12","col-md-6","h-100","flex-col","pe-0","battle-pane"],[1,"pane-top-shell","battle-top-shell"],[1,"pane-title"],["for","logFilter",1,"pane-subtitle"],["id","logFilter",1,"log-filter-tabs"],["type","button","class","log-filter-tab",3,"active","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"battle-container","flex-1"],[1,"battle-table-shell"],[1,"battle-table-meta"],[4,"ngIf"],[1,"table","battle-table","mb-0"],["class","table-battle-row",3,"ngClass","selected-battle","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","battle-log-divider","role","separator","aria-label","Resize battle and logs panes","aria-orientation","vertical","tabindex","0",3,"pointerdown","pointermove","pointerup","pointercancel","keydown",4,"ngIf"],[1,"col-12","col-md-6","h-100","flex-col","logs-pane"],[1,"pane-top-shell","logs-top-shell"],[1,"d-flex","align-items-center","justify-content-between","battle-view-header"],[1,"d-flex","align-items-center","gap-2"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"log-event-filters"],[1,"log-event-filter-label"],["type","button","class","log-event-filter-btn",3,"active","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"vertical-resizable-stack"],[1,"animation-top-pane"],[4,"ngIf","ngIfElse"],["role","separator","aria-label","Resize animation and logs","aria-orientation","horizontal","tabindex","0",1,"horizontal-resize-divider",3,"pointerdown","pointermove","pointerup","pointercancel","keydown"],[1,"animation-bottom-pane"],[4,"ngTemplateOutlet"],["aria-hidden","true",1,"bottom-container-scroll-hint"],["role","tablist","aria-label","Battle results sections",1,"pane-switch-tabs"],["type","button","role","tab",1,"pane-switch-tab",3,"click"],["type","button",1,"log-filter-tab",3,"click","ngClass"],[1,"table-battle-row",3,"click","ngClass"],[1,"battle-winner-chip",3,"ngClass"],[1,"battle-random-cell"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","log-inline-icon","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],[3,"ngClass",4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async",1,"log-inline-icon",3,"ngSrc","alt"],[3,"ngClass"],[1,"battle-no-random"],["role","separator","aria-label","Resize battle and logs panes","aria-orientation","vertical","tabindex","0",1,"battle-log-divider",3,"pointerdown","pointermove","pointerup","pointercancel","keydown"],["type","button",1,"log-event-filter-btn",3,"click"],[1,"fight-stage"],[1,"fight-team","fight-team-opponent"],[1,"fight-team-toy-wrap"],["class","fight-team-toy","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-team-toy fight-team-toy-hard","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-slot",3,"ngClass","--fight-shift-steps",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fight-event"],[1,"fight-event-type"],[1,"fight-event-text"],[1,"fight-event-step"],[1,"fight-team","fight-team-player","fight-team-player-head-to-head"],[1,"fight-controls"],["role","group","aria-label","Animation controls",1,"btn-group","btn-group-sm"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["role","group","aria-label","Animation speed",1,"btn-group","btn-group-sm","fight-speed-controls"],["class","btn btn-outline-secondary","type","button",3,"active","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fight-scrubber"],["type","range",1,"form-range",3,"input","min","max","value"],["width","24","height","24","loading","lazy","decoding","async",1,"fight-team-toy",3,"ngSrc","alt"],["width","24","height","24","loading","lazy","decoding","async",1,"fight-team-toy","fight-team-toy-hard",3,"ngSrc","alt"],[1,"fight-slot",3,"ngClass"],[1,"fight-slot-label"],[1,"fight-slot-art"],["class","fight-slot-icon","width","42","height","42","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-slot-companion","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-slot-empty",4,"ngIf"],["class","fight-slot-equipment","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-equipment-ghost",4,"ngIf"],["class","fight-equipment-gain-ghost",4,"ngIf"],["class","fight-snipe-impact",4,"ngIf"],["class","fight-faint-ghost",4,"ngIf"],["class","fight-slot-stats",4,"ngIf"],["width","42","height","42","loading","lazy","decoding","async",1,"fight-slot-icon",3,"ngSrc","alt"],["width","16","height","16","loading","lazy","decoding","async",1,"fight-slot-companion",3,"ngSrc","alt"],[1,"fight-slot-empty"],["width","16","height","16","loading","lazy","decoding","async",1,"fight-slot-equipment",3,"ngSrc","alt"],[1,"fight-equipment-ghost"],["class","fight-equipment-ghost-icon","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async",1,"fight-equipment-ghost-icon",3,"ngSrc","alt"],[1,"fight-equipment-gain-ghost"],["class","fight-equipment-gain-icon","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async",1,"fight-equipment-gain-icon",3,"ngSrc","alt"],[1,"fight-snipe-impact"],["alt","","aria-hidden","true","width","20","height","20","loading","lazy","decoding","async",1,"fight-snipe-impact-icon",3,"ngSrc"],[1,"fight-value-popup"],["class","fight-value-popup-icon","alt","","aria-hidden","true","width","14","height","14","loading","lazy","decoding","async",3,"ngSrc",4,"ngIf"],[1,"fight-value-popup-number"],["alt","","aria-hidden","true","width","14","height","14","loading","lazy","decoding","async",1,"fight-value-popup-icon",3,"ngSrc"],[1,"fight-faint-ghost"],["class","fight-faint-icon","width","40","height","40","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-faint-companion","width","14","height","14","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["width","40","height","40","loading","lazy","decoding","async",1,"fight-faint-icon",3,"ngSrc","alt"],["width","14","height","14","loading","lazy","decoding","async",1,"fight-faint-companion",3,"ngSrc","alt"],[1,"fight-slot-stats"],["class","fight-slot-stat",4,"ngIf"],["class","fight-slot-stat fight-slot-exp",4,"ngIf"],[1,"fight-slot-stat"],["alt","","aria-hidden","true","width","14","height","14","loading","lazy","decoding","async",1,"fight-slot-stat-icon",3,"ngSrc"],[1,"fight-slot-stat","fight-slot-exp"],[1,"fight-slot-exp-group"],["aria-hidden","true",1,"fight-slot-exp-levels"],[1,"fight-slot-exp-level"],["role","img",1,"fight-slot-exp-bar"],[1,"fight-slot-exp-segment"],["class","log-pet-icon","width","18","height","18","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["width","18","height","18","loading","lazy","decoding","async",1,"log-pet-icon",3,"ngSrc","alt"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fight-empty-state"],["class","vertical-resizable-stack logs-analysis-stack",4,"ngIf","ngIfElse"],[1,"vertical-resizable-stack","logs-analysis-stack"],[1,"log-container","scroll","logs-top-pane"],["role","separator","aria-label","Resize logs and analysis","aria-orientation","horizontal","tabindex","0",1,"horizontal-resize-divider",3,"pointerdown","pointermove","pointerup","pointercancel","keydown"],[1,"analysis-bottom-pane"],[1,"vertical-resizable-stack","analysis-sections-stack"],[1,"analysis-section","mt-2","timeline-top-pane"],[1,"analysis-title"],[1,"analysis-table-wrap","scroll"],[1,"table","table-sm","analysis-table","mb-0"],[3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","separator","aria-label","Resize trigger timeline and battle diff","aria-orientation","horizontal","tabindex","0",1,"horizontal-resize-divider",3,"pointerdown","pointermove","pointerup","pointercancel","keydown"],[1,"analysis-section","mt-2","diff-bottom-pane","scroll"],[1,"diff-controls"],[1,"diff-label"],[1,"form-select","form-select-sm","diff-select",3,"ngModelChange","ngModel","ngModelOptions"],[3,"ngValue",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngValue"],[1,"player-side-text",3,"ngValue"],[1,"opponent-side-text",3,"ngValue"],[1,"diff-summary"],[1,"log-container","flex-1","scroll"],["class","log-groups",4,"ngIf","ngIfElse"],[1,"log-groups"],["class","log-group",4,"ngFor","ngForOf","ngForTrackBy"],[1,"log-group"],["type","button",1,"log-group-header",3,"click"],[1,"log-group-title"],[1,"log-group-meta"],[1,"log-group-count"],["aria-hidden","true",1,"log-group-chevron"],["class","log-group-body",4,"ngIf"],[1,"log-group-body"],["class","log-row",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"log-row",3,"ngClass"],[1,"log-row-meta"],["class","log-badge",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"log-row-text"],[1,"log-badge",3,"ngClass"],[1,"log-empty-state"]],template:function(y,E){1&y&&e.DNE(0,rS,56,35,"div",11),2&y&&e.Y8G("ngIf",E.app.simulated)},dependencies:[jt.MD,jt.YU,jt.Sq,jt.bT,jt.T3,ue.YN,ue.xH,ue.y7,ue.wz,ue.BC,ue.vS,yi],encapsulation:2})}return u})();const cS="assets/art/Public/Public/Toys/",Dv=["DungeonBattle.png","ScaryForestBattle.png"],Mv=["AboveCloudsBattle.png","ArcticBattle.png","AutumnForestBattle.png","BeachBattle.png","BridgeBattle.png","CastleWallBattle.png","CaveBattle.png","ColosseumBattle.png","CornFieldBattle.png","DesertBattle.png","DungeonBattle.png","FarmBattle.png","FieldBattle.png","FoodLandBattle.png","FrontYardBattle.png","HalloweenStreetBattle.png","JungleBattle.png","LavaCaveBattle.png","LavaMountainBattle.png","MoneyBinBattle.png","MoonBattle.png","PagodaBattle.png","PlaygroundBattle.png","SavannaBattle.png","ScaryForestBattle.png","SnowBattle.png","SpaceStationBattle.png","UnderwaterBattle.png","UrbanCityBattle.png","WildWestTownBattle.png","WinterPineForestBattle.png","WizardSchoolBattle.png"].filter(u=>!Dv.includes(u)),lM=[{label:"None",value:null},{label:"Player",value:"player"},{label:"Opponent",value:"opponent"},{label:"Draw",value:"draw"}];var uS=i(17385);function Cv(...u){for(const h of u){const l=kv(h.name);if(l)return{name:l,level:mS(h.level)}}return{name:null,level:1}}function kv(u){return"string"!=typeof u?null:u.trim().length>0?u:null}function mS(u){const h=Number(u);return Number.isFinite(h)?Math.max(1,Math.min(3,Math.trunc(h))):1}var vS=i(33127),yl=i(57033);function Qd(u){return Math.ceil(100*u)/100}function Hc(u){return`${(u.rawMessage??u.message??"").replace(/<[^>]+>/g,"")}${u.count&&u.count>1?` (x${u.count})`:""}`.trim()}function qd(u,h){const l="source"===h?u.sourceIndex:u.targetIndex,y="source"===h?u.sourcePet:u.targetPet;return null!=l?`${y?.parent?.isOpponent??("source"===h?u.player?.isOpponent:u.targetPet?.parent?.isOpponent)?"O":"P"}${l}${y?.name?` ${y.name}`:""}`:y?.name?y.name:"source"===h&&u.player?u.player.isOpponent?"Opponent":"Player":"-"}function Og(u){return!0===u.randomEvent?function wg(u){return"tie-broken"===u.randomEventReason?"tie-broken":"deterministic"===u.randomEventReason?"deterministic":"true random"}(u):"deterministic"}function Zd(u,h){return(u?.logs??[]).filter(y=>"all"===h||Ig(y)===h).map(y=>{const E=qd(y,"source"),C=qd(y,"target"),I=Og(y);return`${y.type} | ${E} -> ${C} | ${I} | ${Hc(y)}`})}function Ig(u){return u.player?u.player.isOpponent?"opponent":"player":!0===u.playerIsOpponent?"opponent":!1===u.playerIsOpponent?"player":"unknown"}function jc(u){return"player"===u||"opponent"===u?u:"all"}function PS(u){const h=u.playerWinner+u.opponentWinner+u.draw;return 0===h?0:Qd(u.draw/h*100)}function Vc(u){const h=u.playerWinner+u.opponentWinner+u.draw;return 0===h?0:Qd(u.opponentWinner/h*100)}const Lg={equalSteps:0,changedSteps:0,leftOnly:0,rightOnly:0};function ep(u){const h=[],l=/<img\b[^>]*>/gi;let E,y=0;const C=function Lv(u){return u.split(/(<[^>]+>)/g).map(h=>h.startsWith("<")?h:h.replace(Bg,(y,E)=>{const C=h.slice(0,E);return/\bjump[-\s]?$/i.test(C)?y:`${Iv} ${y}`}).replace(Rv,`${xg} $&`)).join("")}(u);for(;E=l.exec(C);){Ov(h,C.slice(y,E.index));const W=E[0],X=/src=["']([^"']+)["']/i.exec(W),z=/alt=["']([^"']*)["']/i.exec(W);h.push({type:"img",src:X?.[1]??"",alt:z?.[1]??""}),y=E.index+W.length}return Ov(h,C.slice(y)),h}function Ov(u,h){if(!h)return;const E=h.replace(/<br\s*\/?>/gi,"\n").replace(/<[^>]+>/g,"").split("\n");E.forEach((C,I)=>{C&&function AS(u,h){const l=/^(\[(?:[PO][1-5](?:->[PO][1-5])?|->[PO][1-5])\]\s*)([\s\S]*)$/.exec(h);if(!l)return void u.push({type:"text",text:h});const y=l[1]??"",E=l[2]??"";y&&u.push({type:"text",text:y,className:"log-position-prefix"}),E&&u.push({type:"text",text:E})}(u,C),I<E.length-1&&u.push({type:"br"})})}const Iv='<img src="assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/fist.png" alt="Attack" />',xg='<img src="assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/heart.png" alt="Health" />',Bg=/\battack(?:s|ed|ing)?\b/gi,Rv=/\bhealth\b/gi,tp=new WeakMap,zc=new Map,Fg=new WeakMap,ip={attack:"Attack",move:"Move",board:"Board",death:"Death",ability:"Ability",equipment:"Equipment",trumpets:"Trumpets"};function Ng(u){return"board"===u||"attack"===u||"ability"===u||"equipment"===u||"death"===u||"random"===u?u:"all"}function Yc(u){const h=u.formGroup.get("showPositionalArgsInLogs");return!h||!1!==h.value}function DS(u){return u.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"unknown"}function xv(u,h,l,y){const C=[{text:h,className:"log-badge-side "+("P"===h?"log-badge-side-player":"O"===h?"log-badge-side-opponent":"log-badge-side-unknown")},{text:ip[u]??u,className:`log-badge-type log-badge-type-${DS(u)}`}];return l&&C.push({text:"Random",className:"log-badge-random"}),y&&C.push({text:"Phase",className:"log-badge-phase"}),C}function MS(u,h){return"all"===h||("random"===h?u.randomEvent:u.type===h)}function bl(u,h,l){u.simulationInProgress=!0,u.simulationCancelRequested=!1,u.simulationProgress=0,u.simulationProgressLabel=h;const y=(u.simulationRunId??0)+1;return u.simulationRunId=y,u.setStatus?.(l,"success"),u.markForCheck?.(),y}function Er(u,h){return u.simulationRunId===h}function mo(u,h,l){u.simulationInProgress=!1,u.simulationCancelRequested=!1,u.setStatus?.(h,l),u.markForCheck?.()}function CS(u,h){return u===h?"same":u&&h?"changed":u?"left-only":"right-only"}function dM(u,h){"same"===h?u.equalSteps+=1:"changed"===h?u.changedSteps+=1:"left-only"===h?u.leftOnly+=1:"right-only"===h&&(u.rightOnly+=1)}function kS(u,h){return null!=u&&null!=h&&Number.isFinite(h)?`${u?"O":"P"}${Math.min(Math.max(1,Math.trunc(h)),5)}`:null}function np(u,h,l){h&&h.decorateLogIfNeeded(u);const y=function Bv(u,h){if(!h)return"";const l=`${u.rawMessage??u.message??""}`.replace(/<[^>]+>/g,"");if(/\b[PO][1-5]\b/.test(l))return"";const y=kS(function wS(u){const h=u.sourcePet?.parent?.isOpponent;return!0===h||!1!==h&&(!0===u.player?.isOpponent||!1!==u.player?.isOpponent&&(!0===u.playerIsOpponent||!1!==u.playerIsOpponent&&null))}(u),u.sourceIndex),E=kS(function OS(u){const h=u.targetPet?.parent?.isOpponent;return!0===h||!1!==h&&(!0===u.targetIsOpponent||!1!==u.targetIsOpponent&&null)}(u),u.targetIndex);return y&&E?`[${y}->${E}] `:y?`[${y}] `:E?`[->${E}] `:""}(u,l),E=function pM(u){return u.replace(/\[([^\]]+)\]/g,(h,l)=>{const y=`${l??""}`.replace(/&[a-z0-9#]+;/gi,"").replace(/[\s\u200b-\u200d\u2060\ufeff]+/gi,"").toUpperCase();if(!y)return h;const E=/^([PO][1-5])->([PO][1-5])$/.exec(y);if(E)return`[${E[1]}->${E[2]}]`;const C=/^([PO][1-5])$/.exec(y);if(C)return`[${C[1]}]`;const I=/^->([PO][1-5])$/.exec(y);return I?`[->${I[1]}]`:h})}(`${y}${u.message}`+(u.count>1?` (x${u.count})`:"")),C=tp.get(u);if(C&&C.message===E)return C.parts;const I=zc.get(E);if(I)return tp.set(u,{message:E,parts:I}),I;const W=ep(E);return tp.set(u,{message:E,parts:W}),function go(u,h){if(zc.set(u,h),zc.size<=1e3)return;const l=zc.keys().next().value;l&&zc.delete(l)}(E,W),W}function Xc(u){u.logEventFilter=Ng(u.logEventFilter),u.collapsedLogGroupIds||(u.collapsedLogGroupIds=new Set);const h=u.logEventFilter,l=u.collapsedLogGroupIds,y=[],E=new Map;for(const C of u.viewBattleLogRows){if(!MS(C,h))continue;let I=E.get(C.groupId);I||(I={id:C.groupId,title:C.groupTitle,rows:[],collapsed:l.has(C.groupId)},E.set(C.groupId,I),y.push(I)),I.rows.push(C)}u.viewBattleLogGroups=y}function Sr(u,h=1e3,l){u.pendingPositioningOptimizationBaseline=null,u.positioningDeltaSummary=null,u.simulationBattleAmt=h,u.localStorageService.setFormStorage(u.formGroup);const y=u.simulationService.runSimulation(u.formGroup,h,u.player,u.opponent,l);sp(u,y)}function Nv(u,h=1e3){if(u.simulationInProgress)return;u.simulationBattleAmt=h,u.localStorageService.setFormStorage(u.formGroup);const l=bl(u,`0 / ${h}`,"Simulation started..."),y=u.simulationService.runSimulationInWorker(u.formGroup,h,u.player,u.opponent,{onProgress:E=>{if(!Er(u,l))return;const C=E.total?Math.floor(E.completed/E.total*100):0;u.simulationProgress=C,u.simulationProgressLabel=`${E.completed} / ${E.total}`,u.playerWinner=E.playerWins,u.opponentWinner=E.opponentWins,u.draw=E.draws,u.markForCheck?.()},onResult:E=>{Er(u,l)&&(Hs(u),sp(u,E),u.simulationProgress=100,u.simulationProgressLabel=`${h} / ${h}`,mo(u,"Simulation finished.","success"))},onAborted:E=>{Er(u,l)&&(Hs(u),sp(u,E),mo(u,"Simulation cancelled.","error"))},onError:E=>{Er(u,l)&&(Hs(u),mo(u,E||"Simulation failed.","error"))}},{progressInterval:50});u.simulationWorker=y}function Hs(u){u.simulationWorker&&u.simulationWorker.terminate(),u.simulationWorker=null}function Wg(u,h){const y=u.formGroup.get("player"===h.side?"playerPets":"opponentPets");!y||!h.bestPermutation||(function LS(u,h){const l=u.controls.slice(),y=l.map(C=>C.value),E=new Set;for(let C=0;C<l.length;C+=1){const W=Uv(y,h[C]??null,E);-1!==W&&(E.add(W),u.setControl(C,l[W]))}u.updateValueAndValidity()}(y,h.bestPermutation.lineup),u.afterPositioningApplied?.())}function Uv(u,h,l){const y=Kg(h);for(let E=0;E<u.length;E+=1)if(!l.has(E)&&Kg(u[E]??null)===y)return E;return-1}function Kg(u){if(!u||"object"!=typeof u)return"empty";if("string"!=typeof u.name||!u.name)return"empty";const l=u.equipment;return JSON.stringify({name:u.name??null,attack:u.attack??null,health:u.health??null,exp:u.exp??null,equipment:(l&&"object"==typeof l?"string"==typeof l.name?l.name:null:l??null)??null,equipmentUses:u.equipmentUses??null,belugaSwallowedPet:u.belugaSwallowedPet??null,parrotCopyPet:u.parrotCopyPet??null,mana:u.mana??null,triggersConsumed:u.triggersConsumed??null,foodsEaten:u.foodsEaten??null,battlesFought:u.battlesFought??null,timesHurt:u.timesHurt??null})}function $g(u,h,l){return u+h+l}function _o(u,h){return h<=0?0:u/h*100}function ap(u){return Math.round(100*u)/100}function sp(u,h){const l=u.pendingPositioningOptimizationBaseline??null;u.pendingPositioningOptimizationBaseline=null,u.positioningDeltaSummary=l?function Kv(u,h){const l=$g(h.playerWins,h.opponentWins,h.draws);if(l<=0||u.totalBattles<=0)return null;const y="player"===u.side?u.playerWins:u.opponentWins,C="player"===u.side?u.opponentWins:u.playerWins,I="player"===u.side?h.opponentWins:h.playerWins,W=ap(_o("player"===u.side?h.playerWins:h.opponentWins,l)-_o(y,u.totalBattles)),X=ap(_o(h.draws,l)-_o(u.draws,u.totalBattles)),z=ap(_o(I,l)-_o(C,u.totalBattles));return{side:u.side,winDeltaPercent:W,drawDeltaPercent:X,lossDeltaPercent:z}}(l,h):null,u.playerWinner=h.playerWins,u.opponentWinner=h.opponentWins,u.draw=h.draws,u.battles=h.battles||[];const y=Yc(u),E=new Map;u.battleRandomEvents=u.battles.map(C=>{const I=Hg(C,u.logService,y);return E.set(C,I),I}),u.battleRandomEventsByBattle=E,rp(u),u.viewBattle=h.battles?.[0]||null,u.viewBattleLogs=u.viewBattle?.logs??[],u.collapsedLogGroupIds=new Set,fo(u),Gg(u),u.refreshFightAnimationFromViewBattle?.(),u.diffBattleLeftIndex=0,u.diffBattleRightIndex=u.battles.length>1?1:0,vo(u),u.simulated=!0,u.randomDecisions=(h.randomDecisions??[]).filter(C=>Array.isArray(C.options)&&C.options.length>1),u.randomOverrideError=h.randomOverrideError??null,u.showRandomOverrides=u.randomDecisions.length>0}function fo(u){const h=Yc(u);if(u.viewBattle){const y=Fg.get(u.viewBattle);if(y&&y.logs===u.viewBattleLogs&&y.includePositionPrefix===h)return u.viewBattleLogRows=y.rows,void Xc(u)}const l=function Ug(u,h){let l="phase-0",y="Battle",E=0;return u.viewBattleLogs.map((C,I)=>{const W=Hc(C),X=function uM(u){const h=`${u??""}`.trim();return/^Phase\s+\d+\s*:/i.test(h)?h:null}(W);X&&(E+=1,l=`phase-${E}`,y=X);const z=function yS(u){return null==u.player?!0===u.playerIsOpponent?"log-opponent":!1===u.playerIsOpponent?"log-player":"log":u.player.isOpponent?"log-opponent":"log-player"}(C),pe=function cM(u){return"log-player"===u?"P":"log-opponent"===u?"O":"-"}(z),Me=!0===C.randomEvent,xe="board"===C.type,Ke=!!X,ht=["log-entry",z,`log-type-${DS(C.type)}`,Me?"random-event":"",xe?"log-row-board":"",Ke?"log-phase-marker":""].filter(Boolean);return{parts:np(C,u.logService,h),classes:ht,logIndex:I,type:C.type,typeLabel:ip[C.type]??C.type,sideLabel:pe,rawText:W,randomEvent:Me,isBoard:xe,isPhaseMarker:Ke,phaseTitle:X,groupId:l,groupTitle:y,badges:xv(C.type,pe,Me,Ke)}})}(u,h);u.viewBattleLogRows=l,Xc(u),u.viewBattle&&Fg.set(u.viewBattle,{logs:u.viewBattleLogs,rows:l,includePositionPrefix:h})}function Gg(u){const h=u.viewBattle?.logs??[],l=h.filter(E=>"ability"===E.type||"equipment"===E.type||"attack"===E.type);u.viewBattleTimelineRows=(l.length>0?l:h).map((E,C)=>({step:C+1,source:qd(E,"source"),target:qd(E,"target"),reason:Og(E),text:Hc(E),side:Ig(E)}))}function vo(u){const h=jg(u,u.diffBattleLeftIndex),l=jg(u,u.diffBattleRightIndex);u.diffBattleLeftIndex=h,u.diffBattleRightIndex=l;const E=u.battles[l],C=Zd(u.battles[h],jc(u.diffBattleLeftScope)),I=Zd(E,jc(u.diffBattleRightScope)),W=Math.max(C.length,I.length),X=[],z={...Lg};for(let pe=0;pe<W;pe++){const Me=C[pe]??"",xe=I[pe]??"",Ke=CS(Me,xe);X.push({step:pe+1,left:Me,right:xe,same:"same"===Ke,kind:Ke}),dM(z,Ke)}u.battleDiffRows=X,u.battleDiffSummary=z}function rp(u){const h=u.formGroup.get("logFilter")?.value??null;u.filteredBattlesCache=null==h?u.battles:u.battles.filter(l=>l.winner===h)}function Hg(u,h,l=!1){const y=u.logs.filter(I=>!0===I.randomEvent),E=[],C=h?.isShowTriggerNamesInLogs()??!1;return y.forEach((I,W)=>{C&&E.push({type:"text",text:`[${"tie-broken"===I.randomEventReason?"tie-broken":"deterministic"===I.randomEventReason?"deterministic":"true random"}] `}),E.push(...np(I,h,l)),W<y.length-1&&E.push({type:"br"})}),E}function jg(u,h){return Array.isArray(u.battles)&&0!==u.battles.length&&Number.isFinite(h)?Math.min(Math.max(0,Math.trunc(h)),u.battles.length-1):0}function Vg(u){const h=new Map,l=[];return u.filter(y=>!!y).sort((y,E)=>E.length-y.length).forEach(y=>{h.set(y.toLowerCase(),y),l.push(function zg(u){return u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(y))}),0===l.length?{regex:null,canonicalByLower:h}:{regex:new RegExp(`(?<![A-Za-z0-9])(${l.join("|")})(?![A-Za-z0-9])`,"gi"),canonicalByLower:h}}function Ts(u,h){if(!u||!h.regex)return[];const l=new RegExp(h.regex.source,h.regex.flags),y=[];let E;for(;E=l.exec(u);){const C=E[1];if(!C)continue;const I=h.canonicalByLower.get(C.toLowerCase())??C;y.push(I)}return y}const $S=new Set(Object.values(Ga.U).flat().filter(Boolean)),Jc=Vg((0,Mt.bf)()),yo=Vg((0,Mt.oI)());function Bn(u){return Number.isFinite(u)?Math.min(Math.max(0,Math.trunc(u)),4):0}function op(u,h){return`${"player"===u?"P":"O"}${h+1}`}function dn(u){return`${u??""}`.trim().toLowerCase()}function Jn(u){return u&&u.replace(/^[PO]\d+\s+/i,"").trim().replace(/^[Aa]n?\s+/,"").replace(/[.!,:;]+$/,"").trim()||null}function Yg(u,h){const l=new RegExp(`${h}="([^"]*)"`,"i").exec(u);if(l)return l[1];const y=new RegExp(`${h}='([^']*)'`,"i").exec(u);return y?y[1]:null}function sa(u,h){return"player"===h?u.playerSlots:u.opponentSlots}function Qc(u,h,l){return sa(u,h)[Bn(l)]}function bo(u,h){const l=dn(h??null);if(!l)return-1;for(let y=0;y<u.length;y+=1)if(dn(u[y].petName)===l)return y;return-1}function qc(u,h){return dn(u.petName)===h}function js(u){if(!u)return null;const h=$S.has(u);return(0,Mt.ht)(u,h)}function Hv(u,h=null){const l=`${u??""}`.trim();if(!l)return{petIconSrc:h,petCompanionIconSrc:null,petCompanionName:null};const y=(0,Mt.EA)(l);if(y)return{petIconSrc:y,petCompanionIconSrc:null,petCompanionName:null};const E=function _M(u){if(!u.includes("'")&&!u.includes("\u2019"))return[u];return u.split(/\s*(?:'|\u2019)s\s+/i).map(l=>l.trim()).filter(l=>!!l)}(l);if(E.length<2)return{petIconSrc:h,petCompanionIconSrc:null,petCompanionName:null};const C=E.map(pe=>Jn(pe)).filter(pe=>!!pe);if(C.length<2)return{petIconSrc:h,petCompanionIconSrc:null,petCompanionName:null};let I=null,W=null;for(const pe of C){const Me=(0,Mt.EA)(pe);if(Me){I=pe,W=Me;break}}let X=null,z=null;for(let pe=C.length-1;pe>=0;pe-=1){const Me=C[pe];if(I&&dn(Me)===dn(I))continue;const xe=(0,Mt.EA)(Me);if(xe){X=Me,z=xe;break}}return{petIconSrc:W??h,petCompanionIconSrc:z,petCompanionName:z?X:null}}function nn(u){const h=[];for(let l=0;l<5;l+=1)h.push({side:u,slot:l,isEmpty:!0,pendingRemoval:!1,attack:null,health:null,exp:null,mana:null,petIconSrc:null,petName:null,petCompanionIconSrc:null,petCompanionName:null,equipmentIconSrc:null,equipmentName:null,label:null});return h}function Zc(u){return u.map(h=>({...h}))}function Po(u,h){sa(u,h).forEach(y=>{y.pendingRemoval&&function jv(u){u.isEmpty=!0,u.pendingRemoval=!1,u.attack=null,u.health=null,u.exp=null,u.mana=null,u.petIconSrc=null,u.petName=null,u.petCompanionIconSrc=null,u.petCompanionName=null,u.equipmentIconSrc=null,u.equipmentName=null,u.label=null}(y)})}function ma(u,h){u.isEmpty=!1,u.petName=h;const l=Hv(h);u.petIconSrc=l.petIconSrc,u.petCompanionIconSrc=l.petCompanionIconSrc,u.petCompanionName=l.petCompanionName,u.label=op(u.side,u.slot)}function rs(u,h){u.isEmpty=!1,u.equipmentName=h,u.equipmentIconSrc=js(h),u.label=op(u.side,u.slot)}function Vs(u){u.equipmentName=null,u.equipmentIconSrc=null}function eu(u,h){const l=sa(u,h),y=l.map((I,W)=>({slot:I,index:W})).filter(I=>!I.slot.isEmpty).map(I=>({value:{...I.slot},fromSlot:I.index})),E=nn(h),C=[];y.forEach((I,W)=>{const X=Bn(W);I.fromSlot!==X&&C.push({side:h,slot:X,fromSlot:I.fromSlot}),E[X]={...I.value,side:h,slot:X,label:op(h,X),isEmpty:!1}});for(let I=0;I<l.length;I+=1)l[I]=E[I];return C}function os(u){return ja(u.sourcePet?.parent?.isOpponent)??ja(u.player?.isOpponent)??ja(u.playerIsOpponent)??"player"}function Vv(u){return ja(u.targetPet?.parent?.isOpponent)??ja(u.targetIsOpponent)}function ja(u){return!0===u?"opponent":!1===u?"player":null}function Al(u,h,l,y,E,C){const I="player"===y?"opponent":"player",W=Vv(h);if(W)return W;const X=function HS(u,h){if(null==h||!Number.isFinite(h))return null;const l=Math.min(Math.max(1,Math.trunc(h)),5),y=new RegExp(`\\b([PO])${l}\\b`,"i").exec(u);return y?function Pl(u){return u.startsWith("P")?"player":u.startsWith("O")?"opponent":null}(y[1].toUpperCase()):null}(l,h.targetIndex??null);if(X)return X;if(/\benemy|opponent\b/i.test(l))return I;if(/\bfriend|friendly|self|itself|ally\b/i.test(l))return y;if(null!=h.targetIndex){const z=Bn(h.targetIndex-1),pe=Qc(u,y,z),Me=Qc(u,I,z),xe=dn(E);if(xe){const Ke=qc(pe,xe);if(Ke!==qc(Me,xe))return Ke?y:I}if(pe.isEmpty&&!Me.isEmpty)return I;if(!pe.isEmpty&&Me.isEmpty)return y}if(E){const z=bo(sa(u,y),E),pe=bo(sa(u,I),E);if(-1!==z&&-1===pe)return y;if(-1!==pe&&-1===z)return I}return"opposite"===C?I:y}function Pn(u,h){const l=h.preferredSide,y="player"===l?"opponent":"player",E=sa(u,l),C=sa(u,y),I=dn(h.expectedName??null);if(null!=h.explicitIndex){const W=Bn(h.explicitIndex-1),X=E[W],z=C[W];if(I){const pe=qc(X,I),Me=qc(z,I);if(pe&&!Me)return{side:l,slot:W,value:X};if(Me&&!pe)return{side:y,slot:W,value:z}}if(h.preferNonEmpty){if(X.isEmpty&&!z.isEmpty)return{side:y,slot:W,value:z};if(!X.isEmpty&&z.isEmpty)return{side:l,slot:W,value:X}}return{side:l,slot:W,value:X}}if(I){const W=bo(E,h.expectedName??null);if(-1!==W)return{side:l,slot:W,value:E[W]};const X=bo(C,h.expectedName??null);if(-1!==X)return{side:y,slot:X,value:C[X]}}if(h.preferNonEmpty){const W=E.findIndex(z=>!z.isEmpty);if(-1!==W)return{side:l,slot:W,value:E[W]};const X=C.findIndex(z=>!z.isEmpty);if(-1!==X)return{side:y,slot:X,value:C[X]}}return null}function Xg(u){return u.replace(/\[([^\]]+)\]/g,(h,l)=>{const y=`${l??""}`.replace(/&[a-z0-9#]+;/gi,"").replace(/[\s\u200b-\u200d\u2060\ufeff]+/gi,"").toUpperCase();if(!y)return h;const E=/^([PO][1-5])->([PO][1-5])$/.exec(y);if(E)return`[${E[1]}->${E[2]}]`;const C=/^([PO][1-5])$/.exec(y);if(C)return`[${C[1]}]`;const I=/^->([PO][1-5])$/.exec(y);return I?`[->${I[1]}]`:h})}function ra(u,h){return null!=u&&null!=h&&Number.isFinite(h)?`${"player"===u?"P":"O"}${Math.min(Math.max(1,Math.trunc(h)),5)}`:null}const jS=/___ \(-\/-\)|(?:[PO]\d+\s+)?(?:<img\b[^>]*>\s*)*\(\d+\/\d+(?:\/\d+(?:\s*xp)?)?(?:\/\d+(?:\s*mana)?)?\)/gi,Hn=/<img\b[^>]*>/gi,VS=[4,3,2,1,0],zS=[0,1,2,3,4],Jg=/^(.+?)\s+(?:jump-)?attacks?\s+(.+?)\s+for\s+(\d+)/i,Qg=/^(.+?)\s+sniped\s+(.+?)\s+for\s+(\d+)/i,Yv=/^(.+?)\s+(?:deal(?:s|t)|inflict(?:s|ed)|did|does)\s+(\d+)\s+damage\s+to\s+(.+?)(?:\.|$)/i,YS=/^(.+?)\s+fainted\./i,fM=/^(.+?)\s+(?:attacks?|sniped|deal(?:s|t)|inflict(?:s|ed)|did|does|fainted|gave|gained|lost|removed|transformed|destroyed|consumed|moved)\b/i,Xv=/\bto\s+(.+?)(?:\.|$)/i,vM=/\btransformed\s+(.+?)\s+into\b/i,yM=/\binto\b([\s\S]*)$/i,cp=/(\d+)\s*\/\s*(\d+)(?:\s*\/\s*(\d+)(?:\s*xp)?)?(?:\s*\/\s*(\d+)(?:\s*mana)?)?/i;function Jv(u,h){const l=u.match(jS);if(!l||0===l.length)return null;const y=nn(h),E="player"===h?VS:zS;l.forEach((W,X)=>{const z=function El(u){const h=u.trim();if("___ (-/-)"===h)return{slot:null,isEmpty:!0,attack:null,health:null,exp:null,mana:null,petIconSrc:null,petName:null,equipmentIconSrc:null,equipmentName:null,label:null};const l=/\b([PO])([1-5])\b/.exec(h),y=l?`${l[1]}${l[2]}`:null,E=l&&Number.isFinite(Number(l[2]))?Number(l[2])-1:null,C=/\((\d+)\/(\d+)(?:\/(\d+)(?:\s*xp)?)?(?:\/(\d+)(?:\s*mana)?)?\)/i.exec(h),I=C?Number(C[1]):null,W=C?Number(C[2]):null,X=null!=C?.[3]?Number(C[3]):null,z=null!=C?.[4]?Number(C[4]):null;let pe=null,Me=null,xe=null,Ke=null;return(h.match(Hn)??[]).forEach(ht=>{const st=Yg(ht,"src"),Ct=Yg(ht,"alt"),bt=(Yg(ht,"class")??"").split(/\s+/g);return bt.includes("log-pet-icon")?(pe=st??pe,void(Me=Ct??Me)):bt.includes("log-inline-icon")?(xe=st??xe,void(Ke=Ct??Ke)):pe?void(xe||(xe=st??null,Ke=Ct??null)):(pe=st??null,void(Me=Ct??null))}),{slot:null!=E?Bn(E):null,isEmpty:!1,attack:I,health:W,exp:X,mana:z,petIconSrc:pe,petName:Me,equipmentIconSrc:xe,equipmentName:Ke,label:y}}(W),Me=Bn(z.slot??E[X]??E[0]),xe=Hv(z.petName,z.petIconSrc);y[Me]={side:h,slot:Me,isEmpty:z.isEmpty,pendingRemoval:!1,attack:z.attack,health:z.health,exp:z.exp,mana:z.mana,petIconSrc:xe.petIconSrc,petName:z.petName,petCompanionIconSrc:xe.petCompanionIconSrc,petCompanionName:xe.petCompanionName,equipmentIconSrc:z.equipmentIconSrc,equipmentName:z.equipmentName,label:z.label??op(h,Me)}});const C=u.match(/\{\{toy:([^}]+)\}\}/),I=u.match(/\{\{hardtoy:([^}]+)\}\}/);return{slots:y,toyName:C?C[1]:null,hardToyName:I?I[1]:null}}function Sl(u){const h=fM.exec(u);return h?Jn(h[1]):Ts(u,Jc)[0]??null}function iu(u,h){const y=Ts(Xv.exec(u)?.[1]??"",Jc);if(y.length>0)return y[0];const E=Ts(u,Jc);if(0===E.length)return null;const C=dn(h);return E.find(W=>dn(W)!==C)??E[0]??null}function qg(u){const h=Sl(u),l=vM.exec(u)?.[1]??null,y=l?Jn(l):null,E=yM.exec(u)?.[1]??"",C=Ts(E,Jc)[0]??null,I=cp.exec(E);return{sourceName:h,targetName:y,transformedName:C,attack:I?Number(I[1]):null,health:I?Number(I[2]):null,exp:null!=I?.[3]?Number(I[3]):null,mana:null!=I?.[4]?Number(I[4]):null,equipmentName:Ts(E,yo)[0]??null}}function ZS(u,h,l){if(!l)return!1;if(/\bgave\b/i.test(u))return!0;const y=dn(h),E=dn(l);return(!y||!E||y!==E)&&(/\bincreased\b/i.test(u)||/\bremoved?\b/i.test(u)&&/\bfrom\b/i.test(u)||/\b(?:attack|health)\s+of\b/i.test(u)||/\b(?:attack|health)\s+by\b/i.test(u))}function Qv(u,h,l){const y=new RegExp(`([+-]?\\d+)\\s+${h}\\b`,"i"),E=new RegExp(`${h}\\b(?:\\s+of\\s+[^.]+?)?\\s+by\\s+([+-]?\\d+)`,"i"),C=y.exec(u)??E.exec(u);if(!C)return null;const I=C[1],W=Number(I);return Number.isFinite(W)?I.startsWith("+")||I.startsWith("-")?W:W*l:null}function dp(u){if(!u)return null;const h=Number(u);return Number.isFinite(h)?h:null}function i1(u){const h=/\bfor\s+(\d+)\b/i.exec(u);if(!h)return null;const l=Number(h[1]);return Number.isFinite(l)?l:null}function pp(u,h){return function qv(u){return u?Ts(u,yo)[0]??null:null}(new RegExp(`\\b${h}\\b([\\s\\S]*)$`,"i").exec(u)?.[1]??"")}function PM(u,h,l){const y={impact:null,popups:[],death:null,shifts:[],equipmentChanges:[],toyChanges:[]};if("attack"===h.type)return y.impact=function AM(u,h,l,y){const E=function XS(u){const h=Qg.exec(u);if(h)return{attackerName:Jn(h[1]),targetName:Jn(h[2]),damage:Number(h[3]),isSnipe:!0};const l=Jg.exec(u);return l?{attackerName:Jn(l[1]),targetName:Jn(l[2]),damage:Number(l[3]),isSnipe:!1}:{attackerName:null,targetName:null,damage:i1(u),isSnipe:!1}}(l),C=os(h),I=Pn(u,{preferredSide:C,explicitIndex:h.sourceIndex,expectedName:E.attackerName,preferNonEmpty:!0});I&&E.attackerName&&ma(I.value,E.attackerName),I&&null==I.value.attack&&null!=E.damage&&E.damage>0&&(I.value.attack=E.damage);const W=I?.side??C,X=Al(u,h,l,W,E.targetName,"opposite"),z=Pn(u,{preferredSide:X,explicitIndex:h.targetIndex,expectedName:E.targetName,preferNonEmpty:!0});return z?(E.targetName&&ma(z.value,E.targetName),null!=E.damage&&null!=z.value.health&&(z.value.health=Math.max(0,z.value.health-E.damage)),null!=E.damage&&E.damage>0&&y.push({side:z.side,slot:z.slot,type:"damage",delta:-E.damage}),{attackerSide:I?.side??W,attackerSlot:I?.slot??Bn((h.sourceIndex??1)-1),targetSide:z.side,targetSlot:z.slot,damage:E.damage,isSnipe:E.isSnipe}):(null!=E.damage&&E.damage>0&&y.push({side:X,slot:Bn((h.targetIndex??1)-1),type:"damage",delta:-E.damage}),{attackerSide:W,attackerSlot:I?.slot??Bn((h.sourceIndex??1)-1),targetSide:X,targetSlot:Bn((h.targetIndex??1)-1),damage:E.damage,isSnipe:E.isSnipe})}(u,h,l,y.popups),y;if("death"===h.type)return y.death=function a1(u,h,l){const y=function JS(u){const h=YS.exec(u);return h?Jn(h[1]):null}(l),C=Pn(u,{preferredSide:os(h),explicitIndex:h.sourceIndex,expectedName:y,preferNonEmpty:!0});if(!C)return null;const I={side:C.side,slot:C.slot,petIconSrc:C.value.petIconSrc,petName:C.value.petName,petCompanionIconSrc:C.value.petCompanionIconSrc,petCompanionName:C.value.petCompanionName};return C.value.pendingRemoval=!0,null!=C.value.health&&(C.value.health=0),I}(u,h,l),y;if("ability"===h.type||"equipment"===h.type){const E=function s1(u,h,l,y){const E=function e1(u){const h=Qg.exec(u);if(h)return{attackerName:Jn(h[1]),targetName:Jn(h[2]),damage:Number(h[3]),isSnipe:!0};const l=Yv.exec(u);return l?{attackerName:Jn(l[1]),targetName:Jn(l[3]),damage:Number(l[2]),isSnipe:!0}:null}(l);if(!E||null==E.damage||E.damage<0)return null;const C=os(h),I=Pn(u,{preferredSide:C,explicitIndex:h.sourceIndex,expectedName:E.attackerName,preferNonEmpty:!0});I&&E.attackerName&&ma(I.value,E.attackerName);const W=I?.side??C,X=Al(u,h,l,W,E.targetName,"opposite"),z=Pn(u,{preferredSide:X,explicitIndex:h.targetIndex,expectedName:E.targetName,preferNonEmpty:!0});return z?(E.targetName&&ma(z.value,E.targetName),null!=z.value.health&&(z.value.health=Math.max(0,z.value.health-E.damage)),E.damage>0&&y.push({side:z.side,slot:z.slot,type:"damage",delta:-E.damage}),{attackerSide:W,attackerSlot:I?.slot??Bn((h.sourceIndex??1)-1),targetSide:z.side,targetSlot:z.slot,damage:E.damage,isSnipe:!0}):(E.damage>0&&y.push({side:X,slot:Bn((h.targetIndex??1)-1),type:"damage",delta:-E.damage}),{attackerSide:W,attackerSlot:I?.slot??Bn((h.sourceIndex??1)-1),targetSide:X,targetSlot:Bn((h.targetIndex??1)-1),damage:E.damage,isSnipe:!0})}(u,h,l,y.popups);return E&&(y.impact=E),function ey(u,h,l,y){if(!/\btransform(?:ed|ing)?\b/i.test(l))return;const E=qg(l);if(!E.transformedName&&null==E.attack&&null==E.health&&null==E.exp&&null==E.mana&&!E.equipmentName)return;const C=os(h),I=E.sourceName??Sl(l),W=E.targetName??E.sourceName??I,X=h.targetIndex??h.sourceIndex,pe=Pn(u,{preferredSide:Al(u,h,l,C,W,"same"),explicitIndex:X,expectedName:W,preferNonEmpty:!1});pe&&(E.transformedName&&ma(pe.value,E.transformedName),hp(pe.value,y,pe.side,pe.slot,"attack",E.attack),hp(pe.value,y,pe.side,pe.slot,"health",E.health),hp(pe.value,y,pe.side,pe.slot,"exp",E.exp),hp(pe.value,y,pe.side,pe.slot,"mana",E.mana),E.equipmentName&&rs(pe.value,E.equipmentName))}(u,h,l,y.popups),function Dl(u,h,l,y){const E=function QS(u){const h=/\battack\b/i.test(u),l=/\bhealth\b/i.test(u),y=/\b(?:xp|exp|experience)\b/i.test(u),E=/\bmana\b/i.test(u);if(!(h||l||y||E))return null;const C=/\b(?:lost|spent|took|drain(?:ed)?|remove(?:d)?|reduce(?:d)?|decrease(?:d)?|lower(?:ed)?)\b/i.test(u)?-1:1,I=Qv(u,"attack",C),W=Qv(u,"health",C),X=function Tr(u,h){const y=/([+-]?\d+)\s+(?:xp|exp(?:erience)?)\b/i.exec(u);if(!y)return null;const E=y[1],C=Number(E);return Number.isFinite(C)?E.startsWith("+")||E.startsWith("-")?C:C*h:null}(u,C),z=function t1(u,h){const E=/([+-]?\d+)\s+(?:bonus\s+)?mana\b/i.exec(u)??/\bmana\b(?:\s+of\s+[^.]+?)?\s+by\s+([+-]?\d+)/i.exec(u);if(!E)return null;const C=E[1],I=Number(C);return Number.isFinite(I)?C.startsWith("+")||C.startsWith("-")?I:I*h:null}(u,C);return null==I&&null==W&&null==X&&null==z?null:{attackDelta:I??0,healthDelta:W??0,expDelta:X??0,manaDelta:z??0}}(l);if(!E||0===E.attackDelta&&0===E.healthDelta&&0===E.expDelta&&0===E.manaDelta)return;const C=os(h),I=Sl(l),W=iu(l,I),X=/\btransform(?:ed|ing)?\b/i.test(l)?qg(l):null,z=ZS(l,I,W),pe=!z&&!(!X||/\bgave\b/i.test(l)||!X.transformedName&&!X.targetName),Me=Al(u,h,l,C,W,"same"),xe=Jn(h.sourcePet?.name),Ke=Jn(h.targetPet?.name),_t=X?.transformedName??null;if(0!==E.attackDelta||0!==E.healthDelta||0!==E.expDelta){const st=Pn(u,{preferredSide:z||pe?Me:C,explicitIndex:z||pe?h.targetIndex:h.sourceIndex,expectedName:z?W:pe?_t??X?.targetName??W:I,preferNonEmpty:!0});if(st){const Ct=z?Ke??W??xe??I:pe?_t??Ke??X?.targetName??W??xe??I:_t??xe??I;Ct&&ma(st.value,Ct),gp(st.value,y,st.side,st.slot,"attack",E.attackDelta),gp(st.value,y,st.side,st.slot,"health",E.healthDelta),gp(st.value,y,st.side,st.slot,"exp",E.expDelta)}}if(0!==E.manaDelta){const st=function Zg(u,h,l){if(!l||!/\bmana\b/i.test(u))return!1;const y=dn(h),E=dn(l);return(!y||!E||y!==E)&&(!(!/\btook\b/i.test(u)||!/\bfrom\b/i.test(u))||(/\bspent\b/i.test(u)?/\bfrom\b/i.test(u):!!(/\bgave\b/i.test(u)||/\breplaced\b/i.test(u)&&/\bon\b/i.test(u)&&/\bwith\b/i.test(u))||ZS(u,h,l)))}(l,I,W),Ct=!st&&!(!X||/\b(?:spent|took)\b/i.test(l)||!X.transformedName&&!X.targetName),ut=Pn(u,{preferredSide:st||Ct?Me:C,explicitIndex:st||Ct?h.targetIndex:h.sourceIndex,expectedName:st?W:Ct?_t??X?.targetName??W:I,preferNonEmpty:!0});if(!ut)return;const bt=st?Ke??W??xe??I:Ct?_t??Ke??X?.targetName??W??xe??I:xe??I??_t;bt&&ma(ut.value,bt),gp(ut.value,y,ut.side,ut.slot,"mana",E.manaDelta)}}(u,h,l,y.popups),function r1(u,h,l,y){const C=Ts(l,yo)[0]??null,I=function o1(u,h,l){return ty(new RegExp(`\\b${h}\\b([\\s\\S]*?)\\b${l}\\b`,"i").exec(u)?.[1]??"")}(l,"removed","from"),W=function l1(u){return ty(/\bgave\b([\s\S]*)$/i.exec(u)?.[1]??"")}(l),X=function Tl(u,h){const l=new RegExp(`\\b${h}\\b([\\s\\S]*)$`,"i").exec(u)?.[1]??"",y=/\b([PO])([1-5])\b/i.exec(l);return y?{side:"O"===y[1].toUpperCase()?"opponent":"player",index:Number(y[2])}:null}(l,"gave"),z=pp(l,"gained"),pe=pp(l,"with"),Me=os(h),xe=Sl(l),Ke=iu(l,xe),_t=Jn(h.sourcePet?.name),ht=""!==dn(Ke)&&dn(Ke)===dn(_t),st=""!==dn(xe)&&dn(xe)===dn(_t),Ct=Al(u,h,l,Me,Ke,"same");if(/\blost\b/i.test(l)&&/\bequipment|perk|ailment\b/i.test(l)){const ut=Pn(u,{preferredSide:Me,explicitIndex:h.sourceIndex,expectedName:xe,preferNonEmpty:!0});if(ut){const bt=ut.value.equipmentName,ft=ut.value.equipmentIconSrc??js(bt);Vs(ut.value),y.push({side:ut.side,slot:ut.slot,action:"removed",equipmentName:bt,equipmentIconSrc:ft})}return}if(/\bdestroyed\b/i.test(l)&&/\bequipment|perk|ailment\b/i.test(l)){const ut=Pn(u,{preferredSide:Ct,explicitIndex:h.targetIndex,expectedName:Ke,preferNonEmpty:!0});if(ut){const bt=ut.value.equipmentName,ft=ut.value.equipmentIconSrc??js(bt);Vs(ut.value),y.push({side:ut.side,slot:ut.slot,action:"removed",equipmentName:bt,equipmentIconSrc:ft})}return}if(/\bremoved\b/i.test(l)&&/\bfrom\b/i.test(l)&&(null!=I||/\bequipment|perk|ailment\b/i.test(l))){const ut=Pn(u,{preferredSide:Ct,explicitIndex:h.targetIndex,expectedName:Ke,preferNonEmpty:!0});if(ut){const bt=ut.value.equipmentName??I,ft=ut.value.equipmentIconSrc??js(bt);Vs(ut.value),y.push({side:ut.side,slot:ut.slot,action:"removed",equipmentName:bt,equipmentIconSrc:ft})}}if(/\bstole\b/i.test(l)&&/\bequipment\b/i.test(l)){const ut=Pn(u,{preferredSide:Me,explicitIndex:h.sourceIndex,expectedName:xe,preferNonEmpty:!0}),bt=Pn(u,{preferredSide:Ct,explicitIndex:h.targetIndex,expectedName:Ke,preferNonEmpty:!0});if(!bt)return;const ft=bt.value.equipmentName??C,It=bt.value.equipmentIconSrc??js(ft);return void(ft&&(Vs(bt.value),y.push({side:bt.side,slot:bt.slot,action:"removed",equipmentName:ft,equipmentIconSrc:It}),ut&&(rs(ut.value,ft),y.push({side:ut.side,slot:ut.slot,action:"added",equipmentName:ft,equipmentIconSrc:ut.value.equipmentIconSrc??js(ft)}))))}if(/\bgave\b/i.test(l)){const ut=W??C;if(!ut)return;const bt=h.targetIndex??X?.index??(ht&&!st?h.sourceIndex:void 0),It=Pn(u,{preferredSide:X?.side??(ht&&!st?ja(h.sourcePet?.parent?.isOpponent):null)??Ct,explicitIndex:bt,expectedName:Ke,preferNonEmpty:!0});return void(It&&(rs(It.value,ut),y.push({side:It.side,slot:It.slot,action:"added",equipmentName:ut,equipmentIconSrc:It.value.equipmentIconSrc??js(ut)})))}if(/\bgained\b/i.test(l)||/\bwith\b/i.test(l)){const ut=z??pe??C;if(!ut)return;const bt=Pn(u,{preferredSide:Me,explicitIndex:h.sourceIndex??h.targetIndex,expectedName:xe,preferNonEmpty:!0});bt&&(rs(bt.value,ut),y.push({side:bt.side,slot:bt.slot,action:"added",equipmentName:ut,equipmentIconSrc:bt.value.equipmentIconSrc??js(ut)}))}}(u,h,l,y.equipmentChanges),function c1(u,h,l){if(!/\b(?:summoned|spawned)\b/i.test(l))return;const y=os(h),E=Sl(l),C=function Zv(u){return/\b(?:summoned|spawned)\b([\s\S]*)$/i.exec(u)?.[1]??""}(l),I=function em(u,h){const l=Ts(u,Jc);if(l.length>0){const y=dn(h);return l.find(C=>dn(C)!==y)??l[0]??null}return null}(C,E);if(!I)return;const W=function n1(u,h){return/\b(?:for|on)\s+(?:the\s+)?(?:enemy|opponent)\b/i.test(u)?"player"===h?"opponent":"player":/\bfor\s+(?:the\s+)?player\b/i.test(u)?"player":h}(l,y),X=function lp(u,h){const l=sa(u,h.side);if(null!=h.targetIndex)return Bn(h.targetIndex-1);if(h.side===h.sourceSide&&null!=h.sourceIndex){const C=Bn(h.sourceIndex-1);if(l[C]?.isEmpty)return C}const y=bo(l,h.summonedPetName);if(-1!==y)return y;const E=l.findIndex(C=>C.isEmpty);return-1!==E?E:null}(u,{side:W,sourceSide:y,sourceIndex:h.sourceIndex,targetIndex:h.targetIndex,summonedPetName:I});if(null==X)return;const z=Qc(u,W,X);ma(z,I),z.pendingRemoval=!1,z.attack=null,z.health=null,z.exp=null,z.mana=null,Vs(z);const pe=function up(u){const h=cp.exec(u);return{attack:null!=h?.[1]?Number(h[1]):null,health:null!=h?.[2]?Number(h[2]):null,exp:null!=h?.[3]?Number(h[3]):null,mana:null!=h?.[4]?Number(h[4]):null}}(C);null!=pe.attack&&(z.attack=pe.attack),null!=pe.health&&(z.health=pe.health),null!=pe.exp&&(z.exp=pe.exp),null!=pe.mana&&(z.mana=pe.mana);const Me=pp(C,"with")??Ts(C,yo)[0]??null;Me&&rs(z,Me)}(u,h,l),function im(u,h,l,y){const E=/(.+?)\s+broke!/i.exec(l);if(!E)return;const C=E[1],I=os(h),W=u.playerToyName&&C.toLowerCase().includes(u.playerToyName.toLowerCase()),X=u.playerHardToyName&&C.toLowerCase().includes(u.playerHardToyName.toLowerCase()),z=u.opponentToyName&&C.toLowerCase().includes(u.opponentToyName.toLowerCase()),pe=u.opponentHardToyName&&C.toLowerCase().includes(u.opponentHardToyName.toLowerCase());"player"===I?W?(y.push({side:"player",action:"removed",toyName:u.playerToyName,isHardToy:!1}),u.playerToyName=null):X?(y.push({side:"player",action:"removed",toyName:u.playerHardToyName,isHardToy:!0}),u.playerHardToyName=null):z?(y.push({side:"opponent",action:"removed",toyName:u.opponentToyName,isHardToy:!1}),u.opponentToyName=null):pe&&(y.push({side:"opponent",action:"removed",toyName:u.opponentHardToyName,isHardToy:!0}),u.opponentHardToyName=null):z?(y.push({side:"opponent",action:"removed",toyName:u.opponentToyName,isHardToy:!1}),u.opponentToyName=null):pe?(y.push({side:"opponent",action:"removed",toyName:u.opponentHardToyName,isHardToy:!0}),u.opponentHardToyName=null):W?(y.push({side:"player",action:"removed",toyName:u.playerToyName,isHardToy:!1}),u.playerToyName=null):X&&(y.push({side:"player",action:"removed",toyName:u.playerHardToyName,isHardToy:!0}),u.playerHardToyName=null)}(u,h,l,y.toyChanges),y}return"trumpets"===h.type?(function au(u,h,l,y){const E=function qS(u){const h=/\bgave\s+opponent\s+([+-]?\d+)\s+trumpets?\b/i.exec(u);if(h){const E=dp(h[1]);return null==E||0===E?null:{delta:Math.abs(E),appliesToOpponent:!0}}const l=/\bgained\s+([+-]?\d+)\s+trumpets?\b/i.exec(u);if(l){const E=dp(l[1]);return null==E||0===E?null:{delta:E,appliesToOpponent:!1}}const y=/\bspent\s+([+-]?\d+)\s+trumpets?\b/i.exec(u);if(y){const E=dp(y[1]);return null==E||0===E?null:{delta:-Math.abs(E),appliesToOpponent:!1}}return null}(l);if(!E)return;const C=os(h),I=Sl(l),W=Pn(u,{preferredSide:C,explicitIndex:h.sourceIndex,expectedName:I,preferNonEmpty:!0});W&&I&&ma(W.value,I);const X=E.appliesToOpponent?function GS(u){return"player"===u?"opponent":"player"}(W?.side??C):W?.side??C,z=function zv(u,h,l,y){if(null!=l)return Bn(l);if(null!=y&&Number.isFinite(y))return Bn(y-1);const C=sa(u,h).findIndex(I=>!I.isEmpty);return-1===C?0:C}(u,X,E.appliesToOpponent?null:W?.slot??null,E.appliesToOpponent?h.targetIndex:h.sourceIndex);y.push({side:X,slot:z,type:"trumpets",delta:E.delta})}(u,h,l,y.popups),y):("move"===h.type&&/\bmoved\b/i.test(l)&&(function ki(u){Po(u,"player"),Po(u,"opponent")}(u),y.shifts.push(...eu(u,"player")),y.shifts.push(...eu(u,"opponent"))),y)}function hp(u,h,l,y,E,C){if(null==C)return;const I="attack"===E?u.attack:"health"===E?u.health:"exp"===E?u.exp:u.mana;"attack"===E?u.attack=C:"health"===E?u.health=C:"exp"===E?u.exp=C:u.mana=C,tm(h,l,y,E,null!=I?C-I:0)}function gp(u,h,l,y,E,C){if(0===C)return;const I="attack"===E?u.attack??0:"health"===E?u.health??0:"exp"===E?u.exp??0:u.mana??0,W=Math.max(0,I+C);"attack"===E?u.attack=W:"health"===E?u.health=W:"exp"===E?u.exp=W:u.mana=W,tm(h,l,y,E,W-I)}function tm(u,h,l,y,E){!Number.isFinite(E)||0===E||u.push({side:h,slot:l,type:y,delta:E})}function ty(u){return u?Ts(u,yo)[0]??null:null}const iy={board:180,attack:360,death:220,ability:260,equipment:260,move:230,trumpets:240};function ay(u){let h=iy[u.type]??260;return u.randomEvent&&(h+=55),u.impact&&(h+=u.impact.isSnipe?42:72),u.death&&(h+=48),u.popups.length>0&&(h+=Math.min(140,18*u.popups.length)),u.shifts.length>0&&(h+=Math.min(95,24*u.shifts.length)),u.equipmentChanges.length>0&&(h+=Math.min(75,16*u.equipmentChanges.length)),u.toyChanges.length>0&&(h+=Math.min(80,22*u.toyChanges.length)),"ability"===u.type&&0===u.popups.length&&0===u.equipmentChanges.length&&0===u.toyChanges.length&&!u.impact&&!u.death&&(h-=30),Math.max(120,h)}const f1=[],E1=new Set(Object.values(Ga.U).flat().filter(Boolean).map(u=>Xs(u)));function S1(u){zs(u,!1);const h=!1!==u.formGroup.get("showPositionalArgsInLogs")?.value;u.fightAnimationFrames=function g1(u,h={}){if(!Array.isArray(u)||0===u.length)return[];const l=!1!==h.includePositionPrefix,y=!1!==h.includeBoardFrames;let E=null;const C=[];return u.forEach((I,W)=>{if(!I)return;if("board"===I.type){const Me=function m1(u){if(!u||!u.includes("|"))return null;const[h,l]=u.split("|");if(null==h||null==l)return null;const y=Jv(h,"player"),E=Jv(l,"opponent");return y&&E?{playerSlots:y.slots,opponentSlots:E.slots,playerToyName:y.toyName,playerHardToyName:y.hardToyName,opponentToyName:E.toyName,opponentHardToyName:E.hardToyName}:null}(I.message??"");Me&&(E=Me)}if(!E||"board"===I.type&&!y)return;const X=Hc(I);if(!X)return;const z="board"!==I.type?PM(E,I,X):{impact:null,popups:[],death:null,shifts:[],equipmentChanges:[],toyChanges:[]},pe=l?function tu(u,h){const l=Xg(u);if(/\b[PO][1-5]\b/.test(l))return l;const y=ra(os(h),h.sourceIndex),I=ra(Vv(h)??("attack"===h.type?"player"===os(h)?"opponent":"player":null),h.targetIndex);return y&&I?`[${y}->${I}] ${l}`:y?`[${y}] ${l}`:I?`[->${I}] ${l}`:l}(X,I):Xg(X);C.push({index:C.length,logIndex:W,type:I.type,text:pe,randomEvent:!0===I.randomEvent,impact:z.impact,popups:z.popups,death:z.death,shifts:z.shifts,equipmentChanges:z.equipmentChanges,toyChanges:z.toyChanges,playerSlots:Zc(E.playerSlots),opponentSlots:Zc(E.opponentSlots),playerToyName:E.playerToyName,playerHardToyName:E.playerHardToyName,opponentToyName:E.opponentToyName,opponentHardToyName:E.opponentHardToyName})}),C}(u.viewBattleLogs,{includePositionPrefix:h,includeBoardFrames:!1}),u.fightAnimationTimeline=function d1(u){if(!Array.isArray(u)||0===u.length)return{steps:[],totalDurationMs:0};const h=function ny(u){return u.map((h,l)=>{const y=function h1(u){const h=new Set;u.impact&&(h.add(u.impact.attackerSide),h.add(u.impact.targetSide)),u.death&&h.add(u.death.side);for(const l of u.popups)h.add(l.side);for(const l of u.shifts)h.add(l.side);for(const l of u.equipmentChanges)h.add(l.side);for(const l of u.toyChanges)h.add(l.side);return 0===h.size&&h.add("global"),Array.from(h)}(h),E=function mp(u,h){return"attack"===u.type||"death"===u.type?"block":"move"===u.type?u.shifts.length>0?"block":"overlap":"board"===u.type?"overlap":new Set(h.filter(y=>"global"!==y)).size>1?"block":"overlap"}(h,y);return{frameIndex:l,mode:E,lanes:y,durationMs:ay(h)}})}(u),l={global:0,player:0,opponent:0},y=[];for(const E of h){const I=Math.max(0,...("block"===E.mode?["global","player","opponent"]:E.lanes).map(z=>l[z]??0)),W=I+E.durationMs,X="block"===E.mode?["global","player","opponent"]:E.lanes;for(const z of X)l[z]=W;y.push({frameIndex:E.frameIndex,startAtMs:I,endAtMs:W,durationMs:E.durationMs,mode:E.mode,lanes:E.lanes})}return{steps:y,totalDurationMs:Math.max(0,...y.map(E=>E.endAtMs))}}(u.fightAnimationFrames),u.fightAnimationFrameIndex=u.fightAnimationFrames.length>0?0:-1,u.markForCheck()}function _p(u){u.fightAnimationTimer&&(clearTimeout(u.fightAnimationTimer),u.fightAnimationTimer=null)}function zs(u,h=!0){u.fightAnimationPlaying=!1,_p(u),h&&u.markForCheck()}function fp(u){if(_p(u),!u.fightAnimationPlaying)return;const h=function F1(u){const h=ls(u),l=B1(u.fightAnimationSpeed);let E=function p1(u,h){if(!u||h<0||h>=u.steps.length)return null;const l=u.steps[h],y=u.steps[h+1];return l?y?Math.max(90,y.startAtMs-l.startAtMs):l.durationMs:null}(u.fightAnimationTimeline,u.fightAnimationFrameIndex)??function kM(u){if(!u)return 680;let h=480;return"board"===u.type?h=240:"attack"===u.type?h=580:"death"===u.type?h=420:"ability"===u.type||"equipment"===u.type?h=620:"move"===u.type&&(h=560),u.randomEvent&&(h+=90),u.impact&&(h=Math.max(h,560)),u.popups.length>0&&(h=Math.max(h,520)),u.death&&(h=Math.max(h,390)),h}(h);return"attack"===h?.type&&h.impact&&!h.impact.isSnipe?E=Math.round(.9*E):"death"===h?.type?E=Math.round(.74*E):"ability"===h?.type&&h.popups.length>=3&&0===h.equipmentChanges.length&&(E=Math.round(.92*E)),Math.max(90,Math.round(E/l*2))}(u);u.fightAnimationTimer=setTimeout(()=>{u.fightAnimationTimer=null,function ry(u){if(!u.fightAnimationPlaying||0===u.fightAnimationFrames.length)return void zs(u,!1);const h=u.fightAnimationFrames.length-1;if(u.fightAnimationFrameIndex>=h)zs(u);else{if(u.fightAnimationFrameIndex+=1,ls(u),u.fightAnimationFrameIndex>=h)return function cy(u){const h=u.viewBattle?.winner;"player"!==h?"opponent"!==h?"draw"===h&&ru("assets/sounds/pets/TallyDraw-sharedassets1.assets-3577.ogg"):ru("assets/sounds/pets/TallyDefeat-sharedassets1.assets-3836.ogg"):ru("assets/sounds/pets/TallyVictory-sharedassets1.assets-3517.ogg")}(u),void zs(u);u.markForCheck(),fp(u)}}(u)},h)}function ls(u){return u.fightAnimationFrameIndex<0||u.fightAnimationFrameIndex>=u.fightAnimationFrames.length?null:u.fightAnimationFrames[u.fightAnimationFrameIndex]??null}function _a(u){return{equipmentName:u.equipmentName,equipmentIconSrc:u.equipmentIconSrc}}function Ys(u,h){return`${u}:${h}`}function R1(u){return!!u&&E1.has(Xs(u))}function am(u){const h=Xs(u.equipmentName);if(h)return`name:${h}`;const l=Xs(u.equipmentIconSrc);return l?`icon:${l}`:null}function su(u,h,l,y){const E=Math.min(h.length,l.length);for(let C=0;C<E;C+=1){const I=h[C],W=l[C];!I||!W||y(I,W)&&u.add(Ys(I.side,I.slot))}}function ly(u,h){const l=Xs(u.petName),y=Xs(h.petName);return l||y?l!==y:Xs(u.petIconSrc)!==Xs(h.petIconSrc)}function Xs(u){return(u??"").trim().toLowerCase()}function B1(u){return.5===u||1===u||1.5===u||2===u?u:1}function ru(u){if(Kh()||typeof Audio>"u")return;const h=$h();if(!(h<=0))try{const l=new Audio(u);l.volume=h;const y=l.play();y&&"function"==typeof y.catch&&y.catch(()=>{})}catch{}}var vp=i(15082);const uy=(0,Mt.bf)(),dy=(0,Mt.Eo)(),py=(0,Mt.oI)(),sm=(0,vp.Fq)(uy,dy,py),hy=(0,vp.IF)(uy,dy,py),gy=new Set(Object.values(Ga.U).flat().filter(Boolean));function rm(u){return ep((0,vp.N7)(u??"",hy,sm,gy))}function om(u,h){const l=Ao(h),y=u.randomDecisionSelectionByFingerprint[l]??h.selectedOptionId??h.options[0]?.id??"";return h.options.some(E=>E.id===y)?y:h.selectedOptionId??h.options[0]?.id??""}function ou(u,h,l){u.runSimulation(1,{logsEnabled:!0,simulationCount:1,maxLoggedBattles:1,captureRandomDecisions:!0,randomDecisionOverrides:h,strictRandomOverrideValidation:l})}function $1(u){const h=[];for(const l of u.randomDecisions){const y=om(u,l);y&&h.push({index:l.index,optionId:y,key:l.key,label:l.label})}return h}function Ao(u){return`${u.key}::${u.label}`}function lu(u,h,l){const y=new Map(Object.entries(u.randomDecisionSelectionByFingerprint));for(const C of l){const I=Ao(C),W=y.get(I)??C.selectedOptionId??null;W&&y.set(I,W)}const E={};for(const C of h){const I=Ao(C),W=y.get(I),X=C.selectedOptionId??C.options[0]?.id??"",z=W??X;C.options.some(pe=>pe.id===z)?E[I]=z:X&&(E[I]=X)}u.randomDecisionSelectionByFingerprint=E}function lm(u,h,l){const y=[0,1,2,3,4],E=z=>new ue.gE({name:new ue.MJ(z?.name),attack:new ue.MJ(z?.attack??0),health:new ue.MJ(z?.health??0),exp:new ue.MJ(z?.exp??0),equipment:new ue.MJ(z?.equipment?.name??null),equipmentUses:new ue.MJ(z?.equipment?.uses??null),belugaSwallowedPet:new ue.MJ(z?.belugaSwallowedPet),parrotCopyPet:new ue.MJ(z?.parrotCopyPet??null),parrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3TimesHurt??0),parrotCopyPetAbominationSwallowedPet1ParrotCopyPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),sarcasticFringeheadSwallowedPet:new ue.MJ,mana:new ue.MJ(z?.mana??0),triggersConsumed:new ue.MJ(z?.triggersConsumed??0),foodsEaten:new ue.MJ(z?.foodsEaten??0),abominationSwallowedPet1:new ue.MJ(z?.abominationSwallowedPet1),abominationSwallowedPet2:new ue.MJ(z?.abominationSwallowedPet2),abominationSwallowedPet3:new ue.MJ(z?.abominationSwallowedPet3),abominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet1SarcasticFringeheadSwallowedPet:new ue.MJ(z?.abominationSwallowedPet1SarcasticFringeheadSwallowedPet??null),abominationSwallowedPet2SarcasticFringeheadSwallowedPet:new ue.MJ(z?.abominationSwallowedPet2SarcasticFringeheadSwallowedPet??null),abominationSwallowedPet3SarcasticFringeheadSwallowedPet:new ue.MJ(z?.abominationSwallowedPet3SarcasticFringeheadSwallowedPet??null),abominationSwallowedPet1ParrotCopyPet:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPet??null),abominationSwallowedPet2ParrotCopyPet:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPet??null),abominationSwallowedPet3ParrotCopyPet:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPet??null),abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level??1),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level??1),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level??1),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level??1),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level??1),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level??1),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level??1),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level??1),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level??1),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),abominationSwallowedPet1Level:new ue.MJ(z?.abominationSwallowedPet1Level??1),abominationSwallowedPet2Level:new ue.MJ(z?.abominationSwallowedPet2Level??1),abominationSwallowedPet3Level:new ue.MJ(z?.abominationSwallowedPet3Level??1),abominationSwallowedPet1TimesHurt:new ue.MJ(z?.abominationSwallowedPet1TimesHurt??0),abominationSwallowedPet2TimesHurt:new ue.MJ(z?.abominationSwallowedPet2TimesHurt??0),abominationSwallowedPet3TimesHurt:new ue.MJ(z?.abominationSwallowedPet3TimesHurt??0),friendsDiedBeforeBattle:new ue.MJ(z?.friendsDiedBeforeBattle??0),battlesFought:new ue.MJ(z?.battlesFought??0),timesHurt:new ue.MJ(z?.timesHurt??0)}),C=y.map(z=>E(h.getPet(z))),I=u.get("playerPets");I.clear();for(const z of C)I.push(z);const W=y.map(z=>E(l.getPet(z))),X=u.get("opponentPets");X.clear();for(const z of W)X.push(z)}const wa=["Nessie","Bunyip","Mana Hound","Ammonite","Fossa","Hippocampus","Platybelodon","Barnacle","Olm"];var yp=i(74766),vy=i.t(yp,2);const Eo={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"};let Js=null;function um(u){return u}function G1(u,h){return h?.id??String(u)}function H1(u,h){return h?.value??String(u)}function Py(u){u.formGroup.get("playerPack").setValue(u.formGroup.get("playerPack").value,{emitEvent:!1}),u.formGroup.get("opponentPack").setValue(u.formGroup.get("opponentPack").value,{emitEvent:!1})}function dm(u){return u}function Ki(u,h){for(let l=0;l<5;l++){const y=u.petService.getRandomPet(h);y.equipment=Y1(u,h),h.setPet(l,y,!0)}}function pm(u,h){const l=function Sy(u){const h=u.toyService.getToysByType(0),l=[];if(h.forEach(E=>{E.forEach(C=>{C&&l.push(C)})}),l.push(null),!l.length)return null;const y=Math.floor(Math.random()*l.length);return l[y]}(u),E=h===u.player?"playerToy":"opponentToy";if(!l)return u.formGroup.get(E).setValue(null),h.toy=null,h.originalToy=null,void du(u,h,null);u.formGroup.get(E).setValue(l),Va(u,h,l)}function uu(u,h,l,y=!0){h.pack=l;const E=u.formGroup.get("allPets").value;let C;switch(y&&!E&&hm(u,h),l){case"Turtle":C=u.petService.turtlePackPets;break;case"Puppy":C=u.petService.puppyPackPets;break;case"Star":C=u.petService.starPackPets;break;case"Golden":C=u.petService.goldenPackPets;break;case"Unicorn":C=u.petService.unicornPackPets;break;case"Danger":C=u.petService.dangerPackPets;break;default:C=u.petService.playerCustomPackPets.get(l),C||(u.formGroup.get("allPets").setValue(!0,{emitEvent:!1}),C=u.petService.allPets)}h==u.player?u.gameService.setTierGroupPets(C,null):u.gameService.setTierGroupPets(null,C),u.formGroup.get("allPets")}function Va(u,h,l){if(!l)return h.toy=null,h.originalToy=null,void du(u,h,null);let y;h==u.player&&(y="playerToyLevel"),h==u.opponent&&(y="opponentToyLevel");const E=Number(u.formGroup.get(y).value);h.toy=u.toyService.createToy(l,h,E),h.originalToy=h.toy,du(u,h,l)}function hm(u,h){u.formGroup.get(h===u.player?"playerToy":"opponentToy").setValue(null),h.toy=null,h.originalToy=null,du(u,h,null)}function du(u,h,l){const y=u.toyService.getToyNameId(l),E=y?`${cS}${y}.png`:"";h==u.player?u.playerToyImageUrl=E:h==u.opponent&&(u.opponentToyImageUrl=E)}function bp(u,h,l){const y=u.toyService.getToyNameId(l),E=y?`${cS}${y}.png`:"";h==u.player?u.playerHardToyImageUrl=E:h==u.opponent&&(u.opponentHardToyImageUrl=E)}function Ay(u,h){let l=1;h>2&&(l=2),h>4&&(l=3),h>6&&(l=4),h>8&&(l=5),h>10&&(l=6),u.gameService.setPreviousShopTier(l),u.gameService.setTurnNumber(h)}function Ey(u,h,l){u.gameService.setGoldSpent(h,l)}function gm(u,h,l){h.toy&&(h.toy.level=l)}function Y1(u,h){const l=Array.from(u.equipmentService.getInstanceOfAllEquipment().values()).filter(z=>"Corncob"!==z?.name),y=u.formGroup?.get("allPets")?.value;let E=l;if(!y){const pe=function yy(u){return u?(Js||(Js=function cm(){const u=new Map,h=yp??vy??[];for(const l of h){const y=l?.Name;if(!y)continue;const E=new Set,C=l?.Packs??[];for(const W of C)W&&E.add(String(W).trim());if(!(E.has("Custom")||E.has("MiniPack1")||E.has("MiniPack2")||E.has("MiniPack3")))for(const W of l?.PacksRequired??[])W&&E.add(String(W).trim());for(const W of E){const X=Eo[W];X&&(u.has(X)||u.set(X,new Set),u.get(X)?.add(y))}}return u}()),Js.get(u)??null):null}(h?.pack??u.player?.pack??null);pe&&pe.size>0&&(E=l.filter(Me=>pe.has(Me?.name)))}const I=u.formGroup?.get("ailmentEquipment")?.value?Array.from(u.equipmentService.getInstanceOfAllAilments().values()):[],W=E.concat(I);return 0===W.length?null:W[Math.floor(Math.random()*W.length)]}function X1(u){return(0,Mt.bG)(u)??""}function Dy(u){return u.savedTeams.find(h=>h.id===u.selectedTeamId)}function q1(u){return u?{"background-image":`url(${(0,Mt.bG)(u)})`,"background-repeat":"no-repeat","background-size":"20px 20px","background-position":"left center","padding-left":"2rem"}:{}}var oa="top",Oa="bottom",Ia="right",la="left",Pp="auto",Ml=[oa,Oa,Ia,la],So="start",Cl="end",My="clippingParents",mm="viewport",kl="popper",Cy="reference",_m=Ml.reduce(function(u,h){return u.concat([h+"-"+So,h+"-"+Cl])},[]),fm=[].concat(Ml,[Pp]).reduce(function(u,h){return u.concat([h,h+"-"+So,h+"-"+Cl])},[]),ky="beforeRead",wy="read",vm="afterRead",Ap="beforeMain",Oy="main",Iy="afterMain",Ry="beforeWrite",Ly="write",Dr="afterWrite",pu=[ky,wy,vm,Ap,Oy,Iy,Ry,Ly,Dr];function Qs(u){return u?(u.nodeName||"").toLowerCase():null}function za(u){if(null==u)return window;if("[object Window]"!==u.toString()){var h=u.ownerDocument;return h&&h.defaultView||window}return u}function To(u){return u instanceof za(u).Element||u instanceof Element}function fa(u){return u instanceof za(u).HTMLElement||u instanceof HTMLElement}function ym(u){return!(typeof ShadowRoot>"u")&&(u instanceof za(u).ShadowRoot||u instanceof ShadowRoot)}const Mr={name:"applyStyles",enabled:!0,phase:"write",fn:function wl(u){var h=u.state;Object.keys(h.elements).forEach(function(l){var y=h.styles[l]||{},E=h.attributes[l]||{},C=h.elements[l];!fa(C)||!Qs(C)||(Object.assign(C.style,y),Object.keys(E).forEach(function(I){var W=E[I];!1===W?C.removeAttribute(I):C.setAttribute(I,!0===W?"":W)}))})},effect:function Do(u){var h=u.state,l={popper:{position:h.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(h.elements.popper.style,l.popper),h.styles=l,h.elements.arrow&&Object.assign(h.elements.arrow.style,l.arrow),function(){Object.keys(h.elements).forEach(function(y){var E=h.elements[y],C=h.attributes[y]||{},W=Object.keys(h.styles.hasOwnProperty(y)?h.styles[y]:l[y]).reduce(function(X,z){return X[z]="",X},{});!fa(E)||!Qs(E)||(Object.assign(E.style,W),Object.keys(C).forEach(function(X){E.removeAttribute(X)}))})}},requires:["computeStyles"]};function Ya(u){return u.split("-")[0]}var Ds=Math.max,hu=Math.min,qs=Math.round;function Zs(){var u=navigator.userAgentData;return null!=u&&u.brands&&Array.isArray(u.brands)?u.brands.map(function(h){return h.brand+"/"+h.version}).join(" "):navigator.userAgent}function bm(){return!/^((?!chrome|android).)*safari/i.test(Zs())}function Ol(u,h,l){void 0===h&&(h=!1),void 0===l&&(l=!1);var y=u.getBoundingClientRect(),E=1,C=1;h&&fa(u)&&(E=u.offsetWidth>0&&qs(y.width)/u.offsetWidth||1,C=u.offsetHeight>0&&qs(y.height)/u.offsetHeight||1);var W=(To(u)?za(u):window).visualViewport,X=!bm()&&l,z=(y.left+(X&&W?W.offsetLeft:0))/E,pe=(y.top+(X&&W?W.offsetTop:0))/C,Me=y.width/E,xe=y.height/C;return{width:Me,height:xe,top:pe,right:z+Me,bottom:pe+xe,left:z,x:z,y:pe}}function Pm(u){var h=Ol(u),l=u.offsetWidth,y=u.offsetHeight;return Math.abs(h.width-l)<=1&&(l=h.width),Math.abs(h.height-y)<=1&&(y=h.height),{x:u.offsetLeft,y:u.offsetTop,width:l,height:y}}function Am(u,h){var l=h.getRootNode&&h.getRootNode();if(u.contains(h))return!0;if(l&&ym(l)){var y=h;do{if(y&&u.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function Xa(u){return za(u).getComputedStyle(u)}function Em(u){return["table","td","th"].indexOf(Qs(u))>=0}function Ms(u){return((To(u)?u.ownerDocument:u.document)||window.document).documentElement}function Mo(u){return"html"===Qs(u)?u:u.assignedSlot||u.parentNode||(ym(u)?u.host:null)||Ms(u)}function gu(u){return fa(u)&&"fixed"!==Xa(u).position?u.offsetParent:null}function mu(u){for(var h=za(u),l=gu(u);l&&Em(l)&&"static"===Xa(l).position;)l=gu(l);return l&&("html"===Qs(l)||"body"===Qs(l)&&"static"===Xa(l).position)?h:l||function Z1(u){var h=/firefox/i.test(Zs());if(/Trident/i.test(Zs())&&fa(u)&&"fixed"===Xa(u).position)return null;var E=Mo(u);for(ym(E)&&(E=E.host);fa(E)&&["html","body"].indexOf(Qs(E))<0;){var C=Xa(E);if("none"!==C.transform||"none"!==C.perspective||"paint"===C.contain||-1!==["transform","perspective"].indexOf(C.willChange)||h&&"filter"===C.willChange||h&&C.filter&&"none"!==C.filter)return E;E=E.parentNode}return null}(u)||h}function Il(u){return["top","bottom"].indexOf(u)>=0?"x":"y"}function _u(u,h,l){return Ds(u,hu(h,l))}function By(u){return Object.assign({},{top:0,right:0,bottom:0,left:0},u)}function Sp(u,h){return h.reduce(function(l,y){return l[y]=u,l},{})}const Fy={name:"arrow",enabled:!0,phase:"main",fn:function tT(u){var h,l=u.state,y=u.name,E=u.options,C=l.elements.arrow,I=l.modifiersData.popperOffsets,W=Ya(l.placement),X=Il(W),pe=[la,Ia].indexOf(W)>=0?"height":"width";if(C&&I){var Me=function(h,l){return By("number"!=typeof(h="function"==typeof h?h(Object.assign({},l.rects,{placement:l.placement})):h)?h:Sp(h,Ml))}(E.padding,l),xe=Pm(C),Ke="y"===X?oa:la,_t="y"===X?Oa:Ia,ht=l.rects.reference[pe]+l.rects.reference[X]-I[X]-l.rects.popper[pe],st=I[X]-l.rects.reference[X],Ct=mu(C),ut=Ct?"y"===X?Ct.clientHeight||0:Ct.clientWidth||0:0,ai=ut/2-xe[pe]/2+(ht/2-st/2),ui=_u(Me[Ke],ai,ut-xe[pe]-Me[_t]);l.modifiersData[y]=((h={})[X]=ui,h.centerOffset=ui-ai,h)}},effect:function iT(u){var h=u.state,y=u.options.element,E=void 0===y?"[data-popper-arrow]":y;null!=E&&("string"==typeof E&&!(E=h.elements.popper.querySelector(E))||Am(h.elements.popper,E)&&(h.elements.arrow=E))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fu(u){return u.split("-")[1]}var Ny={top:"auto",right:"auto",bottom:"auto",left:"auto"};function aT(u){var h,l=u.popper,y=u.popperRect,E=u.placement,C=u.variation,I=u.offsets,W=u.position,X=u.gpuAcceleration,z=u.adaptive,pe=u.roundOffsets,Me=u.isFixed,xe=I.x,Ke=void 0===xe?0:xe,_t=I.y,ht=void 0===_t?0:_t,st="function"==typeof pe?pe({x:Ke,y:ht}):{x:Ke,y:ht};Ke=st.x,ht=st.y;var Ct=I.hasOwnProperty("x"),ut=I.hasOwnProperty("y"),bt=la,ft=oa,It=window;if(z){var ai=mu(l),ui="clientHeight",Ut="clientWidth";ai===za(l)&&"static"!==Xa(ai=Ms(l)).position&&"absolute"===W&&(ui="scrollHeight",Ut="scrollWidth"),(E===oa||(E===la||E===Ia)&&C===Cl)&&(ft=Oa,ht-=(Me&&ai===It&&It.visualViewport?It.visualViewport.height:ai[ui])-y.height,ht*=X?1:-1),E!==la&&(E!==oa&&E!==Oa||C!==Cl)||(bt=Ia,Ke-=(Me&&ai===It&&It.visualViewport?It.visualViewport.width:ai[Ut])-y.width,Ke*=X?1:-1)}var Fn,An=Object.assign({position:W},z&&Ny),Aa=!0===pe?function nT(u,h){var y=u.y,E=h.devicePixelRatio||1;return{x:qs(u.x*E)/E||0,y:qs(y*E)/E||0}}({x:Ke,y:ht},za(l)):{x:Ke,y:ht};return Ke=Aa.x,ht=Aa.y,Object.assign({},An,X?((Fn={})[ft]=ut?"0":"",Fn[bt]=Ct?"0":"",Fn.transform=(It.devicePixelRatio||1)<=1?"translate("+Ke+"px, "+ht+"px)":"translate3d("+Ke+"px, "+ht+"px, 0)",Fn):((h={})[ft]=ut?ht+"px":"",h[bt]=Ct?Ke+"px":"",h.transform="",h))}const Sm={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function sT(u){var h=u.state,l=u.options,y=l.gpuAcceleration,E=void 0===y||y,C=l.adaptive,I=void 0===C||C,W=l.roundOffsets,X=void 0===W||W,z={placement:Ya(h.placement),variation:fu(h.placement),popper:h.elements.popper,popperRect:h.rects.popper,gpuAcceleration:E,isFixed:"fixed"===h.options.strategy};null!=h.modifiersData.popperOffsets&&(h.styles.popper=Object.assign({},h.styles.popper,aT(Object.assign({},z,{offsets:h.modifiersData.popperOffsets,position:h.options.strategy,adaptive:I,roundOffsets:X})))),null!=h.modifiersData.arrow&&(h.styles.arrow=Object.assign({},h.styles.arrow,aT(Object.assign({},z,{offsets:h.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:X})))),h.attributes.popper=Object.assign({},h.attributes.popper,{"data-popper-placement":h.placement})},data:{}};var Tp={passive:!0};const Tm={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Uy(u){var h=u.state,l=u.instance,y=u.options,E=y.scroll,C=void 0===E||E,I=y.resize,W=void 0===I||I,X=za(h.elements.popper),z=[].concat(h.scrollParents.reference,h.scrollParents.popper);return C&&z.forEach(function(pe){pe.addEventListener("scroll",l.update,Tp)}),W&&X.addEventListener("resize",l.update,Tp),function(){C&&z.forEach(function(pe){pe.removeEventListener("scroll",l.update,Tp)}),W&&X.removeEventListener("resize",l.update,Tp)}},data:{}};var Wy={left:"right",right:"left",bottom:"top",top:"bottom"};function Dp(u){return u.replace(/left|right|bottom|top/g,function(h){return Wy[h]})}var Ky={start:"end",end:"start"};function Dm(u){return u.replace(/start|end/g,function(h){return Ky[h]})}function Mm(u){var h=za(u);return{scrollLeft:h.pageXOffset,scrollTop:h.pageYOffset}}function Cm(u){return Ol(Ms(u)).left+Mm(u).scrollLeft}function km(u){var h=Xa(u);return/auto|scroll|overlay|hidden/.test(h.overflow+h.overflowY+h.overflowX)}function $y(u){return["html","body","#document"].indexOf(Qs(u))>=0?u.ownerDocument.body:fa(u)&&km(u)?u:$y(Mo(u))}function Rl(u,h){var l;void 0===h&&(h=[]);var y=$y(u),E=y===(null==(l=u.ownerDocument)?void 0:l.body),C=za(y),I=E?[C].concat(C.visualViewport||[],km(y)?y:[]):y,W=h.concat(I);return E?W:W.concat(Rl(Mo(I)))}function wm(u){return Object.assign({},u,{left:u.x,top:u.y,right:u.x+u.width,bottom:u.y+u.height})}function Mp(u,h,l){return h===mm?wm(function rT(u,h){var l=za(u),y=Ms(u),E=l.visualViewport,C=y.clientWidth,I=y.clientHeight,W=0,X=0;if(E){C=E.width,I=E.height;var z=bm();(z||!z&&"fixed"===h)&&(W=E.offsetLeft,X=E.offsetTop)}return{width:C,height:I,x:W+Cm(u),y:X}}(u,l)):To(h)?function lT(u,h){var l=Ol(u,!1,"fixed"===h);return l.top=l.top+u.clientTop,l.left=l.left+u.clientLeft,l.bottom=l.top+u.clientHeight,l.right=l.left+u.clientWidth,l.width=u.clientWidth,l.height=u.clientHeight,l.x=l.left,l.y=l.top,l}(h,l):wm(function oT(u){var h,l=Ms(u),y=Mm(u),E=null==(h=u.ownerDocument)?void 0:h.body,C=Ds(l.scrollWidth,l.clientWidth,E?E.scrollWidth:0,E?E.clientWidth:0),I=Ds(l.scrollHeight,l.clientHeight,E?E.scrollHeight:0,E?E.clientHeight:0),W=-y.scrollLeft+Cm(u),X=-y.scrollTop;return"rtl"===Xa(E||l).direction&&(W+=Ds(l.clientWidth,E?E.clientWidth:0)-C),{width:C,height:I,x:W,y:X}}(Ms(u)))}function Hy(u){var X,h=u.reference,l=u.element,y=u.placement,E=y?Ya(y):null,C=y?fu(y):null,I=h.x+h.width/2-l.width/2,W=h.y+h.height/2-l.height/2;switch(E){case oa:X={x:I,y:h.y-l.height};break;case Oa:X={x:I,y:h.y+h.height};break;case Ia:X={x:h.x+h.width,y:W};break;case la:X={x:h.x-l.width,y:W};break;default:X={x:h.x,y:h.y}}var z=E?Il(E):null;if(null!=z){var pe="y"===z?"height":"width";switch(C){case So:X[z]=X[z]-(h[pe]/2-l[pe]/2);break;case Cl:X[z]=X[z]+(h[pe]/2-l[pe]/2)}}return X}function Ll(u,h){void 0===h&&(h={});var y=h.placement,E=void 0===y?u.placement:y,C=h.strategy,I=void 0===C?u.strategy:C,W=h.boundary,X=void 0===W?My:W,z=h.rootBoundary,pe=void 0===z?mm:z,Me=h.elementContext,xe=void 0===Me?kl:Me,Ke=h.altBoundary,_t=void 0!==Ke&&Ke,ht=h.padding,st=void 0===ht?0:ht,Ct=By("number"!=typeof st?st:Sp(st,Ml)),bt=u.rects.popper,ft=u.elements[_t?xe===kl?Cy:kl:xe],It=function Gy(u,h,l,y){var E="clippingParents"===h?function Om(u){var h=Rl(Mo(u)),y=["absolute","fixed"].indexOf(Xa(u).position)>=0&&fa(u)?mu(u):u;return To(y)?h.filter(function(E){return To(E)&&Am(E,y)&&"body"!==Qs(E)}):[]}(u):[].concat(h),C=[].concat(E,[l]),W=C.reduce(function(X,z){var pe=Mp(u,z,y);return X.top=Ds(pe.top,X.top),X.right=hu(pe.right,X.right),X.bottom=hu(pe.bottom,X.bottom),X.left=Ds(pe.left,X.left),X},Mp(u,C[0],y));return W.width=W.right-W.left,W.height=W.bottom-W.top,W.x=W.left,W.y=W.top,W}(To(ft)?ft:ft.contextElement||Ms(u.elements.popper),X,pe,I),ai=Ol(u.elements.reference),ui=Hy({reference:ai,element:bt,strategy:"absolute",placement:E}),Ut=wm(Object.assign({},bt,ui)),Wt=xe===kl?Ut:ai,vi={top:It.top-Wt.top+Ct.top,bottom:Wt.bottom-It.bottom+Ct.bottom,left:It.left-Wt.left+Ct.left,right:Wt.right-It.right+Ct.right},An=u.modifiersData.offset;if(xe===kl&&An){var Aa=An[E];Object.keys(vi).forEach(function(Fn){var ii=[Ia,Oa].indexOf(Fn)>=0?1:-1,Ja=[oa,Oa].indexOf(Fn)>=0?"y":"x";vi[Fn]+=Aa[Ja]*ii})}return vi}const Im={name:"flip",enabled:!0,phase:"main",fn:function jy(u){var h=u.state,l=u.options,y=u.name;if(!h.modifiersData[y]._skip){for(var E=l.mainAxis,C=void 0===E||E,I=l.altAxis,W=void 0===I||I,X=l.fallbackPlacements,z=l.padding,pe=l.boundary,Me=l.rootBoundary,xe=l.altBoundary,Ke=l.flipVariations,_t=void 0===Ke||Ke,ht=l.allowedAutoPlacements,st=h.options.placement,Ct=Ya(st),bt=X||(Ct!==st&&_t?function uT(u){if(Ya(u)===Pp)return[];var h=Dp(u);return[Dm(u),h,Dm(h)]}(st):[Dp(st)]),ft=[st].concat(bt).reduce(function(ph,Xl){return ph.concat(Ya(Xl)===Pp?function cT(u,h){void 0===h&&(h={});var E=h.boundary,C=h.rootBoundary,I=h.padding,W=h.flipVariations,X=h.allowedAutoPlacements,z=void 0===X?fm:X,pe=fu(h.placement),Me=pe?W?_m:_m.filter(function(_t){return fu(_t)===pe}):Ml,xe=Me.filter(function(_t){return z.indexOf(_t)>=0});0===xe.length&&(xe=Me);var Ke=xe.reduce(function(_t,ht){return _t[ht]=Ll(u,{placement:ht,boundary:E,rootBoundary:C,padding:I})[Ya(ht)],_t},{});return Object.keys(Ke).sort(function(_t,ht){return Ke[_t]-Ke[ht]})}(h,{placement:Xl,boundary:pe,rootBoundary:Me,padding:z,flipVariations:_t,allowedAutoPlacements:ht}):Xl)},[]),It=h.rects.reference,ai=h.rects.popper,ui=new Map,Ut=!0,Wt=ft[0],vi=0;vi<ft.length;vi++){var An=ft[vi],Aa=Ya(An),Fn=fu(An)===So,ii=[oa,Oa].indexOf(Aa)>=0,Ja=ii?"width":"height",xa=Ll(h,{placement:An,boundary:pe,rootBoundary:Me,altBoundary:xe,padding:z}),us=ii?Fn?Ia:la:Fn?Oa:oa;It[Ja]>ai[Ja]&&(us=Dp(us));var Wo=Dp(us),Ko=[];if(C&&Ko.push(xa[Aa]<=0),W&&Ko.push(xa[us]<=0,xa[Wo]<=0),Ko.every(function(ph){return ph})){Wt=An,Ut=!1;break}ui.set(An,Ko)}if(Ut)for(var MD=function(Xl){var B_=ft.find(function(IP){var xu=ui.get(IP);if(xu)return xu.slice(0,Xl).every(function(CD){return CD})});if(B_)return Wt=B_,"break"},x_=_t?3:1;x_>0&&"break"!==MD(x_);x_--);h.placement!==Wt&&(h.modifiersData[y]._skip=!0,h.placement=Wt,h.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Vy(u,h,l){return void 0===l&&(l={x:0,y:0}),{top:u.top-h.height-l.y,right:u.right-h.width+l.x,bottom:u.bottom-h.height+l.y,left:u.left-h.width-l.x}}function zy(u){return[oa,Ia,Oa,la].some(function(h){return u[h]>=0})}const Yy={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function dT(u){var h=u.state,l=u.name,y=h.rects.reference,E=h.rects.popper,C=h.modifiersData.preventOverflow,I=Ll(h,{elementContext:"reference"}),W=Ll(h,{altBoundary:!0}),X=Vy(I,y),z=Vy(W,E,C),pe=zy(X),Me=zy(z);h.modifiersData[l]={referenceClippingOffsets:X,popperEscapeOffsets:z,isReferenceHidden:pe,hasPopperEscaped:Me},h.attributes.popper=Object.assign({},h.attributes.popper,{"data-popper-reference-hidden":pe,"data-popper-escaped":Me})}},Xy={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function hT(u){var h=u.state,y=u.name,E=u.options.offset,C=void 0===E?[0,0]:E,I=fm.reduce(function(pe,Me){return pe[Me]=function pT(u,h,l){var y=Ya(u),E=[la,oa].indexOf(y)>=0?-1:1,C="function"==typeof l?l(Object.assign({},h,{placement:u})):l,I=C[0],W=C[1];return I=I||0,W=(W||0)*E,[la,Ia].indexOf(y)>=0?{x:W,y:I}:{x:I,y:W}}(Me,h.rects,C),pe},{}),W=I[h.placement],z=W.y;null!=h.modifiersData.popperOffsets&&(h.modifiersData.popperOffsets.x+=W.x,h.modifiersData.popperOffsets.y+=z),h.modifiersData[y]=I}},xl={name:"popperOffsets",enabled:!0,phase:"read",fn:function Rm(u){var h=u.state;h.modifiersData[u.name]=Hy({reference:h.rects.reference,element:h.rects.popper,strategy:"absolute",placement:h.placement})},data:{}},Co={name:"preventOverflow",enabled:!0,phase:"main",fn:function Cp(u){var h=u.state,l=u.options,y=u.name,E=l.mainAxis,C=void 0===E||E,I=l.altAxis,W=void 0!==I&&I,xe=l.tether,Ke=void 0===xe||xe,_t=l.tetherOffset,ht=void 0===_t?0:_t,st=Ll(h,{boundary:l.boundary,rootBoundary:l.rootBoundary,padding:l.padding,altBoundary:l.altBoundary}),Ct=Ya(h.placement),ut=fu(h.placement),bt=!ut,ft=Il(Ct),It=function Lm(u){return"x"===u?"y":"x"}(ft),ai=h.modifiersData.popperOffsets,ui=h.rects.reference,Ut=h.rects.popper,Wt="function"==typeof ht?ht(Object.assign({},h.rects,{placement:h.placement})):ht,vi="number"==typeof Wt?{mainAxis:Wt,altAxis:Wt}:Object.assign({mainAxis:0,altAxis:0},Wt),An=h.modifiersData.offset?h.modifiersData.offset[h.placement]:null,Aa={x:0,y:0};if(ai){if(C){var Fn,ii="y"===ft?oa:la,Ja="y"===ft?Oa:Ia,xa="y"===ft?"height":"width",us=ai[ft],Wo=us+st[ii],Ko=us-st[Ja],wP=Ke?-Ut[xa]/2:0,MD=ut===So?ui[xa]:Ut[xa],x_=ut===So?-Ut[xa]:-ui[xa],OP=h.elements.arrow,ph=Ke&&OP?Pm(OP):{width:0,height:0},Xl=h.modifiersData["arrow#persistent"]?h.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B_=Xl[ii],IP=Xl[Ja],xu=_u(0,ui[xa],ph[xa]),CD=bt?ui[xa]/2-wP-xu-B_-vi.mainAxis:MD-xu-B_-vi.mainAxis,pk=bt?-ui[xa]/2+wP+xu+IP+vi.mainAxis:x_+xu+IP+vi.mainAxis,kD=h.elements.arrow&&mu(h.elements.arrow),hk=kD?"y"===ft?kD.clientTop||0:kD.clientLeft||0:0,dC=null!=(Fn=An?.[ft])?Fn:0,mk=us+pk-dC,pC=_u(Ke?hu(Wo,us+CD-dC-hk):Wo,us,Ke?Ds(Ko,mk):Ko);ai[ft]=pC,Aa[ft]=pC-us}if(W){var hC,Bu=ai[It],RP="y"===It?"height":"width",gC=Bu+st["x"===ft?oa:la],mC=Bu-st["x"===ft?Oa:Ia],wD=-1!==[oa,la].indexOf(Ct),_C=null!=(hC=An?.[It])?hC:0,fC=wD?gC:Bu-ui[RP]-Ut[RP]-_C+vi.altAxis,vC=wD?Bu+ui[RP]+Ut[RP]-_C-vi.altAxis:mC,yC=Ke&&wD?function Ep(u,h,l){var y=_u(u,h,l);return y>l?l:y}(fC,Bu,vC):_u(Ke?fC:gC,Bu,Ke?vC:mC);ai[It]=yC,Aa[It]=yC-Bu}h.modifiersData[y]=Aa}},requiresIfExists:["offset"]};function _T(u,h,l){void 0===l&&(l=!1);var y=fa(h),E=fa(h)&&function Jy(u){var h=u.getBoundingClientRect(),l=qs(h.width)/u.offsetWidth||1,y=qs(h.height)/u.offsetHeight||1;return 1!==l||1!==y}(h),C=Ms(h),I=Ol(u,E,l),W={scrollLeft:0,scrollTop:0},X={x:0,y:0};return(y||!y&&!l)&&(("body"!==Qs(h)||km(C))&&(W=function mT(u){return u!==za(u)&&fa(u)?function gT(u){return{scrollLeft:u.scrollLeft,scrollTop:u.scrollTop}}(u):Mm(u)}(h)),fa(h)?((X=Ol(h,!0)).x+=h.clientLeft,X.y+=h.clientTop):C&&(X.x=Cm(C))),{x:I.left+W.scrollLeft-X.x,y:I.top+W.scrollTop-X.y,width:I.width,height:I.height}}function xm(u){var h=new Map,l=new Set,y=[];function E(C){l.add(C.name),[].concat(C.requires||[],C.requiresIfExists||[]).forEach(function(W){if(!l.has(W)){var X=h.get(W);X&&E(X)}}),y.push(C)}return u.forEach(function(C){h.set(C.name,C)}),u.forEach(function(C){l.has(C.name)||E(C)}),y}function fT(u){var h;return function(){return h||(h=new Promise(function(l){Promise.resolve().then(function(){h=void 0,l(u())})})),h}}var Fm={placement:"bottom",modifiers:[],strategy:"absolute"};function Nm(){for(var u=arguments.length,h=new Array(u),l=0;l<u;l++)h[l]=arguments[l];return!h.some(function(y){return!(y&&"function"==typeof y.getBoundingClientRect)})}function vu(u){void 0===u&&(u={});var l=u.defaultModifiers,y=void 0===l?[]:l,E=u.defaultOptions,C=void 0===E?Fm:E;return function(W,X,z){void 0===z&&(z=C);var pe={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fm,C),modifiersData:{},elements:{reference:W,popper:X},attributes:{},styles:{}},Me=[],xe=!1,Ke={state:pe,setOptions:function(Ct){var ut="function"==typeof Ct?Ct(pe.options):Ct;ht(),pe.options=Object.assign({},C,pe.options,ut),pe.scrollParents={reference:To(W)?Rl(W):W.contextElement?Rl(W.contextElement):[],popper:Rl(X)};var bt=function OM(u){var h=xm(u);return pu.reduce(function(l,y){return l.concat(h.filter(function(E){return E.phase===y}))},[])}(function Bm(u){var h=u.reduce(function(l,y){var E=l[y.name];return l[y.name]=E?Object.assign({},E,y,{options:Object.assign({},E.options,y.options),data:Object.assign({},E.data,y.data)}):y,l},{});return Object.keys(h).map(function(l){return h[l]})}([].concat(y,pe.options.modifiers)));return pe.orderedModifiers=bt.filter(function(ft){return ft.enabled}),function _t(){pe.orderedModifiers.forEach(function(st){var ut=st.options,ft=st.effect;if("function"==typeof ft){var It=ft({state:pe,name:st.name,instance:Ke,options:void 0===ut?{}:ut});Me.push(It||function(){})}})}(),Ke.update()},forceUpdate:function(){if(!xe){var Ct=pe.elements,ut=Ct.reference,bt=Ct.popper;if(Nm(ut,bt)){pe.rects={reference:_T(ut,mu(bt),"fixed"===pe.options.strategy),popper:Pm(bt)},pe.reset=!1,pe.placement=pe.options.placement,pe.orderedModifiers.forEach(function(vi){return pe.modifiersData[vi.name]=Object.assign({},vi.data)});for(var ft=0;ft<pe.orderedModifiers.length;ft++)if(!0!==pe.reset){var It=pe.orderedModifiers[ft],ai=It.fn,ui=It.options;"function"==typeof ai&&(pe=ai({state:pe,options:void 0===ui?{}:ui,name:It.name,instance:Ke})||pe)}else pe.reset=!1,ft=-1}}},update:fT(function(){return new Promise(function(st){Ke.forceUpdate(),st(pe)})}),destroy:function(){ht(),xe=!0}};if(!Nm(W,X))return Ke;function ht(){Me.forEach(function(st){return st()}),Me=[]}return Ke.setOptions(z).then(function(st){!xe&&z.onFirstUpdate&&z.onFirstUpdate(st)}),Ke}}var vT=vu(),Wm=vu({defaultModifiers:[Tm,xl,Sm,Mr,Xy,Im,Co,Fy,Yy]}),bT=vu({defaultModifiers:[Tm,xl,Sm,Mr]});const Cr=new Map,Km={set(u,h,l){Cr.has(u)||Cr.set(u,new Map);const y=Cr.get(u);y.has(h)||0===y.size?y.set(h,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`)},get:(u,h)=>Cr.has(u)&&Cr.get(u).get(h)||null,remove(u,h){if(!Cr.has(u))return;const l=Cr.get(u);l.delete(h),0===l.size&&Cr.delete(u)}},Qy="transitionend",qy=u=>(u&&window.CSS&&window.CSS.escape&&(u=u.replace(/#([^\s"#']+)/g,(h,l)=>`#${CSS.escape(l)}`)),u),AT=u=>null==u?`${u}`:Object.prototype.toString.call(u).match(/\s([a-z]+)/i)[1].toLowerCase(),Zy=u=>{u.dispatchEvent(new Event(Qy))},er=u=>!(!u||"object"!=typeof u)&&(typeof u.jquery<"u"&&(u=u[0]),typeof u.nodeType<"u"),kr=u=>er(u)?u.jquery?u[0]:u:"string"==typeof u&&u.length>0?document.querySelector(qy(u)):null,wr=u=>{if(!er(u)||0===u.getClientRects().length)return!1;const h="visible"===getComputedStyle(u).getPropertyValue("visibility"),l=u.closest("details:not([open])");if(!l)return h;if(l!==u){const y=u.closest("summary");if(y&&y.parentNode!==l||null===y)return!1}return h},Cs=u=>!(u&&u.nodeType===Node.ELEMENT_NODE&&!u.classList.contains("disabled"))||(typeof u.disabled<"u"?u.disabled:u.hasAttribute("disabled")&&"false"!==u.getAttribute("disabled")),wp=u=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof u.getRootNode){const h=u.getRootNode();return h instanceof ShadowRoot?h:null}return u instanceof ShadowRoot?u:u.parentNode?wp(u.parentNode):null},ko=()=>{},Op=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Bl=[],va=()=>"rtl"===document.documentElement.dir,ya=u=>{(u=>{"loading"===document.readyState?(Bl.length||document.addEventListener("DOMContentLoaded",()=>{for(const h of Bl)h()}),Bl.push(u)):u()})(()=>{const h=Op();if(h){const l=u.NAME,y=h.fn[l];h.fn[l]=u.jQueryInterface,h.fn[l].Constructor=u,h.fn[l].noConflict=()=>(h.fn[l]=y,u.jQueryInterface)}})},ba=(u,h=[],l=u)=>"function"==typeof u?u.call(...h):l,ST=(u,h,l=!0)=>{if(!l)return void ba(u);const E=(u=>{if(!u)return 0;let{transitionDuration:h,transitionDelay:l}=window.getComputedStyle(u);const y=Number.parseFloat(h),E=Number.parseFloat(l);return y||E?(h=h.split(",")[0],l=l.split(",")[0],1e3*(Number.parseFloat(h)+Number.parseFloat(l))):0})(h)+5;let C=!1;const I=({target:W})=>{W===h&&(C=!0,h.removeEventListener(Qy,I),ba(u))};h.addEventListener(Qy,I),setTimeout(()=>{C||Zy(h)},E)},Fl=(u,h,l,y)=>{const E=u.length;let C=u.indexOf(h);return-1===C?!l&&y?u[E-1]:u[0]:(C+=l?1:-1,y&&(C=(C+E)%E),u[Math.max(0,Math.min(C,E-1))])},yu=/[^.]*(?=\..*)\.|.*/,$m=/\..*/,Gm=/::\d+$/,Rp={};let Hm=1;const Lp={mouseenter:"mouseover",mouseleave:"mouseout"},TT=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function DT(u,h){return h&&`${h}::${Hm++}`||u.uidEvent||Hm++}function jm(u){const h=DT(u);return u.uidEvent=h,Rp[h]=Rp[h]||{},Rp[h]}function Nl(u,h,l=null){return Object.values(u).find(y=>y.callable===h&&y.delegationSelector===l)}function ib(u,h,l){const y="string"==typeof h,E=y?l:h||l;let C=xp(u);return TT.has(C)||(C=u),[y,E,C]}function nb(u,h,l,y,E){if("string"!=typeof h||!u)return;let[C,I,W]=ib(h,l,y);var _t;h in Lp&&(_t=I,I=function(ht){if(!ht.relatedTarget||ht.relatedTarget!==ht.delegateTarget&&!ht.delegateTarget.contains(ht.relatedTarget))return _t.call(this,ht)});const X=jm(u),z=X[W]||(X[W]={}),pe=Nl(z,I,C?l:null);if(pe)return void(pe.oneOff=pe.oneOff&&E);const Me=DT(I,h.replace(yu,"")),xe=C?function tb(u,h,l){return function y(E){const C=u.querySelectorAll(h);for(let{target:I}=E;I&&I!==this;I=I.parentNode)for(const W of C)if(W===I)return Bp(E,{delegateTarget:I}),y.oneOff&&qe.off(u,E.type,h,l),l.apply(I,[E])}}(u,l,I):function eb(u,h){return function l(y){return Bp(y,{delegateTarget:u}),l.oneOff&&qe.off(u,y.type,h),h.apply(u,[y])}}(u,I);xe.delegationSelector=C?l:null,xe.callable=I,xe.oneOff=E,xe.uidEvent=Me,z[Me]=xe,u.addEventListener(W,xe,C)}function Ir(u,h,l,y,E){const C=Nl(h[l],y,E);C&&(u.removeEventListener(l,C,!!E),delete h[l][C.uidEvent])}function RM(u,h,l,y){const E=h[l]||{};for(const[C,I]of Object.entries(E))C.includes(y)&&Ir(u,h,l,I.callable,I.delegationSelector)}function xp(u){return u=u.replace($m,""),Lp[u]||u}const qe={on(u,h,l,y){nb(u,h,l,y,!1)},one(u,h,l,y){nb(u,h,l,y,!0)},off(u,h,l,y){if("string"!=typeof h||!u)return;const[E,C,I]=ib(h,l,y),W=I!==h,X=jm(u),z=X[I]||{},pe=h.startsWith(".");if(typeof C<"u"){if(!Object.keys(z).length)return;Ir(u,X,I,C,E?l:null)}else{if(pe)for(const Me of Object.keys(X))RM(u,X,Me,h.slice(1));for(const[Me,xe]of Object.entries(z)){const Ke=Me.replace(Gm,"");(!W||h.includes(Ke))&&Ir(u,X,I,xe.callable,xe.delegationSelector)}}},trigger(u,h,l){if("string"!=typeof h||!u)return null;const y=Op();let I=null,W=!0,X=!0,z=!1;h!==xp(h)&&y&&(I=y.Event(h,l),y(u).trigger(I),W=!I.isPropagationStopped(),X=!I.isImmediatePropagationStopped(),z=I.isDefaultPrevented());const pe=Bp(new Event(h,{bubbles:W,cancelable:!0}),l);return z&&pe.preventDefault(),X&&u.dispatchEvent(pe),pe.defaultPrevented&&I&&I.preventDefault(),pe}};function Bp(u,h={}){for(const[l,y]of Object.entries(h))try{u[l]=y}catch{Object.defineProperty(u,l,{configurable:!0,get:()=>y})}return u}function Vm(u){if("true"===u)return!0;if("false"===u)return!1;if(u===Number(u).toString())return Number(u);if(""===u||"null"===u)return null;if("string"!=typeof u)return u;try{return JSON.parse(decodeURIComponent(u))}catch{return u}}function ab(u){return u.replace(/[A-Z]/g,h=>`-${h.toLowerCase()}`)}const Pa={setDataAttribute(u,h,l){u.setAttribute(`data-bs-${ab(h)}`,l)},removeDataAttribute(u,h){u.removeAttribute(`data-bs-${ab(h)}`)},getDataAttributes(u){if(!u)return{};const h={},l=Object.keys(u.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of l){let E=y.replace(/^bs/,"");E=E.charAt(0).toLowerCase()+E.slice(1),h[E]=Vm(u.dataset[y])}return h},getDataAttribute:(u,h)=>Vm(u.getAttribute(`data-bs-${ab(h)}`))};class bu{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(h){return h=this._mergeConfigObj(h),h=this._configAfterMerge(h),this._typeCheckConfig(h),h}_configAfterMerge(h){return h}_mergeConfigObj(h,l){const y=er(l)?Pa.getDataAttribute(l,"config"):{};return{...this.constructor.Default,..."object"==typeof y?y:{},...er(l)?Pa.getDataAttributes(l):{},..."object"==typeof h?h:{}}}_typeCheckConfig(h,l=this.constructor.DefaultType){for(const[y,E]of Object.entries(l)){const C=h[y],I=er(C)?"element":AT(C);if(!new RegExp(E).test(I))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${y}" provided type "${I}" but expected type "${E}".`)}}}class cs extends bu{constructor(h,l){super(),(h=kr(h))&&(this._element=h,this._config=this._getConfig(l),Km.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Km.remove(this._element,this.constructor.DATA_KEY),qe.off(this._element,this.constructor.EVENT_KEY);for(const h of Object.getOwnPropertyNames(this))this[h]=null}_queueCallback(h,l,y=!0){ST(h,l,y)}_getConfig(h){return h=this._mergeConfigObj(h,this._element),h=this._configAfterMerge(h),this._typeCheckConfig(h),h}static getInstance(h){return Km.get(kr(h),this.DATA_KEY)}static getOrCreateInstance(h,l={}){return this.getInstance(h)||new this(h,"object"==typeof l?l:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(h){return`${h}${this.EVENT_KEY}`}}const Pu=u=>{let h=u.getAttribute("data-bs-target");if(!h||"#"===h){let l=u.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),h=l&&"#"!==l?l.trim():null}return h?h.split(",").map(l=>qy(l)).join(","):null},Nt={find:(u,h=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(h,u)),findOne:(u,h=document.documentElement)=>Element.prototype.querySelector.call(h,u),children:(u,h)=>[].concat(...u.children).filter(l=>l.matches(h)),parents(u,h){const l=[];let y=u.parentNode.closest(h);for(;y;)l.push(y),y=y.parentNode.closest(h);return l},prev(u,h){let l=u.previousElementSibling;for(;l;){if(l.matches(h))return[l];l=l.previousElementSibling}return[]},next(u,h){let l=u.nextElementSibling;for(;l;){if(l.matches(h))return[l];l=l.nextElementSibling}return[]},focusableChildren(u){const h=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(h,u).filter(l=>!Cs(l)&&wr(l))},getSelectorFromElement(u){const h=Pu(u);return h&&Nt.findOne(h)?h:null},getElementFromSelector(u){const h=Pu(u);return h?Nt.findOne(h):null},getMultipleElementsFromSelector(u){const h=Pu(u);return h?Nt.find(h):[]}},wo=(u,h="hide")=>{const y=u.NAME;qe.on(document,`click.dismiss${u.EVENT_KEY}`,`[data-bs-dismiss="${y}"]`,function(E){if(["A","AREA"].includes(this.tagName)&&E.preventDefault(),Cs(this))return;const C=Nt.getElementFromSelector(this)||this.closest(`.${y}`);u.getOrCreateInstance(C)[h]()})},zm=".bs.alert",CT=`close${zm}`,kT=`closed${zm}`;class Np extends cs{static get NAME(){return"alert"}close(){if(qe.trigger(this._element,CT).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),qe.trigger(this._element,kT),this.dispose()}static jQueryInterface(h){return this.each(function(){const l=Np.getOrCreateInstance(this);if("string"==typeof h){if(void 0===l[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);l[h](this)}})}}wo(Np,"close"),ya(Np);const sb='[data-bs-toggle="button"]';class Tu extends cs{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(h){return this.each(function(){const l=Tu.getOrCreateInstance(this);"toggle"===h&&l[h]()})}}qe.on(document,"click.bs.button.data-api",sb,u=>{u.preventDefault();const h=u.target.closest(sb);Tu.getOrCreateInstance(h).toggle()}),ya(Tu);const Ul=".bs.swipe",lb=`touchstart${Ul}`,RT=`touchmove${Ul}`,xM=`touchend${Ul}`,BM=`pointerdown${Ul}`,FM=`pointerup${Ul}`,xT={endCallback:null,leftCallback:null,rightCallback:null},ub={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Rr extends bu{constructor(h,l){super(),this._element=h,h&&Rr.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return xT}static get DefaultType(){return ub}static get NAME(){return"swipe"}dispose(){qe.off(this._element,Ul)}_start(h){this._supportPointerEvents?this._eventIsPointerPenTouch(h)&&(this._deltaX=h.clientX):this._deltaX=h.touches[0].clientX}_end(h){this._eventIsPointerPenTouch(h)&&(this._deltaX=h.clientX-this._deltaX),this._handleSwipe(),ba(this._config.endCallback)}_move(h){this._deltaX=h.touches&&h.touches.length>1?0:h.touches[0].clientX-this._deltaX}_handleSwipe(){const h=Math.abs(this._deltaX);if(h<=40)return;const l=h/this._deltaX;this._deltaX=0,l&&ba(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(qe.on(this._element,BM,h=>this._start(h)),qe.on(this._element,FM,h=>this._end(h)),this._element.classList.add("pointer-event")):(qe.on(this._element,lb,h=>this._start(h)),qe.on(this._element,RT,h=>this._move(h)),qe.on(this._element,xM,h=>this._end(h)))}_eventIsPointerPenTouch(h){return this._supportPointerEvents&&("pen"===h.pointerType||"touch"===h.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Lr=".bs.carousel",db=".data-api",WM="ArrowLeft",FT="ArrowRight",Du="next",Wl="prev",ks="left",Wp="right",hb=`slide${Lr}`,Kp=`slid${Lr}`,NT=`keydown${Lr}`,gb=`mouseenter${Lr}`,UT=`mouseleave${Lr}`,Ym=`dragstart${Lr}`,WT=`load${Lr}${db}`,mb=`click${Lr}${db}`,Xm="carousel",$p="active",fb=".active",vb=".carousel-item",HT=fb+vb,XT={[WM]:Wp,[FT]:ks},yb={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},bb={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Mu extends cs{constructor(h,l){super(h,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Nt.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Xm&&this.cycle()}static get Default(){return yb}static get DefaultType(){return bb}static get NAME(){return"carousel"}next(){this._slide(Du)}nextWhenVisible(){!document.hidden&&wr(this._element)&&this.next()}prev(){this._slide(Wl)}pause(){this._isSliding&&Zy(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void qe.one(this._element,Kp,()=>this.cycle());this.cycle()}}to(h){const l=this._getItems();if(h>l.length-1||h<0)return;if(this._isSliding)return void qe.one(this._element,Kp,()=>this.to(h));const y=this._getItemIndex(this._getActive());y!==h&&this._slide(h>y?Du:Wl,l[h])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(h){return h.defaultInterval=h.interval,h}_addEventListeners(){this._config.keyboard&&qe.on(this._element,NT,h=>this._keydown(h)),"hover"===this._config.pause&&(qe.on(this._element,gb,()=>this.pause()),qe.on(this._element,UT,()=>this._maybeEnableCycle())),this._config.touch&&Rr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const y of Nt.find(".carousel-item img",this._element))qe.on(y,Ym,E=>E.preventDefault());this._swipeHelper=new Rr(this._element,{leftCallback:()=>this._slide(this._directionToOrder(ks)),rightCallback:()=>this._slide(this._directionToOrder(Wp)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(h){if(/input|textarea/i.test(h.target.tagName))return;const l=XT[h.key];l&&(h.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(h){return this._getItems().indexOf(h)}_setActiveIndicatorElement(h){if(!this._indicatorsElement)return;const l=Nt.findOne(fb,this._indicatorsElement);l.classList.remove($p),l.removeAttribute("aria-current");const y=Nt.findOne(`[data-bs-slide-to="${h}"]`,this._indicatorsElement);y&&(y.classList.add($p),y.setAttribute("aria-current","true"))}_updateInterval(){const h=this._activeElement||this._getActive();if(!h)return;const l=Number.parseInt(h.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(h,l=null){if(this._isSliding)return;const y=this._getActive(),E=h===Du,C=l||Fl(this._getItems(),y,E,this._config.wrap);if(C===y)return;const I=this._getItemIndex(C),W=Ke=>qe.trigger(this._element,Ke,{relatedTarget:C,direction:this._orderToDirection(h),from:this._getItemIndex(y),to:I});if(W(hb).defaultPrevented||!y||!C)return;const z=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(I),this._activeElement=C;const pe=E?"carousel-item-start":"carousel-item-end",Me=E?"carousel-item-next":"carousel-item-prev";C.classList.add(Me),y.classList.add(pe),C.classList.add(pe),this._queueCallback(()=>{C.classList.remove(pe,Me),C.classList.add($p),y.classList.remove($p,Me,pe),this._isSliding=!1,W(Kp)},y,this._isAnimated()),z&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Nt.findOne(HT,this._element)}_getItems(){return Nt.find(vb,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(h){return va()?h===ks?Wl:Du:h===ks?Du:Wl}_orderToDirection(h){return va()?h===Wl?ks:Wp:h===Wl?Wp:ks}static jQueryInterface(h){return this.each(function(){const l=Mu.getOrCreateInstance(this,h);if("number"!=typeof h){if("string"==typeof h){if(void 0===l[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);l[h]()}}else l.to(h)})}}qe.on(document,mb,"[data-bs-slide], [data-bs-slide-to]",function(u){const h=Nt.getElementFromSelector(this);if(!h||!h.classList.contains(Xm))return;u.preventDefault();const l=Mu.getOrCreateInstance(h),y=this.getAttribute("data-bs-slide-to");return y?(l.to(y),void l._maybeEnableCycle()):"next"===Pa.getDataAttribute(this,"slide")?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),qe.on(window,WT,()=>{const u=Nt.find('[data-bs-ride="carousel"]');for(const h of u)Mu.getOrCreateInstance(h)}),ya(Mu);const Cu=".bs.collapse",Qm=`show${Cu}`,Pb=`shown${Cu}`,Ab=`hide${Cu}`,qm=`hidden${Cu}`,Eb=`click${Cu}.data-api`,Zm="show",Kl="collapse",Gp="collapsing",Sb=`:scope .${Kl} .${Kl}`,Hp='[data-bs-toggle="collapse"]',e0={parent:null,toggle:!0},Cb={parent:"(null|element)",toggle:"boolean"};class xr extends cs{constructor(h,l){super(h,l),this._isTransitioning=!1,this._triggerArray=[];const y=Nt.find(Hp);for(const E of y){const C=Nt.getSelectorFromElement(E),I=Nt.find(C).filter(W=>W===this._element);null!==C&&I.length&&this._triggerArray.push(E)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return e0}static get DefaultType(){return Cb}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let h=[];if(this._config.parent&&(h=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(W=>W!==this._element).map(W=>xr.getOrCreateInstance(W,{toggle:!1}))),h.length&&h[0]._isTransitioning||qe.trigger(this._element,Qm).defaultPrevented)return;for(const W of h)W.hide();const y=this._getDimension();this._element.classList.remove(Kl),this._element.classList.add(Gp),this._element.style[y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const I=`scroll${y[0].toUpperCase()+y.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Gp),this._element.classList.add(Kl,Zm),this._element.style[y]="",qe.trigger(this._element,Pb)},this._element,!0),this._element.style[y]=`${this._element[I]}px`}hide(){if(this._isTransitioning||!this._isShown()||qe.trigger(this._element,Ab).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,this._element.classList.add(Gp),this._element.classList.remove(Kl,Zm);for(const E of this._triggerArray){const C=Nt.getElementFromSelector(E);C&&!this._isShown(C)&&this._addAriaAndCollapsedClass([E],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Gp),this._element.classList.add(Kl),qe.trigger(this._element,qm)},this._element,!0)}_isShown(h=this._element){return h.classList.contains(Zm)}_configAfterMerge(h){return h.toggle=!!h.toggle,h.parent=kr(h.parent),h}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const h=this._getFirstLevelChildren(Hp);for(const l of h){const y=Nt.getElementFromSelector(l);y&&this._addAriaAndCollapsedClass([l],this._isShown(y))}}_getFirstLevelChildren(h){const l=Nt.find(Sb,this._config.parent);return Nt.find(h,this._config.parent).filter(y=>!l.includes(y))}_addAriaAndCollapsedClass(h,l){if(h.length)for(const y of h)y.classList.toggle("collapsed",!l),y.setAttribute("aria-expanded",l)}static jQueryInterface(h){const l={};return"string"==typeof h&&/show|hide/.test(h)&&(l.toggle=!1),this.each(function(){const y=xr.getOrCreateInstance(this,l);if("string"==typeof h){if(typeof y[h]>"u")throw new TypeError(`No method named "${h}"`);y[h]()}})}}qe.on(document,Eb,Hp,function(u){("A"===u.target.tagName||u.delegateTarget&&"A"===u.delegateTarget.tagName)&&u.preventDefault();for(const h of Nt.getMultipleElementsFromSelector(this))xr.getOrCreateInstance(h,{toggle:!1}).toggle()}),ya(xr);const Br="dropdown",Oo=".bs.dropdown",ku=".data-api",t0="ArrowUp",Vp="ArrowDown",a0=`hide${Oo}`,kb=`hidden${Oo}`,s0=`show${Oo}`,On=`shown${Oo}`,t_=`click${Oo}${ku}`,wb=`keydown${Oo}${ku}`,r0=`keyup${Oo}${ku}`,Io="show",Ro='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Rb=`${Ro}.${Io}`,zp=".dropdown-menu",n_=va()?"top-end":"top-start",c0=va()?"top-start":"top-end",u0=va()?"bottom-end":"bottom-start",xb=va()?"bottom-start":"bottom-end",d0=va()?"left-start":"right-start",Bb=va()?"right-start":"left-start",Ub={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},p0={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ws extends cs{constructor(h,l){super(h,l),this._popper=null,this._parent=this._element.parentNode,this._menu=Nt.next(this._element,zp)[0]||Nt.prev(this._element,zp)[0]||Nt.findOne(zp,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Ub}static get DefaultType(){return p0}static get NAME(){return Br}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Cs(this._element)||this._isShown())return;const h={relatedTarget:this._element};if(!qe.trigger(this._element,s0,h).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const y of[].concat(...document.body.children))qe.on(y,"mouseover",ko);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Io),this._element.classList.add(Io),qe.trigger(this._element,On,h)}}hide(){!Cs(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(h){if(!qe.trigger(this._element,a0,h).defaultPrevented){if("ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))qe.off(y,"mouseover",ko);this._popper&&this._popper.destroy(),this._menu.classList.remove(Io),this._element.classList.remove(Io),this._element.setAttribute("aria-expanded","false"),Pa.removeDataAttribute(this._menu,"popper"),qe.trigger(this._element,kb,h)}}_getConfig(h){if("object"==typeof(h=super._getConfig(h)).reference&&!er(h.reference)&&"function"!=typeof h.reference.getBoundingClientRect)throw new TypeError(`${Br.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return h}_createPopper(){let h=this._element;"parent"===this._config.reference?h=this._parent:er(this._config.reference)?h=kr(this._config.reference):"object"==typeof this._config.reference&&(h=this._config.reference);const l=this._getPopperConfig();this._popper=Wm(h,this._menu,l)}_isShown(){return this._menu.classList.contains(Io)}_getPlacement(){const h=this._parent;if(h.classList.contains("dropend"))return d0;if(h.classList.contains("dropstart"))return Bb;if(h.classList.contains("dropup-center"))return"top";if(h.classList.contains("dropdown-center"))return"bottom";const l="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return h.classList.contains("dropup")?l?c0:n_:l?xb:u0}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:h}=this._config;return"string"==typeof h?h.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof h?l=>h(l,this._element):h}_getPopperConfig(){const h={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Pa.setDataAttribute(this._menu,"popper","static"),h.modifiers=[{name:"applyStyles",enabled:!1}]),{...h,...ba(this._config.popperConfig,[void 0,h])}}_selectMenuItem({key:h,target:l}){const y=Nt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(E=>wr(E));y.length&&Fl(y,l,h===Vp,!y.includes(l)).focus()}static jQueryInterface(h){return this.each(function(){const l=ws.getOrCreateInstance(this,h);if("string"==typeof h){if(typeof l[h]>"u")throw new TypeError(`No method named "${h}"`);l[h]()}})}static clearMenus(h){if(2===h.button||"keyup"===h.type&&"Tab"!==h.key)return;const l=Nt.find(Rb);for(const y of l){const E=ws.getInstance(y);if(!E||!1===E._config.autoClose)continue;const C=h.composedPath(),I=C.includes(E._menu);if(C.includes(E._element)||"inside"===E._config.autoClose&&!I||"outside"===E._config.autoClose&&I||E._menu.contains(h.target)&&("keyup"===h.type&&"Tab"===h.key||/input|select|option|textarea|form/i.test(h.target.tagName)))continue;const W={relatedTarget:E._element};"click"===h.type&&(W.clickEvent=h),E._completeHide(W)}}static dataApiKeydownHandler(h){const l=/input|textarea/i.test(h.target.tagName),y="Escape"===h.key,E=[t0,Vp].includes(h.key);if(!E&&!y||l&&!y)return;h.preventDefault();const C=this.matches(Ro)?this:Nt.prev(this,Ro)[0]||Nt.next(this,Ro)[0]||Nt.findOne(Ro,h.delegateTarget.parentNode),I=ws.getOrCreateInstance(C);if(E)return h.stopPropagation(),I.show(),void I._selectMenuItem(h);I._isShown()&&(h.stopPropagation(),I.hide(),C.focus())}}qe.on(document,wb,Ro,ws.dataApiKeydownHandler),qe.on(document,wb,zp,ws.dataApiKeydownHandler),qe.on(document,t_,ws.clearMenus),qe.on(document,r0,ws.clearMenus),qe.on(document,t_,Ro,function(u){u.preventDefault(),ws.getOrCreateInstance(this).toggle()}),ya(ws);const Wb="backdrop",Hl=`mousedown.bs.${Wb}`,g0={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Kb={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class $b extends bu{constructor(h){super(),this._config=this._getConfig(h),this._isAppended=!1,this._element=null}static get Default(){return g0}static get DefaultType(){return Kb}static get NAME(){return Wb}show(h){if(!this._config.isVisible)return void ba(h);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{ba(h)})}hide(h){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),ba(h)})):ba(h)}dispose(){this._isAppended&&(qe.off(this._element,Hl),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const h=document.createElement("div");h.className=this._config.className,this._config.isAnimated&&h.classList.add("fade"),this._element=h}return this._element}_configAfterMerge(h){return h.rootElement=kr(h.rootElement),h}_append(){if(this._isAppended)return;const h=this._getElement();this._config.rootElement.append(h),qe.on(h,Hl,()=>{ba(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(h){ST(h,this._getElement(),this._config.isAnimated)}}const wu=".bs.focustrap",Xp=`focusin${wu}`,f0=`keydown.tab${wu}`,a_="backward",v0={autofocus:!0,trapElement:null},GM={autofocus:"boolean",trapElement:"element"};class s_ extends bu{constructor(h){super(),this._config=this._getConfig(h),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return v0}static get DefaultType(){return GM}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),qe.off(document,wu),qe.on(document,Xp,h=>this._handleFocusin(h)),qe.on(document,f0,h=>this._handleKeydown(h)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,qe.off(document,wu))}_handleFocusin(h){const{trapElement:l}=this._config;if(h.target===document||h.target===l||l.contains(h.target))return;const y=Nt.focusableChildren(l);0===y.length?l.focus():this._lastTabNavDirection===a_?y[y.length-1].focus():y[0].focus()}_handleKeydown(h){"Tab"===h.key&&(this._lastTabNavDirection=h.shiftKey?a_:"forward")}}const r_=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",o_=".sticky-top",Ou="padding-right",l_="margin-right";class Jp{constructor(){this._element=document.body}getWidth(){const h=document.documentElement.clientWidth;return Math.abs(window.innerWidth-h)}hide(){const h=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ou,l=>l+h),this._setElementAttributes(r_,Ou,l=>l+h),this._setElementAttributes(o_,l_,l=>l-h)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ou),this._resetElementAttributes(r_,Ou),this._resetElementAttributes(o_,l_)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(h,l,y){const E=this.getWidth();this._applyManipulationCallback(h,I=>{if(I!==this._element&&window.innerWidth>I.clientWidth+E)return;this._saveInitialAttribute(I,l);const W=window.getComputedStyle(I).getPropertyValue(l);I.style.setProperty(l,`${y(Number.parseFloat(W))}px`)})}_saveInitialAttribute(h,l){const y=h.style.getPropertyValue(l);y&&Pa.setDataAttribute(h,l,y)}_resetElementAttributes(h,l){this._applyManipulationCallback(h,E=>{const C=Pa.getDataAttribute(E,l);null!==C?(Pa.removeDataAttribute(E,l),E.style.setProperty(l,C)):E.style.removeProperty(l)})}_applyManipulationCallback(h,l){if(er(h))l(h);else for(const y of Nt.find(h,this._element))l(y)}}const La=".bs.modal",u_=`hide${La}`,Vb=`hidePrevented${La}`,qp=`hidden${La}`,d_=`show${La}`,zb=`shown${La}`,Yb=`resize${La}`,Xb=`click.dismiss${La}`,Jb=`mousedown.dismiss${La}`,tr=`keydown.dismiss${La}`,p_=`click${La}.data-api`,h_="modal-open",Zp="modal-static",S0={backdrop:!0,focus:!0,keyboard:!0},T0={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Lo extends cs{constructor(h,l){super(h,l),this._dialog=Nt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Jp,this._addEventListeners()}static get Default(){return S0}static get DefaultType(){return T0}static get NAME(){return"modal"}toggle(h){return this._isShown?this.hide():this.show(h)}show(h){this._isShown||this._isTransitioning||qe.trigger(this._element,d_,{relatedTarget:h}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(h_),this._adjustDialog(),this._backdrop.show(()=>this._showElement(h)))}hide(){!this._isShown||this._isTransitioning||qe.trigger(this._element,u_).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){qe.off(window,La),qe.off(this._dialog,La),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new $b({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new s_({trapElement:this._element})}_showElement(h){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=Nt.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,qe.trigger(this._element,zb,{relatedTarget:h})},this._dialog,this._isAnimated())}_addEventListeners(){qe.on(this._element,tr,h=>{if("Escape"===h.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),qe.on(window,Yb,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),qe.on(this._element,Jb,h=>{qe.one(this._element,Xb,l=>{if(this._element===h.target&&this._element===l.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(h_),this._resetAdjustments(),this._scrollBar.reset(),qe.trigger(this._element,qp)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(qe.trigger(this._element,Vb).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,y=this._element.style.overflowY;"hidden"===y||this._element.classList.contains(Zp)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(Zp),this._queueCallback(()=>{this._element.classList.remove(Zp),this._queueCallback(()=>{this._element.style.overflowY=y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const h=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),y=l>0;if(y&&!h){const E=va()?"paddingLeft":"paddingRight";this._element.style[E]=`${l}px`}if(!y&&h){const E=va()?"paddingRight":"paddingLeft";this._element.style[E]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(h,l){return this.each(function(){const y=Lo.getOrCreateInstance(this,h);if("string"==typeof h){if(typeof y[h]>"u")throw new TypeError(`No method named "${h}"`);y[h](l)}})}}qe.on(document,p_,'[data-bs-toggle="modal"]',function(u){const h=Nt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&u.preventDefault(),qe.one(h,d_,E=>{E.defaultPrevented||qe.one(h,qp,()=>{wr(this)&&this.focus()})});const l=Nt.findOne(".modal.show");l&&Lo.getInstance(l).hide(),Lo.getOrCreateInstance(h).toggle(this)}),wo(Lo),ya(Lo);const ir=".bs.offcanvas",Qb=".data-api",M0=`load${ir}${Qb}`,f_="showing",th=".offcanvas.show",k0=`show${ir}`,w0=`shown${ir}`,v_=`hide${ir}`,Zb=`hidePrevented${ir}`,O0=`hidden${ir}`,eP=`resize${ir}`,I0=`click${ir}${Qb}`,R0=`keydown.dismiss${ir}`,ih={backdrop:!0,keyboard:!0,scroll:!1},tP={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class nr extends cs{constructor(h,l){super(h,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ih}static get DefaultType(){return tP}static get NAME(){return"offcanvas"}toggle(h){return this._isShown?this.hide():this.show(h)}show(h){this._isShown||qe.trigger(this._element,k0,{relatedTarget:h}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Jp).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(f_),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(f_),qe.trigger(this._element,w0,{relatedTarget:h})},this._element,!0))}hide(){this._isShown&&!qe.trigger(this._element,v_).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Jp).reset(),qe.trigger(this._element,O0)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new $b({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{"static"!==this._config.backdrop?this.hide():qe.trigger(this._element,Zb)}:null})}_initializeFocusTrap(){return new s_({trapElement:this._element})}_addEventListeners(){qe.on(this._element,R0,h=>{if("Escape"===h.key){if(this._config.keyboard)return void this.hide();qe.trigger(this._element,Zb)}})}static jQueryInterface(h){return this.each(function(){const l=nr.getOrCreateInstance(this,h);if("string"==typeof h){if(void 0===l[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);l[h](this)}})}}qe.on(document,I0,'[data-bs-toggle="offcanvas"]',function(u){const h=Nt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),Cs(this))return;qe.one(h,O0,()=>{wr(this)&&this.focus()});const l=Nt.findOne(th);l&&l!==h&&nr.getInstance(l).hide(),nr.getOrCreateInstance(h).toggle(this)}),qe.on(window,M0,()=>{for(const u of Nt.find(th))nr.getOrCreateInstance(u).show()}),qe.on(window,eP,()=>{for(const u of Nt.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(u).position&&nr.getOrCreateInstance(u).hide()}),wo(nr),ya(nr);const y_={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},iP=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),nP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,aP=(u,h)=>{const l=u.nodeName.toLowerCase();return h.includes(l)?!iP.has(l)||!!nP.test(u.nodeValue):h.filter(y=>y instanceof RegExp).some(y=>y.test(l))},N0={allowList:y_,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},U0={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Iu={entry:"(string|element|function|null)",selector:"(string|element)"};class sP extends bu{constructor(h){super(),this._config=this._getConfig(h)}static get Default(){return N0}static get DefaultType(){return U0}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(h=>this._resolvePossibleFunction(h)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(h){return this._checkContent(h),this._config.content={...this._config.content,...h},this}toHtml(){const h=document.createElement("div");h.innerHTML=this._maybeSanitize(this._config.template);for(const[E,C]of Object.entries(this._config.content))this._setContent(h,C,E);const l=h.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&l.classList.add(...y.split(" ")),l}_typeCheckConfig(h){super._typeCheckConfig(h),this._checkContent(h.content)}_checkContent(h){for(const[l,y]of Object.entries(h))super._typeCheckConfig({selector:l,entry:y},Iu)}_setContent(h,l,y){const E=Nt.findOne(y,h);if(E){if(!(l=this._resolvePossibleFunction(l)))return void E.remove();if(er(l))return void this._putElementInTemplate(kr(l),E);if(this._config.html)return void(E.innerHTML=this._maybeSanitize(l));E.textContent=l}}_maybeSanitize(h){return this._config.sanitize?function B0(u,h,l){if(!u.length)return u;if(l&&"function"==typeof l)return l(u);const E=(new window.DOMParser).parseFromString(u,"text/html"),C=[].concat(...E.body.querySelectorAll("*"));for(const I of C){const W=I.nodeName.toLowerCase();if(!Object.keys(h).includes(W)){I.remove();continue}const X=[].concat(...I.attributes),z=[].concat(h["*"]||[],h[W]||[]);for(const pe of X)aP(pe,z)||I.removeAttribute(pe.nodeName)}return E.body.innerHTML}(h,this._config.allowList,this._config.sanitizeFn):h}_resolvePossibleFunction(h){return ba(h,[void 0,this])}_putElementInTemplate(h,l){if(this._config.html)return l.innerHTML="",void l.append(h);l.textContent=h.textContent}}const oP=new Set(["sanitize","allowList","sanitizeFn"]),nh="fade",ah="show",W0=".tooltip-inner",$0="hide.bs.modal",Ru="hover",b_="focus",P_="click",Q0={AUTO:"auto",TOP:"top",RIGHT:va()?"left":"right",BOTTOM:"bottom",LEFT:va()?"right":"left"},uP={allowList:y_,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},q0={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class jl extends cs{constructor(h,l){super(h,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return uP}static get DefaultType(){return q0}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),qe.off(this._element.closest(".modal"),$0,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const h=qe.trigger(this._element,this.constructor.eventName("show")),y=(wp(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(h.defaultPrevented||!y)return;this._disposePopper();const E=this._getTipElement();this._element.setAttribute("aria-describedby",E.getAttribute("id"));const{container:C}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(C.append(E),qe.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(E),E.classList.add(ah),"ontouchstart"in document.documentElement)for(const W of[].concat(...document.body.children))qe.on(W,"mouseover",ko);this._queueCallback(()=>{qe.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!qe.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ah),"ontouchstart"in document.documentElement)for(const E of[].concat(...document.body.children))qe.off(E,"mouseover",ko);this._activeTrigger[P_]=!1,this._activeTrigger[b_]=!1,this._activeTrigger[Ru]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),qe.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(h){const l=this._getTemplateFactory(h).toHtml();if(!l)return null;l.classList.remove(nh,ah),l.classList.add(`bs-${this.constructor.NAME}-auto`);const y=(u=>{do{u+=Math.floor(1e6*Math.random())}while(document.getElementById(u));return u})(this.constructor.NAME).toString();return l.setAttribute("id",y),this._isAnimated()&&l.classList.add(nh),l}setContent(h){this._newContent=h,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(h){return this._templateFactory?this._templateFactory.changeContent(h):this._templateFactory=new sP({...this._config,content:h,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[W0]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(h){return this.constructor.getOrCreateInstance(h.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(nh)}_isShown(){return this.tip&&this.tip.classList.contains(ah)}_createPopper(h){const l=ba(this._config.placement,[this,h,this._element]),y=Q0[l.toUpperCase()];return Wm(this._element,h,this._getPopperConfig(y))}_getOffset(){const{offset:h}=this._config;return"string"==typeof h?h.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof h?l=>h(l,this._element):h}_resolvePossibleFunction(h){return ba(h,[this._element,this._element])}_getPopperConfig(h){const l={placement:h,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...l,...ba(this._config.popperConfig,[void 0,l])}}_setListeners(){const h=this._config.trigger.split(" ");for(const l of h)if("click"===l)qe.on(this._element,this.constructor.eventName("click"),this._config.selector,y=>{const E=this._initializeOnDelegatedTarget(y);E._activeTrigger[P_]=!(E._isShown()&&E._activeTrigger[P_]),E.toggle()});else if("manual"!==l){const y=this.constructor.eventName(l===Ru?"mouseenter":"focusin"),E=this.constructor.eventName(l===Ru?"mouseleave":"focusout");qe.on(this._element,y,this._config.selector,C=>{const I=this._initializeOnDelegatedTarget(C);I._activeTrigger["focusin"===C.type?b_:Ru]=!0,I._enter()}),qe.on(this._element,E,this._config.selector,C=>{const I=this._initializeOnDelegatedTarget(C);I._activeTrigger["focusout"===C.type?b_:Ru]=I._element.contains(C.relatedTarget),I._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},qe.on(this._element.closest(".modal"),$0,this._hideModalHandler)}_fixTitle(){const h=this._element.getAttribute("title");h&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",h),this._element.setAttribute("data-bs-original-title",h),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(h,l){clearTimeout(this._timeout),this._timeout=setTimeout(h,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(h){const l=Pa.getDataAttributes(this._element);for(const y of Object.keys(l))oP.has(y)&&delete l[y];return h={...l,..."object"==typeof h&&h?h:{}},h=this._mergeConfigObj(h),h=this._configAfterMerge(h),this._typeCheckConfig(h),h}_configAfterMerge(h){return h.container=!1===h.container?document.body:kr(h.container),"number"==typeof h.delay&&(h.delay={show:h.delay,hide:h.delay}),"number"==typeof h.title&&(h.title=h.title.toString()),"number"==typeof h.content&&(h.content=h.content.toString()),h}_getDelegateConfig(){const h={};for(const[l,y]of Object.entries(this._config))this.constructor.Default[l]!==y&&(h[l]=y);return h.selector=!1,h.trigger="manual",h}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(h){return this.each(function(){const l=jl.getOrCreateInstance(this,h);if("string"==typeof h){if(typeof l[h]>"u")throw new TypeError(`No method named "${h}"`);l[h]()}})}}ya(jl);const Vl=".popover-header",Z0=".popover-body",eD={...jl.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},jM={...jl.DefaultType,content:"(null|string|element|function)"};class xo extends jl{static get Default(){return eD}static get DefaultType(){return jM}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Vl]:this._getTitle(),[Z0]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(h){return this.each(function(){const l=xo.getOrCreateInstance(this,h);if("string"==typeof h){if(typeof l[h]>"u")throw new TypeError(`No method named "${h}"`);l[h]()}})}}ya(xo);const A_=".bs.scrollspy",iD=`activate${A_}`,hP=`click${A_}`,nD=`load${A_}.data-api`,Bo="active",zl="[href]",sD=".nav-link",gP=`${sD}, .nav-item > ${sD}, .list-group-item`,T_={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},zM={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class rh extends cs{constructor(h,l){super(h,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return T_}static get DefaultType(){return zM}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const h of this._observableSections.values())this._observer.observe(h)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(h){return h.target=kr(h.target)||document.body,h.rootMargin=h.offset?`${h.offset}px 0px -30%`:h.rootMargin,"string"==typeof h.threshold&&(h.threshold=h.threshold.split(",").map(l=>Number.parseFloat(l))),h}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(qe.off(this._config.target,hP),qe.on(this._config.target,hP,zl,h=>{const l=this._observableSections.get(h.target.hash);if(l){h.preventDefault();const y=this._rootElement||window,E=l.offsetTop-this._element.offsetTop;if(y.scrollTo)return void y.scrollTo({top:E,behavior:"smooth"});y.scrollTop=E}}))}_getNewObserver(){return new IntersectionObserver(l=>this._observerCallback(l),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(h){const l=I=>this._targetLinks.get(`#${I.target.id}`),y=I=>{this._previousScrollData.visibleEntryTop=I.target.offsetTop,this._process(l(I))},E=(this._rootElement||document.documentElement).scrollTop,C=E>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=E;for(const I of h){if(!I.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(I));continue}const W=I.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(C&&W){if(y(I),!E)return}else!C&&!W&&y(I)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const h=Nt.find(zl,this._config.target);for(const l of h){if(!l.hash||Cs(l))continue;const y=Nt.findOne(decodeURI(l.hash),this._element);wr(y)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,y))}}_process(h){this._activeTarget!==h&&(this._clearActiveClass(this._config.target),this._activeTarget=h,h.classList.add(Bo),this._activateParents(h),qe.trigger(this._element,iD,{relatedTarget:h}))}_activateParents(h){if(h.classList.contains("dropdown-item"))Nt.findOne(".dropdown-toggle",h.closest(".dropdown")).classList.add(Bo);else for(const l of Nt.parents(h,".nav, .list-group"))for(const y of Nt.prev(l,gP))y.classList.add(Bo)}_clearActiveClass(h){h.classList.remove(Bo);const l=Nt.find(`${zl}.${Bo}`,h);for(const y of l)y.classList.remove(Bo)}static jQueryInterface(h){return this.each(function(){const l=rh.getOrCreateInstance(this,h);if("string"==typeof h){if(void 0===l[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);l[h]()}})}}qe.on(window,nD,()=>{for(const u of Nt.find('[data-bs-spy="scroll"]'))rh.getOrCreateInstance(u)}),ya(rh);const Nr=".bs.tab",fP=`hide${Nr}`,lD=`hidden${Nr}`,vP=`show${Nr}`,yP=`shown${Nr}`,cD=`click${Nr}`,uD=`keydown${Nr}`,bP=`load${Nr}`,dD="ArrowLeft",D_="ArrowRight",PP="ArrowUp",M_="ArrowDown",oh="Home",AP="End",Fo="active",lh="show",hD=".dropdown-toggle",EP=`:not(${hD})`,SP='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',C_=`.nav-link${EP}, .list-group-item${EP}, [role="tab"]${EP}, ${SP}`,eC=`.${Fo}[data-bs-toggle="tab"], .${Fo}[data-bs-toggle="pill"], .${Fo}[data-bs-toggle="list"]`;class Yl extends cs{constructor(h){super(h),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),qe.on(this._element,uD,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const h=this._element;if(this._elemIsActive(h))return;const l=this._getActiveElem(),y=l?qe.trigger(l,fP,{relatedTarget:h}):null;qe.trigger(h,vP,{relatedTarget:l}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(l,h),this._activate(h,l))}_activate(h,l){h&&(h.classList.add(Fo),this._activate(Nt.getElementFromSelector(h)),this._queueCallback(()=>{"tab"===h.getAttribute("role")?(h.removeAttribute("tabindex"),h.setAttribute("aria-selected",!0),this._toggleDropDown(h,!0),qe.trigger(h,yP,{relatedTarget:l})):h.classList.add(lh)},h,h.classList.contains("fade")))}_deactivate(h,l){h&&(h.classList.remove(Fo),h.blur(),this._deactivate(Nt.getElementFromSelector(h)),this._queueCallback(()=>{"tab"===h.getAttribute("role")?(h.setAttribute("aria-selected",!1),h.setAttribute("tabindex","-1"),this._toggleDropDown(h,!1),qe.trigger(h,lD,{relatedTarget:l})):h.classList.remove(lh)},h,h.classList.contains("fade")))}_keydown(h){if(![dD,D_,PP,M_,oh,AP].includes(h.key))return;h.stopPropagation(),h.preventDefault();const l=this._getChildren().filter(E=>!Cs(E));let y;if([oh,AP].includes(h.key))y=l[h.key===oh?0:l.length-1];else{const E=[D_,M_].includes(h.key);y=Fl(l,h.target,E,!0)}y&&(y.focus({preventScroll:!0}),Yl.getOrCreateInstance(y).show())}_getChildren(){return Nt.find(C_,this._parent)}_getActiveElem(){return this._getChildren().find(h=>this._elemIsActive(h))||null}_setInitialAttributes(h,l){this._setAttributeIfNotExists(h,"role","tablist");for(const y of l)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(h){h=this._getInnerElement(h);const l=this._elemIsActive(h),y=this._getOuterElement(h);h.setAttribute("aria-selected",l),y!==h&&this._setAttributeIfNotExists(y,"role","presentation"),l||h.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(h,"role","tab"),this._setInitialAttributesOnTargetPanel(h)}_setInitialAttributesOnTargetPanel(h){const l=Nt.getElementFromSelector(h);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),h.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${h.id}`))}_toggleDropDown(h,l){const y=this._getOuterElement(h);if(!y.classList.contains("dropdown"))return;const E=(C,I)=>{const W=Nt.findOne(C,y);W&&W.classList.toggle(I,l)};E(hD,Fo),E(".dropdown-menu",lh),y.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(h,l,y){h.hasAttribute(l)||h.setAttribute(l,y)}_elemIsActive(h){return h.classList.contains(Fo)}_getInnerElement(h){return h.matches(C_)?h:Nt.findOne(C_,h)}_getOuterElement(h){return h.closest(".nav-item, .list-group-item")||h}static jQueryInterface(h){return this.each(function(){const l=Yl.getOrCreateInstance(this);if("string"==typeof h){if(void 0===l[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);l[h]()}})}}qe.on(document,cD,SP,function(u){["A","AREA"].includes(this.tagName)&&u.preventDefault(),!Cs(this)&&Yl.getOrCreateInstance(this).show()}),qe.on(window,bP,()=>{for(const u of Nt.find(eC))Yl.getOrCreateInstance(u)}),ya(Yl);const Os=".bs.toast",TP=`mouseover${Os}`,iC=`mouseout${Os}`,mD=`focusin${Os}`,nC=`focusout${Os}`,DP=`hide${Os}`,_D=`hidden${Os}`,MP=`show${Os}`,fD=`shown${Os}`,ch="show",k_="showing",sC={animation:"boolean",autohide:"boolean",delay:"number"},CP={animation:!0,autohide:!0,delay:5e3};class No extends cs{constructor(h,l){super(h,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return CP}static get DefaultType(){return sC}static get NAME(){return"toast"}show(){qe.trigger(this._element,MP).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(ch,k_),this._queueCallback(()=>{this._element.classList.remove(k_),qe.trigger(this._element,fD),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!qe.trigger(this._element,DP).defaultPrevented&&(this._element.classList.add(k_),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(k_,ch),qe.trigger(this._element,_D)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ch),super.dispose()}isShown(){return this._element.classList.contains(ch)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(h,l){switch(h.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const y=h.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){qe.on(this._element,TP,h=>this._onInteraction(h,!0)),qe.on(this._element,iC,h=>this._onInteraction(h,!1)),qe.on(this._element,mD,h=>this._onInteraction(h,!0)),qe.on(this._element,nC,h=>this._onInteraction(h,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(h){return this.each(function(){const l=No.getOrCreateInstance(this,h);if("string"==typeof h){if(typeof l[h]>"u")throw new TypeError(`No method named "${h}"`);l[h](this)}})}}function kP(u){return(0,Mt.qK)(u)}function w_(u,h,l){"player"===h?u.playerPackImageBroken=!1:u.opponentPackImageBroken=!1}function R_(u){return(0,Mt.bG)(u)}function b(u){u.customPackEditorModal.show(),u.formGroup.get("playerPack").setValue(u.previousPackPlayer,{emitEvent:!1}),u.formGroup.get("opponentPack").setValue(u.previousPackOpponent,{emitEvent:!1})}function M(u,h){const l=u.petSelectors.toArray().slice("player"==h?0:5,"player"==h?5:10);for(const y of l)y.removePet();"player"===h?(u.formGroup.get("playerToy").setValue(null),u.formGroup.get("playerToyLevel").setValue(1),u.formGroup.get("playerHardToy").setValue(null),u.formGroup.get("playerHardToyLevel").setValue(1)):(u.formGroup.get("opponentToy").setValue(null),u.formGroup.get("opponentToyLevel").setValue(1),u.formGroup.get("opponentHardToy").setValue(null),u.formGroup.get("opponentHardToyLevel").setValue(1))}function R(u,h,l=!1,y){let E=!1;try{const C=(0,yl.$K)((0,yl.d4)(h));y?.resetBattle&&function B(u){u.simulated=!1,u.battles=[],u.battleRandomEvents=[],u.battleRandomEventsByBattle=new Map,u.filteredBattlesCache=[],u.viewBattle=null,u.viewBattleLogs=[],u.viewBattleLogRows=[],u.playerWinner=0,u.opponentWinner=0,u.draw=0,u.pendingPositioningOptimizationBaseline=null,u.positioningDeltaSummary=null,u.apiResponse=null,u.battleStarted=!1,u.currBattle=null}(u),u.petSelectors?.length&&(M(u,"player"),M(u,"opponent")),ye(u,C),St(u),l||setTimeout(()=>{u.petSelectors&&u.petSelectors.forEach(I=>{I.fixLoadEquipment()})},0),E=!0}catch(C){console.error(C)}return E}function ye(u,h){u.calculatorStateService.applyCalculatorState(u.formGroup,h,u.dayNight,()=>Py(u)),u.logService.setShowTriggerNamesInLogs(u.formGroup.get("showTriggerNamesInLogs")?.value)}function Pe(u){const l=u.formGroup.get("turn").value%2==1;u.dayNight=l,u.gameService.gameApi.day=l}function Xe(u){lm(u.formGroup,u.player,u.opponent),dt(u)}function dt(u){u.playerPetsControls=Array.from(u.formGroup.get("playerPets").controls).reverse(),u.opponentPetsControls=Array.from(u.formGroup.get("opponentPets").controls)}function St(u){u.petService.buildCustomPackPets(u.formGroup.get("customPacks")),ci(u),uu(u,u.player,u.formGroup.get("playerPack").value,!1),uu(u,u.opponent,u.formGroup.get("opponentPack").value,!1),Va(u,u.player,u.formGroup.get("playerToy").value),Va(u,u.opponent,u.formGroup.get("opponentToy").value),u.gameService.gameApi.playerHardToy=u.formGroup.get("playerHardToy").value,u.gameService.gameApi.playerHardToyLevel=u.formGroup.get("playerHardToyLevel").value,u.gameService.gameApi.opponentHardToy=u.formGroup.get("opponentHardToy").value,u.gameService.gameApi.opponentHardToyLevel=u.formGroup.get("opponentHardToyLevel").value,bp(u,u.player,u.formGroup.get("playerHardToy").value),bp(u,u.opponent,u.formGroup.get("opponentHardToy").value),u.previousPackOpponent=u.opponent.pack,u.previousPackPlayer=u.player.pack}function ci(u){for(let h=0;h<5;h++){const l=u.formGroup.get("playerPets").controls[h];if(null==l.get("name").value)continue;const y=u.petService.createPet(l.value,u.player);u.player.setPet(h,y,!0)}for(let h=0;h<5;h++){const l=u.formGroup.get("opponentPets").controls[h];if(null==l.get("name").value)continue;const y=u.petService.createPet(l.value,u.opponent);u.opponent.setPet(h,y,!0)}}function $i(u,h){if(!u.activePetSlot)return u.setStatus("Select a pet slot first.","error"),!1;const l=Ur(u,u.activePetSlot.side,u.activePetSlot.index);if(!l)return u.setStatus("Could not access selected pet slot.","error"),!1;const y=l.formGroup?.getRawValue?.();return y?.name?(u.petClipboard=L_(y),h?(l.removePet(),u.setStatus("Pet cut.","success")):u.setStatus("Pet copied.","success"),!0):(u.setStatus("Selected slot is empty.","error"),!1)}function Ur(u,h,l){const y="player"===h?u.player:u.opponent;return u.petSelectors?.toArray?.()?.find(E=>E.player===y&&E.index===l)??null}function L_(u){return JSON.parse(JSON.stringify(u))}wo(No),ya(No);const oC="sapTheme";function AD(u,h,l){u.theme=h,u.battleBackgrounds="dark"===h?[...Dv]:[...Mv],u.setRandomBackground(),document.documentElement.setAttribute("data-bs-theme",h),document.body.classList.toggle("theme-dark","dark"===h),l&&window.localStorage.setItem(oC,h),u.markForCheck()}var lC=i(24111),cC=i(49230),ED=i(1744),kC=i(96767);function SD(u){return null!==u&&"object"==typeof u&&!Array.isArray(u)}function TD(u){if(Array.isArray(u))return u.map(h=>TD(h));if(SD(u)){const h={};for(const l of Object.keys(u))h[kC.g[l]||l]=TD(u[l]);return h}return u}let RC=(()=>{class u{parseCalculatorStateFromUrl(){const l=new URLSearchParams(window.location.search),y=window.location.hash.startsWith("#")?window.location.hash.slice(1):window.location.hash,E=new URLSearchParams(y.startsWith("?")?y.slice(1):y),C=l.get("c")||E.get("c");if(!C)return{state:null};try{const I=decodeURIComponent(C),W=I.trim().startsWith("{")||I.trim().startsWith("[")?JSON.parse(I):function IC(u){try{return JSON.parse(u)}catch{return JSON.parse(decodeURIComponent(u))}}(function OC(u){const h=atob(function wC(u){const h=u.replace(/\s/g,"+").replace(/-/g,"+").replace(/_/g,"/");return`${h}${"=".repeat((4-h.length%4)%4)}`}(u)),l=Uint8Array.from(h,y=>y.charCodeAt(0));return(new TextDecoder).decode(l)}(C)),X=TD(W);return SD(X)?{state:X}:{state:null}}catch{return{state:null,error:"Failed to parse calculator state from URL."}}}parseApiStateFromUrl(){const y=new URLSearchParams(window.location.search).get("code");if(!y)return{state:null};try{const E=JSON.parse(decodeURIComponent(y));return SD(E)?{state:E}:{state:null}}catch{return{state:null,error:"Error parsing API data from URL."}}}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();function LC(u){return new ue.gE({name:new ue.MJ(u?.name??null,ue.k0.required),tier1Pets:new ue.MJ(u?.tier1Pets??[],u=>u.value&&10!==u.value.length?{length:!0}:null),tier2Pets:new ue.MJ(u?.tier2Pets??[],u=>u.value&&10!==u.value.length?{length:!0}:null),tier3Pets:new ue.MJ(u?.tier3Pets??[],u=>u.value&&10!==u.value.length?{length:!0}:null),tier4Pets:new ue.MJ(u?.tier4Pets??[],u=>u.value&&10!==u.value.length?{length:!0}:null),tier5Pets:new ue.MJ(u?.tier5Pets??[],u=>u.value&&10!==u.value.length?{length:!0}:null),tier6Pets:new ue.MJ(u?.tier6Pets??[],u=>u.value&&10!==u.value.length?{length:!0}:null),spells:new ue.MJ(u?.spells??[])})}let xC=(()=>{class u{gameService;constructor(l){this.gameService=l}applyCalculatorState(l,y,E,C){const I=this.getDefaultState(),W=this.asRecord(y),X={...I,...W};l.patchValue(X,{emitEvent:!1});const z=W?.customPacks,pe=W?{...W,customPacks:[]}:{};this.loadCustomPacks(l,z),l.patchValue(pe,{emitEvent:!1}),l.get("tokenPets")?.setValue(!0,{emitEvent:!1}),this.normalizeEquipmentControls(l.get("playerPets")),this.normalizeEquipmentControls(l.get("opponentPets")),C&&setTimeout(()=>C()),this.gameService.gameApi.oldStork=l.get("oldStork").value,this.gameService.gameApi.komodoShuffle=l.get("komodoShuffle").value,this.gameService.gameApi.mana=l.get("mana").value,this.gameService.gameApi.playerRollAmount=l.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=l.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=l.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=l.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=l.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=l.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=l.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=l.get("opponentTransformationAmount").value,this.gameService.gameApi.day=E,this.gameService.gameApi.turnNumber=l.get("turn").value}loadCustomPacks(l,y){const E=l.get("customPacks");E.clear();const C=Array.isArray(y)?y:[];for(const I of C){const W=LC(I);E.push(W)}}getDefaultState(){return{playerPack:"Turtle",opponentPack:"Turtle",playerToy:null,playerToyLevel:"1",playerHardToy:null,playerHardToyLevel:"1",opponentToy:null,opponentToyLevel:"1",opponentHardToy:null,opponentHardToyLevel:"1",turn:11,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerPets:Array(5).fill(null),opponentPets:Array(5).fill(null),allPets:!1,logFilter:null,customPacks:[],oldStork:!1,tokenPets:!0,komodoShuffle:!1,mana:!1,seed:null,showAdvanced:!1,showTriggerNamesInLogs:!1,showPositionalArgsInLogs:!0,ailmentEquipment:!1}}normalizeEquipmentControls(l){if(l?.controls?.length)for(const y of l.controls){const C=y.get("equipment");if(!C)continue;const I=C.value,W=this.getEquipmentName(I);W!==I&&C.setValue(W,{emitEvent:!1})}}getEquipmentName(l){return l?"string"==typeof l?l:null!==l&&"object"==typeof l&&"name"in l&&"string"==typeof l.name?l.name:null:null}asRecord(l){return null===l||"object"!=typeof l||Array.isArray(l)?null:l}static \u0275fac=function(y){return new(y||u)(v.KVO(ED.w))};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();var uC=i(46791),FC=i(19661);let NC=(()=>{class u{logService;gameService;abilityService;petService;equipmentService;toyService;constructor(l,y,E,C,I,W){this.logService=l,this.gameService=y,this.abilityService=E,this.petService=C,this.equipmentService=I,this.toyService=W}runSimulationInWorker(l,y,E,C,I,W,X){if(typeof Worker>"u"){const Ke=this.runSimulation(l,y,E,C);return I.onResult?.(Ke),null}const z=this.buildConfig(l,y,X),pe=l.get("showTriggerNamesInLogs")?.value??!1,Me=W?.progressInterval??50,xe=new Worker(i.tu(new URL(i.p+i.u(63),i.b)),{type:void 0});return xe.onmessage=({data:Ke})=>{!Ke||!Ke.type||("progress"===Ke.type?I.onProgress?.(Ke):"result"===Ke.type?I.onResult?.(Ke.result):"aborted"===Ke.type?I.onAborted?.(Ke.result):"error"===Ke.type&&I.onError?.(Ke.message||"Worker simulation failed."))},xe.onerror=Ke=>{I.onError?.(Ke.message||"Worker simulation failed.")},xe.postMessage({type:"start",config:z,progressInterval:Me,showTriggerNamesInLogs:pe}),xe}runPositioningOptimizationInWorker(l,y,E,C,I,W,X){if(typeof Worker>"u"){const Me=this.runPositioningOptimization(l,y,E,C,W,X);return I.onResult?.(Me),null}const z=this.buildConfig(l,y,X),pe=new Worker(i.tu(new URL(i.p+i.u(301),i.b)),{type:void 0});return pe.onmessage=({data:Me})=>{!Me||!Me.type||("positioning-progress"===Me.type?I.onProgress?.(Me.progress):"positioning-result"===Me.type?I.onResult?.(Me.result):"positioning-aborted"===Me.type?I.onAborted?.(Me.result):"error"===Me.type&&I.onError?.(Me.message||"Worker optimization failed."))},pe.onerror=Me=>{I.onError?.(Me.message||"Worker optimization failed.")},pe.postMessage({type:"optimize-positioning-start",config:z,options:W}),pe}requestWorkerCancel(l){if(l)try{l.postMessage({type:"cancel"})}catch{}}runSimulation(l,y,E,C,I){const W=this.buildConfig(l,y,I),X=this.logService.isEnabled(),z=this.logService.isDeferDecorations();this.logService.setEnabled(!1!==W.logsEnabled),this.logService.setDeferDecorations(!0);const Me=new uC.O(this.logService,this.gameService,this.abilityService,this.petService,this.equipmentService,this.toyService).run(W);return this.gameService.init(E,C),this.syncGameApiFromForm(l),this.logService.setEnabled(X),this.logService.setDeferDecorations(z),Me}runPositioningOptimization(l,y,E,C,I,W){const X=this.buildConfig(l,y,W),z=this.logService.isEnabled(),pe=this.logService.isDeferDecorations();this.logService.setEnabled(!1),this.logService.setDeferDecorations(!0);const Me=new uC.O(this.logService,this.gameService,this.abilityService,this.petService,this.equipmentService,this.toyService),xe=(0,FC.i)({baseConfig:X,options:{side:I.side,batchSize:I.batchSize,maxSimulationsPerPermutation:I.maxSimulationsPerPermutation,confidenceZ:I.confidenceZ,minSamplesBeforeElimination:I.minSamplesBeforeElimination},projectEndTurnLineup:({lineup:Ke})=>Me.projectLineupAfterEndTurn(X,I.side,Ke),simulateBatch:Ke=>Me.run(Ke)});return this.gameService.init(E,C),this.syncGameApiFromForm(l),this.logService.setEnabled(z),this.logService.setDeferDecorations(pe),xe}syncGameApiFromForm(l){this.gameService.gameApi.oldStork=l.get("oldStork").value,this.gameService.gameApi.komodoShuffle=l.get("komodoShuffle").value,this.gameService.gameApi.mana=l.get("mana").value,this.gameService.gameApi.playerRollAmount=l.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=l.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=l.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=l.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=l.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=l.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=l.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=l.get("opponentTransformationAmount").value,this.gameService.setGoldSpent(l.get("playerGoldSpent").value,l.get("opponentGoldSpent").value),this.gameService.setTurnNumber(l.get("turn").value)}buildConfig(l,y,E){const C=l.get("logsEnabled")?.value??!0,I=l.get("seed")?.value,W=Number(I),X=""!==I&&null!=I&&Number.isFinite(W)?Math.trunc(W):null;return{playerPack:l.get("playerPack").value,opponentPack:l.get("opponentPack").value,playerToy:l.get("playerToy").value,playerToyLevel:l.get("playerToyLevel").value,playerHardToy:l.get("playerHardToy").value,playerHardToyLevel:l.get("playerHardToyLevel").value,opponentToy:l.get("opponentToy").value,opponentToyLevel:l.get("opponentToyLevel").value,opponentHardToy:l.get("opponentHardToy").value,opponentHardToyLevel:l.get("opponentHardToyLevel").value,turn:l.get("turn").value,playerGoldSpent:l.get("playerGoldSpent").value,opponentGoldSpent:l.get("opponentGoldSpent").value,playerRollAmount:l.get("playerRollAmount").value,opponentRollAmount:l.get("opponentRollAmount").value,playerSummonedAmount:l.get("playerSummonedAmount").value,opponentSummonedAmount:l.get("opponentSummonedAmount").value,playerLevel3Sold:l.get("playerLevel3Sold").value,opponentLevel3Sold:l.get("opponentLevel3Sold").value,playerTransformationAmount:l.get("playerTransformationAmount").value,opponentTransformationAmount:l.get("opponentTransformationAmount").value,playerPets:this.normalizePetList(l.get("playerPets").value),opponentPets:this.normalizePetList(l.get("opponentPets").value),customPacks:this.normalizeCustomPacks(l.get("customPacks")?.value),allPets:l.get("allPets").value,oldStork:l.get("oldStork").value,tokenPets:l.get("tokenPets").value,komodoShuffle:l.get("komodoShuffle").value,mana:l.get("mana").value,seed:X,simulationCount:y,logsEnabled:C,maxLoggedBattles:100,...E}}normalizeCustomPacks(l){return Array.isArray(l)?l.map(y=>this.normalizeCustomPack(y)).filter(y=>null!==y):[]}isRecord(l){return"object"==typeof l&&null!==l}normalizeCustomPack(l){if(!this.isRecord(l))return null;const y=`${l.name??""}`.trim();if(!y)return null;const E=C=>Array.isArray(C)?C.filter(I=>"string"==typeof I).map(I=>I.trim()).filter(I=>I.length>0):[];return{name:y,tier1Pets:E(l.tier1Pets),tier2Pets:E(l.tier2Pets),tier3Pets:E(l.tier3Pets),tier4Pets:E(l.tier4Pets),tier5Pets:E(l.tier5Pets),tier6Pets:E(l.tier6Pets),spells:E(l.spells)}}normalizePetList(l){return Array.isArray(l)?l.map(y=>this.normalizePetEntry(y)):[]}normalizePetEntry(l){if(!this.isRecord(l)||"string"!=typeof l.name||!l.name)return null;const y={...l},E=y.equipment;let C=null,I="number"==typeof y.equipmentUses?y.equipmentUses:null;if(this.isRecord(E)){if(C="string"==typeof E.name?E.name:null,null==I&&null!=E.uses){const W=Number(E.uses);I=Number.isFinite(W)?W:null}}else"string"==typeof E&&(C=E);return y.equipment=C?{name:C}:null,y.equipmentUses=I??null,delete y.parent,delete y.logService,delete y.abilityService,delete y.gameService,delete y.petService,delete y.abilityList,delete y.originalAbilityList,delete y.originalEquipment,y}static \u0275fac=function(y){return new(y||u)(v.KVO(lC.K),v.KVO(ED.w),v.KVO(cC.K),v.KVO(As.T),v.KVO(aa.m),v.KVO(Ns.w))};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();function DD(){return[{id:"default-max-damage",name:"1000 Mana",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:3,pets:Array.from({length:5},()=>({name:"Sea Serpent",attack:50,health:50,exp:5,equipment:{name:"Coconut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-great-six",name:"The Great Six",createdAt:Date.now(),toyName:"Evil Book",toyLevel:3,pets:Array.from({length:5},()=>({name:"Beluga Whale",attack:50,health:50,exp:5,equipment:{name:"White Okra"},belugaSwallowedPet:"Great One",sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-ability-removal",name:"Orca Scam",createdAt:Date.now(),playerToyName:"Pandoras Box",playerToyLevel:1,opponentToyName:null,opponentToyLevel:1,playerHardToy:null,playerHardToyLevel:1,opponentHardToy:null,opponentHardToyLevel:1,turn:11,playerGoldSpent:10,opponentGoldSpent:10,allPets:!0,tokenPets:!0,komodoShuffle:!1,mana:!0,triggersConsumed:!1,changeEquipmentUses:!1,playerRollAmount:3,opponentRollAmount:1,playerLevel3Sold:0,opponentLevel3Sold:0,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:100,opponentTransformationAmount:100,pets:[{name:"Giant Pangasius",attack:49,health:1,exp:1,equipment:null,belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1Level:1,abominationSwallowedPet2Level:1,abominationSwallowedPet3Level:1,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:1,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Orca",abominationSwallowedPet2:"Behemoth",abominationSwallowedPet3:"Rat",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:50,health:1,exp:5,equipment:{name:"Silly"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Rat",abominationSwallowedPet2:"Phoenix",abominationSwallowedPet3:"Giant Pangasius",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:1,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:1,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Rat",abominationSwallowedPet3:"Albatross",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Cashew Nut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Panther",abominationSwallowedPet3:"Guineafowl",abominationSwallowedPet1Level:1,abominationSwallowedPet2Level:1,abominationSwallowedPet3Level:1,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}]},{id:"default-sob-snipes",name:"SoB Snipes",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:3,pets:Array.from({length:5},()=>({name:"Leopard",attack:50,health:50,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-infinite-damage",name:"Infinite Damage",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:1,rollAmount:47,transformationAmount:200,pets:[{name:"Giant Pangasius",attack:50,health:1,exp:5,equipment:{name:"Mushroom"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Beluga Whale",abominationSwallowedPet3Level:1,abominationSwallowedPet3BelugaSwallowedPet:"Giant Pangasius",abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Cashew Nut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Beluga Whale",abominationSwallowedPet3Level:1,abominationSwallowedPet3BelugaSwallowedPet:"Nessie",abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Sabertooth Tiger",abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:25,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Beluga Whale",abominationSwallowedPet3Level:1,abominationSwallowedPet3BelugaSwallowedPet:"Slug",abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}]},{id:"default-layers",name:"Layers",createdAt:Date.now(),playerToyName:"Nutcracker",playerToyLevel:3,opponentToyName:"Nutcracker",opponentToyLevel:3,playerHardToy:null,playerHardToyLevel:1,opponentHardToy:null,opponentHardToyLevel:1,turn:13,playerGoldSpent:13,opponentGoldSpent:13,allPets:!0,tokenPets:!0,komodoShuffle:!1,mana:!0,triggersConsumed:!1,changeEquipmentUses:!1,playerRollAmount:1e3,opponentRollAmount:1e3,playerLevel3Sold:1e3,opponentLevel3Sold:1e3,playerSummonedAmount:1e3,opponentSummonedAmount:1e3,playerTransformationAmount:1e3,opponentTransformationAmount:1e3,pets:[{name:"Giant Pangasius",attack:50,health:1,exp:5,equipment:{name:"Mushroom"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1Level:1,abominationSwallowedPet2Level:1,abominationSwallowedPet3Level:1,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Rat",abominationSwallowedPet3:"Sabertooth Tiger",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:50,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Cashew Nut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Guineafowl",abominationSwallowedPet3:"Vaquita",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:1,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:50,battlesFought:0,timesHurt:0,equipmentUses:1},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Rat",abominationSwallowedPet3:"Vaquita",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:50,battlesFought:0,timesHurt:0,equipmentUses:1},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Rat",abominationSwallowedPet3:"Sabertooth Tiger",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:50,battlesFought:0,timesHurt:0,equipmentUses:null}]}]}let UC=(()=>{class u{storageKey="sap-team-presets";removedPresetIds=new Set(["default-shoggoth","default-shoggoths-return","default-sloths"]);loadTeams(){const l=window.localStorage.getItem(this.storageKey);if(!l)return DD();try{const y=JSON.parse(l),E=Array.isArray(y)?y:[],C=this.migrateTeams(E);return C.changed&&this.persistTeams(C.teams),this.mergeDefaultTeams(C.teams)}catch{return DD()}}persistTeams(l){window.localStorage.setItem(this.storageKey,JSON.stringify(l))}mergeDefaultTeams(l){const y=DD(),E=new Set(l.map(I=>I.id)),C=[...l];for(const I of y)E.has(I.id)||C.push(I);return C}migrateTeams(l){let y=!1;return{teams:l.map(I=>I).filter(I=>!this.removedPresetIds.has(I.id)||(y=!0,!1)),changed:y}}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();const WC=["customPackEditor"],KC=()=>[i.e(142).then(i.bind(i,7142)).then(u=>u.InfoComponent)],$C=()=>[i.e(81).then(i.bind(i,41081)).then(u=>u.ImportCalculatorComponent)],GC=()=>[ue.cb,ue.j4,i.e(56).then(i.bind(i,10056)).then(u=>u.ExportCalculatorComponent)],HC=()=>[i.e(80).then(i.bind(i,71318)).then(u=>u.ReportABugComponent)];function jC(u,h){if(1&u&&(e.qex(0),e.j41(1,"div",6),e.EFF(2),e.k0s(),e.bVm()),2&u){const l=e.XpG();e.R7$(2),e.JRh(l.apiResponse)}}function VC(u,h){if(1&u&&e.nrm(0,"img",51),2&u){const l=e.XpG(2);e.Y8G("ngSrc",l.playerToyImageUrl)}}function zC(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",52)(1,"button",53),e.bIt("click",function(){v.eBV(l);const E=e.XpG(2);return v.Njj(E.decrementToyLevel("player"))}),e.nrm(2,"i",54),e.k0s(),e.j41(3,"span",55),e.EFF(4),e.k0s(),e.j41(5,"button",56),e.bIt("click",function(){v.eBV(l);const E=e.XpG(2);return v.Njj(E.incrementToyLevel("player"))}),e.nrm(6,"i",57),e.k0s()()}if(2&u){const l=e.XpG(2);e.R7$(4),e.SpI("Lv",l.formGroup.get("playerToyLevel").value)}}function YC(u,h){if(1&u&&e.nrm(0,"img",58),2&u){const l=e.XpG(2);e.Y8G("ngSrc",l.playerHardToyImageUrl)}}function XC(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",59),e.bIt("click",function(){v.eBV(l);const E=e.XpG(2);return v.Njj(E.removeHardToy("player"))}),e.nrm(1,"i",60),e.k0s()}}function JC(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",61),e.bIt("mousedown",function(){const E=v.eBV(l).index,C=e.XpG(2);return v.Njj(C.setActivePetSlot("player",4-E))})("focusin",function(){const E=v.eBV(l).index,C=e.XpG(2);return v.Njj(C.setActivePetSlot("player",4-E))}),e.j41(1,"div",62)(2,"button",63),e.bIt("click",function(E){return v.eBV(l),e.sdS(5).removePet(),v.Njj(E.stopPropagation())}),e.EFF(3," X "),e.k0s()(),e.nrm(4,"app-pet-selector",64,2),e.k0s()}if(2&u){const l=h.$implicit,y=h.index,E=e.XpG(2);e.AVh("pet-slot-active","player"===(null==E.activePetSlot?null:E.activePetSlot.side)&&(null==E.activePetSlot?null:E.activePetSlot.index)===4-y),e.Y8G("cdkDragStartDelay",E.petSlotDragStartDelay),e.R7$(4),e.Y8G("pet",E.player.getPet(4-y))("player",E.player)("opponent",E.opponent)("index",4-y)("formGroup",E.makeFormGroup(l))("ailments",!0)("allPets",E.formGroup.get("allPets").value)("mana",E.formGroup.get("mana").value)("triggersConsumed",E.formGroup.get("triggersConsumed").value)("allowEquipmentUseOverrides",E.formGroup.get("changeEquipmentUses").value)("showTokenPets",E.formGroup.get("tokenPets").value)("flipImage",!0)("customPacks",E.formGroup.get("customPacks"))}}function QC(u,h){if(1&u&&e.nrm(0,"img",65),2&u){const l=e.XpG(2);e.Y8G("ngSrc",l.opponentToyImageUrl)}}function qC(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",52)(1,"button",66),e.bIt("click",function(){v.eBV(l);const E=e.XpG(2);return v.Njj(E.decrementToyLevel("opponent"))}),e.nrm(2,"i",54),e.k0s(),e.j41(3,"span",55),e.EFF(4),e.k0s(),e.j41(5,"button",67),e.bIt("click",function(){v.eBV(l);const E=e.XpG(2);return v.Njj(E.incrementToyLevel("opponent"))}),e.nrm(6,"i",57),e.k0s()()}if(2&u){const l=e.XpG(2);e.R7$(4),e.SpI("Lv",l.formGroup.get("opponentToyLevel").value)}}function ZC(u,h){if(1&u&&e.nrm(0,"img",68),2&u){const l=e.XpG(2);e.Y8G("ngSrc",l.opponentHardToyImageUrl)}}function ek(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",69),e.bIt("click",function(){v.eBV(l);const E=e.XpG(2);return v.Njj(E.removeHardToy("opponent"))}),e.nrm(1,"i",60),e.k0s()}}function tk(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",70),e.bIt("mousedown",function(){const E=v.eBV(l).index,C=e.XpG(2);return v.Njj(C.setActivePetSlot("opponent",E))})("focusin",function(){const E=v.eBV(l).index,C=e.XpG(2);return v.Njj(C.setActivePetSlot("opponent",E))}),e.j41(1,"div",62)(2,"button",63),e.bIt("click",function(E){return v.eBV(l),e.sdS(5).removePet(),v.Njj(E.stopPropagation())}),e.EFF(3," X "),e.k0s()(),e.nrm(4,"app-pet-selector",64,3),e.k0s()}if(2&u){const l=h.$implicit,y=h.index,E=e.XpG(2);e.AVh("pet-slot-active","opponent"===(null==E.activePetSlot?null:E.activePetSlot.side)&&(null==E.activePetSlot?null:E.activePetSlot.index)===y),e.Y8G("cdkDragStartDelay",E.petSlotDragStartDelay),e.R7$(4),e.Y8G("pet",E.opponent.getPet(y))("player",E.opponent)("opponent",E.player)("index",y)("formGroup",E.makeFormGroup(l))("ailments",!0)("allPets",E.formGroup.get("allPets").value)("mana",E.formGroup.get("mana").value)("triggersConsumed",E.formGroup.get("triggersConsumed").value)("allowEquipmentUseOverrides",E.formGroup.get("changeEquipmentUses").value)("showTokenPets",E.formGroup.get("tokenPets").value)("flipImage",!1)("customPacks",E.formGroup.get("customPacks"))}}function ik(u,h){1&u&&e.nrm(0,"app-info")}function nk(u,h){1&u&&(e.j41(0,"div",71),e.EFF(1,"Loading info\u2026"),e.k0s())}function ak(u,h){if(1&u&&e.nrm(0,"app-import-calculator",72),2&u){const l=e.XpG(2);e.Y8G("importFunc",l.importForDialog)}}function sk(u,h){1&u&&(e.j41(0,"div",71),e.EFF(1,"Loading import tools\u2026"),e.k0s())}function rk(u,h){if(1&u&&e.nrm(0,"app-export-calculator",41),2&u){const l=e.XpG(2);e.Y8G("formGroup",l.formGroup)}}function ok(u,h){1&u&&(e.j41(0,"div",71),e.EFF(1,"Loading export tools\u2026"),e.k0s())}function lk(u,h){if(1&u&&e.nrm(0,"app-report-a-bug",73),2&u){const l=e.XpG(2);e.Y8G("calcFormGroup",l.formGroup)}}function ck(u,h){1&u&&(e.j41(0,"div",71),e.EFF(1,"Loading report form\u2026"),e.k0s())}function uk(u,h){if(1&u){const l=e.RV6();e.qex(0),e.j41(1,"div",7,0)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"h2",12),e.EFF(8,"Player"),e.k0s(),e.j41(9,"div",13)(10,"div",14)(11,"button",15),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.openSelectionDialog("toy","player"))}),e.DNE(12,VC,1,1,"img",16),e.j41(13,"span",17),e.EFF(14),e.k0s(),e.nrm(15,"i",18),e.k0s(),e.DNE(16,zC,7,1,"div",19),e.k0s(),e.j41(17,"div",14)(18,"button",15),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.openSelectionDialog("hard-toy","player"))}),e.DNE(19,YC,1,1,"img",20),e.j41(20,"span",17),e.EFF(21),e.k0s(),e.nrm(22,"i",18),e.k0s(),e.DNE(23,XC,2,0,"button",21),e.k0s()()(),e.j41(24,"button",22),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.resetPlayer("player"))}),e.EFF(25," Reset "),e.k0s()(),e.j41(26,"div",23)(27,"div",24),e.bIt("cdkDropListDropped",function(E){v.eBV(l);const C=e.XpG();return v.Njj(C.drop(E,"player"))}),e.DNE(28,JC,6,16,"div",25),e.k0s()()(),e.j41(29,"div",26)(30,"div",10)(31,"div",11)(32,"h2",27),e.EFF(33,"Opponent"),e.k0s(),e.j41(34,"div",13)(35,"div",14)(36,"button",15),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.openSelectionDialog("toy","opponent"))}),e.DNE(37,QC,1,1,"img",28),e.j41(38,"span",17),e.EFF(39),e.k0s(),e.nrm(40,"i",18),e.k0s(),e.DNE(41,qC,7,1,"div",19),e.k0s(),e.j41(42,"div",14)(43,"button",15),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.openSelectionDialog("hard-toy","opponent"))}),e.DNE(44,ZC,1,1,"img",29),e.j41(45,"span",17),e.EFF(46),e.k0s(),e.nrm(47,"i",18),e.k0s(),e.DNE(48,ek,2,0,"button",30),e.k0s()()(),e.j41(49,"button",22),e.bIt("click",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.resetPlayer("opponent"))}),e.EFF(50," Reset "),e.k0s()(),e.j41(51,"div",31)(52,"div",24),e.bIt("cdkDropListDropped",function(E){v.eBV(l);const C=e.XpG();return v.Njj(C.drop(E,"opponent"))}),e.DNE(53,tk,6,16,"div",32),e.k0s()()()(),e.nrm(54,"app-shell-controls",33)(55,"app-shell-battle-results",33),e.j41(56,"div",34,1)(58,"div",35)(59,"div",36)(60,"div",37)(61,"h1",38),e.EFF(62," Custom Pack Editor "),e.k0s(),e.nrm(63,"button",39),e.k0s(),e.j41(64,"div",40),e.nrm(65,"app-custom-pack-editor",41),e.k0s()()()(),e.j41(66,"div",42)(67,"div",43)(68,"div",36)(69,"div",37)(70,"h1",44),e.EFF(71,"Guide"),e.k0s(),e.nrm(72,"button",39),e.k0s(),e.j41(73,"div",40),e.PeT(74,ik,1,0)(75,nk,2,0),e.nv$(76,74,KC,null,75),e.k0s()()()(),e.j41(78,"div",45)(79,"div",43)(80,"div",36)(81,"div",37)(82,"h1",46),e.EFF(83," Import "),e.k0s(),e.nrm(84,"button",39),e.k0s(),e.j41(85,"div",40),e.PeT(86,ak,1,1)(87,sk,2,0),e.nv$(88,86,$C,null,87),e.k0s()()()(),e.j41(90,"div",47)(91,"div",43)(92,"div",36)(93,"div",37)(94,"h1",48),e.EFF(95," Export "),e.k0s(),e.nrm(96,"button",39),e.k0s(),e.j41(97,"div",40),e.PeT(98,rk,1,1)(99,ok,2,0),e.nv$(100,98,GC,null,99),e.k0s()()()(),e.j41(102,"div",49)(103,"div",43)(104,"div",36)(105,"div",37)(106,"h1",50),e.EFF(107,"Report A Bug"),e.k0s(),e.nrm(108,"button",39),e.k0s(),e.j41(109,"div",40),e.PeT(110,lk,1,1)(111,ck,2,0),e.nv$(112,110,HC,null,111),e.k0s()()()()(),e.bVm()}if(2&u){const l=e.XpG();e.R7$(),e.Y8G("formGroup",l.formGroup)("ngClass",l.lapsusTypographyStageClass),e.R7$(2),e.xc7("background-image",l.battleBackgroundUrl?"url("+l.battleBackgroundUrl+")":""),e.R7$(9),e.Y8G("ngIf",l.playerToyImageUrl),e.R7$(2),e.JRh(l.formGroup.get("playerToy").value||"Select Toy"),e.R7$(2),e.Y8G("ngIf",l.playerToyImageUrl),e.R7$(3),e.Y8G("ngIf",l.playerHardToyImageUrl),e.R7$(2),e.JRh(l.formGroup.get("playerHardToy").value||"Hard Toy"),e.R7$(2),e.Y8G("ngIf",l.playerHardToyImageUrl),e.R7$(5),e.Y8G("ngForOf",l.playerPetsControls)("ngForTrackBy",l.trackByIndex),e.R7$(9),e.Y8G("ngIf",l.opponentToyImageUrl),e.R7$(2),e.JRh(l.formGroup.get("opponentToy").value||"Select Toy"),e.R7$(2),e.Y8G("ngIf",l.opponentToyImageUrl),e.R7$(3),e.Y8G("ngIf",l.opponentHardToyImageUrl),e.R7$(2),e.JRh(l.formGroup.get("opponentHardToy").value||"Hard Toy"),e.R7$(2),e.Y8G("ngIf",l.opponentHardToyImageUrl),e.R7$(5),e.Y8G("ngForOf",l.opponentPetsControls)("ngForTrackBy",l.trackByIndex),e.R7$(),e.Y8G("app",l.app),e.R7$(),e.Y8G("app",l.app),e.R7$(10),e.Y8G("formGroup",l.formGroup),e.R7$(11),e.LVR(l.showInfo),e.R7$(12),e.LVR(l.showImport),e.R7$(12),e.LVR(l.showExport),e.R7$(12),e.LVR(l.showReportABug)}}function dk(u,h){if(1&u){const l=e.RV6();e.j41(0,"app-item-selection-dialog",74),e.bIt("select",function(E){v.eBV(l);const C=e.XpG();return v.Njj(C.onItemSelected(E))})("close",function(){v.eBV(l);const E=e.XpG();return v.Njj(E.showSelectionDialog=!1)}),e.k0s()}if(2&u){const l=e.XpG();e.Y8G("ngClass",l.lapsusTypographyStageClass)("type",l.selectionType)("showAllPets",l.formGroup.get("allPets").value)("customPacks",l.formGroup.get("customPacks"))("savedTeams",l.savedTeams)}}(function cn(u,h,l){return xn.apply(this,arguments)})((()=>{class u{logService;injector;cdr;abilityService;gameService;petService;toyService;equipmentService;localStorageService;urlStateService;calculatorStateService;simulationService;teamPresetsService;app=this;lapsusTypographyStage=1;get lapsusTypographyStageClass(){return`lapsus-stage-${this.lapsusTypographyStage}`}petSelectors;customPackEditor;version="0.9.3";sapVersion="0.33.3-156 BETA";lastUpdated="1/20/2026";title="sap-calculator";player;opponent;maxTurns=71;turns=0;attackCount=0;battleStarted=!1;simulationBattleAmt=1e3;playerWinner=0;opponentWinner=0;draw=0;simulationInProgress=!1;simulationProgress=0;simulationProgressLabel="";simulationCancelRequested=!1;simulationWorker=null;simulationRunId=0;pendingPositioningOptimizationBaseline=null;positioningDeltaSummary=null;battles=[];battleRandomEvents=[];battleRandomEventsByBattle=new Map;filteredBattlesCache=[];randomDecisions=[];randomOverrideError=null;randomDecisionSelectionByFingerprint={};randomDecisionPartsCache=new Map;currBattle;viewBattle;simulated=!1;formGroup;toys;regularToys=new Map;hardWackyToys=new Map;customPackEditorModal;previousPackPlayer=null;previousPackOpponent=null;dayNight=!0;theme="light";soundMuted=!1;soundMenuOpen=!1;soundVolume=1;battleBackgroundUrl="";playerToyImageUrl="";opponentToyImageUrl="";playerHardToyImageUrl="";opponentHardToyImageUrl="";savedTeams=[];selectedTeamId="";teamName="";battleBackgrounds=[...Mv];logFilterTabs=[...lM];api=!1;apiResponse=null;showSelectionDialog=!1;selectionType="pet";selectionSide="none";showInfo=!1;showImport=!1;showExport=!1;showReportABug=!1;showBattleAnalysis=!1;showRandomOverrides=!0;fightAnimationFrames=[];fightAnimationTimeline=null;fightAnimationFrameIndex=-1;fightAnimationPlaying=!1;fightAnimationSpeed=1;fightAnimationSpeedOptions=[.5,1,1.5,2];logEventFilterOptions=[{value:"all",label:"All"},{value:"board",label:"Board"},{value:"attack",label:"Attack"},{value:"ability",label:"Ability"},{value:"equipment",label:"Equipment"},{value:"death",label:"Death"},{value:"random",label:"Random"}];fightAttackIconSrc="/assets/art/Public/Public/Icons/fist-from-textmap.png";fightHealthIconSrc="/assets/art/Public/Public/Icons/heart-from-textmap.png";fightExpIconSrc="/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/xp.png";fightManaIconSrc="/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/mana.png";fightSnipeIconSrc="/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/snipe.png";fightTrumpetIconSrc="/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/trumpet.png";playerPetsControls=[];opponentPetsControls=[];logEventFilter="all";viewBattleLogs=[];viewBattleLogRows=[];viewBattleLogGroups=[];collapsedLogGroupIds=new Set;viewBattleTimelineRows=[];diffBattleLeftIndex=0;diffBattleRightIndex=0;diffBattleLeftScope="all";diffBattleRightScope="all";battleDiffRows=[];battleDiffSummary={equalSteps:0,changedSteps:0,leftOnly:0,rightOnly:0};playerPackImageBroken=!1;opponentPackImageBroken=!1;undoState=null;isLoadedFromUrl=!1;fightAnimationTimer=null;formAutoSaveSubscription=null;fightAnimationRenderFrameCache=null;fightAnimationRenderFrameCacheSource=null;fightAnimationRenderFrameCacheIndex=-1;statusStateController=function CC(u){let h=null;const l=()=>{h&&(clearTimeout(h),h=null)};return{setStatus:(I,W="success")=>{u.statusMessage=I,u.statusTone=W,u.markForCheck(),l(),h=setTimeout(()=>{u.statusMessage="",h=null,u.markForCheck()},3e3)},clearStatus:()=>{l(),u.statusMessage="",u.markForCheck()},dispose:()=>{l()}}}(this);statusMessage="";statusTone="success";lastAutoSavedAt=null;activePetSlot=null;petClipboard=null;petSlotDragStartDelay={touch:160,mouse:0};trackByIndex=um;trackByTeamId=G1;trackByLogTab=H1;toggleBattleAnalysis=()=>{this.showBattleAnalysis=!this.showBattleAnalysis};toggleRandomOverrides=()=>{this.showRandomOverrides=!this.showRandomOverrides,this.cdr.markForCheck()};refreshFightAnimationFromViewBattle=()=>S1(this);toggleFightAnimationPlayback=()=>function T1(u){if(0!==u.fightAnimationFrames.length){if(u.fightAnimationPlaying)return void zs(u);!function I1(u){if(0===u.fightAnimationFrames.length)return u.fightAnimationFrameIndex=-1,u.fightAnimationPlaying=!1,_p(u),void u.markForCheck();const h=u.fightAnimationFrames.length-1;(u.fightAnimationFrameIndex<0||u.fightAnimationFrameIndex>h)&&(u.fightAnimationFrameIndex=0),u.fightAnimationFrameIndex>=h&&(u.fightAnimationFrameIndex=0),u.fightAnimationPlaying=!0,fp(u),u.markForCheck()}(u)}}(this);resetFightAnimation=()=>function D1(u){if(zs(u,!1),0===u.fightAnimationFrames.length)return u.fightAnimationFrameIndex=-1,void u.markForCheck();u.fightAnimationFrameIndex=0,u.markForCheck()}(this);stepFightAnimation=l=>function sy(u,h){if(zs(u,!1),0===u.fightAnimationFrames.length)return u.fightAnimationFrameIndex=-1,void u.markForCheck();const l=u.fightAnimationFrames.length-1,y=Number.isFinite(h)?Math.trunc(h):0,E=Math.min(l,Math.max(0,u.fightAnimationFrameIndex+y));u.fightAnimationFrameIndex=E,u.markForCheck()}(this,l);setFightAnimationSpeed=l=>function nm(u,h){const l=B1(h);u.fightAnimationSpeed!==l&&(u.fightAnimationSpeed=l,u.fightAnimationPlaying&&fp(u),u.markForCheck())}(this,l);onFightAnimationScrub=l=>function C1(u,h){if(0===u.fightAnimationFrames.length)return;const l="number"==typeof h?h:Number(h);Number.isFinite(l)&&(zs(u,!1),u.fightAnimationFrameIndex=Math.min(u.fightAnimationFrames.length-1,Math.max(0,Math.trunc(l))),u.markForCheck())}(this,l);constructor(l,y,E,C,I,W,X,z,pe,Me,xe,Ke,_t){this.logService=l,this.injector=y,this.cdr=E,this.abilityService=C,this.gameService=I,this.petService=W,this.toyService=X,this.equipmentService=z,this.localStorageService=pe,this.urlStateService=Me,this.calculatorStateService=xe,this.simulationService=Ke,this.teamPresetsService=_t,vS.I.setInjector(this.injector),this.player=new rd.a(l,C,I),this.opponent=new rd.a(l,C,I),this.opponent.isOpponent=!0,this.gameService.init(this.player,this.opponent),this.petService.init(),this.initFormGroup();const ht=this.urlStateService.parseApiStateFromUrl();ht.state?(this.api=!0,this.applyCalculatorState(ht.state),this.simulate(),this.buildApiResponse()):ht.error&&(console.error(ht.error),this.apiResponse=JSON.stringify({error:"Invalid or corrupted data provided in the URL."}))}get rollInputVisible(){return function by(u){return u.formGroup.get("showAdvanced").value||function cu(u){for(const h of u)if(h&&h.petArray)for(const l of h.petArray)if(l&&(wa.includes(l.name)||"Abomination"===l.name&&(wa.includes(l.abominationSwallowedPet1)||wa.includes(l.abominationSwallowedPet2)||wa.includes(l.abominationSwallowedPet3)||"Beluga Whale"===l.abominationSwallowedPet1&&wa.includes(l.abominationSwallowedPet1BelugaSwallowedPet)||"Beluga Whale"===l.abominationSwallowedPet2&&wa.includes(l.abominationSwallowedPet2BelugaSwallowedPet)||"Beluga Whale"===l.abominationSwallowedPet3&&wa.includes(l.abominationSwallowedPet3BelugaSwallowedPet)||"Sarcastic Fringehead"===l.abominationSwallowedPet1&&wa.includes(l.abominationSwallowedPet1SarcasticFringeheadSwallowedPet)||"Sarcastic Fringehead"===l.abominationSwallowedPet2&&wa.includes(l.abominationSwallowedPet2SarcasticFringeheadSwallowedPet)||"Sarcastic Fringehead"===l.abominationSwallowedPet3&&wa.includes(l.abominationSwallowedPet3SarcasticFringeheadSwallowedPet))||"Beluga Whale"===l.name&&wa.includes(l.belugaSwallowedPet)||"Sarcastic Fringehead"===l.name&&wa.includes(l.sarcasticFringeheadSwallowedPet)))return!0;return!1}([u.player,u.opponent])}(this)}buildApiResponse=()=>function hM(u){u.apiResponse=(0,yl.ml)(u.playerWinner,u.opponentWinner,u.draw)}(this);printFormGroup=()=>function j1(u){console.log(u.formGroup)}(this);ngOnInit(){this.loadThemePreference(),this.loadSoundPreference(),this.isLoadedFromUrl=this.loadStateFromUrl(!0),this.isLoadedFromUrl||this.loadLocalStorage(),this.initApp(),this.loadTeamPresets(),this.setRandomBackground(),this.initGameApi(),this.setDayNight(),this.toys=this.toyService.toys,this.regularToys=this.toyService.getToysByType(0),this.hardWackyToys=this.toyService.getToysByType(1),this.formAutoSaveSubscription?.unsubscribe(),this.formAutoSaveSubscription=this.formGroup.valueChanges.pipe(na(250)).subscribe(()=>{this.localStorageService.setFormStorage(this.formGroup),this.lastAutoSavedAt=new Date,this.cdr.markForCheck()})}toggleTheme=()=>{!function MC(u){AD(u,"dark"===u.theme?"light":"dark",!0)}(this)};toggleSoundMuted=()=>{!function EC(u){u.soundMuted=!u.soundMuted,!u.soundMuted&&u.soundVolume<=0&&(u.soundVolume=.5,af(u.soundVolume)),bc(u.soundMuted),u.markForCheck()}(this)};toggleSoundMenu=()=>{!function SC(u){u.soundMenuOpen=!u.soundMenuOpen,u.markForCheck()}(this)};setSoundVolume=l=>{!function TC(u,h){const l=Number(h),y=Number.isFinite(l)?Math.min(1,Math.max(0,l)):1;u.soundVolume=y,af(y),y<=0&&!u.soundMuted?(u.soundMuted=!0,bc(!0)):y>0&&u.soundMuted&&(u.soundMuted=!1,bc(!1)),u.markForCheck()}(this,l)};get autoSaveLabel(){return this.lastAutoSavedAt?`Saved ${this.lastAutoSavedAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}`:""}get soundVolumePercent(){return Math.round(100*this.soundVolume)}loadStateFromUrl=(l=!1)=>function J(u,h=!1){const l=u.urlStateService.parseCalculatorStateFromUrl();if(!l.state)return l.error&&(console.error(l.error),u.setStatus?.("Could not load the shared calculator link. The data may be corrupted.","error")),!1;const y=R(u,JSON.stringify(l.state),h);return y&&console.log("Calculator state loaded from URL."),y}(this,l);ngAfterViewInit(){this.isLoadedFromUrl&&this.petSelectors.forEach(l=>{l.fixLoadEquipment()}),this.api||this.initModals()}ngOnDestroy(){this.formAutoSaveSubscription?.unsubscribe(),this.clearFightAnimationTimer(),this.statusStateController.dispose()}loadLocalStorage=()=>function le(u){const h=u.localStorageService.getStorage();if(h)try{ye(u,JSON.parse(h))}catch(l){console.log("error loading local storage",l),u.localStorageService.clearStorage()}}(this);applyCalculatorState=l=>ye(this,l);setDayNight=()=>Pe(this);setRandomBackground=()=>function V1(u){if(!u.battleBackgrounds.length)return void(u.battleBackgroundUrl="");const h=Math.floor(Math.random()*u.battleBackgrounds.length);u.battleBackgroundUrl=`assets/art/Public/Public/Background/${u.battleBackgrounds[h]}`}(this);fixCustomPackSelect=()=>Py(this);initApp=()=>St(this);initGameApi=()=>function Ze(u){u.gameService.gameApi.day=u.dayNight,u.gameService.gameApi.oldStork=u.formGroup.get("oldStork").value,u.gameService.gameApi.komodoShuffle=u.formGroup.get("komodoShuffle").value,u.gameService.gameApi.mana=u.formGroup.get("mana").value,u.gameService.gameApi.playerRollAmount=u.formGroup.get("playerRollAmount").value,u.gameService.gameApi.opponentRollAmount=u.formGroup.get("opponentRollAmount").value,u.gameService.gameApi.playerLevel3Sold=u.formGroup.get("playerLevel3Sold").value,u.gameService.gameApi.opponentLevel3Sold=u.formGroup.get("opponentLevel3Sold").value,u.gameService.gameApi.playerSummonedAmount=u.formGroup.get("playerSummonedAmount").value,u.gameService.gameApi.opponentSummonedAmount=u.formGroup.get("opponentSummonedAmount").value,u.gameService.gameApi.playerTransformationAmount=u.formGroup.get("playerTransformationAmount").value,u.gameService.gameApi.opponentTransformationAmount=u.formGroup.get("opponentTransformationAmount").value}(this);initPlayerPets=()=>ci(this);randomizePlayerPets=l=>Ki(this,l);makeFormGroup=dm;setActivePetSlot=(l,y)=>{this.activePetSlot={side:l,index:y}};handleKeyboardShortcuts(l){(function jn(u,h){if(u.api||!u.formGroup||!h.ctrlKey&&!h.metaKey||h.altKey||function rC(u){if(!u)return!1;if(u.isContentEditable)return!0;const l=u.tagName;return"INPUT"===l||"TEXTAREA"===l||"SELECT"===l}(h.target))return;const l=h.key.toLowerCase();"c"!==l?"x"!==l?"v"===l&&function ar(u){if(!u.activePetSlot)return u.setStatus("Select a pet slot first.","error"),!1;if(!u.petClipboard?.name)return u.setStatus("Nothing copied yet.","error"),!1;const h=Ur(u,u.activePetSlot.side,u.activePetSlot.index);if(!h)return u.setStatus("Could not access selected pet slot.","error"),!1;const l=L_(u.petClipboard);h.removePet();for(const[y,E]of Object.entries(l)){const C=h.formGroup?.get(y);C&&C.setValue(E,{emitEvent:!1})}return h.substitutePet(!1),h.fixLoadEquipment(),u.setStatus("Pet pasted.","success"),!0}(u)&&h.preventDefault():$i(u,!0)&&h.preventDefault():$i(u,!1)&&h.preventDefault()})(this,l),l.defaultPrevented||function bC(u,h){if(!u.api&&u.formGroup&&!function PC(u){if(!u)return!1;if(u.isContentEditable)return!0;const l=u.tagName;return"INPUT"===l||"TEXTAREA"===l||"SELECT"===l}(h.target)&&h.altKey&&!h.ctrlKey&&!h.metaKey)switch(h.key.toLowerCase()){case"s":if(u.simulationInProgress)return;return u.simulate(u.formGroup.get("simulations")?.value??1e3),void h.preventDefault();case"r":if(u.simulationInProgress)return;return u.randomize(),void h.preventDefault();case"u":if(!u.undoState)return;return u.undoRandomize(),void h.preventDefault();case"p":if(u.simulationInProgress)return;return u.optimizePositioning("player"),void h.preventDefault();case"o":if(u.simulationInProgress)return;return u.optimizePositioning("opponent"),void h.preventDefault();case"a":return u.toggleAdvanced(),void h.preventDefault();case"t":return u.toggleTheme(),void h.preventDefault();case"h":return u.setStatus("Shortcuts: Alt+S Simulate, Alt+R Randomize, Alt+P/O Optimize, Alt+A Scenario, Alt+T Theme."),void h.preventDefault();default:;}}(this,l)}initFormGroup(){(function Oe(u){u.formGroup=function fy(u){u.updatePreviousShopTier(11),u.updateGoldSpent(10,10);const y=new ue.gE({playerPack:new ue.MJ(u.player.pack??null),opponentPack:new ue.MJ(u.opponent.pack??null),playerToy:new ue.MJ(u.player.toy?.name),playerToyLevel:new ue.MJ(u.player.toy?.level??1),opponentToy:new ue.MJ(u.opponent.toy?.name),opponentToyLevel:new ue.MJ(u.opponent.toy?.level??1),playerHardToy:new ue.MJ(null),playerHardToyLevel:new ue.MJ(1),opponentHardToy:new ue.MJ(null),opponentHardToyLevel:new ue.MJ(1),turn:new ue.MJ(11),playerGoldSpent:new ue.MJ(10),opponentGoldSpent:new ue.MJ(10),allPets:new ue.MJ(!1),logFilter:new ue.MJ(null),playerPets:new ue.Yp([]),opponentPets:new ue.Yp([]),customPacks:new ue.Yp([]),oldStork:new ue.MJ(!1),tokenPets:new ue.MJ(!0),komodoShuffle:new ue.MJ(!1),mana:new ue.MJ(!1),triggersConsumed:new ue.MJ(!1),playerRollAmount:new ue.MJ(4),opponentRollAmount:new ue.MJ(4),playerLevel3Sold:new ue.MJ(0),opponentLevel3Sold:new ue.MJ(0),playerSummonedAmount:new ue.MJ(0),opponentSummonedAmount:new ue.MJ(0),playerTransformationAmount:new ue.MJ(0),opponentTransformationAmount:new ue.MJ(0),showAdvanced:new ue.MJ(!1),showTriggerNamesInLogs:new ue.MJ(!1),showPositionalArgsInLogs:new ue.MJ(!0),ailmentEquipment:new ue.MJ(!0),changeEquipmentUses:new ue.MJ(!1),seed:new ue.MJ(null),logsEnabled:new ue.MJ(!0),simulations:new ue.MJ(100)});return lm(y,u.player,u.opponent),y.get("playerPack").valueChanges.subscribe(E=>{if(null!=E){if("Add Custom Pack"==E)return void u.openCustomPackEditor();u.resetPackImageError("player",E),u.updatePlayerPack(u.player,E)}}),y.get("opponentPack").valueChanges.subscribe(E=>{if(null!=E){if("Add Custom Pack"==E)return void u.openCustomPackEditor();u.resetPackImageError("opponent",E),u.updatePlayerPack(u.opponent,E)}}),y.get("playerToy").valueChanges.subscribe(E=>{u.updatePlayerToy(u.player,E??null)}),y.get("opponentToy").valueChanges.subscribe(E=>{u.updatePlayerToy(u.opponent,E??null)}),y.get("playerToyLevel").valueChanges.subscribe(E=>{null!=E&&u.updateToyLevel(u.player,E)}),y.get("opponentToyLevel").valueChanges.subscribe(E=>{null!=E&&u.updateToyLevel(u.opponent,E)}),y.get("playerHardToy").valueChanges.subscribe(E=>{u.gameService.gameApi.playerHardToy=E??null,u.setHardToyImage(u.player,E??null)}),y.get("playerHardToyLevel").valueChanges.subscribe(E=>{null!=E&&(u.gameService.gameApi.playerHardToyLevel=E)}),y.get("opponentHardToy").valueChanges.subscribe(E=>{u.gameService.gameApi.opponentHardToy=E??null,u.setHardToyImage(u.opponent,E??null)}),y.get("opponentHardToyLevel").valueChanges.subscribe(E=>{null!=E&&(u.gameService.gameApi.opponentHardToyLevel=E)}),y.get("turn").valueChanges.subscribe(E=>{null!=E&&(u.updatePreviousShopTier(E),u.setDayNight())}),y.get("playerGoldSpent").valueChanges.subscribe(E=>{null!=E&&u.updateGoldSpent(E,null)}),y.get("opponentGoldSpent").valueChanges.subscribe(E=>{null!=E&&u.updateGoldSpent(null,E)}),y.get("oldStork").valueChanges.subscribe(E=>{null!=E&&(u.gameService.gameApi.oldStork=E)}),y.get("komodoShuffle").valueChanges.subscribe(E=>{null!=E&&(u.gameService.gameApi.komodoShuffle=E)}),y.get("mana").valueChanges.subscribe(E=>{null!=E&&(u.gameService.gameApi.mana=E)}),y.get("playerRollAmount").valueChanges.subscribe(E=>{null!=E&&(u.gameService.gameApi.playerRollAmount=E)}),y.get("opponentRollAmount").valueChanges.subscribe(E=>{null!=E&&(u.gameService.gameApi.opponentRollAmount=E)}),y.get("playerLevel3Sold").valueChanges.subscribe(E=>{null!=E&&(u.gameService.gameApi.playerLevel3Sold=E)}),y.get("opponentLevel3Sold").valueChanges.subscribe(E=>{null!=E&&(u.gameService.gameApi.opponentLevel3Sold=E)}),y.get("playerSummonedAmount").valueChanges.subscribe(E=>{null!=E&&(u.gameService.gameApi.playerSummonedAmount=E)}),y.get("opponentSummonedAmount").valueChanges.subscribe(E=>{null!=E&&(u.gameService.gameApi.opponentSummonedAmount=E)}),y.get("playerTransformationAmount").valueChanges.subscribe(E=>{null!=E&&(u.gameService.gameApi.playerTransformationAmount=E)}),y.get("opponentTransformationAmount").valueChanges.subscribe(E=>{null!=E&&(u.gameService.gameApi.opponentTransformationAmount=E)}),y}({player:u.player,opponent:u.opponent,gameService:u.gameService,toyService:u.toyService,updatePreviousShopTier:h=>Ay(u,h),updateGoldSpent:(h,l)=>Ey(u,h,l),setDayNight:()=>Pe(u),openCustomPackEditor:()=>b(u),resetPackImageError:(h,l)=>w_(u,h),updatePlayerPack:(h,l,y)=>uu(u,h,l,y),updatePlayerToy:(h,l)=>Va(u,h,l),updateToyLevel:(h,l)=>gm(0,h,l),setHardToyImage:(h,l)=>bp(u,h,l)}),u.logService.setShowTriggerNamesInLogs(u.formGroup.get("showTriggerNamesInLogs")?.value),u.formGroup.get("showTriggerNamesInLogs")?.valueChanges.subscribe(h=>{u.logService.setShowTriggerNamesInLogs(h)}),dt(u)})(this),this.formGroup.get("logFilter")?.valueChanges.subscribe(()=>{this.refreshFilteredBattles()}),this.formGroup.get("simulations")?.valueChanges.subscribe(l=>{l>1e4&&this.formGroup.get("simulations")?.setValue(1e4,{emitEvent:!1})}),this.formGroup.get("seed")?.valueChanges.subscribe(l=>{if(""===l||null==l)return;const y=Number(l);if(!Number.isFinite(y))return void this.formGroup.get("seed")?.setValue(null,{emitEvent:!1});const E=Math.trunc(y);E!==y&&this.formGroup.get("seed")?.setValue(E,{emitEvent:!1})})}toggleAdvanced=()=>function z1(u){const h=u.formGroup.get("showAdvanced").value;u.formGroup.get("showAdvanced").setValue(!h)}(this);initPetForms=()=>Xe(this);refreshPetFormArrays=()=>dt(this);updatePlayerPack=(l,y,E=!0)=>uu(this,l,y,E);updatePlayerToy=(l,y)=>Va(this,l,y);setToyImage=(l,y)=>du(this,l,y);setHardToyImage=(l,y)=>bp(this,l,y);updatePreviousShopTier=l=>Ay(this,l);updateGoldSpent=(l,y)=>Ey(this,l,y);updateToyLevel=(l,y)=>gm(0,l,y);getRandomEquipment=()=>Y1(this);simulate=(l=1e3)=>function gM(u,h=1e3){try{if(u.pendingPositioningOptimizationBaseline=null,u.positioningDeltaSummary=null,u.api)return void Sr(u,h);Nv(u,h)}catch(l){console.error(l),u.setStatus?.("Something went wrong, please send a bug report.","error")}}(this,l);runSimulation=(l=1e3,y)=>Sr(this,l,y);cancelSimulation=()=>function RS(u){!u.simulationWorker||!u.simulationInProgress||(u.simulationRunId=(u.simulationRunId??0)+1,u.simulationCancelRequested=!0,u.setStatus?.("Cancelling simulation...","error"),u.simulationService.requestWorkerCancel(u.simulationWorker),Hs(u),u.simulationInProgress=!1,u.simulationCancelRequested=!1,u.pendingPositioningOptimizationBaseline=null,u.positioningDeltaSummary=null,u.setStatus?.("Simulation cancelled.","error"),u.markForCheck?.())}(this);optimizePositioning=l=>function mM(u,h,l=1e3){if(u.simulationInProgress)return;const y=Math.max(1,Math.trunc(l||1));u.positioningDeltaSummary=null,u.pendingPositioningOptimizationBaseline=function BS(u,h){if(!u.simulated)return null;const l=$g(u.playerWinner,u.opponentWinner,u.draw);return l<=0?null:{side:h,playerWins:u.playerWinner,opponentWins:u.opponentWinner,draws:u.draw,totalBattles:l}}(u,h);const E=bl(u,"0 / "+120*y,`Optimizing ${h} positioning...`),C=u.simulationService.runPositioningOptimizationInWorker(u.formGroup,l,u.player,u.opponent,{onProgress:I=>{if(!Er(u,E))return;const W=I.totalBattlesEstimate?Math.floor(I.completedBattles/I.totalBattlesEstimate*100):0;u.simulationProgress=W,u.simulationProgressLabel=`${I.completedBattles} / ${I.totalBattlesEstimate} sims`,u.markForCheck?.()},onResult:I=>{if(!Er(u,E))return;Hs(u),Wg(u,I),u.pendingPositioningOptimizationBaseline=u.pendingPositioningOptimizationBaseline??function Wv(u){const h=function FS(u){const h=u.find(l=>l.order.every((y,E)=>y===E));return h||(u.find(l=>l.simulations>0)??null)}(u.rankedPermutations);return!h||h.simulations<=0?null:"player"===u.side?{side:u.side,playerWins:h.wins,opponentWins:h.losses,draws:h.draws,totalBattles:h.simulations}:{side:u.side,playerWins:h.losses,opponentWins:h.wins,draws:h.draws,totalBattles:h.simulations}}(I),u.simulationInProgress=!1,u.simulationCancelRequested=!1,u.simulationProgress=100,u.simulationProgressLabel=`${I.simulatedBattles} / ${I.simulatedBattles} sims`;const W=(100*I.bestPermutation.score).toFixed(1);u.setStatus?.(`${function xS(u){return u.charAt(0).toUpperCase()+u.slice(1)}(h)} optimized (${W}% score). Running verification sim...`,"success"),u.markForCheck?.(),Nv(u,l)},onAborted:I=>{Er(u,E)&&(Hs(u),I.bestPermutation&&Wg(u,I),u.pendingPositioningOptimizationBaseline=null,u.positioningDeltaSummary=null,mo(u,"Positioning optimization cancelled.","error"))},onError:I=>{Er(u,E)&&(Hs(u),u.pendingPositioningOptimizationBaseline=null,u.positioningDeltaSummary=null,mo(u,I||"Positioning optimization failed.","error"))}},{side:h,maxSimulationsPerPermutation:y,batchSize:Math.min(25,y),minSamplesBeforeElimination:Math.min(50,y),confidenceZ:1.96});u.simulationWorker=C}(this,l,this.formGroup.get("simulations").value??1e3);afterPositioningApplied=()=>{this.refreshPetFormArrays(),setTimeout(()=>{for(const l of this.petSelectors.toArray())l.substitutePet()})};markForCheck=()=>this.cdr.markForCheck();captureRandomEvents=()=>function wM(u){if(!u.simulationInProgress){if(ou(u,[],!0),lu(u,u.randomDecisions,[]),0===u.randomDecisions.length)return void u.setStatus("No random decisions captured in this battle.","error");u.setStatus(`Captured ${u.randomDecisions.length} random decision(s).`,"success")}}(this);clearRandomOverrides=()=>function my(u){u.randomDecisionSelectionByFingerprint={},u.randomDecisions=[],u.randomOverrideError=null,u.markForCheck()}(this);runForcedRandomSimulation=()=>function N1(u){if(u.simulationInProgress)return;const h=[...u.randomDecisions];ou(u,$1(u),!1),lu(u,u.randomDecisions,h),u.randomOverrideError?u.setStatus(u.randomOverrideError,"error"):u.setStatus("Forced simulation completed.","success")}(this);onRandomDecisionChoiceChanged=(l,y)=>function U1(u,h,l){const y=Ao(h);u.randomDecisionSelectionByFingerprint={...u.randomDecisionSelectionByFingerprint,[y]:l},function _y(u){if(u.simulationInProgress||0===u.randomDecisions.length)return;const h=[...u.randomDecisions];ou(u,$1(u),!1),lu(u,u.randomDecisions,h)}(u)}(this,l,y);getRandomDecisionLabelParts=l=>function W1(u,h){const l=`label:${h.key}:${h.label}`,y=u.randomDecisionPartsCache.get(l);if(y)return y;const E=rm(h.label);return u.randomDecisionPartsCache.set(l,E),E}(this,l);getRandomDecisionSelectedOptionParts=l=>function K1(u,h){const l=om(u,h),E=(h.options.find(X=>X.id===l)??h.options[0])?.label??"",C=`option:${h.key}:${E}`,I=u.randomDecisionPartsCache.get(C);if(I)return I;const W=rm(E);return u.randomDecisionPartsCache.set(C,W),W}(this,l);getSelectedRandomDecisionOptionId=l=>om(this,l);get logs(){return this.logService.getLogs()}get currentFightAnimationFrame(){return this.fightAnimationFrameIndex<0||this.fightAnimationFrameIndex>=this.fightAnimationFrames.length?null:this.fightAnimationFrames[this.fightAnimationFrameIndex]??null}get currentFightAnimationRenderFrame(){const l=this.currentFightAnimationFrame;if(!l)return this.fightAnimationRenderFrameCache=null,this.fightAnimationRenderFrameCacheSource=null,this.fightAnimationRenderFrameCacheIndex=-1,null;if(this.fightAnimationRenderFrameCache&&this.fightAnimationRenderFrameCacheSource===l&&this.fightAnimationRenderFrameCacheIndex===this.fightAnimationFrameIndex)return this.fightAnimationRenderFrameCache;const E=function M1(u,h,l=null){const y=h%2==0?"a":"b",E=new Map,C=new Map,I=new Set,W=new Map,X=new Map,z=new Set,pe=new Set;for(const Ut of u.popups){const Wt=Ys(Ut.side,Ut.slot),vi=E.get(Wt);vi?vi.push(Ut):E.set(Wt,[Ut])}for(const Ut of u.shifts){const Wt=Ys(Ut.side,Ut.slot);I.add(Wt),C.set(Wt,Math.max(1,Ut.fromSlot-Ut.slot))}for(const Ut of u.equipmentChanges){const Wt=Ys(Ut.side,Ut.slot),vi=_a(Ut);"removed"!==Ut.action?(X.set(Wt,vi),R1(Ut.equipmentName)&&z.add(Wt)):(W.set(Wt,vi),R1(Ut.equipmentName)&&pe.add(Wt))}const{transferInSlots:Me,transferOutSlots:xe}=function oy(u){const h=new Map,l=new Set,y=new Set;for(const E of u){if("removed"!==E.action)continue;const C=am(E);if(!C)continue;const I=h.get(C);I?I.push(E):h.set(C,[E])}for(const E of u){if("added"!==E.action)continue;const C=am(E);if(!C)continue;const I=h.get(C);if(!I||0===I.length)continue;const W=I.shift();if(!W)continue;const X=Ys(W.side,W.slot),z=Ys(E.side,E.slot);X!==z&&(y.add(X),l.add(z))}return{transferInSlots:l,transferOutSlots:y}}(u.equipmentChanges),Ke=function L1(u,h){const l=new Set;return!h||!/\btransform(?:ed|ing)?\b/i.test(u.text)||(su(l,u.playerSlots,h.playerSlots,(y,E)=>!y.isEmpty&&!E.isEmpty&&ly(E,y)),su(l,u.opponentSlots,h.opponentSlots,(y,E)=>!y.isEmpty&&!E.isEmpty&&ly(E,y))),l}(u,l),_t=function x1(u,h){const l=new Set;return!h||!/\b(?:summoned|spawned)\b/i.test(u.text)||(su(l,u.playerSlots,h.playerSlots,(y,E)=>!y.isEmpty&&E.isEmpty),su(l,u.opponentSlots,h.opponentSlots,(y,E)=>!y.isEmpty&&E.isEmpty)),l}(u,l),ht=u.impact?Ys(u.impact.attackerSide,u.impact.attackerSlot):null,st=u.impact?Ys(u.impact.targetSide,u.impact.targetSlot):null,ut=(u.impact?.damage??0)>=12,bt=!0===u.impact?.isSnipe,ft=bt?st:null,It=u.death?Ys(u.death.side,u.death.slot):null,ai=It&&!I.has(It)?It:null,ui=Ut=>{const Wt=Ys(Ut.side,Ut.slot),vi=E.get(Wt)??f1,An=Ut.pendingRemoval||!Ut.isEmpty&&null!=Ut.health&&Ut.health<=0,Aa=vi.reduce((Wo,Ko)=>Wo+Math.abs(Ko.delta),0),Fn=vi.length>=2||Aa>=14,ii=st===Wt,Ja=ii&&null!=u.impact&&An,xa="attack"===u.type&&null!=u.impact&&!u.impact.isSnipe&&(ht===Wt||ii),us=vi.some(Wo=>"damage"!==Wo.type&&Wo.delta>0);return{slot:Ut,classMap:{"fight-slot-front":0===Ut.slot,"fight-slot-empty-card":Ut.isEmpty,"fight-slot-attacker":ht===Wt&&!bt,"fight-slot-target":st===Wt,"fight-slot-snipe-target":ft===Wt,"fight-slot-impact-heavy":ut&&(ht===Wt&&!bt||ii),"fight-slot-impact-lethal":Ja,"fight-slot-contact-pair":xa,"fight-slot-popup-stack":Fn,"fight-slot-shifted":I.has(Wt),"fight-slot-fainted-ghost":An,"fight-slot-stat-gain":us,"fight-slot-equipment-removed":W.has(Wt),"fight-slot-equipment-added":X.has(Wt),"fight-slot-equipment-transfer-out":xe.has(Wt),"fight-slot-equipment-transfer-in":Me.has(Wt),"fight-slot-transform":Ke.has(Wt),"fight-slot-summoned":_t.has(Wt),"fight-slot-ailment-applied":z.has(Wt),"fight-slot-ailment-cleansed":pe.has(Wt),"fight-impact-phase-a":"a"===y,"fight-impact-phase-b":"b"===y},shiftSteps:C.get(Wt)??null,popups:vi,death:ai===Wt?u.death:null,removedEquipment:W.get(Wt)??null,addedEquipment:X.get(Wt)??null,showSnipeImpact:ft===Wt}};return{frame:u,phase:y,playerSlots:u.playerSlots.map(ui),opponentSlots:u.opponentSlots.map(ui)}}(l,this.fightAnimationFrameIndex,this.fightAnimationFrameIndex>0?this.fightAnimationFrames[this.fightAnimationFrameIndex-1]??null:null);return this.fightAnimationRenderFrameCache=E,this.fightAnimationRenderFrameCacheSource=l,this.fightAnimationRenderFrameCacheIndex=this.fightAnimationFrameIndex,E}get currentFightAnimationLogIndex(){return this.currentFightAnimationFrame?.logIndex??-1}get currentFightAnimationLogRow(){const l=this.currentFightAnimationLogIndex;return l<0||l>=this.viewBattleLogRows.length?null:this.viewBattleLogRows[l]??null}get fightAnimationMotionScale(){return 1/this.fightAnimationSpeed}get currentFightAnimationCadenceScale(){const l=this.getCurrentFightAnimationTimelineStep(),y=this.currentFightAnimationFrame;if(!l||!y)return 1;const C=l.durationMs/("attack"===y.type?520:"death"===y.type?420:"move"===y.type?320:"board"===y.type?240:360);return Math.min(1.35,Math.max(.72,Number.isFinite(C)?C:1))}get currentFightAnimationImpactScale(){const l=this.currentFightAnimationFrame;if(!l)return 1;const y=l.impact?.damage??0,E=l.popups.reduce((I,W)=>I+Math.abs(W.delta),0);return Math.min(1.45,Math.max(1,.035*y+.008*E+(l.death?.28:0)+(l.shifts.length>0?.08:0)+1))}get currentFightAnimationIsHeavyImpactFrame(){const l=this.currentFightAnimationFrame;return!!l&&((l.impact?.damage??0)>=12||l.popups.some(y=>"damage"===y.type&&Math.abs(y.delta)>=12)||null!=l.death)}get currentFightAnimationIsBurstFrame(){const l=this.currentFightAnimationFrame;return!!l&&(l.popups.length>=3||l.equipmentChanges.length>=2||l.toyChanges.length>=1)}get currentFightAnimationIsResolutionFrame(){const l=this.currentFightAnimationFrame;return!!l&&("death"===l.type||"move"===l.type||l.shifts.length>0)}setViewBattle=l=>function $v(u,h){u.viewBattle=h,u.viewBattleLogs=u.viewBattle?.logs??[],fo(u),Gg(u),u.refreshFightAnimationFromViewBattle?.()}(this,l);refreshViewBattleTimeline=()=>Gg(this);refreshBattleDiff=()=>vo(this);setBattleDiffLeft=l=>function NS(u,h){u.diffBattleLeftIndex=jg(u,h),vo(u)}(this,l);setBattleDiffRight=l=>function US(u,h){u.diffBattleRightIndex=jg(u,h),vo(u)}(this,l);setBattleDiffLeftScope=l=>function WS(u,h){u.diffBattleLeftScope=jc(h),vo(u)}(this,l);setBattleDiffRightScope=l=>function Gv(u,h){u.diffBattleRightScope=jc(h),vo(u)}(this,l);setViewBattleLogFilter=l=>function IS(u,h){u.logEventFilter=Ng(h),Xc(u),u.markForCheck?.()}(this,l);toggleViewBattleLogGroup=l=>function Fv(u,h){h&&(u.collapsedLogGroupIds||(u.collapsedLogGroupIds=new Set),u.collapsedLogGroupIds.has(h)?u.collapsedLogGroupIds.delete(h):u.collapsedLogGroupIds.add(h),Xc(u),u.markForCheck?.())}(this,l);refreshViewBattleLogRows=()=>fo(this);refreshDebugLogPresentation=()=>function KS(u){const h=Yc(u),l=new Map;u.battleRandomEvents=(u.battles??[]).map(y=>{const E=Hg(y,u.logService,h);return l.set(y,E),E}),u.battleRandomEventsByBattle=l,fo(u),u.refreshFightAnimationFromViewBattle?.(),u.markForCheck?.()}(this);get drawWidth(){return function Rg(u){return`${Vc(u)+PS(u)}%`}(this)}get loseWidth(){return function wv(u){return`${Vc(u)}%`}(this)}saveTeam=l=>function _S(u,h){const l=u.teamName?.trim()??"";if(!l)return void u.setStatus("Enter a team name before saving.","error");const y=function dS(u){const h=u.teamName?.trim();if(!h)return{savedTeams:u.savedTeams,selectedTeamId:u.selectedTeamId,teamName:u.teamName};const l=function hS(u,h){return u.get("player"===h?"playerPets":"opponentPets").controls.map(E=>function Xd(u){if(!u||"object"!=typeof u)return null;const h=u;if(!h.name)return null;const l="string"==typeof h.equipment?h.equipment:"string"==typeof h.equipment?.name?h.equipment.name:null;return{name:String(h.name),attack:h.attack??0,health:h.health??0,exp:h.exp??0,equipment:l?{name:l}:null,belugaSwallowedPet:h.belugaSwallowedPet??null,sarcasticFringeheadSwallowedPet:h.sarcasticFringeheadSwallowedPet??null,mana:h.mana??0,triggersConsumed:h.triggersConsumed??0,foodsEaten:h.foodsEaten??0,abominationSwallowedPet1:h.abominationSwallowedPet1??null,abominationSwallowedPet2:h.abominationSwallowedPet2??null,abominationSwallowedPet3:h.abominationSwallowedPet3??null,abominationSwallowedPet1BelugaSwallowedPet:h.abominationSwallowedPet1BelugaSwallowedPet??null,abominationSwallowedPet2BelugaSwallowedPet:h.abominationSwallowedPet2BelugaSwallowedPet??null,abominationSwallowedPet3BelugaSwallowedPet:h.abominationSwallowedPet3BelugaSwallowedPet??null,abominationSwallowedPet1SarcasticFringeheadSwallowedPet:h.abominationSwallowedPet1SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet2SarcasticFringeheadSwallowedPet:h.abominationSwallowedPet2SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet3SarcasticFringeheadSwallowedPet:h.abominationSwallowedPet3SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet1Level:h.abominationSwallowedPet1Level??1,abominationSwallowedPet2Level:h.abominationSwallowedPet2Level??1,abominationSwallowedPet3Level:h.abominationSwallowedPet3Level??1,abominationSwallowedPet1TimesHurt:h.abominationSwallowedPet1TimesHurt??0,abominationSwallowedPet2TimesHurt:h.abominationSwallowedPet2TimesHurt??0,abominationSwallowedPet3TimesHurt:h.abominationSwallowedPet3TimesHurt??0,friendsDiedBeforeBattle:h.friendsDiedBeforeBattle??0,battlesFought:h.battlesFought??0,timesHurt:h.timesHurt??0,equipmentUses:h.equipmentUses??null}}(E.value)).filter(E=>null!==E)}(u.formGroup,u.side),y=u.formGroup.get("playerToy").value??null,E=Number(u.formGroup.get("playerToyLevel").value),C=u.formGroup.get("opponentToy").value??null,I=Number(u.formGroup.get("opponentToyLevel").value),W=u.formGroup.get("playerHardToy").value??null,X=Number(u.formGroup.get("playerHardToyLevel").value),z=u.formGroup.get("opponentHardToy").value??null,pe=Number(u.formGroup.get("opponentHardToyLevel").value),Me=Number(u.formGroup.get("turn").value),xe=Number(u.formGroup.get("playerGoldSpent").value),Ke=Number(u.formGroup.get("opponentGoldSpent").value),_t=!!u.formGroup.get("allPets").value,ht=!!u.formGroup.get("tokenPets").value,st=!!u.formGroup.get("komodoShuffle").value,Ct=!!u.formGroup.get("mana").value,ut=u.formGroup.get("seed")?.value,bt=""===ut||null==ut?null:Number(ut),ft=!!u.formGroup.get("triggersConsumed").value,It=!!u.formGroup.get("changeEquipmentUses").value,ai=Number(u.formGroup.get("playerRollAmount").value),ui=Number(u.formGroup.get("opponentRollAmount").value),Ut=Number(u.formGroup.get("playerLevel3Sold").value),Wt=Number(u.formGroup.get("opponentLevel3Sold").value),vi=Number(u.formGroup.get("playerSummonedAmount").value),An=Number(u.formGroup.get("opponentSummonedAmount").value),Aa=Number(u.formGroup.get("playerTransformationAmount").value),Fn=Number(u.formGroup.get("opponentTransformationAmount").value),ii=u.savedTeams.find(Ja=>Ja.name.toLowerCase()===h.toLowerCase());if(ii)ii.pets=l,ii.name=h,ii.playerToyName=y,ii.playerToyLevel=E,ii.opponentToyName=C,ii.opponentToyLevel=I,ii.playerHardToy=W,ii.playerHardToyLevel=X,ii.opponentHardToy=z,ii.opponentHardToyLevel=pe,ii.turn=Me,ii.playerGoldSpent=xe,ii.opponentGoldSpent=Ke,ii.allPets=_t,ii.tokenPets=ht,ii.komodoShuffle=st,ii.mana=Ct,ii.seed=Number.isFinite(bt)?Math.trunc(bt):null,ii.triggersConsumed=ft,ii.changeEquipmentUses=It,ii.playerRollAmount=ai,ii.opponentRollAmount=ui,ii.playerLevel3Sold=Ut,ii.opponentLevel3Sold=Wt,ii.playerSummonedAmount=vi,ii.opponentSummonedAmount=An,ii.playerTransformationAmount=Aa,ii.opponentTransformationAmount=Fn;else{const Ja=`${Date.now()}-${Math.random().toString(16).slice(2,8)}`;u.savedTeams.push({id:Ja,name:h,pets:l,createdAt:Date.now(),playerToyName:y,playerToyLevel:E,opponentToyName:C,opponentToyLevel:I,playerHardToy:W,playerHardToyLevel:X,opponentHardToy:z,opponentHardToyLevel:pe,turn:Me,playerGoldSpent:xe,opponentGoldSpent:Ke,allPets:_t,tokenPets:ht,komodoShuffle:st,mana:Ct,seed:Number.isFinite(bt)?Math.trunc(bt):null,triggersConsumed:ft,changeEquipmentUses:It,playerRollAmount:ai,opponentRollAmount:ui,playerLevel3Sold:Ut,opponentLevel3Sold:Wt,playerSummonedAmount:vi,opponentSummonedAmount:An,playerTransformationAmount:Aa,opponentTransformationAmount:Fn}),u.selectedTeamId=Ja}return u.teamPresetsService.persistTeams(u.savedTeams),{savedTeams:u.savedTeams,selectedTeamId:u.selectedTeamId,teamName:""}}({side:h,teamName:l,formGroup:u.formGroup,savedTeams:u.savedTeams,selectedTeamId:u.selectedTeamId,teamPresetsService:u.teamPresetsService});u.savedTeams=y.savedTeams,u.selectedTeamId=y.selectedTeamId,u.teamName=y.teamName}(this.getTeamStateContext(),l);loadTeam=l=>function Jd(u,h){!function pS(u){const h=u.savedTeams.find(W=>W.id===u.selectedTeamId);if(!h)return;null!=h.turn&&u.formGroup.get("turn").setValue(h.turn),null!=h.playerGoldSpent&&u.formGroup.get("playerGoldSpent").setValue(h.playerGoldSpent),null!=h.opponentGoldSpent&&u.formGroup.get("opponentGoldSpent").setValue(h.opponentGoldSpent),null!=h.allPets&&u.formGroup.get("allPets").setValue(h.allPets),u.formGroup.get("tokenPets").setValue(!0),null!=h.komodoShuffle&&u.formGroup.get("komodoShuffle").setValue(h.komodoShuffle),null!=h.mana&&u.formGroup.get("mana").setValue(h.mana),(null!=h.seed||null===h.seed)&&u.formGroup.get("seed")?.setValue(h.seed??null),null!=h.triggersConsumed&&u.formGroup.get("triggersConsumed").setValue(h.triggersConsumed),null!=h.changeEquipmentUses&&u.formGroup.get("changeEquipmentUses").setValue(h.changeEquipmentUses),null!=h.playerRollAmount?u.formGroup.get("playerRollAmount").setValue(h.playerRollAmount):null!=h.rollAmount&&"player"===u.side&&u.formGroup.get("playerRollAmount").setValue(h.rollAmount),null!=h.opponentRollAmount?u.formGroup.get("opponentRollAmount").setValue(h.opponentRollAmount):null!=h.rollAmount&&"opponent"===u.side&&u.formGroup.get("opponentRollAmount").setValue(h.rollAmount),null!=h.playerLevel3Sold&&u.formGroup.get("playerLevel3Sold").setValue(h.playerLevel3Sold),null!=h.opponentLevel3Sold&&u.formGroup.get("opponentLevel3Sold").setValue(h.opponentLevel3Sold),null!=h.playerSummonedAmount&&u.formGroup.get("playerSummonedAmount").setValue(h.playerSummonedAmount),null!=h.opponentSummonedAmount&&u.formGroup.get("opponentSummonedAmount").setValue(h.opponentSummonedAmount),null!=h.playerTransformationAmount?u.formGroup.get("playerTransformationAmount").setValue(h.playerTransformationAmount):null!=h.transformationAmount&&"player"===u.side&&u.formGroup.get("playerTransformationAmount").setValue(h.transformationAmount),null!=h.opponentTransformationAmount?u.formGroup.get("opponentTransformationAmount").setValue(h.opponentTransformationAmount):null!=h.transformationAmount&&"opponent"===u.side&&u.formGroup.get("opponentTransformationAmount").setValue(h.transformationAmount),null!=h.transformationAmount&&u.formGroup.get("player"===u.side?"playerTransformationAmount":"opponentTransformationAmount").setValue(h.transformationAmount);const l=Cv({name:h.playerToyName,level:h.playerToyLevel},{name:h.toyName,level:h.toyLevel},{name:h.opponentToyName,level:h.opponentToyLevel}),y=Cv({name:h.opponentToyName,level:h.opponentToyLevel},{name:h.toyName,level:h.toyLevel},{name:h.playerToyName,level:h.playerToyLevel});"player"===u.side?(u.formGroup.get("playerToy").setValue(l.name),u.formGroup.get("playerToyLevel").setValue(l.level)):(u.formGroup.get("opponentToy").setValue(y.name),u.formGroup.get("opponentToyLevel").setValue(y.level)),null!=h.playerHardToy&&u.formGroup.get("playerHardToy").setValue(h.playerHardToy),null!=h.playerHardToyLevel&&u.formGroup.get("playerHardToyLevel").setValue(h.playerHardToyLevel),null!=h.opponentHardToy&&u.formGroup.get("opponentHardToy").setValue(h.opponentHardToy),null!=h.opponentHardToyLevel&&u.formGroup.get("opponentHardToyLevel").setValue(h.opponentHardToyLevel);const E="player"===u.side?u.player:u.opponent,C=u.equipmentService.getInstanceOfAllEquipment(),I=u.equipmentService.getInstanceOfAllAilments();for(let W=0;W<5;W++){const X=h.pets?.[W];if(!X?.name){E.setPet(W,null,!0);continue}const z="string"==typeof X.equipment?X.equipment:X.equipment?.name,pe=z?C.get(z)??I.get(z):null,Me=pe?(0,uS.e)(pe):null;if(Me){const Ke=X.equipmentUses??Me.uses;null!=Ke&&(Me.uses=Ke,Me.originalUses=Ke)}const xe=u.petService.createPet({name:X.name,attack:X.attack??0,health:X.health??0,exp:X.exp??0,equipment:Me??null,belugaSwallowedPet:X.belugaSwallowedPet??null,sarcasticFringeheadSwallowedPet:X.sarcasticFringeheadSwallowedPet??null,mana:X.mana??0,triggersConsumed:X.triggersConsumed??0,foodsEaten:X.foodsEaten??0,abominationSwallowedPet1:X.abominationSwallowedPet1??null,abominationSwallowedPet2:X.abominationSwallowedPet2??null,abominationSwallowedPet3:X.abominationSwallowedPet3??null,abominationSwallowedPet1BelugaSwallowedPet:X.abominationSwallowedPet1BelugaSwallowedPet??null,abominationSwallowedPet2BelugaSwallowedPet:X.abominationSwallowedPet2BelugaSwallowedPet??null,abominationSwallowedPet3BelugaSwallowedPet:X.abominationSwallowedPet3BelugaSwallowedPet??null,abominationSwallowedPet1SarcasticFringeheadSwallowedPet:X.abominationSwallowedPet1SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet2SarcasticFringeheadSwallowedPet:X.abominationSwallowedPet2SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet3SarcasticFringeheadSwallowedPet:X.abominationSwallowedPet3SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet1Level:X.abominationSwallowedPet1Level??1,abominationSwallowedPet2Level:X.abominationSwallowedPet2Level??1,abominationSwallowedPet3Level:X.abominationSwallowedPet3Level??1,abominationSwallowedPet1TimesHurt:X.abominationSwallowedPet1TimesHurt??0,abominationSwallowedPet2TimesHurt:X.abominationSwallowedPet2TimesHurt??0,abominationSwallowedPet3TimesHurt:X.abominationSwallowedPet3TimesHurt??0,friendsDiedBeforeBattle:X.friendsDiedBeforeBattle??0,battlesFought:X.battlesFought??0,timesHurt:X.timesHurt??0},E);E.setPet(W,xe,!0)}u.initPetForms(),function gS(u,h,l){const E=u.get("player"===h?"playerPets":"opponentPets");if(E)for(let C=0;C<E.length;C++){const I=E.at(C),W=l?.[C];I.get("equipmentUses")?.setValue(W?.equipmentUses??null,{emitEvent:!1})}}(u.formGroup,u.side,h.pets)}({side:h,selectedTeamId:u.selectedTeamId,savedTeams:u.savedTeams,formGroup:u.formGroup,player:u.player,opponent:u.opponent,petService:u.petService,equipmentService:u.equipmentService,initPetForms:()=>u.initPetForms()})}(this.getTeamStateContext(),l);loadTeamPresets(){!function fS(u){u.savedTeams=u.teamPresetsService.loadTeams()}(this.getTeamStateContext())}randomize=l=>function uh(u,h){try{u.undoState=JSON.parse(JSON.stringify(u.formGroup.getRawValue()))}catch(y){console.error("Failed to create undo snapshot",y)}const l=u.formGroup.get("allPets").value;h?(h.allPets=u.formGroup.get("allPets").value,h.tokenPets=u.formGroup.get("tokenPets").value,Ki(u,h),l?pm(u,h):hm(u,h)):(u.player.allPets=u.formGroup.get("allPets").value,u.player.tokenPets=u.formGroup.get("tokenPets").value,u.opponent.allPets=u.formGroup.get("allPets").value,u.opponent.tokenPets=u.formGroup.get("tokenPets").value,Ki(u,u.player),Ki(u,u.opponent),l?(pm(u,u.player),pm(u,u.opponent)):(hm(u,u.player),hm(u,u.opponent))),u.formGroup&&Xe(u),setTimeout(()=>{u.petSelectors.forEach(y=>{y.initSelector()})})}(this,l);undoRandomize=()=>function s(u){u.undoState&&(ye(u,u.undoState),St(u),u.undoState=null,setTimeout(()=>{u.petSelectors&&u.petSelectors.forEach(h=>{h.fixLoadEquipment()})}))}(this);clearCache=()=>function p(u){u.localStorageService.clearStorage(),u.setStatus?.("Cache cleared. Refresh page to see changes.","success")}(this);initModals=()=>function m(u){u.customPackEditorModal=new Lo(u.customPackEditor.nativeElement),u.customPackEditor.nativeElement.addEventListener("show.bs.modal",()=>{document.body.classList.add("custom-pack-editor-open")}),u.customPackEditor.nativeElement.addEventListener("hidden.bs.modal",()=>{document.body.classList.remove("custom-pack-editor-open")})}(this);openCustomPackEditor=()=>b(this);drop=(l,y)=>function T(u,h,l){let y=h.previousIndex,E=h.currentIndex;"player"==l&&(y=4-y,E=4-E);const C=u.formGroup.get(`${l}Pets`);td(C.controls,y,E),C.updateValueAndValidity(),dt(u),setTimeout(()=>{for(const I of u.petSelectors.toArray())I.substitutePet()})}(this,l,y);resetPlayer=l=>M(this,l);export=()=>function w(u){u.localStorageService.setFormStorage(u.formGroup);const h=(0,yl.$j)(u.formGroup);navigator.clipboard.writeText(h).then(()=>{u.setStatus?.("Copied to clipboard.","success")}).catch(l=>{console.error("Clipboard error:",l),u.setStatus?.("Failed to copy to clipboard.","error")})}(this);import=(l,y=!1,E)=>R(this,l,y,E);importForDialog=(l,y)=>R(this,l,!1,y);generateShareLink=()=>function G(u){u.localStorageService.setFormStorage(u.formGroup);const h=window.location.origin+window.location.pathname,l=(0,yl._9)(u.formGroup,h);navigator.clipboard.writeText(l).then(()=>{u.setStatus?.("Shareable link copied to clipboard!","success")}).catch(y=>{console.error("Failed to copy link: ",y),u.setStatus?.("Failed to copy link. See console for details.","error")})}(this);refreshFilteredBattles=()=>rp(this);get winPercent(){return function bS(u){const h=u.playerWinner+u.opponentWinner+u.draw;return 0===h?0:Qd(u.playerWinner/h*100)}(this)}get drawPercent(){return PS(this)}get losePercent(){return Vc(this)}get positioningDeltaSideLabel(){return"opponent"===this.positioningDeltaSummary?.side?"Opponent":"Player"}formatSignedPercentDelta(l){const y=Number.isFinite(l)?l:0;return`${y>=0?"+":"-"}${Math.abs(y).toFixed(2)}`}get validCustomPacks(){return function Ty(u){const h=u.formGroup.get("customPacks"),l=[];for(const y of h.controls)y.valid&&l.push(y);return l}(this)}getToyIcon=X1;get selectedTeamName(){return function J1(u){return Dy(u)?.name||""}(this)}get selectedTeamPreviewIcons(){return function Q1(u){return(Dy(u)?.pets||[]).slice(0,5).map(l=>(0,Mt.EA)(l?.name)).filter(Boolean)}(this)}getToyOptionStyle=q1;openSelectionDialog=(l,y)=>function yD(u,h,l){u.selectionType=h,u.selectionSide=l,u.showSelectionDialog=!0}(this,l,y);onItemSelected=l=>function bD(u,h){if(h instanceof Event)return u.showSelectionDialog=!1,void(u.selectionSide="none");const l=h&&"object"==typeof h?h:null;if(!u.selectionSide||"none"===u.selectionSide)return"team"===u.selectionType&&(u.selectedTeamId="string"==typeof h?h:"string"==typeof l?.id?l.id:"string"==typeof l?.name?l.name:""),u.showSelectionDialog=!1,void(u.selectionSide="none");const y=u.selectionSide,E=u.selectionType;if("pack"===E){const C="string"==typeof h?h:"string"==typeof l?.name?l.name:null;"player"===y?u.formGroup.get("playerPack").setValue(C):u.formGroup.get("opponentPack").setValue(C)}else if("toy"===E){const C="string"==typeof h?h:"string"==typeof l?.name?l.name:null,I="string"==typeof C&&"none"===C.trim().toLowerCase()?null:C;"player"===y?u.formGroup.get("playerToy").setValue(I):u.formGroup.get("opponentToy").setValue(I)}else if("hard-toy"===E){const C="string"==typeof h?h:"string"==typeof l?.name?l.name:null,I="string"==typeof C&&"none"===C.trim().toLowerCase()?null:C;"player"===y?u.formGroup.get("playerHardToy").setValue(I):u.formGroup.get("opponentHardToy").setValue(I)}else"team"===E&&(u.selectedTeamId="string"==typeof h?h:"string"==typeof l?.id?l.id:"string"==typeof l?.name?l.name:"");u.showSelectionDialog=!1,u.selectionSide="none"}(this,l);getPackIconPath=kP;onPackImageError=l=>function Uo(u,h){"player"===h?u.playerPackImageBroken=!0:u.opponentPackImageBroken=!0}(this,l);resetPackImageError=(l,y)=>w_(this,l);incrementToyLevel=l=>function O_(u,h){const l="player"===h?"playerToyLevel":"opponentToyLevel",y=u.formGroup.get(l).value;y<3&&u.formGroup.get(l).setValue(y+1)}(this,l);decrementToyLevel=l=>function I_(u,h){const l="player"===h?"playerToyLevel":"opponentToyLevel",y=u.formGroup.get(l).value;y>1&&u.formGroup.get(l).setValue(y-1)}(this,l);removeHardToy=l=>function PD(u,h){u.formGroup.get("player"===h?"playerHardToy":"opponentHardToy").setValue(null)}(this,l);getToyIconPath=R_;getCurrentFightAnimationTimelineStep(){const l=this.fightAnimationTimeline;if(!l)return null;const y=this.fightAnimationFrameIndex;return y<0||y>=l.steps.length?null:l.steps[y]??null}clearFightAnimationTimer(){_p(this)}setStatus(l,y="success"){this.statusStateController.setStatus(l,y)}clearStatus(){this.statusStateController.clearStatus()}loadThemePreference(){!function DC(u){const h=window.localStorage.getItem(oC);if("light"===h||"dark"===h)return void AD(u,h,!1);const l=window.matchMedia?.("(prefers-color-scheme: dark)")?.matches;AD(u,l?"dark":"light",!1)}(this)}loadSoundPreference(){!function AC(u){u.soundMuted=Kh(),u.soundVolume=$h()}(this)}getTeamStateContext(){return{teamName:this.teamName,formGroup:this.formGroup,savedTeams:this.savedTeams,selectedTeamId:this.selectedTeamId,teamPresetsService:this.teamPresetsService,player:this.player,opponent:this.opponent,petService:this.petService,equipmentService:this.equipmentService,initPetForms:()=>this.initPetForms(),setStatus:(l,y)=>this.setStatus(l,y)}}static \u0275fac=function(y){return new(y||u)(e.rXU(lC.K),e.rXU(v.zZn),e.rXU(t.gRc),e.rXU(cC.K),e.rXU(ED.w),e.rXU(As.T),e.rXU(Ns.w),e.rXU(aa.m),e.rXU(Xf.s),e.rXU(RC),e.rXU(xC),e.rXU(NC),e.rXU(UC))};static \u0275cmp=e.VBU({type:u,selectors:[["app-root"]],viewQuery:function(y,E){if(1&y&&e.GBs(WC,5)(Xh,5),2&y){let C;e.mGM(C=e.lsd())&&(E.customPackEditor=C.first),e.mGM(C=e.lsd())&&(E.petSelectors=C)}},hostBindings:function(y,E){1&y&&e.bIt("keydown",function(I){return E.handleKeyboardShortcuts(I)},e.EBC)},decls:3,vars:3,consts:[["container",""],["customPackEditor",""],["playerPetSelector",""],["opponentPetSelector",""],[4,"ngIf"],[3,"ngClass","type","showAllPets","customPacks","savedTeams","select","close",4,"ngIf"],["id","apiResponse"],[1,"container-fluid","app-wrapper","flex-col",3,"formGroup","ngClass"],[1,"row","battle-row","pb-5","pt-3"],[1,"col-12","col-xl-6","px-4","mb-2","mb-xl-0"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center","toy-wrap"],[1,"me-2","player-side-text"],[1,"toy-row"],[1,"toy-slot"],["type","button",1,"toy-select-btn",3,"click"],["class","toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Player Toy",3,"ngSrc",4,"ngIf"],[1,"toy-label"],[1,"fas","fa-chevron-down"],["class","toy-level-controls inline",4,"ngIf"],["class","toy-art hard-toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Player Hard Toy",3,"ngSrc",4,"ngIf"],["type","button","class","toy-remove-btn-inline","title","Remove hard toy","aria-label","Remove player hard toy",3,"click",4,"ngIf"],[1,"btn","glass-btn","mb-1",3,"click"],[1,"card","p-2","player-card"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"row","row-cols-1","row-cols-md-5","g-0",3,"cdkDropListDropped"],["class","col drag-container mb-2 mb-md-0 px-0","cdkDrag","","cdkDragLockAxis","x",3,"cdkDragStartDelay","pet-slot-active","mousedown","focusin",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-xl-6","px-4"],[1,"me-2","opponent-side-text"],["class","toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Opponent Toy",3,"ngSrc",4,"ngIf"],["class","toy-art hard-toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Opponent Hard Toy",3,"ngSrc",4,"ngIf"],["type","button","class","toy-remove-btn-inline","title","Remove hard toy","aria-label","Remove opponent hard toy",3,"click",4,"ngIf"],[1,"card","p-2","player-card","ml-auto"],["class","col drag-container mb-2 mb-sm-0 px-0","cdkDrag","","cdkDragLockAxis","x",3,"cdkDragStartDelay","pet-slot-active","mousedown","focusin",4,"ngFor","ngForOf","ngForTrackBy"],[3,"app"],["id","customPackEditor","tabindex","-1","aria-labelledby","customPackEditorLabel","aria-hidden","true",1,"modal","fade","custom-pack-editor-modal"],[1,"modal-dialog","modal-lg","custom-pack-editor-dialog"],[1,"modal-content"],[1,"modal-header"],["id","customPackEditorLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],["id","info","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],["id","exampleModalLabel",1,"modal-title","fs-5"],["id","import","tabindex","-1","aria-labelledby","importModalLabel","aria-hidden","true",1,"modal","fade"],["id","importModalLabel",1,"modal-title","fs-5"],["id","export","tabindex","-1","aria-labelledby","exportModalLabel","aria-hidden","true",1,"modal","fade"],["id","exportModalLabel",1,"modal-title","fs-5"],["id","reportABug","tabindex","-1","aria-labelledby","reportABugLabel","aria-hidden","true",1,"modal","fade"],["id","reportABugLabel",1,"modal-title","fs-5"],["width","36","height","36","loading","lazy","decoding","async","alt","Player Toy",1,"toy-art",3,"ngSrc"],[1,"toy-level-controls","inline"],["type","button","title","Decrease level","aria-label","Decrease player toy level",1,"toy-level-btn",3,"click"],[1,"fas","fa-minus"],[1,"toy-level-label"],["type","button","title","Increase level","aria-label","Increase player toy level",1,"toy-level-btn",3,"click"],[1,"fas","fa-plus"],["width","36","height","36","loading","lazy","decoding","async","alt","Player Hard Toy",1,"toy-art","hard-toy-art",3,"ngSrc"],["type","button","title","Remove hard toy","aria-label","Remove player hard toy",1,"toy-remove-btn-inline",3,"click"],[1,"fas","fa-times"],["cdkDrag","","cdkDragLockAxis","x",1,"col","drag-container","mb-2","mb-md-0","px-0",3,"mousedown","focusin","cdkDragStartDelay"],[1,"pet-slot-actions"],["type","button","title","Clear this pet selector","aria-label","Clear this pet selector",1,"pet-clear-btn",3,"click"],[3,"pet","player","opponent","index","formGroup","ailments","allPets","mana","triggersConsumed","allowEquipmentUseOverrides","showTokenPets","flipImage","customPacks"],["width","36","height","36","loading","lazy","decoding","async","alt","Opponent Toy",1,"toy-art",3,"ngSrc"],["type","button","title","Decrease level","aria-label","Decrease opponent toy level",1,"toy-level-btn",3,"click"],["type","button","title","Increase level","aria-label","Increase opponent toy level",1,"toy-level-btn",3,"click"],["width","36","height","36","loading","lazy","decoding","async","alt","Opponent Hard Toy",1,"toy-art","hard-toy-art",3,"ngSrc"],["type","button","title","Remove hard toy","aria-label","Remove opponent hard toy",1,"toy-remove-btn-inline",3,"click"],["cdkDrag","","cdkDragLockAxis","x",1,"col","drag-container","mb-2","mb-sm-0","px-0",3,"mousedown","focusin","cdkDragStartDelay"],[1,"text-muted"],[3,"importFunc"],[3,"calcFormGroup"],[3,"select","close","ngClass","type","showAllPets","customPacks","savedTeams"]],template:function(y,E){1&y&&e.DNE(0,jC,3,1,"ng-container",4)(1,uk,114,27,"ng-container",4)(2,dk,1,5,"app-item-selection-dialog",5),2&y&&(e.Y8G("ngIf",E.api),e.R7$(),e.Y8G("ngIf",!E.api),e.R7$(),e.Y8G("ngIf",E.showSelectionDialog))},dependencies:[jt.MD,jt.YU,jt.Sq,jt.bT,yi,ue.YN,ue.cb,ue.X1,ue.j4,sd,sl,uc,Xh,mc,Jf,yE,Sv],styles:[':root{color-scheme:light;--ui-space-1: 4px;--ui-space-2: 8px;--ui-space-3: 12px;--ui-space-4: 16px;--ui-space-5: 24px;--ui-font-main: "Lapsus Pro", Roboto, "Helvetica Neue", sans-serif;--ui-font-main-letter-spacing: .0125em;--ui-surface-0: #ffffff;--ui-surface-1: #f8fafc;--ui-surface-2: #f1f5f9;--ui-border-1: #dbe4ee;--ui-text-1: #0f172a;--ui-text-2: #334155;--ui-text-3: #64748b;--ui-brand: #2563eb;--ui-brand-weak: #dbeafe;--ui-success: #16a34a;--ui-danger: #dc2626;--ui-draw: #64748b;--ui-player-soft: #5fbf5f;--ui-opponent-soft: #e06a6a}.theme-dark{color-scheme:dark;--ui-surface-0: #111827;--ui-surface-1: #1f2937;--ui-surface-2: #273548;--ui-border-1: #334155;--ui-text-1: #f8fafc;--ui-text-2: #cbd5e1;--ui-text-3: #94a3b8;--ui-brand: #3b82f6;--ui-brand-weak: rgba(59, 130, 246, .22);--ui-success: #22c55e;--ui-danger: #f87171;--ui-draw: #94a3b8}.app-wrapper{min-height:100vh;font-family:var(--ui-font-main);letter-spacing:var(--ui-font-main-letter-spacing)}.day-night-container{min-height:1em}.flex-col{display:flex;flex-direction:column}.player-card{background-color:transparent;display:grid;grid-auto-rows:minmax(min-content,max-content);grid-template-columns:auto 1fr auto;border-color:transparent;box-shadow:none}.back,.front{transform:rotate(180deg);writing-mode:vertical-lr;text-align:center}.battle-row{background-color:#5ebe09;background-repeat:no-repeat;background-position:center;background-size:cover;font-weight:400}.battle-row h2{font-weight:500}.player-side-text{color:var(--ui-player-soft)}.opponent-side-text{color:var(--ui-opponent-soft)}.battle-row h2.player-side-text{color:var(--ui-player-soft)}.battle-row h2.opponent-side-text{color:var(--ui-opponent-soft)}.side-select-player{color:var(--ui-player-soft)}.side-select-opponent{color:var(--ui-opponent-soft)}.stat-label.player-side-text{color:var(--ui-player-soft)}.stat-label.opponent-side-text{color:var(--ui-opponent-soft)}.log-filter-tabs .log-filter-tab.player-side-text{color:var(--ui-player-soft)}.log-filter-tabs .log-filter-tab.opponent-side-text{color:var(--ui-opponent-soft)}.log-filter-tabs .log-filter-tab.active.player-side-text{background-color:var(--ui-player-soft);border-color:var(--ui-player-soft);color:#fff}.log-filter-tabs .log-filter-tab.active.opponent-side-text{background-color:var(--ui-opponent-soft);border-color:var(--ui-opponent-soft);color:#fff}.battle-row button,.battle-row .btn,.battle-row .btn-link,.battle-row .log-filter-tab,.battle-row .log-event-filter-btn{font-family:var(--ui-font-main)}.log-row{padding:.35rem .75rem;border-bottom:1px solid #eef1f4}.top-controls{border-radius:14px;background:linear-gradient(180deg,#fff,#f8fbff);padding:.4rem .5rem .5rem;margin-bottom:.35rem;border:1px solid var(--ui-border-1);box-shadow:0 1px 2px #0f172a0a}.top-controls-header{display:grid;grid-template-columns:minmax(300px,1.05fr) minmax(320px,1.2fr) minmax(280px,1fr);gap:var(--ui-space-2);align-items:start;padding:6px 10px 3px}.top-toolbar-zone{display:flex;flex-direction:column;gap:3px;border:1px solid var(--ui-border-1);border-radius:12px;padding:7px 8px;background:var(--ui-surface-0)}.zone-label{display:inline-flex;align-items:center;gap:var(--ui-space-1);font-size:.72rem;font-weight:700;line-height:1;text-transform:uppercase;letter-spacing:.045em;color:var(--ui-text-3)}.zone-label.zone-label-right{justify-content:flex-end}.top-toolbar-zone-results{align-items:center;gap:2px}.simulate-controls{display:flex;flex-wrap:wrap;gap:var(--ui-space-1)}.simulate-input-group{display:flex;align-items:center;gap:var(--ui-space-1)}.simulate-input-group .simulate-input{width:88px;text-align:center;font-weight:600}.optimize-control-group,.randomize-control-group{display:inline-flex;align-items:center;gap:var(--ui-space-1)}.top-controls .btn{border-radius:10px;border-width:1px;font-weight:600;letter-spacing:.01em;font-family:var(--ui-font-main);transition:background-color .18s ease,border-color .18s ease,color .18s ease,box-shadow .18s ease}.top-controls .btn-primary{background:var(--ui-brand);border-color:var(--ui-brand);color:#fff}.top-controls .btn-primary:hover:not(:disabled){background:#1d4ed8;border-color:#1d4ed8}.top-controls .btn-secondary{background:var(--ui-surface-2);border-color:var(--ui-border-1);color:var(--ui-text-2)}.top-controls .btn-secondary:hover:not(:disabled){background:#e2e8f0;border-color:#cbd5e1}.top-controls .btn-outline-primary,.top-controls .btn-outline-secondary,.top-controls .btn-outline-danger{background:transparent;color:var(--ui-text-2);border-color:#cbd5e1}.top-controls .btn-outline-primary:hover:not(:disabled),.top-controls .btn-outline-secondary:hover:not(:disabled),.top-controls .btn-outline-danger:hover:not(:disabled){background:var(--ui-surface-2);border-color:#b8c5d6;color:var(--ui-text-1)}.results-placeholder{display:flex;flex-direction:column;align-items:center;gap:var(--ui-space-2);min-height:64px;width:100%}.results-placeholder-text{color:var(--ui-text-3);font-size:.82rem;font-weight:600;text-transform:uppercase;letter-spacing:.03em}.placeholder-bar{border-color:#d8e1eb;background-color:#eef2f7}.top-toolbar-zone-actions{align-items:flex-end;justify-content:space-between}.external-meta{align-items:center;display:flex;flex-wrap:wrap;gap:var(--ui-space-2);justify-content:flex-end;text-align:right}.external-buttons{display:flex;flex-wrap:wrap;gap:var(--ui-space-1);justify-content:flex-end}.sound-menu{position:relative}.sound-menu-panel{position:absolute;top:calc(100% + 6px);right:0;min-width:180px;z-index:20;border:1px solid var(--ui-border-1);border-radius:10px;background:var(--ui-surface-0);padding:10px;box-shadow:0 6px 18px #00000026;display:flex;flex-direction:column;gap:8px}.sound-menu-title{color:var(--ui-text-2);font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:.03em}.sound-menu-slider{margin:0}.sound-menu-mute-btn{width:100%}.top-controls-body{padding:4px 10px 8px}.controls-grid{display:grid;grid-template-columns:repeat(3,minmax(220px,1fr));gap:var(--ui-space-2);align-items:start}.controls-section{display:flex;flex-direction:column;gap:var(--ui-space-1);padding:8px;border-radius:12px;background-color:var(--ui-surface-1);border:1px solid var(--ui-border-1)}.controls-section .form-group,.controls-section .form-check{margin-bottom:0}.controls-section .form-group>label{margin-bottom:var(--ui-space-1);font-size:.74rem;font-weight:700;color:var(--ui-text-3);text-transform:uppercase;letter-spacing:.03em}.controls-section .form-check-label{color:var(--ui-text-2);font-size:.84rem}.section-title{font-size:.84rem;font-weight:700;text-transform:uppercase;letter-spacing:.04em;color:var(--ui-text-3)}.controls-section.unified-advanced-section{grid-column:span 3}.teams-section{flex-direction:row;flex-wrap:wrap;gap:var(--ui-space-2);align-items:flex-start}.team-name-actions{display:flex;gap:var(--ui-space-1)}.team-column{display:flex;flex-direction:column;gap:var(--ui-space-1);min-width:180px;flex:1 1 220px}.team-selection-btn{min-height:44px;display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:.6rem}.team-preview{display:flex;gap:2px}.team-preview-icon{width:28px;height:28px;border-radius:6px;background:#f5f6f8;object-fit:contain;border:1px solid rgba(0,0,0,.08)}.btn-placeholder{color:#495057;font-size:.9rem;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;letter-spacing:.025em}.team-name-input{max-width:220px}.team-select{max-width:240px}.packs-section .min-w-input{min-width:180px}.compact-toy-group .toy-panel{border-radius:10px;padding:.5rem .6rem;background:#fff;display:flex;flex-direction:column;gap:.5rem;box-shadow:none;max-width:100%;margin:0;border:1px solid #eef1f4}.selection-btn{width:100%;display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:#fff;border:1px solid #ced4da;border-radius:10px;transition:all .2s;cursor:pointer;text-align:left;min-height:42px;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400}.selection-btn:hover{background:#f1f3f5;border-color:#adb5bd;color:inherit;transform:translateY(-1px)}.selection-btn:focus-visible{outline:3px solid var(--sap-btn-primary);outline-offset:2px;border-color:var(--sap-btn-primary);color:inherit}.selection-btn:active{color:inherit}.selection-btn .btn-icon{width:24px;height:24px;object-fit:contain}.selection-btn .btn-text{font-size:.9rem;color:#495057;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;letter-spacing:.025em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.selection-btn i{color:#adb5bd;font-size:.8rem}:host-context(.night) .selection-btn{background:#3d3d3d;border-color:#444;color:#eee}:host-context(.night) .selection-btn:hover{background:#444;border-color:#555}:host-context(.night) .selection-btn:focus-visible{outline-color:#9ec5ff;border-color:#9ec5ff}:host-context(.night) .selection-btn .btn-text{color:#eee}:host-context(.night) .selection-btn .btn-placeholder{color:#eee}.compact-toy-group .toy-row{display:flex;gap:.5rem;flex-wrap:wrap;align-items:flex-end;justify-content:center}.compact-toy-group .toy-inline{flex:1;min-width:150px;display:flex;flex-direction:column;gap:.2rem}.compact-toy-group .toy-inline label{font-size:.75rem;font-weight:600;margin-bottom:0}.compact-toy-group .toy-level{max-width:90px}.compact-toy-group .hard-row .toy-inline{min-width:200px}.unified-advanced-section{gap:var(--ui-space-2)}.unified-advanced-header{display:flex;align-items:center}.unified-advanced-toggle-btn{width:100%;display:inline-flex;align-items:center;gap:var(--ui-space-2);color:var(--ui-text-2);text-decoration:none;font-weight:700}.unified-advanced-count{color:var(--ui-text-3);font-size:.74rem;text-transform:uppercase;letter-spacing:.03em}.unified-advanced-chevron{display:inline-block;margin-left:auto;transition:transform .2s ease}.unified-advanced-chevron.expanded{transform:rotate(180deg)}.unified-advanced-summary{color:var(--ui-text-3);font-size:.84rem;border-top:1px dashed var(--ui-border-1);padding-top:var(--ui-space-2)}.unified-advanced-body{display:flex;flex-direction:column;gap:var(--ui-space-1)}.unified-advanced-body .nested-section{background:var(--ui-surface-0)}.unified-advanced-body .packs-section{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:var(--ui-space-1) var(--ui-space-2);align-items:start}.unified-advanced-body .packs-section .form-check,.unified-advanced-body .packs-section .subsection-title,.unified-advanced-body .teams-section .subsection-title{grid-column:1/-1}.unified-advanced-body .teams-section{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:var(--ui-space-1) var(--ui-space-2);align-items:start}.unified-advanced-body .teams-section .team-column{min-width:0;flex:0 1 auto}.unified-advanced-body .team-name-input{max-width:100%}.unified-advanced-body .team-name-actions .btn,.unified-advanced-body .team-name-actions .form-select{flex:1 1 0;min-width:0}.subsection-title{margin-bottom:var(--ui-space-1)}.random-overrides-panel{border:1px solid var(--ui-border-1);border-radius:10px;background:var(--ui-surface-0);padding:8px;display:flex;flex-direction:column;gap:var(--ui-space-2)}.advanced-panel-body{border:1px solid var(--ui-border-1);border-radius:10px;background:var(--ui-surface-0);padding:8px}.advanced-grid{display:grid;grid-template-columns:repeat(3,minmax(140px,1fr));gap:var(--ui-space-1) var(--ui-space-2);align-items:start}.advanced-number-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:var(--ui-space-2);align-items:flex-start}.advanced-number-grid .form-group{margin-bottom:0}.advanced-input label{font-size:.74rem;font-weight:700;letter-spacing:.02em;margin-bottom:.2rem;color:var(--ui-text-3);text-transform:uppercase}.debug-sub-toggle{margin-left:1.15rem}.debug-sub-toggle .form-check-label{color:var(--ui-text-3);font-size:.78rem}.advanced-label-with-icon{display:inline-flex;align-items:center;gap:.35rem}.advanced-icon{width:18px;height:18px;display:inline-block;background-repeat:no-repeat;background-size:contain;background-position:center;filter:drop-shadow(0 1px 1px rgba(0,0,0,.2))}.advanced-icon.roll-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/roll.png)}.advanced-icon.gold-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/gold.png)}.advanced-icon.mana-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/mana.png)}.advanced-icon.transform-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/transform.png)}.advanced-icon.cycle-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/cycle.png)}.advanced-icon.summon-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/summon.png)}.advanced-icon.token-icon{background-image:url(/assets/art/Public/Public/Pets/Bee.png)}.advanced-icon.komodo-icon{background-image:url(/assets/art/Public/Public/Pets/Komodo.png)}.advanced-icon.perk-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/perk.png)}.advanced-icon.pheasant-icon{background-image:url(/assets/art/Public/Public/Icons/triggers-from-textmap.png)}.advanced-icon.abomination-icon{background-image:url(/assets/art/Public/Public/Pets/Shoggoth.png)}.small-w-input label{font-size:.74rem;font-weight:700;letter-spacing:.02em;margin-bottom:.2rem;color:var(--ui-text-3);text-transform:uppercase}.advanced-input input{text-align:center}.advanced-toggle{display:flex;justify-content:flex-start}.random-overrides-header{align-items:center;display:flex;flex-wrap:wrap;gap:var(--ui-space-2);justify-content:space-between}.random-overrides-toggle{display:inline-flex;align-items:center;gap:var(--ui-space-2);color:var(--ui-text-2);text-decoration:none;font-weight:700}.random-overrides-count{color:var(--ui-text-3);font-size:.8rem;text-transform:uppercase;letter-spacing:.03em}.random-overrides-chevron{display:inline-block;transition:transform .2s ease}.random-overrides-chevron.expanded{transform:rotate(180deg)}.random-overrides-actions{display:flex;flex-wrap:wrap;gap:var(--ui-space-1)}.random-overrides-summary{color:var(--ui-text-3);font-size:.92rem;border-top:1px dashed var(--ui-border-1);padding-top:var(--ui-space-2)}.random-overrides-body{display:flex;flex-direction:column;gap:var(--ui-space-2);border-top:1px dashed var(--ui-border-1);padding-top:var(--ui-space-2)}.random-overrides-empty{color:var(--ui-text-3);font-size:.92rem}.random-overrides-error{color:#b42318;font-size:.92rem;font-weight:600}.random-overrides-table-wrap{max-height:260px;overflow:auto}.random-overrides-table{margin-bottom:0}.decision-label{font-size:.94rem;font-weight:600;line-height:1.3}.decision-key{color:#6c757d;font-family:Courier New,Courier,monospace;font-size:.84rem}.decision-choice-preview{font-size:.9rem;line-height:1.35;margin-bottom:.3rem;min-height:1.25rem}.meta-text{color:#6c757d;font-size:.9rem}.battle-controller.border{border:0;background-color:#f5f5f5}.small-w-input{width:60px}@media(max-width:1199.98px){.controls-grid{grid-template-columns:repeat(2,minmax(220px,1fr))}.controls-section.unified-advanced-section{grid-column:span 2}}@media(max-width:991.98px){.top-controls-header{grid-template-columns:1fr}.top-toolbar-zone-actions,.external-meta,.external-buttons{align-items:flex-start;justify-content:flex-start;text-align:left}.zone-label.zone-label-right{justify-content:flex-start}.controls-grid{grid-template-columns:1fr}.controls-section.unified-advanced-section{grid-column:span 1}.teams-section{flex-direction:column}.advanced-grid{grid-template-columns:repeat(2,minmax(120px,1fr))}.packs-section .min-w-input,.team-column{min-width:0}.unified-advanced-body .packs-section,.unified-advanced-body .teams-section{grid-template-columns:1fr}}@media(max-width:575.98px){.top-controls{padding:.35rem .35rem .5rem}.top-controls-header,.top-controls-body{padding-left:.5rem;padding-right:.5rem}.simulate-controls,.simulate-input-group,.optimize-control-group,.randomize-control-group,.team-name-actions,.external-buttons,.random-overrides-actions{width:100%}.simulate-controls,.optimize-control-group,.randomize-control-group,.team-name-actions,.external-buttons,.random-overrides-actions{gap:.4rem}.simulate-input-group{flex-wrap:wrap}.simulate-input-group .simulate-input{width:100%;flex:1 1 100%}.external-buttons .btn,.team-name-actions .btn,.team-name-actions .form-select,.random-overrides-actions .btn{flex:1 1 auto}.team-name-input{max-width:100%}.advanced-grid{grid-template-columns:1fr}.advanced-number-grid{grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:.6rem}}.results-row{align-items:center;display:flex;flex-direction:column;justify-content:center;text-align:center;gap:2px;width:100%}.results-row .stats{align-items:center;display:flex;justify-content:center;gap:2px 10px;flex-wrap:wrap;width:100%}.stat-block{display:flex;flex:0 1 auto;gap:.28rem;font-weight:700;font-size:.9rem;justify-content:center;white-space:nowrap}.stat-label{font-weight:700;color:var(--ui-text-3);text-transform:uppercase;letter-spacing:.03em;font-size:.72rem}.stat-value{color:var(--ui-text-2)}.player-stat .stat-value{color:var(--ui-success)}.opponent-stat .stat-value{color:var(--ui-danger)}.draw-stat .stat-value{color:var(--ui-draw)}.modern-results-bar{width:min(560px,100%);height:14px;display:flex;overflow:hidden;border-radius:999px;border:1px solid #d7e1ec;background:#eef3f8}.modern-results-bar .results-segment{height:100%;min-width:0}.modern-results-bar .results-segment-player{background:linear-gradient(90deg,#22c55e,#16a34a)}.modern-results-bar .results-segment-draw{background:linear-gradient(90deg,#94a3b8,#64748b)}.modern-results-bar .results-segment-opponent{background:linear-gradient(90deg,#ef4444,#dc2626)}.optimization-delta{display:flex;align-items:center;justify-content:center;gap:.35rem;flex-wrap:wrap;font-size:.76rem;color:var(--ui-text-3);text-transform:uppercase;letter-spacing:.03em}.optimization-delta-label{color:var(--ui-text-2);font-weight:700}.optimization-delta-value{font-weight:700;color:var(--ui-text-2)}.optimization-delta-value-win{color:var(--ui-success)}.optimization-delta-value-loss{color:var(--ui-danger)}.optimization-delta-separator{color:var(--ui-text-3)}.top-controls-meta-text{color:var(--ui-text-3)!important;font-size:.78rem!important;text-transform:uppercase;letter-spacing:.03em}.battle-table-shell{border:1px solid #dce4ec;border-radius:10px;overflow:hidden;background:#fff}.battle-table-meta{display:flex;justify-content:space-between;align-items:center;gap:.6rem;padding:.45rem .6rem;background:#f8fafc;color:#64748b;font-size:.74rem;font-weight:700;text-transform:uppercase;letter-spacing:.03em;border-bottom:1px solid #e2e8f0}.battle-table thead th{font-size:.8rem;font-weight:700;color:#334155;text-transform:uppercase;letter-spacing:.03em;border-bottom:1px solid #e2e8f0;background:#f8fafc;padding:.55rem .6rem}.battle-table tbody td{padding:.5rem .6rem;vertical-align:middle;border-bottom:1px solid #edf2f7}.battle-table tbody tr:last-child td{border-bottom:0}.table-battle-row{cursor:pointer;transition:background-color .16s ease}.table-battle-row td{background:#fff}.table-battle-row:hover td{background:#f8fbff}.table-battle-row.selected-battle td{background:#eaf2ff}.table-battle-row.battle-win td:first-child{border-left:3px solid #16a34a}.table-battle-row.battle-loss td:first-child{border-left:3px solid #dc2626}.table-battle-row.battle-draw td:first-child{border-left:3px solid #64748b}.battle-winner-chip{display:inline-flex;align-items:center;border-radius:999px;padding:.18rem .55rem;border:1px solid #d3dce6;background:#f8fafc;color:#334155;font-size:.72rem;font-weight:700;text-transform:uppercase;letter-spacing:.03em}.battle-winner-player{background:#16a34a21;border-color:#16a34a73;color:#166534}.battle-winner-opponent{background:#dc26261f;border-color:#dc262673;color:#991b1b}.battle-winner-draw{background:#64748b24;border-color:#64748b73;color:#475569}.battle-random-cell{font-size:.95rem;line-height:1.4;color:#334155}.battle-no-random{color:#94a3b8;font-style:italic}::ng-deep .log-pet-icon{width:18px;height:18px;object-fit:contain;vertical-align:middle;margin-right:2px}::ng-deep .log-inline-icon{width:16px;height:16px;object-fit:contain;vertical-align:middle;margin:0 3px 2px}.pane-top-shell{border:1px solid #dee5ee;border-radius:10px;background:linear-gradient(180deg,#f8fafd,#fff);padding:.55rem .6rem .65rem;margin-bottom:.55rem}.pane-title{margin:0;font-size:1.55rem;line-height:1.1;color:#1e293b}.pane-subtitle{display:block;margin:.4rem 0 .25rem;font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:.035em;color:#64748b}.logs-top-shell{padding-bottom:.55rem}.log-container{display:block;padding-left:.35rem;padding-right:.35rem}.log-container.log-container-with-analysis{max-height:24rem;overflow-y:auto}.bold{font-weight:700}.log-event-filters{display:flex;flex-wrap:wrap;gap:.35rem;margin-top:.45rem;align-items:center}.log-event-filter-label{font-size:.72rem;font-weight:700;text-transform:uppercase;letter-spacing:.035em;color:#64748b;margin-right:.1rem}.log-event-filter-btn{border-radius:999px;border:1px solid #d4dbe3;background:#fff;color:#495057;padding:.3rem .75rem;font-size:.82rem;font-weight:700;line-height:1;transition:border-color .18s ease,background-color .18s ease,color .18s ease}.log-event-filter-btn.active{background:#0d6efd;border-color:#0d6efd;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55)}.log-groups{display:flex;flex-direction:column;gap:.45rem}.log-group{border:1px solid #e2e8ef;border-radius:8px;background:#fff;overflow:hidden}.log-group-header{width:100%;border:0;background:#f8fafc;padding:.36rem .5rem;display:flex;align-items:center;gap:.45rem;text-align:left;color:#334155;font-size:.84rem;font-weight:700}.log-group-title{flex:1 1 auto}.log-group-count{color:#64748b;font-size:.78rem}.log-group-meta{display:inline-flex;align-items:center;gap:.35rem}.log-group-chevron{color:#64748b;font-size:.82rem;line-height:1;transition:transform .16s ease}.log-group-chevron.log-group-chevron-collapsed{transform:rotate(-90deg)}.log-group-body{padding:.2rem .35rem .4rem}.log-group-body .log-row:first-child{margin-top:0}.log-row{position:relative;display:flex;gap:.5rem;padding:.42rem .54rem;border-radius:6px;border:1px solid transparent;margin-top:.2rem;background:#fff}.log-row:before{content:"";position:absolute;left:0;top:0;bottom:0;width:3px;border-radius:6px 0 0 6px;background:#c3cbd4}.log-row.log-player:before{background:#2f9e44}.log-row.log-opponent:before{background:#c92a2a}.log-row.log-row-board{background:#f8fafc;border-color:#e2e8ef;box-shadow:none}.log-row.log-row-board .log-row-text{font-family:var(--ui-font-main);letter-spacing:.01em;color:#64748b}.log-row.log-type-attack{border-color:var(--ui-brand-weak);background:var(--ui-surface-0)}.log-row.log-type-attack .log-row-text{color:var(--ui-text-1)}.log-row.log-type-ability,.log-row.log-type-equipment,.log-row.log-type-death{border-color:#1e40af29}.log-row.log-phase-marker{border-color:#dbeafe;background:#eff6ff}.log-row.random-event{box-shadow:inset 0 0 0 1px #fb923c47}.log-row-meta{min-width:7.8rem;display:inline-flex;flex-wrap:wrap;align-items:center;align-content:flex-start;gap:.25rem;padding-top:.02rem}.log-badge{font-size:.72rem;line-height:1;letter-spacing:.02em;text-transform:uppercase;font-weight:700;color:#475569;background:#f8fafc;border:1px solid #d3dde7;border-radius:999px;padding:.24rem .5rem}.log-badge-side-player{color:#166534;border-color:#22c55e73;background:#22c55e24}.log-badge-side-opponent{color:#991b1b;border-color:#ef444473;background:#ef444424}.log-badge-side-unknown{color:#475569}.log-badge-type-attack{border-color:#0e749066;background:#0e74901f;color:#0e7490}.log-badge-type-ability,.log-badge-type-equipment{border-color:#1e40af61;background:#1e40af1a;color:#1d4ed8}.log-badge-type-board{border-color:#47556961;background:#4755691f;color:#334155}.log-badge-type-death{border-color:#b91c1c66;background:#b91c1c1f;color:#b91c1c}.log-badge-type-move,.log-badge-type-trumpets{border-color:#64748b73;background:#64748b1f;color:#475569}.log-badge-random{border-color:#ea580c75;background:#ea580c24;color:#9a3412}.log-badge-phase{border-color:#2563eb66;background:#2563eb1f;color:#1d4ed8}.log-row-text{color:#1f2937;font-size:.98rem;line-height:1.42;flex:1 1 auto}.log-row-text span{color:inherit;font-size:inherit;line-height:inherit}.log-position-prefix{font-family:Arial,Helvetica,sans-serif!important;font-kerning:none;font-variant-ligatures:none;font-feature-settings:"kern" 0,"liga" 0;letter-spacing:normal}.log-empty-state{border:1px dashed #d0d7de;border-radius:8px;padding:.75rem;color:#6c757d;font-size:.86rem;text-align:center;background:#fff}.flex-1{flex:1}.flex-col{min-height:0}.bottom-container{min-height:38em;padding-top:.75rem;flex-wrap:nowrap}.bottom-container>div{min-height:15em}.bottom-container-scroll{min-width:0;overflow-x:auto;overflow-y:hidden}.bottom-container-scroll-hint{display:none;font-size:.8rem;font-weight:600;color:#6c757d;margin-bottom:.35rem;padding:0 .1rem;white-space:nowrap}.pane-switch-tabs{display:none;gap:.45rem;margin-bottom:.5rem}.pane-switch-tab{border-radius:999px;border:1px solid #d4dbe3;background:#fff;color:#495057;padding:.34rem .85rem;font-size:.84rem;font-weight:700;line-height:1;transition:border-color .18s ease,background-color .18s ease,color .18s ease}.pane-switch-tab.active{background:#0d6efd;border-color:#0d6efd;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55)}.pane-switch-tab:focus-visible{outline:3px solid var(--sap-btn-primary);outline-offset:2px}.bottom-container .border,.bottom-container .table{border:0}.bottom-container .table>:not(caption)>*>*{border-bottom:0}.battle-pane,.logs-pane{min-width:20rem}.bottom-container>.battle-pane{flex:0 0 50%;max-width:none;display:flex;flex-direction:column;min-height:0}.bottom-container>.logs-pane{flex:1 1 auto;max-width:none;width:auto;display:flex;flex-direction:column;min-height:0}.battle-log-divider{flex:0 0 8px;align-self:stretch;cursor:col-resize;position:relative;-webkit-user-select:none;user-select:none;touch-action:none}.battle-log-divider:before{content:"";position:absolute;left:50%;top:0;width:1px;height:100%;transform:translate(-50%);background-color:#dee2e6}.battle-log-divider:hover:before,.battle-log-divider:focus-visible:before{width:2px;background-color:#adb5bd}.battle-log-divider:focus-visible{outline:none}.vertical-resizable-stack{--fight-frame-cadence: 1;--fight-impact-scale: 1;--fight-motion: calc(var(--fight-motion-scale, 1) * var(--fight-frame-cadence, 1));display:flex;flex-direction:column;flex:1 1 auto;min-height:0}.animation-top-pane,.logs-top-pane{min-height:0;overflow:auto}.animation-bottom-pane{flex:1 1 auto;min-height:0;margin-top:0;max-height:none}.analysis-bottom-pane{flex:1 1 auto;min-height:0;overflow:hidden}.analysis-sections-stack{height:100%;min-height:0}.timeline-top-pane{min-height:0;overflow:auto}.diff-bottom-pane{flex:1 1 auto;min-height:0}.logs-analysis-stack .log-container.log-container-with-analysis{max-height:none}.horizontal-resize-divider{flex:0 0 8px;cursor:row-resize;position:relative;-webkit-user-select:none;user-select:none;touch-action:none}.horizontal-resize-divider:before{content:"";position:absolute;top:50%;left:0;width:100%;height:1px;transform:translateY(-50%);background-color:#dee2e6}.horizontal-resize-divider:hover:before,.horizontal-resize-divider:focus-visible:before{height:2px;background-color:#adb5bd}.horizontal-resize-divider:focus-visible{outline:none}.bottom-container .form-control,.bottom-container .form-check-input{border-color:transparent;box-shadow:none}.scroll{overflow-x:hidden;overflow-y:auto}.bottom-container .battle-container,.bottom-container .log-container{min-height:0;overflow-y:auto}.log-filter-tabs{display:flex;gap:.5rem;padding:.25rem 0 0;overflow-x:auto;white-space:nowrap}.log-filter-tabs::-webkit-scrollbar{display:none}.log-filter-tabs{-ms-overflow-style:none;scrollbar-width:none}.log-filter-tab{flex:0 0 auto;border-radius:999px;border:1px solid #dee2e6;background-color:#fff;color:#6c757d;font-weight:600;padding:.35rem 1rem;font-size:.9rem;transition:background-color .2s ease,color .2s ease,border-color .2s ease;cursor:pointer}.log-filter-tab:focus-visible{outline:3px solid var(--sap-btn-primary);outline-offset:2px}.log-filter-tab.active{background-color:var(--sap-btn-primary);color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);border-color:var(--sap-btn-primary)}.h-100{height:100%}.pre{white-space:pre}.analysis-section{border-top:1px solid #e9ecef;padding-top:.5rem}.battle-view-header{gap:.5rem;margin-bottom:0}.fight-stage{--fight-motion-scale: 1;--fight-frame-cadence: 1;--fight-impact-scale: 1;--fight-motion: calc(var(--fight-motion-scale, 1) * var(--fight-frame-cadence, 1));border:1px solid #e9ecef;border-radius:8px;padding:.5rem;display:grid;grid-template-columns:minmax(0,1fr) minmax(0,1fr);grid-template-areas:"player opponent" "event event";align-items:start;gap:.45rem;background:linear-gradient(180deg,#f8fbff,#fff)}.fight-stage.fight-frame-attack{box-shadow:inset 0 0 0 1px #c6282829}.fight-stage.fight-frame-ability{box-shadow:inset 0 0 0 1px #2563eb24}.fight-stage.fight-frame-burst{box-shadow:inset 0 0 0 1px #d9770633,0 0 0 1px #d9770614}.fight-stage.fight-frame-resolution{box-shadow:inset 0 0 0 1px #47556933}@keyframes fight-stage-rumble{0%{transform:translate(0)}22%{transform:translate(calc(-1px * var(--fight-impact-scale, 1)))}44%{transform:translate(calc(1.5px * var(--fight-impact-scale, 1)))}66%{transform:translate(calc(-1px * var(--fight-impact-scale, 1)))}to{transform:translate(0)}}.fight-stage.fight-frame-heavy-impact{animation:fight-stage-rumble calc(.2s * var(--fight-motion, 1)) linear}.fight-team{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:.35rem}.fight-team-opponent .fight-slot{background-color:#dc354514}.fight-team-player .fight-slot{background-color:#28a74514}.fight-team-opponent{grid-area:opponent}.fight-team-player{grid-area:player}.fight-team-player-head-to-head{direction:rtl}.fight-team-player-head-to-head .fight-slot{direction:ltr;--fight-shift-direction: -1}.fight-team-toy-wrap{display:flex;gap:.25rem;align-items:center;justify-content:center;grid-column:1/-1;margin-bottom:.25rem}.fight-team-toy{width:24px;height:24px;object-fit:contain;opacity:.95}.fight-team-toy-hard{filter:drop-shadow(0 0 2px rgba(0,0,0,.25))}.fight-slot{--fight-shift-direction: 1;border:1px solid #dce4ec;border-radius:8px;padding:.25rem;min-height:5rem;display:flex;flex-direction:column;gap:.15rem;align-items:center;justify-content:space-between;transition:box-shadow calc(.14s * var(--fight-motion, 1)) ease-out,background-color calc(.14s * var(--fight-motion, 1)) ease-out,border-color calc(.14s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-front{border-color:#0d6efd;box-shadow:inset 0 0 0 1px #0d6efd59}.fight-slot.fight-slot-impact-heavy{box-shadow:inset 0 0 0 1px #c628284d,0 0 0 1px #c6282824}.fight-slot.fight-slot-impact-lethal{border-color:#4950579e;background-image:linear-gradient(180deg,#49505733,#4950570a)}.fight-slot.fight-slot-empty-card{opacity:.8}.fight-slot.fight-slot-fainted-ghost{border-color:#49505780;box-shadow:inset 0 0 0 1px #49505738}.fight-slot.fight-slot-fainted-ghost .fight-slot-art{opacity:.68;filter:grayscale(.72) saturate(.58)}.fight-slot.fight-slot-fainted-ghost .fight-slot-stats{opacity:.72}.fight-slot-label{font-size:.68rem;font-weight:700;color:#495057}.fight-slot-art{min-height:2.7rem;display:flex;align-items:center;justify-content:center;position:relative;overflow:visible;transform:translateZ(0);backface-visibility:hidden;will-change:transform}.fight-slot-art:after{content:"";position:absolute;inset:-2px;border-radius:8px;pointer-events:none;opacity:0;background:radial-gradient(circle at 50% 50%,#ffffffb8,#ffd7a261 48%,#fff0);mix-blend-mode:screen}.fight-slot-icon{width:42px;height:42px;object-fit:contain}.fight-slot-companion{position:absolute;left:-6px;bottom:-4px;width:16px;height:16px;object-fit:contain;border-radius:50%;background-color:#fff;box-shadow:0 0 0 1px #00000014}.fight-slot-equipment{position:absolute;right:-6px;bottom:-4px;width:16px;height:16px;object-fit:contain}.fight-equipment-ghost{position:absolute;right:-6px;bottom:-4px;pointer-events:none;will-change:transform,opacity,filter}.fight-equipment-ghost-icon{width:16px;height:16px;object-fit:contain}.fight-equipment-gain-ghost{position:absolute;right:-6px;bottom:-4px;pointer-events:none;opacity:0;will-change:transform,opacity,filter}.fight-equipment-gain-icon{width:16px;height:16px;object-fit:contain}.fight-slot-empty{font-family:Courier New,Courier,monospace;color:#9aa4af;font-size:.78rem}.fight-slot-stats{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;gap:.22rem;font-size:.74rem;font-weight:700;color:#212529}.fight-slot-stat{display:inline-flex;align-items:center;gap:.12rem}.fight-slot-stat-icon{width:14px;height:14px;object-fit:contain}.fight-slot-exp{gap:.18rem}.fight-slot-exp-group{width:44px;display:inline-flex;flex-direction:column;gap:1px}.fight-slot-exp-levels{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));align-items:center;font-size:.42rem;line-height:1;color:#6c757d}.fight-slot-exp-level{text-align:center;font-weight:700}.fight-slot-exp-bar{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:1px}.fight-slot-exp-segment{height:.38rem;border:1px solid #212529;border-radius:2px;background-color:#9c5900;box-shadow:0 1px 1px #00000040}.fight-slot-exp-segment.selected{background-color:#feb900}.fight-slot-stat-divider{color:#6c757d;font-size:.66rem}.fight-event{grid-area:event;border:1px solid #dce4ec;border-radius:8px;background-color:#fff;padding:.4rem .55rem;display:flex;flex-direction:column;gap:.15rem}@keyframes fight-event-pulse-a{0%{transform:translateY(1px);opacity:.9}to{transform:translateY(0);opacity:1}}@keyframes fight-event-pulse-b{0%{transform:translateY(1px);opacity:.88}to{transform:translateY(0);opacity:1}}.fight-event.fight-event-phase-a,.fight-stage.fight-phase-a .fight-event{animation:fight-event-pulse-a calc(.26s * var(--fight-motion, 1)) ease-out}.fight-event.fight-event-phase-b,.fight-stage.fight-phase-b .fight-event{animation:fight-event-pulse-b calc(.26s * var(--fight-motion, 1)) ease-out}.fight-event.fight-event-random{border-left:4px solid #6f42c1}.fight-event-type{font-size:.74rem;font-weight:700;text-transform:uppercase;color:#6c757d}.fight-event-text{font-size:.92rem;color:#212529;line-height:1.35}.fight-event-step{font-size:.76rem;color:#6c757d}.fight-stage.fight-frame-attack .fight-event{border-color:#c6282875;box-shadow:inset 0 0 0 1px #c6282829}.fight-stage.fight-frame-burst .fight-event{border-color:#d977067a;box-shadow:inset 0 0 0 1px #d9770633}@keyframes fight-event-burst-pulse{0%{transform:translateY(1px) scale(.99);filter:brightness(1)}48%{transform:translateY(0) scale(1.01);filter:brightness(1.08)}to{transform:translateY(0) scale(1);filter:brightness(1)}}.fight-stage.fight-frame-burst .fight-event{animation:fight-event-burst-pulse calc(.24s * var(--fight-motion, 1)) cubic-bezier(.25,.7,.25,1)}@keyframes fight-lunge-player-a{0%{transform:translate(0) scale(1)}12%{transform:translate(calc(-4px * var(--fight-impact-scale, 1))) scale(.982)}36%{transform:translate(calc(16px * var(--fight-impact-scale, 1))) scale(1.05)}50%{transform:translate(calc(15px * var(--fight-impact-scale, 1))) scale(1.045)}72%{transform:translate(calc(-1px * var(--fight-impact-scale, 1))) scale(.995)}to{transform:translate(0) scale(1)}}@keyframes fight-lunge-player-b{0%{transform:translate(0) scale(1)}12%{transform:translate(calc(-3px * var(--fight-impact-scale, 1))) scale(.984)}35%{transform:translate(calc(15px * var(--fight-impact-scale, 1))) scale(1.048)}49%{transform:translate(calc(14px * var(--fight-impact-scale, 1))) scale(1.04)}72%{transform:translate(calc(-1px * var(--fight-impact-scale, 1))) scale(.995)}to{transform:translate(0) scale(1)}}@keyframes fight-lunge-opponent-a{0%{transform:translate(0) scale(1)}12%{transform:translate(calc(4px * var(--fight-impact-scale, 1))) scale(.982)}36%{transform:translate(calc(-16px * var(--fight-impact-scale, 1))) scale(1.05)}50%{transform:translate(calc(-15px * var(--fight-impact-scale, 1))) scale(1.045)}72%{transform:translate(calc(1px * var(--fight-impact-scale, 1))) scale(.995)}to{transform:translate(0) scale(1)}}@keyframes fight-lunge-opponent-b{0%{transform:translate(0) scale(1)}12%{transform:translate(calc(3px * var(--fight-impact-scale, 1))) scale(.984)}35%{transform:translate(calc(-15px * var(--fight-impact-scale, 1))) scale(1.048)}49%{transform:translate(calc(-14px * var(--fight-impact-scale, 1))) scale(1.04)}72%{transform:translate(calc(1px * var(--fight-impact-scale, 1))) scale(.995)}to{transform:translate(0) scale(1)}}@keyframes fight-hit-shake-a{0%{transform:translate(0);filter:brightness(1)}16%{transform:translate(calc(-3px * var(--fight-impact-scale, 1))) scale(1.01);filter:brightness(1.16)}34%,48%{transform:translate(calc(4px * var(--fight-impact-scale, 1))) scale(.985);filter:brightness(1.3)}82%{transform:translate(calc(-2px * var(--fight-impact-scale, 1)))}to{transform:translate(0);filter:brightness(1)}}@keyframes fight-hit-shake-b{0%{transform:translate(0);filter:brightness(1)}16%{transform:translate(calc(3px * var(--fight-impact-scale, 1))) scale(1.01);filter:brightness(1.16)}34%,48%{transform:translate(calc(-4px * var(--fight-impact-scale, 1))) scale(.985);filter:brightness(1.3)}82%{transform:translate(calc(2px * var(--fight-impact-scale, 1)))}to{transform:translate(0);filter:brightness(1)}}@keyframes fight-hit-shake-heavy-a{0%{transform:translate(0) scale(1);filter:brightness(1)}16%{transform:translate(calc(-5px * var(--fight-impact-scale, 1))) scale(1.02)}38%,56%{transform:translate(calc(6px * var(--fight-impact-scale, 1))) scale(.97);filter:brightness(1.34)}72%{transform:translate(calc(-3px * var(--fight-impact-scale, 1))) scale(1)}to{transform:translate(0) scale(1);filter:brightness(1)}}@keyframes fight-hit-shake-heavy-b{0%{transform:translate(0) scale(1);filter:brightness(1)}16%{transform:translate(calc(5px * var(--fight-impact-scale, 1))) scale(1.02)}38%,56%{transform:translate(calc(-6px * var(--fight-impact-scale, 1))) scale(.97);filter:brightness(1.34)}72%{transform:translate(calc(3px * var(--fight-impact-scale, 1))) scale(1)}to{transform:translate(0) scale(1);filter:brightness(1)}}@keyframes fight-contact-flash-a{0%{opacity:0;transform:scale(.98)}24%{opacity:.98;transform:scale(calc(1.03 * var(--fight-impact-scale, 1)))}44%{opacity:.98;transform:scale(calc(1.02 * var(--fight-impact-scale, 1)))}to{opacity:0;transform:scale(1)}}@keyframes fight-contact-flash-b{0%{opacity:0;transform:scale(.98)}22%{opacity:.96;transform:scale(calc(1.028 * var(--fight-impact-scale, 1)))}42%{opacity:.96;transform:scale(calc(1.018 * var(--fight-impact-scale, 1)))}to{opacity:0;transform:scale(1)}}@keyframes fight-contact-hitstop-a{0%{transform:scale(1);filter:brightness(1)}38%,56%{transform:scale(calc(1.08 * var(--fight-impact-scale, 1)));filter:brightness(1.24)}to{transform:scale(1);filter:brightness(1)}}@keyframes fight-contact-hitstop-b{0%{transform:scale(1);filter:brightness(1)}36%,54%{transform:scale(calc(1.075 * var(--fight-impact-scale, 1)));filter:brightness(1.22)}to{transform:scale(1);filter:brightness(1)}}.fight-team-player .fight-slot-attacker.fight-impact-phase-a .fight-slot-art,.fight-stage.fight-phase-a .fight-team-player .fight-slot-attacker .fight-slot-art{animation:fight-lunge-player-a calc(.3s * var(--fight-motion, 1)) cubic-bezier(.25,.65,.35,1)}.fight-team-player .fight-slot-attacker.fight-impact-phase-b .fight-slot-art,.fight-stage.fight-phase-b .fight-team-player .fight-slot-attacker .fight-slot-art{animation:fight-lunge-player-b calc(.3s * var(--fight-motion, 1)) cubic-bezier(.25,.65,.35,1)}.fight-team-opponent .fight-slot-attacker.fight-impact-phase-a .fight-slot-art,.fight-stage.fight-phase-a .fight-team-opponent .fight-slot-attacker .fight-slot-art{animation:fight-lunge-opponent-a calc(.3s * var(--fight-motion, 1)) cubic-bezier(.25,.65,.35,1)}.fight-team-opponent .fight-slot-attacker.fight-impact-phase-b .fight-slot-art,.fight-stage.fight-phase-b .fight-team-opponent .fight-slot-attacker .fight-slot-art{animation:fight-lunge-opponent-b calc(.3s * var(--fight-motion, 1)) cubic-bezier(.25,.65,.35,1)}.fight-slot-target.fight-impact-phase-a,.fight-stage.fight-phase-a .fight-slot-target{animation:fight-hit-shake-a calc(.25s * var(--fight-motion, 1)) ease-out;box-shadow:inset 0 0 0 1px #c6282840}.fight-slot-target.fight-impact-phase-b,.fight-stage.fight-phase-b .fight-slot-target{animation:fight-hit-shake-b calc(.25s * var(--fight-motion, 1)) ease-out;box-shadow:inset 0 0 0 1px #c6282840}.fight-stage.fight-frame-heavy-impact .fight-slot-target.fight-impact-phase-a,.fight-stage.fight-frame-heavy-impact.fight-phase-a .fight-slot-target{animation:fight-hit-shake-heavy-a calc(.28s * var(--fight-motion, 1)) cubic-bezier(.2,.72,.3,1)}.fight-stage.fight-frame-heavy-impact .fight-slot-target.fight-impact-phase-b,.fight-stage.fight-frame-heavy-impact.fight-phase-b .fight-slot-target{animation:fight-hit-shake-heavy-b calc(.28s * var(--fight-motion, 1)) cubic-bezier(.2,.72,.3,1)}.fight-stage.fight-frame-contact-freeze .fight-slot-contact-pair.fight-impact-phase-a .fight-slot-art:after,.fight-stage.fight-frame-contact-freeze.fight-phase-a .fight-slot-contact-pair .fight-slot-art:after{animation:fight-contact-flash-a calc(205ms * var(--fight-motion, 1)) cubic-bezier(.25,.72,.25,1) forwards}.fight-stage.fight-frame-contact-freeze .fight-slot-contact-pair.fight-impact-phase-b .fight-slot-art:after,.fight-stage.fight-frame-contact-freeze.fight-phase-b .fight-slot-contact-pair .fight-slot-art:after{animation:fight-contact-flash-b calc(205ms * var(--fight-motion, 1)) cubic-bezier(.25,.72,.25,1) forwards}.fight-stage.fight-frame-contact-freeze.fight-phase-a .fight-slot-contact-pair .fight-slot-icon,.fight-stage.fight-frame-contact-freeze.fight-phase-a .fight-slot-contact-pair .fight-slot-companion{animation:fight-contact-hitstop-a calc(.19s * var(--fight-motion, 1)) cubic-bezier(.2,.78,.2,1)}.fight-stage.fight-frame-contact-freeze.fight-phase-b .fight-slot-contact-pair .fight-slot-icon,.fight-stage.fight-frame-contact-freeze.fight-phase-b .fight-slot-contact-pair .fight-slot-companion{animation:fight-contact-hitstop-b calc(.19s * var(--fight-motion, 1)) cubic-bezier(.2,.78,.2,1)}.fight-snipe-impact{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none}.fight-snipe-impact-icon{width:20px;height:20px;object-fit:contain;opacity:0;filter:drop-shadow(0 0 2px rgba(51,65,85,.45));will-change:transform,opacity,filter}@keyframes fight-snipe-hit-a{0%{opacity:0;transform:translate(calc(14px * var(--fight-impact-scale, 1)),calc(-12px * var(--fight-impact-scale, 1))) scale(.58) rotate(-24deg);filter:brightness(1)}42%,52%{opacity:1;transform:translate(0) scale(calc(1.08 * var(--fight-impact-scale, 1))) rotate(0);filter:brightness(1.22)}to{opacity:0;transform:translate(calc(-3px * var(--fight-impact-scale, 1)),2px) scale(.82) rotate(8deg);filter:brightness(.96)}}@keyframes fight-snipe-hit-b{0%{opacity:0;transform:translate(calc(-14px * var(--fight-impact-scale, 1)),calc(-11px * var(--fight-impact-scale, 1))) scale(.56) rotate(22deg);filter:brightness(1)}40%,50%{opacity:1;transform:translate(0) scale(calc(1.07 * var(--fight-impact-scale, 1))) rotate(0);filter:brightness(1.2)}to{opacity:0;transform:translate(calc(2px * var(--fight-impact-scale, 1)),2px) scale(.8) rotate(-7deg);filter:brightness(.96)}}.fight-slot-snipe-target.fight-impact-phase-a .fight-snipe-impact-icon,.fight-stage.fight-phase-a .fight-slot-snipe-target .fight-snipe-impact-icon{animation:fight-snipe-hit-a calc(.33s * var(--fight-motion, 1)) ease-out forwards}.fight-slot-snipe-target.fight-impact-phase-b .fight-snipe-impact-icon,.fight-stage.fight-phase-b .fight-slot-snipe-target .fight-snipe-impact-icon{animation:fight-snipe-hit-b calc(.33s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-stat-gain{border-color:#2f9e448c;box-shadow:inset 0 0 0 1px #2f9e4440}@keyframes fight-stat-gain-icon-a{0%{transform:scale(1);filter:brightness(1) saturate(1)}44%{transform:scale(1.13);filter:brightness(1.2) saturate(1.18)}to{transform:scale(1);filter:brightness(1) saturate(1)}}@keyframes fight-stat-gain-icon-b{0%{transform:scale(1);filter:brightness(1) saturate(1)}42%{transform:scale(1.11);filter:brightness(1.18) saturate(1.15)}to{transform:scale(1);filter:brightness(1) saturate(1)}}@keyframes fight-stat-gain-stats-a{0%{transform:translateY(0);color:#212529}42%{transform:translateY(-2px);color:#2f9e44}to{transform:translateY(0);color:#212529}}@keyframes fight-stat-gain-stats-b{0%{transform:translateY(0);color:#212529}40%{transform:translateY(-1px);color:#2f9e44}to{transform:translateY(0);color:#212529}}.fight-slot.fight-slot-stat-gain.fight-impact-phase-a .fight-slot-icon,.fight-slot.fight-slot-stat-gain.fight-impact-phase-a .fight-slot-companion,.fight-stage.fight-phase-a .fight-slot.fight-slot-stat-gain .fight-slot-icon,.fight-stage.fight-phase-a .fight-slot.fight-slot-stat-gain .fight-slot-companion{animation:fight-stat-gain-icon-a calc(.34s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-stat-gain.fight-impact-phase-b .fight-slot-icon,.fight-slot.fight-slot-stat-gain.fight-impact-phase-b .fight-slot-companion,.fight-stage.fight-phase-b .fight-slot.fight-slot-stat-gain .fight-slot-icon,.fight-stage.fight-phase-b .fight-slot.fight-slot-stat-gain .fight-slot-companion{animation:fight-stat-gain-icon-b calc(.34s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-stat-gain.fight-impact-phase-a .fight-slot-stats,.fight-stage.fight-phase-a .fight-slot.fight-slot-stat-gain .fight-slot-stats{animation:fight-stat-gain-stats-a calc(.34s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-stat-gain.fight-impact-phase-b .fight-slot-stats,.fight-stage.fight-phase-b .fight-slot.fight-slot-stat-gain .fight-slot-stats{animation:fight-stat-gain-stats-b calc(.34s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-equipment-removed{border-color:#e6492d8c;box-shadow:inset 0 0 0 1px #e6492d40}@keyframes fight-equipment-remove-a{0%{opacity:.95;transform:translateY(0) scale(1);filter:brightness(1)}48%{opacity:.78;transform:translateY(-6px) scale(1.18) rotate(-7deg);filter:brightness(1.16) saturate(1.15)}to{opacity:0;transform:translateY(-14px) scale(.72) rotate(10deg);filter:brightness(.9)}}@keyframes fight-equipment-remove-b{0%{opacity:.95;transform:translateY(0) scale(1);filter:brightness(1)}45%{opacity:.76;transform:translateY(-5px) scale(1.16) rotate(6deg);filter:brightness(1.14) saturate(1.12)}to{opacity:0;transform:translateY(-13px) scale(.74) rotate(-9deg);filter:brightness(.9)}}.fight-slot.fight-slot-equipment-removed.fight-impact-phase-a .fight-equipment-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-equipment-removed .fight-equipment-ghost{animation:fight-equipment-remove-a calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-removed.fight-impact-phase-b .fight-equipment-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-equipment-removed .fight-equipment-ghost{animation:fight-equipment-remove-b calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-added{border-color:#2e7d328c;box-shadow:inset 0 0 0 1px #2e7d3238}@keyframes fight-equipment-add-a{0%{opacity:0;transform:translateY(6px) scale(.72);filter:brightness(.9)}55%{opacity:.96;transform:translateY(-2px) scale(1.16);filter:brightness(1.15)}to{opacity:0;transform:translateY(0) scale(1);filter:brightness(1)}}@keyframes fight-equipment-add-b{0%{opacity:0;transform:translateY(5px) scale(.74);filter:brightness(.9)}52%{opacity:.94;transform:translateY(-2px) scale(1.14);filter:brightness(1.13)}to{opacity:0;transform:translateY(0) scale(1);filter:brightness(1)}}.fight-slot.fight-slot-equipment-added.fight-impact-phase-a:not(.fight-slot-equipment-transfer-in) .fight-equipment-gain-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-equipment-added:not(.fight-slot-equipment-transfer-in) .fight-equipment-gain-ghost{animation:fight-equipment-add-a calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-added.fight-impact-phase-b:not(.fight-slot-equipment-transfer-in) .fight-equipment-gain-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-equipment-added:not(.fight-slot-equipment-transfer-in) .fight-equipment-gain-ghost{animation:fight-equipment-add-b calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-transform{border-color:#7e22ce8c;box-shadow:inset 0 0 0 1px #7e22ce38}@keyframes fight-transform-morph-a{0%{transform:scale(.92);filter:hue-rotate(0deg) brightness(.95)}45%{transform:scale(1.14);filter:hue-rotate(18deg) brightness(1.18)}to{transform:scale(1);filter:hue-rotate(0deg) brightness(1)}}@keyframes fight-transform-morph-b{0%{transform:scale(.93);filter:hue-rotate(0deg) brightness(.95)}40%{transform:scale(1.12);filter:hue-rotate(-14deg) brightness(1.16)}to{transform:scale(1);filter:hue-rotate(0deg) brightness(1)}}.fight-slot.fight-slot-transform.fight-impact-phase-a .fight-slot-icon,.fight-slot.fight-slot-transform.fight-impact-phase-a .fight-slot-companion,.fight-stage.fight-phase-a .fight-slot.fight-slot-transform .fight-slot-icon,.fight-stage.fight-phase-a .fight-slot.fight-slot-transform .fight-slot-companion{animation:fight-transform-morph-a calc(.36s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-transform.fight-impact-phase-b .fight-slot-icon,.fight-slot.fight-slot-transform.fight-impact-phase-b .fight-slot-companion,.fight-stage.fight-phase-b .fight-slot.fight-slot-transform .fight-slot-icon,.fight-stage.fight-phase-b .fight-slot.fight-slot-transform .fight-slot-companion{animation:fight-transform-morph-b calc(.36s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-summoned{border-color:#0f766e8c;box-shadow:inset 0 0 0 1px #0f766e40}@keyframes fight-summon-bounce-a{0%{opacity:0;transform:translateY(16px) scale(.54);filter:saturate(.9) brightness(.9)}44%,56%{opacity:1;transform:translateY(-6px) scale(1.16);filter:saturate(1.22) brightness(1.16)}to{opacity:1;transform:translateY(0) scale(1);filter:saturate(1) brightness(1)}}@keyframes fight-summon-bounce-b{0%{opacity:0;transform:translateY(15px) scale(.56);filter:saturate(.9) brightness(.9)}42%,54%{opacity:1;transform:translateY(-5px) scale(1.14);filter:saturate(1.2) brightness(1.15)}to{opacity:1;transform:translateY(0) scale(1);filter:saturate(1) brightness(1)}}.fight-slot.fight-slot-summoned.fight-impact-phase-a .fight-slot-art,.fight-stage.fight-phase-a .fight-slot.fight-slot-summoned .fight-slot-art{animation:fight-summon-bounce-a calc(.36s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-summoned.fight-impact-phase-b .fight-slot-art,.fight-stage.fight-phase-b .fight-slot.fight-slot-summoned .fight-slot-art{animation:fight-summon-bounce-b calc(.36s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-ailment-applied{border-color:#d9770694;box-shadow:inset 0 0 0 1px #d977063d}.fight-slot.fight-slot-ailment-cleansed{border-color:#0284c78f;box-shadow:inset 0 0 0 1px #0284c738}@keyframes fight-ailment-apply-a{0%{opacity:0;transform:scale(.65) rotate(-14deg);filter:saturate(1.4) brightness(1.3)}48%{opacity:.98;transform:scale(1.18) rotate(8deg);filter:saturate(1.3) brightness(1.2)}to{opacity:1;transform:scale(1) rotate(0);filter:saturate(1) brightness(1)}}@keyframes fight-ailment-apply-b{0%{opacity:0;transform:scale(.68) rotate(12deg);filter:saturate(1.35) brightness(1.28)}45%{opacity:.98;transform:scale(1.16) rotate(-7deg);filter:saturate(1.28) brightness(1.18)}to{opacity:1;transform:scale(1) rotate(0);filter:saturate(1) brightness(1)}}@keyframes fight-ailment-cleanse-a{0%{opacity:.96;transform:scale(1) rotate(0);filter:hue-rotate(0deg) brightness(1)}45%{opacity:.84;transform:scale(1.18) rotate(-8deg);filter:hue-rotate(24deg) brightness(1.2)}to{opacity:0;transform:scale(.72) rotate(12deg);filter:hue-rotate(45deg) brightness(.88)}}@keyframes fight-ailment-cleanse-b{0%{opacity:.96;transform:scale(1) rotate(0);filter:hue-rotate(0deg) brightness(1)}42%{opacity:.82;transform:scale(1.16) rotate(7deg);filter:hue-rotate(-18deg) brightness(1.18)}to{opacity:0;transform:scale(.74) rotate(-11deg);filter:hue-rotate(-38deg) brightness(.88)}}.fight-slot.fight-slot-ailment-applied.fight-impact-phase-a .fight-slot-equipment,.fight-slot.fight-slot-ailment-applied.fight-impact-phase-a .fight-equipment-gain-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-ailment-applied .fight-slot-equipment,.fight-stage.fight-phase-a .fight-slot.fight-slot-ailment-applied .fight-equipment-gain-ghost{animation:fight-ailment-apply-a calc(.36s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-ailment-applied.fight-impact-phase-b .fight-slot-equipment,.fight-slot.fight-slot-ailment-applied.fight-impact-phase-b .fight-equipment-gain-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-ailment-applied .fight-slot-equipment,.fight-stage.fight-phase-b .fight-slot.fight-slot-ailment-applied .fight-equipment-gain-ghost{animation:fight-ailment-apply-b calc(.36s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-ailment-cleansed.fight-impact-phase-a .fight-equipment-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-ailment-cleansed .fight-equipment-ghost{animation:fight-ailment-cleanse-a calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-ailment-cleansed.fight-impact-phase-b .fight-equipment-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-ailment-cleansed .fight-equipment-ghost{animation:fight-ailment-cleanse-b calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-transfer-out{border-color:#e11d4894;box-shadow:inset 0 0 0 1px #e11d483d}.fight-slot.fight-slot-equipment-transfer-in{border-color:#05966994;box-shadow:inset 0 0 0 1px #0596693d}@keyframes fight-equipment-transfer-out-a{0%{opacity:.96;transform:translate(0) scale(1) rotate(0);filter:brightness(1)}45%{opacity:.88;transform:translate(8px,-3px) scale(1.1) rotate(-8deg);filter:brightness(1.16)}to{opacity:0;transform:translate(20px,-10px) scale(.68) rotate(12deg);filter:brightness(.9)}}@keyframes fight-equipment-transfer-out-b{0%{opacity:.96;transform:translate(0) scale(1) rotate(0);filter:brightness(1)}42%{opacity:.86;transform:translate(-8px,-3px) scale(1.1) rotate(8deg);filter:brightness(1.14)}to{opacity:0;transform:translate(-20px,-10px) scale(.7) rotate(-12deg);filter:brightness(.9)}}@keyframes fight-equipment-transfer-in-a{0%{opacity:0;transform:translate(-18px,-10px) scale(.62) rotate(-8deg);filter:brightness(.88)}55%{opacity:.98;transform:translate(2px,-1px) scale(1.18) rotate(6deg);filter:brightness(1.2)}to{opacity:0;transform:translate(0) scale(1) rotate(0);filter:brightness(1)}}@keyframes fight-equipment-transfer-in-b{0%{opacity:0;transform:translate(18px,-10px) scale(.62) rotate(8deg);filter:brightness(.88)}52%{opacity:.98;transform:translate(-2px,-1px) scale(1.16) rotate(-6deg);filter:brightness(1.18)}to{opacity:0;transform:translate(0) scale(1) rotate(0);filter:brightness(1)}}.fight-slot.fight-slot-equipment-transfer-out.fight-impact-phase-a .fight-equipment-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-equipment-transfer-out .fight-equipment-ghost{animation:fight-equipment-transfer-out-a calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-transfer-out.fight-impact-phase-b .fight-equipment-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-equipment-transfer-out .fight-equipment-ghost{animation:fight-equipment-transfer-out-b calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-transfer-in.fight-impact-phase-a .fight-equipment-gain-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-equipment-transfer-in .fight-equipment-gain-ghost{animation:fight-equipment-transfer-in-a calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-transfer-in.fight-impact-phase-b .fight-equipment-gain-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-equipment-transfer-in .fight-equipment-gain-ghost{animation:fight-equipment-transfer-in-b calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-shifted{animation:fight-shift-forward calc(.26s * var(--fight-motion, 1)) ease-out}@keyframes fight-shift-forward{0%{transform:translate(calc(var(--fight-shift-steps, 1) * 18px * var(--fight-shift-direction, 1)));opacity:.7}to{transform:translate(0);opacity:1}}@media(max-width:768px){.fight-stage{grid-template-columns:minmax(0,1fr);grid-template-areas:"opponent" "event" "player"}.fight-team-player-head-to-head{direction:ltr}.fight-team-player-head-to-head .fight-slot{--fight-shift-direction: 1}}.fight-value-popup{position:absolute;left:50%;top:calc(-2px - var(--fight-popup-index, 0) * 12px);transform:translate3d(-50%,0,0);display:inline-flex;align-items:center;gap:.14rem;font-size:.78rem;font-weight:700;line-height:.9;color:#495057;text-shadow:0 1px 0 #ffffff,0 0 4px rgba(255,255,255,.8);pointer-events:none;white-space:nowrap;z-index:4;backface-visibility:hidden;will-change:transform,opacity}.fight-value-popup.fight-value-popup-damage{font-size:1.24rem;font-weight:900;letter-spacing:-.03em;color:#ff3131;-webkit-text-stroke:1.25px rgba(22,4,4,.98);text-shadow:0 1px 0 rgba(255,246,246,.94),0 0 2px rgba(32,0,0,.72),0 2px 0 rgba(32,0,0,.94),0 4px 6px rgba(0,0,0,.52)}.fight-slot.fight-slot-popup-stack .fight-value-popup{text-shadow:0 1px 0 #ffffff,0 0 6px rgba(255,255,255,.95)}.fight-slot.fight-slot-popup-stack .fight-value-popup.fight-value-popup-damage{font-size:1.34rem}.fight-slot.fight-slot-impact-heavy .fight-value-popup.fight-value-popup-damage{font-size:1.42rem}.fight-value-popup-number{display:inline-block;transform-origin:50% 74%}.fight-value-popup.fight-value-popup-debuff{color:#c92a2a}.fight-value-popup.fight-value-popup-buff{color:#2f9e44}.fight-value-popup.fight-value-popup-trumpets{color:#b45309}.fight-value-popup-icon{width:14px;height:14px;object-fit:contain}.fight-value-popup.fight-value-popup-trumpets .fight-value-popup-icon{animation:fight-trumpet-icon-pop calc(.36s * var(--fight-motion, 1)) ease-out;animation-delay:calc(var(--fight-popup-index, 0) * 32ms * var(--fight-motion, 1));filter:drop-shadow(0 0 2px rgba(245,158,11,.5))}@keyframes fight-trumpet-icon-pop{0%{transform:scale(.86) rotate(-8deg)}45%{transform:scale(1.2) rotate(6deg)}to{transform:scale(1) rotate(0)}}@keyframes fight-value-pop-a{0%{opacity:0;transform:translate(-50%,8px) scale(.8)}20%{opacity:1}to{opacity:0;transform:translate(-50%,-20px) scale(1.04)}}@keyframes fight-value-pop-b{0%{opacity:0;transform:translate(-50%,7px) scale(.82)}18%{opacity:1}to{opacity:0;transform:translate(-50%,-22px) scale(1.03)}}@keyframes fight-damage-pop-a{0%{opacity:0;transform:translate(-50%,13px) scale(.24) rotate(-8deg)}14%{opacity:1;transform:translate(-50%,-4px) scale(calc(1.42 * var(--fight-impact-scale, 1))) rotate(2deg)}30%{opacity:1;transform:translate(-50%,-5px) scale(calc(1.24 * var(--fight-impact-scale, 1))) rotate(0)}48%{opacity:1;transform:translate(-50%,-5px) scale(calc(1.16 * var(--fight-impact-scale, 1))) rotate(-1deg)}74%{opacity:.92;transform:translate(-50%,-14px) scale(1.04) rotate(0)}to{opacity:0;transform:translate(-50%,-25px) scale(.88) rotate(0)}}@keyframes fight-damage-pop-b{0%{opacity:0;transform:translate(-50%,13px) scale(.24) rotate(8deg)}14%{opacity:1;transform:translate(-50%,-4px) scale(calc(1.38 * var(--fight-impact-scale, 1))) rotate(-2deg)}30%{opacity:1;transform:translate(-50%,-5px) scale(calc(1.22 * var(--fight-impact-scale, 1))) rotate(0)}48%{opacity:1;transform:translate(-50%,-5px) scale(calc(1.14 * var(--fight-impact-scale, 1))) rotate(1deg)}74%{opacity:.92;transform:translate(-50%,-14px) scale(1.04) rotate(0)}to{opacity:0;transform:translate(-50%,-25px) scale(.88) rotate(0)}}.fight-value-popup.fight-value-phase-a,.fight-stage.fight-phase-a .fight-value-popup{animation:fight-value-pop-a calc(.56s * var(--fight-motion, 1)) ease-out both;animation-delay:calc(var(--fight-popup-index, 0) * 38ms * var(--fight-motion, 1))}.fight-value-popup.fight-value-phase-b,.fight-stage.fight-phase-b .fight-value-popup{animation:fight-value-pop-b calc(.56s * var(--fight-motion, 1)) ease-out both;animation-delay:calc(var(--fight-popup-index, 0) * 38ms * var(--fight-motion, 1))}.fight-stage.fight-phase-a .fight-value-popup.fight-value-popup-damage{animation:fight-damage-pop-a calc(.34s * var(--fight-motion, 1)) cubic-bezier(.16,.7,.2,1) both;animation-delay:calc((44ms + var(--fight-popup-index, 0) * 20ms) * var(--fight-motion, 1))}.fight-stage.fight-phase-b .fight-value-popup.fight-value-popup-damage{animation:fight-damage-pop-b calc(.34s * var(--fight-motion, 1)) cubic-bezier(.16,.7,.2,1) both;animation-delay:calc((44ms + var(--fight-popup-index, 0) * 20ms) * var(--fight-motion, 1))}.fight-faint-ghost{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none;transform-origin:50% 64%;will-change:transform,opacity}.fight-faint-ghost:before,.fight-faint-ghost:after{content:"";position:absolute;opacity:0;pointer-events:none;mix-blend-mode:screen}.fight-faint-ghost:before{width:34px;height:24px;border-radius:999px;transform:translateY(6px);background:radial-gradient(ellipse at 50% 48%,#ffffffeb,#fafafaa3 42%,#fff0)}.fight-faint-ghost:after{width:52px;height:34px;border-radius:999px;transform:translateY(4px);background:radial-gradient(ellipse at 50% 50%,#ffffffc7,#f4f4f43d 52%,#fff0)}.fight-faint-icon{width:40px;height:40px;object-fit:contain;opacity:.95;will-change:transform,opacity,filter}.fight-faint-companion{position:absolute;left:6px;bottom:3px;width:14px;height:14px;object-fit:contain;border-radius:50%;background-color:#fff;box-shadow:0 0 0 1px #00000014}@keyframes fight-faint-a{0%{opacity:0;transform:translateY(-1px) scale(.88);filter:brightness(1.04)}16%{opacity:1;transform:translateY(-2px) scale(1.03);filter:brightness(1.15)}36%{opacity:.98;transform:translateY(-1px) scale(1.02);filter:brightness(1.09)}60%{opacity:.9;transform:translateY(4px) scale(.88,.64);filter:brightness(1.1) saturate(.76)}to{opacity:0;transform:translateY(9px) scale(.34,.16);filter:brightness(1.18) saturate(.58) blur(1.8px)}}@keyframes fight-faint-b{0%{opacity:0;transform:translateY(-1px) scale(.9);filter:brightness(1.03)}15%{opacity:1;transform:translateY(-2px) scale(1.02);filter:brightness(1.14)}34%{opacity:.98;transform:translateY(-1px) scale(1.015);filter:brightness(1.08)}58%{opacity:.9;transform:translateY(4px) scale(.86,.62);filter:brightness(1.09) saturate(.76)}to{opacity:0;transform:translateY(9px) scale(.32,.16);filter:brightness(1.16) saturate(.58) blur(1.8px)}}@keyframes fight-faint-pop-a{0%{opacity:0;transform:translateY(6px) scale(.52,.34)}28%{opacity:.94;transform:translateY(5px) scale(1.06,.94)}58%{opacity:.7;transform:translateY(2px) scale(1.22,1.02)}to{opacity:0;transform:translateY(-2px) scale(1.34,1.1)}}@keyframes fight-faint-pop-b{0%{opacity:0;transform:translateY(6px) scale(.54,.34)}26%{opacity:.92;transform:translateY(5px) scale(1.04,.92)}56%{opacity:.68;transform:translateY(2px) scaleX(1.2)}to{opacity:0;transform:translateY(-2px) scale(1.32,1.08)}}@keyframes fight-faint-smoke-a{0%{opacity:0;transform:translateY(7px) scale(.48,.34)}32%{opacity:.86;transform:translateY(5px) scale(1.02,.84)}to{opacity:0;transform:translateY(0) scale(1.18,.98)}}@keyframes fight-faint-smoke-b{0%{opacity:0;transform:translateY(7px) scale(.5,.34)}30%{opacity:.82;transform:translateY(5px) scaleY(.82)}to{opacity:0;transform:translateY(0) scale(1.16,.96)}}@keyframes fight-faint-icon-a{0%{opacity:.96;transform:translateY(0) scale(1) rotate(0);filter:brightness(1.1)}44%{opacity:.92;transform:translateY(1px) scale(1.01) rotate(-1deg)}to{opacity:0;transform:translateY(6px) scale(.24,.14) rotate(-4deg);filter:brightness(1.12) saturate(.56) blur(1.6px)}}@keyframes fight-faint-icon-b{0%{opacity:.96;transform:translateY(0) scale(1) rotate(0);filter:brightness(1.1)}44%{opacity:.92;transform:translateY(1px) scale(1.01) rotate(1deg)}to{opacity:0;transform:translateY(6px) scale(.24,.14) rotate(4deg);filter:brightness(1.12) saturate(.56) blur(1.6px)}}@keyframes fight-faint-companion-pop{0%{opacity:.92;transform:translateY(0) scale(1)}to{opacity:0;transform:translateY(5px) scale(.24,.16)}}.fight-faint-ghost.fight-faint-phase-a,.fight-stage.fight-phase-a .fight-faint-ghost{animation:fight-faint-a calc(195ms * var(--fight-motion, 1)) ease-in forwards}.fight-stage.fight-phase-a .fight-faint-icon{animation:fight-faint-icon-a calc(195ms * var(--fight-motion, 1)) ease-in forwards}.fight-stage.fight-phase-a .fight-faint-ghost:before{animation:fight-faint-smoke-a calc(195ms * var(--fight-motion, 1)) ease-out forwards}.fight-stage.fight-phase-a .fight-faint-ghost:after{animation:fight-faint-pop-a calc(195ms * var(--fight-motion, 1)) ease-out forwards}.fight-faint-ghost.fight-faint-phase-b,.fight-stage.fight-phase-b .fight-faint-ghost{animation:fight-faint-b calc(195ms * var(--fight-motion, 1)) ease-in forwards}.fight-stage.fight-phase-b .fight-faint-icon{animation:fight-faint-icon-b calc(195ms * var(--fight-motion, 1)) ease-in forwards}.fight-stage.fight-phase-b .fight-faint-ghost:before{animation:fight-faint-smoke-b calc(195ms * var(--fight-motion, 1)) ease-out forwards}.fight-stage.fight-phase-b .fight-faint-ghost:after{animation:fight-faint-pop-b calc(195ms * var(--fight-motion, 1)) ease-out forwards}.fight-stage.fight-phase-a .fight-faint-companion,.fight-stage.fight-phase-b .fight-faint-companion{opacity:.88;animation:fight-faint-companion-pop calc(.18s * var(--fight-motion, 1)) ease-in forwards}.fight-stage.fight-frame-heavy-impact.fight-phase-a .fight-faint-ghost,.fight-stage.fight-frame-heavy-impact.fight-phase-b .fight-faint-ghost{animation-duration:calc(.17s * var(--fight-motion, 1))}.fight-controls{display:flex;flex-wrap:wrap;gap:.45rem;align-items:center;margin-top:.5rem}.fight-speed-controls .btn.active{background-color:var(--sap-btn-primary);border-color:var(--sap-btn-primary);color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55)}.fight-scrubber{margin-top:.5rem}.fight-log-stream{margin-top:.35rem;border:1px solid #e9ecef;border-radius:8px;overflow-y:auto;background-color:#fff;padding-left:.25rem}.fight-log-row{padding:.3rem .45rem;border-bottom:1px solid #f1f3f5;font-size:.9rem;scroll-margin-block:1.4rem;transition:background-color calc(.15s * var(--fight-motion, 1)) ease-out}.fight-log-row:last-child{border-bottom:0}.fight-log-row.fight-log-row-active{background-color:#0d6efd1f}.fight-log-row .log-row{margin-top:0;border:0;padding:0;background:transparent}.fight-log-row .log-row:before{display:none}.fight-log-row .log-row-meta{min-width:7.1rem}.fight-log-row .log-row-text{font-size:.9rem}@media(prefers-reduced-motion:reduce){.fight-slot,.fight-slot-icon,.fight-slot-companion,.fight-slot-stats,.fight-event,.fight-value-popup,.fight-value-popup-icon,.fight-snipe-impact,.fight-snipe-impact-icon,.fight-equipment-ghost,.fight-equipment-ghost-icon,.fight-equipment-gain-ghost,.fight-equipment-gain-icon,.fight-faint-ghost,.fight-log-row{animation:none!important;transition:none!important}}.fight-empty-state{min-height:7rem;display:flex;align-items:center;justify-content:center;text-align:center;border:1px dashed #dce4ec;border-radius:8px;color:#6c757d;padding:.75rem}.analysis-title{font-size:.95rem;margin:0 0 .5rem}.analysis-table-wrap{max-height:18rem;overflow-y:auto;border:1px solid #e9ecef;border-radius:6px}.analysis-table th,.analysis-table td{font-size:.75rem;vertical-align:top}.timeline-player td{background-color:#28a74514}.timeline-opponent td{background-color:#dc354514}.timeline-deterministic td{border-left:3px solid #6c757d}.timeline-tie td{border-left:3px solid #fd7e14}.timeline-random td{border-left:3px solid #6f42c1}.diff-controls{display:flex;gap:.5rem;margin-bottom:.5rem}.diff-label{font-size:.75rem;font-weight:600;color:#495057;display:flex;flex-direction:column;gap:.2rem}.diff-select{min-width:9rem}.diff-summary{font-size:.75rem;color:#495057;margin-bottom:.5rem}.diff-same td{opacity:.7}.diff-changed td{background-color:#ffc1072e}.diff-left-only td{background-color:#0d6efd1f}.diff-right-only td{background-color:#dc35451f}.btn-link{color:var(--sap-btn-primary);cursor:pointer;background:none;border:0;padding:0;font:inherit;line-height:inherit;text-decoration:underline}.btn-link:hover{text-decoration:none}.btn-link:focus-visible{outline:3px solid var(--sap-btn-primary);outline-offset:2px;border-radius:4px}.cdk-drag-placeholder{opacity:0}.drag-container{position:relative}@media(hover:none)and (pointer:coarse){.drag-container.cdk-drag{touch-action:pan-y!important}}.drag-container.pet-slot-active app-pet-selector .card{border-color:#2563ebcc;box-shadow:0 0 0 2px #2563eb4d,0 8px 32px #0000005e}.pet-slot-actions{display:flex;justify-content:flex-end;align-items:center;gap:.35rem;margin-bottom:.35rem;padding-right:.4rem}.pet-clear-btn{width:1.8em;height:1.8em;position:static;opacity:.95;display:flex;align-items:center;justify-content:center;color:#ff5a66;background:#00000073;border:1px solid rgba(255,255,255,.5);border-radius:999px;box-shadow:0 2px 6px #00000073;cursor:pointer;font-weight:700;line-height:1;padding:0}.pet-clear-btn:hover{opacity:1;color:#ff7680;background:#0009;border-color:#ffffffbf}.pet-clear-btn:focus-visible{outline:2px solid #ffffff;outline-offset:2px}.info-link{margin-bottom:0}.toy-art{width:36px;height:36px;object-fit:contain}.toy-wrap{position:relative;gap:.5rem}.toy-wrap .toy-art+.toy-art{margin-left:.35rem}.toy-select-container{position:relative;display:inline-flex;align-items:center;cursor:pointer;border-radius:8px;padding:2px}.toy-select-container:hover{background:#fff3;transform:scale(1.05)}.toy-select-container.toy-none{background:#0000004d;border:1px dashed rgba(255,255,255,.5);padding:8px 12px;min-width:50px;justify-content:center;align-items:center}.toy-row{display:flex;align-items:center;gap:.6rem;flex-wrap:wrap}.toy-slot{display:flex;align-items:center;gap:.4rem}.toy-select-btn{display:inline-flex;align-items:center;gap:.4rem;padding:.2rem .5rem;border-radius:8px;border:1px solid rgba(255,255,255,.4);background:#00000040;backdrop-filter:blur(6px);color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);font-size:.9rem;line-height:1.1;letter-spacing:.02em;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45);cursor:pointer}.toy-select-btn:hover{background:#00000052;transform:translateY(-1px)}.toy-select-btn i{font-size:.7rem;color:#ffffffd9;text-shadow:0 1px 2px rgba(0,0,0,.55)}.toy-select-btn:focus-visible{outline:3px solid #ffffff;outline-offset:2px}.toy-label{font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:500;line-height:1.1;letter-spacing:.025em;white-space:nowrap}.toy-main{display:flex;align-items:center}.toy-level-controls{position:absolute;bottom:-8px;left:50%;transform:translate(-50%);display:flex;align-items:center;gap:.25rem;background:#000000d9;border-radius:12px;padding:.15rem .4rem;border:1px solid rgba(255,255,255,.3);opacity:0;pointer-events:none}.toy-level-controls.inline{position:static;transform:none;opacity:1;pointer-events:auto;background:#00000040;backdrop-filter:blur(6px)}.custom-pack-editor-modal .custom-pack-editor-dialog{transform:translateY(20px);opacity:0;transition:transform .3s ease-out,opacity .3s ease-out}.custom-pack-editor-modal.show .custom-pack-editor-dialog{transform:translateY(0);opacity:1}body.custom-pack-editor-open .modal-backdrop.show{background:#00000080;backdrop-filter:blur(4px)}.glass-btn{background:#00000040;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);border:1px solid rgba(255,255,255,.4);backdrop-filter:blur(6px);font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;font-size:.95rem;line-height:1.1;letter-spacing:.02em;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.glass-btn:hover{background:#00000052;border-color:#ffffff80;color:#fff;transform:translateY(-1px)}.glass-btn:focus-visible,.glass-btn:active{color:#fff}.toy-select-container:hover .toy-level-controls,.toy-select-container:hover .toy-remove-btn,.toy-wrap:hover .toy-add-hard{opacity:1;pointer-events:auto}.toy-level-btn{background:#ffffff26;border:none;border-radius:999px;width:18px;height:18px;display:flex;align-items:center;justify-content:center;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);cursor:pointer;font-size:.65rem;padding:0}.toy-level-btn:hover{background:#ffffff4d;transform:scale(1.1)}.toy-level-btn:focus-visible{outline:2px solid #ffffff;outline-offset:1px}.toy-level-label{color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);font-size:.78rem;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:500;line-height:1.1;letter-spacing:.02em;text-shadow:0 1px 0 rgba(0,0,0,.55),0 0 1px rgba(0,0,0,.35);min-width:22px;text-align:center}.toy-remove-btn{position:absolute;top:-6px;right:-6px;width:18px;height:18px;background:#d63384;border:2px solid #fff;border-radius:999px;display:flex;align-items:center;justify-content:center;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);cursor:pointer;font-size:.75rem}.toy-remove-btn:hover{background:#c2185b;transform:scale(1.1)}.toy-remove-btn-inline{width:22px;height:22px;background:#d63384;border:2px solid #fff;border-radius:999px;display:inline-flex;align-items:center;justify-content:center;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);cursor:pointer;font-size:.75rem}.toy-remove-btn-inline:hover{background:#c2185b;transform:scale(1.05)}.toy-remove-btn-inline:focus-visible{outline:2px solid #ffffff;outline-offset:1px}.toy-add-hard{position:absolute;top:4px;right:4px;width:20px;height:20px;background:#000000b3;border:1px solid rgba(255,255,255,.4);border-radius:999px;display:flex;align-items:center;justify-content:center;color:#ffffffb3;text-shadow:0 1px 2px rgba(0,0,0,.55);cursor:pointer;font-size:.75rem}.toy-add-hard:hover{background:#000000e6;border-color:#ffffffb3;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);transform:scale(1.15)}.toy-select-icon{position:absolute;bottom:-4px;right:-4px;background:#000000b3;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);border-radius:999px;width:16px;height:16px;display:flex;align-items:center;justify-content:center;font-size:.7rem;opacity:0;transition:opacity .2s;pointer-events:none;border:1px solid rgba(255,255,255,.3)}.toy-select-container:hover .toy-select-icon{opacity:1}.toy-level-text{color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);font-weight:700;text-shadow:0 2px 4px rgba(0,0,0,.75);margin-left:.35rem;display:none}.battle-row h2{color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.75)}:host-context(.night) .battle-table-meta,:host-context(.night) .battle-table thead th,:host-context(.night) .battle-table tbody td,:host-context(.night) .battle-random-cell,:host-context(.night) .battle-no-random,:host-context(.night) .battle-winner-chip,:host-context(.night) .log-filter-tab,:host-context(.night) .log-event-filter-btn,:host-context(.night) .log-event-filter-label,:host-context(.night) .log-group-header,:host-context(.night) .log-group-title,:host-context(.night) .log-group-count,:host-context(.night) .log-group-meta,:host-context(.night) .log-row-meta,:host-context(.night) .log-row-text,:host-context(.night) .log-row-text span,:host-context(.night) .log-empty-state,:host-context(.night) .fight-slot-label,:host-context(.night) .fight-slot-stats,:host-context(.night) .fight-slot-stat,:host-context(.night) .fight-slot-exp,:host-context(.night) .fight-event-text,:host-context(.night) .fight-event-step,:host-context(.night) .fight-log-row .log-row-meta,:host-context(.night) .fight-log-row .log-row-text,:host-context(.theme-dark) .battle-table-meta,:host-context(.theme-dark) .battle-table thead th,:host-context(.theme-dark) .battle-table tbody td,:host-context(.theme-dark) .battle-random-cell,:host-context(.theme-dark) .battle-no-random,:host-context(.theme-dark) .battle-winner-chip,:host-context(.theme-dark) .log-filter-tab,:host-context(.theme-dark) .log-event-filter-btn,:host-context(.theme-dark) .log-event-filter-label,:host-context(.theme-dark) .log-group-header,:host-context(.theme-dark) .log-group-title,:host-context(.theme-dark) .log-group-count,:host-context(.theme-dark) .log-group-meta,:host-context(.theme-dark) .log-row-meta,:host-context(.theme-dark) .log-row-text,:host-context(.theme-dark) .log-row-text span,:host-context(.theme-dark) .log-empty-state,:host-context(.theme-dark) .fight-slot-label,:host-context(.theme-dark) .fight-slot-stats,:host-context(.theme-dark) .fight-slot-stat,:host-context(.theme-dark) .fight-slot-exp,:host-context(.theme-dark) .fight-event-text,:host-context(.theme-dark) .fight-event-step,:host-context(.theme-dark) .fight-log-row .log-row-meta,:host-context(.theme-dark) .fight-log-row .log-row-text{text-shadow:0 1px 2px rgba(0,0,0,.55)}@media(max-width:767.98px){.card{max-width:18em}.back,.front{transform:initial;writing-mode:initial}.player-card{grid-template-columns:none}}.ml-auto{margin-left:auto}.bug-button{margin-right:.5em;margin-bottom:.25em}.advanced-input input{width:60px}.simulation-progress{display:flex;align-items:center;gap:.75rem}.simulation-progress .progress{flex:1;height:8px;background-color:#00000014}.simulation-progress .progress-bar{transition:width .2s linear}.simulation-progress .progress-text{min-width:110px;text-align:right;font-size:.85rem;color:#6c757d}@media(max-width:991.98px){.bottom-container-scroll-hint{display:block}.bottom-container{flex-direction:row;flex-wrap:nowrap;column-gap:1rem;min-width:64rem}.bottom-container>.col-12{flex:0 0 calc(50% - .5rem);max-width:calc(50% - .5rem);height:auto}.battle-row{flex-direction:column}.battle-row .col-12{padding-left:0;padding-right:0}.top-controls{padding:.75rem}.top-controls .team-row{flex-direction:column;align-items:stretch}.team-row-right{flex-direction:column;align-items:stretch;gap:.5rem}.team-name-actions{margin-top:.4rem;gap:.25rem}.action-row{flex-direction:column}.action-row>div{width:100%;display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center}.results-row{margin-bottom:.25rem}.results-row .stats{flex-direction:column;align-items:center}.control-groups{flex-direction:column}.control-group{width:100%}.compact-toy-group .toy-row{flex-direction:column}.compact-toy-group .toy-inline{width:100%;min-width:0}.compact-toy-group .toy-row.hard-row{gap:.5rem}.results-bar{width:100%;min-width:unset;max-width:none}}@media(min-width:768px)and (max-width:991.98px){.pane-switch-tabs{display:flex}.bottom-container-scroll-hint{display:none}.bottom-container-scroll{overflow-x:visible;overflow-y:visible}.bottom-container{flex-direction:column;min-width:0;row-gap:.75rem}.bottom-container>.col-12,.bottom-container>.battle-pane,.bottom-container>.logs-pane{flex:1 1 auto;max-width:100%;width:100%;min-width:0;height:auto}.bottom-container>.pane-hidden-single-column{display:none}}\n'],encapsulation:2,changeDetection:0})}return u})(),{providers:[(0,Fa.$R)((0,Fa.Sx)())]}).catch(u=>console.error(u))},79720(O,S,i){i.d(S,{M:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Rhino";tier=5;pack="Turtle";attack=6;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"RhinoAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.opponent.getFurthestUpPet(r),g=d.pet;if(null==g)return;let f=4*this.level;1==g.tier&&(f*=2),r.snipePet(g,f,d.random,a),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},79770(O,S,i){i.d(S,{u:()=>_});var P=i(46200),c=i(5615),A=i(26624);class _ extends P.i{logService;abilityService;name="Orchid Mantis";tier=5;pack="Puppy";attack=8;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"OrchidMantisAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=Math.min(Math.floor(d.attack*(.4*this.level)),50),f=Math.min(Math.floor(d.health*(.4*this.level)),50),D=new A.L(this.logService,this.abilityService,d.parent,f,g,0,this.minExpForLevel,null),k=d.parent.summonPetInFront(d,D);k.success&&this.logService.createLog({message:`${d.name} spawned Mantis ${D.attack}/${D.health}.`,type:"ability",player:d.parent,tiger:o,randomEvent:k.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},79928(O,S,i){i.d(S,{t:()=>A});var P=i(45286),c=i(2145);class A extends P.B7{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const e=super._subscribe(v);return e&&!e.closed&&v.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new c.P;return this._value}next(v){super.next(this._value=v)}}},80128(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Anglerfish";tier=6;pack="Puppy";attack=7;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"AnglerfishAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} stocked a free pet from the last opponent ${1===n?"once":2===n?"twice":"thrice"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},80152(O,S,i){i.d(S,{O:()=>a});var P=i(59374),c=i(607),A=i(18060),_=i(38950),v=i(55786),e=i(92101),t=i(38350),n=i(61850);class a extends t.Z{initAbilities(){this.initAbilityUses(),this.setAbilityEquipments()}abilityValidCheck(){return!(null==this.savedPosition||this.equipment instanceof P.x&&(this.logService.createLog({message:`${this.name}'s ability was not activated because of Dazed.`,type:"ability",player:this.parent}),1))}resetAbilityUses(){this.abilityList.forEach(r=>{r.reset()})}initAbilityUses(){this.abilityList.forEach(r=>{r.initUses()})}attackPet(r,d=!1,g,f=!1){(0,v.uL)(this.asPet(),r,d,g,f)}applyCrisp(){const r=this.parent,d=r?.opponent;if(!r||!d)return;const g=d.getManticoreMult();for(let f of r.petArray)f.equipment instanceof c.Y?_.w.applyDamage({pet:f,baseDamage:6,perkName:"Crisp",manticoreMultipliers:g,logService:this.logService,afterDamage:D=>D.removePerk()}):f.equipment instanceof A.V&&f.equipment.uses>0&&_.w.applyDamage({pet:f,baseDamage:1,perkName:"Toasty",manticoreMultipliers:g,logService:this.logService,afterDamage:D=>{D.equipment.uses--,D.equipment.uses<=0&&D.removePerk()}})}snipePet(r,d,g,f,D,k,L,N,q){return(0,v.hA)(this.asPet(),r,d,g,f,D,k,L,N,q)}calculateDamage(r,d,g,f=!1){return(0,v.ST)(this.asPet(),r,d,g,f)}resetPet(){(0,e.O)(this.asPet())}jumpAttackPrep(r){this.abilityService.triggerBeforeAttackEvent(this),this.abilityService.triggerBeforeAttackEvent(r),this.abilityService.executeBeforeAttackTriggerOnly()}jumpAttack(r,d,g,f=!1){(0,v.jb)(this.asPet(),r,d,g,f)}get alive(){return this.health>0}setFaintEventIfPresent(){if(this.abilityService.triggerFaintEvents(this),this.mana>0){if(this.suppressManaSnipeOnFaint)return;this.abilityService.setManaEvent({priority:this.attack,callback:(r,d,g,f)=>{if(0==this.mana||this.kitsuneCheck())return;const k=this.parent.opponent.getRandomPet([],!1,!0,!1,this.asPet());null!=k.pet&&(this.snipePet(k.pet,this.mana,k.random,!1,!1,!1,!0),this.mana=0)},pet:this,triggerPet:this,tieBreaker:(0,n.Ak)()})}}useDefenseEquipment(r=!1){this.canConsumeDefenseEquipment(r)&&(this.equipment.uses-=1,this.equipment.uses<=0&&this.removePerk())}useAttackDefenseEquipment(){this.canConsumeAttackDefenseEquipment()&&(this.equipment.uses-=1,this.equipment.uses<=0&&this.removePerk())}increaseAttack(r){let d=50;if("Behemoth"==this.name&&(d=100),r>0&&"Sad"===this.equipment?.name||!this.alive)return 0;const g=this.attack;return this.attack=Math.min(Math.max(this.attack+r,1),d),this.attack-g}increaseHealth(r){let d=50;if(("Behemoth"==this.name||"Giant Tortoise"==this.name)&&(d=100),r>0&&"Sad"===this.equipment?.name||!this.alive)return 0;const g=this.health;return this.health=Math.min(Math.max(this.health+r,1),d),this.abilityService.triggerFriendGainsHealthEvents(this),this.health-g}increaseSellValue(r){r<=0||(this.sellValue+=r)}dealDamage(r,d){d>0&&"Kiwano"===this.equipment?.name&&(d+=8,this.logService.createLog({message:`${this.name} added +8 damage. (Kiwano)`,type:"equipment",player:this.parent}),this.removePerk()),(0,v.su)(this.asPet(),r,d)}triggerHurtEventsFor(r,d){this.abilityService.triggerHurtEvents(r,d)}triggerKillEventsFor(r){this.abilityService.triggerKillEvents(this,r)}triggerAttackEventsFor(){this.abilityService.triggerAttacksEvents(this)}executeAfterAttackEvents(){this.abilityService.executeAfterAttackEvents()}triggerJumpEventsFor(){this.abilityService.triggerJumpEvents(this)}createLog(r){this.logService.createLog(r)}increaseExp(r){let d=this.level;this.increaseAttack(r),this.increaseHealth(r),this.exp=Math.min(this.exp+r,5);let g=this.level-d;g>0&&(this.baseSellValue+=g,this.sellValue+=g);for(let f=0;f<g;f++)this.logService.createLog({message:`${this.name} leveled up to level ${this.level}.`,type:"ability",player:this.parent}),this.abilityService.triggerLevelUpEvents(this),this.abilityService.executeFriendlyLevelUpToyEvents(),this.resetAbilityUses();for(let f=0;f<Math.min(r,5);f++)this.abilityService.triggerFriendGainedExperienceEvents(this)}increaseMana(r){this.mana+=r,this.mana=Math.min(this.mana,50),this.abilityService.triggerManaGainedEvents(this)}get level(){return this.exp<2?1:this.exp<5?2:3}get position(){const r=this.parent;return r?this.asPet()==r.pet0?0:this.asPet()==r.pet1?1:this.asPet()==r.pet2?2:this.asPet()==r.pet3?3:this.asPet()==r.pet4?4:this.savedPosition:this.savedPosition}canConsumeDefenseEquipment(r){return!(!this.equipment||"ailment-defense"!=this.equipment.equipmentClass&&"Icky"!=this.equipment.name&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&r&&"shield-snipe"!=this.equipment.equipmentClass||null==this.equipment.uses||"Strawberry"===this.equipment.name&&(this.getSparrowLevel()<=0||this.equipment.uses<=0))}canConsumeAttackDefenseEquipment(){return!(!this.equipment||null==this.equipment.uses||"Strawberry"===this.equipment.name&&(this.getSparrowLevel()<=0||this.equipment.uses<=0)||"attack"!=this.equipment.equipmentClass&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&"snipe"!=this.equipment.equipmentClass&&"ailment-attack"!=this.equipment.equipmentClass&&"ailment-defense"!=this.equipment.equipmentClass&&"Icky"!=this.equipment.name||(isNaN(this.equipment.uses)&&console.warn("uses is NaN",this.equipment),0))}}},80163(O,S,i){i.d(S,{d:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Giant Tortoise";tier=4;pack="Danger";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GiantTortoiseAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},80249(O,S,i){i.d(S,{B:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Rambutan";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"RambutanAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let o=3*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${o} mana. (Rambutan)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.increaseMana(o)}}},80337(O,S,i){i.d(S,{M:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Woodpecker";tier=5;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WoodpeckerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=2*this.level;for(let g=0;g<d;g++){let f=r.parent.nearestPetsAhead(2,r,null,!0),D=f.pets;for(let k of D){let L=1;k.parent!=this.owner.parent&&(L*=2),r.snipePet(k,L,f.random,a)}}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},80355(O,S,i){i.d(S,{A:()=>v});var P=i(50336),A=Array.prototype.splice;const v=function _(e){var t=this.__data__,n=(0,P.A)(t,e);return!(n<0||(n==t.length-1?t.pop():A.call(t,n,1),--this.size,0))}},80517(O,S,i){i.d(S,{A:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;name="Spiny Bush Viper";tier=4;pack="Custom";attack=5;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Spiny Bush Viper Ability",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=n.parent.opponent.petArray.filter(g=>g&&g.alive);if(0===a.length)return void this.triggerTigerExecution(t);const o=(0,A.k4)([...a]).slice(0,Math.min(2,a.length)),r=n.position??n.savedPosition??0,d=[];for(const g of o){const D=Math.max(1,Math.abs(r-(g.position??g.savedPosition??0))),k=Math.max(1,this.level)*D;n.dealDamage(g,k),d.push(`${k} to ${g.name}`)}d.length>0&&this.logService.createLog({message:`${n.name} dealt ${d.join(" and ")}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},80591(O,S,i){i.d(S,{E:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Yak";tier=2;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Yak Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=this.level,r=2*this.level;a.dealDamage(a,o),a.increaseAttack(r),this.logService.createLog({message:`${a.name} took ${o} damage and gained +${r} attack.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},80614(O,S,i){i.d(S,{$:()=>c});let P=!1;const c={Promise:void 0,set useDeprecatedSynchronousErrorHandling(A){if(A){const _=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+_.stack)}else P&&console.log("RxJS: Back to a better error behavior. Thank you. <3");P=A},get useDeprecatedSynchronousErrorHandling(){return P}}},80618(O,S,i){i.d(S,{A:()=>A});var P=i(75152);const A=function c(_,v){var e=v?(0,P.A)(_.buffer):_.buffer;return new _.constructor(e,_.byteOffset,_.byteLength)}},80659(O,S,i){i.d(S,{m:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Onion";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"OnionAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} pushed itself to the back. (Onion)`,type:"equipment",player:t.parent}),t.parent.pushPetToBack(t),t.parent.pushPetsForward(),t.removePerk()}}},80728(O,S,i){i.d(S,{t:()=>c});var P=i(22097);class c extends P.${name="Churros";equipmentClass="shop"}},81106(O,S,i){i.d(S,{_:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;name="Baboon";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;abilityService;constructor(a,o,r){super({name:"BaboonAbility",owner:a,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.abilityService=r}executeAbility(a){const o=this.owner,{gameApi:r}=a,d=Math.max(1,r.previousShopTier??o.tier),g=o.parent.petArray.filter(L=>L.alive&&L.tier>=d);if(0===g.length)return void this.triggerTigerExecution(a);const f=(0,A.k6)({key:"pet.baboon-end-turn-target",label:(0,v.I)(o,"Baboon end turn target"),options:g.map(L=>({id:`${L.savedPosition+1}:${L.name}`,label:`P${L.savedPosition+1} ${L.name}`}))},()=>(0,_.hw)(0,g.length-1)),D=g[f.index],k=this.level;D.increaseAttack(k),D.increaseHealth(k),this.logService.createLog({message:`${o.name} gave ${D.name} +${k}/+${k}.`,type:"ability",player:o.parent,tiger:a.tiger,pteranodon:a.pteranodon,randomEvent:f.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},81179(O,S,i){i.d(S,{c:()=>c});var P=i(22097);class c extends P.${name="Potato";equipmentClass="shield-snipe";power=10;uses=2;originalUses=2;originalPower=10}},81207(O,S,i){i.d(S,{X:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;name="Sea Anemone";tier=4;pack="Custom";health=4;attack=3;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;usesThisTurn=0;maxUsesPerTurn=3;constructor(a,o){super({name:"Sea Anemone Ability",owner:a,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=o}executeAbility(a){const o=this.owner;if("StartTurn"===a.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(a);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(a);const r=a.triggerPet;if(!r||!r.isSellPet())return void this.triggerTigerExecution(a);const d=o.parent.petArray.filter(k=>k&&k!==o&&k.alive);if(0===d.length)return void this.triggerTigerExecution(a);const g=(0,A.k6)({key:"pet.sea-anemone-friend-sold-target",label:(0,v.I)(o,"Sea Anemone sold buff target"),options:d.map(k=>({id:`${k.savedPosition+1}:${k.name}`,label:`P${k.savedPosition+1} ${k.name}`}))},()=>(0,_.hw)(0,d.length-1)),f=d[g.index],D=Math.min(Math.max(this.level,1),3);f.increaseAttack(D),f.increaseHealth(D),this.usesThisTurn++,this.logService.createLog({message:`${o.name} gave ${f.name} +${D}/+${D} after ${r.name} was sold.`,type:"ability",player:o.parent,randomEvent:g.randomEvent,tiger:a.tiger,pteranodon:a.pteranodon}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},81226(O,S,i){i.d(S,{c:()=>_});var P=i(22097),c=i(5615),A=i(98441);class _ extends P.${logService;abilityService;name="Honey";equipmentClass="afterFaint";callback=t=>{const n=t.getEquippedEquipmentInstance(this);t.addAbility(new v(t,n,this.logService,this.abilityService))};constructor(t,n){super(),this.logService=t,this.abilityService=n}}class v extends c.T{equipment;logService;abilityService;constructor(t,n,a,o){super({name:"HoneyAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=n,this.logService=a,this.abilityService=o}executeAbility(t){const n=this.owner;for(let a=0;a<this.equipment.multiplier;a++){let o=new A.V(this.logService,this.abilityService,n.parent,null,null,0);n.parent.summonPet(o,n.savedPosition).success&&this.logService.createLog({message:`${n.name} Spawned Bee (Honey)${a>0?this.equipment.multiplierMessage:""}`,type:"ability",player:n.parent})}}}},81477(O,S,i){i.d(S,{K:()=>a});var P=i(22097),c=i(5615),A=i(56990),_=i(33127),v=i(24111),e=i(58857),t=i(61850),n=i(79222);class a extends P.${name="Confused";equipmentClass="ailment-other";callback=d=>{d.addAbility(new o(d))}}class o extends c.T{petService;logService;constructor(d){super({name:"ConfusedAbility",owner:d,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:g=>this.executeAbility(g)}),this.petService=_.I.getInjector().get(A.T),this.logService=_.I.getInjector().get(v.K)}executeAbility(d){const g=this.owner,f=Math.max(1,(g.tier??1)-1),D=this.petService.allPets.get(f)??[];if(0===D.length)return void g.removePerk();const k=(0,e.k6)({key:"equipment.confused-transform",label:(0,n.R)(g,"Confused","transform"),options:D.map(q=>({id:q,label:q}))},()=>(0,t.hw)(0,D.length-1)),L=D[k.index];g.removePerk();const N=this.petService.createPet({name:L,attack:g.attack,health:g.health,exp:g.exp??0,equipment:null,mana:g.mana},g.parent);this.logService.createLog({message:`${g.name} transformed into a ${L}. (Confused)`,type:"equipment",player:g.parent,randomEvent:k.randomEvent}),g.parent.transformPet(g,N)}}},81537(O,S,i){i.d(S,{T:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Cake";equipmentClass="shop";tier=3;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"CakeAbility",owner:e,triggers:["EndTurn"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner,n=1*(this.equipment.multiplier??1);t.increaseSellValue(n),this.logService.createLog({message:`${t.name} increased its sell value by ${n}. (Cake)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}},81658(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Kiwi";tier=1;pack="Star";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"KiwiAbility",owner:e,triggers:["ThisHurt","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.petArray.filter(k=>"Strawberry"!=k.equipment?.name||k==r),g=r.parent.getLastPet(d,r),f=g.pet;if(null==f)return;let D=this.level;f.increaseAttack(D),this.logService.createLog({message:`${r.name} gave ${f.name} +${D} attack`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},81740(O,S,i){i.d(S,{P:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Giraffe";tier=3;pack="Turtle";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GiraffeAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,a=t.parent.nearestPetsAhead(this.level,t);if(0!==a.pets.length){for(const o of a.pets)o.increaseAttack(1),o.increaseHealth(1);this.logService.createLog({message:`${t.name} gave ${a.pets.map(o=>o.name).join(", ")} +1 attack and +1 health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.random}),this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},81946(O,S,i){i.d(S,{q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bison";tier=4;pack="Turtle";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BisonAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;if(!t.parent.petArray.some(r=>r&&r!==t&&r.level>=3))return;const a=this.level,o=2*this.level;t.increaseAttack(a),t.increaseHealth(o),this.logService.createLog({message:`${t.name} gained +${a} attack and +${o} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},81984(O,S,i){i.d(S,{A:()=>e});var P=i(1827),c=i(61319),_=Object.prototype.hasOwnProperty;const e=function v(t,n,a){var o=t[n];(!_.call(t,n)||!(0,c.A)(o,a)||void 0===a&&!(n in t))&&(0,P.A)(t,n,a)}},82063(O,S,i){i.d(S,{A:()=>_});var P=i(45525),c=i(1860);const _=(0,P.A)(c.A,"Promise")},82144(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Moose";tier=5;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"Moose Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,a=e.gameApi?.playerPetPool?.get(1)?.length??0;if(0===a)return void this.triggerTigerExecution(e);const r=3*this.level*a,d=t.parent.getRandomPets(1,[t],!1,!1,t),g=d.pets[0];g?(g.increaseHealth(r),this.logService.createLog({message:`${t.name} gave ${g.name} +${r} health from ${a} Tier 1 shop pets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:d.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},82429(O,S,i){function P(_,v,e,t){if(_.komodoShuffle||_.oldStork||_.playerToy&&t.isToyRandom(_.playerToy)||_.opponentToy&&t.isToyRandom(_.opponentToy))return!1;const n=a=>{if(!a)return!0;for(let o=0;o<a.length;o++){const r=a[o];if(!r||!r.name)continue;if(v.isPetRandom(r.name))return!1;let d=null;if("string"==typeof r.equipment?d=r.equipment:r.equipment&&"object"==typeof r.equipment&&(d=r.equipment.name),d&&e.isEquipmentRandom(d))return!1}return!0};return!(!n(_.playerPets)||!n(_.opponentPets))}function c(_){if(null==_||!Number.isFinite(_))return()=>{};const v=function A(_){let v=_>>>0;return()=>{v=v+1831565813>>>0;let e=Math.imul(v^v>>>15,1|v);return e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296}}(Math.trunc(_)),e=Math,t=e.random;return e.random=v,()=>{e.random=t}}i.d(S,{B:()=>P,c:()=>c})},82491(O,S,i){i.d(S,{D:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Fossa";tier=4;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FossaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:a}=e,r=this.owner,g=r.parent===t.player?t.playerRollAmount:t.opponentRollAmount;if(g<=0)return;const f=this.level*g;let k=r.parent.opponent.getFurthestUpPets(2,void 0,r).pets;if(0!=k.length){for(let L of k)this.logService.createLog({message:`${r.name} removed ${f} health from ${L.name}.`,type:"ability",player:r.parent,tiger:a}),L.increaseHealth(-f);this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},82661(O,S,i){i.d(S,{C:()=>_});var P=i(61850),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Komodo";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}endTurn(t){if(!t.komodoShuffle)return;let a=this.position;if(0==a)return;let r=this.shufflePets(0,a).map(d=>d.name).join(", ");this.logService.createLog({message:`${this.name} shuffled positions of pets (${r}).`,type:"ability",player:this.parent,randomEvent:!0})}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}shufflePets(t,n){let a=this.parent.petArray.slice(t,n);(0,P.k4)(a);for(let o=0;o<a.length;o++)this.parent.setPet(o,a[o]);return a}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"KomodoAbility",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{gameApi:n,tiger:a,pteranodon:o}=t,r=this.owner;if(0===r.position)return void this.triggerTigerExecution(t);const g=r.parent.nearestPetsAhead(r.position,r).pets;if(0===g.length)return void this.triggerTigerExecution(t);const f=this.level;for(const k of g)k.increaseAttack(f),k.increaseHealth(f);n&&(n.komodoShuffle=!0);const D=g.map(k=>k.name).join(", ");this.logService.createLog({message:`${r.name} gave ${D} +${f}/+${f} at end of turn and shuffled positions.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:!0}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},82967(O,S,i){i.d(S,{b:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Sparrow";tier=4;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"SparrowAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},83028(O,S,i){i.d(S,{L:()=>A,V:()=>c});const P={setEnabled:()=>{},isEnabled:()=>!1,setDeferDecorations:()=>{},isDeferDecorations:()=>!0,setShowTriggerNamesInLogs:()=>{},isShowTriggerNamesInLogs:()=>!1,setDebugSummonBoardStateLogs:()=>{},isDebugSummonBoardStateLogs:()=>!1,decorateLogIfNeeded:()=>{},createLog:()=>{},getLogs:()=>[],reset:()=>{},printState:()=>{}};function c(_){return _??P}function A(_){let e=c(_.logService);Object.defineProperty(_,"logService",{configurable:!0,enumerable:!0,get:()=>e,set:t=>{e=c(t)}})}},83031(O,S,i){i.d(S,{Y:()=>v});var P=i(46200),c=i(5615),A=i(51610),_=i(1152);class v extends P.i{logService;abilityService;name="Frigatebird";tier=2;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}resetPet(){super.resetPet()}}class e extends c.T{logService;constructor(n,a){super({name:"FrigatebirdAbility",owner:n,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:o=>(0,_.Re)(this.owner,o.triggerPet),abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const d=this.owner,g=(0,_.lK)(d,n.triggerPet),f=g.pet;if(!f)return;const D=f.equipment;!D||!D.equipmentClass?.startsWith("ailment")||(f.removePerk(),f.givePetEquipment(new A.o),this.logService.createLog({message:`${d.name} removed ${D.name} from ${f.name} and gave ${f.name} Rice.`,type:"ability",player:d.parent,randomEvent:g.random}),this.triggerTigerExecution(n))}reset(){this.maxUses=this.level,super.reset()}copy(n){return new e(n,this.logService)}}},83048(O,S,i){i.d(S,{a:()=>_});var P=i(23828),c=i(50873);i(5615);class _ extends c.L{name="Magic Wand";tier=1;startOfBattle(t,n){let a=this.parent.petArray.filter(d=>d.level<3),o=null,r=!1;if(0==a.length){const d=this.parent.getRandomPet([],!0);o=d.pet,r=d.random}else a=(0,P.A)(a),o=a[0],r=a.length>1;null!=o&&(this.logService.createLog({message:`${this.name} gave ${o.name} ${this.level} exp.`,type:"ability",player:this.parent,puma:n,randomEvent:r}),o.increaseExp(this.level))}}},83134(O,S,i){i.d(S,{j:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Gingerbread Man";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"GingerbreadManAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let a=1*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${a} experience (Gingerbread Man)${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent}),t.increaseExp(a)}}},83167(O,S,i){i.d(S,{f:()=>Gi});var P=i(30553),c=i(73327),A=i(5762),_=i(61967),v=i(65438),e=i(54073),t=i(78480),n=i(95313),a=i(7059),o=i(68184),r=i(2042),d=i(20858),g=i(47175),f=i(76325),D=i(99771),k=i(25935),L=i(52078),N=i(31671),q=i(19405),ne=i(61502),Q=i(62633),$=i(11970),H=i(34815),ae=i(51665),re=i(1874),_e=i(19866),be=i(56960),Ee=i(86900),ke=i(58151),de=i(23623),Te=i(53092),Ne=i(97919),Ge=i(17647),Ie=i(53473),gt=i(99352),pt=i(27312),We=i(38065),tt=i(69385),At=i(77392),nt=i(4193),et=i(8362),Dt=i(26717),ct=i(28266),vt=i(45651),rt=i(91039),He=i(78305),kt=i(59659),Xt=i(42589),it=i(67174),$t=i(24277),Et=i(18467),ge=i(66723),we=i(50048),Ve=i(47256),Fe=i(67138),ot=i(25047),Bt=i(67358),Rt=i(21110),qt=i(68908),zt=i(65919),Ht=i(3269);const Gi={Baku:P.C,Barghest:A.T,Tsuchinoko:_.m,Murmel:v.B,Alchemedes:e.J,Pengobble:t.Z,Bunyip:n.q,"Sneaky Egg":a.v,"Cuddle Toad":o.k,"???":c.F,"Ghost Kitten":r.z,"Frost Wolf":d.j,Mothman:g.Z,"Drop Bear":f.W,Jackalope:D.l,Ogopogo:k.L,Thunderbird:L.W,Gargoyle:N.N,Bigfoot:q.h,"Lucky Cat":Q.T,"Skeleton Dog":$.k,Mandrake:H.w,"Fur-Bearing Trout":ae.K,"Mana Hound":re._,Calygreyhound:_e.r,"Brain Cramp":be.Y,Minotaur:Te.I,Wyvern:ne.u,Ouroboros:Ee.x,Griffin:ke.k,Kraken:Ne.H,Visitor:Ge.l,"Vampire Bat":et.g,"Tiger Bug":Ie.Q,Tatzelwurm:de.W,Cyclops:gt.p,Chimera:pt.S,Roc:We.f,"Worm of Sand":tt.L,"Red Dragon":Dt.L,Unicorn:nt.r,"Loveland Frogman":ct.q,"Salmon of Knowledge":vt.K,"Jersey Devil":rt.j,Pixiu:He.A,Kitsune:kt.W,Nessie:Xt.Y,"Bad Dog":it.a,Werewolf:$t.a,Amalgamation:Et.P,Manticore:ge.J,Phoenix:we.EX,Quetzalcoatl:Ve.a,"Team Spirit":Fe.z,Sleipnir:ot.$,"Sea Serpent":Bt.$,Yeti:Rt.w,Cerberus:qt.g,Hydra:zt.n,Behemoth:Ht.D,Abomination:At._}},83245(O,S,i){i.d(S,{t:()=>e});var P=i(46200),c=i(5615),A=i(33127),_=i(26886),v=i(1152);class e extends P.i{logService;abilityService;name="Old Mouse";tier=4;pack="Custom";attack=1;health=2;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;abilityService;constructor(a,o,r){super({name:"Old Mouse Ability",owner:a,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.abilityService=r}executeAbility(a){const{tiger:o,pteranodon:r}=a,d=this.owner,g=A.I.getInjector().get(_.w),f=Math.max(1,Math.min(3,this.level)),D=g.toys.get(f)??[];if(0===D.length)return void this.triggerTigerExecution(a);const k=D[0],L=g.createToy(k,d.parent,f);L?(d.parent.toy=L,d.parent.toy.used=!1,d.parent.toy.triggers=0,(0,v.rv)(this.logService,d,`${d.name} chose a level ${f} ${k} toy.`,o,r),this.triggerTigerExecution(a)):this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},83355(O,S,i){i.d(S,{b:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Spinosaurus";tier=6;pack="Star";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SpinosaurusAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d={attack:2*this.level,health:3*this.level},g=r.parent.getRandomPet([r],!0,!1,!0,r);null!=g.pet&&(g.pet.increaseAttack(d.attack),g.pet.increaseHealth(d.health),this.logService.createLog({message:`${r.name} gave ${g.pet.name} ${d.attack} attack and ${d.health} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},83398(O,S,i){i.d(S,{m:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Llama";tier=4;pack="Puppy";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"LlamaAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;let n=!1;for(let r=0;r<5;r++)if(null==t.parent.getPetAtPosition(r)){n=!0;break}if(!n)return void this.triggerTigerExecution(e);const a=this.level,o=2*this.level;t.increaseAttack(a),t.increaseHealth(o),this.logService.createLog({message:`${t.name} gained +${a}/+${o} because there was an empty space.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},83699(O,S,i){i.d(S,{M:()=>A});var P=i(50873);i(5615);class A extends P.L{name="Magic Lamp";tier=2;friendlyLevelUp(e,t,n,a){this.logService.createLog({message:`${this.name} gave ${t.name} ${a} attack and ${a} health.`,type:"ability",player:this.parent,puma:n}),t.increaseAttack(+a),t.increaseHealth(+a)}}},83796(O,S,i){i.d(S,{r:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Catfish";tier=6;pack="Golden";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"CatfishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.petAhead;if(!n)return void this.triggerTigerExecution(e);const a=this.level;if(n.hasTrigger("ThisBought")){for(let r=0;r<a;r++)n.executeAbilities("ThisBought",e.gameApi,n,void 0,void 0,{trigger:"ThisBought"});this.logService.createLog({message:`${t.name} activated ${n.name}'s buy ability ${a} time${1===a?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})}else{const r=4*this.level;n.increaseHealth(r),this.logService.createLog({message:`${t.name} gave ${n.name} +${r} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},83811(O,S,i){i.d(S,{A:()=>_});var c=Object.prototype.toString;const _=function A(v){return c.call(v)}},83991(O,S,i){i.d(S,{T:()=>c});var P=i(22097);class c extends P.${equipmentClass="defense";name="Garlic";tier=3;power=2;originalPower=2;minimumDamage=2;callback=_=>{}}},84371(O,S,i){i.d(S,{L:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Blue Ringed Octopus";tier=5;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BlueRingedOctopusAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level,a=t.parent.petArray.filter(o=>o.alive&&o!==t);if(0!==a.length){for(const o of a)o.increaseAttack(n),o.increaseHealth(n);this.logService.createLog({message:`${t.name} gave friends +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},84375(O,S,i){i.d(S,{C:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Elephant";tier=3;pack="Turtle";health=7;attack=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ElephantAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;for(let d=0;d<this.level;d++){let g=r.parent.nearestPetsBehind(1,r);g.pets.length>0&&r.snipePet(g.pets[0],1,g.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},84385(O,S,i){i.d(S,{v:()=>P});const P=c=>A=>{for(let _=0,v=c.length;_<v&&!A.closed;_++)A.next(c[_]);A.complete()}},84587(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Termite";tier=1;pack="Custom";health=4;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"TermiteAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,a=Math.max(1,e.gameApi.previousShopTier??1)+this.level;t.attack=Math.max(1,a),this.logService.createLog({message:`${t.name} set its attack to ${t.attack}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},84736(O,S,i){i.d(S,{v:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;name="Blue Jay";tier=5;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;foodsEatenThisTurn=0;seededFromShop=!1;constructor(t,n){super({name:"Blue Jay Ability",owner:t,triggers:["FoodEatenByThis","StartTurn","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner;if("StartTurn"===t.trigger)return this.foodsEatenThisTurn=0,void(this.seededFromShop=!1);if(!this.seededFromShop){const a=n.foodsEaten??0;a>0&&(this.foodsEatenThisTurn=Math.max(this.foodsEatenThisTurn,a)),this.seededFromShop=!0}if("FoodEatenByThis"!==t.trigger){if("PostRemovalFaint"===t.trigger){const o=this.level*this.foodsEatenThisTurn;if(o<=0)return void this.triggerTigerExecution(t);const r=n.parent.petArray.filter(g=>g&&g!==n&&g.alive);if(0===r.length)return void this.triggerTigerExecution(t);(0,A.k4)(r);const d=r.slice(0,3);for(const g of d)g.increaseAttack(o),g.increaseHealth(o);this.logService.createLog({message:`${n.name} gave ${d.map(g=>g.name).join(", ")} +${o}/+${o} after fainting.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}}else this.foodsEatenThisTurn++}copy(t){return new v(t,this.logService)}}},84746(O,S,i){i.d(S,{A:()=>A});var P=i(45525);const A=function(){try{var _=(0,P.A)(Object,"defineProperty");return _({},"",{}),_}catch{}}()},84787(O,S,i){i.d(S,{H:()=>D});var P=i(27389),c=i(60135),A=i(31805),_=i(45722),t=i(32496),n=i(37765),r=i(15998),d=i(25253);function D(k,L){return L?function f(k,L){if(null!=k){if(function o(k){return k&&"function"==typeof k[_.s]}(k))return function v(k,L){return new P.c(N=>{const q=new A.y;return q.add(L.schedule(()=>{const ne=k[_.s]();q.add(ne.subscribe({next(Q){q.add(L.schedule(()=>N.next(Q)))},error(Q){q.add(L.schedule(()=>N.error(Q)))},complete(){q.add(L.schedule(()=>N.complete()))}}))})),q})}(k,L);if((0,r.y)(k))return function e(k,L){return new P.c(N=>{const q=new A.y;return q.add(L.schedule(()=>k.then(ne=>{q.add(L.schedule(()=>{N.next(ne),q.add(L.schedule(()=>N.complete()))}))},ne=>{q.add(L.schedule(()=>N.error(ne)))}))),q})}(k,L);if((0,d.X)(k))return(0,t.V)(k,L);if(function g(k){return k&&"function"==typeof k[n.lJ]}(k)||"string"==typeof k)return function a(k,L){if(!k)throw new Error("Iterable cannot be null");return new P.c(N=>{const q=new A.y;let ne;return q.add(()=>{ne&&"function"==typeof ne.return&&ne.return()}),q.add(L.schedule(()=>{ne=k[n.lJ](),q.add(L.schedule(function(){if(N.closed)return;let Q,$;try{const H=ne.next();Q=H.value,$=H.done}catch(H){return void N.error(H)}$?N.complete():(N.next(Q),this.schedule())}))})),q})}(k,L)}throw new TypeError((null!==k&&typeof k||k)+" is not observable")}(k,L):k instanceof P.c?k:new P.c((0,c.i)(k))}},84797(O,S,i){i.d(S,{S:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bluebird";tier=1;pack="Puppy";attack=2;health=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BluebirdAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.parent.getRandomPet([t]),a=n.pet;if(!a)return;const o=this.level;a.increaseAttack(o),this.logService.createLog({message:`${t.name} gave ${a.name} +${o} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},84932(O,S,i){i.d(S,{Z:()=>c});var P=i(22097);class c extends P.${name="Sleepy";equipmentClass="ailment-other"}},84968(O,S,i){i.d(S,{F:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Frog";tier=1;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FrogAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>1===this.owner.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.nearestPetsAhead(1,r),g=r.parent.nearestPetsBehind(1,r);if(0===d.pets.length||0===g.pets.length)return;let f=d.pets[0],D=g.pets[0],k=f.attack,L=f.health,q=D.health;f.attack=D.attack,f.health=q,D.attack=k,D.health=L,this.logService.createLog({message:`${r.name} swapped the attack and health of ${f.name} and ${D.name}.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random||g.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},85063(O,S,i){i.d(S,{EA:()=>ce,G1:()=>je,Nb:()=>ve,RY:()=>Le,_y:()=>Ue,xd:()=>Ae});var P=i(83991),c=i(81537),A=i(23865),_=i(72683),v=i(44402),e=i(81226),t=i(21580),n=i(14271),a=i(51838),o=i(13712),r=i(76282),d=i(13651),g=i(51610),f=i(75898),D=i(32334),k=i(76030),L=i(40110),N=i(13115),q=i(72421),ne=i(60826),Q=i(12160),$=i(1075),H=i(17017),ae=i(43592),re=i(56518),_e=i(23296),be=i(67647),Ee=i(22410),ke=i(39371),de=i(44519),Te=i(65188),Ne=i(40482),Ge=i(3129),Ie=i(1406),gt=i(56613),pt=i(40804),We=i(6513),tt=i(2730),At=i(81179),nt=i(19429),et=i(80659),Dt=i(54155),ct=i(54190),vt=i(59561),rt=i(53324),He=i(3887),kt=i(47925),Xt=i(79257),it=i(32238),$t=i(57598),Et=i(85838),ge=i(60385),we=i(31546),Ve=i(30254),Fe=i(23770),ot=i(6328),Bt=i(21844),Rt=i(46300),qt=i(71799),zt=i(6674),Ht=i(242),Gi=i(68478),xt=i(29886),Qi=i(50885),Vi=i(43783),wi=i(80728),Oi=i(64017),zi=i(6145),En=i(32232),Di=i(13997),_i=i(8891),Mi=i(37907),Nn=i(3615),pn=i(80249),an=i(55713),sn=i(1689),Yi=i(83134),In=i(66139),Bi=i(18783),di=i(70928),Ii=i(38148),Hi=i(95244),Sn=i(75263),yi=i(19180),qi=i(2375),Zi=i(61404),Tn=i(48576),Qn=i(55378),Ei=i(607),en=i(59374),Vn=i(56979),Dn=i(19058),zn=i(61311),rn=i(85871),qn=i(10687),Ea=i(81477),Qa=i(61908),hn=i(30357),gn=i(9008),pi=i(84932),Zn=i(7199),ea=i(18060);const ce={Garlic:P.T,"Meat Bone":A.i,Steak:_.R,Melon:v.m,Coconut:a.K,Peanut:o.u,"Peanut Butter":qi._,"Cake Slice":Zi.r,Blackberry:r.a,Croissant:d.J,Rice:g.o,Eucalyptus:D.E,Lime:k.w,Salt:N.B,Lemon:Q.C,Cucumber:be.T,Cheese:Ee.W,Grapes:ke.t,Pepper:de.H,Carrot:Te.E,Cherry:gt.G,"Bok Choy":pt.G,Potato:At.c,Unagi:Ve.d,Corncob:Fe.D,"Fortune Cookie":ot.Y,Blueberry:Bt.z,Donut:Rt.R,Kiwifruit:Ht.T,Pineapple:Gi.N,Guava:xt.B,"Brussels Sprout":Qi.p,Cauliflower:Vi.s,Churros:wi.t,Kiwano:Oi.W,Macaron:zi.S,"Melon Slice":En.o,"Oyster Mushroom":Di.N,"Sardinian Currant":Mi.z,Sausage:Nn.w,Walnut:ae.S,"Honeydew Melon":He.L,"Maple Syrup":kt.q,"White Okra":ge.f,Ambrosia:Sn.B,"Magic Beans":di.$},Ae={Cake:c.T,Egg:f.Q,Squash:L.o,Pie:q.F,Skewer:ne.q,Pancakes:$.V,Strawberry:re.q,Baguette:_e.m,Eggplant:tt.$,Onion:et.m,"Pita Bread":Dt.j,Tomato:ct.U,Durian:vt.Q,"Sudduth Tomato":it.w,Fig:rt.F,"Cashew Nut":qt.r,Nachos:zt.h,Caramel:Ie.U,Rambutan:pn.B,"Love Potion":an.S,"Fairy Dust":sn.S,"Gingerbread Man":Yi.j,"Health Potion":Bi.S,"Golden Egg":Ii.N,"White Truffle":we.w},ve={Honey:e.c,Chili:t.k,"Chocolate Cake":We.L,"Cod Roe":Xt.r,Banana:nt.U,"Gros Michel Banana":$t.h,"Easter Egg":In.u,"Yggdrasil Fruit":Hi.H,"Mild Chili":H.W},Le={Cold:Tn.b,Crisp:Ei.Y,Dazed:en.x,Icky:Qn.z,Inked:hn.w,Toasty:ea.V,Spooked:Vn.E,Weak:Dn.l,Silly:rn.E,Bloated:qn.e,Confused:Ea.K,Cursed:Qa.$,Sad:gn.B,Sleepy:pi.Z,Webbed:Zn.o},Ue={Mushroom:ze=>new n.t(ze.logService,ze.petService),Popcorn:ze=>new Ne.m(ze.logService,ze.petService,ze.gameService),Seaweed:ze=>new Ge.X(ze.logService,ze.abilityService,ze.petService),"Cocoa Bean":ze=>new Et.b(ze.logService,ze.petService),"Faint Bread":ze=>new yi.V(ze.logService,ze.petService),Radish:ze=>new _i.w(ze.logService)},je={Tasty:ze=>new zn.U(ze.logService)}},85078(O,S,i){i.d(S,{j:()=>_});var P=i(46200),c=i(5615),A=i(29088);class _ extends P.i{logService;abilityService;name="Cockatrice";tier=6;pack="Custom";attack=6;health=8;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"CockatriceAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.opponent.petArray.reverse(),f=null;for(let L of g)if(L.level<=this.level){f=L;break}if(null==f)return;this.logService.createLog({message:`${d.name} transformed ${f.name} into a Rock.`,type:"ability",player:d.parent,tiger:o,pteranodon:r});let D=new A.A(this.logService,this.abilityService,f.parent,f.health,f.attack,f.mana,f.exp,f.equipment);d.parent.opponent.setPet(f.position,D,!1),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},85240(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Wasp";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Wasp Ability",owner:e,triggers:["ShopUpgrade"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,a=Math.floor(t.attack*(.5*this.level));a>0&&(t.increaseAttack(a),this.logService.createLog({message:`${t.name} gained +${a} attack from Shop Upgrade.`,type:"ability",player:t.parent}))}copy(e){return new _(e,this.logService)}}},85267(O,S,i){i.d(S,{A:()=>v});var P=i(6944),c=P.A?P.A.prototype:void 0,A=c?c.valueOf:void 0;const v=function _(e){return A?Object(A.call(e)):{}}},85554(O,S,i){i.d(S,{A:()=>c});const c=function P(){return!1}},85709(O,S,i){i.d(S,{b:()=>e,t:()=>v});var P=i(57488),c=i(19058),A=i(50873),_=i(5615);class v extends A.L{name="Witch Broom";tier=1;startOfBattle(n,a){let o=(0,P.a)(n,this.parent),r=o.petArray.filter(g=>null!=g.equipment),d=[];for(let g=0;g<this.level;g++){let f=o.getRandomPet(r,!1,!0,!1,null);if(null==f.pet)break;r.push(f.pet),d.push(f.pet)}if(0!==d.length)for(let g of d)this.logService.createLog({message:`${this.name} gave ${g.name} Weak.`,type:"ability",player:this.parent,puma:a,randomEvent:o.petArray.length-r.length>0}),g.givePetEquipment(new c.l);else this.logService.createLog({message:"Player's Witch Broom found no targets",type:"ability",player:this.parent,puma:a,randomEvent:!0})}}class e extends _.T{logService;constructor(n,a){super({name:"WitchBroomAbility",owner:n,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{tiger:r}=n,g=this.owner;let f=g.parent.getPetsWithEquipmentWithSillyFallback("any",g),D=g.parent.getRandomEnemyPetsWithSillyFallback(this.level,f,!1,!0,g),k=D.pets;if(0!=k.length){for(let L of k)L.givePetEquipment(new c.l),this.logService.createLog({message:`${g.name} gave ${L.name} Weak.`,type:"ability",player:g.parent,tiger:r,randomEvent:D.random});this.triggerTigerExecution(n)}}copy(n){return new e(n,this.logService)}}},85838(O,S,i){i.d(S,{b:()=>e});var P=i(22097),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.${logService;petService;name="Cocoa Bean";tier=5;equipmentClass="beforeAttack";power=0;originalPower=0;uses=1;originalUses=1;callback=a=>{const o=a.getEquippedEquipmentInstance(this);a.addAbility(new t(a,o,this.logService,this.petService))};constructor(a,o){super(),this.logService=a,this.petService=o}}class t extends c.T{equipment;logService;petService;constructor(a,o,r,d){super({name:"CocoaBeanAbility",owner:a,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:g=>{this.executeAbility(g)}}),this.equipment=o,this.logService=r,this.petService=d}executeAbility(a){const o=this.owner;for(let r=0;r<this.equipment.multiplier;r++){let d=o.parent.opponent.petArray.filter(L=>L.alive);if(0==d.length)return void o.removePerk();const g=(0,A.k6)({key:"equipment.cocoa-bean-transform",label:(0,v.R)(o,"Cocoa Bean","transform",r+1),options:d.map(L=>({id:`${L.savedPosition+1}:${L.name}`,label:`O${L.savedPosition+1} ${L.name}`}))},()=>(0,_.hw)(0,d.length-1));let f=d[g.index],D=this.petService.createPet({name:f.name,attack:f.attack,health:f.health,mana:o.mana,exp:f.exp,equipment:null},o.parent);if(D.mana=o.mana,f.swallowedPets&&f.swallowedPets.length>0){D.swallowedPets=[];for(let L of f.swallowedPets){let N=this.petService.createPet({name:L.name,attack:L.attack,health:L.health,mana:L.mana,exp:L.exp,equipment:L.equipment},o.parent);D.swallowedPets.push(N)}}D.copyAbilities(f,"Pet"),this.logService.createLog({message:`${o.name} transformed into ${D.name} (Cocoa Bean)${r>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:o.parent,randomEvent:g.randomEvent}),o.parent.transformPet(o,D)}}}},85871(O,S,i){i.d(S,{E:()=>c});var P=i(22097);class c extends P.${name="Silly";equipmentClass="ailment-other"}},86249(O,S,i){i.d(S,{Q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Seal";tier=5;pack="Turtle";attack=3;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SealAbility",owner:e,triggers:["FoodEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;if(n!=r)return;let d=this.level,g=r.parent.getRandomPets(3,[r],!0,!1,r);for(let f of g.pets)null!=f&&(f.increaseAttack(d),this.logService.createLog({message:`${r.name} gave ${f.name} ${d} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}));this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},86253(O,S,i){i.d(S,{BE:()=>t,Ku:()=>A,Uk:()=>e,bE:()=>v,vD:()=>_,wA:()=>c,yV:()=>P});const P=n=>n.petArray.length>0,c=n=>{n.pet0=n.orignalPet0,n.pet0?.resetPet(),n.pet1=n.orignalPet1,n.pet1?.resetPet(),n.pet2=n.orignalPet2,n.pet2?.resetPet(),n.pet3=n.orignalPet3,n.pet3?.resetPet(),n.pet4=n.orignalPet4,n.pet4?.resetPet(),n.orignalPet0=n.pet0,n.orignalPet1=n.pet1,n.orignalPet2=n.pet2,n.orignalPet3=n.pet3,n.orignalPet4=n.pet4,n.toy=n.originalToy,n.toy&&(n.toy.used=!1,n.toy.triggers=0,n.originalToy&&(n.toy.level=n.originalToy.level)),n.hardToy=n.originalHardToy,n.hardToy&&(n.hardToy.used=!1,n.hardToy.triggers=0,n.originalHardToy&&(n.hardToy.level=n.originalHardToy.level)),n.brokenToy=null,n.brokenHardToy=null,n.trumpets=0,n.spawnedGoldenRetiever=!1,n.summonedBoatThisBattle=!1,n.cannedAilments=[]},A=n=>{for(const a of n.petArray)a&&(a.jumped=!1)},_=(n,a)=>{a.createLog({message:`${n.name} fainted.`,type:"death",player:n.parent,sourcePet:n})},v=(n,a)=>{n.seenDead=!0,n.setFaintEventIfPresent(),_(n,a)},e=(n,a)=>{n.pet0&&!n.pet0.alive&&!n.pet0.seenDead&&v(n.pet0,a),n.pet1&&!n.pet1.alive&&!n.pet1.seenDead&&v(n.pet1,a),n.pet2&&!n.pet2.alive&&!n.pet2.seenDead&&v(n.pet2,a),n.pet3&&!n.pet3.alive&&!n.pet3.seenDead&&v(n.pet3,a),n.pet4&&!n.pet4.alive&&!n.pet4.seenDead&&v(n.pet4,a)},t=(n,a)=>{let o=!1;const r=[{pet:n.pet0,index:0},{pet:n.pet1,index:1},{pet:n.pet2,index:2},{pet:n.pet3,index:3},{pet:n.pet4,index:4}];for(const d of r)if(d.pet&&!d.pet.alive){switch(d.pet.removed=!0,d.index){case 0:n.pet0=void 0;break;case 1:n.pet1=void 0;break;case 2:n.pet2=void 0;break;case 3:n.pet3=void 0;break;case 4:n.pet4=void 0}a.triggerAfterFaintEvents(d.pet),o=!0}return o}},86542(O,S,i){i.d(S,{A:()=>A});var P=i(3746);const A=function c(_){return(0,P.A)(this,_).has(_)}},86568(O,S,i){i.d(S,{A:()=>_});var P=i(45525),c=i(1860);const _=(0,P.A)(c.A,"Map")},86589(O,S,i){i.d(S,{B:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Crab";tier=2;pack="Turtle";health=1;attack=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CrabAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;if(!r.alive)return;let d=r.parent.getHighestHealthPet(r,r);if(null==d.pet)return;let g=Math.ceil(d.pet.health*(.25*this.level)),f=r.parent.getThis(r);f.pet&&(f.pet.increaseHealth(g),this.logService.createLog({message:`${r.name} gave ${f.pet.name} ${.25*this.level*100}% of ${d.pet.name}'s health (${g})`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},86610(O,S,i){i.d(S,{r:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pig";tier=1;pack="Turtle";health=1;attack=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PigAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},86785(O,S,i){function P(A){return 1===A?0:2===A?2:5}function c(A){return P(A)}i.d(S,{T:()=>c,l:()=>P})},86863(O,S,i){i.d(S,{M:()=>_});var P=i(46200),c=i(5615),A=i(86785);class _ extends P.i{logService;abilityService;petService;name="Tadpole";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D,k){super(t,n,o),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,d,g,D,k)}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"Tadpole Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",abilitylevel:t.level,abilityFunction:o=>this.executeAbility(o)}),this.logService=n,this.petService=a}executeAbility(t){const n=this.owner,a=n.level,o=this.petService.createPet({name:"Frog",attack:null,health:null,mana:0,exp:(0,A.l)(a),equipment:null},n.parent);o&&(n.parent.transformPet(n,o),this.logService.createLog({message:`${n.name} transformed into a level ${a} Frog.`,type:"ability",player:n.parent})),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.petService)}}},86900(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Ouroboros";tier=3;pack="Unicorn";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=5;constructor(e,t,n){super({name:"OuroborosAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=this.owner,n=this.level;this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave newly rolled shop pets +${n}/+${n} until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},86909(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Kangaroo";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"KangarooAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getThis(r);d.pet&&(d.pet.increaseAttack(this.level),d.pet.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${d.pet.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},86950(O,S,i){i.d(S,{t:()=>t});var P=i(46200),c=i(5615),A=i(33127),_=i(26886),v=i(61850),e=i(1152);class t extends P.i{logService;abilityService;name="Ferret";tier=1;pack="Puppy";attack=1;health=3;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,N){super(o,r,d),this.logService=o,this.abilityService=r,this.initPet(k,g,f,D,L,N)}}class n extends c.T{logService;abilityService;constructor(o,r,d){super({name:"FerretAbility",owner:o,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.abilityService=d}executeAbility(o){const r=this.owner,d=A.I.getInjector().get(_.w),g=Math.max(1,Math.min(3,this.level)),f=d.toys.get(g)??[];if(0===f.length)return void this.triggerTigerExecution(o);const D=f[(0,v.hw)(0,f.length-1)],k=d.createToy(D,r.parent,g);k?(r.parent.toy=k,r.parent.toy.used=!1,r.parent.toy.triggers=0,(0,e.rv)(this.logService,r,`${r.name} chose a level ${g} ${D} toy.`,o.tiger,o.pteranodon),this.triggerTigerExecution(o)):this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.abilityService)}}},87647(O,S,i){function P(_,v,e,t){if(!v||!t.includes(v))return _;let n=_;for(const a of e)n+=a;return n}function c(_,v,e){if("Icky"!==v?.name)return _;let t=2;for(const n of e)t+=n;return t+=(v.multiplier??1)-1,_*t}function A(_,v,e){const t=e?.includeGhostKitten??!1,n=e?.fairyMinimumOne??!1,a=e?.fairyRequiresPositiveDamage??!0,o=e?.nurikabeConsumesOnZeroHit??!1,r=e?.fanMusselConsumesOnZeroHit??!1;let d=v,g=0,f=0,D=0,k=0;const L=!a||d>0;if(_.hasTrigger(void 0,"Pet","FairyAbility")&&L){for(const ne of _.abilityList)if("FairyAbility"==ne.name){const Q=2*ne.level;g+=Q,d=Math.max(0,d-Q)}n&&d<1&&(d=1)}if(_.hasTrigger(void 0,"Pet","NurikabeAbility")&&(d>0||o&&v<=0))for(const ne of _.abilityList)if("NurikabeAbility"==ne.name){const Q=4*ne.level;f+=Q,d>0&&(d=Math.max(0,d-Q)),ne.currentUses++}if(_.hasTrigger(void 0,"Pet","FanMusselAbility")&&(d>0||r&&v<=0))for(const ne of _.abilityList)if("FanMusselAbility"==ne.name){const Q=ne.level;D+=Q,d>0&&(d=Math.max(0,d-Q)),ne.currentUses++}if(t&&_.hasTrigger(void 0,"Pet","GhostKittenAbility")&&d>0)for(const ne of _.abilityList)if("GhostKittenAbility"==ne.name){const Q=3*ne.level;k+=Q,d=Math.max(0,d-Q)}return{damage:d,fairyBallReduction:g,nurikabe:f,fanMusselReduction:D,ghostKittenReduction:k}}i.d(S,{GH:()=>P,W6:()=>c,qw:()=>A})},87750(O,S,i){i.d(S,{q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Poodle Moth";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Poodle Moth Ability",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",maxUses:e.level,native:!0,abilitylevel:e.level,precondition:n=>{const{triggerPet:a}=n;return!!a&&a.parent===this.owner.parent},abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:n,pteranodon:a}=e,o=this.owner;t&&(t.increaseExp(3),this.logService.createLog({message:`${o.name} gave ${t.name} +3 experience after transforming.`,type:"ability",player:o.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},87942(O,S,i){i.d(S,{H:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pigeon";tier=1;pack="Turtle";attack=3;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PigeonAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked ${this.level} free Bread Crumbs.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},87955(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Hatching Chick";tier=3;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;pendingBuffs=new Map;constructor(e,t,n){super({name:"HatchingChickAbility",owner:e,triggers:["EndTurn","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger){for(const[a,o]of this.pendingBuffs)a&&(a.increaseAttack(-o.attack),a.increaseHealth(-o.health));return this.pendingBuffs.clear(),void this.triggerTigerExecution(e)}const n=t.petAhead;if(n)return 1===this.level?(n.increaseAttack(3),n.increaseHealth(3),this.pendingBuffs.set(n,{attack:3,health:3}),this.logService.createLog({message:`${t.name} gave ${n.name} +3/+3 until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e)):2===this.level?(n.increaseAttack(2),n.increaseHealth(2),this.logService.createLog({message:`${t.name} gave ${n.name} +2/+2.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e)):(n.increaseExp(1),this.logService.createLog({message:`${t.name} gave ${n.name} +1 experience.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e));this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},87970(O,S,i){i.d(S,{Z:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Rabbit";tier=3;pack="Turtle";health=2;attack=1;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"RabbitAbility",owner:t,triggers:["FoodEatenByFriendly"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,precondition:a=>{const{triggerPet:o}=a,g=(0,A.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=this.level,f=(0,A.lK)(d,a),D=f.pet;null!=D&&(D.increaseHealth(g),this.logService.createLog({message:`${d.name} gave ${D.name} ${g} health.`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},88034(O,S,i){i.d(S,{n:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Tuna";tier=3;pack="Star";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f),this.timesHurt=D??0,this.originalTimesHurt=this.timesHurt}}class _ extends c.T{logService;timesHurtOverride;constructor(e,t,n){super({name:"TunaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.timesHurtOverride=n??null}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=this.timesHurtOverride??r.timesHurt;for(let g=0;g<d;g++){const f=r.parent.getRandomPet([r],!0,!1,!0,r);if(null==f.pet)continue;const D=this.level;this.logService.createLog({message:`${r.name} gave ${f.pet.name} +${D} attack and +${D} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}),f.pet.increaseAttack(D),f.pet.increaseHealth(D)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.timesHurtOverride??this.owner.timesHurt)}}},88184(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Shoebill";tier=5;pack="Star";attack=3;health=6;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ShoebillAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;let n=t.petAhead;for(;n;){if("Strawberry"===n.equipment?.name){const a=4*this.level;n.removePerk(),n.increaseAttack(a),n.increaseHealth(a),this.logService.createLog({message:`${t.name} replaced Strawberry on ${n.name} with +${a}/+${a}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon});break}n=n.petAhead}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},88513(O,S,i){i.d(S,{v:()=>v});var P=i(46200),c=i(5615),A=i(3279),_=i(75898);class v extends P.i{logService;abilityService;name="Robin";tier=2;pack="Puppy";attack=2;health=3;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;abilityService;constructor(n,a,o){super({name:"RobinAbility",owner:n,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=o}executeAbility(n){const{tiger:r}=n,g=this.owner;let f=new A.D(this.logService,this.abilityService,g.parent,null,null,this.minExpForLevel,null);this.logService.createLog({message:`${g.name} summoned a Nest (level ${this.level}).`,type:"ability",player:g.parent,randomEvent:!1,tiger:r});let D=g.parent.summonPetInFront(g,f);D.success&&(this.logService.createLog({message:`${g.name} gave Nest an Egg.`,type:"ability",player:g.parent,randomEvent:D.randomEvent,tiger:r}),f.givePetEquipment(new _.Q(this.logService))),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},88988(O,S,i){i.d(S,{P:()=>_});var P=i(46200),c=i(5615),A=i(30357);class _ extends P.i{logService;abilityService;name="Squid";tier=2;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"SquidAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:a=>!(this.owner.parent.trumpets<1),abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=!1,f=d.parent.getPetsWithEquipmentWithSillyFallback("Inked",d),D=d.parent.opponent.getFurthestUpPets(this.level,f,d),k=D.pets;for(let L of k){if(null==L)break;g=!0,L.givePetEquipment(new A.w),this.logService.createLog({message:`${d.name} gave ${L.name} Inked.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:D.random})}g&&d.parent.spendTrumpets(1,d,r),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},89043(O,S,i){i.d(S,{B:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Opossum";tier=1;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"OpossumAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} gave a random faint pet in the shop +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},89124(O,S,i){i.d(S,{b:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Fake Nessie";tier=1;pack="Custom";hidden=!0;attack=1;health=2;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},89189(O,S,i){var P;i.d(S,{G:()=>r});var c=i(46200),A=i(5615),_=i(33127),v=i(56990),e=i(38129),t=i(74766);const n={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"},a=new Map,o=t??(P||(P=i.t(t,2)));if(Array.isArray(o))for(const g of o){if(!g||"object"!=typeof g)continue;const f=g;if(!f.Name)continue;const D=new Set;for(const k of f.Packs??[]){const L=n[k];L&&D.add(L)}D.size>0&&a.set(f.Name,D)}class r extends c.i{logService;abilityService;name="Tanystropheus";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new d(this,this.logService)),super.initAbilities()}constructor(f,D,k,L,N,q,ne,Q,$){super(f,D,k),this.logService=f,this.abilityService=D,this.initPet(ne,L,N,q,Q,$)}}class d extends A.T{logService;constructor(f,D){super({name:"Tanystropheus Ability",owner:f,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:f.level,abilityFunction:k=>this.executeAbility(k)}),this.logService=D}executeAbility(f){const{tiger:D,pteranodon:k}=f,L=this.owner,N=L.parent.pack,q=_.I.getInjector().get(v.T),ne=L.parent.petArray.some(re=>this.isPetInActivePack(re,N,q)),Q=L.parent.petArray.some(re=>this.isFoodInActivePack(re.equipment?.name,N));if(ne||Q)return void this.triggerTigerExecution(f);const $=L.parent.getRandomEnemyPetsWithSillyFallback(3,[],!1,!0,L),H=$.pets;if(!H.length)return void this.triggerTigerExecution(f);const ae=this.level;for(const re of H)re&&(re.exp=Math.max(0,(re.exp??0)-ae));this.logService.createLog({message:`${L.name} removed ${ae} XP from ${H.map(re=>re.name).join(", ")}.`,type:"ability",player:L.parent,tiger:D,pteranodon:k,randomEvent:$.random}),this.triggerTigerExecution(f)}isPetInActivePack(f,D,k){if(!k)return f.pack===D;if(e.$.includes(D))return(k.basePackPetsByName[D]?.get(f.tier)??[]).includes(f.name);const L=k.playerCustomPackPets.get(D);return L?L.get(f.tier)?.includes(f.name)??!1:f.pack===D}isFoodInActivePack(f,D){if(!f)return!1;const k=a.get(f);return!!k&&k.has(D)}copy(f){return new d(f,this.logService)}}},89407(O,S,i){i.d(S,{r:()=>A});var P=i(39156),c=i(76351);class A extends P.E{resolveTrumpetGainTarget(v){return(0,c.gq)(this,v)}gainTrumpets(v,e,t,n,a,o){(0,c.eK)(this,v,e,this.logService,t,n,a,o)}spendTrumpets(v,e,t){(0,c.ZM)(this,v,e,this.logService,t)}checkGoldenSpawn(){(0,c.rd)(this,this.abilityService,this.logService,this.gameService)}}},89443(O,S,i){i.d(S,{L:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Helmeted Hornbill";tier=6;pack="Danger";health=4;attack=5;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},89579(O,S,i){i.d(S,{d:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Blowfish";tier=4;pack="Turtle";attack=3;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BlowfishAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=3*this.level,g=r.parent.opponent.getRandomPet([],!1,!0,!1,r);g.pet&&r.snipePet(g.pet,d,g.random,a),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},89732(O,S,i){i.d(S,{K:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Swordfish";tier=5;pack="Star";attack=6;health=9;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SwordFishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,r=a.parent.opponent.getHighestHealthPet(void 0,a),d=r.pet,g=a.attack*this.level;d?(a.snipePet(d,g,r.random,t,n),this.logService.createLog({message:`${a.name} deals ${g} damage to ${d.name}.`,type:"ability",player:a.parent,sourcePet:a,targetPet:d,tiger:t,pteranodon:n,randomEvent:r.random})):this.logService.createLog({message:`${a.name} could not find an enemy to attack.`,type:"ability",player:a.parent,sourcePet:a,tiger:t,pteranodon:n}),a.snipePet(a,g,!1,t,n),this.logService.createLog({message:`${a.name} deals ${g} damage to itself.`,type:"ability",player:a.parent,sourcePet:a,targetPet:a,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},90021(O,S,i){i.d(S,{A:()=>_});var P=i(46200),c=i(14787),A=i(5615);class _ extends P.i{logService;abilityService;name="Cockroach";tier=1;pack="Star";attack=1;health=1;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"CockroachAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner,g=this.level,f=new c.s(this.logService,this.abilityService,d.parent,1,1,0,0);let D=d.parent.summonPet(f,d.savedPosition,!1,d);if(D.success){this.logService.createLog({message:`${d.name} summoned a 1/1 Cockroach.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:D.randomEvent});let k=d.parent.getSpecificPet(d,f);k.pet.increaseExp(g),this.logService.createLog({message:`${d.name} gave ${k.pet.name} +${g} exp.`,type:"ability",player:d.parent,tiger:o,randomEvent:k.random})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},90285(O,S,i){i.d(S,{C:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Chipmunk";tier=1;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ChipmunkAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.equipment,a=this.level;if(!n)return this.logService.createLog({message:`${t.name} had no food perk to stock.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e);this.logService.createLog({message:`${t.name} stocked ${a} free ${n.name}${1===a?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},90340(O,S,i){i.d(S,{A:()=>c});const c=function P(A){return this.__data__.get(A)}},90417(O,S,i){i.d(S,{M:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Ili Pika";tier=1;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"IliPikaAbility",owner:t,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const{triggerPet:o}=a,g=(0,A.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=(0,A.lK)(d,a),f=g.pet;if(!f)return;let D=1*this.level;f.attack>f.health?(f.increaseAttack(D),this.logService.createLog({message:`${d.name} give ${D} attack to ${f.name}.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random})):(f.increaseHealth(D),this.logService.createLog({message:`${d.name} give ${D} health to ${f.name}.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random})),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},90771(O,S,i){i.d(S,{m:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;petService;name="Bonobo";tier=4;pack="Danger";attack=3;health=3;constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}},90966(O,S,i){i.d(S,{m:()=>t});var P=i(83028),c=i(47868),A=i(24111),_=i(49230),v=i(1744),e=i(94185);class t{logService;abilityService;gameService;equipmentFactory;cachedEquipment=null;cachedAilments=null;constructor(a,o,r,d){this.logService=a,this.abilityService=o,this.gameService=r,this.equipmentFactory=d,this.logService=(0,P.V)(this.logService)}getInstanceOfAllEquipment(){return this.cachedEquipment||(this.cachedEquipment=this.equipmentFactory.getAllEquipment()),this.cachedEquipment}getInstanceOfAllAilments(){return this.cachedAilments||(this.cachedAilments=this.equipmentFactory.getAllAilments()),this.cachedAilments}isEquipmentRandom(a){const o=this.getInstanceOfAllEquipment(),r=this.getInstanceOfAllAilments();return(o.get(a)?.hasRandomEvents??!1)||(r.get(a)?.hasRandomEvents??!1)}static USEFUL_PERKS=new Map([["Honey",1],["Strawberry",1],["Egg",1],["Cake Slice",1],["Cashew Nut",1],["Nachos",1],["Lime",2],["Meat Bone",2],["Cherry",2],["Bok Choy",2],["Kiwifruit",2],["Fairy Dust",2],["Garlic",3],["Gingerbread Man",3],["Fig",3],["Cucumber",3],["Croissant",3],["Squash",3],["Banana",4],["Love Potion",4],["Pie",4],["Grapes",4],["Cheese",4],["Cod Roe",4],["Salt",4],["Fortune Cookie",4],["Easter Egg",5],["Magic Beans",5],["Chili",5],["Lemon",5],["Durian",5],["Honeydew Melon",5],["Maple Syrup",4],["Cocoa Bean",5],["White Okra",5],["Popcorn",6],["Steak",6],["Pancakes",6],["Yggdrasil Fruit",6],["Melon",6],["Tomato",6],["Sudduth Tomato",6],["Pita Bread",6],["Seaweed",5],["Caramel",4],["Baguette",4]]);isUsefulPerk(a){return t.USEFUL_PERKS.has(a)}getUsefulPerksByTier(a){const o=this.getInstanceOfAllEquipment(),r=[];for(const[d,g]of t.USEFUL_PERKS.entries())g===a&&o.has(d)&&r.push(o.get(d));return r}getUsefulPerks(){const a=this.getInstanceOfAllEquipment(),o=[];for(const r of t.USEFUL_PERKS.keys())a.has(r)&&o.push(a.get(r));return o}static \u0275fac=function(o){return new(o||t)(c.KVO(A.K),c.KVO(_.K),c.KVO(v.w),c.KVO(e.c))};static \u0275prov=c.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}},91039(O,S,i){i.d(S,{j:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Jersey Devil";tier=5;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;pendingBuffs=new Map;constructor(t,n){super({name:"JerseyDevilAbility",owner:t,triggers:["FriendSummoned","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{gameApi:n,triggerPet:a,tiger:o,pteranodon:r}=t,d=this.owner;if("EndTurn"===t.trigger)return this.resetBuffs(),void this.triggerTigerExecution(t);if(!a)return;let f=d.parent===n.player?n.playerLevel3Sold:n.opponentLevel3Sold;f=Math.min(f??0,5);const D=this.level*f,k=(0,A.Uj)(d,a,(q,ne)=>q.parent.getSpecificPet(q,ne));if(!k.pet||D<=0)return;const L=k.pet;L.increaseAttack(D),L.increaseHealth(D);const N=this.pendingBuffs.get(L)??{attack:0,health:0};this.pendingBuffs.set(L,{attack:N.attack+D,health:N.health+D}),(0,A.rv)(this.logService,d,`${d.name} gave ${L.name} ${D} attack and ${D} health until next turn.`,o,r,{randomEvent:k.random}),this.triggerTigerExecution(t)}resetBuffs(){for(const[t,n]of this.pendingBuffs)t&&(n.attack&&t.increaseAttack(-n.attack),n.health&&t.increaseHealth(-n.health));this.pendingBuffs.clear()}copy(t){return new v(t,this.logService)}}},91066(O,S,i){i.d(S,{e:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Black Bear";tier=6;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;foodsEatenThisTurn=0;seededFromShop=!1;constructor(e,t){super({name:"Black Bear Ability",owner:e,triggers:["StartTurn","FoodEatenByThis","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.foodsEatenThisTurn=0,void(this.seededFromShop=!1);if(!this.seededFromShop){const n=t.foodsEaten??0;n>0&&(this.foodsEatenThisTurn=Math.max(this.foodsEatenThisTurn,n)),this.seededFromShop=!0}if("FoodEatenByThis"!==e.trigger){if("PostRemovalFaint"===e.trigger){const a=4*this.level*this.foodsEatenThisTurn;if(a<=0)return void this.triggerTigerExecution(e);const o=t.parent.getRandomEnemyPetsWithSillyFallback(1,[],!1,!0,t),r=o.pets[0];if(!r)return void this.triggerTigerExecution(e);t.dealDamage(r,a),this.logService.createLog({message:`${t.name} dealt ${a} damage to ${r.name} after eating ${this.foodsEatenThisTurn} food item${1===this.foodsEatenThisTurn?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:o.random}),this.triggerTigerExecution(e)}}else this.foodsEatenThisTurn++}copy(e){return new _(e,this.logService)}}},91298(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Crocodile";tier=5;pack="Turtle";attack=8;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CrocodileAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;for(let d=0;d<this.level;d++){let g=r.parent.opponent.getLastPet(void 0,r),f=g.pet;f&&r.snipePet(f,8,g.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},91442(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Gazelle";tier=3;pack="Custom";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;pendingAttackBuff=0;pendingHealthBuff=0;constructor(e,t){super({name:"Gazelle Ability",owner:e,triggers:["StartTurn","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{trigger:t,gameApi:n,tiger:a,pteranodon:o}=e,r=this.owner;"StartTurn"===t?this.applyBonus(n,r,a,o):"EndTurn"===t&&this.removeBonus(r)}applyBonus(e,t,n,a){const r=Math.max(0,((t.parent===e?.player?e.playerGoldSpent:e?.opponentGoldSpent)??0)-10);if(r<=0)return this.pendingAttackBuff=0,void(this.pendingHealthBuff=0);const f=r*[2,4,6][Math.min(this.level-1,2)],D=r*[1,2,3][Math.min(this.level-1,2)];t.increaseAttack(f),t.increaseHealth(D),this.pendingAttackBuff=f,this.pendingHealthBuff=D,this.logService.createLog({message:`${t.name} gained +${f}/+${D} (per gold over 10) from ${r} gold.`,type:"ability",player:t.parent,tiger:n,pteranodon:a})}removeBonus(e){(0!==this.pendingAttackBuff||0!==this.pendingHealthBuff)&&(e.increaseAttack(-this.pendingAttackBuff),e.increaseHealth(-this.pendingHealthBuff),this.pendingAttackBuff=0,this.pendingHealthBuff=0)}copy(e){return new _(e,this.logService)}}},91543(O,S,i){i.d(S,{Q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Banggai Cardinalfish";tier=5;pack="Danger";attack=4;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BanggaiCardinalfishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=6*this.level,f=r.parent.getAll(!0,r,!0);for(let D of f.pets){let k=Math.max(D.attack-d,4);D.attack=k,this.logService.createLog({message:`${r.name} reduced ${D.name} attack by ${d} to ${k}.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},91576(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="California Condor";tier=6;pack="Danger";attack=10;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}class _ extends c.T{logService;constructor(e,t){super({name:"CaliforniaCondorAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let d=n;!d||"California Condor"===d.baseName||"California Condor"===d.name||(this.logService.createLog({message:`California Condor copied ${d.name}'s level ${r.level} ability`,type:"ability",player:r.parent,tiger:a}),r.gainAbilities(d,"Pet"),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},91589(O,S,i){i.d(S,{B:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;name="Elk";tier=4;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;abilityService;constructor(a,o,r){super({name:"ElkAbility",owner:a,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.abilityService=r}executeAbility(a){const o=this.owner,r=o.parent.petArray.filter(D=>D.alive&&D.isSellPet());if(0===r.length)return void this.triggerTigerExecution(a);const d=(0,A.k6)({key:"pet.elk-end-turn-target",label:(0,v.I)(o,"Elk end turn sell target"),options:r.map(D=>({id:`${D.savedPosition+1}:${D.name}`,label:`P${D.savedPosition+1} ${D.name}`}))},()=>(0,_.hw)(0,r.length-1)),g=r[d.index],f=2*this.level;g.increaseSellValue(f),this.logService.createLog({message:`${o.name} increased ${g.name}'s sell value by ${f}.`,type:"ability",player:o.parent,tiger:a.tiger,pteranodon:a.pteranodon,randomEvent:d.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},91679(O,S,i){let P;function c(){return P}function A(n){const a=P;return P=n,a}i.d(S,{Af:()=>c,c4:()=>t,mu:()=>A});const v=Symbol("NotFound");function t(n){return n===v||"\u0275NotFound"===n?.name}Error},91946(O,S,i){i.d(S,{X:()=>A,j:()=>_});var P=i(50873),c=i(5615);class A extends P.L{name="Cash Register";tier=4;onBreak(e){}}class _ extends c.T{constructor(e,t){super({name:"CashRegisterAbility",triggers:[],owner:e,abilityType:"Pet",abilityFunction:n=>{}})}}},91982(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Hawk";tier=4;pack="Star";attack=5;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HawkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getOppositeEnemyPet(r),g=d.pet;g&&r.snipePet(g,7*this.level,d.random,a),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},92060(O,S,i){i.d(S,{y:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Sea Turtle";tier=2;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"SeaTurtleAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o,pteranodon:r}=t,d=this.owner,g=2*this.level,f=(0,A.Uj)(d,a);if(!f.pet)return;const D=f.pet;D.increaseHealth(g),(0,A.rv)(this.logService,d,`${d.name} gave ${D.name} ${g} health.`,o,r,{randomEvent:f.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},92083(O,S,i){i.d(S,{Y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Lioness";tier=6;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;usesThisTurn=0;constructor(e,t){super({name:"LionessAbility",owner:e,triggers:["StartTurn","FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,{trigger:n,triggerPet:a,tiger:o,pteranodon:r}=e;if("StartTurn"===n)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if("FriendSold"!==n)return void this.triggerTigerExecution(e);if(this.usesThisTurn>=2)return void this.triggerTigerExecution(e);this.usesThisTurn++;const d=a?.tier??t.tier,g=t.parent.futureShopBuffs??new Map,f=g.get(d)??{attack:0,health:0};f.attack+=this.level,f.health+=this.level,g.set(d,f),t.parent.futureShopBuffs=g,this.logService.createLog({message:`${t.name} gave future tier ${d} shop pets +${this.level}/+${this.level} (uses ${this.usesThisTurn}/2 this turn).`,type:"ability",player:t.parent,tiger:o,pteranodon:r}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},92101(O,S,i){function P(c){c.health=c.originalHealth,c.attack=c.originalAttack,c.equipment=c.originalEquipment,c.lastLostEquipment=null,c.mana=c.originalMana,c.triggersConsumed=c.originalTriggersConsumed,c.foodsEaten=c.originalFoodsEaten,c.exp=c.originalExp,c.timesHurt=c.originalTimesHurt,c.timesAttacked=0,c.abilityCounter=0,c.transformed=!1,c.transformedInto=null,c.currentTarget=null,c.lastAttacker=null,c.killedBy=null,c.swallowedPets=[],c.targettedFriends.clear(),c.savedPosition=c.originalSavedPosition,c.abilityList=[...c.originalAbilityList],c.initAbilityUses(),c.done=!1,c.seenDead=!1,c.removed=!1,c.jumped=!1,c.clearFrontTriggered=!1;try{c.equipment?.reset()}catch(A){console.warn("equipment reset failed",c.equipment),console.error(A)}c.equipment&&(c.equipment.multiplier=c.equipment.baseMultiplier??1,c.equipment.multiplierMessage="")}i.d(S,{O:()=>P})},92244(O,S,i){i.d(S,{_:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Tiger";tier=6;pack="Turtle";attack=6;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"TigerAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){}copy(e){return new _(e,this.logService,this.abilityService)}}},92248(O,S,i){i.d(S,{X:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Panther";tier=5;pack="Puppy";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"PantherAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},92495(O,S,i){i.d(S,{W:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Horse";tier=1;pack="Turtle";health=1;attack=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"HorseAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o,pteranodon:r}=t,d=this.owner,g=(0,A.Uj)(d,a);if(!g.pet)return;const f=g.pet;f.increaseAttack(this.level),(0,A.rv)(this.logService,d,`${d.name} gave ${f.name} ${this.level} attack`,o,r,{randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},92661(O,S,i){i.d(S,{A:()=>v});var P=i(63080),c=i(42661);const v=function _(e){return(0,c.A)(e)&&"[object Set]"==(0,P.A)(e)}},92943(O,S,i){i.d(S,{A:()=>v});var P=i(59320),c=i(73180),A=i(86568);const v=function _(){this.size=0,this.__data__={hash:new P.A,map:new(A.A||c.A),string:new P.A}}},92952(O,S,i){i.d(S,{J:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Cooked Roach";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},92990(O,S,i){i.d(S,{_:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dimetrodon";tier=3;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class _ extends P.i{logService;abilityService;name="Dimetrodon";tier=3;pack="Custom";hidden=!0;constructor(t,n,a,o,r,d,g,f){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,null,f)}initAbilities(){}}class v extends c.T{logService;constructor(t,n){super({name:"Dimetrodon Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=this.level,d=5*r,f=new _(this.logService,o.abilityService,o.parent,d,d);if(o.parent.summonPet(f,o.position).success)this.logService.createLog({message:`${o.name} summoned a ${d}/${d} Dimetrodon.`,type:"ability",player:o.parent,tiger:n,pteranodon:a});else{const k=r,L=o.parent.petArray.filter(N=>N&&N!==o);for(const N of L)N.increaseAttack(k),N.increaseHealth(k);L.length>0&&this.logService.createLog({message:`${o.name} gave friends +${k}/+${k}.`,type:"ability",player:o.parent,tiger:n,pteranodon:a})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},93012(O,S,i){i.d(S,{A:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Amsterdam Albatross";tier=6;pack="Danger";attack=3;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"AmsterdamAlbatrossAbility",owner:t,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,precondition:a=>{const{triggerPet:o}=a,g=(0,A.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=2*d.level,f=2*d.level,k=(0,A.lK)(d,a).pet;null!=k&&(k.increaseAttack(g),k.increaseHealth(f),this.logService.createLog({message:`${d.name} gave ${k.name} +${g} attack and +${f} health.`,type:"ability",player:d.parent,tiger:o}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},93311(O,S,i){i.d(S,{T:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Eagle Owl";tier=6;pack="Custom";attack=8;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Eagle Owl Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=Math.max(0,t.battlesFought??0);if(n<=0)return void this.triggerTigerExecution(e);const o=n*this.level,r=t.parent.getRandomPets(3,[t],!0,!1,t),d=r.pets;if(0!==d.length){for(const g of d)g.increaseAttack(o),g.increaseHealth(o);this.logService.createLog({message:`${t.name} gave ${d.map(g=>g.name).join(", ")} +${o}/+${o} after fighting ${n} battle${1===n?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:r.random}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},93348(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Guineafowl";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GuineafowlAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{pteranodon:o}=e,r=this.owner;let d=2*this.level;const g=r.parent.resolveTrumpetGainTarget(r);g.player.gainTrumpets(d,r,o,void 0,void 0,g.random),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},93365(O,S,i){i.d(S,{p:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;name="Spotted Handfish";tier=2;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new t(this)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{constructor(a){super({name:"Spotted Handfish Ability",owner:a,triggers:["StartTurn"],abilityType:"Pet",abilitylevel:a.level,abilityFunction:o=>this.executeAbility(o)})}executeAbility(a){const{gameApi:o}=a,r=this.owner,d=this.level,g=["Cold","Crisp","Dazed","Icky","Inked","Spooked","Weak","Silly","Bloated","Confused","Cursed","Sad","Sleepy","Webbed"];for(let f=0;f<d;f++){const D=(0,A.k6)({key:"pet.spotted-handfish-ailment",label:(0,v.I)(r,"Spotted Handfish canned ailment",f+1),options:g.map(L=>({id:L,label:L}))},()=>(0,_.hw)(0,g.length-1)),k=g[D.index];r.parent.cannedAilments.push(k),o?.logService?.createLog({message:`${r.name} stocked a canned ${k}.`,type:"ability",player:r.parent,randomEvent:D.randomEvent})}this.triggerTigerExecution(a)}copy(a){return new t(a)}}},93525(O,S,i){i.d(S,{B:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Hawaiian Monk Seal";tier=5;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HawaiianMonkSealAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let d=r.parent.getSpecificPet(r,n),g=d.pet;if(g&&!r.targettedFriends.has(g)){if(r.targettedFriends.size<3&&g.alive){let f=2*r.level;g.increaseHealth(f),r.targettedFriends.add(g),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} health`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},93533(O,S,i){i.d(S,{G:()=>v,q:()=>_});var P=i(40482),c=i(50873),A=i(5615);class _ extends c.L{logService;toyService;petService;gameService;name="Microwave Oven";tier=2;startOfBattle(t,n){let a=this.parent.getPetsWithEquipment("perk"),r=this.parent.getFurthestUpPets(this.level,a).pets;if(0!=r.length)for(let d of r)this.logService.createLog({message:`${this.name} gave ${d.name} Popcorn.`,type:"ability",player:this.parent,puma:n}),d.givePetEquipment(new P.m(this.logService,this.petService,this.gameService))}constructor(t,n,a,o,r,d){super(t,n,a,o),this.logService=t,this.toyService=n,this.petService=r,this.gameService=d}}class v extends A.T{constructor(t,n,a){super({name:"MicrowaveOvenAbility",triggers:["StartBattle"],owner:t,abilityType:"Pet",abilityFunction:o=>{const{puma:r}=o;let d=t.parent.getPetsWithEquipment("perk"),f=t.parent.getFurthestUpPets(this.abilityLevel,d,t).pets;if(0!=f.length)for(let D of f){n.createLog({message:`${t.name} gave ${D.name} Popcorn (Microwave Oven).`,type:"ability",player:t.parent,puma:r});const k=a.getInstanceOfAllEquipment().get("Popcorn");D.givePetEquipment(k)}}})}}},93584(O,S,i){i.d(S,{h:()=>A});var P=i(46200),c=i(5615);class A extends P.i{constructor(e,t,n){super(e,t,n),this.name="Brazillian Treehopper",this.tier=3,this.pack="Custom",this.attack=2,this.health=3}initAbilities(){this.abilityList=[new _(this,this.logService)],super.initAbilities()}}class _ extends c.T{logService;constructor(e,t){super({name:"Brazillian Treehopper Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,d=a.parent.getRandomEnemyPetsWithSillyFallback(2*this.level,[],!1,!1,a).pets;if(d.length>1){let g=0,f=0;for(const L of d)g+=L.attack,f+=L.health;const D=Math.floor(g/d.length),k=Math.floor(f/d.length);for(const L of d)L.attack=Math.max(1,D),L.health=Math.max(1,k);this.logService.createLog({message:`${a.name} averaged stats of ${d.length} enemies to ${D}/${k}.`,type:"ability",player:a.parent,tiger:t,pteranodon:n})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},93614(O,S,i){i.d(S,{l:()=>A,v:()=>_});var P=i(50873),c=i(5615);class A extends P.L{name="Flashlight";tier=5;onBreak(e,t){let n=5*this.level,a=this.parent.furthestUpPet;null!=a&&(a.increaseAttack(n),a.increaseHealth(n),this.logService.createLog({message:`${this.name} gave ${a.name} ${n} attack and ${n} health.`,type:"ability",player:this.parent,puma:t}))}}class _ extends c.T{logService;constructor(e,t){super({name:"FlashlightAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=5*this.level,g=r.parent.getFurthestUpPet(r),f=g.pet;null!=f&&(f.increaseAttack(d),f.increaseHealth(d),this.logService.createLog({message:`Flashlight Ability gave ${f.name} ${d} attack and ${d} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},93699(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Taita Thrush";tier=5;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TaitaThrushAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=this.level,g=r.parent.getAll(!1,r,!0);for(let f of g.pets)f.increaseAttack(d),f.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${f.name} +${d} attack and +${d} health`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random});this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},94185(O,S,i){var P,c;i.d(S,{c:()=>N});var A=i(56990),_=i(33127),v=i(85063),e=i(74766),t=i(98935),n=i(83028),a=i(47868),o=i(24111),r=i(49230),d=i(1744);const g=new Map([["Blueberry",1],["Golden Egg",1],["Gros Michel Banana",1],["Health Potion",1],["Honey",1],["Macaron",1],["Unagi",1],["Caramel",2],["Cherry",2],["Chocolate Cake",2],["Churros",2],["Cod Roe",2],["Eucalyptus",2],["Faint Bread",2],["Fairy Dust",2],["Meat Bone",2],["Radish",2],["Sudduth Tomato",2],["Brussels Sprout",3],["Cucumber",3],["Fig",3],["Gingerbread Man",3],["Pineapple",3],["Rambutan",3],["Sausage",3],["Seaweed",3],["White Truffle",3],["Baguette",4],["Banana",4],["Cauliflower",4],["Cheese",4],["Donut",4],["Fortune Cookie",4],["Grapes",4],["Melon Slice",4],["Oyster Mushroom",4],["Potato",4],["Carrot",5],["Chili",5],["Durian",5],["Easter Egg",5],["Eggplant",5],["Kiwano",5],["Magic Beans",5],["Onion",4],["Pepper",5],["Mild Chili",4],["Popcorn",6],["Sardinian Currant",6],["Yggdrasil Fruit",6]]),f=[{pattern:/^Start of turn:/i,trigger:"StartTurn"},{pattern:/^End turn:/i,trigger:"EndTurn"},{pattern:/^Before battle:/i,trigger:"BeforeStartBattle"},{pattern:/^Start of battle:/i,trigger:"StartBattle"},{pattern:/^Before attack:/i,trigger:"BeforeThisAttacks"},{pattern:/^Faint:/i,trigger:"Faint"},{pattern:/^Hurt:/i,trigger:"ThisHurt"},{pattern:/^Anyone attacks:/i,trigger:"AnyoneAttack"},{pattern:/^Empty front space:/i,trigger:"EmptyFrontSpace"},{pattern:/^Knock out:/i,trigger:"KnockOut"}],D=t??(c||(c=i.t(t,2))),k=new Map((D??[]).filter(q=>q?.Name).map(q=>{const Q=[],$=(q.Ability??"").trim();for(const{pattern:H,trigger:ae}of f)H.test($)&&!Q.includes(ae)&&Q.push(ae);return[q.Name,Q]}));function L(q,ne){if(!q)return;const Q=k.get(ne);Q&&Q.length&&(q.triggers=[...Q])}let N=(()=>{class q{logService;abilityService;gameService;randomEquipmentSet=new Set;constructor(Q,$,H){this.logService=Q,this.abilityService=$,this.gameService=H,this.logService=(0,n.V)(this.logService),this.initRandomEquipment()}initRandomEquipment(){const Q=e??(P||(P=i.t(e,2)));if(Array.isArray(Q))for(const $ of Q)$&&"object"==typeof $&&!0===$.Random&&"string"==typeof $.Name&&this.randomEquipmentSet.add($.Name)}getAllEquipment(){const Q=_.I.getInjector().get(A.T),$=new Map,H={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService,petService:Q};for(const[ae,re]of Object.entries(v.EA)){const _e=new re;this.randomEquipmentSet.has(ae)&&(_e.hasRandomEvents=!0),L(_e,ae),$.set(ae,_e)}for(const[ae,re]of Object.entries(v.xd)){const _e=new re(this.logService);this.randomEquipmentSet.has(ae)&&(_e.hasRandomEvents=!0),L(_e,ae),$.set(ae,_e)}for(const[ae,re]of Object.entries(v.Nb)){const _e=new re(this.logService,this.abilityService);this.randomEquipmentSet.has(ae)&&(_e.hasRandomEvents=!0),L(_e,ae),$.set(ae,_e)}for(const[ae,re]of Object.entries(v._y)){const _e=re(H);this.randomEquipmentSet.has(ae)&&(_e.hasRandomEvents=!0),L(_e,ae),$.set(ae,_e)}for(const[ae,re]of $.entries())if(null==re?.tier){const _e=g.get(ae);null!=_e&&(re.tier=_e)}return $}getAllAilments(){const Q=new Map,$={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService,petService:null};for(const[H,ae]of Object.entries(v.RY)){const re=new ae;this.randomEquipmentSet.has(H)&&(re.hasRandomEvents=!0),L(re,H),Q.set(H,re)}for(const[H,ae]of Object.entries(v.G1)){const re=ae($);this.randomEquipmentSet.has(H)&&(re.hasRandomEvents=!0),L(re,H),Q.set(H,re)}return Q}static \u0275fac=function($){return new($||q)(a.KVO(o.K),a.KVO(r.K),a.KVO(d.w))};static \u0275prov=a.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})()},94225(O,S,i){i.d(S,{w:()=>A});var P=i(30357),c=i(50873);class A extends c.L{name="Pen";tier=1;startOfBattle(v,e){const t=this.parent.getFurthestUpPets(2);for(const n of t.pets)n.givePetEquipment(new P.w),this.logService.createLog({message:`${this.name} gave ${n.name} Inked.`,type:"ability",player:this.parent,puma:e,randomEvent:t.random})}}},94226(O,S,i){i.d(S,{A:()=>_});var P=i(45525),c=i(1860);const _=(0,P.A)(c.A,"Set")},94402(O,S,i){i.d(S,{A:()=>A});var P=i(50336);const A=function c(_){var v=this.__data__,e=(0,P.A)(v,_);return e<0?void 0:v[e][1]}},94433(O,S,i){i.d(S,{P:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Monkey";tier=5;pack="Turtle";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MonkeyAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,n=t.parent.getFurthestUpPet(t),a=n.pet;if(!a)return void this.triggerTigerExecution(e);const o=2*this.level;a.increaseAttack(o),a.increaseHealth(o),this.logService.createLog({message:`${t.name} gave ${a.name} +${o} attack and +${o} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},94528(O,S,i){i.d(S,{A:()=>c});const c=function P(A,_){var v=-1,e=A.length;for(_||(_=Array(e));++v<e;)_[v]=A[v];return _}},94640(O,S,i){i.d(S,{F:()=>c});var P=i(50873);class c extends P.L{name="Scale";tier=1;abominationHasBehemoth(_){return"Abomination"===_?.name&&[1,2,3].some(v=>"Behemoth"===_[`abominationSwallowedPet${v}`])}getAttackCap(_){return"Behemoth"===_?.name||this.abominationHasBehemoth(_)?100:50}getHealthCap(_){return"Behemoth"===_?.name||"Giant Tortoise"===_?.name||this.abominationHasBehemoth(_)?100:50}startOfBattle(_,v){const e=_?.turnNumber??1;for(const t of this.parent.petArray){const n=Math.min(e,this.getAttackCap(t)),a=Math.min(e,this.getHealthCap(t)),o=n-t.attack,r=a-t.health;0!==o&&t.increaseAttack(o),0!==r&&t.increaseHealth(r),this.logService.createLog({message:`${this.name} set ${t.name} to ${n}/${a}.`,type:"ability",player:this.parent,puma:v})}}}},94798(O,S,i){i.d(S,{s:()=>P});const P={iriomoteCat:{1:["Ant","Mosquito","Cricket","Moth","Beetle","Chihuahua","Cockroach","Hummingbird","Frilled Dragon","Farmer Mouse","Budgie","Groundhog","Cone Snail","Goose","Barghest","Tsuchinoko","Alchemedes","Bunyip","Sneaky Egg","Ethiopian Wolf","African Wild Dog","Volcano Snail","Pygmy Seahorse","Nudibranch"],2:["Crab","Hedgehog","Flamingo","Spider","Robin","Beluga Sturgeon","Stork","Bass","Panda","Seahorse","Roadrunner","Mink","Meerkat","Black Necked Stilt","Sea Urchin","Honduran White Bat","Frost Wolf","Ogopogo","Thunderbird","Bigfoot","Takhi","White-Bellied Heron","Taita Shrew","Nightcrawler","Pink Robin","Fruit Fly","Olm","Tadpole","Thorny Dragon"],3:["Dodo","Dolphin","Sheep","Hoopoe Bird","Pug","Anteater","Eel","Bear","Farmer Pig","Brazillian Treehopper","Flea","Weasel","Osprey","Blue Dragon","Betta Fish","Skeleton Dog","Mandrake","Fur-Bearing Trout","Mana Hound","Roloway Monkey","Amami Rabbit","Hirola","Tucuxi","Tree Kangaroo","Slime","Dimetrodon","Gerenuk","Pangasius","Vampire Parrot"]},radish:{1:["Walnut","Honey","Egg","Strawberry"],2:["Meat Bone","Lime","Caramel","Bok Choy","Fairy Dust","Faint Bread","Cod Roe"],3:["Garlic","Squash","Seaweed","Fig","Brussels Sprout"],4:["Fortune Cookie","Salt","Baguette","Cheese","Banana","Ambrosia"],5:["Chili","Lemon","Pepper","Durian","Honeydew Melon","Easter Egg"],6:["Steak","Melon","Pita Bread","Tomato","Yggdrasil Fruit","Popcorn","White Okra"]},rolowayMonkey:["Peacock","Camel","Porcupine","Lizard","Guineafowl"],goldenTamarin:["Crocodile","Tarantula Hawk","Red Dragon","Werewolf","Snow Leopard","Sea Cucumber"],bayCat:["Skunk","Fossa","Hawk","Lynx","Platybelodon","Kraken","Tasmanian Devil","Humphead Wrasse"]}},95006(O,S,i){i.d(S,{T:()=>c});var P=i(70762);function c(v,e){return function(n){if("function"!=typeof v)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new A(v,e))}}class A{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new _(e,this.project,this.thisArg))}}class _ extends P.v{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},95015(O,S,i){i.d(S,{Y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Manatee";tier=4;pack="Golden";attack=2;health=11;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ManateeAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.petAhead,a=2*this.level,o=this.level;t.dealDamage(t,5),n?(n.increaseAttack(a),n.increaseHealth(o),this.logService.createLog({message:`${t.name} took 5 damage and gave ${n.name} +${a}/+${o}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})):this.logService.createLog({message:`${t.name} took 5 damage.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},95033(O,S,i){i.d(S,{Y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Togian Babirusa";tier=1;pack="Danger";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TogianBabirusaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.opponent.getRandomPet([],!1,!1,!1,r);d.pet&&(d.pet.increaseHealth(1),this.logService.createLog({message:`${r.name} gave ${d.pet.name} +1 health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},95244(O,S,i){i.d(S,{H:()=>v});var P=i(22097),c=i(64888),A=i(72560),_=i(5615);class v extends P.${logService;abilityService;name="Yggdrasil Fruit";equipmentClass="afterFaint";callback=n=>{n.addAbility(new e(n,this,this.logService,this.abilityService))};constructor(n,a){super(),this.logService=n,this.abilityService=a}}class e extends _.T{equipment;logService;abilityService;constructor(n,a,o,r){super({name:"YggdrasilFruitAbility",owner:n,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:d=>{this.executeAbility(d)}}),this.equipment=a,this.logService=o,this.abilityService=r}executeAbility(n){const a=this.owner;for(let o=0;o<this.equipment.multiplier;o++){let r=new c.l(this.logService,this.abilityService,a.parent,5,5,0),d=new A.c(this.logService,this.abilityService,a.parent,5,5,0),g=o>0?this.equipment.multiplierMessage:"";a.parent.summonPet(r,a.savedPosition).success&&this.logService.createLog({message:`${a.name} Spawned Tandgnost (Yggdrasil Fruit)${g}`,type:"ability",player:a.parent}),a.parent.summonPet(d,a.savedPosition).success&&this.logService.createLog({message:`${a.name} Spawned Tandgrisner (Yggdrasil Fruit)${g}`,type:"ability",player:a.parent})}}}},95313(O,S,i){i.d(S,{q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bunyip";tier=1;pack="Unicorn";attack=3;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BunyipAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:a}=e,r=this.owner;let g;g=r.parent==t.player?t.playerRollAmount:t.opponentRollAmount,g=Math.min(2,g)*this.level;let D=r.parent.getThis(r).pet;null!=D&&(D.increaseHealth(g),this.logService.createLog({message:`${r.name} gave ${D.name} ${g} health.`,type:"ability",player:r.parent,tiger:a}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},95365(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Meerkat";tier=2;pack="Golden";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MeerkatAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:a,pteranodon:o}=e,r=this.owner;let d;d=r.parent==t.player?t.playerGoldSpent:t.opponentGoldSpent;let g=Math.floor(d/4)*this.level,f=r.parent.nearestPetsBehind(1,r),D=r.parent.nearestPetsAhead(1,r);if(D.pets.length>0){let k=D.pets[0];k.increaseAttack(g),this.logService.createLog({message:`${r.name} gave ${k.name} ${g} attack.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:D.random})}if(f.pets.length>0){let k=f.pets[0];k.increaseAttack(g),this.logService.createLog({message:`${r.name} gave ${k.name} ${g} attack.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:f.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},95395(O,S,i){i.d(S,{n:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Golden Beetle";tier=2;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GoldenBeetleAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level*(t.attack>=10?3:1)} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},95573(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Ram";tier=1;pack="Turtle";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"RamAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},95621(O,S,i){i.d(S,{x:()=>c});var P=i(50873);class c extends P.L{name="Soccer Ball";tier=1;startOfBattle(_,v){const e=_?.turnNumber??1;let t=1;e>2&&(t=2),e>4&&(t=3),e>6&&(t=4),e>8&&(t=5),e>10&&(t=6);for(const n of this.parent.petArray)n.tier===t&&(n.health=0,this.logService.createLog({message:`${this.name} knocked out ${n.name}.`,type:"ability",player:this.parent,puma:v}))}}},95624(O,S,i){i.d(S,{S:()=>A});var P=i(57488),c=i(50873);class A extends c.L{name="Pill Bottle";tier=1;startOfBattle(v,e){const t=this.parent.getFurthestUpPets(2);for(const o of t.pets)o.health=0,this.logService.createLog({message:`${this.name} knocked out ${o.name}.`,type:"ability",player:this.parent,puma:e});const a=(0,P.a)(v,this.parent).getFurthestUpPets(1).pets[0];a&&(a.health=0,this.logService.createLog({message:`${this.name} knocked out ${a.name}.`,type:"ability",player:this.parent,puma:e}))}}},95626(O,S,i){i.d(S,{V:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Chupacabra";tier=2;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ChupacabraAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;for(let d=0;d<2*this.level;d++){let g=r.parent.getRandomPet([r],!0,!1,!0,r);if(null==g.pet)return;g.pet.increaseHealth(1),this.logService.createLog({message:`${r.name} gave ${g.pet.name} 1 health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},95695(O,S,i){i.d(S,{d:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Atlantic Puffin";tier=2;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AtlanticPuffinAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>{const{triggerPet:a}=n;return!(!a||"Strawberry"!=a.equipment?.name)},abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;this.logService.createLog({message:`${r.name} removed ${n.name}'s ${n.equipment.name}.`,type:"ability",player:r.parent,tiger:a}),n.removePerk();let d=2*r.level,g=r.parent.opponent.getLastPet(),f=g.pet;null!=f&&(r.snipePet(f,d,g.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},95768(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mimic Octopus";tier=6;pack="Star";attack=4;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MimicOctopusAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.opponent.getLowestHealthPets(r.level,void 0,r);for(let g of d.pets)r.snipePet(g,4,d.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},95770(O,S,i){i.d(S,{F:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dodo";tier=3;pack="Turtle";health=2;attack=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DodoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.nearestPetsAhead(1,r);if(0===d.pets.length)return;let g=d.pets[0],f=Math.floor(r.attack*(.5*this.level));g.increaseAttack(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} attack.`,player:r.parent,type:"ability",tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},95892(O,S,i){i.d(S,{a:()=>t});var P=i(57488),c=i(86253),A=i(33500),_=i(75970),v=i(1029),e=i(83028);class t extends v.d{logService;abilityService;gameService;pet0;pet1;pet2;pet3;pet4;orignalPet0;orignalPet1;orignalPet2;orignalPet3;orignalPet4;pack="Turtle";toy=null;hardToy=null;brokenToy=null;brokenHardToy=null;originalToy=null;originalHardToy=null;trumpets=0;spawnedGoldenRetiever=!1;summonedBoatThisBattle=!1;isOpponent=!1;allPets=!1;tokenPets=!1;gold=0;pendingGoldFromMimic=0;futureShopBuffs=new Map;cannedAilments=[];constructor(a,o,r){super(),this.logService=a,this.abilityService=o,this.gameService=r,(0,e.L)(this)}alive(){return(0,c.yV)(this)}resetPets(){(0,c.wA)(this)}resetJumpedFlags(){(0,c.Ku)(this)}setPet(a,o,r=!1){this.getPet(a),0==a&&(this.pet0=o,null!=o&&(this.pet0.savedPosition=0),r&&(this.orignalPet0=o)),1==a&&(this.pet1=o,null!=o&&(this.pet1.savedPosition=1),r&&(this.orignalPet1=o)),2==a&&(this.pet2=o,null!=o&&(this.pet2.savedPosition=2),r&&(this.orignalPet2=o)),3==a&&(this.pet3=o,null!=o&&(this.pet3.savedPosition=3),r&&(this.orignalPet3=o)),4==a&&(this.pet4=o,null!=o&&(this.pet4.savedPosition=4),r&&(this.orignalPet4=o)),r&&null!=o&&(o.originalSavedPosition=o.savedPosition)}getPet(a){switch(a){case 0:return this.pet0;case 1:return this.pet1;case 2:return this.pet2;case 3:return this.pet3;case 4:return this.pet4;default:return}}pushPetsForward(){(0,A.yY)(this)}onionCheck(){(0,A.EE)(this)}summonPet(a,o,r=!1,d){return(0,_.Rd)(this,a,o,r,d,this.logService,this.abilityService,this.gameService)}transformPet(a,o){(0,_.AT)(this,a,o,this.abilityService,this.gameService)}pushForwardFromSlot(a){return(0,A.m3)(this,a)}pushBackwardFromSlot(a){return(0,A.Kw)(this,a)}makeRoomForSlot(a){(0,A.vI)(this,a)}get petArray(){let a=[];return null!=this.pet0&&a.push(this.pet0),null!=this.pet1&&a.push(this.pet1),null!=this.pet2&&a.push(this.pet2),null!=this.pet3&&a.push(this.pet3),null!=this.pet4&&a.push(this.pet4),a}handleDeath(a){(0,c.bE)(a,this.logService)}checkPetsAlive(){(0,c.Uk)(this,this.logService)}removeDeadPets(){return(0,c.BE)(this,this.abilityService)}createDeathLog(a){(0,c.vD)(a,this.logService)}get opponent(){return(0,P.a)(this.gameService.gameApi,this)}}},95957(O,S,i){i.d(S,{N:()=>A});var P=i(57488),c=i(50873);class A extends c.L{name="Remote Car";tier=1;startOfBattle(v,e){const t=(0,P.a)(v,this.parent);for(const n of t.petArray){const a=Math.floor(.2*n.attack),o=Math.floor(.2*n.health);a>0&&n.increaseAttack(a),o>0&&n.increaseHealth(o),this.logService.createLog({message:`${this.name} gave ${n.name} +${a}/+${o}.`,type:"ability",player:this.parent,puma:e})}}}},95966(O,S,i){i.d(S,{i:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Iguana";tier=2;pack="Star";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"IguanaAbility",owner:e,triggers:["EnemyPushed","EnemySummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let d=r.parent.getSpecificPet(r,n),g=d.pet;null!=g&&g.alive&&(r.snipePet(g,2*this.level,d.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},96034(O,S,i){i.d(S,{d:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Vampire Parrot";tier=3;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Vampire Parrot Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent.petArray.filter(L=>L.alive&&L.equipment),r=new Set;for(const L of o){const N=L.equipment.equipmentClass;("ailment-attack"===N||"ailment-defense"===N||"ailment-other"===N)&&r.add(L.equipment.name)}const d=r.size;if(0===d)return void this.triggerTigerExecution(e);const g=this.level,f=2*this.level,D=d*g,k=d*f;a.increaseAttack(D),a.increaseHealth(k),this.logService.createLog({message:`${a.name} gained +${D}/+${k} (+${g}/+${f} per unique ailment) from ${d} friendly pets with different ailments.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},96396(O,S,i){i.d(S,{A:()=>_});var P=i(54841),c=i(40555);const _=function A(v){return(0,P.A)((0,c.A)(v))}},96756(O,S,i){i.d(S,{A:()=>t});var P=i(6944),c=Object.prototype,A=c.hasOwnProperty,_=c.toString,v=P.A?P.A.toStringTag:void 0;const t=function e(n){var a=A.call(n,v),o=n[v];try{n[v]=void 0;var r=!0}catch{}var d=_.call(n);return r&&(a?n[v]=o:delete n[v]),d}},96767(O,S,i){i.d(S,{H:()=>c,g:()=>A});const c={playerPack:"pP",opponentPack:"oP",playerToy:"pT",playerToyLevel:"pTL",playerHardToy:"pHT",playerHardToyLevel:"pHTL",opponentToy:"oT",opponentToyLevel:"oTL",opponentHardToy:"oHT",opponentHardToyLevel:"oHTL",turn:"t",playerGoldSpent:"pGS",opponentGoldSpent:"oGS",playerRollAmount:"pRA",opponentRollAmount:"oRA",playerSummonedAmount:"pSA",opponentSummonedAmount:"oSA",playerLevel3Sold:"pL3",opponentLevel3Sold:"oL3",playerTransformationAmount:"pTA",opponentTransformationAmount:"oTA",playerPets:"p",opponentPets:"o",allPets:"ap",logFilter:"lf",customPacks:"cp",oldStork:"os",tokenPets:"tp",komodoShuffle:"ks",mana:"m",seed:"sd",triggersConsumed:"tc",showAdvanced:"sa",showTriggerNamesInLogs:"stn",showPositionalArgsInLogs:"spa",ailmentEquipment:"ae",changeEquipmentUses:"cEU",logsEnabled:"lE",simulations:"sim",name:"n",attack:"a",health:"h",exp:"e",equipment:"eq",equipmentUses:"eU",belugaSwallowedPet:"bSP",sarcasticFringeheadSwallowedPet:"sFSP",parrotCopyPet:"pCP",parrotCopyPetBelugaSwallowedPet:"pCPB",abomParrotSwallowed:"aPS",abominationSwallowedPet1:"aSP1",abominationSwallowedPet2:"aSP2",abominationSwallowedPet3:"aSP3",abominationSwallowedPet1BelugaSwallowedPet:"aSP1B",abominationSwallowedPet2BelugaSwallowedPet:"aSP2B",abominationSwallowedPet3BelugaSwallowedPet:"aSP3B",abominationSwallowedPet1SarcasticFringeheadSwallowedPet:"aSP1SFS",abominationSwallowedPet2SarcasticFringeheadSwallowedPet:"aSP2SFS",abominationSwallowedPet3SarcasticFringeheadSwallowedPet:"aSP3SFS",abominationSwallowedPet1Level:"aSP1L",abominationSwallowedPet2Level:"aSP2L",abominationSwallowedPet3Level:"aSP3L",abominationSwallowedPet1TimesHurt:"aSP1T",abominationSwallowedPet2TimesHurt:"aSP2T",abominationSwallowedPet3TimesHurt:"aSP3T",battlesFought:"bF",friendsDiedBeforeBattle:"fDBB",foodsEaten:"fE",...(()=>{const _={};for(let v=1;v<=3;v++){const e=`parrotCopyPetAbominationSwallowedPet${v}`,t=`pCPAS${v}`;_[e]=t,_[`${e}BelugaSwallowedPet`]=`${t}B`,_[`${e}Level`]=`${t}L`,_[`${e}TimesHurt`]=`${t}T`,_[`${e}ParrotCopyPet`]=`${t}PCP`,_[`${e}ParrotCopyPetBelugaSwallowedPet`]=`${t}PCPB`;for(let n=1;n<=3;n++){const a=`${e}ParrotCopyPetAbominationSwallowedPet${n}`,o=`${t}PCPAS${n}`;_[a]=o,_[`${a}BelugaSwallowedPet`]=`${o}B`,_[`${a}Level`]=`${o}L`,_[`${a}TimesHurt`]=`${o}T`}}return _})(),abominationSwallowedPet1ParrotCopyPet:"aSP1PCP",abominationSwallowedPet2ParrotCopyPet:"aSP2PCP",abominationSwallowedPet3ParrotCopyPet:"aSP3PCP",abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet:"aSP1PCPB",abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet:"aSP2PCPB",abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet:"aSP3PCPB",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1:"aSP1PCPAS1",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2:"aSP1PCPAS2",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3:"aSP1PCPAS3",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1:"aSP2PCPAS1",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2:"aSP2PCPAS2",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3:"aSP2PCPAS3",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1:"aSP3PCPAS1",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2:"aSP3PCPAS2",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3:"aSP3PCPAS3",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:"aSP1PCPAS1B",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:"aSP1PCPAS2B",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:"aSP1PCPAS3B",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:"aSP2PCPAS1B",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:"aSP2PCPAS2B",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:"aSP2PCPAS3B",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:"aSP3PCPAS1B",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:"aSP3PCPAS2B",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:"aSP3PCPAS3B",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level:"aSP1PCPAS1L",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level:"aSP1PCPAS2L",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level:"aSP1PCPAS3L",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level:"aSP2PCPAS1L",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level:"aSP2PCPAS2L",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level:"aSP2PCPAS3L",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level:"aSP3PCPAS1L",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level:"aSP3PCPAS2L",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level:"aSP3PCPAS3L",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt:"aSP1PCPAS1T",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt:"aSP1PCPAS2T",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt:"aSP1PCPAS3T",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt:"aSP2PCPAS1T",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt:"aSP2PCPAS2T",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt:"aSP2PCPAS3T",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt:"aSP3PCPAS1T",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt:"aSP3PCPAS2T",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt:"aSP3PCPAS3T",timesHurt:"tH"},A=Object.entries(c).reduce((_,[v,e])=>(_[e]=v,_),{})},96849(O,S,i){i.d(S,{e:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Duck";tier=1;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DuckAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gave shop pets +${this.level} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},96889(O,S,i){i.d(S,{Z:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;name="Hercules Beetle";tier=2;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"HerculesBeetleAbility",owner:t,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=Math.max(0,n.battlesFought??0),o=a*this.level,r=n.parent.petArray.filter(f=>f.alive);if(o<=0||0===r.length)return void this.triggerTigerExecution(t);const d=Math.floor(o/r.length);let g=o%r.length;for(const f of r)d>0&&f.increaseAttack(d);if(g>0){const f=(0,A.k4)([...r]);for(let D=0;D<g&&D<f.length;D++)f[D].increaseAttack(1)}this.logService.createLog({message:`${n.name} gave friends +${o} attack split evenly after ${a} battle${1===a?"":"s"}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:r.length>1}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},97061(O,S,i){i.d(S,{A:()=>t});var P=i(50253),c=i(42661),A=Object.prototype,_=A.hasOwnProperty,v=A.propertyIsEnumerable,e=(0,P.A)(function(){return arguments}())?P.A:function(n){return(0,c.A)(n)&&_.call(n,"callee")&&!v.call(n,"callee")};const t=e},97244(O,S,i){i.d(S,{e:()=>_,s:()=>A});var P=i(50873),c=i(5615);class A extends P.L{name="Radio";tier=2;onBreak(e,t){let n=this.parent.petArray;for(let a of n)a.alive&&(a.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${a.name} ${this.level} health.`,type:"ability",player:this.parent,puma:t}))}}class _ extends c.T{logService;constructor(e,t){super({name:"RadioAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getAll(!1,r,!0),g=d.pets;if(0!=g.length){for(let f of g)f.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${f.name} ${this.level} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},97265(O,S,i){i.d(S,{z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Peacock";tier=2;pack="Turtle";health=5;attack=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PeacockAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=3*this.level,g=r.parent.getThis(r);g.pet&&(g.pet.increaseAttack(d),this.logService.createLog({message:`${r.name} gave ${g.pet.name} ${d} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},97280(O,S,i){i.d(S,{Uw:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Whale";tier=4;pack="Turtle";attack=3;health=7;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D,k){super(t,n,o),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,d,g,D,k)}}class _ extends c.T{logService;abilityService;constructor(t,n,a){super({name:"WhaleSummonAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,ignoreRepeats:!0,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner,g=d.swallowedPets??[];for(;g.length>0;){const f=g.shift();if(!f)continue;let D=d.parent.summonPet(f,d.savedPosition,!1,d);D.success&&this.logService.createLog({message:`${d.name} summoned ${f.name} (level ${f.level}).`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:D.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new _(t,this.logService,this.abilityService)}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"WhaleSwallowAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.petService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.nearestPetsAhead(1,d);if(0===g.pets.length)return;let f=g.pets[0],D=this.petService.createPet({name:f.name,attack:f.attack,health:f.health,exp:d.exp,equipment:null,mana:0},d.parent);d.swallowedPets||(d.swallowedPets=[]),d.swallowedPets.push(D),f.health=0,this.logService.createLog({message:`${d.name} swallowed ${f.name}`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.petService)}}},97588(O,S,i){i.d(S,{P:()=>_,r:()=>v});var P=i(57488),c=i(50873),A=i(5615);class _ extends c.L{name="Foam Sword";tier=3;startOfBattle(t,n){let a=(0,P.a)(t,this.parent);for(let o=0;o<this.level;o++){let r=a.getLowestHealthPet();if(null==r.pet)return;this.toyService.snipePet(r.pet,5,this.parent,this.name,r.random,n)}}}class v extends A.T{logService;constructor(t,n){super({name:"FoamSwordAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.opponent;for(let f=0;f<this.level;f++){let D=g.getLowestHealthPet();d.snipePet(D.pet,5,D.random,o)}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},97677(O,S,i){i.d(S,{H:()=>c});var P=i(70762);function c(A){for(;A;){const{closed:_,destination:v,isStopped:e}=A;if(_||e)return!1;A=v&&v instanceof P.v?v:null}return!0}},97758(O,S,i){i.d(S,{S:()=>d});var P=i(13115),c=i(22410),A=i(6328),_=i(44519),v=i(29886),e=i(47925),t=i(3887),n=i(87647),a=i(58500),o=i(58857),r=i(61850);function d(g,f,D,k,L=!1){let q,N=g.equipment?.multiplier??1;const ne=["Inked"],Q=(0,a.u)(f,D,{includeShieldSnipe:L,nullifyMapleSyrupDefense:L});let H,ae,$=Q.defenseEquipment;if(q=Q.defenseMultiplier,L)H="attack-snipe"==g.equipment?.equipmentClass?g.equipment:null,ae=(k??0)+(H?.power??0);else{H=g.equipment instanceof t.L?new t.v:g.equipment instanceof e.q?new e.Z:g.equipment instanceof v.B?new v.P:"attack"==g.equipment?.equipmentClass||"ailment-attack"==g.equipment?.equipmentClass?g.equipment:null,null!=H&&(N=(0,n.GH)(N,H?.name??"",D,ne),H.power=(H.originalPower??H.power??0)*N);let Ge=g.attack;"Monty"==g.name&&(Ge*=g.level+1),ae=(k??Ge)+(H?.power??0)}f.equipment instanceof e.q&&f.equipment.uses>0&&!L&&(ae=Math.floor(ae*Math.pow(.5,q))),H instanceof P.B&&!L&&(ae*=2+N-1),H instanceof e.Z&&!L&&(ae=Math.floor(ae*Math.pow(.5,N)));let _e=!1;H instanceof A.Y&&!L&&0===(0,o.k6)({key:"equipment.fortune-cookie",label:"Fortune Cookie outcome",options:[{id:"double-damage",label:"Double damage"},{id:"no-bonus",label:"No bonus"}]},()=>(0,r.hw)(0,1)).index&&(ae*=2+N-1,_e=!0),H instanceof c.W&&!L&&(ae=Math.max(15,ae));let be=(0,a.b)(f,ae,$,D);"Inked"===g.equipment?.name&&be>0&&(be=Math.max(0,be-3)),$ instanceof _.H&&(be=Math.min(be,f.health-1));const Ee=(0,n.qw)(f,be,{includeGhostKitten:L,fairyMinimumOne:!0,fairyRequiresPositiveDamage:!1,nurikabeConsumesOnZeroHit:!0,fanMusselConsumesOnZeroHit:!0});return be=Ee.damage,{defenseEquipment:$,attackEquipment:H,damage:be,fortuneCookie:_e,nurikabe:Ee.nurikabe,fairyBallReduction:Ee.fairyBallReduction,fanMusselReduction:Ee.fanMusselReduction,mapleSyrupReduction:0,ghostKittenReduction:Ee.ghostKittenReduction}}},97919(O,S,i){i.d(S,{H:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Kraken";tier=4;pack="Unicorn";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"KrakenAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getAll(!0,r,!0),g=d.pets;if(0!=g.length){for(let f of g){let D=1==this.level?.15:2==this.level?.3:.45,k=Math.max(1,Math.floor(f.health*(1-D)));f.health=k,this.logService.createLog({message:`${r.name} reduced ${f.name} health by ${(100*D).toFixed(0)}% to ${k}`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},97939(O,S,i){i.d(S,{A:()=>A});const A=(0,i(38992).A)(Object.keys,Object)},98099(O,S,i){function P(c){return"function"==typeof c}i.d(S,{T:()=>P})},98146(O,S,i){i.d(S,{D:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Pteranodon";tier=6;pack="Golden";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}class _ extends c.T{logService;abilityService;petService;constructor(e,t,n,a){super({name:"PteranodonAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:o=>{const{triggerPet:r}=o;return null!=r},abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=n,this.petService=a}executeAbility(e){const{triggerPet:n,tiger:a,pteranodon:o}=e,r=this.owner;let d=this.petService.createPet({attack:1,health:1,equipment:null,exp:n.exp,name:n.name,mana:0},r.parent),g=r.parent.summonPetBehind(r,d);g.success&&this.logService.createLog({message:`${r.name} summoned a 1/1 ${n.name} behind it.`,type:"ability",player:r.parent,randomEvent:g.randomEvent,tiger:a,pteranodon:o}),this.triggerTigerExecution(e)}reset(){super.reset(),this.maxUses=this.level}copy(e){return new _(e,this.logService,this.abilityService,this.petService)}}},98349(O,S,i){i.d(S,{J:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Purple Frog";tier=3;pack="Puppy";attack=4;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;usesThisTurn=0;constructor(t,n,a){super({name:"PurpleFrogAbility",owner:t,triggers:["FriendSummoned","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner;if("StartTurn"===t.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(t);if(this.usesThisTurn>=this.level)return void this.triggerTigerExecution(t);const a=(0,A.Uj)(n,t.triggerPet);a.pet?(a.pet.executeAbilities("StartTurn",t.gameApi,a.pet,void 0,void 0,{trigger:"StartTurn"}),this.usesThisTurn++,(0,A.rv)(this.logService,n,`${n.name} activated ${a.pet.name}'s start of turn ability.`,t.tiger,t.pteranodon,{randomEvent:a.random}),this.triggerTigerExecution(t)):this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},98441(O,S,i){i.d(S,{V:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bee";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BeeAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},98935(O){O.exports=JSON.parse('[{"Ability":"Block ailment or 8 damage, once.","Positive":true,"Id":"60","Name":"Ambrosia","NameId":"Ambrosia"},{"Ability":"Before attack: Remove the front-most enemy perk, once.","Positive":true,"Id":"64","Name":"Baguette","NameId":"Baguette"},{"Ability":"Faint: Summon one 4/4 Monkey.","Positive":true,"Id":"25","Name":"Banana","NameId":"Banana"},{"Ability":"Before battle: Gain +7 mana.","Positive":true,"Id":"87","Name":"Big Mana Potion","NameId":"ManaPotion2"},{"Ability":"Gain +1 attack and +2 health.","Positive":true,"Id":"89","Name":"Blackberry","NameId":"Blackberry"},{"Ability":"Can\'t gain perk, once.","Id":"120","Name":"Bloated","NameId":"Bloated"},{"Ability":"Prioritize this for enemy random abilities.","Positive":true,"Id":"28","Name":"Blueberry","NameId":"BlueBerries"},{"Ability":"Gain +3 health when this would faint, once.","Positive":true,"Id":"111","Name":"Bok Choy","NameId":"BokChoy"},{"Ability":"Block being pushed or 5 damage, once.","Positive":true,"Id":"66","Name":"Brussels Sprout","NameId":"BrusselsSprout"},{"Ability":"End turn: Increase sell value by 1 gold.","Positive":true,"Id":"44","Name":"Cake","NameId":"BirthdayCake"},{"Ability":"Before attack: Combine friendly Caramels to deal 3 damage each to the most healthy enemy, once.","Positive":true,"Id":"67","Name":"Caramel","NameId":"Caramel"},{"Ability":"End turn: Gain +1 attack and +1 health.","Positive":true,"Id":"15","Name":"Carrot","NameId":"Carrot"},{"Ability":"Before battle: Deal 1 damage to the second nearest pet ahead. Double against enemies.","Positive":true,"Id":"115","Name":"Cashew Nut","NameId":"CashewNut"},{"Ability":"Knock out: If still standing, gain permanent +1 attack and +1 health, once.","Positive":true,"Id":"71","Name":"Cauliflower","NameId":"Cauliflower"},{"Ability":"Attack with at least 15 attack, once.","Positive":true,"Id":"23","Name":"Cheese","NameId":"Cheese"},{"Ability":"Before battle: Gain 2 trumpets and remove perk.","Positive":true,"Id":"7","Name":"Cherry","NameId":"Cherries"},{"Ability":"Attack second enemy for 5 damage.","Positive":true,"Id":"5","Name":"Chili","NameId":"Chili"},{"Ability":"Before attack: Gain +3 experience and faint.","Positive":true,"Id":"30","Name":"Chocolate Cake","NameId":"ChocolateCake"},{"Ability":"Activate ability before other pets with the same trigger.","Positive":true,"Id":"70","Name":"Churros","NameId":"Churros"},{"Ability":"Before attack: Transform into an exact copy of a random enemy, once.","Positive":true,"Id":"94","Name":"Cocoa Bean","NameId":"CocoaBean"},{"Ability":"Block damage, once.","Positive":true,"Id":"0","Name":"Coconut","NameId":"Coconut"},{"Ability":"Faint: Summon one 2/3 Fish.","Positive":true,"Id":"104","Name":"Cod Roe","NameId":"CodRoe"},{"Ability":"Take +5 damage, once.","Id":"54","Name":"Cold","NameId":"Frozen"},{"Ability":"Before attack: Transform into a pet from one tier below, once.","Id":"118","Name":"Confused","NameId":"Confused"},{"Ability":"Anyone attacks: Take 6 damage, once.","Id":"57","Name":"Crisp","NameId":"Burn"},{"Ability":"End turn: Gain +1 attack.","Positive":true,"Id":"20","Name":"Croissant","NameId":"Croissant"},{"Ability":"End turn: Gain +1 health.","Positive":true,"Id":"19","Name":"Cucumber","NameId":"Cucumber"},{"Ability":"Faint: Make one random friend Cursed.","Id":"119","Name":"Cursed","NameId":"Curse"},{"Ability":"Prevent ability from activating.","Id":"55","Name":"Dazed","NameId":"Deaf"},{"Ability":"Prioritize this for friendly random abilities.","Positive":true,"Id":"36","Name":"Donut","NameId":"Doughnut"},{"Ability":"Before attack: Reduce the most healthy enemy by 33% health, once.","Positive":true,"Id":"45","Name":"Durian","NameId":"Durian"},{"Ability":"Faint: Summon one 3/3 Bunny that attacks for double damage.","Positive":true,"Id":"51","Name":"Easter Egg","NameId":"EasterEgg"},{"Ability":"Before attack: Deal 2 damage to target, once.","Positive":true,"Id":"24","Name":"Egg","NameId":"Egg"},{"Ability":"Before battle: Push opposite enemy 1 space forward.","Positive":true,"Id":"38","Name":"Eggplant","NameId":"EggPlant"},{"Ability":"Block 4 enemy damage, once.","Positive":true,"Id":"68","Name":"Eucalyptus","NameId":"Eucalyptus"},{"Ability":"Faint: Summon ANY one tier 1 <b>Faint</b> pet.","Positive":true,"Id":"86","Name":"Faint Bread","NameId":"DeadBread"},{"Ability":"Empty front space: Jump to the front and gain +2 mana, once.","Positive":true,"Id":"49","Name":"Fairy Dust","NameId":"FairyDust"},{"Ability":"Before attack: Deal 4 damage to the lowest health enemy, once.","Positive":true,"Id":"46","Name":"Fig","NameId":"Fig"},{"Ability":"Attack has 50% chance to deal double damage.","Positive":true,"Id":"11","Name":"Fortune Cookie","NameId":"FortuneCookie"},{"Ability":"Takes 2 less damage.","FinePrint":"Damage can\'t be reduced to less than 2.","Positive":true,"Id":"9","Name":"Garlic","NameId":"Garlic"},{"Ability":"Before battle: Gain +1 experience.","Positive":true,"Id":"52","Name":"Gingerbread Man","NameId":"GingerbreadMan"},{"Ability":"Before attack: Deal 6 damage to target, once.","Positive":true,"Id":"47","Name":"Golden Egg","NameId":"GoldenEgg"},{"Ability":"Start of turn: Gain +1 gold.","Positive":true,"Id":"16","Name":"Grapes","NameId":"Grapes"},{"Ability":"Before attack: Transform into an Ant.","Positive":true,"Id":"103","Name":"Gros Michel Banana","NameId":"GrosMichelBanana"},{"Ability":"Block 3 damage, and attack for +3 damage, once.","Positive":true,"Id":"105","Name":"Guava","NameId":"Guava"},{"Ability":"Before battle: Give the front-most friendly pet +2 health.","Positive":true,"Id":"58","Name":"Health Potion","NameId":"HealthPotion"},{"Ability":"Faint: Summon one 1/1 Bee.","Positive":true,"Id":"8","Name":"Honey","NameId":"Honey"},{"Ability":"Block 10 damage, and attack for +5 damage, once.","Positive":true,"Id":"110","Name":"Honeydew Melon","NameId":"HoneydewMelon"},{"Ability":"Take double damage, twice.","Id":"56","Name":"Icky","NameId":"Acid"},{"Ability":"Attack and ability deal 3 less damage.","Id":"37","Name":"Inked","NameId":"Ink"},{"Ability":"Ability deals +8 damage, once.","Positive":true,"Id":"78","Name":"Kiwano","NameId":"Kiwano"},{"Ability":"Before battle: Gain +3 health.","Positive":true,"Id":"107","Name":"Kiwifruit","NameId":"Kiwi"},{"Ability":"Block 7 damage, twice.","Positive":true,"Id":"22","Name":"Lemon","NameId":"Lemon"},{"Ability":"Takes 1 less damage.","Positive":true,"Id":"108","Name":"Lime","NameId":"Lime"},{"Ability":"Activate ability at level 1.","Positive":true,"Id":"122","Name":"Liquorice","NameId":"SweetLiquorice"},{"Ability":"Before battle: Summon one 5/5 pet like this.","Positive":true,"Id":"59","Name":"Love Potion","NameId":"LovePotion"},{"Ability":"Before battle: Copy ability to the nearest friend ahead.","Positive":true,"Id":"76","Name":"Lychee","NameId":"Lychee"},{"Ability":"Activate ability after other pets with the same trigger.","Positive":true,"Id":"117","Name":"Macaron","NameId":"Macaron"},{"Ability":"Start of turn: Gain the Golden Egg perk and increase sell value by 4 gold.","Positive":true,"Id":"48","Name":"Magic Beans","NameId":"MagicBeans"},{"Ability":"Attack for 50% damage and block 50% damage, thrice.","Positive":true,"Id":"93","Name":"Maple Syrup","NameId":"MapleSyrup"},{"Ability":"Attack with +3 damage.","Positive":true,"Id":"6","Name":"Meat Bone","NameId":"MeatBone"},{"Ability":"Block 20 damage, once.","Positive":true,"Id":"13","Name":"Melon","NameId":"Melon"},{"Ability":"Block 10 damage, once.","Positive":true,"Id":"79","Name":"Melon Slice","NameId":"WaterMelon"},{"Ability":"Attack second enemy for 4 damage.","Positive":true,"Id":"123","Name":"Mild Chili","NameId":"MildChili"},{"Ability":"Faint: Come back as a 1/1.","Positive":true,"Id":"1","Name":"Mushroom","NameId":"Mushroom"},{"Ability":"Before attack: Convert up to 3 health into attack.","Positive":true,"Id":"116","Name":"Nachos","NameId":"Nachos"},{"Ability":"Before attack: Move to the back, once.","Positive":true,"Id":"31","Name":"Onion","NameId":"Onion"},{"Ability":"Before attack: Set attack and health to at least 9, once.","Positive":true,"Id":"77","Name":"Oyster Mushroom","NameId":"OysterMushroom"},{"Ability":"Before battle: Give friends +2 attack and +2 health.","Positive":true,"Id":"35","Name":"Pancakes","NameId":"Pancakes"},{"Ability":"Knock out any pet attacked and hurt by this.","Positive":true,"Id":"2","Name":"Peanut","NameId":"Peanut"},{"Ability":"Knock out any pet attacked and hurt by this, once.","Positive":true,"Id":"88","Name":"Peanut Butter","NameId":"PeanutButter"},{"Ability":"Health does not go under 1. Removed after taking damage.","Positive":true,"Id":"18","Name":"Pepper","NameId":"Pepper"},{"Ability":"Before battle: Gain +4 attack and +3 health.","Positive":true,"Id":"39","Name":"Pie","NameId":"Pie"},{"Ability":"Ability deals +2 damage, thrice.","Positive":true,"Id":"21","Name":"Pineapple","NameId":"Pineapple"},{"Ability":"Hurt: Gain +15 health, once.","Positive":true,"Id":"33","Name":"Pita Bread","NameId":"PitaBread"},{"Ability":"Faint: Summon one random pet from the same tier.","Positive":true,"Id":"17","Name":"Popcorn","NameId":"Popcorn"},{"Ability":"Block 10 damage from abilities and perks, twice.","Positive":true,"Id":"29","Name":"Potato","NameId":"Potato"},{"Ability":"Before battle: Gain ANY useful perk from the pet\'s tier.","Positive":true,"Id":"65","Name":"Radish","NameId":"Radish"},{"Ability":"Before attack: Gain +3 mana.","Positive":true,"Id":"62","Name":"Rambutan","NameId":"Rambutan"},{"Ability":"Sell for +2 gold.","Positive":true,"Id":"43","Name":"Rice","NameId":"RiceBall"},{"Ability":"Attack for double damage, once.","Positive":true,"Id":"3","Name":"Salt","NameId":"Salt"},{"Ability":"Start of turn: Gain +2 gold.","Positive":true,"Id":"100","Name":"Sardinian Currant","NameId":"SardinianCurrant"},{"Ability":"Start of turn: Gain one free roll.","Positive":true,"Id":"69","Name":"Sausage","NameId":"Sausage"},{"Ability":"Before attack: Transform into a Baby Urchin.","Positive":true,"Id":"72","Name":"Seaweed","NameId":"Seaweed"},{"Ability":"Ability has random targets in battle.","Id":"75","Name":"Silly","NameId":"Silly"},{"Ability":"Attack second and third enemy for 3 damage.","Positive":true,"Id":"26","Name":"Skewer","NameId":"Skewer"},{"Ability":"Attack with half damage, once.","Id":"84","Name":"Sleepy","NameId":"Drowsy"},{"Ability":"Take +1 damage.","Id":"63","Name":"Spooked","NameId":"Scared"},{"Ability":"Before attack: Remove 6 health from target, once.","Positive":true,"Id":"109","Name":"Squash","NameId":"Squash"},{"Ability":"Attack with +20 damage, once.","Positive":true,"Id":"12","Name":"Steak","NameId":"Steak"},{"Ability":"Faint: Give the back-most friend +1 attack and +1 health.","Positive":true,"Id":"14","Name":"Strawberry","NameId":"Strawberry"},{"Ability":"Hurt: If still standing, gain permanent +1 health, once.","Positive":true,"Id":"95","Name":"Sudduth Tomato","NameId":"SudduthTomato"},{"Ability":"Faint: Give one random enemy permanent +2 attack and +2 health.","Id":"85","Name":"Tasty","NameId":"Tasty"},{"Ability":"Anyone attacks: Take 1 damage, once.","Id":"73","Name":"Toasty","NameId":"Toasty"},{"Ability":"Before attack: Deal 10 damage to the last enemy, once.","Positive":true,"Id":"34","Name":"Tomato","NameId":"Tomato"},{"Ability":"Start of battle: Deal 2 damage to a random enemy.","Positive":true,"Id":"97","Name":"Unagi","NameId":"Unagi"},{"Ability":"Block 2 damage, once.","Positive":true,"Id":"80","Name":"Walnut","NameId":"Walnut"},{"Ability":"Take +3 damage.","Id":"10","Name":"Weak","NameId":"Weak"},{"Ability":"Faint: Summon one 2/2 Spider up front for the opponent.","Id":"27","Name":"Webbed","NameId":"Web"},{"Ability":"Block 10 damage twice or ailment once.","Positive":true,"Id":"101","Name":"White Okra","NameId":"WhiteOkra"},{"Ability":"Friend faints: Gain +4 attack and jump-attack the highest attack enemy, once.","Positive":true,"Id":"91","Name":"White Truffle","NameId":"WhiteTruffle"},{"Ability":"Faint: Summon two 5/5 Nordic Goats.","Positive":true,"Id":"50","Name":"Yggdrasil Fruit","NameId":"YggdrasilFruit"}]')},98964(O,S,i){i.d(S,{_:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mandrill";tier=2;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MandrillAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const r=this.owner;let d=2*this.level;r.parent.toy?.tier<=d&&(r.parent.breakToy(),this.abilityService.triggerToyBrokeEvents(r.parent)),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},98977(O,S,i){i.d(S,{V:()=>t});var P=i(46200),c=i(5615),A=i(33127),_=i(26886),v=i(61850),e=i(1152);class t extends P.i{logService;abilityService;name="Gharial";tier=3;pack="Puppy";attack=5;health=2;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,N){super(o,r,d),this.logService=o,this.abilityService=r,this.initPet(k,g,f,D,L,N)}}class n extends c.T{logService;abilityService;constructor(o,r,d){super({name:"GharialAbility",owner:o,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.abilityService=d}executeAbility(o){const r=this.owner,d=A.I.getInjector().get(_.w),g=Math.max(1,Math.min(3,this.level)),f=d.toys.get(g)??[];if(0===f.length)return void this.triggerTigerExecution(o);const D=f[(0,v.hw)(0,f.length-1)],k=d.createToy(D,r.parent,g);k?(r.parent.toy=k,r.parent.toy.used=!1,r.parent.toy.triggers=0,(0,e.rv)(this.logService,r,`${r.name} chose a level ${g} ${D} toy.`,o.tiger,o.pteranodon),this.triggerTigerExecution(o)):this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.abilityService)}}},99094(O,S,i){i.d(S,{X:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Jewel Caterpillar";tier=3;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Jewel Caterpillar Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent;if(o.trumpets<2)return void this.triggerTigerExecution(e);const d=o.petArray.filter(D=>D.alive&&D!==a).slice(-2);if(0===d.length)return void this.triggerTigerExecution(e);const g=this.level;d.forEach(D=>D.increaseSellValue(g)),o.spendTrumpets(2,a,n);const f=this.formatNames(d.map(D=>D.name));this.logService.createLog({message:`${a.name} spent 2 trumpets to give ${f} +${g} sell value each permanently.`,type:"ability",player:o,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}formatNames(e){return 0===e.length?"no friends":1===e.length?e[0]:`${e.slice(0,-1).join(", ")} and ${e[e.length-1]}`}copy(e){return new _(e,this.logService)}}},99162(O,S,i){i.d(S,{A:()=>c});const c=function P(A,_){for(var v=-1,e=null==A?0:A.length;++v<e&&!1!==_(A[v],v,A););return A}},99352(O,S,i){i.d(S,{p:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Cyclops";tier=4;pack="Unicorn";attack=2;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"CyclopsAbility",owner:t,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const{triggerPet:o}=a,g=(0,A.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=2*this.level,f=(0,A.lK)(d,a),D=f.pet;if(null!=D){if(this.logService.createLog({message:`${d.name} gave ${D.name} ${g} mana.`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random}),D.increaseMana(g),this.currentUses<this.level){let k=(0,A.lK)(d,a),L=k.pet;if(null==L)return;this.logService.createLog({message:`${d.name} gave ${L.name} 1 exp.`,type:"ability",player:d.parent,tiger:o,randomEvent:k.random}),L.increaseExp(1)}this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},99462(O,S,i){i.d(S,{m:()=>c});var P=i(42294);class c{triggerSummonEvents(_){const v=_?.parent;if(v&&Array.isArray(v.petArray)){this.triggerFriendSummonedToyEvents(v,_);for(let t of this.abilityQueueService.getTeam(v))t==_?this.abilityQueueService.triggerAbility(t,"ThisSummoned",_):(this.abilityQueueService.triggerAbility(t,"FriendSummoned",_),this.abilityQueueService.handleNumberedCounterTriggers(t,_,void 0,this.abilityQueueService.getNumberedTriggersForPet(t,"FriendSummoned")),"Bee"===_.name&&this.abilityQueueService.triggerAbility(t,"BeeSummoned",_));(v.opponent&&Array.isArray(v.opponent.petArray)?v.opponent.petArray:[]).forEach(t=>this.abilityQueueService.triggerAbility(t,"EnemySummoned",_)),this.executeFriendSummonedToyEvents()}}triggerFaintEvents(_){this.faintEventService.triggerFaintEvents(_)}triggerAfterFaintEvents(_){this.faintEventService.triggerAfterFaintEvents(_)}triggerFoodEvents(_,v){(0,P.yB)(this.abilityQueueService,_,v)}triggerPerkGainEvents(_,v){(0,P.Jo)(this.abilityQueueService,_,v)}triggerPerkLossEvents(_,v){(0,P.hu)(this.abilityQueueService,_,v)}triggerAilmentGainEvents(_,v){(0,P.$f)(this.abilityQueueService,_,v)}triggerTransformEvents(_){const v=_.transformedInto;if(v)for(let e of this.abilityQueueService.getTeam(v))e==v?this.abilityQueueService.triggerAbility(e,"ThisTransformed",v):(this.abilityQueueService.triggerAbility(e,"FriendTransformed",v),this.abilityQueueService.handleNumberedCounterTriggers(e,v,void 0,this.abilityQueueService.getNumberedTriggersForPet(e,"FriendTransformed")))}triggerFlungEvents(_){for(let v of this.abilityQueueService.getTeam(_))this.abilityQueueService.triggerAbility(v,"AnyoneFlung",_),v!=_&&this.abilityQueueService.triggerAbility(v,"FriendFlung",_);for(let v of this.abilityQueueService.getTeam(_.parent?.opponent))this.abilityQueueService.triggerAbility(v,"AnyoneFlung",_)}triggerPushedEvents(_){for(let v of this.abilityQueueService.getTeam(_.parent?.opponent))this.abilityQueueService.triggerAbility(v,"EnemyPushed",_)}triggerKillEvents(_,v){v.parent!==_.parent&&this.abilityQueueService.triggerAbility(_,"KnockOut",v)}triggerHurtEvents(_,v){const e=void 0!==v?{damageAmount:v}:void 0;for(let t of this.abilityQueueService.getTeam(_))this.abilityQueueService.triggerAbility(t,"AnyoneHurt",_,e),t==_?(this.abilityQueueService.triggerAbility(t,"ThisHurt",_,e),this.abilityQueueService.handleNumberedCounterTriggers(t,_,e,this.abilityQueueService.getNumberedTriggersForPet(t,"ThisHurt"))):(this.abilityQueueService.triggerAbility(t,"FriendHurt",_,e),this.abilityQueueService.handleNumberedCounterTriggers(t,_,e,this.abilityQueueService.getNumberedTriggersForPet(t,"FriendHurt"))),t==_.petBehind(void 0,!0)&&this.abilityQueueService.triggerAbility(t,"FriendAheadHurt",_,e),(t==t.petBehind()||t.petAhead)&&this.abilityQueueService.triggerAbility(t,"AdjacentFriendsHurt",_,e),t.position<_.position&&this.abilityQueueService.triggerAbility(t,"AnyoneBehindHurt",_,e);for(let t of this.abilityQueueService.getTeam(_.parent?.opponent))this.abilityQueueService.triggerAbility(t,"EnemyHurt",_,e),this.abilityQueueService.triggerAbility(t,"AnyoneHurt",_,e),this.abilityQueueService.handleNumberedCounterTriggers(t,_,e,this.abilityQueueService.getNumberedTriggersForPet(t,"EnemyHurt"))}triggerLevelUpEvents(_){const v=_.parent;this.triggerFriendlyLevelUpToyEvents(v,_);for(let e of v.petArray)this.abilityQueueService.triggerAbility(e,"AnyLeveledUp",_),this.abilityQueueService.triggerAbility(e,"FriendlyLeveledUp",_),e==_?this.abilityQueueService.triggerAbility(e,"ThisLeveledUp",_):(this.abilityQueueService.triggerAbility(e,"FriendLeveledUp",_),this.abilityQueueService.handleNumberedCounterTriggers(e,_,void 0,this.abilityQueueService.getNumberedTriggersForPet(e,"FriendlyLeveledUp")));if(v.opponent&&Array.isArray(v.opponent.petArray))for(let e of v.opponent.petArray)this.abilityQueueService.triggerAbility(e,"AnyLeveledUp",_)}triggerEmptyFrontSpaceEvents(_){for(let v of _.petArray)v.clearFrontTriggered||(this.abilityQueueService.triggerAbility(v,"EmptyFrontSpace"),v.clearFrontTriggered=!0)}executeEmptyFrontSpaceEvents(){this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:_=>"EmptyFrontSpace"===_.abilityType,onExecute:_=>this.logTriggerHeader(_)}),this.clearLastLoggedTrigger()}triggerToyBrokeEvents(_){for(let v of _.petArray)this.abilityQueueService.triggerAbility(v,"FriendlyToyBroke")}triggerJumpEvents(_){this.triggerFriendJumpedToyEvents(_.parent,_);for(let v of this.abilityQueueService.getTeam(_))this.abilityQueueService.triggerAbility(v,"AnyoneJumped",_),v==_||(this.abilityQueueService.triggerAbility(v,"FriendJumped",_),this.abilityQueueService.handleNumberedCounterTriggers(v,_,void 0,this.abilityQueueService.getNumberedTriggersForPet(v,"FriendJumped")));for(let v of this.abilityQueueService.getTeam(_.parent?.opponent))this.abilityQueueService.triggerAbility(v,"AnyoneJumped",_);this.executeFriendJumpedToyEvents()}triggerManaGainedEvents(_){this.abilityQueueService.triggerAbility(_,"ThisGainedMana",_)}setManaEvent(_){_.abilityType="ManaSnipe",this.abilityQueueService.addEventToQueue(_)}setgoldenRetrieverSummonsEvent(_){_.abilityType="GoldenRetrieverSummons",this.abilityQueueService.addEventToQueue(_)}triggerFriendGainsHealthEvents(_){}triggerFriendGainedExperienceEvents(_){for(let v of this.abilityQueueService.getTeam(_))this.abilityQueueService.triggerAbility(v,"FriendlyGainedExp",_),v!==_&&this.abilityQueueService.triggerAbility(v,"FriendGainedExp",_)}triggerEmptyFrontSpaceToyEvents(_){this.toyEventService.triggerEmptyFrontSpaceToyEvents(_)}executeEmptyFrontSpaceToyEvents(){this.toyEventService.executeEmptyFrontSpaceToyEvents()}triggerFriendSummonedToyEvents(_,v){this.toyEventService.triggerFriendSummonedToyEvents(_,v)}executeFriendSummonedToyEvents(){this.toyEventService.executeFriendSummonedToyEvents()}triggerFriendlyLevelUpToyEvents(_,v){this.toyEventService.triggerFriendlyLevelUpToyEvents(_,v)}executeFriendlyLevelUpToyEvents(){this.toyEventService.executeFriendlyLevelUpToyEvents()}triggerFriendFaintsToyEvents(_,v){this.toyEventService.triggerFriendFaintsToyEvents(_,v)}executeFriendFaintsToyEvents(){this.toyEventService.executeFriendFaintsToyEvents()}triggerFriendJumpedToyEvents(_,v){this.toyEventService.triggerFriendJumpedToyEvents(_,v)}executeFriendJumpedToyEvents(){this.toyEventService.executeFriendJumpedToyEvents()}}},99654(O,S,i){i.d(S,{B:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Warf";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;usedFirstTrigger=!1;constructor(e,t){super({name:"Warf Ability",owner:e,triggers:["ThisGainedMana","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner;if("StartBattle"===e.trigger)return this.usedFirstTrigger=!1,void this.triggerTigerExecution(e);const o=a.parent.opponent.getRandomPet([],!1,!1,!1,a);if(o.pet){const r=o.pet,d=this.level,g=this.usedFirstTrigger?d:3*d;a.snipePet(r,g,o.random,t,n),this.logService.createLog({message:`${a.name} gained mana and dealt ${g} damage to ${r.name}.`,type:"ability",player:a.parent,tiger:t,pteranodon:n,randomEvent:o.random}),this.usedFirstTrigger=!0}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},99659(O,S,i){i.d(S,{A:()=>c});const c=function P(A,_){for(var v=-1,e=Array(A);++v<A;)e[v]=_(v);return e}},99771(O,S,i){i.d(S,{l:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Jackalope";tier=2;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"JackalopeAbility",owner:t,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const{triggerPet:o}=a,g=(0,A.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a}=t,d=this.owner;let f=(0,A.lK)(d,a).pet;if(null==f)return;let D=this.level;d.jumped&&(D*=2),f.increaseAttack(D),this.logService.createLog({message:`${d.name} gave ${f.name} +${D} attack.`,type:"ability",player:this.owner.parent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},99898(O,S,i){i.d(S,{A:()=>_});var P=i(81984),c=i(1827);const _=function A(v,e,t,n){var a=!t;t||(t={});for(var o=-1,r=e.length;++o<r;){var d=e[o],g=n?n(t[d],v[d],d,t,v):void 0;void 0===g&&(g=v[d]),a?(0,c.A)(t,d,g):(0,P.A)(t,d,g)}return t}},99953(O,S,i){i.d(S,{H:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dove";tier=2;pack="Star";attack=3;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DoveAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.petArray.filter(D=>D==r||"Strawberry"!=D.equipment?.name),g=r.parent.getRandomPets(3,d,null,null,r),f=g.pets;if(0!=f.length){for(let D of f){if("Strawberry"!=D.equipment?.name)continue;this.logService.createLog({message:`${r.name} activated ${D.name}'s Strawberry.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random,pteranodon:o});let L=D.parent.getLastPet(void 0,D).pet;if(!L)continue;let N=this.level+(L.equipment?.multiplier??1)-1;L.increaseAttack(N),L.increaseHealth(N),this.logService.createLog({message:`${D.name} gave ${L.name} ${N} attack ${N} health (Strawberry) (x${this.level} ${r.name}).`,type:"equipment",player:r.parent,tiger:a,pteranodon:o})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}}},O=>{O(O.s=79545)}]);