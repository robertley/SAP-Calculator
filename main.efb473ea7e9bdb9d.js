"use strict";(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[792],{91(Ue,ge,B){B.d(ge,{D:()=>R});const R="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},129(Ue,ge,B){B.d(ge,{A:()=>me});var R=B(5281),m=B(554);const me=function de(re){if(!(0,m.A)(re))return!1;var ne=(0,R.A)(re);return"[object Function]"==ne||"[object GeneratorFunction]"==ne||"[object AsyncFunction]"==ne||"[object Proxy]"==ne}},135(Ue,ge,B){B.d(ge,{i:()=>oe});var R=B(4385),m=B(8253),se=B(7765),g=B(5722),me=B(5253),re=B(5998),ne=B(1456);const oe=he=>{if(he&&"function"==typeof he[g.s])return(he=>Se=>{const Ge=he[g.s]();if("function"!=typeof Ge.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ge.subscribe(Se)})(he);if((0,me.X)(he))return(0,R.v)(he);if((0,re.y)(he))return(he=>Se=>(he.then(Ge=>{Se.closed||(Se.next(Ge),Se.complete())},Ge=>Se.error(Ge)).then(null,m.T),Se))(he);if(he&&"function"==typeof he[se.lJ])return(he=>Se=>{const Ge=he[se.lJ]();for(;;){let _e;try{_e=Ge.next()}catch(Me){return Se.error(Me),Se}if(_e.done){Se.complete();break}if(Se.next(_e.value),Se.closed)break}return"function"==typeof Ge.return&&Se.add(()=>{Ge.return&&Ge.return()}),Se})(he);{const Ge=`You provided ${(0,ne.G)(he)?"an invalid object":`'${he}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ge)}}},178(Ue,ge,B){B.d(ge,{I:()=>G});var R=B(614),m=B(8253);const G={closed:!0,next(se){},error(se){if(R.$.useDeprecatedSynchronousErrorHandling)throw se;(0,m.T)(se)},complete(){}}},253(Ue,ge,B){B.d(ge,{c:()=>oe});var R=B(762),G=B(91),se=B(178),g=B(5722),de=B(5241);var ne=B(614);let oe=(()=>{class Se{constructor(_e){this._isScalar=!1,_e&&(this._subscribe=_e)}lift(_e){const Me=new Se;return Me.source=this,Me.operator=_e,Me}subscribe(_e,Me,ze){const{operator:Be}=this,$e=function w(Se,Ge,_e){if(Se){if(Se instanceof R.v)return Se;if(Se[G.D])return Se[G.D]()}return Se||Ge||_e?new R.v(Se,Ge,_e):new R.v(se.I)}(_e,Me,ze);if($e.add(Be?Be.call($e,this.source):this.source||ne.$.useDeprecatedSynchronousErrorHandling&&!$e.syncErrorThrowable?this._subscribe($e):this._trySubscribe($e)),ne.$.useDeprecatedSynchronousErrorHandling&&$e.syncErrorThrowable&&($e.syncErrorThrowable=!1,$e.syncErrorThrown))throw $e.syncErrorValue;return $e}_trySubscribe(_e){try{return this._subscribe(_e)}catch(Me){ne.$.useDeprecatedSynchronousErrorHandling&&(_e.syncErrorThrown=!0,_e.syncErrorValue=Me),function m(Se){for(;Se;){const{closed:Ge,destination:_e,isStopped:Me}=Se;if(Ge||Me)return!1;Se=_e&&_e instanceof R.v?_e:null}return!0}(_e)?_e.error(Me):console.warn(Me)}}forEach(_e,Me){return new(Me=he(Me))((ze,Be)=>{let $e;$e=this.subscribe(je=>{try{_e(je)}catch(ut){Be(ut),$e&&$e.unsubscribe()}},Be,ze)})}_subscribe(_e){const{source:Me}=this;return Me&&Me.subscribe(_e)}[g.s](){return this}pipe(..._e){return 0===_e.length?this:function re(Se){return 0===Se.length?de.D:1===Se.length?Se[0]:function(_e){return Se.reduce((Me,ze)=>ze(Me),_e)}}(_e)(this)}toPromise(_e){return new(_e=he(_e))((Me,ze)=>{let Be;this.subscribe($e=>Be=$e,$e=>ze($e),()=>Me(Be))})}}return Se.create=Ge=>new Se(Ge),Se})();function he(Se){if(Se||(Se=ne.$.Promise||Promise),!Se)throw new Error("no Promise impl found");return Se}},375(Ue,ge,B){B.d(ge,{JEi:()=>Aa,Isx:()=>ia,EJG:()=>He,Yrj:()=>pt,VVG:()=>F,Y20:()=>na,SKP:()=>z,hk6:()=>Lc,eVN:()=>_a,b5C:()=>Lt,rQE:()=>yt,X5O:()=>mt,qFA:()=>Pa,qQL:()=>ko,abz:()=>Js,tQN:()=>Cr,pcR:()=>en,oMQ:()=>An,Mlv:()=>V,MZA:()=>H,M0L:()=>Pe,Z63:()=>ae,Ap:()=>Me,dTm:()=>Ud,VML:()=>is,uvJ:()=>Hr,zcH:()=>es,bkB:()=>Ca,Wg1:()=>Yi,Yw1:()=>Sa,jgP:()=>Ha,tcA:()=>I,ID:()=>dn,YEL:()=>ue,B9r:()=>Le,GBX:()=>Wn,ZTf:()=>Zt,nKC:()=>xi,zZn:()=>Qo,rJ1:()=>tt,nfM:()=>Hs,s6P:()=>ja,K29:()=>qa,CQl:()=>Ui,p9y:()=>Wi,zSs:()=>xn,ONQ:()=>Vi,hmW:()=>En,yAH:()=>_n,SKi:()=>Ar,myG:()=>JA,oTH:()=>Ve,Czx:()=>yi,f7T:()=>va,wVl:()=>ci,GYQ:()=>Vd,u5s:()=>xm,rev:()=>Ta,Ds7:()=>Xi,e5P:()=>fa,Iaj:()=>cr,GpT:()=>xe,buA:()=>Be,AQb:()=>tl,jNX:()=>Q,eDl:()=>vr,qlT:()=>O,bm_:()=>Gs,RxE:()=>Se,r4V:()=>ts,ok8:()=>ze,Evm:()=>Em,laP:()=>ut,EYC:()=>lr,AbJ:()=>Gd,ng7:()=>cn,llW:()=>Tr,gsJ:()=>Ir,GZS:()=>fo,iYM:()=>Ie,PEr:()=>kd,z7f:()=>kn,LZP:()=>Pt,Xln:()=>fi,yzR:()=>VA,TWe:()=>um,LIA:()=>Ti,GWr:()=>sn,pbo:()=>gn,bBq:()=>lm,Af3:()=>ba,zQk:()=>dm,oZy:()=>Ho,tF7:()=>Gi,ZFY:()=>Ai,cP4:()=>cm,MdC:()=>oc,XvL:()=>gt,KET:()=>Pd,Tkx:()=>$,iw4:()=>Mi,tdH:()=>Cm,pr_:()=>ye,IAh:()=>it,U45:()=>ri,WrV:()=>Kt,kNT:()=>It,MI:()=>k,biv:()=>x,ZQF:()=>Ci,Cv0:()=>Zi,W0r:()=>Wa,R2n:()=>zn,O8q:()=>ka,VKj:()=>Wr,Rom:()=>Ua,z6V:()=>Mr,n$e:()=>$i,hjC:()=>di,Pz9:()=>Cc,PQT:()=>fr,VX4:()=>$r,_Z$:()=>ea,N79:()=>cc,xLP:()=>Un,QZP:()=>Mm,A7J:()=>Gn,BI7:()=>Tn,U7d:()=>Xn,uXy:()=>gr,nZS:()=>ln,ihb:()=>Xs,ID8:()=>Sm,gv8:()=>er,dwj:()=>Vt,Bqz:()=>un,OsK:()=>je,Rfq:()=>ui,c$7:()=>KA,gxQ:()=>mc,ckz:()=>ym,kLh:()=>ht,xUg:()=>or,KdJ:()=>Vs,db4:()=>pm,VPL:()=>Ko,MT:()=>Nd,Z9v:()=>Nr,Ab:()=>Md,w7Z:()=>vc,Mx4:()=>bm,veI:()=>vo,HaV:()=>rn,Agf:()=>Ki,znI:()=>lc,wGu:()=>Mn,ebl:()=>ji,OAn:()=>Uo,_0$:()=>jo,UaU:()=>Zn,vaC:()=>hn,d31:()=>Kr,ZRn:()=>zr,phH:()=>Dn,WbQ:()=>Qn,WB9:()=>Gr,d_l:()=>Td,vNG:()=>fm,oyA:()=>mr,_px:()=>Pc,CpD:()=>kc,XRZ:()=>js,klJ:()=>Wo,Fje:()=>Cd,b$O:()=>zA,SMZ:()=>vt,WQX:()=>At,MzJ:()=>ei,jXY:()=>st,MME:()=>Ni,JlV:()=>rc,Qs1:()=>ra,srX:()=>sm,vOT:()=>hm,YWB:()=>pc,EPY:()=>aa,yoD:()=>nc,P3H:()=>zs,Jzi:()=>wi,rFz:()=>Id,JjR:()=>Ys,M6u:()=>Lr,KtD:()=>Ed,A0l:()=>Va,q$2:()=>go,yP_:()=>zo,EFk:()=>Go,UhH:()=>Vo,QuC:()=>Dr,Y3W:()=>hi,K7h:()=>ma,FRF:()=>L,ezK:()=>yr,m7n:()=>Tc,niQ:()=>XA,krE:()=>dc,bll:()=>Ac,Hh6:()=>_d,EmA:()=>Rt,blu:()=>Ws,HAh:()=>UA,WfI:()=>vn,xbp:()=>fc,jvu:()=>Sc,Rc9:()=>ho,E6O:()=>In,DyX:()=>Yr,eFE:()=>sr,dMS:()=>wd,HUe:()=>gm,nl4:()=>Ft,N4e:()=>Ur,XaM:()=>Cn,uiq:()=>QA,l4E:()=>km,Kw3:()=>Ao,vQI:()=>bc,RZ9:()=>Ld,GA0:()=>YA,iMd:()=>vm,Pfq:()=>gc,xyx:()=>yc,a2B:()=>Xt,kcM:()=>ar,DFp:()=>mn,P2g:()=>Rd,cBl:()=>wa,ypq:()=>So,vPA:()=>Tm,HO5:()=>qd,M_e:()=>Ze,B22:()=>WA,ik5:()=>yo,AsM:()=>Ut,PP7:()=>wr,$8:()=>at,$Hz:()=>J,O8t:()=>Ya,zAe:()=>Qt,IvY:()=>bt,_gW:()=>mm,F1c:()=>qo,ITl:()=>Us,brz:()=>Ht,jRZ:()=>sc,SX7:()=>wc,jDH:()=>qe,G2t:()=>rt,fuf:()=>uc,cSN:()=>xd,KVO:()=>zt,dmw:()=>Pi,joV:()=>_c,By9:()=>Xo,qSk:()=>Od,Njj:()=>hc,eBV:()=>bo});var R=B(5824),m=B(9928),G=B(253),se=B(5254),w=B(4337);let g;function de(){return g}function me(S){const M=g;return g=S,M}const ne=Symbol("NotFound");function he(S){return S===ne||"\u0275NotFound"===S?.name}Error;class Se{full;major;minor;patch;constructor(M){this.full=M;const j=M.split(".");this.major=j[0],this.minor=j[1],this.patch=j.slice(2).join(".")}}const Ge=new Se("21.1.1"),Me=`${(()=>{const S=Ge.full;return`https://${S.includes("-next")||S.includes("-rc")||"0.0.0-PLACEHOLDER"===S?"next":`v${Ge.major}`}.angular.dev`})()}/errors`,ze="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class Be extends Error{code;constructor(M,j){super(je(M,j)),this.code=M}}function je(S,M){return`${function $e(S){return`NG0${Math.abs(S)}`}(S)}${M?": "+M:""}`}const ut=globalThis;function vt(){return!1}function ht(S){for(let M in S)if(S[M]===ht)return M;throw Error("")}function Vt(S,M){for(const j in M)M.hasOwnProperty(j)&&!S.hasOwnProperty(j)&&(S[j]=M[j])}function Ut(S){if("string"==typeof S)return S;if(Array.isArray(S))return`[${S.map(Ut).join(", ")}]`;if(null==S)return""+S;const M=S.overriddenName||S.name;if(M)return`${M}`;const j=S.toString();if(null==j)return""+j;const ie=j.indexOf("\n");return ie>=0?j.slice(0,ie):j}function $i(S,M){return S?M?`${S} ${M}`:S:M||""}const bi=ht({__forward_ref__:ht});function ui(S){return S.__forward_ref__=ui,S.toString=function(){return Ut(this())},S}function Ft(S){return wi(S)?S():S}function wi(S){return"function"==typeof S&&S.hasOwnProperty(bi)&&S.__forward_ref__===ui}function ri(S,M){"number"!=typeof S&&at(M,typeof S,"number","===")}function Kt(S,M,j){ri(S,"Expected a number"),function ni(S,M,j){S<=M||at(j,S,M,"<=")}(S,j,"Expected number to be less than or equal to"),gn(S,M,"Expected number to be greater than or equal to")}function Zi(S,M){"string"!=typeof S&&at(M,null===S?"null":typeof S,"string","===")}function Ti(S,M){"function"!=typeof S&&at(M,null===S?"null":typeof S,"function","===")}function fi(S,M,j){S!=M&&at(j,S,M,"==")}function Mi(S,M,j){S==M&&at(j,S,M,"!=")}function Ci(S,M,j){S!==M&&at(j,S,M,"===")}function it(S,M,j){S===M&&at(j,S,M,"!==")}function gt(S,M,j){S<M||at(j,S,M,"<")}function sn(S,M,j){S>M||at(j,S,M,">")}function gn(S,M,j){S>=M||at(j,S,M,">=")}function Ie(S,M){null==S&&at(M,S,null,"!=")}function at(S,M,j,ie){throw new Error(`ASSERTION ERROR: ${S}`+(null==ie?"":` [Expected=> ${j} ${ie} ${M} <=Actual]`))}function kn(S){S instanceof Node||at(`The provided value must be an instance of a DOM Node but got ${Ut(S)}`)}function Pt(S){S instanceof Element||at(`The provided value must be an element but got ${Ut(S)}`)}function Gi(S,M){Ie(S,"Array must be defined.");const j=S.length;(M<0||M>=j)&&at(`Index expected to be less than ${j} but got ${M}`)}function It(S,...M){if(-1!==M.indexOf(S))return!0;at(`Expected value to be one of ${JSON.stringify(M)} but was ${JSON.stringify(S)}.`)}function ye(S){null!==(0,R.nR)()&&at(`${S}() should never be called in a reactive context.`)}function qe(S){return{token:S.token,providedIn:S.providedIn||null,factory:S.factory,value:void 0}}function rt(S){return{providers:S.providers||[],imports:S.imports||[]}}function We(S){return function Ii(S,M){return S.hasOwnProperty(M)&&S[M]||null}(S,_n)}function ji(S){return S&&S.hasOwnProperty(Vi)?S[Vi]:null}const _n=ht({\u0275prov:ht}),Vi=ht({\u0275inj:ht});class xi{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(M,j){this._desc=M,this.\u0275prov=void 0,"number"==typeof j?this.__NG_ELEMENT_ID__=j:void 0!==j&&(this.\u0275prov=qe({token:this,providedIn:j.providedIn||"root",factory:j.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}let On;function wn(){return at("getInjectorProfilerContext should never be called in production mode"),On}function mn(S){at("setInjectorProfilerContext should never be called in production mode");const M=On;return On=S,M}const Ri=[],nn=()=>{};function ar(S){return at("setInjectorProfiler should never be called in production mode"),null!==S?(Ri.includes(S)||Ri.push(S),()=>function Bn(S){const M=Ri.indexOf(S);-1!==M&&Ri.splice(M,1)}(S)):(Ri.length=0,nn)}function vi(S){at("Injector profiler should never be called in production mode");for(let M=0;M<Ri.length;M++)(0,Ri[M])(S)}function ln(S,M=!1){let j;at("Injector profiler should never be called in production mode"),j="function"==typeof S||S instanceof xi?S:Ft(S.provide);let ie=S;S instanceof xi&&(ie=S.\u0275prov||S),vi({type:2,context:wn(),providerRecord:{token:j,provider:ie,isViewProvider:M}})}function Xn(S){at("Injector profiler should never be called in production mode"),vi({type:5,context:wn(),token:S})}function gr(S){at("Injector profiler should never be called in production mode"),vi({type:1,context:wn(),instance:{value:S}})}function Tn(S,M,j){at("Injector profiler should never be called in production mode"),vi({type:0,context:wn(),service:{token:S,value:M,flags:j}})}function Gn(S){at("Injector profiler should never be called in production mode"),vi({type:4,context:wn(),effectPhase:S})}function Cn(S,M,j){at("runInInjectorProfilerContext should never be called in production mode");const ie=mn({injector:S,token:M});try{j()}finally{mn(ie)}}function Hn(S){return S&&!!S.\u0275providers}const Ui=ht({\u0275cmp:ht}),gi=ht({\u0275dir:ht}),Hi=ht({\u0275pipe:ht}),En=ht({\u0275mod:ht}),xn=ht({\u0275fac:ht}),Wi=ht({__NG_ELEMENT_ID__:ht}),fn=ht({__NG_ENV_ID__:ht});function Dn(S){return qn(S),S[En]||null}function Qn(S){const M=Dn(S);if(!M)throw new Be(915,!1);return M}function or(S){return qn(S),S[Ui]||null}function Ki(S){const M=rn(S);if(!M)throw new Be(916,!1);return M}function rn(S){return qn(S),S[gi]||null}function mr(S){return qn(S),S[Hi]||null}function qn(S,M){if(null==S)throw new Be(-919,!1)}function Dr(S){const M=or(S)||rn(S)||mr(S);return null!==M&&M.standalone}function sr(S){return"string"==typeof S?S:null==S?"":String(S)}function wr(S){return"function"==typeof S?S.name||S.toString():"object"==typeof S&&null!=S&&"function"==typeof S.type?S.type.name||S.type.toString():sr(S)}function ea(S){const M=or(S);return null!==M&&M.debugInfo?function ga(S){return S.filePath&&S.lineNumber?`${S.className} (at ${S.filePath}:${S.lineNumber})`:S.className}(M.debugInfo):wr(S)}const yn=ht({ngErrorCode:ht}),jn=ht({ngErrorMessage:ht}),$t=ht({ngTokenPath:ht});function fr(S,M){return Te("",-200,M)}function $r(S,M){return function ke(S,M){return S.message=function kt(S,M,j=[],ie=null){let be="";j&&j.length>1&&(be=` Path: ${j.join(" -> ")}.`);return je(M,`${S}${ie?` Source: ${ie}.`:""}${be}`)}(S[jn]||S.message,S[yn],S[$t],M),S}(fr(0,M),null)}function J(S,M){throw new Be(-201,!1)}function Te(S,M,j){const ie=new Be(M,S);return ie[yn]=M,ie[jn]=S,j&&(ie[$t]=j),ie}let ot;function ai(){return ot}function Xt(S){const M=ot;return ot=S,M}function ei(S,M,j){const ie=We(S);return ie&&"root"==ie.providedIn?void 0===ie.value?ie.value=ie.factory():ie.value:8&j?null:void 0!==M?M:void J()}function Ai(S){}const Si={},qi="__NG_DI_FLAG__";class _t{injector;constructor(M){this.injector=M}retrieve(M,j){const ie=di(j)||0;try{return this.injector.get(M,8&ie?null:Si,ie)}catch(be){if(he(be))return be;throw be}}}function Mt(S,M=0){const j=de();if(void 0===j)throw new Be(-203,!1);if(null===j)return ei(S,void 0,M);{const ie=function an(S){return{optional:!!(8&S),host:!!(1&S),self:!!(2&S),skipSelf:!!(4&S)}}(M),be=j.retrieve(S,ie);if(he(be)){if(ie.optional)return null;throw be}return be}}function zt(S,M=0){return(ai()||Mt)(Ft(S),M)}function Pi(S){throw new Be(202,!1)}function At(S,M){return zt(S,di(M))}function di(S){return typeof S>"u"||"number"==typeof S?S:0|(S.optional&&8)|(S.host&&1)|(S.self&&2)|(S.skipSelf&&4)}function zi(S){const M=[];for(let j=0;j<S.length;j++){const ie=Ft(S[j]);if(Array.isArray(ie)){if(0===ie.length)throw new Be(900,!1);let be,Oe=0;for(let nt=0;nt<ie.length;nt++){const ki=ie[nt],wt=Vn(ki);"number"==typeof wt?-1===wt?be=ki.token:Oe|=wt:be=ki}M.push(zt(be,Oe))}else M.push(zt(ie))}return M}function Mr(S,M){return S[qi]=M,S.prototype[qi]=M,S}function Vn(S){return S[qi]}function Mn(S,M){return S.hasOwnProperty(xn)?S[xn]:null}function cn(S,M,j){if(S.length!==M.length)return!1;for(let ie=0;ie<S.length;ie++){let be=S[ie],Oe=M[ie];if(j&&(be=j(be),Oe=j(Oe)),Oe!==be)return!1}return!0}function un(S){return S.flat(Number.POSITIVE_INFINITY)}function Un(S,M){S.forEach(j=>Array.isArray(j)?Un(j,M):M(j))}function lr(S,M,j){M>=S.length?S.push(j):S.splice(M,0,j)}function In(S,M){return M>=S.length-1?S.pop():S.splice(M,1)[0]}function vn(S,M){const j=[];for(let ie=0;ie<S;ie++)j.push(M);return j}function Ir(S,M,j){const ie=S.length-j;for(;M<ie;)S[M]=S[M+j],M++;for(;j--;)S.pop()}function Tr(S,M,j,ie){let be=S.length;if(be==M)S.push(j,ie);else if(1===be)S.push(ie,S[0]),S[0]=j;else{for(be--,S.push(S[be-1],S[be]);be>M;)S[be]=S[be-2],be--;S[M]=j,S[M+1]=ie}}function yr(S,M,j){let ie=L(S,M);return ie>=0?S[1|ie]=j:(ie=~ie,Tr(S,ie,M,j)),ie}function ma(S,M){const j=L(S,M);if(j>=0)return S[1|j]}function L(S,M){return function X(S,M,j){let ie=0,be=S.length>>j;for(;be!==ie;){const Oe=ie+(be-ie>>1),nt=S[Oe<<j];if(M===nt)return Oe<<j;nt>M?be=Oe:ie=Oe+1}return~(be<<j)}(S,M,1)}const H={},V=[],ae=new xi(""),we=new xi("",-1),Le=new xi("");class Ve{get(M,j=Si){if(j===Si){const be=Te("",-201);throw be.name="\u0275NotFound",be}return j}}function Rt(S){return{\u0275providers:S}}function Wt(...S){return{\u0275providers:st(0,S),\u0275fromNgModule:!0}}function st(S,...M){const j=[],ie=new Set;let be;const Oe=nt=>{j.push(nt)};return Un(M,nt=>{const ki=nt;Ht(ki,Oe,[],ie)&&(be||=[],be.push(ki))}),void 0!==be&&oi(be,Oe),j}function oi(S,M){for(let j=0;j<S.length;j++){const{ngModule:ie,providers:be}=S[j];et(be,Oe=>{M(Oe,ie)})}}function Ht(S,M,j,ie){if(!(S=Ft(S)))return!1;let be=null,Oe=ji(S);const nt=!Oe&&or(S);if(Oe||nt){if(nt&&!nt.standalone)return!1;be=S}else{const wt=S.ngModule;if(Oe=ji(wt),!Oe)return!1;be=wt}const ki=ie.has(be);if(nt){if(ki)return!1;if(ie.add(be),nt.dependencies){const wt="function"==typeof nt.dependencies?nt.dependencies():nt.dependencies;for(const Fi of wt)Ht(Fi,M,j,ie)}}else{if(!Oe)return!1;{if(null!=Oe.imports&&!ki){let Fi;ie.add(be),Un(Oe.imports,Xa=>{Ht(Xa,M,j,ie)&&(Fi||=[],Fi.push(Xa))}),void 0!==Fi&&oi(Fi,M)}if(!ki){const Fi=Mn(be)||(()=>new be);M({provide:be,useFactory:Fi,deps:V},be),M({provide:Le,useValue:be,multi:!0},be),M({provide:ae,useValue:()=>zt(be),multi:!0},be)}const wt=Oe.providers;if(null!=wt&&!ki){const Fi=S;et(wt,Xa=>{M(Xa,Fi)})}}}return be!==S&&void 0!==S.providers}function et(S,M){for(let j of S)Hn(j)&&(j=j.\u0275providers),Array.isArray(j)?et(j,M):M(j)}const dt=ht({provide:String,useValue:ht});function qt(S){return null!==S&&"object"==typeof S&&dt in S}function hi(S){return"function"==typeof S}function Ni(S){return!!S.useClass}const Wn=new xi(""),ta={},Kn={};let br;function Gr(){return void 0===br&&(br=new Ve),br}class Hr{}class fa extends Hr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(M,j,ie,be){super(),this.parent=j,this.source=ie,this.scopes=be,li(M,nt=>this.processProvider(nt)),this.records.set(we,Vr(void 0,this)),be.has("environment")&&this.records.set(Hr,Vr(void 0,this));const Oe=this.records.get(Wn);null!=Oe&&"string"==typeof Oe.value&&this.scopes.add(Oe.value),this.injectorDefTypes=new Set(this.get(Le,V,{self:!0}))}retrieve(M,j){const ie=di(j)||0;try{return this.get(M,Si,ie)}catch(be){if(he(be))return be;throw be}}destroy(){jr(this),this._destroyed=!0;const M=(0,R.Ht)(null);try{for(const ie of this._ngOnDestroyHooks)ie.ngOnDestroy();const j=this._onDestroyHooks;this._onDestroyHooks=[];for(const ie of j)ie()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),(0,R.Ht)(M)}}onDestroy(M){return jr(this),this._onDestroyHooks.push(M),()=>this.removeOnDestroy(M)}runInContext(M){jr(this);const j=me(this),ie=Xt(void 0);try{return M()}finally{me(j),Xt(ie)}}get(M,j=Si,ie){if(jr(this),M.hasOwnProperty(fn))return M[fn](this);const be=di(ie),nt=me(this),ki=Xt(void 0);try{if(!(4&be)){let Fi=this.records.get(M);if(void 0===Fi){const Xa=function Y(S){return"function"==typeof S||"object"==typeof S&&"InjectionToken"===S.ngMetadataName}(M)&&We(M);Fi=Xa&&this.injectableDefInScope(Xa)?Vr(qr(M),ta):null,this.records.set(M,Fi)}if(null!=Fi)return this.hydrate(M,Fi,be)}return(2&be?Gr():this.parent).get(M,j=8&be&&j===Si?null:j)}catch(wt){const Fi=function Xe(S){return S[yn]}(wt);throw-200===Fi||-201===Fi?new Be(Fi,null):wt}finally{Xt(ki),me(nt)}}resolveInjectorInitializers(){const M=(0,R.Ht)(null),j=me(this),ie=Xt(void 0);try{const Oe=this.get(ae,V,{self:!0});for(const nt of Oe)nt()}finally{me(j),Xt(ie),(0,R.Ht)(M)}}toString(){const M=[],j=this.records;for(const ie of j.keys())M.push(Ut(ie));return`R3Injector[${M.join(", ")}]`}processProvider(M){let j=hi(M=Ft(M))?M:Ft(M&&M.provide);const ie=function Rr(S){return qt(S)?Vr(void 0,S.useValue):Vr(ho(S),ta)}(M);if(!hi(M)&&!0===M.multi){let be=this.records.get(j);be||(be=Vr(void 0,ta,!0),be.factory=()=>zi(be.multi),this.records.set(j,be)),j=M,be.multi.push(M)}this.records.set(j,ie)}hydrate(M,j,ie){const be=(0,R.Ht)(null);try{if(j.value===Kn)throw fr(Ut(M));return j.value===ta&&(j.value=Kn,j.value=j.factory(void 0,ie)),"object"==typeof j.value&&j.value&&function si(S){return null!==S&&"object"==typeof S&&"function"==typeof S.ngOnDestroy}(j.value)&&this._ngOnDestroyHooks.add(j.value),j.value}finally{(0,R.Ht)(be)}}injectableDefInScope(M){if(!M.providedIn)return!1;const j=Ft(M.providedIn);return"string"==typeof j?"any"===j||this.scopes.has(j):this.injectorDefTypes.has(j)}removeOnDestroy(M){const j=this._onDestroyHooks.indexOf(M);-1!==j&&this._onDestroyHooks.splice(j,1)}}function qr(S){const M=We(S),j=null!==M?M.factory:Mn(S);if(null!==j)return j;if(S instanceof xi)throw new Be(204,!1);if(S instanceof Function)return function Jn(S){if(S.length>0)throw new Be(204,!1);const j=function Ei(S){return(S?.[_n]??null)||null}(S);return null!==j?()=>j.factory(S):()=>new S}(S);throw new Be(204,!1)}function ho(S,M,j){let ie;if(hi(S)){const be=Ft(S);return Mn(be)||qr(be)}if(qt(S))ie=()=>Ft(S.useValue);else if(function Di(S){return!(!S||!S.useFactory)}(S))ie=()=>S.useFactory(...zi(S.deps||[]));else if(function Li(S){return!(!S||!S.useExisting)}(S))ie=(be,Oe)=>zt(Ft(S.useExisting),void 0!==Oe&&8&Oe?8:void 0);else{const be=Ft(S&&(S.useClass||S.provide));if(!function ya(S){return!!S.deps}(S))return Mn(be)||qr(be);ie=()=>new be(...zi(S.deps))}return ie}function jr(S){if(S.destroyed)throw new Be(205,!1)}function Vr(S,M,j=!1){return{factory:S,value:M,multi:j?[]:void 0}}function li(S,M){for(const j of S)Array.isArray(j)?li(j,M):j&&Hn(j)?li(j.\u0275providers,M):M(j)}function Ur(S,M){let j;S instanceof fa?(jr(S),j=S):j=new _t(S);const be=me(j),Oe=Xt(void 0);try{return M()}finally{me(be),Xt(Oe)}}function Lr(){return void 0!==ai()||null!=de()}function ba(S){if(!Lr())throw new Be(-203,!1)}const Ha=0,vr=1,Yi=2,va=3,qa=4,O=5,I=6,F=7,z=8,ue=9,Pe=10,xe=11,He=12,pt=13,mt=14,Lt=15,yt=16,ci=17,Xi=18,dn=19,An=20,yi=21,en=22,Cr=23,cr=24,Aa=25,ia=26,Sa=27,Pa=6,ja=7,Gs=8,Hs=9,na=10;function go(S){return Array.isArray(S)&&"object"==typeof S[1]}function Va(S){return Array.isArray(S)&&!0===S[1]}function sm(S){return!!(4&S.flags)}function ra(S){return S.componentOffset>-1}function nc(S){return!(1&~S.flags)}function rc(S){return!!S.template}function Go(S){return!!(512&S[Yi])}function aa(S){return!(256&~S[Yi])}function Wr(S,M){Ua(S,M[vr])}function ka(S,M){const j=M+Sa;Gi(S,j),gt(j,S[vr].bindingStartIndex,"TNodes should be created before any bindings")}function Ua(S,M){zn(S);const j=M.data;for(let ie=Sa;ie<j.length;ie++)if(j[ie]===S)return;at("This TNode does not belong to this TView.")}function zn(S){Ie(S,"TNode must be defined"),S&&"object"==typeof S&&S.hasOwnProperty("directiveStylingLast")||at("Not of type TNode, got: "+S)}function Wa(S){Ie(S,"Expected TIcu to be defined"),"number"!=typeof S.currentCaseLViewIndex&&at("Object is not of TIcu type.")}function fo(S,M="Type passed in is not ComponentType, it does not have '\u0275cmp' property."){or(S)||at(M)}function Pd(S,M="Type passed in is not NgModuleType, it does not have '\u0275mod' property."){Dn(S)||at(M)}function lm(S){Ie(S,"currentTNode should exist!"),Ie(S.parent,"currentTNode should have a parent")}function cm(S){Ie(S,"LContainer must be defined"),fi(Va(S),!0,"Expecting LContainer")}function oc(S){Ie(S,"LView must be defined"),fi(go(S),!0,"Expecting LView")}function VA(S,M){fi(S.firstCreatePass,!0,M||"Should only be called in first create pass.")}function um(S,M){fi(S.firstUpdatePass,!0,"Should only be called in first update pass.")}function kd(S){(void 0===S.type||null==S.selectors||void 0===S.inputs)&&at("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")}function dm(S,M){T(Sa,S.bindingStartIndex,M)}function Ho(S,M){T(S[1].expandoStartIndex,S.length,M)}function T(S,M,j){S<=j&&j<M||at(`Index out of range (expecting ${S} <= ${j} < ${M})`)}function x(S,M){Ie(S[Lt],"Component views should exist."),Ie(S[Lt][O].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}function k(S,M){Ie(S,"Component views should always have a parent view (component's host view)")}function $(S,M){Ho(S,M),Ho(S,M+8),ri(S[M+0],"injectorIndex should point to a bloom filter"),ri(S[M+1],"injectorIndex should point to a bloom filter"),ri(S[M+2],"injectorIndex should point to a bloom filter"),ri(S[M+3],"injectorIndex should point to a bloom filter"),ri(S[M+4],"injectorIndex should point to a bloom filter"),ri(S[M+5],"injectorIndex should point to a bloom filter"),ri(S[M+6],"injectorIndex should point to a bloom filter"),ri(S[M+7],"injectorIndex should point to a bloom filter"),ri(S[M+8],"injectorIndex should point to parent injector")}const Q="svg",tt="math";function bt(S){for(;Array.isArray(S);)S=S[Ha];return S}function Qt(S){for(;Array.isArray(S);){if("object"==typeof S[1])return S;S=S[Ha]}return null}function hn(S,M){return bt(M[S])}function Kr(S,M){return bt(M[S.index])}function zr(S,M){const j=null===S?-1:S.index;return-1!==j?bt(M[j]):null}function js(S,M){return S.data[M]}function _d(S,M){return S[M]}function Ze(S,M,j,ie){j>=S.data.length&&(S.data[j]=null,S.blueprint[j]=null),M[j]=ie}function Vs(S,M){const j=M[S];return go(j)?j:j[Ha]}function hm(S){return!(4&~S[Yi])}function qo(S){return!(128&~S[Yi])}function Us(S){return Va(S[va])}function pm(S,M){return null==M?null:S[M]}function gm(S){S[ci]=0}function UA(S){1024&S[Yi]||(S[Yi]|=1024,qo(S)&&Ws(S))}function sc(S,M){for(;S>0;)M=M[mt],S--;return M}function wd(S){return!!(9216&S[Yi]||S[cr]?.dirty)}function mm(S){S[Pe].changeDetectionScheduler?.notify(8),64&S[Yi]&&(S[Yi]|=1024),wd(S)&&Ws(S)}function Ws(S){S[Pe].changeDetectionScheduler?.notify(0);let M=jo(S);for(;null!==M&&!(8192&M[Yi])&&(M[Yi]|=8192,qo(M));)M=jo(M)}function yo(S,M){if(aa(S))throw new Be(911,!1);null===S[yi]&&(S[yi]=[]),S[yi].push(M)}function Yr(S,M){if(null===S[yi])return;const j=S[yi].indexOf(M);-1!==j&&S[yi].splice(j,1)}function jo(S){const M=S[va];return Va(M)?M[va]:M}function Td(S){return S[F]??=[]}function fm(S){return S.cleanup??=[]}function WA(S,M,j,ie){const be=Td(M);be.push(j),S.firstCreatePass&&fm(S).push(ie,be.length-1)}const Et={lFrame:Fd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var _a=function(S){return S[S.Off=0]="Off",S[S.Exhaustive=1]="Exhaustive",S[S.OnlyDirtyViews=2]="OnlyDirtyViews",S}(_a||{});let Ks=0,Ka=!1;function lc(){return Et.lFrame.elementDepthCount}function Cd(){Et.lFrame.elementDepthCount++}function cc(){Et.lFrame.elementDepthCount--}function ym(){return Et.bindingsEnabled}function Ed(){return null!==Et.skipHydrationRootTNode}function Vo(S){return Et.skipHydrationRootTNode===S}function xd(){Et.bindingsEnabled=!0}function uc(){Et.bindingsEnabled=!1}function dc(){Et.skipHydrationRootTNode=null}function Uo(){return Et.lFrame.lView}function Wo(){return Et.lFrame.tView}function bo(S){return Et.lFrame.contextLView=S,S[z]}function hc(S){return Et.lFrame.contextLView=null,S}function bm(){let S=vo();for(;null!==S&&64===S.type;)S=S.parent;return S}function vo(){return Et.lFrame.currentTNode}function Md(){const S=Et.lFrame,M=S.currentTNode;return S.isParent?M:M.parent}function vm(S,M){const j=Et.lFrame;j.currentTNode=S,j.isParent=M}function pc(){return Et.lFrame.isParent}function gc(){Et.lFrame.isParent=!1}function Ko(){return Et.lFrame.contextLView}function Id(){return at("Must never be called in production mode"),Ks!==_a.Off}function zs(){return at("Must never be called in production mode"),Ks===_a.Exhaustive}function Rd(S){at("Must never be called in production mode"),Ks=S}function zo(){return Ka}function wa(S){const M=Ka;return Ka=S,M}function mc(){const S=Et.lFrame;let M=S.bindingRootIndex;return-1===M&&(M=S.bindingRootIndex=S.tView.bindingStartIndex),M}function KA(){return Et.lFrame.bindingIndex}function Ao(S){return Et.lFrame.bindingIndex=S}function fc(){return Et.lFrame.bindingIndex++}function zA(S){const M=Et.lFrame,j=M.bindingIndex;return M.bindingIndex=M.bindingIndex+S,j}function Ys(){return Et.lFrame.inI18n}function yc(S){Et.lFrame.inI18n=S}function bc(S,M){const j=Et.lFrame;j.bindingIndex=j.bindingRootIndex=S,Ld(M)}function Nr(){return Et.lFrame.currentDirectiveIndex}function Ld(S){Et.lFrame.currentDirectiveIndex=S}function Nd(S){const M=Et.lFrame.currentDirectiveIndex;return-1===M?null:S[M]}function vc(){return Et.lFrame.currentQueryIndex}function YA(S){Et.lFrame.currentQueryIndex=S}function Am(S){const M=S[vr];return 2===M.type?M.declTNode:1===M.type?S[O]:null}function Xs(S,M,j){if(4&j){let be=M,Oe=S;for(;!(be=be.parent,null!==be||1&j||(be=Am(Oe),null===be||(Oe=Oe[mt],10&be.type))););if(null===be)return!1;M=be,S=Oe}const ie=Et.lFrame=Pm();return ie.currentTNode=M,ie.lView=S,!0}function Sm(S){const M=Pm(),j=S[vr];Et.lFrame=M,M.currentTNode=j.firstChild,M.lView=S,M.tView=j,M.contextLView=S,M.bindingIndex=j.bindingStartIndex,M.inI18n=!1}function Pm(){const S=Et.lFrame,M=null===S?null:S.child;return null===M?Fd(S):M}function Fd(S){const M={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:S,child:null,inI18n:!1};return null!==S&&(S.child=M),M}function Yo(){const S=Et.lFrame;return Et.lFrame=S.parent,S.currentTNode=null,S.lView=null,S}const XA=Yo;function Ac(){const S=Yo();S.isParent=!0,S.tView=null,S.selectedIndex=-1,S.contextLView=null,S.elementDepthCount=0,S.currentDirectiveIndex=-1,S.currentNamespace=null,S.bindingRootIndex=-1,S.bindingIndex=-1,S.currentQueryIndex=0}function Sc(S){return(Et.lFrame.contextLView=sc(S,Et.lFrame.contextLView))[z]}function Pc(){return Et.lFrame.selectedIndex}function So(S){Et.lFrame.selectedIndex=S}function kc(){const S=Et.lFrame;return js(S.tView,S.selectedIndex)}function Od(){Et.lFrame.currentNamespace=Q}function Xo(){Et.lFrame.currentNamespace=tt}function _c(){!function Rn(){Et.lFrame.currentNamespace=null}()}function Zn(){return Et.lFrame.currentNamespace}let Po=!0;function wc(){return Po}function Tc(S){Po=S}function Qs(S,M=null,j=null,ie){const be=Cc(S,M,j,ie);return be.resolveInjectorInitializers(),be}function Cc(S,M=null,j=null,ie,be=new Set){const Oe=[j||V,Wt(S)];return ie=ie||("object"==typeof S?void 0:Ut(S)),new fa(Oe,M||Gr(),ie||null,be)}class Qo{static THROW_IF_NOT_FOUND=Si;static NULL=new Ve;static create(M,j){if(Array.isArray(M))return Qs({name:""},j,M,"");{const ie=M.name??"";return Qs({name:ie},M.parent,M.providers,ie)}}static \u0275prov=qe({token:Qo,providedIn:"any",factory:()=>zt(we)});static __NG_ELEMENT_ID__=-1}const ko=new xi("");let Js=(()=>class S{static __NG_ELEMENT_ID__=Bd;static __NG_ENV_ID__=j=>j})();class Ec extends Js{_lView;constructor(M){super(),this._lView=M}get destroyed(){return aa(this._lView)}onDestroy(M){const j=this._lView;return yo(j,M),()=>Yr(j,M)}}function Bd(){return new Ec(Uo())}const $d=!1,Xr=new xi("");let Ta=(()=>{class S{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new m.t(!1);debugTaskTracker=At(Xr,{optional:!0});get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new G.c(j=>{j.next(!1),j.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const j=this.taskId++;return this.pendingTasks.add(j),this.debugTaskTracker?.add(j),j}has(j){return this.pendingTasks.has(j)}remove(j){this.pendingTasks.delete(j),this.debugTaskTracker?.remove(j),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=qe({token:S,providedIn:"root",factory:()=>new S})}return S})();const Ca=class xc extends se.B7{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(M=!1){super(),this.__isAsync=M,Lr()&&(this.destroyRef=At(Js,{optional:!0})??void 0,this.pendingTasks=At(Ta,{optional:!0})??void 0)}emit(M){const j=(0,R.Ht)(null);try{super.next(M)}finally{(0,R.Ht)(j)}}subscribe(M,j,ie){let be=M,Oe=j||(()=>null),nt=ie;if(M&&"object"==typeof M){const wt=M;be=wt.next?.bind(wt),Oe=wt.error?.bind(wt),nt=wt.complete?.bind(wt)}this.__isAsync&&(Oe=this.wrapInTimeout(Oe),be&&(be=this.wrapInTimeout(be)),nt&&(nt=this.wrapInTimeout(nt)));const ki=super.subscribe({next:be,error:Oe,complete:nt});return M instanceof w.y&&M.add(ki),ki}wrapInTimeout(M){return j=>{const ie=this.pendingTasks?.add();setTimeout(()=>{try{M(j)}finally{void 0!==ie&&this.pendingTasks?.remove(ie)}})}}};function Zs(...S){}function km(S){let M,j;function ie(){S=Zs;try{void 0!==j&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(j),void 0!==M&&clearTimeout(M)}catch{}}return M=setTimeout(()=>{S(),ie()}),"function"==typeof requestAnimationFrame&&(j=requestAnimationFrame(()=>{S(),ie()})),()=>ie()}function QA(S){return queueMicrotask(()=>S()),()=>{S=Zs}}const Dc="isAngularZone",Gd=Dc+"_ID";let _m=0;class Ar{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ca(!1);onMicrotaskEmpty=new Ca(!1);onStable=new Ca(!1);onError=new Ca(!1);constructor(M){const{enableLongStackTrace:j=!1,shouldCoalesceEventChangeDetection:ie=!1,shouldCoalesceRunChangeDetection:be=!1,scheduleInRootZone:Oe=$d}=M;if(typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();const nt=this;nt._nesting=0,nt._outer=nt._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(nt._inner=nt._inner.fork(new Zone.TaskTrackingZoneSpec)),j&&Zone.longStackTraceZoneSpec&&(nt._inner=nt._inner.fork(Zone.longStackTraceZoneSpec)),nt.shouldCoalesceEventChangeDetection=!be&&ie,nt.shouldCoalesceRunChangeDetection=be,nt.callbackScheduled=!1,nt.scheduleInRootZone=Oe,function Jo(S){const M=()=>{!function Qi(S){function M(){km(()=>{S.callbackScheduled=!1,oa(S),S.isCheckStableRunning=!0,za(S),S.isCheckStableRunning=!1})}S.isCheckStableRunning||S.callbackScheduled||(S.callbackScheduled=!0,S.scheduleInRootZone?Zone.root.run(()=>{M()}):S._outer.run(()=>{M()}),oa(S))}(S)},j=_m++;S._inner=S._inner.fork({name:"angular",properties:{[Dc]:!0,[Gd]:j,[Gd+j]:!0},onInvokeTask:(ie,be,Oe,nt,ki,wt)=>{if(function wm(S){return el(S,"__ignore_ng_zone__")}(wt))return ie.invokeTask(Oe,nt,ki,wt);try{return Mc(S),ie.invokeTask(Oe,nt,ki,wt)}finally{(S.shouldCoalesceEventChangeDetection&&"eventTask"===nt.type||S.shouldCoalesceRunChangeDetection)&&M(),Ic(S)}},onInvoke:(ie,be,Oe,nt,ki,wt,Fi)=>{try{return Mc(S),ie.invoke(Oe,nt,ki,wt,Fi)}finally{S.shouldCoalesceRunChangeDetection&&!S.callbackScheduled&&!function Zo(S){return el(S,"__scheduler_tick__")}(wt)&&M(),Ic(S)}},onHasTask:(ie,be,Oe,nt)=>{ie.hasTask(Oe,nt),be===Oe&&("microTask"==nt.change?(S._hasPendingMicrotasks=nt.microTask,oa(S),za(S)):"macroTask"==nt.change&&(S.hasPendingMacrotasks=nt.macroTask))},onHandleError:(ie,be,Oe,nt)=>(ie.handleError(Oe,nt),S.runOutsideAngular(()=>S.onError.emit(nt)),!1)})}(nt)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Dc)}static assertInAngularZone(){if(!Ar.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(Ar.isInAngularZone())throw new Be(909,!1)}run(M,j,ie){return this._inner.run(M,j,ie)}runTask(M,j,ie,be){const Oe=this._inner,nt=Oe.scheduleEventTask("NgZoneEvent: "+be,M,Jt,Zs,Zs);try{return Oe.runTask(nt,j,ie)}finally{Oe.cancelTask(nt)}}runGuarded(M,j,ie){return this._inner.runGuarded(M,j,ie)}runOutsideAngular(M){return this._outer.run(M)}}const Jt={};function za(S){if(0==S._nesting&&!S.hasPendingMicrotasks&&!S.isStable)try{S._nesting++,S.onMicrotaskEmpty.emit(null)}finally{if(S._nesting--,!S.hasPendingMicrotasks)try{S.runOutsideAngular(()=>S.onStable.emit(null))}finally{S.isStable=!0}}}function oa(S){S.hasPendingMicrotasks=!!(S._hasPendingMicrotasks||(S.shouldCoalesceEventChangeDetection||S.shouldCoalesceRunChangeDetection)&&!0===S.callbackScheduled)}function Mc(S){S._nesting++,S.isStable&&(S.isStable=!1,S.onUnstable.emit(null))}function Ic(S){S._nesting--,za(S)}class JA{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ca;onMicrotaskEmpty=new Ca;onStable=new Ca;onError=new Ca;run(M,j,ie){return M.apply(j,ie)}runGuarded(M,j,ie){return M.apply(j,ie)}runOutsideAngular(M){return M()}runTask(M,j,ie,be){return M.apply(j,ie)}}function el(S,M){return!(!Array.isArray(S)||1!==S.length)&&!0===S[0]?.data?.[M]}class es{_console=console;handleError(M){this._console.error("ERROR",M)}}const Zt=new xi("",{factory:()=>{const S=At(Ar),M=At(Hr);let j;return ie=>{S.runOutsideAngular(()=>{M.destroyed&&!j?setTimeout(()=>{throw ie}):(j??=M.get(es),j.handleError(ie))})}}}),er={provide:ae,useValue:()=>{At(es,{optional:!0})},multi:!0};function Tm(S,M){const[j,ie,be]=(0,R.n5)(S,M?.equal),Oe=j;return Oe.set=ie,Oe.update=be,Oe.asReadonly=qd.bind(Oe),Oe}function qd(){const S=this[R.bh];if(void 0===S.readonlyFn){const M=()=>this();M[R.bh]=S,S.readonlyFn=M}return S.readonlyFn}function Cm(S,M){if(null!==(0,R.nR)())throw new Be(-602,!1)}let ts=(()=>class S{view;node;constructor(j,ie){this.view=j,this.node=ie}static __NG_ELEMENT_ID__=jd})();function jd(){return new ts(Uo(),bm())}class Lc{}const Em=new xi("",{factory:()=>!0}),Vd=new xi("",{factory:()=>!1}),tl=new xi("");let xm=(()=>{class S{internalPendingTasks=At(Ta);scheduler=At(Lc);errorHandler=At(Zt);add(){const j=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(j)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(j))}}run(j){const ie=this.add();j().catch(this.errorHandler).finally(ie)}static \u0275prov=qe({token:S,providedIn:"root",factory:()=>new S})}return S})(),is=(()=>{class S{static \u0275prov=qe({token:S,providedIn:"root",factory:()=>new Dm})}return S})();class Dm{dirtyEffectCount=0;queues=new Map;add(M){this.enqueue(M),this.schedule(M)}schedule(M){M.dirty&&this.dirtyEffectCount++}remove(M){const ie=this.queues.get(M.zone);ie.has(M)&&(ie.delete(M),M.dirty&&this.dirtyEffectCount--)}enqueue(M){const j=M.zone;this.queues.has(j)||this.queues.set(j,new Set);const ie=this.queues.get(j);ie.has(M)||ie.add(M)}flush(){for(;this.dirtyEffectCount>0;){let M=!1;for(const[j,ie]of this.queues)M||=null===j?this.flushQueue(ie):j.run(()=>this.flushQueue(ie));M||(this.dirtyEffectCount=0)}}flushQueue(M){let j=!1;for(const ie of M)ie.dirty&&(this.dirtyEffectCount--,j=!0,ie.run());return j}}class Ud{[R.bh];constructor(M){this[R.bh]=M}destroy(){this[R.bh].destroy()}}function Mm(S,M){const j=M?.injector??At(Qo);let be,ie=!0!==M?.manualCleanup?j.get(Js):null;const Oe=j.get(ts,null,{optional:!0}),nt=j.get(Lc);return null!==Oe?(be=function Oc(S,M,j){const ie=Object.create(Fc);return ie.view=S,ie.zone=typeof Zone<"u"?Zone.current:null,ie.notifier=M,ie.fn=ns(ie,j),S[Cr]??=new Set,S[Cr].add(ie),ie.consumerMarkedDirty(ie),ie}(Oe.view,nt,S),ie instanceof Ec&&ie._lView===Oe.view&&(ie=null)):be=function Bc(S,M,j){const ie=Object.create(Wd);return ie.fn=ns(ie,S),ie.scheduler=M,ie.notifier=j,ie.zone=typeof Zone<"u"?Zone.current:null,ie.scheduler.add(ie),ie.notifier.notify(12),ie}(S,j.get(is),nt),be.injector=j,null!==ie&&(be.onDestroyFns=[ie.onDestroy(()=>be.destroy())]),new Ud(be)}const Nc={...R.vX,cleanupFns:void 0,zone:null,onDestroyFns:null,run(){const S=wa(!1);try{(0,R.lh)(this)}finally{wa(S)}},cleanup(){if(!this.cleanupFns?.length)return;const S=(0,R.Ht)(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],(0,R.Ht)(S)}}},Wd={...Nc,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if((0,R.XR)(this),null!==this.onDestroyFns)for(const S of this.onDestroyFns)S();this.cleanup(),this.scheduler.remove(this)}},Fc={...Nc,consumerMarkedDirty(){this.view[Yi]|=8192,Ws(this.view),this.notifier.notify(13)},destroy(){if((0,R.XR)(this),null!==this.onDestroyFns)for(const S of this.onDestroyFns)S();this.cleanup(),this.view[Cr]?.delete(this)}};function ns(S,M){return()=>{M(j=>(S.cleanupFns??=[]).push(j))}}function Ya(S){return(0,R.O8)(S)}},467(Ue,ge,B){function R(G,se,w,g,de,me,re){try{var ne=G[me](re),oe=ne.value}catch(he){return void w(he)}ne.done?se(oe):Promise.resolve(oe).then(g,de)}function m(G){return function(){var se=this,w=arguments;return new Promise(function(g,de){var me=G.apply(se,w);function re(oe){R(me,g,de,re,ne,"next",oe)}function ne(oe){R(me,g,de,re,ne,"throw",oe)}re(void 0)})}}B.d(ge,{A:()=>m})},554(Ue,ge,B){B.d(ge,{A:()=>m});const m=function R(G){var se=typeof G;return null!=G&&("object"==se||"function"==se)}},563(Ue,ge,B){B.d(ge,{A:()=>m});const m=function R(G,se){for(var w=-1,g=se.length,de=G.length;++w<g;)G[de+w]=se[w];return G}},614(Ue,ge,B){B.d(ge,{$:()=>m});let R=!1;const m={Promise:void 0,set useDeprecatedSynchronousErrorHandling(G){if(G){const se=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+se.stack)}else R&&console.log("RxJS: Back to a better error behavior. Thank you. <3");R=G},get useDeprecatedSynchronousErrorHandling(){return R}}},762(Ue,ge,B){B.d(ge,{v:()=>de});var R=B(8099),m=B(178),G=B(4337),se=B(91),w=B(614),g=B(8253);class de extends G.y{constructor(ne,oe,he){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=m.I;break;case 1:if(!ne){this.destination=m.I;break}if("object"==typeof ne){ne instanceof de?(this.syncErrorThrowable=ne.syncErrorThrowable,this.destination=ne,ne.add(this)):(this.syncErrorThrowable=!0,this.destination=new me(this,ne));break}default:this.syncErrorThrowable=!0,this.destination=new me(this,ne,oe,he)}}[se.D](){return this}static create(ne,oe,he){const Se=new de(ne,oe,he);return Se.syncErrorThrowable=!1,Se}next(ne){this.isStopped||this._next(ne)}error(ne){this.isStopped||(this.isStopped=!0,this._error(ne))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ne){this.destination.next(ne)}_error(ne){this.destination.error(ne),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ne}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ne,this}}class me extends de{constructor(ne,oe,he,Se){super(),this._parentSubscriber=ne;let Ge,_e=this;(0,R.T)(oe)?Ge=oe:oe&&(Ge=oe.next,he=oe.error,Se=oe.complete,oe!==m.I&&(_e=Object.create(oe),(0,R.T)(_e.unsubscribe)&&this.add(_e.unsubscribe.bind(_e)),_e.unsubscribe=this.unsubscribe.bind(this))),this._context=_e,this._next=Ge,this._error=he,this._complete=Se}next(ne){if(!this.isStopped&&this._next){const{_parentSubscriber:oe}=this;w.$.useDeprecatedSynchronousErrorHandling&&oe.syncErrorThrowable?this.__tryOrSetError(oe,this._next,ne)&&this.unsubscribe():this.__tryOrUnsub(this._next,ne)}}error(ne){if(!this.isStopped){const{_parentSubscriber:oe}=this,{useDeprecatedSynchronousErrorHandling:he}=w.$;if(this._error)he&&oe.syncErrorThrowable?(this.__tryOrSetError(oe,this._error,ne),this.unsubscribe()):(this.__tryOrUnsub(this._error,ne),this.unsubscribe());else if(oe.syncErrorThrowable)he?(oe.syncErrorValue=ne,oe.syncErrorThrown=!0):(0,g.T)(ne),this.unsubscribe();else{if(this.unsubscribe(),he)throw ne;(0,g.T)(ne)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ne}=this;if(this._complete){const oe=()=>this._complete.call(this._context);w.$.useDeprecatedSynchronousErrorHandling&&ne.syncErrorThrowable?(this.__tryOrSetError(ne,oe),this.unsubscribe()):(this.__tryOrUnsub(oe),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ne,oe){try{ne.call(this._context,oe)}catch(he){if(this.unsubscribe(),w.$.useDeprecatedSynchronousErrorHandling)throw he;(0,g.T)(he)}}__tryOrSetError(ne,oe,he){if(!w.$.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{oe.call(this._context,he)}catch(Se){return w.$.useDeprecatedSynchronousErrorHandling?(ne.syncErrorValue=Se,ne.syncErrorThrown=!0,!0):((0,g.T)(Se),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ne}=this;this._context=null,this._parentSubscriber=null,ne.unsubscribe()}}},778(Ue,ge,B){B.d(ge,{A:()=>m});const m=function R(G){return function(se){return G(se)}}},1080(Ue,ge,B){B.d(ge,{b:()=>se});var R=B(8189);const se=new(B(6228).q)(R.R)},1287(Ue,ge,B){B.d(ge,{A:()=>se});var R=B(129),m=B(5481);const se=function G(w){return null!=w&&(0,m.A)(w.length)&&!(0,R.A)(w)}},1319(Ue,ge,B){B.d(ge,{A:()=>m});const m=function R(G,se){return G===se||G!=G&&se!=se}},1350(Ue,ge,B){B.d(ge,{A:()=>Ut});var R=B(4713),m=B(1860);const se=(0,R.A)(m.A,"DataView");var w=B(6568);const de=(0,R.A)(m.A,"Promise"),re=(0,R.A)(m.A,"Set"),oe=(0,R.A)(m.A,"WeakMap");var he=B(5281),Se=B(8736),Ge="[object Map]",Me="[object Promise]",ze="[object Set]",Be="[object WeakMap]",$e="[object DataView]",je=(0,Se.A)(se),ut=(0,Se.A)(w.A),ii=(0,Se.A)(de),vt=(0,Se.A)(re),ht=(0,Se.A)(oe),Vt=he.A;(se&&Vt(new se(new ArrayBuffer(1)))!=$e||w.A&&Vt(new w.A)!=Ge||de&&Vt(de.resolve())!=Me||re&&Vt(new re)!=ze||oe&&Vt(new oe)!=Be)&&(Vt=function($i){var Ct=(0,he.A)($i),bi="[object Object]"==Ct?$i.constructor:void 0,ui=bi?(0,Se.A)(bi):"";if(ui)switch(ui){case je:return $e;case ut:return Ge;case ii:return Me;case vt:return ze;case ht:return Be}return Ct});const Ut=Vt},1456(Ue,ge,B){function R(m){return null!==m&&"object"==typeof m}B.d(ge,{G:()=>R})},1860(Ue,ge,B){B.d(ge,{A:()=>se});var R=B(7133),m="object"==typeof self&&self&&self.Object===Object&&self;const se=R.A||m||Function("return this")()},2145(Ue,ge,B){B.d(ge,{P:()=>m});const m=(()=>{function G(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return G.prototype=Object.create(Error.prototype),G})()},2234(Ue,ge,B){function R(m){return m&&"function"==typeof m.schedule}B.d(ge,{m:()=>R})},2291(Ue,ge,B){B.d(ge,{A:()=>Ci});const G=(0,B(4713).A)(Object,"create");var ne=Object.prototype.hasOwnProperty;var Ge=Object.prototype.hasOwnProperty;function je(it){var gt=-1,ni=null==it?0:it.length;for(this.clear();++gt<ni;){var sn=it[gt];this.set(sn[0],sn[1])}}je.prototype.clear=function se(){this.__data__=G?G(null):{},this.size=0},je.prototype.delete=function g(it){var gt=this.has(it)&&delete this.__data__[it];return this.size-=gt?1:0,gt},je.prototype.get=function oe(it){var gt=this.__data__;if(G){var ni=gt[it];return"__lodash_hash_undefined__"===ni?void 0:ni}return ne.call(gt,it)?gt[it]:void 0},je.prototype.has=function _e(it){var gt=this.__data__;return G?void 0!==gt[it]:Ge.call(gt,it)},je.prototype.set=function Be(it,gt){var ni=this.__data__;return this.size+=this.has(it)?0:1,ni[it]=G&&void 0===gt?"__lodash_hash_undefined__":gt,this};const ut=je;var ii=B(7015),vt=B(6568);const bi=function Ct(it,gt){var ni=it.__data__;return function Ut(it){var gt=typeof it;return"string"==gt||"number"==gt||"symbol"==gt||"boolean"==gt?"__proto__"!==it:null===it}(gt)?ni["string"==typeof gt?"string":"hash"]:ni.map};function Mi(it){var gt=-1,ni=null==it?0:it.length;for(this.clear();++gt<ni;){var sn=it[gt];this.set(sn[0],sn[1])}}Mi.prototype.clear=function ht(){this.size=0,this.__data__={hash:new ut,map:new(vt.A||ii.A),string:new ut}},Mi.prototype.delete=function ui(it){var gt=bi(this,it).delete(it);return this.size-=gt?1:0,gt},Mi.prototype.get=function wi(it){return bi(this,it).get(it)},Mi.prototype.has=function Kt(it){return bi(this,it).has(it)},Mi.prototype.set=function Ti(it,gt){var ni=bi(this,it),sn=ni.size;return ni.set(it,gt),this.size+=ni.size==sn?0:1,this};const Ci=Mi},2496(Ue,ge,B){B.d(ge,{V:()=>G});var R=B(253),m=B(4337);function G(se,w){return new R.c(g=>{const de=new m.y;let me=0;return de.add(w.schedule(function(){me!==se.length?(g.next(se[me++]),g.closed||de.add(this.schedule())):g.complete()})),de})}},2661(Ue,ge,B){B.d(ge,{A:()=>m});const m=function R(G){return null!=G&&"object"==typeof G}},2662(Ue,ge,B){B.d(ge,{A:()=>he});var R=B(6726),m=B(5776);const w=(0,B(8992).A)(Object.keys,Object);var de=Object.prototype.hasOwnProperty;var ne=B(1287);const he=function oe(Se){return(0,ne.A)(Se)?(0,R.A)(Se):function me(Se){if(!(0,m.A)(Se))return w(Se);var Ge=[];for(var _e in Object(Se))de.call(Se,_e)&&"constructor"!=_e&&Ge.push(_e);return Ge}(Se)}},3004(Ue,ge,B){B.d(ge,{gn:()=>g,tS:()=>me,zA:()=>se});var R=B(762),m=B(253),G=B(135);class se extends R.v{constructor(ne){super(),this.parent=ne}_next(ne){this.parent.notifyNext(ne)}_error(ne){this.parent.notifyError(ne),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class g extends R.v{notifyNext(ne){this.destination.next(ne)}notifyError(ne){this.destination.error(ne)}notifyComplete(){this.destination.complete()}}function me(re,ne){if(ne.closed)return;if(re instanceof m.c)return re.subscribe(ne);let oe;try{oe=(0,G.i)(re)(ne)}catch(he){ne.error(he)}return oe}},3043(Ue,ge,B){var R={};B.r(R),B.d(R,{afterMain:()=>QL,afterRead:()=>zL,afterWrite:()=>e2,applyStyles:()=>oI,arrow:()=>l2,auto:()=>Sw,basePlacements:()=>Vg,beforeMain:()=>YL,beforeRead:()=>WL,beforeWrite:()=>JL,bottom:()=>da,clippingParents:()=>VL,computeStyles:()=>uI,createPopper:()=>yI,createPopperBase:()=>QH,createPopperLite:()=>e7,detectOverflow:()=>Xg,end:()=>Ug,eventListeners:()=>dI,flip:()=>g2,hide:()=>y2,left:()=>Br,main:()=>XL,modifierPhases:()=>t2,offset:()=>b2,placements:()=>rI,popper:()=>Wg,popperGenerator:()=>Tw,popperOffsets:()=>fI,preventOverflow:()=>v2,read:()=>KL,reference:()=>UL,right:()=>ha,start:()=>dd,top:()=>Or,variationPlacements:()=>nI,viewport:()=>iI,write:()=>ZL});var m=B(467),G=B(6494),se=B(3117),w=B(375),g=B(5547),de=B(7705);const ne="browser",Ut=o=>o.src,$i=new w.nKC("",{factory:()=>Ut}),Bn=/^((\s*\d+w\s*(,|$)){1,})$/,Xn=[1,2];let Wi=(()=>{class o{imageLoader=(0,w.WQX)($i);config=function fn(o){let e={};return o.breakpoints&&(e.breakpoints=o.breakpoints.sort((t,i)=>t-i)),Object.assign({},g.mY,o,e)}((0,w.WQX)(g.VeQ));renderer=(0,w.WQX)(g.sFG);imgElement=(0,w.WQX)(g.aKT).nativeElement;injector=(0,w.WQX)(w.zZn);destroyRef=(0,w.WQX)(w.abz);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){(0,g._jY)("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true"),this.updateSrcAndSrcset(),this.sizes?"lazy"===this.getLoadingBehavior()?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&Bn.test(this.ngSrcset)&&"lazy"===this.getLoadingBehavior()&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(t){t.ngSrc&&!t.ngSrc.isFirstChange()&&this.updateSrcAndSrcset(!0)}callImageLoader(t){let i=t;return this.loaderParams&&(i.loaderParams=this.loaderParams),this.imageLoader(i)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const t=Bn.test(this.ngSrcset);return this.ngSrcset.split(",").filter(n=>""!==n).map(n=>{n=n.trim();const s=t?parseFloat(n):parseFloat(n)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:s})} ${n}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:t}=this.config;let i=t;return"100vw"===this.sizes?.trim()&&(i=t.filter(s=>s>=640)),i.map(s=>`${this.callImageLoader({src:this.ngSrc,width:s})} ${s}w`).join(", ")}updateSrcAndSrcset(t=!1){t&&(this._renderedSrc=null);const i=this.getRewrittenSrc();let n;return this.setHostAttribute("src",i),this.ngSrcset?n=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(n=this.getAutomaticSrcset()),n&&this.setHostAttribute("srcset",n),n}getFixedSrcset(){return Xn.map(i=>`${this.callImageLoader({src:this.ngSrc,width:this.width*i})} ${i}x`).join(", ")}shouldGenerateAutomaticSrcset(){let t=!1;return this.sizes||(t=this.width>1920||this.height>1080),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==Ut&&!t}generatePlaceholder(t){const{placeholderResolution:i}=this.config;return!0===t?`url(${this.callImageLoader({src:this.ngSrc,width:i,isPlaceholder:!0})})`:"string"==typeof t?`url(${t})`:null}shouldBlurPlaceholder(t){return!t||!t.hasOwnProperty("blur")||!!t.blur}removePlaceholderOnLoad(t){const i=()=>{const r=this.injector.get(de.gRc);n(),s(),this.placeholder=!1,r.markForCheck()},n=this.renderer.listen(t,"load",i),s=this.renderer.listen(t,"error",i);this.destroyRef.onDestroy(()=>{n(),s()}),function Xt(o,e){o.complete&&o.naturalWidth&&e()}(t,i)}setHostAttribute(t,i){this.renderer.setAttribute(this.imgElement,t,i)}static \u0275fac=function(i){return new(i||o)};static \u0275dir=g.FsC({type:o,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(i,n){2&i&&g.xc7("position",n.fill?"absolute":null)("width",n.fill?"100%":null)("height",n.fill?"100%":null)("inset",n.fill?"0":null)("background-size",n.placeholder?"cover":null)("background-position",n.placeholder?"50% 50%":null)("background-repeat",n.placeholder?"no-repeat":null)("background-image",n.placeholder?n.generatePlaceholder(n.placeholder):null)("filter",n.placeholder&&n.shouldBlurPlaceholder(n.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",Ai],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",de.Udg],height:[2,"height","height",de.Udg],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",de.L39],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",de.L39],fill:[2,"fill","fill",de.L39],placeholder:[2,"placeholder","placeholder",bn],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[g.OA$]})}return o})();function Ai(o){return"string"==typeof o?o:(0,g.aCM)(o)}function bn(o){return"string"==typeof o&&"true"!==o&&"false"!==o&&""!==o?o:(0,de.L39)(o)}class Si{_doc;constructor(e){this._doc=e}manager}let qi=(()=>{class o extends Si{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,n,s){return t.addEventListener(i,n,s),()=>this.removeEventListener(t,i,n,s)}removeEventListener(t,i,n,s){return t.removeEventListener(i,n,s)}static \u0275fac=function(i){return new(i||o)(w.KVO(w.qQL))};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac})}return o})();const _t=new w.nKC("");let Mt=(()=>{class o{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this});const n=t.filter(r=>!(r instanceof qi));this._plugins=n.slice().reverse();const s=t.find(r=>r instanceof qi);s&&this._plugins.push(s)}addEventListener(t,i,n,s){return this._findPluginFor(i).addEventListener(t,i,n,s)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new w.buA(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||o)(w.KVO(_t),w.KVO(w.SKi))};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac})}return o})();const zt="ng-app-id";function Pi(o){for(const e of o)e.remove()}function At(o,e){const t=e.createElement("style");return t.textContent=o,t}function an(o,e){const t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",o),t}let zi=(()=>{class o{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,i,n,s={}){this.doc=t,this.appId=i,this.nonce=n,function di(o,e,t,i){const n=o.head?.querySelectorAll(`style[${zt}="${e}"],link[${zt}="${e}"]`);if(n)for(const s of n)s.removeAttribute(zt),s instanceof HTMLLinkElement?i.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(const n of t)this.addUsage(n,this.inline,At);i?.forEach(n=>this.addUsage(n,this.external,an))}removeStyles(t,i){for(const n of t)this.removeUsage(n,this.inline);i?.forEach(n=>this.removeUsage(n,this.external))}addUsage(t,i,n){const s=i.get(t);s?s.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(r=>this.addElement(r,n(t,this.doc)))})}removeUsage(t,i){const n=i.get(t);n&&(n.usage--,n.usage<=0&&(Pi(n.elements),i.delete(t)))}ngOnDestroy(){for(const[,{elements:t}]of[...this.inline,...this.external])Pi(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(const[i,{elements:n}]of this.inline)n.push(this.addElement(t,At(i,this.doc)));for(const[i,{elements:n}]of this.external)n.push(this.addElement(t,an(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),t.appendChild(i)}static \u0275fac=function(i){return new(i||o)(w.KVO(w.qQL),w.KVO(g.sZ2),w.KVO(g.BIS,8),w.KVO(g.Agw))};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac})}return o})();const Mr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vn=/%COMP%/g,vn=new w.nKC("",{factory:()=>!0});function yr(o,e){return e.map(t=>t.replace(Vn,o))}let L=(()=>{class o{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,i,n,s,r,c,d=null,h=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=n,this.removeStylesOnCompDestroy=s,this.doc=r,this.ngZone=c,this.nonce=d,this.tracingService=h,this.defaultRenderer=new X(t,r,c,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const n=this.getOrCreateRenderer(t,i);return n instanceof Ve?n.applyToHost(t):n instanceof Le&&n.applyStyles(),n}getOrCreateRenderer(t,i){const n=this.rendererByCompId;let s=n.get(i.id);if(!s){const r=this.doc,c=this.ngZone,d=this.eventManager,h=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,E=this.tracingService;switch(i.encapsulation){case g.gXe.Emulated:s=new Ve(d,h,i,this.appId,v,r,c,E);break;case g.gXe.ShadowDom:return new we(d,t,i,r,c,this.nonce,E,h);case g.gXe.ExperimentalIsolatedShadowDom:return new we(d,t,i,r,c,this.nonce,E);default:s=new Le(d,h,i,v,r,c,E)}n.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||o)(w.KVO(Mt),w.KVO(zi),w.KVO(g.sZ2),w.KVO(vn),w.KVO(w.qQL),w.KVO(w.SKi),w.KVO(g.BIS),w.KVO(g.a8H,8))};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac})}return o})();class X{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,n){this.eventManager=e,this.doc=t,this.ngZone=i,this.tracingService=n}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Mr[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(ae(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(ae(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new w.buA(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,n){if(n){t=n+":"+t;const s=Mr[n];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const n=Mr[i];n?e.removeAttributeNS(n,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,n){n&(g.czy.DashCase|g.czy.Important)?e.style.setProperty(t,i,n&g.czy.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&g.czy.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,n){if("string"==typeof e&&!(e=(0,G.rb)().getGlobalEventTarget(this.doc,e)))throw new w.buA(5102,!1);let s=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,n)}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&t.preventDefault()}}}function ae(o){return"TEMPLATE"===o.tagName&&void 0!==o.content}class we extends X{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,i,n,s,r,c,d){super(e,n,s,c),this.hostEl=t,this.sharedStylesHost=d,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=yr(i.id,h);for(const E of h){const q=document.createElement("style");r&&q.setAttribute("nonce",r),q.textContent=E,this.shadowRoot.appendChild(q)}const v=i.getExternalStyles?.();if(v)for(const E of v){const q=an(E,n);r&&q.setAttribute("nonce",r),this.shadowRoot.appendChild(q)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}}class Le extends X{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,n,s,r,c,d){super(e,s,r,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=n;let h=i.styles;this.styles=d?yr(d,h):h,this.styleUrls=i.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===g.DUP.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Ve extends Le{contentAttr;hostAttr;constructor(e,t,i,n,s,r,c,d){const h=n+"-"+i.id;super(e,t,i,s,r,c,d,h),this.contentAttr=function Ir(o){return"_ngcontent-%COMP%".replace(Vn,o)}(h),this.hostAttr=function Tr(o){return"_nghost-%COMP%".replace(Vn,o)}(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Rt extends G.qj{supportsDOMEvents=!0;static makeCurrent(){(0,G.ig)(new Rt)}onAndCancel(e,t,i,n){return e.addEventListener(t,i,n),()=>{e.removeEventListener(t,i,n)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Wt(){return Gt=Gt||document.head.querySelector("base"),Gt?Gt.getAttribute("href"):null}();return null==t?null:function st(o){return new URL(o,document.baseURI).pathname}(t)}resetBaseElement(){Gt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,se.b)(document.cookie,e)}}let Gt=null,Ht=(()=>{class o{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||o)};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac})}return o})();const pe=["alt","control","meta","shift"],et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dt={alt:o=>o.altKey,control:o=>o.ctrlKey,meta:o=>o.metaKey,shift:o=>o.shiftKey};let qt=(()=>{class o extends Si{constructor(t){super(t)}supports(t){return null!=o.parseEventName(t)}addEventListener(t,i,n,s){const r=o.parseEventName(i),c=o.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,G.rb)().onAndCancel(t,r.domEventName,c,s))}static parseEventName(t){const i=t.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;const s=o._normalizeKey(i.pop());let r="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),r="code."),pe.forEach(h=>{const v=i.indexOf(h);v>-1&&(i.splice(v,1),r+=h+".")}),r+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=n,d.fullKey=r,d}static matchEventFullKeyCode(t,i){let n=et[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(n=t.code,s="code."),!(null==n||!n)&&(n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),pe.forEach(r=>{r!==n&&(0,dt[r])(t)&&(s+=r+".")}),s+=n,s===i)}static eventCallback(t,i,n){return s=>{o.matchEventFullKeyCode(s,t)&&n.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static \u0275fac=function(i){return new(i||o)(w.KVO(w.qQL))};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac})}return o})();function Di(){return(Di=(0,m.A)(function*(o,e,t){const i={rootComponent:o,...Wn(e,t)};return(0,de.TL3)(i)})).apply(this,arguments)}function Wn(o,e){return{platformRef:e?.platformRef,appProviders:[...jr,...o?.providers??[]],platformProviders:qr}}const qr=[{provide:g.Agw,useValue:ne},{provide:g.PLl,useValue:function Gr(){Rt.makeCurrent()},multi:!0},{provide:w.qQL,useFactory:function fa(){return(0,g._9u)(document),document}}],jr=[{provide:w.GBX,useValue:"root"},{provide:w.zcH,useFactory:function Hr(){return new w.zcH}},{provide:_t,useClass:qi,multi:!0},{provide:_t,useClass:qt,multi:!0},L,zi,Mt,{provide:g._9s,useExisting:L},{provide:se.N,useClass:Ht},[]];var ya=B(6980),si=B(9769),Y=B(5119),li=B(5254),Ur=B(253),Lr=B(2234),ba=B(8456),Ha=B(5241);function vr(o=Number.POSITIVE_INFINITY){return(0,ba.ZZ)(Ha.D,o)}var Yi=B(4279);function va(...o){let e=Number.POSITIVE_INFINITY,t=null,i=o[o.length-1];return(0,Lr.m)(i)?(t=o.pop(),o.length>1&&"number"==typeof o[o.length-1]&&(e=o.pop())):"number"==typeof i&&(e=o.pop()),null===t&&1===o.length&&o[0]instanceof Ur.c?o[0]:vr(e)((0,Yi.c)(o,t))}var qa=B(4337),O=B(1080),I=B(7354);function F(o){return!(0,I.c)(o)&&o-parseFloat(o)+1>=0}function ue(o){const{subscriber:e,counter:t,period:i}=o;e.next(t),this.schedule({subscriber:e,counter:t+1,period:i},i)}var Pe=B(8189),He=B(6228);const mt=new class pt extends He.q{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,n=-1,s=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++n<s&&(e=t.shift()));if(this.active=!1,i){for(;++n<s&&(e=t.shift());)e.unsubscribe();throw i}}}(class xe extends Pe.R{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});var yt=B(9928);let ci;function dn(o){if(function Xi(){if(null==ci){const o=typeof document<"u"?document.head:null;ci=!(!o||!o.createShadowRoot&&!o.attachShadow)}return ci}()){const e=o.getRootNode?o.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function yi(o){return o.composedPath?o.composedPath()[0]:o.target}const en=new WeakMap;let Cr=(()=>{class o{_appRef;_injector=(0,w.WQX)(w.zZn);_environmentInjector=(0,w.WQX)(w.uvJ);load(t){const i=this._appRef=this._appRef||this._injector.get(g.o8S);let n=en.get(i);n||(n={loaders:new Set,refs:[]},en.set(i,n),i.onDestroy(()=>{en.get(i)?.refs.forEach(s=>s.destroy()),en.delete(i)})),n.loaders.has(t)||(n.loaders.add(t),n.refs.push((0,de.a0P)(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||o)};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var ia=B(4421);let Sa=1;const po=Promise.resolve(),Pa={};function ja(o){return o in Pa&&(delete Pa[o],!0)}const Gs={setImmediate(o){const e=Sa++;return Pa[e]=!0,po.then(()=>ja(e)&&o()),e},clearImmediate(o){ja(o)}};new class go extends He.q{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,n=-1,s=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++n<s&&(e=t.shift()));if(this.active=!1,i){for(;++n<s&&(e=t.shift());)e.unsubscribe();throw i}}}(class na extends Pe.R{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=Gs.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(Gs.clearImmediate(t),e.scheduled=void 0)}});var ra=B(3004);class rc{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new Go(e,this.durationSelector))}}class Go extends ra.gn{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:n}=this;t=n(e)}catch(n){return this.destination.error(n)}const i=(0,ra.tS)(t,new ra.zA(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:e,hasValue:t,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function qs(o){const{index:e,period:t,subscriber:i}=o;if(i.next(e),!i.closed){if(-1===t)return i.complete();o.index=e+1,this.schedule(o,t)}}function aa(o,e=O.b){return function nc(o){return function(t){return t.lift(new rc(o))}}(()=>function mo(o=0,e,t){let i=-1;return F(e)?i=Number(e)<1?1:Number(e):(0,Lr.m)(e)&&(t=e),(0,Lr.m)(t)||(t=O.b),new Ur.c(n=>{const s=F(o)?o:+o-t.now();return t.schedule(qs,s,{index:0,period:i,subscriber:n})})}(o,e))}var Wr=B(8728);function ka(o,e=0){return function Ua(o){return!isNaN(parseFloat(o))&&!isNaN(Number(o))}(o)?Number(o):2===arguments.length?e:0}function zn(o){return o instanceof g.aKT?o.nativeElement:o}let Wa;try{Wa=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Wa=!1}let fo=(()=>{class o{_platformId=(0,w.WQX)(g.Agw);isBrowser=this._platformId?function he(o){return o===ne}(this._platformId):"object"==typeof document&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!(!window.chrome&&!Wa)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||o)};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),kd=(()=>{class o{_ngZone=(0,w.WQX)(w.SKi);_platform=(0,w.WQX)(fo);_renderer=(0,w.WQX)(g._9s).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new li.B7;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ur.c(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));const n=t>0?this._scrolled.pipe(aa(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):(0,ia.of)()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const n=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,Wr.p)(s=>!s||n.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((n,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_scrollableContainsElement(t,i){let n=zn(i),s=t.getElementRef().nativeElement;do{if(n==s)return!0}while(n=n.parentElement);return!1}static \u0275fac=function(i){return new(i||o)};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),T=(()=>{class o{_platform=(0,w.WQX)(fo);_listeners;_viewportSize=null;_change=new li.B7;_document=(0,w.WQX)(w.qQL);constructor(){const t=(0,w.WQX)(w.SKi),i=(0,w.WQX)(g._9s).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){const n=s=>this._change.next(s);this._listeners=[i.listen("window","resize",n),i.listen("window","orientationchange",n)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+i,height:n,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),n=t.documentElement,s=n.getBoundingClientRect();return{top:-s.top||t.body?.scrollTop||i.scrollY||n.scrollTop||0,left:-s.left||t.body?.scrollLeft||i.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(aa(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||o)};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),js=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=g.$C({type:o});static \u0275inj=w.G2t({})}return o})();function Ze(o){return e=>e.lift(new Vs(o))}class Vs{constructor(e){this.notifier=e}call(e,t){const i=new hm(e),n=(0,ra.tS)(this.notifier,new ra.zA(i));return n&&!i.seenValue?(i.add(n),t.subscribe(i)):i}}class hm extends ra.gn{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var qo=B(5006),Us=B(762);const gm=(()=>{function o(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return o.prototype=Object.create(Error.prototype),o})(),UA=new Ur.c(o=>o.complete());class Ws{constructor(e){if(this.total=e,this.total<0)throw new gm}call(e,t){return t.subscribe(new yo(e,this.total))}}class yo extends Us.v{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}function Yr(){}var jo=B(8099);class fm{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new WA(e,this.nextOrObserver,this.error,this.complete))}}class WA extends Us.v{constructor(e,t,i,n){super(e),this._tapNext=Yr,this._tapError=Yr,this._tapComplete=Yr,this._tapError=i||Yr,this._tapComplete=n||Yr,(0,jo.T)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||Yr,this._tapError=t.error||Yr,this._tapComplete=t.complete||Yr)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}var Et=B(9090);function Ks(...o){return function _a(){return vr(1)}()((0,ia.of)(...o))}function Ka(...o){const e=o[o.length-1];return(0,Lr.m)(e)?(o.pop(),t=>Ks(o,t,e)):t=>Ks(o,t)}const lc=new w.nKC("cdk-dir-doc",{providedIn:"root",factory:()=>(0,w.WQX)(w.qQL)}),Cd=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ym=(()=>{class o{get value(){return this.valueSignal()}valueSignal=(0,w.vPA)("ltr");change=new w.bkB;constructor(){const t=(0,w.WQX)(lc,{optional:!0});t&&this.valueSignal.set(function cc(o){const e=o?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Cd.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||o)};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Ed={};class Vo{_appId=(0,w.WQX)(g.sZ2);static _infix=`a${Math.floor(1e5*Math.random()).toString()}`;getId(e,t=!1){return"ng"!==this._appId&&(e+=this._appId),Ed.hasOwnProperty(e)||(Ed[e]=0),`${e}${t?Vo._infix+"-":""}${Ed[e]++}`}static \u0275fac=function(t){return new(t||Vo)};static \u0275prov=w.jDH({token:Vo,factory:Vo.\u0275fac,providedIn:"root"})}function Dd(o){const e=o.cloneNode(!0),t=e.querySelectorAll("[id]"),i=o.nodeName.toLowerCase();e.removeAttribute("id");for(let n=0;n<t.length;n++)t[n].removeAttribute("id");return"canvas"===i?Wo(o,e):("input"===i||"select"===i||"textarea"===i)&&Uo(o,e),uc("canvas",o,e,Wo),uc("input, textarea, select",o,e,Uo),e}function uc(o,e,t,i){const n=e.querySelectorAll(o);if(n.length){const s=t.querySelectorAll(o);for(let r=0;r<n.length;r++)i(n[r],s[r])}}let dc=0;function Uo(o,e){"file"!==e.type&&(e.value=o.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${dc++}`)}function Wo(o,e){const t=e.getContext("2d");if(t)try{t.drawImage(o,0,0)}catch{}}function bo(o){const e=o.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function hc(o,e,t){const{top:i,bottom:n,left:s,right:r}=o;return t>=i&&t<=n&&e>=s&&e<=r}function vo(o,e,t){o.top+=e,o.bottom=o.top+o.height,o.left+=t,o.right=o.left+o.width}function Md(o,e,t,i){const{top:n,right:s,bottom:r,left:c,width:d,height:h}=o,v=d*e,E=h*e;return i>n-E&&i<r+E&&t>c-v&&t<s+v}class vm{_document;positions=new Map;constructor(e){this._document=e}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:bo(t)})})}handleScroll(e){const t=yi(e),i=this.positions.get(t);if(!i)return null;const n=i.scrollPosition;let s,r;if(t===this._document){const h=this.getViewportScrollPosition();s=h.top,r=h.left}else s=t.scrollTop,r=t.scrollLeft;const c=n.top-s,d=n.left-r;return this.positions.forEach((h,v)=>{h.clientRect&&t!==v&&t.contains(v)&&vo(h.clientRect,c,d)}),n.top=s,n.left=r,{top:c,left:d}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function pc(o,e){const t=o.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const i=e.createElement("div");return t.forEach(n=>i.appendChild(n)),i}function gc(o,e,t){for(let i in e)if(e.hasOwnProperty(i)){const n=e[i];n?o.setProperty(i,n,t?.has(i)?"important":""):o.removeProperty(i)}return o}function Ko(o,e){const t=e?"":"none";gc(o.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Id(o,e,t){gc(o.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function zs(o,e){return e&&"none"!=e?o+" "+e:o}function Rd(o,e){o.style.width=`${e.width}px`,o.style.height=`${e.height}px`,o.style.transform=zo(e.left,e.top)}function zo(o,e){return`translate3d(${Math.round(o)}px, ${Math.round(e)}px, 0)`}const wa={capture:!0},mc={passive:!1,capture:!0};let KA=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275cmp=g.VBU({type:o,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,n){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}\n"],encapsulation:2,changeDetection:0})}return o})(),Ao=(()=>{class o{_ngZone=(0,w.WQX)(w.SKi);_document=(0,w.WQX)(w.qQL);_styleLoader=(0,w.WQX)(Cr);_renderer=(0,w.WQX)(g._9s).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new li.B7;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=(0,w.vPA)([]);_globalListeners;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new li.B7;pointerUp=new li.B7;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,mc)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._cleanupDocumentTouchmove?.()}startDragging(t,i){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(KA),this._activeDragInstances.update(n=>[...n,t]),1===this._activeDragInstances().length)){const n=i.type.startsWith("touch"),s=c=>this.pointerUp.next(c),r=[["scroll",c=>this._scroll.next(c),wa],["selectstart",this._preventDefaultWhileDragging,mc]];n?r.push(["touchend",s,wa],["touchcancel",s,wa]):r.push(["mouseup",s,wa]),n||r.push(["mousemove",c=>this.pointerMove.next(c),mc]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=r.map(([c,d,h])=>this._renderer.listen(this._document,c,d,h))})}}stopDragging(t){this._activeDragInstances.update(i=>{const n=i.indexOf(t);return n>-1?(i.splice(n,1),[...i]):i}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){const i=[this._scroll];return t&&t!==this._document&&i.push(new Ur.c(n=>this._ngZone.runOutsideAngular(()=>{const s=this._renderer.listen(t,"scroll",r=>{this._activeDragInstances().length&&n.next(r)},wa);return()=>{s()}}))),va(...i)}registerDirectiveNode(t,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,i)}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t)}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners?.forEach(t=>t()),this._globalListeners=void 0}static \u0275fac=function(i){return new(i||o)};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function fc(o){const e=o.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(o)*e}function Ys(o,e){return o.getPropertyValue(e).split(",").map(i=>i.trim())}const yc=new Set(["position"]);class bc{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView=null;_preview;get element(){return this._preview}constructor(e,t,i,n,s,r,c,d,h,v){this._document=e,this._rootElement=t,this._direction=i,this._initialDomRect=n,this._previewTemplate=s,this._previewClass=r,this._pickupPositionOnPage=c,this._initialTransform=d,this._zIndex=h,this._renderer=v}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),Nr(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return function zA(o){const e=getComputedStyle(o),t=Ys(e,"transition-property"),i=t.find(c=>"transform"===c||"all"===c);if(!i)return 0;const n=t.indexOf(i),s=Ys(e,"transition-duration"),r=Ys(e,"transition-delay");return fc(s[n])+fc(r[n])}(this._preview)}addEventListener(e,t){return this._renderer.listen(this._preview,e,t)}_createPreview(){const e=this._previewTemplate,t=this._previewClass,i=e?e.template:null;let n;if(i&&e){const s=e.matchSize?this._initialDomRect:null,r=e.viewContainer.createEmbeddedView(i,e.context);r.detectChanges(),n=pc(r,this._document),this._previewEmbeddedView=r,e.matchSize?Rd(n,s):n.style.transform=zo(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else n=Dd(this._rootElement),Rd(n,this._initialDomRect),this._initialTransform&&(n.style.transform=this._initialTransform);return gc(n.style,{"pointer-events":"none",margin:Nr(n)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},yc),Ko(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("popover","manual"),n.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>n.classList.add(s)):n.classList.add(t)),n}}function Nr(o){return"showPopover"in o}const Ld={passive:!0},Nd={passive:!1},vc={passive:!1,capture:!0},Am="cdk-drag-placeholder",Xs=new Set(["position"]);function Sm(o,e,t={dragStartThreshold:5,pointerDirectionChangeThreshold:5}){const i=o.get(g.sFG,null,{optional:!0})||o.get(g._9s).createRenderer(null,null);return new Pm(e,t,o.get(w.qQL),o.get(w.SKi),o.get(T),o.get(Ao),i)}class Pm{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview=null;_previewContainer;_placeholderRef=null;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=(0,w.vPA)(!1);_hasMoved=!1;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new li.B7;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement=null;_rootElementTapHighlight;_pointerMoveSubscription=qa.y.EMPTY;_pointerUpSubscription=qa.y.EMPTY;_scrollSubscription=qa.y.EMPTY;_resizeSubscription=qa.y.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef=null;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>Ko(t,e)))}_disabled=!1;beforeStarted=new li.B7;started=new li.B7;released=new li.B7;ended=new li.B7;entered=new li.B7;exited=new li.B7;dropped=new li.B7;moved=this._moveEvents;data;constrainPosition;constructor(e,t,i,n,s,r,c){this._config=t,this._document=i,this._ngZone=n,this._viewportRuler=s,this._dragDropRegistry=r,this._renderer=c,this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new vm(i),r.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>zn(i)),this._handles.forEach(i=>Ko(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=zn(e);if(t!==this._rootElement){this._removeRootElementListeners();const i=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[i.listen(t,"mousedown",this._pointerDown,Nd),i.listen(t,"touchstart",this._pointerDown,Ld),i.listen(t,"dragstart",this._nativeDragStart,Nd)]),this._initialTransform=void 0,this._rootElement=t}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?zn(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&function bm(o,e){return e.left<o.left||e.left+e.width>o.right||e.top<o.top||e.top+e.height>o.bottom}(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){const e=this._boundaryElement.getBoundingClientRect(),t=this._rootElement.getBoundingClientRect();let i=0,n=0;t.left<e.left?i=e.left-t.left:t.right>e.right&&(i=e.right-t.right),t.top<e.top?n=e.top-t.top:t.bottom>e.bottom&&(n=e.bottom-t.bottom);let c=this._activeTransform.x+i,d=this._activeTransform.y+n;this._rootElement.style.transform=zo(c,d),this._activeTransform={x:c,y:d},this._passiveTransform={x:c,y:d}}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Ko(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Ko(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){const t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)};_pointerMove=e=>{const t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){if(Math.abs(t.x-this._pickupPositionOnPage.x)+Math.abs(t.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const c=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),d=this._dropContainer;if(!c)return void this._endDragSequence(e);(!d||!d.isDragging()&&!d.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(e)))}return}e.cancelable&&e.preventDefault();const i=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,t);else{const n=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,s=this._activeTransform;s.x=i.x-n.x+this._passiveTransform.x,s.y=i.y-n.y+this._passiveTransform.y,this._applyRootElementTransform(s.x,s.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:e,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=e=>{this._endDragSequence(e)};_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){Yo(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._getShadowRoot(),i=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(t,"selectstart",XA,vc)}),i){const n=this._rootElement,s=n.parentNode,r=this._placeholder=this._createPlaceholderElement(),c=this._marker=this._marker||this._document.createComment("");s.insertBefore(c,n),this._initialTransform=n.style.transform||"",this._preview=new bc(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(s,t)),Id(n,!1,Xs),this._document.body.appendChild(s.replaceChild(r,n)),this.started.next({source:this,event:e}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),n=Yo(t),s=!n&&0!==t.button,r=this._rootElement,c=yi(t),d=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),h=n?function Aa(o){const e=o.touches&&o.touches[0]||o.changedTouches&&o.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t):function cr(o){return 0===o.buttons||0===o.detail}(t);if(c&&c.draggable&&"mousedown"===t.type&&t.preventDefault(),i||s||d||h)return;if(this._handles.length){const q=r.style;this._rootElementTapHighlight=q.webkitTapHighlightColor||"",q.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(q=>this._updateOnScroll(q)),this._boundaryElement&&(this._boundaryRect=bo(this._boundaryElement));const v=this._previewTemplate;this._pickupPositionInElement=v&&v.template&&!v.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,t);const E=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:E.x,y:E.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){Id(this._rootElement,!0,Xs),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),n=this._getPointerPositionOnPage(e),s=this._getDragDistance(n),r=t._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:s,dropPoint:n,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:s,dropPoint:n,event:e}),t.drop(this,i,this._initialIndex,this._initialContainer,r,s,n,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:n}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{const r=this._dropContainer.getItemIndex(this),c=this._dropContainer.getItemAtIndex(r+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(s,this._dropContainer,c),this._dropContainer=s,this._dropContainer.enter(this,e,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,n),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=this._preview.getTransitionDuration();return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const n=c=>{(!c||this._preview&&yi(c)===this._preview.element&&"transform"===c.propertyName)&&(r(),i(),clearTimeout(s))},s=setTimeout(n,1.5*t),r=this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=pc(this._placeholderRef,this._document)):i=Dd(this._rootElement),i.style.pointerEvents="none",i.classList.add(Am),i}_getPointerPositionInElement(e,t,i){const n=t===this._rootElement?null:t,s=n?n.getBoundingClientRect():e,r=Yo(i)?i.targetTouches[0]:i,c=this._getViewportScrollPosition();return{x:s.left-e.left+(r.pageX-s.left-c.left),y:s.top-e.top+(r.pageY-s.top-c.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),i=Yo(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,n=i.pageX-t.left,s=i.pageY-t.top;if(this._ownerSVGElement){const r=this._ownerSVGElement.getScreenCTM();if(r){const c=this._ownerSVGElement.createSVGPoint();return c.x=n,c.y=s,c.matrixTransform(r.inverse())}}return{x:n,y:s}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:n}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if("x"===this.lockAxis||"x"===t?n=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:s,y:r}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,c=this._boundaryRect,{width:d,height:h}=this._getPreviewRect(),v=c.top+r,E=c.bottom-(h-r);i=Fd(i,c.left+s,c.right-(d-s)),n=Fd(n,v,E)}return{x:i,y:n}}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,n=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,r=Math.abs(t-s.x),c=Math.abs(i-s.y);return r>this._config.pointerDirectionChangeThreshold&&(n.x=t>s.x?1:-1,s.x=t),c>this._config.pointerDirectionChangeThreshold&&(n.y=i>s.y?1:-1,s.y=i),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Ko(this._rootElement,e))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(e=>e()),this._rootElementCleanups=void 0}_applyRootElementTransform(e,t){const i=1/this.scale,n=zo(e*i,t*i),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=zs(n,this._initialTransform)}_applyPreviewTransform(e,t){const i=this._previewTemplate?.template?void 0:this._initialTransform,n=zo(e,t);this._preview.setTransform(zs(n,i))}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),n=this._boundaryElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===i.width&&0===i.height)return;const s=n.left-i.left,r=i.right-n.right,c=n.top-i.top,d=i.bottom-n.bottom;n.width>i.width?(s>0&&(e+=s),r>0&&(e-=r)):e=0,n.height>i.height?(c>0&&(t+=c),d>0&&(t-=d)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:Yo(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const i=yi(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&vo(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=dn(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const i=this._previewContainer||"global";if("parent"===i)return e;if("global"===i){const n=this._document;return t||n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body}return zn(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=e=>{if(this._handles.length){const t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&e.preventDefault()}else this.disabled||e.preventDefault()};_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}_conditionallyInsertAnchor(e,t,i){if(e===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(t===this._initialContainer&&t.hasAnchor){const n=this._anchor??=Dd(this._placeholder);n.classList.remove(Am),n.classList.add("cdk-drag-anchor"),n.style.transform="",i?i.before(n):zn(t.element).appendChild(n)}}}function Fd(o,e,t){return Math.max(e,Math.min(t,o))}function Yo(o){return"t"===o.type[0]}function XA(o){o.preventDefault()}function Ac(o,e,t){const i=So(e,o.length-1),n=So(t,o.length-1);if(i===n)return;const s=o[i],r=n<i?-1:1;for(let c=i;c!==n;c+=r)o[c]=o[c+r];o[n]=s}function So(o,e){return Math.max(0,Math.min(e,o))}class kc{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction="ltr";constructor(e){this._dragDropRegistry=e}_previousSwap={drag:null,delta:0,overlaps:!1};start(e){this.withItems(e)}sort(e,t,i,n){const s=this._itemPositions,r=this._getItemIndexFromPointerPosition(e,t,i,n);if(-1===r&&s.length>0)return null;const c="horizontal"===this.orientation,d=s.findIndex(Ae=>Ae.drag===e),h=s[r],E=h.clientRect,q=d>r?1:-1,K=this._getItemOffsetPx(s[d].clientRect,E,q),le=this._getSiblingOffsetPx(d,s,q),ce=s.slice();return Ac(s,d,r),s.forEach((Ae,Ce)=>{if(ce[Ce]===Ae)return;const Qe=Ae.drag===e,Ke=Qe?K:le,Ye=Qe?e.getPlaceholderElement():Ae.drag.getRootElement();Ae.offset+=Ke;const Re=Math.round(Ae.offset*(1/Ae.drag.scale));c?(Ye.style.transform=zs(`translate3d(${Re}px, 0, 0)`,Ae.initialTransform),vo(Ae.clientRect,0,Ke)):(Ye.style.transform=zs(`translate3d(0, ${Re}px, 0)`,Ae.initialTransform),vo(Ae.clientRect,Ke,0))}),this._previousSwap.overlaps=hc(E,t,i),this._previousSwap.drag=h.drag,this._previousSwap.delta=c?n.x:n.y,{previousIndex:d,currentIndex:r}}enter(e,t,i,n){const s=null==n||n<0?this._getItemIndexFromPointerPosition(e,t,i):n,r=this._activeDraggables,c=r.indexOf(e),d=e.getPlaceholderElement();let h=r[s];if(h===e&&(h=r[s+1]),!h&&(null==s||-1===s||s<r.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(h=r[0]),c>-1&&r.splice(c,1),h&&!this._dragDropRegistry.isDragging(h)){const v=h.getRootElement();v.parentElement.insertBefore(d,v),r.splice(s,0,e)}else this._element.appendChild(d),r.push(e);d.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{const t=e.getRootElement();if(t){const i=this._itemPositions.find(n=>n.drag===e)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return this._getVisualItemPositions().findIndex(t=>t.drag===e)}getItemAtIndex(e){return this._getVisualItemPositions()[e]?.drag||null}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:i})=>{vo(i,e,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){const e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:bo(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getVisualItemPositions(){return"horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(e,t,i){const n="horizontal"===this.orientation;let s=n?t.left-e.left:t.top-e.top;return-1===i&&(s+=n?t.width-e.width:t.height-e.height),s}_getSiblingOffsetPx(e,t,i){const n="horizontal"===this.orientation,s=t[e].clientRect,r=t[e+-1*i];let c=s[n?"width":"height"]*i;if(r){const d=n?"left":"top",h=n?"right":"bottom";-1===i?c-=r.clientRect[d]-s[h]:c+=s[d]-r.clientRect[h]}return c}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,n="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const r=i[i.length-1].clientRect;return n?e>=r.right:t>=r.bottom}{const r=i[0].clientRect;return n?e<=r.left:t<=r.top}}_getItemIndexFromPointerPosition(e,t,i,n){const s="horizontal"===this.orientation,r=this._itemPositions.findIndex(({drag:c,clientRect:d})=>c!==e&&((!n||c!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?n.x:n.y)!==this._previousSwap.delta)&&(s?t>=Math.floor(d.left)&&t<Math.floor(d.right):i>=Math.floor(d.top)&&i<Math.floor(d.bottom))));return-1!==r&&this._sortPredicate(r,e)?r:-1}}class Od{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(e,t){this._document=e,this._dragDropRegistry=t}start(e){const t=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<t.length;i++){const n=t[i];this._relatedNodes.push([n,n.nextSibling])}this.withItems(e)}sort(e,t,i,n){const s=this._getItemIndexFromPointerPosition(e,t,i),r=this._previousSwap;if(-1===s||this._activeItems[s]===e)return null;const c=this._activeItems[s];if(r.drag===c&&r.overlaps&&r.deltaX===n.x&&r.deltaY===n.y)return null;const d=this.getItemIndex(e),h=e.getPlaceholderElement(),v=c.getRootElement();s>d?v.after(h):v.before(h),Ac(this._activeItems,d,s);const E=this._getRootNode().elementFromPoint(t,i);return r.deltaX=n.x,r.deltaY=n.y,r.drag=c,r.overlaps=v===E||v.contains(E),{previousIndex:d,currentIndex:s}}enter(e,t,i,n){const s=this._activeItems.indexOf(e);s>-1&&this._activeItems.splice(s,1);let r=null==n||n<0?this._getItemIndexFromPointerPosition(e,t,i):n;-1===r&&(r=this._getClosestItemIndexToPointer(e,t,i));const c=this._activeItems[r];c&&!this._dragDropRegistry.isDragging(c)?(this._activeItems.splice(r,0,e),c.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){const e=this._element,t=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){const[n,s]=this._relatedNodes[i];n.parentNode===e&&n.nextSibling!==s&&(null===s?e.appendChild(n):s.parentNode===e&&e.insertBefore(n,s))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}getItemAtIndex(e){return this._activeItems[e]||null}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,t,i){const n=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(i)),s=n?this._activeItems.findIndex(r=>{const c=r.getRootElement();return n===c||c.contains(n)}):-1;return-1!==s&&this._sortPredicate(s,e)?s:-1}_getRootNode(){return this._rootNode||(this._rootNode=dn(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,t,i){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let n=1/0,s=-1;for(let r=0;r<this._activeItems.length;r++){const c=this._activeItems[r];if(c!==e){const{x:d,y:h}=c.getRootElement().getBoundingClientRect(),v=Math.hypot(t-d,i-h);v<n&&(n=v,s=r)}}return s}}var Rn=function(o){return o[o.NONE=0]="NONE",o[o.UP=1]="UP",o[o.DOWN=2]="DOWN",o}(Rn||{}),Zn=function(o){return o[o.NONE=0]="NONE",o[o.LEFT=1]="LEFT",o[o.RIGHT=2]="RIGHT",o}(Zn||{});function Po(o,e){return new wc(e,o.get(Ao),o.get(w.qQL),o.get(w.SKi),o.get(T))}class wc{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new li.B7;entered=new li.B7;exited=new li.B7;dropped=new li.B7;sorted=new li.B7;receivingStarted=new li.B7;receivingStopped=new li.B7;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=qa.y.EMPTY;_verticalScrollDirection=Rn.NONE;_horizontalScrollDirection=Zn.NONE;_scrollNode;_stopScrollTimers=new li.B7;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(e,t,i,n,s){this._dragDropRegistry=t,this._ngZone=n,this._viewportRuler=s;const r=this.element=zn(e);this._document=i,this.withOrientation("vertical").withElementContainer(r),t.registerDropContainer(this),this._parentPositions=new vm(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,n){this._draggingStarted(),null==n&&this.sortingDisabled&&(n=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,i,n),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,n,s,r,c,d={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:n,isPointerOverContainer:s,distance:r,dropPoint:c,event:d})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(n=>n.isDragging()).every(n=>-1===e.indexOf(n))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof kc&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if("mixed"===e)this._sortStrategy=new Od(this._document,this._dragDropRegistry);else{const t=new kc(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,i)=>this.sortPredicate(t,i,this)),this}withScrollableParents(e){const t=this._container;return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;zn(this.element);const i=this._scrollableElements.indexOf(this._container),n=this._scrollableElements.indexOf(e);return i>-1&&this._scrollableElements.splice(i,1),n>-1&&this._scrollableElements.splice(n,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}getItemAtIndex(e){return this._isDragging?this._sortStrategy.getItemAtIndex(e):this._draggables[e]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,n){if(this.sortingDisabled||!this._domRect||!Md(this._domRect,.05,t,i))return;const s=this._sortStrategy.sort(e,t,i,n);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,n=Rn.NONE,s=Zn.NONE;if(this._parentPositions.positions.forEach((r,c)=>{c===this._document||!r.clientRect||i||Md(r.clientRect,.05,e,t)&&([n,s]=function Cc(o,e,t,i,n){const s=Tc(e,n),r=Qs(e,i);let c=Rn.NONE,d=Zn.NONE;if(s){const h=o.scrollTop;s===Rn.UP?h>0&&(c=Rn.UP):o.scrollHeight-h>o.clientHeight&&(c=Rn.DOWN)}if(r){const h=o.scrollLeft;"rtl"===t?r===Zn.RIGHT?h<0&&(d=Zn.RIGHT):o.scrollWidth+h>o.clientWidth&&(d=Zn.LEFT):r===Zn.LEFT?h>0&&(d=Zn.LEFT):o.scrollWidth-h>o.clientWidth&&(d=Zn.RIGHT)}return[c,d]}(c,r.clientRect,this._direction,e,t),(n||s)&&(i=c))}),!n&&!s){const{width:r,height:c}=this._viewportRuler.getViewportSize(),d={width:r,height:c,top:0,right:r,bottom:c,left:0};n=Tc(d,t),s=Qs(d,e),i=window}i&&(n!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=n,this._horizontalScrollDirection=s,this._scrollNode=i,(n||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),function z(o=0,e=O.b){return(!F(o)||o<0)&&(o=0),(!e||"function"!=typeof e.schedule)&&(e=O.b),new Ur.c(t=>(t.add(e.schedule(ue,o,{subscriber:t,counter:0,period:o})),t))}(0,mt).pipe(Ze(this._stopScrollTimers)).subscribe(()=>{const e=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===Rn.UP?e.scrollBy(0,-t):this._verticalScrollDirection===Rn.DOWN&&e.scrollBy(0,t),this._horizontalScrollDirection===Zn.LEFT?e.scrollBy(-t,0):this._horizontalScrollDirection===Zn.RIGHT&&e.scrollBy(t,0)})};_isOverContainer(e,t){return null!=this._domRect&&hc(this._domRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(n=>n._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._domRect||!hc(this._domRect,t,i)||!this.enterPredicate(e,this))return!1;const n=this._getShadowRoot().elementFromPoint(t,i);return!!n&&(n===this._container||this._container.contains(n))}_startReceiving(e,t){const i=this._activeSiblings;!i.has(e)&&t.every(n=>this.enterPredicate(n,this)||this._draggables.indexOf(n)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=dn(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function Tc(o,e){const{top:t,bottom:i,height:n}=o,s=.05*n;return e>=t-s&&e<=t+s?Rn.UP:e>=i-s&&e<=i+s?Rn.DOWN:Rn.NONE}function Qs(o,e){const{left:t,right:i,width:n}=o,s=.05*n;return e>=t-s&&e<=t+s?Zn.LEFT:e>=i-s&&e<=i+s?Zn.RIGHT:Zn.NONE}let Qo=(()=>{class o{_injector=(0,w.WQX)(w.zZn);constructor(){}createDrag(t,i){return Sm(this._injector,t,i)}createDropList(t){return Po(this._injector,t)}static \u0275fac=function(i){return new(i||o)};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const ko=new w.nKC("CDK_DRAG_PARENT"),Ec=new w.nKC("CdkDragHandle");let Bd=(()=>{class o{element=(0,w.WQX)(g.aKT);_parentDrag=(0,w.WQX)(ko,{optional:!0,skipSelf:!0});_dragDropRegistry=(0,w.WQX)(Ao);_stateChanges=new li.B7;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let t=this.element.nativeElement.parentElement;for(;t;){const i=this._dragDropRegistry.getDragDirectiveForNode(t);if(i){this._parentDrag=i,i._addHandle(this);break}t=t.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(i){return new(i||o)};static \u0275dir=g.FsC({type:o,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",de.L39]},features:[g.Jv_([{provide:Ec,useExisting:o}])]})}return o})();const $d=new w.nKC("CDK_DRAG_CONFIG"),Xr=new w.nKC("CdkDropList");let Ta=(()=>{class o{element=(0,w.WQX)(g.aKT);dropContainer=(0,w.WQX)(Xr,{optional:!0,skipSelf:!0});_ngZone=(0,w.WQX)(w.SKi);_viewContainerRef=(0,w.WQX)(g.c1b);_dir=(0,w.WQX)(ym,{optional:!0});_changeDetectorRef=(0,w.WQX)(de.gRc);_selfHandle=(0,w.WQX)(Ec,{optional:!0,self:!0});_parentDrag=(0,w.WQX)(ko,{optional:!0,skipSelf:!0});_dragDropRegistry=(0,w.WQX)(Ao);_destroyed=new li.B7;_handles=new yt.t([]);_previewTemplate=null;_placeholderTemplate=null;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!(!this.dropContainer||!this.dropContainer.disabled)}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}_disabled=!1;constrainPosition;previewClass;previewContainer;scale=1;started=new w.bkB;released=new w.bkB;ended=new w.bkB;entered=new w.bkB;exited=new w.bkB;dropped=new w.bkB;moved=new Ur.c(t=>{const i=this._dragRef.moved.pipe((0,qo.T)(n=>({source:this,pointerPosition:n.pointerPosition,event:n.event,delta:n.delta,distance:n.distance}))).subscribe(t);return()=>{i.unsubscribe()}});_injector=(0,w.WQX)(w.zZn);constructor(){const t=this.dropContainer,i=(0,w.WQX)($d,{optional:!0});this._dragRef=Sm(this._injector,this.element,{dragStartThreshold:i&&null!=i.dragStartThreshold?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&null!=i.pointerDirectionChangeThreshold?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),t&&(t.addItem(this),t._dropListRef.beforeStarted.pipe(Ze(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){(0,g.mal)(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){const i=t.rootElementSelector,n=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){const i=this._handles.getValue();i.push(t),this._handles.next(i)}_removeHandle(t){const i=this._handles.getValue(),n=i.indexOf(t);n>-1&&(i.splice(n,1),this._handles.next(i))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const t=this.element.nativeElement;let i=t;this.rootElementSelector&&(i=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):zn(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const i=this._dir,n=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay="object"==typeof n&&n?n:ka(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(r).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe(function mm(o){return e=>0===o?function sc(o){return o?function wd(o){return new Ur.c(e=>o.schedule(()=>e.complete()))}(o):UA}():e.lift(new Ws(o))}(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){const n=this._dragDropRegistry.getDragDirectiveForNode(i);if(n){t.withParent(n._dragRef);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){const{lockAxis:i,dragStartDelay:n,constrainPosition:s,previewClass:r,boundaryElement:c,draggingDisabled:d,rootElementSelector:h,previewContainer:v}=t;this.disabled=d??!1,this.dragStartDelay=n||0,this.lockAxis=i||null,s&&(this.constrainPosition=s),r&&(this.previewClass=r),c&&(this.boundaryElement=c),h&&(this.rootElementSelector=h),v&&(this.previewContainer=v)}_setupHandlesListener(){this._handles.pipe(function Td(o,e,t){return function(n){return n.lift(new fm(o,e,t))}}(t=>{const i=t.map(n=>n.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),(0,Et.n)(t=>va(...t.map(i=>i._stateChanges.pipe(Ka(i))))),Ze(this._destroyed)).subscribe(t=>{const i=this._dragRef,n=t.element.nativeElement;t.disabled?i.disableHandle(n):i.enableHandle(n)})}static \u0275fac=function(i){return new(i||o)};static \u0275dir=g.FsC({type:o,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,n){2&i&&g.AVh("cdk-drag-disabled",n.disabled)("cdk-drag-dragging",n._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",de.L39],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",de.Udg]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[g.Jv_([{provide:ko,useExisting:o}]),g.OA$]})}return o})();const xc=new w.nKC("CdkDropListGroup");let Zs=(()=>{class o{element=(0,w.WQX)(g.aKT);_changeDetectorRef=(0,w.WQX)(de.gRc);_scrollDispatcher=(0,w.WQX)(kd);_dir=(0,w.WQX)(ym,{optional:!0});_group=(0,w.WQX)(xc,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new li.B7;_scrollableParentsResolved=!1;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation="vertical";id=(0,w.WQX)(Vo).getId("cdk-drop-list-");lockAxis=null;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}_disabled=!1;sortingDisabled=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled=!1;autoScrollStep;elementContainerSelector=null;hasAnchor=!1;dropped=new w.bkB;entered=new w.bkB;exited=new w.bkB;sorted=new w.bkB;_unsortedItems=new Set;constructor(){const t=(0,w.WQX)($d,{optional:!0}),i=(0,w.WQX)(w.zZn);this._dropListRef=Po(i,this.element),this._dropListRef.data=this,t&&this._assignDefaults(t),this._dropListRef.enterPredicate=(n,s)=>this.enterPredicate(n.data,s.data),this._dropListRef.sortPredicate=(n,s,r)=>this.sortPredicate(n,s.data,r.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),o._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(t){this._unsortedItems.add(t),t._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef))}removeItem(t){if(this._unsortedItems.delete(t),this._latestSortedRefs){const i=this._latestSortedRefs.indexOf(t._dragRef);i>-1&&(this._latestSortedRefs.splice(i,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=o._dropLists.indexOf(this);t>-1&&o._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(Ka(this._dir.value),Ze(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{const i=function xd(o){return Array.isArray(o)?o:[o]}(this.connectedTo).map(n=>"string"==typeof n?o._dropLists.find(r=>r.id===n):n);if(this._group&&this._group._items.forEach(n=>{-1===i.indexOf(n)&&i.push(n)}),!this._scrollableParentsResolved){const n=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(n),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){const n=this.element.nativeElement.querySelector(this.elementContainerSelector);t.withElementContainer(n)}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=ka(this.autoScrollStep,2),t.hasAnchor=this.hasAnchor,t.connectedTo(i.filter(n=>n&&n!==this).map(n=>n._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef)),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),va(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:i,draggingDisabled:n,sortingDisabled:s,listAutoScrollDisabled:r,listOrientation:c}=t;this.disabled=n??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=r??!1,this.orientation=c||"vertical",this.lockAxis=i||null}_syncItemsWithRef(t){this._latestSortedRefs=t,this._dropListRef.withItems(t)}static \u0275fac=function(i){return new(i||o)};static \u0275dir=g.FsC({type:o,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,n){2&i&&(g.BMQ("id",n.id),g.AVh("cdk-drop-list-disabled",n.disabled)("cdk-drop-list-dragging",n._dropListRef.isDragging())("cdk-drop-list-receiving",n._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",de.L39],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",de.L39],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",de.L39],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",de.L39]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[g.Jv_([{provide:xc,useValue:void 0},{provide:Xr,useExisting:o}])]})}return o})(),_m=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=g.$C({type:o});static \u0275inj=w.G2t({providers:[Qo],imports:[js]})}return o})();function Ar(o){let t,e=o.length;for(;0!=e;)t=Math.floor(Math.random()*e),e--,[o[e],o[t]]=[o[t],o[e]];return o}function Jt(o,e){return o=Math.ceil(o),e=Math.floor(e),Math.floor(Math.random()*(e-o+1))+o}function za(o){return Math.ceil(100*o)/100}function Qi(o,e){let t;return t=o.player==e?o.opponent:o.player,t}function Jo(o){return new Y.gE({name:new Y.MJ(o.name??null,Y.k0.required),tier1Pets:new Y.MJ(o.tier1Pets??[],o=>o.value&&10!==o.value.length?{length:!0}:null),tier2Pets:new Y.MJ(o.tier2Pets??[],o=>o.value&&10!==o.value.length?{length:!0}:null),tier3Pets:new Y.MJ(o.tier3Pets??[],o=>o.value&&10!==o.value.length?{length:!0}:null),tier4Pets:new Y.MJ(o.tier4Pets??[],o=>o.value&&10!==o.value.length?{length:!0}:null),tier5Pets:new Y.MJ(o.tier5Pets??[],o=>o.value&&10!==o.value.length?{length:!0}:null),tier6Pets:new Y.MJ(o.tier6Pets??[],o=>o.value&&10!==o.value.length?{length:!0}:null),spells:new Y.MJ(o.spells??[])})}const wm=(o,e)=>{e.createLog({message:`${o.name} fainted.`,type:"death",player:o.parent,sourcePet:o})},Zo=(o,e)=>{o.seenDead=!0,o.setFaintEventIfPresent(),wm(o,e)},Zt=o=>{const e=o.equipment;return"string"==typeof e?"Silly"===e:!(!e||"string"!=typeof e.name)&&"Silly"===e.name},er=(o,e)=>{const t=[];for(const i of o.petArray)i.alive&&("perk"===e?i.equipment&&!i.equipment.equipmentClass?.startsWith("ailment")&&t.push(i):i.equipment?.name===e&&t.push(i));return t},Rc=(o,e)=>{for(const t of o.petArray)if(t.position===e)return t;return null};var Tm=B(5659);const ts=function Cm(o){return(0,Tm.A)(o,4)};var jd=B(4528),Lc=Math.floor,Em=Math.random;const tl=function Vd(o,e){return o+Lc(Em()*(e-o+1))},is=function xm(o,e){var t=-1,i=o.length,n=i-1;for(e=void 0===e?i:e;++t<e;){var s=tl(t,n),r=o[s];o[s]=o[t],o[t]=r}return o.length=e,o},Ud=function Dm(o){return is((0,jd.A)(o))},Nc=function Mm(o,e){for(var t=-1,i=null==o?0:o.length,n=Array(i);++t<i;)n[t]=e(o[t],t,o);return n};var Oc=B(2662);const ns=function Bc(o){return null==o?[]:function Wd(o,e){return Nc(e,function(t){return o[t]})}(o,(0,Oc.A)(o))},S=function Ya(o){return is(ns(o))};var M=B(3744);const ie=function j(o){return((0,M.A)(o)?Ud:S)(o)},be=(o,e,t,i,n,s,r)=>{if(s&&Zt(s)){const h=e?[...e]:[];return h.includes(s)||h.push(s),Sr(o,h,!0)}let c=[];if(c=r?[...o.opponent.petArray,...o.petArray]:o.petArray,t&&i){const h=er(o,"Donut").filter(E=>!e?.includes(E)),v=er(o,"Blueberry").filter(E=>!e?.includes(E));(h.length>0||v.length>0)&&(c=[...h,...v])}else if(t){const h=er(o,"Donut").filter(v=>!e?.includes(v));h.length>0&&(c=h),n&&(c=c.filter(v=>50!==v.health||50!==v.attack||v.hasTrigger(void 0,"Pet","BehemothAbility")||v.hasTrigger(void 0,"Pet","GiantTortoiseAbility")),0===c.length&&(c=o.petArray))}else if(i){const h=er(o,"Blueberry").filter(v=>!e?.includes(v));h.length>0&&(c=h)}if(c=c.filter(h=>{let v=!0;return e&&(v=!e.includes(h)),v&&h.health>0}),n){const h=ts(c);c=c.filter(v=>50!==v.health||50!==v.attack),0===c.length&&(c=h)}return 0===c.length?{pet:null,random:!1}:{pet:c[Jt(0,c.length-1)],random:c.length>1}},Oe=(o,e,t,i,n,s,r)=>{if(s&&Zt(s)){const v=t?[...t]:[];return v.includes(s)||v.push(s),wt(o,e,!0,v)}const c=[],d=t??[];let h=!0;for(let v=0;v<e;v++){const E=be(o,d,i,n,void 0,s,r);if(h=E.random,null==E.pet)break;d.push(E.pet),c.push(E.pet)}return{pets:c,random:h}},wt=(o,e,t=!1,i)=>{const n=[],s=i?[...i]:[],c=(d=>{let h=[...o.petArray,...o.opponent.petArray];if(!t){const v=er(o,"Donut").filter(le=>!d?.includes(le)),E=er(o,"Blueberry").filter(le=>!d?.includes(le)),q=er(o.opponent,"Donut").filter(le=>!d?.includes(le)),K=er(o.opponent,"Blueberry").filter(le=>!d?.includes(le));(v.length>0||E.length>0||q.length>0||K.length>0)&&(h=[...v,...E,...q,...K])}return h.filter(v=>{let E=!0;return d&&(E=!d.includes(v)),E&&v.health>0})})(s).length;for(let d=0;d<e;d++){const h=Sr(o,s,t);if(null==h.pet)break;s.push(h.pet),n.push(h.pet)}return{pets:n,random:c>n.length}},Sr=(o,e,t=!1)=>{let i=[...o.opponent.petArray,...o.petArray];if(!t){const s=er(o,"Donut").filter(h=>!e?.includes(h)),r=er(o,"Blueberry").filter(h=>!e?.includes(h)),c=er(o.opponent,"Donut").filter(h=>!e?.includes(h)),d=er(o.opponent,"Blueberry").filter(h=>!e?.includes(h));(s.length>0||r.length>0||c.length>0||d.length>0)&&(i=[...c,...d,...s,...r])}return i=i.filter(s=>{let r=!0;return e&&(r=!e.includes(s)),r&&s.health>0}),0===i.length?{pet:null,random:!1}:{pet:i[Jt(0,i.length-1)],random:i.length>1}};class De{equipmentClass;name;tier;power;originalPower;uses;originalUses;callback;attackCallback;multiplier=1;multiplierMessage="";baseMultiplier=1;minimumDamage;hasRandomEvents=!1;triggers;constructor(){this.originalPower=this.power,this.baseMultiplier=this.multiplier}reset(){this.uses=this.originalUses}}function zd(o){return 1===o?0:2===o?2:5}function Yd(o){return zd(o)}class _{name;owner;_triggers=[];get triggers(){return this._triggers}set triggers(e){this._triggers=e}abilityType;maxUses;currentUses;initialCurrentUses;abilityLevel;condition;abilityFunction;native;ignoreRepeats;alwaysIgnorePetLevel;constructor(e){this.name=e.name,this.owner=e.owner,this.triggers=e.triggers,this.abilityType=e.abilityType,this.maxUses=e.maxUses??-1;const t=e.initialCurrentUses??("Pet"===e.abilityType?e.owner.triggersConsumed:0);this.initialCurrentUses=t,this.currentUses=t,this.abilityLevel=e.abilitylevel??1,this.condition=e.condition,this.abilityFunction=e.abilityFunction,this.native=e.native??!0,this.ignoreRepeats=e.ignoreRepeats??!1,this.alwaysIgnorePetLevel=e.alwaysIgnorePetLevel??!1}canUse(){return!(this.maxUses>0&&this.currentUses>=this.maxUses)}execute(e,t,i,n,s){if(this.owner.removed&&!this.matchesTrigger("PostRemovalFaint")||!this.owner.abilityValidCheck())return!1;try{const r={gameApi:e,triggerPet:t,tiger:i,pteranodon:n,...s};return!(this.condition&&!this.condition(r)||(this.currentUses++,"Pet"===this.abilityType&&(this.owner.triggersConsumed=Math.max(this.owner.triggersConsumed,this.currentUses)),this.abilityFunction(r),0))}catch(r){return console.error(`Error executing ability ${this.name||"unnamed"}:`,r),!1}}tigerCheck(e,t){if(this.ignoreRepeats||"Pet"!=this.abilityType)return!1;const i=t??this.owner.petBehind(!0,!0);return!(!i||!i.hasTrigger(void 0,void 0,"TigerAbility")||null!=e&&0!=e)}triggerTigerExecution(e){const t=e.tigerSupportPet??this.owner.petBehind(!0,!0);if(!this.tigerCheck(e.tiger,t)||!this.canUse())return;let i=this.abilityLevel,n=this.alwaysIgnorePetLevel;this.abilityLevel=t.level,this.alwaysIgnorePetLevel=!0;const{gameApi:s,triggerPet:r,tiger:c,pteranodon:d,...h}=e;this.execute(s,r,!0,d,h),this.abilityLevel=i,this.alwaysIgnorePetLevel=n}reset(){this.currentUses=0}initUses(){this.currentUses=this.initialCurrentUses}copy(e){return null}matchesTrigger(e){return this.triggers.includes(e)}get level(){return this.alwaysIgnorePetLevel?this.abilityLevel:this.owner.level}get minExpForLevel(){return Yd(this.level)}}class sa extends De{logService;name="Onion";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new tS(e,t,this.logService))};constructor(e){super(),this.logService=e}}class tS extends _{equipment;logService;constructor(e,t,i){super({name:"OnionAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} pushed itself to the back. (Onion)`,type:"equipment",player:t.parent}),t.parent.pushPetToBack(t),t.parent.pushPetsForward(),t.removePerk()}}const iS=o=>{const e=ts(o.petArray);try{o.setPet(0,e[0])}catch{o.pet0=void 0}try{o.setPet(1,e[1])}catch{o.pet1=void 0}try{o.setPet(2,e[2])}catch{o.pet2=void 0}try{o.setPet(3,e[3])}catch{o.pet3=void 0}try{o.setPet(4,e[4])}catch{o.pet4=void 0}},Xd=(o,e)=>{let t=null,i=!1;if(e>0&&null==o.pet0&&(i=!0,t=0),e>1&&null==o.pet1&&(i=!0,t=1),e>2&&null==o.pet2&&(i=!0,t=2),e>3&&null==o.pet3&&(i=!0,t=3),i){if(null==t)return!1;const n=(s,r)=>{switch(s){case 0:o.pet0=r;break;case 1:o.pet1=r;break;case 2:o.pet2=r;break;case 3:o.pet3=r;break;case 4:o.pet4=r}};for(let s=t;s<e;s++)n(s,o.getPet(s+1));return!0}return!1},Qd=(o,e)=>{let t=null,i=!1;if(e<4&&null==o.pet4&&(i=!0,t=4),e<3&&null==o.pet3&&(i=!0,t=3),e<2&&null==o.pet2&&(i=!0,t=2),e<1&&null==o.pet1&&(i=!0,t=1),i){if(null==t)return!1;const n=(s,r)=>{switch(s){case 0:o.pet0=r;break;case 1:o.pet1=r;break;case 2:o.pet2=r;break;case 3:o.pet3=r;break;case 4:o.pet4=r}};for(let s=t;s>e;s--)n(s,o.getPet(s-1));return!0}return!1},rs=(o,e)=>{5!==o.petArray.length?Xd(o,e)||Qd(o,e):console.warn("No room to Make Room")},Jd=(o,e,t=1,i,n,s)=>{if("Brussels Sprout"===e?.equipment?.name)return n.createLog({message:`${e.name} blocked being pushed. (Brussels Sprout)`,type:"equipment",player:e.parent}),void e.removePerk();const r=e.position;switch(r){case 0:e.parent.pet0=void 0;break;case 1:e.parent.pet1=void 0;break;case 2:e.parent.pet2=void 0;break;case 3:e.parent.pet3=void 0;break;case 4:e.parent.pet4=void 0}let c;t>0&&(c=Math.max(r-t,0),null!=o.getPet(c)&&(Xd(o,c)||Qd(o,c)),o.setPet(c,e)),t<0&&(c=Math.min(r-t,4),null!=o.getPet(c)&&(Qd(o,c)||Xd(o,c)),o.setPet(c,e)),i?(e.jumped=!0,s.triggerJumpEvents(e)):s.triggerPushedEvents(e)},_o=(o,e,t,i,n,s,r,c)=>{if(n&&Zt(n)){const h=Math.random()<.5?o:o.opponent,v=Jt(0,4);return e.parent=h,{success:_o(h,e,v,i,void 0,s,r,c).success,randomEvent:!0}}return t<0||t>4?(i||s.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:o}),{success:!1,randomEvent:!1}):i&&null!=o.getPet(t)?{success:!1,randomEvent:!1}:5===o.petArray.length?(i||s.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:o}),{success:!1,randomEvent:!1}):(o===c.gameApi.player?c.gameApi.playerSummonedAmount++:c.gameApi.opponentSummonedAmount++,0===t&&(null!=o.pet0&&rs(o,0),o.setPet(0,e)),1===t&&(null!=o.pet1&&rs(o,1),o.setPet(1,e)),2===t&&(null!=o.pet2&&rs(o,2),o.setPet(2,e)),3===t&&(null!=o.pet3&&rs(o,3),o.setPet(3,e)),4===t&&(null!=o.pet4&&rs(o,4),o.setPet(4,e)),r.triggerSummonEvents(e),{success:!0,randomEvent:!1})};class Zd extends De{name="Dazed";equipmentClass="ailment-other"}class ur extends De{name="Crisp";equipmentClass="ailment-other"}class Lm extends De{name="Toasty";equipmentClass="ailment-other";uses=1;originalUses=1}class Nm extends De{name="Blackberry";tier=3;equipmentClass="shop";constructor(){super()}}class Fm extends De{name="White Okra";tier=6;equipmentClass="shield";power=10;originalPower=10;uses=2;originalUses=2}class rS extends De{name="Ambrosia";tier=4;equipmentClass="shield";power=8;originalPower=8;uses=1;originalUses=1}const yT=[{name:"FairyAbility",label:"FairyBall",perLevel:2},{name:"NurikabeAbility",label:"Nurikabe",perLevel:4,incrementUses:!0},{name:"FanMusselAbility",label:"Fan Mussel",perLevel:1,incrementUses:!0},{name:"GhostKittenAbility",label:"Ghost Kitten",perLevel:3}];class aS{static applyDamage(e){const{pet:t,baseDamage:i,perkName:n,manticoreMultipliers:s,logService:r,afterDamage:c}=e,d=t.equipment;if(!d)return;let h=d.multiplier;for(let le of s)h+=le;const E=this.applyAbilityReductions(t,i*h),q=E.damage,K=this.buildLogMessage({pet:t,finalDamage:q,equipment:d,perkName:n,reductions:E.reductions,manticoreMultipliers:s});r.createLog({message:K,type:"ability",player:t.parent}),t.dealDamage(t,q),c&&c(t)}static applyAbilityReductions(e,t){let i=t;const n=[];for(const s of yT){if(i<=0)break;if(!e.hasTrigger(void 0,"Pet",s.name))continue;let r=0;for(const c of e.abilityList){if(c.name!==s.name)continue;const d=c.level*s.perLevel;0!==d&&(r+=d,i=Math.max(0,i-d),s.incrementUses&&c.currentUses++)}r>0&&n.push({label:s.label,amount:r})}return{damage:i,reductions:n}}static buildLogMessage(e){let t=`${e.pet.name} took ${e.finalDamage} damage`;if(e.manticoreMultipliers.length>0)for(const i of e.manticoreMultipliers)t+=` x${i+1} (Manticore)`;e.equipment.multiplier>1&&(t+=e.equipment.multiplierMessage);for(const i of e.reductions)t+=` -${i.amount} (${i.label})`;return t+=` (${e.perkName}).`,t}}class Gc extends De{logService;name="Strawberry";equipmentClass="shield";tier=1;uses=2;originalUses=2;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new bT(e,t,this.logService))};constructor(e){super(),this.logService=e}}class bT extends _{equipment;logService;constructor(e,t,i){super({name:"StrawberryAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:t.originalUses,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner,i=t.parent.getLastPet();if(i.pet){const n=1*this.equipment.multiplier;this.logService.createLog({message:`${t.name} (Strawberry) gave ${i.pet.name} +${n} attack and +${n} health${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent,randomEvent:i.random}),i.pet.increaseAttack(n),i.pet.increaseHealth(n)}}}class eh extends De{name="Peanut";tier=7;equipmentClass="attack";power=0}class ti extends De{name="Peanut Butter";equipmentClass="attack";tier=7;power=0;uses=1;originalUses=1}class th extends De{logService;name="White Truffle";equipmentClass="faint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new vT(e,t,this.logService))};constructor(e){super(),this.logService=e}}class vT extends _{equipment;logService;constructor(e,t,i){super({name:"WhiteTruffleAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const{tiger:s}=e,r=this.owner;for(let c=0;c<this.equipment.multiplier;c++){let d=r.parent.opponent.getHighestAttackPet(void 0,r);d.pet&&(r.jumpAttackPrep(d.pet),r.jumpAttack(d.pet,s,null,d.random))}r.removePerk()}}class ih extends De{name="Salt";tier=4;equipmentClass="attack";uses=1;originalUses=1}class il extends De{name="Cheese";equipmentClass="attack";uses=1;originalUses=1}class Om extends De{name="Fortune Cookie";equipmentClass="attack";constructor(){super()}}class Hc extends De{name="Pepper";equipmentClass="shield";uses=1;originalUses=1;power=0;originalPower=0}class Qa extends De{name="Icky";equipmentClass="ailment-other";uses=2;originalUses=2}class qc extends De{name="Sleepy";equipmentClass="ailment-other"}class nh extends De{name="Guava";tier=3;equipmentClass="shield";power=3;originalPower=3;uses=1;originalUses=1}class sS extends De{name="Guava (Attack)";equipmentClass="attack";power=3;originalPower=3}class wo extends De{name="Maple Syrup";tier=5;equipmentClass="shield";power=0;originalPower=0;uses=2;originalUses=2}class Ja extends De{name="Maple Syrup (Attack)";equipmentClass="attack";power=0;originalPower=0}class jc extends De{name="Honeydew Melon";tier=5;equipmentClass="shield";power=10;originalPower=10;uses=1;originalUses=1}class Bm extends De{name="Honeydew Melon (Attack)";equipmentClass="attack";power=5;originalPower=5}function nl(o,e,t,i,n=!1){let s=o.equipment?.multiplier??1,r=e.equipment?.multiplier??1;const c=["Cold","Weak","Spooked"],d=["Inked"];let E,q,v="defense"==e.equipment?.equipmentClass||"shield"==e.equipment?.equipmentClass||"ailment-defense"==e.equipment?.equipmentClass||n&&"shield-snipe"==e.equipment?.equipmentClass?e.equipment:null;if(null!=v)if("Strawberry"===v.name){const jt=e.getSparrowLevel();jt<=0||null!=v.uses&&v.uses<=0?v=null:v.power=5*jt}else{if(c.includes(v?.name??""))for(let Ji of t)r+=Ji;v.power=(v.originalPower??v.power??0)*r}if(n)E="attack-snipe"==o.equipment?.equipmentClass?o.equipment:null,q=(i??0)+(E?.power??0),v instanceof wo&&(v=null);else{if(E=o.equipment instanceof jc?new Bm:o.equipment instanceof wo?new Ja:o.equipment instanceof nh?new sS:"attack"==o.equipment?.equipmentClass||"ailment-attack"==o.equipment?.equipmentClass?o.equipment:null,null!=E){if(d.includes(E?.name??""))for(let _r of t)s+=_r;E.power=(E.originalPower??E.power??0)*s}let jt=o.attack;"Monty"==o.name&&(jt*=o.level+1),q=(i??jt)+(E?.power??0)}let K=v?.power??0,le=e.getSparrowLevel();"Strawberry"===e.equipment?.name&&le>0&&(K+=5*le),e.equipment instanceof wo&&e.equipment.uses>0&&!n&&(q=Math.floor(q*Math.pow(.5,r))),E instanceof ih&&!n&&(q*=2+s-1),E instanceof Ja&&!n&&(q=Math.floor(q*Math.pow(.5,s)));let Ae=!1;if(E instanceof Om&&!n&&Math.random()<.5&&(q*=2+s-1,Ae=!0),E instanceof il&&!n&&(q=Math.max(15,q)),e.equipment instanceof Qa){let jt=2;for(let Dt of t)jt+=Dt;jt+=e.equipment.multiplier-1,q*=jt}let Qe,Ce="shield"==v?.equipmentClass||"shield-snipe"==v?.equipmentClass?0:1;void 0!==v?.minimumDamage&&(Ce=v.minimumDamage),Qe=q<=Ce&&K>0?Math.max(q,0):Math.max(Ce,q-K),"Inked"===o.equipment?.name&&Qe>0&&(Qe=Math.max(0,Qe-3)),v instanceof Hc&&(Qe=Math.min(Qe,e.health-1));const Ye=(jt=>{let Dt=jt,Ji=0,Yn=0,xt=0,_r=0;if(e.hasTrigger(void 0,"Pet","FairyAbility")){for(let Fn of e.abilityList)if("FairyAbility"==Fn.name){const Pn=2*Fn.level;Ji+=Pn,Dt=Math.max(0,Dt-Pn)}Dt<1&&(Dt=1)}if(e.hasTrigger(void 0,"Pet","NurikabeAbility")&&Dt>0)for(let Fn of e.abilityList)"NurikabeAbility"==Fn.name&&(Yn=4*Fn.level,Dt=Math.max(0,Dt-Yn),Fn.currentUses++);if(e.hasTrigger(void 0,"Pet","FanMusselAbility")&&Dt>0)for(let Fn of e.abilityList)if("FanMusselAbility"==Fn.name){const Pn=1*Fn.level;xt+=Pn,Dt=Math.max(0,Dt-Pn),Fn.currentUses++}if(n&&e.hasTrigger(void 0,"Pet","GhostKittenAbility")&&Dt>0)for(let Fn of e.abilityList)if("GhostKittenAbility"==Fn.name){const Pn=3*Fn.level;_r+=Pn,Dt=Math.max(0,Dt-Pn)}return{damage:Dt,fairyBallReduction:Ji,nurikabe:Yn,fanMusselReduction:xt,ghostKittenReduction:_r}})(Qe);return Qe=Ye.damage,{defenseEquipment:v,attackEquipment:E,damage:Qe,fortuneCookie:Ae,nurikabe:Ye.nurikabe,fairyBallReduction:Ye.fairyBallReduction,fanMusselReduction:Ye.fanMusselReduction,mapleSyrupReduction:0,ghostKittenReduction:Ye.ghostKittenReduction}}function Vc(o,e,t){if(e.alive){if(t>=e.health&&"Bok Choy"==e.equipment?.name){let i=4*e.equipment.multiplier;o.createLog({message:`${e.name} gained ${i} health (Bok Choy) ${e.equipment.multiplierMessage} `,type:"equipment",player:e.parent}),e.increaseHealth(i),e.removePerk()}e.health-=t,e.health<=0&&(e.killedBy=o),t>0&&e.timesHurt++,e.health<1&&o.triggerKillEventsFor(e),t>0&&o.triggerHurtEventsFor(e,t)}}class C{logService;abilityService;name;baseName;tier;pack;hidden=!1;parent;health;attack;exp=0;equipment;mana=0;suppressManaSnipeOnFaint=!1;triggersConsumed=0;foodsEaten=0;sellValue=1;baseSellValue=1;swallowedPets=[];abominationSwallowedPet1;abominationSwallowedPet2;abominationSwallowedPet3;abominationSwallowedPet1BelugaSwallowedPet;abominationSwallowedPet2BelugaSwallowedPet;abominationSwallowedPet3BelugaSwallowedPet;abominationSwallowedPet1ParrotCopyPet;abominationSwallowedPet2ParrotCopyPet;abominationSwallowedPet3ParrotCopyPet;abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet;abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet;abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt=0;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt=0;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt=0;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt=0;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt=0;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt=0;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt=0;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt=0;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt=0;abominationSwallowedPet1Level;abominationSwallowedPet2Level;abominationSwallowedPet3Level;abominationSwallowedPet1TimesHurt=0;abominationSwallowedPet2TimesHurt=0;abominationSwallowedPet3TimesHurt=0;belugaSwallowedPet=null;parrotCopyPet=null;parrotCopyPetBelugaSwallowedPet=null;parrotCopyPetAbominationSwallowedPet1;parrotCopyPetAbominationSwallowedPet2;parrotCopyPetAbominationSwallowedPet3;parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet1Level;parrotCopyPetAbominationSwallowedPet2Level;parrotCopyPetAbominationSwallowedPet3Level;parrotCopyPetAbominationSwallowedPet1TimesHurt=0;parrotCopyPetAbominationSwallowedPet2TimesHurt=0;parrotCopyPetAbominationSwallowedPet3TimesHurt=0;parrotCopyPetAbominationSwallowedPet1ParrotCopyPet;parrotCopyPetAbominationSwallowedPet2ParrotCopyPet;parrotCopyPetAbominationSwallowedPet3ParrotCopyPet;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt=0;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt=0;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt=0;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt=0;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt=0;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt=0;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt=0;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt=0;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt=0;sarcasticFringeheadSwallowedPet;friendsDiedBeforeBattle=0;timesHurt=0;timesAttacked=0;battlesFought=0;currentTarget;lastAttacker;killedBy;transformedInto=null;lastLostEquipment;abilityCounter=0;targettedFriends=new Set;originalHealth;originalAttack;originalMana;originalTriggersConsumed;originalFoodsEaten;originalEquipment;originalExp=0;originalTimesHurt=0;faintPet=!1;toyPet=!1;transformed=!1;removed=!1;startOfBattleTriggered=!1;jumped=!1;done=!1;seenDead=!1;eggplantTouched=!1;cherryTouched=!1;clearFrontTriggered=!1;maxAbilityUses=null;abilityList=[];originalAbilityList=[];savedPosition;originalSavedPosition;hasRandomEvents=!1;constructor(e,t,i){this.logService=e,this.abilityService=t,this.parent=i}initPet(e,t,i,n,s,r){this.baseName=this.baseName??this.name,this.exp=e??this.exp,this.health=t??this.health*this.level,this.attack=i??this.attack*this.level,this.mana=n??this.mana,this.triggersConsumed=r??this.triggersConsumed,this.originalHealth=this.health,this.originalAttack=this.attack,this.originalMana=this.mana,this.originalTriggersConsumed=this.triggersConsumed,this.originalFoodsEaten=this.foodsEaten,this.equipment=s,this.originalEquipment=s,this.originalExp=this.exp,this.baseSellValue=this.level,this.sellValue=this.baseSellValue,this.initAbilities(),this.originalAbilityList=[...this.abilityList]}initAbilities(){this.initAbilityUses(),this.setAbilityEquipments()}abilityValidCheck(){return!(null==this.savedPosition||this.equipment instanceof Zd&&(this.logService.createLog({message:`${this.name}'s ability was not activated because of Dazed.`,type:"ability",player:this.parent}),1))}resetAbilityUses(){this.abilityList.forEach(e=>{e.reset()})}initAbilityUses(){this.abilityList.forEach(e=>{e.initUses()})}attackPet(e,t=!1,i,n=!1){!function $m(o,e,t=!1,i,n=!1){o.timesAttacked++;let s=nl(o,e,o.getManticoreMult(),i),r=s.attackEquipment,c=s.defenseEquipment,d=s.damage;const h=o.equipment instanceof qc;h&&(d=Math.floor(d/2));let q,v=o.equipment?.multiplier??1,E=e.equipment?.multiplier??1;if(o.currentTarget=e,t?(q=`${o.name} jump-attacks ${e.name} for ${d}.`,o.equipment instanceof th&&(q+="(White Truffle)")):q=`${o.name} attacks ${e.name} for ${d}.`,h&&(q+=" (Sleepy x0.5)"),r instanceof eh&&d>0)o.createLog({message:`${q} (Peanut)`,type:"attack",player:o.parent,sourcePet:o,targetPet:e,randomEvent:n}),Vc(o,e,d),e.killedBy=o,e.health=0;else if(r instanceof ti&&d>0&&r.uses>0)o.createLog({message:`${q} (Peanut Butter)`,type:"attack",player:o.parent,sourcePet:o,targetPet:e,randomEvent:n}),e.killedBy=o,Vc(o,e,d),e.health=0;else{if(Vc(o,e,d),null!=r){const Ke=r.power??0;let Re="-";Ke>0&&(Re="+");let lt=`${Re}${Math.abs(Ke)}`;r instanceof ih&&(lt="x2"),r instanceof Ja&&(lt="x0.5"),r instanceof il&&(lt=d<=15?"=15":"+0"),r instanceof Om&&(n=!0,s.fortuneCookie?(lt="x2",r.multiplier>1&&(lt+=r.multiplierMessage)):lt="x1"),q+=` (${r.name} ${lt})`,v>1&&o.equipment&&(q+=o.equipment.multiplierMessage)}if(null!=c){const Ke=c.power??0;let Ye=Math.abs(Ke),Re="-";if(Ke<0&&(Re="+"),"Coconut"===c.name)q+=` (${c.name} block)`;else if("Strawberry"===c.name){let lt=e.getSparrowLevel();lt>0&&(Ye=5*lt,q+=` (Strawberry -${Ye} (Sparrow))`)}else c instanceof Hc?(Re=1==e.health?"!":"-",Ye="",q+=` (${c.name} ${Re}${Ye})`):c instanceof wo?(Ye="x0.5",q+=` (${c.name} ${Ye})`):q+=` (${c.name} ${Re}${Ye})`;E>1&&e.equipment&&(q+=e.equipment.multiplierMessage)}e.equipment instanceof Qa&&(q+="x2 (Icky)",e.equipment.multiplier>1&&(q+=e.equipment.multiplierMessage)),s.nurikabe>0&&(q+=` -${s.nurikabe} (Nurikabe)`),(s.fairyBallReduction??0)>0&&(q+=` -${s.fairyBallReduction} (Fairy Ball)`),(s.fanMusselReduction??0)>0&&(q+=` -${s.fanMusselReduction} (Fan Mussel)`),(s.ghostKittenReduction??0)>0&&(q+=` -${s.ghostKittenReduction} (Ghost Kitten)`),(s.mapleSyrupReduction??0)>0&&(q+=` -${s.mapleSyrupReduction} (Maple Syrup)`);let le=o.getManticoreMult(),Ce=["Weak","Cold","Icky","Spooked"].includes(e.equipment?.name??"");if(le.length>0&&Ce)for(let Ke of le)q+=` x${Ke+1} (Manticore)`;o.createLog({message:q,type:"attack",player:o.parent,sourcePet:o,targetPet:e,randomEvent:n}),("skewer"==o.equipment?.equipmentClass?o.equipment:null)?.attackCallback?.(o,e)}h&&o.removePerk(),o.triggerAttackEventsFor(),o.applyCrisp();const K=o.parent.opponent?.petArray?.[0];K&&K.applyCrisp()}(this,e,t,i,n)}applyCrisp(){const e=this.parent,t=e?.opponent;if(!e||!t)return;const i=t.getManticoreMult();for(let n of e.petArray)n.equipment instanceof ur?aS.applyDamage({pet:n,baseDamage:6,perkName:"Crisp",manticoreMultipliers:i,logService:this.logService,afterDamage:s=>s.removePerk()}):n.equipment instanceof Lm&&n.equipment.uses>0&&aS.applyDamage({pet:n,baseDamage:1,perkName:"Toasty",manticoreMultipliers:i,logService:this.logService,afterDamage:s=>{s.equipment.uses--,s.equipment.uses<=0&&s.removePerk()}})}snipePet(e,t,i,n,s,r,c,d,h){return function AT(o,e,t,i,n,s,r,c,d="sniped",h){let v=!1;"Albatross"==o.petAhead?.name&&e.tier<=4&&(t+=3*o.petAhead.level,v=!0),"Albatross"==o.petBehind()?.name&&e.tier<=4&&(t+=3*o.petBehind().level,v=!0);let E=nl(o,e,o.getManticoreMult(),t,!0),q=E.attackEquipment,K=E.defenseEquipment,le=E.damage;"Kiwano"===o.equipment?.name&&le>0&&(le+=8,o.createLog({message:`${o.name} added +8 damage. (Kiwano)`,type:"equipment",player:o.parent}),o.removePerk()),Vc(o,e,le);let ce=`${o.name} ${d} ${e.name} for ${le}.`;if(null!=h&&null!=o.equipment?.multiplier&&o.equipment.multiplier>1&&(ce+=` (${h}*${o.equipment.multiplier})`),null!=K){e.useDefenseEquipment(!0);const Ye=K.power??0;let Re=Math.abs(Ye),lt="-";if(Ye<0&&(lt="+"),"Coconut"===K.name)ce+=` (${K.name} block)`;else if("Strawberry"===K.name){let Bt=e.getSparrowLevel();Bt>0&&(Re=5*Bt,ce+=` (Strawberry -${Re} (Sparrow))`)}else ce+=` (${K.name} ${lt}${Re})`;ce+=K.multiplierMessage}if(null!=q&&"attack-snipe"==q.equipmentClass){const Ye=q.power??0;let Re=Math.abs(Ye),lt="-";Ye>0&&(lt="+"),ce+=` (${q.name} ${lt}${Re})`}o.equipment?.multiplier&&o.equipment.multiplier>1&&(ce+=o.equipment.multiplierMessage),n&&(ce+=" (Tiger)"),v&&(ce+=" (Albatross)"),r&&o.equipment&&(ce+=` (${o.equipment.name})`),c&&(ce+=" (Mana)"),"Icky"==e.equipment?.name&&(ce+="x2 (Icky)",e.equipment.multiplier>1&&(ce+=e.equipment.multiplierMessage));let Ae=o.getManticoreMult(),Ke=["Weak","Cold","Icky","Spooked"].includes(e.equipment?.name??"");if(Ae.length>0&&Ke)for(let Ye of Ae)ce+=` x${Ye+1} (Manticore)`;return E.nurikabe>0&&(ce+=` -${E.nurikabe} (Nurikabe)`),(E.fairyBallReduction??0)>0&&(ce+=` -${E.fairyBallReduction} (Fairy Ball)`),(E.fanMusselReduction??0)>0&&(ce+=` -${E.fanMusselReduction} (Fan Mussel)`),(E.ghostKittenReduction??0)>0&&(ce+=` -${E.ghostKittenReduction} (Ghost Kitten)`),o.createLog({message:ce,type:"attack",randomEvent:i,player:o.parent,sourcePet:o,targetPet:e,pteranodon:s}),null!=q&&"attack-snipe"==q.equipmentClass&&null!=o.equipment?.uses&&(o.equipment.uses-=1,o.equipment.uses<=0&&o.removePerk()),le}(this,e,t,i,n,s,r,c,d,h)}calculateDamage(e,t,i,n=!1){return nl(this,e,t,i,n)}resetPet(){!function oS(o){o.health=o.originalHealth,o.attack=o.originalAttack,o.equipment=o.originalEquipment,o.lastLostEquipment=null,o.mana=o.originalMana,o.triggersConsumed=o.originalTriggersConsumed,o.foodsEaten=o.originalFoodsEaten,o.exp=o.originalExp,o.timesHurt=o.originalTimesHurt,o.timesAttacked=0,o.abilityCounter=0,o.transformed=!1,o.transformedInto=null,o.currentTarget=null,o.lastAttacker=null,o.killedBy=null,o.swallowedPets=[],o.targettedFriends.clear(),o.savedPosition=o.originalSavedPosition,o.abilityList=[...o.originalAbilityList],o.initAbilityUses(),o.done=!1,o.seenDead=!1,o.removed=!1,o.jumped=!1,o.clearFrontTriggered=!1;try{o.equipment?.reset()}catch(e){console.warn("equipment reset failed",o.equipment),console.error(e)}o.equipment&&(o.equipment.multiplier=o.equipment.baseMultiplier??1,o.equipment.multiplierMessage="")}(this)}jumpAttackPrep(e){this.abilityService.triggerBeforeAttackEvent(this),this.abilityService.triggerBeforeAttackEvent(e),this.abilityService.executeBeforeAttackEvents()}jumpAttack(e,t,i,n=!1){!function rl(o,e,t,i,n=!1){let s;e.lastAttacker=o,s=o.transformed?o.transformedInto??o:o,e.transformed&&(e=e.transformedInto??e),s.alive&&e.alive&&(s.attackPet(e,!0,i,n),e.attackPet(s),s.useAttackDefenseEquipment(),e.useAttackDefenseEquipment(),s.parent.checkPetsAlive(),e.parent.checkPetsAlive(),s.executeAfterAttackEvents(),s.triggerJumpEventsFor())}(this,e,0,i,n)}get alive(){return this.health>0}setFaintEventIfPresent(){if(this.abilityService.triggerFaintEvents(this),this.mana>0){if(this.suppressManaSnipeOnFaint)return;this.abilityService.setManaEvent({priority:this.attack,callback:(e,t,i,n)=>{if(0==this.mana||this.kitsuneCheck())return;const r=this.parent.opponent.getRandomPet([],!1,!0,!1,this);null!=r.pet&&(this.snipePet(r.pet,this.mana,r.random,!1,!1,!1,!0),this.mana=0)},pet:this,triggerPet:this,tieBreaker:Math.random()})}}useDefenseEquipment(e=!1){this.canConsumeDefenseEquipment(e)&&(this.equipment.uses-=1,0==this.equipment.uses&&this.removePerk())}useAttackDefenseEquipment(){this.canConsumeAttackDefenseEquipment()&&(this.equipment.uses-=1,0==this.equipment.uses&&this.removePerk())}canConsumeDefenseEquipment(e){return!(!this.equipment||"ailment-defense"!=this.equipment.equipmentClass&&"Icky"!=this.equipment.name&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&e&&"shield-snipe"!=this.equipment.equipmentClass||null==this.equipment.uses||"Strawberry"===this.equipment.name&&(this.getSparrowLevel()<=0||this.equipment.uses<=0))}canConsumeAttackDefenseEquipment(){return!(!this.equipment||null==this.equipment.uses||"Strawberry"===this.equipment.name&&(this.getSparrowLevel()<=0||this.equipment.uses<=0)||"attack"!=this.equipment.equipmentClass&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&"snipe"!=this.equipment.equipmentClass&&"ailment-attack"!=this.equipment.equipmentClass&&"ailment-defense"!=this.equipment.equipmentClass&&"Icky"!=this.equipment.name||(isNaN(this.equipment.uses)&&console.warn("uses is NaN",this.equipment),0))}increaseAttack(e){let t=50;"Behemoth"==this.name&&(t=100),!(e>0&&"Sad"===this.equipment?.name)&&this.alive&&(this.attack=Math.min(Math.max(this.attack+e,1),t))}increaseHealth(e){let t=50;("Behemoth"==this.name||"Giant Tortoise"==this.name)&&(t=100),!(e>0&&"Sad"===this.equipment?.name)&&this.alive&&(this.health=Math.min(Math.max(this.health+e,1),t),this.abilityService.triggerFriendGainsHealthEvents(this))}increaseSellValue(e){e<=0||(this.sellValue+=e)}dealDamage(e,t){t>0&&"Kiwano"===this.equipment?.name&&(t+=8,this.logService.createLog({message:`${this.name} added +8 damage. (Kiwano)`,type:"equipment",player:this.parent}),this.removePerk()),Vc(this,e,t)}triggerHurtEventsFor(e,t){this.abilityService.triggerHurtEvents(e,t)}triggerKillEventsFor(e){this.abilityService.triggerKillEvents(this,e)}triggerAttackEventsFor(){this.abilityService.triggerAttacksEvents(this)}executeAfterAttackEvents(){this.abilityService.executeAfterAttackEvents()}triggerJumpEventsFor(){this.abilityService.triggerJumpEvents(this)}createLog(e){this.logService.createLog(e)}increaseExp(e){let t=this.level;this.increaseAttack(e),this.increaseHealth(e),this.exp=Math.min(this.exp+e,5);let i=this.level-t;i>0&&(this.baseSellValue+=i,this.sellValue+=i);for(let n=0;n<i;n++)this.logService.createLog({message:`${this.name} leveled up to level ${this.level}.`,type:"ability",player:this.parent}),this.abilityService.triggerLevelUpEvents(this),this.abilityService.executeFriendlyLevelUpToyEvents(),this.resetAbilityUses();for(let n=0;n<Math.min(e,5);n++)this.abilityService.triggerFriendGainedExperienceEvents(this)}increaseMana(e){this.mana+=e,this.mana=Math.min(this.mana,50),this.abilityService.triggerManaGainedEvents(this)}givePetEquipment(e,t=1){if(null!=e){if(this.alive){if("Bloated"===this.equipment?.name&&!e.equipmentClass?.startsWith("ailment"))return this.logService.createLog({message:`${this.name} blocked gaining ${e.name}. (Bloated)`,type:"equipment",player:this.parent}),void this.removePerk();if(!this.handleCorncobEquipment(e))if("ailment-attack"==e.equipmentClass||"ailment-defense"==e.equipmentClass||"ailment-other"==e.equipmentClass){if(this.applyAilmentEquipment(e,t))return}else this.applyStandardEquipment(e,t)}}else console.warn(`givePetEquipment called with null equipment for pet: ${this.name}`)}handleCorncobEquipment(e){if("Corncob"!==e.name)return!1;const i=Math.max(1,Math.floor(e.effectMultiplier??1));return this.attack<=this.health?this.increaseAttack(i):this.increaseHealth(i),this.abilityService.triggerFoodEvents(this,"corn"),!0}applyAilmentEquipment(e,t){return!(this.equipment?.name!==e.name&&(this.equipment instanceof rS?(this.equipment.uses--,this.logService.createLog({message:`${this.name} blocked ${e.name}. (Ambrosia)`,type:"equipment",player:this.parent}),0==this.equipment.uses&&this.removePerk(),0):this.equipment instanceof Fm?(this.logService.createLog({message:`${this.name} blocked ${e.name}. (White Okra)`,type:"equipment",player:this.parent}),this.removePerk(),0):this.equipment instanceof Gc&&this.getSparrowLevel()>0&&this.equipment.uses>0?(this.logService.createLog({message:`${this.name} blocked ${e.name}. (Strawberry)`,type:"equipment",player:this.parent}),this.removePerk(),0):(null!=this.equipment&&this.removePerk(!0),this.applyEquipment(e,t),this.abilityService.triggerAilmentGainEvents(this,e.name),0)))}applyStandardEquipment(e,t){if(e instanceof Nm){this.applyEquipment(e,t);const i=1*e.multiplier,n=2*e.multiplier;this.increaseAttack(i),this.increaseHealth(n),this.logService.createLog({message:`${this.name} gained ${i} attack and ${n} health (Blackberry)${e.multiplierMessage}`,type:"equipment",player:this.parent})}else this.applyEquipment(e,t);this.abilityService.triggerPerkGainEvents(this,e.name),this.abilityService.triggerFoodEvents(this,e.name)}applyEquipment(e,t=1){null!=e&&(this.equipment=e,this.setEquipmentMultiplier(t),this.removeAbility(void 0,"Equipment"),this.equipment.callback&&this.equipment.callback(this))}removePerk(e=!1){if(null==this.equipment)return;let t="ailment-attack"==this.equipment.equipmentClass||"ailment-defense"==this.equipment.equipmentClass||"ailment-other"==this.equipment.equipmentClass;e&&t||(this.lastLostEquipment=this.equipment,this.removeAbility(void 0,"Equipment"),this.equipment=null,t||this.abilityService.triggerPerkLossEvents(this,this.lastLostEquipment?.name))}setEquipmentMultiplier(e=1){if(!this.equipment)return;const t=this.equipment.baseMultiplier??this.equipment.multiplier??1;this.equipment.baseMultiplier=t;let i=t,n=[];"Panther"===this.name&&"ailment-attack"!==this.equipment.equipmentClass&&"ailment-defense"!==this.equipment.equipmentClass&&"ailment-other"!==this.equipment.equipmentClass&&(i+=this.level,n.push(`x${this.level+1} (Panther)`)),e&&e>1&&(i+=e-1,n.push(`x${e} (Pandora's Box)`)),this.equipment.multiplier=i,this.equipment.multiplierMessage=n.length>0?` ${n.join(" ")}`:""}get level(){return this.exp<2?1:this.exp<5?2:3}get position(){const e=this.parent;return e?this==e.pet0?0:this==e.pet1?1:this==e.pet2?2:this==e.pet3?3:this==e.pet4?4:this.savedPosition:this.savedPosition}petBehind(e=!1,t=!1){if(!this.parent)return null;for(let n=(void 0!==this.position?this.position:this.savedPosition)+1;n<5;n++){let s=this.parent.getPetAtPosition(n);if(t&&null!=s)return s;if(e&&null!=s&&!s.alive&&!s.seenDead)return null;if(null!=s&&s.alive)return s}return null}getManticoreMult(){const e=this.parent;if(!e||!e.petArray)return[];let t=[];for(let i of e.petArray)"Manticore"==i.name&&t.push(i.level);return t}getSparrowLevel(){const e=this.parent;if(!e||!Array.isArray(e.petArray))return 0;let t=0;for(let i of e.petArray)"Sparrow"==i.name&&(t=Math.max(t,i.level));return t}getSillyRandomTargets(e,t){if(!this.parent?.opponent)return[];const i=this.equipment;if(!("string"==typeof i&&"Silly"===i||i&&"string"==typeof i.name&&"Silly"===i.name))return[];const r=[],c=[...[...this.parent.petArray,...this.parent.opponent.petArray].filter(d=>!(!d.alive||d===this||t&&d.equipment?.name===t))];for(;r.length<e&&c.length>0;){const d=Jt(0,c.length-1);r.push(c.splice(d,1)[0])}return r}getPetsBehind(e,t){const i=this.getSillyRandomTargets(e,t);if(i.length>0)return i;let n=[],s=this.petBehind();for(t&&s&&s.equipment?.name===t&&(s=s.petBehind());s&&!(n.length>=e);)n.push(s),s=s.petBehind();return n}kitsuneCheck(){let e=this.petBehind(),t=!0;for(;e;){if("Kitsune"==e.name&&t)return!1;if(t=!1,"Kitsune"==e.name)return!0;e=e.petBehind()}return!1}get petAhead(){const e=this.parent;if(!e)return null;for(let i=(void 0!==this.position?this.position:this.savedPosition)-1;i>-1;i--){let n=e.getPetAtPosition(i);if(null!=n&&n.alive)return n}return null}get minExpForLevel(){return Yd(this.level)}setAbilityEquipments(){"Eggplant"==this.equipment?.name?(this.equipment.callback(this),this.eggplantTouched=!0):this.equipment?.callback&&this.equipment.callback(this)}getEquippedEquipmentInstance(e){return this.equipment??e}addAbility(e){this.abilityList.push(e)}removeAbility(e,t){const i=this.abilityList.length;return this.abilityList=this.abilityList.filter(n=>!(e&&n.name===e||t&&n.abilityType===t||!e&&!t)),this.abilityList.length<i}getAbilities(e,t){return this.abilityList.filter(i=>!(e&&!i.matchesTrigger(e)||t&&i.abilityType!==t))}getAbilitiesWithTrigger(e,t,i){return this.abilityList.filter(n=>!(e&&!n.matchesTrigger(e)||!n.canUse()||t&&n.abilityType!==t||i&&n.name!==i))}executeAbilities(e,t,i,n,s,r){if(this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(e,t,i,n,s,r);const c=this.getAbilitiesWithTrigger(e,"Pet");for(const h of c)if(h.execute(t,i,n,s,r),this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(e,t,i,n,s,r);const d=this.getAbilitiesWithTrigger(e,"Equipment");for(const h of d)if(h.execute(t,i,n,s,r),this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(e,t,i,n,s,r)}activateAbilities(e,t,i,n,s){const r=this.getAbilities(e,i);for(const c of r)c.execute(t,n,void 0,void 0,s)}copyAbilities(e,t,i){const n=e.getAbilities(void 0,t);this.removeAbility(void 0,t);for(const s of n){const r=s.copy(this);if(null==r)continue;i&&(r.abilityLevel=i,r.alwaysIgnorePetLevel=!0,r.reset()),r.native=!1;const c=r.abilityFunction,d=e.name;r.abilityFunction=h=>{const v=this.name;this.name=`${this.baseName??v}'s ${d}`;try{c(h)}finally{this.name=v}},this.addAbility(r)}}gainAbilities(e,t,i){const n=e.getAbilities(void 0,t);for(const s of n){const r=s.copy(this);if(null==r)continue;i&&(r.abilityLevel=i,r.alwaysIgnorePetLevel=!0,r.reset()),r.native=!1;const c=r.abilityFunction,d=e.name;r.abilityFunction=h=>{const v=this.name;this.name=`${this.baseName??v}'s ${d}`;try{c(h)}finally{this.name=v}},this.addAbility(r)}}hasAbility(e,t){return this.getAbilities(e,t).length>0}hasTrigger(e,t,i){return this.getAbilitiesWithTrigger(e,t,i).length>0}isSellPet(){return!!(["Beaver","Duck","Pig","Pillbug","Kiwi","Mouse","Frog","Bass","Tooth Billed Pigeon","Marmoset","Capybara","Platypus"].includes(this.name)||this.originalAbilityList.filter(t=>t.matchesTrigger("ThisSold")&&"Pet"==t.abilityType).length>0)}isFaintPet(){return this.originalAbilityList.filter(e=>(e.matchesTrigger("PostRemovalFaint")||e.matchesTrigger("Faint"))&&"Pet"==e.abilityType).length>0}}class Uc extends C{logService;abilityService;name="Puma";tier=6;pack="Puppy";attack=6;health=5;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}const Hm=(o,e)=>{o.toy=e};class qm extends C{logService;abilityService;name="Golden Retriever";tier=1;pack="Golden";hidden=!0;health=1;attack=1;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Sn{logService;abilityService;gameService;pet0;pet1;pet2;pet3;pet4;orignalPet0;orignalPet1;orignalPet2;orignalPet3;orignalPet4;pack="Turtle";toy=null;brokenToy=null;originalToy=null;trumpets=0;spawnedGoldenRetiever=!1;summonedBoatThisBattle=!1;isOpponent=!1;allPets=!1;tokenPets=!1;cannedAilments=[];constructor(e,t,i){this.logService=e,this.abilityService=t,this.gameService=i}alive(){return this.petArray.length>0}resetPets(){var o;(o=this).pet0=o.orignalPet0,o.pet0?.resetPet(),o.pet1=o.orignalPet1,o.pet1?.resetPet(),o.pet2=o.orignalPet2,o.pet2?.resetPet(),o.pet3=o.orignalPet3,o.pet3?.resetPet(),o.pet4=o.orignalPet4,o.pet4?.resetPet(),o.orignalPet0=o.pet0,o.orignalPet1=o.pet1,o.orignalPet2=o.pet2,o.orignalPet3=o.pet3,o.orignalPet4=o.pet4,o.toy=o.originalToy,o.toy&&(o.toy.used=!1,o.toy.triggers=0,o.originalToy&&(o.toy.level=o.originalToy.level)),o.brokenToy=null,o.trumpets=0,o.spawnedGoldenRetiever=!1,o.summonedBoatThisBattle=!1,o.cannedAilments=[]}resetJumpedFlags(){(o=>{for(const e of o.petArray)e&&(e.jumped=!1)})(this)}setPet(e,t,i=!1){this.getPet(e),0==e&&(this.pet0=t,null!=t&&(this.pet0.savedPosition=0),i&&(this.orignalPet0=t)),1==e&&(this.pet1=t,null!=t&&(this.pet1.savedPosition=1),i&&(this.orignalPet1=t)),2==e&&(this.pet2=t,null!=t&&(this.pet2.savedPosition=2),i&&(this.orignalPet2=t)),3==e&&(this.pet3=t,null!=t&&(this.pet3.savedPosition=3),i&&(this.orignalPet3=t)),4==e&&(this.pet4=t,null!=t&&(this.pet4.savedPosition=4),i&&(this.orignalPet4=t)),i&&null!=t&&(t.originalSavedPosition=t.savedPosition)}getPet(e){switch(e){case 0:return this.pet0;case 1:return this.pet1;case 2:return this.pet2;case 3:return this.pet3;case 4:return this.pet4;default:return}}pushPetsForward(){iS(this)}onionCheck(){var o;o=this,null!=o.pet0?.equipment&&o.pet0.equipment instanceof sa&&(o.pet0.equipment.callback(o.pet0),iS(o))}summonPet(e,t,i=!1,n){return _o(this,e,t,i,n,this.logService,this.abilityService,this.gameService)}transformPet(e,t){((o,e,t,i,n)=>{const s=e?.parent??o;t.parent!==s&&(t.parent=s),s.setPet(e.position,t),s===n.gameApi.player?n.gameApi.playerTransformationAmount++:n.gameApi.opponentTransformationAmount++,e.transformed=!0,e.transformedInto=t,t.applyEquipment(t.equipment),i.triggerTransformEvents(e)})(this,e,t,this.abilityService,this.gameService)}pushForwardFromSlot(e){return Xd(this,e)}pushBackwardFromSlot(e){return Qd(this,e)}makeRoomForSlot(e){rs(this,e)}get petArray(){let e=[];return null!=this.pet0&&e.push(this.pet0),null!=this.pet1&&e.push(this.pet1),null!=this.pet2&&e.push(this.pet2),null!=this.pet3&&e.push(this.pet3),null!=this.pet4&&e.push(this.pet4),e}handleDeath(e){Zo(e,this.logService)}checkPetsAlive(){var o,e;e=this.logService,(o=this).pet0&&!o.pet0.alive&&!o.pet0.seenDead&&Zo(o.pet0,e),o.pet1&&!o.pet1.alive&&!o.pet1.seenDead&&Zo(o.pet1,e),o.pet2&&!o.pet2.alive&&!o.pet2.seenDead&&Zo(o.pet2,e),o.pet3&&!o.pet3.alive&&!o.pet3.seenDead&&Zo(o.pet3,e),o.pet4&&!o.pet4.alive&&!o.pet4.seenDead&&Zo(o.pet4,e)}removeDeadPets(){return((o,e)=>{let t=!1;const i=[{pet:o.pet0,index:0},{pet:o.pet1,index:1},{pet:o.pet2,index:2},{pet:o.pet3,index:3},{pet:o.pet4,index:4}];for(const n of i)if(n.pet&&!n.pet.alive){switch(n.pet.removed=!0,n.index){case 0:o.pet0=void 0;break;case 1:o.pet1=void 0;break;case 2:o.pet2=void 0;break;case 3:o.pet3=void 0;break;case 4:o.pet4=void 0}e.triggerAfterFaintEvents(n.pet),t=!0}return t})(this,this.abilityService)}createDeathLog(e){wm(e,this.logService)}getRandomPet(e,t,i,n,s,r){return be(this,e,t,i,n,s,r)}getRandomPets(e,t,i,n,s,r){return Oe(this,e,t,i,n,s,r)}getRandomEnemyPetsWithSillyFallback(e,t,i,n,s){return((o,e,t,i,n,s)=>{if(s&&Zt(s)){const r=t?[...t]:[];return r.includes(s)||r.push(s),Oe(o,e,r,i,n,void 0,!0)}return Oe(o.opponent,e,t,i,n,s)})(this,e,t,i,n,s)}getPetsWithEquipmentWithSillyFallback(e,t){return((o,e,t)=>t&&Zt(t)?[...er(o,e),...er(o.opponent,e)]:er(o.opponent,e))(this,e,t)}getRandomLivingPets(e){return wt(this,e)}getAll(e,t,i){return((o,e,t,i)=>{if(t&&Zt(t))return{pets:[...o.petArray,...o.opponent.petArray].filter(r=>r.alive),random:!1};let n=[];return n=e?[...o.petArray,...o.opponent.petArray]:[...o.petArray],i&&(n=n.filter(s=>s!==t)),n=n.filter(s=>s.alive),{pets:n,random:!1}})(this,e,t,i)}getPetsWithEquipment(e){return er(this,e)}getPetsWithoutEquipment(e){return((o,e)=>{const t=[];for(const i of o.petArray)i.alive&&("Perk"===e?(!i.equipment||i.equipment.name.startsWith("ailment"))&&t.push(i):(!i.equipment||i.equipment.name!==e)&&t.push(i));return t})(this,e)}getPetAtPosition(e){return Rc(this,e)}getMiddleFriend(e){return((o,e)=>{if(e&&Zt(e))return Sr(o,[e],!0);const t=o.getPet(2);return t&&!t.alive?{pet:null,random:!1}:{pet:t??null,random:!1}})(this,e)}getLastPet(e,t){return((o,e,t)=>{if(t&&Zt(t))return Sr(o,[t],!0);for(const i of[...o.petArray].reverse())if(i.alive&&(!e||!e.includes(i)))return{pet:i,random:!1};return{pet:null,random:!1}})(this,e,t)}getLastPets(e,t,i){return((o,e,t,i)=>{if(i&&Zt(i))return wt(o,e,!0,[i]);const n=[...o.petArray].filter(c=>c.alive&&(!t||!t.includes(c)));return 0===n.length?{pets:[],random:!1}:{pets:[...n].reverse().slice(0,e),random:!1}})(this,e,t,i)}getHighestHealthPet(e,t){return((o,e,t)=>{if(t&&Zt(t))return Sr(o,[t],!0);const i=o.petArray;let n=[];for(const s of i)if(s!==e&&s.alive){if(0===n.length){n=[s];continue}if(s.health===n[0].health){n.push(s);continue}s.health>n[0].health&&(n=[s])}return 0===n.length?{pet:null,random:!1}:{pet:n[Jt(0,n.length-1)],random:n.length>1}})(this,e,t)}getHighestAttackPet(e,t){return((o,e,t)=>{if(t&&Zt(t))return Sr(o,[t],!0);const i=o.petArray;let n=[];for(const r of i)if(r!==e&&r.alive){if(0===n.length){n=[r];continue}if(r.attack===n[0].attack){n.push(r);continue}r.attack>n[0].attack&&(n=[r])}const s=0===n.length?null:n[Jt(0,n.length-1)];return{pet:s,random:null!=s&&n.length>1}})(this,e,t)}getHighestAttackPets(e,t,i){return((o,e,t,i)=>{if(i&&Zt(i))return wt(o,e,!0,[i]);const n=[...o.petArray].filter(d=>d.alive&&(!t||!t.includes(d)));if(0===n.length)return{pets:[],random:!1};const s=ie(n);s.sort((d,h)=>h.attack-d.attack);const r=s.slice(0,e);let c=!1;return r.length===e&&s.length>e&&r[e-1].attack===s[e].attack&&(c=!0),{pets:r,random:c}})(this,e,t,i)}getLowestAttackPets(e,t,i){return((o,e,t,i)=>{if(i&&Zt(i))return wt(o,e,!0,[i]);const n=[...o.petArray].filter(d=>d.alive&&(!t||!t.includes(d)));if(0===n.length)return{pets:[],random:!1};const s=ie(n);s.sort((d,h)=>d.attack-h.attack);const r=s.slice(0,e);let c=!1;return r.length===e&&s.length>e&&r[e-1].attack===s[e].attack&&(c=!0),{pets:r,random:c}})(this,e,t,i)}getLowestAttackPet(e,t){return((o,e,t)=>{if(t&&Zt(t))return Sr(o,[t],!0);const i=o.petArray;let n=[];for(const r of i)if(r!==e&&r.alive){if(0===n.length){n=[r];continue}if(r.attack===n[0].attack){n.push(r);continue}r.attack<n[0].attack&&(n=[r])}const s=0===n.length?null:n[Jt(0,n.length-1)];return{pet:s,random:null!=s&&n.length>1}})(this,e,t)}getLowestHealthPet(e,t){return((o,e,t)=>{if(t&&Zt(t))return Sr(o,[t],!0);const i=o.petArray;let n=[];for(const r of i)if(r!==e&&r.alive){if(0===n.length){n=[r];continue}if(r.health===n[0].health){n.push(r);continue}r.health<n[0].health&&(n=[r])}const s=0===n.length?null:n[Jt(0,n.length-1)];return{pet:s,random:null!=s&&n.length>1}})(this,e,t)}getLowestHealthPets(e,t,i){return((o,e,t,i)=>{if(i&&Zt(i))return wt(o,e,!0,[i]);const n=[...o.petArray].filter(d=>d.alive&&(!t||!t.includes(d)));if(0===n.length)return{pets:[],random:!1};const s=ie(n);s.sort((d,h)=>d.health-h.health);const r=s.slice(0,e);let c=!1;return r.length===e&&s.length>e&&r[e-1].health===s[e].health&&(c=!0),{pets:r,random:c}})(this,e,t,i)}getHighestHealthPets(e,t,i){return((o,e,t,i)=>{if(i&&Zt(i))return wt(o,e,!0,[i]);const n=[...o.petArray].filter(d=>d.alive&&(!t||!t.includes(d)));if(0===n.length)return{pets:[],random:!1};const s=ie(n);s.sort((d,h)=>h.health-d.health);const r=s.slice(0,e);let c=!1;return r.length===e&&s.length>e&&r[e-1].health===s[e].health&&(c=!0),{pets:r,random:c}})(this,e,t,i)}getHighestTierPets(e,t,i){return((o,e,t,i)=>{if(i&&Zt(i))return wt(o,e,!0,[i]);const n=[...o.petArray].filter(d=>d.alive&&(!t||!t.includes(d)));if(0===n.length)return{pets:[],random:!1};const s=ie(n);s.sort((d,h)=>h.tier-d.tier);const r=s.slice(0,e);let c=!1;return r.length===e&&s.length>e&&r[e-1].tier===s[e].tier&&(c=!0),{pets:r,random:c}})(this,e,t,i)}getTierXOrLowerPet(e,t,i){return((o,e,t,i)=>{if(i&&Zt(i))return Sr(o,[i],!0);const n=[...o.petArray].filter(r=>r.alive&&r.tier<=e&&(!t||!t.includes(r)));return 0===n.length?{pet:null,random:!1}:{pet:n[Jt(0,n.length-1)],random:n.length>1}})(this,e,t,i)}get furthestUpPet(){for(let e of this.petArray)if(e.alive)return e;return null}getFurthestUpPet(e,t){return((o,e,t)=>{if(e&&Zt(e))return Sr(o,[e],!0);for(const i of o.petArray)if(i.alive){if(t&&t.includes(i))continue;return{pet:i,random:!1}}return{pet:null,random:!1}})(this,e,t)}getFurthestUpPets(e,t,i){return((o,e,t,i)=>{if(i&&Zt(i))return wt(o,e,!0,[i]);const n=[...o.petArray].filter(r=>r.alive&&(!t||!t.includes(r)));return 0===n.length?{pets:[],random:!1}:{pets:n.slice(0,e),random:!1}})(this,e,t,i)}nearestPetsBehind(e,t,i){return((o,e,t,i)=>{if(t&&Zt(t)){const c=i?[...i]:[];return c.includes(t)||c.push(t),wt(o,e,!0,c)}return{pets:t.getPetsBehind(2*e).filter(c=>!i||!i.includes(c)).slice(0,e),random:!1}})(this,e,t,i)}getThis(e){return((o,e)=>e&&Zt(e)?Sr(o,[e],!0):{pet:e,random:!1})(this,e)}getSpecificPet(e,t){return((o,e,t)=>e&&Zt(e)?Sr(o,[e],!0):{pet:t,random:!1})(this,e,t)}nearestPetsAhead(e,t,i,n,s){return((o,e,t,i,n,s)=>{if(t&&Zt(t)){const d=i?[...i]:[];return d.includes(t)||d.push(t),wt(o,e,!0,d)}const r=[];let c=t.petAhead;for(;c&&!(r.length>=e);)s&&c.equipment?.name===s||(!i||!i.includes(c))&&r.push(c),c=c.petAhead;if(r.length<e&&n){let d=o.opponent.furthestUpPet;for(;d&&!(r.length>=e);)s&&d.equipment?.name===s||(!i||!i.includes(d))&&r.push(d),d=d.petBehind()}return{pets:r,random:!1}})(this,e,t,i,n,s)}breakToy(e=!1){((o,e,t,i,n)=>{if(null!=o.toy){if(o.brokenToy=o.toy,t.createLog({message:`${o.toy.name} broke!`,type:"ability",player:o,randomEvent:!1}),null!=o.toy.onBreak){const s=[{callback:o.toy.onBreak.bind(o.toy),priority:99}],r=o.toy.level;for(const c of o.petArray)c instanceof Uc&&s.push({callback:()=>{o.toy.level=c.level,o.toy.onBreak(n.gameApi,!0),o.toy.level=r},priority:c.attack});s.sort((c,d)=>c.priority>d.priority?-1:c.priority<d.priority?1:0);for(const c of s)c.callback(n.gameApi)}o.toy=null,e&&Hm(o,o.brokenToy)}})(this,e,this.logService,0,this.gameService)}setToy(e){Hm(this,e)}getStrongestPet(e){return((o,e)=>{if(e&&Zt(e))return Sr(o,[e],!0);let t=[],i=-1;const n=ie(o.petArray.filter(r=>r.alive));for(const r of n){const c=r.attack+r.health;c>i?(i=c,t=[r]):c===i&&t.push(r)}return 0===t.length?{pet:null,random:!1}:{pet:t[Jt(0,t.length-1)],random:t.length>1}})(this,e)}pushPetToFront(e,t=!1){((o,e,t)=>{Jd(this,e,4,t,this.logService,this.abilityService)})(0,e,t)}pushPetToBack(e){((o,e)=>{Jd(this,e,-4,!1,this.logService,this.abilityService)})(0,e)}pushPet(e,t=1,i){Jd(this,e,t,i,this.logService,this.abilityService)}get opponent(){return Qi(this.gameService.gameApi,this)}resolveTrumpetGainTarget(e){return((o,e)=>e&&Zt(e)?{player:Math.random()<.5?o:o.opponent,random:!0}:{player:o,random:!1})(this,e)}gainTrumpets(e,t,i,n,s,r){((o,e,t,i,n,s,r,c)=>{o.trumpets=Math.min(50,o.trumpets+=e);let h=t instanceof C&&null!=t.parent&&t.parent!==o?`${t.name} gave opponent ${e} trumpets. (${o.trumpets})`:`${t.name} gained ${e} trumpets. (${o.trumpets})`;r&&(h+=" (Cherry)"),i.createLog({message:h,type:"trumpets",player:o,pteranodon:n,pantherMultiplier:s,randomEvent:c})})(this,e,t,this.logService,i,n,s,r)}spendTrumpets(e,t,i){((o,e,t,i,n)=>{o.trumpets=Math.max(0,o.trumpets-=e),i.createLog({message:`${t.name} spent ${e} trumpets. (${o.trumpets})`,type:"trumpets",player:o,pteranodon:n})})(this,e,t,this.logService,i)}checkGoldenSpawn(){var o,e,t,i;e=this.abilityService,t=this.logService,i=this.gameService,(o=this).spawnedGoldenRetiever||o.petArray.length>1||0===o.trumpets||(e.setgoldenRetrieverSummonsEvent({priority:0,callback:(n,s,r)=>{const c=new qm(t,e,o,o.trumpets,o.trumpets);t.createLog({message:`${o===s.player?"Player":"Opponent"} spawned Golden Retriever (${c.attack}/${c.health})`,type:"ability",player:o}),_o(o,c,0,!1,void 0,t,e,i),o.trumpets=0}}),o.spawnedGoldenRetiever=!0)}getManticoreMult(){return(o=>{const e=[];for(const t of o.petArray)if(t.hasTrigger(void 0,"Pet","ManticoreAbility"))for(const i of t.abilityList)"ManticoreAbility"===i.name&&e.push(i.level);return e})(this)}summonPetInFront(e,t){return((o,e,t,i,n,s)=>{if(5===o.petArray.length)return i.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:o}),{success:!1,randomEvent:!1};let r=!1;for(let h=0;h<e.position;h++)if(null==o.getPet(h)){r=!0;break}if(r)return _o(o,t,e.position-1,!1,e,i,n,s);const c=e.position,d=Math.min(c+1,4);return e.parent[`pet${c}`]=null,null!=o.getPet(d)&&Qd(o,d),o.setPet(d,e),_o(o,t,c,!1,e,i,n,s)})(this,e,t,this.logService,this.abilityService,this.gameService)}summonPetBehind(e,t){return((o,e,t,i,n,s)=>{if(5===o.petArray.length)return i.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:o}),{success:!1,randomEvent:!1};let r=!1;for(let c=0;c<e.position;c++)if(null==o.getPet(c)){r=!0;break}if(r){const c=e.position;e.parent[`pet${c}`]=null;const d=Math.max(c-1,0);return null!=o.getPet(d)&&Xd(o,d),o.setPet(d,e),_o(o,t,e.position+1,!1,e,i,n,s)}return _o(o,t,e.position+1,!1,e,i,n,s)})(this,e,t,this.logService,this.abilityService,this.gameService)}getPetsWithinXSpaces(e,t){return((o,e,t)=>{if(e&&Zt(e))return wt(o,2*t,!0,[e]);const i=e.savedPosition,n=[];for(const s of o.petArray)if(s.alive&&s!==e){const r=Math.abs(s.position-i);r>0&&r<=t&&n.push(s)}for(const s of o.opponent.petArray)s.alive&&i+s.position+1<=t&&n.push(s);return{pets:n,random:!1}})(this,e,t)}getOppositeEnemyPet(e){return((o,e)=>{if(e&&Zt(e))return Sr(o,[e],!0);const t=e.position;let i=Rc(o.opponent,t);if(i&&i.alive)return{pet:i,random:!1};for(let n=1;n<=4;n++){if(i=Rc(o.opponent,t+n),i&&i.alive)return{pet:i,random:!1};if(i=Rc(o.opponent,t-n),i&&i.alive)return{pet:i,random:!1}}return{pet:null,random:!1}})(this,e)}getRandomLivingPet(e){return Sr(this,e)}}const cS={Turtle:["Cake","Chili","Coconut","Garlic","Honey","Meat Bone","Melon","Mushroom","Peanut","Steak"],Puppy:["Blackberry","Croissant","Egg","Eucalyptus","Lemon","Lime","Mild Chili","Pancakes","Pie","Rice","Salt","Skewer","Squash","Walnut"],Star:["Baguette","Caramel","Carrot","Cheese","Cucumber","Grapes","Pepper","Popcorn","Seaweed","Strawberry"],Golden:["Banana","Bok Choy","Cherry","Chocolate Cake","Durian","Eggplant","Fig","Honeydew Melon","Maple Syrup","Onion","Pita Bread","Potato","Tomato"],Unicorn:["Ambrosia","Easter Egg","Faint Bread","Fairy Dust","Gingerbread Man","Golden Egg","Health Potion","Love Potion","Magic Beans","Rambutan","Yggdrasil Fruit"],Danger:["Cocoa Bean","Cod Roe","Gros Michel Banana","Sudduth Tomato","White Okra","White Truffle"],Custom:["Blueberry","Brussels Sprout","Cashew Nut","Cauliflower","Churros","Donut","Fortune Cookie","Guava","Kiwano","Kiwifruit","Macaron","Melon Slice","Nachos","Oyster Mushroom","Pineapple","Pumpkin","Radish","Sardinian Currant","Sausage","Unagi"],Hidden:["Cake Slice","Peanut Butter"]},Vm={Ailments:["Bloated","Cold","Confused","Crisp","Cursed","Dazed","Icky","Inked","Sad","Silly","Sleepy","Spooked","Tasty","Toasty","Weak","Webbed"]};function la(o,e){return t=>t.lift(new uS(o,e))}class uS{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new PT(e,this.compare,this.keySelector))}}class PT extends Us.v{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(n){return this.destination.error(n)}let i=!1;if(this.hasKey)try{const{compare:n}=this;i=n(this.key,t)}catch(n){return this.destination.error(n)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}function ca(o,e=O.b){return t=>t.lift(new kT(o,e))}class kT{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new dS(e,this.dueTime,this.scheduler))}}class dS extends Us.v{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(tR,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function tR(o){o.debouncedNext()}const ua=["Turtle","Puppy","Star","Golden","Unicorn","Danger","Custom"],Kc=ua.filter(o=>"Custom"!==o);var os=B(3276),al=B.t(os,2),To=B(7283),ol=B.t(To,2),sl=B(8935),Za=B.t(sl,2);const rh=o=>o.map(e=>e?.Name).filter(e=>!!e),_T={"Beluga Whale":"WhiteWhale","Great One":"Cthulu","Small One":"BabyCthulhu",Abomination:"Shoggoth",Visitor:"Xenomorph",Swordfish:"SwordFish",Doberman:"DobermanDog","Highland Cow":"HighlandCow","Sabertooth Tiger":"SaberToothTiger","Moby Dick":"MochaDick","Chimera Goat":"ChimeraGoat","Chimera Lion":"ChimeraLion","Chimera Snake":"ChimeraSnake","Fake Nessie":"FakeNessie","Tand and Tand":"ThorGoats"},Um={Corncob:"Corn","Cake Slice":"BirthdayCakeSlice","Peanut Butter":"PeanutButter","Mana Potion":"ManaPotion","Faint Bread":"DeadBread",Kiwifruit:"Kiwi",Eggplant:"EggPlant",Rice:"RiceBall",Donut:"Doughnut",Cherry:"Cherries","Melon Slice":"WaterMelon",Cold:"Frozen",Crisp:"Burn",Dazed:"Deaf",Icky:"Acid",Inked:"Ink",Spooked:"Scared",Sleepy:"Drowsy",Webbed:"Web",Cursed:"Curse",Silly:"Silly",Bloated:"Bloated"},wT=Object.fromEntries(Object.entries(Um).map(([o,e])=>[o.toLowerCase(),e])),ll=o=>o?o.replace(/[^a-zA-Z0-9]/g,""):"",ss=o=>{const e=new Map;for(const t of o)t?.Name&&t?.NameId&&e.set(t.Name,t.NameId);return e},ah=(o,e)=>{const t=[];if(Array.isArray(o))for(const i of o)i?.About&&t.push(null!=i.Level?`Lv${i.Level}: ${i.About}`:i.About);return e&&t.push(e),t.length?t.join("\n"):null},hS=ss(os??al??[]),pS=new Map,TT=os??al??[];for(const o of TT){if(!o?.Name)continue;const e=ah(o.Abilities,o.PerkNote);e&&pS.set(o.Name,e)}const CT=rh(os??al??[]),Wm=ss(To??ol??[]),Km=new Map,gS=To??ol??[];for(const o of gS){if(!o?.Name)continue;const e=ah(o.Abilities);e&&Km.set(o.Name,e)}const mS=rh(To??ol??[]),oh=ss(sl??Za??[]),zm=new Map(Array.from(oh.entries()).map(([o,e])=>[o.toLowerCase(),e])),fS=new Map(Array.from(oh.entries()).map(([o,e])=>[ll(o),e])),sh=new Map,ls=sl??Za??[];for(const o of ls)o?.Name&&o.Ability&&sh.set(o.Name,o.Ability);const yS=rh(sl??Za??[]);function zc(o){if(!o)return null;const e=hS.get(o);return e||(_T[o]||null)}function tr(o){const e=zc(o);return e?`assets/art/Public/Public/Pets/${e}.png`:null}function Xm(o){return o?pS.get(o)??null:null}function Yc(o){if(!o)return null;const t=Wm.get(o)??ll(o);return t?`assets/art/Public/Public/Toys/${t}.png`:null}function ET(o){return o?Km.get(o)??null:null}function ir(o,e=!1){const t=(o=>{if(!o)return null;const e=ll(o),t=oh.get(o)??zm.get(o.toLowerCase())??fS.get(e),i=Um[o]??wT[o.toLowerCase()];return(t??i??e)||null})(o);return t?e?`assets/art/Ailments/Ailments/${t}.png`:`assets/art/Public/Public/Food/${t}.png`:null}function AS(o){return o?sh.get(o)??null:null}const SS={Turtle:"Turtle",Golden:"Golden Retriever",Puppy:"Puppy",Star:"Starfish",Unicorn:"Unicorn",Danger:"Blue Whale",Custom:"White Tiger"};function Qm(o){return o&&"Add Custom Pack"!==o?tr(SS[o]||"White Tiger"):null}let iR=(()=>{class o{el;renderer;tooltipText=null;constructor(t,i){this.el=t,this.renderer=i}onShow(){const t=this.tooltipText?.trim();t?(this.renderer.setAttribute(this.el.nativeElement,"data-tooltip",t),this.renderer.addClass(this.el.nativeElement,"has-tooltip"),this.updatePosition(t)):this.renderer.removeAttribute(this.el.nativeElement,"data-tooltip")}onHide(){this.renderer.removeClass(this.el.nativeElement,"has-tooltip")}updatePosition(t){const i=this.el.nativeElement.getBoundingClientRect(),n=window.innerWidth,s=window.innerHeight,r=12,d=12,h=Math.min(170,n-24),v=Math.min(140,s-24),{width:E,height:q}=this.measureTooltip(t,h,v),K=i.left+i.width/2,le=this.clamp(K-E/2,r,n-E-r),ce=i.top,Ae=s-i.bottom,Ke=q+d+8;let Ye="top";const Re=n-i.right>=E+d+8;Re||i.left>=E+d+8?Ye=Re?"right":"left":ce<Ke&&Ae>=Ke?Ye="bottom":ce<Ke&&Ae<Ke&&(Ye=ce>=Ae?"top":"bottom");let Bt=i.top-q-d-8,_i=le,jt=this.clamp(K,20,n-r-8),Dt=i.top-d-8;"bottom"===Ye&&(Bt=i.bottom+d+8,Dt=i.bottom+d),"right"===Ye&&(_i=this.clamp(i.right+d+8,r,n-E-r),Bt=this.clamp(i.top+i.height/2-q/2,r,s-q-r),jt=i.right+d,Dt=this.clamp(i.top+i.height/2,20,s-r-8)),"left"===Ye&&(_i=this.clamp(i.left-E-d-8,r,n-E-r),Bt=this.clamp(i.top+i.height/2-q/2,r,s-q-r),jt=i.left-d-8,Dt=this.clamp(i.top+i.height/2,20,s-r-8)),this.renderer.setStyle(this.el.nativeElement,"--tooltip-left",`${_i}px`),this.renderer.setStyle(this.el.nativeElement,"--tooltip-top",`${Bt}px`),this.renderer.setStyle(this.el.nativeElement,"--tooltip-arrow-left",`${jt}px`),this.renderer.setStyle(this.el.nativeElement,"--tooltip-arrow-top",`${Dt}px`),this.renderer.setStyle(this.el.nativeElement,"--tooltip-max-width",`${h}px`),this.renderer.setStyle(this.el.nativeElement,"--tooltip-max-height",`${v}px`),this.renderer.setAttribute(this.el.nativeElement,"data-tooltip-placement",Ye)}measureTooltip(t,i,n){const s=document.createElement("div");s.textContent=t,s.style.position="fixed",s.style.visibility="hidden",s.style.pointerEvents="none",s.style.fontSize="0.72rem",s.style.lineHeight="1.2",s.style.padding="0.45rem 0.6rem",s.style.borderRadius="8px",s.style.maxWidth=`${i}px`,s.style.maxHeight=`${n}px`,s.style.whiteSpace="pre-wrap",s.style.overflow="hidden",s.style.display="-webkit-box",s.style.webkitBoxOrient="vertical",s.style.webkitLineClamp="6",s.style.boxSizing="border-box",s.style.width="max-content",document.body.appendChild(s);let r=s.getBoundingClientRect();return r.width>i&&(s.style.width=`${i}px`,r=s.getBoundingClientRect()),document.body.removeChild(s),{width:r.width,height:r.height}}clamp(t,i,n){return Math.min(Math.max(t,i),n)}static \u0275fac=function(i){return new(i||o)(g.rXU(g.aKT),g.rXU(g.sFG))};static \u0275dir=g.FsC({type:o,selectors:[["","appTooltip",""]],hostBindings:function(i,n){1&i&&g.bIt("mouseenter",function(){return n.onShow()})("focus",function(){return n.onShow()})("mouseleave",function(){return n.onHide()})("blur",function(){return n.onHide()})},inputs:{tooltipText:[0,"appTooltip","tooltipText"]}})}return o})();class Jm extends C{logService;abilityService;name="Mouse";tier=1;pack="Custom";health=2;attack=1;initAbilities(){this.addAbility(new cl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class cl extends _{logService;abilityService;constructor(e,t,i){super({name:"MouseAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} replaced shop food with one free ${1===this.level?"Apple":2===this.level?"Better Apple":"Best Apple"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new cl(e,this.logService,this.abilityService)}}class Xc extends C{logService;abilityService;name="Ant";tier=1;pack="Turtle";health=2;attack=2;initPet(e,t,i,n,s,r){this.addAbility(new ch(this,this.logService)),super.initPet(e,t,i,n,s,r)}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class ch extends _{logService;constructor(e,t){super({name:"AntAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner,c=this.level,d=r.parent.getRandomPet([r],!0,!1,!0,r);null!=d.pet&&(this.logService.createLog({message:`${r.name} gave ${d.pet.name} ${c} attack and ${c} health.`,type:"ability",randomEvent:d.random,player:r.parent,tiger:n,pteranodon:s}),d.pet.increaseAttack(c),d.pet.increaseHealth(c),this.triggerTigerExecution(e))}copy(e){return new ch(e,this.logService)}}class Zm extends C{logService;abilityService;name="Zombie Cricket";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new PS(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class PS extends _{logService;abilityService;constructor(e,t,i){super({name:"ZombieCricketAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new PS(e,this.logService,this.abilityService)}}class ef extends _{logService;abilityService;constructor(e,t,i){super({name:"CricketAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner,c=this.level;let h=new Zm(this.logService,this.abilityService,r.parent,null,null,null,this.minExpForLevel),v=r.parent.summonPet(h,r.savedPosition,!1,r);v.success&&this.logService.createLog({message:`${r.name} spawned Zombie Cricket Level ${c}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:v.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new ef(e,this.logService,this.abilityService)}}class kS extends C{logService;abilityService;name="Fish";tier=1;pack="Turtle";health=3;attack=2;initAbilities(){this.addAbility(new Qc(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Qc extends _{logService;constructor(e,t){super({name:"FishAbility",owner:e,triggers:["ThisLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if(this.level>=3)return;const i=this.level,n=t.parent.getRandomPets(2,[t],!1,!1,t);if(0!==n.pets.length){for(const s of n.pets)s.increaseAttack(i),s.increaseHealth(i);this.logService.createLog({message:`${t.name} gave ${n.pets.map(s=>s.name).join(", ")} ${i} attack and ${i} health.`,type:"ability",player:t.parent,randomEvent:n.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new Qc(e,this.logService)}}function cs(o){const e=o.position??o.savedPosition;if(null==e)return[];const t=[],i=o.parent.getPetAtPosition(e-1),n=o.parent.getPetAtPosition(e+1);return i&&i.alive&&t.push(i),n&&n.alive&&t.push(n),t}function ul(o,e){return!(o.equipment&&!o.equipment.equipmentClass?.startsWith("ailment")||o.equipment?.name===e)}function tn(o,e,t,i,n,s={}){o.createLog({message:t,type:"ability",player:e.parent,tiger:i,pteranodon:n,sourcePet:e,...s})}function dr(o,e,t){return e?t?t(o,e)??{random:!1}:o.parent.getSpecificPet(o,e):{random:!1}}class _S extends _{logService;constructor(e,t){super({name:"HorseAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner,c=dr(r,i);if(!c.pet)return;const d=c.pet;d.increaseAttack(this.level),tn(this.logService,r,`${r.name} gave ${d.name} ${this.level} attack`,n,s,{randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new _S(e,this.logService)}}class Jc extends _{logService;constructor(e,t){super({name:"MosquitoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,r);for(let d of c.pets)null!=d&&r.snipePet(d,1,c.random,n);this.triggerTigerExecution(e)}copy(e){return new Jc(e,this.logService)}}class Zc extends C{logService;abilityService;name="Duck";tier=1;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new tf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class tf extends _{logService;constructor(e,t){super({name:"DuckAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gave shop pets +${this.level} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new tf(e,this.logService)}}class TS extends C{logService;abilityService;name="Beaver";tier=1;pack="Turtle";health=2;attack=3;initAbilities(){this.addAbility(new nf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class nf extends _{logService;constructor(e,t){super({name:"BeaverAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,n=t.parent.getRandomPets(2,[t],!1,!1,t);if(0!==n.pets.length){for(const s of n.pets)s.increaseAttack(i);this.logService.createLog({message:`${t.name} gave ${n.pets.map(s=>s.name).join(", ")} ${i} attack.`,type:"ability",player:t.parent,randomEvent:n.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new nf(e,this.logService)}}class rf extends _{logService;constructor(e,t){super({name:"OtterAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,n=t.parent.getRandomPets(this.level,[t],!1,!1,t);if(0!==n.pets.length){for(const s of n.pets)s.increaseHealth(1);this.logService.createLog({message:`${t.name} gave ${n.pets.map(s=>s.name).join(", ")} +1 health.`,type:"ability",player:t.parent,randomEvent:n.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new rf(e,this.logService)}}class eo extends _{logService;constructor(e,t){super({name:"PigAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new eo(e,this.logService)}}class CS extends _{logService;constructor(e,t){super({name:"PigeonAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked ${this.level} free Bread Crumbs.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new CS(e,this.logService)}}class af extends _{logService;constructor(e,t){super({name:"SnailAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=e.gameApi;if(!(t.parent===i?.player?i?.playerLostLastBattle:i?.opponentLostLastBattle))return;const r=this.level,c=t.parent.nearestPetsAhead(3,t);if(0!==c.pets.length){for(const d of c.pets)d.increaseAttack(r);this.logService.createLog({message:`${t.name} gave ${c.pets.map(d=>d.name).join(", ")} +${r} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:c.random}),this.triggerTigerExecution(e)}}copy(e){return new af(e,this.logService)}}class hh extends _{logService;constructor(e,t){super({name:"CrabAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;if(!r.alive)return;let c=r.parent.getHighestHealthPet(r,r);if(null==c.pet)return;let d=Math.floor(c.pet.health*(.25*this.level)),h=r.parent.getThis(r);h.pet&&(h.pet.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${h.pet.name} ${.25*this.level*100}% of ${c.pet.name}'s health (${d})`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random})),this.triggerTigerExecution(e)}copy(e){return new hh(e,this.logService)}}class sf extends _{logService;constructor(e,t){super({name:"SwanAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new sf(e,this.logService)}}class xS extends C{logService;abilityService;name="Dirty Rat";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class lf extends _{logService;abilityService;constructor(e,t,i){super({name:"RatAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.opponent;for(let d=0;d<this.level;d++){let h=new xS(this.logService,this.abilityService,c,null,null,0,0),v=c.summonPet(h,0,!1,r);v.success&&this.logService.createLog({message:`${r.name} Summoned Dirty Rat on Opponent`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:v.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new lf(e,this.logService,this.abilityService)}}class ph extends _{logService;constructor(e,t){super({name:"HedgehogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getAll(!0,r),d=c.pets;if(0==d.length)return;let h=2*this.level;for(let v of d)r.snipePet(v,h,c.random,n,s);this.triggerTigerExecution(e)}copy(e){return new ph(e,this.logService)}}class gh extends _{logService;constructor(e,t){super({name:"PeacockAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=3*this.level,d=r.parent.getThis(r);d.pet&&(d.pet.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${d.pet.name} ${c} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random})),this.triggerTigerExecution(e)}copy(e){return new gh(e,this.logService)}}class hl extends _{logService;constructor(e,t){super({name:"FlamingoAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let d=r.parent.nearestPetsBehind(2,r).pets;if(0!=d.length){for(let h of d)h.increaseAttack(this.level),h.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${h.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s});this.triggerTigerExecution(e)}}copy(e){return new hl(e,this.logService)}}class DS extends _{logService;constructor(e,t){super({name:"WormAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked one 2-gold ${1===this.level?"Apple":2===this.level?"Better Apple":"Best Apple"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new DS(e,this.logService)}}class mh extends _{logService;constructor(e,t){super({name:"KangarooAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getThis(r);c.pet&&(c.pet.increaseAttack(this.level),c.pet.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${c.pet.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random})),this.triggerTigerExecution(e)}copy(e){return new mh(e,this.logService)}}class cf extends C{logService;abilityService;petService;name="Spider";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new uf(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class uf extends _{logService;abilityService;petService;constructor(e,t,i,n){super({name:"SpiderAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let c;c=r.parent==t.player?t.playerPetPool.get(3):t.opponentPetPool.get(3);let d=c.filter(ce=>"Spider"!=ce),h=d[Jt(0,d.length-1)],v=this.level,q=2*this.level,K=this.petService.createPet({attack:q,exp:this.minExpForLevel,equipment:null,health:q,name:h,mana:0},r.parent);r.parent.summonPet(K,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned ${K.name} level ${v} (${q}/${q})`,type:"ability",player:r.parent,randomEvent:!0,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new uf(e,this.logService,this.abilityService,this.petService)}}class tu extends _{logService;constructor(e,t){super({name:"DodoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsAhead(1,r);if(0===c.pets.length)return;let d=c.pets[0],h=Math.floor(r.attack*(.5*this.level));d.increaseAttack(h),this.logService.createLog({message:`${r.name} gave ${d.name} ${h} attack.`,player:r.parent,type:"ability",tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new tu(e,this.logService)}}class df extends _{logService;constructor(e,t){super({name:"BadgerAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=Math.floor(r.attack*(.5*this.level)),d=r.parent.nearestPetsBehind(1,r);d.pets.length>0&&r.snipePet(d.pets[0],c,d.random,n,s);let h=r.parent.nearestPetsAhead(1,r,void 0,!0);h.pets.length>0&&r.snipePet(h.pets[0],c,h.random,n,s),this.triggerTigerExecution(e)}copy(e){return new df(e,this.logService)}}class us extends C{logService;abilityService;name="Dolphin";tier=3;pack="Turtle";health=3;attack=4;hasRandomEvents=!0;initAbilities(){this.addAbility(new fh(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class fh extends _{logService;constructor(e,t){super({name:"DolphinAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent;for(let d=0;d<this.level;d++){let h=c.getLowestHealthPet(null,r);if(!h.pet)break;r.snipePet(h.pet,4,h.random,n)}this.triggerTigerExecution(e)}copy(e){return new fh(e,this.logService)}}class Co extends _{logService;constructor(e,t){super({name:"GiraffeAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,n=t.parent.nearestPetsAhead(this.level,t);if(0!==n.pets.length){for(const s of n.pets)s.increaseAttack(1),s.increaseHealth(1);this.logService.createLog({message:`${t.name} gave ${n.pets.map(s=>s.name).join(", ")} +1 attack and +1 health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}}copy(e){return new Co(e,this.logService)}}class ds extends _{logService;constructor(e,t){super({name:"ElephantAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;for(let c=0;c<this.level;c++){let d=r.parent.nearestPetsBehind(1,r);d.pets.length>0&&r.snipePet(d.pets[0],1,d.random,n)}this.triggerTigerExecution(e)}copy(e){return new ds(e,this.logService)}}class yh extends _{logService;constructor(e,t){super({name:"CamelAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsBehind(1,r);if(0===c.pets.length)return;let d=c.pets[0],h=2*this.level;d.increaseAttack(this.level),d.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${d.name} ${this.level} attack and ${h} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new yh(e,this.logService)}}class NS extends _{logService;constructor(e,t){super({name:"RabbitAbility",owner:e,triggers:["FoodEatenByFriendly"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=this.level,d=r.parent.getSpecificPet(r,i),h=d.pet;null!=h&&(h.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${h.name} ${c} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new NS(e,this.logService)}}class to extends De{name="Melon";tier=6;equipmentClass="shield";power=20;originalPower=20;uses=1;originalUses=1}class pf extends _{logService;constructor(e,t){super({name:"OxAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getThis(r),d=c.pet;if(null==d)return;d.increaseAttack(1),this.logService.createLog({message:`${r.name} gave ${d.name} +1 attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random});let h=r.parent.getThis(r),v=h.pet;null!=v&&(v.givePetEquipment(new to),this.logService.createLog({message:`${r.name} gave ${v.name} Melon.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}),this.triggerTigerExecution(e))}reset(){this.maxUses=this.level,super.reset()}copy(e){return new pf(e,this.logService)}}class nu extends _{logService;constructor(e,t){super({name:"DogAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;if(!i||i===r)return;let c=2*this.level,d=this.level,h=r.parent.getThis(r);h.pet&&(h.pet.increaseAttack(c),h.pet.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${h.pet.name} ${c} attack and ${d} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random})),this.triggerTigerExecution(e)}copy(e){return new nu(e,this.logService)}}class FS extends C{logService;abilityService;name="Ram";tier=1;pack="Turtle";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new OS(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class OS extends _{logService;abilityService;constructor(e,t,i){super({name:"RamAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new OS(e,this.logService,this.abilityService)}}class gf extends _{logService;abilityService;constructor(e,t,i){super({name:"SheepAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;for(let c=0;c<2;c++){let d=new FS(this.logService,this.abilityService,r.parent,null,null,0,this.minExpForLevel),h=r.parent.summonPet(d,r.savedPosition,!1,r);h.success&&this.logService.createLog({message:`${r.name} spawned Ram (${d.attack}/${d.health}).`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new gf(e,this.logService,this.abilityService)}}const BS=[1,2,3];class $S extends C{logService;abilityService;petService;name="Parrot";tier=4;pack="Turtle";attack=4;health=2;initAbilities(){this.addAbility(new GS(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class GS extends _{logService;petService;constructor(e,t,i){super({name:"ParrotAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:n,pteranodon:s}=e;let r=this.owner;const c=null!=r.parrotCopyPet&&""!==r.parrotCopyPet,d=c?r.parrotCopyPet:r.petAhead?.name??null,h=c?r.parrotCopyPetBelugaSwallowedPet:null,v=(le,ce)=>r[le]??ce;if(!d)return;const q="Abomination"===d&&c?(()=>{const le={};for(const ce of BS){const Ae=`parrotCopyPetAbominationSwallowedPet${ce}`;le[`abominationSwallowedPet${ce}`]=v(Ae,null),le[`abominationSwallowedPet${ce}BelugaSwallowedPet`]=v(`${Ae}BelugaSwallowedPet`,null),le[`abominationSwallowedPet${ce}Level`]=v(`${Ae}Level`,1),le[`abominationSwallowedPet${ce}TimesHurt`]=v(`${Ae}TimesHurt`,0),le[`abominationSwallowedPet${ce}ParrotCopyPet`]=v(`${Ae}ParrotCopyPet`,null),le[`abominationSwallowedPet${ce}ParrotCopyPetBelugaSwallowedPet`]=v(`${Ae}ParrotCopyPetBelugaSwallowedPet`,null);for(const Ce of BS){const Qe=`${Ae}ParrotCopyPetAbominationSwallowedPet${Ce}`;le[`abominationSwallowedPet${ce}ParrotCopyPetAbominationSwallowedPet${Ce}`]=v(Qe,null),le[`abominationSwallowedPet${ce}ParrotCopyPetAbominationSwallowedPet${Ce}BelugaSwallowedPet`]=v(`${Qe}BelugaSwallowedPet`,null),le[`abominationSwallowedPet${ce}ParrotCopyPetAbominationSwallowedPet${Ce}Level`]=v(`${Qe}Level`,1),le[`abominationSwallowedPet${ce}ParrotCopyPetAbominationSwallowedPet${Ce}TimesHurt`]=v(`${Qe}TimesHurt`,0)}}return le})():{};let K=this.petService.createPet({name:d,attack:null,health:null,mana:null,exp:r.exp??0,equipment:null,belugaSwallowedPet:"Beluga Whale"===d?h??null:void 0,...q},r.parent);if(null!=K){if("Abomination"===d&&Object.assign(r,q),"Beluga Whale"===d&&(r.belugaSwallowedPet=h??null),r.copyAbilities(K,"Pet",r.level),r.initAbilityUses(),"Abomination"===d){const le=r.abilityList.filter(ce=>"AbominationAbility"===ce.name);for(const ce of le)ce.execute(t,i,n,s)}this.logService.createLog({message:`${r.name} copied ${K.name}`,type:"ability",player:r.parent})}}copy(e){return new GS(e,this.logService,this.petService)}}class mf extends _{logService;constructor(e,t){super({name:"SkunkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let d=r.parent.opponent.getHighestHealthPet(void 0,r),h=d.pet;if(null==h)return;let v=.33*this.level,E=Math.max(1,Math.floor(h.health*(1-v)));h.health=E,this.logService.createLog({message:`${r.name} reduced ${h.name} health by ${100*v}% (${E})`,type:"ability",player:r.parent,randomEvent:d.random,tiger:n}),this.triggerTigerExecution(e)}copy(e){return new mf(e,this.logService)}}class ff extends _{logService;constructor(e,t){super({name:"HippoAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=3*this.level,d=r.parent.getThis(r),h=d.pet;null!=h&&(h.increaseAttack(c),h.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${h.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new ff(e,this.logService)}}class hs extends _{logService;constructor(e,t){super({name:"BisonAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;if(!t.parent.petArray.some(r=>r&&r!==t&&r.level>=3))return;const n=this.level,s=2*this.level;t.increaseAttack(n),t.increaseHealth(s),this.logService.createLog({message:`${t.name} gained +${n} attack and +${s} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new hs(e,this.logService)}}class pl extends _{logService;constructor(e,t){super({name:"BlowfishAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=3*this.level,d=r.parent.opponent.getRandomPet([],!1,!0,!1,r);d.pet&&r.snipePet(d.pet,c,d.random,n),this.triggerTigerExecution(e)}copy(e){return new pl(e,this.logService)}}class ps extends _{logService;constructor(e,t){super({name:"TurtleAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithEquipment("Melon"),d=r.parent.nearestPetsBehind(this.level,r,c);if(0!=d.pets.length){for(let h of d.pets)this.logService.createLog({message:`${r.name} gave ${h.name} Melon.`,type:"ability",tiger:n,player:r.parent,pteranodon:s,randomEvent:d.random}),h.givePetEquipment(new to);this.triggerTigerExecution(e)}}copy(e){return new ps(e,this.logService)}}class vf extends _{logService;constructor(e,t){super({name:"SquirrelAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} discounted all shop food by ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new vf(e,this.logService)}}class Sf extends De{logService;abilityService;name="Chili";equipmentClass="skewer";power=0;originalPower=0;attackCallback=(e,t)=>{let i=t.parent.getPetAtPosition(1);null!=i&&e.snipePet(i,5*(e.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",5)};constructor(e,t){super(),this.logService=e,this.abilityService=t}}class Eo extends C{logService;abilityService;name="Bus";tier=1;pack="Turtle";hidden=!0;health=3;attack=5;initAbilities(){this.addAbility(new au(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class au extends _{logService;abilityService;constructor(e,t,i){super({name:"BusAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new au(e,this.logService,this.abilityService)}}class Pf extends _{logService;abilityService;constructor(e,t,i){super({name:"DeerAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=new Eo(this.logService,this.abilityService,r.parent,null,null,null,this.minExpForLevel,new Sf(this.logService,this.abilityService)),d=r.parent.summonPet(c,r.savedPosition,!1,r);d.success&&this.logService.createLog({message:`${r.name} spawned Bus level ${this.level}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Pf(e,this.logService,this.abilityService)}}class Ah extends C{logService;abilityService;petService;name="Whale";tier=4;pack="Turtle";attack=3;health=7;initAbilities(){this.addAbility(new kf(this,this.logService,this.petService)),this.addAbility(new Sh(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class Sh extends _{logService;abilityService;constructor(e,t,i){super({name:"WhaleSummonAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,ignoreRepeats:!0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;for(;r.swallowedPets.length>0;){let c=r.swallowedPets.shift(),d=r.parent.summonPet(c,r.savedPosition,!1,r);d.success&&this.logService.createLog({message:`${r.name} summoned ${c.name} (level ${c.level}).`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Sh(e,this.logService,this.abilityService)}}class kf extends _{logService;petService;constructor(e,t,i){super({name:"WhaleSwallowAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsAhead(1,r);if(0===c.pets.length)return;let d=c.pets[0],h=this.petService.createPet({name:d.name,attack:d.attack,health:d.health,exp:r.exp,equipment:null,mana:0},r.parent);r.swallowedPets.push(h),d.health=0,this.logService.createLog({message:`${r.name} swallowed ${d.name}`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new kf(e,this.logService,this.petService)}}class _f extends _{logService;constructor(e,t){super({name:"ScorpionAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=new eh,d=r.parent.getThis(r),h=d.pet;null!=h&&(h.givePetEquipment(c),this.logService.createLog({message:`${r.name} gave ${h.name} the Peanut perk.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new _f(e,this.logService)}}class wf extends _{logService;constructor(e,t){super({name:"CrocodileAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;for(let c=0;c<this.level;c++){let d=r.parent.opponent.getLastPet(void 0,r),h=d.pet;h&&r.snipePet(h,8,d.random,n)}this.triggerTigerExecution(e)}copy(e){return new wf(e,this.logService)}}class Tf extends _{logService;constructor(e,t){super({name:"RhinoAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent.getFurthestUpPet(r),d=c.pet;if(null==d)return;let h=4*this.level;1==d.tier&&(h*=2),r.snipePet(d,h,c.random,n),this.triggerTigerExecution(e)}copy(e){return new Tf(e,this.logService)}}class su extends C{logService;abilityService;name="Monkey";tier=5;pack="Turtle";attack=1;health=2;initAbilities(){this.addAbility(new Ph(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Ph extends _{logService;constructor(e,t){super({name:"MonkeyAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.getFurthestUpPet(t),n=i.pet;if(!n)return void this.triggerTigerExecution(e);const s=2*this.level;n.increaseAttack(s),n.increaseHealth(s),this.logService.createLog({message:`${t.name} gave ${n.name} +${s} attack and +${s} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new Ph(e,this.logService)}}class kh extends _{logService;constructor(e,t){super({name:"ArmadilloAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getAll(!0,r),d=c.pets;if(0!=d.length){for(let h of d){if(!h.alive)continue;let v=8*this.level;h.increaseHealth(v),this.logService.createLog({message:`${r.name} increased health of ${h.name} by ${v}.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random})}this.triggerTigerExecution(e)}}copy(e){return new kh(e,this.logService)}}class _h extends _{logService;constructor(e,t){super({name:"CowAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} replaced shop food with two free ${1===this.level?"Milk":2===this.level?"Better Milk":"Best Milk"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _h(e,this.logService)}}class gl extends _{logService;constructor(e,t){super({name:"SealAbility",owner:e,triggers:["FoodEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;if(i!=r)return;let c=this.level,d=r.parent.getRandomPets(3,[r],!0,!1,r);for(let h of d.pets)null!=h&&(h.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${h.name} ${c} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}));this.triggerTigerExecution(e)}copy(e){return new gl(e,this.logService)}}class VS extends C{logService;abilityService;name="Chick";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new Ef(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Ef extends _{logService;abilityService;constructor(e,t,i){super({name:"ChickAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Ef(e,this.logService,this.abilityService)}}class xf extends _{logService;abilityService;constructor(e,t,i){super({name:"RoosterAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=Math.max(Math.floor(.5*r.attack),1);for(let d=0;d<this.level;d++){let h=new VS(this.logService,this.abilityService,r.parent,1,c,0,this.minExpForLevel),v=r.parent.summonPet(h,r.savedPosition,!1,r);v.success&&this.logService.createLog({message:`${r.name} spawned Chick (${c}).`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:v.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new xf(e,this.logService,this.abilityService)}}class Df extends _{logService;constructor(e,t){super({name:"SharkAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;if(!r.alive||i==r)return;let c={attack:2*this.level,health:2*this.level},d=r.parent.getThis(r),h=d.pet;null!=h&&(h.increaseAttack(c.attack),h.increaseHealth(c.health),this.logService.createLog({message:`${r.name} gave ${h.name} ${c.attack} attack and ${c.health} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new Df(e,this.logService)}}class If extends _{logService;constructor(e,t){super({name:"TurkeyAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner,c={attack:3*this.level,health:1*this.level},d=dr(r,i);if(!d.pet)return;const h=d.pet;h.increaseAttack(c.attack),h.increaseHealth(c.health),tn(this.logService,r,`${r.name} gave ${h.name} ${c.attack} attack and ${c.health} health.`,n,s,{randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new If(e,this.logService)}}class wh extends _{logService;constructor(e,t){super({name:"LeopardAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=Math.floor(.5*r.attack),d=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,r);for(let h of d.pets)null!=h&&r.snipePet(h,c,d.random,n);this.triggerTigerExecution(e)}copy(e){return new wh(e,this.logService)}}class gs extends _{logService;constructor(e,t){super({name:"BoarAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c={attack:4*this.level,health:2*this.level},d=r.parent.getThis(r),h=d.pet;null!=h&&(h.increaseAttack(c.attack),h.increaseHealth(c.health),this.logService.createLog({message:`${r.name} gave ${h.name} ${c.attack} attack and ${c.health} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new gs(e,this.logService)}}class WS extends _{logService;abilityService;constructor(e,t,i){super({name:"TigerAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){}copy(e){return new WS(e,this.logService,this.abilityService)}}class Ch extends _{logService;abilityService;constructor(e,t,i){super({name:"WolverineAbility",owner:e,triggers:["FriendHurt4"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent.getAll(!1,r),d=c.pets;if(0!=d.length){for(let h of d){let v=-3*this.level;h.increaseHealth(v),this.logService.createLog({message:`${r.name} reduced ${h.name} health by ${Math.abs(v)}`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random})}this.triggerTigerExecution(e)}}copy(e){return new Ch(e,this.logService,this.abilityService)}}class Qr extends De{name="Coconut";tier=7;equipmentClass="shield";power=999;originalPower=999;uses=1;originalUses=1}class Eh extends _{logService;constructor(e,t){super({name:"GorillaAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>this.owner.alive,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let d=r.parent.getThis(r).pet;null!=d&&(d.givePetEquipment(new Qr),this.logService.createLog({message:`${r.name} gave ${d.name} a Coconut.`,type:"ability",player:r.parent,tiger:n}),this.triggerTigerExecution(e))}reset(){this.maxUses=this.level,super.reset()}copy(e){const t=new Eh(e,this.logService);return t.maxUses=e.level,t}}class KS extends _{logService;abilityService;constructor(e,t,i){super({name:"DragonAbility",owner:e,triggers:["Tier1FriendBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:4,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level,n=t.parent.petArray.filter(s=>s&&s.alive);if(0!==n.length){for(const s of n)s.increaseAttack(i),s.increaseHealth(i);this.logService.createLog({message:`${t.name} gave friends +${i} attack and +${i} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}}copy(e){return new KS(e,this.logService,this.abilityService)}}class xh extends _{logService;constructor(e,t){super({name:"MammothAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=2*this.level,d=r.parent.getAll(!1,r),h=d.pets;if(0!=h.length){for(let v of h)v.increaseAttack(c),v.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${v.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.random});this.triggerTigerExecution(e)}}copy(e){return new xh(e,this.logService)}}class YS extends _{logService;usesThisTurn=0;constructor(e,t){super({name:"CatAbility",owner:e,triggers:["FoodEatenByFriendly","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,{trigger:i,triggerPet:n}=e;if("StartTurn"===i)return void(this.usesThisTurn=0);if(this.usesThisTurn>=2)return;this.usesThisTurn++;const s=this.level+1;this.logService.createLog({message:`${t.name} boosted ${n?.name??"a friend"}'s shop food by ${s}x.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new YS(e,this.logService)}}class Rf extends _{logService;constructor(e,t){super({name:"SnakeAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=5*this.level,d=r.parent.opponent.getRandomPet([],!1,!0,!1,r);d.pet&&(r.snipePet(d.pet,c,d.random,n),this.triggerTigerExecution(e))}copy(e){return new Rf(e,this.logService)}}class QS extends C{logService;abilityService;name="Zombie Fly";tier=1;pack="Turtle";hidden=!0;health=4;attack=4;initAbilities(){this.addAbility(new JS(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class JS extends _{logService;abilityService;constructor(e,t,i){super({name:"ZombieFlyAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new JS(e,this.logService,this.abilityService)}}class Lf extends _{logService;abilityService;constructor(e,t,i){super({name:"FlyAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,condition:n=>{const{triggerPet:s}=n;return!(s&&s instanceof QS||this.owner.parent.petArray.length>=5)},abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=new QS(this.logService,this.abilityService,r.parent,null,null,null,this.minExpForLevel),d=r.parent.summonPet(c,i.savedPosition,!0,r);d.success&&this.logService.createLog({message:`${r.name} spawned Zombie Fly Level ${this.level}`,type:"ability",player:r.parent,tiger:n,randomEvent:d.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Lf(e,this.logService,this.abilityService)}}const cR={Ant:Xc,Cricket:class DT extends C{logService;abilityService;name="Cricket";tier=1;pack="Turtle";health=3;attack=1;initAbilities(){this.addAbility(new ef(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Fish:kS,Horse:class uh extends C{logService;abilityService;name="Horse";tier=1;pack="Turtle";health=1;attack=2;initAbilities(){this.addAbility(new _S(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Mosquito:class wS extends C{logService;abilityService;name="Mosquito";tier=1;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new Jc(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Duck:Zc,Beaver:TS,Otter:class dh extends C{logService;abilityService;name="Otter";tier=1;pack="Turtle";health=4;attack=1;initAbilities(){this.addAbility(new rf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Pig:class dl extends C{logService;abilityService;name="Pig";tier=1;pack="Turtle";health=1;attack=4;initAbilities(){this.addAbility(new eo(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Pigeon:class nR extends C{logService;abilityService;name="Pigeon";tier=1;pack="Turtle";attack=3;health=1;initAbilities(){this.addAbility(new CS(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Snail:class eu extends C{logService;abilityService;name="Snail";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new af(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Crab:class ES extends C{logService;abilityService;name="Crab";tier=2;pack="Turtle";health=1;attack=4;initAbilities(){this.addAbility(new hh(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Swan:class MT extends C{logService;abilityService;name="Swan";tier=2;pack="Turtle";health=2;attack=1;initAbilities(){this.addAbility(new sf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Rat:class IT extends C{logService;abilityService;name="Rat";tier=2;pack="Turtle";health=6;attack=3;initAbilities(){this.addAbility(new lf(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Hedgehog:class RT extends C{logService;abilityService;name="Hedgehog";tier=2;pack="Turtle";attack=4;health=2;initAbilities(){this.addAbility(new ph(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Peacock:class rR extends C{logService;abilityService;name="Peacock";tier=2;pack="Turtle";health=5;attack=2;initAbilities(){this.addAbility(new gh(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Flamingo:class LT extends C{logService;abilityService;name="Flamingo";tier=2;pack="Turtle";health=2;attack=3;initAbilities(){this.addAbility(new hl(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Worm:class NT extends C{logService;abilityService;name="Worm";tier=2;pack="Turtle";health=4;attack=1;initAbilities(){this.addAbility(new DS(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Kangaroo:class MS extends C{logService;abilityService;name="Kangaroo";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new mh(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Spider:cf,Dodo:class IS extends C{logService;abilityService;name="Dodo";tier=3;pack="Turtle";health=2;attack=4;initAbilities(){this.addAbility(new tu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Badger:class RS extends C{logService;abilityService;name="Badger";tier=3;pack="Turtle";health=3;attack=6;initAbilities(){this.addAbility(new df(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Dolphin:us,Giraffe:class LS extends C{logService;abilityService;name="Giraffe";tier=3;pack="Turtle";attack=1;health=2;initAbilities(){this.addAbility(new Co(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Elephant:class hf extends C{logService;abilityService;name="Elephant";tier=3;pack="Turtle";health=7;attack=3;initAbilities(){this.addAbility(new ds(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Camel:class FT extends C{logService;abilityService;name="Camel";tier=3;pack="Turtle";health=3;attack=3;initAbilities(){this.addAbility(new yh(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Rabbit:class bh extends C{logService;abilityService;name="Rabbit";tier=3;pack="Turtle";health=2;attack=1;initAbilities(){this.addAbility(new NS(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Ox:class iu extends C{logService;abilityService;name="Ox";tier=3;pack="Turtle";health=3;attack=1;initAbilities(){this.addAbility(new pf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Dog:class vh extends C{logService;abilityService;name="Dog";tier=3;pack="Turtle";attack=3;health=2;initAbilities(){this.addAbility(new nu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Sheep:class aR extends C{logService;abilityService;name="Sheep";tier=3;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new gf(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Parrot:$S,Skunk:class oR extends C{logService;abilityService;name="Skunk";tier=4;pack="Turtle";attack=3;health=5;initAbilities(){this.addAbility(new mf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Hippo:class OT extends C{logService;abilityService;name="Hippo";tier=4;pack="Turtle";attack=4;health=6;initAbilities(){this.addAbility(new ff(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Bison:class yf extends C{logService;abilityService;name="Bison";tier=4;pack="Turtle";attack=4;health=4;initAbilities(){this.addAbility(new hs(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Blowfish:class bf extends C{logService;abilityService;name="Blowfish";tier=4;pack="Turtle";attack=3;health=6;initAbilities(){this.addAbility(new pl(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Turtle:class HS extends C{logService;abilityService;name="Turtle";tier=4;pack="Turtle";attack=2;health=5;initAbilities(){this.addAbility(new ps(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Squirrel:class qS extends C{logService;abilityService;name="Squirrel";tier=4;pack="Turtle";attack=3;health=5;initAbilities(){this.addAbility(new vf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Penguin:class ru extends C{logService;abilityService;name="Penguin";tier=4;pack="Turtle";attack=2;health=4;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Deer:class BT extends C{logService;abilityService;name="Deer";tier=4;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new Pf(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Whale:Ah,Scorpion:class $T extends C{logService;abilityService;name="Scorpion";tier=5;pack="Turtle";attack=1;health=1;initAbilities(){this.addAbility(new _f(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Crocodile:class ou extends C{logService;abilityService;name="Crocodile";tier=5;pack="Turtle";attack=8;health=4;initAbilities(){this.addAbility(new wf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Rhino:class GT extends C{logService;abilityService;name="Rhino";tier=5;pack="Turtle";attack=6;health=7;initAbilities(){this.addAbility(new Tf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Monkey:su,Armadillo:class jS extends C{logService;abilityService;name="Armadillo";tier=5;pack="Turtle";attack=4;health=8;initAbilities(){this.addAbility(new kh(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Cow:class HT extends C{logService;abilityService;name="Cow";tier=5;pack="Turtle";attack=4;health=6;initAbilities(){this.addAbility(new _h(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Seal:class Cf extends C{logService;abilityService;name="Seal";tier=5;pack="Turtle";attack=3;health=8;initAbilities(){this.addAbility(new gl(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Rooster:class qT extends C{logService;abilityService;name="Rooster";tier=5;pack="Turtle";attack=6;health=4;initAbilities(){this.addAbility(new xf(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Shark:class jT extends C{logService;abilityService;name="Shark";tier=5;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new Df(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Turkey:class Mf extends C{logService;abilityService;name="Turkey";tier=5;pack="Turtle";attack=3;health=4;initAbilities(){this.addAbility(new If(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Leopard:class US extends C{logService;abilityService;name="Leopard";tier=6;pack="Turtle";attack=10;health=4;initAbilities(){this.addAbility(new wh(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Boar:class VT extends C{logService;abilityService;name="Boar";tier=6;pack="Turtle";attack=10;health=6;initAbilities(){this.addAbility(new gs(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Tiger:class Th extends C{logService;abilityService;name="Tiger";tier=6;pack="Turtle";attack=6;health=4;initAbilities(){this.addAbility(new WS(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Wolverine:class UT extends C{logService;abilityService;name="Wolverine";tier=6;pack="Turtle";attack=5;health=7;initAbilities(){this.addAbility(new Ch(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Gorilla:class WT extends C{logService;abilityService;name="Gorilla";tier=6;pack="Turtle";attack=7;health=10;initAbilities(){this.addAbility(new Eh(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Dragon:class sR extends C{logService;abilityService;name="Dragon";tier=6;pack="Turtle";attack=3;health=8;initAbilities(){this.addAbility(new KS(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Mammoth:class KT extends C{logService;abilityService;name="Mammoth";tier=6;pack="Turtle";attack=4;health=12;initAbilities(){this.addAbility(new xh(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Cat:class zS extends C{logService;abilityService;name="Cat";tier=6;pack="Turtle";attack=4;health=5;initAbilities(){this.addAbility(new YS(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Snake:class XS extends C{logService;abilityService;name="Snake";tier=6;pack="Turtle";attack=6;health=6;initAbilities(){this.addAbility(new Rf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Fly:class lR extends C{logService;abilityService;name="Fly";tier=6;pack="Turtle";attack=5;health=5;initAbilities(){this.addAbility(new Lf(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}};class Ff extends _{logService;constructor(e,t){super({name:"MothAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getFurthestUpPet(r),d=c.pet;if(null==d)return;let h=2*this.level;d.increaseAttack(h),this.logService.createLog({message:`${r.name} gave ${d.name} ${h} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new Ff(e,this.logService)}}class Of extends _{logService;abilityService;constructor(e,t,i){super({name:"BluebirdAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.getRandomPet([t]),n=i.pet;if(!n)return;const s=this.level;n.increaseAttack(s),this.logService.createLog({message:`${t.name} gave ${n.name} +${s} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new Of(e,this.logService,this.abilityService)}}class xo extends C{logService;abilityService;name="Loyal Chinchilla";tier=1;pack="Puppy";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new ms(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class ms extends _{logService;abilityService;constructor(e,t,i){super({name:"LoyalChinchillaAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new ms(e,this.logService,this.abilityService)}}class lu extends _{logService;abilityService;constructor(e,t,i){super({name:"ChinchillaAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level,s=2*i,r=new xo(this.logService,this.abilityService,t.parent,s,s,null,this.minExpForLevel),c=t.parent.summonPet(r,t.savedPosition,!1,t);c.success&&this.logService.createLog({message:`${t.name} summoned a ${s}/${s} Loyal Chinchilla (level ${i}).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:c.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new lu(e,this.logService,this.abilityService)}}class ml extends De{name="Walnut";tier=1;equipmentClass="shield";power=2;originalPower=2;uses=1;originalUses=1}class Dh extends _{logService;abilityService;constructor(e,t,i){super({name:"BeetleAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c;switch(this.level){case 1:c=new ml;break;case 2:c=new ml,c.power=4,c.originalPower=4;break;case 3:c=new ml,c.power=6,c.originalPower=6}let d=r.parent.getPetsWithEquipment(c.name),h=r.parent.nearestPetsBehind(1,r,d);if(0===h.pets.length)return;let v=h.pets[0];this.logService.createLog({message:`${r.name} gave ${v.name} ${c.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}),v.givePetEquipment(c),this.triggerTigerExecution(e)}copy(e){return new Dh(e,this.logService,this.abilityService)}}class ZS extends _{logService;constructor(e,t){super({name:"LadybugAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=2*this.level,d=r.parent.getThis(r);d.pet&&(d.pet.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${d.pet.name} ${c} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random})),this.triggerTigerExecution(e)}copy(e){return new ZS(e,this.logService)}}class $f extends _{logService;abilityService;constructor(e,t,i){super({name:"ChipmunkAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.equipment,n=this.level;if(!i)return this.logService.createLog({message:`${t.name} had no food perk to stock.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e);this.logService.createLog({message:`${t.name} stocked ${n} free ${i.name}${1===n?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new $f(e,this.logService,this.abilityService)}}class yl extends _{logService;constructor(e,t){super({name:"GeckoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null!=this.owner.parent.toy,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=2*this.level,h=r.parent.getThis(r).pet;null!=h&&(h.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${h.name} ${c} health.`,type:"ability",player:r.parent,tiger:n}),this.triggerTigerExecution(e))}copy(e){return new yl(e,this.logService)}}let Nt=(()=>{class o{static injector;static setInjector(t){o.injector||(o.injector=t)}static getInjector(){return o.injector}static \u0275fac=function(i){return new(i||o)};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),nr=(()=>{class o{logs=[];petNameRegex;toyNameRegex;equipmentNameRegex;ailmentNames;enabled=!0;deferDecorations=!1;constructor(){this.petNameRegex=this.buildNameRegex(function bS(){return[...CT]}()),this.toyNameRegex=this.buildNameRegex(function vS(){return[...mS]}()),this.equipmentNameRegex=this.buildNameRegex(function xT(){return[...yS]}()),this.ailmentNames=new Set(Object.values(Vm).flat().filter(Boolean))}setEnabled(t){this.enabled=!!t,this.enabled||(this.logs=[])}isEnabled(){return this.enabled}setDeferDecorations(t){this.deferDecorations=!!t}isDeferDecorations(){return this.deferDecorations}decorateLogIfNeeded(t){if(!t||t.decorated||!t.rawMessage)return;const i=this.decorateMessageWithNames(t.rawMessage,t.sourcePet,t.targetPet,t.sourceIndex,t.targetIndex);t.message=this.decorateInlineIcons(i),t.decorated=!0}createLog(t){if(!this.enabled)return;if(t.message?.startsWith("Phase ")&&(t.bold=!0),!t.sourcePet&&t.player&&t.message){const E=t.player.petArray.filter(q=>q&&t.message.startsWith(q.name));1===E.length&&(t.sourcePet=E[0])}"attack"===t.type&&t.player&&t.message&&this.resolveAttackPetsFromMessage(t),t.player&&t.message&&this.resolveSourceTargetFromMessage(t),t.sourcePet&&null==t.sourceIndex&&(t.sourceIndex=this.getFrontIndex(t.sourcePet)??void 0),t.targetPet&&null==t.targetIndex&&(t.targetIndex=this.getFrontIndex(t.targetPet)??void 0);let i=t.message??"";this.deferDecorations||(i=this.decorateMessageWithNames(i,t.sourcePet,t.targetPet,t.sourceIndex,t.targetIndex)),t.tiger&&(i+=" (Tiger)"),t.puma&&(i+=" (Puma)"),t.pteranodon&&(i+=" (Pteranodon)"),null!=t.pantherMultiplier&&t.pantherMultiplier>1&&(i+=` x${t.pantherMultiplier} (Panther)`),i&&(this.deferDecorations?(t.rawMessage=i,t.message=i,t.decorated=!1):(t.message=this.decorateInlineIcons(i),t.decorated=!0));const n=this.logs[this.logs.length-1];if(this.tryMergeAttackHealthLogs(n,t))return;const s=n?.player===t.player,r=n?.message?.trim()===t.message?.trim();n&&r&&s&&n?.randomEvent===t.randomEvent&&(null==t.sourcePet&&null==t.targetPet&&null==t.sourceIndex&&null==t.targetIndex||n?.sourcePet===t.sourcePet&&n?.sourceIndex===t.sourceIndex&&n?.targetPet===t.targetPet&&n?.targetIndex===t.targetIndex)?n.count=(n.count??1)+1:this.logs.push(t)}getLogs(){return this.logs}reset(){this.logs=[]}getFrontIndex(t){const i=t?.parent;return i?i.pet0===t?1:i.pet1===t?2:i.pet2===t?3:i.pet3===t?4:i.pet4===t?5:null:null}decorateMessage(t,i){const n=this.getFrontIndex(i);return null==n?t:this.replaceFirst(t,i.name,`${i.parent?.isOpponent?"O":"P"}${n} ${i.name}`)}decorateAttackMessage(t,i,n,s,r){const c=s??this.getFrontIndex(i),d=r??this.getFrontIndex(n);if(null==c||null==d)return t;const E=`${i.parent?.isOpponent?"O":"P"}${c} ${i.name}`,q=`${n.parent?.isOpponent?"O":"P"}${d} ${n.name}`,K="___SOURCE_HOLDER___",le="___TARGET_HOLDER___";let ce=this.replaceFirst(t,i.name,K);return ce=this.replaceFirst(ce,n.name,le),ce=ce.replace(K,E),ce=ce.replace(le,q),ce}decorateMessageWithNames(t,i,n,s,r){return t?i&&n?this.decorateAttackMessage(t,i,n,s,r):i?null!=s?this.replaceFirst(t,i.name,`${i.parent?.isOpponent?"O":"P"}${s} ${i.name}`):this.decorateMessage(t,i):t:t}replaceFirst(t,i,n){const s=t.indexOf(i);return-1===s?t:t.slice(0,s)+n+t.slice(s+i.length)}decorateInlineIcons(t){if(!t||t.includes("<img"))return t;let i=this.replaceMatchesWithIcons(t,this.petNameRegex,r=>tr(r));return i=this.replaceMatchesWithIcons(i,this.toyNameRegex,r=>Yc(r)),i=this.replaceMatchesWithIcons(i,this.equipmentNameRegex,r=>{const c=this.isAilmentName(r);return ir(r,c)??ir(r,!c)},r=>{const c=this.isAilmentName(r),d=ir(r,c);if(!d)return null;const h=ir(r,!c);return`<img src="${d}" class="log-inline-icon" alt="${r}" onerror="if(!this.dataset.step){${h?`this.dataset.step='1';this.src='${h}';`:"this.dataset.step='1';"}return;}this.remove();"> ${r}`}),i=this.replaceMatchesWithIconsOutsideTags(i,/(?<![A-Za-z0-9])mana(?![A-Za-z0-9])(?!\s+Potion)/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/mana.png"),i}resolveAttackPetsFromMessage(t){if(!t?.message||!t.player||t.sourcePet&&t.targetPet)return;const i=t.message,n=/^(.+?)\s+sniped\s+(.+?)\s+for\s+/i.exec(i),s=/^(.+?)\s+(?:jump-)?attacks?\s+(.+?)\s+for\s+/i.exec(i),r=n??s;if(!r)return;const c=r[1].trim(),d=r[2].trim(),h=t.player.petArray??[],v=t.player.opponent?.petArray??[];t.sourcePet||(t.sourcePet=h.find(E=>E?.name===c)??null),t.targetPet||(t.targetPet=v.find(E=>E?.name===d)??h.find(E=>E?.name===d)??null)}isAilmentName(t){return this.ailmentNames.has(t)}replaceMatchesWithIcons(t,i,n,s){return i?t.replace(i,r=>{const c=n(r);if(s){const d=s(r,c);if(d)return d}return c?`<img src="${c}" class="log-inline-icon" alt="${r}" onerror="this.remove()"> ${r}`:r}):t}resolveSourceTargetFromMessage(t){if(t.sourcePet&&t.targetPet)return;const i=t.message;if(!i)return;const n=this.extractPetNames(i);if(n.length<2)return;const s=t.player?.petArray??[],r=t.player?.opponent?.petArray??[],c=(d,h,v)=>d.find(E=>E?.name===h&&E!==v)??null;t.sourcePet||(t.sourcePet=c(s,n[0])??c(r,n[0])),t.targetPet||(t.targetPet=n[1]===n[0]?t.sourcePet&&i.startsWith(t.sourcePet.name)&&t.sourcePet?t.sourcePet:c(s,n[1],t.sourcePet)??c(r,n[1],t.sourcePet)??t.sourcePet??null:c(r,n[1])??c(s,n[1]))}extractPetNames(t){return this.petNameRegex&&t?t.match(this.petNameRegex)??[]:[]}tryMergeAttackHealthLogs(t,i){if(!t||!i||t.player!==i.player||t.type!==i.type||t.randomEvent!==i.randomEvent||t.sourcePet!==i.sourcePet||t.sourceIndex!==i.sourceIndex||t.targetPet!==i.targetPet||t.targetIndex!==i.targetIndex||t.tiger!==i.tiger||t.puma!==i.puma||t.pteranodon!==i.pteranodon)return!1;if((t.pantherMultiplier??null)!==(i.pantherMultiplier??null))return!1;const r=this.stripTags(t.rawMessage??t.message??""),c=this.stripTags(i.rawMessage??i.message??"");if(!r||!c||r.includes(" attack and ")||r.includes(" health and ")||c.includes(" attack and ")||c.includes(" health and "))return!1;const d=this.combineAttackHealthLogs(r,c)??this.combineAttackHealthLogs(c,r);if(!d)return!1;if(this.deferDecorations)t.rawMessage=d,t.message=d,t.decorated=!1;else{const h=this.decorateMessageWithNames(d,t.sourcePet,t.targetPet,t.sourceIndex,t.targetIndex);t.message=this.decorateInlineIcons(h),t.decorated=!0}return!0}combineAttackHealthLogs(t,i){const n=this.parseStatLog(t,"lost","attack"),s=this.parseStatLog(i,"lost","health");if(n&&s&&n.prefix===s.prefix&&n.suffix===s.suffix)return`${n.prefix}${n.value} attack and ${s.value} health${n.suffix}`;const r=this.parseStatLog(t,"gave","attack"),c=this.parseStatLog(i,"gave","health");return r&&c&&r.prefix===c.prefix&&r.suffix===c.suffix?`${r.prefix}${r.plus}${r.value} attack and ${c.plus}${c.value} health${r.suffix}`:null}parseStatLog(t,i,n){if("lost"===i){const c=new RegExp(`^(.*\\\\blost\\\\s+)(\\\\d+)\\\\s+${n}\\\\b(.*)$`,"i"),d=t.match(c);return d?{prefix:d[1],plus:"",value:d[2],suffix:d[3]}:null}const s=new RegExp(`^(.*\\\\b(?:gave|give|gives)\\\\b.*?\\\\s+)(\\\\+?)(\\\\d+)\\\\s+${n}\\\\b(.*)$`,"i"),r=t.match(s);return r?{prefix:r[1],plus:r[2]??"",value:r[3],suffix:r[4]}:null}stripTags(t){return t.replace(/<[^>]+>/g,"").trim()}replaceMatchesWithIconsOutsideTags(t,i,n){return t.split(/(<[^>]+>)/g).map(s=>s.startsWith("<")?s:this.replaceMatchesWithIcons(s,i,n)).join("")}buildNameRegex(t){const i=t.filter(n=>!!n).sort((n,s)=>s.length-n.length).map(n=>this.escapeRegExp(n));return i.length?new RegExp(`(?<![A-Za-z0-9])(${i.join("|")})(?![A-Za-z0-9])`,"g"):null}escapeRegExp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}printState(t,i,n){if(!this.enabled)return;n&&this.createLog({message:n,type:"board"});let s="";s+=this.getPetText(t.pet4),s+=this.getPetText(t.pet3),s+=this.getPetText(t.pet2),s+=this.getPetText(t.pet1),s+=this.getPetText(t.pet0);let r="";r+=this.getPetText(i.pet0),r+=this.getPetText(i.pet1),r+=this.getPetText(i.pet2),r+=this.getPetText(i.pet3),r+=this.getPetText(i.pet4),this.createLog({message:`${s}| ${r}`,type:"board"})}getPetText(t){if(null==t)return"___ (-/-) ";const i=this.getFrontIndex(t),n=null!=i?`${t.parent?.isOpponent?"O":"P"}${i} `:"",s=tr(t.name),r=s?`<img src="${s}" class="log-pet-icon" alt="${t.name}">`:"",c="string"==typeof t.equipment?.name?t.equipment.name:null;return`${n}${r}${c?(()=>{const h=this.isAilmentName(c),v=ir(c,h)??ir(c,!h);if(!v)return"";const E=ir(c,!h);return`<img src="${v}" class="log-inline-icon" alt="${c}" onerror="if(!this.dataset.step){${E?`this.dataset.step='1';this.src='${E}';`:"this.dataset.step='1';"}return;}this.remove()">`})():""}(${t.attack}/${t.health}) `}static \u0275fac=function(i){return new(i||o)};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Fr=(()=>{class o{gameApi;constructor(){}init(t,i){this.gameApi={player:t,opponent:i}}setTierGroupPets(t,i){null!=t&&(this.gameApi.playerPetPool=t),null!=i&&(this.gameApi.opponentPetPool=i)}setPreviousShopTier(t){this.gameApi.previousShopTier=t}setTurnNumber(t){this.gameApi.turnNumber=t}setGoldSpent(t,i){null!=t&&(this.gameApi.playerGoldSpent=t),null!=i&&(this.gameApi.opponentGoldSpent=i)}static \u0275fac=function(i){return new(i||o)};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),cu=(()=>{class o{gameService;logService;emptyFrontSpaceToyEvents=[];friendSummonedToyEvents=[];friendlyLevelUpToyEvents=[];friendFaintsToyEvents=[];friendJumpedToyEvents=[];constructor(t,i){this.gameService=t,this.logService=i}enqueueToyEvents(t,i,n,s){this.addToyEvent(t,{callback:s,priority:100,level:i.toy.level,triggerPet:n,player:i});const r=i.petArray.filter(c=>"Puma"===c.name);for(const c of r)this.addToyEvent(t,{callback:s,priority:+c.attack,level:c.level,triggerPet:n,player:i})}addToyEvent(t,i){t.push(i)}executeToyEventQueue(t,i,n,s){const r=ie(t);r.sort((c,d)=>c.priority>d.priority?-1:c.priority<d.priority?1:0);for(const c of r)n&&(null==s||s(c))&&this.logToyEvent(c,n),i(c);t.length=0}logToyEvent(t,i){const n=t.player?.toy?.name;n&&this.logService.createLog({message:`${n} ${i}${t.triggerPet?.name?` (${t.triggerPet.name})`:""}`,type:"ability",player:t.player,randomEvent:!0})}triggerEmptyFrontSpaceToyEvents(t){if(null!=t.toy?.emptyFromSpace){if(t.toy.used)return;this.enqueueToyEvents(this.emptyFrontSpaceToyEvents,t,void 0,t.toy.emptyFromSpace.bind(t.toy))}}executeEmptyFrontSpaceToyEvents(){this.executeToyEventQueue(this.emptyFrontSpaceToyEvents,t=>{t.callback(this.gameService.gameApi,t.priority<100,t.level,t.priority)},"triggered after empty front space")}triggerFriendSummonedToyEvents(t,i){null!=t.toy?.friendSummoned&&this.enqueueToyEvents(this.friendSummonedToyEvents,t,i,t.toy.friendSummoned.bind(t.toy))}executeFriendSummonedToyEvents(){this.executeToyEventQueue(this.friendSummonedToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friend summoned")}triggerFriendlyLevelUpToyEvents(t,i){t==i.parent&&null!=t.toy?.friendlyLevelUp&&this.enqueueToyEvents(this.friendlyLevelUpToyEvents,t,i,t.toy.friendlyLevelUp.bind(t.toy))}executeFriendlyLevelUpToyEvents(){this.executeToyEventQueue(this.friendlyLevelUpToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friendly level up")}triggerFriendFaintsToyEvents(t,i){t==i.parent&&null!=t.toy?.friendFaints&&this.enqueueToyEvents(this.friendFaintsToyEvents,t,i,t.toy.friendFaints.bind(t.toy))}executeFriendFaintsToyEvents(){this.executeToyEventQueue(this.friendFaintsToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friend fainting",t=>!t.player?.toy?.suppressFriendFaintLog)}triggerFriendJumpedToyEvents(t,i){t==i.parent&&null!=t.toy?.friendJumped&&this.enqueueToyEvents(this.friendJumpedToyEvents,t,i,t.toy.friendJumped.bind(t.toy))}executeFriendJumpedToyEvents(){this.executeToyEventQueue(this.friendJumpedToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friend jumping")}static \u0275fac=function(i){return new(i||o)(w.KVO(Fr),w.KVO(nr))};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Gf={ThisLeveledUp:1,FriendLeveledUp:2,FriendlyLeveledUp:2,ThisHurt:3,FriendHurt:4,EnemyHurt:4,AnyoneHurt:4,FriendAheadHurt:4,AnyoneBehindHurt:4,ThisGainedMana:5,ThisSummoned:6,FriendSummoned:7,EnemySummoned:7,BeeSummoned:7,EnemyPushed:8,FriendJumped:8,AnyoneJumped:8,Faint:9,FriendFaints:9,FriendAheadFainted:10,KnockOut:13,ThisTransformed:14,FriendTransformed:15,FriendGainedExp:16,FoodEatenByThis:17,FoodEatenByFriendly:17,AppleEatenByThis:17,CornEatenByFriend:17,CounterEvent:18,FriendLostPerk:19,PetLostPerk:19,ThisGainedPerk:20,FriendlyGainsPerk:21,FriendlyGainedStrawberry:21,ThisGainedAilment:20,FriendGainsAilment:21,EnemyGainedAilment:21,AnyoneGainedAilment:21,AnyoneFlung:22,ManaSnipe:23,PostRemovalFaint:25,PostRemovalFriendFaints:26,FriendlyToyBroke:26,EmptyFrontSpace:27,GoldenRetrieverSummons:28};function eP(o,e,t){const i=o.pet;if(o.callback){if(i&&i.transformed&&i.transformedInto&&o.abilityType){const n=i.transformedInto;o.callback=(s,r)=>{n.executeAbilities(s,r,o.triggerPet,void 0,void 0,t)}}o.callback(o.abilityType,e,o.triggerPet)}else if(i&&o.abilityType){let n=i;i.transformed&&i.transformedInto&&(n=i.transformedInto),n.executeAbilities(o.abilityType,e,o.triggerPet,void 0,void 0,o.customParams||t)}}let Mh=(()=>{class o{globalEventQueue=[];numberedTriggerCache=new WeakMap;numberedTriggerRegexCache=new Map;constructor(){}addEventToQueue(t){const i=this.getAbilityPriority(t.abilityType);t.tieBreaker=Math.random();let n=0,s=this.globalEventQueue.length;for(;n<s;){const r=Math.floor((n+s)/2),c=this.globalEventQueue[r],d=this.getAbilityPriority(c.abilityType);i<d?s=r:i>d?n=r+1:t.priority>c.priority?s=r:t.priority<c.priority?n=r+1:(t.tieBreaker??0)<(c.tieBreaker??0)?s=r:n=r+1}this.globalEventQueue.splice(n,0,t)}clearGlobalEventQueue(){this.globalEventQueue=[]}get hasGlobalEvents(){return this.globalEventQueue.length>0}processQueue(t,i){!function uu(o,e,t){if(t?.shuffle)for(let n=o.length-1;n>0;n--){const s=Math.floor(Math.random()*(n+1));[o[n],o[s]]=[o[s],o[n]]}const i=[];for(;o.length>0;){const n=o.shift();!t?.filter||t.filter(n)?(t?.onExecute&&t.onExecute(n),eP(n,e)):i.push(n)}i.length>0&&o.push(...i)}(this.globalEventQueue,t,i)}getNextHighestPriorityEvent(){return this.globalEventQueue.shift()||null}peekNextHighestPriorityEvent(){return this.globalEventQueue.length>0?this.globalEventQueue[0]:null}executeEvent(t,i){eP(t,i)}getAbilityPriority(t){return Gf[t]??(/\d+$/.test(t)?Gf.CounterEvent??999:999)}getPriorityNumber(t){return this.getAbilityPriority(t)}getPetEventPriority(t){let i=t.attack;return"Churros"===t.equipment?.name?i+=1e3:"Macaron"===t.equipment?.name&&(i-=1e3),i}triggerAbility(t,i,n,s){if(t.hasTrigger(i)){const r={...s??{},trigger:i,tigerSupportPet:t.petBehind(!0,!0)??null},c={priority:this.getPetEventPriority(t),pet:t,triggerPet:n,abilityType:i,tieBreaker:Math.random(),customParams:r};this.addEventToQueue(c)}}simulatePostRemovalFriendFaintsCounters(t,i){if(!t||i<=0)return;const n=this.getNumberedTriggersForPet(t,"PostRemovalFriendFaints");for(let s=0;s<i;s++)this.handleNumberedCounterTriggers(t,void 0,void 0,n)}handleCounterTriggers(t,i,n,s){for(const r of s)t.hasTrigger(r.trigger)&&(t.abilityCounter++,t.abilityCounter%r.modulo===0&&this.triggerAbility(t,r.trigger,i,n))}getTriggerModulo(t){const i=t.match(/(\d+)$/);return i?parseInt(i[1],10):null}handleNumberedCounterTriggers(t,i,n,s){const r=s.map(c=>({trigger:c,modulo:this.getTriggerModulo(c)})).filter(c=>null!=c.modulo);0!==r.length&&this.handleCounterTriggers(t,i,n,r)}getNumberedTriggersForPet(t,i){const n=t.abilityList;let s=this.numberedTriggerCache.get(t);(!s||s.listRef!==n||s.listLength!==n.length)&&(s={listRef:n,listLength:n.length,prefixMap:new Map},this.numberedTriggerCache.set(t,s));const r=s.prefixMap.get(i);if(r)return r;const c=new Set;let d=this.numberedTriggerRegexCache.get(i);d||(d=new RegExp(`^${i}\\d+$`),this.numberedTriggerRegexCache.set(i,d));for(const v of n)for(const E of v.triggers??[])d.test(E)&&c.add(E);const h=Array.from(c);return s.prefixMap.set(i,h),h}getTeam(t){const n=(t?.parent??t)?.petArray;return Array.isArray(n)?n:[]}static \u0275fac=function(i){return new(i||o)};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),tP=(()=>{class o{abilityQueueService;constructor(t){this.abilityQueueService=t}triggerBeforeAttackEvents(t){const i=t?.parent,n=i&&Array.isArray(i.petArray)?i.petArray:[];for(let s of n)s.hasTrigger("BeforeFriendlyAttack")&&this.abilityQueueService.triggerAbility(s,"BeforeFriendlyAttack",t,void 0),s==t?(s.hasTrigger("BeforeThisAttacks")&&this.abilityQueueService.triggerAbility(s,"BeforeThisAttacks"),s.hasTrigger("BeforeFirstAttack")&&this.abilityQueueService.triggerAbility(s,"BeforeFirstAttack")):s.hasTrigger("BeforeFriendAttacks")&&this.abilityQueueService.triggerAbility(s,"BeforeFriendAttacks",t),(s==t.petAhead||s==t.petBehind())&&s.hasTrigger("BeforeAdjacentFriendAttacked")&&this.abilityQueueService.triggerAbility(s,"BeforeAdjacentFriendAttacked",t)}triggerAfterAttackEvents(t){if(!t)return;const i=this.abilityQueueService.getTeam(t);for(let s of i)this.abilityQueueService.handleNumberedCounterTriggers(s,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(s,"FriendlyAttacked")),s.hasTrigger("FriendlyAttacked")&&this.abilityQueueService.triggerAbility(s,"FriendlyAttacked"),s.hasTrigger("AnyoneAttack")&&this.abilityQueueService.triggerAbility(s,"AnyoneAttack",t),s==t?(s.hasTrigger("ThisAttacked")&&this.abilityQueueService.triggerAbility(s,"ThisAttacked"),s.hasTrigger("ThisFirstAttack")&&this.abilityQueueService.triggerAbility(s,"ThisFirstAttack")):(s.hasTrigger("FriendAttacked")&&this.abilityQueueService.triggerAbility(s,"FriendAttacked",t),this.abilityQueueService.handleNumberedCounterTriggers(s,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(s,"FriendAttacked"))),(s==t.petAhead||s==t.petBehind())&&s.hasTrigger("AdjacentFriendAttacked")&&this.abilityQueueService.triggerAbility(s,"AdjacentFriendAttacked",t),s==t.petBehind(null,!0)&&s.hasTrigger("FriendAheadAttacked")&&this.abilityQueueService.triggerAbility(s,"FriendAheadAttacked",t);const n=this.abilityQueueService.getTeam(t.parent?.opponent);if(n.length)for(let s of n)s.hasTrigger("AnyoneAttack")&&this.abilityQueueService.triggerAbility(s,"AnyoneAttack",t),s.hasTrigger("EnemyAttacked")&&this.abilityQueueService.triggerAbility(s,"EnemyAttacked"),this.abilityQueueService.handleNumberedCounterTriggers(s,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(s,"EnemyAttacked"))}static \u0275fac=function(i){return new(i||o)(w.KVO(Mh))};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),eC=(()=>{class o{abilityQueueService;toyEventService;constructor(t,i){this.abilityQueueService=t,this.toyEventService=i}triggerFaintEvents(t){const i=this.abilityQueueService.getTeam(t);for(let n of i)this.abilityQueueService.triggerAbility(n,n==t?"Faint":"FriendFaints",t),n==t.petBehind(null,!0)&&this.abilityQueueService.triggerAbility(n,"FriendAheadFainted",t),(n==t.petBehind(null,!0)||n.petBehind(null,!0)==t)&&this.abilityQueueService.triggerAbility(n,"AdjacentFriendsFaint",t)}triggerAfterFaintEvents(t){t.parent&&this.toyEventService.triggerFriendFaintsToyEvents(t.parent,t),this.abilityQueueService.triggerAbility(t,"PetFainted",t),this.abilityQueueService.triggerAbility(t,"PostRemovalFaint",t);const i=this.abilityQueueService.getTeam(t);for(let s of i)this.abilityQueueService.triggerAbility(s,"PetFainted",t),this.abilityQueueService.triggerAbility(s,"PostRemovalFriendFaints",t),this.abilityQueueService.handleNumberedCounterTriggers(s,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(s,"PostRemovalFriendFaints"));const n=this.abilityQueueService.getTeam(t.parent?.opponent).filter(s=>s.alive);for(let s of n)this.abilityQueueService.triggerAbility(s,"EnemyFainted",t),this.abilityQueueService.triggerAbility(s,"PetFainted",t),this.abilityQueueService.handleNumberedCounterTriggers(s,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(s,"EnemyFaint"));this.toyEventService.executeFriendFaintsToyEvents()}static \u0275fac=function(i){return new(i||o)(w.KVO(Mh),w.KVO(cu))};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Ea=(()=>{class o{gameService;logService;toyEventService;abilityQueueService;attackEventService;faintEventService;gameApi;lastLoggedTrigger;constructor(t,i,n,s,r,c){this.gameService=t,this.logService=i,this.toyEventService=n,this.abilityQueueService=s,this.attackEventService=r,this.faintEventService=c}clearGlobalEventQueue(){this.abilityQueueService.clearGlobalEventQueue(),this.lastLoggedTrigger=void 0}get hasGlobalEvents(){return this.abilityQueueService.hasGlobalEvents}get hasAbilityCycleEvents(){return this.abilityQueueService.hasGlobalEvents}getNextHighestPriorityEvent(){return this.abilityQueueService.getNextHighestPriorityEvent()}peekNextHighestPriorityEvent(){return this.abilityQueueService.peekNextHighestPriorityEvent()}getPriorityNumber(t){return this.abilityQueueService.getPriorityNumber(t)}executeEventCallback(t){this.logTriggerHeader(t),this.abilityQueueService.executeEvent(t,this.gameService.gameApi),this.hasGlobalEvents||(this.lastLoggedTrigger=void 0)}logTriggerHeader(t){const i=t?.abilityType;i&&this.lastLoggedTrigger!==i&&(this.lastLoggedTrigger=i,this.logService.createLog({message:`${i}:`,type:"ability",player:t.player??t.pet?.parent}))}simulatePostRemovalFriendFaintsCounters(t,i){this.abilityQueueService.simulatePostRemovalFriendFaintsCounters(t,i)}initSpecialEndTurnAbility(t){for(let i of t.petArray)i.hasTrigger("SpecialEndTurn")&&i.executeAbilities("SpecialEndTurn",this.gameService.gameApi)}triggerBeforeStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let t of this.gameApi.player.petArray)t.hasTrigger("BeforeStartBattle")&&this.abilityQueueService.triggerAbility(t,"BeforeStartBattle");for(let t of this.gameApi.opponent.petArray)t.hasTrigger("BeforeStartBattle")&&this.abilityQueueService.triggerAbility(t,"BeforeStartBattle")}resetBeforeStartOfBattleEvents(){}executeBeforeStartOfBattleEvents(){this.processPhaseWithInterleaving(new Set(["BeforeStartBattle"]))}setCounterEvent(t){this.abilityQueueService.addEventToQueue(t)}triggerStartBattleEvents(t){this.gameApi=this.gameService.gameApi;for(let i of this.gameApi.player.petArray)i.hasTrigger("StartBattle")&&(!t||t(i))&&this.abilityQueueService.triggerAbility(i,"StartBattle");for(let i of this.gameApi.opponent.petArray)i.hasTrigger("StartBattle")&&(!t||t(i))&&this.abilityQueueService.triggerAbility(i,"StartBattle")}executeStartBattleEvents(){this.processPhaseWithInterleaving(new Set(["StartBattle"]))}triggerBeforeAttackEvent(t){this.attackEventService.triggerBeforeAttackEvents(t)}executeBeforeAttackEvents(){const t=new Set(["BeforeFriendlyAttack","BeforeThisAttacks","BeforeFirstAttack","BeforeFriendAttacks","BeforeAdjacentFriendAttacked"]);this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:i=>t.has(i.abilityType),onExecute:i=>this.logTriggerHeader(i)}),this.abilityQueueService.processQueue(this.gameService.gameApi,{onExecute:i=>this.logTriggerHeader(i)}),this.lastLoggedTrigger=void 0}triggerAttacksEvents(t){this.attackEventService.triggerAfterAttackEvents(t)}executeAfterAttackEvents(){const t=new Set(["FriendlyAttacked","FriendAttacked","FriendAheadAttacked","AdjacentFriendAttacked","AnyoneAttack","EnemyAttacked","ThisAttacked","ThisFirstAttack"]);this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:i=>{const n=i.abilityType;return!!t.has(n)||/^(FriendlyAttacked|FriendAttacked|EnemyAttacked)\d+$/.test(n)},onExecute:i=>this.logTriggerHeader(i)}),this.abilityQueueService.processQueue(this.gameService.gameApi,{onExecute:i=>this.logTriggerHeader(i)}),this.lastLoggedTrigger=void 0}processPhaseWithInterleaving(t){const i=this.abilityQueueService.globalEventQueue;for(;;){const n=i.findIndex(r=>t.has(r.abilityType));if(-1===n)break;const[s]=i.splice(n,1);this.logTriggerHeader(s),this.abilityQueueService.executeEvent(s,this.gameService.gameApi),this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:r=>!t.has(r.abilityType),onExecute:r=>this.logTriggerHeader(r)})}this.lastLoggedTrigger=void 0}triggerSummonEvents(t){const i=t?.parent;if(i&&Array.isArray(i.petArray)){this.triggerFriendSummonedToyEvents(i,t);for(let s of this.abilityQueueService.getTeam(i))s==t?this.abilityQueueService.triggerAbility(s,"ThisSummoned",t):(this.abilityQueueService.triggerAbility(s,"FriendSummoned",t),this.abilityQueueService.handleNumberedCounterTriggers(s,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(s,"FriendSummoned")),"Bee"===t.name&&this.abilityQueueService.triggerAbility(s,"BeeSummoned",t));(i.opponent&&Array.isArray(i.opponent.petArray)?i.opponent.petArray:[]).forEach(s=>this.abilityQueueService.triggerAbility(s,"EnemySummoned",t)),this.executeFriendSummonedToyEvents()}}triggerFaintEvents(t){this.faintEventService.triggerFaintEvents(t)}triggerAfterFaintEvents(t){this.faintEventService.triggerAfterFaintEvents(t)}triggerFoodEvents(t,i){for(let n of this.abilityQueueService.getTeam(t))this.abilityQueueService.triggerAbility(n,"FoodEatenByAny",t),this.abilityQueueService.triggerAbility(n,"FoodEatenByFriendly",t),n==t?(this.abilityQueueService.triggerAbility(n,"FoodEatenByThis",t),"apple"===i?(this.abilityQueueService.triggerAbility(n,"AppleEatenByThis",t),this.abilityQueueService.handleNumberedCounterTriggers(n,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(n,"AppleEatenByThis"))):"corn"===i&&this.abilityQueueService.triggerAbility(n,"CornEatenByThis",t),this.abilityQueueService.handleNumberedCounterTriggers(n,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(n,"Eat"))):(this.abilityQueueService.triggerAbility(n,"FoodEatenByFriend",t),"corn"===i&&this.abilityQueueService.triggerAbility(n,"CornEatenByFriend",t));for(let n of this.abilityQueueService.getTeam(t.parent?.opponent))this.abilityQueueService.triggerAbility(n,"FoodEatenByAny",t)}triggerPerkGainEvents(t,i){for(let n of this.abilityQueueService.getTeam(t))this.abilityQueueService.triggerAbility(n,"FriendlyGainsPerk",t),"Strawberry"===i&&this.abilityQueueService.triggerAbility(n,"FriendlyGainedStrawberry",t),n==t?(this.abilityQueueService.triggerAbility(n,"ThisGainedPerk",t),"Strawberry"===i&&this.abilityQueueService.triggerAbility(n,"ThisGainedStrawberry",t)):(this.abilityQueueService.triggerAbility(n,"FriendGainsPerk",t),"Strawberry"===i&&this.abilityQueueService.triggerAbility(n,"FriendGainedStrawberry",t))}triggerPerkLossEvents(t,i){for(let n of this.abilityQueueService.getTeam(t))this.abilityQueueService.triggerAbility(n,"PetLostPerk",t),"strawberry"===i&&this.abilityQueueService.triggerAbility(n,"LostStrawberry",t),n==t?this.abilityQueueService.triggerAbility(n,"ThisLostPerk",t):(this.abilityQueueService.triggerAbility(n,"FriendLostPerk",t),"strawberry"===i&&this.abilityQueueService.triggerAbility(n,"FriendLostStrawberry",t));for(let n of this.abilityQueueService.getTeam(t.parent?.opponent))this.abilityQueueService.triggerAbility(n,"PetLostPerk",t)}triggerAilmentGainEvents(t,i){for(let n of this.abilityQueueService.getTeam(t))this.abilityQueueService.triggerAbility(n,"AnyoneGainedAilment",t),this.abilityQueueService.triggerAbility(n,n==t?"ThisGainedAilment":"FriendGainsAilment",t),"weak"===i&&this.abilityQueueService.triggerAbility(n,"AnyoneGainedWeak",t);for(let n of this.abilityQueueService.getTeam(t.parent?.opponent))this.abilityQueueService.triggerAbility(n,"EnemyGainedAilment",t),this.abilityQueueService.triggerAbility(n,"AnyoneGainedAilment",t),"weak"===i&&this.abilityQueueService.triggerAbility(n,"AnyoneGainedWeak",t)}triggerTransformEvents(t){const i=t.transformedInto;if(i)for(let n of this.abilityQueueService.getTeam(i))n==i?this.abilityQueueService.triggerAbility(n,"ThisTransformed",i):(this.abilityQueueService.triggerAbility(n,"FriendTransformed",i),this.abilityQueueService.handleNumberedCounterTriggers(n,i,void 0,this.abilityQueueService.getNumberedTriggersForPet(n,"FriendTransformed")))}triggerFlungEvents(t){for(let i of this.abilityQueueService.getTeam(t))this.abilityQueueService.triggerAbility(i,"AnyoneFlung",t),i!=t&&this.abilityQueueService.triggerAbility(i,"FriendFlung",t);for(let i of this.abilityQueueService.getTeam(t.parent?.opponent))this.abilityQueueService.triggerAbility(i,"AnyoneFlung",t)}triggerPushedEvents(t){for(let i of this.abilityQueueService.getTeam(t.parent?.opponent))this.abilityQueueService.triggerAbility(i,"EnemyPushed",t)}triggerKillEvents(t,i){i.parent!==t.parent&&this.abilityQueueService.triggerAbility(t,"KnockOut",i)}triggerHurtEvents(t,i){const n=void 0!==i?{damageAmount:i}:void 0;for(let s of this.abilityQueueService.getTeam(t))this.abilityQueueService.triggerAbility(s,"AnyoneHurt",t,n),s==t?(this.abilityQueueService.triggerAbility(s,"ThisHurt",t,n),this.abilityQueueService.handleNumberedCounterTriggers(s,t,n,this.abilityQueueService.getNumberedTriggersForPet(s,"ThisHurt"))):(this.abilityQueueService.triggerAbility(s,"FriendHurt",t,n),this.abilityQueueService.handleNumberedCounterTriggers(s,t,n,this.abilityQueueService.getNumberedTriggersForPet(s,"FriendHurt"))),s==t.petBehind(void 0,!0)&&this.abilityQueueService.triggerAbility(s,"FriendAheadHurt",t,n),(s==s.petBehind()||s.petAhead)&&this.abilityQueueService.triggerAbility(s,"AdjacentFriendsHurt",t,n),s.position<t.position&&this.abilityQueueService.triggerAbility(s,"AnyoneBehindHurt",t,n);for(let s of this.abilityQueueService.getTeam(t.parent?.opponent))this.abilityQueueService.triggerAbility(s,"EnemyHurt",t,n),this.abilityQueueService.triggerAbility(s,"AnyoneHurt",t,n),this.abilityQueueService.handleNumberedCounterTriggers(s,t,n,this.abilityQueueService.getNumberedTriggersForPet(s,"EnemyHurt"))}triggerLevelUpEvents(t){let i=t.parent;this.triggerFriendlyLevelUpToyEvents(i,t);for(let n of i.petArray)this.abilityQueueService.triggerAbility(n,"AnyLeveledUp",t),this.abilityQueueService.triggerAbility(n,"FriendlyLeveledUp",t),n==t?this.abilityQueueService.triggerAbility(n,"ThisLeveledUp",t):(this.abilityQueueService.triggerAbility(n,"FriendLeveledUp",t),this.abilityQueueService.handleNumberedCounterTriggers(n,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(n,"FriendlyLeveledUp")));if(i.opponent&&Array.isArray(i.opponent.petArray))for(let n of i.opponent.petArray)this.abilityQueueService.triggerAbility(n,"AnyLeveledUp",t)}triggerEmptyFrontSpaceEvents(t){for(let i of t.petArray)i.clearFrontTriggered||(this.abilityQueueService.triggerAbility(i,"EmptyFrontSpace"),i.clearFrontTriggered=!0)}triggerToyBrokeEvents(t){for(let i of t.petArray)this.abilityQueueService.triggerAbility(i,"FriendlyToyBroke")}triggerJumpEvents(t){this.triggerFriendJumpedToyEvents(t.parent,t);for(let i of this.abilityQueueService.getTeam(t))this.abilityQueueService.triggerAbility(i,"AnyoneJumped",t),i==t||(this.abilityQueueService.triggerAbility(i,"FriendJumped",t),this.abilityQueueService.handleNumberedCounterTriggers(i,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(i,"FriendJumped")));for(let i of this.abilityQueueService.getTeam(t.parent?.opponent))this.abilityQueueService.triggerAbility(i,"AnyoneJumped",t);this.executeFriendJumpedToyEvents()}triggerManaGainedEvents(t){this.abilityQueueService.triggerAbility(t,"ThisGainedMana",t)}setManaEvent(t){t.abilityType="ManaSnipe",this.abilityQueueService.addEventToQueue(t)}setgoldenRetrieverSummonsEvent(t){t.abilityType="GoldenRetrieverSummons",this.abilityQueueService.addEventToQueue(t)}triggerFriendGainsHealthEvents(t){}triggerFriendGainedExperienceEvents(t){for(let i of this.abilityQueueService.getTeam(t))this.abilityQueueService.triggerAbility(i,"FriendlyGainedExp",t),i!==t&&this.abilityQueueService.triggerAbility(i,"FriendGainedExp",t)}triggerEmptyFrontSpaceToyEvents(t){this.toyEventService.triggerEmptyFrontSpaceToyEvents(t)}executeEmptyFrontSpaceToyEvents(){this.toyEventService.executeEmptyFrontSpaceToyEvents()}triggerFriendSummonedToyEvents(t,i){this.toyEventService.triggerFriendSummonedToyEvents(t,i)}executeFriendSummonedToyEvents(){this.toyEventService.executeFriendSummonedToyEvents()}triggerFriendlyLevelUpToyEvents(t,i){this.toyEventService.triggerFriendlyLevelUpToyEvents(t,i)}executeFriendlyLevelUpToyEvents(){this.toyEventService.executeFriendlyLevelUpToyEvents()}triggerFriendFaintsToyEvents(t,i){this.toyEventService.triggerFriendFaintsToyEvents(t,i)}executeFriendFaintsToyEvents(){this.toyEventService.executeFriendFaintsToyEvents()}triggerFriendJumpedToyEvents(t,i){this.toyEventService.triggerFriendJumpedToyEvents(t,i)}executeFriendJumpedToyEvents(){this.toyEventService.executeFriendJumpedToyEvents()}static \u0275fac=function(i){return new(i||o)(w.KVO(Fr),w.KVO(nr),w.KVO(cu),w.KVO(Mh),w.KVO(tP),w.KVO(eC))};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class Ih extends De{equipmentClass="defense";name="Garlic";tier=3;power=2;originalPower=2;minimumDamage=2;callback=e=>{}}class iP extends _{equipment;logService;constructor(e,t,i){super({name:"CakeAbility",owner:e,triggers:["EndTurn"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner,i=1*(this.equipment.multiplier??1);t.increaseSellValue(i),this.logService.createLog({message:`${t.name} increased its sell value by ${i}. (Cake)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}class nP extends De{name="Meat Bone";equipmentClass="attack";power=3;originalPower=3}class Lh extends C{logService;abilityService;name="Bee";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new Hf(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Hf extends _{logService;abilityService;constructor(e,t,i){super({name:"BeeAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Hf(e,this.logService,this.abilityService)}}class rP extends De{logService;abilityService;name="Honey";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new iC(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}}class iC extends _{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"HoneyAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=new Lh(this.logService,this.abilityService,t.parent,null,null,0);t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Bee (Honey)${i>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent})}}}class qf extends De{logService;petService;name="Mushroom";tier=6;equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new bl(e,t,this.logService,this.petService))};constructor(e,t){super(),this.logService=e,this.petService=t}}class bl extends _{equipment;logService;petService;constructor(e,t,i,n){super({name:"MushroomAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.petService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=this.petService.createDefaultVersionOfPet(t,1,1);n.exp=t.exp,n.triggersConsumed=t.triggersConsumed,n.originalTriggersConsumed=t.triggersConsumed,t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned ${n.name} (level ${n.level}) (Mushroom)${i>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent})}}}class Fh extends De{name="Rice";tier=2;equipmentClass="shop";callback=e=>{e.increaseSellValue(2*this.multiplier)}}class fs extends C{logService;abilityService;name="Nest";tier=1;pack="Puppy";hidden=!0;attack=2;health=3;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class aP extends De{logService;name="Egg";tier=1;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new nC(e,t))};constructor(e){super(),this.logService=e}}class nC extends _{equipment;constructor(e,t){super({name:"EggAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const{triggerPet:t}=e,i=this.owner;let n=this.equipment.multiplier;i instanceof fs&&(n+=("Tiger"===t?.name?t.level:i.level)-1);for(let s=0;s<n;s++){let r=i.parent.opponent.petArray,c=null;for(let d of r)if(d.alive){c=d;break}null!=c&&i.snipePet(c,2,!1,!1,!1,!0,!1)}i.removePerk()}}class Oh extends De{name="Eucalyptus";equipmentClass="shield";power=4;originalPower=4;uses=1;originalUses=1}class jf extends _{equipment;logService;constructor(e,t,i){super({name:"SquashAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=t.parent.opponent.pet0;if(null==n||!n.alive)return;let s=6,r=Math.max(1,n.health-s);n.health=r,this.logService.createLog({message:`${this.equipment.name} reduced ${n.name} health by ${s} (${r})${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}t.removePerk()}}class Bh extends _{equipment;logService;constructor(e,t,i){super({name:"PieAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner,i=4*this.equipment.multiplier,n=3*this.equipment.multiplier;t.increaseAttack(i),t.increaseHealth(n),this.logService.createLog({message:`${t.name} gained ${i} attack and ${n} health (Pie)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}class ys extends De{logService;name="Skewer";tier=5;equipmentClass="skewer";power=0;attackCallback=(e,t)=>{this.skewer(e,t,1),this.skewer(e,t,2)};constructor(e){super(),this.logService=e}skewer(e,t,i){let n=t.parent.getPetAtPosition(i);null!=n&&e.snipePet(n,3*(e.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",3)}}class aC extends _{equipment;logService;constructor(e,t,i){super({name:"PancakesAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i of t.parent.petArray){if(t==i)continue;let n=2*this.equipment.multiplier,s=2*this.equipment.multiplier;i.increaseAttack(n),i.increaseHealth(s),this.logService.createLog({message:`${i.name} gained ${n} attack and ${s} health (Pancakes)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}}class sP extends De{logService;abilityService;name="Mild Chili";equipmentClass="skewer";power=0;originalPower=0;attackCallback=(e,t)=>{let i=t.parent.getPetAtPosition(1);null!=i&&e.snipePet(i,4*(e.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",4)};constructor(e,t){super(),this.logService=e,this.abilityService=t}}class sC extends _{equipment;logService;constructor(e,t,i){super({name:"BaguetteAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=t.parent.opponent.getPetsWithoutEquipment("Perk"),s=t.parent.opponent.getFurthestUpPet(t,n).pet;if(null==s)return;if(null!=s.equipment){let r=s.equipment.name;s.removePerk(),this.logService.createLog({message:`${t.name} removed ${r} from ${s.name} (Baguette)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}}t.removePerk()}}class Vf extends De{logService;petService;gameService;name="Popcorn";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new lC(e,t,this.logService,this.petService))};constructor(e,t,i){super(),this.logService=e,this.petService=t,this.gameService=i}}class lC extends _{equipment;logService;petService;constructor(e,t,i,n){super({name:"PopcornAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.petService=n}executeAbility(e){const{gameApi:t}=e,i=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let s;s=i.parent==t.player?t.playerPetPool:t.opponentPetPool;let r=s.get(i.tier),c=r[Math.floor(Math.random()*r.length)],d=this.petService.createPet({attack:null,equipment:null,exp:0,health:null,name:c,mana:0},i.parent);i.parent.summonPet(d,i.savedPosition).success&&this.logService.createLog({message:`${i.name} Spawned ${d.name} (Popcorn)${n>0?this.equipment.multiplierMessage:""}`,type:"ability",player:i.parent,randomEvent:!0})}}}class cC extends De{logService;abilityService;petService;name="Seaweed";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new uC(e,t,this.logService,this.petService))};constructor(e,t,i){super(),this.logService=e,this.abilityService=t,this.petService=i}}class uC extends _{equipment;logService;petService;constructor(e,t,i,n){super({name:"SeaweedAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.petService=n}executeAbility(e){const t=this.owner;let i=this.petService.createPet({name:"Baby Urchin",attack:t.attack,health:t.health,mana:t.mana,exp:t.exp,equipment:null},t.parent);this.logService.createLog({message:`${t.name} transformed into ${i.name} (Seaweed)`,type:"equipment",player:t.parent}),t.parent.transformPet(t,i)}}class hC extends _{equipment;logService;constructor(e,t,i){super({name:"CaramelAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=t.parent.petArray.filter(c=>c.alive&&"Caramel"===c.equipment?.name);if(0===i.length)return;let n=3*i.length,s=t.parent.opponent.getHighestHealthPet(),r=s.pet;if(null!=r){t.snipePet(r,n,s.random,!1,!1,!0,!1);for(let c of i)c.removePerk(),this.logService.createLog({message:`${c.name} lost Caramel equipment`,type:"ability",player:t.parent,tiger:!1})}}}class Uf extends _{equipment;constructor(e,t){super({name:"CherryAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;t.parent.gainTrumpets(2*i,t,!1,i,!0),t.removePerk(!0)}}class Kf extends _{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"ChocolateCakeAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const t=this.owner;let n=3*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${n} exp. (Chocolate Cake)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.increaseExp(n),t.health=0,this.abilityService.triggerKillEvents(t,t)}}class gC extends _{equipment;logService;constructor(e,t,i){super({name:"EggplantAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let n=0;n<i;n++){let s=t.parent.opponent,r=s.getPet(t.position);if(null==r)return;this.logService.createLog({message:`${t.name} pushed ${r.name} 1 space forward. (Eggplant)${n>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent}),s.pushPet(r,1)}}}class xa extends _{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"BananaAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=new su(this.logService,this.abilityService,t.parent,4,4,0,0),s=i>0?this.equipment.multiplierMessage:"";t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Monkey (Banana)${s}`,type:"ability",player:t.parent})}}}class Oi extends _{equipment;logService;constructor(e,t,i){super({name:"PitaBreadAbility",owner:e,triggers:["ThisHurt"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;if(!t.alive)return;let n=15*this.equipment.multiplier;t.increaseHealth(n),this.logService.createLog({message:`${t.name} gained ${n} health. (Pita Bread)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.removePerk()}}class $h extends _{equipment;constructor(e,t){super({name:"TomatoAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let n=0;n<i;n++){let s=t.parent.opponent.getLastPet();if(null==s.pet)break;t.snipePet(s.pet,10,s.random,!1,!1,!0,!1)}t.removePerk()}}class pP extends _{equipment;logService;constructor(e,t,i){super({name:"DurianAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let n=0;n<i;n++){let s=t.parent.opponent.getHighestHealthPet(),r=s.pet;if(null==r)continue;let c=.33,d=Math.max(1,Math.floor(r.health*(1-c)));r.health=d,this.logService.createLog({message:`${this.equipment.name} reduced ${r.name} health by ${100*c}% (${d})${n>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent,randomEvent:s.random})}t.removePerk()}}class gP extends _{equipment;constructor(e,t){super({name:"FigAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let n=0;n<i;n++){let s=t.parent.opponent.getLowestHealthPet(),r=s.pet;if(null==r)return;t.snipePet(r,4,s.random,!1,!1,!0,!1)}t.removePerk()}}class fC extends _{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"CodRoeAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=new kS(this.logService,this.abilityService,t.parent,3,2,0,0);t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} spawned ${n.name} (Cod Roe)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}}}class mP extends _{equipment;logService;constructor(e,t,i){super({name:"SudduthTomatoAbility",owner:e,triggers:["ThisHurt"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,condition:n=>!!this.owner.alive,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const n=this.owner;let r=1*this.equipment.multiplier;n.increaseHealth(r),this.logService.createLog({message:`${n.name} gained ${r} health (Sudduth Tomato)${this.equipment.multiplierMessage}`,type:"equipment",player:n.parent}),n.removePerk()}}class vC extends _{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"GrosMichelBananaAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const i=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let s=new Xc(this.logService,this.abilityService,i.parent,i.health,i.attack,i.mana,i.exp);this.logService.createLog({message:`${i.name} transformed into ${s.name} (Gros Michel Banana)${n>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:i.parent}),i.parent.transformPet(i,s)}}}function Pr(o){if(!o)return null;const e=Object.create(Object.getPrototypeOf(o));return Object.assign(e,o),e}class no extends De{logService;petService;name="Cocoa Bean";tier=5;equipmentClass="beforeAttack";power=0;originalPower=0;uses=1;originalUses=1;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new AC(e,t,this.logService,this.petService))};constructor(e,t){super(),this.logService=e,this.petService=t}}class AC extends _{equipment;logService;petService;constructor(e,t,i,n){super({name:"CocoaBeanAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.petService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=t.parent.opponent.petArray.filter(h=>h.alive);if(0==n.length)return void t.removePerk();let s=n[Math.floor(Math.random()*n.length)],r=null;s.equipment&&(r=Pr(s.equipment));let c=this.petService.createPet({name:s.name,attack:s.attack,health:s.health,mana:t.mana,exp:s.exp,equipment:r},t.parent);if(c.mana=t.mana,s.swallowedPets&&s.swallowedPets.length>0){c.swallowedPets=[];for(let h of s.swallowedPets){let v=this.petService.createPet({name:h.name,attack:h.attack,health:h.health,mana:h.mana,exp:h.exp,equipment:h.equipment},t.parent);c.swallowedPets.push(v)}}c.abilityCounter=s.abilityCounter,c.timesHurt=s.timesHurt,c.timesAttacked=s.timesAttacked,c.battlesFought=s.battlesFought,c.copyAbilities(s,"Pet"),this.logService.createLog({message:`${t.name} transformed into ${c.name} (Cocoa Bean)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent,randomEvent:n.length>1}),t.parent.transformPet(t,c)}}}class PC extends _{equipment;constructor(e,t){super({name:"UnagiAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=t.parent.opponent.getRandomPet([],!1,!0,!1,t);n.pet&&t.snipePet(n.pet,2,n.random,!1,!1,!0,!1)}}}class vs extends De{name="Corncob";tier=1;equipmentClass="shop";effectMultiplier=1}class zf extends De{name="Blueberry";equipmentClass="target";constructor(){super()}}class pR extends _{equipment;constructor(e,t){super({name:"CashewNutAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=t.parent.nearestPetsAhead(2,t,null,!0),s=n.pets.filter(c=>c?.alive);if(s.length<2)return;let r=s[1];t.snipePet(r,r.parent==t.parent?1:2,n.random,null,null,!0)}}}class wC extends _{equipment;logService;constructor(e,t,i){super({name:"NachosAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=Math.min(3,t.health-1);r>0&&(t.increaseHealth(-r),t.increaseAttack(r),this.logService.createLog({message:`${t.name} converted ${r} health into ${r} attack (Nachos)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent}))}t.removePerk()}}class DC extends _{equipment;logService;constructor(e,t){super({name:"CauliflowerAbility",owner:e,triggers:["KnockOut"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>this.executeAbility(i)}),this.equipment=t,this.logService=Nt.getInjector().get(nr)}executeAbility(e){const t=this.owner;if(!t.alive)return void t.removePerk();const i=1*this.equipment.multiplier;t.increaseAttack(i),t.increaseHealth(i),this.logService.createLog({message:`${t.name} gained +${i} attack and +${i} health. (Cauliflower)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.removePerk()}}class qh extends De{name="Melon Slice";equipmentClass="shield";power=10;originalPower=10;uses=1;originalUses=1}class LC extends _{equipment;logService;constructor(e,t){super({name:"OysterMushroomAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>this.executeAbility(i)}),this.equipment=t,this.logService=Nt.getInjector().get(nr)}executeAbility(e){const t=this.owner,i=Math.max(t.attack,9),n=Math.max(t.health,9);i!==t.attack&&(t.attack=i),n!==t.health&&(t.health=n),this.logService.createLog({message:`${t.name} set stats to ${t.attack}/${t.health}. (Oyster Mushroom)`,type:"equipment",player:t.parent}),t.removePerk()}}const Mo={iriomoteCat:{1:["Ant","Mosquito","Cricket","Moth","Beetle","Chihuahua","Cockroach","Hummingbird","Frilled Dragon","Farmer Mouse","Budgie","Groundhog","Cone Snail","Goose","Barghest","Tsuchinoko","Alchemedes","Bunyip","Sneaky Egg","Ethiopian Wolf","African Wild Dog","Volcano Snail","Pygmy Seahorse","Nudibranch"],2:["Crab","Hedgehog","Flamingo","Spider","Robin","Beluga Sturgeon","Stork","Bass","Panda","Seahorse","Roadrunner","Mink","Meerkat","Black Necked Stilt","Sea Urchin","Honduran White Bat","Frost Wolf","Ogopogo","Thunderbird","Bigfoot","Takhi","White-Bellied Heron","Taita Shrew","Nightcrawler","Pink Robin","Fruit Fly","Olm","Tadpole","Thorny Dragon"],3:["Dodo","Dolphin","Sheep","Hoopoe Bird","Pug","Anteater","Eel","Bear","Farmer Pig","Brazillian Treehopper","Flea","Weasel","Osprey","Blue Dragon","Betta Fish","Skeleton Dog","Mandrake","Fur-Bearing Trout","Mana Hound","Roloway Monkey","Amami Rabbit","Hirola","Tucuxi","Tree Kangaroo","Slime","Dimetrodon","Gerenuk","Pangasius","Vampire Parrot"]},radish:{1:["Walnut","Honey","Egg","Strawberry"],2:["Meat Bone","Lime","Caramel","Bok Choy","Fairy Dust","Faint Bread","Cod Roe"],3:["Garlic","Squash","Seaweed","Fig","Brussels Sprout"],4:["Fortune Cookie","Salt","Baguette","Cheese","Banana","Ambrosia"],5:["Chili","Lemon","Pepper","Durian","Honeydew Melon","Easter Egg"],6:["Steak","Melon","Pita Bread","Tomato","Yggdrasil Fruit","Popcorn","White Okra"]},rolowayMonkey:["Peacock","Camel","Porcupine","Lizard","Guineafowl"],goldenTamarin:["Crocodile","Tarantula Hawk","Red Dragon","Werewolf","Snow Leopard","Sea Cucumber"],bayCat:["Skunk","Fossa","Hawk","Lynx","Platybelodon","Kraken","Tasmanian Devil","Humphead Wrasse"]};class NC extends De{logService;name="Radish";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new FC(e,t,this.logService))};constructor(e){super(),this.logService=e}}class FC extends _{equipment;logService;equipmentService;constructor(e,t,i){super({name:"RadishAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>this.executeAbility(n)}),this.equipment=t,this.logService=i,this.equipmentService=Nt.getInjector().get(pi)}executeAbility(e){const t=this.owner,i=Math.min(Math.max(t.tier??t.level??1,1),6),n=Mo.radish[i];if(!n||0===n.length)return;const s=this.equipmentService.getInstanceOfAllEquipment(),r=n.filter(v=>s.has(v));if(0===r.length)return;const c=Jt(0,r.length-1),h=s.get(r[c]);h&&(t.givePetEquipment(h),this.logService.createLog({message:`${t.name} gained ${h.name} before battle (Radish).`,type:"equipment",player:t.parent,randomEvent:!0}))}}class pu extends De{logService;name="Rambutan";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new vP(e,t,this.logService))};constructor(e){super(),this.logService=e}}class vP extends _{equipment;logService;constructor(e,t,i){super({name:"RambutanAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let s=3*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${s} mana. (Rambutan)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.increaseMana(s)}}class AP extends _{equipment;logService;petService;constructor(e,t,i){super({name:"LovePotionAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i,this.petService=Nt.getInjector().get(xr)}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){const n=this.petService.createPet({name:t.name,attack:3,health:3,exp:0,equipment:null,mana:0},t.parent),s=t.parent.summonPet(n,t.savedPosition,!1,t);s.success&&this.logService.createLog({message:`${t.name} summoned a ${n.attack}/${n.health} ${n.name} (Love Potion)${i>0?this.equipment.multiplierMessage:""}.`,type:"equipment",player:t.parent,randomEvent:s.randomEvent})}}}class SP extends _{equipment;logService;constructor(e,t,i){super({name:"FairyDustAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;if(null!=t.parent.pet0)return;let n=2*this.equipment.multiplier;this.logService.createLog({message:`${t.name} pushed itself to the front and gained ${n} mana(Fairy Dust)${this.equipment.multiplierMessage}.`,type:"ability",player:t.parent}),t.parent.pushPetToFront(t,!0),t.increaseMana(n),t.removePerk()}}class BC extends _{equipment;logService;constructor(e,t,i){super({name:"GingerbreadManAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let n=1*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${n} experience (Gingerbread Man)${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent}),t.increaseExp(n)}}class kP extends C{logService;abilityService;name="Monty";tier=1;pack="Unicorn";hidden=!0;health=3;attack=3;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Xf extends _{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"EasterEggAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=new kP(this.logService,this.abilityService,t.parent,null,null,0,0);t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Monty (Easter Egg)${i>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent})}}}class _P extends _{equipment;logService;constructor(e,t,i){super({name:"HealthPotionAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let n=2*this.equipment.multiplier,s=t.parent.furthestUpPet;null!=s&&(this.logService.createLog({message:`${t.name} gave ${n} health to ${s.name} (Health Potion)${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent}),s.increaseHealth(n))}}class $C extends _{equipment;constructor(e,t){super({name:"GoldenEggAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=t.parent.opponent.petArray,n=null;for(let r of i)if(r.alive){n=r;break}if(null==n)return;let s=this.equipment.multiplier;for(let r=0;r<s;r++)t.snipePet(n,6,!1,!1,!1,!0,!1);t.removePerk()}}class wP extends C{logService;abilityService;name="Tandgnost";tier=4;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new ey(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class ey extends _{logService;constructor(e,t){super({name:"Tandgnost Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(r=>r&&r.alive&&"Tandgrisner"===r.name);if(0===i.length)return void this.triggerTigerExecution(e);const[n]=Ar([...i]),s=3*Math.max(1,this.level);n.increaseHealth(s),this.logService.createLog({message:`${t.name} gave ${n.name} +${s} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ey(e,this.logService)}}class TP extends C{logService;abilityService;name="Tandgrisner";tier=5;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new jh(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class jh extends _{logService;constructor(e,t){super({name:"Tandgrisner Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(r=>r&&r.alive&&"Tandgnost"===r.name);if(0===i.length)return void this.triggerTigerExecution(e);const[n]=Ar([...i]),s=3*Math.max(1,this.level);n.increaseAttack(s),this.logService.createLog({message:`${t.name} gave ${n.name} +${s} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new jh(e,this.logService)}}class iy extends _{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"YggdrasilFruitAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=new wP(this.logService,this.abilityService,t.parent,5,5,0),s=new TP(this.logService,this.abilityService,t.parent,5,5,0),r=i>0?this.equipment.multiplierMessage:"";t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Tandgnost (Yggdrasil Fruit)${r}`,type:"ability",player:t.parent}),t.parent.summonPet(s,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Tandgrisner (Yggdrasil Fruit)${r}`,type:"ability",player:t.parent})}}}class CP extends De{logService;petService;name="Faint Bread";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new EP(e,t,this.petService,this.logService))};constructor(e,t){super(),this.logService=e,this.petService=t}}class EP extends _{equipment;petService;logService;constructor(e,t,i,n){super({name:"FaintBreadAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.petService=i,this.logService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=this.petService.getRandomFaintPet(t.parent,1),s=i>0?this.equipment.multiplierMessage:"";t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned ${n.name} (Faint Bread)${s}`,type:"ability",player:t.parent,randomEvent:!0})}}}class ny extends De{name="Cold";equipmentClass="ailment-defense";power=-5;originalPower=-5;uses=1;originalUses=1}class Da extends De{name="Spooked";equipmentClass="ailment-defense";power=-1;originalPower=-1}class Ma extends De{name="Weak";equipmentClass="ailment-defense";power=-3;originalPower=-3}class Vh extends De{logService;name="Tasty";equipmentClass="faint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new DP(e,t,this.logService))};constructor(e){super(),this.logService=e}}class DP extends _{equipment;logService;constructor(e,t,i){super({name:"TastyAbility",owner:e,triggers:["Faint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=t.parent.opponent.petArray.filter(s=>s.alive);if(0==i.length)return;let n=i[Math.floor(Math.random()*i.length)];n.increaseAttack(2*this.equipment.multiplier),n.increaseHealth(2*this.equipment.multiplier),this.logService.createLog({message:`${t.name} gave ${n.name} +2 attack and +2 health (Tasty)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent,randomEvent:i.length>1})}}class Uh extends De{name="Silly";equipmentClass="ailment-other"}class bR extends _{petService;logService;constructor(e){super({name:"ConfusedAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:t=>this.executeAbility(t)}),this.petService=Nt.getInjector().get(xr),this.logService=Nt.getInjector().get(nr)}executeAbility(e){const t=this.owner,i=Math.max(1,(t.tier??1)-1),n=this.petService.allPets.get(i)??[];if(0===n.length)return void t.removePerk();const s=n[Math.floor(Math.random()*n.length)];t.removePerk();const r=this.petService.createPet({name:s,attack:t.attack,health:t.health,exp:t.exp??0,equipment:null,mana:t.mana},t.parent);this.logService.createLog({message:`${t.name} transformed into a ${s}. (Confused)`,type:"equipment",player:t.parent,randomEvent:!0}),t.parent.transformPet(t,r)}}class ry extends De{name="Cursed";equipmentClass="ailment-other";callback=e=>{e.addAbility(new GC(e))}}class GC extends _{logService;constructor(e){super({name:"CursedAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:t=>this.executeAbility(t)}),this.logService=Nt.getInjector().get(nr)}executeAbility(e){const t=this.owner,i=t.parent.getRandomPet([t],!1,!1,!1,t),n=i.pet;n&&(n.givePetEquipment(new ry),this.logService.createLog({message:`${t.name} made ${n.name} Cursed.`,type:"equipment",player:t.parent,randomEvent:i.random}))}}class Ia extends De{name="Inked";equipmentClass="ailment-attack";power=-3;originalPower=-3}class ay extends _{logService;petService;constructor(e){super({name:"WebbedAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:t=>this.executeAbility(t)}),this.logService=Nt.getInjector().get(nr),this.petService=Nt.getInjector().get(xr)}executeAbility(e){const t=this.owner,i=t.parent.opponent,n=this.petService.createPet({name:"Spider",attack:2,health:2,exp:0,equipment:null,mana:0},i),s=i.summonPet(n,0,!1,t);s.success&&this.logService.createLog({message:`${t.name} summoned ${n.name} for the opponent. (Webbed)`,type:"equipment",player:t.parent,randomEvent:s.randomEvent})}}const qC={Garlic:Ih,"Meat Bone":nP,Steak:class Rh extends De{name="Steak";equipmentClass="attack";tier=6;power=20;originalPower=20;uses=1;originalUses=1},Melon:to,Coconut:Qr,Peanut:eh,"Peanut Butter":ti,"Cake Slice":class xP extends De{name="Cake Slice";equipmentClass="shop";tier=1},Blackberry:Nm,Croissant:class Nh extends De{name="Croissant";tier=3;equipmentClass="shop";constructor(){super()}},Rice:Fh,Eucalyptus:Oh,Lime:class Do extends De{equipmentClass="defense";name="Lime";tier=2;power=1;originalPower=1;callback=e=>{}},Salt:ih,Lemon:class rC extends De{equipmentClass="shield";name="Lemon";tier=5;power=7;originalPower=7;uses=2;originalUses=2},Cucumber:class lP extends De{name="Cucumber";equipmentClass="shop"},Cheese:il,Grapes:class cP extends De{name="Grapes";equipmentClass="shop"},Pepper:Hc,Carrot:class uP extends De{name="Carrot";equipmentClass="shop"},Cherry:class hR extends De{name="Cherry";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new Uf(e,t))}},"Bok Choy":class Wf extends De{name="Bok Choy";equipmentClass="shop";tier=2},Potato:class hP extends De{name="Potato";equipmentClass="shield-snipe";power=10;uses=2;originalUses=2;originalPower=10},Unagi:class SC extends De{name="Unagi";equipmentClass="startOfBattle";hasRandomEvents=!0;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new PC(e,t))};constructor(){super()}},Corncob:vs,"Fortune Cookie":Om,Blueberry:zf,Donut:class kC extends De{name="Donut";equipmentClass="target";constructor(){super()}},Pumpkin:class TC extends De{name="Pumpkin";equipmentClass="shop";tier=1},Kiwifruit:class gR extends De{name="Kiwifruit";equipmentClass="shop";tier=2},Pineapple:class CC extends De{name="Pineapple";equipmentClass="attack-snipe";power=2;uses=3;originalUses=3;constructor(){super()}},Guava:nh,"Brussels Sprout":class EC extends De{name="Brussels Sprout";equipmentClass="shield";power=5;originalPower=5;uses=1;originalUses=1},Cauliflower:class xC extends De{name="Cauliflower";equipmentClass="shop";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new DC(e,t))}},Churros:class Hh extends De{name="Churros";equipmentClass="shop"},Kiwano:class MC extends De{name="Kiwano";equipmentClass="shop"},Macaron:class IC extends De{name="Macaron";equipmentClass="shop"},"Melon Slice":qh,"Oyster Mushroom":class RC extends De{name="Oyster Mushroom";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new LC(e,t))}},"Sardinian Currant":class yP extends De{name="Sardinian Currant";equipmentClass="shop"},Sausage:class bP extends De{name="Sausage";equipmentClass="shop"},Walnut:ml,"Honeydew Melon":jc,"Maple Syrup":wo,"White Okra":Fm,Ambrosia:rS,"Magic Beans":class Jf extends De{name="Magic Beans";equipmentClass="shop";constructor(){super()}}},vR={Cake:class tC extends De{logService;name="Cake";equipmentClass="shop";tier=3;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new iP(e,t,this.logService))};constructor(e){super(),this.logService=e}},Egg:aP,Squash:class du extends De{logService;name="Squash";tier=3;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new jf(e,t,this.logService))};constructor(e){super(),this.logService=e}},Pie:class vl extends De{logService;name="Pie";tier=4;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new Bh(e,t,this.logService))};constructor(e){super(),this.logService=e}},Skewer:ys,Pancakes:class oP extends De{logService;name="Pancakes";tier=6;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new aC(e,t,this.logService))};constructor(e){super(),this.logService=e}},Strawberry:Gc,Baguette:class oC extends De{logService;name="Baguette";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new sC(e,t,this.logService))};constructor(e){super(),this.logService=e}},Eggplant:class pC extends De{logService;name="Eggplant";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new gC(e,t,this.logService))};constructor(e){super(),this.logService=e}},Onion:sa,"Pita Bread":class hu extends De{logService;name="Pita Bread";tier=6;power=0;equipmentClass="hurt";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new Oi(e,t,this.logService))};constructor(e){super(),this.logService=e}},Tomato:class bs extends De{logService;name="Tomato";tier=6;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new $h(e,t))};constructor(e){super(),this.logService=e}},Durian:class Jr extends De{logService;name="Durian";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new pP(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Sudduth Tomato":class yC extends De{logService;name="Sudduth Tomato";equipmentClass="hurt";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new mP(e,t,this.logService))};constructor(e){super(),this.logService=e}},Fig:class io extends De{logService;name="Fig";equipmentClass="beforeAttack";hasRandomEvents=!0;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new gP(e,t))};constructor(e){super(),this.logService=e}},"Cashew Nut":class _C extends De{logService;name="Cashew Nut";tier=1;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new pR(e,t))};constructor(e){super(),this.logService=e}},Nachos:class fP extends De{logService;name="Nachos";tier=1;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new wC(e,t,this.logService))};constructor(e){super(),this.logService=e}},Caramel:class dC extends De{logService;name="Caramel";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new hC(e,t,this.logService))};constructor(e){super(),this.logService=e}},Rambutan:pu,"Love Potion":class OC extends De{logService;name="Love Potion";equipmentClass="beforeStartOfBattle";tier=5;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new AP(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Fairy Dust":class Yf extends De{logService;name="Fairy Dust";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new SP(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Gingerbread Man":class PP extends De{logService;name="Gingerbread Man";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new BC(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Health Potion":class Qf extends De{logService;name="Health Potion";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _P(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Golden Egg":class Zf extends De{logService;name="Golden Egg";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new $C(e,t))};constructor(e){super(),this.logService=e}},"White Truffle":th},MP={Honey:rP,Chili:Sf,"Chocolate Cake":class dP extends De{logService;abilityService;name="Chocolate Cake";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new Kf(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Cod Roe":class Gh extends De{logService;abilityService;name="Cod Roe";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new fC(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},Banana:class mC extends De{logService;abilityService;name="Banana";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new xa(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Gros Michel Banana":class bC extends De{logService;abilityService;name="Gros Michel Banana";equipmentClass="beforeAttack";callback=e=>{e.addAbility(new vC(e,this,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Easter Egg":class mR extends De{logService;abilityService;name="Easter Egg";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new Xf(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Yggdrasil Fruit":class ty extends De{logService;abilityService;name="Yggdrasil Fruit";equipmentClass="afterFaint";callback=e=>{e.addAbility(new iy(e,this,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Mild Chili":sP},AR={Cold:ny,Crisp:ur,Dazed:Zd,Icky:Qa,Inked:Ia,Toasty:Lm,Spooked:Da,Weak:Ma,Silly:Uh,Bloated:class fR extends De{name="Bloated";equipmentClass="ailment-other"},Confused:class yR extends De{name="Confused";equipmentClass="ailment-other";callback=e=>{e.addAbility(new bR(e))}},Cursed:ry,Sad:class gu extends De{name="Sad";equipmentClass="ailment-other"},Sleepy:qc,Webbed:class HC extends De{name="Webbed";equipmentClass="ailment-other";callback=e=>{e.addAbility(new ay(e))}}},SR={Mushroom:o=>new qf(o.logService,o.petService),Popcorn:o=>new Vf(o.logService,o.petService,o.gameService),Seaweed:o=>new cC(o.logService,o.abilityService,o.petService),"Cocoa Bean":o=>new no(o.logService,o.petService),"Faint Bread":o=>new CP(o.logService,o.petService),Radish:o=>new NC(o.logService)},jC={Tasty:o=>new Vh(o.logService)},mu=JSON.parse('[{"Ability":"Give one pet +1 attack and +1 health.","Id":"0","Name":"Apple","NameId":"Apple","Tier":1,"Packs":["Pack1","Pack2","Pack4"],"PacksRequired":["Pack1","Pack2","Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Increase sell value of one pet by 1 gold.","Id":"117","Name":"Asparagus","NameId":"Asparagus","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack.","Id":"2","Name":"Bacon","NameId":"Bacon","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health.","Id":"135","Name":"Best Apple","NameId":"Apple3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +6 health.","Id":"103","Name":"Best Milk","NameId":"Milk3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health.","Id":"134","Name":"Better Apple","NameId":"Apple2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +4 health.","Id":"102","Name":"Better Milk","NameId":"Milk2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Blueberry perk.","Id":"7","Name":"Blueberry","NameId":"BlueBerries","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Prioritize this for enemy random abilities.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +1 attack.","Id":"139","Name":"Bread Crumbs","NameId":"BreadCrumbs","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health until next turn.","Id":"213","Name":"Cake Slice","NameId":"BirthdayCakeSlice","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one tier 1-3 ailment to stock. Always on sale!","Id":"225","Name":"Canned Ailment","NameId":"CannedAilment","Tier":1,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Spooked without triggering abilities.","Id":"216","Name":"Canned Spooky","NameId":"CannedScared","Tier":1,"Packs":[],"PacksRequired":[],"PerkNote":"Take +1 damage.","CustomArchetypes":[]},{"Ability":"Make one pet Toasty without triggering abilities.","Id":"223","Name":"Canned Toasty","NameId":"CannedToasty","Tier":1,"Packs":[],"PacksRequired":[],"PerkNote":"Anyone attacks: Take 1 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cashew Nut perk.","Id":"173","Name":"Cashew Nut","NameId":"CashewNut","Tier":1,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before battle: Deal 1 damage to the second nearest pet ahead. Double against enemies.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health until next turn.","Id":"27","Name":"Cookie","NameId":"Cookie","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +1 to lowest stat.","Id":"28","Name":"Corncob","NameId":"Corn","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Ability":"Give one pet the Egg perk.","Id":"33","Name":"Egg","NameId":"Egg","Tier":1,"Packs":["Pack2","Pack4"],"PacksRequired":["Pack2","Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 2 damage to target, once.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Ferret toy.","Id":"234","Name":"Ferret Present","NameId":"FerretGift1","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Ferret toy.","Id":"235","Name":"Ferret Present","NameId":"FerretGift2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Ferret toy.","Id":"236","Name":"Ferret Present","NameId":"FerretGift3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 to their lowest stat.","Id":"191","Name":"Fresh Water","NameId":"FreshWater","Tier":1,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Golden Egg perk.","Id":"148","Name":"Golden Egg","NameId":"GoldenEgg","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"PerkNote":"Before attack: Deal 6 damage to target, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Gros Michel Banana perk.","Id":"192","Name":"Gros Michel Banana","NameId":"GrosMichelBanana","Tier":1,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Before attack: Transform into an Ant.","CustomArchetypes":[]},{"Ability":"Give one pet the Health Potion perk.","Id":"150","Name":"Health Potion","NameId":"HealthPotion","Tier":1,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Give the front-most friendly pet +2 health.","CustomArchetypes":[]},{"Ability":"Transform one Bad Dog into Good Dog, or give +4 attack and +4 health.","Id":"151","Name":"Holy Water","NameId":"HolyWater","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Ability":"Give one pet the Honey perk.","Id":"40","Name":"Honey","NameId":"Honey","Tier":1,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Faint: Summon one 1/1 Bee.","CustomArchetypes":[]},{"Ability":"Give one pet the Macaron perk.","Id":"128","Name":"Macaron","NameId":"Macaron","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Activate ability after other pets with the same trigger.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +2 health.","Id":"49","Name":"Milk","NameId":"Milk","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Nachos perk.","Id":"136","Name":"Nachos","NameId":"Nachos","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before attack: Convert up to 3 health into attack.","CustomArchetypes":[]},{"Ability":"Give one pet +2 health.","Id":"64","Name":"Peach","NameId":"Plumb","Tier":1,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack on odd turns and +2 health on even turns.","Id":"119","Name":"Pumpkin","NameId":"Pumpkin","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +1 health.","Id":"210","Name":"Seed Pile","NameId":"SeedPile","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Strawberry perk.","Id":"81","Name":"Strawberry","NameId":"Strawberry","Tier":1,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Unagi perk.","Id":"196","Name":"Unagi","NameId":"Unagi","Tier":1,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Start of battle: Deal 2 damage to a random enemy.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Walnut perk.","Id":"174","Name":"Walnut","NameId":"Walnut","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":[]},{"Ability":"Choose ANY perk food from the current tier to stock at 1 gold.","Id":"208","Name":"Antarctic Krill","NameId":"AntarcticKrill","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Bok Choy perk.","Id":"176","Name":"Bok Choy","NameId":"BokChoy","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Gain +3 health when this would faint, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 health and remove 1 attack.","Id":"11","Name":"Broccoli","NameId":"Broccoli","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Cold without triggering abilities.","Id":"219","Name":"Canned Cold","NameId":"CannedFrozen","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Take +5 damage, once.","CustomArchetypes":[]},{"Ability":"Make one pet Inked without triggering abilities.","Id":"220","Name":"Canned Ink","NameId":"CannedInk","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":[]},{"Ability":"Make one pet Weak without triggering abilities.","Id":"214","Name":"Canned Weak","NameId":"CannedWeak","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Caramel perk.","Id":"124","Name":"Caramel","NameId":"Caramel","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Combine friendly Caramels to deal 3 damage each to the most healthy enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cherry perk.","Id":"20","Name":"Cherries","NameId":"Cherries","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before battle: Gain 2 trumpets and remove perk.","CustomArchetypes":[]},{"Ability":"Give one pet the Chocolate Cake perk.","Id":"24","Name":"Chocolate Cake","NameId":"ChocolateCake","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Gain +3 experience and faint.","CustomArchetypes":[]},{"Ability":"Give one pet the Churros perk.","Id":"126","Name":"Churros","NameId":"Churros","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Activate ability before other pets with the same trigger.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +1 health. Triple on every third Cloudberry.","Id":"185","Name":"Cloudberry","NameId":"Cloudberries","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cod Roe perk.","Id":"207","Name":"Cod Roe","NameId":"CodRoe","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Faint: Summon one 2/3 Fish.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health until next turn.","Id":"50","Name":"Cupcake","NameId":"Muffin","Tier":2,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Eucalyptus perk.","Id":"167","Name":"Eucalyptus","NameId":"Eucalyptus","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Faint Bread perk.","Id":"140","Name":"Faint Bread","NameId":"DeadBread","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon ANY one tier 1 <b>Faint</b> pet.","CustomArchetypes":[]},{"Ability":"Give one pet the Fairy Dust perk.","Id":"144","Name":"Fairy Dust","NameId":"FairyDust","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Empty front space: Jump to the front and gain +2 mana, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and remove 1 health.","Id":"100","Name":"Fried Shrimp","NameId":"FriedShrimp","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Gain 2 free rolls next turn.","Id":"45","Name":"Kiwifruit","NameId":"Kiwi","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Choose one level 1 Lemur toy.","Id":"249","Name":"Lemur Present","NameId":"LemurGift1","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Lemur toy.","Id":"250","Name":"Lemur Present","NameId":"LemurGift2","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Lemur toy.","Id":"251","Name":"Lemur Present","NameId":"LemurGift3","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Lime perk.","Id":"170","Name":"Lime","NameId":"Lime","Tier":2,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Takes 1 less damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Meat Bone perk.","Id":"9","Name":"Meat Bone","NameId":"MeatBone","Tier":2,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack with +3 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Radish perk.","Id":"122","Name":"Radish","NameId":"Radish","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before battle: Gain ANY useful perk from the pet\'s tier.","CustomArchetypes":[]},{"Ability":"Give one pet the Rice perk.","Id":"70","Name":"Rice","NameId":"RiceBall","Tier":2,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":[]},{"Ability":"Make one pet faint. Always on sale!","Id":"92","Name":"Sleeping Pill","NameId":"Pill","Tier":2,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sudduth Tomato perk.","Id":"195","Name":"Sudduth Tomato","NameId":"SudduthTomato","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Hurt: If still standing, gain permanent +1 health, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and Weak.","Id":"159","Name":"Wall Chicken","NameId":"WallChicken","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Gain +3 gold on next turn.","Id":"1","Name":"Avocado","NameId":"Avocado","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Blackberry perk.","Id":"172","Name":"Blackberry","NameId":"Blackberry","Tier":3,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Gain +1 attack and +2 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Brussels Sprout perk.","Id":"118","Name":"Brussels Sprout","NameId":"BrusselsSprout","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block being pushed or 5 damage, once.","CustomArchetypes":[]},{"Ability":"Give future shop pets from the next tier permanent +1 attack and +1 health.","Id":"12","Name":"Bubble Tea","NameId":"BubbleTea","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cake perk.","Id":"6","Name":"Cake","NameId":"BirthdayCake","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"End turn: Increase sell value by 1 gold.","CustomArchetypes":[]},{"Ability":"Make one pet Confused without triggering abilities.","Id":"231","Name":"Canned Confusion","NameId":"CannedConfused","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Before attack: Transform into a pet from one tier below, once.","CustomArchetypes":[]},{"Ability":"Make one pet Silly without triggering abilities.","Id":"217","Name":"Canned Silly","NameId":"CannedSilly","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Ability has random targets in battle.","CustomArchetypes":[],"Random":true},{"Ability":"Make one pet Webbed without triggering abilities.","Id":"228","Name":"Canned Web","NameId":"CannedWeb","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Summon one 2/2 Spider up front for the opponent.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack.","Id":"201","Name":"Carrot Parisier","NameId":"CarrotParisier","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Croissant perk.","Id":"29","Name":"Croissant","NameId":"Croissant","Tier":3,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"PerkNote":"End turn: Gain +1 attack.","CustomArchetypes":[]},{"Ability":"Give one pet the Cucumber perk.","Id":"97","Name":"Cucumber","NameId":"Cucumber","Tier":3,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"End turn: Gain +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Fig perk.","Id":"109","Name":"Fig","NameId":"Fig","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 4 damage to the lowest health enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Garlic perk.","Id":"38","Name":"Garlic","NameId":"Garlic","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Takes 2 less damage.","PerkFinePrint":"Damage can\'t be reduced to less than 2.","CustomArchetypes":[]},{"Ability":"Give one pet +3 health.","Id":"211","Name":"Geechee Red Pea","NameId":"GeecheeRedPea","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one level 1 Gharial toy.","Id":"237","Name":"Gharial Present","NameId":"GharialGift1","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Gharial toy.","Id":"238","Name":"Gharial Present","NameId":"GharialGift2","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Gharial toy.","Id":"239","Name":"Gharial Present","NameId":"GharialGift3","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Gingerbread Man perk.","Id":"147","Name":"Gingerbread Man","NameId":"GingerbreadMan","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Gain +1 experience.","CustomArchetypes":[]},{"Ability":"Give one pet the Guava perk.","Id":"112","Name":"Guava","NameId":"Guava","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Block 3 damage, and attack for +3 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 to their lowest stat.","Id":"153","Name":"Just-Right Porridge","NameId":"JustRightPorridge","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give three pets from the current shop tier or higher +1 attack and +1 health.","Id":"72","Name":"Lettuce","NameId":"Salad","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Swap Attack and Health of a pet. Always on sale!","Id":"48","Name":"Lollipop","NameId":"Lollipop","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pineapple perk.","Id":"61","Name":"Pineapple","NameId":"Pineapple","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Ability deals +2 damage, thrice.","CustomArchetypes":[]},{"Ability":"Give one pet the Rambutan perk.","Id":"110","Name":"Rambutan","NameId":"Rambutan","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Before attack: Gain +3 mana.","CustomArchetypes":[]},{"Ability":"Replace perk or ailment on one pet with +2 attack and +2 health.","Id":"179","Name":"Ravioli","NameId":"Ravioli","Tier":3,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give two random pets +1 attack and +1 health.","Id":"73","Name":"Salad Bowl","NameId":"SaladBowl","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Balance out attack and health. Always on sale!","Id":"75","Name":"Sandwich","NameId":"Sandwich","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sausage perk.","Id":"114","Name":"Sausage","NameId":"Sausage","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Start of turn: Gain one free roll.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Seaweed perk.","Id":"184","Name":"Seaweed","NameId":"Seaweed","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Transform into a Baby Urchin.","CustomArchetypes":[]},{"Ability":"Give one pet the Squash perk.","Id":"121","Name":"Squash","NameId":"Squash","Tier":3,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before attack: Remove 6 health from target, once.","CustomArchetypes":[]},{"Ability":"Transform one pet into another from the same tier and with ANY tier 3 perk.","Id":"161","Name":"Water of Youth","NameId":"YouthWater","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the White Truffle perk.","Id":"198","Name":"White Truffle","NameId":"WhiteTruffle","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Friend faints: Gain +4 attack and jump-attack the highest attack enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Ambrosia perk.","Id":"138","Name":"Ambrosia","NameId":"Ambrosia","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Block ailment or 8 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Baguette perk.","Id":"3","Name":"Baguette","NameId":"Baguette","Tier":4,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Remove the front-most enemy perk, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Banana perk.","Id":"4","Name":"Banana","NameId":"Banana","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Faint: Summon one 4/4 Monkey.","CustomArchetypes":[]},{"Ability":"Make one pet Bloated without triggering abilities.","Id":"229","Name":"Canned Bloat","NameId":"CannedBloated","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Can\'t gain perk, once.","CustomArchetypes":[]},{"Ability":"Make one pet Crisp without triggering abilities.","Id":"224","Name":"Canned Burn","NameId":"CannedBurn","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":[]},{"Ability":"Give all current and future shop pets +1 attack and +1 health.","Id":"16","Name":"Canned Food","NameId":"CannedFood","Tier":4,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Tasty without triggering abilities.","Id":"222","Name":"Canned Tasty","NameId":"CannedTasty","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Give one random enemy permanent +2 attack and +2 health.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Cauliflower perk.","Id":"137","Name":"Cauliflower","NameId":"Cauliflower","Tier":4,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Knock out: If still standing, gain permanent +1 attack and +1 health, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cheese perk.","Id":"19","Name":"Cheese","NameId":"Cheese","Tier":4,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Attack with at least 15 attack, once.","CustomArchetypes":[]},{"Ability":"Transform one pet into another of the same tier and give two other +1 attack and +1 health.","Id":"189","Name":"Chickpea","NameId":"Chickpea","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Donut perk.","Id":"31","Name":"Donut","NameId":"Doughnut","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Prioritize this for friendly random abilities.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +3 health. Also convert 2 attack into health.","Id":"141","Name":"Drink-Me Liquid","NameId":"DrinkMeLiquid","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack. Also convert 2 health into attack.","Id":"143","Name":"Eat-Me Cake","NameId":"EatMeCake","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Fortune Cookie perk.","Id":"35","Name":"Fortune Cookie","NameId":"FortuneCookie","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Attack has 50% chance to deal double damage.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Grapes perk.","Id":"39","Name":"Grapes","NameId":"Grapes","Tier":4,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Start of turn: Gain +1 gold.","CustomArchetypes":[]},{"Ability":"Give one pet the Maple Syrup perk.","Id":"194","Name":"Maple Syrup","NameId":"MapleSyrup","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Attack for 50% damage and block 50% damage, thrice.","CustomArchetypes":[]},{"Ability":"Give one pet the Melon Slice perk.","Id":"87","Name":"Melon Slice","NameId":"WaterMelon","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Block 10 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Mild Chili perk.","Id":"232","Name":"Mild Chili","NameId":"MildChili","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Attack second enemy for 4 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Onion perk.","Id":"53","Name":"Onion","NameId":"Onion","Tier":4,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Move to the back, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Oyster Mushroom perk.","Id":"183","Name":"Oyster Mushroom","NameId":"OysterMushroom","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before attack: Set attack and health to at least 9, once.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health.","Id":"58","Name":"Pear","NameId":"Pear","Tier":4,"Packs":["Pack1","Pack3"],"PacksRequired":["Pack1","Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pie perk.","Id":"60","Name":"Pie","NameId":"Pie","Tier":4,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before battle: Gain +4 attack and +3 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Potato perk.","Id":"66","Name":"Potato","NameId":"Potato","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 10 damage from abilities and perks, twice.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Puppy toy.","Id":"240","Name":"Puppy Present","NameId":"PuppyGift1","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Puppy toy.","Id":"241","Name":"Puppy Present","NameId":"PuppyGift2","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Puppy toy.","Id":"242","Name":"Puppy Present","NameId":"PuppyGift3","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Salt perk.","Id":"74","Name":"Salt","NameId":"Salt","Tier":4,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack for double damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +1 health. Triple if you have 1 life left.","Id":"78","Name":"Soup","NameId":"Soup","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one tier 4-6 ailment to stock. Always on sale!","Id":"226","Name":"Stronger Canned Ailment","NameId":"CannedAilment2","Tier":4,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give the two left-most shop pets +2 attack and +3 health.","Id":"197","Name":"Vanilla Bean","NameId":"VanillaBean","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Activate buy ability or give +3 health.","Id":"86","Name":"Waffle","NameId":"Waffle","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 experience.","Id":"105","Name":"Best Chocolate","NameId":"Chocolate3","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 experience.","Id":"104","Name":"Better Chocolate","NameId":"Chocolate2","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +6 mana.","Id":"202","Name":"Big Mana Potion","NameId":"ManaPotion2","Tier":5,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Dazed without triggering abilities.","Id":"218","Name":"Canned Dazed","NameId":"CannedDeaf","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Prevent ability from activating.","CustomArchetypes":[]},{"Ability":"Make one pet Sleepy without triggering abilities.","Id":"221","Name":"Canned Sleepy","NameId":"CannedDrowsy","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Attack with half damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Carrot perk.","Id":"17","Name":"Carrot","NameId":"Carrot","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"End turn: Gain +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Chili perk.","Id":"22","Name":"Chili","NameId":"Chili","Tier":5,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack second enemy for 5 damage.","CustomArchetypes":[]},{"Ability":"Give one pet +1 experience.","Id":"23","Name":"Chocolate","NameId":"Chocolate","Tier":5,"Packs":["Pack1","Pack2","Pack3","Pack4","Pack5","Danger"],"PacksRequired":["Pack1","Pack2","Pack3","Pack4","Pack5","Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cocoa Bean perk.","Id":"190","Name":"Cocoa Bean","NameId":"CocoaBean","Tier":5,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Before attack: Transform into an exact copy of a random enemy, once.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +3 attack and +2 health.","Id":"123","Name":"Cotton Candy","NameId":"CottonCandy","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Durian perk.","Id":"113","Name":"Durian","NameId":"Durian","Tier":5,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Reduce the most healthy enemy by 33% health, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Easter Egg perk.","Id":"142","Name":"Easter Egg","NameId":"EasterEgg","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon one 3/3 Bunny that attacks for double damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Eggplant perk.","Id":"34","Name":"Eggplant","NameId":"EggPlant","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before battle: Push opposite enemy 1 space forward.","CustomArchetypes":[]},{"Ability":"Replace each shop item with something from 1 tier higher than it.","Id":"129","Name":"Flodebolle","NameId":"Flodeboller","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Honeydew Melon perk.","Id":"193","Name":"Honeydew Melon","NameId":"HoneydewMelon","Tier":5,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 10 damage, and attack for +5 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Kiwano perk.","Id":"181","Name":"Kiwano","NameId":"Kiwano","Tier":5,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Ability deals +8 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +3 health.","Id":"125","Name":"Lasagna","NameId":"Lasagne","Tier":5,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Lemon perk.","Id":"47","Name":"Lemon","NameId":"Lemon","Tier":5,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Block 7 damage, twice.","CustomArchetypes":[]},{"Ability":"Give one pet the Love Potion perk.","Id":"155","Name":"Love Potion","NameId":"LovePotion","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Summon one 5/5 pet like this.","CustomArchetypes":[]},{"Ability":"Give one pet the Magic Beans perk.","Id":"156","Name":"Magic Beans","NameId":"MagicBeans","Tier":5,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Start of turn: Gain the Golden Egg perk and increase sell value by 4 gold.","CustomArchetypes":[]},{"Ability":"Give one pet +5 to its lowest stat.","Id":"209","Name":"Oblonot","NameId":"Oblonot","Tier":5,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pepper perk.","Id":"59","Name":"Pepper","NameId":"Pepper","Tier":5,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Health does not go under 1. Removed after taking damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Skewer perk.","Id":"76","Name":"Skewer","NameId":"Skewer","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Attack second and third enemy for 3 damage.","CustomArchetypes":[]},{"Ability":"Give three random pets +2 health.","Id":"80","Name":"Stew","NameId":"Stew","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Choose one level 1 Sting Ray toy.","Id":"246","Name":"Sting Ray Present","NameId":"StingRayGift1","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Sting Ray toy.","Id":"247","Name":"Sting Ray Present","NameId":"StingRayGift2","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Sting Ray toy.","Id":"248","Name":"Sting Ray Present","NameId":"StingRayGift3","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet Strawberry. Always on sale!","Id":"168","Name":"Strawberry Jam","NameId":"StrawberryJar","Tier":5,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give three random pets +1 attack and +1 health.","Id":"82","Name":"Sushi","NameId":"Sushi","Tier":5,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give three random pets +2 attack.","Id":"84","Name":"Taco","NameId":"Taco","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Stock one 2-gold copy of the last non-Tofu food bought this turn.","Id":"187","Name":"Tofu","NameId":"Tofu","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Cursed without triggering abilities.","Id":"230","Name":"Canned Curse","NameId":"CannedCurse","Tier":6,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Make one random friend Cursed.","CustomArchetypes":[],"Random":true},{"Ability":"Make one pet Icky without triggering abilities.","Id":"215","Name":"Canned Icky","NameId":"CannedAcid","Tier":6,"Packs":[],"PacksRequired":[],"PerkNote":"Take double damage, twice.","CustomArchetypes":[]},{"Ability":"Give one pet +6 health.","Id":"120","Name":"Celery","NameId":"Celery","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health.","Id":"21","Name":"Chicken Leg","NameId":"ChickenLeg","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Activate one pet\'s ability.","Id":"206","Name":"Coffee Bean","NameId":"CoffeeBean","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"CustomArchetypes":[]},{"Ability":"Choose one free tier 6 food to stock from ALL packs.","Id":"166","Name":"Cornucopia","NameId":"Cornucopia","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give two random pets +4 attack.","Id":"41","Name":"Hot Dog","NameId":"HotDog","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Stock one 2-gold Melon and one 2-gold Steak.","Id":"106","Name":"Judean Date","NameId":"Date","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Transform one pet into another from one higher tier.","Id":"154","Name":"Konpeito","NameId":"Kompeito","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Ability":"Give one pet the Melon perk.","Id":"96","Name":"Melon","NameId":"Melon","Tier":6,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Mongoose toy.","Id":"243","Name":"Mongoose Present","NameId":"MongooseGift1","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Mongoose toy.","Id":"244","Name":"Mongoose Present","NameId":"MongooseGift2","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Mongoose toy.","Id":"245","Name":"Mongoose Present","NameId":"MongooseGift3","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Mushroom perk.","Id":"51","Name":"Mushroom","NameId":"Mushroom","Tier":6,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Faint: Come back as a 1/1.","CustomArchetypes":["Mvp"]},{"Ability":"Give two random pets +4 health.","Id":"54","Name":"Orange","NameId":"Orange","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Pancakes perk.","Id":"55","Name":"Pancakes","NameId":"Pancakes","Tier":6,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before battle: Give friends +2 attack and +2 health.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health. Upgrade future peaches to give +1 more attack and health.","Id":"152","Name":"Peach of Immortality","NameId":"ImmortalPeach","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pita Bread perk.","Id":"62","Name":"Pita Bread","NameId":"PitaBread","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Hurt: Gain +15 health, once.","CustomArchetypes":[]},{"Ability":"Give two random pets +2 attack and +2 health.","Id":"63","Name":"Pizza","NameId":"Pizza","Tier":6,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Popcorn perk.","Id":"65","Name":"Popcorn","NameId":"Popcorn","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Summon one random pet from the same tier.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +2 attack and +2 health. Double if all pets are tier 4 or higher.","Id":"67","Name":"Pretzel","NameId":"Pretzel","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"If pack has no pets/food from the tab, give tier 5 and 6 perks to one pet and the friends ahead of it.","Id":"158","Name":"Rainbow Jelly","NameId":"RainbowJelly","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sardinian Currant perk.","Id":"200","Name":"Sardinian Currant","NameId":"SardinianCurrant","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Start of turn: Gain +2 gold.","CustomArchetypes":[]},{"Ability":"Give all pets +1 attack.","Id":"77","Name":"Soft Ice","NameId":"SoftIce","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one tier 5-6 perk food to stock for free from ANY pack.","Id":"171","Name":"Starfruit","NameId":"Starfruit","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Steak perk.","Id":"79","Name":"Steak","NameId":"Steak","Tier":6,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"PerkNote":"Attack with +20 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Tomato perk.","Id":"85","Name":"Tomato","NameId":"Tomato","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 10 damage to the last enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the White Okra perk.","Id":"199","Name":"White Okra","NameId":"WhiteOkra","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 10 damage twice or ailment once.","CustomArchetypes":[]},{"Ability":"Give one pet the Yggdrasil Fruit perk.","Id":"160","Name":"Yggdrasil Fruit","NameId":"YggdrasilFruit","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon two 5/5 Nordic Goats.","CustomArchetypes":[]},{"Ability":"Give one pet the Coconut perk.","Id":"26","Name":"Coconut","NameId":"Coconut","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Peanut perk.","Id":"57","Name":"Peanut","NameId":"Peanut","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":[]},{"Ability":"Give one pet the Peanut Butter perk.","Id":"204","Name":"Peanut Butter","NameId":"PeanutButter","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":[]}]');var Al=B.t(mu,2);const oy=new Map([["Blueberry",1],["Golden Egg",1],["Gros Michel Banana",1],["Health Potion",1],["Honey",1],["Macaron",1],["Unagi",1],["Caramel",2],["Cherry",2],["Chocolate Cake",2],["Churros",2],["Cod Roe",2],["Eucalyptus",2],["Faint Bread",2],["Fairy Dust",2],["Meat Bone",2],["Radish",2],["Sudduth Tomato",2],["Brussels Sprout",3],["Cucumber",3],["Fig",3],["Gingerbread Man",3],["Pineapple",3],["Rambutan",3],["Sausage",3],["Seaweed",3],["White Truffle",3],["Baguette",4],["Banana",4],["Cauliflower",4],["Cheese",4],["Donut",4],["Fortune Cookie",4],["Grapes",4],["Melon Slice",4],["Oyster Mushroom",4],["Potato",4],["Carrot",5],["Chili",5],["Durian",5],["Easter Egg",5],["Eggplant",5],["Kiwano",5],["Magic Beans",5],["Onion",4],["Pepper",5],["Mild Chili",4],["Popcorn",6],["Sardinian Currant",6],["Yggdrasil Fruit",6]]),IP=[{pattern:/^Start of turn:/i,trigger:"StartTurn"},{pattern:/^End turn:/i,trigger:"EndTurn"},{pattern:/^Before battle:/i,trigger:"BeforeStartBattle"},{pattern:/^Start of battle:/i,trigger:"StartBattle"},{pattern:/^Before attack:/i,trigger:"BeforeThisAttacks"},{pattern:/^Faint:/i,trigger:"Faint"},{pattern:/^Hurt:/i,trigger:"ThisHurt"},{pattern:/^Anyone attacks:/i,trigger:"AnyoneAttack"},{pattern:/^Empty front space:/i,trigger:"EmptyFrontSpace"},{pattern:/^Knock out:/i,trigger:"KnockOut"}],RP=new Map((sl??Za??[]).filter(o=>o?.Name).map(o=>{const t=[],i=(o.Ability??"").trim();for(const{pattern:n,trigger:s}of IP)n.test(i)&&!t.includes(s)&&t.push(s);return[o.Name,t]}));function fu(o,e){if(!o)return;const t=RP.get(e);t&&t.length&&(o.triggers=[...t])}let PR=(()=>{class o{logService;abilityService;gameService;randomEquipmentSet=new Set;constructor(t,i,n){this.logService=t,this.abilityService=i,this.gameService=n,this.initRandomEquipment()}initRandomEquipment(){const t=mu||Al;if(Array.isArray(t))for(const i of t)i.Random&&this.randomEquipmentSet.add(i.Name)}getAllEquipment(){const t=Nt.getInjector().get(xr),i=new Map,n={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService,petService:t};for(const[s,r]of Object.entries(qC)){const c=new r;this.randomEquipmentSet.has(s)&&(c.hasRandomEvents=!0),fu(c,s),i.set(s,c)}for(const[s,r]of Object.entries(vR)){const c=new r(this.logService);this.randomEquipmentSet.has(s)&&(c.hasRandomEvents=!0),fu(c,s),i.set(s,c)}for(const[s,r]of Object.entries(MP)){const c=new r(this.logService,this.abilityService);this.randomEquipmentSet.has(s)&&(c.hasRandomEvents=!0),fu(c,s),i.set(s,c)}for(const[s,r]of Object.entries(SR)){const c=r(n);this.randomEquipmentSet.has(s)&&(c.hasRandomEvents=!0),fu(c,s),i.set(s,c)}for(const[s,r]of i.entries())if(null==r?.tier){const c=oy.get(s);null!=c&&(r.tier=c)}return i}getAllAilments(){const t=new Map,i={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService,petService:null};for(const[n,s]of Object.entries(AR)){const r=new s;this.randomEquipmentSet.has(n)&&(r.hasRandomEvents=!0),fu(r,n),t.set(n,r)}for(const[n,s]of Object.entries(jC)){const r=s(i);this.randomEquipmentSet.has(n)&&(r.hasRandomEvents=!0),fu(r,n),t.set(n,r)}return t}static \u0275fac=function(i){return new(i||o)(w.KVO(nr),w.KVO(Ea),w.KVO(Fr))};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class pi{logService;abilityService;gameService;equipmentFactory;cachedEquipment=null;cachedAilments=null;constructor(e,t,i,n){this.logService=e,this.abilityService=t,this.gameService=i,this.equipmentFactory=n}getInstanceOfAllEquipment(){return this.cachedEquipment||(this.cachedEquipment=this.equipmentFactory.getAllEquipment()),this.cachedEquipment}getInstanceOfAllAilments(){return this.cachedAilments||(this.cachedAilments=this.equipmentFactory.getAllAilments()),this.cachedAilments}isEquipmentRandom(e){const t=this.getInstanceOfAllEquipment(),i=this.getInstanceOfAllAilments();return(t.get(e)?.hasRandomEvents??!1)||(i.get(e)?.hasRandomEvents??!1)}static USEFUL_PERKS=new Map([["Honey",1],["Strawberry",1],["Egg",1],["Cake Slice",1],["Cashew Nut",1],["Nachos",1],["Lime",2],["Meat Bone",2],["Cherry",2],["Bok Choy",2],["Kiwifruit",2],["Fairy Dust",2],["Garlic",3],["Gingerbread Man",3],["Fig",3],["Cucumber",3],["Croissant",3],["Squash",3],["Banana",4],["Love Potion",4],["Pie",4],["Grapes",4],["Cheese",4],["Cod Roe",4],["Salt",4],["Fortune Cookie",4],["Easter Egg",5],["Magic Beans",5],["Chili",5],["Lemon",5],["Durian",5],["Honeydew Melon",5],["Maple Syrup",5],["Cocoa Bean",5],["White Okra",5],["Popcorn",6],["Steak",6],["Pancakes",6],["Yggdrasil Fruit",6],["Melon",6],["Tomato",6],["Sudduth Tomato",6],["Pita Bread",6],["Seaweed",5],["Caramel",4],["Baguette",4]]);isUsefulPerk(e){return pi.USEFUL_PERKS.has(e)}getUsefulPerksByTier(e){const t=this.getInstanceOfAllEquipment(),i=[];for(const[n,s]of pi.USEFUL_PERKS.entries())s===e&&t.has(n)&&i.push(t.get(n));return i}getUsefulPerks(){const e=this.getInstanceOfAllEquipment(),t=[];for(const i of pi.USEFUL_PERKS.keys())e.has(i)&&t.push(e.get(i));return t}static \u0275fac=function(t){return new(t||pi)(w.KVO(nr),w.KVO(Ea),w.KVO(Fr),w.KVO(PR))};static \u0275prov=w.jDH({token:pi,factory:pi.\u0275fac,providedIn:"root"})}class ft{logService;toyService;name;parent;level;tier;used=!1;suppressFriendFaintLog=!1;triggers=0;constructor(e,t,i,n){this.logService=e,this.toyService=t,this.parent=i,this.level=n}}class LP extends _{logService;constructor(e,t){super({name:"BalloonAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,s=this.owner;let r=s.parent.getFurthestUpPets(this.level,[],s),c=r.pets;if(0!=c.length){for(let h of c)h.increaseAttack(1),h.increaseHealth(1),this.logService.createLog({message:`${s.name} gave ${h.name} 1 attack and 1 health.`,type:"ability",player:s.parent,tiger:n,randomEvent:r.random});this.triggerTigerExecution(e)}}copy(e){return new LP(e,this.logService)}}class Wh extends _{logService;constructor(e,t){super({name:"TennisBallAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!0,r),d=c.pets;if(0!=d.length){for(let h of d)r.snipePet(h,3,c.random,n);this.triggerTigerExecution(e)}}copy(e){return new Wh(e,this.logService)}}class WC extends ft{logService;toyService;petService;name="Stick";tier=1;constructor(e,t,i,n,s){super(e,t,i,n),this.logService=e,this.toyService=t,this.petService=s}startOfBattle(e,t){const i=this.parent.getMiddleFriend();if(i.pet&&i.pet.alive){const n=new ml;n.power=2*this.level,n.originalPower=n.power,i.pet.givePetEquipment(n),this.logService.createLog({message:`${this.name} gave Walnut to ${i.pet.name}`,type:"ability",player:this.parent,randomEvent:i.random})}}}class NP extends _{constructor(e,t){super({name:"StickAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilityFunction:i=>{const s=e.parent.getMiddleFriend(e);if(s.pet&&s.pet.alive){const r=new ml;r.power=2*this.abilityLevel,r.originalPower=r.power,s.pet.givePetEquipment(r),t.createLog({message:`${e.name} gave Walnut to ${s.pet.name} (Stick)`,type:"ability",player:e.parent,randomEvent:s.random})}}})}}class VP extends ft{logService;toyService;petService;name="Rubber Duck";tier=1;constructor(e,t,i,n,s){super(e,t,n,s),this.logService=e,this.toyService=t,this.petService=i}allEnemiesFainted(e,t){if(this.used)return;const i=this.parent.opponent,n=this.petService.createPet({name:"Duck",attack:50,health:1,exp:0,mana:0,equipment:null},i);n.toyPet=!0,i.summonPet(n,0).success&&(this.logService.createLog({message:`${this.name} summoned a 50/1 Duck for the enemy.`,type:"ability",player:this.parent,puma:t}),this.used=!0)}}class zh extends ft{logService;toyService;petService;name="Stuffed Bear";tier=1;faintCount=0;constructor(e,t,i,n,s){super(e,t,n,s),this.logService=e,this.toyService=t,this.petService=i}friendFaints(e,t,i,n){if(this.faintCount+=1,this.faintCount%3!=0)return;const s=this.parent.getLastPet();if(!s.pet)return;const r=s.pet,c=Pr(r.equipment),d=this.parent.opponent,h=this.petService.createPet({name:r.name,attack:r.attack,health:r.health,exp:r.exp??0,mana:r.mana??0,equipment:c},d);h.toyPet=!0,d.summonPet(h,0).success&&this.logService.createLog({message:`${this.name} summoned an enemy copy of ${r.name}.`,type:"ability",player:this.parent,puma:i})}}class zP extends _{logService;constructor(e,t){super({name:"RadioAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getAll(!1,r,!0),d=c.pets;if(0!=d.length){for(let h of d)h.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${h.name} ${this.level} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random});this.triggerTigerExecution(e)}}copy(e){return new zP(e,this.logService)}}class ly extends _{logService;constructor(e,t){super({name:"PlasticSawAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,s=this.owner;let r=s.parent.getPetsWithEquipment("Eucalyptus"),c=s.parent.getFurthestUpPets(this.level,r,s),d=c.pets;if(0!=d.length){for(let h of d)this.logService.createLog({message:`${s.name} gave ${h.name} Eucalyptus.`,type:"ability",player:s.parent,tiger:n,randomEvent:c.random}),h.givePetEquipment(new Oh);this.triggerTigerExecution(e)}}copy(e){return new ly(e,this.logService)}}class uy extends _{logService;constructor(e,t){super({name:"ToiletPaperAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent,d=r.parent.getPetsWithEquipmentWithSillyFallback("Weak",r),h=c.getFurthestUpPets(this.level,d,r),v=h.pets;if(0!=v.length){for(let E of v)E.givePetEquipment(new Ma),this.logService.createLog({message:`${r.name} gave ${E.name} Weak.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random});this.triggerTigerExecution(e)}}copy(e){return new uy(e,this.logService)}}class yu extends _{logService;constructor(e,t){super({name:"OvenMittsAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){}copy(e){return new yu(e,this.logService)}}class dy extends _{logService;constructor(e,t){super({name:"MelonHelmetAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getPetsWithEquipment("Melon"),d=r.parent.getFurthestUpPets(this.level,c,r),h=d.pets;for(let v of h)v.givePetEquipment(new to),this.logService.createLog({message:`${r.name} gave ${v.name} Melon.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random});this.triggerTigerExecution(e)}copy(e){return new dy(e,this.logService)}}class Yh extends _{logService;constructor(e,t){super({name:"FoamSwordAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent;for(let d=0;d<this.level;d++){let h=c.getLowestHealthPet();r.snipePet(h.pet,5,h.random,n)}this.triggerTigerExecution(e)}copy(e){return new Yh(e,this.logService)}}class ro extends _{logService;constructor(e,t){super({name:"ToyGunAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent;for(let d=0;d<this.level;d++){let h=c.getLastPet();if(null==h.pet)return;r.snipePet(h.pet,5,h.random,n)}this.triggerTigerExecution(e)}copy(e){return new ro(e,this.logService)}}class py extends _{constructor(e,t){super({name:"CashRegisterAbility",triggers:[],owner:e,abilityType:"Pet",abilityFunction:i=>{}})}}class QP extends _{constructor(e,t){super({name:"CameraAbility",triggers:["StartBattle"],owner:e,abilityType:"Pet",abilityFunction:i=>{const{gameApi:n,puma:s}=i;let r=Qi(n,e.parent);for(let c=0;c<this.abilityLevel;c++){let d=r.getHighestAttackPet(),h=d.pet;if(null==h)return;let v=.3,E=Math.max(1,Math.floor(h.attack*(1-v)));h.attack=E,t.createLog({message:`${e.name} reduced ${h.name} attack by ${100*v}% (${E}) (Camera)`,type:"ability",player:e.parent,puma:s,randomEvent:d.random})}}})}}class JP extends _{logService;constructor(e,t){super({name:"FlashlightAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=5*this.level,d=r.parent.getFurthestUpPet(r),h=d.pet;null!=h&&(h.increaseAttack(c),h.increaseHealth(c),this.logService.createLog({message:`Flashlight Ability gave ${h.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new JP(e,this.logService)}}class Sl extends _{logService;constructor(e,t){super({name:"StinkySockAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let d=r.parent.opponent.getHighestHealthPets(this.level,[],r),h=d.pets;if(0!=h.length){for(let v of h){let E=.4,q=Math.max(1,Math.floor(v.health*(1-E)));v.health=q,this.logService.createLog({message:`${r.name} reduced ${v.name} health by ${100*E}% (${q})`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.random})}this.triggerTigerExecution(e)}}copy(e){return new Sl(e,this.logService)}}class mi extends _{logService;constructor(e,t){super({name:"TelevisionAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=2*this.level,d=r.parent.getAll(!1,r,!0),h=d.pets;if(0!=h.length){for(let v of h)v.increaseAttack(c),v.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${v.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random});this.triggerTigerExecution(e)}}copy(e){return new mi(e,this.logService)}}class Io extends _{logService;constructor(e,t){super({name:"PeanutJarAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithEquipment("Peanut Butter"),h=r.parent.getLowestAttackPets(this.level,c,r).pets;if(0!=h.length){for(let v of h)v.givePetEquipment(new ti),this.logService.createLog({message:`Peanut Jar Ability gave ${v.name} PeanutButter.`,type:"ability",player:r.parent,tiger:n,pteranodon:s});this.triggerTigerExecution(e)}}copy(e){return new Io(e,this.logService)}}class Ss extends _{logService;constructor(e,t){super({name:"AirPalmTreeAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getPetsWithEquipment("Coconut"),d=r.parent.getHighestAttackPets(this.level,c,r),h=d.pets;if(0!=h.length){for(let v of h)v.givePetEquipment(new Qr),this.logService.createLog({message:`${r.name} gave ${v.name} Coconut.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random});this.triggerTigerExecution(e)}}copy(e){return new Ss(e,this.logService)}}const bu=new Map,aE=mu??Al??[];for(const o of aE)o?.Name&&bu.set(o.Name,!0===o.Rollable);class oE extends ft{logService;toyService;equipmentService;name="Pandoras Box";tier=5;startOfBattle(e,t){Ra.applyPandorasBoxEffect({logService:this.logService,equipmentService:this.equipmentService,level:this.level,pets:[...e.player.petArray,...e.opponent.petArray],useClones:!1,logPlayer:this.parent,logMeta:{randomEvent:!0},logMessage:(i,n)=>`${this.name} gave ${i.name} ${n.name}`})}constructor(e,t,i,n,s){super(e,t,i,n),this.logService=e,this.toyService=t,this.equipmentService=s}}class Ra extends _{logService;abilityService;equipmentService;constructor(e,t,i,n){super({name:"PandorasBoxAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.equipmentService=n}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,s=this.owner,r=Qi(t,s.parent),c=[...s.parent.petArray,...r.petArray].filter(d=>d?.alive);Ra.applyPandorasBoxEffect({logService:this.logService,equipmentService:this.equipmentService,level:this.level,pets:c,useClones:!0,logPlayer:s.parent,logMeta:{tiger:i,pteranodon:n,randomEvent:!0},logMessage:(d,h)=>`Pandoras Box Ability gave ${d.name} ${h.name}`}),this.triggerTigerExecution(e)}copy(e){return new Ra(e,this.logService,this.abilityService,this.equipmentService)}static applyPandorasBoxEffect(e){const{logService:t,equipmentService:i,level:n,pets:s,useClones:r,logPlayer:c,logMeta:d,logMessage:h}=e,v=Array.from(i.getInstanceOfAllAilments().values()),E=new Set(["Chocolate Cake"]),q=Array.from(i.getInstanceOfAllEquipment().values()).filter(K=>{if(!K||E.has(K.name)||(o=K,!o?.name||!0!==bu.get(o.name)))return!1;var o;const le=K.triggers??[];return!(le.includes("StartTurn")||le.includes("EndTurn")||le.includes("BeforeStartBattle"))});for(const K of s){const le=Math.random()<.5?v:q;if(!le.length)continue;const ce=le[Math.floor(Math.random()*le.length)];if(!ce)continue;const Ae=r?Pr(ce):ce;Ae&&(K.givePetEquipment(Ae,n),t.createLog({message:h(K,Ae),type:"ability",player:c,tiger:d?.tiger,pteranodon:d?.pteranodon,randomEvent:d?.randomEvent}))}}}class Xh extends _{logService;constructor(e,t){super({name:"WitchBroomAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getPetsWithEquipmentWithSillyFallback("any",r),d=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,c,!1,!0,r),h=d.pets;if(0!=h.length){for(let v of h)v.givePetEquipment(new Ma),this.logService.createLog({message:`${r.name} gave ${v.name} Weak.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random});this.triggerTigerExecution(e)}}copy(e){return new Xh(e,this.logService)}}class Qh extends _{logService;constructor(e,t){super({name:"CrystalBallAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getFurthestUpPet(r),d=c.pet;if(null==d)return;let h=2*this.level;d.increaseMana(h),this.logService.createLog({message:`${r.name} gave ${d.name} ${h} mana.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new Qh(e,this.logService)}}class hr extends _{logService;constructor(e,t){super({name:"TreasureMapAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){}copy(e){return new hr(e,this.logService)}}class Ln extends _{logService;constructor(e,t){super({name:"TreasureChestAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){}copy(e){return new Ln(e,this.logService)}}class gy extends C{logService;abilityService;name="Great One";tier=6;pack="Custom";attack=7;health=13;initAbilities(){this.addAbility(new my(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class my extends _{logService;constructor(e,t){super({name:"GreatOneAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const r=this.owner;let c=[...r.parent.petArray,...r.parent.opponent.petArray];c=c.filter(d=>d!==r);for(let d of c)r.snipePet(d,5*r.level);this.triggerTigerExecution(e)}copy(e){return new my(e,this.logService)}}class Jh extends _{logService;abilityService;constructor(e,t,i){super({name:"EvilBookAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null==this.owner.parent.pet0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c={attack:6*this.level,health:6*this.level},d=new gy(this.logService,this.abilityService,r.parent,c.health,c.attack,0,this.minExpForLevel),h=r.parent.summonPet(d,0);h.success&&this.logService.createLog({message:`Evil Book Ability spawned Great One (${c.attack}/${c.health}).`,type:"ability",player:r.parent,tiger:n,randomEvent:h.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Jh(e,this.logService,this.abilityService)}}class Ay extends C{logService;abilityService;name="Salmon of Knowledge";tier=5;pack="Unicorn";attack=5;health=5;initAbilities(){this.addAbility(new Pu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Pu extends _{logService;constructor(e,t){super({name:"SalmonOfKnowledgeAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=2*this.level,d=[],h=r.parent.getFurthestUpPets(2,[r],r);d.push(...h.pets);let v=r.parent.opponent.getFurthestUpPets(2,void 0,r);d.push(...v.pets);for(let E of d)this.logService.createLog({message:`${r.name} gave ${E.name} ${c} exp.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random||v.random}),E.increaseExp(c);this.triggerTigerExecution(e)}copy(e){return new Pu(e,this.logService)}}class Sy extends C{logService;abilityService;name="Giant Eyes Dog";tier=1;pack="Unicorn";hidden=!0;health=6;attack=6;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class ck extends ft{logService;toyService;petService;gameService;name="Microwave Oven";tier=2;startOfBattle(e,t){let i=this.parent.getPetsWithEquipment("Popcorn"),s=this.parent.getFurthestUpPets(this.level,i).pets;if(0!=s.length)for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} Popcorn.`,type:"ability",player:this.parent,puma:t}),r.givePetEquipment(new Vf(this.logService,this.petService,this.gameService))}constructor(e,t,i,n,s,r){super(e,t,i,n),this.logService=e,this.toyService=t,this.petService=s,this.gameService=r}}class uk extends _{constructor(e,t,i){super({name:"MicrowaveOvenAbility",triggers:["StartBattle"],owner:e,abilityType:"Pet",abilityFunction:n=>{const{puma:s}=n;let r=e.parent.getPetsWithEquipment("Popcorn"),d=e.parent.getFurthestUpPets(this.abilityLevel,r,e).pets;if(0!=d.length)for(let h of d){t.createLog({message:`${e.name} gave ${h.name} Popcorn (Microwave Oven).`,type:"ability",player:e.parent,puma:s});const v=i.getInstanceOfAllEquipment().get("Popcorn");h.givePetEquipment(v)}}})}}const ks={"Action Figure":class FP extends ft{name="Action Figure";tier=1;startOfBattle(e,t){const n=Qi(e,this.parent).getFurthestUpPets(2);for(const s of n.pets)s.givePetEquipment(new Qr),this.logService.createLog({message:`${this.name} gave ${s.name} Coconut.`,type:"ability",player:this.parent,puma:t,randomEvent:n.random})}},Balloon:class UC extends ft{name="Balloon";tier=1;onBreak(e,t){let i=this.parent.getFurthestUpPets(this.level,[]);if(0!=i.pets.length)for(let s of i.pets)s.increaseAttack(1),s.increaseHealth(1),this.logService.createLog({message:`${this.name} gave ${s.name} 1 attack and 1 health.`,type:"ability",player:this.parent,puma:t})}},"Chocolate Box":class KC extends ft{name="Chocolate Box";tier=1;startOfBattle(e,t){const i=Qi(e,this.parent);for(const n of this.parent.petArray)n.increaseExp(1),this.logService.createLog({message:`${this.name} gave ${n.name} 1 exp.`,type:"ability",player:this.parent,puma:t});for(const n of i.petArray)n.increaseExp(2),this.logService.createLog({message:`${this.name} gave ${n.name} 2 exp.`,type:"ability",player:this.parent,puma:t})}},"Dice Cup":class OP extends ft{name="Dice Cup";tier=1;startOfBattle(e,t){const i=ie(this.parent.petArray.filter(n=>n.alive));for(let n=0;n<5;n++)this.parent.setPet(n,i[n]??null);this.logService.createLog({message:`${this.name} shuffled the team.`,type:"ability",player:this.parent,puma:t})}},Handkerchief:class BP extends ft{name="Handkerchief";tier=1;startOfBattle(e,t){const i=this.parent.getFurthestUpPets(2);for(const n of i.pets)n.givePetEquipment(new Ma),this.logService.createLog({message:`${this.name} gave ${n.name} Weak.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},Kite:class $P extends ft{name="Kite";tier=1;emptyFromSpace(e,t,i,n){const s=this.parent.getLastPet();if(!s.pet)return;const r=s.pet,c=Math.floor(.2*r.attack);c>0&&r.increaseAttack(-c),this.parent.pushPetToFront(r),this.logService.createLog({message:`${this.name} moved ${r.name} to the front and removed ${c} attack.`,type:"ability",player:this.parent,puma:t}),this.used=!0}},Lamp:class zC extends ft{name="Lamp";tier=1;startOfBattle(e,t){for(const i of this.parent.petArray){const n=Math.floor(.2*i.attack),s=Math.floor(.2*i.health);n>0&&i.increaseAttack(-n),s>0&&i.increaseHealth(-s),this.logService.createLog({message:`${this.name} removed ${n} attack and ${s} health from ${i.name}.`,type:"ability",player:this.parent,puma:t})}}},Lunchbox:class YC extends ft{name="Lunchbox";tier=1;startOfBattle(e,t){const i=e?.turnNumber??1;for(let n=0;n<i;n++){const s=this.parent.getRandomLivingPet();if(!s.pet)return;const r=s.pet,d=r.parent!==this.parent?2:1;r.increaseAttack(d),r.increaseHealth(d),this.logService.createLog({message:`${this.name} fed ${r.name} +${d}/+${d}.`,type:"ability",player:this.parent,puma:t,randomEvent:s.random})}}},"Tennis Ball":class sy extends ft{name="Tennis Ball";tier=2;startOfBattle(e,t){let i=this.parent.opponent.getRandomPets(this.level,[],!1,!0),n=i.pets;if(0!=n.length)for(let s of n)this.toyService.snipePet(s,3,this.parent,this.name,i.random,t)}},Onesie:class GP extends ft{name="Onesie";tier=1;startOfBattle(e,t){const i=[];for(let n=0;n<2;n++){const s=this.parent.getRandomPet(i);if(!s.pet)return;i.push(s.pet),s.pet.givePetEquipment(new ny),this.logService.createLog({message:`${this.name} gave ${s.pet.name} Cold.`,type:"ability",player:this.parent,puma:t,randomEvent:s.random})}}},"Paper Shredder":class HP extends ft{name="Paper Shredder";tier=1;friendSummoned(e,t,i,n){t&&(t.health=0,this.logService.createLog({message:`${this.name} knocked out ${t.name}.`,type:"ability",player:this.parent,puma:i}))}},Pen:class qP extends ft{name="Pen";tier=1;startOfBattle(e,t){const i=this.parent.getFurthestUpPets(2);for(const n of i.pets)n.givePetEquipment(new Ia),this.logService.createLog({message:`${this.name} gave ${n.name} Inked.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},"Pill Bottle":class jP extends ft{name="Pill Bottle";tier=1;startOfBattle(e,t){const i=this.parent.getFurthestUpPets(2);for(const r of i.pets)r.health=0,this.logService.createLog({message:`${this.name} knocked out ${r.name}.`,type:"ability",player:this.parent,puma:t});const s=Qi(e,this.parent).getFurthestUpPets(1).pets[0];s&&(s.health=0,this.logService.createLog({message:`${this.name} knocked out ${s.name}.`,type:"ability",player:this.parent,puma:t}))}},"Pogo Stick":class Kh extends ft{name="Pogo Stick";tier=1;startOfBattle(e,t){const i=Qi(e,this.parent),n=i.getLastPet();if(!n.pet)return;const s=n.pet;i.pushPetToFront(s);const r=s.attack,c=s.health;s.increaseAttack(r),s.increaseHealth(c),this.logService.createLog({message:`${this.name} pushed ${s.name} forward and gave +${r}/+${c}.`,type:"ability",player:this.parent,puma:t})}},"Remote Car":class XC extends ft{name="Remote Car";tier=1;startOfBattle(e,t){const i=Qi(e,this.parent);for(const n of i.petArray){const s=Math.floor(.2*n.attack),r=Math.floor(.2*n.health);s>0&&n.increaseAttack(s),r>0&&n.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${n.name} +${s}/+${r}.`,type:"ability",player:this.parent,puma:t})}}},"Ring Pyramid":class QC extends ft{name="Ring Pyramid";tier=1;startOfBattle(e,t){const i=e?.turnNumber??1;let n=1;i>2&&(n=2),i>4&&(n=3),i>6&&(n=4),i>8&&(n=5),i>10&&(n=6);const s=n-1;if(!(s<1))for(const r of this.parent.petArray)r.tier===s&&(r.health=0,this.logService.createLog({message:`${this.name} knocked out ${r.name}.`,type:"ability",player:this.parent,puma:t}))}},"Rubber Duck":VP,Scale:class JC extends ft{name="Scale";tier=1;startOfBattle(e,t){const i=e?.turnNumber??1;for(const n of this.parent.petArray){const s=i-n.attack,r=i-n.health;0!==s&&n.increaseAttack(s),0!==r&&n.increaseHealth(r),this.logService.createLog({message:`${this.name} set ${n.name} to ${i}/${i}.`,type:"ability",player:this.parent,puma:t})}}},"Soccer Ball":class UP extends ft{name="Soccer Ball";tier=1;startOfBattle(e,t){const i=e?.turnNumber??1;let n=1;i>2&&(n=2),i>4&&(n=3),i>6&&(n=4),i>8&&(n=5),i>10&&(n=6);for(const s of this.parent.petArray)s.tier===n&&(s.health=0,this.logService.createLog({message:`${this.name} knocked out ${s.name}.`,type:"ability",player:this.parent,puma:t}))}},"Sticky Hand":class WP extends ft{name="Sticky Hand";tier=1;startOfBattle(e,t){const i=this.parent.getLastPets(2);for(const n of i.pets)n.givePetEquipment(new Qa),this.logService.createLog({message:`${this.name} gave ${n.name} Icky.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},"Stuffed Bear":zh,Radio:class ZC extends ft{name="Radio";tier=2;onBreak(e,t){let i=this.parent.petArray;for(let n of i)n.alive&&(n.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${n.name} ${this.level} health.`,type:"ability",player:this.parent,puma:t}))}},"Plastic Saw":class YP extends ft{name="Plastic Saw";tier=2;startOfBattle(e,t){let i=this.parent.getPetsWithEquipment("Eucalyptus"),s=this.parent.getFurthestUpPets(this.level,i).pets;if(0!=s.length)for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} Eucalyptus.`,type:"ability",player:this.parent,puma:t}),r.givePetEquipment(new Oh)}},"Toilet Paper":class cy extends ft{name="Toilet Paper";tier=4;startOfBattle(e,t){let n=Qi(e,this.parent).petArray.filter(s=>"Weak"!=s.equipment?.name).slice(0,this.level);for(let s of n)s.givePetEquipment(new Ma),this.logService.createLog({message:`${this.name} gave ${s.name} Weak.`,type:"ability",player:this.parent,puma:t})}},"Oven Mitts":class eE extends ft{name="Oven Mitts";tier=4;onBreak(e){}},"Melon Helmet":class tE extends ft{name="Melon Helmet";tier=3;onBreak(e,t){let i=this.parent.petArray.filter(n=>n.alive).slice(0,this.level);for(let n of i)n.givePetEquipment(new to),this.logService.createLog({message:`${this.name} gave ${n.name} Melon.`,type:"ability",player:this.parent,puma:t})}},"Foam Sword":class iE extends ft{name="Foam Sword";tier=3;startOfBattle(e,t){let i=Qi(e,this.parent);for(let n=0;n<this.level;n++){let s=i.getLowestHealthPet();if(null==s.pet)return;this.toyService.snipePet(s.pet,5,this.parent,this.name,s.random,t)}}},"Toy Gun":class nE extends ft{name="Toy Gun";tier=3;startOfBattle(e,t){let i=Qi(e,this.parent);for(let n=0;n<this.level;n++){let s=i.getLastPet();if(null==s.pet)return;this.toyService.snipePet(s.pet,5,this.parent,this.name,!1,t)}}},"Toy Mouse":class KP extends ft{name="Toy Mouse";tier=3;startOfBattle(e,t){for(const i of this.parent.petArray)i.exp=0,this.logService.createLog({message:`${this.name} set ${i.name} to level 1.`,type:"ability",player:this.parent,puma:t})}},"Cash Register":class hy extends ft{name="Cash Register";tier=4;onBreak(e){}},Camera:class XP extends ft{name="Camera";tier=5;startOfBattle(e,t){let i=Qi(e,this.parent);for(let n=0;n<this.level;n++){let s=i.getHighestAttackPet(),r=s.pet;if(null==r)return;let c=.3,d=Math.max(1,Math.floor(r.attack*(1-c)));r.attack=d,this.logService.createLog({message:`${this.name} reduced ${r.name} attack by ${100*c}% (${d})`,type:"ability",player:this.parent,puma:t,randomEvent:s.random})}}},Flashlight:class rE extends ft{name="Flashlight";tier=5;onBreak(e,t){let i=5*this.level,n=this.parent.furthestUpPet;null!=n&&(n.increaseAttack(i),n.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${n.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:t}))}},"Stinky Sock":class pn extends ft{name="Stinky Sock";tier=5;startOfBattle(e,t){let i=Qi(e,this.parent);for(let n=0;n<this.level;n++){let s=i.getHighestHealthPet(),r=s.pet;if(null==r)return;let c=.4,d=Math.max(1,Math.floor(r.health*(1-c)));r.health=d,this.logService.createLog({message:`${this.name} reduced ${r.name} health by ${100*c}% (${d})`,type:"ability",player:this.parent,puma:t,randomEvent:s.random})}}},Television:class ZP extends ft{name="Television";tier=6;onBreak(e,t){let i=2*this.level;for(let n of this.parent.petArray)n.alive&&(n.increaseAttack(i),n.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${n.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:t}))}},"Peanut Jar":class Pl extends ft{name="Peanut Jar";tier=6;startOfBattle(e,t){let i=this.parent.getLowestAttackPets(this.level,this.parent.getPetsWithEquipment("Peanut Butter")),n=i.pets;if(0!=n.length)for(let s of n)s.givePetEquipment(new ti),this.logService.createLog({message:`${this.name} gave ${s.name} PeanutButter.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},"Air Palm Tree":class As extends ft{name="Air Palm Tree";tier=6;startOfBattle(e,t){let i=this.parent.getHighestAttackPets(this.level,this.parent.getPetsWithEquipment("Coconut")),n=i.pets;if(0!=n.length)for(let s of n)s.givePetEquipment(new Qr),this.logService.createLog({message:`${this.name} gave ${s.name} Coconut.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},"Witch Broom":class sE extends ft{name="Witch Broom";tier=1;startOfBattle(e,t){let i=Qi(e,this.parent),n=i.petArray.filter(r=>null!=r.equipment),s=[];for(let r=0;r<this.level;r++){let c=i.getRandomPet(n,!1,!0,!1,null);if(null==c.pet)break;n.push(c.pet),s.push(c.pet)}for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,puma:t,randomEvent:i.petArray.length-n.length>0}),r.givePetEquipment(new Ma)}},"Magic Wand":class vu extends ft{name="Magic Wand";tier=1;startOfBattle(e,t){let i=this.parent.petArray.filter(r=>r.level<3),n=null,s=!1;0==i.length?n=this.parent.getRandomPet([],!0):(i=ie(i),n=i[0],s=i.length>1),null!=n&&(this.logService.createLog({message:`${this.name} gave ${n.name} ${this.level} exp.`,type:"ability",player:this.parent,puma:t,randomEvent:s}),n.increaseExp(this.level))}},"Crystal Ball":class tk extends ft{name="Crystal Ball";tier=1;startOfBattle(e,t){let i=this.parent.petArray[0];null!=i&&(this.logService.createLog({message:`${this.name} gave ${i.name} ${this.level} mana.`,type:"ability",player:this.parent,puma:t,randomEvent:!1}),i.increaseMana(this.level))}},"Treasure Map":class Su extends ft{name="Treasure Map";tier=3},"Treasure Chest":class lE extends ft{name="Treasure Chest";tier=3},"Magic Carpet":class ik extends ft{name="Magic Carpet";tier=2;friendSummoned(e,t,i,n){this.logService.createLog({message:`${this.name} gave ${t.name} ${n} attack.`,type:"ability",player:this.parent,puma:i}),t.increaseAttack(n)}},"Magic Lamp":class kR extends ft{name="Magic Lamp";tier=2;friendlyLevelUp(e,t,i,n){this.logService.createLog({message:`${this.name} gave ${t.name} ${n} attack and ${n} health.`,type:"ability",player:this.parent,puma:i}),t.increaseAttack(+n),t.increaseHealth(+n)}},Candelabra:class _R extends ft{name="Candelabra";tier=4},"Glass Shoes":class wR extends ft{name="Glass Shoes";tier=4;friendFaints(e,t,i,n){if(i||this.triggers++,this.triggers%3!=0)return;let s=t.parent.petArray.filter(r=>r.alive);for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} ${n} attack and ${n} health.`,type:"ability",player:this.parent,puma:i}),r.increaseAttack(+n),r.increaseHealth(+n)}},"Golden Harp":class by extends ft{name="Golden Harp";tier=4},"Lock of Hair":class cE extends ft{name="Lock of Hair";tier=4},"Magic Mirror":class Zh extends ft{name="Magic Mirror";tier=4},Pickaxe:class uE extends ft{name="Pickaxe";tier=4},"Red Cape":class ep extends ft{name="Red Cape";tier=4;friendJumped(e,t,i,n){let s=t.parent.petArray.filter(r=>r.alive);for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} ${n} attack and ${n} health.`,type:"ability",player:this.parent,puma:i}),r.increaseAttack(+n),r.increaseHealth(+n)}},Rosebud:class dE extends ft{name="Rosebud";tier=4;friendlyLevelUp(e,t,i,n){if(i||this.triggers++,this.triggers%2!=0)return;let s=t.parent.petArray.filter(r=>r.alive);for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} ${n} attack and ${n} health.`,type:"ability",player:this.parent,puma:i}),r.increaseAttack(+n),r.increaseHealth(+n)}},Excalibur:class hE extends ft{name="Excalibur";tier=6},"Holy Grail":class TR extends ft{name="Holy Grail";tier=6}},Py={"Evil Book":class fy extends ft{logService;toyService;abilityService;name="Evil Book";tier=5;emptyFromSpace(e,t,i,n){let s={attack:6*i,health:6*i},c=new gy(this.logService,this.abilityService,this.parent,s.health,s.attack,0,1==i?0:2==i?2:5),d=`${this.name} spawned Great One (${s.attack}/${s.health}).`;this.parent.summonPet(c,0).success&&this.logService.createLog({message:d,type:"ability",player:this.parent,puma:t}),this.used=!0}constructor(e,t,i,n,s){super(e,t,n,s),this.logService=e,this.toyService=t,this.abilityService=i}},Nutcracker:class pE extends ft{logService;toyService;abilityService;name="Nutcracker";tier=4;suppressFriendFaintLog=!0;pendingSpawn=!1;friendFaints(e,t,i,n){this.used||this.pendingSpawn||t.parent.petArray.filter(r=>r.alive).length>0||this.queueSalmonSpawn()}queueSalmonSpawn(){this.pendingSpawn=!0,this.abilityService.setCounterEvent({priority:0,callback:(e,t,i)=>{this.pendingSpawn=!1,this.attemptSalmonSpawn()}})}attemptSalmonSpawn(){if(this.used||this.parent.petArray.filter(n=>n.alive).length>0)return;const t=6*this.level,i=new Ay(this.logService,this.abilityService,this.parent,t,t,null,0);this.parent.summonPet(i,0).success&&this.logService.createLog({message:`${this.name} spawned Salmon of Knowledge (${t}/${t})`,type:"ability",player:this.parent}),this.used=!0}constructor(e,t,i,n,s){super(e,t,n,s),this.logService=e,this.toyService=t,this.abilityService=i}},"Tinder Box":class sk extends ft{logService;toyService;abilityService;name="Tinder Box";tier=4;emptyFromSpace(e,t,i,n){let s={attack:6*i,health:6*i},c=new Sy(this.logService,this.abilityService,this.parent,s.health,s.attack,0,1==i?0:2==i?2:5),d=`${this.name} spawned Giant Eyes Dog (${s.attack}/${s.health}).`;this.parent.summonPet(c,0).success&&this.logService.createLog({message:d,type:"ability",player:this.parent,puma:t}),this.used=!0}constructor(e,t,i,n,s){super(e,t,n,s),this.logService=e,this.toyService=t,this.abilityService=i}}},ky={"Rubber Duck":o=>new VP(o.logService,o.toyService,o.petService,o.parent,o.level),Stick:o=>new WC(o.logService,o.toyService,o.parent,o.level,o.petService),"Stuffed Bear":o=>new zh(o.logService,o.toyService,o.petService,o.parent,o.level),"Pandoras Box":o=>new oE(o.logService,o.toyService,o.parent,o.level,o.equipmentService),"Microwave Oven":o=>new ck(o.logService,o.toyService,o.parent,o.level,o.petService,o.gameService)};let gE=(()=>{class o{logService;abilityService;constructor(t,i){this.logService=t,this.abilityService=i}createToy(t,i,n,s,r,c,d){const v=ky[t];return v?v({logService:this.logService,abilityService:this.abilityService,toyService:s,parent:i,level:n,petService:r,equipmentService:c,gameService:d}):Py[t]?new(0,Py[t])(this.logService,s,this.abilityService,i,n):ks[t]?new(0,ks[t])(this.logService,s,i,n):null}static \u0275fac=function(i){return new(i||o)(w.KVO(nr),w.KVO(Ea))};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),kr=(()=>{class o{logService;abilityService;gameService;equipmentService;petService;toyFactory;toys=new Map;toysByType=new Map;toyNameIds=new Map;startOfBattleEvents=[];emptyFrontSpaceEvents=[];friendSummonedEvents=[];constructor(t,i,n,s,r,c){this.logService=t,this.abilityService=i,this.gameService=n,this.equipmentService=s,this.petService=r,this.toyFactory=c,this.setToys()}setToys(){this.toys.clear(),this.toyNameIds.clear(),this.toysByType.clear();const t=this.getToyEntriesFromJson();for(const i of t){const n=Number(i.Tier);if(!Number.isFinite(n)||n<1)continue;this.toys.has(n)||this.toys.set(n,[]);const s=this.toys.get(n);s&&s.push(i.Name);const r=Number.isFinite(Number(i.ToyType))?Number(i.ToyType):0;this.toysByType.has(r)||this.toysByType.set(r,new Map);const c=this.toysByType.get(r);c&&!c.has(n)&&c.set(n,[]);const d=c?.get(n);d&&d.push(i.Name),i.Name&&i.NameId&&this.toyNameIds.set(i.Name,i.NameId)}for(const[i,n]of this.toys)this.toys.set(i,[...new Set(n)]);for(const[i,n]of this.toysByType)for(const[s,r]of n)n.set(s,[...new Set(r)])}getToyNameId(t){return t?this.toyNameIds.get(t)??null:null}getToysByType(t){const i=this.toysByType.get(t);return i?new Map(Array.from(i.entries()).map(([n,s])=>[n,[...s]])):new Map}isToyRandom(t){return!0===this.toyDataMap.get(t)?.Random}toyDataMap=new Map;getToyEntriesFromJson(){const t=To??ol??[];return t.forEach(i=>{i.Name&&this.toyDataMap.set(i.Name,i)}),t.filter(i=>!!i?.Name)}createToy(t,i,n=1){return this.toyFactory.createToy(t,i,n,this,this.petService,this.equipmentService,this.gameService)}snipePet(t,i,n,s,r=!1,c=!1){let d=this.calculateDamage(t,this.getManticoreMult(n),i),h=d.defenseEquipment,v=d.damage;this.dealDamage(t,v,n);let E=`${s} sniped ${t.name} for ${v}.`;if(null!=h){t.useDefenseEquipment(!0);let ce=Math.abs(h.power),Ae="-";if(h.power<0&&(Ae="+"),"Strawberry"===h.name){let Ce=t.getSparrowLevel();Ce>0&&(ce=5*Ce,E+=` (Strawberry -${ce} (Sparrow))`)}else E+=` (${h.name} ${Ae}${ce})`;E+=h.multiplierMessage}"Icky"==t.equipment?.name&&(E+="x2 (Icky)",t.equipment.multiplier>1&&(E+=t.equipment.multiplierMessage));let q=this.getManticoreMult(n),le=["Weak","Cold","Icky","Spooked"].includes(t.equipment?.name);if(q.length>0&&le)for(let ce of q)E+=` x${ce+1} (Manticore)`;return d.nurikabe>0&&(E+=` -${d.nurikabe} (Nurikabe)`),d.fairyBallReduction>0&&(E+=` -${d.fairyBallReduction} (Fairy Ball)`),d.fanMusselReduction>0&&(E+=` -${d.fanMusselReduction} (Fan Mussel)`),d.ghostKittenReduction>0&&(E+=` -${d.ghostKittenReduction} (Ghost Kitten)`),c&&(E+=" (Puma)"),this.logService.createLog({message:E,type:"attack",randomEvent:r,player:n}),v}calculateDamage(t,i,n){let s=t.equipment?.multiplier;const r=["Cold","Weak","Spooked"],h="Guava"===t.equipment?.name;let v="defense"==t.equipment?.equipmentClass||"shield"==t.equipment?.equipmentClass||"ailment-defense"==t.equipment?.equipmentClass||"shield-snipe"==t.equipment?.equipmentClass?t.equipment:null;if(null==v&&h&&(v=t.equipment),null!=v){if("Maple Syrup"==v.name&&(v=null),r.includes(v?.name))for(let Ke of i)s+=Ke;v.power=v.originalPower*s}let E=v?.power?v.power:0,q=t.getSparrowLevel();if("Strawberry"===t.equipment?.name&&q>0&&(E+=5*q),"Icky"==t.equipment?.name){let Ke=2;for(let Ye of i)Ke+=Ye;Ke+=t.equipment.multiplier-1,n*=Ke}let le,K="shield"==v?.equipmentClass||"shield-snipe"==v?.equipmentClass?0:1;void 0!==v?.minimumDamage&&(K=v.minimumDamage),le=n<=K&&E>0?Math.max(n,0):Math.max(K,n-E);let ce=0;if(t.hasTrigger(void 0,"Pet","FairyAbility")&&le>0)for(let Ke of t.abilityList)"FairyAbility"==Ke.name&&(ce+=2*Ke.level,le=Math.max(0,le-2*Ke.level));let Ae=0;if(t.hasTrigger(void 0,"Pet","NurikabeAbility")&&le>0)for(let Ke of t.abilityList)"NurikabeAbility"==Ke.name&&(Ae+=4*Ke.level,le=Math.max(0,le-Ae),Ke.currentUses++);let Ce=0;if(t.hasTrigger(void 0,"Pet","FanMusselAbility")&&le>0)for(let Ke of t.abilityList)"FanMusselAbility"==Ke.name&&(Ce+=1*Ke.level,le=Math.max(0,le-Ce),Ke.currentUses++);let Qe=0;if(t.hasTrigger(void 0,"Pet","GhostKittenAbility")&&le>0)for(let Ke of t.abilityList)"GhostKittenAbility"==Ke.name&&(Qe+=3*Ke.level,le=Math.max(0,le-Qe));return{defenseEquipment:v,damage:le,nurikabe:Ae,fairyBallReduction:ce,fanMusselReduction:Ce,ghostKittenReduction:Qe}}dealDamage(t,i,n){t.health-=i,i>0&&this.abilityService.triggerHurtEvents(t)}getManticoreMult(t){let i=[];for(let n of t.petArray)"Manticore"==n.name&&i.push(n.level);return i}getSparrowLevel(t){let i=0;for(let n of t.petArray)"Sparrow"==n.name&&(i=Math.max(i,n.level));return i}setStartOfBattleEvent(t){t.tieBreaker=Math.random(),this.startOfBattleEvents.push(t)}resetStartOfBattleEvents(){this.startOfBattleEvents=[]}executeStartOfBattleEvents(){this.startOfBattleEvents=ie(this.startOfBattleEvents),this.startOfBattleEvents.sort((t,i)=>(t.tieBreaker??Math.random())>(i.tieBreaker??Math.random())?-1:1);for(let t of this.startOfBattleEvents)this.logToyEvent(t,"activated at start of battle"),t.callback(this.gameService.gameApi);this.resetStartOfBattleEvents()}logToyEvent(t,i){const n=t.player?.toy?.name;n&&this.logService.createLog({message:`${t.player?.isOpponent?"Opponent's":"Player's"} ${n} ${i}${t.triggerPet?.name?` (${t.triggerPet.name})`:""}`,type:"ability",player:t.player,randomEvent:!0})}static \u0275fac=function(i){return new(i||o)(w.KVO(nr),w.KVO(Ea),w.KVO(Fr),w.KVO(pi),w.KVO(xr),w.KVO(gE))};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class dk extends _{logService;abilityService;constructor(e,t,i){super({name:"FerretAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Nt.getInjector().get(kr),n=Math.max(1,Math.min(3,this.level)),s=i.toys.get(n)??[];if(0===s.length)return void this.triggerTigerExecution(e);const r=s[Jt(0,s.length-1)],c=i.createToy(r,t.parent,n);c?(t.parent.toy=c,t.parent.toy.used=!1,t.parent.toy.triggers=0,tn(this.logService,t,`${t.name} chose a level ${n} ${r} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new dk(e,this.logService,this.abilityService)}}class tp extends _{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"BatAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getPetsWithEquipmentWithSillyFallback("Weak",r),d=r.parent.opponent.getRandomPet(c,null,!0,null,r),h=d.pet;null!=h&&(h.givePetEquipment(new Ma),this.logService.createLog({message:`${r.name} made ${h.name} weak.`,type:"ability",player:r.parent,randomEvent:d.random,tiger:n})),this.triggerTigerExecution(e)}copy(e){return new tp(e,this.logService)}}class Ro extends _{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"BilbyAbility",owner:e,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>{const{triggerPet:n}=i;return n&&n!==this.owner},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=r.parent.getSpecificPet(r,i),d=c.pet;null!=d&&(this.logService.createLog({message:`${r.name} gave ${d.name} Garlic.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),d.givePetEquipment(new Ih),this.triggerTigerExecution(e))}copy(e){return new Ro(e,this.logService)}}class _y extends _{logService;abilityService;constructor(e,t,i){super({name:"RobinAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=new fs(this.logService,this.abilityService,r.parent,null,null,this.minExpForLevel,null);this.logService.createLog({message:`${r.name} summoned a Nest (level ${this.level}).`,type:"ability",player:r.parent,randomEvent:!1,tiger:n});let d=r.parent.summonPetInFront(r,c);d.success&&(this.logService.createLog({message:`${r.name} gave Nest an Egg.`,type:"ability",player:r.parent,randomEvent:d.randomEvent,tiger:n}),c.givePetEquipment(new aP(this.logService))),this.triggerTigerExecution(e)}copy(e){return new _y(e,this.logService,this.abilityService)}}class ip extends _{logService;abilityService;constructor(e,t,i){super({name:"DromedaryAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} gave the two left-most shop pets +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ip(e,this.logService,this.abilityService)}}class wy extends _{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,i){super({name:"ShrimpAbility",owner:e,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const i=e.triggerPet;if(!i||!i.isSellPet())return void this.triggerTigerExecution(e);const n=t.parent.getRandomPet([t]),s=n.pet;if(!s)return void this.triggerTigerExecution(e);const r=this.level;s.increaseHealth(r),this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave ${s.name} +${r} health after ${i.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new wy(e,this.logService,this.abilityService)}}class Ty extends _{logService;abilityService;constructor(e,t,i){super({name:"BelugaSturgeonAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;for(let c=0;c<this.level;c++){let d=new us(this.logService,this.abilityService,r.parent,3,2,0,0,null),h=r.parent.summonPet(d,4,!1,r);h.success&&(this.logService.createLog({message:`${r.name} summoned a 2/3 Dolphin in the back.`,type:"ability",player:r.parent,randomEvent:h.randomEvent,tiger:n,pteranodon:s}),d.givePetEquipment(new Fh),this.logService.createLog({message:`${r.name} gave ${d.name} Rice.`,type:"ability",player:r.parent,randomEvent:!1,tiger:n,pteranodon:s}))}this.triggerTigerExecution(e)}copy(e){return new Ty(e,this.logService,this.abilityService)}}class _u extends _{logService;constructor(e,t){super({name:"TabbyCatAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getRandomPets(2,[r],!0,!1,r);if(0!=c.pets.length){for(let d of c.pets)null!=d&&(this.logService.createLog({message:`${r.name} increased ${d.name}'s health by ${this.level}.`,type:"ability",player:r.parent,randomEvent:c.random,tiger:n}),d.increaseHealth(this.level));this.triggerTigerExecution(e)}}copy(e){return new _u(e,this.logService)}}class np extends _{logService;abilityService;constructor(e,t,i){super({name:"MandrillAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const r=this.owner;let c=2*this.level;r.parent.toy?.tier<=c&&(r.parent.breakToy(),this.abilityService.triggerToyBrokeEvents(r.parent)),this.triggerTigerExecution(e)}copy(e){return new np(e,this.logService,this.abilityService)}}class Cy extends C{logService;abilityService;name="Lemur";tier=2;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new Ey(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Ey extends _{logService;abilityService;constructor(e,t,i){super({name:"LemurAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Nt.getInjector().get(kr),n=Math.max(1,Math.min(3,this.level)),s=i.toys.get(n)??[];if(0===s.length)return void this.triggerTigerExecution(e);const r=s[Jt(0,s.length-1)],c=i.createToy(r,t.parent,n);c?(t.parent.toy=c,t.parent.toy.used=!1,t.parent.toy.triggers=0,tn(this.logService,t,`${t.name} chose a level ${n} ${r} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Ey(e,this.logService,this.abilityService)}}class _l extends _{logService;abilityService;constructor(e,t,i){super({name:"GoldfishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;t.increaseSellValue(this.level),this.logService.createLog({message:`${t.name} increased its sell value by ${this.level}.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new _l(e,this.logService,this.abilityService)}}class rp extends _{logService;constructor(e,t){super({name:"ToucanAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.timesAttacked<1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c;c=null==r.equipment||r.equipment.tier>5?"Egg":r.equipment.name;let d=r.parent.getPetsWithEquipment(c),v=r.parent.nearestPetsBehind(this.level,r,d).pets;if(0!=v.length){for(let E of v){const q=Nt.getInjector().get(pi).getInstanceOfAllEquipment().get(c);q&&(this.logService.createLog({message:`${r.name} gave ${E.name} ${q.name}`,type:"ability",player:r.parent,randomEvent:!1,tiger:n,pteranodon:s}),E.givePetEquipment(q))}this.triggerTigerExecution(e)}}copy(e){return new rp(e,this.logService)}}class xy extends _{logService;constructor(e,t){super({name:"HoopoeBirdAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.opponent,d=c.getFurthestUpPet(r),h=d.pet,v=c.getLastPet(void 0,r),E=v.pet,q=2*this.level;h&&r.snipePet(h,q,d.random,n,s),E&&r.snipePet(E,q,v.random,n,s),this.triggerTigerExecution(e)}copy(e){return new xy(e,this.logService)}}class Dy extends _{logService;abilityService;constructor(e,t,i){super({name:"TropicalFishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=cs(t);if(0!==i.length){for(const n of i)n.increaseHealth(this.level),tn(this.logService,t,`${t.name} gave ${n.name} +${this.level} health.`,e.tiger,e.pteranodon);this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new Dy(e,this.logService,this.abilityService)}}class My extends _{logService;abilityService;pendingBuffs=new Map;constructor(e,t,i){super({name:"HatchingChickAbility",owner:e,triggers:["EndTurn","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger){for(const[n,s]of this.pendingBuffs)n&&(n.increaseAttack(-s.attack),n.increaseHealth(-s.health));return this.pendingBuffs.clear(),void this.triggerTigerExecution(e)}const i=t.petAhead;if(i)return 1===this.level?(i.increaseAttack(3),i.increaseHealth(3),this.pendingBuffs.set(i,{attack:3,health:3}),this.logService.createLog({message:`${t.name} gave ${i.name} +3/+3 until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e)):2===this.level?(i.increaseAttack(2),i.increaseHealth(2),this.logService.createLog({message:`${t.name} gave ${i.name} +2/+2.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e)):(i.increaseExp(1),this.logService.createLog({message:`${t.name} gave ${i.name} +1 experience.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e));this.triggerTigerExecution(e)}copy(e){return new My(e,this.logService,this.abilityService)}}class Iy extends _{logService;abilityService;constructor(e,t,i){super({name:"OwlAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,n=new Jm(this.logService,this.abilityService,t.parent,null,null,null,this.minExpForLevel),s=t.parent.summonPet(n,t.savedPosition,!1,t);s.success&&this.logService.createLog({message:`${t.name} summoned a level ${this.level} Mouse.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:s.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Iy(e,this.logService,this.abilityService)}}class hk extends C{logService;abilityService;name="Mole";tier=3;pack="Puppy";attack=2;health=3;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}initAbilities(){this.addAbility(new Ry(this,this.logService,this.abilityService)),super.initAbilities()}}class Ry extends _{logService;abilityService;constructor(e,t,i){super({name:"MoleAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=6*this.level,d=[];for(let q of r.parent.petArray)q!=r&&q.equipment&&d.push(q);const h=r.position;if(d.sort((q,K)=>{const le=Math.abs(q.position-h),ce=Math.abs(K.position-h);return le!==ce?le-ce:q.position-K.position}),d=d.slice(0,2),d.length<2)return;for(let q of d)this.logService.createLog({message:`${r.name} removed ${q.name}'s equipment.`,type:"ability",player:r.parent,pteranodon:s}),q.removePerk();let v=new hk(this.logService,this.abilityService,r.parent,c,c),E=r.parent.summonPet(v,r.savedPosition,!1,r);E.success&&this.logService.createLog({message:`${r.name} summoned a ${c}/${c} Mole.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:E.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Ry(e,this.logService,this.abilityService)}}class Ly extends _{logService;constructor(e,t){super({name:"PangolinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null!=this.owner.parent.toy,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.nearestPetsBehind(1,r);if(0===c.pets.length)return;let d=c.pets[0],h=4*this.level;d.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${d.name} ${h} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new Ly(e,this.logService)}}class ap extends _{logService;abilityService;constructor(e,t,i){super({name:"PuppyAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Nt.getInjector().get(kr),n=Math.max(1,Math.min(3,this.level)),s=i.toys.get(n)??[];if(0===s.length)return void this.triggerTigerExecution(e);const r=s[Jt(0,s.length-1)],c=i.createToy(r,t.parent,n);c?(t.parent.toy=c,t.parent.toy.used=!1,t.parent.toy.triggers=0,tn(this.logService,t,`${t.name} chose a level ${n} ${r} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new ap(e,this.logService,this.abilityService)}}class Fy extends _{logService;abilityService;usesThisTurn=0;constructor(e,t,i){super({name:"PurpleFrogAbility",owner:e,triggers:["FriendSummoned","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.level)return void this.triggerTigerExecution(e);const i=dr(t,e.triggerPet);i.pet?(i.pet.executeAbilities("StartTurn",e.gameApi,i.pet,void 0,void 0,{trigger:"StartTurn"}),this.usesThisTurn++,tn(this.logService,t,`${t.name} activated ${i.pet.name}'s start of turn ability.`,e.tiger,e.pteranodon,{randomEvent:i.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Fy(e,this.logService,this.abilityService)}}class Oy extends _{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"HareAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent.petArray,d=[];for(let K of c)K.equipment&&Nt.getInjector().get(pi).isUsefulPerk(K.equipment.name)&&d.push(K);if(0==d.length)return;let h=d[Math.floor(Math.random()*d.length)],v=h.equipment,q=r.parent.getThis(r).pet;null!=q&&(r.givePetEquipment(v),this.logService.createLog({message:`${r.name} copied ${v.name} to ${q.name} from ${h.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.length>0}),this.triggerTigerExecution(e))}copy(e){return new Oy(e,this.logService)}}class By extends _{logService;constructor(e,t){super({name:"MicrobeAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithinXSpaces(r,3*this.level),d=c.pets.filter(h=>"Weak"!==h.equipment?.name);if(0!=d.length){for(let h of d)h.alive&&(this.logService.createLog({message:`${r.name} gave ${h.name} Weak.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random}),h.givePetEquipment(new Ma));this.triggerTigerExecution(e)}}copy(e){return new By(e,this.logService)}}class op extends _{logService;abilityService;constructor(e,t,i){super({name:"LobsterAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=dr(t,e.triggerPet);if(!i.pet)return;const n=this.level,s=2*this.level;i.pet.increaseAttack(n),i.pet.increaseHealth(s),tn(this.logService,t,`${t.name} gave ${i.pet.name} ${n} attack and ${s} health.`,e.tiger,e.pteranodon,{randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new op(e,this.logService,this.abilityService)}}class $y extends _{logService;abilityService;pendingAttack=0;pendingHealth=0;constructor(e,t,i){super({name:"BuffaloAbility",owner:e,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return(this.pendingAttack||this.pendingHealth)&&(t.increaseAttack(-this.pendingAttack),t.increaseHealth(-this.pendingHealth)),this.pendingAttack=0,this.pendingHealth=0,void this.triggerTigerExecution(e);const i=e.triggerPet;if(!i||!i.isSellPet())return void this.triggerTigerExecution(e);const n=2*this.level;t.increaseAttack(n),t.increaseHealth(n),this.pendingAttack+=n,this.pendingHealth+=n,this.logService.createLog({message:`${t.name} gained +${n}/+${n} until next turn after ${i.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new $y(e,this.logService,this.abilityService)}}class sp extends _{logService;abilityService;constructor(e,t,i){super({name:"LlamaAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;let i=!1;for(let r=0;r<5;r++)if(null==t.parent.getPetAtPosition(r)){i=!0;break}if(!i)return void this.triggerTigerExecution(e);const n=this.level,s=2*this.level;t.increaseAttack(n),t.increaseHealth(s),this.logService.createLog({message:`${t.name} gained +${n}/+${s} because there was an empty space.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new sp(e,this.logService,this.abilityService)}}class gk extends C{logService;abilityService;name="Butterfly";tier=1;pack="Puppy";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new Gy(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Gy extends _{logService;constructor(e,t){super({name:"ButterflyAbility",owner:e,triggers:["ThisTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;if(!r.alive)return;let d=r.parent.opponent.getStrongestPet(r);d.pet&&(r.health=d.pet.health,r.attack=d.pet.attack,this.logService.createLog({message:`${r.name} copied stats from the strongest enemy (${r.attack}/${r.health}).`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new Gy(e,this.logService)}}class lp extends _{logService;abilityService;constructor(e,t,i){super({name:"CaterpillarAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>this.owner.level>=3,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getThis(r),d=c.pet;if(null==d)return;let h=new gk(this.logService,this.abilityService,d.parent,d.health,d.attack,d.mana,d.exp,d.equipment);r.parent.transformPet(d,h),this.logService.createLog({message:`${r.name} transformed into a Butterfly.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new lp(e,this.logService,this.abilityService)}}class cp extends _{logService;constructor(e,t){super({name:"DobermanAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=8*this.level,d=r.parent.getThis(r),h=d.pet;if(null==h)return;h.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${h.name} ${c} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random});let v=!0;for(let K of r.parent.petArray)if(K!=r&&K.tier<=r.tier){v=!1;break}if(!v)return void this.triggerTigerExecution(e);let E=r.parent.getThis(r),q=E.pet;null!=q&&(q.givePetEquipment(new Qr),this.logService.createLog({message:`${r.name} gave ${q.name} Coconut.`,type:"ability",player:r.parent,tiger:n,randomEvent:E.random}),this.triggerTigerExecution(e))}copy(e){return new cp(e,this.logService)}}class yk extends _{logService;abilityService;constructor(e,t,i){super({name:"TahrAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithEquipment("Mild Chili"),d=r.parent.nearestPetsBehind(this.level,r,c);if(0!==d.pets.length){for(let h of d.pets)this.logService.createLog({message:`${r.name} gave ${h.name} Mild Chili.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.random}),h.givePetEquipment(new sP(this.logService,this.abilityService));this.triggerTigerExecution(e)}}copy(e){return new yk(e,this.logService,this.abilityService)}}class up extends _{logService;abilityService;constructor(e,t,i){super({name:"WhaleSharkAbility",owner:e,triggers:["ThisGainedPerk","ThisGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const r=this.owner;r.equipment&&(this.logService.createLog({message:`${r.name} removed ${r.equipment.name}`,type:"ability",player:r.parent}),r.removePerk());let c=r.parent.getThis(r),d=c.pet;if(null==d)return;let h=3*this.level;d.increaseAttack(h),d.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${d.name} ${h} attack and ${h} health.`,type:"ability",player:r.parent,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new up(e,this.logService,this.abilityService)}}class Hy extends _{logService;abilityService;equipmentService;constructor(e,t,i,n){super({name:"ChameleonAbility",owner:e,triggers:["SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:s=>null!=this.owner.parent.toy,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.equipmentService=n}executeAbility(e){const r=this.owner;r.removeAbility(this.name,"Pet"),this.addToyAbility(r.parent.toy.name)}addToyAbility(e){let t=this.owner;const n={"Tennis Ball":()=>new Wh(t,this.logService),Balloon:()=>new LP(t,this.logService),"Plastic Saw":()=>new ly(t,this.logService),Radio:()=>new zP(t,this.logService),"Oven Mitts":()=>new yu(t,this.logService),"Toilet Paper":()=>new uy(t,this.logService),"Foam Sword":()=>new Yh(t,this.logService),"Toy Gun":()=>new ro(t,this.logService),"Melon Helmet":()=>new dy(t,this.logService),"Stinky Sock":()=>new Sl(t,this.logService),Flashlight:()=>new JP(t,this.logService),"Peanut Jar":()=>new Io(t,this.logService),"Air Palm Tree":()=>new Ss(t,this.logService),Television:()=>new mi(t,this.logService),"Crystal Ball":()=>new Qh(t,this.logService),"Evil Book":()=>new Jh(t,this.logService,this.abilityService),"Treasure Chest":()=>new Ln(t,this.logService),"Witch Broom":()=>new Xh(t,this.logService),"Treasure Map":()=>new hr(t,this.logService),"Pandoras Box":()=>new Ra(t,this.logService,this.abilityService,this.equipmentService),Stick:()=>new NP(t,this.logService),"Cash Register":()=>new py(t,this.logService),"Microwave Oven":()=>new uk(t,this.logService,this.equipmentService),Camera:()=>new QP(t,this.logService)}[e];if(n)try{const s=n();s.abilityLevel=Math.min(t.parent.toy.level,this.level),s.alwaysIgnorePetLevel=!0,t.addAbility(s),this.logService.createLog({message:`${this.name} gained ${e} ability!`,type:"ability",player:t.parent})}catch(s){console.warn(`Failed to add ${e} ability to ${this.name}:`,s)}else this.logService.createLog({message:"Custom toy ability is currently not supported for Chameleon ability",type:"ability",player:t.parent})}copy(e){return new Hy(e,this.logService,this.abilityService,this.equipmentService)}}class dp extends _{logService;abilityService;constructor(e,t,i){super({name:"GharialAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Nt.getInjector().get(kr),n=Math.max(1,Math.min(3,this.level)),s=i.toys.get(n)??[];if(0===s.length)return void this.triggerTigerExecution(e);const r=s[Jt(0,s.length-1)],c=i.createToy(r,t.parent,n);c?(t.parent.toy=c,t.parent.toy.used=!1,t.parent.toy.triggers=0,tn(this.logService,t,`${t.name} chose a level ${n} ${r} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new dp(e,this.logService,this.abilityService)}}class hp extends _{logService;constructor(e,t){super({name:"StonefishAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner;let d=r.parent.getSpecificPet(r,i).pet;null==d||!d.alive||(r.snipePet(d,r.attack*this.level,!1,n,s),this.triggerTigerExecution(e))}copy(e){return new hp(e,this.logService)}}class qy extends _{logService;abilityService;constructor(e,t,i){super({name:"ChickenAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} gave future shop pets +${i} attack and +${i} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new qy(e,this.logService,this.abilityService)}}class vk extends C{logService;abilityService;petService;name="Eagle";tier=5;pack="Puppy";attack=6;health=5;constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}initAbilities(){this.addAbility(new pp(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class pp extends _{logService;abilityService;petService;constructor(e,t,i,n){super({name:"EagleAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner,c=Number.isFinite(t.previousShopTier)?t.previousShopTier:1,d=Math.min(6,Math.max(1,c+1)),h=Ae=>(Ae??[]).filter(Ce=>Ce&&r.name&&Ce.toLowerCase()!==r.name.toLowerCase()),v=r.parent===t.player?t.playerPetPool:t.opponentPetPool;let E=h(v?.get(d));if(E?.length||(E=h(this.petService.allPets.get(d))),E?.length||(E=h(this.petService.allPets.get(1))),!E.length)return void this.triggerTigerExecution(e);let q=E[Math.floor(Math.random()*E.length)],K=5*this.level,le=this.petService.createPet({name:q,attack:K,health:K,exp:r.minExpForLevel,equipment:null,mana:0},r.parent);r.parent.summonPet(le,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned ${le.name} Level ${le.level}`,type:"ability",player:r.parent,tiger:n,randomEvent:!0,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new pp(e,this.logService,this.abilityService,this.petService)}}class jy extends C{logService;abilityService;name="Praying Mantis";tier=4;pack="Star";attack=7;health=2;initAbilities(){this.addAbility(new gp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class gp extends _{logService;abilityService;constructor(e,t,i){super({name:"PrayingMantisAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,n=cs(t);for(const r of n)t.dealDamage(r,50);const s=2*this.level;t.increaseAttack(s),t.increaseHealth(s),this.logService.createLog({message:`${t.name} dealt 50 damage to adjacent friends and gained +${s}/+${s}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.length>1}),this.triggerTigerExecution(e)}copy(e){return new gp(e,this.logService,this.abilityService)}}class Vy extends _{logService;abilityService;constructor(e,t,i){super({name:"OrchidMantisAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=Math.min(Math.floor(r.attack*(.4*this.level)),50),d=Math.min(Math.floor(r.health*(.4*this.level)),50),h=new jy(this.logService,this.abilityService,r.parent,d,c,0,this.minExpForLevel,null),v=r.parent.summonPetInFront(r,h);v.success&&this.logService.createLog({message:`${r.name} spawned Mantis ${h.attack}/${h.health}.`,type:"ability",player:r.parent,tiger:n,randomEvent:v.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Vy(e,this.logService,this.abilityService)}}class fp extends _{logService;constructor(e,t){super({name:"AxolotlAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=r.parent.getSpecificPet(r,i),d=c.pet;if(null==d)return;let h=this.level;d.increaseAttack(h),d.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${d.name} ${h} attack and ${h} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new fp(e,this.logService)}}class Uy extends _{logService;constructor(e,t){super({name:"SnappingTurtleAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithEquipment("Skewer"),d=r.parent.nearestPetsBehind(r.level,r,c);if(0!==d.pets.length){for(let h of d.pets)this.logService.createLog({message:`${r.name} gave ${h.name} Skewer.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.random}),h.givePetEquipment(new ys(this.logService));this.triggerTigerExecution(e)}}copy(e){return new Uy(e,this.logService)}}class Wy extends _{logService;abilityService;constructor(e,t,i){super({name:"MosasaurusAbility",owner:e,triggers:["FriendlyToyBroke"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=cs(t);if(0===i.length)return void this.triggerTigerExecution(e);const n=2*this.level,s=3*this.level;for(const r of i)r.increaseAttack(n),r.increaseHealth(s),this.logService.createLog({message:`${t.name} gave ${r.name} +${n}/+${s}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon});this.triggerTigerExecution(e)}copy(e){return new Wy(e,this.logService,this.abilityService)}}class Ky extends _{logService;abilityService;constructor(e,t,i){super({name:"StingRayAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Nt.getInjector().get(kr),n=Math.max(1,Math.min(3,this.level)),s=i.toys.get(n)??[];if(0===s.length)return void this.triggerTigerExecution(e);const r=s[Jt(0,s.length-1)],c=i.createToy(r,t.parent,n);c?(t.parent.toy=c,t.parent.toy.used=!1,t.parent.toy.triggers=0,tn(this.logService,t,`${t.name} chose a level ${n} ${r} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Ky(e,this.logService,this.abilityService)}}class wu extends _{logService;constructor(e,t){super({name:"MantisShrimpAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent;for(let d=0;d<this.level;d++){let h=c.getFurthestUpPet(r),v=h.pet;if(null==v)return;r.snipePet(v,10,h.random,n)}this.triggerTigerExecution(e)}copy(e){return new wu(e,this.logService)}}class wl extends _{logService;constructor(e,t){super({name:"LionfishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.opponent,d=1+Math.floor(r.attack/10);for(let h=0;h<d;h++){let v=c.getRandomPet([],!1,!0,!1,r);if(null==v.pet)return;r.snipePet(v.pet,3*this.level,v.random,n,s)}this.triggerTigerExecution(e)}copy(e){return new wl(e,this.logService)}}class yp extends _{logService;abilityService;constructor(e,t,i){super({name:"TyrannosaurusAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(c=>c.alive&&c!==t&&c.tier>=5),n=i.length;if(0===i.length)return void this.triggerTigerExecution(e);const s=[];for(;s.length<2&&i.length>0;){const c=Jt(0,i.length-1);s.push(i[c]),i.splice(c,1)}const r=2*this.level;for(const c of s)c.increaseAttack(r),c.increaseHealth(r);this.logService.createLog({message:`${t.name} gave ${s.map(c=>c.name).join(", ")} +${r}/+${r}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n>s.length}),this.triggerTigerExecution(e)}copy(e){return new yp(e,this.logService,this.abilityService)}}class bp extends _{logService;constructor(e,t){super({name:"OctopusAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner,c=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[r],null,!0,r);let d=c.pets;for(let v of d){if(null==v)return;r.snipePet(v,6,c.random,n)}this.triggerTigerExecution(e)}copy(e){return new bp(e,this.logService)}}class Cu extends _{logService;abilityService;constructor(e,t,i){super({name:"AnglerfishAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} stocked a free pet from the last opponent ${1===i?"once":2===i?"twice":"thrice"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Cu(e,this.logService,this.abilityService)}}class oo extends _{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,i){super({name:"SauropodAbility",owner:e,triggers:["FriendlyGainsPerk","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const i=this.level;this.usesThisTurn++,this.logService.createLog({message:`${t.name} will give +${i} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new oo(e,this.logService,this.abilityService)}}class Eu extends _{logService;constructor(e,t){super({name:"ElephantSealAbility",owner:e,triggers:["ThisGainedPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=4*this.level,d=r.parent.getRandomPets(3,[r],!0,!1,r);for(let h of d.pets)null!=h&&(h.increaseAttack(c),h.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${h.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}));this.triggerTigerExecution(e)}copy(e){return new Eu(e,this.logService)}}class xu extends _{logService;abilityService;constructor(e,t,i){super({name:"MongooseAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Nt.getInjector().get(kr),n=Math.max(1,Math.min(3,this.level)),s=i.toys.get(n)??[];if(0===s.length)return void this.triggerTigerExecution(e);const r=s[Jt(0,s.length-1)],c=i.createToy(r,t.parent,n);c?(t.parent.toy=c,t.parent.toy.used=!1,t.parent.toy.triggers=0,tn(this.logService,t,`${t.name} chose a level ${n} ${r} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new xu(e,this.logService,this.abilityService)}}const HE={Moth:class Nf extends C{logService;abilityService;name="Moth";tier=1;pack="Puppy";health=3;attack=1;initAbilities(){this.addAbility(new Ff(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Bluebird:class zT extends C{logService;abilityService;name="Bluebird";tier=1;pack="Puppy";attack=2;health=1;initAbilities(){this.addAbility(new Of(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Chinchilla:class Bf extends C{logService;abilityService;name="Chinchilla";tier=1;pack="Puppy";attack=2;health=3;initAbilities(){this.addAbility(new lu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Beetle:class fl extends C{logService;abilityService;name="Beetle";tier=1;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new Dh(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Ladybug:class YT extends C{logService;abilityService;name="Ladybug";tier=1;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new ZS(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Chipmunk:class XT extends C{logService;abilityService;name="Chipmunk";tier=1;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new $f(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Gecko:class QT extends C{logService;abilityService;name="Gecko";tier=1;pack="Puppy";attack=3;health=1;toyPet=!0;initAbilities(){this.addAbility(new yl(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Ferret:class CR extends C{logService;abilityService;name="Ferret";tier=1;pack="Puppy";attack=1;health=3;initAbilities(){this.addAbility(new dk(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Robin:class ku extends C{logService;abilityService;name="Robin";tier=2;pack="Puppy";attack=2;health=3;initAbilities(){this.addAbility(new _y(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Bat:class mE extends C{logService;abilityService;name="Bat";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new tp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Bilby:class fE extends C{logService;abilityService;name="Bilby";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new Ro(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Dromedary:class yE extends C{logService;abilityService;name="Dromedary";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new ip(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Shrimp:class bE extends C{logService;abilityService;name="Shrimp";tier=2;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new wy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Toucan:class kE extends C{logService;abilityService;name="Toucan";tier=3;pack="Puppy";attack=4;health=3;initAbilities(){this.addAbility(new rp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Beluga Sturgeon":class vE extends C{logService;abilityService;name="Beluga Sturgeon";tier=2;pack="Puppy";attack=2;health=3;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}initAbilities(){this.addAbility(new Ty(this,this.logService,this.abilityService)),super.initAbilities()}},"Tabby Cat":class AE extends C{logService;abilityService;name="Tabby Cat";tier=2;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new _u(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Mandrill:class SE extends C{logService;abilityService;name="Mandrill";tier=2;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new np(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Lemur:Cy,"Gold Fish":class PE extends C{logService;abilityService;name="Goldfish";tier=2;pack="Puppy";attack=1;health=1;initAbilities(){this.addAbility(new _l(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Hoopoe Bird":class _E extends C{logService;abilityService;name="Hoopoe Bird";tier=3;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new xy(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Tropical Fish":class wE extends C{logService;abilityService;name="Tropical Fish";tier=3;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new Dy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Hatching Chick":class TE extends C{logService;abilityService;name="Hatching Chick";tier=3;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new My(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Owl:class CE extends C{logService;abilityService;name="Owl";tier=3;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new Iy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Mole:hk,Pangolin:class EE extends C{logService;abilityService;name="Pangolin";tier=3;pack="Puppy";attack=2;health=5;initAbilities(){this.addAbility(new Ly(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Puppy:class xE extends C{logService;abilityService;name="Puppy";tier=4;pack="Puppy";attack=3;health=6;initAbilities(){this.addAbility(new ap(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Purple Frog":class Ny extends C{logService;abilityService;name="Purple Frog";tier=3;pack="Puppy";attack=4;health=2;initAbilities(){this.addAbility(new Fy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Hare:class DE extends C{logService;abilityService;name="Hare";tier=3;pack="Puppy";health=4;attack=4;initAbilities(){this.addAbility(new Oy(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Microbe:class ME extends C{logService;abilityService;name="Microbe";tier=4;pack="Puppy";attack=4;health=1;initAbilities(){this.addAbility(new By(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Lobster:class IE extends C{logService;abilityService;name="Lobster";tier=4;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new op(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Buffalo:class pk extends C{logService;abilityService;name="Buffalo";tier=4;pack="Puppy";attack=4;health=4;initAbilities(){this.addAbility(new $y(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Llama:class RE extends C{logService;abilityService;name="Llama";tier=4;pack="Puppy";attack=3;health=5;initAbilities(){this.addAbility(new sp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Caterpillar:class mk extends C{logService;abilityService;name="Caterpillar";tier=4;pack="Puppy";attack=1;health=1;initAbilities(){this.addAbility(new lp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Doberman:class fk extends C{logService;abilityService;name="Doberman";tier=4;pack="Puppy";attack=1;health=4;initAbilities(){this.addAbility(new cp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Tahr:class Er extends C{logService;abilityService;name="Tahr";tier=4;pack="Puppy";attack=5;health=3;initAbilities(){this.addAbility(new yk(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Whale Shark":class ER extends C{logService;abilityService;name="Whale Shark";tier=4;pack="Puppy";attack=2;health=6;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}initAbilities(){this.addAbility(new up(this,this.logService,this.abilityService)),super.initAbilities()}},Chameleon:class bk extends C{logService;abilityService;name="Chameleon";tier=4;pack="Puppy";attack=3;health=5;toyService;equipmentService;initAbilities(){this.addAbility(new Hy(this,this.logService,this.abilityService,this.equipmentService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v,E){super(e,t,i),this.logService=e,this.abilityService=t,this.toyService=v,this.equipmentService=E,this.initPet(c,n,s,r,d,h)}},Gharial:class LE extends C{logService;abilityService;name="Gharial";tier=3;pack="Puppy";attack=5;health=2;initAbilities(){this.addAbility(new dp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Stonefish:class NE extends C{logService;abilityService;name="Stonefish";tier=5;pack="Puppy";attack=7;health=4;initAbilities(){this.addAbility(new hp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Goat:class Sk extends C{logService;abilityService;name="Goat";tier=5;pack="Puppy";attack=4;health=6;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Chicken:class xR extends C{logService;abilityService;name="Chicken";tier=5;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new qy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Orchid Mantis":class FE extends C{logService;abilityService;name="Orchid Mantis";tier=5;pack="Puppy";attack=8;health=4;initAbilities(){this.addAbility(new Vy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Panther:class OE extends C{logService;abilityService;name="Panther";tier=5;pack="Puppy";attack=3;health=5;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Axolotl:class Ak extends C{logService;abilityService;name="Axolotl";tier=5;pack="Puppy";attack=2;health=5;initAbilities(){this.addAbility(new fp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Snapping Turtle":class Pk extends C{logService;abilityService;name="Snapping Turtle";tier=5;pack="Puppy";attack=4;health=5;initAbilities(){this.addAbility(new Uy(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Mosasaurus:class $E extends C{logService;abilityService;name="Mosasaurus";tier=5;pack="Puppy";attack=5;health=6;initAbilities(){this.addAbility(new Wy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Sting Ray":class GE extends C{logService;abilityService;name="Sting Ray";tier=5;pack="Puppy";attack=5;health=7;initAbilities(){this.addAbility(new Ky(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Mantis Shrimp":class kk extends C{logService;abilityService;name="Mantis Shrimp";tier=6;pack="Puppy";attack=9;health=3;initAbilities(){this.addAbility(new wu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Lionfish:class DR extends C{logService;abilityService;name="Lionfish";tier=6;pack="Puppy";attack=10;health=4;initAbilities(){this.addAbility(new wl(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Tyrannosaurus:class zy extends C{logService;abilityService;name="Tyrannosaurus";tier=6;pack="Puppy";attack=7;health=7;initAbilities(){this.addAbility(new yp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Octopus:class _k extends C{logService;abilityService;name="Octopus";tier=6;pack="Puppy";attack=8;health=8;initAbilities(){this.addAbility(new bp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Anglerfish:class Tu extends C{logService;abilityService;name="Anglerfish";tier=6;pack="Puppy";attack=7;health=4;initAbilities(){this.addAbility(new Cu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Sauropod:class wk extends C{logService;abilityService;name="Sauropod";tier=6;pack="Puppy";attack=4;health=12;initAbilities(){this.addAbility(new oo(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Elephant Seal":class _s extends C{logService;abilityService;name="Elephant Seal";tier=6;pack="Puppy";attack=4;health=8;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}initAbilities(){this.addAbility(new Eu(this,this.logService)),super.initAbilities()}},Puma:Uc,Mongoose:class Tk extends C{logService;abilityService;name="Mongoose";tier=6;pack="Puppy";attack=7;health=6;initAbilities(){this.addAbility(new xu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Eagle:vk};class vp extends _{logService;abilityService;constructor(e,t,i){super({name:"PillbugAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} stocked ${i} free Sleeping Pill${1===i?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new vp(e,this.logService,this.abilityService)}}class Ck extends C{logService;abilityService;name="Summoned Cockroach";tier=1;pack="Star";attack=1;health=1;hidden=!0;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Yy extends _{logService;abilityService;constructor(e,t,i){super({name:"CockroachAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner,c=this.level,d=new Ck(this.logService,this.abilityService,r.parent,1,1,0,0);let h=r.parent.summonPet(d,r.savedPosition,!1,r);if(h.success){this.logService.createLog({message:`${r.name} summoned a 1/1 Cockroach.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.randomEvent});let v=r.parent.getSpecificPet(r,d);v.pet.increaseExp(c),this.logService.createLog({message:`${r.name} gave ${v.pet.name} +${c} exp.`,type:"ability",player:r.parent,tiger:n,randomEvent:v.random})}this.triggerTigerExecution(e)}copy(e){return new Yy(e,this.logService,this.abilityService)}}class Qy extends _{logService;constructor(e,t){super({name:"FrogAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>1===this.owner.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsAhead(1,r),d=r.parent.nearestPetsBehind(1,r);if(0===c.pets.length||0===d.pets.length)return;let h=c.pets[0],v=d.pets[0],E=h.attack,q=h.health,le=v.health;h.attack=v.attack,h.health=le,v.attack=E,v.health=q,this.logService.createLog({message:`${r.name} swapped the attack and health of ${h.name} and ${v.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random||d.random}),this.triggerTigerExecution(e)}copy(e){return new Qy(e,this.logService)}}class Jy extends _{logService;abilityService;constructor(e,t,i){super({name:"HummingbirdAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getPetsWithEquipment("Strawberry"),d=r.parent.nearestPetsBehind(this.level,r,c);if(0!==d.pets.length){for(let h of d.pets)h.givePetEquipment(new Gc(this.logService)),this.logService.createLog({message:`${r.name} gave ${h.name} strawberry.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random});this.triggerTigerExecution(e)}}copy(e){return new Jy(e,this.logService,this.abilityService)}}class La extends _{logService;abilityService;constructor(e,t,i){super({name:"MarmosetAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} was sold and your ${1===i?"next roll is":`next ${i} rolls are`} free.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new La(e,this.logService,this.abilityService)}}class Zy extends _{logService;abilityService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t,i){super({name:"PheasantAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner,c=dr(r,i);if(!c.pet)return;const d=c.pet;tn(this.logService,r,`${r.name} gave ${d.name} a Strawberry.`,n,s,{randomEvent:c.random}),d.givePetEquipment(new Gc(this.logService)),this.triggerTigerExecution(e)}copy(e){return new Zy(e,this.logService,this.abilityService)}}class eb extends _{logService;constructor(e,t){super({name:"KiwiAbility",owner:e,triggers:["ThisHurt","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.petArray.filter(E=>"Strawberry"!=E.equipment?.name||E==r),d=r.parent.getLastPet(c,r),h=d.pet;if(null==h)return;let v=this.level;h.increaseAttack(v),this.logService.createLog({message:`${r.name} gave ${h.name} +${v} attack`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new eb(e,this.logService)}}class Ap extends _{logService;constructor(e,t){super({name:"ChihuahuaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner,c=r.parent.opponent,d=c.getHighestHealthPet(void 0,r),h=d.pet;if(h){const v=this.level;this.logService.createLog({message:`${r.name} pushed ${h.name} forward ${v} space(s).`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),c.pushPet(h,v)}this.triggerTigerExecution(e)}copy(e){return new Ap(e,this.logService)}}class Sp extends _{logService;constructor(e,t){super({name:"FireflyAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithinXSpaces(r,this.level),d=c.pets;if(0!=d.length){for(const h of d)r.snipePet(h,1,c.random,n,s);this.triggerTigerExecution(e)}}copy(e){return new Sp(e,this.logService)}}class tb extends _{logService;constructor(e,t){super({name:"IguanaAbility",owner:e,triggers:["EnemyPushed","EnemySummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=r.parent.getSpecificPet(r,i),d=c.pet;null!=d&&d.alive&&(r.snipePet(d,2*this.level,c.random,n),this.triggerTigerExecution(e))}copy(e){return new tb(e,this.logService)}}class ib extends _{logService;constructor(e,t){super({name:"KoalaAbility",owner:e,triggers:["FriendHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=r.parent.getSpecificPet(r,i),d=c.pet;d&&(this.logService.createLog({message:`${r.name} gave ${d.name} Eucalyptus perk.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),d.givePetEquipment(new Oh),this.triggerTigerExecution(e))}copy(e){return new ib(e,this.logService)}}class nb extends _{logService;abilityService;constructor(e,t,i){super({name:"DumboOctopusAbility",owner:e,triggers:["Roll3"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked a discounted food from the last 3 tiers (-${this.level} gold).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new nb(e,this.logService,this.abilityService)}}class rb extends _{logService;constructor(e,t){super({name:"SalamanderAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getThis(r),d=c.pet;if(null==d)return;let h=0;for(let v of r.parent.petArray)v.isSellPet()&&(h+=v.level*this.level);h>0&&(this.logService.createLog({message:`${r.name} gave ${d.name} ${h} attack and ${h} health from sell pets.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random}),d.increaseAttack(h),d.increaseHealth(h)),this.triggerTigerExecution(e)}copy(e){return new rb(e,this.logService)}}class Dk extends C{logService;abilityService;name="Guinea Pig";tier=2;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new ab(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class ab extends _{logService;abilityService;constructor(e,t,i){super({name:"GuineaPigAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,n=this.level,s=new Dk(this.logService,this.abilityService,t.parent,n,n,null,this.minExpForLevel),r=t.parent.summonPet(s,t.savedPosition,!1,t);r.success&&this.logService.createLog({message:`${t.name} summoned a ${n}/${n} Guinea Pig (level ${this.level}).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:r.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new ab(e,this.logService,this.abilityService)}}class ob extends _{logService;constructor(e,t){super({name:"JellyfishAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getThis(r),d=c.pet;if(null==d)return;let h=this.level;d.increaseAttack(h),d.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${d.name} attack by ${h} and health by ${h}`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new ob(e,this.logService)}}class sb extends _{logService;constructor(e,t){super({name:"DoveAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.petArray.filter(v=>v==r||"Strawberry"!=v.equipment?.name),d=r.parent.getRandomPets(3,c,null,null,r),h=d.pets;if(0!=h.length){for(let v of h){if("Strawberry"!=v.equipment.name)continue;this.logService.createLog({message:`${r.name} activated ${v.name}'s Strawberry.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random,pteranodon:s});let q=v.parent.getLastPet(null,v).pet,K=this.level+q.equipment.multiplier-1;q.increaseAttack(K),q.increaseHealth(K),this.logService.createLog({message:`${v.name} gave ${q.name} ${K} attack ${K} health (Strawberry) (x${this.level} ${r.name}).`,type:"equipment",player:r.parent,tiger:n,pteranodon:s})}this.triggerTigerExecution(e)}}copy(e){return new sb(e,this.logService)}}class lb extends C{logService;abilityService;petService;name="Stork";tier=2;pack="Star";attack=2;health=1;initAbilities(){this.addAbility(new cb(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class cb extends _{logService;abilityService;petService;constructor(e,t,i,n){super({name:"StorkAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let c=Math.max(1,t.previousShopTier-1);const d=le=>(le??[]).filter(ce=>ce&&r.name&&ce.toLowerCase()!==r.name.toLowerCase());let h=d(this.petService.allPets.get(c));if(h.length||(h=d(this.petService.allPets.get(1))),!h.length)return void this.triggerTigerExecution(e);let v=h[Math.floor(Math.random()*h.length)],E=t.oldStork,q=this.petService.createPet({name:v,attack:E?null:2*this.level,equipment:null,exp:r.minExpForLevel,health:E?null:2*this.level,mana:0},r.parent);r.parent.summonPet(q,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned ${q.name} Level ${this.level}`,type:"ability",player:r.parent,tiger:n,randomEvent:!0,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new cb(e,this.logService,this.abilityService,this.petService)}}class ub extends C{logService;abilityService;petService;name="Shima Enaga";tier=2;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new db(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class db extends _{logService;abilityService;petService;constructor(e,t,i,n){super({name:"ShimaEnagaAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,condition:s=>{const{triggerPet:r}=s;return r&&"Strawberry"==r.equipment?.name},abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=2*this.level,d=this.petService.createPet({name:r.name,attack:c,health:c,equipment:null,exp:0,mana:0},r.parent);r.parent.summonPet(d,i.position,!1,r).success&&this.logService.createLog({message:`${r.name} summoned a (${c}/${c}) Shima Enaga`,type:"ability",player:r.parent,tiger:n,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new db(e,this.logService,this.abilityService,this.petService)}}class hb extends _{logService;constructor(e,t){super({name:"BassAbility",owner:e,triggers:["Faint","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner,c=r.parent.petArray.filter(E=>E==r&&!E.isSellPet()&&E.level<2);let d=r.parent.getRandomPet(c,!0,null,null,r);const h=d.pet;if(null==h)return;const v=this.level;this.logService.createLog({message:`${r.name} gave ${h.name} +${v} experience.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.random}),h.increaseExp(v),this.triggerTigerExecution(e)}copy(e){return new hb(e,this.logService)}}class pb extends _{logService;constructor(e,t){super({name:"PugAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsAhead(1,r);if(0===c.pets.length)return;let d=c.pets[0],h=this.level;this.logService.createLog({message:`${r.name} gave ${d.name} ${h} exp.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),d.increaseExp(h),this.triggerTigerExecution(e)}copy(e){return new pb(e,this.logService)}}class Du extends _{logService;abilityService;constructor(e,t,i){super({name:"CardinalAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;let i=t.petAhead;for(;i;){const n=i.equipment;if(n&&!n.equipmentClass?.startsWith("ailment")){this.logService.createLog({message:`${t.name} stocked a discounted copy of ${n.name} (-${this.level} gold).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon});break}i=i.petAhead}this.triggerTigerExecution(e)}copy(e){return new Du(e,this.logService,this.abilityService)}}class gb extends _{logService;abilityService;constructor(e,t,i){super({name:"LeechAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.petAhead;if(!i)return void this.triggerTigerExecution(e);const n=this.level,s=Math.min(n,i.health);t.dealDamage(i,n),t.increaseHealth(s),this.logService.createLog({message:`${t.name} dealt ${n} damage to ${i.name} and gained ${s} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new gb(e,this.logService,this.abilityService)}}class Ik extends C{logService;abilityService;name="Tuna";tier=3;pack="Star";attack=3;health=5;initAbilities(){this.addAbility(new mb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h),this.timesHurt=v??0,this.originalTimesHurt=this.timesHurt}}class mb extends _{logService;timesHurtOverride;constructor(e,t,i){super({name:"TunaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.timesHurtOverride=i??null}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=this.timesHurtOverride??r.timesHurt;for(let d=0;d<c;d++){const h=r.parent.getRandomPet([r],!0,!1,!0,r);if(null==h.pet)continue;const v=this.level;this.logService.createLog({message:`${r.name} gave ${h.pet.name} +${v} attack and +${v} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}),h.pet.increaseAttack(v),h.pet.increaseHealth(v)}this.triggerTigerExecution(e)}copy(e){return new mb(e,this.logService,this.timesHurtOverride??this.owner.timesHurt)}}class Tl extends _{logService;reset(){this.maxUses=2*this.owner.level,super.reset()}constructor(e,t){super({name:"ToadAbility",owner:e,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2*e.level,condition:i=>{const{triggerPet:n}=i;return n&&n.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=r.parent.getSpecificPet(r,i),d=c.pet;if("Weak"===d?.equipment?.name){let h=r.parent.getPetsWithEquipmentWithSillyFallback("Weak",r);c=r.parent.opponent.getRandomPet(h,null,!0,null,r),d=c.pet}null!=d&&(d.givePetEquipment(new Ma),this.logService.createLog({message:`${r.name} gave ${d.name} Weak.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e))}copy(e){return new Tl(e,this.logService)}}class Rk extends _{logService;abilityService;constructor(e,t,i){super({name:"CapybaraAbility",owner:e,triggers:["Roll","FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} gave newly rolled shop pets +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Rk(e,this.logService,this.abilityService)}}class Mu extends _{logService;abilityService;usesThisTurn=0;pendingAttack=0;pendingHealth=0;maxUsesPerTurn=5;constructor(e,t,i){super({name:"OkapiAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return(this.pendingAttack||this.pendingHealth)&&(t.increaseAttack(-this.pendingAttack),t.increaseHealth(-this.pendingHealth)),this.pendingAttack=0,this.pendingHealth=0,this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const i=this.level;t.increaseAttack(i),t.increaseHealth(i),this.pendingAttack+=i,this.pendingHealth+=i,this.usesThisTurn++,this.logService.createLog({message:`${t.name} gained +${i}/+${i} until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Mu(e,this.logService,this.abilityService)}}class Lo extends _{logService;constructor(e,t){super({name:"CassowaryAbility",owner:e,triggers:["FriendlyGainedStrawberry"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner,c=this.level;let h=r.parent.getThis(r).pet;null!=h&&(this.logService.createLog({message:`${r.name} gave ${h.name} +${c} permanent health and +${c} attack for this battle.`,type:"ability",player:r.parent,tiger:n}),h.increaseHealth(c),h.increaseAttack(c),this.triggerTigerExecution(e))}copy(e){return new Lo(e,this.logService)}}class No extends _{logService;abilityService;constructor(e,t,i){super({name:"AnteaterAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;for(let c=0;c<this.level;c++){let d=new Xc(this.logService,this.abilityService,r.parent,1,1,0,5),h=r.parent.summonPet(d,r.savedPosition,!1,r);h.success&&this.logService.createLog({message:`${r.name} spawned 1/1 Ant level 3`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new No(e,this.logService,this.abilityService)}}class Pp extends C{logService;abilityService;name="Orangutan";tier=3;pack="Star";attack=1;health=4;initAbilities(){this.addAbility(new Cl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Cl extends _{logService;abilityService;constructor(e,t,i){super({name:"OrangutanAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.getLowestHealthPet(t),n=i.pet;if(!n)return void this.triggerTigerExecution(e);const s=3*this.level;n.increaseHealth(s),this.logService.createLog({message:`${t.name} gave ${n.name} +${s} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new Cl(e,this.logService,this.abilityService)}}class El extends _{logService;constructor(e,t){super({name:"ClownfishAbility",owner:e,triggers:["FriendlyLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=r.parent.getSpecificPet(r,i),d=c.pet;if(null==d)return;let h=2*this.level;d.increaseAttack(h),d.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${d.name} ${h} attack and ${h} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new El(e,this.logService)}}class kp extends _{logService;abilityService;constructor(e,t,i){super({name:"SiameseAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=cs(t);if(0===i.length)return void this.triggerTigerExecution(e);const s=this.level,r=!0===e.discountedFood||!0===e.shopDiscountedFood?this.level:0;for(const c of i)c.increaseAttack(s),r>0&&c.increaseHealth(r);this.logService.createLog({message:`${t.name} gave adjacent friends +${s} attack${r>0?` and +${r} health`:""}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.length>1}),this.triggerTigerExecution(e)}copy(e){return new kp(e,this.logService,this.abilityService)}}class fb extends _{logService;abilityService;constructor(e,t,i){super({name:"ElkAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(r=>r.alive&&r.isSellPet());if(0===i.length)return void this.triggerTigerExecution(e);const n=i[Math.floor(Math.random()*i.length)],s=2*this.level;n.increaseSellValue(s),this.logService.createLog({message:`${t.name} increased ${n.name}'s sell value by ${s}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.length>1}),this.triggerTigerExecution(e)}copy(e){return new fb(e,this.logService,this.abilityService)}}class Es extends _{constructor(e){super({name:"FairyAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:t=>{this.executeAbility(t)}})}executeAbility(e){}copy(e){return new Es(e)}}class _p extends C{logService;abilityService;name="Fairy Ball";tier=1;pack="Star";attack=2;health=6;hidden=!0;initAbilities(){this.addAbility(new Es(this)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class xl extends _{logService;abilityService;constructor(e,t,i){super({name:"FairyArmadilloAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner,c=2*this.level,d=r.parent.getThis(r),h=d.pet;if(null==h)return;h.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${h.name} ${c} permanent health and transforms into a protected ball!`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random});const v=r.parent.getThis(r),E=v.pet;if(null==E)return;const q=new _p(this.logService,this.abilityService,E.parent,E.health,E.attack,E.mana,E.exp,E.equipment);this.logService.createLog({message:`${r.name} transformed ${E.name} into a protected ball!`,type:"ability",player:r.parent,tiger:n,randomEvent:v.random}),E.parent.transformPet(E,q),this.triggerTigerExecution(e)}copy(e){return new xl(e,this.logService,this.abilityService)}}class bb extends _{logService;constructor(e,t){super({name:"FossaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,r=this.owner,d=r.parent===t.player?t.playerRollAmount:t.opponentRollAmount;if(d<=0)return;const h=this.level*d;let E=r.parent.opponent.getFurthestUpPets(2,void 0,r).pets;if(0!=E.length){for(let q of E)this.logService.createLog({message:`${r.name} removed ${h} health from ${q.name}.`,type:"ability",player:r.parent,tiger:n}),q.increaseHealth(-h);this.triggerTigerExecution(e)}}copy(e){return new bb(e,this.logService)}}class Dl extends _{logService;constructor(e,t){super({name:"HawkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getOppositeEnemyPet(r),d=c.pet;d&&r.snipePet(d,7*this.level,c.random,n),this.triggerTigerExecution(e)}copy(e){return new Dl(e,this.logService)}}class Ml extends _{logService;abilityService;constructor(e,t,i){super({name:"PlatypusAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=3*this.level,d=2*this.level,h=new Zc(this.logService,this.abilityService,r.parent,d,c,0,this.minExpForLevel),v=new TS(this.logService,this.abilityService,r.parent,d,c,0,this.minExpForLevel),E=r.parent.summonPet(h,r.savedPosition,!1,r);E.success&&this.logService.createLog({message:`${r.name} spawned ${c}/${d} Duck level ${this.level}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:E.randomEvent});let q=r.parent.summonPet(v,r.savedPosition,!1,r);q.success&&this.logService.createLog({message:`${r.name} spawned ${c}/${d} Beaver level ${this.level}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:q.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Ml(e,this.logService,this.abilityService)}}class vb extends _{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"DonkeyAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let d=r.parent.opponent.getLastPet();null!=d.pet&&(r.parent.pushPet(d.pet,d.pet.position),d.pet.increaseAttack(-3),this.logService.createLog({message:`${r.name} pushed ${d.pet.name} to the front and removed 3 attack.`,type:"ability",player:r.parent,tiger:n}),this.triggerTigerExecution(e))}copy(e){return new vb(e,this.logService)}}class Sb extends _{logService;abilityService;constructor(e,t,i){super({name:"SparrowAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Sb(e,this.logService,this.abilityService)}}class Pb extends _{logService;constructor(e,t){super({name:"BlobfishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsBehind(2,r),d=c.pets;for(let h of d){let v=this.level;this.logService.createLog({message:`${r.name} gave ${h.name} ${v} exp.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),h.increaseExp(v)}this.triggerTigerExecution(e)}copy(e){return new Pb(e,this.logService)}}class Fk extends _{logService;constructor(e,t){super({name:"WoodpeckerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=2*this.level;for(let d=0;d<c;d++){let h=r.parent.nearestPetsAhead(2,r,null,!0),v=h.pets;for(let E of v){let q=1;E.parent!=this.owner.parent&&(q*=2),r.snipePet(E,q,h.random,n)}}this.triggerTigerExecution(e)}copy(e){return new Fk(e,this.logService)}}class kb extends _{logService;abilityService;constructor(e,t,i){super({name:"StarfishAbility",owner:e,triggers:["FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=e.triggerPet;if(!i||3!==i.level)return void this.triggerTigerExecution(e);const n=i.attack>=10?3:1,s=this.level*n,r=t.parent.petArray.filter(c=>c.alive);for(const c of r)c.increaseAttack(s),c.increaseHealth(s);this.logService.createLog({message:`${t.name} gave friends +${s}/+${s}${n>1?" (triple bonus)":""}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new kb(e,this.logService,this.abilityService)}}class Bk extends C{logService;abilityService;petService;name="Pelican";tier=5;pack="Star";attack=5;health=5;initAbilities(){this.addAbility(new wb(this,this.logService,this.petService)),this.addAbility(new _b(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class _b extends _{logService;abilityService;constructor(e,t,i){super({name:"PelicanFaintAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)},ignoreRepeats:!0}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;for(;r.swallowedPets.length>0;){let c=r.swallowedPets.shift(),d=r.parent.summonPet(c,r.savedPosition,!1,r);d.success&&this.logService.createLog({message:`${r.name} summoned ${c.name} (level ${c.level}).`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new _b(e,this.logService,this.abilityService)}}class wb extends _{logService;petService;constructor(e,t,i){super({name:"PelicanStartAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getPetsWithoutEquipment("Strawberry"),d=r.parent.nearestPetsAhead(this.level,r,c),h=d.pets;if(0!=h.length){for(let v of h){let E=this.petService.createPet({name:"Salmon",attack:v.attack,health:v.health,exp:v.exp,equipment:null,mana:0},r.parent);r.swallowedPets.push(E),v.health=0,this.logService.createLog({message:`${r.name} swallowed ${v.name}`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random})}this.triggerTigerExecution(e)}}copy(e){return new wb(e,this.logService,this.petService)}}class Tp extends _{logService;constructor(e,t){super({name:"SwordFishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,r=n.parent.opponent.getHighestHealthPet(void 0,n),c=r.pet,d=n.attack*this.level;c?(n.snipePet(c,d,r.random,t,i),this.logService.createLog({message:`${n.name} deals ${d} damage to ${c.name}.`,type:"ability",player:n.parent,sourcePet:n,targetPet:c,tiger:t,pteranodon:i,randomEvent:r.random})):this.logService.createLog({message:`${n.name} could not find an enemy to attack.`,type:"ability",player:n.parent,sourcePet:n,tiger:t,pteranodon:i}),n.snipePet(n,d,!1,t,i),this.logService.createLog({message:`${n.name} deals ${d} damage to itself.`,type:"ability",player:n.parent,sourcePet:n,targetPet:n,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Tp(e,this.logService)}}class Cp extends _{logService;constructor(e,t){super({name:"TriceratopsAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getRandomPet([r],!0,!1,!0,r),d=3*this.level;null!=c.pet&&(c.pet.increaseAttack(d),c.pet.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${c.pet.name} ${d} attack and ${d} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e))}copy(e){return new Cp(e,this.logService)}}class Ep extends _{logService;abilityService;usesThisTurn=0;constructor(e,t,i){super({name:"HamsterAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=2*this.level)return void this.triggerTigerExecution(e);this.usesThisTurn++;const i=this.owner;this.logService.createLog({message:`${i.name} gained a free roll.`,type:"ability",player:i.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Ep(e,this.logService,this.abilityService)}}class Tb extends _{logService;abilityService;constructor(e,t,i){super({name:"ShoebillAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;let i=t.petAhead;for(;i;){if("Strawberry"===i.equipment?.name){const n=4*this.level;i.removePerk(),i.increaseAttack(n),i.increaseHealth(n),this.logService.createLog({message:`${t.name} replaced Strawberry on ${i.name} with +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon});break}i=i.petAhead}this.triggerTigerExecution(e)}copy(e){return new Tb(e,this.logService,this.abilityService)}}class Cb extends _{logService;abilityService;constructor(e,t,i){super({name:"VultureAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let d=r.parent.opponent.getRandomPet([],!1,!0,!1,r);if(null==d.pet)return;let h=4*this.level;r.snipePet(d.pet,h,d.random,n),this.logService.createLog({message:`${r.name} sniped ${d.pet.name} for ${h} after a friend died.`,type:"ability",player:r.parent,tiger:n}),this.triggerTigerExecution(e)}copy(e){return new Cb(e,this.logService,this.abilityService)}}class Eb extends _{logService;affectedEnemies=new Set;reset(){this.maxUses=this.level,this.affectedEnemies=new Set,super.reset()}constructor(e,t){super({name:"IbexAbility",owner:e,triggers:["EnemyHurt","EnemyPushed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>{const{triggerPet:n}=i;return n&&n.alive&&!this.affectedEnemies.has(n)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=r.parent.getSpecificPet(r,i),d=c.pet;if(null==d)return;let h=Math.floor(.7*i.health);d.increaseHealth(-h),this.affectedEnemies.add(d),this.logService.createLog({message:`${r.name} removed ${h} health from ${i.name} (70%)`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new Eb(e,this.logService)}}class xp extends _{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=4;constructor(e,t,i){super({name:"OstrichAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=e.shopPets,n=e.shopPetTiers??t?.map(h=>"number"==typeof h?.tier?h.tier:null);if(!n||n.length<4)return void this.triggerTigerExecution(e);const s=n[0];if(null==s||!n.slice(0,4).every(h=>h===s))return void this.triggerTigerExecution(e);this.usesThisTurn++;const r=this.owner,c=2*this.level,d=r.parent.petArray.filter(h=>h.alive);for(const h of d)h.increaseHealth(c);this.logService.createLog({message:`${r.name} re-rolled the shop and gave friends +${c} health.`,type:"ability",player:r.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new xp(e,this.logService,this.abilityService)}}class xb extends _{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"ReindeerAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getThis(r),d=c.pet;null!=d&&(d.givePetEquipment(new to),this.logService.createLog({message:`${r.name} gave ${d.name} Melon.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e))}copy(e){return new xb(e,this.logService)}}class Iu extends _{logService;constructor(e,t){super({name:"PiranhaAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getAll(!1,r,!0),d=c.pets,h=3*this.level;for(let v of d)v.increaseAttack(h),this.logService.createLog({message:`${r.name} gave ${v.name} ${h} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random});this.triggerTigerExecution(e)}copy(e){return new Iu(e,this.logService)}}class Mb extends _{logService;friendAppliedThisTurn=new Set;reset(){this.maxUses=this.level,this.friendAppliedThisTurn=new Set,super.reset()}constructor(e,t){super({name:"RealVelociraptorAbility",owner:e,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>{const{triggerPet:n}=i;return n&&n!==this.owner&&n.lastLostEquipment&&!this.friendAppliedThisTurn.has(n)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=this.createEquipmentInstance(i.lastLostEquipment);if(c){let d=r.parent.getSpecificPet(r,i),h=d.pet;if(null==h)return;h.givePetEquipment(c),this.logService.createLog({message:`${r.name} returned ${c.name} to ${h.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),this.friendAppliedThisTurn.add(h)}this.triggerTigerExecution(e)}createEquipmentInstance(e){try{return new(0,e.constructor)}catch(t){return console.warn("Failed to create equipment instance:",e.name,t),null}}copy(e){return new Mb(e,this.logService)}}class Dp extends C{logService;abilityService;petService;name="Sabertooth Tiger";tier=6;pack="Star";attack=4;health=5;initAbilities(){this.addAbility(new Ib(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}resetPet(){super.resetPet()}constructor(e,t,i,n,s,r,c,d,h,v,E){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v),this.timesHurt=E??0,this.originalTimesHurt=this.timesHurt}}class Ib extends _{logService;abilityService;petService;timesHurtOverride;constructor(e,t,i,n,s){super({name:"SabertoothTigerAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i,this.petService=n,this.timesHurtOverride=s??null}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=this.timesHurtOverride??r.timesHurt;if(c>0)for(let d=0;d<this.level;d++){let h=Math.min(2*c,50),v=Math.min(3*c,50),E=this.petService.createPet({name:"Mammoth",attack:h,health:v,equipment:null,mana:0,exp:0},r.parent),q=r.parent.summonPet(E,r.savedPosition,!1,r);q.success&&this.logService.createLog({message:`${r.name} summoned ${E.name} (${h}/${v}).`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:q.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Ib(e,this.logService,this.abilityService,this.petService,this.timesHurtOverride??this.owner.timesHurt)}}class Rb extends C{logService;abilityService;petService;name="Orca";tier=6;pack="Star";attack=5;health=7;initAbilities(){this.addAbility(new Mp(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class Mp extends _{logService;abilityService;petService;constructor(e,t,i,n){super({name:"OrcaAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;for(let c=0;c<this.level;c++){let d=this.petService.getRandomFaintPet(r.parent,void 0,[r.name,"Quetzalcoatlus"]);d.attack=6,d.health=6,r.parent.summonPet(d,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned a 6/6 ${d.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:!0,pteranodon:s})}this.triggerTigerExecution(e)}copy(e){return new Mp(e,this.logService,this.abilityService,this.petService)}}class Lb extends _{logService;constructor(e,t){super({name:"SpinosaurusAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c={attack:2*this.level,health:3*this.level},d=r.parent.getRandomPet([r],!0,!1,!0,r);null!=d.pet&&(d.pet.increaseAttack(c.attack),d.pet.increaseHealth(c.health),this.logService.createLog({message:`${r.name} gave ${d.pet.name} ${c.attack} attack and ${c.health} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new Lb(e,this.logService)}}function qk(o,e,t,i,n={}){o.createLog({message:i,type:"ability",player:e.parent,tiger:t.tiger,pteranodon:t.pteranodon,...n})}function Nb(o){o.amount<=0||(qk(o.logService,o.owner,o.context,o.message??`${o.owner.name} gave ${o.target.name} +${o.amount} experience.`,o.extras),o.target.increaseExp(o.amount))}class jk extends C{logService;abilityService;name="Alpaca";tier=6;pack="Star";attack=3;health=7;initAbilities(){this.addAbility(new Fb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Fb extends _{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"AlpacaAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>{const{triggerPet:n}=i;return n&&!(n instanceof jk)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,r=this.owner,c=dr(r,i);c.pet&&(Nb({logService:this.logService,owner:r,context:e,target:c.pet,amount:3,extras:{randomEvent:c.random}}),this.triggerTigerExecution(e))}copy(e){return new Fb(e,this.logService)}}class Ru extends _{logService;constructor(e,t){super({name:"VelociraptorAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c;for(let h=r.parent.petArray.indexOf(r)-1;h>=0;h--){let v=r.parent.petArray[h];if(v.alive&&v.equipment&&"Strawberry"===v.equipment.name){c=v;break}}if(c){if(c&&c.equipment&&"Strawberry"===c.equipment.name){c.removePerk(),this.logService.createLog({message:`${r.name} removed Strawberry from ${c.name}`,type:"ability",player:r.parent,tiger:n});let h=2*this.level,v=3*this.level,E=r.parent.getAll(!1,r,!0),q=E.pets;for(let K of q)K.increaseAttack(h),K.increaseHealth(v),this.logService.createLog({message:`${r.name} gave ${K.name} +${h} attack and +${v} health`,type:"ability",player:r.parent,tiger:n,randomEvent:E.random})}this.triggerTigerExecution(e)}}copy(e){return new Ru(e,this.logService)}}class Lu extends _{constructor(e){super({name:e.name,owner:e.owner,triggers:e.triggers,abilityType:"Pet",maxUses:e.maxUses,abilitylevel:e.abilityLevel,native:e.native??!0,ignoreRepeats:e.ignoreRepeats,alwaysIgnorePetLevel:e.alwaysIgnorePetLevel,condition:e.condition,abilityFunction:t=>{this.executeAbility(t)}})}}class Nu extends C{logService;abilityService;petService;name="Ammonite";tier=6;pack="Star";attack=5;health=3;initAbilities(){this.addAbility(new Il(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class Il extends Lu{logService;petService;constructor(e,t,i){super({owner:e,name:"AmmoniteAbility",triggers:["Faint"]}),this.logService=t,this.petService=i}executeAbility(e){const{gameApi:t}=e,r=this.owner;let c=r.parent.nearestPetsBehind(1,r);if(0===c.pets.length)return;let d=c.pets[0],v=Math.floor((r.parent===t.player?t.playerRollAmount:t.opponentRollAmount)/2)*this.level,E=this.petService.createPet({name:"Mimic Octopus",attack:d.attack,health:d.health,equipment:d.equipment,mana:d.mana,exp:null},r.parent);!function m1(o){qk(o.logService,o.owner,o.context,o.message,o.extras),o.owner.parent.transformPet(o.fromPet,o.toPet)}({logService:this.logService,owner:r,context:e,fromPet:d,toPet:E,message:`${r.name} transformed ${d.name} into ${E.name}`,extras:{randomEvent:c.random}});let q=r.parent.getSpecificPet(r,E),K=q.pet;null!=K&&(Nb({logService:this.logService,owner:r,context:e,target:K,amount:v,extras:{randomEvent:q.random}}),this.triggerTigerExecution(e))}copy(e){return new Il(e,this.logService,this.petService)}}const Rl={Pillbug:class qE extends C{logService;abilityService;name="Pillbug";tier=1;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new vp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Cockroach:class jE extends C{logService;abilityService;name="Cockroach";tier=1;pack="Star";attack=1;health=1;initAbilities(){this.addAbility(new Yy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Frog:class Xy extends C{logService;abilityService;name="Frog";tier=1;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new Qy(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Hummingbird:class on extends C{logService;abilityService;name="Hummingbird";tier=1;pack="Star";attack=2;health=2;initAbilities(){this.addAbility(new Jy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Marmoset:class Ek extends C{logService;abilityService;name="Marmoset";tier=1;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new La(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Pheasant:class MR extends C{logService;abilityService;name="Pheasant";tier=1;pack="Star";attack=2;health=1;initAbilities(){this.addAbility(new Zy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Kiwi:class VE extends C{logService;abilityService;name="Kiwi";tier=1;pack="Star";attack=2;health=2;initAbilities(){this.addAbility(new eb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Chihuahua:class UE extends C{logService;abilityService;name="Chihuahua";tier=1;pack="Star";attack=4;health=1;initAbilities(){this.addAbility(new Ap(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Firefly:class IR extends C{logService;abilityService;name="Firefly";tier=1;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new Sp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Koala:class WE extends C{logService;abilityService;name="Koala";tier=2;pack="Star";attack=4;health=2;initAbilities(){this.addAbility(new ib(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Salamander:class zE extends C{logService;abilityService;name="Salamander";tier=2;pack="Star";attack=1;health=2;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}initAbilities(){this.addAbility(new rb(this,this.logService)),super.initAbilities()}},"Guinea Pig":Dk,Jellyfish:class YE extends C{logService;abilityService;name="Jellyfish";tier=2;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new ob(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Dove:class XE extends C{logService;abilityService;name="Dove";tier=2;pack="Star";attack=2;health=1;initAbilities(){this.addAbility(new sb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Dumbo Octopus":class KE extends C{logService;abilityService;name="Dumbo Octopus";tier=2;pack="Star";health=5;attack=2;initAbilities(){this.addAbility(new nb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Bass:class QE extends C{logService;abilityService;name="Bass";tier=2;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new hb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Leech:class ZE extends C{logService;abilityService;name="Leech";tier=3;pack="Star";attack=4;health=2;initAbilities(){this.addAbility(new gb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Woodpecker:class s1 extends C{logService;abilityService;name="Woodpecker";tier=5;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new Fk(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Toad:class ws extends C{logService;abilityService;name="Toad";tier=3;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new Tl(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Starfish:class Ok extends C{logService;abilityService;name="Starfish";tier=5;pack="Star";attack=3;health=7;initAbilities(){this.addAbility(new kb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Clownfish:class Lk extends C{logService;abilityService;name="Clownfish";tier=4;pack="Star";attack=3;health=4;initAbilities(){this.addAbility(new El(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Blobfish:class o1 extends C{logService;abilityService;name="Blobfish";tier=5;pack="Star";attack=2;health=10;initAbilities(){this.addAbility(new Pb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Capybara:class RR extends C{logService;abilityService;name="Capybara";tier=3;pack="Star";attack=2;health=5;initAbilities(){this.addAbility(new Rk(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Okapi:class e1 extends C{logService;abilityService;name="Okapi";tier=3;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new Mu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Cassowary:class t1 extends C{logService;abilityService;name="Cassowary";tier=3;pack="Star";attack=5;health=2;initAbilities(){this.addAbility(new Lo(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Anteater:class Ts extends C{logService;abilityService;name="Anteater";tier=3;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new No(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Orangutan:Pp,Hawk:class n1 extends C{logService;abilityService;name="Hawk";tier=4;pack="Star";attack=4;health=3;initAbilities(){this.addAbility(new Dl(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Platypus:class r1 extends C{logService;abilityService;name="Platypus";tier=4;pack="Star";attack=2;health=2;initAbilities(){this.addAbility(new Ml(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Praying Mantis":jy,Donkey:class a1 extends C{logService;abilityService;name="Donkey";tier=4;pack="Star";attack=4;health=6;initAbilities(){this.addAbility(new vb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Fairy Armadillo":class yb extends C{logService;abilityService;name="Fairy Armadillo";tier=4;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new xl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Fossa:class wp extends C{logService;abilityService;name="Fossa";tier=4;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new bb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Siamese:class Cs extends C{logService;abilityService;name="Siamese";tier=4;pack="Star";health=4;attack=1;initAbilities(){this.addAbility(new kp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Elk:class i1 extends C{logService;abilityService;name="Elk";tier=4;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new fb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Sparrow:class Ab extends C{logService;abilityService;name="Sparrow";tier=4;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new Sb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Swordfish:class l1 extends C{logService;abilityService;name="Swordfish";tier=5;pack="Star";attack=5;health=5;initAbilities(){this.addAbility(new Tp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Triceratops:class c1 extends C{logService;abilityService;name="Triceratops";tier=5;pack="Star";attack=5;health=6;initAbilities(){this.addAbility(new Cp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Hamster:class u1 extends C{logService;abilityService;name="Hamster";tier=5;pack="Star";attack=4;health=4;initAbilities(){this.addAbility(new Ep(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Shoebill:class $k extends C{logService;abilityService;name="Shoebill";tier=5;pack="Star";attack=2;health=4;initAbilities(){this.addAbility(new Tb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Vulture:class d1 extends C{logService;abilityService;name="Vulture";tier=5;pack="Star";attack=4;health=5;initAbilities(){this.addAbility(new Cb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Ibex:class h1 extends C{logService;abilityService;name="Ibex";tier=5;pack="Star";attack=6;health=7;initAbilities(){this.addAbility(new Eb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Ostrich:class p1 extends C{logService;abilityService;name="Ostrich";tier=6;pack="Star";attack=6;health=7;initAbilities(){this.addAbility(new xp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Reindeer:class g1 extends C{logService;abilityService;name="Reindeer";tier=6;pack="Star";attack=9;health=6;initAbilities(){this.addAbility(new xb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Piranha:class Db extends C{logService;abilityService;name="Piranha";tier=6;pack="Star";attack=10;health=4;initAbilities(){this.addAbility(new Iu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Real Velociraptor":class Gk extends C{logService;abilityService;name="Real Velociraptor";tier=6;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new Mb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Spinosaurus:class Hk extends C{logService;abilityService;name="Spinosaurus";tier=6;pack="Star";attack=4;health=4;initAbilities(){this.addAbility(new Lb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Alpaca:jk,Velociraptor:class f1 extends C{logService;abilityService;name="Velociraptor";tier=6;pack="Star";attack=3;health=6;initAbilities(){this.addAbility(new Ru(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Ammonite:Nu,Cardinal:class Mk extends C{logService;abilityService;name="Cardinal";tier=3;pack="Star";health=3;attack=4;initAbilities(){this.addAbility(new Du(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Orca:Rb,Pelican:Bk,"Sabertooth Tiger":Dp,"Shima Enaga":ub,Stork:lb,Tuna:Ik,Iguana:class xk extends C{logService;abilityService;name="Iguana";tier=2;pack="Star";attack=2;health=4;initAbilities(){this.addAbility(new tb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Pug:class JE extends C{logService;abilityService;name="Pug";tier=3;pack="Star";attack=5;health=2;initAbilities(){this.addAbility(new pb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}};class Ob extends _{logService;constructor(e,t){super({name:"BulldogAbility",owner:e,triggers:["ThisFirstAttack"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.timesAttacked<=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=2*this.level,d=r.parent.getThis(r),h=d.pet;null!=h&&(h.increaseAttack(c),this.logService.createLog({message:`${r.name} gained +${c} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new Ob(e,this.logService)}}class Bb extends C{logService;abilityService;name="Groundhog";tier=1;pack="Golden";attack=2;health=1;initAbilities(){this.addAbility(new $b(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class $b extends _{logService;constructor(e,t){super({name:"GroundhogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:s}=e,r=this.owner,c=r.parent.resolveTrumpetGainTarget(r);c.player.gainTrumpets(this.level,r,s,void 0,void 0,c.random),this.triggerTigerExecution(e)}copy(e){return new $b(e,this.logService)}}class Vk extends _{logService;constructor(e,t){super({name:"ConeSnailAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsBehind(1,r);if(0===c.pets.length)return;let d=c.pets[0],h=2*this.level;d.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${d.name} ${h} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new Vk(e,this.logService)}}class Fu extends _{logService;constructor(e,t){super({name:"GooseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent.getFurthestUpPet(r),d=c.pet;if(null==d)return;let h=this.level;d.increaseAttack(-this.level),this.logService.createLog({message:`${r.name} removed ${h} attack from ${d.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new Fu(e,this.logService)}}class Ip extends _{logService;constructor(e,t){super({name:"PiedTamarinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.parent.trumpets>=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,r);for(let d of c.pets)null!=d&&r.snipePet(d,3,c.random,n,s);c.pets.length>0&&r.parent.spendTrumpets(1,r,s),this.triggerTigerExecution(e)}copy(e){return new Ip(e,this.logService)}}class Hb extends _{logService;constructor(e,t){super({name:"SilkmothAbility",owner:e,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=r.parent.getSpecificPet(r,i),d=c.pet;if(null==d)return;let h=this.level;d.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${d.name} ${h} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new Hb(e,this.logService)}}class jb extends _{logService;abilityService;constructor(e,t,i){super({name:"LemmingAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} will give +${this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new jb(e,this.logService,this.abilityService)}}class Vb extends _{logService;abilityService;constructor(e,t,i){super({name:"MagpieAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} spent up to ${this.level} gold and will gain it back next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Vb(e,this.logService,this.abilityService)}}class Ub extends _{logService;abilityService;constructor(e,t,i){super({name:"OpossumAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} gave a random faint pet in the shop +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Ub(e,this.logService,this.abilityService)}}class Kk extends _{logService;abilityService;constructor(e,t,i){super({name:"HerculesBeetleAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Math.max(0,t.battlesFought??0),n=i*this.level,s=t.parent.petArray.filter(d=>d.alive);if(n<=0||0===s.length)return void this.triggerTigerExecution(e);const r=Math.floor(n/s.length);let c=n%s.length;for(const d of s)r>0&&d.increaseAttack(r);if(c>0){const d=[...s].sort(()=>Math.random()-.5);for(let h=0;h<c&&h<d.length;h++)d[h].increaseAttack(1)}this.logService.createLog({message:`${t.name} gave friends +${n} attack split evenly after ${i} battle${1===i?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:s.length>1}),this.triggerTigerExecution(e)}copy(e){return new Kk(e,this.logService,this.abilityService)}}class Wb extends _{logService;abilityService;petService;constructor(e,t,i,n){super({name:"StoatAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const t=this.owner,{gameApi:i}=e,n=Math.max(1,i.previousShopTier??t.tier),s=this.petService.allPets.get(n)??[];if(!s.length)return void this.triggerTigerExecution(e);const r=s[Math.floor(Math.random()*s.length)],d=this.petService.createPet({name:r,attack:1,health:1,equipment:null,exp:this.minExpForLevel,mana:0},t.parent);t.parent.summonPet(d,t.savedPosition,!1,t).success&&this.logService.createLog({message:`${t.name} summoned a 1/1 level ${this.level} ${d.name}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new Wb(e,this.logService,this.abilityService,this.petService)}}class Ll extends _{logService;constructor(e,t){super({name:"BlackNeckedStiltAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:s}=e,r=this.owner;let c=2*this.level;const d=r.parent.resolveTrumpetGainTarget(r);d.player.gainTrumpets(c,r,s,void 0,void 0,d.random),this.triggerTigerExecution(e)}copy(e){return new Ll(e,this.logService)}}class Kb extends _{logService;constructor(e,t){super({name:"SquidAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>!(this.owner.parent.trumpets<1),abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=!1,d=r.parent.getPetsWithEquipmentWithSillyFallback("Inked",r),h=r.parent.opponent.getFurthestUpPets(this.level,d,r),v=h.pets;for(let E of v){if(null==E)break;c=!0,E.givePetEquipment(new Ia),this.logService.createLog({message:`${r.name} gave ${E.name} Inked.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.random})}c&&r.parent.spendTrumpets(1,r,s),this.triggerTigerExecution(e)}copy(e){return new Kb(e,this.logService)}}class zb extends _{logService;constructor(e,t){super({name:"SeaUrchinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.opponent.getFurthestUpPet(r),d=[c.pet],h=c.random;if(null!=d[0]){for(let v=0;v<this.level-1;v++){let E;if(E=h?r.parent.opponent.getFurthestUpPet(r).pet:d[v].petBehind(),null==E)break;d.push(E)}for(let v of d)null!=v&&(v.increaseHealth(-5),this.logService.createLog({message:`${r.name} removed 5 health from ${v.name}.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h}));this.triggerTigerExecution(e)}}copy(e){return new zb(e,this.logService)}}class Ou extends _{logService;constructor(e,t){super({name:"DoorHeadAntAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getThis(r),d=c.pet;if(null==d)return;r.parent.pushPetToFront(d,!0),this.logService.createLog({message:`${r.name} pushed ${d.name} to the front.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random});let h=4*this.level,v=r.parent.getThis(r),E=v.pet;null!=E&&(E.increaseHealth(h),this.logService.createLog({message:`${r.name} gained ${h} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:v.random}),this.triggerTigerExecution(e))}copy(e){return new Ou(e,this.logService)}}class Rp extends C{logService;abilityService;name="Lizard Tail";tier=1;pack="Golden";hidden=!0;attack=3;health=1;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Nl extends _{logService;abilityService;constructor(e,t,i){super({name:"LizardAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=new Rp(this.logService,this.abilityService,r.parent,null,null,0,r.minExpForLevel),d=r.parent.summonPetInFront(r,c);d.success&&this.logService.createLog({message:`${r.name} spawned Lizard Tail Level ${r.level}`,type:"ability",player:r.parent,tiger:n,randomEvent:d.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Nl(e,this.logService,this.abilityService)}}class Fl extends _{logService;constructor(e,t){super({name:"SeaTurtleAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner,c=2*this.level,d=dr(r,i);if(!d.pet)return;const h=d.pet;h.increaseHealth(c),tn(this.logService,r,`${r.name} gave ${h.name} ${c} health.`,n,s,{randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new Fl(e,this.logService)}}class Bu extends _{logService;abilityService;constructor(e,t,i){super({name:"AfricanPenguinAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.getRandomPets(3,[t]),n=i.pets;if(0===n.length)return void this.triggerTigerExecution(e);const s=this.level;for(const r of n)r.increaseAttack(s);this.logService.createLog({message:`${t.name} gave ${n.map(r=>r.name).join(", ")} +${s} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new Bu(e,this.logService,this.abilityService)}}class Jb extends _{logService;constructor(e,t){super({name:"MeerkatAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let c;c=r.parent==t.player?t.playerGoldSpent:t.opponentGoldSpent;let d=Math.floor(c/4)*this.level,h=r.parent.nearestPetsBehind(1,r),v=r.parent.nearestPetsAhead(1,r);if(v.pets.length>0){let E=v.pets[0];E.increaseAttack(d),this.logService.createLog({message:`${r.name} gave ${E.name} ${d} attack.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:v.random})}if(h.pets.length>0){let E=h.pets[0];E.increaseAttack(d),this.logService.createLog({message:`${r.name} gave ${E.name} ${d} attack.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.random})}this.triggerTigerExecution(e)}copy(e){return new Jb(e,this.logService)}}class Ol extends _{logService;constructor(e,t){super({name:"MuskOxAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c={attack:r.level,health:2*r.level},d=r.parent.getThis(r),h=d.pet;null!=h&&(h.increaseAttack(c.attack),h.increaseHealth(c.health),this.logService.createLog({message:`${r.name} gave ${h.name} ${c.attack} attack and ${c.health} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new Ol(e,this.logService)}}class Fp extends _{logService;constructor(e,t){super({name:"FleaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithEquipmentWithSillyFallback("Weak",r),d=r.parent.opponent.getHighestHealthPets(this.level,c,r);for(let h of d.pets)this.logService.createLog({message:`${r.name} gave ${h.name} Weak.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.random}),h.givePetEquipment(new Ma);this.triggerTigerExecution(e)}copy(e){return new Fp(e,this.logService)}}class Op extends _{logService;constructor(e,t){super({name:"RoyalFlycatcherAbility",owner:e,triggers:["EnemyFaint3"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=4*this.level,d=r.parent.opponent.getRandomPet([],null,!0,null,r),h=d.pet;null!=h&&(r.snipePet(h,c,d.random,n),this.triggerTigerExecution(e))}copy(e){return new Op(e,this.logService)}}class Gu extends _{logService;constructor(e,t){super({name:"SurgeonFishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>!(this.owner.parent.trumpets<2),abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.nearestPetsBehind(2,r),d=c.pets;if(0==d.length)return;r.parent.spendTrumpets(2,r);let h=4*this.level;for(let v of d)v.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${v.name} ${h} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random});this.triggerTigerExecution(e)}copy(e){return new Gu(e,this.logService)}}class Yk extends C{logService;abilityService;name="Weasel";tier=3;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new Xk(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Xk extends _{logService;constructor(e,t){super({name:"WeaselAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;this.logService.createLog({message:`${r.name} gained ${this.level} Gold.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new Xk(e,this.logService)}}class Bp extends _{logService;constructor(e,t){super({name:"GuineafowlAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:s}=e,r=this.owner;let c=2*this.level;const d=r.parent.resolveTrumpetGainTarget(r);d.player.gainTrumpets(c,r,s,void 0,void 0,d.random),this.triggerTigerExecution(e)}copy(e){return new Bp(e,this.logService)}}class xs extends _{logService;targetedPets=new Set;constructor(e,t){super({name:"Betta Fish Ability",owner:e,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.maxUses=this.level,this.targetedPets.clear(),super.reset()}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;!i||i==r||this.targetedPets.has(i)||(this.targetedPets.add(i),i.givePetEquipment(new nh),this.logService.createLog({message:`${r.name} gave ${i.name} Guava.`,type:"ability",player:r.parent,tiger:n}),this.triggerTigerExecution(e))}copy(e){return new xs(e,this.logService)}}class ev extends _{logService;constructor(e,t){super({name:"FlyingFishAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,r=this.owner,c=2*this.level,d=dr(r,i);d.pet&&(Nb({logService:this.logService,owner:r,context:e,target:d.pet,amount:c,extras:{randomEvent:d.random}}),this.triggerTigerExecution(e))}copy(e){return new ev(e,this.logService)}}class Zk extends _{logService;abilityService;constructor(e,t,i){super({name:"BaboonAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,{gameApi:i}=e,n=Math.max(1,i.previousShopTier??t.tier),s=t.parent.petArray.filter(d=>d.alive&&d.tier>=n);if(0===s.length)return void this.triggerTigerExecution(e);const r=s[Math.floor(Math.random()*s.length)],c=this.level;r.increaseAttack(c),r.increaseHealth(c),this.logService.createLog({message:`${t.name} gave ${r.name} +${c}/+${c}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:s.length>1}),this.triggerTigerExecution(e)}copy(e){return new Zk(e,this.logService,this.abilityService)}}class e_ extends _{logService;abilityService;constructor(e,t,i){super({name:"OspreyAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;for(let c=0;c<r.level;c++){let d=new Bb(this.logService,this.abilityService,r.parent,null,null,0,0),h=r.parent.summonPet(d,r.savedPosition,!1,r);h.success&&this.logService.createLog({message:`${r.name} summoned a 2/1 Groundhog`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new e_(e,this.logService,this.abilityService)}}class $p extends _{logService;abilityService;constructor(e,t,i){super({name:"ManateeAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.petAhead,n=2*this.level,s=this.level;t.dealDamage(t,5),i?(i.increaseAttack(n),i.increaseHealth(s),this.logService.createLog({message:`${t.name} took 5 damage and gave ${i.name} +${n}/+${s}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})):this.logService.createLog({message:`${t.name} took 5 damage.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new $p(e,this.logService,this.abilityService)}}class Fo extends _{logService;constructor(e,t){super({name:"CuttlefishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.opponent.getLastPets(this.level,void 0,r),d=c.pets;if(0==d.length)return;for(let K of d)K.increaseHealth(-3),this.logService.createLog({message:`${r.name} reduced ${K.name} health by 3`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random});let v=r.parent.getPetsWithEquipmentWithSillyFallback("Inked",r),E=r.parent.opponent.getLastPets(this.level,v,r),q=E.pets;if(0!=q.length){for(let K of q)K.givePetEquipment(new Ia),this.logService.createLog({message:`${r.name} gave ${K.name} Inked.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:E.random});this.triggerTigerExecution(e)}}copy(e){return new Fo(e,this.logService)}}class iv extends _{logService;constructor(e,t){super({name:"EgyptianVultureAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.petArray.filter(v=>!v.isFaintPet()),d=r.parent.nearestPetsBehind(1,r,c),h=d.pets[0];this.logService.createLog({message:`${r.name} activated ${h.name}'s ability.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.random}),h.activateAbilities(void 0,t,"Pet"),this.triggerTigerExecution(e)}reset(){super.reset(),this.maxUses=this.level}copy(e){return new iv(e,this.logService)}}class Hu extends _{logService;abilityService;constructor(e,t,i){super({name:"SaigaAntelopeAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner,c=r.parent.resolveTrumpetGainTarget(r);c.player.gainTrumpets(3*this.level,r,s,void 0,void 0,c.random),this.logService.createLog({message:`${r.name} gave ${3*this.level} trumpets after a friend died.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new Hu(e,this.logService,this.abilityService)}}class $l extends _{logService;abilityService;constructor(e,t,i){super({name:"SealionAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level,n=this.level,s=[];let r=t.petBehind();for(;r;)s.push(r),r=r.petBehind();const c=[];let d=t.petAhead;for(;d;)c.push(d),d=d.petAhead;for(const h of s)h.increaseAttack(i);for(const h of c)h.increaseHealth(n);(s.length>0||c.length>0)&&this.logService.createLog({message:`${t.name} gave friends behind +${i} attack and friends ahead +${n} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:s.length+c.length>1}),this.triggerTigerExecution(e)}copy(e){return new $l(e,this.logService,this.abilityService)}}class pr extends _{logService;constructor(e,t){super({name:"VaquitaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:s}=e,r=this.owner;let c=Math.max(Math.floor(.5*this.level*r.parent.trumpets),4*this.level);const d=r.parent.resolveTrumpetGainTarget(r);d.player.gainTrumpets(c,r,s,void 0,void 0,d.random),this.triggerTigerExecution(e)}copy(e){return new pr(e,this.logService)}}class nv extends C{logService;abilityService;name="Smallest Slug";tier=1;pack="Golden";hidden=!0;health=1;attack=1;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class i_ extends C{logService;abilityService;name="Smaller Slug";tier=1;pack="Golden";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new rv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class rv extends _{logService;abilityService;constructor(e,t,i){super({name:"SmallerSlugAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=new nv(this.logService,this.abilityService,r.parent,null,null,0,r.minExpForLevel),d=r.parent.summonPet(c,r.savedPosition,!1,r);d.success&&this.logService.createLog({message:`${r.name} spawned Smallest Slug Level ${r.level}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new rv(e,this.logService,this.abilityService)}}class Ds extends _{logService;abilityService;constructor(e,t,i){super({name:"SlugAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=new i_(this.logService,this.abilityService,r.parent,null,null,0,r.minExpForLevel),d=r.parent.summonPet(c,r.savedPosition,!1,r);d.success&&this.logService.createLog({message:`${r.name} spawned Smaller Slug Level ${r.level}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Ds(e,this.logService,this.abilityService)}}class av extends _{logService;constructor(e,t){super({name:"PoisonDartFrogAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent.getHighestHealthPet(void 0,r),d=c.pet;null!=d&&(r.snipePet(d,4*r.level,c.random,n),this.triggerTigerExecution(e))}copy(e){return new av(e,this.logService)}}class Hp extends C{logService;abilityService;petService;name="Falcon";tier=4;pack="Golden";attack=5;health=5;initAbilities(){this.addAbility(new Ms(this,this.logService,this.petService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class Ms extends _{logService;petService;abilityService;constructor(e,t,i,n){super({name:"FalconAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.petService=i,this.abilityService=n}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=3*this.level,d=this.petService.createPet({attack:c,health:c,name:i.name,exp:r.minExpForLevel,equipment:null,mana:0},r.parent),h=r.parent.summonPet(d,r.savedPosition,!1,r);h.success&&this.logService.createLog({message:`${r.name} spawned ${d.name} ${c}/${c} Level ${this.level}`,type:"ability",player:r.parent,tiger:n,randomEvent:h.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Ms(e,this.logService,this.petService,this.abilityService)}}class n_ extends _{logService;abilityService;constructor(e,t,i){super({name:"MantaRayAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;let i=!1;for(let s=0;s<5;s++)if(null==t.parent.getPetAtPosition(s)){i=!0;break}i?(this.logService.createLog({message:`${t.name} will give +${2*this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new n_(e,this.logService,this.abilityService)}}class qp extends _{logService;abilityService;constructor(e,t,i){super({name:"CockatooAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(d=>d.alive&&d!==t);if(0===i.length)return void this.triggerTigerExecution(e);let n=Math.max(...i.map(d=>d.tier));const s=i.filter(d=>d.tier===n),r=s[Math.floor(Math.random()*s.length)],c=2*this.level;r.increaseAttack(c),r.increaseHealth(c),this.logService.createLog({message:`${t.name} gave ${r.name} +${c}/+${c}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:s.length>1}),this.triggerTigerExecution(e)}copy(e){return new qp(e,this.logService,this.abilityService)}}class jp extends _{logService;abilityUses=0;constructor(e,t){super({name:"SecretaryBirdAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.nearestPetsAhead(1,r);if(0===c.pets.length)return;let d=c.pets[0],h=3*this.level,v=4*this.level;d.increaseAttack(h),d.increaseHealth(v),this.logService.createLog({message:`${r.name} gave ${d.name} ${h} attack and ${v} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random}),this.triggerTigerExecution(e),this.logService.createLog({message:`${r.name} triggered secretary bird ability at level ${this.level}.`,type:"ability",player:r.parent,tiger:n,pteranodon:s})}copy(e){return new jp(e,this.logService)}}class Vp extends _{logService;abilityService;constructor(e,t,i){super({name:"MacaqueAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=12*this.level,d=new Pp(this.logService,this.abilityService,r.parent,c,c,0,r.minExpForLevel,r.equipment),h=r.parent.summonPetInFront(r,d);if(h.success){let v=`${r.name} spawned Orangutan ${d.attack}/${d.health}`;null!=r.equipment&&(v+=` with ${r.equipment.name}`),v+=".",this.logService.createLog({message:v,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Vp(e,this.logService,this.abilityService)}}class a_ extends _{logService;constructor(e,t){super({name:"NyalaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:s}=e,r=this.owner,c=r.parent.resolveTrumpetGainTarget(r);c.player.gainTrumpets(8*this.level,r,s,void 0,void 0,c.random),this.triggerTigerExecution(e)}copy(e){return new a_(e,this.logService)}}class o_ extends _{logService;constructor(e,t){super({name:"NurseSharkAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>0!=this.owner.parent.trumpets,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=3*Math.min(r.parent.trumpets,6),d=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!0,r),h=d.pets;if(0!=h.length){r.parent.spendTrumpets(Math.min(r.parent.trumpets,6),r,s);for(let v of h)r.snipePet(v,c,d.random,n,s);this.triggerTigerExecution(e)}}copy(e){return new o_(e,this.logService)}}class ov extends C{logService;abilityService;petService;name="Beluga Whale";tier=5;pack="Golden";attack=3;health=8;initAbilities(){this.addAbility(new Up(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v,E){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v),this.belugaSwallowedPet=E??null}}class Up extends _{logService;abilityService;petService;constructor(e,t,i,n){super({name:"BelugaWhaleAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)},ignoreRepeats:!0}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;if(null==r.belugaSwallowedPet||r.alive)return;let c=this.petService.createPet({attack:null,equipment:null,exp:r.minExpForLevel,health:null,name:r.belugaSwallowedPet,mana:0},r.parent),d=r.parent.summonPet(c,r.savedPosition,!1,r);d.success&&this.logService.createLog({message:`${r.name} spawned ${c.name} Level ${r.level}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Up(e,this.logService,this.abilityService,this.petService)}}class Gl extends C{logService;abilityService;petService;name="Wolf";tier=5;pack="Golden";attack=4;health=4;constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}initAbilities(){this.addAbility(new sv(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class sv extends _{logService;abilityService;petService;constructor(e,t,i,n){super({name:"WolfAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c={attack:3*this.level,health:2*this.level};for(let d=0;d<3;d++){let h=this.petService.createPet({attack:c.attack,equipment:null,exp:r.minExpForLevel,health:c.health,name:"Pig",mana:0},r.parent),v=r.parent.summonPet(h,r.savedPosition,!1,r);v.success&&this.logService.createLog({message:`${r.name} spawned ${h.name} ${c.attack}/${c.health}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:v.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new sv(e,this.logService,this.abilityService,this.petService)}}class Wp extends _{logService;constructor(e,t){super({name:"FireAntAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getHighestTierPets(this.level,null,r),d=c.pets;if(0!=d.length){for(let h of d)h.increaseAttack(r.attack),this.logService.createLog({message:`${r.name} gave ${h.name} ${r.attack} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random,pteranodon:s});this.triggerTigerExecution(e)}}copy(e){return new Wp(e,this.logService)}}class lv extends _{logService;abilityService;constructor(e,t,i){super({name:"BlueRingedOctopusAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level,n=t.parent.petArray.filter(s=>s.alive&&s!==t);if(0!==n.length){for(const s of n)s.increaseAttack(i),s.increaseHealth(i);this.logService.createLog({message:`${t.name} gave friends +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new lv(e,this.logService,this.abilityService)}}class cv extends _{logService;constructor(e,t){super({name:"CraneAbility",owner:e,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.nearestPetsAhead(1,r);if(0==c.pets.length)return;let d=c.pets[0];d.increaseAttack(5),this.logService.createLog({message:`${r.name} gave ${d.name} 5 attack.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random});let h=r.parent.nearestPetsAhead(1,r);if(0==h.pets.length)return;let v=h.pets[0];v.givePetEquipment(new to),this.logService.createLog({message:`${r.name} gave ${v.name} Melon.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.random}),this.triggerTigerExecution(e)}reset(){super.reset(),this.maxUses=this.level}copy(e){return new cv(e,this.logService)}}class s_ extends _{logService;constructor(e,t){super({name:"EmuAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.nearestPetsAhead(1,r);if(0==c.pets.length)return;let d=c.pets[0],h=4*this.level;d.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${d.name} ${h} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random});let v=r.parent.nearestPetsAhead(1,r);if(0===v.pets.length)return;let E=v.pets[0];r.parent.pushPetToFront(E),this.logService.createLog({message:`${r.name} pushed ${E.name} to the front.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:v.random}),this.triggerTigerExecution(e)}copy(e){return new s_(e,this.logService)}}class Kp extends _{logService;constructor(e,t){super({name:"WildebeestAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>this.owner.parent.trumpets>=2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getThis(r),d=c.pet;null!=d&&(d.givePetEquipment(new Qr),this.logService.createLog({message:`${r.name} gave itself a Coconut.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random}),r.parent.spendTrumpets(2,r),this.triggerTigerExecution(e))}reset(){super.reset(),this.maxUses=this.level}copy(e){return new Kp(e,this.logService)}}class uv extends _{logService;constructor(e,t){super({name:"HighlandCowAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:s}=e,r=this.owner,c=4*this.level+Math.floor(r.health/3)*this.level,d=r.parent.resolveTrumpetGainTarget(r);d.player.gainTrumpets(c,r,s,void 0,void 0,d.random),this.triggerTigerExecution(e)}copy(e){return new uv(e,this.logService)}}class dv extends _{logService;abilityService;constructor(e,t,i){super({name:"CatfishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.petAhead;if(!i)return void this.triggerTigerExecution(e);const n=this.level;if(i.hasTrigger("ThisBought")){for(let r=0;r<n;r++)i.executeAbilities("ThisBought",e.gameApi,i,void 0,void 0,{trigger:"ThisBought"});this.logService.createLog({message:`${t.name} activated ${i.name}'s buy ability ${n} time${1===n?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})}else{const r=4*this.level;i.increaseHealth(r),this.logService.createLog({message:`${t.name} gave ${i.name} +${r} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})}this.triggerTigerExecution(e)}copy(e){return new dv(e,this.logService,this.abilityService)}}class zp extends C{logService;abilityService;petService;name="Pteranodon";tier=6;pack="Golden";attack=3;health=5;initAbilities(){this.addAbility(new Yp(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class Yp extends _{logService;abilityService;petService;constructor(e,t,i,n){super({name:"PteranodonAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:s=>{const{triggerPet:r}=s;return null!=r},abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner;let c=this.petService.createPet({attack:1,health:1,equipment:null,exp:i.exp,name:i.name,mana:0},r.parent),d=r.parent.summonPetBehind(r,c);d.success&&this.logService.createLog({message:`${r.name} summoned a 1/1 ${i.name} behind it.`,type:"ability",player:r.parent,randomEvent:d.randomEvent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}reset(){super.reset(),this.maxUses=this.level}copy(e){return new Yp(e,this.logService,this.abilityService,this.petService)}}class Xp extends _{logService;constructor(e,t){super({name:"WarthogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=this.level,d=Math.floor(r.attack/3);for(let h=0;h<d;h++){let v=r.parent.getRandomPet([],!0,!1,!0,r);if(null==v.pet)break;v.pet.increaseAttack(c),v.pet.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${v.pet.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:v.random})}this.triggerTigerExecution(e)}copy(e){return new Xp(e,this.logService)}}class Uu extends _{logService;constructor(e,t){super({name:"CobraAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent.getRandomPet([],!1,!0,!1,r);if(null==c.pet)return;let d=Math.floor(.2*r.attack*r.level);r.snipePet(c.pet,d,c.random,n),this.triggerTigerExecution(e)}copy(e){return new Uu(e,this.logService)}}class Qp extends _{logService;constructor(e,t){super({name:"GrizzlyBearAbility",owner:e,triggers:["FriendlyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getRandomEnemyPetsWithSillyFallback(2,[],!0,!1,r),d=c.pets,h=6*this.level;for(let v of d)r.snipePet(v,h,c.random,n);this.triggerTigerExecution(e)}copy(e){return new Qp(e,this.logService)}}class hv extends _{logService;constructor(e,t){super({name:"GermanShepherdAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,s=this.owner,c=Math.floor(s.attack*(.25*this.level)),d=dr(s,t);if(!d.pet)return;const h=d.pet;h.increaseAttack(c),tn(this.logService,s,`${s.name} gave ${h.name} ${c} attack.`,i,n,{randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new hv(e,this.logService)}}class pv extends _{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,i){super({name:"BirdOfParadiseAbility",owner:e,triggers:["SpendGold7","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=this.owner,i=t.parent.getRandomPets(3,[t]),n=i.pets;if(0===n.length)return void this.triggerTigerExecution(e);const s=this.level;for(const r of n)r.increaseAttack(s),r.increaseHealth(s);this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave ${n.map(r=>r.name).join(", ")} +${s}/+${s}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new pv(e,this.logService,this.abilityService)}}class mv extends _{logService;abilityService;constructor(e,t,i){super({name:"OysterAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${3*this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new mv(e,this.logService,this.abilityService)}}const c_={Bulldog:class y1 extends C{logService;abilityService;name="Bulldog";tier=1;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new Ob(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Groundhog:Bb,"Cone Snail":class Gb extends C{logService;abilityService;name="Cone Snail";tier=1;pack="Golden";attack=1;health=2;initAbilities(){this.addAbility(new Vk(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Goose:class b1 extends C{logService;abilityService;name="Goose";tier=1;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new Fu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Lemming:class qb extends C{logService;abilityService;name="Lemming";tier=1;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new jb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Pied Tamarin":class Uk extends C{logService;abilityService;name="Pied Tamarin";tier=1;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new Ip(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Opossum:class A1 extends C{logService;abilityService;name="Opossum";tier=1;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new Ub(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Silkmoth:class Wk extends C{logService;abilityService;name="Silkmoth";tier=1;pack="Golden";attack=3;health=1;initAbilities(){this.addAbility(new Hb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Magpie:class v1 extends C{logService;abilityService;name="Magpie";tier=1;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new Vb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Hercules Beetle":class S1 extends C{logService;abilityService;name="Hercules Beetle";tier=2;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new Kk(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Stoat:class LR extends C{logService;abilityService;petService;name="Stoat";tier=2;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new Wb(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}},"Black Necked Stilt":class P1 extends C{logService;abilityService;name="Black Necked Stilt";tier=2;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new Ll(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Squid:class k1 extends C{logService;abilityService;name="Squid";tier=2;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new Kb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Sea Urchin":class _1 extends C{logService;abilityService;name="Sea Urchin";tier=2;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new zb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Door Head Ant":class Yb extends C{logService;abilityService;name="Door Head Ant";tier=2;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new Ou(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Lizard:class Lp extends C{logService;abilityService;name="Lizard";tier=2;pack="Golden";attack=1;health=3;initAbilities(){this.addAbility(new Nl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Sea Turtle":class Xb extends C{logService;abilityService;name="Sea Turtle";tier=2;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new Fl(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"African Penguin":class Np extends C{logService;abilityService;name="African Penguin";tier=2;pack="Golden";attack=1;health=3;initAbilities(){this.addAbility(new Bu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Musk Ox":class NR extends C{logService;abilityService;name="Musk Ox";tier=3;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new Ol(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Flea:class $u extends C{logService;abilityService;name="Flea";tier=3;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new Fp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Royal Flycatcher":class Zb extends C{logService;abilityService;name="Royal Flycatcher";tier=3;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new Op(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Surgeon Fish":class zk extends C{logService;abilityService;name="Surgeon Fish";tier=3;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new Gu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Weasel:Yk,Guineafowl:class Qk extends C{logService;abilityService;name="Guineafowl";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new Bp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Betta Fish":class Jk extends C{logService;abilityService;name="Betta Fish";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new xs(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Meerkat:class Qb extends C{logService;abilityService;name="Meerkat";tier=2;pack="Golden";attack=1;health=2;initAbilities(){this.addAbility(new Jb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Flying Fish":class w1 extends C{logService;abilityService;name="Flying Fish";tier=3;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new ev(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Baboon:class Bl extends C{logService;abilityService;name="Baboon";tier=3;pack="Golden";attack=1;health=2;initAbilities(){this.addAbility(new Zk(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Osprey:class tv extends C{logService;abilityService;name="Osprey";tier=3;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new e_(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Manatee:class t_ extends C{logService;abilityService;name="Manatee";tier=4;pack="Golden";attack=2;health=11;initAbilities(){this.addAbility(new $p(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Cuttlefish:class FR extends C{logService;abilityService;name="Cuttlefish";tier=4;pack="Golden";attack=8;health=4;initAbilities(){this.addAbility(new Fo(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Egyptian Vulture":class T1 extends C{logService;abilityService;name="Egyptian Vulture";tier=5;pack="Golden";attack=7;health=4;initAbilities(){this.addAbility(new iv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Saiga Antelope":class C1 extends C{logService;abilityService;name="Saiga Antelope";tier=4;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new Hu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Sealion:class E1 extends C{logService;abilityService;name="Sealion";tier=4;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new $l(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Vaquita:class Gp extends C{logService;abilityService;name="Vaquita";tier=4;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new pr(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Slug:class qu extends C{logService;abilityService;name="Slug";tier=4;pack="Golden";attack=4;health=4;initAbilities(){this.addAbility(new Ds(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Poison Dart Frog":class x1 extends C{logService;abilityService;name="Poison Dart Frog";tier=4;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new av(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Secretary Bird":class r_ extends C{logService;abilityService;name="Secretary Bird";tier=4;pack="Golden";attack=3;health=5;initAbilities(){this.addAbility(new jp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Manta Ray":class D1 extends C{logService;abilityService;name="Manta Ray";tier=4;pack="Golden";attack=5;health=7;initAbilities(){this.addAbility(new n_(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Macaque:class I1 extends C{logService;abilityService;name="Macaque";tier=5;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new Vp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Nyala:class R1 extends C{logService;abilityService;name="Nyala";tier=5;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new a_(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Nurse Shark":class OR extends C{logService;abilityService;name="Nurse Shark";tier=5;pack="Golden";attack=5;health=7;initAbilities(){this.addAbility(new o_(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Fire Ant":class L1 extends C{logService;abilityService;name="Fire Ant";tier=5;pack="Golden";attack=8;health=3;initAbilities(){this.addAbility(new Wp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Cockatoo:class M1 extends C{logService;abilityService;name="Cockatoo";tier=4;pack="Golden";attack=4;health=2;initAbilities(){this.addAbility(new qp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Blue Ringed Octopus":class ju extends C{logService;abilityService;name="Blue Ringed Octopus";tier=5;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new lv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Crane:class N1 extends C{logService;abilityService;name="Crane";tier=5;pack="Golden";attack=6;health=5;initAbilities(){this.addAbility(new cv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Emu:class F1 extends C{logService;abilityService;name="Emu";tier=5;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new s_(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Wildebeest:class O1 extends C{logService;abilityService;name="Wildebeest";tier=6;pack="Golden";attack=8;health=6;initAbilities(){this.addAbility(new Kp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Highland Cow":class B1 extends C{logService;abilityService;name="Highland Cow";tier=6;pack="Golden";attack=4;health=6;initAbilities(){this.addAbility(new uv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Catfish:class Vu extends C{logService;abilityService;name="Catfish";tier=6;pack="Golden";attack=4;health=6;initAbilities(){this.addAbility(new dv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Warthog:class $1 extends C{logService;abilityService;name="Warthog";tier=6;pack="Golden";attack=9;health=6;initAbilities(){this.addAbility(new Xp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Cobra:class G1 extends C{logService;abilityService;name="Cobra";tier=6;pack="Golden";attack=12;health=6;initAbilities(){this.addAbility(new Uu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Grizzly Bear":class H1 extends C{logService;abilityService;name="Grizzly Bear";tier=6;pack="Golden";attack=6;health=8;initAbilities(){this.addAbility(new Qp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"German Shepherd":class l_ extends C{logService;abilityService;name="German Shepherd";tier=6;pack="Golden";attack=10;health=6;initAbilities(){this.addAbility(new hv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Bird of Paradise":class q1 extends C{logService;abilityService;name="Bird of Paradise";tier=6;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new pv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Oyster:class gv extends C{logService;abilityService;name="Oyster";tier=6;pack="Golden";attack=2;health=10;initAbilities(){this.addAbility(new mv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Beluga Whale":ov,Falcon:Hp,Pteranodon:zp,Wolf:Gl};class fv extends _{logService;abilityService;constructor(e,t,i){super({name:"BakuAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if((e.gameApi?.turnNumber??0)%2!=0)return void this.triggerTigerExecution(e);const n=t.parent.petArray.filter(d=>d.alive&&d.equipment?.equipmentClass?.startsWith("ailment"));if(0===n.length)return void this.triggerTigerExecution(e);const s=[],r=[...n];for(;s.length<2&&r.length>0;){const d=Math.floor(Math.random()*r.length);s.push(r[d]),r.splice(d,1)}const c=this.level;for(const d of s)d.removePerk(),d.increaseHealth(c);this.logService.createLog({message:`${t.name} replaced ailments with +${c} health on ${s.map(d=>d.name).join(", ")}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.length>s.length}),this.triggerTigerExecution(e)}copy(e){return new fv(e,this.logService,this.abilityService)}}class yv extends _{logService;abilityService;constructor(e,t,i){super({name:"QuestionMarksAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.petAhead;if(!i)return void this.triggerTigerExecution(e);const n=this.level;if(i.increaseAttack(n),ul(i,"Spooked")){const s=new Da;s.power=-1,s.originalPower=-1,i.givePetEquipment(s)}this.logService.createLog({message:`${t.name} gave ${i.name} +${n} attack and Spooked until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new yv(e,this.logService,this.abilityService)}}class bv extends _{logService;constructor(e,t){super({name:"BarghestAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let h=[...r.parent.getPetsWithEquipmentWithSillyFallback("perk",r),...r.parent.getPetsWithEquipmentWithSillyFallback("Spooked",r)],E=r.parent.opponent.getLastPets(this.level,h,r).pets;if(0!=E.length){for(let q of E)this.logService.createLog({message:`${r.name} gave ${q.name} Spooked`,type:"ability",player:r.parent,tiger:n}),q.givePetEquipment(new Da);this.triggerTigerExecution(e)}}copy(e){return new bv(e,this.logService)}}class vv extends _{logService;constructor(e,t){super({name:"TsuchinokoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let d=r.parent.getThis(r).pet;if(null==d)return;r.parent.pushPetToFront(d,!0),this.logService.createLog({message:`${r.name} pushed ${d.name} to the front and gained ${this.level} experience.`,type:"ability",player:r.parent,tiger:n});let v=r.parent.getThis(r).pet;null!=v&&(v.increaseExp(this.level),this.logService.createLog({message:`${r.name} gave ${v.name} +${this.level} experience.`,type:"ability",player:r.parent,tiger:n}),this.triggerTigerExecution(e))}copy(e){return new vv(e,this.logService)}}class Jp extends _{logService;constructor(e,t){super({name:"MurmelAbility",owner:e,triggers:["FriendGainedExp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=this.level,h=r.parent.getThis(r).pet;null!=h&&(this.logService.createLog({message:`${r.name} gave ${h.name} ${c} attack.`,type:"ability",player:r.parent,tiger:n}),h.increaseAttack(c),this.triggerTigerExecution(e))}copy(e){return new Jp(e,this.logService)}}class Av extends _{logService;constructor(e,t){super({name:"AlchemedesAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsAhead(1,r);if(0===c.pets.length)return;let d=c.pets[0];this.logService.createLog({message:`${r.name} gave ${d.name} ${this.level} mana.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),d.increaseMana(this.level),this.triggerTigerExecution(e)}copy(e){return new Av(e,this.logService)}}class Sv extends _{logService;constructor(e,t){super({name:"PengobbleAbility",owner:e,triggers:["ThisGainedMana"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner,c=2*this.level;let d=r.parent.getThis(r),h=d.pet;null!=h&&(this.logService.createLog({message:`${r.name} gave ${h.name} an extra ${c} bonus mana.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),r.mana+=c,this.triggerTigerExecution(e))}copy(e){return new Sv(e,this.logService)}}class Wu extends _{logService;constructor(e,t){super({name:"BunyipAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,r=this.owner;let d;d=r.parent==t.player?t.playerRollAmount:t.opponentRollAmount,d=Math.min(2,d)*this.level;let v=r.parent.getThis(r).pet;null!=v&&(v.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${v.name} ${d} health.`,type:"ability",player:r.parent,tiger:n}),this.triggerTigerExecution(e))}copy(e){return new Wu(e,this.logService)}}class Pv extends C{logService;abilityService;name="CrackedEgg";tier=1;pack="Unicorn";hidden=!0;attack=4;health=2;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Ku extends _{logService;abilityService;constructor(e,t,i){super({name:"SneakyEggAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c={attack:4*this.level,health:2*this.level};r.health=0;let d=new Pv(this.logService,this.abilityService,r.parent,c.health,c.attack,0),h=r.parent.summonPet(d,r.savedPosition,!1,r);h.success&&this.logService.createLog({message:`${r.name} spawned a ${c.attack}/${c.health} Cracked Egg`,type:"ability",player:r.parent,tiger:n,randomEvent:h.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Ku(e,this.logService,this.abilityService)}}class kv extends _{logService;abilityService;constructor(e,t,i){super({name:"CuddleToadAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked a witch toy that breaks after ${2*this.level} turns.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new kv(e,this.logService,this.abilityService)}}class Zp extends _{logService;constructor(e,t){super({name:"FrostWolfAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithEquipmentWithSillyFallback("Cold",r),d=r.parent.opponent.getFurthestUpPet(r,c),h=d.pet;if(null==h)return;const v=new ny;v.multiplier+=this.level-1;let E=".";2===this.level?E=" twice for double effect.":3===this.level&&(E=" thrice for triple effect."),this.logService.createLog({message:`${r.name} made ${h.name} Cold ${E}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.random}),h.givePetEquipment(v),this.triggerTigerExecution(e)}copy(e){return new Zp(e,this.logService)}}class eg extends _{logService;constructor(e,t){super({name:"MothmanAbility",owner:e,triggers:["AnyoneGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner,c=this.level;let h=r.parent.getThis(r).pet;null!=h&&(this.logService.createLog({message:`${r.name} gave ${h.name} +${c} attack and +${c} health.`,type:"ability",player:r.parent,tiger:n}),h.increaseAttack(c),h.increaseHealth(c),this.triggerTigerExecution(e))}copy(e){return new eg(e,this.logService)}}class tg extends _{logService;constructor(e,t){super({name:"DropBearAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;this.logService.createLog({message:`${r.name} pushed itself to the front.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),r.parent.pushPetToFront(r,!0);let c=3*this.level,d=r.parent.opponent.getLastPet();null!=d.pet&&(r.snipePet(d.pet,c,d.random,n),this.triggerTigerExecution(e))}copy(e){return new tg(e,this.logService)}}class wv extends _{logService;constructor(e,t){super({name:"JackalopeAbility",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,r=this.owner;let d=r.parent.getSpecificPet(r,i).pet;if(null==d)return;let h=this.level;r.jumped&&(h*=2),d.increaseAttack(h),this.logService.createLog({message:`${r.name} gave ${d.name} +${h} attack.`,type:"ability",player:this.owner.parent}),this.triggerTigerExecution(e)}copy(e){return new wv(e,this.logService)}}class Hl extends _{logService;constructor(e,t){super({name:"OgopogoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner,c=r.parent.getFurthestUpPets(this.level,[r],r),d=c.pets;if(0!==d.length){for(const h of d)this.logService.createLog({message:`${r.name} gave ${h.name} +1 experience.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),h.increaseExp(1);this.triggerTigerExecution(e)}}copy(e){return new Hl(e,this.logService)}}class Tv extends _{logService;constructor(e,t){super({name:"ThunderbirdAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsAhead(2,r);if(c.pets.length<1)return;let h=c.pets[1]??c.pets[0];if(null==h)return;let v=3*this.level;this.logService.createLog({message:`${r.name} gave ${h.name} ${v} mana.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),h.increaseMana(v),this.triggerTigerExecution(e)}copy(e){return new Tv(e,this.logService)}}class zu extends _{logService;constructor(e,t){super({name:"GargoyleAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.mana*this.level;c+=2*this.level;let d=r.parent.nearestPetsBehind(1,r);if(0===d.pets.length)return;let h=d.pets[0];this.logService.createLog({message:`${r.name} spent ${r.mana} mana and gave ${c} health to ${h.name}.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.random}),h.increaseHealth(c),r.mana=0,this.triggerTigerExecution(e)}copy(e){return new zu(e,this.logService)}}class Yu extends _{logService;abilityService;constructor(e,t,i){super({name:"BigfootAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} will gain ${i} free ${1===i?"roll":"rolls"} next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Yu(e,this.logService,this.abilityService)}}class Xu extends _{logService;abilityService;constructor(e,t,i){super({name:"WyvernAbility",owner:e,triggers:["FriendlyLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} will grant ${i} extra shop reward${1===i?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Xu(e,this.logService,this.abilityService)}}class Cv extends _{logService;constructor(e,t){super({name:"LuckyCatAbility",owner:e,triggers:["ThisLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=2;3==r.level&&(c=4);let h=r.parent.getThis(r).pet;null!=h&&(this.logService.createLog({message:`${r.name} gave ${h.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:n}),h.increaseAttack(c),h.increaseHealth(c),this.triggerTigerExecution(e))}copy(e){return new Cv(e,this.logService)}}class Ev extends _{logService;constructor(e,t){super({name:"SkeletonDogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getRandomPets(this.level,[r],!0,!1,r);for(let d of c.pets)null!=d&&(this.logService.createLog({message:`${r.name} gave 1 attack and 1 health to ${d.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),d.increaseAttack(1),d.increaseHealth(1));this.triggerTigerExecution(e)}copy(e){return new Ev(e,this.logService)}}class ig extends _{logService;constructor(e,t){super({name:"MandrakeAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getPetsWithEquipmentWithSillyFallback("Dazed",r),h=r.parent.opponent.getTierXOrLowerPet(2*this.level,c,r).pet;null!=h&&(this.logService.createLog({message:`${r.name} made ${h.name} Dazed.`,type:"ability",player:r.parent,tiger:n,randomEvent:!0}),h.givePetEquipment(new Zd),this.triggerTigerExecution(e))}copy(e){return new ig(e,this.logService)}}class xv extends _{logService;constructor(e,t){super({name:"FurBearingTroutAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=[],d=r;for(;c.length<this.level;){let h=d.petBehind();if(null==h)break;h.equipment instanceof pu||c.push(h),d=h}if(0!==c.length){for(let h of c)this.logService.createLog({message:`${r.name} gave ${h.name} a Rambutan.`,type:"ability",player:r.parent,tiger:n}),h.givePetEquipment(new pu(this.logService));this.triggerTigerExecution(e)}}copy(e){return new xv(e,this.logService)}}class Dv extends _{logService;constructor(e,t){super({name:"ManaHoundAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,r=this.owner;let d;if(d=r.parent==t.player?t.playerRollAmount:t.opponentRollAmount,d=Math.max(0,Math.min(d??0,3)),0===d)return;let h=r.parent.nearestPetsAhead(1,r);if(0===h.pets.length)return;let v=h.pets[0],E=d*this.level*2;this.logService.createLog({message:`${r.name} gave ${v.name} ${E} mana.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}),v.increaseMana(E),this.triggerTigerExecution(e)}copy(e){return new Dv(e,this.logService)}}class ng extends _{logService;constructor(e,t){super({name:"CalygreyhoundAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;if(0==r.mana)return;let c=r.parent.opponent.getHighestHealthPets(2,void 0,r),d=this.level*r.mana;for(let h of c.pets)h.health=Math.max(1,h.health-d),this.logService.createLog({message:`${r.name} reduced ${h.name}'s health by ${d} (${h.health}).`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random});r.mana=0,this.triggerTigerExecution(e)}copy(e){return new ng(e,this.logService)}}class Mv extends _{logService;constructor(e,t){super({name:"BrainCrampAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=2*this.level,h=r.parent.getThis(r).pet;if(null==h)return;this.logService.createLog({message:`${r.name} pushed ${h.name} to the front.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),r.parent.pushPetToFront(h,!0);let E=r.parent.getThis(r).pet;if(null==E)return;this.logService.createLog({message:`${r.name} gave ${E.name} Melon.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),E.givePetEquipment(new to);let K=r.parent.getThis(r).pet;null!=K&&(this.logService.createLog({message:`${r.name} gave ${K.name} ${c} attack.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),K.increaseAttack(c),this.triggerTigerExecution(e))}copy(e){return new Mv(e,this.logService)}}class rg extends _{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=5;constructor(e,t,i){super({name:"OuroborosAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=this.owner,i=this.level;this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave newly rolled shop pets +${i}/+${i} until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new rg(e,this.logService,this.abilityService)}}class ag extends _{logService;abilityService;constructor(e,t,i){super({name:"GriffinAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} chose a level ${this.level} toy from Griffin's collection.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ag(e,this.logService,this.abilityService)}}class Qu extends _{logService;constructor(e,t){super({name:"TatzelwurmAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=2*this.level;i&&3==i.level&&(c*=2);let d=r.parent.opponent.getFurthestUpPet(r);null!=d.pet&&(r.snipePet(d.pet,c,d.random,n),this.triggerTigerExecution(e))}copy(e){return new Qu(e,this.logService)}}class Rv extends _{logService;constructor(e,t){super({name:"MinotaurAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;if(!i)return;let c=this.level*i.level,d=r.parent.getThis(r),h=d.pet;null!=h&&(this.logService.createLog({message:`${r.name} gave ${h.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),h.increaseAttack(c),h.increaseHealth(c),this.triggerTigerExecution(e))}copy(e){return new Rv(e,this.logService)}}class og extends _{logService;constructor(e,t){super({name:"KrakenAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getAll(!0,r,!0),d=c.pets;if(0!=d.length){for(let h of d){let v=1==this.level?.15:2==this.level?.3:.45,E=Math.max(1,Math.floor(h.health*(1-v)));h.health=E,this.logService.createLog({message:`${r.name} reduced ${h.name} health by ${(100*v).toFixed(0)}% (${E})`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random})}this.triggerTigerExecution(e)}}copy(e){return new og(e,this.logService)}}class sg extends _{logService;constructor(e,t){super({name:"VisitorAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let d=r.parent.getPetsWithinXSpaces(r,this.level).pets.filter(h=>"Icky"!==h.equipment?.name);if(0!=d.length){for(let h of d)h.givePetEquipment(new Qa),this.logService.createLog({message:`${r.name} made ${h.name} Icky.`,type:"ability",player:r.parent,tiger:n,pteranodon:s});this.triggerTigerExecution(e)}}copy(e){return new sg(e,this.logService)}}class lg extends _{logService;constructor(e,t){super({name:"TigerBugAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let d=r.parent.getThis(r).pet;if(null==d)return;this.logService.createLog({message:`${r.name} pushed ${d.name} to the front.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),r.parent.pushPetToFront(d,!0);let h=r.parent.opponent.getFurthestUpPets(2,[],r),v=h.pets;if(0==v.length)return;let E=3*this.level;for(let q of v)null!=q&&r.snipePet(q,E,h.random,n);this.triggerTigerExecution(e)}copy(e){return new lg(e,this.logService)}}class Lv extends _{logService;constructor(e,t){super({name:"CyclopsAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=2*this.level,d=r.parent.getSpecificPet(r,i),h=d.pet;if(null!=h){if(this.logService.createLog({message:`${r.name} gave ${h.name} ${c} mana.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),h.increaseMana(c),this.currentUses<this.level){let v=r.parent.getSpecificPet(r,i),E=v.pet;this.logService.createLog({message:`${r.name} gave ${E.name} 1 exp.`,type:"ability",player:r.parent,tiger:n,randomEvent:v.random}),E.increaseExp(1)}this.triggerTigerExecution(e)}}copy(e){return new Lv(e,this.logService)}}class k_ extends C{logService;abilityService;name="Chimera Goat";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class __ extends C{logService;abilityService;name="Chimera Lion";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class w_ extends C{logService;abilityService;name="Chimera Snake";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Rs extends _{logService;abilityService;constructor(e,t,i){super({name:"ChimeraAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner,c=r.mana,d=c/2,h=Math.floor(3+1*d),v=Math.floor(3+2*d);c>0&&this.logService.createLog({message:`${r.name} spent ${c} mana.`,type:"ability",player:r.parent,tiger:n,pteranodon:s});let E=new __(this.logService,this.abilityService,r.parent,v,h),q=r.parent.summonPet(E,r.savedPosition,!1,r);if(q.success&&this.logService.createLog({message:`${r.name} spawned a ${E.name} ${h}/${v}.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:q.randomEvent}),this.level>=2){let K=new k_(this.logService,this.abilityService,r.parent,v,h),le=r.parent.summonPet(K,r.savedPosition,!1,r);le.success&&this.logService.createLog({message:`${r.name} spawned a ${K.name} ${h}/${v}.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:le.randomEvent})}if(this.level>=3){let K=new w_(this.logService,this.abilityService,r.parent,v,h),le=r.parent.summonPet(K,r.savedPosition,!1,r);le.success&&this.logService.createLog({message:`${r.name} spawned a ${K.name} ${h}/${v}.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:le.randomEvent})}r.mana=0,this.triggerTigerExecution(e)}copy(e){return new Rs(e,this.logService,this.abilityService)}}class cg extends _{logService;constructor(e,t){super({name:"RocAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let d=r.parent.nearestPetsAhead(5,r).pets;if(0==d.length)return;let h=r.parent.petArray.filter(v=>v==r||!d.includes(v));for(let v=0;v<3*this.level;v++){let E=r.parent.getRandomPet(h,!0,!1,!1,r);if(null==E.pet)break;this.logService.createLog({message:`${r.name} gave ${E.pet.name} 2 mana.`,type:"ability",player:r.parent,tiger:n,randomEvent:E.random}),E.pet.increaseMana(2)}this.triggerTigerExecution(e)}copy(e){return new cg(e,this.logService)}}class Fv extends _{logService;abilityService;constructor(e,t,i){super({name:"WormOfSandAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,n=Math.min(Math.max((t.parent===e.gameApi.player?e.gameApi.playerRollAmount:e.gameApi.opponentRollAmount)??0,0),8),s=Math.floor(n/4);if(s<=0)return void this.triggerTigerExecution(e);const r=this.level*s,c=cs(t);for(const d of c)d.increaseAttack(r),d.increaseHealth(r);c.length>0&&this.logService.createLog({message:`${t.name} gave adjacent friends +${r}/+${r}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:c.length>1}),this.triggerTigerExecution(e)}copy(e){return new Fv(e,this.logService,this.abilityService)}}const ug=[1,2,3];class Ju extends C{logService;abilityService;petService;name="Abomination";tier=4;pack="Unicorn";attack=6;health=5;initAbilities(){this.addAbility(new Vl(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v,E,q,K,le,ce,Ae,Ce,Qe,Ke){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v),this.abominationSwallowedPet1=E,this.abominationSwallowedPet2=q,this.abominationSwallowedPet3=K,this.abominationSwallowedPet1Level=le??1,this.abominationSwallowedPet2Level=ce??1,this.abominationSwallowedPet3Level=Ae??1,this.abominationSwallowedPet1TimesHurt=Ce??0,this.abominationSwallowedPet2TimesHurt=Qe??0,this.abominationSwallowedPet3TimesHurt=Ke??0}}class Vl extends _{logService;petService;constructor(e,t,i){super({name:"AbominationAbility",owner:e,triggers:["EndTurn","SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner,c=this.level,d=(Ae,Ce)=>r[Ae]??Ce,h=Ae=>{const Ce={};for(const Qe of ug){const Ke=`parrotCopyPetAbominationSwallowedPet${Qe}`;Ce[Ke]=d(`${Ae}ParrotCopyPetAbominationSwallowedPet${Qe}`,null),Ce[`${Ke}BelugaSwallowedPet`]=d(`${Ae}ParrotCopyPetAbominationSwallowedPet${Qe}BelugaSwallowedPet`,null),Ce[`${Ke}Level`]=d(`${Ae}ParrotCopyPetAbominationSwallowedPet${Qe}Level`,1),Ce[`${Ke}TimesHurt`]=d(`${Ae}ParrotCopyPetAbominationSwallowedPet${Qe}TimesHurt`,0)}return Ce},v=Ae=>{const Ce={};for(const Qe of ug){const Ke=`parrotCopyPetAbominationSwallowedPet${Qe}`;Ce[Ke]=Ae[Ke]??void 0,Ce[`${Ke}BelugaSwallowedPet`]=Ae[`${Ke}BelugaSwallowedPet`]??void 0,Ce[`${Ke}Level`]=Ae[`${Ke}Level`]??void 0,Ce[`${Ke}TimesHurt`]=Ae[`${Ke}TimesHurt`]??void 0}return Ce},E=Ae=>{const Ce=`abominationSwallowedPet${Ae}`;return{name:d(Ce,null),level:d(`${Ce}Level`,1),timesHurt:d(`${Ce}TimesHurt`,0),belugaSwallowedPet:d(`${Ce}BelugaSwallowedPet`,null),parrotCopyPet:d(`${Ce}ParrotCopyPet`,null),parrotCopyPetBelugaSwallowedPet:d(`${Ce}ParrotCopyPetBelugaSwallowedPet`,null),...h(Ce)}},q=Ae=>{r.parrotCopyPet=Ae.parrotCopyPet??null,r.parrotCopyPetBelugaSwallowedPet=Ae.parrotCopyPetBelugaSwallowedPet??null;for(const Ce of ug){const Qe=`parrotCopyPetAbominationSwallowedPet${Ce}`;r[Qe]=Ae[Qe]??null,r[`${Qe}BelugaSwallowedPet`]=Ae[`${Qe}BelugaSwallowedPet`]??null,r[`${Qe}Level`]=Ae[`${Qe}Level`]??1,r[`${Qe}TimesHurt`]=Ae[`${Qe}TimesHurt`]??0}},le=[E(1),E(2),E(3)].filter(Ae=>null!=Ae.name).slice(0,c);let ce=le;n&&le.length>0&&(ce=le.slice(0,1));for(let Ae of ce){if(!Ae.name)continue;const Ce=Ae.name,Qe="Parrot"===Ce?v(Ae):{};let Ke=this.petService.createPet({attack:0,health:0,mana:0,equipment:null,name:Ce,exp:0,timesHurt:Ae.timesHurt??0,belugaSwallowedPet:"Beluga Whale"===Ce?Ae.belugaSwallowedPet??void 0:void 0,parrotCopyPet:"Parrot"===Ce?Ae.parrotCopyPet??void 0:void 0,parrotCopyPetBelugaSwallowedPet:"Parrot"===Ce?Ae.parrotCopyPetBelugaSwallowedPet??void 0:void 0,...Qe},r.parent);if(!Ke)continue;"Beluga Whale"===Ce&&(r.belugaSwallowedPet=Ae.belugaSwallowedPet??null),"Parrot"===Ce&&q(Ae),r.removeAbility("AbominationAbility");const Ye=r.abilityList.length;if(r.gainAbilities(Ke,"Pet",Ae.level??1),r.initAbilityUses(),"Parrot"===Ce){const Re=r.abilityList.slice(Ye).filter(lt=>"ParrotAbility"===lt.name);for(const lt of Re)lt.execute(t,i,n,s)}}this.triggerTigerExecution(e)}copy(e){return new Vl(e,this.logService,this.petService)}}class dg extends _{logService;constructor(e,t){super({name:"UnicornAbility",owner:e,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,r=this.owner;let c=2*this.level;if(!i)return;this.logService.createLog({message:`${r.name} removed ailment from ${i.name}.`,type:"ability",player:r.parent}),i.removePerk();let d=r.parent.getSpecificPet(r,i),h=d.pet;null!=h&&(this.logService.createLog({message:`${r.name} gave ${h.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,randomEvent:d.random}),h.increaseAttack(c),h.increaseHealth(c),this.triggerTigerExecution(e))}copy(e){return new dg(e,this.logService)}}class hg extends _{logService;constructor(e,t){super({name:"VampireBatAbility",owner:e,triggers:["EnemyGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=4*this.level,h=r.parent.getSpecificPet(r,i).pet;if(null==h)return;let v=h.health,E=r.snipePet(h,c,!1,n),q=Math.min(E,v),K=r.parent.getThis(r),le=K.pet;null!=le&&(this.logService.createLog({message:`${r.name} gave ${le.name} ${q} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:K.random}),le.increaseHealth(q),this.triggerTigerExecution(e))}copy(e){return new hg(e,this.logService)}}class C_ extends _{logService;constructor(e,t){super({name:"RedDragonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getPetsWithEquipmentWithSillyFallback("Crisp",r),d=r.parent.opponent.getLastPets(this.level,c,r),h=d.pets;if(0!=h.length){for(let v of h)this.logService.createLog({message:`${r.name} gave ${v.name} Crisp.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),v.givePetEquipment(new ur);this.triggerTigerExecution(e)}}copy(e){return new C_(e,this.logService)}}class pg extends _{logService;constructor(e,t){super({name:"LovelandFrogmanAbility",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,r=this.owner;let c={attack:1*r.level,health:2*r.level},d=r.parent.getSpecificPet(r,i),h=d.pet;null!=h&&(this.logService.createLog({message:`${r.name} gave ${h.name} ${c.attack} attack and ${c.health} health.`,type:"ability",player:r.parent,randomEvent:d.random}),h.increaseAttack(c.attack),h.increaseHealth(c.health),this.triggerTigerExecution(e))}copy(e){return new pg(e,this.logService)}}class gg extends _{logService;pendingBuffs=new Map;constructor(e,t){super({name:"JerseyDevilAbility",owner:e,triggers:["FriendSummoned","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner;if("EndTurn"===e.trigger)return this.resetBuffs(),void this.triggerTigerExecution(e);if(!i)return;let d=r.parent===t.player?t.playerLevel3Sold:t.opponentLevel3Sold;d=Math.min(d??0,5);const h=this.level*d,v=dr(r,i,(K,le)=>K.parent.getSpecificPet(K,le));if(!v.pet||h<=0)return;const E=v.pet;E.increaseAttack(h),E.increaseHealth(h);const q=this.pendingBuffs.get(E)??{attack:0,health:0};this.pendingBuffs.set(E,{attack:q.attack+h,health:q.health+h}),tn(this.logService,r,`${r.name} gave ${E.name} ${h} attack and ${h} health until next turn.`,n,s,{randomEvent:v.random}),this.triggerTigerExecution(e)}resetBuffs(){for(const[e,t]of this.pendingBuffs)e&&(t.attack&&e.increaseAttack(-t.attack),t.health&&e.increaseHealth(-t.health));this.pendingBuffs.clear()}copy(e){return new gg(e,this.logService)}}class mg extends _{logService;constructor(e,t){super({name:"PixiuAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;r.mana<4||(this.logService.createLog({message:`${r.name} spent 4 mana and gained ${3*this.level} gold for next turn.`,type:"ability",player:r.parent,tiger:n}),r.mana-=4,this.triggerTigerExecution(e))}copy(e){return new mg(e,this.logService)}}class fg extends _{logService;constructor(e,t){super({name:"KitsuneAbility",owner:e,triggers:["FriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner,c=Zt(r);if(!c&&null==r.petAhead)return;let d=0;for(let E of r.parent.petArray)E.mana>0&&(d+=E.mana,E.mana=0,this.logService.createLog({message:`${r.name} took ${d} mana from ${E.name}.`,type:"ability",player:r.parent,tiger:n}));let h=c?r.parent.getRandomPets(1,[r],!1,!1,r):r.parent.nearestPetsAhead(1,r);if(0===h.pets.length)return;let v=h.pets[0];this.logService.createLog({message:`${r.name} gave ${v.name} +${d+2*r.level} mana.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}),v.increaseMana(d+2*r.level),this.triggerTigerExecution(e)}copy(e){return new fg(e,this.logService)}}class Ov extends C{logService;abilityService;name="Nessie?";tier=1;pack="Unicorn";hidden=!0;health=1;attack=1;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Ul extends _{logService;abilityService;constructor(e,t,i){super({name:"NessieAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let h=3*this.level,v=3*this.level,E="";if(!r.parent.summonedBoatThisBattle){const ce=(r.parent===t.player?t.playerRollAmount:t.opponentRollAmount)*this.level;h+=ce,v+=ce,r.parent.summonedBoatThisBattle=!0,E=` It's the first Boat, so it gains +${ce}/+${ce}!`}h=Math.min(50,h),v=Math.min(50,v);let q=new Ov(this.logService,this.abilityService,r.parent,v,h,0),K=r.parent.summonPet(q,r.savedPosition,!1,r);K.success&&this.logService.createLog({message:`${r.name} spawned a Nessie? ${h}/${v}${E}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:K.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Ul(e,this.logService,this.abilityService)}}class yg extends _{logService;abilityService;constructor(e,t,i){super({name:"BadDogAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} chose a level ${this.level} toy that brings doom and chaos!`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new yg(e,this.logService,this.abilityService)}}class bg extends _{logService;constructor(e,t){super({name:"WerewolfAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,r=this.owner;if(t.day){const c=6*this.level;let h=r.parent.getThis(r).pet;if(null==h)return;h.increaseMana(c),this.logService.createLog({message:`${r.name} gave ${h.name} ${c} mana.`,type:"ability",player:r.parent,tiger:n})}else{let d=r.parent.getThis(r).pet;if(null==d)return;let h=.5*this.level;const v=Math.floor(r.attack*h),E=Math.floor(r.health*h);let q=Math.min(50,r.attack+v),K=Math.min(50,r.health+E);this.logService.createLog({message:`${r.name} increased ${d.name}'s stats by ${100*h}% (${q}/${K}).`,type:"ability",player:r.parent,tiger:n}),d.increaseAttack(r.attack*h),d.increaseHealth(r.health*h)}this.triggerTigerExecution(e)}copy(e){return new bg(e,this.logService)}}class vg extends _{logService;constructor(e,t){super({name:"AmalgamationAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner;if(!i)return;const c=dr(r,i,(E,q)=>E.parent.getSpecificPet(E,q));if(!c.pet)return;const d=c.pet,h=3*this.level,v=4*this.level;tn(this.logService,r,`${r.name} gave ${d.name} +${h} attack, +${v} mana, and Spooked.`,n,s,{randomEvent:c.random}),d.increaseAttack(h),d.increaseMana(v),d.givePetEquipment(new Da),this.triggerTigerExecution(e)}copy(e){return new vg(e,this.logService)}}class Ag extends _{logService;abilityService;constructor(e,t,i){super({name:"ManticoreAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){}copy(e){return new Ag(e,this.logService,this.abilityService)}}class Na extends C{logService;abilityService;name="Young Phoenix";tier=1;pack="Unicorn";hidden=!0;health=6;attack=6;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Sg extends _{logService;abilityService;constructor(e,t,i){super({name:"PhoenixAfterFaintAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=4*this.level,d=new Na(this.logService,this.abilityService,r.parent,c,c,0),h=r.parent.summonPet(d,r.savedPosition,!1,r);h.success&&this.logService.createLog({message:`${r.name} spawned a Young Phoenix (${c}/${c}).`,type:"ability",player:r.parent,tiger:n,pteranodon:s,sourcePet:r,randomEvent:h.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Sg(e,this.logService,this.abilityService)}}class Zu extends _{logService;constructor(e,t){super({name:"PhoenixFaintAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=3*this.level,h=[...r.parent.petArray,...r.parent.opponent.petArray].filter(q=>q.equipment instanceof ur),v=r.parent.getRandomPets(c,h,!0,!0,r,!0),E=v.pets;if(E.length>0)for(let q of E)this.logService.createLog({message:`${r.name} gave ${q.name} Crisp.`,type:"ability",randomEvent:v.random,tiger:n,player:r.parent}),q.givePetEquipment(new ur);this.triggerTigerExecution(e)}copy(e){return new Zu(e,this.logService)}}class Pg extends _{logService;abilityService;constructor(e,t,i){super({name:"QuetzalcoatlAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(s=>s.alive&&s!==t&&s.tier<=3);if(0===i.length)return void this.triggerTigerExecution(e);const n=this.level;for(let s=0;s<n;s++){const r=i[Math.floor(Math.random()*i.length)];r.increaseExp(2),this.logService.createLog({message:`${t.name} gave ${r.name} +2 experience.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.length>1})}this.triggerTigerExecution(e)}copy(e){return new Pg(e,this.logService,this.abilityService)}}class Hv extends _{logService;constructor(e,t){super({name:"TeamSpiritAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getAll(!1,r,!0),d=c.pets,h={attack:r.level,health:r.level};for(let v of d)this.logService.createLog({message:`${r.name} gave ${v.name} ${h.attack} attack and ${h.health} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),v.increaseAttack(h.attack),v.increaseHealth(h.health);this.triggerTigerExecution(e)}copy(e){return new Hv(e,this.logService)}}class qv extends _{logService;constructor(e,t){super({name:"SleipnirAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=Math.floor(r.attack/2),d=r.parent.getFurthestUpPets(this.level,[r],r),h=d.pets;if(0!=h.length){for(let v of h)null!=v&&(this.logService.createLog({message:`${r.name} gave ${v.name} ${c} mana.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),v.increaseMana(c));this.triggerTigerExecution(e)}}copy(e){return new qv(e,this.logService)}}class jv extends _{logService;constructor(e,t){super({name:"SeaSerpentAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner,d=e.seaSerpentMana??r.mana;if(0==d)return;null==e.seaSerpentMana&&(e.seaSerpentMana=d,r.mana=0);let h=d;this.logService.createLog({message:`${r.name} spent ${d} mana.`,type:"ability",player:r.parent,tiger:n,pteranodon:s});let E=r.parent.opponent.getHighestHealthPet(void 0,r);null!=E.pet&&r.snipePet(E.pet,h,E.random,n,s);let q=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[E.pet],null,!0,r);for(let K of q.pets)null!=K&&r.snipePet(K,h,q.random,n,s);this.triggerTigerExecution(e)}copy(e){return new jv(e,this.logService)}}class Vv extends _{logService;abilityService;constructor(e,t,i){super({name:"YetiAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} rolled ${4*this.level} times while freezing pet copies and tier 6 food.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Vv(e,this.logService,this.abilityService)}}class F_ extends C{logService;abilityService;name="Fire Pup";tier=1;pack="Unicorn";hidden=!0;health=8;attack=8;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Uv extends _{logService;abilityService;constructor(e,t,i){super({name:"CerberusAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:n=>null==this.owner.parent.pet0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let d=new F_(this.logService,this.abilityService,r.parent,8,8,null,5),h=r.parent.summonPet(d,0,!1,r);h.success&&this.logService.createLog({message:`${r.name} spawned Fire Pup (8/8).`,type:"ability",player:r.parent,tiger:n,sourcePet:r,randomEvent:h.randomEvent}),this.triggerTigerExecution(e)}reset(){this.maxUses=this.level,super.reset()}copy(e){return new Uv(e,this.logService,this.abilityService)}}class O_ extends C{logService;abilityService;name="Head";tier=1;pack="Unicorn";hidden=!0;health=5;attack=5;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class kg extends _{logService;abilityService;constructor(e,t,i){super({name:"HydraAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=Math.floor(r.attack/10);for(let d=0;d<c;d++){let h=5*this.level,v=new O_(this.logService,this.abilityService,r.parent,h,h),E=r.parent.summonPet(v,r.savedPosition,!1,r);E.success&&this.logService.createLog({message:`${r.name} spawned Head (${v.attack}/${v.health}).`,type:"ability",player:r.parent,tiger:n,pteranodon:s,sourcePet:r,randomEvent:E.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new kg(e,this.logService,this.abilityService)}}class ed extends _{logService;abilityService;constructor(e,t,i){super({name:"BehemothAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){}copy(e){return new ed(e,this.logService,this.abilityService)}}const $_={Baku:class j1 extends C{logService;abilityService;name="Baku";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new fv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Barghest:class U1 extends C{logService;abilityService;name="Barghest";tier=1;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new bv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Tsuchinoko:class W1 extends C{logService;abilityService;name="Tsuchinoko";tier=1;pack="Unicorn";attack=2;health=1;initAbilities(){this.addAbility(new vv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Murmel:class u_ extends C{logService;abilityService;name="Murmel";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new Jp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Alchemedes:class K1 extends C{logService;abilityService;name="Alchemedes";tier=1;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new Av(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Pengobble:class d_ extends C{logService;abilityService;name="Pengobble";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new Sv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Bunyip:class z1 extends C{logService;abilityService;name="Bunyip";tier=1;pack="Unicorn";attack=3;health=1;initAbilities(){this.addAbility(new Wu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Sneaky Egg":class h_ extends C{logService;abilityService;name="Sneaky Egg";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new Ku(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Cuddle Toad":class p_ extends C{logService;abilityService;name="Cuddle Toad";tier=1;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new kv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"???":class V1 extends C{logService;abilityService;name="???";tier=1;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new yv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Ghost Kitten":class Y1 extends C{logService;abilityService;name="Ghost Kitten";tier=2;pack="Unicorn";attack=4;health=3;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Frost Wolf":class X1 extends C{logService;abilityService;name="Frost Wolf";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new Zp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Mothman:class _v extends C{logService;abilityService;name="Mothman";tier=2;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new eg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Drop Bear":class m_ extends C{logService;abilityService;name="Drop Bear";tier=2;pack="Unicorn";attack=2;health=2;initAbilities(){this.addAbility(new tg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Jackalope:class f_ extends C{logService;abilityService;name="Jackalope";tier=2;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new wv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Ogopogo:class y_ extends C{logService;abilityService;name="Ogopogo";tier=2;pack="Unicorn";attack=3;health=1;initAbilities(){this.addAbility(new Hl(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Thunderbird:class Is extends C{logService;abilityService;name="Thunderbird";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new Tv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Gargoyle:class Q1 extends C{logService;abilityService;name="Gargoyle";tier=2;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new zu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Bigfoot:class ql extends C{logService;abilityService;name="Bigfoot";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new Yu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Lucky Cat":class Z1 extends C{logService;abilityService;name="Lucky Cat";tier=3;pack="Unicorn";attack=1;health=2;initAbilities(){this.addAbility(new Cv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Skeleton Dog":class b_ extends C{logService;abilityService;name="Skeleton Dog";tier=3;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new Ev(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Mandrake:class Nn extends C{logService;abilityService;name="Mandrake";tier=3;pack="Unicorn";attack=4;health=3;initAbilities(){this.addAbility(new ig(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Fur-Bearing Trout":class e0 extends C{logService;abilityService;name="Fur-Bearing Trout";tier=3;pack="Unicorn";attack=3;health=5;initAbilities(){this.addAbility(new xv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Mana Hound":class v_ extends C{logService;abilityService;name="Mana Hound";tier=3;pack="Unicorn";attack=4;health=3;initAbilities(){this.addAbility(new Dv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Calygreyhound:class A_ extends C{logService;abilityService;name="Calygreyhound";tier=3;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new ng(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Brain Cramp":class jl extends C{logService;abilityService;name="Brain Cramp";tier=3;pack="Unicorn";attack=1;health=2;initAbilities(){this.addAbility(new Mv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Minotaur:class Iv extends C{logService;abilityService;name="Minotaur";tier=4;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new Rv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Wyvern:class J1 extends C{logService;abilityService;name="Wyvern";tier=3;pack="Unicorn";attack=3;health=4;initAbilities(){this.addAbility(new Xu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Ouroboros:class t0 extends C{logService;abilityService;name="Ouroboros";tier=3;pack="Unicorn";attack=2;health=4;initAbilities(){this.addAbility(new rg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Griffin:class n0 extends C{logService;abilityService;name="Griffin";tier=3;pack="Unicorn";attack=5;health=4;initAbilities(){this.addAbility(new ag(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Kraken:class r0 extends C{logService;abilityService;name="Kraken";tier=4;pack="Unicorn";attack=5;health=7;initAbilities(){this.addAbility(new og(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Visitor:class a0 extends C{logService;abilityService;name="Visitor";tier=4;pack="Unicorn";attack=7;health=5;initAbilities(){this.addAbility(new sg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Vampire Bat":class T_ extends C{logService;abilityService;name="Vampire Bat";tier=5;pack="Unicorn";attack=2;health=5;initAbilities(){this.addAbility(new hg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Tiger Bug":class S_ extends C{logService;abilityService;name="Tiger Bug";tier=4;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new lg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Tatzelwurm:class BR extends C{logService;abilityService;name="Tatzelwurm";tier=4;pack="Unicorn";attack=1;health=3;initAbilities(){this.addAbility(new Qu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Cyclops:class P_ extends C{logService;abilityService;name="Cyclops";tier=4;pack="Unicorn";attack=2;health=5;initAbilities(){this.addAbility(new Lv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Chimera:class Nv extends C{logService;abilityService;name="Chimera";tier=4;pack="Unicorn";attack=2;health=6;initAbilities(){this.addAbility(new Rs(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h),this.suppressManaSnipeOnFaint=!0}},Roc:class o0 extends C{logService;abilityService;name="Roc";tier=4;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new cg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Worm of Sand":class s0 extends C{logService;abilityService;name="Worm of Sand";tier=4;pack="Unicorn";attack=4;health=1;initAbilities(){this.addAbility(new Fv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Red Dragon":class c0 extends C{logService;abilityService;name="Red Dragon";tier=5;pack="Unicorn";attack=4;health=8;initAbilities(){this.addAbility(new C_(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Unicorn:class l0 extends C{logService;abilityService;name="Unicorn";tier=4;pack="Unicorn";attack=2;health=4;initAbilities(){this.addAbility(new dg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Loveland Frogman":class E_ extends C{logService;abilityService;name="Loveland Frogman";tier=5;pack="Unicorn";attack=1;health=5;initAbilities(){this.addAbility(new pg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Salmon of Knowledge":Ay,"Jersey Devil":class x_ extends C{logService;abilityService;name="Jersey Devil";tier=5;pack="Unicorn";attack=5;health=4;initAbilities(){this.addAbility(new gg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Pixiu:class D_ extends C{logService;abilityService;name="Pixiu";tier=5;pack="Unicorn";attack=4;health=5;initAbilities(){this.addAbility(new mg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Kitsune:class M_ extends C{logService;abilityService;name="Kitsune";tier=5;pack="Unicorn";attack=2;health=7;initAbilities(){this.addAbility(new fg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Nessie:class Bv extends C{logService;abilityService;name="Nessie";tier=5;pack="Unicorn";attack=3;health=5;initAbilities(){this.addAbility(new Ul(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Bad Dog":class $v extends C{logService;abilityService;name="Bad Dog";tier=5;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new yg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Werewolf:class I_ extends C{logService;abilityService;name="Werewolf";tier=5;pack="Unicorn";attack=7;health=7;initAbilities(){this.addAbility(new bg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Amalgamation:class R_ extends C{logService;abilityService;name="Amalgamation";tier=5;pack="Unicorn";attack=4;health=5;initAbilities(){this.addAbility(new vg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Manticore:class L_ extends C{logService;abilityService;name="Manticore";tier=6;pack="Unicorn";attack=7;health=4;initAbilities(){this.addAbility(new Ag(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Phoenix:class Gv extends C{logService;abilityService;name="Phoenix";tier=6;pack="Unicorn";attack=8;health=8;initAbilities(){this.addAbility(new Zu(this,this.logService)),this.addAbility(new Sg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Quetzalcoatl:class N_ extends C{logService;abilityService;name="Quetzalcoatl";tier=6;pack="Unicorn";attack=4;health=8;initAbilities(){this.addAbility(new Pg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Team Spirit":class u0 extends C{logService;abilityService;name="Team Spirit";tier=6;pack="Unicorn";attack=4;health=5;initAbilities(){this.addAbility(new Hv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Sleipnir:class d0 extends C{logService;abilityService;name="Sleipnir";tier=6;pack="Unicorn";attack=8;health=5;initAbilities(){this.addAbility(new qv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Sea Serpent":class h0 extends C{logService;abilityService;name="Sea Serpent";tier=6;pack="Unicorn";attack=6;health=6;initAbilities(){this.addAbility(new jv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Yeti:class p0 extends C{logService;abilityService;name="Yeti";tier=6;pack="Unicorn";attack=5;health=9;initAbilities(){this.addAbility(new Vv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Cerberus:class g0 extends C{logService;abilityService;name="Cerberus";tier=6;pack="Unicorn";attack=9;health=9;initAbilities(){this.addAbility(new Uv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Hydra:class m0 extends C{logService;abilityService;name="Hydra";tier=6;pack="Unicorn";attack=10;health=6;initAbilities(){this.addAbility(new kg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Behemoth:class B_ extends C{logService;abilityService;name="Behemoth";tier=6;pack="Unicorn";attack=12;health=12;initAbilities(){this.addAbility(new ed(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Abomination:Ju};class td extends C{logService;abilityService;petService;name="Iriomote Cat";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new Wv(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class Wv extends _{logService;petService;constructor(e,t,i){super({name:"IriomoteCatAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const r=this.owner,c=Mo.iriomoteCat[this.level]??this.petService.allPets.get(this.level)??[];if(0===c.length)return;let h=c[Jt(0,c.length-1)],v=this.petService.createPet({name:h,attack:r.attack,health:r.health,exp:0,equipment:r.equipment,mana:r.mana},r.parent);this.logService.createLog({message:`${r.name} transformed into a ${h} (Level ${v.level}).`,type:"ability",player:r.parent,randomEvent:!0}),r.parent.transformPet(r,v),this.triggerTigerExecution(e)}copy(e){return new Wv(e,this.logService,this.petService)}}class id extends _{logService;constructor(e,t){super({name:"IliPikaAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=r.parent.getSpecificPet(r,i),d=c.pet;if(!d)return;let h=1*this.level;d.attack>d.health?(d.increaseAttack(h),this.logService.createLog({message:`${r.name} give ${h} attack to ${d.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random})):(d.increaseHealth(h),this.logService.createLog({message:`${r.name} give ${h} health to ${d.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random})),this.triggerTigerExecution(e)}copy(e){return new id(e,this.logService)}}class G_ extends _{logService;constructor(e,t){super({name:"MalayTapirAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getThis(r),d=c.pet;if(!d)return;let h=1*this.level;d.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${d.name} ${h} health`,type:"ability",player:r.parent,sourcePet:r,targetPet:d,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new G_(e,this.logService)}}class Kv extends _{logService;abilityService;constructor(e,t,i){super({name:"BombusDahlbomiiAbility",owner:e,triggers:["EnemyAttacked2"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;this.abilityService.setCounterEvent({callback:()=>{let c=r.parent.opponent.getFurthestUpPet(r),d=c.pet;d&&r.snipePet(d,1*this.level,c.random,n)},priority:r.attack,pet:r}),this.triggerTigerExecution(e)}copy(e){return new Kv(e,this.logService,this.abilityService)}}class q_ extends C{logService;abilityService;name="Ethiopian Wolf";tier=1;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new zv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class zv extends _{logService;constructor(e,t){super({name:"EthiopianWolfAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.opponent.getFurthestUpPets(this.level,void 0,r);for(const d of c.pets)d?.alive&&(d.increaseAttack(-1),this.logService.createLog({message:`${r.name} removed 1 attack from ${d.name}.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random}));this.triggerTigerExecution(e)}copy(e){return new zv(e,this.logService)}}class wg extends _{constructor(e){super({name:"FanMusselAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:t=>{this.executeAbility(t)}})}executeAbility(e){}copy(e){return new wg(e)}}class Tg extends _{logService;constructor(e,t){super({name:"TogianBabirusaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.opponent.getRandomPet([],!1,!1,!1,r);c.pet&&(c.pet.increaseHealth(1),this.logService.createLog({message:`${r.name} gave ${c.pet.name} +1 health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random})),this.triggerTigerExecution(e)}copy(e){return new Tg(e,this.logService)}}class Yv extends _{logService;constructor(e,t){super({name:"VolcanoSnailAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let h=[...r.parent.getPetsWithEquipmentWithSillyFallback("perk",r),...r.parent.getPetsWithEquipmentWithSillyFallback("Toasty",r)],v=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,h,null,null,r);if(0!==v.pets.length){for(let E of v.pets){let q=new Lm;E.givePetEquipment(q),this.logService.createLog({message:`${r.name} made ${E.name} Toasty`,type:"ability",player:r.parent,sourcePet:r,targetPet:E,tiger:n,randomEvent:v.random})}this.triggerTigerExecution(e)}}copy(e){return new Yv(e,this.logService)}}class Xv extends _{logService;constructor(e,t){super({name:"AfricanWildDogAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let d,c=r.parent.opponent.getFurthestUpPet(r);if(null!=c.pet){if(d=c.random?c.pet:c.pet?.petBehind(),d){let h=3*this.level;r.jumpAttackPrep(d),r.jumpAttack(d,n,h,c.random)}this.triggerTigerExecution(e)}}copy(e){return new Xv(e,this.logService)}}class Qv extends _{logService;constructor(e,t){super({name:"AraripeManakinAbility",owner:e,triggers:["FriendTransformed","FriendJumped"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getThis(r),d=c.pet;if(!d)return;let h=3*this.level;d.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${d.name} ${h} health`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new Qv(e,this.logService)}}class Cg extends _{logService;constructor(e,t){super({name:"EuropeanMinkAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=this.level,d=r.parent.nearestPetsAhead(1,r);if(d.pets.length>0){let v=d.pets[0];v.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${v.name} ${c} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random})}let h=r.parent.nearestPetsBehind(1,r);if(h.pets.length>0){let v=h.pets[0];v.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${v.name} ${c} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random})}this.triggerTigerExecution(e)}copy(e){return new Cg(e,this.logService)}}class Zv extends C{logService;abilityService;name="Angry Pygmy Hog";tier=2;pack="Custom";attack=5;health=5;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class eA extends _{logService;abilityService;constructor(e,t,i){super({name:"PygmyHogAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c={health:Math.max(5*this.level,r.health),attack:Math.max(5*this.level,r.attack)},d=new Zv(this.logService,this.abilityService,r.parent,c.health,c.attack,r.mana,r.exp,new Ih);this.logService.createLog({message:`${r.name} transformed into ${d.name} (${c.attack}/${c.health}) with Garlic!`,type:"ability",player:r.parent,tiger:n}),r.parent.transformPet(r,d),this.triggerTigerExecution(e)}copy(e){return new eA(e,this.logService,this.abilityService)}}class tA extends _{logService;constructor(e,t){super({name:"SakerFalconAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;if(r.parent.petArray.length<r.parent.opponent.petArray.length){let h=r.parent.getThis(r),v=h.pet;if(!v)return;let E=2*this.level;v.increaseAttack(E),v.increaseHealth(E),this.logService.createLog({message:`${r.name} gave ${v.name} ${E} attack and ${E} health (outnumbered)`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random})}this.triggerTigerExecution(e)}copy(e){return new tA(e,this.logService)}}class iA extends _{logService;abilityService;constructor(e,t,i){super({name:"TaitaShrewAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getThis(r),d=c.pet;if(!d)return;let h=new Yk(this.logService,this.abilityService,r.parent,d.health,d.attack,d.mana,d.exp,d.equipment);this.logService.createLog({message:`${r.name} transformed ${d.name} into ${h.name} (level ${this.level}).`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),r.parent.transformPet(d,h),this.triggerTigerExecution(e)}copy(e){return new iA(e,this.logService,this.abilityService)}}class nA extends _{logService;constructor(e,t){super({name:"WhiteBelliedHeronAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsAhead(1,r);if(0==c.pets.length)return;let d=c.pets[0],h=new nP;h.multiplier+=this.level-1,d.givePetEquipment(h);let v=".";2===this.level?v=" twice for double effect.":3===this.level&&(v=" thrice for triple effect."),this.logService.createLog({message:`${r.name} made ${d.name} Meat Bone${v}`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new nA(e,this.logService)}}class Eg extends _{logService;constructor(e,t){super({name:"DarwinsFoxAbility",owner:e,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;if(i&&i.alive){let c=r.parent.getSpecificPet(r,i),d=c.pet;if(!d)return;r.jumpAttackPrep(d),r.jumpAttack(d,n,void 0,c.random)}else{let c=r.parent.opponent.getFurthestUpPet(r),d=c.pet;if(!d)return;r.jumpAttackPrep(d),r.jumpAttack(d,n,void 0,c.random)}this.triggerTigerExecution(e)}reset(){this.maxUses=this.level,super.reset()}copy(e){return new Eg(e,this.logService)}}class rA extends C{logService;abilityService;petService;name="Takhi";tier=2;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new aA(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class aA extends _{logService;abilityService;petService;constructor(e,t,i,n){super({name:"TakhiAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let h=this.petService.createPet({name:"African Wild Dog",attack:3*this.level,health:2*this.level,exp:0,mana:0,equipment:null},r.parent);if(h){let v=r.parent.summonPet(h,r.savedPosition,!1,r);v.success&&(this.logService.createLog({message:`${r.name} summoned a ${h.attack}/${h.health} ${h.name}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:v.randomEvent}),h.activateAbilities("StartBattle",t,"Pet"))}this.triggerTigerExecution(e)}copy(e){return new aA(e,this.logService,this.abilityService,this.petService)}}class oA extends _{logService;constructor(e,t){super({name:"BlueThroatedMacawAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;if(i){if(i.position<r.position){let c=r.parent.getSpecificPet(r,i),d=c.pet;if(!d)return;let h=3*this.level;d.increaseAttack(h),this.logService.createLog({message:`${r.name} gave ${d.name} +${h} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random})}else{let c=r.parent.getSpecificPet(r,i),d=c.pet;if(!d)return;let h=3*this.level;d.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${d.name} +${h} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random})}this.triggerTigerExecution(e)}}copy(e){return new oA(e,this.logService)}}class Wl extends _{logService;abilityService;constructor(e,t,i){super({name:"HirolaAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;for(let c=0;c<this.level;c++){let d=new q_(this.logService,this.abilityService,r.parent,3,4,r.mana,r.exp),h=r.parent.summonPet(d,r.savedPosition,!1,r);h.success&&this.logService.createLog({message:`${r.name} summoned a 4/3 ${d.name}.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Wl(e,this.logService,this.abilityService)}}class sA extends _{logService;constructor(e,t){super({name:"MonkeyFacedBatAbility",owner:e,triggers:["AnyoneBehindHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getRandomPets(2,[],!0,!1,r);for(let d of c.pets)if(null!=d){let h={attack:this.level,health:2*this.level};d.increaseAttack(h.attack),d.increaseHealth(h.health),this.logService.createLog({message:`${r.name} gave ${d.name} ${h.attack} attack and ${h.health} health`,type:"ability",player:r.parent,randomEvent:c.random,tiger:n})}this.triggerTigerExecution(e)}copy(e){return new sA(e,this.logService)}}class lA extends _{logService;abilityService;constructor(e,t,i){super({name:"PygmyHippoAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=Math.floor(.33*r.health),d=r.parent.opponent.getLowestHealthPets(this.level,void 0,r);for(let h of d.pets)r.snipePet(h,c,d.random,n);this.triggerTigerExecution(e)}copy(e){return new lA(e,this.logService,this.abilityService)}}class Fa extends _{logService;constructor(e,t){super({name:"TakinAbility",owner:e,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=this.level,d=2*this.level,h=r.parent.getThis(r),v=h.pet;v.increaseAttack(c),v.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${v.name} ${c} attack and ${d} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}),this.triggerTigerExecution(e)}copy(e){return new Fa(e,this.logService)}}class cA extends _{logService;constructor(e,t){super({name:"TucuxiAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getLastPet([r],r),d=c.pet;if(!d)return;r.parent.pushPetToFront(d,!1),this.logService.createLog({message:`${r.name} pushed ${d.name} to the front`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random});let h=3*this.level;d.increaseAttack(h),d.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${d.name} +${h} attack and +${h} health`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new cA(e,this.logService)}}class uA extends C{logService;abilityService;petService;name="Roloway Monkey";tier=3;pack="Danger";attack=2;health=5;initAbilities(){this.addAbility(new z_(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class z_ extends _{logService;petService;constructor(e,t,i){super({name:"RolowayMonkeyAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsAhead(2,r);if(0===c.pets.length)return;const d=Mo.rolowayMonkey;for(let h of c.pets){let v=Math.floor(Math.random()*d.length),q=this.petService.createPet({name:d[v],health:h.health,attack:h.attack,mana:h.mana,exp:r.exp,equipment:h.equipment},r.parent);r.parent.transformPet(h,q),this.logService.createLog({message:`${r.name} transformed ${h.name} into a ${q.attack}/${q.health} ${q.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:!0})}this.triggerTigerExecution(e)}copy(e){return new z_(e,this.logService,this.petService)}}class hA extends _{logService;constructor(e,t){super({name:"AmamiRabbitAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=1*this.level,d=r.parent.opponent.getHighestAttackPet(void 0,r);if(d.pet&&d.pet.alive)if(r.jumpAttackPrep(d.pet),r.transformed&&r.transformedInto){let h=r.parent.getThis(r.transformedInto);h.pet&&(r.transformedInto.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${r.transformedInto.name} ${c} attack`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}))}else{let h=r.parent.getThis(r);h.pet&&(h.pet.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${h.pet.name} ${c} attack`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}))}r.jumpAttack(d.pet,n,void 0,d.random),this.triggerTigerExecution(e)}copy(e){return new hA(e,this.logService)}}class pA extends _{logService;constructor(e,t){super({name:"TreeKangarooAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let v=[...r.parent.getPetsWithEquipmentWithSillyFallback("perk",r),...r.parent.opponent.petArray.filter(K=>"Tree Kangaroo"==K.name),...r.parent.petArray.filter(K=>"Tree Kangaroo"==K.name)],E=r.parent.opponent.getLastPet(v,r),q=E.pet;q&&(q.givePetEquipment(new Uh),this.logService.createLog({message:`${r.name} gave ${q.name} Silly`,type:"ability",tiger:n,player:r.parent,randomEvent:E.random}));for(let K=0;K<this.level;K++){let ce=r.parent.getSpecificPet(r,q).pet;if(ce){this.logService.createLog({message:`${r.name} activated ${q.name}'s ability.`,type:"ability",tiger:n,player:r.parent,randomEvent:E.random});for(const Ae of ce.abilityList)Ae.execute(t,ce,n,s)}}this.triggerTigerExecution(e)}copy(e){return new pA(e,this.logService)}}class od extends C{logService;abilityService;petService;name="Bonobo";tier=4;pack="Danger";attack=3;health=3;constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class zl extends _{logService;abilityService;constructor(e,t,i){super({name:"GiantTortoiseAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new zl(e,this.logService,this.abilityService)}}class J_ extends _{logService;constructor(e,t){super({name:"HumpheadWrasseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=.3*this.level,d=r.parent.opponent.getHighestAttackPet(void 0,r);if(!d.pet)return;let h=d.pet,v=Math.ceil(h.attack*c),E=Math.max(1,h.attack-v);h.attack=E,this.logService.createLog({message:`${r.name} reduced ${h.name}'s attack by ${100*c}% to (${h.attack})`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new J_(e,this.logService)}}class xg extends C{logService;abilityService;petService;name="Golden Tamarin";tier=4;pack="Danger";attack=4;health=4;initAbilities(){this.addAbility(new fA(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class fA extends _{logService;petService;constructor(e,t,i){super({name:"GoldenTamarinAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let d=r.parent.getThis(r).pet;if(!d)return;const h=Mo.goldenTamarin;let v=Math.floor(Math.random()*h.length),q=this.petService.createPet({name:h[v],health:d.health,attack:d.attack,mana:d.mana,exp:d.exp,equipment:d.equipment},r.parent);r.parent.transformPet(d,q),this.logService.createLog({message:`${r.name} transformed ${d.name} into a ${q.attack}/${q.health} ${q.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new fA(e,this.logService,this.petService)}}class Dg extends _{logService;constructor(e,t){super({name:"KakapoAbility",owner:e,triggers:["ThisFirstAttack"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,condition:i=>this.owner.timesAttacked<=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent.getHighestAttackPets(this.level,void 0,r);for(let h of c.pets)h.givePetEquipment(new Da),this.logService.createLog({message:`${r.name} gave ${h.name} Spooked.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random});let d=r.parent.opponent.getHighestAttackPets(this.level,void 0,r);for(let h of d.pets)h.parent.pushPetToBack(h),this.logService.createLog({message:`${r.name} pushed ${h.name} to the back.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random});this.triggerTigerExecution(e)}copy(e){return new Dg(e,this.logService)}}class sd extends _{logService;constructor(e,t){super({name:"LongcombSawfishAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=4*this.level,d=-4*this.level,h=r.parent.getThis(r),v=h.pet;v&&(v.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${v.name} ${c} health`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}));let q=r.parent.opponent.getAll(!1,r).pets;for(let K of q)K.increaseHealth(d),this.logService.createLog({message:`${r.name} reduced ${K.name} health by ${Math.abs(d)}`,type:"ability",player:r.parent,tiger:n});this.triggerTigerExecution(e)}copy(e){return new sd(e,this.logService)}}class yA extends _{logService;constructor(e,t){super({name:"AmazonRiverDolphinAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=r.parent.getSpecificPet(r,i.currentTarget),d=c.pet;if(d&&d.alive)r.snipePet(d,3*this.level,c.random,n);else{let h=r.parent.getThis(r),v=h.pet;if(!v)return;let E=3*this.level;v.increaseAttack(E),this.logService.createLog({message:`${r.name} gave ${v.name} ${E} attack`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random})}this.triggerTigerExecution(e)}copy(e){return new yA(e,this.logService)}}class bA extends _{logService;constructor(e,t){super({name:"TasmanianDevilAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent.getLowestAttackPet(void 0,r);if(c.pet&&c.pet.alive){let d=new Da;d.multiplier+=5*this.level-1,this.logService.createLog({message:`${r.name} gave ${c.pet.name} ${d.multiplier}x Spooked.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),c.pet.givePetEquipment(d),r.jumpAttackPrep(c.pet),r.jumpAttack(c.pet,n,null,c.random)}this.triggerTigerExecution(e)}copy(e){return new bA(e,this.logService)}}class Mg extends _{logService;buffedFriends=new Map;constructor(e,t){super({name:"GiantOtterAbility",owner:e,triggers:["BeforeStartBattle","AnyoneAttack","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.buffedFriends.clear(),super.reset()}removeConditionalBuffs(){this.buffedFriends.size>0&&this.logService.createLog({message:`${this.owner.name} removed its temporary buffs after the first non-jump attack`,type:"ability",player:this.owner.parent});for(let[e,t]of this.buffedFriends){let i=e;if(i.transformed&&i.transformedInto&&(i=i.transformedInto),i&&i.alive&&(t.attack>0&&i.increaseAttack(-t.attack),t.health>0&&i.increaseHealth(-t.health),t.attack>0||t.health>0)){const n=[];t.attack>0&&n.push(`${t.attack} attack`),t.health>0&&n.push(`${t.health} health`),this.logService.createLog({message:`${i.name} lost ${n.join(" and ")} (Giant Otter Buffs removed)`,type:"ability",player:this.owner.parent})}this.buffedFriends.delete(e)}}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:n,trigger:r}=e,c=this.owner;if("PostRemovalFaint"===r)return void this.removeConditionalBuffs();if(i)return void(t.FirstNonJumpAttackHappened&&this.removeConditionalBuffs());let d={attack:2*this.level,health:5*this.level},h=c.parent.getAll(!1,c,!0),v=h.pets;for(let E of v){const q=this.buffedFriends.get(E);q?(q.attack+=d.attack,q.health+=d.health):this.buffedFriends.set(E,{attack:d.attack,health:d.health}),E.increaseAttack(d.attack),E.increaseHealth(d.health),this.logService.createLog({message:`${c.name} gave ${E.name} +${d.attack} attack and +${d.health} health`,type:"ability",player:c.parent,tiger:n,randomEvent:h.random})}this.triggerTigerExecution(e)}copy(e){return new Mg(e,this.logService)}}class Ig extends _{logService;abilityService;constructor(e,t,i){super({name:"AyeAyeAbility",owner:e,triggers:["EnemyAttacked8"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;for(let h=0;h<2;h++){let v=3,E=3,q=new Cy(this.logService,this.abilityService,r.parent,E,v,0,0),K=r.parent.summonPet(q,r.savedPosition,!1,r);K.success&&this.logService.createLog({message:`${r.name} summoned a ${v}/${E} ${q.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:K.randomEvent})}let c=3*this.level,d=r.parent.getAll(!1,r,!0);for(let h of d.pets)h.increaseAttack(c),h.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${h.name} +${c} attack and +${c} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random});this.triggerTigerExecution(e)}copy(e){return new Ig(e,this.logService,this.abilityService)}}class vA extends _{logService;constructor(e,t){super({name:"BanggaiCardinalfishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=6*this.level,h=r.parent.getAll(!0,r,!0);for(let v of h.pets){let E=Math.max(v.attack-c,4);v.attack=E,this.logService.createLog({message:`${r.name} reduced ${v.name} attack by ${c} to (${E}).`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random})}this.triggerTigerExecution(e)}copy(e){return new vA(e,this.logService)}}class Rg extends _{logService;constructor(e,t){super({name:"GeometricTortoiseAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,damageAmount:r}=e,c=this.owner;if(void 0===r||r<=0)return;let d=.33*this.level;3===c.level&&(d=1);let h=Math.floor(r*d);if(h>0){let v=c.parent.opponent.getRandomPet([],!1,!0,!1,c);v.pet&&c.snipePet(v.pet,h,v.random,n)}this.triggerTigerExecution(e)}copy(e){return new Rg(e,this.logService)}}class Lg extends _{logService;constructor(e,t){super({name:"GiantPangasiusAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,r=this.owner;if(!t)return;let c;c=r.parent===t.player?t.playerTransformationAmount:t.opponentTransformationAmount;let d=4*this.level;if(c>0)for(let h=0;h<c;h++){let E=Zt(r)?r.parent.getRandomPet([],!1,!0,!1,r,!0):r.parent.opponent.getRandomPet([],!1,!0,!1,r);E.pet&&r.snipePet(E.pet,d,E.random,n)}this.triggerTigerExecution(e)}copy(e){return new Lg(e,this.logService)}}class Ng extends _{logService;constructor(e,t){super({name:"HawaiianMonkSealAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=r.parent.getSpecificPet(r,i),d=c.pet;if(d&&!r.targettedFriends.has(d)){if(r.targettedFriends.size<3&&d.alive){let h=2*r.level;d.increaseHealth(h),r.targettedFriends.add(d),this.logService.createLog({message:`${r.name} gave ${d.name} ${h} health`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random})}this.triggerTigerExecution(e)}}copy(e){return new Ng(e,this.logService)}}class AA extends _{logService;targettedFriends=new Set;constructor(e,t){super({name:"MarineIguanaAbility",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>{const{triggerPet:n}=i;return!this.targettedFriends.has(n)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.targettedFriends=new Set,super.reset()}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=r.parent.getSpecificPet(r,i),d=c.pet;d&&(d.givePetEquipment(new to),this.targettedFriends.add(d),this.logService.createLog({message:`${r.name} gave ${d.name} Melon`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e))}copy(e){return new AA(e,this.logService)}}class ow extends _{logService;constructor(e,t){super({name:"TaitaThrushAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=this.level,d=r.parent.getAll(!1,r,!0);for(let h of d.pets)h.increaseAttack(c),h.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${h.name} +${c} attack and +${c} health`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random});this.triggerTigerExecution(e)}copy(e){return new ow(e,this.logService)}}class sw extends _{logService;constructor(e,t){super({name:"PaintedTerrapinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithEquipment("White Okra"),d=r.parent.nearestPetsBehind(r.level,r,c),h=d.pets;for(let v of h)this.logService.createLog({message:`${r.name} gave ${v.name} White Okra perk`,type:"ability",tiger:n,player:r.parent,pteranodon:s,randomEvent:d.random}),v.givePetEquipment(new Fm);this.triggerTigerExecution(e)}copy(e){return new sw(e,this.logService)}}class lw extends _{logService;constructor(e,t){super({name:"SnowLeopardAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=5*this.level,d=r.parent.opponent.getRandomPet([],!1,!0,!1,r);if(d.pet&&d.pet.alive){if(r.jumpAttackPrep(d.pet),r.transformed&&r.transformedInto){let h=r.parent.getThis(r.transformedInto);h.pet&&(r.transformedInto.increaseAttack(c),r.transformedInto.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${r.transformedInto.name} ${c} attack and ${c} health`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}))}else{let h=r.parent.getThis(r);h.pet&&(h.pet.increaseAttack(c),h.pet.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${h.pet.name} ${c} attack and ${c} health`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}))}r.jumpAttack(d.pet,n,null,d.random)}this.triggerTigerExecution(e)}copy(e){return new lw(e,this.logService)}}class cw extends _{logService;constructor(e,t){super({name:"AmsterdamAlbatrossAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=2*r.level,d=2*r.level,v=r.parent.getSpecificPet(r,i).pet;null!=v&&(v.increaseAttack(c),v.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${v.name} +${c} attack and +${d} health.`,type:"ability",player:r.parent,tiger:n}),this.triggerTigerExecution(e))}copy(e){return new cw(e,this.logService)}}class SA extends C{logService;abilityService;petService;name="Bay Cat";tier=6;pack="Danger";attack=7;health=5;initAbilities(){this.addAbility(new PA(this,this.logService,this.petService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class PA extends _{logService;petService;abilityService;constructor(e,t,i,n){super({name:"BayCatAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.petService=i,this.abilityService=n}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let c=Mo.bayCat;for(let d=0;d<r.level;d++){let h=c[Math.floor(Math.random()*c.length)],v=this.petService.createPet({name:h,attack:null,health:null,equipment:null,mana:0,exp:0},r.parent);r.parent.summonPet(v,r.savedPosition,!1,r).success&&(this.logService.createLog({message:`${r.name} summoned ${v.name}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:!0}),v.hasAbility("StartBattle")&&(this.logService.createLog({message:`${v.name} activated its start of battle ability`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),v.activateAbilities("StartBattle",t,"Pet")))}this.triggerTigerExecution(e)}copy(e){return new PA(e,this.logService,this.petService,this.abilityService)}}class kA extends _{logService;constructor(e,t){super({name:"BlackRhinoAbility",owner:e,triggers:["EnemyAttacked7"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let d=r.parent.opponent.getHighestHealthPets(r.level,[],r),h=d.pets;for(let v of h)r.snipePet(v,30,d.random,n);this.triggerTigerExecution(e)}copy(e){return new kA(e,this.logService)}}class Fg extends _{logService;abilityService;constructor(e,t,i){super({name:"BlueWhaleAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=2*this.level;this.logService.createLog({message:`${t.name} sold friends for +2 extra gold each and gave future shop pets +${i} attack and +${i} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new Fg(e,this.logService,this.abilityService)}}class ld extends C{logService;abilityService;petService;name="California Condor";tier=6;pack="Danger";attack=10;health=6;initAbilities(){this.addAbility(new Og(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class Og extends _{logService;constructor(e,t){super({name:"CaliforniaCondorAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=i;c&&(this.logService.createLog({message:`California Condor copied ${c.name}'s level ${r.level} ability`,type:"ability",player:r.parent,tiger:n}),r.gainAbilities(c,"Pet"),this.triggerTigerExecution(e))}copy(e){return new Og(e,this.logService)}}class _A extends _{logService;constructor(e,t){super({name:"GreenSeaTurtleAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let d=r.parent.getAll(!1,r).pets;for(let h of d)h.givePetEquipment(new to,r.level),this.logService.createLog({message:`${r.name} gave ${h.name} Melon.`,type:"ability",player:r.parent,tiger:n});this.triggerTigerExecution(e)}copy(e){return new _A(e,this.logService)}}class Bg extends _{logService;constructor(e,t){super({name:"PhilippineEagleAbility",owner:e,triggers:["AnyoneJumped"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getRandomPet([],!1,!1,!1,r),d=c.pet;if(!d)return;let h=4*this.level;d.increaseAttack(h),d.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${d.name} +${h} attack and +${h} health`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new Bg(e,this.logService)}}class TA extends C{logService;abilityService;petService;name="Silky Sifaka";tier=6;pack="Danger";attack=4;health=6;initAbilities(){this.addAbility(new uw(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class uw extends _{logService;petService;constructor(e,t,i){super({name:"SilkySifakaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=["Mammoth","Lionfish","Orca","Sabertooth Tiger","Warthog","Hydra","Phoenix","Bay Cat","Walrus","Ammonite"],h=r.parent.nearestPetsBehind(2,r).pets;for(let v of h){let E=c[Math.floor(Math.random()*c.length)],q=this.petService.createPet({name:E,attack:v.attack,health:v.health,mana:v.mana,exp:r.minExpForLevel,equipment:v.equipment},r.parent);r.parent.transformPet(v,q),this.logService.createLog({message:`${r.name} transformed ${v.name} into level ${r.level} ${q.name}`,type:"ability",player:r.parent,tiger:n,randomEvent:!0})}this.triggerTigerExecution(e)}copy(e){return new uw(e,this.logService,this.petService)}}class CA extends Lu{logService;constructor(e,t){super({owner:e,name:"SumatranTigerAbility",triggers:["StartBattle"]}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getOppositeEnemyPet(r),d=c.pet;if(d&&(r.jumpAttackPrep(d),r.jumpAttack(d,n,null,c.random),r.level>=2)){let h=2===this.level?6:12,v=[];if(c.random)v=r.parent.getRandomLivingPets(2).pets;else{let E=d.petBehind();E&&E.alive&&v.push(E);let q=d.petAhead;q&&q.alive&&v.push(q)}for(let E of v)r.snipePet(E,h,c.random,n)}this.triggerTigerExecution(e)}copy(e){return new CA(e,this.logService)}}const YR={"Iriomote Cat":td,"Ili Pika":class f0 extends C{logService;abilityService;name="Ili Pika";tier=1;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new id(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Malay Tapir":class y0 extends C{logService;abilityService;name="Malay Tapir";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new G_(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Bombus Dahlbomii":class H_ extends C{logService;abilityService;name="Bombus Dahlbomii";tier=1;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new Kv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"African Wild Dog":class A0 extends C{logService;abilityService;name="African Wild Dog";tier=1;pack="Danger";attack=2;health=1;initAbilities(){this.addAbility(new Xv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Ethiopian Wolf":q_,"Fan Mussel":class _g extends C{logService;abilityService;name="Fan Mussel";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new wg(this)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Togian Babirusa":class j_ extends C{logService;abilityService;name="Togian Babirusa";tier=1;pack="Danger";attack=3;health=3;initAbilities(){this.addAbility(new Tg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Tooth Billed Pigeon":class b0 extends C{logService;abilityService;name="Tooth Billed Pigeon";tier=1;pack="Danger";attack=3;health=1;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Volcano Snail":class v0 extends C{logService;abilityService;name="Volcano Snail";tier=1;pack="Danger";attack=1;health=4;initAbilities(){this.addAbility(new Yv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Araripe Manakin":class S0 extends C{logService;abilityService;name="Araripe Manakin";tier=2;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new Qv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"European Mink":class nd extends C{logService;abilityService;name="European Mink";tier=2;pack="Danger";attack=4;health=3;initAbilities(){this.addAbility(new Cg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Proboscis Monkey":class U_ extends C{logService;abilityService;name="Proboscis Monkey";tier=2;pack="Danger";attack=4;health=4;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Pygmy Hog":class W_ extends C{logService;abilityService;name="Pygmy Hog";tier=2;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new eA(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Saola:class P0 extends C{logService;abilityService;name="Saola";tier=2;pack="Danger";attack=2;health=2;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Saker Falcon":class $R extends C{logService;abilityService;name="Saker Falcon";tier=2;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new tA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Taita Shrew":class _0 extends C{logService;abilityService;name="Taita Shrew";tier=2;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new iA(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"White-Bellied Heron":class w0 extends C{logService;abilityService;name="White-Bellied Heron";tier=2;pack="Danger";attack=4;health=2;initAbilities(){this.addAbility(new nA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Darwin's Fox":class rd extends C{logService;abilityService;name="Darwin's Fox";tier=2;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new Eg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Amami Rabbit":class dA extends C{logService;abilityService;name="Amami Rabbit";tier=3;pack="Danger";attack=1;health=3;initAbilities(){this.addAbility(new hA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Tree Kangaroo":class X_ extends C{logService;abilityService;name="Tree Kangaroo";tier=3;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new pA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Blue-Throated Macaw":class T0 extends C{logService;abilityService;name="Blue-Throated Macaw";tier=3;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new oA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Hirola:class C0 extends C{logService;abilityService;name="Hirola";tier=3;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new Wl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Monkey-Faced Bat":class E0 extends C{logService;abilityService;name="Monkey-Faced Bat";tier=3;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new sA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Takin:class x0 extends C{logService;abilityService;name="Takin";tier=3;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new Fa(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Tucuxi:class Kl extends C{logService;abilityService;name="Tucuxi";tier=3;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new cA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Pygmy Hippo":class K_ extends C{logService;abilityService;name="Pygmy Hippo";tier=3;pack="Danger";attack=2;health=7;initAbilities(){this.addAbility(new lA(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Spoon-Billed Sandpiper":class ad extends C{logService;abilityService;name="Spoon-Billed Sandpiper";tier=3;pack="Danger";attack=3;health=2;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Angelshark:class D0 extends C{logService;abilityService;name="Angelshark";tier=4;pack="Danger";attack=3;health=4;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Giant Otter":class tw extends C{logService;abilityService;name="Giant Otter";tier=4;pack="Danger";attack=4;health=3;buffedFriends=new Map;initAbilities(){this.addAbility(new Mg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Giant Tortoise":class M0 extends C{logService;abilityService;name="Giant Tortoise";tier=4;pack="Danger";attack=4;health=6;initAbilities(){this.addAbility(new zl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Humphead Wrasse":class mA extends C{logService;abilityService;name="Humphead Wrasse";tier=4;pack="Danger";attack=6;health=4;initAbilities(){this.addAbility(new J_(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Kakapo:class Z_ extends C{logService;abilityService;name="Kakapo";tier=4;pack="Danger";attack=4;health=4;initAbilities(){this.addAbility(new Dg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Longcomb Sawfish":class ew extends C{logService;abilityService;name="Longcomb Sawfish";tier=4;pack="Danger";attack=3;health=3;initAbilities(){this.addAbility(new sd(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Tasmanian Devil":class I0 extends C{logService;abilityService;name="Tasmanian Devil";tier=4;pack="Danger";attack=1;health=5;initAbilities(){this.addAbility(new bA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Amazon River Dolphin":class GR extends C{logService;abilityService;name="Amazon River Dolphin";tier=4;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new yA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Aye-aye":class R0 extends C{logService;abilityService;name="Aye-aye";tier=5;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new Ig(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Banggai Cardinalfish":class iw extends C{logService;abilityService;name="Banggai Cardinalfish";tier=5;pack="Danger";attack=4;health=7;initAbilities(){this.addAbility(new vA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Geometric Tortoise":class L0 extends C{logService;abilityService;name="Geometric Tortoise";tier=5;pack="Danger";attack=3;health=10;initAbilities(){this.addAbility(new Rg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Giant Pangasius":class N0 extends C{logService;abilityService;name="Giant Pangasius";tier=5;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new Lg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Hawaiian Monk Seal":class nw extends C{logService;abilityService;name="Hawaiian Monk Seal";tier=5;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new Ng(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Marine Iguana":class rw extends C{logService;abilityService;name="Marine Iguana";tier=5;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new AA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Red Panda":class F0 extends C{logService;abilityService;name="Red Panda";tier=5;pack="Danger";health=4;attack=4;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Taita Thrush":class aw extends C{logService;abilityService;name="Taita Thrush";tier=5;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new ow(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Snow Leopard":class qR extends C{logService;abilityService;name="Snow Leopard";tier=5;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new lw(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Painted Terrapin":class HR extends C{logService;abilityService;name="Painted Terrapin";tier=5;pack="Danger";health=6;attack=4;initAbilities(){this.addAbility(new sw(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Amsterdam Albatross":class jR extends C{logService;abilityService;name="Amsterdam Albatross";tier=6;pack="Danger";attack=3;health=6;initAbilities(){this.addAbility(new cw(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Black Rhino":class VR extends C{logService;abilityService;name="Black Rhino";tier=6;pack="Danger";attack=5;health=9;initAbilities(){this.addAbility(new kA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Blue Whale":class UR extends C{logService;abilityService;name="Blue Whale";tier=6;pack="Danger";health=12;attack=12;initAbilities(){this.addAbility(new Fg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Green Sea Turtle":class WR extends C{logService;abilityService;name="Green Sea Turtle";tier=6;pack="Danger";attack=5;health=6;initAbilities(){this.addAbility(new _A(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Helmeted Hornbill":class KR extends C{logService;abilityService;name="Helmeted Hornbill";tier=6;pack="Danger";health=4;attack=5;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Philippine Eagle":class B0 extends C{logService;abilityService;name="Philippine Eagle";tier=6;pack="Danger";attack=7;health=6;initAbilities(){this.addAbility(new Bg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Sumatran Tiger":class zR extends C{logService;abilityService;name="Sumatran Tiger";tier=6;pack="Danger";attack=9;health=9;initAbilities(){this.addAbility(new CA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Bay Cat":SA,Bonobo:od,"California Condor":ld,"Golden Tamarin":xg,"Roloway Monkey":uA,"Silky Sifaka":TA,Takhi:rA};class dw extends C{logService;abilityService;name="Rock";tier=1;pack="Unicorn";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new $g(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class $g extends _{logService;abilityService;constructor(e,t,i){super({name:"RockAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new $g(e,this.logService,this.abilityService)}}class EA extends _{logService;abilityService;constructor(e,t,i){super({name:"Basilisk Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.petAhead;if(s&&s.alive){const r=5*this.level,c=new dw(this.logService,this.abilityService,s.parent);c.initPet(0,1+r,0,0,null),n.parent.transformPet(s,c),this.logService.createLog({message:`${n.name} transformed ${s.name} into a Rock with +${r} health.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new EA(e,this.logService,this.abilityService)}}class Hg extends _{logService;constructor(e,t){super({name:"BudgieAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,r=Nt.getInjector().get(pi).getInstanceOfAllEquipment().get("Popcorn");n.givePetEquipment(r),n.increaseHealth(this.level),this.logService.createLog({message:`${n.name} gained Popcorn and +${this.level} health.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Hg(e,this.logService)}}class qg extends _{logService;abilityService;constructor(e,t,i){super({name:"DucklingAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gave the left-most shop pet +${2*this.level} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new qg(e,this.logService,this.abilityService)}}class cd extends _{logService;constructor(e,t){super({name:"FarmerMouseAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,r=n.parent.nearestPetsBehind(this.level,n).pets;if(0!==r.length){for(const c of r)c.givePetEquipment(new vs),this.logService.createLog({message:`${n.name} fed ${c.name} Corncob.`,type:"ability",player:n.parent,tiger:t,pteranodon:i});this.triggerTigerExecution(e)}}copy(e){return new cd(e,this.logService)}}class ud extends _{logService;constructor(e,t){super({name:"FrilledDragonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=0;for(let d of r.parent.petArray)d!==r&&d.isFaintPet()&&c++;c*=this.level,r.increaseAttack(c),r.increaseHealth(c),this.logService.createLog({message:`${r.name} gained ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new ud(e,this.logService)}}class a extends _{logService;abilityService;constructor(e,t,i){super({name:"GibbonAbility",owner:e,triggers:["ShopUpgrade"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=this.level,d=r.parent.nearestPetsBehind(2,r);if(0!==d.pets.length){for(let h of d.pets)h.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${h.name} ${c} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.random});this.triggerTigerExecution(e)}}copy(e){return new a(e,this.logService,this.abilityService)}}class u extends _{logService;constructor(e,t){super({name:"NudibranchAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>{const n=this.owner;let s=new Set;for(const r of n.parent.petArray){if(s.has(r.name))return!1;s.add(r.name)}return!0},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=3*this.level,r=this.level;n.increaseAttack(s),n.increaseHealth(r),this.logService.createLog({message:`${n.name} gained +${s} attack and +${r} health.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new u(e,this.logService)}}class f extends _{logService;constructor(e,t){super({name:"PeacockSpiderAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=cs(n);if(0!==s.length){for(const r of s){if(!ul(r,"Spooked"))continue;const c=new Da;c.power=-this.level,c.originalPower=c.power,r.givePetEquipment(c),tn(this.logService,n,`${n.name} gave ${r.name} Spooked.`,t,i)}this.triggerTigerExecution(e)}}copy(e){return new f(e,this.logService)}}class b extends _{logService;constructor(e,t){super({name:"PygmySeahorseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent.getRandomPets(3,[n],!1,!1,n),r=s.pets;if(0!==r.length){for(const c of r)c.increaseAttack(this.level),c.increaseHealth(this.level),this.logService.createLog({message:`${n.name} gave ${c.name} +${this.level} attack and +${this.level} health.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:s.random});n.health=0,this.triggerTigerExecution(e)}}copy(e){return new b(e,this.logService)}}class D extends _{logService;constructor(e,t){super({name:"Silverfish Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} sold for +${2*this.level} gold, but will lose ${this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new D(e,this.logService)}}class Z extends _{logService;abilityService;constructor(e,t,i){super({name:"TermiteAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,n=Math.max(1,e.gameApi.previousShopTier??1)+this.level;t.attack=Math.max(1,n),this.logService.createLog({message:`${t.name} set its attack to ${t.attack}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Z(e,this.logService,this.abilityService)}}class Ee extends _{logService;constructor(e,t){super({name:"WeevilAbility",owner:e,triggers:["FoodEatenByFriendly"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,s=this.owner,r=s.parent.getSpecificPet(s,t),c=r.pet;null!=c&&(c.increaseAttack(this.level),this.logService.createLog({message:`${s.name} gave ${c.name} +${this.level} attack.`,type:"ability",player:s.parent,tiger:i,pteranodon:n,randomEvent:r.random}),this.triggerTigerExecution(e))}copy(e){return new Ee(e,this.logService)}}class ct extends _{logService;constructor(e,t){super({name:"AlbinoSquirrelAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,r=Nt.getInjector().get(pi).getInstanceOfAllEquipment(),c=Array.from(r.values()).filter(h=>"shop"===h.equipmentClass);if(0===c.length)return;let d=[];for(let h=0;h<3;h++){let v=c[Jt(0,c.length-1)];d.push(v.name)}this.logService.createLog({message:`${n.name} restocked shop food with ${d.join(", ")} at -${this.level} gold.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new ct(e,this.logService)}}class Yt extends _{logService;constructor(e,t){super({name:"AmphisbaenaAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,s=this.owner;let r=s.parent.nearestPetsAhead(1,s);if(0===r.pets.length)return;let c=r.pets[0];(t?.turnNumber??1)%2==1?(c.increaseAttack(this.level),this.logService.createLog({message:`${s.name} gave ${c.name} ${this.level} attack.`,type:"ability",player:s.parent,tiger:i,pteranodon:n,randomEvent:r.random})):(c.increaseHealth(this.level),this.logService.createLog({message:`${s.name} gave ${c.name} ${this.level} health.`,type:"ability",player:s.parent,tiger:i,pteranodon:n,randomEvent:r.random})),this.triggerTigerExecution(e)}copy(e){return new Yt(e,this.logService)}}class Bi extends _{logService;constructor(e,t){super({name:"AtlanticPuffinAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>{const{triggerPet:n}=i;return!(!n||"Strawberry"!=n.equipment?.name)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;this.logService.createLog({message:`${r.name} removed ${i.name}'s ${i.equipment.name}.`,type:"ability",player:r.parent,tiger:n}),i.removePerk();let c=2*r.level,d=r.parent.opponent.getLastPet(),h=d.pet;null!=h&&(r.snipePet(h,c,d.random,n),this.triggerTigerExecution(e))}copy(e){return new Bi(e,this.logService)}}class lo extends _{logService;constructor(e,t){super({name:"ChupacabraAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;for(let c=0;c<2*this.level;c++){let d=r.parent.getRandomPet([r],!0,!1,!0,r);if(null==d.pet)return;d.pet.increaseHealth(1),this.logService.createLog({message:`${r.name} gave ${d.pet.name} 1 health.`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random})}this.triggerTigerExecution(e)}copy(e){return new lo(e,this.logService)}}class pw extends _{logService;constructor(e,t){super({name:"DesertRainFrogAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.parent.trumpets>=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=Nt.getInjector().get(xr);let r=Math.min(6,n.tier+this.level),c=s.getRandomFaintPet(n.parent,r);this.logService.createLog({message:`${n.name} transformed into ${c.name}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:!0}),n.parent.spendTrumpets(1,n,i),n.parent.transformPet(n,c),this.triggerTigerExecution(e)}copy(e){return new pw(e,this.logService)}}class H0 extends _{logService;constructor(e,t){super({name:"DungBeetleAbility",owner:e,triggers:["FoodEatenByFriendly","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner,c=r,d=t?.turnNumber??0;if(c.dungBeetleFoodTurn!==d&&(c.dungBeetleFoodTurn=d,c.dungBeetleFoodEaten=0),c.dungBeetleFoodSeededTurn!==d){c.dungBeetleFoodSeededTurn=d;const E=r.foodsEaten??0;E>0&&(c.dungBeetleFoodEaten=Math.min(3,Math.max(c.dungBeetleFoodEaten??0,E)))}if(i&&r.alive)return void(c.dungBeetleFoodEaten=Math.min(3,(c.dungBeetleFoodEaten??0)+1));if(r.alive)return;const h=Math.min(3,c.dungBeetleFoodEaten??0);if(h<=0)return;const v=3*this.level;for(let E=0;E<h;E++){let q=r.parent.opponent.getLowestHealthPet(void 0,r),K=q.pet;if(null==K)break;r.snipePet(K,v,q.random,n)}this.logService.createLog({message:`${r.name} dealt ${v} damage ${h} time(s) to the weakest enemy.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new H0(e,this.logService)}}class q0 extends _{logService;constructor(e,t){super({name:"FarmerChickenAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner;let s=n.parent.nearestPetsAhead(this.level,n);if(0!==s.pets.length){for(let r of s.pets)r.givePetEquipment(new vs),this.logService.createLog({message:`${n.name} fed ${r.name} a Corncob.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:s.random});this.triggerTigerExecution(e)}}copy(e){return new q0(e,this.logService)}}class j0 extends _{logService;constructor(e,t){super({name:"FrigatebirdAbility",owner:e,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,r=this.owner,c=i?.equipment;!c||!c.equipmentClass?.startsWith("ailment")||(i.removePerk(),i.givePetEquipment(new Fh),this.logService.createLog({message:`${r.name} removed ${c.name} from ${i.name} and gave ${i.name} Rice.`,type:"ability",player:r.parent}),this.triggerTigerExecution(e))}reset(){this.maxUses=this.level,super.reset()}copy(e){return new j0(e,this.logService)}}class V0 extends _{logService;constructor(e,t){super({name:"FruitFlyAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner;let s=n.parent.getOppositeEnemyPet(n),r=s.pet;null!=r&&(r.givePetEquipment(new zf),this.logService.createLog({message:`${n.name} gave ${r.name} Blueberry.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:s.random}),n.snipePet(r,2*this.level,s.random,t),this.triggerTigerExecution(e))}copy(e){return new V0(e,this.logService)}}class U0 extends _{logService;abilityService;constructor(e,t,i){super({name:"GoldenBeetleAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level*(t.attack>=10?3:1)} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new U0(e,this.logService,this.abilityService)}}class XR extends C{logService;abilityService;name="Daycrawler";tier=1;pack="Custom";hidden=!0;health=1;attack=3;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class W0 extends _{logService;abilityService;constructor(e,t,i){super({name:"NightcrawlerAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let d=r.parent==t.player?t.playerSummonedAmount:t.opponentSummonedAmount;if(0==d)return;let h=Math.min(50,this.level*d),E=new XR(this.logService,this.abilityService,r.parent,h,6,0,0),q=r.parent.summonPet(E,r.savedPosition,!1,r);q.success&&this.logService.createLog({message:`${r.name} spawned Daycrawler (6/${h})`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:q.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new W0(e,this.logService,this.abilityService)}}class K0 extends _{logService;constructor(e,t){super({name:"OlmAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,s=this.owner,r=s.parent===t.player?t.playerRollAmount||0:t.opponentRollAmount||0,c=s.parent.getPetsWithEquipmentWithSillyFallback("Spooked",s),d=s.parent.opponent.getRandomPet(c,null,!0,null,s),h=d.pet;if(!h)return;const v=new Da;r>0&&(v.multiplier+=r),this.logService.createLog({message:`${s.name} made ${h.name}${v.multiplier>1?` ${v.multiplier}x`:""} Spooked.`,type:"ability",player:s.parent,tiger:i,pteranodon:n,randomEvent:d.random}),h.givePetEquipment(v),this.triggerTigerExecution(e)}copy(e){return new K0(e,this.logService)}}class z0 extends _{logService;constructor(e,t){super({name:"PandaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=.5*this.level,d={attack:Math.floor(r.attack*c),health:Math.floor(r.health*c)},h=r.parent.nearestPetsAhead(1,r);if(h.pets.length>0){let v=h.pets[0];v.increaseAttack(d.attack),v.increaseHealth(d.health),this.logService.createLog({message:`${r.name} gave ${v.name} ${d.attack} attack and ${d.health} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.random})}r.health=0,this.triggerTigerExecution(e)}copy(e){return new z0(e,this.logService)}}class Y0 extends _{constructor(e){super({name:"Pink Robin Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=2*this.level,r=n.parent.petArray.filter(c=>c.alive&&c!==n&&c.tier<=s);if(r.length>0){const d=r[Math.floor(Math.random()*r.length)],h=Nt.getInjector().get(Mh),v=Nt.getInjector().get(nr);h.triggerAbility(d,"EndTurn",n),v.createLog({message:`${n.name} activated End Turn on ${d.name}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new Y0(e)}}class X0 extends _{logService;constructor(e,t){super({name:"Roadrunner Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const i=this.owner,n=this.level,r=i.parent.petArray.filter(c=>c.alive&&c.position<i.position).sort((c,d)=>d.position-c.position).slice(0,n);for(const c of r){const d=new Gc(this.logService);d&&c.applyEquipment(d),c.attack+=2,this.logService.createLog({message:`${i.name} gave Strawberry and +2 attack to ${c.name}.`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new X0(e,this.logService)}}class Q0 extends _{logService;constructor(e,t){super({name:"SeahorseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,r=n.parent.opponent.getLastPet();if(null==r.pet)return;const c=r.pet;c.parent.pushPet(c,this.level),this.logService.createLog({message:`${n.name} pushed ${c.name} forward ${this.level} space(s).`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:r.random}),this.triggerTigerExecution(e)}copy(e){return new Q0(e,this.logService)}}class J0 extends _{constructor(e){super({name:"Sphinx Ability",owner:e,triggers:["ThisBought"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){const{gameApi:t}=e,i=this.owner,n=this.level,s=["Tennis Ball","Plastic Saw","Toilet Paper","Foam Sword","Flashlight","Television"],c=s[Math.floor(Math.random()*s.length)],d=t.toyService.createToy(c,i.parent,n);d&&(i.parent.toy=d,t.logService.createLog({message:`${i.name} gained a level ${n} ${c}.`,type:"ability",player:i.parent})),this.triggerTigerExecution(e)}copy(e){return new J0(e)}}class Z0 extends _{constructor(e){super({name:"Spotted Handfish Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){const{gameApi:t}=e,i=this.owner,n=this.level,s=["Cold","Crisp","Dazed","Icky","Inked","Spooked","Weak","Silly","Bloated","Confused","Cursed","Sad","Sleepy","Webbed"];for(let r=0;r<n;r++){const d=s[Math.floor(Math.random()*s.length)];i.parent.cannedAilments.push(d),t.logService.createLog({message:`${i.name} stocked a canned ${d}.`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new Z0(e)}}class ex extends C{logService;abilityService;petService;name="Tadpole";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new tx(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class tx extends _{logService;petService;constructor(e,t,i){super({name:"Tadpole Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.petService=i}executeAbility(e){const t=this.owner,i=t.level,n=this.petService.createPet({name:"Frog",attack:null,health:null,mana:0,exp:zd(i),equipment:null},t.parent);n&&(t.parent.transformPet(t,n),this.logService.createLog({message:`${t.name} transformed into a level ${i} Frog.`,type:"ability",player:t.parent})),this.triggerTigerExecution(e)}copy(e){return new tx(e,this.logService,this.petService)}}class ix extends _{logService;constructor(e,t){super({name:"Thorny Dragon Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=3*this.level,r=n.parent.opponent.petArray.filter(E=>E.alive);if(0===r.length)return;const c=r.filter(E=>!!E.equipment&&("ailment-attack"===E.equipment.equipmentClass||"ailment-defense"===E.equipment.equipmentClass||"ailment-other"===E.equipment.equipmentClass)),d=c.length>0?c:r,h=d.length>1,v=d[Jt(0,d.length-1)];v&&(n.snipePet(v,s,h,t,i),this.logService.createLog({message:`${n.name} fainted and dealt ${s} damage to ${v.name} (prioritizing ailments).`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:h})),this.triggerTigerExecution(e)}copy(e){return new ix(e,this.logService)}}class nx extends _{logService;constructor(e,t){super({name:"Vervet Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,i=this.owner,n=this.level,s="Microwave Oven",r=t.toyService.createToy(s,i.parent,n);r&&(i.parent.toy=r,this.logService.createLog({message:`${i.name} summoned a level ${n} ${s}.`,type:"ability",player:i.parent})),this.triggerTigerExecution(e)}copy(e){return new nx(e,this.logService)}}class rx extends _{logService;usedFirstTrigger=!1;constructor(e,t){super({name:"Warf Ability",owner:e,triggers:["ThisGainedMana","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner;if("StartBattle"===e.trigger)return this.usedFirstTrigger=!1,void this.triggerTigerExecution(e);const s=n.parent.opponent.getRandomPet([],!1,!1,!1,n);if(s.pet){const r=s.pet,c=this.level,d=this.usedFirstTrigger?c:3*c;n.snipePet(r,d,s.random,t,i),this.logService.createLog({message:`${n.name} gained mana and dealt ${d} damage to ${r.name}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:s.random}),this.usedFirstTrigger=!0}this.triggerTigerExecution(e)}copy(e){return new rx(e,this.logService)}}class ax extends _{logService;constructor(e,t){super({name:"Wombat Ability",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,r=n.parent.opponent.petArray.find(c=>c.alive&&c.isFaintPet());if(r){const c=Nt.getInjector().get(xr);if(!c)return void this.triggerTigerExecution(e);const d=c.createPet({name:r.name,attack:null,health:null,exp:zd(this.level),equipment:null,mana:null},n.parent);n.parent.transformPet(n,d),this.logService.createLog({message:`${n.name} transformed into level ${this.level} ${r.name}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new ax(e,this.logService)}}class ox extends _{logService;constructor(e,t){super({name:"Yak Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=this.level,r=2*this.level;n.dealDamage(n,s),n.increaseAttack(r),this.logService.createLog({message:`${n.name} took ${s} damage and gained +${r} attack.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new ox(e,this.logService)}}class sx extends _{logService;constructor(e,t){super({name:"Aardvark Ability",owner:e,triggers:["EnemySummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=this.level,r=3*this.level;n.increaseAttack(s),n.increaseHealth(r),this.logService.createLog({message:`${n.name} gained +${s}/+${r} from EnemySummoned.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new sx(e,this.logService)}}class lx extends _{hasUsed=!1;logService;constructor(e,t){super({name:"Axehandle Hound Ability",owner:e,triggers:["BeforeFriendlyAttack","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e;if("StartBattle"===e.trigger)return this.hasUsed=!1,void this.triggerTigerExecution(e);if(this.hasUsed)return;const s=t.opponent;if(!s)return;const r=s.petArray.filter(h=>h.health>0),c=r.map(h=>h.name);if(new Set(c).size!==c.length){this.hasUsed=!0;const h=2*this.level;this.logService.createLog({message:`${this.owner.name} activated. Opponent has duplicates. Dealing ${h} damage to all enemies.`,type:"ability",player:this.owner.parent,tiger:i,pteranodon:n});for(const v of r)this.owner.dealDamage(v,h)}this.triggerTigerExecution(e)}copy(e){const t=new lx(e,this.logService);return t.hasUsed=this.hasUsed,t}}class cx extends _{logService;constructor(e,t){super({name:"Barnacle Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,i=this.owner;if(0===(i.parent===t.player?t.playerRollAmount||0:t.opponentRollAmount||0)){const s=this.level;i.increaseExp(s),this.logService.createLog({message:`${i.name} gained +${s} experience (EndTurn, no rolls).`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new cx(e,this.logService)}}class ux extends _{logService;abilityService;constructor(e,t,i){super({name:"BearAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner,c=this.level,d=r.savedPosition,h=[];for(const v of r.parent.petArray)if(v.alive){const E=Math.abs(v.position-d);E>0&&E<=c&&h.push(v)}for(const v of r.parent.opponent.petArray)v.alive&&d+v.position+1<=c&&h.push(v);for(let v of h)v.givePetEquipment(new rP(this.logService,this.abilityService)),this.logService.createLog({message:`${r.name} gave ${v.name} Honey.`,type:"ability",player:r.parent,tiger:n,pteranodon:s});this.triggerTigerExecution(e)}copy(e){return new ux(e,this.logService,this.abilityService)}}class dx extends _{logService;constructor(e,t){super({name:"Blue Dragon Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,c=n.parent.nearestPetsBehind(4,n).pets.length*this.level;if(c>0){const E=n.parent.resolveTrumpetGainTarget(n);E.player.gainTrumpets(c,n,i,void 0,void 0,E.random)}const d=this.level,v=n.parent.nearestPetsAhead(4,n).pets;v.length>0&&(v.forEach(E=>E.increaseMana(d)),this.logService.createLog({message:`${n.name} gave ${v.length} friend${1===v.length?"":"s"} ahead +${d} mana at StartBattle.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})),this.triggerTigerExecution(e)}copy(e){return new dx(e,this.logService)}}class hx extends _{logService;constructor(e,t){super({name:"Brazillian Treehopper Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,c=n.parent.getRandomEnemyPetsWithSillyFallback(2*this.level,[],!1,!1,n).pets;if(c.length>1){let d=0,h=0;for(const q of c)d+=q.attack,h+=q.health;const v=Math.floor(d/c.length),E=Math.floor(h/c.length);for(const q of c)q.attack=Math.max(1,v),q.health=Math.max(1,E);this.logService.createLog({message:`${n.name} averaged stats of ${c.length} enemies to ${v}/${E}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new hx(e,this.logService)}}class px extends _{logService;constructor(e,t){super({name:"Caladrius Ability",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,s=this.owner;if(t&&t.parent===s.parent&&t!==s&&t.mana>=3){const r=2*this.level;t.mana-=3,t.increaseAttack(r),t.increaseHealth(r),this.logService.createLog({message:`${s.name} spent 3 mana from ${t.name} to give it +${r}/+${r}.`,type:"ability",player:s.parent,tiger:i,pteranodon:n})}this.triggerTigerExecution(e)}copy(e){return new px(e,this.logService)}}class gx extends _{logService;pendingAttack=0;pendingHealth=0;usedThisTurn=!1;constructor(e,t){super({name:"CentipedeAbility",owner:e,triggers:["FriendBought","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{trigger:t,triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner;if("FriendBought"===t){if(this.usedThisTurn||!i)return;const d=this.level*(i.tier??1);return r.increaseAttack(d),r.increaseHealth(d),this.pendingAttack+=d,this.pendingHealth+=d,this.usedThisTurn=!0,this.logService.createLog({message:`${r.name} gained +${d} attack and +${d} health until next turn.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),void this.triggerTigerExecution(e)}if("EndTurn"===t)return(this.pendingAttack||this.pendingHealth)&&(r.increaseAttack(-this.pendingAttack),r.increaseHealth(-this.pendingHealth),this.pendingAttack=0,this.pendingHealth=0),void(this.usedThisTurn=!1)}copy(e){return new gx(e,this.logService)}}class mx extends _{logService;constructor(e,t){super({name:"Deer Lord Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.petAhead;i&&(i.health=0,this.logService.createLog({message:`${t.name} knocked out ${i.name}.`,type:"ability",player:t.parent}),this.logService.createLog({message:`${t.name} stocked ${this.level} free Bacon.`,type:"ability",player:t.parent})),this.triggerTigerExecution(e)}copy(e){return new mx(e,this.logService)}}class xF extends C{logService;abilityService;name="Dimetrodon";tier=3;pack="Custom";hidden=!0;constructor(e,t,i,n,s,r,c,d){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,null,d)}initAbilities(){}}class fx extends _{logService;constructor(e,t){super({name:"Dimetrodon Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=this.level,r=5*s,c=new xF(this.logService,n.abilityService,n.parent,r,r);if(n.parent.summonPet(c,n.position).success)this.logService.createLog({message:`${n.name} summoned a ${r}/${r} Dimetrodon.`,type:"ability",player:n.parent,tiger:t,pteranodon:i});else{const h=s,v=n.parent.petArray.filter(E=>E&&E!==n);for(const E of v)E.increaseAttack(h),E.increaseHealth(h);v.length>0&&this.logService.createLog({message:`${n.name} gave friends +${h}/+${h}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new fx(e,this.logService)}}class yx extends _{logService;constructor(e,t){super({name:"Dugong Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=2*this.level,r=2*this.level,c=Nt.getInjector().get(xr),d=n.parent.pack,h=n.parent.petArray.filter(v=>v.alive&&v!==n&&!this.isPetInActivePack(v,d,c));for(const v of h)v.increaseAttack(s),v.increaseHealth(r);h.length>0&&this.logService.createLog({message:`${n.name} gave +${s}/+${r} to pets outside ${d}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}isPetInActivePack(e,t,i){if(!i)return e.pack===t;if(Kc.includes(t))return(i.basePackPetsByName[t]?.get(e.tier)??[]).includes(e.name);const n=i.playerCustomPackPets.get(t);return n?n.get(e.tier)?.includes(e.name)??!1:e.pack===t}copy(e){return new yx(e,this.logService)}}class bx extends _{logService;constructor(e,t){super({name:"Eel Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=.5*this.level,r=Math.floor(n.health*s);n.increaseHealth(r),this.logService.createLog({message:`${n.name} gained +${r} health (+${100*s}%).`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new bx(e,this.logService)}}class vx extends _{logService;constructor(e,t){super({name:"Emperor Tamarin Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} sold and gave ${1===this.level?33:2===this.level?66:100}% of its stats to the leftmost shop pet.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)}copy(e){return new vx(e,this.logService)}}class Ax extends _{logService;constructor(e,t){super({name:"Farmer Pig Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=[n.petAhead,n.petBehind()].filter(r=>null!==r&&r.alive);for(const r of s)for(let c=0;c<this.level;c++){const d=new vs;d.effectMultiplier=2,r.givePetEquipment(d)}s.length>0&&this.logService.createLog({message:`${n.name} fed adjacent friends ${this.level} Corncob${1===this.level?"":"s"} with double effect.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Ax(e,this.logService)}}class Sx extends _{logService;constructor(e,t){super({name:"FlyingSquirrelAbility",owner:e,triggers:["FriendlyToyBroke"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=2*this.level,d=r.parent.getThis(r),h=d.pet;if(null==h||(h.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${h.name} +${c} attack`,type:"ability",player:r.parent,tiger:n,randomEvent:d.random}),null==r.parent.brokenToy))return;const v=Nt.getInjector().get(kr).createToy(r.parent.brokenToy.name,r.parent);v.level=Math.min(this.level,r.parent.brokenToy.level),r.parent.setToy(v),this.logService.createLog({message:`${v.name} respawned (Level ${v.level})!`,type:"ability",player:r.parent,tiger:n}),this.triggerTigerExecution(e)}copy(e){return new Sx(e,this.logService)}}class Px extends _{logService;constructor(e,t){super({name:"Foo Dog Ability",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} was bought and gave future shop pets from the next tier +${2*this.level} health.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)}copy(e){return new Px(e,this.logService)}}class kx extends _{logService;constructor(e,t){super({name:"Gerenuk Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent.opponent;let r=this.level;for(;r>0;){const c=this.getHighestTierPerkPet(s);if(!c)break;const d=c.equipment?.name??"perk";c.removePerk(!0),this.logService.createLog({message:`${n.name} removed ${c.name}'s ${d}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),r--}this.triggerTigerExecution(e)}getHighestTierPerkPet(e){const t=e.petArray.filter(s=>s.alive&&s.equipment&&!this.isAilmentEquipment(s.equipment));if(0===t.length)return null;let i=Math.max(...t.map(s=>s.equipment?.tier??0));return t.filter(s=>(s.equipment?.tier??0)===i).sort((s,r)=>s.position-r.position)[0]??null}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new kx(e,this.logService)}}class _x extends _{logService;constructor(e,t){super({name:"Great Potoo Ability",owner:e,triggers:["AnyoneHurt"],abilityType:"Pet",native:!0,maxUses:5,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,i=this.owner;if(!0!==t.FirstNonJumpAttackHappened){const s=2*this.level;i.increaseHealth(s),this.logService.createLog({message:`${i.name} gained +${s} health from AnyoneHurt (before any attacks).`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new _x(e,this.logService)}}class wx extends _{logService;constructor(e,t){super({name:"Jewel Caterpillar Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent;if(s.trumpets<2)return void this.triggerTigerExecution(e);const c=s.petArray.filter(v=>v.alive&&v!==n).slice(-2);if(0===c.length)return void this.triggerTigerExecution(e);const d=this.level;c.forEach(v=>v.increaseSellValue(d)),s.spendTrumpets(2,n,i);const h=this.formatNames(c.map(v=>v.name));this.logService.createLog({message:`${n.name} spent 2 trumpets to give ${h} +${d} sell value each permanently.`,type:"ability",player:s,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}formatNames(e){return 0===e.length?"no friends":1===e.length?e[0]:`${e.slice(0,-1).join(", ")} and ${e[e.length-1]}`}copy(e){return new wx(e,this.logService)}}class Tx extends _{logService;constructor(e,t){super({name:"Pangasius Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=this.getFriendWithAilment(n.parent),r=this.getFirstEnemy(n.parent.opponent);if(!r)return void this.triggerTigerExecution(e);const c=this.level,d=s?.equipment??new Da,h=Pr(d);if(!h)return void this.triggerTigerExecution(e);c>1&&(h.multiplier=c,h.multiplierMessage=` x${c} (Pangasius)`),r.givePetEquipment(h);const v=["copied","copied with double effect","copied with triple effect"],E=v[Math.min(c,v.length)-1];this.logService.createLog({message:`${n.name} ${E} ${s?`${s.name}'s ${d?.name}`:d?.name} onto ${r.name}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}getFriendWithAilment(e){return e.petArray.filter(i=>i.alive&&i.equipment&&this.isAilmentEquipment(i.equipment)).sort((i,n)=>i.position-n.position)[0]??null}getFirstEnemy(e){return e.petArray.find(t=>t.alive)??null}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new Tx(e,this.logService)}}class Cx extends _{logService;constructor(e,t){super({name:"Patagonian Mara Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent,r=4*this.level;s.gainTrumpets(r,n,i);const c=Nt.getInjector().get(Ea),d=new qm(this.logService,c,s,this.level,this.level);s.summonPet(d,n.position),this.logService.createLog({message:`${n.name} gained ${r} trumpets and summoned a Golden Retriever.`,type:"ability",player:s,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Cx(e,this.logService)}}class Ex extends _{logService;constructor(e,t){super({name:"Pony Ability",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent,r=this.level,c=n.petBehind();if(!c)return void this.triggerTigerExecution(e);const d=s.abilityService;for(let h=0;h<r;h++)this.applyBetterApple(c,d);this.logService.createLog({message:`${n.name} fed ${c.name} ${r} Better Apple${1===r?"":"s"} after knocking out an enemy.`,type:"ability",player:s,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}applyBetterApple(e,t){e.increaseAttack(2),e.increaseHealth(2),t?.triggerFoodEvents(e,"better apple")}copy(e){return new Ex(e,this.logService)}}class xx extends _{logService;constructor(e,t){super({name:"Porcupine Ability",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t}=e,i=this.owner;if(t&&t.alive&&t.parent!==i.parent){const n=3*this.level;i.dealDamage(t,n),this.logService.createLog({message:`${i.name} reflected ${n} damage to ${t.name}.`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new xx(e,this.logService)}}class QR extends C{logService;abilityService;name="Quail";tier=1;pack="Custom";hidden=!0;attack=2;health=2;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Dx extends _{logService;abilityService;constructor(e,t,i){super({name:"Quail Chick Ability",owner:e,triggers:["FoodEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=2*this.level*2,r=n.petAhead;r&&r.alive&&(r.increaseAttack(s),r.increaseHealth(s));const c=new QR(this.logService,this.abilityService,n.parent,void 0,void 0,void 0,n.exp);n.parent.transformPet(n,c),this.logService.createLog(r&&r.alive?{message:`${n.name} transformed into ${c.name} and gave ${r.name} +${s} attack and +${s} health.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}:{message:`${n.name} transformed into ${c.name}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Dx(e,this.logService,this.abilityService)}}class Mx extends _{logService;constructor(e,t){super({name:"Queen Bee Ability",owner:e,triggers:["BeeSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i,triggerPet:n}=e,s=this.owner,r=n;if(!r||"Bee"!==r.name)return void this.triggerTigerExecution(e);const c=3*this.level;r.increaseAttack(c),r.increaseHealth(c);const d=this.removeOtherQueenBees(s);this.logService.createLog({message:`${s.name} gave ${r.name} +${c}/+${c} and removed ${d} other Queen Bees.`,type:"ability",player:s.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}removeOtherQueenBees(e){const t=[e.parent,e.parent.opponent];let i=0;for(const n of t){for(const s of[...n.petArray])s!==e&&s.alive&&"Queen Bee"===s.name&&(s.health=0,n.handleDeath(s),i++);n.removeDeadPets()}return i}copy(e){return new Mx(e,this.logService)}}class Ix extends _{logService;constructor(e,t){super({name:"Quetzalcoatlus Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,s=this.owner;if(!t||!t.alive)return void this.triggerTigerExecution(e);const r=this.level,c=t.parent.petArray.filter(d=>d.alive);for(const d of c)d.increaseAttack(r),d.increaseHealth(r);this.logService.createLog({message:`${s.name} (Faint) gave +${r}/+${r} to ${t.name} and its friends.`,type:"ability",player:s.parent,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new Ix(e,this.logService)}}class Rx extends _{logService;constructor(e,t){super({name:"Sage-Grouse Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent;"Strawberry"===n.equipment?.name?(n.removePerk(!0),s.gold=s.gold??0,s.gold+=3,this.logService.createLog({message:`${n.name} sold and removed Strawberry to gain +3 gold.`,type:"ability",player:s,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Rx(e,this.logService)}}class Lx extends C{logService;abilityService;petService;name="Sarcastic Fringehead";tier=3;pack="Custom";attack=4;health=7;initAbilities(){this.addAbility(new Nx(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class Nx extends _{logService;petService;constructor(e,t,i){super({name:"SarcasticFringeheadAbility",owner:e,triggers:["FoodEatenByThis","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.petService=i}swallowFood(e){const t=this.owner;if(e.triggerPet!==t)return;const i=t.sarcasticFringeheadSwallowedPet;if(!i)return;const n=this.petService.createPet({name:i,attack:1,health:1,exp:t.minExpForLevel,equipment:null,mana:0},t.parent);n&&(t.swallowedPets.push(n),this.logService.createLog({message:`${t.name} swallowed ${i}.`,type:"ability",player:t.parent,tiger:e.tiger}))}spawnForOpponent(e){const t=this.owner,i=t.parent.opponent;for(;t.swallowedPets.length>0;){const n=t.swallowedPets.shift();if(!n)continue;n.parent=i;const s=i.summonPet(n,0,!1);s.success&&this.logService.createLog({message:`${t.name} spawned ${n.name} for the opponent.`,type:"ability",player:t.parent,tiger:e.tiger,randomEvent:s.randomEvent})}}executeAbility(e){const t=e.trigger;"FoodEatenByThis"===t?this.swallowFood(e):"PostRemovalFaint"===t&&this.spawnForOpponent(e),this.triggerTigerExecution(e)}copy(e){return new Nx(e,this.logService,this.petService)}}class Fx extends _{logService;constructor(e,t){super({name:"Silkie Chicken Ability",owner:e,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,maxUses:2,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i,triggerPet:n}=e,s=this.owner,r=n;if(!r||!r.alive)return void this.triggerTigerExecution(e);const d=Nt.getInjector().get(pi).getUsefulPerksByTier(1);if(0===d.length)return void this.triggerTigerExecution(e);const v=d[Jt(0,d.length-1)];r.givePetEquipment(v),this.logService.createLog({message:`${s.name} gave ${r.name} the ${v.name} perk.`,type:"ability",player:s.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Fx(e,this.logService)}}class JR extends C{logService;abilityService;name="Smaller Slime";tier=1;pack="Unicorn";hidden=!0;health=2;attack=2;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class ZR extends C{logService;abilityService;name="Slime";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new Ox(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Ox extends _{logService;constructor(e,t){super({name:"Slime Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=Math.max(0,n.battlesFought??0),r=Math.floor(s/2);if(r<=0)return void this.triggerTigerExecution(e);const c=2*this.level;let d=0;for(let h=0;h<r;h++){const v=new JR(this.logService,n.abilityService,n.parent,c,c);if(!n.parent.summonPet(v,n.position).success)break;d++}d>0&&this.logService.createLog({message:`${n.name} summoned ${d} ${c}/${c} Smaller Slime${1===d?"":"s"}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Ox(e,this.logService)}}class Bx extends _{logService;constructor(e,t){super({name:"Sugar Glider Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=2*this.level,c=Ar(n.parent.petArray.filter(d=>d.alive&&d!==n)).slice(0,2);for(const d of c)d.mana+=s;c.length>0&&this.logService.createLog({message:`${n.name} gave ${s} mana to ${c.length} friends.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Bx(e,this.logService)}}class $x extends _{logService;constructor(e,t){super({name:"Tree Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=[6,12,18],r=s[Math.min(this.level-1,s.length-1)];n.attack<=r&&(n.givePetEquipment(new Qr),this.logService.createLog({message:`${n.name} gained Coconut perk for meeting the ${r} attack threshold.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})),this.triggerTigerExecution(e)}copy(e){return new $x(e,this.logService)}}class Gx extends _{logService;constructor(e,t){super({name:"Vampire Parrot Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent.petArray.filter(q=>q.alive&&q.equipment),r=new Set;for(const q of s){const K=q.equipment.equipmentClass;("ailment-attack"===K||"ailment-defense"===K||"ailment-other"===K)&&r.add(q.equipment.name)}const c=r.size;if(0===c)return void this.triggerTigerExecution(e);const d=this.level,h=2*this.level,v=c*d,E=c*h;n.increaseAttack(v),n.increaseHealth(E),this.logService.createLog({message:`${n.name} gained +${v}/+${E} (+${d}/+${h} per unique ailment) from ${c} friendly pets with different ailments.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Gx(e,this.logService)}}class Hx extends _{logService;constructor(e,t){super({name:"Wasp Ability",owner:e,triggers:["ShopUpgrade"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,n=Math.floor(t.attack*(.5*this.level));n>0&&(t.increaseAttack(n),this.logService.createLog({message:`${t.name} gained +${n} attack from Shop Upgrade.`,type:"ability",player:t.parent}))}copy(e){return new Hx(e,this.logService)}}const qx=new Map,eL=os??al;if(Array.isArray(eL))for(const o of eL){if(!o?.Name)continue;const e=Number(o.Attack??0),t=Number(o.Health??0);qx.set(o.Name,{attack:e,health:t})}class jx extends _{logService;pendingAttack=0;pendingHealth=0;constructor(e,t){super({name:"Andrewsarchus Ability",owner:e,triggers:["EndTurn","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,s=this.owner;if("StartTurn"===e.trigger)return(this.pendingAttack||this.pendingHealth)&&(s.increaseAttack(-this.pendingAttack),s.increaseHealth(-this.pendingHealth),this.pendingAttack=0,this.pendingHealth=0),void this.triggerTigerExecution(e);const r=s.parent===t?.player?t?.playerPetPool:t?.opponentPetPool,c=[];let d=-1;for(const le of r?.values()??[])for(const ce of le??[]){const Ae=qx.get(ce);Ae&&(Ae.health>d?(d=Ae.health,c.length=0,c.push(ce)):Ae.health===d&&c.push(ce))}if(!c.length||d<0)return void this.triggerTigerExecution(e);const h=1===c.length?c[0]:c[Jt(0,c.length-1)],v=qx.get(h);if(!v)return void this.triggerTigerExecution(e);const E=.5*this.level,q=Math.floor(v.attack*E),K=Math.floor(v.health*E);(q>0||K>0)&&(s.increaseAttack(q),s.increaseHealth(K),this.pendingAttack+=q,this.pendingHealth+=K),this.logService.createLog({message:`${s.name} removed ${h} from the shop and gained +${q}/+${K} until next turn.`,type:"ability",player:s.parent,tiger:i,pteranodon:n,randomEvent:c.length>1}),this.triggerTigerExecution(e)}copy(e){const t=new jx(e,this.logService);return t.pendingAttack=this.pendingAttack,t.pendingHealth=this.pendingHealth,t}}class Vx extends _{logService;constructor(e,t){super({name:"AnubisAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,s=this.owner,r=[2,4,6],c=r[Math.min(Math.max(this.level,1)-1,r.length-1)],d=s.parent.petArray.filter(h=>h&&h!==s&&h.alive&&h.isFaintPet()&&h.tier<=c).sort((h,v)=>(h.position??0)-(v.position??0)).slice(0,2);for(const h of d)this.logService.createLog({message:`${s.name} activated ${h.name}'s faint ability (tier ${h.tier} <= ${c}).`,type:"ability",player:s.parent,tiger:i,pteranodon:n}),h.activateAbilities("PostRemovalFaint",t,"Pet");this.triggerTigerExecution(e)}copy(e){return new Vx(e,this.logService)}}class Ux extends _{logService;constructor(e,t){super({name:"Blue-Footed Booby Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner;if(n.parent.trumpets<4)return void this.triggerTigerExecution(e);const c=n.getPetsBehind(1,"Melon Slice")[0];if(!c||!c.alive)return void this.triggerTigerExecution(e);n.parent.spendTrumpets(4,n);const d=new qh;d.uses=this.level,d.originalUses=d.uses,c.givePetEquipment(d),this.logService.createLog({message:`${n.name} spent 4 trumpets to give ${c.name} a Melon Slice (${d.uses} uses).`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Ux(e,this.logService)}}class Wx extends _{logService;abilityService;constructor(e,t,i){super({name:"CrowAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked one ${1===this.level?"Chocolate":2===this.level?"Better Chocolate":"Best Chocolate"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Wx(e,this.logService,this.abilityService)}}class Kx extends _{logService;constructor(e,t){super({name:"Deinocheirus Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.equipment;if(!s)return void this.triggerTigerExecution(e);if(!s.equipmentClass?.startsWith("ailment"))return void this.triggerTigerExecution(e);const c=this.level,d=c,h=2*c;n.increaseAttack(d),n.increaseHealth(h),this.logService.createLog({message:`${n.name} reversed ${s.name} and gained +${d}/+${h} (x${c}).`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Kx(e,this.logService)}}class zx extends _{logService;constructor(e,t){super({name:"DragonflyAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,n=t.parent.petArray.filter(r=>r&&r.alive&&r!==t),s=new Map;for(const r of n)s.has(r.level)||s.set(r.level,r);if(0!==s.size){for(const r of s.values())r.increaseAttack(i),r.increaseHealth(i);this.logService.createLog({message:`${t.name} gave friends +${i}/+${i} based on unique levels.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new zx(e,this.logService)}}class Yx extends _{logService;pendingAttackBuff=0;pendingHealthBuff=0;constructor(e,t){super({name:"Gazelle Ability",owner:e,triggers:["StartTurn","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{trigger:t,gameApi:i,tiger:n,pteranodon:s}=e,r=this.owner;"StartTurn"===t?this.applyBonus(i,r,n,s):"EndTurn"===t&&this.removeBonus(r)}applyBonus(e,t,i,n){const r=Math.max(0,((t.parent===e?.player?e.playerGoldSpent:e?.opponentGoldSpent)??0)-10);if(r<=0)return this.pendingAttackBuff=0,void(this.pendingHealthBuff=0);const h=r*[2,4,6][Math.min(this.level-1,2)],v=r*[1,2,3][Math.min(this.level-1,2)];t.increaseAttack(h),t.increaseHealth(v),this.pendingAttackBuff=h,this.pendingHealthBuff=v,this.logService.createLog({message:`${t.name} gained +${h}/+${v} (per gold over 10) from ${r} gold.`,type:"ability",player:t.parent,tiger:i,pteranodon:n})}removeBonus(e){(0!==this.pendingAttackBuff||0!==this.pendingHealthBuff)&&(e.increaseAttack(-this.pendingAttackBuff),e.increaseHealth(-this.pendingHealthBuff),this.pendingAttackBuff=0,this.pendingHealthBuff=0)}copy(e){return new Yx(e,this.logService)}}class tL extends C{logService;abilityService;name="Sleeping Gelada";tier=1;pack="Custom";hidden=!0;attack=3;health=7;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class Xx extends _{logService;abilityService;constructor(e,t,i){super({name:"Gelada Ability",owner:e,triggers:["Eat2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=this.level;if(s<=0)return void this.triggerTigerExecution(e);const r=new tL(this.logService,this.abilityService,n.parent,void 0,void 0,void 0,n.exp);n.parent.transformPet(n,r),this.feedFriends(s),this.logService.createLog({message:`${n.name} transformed into ${r.name} and fed each friend ${s} Pear${1===s?"":"s"}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}feedFriends(e){if(e<=0)return;const n=this.owner.parent.petArray.filter(s=>s&&s.alive);for(const s of n)for(let r=0;r<e;r++)s.increaseAttack(1),s.increaseHealth(1),this.abilityService.triggerFoodEvents(s,"pear")}copy(e){return new Xx(e,this.logService,this.abilityService)}}class Qx extends C{logService;abilityService;petService;name="Goblin Shark";tier=4;pack="Custom";attack=6;health=3;initAbilities(){this.addAbility(new Zx(this,this.logService,this.petService)),this.addAbility(new Jx(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class Jx extends _{logService;abilityService;constructor(e,t,i){super({name:"GoblinSharkFaintAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>this.owner.alive,abilityFunction:n=>{this.executeAbility(n)},ignoreRepeats:!0}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;for(;r.swallowedPets.length>0;){let c=r.swallowedPets.shift();c.health=1;let d=r.parent.summonPet(c,r.savedPosition,!1,r);d.success&&this.logService.createLog({message:`${r.name} summoned ${c.name} (level ${c.level}).`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Jx(e,this.logService,this.abilityService)}}class Zx extends _{logService;petService;constructor(e,t,i){super({name:"GoblinSharkStartAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=6*this.level;for(let d of r.parent.opponent.petArray)if(d.alive&&d.health<=c){let h=this.petService.createPet({name:d.name,attack:d.attack,health:d.health,exp:d.exp,equipment:null,mana:0},r.parent);r.swallowedPets.push(h),d.health=0,this.logService.createLog({message:`${r.name} swallowed ${d.name}`,type:"ability",player:r.parent,tiger:n,pteranodon:s});break}this.triggerTigerExecution(e)}copy(e){return new Zx(e,this.logService,this.petService)}}class eD extends _{logService;constructor(e,t){super({name:"HippocampusAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,s=this.owner;if(!t)return void this.triggerTigerExecution(e);const r=s.parent===t.player?t.playerRollAmount||0:t.opponentRollAmount||0,c=r*this.level;c<=0||(s.increaseMana(c),tn(this.logService,s,`${s.name} gained ${c} mana from ${r} rolls this turn.`,i,n)),this.triggerTigerExecution(e)}copy(e){return new eD(e,this.logService)}}class tD extends _{logService;constructor(e,t){super({name:"Hoatzin Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent,r=3*this.level;let c=0;for(const v of s.petArray)!v||!v.alive||"Strawberry"===v.equipment?.name&&(v.removePerk(),c++);if(0===c)return void this.triggerTigerExecution(e);const d=r*c,h=s.resolveTrumpetGainTarget(n);h.player.gainTrumpets(d,n,t,void 0,void 0,h.random),this.logService.createLog({message:`${n.name} removed ${c} Strawberry${1===c?"":"s"} for +${d} trumpets.`,type:"ability",player:s,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new tD(e,this.logService)}}class iD extends _{logService;abilityService;lastTriggeredTurn=null;constructor(e,t,i){super({name:"Jerboa Ability",owner:e,triggers:["AppleEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i,gameApi:n}=e,s=this.owner,r=n?.turnNumber??null;if(null!=r&&this.lastTriggeredTurn===r)return void this.triggerTigerExecution(e);this.lastTriggeredTurn=r;const c=this.level,d=s.parent,h=d.petArray.filter(v=>v&&v.alive&&v!==s);if(0!==h.length){for(const v of h)v.increaseAttack(c),v.increaseHealth(c);this.logService.createLog({message:`${s.name} ate an apple and gave friendly pets +${c}/+${c}.`,type:"ability",player:d,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new iD(e,this.logService,this.abilityService)}}class nD extends _{logService;constructor(e,t){super({name:"Leaf Gecko Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=Nt.getInjector().get(pi),r=Array.from(s.getInstanceOfAllAilments().keys()),c=[...n.parent.petArray,...n.parent.opponent.petArray].filter(K=>K?.alive);if(0===r.length||0===c.length)return void this.triggerTigerExecution(e);const d=3*this.level;let h=0,v=0;const E=5*d;for(;h<d&&v<E;){const K=c[Jt(0,c.length-1)],le=r[Jt(0,r.length-1)];if(!K||!ul(K,le)){v++;continue}const ce=s.getInstanceOfAllAilments().get(le);if(!ce){v++;continue}const Ae=Pr(ce);Ae?(K.parent!==n.parent&&(Ae.multiplier=2,Ae.multiplierMessage=" x2 (Leaf Gecko)"),K.givePetEquipment(Ae),h++,v++):v++}tn(this.logService,n,h>0?`${n.name} cursed ${h} pet${1===h?"":"s"} with random ailments.`:`${n.name} could not apply any random ailments.`,t,i),this.triggerTigerExecution(e)}copy(e){return new nD(e,this.logService)}}class rD extends _{logService;constructor(e,t){super({name:"Leafy Sea Dragon Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=this.level,r=cs(n);r.forEach(d=>{d.increaseExp(s)}),n.health=0,n.parent.handleDeath(n),n.parent.removeDeadPets(),tn(this.logService,n,`${n.name} gave ${r.length} adjacent friend${1===r.length?"":"s"} +${s} experience and removed itself.`,t,i),this.triggerTigerExecution(e)}copy(e){return new rD(e,this.logService)}}const gO=(()=>{const o=mu??Al;if(!Array.isArray(o))return[];const e=[],t=/Give one pet \+(\d+) attack(?: and \+(\d+) health)?|Give one pet \+(\d+) health/;for(const i of o){const n=i?.Ability??"";if(!n||/perk/i.test(n)||!n.startsWith("Give one pet +"))continue;const s=n.match(t);if(!s)continue;const r=s[1]?Number(s[1]):0,c=s[2]?Number(s[2]):s[3]?Number(s[3]):0;!Number.isFinite(r)||!Number.isFinite(c)||e.push({name:i.Name,attack:r,health:c})}return e})();class aD extends _{logService;abilityService;constructor(e,t,i){super({name:"Locust Ability",owner:e,triggers:["FoodEatenByThis","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,s=this.owner,r=s,c=t?.turnNumber??0;if(r.locustFoodTurn!==c&&(r.locustFoodTurn=c,r.locustFoodEaten=0),r.locustFoodSeededTurn!==c){r.locustFoodSeededTurn=c;const K=s.foodsEaten??0;K>0&&(r.locustFoodEaten=Math.max(r.locustFoodEaten??0,K))}if("FoodEatenByThis"===e.trigger&&s.alive)return void(r.locustFoodEaten=(r.locustFoodEaten??0)+1);if("PostRemovalFaint"!==e.trigger)return void this.triggerTigerExecution(e);const d=r.locustFoodEaten??0;if(d<=0)return void this.triggerTigerExecution(e);let h=0;const v=s.position??s.savedPosition??0,E=Nt.getInjector().get(xr),q=gO;for(let K=0;K<d;K++)for(let le=0;le<this.level;le++){const ce=E?E.getRandomPet(s.parent):null;if(!ce||!s.parent.summonPet(ce,v,!1,s).success)break;if(h++,q.length>0){const Ce=q[Jt(0,q.length-1)];Ce&&(Ce.attack&&ce.increaseAttack(Ce.attack),Ce.health&&ce.increaseHealth(Ce.health),this.abilityService?.triggerFoodEvents(ce,Ce.name.toLowerCase()))}}this.logService.createLog({message:`${s.name} summoned ${h} friend${1===h?"":"s"} and fed them random food.`,type:"ability",player:s.parent,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new aD(e,this.logService,this.abilityService)}}class oD extends _{logService;constructor(e,t){super({name:"Lynx Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent.petArray.reduce((d,h)=>d+(h?.level??0),0);if(s<=0)return void this.triggerTigerExecution(e);const r=this.level,c=[];for(let d=0;d<r;d++){const h=n.parent.opponent.getRandomPet(c,!1,!1,!1,n);if(!h.pet)break;c.push(h.pet),n.snipePet(h.pet,s,h.random)}this.logService.createLog({message:`${n.name} dealt ${s} damage to ${c.length} enemy${1===c.length?"":"ies"}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new oD(e,this.logService)}}class sD extends _{logService;abilityService;constructor(e,t,i){super({name:"Old Mouse Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=Nt.getInjector().get(kr),r=Math.max(1,Math.min(3,this.level)),c=s.toys.get(r)??[];if(0===c.length)return void this.triggerTigerExecution(e);const d=c[0],h=s.createToy(d,n.parent,r);h?(n.parent.toy=h,n.parent.toy.used=!1,n.parent.toy.triggers=0,tn(this.logService,n,`${n.name} chose a level ${r} ${d} toy.`,t,i),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new sD(e,this.logService,this.abilityService)}}class lD extends _{logService;pendingBuffs=new Map;constructor(e,t){super({name:"Pegasus Ability",owner:e,triggers:["FriendSummoned","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{trigger:t,tiger:i,pteranodon:n}=e,s=this.owner;if("FriendSummoned"===t){const r=s.parent.getRandomPets(3,[],!1,!1,s),c=this.level;if(r.pets.length>0){const d=[];for(const h of r.pets){h.increaseAttack(c);const v=this.pendingBuffs.get(h)??0;this.pendingBuffs.set(h,v+c),d.push(h.name)}this.logService.createLog({message:`${s.name} temporarily buffed ${d.join(", ")} for +${c} attack until next turn.`,type:"ability",player:s.parent,tiger:i,pteranodon:n,randomEvent:r.random})}}else"EndTurn"===t&&this.resetBuffs();this.triggerTigerExecution(e)}resetBuffs(){for(const[e,t]of this.pendingBuffs)e.alive&&e.increaseAttack(-t);this.pendingBuffs.clear()}copy(e){return new lD(e,this.logService)}}class cD extends _{logService;constructor(e,t){super({name:"PlatybelodonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,r=this.owner;let c=0;r.parent===t.player?c=t.playerRollAmount||0:r.parent===t.opponent&&(c=t.opponentRollAmount||0);let d=this.level*Math.min(c,8);if(d>0){const h=r.parent.resolveTrumpetGainTarget(r);h.player.gainTrumpets(d,r,n,void 0,void 0,h.random)}this.triggerTigerExecution(e)}copy(e){return new cD(e,this.logService)}}class uD extends _{logService;constructor(e,t){super({name:"Poodle Moth Ability",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",maxUses:e.level,native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,s=this.owner;t&&t.parent===s.parent?(t.increaseExp(3),this.logService.createLog({message:`${s.name} gave ${t.name} +3 experience after transforming.`,type:"ability",player:s.parent,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new uD(e,this.logService)}}class dD extends _{logService;constructor(e,t){super({name:"Racket Tail Ability",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",maxUses:e.level,native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,s=this.owner;if(!t||t.parent!==s.parent||!t.alive)return void this.triggerTigerExecution(e);const c=Nt.getInjector().get(pi).getInstanceOfAllEquipment().get("Strawberry");c&&t.givePetEquipment(c),t.increaseAttack(5),this.logService.createLog({message:`${s.name} gave ${t.name} Strawberry and +5 attack before attacking.`,type:"ability",player:s.parent,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new dD(e,this.logService)}}class hD extends C{logService;abilityService;petService;name="Red Lipped Batfish";tier=4;pack="Custom";attack=5;health=3;initAbilities(){this.addAbility(new pD(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class pD extends _{logService;petService;constructor(e,t,i){super({name:"Red Lipped Batfish Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent.opponent;if(!s)return void this.triggerTigerExecution(e);const r=s.getPetAtPosition(n.position);if(!r||!r.alive)return void this.triggerTigerExecution(e);const c=Math.max(1,4-this.level),d=this.petService.getRandomFaintPet(s,c);s.transformPet(r,d),this.logService.createLog({message:`${n.name} transformed ${r.name} into ${d.name} (tier ${c}).`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new pD(e,this.logService,this.petService)}}class gD extends _{logService;constructor(e,t){super({name:"Rootling Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=this.level,c=n.parent.petArray.filter(d=>d&&d.alive&&d!==n&&d.health<n.health).sort((d,h)=>d.health-h.health).slice(0,2);for(const d of c)d.increaseAttack(s),d.increaseHealth(s);c.length>0&&this.logService.createLog({message:`${n.name} gave ${c.map(d=>d.name).join(", ")} +${s}/+${s}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new gD(e,this.logService)}}class mD extends _{logService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t){super({name:"Sea Anemone Ability",owner:e,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const i=e.triggerPet;if(!i||!i.isSellPet())return void this.triggerTigerExecution(e);const n=t.parent.petArray.filter(c=>c&&c!==t&&c.alive);if(0===n.length)return void this.triggerTigerExecution(e);const s=n[Math.floor(Math.random()*n.length)],r=Math.min(Math.max(this.level,1),3);s.increaseAttack(r),s.increaseHealth(r),this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave ${s.name} +${r}/+${r} after ${i.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new mD(e,this.logService)}}class fD extends C{logService;abilityService;petService;gameService;name="Seagull";tier=4;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new yD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v,E){super(e,t,s),this.logService=e,this.abilityService=t,this.petService=i,this.gameService=n,this.initPet(h,r,c,d,v,E)}}class yD extends _{logService;usesThisTurn=0;constructor(e,t){super({name:"SeagullAbility",owner:e,triggers:["FriendSummoned","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n,trigger:s}=e,r=this.owner;if("StartTurn"===s)return void(this.usesThisTurn=0);const c=dr(r,t);if(!c.pet||!r.equipment||this.usesThisTurn>=this.level)return void this.triggerTigerExecution(e);const d=Nt.getInjector().get(pi),h=r.equipment,v=d.getInstanceOfAllEquipment().get(h.name);if(!v)return void this.triggerTigerExecution(e);const E=c.pet;E.givePetEquipment(v),this.usesThisTurn++,tn(this.logService,r,`${r.name} gave ${E.name} a ${h.name}`,i,n,{randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new yD(e,this.logService)}}class bD extends _{logService;affectedPets=new Set;constructor(e,t){super({name:"Spider Crab Ability",owner:e,triggers:["FriendAttacked","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{triggerPet:i,tiger:n,pteranodon:s}=e;if("StartTurn"===e.trigger)return this.affectedPets.clear(),void this.triggerTigerExecution(e);if(!i||i.parent!==t.parent)return void this.triggerTigerExecution(e);if(!i.alive)return void this.triggerTigerExecution(e);if(this.affectedPets.has(i))return void this.triggerTigerExecution(e);if(this.affectedPets.size>=this.level)return void this.triggerTigerExecution(e);let r=i;if(Zt(t)){const c=t.parent.petArray.filter(d=>d.alive);if(0===c.length)return void this.triggerTigerExecution(e);r=c[Jt(0,c.length-1)]}r.increaseHealth(4),r.parent.pushPetToBack(r),this.affectedPets.add(i),this.logService.createLog({message:`${t.name} moved ${r.name} to the back and gave it +4 health.`,type:"ability",player:t.parent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new bD(e,this.logService)}}class vD extends _{logService;constructor(e,t){super({name:"Spiny Bush Viper Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.opponent.petArray.filter(c=>c&&c.alive);if(0===i.length)return void this.triggerTigerExecution(e);const n=Ar([...i]).slice(0,Math.min(2,i.length)),s=t.position??t.savedPosition??0,r=[];for(const c of n){const h=Math.max(1,Math.abs(s-(c.position??c.savedPosition??0))),v=Math.max(1,this.level)*h;t.dealDamage(c,v),r.push(`${v} to ${c.name}`)}r.length>0&&this.logService.createLog({message:`${t.name} dealt ${r.join(" and ")}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new vD(e,this.logService)}}class EO extends C{name="Tardigrade";tier=1;pack="Custom";attack=3;health=3;initAbilities(){}constructor(e,t,i,n,s){super(e,t,i),this.initPet(0,n,s,0,void 0,0)}}class AD extends _{logService;abilityService;constructor(e,t,i){super({name:"Tardigrade Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=3*Math.max(1,this.level),n=t.position??t.savedPosition??0,s=new EO(this.logService,this.abilityService,t.parent,i,i);t.parent.summonPet(s,n,!1,t).success&&(s.givePetEquipment(new Zd),this.logService.createLog({message:`${t.name} summoned a ${i}/${i} level ${this.level} Tardigrade (Dazed).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})),this.triggerTigerExecution(e)}copy(e){return new AD(e,this.logService,this.abilityService)}}class SD extends _{logService;constructor(e,t){super({name:"Trout Ability",owner:e,triggers:["FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=e.triggerPet;if(!i||i.sellValue<3)return void this.triggerTigerExecution(e);const n=Math.max(1,this.level),s=2*n;t.increaseAttack(n),t.increaseHealth(s),this.logService.createLog({message:`${t.name} gained +${n}/+${s} after ${i.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new SD(e,this.logService)}}class PD extends _{logService;constructor(e,t){super({name:"Yeti Crab Ability",owner:e,triggers:["PetLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=e.triggerPet,{tiger:n,pteranodon:s}=e;if(i){if(i.parent===t.parent){const r=t.parent.getSpecificPet(t,i),c=new qh;i.givePetEquipment(c),this.logService.createLog({message:`${t.name} gave ${i.name} a Melon Slice after losing a perk.`,type:"ability",player:t.parent,tiger:n,randomEvent:r.random})}else t.dealDamage(i,6),this.logService.createLog({message:`${t.name} dealt 6 damage to ${i.name} after they lost a perk.`,type:"ability",player:t.parent,tiger:n,pteranodon:s});this.triggerTigerExecution(e)}}copy(e){return new PD(e,this.logService)}}class kD extends _{logService;foodsEatenThisTurn=0;seededFromShop=!1;constructor(e,t){super({name:"Blue Jay Ability",owner:e,triggers:["FoodEatenByThis","StartTurn","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.foodsEatenThisTurn=0,void(this.seededFromShop=!1);if(!this.seededFromShop){const i=t.foodsEaten??0;i>0&&(this.foodsEatenThisTurn=Math.max(this.foodsEatenThisTurn,i)),this.seededFromShop=!0}if("FoodEatenByThis"!==e.trigger){if("PostRemovalFaint"===e.trigger){const n=this.level*this.foodsEatenThisTurn;if(n<=0)return void this.triggerTigerExecution(e);const s=t.parent.petArray.filter(c=>c&&c!==t&&c.alive);if(0===s.length)return void this.triggerTigerExecution(e);Ar(s);const r=s.slice(0,3);for(const c of r)c.increaseAttack(n),c.increaseHealth(n);this.logService.createLog({message:`${t.name} gave ${r.map(c=>c.name).join(", ")} +${n}/+${n} after fainting.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}else this.foodsEatenThisTurn++}copy(e){return new kD(e,this.logService)}}class _D extends _{logService;abilityService;reset(){this.maxUses=2*this.level,super.reset()}initUses(){this.maxUses=2*this.level,super.initUses()}constructor(e,t,i){super({name:"BoitataAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2*e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithEquipmentWithSillyFallback("Crisp",r),d=r.parent.opponent.getFurthestUpPet(r,c),h=d.pet;null!=h&&(this.logService.createLog({message:`${r.name} gave ${h.name} Crisp.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.random}),h.givePetEquipment(new ur),this.triggerTigerExecution(e))}copy(e){return new _D(e,this.logService,this.abilityService)}}class wD extends _{logService;attackers=new Set;constructor(e,t){super({name:"Brahma Chicken Ability",owner:e,triggers:["FriendAttacked","PostRemovalFaint","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{triggerPet:i,tiger:n,pteranodon:s}=e;if("StartBattle"!==e.trigger){if("FriendAttacked"===e.trigger&&i&&i.parent===t.parent)this.attackers.add(i);else if("PostRemovalFaint"===e.trigger){const r=Ar(Array.from(this.attackers).filter(v=>v&&v.alive)),c=Math.min(3,r.length),d=this.level,h=r.slice(0,c);for(const v of h)v.increaseAttack(d),v.increaseHealth(d);h.length>0&&this.logService.createLog({message:`${t.name} gave ${h.map(v=>v.name).join(", ")} +${d}/+${d} after fainting.`,type:"ability",player:t.parent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}}else this.attackers.clear()}copy(e){return new wD(e,this.logService)}}class nL extends C{logService;abilityService;name="Cuckoo Chick";tier=1;pack="Custom";hidden=!0;attack=1;health=1;increaseAttack(e){e<=0||!this.alive||(this.attack=Math.min(this.attack+e,1))}increaseHealth(e){e<=0||!this.alive||(this.health=Math.min(this.health+e,1))}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}}class TD extends _{logService;abilityService;constructor(e,t,i){super({name:"CuckooAbility",owner:e,triggers:["EnemyFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:i,pteranodon:n}=e,s=this.owner,r=s.parent.opponent;if(this.currentUses>2*this.level)return;let d=new nL(this.logService,this.abilityService,r);d.initPet(0,1,1,0,null,0);let v=r.summonPet(d,0,!0,s);v.success&&this.logService.createLog({message:`${s.name} summoned Cuckoo Chick for the enemy Early.`,type:"ability",player:s.parent,tiger:i,pteranodon:n,randomEvent:v.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new TD(e,this.logService,this.abilityService)}}class FO extends C{name="Estemmenosuchus's Ally";tier=1;pack="Custom";attack=1;health=1;initAbilities(){}constructor(e,t,i,n,s){super(e,t,i),this.initPet(0,s,n,0,void 0,0)}}class CD extends _{logService;abilityService;constructor(e,t,i){super({name:"Estemmenosuchus Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i}countAilments(){return this.owner.parent.petArray.filter(t=>{const i=t?.equipment?.equipmentClass;return!!i&&i.startsWith("ailment")}).length}executeAbility(e){const t=this.owner,i=Math.max(0,this.countAilments()),n=3+i,s=Math.min(this.level,3),r=t.position??t.savedPosition??0;let c=0;for(let d=0;d<s;d++){const h=new FO(this.logService,this.abilityService,t.parent,n,n);if(!t.parent.summonPet(h,r,!1,t).success)break;c++}c>0&&this.logService.createLog({message:`${t.name} summoned ${c} 3/3 friend${1===c?"":"s"} with +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new CD(e,this.logService,this.abilityService)}}class ED extends _{logService;constructor(e,t){super({name:"Farmer Crow Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=Math.min(t.level,3),s=t.parent.nearestPetsBehind(i,t),r=s.pets;for(const c of r)for(let d=0;d<3;d++){const h=new vs;h.effectMultiplier=3,c.applyEquipment(h)}r.length>0&&this.logService.createLog({message:`${t.name} fed Corncobs with 3x effect to ${r.length} friend${1===r.length?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:s.random}),this.triggerTigerExecution(e)}copy(e){return new ED(e,this.logService)}}class xD extends _{logService;constructor(e,t){super({name:"Farmer Dog Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,n=t.parent.petArray.filter(s=>s&&s.alive&&s!==t);if(0!==n.length){for(const s of n){const r=new vs;r.effectMultiplier=i,s.givePetEquipment(r)}this.logService.createLog({message:`${t.name} fed ${i} Corncob${1===i?"":"s"} to ${n.length} friend${1===n.length?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new xD(e,this.logService)}}class DD extends _{logService;foodsEaten=0;triggeredThisTurn=!1;constructor(e,t){super({name:"Flounder Ability",owner:e,triggers:["FoodEatenByThis","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.foodsEaten=0,this.triggeredThisTurn=!1,void this.triggerTigerExecution(e);if(this.triggeredThisTurn)return void this.triggerTigerExecution(e);if(this.foodsEaten++,this.foodsEaten<2)return void this.triggerTigerExecution(e);const i=this.level,n=t.parent.nearestPetsBehind(2,t);for(const s of n.pets)s.increaseExp(i),this.logService.createLog({message:`${t.name} gave ${s.name} ${i} exp.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random});this.triggeredThisTurn=!0,this.triggerTigerExecution(e)}copy(e){return new DD(e,this.logService)}}class MD extends _{logService;constructor(e,t){super({name:"Fox Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,n=Nt.getInjector().get(pi).getInstanceOfAllEquipment(),s=Array.from(n.values()).filter(v=>"shop"===v.equipmentClass);if(0===s.length)return void this.triggerTigerExecution(e);const r=s[s.length-1],c=this.level,h=Math.max(1,2*t.level)*c;t.increaseAttack(h),t.increaseHealth(h),this.logService.createLog({message:`${t.name} stole ${r.name} (x${c}) and gained +${h}/+${h}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new MD(e,this.logService)}}class ID extends _{logService;triggerCount=0;constructor(e,t){super({name:"Giant Isopod Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,s=[2,4,6][Math.min(Math.max(this.level-1,0),2)]+Math.floor(this.triggerCount/2),r=t.parent.petArray.filter(c=>c&&c.alive&&c!==t);for(const c of r)c.increaseHealth(s);this.logService.createLog({message:`${t.name} gave ${r.length} friends +${s} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),t.parent.trumpets>=2&&t.parent.spendTrumpets(2,t),this.triggerCount++,this.triggerTigerExecution(e)}copy(e){return new ID(e,this.logService)}}class RD extends C{logService;abilityService;petService;name="Hippogriff";tier=5;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new LD(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class LD extends _{logService;abilityService;petService;pendingBuffs=new Map;constructor(e,t,i,n){super({name:"Hippogriff Ability",owner:e,triggers:["FriendSummoned","EndTurn","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>this.executeAbility(s)}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{trigger:t,triggerPet:i,gameApi:n}=e;if("FriendSummoned"===t){const d=dr(this.owner,i);d.pet&&this.applyTemporaryBuff(d.pet,e,d.random)}else"EndTurn"===t?this.resetBuffs():"PostRemovalFaint"===t&&this.summonNextTierPet(n,e);this.triggerTigerExecution(e)}applyTemporaryBuff(e,t,i){const n=this.owner,s=this.level;e.increaseAttack(s);const r=this.pendingBuffs.get(e)??0;this.pendingBuffs.set(e,r+s),tn(this.logService,n,`${n.name} gave ${e.name} +${s} attack until next turn.`,t.tiger,t.pteranodon,{randomEvent:i})}resetBuffs(){for(const[e,t]of this.pendingBuffs)e&&e.increaseAttack(-t);this.pendingBuffs.clear()}summonNextTierPet(e,t){const i=this.owner;if(!e)return;const n=Number.isFinite(e.previousShopTier)?e.previousShopTier:1,s=Math.min(6,Math.max(1,n+1)),r=K=>(K??[]).filter(le=>le&&i.name&&le.toLowerCase()!==i.name.toLowerCase()),c=i.parent===e.player?e.playerPetPool:e.opponentPetPool;let d=r(c?.get(s));if(d?.length||(d=r(this.petService.allPets.get(s))),d?.length||(d=r(this.petService.allPets.get(1))),!d.length)return;const h=d[Math.floor(Math.random()*d.length)],v=5*this.level,E=this.petService.createPet({name:h,attack:v,equipment:null,exp:0,health:v,mana:0},i.parent);i.parent.summonPet(E,i.savedPosition,!1,i).success&&this.logService.createLog({message:`${i.name} spawned a ${E.attack}/${E.health} ${E.name} from tier ${s}.`,type:"ability",player:i.parent,tiger:t.tiger,randomEvent:!0,pteranodon:t.pteranodon})}copy(e){return new LD(e,this.logService,this.abilityService,this.petService)}}class ND extends _{logService;constructor(e,t){super({name:"HyenaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e;switch(this.level){case 1:this.level1Ability(t,n,s);break;case 2:this.level2Ability(t,n,s);break;case 3:this.level3Ability(t,n,s)}this.triggerTigerExecution(e)}level1Ability(e,t,i){const n=this.owner;let s=n.parent.getAll(!0,n);for(let r of s.pets){let c=r.health;r.health=r.attack,r.attack=c}this.logService.createLog({message:`${n.name} swapped all pets attack and health.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})}level2Ability(e,t,i){const n=this.owner;this.shufflePets(e.player),this.shufflePets(e.opponent),this.logService.createLog({message:`${n.name} shuffled positions of all pets.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:!0})}level3Ability(e,t,i){this.level1Ability(e,t,i),this.level2Ability(e,t,i)}shufflePets(e){let t=e.petArray;Ar(t);for(let i=0;i<t.length;i++)e[`pet${i}`]=t[i]}copy(e){return new ND(e,this.logService)}}class FD extends _{logService;constructor(e,t){super({name:"Jackal Ability",owner:e,triggers:["AnyoneFlung"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=e.triggerPet;if(!i||i!==t)return;const n=[13,26,39],s=n[Math.min(Math.max(this.level-1,0),n.length-1)];t.attack=s,t.health=s,this.logService.createLog({message:`${t.name} was flung and reset to ${s}/${s}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new FD(e,this.logService)}}class OD extends C{logService;abilityService;petService;name="Kappa";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new BD(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class BD extends _{logService;abilityService;petService;constructor(e,t,i,n){super({name:"KappaAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let d=(r.parent==t.player?t.playerPetPool:t.opponentPetPool).get(3);for(let h=0;h<r.level;h++){let v=d[Math.floor(Math.random()*d.length)],E=d[Math.floor(Math.random()*d.length)],q=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:v},r.parent);r.parent.summonPet(q,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned a ${q.name} (14/16).`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:!0});let le=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:E},r.parent.opponent);r.parent.opponent.summonPet(le,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned a ${le.name} (14/16) for the opponent.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:!0})}this.triggerTigerExecution(e)}copy(e){return new BD(e,this.logService,this.abilityService,this.petService)}}class $D extends _{logService;constructor(e,t){super({name:"LionAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}conditionFunction(){const e=this.owner;let t=e.parent.petArray.filter(n=>n!==e),i=0;for(let n of t)n.tier>i&&(i=n.tier);return e.tier>i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;if(!this.conditionFunction())return;let c=.5*this.level;r.increaseAttack(Math.floor(r.attack*c)),r.increaseHealth(Math.floor(r.health*c)),this.logService.createLog({message:`${r.name} increased its attack and health by ${100*c}% (${r.attack}/${r.health})`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new $D(e,this.logService)}}class GD extends _{logService;constructor(e,t){super({name:"Lusca Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.mana;if(i<=0)return void this.triggerTigerExecution(e);t.mana=0;const s=t.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!1,t).pets;if(0!==s.length){for(const r of s){const c=i,d=Math.max(0,r.attack-c),h=Math.max(0,r.health-c);r.attack=d,r.health=Math.max(1,h)}this.logService.createLog({message:`${t.name} spent ${i} mana and drained ${s.map(r=>r.name).join(", ")}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new GD(e,this.logService)}}class HD extends _{logService;constructor(e,t){super({name:"Maltese Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent,n=i.trumpets;n>0&&i.spendTrumpets(n,t,e.pteranodon);const s=i.petArray.filter(v=>v.alive&&v!==t);if(0===s.length||n<=0)return void this.triggerTigerExecution(e);const c=n*(this.level+1),d=Math.floor(c/s.length);let h=c%s.length;for(const v of s){const E=d+(h>0?1:0);E>0&&v.increaseMana(E),h=Math.max(0,h-1)}this.logService.createLog({message:`${t.name} converted ${n} trumpets into ${c} mana and spread it to friends.`,type:"ability",player:i,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new HD(e,this.logService)}}class qD extends _{logService;abilityService;constructor(e,t,i){super({name:"Mimic Ability",owner:e,triggers:["StartBattle","PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t;if("StartBattle"===e.trigger)return i.mimicFaintCount=0,i.mimicTriggeredThreshold=0,t.parent.pendingGoldFromMimic=0,void this.triggerTigerExecution(e);if("PostRemovalFriendFaints"===e.trigger){i.mimicFaintCount=(i.mimicFaintCount??0)+1;const n=Math.floor((i.mimicFaintCount??0)/3),s=i.mimicTriggeredThreshold??0;if(n>s){const r=n-s;i.mimicTriggeredThreshold=n;const d=this.level*r,h="pendingGoldFromMimic";t.parent[h]=(t.parent[h]??0)+d,this.logService.createLog({message:`${t.name} will grant +${d} gold next turn after ${i.mimicFaintCount} friendly faints.`,type:"ability",player:t.parent})}}this.triggerTigerExecution(e)}copy(e){return new qD(e,this.logService,this.abilityService)}}class jD extends _{logService;abilityService;constructor(e,t,i){super({name:"Moose Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,n=e.gameApi?.playerPetPool?.get(1)?.length??0;if(0===n)return void this.triggerTigerExecution(e);const r=3*this.level*n,c=t.parent.getRandomPets(1,[t],!1,!1,t),d=c.pets[0];d?(d.increaseHealth(r),this.logService.createLog({message:`${t.name} gave ${d.name} +${r} health from ${n} Tier 1 shop pets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:c.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new jD(e,this.logService,this.abilityService)}}class VD extends _{logService;constructor(e,t){super({name:"Namazu Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.mana;if(i<=0)return void this.triggerTigerExecution(e);const n=i*this.level;t.parent.gainTrumpets(n,t,e.pteranodon),t.mana=0,this.logService.createLog({message:`${t.name} spent ${i} mana and gained ${n} trumpets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new VD(e,this.logService)}}class UD extends _{constructor(e){super({name:"NurikabeAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){}copy(e){return new UD(e)}}class WD extends _{logService;constructor(e,t){super({name:"Pacific Fanfish Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=4*this.level,n=t.parent.petArray.filter(r=>r&&r!==t&&r.alive&&r.sellValue>=3);if(0===n.length)return void this.triggerTigerExecution(e);const s=i*n.length;t.increaseAttack(s),t.increaseHealth(s),this.logService.createLog({message:`${t.name} gained +${s}/+${s} from ${n.length} friend(s) with \u22653 sell value.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new WD(e,this.logService)}}class KD extends _{logService;constructor(e,t){super({name:"Polar Bear Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=[4,8,12],n=i[Math.min(Math.max(t.level-1,0),i.length-1)],s=t.parent.getRandomPets(1,[],!1,!1,t),r=s.pets[0];r?(r.increaseAttack(n),r.increaseHealth(n),this.logService.createLog({message:`${t.name} gave ${r.name} +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:s.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new KD(e,this.logService)}}class zD extends _{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"RaccoonAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let d=r.parent.opponent.getPetAtPosition(0);null!=d&&null!=d.equipment&&(this.logService.createLog({message:`${r.name} stole ${d.name}'s equipment. (${d.equipment.name})`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),r.givePetEquipment(d.equipment),d.removePerk(),this.triggerTigerExecution(e))}copy(e){return new zD(e,this.logService)}}class YD extends _{logService;abilityService;constructor(e,t,i){super({name:"SeaCucumberAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithEquipmentWithSillyFallback("Tasty",r),d=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,c,!1,!0,r),h=d.pets;if(0!=h.length){for(let v of h){let E=new Vh(this.logService);v.givePetEquipment(E),this.logService.createLog({message:`${r.name} made ${v.name} Tasty`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.random})}this.triggerTigerExecution(e)}}copy(e){return new YD(e,this.logService,this.abilityService)}}class XD extends _{logService;constructor(e,t){super({name:"Siberian Husky Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,n=t.parent.petArray.filter(r=>!(!r||r===t||!r.alive||null!=r.equipment&&"shop"===r.equipment.equipmentClass));if(0===n.length)return void this.triggerTigerExecution(e);Ar(n);const s=n.slice(0,3);for(const r of s)r.increaseAttack(i),r.increaseHealth(i);this.logService.createLog({message:`${t.name} gave ${s.map(r=>r.name).join(", ")} +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new XD(e,this.logService)}}class QD extends _{logService;constructor(e,t){super({name:"Silver Fox Ability",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,n=t.parent;n.gold=(n.gold??0)+i,this.logService.createLog({message:`${t.name} gave ${i} gold to the owner.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new QD(e,this.logService)}}class JD extends _{logService;constructor(e,t){super({name:"Tarasque Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,s=[.25,.5,.75][Math.min(Math.max(t.level-1,0),2)],r=t.parent.petArray.filter(K=>K&&K.alive);if(0===r.length)return void this.triggerTigerExecution(e);let c=0,d=0;for(const K of r){const le=Math.floor(K.attack*s),ce=Math.floor(K.health*s);K.attack=Math.max(1,K.attack-le),K.health=Math.max(1,K.health-ce),c+=le,d+=ce}const h=Math.floor(c/r.length),v=Math.floor(d/r.length),E=c%r.length,q=d%r.length;for(let K=0;K<r.length;K++){const le=r[K];let ce=h+(K<E?1:0),Ae=v+(K<q?1:0);ce>0&&le.increaseAttack(ce),Ae>0&&le.increaseHealth(Ae)}this.logService.createLog({message:`${t.name} redistributed ${c}/${d} stats across ${r.length} pets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new JD(e,this.logService)}}class ZD extends _{logService;constructor(e,t){super({name:"Woolly Rhino Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=new Set;for(const d of t.parent.petArray){const h=d?.equipment;("ailment-attack"===h?.equipmentClass||"ailment-defense"===h?.equipmentClass||"ailment-other"===h?.equipmentClass)&&i.add(h.name)}const n=i.size;if(n<=0)return void this.triggerTigerExecution(e);const s=4*n,r=t.parent.opponent.petArray.filter(d=>d.alive),c=Math.min(this.level,r.length);for(let d=0;d<c;d++)t.snipePet(r[d],s,!1,e.tiger,e.pteranodon);c>0&&this.logService.createLog({message:`${t.name} dealt ${s} damage to ${c} enemy${1===c?"":"ies"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ZD(e,this.logService)}}class eM extends _{logService;constructor(e,t){super({name:"Zebra Ability",owner:e,triggers:["ThisBought","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.getRandomPets(1,[t],!1,!1,t),n=i.pets[0];if(!n)return void this.triggerTigerExecution(e);const s=2*this.level;n.increaseAttack(s),n.increaseHealth(s),this.logService.createLog({message:`${t.name} gave ${n.name} +${s}/+${s}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new eM(e,this.logService)}}class tM extends _{logService;constructor(e,t){super({name:"Akhlut Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if(t.mana<2)return;t.mana=Math.max(t.mana-2,0);const i=t.parent.nearestPetsBehind(1,t,[t]),n=i.pets[0];if(!n)return;const s=3*this.level;n.increaseAttack(s),n.increaseHealth(s),this.logService.createLog({message:`${t.name} spent 2 mana to give ${n.name} +${s}/+${s}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new tM(e,this.logService)}}class iM extends _{logService;handlingExtraDamage=!1;constructor(e,t){super({name:"Albatross Ability",owner:e,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){if(this.handlingExtraDamage)return void(this.handlingExtraDamage=!1);if("EnemyHurt"!==e.trigger)return;const t=this.owner,i=e.triggerPet;if(!i||!i.alive||0===[t.petAhead,t.petBehind()].filter(r=>r&&r.alive&&r.parent===t.parent&&r.level<=4).length)return;const s=3*this.level;this.handlingExtraDamage=!0,t.dealDamage(i,s),this.handlingExtraDamage=!1,this.logService.createLog({message:`${t.name} boosted adjacent friends for an extra ${s} damage on ${i.name}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new iM(e,this.logService)}}class nM extends _{logService;healthRestoredThisTurn=0;reset(){this.healthRestoredThisTurn=0,super.reset()}constructor(e,t){super({name:"AmargasaurusAbility",owner:e,triggers:["FriendHurt","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return void(this.healthRestoredThisTurn=0);const{triggerPet:n,tiger:s,pteranodon:r}=e;let c;if(!n||(n.transformed?(c=n.transformedInto,c.originalHealth=n.originalHealth):c=n,!c||!c.alive)||c===t)return;const d=15*this.level,h=c.originalHealth-c.health;if(h<=0||this.healthRestoredThisTurn>=d)return;const E=Math.min(h,d-this.healthRestoredThisTurn);if(E>0){let K=t.parent.getSpecificPet(t,c).pet;if(null==K)return;this.logService.createLog({message:`${t.name} restored ${E} health to ${K.name}.`,type:"ability",player:t.parent,tiger:s,pteranodon:r}),K.increaseHealth(E),this.healthRestoredThisTurn+=E}this.triggerTigerExecution(e)}copy(e){return new nM(e,this.logService)}}class rM extends _{logService;constructor(e,t){super({name:"Bakunawa Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.opponent.petArray.filter(c=>c&&c.alive&&"Sleepy"!==c.equipment?.name).sort((c,d)=>d.attack!==c.attack?d.attack-c.attack:(c.position??0)-(d.position??0));if(0===i.length)return void this.triggerTigerExecution(e);const n=i.slice(0,Math.min(this.level,i.length));for(const c of n){const d=new qc;d.multiplier+=this.level-1,c.givePetEquipment(d)}const s=["."," twice for double effect."," thrice for triple effect."],r=`${t.name} made ${n.map(c=>c.name).join(", ")} Sleepy${s[Math.min(this.level,s.length)-1]}`;this.logService.createLog({message:r,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new rM(e,this.logService)}}class aM extends _{logService;foodsEatenThisTurn=0;seededFromShop=!1;constructor(e,t){super({name:"Black Bear Ability",owner:e,triggers:["StartTurn","FoodEatenByThis","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.foodsEatenThisTurn=0,void(this.seededFromShop=!1);if(!this.seededFromShop){const i=t.foodsEaten??0;i>0&&(this.foodsEatenThisTurn=Math.max(this.foodsEatenThisTurn,i)),this.seededFromShop=!0}if("FoodEatenByThis"!==e.trigger){if("PostRemovalFaint"===e.trigger){const n=4*this.level*this.foodsEatenThisTurn;if(n<=0)return void this.triggerTigerExecution(e);const s=t.parent.getRandomEnemyPetsWithSillyFallback(1,[],!1,!0,t),r=s.pets[0];if(!r)return void this.triggerTigerExecution(e);t.dealDamage(r,n),this.logService.createLog({message:`${t.name} dealt ${n} damage to ${r.name} after eating ${this.foodsEatenThisTurn} food item${1===this.foodsEatenThisTurn?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:s.random}),this.triggerTigerExecution(e)}}else this.foodsEatenThisTurn++}copy(e){return new aM(e,this.logService)}}class oM extends _{logService;constructor(e,t){super({name:"Chimpanzee Ability",owner:e,triggers:["CornEatenByFriend"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.getSpecificPet(t,e.triggerPet),n=i.pet;if(!n)return void this.triggerTigerExecution(e);const s=this.level;n.increaseAttack(s),n.increaseHealth(s),this.logService.createLog({message:`${t.name} gave ${n.name} +${s}/+${s} after eating Corncob.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new oM(e,this.logService)}}class sM extends _{logService;abilityService;constructor(e,t,i){super({name:"CockatriceAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.opponent.petArray.reverse(),d=null;for(let E of c)if(E.level<=this.level){d=E;break}if(null==d)return;this.logService.createLog({message:`${r.name} transformed ${d.name} into a Rock.`,type:"ability",player:r.parent,tiger:n,pteranodon:s});let h=new dw(this.logService,this.abilityService,d.parent,d.health,d.attack,d.mana,d.exp,d.equipment);r.parent.opponent.setPet(d.position,h,!1),this.triggerTigerExecution(e)}copy(e){return new sM(e,this.logService,this.abilityService)}}class lM extends _{logService;hasCoconut=!1;constructor(e,t){super({name:"Coconut Crab Ability",owner:e,triggers:["Eat2","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"!==e.trigger){if("Eat2"===e.trigger){const i=new Qr;i.uses=this.level,i.originalUses=this.level,t.givePetEquipment(i),this.hasCoconut=!0,this.logService.createLog({message:`${t.name} gained Coconut perk that works ${1===this.level?"once":2===this.level?"twice":"thrice"} until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}else this.hasCoconut&&(t.removePerk(!0),this.hasCoconut=!1)}copy(e){return new lM(e,this.logService)}}var gw=B(3446);class cM extends _{logService;constructor(e,t){super({name:"Dunkleosteus Ability",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.equipment;if(!i||!this.isAilmentEquipment(i))return void this.triggerTigerExecution(e);const n=t.parent.opponent.petArray.filter(h=>h&&h.alive);if(0===n.length)return void this.triggerTigerExecution(e);const s=(0,gw.A)(i);t.removePerk(!0);const r=n.slice(0,Math.min(2,n.length));for(const h of r){const v=(0,gw.A)(s);v.multiplier+=this.level-1,h.givePetEquipment(v)}const c=["."," with double effect."," with triple effect."],d=`${t.name} moved ${s.name} to ${r.map(h=>h.name).join(", ")}${c[Math.min(this.level,c.length)-1]}`;this.logService.createLog({message:d,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new cM(e,this.logService)}}class uM extends _{logService;constructor(e,t){super({name:"Eagle Owl Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=Math.max(0,t.battlesFought??0);if(i<=0)return void this.triggerTigerExecution(e);const s=i*this.level,r=t.parent.getRandomPets(3,[t],!0,!1,t),c=r.pets;if(0!==c.length){for(const d of c)d.increaseAttack(s),d.increaseHealth(s);this.logService.createLog({message:`${t.name} gave ${c.map(d=>d.name).join(", ")} +${s}/+${s} after fighting ${i} battle${1===i?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:r.random}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new uM(e,this.logService)}}class dM extends _{logService;constructor(e,t){super({name:"Hammerhead Shark Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if(!t.parent.petArray.some(r=>r&&r!==t&&3===r.level))return void this.triggerTigerExecution(e);const n=3*this.level,s=t.parent;s.gold=(s.gold??0)+n,this.logService.createLog({message:`${t.name} gained +${n} gold from level 3 friends.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new dM(e,this.logService)}}class hM extends C{logService;abilityService;petService;name="Harpy Eagle";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new pM(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class pM extends _{logService;petService;usesThisTurn=0;constructor(e,t,i){super({name:"HarpyEagleAbility",owner:e,triggers:["ThisHurt","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){if("StartTurn"===e.trigger)return void(this.usesThisTurn=0);if("ThisHurt"!==e.trigger||this.usesThisTurn>=3)return;this.usesThisTurn++;const{gameApi:t,tiger:i}=e,s=this.owner;let c,r=5*this.level;c=s.parent===t.player?t.playerPetPool.get(1):t.opponentPetPool.get(1);let d=c[Math.floor(Math.random()*c.length)],h=this.petService.createPet({name:d,attack:r,health:r,equipment:null,mana:0,exp:0},s.parent);s.parent.summonPet(h,s.savedPosition,!1,s).success&&this.logService.createLog({message:`${s.name} spawned ${h.name} (${r}/${r}).`,type:"ability",player:s.parent,tiger:i,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new pM(e,this.logService,this.petService)}}class gM extends _{logService;usesThisTurn=0;constructor(e,t){super({name:"Hooded Seal Ability",owner:e,triggers:["FriendTransformed","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){if("StartTurn"===e.trigger)return void(this.usesThisTurn=0);if(this.usesThisTurn>=2)return void this.triggerTigerExecution(e);const t=e.triggerPet;if(!t)return void this.triggerTigerExecution(e);this.usesThisTurn++;const i=Yd(this.level);t.exp=Math.min(t.exp,i),t.resetAbilityUses(),this.logService.createLog({message:`${this.owner.name} capped ${t.name} to level ${this.level}.`,type:"ability",player:this.owner.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new gM(e,this.logService)}}class mM extends _{logService;abilityService;constructor(e,t,i){super({name:"KomodoAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,s=this.owner;if(0===s.position)return void this.triggerTigerExecution(e);const c=s.parent.nearestPetsAhead(s.position,s).pets;if(0===c.length)return void this.triggerTigerExecution(e);const d=this.level;for(const v of c)v.increaseAttack(d),v.increaseHealth(d);t&&(t.komodoShuffle=!0);const h=c.map(v=>v.name).join(", ");this.logService.createLog({message:`${s.name} gave ${h} +${d}/+${d} at end of turn and shuffled positions.`,type:"ability",player:s.parent,tiger:i,pteranodon:n,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new mM(e,this.logService,this.abilityService)}}class fM extends _{logService;constructor(e,t){super({name:"LampreyAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,s=this.owner;if(!t)return void this.triggerTigerExecution(e);const r=s.parent.nearestPetsAhead(this.level,s);if(0===r.pets.length)return void this.triggerTigerExecution(e);const c=r.pets;for(const h of c)s.dealDamage(h,1);const d=c.map(h=>h.name).join(", ");this.logService.createLog({message:`${s.name} dealt 1 damage to ${d} when ${t.name} fainted.`,type:"ability",player:s.parent,tiger:i,pteranodon:n,randomEvent:r.random}),this.triggerTigerExecution(e)}copy(e){return new fM(e,this.logService)}}class yM extends C{logService;abilityService;petService;name="Leviathan";tier=6;pack="Custom";attack=6;health=10;initAbilities(){this.addAbility(new bM(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(d,s,r,c,h,v)}}class bM extends _{logService;petService;constructor(e,t,i){super({name:"LeviathanAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:n}=e,s=6*this.level,r=2*this.level,c=this.petService.createPet({name:"Fish",attack:s,health:s,mana:0,exp:0,equipment:null,triggersConsumed:0},t.parent);c.increaseExp(r);const d=t.parent.summonPet(c,t.savedPosition,!1,t);d.success&&this.logService.createLog({message:`${t.name} summoned ${c.name} (${s}/${s}) and granted ${r} exp.`,type:"ability",player:t.parent,tiger:i,pteranodon:n,randomEvent:d.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new bM(e,this.logService,this.petService)}}class vM extends _{logService;usesThisTurn=0;constructor(e,t){super({name:"LionessAbility",owner:e,triggers:["StartTurn","FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,{trigger:i,triggerPet:n,tiger:s,pteranodon:r}=e;if("StartTurn"===i)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if("FriendSold"!==i)return void this.triggerTigerExecution(e);if(this.usesThisTurn>=2)return void this.triggerTigerExecution(e);this.usesThisTurn++;const c=n?.tier??t.tier,d="futureShopBuffs",h=t.parent[d]??new Map,v=h.get(c)??{attack:0,health:0};v.attack+=this.level,v.health+=this.level,h.set(c,v),t.parent[d]=h,this.logService.createLog({message:`${t.name} gave future tier ${c} shop pets +${this.level}/+${this.level} (uses ${this.usesThisTurn}/2 this turn).`,type:"ability",player:t.parent,tiger:s,pteranodon:r}),this.triggerTigerExecution(e)}copy(e){return new vM(e,this.logService)}}class AM extends _{logService;constructor(e,t){super({name:"MarkhorAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:n}=e,s=t.parent;if(s.trumpets<4)return void this.triggerTigerExecution(e);const r=s.petArray.filter(K=>K&&K!==t&&K.alive);if(0===r.length)return void this.triggerTigerExecution(e);s.trumpets-=4;const c=4*this.level,d=4*this.level,h=Math.floor(c/r.length),v=Math.floor(d/r.length),E=c-h*r.length,q=d-v*r.length;for(let K=0;K<r.length;K++){const le=r[K],Ae=K<q?1:0;le.increaseAttack(h+(K<E?1:0)),le.increaseHealth(v+Ae)}this.logService.createLog({message:`${t.name} spent 4 trumpets to grant ${c}/${d} evenly among ${r.length} friends.`,type:"ability",player:s,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new AM(e,this.logService)}}class SM extends _{logService;constructor(e,t){super({name:"PoodleAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:n}=e,s=[];for(let r=1;r<=6;r++){const c=t.parent.petArray.find(h=>h&&h.alive&&h!==t&&h.tier===r);if(!c)continue;const d=this.level;c.increaseAttack(d),c.increaseHealth(d),s.push(c)}if(s.length>0){const r=s.map(c=>c.name).join(", ");this.logService.createLog({message:`${t.name} buffed ${r} (+${this.level}/+${this.level}) at end of turn.`,type:"ability",player:t.parent,tiger:i,pteranodon:n})}this.triggerTigerExecution(e)}copy(e){return new SM(e,this.logService)}}class PM extends _{logService;constructor(e,t){super({name:"QuestingBeastAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=Math.max(1,Math.min(3,this.level)),n=Nt.getInjector().get(kr),s=n.toys.get(i)??[];if(0===s.length)return void this.triggerTigerExecution(e);const r=s[Jt(0,s.length-1)],c=n.createToy(r,t.parent,i);c?(t.parent.toy=c,t.parent.toy.used=!1,t.parent.toy.triggers=0,this.logService.createLog({message:`${t.name} created a level ${i} ${r} toy.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new PM(e,this.logService)}}class kM extends _{logService;constructor(e,t){super({name:"RockhopperPenguinAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,condition:()=>null==e.parent.pet0,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent.getThis(n),r=s.pet;if(!r)return void this.triggerTigerExecution(e);n.parent.pushPetToFront(r,!0);const c=12*this.level,d=n.parent.resolveTrumpetGainTarget(n);d.player.gainTrumpets(c,n,i,void 0,void 0,d.random),this.logService.createLog({message:`${n.name} jumped to the front and gained +${c} trumpets.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:s.random}),this.triggerTigerExecution(e)}copy(e){return new kM(e,this.logService)}}class _M extends _{logService;constructor(e,t){super({name:"SmallOneAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:n}=e,s=t.parent.getAll(!0,t).pets.filter(d=>d&&d!==t);if(0!==s.length){for(let d=0;d<this.level;d++)for(const h of s)t.dealDamage(h,h.parent===t.parent?2:4);this.logService.createLog({message:`${t.name} dealt 2 (4 vs enemies) damage ${this.level}x to all other pets.`,type:"ability",player:t.parent,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _M(e,this.logService)}}class wM extends _{logService;constructor(e,t){super({name:"StegosaurusAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:n,pteranodon:s}=e,r=10*this.level,c=t.parent.petArray.find(d=>d&&d!==t&&d.alive&&!d.equipment);c?(c.increaseAttack(r),c.increaseHealth(r),this.logService.createLog({message:`${t.name} gave ${c.name} +${r}/+${r} at start of battle.`,type:"ability",player:t.parent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new wM(e,this.logService)}}class TM extends _{logService;constructor(e,t){super({name:"SunfishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{gameApi:i,tiger:n,pteranodon:s}=e,r=i?.turnNumber??1;if(r%2==0)return void this.triggerTigerExecution(e);const c=4*this.level,h=t.parent.nearestPetsAhead(5,t,void 0,!0).pets;if(0===h.length)return void this.triggerTigerExecution(e);for(const E of h)t.dealDamage(E,c);const v=h.map(E=>E.name).join(", ");this.logService.createLog({message:`${t.name} hit ${v} ahead for ${c} damage because turn ${r} is odd.`,type:"ability",player:t.parent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new TM(e,this.logService)}}class CM extends C{logService;abilityService;petService;gameService;name="Good Dog";tier=5;pack="Unicorn";attack=3;health=3;hidden=!0;initAbilities(){this.addAbility(new EM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h,v,E){super(e,t,s),this.logService=e,this.abilityService=t,this.petService=i,this.gameService=n,this.initPet(h,r,c,d,v,E)}}class EM extends _{logService;constructor(e,t){super({name:"GoodDogAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getAll(!0,r),d=c.pets;if(0===d.length)return;const h=Nt.getInjector().get(pi).getInstanceOfAllEquipment(),E=new Map([[1,1],[2,3],[3,5]]).get(r.level)??1;let q=Array.from(h.values()).filter(K=>K&&(K.tier??1)>=E);q.length||(q=Array.from(h.values()).filter(K=>K));for(let K of d){if(!K.alive)continue;const ce=Pr(q[Math.floor(Math.random()*q.length)]);ce&&(this.logService.createLog({message:`${r.name} gave ${K.name} ${ce.name}`,type:"ability",player:r.parent,randomEvent:c.random,tiger:n}),K.givePetEquipment(ce))}this.triggerTigerExecution(e)}copy(e){return new EM(e,this.logService)}}const rL={Spider:cf,Whale:Ah,Parrot:$S,Stork:lb,"Shima Enaga":ub,Eagle:vk,Pelican:Bk,Falcon:Hp,"Beluga Whale":ov,Wolf:Gl,Pteranodon:zp,"Harpy Eagle":hM,"Sabertooth Tiger":Dp,Orca:Rb,Hippogriff:RD,"Goblin Shark":Qx,"Red Lipped Batfish":hD,Kappa:OD,Ammonite:Nu,"Iriomote Cat":td,Takhi:rA,"Roloway Monkey":uA,Bonobo:od,"Golden Tamarin":xg,"Bay Cat":SA,"California Condor":ld,"Silky Sifaka":TA,Abomination:Ju,"Sarcastic Fringehead":Lx,Leviathan:yM,Tadpole:ex},aL={Seagull:fD,"Good Dog":CM},x3=[Qx,hD,OD,Ju,td,rA,uA,od,xg,ld,TA,SA,cf,vk,lb,ub,$S,Ah,Bk,Hp,ov,Gl,zp,hM,Dp,Rb,Nu,Lx,RD,yM,ex],D3=[fD,CM],oL={"Beluga Whale":(o,e,t,i)=>new ov(o.logService,o.abilityService,i,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.belugaSwallowedPet),Abomination:(o,e,t,i)=>new Ju(o.logService,o.abilityService,i,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.abominationSwallowedPet1,e.abominationSwallowedPet2,e.abominationSwallowedPet3,e.abominationSwallowedPet1Level,e.abominationSwallowedPet2Level,e.abominationSwallowedPet3Level,e.abominationSwallowedPet1TimesHurt,e.abominationSwallowedPet2TimesHurt,e.abominationSwallowedPet3TimesHurt),"Sabertooth Tiger":(o,e,t,i)=>new Dp(o.logService,o.abilityService,i,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.timesHurt),Tuna:(o,e,t)=>new Ik(o.logService,o.abilityService,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.timesHurt),Slime:(o,e,t)=>new ZR(o.logService,o.abilityService,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed)},mw=[1,2,3],sL=(()=>{const o=["parrotCopyPet","parrotCopyPetBelugaSwallowedPet"];for(const e of mw){o.push(`parrotCopyPetAbominationSwallowedPet${e}`),o.push(`parrotCopyPetAbominationSwallowedPet${e}BelugaSwallowedPet`),o.push(`parrotCopyPetAbominationSwallowedPet${e}Level`),o.push(`parrotCopyPetAbominationSwallowedPet${e}TimesHurt`),o.push(`parrotCopyPetAbominationSwallowedPet${e}ParrotCopyPet`),o.push(`parrotCopyPetAbominationSwallowedPet${e}ParrotCopyPetBelugaSwallowedPet`);for(const t of mw)o.push(`parrotCopyPetAbominationSwallowedPet${e}ParrotCopyPetAbominationSwallowedPet${t}`),o.push(`parrotCopyPetAbominationSwallowedPet${e}ParrotCopyPetAbominationSwallowedPet${t}BelugaSwallowedPet`),o.push(`parrotCopyPetAbominationSwallowedPet${e}ParrotCopyPetAbominationSwallowedPet${t}Level`),o.push(`parrotCopyPetAbominationSwallowedPet${e}ParrotCopyPetAbominationSwallowedPet${t}TimesHurt`)}return o})(),lL=(()=>{const o=[];for(const e of mw){o.push(`abominationSwallowedPet${e}BelugaSwallowedPet`),o.push(`abominationSwallowedPet${e}ParrotCopyPet`),o.push(`abominationSwallowedPet${e}ParrotCopyPetBelugaSwallowedPet`);for(const t of mw)o.push(`abominationSwallowedPet${e}ParrotCopyPetAbominationSwallowedPet${t}`),o.push(`abominationSwallowedPet${e}ParrotCopyPetAbominationSwallowedPet${t}BelugaSwallowedPet`),o.push(`abominationSwallowedPet${e}ParrotCopyPetAbominationSwallowedPet${t}Level`),o.push(`abominationSwallowedPet${e}ParrotCopyPetAbominationSwallowedPet${t}TimesHurt`)}return o})(),R3=(o,e)=>{if(null==e||"string"==typeof e&&""===e.trim())return!1;const t=String(o);if(t.endsWith("Level")){const i="number"==typeof e?e:Number(e);return!!Number.isFinite(i)&&1!==i}if(t.endsWith("TimesHurt")){const i="number"==typeof e?e:Number(e);return!!Number.isFinite(i)&&0!==i}return!0};function cL(o,e){for(const t of e)if(R3(t,o[t]))return!0;return!1}function uL(o,e,t){for(const i of t){const n=e[i];if(null!=n){o[i]=n;continue}const s=String(i);o[i]=s.endsWith("Level")?1:s.endsWith("TimesHurt")?0:null}}let dL=(()=>{class o{logService;abilityService;gameService;equipmentService;equipmentCache=new Map;constructor(t,i,n,s){this.logService=t,this.abilityService=i,this.gameService=n,this.equipmentService=s}createPet(t,i,n,s,r){const c=t.constructor,d=t.parent,h=r??zd(t.level);for(const v of D3)if(t instanceof v)return new v(this.logService,this.abilityService,i,this.gameService,d,s,n,0,h);return x3.includes(c)?new c(this.logService,this.abilityService,i,d,s,n,0,h):new c(this.logService,this.abilityService,d,s,n,0,h)}createPetFromForm(t,i,n,s){const r=this.getPetBuildPlan(t,s),c=this.resolveEquipment(r.equipmentValue,r.equipmentUses),{name:d,health:h,attack:v,mana:E,exp:q,triggersConsumed:K,foodsEaten:le}=t;let ce=t.hasRandomEvents;void 0===ce&&n&&"function"==typeof n.isPetRandom&&(ce=n.isPetRandom(d));const Ye=Re=>Re&&r.needsPostInit?(Re=>{if(!Re)return Re;if(null!=le){const lt=Number(le);Number.isFinite(lt)&&(Re.foodsEaten=lt,Re.originalFoodsEaten=lt)}return r.hasTimesHurt&&null!=t.timesHurt&&(Re.timesHurt=t.timesHurt,Re.originalTimesHurt=t.timesHurt),ce&&(Re.hasRandomEvents=!0),Re})((Re=>(!r.hasParrotData||"Parrot"!==Re?.name||uL(Re,t,sL),Re))((Re=>(Re&&(r.hasSarcastic||r.hasFriendsDied)&&(Re.sarcasticFringeheadSwallowedPet=t.sarcasticFringeheadSwallowedPet??null,Re.friendsDiedBeforeBattle=t.friendsDiedBeforeBattle??0),Re))((Re=>(!r.hasAbominationData||"Abomination"!==Re?.name||uL(Re,t,lL),Re))(r.hasEquipmentUses?this.applyEquipmentUsesOverride(Re,t):Re)))):Re;if("gameservice"===r.builderKind&&r.PetClass)return Ye(new r.PetClass(this.logService,this.abilityService,n,this.gameService,i,h,v,E,q,c,K));if("special"===r.builderKind&&r.specialBuilder){const Re={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService},lt={...t,equipment:c};return Ye(r.specialBuilder(Re,lt,i,n))}return"petservice"===r.builderKind&&r.PetClass?Ye(new r.PetClass(this.logService,this.abilityService,n,i,h,v,E,q,c,K)):"registry"===r.builderKind&&r.PetClass?Ye(new r.PetClass(this.logService,this.abilityService,i,h,v,E,q,c,K)):null}applyEquipmentUsesOverride(t,i){return t&&(null!=i.equipmentUses&&(t.equipmentUsesOverride=i.equipmentUses),t)}resolveEquipmentFromForm(t,i){return this.resolveEquipment(t,i)}resolveEquipment(t,i){const n=i??("number"==typeof t?.uses?t.uses:null);if(t instanceof De){const q=Pr(t);if(null!=n){const K=Number(n);Number.isFinite(K)&&(q.uses=K,q.originalUses=K)}return q}const s=this.getEquipmentName(t);if(!s)return null;const r=Nt.getInjector(),c=this.equipmentService??(r?r.get(pi):null);if(!c)return null;const d=c.getInstanceOfAllEquipment(),h=c.getInstanceOfAllAilments(),v=d.get(s)??h.get(s);if(!v)return null;const E=Pr(v);if(null!=n){const q=Number(n);Number.isFinite(q)&&(E.uses=q,E.originalUses=q)}return E}getEquipmentName(t){return t?"string"==typeof t?t:("string"==typeof t.name?t.name:null)||null:null}getPetBuildPlan(t,i){const n=t.name,s=null!=t.equipmentUses,r="Parrot"===t.name&&cL(t,sL),c="Abomination"===t.name&&cL(t,lL),d=null!=t.sarcasticFringeheadSwallowedPet,h=(t.friendsDiedBeforeBattle??0)>0,v=(t.timesHurt??0)>0;let le,ce,K="missing";return aL[n]?(K="gameservice",le=aL[n]):oL[n]?(K="special",ce=oL[n]):rL[n]?(K="petservice",le=rL[n]):i[n]&&(K="registry",le=i[n]),{name:n,builderKind:K,PetClass:le,specialBuilder:ce,needsPostInit:s||r||c||d||h||v||null!=t.foodsEaten,hasParrotData:r,hasAbominationData:c,hasSarcastic:d,hasFriendsDied:h,hasTimesHurt:v,hasEquipmentUses:s,equipmentValue:t.equipment??null,equipmentUses:t.equipmentUses??null}}static \u0275fac=function(i){return new(i||o)(w.KVO(nr),w.KVO(Ea),w.KVO(Fr),w.KVO(pi))};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class xM extends _{logService;constructor(e,t){super({name:"TapirAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:n}=e,r=t.parent.getLastPet(void 0,t).pet;if(!r)return void this.triggerTigerExecution(e);const c=Math.min(3,Math.max(1,this.level)),d=10*c,h=1===c?0:2===c?2:5,v=Nt.getInjector().get(dL),E=Nt.getInjector().get(xr),q=v.createPet(r,E,d,d,h);if(!q)return void this.triggerTigerExecution(e);const K=t.parent.summonPet(q,t.savedPosition,!1,t);K.success&&this.logService.createLog({message:`${t.name} summoned a ${d}/${d} copy of ${r.name}.`,type:"ability",player:t.parent,tiger:i,pteranodon:n,randomEvent:K.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new xM(e,this.logService)}}const N3={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"},hL=new Map,pL=mu??Al;if(Array.isArray(pL))for(const o of pL){if(!o?.Name)continue;const e=new Set;for(const t of o.Packs??[]){const i=N3[t];i&&e.add(i)}e.size>0&&hL.set(o.Name,e)}class DM extends _{logService;constructor(e,t){super({name:"Tanystropheus Ability",owner:e,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent.pack,r=Nt.getInjector().get(xr),c=n.parent.petArray.some(q=>this.isPetInActivePack(q,s,r)),d=n.parent.petArray.some(q=>this.isFoodInActivePack(q.equipment?.name,s));if(c||d)return void this.triggerTigerExecution(e);const h=n.parent.getRandomEnemyPetsWithSillyFallback(3,[],!1,!0,n),v=h.pets;if(!v.length)return void this.triggerTigerExecution(e);const E=this.level;for(const q of v)q&&(q.exp=Math.max(0,(q.exp??0)-E));this.logService.createLog({message:`${n.name} removed ${E} XP from ${v.map(q=>q.name).join(", ")}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:h.random}),this.triggerTigerExecution(e)}isPetInActivePack(e,t,i){if(!i)return e.pack===t;if(Kc.includes(t))return(i.basePackPetsByName[t]?.get(e.tier)??[]).includes(e.name);const n=i.playerCustomPackPets.get(t);return n?n.get(e.tier)?.includes(e.name)??!1:e.pack===t}isFoodInActivePack(e,t){if(!e)return!1;const i=hL.get(e);return!!i&&i.has(t)}copy(e){return new DM(e,this.logService)}}class MM extends _{logService;constructor(e,t){super({name:"TarantulaHawkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner,c=Math.floor(r.attack/10);if(c<=0)return;let h=r.parent.opponent.getAll(!1,r).pets;if(0!=h.length){for(let v=0;v<c;v++)for(let E of h)E.increaseHealth(-this.level),this.logService.createLog({message:`${r.name} removed ${this.level} health from ${E.name}`,type:"ability",player:r.parent,tiger:n,pteranodon:s});this.triggerTigerExecution(e)}}copy(e){return new MM(e,this.logService)}}class IM extends _{logService;constructor(e,t){super({name:"TerrorBirdAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:n}=e,s=t.parent.petArray.filter(c=>c&&c!==t&&c.alive&&"Strawberry"===c.equipment?.name).sort((c,d)=>c.position-d.position).slice(0,this.level);if(0===s.length)return void this.triggerTigerExecution(e);for(const c of s)c.givePetEquipment(new eh);const r=s.map(c=>c.name).join(", ");this.logService.createLog({message:`${t.name} gave Peanut to ${r} at start of battle.`,type:"ability",player:t.parent,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new IM(e,this.logService)}}class RM extends _{logService;constructor(e,t){super({name:"TherizinosaurusAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithoutEquipment("Strawberry"),d=r.parent.getFurthestUpPets(this.level,c,r),h=d.pets;for(let v of h)v.givePetEquipment(new Qr),this.logService.createLog({message:`${r.name} gave ${v.name} Coconut.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:d.random});this.triggerTigerExecution(e)}copy(e){return new RM(e,this.logService)}}class LM extends _{logService;constructor(e,t){super({name:"VampireSquidAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=new Map;for(const h of n.parent.petArray)!h||h===n||!h.alive||!h.equipment||!(h.equipment.equipmentClass??"").startsWith("ailment")||s.has(h.equipment.name)||s.set(h.equipment.name,h);if(0===s.size)return void this.triggerTigerExecution(e);const r=this.level,c=2*this.level,d=[];s.forEach(h=>{h.increaseAttack(r),h.increaseHealth(c),d.push(h.name)}),this.logService.createLog({message:`${n.name} gave ${d.join(", ")} +${r}/+${c} at end of turn for having unique ailments.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new LM(e,this.logService)}}class NM extends _{logService;constructor(e,t){super({name:"WalrusAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent.getRandomPets(this.level,[n],!1,!1,n),r=s.pets;if(0===r.length)return void this.triggerTigerExecution(e);const c=[];for(const d of r)d.givePetEquipment(new ti),c.push(d.name);this.logService.createLog({message:`${n.name} gave Peanut Butter to ${c.join(", ")} on faint.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:s.random}),this.triggerTigerExecution(e)}copy(e){return new NM(e,this.logService)}}class FM extends _{logService;constructor(e,t){super({name:"WhiteTigerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.nearestPetsBehind(this.level,r);for(let d of c.pets)this.logService.createLog({message:`${r.name} gave ${d.name} +3 experience.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random}),d.increaseExp(3);this.triggerTigerExecution(e)}copy(e){return new FM(e,this.logService)}}class OM extends _{logService;constructor(e,t){super({name:"WinterSpiritAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,r=n.parent.nearestPetsAhead(2,n).pets;if(0===r.length)return void this.triggerTigerExecution(e);const c=5*this.level,d=[];for(const h of r)h.increaseMana(c),d.push(h.name);this.logService.createLog({message:`${n.name} gave ${d.join(", ")} +${c} mana at end of turn.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new OM(e,this.logService)}}class BM extends _{logService;constructor(e,t){super({name:"YellowBoxfishAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent.getAll(!0,n).pets.filter(h=>h&&h.alive&&h!==n);if(0===s.length)return void this.triggerTigerExecution(e);const c=[...s].sort((h,v)=>v.attack+v.health-(h.attack+h.health)).slice(0,this.level);if(0===c.length)return void this.triggerTigerExecution(e);for(const h of c)h.attack=20,h.health=20;const d=c.map(h=>h.name).join(", ");this.logService.createLog({message:`${n.name} set ${d} to 20/20 at faint.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new BM(e,this.logService)}}const U3={Basilisk:class Gg extends C{constructor(e,t,i){super(e,t,i),this.name="Basilisk",this.tier=3,this.pack="Custom",this.attack=5,this.health=2}initAbilities(){this.abilityList=[new EA(this,this.logService,this.abilityService)],super.initAbilities()}},Budgie:class $0 extends C{logService;abilityService;name="Budgie";tier=1;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new Hg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Duckling:class Ls extends C{logService;abilityService;name="Duckling";tier=1;pack="Custom";attack=1;health=2;initAbilities(){this.addAbility(new qg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Farmer Mouse":class xA extends C{logService;abilityService;name="Farmer Mouse";tier=1;pack="Custom";attack=2;health=3;initAbilities(){this.addAbility(new cd(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Frilled Dragon":class G0 extends C{logService;abilityService;name="Frilled Dragon";tier=1;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new ud(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Gibbon:class jg extends C{logService;abilityService;name="Gibbon";tier=1;pack="Custom";health=2;attack=1;initAbilities(){this.addAbility(new a(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Mouse:Jm,Nudibranch:class l extends C{logService;abilityService;name="Nudibranch";tier=1;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new u(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Peacock Spider":class p extends C{logService;abilityService;name="Peacock Spider";tier=1;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new f(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Pygmy Seahorse":class y extends C{logService;abilityService;name="Pygmy Seahorse";tier=1;pack="Custom";attack=3;health=1;initAbilities(){this.addAbility(new b(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Quoll:class A extends C{logService;abilityService;name="Quoll";tier=1;pack="Custom";attack=3;health=2;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Silverfish:class P extends C{logService;abilityService;name="Silverfish";tier=2;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new D(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Sloth:class N extends C{logService;abilityService;name="Sloth";tier=1;pack="Custom";attack=1;health=1;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Termite:class U extends C{logService;abilityService;name="Termite";tier=1;pack="Custom";health=4;attack=1;initAbilities(){this.addAbility(new Z(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Umbrella Bird":class ee extends C{logService;abilityService;name="Umbrella Bird";tier=1;pack="Custom";attack=3;health=2;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Weevil:class fe extends C{logService;abilityService;name="Weevil";tier=1;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new Ee(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Albino Squirrel":class Je extends C{logService;abilityService;name="Albino Squirrel";tier=2;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new ct(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Amphisbaena:class Ne extends C{logService;abilityService;name="Amphisbaena";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new Yt(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Atlantic Puffin":class rr extends C{logService;abilityService;name="Atlantic Puffin";tier=2;pack="Custom";attack=2;health=3;initAbilities(){this.addAbility(new Bi(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Chupacabra:class so extends C{logService;abilityService;name="Chupacabra";tier=2;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new lo(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Desert Rain Frog":class hw extends C{logService;abilityService;name="Desert Rain Frog";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new pw(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Dung Beetle":class XN extends C{logService;abilityService;name="Dung Beetle";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new H0(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Farmer Chicken":class QN extends C{logService;abilityService;name="Farmer Chicken";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new q0(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Frigatebird:class JN extends C{logService;abilityService;name="Frigatebird";tier=2;pack="Custom";attack=2;health=1;initAbilities(){this.addAbility(new j0(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}resetPet(){super.resetPet()}},"Fruit Fly":class ZN extends C{logService;abilityService;name="Fruit Fly";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new V0(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Giant Squirrel":class eF extends C{logService;abilityService;name="Giant Squirrel";tier=2;pack="Custom";attack=2;health=5;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Golden Beetle":class tF extends C{logService;abilityService;name="Golden Beetle";tier=2;pack="Custom";attack=2;health=3;initAbilities(){this.addAbility(new U0(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Hermit Crab":class iF extends C{logService;abilityService;name="Hermit Crab";tier=1;pack="Custom";attack=1;health=4;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Honduran White Bat":class nF extends C{logService;abilityService;name="Honduran White Bat";tier=2;pack="Custom";attack=1;health=1;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Mandarinfish:class rF extends C{logService;abilityService;name="Mandarinfish";tier=2;pack="Custom";attack=2;health=3;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Mink:class aF extends C{logService;abilityService;name="Mink";tier=2;pack="Custom";attack=3;health=3;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Nightcrawler:class oF extends C{logService;abilityService;name="Nightcrawler";tier=2;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new W0(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Olm:class sF extends C{logService;abilityService;name="Olm";tier=2;pack="Custom";attack=3;health=1;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}initAbilities(){this.addAbility(new K0(this,this.logService)),super.initAbilities()}},Panda:class lF extends C{logService;abilityService;name="Panda";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new z0(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Pink Robin":class cF extends C{logService;abilityService;name="Pink Robin";tier=1;pack="Custom";attack=3;health=2;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}initAbilities(){this.addAbility(new Y0(this)),super.initAbilities()}},Roadrunner:class uF extends C{logService;abilityService;name="Roadrunner";tier=2;pack="Custom";attack=4;health=1;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}initAbilities(){this.addAbility(new X0(this,this.logService)),super.initAbilities()}},Seahorse:class dF extends C{logService;abilityService;name="Seahorse";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new Q0(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Sphinx:class hF extends C{logService;abilityService;name="Sphinx";tier=2;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new J0(this)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Spotted Handfish":class pF extends C{logService;abilityService;name="Spotted Handfish";tier=2;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new Z0(this)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Tadpole:ex,"Thorny Dragon":class gF extends C{logService;abilityService;name="Thorny Dragon";tier=2;pack="Custom";attack=3;health=3;hasRandomEvents=!0;initAbilities(){this.addAbility(new ix(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Vervet:class mF extends C{logService;abilityService;name="Vervet";tier=2;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new nx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Warf:class fF extends C{logService;abilityService;name="Warf";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new rx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Wombat:class yF extends C{logService;abilityService;name="Wombat";tier=2;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new ax(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Yak:class bF extends C{logService;abilityService;name="Yak";tier=2;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new ox(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Aardvark:class vF extends C{constructor(e,t,i){super(e,t,i),this.name="Aardvark",this.tier=3,this.pack="Custom",this.attack=2,this.health=3}initAbilities(){this.abilityList=[new sx(this,this.logService)],super.initAbilities()}},"Axehandle Hound":class AF extends C{constructor(e,t,i){super(e,t,i),this.name="Axehandle Hound",this.attack=5,this.health=3,this.tier=3,this.pack="Custom"}initAbilities(){this.abilityList=[new lx(this,this.logService)],super.initAbilities()}},Barnacle:class SF extends C{constructor(e,t,i){super(e,t,i),this.name="Barnacle",this.tier=3,this.pack="Custom",this.attack=1,this.health=3}initAbilities(){this.abilityList=[new cx(this,this.logService)],super.initAbilities()}},Bear:class PF extends C{logService;abilityService;name="Bear";tier=3;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new ux(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Blue Dragon":class kF extends C{constructor(e,t,i){super(e,t,i),this.name="Blue Dragon",this.tier=3,this.pack="Custom",this.attack=3,this.health=4}initAbilities(){this.abilityList=[new dx(this,this.logService)],super.initAbilities()}},"Brazillian Treehopper":class _F extends C{constructor(e,t,i){super(e,t,i),this.name="Brazillian Treehopper",this.tier=3,this.pack="Custom",this.attack=2,this.health=3}initAbilities(){this.abilityList=[new hx(this,this.logService)],super.initAbilities()}},Caladrius:class wF extends C{logService;abilityService;name="Caladrius";tier=3;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new px(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Centipede:class TF extends C{logService;abilityService;name="Centipede";tier=3;pack="Custom";attack=1;health=4;initAbilities(){this.addAbility(new gx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Deer Lord":class CF extends C{logService;abilityService;name="Deer Lord";tier=3;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new mx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Dimetrodon:class EF extends C{logService;abilityService;name="Dimetrodon";tier=3;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new fx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Dugong:class DF extends C{logService;abilityService;name="Dugong";tier=3;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new yx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Eel:class MF extends C{logService;abilityService;name="Eel";tier=3;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new bx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Emperor Tamarin":class IF extends C{logService;abilityService;name="Emperor Tamarin";tier=3;pack="Custom";attack=3;health=6;initAbilities(){this.addAbility(new vx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Farmer Pig":class RF extends C{logService;abilityService;name="Farmer Pig";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new Ax(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Flying Squirrel":class LF extends C{constructor(e,t,i){super(e,t,i),this.name="Flying Squirrel",this.tier=3,this.pack="Custom",this.attack=3,this.health=3}initAbilities(){this.abilityList=[new Sx(this,this.logService)],super.initAbilities()}},"Foo Dog":class NF extends C{logService;abilityService;name="Foo Dog";tier=3;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new Px(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Gerenuk:class FF extends C{logService;abilityService;name="Gerenuk";tier=3;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new kx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Great Potoo":class OF extends C{logService;abilityService;name="Great Potoo";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new _x(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Jewel Caterpillar":class BF extends C{logService;abilityService;name="Jewel Caterpillar";tier=3;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new wx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Pangasius:class $F extends C{logService;abilityService;name="Pangasius";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new Tx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Patagonian Mara":class GF extends C{logService;abilityService;name="Patagonian Mara";tier=3;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new Cx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Pony:class HF extends C{logService;abilityService;name="Pony";tier=3;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new Ex(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Porcupine:class qF extends C{logService;abilityService;name="Porcupine";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new xx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Quail Chick":class jF extends C{logService;abilityService;name="Quail Chick";tier=3;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new Dx(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Queen Bee":class VF extends C{logService;abilityService;name="Queen Bee";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new Mx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Quetzalcoatlus:class UF extends C{logService;abilityService;name="Quetzalcoatlus";tier=3;pack="Custom";attack=2;health=3;initAbilities(){this.addAbility(new Ix(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Sage-Grouse":class WF extends C{logService;abilityService;name="Sage-Grouse";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new Rx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Sarcastic Fringehead":Lx,"Silkie Chicken":class KF extends C{logService;abilityService;name="Silkie Chicken";tier=3;pack="Custom";attack=1;health=4;initAbilities(){this.addAbility(new Fx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Slime:ZR,"Sugar Glider":class zF extends C{logService;abilityService;name="Sugar Glider";tier=3;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new Bx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Tree:class YF extends C{logService;abilityService;name="Tree";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new $x(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Vampire Parrot":class XF extends C{logService;abilityService;name="Vampire Parrot";tier=3;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new Gx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Wasp:class QF extends C{logService;abilityService;name="Wasp";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new Hx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Ahuizotl:class JF extends C{logService;abilityService;name="Ahuizotl";tier=4;pack="Custom";attack=3;health=6;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Andrewsarchus:class ZF extends C{logService;abilityService;name="Andrewsarchus";tier=4;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new jx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Anubis:class eO extends C{logService;abilityService;name="Anubis";tier=4;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new Vx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Bloodhound:class tO extends C{logService;abilityService;name="Bloodhound";tier=4;pack="Custom";attack=4;health=4;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Blue-Footed Booby":class iO extends C{logService;abilityService;name="Blue-Footed Booby";tier=4;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new Ux(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Crow:class nO extends C{logService;abilityService;name="Crow";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new Wx(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Deinocheirus:class rO extends C{logService;abilityService;name="Deinocheirus";tier=4;pack="Custom";attack=4;health=7;initAbilities(){this.addAbility(new Kx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Dragonfly:class aO extends C{logService;abilityService;name="Dragonfly";tier=4;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new zx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Fairy:class Nk extends C{logService;abilityService;name="Fairy";tier=4;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new Es(this)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Farmer Cat":class oO extends C{logService;abilityService;name="Farmer Cat";tier=4;pack="Custom";attack=4;health=3;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Gazelle:class sO extends C{logService;abilityService;name="Gazelle";tier=3;pack="Custom";attack=2;health=3;initAbilities(){this.addAbility(new Yx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Gelada:class lO extends C{logService;abilityService;name="Gelada";tier=4;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new Xx(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Goblin Shark":Qx,Hippocampus:class cO extends C{logService;abilityService;name="Hippocampus";tier=4;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new eD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Hoatzin:class uO extends C{logService;abilityService;name="Hoatzin";tier=4;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new tD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Jerboa:class dO extends C{logService;abilityService;name="Jerboa";tier=4;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new iD(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Leaf Gecko":class hO extends C{logService;abilityService;name="Leaf Gecko";tier=4;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new nD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Leafy Sea Dragon":class pO extends C{logService;abilityService;name="Leafy Sea Dragon";tier=4;pack="Custom";attack=7;health=2;initAbilities(){this.addAbility(new rD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Locust:class mO extends C{logService;abilityService;name="Locust";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new aD(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Lynx:class fO extends C{logService;abilityService;name="Lynx";tier=4;pack="Custom";attack=5;health=3;initAbilities(){this.addAbility(new oD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Old Mouse":class yO extends C{logService;abilityService;name="Old Mouse";tier=4;pack="Custom";attack=1;health=2;initAbilities(){this.addAbility(new sD(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Pegasus:class bO extends C{constructor(e,t,i){super(e,t,i),this.name="Pegasus",this.tier=4,this.pack="Custom",this.attack=2,this.health=4}initAbilities(){this.abilityList=[new lD(this,this.logService)],super.initAbilities()}},Platybelodon:class vO extends C{logService;abilityService;name="Platybelodon";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new cD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Poodle Moth":class AO extends C{logService;abilityService;name="Poodle Moth";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new uD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Racket Tail":class SO extends C{logService;abilityService;name="Racket Tail";tier=4;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new dD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Red Lipped Batfish":hD,Rootling:class PO extends C{logService;abilityService;name="Rootling";tier=4;pack="Custom";attack=1;health=8;initAbilities(){this.addAbility(new gD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Ruspoli's Turaco":class kO extends C{logService;abilityService;name="Ruspolis Turaco";tier=4;pack="Custom";attack=4;health=3;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Sea Anemone":class _O extends C{logService;abilityService;name="Sea Anemone";tier=4;pack="Custom";health=4;attack=3;initAbilities(){this.addAbility(new mD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Seagull:fD,"Spider Crab":class wO extends C{logService;abilityService;name="Spider Crab";tier=2;pack="Custom";attack=1;health=5;initAbilities(){this.addAbility(new bD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Spiny Bush Viper":class TO extends C{logService;abilityService;name="Spiny Bush Viper";tier=4;pack="Custom";attack=5;health=2;initAbilities(){this.addAbility(new vD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Tandgnost:wP,Tardigrade:class CO extends C{logService;abilityService;name="Tardigrade";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new AD(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Trout:class xO extends C{logService;abilityService;name="Trout";tier=4;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new SD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Yeti Crab":class DO extends C{logService;abilityService;name="Yeti Crab";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new PD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Blue Jay":class MO extends C{logService;abilityService;name="Blue Jay";tier=5;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new kD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Boitata:class IO extends C{logService;abilityService;name="Boitata";tier=5;pack="Custom";attack=2;health=9;initAbilities(){this.addAbility(new _D(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Brahma Chicken":class RO extends C{logService;abilityService;name="Brahma Chicken";tier=5;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new wD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Cuckoo:class LO extends C{logService;abilityService;name="Cuckoo";tier=5;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new TD(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Estemmenosuchus:class NO extends C{logService;abilityService;name="Estemmenosuchus";tier=5;pack="Custom";attack=4;health=6;initAbilities(){this.addAbility(new CD(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Farmer Crow":class OO extends C{logService;abilityService;name="Farmer Crow";tier=5;pack="Custom";attack=6;health=3;initAbilities(){this.addAbility(new ED(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Farmer Dog":class BO extends C{logService;abilityService;name="Farmer Dog";tier=6;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new xD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Flounder:class $O extends C{logService;abilityService;name="Flounder";tier=5;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new DD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Fox:class GO extends C{logService;abilityService;name="Fox";tier=5;pack="Custom";attack=6;health=4;initAbilities(){this.addAbility(new MD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Giant Isopod":class HO extends C{logService;abilityService;name="Giant Isopod";tier=5;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new ID(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Hippogriff:RD,Hyena:class qO extends C{logService;abilityService;name="Hyena";tier=5;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new ND(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Jackal:class jO extends C{logService;abilityService;name="Jackal";tier=5;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new FD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Kappa:OD,Lion:class VO extends C{logService;abilityService;name="Lion";tier=5;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new $D(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Lusca:class UO extends C{logService;abilityService;name="Lusca";tier=5;pack="Custom";attack=7;health=5;initAbilities(){this.addAbility(new GD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Maltese:class WO extends C{logService;abilityService;name="Maltese";tier=5;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new HD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Mimic:class KO extends C{logService;abilityService;name="Mimic";tier=5;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new qD(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Moose:class zO extends C{logService;abilityService;name="Moose";tier=5;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new jD(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Namazu:class YO extends C{logService;abilityService;name="Namazu";tier=5;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new VD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Nurikabe:class XO extends C{logService;abilityService;name="Nurikabe";tier=5;pack="Custom";attack=5;health=6;maxAbilityUses=3;initAbilities(){this.addAbility(new UD(this)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Pacific Fanfish":class QO extends C{logService;abilityService;name="Pacific Fanfish";tier=5;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new WD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Polar Bear":class JO extends C{logService;abilityService;name="Polar Bear";tier=5;pack="Custom";attack=4;health=8;initAbilities(){this.addAbility(new KD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Raccoon:class ZO extends C{logService;abilityService;name="Raccoon";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new zD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Sea Cucumber":class e3 extends C{logService;abilityService;name="Sea Cucumber";tier=5;pack="Custom";health=5;attack=3;initAbilities(){this.addAbility(new YD(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Siberian Husky":class t3 extends C{logService;abilityService;name="Siberian Husky";tier=5;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new XD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Silver Fox":class i3 extends C{logService;abilityService;name="Silver Fox";tier=5;pack="Custom";attack=3;health=6;initAbilities(){this.addAbility(new QD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Tandgrisner:TP,Tarasque:class n3 extends C{logService;abilityService;name="Tarasque";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new JD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Venus Flytrap":class r3 extends C{logService;abilityService;name="Venus Flytrap";tier=5;pack="Custom";attack=2;health=7;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Woolly Rhino":class a3 extends C{logService;abilityService;name="Woolly Rhino";tier=5;pack="Custom";attack=3;health=7;initAbilities(){this.addAbility(new ZD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Zebra:class o3 extends C{logService;abilityService;name="Zebra";tier=5;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new eM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Akhlut:class s3 extends C{logService;abilityService;name="Akhlut";tier=6;pack="Custom";attack=5;health=7;initAbilities(){this.addAbility(new tM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Albatross:class l3 extends C{logService;abilityService;name="Albatross";tier=6;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new iM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Amargasaurus:class c3 extends C{logService;abilityService;name="Amargasaurus";tier=5;pack="Star";attack=5;health=7;initAbilities(){this.addAbility(new nM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Bakunawa:class u3 extends C{logService;abilityService;name="Bakunawa";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new rM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Black Bear":class d3 extends C{logService;abilityService;name="Black Bear";tier=6;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new aM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Chimpanzee:class h3 extends C{logService;abilityService;name="Chimpanzee";tier=6;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new oM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Cockatrice:class p3 extends C{logService;abilityService;name="Cockatrice";tier=6;pack="Custom";attack=6;health=8;initAbilities(){this.addAbility(new sM(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Coconut Crab":class g3 extends C{logService;abilityService;name="Coconut Crab";tier=6;pack="Custom";attack=4;health=8;initAbilities(){this.addAbility(new lM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Dunkleosteus:class m3 extends C{logService;abilityService;name="Dunkleosteus";tier=6;pack="Custom";attack=6;health=8;initAbilities(){this.addAbility(new cM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Eagle Owl":class f3 extends C{logService;abilityService;name="Eagle Owl";tier=6;pack="Custom";attack=8;health=3;initAbilities(){this.addAbility(new uM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Great One":gy,"Hammerhead Shark":class y3 extends C{logService;abilityService;name="Hammerhead Shark";tier=6;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new dM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Harpy Eagle":hM,"Hooded Seal":class b3 extends C{logService;abilityService;name="Hooded Seal";tier=6;pack="Custom";attack=4;health=9;initAbilities(){this.addAbility(new gM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Komodo:class v3 extends C{logService;abilityService;name="Komodo";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new mM(this,this.logService,this.abilityService)),super.initAbilities()}endTurn(e){if(!e.komodoShuffle)return;let i=this.position;if(0==i)return;let s=this.shufflePets(0,i).map(r=>r.name).join(", ");this.logService.createLog({message:`${this.name} shuffled positions of pets (${s}).`,type:"ability",player:this.parent,randomEvent:!0})}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}shufflePets(e,t){let i=this.parent.petArray.slice(e,t);Ar(i);for(let n=0;n<i.length;n++)this.parent[`pet${n}`]=i[n];return i}},Lamprey:class A3 extends C{logService;abilityService;name="Lamprey";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new fM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Leviathan:yM,Lioness:class S3 extends C{logService;abilityService;name="Lioness";tier=6;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new vM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Markhor:class P3 extends C{logService;abilityService;name="Markhor";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new AM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Poodle:class k3 extends C{logService;abilityService;name="Poodle";tier=6;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new SM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Questing Beast":class _3 extends C{logService;abilityService;name="Questing Beast";tier=6;pack="Custom";attack=7;health=9;initAbilities(){this.addAbility(new PM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Rockhopper Penguin":class w3 extends C{logService;abilityService;name="Rockhopper Penguin";tier=6;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new kM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Small One":class T3 extends C{logService;abilityService;name="Small One";tier=6;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new _M(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Stegosaurus:class C3 extends C{logService;abilityService;name="Stegosaurus";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new wM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Sunfish:class E3 extends C{logService;abilityService;name="Sunfish";tier=6;pack="Custom";attack=4;health=10;initAbilities(){this.addAbility(new TM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Tapir:class L3 extends C{logService;abilityService;name="Tapir";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new xM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Tanystropheus:class F3 extends C{logService;abilityService;name="Tanystropheus";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new DM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Tarantula Hawk":class O3 extends C{logService;abilityService;name="Tarantula Hawk";tier=6;pack="Custom";health=2;attack=10;initAbilities(){this.addAbility(new MM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Terror Bird":class B3 extends C{logService;abilityService;name="Terror Bird";tier=6;pack="Custom";attack=8;health=3;initAbilities(){this.addAbility(new IM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Therizinosaurus:class $3 extends C{logService;abilityService;name="Therizinosaurus";tier=6;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new RM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Vampire Squid":class G3 extends C{logService;abilityService;name="Vampire Squid";tier=6;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new LM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Walrus:class H3 extends C{logService;abilityService;name="Walrus";tier=6;pack="Custom";attack=7;health=5;initAbilities(){this.addAbility(new NM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"White Tiger":class q3 extends C{logService;abilityService;name="White Tiger";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new FM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Winter Spirit":class j3 extends C{logService;abilityService;name="Winter Spirit";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new OM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Yellow Boxfish":class V3 extends C{logService;abilityService;name="Yellow Boxfish";tier=6;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new BM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Cuckoo Chick":nL};class $M extends _{logService;constructor(e,t){super({name:"BabyUrchinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.opponent.getFurthestUpPet(r),d=[c.pet],h=c.random;if(d[0]){for(let v=0;v<r.level-1;v++){let E;if(E=h?r.parent.opponent.getFurthestUpPet(r).pet:d[v].petBehind(),!E)break;d.push(E)}for(let v of d)v&&(v.increaseHealth(-4),this.logService.createLog({message:`${r.name} removed 4 health from ${v.name}.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h}));this.triggerTigerExecution(e)}}copy(e){return new $M(e,this.logService)}}class GM extends _{logService;constructor(e,t){super({name:"MimicOctopusAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent.getLowestHealthPets(r.level,void 0,r);for(let d of c.pets)r.snipePet(d,4,c.random,n);this.triggerTigerExecution(e)}copy(e){return new GM(e,this.logService)}}class HM extends _{logService;abilityService;constructor(e,t,i){super({name:"MobyDickAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}get triggers(){const e=["StartBattle"];return this.owner.level>1&&e.push("ThisSummoned"),e}set triggers(e){this._triggers=e}executeAbility(e){this.logService.createLog({message:`${this.owner.name} removed itself.`,type:"ability",player:this.owner.parent}),this.owner.removed=!0;const t=this.owner.parent;t&&(t.pet0===this.owner&&(t.pet0=null),t.pet1===this.owner&&(t.pet1=null),t.pet2===this.owner&&(t.pet2=null),t.pet3===this.owner&&(t.pet3=null),t.pet4===this.owner&&(t.pet4=null)),this.triggerTigerExecution(e)}copy(e){return new HM(e,this.logService,this.abilityService)}}class qM extends _{logService;constructor(e,t){super({name:"SalmonAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=1+Math.floor(r.health/25),d=5*this.level;for(let h=0;h<c;h++){let v=r.parent.opponent.getRandomPet([],!1,!0,!1,r);v.pet&&r.snipePet(v.pet,d,v.random,n)}this.triggerTigerExecution(e)}copy(e){return new qM(e,this.logService)}}const e4={...cR,...HE,...Rl,...c_,...$_,...YR,...U3,"Adult Flounder":class W3 extends C{logService;abilityService;name="Adult Flounder";tier=1;pack="Custom";hidden=!0;attack=2;health=4;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Angry Pygmy Hog":Zv,"Baby Urchin":class K3 extends C{logService;abilityService;name="Baby Urchin";tier=2;pack="Star";attack=2;health=1;initAbilities(){this.addAbility(new $M(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},Bee:Lh,Bus:Eo,Butterfly:gk,Chick:VS,"Chimera Goat":k_,"Chimera Lion":__,"Chimera Snake":w_,"Cooked Roach":class z3 extends C{logService;abilityService;name="Cooked Roach";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Cracked Egg":Pv,Daycrawler:XR,"Dirty Rat":xS,"Fairy Ball":_p,"Fake Nessie":class Y3 extends C{logService;abilityService;name="Fake Nessie";tier=1;pack="Custom";hidden=!0;attack=1;health=2;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Fire Pup":F_,"Giant Eyes Dog":Sy,"Golden Retriever":qm,"Good Dog":CM,Head:O_,"Lizard Tail":Rp,"Loyal Chinchilla":xo,"Mimic Octopus":class X3 extends C{logService;abilityService;name="Mimic Octopus";tier=6;pack="Star";attack=3;health=6;initAbilities(){this.addAbility(new GM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Moby Dick":class Q3 extends C{logService;abilityService;name="Moby Dick";tier=1;pack="Custom";hidden=!0;attack=8;health=8;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}initAbilities(){this.addAbility(new HM(this,this.logService,this.abilityService)),super.initAbilities()}},Monty:kP,"Nessie?":Ov,Nest:fs,Quail:QR,Ram:FS,Rock:dw,Salmon:class J3 extends C{logService;abilityService;name="Salmon";tier=1;pack="Star";attack=1;health=1;hidden=!0;initAbilities(){this.addAbility(new qM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Sleeping Gelada":tL,"Smaller Slime":JR,"Smaller Slug":i_,"Smallest Slug":nv,"Summoned Cockroach":Ck,"Tand and Tand":class Z3 extends C{logService;abilityService;name="Tand and Tand";tier=4;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,n,s,r,c,d,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,d,h)}},"Young Phoenix":Na,"Zombie Cricket":Zm,"Zombie Fly":QS},t4={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"};let xr=(()=>{class o{logService;abilityService;gameService;petFactory;turtlePackPets=new Map;puppyPackPets=new Map;starPackPets=new Map;goldenPackPets=new Map;unicornPackPets=new Map;customPackPets=new Map;dangerPackPets=new Map;playerCustomPackPets=new Map;allPets=new Map;tokenPetsMap=new Map;basePackPetsByName;startOfBattlePets=[];faintPetsByTier=new Map;constructor(t,i,n,s){this.logService=t,this.abilityService=i,this.gameService=n,this.petFactory=s,this.basePackPetsByName={Turtle:this.turtlePackPets,Puppy:this.puppyPackPets,Star:this.starPackPets,Golden:this.goldenPackPets,Unicorn:this.unicornPackPets,Danger:this.dangerPackPets,Custom:this.customPackPets}}buildCustomPackPets(t){for(let i of t.controls){let n=new Map;for(let s=1;s<=6;s++)n.set(s,i.get(`tier${s}Pets`).value);this.playerCustomPackPets.set(i.get("name").value,n)}}resetPackMaps(){const t=[this.turtlePackPets,this.puppyPackPets,this.starPackPets,this.goldenPackPets,this.unicornPackPets,this.dangerPackPets,this.customPackPets,this.tokenPetsMap];for(const i of t){i.clear();for(let n=1;n<=6;n++)i.set(n,[])}}getPetEntriesFromJson(){return(os??al??[]).filter(i=>!!i?.Name)}isPetRandom(t){return!0===this.petDataMap.get(t)?.Random}petDataMap=new Map;populatePackMaps(t){for(const i of t){i.Name&&this.petDataMap.set(i.Name,i);const n=Number(i.Tier);if(!Number.isFinite(n)||n<1||n>6)continue;const s=Array.isArray(i.Abilities)&&i.Abilities.length>0&&i.Abilities.every(c=>"No ability."===c?.About);if(!0!==i.Rollable||s)this.tokenPetsMap.get(n)?.push(i.Name);else for(const c of this.getPackNamesFromEntry(i)){const h=this.basePackPetsByName[c]?.get(n);h&&h.push(i.Name)}}for(const i of Object.values(this.basePackPetsByName))this.deduplicateTierMap(i);this.deduplicateTierMap(this.tokenPetsMap)}getPackNamesFromEntry(t){const i=new Set,n=new Set;Array.isArray(t.Packs)&&t.Packs.forEach(c=>{if(c){const d=c.trim();i.add(d),n.add(d)}}),!(n.has("Custom")||n.has("MiniPack1")||n.has("MiniPack2")||n.has("MiniPack3"))&&Array.isArray(t.PacksRequired)&&t.PacksRequired.forEach(c=>{c&&i.add(c.trim())});const r=new Set;for(const c of i){const d=t4[c];d&&r.add(d)}return Array.from(r)}deduplicateTierMap(t){for(const[i,n]of t)t.set(i,[...new Set(n)])}buildStartOfBattlePets(t){const i=new Set;for(const n of t)Array.isArray(n.Abilities)&&n.Abilities.some(s=>{const r=s?.About;return"string"==typeof r&&r.toLowerCase().includes("start of battle")})&&i.add(n.Name);return Array.from(i)}buildFaintPetsByTier(t){const i=new Map;for(let n=1;n<=6;n++)i.set(n,[]);for(const n of t){const s=Number(n.Tier);!Number.isFinite(s)||s<1||s>6||!0!==n.Rollable||!Array.isArray(n.Abilities)||!n.Abilities.some(c=>{const d=c?.About;return"string"==typeof d&&d.includes("Faint:")})||i.get(s)?.push(n.Name)}return this.deduplicateTierMap(i),i}init(){this.resetPackMaps();const t=this.getPetEntriesFromJson();this.populatePackMaps(t),this.startOfBattlePets=this.buildStartOfBattlePets(t),this.faintPetsByTier=this.buildFaintPetsByTier(t),this.setAllPets()}setAllPets(){this.allPets=new Map;for(let t=1;t<=6;t++)this.allPets.set(t,[]);for(const t of Kc){const i=this.basePackPetsByName[t];for(let[n,s]of i)this.allPets.get(n).push(...s)}for(let[t,i]of this.allPets)this.allPets.set(t,[...new Set(i)])}createPet(t,i){const n=this.petFactory.createPetFromForm(t,i,this,e4);if(n)return n;const s=this.petFactory.resolveEquipmentFromForm(t.equipment,t.equipmentUses);return new Jm(this.logService,this.abilityService,i,t.health,t.attack,t.mana,t.exp,s,t.triggersConsumed)}createDefaultVersionOfPet(t,i=null,n=null){return this.petFactory.createPet(t,this,i,n)}getRandomPet(t){let n,i=Jt(1,6);if(n=t.allPets?[...this.allPets.get(i)||[]]:"Turtle"==t.pack?[...this.turtlePackPets.get(i)||[]]:"Puppy"==t.pack?[...this.puppyPackPets.get(i)||[]]:"Star"==t.pack?[...this.starPackPets.get(i)||[]]:"Golden"==t.pack?[...this.goldenPackPets.get(i)||[]]:"Unicorn"==t.pack?[...this.unicornPackPets.get(i)||[]]:"Danger"==t.pack?[...this.dangerPackPets.get(i)||[]]:[...this.playerCustomPackPets.get(t.pack)?.get(i)||[]],t.tokenPets){const c=this.tokenPetsMap.get(i)||[];n.push(...c),n=[...new Set(n)]}(!n||0===n.length)&&(n=["Ant"]);let r=n[Jt(0,n.length-1)];return this.createPet({attack:null,equipment:null,exp:Jt(0,5),health:null,name:r,mana:null},t)}getRandomFaintPet(t,i,n=[]){this.faintPetsByTier?.size||(this.faintPetsByTier=this.buildFaintPetsByTier(this.getPetEntriesFromJson()));let s=[];s=i&&this.faintPetsByTier.get(i)?this.faintPetsByTier.get(i)??[]:Array.from(this.faintPetsByTier.values()).flat();const r=new Set(n.map(v=>v?.toLowerCase()));let d=s.filter(v=>!r.has(v.toLowerCase()));if(!d.length&&i){const v=Array.from(this.faintPetsByTier.values()).flat().filter(E=>!r.has(E.toLowerCase()));v.length&&(d=v)}d.length||(d=s);let h=d[Jt(0,d.length-1)];return this.createPet({name:h,attack:null,equipment:null,exp:0,health:null,mana:null},t)}static \u0275fac=function(i){return new(i||o)(w.KVO(nr),w.KVO(Ea),w.KVO(Fr),w.KVO(dL))};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const i4=["searchInput"];function n4(o,e){if(1&o){const t=g.RV6();g.j41(0,"button",16),g.bIt("click",function(){const n=w.eBV(t).$implicit,s=g.XpG(2);return w.Njj(s.selectPack(n))}),g.EFF(1),g.k0s()}if(2&o){const t=e.$implicit,i=g.XpG(2);g.AVh("btn-primary",i.selectedPack===t)("btn-outline-primary",i.selectedPack!==t),g.R7$(),g.SpI(" ",t," ")}}function r4(o,e){if(1&o&&(g.j41(0,"div",14),g.DNE(1,n4,2,5,"button",15),g.k0s()),2&o){const t=g.XpG();g.R7$(),g.Y8G("ngForOf",t.availablePacks)("ngForTrackBy",t.trackByPack)}}function a4(o,e){if(1&o){const t=g.RV6();g.j41(0,"div",17),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.onItemClick(null))}),g.j41(1,"div",18)(2,"span",19),g.EFF(3,"None"),g.k0s()(),g.j41(4,"div",20),g.EFF(5,"None"),g.k0s()()}}function o4(o,e){if(1&o&&(g.j41(0,"div",24),g.EFF(1),g.k0s()),2&o){const t=g.XpG().$implicit;g.R7$(),g.SpI(" ",t.category," ")}}function s4(o,e){if(1&o&&g.nrm(0,"img",27),2&o){const t=g.XpG(2).$implicit;g.Y8G("ngSrc",t.icon)("alt",t.name)}}function l4(o,e){if(1&o&&(g.j41(0,"div",28),g.EFF(1),g.k0s()),2&o){const t=g.XpG(2).$implicit;g.R7$(),g.SpI(" ",t.tier," ")}}function c4(o,e){if(1&o&&(g.qex(0),g.DNE(1,s4,1,2,"img",25)(2,l4,2,1,"div",26),g.bVm()),2&o){const t=g.XpG().$implicit;g.R7$(),g.Y8G("ngIf",t.icon),g.R7$(),g.Y8G("ngIf",t.tier>0)}}function u4(o,e){if(1&o&&g.nrm(0,"img",31),2&o){const t=e.$implicit,i=g.XpG(2).$implicit;g.Y8G("ngSrc",t)("alt",i.name)}}function d4(o,e){if(1&o&&(g.j41(0,"div",29),g.DNE(1,u4,1,2,"img",30),g.k0s()),2&o){const t=g.XpG().$implicit,i=g.XpG();g.R7$(),g.Y8G("ngForOf",t.icons)("ngForTrackBy",i.trackByIndex)}}function h4(o,e){if(1&o){const t=g.RV6();g.qex(0),g.DNE(1,o4,2,1,"div",21),g.j41(2,"div",22),g.bIt("click",function(){const n=w.eBV(t).$implicit,s=g.XpG();return w.Njj(s.onItemClick(n))}),g.j41(3,"div",18),g.DNE(4,c4,3,2,"ng-container",23)(5,d4,2,2,"ng-template",null,1,g.C5r),g.k0s(),g.j41(7,"div",20),g.EFF(8),g.k0s()(),g.bVm()}if(2&o){const t=e.$implicit,i=e.index,n=g.sdS(6),s=g.XpG();g.R7$(),g.Y8G("ngIf",0===i||s.filteredItems[i-1].category!==t.category),g.R7$(),g.AVh("team-card","team"===s.type),g.Y8G("appTooltip",t.tooltip||t.displayName||t.name),g.R7$(),g.AVh("team-container","team"===s.type),g.R7$(),g.Y8G("ngIf","team"!==s.type)("ngIfElse",n),g.R7$(4),g.JRh(t.displayName||t.name)}}function p4(o,e){if(1&o&&(g.j41(0,"div",32),g.EFF(1),g.k0s()),2&o){const t=g.XpG();g.R7$(),g.SpI(' No items found matching "',t.searchQuery,'" ')}}let gL=(()=>{class o{petService;equipmentService;toyService;type="pet";currentPack="Turtle";showTokenPets=!1;showAllPets=!1;customPacks=null;savedTeams=[];select=new w.bkB;close=new w.bkB;searchInput;searchQuery="";selectedPack="All";availablePacks=["All",...ua,"Tokens"];items=[];filteredItems=[];customPacksSubscription=null;basePetItems=null;tokenItems=[];equipmentItems=null;toyItems=null;hardToyItems=null;searchDebounceHandle=null;trackByPack(t,i){return i??String(t)}trackByItem(t,i){return i?.id??i?.name??t}trackByIndex(t){return t}constructor(t,i,n){this.petService=t,this.equipmentService=i,this.toyService=n}ngOnInit(){this.updateAvailablePacks(),this.customPacks&&this.customPacks instanceof Y.Yp&&(this.customPacksSubscription=this.customPacks.valueChanges.subscribe(()=>{this.updateAvailablePacks(),this.loadItems()})),this.showAllPets?this.selectedPack="All":this.currentPack&&"custom"!==this.currentPack&&(this.selectedPack=this.currentPack),this.availablePacks.includes(this.selectedPack)||(this.selectedPack="All"),this.loadItems()}ngAfterViewInit(){setTimeout(()=>{this.searchInput?.nativeElement?.focus(),this.searchInput?.nativeElement?.select()})}ngOnDestroy(){this.customPacksSubscription&&this.customPacksSubscription.unsubscribe(),this.searchDebounceHandle&&(clearTimeout(this.searchDebounceHandle),this.searchDebounceHandle=null)}updateAvailablePacks(){if(this.availablePacks=["All",...ua,"Tokens"],this.customPacks&&this.customPacks instanceof Y.Yp){const t=this.customPacks;for(const i of t.controls){const n=i.get("name")?.value;n&&i.valid&&this.availablePacks.push(n)}}this.availablePacks.includes(this.selectedPack)||(this.selectedPack="All")}loadItems(){"pet"===this.type||"swallowed-pet"===this.type?this.loadPets():"equipment"===this.type?this.loadEquipment():"toy"===this.type?this.loadToys(!1):"hard-toy"===this.type?this.loadToys(!0):"pack"===this.type?this.loadPacks():"team"===this.type&&this.loadTeams(),this.filterItems()}loadPets(){const t=[];if(!this.basePetItems){const n=[];for(const s of ua){const r=this.petService.basePackPetsByName[s];if(r)for(const[c,d]of r)d.forEach(h=>{n.push({name:h,displayName:h,tier:c,pack:s,icon:tr(h),tooltip:Xm(h),type:"pet",category:`Tier ${c}`})})}this.basePetItems=n}if(t.push(...this.basePetItems),this.customPacks&&this.customPacks instanceof Y.Yp){const n=this.customPacks;for(const s of n.controls){const r=s.get("name")?.value;if(!r||!s.valid)continue;const c=this.petService.playerCustomPackPets.get(r);if(c)for(const[d,h]of c)h.forEach(v=>{t.push({name:v,displayName:v,tier:d,pack:r,icon:tr(v),tooltip:Xm(v),type:"pet",category:`Tier ${d}`})})}}this.tokenItems=this.buildTokenItems(),t.push(...this.tokenItems);const i=new Map;t.forEach(n=>{const s=i.get(n.name);s?"Tokens"===s.pack&&"Tokens"!==n.pack&&i.set(n.name,n):i.set(n.name,n)}),this.items=Array.from(i.values())}loadEquipment(){if(!this.equipmentItems){const t=[],i=this.equipmentService.getInstanceOfAllEquipment(),n=this.equipmentService.getInstanceOfAllAilments();i.forEach((s,r)=>{"Corncob"===s?.name||"Mana Potion"===s?.name||t.push({name:r,displayName:s.name,tier:s.tier||0,icon:ir(s.name),tooltip:AS(s.name),type:"equipment",category:s.tier?`Tier ${s.tier}`:"Perks",item:s})}),n.forEach((s,r)=>{t.push({name:r,displayName:s.name,tier:0,icon:ir(s.name,!0),tooltip:AS(s.name),type:"ailment",category:"Ailments",item:s})}),this.equipmentItems=t}this.items=this.equipmentItems}loadTeams(){const t=Array.isArray(this.savedTeams)?this.savedTeams:[];this.items=t.map(i=>{const n=(i.pets||[]).map(r=>r?.name).filter(Boolean).slice(0,5),s=n.map(r=>tr(r));return{id:i.id,name:i.name,displayName:i.name,tier:0,icon:null,icons:s,tooltip:n.join(", "),type:"team",category:"Saved Teams"}})}loadToys(t){if(!(t?this.hardToyItems:this.toyItems)){const n=[];this.toyService.getToysByType(t?1:0).forEach((r,c)=>{r.forEach(d=>{n.push({name:d,displayName:d,tier:c,icon:Yc(d),tooltip:ET(d),type:t?"hard-toy":"toy",category:`Tier ${c}`,item:d})})}),t?this.hardToyItems=n:this.toyItems=n}this.items=t?this.hardToyItems:this.toyItems}loadPacks(){const t=[];for(const i of ua)"Custom"!==i&&t.push({name:i,displayName:i,tier:0,icon:Qm(i),type:"pack",category:"Packs"});if(this.customPacks&&this.customPacks instanceof Y.Yp){const i=this.customPacks;for(const n of i.controls){const s=n.get("name")?.value;if(s&&n.valid){const r=this.getFirstCustomPackPet(n);t.push({name:s,displayName:s,tier:0,icon:r?tr(r):Qm(s),type:"pack",category:"Custom Packs"})}}}t.push({name:"Add Custom Pack",displayName:"+ Add Custom Pack",tier:0,icon:tr("White Tiger"),type:"pack",category:"Custom Packs"}),this.items=t}filterItems(){let t=this.items;if(("pet"===this.type||"swallowed-pet"===this.type)&&("Tokens"===this.selectedPack?t=this.tokenItems:"All"!==this.selectedPack&&(t=t.filter(i=>i.pack===this.selectedPack||"swallowed-pet"===this.type&&"Tokens"===i.pack))),this.searchQuery){const i=this.searchQuery.toLowerCase();t=t.filter(n=>n.name.toLowerCase().includes(i)||n.displayName&&n.displayName.toLowerCase().includes(i))}this.filteredItems=[...t].sort((i,n)=>"Ailments"===i.category&&"Ailments"!==n.category?1:"Ailments"!==i.category&&"Ailments"===n.category?-1:i.category!==n.category?i.category.localeCompare(n.category):i.tier!==n.tier?i.tier-n.tier:i.name.localeCompare(n.name))}onSearchChange(){this.searchDebounceHandle&&clearTimeout(this.searchDebounceHandle),this.searchDebounceHandle=setTimeout(()=>{this.searchDebounceHandle=null,this.filterItems()},50)}selectPack(t){this.selectedPack=t,this.filterItems()}onItemClick(t){this.select.emit(t?"team"!==this.type?"pet"===this.type||"swallowed-pet"===this.type||"pack"===this.type?t.name:t.item:t.id||t.name:null)}onCancel(){this.close.emit()}getFirstCustomPackPet(t){for(let i=1;i<=6;i++){const n=t.get(`tier${i}Pets`)?.value;if(Array.isArray(n)){const s=n.find(r=>!!r);if(s)return s}}return null}buildTokenItems(){const t=[];for(const[i,n]of this.petService.tokenPetsMap)n.forEach(s=>{t.push({name:s,displayName:s,tier:i,pack:"Tokens",icon:tr(s),tooltip:Xm(s),type:"pet",category:"Tokens"})});return t}static \u0275fac=function(i){return new(i||o)(g.rXU(xr),g.rXU(pi),g.rXU(kr))};static \u0275cmp=g.VBU({type:o,selectors:[["app-item-selection-dialog"]],viewQuery:function(i,n){if(1&i&&g.GBs(i4,5),2&i){let s;g.mGM(s=g.lsd())&&(n.searchInput=s.first)}},inputs:{type:"type",currentPack:"currentPack",showTokenPets:"showTokenPets",showAllPets:"showAllPets",customPacks:"customPacks",savedTeams:"savedTeams"},outputs:{select:"select",close:"close"},decls:15,vars:9,consts:[["searchInput",""],["teamIcons",""],[1,"selection-overlay",3,"click"],[1,"selection-dialog","card","shadow-lg",3,"click"],[1,"dialog-header"],[1,"btn-close",3,"click"],[1,"dialog-body"],[1,"search-container"],["type","text","placeholder","Search...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["class","pack-filters",4,"ngIf"],[1,"items-grid","scroll"],["class","item-card none-card",3,"click",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","no-results",4,"ngIf"],[1,"pack-filters"],["class","btn btn-sm",3,"btn-primary","btn-outline-primary","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-sm",3,"click"],[1,"item-card","none-card",3,"click"],[1,"item-icon-container"],[1,"none-icon"],[1,"item-name"],["class","category-header",4,"ngIf"],[1,"item-card",3,"click","appTooltip"],[4,"ngIf","ngIfElse"],[1,"category-header"],["width","48","height","48","loading","lazy","decoding","async","class","item-icon",3,"ngSrc","alt",4,"ngIf"],["class","tier-badge",4,"ngIf"],["width","48","height","48","loading","lazy","decoding","async",1,"item-icon",3,"ngSrc","alt"],[1,"tier-badge"],[1,"team-icon-strip"],["width","32","height","32","loading","lazy","decoding","async","class","team-icon",3,"ngSrc","alt",4,"ngFor","ngForOf","ngForTrackBy"],["width","32","height","32","loading","lazy","decoding","async",1,"team-icon",3,"ngSrc","alt"],[1,"no-results"]],template:function(i,n){if(1&i){const s=g.RV6();g.j41(0,"div",2),g.bIt("click",function(){return w.eBV(s),w.Njj(n.onCancel())}),g.j41(1,"div",3),g.bIt("click",function(c){return w.eBV(s),w.Njj(c.stopPropagation())}),g.j41(2,"div",4)(3,"h3"),g.EFF(4),g.k0s(),g.j41(5,"button",5),g.bIt("click",function(){return w.eBV(s),w.Njj(n.onCancel())}),g.k0s()(),g.j41(6,"div",6)(7,"div",7)(8,"input",8,0),g.mxI("ngModelChange",function(c){return w.eBV(s),g.DH7(n.searchQuery,c)||(n.searchQuery=c),w.Njj(c)}),g.bIt("ngModelChange",function(){return w.eBV(s),w.Njj(n.onSearchChange())}),g.k0s()(),g.DNE(10,r4,2,2,"div",9),g.j41(11,"div",10),g.DNE(12,a4,6,0,"div",11)(13,h4,9,9,"ng-container",12)(14,p4,2,1,"div",13),g.k0s()()()()}2&i&&(g.R7$(4),g.SpI(" Select ","pet"===n.type?"Pet":"swallowed-pet"===n.type?"Swallowed Pet":"equipment"===n.type?"Equipment":"toy"===n.type?"Toy":"hard-toy"===n.type?"Hard Toy":"team"===n.type?"Team":"Pack"," "),g.R7$(4),g.R50("ngModel",n.searchQuery),g.R7$(2),g.Y8G("ngIf","pet"===n.type||"swallowed-pet"===n.type),g.R7$(),g.AVh("team-grid","team"===n.type),g.R7$(),g.Y8G("ngIf","swallowed-pet"!==n.type&&"pack"!==n.type),g.R7$(),g.Y8G("ngForOf",n.filteredItems)("ngForTrackBy",n.trackByItem),g.R7$(),g.Y8G("ngIf",0===n.filteredItems.length))},dependencies:[si.MD,si.Sq,si.bT,Wi,Y.YN,Y.me,Y.BC,Y.vS,iR],styles:['.selection-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;backdrop-filter:blur(4px);z-index:1000;display:flex;align-items:center;justify-content:center}.selection-dialog[_ngcontent-%COMP%]{width:90%;max-width:600px;height:80vh;background:#fff;border-radius:12px;display:flex;flex-direction:column;overflow:hidden;animation:_ngcontent-%COMP%_slideUp .3s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.dialog-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center;background:#f8f9fa}.dialog-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600}.dialog-body[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column;gap:1rem;flex:1;overflow:hidden}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{border-radius:8px;padding:.6rem 1rem;background:#f1f3f5;border:2px solid transparent;transition:all .2s}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{background:#fff;border-color:#33377a;box-shadow:0 0 0 4px #33377a1a}.pack-filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.4rem;padding-bottom:.5rem;border-bottom:1px solid #eee}.pack-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px;padding:.2rem .8rem;font-size:.8rem;text-transform:capitalize}.items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:.75rem;padding:.5rem .5rem .75rem;overflow-y:auto;flex:1}.items-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.items-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.items-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border-radius:3px}.items-grid.team-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(160px,1fr));justify-content:stretch;gap:.6rem}.category-header[_ngcontent-%COMP%]{grid-column:1/-1;padding:.25rem .5rem .2rem;font-size:.85rem;font-weight:700;color:#33377a;text-transform:uppercase;letter-spacing:.05em;border-bottom:1px solid rgba(51,55,122,.1);margin-top:.15rem}.item-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:.5rem;border-radius:8px;cursor:pointer;transition:all .2s;text-align:center;position:relative;z-index:1}.item-card[_ngcontent-%COMP%]:hover{background:#f1f3f5;transform:translateY(-2px)}.item-card.none-card[_ngcontent-%COMP%]   .none-icon[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#868e96;text-transform:uppercase}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]{position:relative;width:48px;height:48px;display:flex;align-items:center;justify-content:center;margin-bottom:.4rem}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#e67e22;color:#fff;font-size:.75rem;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;box-shadow:0 2px 4px #0003;border:1.5px solid white}.item-card[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-size:.75rem;color:#495057;word-break:break-word;line-height:1.1}.item-card.team-card[_ngcontent-%COMP%]{align-items:stretch;width:100%;padding:.45rem}.item-card.team-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]{width:100%;height:auto;margin-bottom:.35rem}.item-card.team-card[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{text-align:center}.item-card.has-tooltip[_ngcontent-%COMP%]:hover:after, .item-card.has-tooltip[_ngcontent-%COMP%]:focus-visible:after{content:attr(data-tooltip);position:fixed;top:var(--tooltip-top);left:var(--tooltip-left);transform:translateZ(0) translateY(-2px);background:#141623f2;color:#f8f9fa;padding:.45rem .6rem;border-radius:8px;font-size:.72rem;line-height:1.2;width:fit-content;max-width:var(--tooltip-max-width, 200px);max-height:var(--tooltip-max-height, 140px);text-align:left;white-space:pre-wrap;word-break:break-word;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:6;box-shadow:0 12px 28px #0000003d;z-index:2000;pointer-events:none}.item-card.has-tooltip[_ngcontent-%COMP%]:hover:before, .item-card.has-tooltip[_ngcontent-%COMP%]:focus-visible:before{content:"";position:fixed;top:var(--tooltip-arrow-top);left:var(--tooltip-arrow-left);transform:translate(-50%);border:8px solid transparent;z-index:1999;pointer-events:none}.item-card[data-tooltip-placement=bottom][_ngcontent-%COMP%]:hover:before, .item-card[data-tooltip-placement=bottom][_ngcontent-%COMP%]:focus-visible:before{border-bottom-color:#141623f2}.item-card[data-tooltip-placement=top][_ngcontent-%COMP%]:hover:before, .item-card[data-tooltip-placement=top][_ngcontent-%COMP%]:focus-visible:before{border-top-color:#141623f2}.item-card[data-tooltip-placement=left][_ngcontent-%COMP%]:hover:before, .item-card[data-tooltip-placement=left][_ngcontent-%COMP%]:focus-visible:before{border-left-color:#141623f2}.item-card[data-tooltip-placement=right][_ngcontent-%COMP%]:hover:before, .item-card[data-tooltip-placement=right][_ngcontent-%COMP%]:focus-visible:before{border-right-color:#141623f2}.no-results[_ngcontent-%COMP%]{grid-column:1/-1;padding:2rem;text-align:center;color:#868e96;font-style:italic}.night[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]{background:#2d2d2d;color:#eee}.night[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]{background:#1a1a1a;border-bottom-color:#444}.night[_nghost-%COMP%]   .item-name[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#ccc}.night[_nghost-%COMP%]   .item-card[_ngcontent-%COMP%]:hover, .night   [_nghost-%COMP%]   .item-card[_ngcontent-%COMP%]:hover{background:#3d3d3d}.night[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]{background:#3d3d3d;color:#eee}.night[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]:focus, .night   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{background:#444}.night[_nghost-%COMP%]   .pack-filters[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .pack-filters[_ngcontent-%COMP%]{border-bottom-color:#444}.team-icon-strip[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:3px;width:100%;justify-items:center}.team-icon[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain;background:#f5f6f8;border-radius:6px;border:1px solid rgba(0,0,0,.08)}'],changeDetection:0})}return o})(),g4=(()=>{class o{formGroup;setExp(t){this.formGroup.get("exp")?.setValue(t)}getIsSelected(t){return(this.formGroup.get("exp")?.value??0)>=t}showRemoveExp(){return(this.formGroup.get("exp")?.value??0)>0}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=g.VBU({type:o,selectors:[["app-pet-level-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup"},decls:20,vars:15,consts:[[3,"formGroup"],[1,"col-12","d-flex","level-bar-numbers","mb-1"],[1,"remove-exp","spacer"],[1,"level-slots-labels","d-flex","flex-grow-1"],[1,"level-icon"],["ngSrc","assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/l1.png","width","18","height","18","loading","lazy","decoding","async","alt","Level 1"],["ngSrc","assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/l2.png","width","18","height","18","loading","lazy","decoding","async","alt","Level 2"],[1,"level-icon","level-3"],["ngSrc","assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/l3.png","width","18","height","18","loading","lazy","decoding","async","alt","Level 3"],[1,"col-12","d-flex","level-bar","mb-2"],[1,"remove-exp",3,"click"],[3,"click"]],template:function(i,n){1&i&&(g.qex(0,0),g.j41(1,"div",1),g.nrm(2,"span",2),g.j41(3,"div",3)(4,"span",4),g.nrm(5,"img",5),g.k0s(),g.nrm(6,"span"),g.j41(7,"span",4),g.nrm(8,"img",6),g.k0s(),g.nrm(9,"span"),g.j41(10,"span",7),g.nrm(11,"img",8),g.k0s()()(),g.j41(12,"div",9)(13,"span",10),g.bIt("click",function(){return n.setExp(0)}),g.EFF(14,"x"),g.k0s(),g.j41(15,"span",11),g.bIt("click",function(){return n.setExp(1)}),g.k0s(),g.j41(16,"span",11),g.bIt("click",function(){return n.setExp(2)}),g.k0s(),g.j41(17,"span",11),g.bIt("click",function(){return n.setExp(3)}),g.k0s(),g.j41(18,"span",11),g.bIt("click",function(){return n.setExp(4)}),g.k0s(),g.j41(19,"span",11),g.bIt("click",function(){return n.setExp(5)}),g.k0s()(),g.bVm()),2&i&&(g.Y8G("formGroup",n.formGroup),g.R7$(2),g.xc7("visibility",n.showRemoveExp()?"visible":"hidden"),g.R7$(11),g.xc7("visibility",n.showRemoveExp()?"visible":"hidden"),g.R7$(2),g.AVh("selected",n.getIsSelected(1)),g.R7$(),g.AVh("selected",n.getIsSelected(1)&&n.getIsSelected(2)),g.R7$(),g.AVh("selected",n.getIsSelected(1)&&n.getIsSelected(3)),g.R7$(),g.AVh("selected",n.getIsSelected(1)&&n.getIsSelected(4)),g.R7$(),g.AVh("selected",n.getIsSelected(1)&&n.getIsSelected(5)))},dependencies:[si.MD,Wi,Y.X1,Y.cb,Y.j4],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(fist-from-textmap.9771b19acdf1bddd.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(heart-from-textmap.f0bd8a09c9d0889c.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(mana-from-textmap.f400c0a4b51c3594.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-label[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:600;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:500;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.9rem;text-shadow:0 2px 4px rgba(0,0,0,.5)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:700;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return o})();function m4(o,e){1&o&&(g.j41(0,"div",8)(1,"label",9),g.EFF(2,"Times Hurt"),g.k0s(),g.nrm(3,"input",10),g.k0s())}function f4(o,e){1&o&&(g.j41(0,"div",8)(1,"label",11),g.EFF(2,"Friends Fainted in Shop"),g.k0s(),g.nrm(3,"input",12),g.k0s())}function y4(o,e){1&o&&(g.j41(0,"div",14)(1,"div",15),g.nrm(2,"input",16),g.k0s()())}function b4(o,e){1&o&&(g.j41(0,"div",14),g.nrm(1,"input",17),g.k0s())}function v4(o,e){1&o&&(g.qex(0),g.j41(1,"div",3)(2,"div",15),g.nrm(3,"input",16),g.k0s()(),g.j41(4,"div",3),g.nrm(5,"input",18),g.k0s(),g.bVm())}function A4(o,e){if(1&o&&(g.qex(0),g.DNE(1,y4,3,0,"div",13)(2,b4,2,0,"div",13)(3,v4,6,0,"ng-container",2),g.bVm()),2&o){const t=g.XpG();g.R7$(),g.Y8G("ngIf",t.mana&&!t.triggersConsumed),g.R7$(),g.Y8G("ngIf",!t.mana&&t.triggersConsumed),g.R7$(),g.Y8G("ngIf",t.mana&&t.triggersConsumed)}}function S4(o,e){1&o&&(g.j41(0,"div",8)(1,"label",19),g.EFF(2,"Foods Eaten"),g.k0s(),g.nrm(3,"input",20),g.k0s())}let P4=(()=>{class o{formGroup;petName=null;mana=!1;triggersConsumed=!1;attackHealthMax=100;friendsDiedCaps=new Map([["Vulture",1],["Saiga Antelope",1],["Secretary Bird",1],["Mimic",2]]);foodsEatenPets=new Set(["Black Bear","Blue Jay","Dung Beetle","Locust"]);shouldShowFriendsDiedInput(){return!!this.petName&&this.friendsDiedCaps.has(this.petName)}shouldShowFoodsEatenInput(){return!!this.petName&&this.foodsEatenPets.has(this.petName)}getFriendsDiedMax(){return this.petName?this.friendsDiedCaps.get(this.petName)??5:5}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=g.VBU({type:o,selectors:[["app-pet-stats-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup",petName:"petName",mana:"mana",triggersConsumed:"triggersConsumed",attackHealthMax:"attackHealthMax"},decls:11,vars:7,consts:[[3,"formGroup"],["class","col-12 mb-2",4,"ngIf"],[4,"ngIf"],[1,"col-6"],[1,"stat-tile","stat-attack"],["formControlName","attack","type","number","min","1",1,"form-control","stat-input","select-attack",3,"max"],[1,"stat-tile","stat-health"],["formControlName","health","type","number","min","1",1,"form-control","stat-input","select-health",3,"max"],[1,"col-12","mb-2"],["for","timesHurt"],["formControlName","timesHurt","type","number","min","0","max","99",1,"form-control"],["for","friendsDiedBeforeBattle",1,"swallowed-label"],["type","number","min","0","max","5","formControlName","friendsDiedBeforeBattle",1,"form-control"],["class","col-12",4,"ngIf"],[1,"col-12"],[1,"stat-tile","stat-mana"],["formControlName","mana","type","number","min","0","max","50","placeholder","Mana",1,"form-control","stat-input","select-mana"],["formControlName","triggersConsumed","type","number","min","0","max","10","placeholder","Triggers Consumed",1,"form-control","select-triggers-consumed","single-stat-input"],["formControlName","triggersConsumed","type","number","min","0","max","10","placeholder","Triggers Consumed",1,"form-control","select-triggers-consumed"],["for","foodsEaten",1,"swallowed-label"],["formControlName","foodsEaten","type","number","min","0","max","99",1,"form-control","select-foods-eaten"]],template:function(i,n){1&i&&(g.qex(0,0),g.DNE(1,m4,4,0,"div",1)(2,f4,4,0,"div",1)(3,A4,4,3,"ng-container",2)(4,S4,4,0,"div",1),g.j41(5,"div",3)(6,"div",4),g.nrm(7,"input",5),g.k0s()(),g.j41(8,"div",3)(9,"div",6),g.nrm(10,"input",7),g.k0s()(),g.bVm()),2&i&&(g.Y8G("formGroup",n.formGroup),g.R7$(),g.Y8G("ngIf","Tuna"===n.petName),g.R7$(),g.Y8G("ngIf",n.shouldShowFriendsDiedInput()),g.R7$(),g.Y8G("ngIf",n.mana||n.triggersConsumed),g.R7$(),g.Y8G("ngIf",n.shouldShowFoodsEatenInput()),g.R7$(3),g.Y8G("max",n.attackHealthMax),g.R7$(3),g.Y8G("max",n.attackHealthMax))},dependencies:[si.MD,si.bT,Y.X1,Y.me,Y.Q0,Y.BC,Y.cb,Y.VZ,Y.zX,Y.j4,Y.JD],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(fist-from-textmap.9771b19acdf1bddd.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(heart-from-textmap.f0bd8a09c9d0889c.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(mana-from-textmap.f400c0a4b51c3594.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-label[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:600;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:500;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.9rem;text-shadow:0 2px 4px rgba(0,0,0,.5)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:700;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return o})();function k4(o,e){if(1&o&&g.nrm(0,"img",7),2&o){const t=g.XpG();g.Y8G("ngSrc",t.equipmentImageSrc)}}function _4(o,e){if(1&o&&g.nrm(0,"img",7),2&o){const t=g.XpG();g.Y8G("ngSrc",t.ailmentImageSrc)}}function w4(o,e){if(1&o&&(g.j41(0,"div",8)(1,"label",9),g.EFF(2,"Uses"),g.k0s(),g.nrm(3,"input",10),g.k0s()),2&o){const t=g.XpG();g.R7$(),g.Y8G("for",t.equipmentUsesInputId),g.R7$(2),g.Y8G("id",t.equipmentUsesInputId)}}let T4=(()=>{class o{formGroup;equipmentImageSrc=null;ailmentImageSrc=null;allowEquipmentUseOverrides=!1;equipmentUsesAvailable=!1;equipmentUsesInputId="";openSelection=new w.bkB;static \u0275fac=function(i){return new(i||o)};static \u0275cmp=g.VBU({type:o,selectors:[["app-pet-equipment-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup",equipmentImageSrc:"equipmentImageSrc",ailmentImageSrc:"ailmentImageSrc",allowEquipmentUseOverrides:"allowEquipmentUseOverrides",equipmentUsesAvailable:"equipmentUsesAvailable",equipmentUsesInputId:"equipmentUsesInputId"},outputs:{openSelection:"openSelection"},decls:9,vars:5,consts:[[3,"formGroup"],[1,"col-12","mb-2"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center",3,"click"],["class","btn-icon me-2","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc",4,"ngIf"],[1,"btn-text"],[1,"bi","bi-chevron-down","ms-auto"],["class","col-6 mb-2",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async",1,"btn-icon","me-2",3,"ngSrc"],[1,"col-6","mb-2"],[3,"for"],["type","number","min","1","max","99","formControlName","equipmentUses",1,"form-control",3,"id"]],template:function(i,n){if(1&i&&(g.qex(0,0),g.j41(1,"div",1)(2,"button",2),g.bIt("click",function(){return n.openSelection.emit()}),g.DNE(3,k4,1,1,"img",3)(4,_4,1,1,"img",3),g.j41(5,"span",4),g.EFF(6),g.k0s(),g.nrm(7,"i",5),g.k0s()(),g.DNE(8,w4,4,2,"div",6),g.bVm()),2&i){let s;g.Y8G("formGroup",n.formGroup),g.R7$(3),g.Y8G("ngIf",n.equipmentImageSrc),g.R7$(),g.Y8G("ngIf",!n.equipmentImageSrc&&n.ailmentImageSrc),g.R7$(2),g.JRh((null==(s=n.formGroup.get("equipment"))?null:s.value)||"Select Equipment"),g.R7$(2),g.Y8G("ngIf",n.allowEquipmentUseOverrides&&n.equipmentUsesAvailable)}},dependencies:[si.MD,si.bT,Wi,Y.X1,Y.me,Y.Q0,Y.BC,Y.cb,Y.VZ,Y.zX,Y.j4,Y.JD],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(fist-from-textmap.9771b19acdf1bddd.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(heart-from-textmap.f0bd8a09c9d0889c.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(mana-from-textmap.f400c0a4b51c3594.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-label[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:600;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:500;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.9rem;text-shadow:0 2px 4px rgba(0,0,0,.5)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:700;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return o})();const jM=()=>[];function C4(o,e){if(1&o&&g.nrm(0,"img",13),2&o){let t;const i=g.XpG().index,n=g.XpG(2);g.Y8G("ngSrc",n.getPetImagePath(null==(t=n.formGroup.get("abominationSwallowedPet"+(i+1)))?null:t.value))}}function E4(o,e){if(1&o&&(g.j41(0,"div",18)(1,"label",19),g.EFF(2,"Level"),g.k0s(),g.j41(3,"select",20)(4,"option",21),g.EFF(5,"1"),g.k0s(),g.j41(6,"option",21),g.EFF(7,"2"),g.k0s(),g.j41(8,"option",21),g.EFF(9,"3"),g.k0s()()()),2&o){const t=g.XpG(2).index;g.R7$(3),g.Y8G("formControlName","abominationSwallowedPet"+(t+1)+"Level"),g.R7$(),g.Y8G("ngValue",1),g.R7$(2),g.Y8G("ngValue",2),g.R7$(2),g.Y8G("ngValue",3)}}function x4(o,e){if(1&o&&(g.j41(0,"div",18)(1,"label",19),g.EFF(2,"Times Hurt"),g.k0s(),g.nrm(3,"input",22),g.k0s()),2&o){const t=g.XpG(2).index;g.R7$(3),g.Y8G("formControlName","abominationSwallowedPet"+(t+1)+"TimesHurt")}}function D4(o,e){if(1&o&&g.nrm(0,"img",26),2&o){let t;const i=g.XpG(3).index,n=g.XpG(2);g.Y8G("ngSrc",n.getPetImagePath(null==(t=n.formGroup.get("abominationSwallowedPet"+(i+1)+"BelugaSwallowedPet"))?null:t.value))}}function M4(o,e){if(1&o){const t=g.RV6();g.j41(0,"div",23)(1,"label",19),g.EFF(2,"Swallowed by Beluga"),g.k0s(),g.j41(3,"button",24),g.bIt("click",function(){w.eBV(t);const n=g.XpG(2).index,s=g.XpG(2);return w.Njj(s.openSelectionDialog("swallowed-pet",n+1,"abomination-beluga"))}),g.DNE(4,D4,1,1,"img",25),g.j41(5,"span",10),g.EFF(6),g.k0s(),g.nrm(7,"i",11),g.k0s()()}if(2&o){let t,i;const n=g.XpG(2).index,s=g.XpG(2);g.R7$(4),g.Y8G("ngIf",s.getPetImagePath(null==(t=s.formGroup.get("abominationSwallowedPet"+(n+1)+"BelugaSwallowedPet"))?null:t.value)),g.R7$(2),g.JRh((null==(i=s.formGroup.get("abominationSwallowedPet"+(n+1)+"BelugaSwallowedPet"))?null:i.value)||"None")}}function I4(o,e){if(1&o&&g.nrm(0,"img",30),2&o){let t;const i=g.XpG(3).index,n=g.XpG(2);g.Y8G("ngSrc",n.getPetImagePath(null==(t=n.formGroup.get("abominationSwallowedPet"+(i+1)+"ParrotCopyPet"))?null:t.value))}}function R4(o,e){if(1&o&&g.nrm(0,"img",33),2&o){let t;const i=g.XpG(4).index,n=g.XpG(2);g.Y8G("ngSrc",n.getPetImagePath(null==(t=n.formGroup.get("abominationSwallowedPet"+(i+1)+"ParrotCopyPetBelugaSwallowedPet"))?null:t.value))}}function L4(o,e){if(1&o){const t=g.RV6();g.j41(0,"div",31)(1,"label",19),g.EFF(2,"Then Beluga Swallow"),g.k0s(),g.j41(3,"button",24),g.bIt("click",function(){w.eBV(t);const n=g.XpG(3).index,s=g.XpG(2);return w.Njj(s.openSelectionDialog("swallowed-pet",n+1,"abomination-parrot-beluga"))}),g.DNE(4,R4,1,1,"img",32),g.j41(5,"span",10),g.EFF(6),g.k0s(),g.nrm(7,"i",11),g.k0s()()}if(2&o){let t,i;const n=g.XpG(3).index,s=g.XpG(2);g.R7$(4),g.Y8G("ngIf",s.getPetImagePath(null==(t=s.formGroup.get("abominationSwallowedPet"+(n+1)+"ParrotCopyPetBelugaSwallowedPet"))?null:t.value)),g.R7$(2),g.JRh((null==(i=s.formGroup.get("abominationSwallowedPet"+(n+1)+"ParrotCopyPetBelugaSwallowedPet"))?null:i.value)||"None")}}function N4(o,e){if(1&o&&g.nrm(0,"img",37),2&o){let t;const i=g.XpG().index,n=g.XpG(4).index,s=g.XpG(2);g.Y8G("ngSrc",s.getPetImagePath(null==(t=s.formGroup.get("abominationSwallowedPet"+(n+1)+"ParrotCopyPetAbominationSwallowedPet"+(i+1)))?null:t.value))}}function F4(o,e){if(1&o&&(g.j41(0,"div",38)(1,"label",39),g.EFF(2,"Times Hurt"),g.k0s(),g.nrm(3,"input",22),g.k0s()),2&o){const t=g.XpG().index,i=g.XpG(4).index;g.R7$(3),g.Y8G("formControlName","abominationSwallowedPet"+(i+1)+"ParrotCopyPetAbominationSwallowedPet"+(t+1)+"TimesHurt")}}function O4(o,e){if(1&o){const t=g.RV6();g.j41(0,"div")(1,"label",19),g.EFF(2),g.k0s(),g.j41(3,"button",34),g.bIt("click",function(){const n=w.eBV(t).index,s=g.XpG(4).index,r=g.XpG(2);return w.Njj(r.openSelectionDialog("swallowed-pet",s+1,"abomination-parrot-abomination",n+1))}),g.DNE(4,N4,1,1,"img",35),g.j41(5,"span",10),g.EFF(6),g.k0s(),g.nrm(7,"i",11),g.k0s(),g.DNE(8,F4,4,1,"div",36),g.k0s()}if(2&o){let t,i;const n=e.index,s=g.XpG(4).index,r=g.XpG(2);g.R7$(2),g.SpI("Nested Slot ",n+1),g.R7$(2),g.Y8G("ngIf",r.getPetImagePath(null==(t=r.formGroup.get("abominationSwallowedPet"+(s+1)+"ParrotCopyPetAbominationSwallowedPet"+(n+1)))?null:t.value)),g.R7$(2),g.JRh((null==(i=r.formGroup.get("abominationSwallowedPet"+(s+1)+"ParrotCopyPetAbominationSwallowedPet"+(n+1)))?null:i.value)||"None"),g.R7$(2),g.Y8G("ngIf",r.shouldShowAbominationParrotCopyAbominationTimesHurt(s+1,n+1))}}function B4(o,e){if(1&o&&(g.j41(0,"div",31)(1,"div",18)(2,"label",19),g.EFF(3,"Nested Abom Level"),g.k0s(),g.j41(4,"select",20)(5,"option",21),g.EFF(6,"1"),g.k0s(),g.j41(7,"option",21),g.EFF(8,"2"),g.k0s(),g.j41(9,"option",21),g.EFF(10,"3"),g.k0s()()(),g.DNE(11,O4,9,4,"div",4),g.k0s()),2&o){let t;const i=g.XpG(3).index,n=g.XpG(2);g.R7$(4),g.Y8G("formControlName","abominationSwallowedPet"+(i+1)+"ParrotCopyPetAbominationLevel"),g.R7$(),g.Y8G("ngValue",1),g.R7$(2),g.Y8G("ngValue",2),g.R7$(2),g.Y8G("ngValue",3),g.R7$(2),g.Y8G("ngForOf",g.lJ4(6,jM).constructor((null==(t=n.formGroup.get("abominationSwallowedPet"+(i+1)+"ParrotCopyPetAbominationLevel"))?null:t.value)||1))("ngForTrackBy",n.trackByIndex)}}function $4(o,e){if(1&o){const t=g.RV6();g.j41(0,"div",27)(1,"label",19),g.EFF(2,"Parrot Copy"),g.k0s(),g.j41(3,"button",24),g.bIt("click",function(){w.eBV(t);const n=g.XpG(2).index,s=g.XpG(2);return w.Njj(s.openSelectionDialog("swallowed-pet",n+1,"abomination-parrot"))}),g.DNE(4,I4,1,1,"img",28),g.j41(5,"span",10),g.EFF(6),g.k0s(),g.nrm(7,"i",11),g.k0s(),g.DNE(8,L4,8,2,"div",29)(9,B4,12,7,"div",29),g.k0s()}if(2&o){let t,i,n,s;const r=g.XpG(2).index,c=g.XpG(2);g.R7$(4),g.Y8G("ngIf",c.getPetImagePath(null==(t=c.formGroup.get("abominationSwallowedPet"+(r+1)+"ParrotCopyPet"))?null:t.value)),g.R7$(2),g.JRh((null==(i=c.formGroup.get("abominationSwallowedPet"+(r+1)+"ParrotCopyPet"))?null:i.value)||"None"),g.R7$(2),g.Y8G("ngIf","Beluga Whale"===(null==(n=c.formGroup.get("abominationSwallowedPet"+(r+1)+"ParrotCopyPet"))?null:n.value)),g.R7$(),g.Y8G("ngIf","Abomination"===(null==(s=c.formGroup.get("abominationSwallowedPet"+(r+1)+"ParrotCopyPet"))?null:s.value))}}function G4(o,e){if(1&o&&(g.j41(0,"div",14),g.DNE(1,E4,10,4,"div",15)(2,x4,4,1,"div",15)(3,M4,8,2,"div",16)(4,$4,10,4,"div",17),g.k0s()),2&o){let t,i;const n=g.XpG().index,s=g.XpG(2);g.R7$(),g.Y8G("ngIf",s.showSwallowedLevels),g.R7$(),g.Y8G("ngIf",s.shouldShowAbominationSwallowTimesHurt(n)),g.R7$(),g.Y8G("ngIf","Beluga Whale"===(null==(t=s.formGroup.get("abominationSwallowedPet"+(n+1)))?null:t.value)),g.R7$(),g.Y8G("ngIf","Parrot"===(null==(i=s.formGroup.get("abominationSwallowedPet"+(n+1)))?null:i.value))}}function H4(o,e){if(1&o){const t=g.RV6();g.j41(0,"div")(1,"div",5)(2,"label",6),g.EFF(3),g.k0s(),g.j41(4,"div",7)(5,"button",8),g.bIt("click",function(){const n=w.eBV(t).index,s=g.XpG(2);return w.Njj(s.openSelectionDialog("swallowed-pet",n+1,"abomination"))}),g.DNE(6,C4,1,1,"img",9),g.j41(7,"span",10),g.EFF(8),g.k0s(),g.nrm(9,"i",11),g.k0s()(),g.DNE(10,G4,5,4,"div",12),g.k0s()()}if(2&o){let t,i,n;const s=e.index,r=g.XpG(2);g.R7$(3),g.SpI("Swallowed Pet ",s+1),g.R7$(3),g.Y8G("ngIf",r.getPetImagePath(null==(t=r.formGroup.get("abominationSwallowedPet"+(s+1)))?null:t.value)),g.R7$(2),g.JRh((null==(i=r.formGroup.get("abominationSwallowedPet"+(s+1)))?null:i.value)||"None"),g.R7$(2),g.Y8G("ngIf",null==(n=r.formGroup.get("abominationSwallowedPet"+(s+1)))?null:n.value)}}function q4(o,e){if(1&o&&(g.j41(0,"div",2),g.DNE(1,H4,11,4,"div",4),g.k0s()),2&o){const t=g.XpG();g.R7$(),g.Y8G("ngForOf",g.lJ4(2,jM).constructor(t.pet.level))("ngForTrackBy",t.trackByIndex)}}function j4(o,e){if(1&o&&g.nrm(0,"img",42),2&o){let t;const i=g.XpG(2);g.Y8G("ngSrc",i.getPetImagePath(null==(t=i.formGroup.get("belugaSwallowedPet"))?null:t.value))}}function V4(o,e){if(1&o){const t=g.RV6();g.j41(0,"div")(1,"label",6),g.EFF(2,"Swallowed by Beluga"),g.k0s(),g.j41(3,"button",40),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.openSelectionDialog("swallowed-pet",void 0,"pet"))}),g.DNE(4,j4,1,1,"img",41),g.j41(5,"span",10),g.EFF(6),g.k0s(),g.nrm(7,"i",11),g.k0s()()}if(2&o){let t,i;const n=g.XpG();g.R7$(4),g.Y8G("ngIf",n.getPetImagePath(null==(t=n.formGroup.get("belugaSwallowedPet"))?null:t.value)),g.R7$(2),g.JRh((null==(i=n.formGroup.get("belugaSwallowedPet"))?null:i.value)||"Select Pet")}}function U4(o,e){if(1&o&&g.nrm(0,"img",45),2&o){let t;const i=g.XpG(2);g.Y8G("ngSrc",i.getPetImagePath(null==(t=i.formGroup.get("parrotCopyPet"))?null:t.value))}}function W4(o,e){if(1&o&&g.nrm(0,"img",48),2&o){let t;const i=g.XpG(3);g.Y8G("ngSrc",i.getPetImagePath(null==(t=i.formGroup.get("parrotCopyPetBelugaSwallowedPet"))?null:t.value))}}function K4(o,e){if(1&o){const t=g.RV6();g.j41(0,"div",46)(1,"label",6),g.EFF(2,"Then Beluga Swallow"),g.k0s(),g.j41(3,"button",40),g.bIt("click",function(){w.eBV(t);const n=g.XpG(2);return w.Njj(n.openSelectionDialog("swallowed-pet",void 0,"parrot-beluga"))}),g.DNE(4,W4,1,1,"img",47),g.j41(5,"span",10),g.EFF(6),g.k0s(),g.nrm(7,"i",11),g.k0s()()}if(2&o){let t,i;const n=g.XpG(2);g.R7$(4),g.Y8G("ngIf",n.getPetImagePath(null==(t=n.formGroup.get("parrotCopyPetBelugaSwallowedPet"))?null:t.value)),g.R7$(2),g.JRh((null==(i=n.formGroup.get("parrotCopyPetBelugaSwallowedPet"))?null:i.value)||"Select Pet")}}function z4(o,e){if(1&o&&g.nrm(0,"img",53),2&o){let t;const i=g.XpG().index,n=g.XpG(3);g.Y8G("ngSrc",n.getPetImagePath(null==(t=n.formGroup.get("parrotCopyPetAbominationSwallowedPet"+(i+1)))?null:t.value))}}function Y4(o,e){if(1&o&&(g.j41(0,"div",54)(1,"label",19),g.EFF(2,"Times Hurt"),g.k0s(),g.nrm(3,"input",22),g.k0s()),2&o){const t=g.XpG().index;g.R7$(3),g.Y8G("formControlName","parrotCopyPetAbominationSwallowedPet"+(t+1)+"TimesHurt")}}function X4(o,e){if(1&o){const t=g.RV6();g.j41(0,"div")(1,"label",6),g.EFF(2),g.k0s(),g.j41(3,"button",50),g.bIt("click",function(){const n=w.eBV(t).index,s=g.XpG(3);return w.Njj(s.openSelectionDialog("swallowed-pet",n+1,"parrot-abomination"))}),g.DNE(4,z4,1,1,"img",51),g.j41(5,"span",10),g.EFF(6),g.k0s(),g.nrm(7,"i",11),g.k0s(),g.DNE(8,Y4,4,1,"div",52),g.k0s()}if(2&o){let t,i;const n=e.index,s=g.XpG(3);g.R7$(2),g.SpI("Swallowed Pet ",n+1),g.R7$(2),g.Y8G("ngIf",s.getPetImagePath(null==(t=s.formGroup.get("parrotCopyPetAbominationSwallowedPet"+(n+1)))?null:t.value)),g.R7$(2),g.JRh((null==(i=s.formGroup.get("parrotCopyPetAbominationSwallowedPet"+(n+1)))?null:i.value)||"None"),g.R7$(2),g.Y8G("ngIf",s.shouldShowParrotCopyPetAbominationTimesHurt(n+1))}}function Q4(o,e){if(1&o&&(g.j41(0,"div",46)(1,"div",18)(2,"label",6),g.EFF(3,"Abom Level"),g.k0s(),g.j41(4,"select",49)(5,"option",21),g.EFF(6,"1"),g.k0s(),g.j41(7,"option",21),g.EFF(8,"2"),g.k0s(),g.j41(9,"option",21),g.EFF(10,"3"),g.k0s()()(),g.DNE(11,X4,9,4,"div",4),g.k0s()),2&o){const t=g.XpG(2);g.R7$(5),g.Y8G("ngValue",1),g.R7$(2),g.Y8G("ngValue",2),g.R7$(2),g.Y8G("ngValue",3),g.R7$(2),g.Y8G("ngForOf",g.lJ4(5,jM).constructor(t.getParrotCopyAbominationSlotCount()))("ngForTrackBy",t.trackByIndex)}}function J4(o,e){if(1&o){const t=g.RV6();g.j41(0,"div")(1,"label",6),g.EFF(2,"Parrot Copy"),g.k0s(),g.j41(3,"button",40),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.openSelectionDialog("swallowed-pet",void 0,"parrot"))}),g.DNE(4,U4,1,1,"img",43),g.j41(5,"span",10),g.EFF(6),g.k0s(),g.nrm(7,"i",11),g.k0s(),g.DNE(8,K4,8,2,"div",44)(9,Q4,12,6,"div",44),g.k0s()}if(2&o){let t,i,n,s;const r=g.XpG();g.R7$(4),g.Y8G("ngIf",r.getPetImagePath(null==(t=r.formGroup.get("parrotCopyPet"))?null:t.value)),g.R7$(2),g.JRh((null==(i=r.formGroup.get("parrotCopyPet"))?null:i.value)||"Select Pet"),g.R7$(2),g.Y8G("ngIf","Beluga Whale"===(null==(n=r.formGroup.get("parrotCopyPet"))?null:n.value)),g.R7$(),g.Y8G("ngIf","Abomination"===(null==(s=r.formGroup.get("parrotCopyPet"))?null:s.value))}}function Z4(o,e){if(1&o&&g.nrm(0,"img",56),2&o){let t;const i=g.XpG(2);g.Y8G("ngSrc",i.getPetImagePath(null==(t=i.formGroup.get("sarcasticFringeheadSwallowedPet"))?null:t.value))}}function eB(o,e){if(1&o){const t=g.RV6();g.j41(0,"div")(1,"label",6),g.EFF(2,"Swallowed by Fringehead"),g.k0s(),g.j41(3,"button",40),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.openSelectionDialog("swallowed-pet",void 0,"pet"))}),g.DNE(4,Z4,1,1,"img",55),g.j41(5,"span",10),g.EFF(6),g.k0s(),g.nrm(7,"i",11),g.k0s()()}if(2&o){let t,i;const n=g.XpG();g.R7$(4),g.Y8G("ngIf",n.getPetImagePath(null==(t=n.formGroup.get("sarcasticFringeheadSwallowedPet"))?null:t.value)),g.R7$(2),g.JRh((null==(i=n.formGroup.get("sarcasticFringeheadSwallowedPet"))?null:i.value)||"Select Pet")}}let tB=(()=>{class o{formGroup;pet;showSwallowedLevels=!1;openSelection=new w.bkB;getPetImagePath(t){return tr(t)}trackByIndex(t){return t}getParrotCopyAbominationSlotCount(){return this.formGroup.get("parrotCopyPetAbominationLevel")?.value||1}shouldShowParrotCopyPetAbominationParrotAbominationTimesHurt(t,i){return"Tuna"===this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${t}ParrotCopyPetAbominationSwallowedPet${i}`)?.value}shouldShowParrotCopyPetAbominationTimesHurt(t){return"Tuna"===this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${t}`)?.value}shouldShowAbominationParrotCopyAbominationTimesHurt(t,i){return"Tuna"===this.formGroup.get(`abominationSwallowedPet${t}ParrotCopyPetAbominationSwallowedPet${i}`)?.value}shouldShowAbominationSwallowTimesHurt(t){return"Tuna"===this.formGroup.get(`abominationSwallowedPet${t+1}`)?.value}openSelectionDialog(t,i,n="pet",s){this.openSelection.emit({type:t,index:i,target:n,parentIndex:s})}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=g.VBU({type:o,selectors:[["app-swallowed-pet-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup",pet:"pet",showSwallowedLevels:"showSwallowedLevels"},outputs:{openSelection:"openSelection"},decls:6,vars:5,consts:[[3,"formGroup"],["class","col-12 mb-2",4,"ngIf"],[1,"col-12","mb-2"],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"swallowed-slot","mb-2"],[1,"swallowed-label"],[1,"d-flex","align-items-center","gap-2"],["type","button",1,"btn","selection-btn","flex-grow-1","d-flex","align-items-center",3,"click"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Swallowed Pet",3,"ngSrc",4,"ngIf"],[1,"selection-text"],[1,"fas","fa-chevron-down","ms-auto"],["class","swallowed-nested mt-2 ps-3 border-start",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Swallowed Pet",1,"selection-icon",3,"ngSrc"],[1,"swallowed-nested","mt-2","ps-3","border-start"],["class","form-group small-w-input mb-2",4,"ngIf"],["class","nested-selection mb-2",4,"ngIf"],["class","nested-selection",4,"ngIf"],[1,"form-group","small-w-input","mb-2"],[1,"swallowed-label-small"],[1,"form-control","form-control-sm",3,"formControlName"],[3,"ngValue"],["type","number","min","0","max","99",1,"form-control","form-control-sm",3,"formControlName"],[1,"nested-selection","mb-2"],["type","button",1,"btn","selection-btn","btn-sm","w-100","d-flex","align-items-center",3,"click"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",3,"ngSrc",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",1,"selection-icon",3,"ngSrc"],[1,"nested-selection"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Parrot Copy Pet",3,"ngSrc",4,"ngIf"],["class","mt-2 ps-2 border-start",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Parrot Copy Pet",1,"selection-icon",3,"ngSrc"],[1,"mt-2","ps-2","border-start"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Nested Beluga",3,"ngSrc",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Nested Beluga",1,"selection-icon",3,"ngSrc"],["type","button",1,"btn","selection-btn","btn-sm","w-100","d-flex","align-items-center","mb-1",3,"click"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Nested Abom Slot",3,"ngSrc",4,"ngIf"],["class","form-group small-w-input mb-1 ms-2",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Nested Abom Slot",1,"selection-icon",3,"ngSrc"],[1,"form-group","small-w-input","mb-1","ms-2"],[1,"swallowed-label-tiny"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center",3,"click"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Beluga Swallowed",3,"ngSrc",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Beluga Swallowed",1,"selection-icon",3,"ngSrc"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Parrot Copy",3,"ngSrc",4,"ngIf"],["class","mt-2 ps-3 border-start",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Parrot Copy",1,"selection-icon",3,"ngSrc"],[1,"mt-2","ps-3","border-start"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Nested Beluga",3,"ngSrc",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Nested Beluga",1,"selection-icon",3,"ngSrc"],["formControlName","parrotCopyPetAbominationLevel",1,"form-control"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center","mb-2",3,"click"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Nested Abom Slot",3,"ngSrc",4,"ngIf"],["class","form-group small-w-input mb-2 ms-3",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Nested Abom Slot",1,"selection-icon",3,"ngSrc"],[1,"form-group","small-w-input","mb-2","ms-3"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Fringehead Swallowed",3,"ngSrc",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Fringehead Swallowed",1,"selection-icon",3,"ngSrc"]],template:function(i,n){1&i&&(g.qex(0,0),g.DNE(1,q4,2,3,"div",1),g.j41(2,"div",2),g.DNE(3,V4,8,2,"div",3)(4,J4,10,4,"div",3)(5,eB,8,2,"div",3),g.k0s(),g.bVm()),2&i&&(g.Y8G("formGroup",n.formGroup),g.R7$(),g.Y8G("ngIf","Abomination"===(null==n.pet?null:n.pet.name)),g.R7$(2),g.Y8G("ngIf","Beluga Whale"===(null==n.pet?null:n.pet.name)),g.R7$(),g.Y8G("ngIf","Parrot"===(null==n.pet?null:n.pet.name)),g.R7$(),g.Y8G("ngIf","Sarcastic Fringehead"===(null==n.pet?null:n.pet.name)))},dependencies:[si.MD,si.Sq,si.bT,Wi,Y.X1,Y.xH,Y.y7,Y.me,Y.Q0,Y.wz,Y.BC,Y.cb,Y.VZ,Y.zX,Y.j4,Y.JD],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(fist-from-textmap.9771b19acdf1bddd.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(heart-from-textmap.f0bd8a09c9d0889c.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(mana-from-textmap.f400c0a4b51c3594.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-label[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:600;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:500;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.9rem;text-shadow:0 2px 4px rgba(0,0,0,.5)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:700;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return o})();function iB(o,e){if(1&o&&g.nrm(0,"img",13),2&o){const t=g.XpG();g.Y8G("ngSrc",t.petImageSrc)}}function nB(o,e){if(1&o){const t=g.RV6();g.j41(0,"img",21),g.bIt("error",function(){w.eBV(t);const n=g.XpG(3);return w.Njj(n.equipmentImageBroken=!0)}),g.k0s()}if(2&o){const t=g.XpG(3);g.Y8G("ngSrc",t.equipmentImageSrc)("alt",t.formGroup.get("equipment").value||"Equipment")}}function rB(o,e){if(1&o){const t=g.RV6();g.j41(0,"img",21),g.bIt("error",function(){w.eBV(t);const n=g.XpG(3);return w.Njj(n.equipmentImageBroken=!0)}),g.k0s()}if(2&o){const t=g.XpG(3);g.Y8G("ngSrc",t.ailmentImageSrc)("alt",t.formGroup.get("equipment").value||"Ailment")}}function aB(o,e){if(1&o&&(g.j41(0,"div",19),g.DNE(1,nB,1,2,"img",20)(2,rB,1,2,"img",20),g.k0s()),2&o){const t=g.XpG(2);g.R7$(),g.Y8G("ngIf",t.equipmentImageSrc),g.R7$(),g.Y8G("ngIf",!t.equipmentImageSrc&&t.ailmentImageSrc)}}function oB(o,e){if(1&o&&(g.j41(0,"div",22),g.nrm(1,"img",23),g.k0s()),2&o){const t=g.XpG(2);g.R7$(),g.Y8G("ngSrc",t.swallowedPetImageSrc)}}function sB(o,e){1&o&&g.nrm(0,"img",23),2&o&&g.Y8G("ngSrc",e.$implicit)}function lB(o,e){if(1&o&&(g.j41(0,"div",24),g.DNE(1,sB,1,1,"img",25),g.k0s()),2&o){const t=g.XpG(2);g.R7$(),g.Y8G("ngForOf",t.abominationSwallowedPetImages)("ngForTrackBy",t.trackByIndex)}}function cB(o,e){if(1&o){const t=g.RV6();g.j41(0,"div",14)(1,"img",15),g.bIt("error",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.petImageBroken=!0)}),g.k0s(),g.DNE(2,aB,3,2,"div",16)(3,oB,2,1,"div",17)(4,lB,2,2,"div",18),g.k0s()}if(2&o){const t=g.XpG();g.AVh("equipment-left",!t.flipImage)("equipment-right",t.flipImage),g.R7$(),g.AVh("flipped",t.flipImage),g.Y8G("ngSrc",t.petImageSrc)("alt",t.formGroup.get("name").value||"Pet"),g.R7$(),g.Y8G("ngIf",(t.equipmentImageSrc||t.ailmentImageSrc)&&!t.equipmentImageBroken),g.R7$(),g.Y8G("ngIf",t.swallowedPetImageSrc),g.R7$(),g.Y8G("ngIf",t.abominationSwallowedPetImages.length)}}function uB(o,e){if(1&o){const t=g.RV6();g.j41(0,"app-item-selection-dialog",26),g.bIt("select",function(n){w.eBV(t);const s=g.XpG();return w.Njj(s.onItemSelected(n))})("close",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.closeSelectionDialog())}),g.k0s()}if(2&o){const t=g.XpG();g.Y8G("type",t.selectionType)("showAllPets",t.allPets||t.forceShowAllPets)("currentPack",null==t.player?null:t.player.pack)}}const mL=(()=>{const o=[];for(let e=1;e<=3;e++){const t=`parrotCopyPetAbominationSwallowedPet${e}`;o.push(t),o.push(`${t}BelugaSwallowedPet`),o.push(`${t}Level`),o.push(`${t}TimesHurt`)}return o})(),dB=(()=>{const o=[];for(let e=1;e<=3;e++){const t=`parrotCopyPetAbominationSwallowedPet${e}`;o.push(`${t}ParrotCopyPet`),o.push(`${t}ParrotCopyPetBelugaSwallowedPet`);for(let i=1;i<=3;i++){const n=`${t}ParrotCopyPetAbominationSwallowedPet${i}`;o.push(n),o.push(`${n}BelugaSwallowedPet`),o.push(`${n}Level`),o.push(`${n}TimesHurt`)}}return o})();let fL=(()=>{class o{petService;equipmentService;cdr;pet;player;opponent;index;ailments;allPets;mana;triggersConsumed;formGroup;customPacks;flipImage=!1;allowEquipmentUseOverrides;showSwallowedLevels=!1;equipment;ailmentEquipment;equipmentCategoryGroups=[];ailmentCategoryGroups=[];turtlePackPets;pets;startOfBattlePets;attackHealthMax=100;petImageBroken=!1;equipmentImageBroken=!1;compareEquipment=(t,i)=>t?.name===i?.name;basePackSets=new Map;friendsDiedCaps=new Map([["Vulture",1],["Saiga Antelope",1],["Secretary Bird",1],["Mimic",2]]);customPackPetsCache=new Map;cachedPlayerPack=null;cachedOpponentPack=null;cachedPlayerPackSet=null;cachedOpponentPackSet=null;customPackSubscription=null;destroy$=new li.B7;showTokenPets=!1;showSelectionDialog=!1;selectionType="pet";swallowedPetIndex;swallowedPetParentIndex;swallowedPetTarget="pet";forceShowAllPets=!1;tokenPets=["Adult Flounder","Angry Pygmy Hog","Baby Urchin","Bee","Bus","Butterfly","Chick","Chimera Goat","Chimera Lion","Chimera Snake","Cooked Roach","Cracked Egg","Cuckoo Chick","Daycrawler","Dirty Rat","Fairy Ball","Fake Nessie","Fire Pup","Giant Eyes Dog","Golden Retriever","Good Dog","Great One","Head","Lizard Tail","Loyal Chinchilla","Mimic Octopus","Moby Dick","Monty","Nessie?","Nest","Quail","Ram","Rock","Salmon","Sleeping Gelada","Smaller Slime","Smaller Slug","Smallest Slug","Tand and Tand","Young Phoenix","Zombie Cricket","Zombie Fly"];constructor(t,i,n){this.petService=t,this.equipmentService=i,this.cdr=n}trackByIndex(t){return t}ngOnInit(){this.initPackSets()}ngOnChanges(t){(t.formGroup||t.pet||t.index||t.player)&&this.initSelector()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.customPackSubscription&&this.customPackSubscription.unsubscribe()}initSelector(){this.destroy$.next(),this.initPets(),this.initEquipment(),this.initForm(),this.customPackSubscription?.unsubscribe(),this.customPackSubscription=this.customPacks?.valueChanges?.subscribe(()=>{this.invalidatePackCaches()})??null,this.fixLoadEquipment()}openSelectionDialog(t,i,n="pet",s){this.selectionType=t,this.swallowedPetIndex=i,this.swallowedPetTarget=n,this.swallowedPetParentIndex=s,this.forceShowAllPets="swallowed-pet"===t&&this.isParrotCopyTarget(n),this.showSelectionDialog=!0}onItemSelected(t){if(t instanceof Event)this.closeSelectionDialog();else{if("pet"===this.selectionType)this.formGroup.get("name").setValue(t);else if("equipment"===this.selectionType){const i="string"==typeof t?t:t?.name??null;this.formGroup.get("equipment").setValue(i)}else if("swallowed-pet"===this.selectionType)if("abomination-beluga"===this.swallowedPetTarget)this.formGroup.get(`abominationSwallowedPet${this.swallowedPetIndex}BelugaSwallowedPet`).setValue(t);else if("parrot"===this.swallowedPetTarget)this.formGroup.get("parrotCopyPet").setValue(t);else if("parrot-beluga"===this.swallowedPetTarget)this.formGroup.get("parrotCopyPetBelugaSwallowedPet").setValue(t);else if("parrot-abomination"===this.swallowedPetTarget)this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${this.swallowedPetIndex}`).setValue(t);else if("parrot-abomination-beluga"===this.swallowedPetTarget)this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${this.swallowedPetIndex}BelugaSwallowedPet`).setValue(t);else if("abomination-parrot"===this.swallowedPetTarget)this.formGroup.get(`abominationSwallowedPet${this.swallowedPetIndex}ParrotCopyPet`).setValue(t);else if("abomination-parrot-beluga"===this.swallowedPetTarget)this.formGroup.get(`abominationSwallowedPet${this.swallowedPetIndex}ParrotCopyPetBelugaSwallowedPet`).setValue(t);else if("abomination-parrot-abomination"===this.swallowedPetTarget){if(null==this.swallowedPetParentIndex)return;this.formGroup.get(`abominationSwallowedPet${this.swallowedPetParentIndex}ParrotCopyPetAbominationSwallowedPet${this.swallowedPetIndex}`).setValue(t)}else if("abomination-parrot-abomination-beluga"===this.swallowedPetTarget){if(null==this.swallowedPetParentIndex)return;this.formGroup.get(`abominationSwallowedPet${this.swallowedPetParentIndex}ParrotCopyPetAbominationSwallowedPet${this.swallowedPetIndex}BelugaSwallowedPet`).setValue(t)}else if("parrot-abomination-parrot"===this.swallowedPetTarget)this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${this.swallowedPetIndex}ParrotCopyPet`).setValue(t);else if("parrot-abomination-parrot-beluga"===this.swallowedPetTarget)this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${this.swallowedPetIndex}ParrotCopyPetBelugaSwallowedPet`).setValue(t);else if("parrot-abomination-parrot-abomination"===this.swallowedPetTarget){if(null==this.swallowedPetParentIndex)return;this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${this.swallowedPetParentIndex}ParrotCopyPetAbominationSwallowedPet${this.swallowedPetIndex}`).setValue(t)}else if("parrot-abomination-parrot-abomination-beluga"===this.swallowedPetTarget){if(null==this.swallowedPetParentIndex)return;this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${this.swallowedPetParentIndex}ParrotCopyPetAbominationSwallowedPet${this.swallowedPetIndex}BelugaSwallowedPet`).setValue(t)}else"Beluga Whale"===this.pet?.name?this.formGroup.get("belugaSwallowedPet").setValue(t):"abomination"===this.swallowedPetTarget||"Abomination"===this.pet?.name?this.formGroup.get(`abominationSwallowedPet${this.swallowedPetIndex}`).setValue(t):"Sarcastic Fringehead"===this.pet?.name&&this.formGroup.get("sarcasticFringeheadSwallowedPet").setValue(t);this.closeSelectionDialog()}}closeSelectionDialog(){this.showSelectionDialog=!1,this.forceShowAllPets=!1}isParrotCopyTarget(t){return["parrot","parrot-beluga","parrot-abomination","parrot-abomination-beluga","abomination-parrot","abomination-parrot-beluga","abomination-parrot-abomination","abomination-parrot-abomination-beluga","parrot-abomination-parrot","parrot-abomination-parrot-beluga","parrot-abomination-parrot-abomination","parrot-abomination-parrot-abomination-beluga"].includes(t)}initPets(){this.pets=new Map;for(let t=1;t<=6;t++)this.pets.set(t,[]);for(const t of ua){const i=this.petService.basePackPetsByName[t];for(let[n,s]of i)this.pets.get(n).push(...s)}for(let[t,i]of this.pets)this.pets.set(t,[...new Set(i)]);this.initStartOfBattlePets()}initStartOfBattlePets(){this.startOfBattlePets=new Map;for(let t=1;t<=6;t++){let i=[];for(let n of this.pets.get(t))this.petService.startOfBattlePets.includes(n)&&i.push(n);this.startOfBattlePets.set(t,i)}}initEquipment(){this.equipment=this.equipmentService.getInstanceOfAllEquipment(),this.ailmentEquipment=this.equipmentService.getInstanceOfAllAilments(),this.equipmentCategoryGroups=this.buildCategoryGroups(cS,this.equipment),this.ailmentCategoryGroups=this.buildCategoryGroups(Vm,this.ailmentEquipment)}buildCategoryGroups(t,i){return Object.entries(t).map(([n,s])=>{const r=[];for(const c of s){const d=i.get(c);d&&r.push(d)}return{label:n,items:r}}).filter(n=>n.items.length>0)}initForm(){this.formGroup.get("name").valueChanges.pipe(Ze(this.destroy$),la()).subscribe(n=>{this.petImageBroken=!1,null!=n?this.substitutePet(!0):this.removePet()}),this.formGroup.get("attack").valueChanges.pipe(Ze(this.destroy$),ca(0),la()).subscribe(()=>{this.clampControl("attack",0,100),this.substitutePet(!1)}),this.formGroup.get("health").valueChanges.pipe(Ze(this.destroy$),ca(0),la()).subscribe(()=>{this.clampControl("health",0,100),this.substitutePet(!1)}),this.formGroup.get("exp").valueChanges.pipe(Ze(this.destroy$),la()).subscribe(()=>{this.substitutePet(!1)});const i=this.formGroup.get("equipmentUses");this.formGroup.get("equipment").valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.equipmentImageBroken=!1;const s=this.normalizeEquipmentValue(n);s!==n&&this.formGroup.get("equipment").setValue(s,{emitEvent:!1}),s||i?.setValue(null,{emitEvent:!1}),this.substitutePet(!1)}),this.formGroup.get("equipmentUses")?.valueChanges.pipe(Ze(this.destroy$),ca(0),la()).subscribe(()=>this.substitutePet(!1)),this.formGroup.get("belugaSwallowedPet").valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setBelugaSwallow(n)}),this.formGroup.get("parrotCopyPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setParrotCopyPet(n)}),this.formGroup.get("parrotCopyPetBelugaSwallowedPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setParrotCopyPetBelugaSwallowedPet(n)});for(const n of mL)this.formGroup.get(n)?.valueChanges.pipe(Ze(this.destroy$)).subscribe(s=>{this.setParrotCopyPetAbominationSwallowedPets(s)});for(const n of dB)this.formGroup.get(n)?.valueChanges.pipe(Ze(this.destroy$)).subscribe(s=>{this.setParrotCopyPetAbominationParrotSettings(s)});this.formGroup.get("sarcasticFringeheadSwallowedPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setSarcasticFringeheadSwallowedPet(n)}),this.formGroup.get("abominationSwallowedPet1").valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setSwallowedPets(n)}),this.formGroup.get("abominationSwallowedPet2").valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setSwallowedPets(n)}),this.formGroup.get("abominationSwallowedPet3").valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setSwallowedPets(n)}),this.formGroup.get("abominationSwallowedPet1BelugaSwallowedPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setSwallowedPets(n)}),this.formGroup.get("abominationSwallowedPet2BelugaSwallowedPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setSwallowedPets(n)}),this.formGroup.get("abominationSwallowedPet3BelugaSwallowedPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setSwallowedPets(n)}),this.formGroup.get("abominationSwallowedPet1ParrotCopyPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet2ParrotCopyPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet3ParrotCopyPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setAbominationParrotCopySettings(n)}),this.formGroup.get("abominationSwallowedPet1Level").valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setSwallowedPets(n)}),this.formGroup.get("abominationSwallowedPet2Level").valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setSwallowedPets(n)}),this.formGroup.get("abominationSwallowedPet3Level").valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setSwallowedPets(n)}),this.formGroup.get("abominationSwallowedPet1TimesHurt")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setSwallowedPets(n)}),this.formGroup.get("abominationSwallowedPet2TimesHurt")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setSwallowedPets(n)}),this.formGroup.get("abominationSwallowedPet3TimesHurt")?.valueChanges.pipe(Ze(this.destroy$)).subscribe(n=>{this.setSwallowedPets(n)}),this.formGroup.get("mana").valueChanges.pipe(Ze(this.destroy$),ca(0),la()).subscribe(()=>{this.clampControl("mana",0,50),this.substitutePet(!1)}),this.formGroup.get("triggersConsumed").valueChanges.pipe(Ze(this.destroy$),ca(0),la()).subscribe(()=>{this.clampControl("triggersConsumed",0,10),this.substitutePet(!1)}),this.formGroup.get("foodsEaten")?.valueChanges.pipe(Ze(this.destroy$),ca(0),la()).subscribe(()=>{this.clampControl("foodsEaten",0,99),this.substitutePet(!1)}),this.formGroup.get("friendsDiedBeforeBattle")?.valueChanges.pipe(Ze(this.destroy$),ca(0),la()).subscribe(()=>{this.clampFriendsDiedBeforeBattle(),this.substitutePet(!1)}),this.formGroup.get("battlesFought").valueChanges.pipe(Ze(this.destroy$),ca(0),la()).subscribe(n=>{this.setBattlesFought(n)}),this.formGroup.get("timesHurt").valueChanges.pipe(Ze(this.destroy$),ca(0),la()).subscribe(n=>{this.setTimesHurt(n)})}setExp(t){this.formGroup.get("exp").setValue(t)}getIsSelected(t){return this.formGroup.get("exp").value>=t}showRemoveExp(){return this.formGroup.get("exp").value>0}substitutePet(t=!1){setTimeout(()=>{let i=this.formGroup.getRawValue();t&&(this.formGroup.get("attack").setValue(null,{emitEvent:!1}),this.formGroup.get("health").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(null,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(null,{emitEvent:!1}),this.formGroup.get("foodsEaten").setValue(null,{emitEvent:!1}),i=this.formGroup.getRawValue()),this.applyStatCaps(i),i.equipment=this.normalizeEquipmentValue(i.equipment);let n=this.petService.createPet(i,this.player);this.player.setPet(this.index,n,!0),this.pet=n,this.cdr.markForCheck(),t&&(this.formGroup.get("attack").setValue(n.attack,{emitEvent:!1}),this.formGroup.get("health").setValue(n.health,{emitEvent:!1}),this.formGroup.get("mana").setValue(n.mana,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(n.triggersConsumed,{emitEvent:!1}),this.formGroup.get("foodsEaten").setValue(n.foodsEaten??0,{emitEvent:!1}),this.cdr.markForCheck())})}get petImageSrc(){const t=this.formGroup?.get("name")?.value;if(!t)return null;const i=zc(t);return i?`assets/art/Public/Public/Pets/${i}.png`:null}get swallowedPetImageSrc(){const t=this.formGroup?.get("name")?.value;if("Beluga Whale"===t)return this.getPetImagePath(this.formGroup.get("belugaSwallowedPet")?.value);if("Sarcastic Fringehead"===t)return this.getPetImagePath(this.formGroup.get("sarcasticFringeheadSwallowedPet")?.value);if("Parrot"===t){const i=this.formGroup.get("parrotCopyPetBelugaSwallowedPet")?.value;return this.getPetImagePath(i||this.formGroup.get("parrotCopyPet")?.value)}return null}get abominationSwallowedPetImages(){if("Abomination"!==this.formGroup?.get("name")?.value)return[];const i=[{name:this.formGroup.get("abominationSwallowedPet1")?.value,belugaSwallowed:this.formGroup.get("abominationSwallowedPet1BelugaSwallowedPet")?.value},{name:this.formGroup.get("abominationSwallowedPet2")?.value,belugaSwallowed:this.formGroup.get("abominationSwallowedPet2BelugaSwallowedPet")?.value},{name:this.formGroup.get("abominationSwallowedPet3")?.value,belugaSwallowed:this.formGroup.get("abominationSwallowedPet3BelugaSwallowedPet")?.value}],n=[];for(const s of i){if(!s.name)continue;const r=this.getPetImagePath(s.name);if(r&&n.push(r),"Beluga Whale"===s.name&&s.belugaSwallowed){const c=this.getPetImagePath(s.belugaSwallowed);c&&n.push(c)}}return n}get equipmentImageSrc(){const t=this.getSelectedEquipmentName();return!t||this.ailmentEquipment?.has(t)?null:ir(t,!1)}get ailmentImageSrc(){const t=this.getSelectedEquipmentName();return t&&this.ailmentEquipment?.has(t)?ir(t,!0):null}get equipmentSelected(){return!!this.getSelectedEquipmentName()}get equipmentHasUses(){return null!=this.getSelectedEquipment()?.uses}get equipmentUsesToggleId(){return`equipmentUsesToggle-${this.index??"none"}`}get equipmentUsesInputId(){return`equipmentUsesInput-${this.index??"none"}`}get equipmentUsesAvailable(){return this.equipmentSelected&&this.equipmentHasUses}getPetOptionStyle(t){const i=tr(t);return this.buildOptionStyle(i)}getEquipmentOptionStyle(t,i=!1){const n=ir(t?.name,i);return this.buildOptionStyle(n)}buildOptionStyle(t){return t?{"background-image":`url(${t})`,"background-repeat":"no-repeat","background-position":"left center","background-size":"24px 24px","padding-left":"2.5rem"}:{}}shouldShowFriendsDiedInput(){return this.friendsDiedCaps.has(this.formGroup.get("name").value)}clampFriendsDiedBeforeBattle(){const t=this.getFriendsDiedMax();this.clampControl("friendsDiedBeforeBattle",0,t)}getFriendsDiedMax(){const t=this.formGroup.get("name").value;return this.friendsDiedCaps.get(t)??5}getPetImagePath(t){if(!t)return null;const i=zc(t);return i?`assets/art/Public/Public/Pets/${i}.png`:null}applyStatCaps(t){const i=this.clampValue(t.attack,0,100),n=this.clampValue(t.health,0,100),s=this.clampValue(t.mana,0,50),r=this.clampValue(t.triggersConsumed,0,10),c=this.clampValue(t.foodsEaten,0,99);i!==t.attack&&null!=t.attack&&(this.formGroup.get("attack").setValue(i,{emitEvent:!1}),t.attack=i),n!==t.health&&null!=t.health&&(this.formGroup.get("health").setValue(n,{emitEvent:!1}),t.health=n),s!==t.mana&&null!=t.mana&&(this.formGroup.get("mana").setValue(s,{emitEvent:!1}),t.mana=s),r!==t.triggersConsumed&&null!=t.triggersConsumed&&(this.formGroup.get("triggersConsumed").setValue(r,{emitEvent:!1}),t.triggersConsumed=r),c!==t.foodsEaten&&null!=t.foodsEaten&&(this.formGroup.get("foodsEaten").setValue(c,{emitEvent:!1}),t.foodsEaten=c)}clampControl(t,i,n){const s=this.formGroup.get(t);if(!s)return;const r=s.value,c=this.clampValue(r,i,n);c!==r&&null!=r&&""!==r&&s.setValue(c,{emitEvent:!1})}clampValue(t,i,n){if(null==t||""===t)return t;const s=Number(t);return Number.isNaN(s)?t:Math.min(n,Math.max(i,s))}setBelugaSwallow(t){let i=this.player.getPet(this.index);null!=i&&(i.belugaSwallowedPet=t)}setParrotCopyPet(t){let i=this.player.getPet(this.index);null!=i&&(i.parrotCopyPet=t,"Beluga Whale"!==t&&(i.parrotCopyPetBelugaSwallowedPet=null,this.formGroup.get("parrotCopyPetBelugaSwallowedPet")?.setValue(null,{emitEvent:!1})),"Abomination"!==t&&this.clearParrotCopyPetAbominationSettings(i))}setParrotCopyPetBelugaSwallowedPet(t){let i=this.player.getPet(this.index);null!=i&&(i.parrotCopyPetBelugaSwallowedPet=t)}getParrotCopyAbominationSlotCount(){const t=Number(this.formGroup.get("exp")?.value??0);return t<2?1:t<5?2:3}getAbominationSwallowedSlotCount(){const t=Number(this.formGroup.get("exp")?.value??0);return t<2?1:t<5?2:3}setAbominationParrotCopySettings(t){let i=this.player.getPet(this.index);if(null==i)return;const n=[1,2,3];for(const s of n){const r=`abominationSwallowedPet${s}`;if("Parrot"!==this.formGroup.get(r)?.value){this.clearAbominationParrotCopySettings(i,s);continue}const d=this.formGroup.get(`${r}ParrotCopyPet`)?.value??null,h=this.formGroup.get(`${r}ParrotCopyPetBelugaSwallowedPet`)?.value??null;if(i[`${r}ParrotCopyPet`]=d,i[`${r}ParrotCopyPetBelugaSwallowedPet`]="Beluga Whale"===d?h:null,"Beluga Whale"!==d&&this.formGroup.get(`${r}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),"Abomination"===d)for(let v=1;v<=3;v++){const E=`${r}ParrotCopyPetAbominationSwallowedPet${v}`,q=this.formGroup.get(E)?.value??null,K=this.formGroup.get(`${E}BelugaSwallowedPet`)?.value??null,le=Number(this.formGroup.get(`${E}Level`)?.value??1);i[E]=q,i[`${E}BelugaSwallowedPet`]="Beluga Whale"===q?K:null,i[`${E}Level`]=le||1,i[`${E}TimesHurt`]=this.getAbominationParrotCopyAbominationTimesHurtValue(`${E}TimesHurt`),"Beluga Whale"!==q&&this.formGroup.get(`${E}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1})}else this.clearAbominationParrotCopyAbominationSettings(i,s)}}shouldShowAbominationParrotCopyAbominationTimesHurt(t,i){const s=this.formGroup.get(`abominationSwallowedPet${t}ParrotCopyPetAbominationSwallowedPet${i}`)?.value;return"Sabertooth Tiger"===s||"Tuna"===s}getAbominationParrotCopyAbominationTimesHurtValue(t){const i=this.formGroup.get(t);if(!i)return 0;const n=Number(i.value);return Number.isNaN(n)?0:Math.max(0,Math.min(99,n))}clearAbominationParrotCopySettings(t,i){const n=`abominationSwallowedPet${i}`;t[`${n}ParrotCopyPet`]=null,t[`${n}ParrotCopyPetBelugaSwallowedPet`]=null,this.formGroup.get(`${n}ParrotCopyPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${n}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.clearAbominationParrotCopyAbominationSettings(t,i)}clearAbominationParrotCopyAbominationSettings(t,i){for(let n=1;n<=3;n++){const s=`abominationSwallowedPet${i}ParrotCopyPetAbominationSwallowedPet${n}`;t[s]=null,t[`${s}BelugaSwallowedPet`]=null,t[`${s}Level`]=1,t[`${s}TimesHurt`]=0,this.formGroup.get(s)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${s}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${s}Level`)?.setValue(1,{emitEvent:!1}),this.formGroup.get(`${s}TimesHurt`)?.setValue(0,{emitEvent:!1})}}setParrotCopyPetAbominationSwallowedPets(t){let i=this.player.getPet(this.index);if(null==i)return;const n=this.formGroup.get("parrotCopyPetAbominationSwallowedPet1")?.value,s=this.formGroup.get("parrotCopyPetAbominationSwallowedPet2")?.value,r=this.formGroup.get("parrotCopyPetAbominationSwallowedPet3")?.value,c=this.formGroup.get("parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet")?.value??null,d=this.formGroup.get("parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet")?.value??null,h=this.formGroup.get("parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet")?.value??null,v=Number(this.formGroup.get("parrotCopyPetAbominationSwallowedPet1Level")?.value??1),E=Number(this.formGroup.get("parrotCopyPetAbominationSwallowedPet2Level")?.value??1),q=Number(this.formGroup.get("parrotCopyPetAbominationSwallowedPet3Level")?.value??1);i.parrotCopyPetAbominationSwallowedPet1=n??null,i.parrotCopyPetAbominationSwallowedPet2=s??null,i.parrotCopyPetAbominationSwallowedPet3=r??null,i.parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet="Beluga Whale"===n?c:null,i.parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet="Beluga Whale"===s?d:null,i.parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet="Beluga Whale"===r?h:null,"Beluga Whale"!==n&&this.formGroup.get("parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet")?.setValue(null,{emitEvent:!1}),"Beluga Whale"!==s&&this.formGroup.get("parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet")?.setValue(null,{emitEvent:!1}),"Beluga Whale"!==r&&this.formGroup.get("parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet")?.setValue(null,{emitEvent:!1}),i.parrotCopyPetAbominationSwallowedPet1Level=v||1,i.parrotCopyPetAbominationSwallowedPet2Level=E||1,i.parrotCopyPetAbominationSwallowedPet3Level=q||1,i.parrotCopyPetAbominationSwallowedPet1TimesHurt=this.getParrotAbominationTimesHurtValue("parrotCopyPetAbominationSwallowedPet1TimesHurt"),i.parrotCopyPetAbominationSwallowedPet2TimesHurt=this.getParrotAbominationTimesHurtValue("parrotCopyPetAbominationSwallowedPet2TimesHurt"),i.parrotCopyPetAbominationSwallowedPet3TimesHurt=this.getParrotAbominationTimesHurtValue("parrotCopyPetAbominationSwallowedPet3TimesHurt"),this.setParrotCopyPetAbominationParrotSettings(null)}setParrotCopyPetAbominationParrotSettings(t){let i=this.player.getPet(this.index);if(null!=i)for(let n=1;n<=3;n++){const s=`parrotCopyPetAbominationSwallowedPet${n}`;if("Parrot"!==this.formGroup.get(s)?.value){this.clearParrotCopyPetAbominationParrotSettings(i,n);continue}const c=this.formGroup.get(`${s}ParrotCopyPet`)?.value??null,d=this.formGroup.get(`${s}ParrotCopyPetBelugaSwallowedPet`)?.value??null;if(i[`${s}ParrotCopyPet`]=c,i[`${s}ParrotCopyPetBelugaSwallowedPet`]="Beluga Whale"===c?d:null,"Beluga Whale"!==c&&this.formGroup.get(`${s}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),"Abomination"===c)for(let h=1;h<=3;h++){const v=`${s}ParrotCopyPetAbominationSwallowedPet${h}`,E=this.formGroup.get(v)?.value??null,q=this.formGroup.get(`${v}BelugaSwallowedPet`)?.value??null,K=Number(this.formGroup.get(`${v}Level`)?.value??1);i[v]=E,i[`${v}BelugaSwallowedPet`]="Beluga Whale"===E?q:null,i[`${v}Level`]=K||1,i[`${v}TimesHurt`]=this.getParrotCopyPetAbominationParrotAbominationTimesHurtValue(`${v}TimesHurt`),"Beluga Whale"!==E&&this.formGroup.get(`${v}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1})}else this.clearParrotCopyPetAbominationParrotAbominationSettings(i,n)}}shouldShowParrotCopyPetAbominationParrotAbominationTimesHurt(t,i){const s=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${t}ParrotCopyPetAbominationSwallowedPet${i}`)?.value;return"Sabertooth Tiger"===s||"Tuna"===s}getParrotCopyPetAbominationParrotAbominationTimesHurtValue(t){const i=this.formGroup.get(t);if(!i)return 0;const n=Number(i.value);return Number.isNaN(n)?0:Math.max(0,Math.min(99,n))}clearParrotCopyPetAbominationParrotSettings(t,i){const n=`parrotCopyPetAbominationSwallowedPet${i}`;t[`${n}ParrotCopyPet`]=null,t[`${n}ParrotCopyPetBelugaSwallowedPet`]=null,this.formGroup.get(`${n}ParrotCopyPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${n}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.clearParrotCopyPetAbominationParrotAbominationSettings(t,i)}clearParrotCopyPetAbominationParrotAbominationSettings(t,i){for(let n=1;n<=3;n++){const s=`parrotCopyPetAbominationSwallowedPet${i}ParrotCopyPetAbominationSwallowedPet${n}`;t[s]=null,t[`${s}BelugaSwallowedPet`]=null,t[`${s}Level`]=1,t[`${s}TimesHurt`]=0,this.formGroup.get(s)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${s}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${s}Level`)?.setValue(1,{emitEvent:!1}),this.formGroup.get(`${s}TimesHurt`)?.setValue(0,{emitEvent:!1})}}shouldShowParrotCopyPetAbominationTimesHurt(t){const n=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${t+1}`)?.value;return"Sabertooth Tiger"===n||"Tuna"===n}getParrotAbominationTimesHurtValue(t){const i=this.formGroup.get(t);if(!i)return 0;const n=Number(i.value);return Number.isNaN(n)?0:Math.max(0,Math.min(99,n))}clearParrotCopyPetAbominationSettings(t){for(const i of mL){const n=i.endsWith("Level")?1:i.endsWith("TimesHurt")?0:null;t[i]=n,this.formGroup.get(i)?.setValue(n,{emitEvent:!1})}for(let i=1;i<=3;i++)this.clearParrotCopyPetAbominationParrotSettings(t,i)}setSarcasticFringeheadSwallowedPet(t){let i=this.player.getPet(this.index);null!=i&&(i.sarcasticFringeheadSwallowedPet=t)}setSwallowedPets(t){let i=this.player.getPet(this.index);if(null==i)return;const n=this.formGroup.get("abominationSwallowedPet1").value,s=this.formGroup.get("abominationSwallowedPet2").value,r=this.formGroup.get("abominationSwallowedPet3").value,c=this.formGroup.get("abominationSwallowedPet1BelugaSwallowedPet")?.value??null,d=this.formGroup.get("abominationSwallowedPet2BelugaSwallowedPet")?.value??null,h=this.formGroup.get("abominationSwallowedPet3BelugaSwallowedPet")?.value??null,v=Number(this.formGroup.get("abominationSwallowedPet1Level").value??1),E=Number(this.formGroup.get("abominationSwallowedPet2Level").value??1),q=Number(this.formGroup.get("abominationSwallowedPet3Level").value??1);i.abominationSwallowedPet1=n??null,i.abominationSwallowedPet2=s??null,i.abominationSwallowedPet3=r??null,i.abominationSwallowedPet1BelugaSwallowedPet=c,i.abominationSwallowedPet2BelugaSwallowedPet=d,i.abominationSwallowedPet3BelugaSwallowedPet=h,i.abominationSwallowedPet1Level=v||1,i.abominationSwallowedPet2Level=E||1,i.abominationSwallowedPet3Level=q||1,i.abominationSwallowedPet1TimesHurt=this.getAbominationTimesHurtValue("abominationSwallowedPet1TimesHurt"),i.abominationSwallowedPet2TimesHurt=this.getAbominationTimesHurtValue("abominationSwallowedPet2TimesHurt"),i.abominationSwallowedPet3TimesHurt=this.getAbominationTimesHurtValue("abominationSwallowedPet3TimesHurt"),this.setAbominationParrotCopySettings(null)}shouldShowAbominationSwallowTimesHurt(t){const n=this.formGroup.get(`abominationSwallowedPet${t+1}`)?.value;return"Sabertooth Tiger"===n||"Tuna"===n}setBattlesFought(t){let i=this.player.getPet(this.index);null!=i&&(i.battlesFought=t)}setTimesHurt(t){let i=this.player.getPet(this.index);null!=i&&(i.timesHurt=t,this.substitutePet(!1))}getAbominationTimesHurtValue(t){const i=this.formGroup.get(t);if(!i)return 0;const n=Number(i.value);return Number.isNaN(n)?0:Math.max(0,Math.min(99,n))}removePet(){this.player.setPet(this.index,null,!0),this.formGroup.get("name").setValue(null,{emitEvent:!1}),this.formGroup.get("attack").setValue(0,{emitEvent:!1}),this.formGroup.get("health").setValue(0,{emitEvent:!1}),this.formGroup.get("exp").setValue(0,{emitEvent:!1}),this.formGroup.get("equipment").setValue(null,{emitEvent:!1}),this.formGroup.get("equipmentUses").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(0,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(0,{emitEvent:!1}),this.formGroup.get("foodsEaten").setValue(0,{emitEvent:!1})}optionHidden(t){return!(this.allPets||this.getPlayerPackSet().has(t)||this.player.getPet(this.index)?.name==t)}initPackSets(){for(const t of Kc)this.basePackSets.set(t,this.buildPackSetFromMap(this.petService.basePackPetsByName[t]))}buildPackSetFromMap(t){const i=new Set;for(const n of t.values())for(const s of n)i.add(s);return i}invalidatePackCaches(){this.customPackPetsCache.clear(),this.cachedPlayerPack=null,this.cachedOpponentPack=null,this.cachedPlayerPackSet=null,this.cachedOpponentPackSet=null}getPlayerPackSet(){const t=this.player?.pack||"Turtle";return(this.cachedPlayerPack!==t||!this.cachedPlayerPackSet)&&(this.cachedPlayerPack=t,this.cachedPlayerPackSet=this.getPackSetForName(t)),this.cachedPlayerPackSet}getOpponentPackSet(){const t=this.opponent?.pack||"Turtle";return(this.cachedOpponentPack!==t||!this.cachedOpponentPackSet)&&(this.cachedOpponentPack=t,this.cachedOpponentPackSet=this.getPackSetForName(t)),this.cachedOpponentPackSet}getPackSetForName(t){const i=this.basePackSets.get(t);if(i)return i;const n=this.customPackPetsCache.get(t);if(n)return n;const s=this.buildCustomPackSet(t);return this.customPackPetsCache.set(t,s),s}buildCustomPackSet(t){const i=this.basePackSets.get("Turtle")??new Set,n=this.customPacks;if(!n?.controls?.length)return i;const s=n.controls.find(c=>c.get("name").value===t);if(!s)return i;const r=new Set;for(let c=1;c<=6;c++){const d=s.get(`tier${c}Pets`).value||[];for(const h of d)h&&r.add(h)}return r}fixLoadEquipment(){const t=this.formGroup.get("equipment").value,i=this.normalizeEquipmentValue(t);i!==t&&setTimeout(()=>{this.formGroup.get("equipment").setValue(i,{emitEvent:!1}),this.formGroup.get("equipment").updateValueAndValidity({emitEvent:!1})})}normalizeEquipmentValue(t){return t?"string"==typeof t?t:"object"==typeof t&&"string"==typeof t.name?t.name:null:null}getSelectedEquipmentName(){return this.normalizeEquipmentValue(this.formGroup?.get("equipment")?.value)}getSelectedEquipment(){const t=this.getSelectedEquipmentName();return t?this.equipment.get(t)??this.ailmentEquipment.get(t)??null:null}static \u0275fac=function(i){return new(i||o)(g.rXU(xr),g.rXU(pi),g.rXU(de.gRc))};static \u0275cmp=g.VBU({type:o,selectors:[["app-pet-selector"]],inputs:{pet:"pet",player:"player",opponent:"opponent",index:"index",ailments:"ailments",allPets:"allPets",mana:"mana",triggersConsumed:"triggersConsumed",formGroup:"formGroup",customPacks:"customPacks",flipImage:"flipImage",allowEquipmentUseOverrides:"allowEquipmentUseOverrides",showSwallowedLevels:"showSwallowedLevels",showTokenPets:"showTokenPets"},features:[g.OA$],decls:14,vars:20,consts:[[1,"card","p-2"],[1,"row","form-group","g-0",3,"formGroup"],[3,"formGroup"],[1,"col-12","mb-2"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center",3,"click"],["class","btn-icon me-2","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc",4,"ngIf"],[1,"btn-text"],[1,"fas","fa-chevron-down","ms-auto"],[3,"openSelection","formGroup","pet","showSwallowedLevels"],[3,"openSelection","formGroup","equipmentImageSrc","ailmentImageSrc","allowEquipmentUseOverrides","equipmentUsesAvailable","equipmentUsesInputId"],["class","col-12 pet-art mb-2",3,"equipment-left","equipment-right",4,"ngIf"],[3,"formGroup","petName","mana","triggersConsumed","attackHealthMax"],[3,"type","showAllPets","currentPack","select","close",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async",1,"btn-icon","me-2",3,"ngSrc"],[1,"col-12","pet-art","mb-2"],["width","72","height","72","loading","lazy","decoding","async",3,"error","ngSrc","alt"],["class","equipment-art",4,"ngIf"],["class","swallowed-art",4,"ngIf"],["class","swallowed-art swallowed-stack",4,"ngIf"],[1,"equipment-art"],["width","32","height","32","loading","lazy","decoding","async",3,"ngSrc","alt","error",4,"ngIf"],["width","32","height","32","loading","lazy","decoding","async",3,"error","ngSrc","alt"],[1,"swallowed-art"],["width","32","height","32","loading","lazy","decoding","async","alt","Swallowed Pet",3,"ngSrc"],[1,"swallowed-art","swallowed-stack"],["width","32","height","32","loading","lazy","decoding","async","alt","Swallowed Pet",3,"ngSrc",4,"ngFor","ngForOf","ngForTrackBy"],[3,"select","close","type","showAllPets","currentPack"]],template:function(i,n){1&i&&(g.j41(0,"div",0)(1,"form",1),g.nrm(2,"app-pet-level-selector",2),g.j41(3,"div",3)(4,"button",4),g.bIt("click",function(){return n.openSelectionDialog("pet")}),g.DNE(5,iB,1,1,"img",5),g.j41(6,"span",6),g.EFF(7),g.k0s(),g.nrm(8,"i",7),g.k0s()(),g.j41(9,"app-swallowed-pet-selector",8),g.bIt("openSelection",function(r){return n.openSelectionDialog(r.type,r.index,r.target,r.parentIndex)}),g.k0s(),g.j41(10,"app-pet-equipment-selector",9),g.bIt("openSelection",function(){return n.openSelectionDialog("equipment")}),g.k0s(),g.DNE(11,cB,5,11,"div",10),g.nrm(12,"app-pet-stats-selector",11),g.k0s()(),g.DNE(13,uB,1,3,"app-item-selection-dialog",12)),2&i&&(g.R7$(),g.Y8G("formGroup",n.formGroup),g.R7$(),g.Y8G("formGroup",n.formGroup),g.R7$(3),g.Y8G("ngIf",n.petImageSrc),g.R7$(2),g.JRh(n.formGroup.get("name").value||"Select Pet"),g.R7$(2),g.Y8G("formGroup",n.formGroup)("pet",n.pet)("showSwallowedLevels",n.showSwallowedLevels),g.R7$(),g.Y8G("formGroup",n.formGroup)("equipmentImageSrc",n.equipmentImageSrc)("ailmentImageSrc",n.ailmentImageSrc)("allowEquipmentUseOverrides",n.allowEquipmentUseOverrides)("equipmentUsesAvailable",n.equipmentUsesAvailable)("equipmentUsesInputId",n.equipmentUsesInputId),g.R7$(),g.Y8G("ngIf",n.petImageSrc&&!n.petImageBroken),g.R7$(),g.Y8G("formGroup",n.formGroup)("petName",null==n.pet?null:n.pet.name)("mana",n.mana)("triggersConsumed",n.triggersConsumed)("attackHealthMax",n.attackHealthMax),g.R7$(),g.Y8G("ngIf",n.showSelectionDialog))},dependencies:[si.MD,si.Sq,si.bT,Wi,Y.X1,Y.qT,Y.cb,Y.j4,Y.YN,gL,g4,P4,T4,tB],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(fist-from-textmap.9771b19acdf1bddd.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(heart-from-textmap.f0bd8a09c9d0889c.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(mana-from-textmap.f400c0a4b51c3594.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-label[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:600;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:500;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.9rem;text-shadow:0 2px 4px rgba(0,0,0,.5)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:700;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"],changeDetection:0})}return o})();var fw=B(5401),VM=B(2291);function yw(o){var e=-1,t=null==o?0:o.length;for(this.__data__=new VM.A;++e<t;)this.add(o[e])}yw.prototype.add=yw.prototype.push=function pB(o){return this.__data__.set(o,"__lodash_hash_undefined__"),this},yw.prototype.has=function mB(o){return this.__data__.has(o)};const yB=yw,vB=function bB(o,e){for(var t=-1,i=null==o?0:o.length;++t<i;)if(e(o[t],t,o))return!0;return!1},SB=function AB(o,e){return o.has(e)},yL=function _B(o,e,t,i,n,s){var r=1&t,c=o.length,d=e.length;if(c!=d&&!(r&&d>c))return!1;var h=s.get(o),v=s.get(e);if(h&&v)return h==e&&v==o;var E=-1,q=!0,K=2&t?new yB:void 0;for(s.set(o,e),s.set(e,o);++E<c;){var le=o[E],ce=e[E];if(i)var Ae=r?i(ce,le,E,e,o,s):i(le,ce,E,o,e,s);if(void 0!==Ae){if(Ae)continue;q=!1;break}if(K){if(!vB(e,function(Ce,Qe){if(!SB(K,Qe)&&(le===Ce||n(le,Ce,t,i,s)))return K.push(Qe)})){q=!1;break}}else if(le!==ce&&!n(le,ce,t,i,s)){q=!1;break}}return s.delete(o),s.delete(e),q};var bw=B(6944),bL=B(6509),wB=B(1319);const CB=function TB(o){var e=-1,t=Array(o.size);return o.forEach(function(i,n){t[++e]=[n,i]}),t},xB=function EB(o){var e=-1,t=Array(o.size);return o.forEach(function(i){t[++e]=i}),t};var vL=bw.A?bw.A.prototype:void 0,UM=vL?vL.valueOf:void 0;var AL=B(7895),KB=Object.prototype.hasOwnProperty;var SL=B(1350),PL=B(9377),XB=B(8885),kL="[object Arguments]",_L="[object Array]",vw="[object Object]",wL=Object.prototype.hasOwnProperty;const e$=function ZB(o,e,t,i,n,s){var r=(0,M.A)(o),c=(0,M.A)(e),d=r?_L:(0,SL.A)(o),h=c?_L:(0,SL.A)(e),v=(d=d==kL?vw:d)==vw,E=(h=h==kL?vw:h)==vw,q=d==h;if(q&&(0,PL.A)(o)){if(!(0,PL.A)(e))return!1;r=!0,v=!1}if(q&&!v)return s||(s=new fw.A),r||(0,XB.A)(o)?yL(o,e,t,i,n,s):function jB(o,e,t,i,n,s,r){switch(t){case"[object DataView]":if(o.byteLength!=e.byteLength||o.byteOffset!=e.byteOffset)return!1;o=o.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(o.byteLength!=e.byteLength||!s(new bL.A(o),new bL.A(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,wB.A)(+o,+e);case"[object Error]":return o.name==e.name&&o.message==e.message;case"[object RegExp]":case"[object String]":return o==e+"";case"[object Map]":var c=CB;case"[object Set]":if(c||(c=xB),o.size!=e.size&&!(1&i))return!1;var h=r.get(o);if(h)return h==e;i|=2,r.set(o,e);var v=yL(c(o),c(e),i,n,s,r);return r.delete(o),v;case"[object Symbol]":if(UM)return UM.call(o)==UM.call(e)}return!1}(o,e,d,t,i,n,s);if(!(1&t)){var K=v&&wL.call(o,"__wrapped__"),le=E&&wL.call(e,"__wrapped__");if(K||le){var ce=K?o.value():o,Ae=le?e.value():e;return s||(s=new fw.A),n(ce,Ae,t,i,s)}}return!!q&&(s||(s=new fw.A),function zB(o,e,t,i,n,s){var r=1&t,c=(0,AL.A)(o),d=c.length;if(d!=(0,AL.A)(e).length&&!r)return!1;for(var E=d;E--;){var q=c[E];if(!(r?q in e:KB.call(e,q)))return!1}var K=s.get(o),le=s.get(e);if(K&&le)return K==e&&le==o;var ce=!0;s.set(o,e),s.set(e,o);for(var Ae=r;++E<d;){var Ce=o[q=c[E]],Qe=e[q];if(i)var Ke=r?i(Qe,Ce,q,e,o,s):i(Ce,Qe,q,o,e,s);if(!(void 0===Ke?Ce===Qe||n(Ce,Qe,t,i,s):Ke)){ce=!1;break}Ae||(Ae="constructor"==q)}if(ce&&!Ae){var Ye=o.constructor,Re=e.constructor;Ye!=Re&&"constructor"in o&&"constructor"in e&&!("function"==typeof Ye&&Ye instanceof Ye&&"function"==typeof Re&&Re instanceof Re)&&(ce=!1)}return s.delete(o),s.delete(e),ce}(o,e,t,i,n,s))};var WM=B(2661);const CL=function TL(o,e,t,i,n){return o===e||(null==o||null==e||!(0,WM.A)(o)&&!(0,WM.A)(e)?o!=o&&e!=e:e$(o,e,t,i,TL,n))};var a$=B(554);const EL=function o$(o){return o==o&&!(0,a$.A)(o)},xL=function c$(o,e){return function(t){return null!=t&&t[o]===e&&(void 0!==e||o in Object(t))}},d$=function u$(o){var e=function s$(o){for(var e=(0,Oc.A)(o),t=e.length;t--;){var i=e[t],n=o[i];e[t]=[i,n,EL(n)]}return e}(o);return 1==e.length&&e[0][2]?xL(e[0][0],e[0][1]):function(t){return t===o||function n$(o,e,t,i){var n=t.length,s=n,r=!i;if(null==o)return!s;for(o=Object(o);n--;){var c=t[n];if(r&&c[2]?c[1]!==o[c[0]]:!(c[0]in o))return!1}for(;++n<s;){var d=(c=t[n])[0],h=o[d],v=c[1];if(r&&c[2]){if(void 0===h&&!(d in o))return!1}else{var E=new fw.A;if(i)var q=i(h,v,d,o,e,E);if(!(void 0===q?CL(v,h,3,i,E):q))return!1}}return!0}(t,o,e)}};var h$=B(5281);const KM=function g$(o){return"symbol"==typeof o||(0,WM.A)(o)&&"[object Symbol]"==(0,h$.A)(o)};var m$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f$=/^\w*$/;const zM=function y$(o,e){if((0,M.A)(o))return!1;var t=typeof o;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=o&&!KM(o))||f$.test(o)||!m$.test(o)||null!=e&&o in Object(e)};function YM(o,e){if("function"!=typeof o||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var i=arguments,n=e?e.apply(this,i):i[0],s=t.cache;if(s.has(n))return s.get(n);var r=o.apply(this,i);return t.cache=s.set(n,r)||s,r};return t.cache=new(YM.Cache||VM.A),t}YM.Cache=VM.A;const v$=YM;var k$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_$=/\\(\\)?/g;const T$=function S$(o){var e=v$(o,function(i){return 500===t.size&&t.clear(),i}),t=e.cache;return e}(function(o){var e=[];return 46===o.charCodeAt(0)&&e.push(""),o.replace(k$,function(t,i,n,s){e.push(n?s.replace(_$,"$1"):i||t)}),e});var DL=bw.A?bw.A.prototype:void 0,ML=DL?DL.toString:void 0;const E$=function IL(o){if("string"==typeof o)return o;if((0,M.A)(o))return Nc(o,IL)+"";if(KM(o))return ML?ML.call(o):"";var e=o+"";return"0"==e&&1/o==-1/0?"-0":e},D$=function x$(o){return null==o?"":E$(o)},XM=function M$(o,e){return(0,M.A)(o)?o:zM(o,e)?[o]:T$(D$(o))},DA=function R$(o){if("string"==typeof o||KM(o))return o;var e=o+"";return"0"==e&&1/o==-1/0?"-0":e},QM=function L$(o,e){for(var t=0,i=(e=XM(e,o)).length;null!=o&&t<i;)o=o[DA(e[t++])];return t&&t==i?o:void 0},B$=function O$(o,e){return null!=o&&e in Object(o)};var $$=B(6513),RL=B(8606),G$=B(5481);const V$=function j$(o,e){return null!=o&&function H$(o,e,t){for(var i=-1,n=(e=XM(e,o)).length,s=!1;++i<n;){var r=DA(e[i]);if(!(s=null!=o&&t(o,r)))break;o=o[r]}return s||++i!=n?s:!!(n=null==o?0:o.length)&&(0,G$.A)(n)&&(0,RL.A)(r,n)&&((0,M.A)(o)||(0,$$.A)(o))}(o,e,B$)},z$=function K$(o,e){return zM(o)&&EL(e)?xL(DA(o),e):function(t){var i=function N$(o,e,t){var i=null==o?void 0:QM(o,e);return void 0===i?t:i}(t,o);return void 0===i&&i===e?V$(t,o):CL(e,i,3)}},X$=function Y$(o){return o},iG=function tG(o){return zM(o)?function Q$(o){return function(e){return e?.[o]}}(DA(o)):function Z$(o){return function(e){return QM(e,o)}}(o)},uG=function cG(o,e){return e.length<2?o:QM(o,function sG(o,e,t){var i=-1,n=o.length;e<0&&(e=-e>n?0:n+e),(t=t>n?n:t)<0&&(t+=n),n=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(n);++i<n;)s[i]=o[i+e];return s}(e,0,-1))};var hG=Object.prototype.hasOwnProperty;const gG=function pG(o,e){var t=-1,i=(e=XM(e,o)).length;if(!i)return!0;for(var n=null==o||"object"!=typeof o&&"function"!=typeof o;++t<i;){var s=e[t];if("string"==typeof s){if("__proto__"===s&&!hG.call(o,"__proto__"))return!1;if("constructor"===s&&t+1<i&&"string"==typeof e[t+1]&&"prototype"===e[t+1]){if(n&&0===t)continue;return!1}}}var r=uG(o,e);return null==r||delete r[DA(function aG(o){var e=null==o?0:o.length;return e?o[e-1]:void 0}(e))]};var fG=Array.prototype.splice;const AG=function vG(o,e){var t=[];if(!o||!o.length)return t;var i=-1,n=[],s=o.length;for(e=function nG(o){return"function"==typeof o?o:null==o?X$:"object"==typeof o?(0,M.A)(o)?z$(o[0],o[1]):d$(o):iG(o)}(e);++i<s;){var r=o[i];e(r,i,o)&&(t.push(r),n.push(i))}return function yG(o,e){for(var t=o?e.length:0,i=t-1;t--;){var n=e[t];if(t==i||n!==s){var s=n;(0,RL.A)(n)?fG.call(o,n,1):gG(o,n)}}}(o,n),t};function SG(o,e){1&o&&(g.j41(0,"div",12),g.EFF(1," That name is not allowed. "),g.k0s())}function PG(o,e){if(1&o){const t=g.RV6();g.j41(0,"div",13),g.nrm(1,"input",14),g.j41(2,"label",15)(3,"img",16),g.bIt("error",function(n){w.eBV(t);const s=g.XpG();return w.Njj(s.handlePetIconError(n))}),g.k0s(),g.EFF(4),g.k0s()()}if(2&o){const t=e.$implicit,i=g.XpG();g.R7$(),g.Y8G("id",t)("formControlName",t),g.R7$(),g.Y8G("for",t),g.R7$(),g.Y8G("src",i.getPetIcon(t),g.B4B)("alt",t+" icon"),g.R7$(),g.SpI(" ",t," ")}}function kG(o,e){if(1&o){const t=g.RV6();g.j41(0,"div",13),g.nrm(1,"input",14),g.j41(2,"label",15)(3,"img",16),g.bIt("error",function(n){w.eBV(t);const s=g.XpG();return w.Njj(s.handlePetIconError(n))}),g.k0s(),g.EFF(4),g.k0s()()}if(2&o){const t=e.$implicit,i=g.XpG();g.R7$(),g.Y8G("id",t)("formControlName",t),g.R7$(),g.Y8G("for",t),g.R7$(),g.Y8G("src",i.getPetIcon(t),g.B4B)("alt",t+" icon"),g.R7$(),g.SpI(" ",t," ")}}function _G(o,e){if(1&o){const t=g.RV6();g.j41(0,"div",13),g.nrm(1,"input",14),g.j41(2,"label",15)(3,"img",16),g.bIt("error",function(n){w.eBV(t);const s=g.XpG();return w.Njj(s.handlePetIconError(n))}),g.k0s(),g.EFF(4),g.k0s()()}if(2&o){const t=e.$implicit,i=g.XpG();g.R7$(),g.Y8G("id",t)("formControlName",t),g.R7$(),g.Y8G("for",t),g.R7$(),g.Y8G("src",i.getPetIcon(t),g.B4B)("alt",t+" icon"),g.R7$(),g.SpI(" ",t," ")}}function wG(o,e){if(1&o){const t=g.RV6();g.j41(0,"div",13),g.nrm(1,"input",14),g.j41(2,"label",15)(3,"img",16),g.bIt("error",function(n){w.eBV(t);const s=g.XpG();return w.Njj(s.handlePetIconError(n))}),g.k0s(),g.EFF(4),g.k0s()()}if(2&o){const t=e.$implicit,i=g.XpG();g.R7$(),g.Y8G("id",t)("formControlName",t),g.R7$(),g.Y8G("for",t),g.R7$(),g.Y8G("src",i.getPetIcon(t),g.B4B)("alt",t+" icon"),g.R7$(),g.SpI(" ",t," ")}}function TG(o,e){if(1&o){const t=g.RV6();g.j41(0,"div",13),g.nrm(1,"input",14),g.j41(2,"label",15)(3,"img",16),g.bIt("error",function(n){w.eBV(t);const s=g.XpG();return w.Njj(s.handlePetIconError(n))}),g.k0s(),g.EFF(4),g.k0s()()}if(2&o){const t=e.$implicit,i=g.XpG();g.R7$(),g.Y8G("id",t)("formControlName",t),g.R7$(),g.Y8G("for",t),g.R7$(),g.Y8G("src",i.getPetIcon(t),g.B4B)("alt",t+" icon"),g.R7$(),g.SpI(" ",t," ")}}function CG(o,e){if(1&o){const t=g.RV6();g.j41(0,"div",13),g.nrm(1,"input",14),g.j41(2,"label",15)(3,"img",16),g.bIt("error",function(n){w.eBV(t);const s=g.XpG();return w.Njj(s.handlePetIconError(n))}),g.k0s(),g.EFF(4),g.k0s()()}if(2&o){const t=e.$implicit,i=g.XpG();g.R7$(),g.Y8G("id",t)("formControlName",t),g.R7$(),g.Y8G("for",t),g.R7$(),g.Y8G("src",i.getPetIcon(t),g.B4B)("alt",t+" icon"),g.R7$(),g.SpI(" ",t," ")}}function EG(o,e){1&o&&(g.j41(0,"div",12),g.EFF(1,"Name is required."),g.k0s())}let xG=(()=>{class o{formGroup;petPackMap;submitEvent=new w.bkB;cancelEvent=new w.bkB;checkboxFormGroup;loaded=!1;fallbackIcon="assets/art/Public/Public/Icons/Level_L1.png";constructor(){}ngOnInit(){this.initCheckboxFormGroup(),this.formGroup.updateValueAndValidity()}initCheckboxFormGroup(){let t=new Y.gE({}),i=new Y.gE({}),n=new Y.gE({}),s=new Y.gE({}),r=new Y.gE({}),c=new Y.gE({});for(let d of this.getPets(1)){let h=new Y.MJ(this.formGroup.get("tier1Pets").value.includes(d));h.valueChanges.subscribe(v=>{this.processCheckboxChange(1,d,v)}),t.addControl(d,h)}for(let d of this.getPets(2)){let h=new Y.MJ(this.formGroup.get("tier2Pets").value.includes(d));h.valueChanges.subscribe(v=>{this.processCheckboxChange(2,d,v)}),i.addControl(d,h)}for(let d of this.getPets(3)){let h=new Y.MJ(this.formGroup.get("tier3Pets").value.includes(d));h.valueChanges.subscribe(v=>{this.processCheckboxChange(3,d,v)}),n.addControl(d,h)}for(let d of this.getPets(4)){let h=new Y.MJ(this.formGroup.get("tier4Pets").value.includes(d));h.valueChanges.subscribe(v=>{this.processCheckboxChange(4,d,v)}),s.addControl(d,h)}for(let d of this.getPets(5)){let h=new Y.MJ(this.formGroup.get("tier5Pets").value.includes(d));h.valueChanges.subscribe(v=>{this.processCheckboxChange(5,d,v)}),r.addControl(d,h)}for(let d of this.getPets(6)){let h=new Y.MJ(this.formGroup.get("tier6Pets").value.includes(d));h.valueChanges.subscribe(v=>{this.processCheckboxChange(6,d,v)}),c.addControl(d,h)}this.checkboxFormGroup=new Y.gE({tier1Pets:t,tier2Pets:i,tier3Pets:n,tier4Pets:s,tier5Pets:r,tier6Pets:c})}getCheckboxFormGroup(t){return this.checkboxFormGroup.get(`tier${t}Pets`)}getPets(t){let i=[];for(let[n,s]of this.petPackMap.get(t))i.push(...s);return i=[...new Set(i)],i}getCount(t){return this.formGroup.get(`tier${t}Pets`).value.length}processCheckboxChange(t,i,n){let s=this.formGroup.get(`tier${t}Pets`).value;n?s.push(i):AG(s,r=>r===i),this.formGroup.get(`tier${t}Pets`).updateValueAndValidity()}getPetIcon(t){return tr(t)??this.fallbackIcon}handlePetIconError(t){const i=t.target;i?.dataset?.fallback||(i.dataset.fallback="true",i.src=this.fallbackIcon)}trackByPetName(t,i){return i??String(t)}submit(){this.submitEvent.emit(this.formGroup)}cancel(){confirm("Are you sure you want to cancel?")&&this.cancelEvent.emit(this.formGroup)}submitDisabled(){return this.formGroup.get("name").invalid}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=g.VBU({type:o,selectors:[["app-custom-pack-form"]],inputs:{formGroup:"formGroup",petPackMap:"petPackMap"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:68,vars:40,consts:[[3,"formGroup"],[1,"row","mb-4"],[1,"col-12"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],["class","invalid",4,"ngIf"],[1,"row","mb-4",3,"formGroup"],[1,"row"],[1,"col-12","editor-grid"],["class","form-check",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-danger",3,"click"],[1,"invalid"],[1,"form-check"],["type","checkbox","value","",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label","pet-label",3,"for"],[1,"pet-icon",3,"error","src","alt"]],template:function(i,n){if(1&i&&(g.j41(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),g.EFF(4,"Pack Name"),g.k0s(),g.nrm(5,"input",4),g.DNE(6,SG,2,0,"div",5),g.k0s()(),g.j41(7,"div",6)(8,"div",2)(9,"h3"),g.EFF(10," Tier 1 Pets "),g.j41(11,"span"),g.EFF(12),g.k0s()(),g.j41(13,"div",7)(14,"div",8),g.DNE(15,PG,5,6,"div",9),g.k0s()()()(),g.j41(16,"div",6)(17,"div",2)(18,"h3"),g.EFF(19," Tier 2 Pets "),g.j41(20,"span"),g.EFF(21),g.k0s()(),g.j41(22,"div",7)(23,"div",8),g.DNE(24,kG,5,6,"div",9),g.k0s()()()(),g.j41(25,"div",6)(26,"div",2)(27,"h3"),g.EFF(28," Tier 3 Pets "),g.j41(29,"span"),g.EFF(30),g.k0s()(),g.j41(31,"div",7)(32,"div",8),g.DNE(33,_G,5,6,"div",9),g.k0s()()()(),g.j41(34,"div",6)(35,"div",2)(36,"h3"),g.EFF(37," Tier 4 Pets "),g.j41(38,"span"),g.EFF(39),g.k0s()(),g.j41(40,"div",7)(41,"div",8),g.DNE(42,wG,5,6,"div",9),g.k0s()()()(),g.j41(43,"div",6)(44,"div",2)(45,"h3"),g.EFF(46," Tier 5 Pets "),g.j41(47,"span"),g.EFF(48),g.k0s()(),g.j41(49,"div",7)(50,"div",8),g.DNE(51,TG,5,6,"div",9),g.k0s()()()(),g.j41(52,"div",6)(53,"div",2)(54,"h3"),g.EFF(55," Tier 6 Pets "),g.j41(56,"span"),g.EFF(57),g.k0s()(),g.j41(58,"div",7)(59,"div",8),g.DNE(60,CG,5,6,"div",9),g.k0s()()()(),g.j41(61,"div",7)(62,"div",2)(63,"button",10),g.bIt("click",function(){return n.submit()}),g.EFF(64," Submit Pack "),g.k0s(),g.j41(65,"button",11),g.bIt("click",function(){return n.cancel()}),g.EFF(66,"Cancel"),g.k0s(),g.DNE(67,EG,2,0,"div",5),g.k0s()()()),2&i){let s;g.Y8G("formGroup",n.formGroup),g.R7$(6),g.Y8G("ngIf",null==(s=n.formGroup.get("name").errors)?null:s.forbiddenName),g.R7$(),g.Y8G("formGroup",n.getCheckboxFormGroup(1)),g.R7$(4),g.HbH(10==n.getCount(1)?"valid":"invalid"),g.R7$(),g.SpI("",n.getCount(1),"/10"),g.R7$(3),g.Y8G("ngForOf",n.getPets(1))("ngForTrackBy",n.trackByPetName),g.R7$(),g.Y8G("formGroup",n.getCheckboxFormGroup(2)),g.R7$(4),g.HbH(10==n.getCount(2)?"valid":"invalid"),g.R7$(),g.SpI("",n.getCount(2),"/10"),g.R7$(3),g.Y8G("ngForOf",n.getPets(2))("ngForTrackBy",n.trackByPetName),g.R7$(),g.Y8G("formGroup",n.getCheckboxFormGroup(3)),g.R7$(4),g.HbH(10==n.getCount(3)?"valid":"invalid"),g.R7$(),g.SpI("",n.getCount(3),"/10"),g.R7$(3),g.Y8G("ngForOf",n.getPets(3))("ngForTrackBy",n.trackByPetName),g.R7$(),g.Y8G("formGroup",n.getCheckboxFormGroup(4)),g.R7$(4),g.HbH(10==n.getCount(4)?"valid":"invalid"),g.R7$(),g.SpI("",n.getCount(4),"/10"),g.R7$(3),g.Y8G("ngForOf",n.getPets(4))("ngForTrackBy",n.trackByPetName),g.R7$(),g.Y8G("formGroup",n.getCheckboxFormGroup(5)),g.R7$(4),g.HbH(10==n.getCount(5)?"valid":"invalid"),g.R7$(),g.SpI("",n.getCount(5),"/10"),g.R7$(3),g.Y8G("ngForOf",n.getPets(5))("ngForTrackBy",n.trackByPetName),g.R7$(),g.Y8G("formGroup",n.getCheckboxFormGroup(6)),g.R7$(4),g.HbH(10==n.getCount(6)?"valid":"invalid"),g.R7$(),g.SpI("",n.getCount(6),"/10"),g.R7$(3),g.Y8G("ngForOf",n.getPets(6))("ngForTrackBy",n.trackByPetName),g.R7$(3),g.Y8G("disabled",n.submitDisabled()),g.R7$(4),g.Y8G("ngIf",n.submitDisabled())}},dependencies:[si.MD,si.Sq,si.bT,Y.X1,Y.qT,Y.me,Y.Zm,Y.BC,Y.cb,Y.j4,Y.JD],styles:[".editor-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));grid-gap:1rem}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:#0ab40a}.form-check[_ngcontent-%COMP%]{min-height:2.5rem}.pet-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.35rem;line-height:1.2;flex-wrap:wrap;white-space:normal}.pet-icon[_ngcontent-%COMP%]{width:26px;height:26px;object-fit:contain}"]})}return o})();var LL=B(3077);function DG(o,e){if(1&o){const t=g.RV6();g.j41(0,"div",2)(1,"div",3)(2,"app-custom-pack-form",4),g.bIt("submitEvent",function(n){w.eBV(t);const s=g.XpG();return w.Njj(s.submitEvent(n))})("cancelEvent",function(n){w.eBV(t);const s=g.XpG();return w.Njj(s.cancelEvent(n))}),g.k0s()()()}if(2&o){const t=g.XpG();g.R7$(2),g.Y8G("formGroup",t.makeFormGroup(t.focusedGroup))("petPackMap",t.petPackMap)}}function MG(o,e){1&o&&(g.j41(0,"span",17),g.EFF(1,"Valid"),g.k0s())}function IG(o,e){1&o&&(g.j41(0,"span",18),g.EFF(1,"Invalid"),g.k0s())}function RG(o,e){if(1&o){const t=g.RV6();g.j41(0,"tr")(1,"td",12),g.EFF(2),g.k0s(),g.j41(3,"td",12),g.DNE(4,MG,2,0,"span",13)(5,IG,2,0,"span",14),g.k0s(),g.j41(6,"td")(7,"button",8),g.bIt("click",function(){const n=w.eBV(t).$implicit,s=g.XpG(2);return w.Njj(s.editPack(n))}),g.EFF(8," Edit "),g.k0s()(),g.j41(9,"td")(10,"button",15),g.bIt("click",function(){const n=w.eBV(t).$implicit,s=g.XpG(2);return w.Njj(s.exportCustomPack(n))}),g.EFF(11," Export "),g.k0s()(),g.j41(12,"td")(13,"button",16),g.bIt("click",function(){const n=w.eBV(t).$implicit,s=g.XpG(2);return w.Njj(s.deletePack(n))}),g.EFF(14," Delete "),g.k0s()()()}if(2&o){const t=e.$implicit;g.R7$(2),g.JRh(t.get("name").value),g.R7$(2),g.Y8G("ngIf",t.valid),g.R7$(),g.Y8G("ngIf",!t.valid)}}function LG(o,e){if(1&o&&(g.j41(0,"div",19),g.EFF(1),g.k0s()),2&o){const t=g.XpG(2);g.Y8G("ngClass","success"===t.statusTone?"text-success":"text-danger"),g.R7$(),g.SpI(" ",t.statusMessage," ")}}function NG(o,e){if(1&o){const t=g.RV6();g.j41(0,"div")(1,"div",5)(2,"div",3)(3,"h3"),g.EFF(4,"Custom Packs"),g.k0s(),g.j41(5,"table"),g.DNE(6,RG,15,3,"tr",6),g.k0s()()(),g.j41(7,"div",7)(8,"div",3)(9,"button",8),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.createNewPack())}),g.EFF(10," Create New Pack "),g.k0s()()(),g.j41(11,"div",5)(12,"div",3)(13,"h3"),g.EFF(14,"Import Custom Pack"),g.k0s(),g.j41(15,"div",9),g.nrm(16,"textarea",10),g.k0s()()(),g.j41(17,"div",2)(18,"div",3)(19,"button",8),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.importCustomPack())}),g.EFF(20," Import "),g.k0s()()(),g.DNE(21,LG,2,2,"div",11),g.k0s()}if(2&o){const t=g.XpG();g.R7$(6),g.Y8G("ngForOf",t.customPacks.controls)("ngForTrackBy",t.trackByPackName),g.R7$(9),g.Y8G("formGroup",t.importFormGroup),g.R7$(6),g.Y8G("ngIf",t.statusMessage)}}let FG=(()=>{class o{petService;localStorageService;formGroup;customPacks;petPackMap;petIdLookup=new Map;petNameToId=new Map;petNameToTier=new Map;focusedGroup=null;importFormGroup=new Y.gE({code:new Y.MJ(null)});statusMessage="";statusTone="success";statusTimer=null;constructor(t,i){this.petService=t,this.localStorageService=i}ngOnInit(){this.customPacks=this.formGroup.get("customPacks"),this.buildPetPackMap(),this.buildPetNameToTierMap(),this.buildPetIdLookup()}buildPetPackMap(){this.petPackMap=new Map;for(let t=1;t<=6;t++){let i=new Map;for(const n of ua)i.set(n,[]);this.petPackMap.set(t,i)}for(const t of ua){const i=this.petService.basePackPetsByName[t];for(let[n,s]of i)this.petPackMap.get(n).get(t).push(...s)}}createNewPack(){let t=this.createPack();this.focusedGroup=t}createPack(){return new Y.gE({name:new Y.MJ(null,[Y.k0.required,this.forbiddenNameValidator()]),tier1Pets:new Y.MJ([],this.controlArrayLengthOf10()),tier2Pets:new Y.MJ([],this.controlArrayLengthOf10()),tier3Pets:new Y.MJ([],this.controlArrayLengthOf10()),tier4Pets:new Y.MJ([],this.controlArrayLengthOf10()),tier5Pets:new Y.MJ([],this.controlArrayLengthOf10()),tier6Pets:new Y.MJ([],this.controlArrayLengthOf10()),spells:new Y.MJ([])})}makeFormGroup(t){return t}controlArrayLengthOf10(){return t=>10!==t.value.length?{length:!0}:null}submitEvent(t){this.customPacks.controls.includes(t)||this.customPacks.push(t),this.petService.buildCustomPackPets(this.customPacks),this.focusedGroup=null,this.localStorageService.setFormStorage(this.formGroup)}cancelEvent(t){this.focusedGroup=null}editPack(t){this.focusedGroup=t}deletePack(t){if(confirm("Are you sure you want to delete this pack?")){let i=this.customPacks.controls.indexOf(t);this.customPacks.removeAt(i),this.focusedGroup=null,this.localStorageService.setFormStorage(this.formGroup)}}trackByPackName(t,i){return i?.get("name")?.value??String(t)}forbiddenNameValidator(){return t=>{let i=["custom"];for(let n of this.customPacks.controls)t!=n.get("name")&&i.push(n.get("name").value?.toLowerCase());return i.includes(t.value?.toLowerCase())?{forbiddenName:!0}:null}}importCustomPack(){let t=this.importFormGroup.get("code").value;this.clearStatus();try{let i=t;const n=t.indexOf("{"),s=t.lastIndexOf("}");-1!==n&&s>n&&(i=t.substring(n,s+1));const r=JSON.parse(i);let c=this.parseMinions(r.Minions,r.MinionMap);const d=Array.isArray(r.Spells)?r.Spells:[];let h={name:r.Title,tier1Pets:c.tierMinions.get(1),tier2Pets:c.tierMinions.get(2),tier3Pets:c.tierMinions.get(3),tier4Pets:c.tierMinions.get(4),tier5Pets:c.tierMinions.get(5),tier6Pets:c.tierMinions.get(6),spells:d};this.createNewPack(),this.focusedGroup.patchValue(h),c.missingMinions.length>0?this.setStatus(`Some minion IDs were not recognized and were skipped: ${c.missingMinions.join(", ")}`,"error"):this.setStatus("Custom pack imported.","success")}catch(i){this.setStatus("Invalid code.","error"),console.error(i)}}buildPetIdLookup(){this.petIdLookup=new Map,this.petNameToId=new Map;const t=os??al;for(let i of t){let n=Number(i.Tier),s=String(i.Id);this.petIdLookup.has(s)||this.petIdLookup.set(s,{name:i.Name,tier:n}),this.petNameToId.has(i.Name)||this.petNameToId.set(i.Name,s)}}exportCustomPack(t){const i=this.buildExportPayload(t),n=JSON.stringify(i);this.importFormGroup.get("code")?.setValue(n),this.copyToClipboard(n)}buildExportPayload(t){const i=d=>{const h=t.get(`tier${d}Pets`);return(Array.isArray(h?.value)?h.value:[]).filter(E=>!!E)},n=[];for(let d=1;d<=6;d++){const h=i(d);for(const v of h){const E=this.petNameToId.get(v);n.push(E??v)}}const s=t.get("spells"),c=(Array.isArray(s?.value)?s.value:Array.isArray(t?.value?.spells)?t.value.spells:[]).filter(d=>!!d);return{Title:t.get("name")?.value||"Custom Pack",Minions:n,...c.length?{Spells:c}:{}}}copyToClipboard(t){this.clearStatus(),navigator?.clipboard?.writeText?navigator.clipboard.writeText(t).then(()=>{this.setStatus("Custom pack copied to clipboard.","success")}).catch(()=>{this.setStatus("Failed to copy custom pack.","error")}):this.setStatus("Clipboard not available.","error")}buildPetNameToTierMap(){this.petNameToTier=new Map;for(let[t,i]of this.petPackMap)for(let n of i.values())for(let s of n)this.petNameToTier.has(s)||this.petNameToTier.set(s,t)}parseMinions(t,i={}){let n=new Map;for(let r=1;r<=6;r++)n.set(r,[]);let s=[];if(!Array.isArray(t))return{tierMinions:n,missingMinions:s};for(let r of t){let c=null,d=null;if("number"==typeof r)d=String(r);else if("string"==typeof r){let v=r.trim();v&&v.match(/^\d+$/)?d=v:c=r}if(d){let v=this.petIdLookup.get(d);v?c=v.name:i&&i[d]&&(c=i[d])}if(!c){s.push(r);continue}let h=this.petNameToTier.get(c);h?n.get(h).push(c):s.push(r)}return{tierMinions:n,missingMinions:s}}clearStatus(){this.statusTimer&&(clearTimeout(this.statusTimer),this.statusTimer=null),this.statusMessage=""}setStatus(t,i){this.statusMessage=t,this.statusTone=i,this.statusTimer&&clearTimeout(this.statusTimer),this.statusTimer=setTimeout(()=>{this.statusMessage="",this.statusTimer=null},4e3)}static \u0275fac=function(i){return new(i||o)(g.rXU(xr),g.rXU(LL.s))};static \u0275cmp=g.VBU({type:o,selectors:[["app-custom-pack-editor"]],inputs:{formGroup:"formGroup"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[3,"submitEvent","cancelEvent","formGroup","petPackMap"],[1,"row","mb-3"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"form-group",3,"formGroup"],["id","code","rows","3","formControlName","code",1,"form-control"],["class","mt-2",3,"ngClass",4,"ngIf"],[1,"text"],["class","valid",4,"ngIf"],["class","invalid",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"valid"],[1,"invalid"],[1,"mt-2",3,"ngClass"]],template:function(i,n){1&i&&g.DNE(0,DG,3,2,"div",0)(1,NG,22,4,"div",1),2&i&&(g.Y8G("ngIf",null!=n.focusedGroup),g.R7$(),g.Y8G("ngIf",null==n.focusedGroup))},dependencies:[si.MD,si.YU,si.Sq,si.bT,Y.X1,Y.me,Y.BC,Y.cb,Y.j4,Y.JD,xG],styles:[".valid[_ngcontent-%COMP%]{color:#4caf50}.invalid[_ngcontent-%COMP%]{color:#f44336}.text[_ngcontent-%COMP%]{font-size:1.5em}td[_ngcontent-%COMP%]{padding:.25em .5em}"]})}return o})();const NL="assets/art/Public/Public/Toys/",BG=["AboveCloudsBattle.png","ArcticBattle.png","AutumnForestBattle.png","BeachBattle.png","BridgeBattle.png","CastleWallBattle.png","CaveBattle.png","ColosseumBattle.png","CornFieldBattle.png","DesertBattle.png","DungeonBattle.png","FarmBattle.png","FieldBattle.png","FoodLandBattle.png","FrontYardBattle.png","HalloweenStreetBattle.png","JungleBattle.png","LavaCaveBattle.png","LavaMountainBattle.png","MoneyBinBattle.png","MoonBattle.png","PagodaBattle.png","PlaygroundBattle.png","SavannaBattle.png","ScaryForestBattle.png","SnowBattle.png","SpaceStationBattle.png","UnderwaterBattle.png","UrbanCityBattle.png","WildWestTownBattle.png","WinterPineForestBattle.png","WizardSchoolBattle.png"],$G=[{label:"None",value:null},{label:"Player",value:"player"},{label:"Opponent",value:"opponent"},{label:"Draw",value:"draw"}];const Aw="abomParrotSwallowed";function FL(o,e){if(!o||"object"!=typeof o)return;const t=[...o.playerPets||[],...o.opponentPets||[]];for(const i of t)i&&"object"==typeof i&&e(i)}function UG(o){if(!o||"object"!=typeof o||Array.isArray(o[Aw]))return;const e=[];for(let t=1;t<=3;t++){const i=`parrotCopyPetAbominationSwallowedPet${t}`,n=[];for(let s=1;s<=3;s++){const r=`${i}ParrotCopyPetAbominationSwallowedPet${s}`;n.push([o[r]??null,o[`${r}BelugaSwallowedPet`]??null,o[`${r}Level`]??null,o[`${r}TimesHurt`]??null]),delete o[r],delete o[`${r}BelugaSwallowedPet`],delete o[`${r}Level`],delete o[`${r}TimesHurt`]}e.push([o[i]??null,o[`${i}BelugaSwallowedPet`]??null,o[`${i}Level`]??null,o[`${i}TimesHurt`]??null,o[`${i}ParrotCopyPet`]??null,o[`${i}ParrotCopyPetBelugaSwallowedPet`]??null,n]),delete o[i],delete o[`${i}BelugaSwallowedPet`],delete o[`${i}Level`],delete o[`${i}TimesHurt`],delete o[`${i}ParrotCopyPet`],delete o[`${i}ParrotCopyPetBelugaSwallowedPet`]}o[Aw]=e}function WG(o){if(!o||"object"!=typeof o)return;const e=o[Aw];if(Array.isArray(e)){for(let t=1;t<=3;t++){const i=`parrotCopyPetAbominationSwallowedPet${t}`,n=e[t-1];if(!n)continue;const[s,r,c,d,h,v,E]=n;if(o[i]=s??null,o[`${i}BelugaSwallowedPet`]=r??null,o[`${i}Level`]=c??null,o[`${i}TimesHurt`]=d??null,o[`${i}ParrotCopyPet`]=h??null,o[`${i}ParrotCopyPetBelugaSwallowedPet`]=v??null,Array.isArray(E))for(let q=1;q<=3;q++){const K=`${i}ParrotCopyPetAbominationSwallowedPet${q}`,le=E[q-1];if(!le)continue;const[ce,Ae,Ce,Qe]=le;o[K]=ce??null,o[`${K}BelugaSwallowedPet`]=Ae??null,o[`${K}Level`]=Ce??null,o[`${K}TimesHurt`]=Qe??null}}delete o[Aw]}}function OL(o){const e=(0,gw.A)(o);return FL(e,UG),e}const ZM=new WeakMap,MA=new Map,BL=new WeakMap;function $L(o,e){e&&e.decorateLogIfNeeded(o);const t=o.message+(o.count>1?` (x${o.count})`:""),i=ZM.get(o);if(i&&i.message===t)return i.parts;const n=MA.get(t);if(n)return ZM.set(o,{message:t,parts:n}),n;const s=function sH(o){const e=[],t=/<img\b[^>]*>/gi;let n,i=0;const s=function gH(o){return o.split(/(<[^>]+>)/g).map(e=>e.startsWith("<")?e:e.replace(hH,(i,n)=>{const s=e.slice(0,n);return/\bjump[-\s]?$/i.test(s)?i:`${uH} ${i}`}).replace(pH,`${dH} $&`)).join("")}(o);for(;n=t.exec(s);){jL(e,s.slice(i,n.index));const c=n[0],d=/src=["']([^"']+)["']/i.exec(c),h=/alt=["']([^"']*)["']/i.exec(c);e.push({type:"img",src:d?.[1]??"",alt:h?.[1]??""}),i=n.index+c.length}return jL(e,s.slice(i)),e}(t);return ZM.set(o,{message:t,parts:s}),function JG(o,e){if(MA.set(o,e),MA.size<=1e3)return;const t=MA.keys().next().value;t&&MA.delete(t)}(t,s),s}function GL(o,e=1e3){(o.formGroup.get("logsEnabled")?.value??!0)&&Number(e)>=1001&&o.setStatus?.("Logs auto-disabled for 1001+ simulations to reduce memory use.","success"),o.simulationBattleAmt=e,o.localStorageService.setFormStorage(o.formGroup);const n=o.simulationService.runSimulation(o.formGroup,e,o.player,o.opponent);o.playerWinner=n.playerWins,o.opponentWinner=n.opponentWins,o.draw=n.draws,o.battles=n.battles||[];const s=new Map;o.battleRandomEvents=o.battles.map(r=>{const c=function iH(o,e){const t=o.logs.filter(n=>!0===n.randomEvent),i=[];return t.forEach((n,s)=>{i.push(...$L(n,e)),s<t.length-1&&i.push({type:"br"})}),i}(r,o.logService);return s.set(r,c),c}),o.battleRandomEventsByBattle=s,HL(o),o.viewBattle=n.battles[0]||null,o.viewBattleLogs=o.viewBattle?.logs??[],eI(o),o.simulated=!0}function eI(o){if(o.viewBattle){const t=BL.get(o.viewBattle);if(t&&t.logs===o.viewBattleLogs)return void(o.viewBattleLogRows=t.rows)}const e=o.viewBattleLogs.map(t=>({parts:$L(t,o.logService),classes:[nH(t),t.randomEvent?"random-event":"",t.bold?"bold":""].filter(Boolean)}));o.viewBattleLogRows=e,o.viewBattle&&BL.set(o.viewBattle,{logs:o.viewBattleLogs,rows:e})}function HL(o){const e=o.formGroup.get("logFilter")?.value??null;o.filteredBattlesCache=null==e?o.battles:o.battles.filter(t=>t.winner===e)}function nH(o){return null==o.player?"log":o.player.isOpponent?"log-opponent":"log-player"}function qL(o){const e=o.playerWinner+o.opponentWinner+o.draw;return 0===e?0:za(o.draw/e*100)}function tI(o){const e=o.playerWinner+o.opponentWinner+o.draw;return 0===e?0:za(o.opponentWinner/e*100)}function jL(o,e){if(!e)return;const n=e.replace(/<br\s*\/?>/gi,"\n").replace(/<[^>]+>/g,"").split("\n");n.forEach((s,r)=>{s&&o.push({type:"text",text:s}),r<n.length-1&&o.push({type:"br"})})}const uH='<img src="assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/fist.png" alt="Attack" />',dH='<img src="assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/heart.png" alt="Health" />',hH=/\battack(?:s|ed|ing)?\b/gi,pH=/\bhealth\b/gi;var Or="top",da="bottom",ha="right",Br="left",Sw="auto",Vg=[Or,da,ha,Br],dd="start",Ug="end",VL="clippingParents",iI="viewport",Wg="popper",UL="reference",nI=Vg.reduce(function(o,e){return o.concat([e+"-"+dd,e+"-"+Ug])},[]),rI=[].concat(Vg,[Sw]).reduce(function(o,e){return o.concat([e,e+"-"+dd,e+"-"+Ug])},[]),WL="beforeRead",KL="read",zL="afterRead",YL="beforeMain",XL="main",QL="afterMain",JL="beforeWrite",ZL="write",e2="afterWrite",t2=[WL,KL,zL,YL,XL,QL,JL,ZL,e2];function Oo(o){return o?(o.nodeName||"").toLowerCase():null}function pa(o){if(null==o)return window;if("[object Window]"!==o.toString()){var e=o.ownerDocument;return e&&e.defaultView||window}return o}function hd(o){return o instanceof pa(o).Element||o instanceof Element}function Oa(o){return o instanceof pa(o).HTMLElement||o instanceof HTMLElement}function aI(o){return!(typeof ShadowRoot>"u")&&(o instanceof pa(o).ShadowRoot||o instanceof ShadowRoot)}const oI={name:"applyStyles",enabled:!0,phase:"write",fn:function mH(o){var e=o.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},s=e.elements[t];!Oa(s)||!Oo(s)||(Object.assign(s.style,i),Object.keys(n).forEach(function(r){var c=n[r];!1===c?s.removeAttribute(r):s.setAttribute(r,!0===c?"":c)}))})},effect:function fH(o){var e=o.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var n=e.elements[i],s=e.attributes[i]||{},c=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]).reduce(function(d,h){return d[h]="",d},{});!Oa(n)||!Oo(n)||(Object.assign(n.style,c),Object.keys(s).forEach(function(d){n.removeAttribute(d)}))})}},requires:["computeStyles"]};function Bo(o){return o.split("-")[0]}var pd=Math.max,Pw=Math.min,Kg=Math.round;function sI(){var o=navigator.userAgentData;return null!=o&&o.brands&&Array.isArray(o.brands)?o.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function i2(){return!/^((?!chrome|android).)*safari/i.test(sI())}function zg(o,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var i=o.getBoundingClientRect(),n=1,s=1;e&&Oa(o)&&(n=o.offsetWidth>0&&Kg(i.width)/o.offsetWidth||1,s=o.offsetHeight>0&&Kg(i.height)/o.offsetHeight||1);var c=(hd(o)?pa(o):window).visualViewport,d=!i2()&&t,h=(i.left+(d&&c?c.offsetLeft:0))/n,v=(i.top+(d&&c?c.offsetTop:0))/s,E=i.width/n,q=i.height/s;return{width:E,height:q,top:v,right:h+E,bottom:v+q,left:h,x:h,y:v}}function lI(o){var e=zg(o),t=o.offsetWidth,i=o.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:o.offsetLeft,y:o.offsetTop,width:t,height:i}}function n2(o,e){var t=e.getRootNode&&e.getRootNode();if(o.contains(e))return!0;if(t&&aI(t)){var i=e;do{if(i&&o.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ns(o){return pa(o).getComputedStyle(o)}function yH(o){return["table","td","th"].indexOf(Oo(o))>=0}function Yl(o){return((hd(o)?o.ownerDocument:o.document)||window.document).documentElement}function kw(o){return"html"===Oo(o)?o:o.assignedSlot||o.parentNode||(aI(o)?o.host:null)||Yl(o)}function r2(o){return Oa(o)&&"fixed"!==Ns(o).position?o.offsetParent:null}function IA(o){for(var e=pa(o),t=r2(o);t&&yH(t)&&"static"===Ns(t).position;)t=r2(t);return t&&("html"===Oo(t)||"body"===Oo(t)&&"static"===Ns(t).position)?e:t||function bH(o){var e=/firefox/i.test(sI());if(/Trident/i.test(sI())&&Oa(o)&&"fixed"===Ns(o).position)return null;var n=kw(o);for(aI(n)&&(n=n.host);Oa(n)&&["html","body"].indexOf(Oo(n))<0;){var s=Ns(n);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||e&&"filter"===s.willChange||e&&s.filter&&"none"!==s.filter)return n;n=n.parentNode}return null}(o)||e}function cI(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function RA(o,e,t){return pd(o,Pw(e,t))}function o2(o){return Object.assign({},{top:0,right:0,bottom:0,left:0},o)}function s2(o,e){return e.reduce(function(t,i){return t[i]=o,t},{})}const l2={name:"arrow",enabled:!0,phase:"main",fn:function SH(o){var e,t=o.state,i=o.name,n=o.options,s=t.elements.arrow,r=t.modifiersData.popperOffsets,c=Bo(t.placement),d=cI(c),v=[Br,ha].indexOf(c)>=0?"height":"width";if(s&&r){var E=function(e,t){return o2("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:s2(e,Vg))}(n.padding,t),q=lI(s),K="y"===d?Or:Br,le="y"===d?da:ha,ce=t.rects.reference[v]+t.rects.reference[d]-r[d]-t.rects.popper[v],Ae=r[d]-t.rects.reference[d],Ce=IA(s),Qe=Ce?"y"===d?Ce.clientHeight||0:Ce.clientWidth||0:0,lt=Qe/2-q[v]/2+(ce/2-Ae/2),Bt=RA(E[K],lt,Qe-q[v]-E[le]);t.modifiersData[i]=((e={})[d]=Bt,e.centerOffset=Bt-lt,e)}},effect:function PH(o){var e=o.state,i=o.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"==typeof n&&!(n=e.elements.popper.querySelector(n))||n2(e.elements.popper,n)&&(e.elements.arrow=n))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yg(o){return o.split("-")[1]}var kH={top:"auto",right:"auto",bottom:"auto",left:"auto"};function c2(o){var e,t=o.popper,i=o.popperRect,n=o.placement,s=o.variation,r=o.offsets,c=o.position,d=o.gpuAcceleration,h=o.adaptive,v=o.roundOffsets,E=o.isFixed,q=r.x,K=void 0===q?0:q,le=r.y,ce=void 0===le?0:le,Ae="function"==typeof v?v({x:K,y:ce}):{x:K,y:ce};K=Ae.x,ce=Ae.y;var Ce=r.hasOwnProperty("x"),Qe=r.hasOwnProperty("y"),Ke=Br,Ye=Or,Re=window;if(h){var lt=IA(t),Bt="clientHeight",_i="clientWidth";lt===pa(t)&&"static"!==Ns(lt=Yl(t)).position&&"absolute"===c&&(Bt="scrollHeight",_i="scrollWidth"),(n===Or||(n===Br||n===ha)&&s===Ug)&&(Ye=da,ce-=(E&&lt===Re&&Re.visualViewport?Re.visualViewport.height:lt[Bt])-i.height,ce*=d?1:-1),n!==Br&&(n!==Or&&n!==da||s!==Ug)||(Ke=ha,K-=(E&&lt===Re&&Re.visualViewport?Re.visualViewport.width:lt[_i])-i.width,K*=d?1:-1)}var xt,Ji=Object.assign({position:c},h&&kH),Yn=!0===v?function _H(o,e){var i=o.y,n=e.devicePixelRatio||1;return{x:Kg(o.x*n)/n||0,y:Kg(i*n)/n||0}}({x:K,y:ce},pa(t)):{x:K,y:ce};return K=Yn.x,ce=Yn.y,Object.assign({},Ji,d?((xt={})[Ye]=Qe?"0":"",xt[Ke]=Ce?"0":"",xt.transform=(Re.devicePixelRatio||1)<=1?"translate("+K+"px, "+ce+"px)":"translate3d("+K+"px, "+ce+"px, 0)",xt):((e={})[Ye]=Qe?ce+"px":"",e[Ke]=Ce?K+"px":"",e.transform="",e))}const uI={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function wH(o){var e=o.state,t=o.options,i=t.gpuAcceleration,n=void 0===i||i,s=t.adaptive,r=void 0===s||s,c=t.roundOffsets,d=void 0===c||c,h={placement:Bo(e.placement),variation:Yg(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,c2(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:d})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,c2(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var _w={passive:!0};const dI={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function TH(o){var e=o.state,t=o.instance,i=o.options,n=i.scroll,s=void 0===n||n,r=i.resize,c=void 0===r||r,d=pa(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach(function(v){v.addEventListener("scroll",t.update,_w)}),c&&d.addEventListener("resize",t.update,_w),function(){s&&h.forEach(function(v){v.removeEventListener("scroll",t.update,_w)}),c&&d.removeEventListener("resize",t.update,_w)}},data:{}};var CH={left:"right",right:"left",bottom:"top",top:"bottom"};function ww(o){return o.replace(/left|right|bottom|top/g,function(e){return CH[e]})}var EH={start:"end",end:"start"};function u2(o){return o.replace(/start|end/g,function(e){return EH[e]})}function hI(o){var e=pa(o);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function pI(o){return zg(Yl(o)).left+hI(o).scrollLeft}function gI(o){var e=Ns(o);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function d2(o){return["html","body","#document"].indexOf(Oo(o))>=0?o.ownerDocument.body:Oa(o)&&gI(o)?o:d2(kw(o))}function LA(o,e){var t;void 0===e&&(e=[]);var i=d2(o),n=i===(null==(t=o.ownerDocument)?void 0:t.body),s=pa(i),r=n?[s].concat(s.visualViewport||[],gI(i)?i:[]):i,c=e.concat(r);return n?c:c.concat(LA(kw(r)))}function mI(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function h2(o,e,t){return e===iI?mI(function xH(o,e){var t=pa(o),i=Yl(o),n=t.visualViewport,s=i.clientWidth,r=i.clientHeight,c=0,d=0;if(n){s=n.width,r=n.height;var h=i2();(h||!h&&"fixed"===e)&&(c=n.offsetLeft,d=n.offsetTop)}return{width:s,height:r,x:c+pI(o),y:d}}(o,t)):hd(e)?function MH(o,e){var t=zg(o,!1,"fixed"===e);return t.top=t.top+o.clientTop,t.left=t.left+o.clientLeft,t.bottom=t.top+o.clientHeight,t.right=t.left+o.clientWidth,t.width=o.clientWidth,t.height=o.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):mI(function DH(o){var e,t=Yl(o),i=hI(o),n=null==(e=o.ownerDocument)?void 0:e.body,s=pd(t.scrollWidth,t.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),r=pd(t.scrollHeight,t.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),c=-i.scrollLeft+pI(o),d=-i.scrollTop;return"rtl"===Ns(n||t).direction&&(c+=pd(t.clientWidth,n?n.clientWidth:0)-s),{width:s,height:r,x:c,y:d}}(Yl(o)))}function p2(o){var d,e=o.reference,t=o.element,i=o.placement,n=i?Bo(i):null,s=i?Yg(i):null,r=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2;switch(n){case Or:d={x:r,y:e.y-t.height};break;case da:d={x:r,y:e.y+e.height};break;case ha:d={x:e.x+e.width,y:c};break;case Br:d={x:e.x-t.width,y:c};break;default:d={x:e.x,y:e.y}}var h=n?cI(n):null;if(null!=h){var v="y"===h?"height":"width";switch(s){case dd:d[h]=d[h]-(e[v]/2-t[v]/2);break;case Ug:d[h]=d[h]+(e[v]/2-t[v]/2)}}return d}function Xg(o,e){void 0===e&&(e={});var i=e.placement,n=void 0===i?o.placement:i,s=e.strategy,r=void 0===s?o.strategy:s,c=e.boundary,d=void 0===c?VL:c,h=e.rootBoundary,v=void 0===h?iI:h,E=e.elementContext,q=void 0===E?Wg:E,K=e.altBoundary,le=void 0!==K&&K,ce=e.padding,Ae=void 0===ce?0:ce,Ce=o2("number"!=typeof Ae?Ae:s2(Ae,Vg)),Ke=o.rects.popper,Ye=o.elements[le?q===Wg?UL:Wg:q],Re=function RH(o,e,t,i){var n="clippingParents"===e?function IH(o){var e=LA(kw(o)),i=["absolute","fixed"].indexOf(Ns(o).position)>=0&&Oa(o)?IA(o):o;return hd(i)?e.filter(function(n){return hd(n)&&n2(n,i)&&"body"!==Oo(n)}):[]}(o):[].concat(e),s=[].concat(n,[t]),c=s.reduce(function(d,h){var v=h2(o,h,i);return d.top=pd(v.top,d.top),d.right=Pw(v.right,d.right),d.bottom=Pw(v.bottom,d.bottom),d.left=pd(v.left,d.left),d},h2(o,s[0],i));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}(hd(Ye)?Ye:Ye.contextElement||Yl(o.elements.popper),d,v,r),lt=zg(o.elements.reference),Bt=p2({reference:lt,element:Ke,strategy:"absolute",placement:n}),_i=mI(Object.assign({},Ke,Bt)),jt=q===Wg?_i:lt,Dt={top:Re.top-jt.top+Ce.top,bottom:jt.bottom-Re.bottom+Ce.bottom,left:Re.left-jt.left+Ce.left,right:jt.right-Re.right+Ce.right},Ji=o.modifiersData.offset;if(q===Wg&&Ji){var Yn=Ji[n];Object.keys(Dt).forEach(function(xt){var _r=[ha,da].indexOf(xt)>=0?1:-1,Fn=[Or,da].indexOf(xt)>=0?"y":"x";Dt[xt]+=Yn[Fn]*_r})}return Dt}const g2={name:"flip",enabled:!0,phase:"main",fn:function FH(o){var e=o.state,t=o.options,i=o.name;if(!e.modifiersData[i]._skip){for(var n=t.mainAxis,s=void 0===n||n,r=t.altAxis,c=void 0===r||r,d=t.fallbackPlacements,h=t.padding,v=t.boundary,E=t.rootBoundary,q=t.altBoundary,K=t.flipVariations,le=void 0===K||K,ce=t.allowedAutoPlacements,Ae=e.options.placement,Ce=Bo(Ae),Ke=d||(Ce!==Ae&&le?function NH(o){if(Bo(o)===Sw)return[];var e=ww(o);return[u2(o),e,u2(e)]}(Ae):[ww(Ae)]),Ye=[Ae].concat(Ke).reduce(function(om,ic){return om.concat(Bo(ic)===Sw?function LH(o,e){void 0===e&&(e={});var n=e.boundary,s=e.rootBoundary,r=e.padding,c=e.flipVariations,d=e.allowedAutoPlacements,h=void 0===d?rI:d,v=Yg(e.placement),E=v?c?nI:nI.filter(function(le){return Yg(le)===v}):Vg,q=E.filter(function(le){return h.indexOf(le)>=0});0===q.length&&(q=E);var K=q.reduce(function(le,ce){return le[ce]=Xg(o,{placement:ce,boundary:n,rootBoundary:s,padding:r})[Bo(ce)],le},{});return Object.keys(K).sort(function(le,ce){return K[le]-K[ce]})}(e,{placement:ic,boundary:v,rootBoundary:E,padding:h,flipVariations:le,allowedAutoPlacements:ce}):ic)},[]),Re=e.rects.reference,lt=e.rects.popper,Bt=new Map,_i=!0,jt=Ye[0],Dt=0;Dt<Ye.length;Dt++){var Ji=Ye[Dt],Yn=Bo(Ji),xt=Yg(Ji)===dd,_r=[Or,da].indexOf(Yn)>=0,Fn=_r?"width":"height",Pn=Xg(e,{placement:Ji,boundary:v,rootBoundary:E,altBoundary:q,padding:h}),uo=_r?xt?ha:Br:xt?da:Or;Re[Fn]>lt[Fn]&&(uo=ww(uo));var Yw=ww(uo),vd=[];if(s&&vd.push(Pn[Yn]<=0),c&&vd.push(Pn[uo]<=0,Pn[Yw]<=0),vd.every(function(om){return om})){jt=Ji,_i=!1;break}Bt.set(Ji,vd)}if(_i)for(var WI=function(ic){var jA=Ye.find(function(Jw){var Ad=Bt.get(Jw);if(Ad)return Ad.slice(0,ic).every(function(KI){return KI})});if(jA)return jt=jA,"break"},qA=le?3:1;qA>0&&"break"!==WI(qA);qA--);e.placement!==jt&&(e.modifiersData[i]._skip=!0,e.placement=jt,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function m2(o,e,t){return void 0===t&&(t={x:0,y:0}),{top:o.top-e.height-t.y,right:o.right-e.width+t.x,bottom:o.bottom-e.height+t.y,left:o.left-e.width-t.x}}function f2(o){return[Or,ha,da,Br].some(function(e){return o[e]>=0})}const y2={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function OH(o){var e=o.state,t=o.name,i=e.rects.reference,n=e.rects.popper,s=e.modifiersData.preventOverflow,r=Xg(e,{elementContext:"reference"}),c=Xg(e,{altBoundary:!0}),d=m2(r,i),h=m2(c,n,s),v=f2(d),E=f2(h);e.modifiersData[t]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:v,hasPopperEscaped:E},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":E})}},b2={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function $H(o){var e=o.state,i=o.name,n=o.options.offset,s=void 0===n?[0,0]:n,r=rI.reduce(function(v,E){return v[E]=function BH(o,e,t){var i=Bo(o),n=[Br,Or].indexOf(i)>=0?-1:1,s="function"==typeof t?t(Object.assign({},e,{placement:o})):t,r=s[0],c=s[1];return r=r||0,c=(c||0)*n,[Br,ha].indexOf(i)>=0?{x:c,y:r}:{x:r,y:c}}(E,e.rects,s),v},{}),c=r[e.placement],h=c.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c.x,e.modifiersData.popperOffsets.y+=h),e.modifiersData[i]=r}},fI={name:"popperOffsets",enabled:!0,phase:"read",fn:function GH(o){var e=o.state;e.modifiersData[o.name]=p2({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},v2={name:"preventOverflow",enabled:!0,phase:"main",fn:function qH(o){var e=o.state,t=o.options,i=o.name,n=t.mainAxis,s=void 0===n||n,r=t.altAxis,c=void 0!==r&&r,q=t.tether,K=void 0===q||q,le=t.tetherOffset,ce=void 0===le?0:le,Ae=Xg(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),Ce=Bo(e.placement),Qe=Yg(e.placement),Ke=!Qe,Ye=cI(Ce),Re=function HH(o){return"x"===o?"y":"x"}(Ye),lt=e.modifiersData.popperOffsets,Bt=e.rects.reference,_i=e.rects.popper,jt="function"==typeof ce?ce(Object.assign({},e.rects,{placement:e.placement})):ce,Dt="number"==typeof jt?{mainAxis:jt,altAxis:jt}:Object.assign({mainAxis:0,altAxis:0},jt),Ji=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Yn={x:0,y:0};if(lt){if(s){var xt,_r="y"===Ye?Or:Br,Fn="y"===Ye?da:ha,Pn="y"===Ye?"height":"width",uo=lt[Ye],Yw=uo+Ae[_r],vd=uo-Ae[Fn],Xw=K?-_i[Pn]/2:0,WI=Qe===dd?Bt[Pn]:_i[Pn],qA=Qe===dd?-_i[Pn]:-Bt[Pn],Qw=e.elements.arrow,om=K&&Qw?lI(Qw):{width:0,height:0},ic=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},jA=ic[_r],Jw=ic[Fn],Ad=RA(0,Bt[Pn],om[Pn]),KI=Ke?Bt[Pn]/2-Xw-Ad-jA-Dt.mainAxis:WI-Ad-jA-Dt.mainAxis,V8=Ke?-Bt[Pn]/2+Xw+Ad+Jw+Dt.mainAxis:qA+Ad+Jw+Dt.mainAxis,zI=e.elements.arrow&&IA(e.elements.arrow),U8=zI?"y"===Ye?zI.clientTop||0:zI.clientLeft||0:0,$N=null!=(xt=Ji?.[Ye])?xt:0,K8=uo+V8-$N,GN=RA(K?Pw(Yw,uo+KI-$N-U8):Yw,uo,K?pd(vd,K8):vd);lt[Ye]=GN,Yn[Ye]=GN-uo}if(c){var HN,Sd=lt[Re],Zw="y"===Re?"height":"width",qN=Sd+Ae["x"===Ye?Or:Br],jN=Sd-Ae["x"===Ye?da:ha],YI=-1!==[Or,Br].indexOf(Ce),VN=null!=(HN=Ji?.[Re])?HN:0,UN=YI?qN:Sd-Bt[Zw]-_i[Zw]-VN+Dt.altAxis,WN=YI?Sd+Bt[Zw]+_i[Zw]-VN-Dt.altAxis:jN,KN=K&&YI?function vH(o,e,t){var i=RA(o,e,t);return i>t?t:i}(UN,Sd,WN):RA(K?UN:qN,Sd,K?WN:jN);lt[Re]=KN,Yn[Re]=KN-Sd}e.modifiersData[i]=Yn}},requiresIfExists:["offset"]};function WH(o,e,t){void 0===t&&(t=!1);var i=Oa(e),n=Oa(e)&&function UH(o){var e=o.getBoundingClientRect(),t=Kg(e.width)/o.offsetWidth||1,i=Kg(e.height)/o.offsetHeight||1;return 1!==t||1!==i}(e),s=Yl(e),r=zg(o,n,t),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(i||!i&&!t)&&(("body"!==Oo(e)||gI(s))&&(c=function VH(o){return o!==pa(o)&&Oa(o)?function jH(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}(o):hI(o)}(e)),Oa(e)?((d=zg(e,!0)).x+=e.clientLeft,d.y+=e.clientTop):s&&(d.x=pI(s))),{x:r.left+c.scrollLeft-d.x,y:r.top+c.scrollTop-d.y,width:r.width,height:r.height}}function KH(o){var e=new Map,t=new Set,i=[];function n(s){t.add(s.name),[].concat(s.requires||[],s.requiresIfExists||[]).forEach(function(c){if(!t.has(c)){var d=e.get(c);d&&n(d)}}),i.push(s)}return o.forEach(function(s){e.set(s.name,s)}),o.forEach(function(s){t.has(s.name)||n(s)}),i}function YH(o){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(o())})})),e}}var A2={placement:"bottom",modifiers:[],strategy:"absolute"};function S2(){for(var o=arguments.length,e=new Array(o),t=0;t<o;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function Tw(o){void 0===o&&(o={});var t=o.defaultModifiers,i=void 0===t?[]:t,n=o.defaultOptions,s=void 0===n?A2:n;return function(c,d,h){void 0===h&&(h=s);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},A2,s),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},E=[],q=!1,K={state:v,setOptions:function(Ce){var Qe="function"==typeof Ce?Ce(v.options):Ce;ce(),v.options=Object.assign({},s,v.options,Qe),v.scrollParents={reference:hd(c)?LA(c):c.contextElement?LA(c.contextElement):[],popper:LA(d)};var Ke=function zH(o){var e=KH(o);return t2.reduce(function(t,i){return t.concat(e.filter(function(n){return n.phase===i}))},[])}(function XH(o){var e=o.reduce(function(t,i){var n=t[i.name];return t[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(i,v.options.modifiers)));return v.orderedModifiers=Ke.filter(function(Ye){return Ye.enabled}),function le(){v.orderedModifiers.forEach(function(Ae){var Qe=Ae.options,Ye=Ae.effect;if("function"==typeof Ye){var Re=Ye({state:v,name:Ae.name,instance:K,options:void 0===Qe?{}:Qe});E.push(Re||function(){})}})}(),K.update()},forceUpdate:function(){if(!q){var Ce=v.elements,Qe=Ce.reference,Ke=Ce.popper;if(S2(Qe,Ke)){v.rects={reference:WH(Qe,IA(Ke),"fixed"===v.options.strategy),popper:lI(Ke)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(Dt){return v.modifiersData[Dt.name]=Object.assign({},Dt.data)});for(var Ye=0;Ye<v.orderedModifiers.length;Ye++)if(!0!==v.reset){var Re=v.orderedModifiers[Ye],lt=Re.fn,Bt=Re.options;"function"==typeof lt&&(v=lt({state:v,options:void 0===Bt?{}:Bt,name:Re.name,instance:K})||v)}else v.reset=!1,Ye=-1}}},update:YH(function(){return new Promise(function(Ae){K.forceUpdate(),Ae(v)})}),destroy:function(){ce(),q=!0}};if(!S2(c,d))return K;function ce(){E.forEach(function(Ae){return Ae()}),E=[]}return K.setOptions(h).then(function(Ae){!q&&h.onFirstUpdate&&h.onFirstUpdate(Ae)}),K}}var QH=Tw(),yI=Tw({defaultModifiers:[dI,fI,uI,oI,b2,g2,v2,l2,y2]}),e7=Tw({defaultModifiers:[dI,fI,uI,oI]});const Xl=new Map,bI={set(o,e,t){Xl.has(o)||Xl.set(o,new Map);const i=Xl.get(o);i.has(e)||0===i.size?i.set(e,t):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(o,e)=>Xl.has(o)&&Xl.get(o).get(e)||null,remove(o,e){if(!Xl.has(o))return;const t=Xl.get(o);t.delete(e),0===t.size&&Xl.delete(o)}},vI="transitionend",P2=o=>(o&&window.CSS&&window.CSS.escape&&(o=o.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),o),n7=o=>null==o?`${o}`:Object.prototype.toString.call(o).match(/\s([a-z]+)/i)[1].toLowerCase(),k2=o=>{o.dispatchEvent(new Event(vI))},Fs=o=>!(!o||"object"!=typeof o)&&(typeof o.jquery<"u"&&(o=o[0]),typeof o.nodeType<"u"),Ql=o=>Fs(o)?o.jquery?o[0]:o:"string"==typeof o&&o.length>0?document.querySelector(P2(o)):null,Qg=o=>{if(!Fs(o)||0===o.getClientRects().length)return!1;const e="visible"===getComputedStyle(o).getPropertyValue("visibility"),t=o.closest("details:not([open])");if(!t)return e;if(t!==o){const i=o.closest("summary");if(i&&i.parentNode!==t||null===i)return!1}return e},Jl=o=>!(o&&o.nodeType===Node.ELEMENT_NODE&&!o.classList.contains("disabled"))||(typeof o.disabled<"u"?o.disabled:o.hasAttribute("disabled")&&"false"!==o.getAttribute("disabled")),_2=o=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof o.getRootNode){const e=o.getRootNode();return e instanceof ShadowRoot?e:null}return o instanceof ShadowRoot?o:o.parentNode?_2(o.parentNode):null},Cw=()=>{},w2=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,AI=[],Ba=()=>"rtl"===document.documentElement.dir,$a=o=>{(o=>{"loading"===document.readyState?(AI.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of AI)e()}),AI.push(o)):o()})(()=>{const e=w2();if(e){const t=o.NAME,i=e.fn[t];e.fn[t]=o.jQueryInterface,e.fn[t].Constructor=o,e.fn[t].noConflict=()=>(e.fn[t]=i,o.jQueryInterface)}})},Zr=(o,e=[],t=o)=>"function"==typeof o?o.call(...e):t,T2=(o,e,t=!0)=>{if(!t)return void Zr(o);const n=(o=>{if(!o)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(o);const i=Number.parseFloat(e),n=Number.parseFloat(t);return i||n?(e=e.split(",")[0],t=t.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(t))):0})(e)+5;let s=!1;const r=({target:c})=>{c===e&&(s=!0,e.removeEventListener(vI,r),Zr(o))};e.addEventListener(vI,r),setTimeout(()=>{s||k2(e)},n)},SI=(o,e,t,i)=>{const n=o.length;let s=o.indexOf(e);return-1===s?!t&&i?o[n-1]:o[0]:(s+=t?1:-1,i&&(s=(s+n)%n),o[Math.max(0,Math.min(s,n-1))])},s7=/[^.]*(?=\..*)\.|.*/,l7=/\..*/,c7=/::\d+$/,PI={};let C2=1;const E2={mouseenter:"mouseover",mouseleave:"mouseout"},u7=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function x2(o,e){return e&&`${e}::${C2++}`||o.uidEvent||C2++}function D2(o){const e=x2(o);return o.uidEvent=e,PI[e]=PI[e]||{},PI[e]}function M2(o,e,t=null){return Object.values(o).find(i=>i.callable===e&&i.delegationSelector===t)}function I2(o,e,t){const i="string"==typeof e,n=i?t:e||t;let s=L2(o);return u7.has(s)||(s=o),[i,n,s]}function R2(o,e,t,i,n){if("string"!=typeof e||!o)return;let[s,r,c]=I2(e,t,i);var le;e in E2&&(le=r,r=function(ce){if(!ce.relatedTarget||ce.relatedTarget!==ce.delegateTarget&&!ce.delegateTarget.contains(ce.relatedTarget))return le.call(this,ce)});const d=D2(o),h=d[c]||(d[c]={}),v=M2(h,r,s?t:null);if(v)return void(v.oneOff=v.oneOff&&n);const E=x2(r,e.replace(s7,"")),q=s?function h7(o,e,t){return function i(n){const s=o.querySelectorAll(e);for(let{target:r}=n;r&&r!==this;r=r.parentNode)for(const c of s)if(c===r)return _I(n,{delegateTarget:r}),i.oneOff&&Fe.off(o,n.type,e,t),t.apply(r,[n])}}(o,t,r):function d7(o,e){return function t(i){return _I(i,{delegateTarget:o}),t.oneOff&&Fe.off(o,i.type,e),e.apply(o,[i])}}(o,r);q.delegationSelector=s?t:null,q.callable=r,q.oneOff=n,q.uidEvent=E,h[E]=q,o.addEventListener(c,q,s)}function kI(o,e,t,i,n){const s=M2(e[t],i,n);s&&(o.removeEventListener(t,s,!!n),delete e[t][s.uidEvent])}function p7(o,e,t,i){const n=e[t]||{};for(const[s,r]of Object.entries(n))s.includes(i)&&kI(o,e,t,r.callable,r.delegationSelector)}function L2(o){return o=o.replace(l7,""),E2[o]||o}const Fe={on(o,e,t,i){R2(o,e,t,i,!1)},one(o,e,t,i){R2(o,e,t,i,!0)},off(o,e,t,i){if("string"!=typeof e||!o)return;const[n,s,r]=I2(e,t,i),c=r!==e,d=D2(o),h=d[r]||{},v=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(h).length)return;kI(o,d,r,s,n?t:null)}else{if(v)for(const E of Object.keys(d))p7(o,d,E,e.slice(1));for(const[E,q]of Object.entries(h)){const K=E.replace(c7,"");(!c||e.includes(K))&&kI(o,d,r,q.callable,q.delegationSelector)}}},trigger(o,e,t){if("string"!=typeof e||!o)return null;const i=w2();let r=null,c=!0,d=!0,h=!1;e!==L2(e)&&i&&(r=i.Event(e,t),i(o).trigger(r),c=!r.isPropagationStopped(),d=!r.isImmediatePropagationStopped(),h=r.isDefaultPrevented());const v=_I(new Event(e,{bubbles:c,cancelable:!0}),t);return h&&v.preventDefault(),d&&o.dispatchEvent(v),v.defaultPrevented&&r&&r.preventDefault(),v}};function _I(o,e={}){for(const[t,i]of Object.entries(e))try{o[t]=i}catch{Object.defineProperty(o,t,{configurable:!0,get:()=>i})}return o}function N2(o){if("true"===o)return!0;if("false"===o)return!1;if(o===Number(o).toString())return Number(o);if(""===o||"null"===o)return null;if("string"!=typeof o)return o;try{return JSON.parse(decodeURIComponent(o))}catch{return o}}function wI(o){return o.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Os={setDataAttribute(o,e,t){o.setAttribute(`data-bs-${wI(e)}`,t)},removeDataAttribute(o,e){o.removeAttribute(`data-bs-${wI(e)}`)},getDataAttributes(o){if(!o)return{};const e={},t=Object.keys(o.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of t){let n=i.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1),e[n]=N2(o.dataset[i])}return e},getDataAttribute:(o,e)=>N2(o.getAttribute(`data-bs-${wI(e)}`))};class FA{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=Fs(t)?Os.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...Fs(t)?Os.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[i,n]of Object.entries(t)){const s=e[i],r=Fs(s)?"element":n7(s);if(!new RegExp(n).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${r}" but expected type "${n}".`)}}}class co extends FA{constructor(e,t){super(),(e=Ql(e))&&(this._element=e,this._config=this._getConfig(t),bI.set(this._element,this.constructor.DATA_KEY,this))}dispose(){bI.remove(this._element,this.constructor.DATA_KEY),Fe.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){T2(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return bI.get(Ql(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const TI=o=>{let e=o.getAttribute("data-bs-target");if(!e||"#"===e){let t=o.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&"#"!==t?t.trim():null}return e?e.split(",").map(t=>P2(t)).join(","):null},Tt={find:(o,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,o)),findOne:(o,e=document.documentElement)=>Element.prototype.querySelector.call(e,o),children:(o,e)=>[].concat(...o.children).filter(t=>t.matches(e)),parents(o,e){const t=[];let i=o.parentNode.closest(e);for(;i;)t.push(i),i=i.parentNode.closest(e);return t},prev(o,e){let t=o.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(o,e){let t=o.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(o){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,o).filter(t=>!Jl(t)&&Qg(t))},getSelectorFromElement(o){const e=TI(o);return e&&Tt.findOne(e)?e:null},getElementFromSelector(o){const e=TI(o);return e?Tt.findOne(e):null},getMultipleElementsFromSelector(o){const e=TI(o);return e?Tt.find(e):[]}},Ew=(o,e="hide")=>{const i=o.NAME;Fe.on(document,`click.dismiss${o.EVENT_KEY}`,`[data-bs-dismiss="${i}"]`,function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Jl(this))return;const s=Tt.getElementFromSelector(this)||this.closest(`.${i}`);o.getOrCreateInstance(s)[e]()})},F2=".bs.alert",f7=`close${F2}`,y7=`closed${F2}`;class xw extends co{static get NAME(){return"alert"}close(){if(Fe.trigger(this._element,f7).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),Fe.trigger(this._element,y7),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=xw.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Ew(xw,"close"),$a(xw);const O2='[data-bs-toggle="button"]';class Dw extends co{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){const t=Dw.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}Fe.on(document,"click.bs.button.data-api",O2,o=>{o.preventDefault();const e=o.target.closest(O2);Dw.getOrCreateInstance(e).toggle()}),$a(Dw);const Jg=".bs.swipe",T7=`touchstart${Jg}`,C7=`touchmove${Jg}`,E7=`touchend${Jg}`,x7=`pointerdown${Jg}`,D7=`pointerup${Jg}`,N7={endCallback:null,leftCallback:null,rightCallback:null},F7={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Mw extends FA{constructor(e,t){super(),this._element=e,e&&Mw.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return N7}static get DefaultType(){return F7}static get NAME(){return"swipe"}dispose(){Fe.off(this._element,Jg)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Zr(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&Zr(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Fe.on(this._element,x7,e=>this._start(e)),Fe.on(this._element,D7,e=>this._end(e)),this._element.classList.add("pointer-event")):(Fe.on(this._element,T7,e=>this._start(e)),Fe.on(this._element,C7,e=>this._move(e)),Fe.on(this._element,E7,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Zl=".bs.carousel",B2=".data-api",B7="ArrowLeft",$7="ArrowRight",OA="next",Zg="prev",em="left",Iw="right",H7=`slide${Zl}`,CI=`slid${Zl}`,q7=`keydown${Zl}`,j7=`mouseenter${Zl}`,V7=`mouseleave${Zl}`,U7=`dragstart${Zl}`,W7=`load${Zl}${B2}`,K7=`click${Zl}${B2}`,$2="carousel",Rw="active",G2=".active",H2=".carousel-item",Z7=G2+H2,rq={[B7]:Iw,[$7]:em},aq={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},oq={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class BA extends co{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Tt.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===$2&&this.cycle()}static get Default(){return aq}static get DefaultType(){return oq}static get NAME(){return"carousel"}next(){this._slide(OA)}nextWhenVisible(){!document.hidden&&Qg(this._element)&&this.next()}prev(){this._slide(Zg)}pause(){this._isSliding&&k2(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Fe.one(this._element,CI,()=>this.cycle());this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void Fe.one(this._element,CI,()=>this.to(e));const i=this._getItemIndex(this._getActive());i!==e&&this._slide(e>i?OA:Zg,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Fe.on(this._element,q7,e=>this._keydown(e)),"hover"===this._config.pause&&(Fe.on(this._element,j7,()=>this.pause()),Fe.on(this._element,V7,()=>this._maybeEnableCycle())),this._config.touch&&Mw.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of Tt.find(".carousel-item img",this._element))Fe.on(i,U7,n=>n.preventDefault());this._swipeHelper=new Mw(this._element,{leftCallback:()=>this._slide(this._directionToOrder(em)),rightCallback:()=>this._slide(this._directionToOrder(Iw)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=rq[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Tt.findOne(G2,this._indicatorsElement);t.classList.remove(Rw),t.removeAttribute("aria-current");const i=Tt.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(Rw),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),n=e===OA,s=t||SI(this._getItems(),i,n,this._config.wrap);if(s===i)return;const r=this._getItemIndex(s),c=K=>Fe.trigger(this._element,K,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:r});if(c(H7).defaultPrevented||!i||!s)return;const h=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(r),this._activeElement=s;const v=n?"carousel-item-start":"carousel-item-end",E=n?"carousel-item-next":"carousel-item-prev";s.classList.add(E),i.classList.add(v),s.classList.add(v),this._queueCallback(()=>{s.classList.remove(v,E),s.classList.add(Rw),i.classList.remove(Rw,E,v),this._isSliding=!1,c(CI)},i,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Tt.findOne(Z7,this._element)}_getItems(){return Tt.find(H2,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Ba()?e===em?Zg:OA:e===em?OA:Zg}_orderToDirection(e){return Ba()?e===Zg?em:Iw:e===Zg?Iw:em}static jQueryInterface(e){return this.each(function(){const t=BA.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)})}}Fe.on(document,K7,"[data-bs-slide], [data-bs-slide-to]",function(o){const e=Tt.getElementFromSelector(this);if(!e||!e.classList.contains($2))return;o.preventDefault();const t=BA.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");return i?(t.to(i),void t._maybeEnableCycle()):"next"===Os.getDataAttribute(this,"slide")?(t.next(),void t._maybeEnableCycle()):(t.prev(),void t._maybeEnableCycle())}),Fe.on(window,W7,()=>{const o=Tt.find('[data-bs-ride="carousel"]');for(const e of o)BA.getOrCreateInstance(e)}),$a(BA);const $A=".bs.collapse",cq=`show${$A}`,uq=`shown${$A}`,dq=`hide${$A}`,hq=`hidden${$A}`,pq=`click${$A}.data-api`,EI="show",tm="collapse",Lw="collapsing",mq=`:scope .${tm} .${tm}`,xI='[data-bs-toggle="collapse"]',Aq={parent:null,toggle:!0},Sq={parent:"(null|element)",toggle:"boolean"};class GA extends co{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=Tt.find(xI);for(const n of i){const s=Tt.getSelectorFromElement(n),r=Tt.find(s).filter(c=>c===this._element);null!==s&&r.length&&this._triggerArray.push(n)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Aq}static get DefaultType(){return Sq}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(c=>c!==this._element).map(c=>GA.getOrCreateInstance(c,{toggle:!1}))),e.length&&e[0]._isTransitioning||Fe.trigger(this._element,cq).defaultPrevented)return;for(const c of e)c.hide();const i=this._getDimension();this._element.classList.remove(tm),this._element.classList.add(Lw),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Lw),this._element.classList.add(tm,EI),this._element.style[i]="",Fe.trigger(this._element,uq)},this._element,!0),this._element.style[i]=`${this._element[r]}px`}hide(){if(this._isTransitioning||!this._isShown()||Fe.trigger(this._element,dq).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,this._element.classList.add(Lw),this._element.classList.remove(tm,EI);for(const n of this._triggerArray){const s=Tt.getElementFromSelector(n);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([n],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Lw),this._element.classList.add(tm),Fe.trigger(this._element,hq)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(EI)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Ql(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(xI);for(const t of e){const i=Tt.getElementFromSelector(t);i&&this._addAriaAndCollapsedClass([t],this._isShown(i))}}_getFirstLevelChildren(e){const t=Tt.find(mq,this._config.parent);return Tt.find(e,this._config.parent).filter(i=>!t.includes(i))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const i=GA.getOrCreateInstance(this,t);if("string"==typeof e){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}Fe.on(document,pq,xI,function(o){("A"===o.target.tagName||o.delegateTarget&&"A"===o.delegateTarget.tagName)&&o.preventDefault();for(const e of Tt.getMultipleElementsFromSelector(this))GA.getOrCreateInstance(e,{toggle:!1}).toggle()}),$a(GA);const q2="dropdown",gd=".bs.dropdown",DI=".data-api",kq="ArrowUp",V2="ArrowDown",wq=`hide${gd}`,Tq=`hidden${gd}`,Cq=`show${gd}`,Eq=`shown${gd}`,U2=`click${gd}${DI}`,W2=`keydown${gd}${DI}`,xq=`keyup${gd}${DI}`,im="show",md='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Nq=`${md}.${im}`,Nw=".dropdown-menu",$q=Ba()?"top-end":"top-start",Gq=Ba()?"top-start":"top-end",Hq=Ba()?"bottom-end":"bottom-start",qq=Ba()?"bottom-start":"bottom-end",jq=Ba()?"left-start":"right-start",Vq=Ba()?"right-start":"left-start",Kq={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},zq={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class $o extends co{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Tt.next(this._element,Nw)[0]||Tt.prev(this._element,Nw)[0]||Tt.findOne(Nw,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Kq}static get DefaultType(){return zq}static get NAME(){return q2}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Jl(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Fe.trigger(this._element,Cq,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const i of[].concat(...document.body.children))Fe.on(i,"mouseover",Cw);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(im),this._element.classList.add(im),Fe.trigger(this._element,Eq,e)}}hide(){!Jl(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Fe.trigger(this._element,wq,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))Fe.off(i,"mouseover",Cw);this._popper&&this._popper.destroy(),this._menu.classList.remove(im),this._element.classList.remove(im),this._element.setAttribute("aria-expanded","false"),Os.removeDataAttribute(this._menu,"popper"),Fe.trigger(this._element,Tq,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!Fs(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${q2.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){let e=this._element;"parent"===this._config.reference?e=this._parent:Fs(this._config.reference)?e=Ql(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=yI(e,this._menu,t)}_isShown(){return this._menu.classList.contains(im)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return jq;if(e.classList.contains("dropstart"))return Vq;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?Gq:$q:t?qq:Hq}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Os.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Zr(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:t}){const i=Tt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(n=>Qg(n));i.length&&SI(i,t,e===V2,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=$o.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=Tt.find(Nq);for(const i of t){const n=$o.getInstance(i);if(!n||!1===n._config.autoClose)continue;const s=e.composedPath(),r=s.includes(n._menu);if(s.includes(n._element)||"inside"===n._config.autoClose&&!r||"outside"===n._config.autoClose&&r||n._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const c={relatedTarget:n._element};"click"===e.type&&(c.clickEvent=e),n._completeHide(c)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,n=[kq,V2].includes(e.key);if(!n&&!i||t&&!i)return;e.preventDefault();const s=this.matches(md)?this:Tt.prev(this,md)[0]||Tt.next(this,md)[0]||Tt.findOne(md,e.delegateTarget.parentNode),r=$o.getOrCreateInstance(s);if(n)return e.stopPropagation(),r.show(),void r._selectMenuItem(e);r._isShown()&&(e.stopPropagation(),r.hide(),s.focus())}}Fe.on(document,W2,md,$o.dataApiKeydownHandler),Fe.on(document,W2,Nw,$o.dataApiKeydownHandler),Fe.on(document,U2,$o.clearMenus),Fe.on(document,xq,$o.clearMenus),Fe.on(document,U2,md,function(o){o.preventDefault(),$o.getOrCreateInstance(this).toggle()}),$a($o);const K2="backdrop",Y2=`mousedown.bs.${K2}`,Xq={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Qq={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class X2 extends FA{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Xq}static get DefaultType(){return Qq}static get NAME(){return K2}show(e){if(!this._config.isVisible)return void Zr(e);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Zr(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Zr(e)})):Zr(e)}dispose(){this._isAppended&&(Fe.off(this._element,Y2),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Ql(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Fe.on(e,Y2,()=>{Zr(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){T2(e,this._getElement(),this._config.isAnimated)}}const Fw=".bs.focustrap",Zq=`focusin${Fw}`,e5=`keydown.tab${Fw}`,Q2="backward",n5={autofocus:!0,trapElement:null},r5={autofocus:"boolean",trapElement:"element"};class J2 extends FA{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return n5}static get DefaultType(){return r5}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Fe.off(document,Fw),Fe.on(document,Zq,e=>this._handleFocusin(e)),Fe.on(document,e5,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Fe.off(document,Fw))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=Tt.focusableChildren(t);0===i.length?t.focus():this._lastTabNavDirection===Q2?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?Q2:"forward")}}const Z2=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",eN=".sticky-top",Ow="padding-right",tN="margin-right";class MI{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ow,t=>t+e),this._setElementAttributes(Z2,Ow,t=>t+e),this._setElementAttributes(eN,tN,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ow),this._resetElementAttributes(Z2,Ow),this._resetElementAttributes(eN,tN)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const n=this.getWidth();this._applyManipulationCallback(e,r=>{if(r!==this._element&&window.innerWidth>r.clientWidth+n)return;this._saveInitialAttribute(r,t);const c=window.getComputedStyle(r).getPropertyValue(t);r.style.setProperty(t,`${i(Number.parseFloat(c))}px`)})}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&Os.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,n=>{const s=Os.getDataAttribute(n,t);null!==s?(Os.removeDataAttribute(n,t),n.style.setProperty(t,s)):n.style.removeProperty(t)})}_applyManipulationCallback(e,t){if(Fs(e))t(e);else for(const i of Tt.find(e,this._element))t(i)}}const Ga=".bs.modal",l5=`hide${Ga}`,c5=`hidePrevented${Ga}`,iN=`hidden${Ga}`,nN=`show${Ga}`,u5=`shown${Ga}`,d5=`resize${Ga}`,h5=`click.dismiss${Ga}`,p5=`mousedown.dismiss${Ga}`,g5=`keydown.dismiss${Ga}`,m5=`click${Ga}.data-api`,rN="modal-open",II="modal-static",S5={backdrop:!0,focus:!0,keyboard:!0},P5={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class fd extends co{constructor(e,t){super(e,t),this._dialog=Tt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new MI,this._addEventListeners()}static get Default(){return S5}static get DefaultType(){return P5}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Fe.trigger(this._element,nN,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(rN),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Fe.trigger(this._element,l5).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Fe.off(window,Ga),Fe.off(this._dialog,Ga),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new X2({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new J2({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Tt.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Fe.trigger(this._element,u5,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){Fe.on(this._element,g5,e=>{if("Escape"===e.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Fe.on(window,d5,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Fe.on(this._element,p5,e=>{Fe.one(this._element,h5,t=>{if(this._element===e.target&&this._element===t.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(rN),this._resetAdjustments(),this._scrollBar.reset(),Fe.trigger(this._element,iN)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Fe.trigger(this._element,c5).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(II)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(II),this._queueCallback(()=>{this._element.classList.remove(II),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const n=Ba()?"paddingLeft":"paddingRight";this._element.style[n]=`${t}px`}if(!i&&e){const n=Ba()?"paddingRight":"paddingLeft";this._element.style[n]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const i=fd.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](t)}})}}Fe.on(document,m5,'[data-bs-toggle="modal"]',function(o){const e=Tt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&o.preventDefault(),Fe.one(e,nN,n=>{n.defaultPrevented||Fe.one(e,iN,()=>{Qg(this)&&this.focus()})});const t=Tt.findOne(".modal.show");t&&fd.getInstance(t).hide(),fd.getOrCreateInstance(e).toggle(this)}),Ew(fd),$a(fd);const Bs=".bs.offcanvas",oN=".data-api",_5=`load${Bs}${oN}`,lN="showing",uN=".offcanvas.show",C5=`show${Bs}`,E5=`shown${Bs}`,x5=`hide${Bs}`,dN=`hidePrevented${Bs}`,hN=`hidden${Bs}`,D5=`resize${Bs}`,M5=`click${Bs}${oN}`,I5=`keydown.dismiss${Bs}`,L5={backdrop:!0,keyboard:!0,scroll:!1},N5={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ec extends co{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return L5}static get DefaultType(){return N5}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||Fe.trigger(this._element,C5,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new MI).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(lN),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(lN),Fe.trigger(this._element,E5,{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&!Fe.trigger(this._element,x5).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new MI).reset(),Fe.trigger(this._element,hN)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=!!this._config.backdrop;return new X2({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():Fe.trigger(this._element,dN)}:null})}_initializeFocusTrap(){return new J2({trapElement:this._element})}_addEventListeners(){Fe.on(this._element,I5,e=>{if("Escape"===e.key){if(this._config.keyboard)return void this.hide();Fe.trigger(this._element,dN)}})}static jQueryInterface(e){return this.each(function(){const t=ec.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Fe.on(document,M5,'[data-bs-toggle="offcanvas"]',function(o){const e=Tt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),Jl(this))return;Fe.one(e,hN,()=>{Qg(this)&&this.focus()});const t=Tt.findOne(uN);t&&t!==e&&ec.getInstance(t).hide(),ec.getOrCreateInstance(e).toggle(this)}),Fe.on(window,_5,()=>{for(const o of Tt.find(uN))ec.getOrCreateInstance(o).show()}),Fe.on(window,D5,()=>{for(const o of Tt.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(o).position&&ec.getOrCreateInstance(o).hide()}),Ew(ec),$a(ec);const pN={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},F5=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),O5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,B5=(o,e)=>{const t=o.nodeName.toLowerCase();return e.includes(t)?!F5.has(t)||!!O5.test(o.nodeValue):e.filter(i=>i instanceof RegExp).some(i=>i.test(t))},H5={allowList:pN,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},q5={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},j5={entry:"(string|element|function|null)",selector:"(string|element)"};class V5 extends FA{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return H5}static get DefaultType(){return q5}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[n,s]of Object.entries(this._config.content))this._setContent(e,s,n);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},j5)}_setContent(e,t,i){const n=Tt.findOne(i,e);if(n){if(!(t=this._resolvePossibleFunction(t)))return void n.remove();if(Fs(t))return void this._putElementInTemplate(Ql(t),n);if(this._config.html)return void(n.innerHTML=this._maybeSanitize(t));n.textContent=t}}_maybeSanitize(e){return this._config.sanitize?function $5(o,e,t){if(!o.length)return o;if(t&&"function"==typeof t)return t(o);const n=(new window.DOMParser).parseFromString(o,"text/html"),s=[].concat(...n.body.querySelectorAll("*"));for(const r of s){const c=r.nodeName.toLowerCase();if(!Object.keys(e).includes(c)){r.remove();continue}const d=[].concat(...r.attributes),h=[].concat(e["*"]||[],e[c]||[]);for(const v of d)B5(v,h)||r.removeAttribute(v.nodeName)}return n.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Zr(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const W5=new Set(["sanitize","allowList","sanitizeFn"]),RI="fade",Bw="show",z5=".tooltip-inner",mN="hide.bs.modal",HA="hover",LI="focus",NI="click",o6={AUTO:"auto",TOP:"top",RIGHT:Ba()?"left":"right",BOTTOM:"bottom",LEFT:Ba()?"right":"left"},s6={allowList:pN,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},l6={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class nm extends co{constructor(e,t){super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return s6}static get DefaultType(){return l6}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Fe.off(this._element.closest(".modal"),mN,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=Fe.trigger(this._element,this.constructor.eventName("show")),i=(_2(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(n),Fe.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(n),n.classList.add(Bw),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))Fe.on(c,"mouseover",Cw);this._queueCallback(()=>{Fe.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Fe.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Bw),"ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))Fe.off(n,"mouseover",Cw);this._activeTrigger[NI]=!1,this._activeTrigger[LI]=!1,this._activeTrigger[HA]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Fe.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(RI,Bw),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(o=>{do{o+=Math.floor(1e6*Math.random())}while(document.getElementById(o));return o})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(RI),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new V5({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[z5]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(RI)}_isShown(){return this.tip&&this.tip.classList.contains(Bw)}_createPopper(e){const t=Zr(this._config.placement,[this,e,this._element]),i=o6[t.toUpperCase()];return yI(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return Zr(e,[this._element,this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...t,...Zr(this._config.popperConfig,[void 0,t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)Fe.on(this._element,this.constructor.eventName("click"),this._config.selector,i=>{const n=this._initializeOnDelegatedTarget(i);n._activeTrigger[NI]=!(n._isShown()&&n._activeTrigger[NI]),n.toggle()});else if("manual"!==t){const i=this.constructor.eventName(t===HA?"mouseenter":"focusin"),n=this.constructor.eventName(t===HA?"mouseleave":"focusout");Fe.on(this._element,i,this._config.selector,s=>{const r=this._initializeOnDelegatedTarget(s);r._activeTrigger["focusin"===s.type?LI:HA]=!0,r._enter()}),Fe.on(this._element,n,this._config.selector,s=>{const r=this._initializeOnDelegatedTarget(s);r._activeTrigger["focusout"===s.type?LI:HA]=r._element.contains(s.relatedTarget),r._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Fe.on(this._element.closest(".modal"),mN,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=Os.getDataAttributes(this._element);for(const i of Object.keys(t))W5.has(i)&&delete t[i];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:Ql(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(e[t]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=nm.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}$a(nm);const u6=".popover-header",d6=".popover-body",h6={...nm.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},p6={...nm.DefaultType,content:"(null|string|element|function)"};class FI extends nm{static get Default(){return h6}static get DefaultType(){return p6}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[u6]:this._getTitle(),[d6]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=FI.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}$a(FI);const OI=".bs.scrollspy",f6=`activate${OI}`,fN=`click${OI}`,y6=`load${OI}.data-api`,rm="active",BI="[href]",yN=".nav-link",S6=`${yN}, .nav-item > ${yN}, .list-group-item`,_6={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},w6={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class $w extends co{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return _6}static get DefaultType(){return w6}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Ql(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Fe.off(this._config.target,fN),Fe.on(this._config.target,fN,BI,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,n=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:n,behavior:"smooth"});i.scrollTop=n}}))}_getNewObserver(){return new IntersectionObserver(t=>this._observerCallback(t),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(e){const t=r=>this._targetLinks.get(`#${r.target.id}`),i=r=>{this._previousScrollData.visibleEntryTop=r.target.offsetTop,this._process(t(r))},n=(this._rootElement||document.documentElement).scrollTop,s=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const r of e){if(!r.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(r));continue}const c=r.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&c){if(i(r),!n)return}else!s&&!c&&i(r)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Tt.find(BI,this._config.target);for(const t of e){if(!t.hash||Jl(t))continue;const i=Tt.findOne(decodeURI(t.hash),this._element);Qg(i)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(rm),this._activateParents(e),Fe.trigger(this._element,f6,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))Tt.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(rm);else for(const t of Tt.parents(e,".nav, .list-group"))for(const i of Tt.prev(t,S6))i.classList.add(rm)}_clearActiveClass(e){e.classList.remove(rm);const t=Tt.find(`${BI}.${rm}`,e);for(const i of t)i.classList.remove(rm)}static jQueryInterface(e){return this.each(function(){const t=$w.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}Fe.on(window,y6,()=>{for(const o of Tt.find('[data-bs-spy="scroll"]'))$w.getOrCreateInstance(o)}),$a($w);const yd=".bs.tab",C6=`hide${yd}`,E6=`hidden${yd}`,x6=`show${yd}`,D6=`shown${yd}`,M6=`click${yd}`,I6=`keydown${yd}`,R6=`load${yd}`,L6="ArrowLeft",bN="ArrowRight",N6="ArrowUp",vN="ArrowDown",$I="Home",AN="End",bd="active",GI="show",PN=".dropdown-toggle",HI=`:not(${PN})`,kN='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',qI=`.nav-link${HI}, .list-group-item${HI}, [role="tab"]${HI}, ${kN}`,H6=`.${bd}[data-bs-toggle="tab"], .${bd}[data-bs-toggle="pill"], .${bd}[data-bs-toggle="list"]`;class am extends co{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Fe.on(this._element,I6,t=>this._keydown(t)))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?Fe.trigger(t,C6,{relatedTarget:e}):null;Fe.trigger(e,x6,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(bd),this._activate(Tt.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Fe.trigger(e,D6,{relatedTarget:t})):e.classList.add(GI)},e,e.classList.contains("fade")))}_deactivate(e,t){e&&(e.classList.remove(bd),e.blur(),this._deactivate(Tt.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Fe.trigger(e,E6,{relatedTarget:t})):e.classList.remove(GI)},e,e.classList.contains("fade")))}_keydown(e){if(![L6,bN,N6,vN,$I,AN].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(n=>!Jl(n));let i;if([$I,AN].includes(e.key))i=t[e.key===$I?0:t.length-1];else{const n=[bN,vN].includes(e.key);i=SI(t,e.target,n,!0)}i&&(i.focus({preventScroll:!0}),am.getOrCreateInstance(i).show())}_getChildren(){return Tt.find(qI,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const i of t)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Tt.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains("dropdown"))return;const n=(s,r)=>{const c=Tt.findOne(s,i);c&&c.classList.toggle(r,t)};n(PN,bd),n(".dropdown-menu",GI),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(bd)}_getInnerElement(e){return e.matches(qI)?e:Tt.findOne(qI,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){const t=am.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}Fe.on(document,M6,kN,function(o){["A","AREA"].includes(this.tagName)&&o.preventDefault(),!Jl(this)&&am.getOrCreateInstance(this).show()}),Fe.on(window,R6,()=>{for(const o of Tt.find(H6))am.getOrCreateInstance(o)}),$a(am);const tc=".bs.toast",j6=`mouseover${tc}`,V6=`mouseout${tc}`,U6=`focusin${tc}`,W6=`focusout${tc}`,K6=`hide${tc}`,z6=`hidden${tc}`,Y6=`show${tc}`,X6=`shown${tc}`,Gw="show",Hw="showing",J6={animation:"boolean",autohide:"boolean",delay:"number"},Z6={animation:!0,autohide:!0,delay:5e3};class qw extends co{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Z6}static get DefaultType(){return J6}static get NAME(){return"toast"}show(){Fe.trigger(this._element,Y6).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Gw,Hw),this._queueCallback(()=>{this._element.classList.remove(Hw),Fe.trigger(this._element,X6),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Fe.trigger(this._element,K6).defaultPrevented&&(this._element.classList.add(Hw),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Hw,Gw),Fe.trigger(this._element,z6)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Gw),super.dispose()}isShown(){return this._element.classList.contains(Gw)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){Fe.on(this._element,j6,e=>this._onInteraction(e,!0)),Fe.on(this._element,V6,e=>this._onInteraction(e,!1)),Fe.on(this._element,U6,e=>this._onInteraction(e,!0)),Fe.on(this._element,W6,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=qw.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Ew(qw),$a(qw);const $s=["Nessie","Bunyip","Mana Hound","Ammonite","Fossa","Hippocampus","Platybelodon","Barnacle","Olm"];function wN(o,e,t){const i=[0,1,2,3,4],n=h=>new Y.gE({name:new Y.MJ(h?.name),attack:new Y.MJ(h?.attack??0),health:new Y.MJ(h?.health??0),exp:new Y.MJ(h?.exp??0),equipment:new Y.MJ(h?.equipment?.name??null),equipmentUses:new Y.MJ(h?.equipment?.uses??null),belugaSwallowedPet:new Y.MJ(h?.belugaSwallowedPet),parrotCopyPet:new Y.MJ(h?.parrotCopyPet??null),parrotCopyPetBelugaSwallowedPet:new Y.MJ(h?.parrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet2:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet3:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1Level:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet2Level:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet3Level:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet1TimesHurt:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet2TimesHurt:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet3TimesHurt:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet3TimesHurt??0),parrotCopyPetAbominationSwallowedPet1ParrotCopyPet:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPet:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPet:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt:new Y.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),sarcasticFringeheadSwallowedPet:new Y.MJ(h?.sarcasticFringeheadSwallowedPet),mana:new Y.MJ(h?.mana??0),triggersConsumed:new Y.MJ(h?.triggersConsumed??0),foodsEaten:new Y.MJ(h?.foodsEaten??0),abominationSwallowedPet1:new Y.MJ(h?.abominationSwallowedPet1),abominationSwallowedPet2:new Y.MJ(h?.abominationSwallowedPet2),abominationSwallowedPet3:new Y.MJ(h?.abominationSwallowedPet3),abominationSwallowedPet1BelugaSwallowedPet:new Y.MJ(h?.abominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet2BelugaSwallowedPet:new Y.MJ(h?.abominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet3BelugaSwallowedPet:new Y.MJ(h?.abominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPet:new Y.MJ(h?.abominationSwallowedPet1ParrotCopyPet??null),abominationSwallowedPet2ParrotCopyPet:new Y.MJ(h?.abominationSwallowedPet2ParrotCopyPet??null),abominationSwallowedPet3ParrotCopyPet:new Y.MJ(h?.abominationSwallowedPet3ParrotCopyPet??null),abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet:new Y.MJ(h?.abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet:new Y.MJ(h?.abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet:new Y.MJ(h?.abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1:new Y.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2:new Y.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3:new Y.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1:new Y.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2:new Y.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3:new Y.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1:new Y.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2:new Y.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3:new Y.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new Y.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new Y.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new Y.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new Y.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new Y.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new Y.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new Y.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new Y.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new Y.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level:new Y.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level??1),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level:new Y.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level??1),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level:new Y.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level??1),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level:new Y.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level??1),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level:new Y.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level??1),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level:new Y.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level??1),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level:new Y.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level??1),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level:new Y.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level??1),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level:new Y.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level??1),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt:new Y.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt:new Y.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt:new Y.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt:new Y.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt:new Y.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt:new Y.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt:new Y.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt:new Y.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt:new Y.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),abominationSwallowedPet1Level:new Y.MJ(h?.abominationSwallowedPet1Level??1),abominationSwallowedPet2Level:new Y.MJ(h?.abominationSwallowedPet2Level??1),abominationSwallowedPet3Level:new Y.MJ(h?.abominationSwallowedPet3Level??1),abominationSwallowedPet1TimesHurt:new Y.MJ(h?.abominationSwallowedPet1TimesHurt??0),abominationSwallowedPet2TimesHurt:new Y.MJ(h?.abominationSwallowedPet2TimesHurt??0),abominationSwallowedPet3TimesHurt:new Y.MJ(h?.abominationSwallowedPet3TimesHurt??0),friendsDiedBeforeBattle:new Y.MJ(h?.friendsDiedBeforeBattle??0),battlesFought:new Y.MJ(h?.battlesFought??0),timesHurt:new Y.MJ(h?.timesHurt??0)}),s=i.map(h=>n(e.getPet(h))),r=o.get("playerPets");r.clear();for(const h of s)r.push(h);const c=i.map(h=>n(t.getPet(h))),d=o.get("opponentPets");d.clear();for(const h of c)d.push(h)}function ij(o){return o}function nj(o,e){return e?.id??String(o)}function rj(o,e){return e?.value??String(o)}function TN(o){o.formGroup.get("playerPack").setValue(o.formGroup.get("playerPack").value,{emitEvent:!1}),o.formGroup.get("opponentPack").setValue(o.formGroup.get("opponentPack").value,{emitEvent:!1})}function lj(o){return o}function jw(o,e){o.calculatorStateService.applyCalculatorState(o.formGroup,e,o.dayNight,()=>TN(o))}function CN(o){const t=o.formGroup.get("turn").value%2==1;o.dayNight=t,o.gameService.gameApi.day=t}function EN(o){wN(o.formGroup,o.player,o.opponent),Vw(o)}function Vw(o){o.playerPetsControls=Array.from(o.formGroup.get("playerPets").controls).reverse(),o.opponentPetsControls=Array.from(o.formGroup.get("opponentPets").controls)}function jI(o){o.petService.buildCustomPackPets(o.formGroup.get("customPacks")),xN(o),Ww(o,o.player,o.formGroup.get("playerPack").value,!1),Ww(o,o.opponent,o.formGroup.get("opponentPack").value,!1),Kw(o,o.player,o.formGroup.get("playerToy").value),Kw(o,o.opponent,o.formGroup.get("opponentToy").value),o.gameService.gameApi.playerHardToy=o.formGroup.get("playerHardToy").value,o.gameService.gameApi.playerHardToyLevel=o.formGroup.get("playerHardToyLevel").value,o.gameService.gameApi.opponentHardToy=o.formGroup.get("opponentHardToy").value,o.gameService.gameApi.opponentHardToyLevel=o.formGroup.get("opponentHardToyLevel").value,zw(o,o.player,o.formGroup.get("playerHardToy").value),zw(o,o.opponent,o.formGroup.get("opponentHardToy").value),o.previousPackOpponent=o.opponent.pack,o.previousPackPlayer=o.player.pack}function xN(o){for(let e=0;e<5;e++){const t=o.formGroup.get("playerPets").controls[e];if(null==t.get("name").value)continue;const i=o.petService.createPet(t.value,o.player);o.player.setPet(e,i,!0)}for(let e=0;e<5;e++){const t=o.formGroup.get("opponentPets").controls[e];if(null==t.get("name").value)continue;const i=o.petService.createPet(t.value,o.opponent);o.opponent.setPet(e,i,!0)}}function Uw(o,e){for(let t=0;t<5;t++){const i=o.petService.getRandomPet(e);i.equipment=LN(o),e.setPet(t,i,!0)}}function Ww(o,e,t,i=!0){let n;switch(e.pack=t,t){case"Turtle":n=o.petService.turtlePackPets;break;case"Puppy":n=o.petService.puppyPackPets;break;case"Star":n=o.petService.starPackPets;break;case"Golden":n=o.petService.goldenPackPets;break;case"Unicorn":n=o.petService.unicornPackPets;break;case"Danger":n=o.petService.dangerPackPets;break;default:n=o.petService.playerCustomPackPets.get(t),n||(o.formGroup.get("allPets").setValue(!0,{emitEvent:!1}),n=o.petService.allPets)}e==o.player?o.gameService.setTierGroupPets(n,null):o.gameService.setTierGroupPets(null,n),o.formGroup.get("allPets")}function Kw(o,e,t){let i;e==o.player&&(i="playerToyLevel"),e==o.opponent&&(i="opponentToyLevel");const n=Number(o.formGroup.get(i).value);e.toy=o.toyService.createToy(t,e,n),e.originalToy=e.toy,DN(o,e,t)}function DN(o,e,t){const i=o.toyService.getToyNameId(t),n=i?`${NL}${i}.png`:"";e==o.player?o.playerToyImageUrl=n:e==o.opponent&&(o.opponentToyImageUrl=n)}function zw(o,e,t){const i=o.toyService.getToyNameId(t),n=i?`${NL}${i}.png`:"";e==o.player?o.playerHardToyImageUrl=n:e==o.opponent&&(o.opponentHardToyImageUrl=n)}function MN(o,e){let t=1;e>2&&(t=2),e>4&&(t=3),e>6&&(t=4),e>8&&(t=5),e>10&&(t=6),o.gameService.setPreviousShopTier(t),o.gameService.setTurnNumber(e)}function IN(o,e,t){o.gameService.setGoldSpent(e,t)}function RN(o,e,t){e.toy&&(e.toy.level=t)}function LN(o){const e=Array.from(o.equipmentService.getInstanceOfAllEquipment().values()).filter(r=>"Corncob"!==r?.name),i=o.formGroup?.get("ailmentEquipment")?.value?Array.from(o.equipmentService.getInstanceOfAllAilments().values()):[],n=e.concat(i);return 0===n.length?null:n[Math.floor(Math.random()*n.length)]}function mj(o){return Yc(o)??""}function NN(o){return o.savedTeams.find(e=>e.id===o.selectedTeamId)}function bj(o){return o?{"background-image":`url(${Yc(o)})`,"background-repeat":"no-repeat","background-size":"20px 20px","background-position":"left center","padding-left":"2rem"}:{}}function Sj(o){return Qm(o)}function FN(o,e,t){"player"===e?o.playerPackImageBroken=!1:o.opponentPackImageBroken=!1}function Tj(o){return Yc(o)}function ON(o){o.customPackEditorModal.show(),o.formGroup.get("playerPack").setValue(o.previousPackPlayer,{emitEvent:!1}),o.formGroup.get("opponentPack").setValue(o.previousPackOpponent,{emitEvent:!1})}function VI(o,e){const t=o.petSelectors.toArray().slice("player"==e?0:5,"player"==e?5:10);for(const i of t)i.removePet();"player"===e?(o.formGroup.get("playerToy").setValue(null),o.formGroup.get("playerToyLevel").setValue(1),o.formGroup.get("playerHardToy").setValue(null),o.formGroup.get("playerHardToyLevel").setValue(1)):(o.formGroup.get("opponentToy").setValue(null),o.formGroup.get("opponentToyLevel").setValue(1),o.formGroup.get("opponentHardToy").setValue(null),o.formGroup.get("opponentHardToyLevel").setValue(1))}function BN(o,e,t=!1,i){let n=!1;try{const s=function KG(o){return!o||"object"!=typeof o||FL(o,WG),o}(JSON.parse(e));i?.resetBattle&&function Rj(o){o.simulated=!1,o.battles=[],o.battleRandomEvents=[],o.battleRandomEventsByBattle=new Map,o.filteredBattlesCache=[],o.viewBattle=null,o.viewBattleLogs=[],o.viewBattleLogRows=[],o.playerWinner=0,o.opponentWinner=0,o.draw=0,o.apiResponse=null,o.battleStarted=!1,o.currBattle=null}(o),o.petSelectors?.length&&(VI(o,"player"),VI(o,"opponent")),jw(o,s),jI(o),t||setTimeout(()=>{o.petSelectors&&o.petSelectors.forEach(r=>{r.fixLoadEquipment()})},0),n=!0}catch(s){console.error(s)}return n}const Nj={pP:"playerPack",oP:"opponentPack",pT:"playerToy",pTL:"playerToyLevel",pHT:"playerHardToy",pHTL:"playerHardToyLevel",oT:"opponentToy",oTL:"opponentToyLevel",oHT:"opponentHardToy",oHTL:"opponentHardToyLevel",t:"turn",pGS:"playerGoldSpent",oGS:"opponentGoldSpent",pRA:"playerRollAmount",oRA:"opponentRollAmount",pSA:"playerSummonedAmount",oSA:"opponentSummonedAmount",pL3:"playerLevel3Sold",oL3:"opponentLevel3Sold",p:"playerPets",o:"opponentPets",ap:"allPets",lf:"logFilter",cp:"customPacks",os:"oldStork",tp:"tokenPets",ks:"komodoShuffle",m:"mana",tc:"triggersConsumed",sa:"showAdvanced",swl:"showSwallowedLevels",ae:"ailmentEquipment",pTA:"playerTransformationAmount",oTA:"opponentTransformationAmount",n:"name",a:"attack",h:"health",e:"exp",eq:"equipment",bSP:"belugaSwallowedPet",pCP:"parrotCopyPet",pCPB:"parrotCopyPetBelugaSwallowedPet",...(()=>{const o={};for(let e=1;e<=3;e++){const t=`parrotCopyPetAbominationSwallowedPet${e}`,i=`pCPAS${e}`;o[i]=t,o[`${i}B`]=`${t}BelugaSwallowedPet`,o[`${i}L`]=`${t}Level`,o[`${i}T`]=`${t}TimesHurt`,o[`${i}PCP`]=`${t}ParrotCopyPet`,o[`${i}PCPB`]=`${t}ParrotCopyPetBelugaSwallowedPet`;for(let n=1;n<=3;n++){const s=`${t}ParrotCopyPetAbominationSwallowedPet${n}`,r=`${i}PCPAS${n}`;o[r]=s,o[`${r}B`]=`${s}BelugaSwallowedPet`,o[`${r}L`]=`${s}Level`,o[`${r}T`]=`${s}TimesHurt`}}return o})(),aSP1PCP:"abominationSwallowedPet1ParrotCopyPet",aSP2PCP:"abominationSwallowedPet2ParrotCopyPet",aSP3PCP:"abominationSwallowedPet3ParrotCopyPet",aSP1PCPB:"abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet",aSP2PCPB:"abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet",aSP3PCPB:"abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet",aSP1PCPAS1:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1",aSP1PCPAS2:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2",aSP1PCPAS3:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3",aSP2PCPAS1:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1",aSP2PCPAS2:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2",aSP2PCPAS3:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3",aSP3PCPAS1:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1",aSP3PCPAS2:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2",aSP3PCPAS3:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3",aSP1PCPAS1B:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet",aSP1PCPAS2B:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet",aSP1PCPAS3B:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet",aSP2PCPAS1B:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet",aSP2PCPAS2B:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet",aSP2PCPAS3B:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet",aSP3PCPAS1B:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet",aSP3PCPAS2B:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet",aSP3PCPAS3B:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet",aSP1PCPAS1L:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level",aSP1PCPAS2L:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level",aSP1PCPAS3L:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level",aSP2PCPAS1L:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level",aSP2PCPAS2L:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level",aSP2PCPAS3L:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level",aSP3PCPAS1L:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level",aSP3PCPAS2L:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level",aSP3PCPAS3L:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level",aSP1PCPAS1T:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt",aSP1PCPAS2T:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt",aSP1PCPAS3T:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt",aSP2PCPAS1T:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt",aSP2PCPAS2T:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt",aSP2PCPAS3T:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt",aSP3PCPAS1T:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt",aSP3PCPAS2T:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt",aSP3PCPAS3T:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt",tH:"timesHurt"};function UI(o){if(Array.isArray(o))return o.map(e=>UI(e));if(null!==o&&"object"==typeof o){const e={};for(const t in o)e[Nj[t]||t]=UI(o[t]);return e}return o}let Fj=(()=>{class o{parseCalculatorStateFromUrl(){const i=new URLSearchParams(window.location.search).get("c");if(!i)return{state:null};try{const n=decodeURIComponent(i);let s;if(n.trim().startsWith("{"))s=JSON.parse(n);else{const c=atob(i),d=decodeURIComponent(c);s=JSON.parse(d)}return{state:UI(s)}}catch{return{state:null,error:"Failed to parse calculator state from URL."}}}parseApiStateFromUrl(){const i=new URLSearchParams(window.location.search).get("code");if(!i)return{state:null};try{return{state:JSON.parse(decodeURIComponent(i))}}catch{return{state:null,error:"Error parsing API data from URL."}}}static \u0275fac=function(i){return new(i||o)};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Oj=(()=>{class o{gameService;constructor(t){this.gameService=t}applyCalculatorState(t,i,n,s){const c={...this.getDefaultState(),...i};t.patchValue(c,{emitEvent:!1});const d=i?.customPacks;i&&(i.customPacks=[]),this.loadCustomPacks(t,d),t.patchValue(i,{emitEvent:!1}),t.get("tokenPets")?.setValue(!0,{emitEvent:!1}),this.normalizeEquipmentControls(t.get("playerPets")),this.normalizeEquipmentControls(t.get("opponentPets")),s&&setTimeout(()=>s()),this.gameService.gameApi.oldStork=t.get("oldStork").value,this.gameService.gameApi.komodoShuffle=t.get("komodoShuffle").value,this.gameService.gameApi.mana=t.get("mana").value,this.gameService.gameApi.playerRollAmount=t.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=t.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=t.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=t.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=t.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=t.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=t.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=t.get("opponentTransformationAmount").value,this.gameService.gameApi.day=n,this.gameService.gameApi.turnNumber=t.get("turn").value}loadCustomPacks(t,i){const n=t.get("customPacks");n.clear();const s=Array.isArray(i)?i:[];for(const r of s){const c=Jo(r);n.push(c)}}getDefaultState(){return{playerPack:"Turtle",opponentPack:"Turtle",playerToy:null,playerToyLevel:"1",playerHardToy:null,playerHardToyLevel:"1",opponentToy:null,opponentToyLevel:"1",opponentHardToy:null,opponentHardToyLevel:"1",turn:11,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerPets:Array(5).fill(null),opponentPets:Array(5).fill(null),allPets:!1,logFilter:null,customPacks:[],oldStork:!1,tokenPets:!0,komodoShuffle:!1,mana:!1,showAdvanced:!1,showSwallowedLevels:!1,ailmentEquipment:!1}}normalizeEquipmentControls(t){if(t?.controls?.length)for(const i of t.controls){const s=i.get("equipment");if(!s)continue;const r=s.value,c=this.getEquipmentName(r);c!==r&&s.setValue(c,{emitEvent:!1})}}getEquipmentName(t){return t?"string"==typeof t?t:"object"==typeof t&&"string"==typeof t.name?t.name:null:null}static \u0275fac=function(i){return new(i||o)(w.KVO(Fr))};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class Bj{logService;gameService;abilityService;toyService;player;opponent;constructor(e,t,i,n,s,r){this.logService=e,this.gameService=t,this.abilityService=i,this.toyService=n,this.player=s,this.opponent=r}applyPreBattleFriendDeathCounts(){const e=[this.player,this.opponent];for(const t of e)for(const i of t.petArray)i?.friendsDiedBeforeBattle&&this.abilityService.simulatePostRemovalFriendFaintsCounters(i,i.friendsDiedBeforeBattle)}abilityCycle(){for(this.emptyFrontSpaceCheck();;){for(;this.abilityService.hasGlobalEvents;){const t=this.abilityService.peekNextHighestPriorityEvent();if(t&&this.abilityService.getPriorityNumber(t.abilityType)>=27&&(this.checkPetsAlive(),this.removeDeadPets())){this.resetClearFrontFlags(),this.emptyFrontSpaceCheck();continue}const i=this.abilityService.getNextHighestPriorityEvent();if(!i){console.error("AbilityCycle: Expected event from queue but got null. Queue state inconsistent.");break}this.abilityService.executeEventCallback(i),this.checkPetsAlive()}if(this.removeDeadPets()&&(this.resetClearFrontFlags(),this.emptyFrontSpaceCheck()),!this.abilityService.hasGlobalEvents){this.player.checkGoldenSpawn(),this.opponent.checkGoldenSpawn();break}}}checkPetsAlive(){this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}removeDeadPets(){let e=!1;return e=this.player.removeDeadPets(),e=this.opponent.removeDeadPets()||e,e}emptyFrontSpaceCheck(){if(null==this.player.pet0)this.abilityService.triggerEmptyFrontSpaceEvents(this.player);else for(const e of this.player.petArray)e.clearFrontTriggered=!1;if(null==this.opponent.pet0)this.abilityService.triggerEmptyFrontSpaceEvents(this.opponent);else for(const e of this.opponent.petArray)e.clearFrontTriggered=!1;null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceToyEvents()}initToys(){const e=this.player.toy,t=e?.startOfBattle;e&&t&&this.toyService.setStartOfBattleEvent({callback:()=>{t.call(e,this.gameService.gameApi);const s=e.level;for(let r of this.player.petArray)r instanceof Uc&&(e.level=r.level,t.call(e,this.gameService.gameApi,!0),e.level=s)},priority:e.tier,player:this.player});const i=this.opponent.toy,n=i?.startOfBattle;i&&n&&this.toyService.setStartOfBattleEvent({callback:()=>{n.call(i,this.gameService.gameApi);const s=i.level;for(let r of this.opponent.petArray)r instanceof Uc&&(i.level=r.level,n.call(i,this.gameService.gameApi,!0),i.level=s)},priority:i.tier,player:this.opponent})}initializeEquipmentMultipliers(){for(let e of this.player.petArray)e.equipment&&e.setEquipmentMultiplier();for(let e of this.opponent.petArray)e.equipment&&e.setEquipmentMultiplier()}resetClearFrontFlags(){for(const e of this.player.petArray)e.clearFrontTriggered=!1;for(const e of this.opponent.petArray)e.clearFrontTriggered=!1}}class $j{ctx;constructor(e){this.ctx=e}executeBattleLoop(){for(;this.ctx.getBattleStarted();)this.nextTurn()}startBattle(){this.reset(),this.ctx.setBattleStarted(!0),this.ctx.setTurns(0)}reset(){this.ctx.player.resetPets(),this.ctx.opponent.resetPets()}nextTurn(){let e=!1,t=null;this.ctx.setTurns(this.ctx.getTurns()+1);let i=this.ctx.player.alive(),n=this.ctx.opponent.alive();if(i&&!n){const s=this.tryAllEnemiesFaintedToyTrigger(this.ctx.player,this.ctx.opponent);if(n=this.ctx.opponent.alive(),!s){t=this.ctx.player;const r=this.ctx.getBattle();r&&(r.winner="player"),this.ctx.incrementPlayerWinner(),e=!0}}if(!i&&n){const s=this.tryAllEnemiesFaintedToyTrigger(this.ctx.opponent,this.ctx.player);if(i=this.ctx.player.alive(),!s){t=this.ctx.opponent;const r=this.ctx.getBattle();r&&(r.winner="opponent"),this.ctx.incrementOpponentWinner(),e=!0}}if(!i&&!n&&(this.ctx.incrementDraw(),e=!0),e)return this.ctx.logService.printState(this.ctx.player,this.ctx.opponent),this.endLog(t),void this.ctx.setBattleStarted(!1);if(this.ctx.getTurns()>=this.ctx.maxTurns&&(this.ctx.incrementDraw(),e=!0),e)return this.ctx.logService.printState(this.ctx.player,this.ctx.opponent),this.endLog(t),void this.ctx.setBattleStarted(!1);for(this.pushPetsForwards(),this.ctx.logService.printState(this.ctx.player,this.ctx.opponent);;){let s=this.ctx.player.pet0,r=this.ctx.opponent.pet0;this.ctx.player.pet0&&this.ctx.abilityService.triggerBeforeAttackEvent(this.ctx.player.pet0),this.ctx.opponent.pet0&&this.ctx.abilityService.triggerBeforeAttackEvent(this.ctx.opponent.pet0),this.ctx.abilityService.executeBeforeAttackEvents(),this.ctx.abilityEngine.checkPetsAlive();do{this.ctx.abilityEngine.abilityCycle()}while(this.ctx.abilityService.hasAbilityCycleEvents);if(!this.ctx.player.alive()||!this.ctx.opponent.alive())return;if(this.pushPetsForwards(),s&&s.transformed&&(s=s.transformedInto??s),r&&r.transformed&&(r=r.transformedInto??r),this.ctx.player.pet0==s&&this.ctx.opponent.pet0==r)break}this.ctx.player.resetJumpedFlags(),this.ctx.opponent.resetJumpedFlags(),this.fight(),this.ctx.abilityEngine.checkPetsAlive();do{this.ctx.abilityEngine.abilityCycle()}while(this.ctx.abilityService.hasAbilityCycleEvents)}fight(){const e=this.ctx.player.pet0,t=this.ctx.opponent.pet0;!e||!t||(e.attackPet(t),t.attackPet(e),e.useAttackDefenseEquipment(),t.useAttackDefenseEquipment(),this.ctx.gameService.gameApi.FirstNonJumpAttackHappened=!0,this.ctx.abilityEngine.checkPetsAlive(),this.ctx.abilityService.executeAfterAttackEvents())}pushPetsForwards(){this.ctx.player.pushPetsForward(),this.ctx.opponent.pushPetsForward()}endLog(e){let t;t=null==e?"Draw":e==this.ctx.player?"Player is the winner":"Opponent is the winner",this.ctx.logService.createLog({message:t,type:"board"})}tryAllEnemiesFaintedToyTrigger(e,t){return!!e.toy?.allEnemiesFainted&&(e.toy.allEnemiesFainted(this.ctx.gameService.gameApi),t.alive())}}class Gj{logService;gameService;abilityService;petService;equipmentService;toyService;player;opponent;battleStarted=!1;turns=0;maxTurns=71;currBattle=null;battles=[];playerWinner=0;opponentWinner=0;draw=0;abilityEngine;eventProcessor;petFormCache=new WeakMap;constructor(e,t,i,n,s,r){this.logService=e,this.gameService=t,this.abilityService=i,this.petService=n,this.equipmentService=s,this.toyService=r,this.player=new Sn(e,i,t),this.opponent=new Sn(e,i,t),this.opponent.isOpponent=!0,this.gameService.init(this.player,this.opponent),this.abilityEngine=new Bj(this.logService,this.gameService,this.abilityService,this.toyService,this.player,this.opponent),this.eventProcessor=new $j({player:this.player,opponent:this.opponent,logService:this.logService,gameService:this.gameService,abilityService:this.abilityService,abilityEngine:this.abilityEngine,maxTurns:this.maxTurns,getBattle:()=>this.currBattle,setBattle:d=>{this.currBattle=d},getBattleStarted:()=>this.battleStarted,setBattleStarted:d=>{this.battleStarted=d},getTurns:()=>this.turns,setTurns:d=>{this.turns=d},incrementPlayerWinner:()=>{this.playerWinner+=1},incrementOpponentWinner:()=>{this.opponentWinner+=1},incrementDraw:()=>{this.draw+=1}})}run(e){let t=e.simulationCount||1e3;this.logService.setEnabled(!1!==e.logsEnabled),this.logService.setDeferDecorations(!0),this.resetSimulation(),this.setupGameEnvironment(e),e.optimizeDeterministicSimulations&&this.isBattleDeterministic(e)&&(t=1);for(let i=0;i<t;i++)this.initBattle(e),this.prepareBattle(e),this.executeBattleLoop(),this.reset();return{playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw,battles:this.battles}}resetSimulation(){this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.currBattle=null}setupGameEnvironment(e){let t=1;e.turn>2&&(t=2),e.turn>4&&(t=3),e.turn>6&&(t=4),e.turn>8&&(t=5),e.turn>10&&(t=6),this.gameService.setPreviousShopTier(t),this.gameService.setTurnNumber(e.turn),this.gameService.setGoldSpent(e.playerGoldSpent??10,e.opponentGoldSpent??10),this.gameService.gameApi.oldStork=e.oldStork??!1,this.gameService.gameApi.komodoShuffle=e.komodoShuffle??!1,this.gameService.gameApi.mana=e.mana??!1,this.gameService.gameApi.playerRollAmount=e.playerRollAmount??4,this.gameService.gameApi.opponentRollAmount=e.opponentRollAmount??4,this.gameService.gameApi.playerLevel3Sold=e.playerLevel3Sold??0,this.gameService.gameApi.opponentLevel3Sold=e.opponentLevel3Sold??0,this.player.pack=e.playerPack,this.opponent.pack=e.opponentPack;const i=r=>{switch(r){case"Turtle":return this.petService.turtlePackPets;case"Puppy":return this.petService.puppyPackPets;case"Star":return this.petService.starPackPets;case"Golden":return this.petService.goldenPackPets;case"Unicorn":return this.petService.unicornPackPets;case"Danger":return this.petService.dangerPackPets;default:return this.petService.playerCustomPackPets.get(r)||new Map}},n=i(e.playerPack),s=i(e.opponentPack);this.gameService.setTierGroupPets(n,s)}initBattle(e){this.logService.reset(),this.abilityService.clearGlobalEventQueue(),this.currBattle={winner:"draw",logs:this.logService.getLogs()},this.battles.push(this.currBattle),this.gameService.gameApi.opponentSummonedAmount=e.opponentSummonedAmount??0,this.gameService.gameApi.playerSummonedAmount=e.playerSummonedAmount??0,this.gameService.gameApi.opponentTransformationAmount=e.opponentTransformationAmount??0,this.gameService.gameApi.playerTransformationAmount=e.playerTransformationAmount??0}prepareBattle(e){this.reset(),this.createPets(this.player,e.playerPets),this.createPets(this.opponent,e.opponentPets),this.applyPreBattleFriendDeathCounts(),e.playerToy?(this.player.toy=this.toyService.createToy(e.playerToy,this.player,e.playerToyLevel??1),this.player.originalToy=this.player.toy):(this.player.toy=null,this.player.originalToy=null),e.opponentToy?(this.opponent.toy=this.toyService.createToy(e.opponentToy,this.opponent,e.opponentToyLevel??1),this.opponent.originalToy=this.opponent.toy):(this.opponent.toy=null,this.opponent.originalToy=null),this.gameService.gameApi.playerHardToy=e.playerHardToy??null,this.gameService.gameApi.playerHardToyLevel=e.playerHardToyLevel??1,this.gameService.gameApi.opponentHardToy=e.opponentHardToy??null,this.gameService.gameApi.opponentHardToyLevel=e.opponentHardToyLevel??1,this.startBattle(),this.initToys(),this.abilityService.initSpecialEndTurnAbility(this.player),this.abilityService.initSpecialEndTurnAbility(this.opponent),this.gameService.gameApi.FirstNonJumpAttackHappened=!1,this.initializeEquipmentMultipliers(),this.logService.createLog({message:"Phase 1: Before battle",type:"board"}),this.logService.printState(this.player,this.opponent),this.abilityService.triggerBeforeStartOfBattleEvents(),this.abilityService.executeBeforeStartOfBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);const t=i=>"Churros"===i.equipment?.name;this.logService.createLog({message:"Phase 2: Start of battle",type:"board"}),this.logService.printState(this.player,this.opponent),this.abilityService.triggerStartBattleEvents(t),this.abilityService.executeStartBattleEvents(),this.toyService.executeStartOfBattleEvents(),this.abilityService.triggerStartBattleEvents(i=>!t(i)),this.abilityService.executeStartBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);this.logService.createLog({message:"Phase 3: After Start of Battle",type:"board"}),this.logService.printState(this.player,this.opponent)}createPets(e,t){for(let i=0;i<5;i++){const n=t[i];if(!n||!n.name)continue;let s=this.petFormCache.get(n);s||(s=this.buildPetForm(n),this.petFormCache.set(n,s));const r=this.petService.createPet(s,e);e.setPet(i,r,!0)}}buildPetForm(e){const t=e.equipment;let i=null;return"string"==typeof t?i={name:t}:t&&"object"==typeof t&&(i=t),{...e,name:e.name,attack:e.attack??0,health:e.health??0,exp:e.exp??0,mana:e.mana??0,triggersConsumed:e.triggersConsumed??0,foodsEaten:e.foodsEaten??0,equipment:i,equipmentUses:e.equipmentUses??("number"==typeof t?.uses?t.uses:null),battlesFought:e.battlesFought??0,timesHurt:e.timesHurt??0,friendsDiedBeforeBattle:e.friendsDiedBeforeBattle??0,abominationSwallowedPet1TimesHurt:e.abominationSwallowedPet1TimesHurt??0,abominationSwallowedPet2TimesHurt:e.abominationSwallowedPet2TimesHurt??0,abominationSwallowedPet3TimesHurt:e.abominationSwallowedPet3TimesHurt??0}}applyPreBattleFriendDeathCounts(){this.abilityEngine.applyPreBattleFriendDeathCounts()}executeBattleLoop(){this.eventProcessor.executeBattleLoop()}startBattle(){this.eventProcessor.startBattle()}reset(){this.eventProcessor.reset()}nextTurn(){this.eventProcessor.nextTurn()}fight(){this.eventProcessor.fight()}abilityCycle(){this.abilityEngine.abilityCycle()}checkPetsAlive(){this.abilityEngine.checkPetsAlive()}removeDeadPets(){return this.abilityEngine.removeDeadPets()}emptyFrontSpaceCheck(){this.abilityEngine.emptyFrontSpaceCheck()}initToys(){this.abilityEngine.initToys()}pushPetsForwards(){this.eventProcessor.pushPetsForwards()}endLog(e){this.eventProcessor.endLog(e)}initializeEquipmentMultipliers(){this.abilityEngine.initializeEquipmentMultipliers()}resetClearFrontFlags(){this.abilityEngine.resetClearFrontFlags()}isBattleDeterministic(e){if(e.komodoShuffle||e.oldStork||e.playerToy&&this.toyService.isToyRandom(e.playerToy)||e.opponentToy&&this.toyService.isToyRandom(e.opponentToy))return!1;const t=i=>{if(!i)return!0;for(let n=0;n<i.length;n++){const s=i[n];if(!s||!s.name)continue;if(this.petService.isPetRandom(s.name))return!1;let c=null;if("string"==typeof s.equipment?c=s.equipment:s.equipment&&"object"==typeof s.equipment&&(c=s.equipment.name),c&&this.equipmentService.isEquipmentRandom(c))return!1}return!0};return!(!t(e.playerPets)||!t(e.opponentPets))}}let Hj=(()=>{class o{logService;gameService;abilityService;petService;equipmentService;toyService;constructor(t,i,n,s,r,c){this.logService=t,this.gameService=i,this.abilityService=n,this.petService=s,this.equipmentService=r,this.toyService=c}runSimulation(t,i,n,s){const r=this.buildConfig(t,i),c=this.logService.isEnabled(),d=this.logService.isDeferDecorations();this.logService.setEnabled(!1!==r.logsEnabled),this.logService.setDeferDecorations(!0);const v=new Gj(this.logService,this.gameService,this.abilityService,this.petService,this.equipmentService,this.toyService).run(r);return this.gameService.init(n,s),this.syncGameApiFromForm(t),this.logService.setEnabled(c),this.logService.setDeferDecorations(d),v}syncGameApiFromForm(t){this.gameService.gameApi.oldStork=t.get("oldStork").value,this.gameService.gameApi.komodoShuffle=t.get("komodoShuffle").value,this.gameService.gameApi.mana=t.get("mana").value,this.gameService.gameApi.playerRollAmount=t.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=t.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=t.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=t.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=t.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=t.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=t.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=t.get("opponentTransformationAmount").value,this.gameService.setGoldSpent(t.get("playerGoldSpent").value,t.get("opponentGoldSpent").value),this.gameService.setTurnNumber(t.get("turn").value)}buildConfig(t,i){const n=t.get("logsEnabled")?.value??!0,s=Number(i)>=1001;return{playerPack:t.get("playerPack").value,opponentPack:t.get("opponentPack").value,playerToy:t.get("playerToy").value,playerToyLevel:t.get("playerToyLevel").value,playerHardToy:t.get("playerHardToy").value,playerHardToyLevel:t.get("playerHardToyLevel").value,opponentToy:t.get("opponentToy").value,opponentToyLevel:t.get("opponentToyLevel").value,opponentHardToy:t.get("opponentHardToy").value,opponentHardToyLevel:t.get("opponentHardToyLevel").value,turn:t.get("turn").value,playerGoldSpent:t.get("playerGoldSpent").value,opponentGoldSpent:t.get("opponentGoldSpent").value,playerRollAmount:t.get("playerRollAmount").value,opponentRollAmount:t.get("opponentRollAmount").value,playerSummonedAmount:t.get("playerSummonedAmount").value,opponentSummonedAmount:t.get("opponentSummonedAmount").value,playerLevel3Sold:t.get("playerLevel3Sold").value,opponentLevel3Sold:t.get("opponentLevel3Sold").value,playerTransformationAmount:t.get("playerTransformationAmount").value,opponentTransformationAmount:t.get("opponentTransformationAmount").value,playerPets:this.normalizePetConfigs(t.get("playerPets").value),opponentPets:this.normalizePetConfigs(t.get("opponentPets").value),allPets:t.get("allPets").value,oldStork:t.get("oldStork").value,tokenPets:t.get("tokenPets").value,komodoShuffle:t.get("komodoShuffle").value,mana:t.get("mana").value,simulationCount:i,logsEnabled:!s&&n}}normalizePetConfigs(t){return Array.isArray(t)?t.map(i=>this.normalizePetConfig(i)):[]}normalizePetConfig(t){if(!t||!t.name)return null;const i={...t},n=i.equipment;let s=null,r=i.equipmentUses??null;if(n&&"object"==typeof n){if(s=n.name??null,null==r&&null!=n.uses){const c=Number(n.uses);r=Number.isFinite(c)?c:null}}else"string"==typeof n&&(s=n);return i.equipment=s?{name:s}:null,i.equipmentUses=r??null,delete i.parent,delete i.logService,delete i.abilityService,delete i.gameService,delete i.petService,delete i.abilityList,delete i.originalAbilityList,delete i.originalEquipment,i}static \u0275fac=function(i){return new(i||o)(w.KVO(nr),w.KVO(Fr),w.KVO(Ea),w.KVO(xr),w.KVO(pi),w.KVO(kr))};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),qj=(()=>{class o{storageKey="sap-team-presets";loadTeams(){const t=window.localStorage.getItem(this.storageKey);if(!t)return this.getDefaultTeams();try{const i=JSON.parse(t),n=Array.isArray(i)?i:[];return this.mergeDefaultTeams(n)}catch{return this.getDefaultTeams()}}persistTeams(t){window.localStorage.setItem(this.storageKey,JSON.stringify(t))}getDefaultTeams(){return[{id:"default-max-damage",name:"1000 Mana",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:3,pets:Array.from({length:5},()=>({name:"Sea Serpent",attack:50,health:50,exp:5,equipment:{name:"Coconut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-great-six",name:"The Great Six",createdAt:Date.now(),toyName:"Evil Book",toyLevel:3,pets:Array.from({length:5},()=>({name:"Beluga Whale",attack:50,health:50,exp:5,equipment:{name:"White Okra"},belugaSwallowedPet:"Great One",sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-ability-removal",name:"Ability Removal",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:3,rollAmount:14,pets:[{name:"Abomination",attack:50,health:50,exp:5,equipment:{name:"White Okra"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Red Lipped Batfish",abominationSwallowedPet2:"Sea Serpent",abominationSwallowedPet3:"Nessie",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},...Array.from({length:4},()=>({name:"Red Lipped Batfish",attack:50,health:50,exp:5,equipment:{name:"White Okra"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}))]},{id:"default-sloths",name:"Sloths",createdAt:Date.now(),toyName:null,toyLevel:1,pets:Array.from({length:5},()=>({name:"Sloth",attack:1,health:1,exp:0,equipment:null,belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:0,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-sob-snipes",name:"SoB Snipes",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:3,pets:Array.from({length:5},()=>({name:"Leopard",attack:50,health:50,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-infinite-damage",name:"Infinite Damage",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:1,rollAmount:47,transformationAmount:200,pets:[{name:"Giant Pangasius",attack:50,health:1,exp:5,equipment:{name:"Mushroom"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Beluga Whale",abominationSwallowedPet3Level:1,abominationSwallowedPet3BelugaSwallowedPet:"Giant Pangasius",abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Cashew Nut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Beluga Whale",abominationSwallowedPet3Level:1,abominationSwallowedPet3BelugaSwallowedPet:"Nessie",abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Sabertooth Tiger",abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:25,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Beluga Whale",abominationSwallowedPet3Level:1,abominationSwallowedPet3BelugaSwallowedPet:"Slug",abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}]},{id:"default-shoggoths-return",name:"Shoggoth's Return",createdAt:Date.now(),toyName:"Tinder Box",toyLevel:3,rollAmount:14,pets:[{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Nessie",abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Highland Cow",abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Sabertooth Tiger",abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:50,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Unicorn",abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Hydra",abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}]},{id:"default-shoggoth",name:"Shoggoth",createdAt:Date.now(),toyName:"Tinder Box",toyLevel:3,rollAmount:14,pets:[{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Nessie",abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Highland Cow",attack:50,health:50,exp:5,equipment:{name:"White Okra"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Sabertooth Tiger",attack:50,health:50,exp:5,equipment:{name:"White Okra"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:50,equipmentUses:null},{name:"Marine Iguana",attack:50,health:50,exp:5,equipment:{name:"White Okra"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Hydra",attack:50,health:50,exp:5,equipment:{name:"White Okra"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:0,equipmentUses:null}]}]}mergeDefaultTeams(t){const i=this.getDefaultTeams(),n=new Set(t.map(r=>r.id)),s=[...t];for(const r of i)n.has(r.id)||s.push(r);return s}static \u0275fac=function(i){return new(i||o)};static \u0275prov=w.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const jj=["customPackEditor"],Vj=()=>[B.e(541).then(B.bind(B,8541)).then(o=>o.PatchNotesComponent)],Uj=()=>[B.e(867).then(B.bind(B,8867)).then(o=>o.InfoComponent)],Wj=()=>[B.e(705).then(B.bind(B,9705)).then(o=>o.ImportCalculatorComponent)],Kj=()=>[Y.cb,Y.j4,B.e(817).then(B.bind(B,6817)).then(o=>o.ExportCalculatorComponent)],zj=()=>[B.e(673).then(B.bind(B,4673)).then(o=>o.ReportABugComponent)],Yj=()=>({standalone:!0}),Xj=()=>[];function Qj(o,e){if(1&o&&(g.qex(0),g.j41(1,"div",6),g.EFF(2),g.k0s(),g.bVm()),2&o){const t=g.XpG();g.R7$(2),g.JRh(t.apiResponse)}}function Jj(o,e){if(1&o&&g.nrm(0,"img",95),2&o){const t=g.XpG(2);g.Y8G("ngSrc",t.playerToyImageUrl)}}function Zj(o,e){if(1&o){const t=g.RV6();g.j41(0,"div",96)(1,"button",97),g.bIt("click",function(){w.eBV(t);const n=g.XpG(2);return w.Njj(n.decrementToyLevel("player"))}),g.nrm(2,"i",98),g.k0s(),g.j41(3,"span",99),g.EFF(4),g.k0s(),g.j41(5,"button",100),g.bIt("click",function(){w.eBV(t);const n=g.XpG(2);return w.Njj(n.incrementToyLevel("player"))}),g.nrm(6,"i",101),g.k0s()()}if(2&o){const t=g.XpG(2);g.R7$(4),g.SpI("Lv",t.formGroup.get("playerToyLevel").value)}}function e8(o,e){if(1&o&&g.nrm(0,"img",102),2&o){const t=g.XpG(2);g.Y8G("ngSrc",t.playerHardToyImageUrl)}}function t8(o,e){if(1&o){const t=g.RV6();g.j41(0,"button",103),g.bIt("click",function(){w.eBV(t);const n=g.XpG(2);return w.Njj(n.removeHardToy("player"))}),g.nrm(1,"i",104),g.k0s()}}function i8(o,e){if(1&o&&(g.j41(0,"div",105)(1,"div",106),w.qSk(),g.j41(2,"svg",107),g.nrm(3,"path",108)(4,"path",109),g.k0s()(),w.joV(),g.nrm(5,"app-pet-selector",110),g.k0s()),2&o){const t=e.$implicit,i=e.index,n=g.XpG(2);g.R7$(5),g.Y8G("pet",n.player["pet"+(4-i)])("player",n.player)("opponent",n.opponent)("index",4-i)("formGroup",n.makeFormGroup(t))("ailments",!0)("allPets",n.formGroup.get("allPets").value)("mana",n.formGroup.get("mana").value)("triggersConsumed",n.formGroup.get("triggersConsumed").value)("allowEquipmentUseOverrides",n.formGroup.get("changeEquipmentUses").value)("showTokenPets",n.formGroup.get("tokenPets").value)("flipImage",!0)("customPacks",n.formGroup.get("customPacks"))("showSwallowedLevels",n.formGroup.get("showSwallowedLevels").value)}}function n8(o,e){if(1&o&&g.nrm(0,"img",111),2&o){const t=g.XpG(2);g.Y8G("ngSrc",t.opponentToyImageUrl)}}function r8(o,e){if(1&o){const t=g.RV6();g.j41(0,"div",96)(1,"button",97),g.bIt("click",function(){w.eBV(t);const n=g.XpG(2);return w.Njj(n.decrementToyLevel("opponent"))}),g.nrm(2,"i",98),g.k0s(),g.j41(3,"span",99),g.EFF(4),g.k0s(),g.j41(5,"button",100),g.bIt("click",function(){w.eBV(t);const n=g.XpG(2);return w.Njj(n.incrementToyLevel("opponent"))}),g.nrm(6,"i",101),g.k0s()()}if(2&o){const t=g.XpG(2);g.R7$(4),g.SpI("Lv",t.formGroup.get("opponentToyLevel").value)}}function a8(o,e){if(1&o&&g.nrm(0,"img",112),2&o){const t=g.XpG(2);g.Y8G("ngSrc",t.opponentHardToyImageUrl)}}function o8(o,e){if(1&o){const t=g.RV6();g.j41(0,"button",103),g.bIt("click",function(){w.eBV(t);const n=g.XpG(2);return w.Njj(n.removeHardToy("opponent"))}),g.nrm(1,"i",104),g.k0s()}}function s8(o,e){if(1&o&&(g.j41(0,"div",113)(1,"div",106),w.qSk(),g.j41(2,"svg",107),g.nrm(3,"path",108)(4,"path",109),g.k0s()(),w.joV(),g.nrm(5,"app-pet-selector",114),g.k0s()),2&o){const t=e.$implicit,i=e.index,n=g.XpG(2);g.R7$(5),g.Y8G("pet",n.opponent["pet"+i])("player",n.opponent)("opponent",n.player)("index",i)("formGroup",n.makeFormGroup(t))("ailments",!0)("allPets",n.formGroup.get("allPets").value)("mana",n.formGroup.get("mana").value)("triggersConsumed",n.formGroup.get("triggersConsumed").value)("allowEquipmentUseOverrides",n.formGroup.get("changeEquipmentUses").value)("showTokenPets",n.formGroup.get("tokenPets").value)("customPacks",n.formGroup.get("customPacks"))("showSwallowedLevels",n.formGroup.get("showSwallowedLevels").value)}}function l8(o,e){if(1&o){const t=g.RV6();g.j41(0,"button",115),g.bIt("click",function(){w.eBV(t);const n=g.XpG(2);return w.Njj(n.undoRandomize())}),g.EFF(1," Undo Randomize "),g.k0s()}}function c8(o,e){if(1&o&&(g.qex(0),g.j41(1,"div",116)(2,"div",117)(3,"span",118)(4,"span",119),g.EFF(5,"Player Wins:"),g.k0s(),g.j41(6,"span"),g.EFF(7),g.k0s()(),g.j41(8,"span",120)(9,"span",119),g.EFF(10,"Draws:"),g.k0s(),g.j41(11,"span"),g.EFF(12),g.k0s()(),g.j41(13,"span",121)(14,"span",119),g.EFF(15,"Opponent Wins:"),g.k0s(),g.j41(16,"span"),g.EFF(17),g.k0s()()(),g.j41(18,"div",122)(19,"span",123),g.nrm(20,"span",124)(21,"span",125),g.k0s()()(),g.bVm()),2&o){const t=g.XpG(2);g.R7$(7),g.Lme("",t.playerWinner," - ",t.winPercent,"%"),g.R7$(5),g.Lme("",t.draw," - ",t.drawPercent,"%"),g.R7$(5),g.Lme("",t.opponentWinner," - ",t.losePercent,"%"),g.R7$(3),g.xc7("width",t.drawWidth),g.R7$(),g.xc7("width",t.loseWidth)}}function u8(o,e){1&o&&(g.j41(0,"div",126)(1,"span",127),g.EFF(2,"Simulate to see results"),g.k0s(),g.nrm(3,"span",128),g.k0s())}function d8(o,e){if(1&o&&(g.j41(0,"div",129),g.EFF(1),g.k0s()),2&o){const t=g.XpG(2);g.Y8G("ngClass","success"===t.statusTone?"text-success":"text-danger"),g.R7$(),g.SpI(" ",t.statusMessage," ")}}function h8(o,e){if(1&o&&g.nrm(0,"img",132),2&o){const t=e.$implicit,i=g.XpG(3);g.Y8G("ngSrc",t)("alt",i.selectedTeamName)}}function p8(o,e){if(1&o&&(g.j41(0,"div",130),g.DNE(1,h8,1,2,"img",131),g.k0s()),2&o){const t=g.XpG(2);g.R7$(),g.Y8G("ngForOf",t.selectedTeamPreviewIcons)}}function g8(o,e){1&o&&(g.j41(0,"span",133),g.EFF(1,"Saved teams"),g.k0s())}function m8(o,e){if(1&o){const t=g.RV6();g.j41(0,"img",134),g.bIt("error",function(){w.eBV(t);const n=g.XpG(2);return w.Njj(n.onPackImageError("player"))}),g.k0s()}if(2&o){const t=g.XpG(2);g.Y8G("ngSrc",t.getPackIconPath(t.formGroup.get("playerPack").value))}}function f8(o,e){if(1&o){const t=g.RV6();g.j41(0,"img",134),g.bIt("error",function(){w.eBV(t);const n=g.XpG(2);return w.Njj(n.onPackImageError("opponent"))}),g.k0s()}if(2&o){const t=g.XpG(2);g.Y8G("ngSrc",t.getPackIconPath(t.formGroup.get("opponentPack").value))}}function y8(o,e){1&o&&(g.j41(0,"div",163)(1,"label",185),g.nrm(2,"span",186),g.EFF(3," Player Roll Amount "),g.k0s(),g.nrm(4,"input",187),g.k0s())}function b8(o,e){1&o&&(g.j41(0,"div",163)(1,"label",188),g.nrm(2,"span",186),g.EFF(3," Opponent Roll Amount "),g.k0s(),g.nrm(4,"input",189),g.k0s())}function v8(o,e){if(1&o&&(g.qex(0),g.j41(1,"div",135)(2,"div",136),g.nrm(3,"input",137),g.j41(4,"label",138),g.nrm(5,"span",139),g.EFF(6," Komodo Shuffle "),g.k0s()(),g.j41(7,"div",140),g.nrm(8,"input",141),g.j41(9,"label",142),g.nrm(10,"span",143),g.EFF(11," Change equipment uses "),g.k0s()(),g.j41(12,"div",144),g.nrm(13,"input",145),g.j41(14,"label",146),g.nrm(15,"span",147),g.EFF(16," Mana "),g.k0s()(),g.j41(17,"div",148),g.nrm(18,"input",149),g.j41(19,"label",150),g.EFF(20," Enable logs "),g.k0s()(),g.j41(21,"div",151),g.nrm(22,"input",152),g.j41(23,"label",153),g.nrm(24,"span",154),g.EFF(25," Triggers Consumed "),g.k0s()(),g.j41(26,"div",155),g.nrm(27,"input",156),g.j41(28,"label",157),g.nrm(29,"span",158),g.EFF(30," Swallowed Levels "),g.k0s()()(),g.j41(31,"div",159)(32,"div",160)(33,"label",161),g.EFF(34,"Turn Number"),g.k0s(),g.nrm(35,"input",162),g.k0s(),g.j41(36,"div",163)(37,"label",164),g.nrm(38,"span",165),g.EFF(39," Player Gold Spent "),g.k0s(),g.nrm(40,"input",166),g.k0s(),g.j41(41,"div",163)(42,"label",167),g.nrm(43,"span",165),g.EFF(44," Opponent Gold Spent "),g.k0s(),g.nrm(45,"input",168),g.k0s(),g.DNE(46,y8,5,0,"div",169)(47,b8,5,0,"div",169),g.j41(48,"div",163)(49,"label",170),g.nrm(50,"span",171),g.EFF(51," Player Level 3 Sold "),g.k0s(),g.nrm(52,"input",172),g.k0s(),g.j41(53,"div",163)(54,"label",173),g.nrm(55,"span",171),g.EFF(56," Opponent Level 3 Sold "),g.k0s(),g.nrm(57,"input",174),g.k0s(),g.j41(58,"div",163)(59,"label",175),g.nrm(60,"span",176),g.EFF(61," Player Summoned Amount "),g.k0s(),g.nrm(62,"input",177),g.k0s(),g.j41(63,"div",163)(64,"label",178),g.nrm(65,"span",176),g.EFF(66," Opponent Summoned Amount "),g.k0s(),g.nrm(67,"input",179),g.k0s(),g.j41(68,"div",163)(69,"label",180),g.nrm(70,"span",181),g.EFF(71," Player Transformation Amount "),g.k0s(),g.nrm(72,"input",182),g.k0s(),g.j41(73,"div",163)(74,"label",183),g.nrm(75,"span",181),g.EFF(76," Opponent Transformation Amount "),g.k0s(),g.nrm(77,"input",184),g.k0s()(),g.bVm()),2&o){const t=g.XpG(2);g.R7$(46),g.Y8G("ngIf",t.rollInputVisible),g.R7$(),g.Y8G("ngIf",t.rollInputVisible)}}function A8(o,e){if(1&o){const t=g.RV6();g.j41(0,"button",204),g.bIt("click",function(){const n=w.eBV(t).$implicit,s=g.XpG(3);return w.Njj(s.formGroup.get("logFilter").setValue(n.value))}),g.EFF(1),g.k0s()}if(2&o){const t=e.$implicit,i=g.XpG(3);g.AVh("active",i.formGroup.get("logFilter").value===t.value),g.R7$(),g.SpI(" ",t.label," ")}}function S8(o,e){if(1&o&&g.nrm(0,"img",209),2&o){const t=g.XpG().$implicit;g.Y8G("ngSrc",t.src)("alt",t.alt)}}function P8(o,e){if(1&o&&(g.j41(0,"span"),g.EFF(1),g.k0s()),2&o){const t=g.XpG().$implicit;g.R7$(),g.JRh(t.text)}}function k8(o,e){1&o&&g.nrm(0,"br")}function _8(o,e){if(1&o&&(g.qex(0),g.DNE(1,S8,1,2,"img",208)(2,P8,2,1,"span",4)(3,k8,1,0,"br",4),g.bVm()),2&o){const t=e.$implicit;g.R7$(),g.Y8G("ngIf","img"===t.type),g.R7$(),g.Y8G("ngIf","text"===t.type),g.R7$(),g.Y8G("ngIf","br"===t.type)}}function w8(o,e){if(1&o){const t=g.RV6();g.j41(0,"tr",205),g.bIt("click",function(){const n=w.eBV(t).$implicit,s=g.XpG(3);return w.Njj(s.setViewBattle(n))}),g.j41(1,"td"),g.EFF(2),g.k0s(),g.j41(3,"td"),g.EFF(4),g.k0s(),g.j41(5,"td",206),g.DNE(6,_8,4,3,"ng-container",207),g.k0s()()}if(2&o){const t=e.$implicit,i=e.index,n=g.XpG(3);g.Y8G("ngClass","player"===t.winner?"battle-win":"opponent"===t.winner?"battle-loss":""),g.R7$(2),g.JRh(i),g.R7$(2),g.JRh(t.winner),g.R7$(2),g.Y8G("ngForOf",n.battleRandomEventsByBattle.get(t)||g.lJ4(5,Xj))("ngForTrackBy",n.trackByIndex)}}function T8(o,e){if(1&o&&g.nrm(0,"img",212),2&o){const t=g.XpG().$implicit;g.Y8G("ngSrc",t.src)("alt",t.alt)}}function C8(o,e){if(1&o&&(g.j41(0,"span"),g.EFF(1),g.k0s()),2&o){const t=g.XpG().$implicit;g.R7$(),g.JRh(t.text)}}function E8(o,e){1&o&&g.nrm(0,"br")}function x8(o,e){if(1&o&&(g.qex(0),g.DNE(1,T8,1,2,"img",211)(2,C8,2,1,"span",4)(3,E8,1,0,"br",4),g.bVm()),2&o){const t=e.$implicit;g.R7$(),g.Y8G("ngIf","img"===t.type),g.R7$(),g.Y8G("ngIf","text"===t.type),g.R7$(),g.Y8G("ngIf","br"===t.type)}}function D8(o,e){if(1&o&&(g.j41(0,"div",193)(1,"span",210),g.DNE(2,x8,4,3,"ng-container",207),g.k0s()()),2&o){const t=e.$implicit,i=g.XpG(3);g.R7$(),g.Y8G("ngClass",t.classes),g.R7$(),g.Y8G("ngForOf",t.parts)("ngForTrackBy",i.trackByIndex)}}function M8(o,e){if(1&o&&(g.j41(0,"div",190)(1,"div",191)(2,"h3"),g.EFF(3,"Battles"),g.k0s(),g.j41(4,"div",192)(5,"div",193)(6,"label",194),g.EFF(7,"Filter Battles By Winner"),g.k0s()(),g.j41(8,"div",193)(9,"div",195),g.DNE(10,A8,2,3,"button",196),g.k0s()()(),g.j41(11,"div",197)(12,"table",198)(13,"thead")(14,"tr")(15,"th",199),g.EFF(16,"Battle No."),g.k0s(),g.j41(17,"th"),g.EFF(18,"Winner"),g.k0s(),g.j41(19,"th"),g.EFF(20,"Random Events"),g.k0s()()(),g.j41(21,"tbody"),g.DNE(22,w8,7,6,"tr",200),g.k0s()()()(),g.j41(23,"div",201)(24,"h3"),g.EFF(25,"Logs"),g.k0s(),g.j41(26,"div",202),g.DNE(27,D8,3,3,"div",203),g.k0s()()()),2&o){const t=g.XpG(2);g.R7$(10),g.Y8G("ngForOf",t.logFilterTabs)("ngForTrackBy",t.trackByLogTab),g.R7$(12),g.Y8G("ngForOf",t.filteredBattlesCache)("ngForTrackBy",t.trackByIndex),g.R7$(5),g.Y8G("ngForOf",t.viewBattleLogRows)("ngForTrackBy",t.trackByIndex)}}function I8(o,e){1&o&&g.nrm(0,"app-patch-notes")}function R8(o,e){1&o&&(g.j41(0,"div",213),g.EFF(1,"Loading patch notes\u2026"),g.k0s())}function L8(o,e){1&o&&g.nrm(0,"app-info")}function N8(o,e){1&o&&(g.j41(0,"div",213),g.EFF(1,"Loading info\u2026"),g.k0s())}function F8(o,e){if(1&o&&g.nrm(0,"app-import-calculator",214),2&o){const t=g.XpG(2);g.Y8G("importFunc",t.import.bind(t))}}function O8(o,e){1&o&&(g.j41(0,"div",213),g.EFF(1,"Loading import tools\u2026"),g.k0s())}function B8(o,e){if(1&o&&g.nrm(0,"app-export-calculator",86),2&o){const t=g.XpG(2);g.Y8G("formGroup",t.formGroup)}}function $8(o,e){1&o&&(g.j41(0,"div",213),g.EFF(1,"Loading export tools\u2026"),g.k0s())}function G8(o,e){if(1&o&&g.nrm(0,"app-report-a-bug",215),2&o){const t=g.XpG(2);g.Y8G("calcFormGroup",t.formGroup)}}function H8(o,e){1&o&&(g.j41(0,"div",213),g.EFF(1,"Loading report form\u2026"),g.k0s())}function q8(o,e){if(1&o){const t=g.RV6();g.qex(0),g.j41(1,"div",7,0)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"h2",12),g.EFF(8,"Player"),g.k0s(),g.j41(9,"div",13)(10,"div",14)(11,"button",15),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.openSelectionDialog("toy","player"))}),g.DNE(12,Jj,1,1,"img",16),g.j41(13,"span",17),g.EFF(14),g.k0s(),g.nrm(15,"i",18),g.k0s(),g.DNE(16,Zj,7,1,"div",19),g.k0s(),g.j41(17,"div",14)(18,"button",15),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.openSelectionDialog("hard-toy","player"))}),g.DNE(19,e8,1,1,"img",20),g.j41(20,"span",17),g.EFF(21),g.k0s(),g.nrm(22,"i",18),g.k0s(),g.DNE(23,t8,2,0,"button",21),g.k0s()()(),g.j41(24,"button",22),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.resetPlayer("player"))}),g.EFF(25," Reset "),g.k0s()(),g.j41(26,"div",23)(27,"div",24),g.bIt("cdkDropListDropped",function(n){w.eBV(t);const s=g.XpG();return w.Njj(s.drop(n,"player"))}),g.DNE(28,i8,6,14,"div",25),g.k0s()()(),g.j41(29,"div",26)(30,"div",10)(31,"div",11)(32,"h2",12),g.EFF(33,"Opponent"),g.k0s(),g.j41(34,"div",13)(35,"div",14)(36,"button",15),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.openSelectionDialog("toy","opponent"))}),g.DNE(37,n8,1,1,"img",27),g.j41(38,"span",17),g.EFF(39),g.k0s(),g.nrm(40,"i",18),g.k0s(),g.DNE(41,r8,7,1,"div",19),g.k0s(),g.j41(42,"div",14)(43,"button",15),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.openSelectionDialog("hard-toy","opponent"))}),g.DNE(44,a8,1,1,"img",28),g.j41(45,"span",17),g.EFF(46),g.k0s(),g.nrm(47,"i",18),g.k0s(),g.DNE(48,o8,2,0,"button",21),g.k0s()()(),g.j41(49,"button",22),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.resetPlayer("opponent"))}),g.EFF(50," Reset "),g.k0s()(),g.j41(51,"div",29)(52,"div",24),g.bIt("cdkDropListDropped",function(n){w.eBV(t);const s=g.XpG();return w.Njj(s.drop(n,"opponent"))}),g.DNE(53,s8,6,13,"div",30),g.k0s()()()(),g.j41(54,"div",31)(55,"div",32)(56,"div",33)(57,"div",34)(58,"div",35)(59,"button",36),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.simulate(n.formGroup.get("simulations").value))}),g.EFF(60," Simulate "),g.k0s(),g.nrm(61,"input",37),g.k0s(),g.j41(62,"button",38),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.randomize())}),g.EFF(63," Randomize "),g.k0s(),g.DNE(64,l8,2,0,"button",39),g.k0s()(),g.j41(65,"div",40),g.DNE(66,c8,22,10,"ng-container",41)(67,u8,4,0,"ng-template",null,1,g.C5r),g.k0s(),g.j41(69,"div",42)(70,"div",43)(71,"span",44),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.showInfo=!0)}),g.EFF(72,"Info/Guide"),g.k0s(),g.j41(73,"span",45),g.EFF(74),g.k0s(),g.j41(75,"span",45),g.EFF(76),g.k0s(),g.j41(77,"span",46),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.showPatchNotes=!0)}),g.EFF(78,"Patch Notes"),g.k0s()(),g.j41(79,"div",47)(80,"button",48),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.showReportABug=!0)}),g.EFF(81," Report A Bug "),g.k0s(),g.j41(82,"button",49),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.showExport=!0)}),g.EFF(83," Export Calculator "),g.k0s(),g.j41(84,"button",50),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.showImport=!0)}),g.EFF(85," Import / Replay "),g.k0s(),g.j41(86,"button",36),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.generateShareLink())}),g.EFF(87," Generate Link "),g.k0s()()()(),g.DNE(88,d8,2,2,"div",51),g.j41(89,"div",52)(90,"div",53)(91,"div",54)(92,"div",55)(93,"input",56),g.mxI("ngModelChange",function(n){w.eBV(t);const s=g.XpG();return g.DH7(s.teamName,n)||(s.teamName=n),w.Njj(n)}),g.k0s(),g.j41(94,"div",57)(95,"button",58),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.saveTeam("player"))}),g.EFF(96," Save Player "),g.k0s(),g.j41(97,"button",58),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.saveTeam("opponent"))}),g.EFF(98," Save Opponent "),g.k0s()()(),g.j41(99,"div",55)(100,"button",59),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.openSelectionDialog("team","none"))}),g.DNE(101,p8,2,1,"div",60)(102,g8,2,0,"ng-template",null,2,g.C5r),g.j41(104,"span",61),g.EFF(105),g.k0s(),g.nrm(106,"i",62),g.k0s(),g.j41(107,"div",63)(108,"button",58),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.loadTeam("player"))}),g.EFF(109," Load Player "),g.k0s(),g.j41(110,"button",58),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.loadTeam("opponent"))}),g.EFF(111," Load Opponent "),g.k0s()()()(),g.j41(112,"div",64)(113,"div",65)(114,"label"),g.EFF(115,"Player Pack"),g.k0s(),g.j41(116,"button",66),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.openSelectionDialog("pack","player"))}),g.DNE(117,m8,1,1,"img",67),g.j41(118,"span",61),g.EFF(119),g.k0s(),g.nrm(120,"i",62),g.k0s()(),g.j41(121,"div",65)(122,"label"),g.EFF(123,"Opponent Pack"),g.k0s(),g.j41(124,"button",66),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.openSelectionDialog("pack","opponent"))}),g.DNE(125,f8,1,1,"img",67),g.j41(126,"span",61),g.EFF(127),g.k0s(),g.nrm(128,"i",62),g.k0s()(),g.j41(129,"div",68),g.nrm(130,"input",69),g.j41(131,"label",70),g.EFF(132,"All Pets"),g.k0s()()(),g.j41(133,"div",71),g.DNE(134,v8,78,2,"ng-container",4),g.j41(135,"div",72)(136,"span",73),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.toggleAdvanced())}),g.EFF(137),g.k0s()()()()()(),g.DNE(138,M8,28,6,"div",74),g.k0s(),g.j41(139,"div",75)(140,"div",76)(141,"div",77)(142,"div",78)(143,"h1",79),g.EFF(144,"Patch Notes"),g.k0s(),g.nrm(145,"button",80),g.k0s(),g.j41(146,"div",81),g.PeT(147,I8,1,0)(148,R8,2,0),g.nv$(149,147,Vj,null,148),g.k0s(),g.j41(151,"div",82)(152,"span",73),g.bIt("click",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.clearCache())}),g.EFF(153,"Clear Cache"),g.k0s()()()()(),g.j41(154,"div",83,3)(156,"div",84)(157,"div",77)(158,"div",78)(159,"h1",85),g.EFF(160," Custom Pack Editor "),g.k0s(),g.nrm(161,"button",80),g.k0s(),g.j41(162,"div",81),g.nrm(163,"app-custom-pack-editor",86),g.k0s()()()(),g.j41(164,"div",87)(165,"div",84)(166,"div",77)(167,"div",78)(168,"h1",88),g.EFF(169,"Info"),g.k0s(),g.nrm(170,"button",80),g.k0s(),g.j41(171,"div",81),g.PeT(172,L8,1,0)(173,N8,2,0),g.nv$(174,172,Uj,null,173),g.k0s()()()(),g.j41(176,"div",89)(177,"div",84)(178,"div",77)(179,"div",78)(180,"h1",90),g.EFF(181," Import / Replay "),g.k0s(),g.nrm(182,"button",80),g.k0s(),g.j41(183,"div",81),g.PeT(184,F8,1,1)(185,O8,2,0),g.nv$(186,184,Wj,null,185),g.k0s()()()(),g.j41(188,"div",91)(189,"div",84)(190,"div",77)(191,"div",78)(192,"h1",92),g.EFF(193," Export Calculator "),g.k0s(),g.nrm(194,"button",80),g.k0s(),g.j41(195,"div",81),g.PeT(196,B8,1,1)(197,$8,2,0),g.nv$(198,196,Kj,null,197),g.k0s()()()(),g.j41(200,"div",93)(201,"div",84)(202,"div",77)(203,"div",78)(204,"h1",94),g.EFF(205,"Report A Bug"),g.k0s(),g.nrm(206,"button",80),g.k0s(),g.j41(207,"div",81),g.PeT(208,G8,1,1)(209,H8,2,0),g.nv$(210,208,zj,null,209),g.k0s()()()(),g.bVm()}if(2&o){const t=g.sdS(68),i=g.sdS(103),n=g.XpG();g.R7$(),g.Y8G("formGroup",n.formGroup),g.R7$(2),g.xc7("background-image",n.battleBackgroundUrl?"url("+n.battleBackgroundUrl+")":""),g.R7$(9),g.Y8G("ngIf",n.playerToyImageUrl),g.R7$(2),g.JRh(n.formGroup.get("playerToy").value||"Select Toy"),g.R7$(2),g.Y8G("ngIf",n.playerToyImageUrl),g.R7$(3),g.Y8G("ngIf",n.playerHardToyImageUrl),g.R7$(2),g.JRh(n.formGroup.get("playerHardToy").value||"Hard Toy"),g.R7$(2),g.Y8G("ngIf",n.playerHardToyImageUrl),g.R7$(5),g.Y8G("ngForOf",n.playerPetsControls)("ngForTrackBy",n.trackByIndex),g.R7$(9),g.Y8G("ngIf",n.opponentToyImageUrl),g.R7$(2),g.JRh(n.formGroup.get("opponentToy").value||"Select Toy"),g.R7$(2),g.Y8G("ngIf",n.opponentToyImageUrl),g.R7$(3),g.Y8G("ngIf",n.opponentHardToyImageUrl),g.R7$(2),g.JRh(n.formGroup.get("opponentHardToy").value||"Hard Toy"),g.R7$(2),g.Y8G("ngIf",n.opponentHardToyImageUrl),g.R7$(5),g.Y8G("ngForOf",n.opponentPetsControls)("ngForTrackBy",n.trackByIndex),g.R7$(11),g.Y8G("ngIf",n.undoState),g.R7$(2),g.Y8G("ngIf",n.simulated)("ngIfElse",t),g.R7$(8),g.SpI("Last Updated: ",n.lastUpdated),g.R7$(2),g.SpI("Version: ",n.version),g.R7$(12),g.Y8G("ngIf",n.statusMessage),g.R7$(5),g.R50("ngModel",n.teamName),g.Y8G("ngModelOptions",g.lJ4(43,Yj)),g.R7$(8),g.Y8G("ngIf",n.selectedTeamPreviewIcons.length)("ngIfElse",i),g.R7$(4),g.JRh(n.selectedTeamName),g.R7$(12),g.Y8G("ngIf",n.getPackIconPath(n.formGroup.get("playerPack").value)&&!n.playerPackImageBroken),g.R7$(2),g.JRh(n.formGroup.get("playerPack").value||"Select Pack"),g.R7$(6),g.Y8G("ngIf",n.getPackIconPath(n.formGroup.get("opponentPack").value)&&!n.opponentPackImageBroken),g.R7$(2),g.JRh(n.formGroup.get("opponentPack").value||"Select Pack"),g.R7$(7),g.Y8G("ngIf",n.formGroup.get("showAdvanced").value),g.R7$(3),g.SpI("",n.formGroup.get("showAdvanced").value?"Hide":"Show"," Advanced Settings"),g.R7$(),g.Y8G("ngIf",n.simulated),g.R7$(11),g.LVR(n.showPatchNotes),g.R7$(14),g.Y8G("formGroup",n.formGroup),g.R7$(11),g.LVR(n.showInfo),g.R7$(12),g.LVR(n.showImport),g.R7$(12),g.LVR(n.showExport),g.R7$(12),g.LVR(n.showReportABug)}}function j8(o,e){if(1&o){const t=g.RV6();g.j41(0,"app-item-selection-dialog",216),g.bIt("select",function(n){w.eBV(t);const s=g.XpG();return w.Njj(s.onItemSelected(n))})("close",function(){w.eBV(t);const n=g.XpG();return w.Njj(n.showSelectionDialog=!1)}),g.k0s()}if(2&o){const t=g.XpG();g.Y8G("type",t.selectionType)("showAllPets",t.formGroup.get("allPets").value)("customPacks",t.formGroup.get("customPacks"))("savedTeams",t.savedTeams)}}(function Li(o,e,t){return Di.apply(this,arguments)})((()=>{class o{logService;injector;abilityService;gameService;petService;toyService;equipmentService;localStorageService;urlStateService;calculatorStateService;simulationService;teamPresetsService;petSelectors;customPackEditor;version="0.9.3";sapVersion="0.33.3-156 BETA";lastUpdated="1/20/2026";title="sap-calculator";player;opponent;maxTurns=71;turns=0;attackCount=0;battleStarted=!1;simulationBattleAmt=1e3;playerWinner=0;opponentWinner=0;draw=0;battles=[];battleRandomEvents=[];battleRandomEventsByBattle=new Map;filteredBattlesCache=[];currBattle;viewBattle;simulated=!1;formGroup;toys;regularToys=new Map;hardWackyToys=new Map;customPackEditorModal;previousPackPlayer=null;previousPackOpponent=null;dayNight=!0;battleBackgroundUrl="";playerToyImageUrl="";opponentToyImageUrl="";playerHardToyImageUrl="";opponentHardToyImageUrl="";savedTeams=[];selectedTeamId="";teamName="";battleBackgrounds=[...BG];logFilterTabs=[...$G];api=!1;apiResponse=null;showSelectionDialog=!1;selectionType="pet";selectionSide="none";showPatchNotes=!1;showInfo=!1;showImport=!1;showExport=!1;showReportABug=!1;playerPetsControls=[];opponentPetsControls=[];viewBattleLogs=[];viewBattleLogRows=[];playerPackImageBroken=!1;opponentPackImageBroken=!1;undoState=null;isLoadedFromUrl=!1;statusTimer=null;statusMessage="";statusTone="success";trackByIndex=ij;trackByTeamId=nj;trackByLogTab=rj;constructor(t,i,n,s,r,c,d,h,v,E,q,K){this.logService=t,this.injector=i,this.abilityService=n,this.gameService=s,this.petService=r,this.toyService=c,this.equipmentService=d,this.localStorageService=h,this.urlStateService=v,this.calculatorStateService=E,this.simulationService=q,this.teamPresetsService=K,Nt.setInjector(this.injector),this.player=new Sn(t,n,s),this.opponent=new Sn(t,n,s),this.opponent.isOpponent=!0,this.gameService.init(this.player,this.opponent),this.petService.init(),this.initFormGroup();const le=this.urlStateService.parseApiStateFromUrl();le.state?(this.api=!0,this.applyCalculatorState(le.state),this.simulate(),this.buildApiResponse()):le.error&&(console.error(le.error),this.apiResponse=JSON.stringify({error:"Invalid or corrupted data provided in the URL."}))}get rollInputVisible(){return function aj(o){return o.formGroup.get("showAdvanced").value||function ej(o){for(const e of o)if(e&&e.petArray)for(const t of e.petArray)if(t&&($s.includes(t.name)||"Abomination"===t.name&&($s.includes(t.abominationSwallowedPet1)||$s.includes(t.abominationSwallowedPet2)||$s.includes(t.abominationSwallowedPet3)||"Beluga Whale"===t.abominationSwallowedPet1&&$s.includes(t.abominationSwallowedPet1BelugaSwallowedPet)||"Beluga Whale"===t.abominationSwallowedPet2&&$s.includes(t.abominationSwallowedPet2BelugaSwallowedPet)||"Beluga Whale"===t.abominationSwallowedPet3&&$s.includes(t.abominationSwallowedPet3BelugaSwallowedPet))||"Beluga Whale"===t.name&&$s.includes(t.belugaSwallowedPet)||"Sarcastic Fringehead"===t.name&&$s.includes(t.sarcasticFringeheadSwallowedPet)))return!0;return!1}([o.player,o.opponent])}(this)}buildApiResponse=()=>function ZG(o){o.apiResponse=function zG(o,e,t){return JSON.stringify({playerWins:o,opponentWins:e,draws:t},null)}(o.playerWinner,o.opponentWinner,o.draw)}(this);printFormGroup=()=>function oj(o){console.log(o.formGroup)}(this);ngOnInit(){this.isLoadedFromUrl=this.loadStateFromUrl(!0),this.isLoadedFromUrl||this.loadLocalStorage(),this.initApp(),this.loadTeamPresets(),this.setRandomBackground(),this.initGameApi(),this.setDayNight(),this.toys=this.toyService.toys,this.regularToys=this.toyService.getToysByType(0),this.hardWackyToys=this.toyService.getToysByType(1)}loadStateFromUrl=(t=!1)=>function uj(o,e=!1){const t=o.urlStateService.parseCalculatorStateFromUrl();if(!t.state)return t.error&&(console.error(t.error),o.setStatus?.("Could not load the shared calculator link. The data may be corrupted.","error")),!1;const i=BN(o,JSON.stringify(t.state),e);return i&&console.log("Calculator state loaded from URL."),i}(this,t);ngAfterViewInit(){this.isLoadedFromUrl&&this.petSelectors.forEach(t=>{t.fixLoadEquipment()}),this.api||this.initModals()}loadLocalStorage=()=>function dj(o){const e=o.localStorageService.getStorage();if(e)try{jw(o,JSON.parse(e))}catch(t){console.log("error loading local storage",t),o.localStorageService.clearStorage()}}(this);applyCalculatorState=t=>jw(this,t);setDayNight=()=>CN(this);setRandomBackground=()=>function sj(o){if(!o.battleBackgrounds.length)return void(o.battleBackgroundUrl="");const e=Math.floor(Math.random()*o.battleBackgrounds.length);o.battleBackgroundUrl=`assets/art/Public/Public/Background/${o.battleBackgrounds[e]}`}(this);fixCustomPackSelect=()=>TN(this);initApp=()=>jI(this);initGameApi=()=>function pj(o){o.gameService.gameApi.day=o.dayNight,o.gameService.gameApi.oldStork=o.formGroup.get("oldStork").value,o.gameService.gameApi.komodoShuffle=o.formGroup.get("komodoShuffle").value,o.gameService.gameApi.mana=o.formGroup.get("mana").value,o.gameService.gameApi.playerRollAmount=o.formGroup.get("playerRollAmount").value,o.gameService.gameApi.opponentRollAmount=o.formGroup.get("opponentRollAmount").value,o.gameService.gameApi.playerLevel3Sold=o.formGroup.get("playerLevel3Sold").value,o.gameService.gameApi.opponentLevel3Sold=o.formGroup.get("opponentLevel3Sold").value,o.gameService.gameApi.playerSummonedAmount=o.formGroup.get("playerSummonedAmount").value,o.gameService.gameApi.opponentSummonedAmount=o.formGroup.get("opponentSummonedAmount").value,o.gameService.gameApi.playerTransformationAmount=o.formGroup.get("playerTransformationAmount").value,o.gameService.gameApi.opponentTransformationAmount=o.formGroup.get("opponentTransformationAmount").value}(this);initPlayerPets=()=>xN(this);randomizePlayerPets=t=>Uw(this,t);makeFormGroup=lj;initFormGroup(){(function hj(o){o.formGroup=function tj(o){o.updatePreviousShopTier(11),o.updateGoldSpent(10,10);const i=new Y.gE({playerPack:new Y.MJ(o.player.pack??null),opponentPack:new Y.MJ(o.opponent.pack??null),playerToy:new Y.MJ(o.player.toy?.name),playerToyLevel:new Y.MJ(o.player.toy?.level??1),opponentToy:new Y.MJ(o.opponent.toy?.name),opponentToyLevel:new Y.MJ(o.opponent.toy?.level??1),playerHardToy:new Y.MJ(null),playerHardToyLevel:new Y.MJ(1),opponentHardToy:new Y.MJ(null),opponentHardToyLevel:new Y.MJ(1),turn:new Y.MJ(11),playerGoldSpent:new Y.MJ(10),opponentGoldSpent:new Y.MJ(10),allPets:new Y.MJ(!1),logFilter:new Y.MJ(null),playerPets:new Y.Yp([]),opponentPets:new Y.Yp([]),customPacks:new Y.Yp([]),oldStork:new Y.MJ(!1),tokenPets:new Y.MJ(!0),komodoShuffle:new Y.MJ(!1),mana:new Y.MJ(!1),triggersConsumed:new Y.MJ(!1),showSwallowedLevels:new Y.MJ(!1),playerRollAmount:new Y.MJ(4),opponentRollAmount:new Y.MJ(4),playerLevel3Sold:new Y.MJ(0),opponentLevel3Sold:new Y.MJ(0),playerSummonedAmount:new Y.MJ(0),opponentSummonedAmount:new Y.MJ(0),playerTransformationAmount:new Y.MJ(0),opponentTransformationAmount:new Y.MJ(0),showAdvanced:new Y.MJ(!1),ailmentEquipment:new Y.MJ(!0),changeEquipmentUses:new Y.MJ(!1),logsEnabled:new Y.MJ(!0),simulations:new Y.MJ(100)});return wN(i,o.player,o.opponent),i.get("playerPack").valueChanges.subscribe(n=>{if(null!=n){if("Add Custom Pack"==n)return void o.openCustomPackEditor();o.resetPackImageError("player",n),o.updatePlayerPack(o.player,n)}}),i.get("opponentPack").valueChanges.subscribe(n=>{if(null!=n){if("Add Custom Pack"==n)return void o.openCustomPackEditor();o.resetPackImageError("opponent",n),o.updatePlayerPack(o.opponent,n)}}),i.get("playerToy").valueChanges.subscribe(n=>{null!=n&&o.updatePlayerToy(o.player,n)}),i.get("opponentToy").valueChanges.subscribe(n=>{null!=n&&o.updatePlayerToy(o.opponent,n)}),i.get("playerToyLevel").valueChanges.subscribe(n=>{null!=n&&o.updateToyLevel(o.player,n)}),i.get("opponentToyLevel").valueChanges.subscribe(n=>{null!=n&&o.updateToyLevel(o.opponent,n)}),i.get("playerHardToy").valueChanges.subscribe(n=>{o.gameService.gameApi.playerHardToy=n,null!=n&&o.setHardToyImage(o.player,n)}),i.get("playerHardToyLevel").valueChanges.subscribe(n=>{null!=n&&(o.gameService.gameApi.playerHardToyLevel=n)}),i.get("opponentHardToy").valueChanges.subscribe(n=>{o.gameService.gameApi.opponentHardToy=n,null!=n&&o.setHardToyImage(o.opponent,n)}),i.get("opponentHardToyLevel").valueChanges.subscribe(n=>{null!=n&&(o.gameService.gameApi.opponentHardToyLevel=n)}),i.get("turn").valueChanges.subscribe(n=>{null!=n&&(o.updatePreviousShopTier(n),o.setDayNight())}),i.get("playerGoldSpent").valueChanges.subscribe(n=>{null!=n&&o.updateGoldSpent(n,null)}),i.get("opponentGoldSpent").valueChanges.subscribe(n=>{null!=n&&o.updateGoldSpent(null,n)}),i.get("oldStork").valueChanges.subscribe(n=>{null!=n&&(o.gameService.gameApi.oldStork=n)}),i.get("komodoShuffle").valueChanges.subscribe(n=>{null!=n&&(o.gameService.gameApi.komodoShuffle=n)}),i.get("mana").valueChanges.subscribe(n=>{null!=n&&(o.gameService.gameApi.mana=n)}),i.get("playerRollAmount").valueChanges.subscribe(n=>{null!=n&&(o.gameService.gameApi.playerRollAmount=n)}),i.get("opponentRollAmount").valueChanges.subscribe(n=>{null!=n&&(o.gameService.gameApi.opponentRollAmount=n)}),i.get("playerLevel3Sold").valueChanges.subscribe(n=>{null!=n&&(o.gameService.gameApi.playerLevel3Sold=n)}),i.get("opponentLevel3Sold").valueChanges.subscribe(n=>{null!=n&&(o.gameService.gameApi.opponentLevel3Sold=n)}),i.get("playerSummonedAmount").valueChanges.subscribe(n=>{null!=n&&(o.gameService.gameApi.playerSummonedAmount=n)}),i.get("opponentSummonedAmount").valueChanges.subscribe(n=>{null!=n&&(o.gameService.gameApi.opponentSummonedAmount=n)}),i.get("playerTransformationAmount").valueChanges.subscribe(n=>{null!=n&&(o.gameService.gameApi.playerTransformationAmount=n)}),i.get("opponentTransformationAmount").valueChanges.subscribe(n=>{null!=n&&(o.gameService.gameApi.opponentTransformationAmount=n)}),i}({player:o.player,opponent:o.opponent,gameService:o.gameService,toyService:o.toyService,updatePreviousShopTier:e=>MN(o,e),updateGoldSpent:(e,t)=>IN(o,e,t),setDayNight:()=>CN(o),openCustomPackEditor:()=>ON(o),resetPackImageError:(e,t)=>FN(o,e),updatePlayerPack:(e,t,i)=>Ww(o,e,t,i),updatePlayerToy:(e,t)=>Kw(o,e,t),updateToyLevel:(e,t)=>RN(0,e,t),setHardToyImage:(e,t)=>zw(o,e,t)}),Vw(o)})(this),this.formGroup.get("logFilter")?.valueChanges.subscribe(()=>{this.refreshFilteredBattles()}),this.formGroup.get("simulations")?.valueChanges.subscribe(t=>{t>1e4&&this.formGroup.get("simulations")?.setValue(1e4,{emitEvent:!1})})}toggleAdvanced=()=>function cj(o){const e=o.formGroup.get("showAdvanced").value;o.formGroup.get("showAdvanced").setValue(!e)}(this);initPetForms=()=>EN(this);refreshPetFormArrays=()=>Vw(this);updatePlayerPack=(t,i,n=!0)=>Ww(this,t,i,n);updatePlayerToy=(t,i)=>Kw(this,t,i);setToyImage=(t,i)=>DN(this,t,i);setHardToyImage=(t,i)=>zw(this,t,i);updatePreviousShopTier=t=>MN(this,t);updateGoldSpent=(t,i)=>IN(this,t,i);updateToyLevel=(t,i)=>RN(0,t,i);getRandomEquipment=()=>LN(this);simulate=(t=1e3)=>function eH(o,e=1e3){try{GL(o,e)}catch(t){console.error(t),o.setStatus?.("Something went wrong, please send a bug report.","error")}}(this,t);runSimulation=(t=1e3)=>GL(this,t);get logs(){return this.logService.getLogs()}setViewBattle=t=>function tH(o,e){o.viewBattle=e,o.viewBattleLogs=o.viewBattle?.logs??[],eI(o)}(this,t);refreshViewBattleLogRows=()=>eI(this);get drawWidth(){return function aH(o){return`${tI(o)+qL(o)}%`}(this)}get loseWidth(){return function oH(o){return`${tI(o)}%`}(this)}saveTeam(t){const i=function GG(o){const e=o.teamName?.trim()||prompt("Team name?");if(!e)return{savedTeams:o.savedTeams,selectedTeamId:o.selectedTeamId,teamName:o.teamName};const t=function qG(o,e){return o.get("player"===e?"playerPets":"opponentPets").controls.map(n=>function jG(o){if(!o?.name)return null;const e="string"==typeof o.equipment?o.equipment:o.equipment?.name??null;return{name:o.name??null,attack:o.attack??0,health:o.health??0,exp:o.exp??0,equipment:e?{name:e}:null,belugaSwallowedPet:o.belugaSwallowedPet??null,sarcasticFringeheadSwallowedPet:o.sarcasticFringeheadSwallowedPet??null,mana:o.mana??0,triggersConsumed:o.triggersConsumed??0,foodsEaten:o.foodsEaten??0,abominationSwallowedPet1:o.abominationSwallowedPet1??null,abominationSwallowedPet2:o.abominationSwallowedPet2??null,abominationSwallowedPet3:o.abominationSwallowedPet3??null,abominationSwallowedPet1BelugaSwallowedPet:o.abominationSwallowedPet1BelugaSwallowedPet??null,abominationSwallowedPet2BelugaSwallowedPet:o.abominationSwallowedPet2BelugaSwallowedPet??null,abominationSwallowedPet3BelugaSwallowedPet:o.abominationSwallowedPet3BelugaSwallowedPet??null,abominationSwallowedPet1Level:o.abominationSwallowedPet1Level??1,abominationSwallowedPet2Level:o.abominationSwallowedPet2Level??1,abominationSwallowedPet3Level:o.abominationSwallowedPet3Level??1,abominationSwallowedPet1TimesHurt:o.abominationSwallowedPet1TimesHurt??0,abominationSwallowedPet2TimesHurt:o.abominationSwallowedPet2TimesHurt??0,abominationSwallowedPet3TimesHurt:o.abominationSwallowedPet3TimesHurt??0,friendsDiedBeforeBattle:o.friendsDiedBeforeBattle??0,battlesFought:o.battlesFought??0,timesHurt:o.timesHurt??0,equipmentUses:o.equipmentUses??null}}(n.value))}(o.formGroup,o.side),i=o.formGroup.get("playerToy").value??null,n=Number(o.formGroup.get("playerToyLevel").value),s=o.formGroup.get("opponentToy").value??null,r=Number(o.formGroup.get("opponentToyLevel").value),c=o.formGroup.get("playerHardToy").value??null,d=Number(o.formGroup.get("playerHardToyLevel").value),h=o.formGroup.get("opponentHardToy").value??null,v=Number(o.formGroup.get("opponentHardToyLevel").value),E=Number(o.formGroup.get("turn").value),q=Number(o.formGroup.get("playerGoldSpent").value),K=Number(o.formGroup.get("opponentGoldSpent").value),le=!!o.formGroup.get("allPets").value,ce=!!o.formGroup.get("tokenPets").value,Ae=!!o.formGroup.get("komodoShuffle").value,Ce=!!o.formGroup.get("mana").value,Qe=!!o.formGroup.get("triggersConsumed").value,Ke=!!o.formGroup.get("showSwallowedLevels").value,Ye=!!o.formGroup.get("changeEquipmentUses").value,Re=Number(o.formGroup.get("playerRollAmount").value),lt=Number(o.formGroup.get("opponentRollAmount").value),Bt=Number(o.formGroup.get("playerLevel3Sold").value),_i=Number(o.formGroup.get("opponentLevel3Sold").value),jt=Number(o.formGroup.get("playerSummonedAmount").value),Dt=Number(o.formGroup.get("opponentSummonedAmount").value),Ji=Number(o.formGroup.get("playerTransformationAmount").value),Yn=Number(o.formGroup.get("opponentTransformationAmount").value),xt=o.savedTeams.find(_r=>_r.name.toLowerCase()===e.toLowerCase());if(xt)xt.pets=t,xt.name=e,xt.playerToyName=i,xt.playerToyLevel=n,xt.opponentToyName=s,xt.opponentToyLevel=r,xt.playerHardToy=c,xt.playerHardToyLevel=d,xt.opponentHardToy=h,xt.opponentHardToyLevel=v,xt.turn=E,xt.playerGoldSpent=q,xt.opponentGoldSpent=K,xt.allPets=le,xt.tokenPets=ce,xt.komodoShuffle=Ae,xt.mana=Ce,xt.triggersConsumed=Qe,xt.showSwallowedLevels=Ke,xt.changeEquipmentUses=Ye,xt.playerRollAmount=Re,xt.opponentRollAmount=lt,xt.playerLevel3Sold=Bt,xt.opponentLevel3Sold=_i,xt.playerSummonedAmount=jt,xt.opponentSummonedAmount=Dt,xt.playerTransformationAmount=Ji,xt.opponentTransformationAmount=Yn;else{const _r=`${Date.now()}-${Math.random().toString(16).slice(2,8)}`;o.savedTeams.push({id:_r,name:e,pets:t,createdAt:Date.now(),playerToyName:i,playerToyLevel:n,opponentToyName:s,opponentToyLevel:r,playerHardToy:c,playerHardToyLevel:d,opponentHardToy:h,opponentHardToyLevel:v,turn:E,playerGoldSpent:q,opponentGoldSpent:K,allPets:le,tokenPets:ce,komodoShuffle:Ae,mana:Ce,triggersConsumed:Qe,showSwallowedLevels:Ke,changeEquipmentUses:Ye,playerRollAmount:Re,opponentRollAmount:lt,playerLevel3Sold:Bt,opponentLevel3Sold:_i,playerSummonedAmount:jt,opponentSummonedAmount:Dt,playerTransformationAmount:Ji,opponentTransformationAmount:Yn}),o.selectedTeamId=_r}return o.teamPresetsService.persistTeams(o.savedTeams),{savedTeams:o.savedTeams,selectedTeamId:o.selectedTeamId,teamName:""}}({side:t,teamName:this.teamName,formGroup:this.formGroup,savedTeams:this.savedTeams,selectedTeamId:this.selectedTeamId,teamPresetsService:this.teamPresetsService});this.savedTeams=i.savedTeams,this.selectedTeamId=i.selectedTeamId,this.teamName=i.teamName}loadTeam(t){!function HG(o){const e=o.savedTeams.find(h=>h.id===o.selectedTeamId);if(!e)return;null!=e.turn&&o.formGroup.get("turn").setValue(e.turn),null!=e.playerGoldSpent&&o.formGroup.get("playerGoldSpent").setValue(e.playerGoldSpent),null!=e.opponentGoldSpent&&o.formGroup.get("opponentGoldSpent").setValue(e.opponentGoldSpent),null!=e.allPets&&o.formGroup.get("allPets").setValue(e.allPets),o.formGroup.get("tokenPets").setValue(!0),null!=e.komodoShuffle&&o.formGroup.get("komodoShuffle").setValue(e.komodoShuffle),null!=e.mana&&o.formGroup.get("mana").setValue(e.mana),null!=e.triggersConsumed&&o.formGroup.get("triggersConsumed").setValue(e.triggersConsumed),null!=e.showSwallowedLevels&&o.formGroup.get("showSwallowedLevels").setValue(e.showSwallowedLevels),null!=e.changeEquipmentUses&&o.formGroup.get("changeEquipmentUses").setValue(e.changeEquipmentUses),null!=e.playerRollAmount?o.formGroup.get("playerRollAmount").setValue(e.playerRollAmount):null!=e.rollAmount&&"player"===o.side&&o.formGroup.get("playerRollAmount").setValue(e.rollAmount),null!=e.opponentRollAmount?o.formGroup.get("opponentRollAmount").setValue(e.opponentRollAmount):null!=e.rollAmount&&"opponent"===o.side&&o.formGroup.get("opponentRollAmount").setValue(e.rollAmount),null!=e.playerLevel3Sold&&o.formGroup.get("playerLevel3Sold").setValue(e.playerLevel3Sold),null!=e.opponentLevel3Sold&&o.formGroup.get("opponentLevel3Sold").setValue(e.opponentLevel3Sold),null!=e.playerSummonedAmount&&o.formGroup.get("playerSummonedAmount").setValue(e.playerSummonedAmount),null!=e.opponentSummonedAmount&&o.formGroup.get("opponentSummonedAmount").setValue(e.opponentSummonedAmount),null!=e.playerTransformationAmount?o.formGroup.get("playerTransformationAmount").setValue(e.playerTransformationAmount):null!=e.transformationAmount&&"player"===o.side&&o.formGroup.get("playerTransformationAmount").setValue(e.transformationAmount),null!=e.opponentTransformationAmount?o.formGroup.get("opponentTransformationAmount").setValue(e.opponentTransformationAmount):null!=e.transformationAmount&&"opponent"===o.side&&o.formGroup.get("opponentTransformationAmount").setValue(e.transformationAmount),null!=e.transformationAmount&&o.formGroup.get("player"===o.side?"playerTransformationAmount":"opponentTransformationAmount").setValue(e.transformationAmount);const t=e.playerToyName??e.toyName??null,i=e.playerToyLevel??e.toyLevel??1,n=e.opponentToyName??e.toyName??null,s=e.opponentToyLevel??e.toyLevel??1;o.formGroup.get("playerToy").setValue(t),o.formGroup.get("playerToyLevel").setValue(i),o.formGroup.get("opponentToy").setValue(n),o.formGroup.get("opponentToyLevel").setValue(s),null!=e.playerHardToy&&o.formGroup.get("playerHardToy").setValue(e.playerHardToy),null!=e.playerHardToyLevel&&o.formGroup.get("playerHardToyLevel").setValue(e.playerHardToyLevel),null!=e.opponentHardToy&&o.formGroup.get("opponentHardToy").setValue(e.opponentHardToy),null!=e.opponentHardToyLevel&&o.formGroup.get("opponentHardToyLevel").setValue(e.opponentHardToyLevel);const r="player"===o.side?o.player:o.opponent,c=o.equipmentService.getInstanceOfAllEquipment(),d=o.equipmentService.getInstanceOfAllAilments();for(let h=0;h<5;h++){const v=e.pets?.[h];if(!v?.name){r.setPet(h,null,!0);continue}const E="string"==typeof v.equipment?v.equipment:v.equipment?.name,q=E?c.get(E)??d.get(E):null,K=q?Pr(q):null;if(K){const ce=v.equipmentUses??K.uses;null!=ce&&(K.uses=ce,K.originalUses=ce)}const le=o.petService.createPet({name:v.name,attack:v.attack??0,health:v.health??0,exp:v.exp??0,equipment:K??null,belugaSwallowedPet:v.belugaSwallowedPet??null,sarcasticFringeheadSwallowedPet:v.sarcasticFringeheadSwallowedPet??null,mana:v.mana??0,triggersConsumed:v.triggersConsumed??0,foodsEaten:v.foodsEaten??0,abominationSwallowedPet1:v.abominationSwallowedPet1??null,abominationSwallowedPet2:v.abominationSwallowedPet2??null,abominationSwallowedPet3:v.abominationSwallowedPet3??null,abominationSwallowedPet1BelugaSwallowedPet:v.abominationSwallowedPet1BelugaSwallowedPet??null,abominationSwallowedPet2BelugaSwallowedPet:v.abominationSwallowedPet2BelugaSwallowedPet??null,abominationSwallowedPet3BelugaSwallowedPet:v.abominationSwallowedPet3BelugaSwallowedPet??null,abominationSwallowedPet1Level:v.abominationSwallowedPet1Level??1,abominationSwallowedPet2Level:v.abominationSwallowedPet2Level??1,abominationSwallowedPet3Level:v.abominationSwallowedPet3Level??1,abominationSwallowedPet1TimesHurt:v.abominationSwallowedPet1TimesHurt??0,abominationSwallowedPet2TimesHurt:v.abominationSwallowedPet2TimesHurt??0,abominationSwallowedPet3TimesHurt:v.abominationSwallowedPet3TimesHurt??0,friendsDiedBeforeBattle:v.friendsDiedBeforeBattle??0,battlesFought:v.battlesFought??0,timesHurt:v.timesHurt??0},r);r.setPet(h,le,!0)}o.initPetForms(),function VG(o,e,t){const n=o.get("player"===e?"playerPets":"opponentPets");if(n)for(let s=0;s<n.length;s++){const r=n.at(s),c=t?.[s];r.get("equipmentUses")?.setValue(c?.equipmentUses??null,{emitEvent:!1})}}(o.formGroup,o.side,e.pets)}({side:t,selectedTeamId:this.selectedTeamId,savedTeams:this.savedTeams,formGroup:this.formGroup,player:this.player,opponent:this.opponent,petService:this.petService,equipmentService:this.equipmentService,initPetForms:()=>this.initPetForms()})}loadTeamPresets(){this.savedTeams=this.teamPresetsService.loadTeams()}randomize=t=>function Cj(o,e){try{o.undoState=JSON.parse(JSON.stringify(o.formGroup.getRawValue()))}catch(t){console.error("Failed to create undo snapshot",t)}e?(e.allPets=o.formGroup.get("allPets").value,e.tokenPets=o.formGroup.get("tokenPets").value,Uw(o,e)):(o.player.allPets=o.formGroup.get("allPets").value,o.player.tokenPets=o.formGroup.get("tokenPets").value,o.opponent.allPets=o.formGroup.get("allPets").value,o.opponent.tokenPets=o.formGroup.get("tokenPets").value,Uw(o,o.player),Uw(o,o.opponent)),o.formGroup&&EN(o),setTimeout(()=>{o.petSelectors.forEach(t=>{t.initSelector()})})}(this,t);undoRandomize=()=>function Ej(o){o.undoState&&(jw(o,o.undoState),jI(o),o.undoState=null,setTimeout(()=>{o.petSelectors&&o.petSelectors.forEach(e=>{e.fixLoadEquipment()})}))}(this);clearCache=()=>function xj(o){o.localStorageService.clearStorage(),o.setStatus?.("Cache cleared. Refresh page to see changes.","success")}(this);initModals=()=>function Dj(o){o.customPackEditorModal=new fd(o.customPackEditor.nativeElement),o.customPackEditor.nativeElement.addEventListener("hidden.bs.modal",()=>{})}(this);openCustomPackEditor=()=>ON(this);drop=(t,i)=>function Mj(o,e,t){let i=e.previousIndex,n=e.currentIndex;"player"==t&&(i=4-i,n=4-n);const s=o.formGroup.get(`${t}Pets`);Ac(s.controls,i,n),s.updateValueAndValidity(),Vw(o),setTimeout(()=>{for(const r of o.petSelectors.toArray())r.substitutePet()})}(this,t,i);resetPlayer=t=>VI(this,t);export=()=>function Ij(o){o.localStorageService.setFormStorage(o.formGroup);const e=function YG(o){const e=OL(o.value);return JSON.stringify(e)}(o.formGroup);navigator.clipboard.writeText(e).then(()=>{o.setStatus?.("Copied to clipboard.","success")}).catch(t=>{console.error("Clipboard error:",t),o.setStatus?.("Failed to copy to clipboard.","error")})}(this);import=(t,i=!1,n)=>BN(this,t,i,n);generateShareLink=()=>function Lj(o){o.localStorageService.setFormStorage(o.formGroup);const e=window.location.origin+window.location.pathname,t=function XG(o,e){const i=(0,gw.A)(o.value),n=[...i.playerPets||[],...i.opponentPets||[]];for(const d of n)if(d&&(delete d.parent,delete d.logService,delete d.abilityService,delete d.gameService,delete d.petService,d.equipment)){const h="string"==typeof d.equipment?d.equipment:d.equipment.name;d.equipment=h?{name:h}:null}const s=OL(i),r=JSON.stringify(s);return`${e}?c=${encodeURIComponent(r)}`}(o.formGroup,e);navigator.clipboard.writeText(t).then(()=>{o.setStatus?.("Shareable link copied to clipboard!","success")}).catch(i=>{console.error("Failed to copy link: ",i),o.setStatus?.("Failed to copy link. See console for details.","error")})}(this);refreshFilteredBattles=()=>HL(this);get winPercent(){return function rH(o){const e=o.playerWinner+o.opponentWinner+o.draw;return 0===e?0:za(o.playerWinner/e*100)}(this)}get drawPercent(){return qL(this)}get losePercent(){return tI(this)}get validCustomPacks(){return function gj(o){const e=o.formGroup.get("customPacks"),t=[];for(const i of e.controls)i.valid&&t.push(i);return t}(this)}getToyIcon=mj;get selectedTeamName(){return function fj(o){return NN(o)?.name||"Saved teams"}(this)}get selectedTeamPreviewIcons(){return function yj(o){return(NN(o)?.pets||[]).slice(0,5).map(t=>tr(t?.name)).filter(Boolean)}(this)}getToyOptionStyle=bj;openSelectionDialog=(t,i)=>function vj(o,e,t){o.selectionType=e,o.selectionSide=t,o.showSelectionDialog=!0}(this,t,i);onItemSelected=t=>function Aj(o,e){if(e instanceof Event)return o.showSelectionDialog=!1,void(o.selectionSide="none");if(!o.selectionSide||"none"===o.selectionSide)return"team"===o.selectionType&&(o.selectedTeamId="string"==typeof e?e:e?.id||e?.name||""),o.showSelectionDialog=!1,void(o.selectionSide="none");const t=o.selectionSide,i=o.selectionType;if("pack"===i){const n=e?.name||e;"player"===t?o.formGroup.get("playerPack").setValue(n):o.formGroup.get("opponentPack").setValue(n)}else if("toy"===i){const n=e?.name||e||null;"player"===t?o.formGroup.get("playerToy").setValue(n):o.formGroup.get("opponentToy").setValue(n)}else if("hard-toy"===i){const n=e?.name||e||null;"player"===t?o.formGroup.get("playerHardToy").setValue(n):o.formGroup.get("opponentHardToy").setValue(n)}else"team"===i&&(o.selectedTeamId="string"==typeof e?e:e?.id||e?.name||"");o.showSelectionDialog=!1,o.selectionSide="none"}(this,t);getPackIconPath=Sj;onPackImageError=t=>function Pj(o,e){"player"===e?o.playerPackImageBroken=!0:o.opponentPackImageBroken=!0}(this,t);resetPackImageError=(t,i)=>FN(this,t);incrementToyLevel=t=>function kj(o,e){const t="player"===e?"playerToyLevel":"opponentToyLevel",i=o.formGroup.get(t).value;i<3&&o.formGroup.get(t).setValue(i+1)}(this,t);decrementToyLevel=t=>function _j(o,e){const t="player"===e?"playerToyLevel":"opponentToyLevel",i=o.formGroup.get(t).value;i>1&&o.formGroup.get(t).setValue(i-1)}(this,t);removeHardToy=t=>function wj(o,e){o.formGroup.get("player"===e?"playerHardToy":"opponentHardToy").setValue(null)}(this,t);getToyIconPath=Tj;setStatus(t,i="success"){this.statusMessage=t,this.statusTone=i,this.statusTimer&&clearTimeout(this.statusTimer),this.statusTimer=setTimeout(()=>{this.statusMessage="",this.statusTimer=null},3e3)}clearStatus(){this.statusTimer&&(clearTimeout(this.statusTimer),this.statusTimer=null),this.statusMessage=""}static \u0275fac=function(i){return new(i||o)(g.rXU(nr),g.rXU(w.zZn),g.rXU(Ea),g.rXU(Fr),g.rXU(xr),g.rXU(kr),g.rXU(pi),g.rXU(LL.s),g.rXU(Fj),g.rXU(Oj),g.rXU(Hj),g.rXU(qj))};static \u0275cmp=g.VBU({type:o,selectors:[["app-root"]],viewQuery:function(i,n){if(1&i&&g.GBs(jj,5)(fL,5),2&i){let s;g.mGM(s=g.lsd())&&(n.customPackEditor=s.first),g.mGM(s=g.lsd())&&(n.petSelectors=s)}},decls:3,vars:3,consts:[["container",""],["resultsPlaceholder",""],["teamPlaceholder",""],["customPackEditor",""],[4,"ngIf"],[3,"type","showAllPets","customPacks","savedTeams","select","close",4,"ngIf"],["id","apiResponse"],[1,"container-fluid","app-wrapper","flex-col",3,"formGroup"],[1,"row","battle-row","pb-5","pt-3"],[1,"col-12","col-xl-6","px-4","mb-2","mb-xl-0"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center","toy-wrap"],[1,"me-2"],[1,"toy-row"],[1,"toy-slot"],["type","button",1,"toy-select-btn",3,"click"],["class","toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Player Toy",3,"ngSrc",4,"ngIf"],[1,"toy-label"],[1,"fas","fa-chevron-down"],["class","toy-level-controls inline",4,"ngIf"],["class","toy-art hard-toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Player Hard Toy",3,"ngSrc",4,"ngIf"],["type","button","class","toy-remove-btn-inline","title","Remove hard toy",3,"click",4,"ngIf"],[1,"btn","glass-btn","mb-1",3,"click"],[1,"card","p-2","player-card"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"row","row-cols-1","row-cols-md-5","g-0",3,"cdkDropListDropped"],["class","col drag-container mb-2 mb-md-0 px-0","cdkDrag","",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-xl-6","px-4"],["class","toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Opponent Toy",3,"ngSrc",4,"ngIf"],["class","toy-art hard-toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Opponent Hard Toy",3,"ngSrc",4,"ngIf"],[1,"card","p-2","player-card","ml-auto"],["class","col drag-container mb-2 mb-sm-0 px-0","cdkDrag","",4,"ngFor","ngForOf","ngForTrackBy"],[1,"top-controls","card","mb-3"],[1,"top-controls-header"],[1,"top-controls-left"],[1,"simulate-controls"],[1,"simulate-input-group"],[1,"btn","btn-primary",3,"click"],["type","number","formControlName","simulations","min","1","max","10000",1,"form-control","simulate-input"],[1,"btn","btn-secondary",3,"click"],["class","btn btn-secondary ms-1",3,"click",4,"ngIf"],[1,"top-controls-center"],[4,"ngIf","ngIfElse"],[1,"top-controls-right"],[1,"external-meta"],["data-bs-toggle","modal","data-bs-target","#info",1,"btn-link","info-link",3,"click"],[1,"meta-text"],["data-bs-toggle","modal","data-bs-target","#patchNotes",1,"btn-link",3,"click"],[1,"external-buttons"],["data-bs-toggle","modal","data-bs-target","#reportABug",1,"btn","btn-secondary",3,"click"],["data-bs-toggle","modal","data-bs-target","#export",1,"btn","btn-secondary",3,"click"],["data-bs-toggle","modal","data-bs-target","#import",1,"btn","btn-secondary",3,"click"],["class","px-3 pb-2",3,"ngClass",4,"ngIf"],[1,"top-controls-body"],[1,"controls-grid"],[1,"controls-section","teams-section"],[1,"team-column"],["placeholder","Team name",1,"form-control","team-name-input",3,"ngModelChange","ngModel","ngModelOptions"],[1,"team-name-actions"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"selection-btn","team-selection-btn",3,"click"],["class","team-preview",4,"ngIf","ngIfElse"],[1,"btn-text"],[1,"fas","fa-chevron-down","ms-auto"],[1,"team-name-actions","load-actions"],[1,"controls-section","packs-section"],[1,"form-group","min-w-input"],[1,"selection-btn",3,"click"],["class","btn-icon","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc","error",4,"ngIf"],["title","All pets are included in the pet pool.",1,"form-check"],["type","checkbox","value","","id","allPets","formControlName","allPets",1,"form-check-input"],["for","allPets",1,"form-check-label"],[1,"controls-section","advanced-section"],[1,"advanced-toggle"],[1,"btn-link",3,"click"],["class","row flex-1 bottom-container",4,"ngIf"],["id","patchNotes","tabindex","-1","aria-labelledby","patchNotesLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","patchNotesLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["id","customPackEditor","tabindex","-1","aria-labelledby","customPackEditorLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],["id","customPackEditorLabel",1,"modal-title","fs-5"],[3,"formGroup"],["id","info","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],["id","import","tabindex","-1","aria-labelledby","importModalLabel","aria-hidden","true",1,"modal","fade"],["id","importModalLabel",1,"modal-title","fs-5"],["id","export","tabindex","-1","aria-labelledby","exportModalLabel","aria-hidden","true",1,"modal","fade"],["id","exportModalLabel",1,"modal-title","fs-5"],["id","reportABug","tabindex","-1","aria-labelledby","reportABug","aria-hidden","true",1,"modal","fade"],["id","reportABug",1,"modal-title","fs-5"],["width","36","height","36","loading","lazy","decoding","async","alt","Player Toy",1,"toy-art",3,"ngSrc"],[1,"toy-level-controls","inline"],["title","Decrease level",1,"toy-level-btn",3,"click"],[1,"fas","fa-minus"],[1,"toy-level-label"],["title","Increase level",1,"toy-level-btn",3,"click"],[1,"fas","fa-plus"],["width","36","height","36","loading","lazy","decoding","async","alt","Player Hard Toy",1,"toy-art","hard-toy-art",3,"ngSrc"],["type","button","title","Remove hard toy",1,"toy-remove-btn-inline",3,"click"],[1,"fas","fa-times"],["cdkDrag","",1,"col","drag-container","mb-2","mb-md-0","px-0"],["cdkDragHandle","",1,"drag-handle"],["fill","currentColor","viewBox","0 0 24 24"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],[3,"pet","player","opponent","index","formGroup","ailments","allPets","mana","triggersConsumed","allowEquipmentUseOverrides","showTokenPets","flipImage","customPacks","showSwallowedLevels"],["width","36","height","36","loading","lazy","decoding","async","alt","Opponent Toy",1,"toy-art",3,"ngSrc"],["width","36","height","36","loading","lazy","decoding","async","alt","Opponent Hard Toy",1,"toy-art","hard-toy-art",3,"ngSrc"],["cdkDrag","",1,"col","drag-container","mb-2","mb-sm-0","px-0"],[3,"pet","player","opponent","index","formGroup","ailments","allPets","mana","triggersConsumed","allowEquipmentUseOverrides","showTokenPets","customPacks","showSwallowedLevels"],[1,"btn","btn-secondary","ms-1",3,"click"],[1,"results-row"],[1,"stats"],[1,"stat-block","player-stat"],[1,"stat-label"],[1,"stat-block","draw-stat"],[1,"stat-block","opponent-stat"],[1,"py-1"],[1,"results-bar"],[1,"draw-bar"],[1,"lose-bar"],[1,"results-placeholder"],[1,"results-placeholder-text"],[1,"results-bar","placeholder-bar"],[1,"px-3","pb-2",3,"ngClass"],[1,"team-preview"],["width","28","height","28","loading","lazy","decoding","async","class","team-preview-icon",3,"ngSrc","alt",4,"ngFor","ngForOf"],["width","28","height","28","loading","lazy","decoding","async",1,"team-preview-icon",3,"ngSrc","alt"],[1,"btn-placeholder"],["width","24","height","24","loading","lazy","decoding","async",1,"btn-icon",3,"error","ngSrc"],[1,"advanced-grid"],["title","Shuffle pets in front of Komodo if present.",1,"form-check"],["type","checkbox","value","","id","komodoShuffle","formControlName","komodoShuffle",1,"form-check-input"],["for","komodoShuffle",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","komodo-icon"],["title","Enable changing equipment uses globally.",1,"form-check"],["type","checkbox","value","","id","changeEquipmentUses","formControlName","changeEquipmentUses",1,"form-check-input"],["for","changeEquipmentUses",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","perk-icon"],["title","Include Mana.",1,"form-check"],["type","checkbox","value","","id","mana","formControlName","mana",1,"form-check-input"],["for","mana",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","mana-icon"],["title","Disable battle logs for faster simulations.",1,"form-check"],["type","checkbox","value","","id","logsEnabled","formControlName","logsEnabled",1,"form-check-input"],["for","logsEnabled",1,"form-check-label"],["title","Include Triggers Consumed.",1,"form-check"],["type","checkbox","value","","id","triggersConsumed","formControlName","triggersConsumed",1,"form-check-input"],["for","triggersConsumed",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","pheasant-icon"],["title","Show swallowed pet level selection.",1,"form-check"],["type","checkbox","value","","id","showSwallowedLevels","formControlName","showSwallowedLevels",1,"form-check-input"],["for","showSwallowedLevels",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","abomination-icon"],[1,"advanced-number-grid","mt-2"],[1,"form-group","small-w-input"],["for","turn"],["id","turn","type","number","formControlName","turn","max","99",1,"form-control"],[1,"form-group","advanced-input"],["for","playerGoldSpent","title","Player Gold Spent",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","gold-icon"],["type","number","formControlName","playerGoldSpent","max","99",1,"form-control"],["for","opponentGoldSpent","title","Opponent Gold Spent",1,"advanced-label-with-icon"],["type","number","formControlName","opponentGoldSpent","max","99",1,"form-control"],["class","form-group advanced-input",4,"ngIf"],["for","playerLevel3Sold","title","Player Level 3 Sold",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","cycle-icon"],["type","number","formControlName","playerLevel3Sold","max","99",1,"form-control"],["for","opponentLevel3Sold","title","Opponent Level 3 Sold",1,"advanced-label-with-icon"],["type","number","formControlName","opponentLevel3Sold","max","99",1,"form-control"],["for","playerSummonedAmount","title","Player Summoned Amount",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","summon-icon"],["type","number","formControlName","playerSummonedAmount","max","99",1,"form-control"],["for","opponentSummonedAmount","title","Opponent Summoned Amount",1,"advanced-label-with-icon"],["type","number","formControlName","opponentSummonedAmount","max","99",1,"form-control"],["for","playerTransformationAmount","title","Player Transformation Amount",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","transform-icon"],["type","number","formControlName","playerTransformationAmount","max","99",1,"form-control"],["for","opponentTransformationAmount","title","Opponent Transformation Amount",1,"advanced-label-with-icon"],["type","number","formControlName","opponentTransformationAmount","max","99",1,"form-control"],["for","playerRollAmount","title","Player Roll Amount",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","roll-icon"],["type","number","formControlName","playerRollAmount","max","99",1,"form-control"],["for","opponentRollAmount","title","Opponent Roll Amount",1,"advanced-label-with-icon"],["type","number","formControlName","opponentRollAmount","max","99",1,"form-control"],[1,"row","flex-1","bottom-container"],[1,"col-12","col-md-6","border","h-100","flex-col","pe-0"],[1,"row"],[1,"col-12"],["for","logFilter",1,"form-label"],["id","logFilter",1,"log-filter-tabs"],["type","button","class","log-filter-tab",3,"active","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"battle-container","flex-1"],[1,"table"],[1,"battle-no"],["class","table-battle-row",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-6","border","h-100","flex-col"],[1,"row","log-container","flex-1","scroll"],["class","col-12",4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"log-filter-tab",3,"click"],[1,"table-battle-row",3,"click","ngClass"],[1,"pre"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","log-inline-icon","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async",1,"log-inline-icon",3,"ngSrc","alt"],[3,"ngClass"],["class","log-pet-icon","width","18","height","18","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["width","18","height","18","loading","lazy","decoding","async",1,"log-pet-icon",3,"ngSrc","alt"],[1,"text-muted"],[3,"importFunc"],[3,"calcFormGroup"],[3,"select","close","type","showAllPets","customPacks","savedTeams"]],template:function(i,n){1&i&&g.DNE(0,Qj,3,1,"ng-container",4)(1,q8,212,44,"ng-container",4)(2,j8,1,4,"app-item-selection-dialog",5),2&i&&(g.Y8G("ngIf",n.api),g.R7$(),g.Y8G("ngIf",!n.api),g.R7$(),g.Y8G("ngIf",n.showSelectionDialog))},dependencies:[si.MD,si.YU,si.Sq,si.bT,Wi,Y.YN,Y.me,Y.Q0,Y.Zm,Y.BC,Y.cb,Y.VZ,Y.zX,Y.vS,Y.X1,Y.j4,Y.JD,_m,Zs,Ta,Bd,fL,gL,FG],styles:[".app-wrapper[_ngcontent-%COMP%]{min-height:100vh}.day-night-container[_ngcontent-%COMP%]{min-height:1em}.flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.player-card[_ngcontent-%COMP%]{background-color:transparent;display:grid;grid-auto-rows:minmax(min-content,max-content);grid-template-columns:auto 1fr auto;border-color:transparent;box-shadow:none}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:rotate(180deg);writing-mode:vertical-lr;text-align:center}.battle-row[_ngcontent-%COMP%]{background-color:#5ebe09;background-repeat:no-repeat;background-position:center;background-size:cover}.log-row[_ngcontent-%COMP%]{padding:.35rem .75rem;border-bottom:1px solid #eef1f4}.top-controls[_ngcontent-%COMP%]{border-radius:14px;background-color:#fff;padding:.4rem .5rem .6rem;margin-bottom:.35rem;border:none;box-shadow:none}.top-controls-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(220px,1fr) minmax(260px,1.2fr) minmax(260px,1fr);gap:.75rem;align-items:start;padding:.5rem .75rem .35rem}.top-controls-left[_ngcontent-%COMP%], .top-controls-center[_ngcontent-%COMP%], .top-controls-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.simulate-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.top-controls-center[_ngcontent-%COMP%]{align-items:center;justify-content:center}.simulate-controls[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.simulate-input-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.simulate-input-group[_ngcontent-%COMP%]   .simulate-input[_ngcontent-%COMP%]{width:80px;text-align:center}.results-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.35rem;min-height:74px}.results-placeholder-text[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem;font-weight:600}.placeholder-bar[_ngcontent-%COMP%]{border-color:#ced4da;background-color:#f1f3f5}.top-controls-right[_ngcontent-%COMP%]{align-items:flex-end;justify-content:flex-start}.external-meta[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;gap:.5rem;justify-content:flex-end;text-align:right}.external-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:flex-end}.top-controls-body[_ngcontent-%COMP%]{padding:.15rem .75rem .6rem}.controls-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,minmax(200px,1fr));gap:.75rem;align-items:start}.controls-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem;padding:.4rem .6rem;border-radius:10px;background-color:#f8f9fa}.controls-section.advanced-section[_ngcontent-%COMP%]{grid-column:span 2}.teams-section[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;gap:.75rem;align-items:flex-start}.team-name-actions[_ngcontent-%COMP%]{display:flex;gap:.25rem}.team-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.35rem;min-width:180px}.team-selection-btn[_ngcontent-%COMP%]{min-height:48px;display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:.6rem}.team-preview[_ngcontent-%COMP%]{display:flex;gap:2px}.team-preview-icon[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:6px;background:#f5f6f8;object-fit:contain;border:1px solid rgba(0,0,0,.08)}.btn-placeholder[_ngcontent-%COMP%]{color:#adb5bd;font-size:.9rem}.team-name-input[_ngcontent-%COMP%]{max-width:200px}.team-select[_ngcontent-%COMP%]{max-width:240px}.packs-section[_ngcontent-%COMP%]   .min-w-input[_ngcontent-%COMP%]{min-width:180px}.compact-toy-group[_ngcontent-%COMP%]   .toy-panel[_ngcontent-%COMP%]{border-radius:10px;padding:.5rem .6rem;background:#fff;display:flex;flex-direction:column;gap:.5rem;box-shadow:none;max-width:100%;margin:0;border:1px solid #eef1f4}.selection-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:#fff;border:1px solid #ced4da;border-radius:8px;transition:all .2s;cursor:pointer;text-align:left;min-height:40px}.selection-btn[_ngcontent-%COMP%]:hover{background:#f1f3f5;border-color:#adb5bd;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.9rem;color:#495057;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#adb5bd;font-size:.8rem}.night[_nghost-%COMP%]   .selection-btn[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .selection-btn[_ngcontent-%COMP%]{background:#3d3d3d;border-color:#444;color:#eee}.night[_nghost-%COMP%]   .selection-btn[_ngcontent-%COMP%]:hover, .night   [_nghost-%COMP%]   .selection-btn[_ngcontent-%COMP%]:hover{background:#444;border-color:#555}.night[_nghost-%COMP%]   .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{color:#eee}.compact-toy-group[_ngcontent-%COMP%]   .toy-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;align-items:flex-end;justify-content:center}.compact-toy-group[_ngcontent-%COMP%]   .toy-inline[_ngcontent-%COMP%]{flex:1;min-width:150px;display:flex;flex-direction:column;gap:.2rem}.compact-toy-group[_ngcontent-%COMP%]   .toy-inline[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;margin-bottom:0}.compact-toy-group[_ngcontent-%COMP%]   .toy-level[_ngcontent-%COMP%]{max-width:90px}.compact-toy-group[_ngcontent-%COMP%]   .hard-row[_ngcontent-%COMP%]   .toy-inline[_ngcontent-%COMP%]{min-width:200px}.advanced-section[_ngcontent-%COMP%]{gap:.5rem}.advanced-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(140px,1fr));gap:.35rem .75rem;align-items:start}.advanced-number-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:.75rem;align-items:flex-start}.advanced-number-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}.advanced-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.78rem;font-weight:600;margin-bottom:.2rem}.advanced-label-with-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem}.advanced-icon[_ngcontent-%COMP%]{width:18px;height:18px;display:inline-block;background-repeat:no-repeat;background-size:contain;background-position:center;filter:drop-shadow(0 1px 1px rgba(0,0,0,.2))}.advanced-icon.roll-icon[_ngcontent-%COMP%]{background-image:url(roll.5b774f07011e6461.png)}.advanced-icon.gold-icon[_ngcontent-%COMP%]{background-image:url(gold.0f86d00bedfb632c.png)}.advanced-icon.mana-icon[_ngcontent-%COMP%]{background-image:url(mana.cf81a980bdb2c625.png)}.advanced-icon.transform-icon[_ngcontent-%COMP%]{background-image:url(transform.686b68ed90ccea99.png)}.advanced-icon.cycle-icon[_ngcontent-%COMP%]{background-image:url(cycle.873b0945a4c5232e.png)}.advanced-icon.summon-icon[_ngcontent-%COMP%]{background-image:url(summon.6b91a7a0e8c14b22.png)}.advanced-icon.token-icon[_ngcontent-%COMP%]{background-image:url(Bee.921387f84053c08d.png)}.advanced-icon.komodo-icon[_ngcontent-%COMP%]{background-image:url(Komodo.df4013c9748a22ff.png)}.advanced-icon.perk-icon[_ngcontent-%COMP%]{background-image:url(perk.d42f36a4b70310c6.png)}.advanced-icon.pheasant-icon[_ngcontent-%COMP%]{background-image:url(triggers-from-textmap.e685979a3c7c856b.png)}.advanced-icon.abomination-icon[_ngcontent-%COMP%]{background-image:url(Shoggoth.01317e0f4414b30f.png)}.small-w-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.78rem;font-weight:600;margin-bottom:.2rem}.advanced-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center}.advanced-toggle[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.meta-text[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem}.battle-controller.border[_ngcontent-%COMP%]{border:0;background-color:#f5f5f5}.small-w-input[_ngcontent-%COMP%]{width:60px}@media(max-width:1199.98px){.controls-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(220px,1fr))}.controls-section.advanced-section[_ngcontent-%COMP%]{grid-column:span 2}}@media(max-width:991.98px){.top-controls-header[_ngcontent-%COMP%]{grid-template-columns:1fr}.top-controls-right[_ngcontent-%COMP%], .external-meta[_ngcontent-%COMP%], .external-buttons[_ngcontent-%COMP%]{align-items:flex-start;justify-content:flex-start;text-align:left}.controls-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.controls-section.advanced-section[_ngcontent-%COMP%]{grid-column:span 1}.teams-section[_ngcontent-%COMP%]{flex-direction:column}}.stats[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:.25em}.stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:1em}.results-row[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center;text-align:center;padding-bottom:.25rem;width:100%}.results-row[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;gap:.75rem 1.25rem;flex-wrap:wrap;width:100%}.stat-block[_ngcontent-%COMP%]{display:flex;flex:0 1 auto;gap:.35rem;font-weight:600;font-size:.95rem;justify-content:center;white-space:nowrap}.stat-label[_ngcontent-%COMP%]{font-weight:400;color:#6c757d}.player-stat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{color:#0f9d00}.opponent-stat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{color:#d10015}.draw-stat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{color:#6c757d}.player-stat[_ngcontent-%COMP%], .opponent-stat[_ngcontent-%COMP%]{justify-content:center}.results-row[_ngcontent-%COMP%]   .results-bar[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.results-row[_ngcontent-%COMP%]   .py-1[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-self:stretch}.battle-no[_ngcontent-%COMP%]{width:1%;white-space:nowrap}.table-battle-row[_ngcontent-%COMP%]{cursor:pointer}.results-bar[_ngcontent-%COMP%], .draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{display:inline-block}.draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{height:100%;position:absolute;right:0}.results-bar[_ngcontent-%COMP%]{max-width:100%;border:.2em solid black;height:2em;width:100%;max-width:420px;background-color:#0f0;position:relative}.draw-bar[_ngcontent-%COMP%]{background-color:#d3d3d3}.lose-bar[_ngcontent-%COMP%]{background-color:red}  .log-pet-icon{width:18px;height:18px;object-fit:contain;vertical-align:middle;margin-right:2px}  .log-inline-icon{width:16px;height:16px;object-fit:contain;vertical-align:middle;margin:0 3px 2px}.log-player[_ngcontent-%COMP%]{background-color:#e4ffe0}.log-opponent[_ngcontent-%COMP%]{background-color:#ffe0e0}.battle-win[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#e4ffe0}.battle-loss[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#ffe0e0}.log-container[_ngcontent-%COMP%]{display:flex;align-content:flex-start}.log-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#343a40;font-size:.9rem;line-height:1.35}.random-event[_ngcontent-%COMP%]{color:purple}.bold[_ngcontent-%COMP%]{font-weight:700}.flex-1[_ngcontent-%COMP%]{flex:1}.flex-col[_ngcontent-%COMP%]{min-height:0}.bottom-container[_ngcontent-%COMP%]{min-height:30em;padding-top:.75rem}.bottom-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-height:15em}.bottom-container[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%], .bottom-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{border:0}.bottom-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border-bottom:0}.bottom-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .bottom-container[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{border-color:transparent;box-shadow:none}.scroll[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.bottom-container[_ngcontent-%COMP%]   .battle-container[_ngcontent-%COMP%], .bottom-container[_ngcontent-%COMP%]   .log-container[_ngcontent-%COMP%]{min-height:0;overflow-y:auto}.log-filter-tabs[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding:.25rem 0 0;overflow-x:auto;white-space:nowrap}.log-filter-tabs[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.log-filter-tabs[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}.log-filter-tab[_ngcontent-%COMP%]{flex:0 0 auto;border-radius:999px;border:1px solid #dee2e6;background-color:#fff;color:#6c757d;font-weight:600;padding:.35rem 1rem;font-size:.9rem;transition:background-color .2s ease,color .2s ease,border-color .2s ease;cursor:pointer}.log-filter-tab[_ngcontent-%COMP%]:focus-visible{outline:3px solid #0d6efd;outline-offset:2px}.log-filter-tab.active[_ngcontent-%COMP%]{background-color:#0d6efd;color:#fff;border-color:#0d6efd}.h-100[_ngcontent-%COMP%]{height:100%}.pre[_ngcontent-%COMP%]{white-space:pre}.btn-link[_ngcontent-%COMP%]{color:#0d6efd;cursor:pointer}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.drag-container[_ngcontent-%COMP%]{position:relative}.drag-handle[_ngcontent-%COMP%]{width:1.8em;height:1.8em;position:absolute;right:1em;z-index:1;opacity:.9;display:flex;align-items:center;justify-content:center;color:#fff;background:#00000073;border:1px solid rgba(255,255,255,.5);border-radius:999px;box-shadow:0 2px 6px #00000073;cursor:pointer}.drag-handle[_ngcontent-%COMP%]:hover{opacity:1;background:#0009;border-color:#ffffffbf}.info-link[_ngcontent-%COMP%]{margin-bottom:0}.toy-art[_ngcontent-%COMP%]{width:36px;height:36px;object-fit:contain}.toy-wrap[_ngcontent-%COMP%]{position:relative;gap:.5rem}.toy-wrap[_ngcontent-%COMP%]   .toy-art[_ngcontent-%COMP%] + .toy-art[_ngcontent-%COMP%]{margin-left:.35rem}.toy-select-container[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;cursor:pointer;border-radius:8px;padding:2px}.toy-select-container[_ngcontent-%COMP%]:hover{background:#fff3;transform:scale(1.05)}.toy-select-container.toy-none[_ngcontent-%COMP%]{background:#0000004d;border:1px dashed rgba(255,255,255,.5);padding:8px 12px;min-width:50px;justify-content:center;align-items:center}.toy-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem;flex-wrap:wrap}.toy-slot[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem}.toy-select-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;padding:.2rem .5rem;border-radius:8px;border:1px solid rgba(255,255,255,.4);background:#00000040;backdrop-filter:blur(6px);color:#fff;font-size:.8rem;cursor:pointer}.toy-select-btn[_ngcontent-%COMP%]:hover{background:#00000052;transform:translateY(-1px)}.toy-select-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem;color:#ffffffd9}.toy-label[_ngcontent-%COMP%]{font-weight:600;white-space:nowrap}.toy-main[_ngcontent-%COMP%]{display:flex;align-items:center}.toy-level-controls[_ngcontent-%COMP%]{position:absolute;bottom:-8px;left:50%;transform:translate(-50%);display:flex;align-items:center;gap:.25rem;background:#000000d9;border-radius:12px;padding:.15rem .4rem;border:1px solid rgba(255,255,255,.3);opacity:0;pointer-events:none}.toy-level-controls.inline[_ngcontent-%COMP%]{position:static;transform:none;opacity:1;pointer-events:auto;background:#00000040;backdrop-filter:blur(6px)}.glass-btn[_ngcontent-%COMP%]{background:#00000040;color:#fff;border:1px solid rgba(255,255,255,.4);backdrop-filter:blur(6px)}.glass-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff80;transform:translateY(-1px)}.toy-select-container[_ngcontent-%COMP%]:hover   .toy-level-controls[_ngcontent-%COMP%], .toy-select-container[_ngcontent-%COMP%]:hover   .toy-remove-btn[_ngcontent-%COMP%], .toy-wrap[_ngcontent-%COMP%]:hover   .toy-add-hard[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.toy-level-btn[_ngcontent-%COMP%]{background:#ffffff26;border:none;border-radius:999px;width:18px;height:18px;display:flex;align-items:center;justify-content:center;color:#fff;cursor:pointer;font-size:.65rem;padding:0}.toy-level-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.1)}.toy-level-label[_ngcontent-%COMP%]{color:#fff;font-size:.7rem;font-weight:700;min-width:22px;text-align:center}.toy-remove-btn[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;width:18px;height:18px;background:#d63384;border:2px solid #fff;border-radius:999px;display:flex;align-items:center;justify-content:center;color:#fff;cursor:pointer;font-size:.75rem}.toy-remove-btn[_ngcontent-%COMP%]:hover{background:#c2185b;transform:scale(1.1)}.toy-remove-btn-inline[_ngcontent-%COMP%]{width:22px;height:22px;background:#d63384;border:2px solid #fff;border-radius:999px;display:inline-flex;align-items:center;justify-content:center;color:#fff;cursor:pointer;font-size:.75rem}.toy-remove-btn-inline[_ngcontent-%COMP%]:hover{background:#c2185b;transform:scale(1.05)}.toy-add-hard[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;width:20px;height:20px;background:#000000b3;border:1px solid rgba(255,255,255,.4);border-radius:999px;display:flex;align-items:center;justify-content:center;color:#ffffffb3;cursor:pointer;font-size:.75rem}.toy-add-hard[_ngcontent-%COMP%]:hover{background:#000000e6;border-color:#ffffffb3;color:#fff;transform:scale(1.15)}.toy-select-icon[_ngcontent-%COMP%]{position:absolute;bottom:-4px;right:-4px;background:#000000b3;color:#fff;border-radius:999px;width:16px;height:16px;display:flex;align-items:center;justify-content:center;font-size:.7rem;opacity:0;transition:opacity .2s;pointer-events:none;border:1px solid rgba(255,255,255,.3)}.toy-select-container[_ngcontent-%COMP%]:hover   .toy-select-icon[_ngcontent-%COMP%]{opacity:1}.toy-level-text[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-shadow:0 2px 4px rgba(0,0,0,.75);margin-left:.35rem;display:none}.battle-row[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.75)}@media(max-width:767.98px){.card[_ngcontent-%COMP%]{max-width:18em}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:initial;writing-mode:initial}.player-card[_ngcontent-%COMP%]{grid-template-columns:none}}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.bug-button[_ngcontent-%COMP%]{margin-right:.5em;margin-bottom:.25em}.advanced-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60px}@media(max-width:991.98px){.bottom-container[_ngcontent-%COMP%]{flex-direction:column;row-gap:1rem}.bottom-container[_ngcontent-%COMP%] > .col-12[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%;height:auto}.battle-row[_ngcontent-%COMP%]{flex-direction:column}.battle-row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.top-controls[_ngcontent-%COMP%]{padding:.75rem}.top-controls[_ngcontent-%COMP%]   .team-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.team-row-right[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.5rem}.team-name-actions[_ngcontent-%COMP%]{margin-top:.4rem;gap:.25rem}.action-row[_ngcontent-%COMP%]{flex-direction:column}.action-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center}.results-row[_ngcontent-%COMP%]{margin-bottom:.25rem}.results-row[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.control-groups[_ngcontent-%COMP%]{flex-direction:column}.control-group[_ngcontent-%COMP%]{width:100%}.compact-toy-group[_ngcontent-%COMP%]   .toy-row[_ngcontent-%COMP%]{flex-direction:column}.compact-toy-group[_ngcontent-%COMP%]   .toy-inline[_ngcontent-%COMP%]{width:100%;min-width:0}.compact-toy-group[_ngcontent-%COMP%]   .toy-row.hard-row[_ngcontent-%COMP%]{gap:.5rem}.results-bar[_ngcontent-%COMP%]{width:100%;min-width:unset;max-width:none}}"],changeDetection:0})}return o})(),{providers:[(0,ya.$R)((0,ya.Sx)())]}).catch(o=>console.error(o))},3077(Ue,ge,B){B.d(ge,{s:()=>m});var R=B(375);let m=(()=>{class G{key="sapData";constructor(){}getStorage(){return window.localStorage.getItem(this.key),window.localStorage.getItem(this.key)}setFormStorage(w){this.setStorage(w.value)}setStorage(w){if("object"==typeof w&&null!==w){const g=new Set,de=(me,re)=>{if("equipment"===me&&re&&"object"==typeof re&&re.name)return{name:re.name};if(!["parent","logService","abilityService","gameService","petService"].includes(me)){if("object"==typeof re&&null!==re){if(g.has(re))return;g.add(re)}return re}};try{const me=JSON.stringify(w,de);window.localStorage.setItem(this.key,me)}catch(me){console.error("Could not stringify value for local storage",me)}}else"string"==typeof w&&window.localStorage.setItem(this.key,w)}clearStorage(){window.localStorage.removeItem(this.key)}static \u0275fac=function(g){return new(g||G)};static \u0275prov=R.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})()},3117(Ue,ge,B){function R(G,se){se=encodeURIComponent(se);for(const w of G.split(";")){const g=w.indexOf("="),[de,me]=-1==g?[w,""]:[w.slice(0,g),w.slice(g+1)];if(de.trim()===se)return decodeURIComponent(me)}return null}B.d(ge,{N:()=>m,b:()=>R});class m{}},3276(Ue){Ue.exports=JSON.parse('[{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and Spooked until next turn to the nearest friend ahead."},{"Level":2,"About":"End turn: Give +2 attack and Spooked until next turn to the nearest friend ahead."},{"Level":3,"About":"End turn: Give +3 attack and Spooked until next turn to the nearest friend ahead."}],"Id":"624","Name":"???","NameId":"Leafling","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Jump attack the second enemy for 3 damage."},{"Level":2,"About":"Start of battle: Jump attack the second enemy for 6 damage."},{"Level":3,"About":"Start of battle: Jump attack the second enemy for 9 damage."}],"Id":"388","Name":"African Wild Dog","NameId":"AfricanWildDog","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +1 mana."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +2 mana."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +3 mana."}],"Id":"626","Name":"Alchemedes","NameId":"AlchemistBug","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Give one random friend +1 attack and +1 health."},{"Level":2,"About":"Faint: Give one random friend +2 attack and +2 health."},{"Level":3,"About":"Faint: Give one random friend +3 attack and +3 health."}],"Id":"0","Name":"Ant","NameId":"Ant","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: If turn number is even, replace random ailments with +1 health on two friends."},{"Level":2,"About":"End turn: If turn number is even, replace random ailments with +2 health on two friends."},{"Level":3,"About":"End turn: If turn number is even, replace random ailments with +3 health on two friends."}],"Id":"628","Name":"Baku","NameId":"Baku","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make the last perk-less enemy Spooked."},{"Level":2,"About":"Start of battle: Make the two last perk-less enemies Spooked."},{"Level":3,"About":"Start of battle: Make the three last perk-less enemies Spooked."}],"Id":"621","Name":"Barghest","NameId":"Barghest","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give two random friends +1 attack."},{"Level":2,"About":"Sell: Give two random friends +2 attack."},{"Level":3,"About":"Sell: Give two random friends +3 attack."}],"Id":"3","Name":"Beaver","NameId":"Beaver","Tier":1,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"4","Name":"Bee","NameId":"Bee","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Walnut perk to nearest friend behind."},{"Level":2,"About":"Start of battle: Give Walnut perk with double effect to nearest friend behind."},{"Level":3,"About":"Start of battle: Give Walnut perk with triple effect to nearest friend behind."}],"Id":"88","Name":"Beetle","NameId":"Beetle","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Give one random friend +1 attack."},{"Level":2,"About":"End turn: Give one random friend +2 attack."},{"Level":3,"About":"End turn: Give one random friend +3 attack."}],"Id":"89","Name":"Bluebird","NameId":"Bluebird","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Two enemy attacks: Deal 1 damage to the first enemy. Works 2 times per battle."},{"Level":2,"About":"Two enemy attacks: Deal 2 damage to the first enemy. Works 2 times per battle."},{"Level":3,"About":"Two enemy attacks: Deal 3 damage to the first enemy. Works 2 times per battle."}],"Id":"401","Name":"Bombus Dahlbomii","NameId":"BombusDahlbomii","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain the Popcorn perk and +1 health."},{"Level":2,"About":"Start of battle: Gain the Popcorn perk and +2 health."},{"Level":3,"About":"Start of battle: Gain the Popcorn perk and +3 health."}],"Id":"775","Name":"Budgie","NameId":"Budgie","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"After first attack: Gain +2 attack."},{"Level":2,"About":"After first attack: Gain +4 attack."},{"Level":3,"About":"After first attack: Gain +6 attack."}],"Id":"189","Name":"Bulldog","NameId":"Bulldog","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 health for each roll (max 2)."},{"Level":2,"About":"Start of battle: Gain +2 health for each roll (max 2)."},{"Level":3,"About":"Start of battle: Gain +3 health for each roll (max 2)."}],"Id":"601","Name":"Bunyip","NameId":"Bunyip","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"85","Name":"Bus","NameId":"Bus","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"13","Name":"Chick","NameId":"Chick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Push the most healthy enemy one space forward."},{"Level":2,"About":"Start of battle: Push the most healthy enemy two spaces forward."},{"Level":3,"About":"Start of battle: Push the most healthy enemy three spaces forward."}],"Id":"541","Name":"Chihuahua","NameId":"Chihuahua","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Summon one 2/2 level 1 Loyal Chinchilla."},{"Level":2,"About":"Sell: Summon one 4/4 level 2 Loyal Chinchilla."},{"Level":3,"About":"Sell: Summon one 6/6 level 3 Loyal Chinchilla."}],"Id":"161","Name":"Chinchilla","NameId":"Chinchilla","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Stock one free copy of this pet\'s food perk."},{"Level":2,"About":"Sell: Stock two free copies of this pet\'s food perk."},{"Level":3,"About":"Sell: Stock three free copies of this pet\'s food perk."}],"Id":"184","Name":"Chipmunk","NameId":"Chipmunk","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Pack4"],"PacksRequired":["Pack2","Pack4"],"Rollable":true,"CustomArchetypes":["Perks","Mvp"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Cockroach and give it +1 experience."},{"Level":2,"About":"Faint: Summon one 1/1 Cockroach and give it +2 experience."},{"Level":3,"About":"Faint: Summon one 1/1 Cockroach and give it +3 experience."}],"Id":"18","Name":"Cockroach","NameId":"Cockroach","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend behind +2 health."},{"Level":2,"About":"Start of battle: Give the nearest friend behind +4 health."},{"Level":3,"About":"Start of battle: Give the nearest friend behind +6 health."}],"Id":"272","Name":"Cone Snail","NameId":"ConeSnail","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Does not provide shop rewards on level-up."},{"Level":2,"About":"Does not provide shop rewards on level-up."},{"Level":3,"About":"Does not provide shop rewards on level-up."}],"Id":"710","Name":"Cooked Roach","NameId":"CockroachToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"647","Name":"Cracked Egg","NameId":"EggLadCracked","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Cricket."},{"Level":2,"About":"Faint: Summon one 2/2 Cricket."},{"Level":3,"About":"Faint: Summon one 3/3 Cricket."}],"Id":"17","Name":"Cricket","NameId":"Cricket","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Attack and health can\'t go over 1."},{"Level":2,"About":"Attack and health can\'t go over 1."},{"Level":3,"About":"Attack and health can\'t go over 1."}],"Id":"788","Name":"Cuckoo Chick","NameId":"CuckooBaby","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Choose one witch toy that breaks after 2 turns."},{"Level":2,"About":"Sell: Choose one witch toy that breaks after 4 turns."},{"Level":3,"About":"Sell: Choose one witch toy that breaks after 6 turns."}],"Id":"611","Name":"Cuddle Toad","NameId":"CuddleToad","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"641","Name":"Daycrawler","NameId":"DayCrawler","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"58","Name":"Dirty Rat","NameId":"RatToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give shop pets +1 health."},{"Level":2,"About":"Sell: Give shop pets +2 health."},{"Level":3,"About":"Sell: Give shop pets +3 health."}],"Id":"26","Name":"Duck","NameId":"Duck","Tier":1,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give left-most shop pet +2 health."},{"Level":2,"About":"Sell: Give left-most shop pet +4 health."},{"Level":3,"About":"Sell: Give left-most shop pet +6 health."}],"Id":"113","Name":"Duckling","NameId":"BabyDuck","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Remove 1 attack from the first enemy."},{"Level":2,"About":"Faint: Remove 1 attack from the first two enemies."},{"Level":3,"About":"Faint: Remove 1 attack from the first three enemies."}],"Id":"406","Name":"Ethiopian Wolf","NameId":"EthiopianWolf","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Takes 1 less damage. Works 2 times per turn."},{"Level":2,"About":"Takes 2 less damage. Works 2 times per turn."},{"Level":3,"About":"Takes 3 less damage. Works 2 times per turn."}],"Id":"408","Name":"Fan Mussel","NameId":"FanMussel","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Feed one Corncob to the nearest friend behind."},{"Level":2,"About":"Faint: Feed one Corncob to the nearest two friends behind."},{"Level":3,"About":"Faint: Feed one Corncob to the nearest three friends behind."}],"Id":"693","Name":"Farmer Mouse","NameId":"FarmerMouse","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Ferret toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Ferret toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Ferret toy."}],"Id":"172","Name":"Ferret","NameId":"Ferret","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"343","Name":"Fire Pup","NameId":"FirePup","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 1 damage to ALL pets within one space."},{"Level":2,"About":"Faint: Deal 1 damage to ALL pets within two spaces."},{"Level":3,"About":"Faint: Deal 1 damage to ALL pets within three spaces."}],"Id":"548","Name":"Firefly","NameId":"Firefly","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Level-up: Give two friends +1 attack and +1 health."},{"Level":2,"About":"Level-up: Give two friends +2 attack and +2 health."},{"Level":3,"About":"No ability."}],"Id":"32","Name":"Fish","NameId":"Fish","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +1 health per Faint friend."},{"Level":2,"About":"Start of battle: Gain +2 attack and +2 health per Faint friend."},{"Level":3,"About":"Start of battle: Gain +3 attack and +3 health per Faint friend."}],"Id":"198","Name":"Frilled Dragon","NameId":"FrilledDragon","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: If both adjacent friends are tier 2 or lower, swap their stats."},{"Level":2,"About":"Sell: If both adjacent friends are tier 4 or lower, swap their stats."},{"Level":3,"About":"Sell: If both adjacent friends are tier 6 or lower, swap their stats."}],"Id":"139","Name":"Frog","NameId":"Frog","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: If you have a toy, gain +2 health."},{"Level":2,"About":"Start of battle: If you have a toy, gain +4 health."},{"Level":3,"About":"Start of battle: If you have a toy, gain +6 health."}],"Id":"229","Name":"Gecko","NameId":"Gecko","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"644","Name":"Giant Eyes Dog","NameId":"GiantEyesDog","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Shop tier upgraded: Give the two nearest pets behind +1 health."},{"Level":2,"About":"Shop tier upgraded: Give the two nearest pets behind +2 health."},{"Level":3,"About":"Shop tier upgraded: Give the two nearest pets behind +3 health."}],"Id":"550","Name":"Gibbon","NameId":"Gibbon","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"648","Name":"Goat","NameId":"ChimeraGoat","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Always there for his friends!"},{"Level":2,"About":"Always there for his friends!"},{"Level":3,"About":"Always there for his friends!"}],"Id":"188","Name":"Golden Retriever","NameId":"GoldenRetriever","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give friends plenty of useful perks!"},{"Level":2,"About":"Start of battle: Give friends silly amounts of useful perks!"},{"Level":3,"About":"Start of battle: Give friends silly amounts of useful perks!"}],"Id":"658","Name":"Good Dog","NameId":"GoodDog","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 attack from the first enemy."},{"Level":2,"About":"Start of battle: Remove 2 attack from the first enemy."},{"Level":3,"About":"Start of battle: Remove 3 attack from the first enemy."}],"Id":"232","Name":"Goose","NameId":"Goose","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":7,"Health":13,"Abilities":[{"Level":1,"About":"Summoned: Deal 5 damage to ALL other pets."},{"Level":2,"About":"Summoned: Deal 10 damage to ALL other pets."},{"Level":3,"About":"Summoned: Deal 15 damage to ALL other pets."}],"Id":"335","Name":"Great One","NameId":"Cthulu","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Gain +1 trumpet."},{"Level":2,"About":"Faint: Gain +2 trumpets."},{"Level":3,"About":"Faint: Gain +3 trumpets."}],"Id":"233","Name":"Groundhog","NameId":"Groundhog","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack until next turn."},{"Level":2,"About":"Friend summoned: Give it +2 attack until next turn."},{"Level":3,"About":"Friend summoned: Give it +3 attack until next turn."}],"Id":"39","Name":"Horse","NameId":"Horse","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Give Strawberry perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Strawberry perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Strawberry perk to the three nearest friends behind."}],"Id":"138","Name":"Hummingbird","NameId":"Hummingbird","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Perks"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"643","Name":"Head","NameId":"HydraHead","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend transformed: Give it +1 to its highest stat until next turn."},{"Level":2,"About":"Friend transformed: Give it +2 to its highest stat until next turn."},{"Level":3,"About":"Friend transformed: Give it +3 to its highest stat until next turn."}],"Id":"417","Name":"Ili Pika","NameId":"IliPika","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Before battle: Transform into ANY useful level 1 pet from tier 1."},{"Level":2,"About":"Before battle: Transform into ANY useful level 1 pet from tier 2."},{"Level":3,"About":"Before battle: Transform into ANY useful level 1 pet from tier 3."}],"Id":"418","Name":"Iriomote Cat","NameId":"IriomoteCat","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +1 attack."},{"Level":2,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +2 attack."},{"Level":3,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +3 attack."}],"Id":"131","Name":"Kiwi","NameId":"Kiwi","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained perk: Gain +2 attack until next turn."},{"Level":2,"About":"Friendly gained perk: Gain +4 attack until next turn."},{"Level":3,"About":"Friendly gained perk: Gain +6 attack until next turn."}],"Id":"92","Name":"Ladybug","NameId":"Ladybug","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold next turn."},{"Level":2,"About":"Sell: Gain +2 gold next turn."},{"Level":3,"About":"Sell: Gain +3 gold next turn."}],"Id":"555","Name":"Lemming","NameId":"Lemming","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"650","Name":"Lion","NameId":"ChimeraLion","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"282","Name":"Lizard Tail","NameId":"LizardToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"183","Name":"Loyal Chinchilla","NameId":"ChinchillaToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Spend up to 1 gold and gain it back next turn."},{"Level":2,"About":"End turn: Spend up to 2 gold and gain it back next turn."},{"Level":3,"About":"End turn: Spend up to 3 gold and gain it back next turn."}],"Id":"239","Name":"Magpie","NameId":"Magpie","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Gain +1 health. Works 3 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Gain +2 health. Works 3 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Gain +3 health. Works 3 times per turn."}],"Id":"421","Name":"Malay Tapir","NameId":"MalayTapir","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Your next roll is free."},{"Level":2,"About":"Sell: Your next two rolls are free."},{"Level":3,"About":"Sell: Your next three rolls are free."}],"Id":"204","Name":"Marmoset","NameId":"Marmoset","Tier":1,"TierMax":2147483647,"Packs":["Pack3","Custom"],"PacksRequired":["Pack3","Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Attack for double damage."},{"Level":2,"About":"Attack for triple damage."},{"Level":3,"About":"Attack for quadruple damage."}],"Id":"384","Name":"Monty","NameId":"WhiteKillerRabbit","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Deal 1 damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 1 damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 1 damage to three random enemies."}],"Id":"47","Name":"Mosquito","NameId":"Mosquito","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give front-most friendly pet +2 attack."},{"Level":2,"About":"Start of battle: Give front-most friendly pet +4 attack."},{"Level":3,"About":"Start of battle: Give front-most friendly pet +6 attack."}],"Id":"141","Name":"Moth","NameId":"Moth","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Replace shop food with one free Apple."},{"Level":2,"About":"Sell: Replace shop food with one free Better Apple."},{"Level":3,"About":"Sell: Replace shop food with one free Best Apple."}],"Id":"48","Name":"Mouse","NameId":"Mouse","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend gained experience: Gain +1 attack until next turn."},{"Level":2,"About":"Friend gained experience: Gain +2 attack until next turn."},{"Level":3,"About":"Friend gained experience: Gain +3 attack until next turn."}],"Id":"362","Name":"Murmel","NameId":"Murloc","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Egg perk has regular effect."},{"Level":2,"About":"Egg perk has double effect."},{"Level":3,"About":"Egg perk has triple effect."}],"Id":"508","Name":"Nest","NameId":"Nest","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: If there are no friendly duplicates, gain +3 attack and +1 health."},{"Level":2,"About":"Start of battle: If there are no friendly duplicates, gain +6 attack and +2 health."},{"Level":3,"About":"Start of battle: If there are no friendly duplicates, gain +9 attack and +3 health."}],"Id":"757","Name":"Nudibranch","NameId":"Nudibranchs","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Give one random Faint pet in the shop +1 attack and +1 health."},{"Level":2,"About":"Sell: Give one random Faint pet in the shop +2 attack and +2 health."},{"Level":3,"About":"Sell: Give one random Faint pet in the shop +3 attack and +3 health."}],"Id":"187","Name":"Opossum","NameId":"Opossum","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Give one random friend +1 health."},{"Level":2,"About":"Buy: Give two random friends +1 health."},{"Level":3,"About":"Buy: Give three random friends +1 health."}],"Id":"51","Name":"Otter","NameId":"Otter","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Make adjacent perk-less pets Spooked."},{"Level":2,"About":"Faint: Make adjacent perk-less pets Spooked with double effect."},{"Level":3,"About":"Faint: Make adjacent perk-less pets Spooked with triple effect."}],"Id":"745","Name":"Peacock Spider","NameId":"PeacockSpider","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Gains mana: Gain 2 bonus mana. Works 2 times per turn."},{"Level":2,"About":"Gains mana: Gain 4 bonus mana. Works 2 times per turn."},{"Level":3,"About":"Gains mana: Gain 6 bonus mana. Works 2 times per turn."}],"Id":"627","Name":"Pengobble","NameId":"Pengobble","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 3 times per turn."}],"Id":"558","Name":"Pheasant","NameId":"Pheasant","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Perks"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 1 trumpet to deal 3 damage to one random enemy."},{"Level":2,"About":"Faint: Spend 1 trumpet to deal 3 damage to two random enemies."},{"Level":3,"About":"Faint: Spend 1 trumpet to deal 3 damage to three random enemies."}],"Id":"251","Name":"Pied Tamarin","NameId":"PiedTamarin","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"],"Random":true},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold."},{"Level":2,"About":"Sell: Gain +2 gold."},{"Level":3,"About":"Sell: Gain +3 gold."}],"Id":"59","Name":"Pig","NameId":"Pig","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Stock one free Bread Crumbs."},{"Level":2,"About":"Sell: Stock two free Bread Crumbs."},{"Level":3,"About":"Sell: Stock three free Bread Crumbs."}],"Id":"559","Name":"Pigeon","NameId":"Pigeon","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Stock one free Sleeping Pill."},{"Level":2,"About":"Sell: Stock two free Sleeping Pills."},{"Level":3,"About":"Sell: Stock three free Sleeping Pills."}],"Id":"149","Name":"Pillbug","NameId":"Pillbug","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give three random friends +1 attack and +1 health and remove this."},{"Level":2,"About":"Start of battle: Give three random friends +2 attack and +2 health and remove this."},{"Level":3,"About":"Start of battle: Give three random friends +3 attack and +3 health and remove this."}],"Id":"761","Name":"Pygmy Seahorse","NameId":"PygmySeahorse","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Choose one tier 1 food to stock at 1 gold."},{"Level":2,"About":"Sell: Choose one tier 1 food to stock at 1 gold. Stock two copies."},{"Level":3,"About":"Sell: Choose one tier 1 food to stock at 1 gold. Stock three copies."}],"Id":"704","Name":"Quoll","NameId":"Quoll","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Food","Perks"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"62","Name":"Ram","NameId":"Ram","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"638","Name":"Rock","NameId":"Rock","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Give it +1 health. Works 2 times per turn."},{"Level":2,"About":"Friend ahead hurt: Give it +2 health. Works 2 times per turn."},{"Level":3,"About":"Friend ahead hurt: Give it +3 health. Works 2 times per turn."}],"Id":"260","Name":"Silkmoth","NameId":"Silkmoth","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Sells for +2 gold extra, but lose 1 next turn."},{"Level":2,"About":"Sell: Sells for +4 gold extra, but lose 2 next turn."},{"Level":3,"About":"Sell: Sells for +6 gold extra, but lose 3 next turn."}],"Id":"566","Name":"Silverfish","NameId":"Silverfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"},{"Level":2,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"},{"Level":3,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"}],"Id":"71","Name":"Sloth","NameId":"Sloth","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"642","Name":"Smaller Slime","NameId":"SmallerSlime","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Smallest Slug."},{"Level":2,"About":"Faint: Summon one 2/2 Smallest Slug."},{"Level":3,"About":"Faint: Summon one 3/3 Smallest Slug."}],"Id":"270","Name":"Smaller Slug","NameId":"SlugToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"477","Name":"Smallest Slug","NameId":"SlugToken2","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"649","Name":"Snake","NameId":"ChimeraSnake","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Faint and summon one 4/2 Cracked Egg."},{"Level":2,"About":"Start of battle: Faint and summon one 8/4 Cracked Egg."},{"Level":3,"About":"Start of battle: Faint and summon one 12/6 Cracked Egg."}],"Id":"617","Name":"Sneaky Egg","NameId":"EggLadCovered","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Set attack to the current shop tier + 1."},{"Level":2,"About":"Start of turn: Set attack to the current shop tier + 2."},{"Level":3,"About":"Start of turn: Set attack to the current shop tier + 3."}],"Id":"571","Name":"Termite","NameId":"Termite","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give one random enemy +1 health."},{"Level":2,"About":"Faint: Give one random enemy +1 health."},{"Level":3,"About":"Faint: Give one random enemy +1 health."}],"Id":"713","Name":"Togian Babirusa","NameId":"TogianBabirusa","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Stock one free Seed Pile."},{"Level":2,"About":"Sell: Stock two free Seed Pile."},{"Level":3,"About":"Sell: Stock three free Seed Pile."}],"Id":"438","Name":"Tooth Billed Pigeon","NameId":"ToothBilledPigeon","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Jump to the front space and gain +1 experience."},{"Level":2,"About":"Start of battle: Jump to the front space and gain +2 experience."},{"Level":3,"About":"Start of battle: Jump to the front space and gain +3 experience."}],"Id":"379","Name":"Tsuchinoko","NameId":"Tsuchinoko","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Guard"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Make the nearest friend ahead Dazed."},{"Level":2,"About":"End turn: Make the two nearest friends ahead Dazed."},{"Level":3,"About":"End turn: Make the three nearest friends ahead Dazed."}],"Id":"746","Name":"Umbrella Bird","NameId":"LongWattledUmbrellabird","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Make one random perk-less enemy Toasty."},{"Level":2,"About":"Faint: Make two random perk-less enemies Toasty."},{"Level":3,"About":"Faint: Make three random perk-less enemies Toasty."}],"Id":"440","Name":"Volcano Snail","NameId":"VolcanoSnail","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friendly ate food: Give them +1 attack until next turn. Works 3 times per turn."},{"Level":2,"About":"Friendly ate food: Give them +2 attack until next turn. Works 3 times per turn."},{"Level":3,"About":"Friendly ate food: Give them +3 attack until next turn. Works 3 times per turn."}],"Id":"708","Name":"Weevil","NameId":"Weevil","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"646","Name":"Young Phoenix","NameId":"BabyPhoenix","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"86","Name":"Zombie Cricket","NameId":"CricketToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"31","Name":"Zombie Fly","NameId":"FlyToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Give three random friends +1 attack."},{"Level":2,"About":"Buy: Give three random friends +2 attack."},{"Level":3,"About":"Buy: Give three random friends +3 attack."}],"Id":"210","Name":"African Penguin","NameId":"AfricanPenguin","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Replace shop food with three random food and discount them by 1 gold."},{"Level":2,"About":"Sell: Replace shop food with three random food and discount them by 2 gold."},{"Level":3,"About":"Sell: Replace shop food with three random food and discount them by 3 gold."}],"Id":"686","Name":"Albino Squirrel","NameId":"AlbinoSquirrel","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the nearest friend ahead +1 attack on odd turns and +1 health on even."},{"Level":2,"About":"End turn: Give the nearest friend ahead +2 attack on odd turns and +2 health on even."},{"Level":3,"About":"End turn: Give the nearest friend ahead +3 attack on odd turns and +3 health on even."}],"Id":"811","Name":"Amphisbaena","NameId":"Amphisbaena","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Really angry!"},{"Level":2,"About":"Really angry!"},{"Level":3,"About":"Really angry!"}],"Id":"821","Name":"Angry Pygmy Hog","NameId":"AngryPygmyHog","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend jumped or transformed: Gain +3 health until next turn. Works 2 times per turn."},{"Level":2,"About":"Friend jumped or transformed: Gain +6 health until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend jumped or transformed: Gain +9 health until next turn. Works 2 times per turn."}],"Id":"394","Name":"Araripe Manakin","NameId":"AraripeManakin","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Guard"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Friendly attacked: Remove its Strawberry perk to deal 2 damage to the last enemy."},{"Level":2,"About":"Friendly attacked: Remove its Strawberry perk to deal 4 damage to the last enemy."},{"Level":3,"About":"Friendly attacked: Remove its Strawberry perk to deal 6 damage to the last enemy."}],"Id":"132","Name":"Atlantic Puffin","NameId":"AtlanticPuffin","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +1 experience."},{"Level":2,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +2 experience."},{"Level":3,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +3 experience."}],"Id":"537","Name":"Bass","NameId":"Bass","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Make one random enemy Weak. Works 1 time per battle."},{"Level":2,"About":"Before attack: Make one random enemy Weak. Works 2 times per battle."},{"Level":3,"About":"Before attack: Make one random enemy Weak. Works 3 times per battle."}],"Id":"87","Name":"Bat","NameId":"Bat","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/3 Dolphin in the back and give it Rice."},{"Level":2,"About":"Faint: Summon two 2/3 Dolphins in the back and give them Rice."},{"Level":3,"About":"Faint: Summon three 2/3 Dolphins in the back and give them Rice."}],"Id":"213","Name":"Beluga Sturgeon","NameId":"BelugaSturgeon","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Gain one free roll next turn."},{"Level":2,"About":"Faint: Gain two free rolls next turn."},{"Level":3,"About":"Faint: Gain three free rolls next turn."}],"Id":"334","Name":"Bigfoot","NameId":"Bigfoot","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend lost perk: Give it Garlic. Works 1 time per turn."},{"Level":2,"About":"Friend lost perk: Give it Garlic. Works 2 times per turn."},{"Level":3,"About":"Friend lost perk: Give it Garlic. Works 3 times per turn."}],"Id":"758","Name":"Bilby","NameId":"Bilby","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Gain +2 trumpets."},{"Level":2,"About":"Faint: Gain +4 trumpets."},{"Level":3,"About":"Faint: Gain +6 trumpets."}],"Id":"215","Name":"Black Necked Stilt","NameId":"BlackNeckedStilt","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Knock out: Give +1 health to one random friend. Triggers 2 times."},{"Level":2,"About":"Knock out: Give +1 health to one random friend. Triggers 4 times."},{"Level":3,"About":"Knock out: Give +1 health to one random friend. Triggers 6 times."}],"Id":"339","Name":"Chupacabra","NameId":"Chupacabra","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain health equal to 25% of the most healthy friend."},{"Level":2,"About":"Start of battle: Gain health equal to 50% of the most healthy friend."},{"Level":3,"About":"Start of battle: Gain health equal to 75% of the most healthy friend."}],"Id":"16","Name":"Crab","NameId":"Crab","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 1 time per battle."},{"Level":2,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 2 times per battle."},{"Level":3,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 3 times per battle."}],"Id":"404","Name":"Darwin\'s Fox","NameId":"DarwinsFox","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from one tier above."},{"Level":2,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from two tiers above."},{"Level":3,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from three tiers above."}],"Id":"768","Name":"Desert Rain Frog","NameId":"DesertRainFrog","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +4 health in battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +8 health in battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +12 health in battle."}],"Id":"220","Name":"Door Head Ant","NameId":"DoorHeadAnt","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Activate three friendly Strawberries."},{"Level":2,"About":"Faint: Activate three friendly Strawberries with double effect."},{"Level":3,"About":"Faint: Activate three friendly Strawberries with triple effect."}],"Id":"24","Name":"Dove","NameId":"Dove","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give the two left-most shop pets +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give the two left-most shop pets +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give the two left-most shop pets +3 attack and +3 health."}],"Id":"104","Name":"Dromedary","NameId":"Dromedary","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and deal 3 damage to the last enemy in battle."},{"Level":2,"About":"Empty front space: Jump to the front and deal 6 damage to the last enemy in battle."},{"Level":3,"About":"Empty front space: Jump to the front and deal 9 damage to the last enemy in battle."}],"Id":"341","Name":"Drop Bear","NameId":"DropBear","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 1 gold."},{"Level":2,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 2 gold."},{"Level":3,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 3 gold."}],"Id":"545","Name":"Dumbo Octopus","NameId":"DumboOctopus","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to the least healthy enemy for each food eaten this turn, up to 3 food."},{"Level":2,"About":"Faint: Deal 6 damage to the least healthy enemy for each food eaten this turn, up to 3 food."},{"Level":3,"About":"Faint: Deal 9 damage to the least healthy enemy for each food eaten this turn, up to 3 food."}],"Id":"721","Name":"Dung Beetle","NameId":"DungBeetle","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption","Food"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Give adjacent friends +1 attack. Works 5 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Give adjacent friends +2 attack. Works 5 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Give adjacent friends +3 attack. Works 5 times per turn."}],"Id":"407","Name":"European Mink","NameId":"EuropeanMink","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Feed one Corncob to the nearest friend ahead."},{"Level":2,"About":"End turn: Feed one Corncob to the nearest two friends ahead."},{"Level":3,"About":"End turn: Feed one Corncob to the nearest three friends ahead."}],"Id":"690","Name":"Farmer Chicken","NameId":"FarmerChicken","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Give the two nearest friends behind +1 attack and +1 health."},{"Level":2,"About":"Faint: Give the two nearest friends behind +2 attack and +2 health."},{"Level":3,"About":"Faint: Give the two nearest friends behind +3 attack and +3 health."}],"Id":"29","Name":"Flamingo","NameId":"Flamingo","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friend gained ailment: Give it Rice. Works 1 time per turn."},{"Level":2,"About":"Friend gained ailment: Give it Rice. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Give it Rice. Works 3 times per turn."}],"Id":"137","Name":"Frigatebird","NameId":"Frigatebird","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Make the first enemy Cold."},{"Level":2,"About":"Faint: Make the first enemy Cold twice for double effect."},{"Level":3,"About":"Faint: Make the first enemy Cold thrice for triple effect."}],"Id":"344","Name":"Frost Wolf","NameId":"FrostWolf","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +5 damage, once.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 2 damage to it."},{"Level":2,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 4 damage to it."},{"Level":3,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 6 damage to it."}],"Id":"695","Name":"Fruit Fly","NameId":"FruitFly","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give the nearest friend behind +2 health. Spend mana to give 1 more per mana."},{"Level":2,"About":"Faint: Give the nearest friend behind +4 health. Spend mana to give 2 more per mana."},{"Level":3,"About":"Faint: Give the nearest friend behind +6 health. Spend mana to give 3 more per mana."}],"Id":"345","Name":"Gargoyle","NameId":"Gargoyle","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Takes 3 less damage from abilities."},{"Level":2,"About":"Takes 6 less damage from abilities."},{"Level":3,"About":"Takes 9 less damage from abilities."}],"Id":"346","Name":"Ghost Kitten","NameId":"GhostKitten","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 1 time per battle."},{"Level":2,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 2 times per battle."},{"Level":3,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 3 times per battle."}],"Id":"800","Name":"Giant Squirrel","NameId":"GiantSquirrel","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Increase sell value by 1 gold."},{"Level":2,"About":"Start of turn: Increase sell value by 2 gold."},{"Level":3,"About":"Start of turn: Increase sell value by 3 gold."}],"Id":"121","Name":"Gold Fish","NameId":"GoldFish","Tier":2,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold. Triple if attack is at least 10."},{"Level":2,"About":"Sell: Gain +2 gold. Triple if attack is at least 10."},{"Level":3,"About":"Sell: Gain +3 gold. Triple if attack is at least 10."}],"Id":"634","Name":"Golden Beetle","NameId":"DwarvenBeetle","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Cycle","Gold"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Summon one 1/1 Guinea Pig."},{"Level":2,"About":"Buy: Summon one 2/2 Guinea Pig."},{"Level":3,"About":"Buy: Summon one 3/3 Guinea Pig."}],"Id":"109","Name":"Guinea Pig","NameId":"GuineaPig","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 2 damage to ALL pets."},{"Level":2,"About":"Faint: Deal 4 damage to ALL pets."},{"Level":3,"About":"Faint: Deal 6 damage to ALL pets."}],"Id":"37","Name":"Hedgehog","NameId":"Hedgehog","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Sell: Give friends +1 attack for each battle this has fought evenly spread."},{"Level":2,"About":"Sell: Give friends +2 attack for each battle this has fought evenly spread."},{"Level":3,"About":"Sell: Give friends +3 attack for each battle this has fought evenly spread."}],"Id":"234","Name":"Hercules Beetle","NameId":"HerculesBeetle","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: If current perk is tier 2 or lower, copy it to the Golden Retriever when summoned."},{"Level":2,"About":"Start of battle: If current perk is tier 4 or lower, copy it to the Golden Retriever when summoned."},{"Level":3,"About":"Start of battle: If current perk is tier 6 or lower, copy it to the Golden Retriever when summoned."}],"Id":"783","Name":"Hermit Crab","NameId":"HermitCrab","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for one friend of each tier."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for one friend of each tier."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for one friend of each tier."}],"Id":"726","Name":"Honduran White Bat","NameId":"HonduranWhiteBat","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Enemy summoned or pushed: Deal 2 damage to it."},{"Level":2,"About":"Enemy summoned or pushed: Deal 4 damage to it."},{"Level":3,"About":"Enemy summoned or pushed: Deal 6 damage to it."}],"Id":"147","Name":"Iguana","NameId":"Iguana","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it +1 attack. Double if it jumped. Works 3 times per battle."},{"Level":2,"About":"Before friend attacks: Give it +2 attack. Double if it jumped. Works 3 times per battle."},{"Level":3,"About":"Before friend attacks: Give it +3 attack. Double if it jumped. Works 3 times per battle."}],"Id":"353","Name":"Jackalope","NameId":"Jackalope","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend level-up: Gain +1 attack and +1 health."},{"Level":2,"About":"Friend level-up: Gain +2 attack and +2 health."},{"Level":3,"About":"Friend level-up: Gain +3 attack and +3 health."}],"Id":"122","Name":"Jellyfish","NameId":"Jellyfish","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Gain +1 attack and +1 health."},{"Level":2,"About":"Friend ahead attacks: Gain +2 attack and +2 health."},{"Level":3,"About":"Friend ahead attacks: Gain +3 attack and +3 health."}],"Id":"40","Name":"Kangaroo","NameId":"Kangaroo","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Friend hurt: Give it the Eucalyptus perk. Works 1 time per turn."},{"Level":2,"About":"Friend hurt: Give it the Eucalyptus perk. Works 2 times per turn."},{"Level":3,"About":"Friend hurt: Give it the Eucalyptus perk. Works 3 times per turn."}],"Id":"112","Name":"Koala","NameId":"Koala","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Lemur toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Lemur toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Lemur toy."}],"Id":"236","Name":"Lemur","NameId":"Lemur","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Summon one 3/1 Lizard Tail. Works 2 times per turn."},{"Level":2,"About":"Hurt: Summon one 6/2 Lizard Tail. Works 2 times per turn."},{"Level":3,"About":"Hurt: Summon one 9/3 Lizard Tail. Works 2 times per turn."}],"Id":"237","Name":"Lizard","NameId":"Lizard","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: Replace own ailment with +2 attack and +2 health."},{"Level":2,"About":"Before attack: Replace own ailment with +4 attack and +4 health."},{"Level":3,"About":"Before attack: Replace own ailment with +6 attack and +6 health."}],"Id":"724","Name":"Mandarinfish","NameId":"Mandarinfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Break friendly tier 2 or lower toy."},{"Level":2,"About":"Faint: Break friendly tier 4 or lower toy."},{"Level":3,"About":"Faint: Break friendly tier 6 or lower toy."}],"Id":"405","Name":"Mandrill","NameId":"Drill","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give adjacent friends +1 attack for every 4 gold spent this turn."},{"Level":2,"About":"Start of battle: Give adjacent friends +2 attack for every 4 gold spent this turn."},{"Level":3,"About":"Start of battle: Give adjacent friends +3 attack for every 4 gold spent this turn."}],"Id":"203","Name":"Meerkat","NameId":"Meerkat","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Gain ANY useful perk from the previous tier."},{"Level":2,"About":"Start of battle: Gain ANY useful perk from the previous tier with double effect."},{"Level":3,"About":"Start of battle: Gain ANY useful perk from the previous tier with triple effect."}],"Id":"700","Name":"Mink","NameId":"Mink","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Anyone gained ailment: Gain +1 attack and +1 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Anyone gained ailment: Gain +2 attack and +2 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Anyone gained ailment: Gain +3 attack and +3 health until next turn. Works 5 times per turn."}],"Id":"604","Name":"Mothman","NameId":"Mothman","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon one Crawler with 3 attack, and +1 health for each friend summoned this turn."},{"Level":2,"About":"Faint: Summon one Crawler with 6 attack, and +2 health for each friend summoned this turn."},{"Level":3,"About":"Faint: Summon one Crawler with 9 attack, and +3 health for each friend summoned this turn."}],"Id":"605","Name":"Nightcrawler","NameId":"NightCrawler","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +1 experience."},{"Level":2,"About":"Start of battle: Give the two front-most friends +1 experience."},{"Level":3,"About":"Start of battle: Give the three front-most friends +1 experience."}],"Id":"639","Name":"Ogopogo","NameId":"Ogopogo","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Make one random enemy Spooked and multiply the effect once for each roll this turn."},{"Level":2,"About":"Faint: Make one random enemy Spooked and multiply the effect twice for each roll this turn."},{"Level":3,"About":"Faint: Make one random enemy Spooked and multiply the effect thrice for each roll this turn."}],"Id":"725","Name":"Olm","NameId":"Olm","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments","Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Faint to give 50% attack and health to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Faint to give 100% attack and health to the nearest friend ahead."},{"Level":3,"About":"Start of battle: Faint to give 150% attack and health to the nearest friend ahead."}],"Id":"107","Name":"Panda","NameId":"Panda","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Hurt: Gain +3 attack."},{"Level":2,"About":"Hurt: Gain +6 attack."},{"Level":3,"About":"Hurt: Gain +9 attack."}],"Id":"54","Name":"Peacock","NameId":"Peacock","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Activate <b>End Turn</b> on one random tier 2 or lower friend."},{"Level":2,"About":"Faint: Activate <b>End Turn</b> on one random tier 4 or lower friend."},{"Level":3,"About":"Faint: Activate <b>End Turn</b> on one random tier 6 or lower friend."}],"Id":"732","Name":"Pink Robin","NameId":"PinkRobin","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Transform the nearest friend ahead into another pet from the same tier."},{"Level":2,"About":"Start of turn: Transform the nearest two friends ahead into other pets from the same tier."},{"Level":3,"About":"Start of turn: Transform the nearest three friends ahead into other pets from the same tier."}],"Id":"425","Name":"Proboscis Monkey","NameId":"ProboscisMonkey","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 5 attack and health."},{"Level":2,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 10 attack and health."},{"Level":3,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 15 attack and health."}],"Id":"427","Name":"Pygmy Hog","NameId":"PygmyHog","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":["Transform","Summon"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Dirty Rat up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."},{"Level":2,"About":"Faint: Summon two 1/1 Dirty Rats up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."},{"Level":3,"About":"Faint: Summon three 1/1 Dirty Rats up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."}],"Id":"57","Name":"Rat","NameId":"Rat","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give Strawberry perk and +2 attack to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Give Strawberry perk and +2 attack to the two nearest friends ahead."},{"Level":3,"About":"Start of battle: Give Strawberry perk and +2 attack to the three nearest friends ahead."}],"Id":"765","Name":"Roadrunner","NameId":"Roadrunner","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 2/3 level 1 Nest and give it Egg perk."},{"Level":2,"About":"Start of battle: Summon one 4/6 level 2 Nest and give it Egg perk."},{"Level":3,"About":"Start of battle: Summon one 6/9 level 3 Nest and give it Egg perk."}],"Id":"255","Name":"Robin","NameId":"Robin","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before attack: Deal 2 damage to target, once.","CustomArchetypes":["Cycle"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: If outnumbered, gain +2 attack and +2 health. Works 3 times per turn."},{"Level":2,"About":"Before attack: If outnumbered, gain +4 attack and +4 health. Works 3 times per turn."},{"Level":3,"About":"Before attack: If outnumbered, gain +6 attack and +6 health. Works 3 times per turn."}],"Id":"430","Name":"Saker Falcon","NameId":"SakerFalcon","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +1 health for each level of each Sell friend."},{"Level":2,"About":"Start of battle: Gain +2 attack and +2 health for each level of each Sell friend."},{"Level":3,"About":"Start of battle: Gain +3 attack and +3 health for each level of each Sell friend."}],"Id":"164","Name":"Salamander","NameId":"Salamander","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the highest attack friend -1 attack and +2 health."},{"Level":2,"About":"End turn: Give the two highest attack friends -1 attack and +2 health."},{"Level":3,"About":"End turn: Give the three highest attack friends -1 attack and +2 health."}],"Id":"431","Name":"Saola","NameId":"Saola","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +2 health until next turn."},{"Level":2,"About":"Friend summoned: Give it +4 health until next turn."},{"Level":3,"About":"Friend summoned: Give it +6 health until next turn."}],"Id":"191","Name":"Sea Turtle","NameId":"SeaTurtle","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Remove 5 health from the first enemy."},{"Level":2,"About":"Faint: Remove 5 health from the first two enemies."},{"Level":3,"About":"Faint: Remove 5 health from the first three enemies."}],"Id":"258","Name":"Sea Urchin","NameId":"SeaUrchin","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Push the last enemy one space forward."},{"Level":2,"About":"Start of battle: Push the last enemy two spaces forward."},{"Level":3,"About":"Start of battle: Push the last enemy three spaces forward."}],"Id":"152","Name":"Seahorse","NameId":"Seahorse","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend faints: If it had a Strawberry, summon one 2/2 friend in its place. Works 2 times per turn."},{"Level":2,"About":"Friend faints: If it had a Strawberry, summon one 4/4 friend in its place. Works 2 times per turn."},{"Level":3,"About":"Friend faints: If it had a Strawberry, summon one 6/6 friend in its place. Works 2 times per turn."}],"Id":"803","Name":"Shima Enaga","NameId":"ShimaEnaga","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend sold: Give one random friend +1 health. Works 3 times per turn."},{"Level":2,"About":"Friend sold: Give one random friend +2 health. Works 3 times per turn."},{"Level":3,"About":"Friend sold: Give one random friend +3 health. Works 3 times per turn."}],"Id":"67","Name":"Shrimp","NameId":"Shrimp","Tier":2,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: If you lost last battle, give the three nearest friends ahead +1 attack."},{"Level":2,"About":"End turn: If you lost last battle, give the three nearest friends ahead +2 attack."},{"Level":3,"About":"End turn: If you lost last battle, give the three nearest friends ahead +3 attack."}],"Id":"72","Name":"Snail","NameId":"Snail","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 adventurous toy."},{"Level":2,"About":"Buy: Choose one level 2 adventurous toy."},{"Level":3,"About":"Buy: Choose one level 3 adventurous toy."}],"Id":"376","Name":"Sphinx","NameId":"Sphinx","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one tier 3 pet as a 2/2 level 1."},{"Level":2,"About":"Faint: Summon one tier 3 pet as a 4/4 level 2."},{"Level":3,"About":"Faint: Summon one tier 3 pet as a 6/6 level 3."}],"Id":"74","Name":"Spider","NameId":"Spider","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Stock one random canned ailment."},{"Level":2,"About":"Start of turn: Stock two random canned ailments to choose from."},{"Level":3,"About":"Start of turn: Stock three random canned ailments to choose from."}],"Id":"735","Name":"Spotted Handfish","NameId":"SpottedHandfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 1 trumpet to make the first enemy Inked."},{"Level":2,"About":"Faint: Spend 1 trumpet to make the two first enemies Inked."},{"Level":3,"About":"Faint: Spend 1 trumpet to make the three first enemies Inked."}],"Id":"177","Name":"Squid","NameId":"Squid","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Summon one level 1 pet from your current tier as a 1/1."},{"Level":2,"About":"Sell: Summon one level 2 pet from your current tier as a 1/1."},{"Level":3,"About":"Sell: Summon one level 3 pet from your current tier as a 1/1."}],"Id":"263","Name":"Stoat","NameId":"Stoat","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle","Mvp"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon ANY one level 1 pet from the previous shop tier as a 2/2."},{"Level":2,"About":"Faint: Summon ANY one level 2 pet from the previous shop tier as a 4/4."},{"Level":3,"About":"Faint: Summon ANY one level 3 pet from the previous shop tier as a 6/6."}],"Id":"136","Name":"Stork","NameId":"Stork","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Gain +1 gold."},{"Level":2,"About":"Start of turn: Gain +2 gold."},{"Level":3,"About":"Start of turn: Gain +3 gold."}],"Id":"76","Name":"Swan","NameId":"Swan","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained perk: Give two random friends +1 health until next turn."},{"Level":2,"About":"Friendly gained perk: Give two random friends +2 health until next turn."},{"Level":3,"About":"Friendly gained perk: Give two random friends +3 health until next turn."}],"Id":"99","Name":"Tabby Cat","NameId":"TabbyCat","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform into a level 1 Frog and gain +2 experience."},{"Level":2,"About":"Start of battle: Transform into a level 1 Frog and gain +4 experience."},{"Level":3,"About":"Start of battle: Transform into a level 1 Frog and gain +6 experience."}],"Id":"805","Name":"Tadpole","NameId":"Tadpole","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Transform","Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform into a level 1 Weasel."},{"Level":2,"About":"Start of battle: Transform into a level 2 Weasel."},{"Level":3,"About":"Start of battle: Transform into a level 3 Weasel."}],"Id":"435","Name":"Taita Shrew","NameId":"TaitaShrew","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Gold"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/2 African Wild Dog that jump-attacks the second enemy."},{"Level":2,"About":"Faint: Summon one 6/4 African Wild Dog that jump-attacks the second enemy."},{"Level":3,"About":"Faint: Summon one 9/6 African Wild Dog that jump-attacks the second enemy."}],"Id":"715","Name":"Takhi","NameId":"Takhi","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to one random enemy and prioritize those with ailments."},{"Level":2,"About":"Faint: Deal 6 damage to one random enemy and prioritize those with ailments."},{"Level":3,"About":"Faint: Deal 9 damage to one random enemy and prioritize those with ailments."}],"Id":"731","Name":"Thorny Dragon","NameId":"ThornyDragon","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the second nearest friend ahead +3 mana."},{"Level":2,"About":"Start of battle: Give the second nearest friend ahead +6 mana."},{"Level":3,"About":"Start of battle: Give the second nearest friend ahead +9 mana."}],"Id":"610","Name":"Thunderbird","NameId":"Thunderbird","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Summon one level 1 Microwave Oven."},{"Level":2,"About":"Start of turn: Summon one level 2 Microwave Oven."},{"Level":3,"About":"Start of turn: Summon one level 3 Microwave Oven."}],"Id":"707","Name":"Vervet","NameId":"Vervet","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Toys","Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Gains mana: Deal 1 damage to one random enemy. Triple on the first trigger each battle."},{"Level":2,"About":"Gains mana: Deal 2 damage to one random enemy. Triple on the first trigger each battle."},{"Level":3,"About":"Gains mana: Deal 3 damage to one random enemy. Triple on the first trigger each battle."}],"Id":"382","Name":"Warf","NameId":"Warg","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"],"Random":true},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Meat Bone to the friend ahead."},{"Level":2,"About":"Start of battle: Give Meat Bone to the friend ahead with double effect."},{"Level":3,"About":"Start of battle: Give Meat Bone to the friend ahead with triple effect."}],"Id":"441","Name":"White-Bellied Heron","NameId":"WhiteBelliedHeron","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 1."},{"Level":2,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 2."},{"Level":3,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 3."}],"Id":"207","Name":"Wombat","NameId":"Wombat","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Stock one 2-gold Apple."},{"Level":2,"About":"Start of turn: Stock one 2-gold Better Apple."},{"Level":3,"About":"Start of turn: Stock one 2-gold Best Apple."}],"Id":"82","Name":"Worm","NameId":"Worm","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friendly level-up: Gain 1 extra shop reward."},{"Level":2,"About":"Friendly level-up: Gain 2 extra shop reward."},{"Level":3,"About":"Friendly level-up: Gain 3 extra shop reward."}],"Id":"385","Name":"Wyvern","NameId":"Wyvern","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Take 1 damage and gain +2 attack."},{"Level":2,"About":"End turn: Take 2 damage and gain +4 attack."},{"Level":3,"About":"End turn: Take 3 damage and gain +6 attack."}],"Id":"163","Name":"Yak","NameId":"Yak","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Enemy summoned: Gain +1 attack and +3 health."},{"Level":2,"About":"Enemy summoned: Gain +2 attack and +6 health."},{"Level":3,"About":"Enemy summoned: Gain +3 attack and +9 health."}],"Id":"193","Name":"Aardvark","NameId":"Aardvark","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack permanently and jump-attack the highest attack enemy."},{"Level":2,"About":"Start of battle: Gain +2 attack permanently and jump-attack the highest attack enemy."},{"Level":3,"About":"Start of battle: Gain +3 attack permanently and jump-attack the highest attack enemy."}],"Id":"389","Name":"Amami Rabbit","NameId":"AmamiRabbit","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 level 3 Ant."},{"Level":2,"About":"Faint: Summon two 1/1 level 3 Ants."},{"Level":3,"About":"Faint: Summon three 1/1 level 3 Ants."}],"Id":"105","Name":"Anteater","NameId":"Anteater","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Before any attack: If opponent has duplicates, deal 2 damage to all enemies. Works 1 time per battle."},{"Level":2,"About":"Before any attack: If opponent has duplicates, deal 4 damage to all enemies. Works 1 time per battle."},{"Level":3,"About":"Before any attack: If opponent has duplicates, deal 6 damage to all enemies. Works 1 time per battle."}],"Id":"377","Name":"Axehandle Hound","NameId":"AxehandleHound","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Give one random friend from the current or higher shop tier +1 attack and +1 health."},{"Level":2,"About":"End turn: Give one random friend from the current or higher shop tier +2 attack and +2 health."},{"Level":3,"About":"End turn: Give one random friend from the current or higher shop tier +3 attack and +3 health."}],"Id":"171","Name":"Baboon","NameId":"Baboon","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Remove 4 health from the first enemy."},{"Level":2,"About":"Faint: Remove 4 health from the first two enemies."},{"Level":3,"About":"Faint: Remove 4 health from the first three enemies."}],"Id":"822","Name":"Baby Urchin","NameId":"BabySeaUrchin","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 50% attack damage to adjacent pets."},{"Level":2,"About":"Faint: Deal 100% attack damage to adjacent pets."},{"Level":3,"About":"Faint: Deal 150% attack damage to adjacent pets."}],"Id":"2","Name":"Badger","NameId":"Badger","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"End turn: If you did not roll this turn, gain +1 experience."},{"Level":2,"About":"End turn: If you did not roll this turn, gain +2 experience."},{"Level":3,"About":"End turn: If you did not roll this turn, gain +3 experience."}],"Id":"796","Name":"Barnacle","NameId":"Barnacle","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Levels"],"Random":true},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health."},{"Level":2,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health. Double on friendly pets."},{"Level":3,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health. Triple on friendly pets."}],"Id":"332","Name":"Basilisk","NameId":"Basilisk","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Transform","Disruption"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Honey perk to all pets within one space."},{"Level":2,"About":"Faint: Give Honey perk to all pets within two spaces."},{"Level":3,"About":"Faint: Give Honey perk to all pets within three spaces."}],"Id":"140","Name":"Bear","NameId":"Bear","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Faint: Summon one 1/1 Bee.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend lost perk: Give it the Guava perk. Works on one friend per turn."},{"Level":2,"About":"Friend lost perk: Give it the Guava perk. Works on two different friends per turn."},{"Level":3,"About":"Friend lost perk: Give it the Guava perk. Works on three different friends per turn."}],"Id":"214","Name":"Betta Fish","NameId":"BettaFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 3 damage, and attack for +3 damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for each friend behind and give friends ahead +1 mana."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for each friend behind and give friends ahead +2 mana."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for each friend behind and give friends ahead +3 mana."}],"Id":"728","Name":"Blue Dragon","NameId":"GlaucusAtlanticus","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4","Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Trumpets"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend transformed: If it is ahead, give it +3 attack until next turn. Otherwise give health."},{"Level":2,"About":"Friend transformed: If it is ahead, give it +6 attack until next turn. Otherwise give health."},{"Level":3,"About":"Friend transformed: If it is ahead, give it +9 attack until next turn. Otherwise give health."}],"Id":"400","Name":"Blue-Throated Macaw","NameId":"BlueThroatedMacaw","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +2 attack and Melon perk in battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +4 attack and Melon perk in battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +6 attack and Melon perk in battle."}],"Id":"349","Name":"Brain Cramp","NameId":"Headcrab","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Guard","Perks"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Randomly redistribute stats of the highest health enemy."},{"Level":2,"About":"Start of battle: Randomly redistribute stats of the two highest health enemies."},{"Level":3,"About":"Start of battle: Randomly redistribute stats of the three highest health enemies."}],"Id":"798","Name":"Brazillian Treehopper","NameId":"BrazillianTreehopper","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before friend attacks: Replace 3 mana on it with +2 attack and +2 health."},{"Level":2,"About":"Before friend attacks: Replace 3 mana on it with +4 attack and +4 health."},{"Level":3,"About":"Before friend attacks: Replace 3 mana on it with +6 attack and +6 health."}],"Id":"786","Name":"Caladrius","NameId":"Caladrius","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Spend mana to remove 1 health per mana from the two most healthy enemies."},{"Level":2,"About":"Faint: Spend mana to remove 2 health per mana from the two most healthy enemies."},{"Level":3,"About":"Faint: Spend mana to remove 3 health per mana from the two most healthy enemies."}],"Id":"336","Name":"Calygreyhound","NameId":"Calygreyhound","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Give the nearest friend behind +1 attack and +2 health."},{"Level":2,"About":"Hurt: Give the nearest friend behind +2 attack and +4 health."},{"Level":3,"About":"Hurt: Give the nearest friend behind +3 attack and +6 health."}],"Id":"10","Name":"Camel","NameId":"Camel","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Roll & Sell: Give newly rolled shop pets +1 attack and +1 health."},{"Level":2,"About":"Roll & Sell: Give newly rolled shop pets +2 attack and +2 health."},{"Level":3,"About":"Roll & Sell: Give newly rolled shop pets +3 attack and +3 health."}],"Id":"154","Name":"Capybara","NameId":"Capybara","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 1 gold.","FinePrint":"Skips over perks from locked tiers."},{"Level":2,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 2 gold.","FinePrint":"Skips over perks from locked tiers."},{"Level":3,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 3 gold.","FinePrint":"Skips over perks from locked tiers."}],"Id":"539","Name":"Cardinal","NameId":"Cardinal","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained strawberry: Gain +1 health. Also gain +1 attack until next turn."},{"Level":2,"About":"Friendly gained strawberry: Gain +2 health. Also gain +2 attack until next turn."},{"Level":3,"About":"Friendly gained strawberry: Gain +3 health. Also gain +3 attack until next turn."}],"Id":"133","Name":"Cassowary","NameId":"Cassowary","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend bought: Gain +1 attack and +1 health times its tier until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend bought: Gain +2 attack and +2 health times its tier until next turn. Works 1 time per turn."},{"Level":3,"About":"Friend bought: Gain +3 attack and +3 health times its tier until next turn. Works 1 time per turn."}],"Id":"540","Name":"Centipede","NameId":"Centipede","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Knock out the nearest friend ahead and stock one free Bacon."},{"Level":2,"About":"End turn: Knock out the nearest friend ahead and stock two free Bacons."},{"Level":3,"About":"End turn: Knock out the nearest friend ahead and stock three free Bacons."}],"Id":"651","Name":"Deer Lord","NameId":"Wendigo","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 5/5 friend if able. Otherwise give friends +1 attack and +1 health."},{"Level":2,"About":"Start of battle: Summon one 10/10 friend if able. Otherwise give friends +2 attack and +2 health."},{"Level":3,"About":"Start of battle: Summon one 15/15 friend if able. Otherwise give friends +3 attack and +3 health."}],"Id":"543","Name":"Dimetrodon","NameId":"Dimetrodon","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give 50% of attack to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Give 100% of attack to the nearest friend ahead."},{"Level":3,"About":"Start of battle: Give 150% of attack to the nearest friend ahead."}],"Id":"21","Name":"Dodo","NameId":"Dodo","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Gain +2 attack and +1 health until next turn."},{"Level":2,"About":"Friend summoned: Gain +4 attack and +2 health until next turn."},{"Level":3,"About":"Friend summoned: Gain +6 attack and +3 health until next turn."}],"Id":"22","Name":"Dog","NameId":"Dog","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal 4 damage to the lowest health enemy."},{"Level":2,"About":"Start of battle: Deal 4 damage to the lowest health enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 4 damage to the lowest health enemy. Triggers 3 times."}],"Id":"23","Name":"Dolphin","NameId":"Dolphin","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give friends that aren\'t from your pack +2 attack and +2 health."},{"Level":2,"About":"Faint: Give friends that aren\'t from your pack +4 attack and +4 health."},{"Level":3,"About":"Faint: Give friends that aren\'t from your pack +6 attack and +6 health."}],"Id":"544","Name":"Dugong","NameId":"Dugong","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Gain +50% health."},{"Level":2,"About":"Start of battle: Gain +100% health."},{"Level":3,"About":"Start of battle: Gain +150% health."}],"Id":"120","Name":"Eel","NameId":"Eel","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"After attack: Deal 1 damage to the nearest friend behind."},{"Level":2,"About":"After attack: Deal 1 damage to the nearest friend behind. Triggers 2 times."},{"Level":3,"About":"After attack: Deal 1 damage to the nearest friend behind. Triggers 3 times."}],"Id":"28","Name":"Elephant","NameId":"Elephant","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Sell: Give 33% attack and health to the leftmost shop pet."},{"Level":2,"About":"Sell: Give 66% attack and health to the leftmost shop pet."},{"Level":3,"About":"Sell: Give 100% attack and health to the leftmost shop pet."}],"Id":"197","Name":"Emperor Tamarin","NameId":"EmperorTamarin","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Feed adjacent friends one Corncob with double effect."},{"Level":2,"About":"Start of battle: Feed adjacent friends two Corncobs with double effect."},{"Level":3,"About":"Start of battle: Feed adjacent friends three Corncobs with double effect."}],"Id":"694","Name":"Farmer Pig","NameId":"FarmerPig","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Make the most healthy enemy Weak."},{"Level":2,"About":"Faint: Make the two most healthy enemies Weak."},{"Level":3,"About":"Faint: Make the three most healthy enemies Weak."}],"Id":"225","Name":"Flea","NameId":"Flea","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments","Mvp"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: If in battle, give it +2 experience. Works 2 times per turn."},{"Level":2,"About":"Friend summoned: If in battle, give it +4 experience. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: If in battle, give it +6 experience. Works 2 times per turn."}],"Id":"226","Name":"Flying Fish","NameId":"FlyingFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friendly toy broke: Gain +2 attack and re-summon the toy at up to level 1."},{"Level":2,"About":"Friendly toy broke: Gain +4 attack and re-summon the toy at up to level 2."},{"Level":3,"About":"Friendly toy broke: Gain +6 attack and re-summon the toy at up to level 3."}],"Id":"227","Name":"Flying Squirrel","NameId":"FlyingSquirrel","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Buy: Give future shop pets from the next tier permanent +2 health."},{"Level":2,"About":"Buy: Give future shop pets from the next tier permanent +4 health."},{"Level":3,"About":"Buy: Give future shop pets from the next tier permanent +6 health."}],"Id":"625","Name":"Foo Dog","NameId":"FuLion","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Rambutan perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Rambutan perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Rambutan perk to the three nearest friends behind."}],"Id":"653","Name":"Fur-Bearing Trout","NameId":"FurBearingTrout","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before attack: Gain +3 mana.","CustomArchetypes":["Mana","Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Remove the highest tier perk from one enemy."},{"Level":2,"About":"Start of battle: Remove the highest tier perks from two enemies."},{"Level":3,"About":"Start of battle: Remove the highest tier perks from three enemies."}],"Id":"740","Name":"Gerenuk","NameId":"Gerenuk","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Gharial toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Gharial toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Gharial toy."}],"Id":"231","Name":"Gharial","NameId":"Gharial","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Give the nearest friend ahead +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give the nearest two friends ahead +1 attack and +1 health."},{"Level":3,"About":"Start of turn: Give the nearest three friends ahead +1 attack and +1 health."}],"Id":"33","Name":"Giraffe","NameId":"Giraffe","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Anyone hurt: If nobody has attacked, gain +2 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Anyone hurt: If nobody has attacked, gain +4 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Anyone hurt: If nobody has attacked, gain +6 health until next turn. Works 5 times per turn."}],"Id":"697","Name":"Great Potoo","NameId":"GreatPotoo","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 toy from Griffin\'s collection."},{"Level":2,"About":"Buy: Choose one level 2 toy from Griffin\'s collection."},{"Level":3,"About":"Buy: Choose one level 3 toy from Griffin\'s collection."}],"Id":"348","Name":"Griffin","NameId":"Griffin","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Gain +2 trumpets."},{"Level":2,"About":"Hurt: Gain +4 trumpets."},{"Level":3,"About":"Hurt: Gain +6 trumpets."}],"Id":"228","Name":"Guineafowl","NameId":"FowlBird","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Hurt"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Copy a useful food perk from one random enemy. Works 1 time per battle."},{"Level":2,"About":"Before attack: Copy a useful food perk from one random enemy. Works 2 times per battle."},{"Level":3,"About":"Before attack: Copy a useful food perk from one random enemy. Works 3 times per battle."}],"Id":"551","Name":"Hare","NameId":"Hare","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the nearest friend ahead +3 attack and +3 health until next turn.","FinePrint":"Will give permanent stats at level 2."},{"Level":2,"About":"End turn: Give the nearest friend ahead +2 attack and +2 health.","FinePrint":"Will give experience at level 3."},{"Level":3,"About":"End turn: Give the nearest friend ahead +1 experience."}],"Id":"91","Name":"Hatching Chick","NameId":"HatchingChick","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff","Levels","Mvp"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 4/3 Ethiopian Wolf."},{"Level":2,"About":"Faint: Summon two 4/3 Ethiopian Wolves."},{"Level":3,"About":"Faint: Summon three 4/3 Ethiopian Wolves."}],"Id":"717","Name":"Hirola","NameId":"Hirola","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 2 damage to the first and last enemy."},{"Level":2,"About":"Faint: Deal 4 damage to the first and last enemy."},{"Level":3,"About":"Faint: Deal 6 damage to the first and last enemy."}],"Id":"235","Name":"Hoopoe Bird","NameId":"HoopoeBird","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 1 gold."},{"Level":2,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 2 gold."},{"Level":3,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 3 gold."}],"Id":"736","Name":"Jewel Caterpillar","NameId":"JewelCaterpillar","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Deal 1 damage to the nearest friend ahead and gain damage as health."},{"Level":2,"About":"End turn: Deal 2 damage to the nearest friend ahead and gain damage as health."},{"Level":3,"About":"End turn: Deal 3 damage to the nearest friend ahead and gain damage as health."}],"Id":"165","Name":"Leech","NameId":"Leech","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt","Mvp"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Level-up: Gain +2 attack and +2 health now and +2 gold next turn."},{"Level":2,"About":"Level-up: Gain +4 attack and +4 health now and +4 gold next turn."},{"Level":3,"About":"No ability."}],"Id":"623","Name":"Lucky Cat","NameId":"LuckyCat","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +2 mana for each roll this turn, up to 3 rolls."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +4 mana for each roll this turn, up to 3 rolls."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +6 mana for each roll this turn, up to 3 rolls."}],"Id":"635","Name":"Mana Hound","NameId":"ManaHound","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Roll"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make one tier 2 or lower enemy Dazed and prioritize <b>Faint</b> pets."},{"Level":2,"About":"Start of battle: Make one tier 4 or lower enemy Dazed and prioritize <b>Faint</b> pets."},{"Level":3,"About":"Start of battle: Make one tier 6 or lower enemy Dazed and prioritize <b>Faint</b> pets."}],"Id":"357","Name":"Mandrake","NameId":"Mandrake","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Remove the two nearest friendly perks to summon one 6/6 Mole."},{"Level":2,"About":"Faint: Remove the two nearest friendly perks to summon one 12/12 Mole."},{"Level":3,"About":"Faint: Remove the two nearest friendly perks to summon one 18/18 Mole."}],"Id":"168","Name":"Mole","NameId":"Mole","Tier":3,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Anyone behind hurt: Give two random friendly pets +1 attack and +2 health. Works 2 times per battle."},{"Level":2,"About":"Anyone behind hurt: Give two random friendly pets +2 attack and +4 health. Works 2 times per battle."},{"Level":3,"About":"Anyone behind hurt: Give two random friendly pets +3 attack and +6 health. Works 2 times per battle."}],"Id":"422","Name":"Monkey-Faced Bat","NameId":"MonkeyFacedBat","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain +1 attack and +2 health until next turn."},{"Level":2,"About":"Friend ahead faints: Gain +2 attack and +4 health until next turn."},{"Level":3,"About":"Friend ahead faints: Gain +3 attack and +6 health until next turn."}],"Id":"245","Name":"Musk Ox","NameId":"MuskOx","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Roll: Gain +1 attack and +1 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Roll: Gain +2 attack and +2 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Roll: Gain +3 attack and +3 health until next turn. Works 5 times per turn."}],"Id":"130","Name":"Okapi","NameId":"Okapi","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give the lowest health friendly pet +3 health."},{"Level":2,"About":"End turn: Give the lowest health friendly pet +6 health."},{"Level":3,"About":"End turn: Give the lowest health friendly pet +9 health."}],"Id":"157","Name":"Orangutan","NameId":"Orangutan","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/1 Groundhog."},{"Level":2,"About":"Faint: Summon two 2/1 Groundhogs."},{"Level":3,"About":"Faint: Summon three 2/1 Groundhogs."}],"Id":"247","Name":"Osprey","NameId":"Osprey","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Roll: Give new shop pets +1 attack and +1 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."},{"Level":2,"About":"Roll: Give new shop pets +2 attack and +2 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."},{"Level":3,"About":"Roll: Give new shop pets +3 attack and +3 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."}],"Id":"364","Name":"Ouroboros","NameId":"Ouroboros","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Summon one level 1 Mouse."},{"Level":2,"About":"Start of turn: Summon one level 2 Mouse."},{"Level":3,"About":"Start of turn: Summon one level 3 Mouse."}],"Id":"95","Name":"Owl","NameId":"Owl","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle","Mvp"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 1 time per turn."},{"Level":2,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 2 times per turn."},{"Level":3,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 3 times per turn."}],"Id":"52","Name":"Ox","NameId":"Ox","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy."},{"Level":2,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy with double effect."},{"Level":3,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy with triple effect."}],"Id":"701","Name":"Pangasius","NameId":"Pangasius","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: If you have a toy, give the nearest friend behind +4 health."},{"Level":2,"About":"Faint: If you have a toy, give the nearest friend behind +8 health."},{"Level":3,"About":"Faint: If you have a toy, give the nearest friend behind +12 health."}],"Id":"249","Name":"Pangolin","NameId":"Pangolin","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +4 trumpets and summon the Golden Retriever immediately."},{"Level":2,"About":"Faint: Gain +8 trumpets and summon the Golden Retriever immediately."},{"Level":3,"About":"Faint: Gain +12 trumpets and summon the Golden Retriever immediately."}],"Id":"733","Name":"Patagonian Mara","NameId":"PatagonianMara","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Summon"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Knock out: Feed the nearest friend behind with one Better Apple."},{"Level":2,"About":"Knock out: Feed the nearest friend behind with two Better Apples."},{"Level":3,"About":"Knock out: Feed the nearest friend behind with three Better Apples."}],"Id":"560","Name":"Pony","NameId":"Pony","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Deal 3 damage directly back."},{"Level":2,"About":"Hurt: Deal 6 damage directly back."},{"Level":3,"About":"Hurt: Deal 9 damage directly back."}],"Id":"169","Name":"Porcupine","NameId":"Porcupine","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +1 experience."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +2 experience."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +3 experience."}],"Id":"145","Name":"Pug","NameId":"Pug","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 3 times per turn."}],"Id":"744","Name":"Purple Frog","NameId":"PurpleFrog","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Five enemy attacks: Deal 33% of health as damage to the least healthy enemy."},{"Level":2,"About":"Five enemy attacks: Deal 33% of health as damage to the two least healthy enemies."},{"Level":3,"About":"Five enemy attacks: Deal 33% of health as damage to the three least healthy enemies."}],"Id":"426","Name":"Pygmy Hippo","NameId":"PygmyHippo","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Transformed: Give front-most friend +2 attack and +2 health. Double in battle."},{"Level":2,"About":"Transformed: Give front-most friend +4 attack and +4 health. Double in battle."},{"Level":3,"About":"Transformed: Give front-most friend +6 attack and +6 health. Double in battle."}],"Id":"702","Name":"Quail","NameId":"Quail","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Eats food: Transform and give front-most friend +2 attack and +2 health. Double in battle."},{"Level":2,"About":"Eats food: Transform and give front-most friend +4 attack and +4 health. Double in battle."},{"Level":3,"About":"Eats food: Transform and give front-most friend +6 attack and +6 health. Double in battle."}],"Id":"778","Name":"Quail Chick","NameId":"QuailChick","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Transform","Food"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Bee summoned: Give it +3 attack and +3 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"},{"Level":2,"About":"Bee summoned: Give it +6 attack and +6 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"},{"Level":3,"About":"Bee summoned: Give it +9 attack and +9 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"}],"Id":"703","Name":"Queen Bee","NameId":"QueenBee","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give the pet that knocked this out and its friends +1 attack and +1 health."},{"Level":2,"About":"Faint: Give the pet that knocked this out and its friends +2 attack and +2 health."},{"Level":3,"About":"Faint: Give the pet that knocked this out and its friends +3 attack and +3 health."}],"Id":"751","Name":"Quetzalcoatlus","NameId":"Quetzalcoatlus","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Friendly ate food: Give them +1 health. Works 3 times per turn."},{"Level":2,"About":"Friendly ate food: Give them +2 health. Works 3 times per turn."},{"Level":3,"About":"Friendly ate food: Give them +3 health. Works 3 times per turn."}],"Id":"60","Name":"Rabbit","NameId":"Rabbit","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Transform two friends ahead into ANY useful level 1 <b>Hurt</b> pets from tier 3 or lower."},{"Level":2,"About":"Start of battle: Transform two friends ahead into ANY useful level 2 <b>Hurt</b> pets from tier 3 or lower."},{"Level":3,"About":"Start of battle: Transform two friends ahead into ANY useful level 3 <b>Hurt</b> pets from tier 3 or lower."}],"Id":"429","Name":"Roloway Monkey","NameId":"RolowayMonkey","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Hurt"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Three enemies faint: Deal 4 damage to one random enemy."},{"Level":2,"About":"Three enemies faint: Deal 8 damage to one random enemy."},{"Level":3,"About":"Three enemies faint: Deal 12 damage to one random enemy."}],"Id":"256","Name":"Royal Flycatcher","NameId":"RoyalFlycatcher","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 1 time per turn."},{"Level":2,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 2 times per turn."},{"Level":3,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 3 times per turn."}],"Id":"531","Name":"Sage-Grouse","NameId":"GreaterSageGrouse","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 1 copy up front for the opponent on faint."},{"Level":2,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 2 copy up front for the opponent on faint."},{"Level":3,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 3 copy up front for the opponent on faint."}],"Id":"763","Name":"Sarcastic Fringehead","NameId":"SarcasticFringehead","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon two 2/2 Rams."},{"Level":2,"About":"Faint: Summon two 4/4 Rams."},{"Level":3,"About":"Faint: Summon two 6/6 Rams."}],"Id":"68","Name":"Sheep","NameId":"Sheep","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Friend gained ailment: Give it a random tier 1 perk. Works 2 times per turn."},{"Level":2,"About":"Friend gained ailment: Give it a random tier 2 perk. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Give it a random tier 3 perk. Works 2 times per turn."}],"Id":"722","Name":"Silkie Chicken","NameId":"SilkieChicken","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give one random friend permanent +1 attack and +1 health."},{"Level":2,"About":"Faint: Give two random friends permanent +1 attack and +1 health."},{"Level":3,"About":"Faint: Give three random friends permanent +1 attack and +1 health."}],"Id":"374","Name":"Skeleton Dog","NameId":"SkeletonDog","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/2 Slime for each two battles fought."},{"Level":2,"About":"Faint: Summon one 4/4 Slime for each two battles fought."},{"Level":3,"About":"Faint: Summon one 6/6 Slime for each two battles fought."}],"Id":"375","Name":"Slime","NameId":"Slime","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Give the nearest friend behind +2 to their lowest stat."},{"Level":2,"About":"Start of turn: Give the nearest two friends behind +2 to their lowest stat."},{"Level":3,"About":"Start of turn: Give the nearest three friends behind +2 to their lowest stat."}],"Id":"433","Name":"Spoon-Billed Sandpiper","NameId":"SpoonBilledSandpiper","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Stock one free Cupcake."},{"Level":2,"About":"Start of turn: Stock one free Cupcake with double effect."},{"Level":3,"About":"Start of turn: Stock one free Cupcake with triple effect."}],"Id":"705","Name":"Sugar Glider","NameId":"SugarGlider","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +4 health."},{"Level":2,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +8 health."},{"Level":3,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +12 health."}],"Id":"264","Name":"Surgeon Fish","NameId":"SurgeonFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Gain +1 attack and +2 health until next turn."},{"Level":2,"About":"Friend ahead hurt: Gain +2 attack and +4 health until next turn."},{"Level":3,"About":"Friend ahead hurt: Gain +3 attack and +6 health until next turn."}],"Id":"719","Name":"Takin","NameId":"Takin","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Hurt"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead faints: Deal 2 damage to the first enemy. Double if the friend was level 3."},{"Level":2,"About":"Friend ahead faints: Deal 4 damage to the first enemy. Double if the friend was level 3."},{"Level":3,"About":"Friend ahead faints: Deal 6 damage to the first enemy. Double if the friend was level 3."}],"Id":"654","Name":"Tatzelwurm","NameId":"Tatzelwurm","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Enemy hurt: Make it Weak. Works 2 times per battle."},{"Level":2,"About":"Enemy hurt: Make it Weak. Works 4 times per battle."},{"Level":3,"About":"Enemy hurt: Make it Weak. Works 6 times per battle."}],"Id":"162","Name":"Toad","NameId":"Toad","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the nearest friend behind."},{"Level":2,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the two nearest friends behind."},{"Level":3,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the three nearest friends behind."}],"Id":"151","Name":"Toucan","NameId":"Toucan","Tier":3,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: If this has 6 or less attack, gain Coconut perk."},{"Level":2,"About":"Start of battle: If this has 12 or less attack, gain Coconut perk."},{"Level":3,"About":"Start of battle: If this has 18 or less attack, gain Coconut perk."}],"Id":"378","Name":"Tree","NameId":"TreeEnt","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make the last perk-less enemy Silly and activate it."},{"Level":2,"About":"Start of battle: Make the last perk-less enemy Silly and activate it twice."},{"Level":3,"About":"Start of battle: Make the last perk-less enemy Silly and activate it thrice."}],"Id":"534","Name":"Tree Kangaroo","NameId":"TreeKangaroo","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Ability has random targets in battle.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Give adjacent friends +1 health."},{"Level":2,"About":"Start of turn: Give adjacent friends +2 health."},{"Level":3,"About":"Start of turn: Give adjacent friends +3 health."}],"Id":"100","Name":"Tropical Fish","NameId":"TropicalFish","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Push the back-most friend to the front and give it +3 attack and +3 health in battle."},{"Level":2,"About":"Faint: Push the back-most friend to the front and give it +6 attack and +6 health in battle."},{"Level":3,"About":"Faint: Push the back-most friend to the front and give it +9 attack and +9 health in battle."}],"Id":"439","Name":"Tucuxi","NameId":"Tucuxi","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give one random friend +1 attack and +1 health for each time this was hurt."},{"Level":2,"About":"Faint: Give one random friend +2 attack and +2 health for each time this was hurt."},{"Level":3,"About":"Faint: Give one random friend +3 attack and +3 health for each time this was hurt."}],"Id":"572","Name":"Tuna","NameId":"Tuna","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +2 health for each friendly pet with a different ailment."},{"Level":2,"About":"Start of battle: Gain +2 attack and +4 health for each friendly pet with a different ailment."},{"Level":3,"About":"Start of battle: Gain +3 attack and +6 health for each friendly pet with a different ailment."}],"Id":"791","Name":"Vampire Parrot","NameId":"VampireParrot","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Shop tier upgraded: Gain +50% attack."},{"Level":2,"About":"Shop tier upgraded: Gain +100% attack."},{"Level":3,"About":"Shop tier upgraded: Gain +150% attack."}],"Id":"160","Name":"Wasp","NameId":"Wasp","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +1 gold on next turn."},{"Level":2,"About":"Faint: Gain +2 gold on next turn."},{"Level":3,"About":"Faint: Gain +3 gold on next turn."}],"Id":"173","Name":"Weasel","NameId":"Weasel","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Swallow and copy the left-most unfrozen shop pet until next turn."},{"Level":2,"About":"End turn: Swallow and copy the two left-most unfrozen and different shop pets until next turn."},{"Level":3,"About":"End turn: Swallow and copy the three left-most unfrozen and different shop pets until next turn."}],"Id":"373","Name":"Abomination","NameId":"Shoggoth","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Summon one level 1 Ocarina."},{"Level":2,"About":"End turn: Summon one level 2 Ocarina."},{"Level":3,"About":"End turn: Summon one level 3 Ocarina."}],"Id":"785","Name":"Ahuizotl","NameId":"Ahuizotl","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Deal 3 damage to its target, or gain +3 attack."},{"Level":2,"About":"Adjacent friend attacked: Deal 6 damage to its target, or gain +6 attack."},{"Level":3,"About":"Adjacent friend attacked: Deal 9 damage to its target, or gain +9 attack."}],"Id":"390","Name":"Amazon River Dolphin","NameId":"AmazonRiverDolphin","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 50% of its stats until next turn."},{"Level":2,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 100% of its stats until next turn."},{"Level":3,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 150% of its stats until next turn."}],"Id":"730","Name":"Andrewsarchus","NameId":"Andrewsarchus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give friends +1 to their highest stat."},{"Level":2,"About":"End turn: Give friends +2 to their highest stat."},{"Level":3,"About":"End turn: Give friends +3 to their highest stat."}],"Id":"392","Name":"Angelshark","NameId":"Angelshark","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Activate two Faint friends from tier 2 or lower front-to-back."},{"Level":2,"About":"Start of battle: Activate two Faint friends from tier 4 or lower front-to-back."},{"Level":3,"About":"Start of battle: Activate two Faint friends from tier 6 or lower front-to-back."}],"Id":"331","Name":"Anubis","NameId":"Anubis","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"End turn: If this has a level 3 friend, gain +1 attack and +2 health."},{"Level":2,"About":"End turn: If this has a level 3 friend, gain +2 attack and +4 health."},{"Level":3,"About":"End turn: If this has a level 3 friend, gain +3 attack and +6 health."}],"Id":"5","Name":"Bison","NameId":"Bison","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: Stock one copy of it. Works 1 time per turn."},{"Level":2,"About":"Friend sold: Stock one copy of it. Works 2 times per turn."},{"Level":3,"About":"Friend sold: Stock one copy of it. Works 3 times per turn."}],"Id":"797","Name":"Bloodhound","NameId":"Bloodhound","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Deal 3 damage to one random enemy."},{"Level":2,"About":"Hurt: Deal 6 damage to one random enemy."},{"Level":3,"About":"Hurt: Deal 9 damage to one random enemy."}],"Id":"7","Name":"Blowfish","NameId":"Blowfish","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Hurt"],"Random":true},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice."},{"Level":2,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice that works twice."},{"Level":3,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice that works thrice."}],"Id":"530","Name":"Blue-Footed Booby","NameId":"BlueFootedBooby","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Transform into the front-most friend."},{"Level":2,"About":"Start of turn: Transform into the front-most friend."},{"Level":3,"About":"Start of turn: Transform into the front-most friend."}],"Id":"402","Name":"Bonobo","NameId":"Bonobo","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Levels","Mvp"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: Gain +2 attack and +2 health until next turn."},{"Level":2,"About":"Friend sold: Gain +4 attack and +4 health until next turn."},{"Level":3,"About":"Friend sold: Gain +6 attack and +6 health until next turn."}],"Id":"8","Name":"Buffalo","NameId":"Buffalo","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Transformed: Copy 33% attack and health from the strongest enemy."},{"Level":2,"About":"Transformed: Copy 66% attack and health from the strongest enemy."},{"Level":3,"About":"Transformed: Copy 100% attack and health from the strongest enemy."}],"Id":"9","Name":"Butterfly","NameId":"Butterfly","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Gain +1 experience.","FinePrint":"Will copy an enemy\'s stats at level 3."},{"Level":2,"About":"Start of turn: Gain +1 experience.","FinePrint":"Will copy an enemy\'s stats at level 3."},{"Level":3,"About":"Start of battle: Transform into a 1/1 Butterfly and copy stats of the strongest enemy."}],"Id":"12","Name":"Caterpillar","NameId":"Caterpillar","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Levels","Transform"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Copy friendly toy ability at up to level 1 until next turn.","FinePrint":"Break abilities trigger on faint instead."},{"Level":2,"About":"End turn: Copy friendly toy ability at up to level 2 until next turn.","FinePrint":"Break abilities trigger on faint instead."},{"Level":3,"About":"End turn: Copy friendly toy ability at up to level 3 until next turn.","FinePrint":"Break abilities trigger on faint instead."}],"Id":"216","Name":"Chameleon","NameId":"Chameleon","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 pet. Spend mana to give it +1 attack and +2 health per 2 mana."},{"Level":2,"About":"Faint: Summon two 3/3 pets. Spend mana to give them +1 attack and +2 health per 2 mana."},{"Level":3,"About":"Faint: Summon three 3/3 pets. Spend mana to give them +1 attack and +2 health per 2 mana."}],"Id":"338","Name":"Chimera","NameId":"Chimera","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friendly level-up: Give it +2 attack and +2 health."},{"Level":2,"About":"Friendly level-up: Give it +4 attack and +4 health."},{"Level":3,"About":"Friendly level-up: Give it +6 attack and +6 health."}],"Id":"117","Name":"Clownfish","NameId":"ClownFish","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Buy: Give the highest tier friend +2 attack and +2 health."},{"Level":2,"About":"Buy: Give the highest tier friend +4 attack and +4 health."},{"Level":3,"About":"Buy: Give the highest tier friend +6 attack and +6 health."}],"Id":"218","Name":"Cockatoo","NameId":"Cockatoo","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Stock one Chocolate."},{"Level":2,"About":"Sell: Stock one Better Chocolate."},{"Level":3,"About":"Sell: Stock one Best Chocolate."}],"Id":"195","Name":"Crow","NameId":"Crow","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels","Mvp"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Enemy faints: Summon 1/1 bad Chicks up front for the enemy early. Can summon up to 2 per battle."},{"Level":2,"About":"Enemy faints: Summon 1/1 bad Chicks up front for the enemy early. Can summon up to 4 per battle."},{"Level":3,"About":"Enemy faints: Summon 1/1 bad Chicks up front for the enemy early. Can summon up to 6 per battle."}],"Id":"787","Name":"Cuckoo","NameId":"Cuckoo","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Remove 3 health from the last enemy and make it Inked."},{"Level":2,"About":"Faint: Remove 3 health from the last two enemies and make them Inked."},{"Level":3,"About":"Faint: Remove 3 health from the last three enemies and make them Inked."}],"Id":"176","Name":"Cuttlefish","NameId":"Cuddlefish","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friend level-up: Give it +2 mana. Also give +1 experience on the first trigger this turn."},{"Level":2,"About":"Friend level-up: Give it +4 mana. Also give +1 experience on the first two triggers this turn."},{"Level":3,"About":"Friend level-up: Give it +6 mana. Also give +1 experience on the first three triggers this turn."}],"Id":"630","Name":"Cyclops","NameId":"Cyclops","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Mana"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/3 Bus with Chili."},{"Level":2,"About":"Faint: Summon one 10/6 Bus with Chili."},{"Level":3,"About":"Faint: Summon one 15/9 Bus with Chili."}],"Id":"20","Name":"Deer","NameId":"Deer","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack second enemy for 5 damage.","CustomArchetypes":["Summon"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Ailments on this work in reverse.","FinePrint":"Weak and Spooked works 3 times."},{"Level":2,"About":"Ailments on this work in reverse and are two times better.","FinePrint":"Weak and Spooked works 3 times."},{"Level":3,"About":"Ailments on this work in reverse and are three times better.","FinePrint":"Weak and Spooked works 3 times."}],"Id":"748","Name":"Deinocheirus","NameId":"Deinocheirus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +8 attack. If all friends are higher tiers, also gain Coconut perk."},{"Level":2,"About":"Start of battle: Gain +16 attack. If all friends are higher tiers, also gain Coconut perk."},{"Level":3,"About":"Start of battle: Gain +24 attack. If all friends are higher tiers, also gain Coconut perk."}],"Id":"273","Name":"Doberman","NameId":"Doberman","Tier":4,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Perks"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 1 time per battle."},{"Level":2,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 2 times per battle."},{"Level":3,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 3 times per battle."}],"Id":"111","Name":"Donkey","NameId":"Donkey","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 2 gold.","FinePrint":"Max gold limit is 30."},{"Level":2,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 4 gold.","FinePrint":"Max gold limit is 30."},{"Level":3,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 6 gold.","FinePrint":"Max gold limit is 30."}],"Id":"546","Name":"Elk","NameId":"Elk","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Gold"],"Random":true},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 wondrous toy."},{"Level":2,"About":"Buy: Choose one level 2 wondrous toy."},{"Level":3,"About":"Buy: Choose one level 3 wondrous toy."}],"Id":"342","Name":"Fairy","NameId":"Fairy","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: If still standing, gain permanent +2 health and transform into a protected ball."},{"Level":2,"About":"Hurt: If still standing, gain permanent +4 health and transform into a protected ball."},{"Level":3,"About":"Hurt: If still standing, gain permanent +6 health and transform into a protected ball."}],"Id":"547","Name":"Fairy Armadillo","NameId":"FairyArmadillo","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Transform","Hurt"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Takes 2 less damage."},{"Level":2,"About":"Takes 4 less damage."},{"Level":3,"About":"Takes 6 less damage."}],"Id":"771","Name":"Fairy Ball","NameId":"FairyArmadilloBall","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Knock out: Summon one 3/3 level 1 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."},{"Level":2,"About":"Knock out: Summon one 6/6 level 2 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."},{"Level":3,"About":"Knock out: Summon one 9/9 level 3 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."}],"Id":"224","Name":"Falcon","NameId":"Falcon","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Feed friends one Corncob."},{"Level":2,"About":"Buy: Feed friends two Corncobs."},{"Level":3,"About":"Buy: Feed friends three Corncobs."}],"Id":"689","Name":"Farmer Cat","NameId":"FarmerCat","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 health from the two first enemies for each roll this turn."},{"Level":2,"About":"Start of battle: Remove 2 health from the two first enemies for each roll this turn."},{"Level":3,"About":"Start of battle: Remove 3 health from the two first enemies for each roll this turn."}],"Id":"549","Name":"Fossa","NameId":"Fossa","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Gain +2 attack and +1 health until next turn for each gold over 10."},{"Level":2,"About":"Start of turn: Gain +4 attack and +2 health until next turn for each gold over 10."},{"Level":3,"About":"Start of turn: Gain +6 attack and +3 health until next turn for each gold over 10."}],"Id":"185","Name":"Gazelle","NameId":"Gazelle","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Eats two food: Transform and feed one Pear to each friend."},{"Level":2,"About":"Eats two food: Transform and feed two Pears to each friend."},{"Level":3,"About":"Eats two food: Transform and feed three Pears to each friend."}],"Id":"696","Name":"Gelada","NameId":"Gelada","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food","Transform"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before battle: Give friends +2 attack and +5 health until after the first non-jump attack."},{"Level":2,"About":"Before battle: Give friends +4 attack and +10 health until after the first non-jump attack."},{"Level":3,"About":"Before battle: Give friends +6 attack and +15 health until after the first non-jump attack."}],"Id":"410","Name":"Giant Otter","NameId":"GiantOtter","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Gain +2 health, and set attack to 4. Health can go to 100!"},{"Level":2,"About":"End turn: Gain +4 health, and set attack to 8. Health can go to 100!"},{"Level":3,"About":"End turn: Gain +6 health, and set attack to 12. Health can go to 100!"}],"Id":"412","Name":"Giant Tortoise","NameId":"GiantTortoise","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Swallow the first enemy with 6 health or less. Release it with 1 health on faint."},{"Level":2,"About":"Start of battle: Swallow the first enemy with 12 health or less. Release it with 1 health on faint."},{"Level":3,"About":"Start of battle: Swallow the first enemy with 18 health or less. Release it with 1 health on faint."}],"Id":"754","Name":"Goblin Shark","NameId":"GoblinShark","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Before battle: Transform into ANY useful level 1 <b>Start of Battle</b> pet from tier 5."},{"Level":2,"About":"Before battle: Transform into ANY useful level 2 <b>Start of Battle</b> pet from tier 5."},{"Level":3,"About":"Before battle: Transform into ANY useful level 3 <b>Start of Battle</b> pet from tier 5."}],"Id":"720","Name":"Golden Tamarin","NameId":"GoldenTamarin","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 7 damage to the opposite enemy."},{"Level":2,"About":"Start of battle: Deal 14 damage to the opposite enemy."},{"Level":3,"About":"Start of battle: Deal 21 damage to the opposite enemy."}],"Id":"127","Name":"Hawk","NameId":"Hawk","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Knock out: Gain +3 attack and +3 health. Works 3 times per battle."},{"Level":2,"About":"Knock out: Gain +6 attack and +6 health. Works 3 times per battle."},{"Level":3,"About":"Knock out: Gain +9 attack and +9 health. Works 3 times per battle."}],"Id":"38","Name":"Hippo","NameId":"Hippo","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Remove friendly strawberries to gain +3 trumpets for each."},{"Level":2,"About":"Start of battle: Remove friendly strawberries to gain +6 trumpets for each."},{"Level":3,"About":"Start of battle: Remove friendly strawberries to gain +9 trumpets for each."}],"Id":"755","Name":"Hoatzin","NameId":"Hoatzin","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Trumpets"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Remove 30% attack from the highest attack enemy."},{"Level":2,"About":"Start of battle: Remove 60% attack from the highest attack enemy."},{"Level":3,"About":"Start of battle: Remove 90% attack from the highest attack enemy."}],"Id":"416","Name":"Humphead Wrasse","NameId":"HumpheadWrasse","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Eats apple: Give friends +1 attack and +1 health. Works 1 time per turn."},{"Level":2,"About":"Eats apple: Give friends +2 attack and +2 health. Works 1 time per turn."},{"Level":3,"About":"Eats apple: Give friends +3 attack and +3 health. Works 1 time per turn."}],"Id":"199","Name":"Jerboa","NameId":"Jerboa","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"After first attack: Make the highest attack enemy Spooked and push it to the back."},{"Level":2,"About":"After first attack: Make the two highest attack enemies Spooked and push them to the back."},{"Level":3,"About":"After first attack: Make the three highest attack enemies Spooked and push them to the back."}],"Id":"419","Name":"Kakapo","NameId":"Kakapo","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments","Disruption"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Remove 15% health from ALL other pets."},{"Level":2,"About":"Start of battle: Remove 30% health from ALL other pets."},{"Level":3,"About":"Start of battle: Remove 45% health from ALL other pets."}],"Id":"355","Name":"Kraken","NameId":"Kraken","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Give random ailments to ANY three random pets. Double the effect on enemies."},{"Level":2,"About":"Faint: Give random ailments to ANY six random pets. Double the effect on enemies."},{"Level":3,"About":"Faint: Give random ailments to ANY nine random pets. Double the effect on enemies."}],"Id":"750","Name":"Leaf Gecko","NameId":"SatanicLeafTailedGecko","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":7,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give adjacent friends 1 experience and remove this."},{"Level":2,"About":"Start of battle: Give adjacent friends 2 experience and remove this."},{"Level":3,"About":"Start of battle: Give adjacent friends 3 experience and remove this."}],"Id":"723","Name":"Leafy Sea Dragon","NameId":"LeafySeaDragon","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle","Levels"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: If there is an empty space, gain +1 attack and +2 health."},{"Level":2,"About":"End turn: If there is an empty space, gain +2 attack and +4 health."},{"Level":3,"About":"End turn: If there is an empty space, gain +3 attack and +6 health."}],"Id":"44","Name":"Llama","NameId":"Llama","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend summoned: If outside battle, give it +1 attack and +2 health."},{"Level":2,"About":"Friend summoned: If outside battle, give it +2 attack and +4 health."},{"Level":3,"About":"Friend summoned: If outside battle, give it +3 attack and +6 health."}],"Id":"93","Name":"Lobster","NameId":"Lobster","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one friend and feed it with random food for every food eaten this turn."},{"Level":2,"About":"Faint: Summon two friends and feed them with random food for every food eaten this turn."},{"Level":3,"About":"Faint: Summon three friends and feed them with random food for every food eaten this turn."}],"Id":"698","Name":"Locust","NameId":"Locust","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Summon","Food"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Five enemy attacks: Gain +4 health and remove 4 health from all enemies."},{"Level":2,"About":"Five enemy attacks: Gain +8 health and remove 8 health from all enemies."},{"Level":3,"About":"Five enemy attacks: Gain +12 health and remove 12 health from all enemies."}],"Id":"420","Name":"Longcomb Sawfish","NameId":"LongcombSawfish","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal damage to one random enemy equal to the sum of all friendly levels."},{"Level":2,"About":"Start of battle: Deal damage to two random enemies equal to the sum of all friendly levels."},{"Level":3,"About":"Start of battle: Deal damage to three random enemies equal to the sum of all friendly levels."}],"Id":"200","Name":"Lynx","NameId":"Lynx","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels","Disruption"],"Random":true},{"Attack":2,"Health":11,"Abilities":[{"Level":1,"About":"End turn: Take 5 damage and give the nearest friend ahead +2 attack and +1 health."},{"Level":2,"About":"End turn: Take 5 damage and give the nearest friend ahead +4 attack and +2 health."},{"Level":3,"About":"End turn: Take 5 damage and give the nearest friend ahead +6 attack and +3 health."}],"Id":"192","Name":"Manatee","NameId":"Manatee","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"End turn: If there is an empty space, gain +2 gold next turn."},{"Level":2,"About":"End turn: If there is an empty space, gain +4 gold next turn."},{"Level":3,"About":"End turn: If there is an empty space, gain +6 gold next turn."}],"Id":"240","Name":"Manta Ray","NameId":"MantaRay","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Make ALL pets within 3 spaces Weak."},{"Level":2,"About":"Faint: Make ALL pets within 6 spaces Weak."},{"Level":3,"About":"Faint: Make ALL pets within 9 spaces Weak."}],"Id":"94","Name":"Microbe","NameId":"Microbe","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Three friends faint: Gain +1 gold on next turn."},{"Level":2,"About":"Three friends faint: Gain +2 gold on next turn."},{"Level":3,"About":"Three friends faint: Gain +3 gold on next turn."}],"Id":"359","Name":"Mimic","NameId":"Mimic","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Gold","Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Gain +1 attack and +1 health for each of the friend\'s level."},{"Level":2,"About":"Friend ahead attacks: Gain +2 attack and +2 health for each of the friend\'s level."},{"Level":3,"About":"Friend ahead attacks: Gain +3 attack and +3 health for each of the friend\'s level."}],"Id":"360","Name":"Minotaur","NameId":"Minotaur","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 nostalgic toy."},{"Level":2,"About":"Start of turn: Choose one level 2 nostalgic toy."},{"Level":3,"About":"Start of turn: Choose one level 3 nostalgic toy."}],"Id":"612","Name":"Old Mouse","NameId":"OldMouse","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"],"Random":true},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Copy ability from the nearest pet ahead as level 1 until next turn."},{"Level":2,"About":"End turn: Copy ability from the nearest pet ahead as level 2 until next turn."},{"Level":3,"About":"End turn: Copy ability from the nearest pet ahead as level 3 until next turn."}],"Id":"53","Name":"Parrot","NameId":"Parrot","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Mvp","Mvp"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give three friends +1 attack until next turn."},{"Level":2,"About":"Friend summoned: Give three friends +2 attack until next turn."},{"Level":3,"About":"Friend summoned: Give three friends +3 attack until next turn."}],"Id":"365","Name":"Pegasus","NameId":"Pegasus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Give two level 2 or higher friends +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give two level 2 or higher friends +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give two level 2 or higher friends +3 attack and +3 health."}],"Id":"56","Name":"Penguin","NameId":"Penguin","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for each roll (max 8) this turn."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for each roll (max 8) this turn."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for each roll (max 8) this turn."}],"Id":"734","Name":"Platybelodon","NameId":"Platybelodon","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Roll"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint & Sell: Summon one 3/2 level 1 Duck and Beaver."},{"Level":2,"About":"Faint & Sell: Summon one 6/4 level 2 Duck and Beaver."},{"Level":3,"About":"Faint & Sell: Summon one 9/6 level 3 Duck and Beaver."}],"Id":"159","Name":"Platypus","NameId":"Platypus","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle","Summon"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead faints: Deal 4 damage to the highest health enemy."},{"Level":2,"About":"Friend ahead faints: Deal 8 damage to the highest health enemy."},{"Level":3,"About":"Friend ahead faints: Deal 12 damage to the highest health enemy."}],"Id":"252","Name":"Poison Dart Frog","NameId":"PoisonDartFrog","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend transformed: Give it +3 experience. Works 1 time per battle."},{"Level":2,"About":"Friend transformed: Give it +3 experience. Works 2 times per battle."},{"Level":3,"About":"Friend transformed: Give it +3 experience. Works 3 times per battle."}],"Id":"729","Name":"Poodle Moth","NameId":"PoodleMoth","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels","Transform"]},{"Attack":7,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +6 attack and +6 health."}],"Id":"126","Name":"Praying Mantis","NameId":"PrayingMantis","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff","Mvp"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Puppy toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Puppy toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Puppy toy."}],"Id":"97","Name":"Puppy","NameId":"Puppy","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 1 time per battle."},{"Level":2,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 2 times per battle."},{"Level":3,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 3 times per battle."}],"Id":"760","Name":"Racket Tail","NameId":"WhiteBootedRacketTail","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from one tier below."},{"Level":2,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from two tiers below."},{"Level":3,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from three tiers below."}],"Id":"742","Name":"Red Lipped Batfish","NameId":"RedLippedBatfish","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 3 times and spread evenly."},{"Level":2,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 6 times and spread evenly."},{"Level":3,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 9 times and spread evenly."}],"Id":"369","Name":"Roc","NameId":"Roc","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give two friends with less health than this +1 attack and +1 health."},{"Level":2,"About":"End turn: Give two friends with less health than this +2 attack and +2 health."},{"Level":3,"About":"End turn: Give two friends with less health than this +3 attack and +3 health."}],"Id":"622","Name":"Rootling","NameId":"Rootler","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Replace friendly strawberries with +4 mana."},{"Level":2,"About":"Start of battle: Replace friendly strawberries with +8 mana."},{"Level":3,"About":"Start of battle: Replace friendly strawberries with +12 mana."}],"Id":"802","Name":"Ruspoli\'s Turaco","NameId":"RuspolisTuraco","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Two friends faint: Gain +3 trumpets."},{"Level":2,"About":"Two friends faint: Gain +6 trumpets."},{"Level":3,"About":"Two friends faint: Gain +9 trumpets."}],"Id":"257","Name":"Saiga Antelope","NameId":"SaigaAntelope","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Summon"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: If it was a Sell pet, give one random friend +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Friend sold: If it was a Sell pet, give one random friend +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Friend sold: If it was a Sell pet, give one random friend +3 attack and +3 health. Works 3 times per turn."}],"Id":"563","Name":"Sea Anemone","NameId":"SeaAnemone","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 3 times per turn."}],"Id":"128","Name":"Seagull","NameId":"Seagull","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give friends behind +1 attack and friends ahead +1 health."},{"Level":2,"About":"End turn: Give friends behind +2 attack and friends ahead +2 health."},{"Level":3,"About":"End turn: Give friends behind +3 attack and friends ahead +3 health."}],"Id":"175","Name":"Sealion","NameId":"Sealion","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Give adjacent pets +1 attack. Also +1 health if the shop has discounted food."},{"Level":2,"About":"End turn: Give adjacent pets +2 attack. Also +2 health if the shop has discounted food."},{"Level":3,"About":"End turn: Give adjacent pets +3 attack. Also +3 health if the shop has discounted food."}],"Id":"565","Name":"Siamese","NameId":"Siamese","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 33% health from the highest health enemy."},{"Level":2,"About":"Start of battle: Remove 66% health from the highest health enemy."},{"Level":3,"About":"Start of battle: Remove 99% health from the highest health enemy."}],"Id":"70","Name":"Skunk","NameId":"Skunk","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Transformed: Feed one Pear to each friend."},{"Level":2,"About":"Transformed: Feed two Pears to each friend."},{"Level":3,"About":"Transformed: Feed three Pears to each friend."}],"Id":"780","Name":"Sleeping Gelada","NameId":"GeladaSleeping","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/2 Smaller Slug that summons one 1/1 Smallest Slug."},{"Level":2,"About":"Faint: Summon one 4/4 Smaller Slug that summons one 2/2 Smallest Slug."},{"Level":3,"About":"Faint: Summon one 6/6 Smaller Slug that summons one 3/3 Smallest Slug."}],"Id":"262","Name":"Slug","NameId":"Slug","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Guard"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friendly Strawberries block 5 damage twice, or ailments once."},{"Level":2,"About":"Friendly Strawberries block 10 damage twice, or ailments once."},{"Level":3,"About":"Friendly Strawberries block 15 damage twice, or ailments once."}],"Id":"567","Name":"Sparrow","NameId":"Sparrow","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Friend attacks: Give it +4 health and move it far back. Works on one friend per turn."},{"Level":2,"About":"Friend attacks: Give it +4 health and move it far back. Works on two different friends per turn."},{"Level":3,"About":"Friend attacks: Give it +4 health and move it far back. Works on three different friends per turn."}],"Id":"727","Name":"Spider Crab","NameId":"SpiderCrab","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 1 damage to two random enemies and multiply damage by the distance."},{"Level":2,"About":"Faint: Deal 2 damage to two random enemies and multiply damage by the distance."},{"Level":3,"About":"Faint: Deal 3 damage to two random enemies and multiply damage by the distance."}],"Id":"804","Name":"Spiny Bush Viper","NameId":"SpinyBushViper","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of turn: Discount all shop food by 1 gold."},{"Level":2,"About":"Start of turn: Discount all shop food by 2 gold."},{"Level":3,"About":"Start of turn: Discount all shop food by 3 gold."}],"Id":"75","Name":"Squirrel","NameId":"Squirrel","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give Mild Chili perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Mild Chili perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Mild Chili perk to the three nearest friends behind."}],"Id":"393","Name":"Tahr","NameId":"ArabianTahr","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack second enemy for 4 damage.","CustomArchetypes":["Perks"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Transformed: Summon a level 1 Thunder Hammer."},{"Level":2,"About":"Transformed: Summon a level 2 Thunder Hammer."},{"Level":3,"About":"Transformed: Summon a level 3 Thunder Hammer."}],"Id":"819","Name":"Tand and Tand","NameId":"ThorGoats","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":6,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give one random friendly Tandgrisner +3 health. Can also..."},{"Level":2,"About":"End turn: Give one random friendly Tandgrisner +6 health. Can also..."},{"Level":3,"About":"End turn: Give one random friendly Tandgrisner +9 health. Can also..."}],"Id":"607","Name":"Tandgnost","NameId":"ThorGoat1","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Give one random friendly Tandgnost +3 attack. Can also..."},{"Level":2,"About":"End turn: Give one random friendly Tandgnost +6 attack. Can also..."},{"Level":3,"About":"End turn: Give one random friendly Tandgnost +9 attack. Can also..."}],"Id":"608","Name":"Tandgrisner","NameId":"ThorGoat2","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 level 1 Tardigrade and make it Dazed."},{"Level":2,"About":"Faint: Summon one 6/6 level 2 Tardigrade and make it Dazed."},{"Level":3,"About":"Faint: Summon one 9/9 level 3 Tardigrade and make it Dazed."}],"Id":"570","Name":"Tardigrade","NameId":"Tardigrade","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Summon","Ailments"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make the lowest attack enemy 5x\xa0Spooked and jump-attack it."},{"Level":2,"About":"Start of battle: Make the lowest attack enemy 10x\xa0Spooked and jump-attack it."},{"Level":3,"About":"Start of battle: Make the lowest attack enemy 15x\xa0Spooked and jump-attack it."}],"Id":"437","Name":"Tasmanian Devil","NameId":"TasmanianDevil","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Guard","Ailments"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and deal 3 damage to the two first enemies."},{"Level":2,"About":"Empty front space: Jump to the front and deal 6 damage to the two first enemies."},{"Level":3,"About":"Empty front space: Jump to the front and deal 9 damage to the two first enemies."}],"Id":"330","Name":"Tiger Bug","NameId":"AntLion","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: If it was sold for at least 3 gold, gain +1 attack and +2 health."},{"Level":2,"About":"Friend sold: If it was sold for at least 3 gold, gain +2 attack and +4 health."},{"Level":3,"About":"Friend sold: If it was sold for at least 3 gold, gain +3 attack and +6 health."}],"Id":"706","Name":"Trout","NameId":"Trout","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Melon perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Melon perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Melon perk to the three nearest friends behind."}],"Id":"80","Name":"Turtle","NameId":"Turtle","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 1 time per turn."},{"Level":2,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 3 times per turn."}],"Id":"380","Name":"Unicorn","NameId":"Unicorn","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +50% trumpets, and minimum +4 trumpets."},{"Level":2,"About":"Faint: Gain +100% trumpets, and minimum +8 trumpets."},{"Level":3,"About":"Faint: Gain +150% trumpets, and minimum +12 trumpets."}],"Id":"265","Name":"Vaquita","NameId":"Vaquita","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Make ALL pets within one space Icky."},{"Level":2,"About":"Faint: Make ALL pets within two spaces Icky."},{"Level":3,"About":"Faint: Make ALL pets within three spaces Icky."}],"Id":"386","Name":"Visitor","NameId":"Xenomorph","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take double damage, twice.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 1 on faint."},{"Level":2,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 2 on faint."},{"Level":3,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 3 on faint."}],"Id":"81","Name":"Whale","NameId":"Whale","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Gain perk or ailment: Remove it and gain +1 attack and +1 health. Triple in battle."},{"Level":2,"About":"Gain perk or ailment: Remove it and gain +2 attack and +2 health. Triple in battle."},{"Level":3,"About":"Gain perk or ailment: Remove it and gain +3 attack and +3 health. Triple in battle."}],"Id":"267","Name":"Whale Shark","NameId":"WhaleShark","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks","Ailments"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Give adjacent friends +1 attack and +1 health for every 4 roll, up to 8 rolls."},{"Level":2,"About":"End turn: Give adjacent friends +2 attack and +2 health for every 4 roll, up to 8 rolls."},{"Level":3,"About":"End turn: Give adjacent friends +3 attack and +3 health for every 4 roll, up to 8 rolls."}],"Id":"371","Name":"Worm of Sand","NameId":"Sandworm","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 1 time per battle."},{"Level":2,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 2 times per battle."},{"Level":3,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 3 times per battle."}],"Id":"756","Name":"Yeti Crab","NameId":"YetiCrab","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block 10 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Transformed: Give two back-most friends 1 experience."},{"Level":2,"About":"Transformed: Give two back-most friends 2 experience."},{"Level":3,"About":"Transformed: Give two back-most friends 3 experience."}],"Id":"777","Name":"Adult Flounder","NameId":"FlounderAdult","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +3 attack and +4 mana and Spooked. Works 2 times per turn."},{"Level":2,"About":"Friend summoned: Give it +6 attack and +8 mana and Spooked. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it +9 attack and +12 mana and Spooked. Works 2 times per turn."}],"Id":"631","Name":"Amalgamation","NameId":"Amalgam","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Ailments","Summon"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give ALL pets +8 health."},{"Level":2,"About":"Start of battle: Give ALL pets +16 health."},{"Level":3,"About":"Start of battle: Give ALL pets +24 health."}],"Id":"166","Name":"Armadillo","NameId":"Armadillo","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friendly gained perk: Give it permanent +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Friendly gained perk: Give it permanent +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Friendly gained perk: Give it permanent +3 attack and +3 health. Works 3 times per turn."}],"Id":"212","Name":"Axolotl","NameId":"Axolotl","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +3 attack and +3 health."},{"Level":2,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +6 attack and +6 health."},{"Level":3,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +9 attack and +9 health."}],"Id":"395","Name":"Aye-aye","NameId":"AyeAye","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 toy that brings doom and chaos!"},{"Level":2,"About":"Buy: Choose one level 2 toy that brings doom and chaos!"},{"Level":3,"About":"Buy: Choose one level 3 toy that brings doom and chaos!"}],"Id":"613","Name":"Bad Dog","NameId":"BadDog","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys","Disruption"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Remove 6 attack from ALL other pets to a minimum of 4 attack."},{"Level":2,"About":"Start of battle: Remove 12 attack from ALL other pets to a minimum of 4 attack."},{"Level":3,"About":"Start of battle: Remove 18 attack from ALL other pets to a minimum of 4 attack."}],"Id":"396","Name":"Banggai Cardinalfish","NameId":"BanggaiCardinalfish","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Eats food: Swallow the left-most shop pet and summon it at level 1 with base stats on faint."},{"Level":2,"About":"Eats food: Swallow the left-most shop pet and summon it at level 2 with double stats on faint."},{"Level":3,"About":"Eats food: Swallow the left-most shop pet and summon it at level 3 with triple stats on faint."}],"Id":"182","Name":"Beluga Whale","NameId":"WhiteWhale","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Mvp"]},{"Attack":2,"Health":10,"Abilities":[{"Level":1,"About":"Faint: Give the nearest friend behind +1 experience. Give to one more friend in battle."},{"Level":2,"About":"Faint: Give the nearest friend behind +2 experience. Give to one more friend in battle."},{"Level":3,"About":"Faint: Give the nearest friend behind +3 experience. Give to one more friend in battle."}],"Id":"150","Name":"Blobfish","NameId":"Blobfish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three random friends +1 attack and +1 health for each food this has eaten this turn."},{"Level":2,"About":"Faint: Give three random friends +2 attack and +2 health for each food this has eaten this turn."},{"Level":3,"About":"Faint: Give three random friends +3 attack and +3 health for each food this has eaten this turn."}],"Id":"774","Name":"Blue Jay","NameId":"BlueJay","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Give friends +1 attack and +1 health."},{"Level":2,"About":"Buy: Give friends +2 attack and +2 health."},{"Level":3,"About":"Buy: Give friends +3 attack and +3 health."}],"Id":"271","Name":"Blue Ringed Octopus","NameId":"BlueRingedOctopus","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":2,"Health":12,"Abilities":[{"Level":1,"About":"Before attack: Make the target Crisp. Works 2 times per battle."},{"Level":2,"About":"Before attack: Make the target Crisp. Works 4 times per battle."},{"Level":3,"About":"Before attack: Make the target Crisp. Works 6 times per battle."}],"Id":"656","Name":"Boitata","NameId":"Boitata","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three friends that dealt damage this battle permanent +1 attack and +1 health."},{"Level":2,"About":"Faint: Give three friends that dealt damage this battle permanent +2 attack and +2 health."},{"Level":3,"About":"Faint: Give three friends that dealt damage this battle permanent +3 attack and +3 health."}],"Id":"688","Name":"Brahma Chicken","NameId":"BrahmaChicken","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give future shop pets +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give future shop pets +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give future shop pets +3 attack and +3 health."}],"Id":"14","Name":"Chicken","NameId":"Chicken","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Buy: Replace shop food with two free Milk."},{"Level":2,"About":"Buy: Replace shop food with two free Better Milk."},{"Level":3,"About":"Buy: Replace shop food with two free Best Milk."}],"Id":"15","Name":"Cow","NameId":"Cow","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food","Cycle"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 1 time per turn."},{"Level":2,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 2 times per turn."},{"Level":3,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 3 times per turn."}],"Id":"219","Name":"Crane","NameId":"Crane","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 8 damage to the last enemy."},{"Level":2,"About":"Start of battle: Deal 8 damage to the last enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 8 damage to the last enemy. Triggers 3 times."}],"Id":"19","Name":"Crocodile","NameId":"Crocodile","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +1 health to one friend of each level."},{"Level":2,"About":"End turn: Give +2 attack and +2 health to one friend of each level."},{"Level":3,"About":"End turn: Give +3 attack and +3 health to one friend of each level."}],"Id":"196","Name":"Dragonfly","NameId":"Dragonfly","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/5 level 1 pet from the next shop tier."},{"Level":2,"About":"Faint: Summon one 10/10 level 2 pet from the next shop tier."},{"Level":3,"About":"Faint: Summon one 15/15 level 3 pet from the next shop tier."}],"Id":"27","Name":"Eagle","NameId":"Eagle","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 1 time per battle."},{"Level":2,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 2 times per battle."},{"Level":3,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 3 times per battle."}],"Id":"221","Name":"Egyptian Vulture","NameId":"EgyptianVulture","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Empty front space: Give nearest friend ahead +4 health and move it to the front in battle."},{"Level":2,"About":"Empty front space: Give nearest friend ahead +8 health and move it to the front in battle."},{"Level":3,"About":"Empty front space: Give nearest friend ahead +12 health and move it to the front in battle."}],"Id":"223","Name":"Emu","NameId":"Emu","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 friend with +1 attack and +1 health for each ailment gained."},{"Level":2,"About":"Faint: Summon two 3/3 friends with +1 attack and +1 health for each ailment gained."},{"Level":3,"About":"Faint: Summon three 3/3 friends with +1 attack and +1 health for each ailment gained."}],"Id":"770","Name":"Estemmenosuchus","NameId":"Estemmenosuchus","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments","Summon"]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Feed three Corncobs with triple effect to the nearest friend behind."},{"Level":2,"About":"Faint: Feed three Corncobs with triple effect to the nearest two friends behind."},{"Level":3,"About":"Faint: Feed three Corncobs with triple effect to the nearest three friends behind."}],"Id":"691","Name":"Farmer Crow","NameId":"FarmerCrow","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give attack to the highest tier friend."},{"Level":2,"About":"Faint: Give attack to the two highest tier friends."},{"Level":3,"About":"Faint: Give attack to the three highest tier friends."}],"Id":"274","Name":"Fire Ant","NameId":"FireAnt","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Eats two food: Transform and give the two back-most friends 1 experience."},{"Level":2,"About":"Eats two food: Transform and give the two back-most friends 2 experience."},{"Level":3,"About":"Eats two food: Transform and give the two back-most friends 3 experience."}],"Id":"776","Name":"Flounder","NameId":"FlounderYoung","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Steal the right-most shop food."},{"Level":2,"About":"End turn: Steal the right-most shop food and double its attack and health effects."},{"Level":3,"About":"End turn: Steal the right-most shop food and triple its attack and health effects."}],"Id":"106","Name":"Fox","NameId":"Fox","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":10,"Abilities":[{"Level":1,"About":"Hurt: Deal 33% of damage taken as damage to one random enemy."},{"Level":2,"About":"Hurt: Deal 66% of damage taken as damage to one random enemy."},{"Level":3,"About":"Hurt: Deal 100% of damage taken as damage to one random enemy."}],"Id":"409","Name":"Geometric Tortoise","NameId":"GeometricTortoise","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give friends +2 health. Spend 2 trumpets to give 1 more health in the future."},{"Level":2,"About":"Faint: Give friends +4 health. Spend 2 trumpets to give 2 more health in the future."},{"Level":3,"About":"Faint: Give friends +6 health. Spend 2 trumpets to give 3 more health in the future."}],"Id":"752","Name":"Giant Isopod","NameId":"GiantIsopod","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Deal 4 damage to one random enemy for each friendly transformation this turn."},{"Level":2,"About":"Faint: Deal 8 damage to one random enemy for each friendly transformation this turn."},{"Level":3,"About":"Faint: Deal 12 damage to one random enemy for each friendly transformation this turn."}],"Id":"411","Name":"Giant Pangasius","NameId":"GiantPangasius","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Disruption","Transform"],"Random":true},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend bought: Gain +1 gold. Works 2 times per turn."},{"Level":2,"About":"Friend bought: Gain +2 gold. Works 2 times per turn."},{"Level":3,"About":"Friend bought: Gain +3 gold. Works 2 times per turn."}],"Id":"34","Name":"Goat","NameId":"Goat","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle","Gold"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Roll: Gain one free roll. Works 2 times per turn."},{"Level":2,"About":"Roll: Gain one free roll. Works 4 times per turn."},{"Level":3,"About":"Roll: Gain one free roll. Works 6 times per turn."}],"Id":"110","Name":"Hamster","NameId":"Hamster","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give three random friends that fainted last battle +2 health."},{"Level":2,"About":"Start of turn: Give three random friends that fainted last battle +4 health."},{"Level":3,"About":"Start of turn: Give three random friends that fainted last battle +6 health."}],"Id":"414","Name":"Hawaiian Monk Seal","NameId":"HawaiianMonkSeal","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain +1 mana for each roll this turn."},{"Level":2,"About":"Friend ahead faints: Gain +2 mana for each roll this turn."},{"Level":3,"About":"Friend ahead faints: Gain +3 mana for each roll this turn."}],"Id":"350","Name":"Hippocampus","NameId":"Hippocampus","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll","Guard","Mana"],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Swap attack and health of ALL pets.","FinePrint":"Will shuffle positions of all pets at level 2."},{"Level":2,"About":"Start of battle: Shuffle positions of ALL pets.","FinePrint":"Will swap stats and shuffe positions of all pets at level 3."},{"Level":3,"About":"Start of battle: Swap attack and health and shuffle positions of ALL pets."}],"Id":"167","Name":"Hyena","NameId":"Hyena","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on one enemy per battle."},{"Level":2,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on two different enemies per battle."},{"Level":3,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on three different enemies per battle."}],"Id":"553","Name":"Ibex","NameId":"Ibex","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Pet flung: Set attack and health to 13."},{"Level":2,"About":"Pet flung: Set attack and health to 26."},{"Level":3,"About":"Pet flung: Set attack and health to 39."}],"Id":"554","Name":"Jackal","NameId":"Jackal","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one random 14/16 pet from tier 3 up front for you and the opponent."},{"Level":2,"About":"Faint: Summon two random 14/16 pets from tier 3 up front for you and the opponent."},{"Level":3,"About":"Faint: Summon three random 14/16 pets from tier 3 up front for you and the opponent."}],"Id":"655","Name":"Kappa","NameId":"Kappa","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Friend faints: Transfer all friendly mana + 2 to nearest friend ahead."},{"Level":2,"About":"Friend faints: Transfer all friendly mana + 4 to nearest friend ahead."},{"Level":3,"About":"Friend faints: Transfer all friendly mana + 6 to nearest friend ahead."}],"Id":"354","Name":"Kitsune","NameId":"Kitsune","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it +1 attack and +2 health once. Permanent if it jumped."},{"Level":2,"About":"Before friend attacks: Give it +2 attack and +4 health once. Permanent if it jumped."},{"Level":3,"About":"Before friend attacks: Give it +3 attack and +6 health once. Permanent if it jumped."}],"Id":"640","Name":"Loveland Frogman","NameId":"LovelandFrogman","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend mana to remove 1 attack and health per mana from one random enemy."},{"Level":2,"About":"Faint: Spend mana to remove 1 attack and health per mana from two random enemies."},{"Level":3,"About":"Faint: Spend mana to remove 1 attack and health per mana from three random enemies."}],"Id":"808","Name":"Lusca","NameId":"Lusca","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 12/12 Orangutan with the same food perk as this."},{"Level":2,"About":"Start of battle: Summon one 24/24 Orangutan with the same food perk as this."},{"Level":3,"About":"Start of battle: Summon one 36/36 Orangutan with the same food perk as this."}],"Id":"238","Name":"Macaque","NameId":"Macaque","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Convert trumpets into double mana and spread it evenly to friends."},{"Level":2,"About":"Faint: Convert trumpets into triple mana and spread it evenly to friends."},{"Level":3,"About":"Faint: Convert trumpets into quadruple mana and spread it evenly to friends."}],"Id":"556","Name":"Maltese","NameId":"Maltese","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Mana"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it Melon. Works on one friend per turn."},{"Level":2,"About":"Before friend attacks: Give it Melon. Works on two different friends per turn."},{"Level":3,"About":"Before friend attacks: Give it Melon. Works on three different friends per turn."}],"Id":"532","Name":"Marine Iguana","NameId":"MarineIguana","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give front-most friendly pet +2 attack and +2 health."},{"Level":2,"About":"End turn: Give front-most friendly pet +4 attack and +4 health."},{"Level":3,"About":"End turn: Give front-most friendly pet +6 attack and +6 health."}],"Id":"46","Name":"Monkey","NameId":"Monkey","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Unfreeze shop and give one random friend +3 health for each tier 1 shop pet."},{"Level":2,"About":"End turn: Unfreeze shop and give one random friend +6 health for each tier 1 shop pet."},{"Level":3,"About":"End turn: Unfreeze shop and give one random friend +9 health for each tier 1 shop pet."}],"Id":"202","Name":"Moose","NameId":"Moose","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Friendly toy broke: Give adjacent friends +2 attack and +3 health."},{"Level":2,"About":"Friendly toy broke: Give adjacent friends +4 attack and +6 health."},{"Level":3,"About":"Friendly toy broke: Give adjacent friends +6 attack and +9 health."}],"Id":"242","Name":"Mosasaurus","NameId":"Mosasaurus","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend mana to gain 1 trumpet for each mana."},{"Level":2,"About":"Faint: Spend mana to gain 2 trumpets for each mana."},{"Level":3,"About":"Faint: Spend mana to gain 3 trumpets for each mana."}],"Id":"784","Name":"Namazu","NameId":"Namazu","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Trumpets"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 Boat. If it\'s your first Boat this battle, give it +1 and +1 for each roll."},{"Level":2,"About":"Faint: Summon one 6/6 Boat. If it\'s your first Boat this battle, give it +2 and +2 for each roll."},{"Level":3,"About":"Faint: Summon one 9/9 Boat. If it\'s your first Boat this battle, give it +3 and +3 for each roll."}],"Id":"363","Name":"Nessie","NameId":"Nessie","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"614","Name":"Nessie?","NameId":"FakeNessie","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Takes 4 less damage. Works 3 times per turn."},{"Level":2,"About":"Takes 8 less damage. Works 3 times per turn."},{"Level":3,"About":"Takes 12 less damage. Works 3 times per turn."}],"Id":"657","Name":"Nurikabe","NameId":"Nurikabe","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to one random enemy."},{"Level":2,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to two random enemies."},{"Level":3,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to three random enemies."}],"Id":"276","Name":"Nurse Shark","NameId":"NurseShark","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +8 trumpets."},{"Level":2,"About":"Faint: Gain +16 trumpets."},{"Level":3,"About":"Faint: Gain +24 trumpets."}],"Id":"246","Name":"Nyala","NameId":"Nyala","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Summon one Mantis with 40% attack and health of this."},{"Level":2,"About":"Start of battle: Summon one Mantis with 80% attack and health of this."},{"Level":3,"About":"Start of battle: Summon one Mantis with 120% attack and health of this."}],"Id":"557","Name":"Orchid Mantis","NameId":"OrchidMantis","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +4 attack and +4 health for each friend that sells for at least 3 gold."},{"Level":2,"About":"Start of battle: Gain +8 attack and +8 health for each friend that sells for at least 3 gold."},{"Level":3,"About":"Start of battle: Gain +12 attack and +12 health for each friend that sells for at least 3 gold."}],"Id":"801","Name":"Pacific Fanfish","NameId":"PacificFanfish","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give White Okra perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give White Okra perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give White Okra perk to the three nearest friends behind."}],"Id":"423","Name":"Painted Terrapin","NameId":"PaintedTerrapin","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 10 damage twice or ailment once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Perks are two times stronger on this in battle."},{"Level":2,"About":"Perks are three times stronger on this in battle."},{"Level":3,"About":"Perks are four times stronger on this in battle."}],"Id":"250","Name":"Panther","NameId":"Panther","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Swallow one Strawberry friend ahead and turn it into a Salmon on faint."},{"Level":2,"About":"Start of battle: Swallow two Strawberry friends ahead and turn them into Salmons on faint."},{"Level":3,"About":"Start of battle: Swallow three Strawberry friends ahead and turn them into Salmons on faint."}],"Id":"129","Name":"Pelican","NameId":"Pelican","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Summon"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Spend 4 mana to gain +3 gold next turn."},{"Level":2,"About":"Faint: Spend 4 mana to gain +6 gold next turn."},{"Level":3,"About":"Faint: Spend 4 mana to gain +9 gold next turn."}],"Id":"619","Name":"Pixiu","NameId":"Pixiu","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of turn: Give one random frozen shop pet +4 attack and +4 health."},{"Level":2,"About":"Start of turn: Give one random frozen shop pet +8 attack and +8 health."},{"Level":3,"About":"Start of turn: Give one random frozen shop pet +12 attack and +12 health."}],"Id":"108","Name":"Polar Bear","NameId":"PolarBear","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Before attack: Steal food perk from target. Works 1 time per battle."},{"Level":2,"About":"Before attack: Steal food perk from target. Works 2 times per battle."},{"Level":3,"About":"Before attack: Steal food perk from target. Works 3 times per battle."}],"Id":"158","Name":"Raccoon","NameId":"Racoon","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Make the last enemy Crisp."},{"Level":2,"About":"Start of battle: Make the two last enemies Crisp."},{"Level":3,"About":"Start of battle: Make the three last enemies Crisp."}],"Id":"368","Name":"Red Dragon","NameId":"RedDragon","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":["Ailments"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."},{"Level":2,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."},{"Level":3,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."}],"Id":"428","Name":"Red Panda","NameId":"RedPanda","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Knock out: Deal 4 damage to the first enemy. Double against tier 1 pets."},{"Level":2,"About":"Knock out: Deal 8 damage to the first enemy. Double against tier 1 pets."},{"Level":3,"About":"Knock out: Deal 12 damage to the first enemy. Double against tier 1 pets."}],"Id":"55","Name":"Rhino","NameId":"Rhino","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one Chick with 1 health and 50% attack of this."},{"Level":2,"About":"Faint: Summon two Chicks with 1 health and 50% attack of this."},{"Level":3,"About":"Faint: Summon three Chicks with 1 health and 50% attack of this."}],"Id":"63","Name":"Rooster","NameId":"Rooster","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Summoned: Deal 5 damage to one random enemy. Repeat for every 25 health this has."},{"Level":2,"About":"Summoned: Deal 10 damage to one random enemy. Repeat for every 25 health this has."},{"Level":3,"About":"Summoned: Deal 15 damage to one random enemy. Repeat for every 25 health this has."}],"Id":"562","Name":"Salmon","NameId":"Salmon","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the two front-most friends AND enemies +2 experience."},{"Level":2,"About":"Start of battle: Give the two front-most friends AND enemies +4 experience."},{"Level":3,"About":"Start of battle: Give the two front-most friends AND enemies +6 experience."}],"Id":"370","Name":"Salmon of Knowledge","NameId":"SalmonofWisdom","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Summoned: Gain Peanut perk."},{"Level":2,"About":"Summoned: Gain Peanut perk."},{"Level":3,"About":"Summoned: Gain Peanut perk."}],"Id":"65","Name":"Scorpion","NameId":"Scorpion","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make one random enemy Tasty."},{"Level":2,"About":"Start of battle: Make two random enemies Tasty."},{"Level":3,"About":"Start of battle: Make three random enemies Tasty."}],"Id":"564","Name":"Sea Cucumber","NameId":"SeaCucumber","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Faint: Give one random enemy permanent +2 attack and +2 health.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Eats food: Give three random friends +1 attack."},{"Level":2,"About":"Eats food: Give three random friends +2 attack."},{"Level":3,"About":"Eats food: Give three random friends +3 attack."}],"Id":"66","Name":"Seal","NameId":"Seal","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Two friends faint: Give the nearest friend ahead +3 attack and +4 health."},{"Level":2,"About":"Two friends faint: Give the nearest friend ahead +6 attack and +8 health."},{"Level":3,"About":"Two friends faint: Give the nearest friend ahead +9 attack and +12 health."}],"Id":"259","Name":"Secretary Bird","NameId":"SecretaryBird","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend faints: Gain +2 attack and +2 health."},{"Level":2,"About":"Friend faints: Gain +4 attack and +4 health."},{"Level":3,"About":"Friend faints: Gain +6 attack and +6 health."}],"Id":"69","Name":"Shark","NameId":"Shark","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Replace the nearest Strawberry ahead with +4 attack and +4 health."},{"Level":2,"About":"Start of turn: Replace the nearest Strawberry ahead with +8 attack and +8 health."},{"Level":3,"About":"Start of turn: Replace the nearest Strawberry ahead with +12 attack and +12 health."}],"Id":"134","Name":"Shoebill","NameId":"Shoebill","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Give three random friends with no food perks +1 attack and +1 health."},{"Level":2,"About":"End turn: Give three random friends with no food perks +2 attack and +2 health."},{"Level":3,"About":"End turn: Give three random friends with no food perks +3 attack and +3 health."}],"Id":"146","Name":"Siberian Husky","NameId":"SiberianHusky","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain +1 gold on next turn. Works 3 times per battle."},{"Level":2,"About":"Before attack: Gain +2 gold on next turn. Works 3 times per battle."},{"Level":3,"About":"Before attack: Gain +3 gold on next turn. Works 3 times per battle."}],"Id":"261","Name":"Silver Fox","NameId":"SilverFox","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Skewer perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Skewer perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Skewer perk to the three nearest friends behind."}],"Id":"277","Name":"Snapping Turtle","NameId":"SnappingJawTurtle","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack second and third enemy for 3 damage.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Gain +5 attack and +5 health and jump-attack one random enemy."},{"Level":2,"About":"Start of battle: Gain +10 attack and +10 health and jump-attack one random enemy."},{"Level":3,"About":"Start of battle: Gain +15 attack and +15 health and jump-attack one random enemy."}],"Id":"716","Name":"Snow Leopard","NameId":"SnowLeopard","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"],"Random":true},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Level 3 friend sold: Give friends +1 attack and +1 health. Triple if sold pet had at least 10 attack."},{"Level":2,"About":"Level 3 friend sold: Give friends +2 attack and +2 health. Triple if sold pet had at least 10 attack."},{"Level":3,"About":"Level 3 friend sold: Give friends +3 attack and +3 health. Triple if sold pet had at least 10 attack."}],"Id":"153","Name":"Starfish","NameId":"Starfish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Sting Ray toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Sting Ray toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Sting Ray toy."}],"Id":"178","Name":"Sting Ray","NameId":"Stingray","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal attack damage directly back to whoever knocked this out."},{"Level":2,"About":"Faint: Deal double attack damage directly back to whoever knocked this out."},{"Level":3,"About":"Faint: Deal triple attack damage directly back to whoever knocked this out."}],"Id":"278","Name":"Stonefish","NameId":"Stonefish","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":6,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Deal 100% attack damage to the most healthy enemy and itself."},{"Level":2,"About":"Start of battle: Deal 200% attack damage to the most healthy enemy and itself."},{"Level":3,"About":"Start of battle: Deal 300% attack damage to the most healthy enemy and itself."}],"Id":"119","Name":"Swordfish","NameId":"SwordFish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Give friends +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Give friends +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Give friends +3 attack and +3 health. Works 3 times per turn."}],"Id":"436","Name":"Taita Thrush","NameId":"TaitaThrush","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":10,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 health from all enemies. Repeat for every 10 attack this has."},{"Level":2,"About":"Start of battle: Remove 2 health from all enemies. Repeat for every 10 attack this has."},{"Level":3,"About":"Start of battle: Remove 3 health from all enemies. Repeat for every 10 attack this has."}],"Id":"569","Name":"Tarantula Hawk","NameId":"TarantulaHawk","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 25% of all stats and divide them out. Socialism!"},{"Level":2,"About":"Start of battle: Remove 50% of all stats and divide them out. Socialism!"},{"Level":3,"About":"Start of battle: Remove 75% of all stats and divide them out. Socialism!"}],"Id":"812","Name":"Tarasque","NameId":"Tarasque","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Give one random friend +3 attack and +3 health."},{"Level":2,"About":"Hurt: Give one random friend +6 attack and +6 health."},{"Level":3,"About":"Hurt: Give one random friend +9 attack and +9 health."}],"Id":"142","Name":"Triceratops","NameId":"Triceratops","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +3 attack and +1 health."},{"Level":2,"About":"Friend summoned: Give it +6 attack and +2 health."},{"Level":3,"About":"Friend summoned: Give it +9 attack and +3 health."}],"Id":"79","Name":"Turkey","NameId":"Turkey","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Enemy gained ailment: Deal 4 damage to it and gain damage as health. Works 2 times per battle."},{"Level":2,"About":"Enemy gained ailment: Deal 8 damage to it and gain damage as health. Works 2 times per battle."},{"Level":3,"About":"Enemy gained ailment: Deal 12 damage to it and gain damage as health. Works 2 times per battle."}],"Id":"381","Name":"Vampire Bat","NameId":"VampireBat","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold.","FinePrint":"Can\'t stock itself or Anglerfish."},{"Level":2,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold, twice.","FinePrint":"Can\'t stock itself or Anglerfish."},{"Level":3,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold, thrice.","FinePrint":"Can\'t stock itself or Anglerfish."}],"Id":"573","Name":"Venus Flytrap","NameId":"VenusFlytrap","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Two friends faint: Deal 4 damage to one random enemy."},{"Level":2,"About":"Two friends faint: Deal 8 damage to one random enemy."},{"Level":3,"About":"Two friends faint: Deal 12 damage to one random enemy."}],"Id":"135","Name":"Vulture","NameId":"Vulture","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption","Summon"],"Random":true},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: If turn number is even, gain +50% attack and health. Otherwise gain 6 mana."},{"Level":2,"About":"Start of battle: If turn number is even, gain +100% attack and health. Otherwise gain 12 mana."},{"Level":3,"About":"Start of battle: If turn number is even, gain +150% attack and health. Otherwise gain 18 mana."}],"Id":"383","Name":"Werewolf","NameId":"Werewolf","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Summon three 3/2 Pigs."},{"Level":2,"About":"Faint: Summon three 6/4 Pigs."},{"Level":3,"About":"Faint: Summon three 9/6 Pigs."}],"Id":"170","Name":"Wolf","NameId":"Wolf","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Deal 1 damage to nearest two pets ahead two times. Double against enemies."},{"Level":2,"About":"Start of battle: Deal 1 damage to nearest two pets ahead four times. Double against enemies."},{"Level":3,"About":"Start of battle: Deal 1 damage to nearest two pets ahead six times. Double against enemies."}],"Id":"156","Name":"Woodpecker","NameId":"Woodpecker","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt","Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first enemy."},{"Level":2,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first two enemies."},{"Level":3,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first three enemies."}],"Id":"807","Name":"Woolly Rhino","NameId":"WoollyRhino","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Buy & Sell: Give one random friend +2 attack and +2 health."},{"Level":2,"About":"Buy & Sell: Give one random friend +4 attack and +4 health."},{"Level":3,"About":"Buy & Sell: Give one random friend +6 attack and +6 health."}],"Id":"155","Name":"Zebra","NameId":"Zebra","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +3 attack and +3 health."},{"Level":2,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +6 attack and +6 health."},{"Level":3,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +9 attack and +9 health."}],"Id":"782","Name":"Akhlut","NameId":"Akhlut","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Adjacent tier 4 or lower friends deals 3 ability damage extra."},{"Level":2,"About":"Adjacent tier 4 or lower friends deals 6 ability damage extra."},{"Level":3,"About":"Adjacent tier 4 or lower friends deals 9 ability damage extra."}],"Id":"535","Name":"Albatross","NameId":"Albatross","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 3 times per turn."}],"Id":"194","Name":"Alpaca","NameId":"Alpaca","Tier":6,"TierMax":2147483647,"Packs":["Pack3","Custom"],"PacksRequired":["Pack3","Custom"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Friend hurt: Restore its health. Can restore up to 15 health per turn."},{"Level":2,"About":"Friend hurt: Restore its health. Can restore up to 30 health per turn."},{"Level":3,"About":"Friend hurt: Restore its health. Can restore up to 45 health per turn."}],"Id":"772","Name":"Amargasaurus","NameId":"Amargasaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +1 XP in battle for every 2 roll."},{"Level":2,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +2 XP in battle for every 2 roll."},{"Level":3,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +3 XP in battle for every 2 roll."}],"Id":"536","Name":"Ammonite","NameId":"Ammonite","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Transform","Levels","Roll"],"Random":true},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Friend transformed: Give it permanent +2 attack and +2 health. Works 2 times per turn."},{"Level":2,"About":"Friend transformed: Give it permanent +4 attack and +4 health. Works 2 times per turn."},{"Level":3,"About":"Friend transformed: Give it permanent +6 attack and +6 health. Works 2 times per turn."}],"Id":"391","Name":"Amsterdam Albatross","NameId":"AmsterdamAlbatross","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose one free pet from your last opponent to stock."},{"Level":2,"About":"Buy: Choose one free pet from your last opponent to stock twice."},{"Level":3,"About":"Buy: Choose one free pet from your last opponent to stock thrice."}],"Id":"180","Name":"Anglerfish","NameId":"Anglerfish","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make the highest attack enemy Sleepy."},{"Level":2,"About":"Start of battle: Make the two highest attack enemies Sleepy."},{"Level":3,"About":"Start of battle: Make the three highest attack enemies Sleepy."}],"Id":"603","Name":"Bakunawa","NameId":"Bakunawa","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Attack with half damage, once.","CustomArchetypes":["Ailments"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon ANY one useful <b>Start of Battle</b> pet from tier 4 and activate its ability."},{"Level":2,"About":"Faint: Summon ANY two useful <b>Start of Battle</b> pets from tier 4 and activate their abilities."},{"Level":3,"About":"Faint: Summon ANY three useful <b>Start of Battle</b> pets from tier 4 and activate their abilities."}],"Id":"397","Name":"Bay Cat","NameId":"BayCat","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":12,"Health":12,"Abilities":[{"Level":1,"About":"End turn: Gain +2 attack and +2 health. Attack and health can go up to 100!"},{"Level":2,"About":"End turn: Gain +4 attack and +4 health. Attack and health can go up to 100!"},{"Level":3,"About":"End turn: Gain +6 attack and +6 health. Attack and health can go up to 100!"}],"Id":"333","Name":"Behemoth","NameId":"Behemoth","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff","Mvp"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Spend 7 gold: Give three random friends +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Spend 7 gold: Give three random friends +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Spend 7 gold: Give three random friends +3 attack and +3 health. Works 3 times per turn."}],"Id":"181","Name":"Bird of Paradise","NameId":"ParadiseBird","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff","Gold"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Remove 4 health from one random enemy for each food this has eaten this turn."},{"Level":2,"About":"Faint: Remove 8 health from one random enemy for each food this has eaten this turn."},{"Level":3,"About":"Faint: Remove 12 health from one random enemy for each food this has eaten this turn."}],"Id":"687","Name":"Black Bear","NameId":"BlackBear","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption","Food"],"Random":true},{"Attack":5,"Health":9,"Abilities":[{"Level":1,"About":"Seven enemy attacks: Deal 30 damage to the most healthy enemy."},{"Level":2,"About":"Seven enemy attacks: Deal 30 damage to the two most healthy enemies."},{"Level":3,"About":"Seven enemy attacks: Deal 30 damage to the three most healthy enemies."}],"Id":"398","Name":"Black Rhino","NameId":"BlackRhino","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":12,"Health":12,"Abilities":[{"Level":1,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +6 attack and +6 health."}],"Id":"399","Name":"Blue Whale","NameId":"BlueWhale","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain +4 attack and +2 health."},{"Level":2,"About":"Before attack: Gain +8 attack and +4 health."},{"Level":3,"About":"Before attack: Gain +12 attack and +6 health."}],"Id":"103","Name":"Boar","NameId":"Boar","Tier":6,"TierMax":2147483647,"Packs":["Pack1","Custom"],"PacksRequired":["Pack1","Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Friend transformed: Gain its level 1 ability. Works 2 times per battle."},{"Level":2,"About":"Friend transformed: Gain its level 2 ability. Works 2 times per battle."},{"Level":3,"About":"Friend transformed: Gain its level 3 ability. Works 2 times per battle."}],"Id":"403","Name":"California Condor","NameId":"CaliforniaCondor","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Shop food gives two times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."},{"Level":2,"About":"Shop food gives three times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."},{"Level":3,"About":"Shop food gives four times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."}],"Id":"11","Name":"Cat","NameId":"Cat","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff","Food","Mvp"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Activate Buy ability on the nearest friend ahead once, or give it +4 health."},{"Level":2,"About":"Start of turn: Activate Buy ability on the nearest friend ahead twice, or give it +8 health."},{"Level":3,"About":"Start of turn: Activate Buy ability on the nearest friend ahead thrice, or give it +12 health."}],"Id":"174","Name":"Catfish","NameId":"Catfish","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":9,"Health":9,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 1 time per battle."},{"Level":2,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 2 times per battle."},{"Level":3,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 3 times per battle."}],"Id":"337","Name":"Cerberus","NameId":"Cerberus","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Summon"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend ate corncob: Give them +1 attack and +1 health."},{"Level":2,"About":"Friend ate corncob: Give them +2 attack and +2 health."},{"Level":3,"About":"Friend ate corncob: Give them +3 attack and +3 health."}],"Id":"542","Name":"Chimpanzee","NameId":"Chimpanzee","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":12,"Health":6,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Deal 20% attack damage to one random enemy."},{"Level":2,"About":"Friend ahead attacks: Deal 40% attack damage to one random enemy."},{"Level":3,"About":"Friend ahead attacks: Deal 60% attack damage to one random enemy."}],"Id":"217","Name":"Cobra","NameId":"Cobra","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption","Guard"],"Random":true},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Transform the back-most level 1 or lower enemy to rock."},{"Level":2,"About":"Start of battle: Transform the back-most level 2 or lower enemy to rock."},{"Level":3,"About":"Start of battle: Transform the back-most level 3 or lower enemy to rock."}],"Id":"340","Name":"Cockatrice","NameId":"Cockatrice","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Eats two food: Gain Coconut perk until next turn."},{"Level":2,"About":"Eats two food: Gain Coconut perk that works twice until next turn."},{"Level":3,"About":"Eats two food: Gain Coconut perk that works thrice until next turn."}],"Id":"779","Name":"Coconut Crab","NameId":"CoconutCrab","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Food"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Tier 1 friend bought: Give friends +1 attack and +1 health. Works 4 times per turn."},{"Level":2,"About":"Tier 1 friend bought: Give friends +2 attack and +2 health. Works 4 times per turn."},{"Level":3,"About":"Tier 1 friend bought: Give friends +3 attack and +3 health. Works 4 times per turn."}],"Id":"25","Name":"Dragon","NameId":"Dragon","Tier":6,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Buff","Cycle"]},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Before attack: Move ailment to the first two enemies."},{"Level":2,"About":"Before attack: Move ailment to the first two enemies with double effect."},{"Level":3,"About":"Before attack: Move ailment to the first two enemies with triple effect."}],"Id":"769","Name":"Dunkleosteus","NameId":"Dunkleosteus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three random friends +1 attack and +1 health for each battle this has fought."},{"Level":2,"About":"Faint: Give three random friends +2 attack and +2 health for each battle this has fought."},{"Level":3,"About":"Faint: Give three random friends +3 attack and +3 health for each battle this has fought."}],"Id":"781","Name":"Eagle Owl","NameId":"EagleOwl","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Gain perk: Give three friends +4 attack and +4 health until next turn. Works 1 time per turn."},{"Level":2,"About":"Gain perk: Give three friends +8 attack and +8 health until next turn. Works 1 time per turn."},{"Level":3,"About":"Gain perk: Give three friends +12 attack and +12 health until next turn. Works 1 time per turn."}],"Id":"222","Name":"Elephant Seal","NameId":"ElephantSeal","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Feed one Corncob to all friends."},{"Level":2,"About":"End turn: Feed two Corncobs to all friends."},{"Level":3,"About":"End turn: Feed three Corncobs to all friends."}],"Id":"692","Name":"Farmer Dog","NameId":"FarmerDog","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend faints: Summon one 4/4 fly in its place. Works 3 times per turn."},{"Level":2,"About":"Friend faints: Summon one 8/8 fly in its place. Works 3 times per turn."},{"Level":3,"About":"Friend faints: Summon one 12/12 fly in its place. Works 3 times per turn."}],"Id":"30","Name":"Fly","NameId":"Fly","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Friend summoned: Give 25% of attack to it until next turn."},{"Level":2,"About":"Friend summoned: Give 50% of attack to it until next turn."},{"Level":3,"About":"Friend summoned: Give 75% of attack to it until next turn."}],"Id":"230","Name":"German Shepherd","NameId":"GermanShepard","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":7,"Health":10,"Abilities":[{"Level":1,"About":"Hurt: Gain Coconut perk. Works 1 time per turn."},{"Level":2,"About":"Hurt: Gain Coconut perk. Works 2 times per turn."},{"Level":3,"About":"Hurt: Gain Coconut perk. Works 3 times per turn."}],"Id":"36","Name":"Gorilla","NameId":"Gorilla","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Hurt"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 20 damage. Works 1 time per turn."},{"Level":2,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 40 damage. Works 1 time per turn."},{"Level":3,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 60 damage. Works 1 time per turn."}],"Id":"413","Name":"Green Sea Turtle","NameId":"GreenSeaTurtle","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Five friendly attacks: Deal 6 damage to two random enemies."},{"Level":2,"About":"Five friendly attacks: Deal 12 damage to two random enemies."},{"Level":3,"About":"Five friendly attacks: Deal 18 damage to two random enemies."}],"Id":"275","Name":"Grizzly Bear","NameId":"GrizzlyBear","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption","Summon"],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of turn: If this has a level 3 friend, gain +3 gold."},{"Level":2,"About":"Start of turn: If this has a level 3 friend, gain +6 gold."},{"Level":3,"About":"Start of turn: If this has a level 3 friend, gain +9 gold."}],"Id":"123","Name":"Hammerhead Shark","NameId":"Hammershark","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Gold","Levels"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Summon one random 5/5 pet from tier 1. Works 3 times per turn."},{"Level":2,"About":"Hurt: Summon one random 10/10 pet from tier 1. Works 3 times per turn."},{"Level":3,"About":"Hurt: Summon one random 15/15 pet from tier 1. Works 3 times per turn."}],"Id":"552","Name":"Harpy Eagle","NameId":"HarpyEagle","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give three friends +2 to their lowest stat."},{"Level":2,"About":"End turn: Give three friends +4 to their lowest stat."},{"Level":3,"About":"End turn: Give three friends +6 to their lowest stat."}],"Id":"415","Name":"Helmeted Hornbill","NameId":"HelmetedHornbill","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of battle: Gain +4 trumpets and 1 more for each 3 health this has."},{"Level":2,"About":"Start of battle: Gain +8 trumpets and 2 more for each 3 health this has."},{"Level":3,"About":"Start of battle: Gain +12 trumpets and 3 more for each 3 health this has."}],"Id":"186","Name":"Highland Cow","NameId":"HighlandCow","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":9,"Abilities":[{"Level":1,"About":"Friend transformed: Transform it back and down to level 1. Works 2 times per turn."},{"Level":2,"About":"Friend transformed: Transform it back and down to level 2. Works 2 times per turn."},{"Level":3,"About":"Friend transformed: Transform it back and down to level 3. Works 2 times per turn."}],"Id":"753","Name":"Hooded Seal","NameId":"HoodedSeal","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/5 Head for each 10 attack this has."},{"Level":2,"About":"Faint: Summon one 10/10 Head for each 10 attack this has."},{"Level":3,"About":"Faint: Summon one 15/15 Head for each 10 attack this has."}],"Id":"352","Name":"Hydra","NameId":"Hydra","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack and +1 health until next turn for each level 3 pet sold this game (max 5)."},{"Level":2,"About":"Friend summoned: Give it +2 attack and +2 health until next turn for each level 3 pet sold this game (max 5)."},{"Level":3,"About":"Friend summoned: Give it +3 attack and +3 health until next turn for each level 3 pet sold this game (max 5)."}],"Id":"652","Name":"Jersey Devil","NameId":"JerseyDevil","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Give friends ahead +1 attack and +1 health and then shuffle their positions."},{"Level":2,"About":"End turn: Give friends ahead +2 attack and +2 health and then shuffle their positions."},{"Level":3,"About":"End turn: Give friends ahead +3 attack and +3 health and then shuffle their positions."}],"Id":"124","Name":"Komodo","NameId":"Komodo","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Friend faints: Deal 1 damage to the nearest friend ahead."},{"Level":2,"About":"Friend faints: Deal 1 damage to the nearest two friends ahead."},{"Level":3,"About":"Friend faints: Deal 1 damage to the nearest three friends ahead."}],"Id":"749","Name":"Lamprey","NameId":"Lamprey","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 50% attack damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 50% attack damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 50% attack damage to three random enemies."}],"Id":"41","Name":"Leopard","NameId":"Leopard","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":6,"Health":10,"Abilities":[{"Level":1,"About":"Start of turn: Summon one 6/6 Fish and give it +2 experience."},{"Level":2,"About":"Start of turn: Summon one 12/12 Fish and give it +4 experience."},{"Level":3,"About":"Start of turn: Summon one 18/18 Fish and give it +6 experience."}],"Id":"356","Name":"Leviathan","NameId":"Leviathan","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Cycle"]},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: If this is your highest tier pet, gain +50% attack and health."},{"Level":2,"About":"Start of battle: If this is your highest tier pet, gain +100% attack and health."},{"Level":3,"About":"Start of battle: If this is your highest tier pet, gain +150% attack and health."}],"Id":"42","Name":"Lion","NameId":"Lion","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Pet sold: Give future shop pets of the same tier +1 attack and +1 health. Works 2 times per turn."},{"Level":2,"About":"Pet sold: Give future shop pets of the same tier +2 attack and +2 health. Works 2 times per turn."},{"Level":3,"About":"Pet sold: Give future shop pets of the same tier +3 attack and +3 health. Works 2 times per turn."}],"Id":"114","Name":"Lioness","NameId":"Lioness","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to one random enemy. Repeat for each 10 attack this has."},{"Level":2,"About":"Faint: Deal 6 damage to one random enemy. Repeat for each 10 attack this has."},{"Level":3,"About":"Faint: Deal 9 damage to one random enemy. Repeat for each 10 attack this has."}],"Id":"201","Name":"Lionfish","NameId":"Lionfish","Tier":6,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":4,"Health":12,"Abilities":[{"Level":1,"About":"Faint: Give friends +2 attack and +2 health."},{"Level":2,"About":"Faint: Give friends +4 attack and +4 health."},{"Level":3,"About":"Faint: Give friends +6 attack and +6 health."}],"Id":"45","Name":"Mammoth","NameId":"Mammoth","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Enemy ailments are two times worse."},{"Level":2,"About":"Enemy ailments are three times worse."},{"Level":3,"About":"Enemy ailments are four times worse."}],"Id":"358","Name":"Manticore","NameId":"Manticore","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":9,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal 10 damage to the first enemy."},{"Level":2,"About":"Start of battle: Deal 10 damage to the first enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 10 damage to the first enemy. Triggers 3 times."}],"Id":"190","Name":"Mantis Shrimp","NameId":"ShrimpMantis","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Spend 4 trumpets to give friends permanent +4 attack and +4 health evenly spread."},{"Level":2,"About":"Faint: Spend 4 trumpets to give friends permanent +8 attack and +8 health evenly spread."},{"Level":3,"About":"Faint: Spend 4 trumpets to give friends permanent +12 attack and +12 health evenly spread."}],"Id":"743","Name":"Markhor","NameId":"Markhor","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"After attack: Deal 4 damage to the least healthy enemy."},{"Level":2,"About":"After attack: Deal 4 damage to the two least healthy enemies."},{"Level":3,"About":"After attack: Deal 4 damage to the three least healthy enemies."}],"Id":"712","Name":"Mimic Octopus","NameId":"MimicOctopus","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":7,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Mongoose toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Mongoose toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Mongoose toy."}],"Id":"241","Name":"Mongoose","NameId":"Mongoose","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"After attack: Deal 6 damage to one random enemy."},{"Level":2,"About":"After attack: Deal 6 damage to two random enemies."},{"Level":3,"About":"After attack: Deal 6 damage to three random enemies."}],"Id":"50","Name":"Octopus","NameId":"Octopus","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Summon one random Faint pet from ANY pack as 6/6."},{"Level":2,"About":"Faint: Summon two random Faint pets from ANY pack as 6/6."},{"Level":3,"About":"Faint: Summon three random Faint pets from ANY pack as 6/6."}],"Id":"116","Name":"Orca","NameId":"Orca","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +2 health. Works 4 times per turn."},{"Level":2,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +4 health. Works 4 times per turn."},{"Level":3,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +6 health. Works 4 times per turn."}],"Id":"125","Name":"Ostrich","NameId":"Ostrich","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll","Buff"],"Random":true},{"Attack":2,"Health":10,"Abilities":[{"Level":1,"About":"Sell: Gain +3 gold."},{"Level":2,"About":"Sell: Gain +6 gold."},{"Level":3,"About":"Sell: Gain +9 gold."}],"Id":"248","Name":"Oyster","NameId":"Oyster","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":7,"Health":6,"Abilities":[{"Level":1,"About":"Anyone jumped: Give one random friendly pet +4 attack and +4 health."},{"Level":2,"About":"Anyone jumped: Give one random friendly pet +8 attack and +8 health."},{"Level":3,"About":"Anyone jumped: Give one random friendly pet +12 attack and +12 health."}],"Id":"424","Name":"Philippine Eagle","NameId":"PhilippineEagle","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"],"Random":true},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"Faint: Make ANY three random pets Crisp, then summon one 4/4 Young Phoenix."},{"Level":2,"About":"Faint: Make ANY six random pets Crisp, then summon one 8/8 Young Phoenix."},{"Level":3,"About":"Faint: Make ANY nine random pets Crisp, then summon one 12/12 Young Phoenix."}],"Id":"366","Name":"Phoenix","NameId":"Phoenix","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Hurt: Give friends +3 attack."},{"Level":2,"About":"Hurt: Give friends +6 attack."},{"Level":3,"About":"Hurt: Give friends +9 attack."}],"Id":"118","Name":"Piranha","NameId":"Piranha","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +1 health to one friend of each tier."},{"Level":2,"About":"End turn: Give +2 attack and +2 health to one friend of each tier."},{"Level":3,"About":"End turn: Give +3 attack and +3 health to one friend of each tier."}],"Id":"96","Name":"Poodle","NameId":"Poodle","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 1 time per battle.","FinePrint":"Does not summon other Pteranodons."},{"Level":2,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 2 times per battle.","FinePrint":"Does not summon other Pteranodons."},{"Level":3,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 3 times per battle.","FinePrint":"Does not summon other Pteranodons."}],"Id":"253","Name":"Pteranodon","NameId":"Pteranodon","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friendly toy repeats its ability as level 1."},{"Level":2,"About":"Friendly toy repeats its ability as level 2."},{"Level":3,"About":"Friendly toy repeats its ability as level 3."}],"Id":"254","Name":"Puma","NameId":"Puma","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":7,"Health":9,"Abilities":[{"Level":1,"About":"Sell: Choose one level 1 king toy."},{"Level":2,"About":"Sell: Choose one level 2 king toy."},{"Level":3,"About":"Sell: Choose one level 3 king toy."}],"Id":"616","Name":"Questing Beast","NameId":"QuestingBeast","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give one random tier 3 or lower friend +2 experience."},{"Level":2,"About":"End turn: Give one random tier 3 or lower friend +2 experience. Triggers 2 times."},{"Level":3,"About":"End turn: Give one random tier 3 or lower friend +2 experience. Triggers 3 times."}],"Id":"367","Name":"Quetzalcoatl","NameId":"Quetzalcoatl","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"],"Random":true},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friend lost perk: Return its perk. Works on one friend per turn."},{"Level":2,"About":"Friend lost perk: Return its perk. Works on two different friends per turn."},{"Level":3,"About":"Friend lost perk: Return its perk. Works on three different friends per turn."}],"Id":"561","Name":"Real Velociraptor","NameId":"RealVelociraptor","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":9,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain Melon perk. Works 1 time per battle."},{"Level":2,"About":"Before attack: Gain Melon perk. Works 2 times per battle."},{"Level":3,"About":"Before attack: Gain Melon perk. Works 3 times per battle."}],"Id":"205","Name":"Reindeer","NameId":"Reindeer","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +12 trumpets. Works 1 time per battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +24 trumpets. Works 1 time per battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +36 trumpets. Works 1 time per battle."}],"Id":"533","Name":"Rockhopper Penguin","NameId":"SouthernRockhopperPenguin","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard","Trumpets"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one Mammoth with +2 attack and +3 health for each time this was hurt."},{"Level":2,"About":"Faint: Summon two Mammoths with +2 attack and +3 health for each time this was hurt."},{"Level":3,"About":"Faint: Summon three Mammoths with +2 attack and +3 health for each time this was hurt."}],"Id":"148","Name":"Sabertooth Tiger","NameId":"SabertoothTiger","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon","Hurt"]},{"Attack":4,"Health":12,"Abilities":[{"Level":1,"About":"Friendly gained perk: Gain +1 gold next turn. Works 3 times per turn."},{"Level":2,"About":"Friendly gained perk: Gain +2 gold next turn. Works 3 times per turn."},{"Level":3,"About":"Friendly gained perk: Gain +3 gold next turn. Works 3 times per turn."}],"Id":"98","Name":"Sauropod","NameId":"Sauropod","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Gold","Perks"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"This pet\'s mana damage hits the most healthy enemy and one extra enemy."},{"Level":2,"About":"This pet\'s mana damage hits the most healthy enemy and two extra enemies."},{"Level":3,"About":"This pet\'s mana damage hits the most healthy enemy and three extra enemies."}],"Id":"372","Name":"Sea Serpent","NameId":"SeaSerpent","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Disruption"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of battle: Transform two friends behind into ANY useful level 1 <b>Faint</b> pets from tier 6."},{"Level":2,"About":"Start of battle: Transform two friends behind into ANY useful level 2 <b>Faint</b> pets from tier 6."},{"Level":3,"About":"Start of battle: Transform two friends behind into ANY useful level 3 <b>Faint</b> pets from tier 6."}],"Id":"432","Name":"Silky Sifaka","NameId":"SilkySifaka","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":8,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +1 mana for each 2 attack this has."},{"Level":2,"About":"Start of battle: Give the two front-most friends +1 mana for each 2 attack this has."},{"Level":3,"About":"Start of battle: Give the three front-most friends +1 mana for each 2 attack this has."}],"Id":"606","Name":"Sleipnir","NameId":"Sleipnir","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies."},{"Level":2,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies. Triggers 2 times."},{"Level":3,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies. Triggers 3 times."}],"Id":"773","Name":"Small One","NameId":"BabyCthulhu","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Deal 5 damage to one random enemy. Works 5 times per battle."},{"Level":2,"About":"Friend ahead attacks: Deal 10 damage to one random enemy. Works 5 times per battle."},{"Level":3,"About":"Friend ahead attacks: Deal 15 damage to one random enemy. Works 5 times per battle."}],"Id":"73","Name":"Snake","NameId":"Snake","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Guard"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend faints: Give one random friend +2 attack and +3 health."},{"Level":2,"About":"Friend faints: Give one random friend +4 attack and +6 health."},{"Level":3,"About":"Friend faints: Give one random friend +6 attack and +9 health."}],"Id":"143","Name":"Spinosaurus","NameId":"Spinosaurus","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon","Mvp"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give one perk-less friend +10 attack and +10 health."},{"Level":2,"About":"Start of battle: Give one perk-less friend +20 attack and +20 health."},{"Level":3,"About":"Start of battle: Give one perk-less friend +30 attack and +30 health."}],"Id":"144","Name":"Stegosaurus","NameId":"Stegosaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":9,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Jump-attack the opposite enemy."},{"Level":2,"About":"Start of battle: Jump-attack the opposite enemy and deal 6 damage to adjacent enemies."},{"Level":3,"About":"Start of battle: Jump-attack the opposite enemy and deal 12 damage to adjacent enemies."}],"Id":"434","Name":"Sumatran Tiger","NameId":"SumatranTiger","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":4,"Health":10,"Abilities":[{"Level":1,"About":"Start of battle: If turn number is odd, deal 4 damage to ALL pets ahead."},{"Level":2,"About":"Start of battle: If turn number is odd, deal 8 damage to ALL pets ahead."},{"Level":3,"About":"Start of battle: If turn number is odd, deal 12 damage to ALL pets ahead."}],"Id":"568","Name":"Sunfish","NameId":"Sunfish","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 10/10 level 1 copy of the back-most friend."},{"Level":2,"About":"Start of battle: Summon one 20/20 level 2 copy of the back-most friend."},{"Level":3,"About":"Start of battle: Summon one 30/30 level 3 copy of the back-most friend."}],"Id":"208","Name":"Tapir","NameId":"Tapir","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Friend level-up: Give friends +1 attack and +1 health."},{"Level":2,"About":"Friend level-up: Give friends +2 attack and +2 health."},{"Level":3,"About":"Friend level-up: Give friends +3 attack and +3 health."}],"Id":"636","Name":"Team Spirit","NameId":"TeamSpirit","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give Peanut perk to the front-most Strawberry friend."},{"Level":2,"About":"Start of battle: Give Peanut perk to the two front-most Strawberry friends."},{"Level":3,"About":"Start of battle: Give Peanut perk to the three front-most Strawberry friends."}],"Id":"806","Name":"Terror Bird","NameId":"TerrorBird","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":["Strawberry"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to the front-most Strawberry friend."},{"Level":2,"About":"Start of battle: Give Coconut perk to the two front-most Strawberry friends."},{"Level":3,"About":"Start of battle: Give Coconut perk to the three front-most Strawberry friends."}],"Id":"759","Name":"Therizinosaurus","NameId":"Therizinosaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Strawberry"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"The friend ahead repeats their ability in battle as if they were level 1."},{"Level":2,"About":"The friend ahead repeats their ability in battle as if they were level 2."},{"Level":3,"About":"The friend ahead repeats their ability in battle as if they were level 3."}],"Id":"77","Name":"Tiger","NameId":"Tiger","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Mvp","Mvp"]},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of turn: Give two tier 5 friends or higher +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Give two tier 5 friends or higher +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Give two tier 5 friends or higher +6 attack and +6 health."}],"Id":"78","Name":"Tyrannosaurus","NameId":"Tyrannosaurus","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +2 health to each friend with a different ailment."},{"Level":2,"About":"End turn: Give +2 attack and +4 health to each friend with a different ailment."},{"Level":3,"About":"End turn: Give +3 attack and +6 health to each friend with a different ailment."}],"Id":"711","Name":"Vampire Squid","NameId":"VampireSquid","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +2 attack and +3 health."},{"Level":2,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +4 attack and +6 health."},{"Level":3,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +6 attack and +9 health."}],"Id":"115","Name":"Velociraptor","NameId":"Velociraptor","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Peanut Butter perk to one random friend."},{"Level":2,"About":"Faint: Give Peanut Butter perk to two random friends."},{"Level":3,"About":"Faint: Give Peanut Butter perk to three random friends."}],"Id":"209","Name":"Walrus","NameId":"Walrus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":["Perks"],"Random":true},{"Attack":9,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give random friends +1 attack and +1 health for every 3 attack this has."},{"Level":2,"About":"Faint: Give random friends +2 attack and +2 health for every 3 attack this has."},{"Level":3,"About":"Faint: Give random friends +3 attack and +3 health for every 3 attack this has."}],"Id":"266","Name":"Warthog","NameId":"Warthog","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend behind +3 experience."},{"Level":2,"About":"Start of battle: Give the two nearest friends behind +3 experience."},{"Level":3,"About":"Start of battle: Give the three nearest friends behind +3 experience."}],"Id":"206","Name":"White Tiger","NameId":"WhiteTiger","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":8,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 1 time per battle."},{"Level":2,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 2 times per battle."},{"Level":3,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 3 times per battle."}],"Id":"268","Name":"Wildebeest","NameId":"Wildebeest","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give the nearest two friends ahead 5 mana."},{"Level":2,"About":"End turn: Give the nearest two friends ahead 10 mana."},{"Level":3,"About":"End turn: Give the nearest two friends ahead 15 mana."}],"Id":"633","Name":"Winter Spirit","NameId":"ForestSpirit","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Four friends hurt: Remove 3 health from all enemies."},{"Level":2,"About":"Four friends hurt: Remove 6 health from all enemies."},{"Level":3,"About":"Four friends hurt: Remove 9 health from all enemies."}],"Id":"269","Name":"Wolverine","NameId":"Wolverine","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Set attack and health of the most healthy pet from ANY team to 20."},{"Level":2,"About":"Faint: Set attack and health of the two most healthy pets from ANY team to 20."},{"Level":3,"About":"Faint: Set attack and health of the three most healthy pets from ANY team to 20."}],"Id":"766","Name":"Yellow Boxfish","NameId":"YellowBoxFish","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":9,"Abilities":[{"Level":1,"About":"Start of turn: Roll four times while freezing pet copies and tier 6 food."},{"Level":2,"About":"Start of turn: Roll eight times while freezing pet copies and tier 6 food."},{"Level":3,"About":"Start of turn: Roll twelve times while freezing pet copies and tier 6 food."}],"Id":"387","Name":"Yeti","NameId":"Yeti","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"648","Name":"Chimera Goat","NameId":"ChimeraGoat","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"650","Name":"Chimera Lion","NameId":"ChimeraLion","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"649","Name":"Chimera Snake","NameId":"ChimeraSnake","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"614","Name":"Fake Nessie","NameId":"FakeNessie","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Remove this."},{"Level":2,"About":"Start of battle: Remove this. Summoned: Remove this."},{"Level":3,"About":"Start of battle: Remove this. Summoned: Remove this."}],"Id":"823","Name":"Moby Dick","NameId":"MochaDick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Before battle: If pack has no pets/food from the tab, remove 1 XP from three random enemies."},{"Level":2,"About":"Before battle: If pack has no pets/food from the tab, remove 2 XP from three random enemies."},{"Level":3,"About":"Before battle: If pack has no pets/food from the tab, remove 3 XP from three random enemies."}],"Id":"824","Name":"Tanystropheus","NameId":"Tanystropheus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]}]')},3340(Ue,ge,B){B.d(ge,{A:()=>de});var R=B(7133),m="object"==typeof exports&&exports&&!exports.nodeType&&exports,G=m&&"object"==typeof module&&module&&!module.nodeType&&module,w=G&&G.exports===m&&R.A.process;const de=function(){try{return G&&G.require&&G.require("util").types||w&&w.binding&&w.binding("util")}catch{}}()},3446(Ue,ge,B){B.d(ge,{A:()=>w});var R=B(5659);const w=function se(g){return(0,R.A)(g,5)}},3744(Ue,ge,B){B.d(ge,{A:()=>m});const m=Array.isArray},4279(Ue,ge,B){B.d(ge,{c:()=>se});var R=B(253),m=B(4385),G=B(2496);function se(w,g){return g?(0,G.V)(w,g):new R.c((0,m.v)(w))}},4337(Ue,ge,B){B.d(ge,{y:()=>g});var R=B(7354),m=B(1456),G=B(8099);const w=(()=>{function me(re){return Error.call(this),this.message=re?`${re.length} errors occurred during unsubscription:\n${re.map((ne,oe)=>`${oe+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=re,this}return me.prototype=Object.create(Error.prototype),me})();class g{constructor(re){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,re&&(this._ctorUnsubscribe=!0,this._unsubscribe=re)}unsubscribe(){let re;if(this.closed)return;let{_parentOrParents:ne,_ctorUnsubscribe:oe,_unsubscribe:he,_subscriptions:Se}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ne instanceof g)ne.remove(this);else if(null!==ne)for(let Ge=0;Ge<ne.length;++Ge)ne[Ge].remove(this);if((0,G.T)(he)){oe&&(this._unsubscribe=void 0);try{he.call(this)}catch(Ge){re=Ge instanceof w?de(Ge.errors):[Ge]}}if((0,R.c)(Se)){let Ge=-1,_e=Se.length;for(;++Ge<_e;){const Me=Se[Ge];if((0,m.G)(Me))try{Me.unsubscribe()}catch(ze){re=re||[],ze instanceof w?re=re.concat(de(ze.errors)):re.push(ze)}}}if(re)throw new w(re)}add(re){let ne=re;if(!re)return g.EMPTY;switch(typeof re){case"function":ne=new g(re);case"object":if(ne===this||ne.closed||"function"!=typeof ne.unsubscribe)return ne;if(this.closed)return ne.unsubscribe(),ne;if(!(ne instanceof g)){const Se=ne;ne=new g,ne._subscriptions=[Se]}break;default:throw new Error("unrecognized teardown "+re+" added to Subscription.")}let{_parentOrParents:oe}=ne;if(null===oe)ne._parentOrParents=this;else if(oe instanceof g){if(oe===this)return ne;ne._parentOrParents=[oe,this]}else{if(-1!==oe.indexOf(this))return ne;oe.push(this)}const he=this._subscriptions;return null===he?this._subscriptions=[ne]:he.push(ne),ne}remove(re){const ne=this._subscriptions;if(ne){const oe=ne.indexOf(re);-1!==oe&&ne.splice(oe,1)}}}var me;function de(me){return me.reduce((re,ne)=>re.concat(ne instanceof w?ne.errors:ne),[])}g.EMPTY=((me=new g).closed=!0,me)},4385(Ue,ge,B){B.d(ge,{v:()=>R});const R=m=>G=>{for(let se=0,w=m.length;se<w&&!G.closed;se++)G.next(m[se]);G.complete()}},4421(Ue,ge,B){B.d(ge,{of:()=>se});var R=B(2234),m=B(4279),G=B(2496);function se(...w){let g=w[w.length-1];return(0,R.m)(g)?(w.pop(),(0,G.V)(w,g)):(0,m.c)(w)}},4528(Ue,ge,B){B.d(ge,{A:()=>m});const m=function R(G,se){var w=-1,g=G.length;for(se||(se=Array(g));++w<g;)se[w]=G[w];return se}},4713(Ue,ge,B){B.d(ge,{A:()=>ii});var vt,R=B(129),G=B(1860).A["__core-js_shared__"],w=(vt=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||""))?"Symbol(src)_1."+vt:"";var me=B(554),re=B(8736),oe=/^\[object .+?Constructor\]$/,Me=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Be=function ze(vt){return!(!(0,me.A)(vt)||function g(vt){return!!w&&w in vt}(vt))&&((0,R.A)(vt)?Me:oe).test((0,re.A)(vt))},ii=function ut(vt,ht){var Vt=function $e(vt,ht){return vt?.[ht]}(vt,ht);return Be(Vt)?Vt:void 0}},4787(Ue,ge,B){B.d(ge,{H:()=>_e});var R=B(253),m=B(135),G=B(4337),se=B(5722),de=B(2496),me=B(7765),oe=B(5998),he=B(5253);function _e(Me,ze){return ze?function Ge(Me,ze){if(null!=Me){if(function ne(Me){return Me&&"function"==typeof Me[se.s]}(Me))return function w(Me,ze){return new R.c(Be=>{const $e=new G.y;return $e.add(ze.schedule(()=>{const je=Me[se.s]();$e.add(je.subscribe({next(ut){$e.add(ze.schedule(()=>Be.next(ut)))},error(ut){$e.add(ze.schedule(()=>Be.error(ut)))},complete(){$e.add(ze.schedule(()=>Be.complete()))}}))})),$e})}(Me,ze);if((0,oe.y)(Me))return function g(Me,ze){return new R.c(Be=>{const $e=new G.y;return $e.add(ze.schedule(()=>Me.then(je=>{$e.add(ze.schedule(()=>{Be.next(je),$e.add(ze.schedule(()=>Be.complete()))}))},je=>{$e.add(ze.schedule(()=>Be.error(je)))}))),$e})}(Me,ze);if((0,he.X)(Me))return(0,de.V)(Me,ze);if(function Se(Me){return Me&&"function"==typeof Me[me.lJ]}(Me)||"string"==typeof Me)return function re(Me,ze){if(!Me)throw new Error("Iterable cannot be null");return new R.c(Be=>{const $e=new G.y;let je;return $e.add(()=>{je&&"function"==typeof je.return&&je.return()}),$e.add(ze.schedule(()=>{je=Me[me.lJ](),$e.add(ze.schedule(function(){if(Be.closed)return;let ut,ii;try{const vt=je.next();ut=vt.value,ii=vt.done}catch(vt){return void Be.error(vt)}ii?Be.complete():(Be.next(ut),this.schedule())}))})),$e})}(Me,ze)}throw new TypeError((null!==Me&&typeof Me||Me)+" is not observable")}(Me,ze):Me instanceof R.c?Me:new R.c((0,m.i)(Me))}},5006(Ue,ge,B){B.d(ge,{T:()=>m});var R=B(762);function m(w,g){return function(me){if("function"!=typeof w)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return me.lift(new G(w,g))}}class G{constructor(g,de){this.project=g,this.thisArg=de}call(g,de){return de.subscribe(new se(g,this.project,this.thisArg))}}class se extends R.v{constructor(g,de,me){super(g),this.project=de,this.count=0,this.thisArg=me||this}_next(g){let de;try{de=this.project.call(this.thisArg,g,this.count++)}catch(me){return void this.destination.error(me)}this.destination.next(de)}}},5119(Ue,ge,B){B.d(ge,{Zm:()=>ni,me:()=>Ie,Yp:()=>Yi,MJ:()=>Ni,JD:()=>ci,gE:()=>di,j4:()=>An,YN:()=>dm,zX:()=>Va,VZ:()=>ra,BC:()=>Wi,cb:()=>fn,vS:()=>jr,xH:()=>Aa,Q0:()=>Y,X1:()=>Ho,YS:()=>Go,wz:()=>cr,k0:()=>ye,qT:()=>ya,y7:()=>ja});var R=B(5547),m=B(375),se=(B(467),B(5824));function oe(T,x){return(0,se.KZ)(T,x?.equal)}Error,Error;var Ct=B(7705),bi=B(6494),ui=B(4787),Ft=B(253),wi=B(7354),ri=B(5006),Kt=B(1456);function Ti(T,x){return new Ft.c(k=>{const $=T.length;if(0===$)return void k.complete();const Q=new Array($);let tt=0,bt=0;for(let Qt=0;Qt<$;Qt++){const hn=(0,ui.H)(T[Qt]);let Kr=!1;k.add(hn.subscribe({next:zr=>{Kr||(Kr=!0,bt++),Q[Qt]=zr},error:zr=>k.error(zr),complete:()=>{tt++,(tt===$||!Kr)&&(bt===$&&k.next(x?x.reduce((zr,js,_d)=>(zr[js]=Q[_d],zr),{}):Q),k.complete())}}))}})}var fi=B(5254);let Mi=(()=>{class T{_renderer;_elementRef;onChange=k=>{};onTouched=()=>{};constructor(k,$){this._renderer=k,this._elementRef=$}setProperty(k,$){this._renderer.setProperty(this._elementRef.nativeElement,k,$)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}static \u0275fac=function($){return new($||T)(R.rXU(R.sFG),R.rXU(R.aKT))};static \u0275dir=R.FsC({type:T})}return T})(),Ci=(()=>{class T extends Mi{static \u0275fac=(()=>{let k;return function(Q){return(k||(k=R.xGo(T)))(Q||T)}})();static \u0275dir=R.FsC({type:T,features:[R.Vt3]})}return T})();const it=new m.nKC(""),gt={provide:it,useExisting:(0,m.Rfq)(()=>ni),multi:!0};let ni=(()=>{class T extends Ci{writeValue(k){this.setProperty("checked",k)}static \u0275fac=(()=>{let k;return function(Q){return(k||(k=R.xGo(T)))(Q||T)}})();static \u0275dir=R.FsC({type:T,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function($,Q){1&$&&R.bIt("change",function(bt){return Q.onChange(bt.target.checked)})("blur",function(){return Q.onTouched()})},standalone:!1,features:[R.Jv_([gt]),R.Vt3]})}return T})();const sn={provide:it,useExisting:(0,m.Rfq)(()=>Ie),multi:!0},St=new m.nKC("");let Ie=(()=>{class T extends Mi{_compositionMode;_composing=!1;constructor(k,$,Q){super(k,$),this._compositionMode=Q,null==this._compositionMode&&(this._compositionMode=!function gn(){const T=(0,bi.rb)()?(0,bi.rb)().getUserAgent():"";return/android (\d+)/.test(T.toLowerCase())}())}writeValue(k){this.setProperty("value",k??"")}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}static \u0275fac=function($){return new($||T)(R.rXU(R.sFG),R.rXU(R.aKT),R.rXU(St,8))};static \u0275dir=R.FsC({type:T,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($,Q){1&$&&R.bIt("input",function(bt){return Q._handleInput(bt.target.value)})("blur",function(){return Q.onTouched()})("compositionstart",function(){return Q._compositionStart()})("compositionend",function(bt){return Q._compositionEnd(bt.target.value)})},standalone:!1,features:[R.Jv_([sn]),R.Vt3]})}return T})();function at(T){return null==T||0===kn(T)}function kn(T){return null==T?null:Array.isArray(T)||"string"==typeof T?T.length:T instanceof Set?T.size:null}const Pt=new m.nKC(""),Gi=new m.nKC(""),It=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ye{static min(x){return qe(x)}static max(x){return rt(x)}static required(x){return We(x)}static requiredTrue(x){return function Ot(T){return!0===T.value?null:{required:!0}}(x)}static email(x){return function Ii(T){return at(T.value)||It.test(T.value)?null:{email:!0}}(x)}static minLength(x){return function Ei(T){return x=>{const k=x.value?.length??kn(x.value);return null===k||0===k?null:k<T?{minlength:{requiredLength:T,actualLength:k}}:null}}(x)}static maxLength(x){return function ji(T){return x=>{const k=x.value?.length??kn(x.value);return null!==k&&k>T?{maxlength:{requiredLength:T,actualLength:k}}:null}}(x)}static pattern(x){return function _n(T){if(!T)return Vi;let x,k;return"string"==typeof T?(k="","^"!==T.charAt(0)&&(k+="^"),k+=T,"$"!==T.charAt(T.length-1)&&(k+="$"),x=new RegExp(k)):(k=T.toString(),x=T),$=>{if(at($.value))return null;const Q=$.value;return x.test(Q)?null:{pattern:{requiredPattern:k,actualValue:Q}}}}(x)}static nullValidator(x){return null}static compose(x){return Bn(x)}static composeAsync(x){return vi(x)}}function qe(T){return x=>{if(null==x.value||null==T)return null;const k=parseFloat(x.value);return!isNaN(k)&&k<T?{min:{min:T,actual:x.value}}:null}}function rt(T){return x=>{if(null==x.value||null==T)return null;const k=parseFloat(x.value);return!isNaN(k)&&k>T?{max:{max:T,actual:x.value}}:null}}function We(T){return at(T.value)?{required:!0}:null}function Vi(T){return null}function xi(T){return null!=T}function On(T){return(0,R.yLl)(T)?(0,ui.H)(T):T}function wn(T){let x={};return T.forEach(k=>{x=null!=k?{...x,...k}:x}),0===Object.keys(x).length?null:x}function mn(T,x){return x.map(k=>k(T))}function nn(T){return T.map(x=>function Ri(T){return!T.validate}(x)?x:k=>x.validate(k))}function Bn(T){if(!T)return null;const x=T.filter(xi);return 0==x.length?null:function(k){return wn(mn(k,x))}}function ar(T){return null!=T?Bn(nn(T)):null}function vi(T){if(!T)return null;const x=T.filter(xi);return 0==x.length?null:function(k){return function Zi(...T){if(1===T.length){const x=T[0];if((0,wi.c)(x))return Ti(x,null);if((0,Kt.G)(x)&&Object.getPrototypeOf(x)===Object.prototype){const k=Object.keys(x);return Ti(k.map($=>x[$]),k)}}if("function"==typeof T[T.length-1]){const x=T.pop();return Ti(T=1===T.length&&(0,wi.c)(T[0])?T[0]:T,null).pipe((0,ri.T)(k=>x(...k)))}return Ti(T,null)}(mn(k,x).map(On)).pipe((0,ri.T)(wn))}}function ln(T){return null!=T?vi(nn(T)):null}function Xn(T,x){return null===T?[x]:Array.isArray(T)?[...T,x]:[T,x]}function gr(T){return T._rawValidators}function Tn(T){return T._rawAsyncValidators}function $n(T){return T?Array.isArray(T)?T:[T]:[]}function Gn(T,x){return Array.isArray(T)?T.includes(x):T===x}function Cn(T,x){const k=$n(x);return $n(T).forEach(Q=>{Gn(k,Q)||k.push(Q)}),k}function Hn(T,x){return $n(x).filter(k=>!Gn(T,k))}class Ui{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=ar(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=ln(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x=void 0){this.control&&this.control.reset(x)}hasError(x,k){return!!this.control&&this.control.hasError(x,k)}getError(x,k){return this.control?this.control.getError(x,k):null}}class gi extends Ui{name;get formDirective(){return null}get path(){return null}}class Hi extends Ui{_parent=null;name=null;valueAccessor=null}class En{_cd;constructor(x){this._cd=x}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Wi=(()=>{class T extends En{constructor(k){super(k)}static \u0275fac=function($){return new($||T)(R.rXU(Hi,2))};static \u0275dir=R.FsC({type:T,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($,Q){2&$&&R.AVh("ng-untouched",Q.isUntouched)("ng-touched",Q.isTouched)("ng-pristine",Q.isPristine)("ng-dirty",Q.isDirty)("ng-valid",Q.isValid)("ng-invalid",Q.isInvalid)("ng-pending",Q.isPending)},standalone:!1,features:[R.Vt3]})}return T})(),fn=(()=>{class T extends En{constructor(k){super(k)}static \u0275fac=function($){return new($||T)(R.rXU(gi,10))};static \u0275dir=R.FsC({type:T,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($,Q){2&$&&R.AVh("ng-untouched",Q.isUntouched)("ng-touched",Q.isTouched)("ng-pristine",Q.isPristine)("ng-dirty",Q.isDirty)("ng-valid",Q.isValid)("ng-invalid",Q.isInvalid)("ng-pending",Q.isPending)("ng-submitted",Q.isSubmitted)},standalone:!1,features:[R.Vt3]})}return T})();const J="VALID",ve="INVALID",ke="PENDING",Te="DISABLED";class Xe{}class kt extends Xe{value;source;constructor(x,k){super(),this.value=x,this.source=k}}class ot extends Xe{pristine;source;constructor(x,k){super(),this.pristine=x,this.source=k}}class ai extends Xe{touched;source;constructor(x,k){super(),this.touched=x,this.source=k}}class Xt extends Xe{status;source;constructor(x,k){super(),this.status=x,this.source=k}}class ei extends Xe{source;constructor(x){super(),this.source=x}}class Ai extends Xe{source;constructor(x){super(),this.source=x}}function bn(T){return(Mt(T)?T.validators:T)||null}function qi(T,x){return(Mt(x)?x.asyncValidators:T)||null}function Mt(T){return null!=T&&!Array.isArray(T)&&"object"==typeof T}function zt(T,x,k){const $=T.controls;if(!(x?Object.keys($):$).length)throw new m.buA(1e3,"");if(!$[k])throw new m.buA(1001,"")}function Pi(T,x,k){T._forEachChild(($,Q)=>{if(void 0===k[Q])throw new m.buA(1002,"")})}class At{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(x,k){this._assignValidators(x),this._assignAsyncValidators(k)}get validator(){return this._composedValidatorFn}set validator(x){this._rawValidators=this._composedValidatorFn=x}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(x){this._rawAsyncValidators=this._composedAsyncValidatorFn=x}get parent(){return this._parent}get status(){return(0,m.O8t)(this.statusReactive)}set status(x){(0,m.O8t)(()=>this.statusReactive.set(x))}_status=oe(()=>this.statusReactive());statusReactive=(0,m.vPA)(void 0);get valid(){return this.status===J}get invalid(){return this.status===ve}get pending(){return this.status==ke}get disabled(){return this.status===Te}get enabled(){return this.status!==Te}errors;get pristine(){return(0,m.O8t)(this.pristineReactive)}set pristine(x){(0,m.O8t)(()=>this.pristineReactive.set(x))}_pristine=oe(()=>this.pristineReactive());pristineReactive=(0,m.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,m.O8t)(this.touchedReactive)}set touched(x){(0,m.O8t)(()=>this.touchedReactive.set(x))}_touched=oe(()=>this.touchedReactive());touchedReactive=(0,m.vPA)(!1);get untouched(){return!this.touched}_events=new fi.B7;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(x){this._assignValidators(x)}setAsyncValidators(x){this._assignAsyncValidators(x)}addValidators(x){this.setValidators(Cn(x,this._rawValidators))}addAsyncValidators(x){this.setAsyncValidators(Cn(x,this._rawAsyncValidators))}removeValidators(x){this.setValidators(Hn(x,this._rawValidators))}removeAsyncValidators(x){this.setAsyncValidators(Hn(x,this._rawAsyncValidators))}hasValidator(x){return Gn(this._rawValidators,x)}hasAsyncValidator(x){return Gn(this._rawAsyncValidators,x)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(x={}){const k=!1===this.touched;this.touched=!0;const $=x.sourceControl??this;this._parent&&!x.onlySelf&&this._parent.markAsTouched({...x,sourceControl:$}),k&&!1!==x.emitEvent&&this._events.next(new ai(!0,$))}markAllAsDirty(x={}){this.markAsDirty({onlySelf:!0,emitEvent:x.emitEvent,sourceControl:this}),this._forEachChild(k=>k.markAllAsDirty(x))}markAllAsTouched(x={}){this.markAsTouched({onlySelf:!0,emitEvent:x.emitEvent,sourceControl:this}),this._forEachChild(k=>k.markAllAsTouched(x))}markAsUntouched(x={}){const k=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const $=x.sourceControl??this;this._forEachChild(Q=>{Q.markAsUntouched({onlySelf:!0,emitEvent:x.emitEvent,sourceControl:$})}),this._parent&&!x.onlySelf&&this._parent._updateTouched(x,$),k&&!1!==x.emitEvent&&this._events.next(new ai(!1,$))}markAsDirty(x={}){const k=!0===this.pristine;this.pristine=!1;const $=x.sourceControl??this;this._parent&&!x.onlySelf&&this._parent.markAsDirty({...x,sourceControl:$}),k&&!1!==x.emitEvent&&this._events.next(new ot(!1,$))}markAsPristine(x={}){const k=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const $=x.sourceControl??this;this._forEachChild(Q=>{Q.markAsPristine({onlySelf:!0,emitEvent:x.emitEvent})}),this._parent&&!x.onlySelf&&this._parent._updatePristine(x,$),k&&!1!==x.emitEvent&&this._events.next(new ot(!0,$))}markAsPending(x={}){this.status=ke;const k=x.sourceControl??this;!1!==x.emitEvent&&(this._events.next(new Xt(this.status,k)),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.markAsPending({...x,sourceControl:k})}disable(x={}){const k=this._parentMarkedDirty(x.onlySelf);this.status=Te,this.errors=null,this._forEachChild(Q=>{Q.disable({...x,onlySelf:!0})}),this._updateValue();const $=x.sourceControl??this;!1!==x.emitEvent&&(this._events.next(new kt(this.value,$)),this._events.next(new Xt(this.status,$)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...x,skipPristineCheck:k},this),this._onDisabledChange.forEach(Q=>Q(!0))}enable(x={}){const k=this._parentMarkedDirty(x.onlySelf);this.status=J,this._forEachChild($=>{$.enable({...x,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent}),this._updateAncestors({...x,skipPristineCheck:k},this),this._onDisabledChange.forEach($=>$(!1))}_updateAncestors(x,k){this._parent&&!x.onlySelf&&(this._parent.updateValueAndValidity(x),x.skipPristineCheck||this._parent._updatePristine({},k),this._parent._updateTouched({},k))}setParent(x){this._parent=x}getRawValue(){return this.value}updateValueAndValidity(x={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const $=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===J||this.status===ke)&&this._runAsyncValidator($,x.emitEvent)}const k=x.sourceControl??this;!1!==x.emitEvent&&(this._events.next(new kt(this.value,k)),this._events.next(new Xt(this.status,k)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.updateValueAndValidity({...x,sourceControl:k})}_updateTreeValidity(x={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity(x)),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Te:J}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(x,k){if(this.asyncValidator){this.status=ke,this._hasOwnPendingAsyncValidator={emitEvent:!1!==k,shouldHaveEmitted:!1!==x};const $=On(this.asyncValidator(this));this._asyncValidationSubscription=$.subscribe(Q=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Q,{emitEvent:k,shouldHaveEmitted:x})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const x=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,x}return!1}setErrors(x,k={}){this.errors=x,this._updateControlsErrors(!1!==k.emitEvent,this,k.shouldHaveEmitted)}get(x){let k=x;return null==k||(Array.isArray(k)||(k=k.split(".")),0===k.length)?null:k.reduce(($,Q)=>$&&$._find(Q),this)}getError(x,k){const $=k?this.get(k):this;return $&&$.errors?$.errors[x]:null}hasError(x,k){return!!this.getError(x,k)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(x,k,$){this.status=this._calculateStatus(),x&&this.statusChanges.emit(this.status),(x||$)&&this._events.next(new Xt(this.status,k)),this._parent&&this._parent._updateControlsErrors(x,k,$)}_initObservables(){this.valueChanges=new m.bkB,this.statusChanges=new m.bkB}_calculateStatus(){return this._allControlsDisabled()?Te:this.errors?ve:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ke)?ke:this._anyControlsHaveStatus(ve)?ve:J}_anyControlsHaveStatus(x){return this._anyControls(k=>k.status===x)}_anyControlsDirty(){return this._anyControls(x=>x.dirty)}_anyControlsTouched(){return this._anyControls(x=>x.touched)}_updatePristine(x,k){const $=!this._anyControlsDirty(),Q=this.pristine!==$;this.pristine=$,this._parent&&!x.onlySelf&&this._parent._updatePristine(x,k),Q&&this._events.next(new ot(this.pristine,k))}_updateTouched(x={},k){this.touched=this._anyControlsTouched(),this._events.next(new ai(this.touched,k)),this._parent&&!x.onlySelf&&this._parent._updateTouched(x,k)}_onDisabledChange=[];_registerOnCollectionChange(x){this._onCollectionChange=x}_setUpdateStrategy(x){Mt(x)&&null!=x.updateOn&&(this._updateOn=x.updateOn)}_parentMarkedDirty(x){return!x&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(x){return null}_assignValidators(x){this._rawValidators=Array.isArray(x)?x.slice():x,this._composedValidatorFn=function Si(T){return Array.isArray(T)?ar(T):T||null}(this._rawValidators)}_assignAsyncValidators(x){this._rawAsyncValidators=Array.isArray(x)?x.slice():x,this._composedAsyncValidatorFn=function _t(T){return Array.isArray(T)?ln(T):T||null}(this._rawAsyncValidators)}}class di extends At{constructor(x,k,$){super(bn(k),qi($,k)),this.controls=x,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(x,k){return this.controls[x]?this.controls[x]:(this.controls[x]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl(x,k,$={}){this.registerControl(x,k),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}removeControl(x,k={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl(x,k,$={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],k&&this.registerControl(x,k),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}contains(x){return this.controls.hasOwnProperty(x)&&this.controls[x].enabled}setValue(x,k={}){Pi(this,0,x),Object.keys(x).forEach($=>{zt(this,!0,$),this.controls[$].setValue(x[$],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(x,k={}){null!=x&&(Object.keys(x).forEach($=>{const Q=this.controls[$];Q&&Q.patchValue(x[$],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(x={},k={}){this._forEachChild(($,Q)=>{$.reset(x?x[Q]:null,{...k,onlySelf:!0})}),this._updatePristine(k,this),this._updateTouched(k,this),this.updateValueAndValidity(k),!1!==k?.emitEvent&&this._events.next(new Ai(this))}getRawValue(){return this._reduceChildren({},(x,k,$)=>(x[$]=k.getRawValue(),x))}_syncPendingControls(){let x=this._reduceChildren(!1,(k,$)=>!!$._syncPendingControls()||k);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){Object.keys(this.controls).forEach(k=>{const $=this.controls[k];$&&x($,k)})}_setUpControls(){this._forEachChild(x=>{x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(x){for(const[k,$]of Object.entries(this.controls))if(this.contains(k)&&x($))return!0;return!1}_reduceValue(){return this._reduceChildren({},(k,$,Q)=>(($.enabled||this.disabled)&&(k[Q]=$.value),k))}_reduceChildren(x,k){let $=x;return this._forEachChild((Q,tt)=>{$=k($,Q,tt)}),$}_allControlsDisabled(){for(const x of Object.keys(this.controls))if(this.controls[x].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(x){return this.controls.hasOwnProperty(x)?this.controls[x]:null}}const cn=new m.nKC("",{factory:()=>un}),un="always";function Un(T,x){return[...x.path,T]}function lr(T,x,k=un){Tr(T,x),x.valueAccessor.writeValue(T.value),(T.disabled||"always"===k)&&x.valueAccessor.setDisabledState?.(T.disabled),function ma(T,x){x.valueAccessor.registerOnChange(k=>{T._pendingValue=k,T._pendingChange=!0,T._pendingDirty=!0,"change"===T.updateOn&&X(T,x)})}(T,x),function H(T,x){const k=($,Q)=>{x.valueAccessor.writeValue($),Q&&x.viewToModelUpdate($)};T.registerOnChange(k),x._registerOnDestroy(()=>{T._unregisterOnChange(k)})}(T,x),function L(T,x){x.valueAccessor.registerOnTouched(()=>{T._pendingTouched=!0,"blur"===T.updateOn&&T._pendingChange&&X(T,x),"submit"!==T.updateOn&&T.markAsTouched()})}(T,x),function Ir(T,x){if(x.valueAccessor.setDisabledState){const k=$=>{x.valueAccessor.setDisabledState($)};T.registerOnDisabledChange(k),x._registerOnDestroy(()=>{T._unregisterOnDisabledChange(k)})}}(T,x)}function In(T,x,k=!0){const $=()=>{};x.valueAccessor&&(x.valueAccessor.registerOnChange($),x.valueAccessor.registerOnTouched($)),yr(T,x),T&&(x._invokeOnDestroyCallbacks(),T._registerOnCollectionChange(()=>{}))}function vn(T,x){T.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange(x)})}function Tr(T,x){const k=gr(T);null!==x.validator?T.setValidators(Xn(k,x.validator)):"function"==typeof k&&T.setValidators([k]);const $=Tn(T);null!==x.asyncValidator?T.setAsyncValidators(Xn($,x.asyncValidator)):"function"==typeof $&&T.setAsyncValidators([$]);const Q=()=>T.updateValueAndValidity();vn(x._rawValidators,Q),vn(x._rawAsyncValidators,Q)}function yr(T,x){let k=!1;if(null!==T){if(null!==x.validator){const Q=gr(T);if(Array.isArray(Q)&&Q.length>0){const tt=Q.filter(bt=>bt!==x.validator);tt.length!==Q.length&&(k=!0,T.setValidators(tt))}}if(null!==x.asyncValidator){const Q=Tn(T);if(Array.isArray(Q)&&Q.length>0){const tt=Q.filter(bt=>bt!==x.asyncValidator);tt.length!==Q.length&&(k=!0,T.setAsyncValidators(tt))}}}const $=()=>{};return vn(x._rawValidators,$),vn(x._rawAsyncValidators,$),k}function X(T,x){T._pendingDirty&&T.markAsDirty(),T.setValue(T._pendingValue,{emitModelToViewChange:!1}),x.viewToModelUpdate(T._pendingValue),T._pendingChange=!1}function Wt(T,x){if(!T.hasOwnProperty("model"))return!1;const k=T.model;return!!k.isFirstChange()||!Object.is(x,k.currentValue)}function Ht(T,x){if(!x)return null;let k,$,Q;return Array.isArray(x),x.forEach(tt=>{tt.constructor===Ie?k=tt:function st(T){return Object.getPrototypeOf(T.constructor)===Ci}(tt)?$=tt:Q=tt}),Q||$||k||null}function Di(T,x){const k=T.indexOf(x);k>-1&&T.splice(k,1)}function hi(T){return"object"==typeof T&&null!==T&&2===Object.keys(T).length&&"value"in T&&"disabled"in T}Promise.resolve();const Ni=class extends At{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(x=null,k,$){super(bn(k),qi($,k)),this._applyFormState(x),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mt(k)&&(k.nonNullable||k.initialValueIsDefault)&&(this.defaultValue=hi(x)?x.value:x)}setValue(x,k={}){this.value=this._pendingValue=x,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach($=>$(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue(x,k={}){this.setValue(x,k)}reset(x=this.defaultValue,k={}){this._applyFormState(x),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),k.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,!1!==k?.emitEvent&&this._events.next(new Ai(this))}_updateValue(){}_anyControls(x){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(x){this._onChange.push(x)}_unregisterOnChange(x){Di(this._onChange,x)}registerOnDisabledChange(x){this._onDisabledChange.push(x)}_unregisterOnDisabledChange(x){Di(this._onDisabledChange,x)}_forEachChild(x){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(x){hi(x)?(this.value=this._pendingValue=x.value,x.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=x}},Rr={provide:Hi,useExisting:(0,m.Rfq)(()=>jr)},ho=Promise.resolve();let jr=(()=>{class T extends Hi{_changeDetectorRef;callSetDisabledState;control=new Ni;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new m.bkB;constructor(k,$,Q,tt,bt,Qt){super(),this._changeDetectorRef=bt,this.callSetDisabledState=Qt,this._parent=k,this._setValidators($),this._setAsyncValidators(Q),this.valueAccessor=Ht(0,tt)}ngOnChanges(k){if(this._checkForErrors(),!this._registered||"name"in k){if(this._registered&&(this._checkName(),this.formDirective)){const $=k.name.previousValue;this.formDirective.removeControl({name:$,path:this._getPath($)})}this._setUpControl()}"isDisabled"in k&&this._updateDisabled(k),Wt(k,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){lr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(k){ho.then(()=>{this.control.setValue(k,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(k){const $=k.isDisabled.currentValue,Q=0!==$&&(0,Ct.L39)($);ho.then(()=>{Q&&!this.control.disabled?this.control.disable():!Q&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(k){return this._parent?Un(k,this._parent):[k]}static \u0275fac=function($){return new($||T)(R.rXU(gi,9),R.rXU(Pt,10),R.rXU(Gi,10),R.rXU(it,10),R.rXU(Ct.gRc,8),R.rXU(cn,8))};static \u0275dir=R.FsC({type:T,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[R.Jv_([Rr]),R.Vt3,R.OA$]})}return T})(),ya=(()=>{class T{static \u0275fac=function($){return new($||T)};static \u0275dir=R.FsC({type:T,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return T})();const si={provide:it,useExisting:(0,m.Rfq)(()=>Y),multi:!0};let Y=(()=>{class T extends Ci{writeValue(k){this.setProperty("value",k??"")}registerOnChange(k){this.onChange=$=>{k(""==$?null:parseFloat($))}}static \u0275fac=(()=>{let k;return function(Q){return(k||(k=R.xGo(T)))(Q||T)}})();static \u0275dir=R.FsC({type:T,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function($,Q){1&$&&R.bIt("input",function(bt){return Q.onChange(bt.target.value)})("blur",function(){return Q.onTouched()})},standalone:!1,features:[R.Jv_([si]),R.Vt3]})}return T})();class Yi extends At{constructor(x,k,$){super(bn(k),qi($,k)),this.controls=x,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(x){return this.controls[this._adjustIndex(x)]}push(x,k={}){Array.isArray(x)?x.forEach($=>{this.controls.push($),this._registerControl($)}):(this.controls.push(x),this._registerControl(x)),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}insert(x,k,$={}){this.controls.splice(x,0,k),this._registerControl(k),this.updateValueAndValidity({emitEvent:$.emitEvent})}removeAt(x,k={}){let $=this._adjustIndex(x);$<0&&($=0),this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),this.controls.splice($,1),this.updateValueAndValidity({emitEvent:k.emitEvent})}setControl(x,k,$={}){let Q=this._adjustIndex(x);Q<0&&(Q=0),this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),this.controls.splice(Q,1),k&&(this.controls.splice(Q,0,k),this._registerControl(k)),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(x,k={}){Pi(this,0,x),x.forEach(($,Q)=>{zt(this,!1,Q),this.at(Q).setValue($,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(x,k={}){null!=x&&(x.forEach(($,Q)=>{this.at(Q)&&this.at(Q).patchValue($,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(x=[],k={}){this._forEachChild(($,Q)=>{$.reset(x[Q],{...k,onlySelf:!0})}),this._updatePristine(k,this),this._updateTouched(k,this),this.updateValueAndValidity(k),!1!==k?.emitEvent&&this._events.next(new Ai(this))}getRawValue(){return this.controls.map(x=>x.getRawValue())}clear(x={}){this.controls.length<1||(this._forEachChild(k=>k._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:x.emitEvent}))}_adjustIndex(x){return x<0?x+this.length:x}_syncPendingControls(){let x=this.controls.reduce((k,$)=>!!$._syncPendingControls()||k,!1);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){this.controls.forEach((k,$)=>{x(k,$)})}_updateValue(){this.value=this.controls.filter(x=>x.enabled||this.disabled).map(x=>x.value)}_anyControls(x){return this.controls.some(k=>k.enabled&&x(k))}_setUpControls(){this._forEachChild(x=>this._registerControl(x))}_allControlsDisabled(){for(const x of this.controls)if(x.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(x){x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)}_find(x){return this.at(x)??null}}let O=(()=>{class T extends gi{callSetDisabledState;get submitted(){return(0,m.O8t)(this._submittedReactive)}set submitted(k){this._submittedReactive.set(k)}_submitted=oe(()=>this._submittedReactive());_submittedReactive=(0,m.vPA)(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(k,$,Q){super(),this.callSetDisabledState=Q,this._setValidators(k),this._setAsyncValidators($)}ngOnChanges(k){this.onChanges(k)}ngOnDestroy(){this.onDestroy()}onChanges(k){this._checkFormPresent(),k.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(yr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(k){const $=this.form.get(k.path);return lr($,k,this.callSetDisabledState),$.updateValueAndValidity({emitEvent:!1}),this.directives.push(k),$}getControl(k){return this.form.get(k.path)}removeControl(k){In(k.control||null,k,!1),function pe(T,x){const k=T.indexOf(x);k>-1&&T.splice(k,1)}(this.directives,k)}addFormGroup(k){this._setUpFormContainer(k)}removeFormGroup(k){this._cleanUpFormContainer(k)}getFormGroup(k){return this.form.get(k.path)}getFormArray(k){return this.form.get(k.path)}addFormArray(k){this._setUpFormContainer(k)}removeFormArray(k){this._cleanUpFormContainer(k)}updateModel(k,$){this.form.get(k.path).setValue($)}onReset(){this.resetForm()}resetForm(k=void 0,$={}){this.form.reset(k,$),this._submittedReactive.set(!1)}onSubmit(k){return this.submitted=!0,function oi(T,x){T._syncPendingControls(),x.forEach(k=>{const $=k.control;"submit"===$.updateOn&&$._pendingChange&&(k.viewToModelUpdate($._pendingValue),$._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(k),this.form._events.next(new ei(this.control)),"dialog"===k?.target?.method}_updateDomValue(){this.directives.forEach(k=>{const $=k.control,Q=this.form.get(k.path);$!==Q&&(In($||null,k),(T=>T instanceof Ni)(Q)&&(lr(Q,k,this.callSetDisabledState),k.control=Q))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(k){const $=this.form.get(k.path);(function V(T,x){Tr(T,x)})($,k),$.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(k){if(this.form){const $=this.form.get(k.path);$&&function ae(T,x){return yr(T,x)}($,k)&&$.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tr(this.form,this),this._oldForm&&yr(this._oldForm,this)}_checkFormPresent(){}static \u0275fac=function($){return new($||T)(R.rXU(Pt,10),R.rXU(Gi,10),R.rXU(cn,8))};static \u0275dir=R.FsC({type:T,features:[R.Vt3,R.OA$]})}return T})();const z=new m.nKC(""),yt={provide:Hi,useExisting:(0,m.Rfq)(()=>ci)};let ci=(()=>{class T extends Hi{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(k){}model;update=new m.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(k,$,Q,tt,bt){super(),this._ngModelWarningConfig=bt,this._parent=k,this._setValidators($),this._setAsyncValidators(Q),this.valueAccessor=Ht(0,tt)}ngOnChanges(k){this._added||this._setUpControl(),Wt(k,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}get path(){return Un(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function($){return new($||T)(R.rXU(gi,13),R.rXU(Pt,10),R.rXU(Gi,10),R.rXU(it,10),R.rXU(z,8))};static \u0275dir=R.FsC({type:T,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[R.Jv_([yt]),R.Vt3,R.OA$]})}return T})();const dn={provide:gi,useExisting:(0,m.Rfq)(()=>An)};let An=(()=>{class T extends O{form=null;ngSubmit=new m.bkB;get control(){return this.form}static \u0275fac=(()=>{let k;return function(Q){return(k||(k=R.xGo(T)))(Q||T)}})();static \u0275dir=R.FsC({type:T,selectors:[["","formGroup",""]],hostBindings:function($,Q){1&$&&R.bIt("submit",function(bt){return Q.onSubmit(bt)})("reset",function(){return Q.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[R.Jv_([dn]),R.Vt3]})}return T})();const yi={provide:it,useExisting:(0,m.Rfq)(()=>cr),multi:!0};function en(T,x){return null==T?`${x}`:(x&&"object"==typeof x&&(x="Object"),`${T}: ${x}`.slice(0,50))}let cr=(()=>{class T extends Ci{value;_optionMap=new Map;_idCounter=0;set compareWith(k){this._compareWith=k}_compareWith=Object.is;appRefInjector=(0,m.WQX)(R.o8S).injector;destroyRef=(0,m.WQX)(m.abz);cdr=(0,m.WQX)(Ct.gRc);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,(0,R.mal)({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(k){this.cdr.markForCheck(),this.value=k;const Q=en(this._getOptionId(k),k);this.setProperty("value",Q)}registerOnChange(k){this.onChange=$=>{this.value=this._getOptionValue($),k(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(k){for(const $ of this._optionMap.keys())if(this._compareWith(this._optionMap.get($),k))return $;return null}_getOptionValue(k){const $=function Cr(T){return T.split(":")[0]}(k);return this._optionMap.has($)?this._optionMap.get($):k}static \u0275fac=(()=>{let k;return function(Q){return(k||(k=R.xGo(T)))(Q||T)}})();static \u0275dir=R.FsC({type:T,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function($,Q){1&$&&R.bIt("change",function(bt){return Q.onChange(bt.target.value)})("blur",function(){return Q.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[R.Jv_([yi]),R.Vt3]})}return T})(),Aa=(()=>{class T{_element;_renderer;_select;id;constructor(k,$,Q){this._element=k,this._renderer=$,this._select=Q,this._select&&(this.id=this._select._registerOption())}set ngValue(k){null!=this._select&&(this._select._optionMap.set(this.id,k),this._setElementValue(en(this.id,k)),this._select._writeValueAfterRender())}set value(k){this._setElementValue(k),this._select&&this._select._writeValueAfterRender()}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function($){return new($||T)(R.rXU(R.aKT),R.rXU(R.sFG),R.rXU(cr,9))};static \u0275dir=R.FsC({type:T,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return T})();const ia={provide:it,useExisting:(0,m.Rfq)(()=>Pa),multi:!0};function Sa(T,x){return null==T?`${x}`:("string"==typeof x&&(x=`'${x}'`),x&&"object"==typeof x&&(x="Object"),`${T}: ${x}`.slice(0,50))}let Pa=(()=>{class T extends Ci{value;_optionMap=new Map;_idCounter=0;set compareWith(k){this._compareWith=k}_compareWith=Object.is;writeValue(k){let $;if(this.value=k,Array.isArray(k)){const Q=k.map(tt=>this._getOptionId(tt));$=(tt,bt)=>{tt._setSelected(Q.indexOf(bt.toString())>-1)}}else $=(Q,tt)=>{Q._setSelected(!1)};this._optionMap.forEach($)}registerOnChange(k){this.onChange=$=>{const Q=[],tt=$.selectedOptions;if(void 0!==tt){const bt=tt;for(let Qt=0;Qt<bt.length;Qt++){const Kr=this._getOptionValue(bt[Qt].value);Q.push(Kr)}}else{const bt=$.options;for(let Qt=0;Qt<bt.length;Qt++){const hn=bt[Qt];if(hn.selected){const Kr=this._getOptionValue(hn.value);Q.push(Kr)}}}this.value=Q,k(Q)}}_registerOption(k){const $=(this._idCounter++).toString();return this._optionMap.set($,k),$}_getOptionId(k){for(const $ of this._optionMap.keys())if(this._compareWith(this._optionMap.get($)._value,k))return $;return null}_getOptionValue(k){const $=function po(T){return T.split(":")[0]}(k);return this._optionMap.has($)?this._optionMap.get($)._value:k}static \u0275fac=(()=>{let k;return function(Q){return(k||(k=R.xGo(T)))(Q||T)}})();static \u0275dir=R.FsC({type:T,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function($,Q){1&$&&R.bIt("change",function(bt){return Q.onChange(bt.target)})("blur",function(){return Q.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[R.Jv_([ia]),R.Vt3]})}return T})(),ja=(()=>{class T{_element;_renderer;_select;id;_value;constructor(k,$,Q){this._element=k,this._renderer=$,this._select=Q,this._select&&(this.id=this._select._registerOption(this))}set ngValue(k){null!=this._select&&(this._value=k,this._setElementValue(Sa(this.id,k)),this._select.writeValue(this._select.value))}set value(k){this._select?(this._value=k,this._setElementValue(Sa(this.id,k)),this._select.writeValue(this._select.value)):this._setElementValue(k)}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}_setSelected(k){this._renderer.setProperty(this._element.nativeElement,"selected",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function($){return new($||T)(R.rXU(R.aKT),R.rXU(R.sFG),R.rXU(Pa,9))};static \u0275dir=R.FsC({type:T,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return T})();function Hs(T){return"number"==typeof T?T:parseFloat(T)}let na=(()=>{class T{_validator=Vi;_onChange;_enabled;ngOnChanges(k){if(this.inputName in k){const $=this.normalizeInput(k[this.inputName].currentValue);this._enabled=this.enabled($),this._validator=this._enabled?this.createValidator($):Vi,this._onChange&&this._onChange()}}validate(k){return this._validator(k)}registerOnValidatorChange(k){this._onChange=k}enabled(k){return null!=k}static \u0275fac=function($){return new($||T)};static \u0275dir=R.FsC({type:T,features:[R.OA$]})}return T})();const go={provide:Pt,useExisting:(0,m.Rfq)(()=>Va),multi:!0};let Va=(()=>{class T extends na{max;inputName="max";normalizeInput=k=>Hs(k);createValidator=k=>rt(k);static \u0275fac=(()=>{let k;return function(Q){return(k||(k=R.xGo(T)))(Q||T)}})();static \u0275dir=R.FsC({type:T,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function($,Q){2&$&&R.BMQ("max",Q._enabled?Q.max:null)},inputs:{max:"max"},standalone:!1,features:[R.Jv_([go]),R.Vt3]})}return T})();const sm={provide:Pt,useExisting:(0,m.Rfq)(()=>ra),multi:!0};let ra=(()=>{class T extends na{min;inputName="min";normalizeInput=k=>Hs(k);createValidator=k=>qe(k);static \u0275fac=(()=>{let k;return function(Q){return(k||(k=R.xGo(T)))(Q||T)}})();static \u0275dir=R.FsC({type:T,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function($,Q){2&$&&R.BMQ("min",Q._enabled?Q.min:null)},inputs:{min:"min"},standalone:!1,features:[R.Jv_([sm]),R.Vt3]})}return T})();const nc={provide:Pt,useExisting:(0,m.Rfq)(()=>Go),multi:!0};let Go=(()=>{class T extends na{required;inputName="required";normalizeInput=Ct.L39;createValidator=k=>We;enabled(k){return k}static \u0275fac=(()=>{let k;return function(Q){return(k||(k=R.xGo(T)))(Q||T)}})();static \u0275dir=R.FsC({type:T,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($,Q){2&$&&R.BMQ("required",Q._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[R.Jv_([nc]),R.Vt3]})}return T})(),ac=(()=>{class T{static \u0275fac=function($){return new($||T)};static \u0275mod=R.$C({type:T});static \u0275inj=m.G2t({})}return T})(),dm=(()=>{class T{static withConfig(k){return{ngModule:T,providers:[{provide:cn,useValue:k.callSetDisabledState??un}]}}static \u0275fac=function($){return new($||T)};static \u0275mod=R.$C({type:T});static \u0275inj=m.G2t({imports:[ac]})}return T})(),Ho=(()=>{class T{static withConfig(k){return{ngModule:T,providers:[{provide:z,useValue:k.warnOnNgModelWithFormControl??"always"},{provide:cn,useValue:k.callSetDisabledState??un}]}}static \u0275fac=function($){return new($||T)};static \u0275mod=R.$C({type:T});static \u0275inj=m.G2t({imports:[ac]})}return T})()},5241(Ue,ge,B){function R(m){return m}B.d(ge,{D:()=>R})},5253(Ue,ge,B){B.d(ge,{X:()=>R});const R=m=>m&&"number"==typeof m.length&&"function"!=typeof m},5254(Ue,ge,B){B.d(ge,{B7:()=>me});var R=B(253),m=B(762),G=B(4337),se=B(2145);class w extends G.y{constructor(oe,he){super(),this.subject=oe,this.subscriber=he,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const oe=this.subject,he=oe.observers;if(this.subject=null,!he||0===he.length||oe.isStopped||oe.closed)return;const Se=he.indexOf(this.subscriber);-1!==Se&&he.splice(Se,1)}}var g=B(91);class de extends m.v{constructor(oe){super(oe),this.destination=oe}}let me=(()=>{class ne extends R.c{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[g.D](){return new de(this)}lift(he){const Se=new re(this,this);return Se.operator=he,Se}next(he){if(this.closed)throw new se.P;if(!this.isStopped){const{observers:Se}=this,Ge=Se.length,_e=Se.slice();for(let Me=0;Me<Ge;Me++)_e[Me].next(he)}}error(he){if(this.closed)throw new se.P;this.hasError=!0,this.thrownError=he,this.isStopped=!0;const{observers:Se}=this,Ge=Se.length,_e=Se.slice();for(let Me=0;Me<Ge;Me++)_e[Me].error(he);this.observers.length=0}complete(){if(this.closed)throw new se.P;this.isStopped=!0;const{observers:he}=this,Se=he.length,Ge=he.slice();for(let _e=0;_e<Se;_e++)Ge[_e].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(he){if(this.closed)throw new se.P;return super._trySubscribe(he)}_subscribe(he){if(this.closed)throw new se.P;return this.hasError?(he.error(this.thrownError),G.y.EMPTY):this.isStopped?(he.complete(),G.y.EMPTY):(this.observers.push(he),new w(this,he))}asObservable(){const he=new R.c;return he.source=this,he}}return ne.create=(oe,he)=>new re(oe,he),ne})();class re extends me{constructor(oe,he){super(),this.destination=oe,this.source=he}next(oe){const{destination:he}=this;he&&he.next&&he.next(oe)}error(oe){const{destination:he}=this;he&&he.error&&this.destination.error(oe)}complete(){const{destination:oe}=this;oe&&oe.complete&&this.destination.complete()}_subscribe(oe){const{source:he}=this;return he?this.source.subscribe(oe):G.y.EMPTY}}},5281(Ue,ge,B){B.d(ge,{A:()=>Me});var R=B(6944),m=Object.prototype,G=m.hasOwnProperty,se=m.toString,w=R.A?R.A.toStringTag:void 0;var re=Object.prototype.toString;var Ge=R.A?R.A.toStringTag:void 0;const Me=function _e(ze){return null==ze?void 0===ze?"[object Undefined]":"[object Null]":Ge&&Ge in Object(ze)?function g(ze){var Be=G.call(ze,w),$e=ze[w];try{ze[w]=void 0;var je=!0}catch{}var ut=se.call(ze);return je&&(Be?ze[w]=$e:delete ze[w]),ut}(ze):function ne(ze){return re.call(ze)}(ze)}},5401(Ue,ge,B){B.d(ge,{A:()=>Me});var R=B(7015);var ne=B(6568),oe=B(2291);function _e(ze){var Be=this.__data__=new R.A(ze);this.size=Be.size}_e.prototype.clear=function m(){this.__data__=new R.A,this.size=0},_e.prototype.delete=function se(ze){var Be=this.__data__,$e=Be.delete(ze);return this.size=Be.size,$e},_e.prototype.get=function g(ze){return this.__data__.get(ze)},_e.prototype.has=function me(ze){return this.__data__.has(ze)},_e.prototype.set=function Se(ze,Be){var $e=this.__data__;if($e instanceof R.A){var je=$e.__data__;if(!ne.A||je.length<199)return je.push([ze,Be]),this.size=++$e.size,this;$e=this.__data__=new oe.A(je)}return $e.set(ze,Be),this.size=$e.size,this};const Me=_e},5481(Ue,ge,B){B.d(ge,{A:()=>G});const G=function m(se){return"number"==typeof se&&se>-1&&se%1==0&&se<=9007199254740991}},5547(Ue,ge,B){B.d(ge,{$C:()=>$P,$Ln:()=>gp,$o8:()=>qa,AVh:()=>Iv,Ab1:()=>pi,Agw:()=>I,B4B:()=>Im,BIS:()=>z,BMQ:()=>Du,C4Q:()=>iu,C5r:()=>Eg,C7A:()=>tp,Co$:()=>Wh,DH7:()=>Sg,DNE:()=>hy,DUP:()=>as,DkB:()=>Hu,EFF:()=>T_,EJ8:()=>HP,Ef8:()=>St,FsC:()=>GP,GBs:()=>_v,H1s:()=>Pk,HbH:()=>og,Hgh:()=>Bu,JRh:()=>Bv,Jt5:()=>t_,Jv_:()=>H_,KED:()=>cA,LVR:()=>xk,Lme:()=>$v,NCX:()=>bh,NOj:()=>nS,NSC:()=>Fo,NYb:()=>FE,OA$:()=>Kt,Ocv:()=>TA,PLl:()=>O,PeT:()=>py,R50:()=>Gv,R7$:()=>nh,RV6:()=>Qk,SpI:()=>Ul,TFI:()=>wl,UQu:()=>SA,VBU:()=>OP,VeQ:()=>Pe,Vt3:()=>cy,VzW:()=>WC,XpG:()=>p_,Y8G:()=>Ou,YEm:()=>vr,Zhj:()=>HC,_9s:()=>Lh,_9u:()=>Ha,_jY:()=>Sn,_qm:()=>Mt,_ys:()=>uS,a8H:()=>Wc,aCM:()=>Xr,aKT:()=>At,bH1:()=>NP,bIt:()=>Wu,bVm:()=>$u,c1b:()=>Mo,cDI:()=>mE,cdK:()=>fp,czy:()=>jc,d80:()=>kA,dOL:()=>jy,dfE:()=>iS,e6s:()=>i_,eHC:()=>Hh,eq3:()=>Tg,eux:()=>Np,gXe:()=>Nr,j41:()=>Lp,k0s:()=>Nl,kBR:()=>tv,kS0:()=>ve,lJ4:()=>j_,lJT:()=>kk,lsd:()=>m_,mGM:()=>eg,mS5:()=>Ie,mY:()=>ue,mal:()=>ca,mxI:()=>Zu,nrm:()=>Xb,nv$:()=>Sp,o8S:()=>wu,ozJ:()=>Kf,pl0:()=>$E,qex:()=>Ol,rXU:()=>ys,rj2:()=>Fl,rpG:()=>wA,sFG:()=>Hf,sZ2:()=>Yi,sdS:()=>y_,sgu:()=>jC,uiO:()=>je,utN:()=>gC,vDg:()=>hP,w6W:()=>UC,xGo:()=>$r,xc7:()=>Qu,xe9:()=>Bg,yLl:()=>Ak,ypd:()=>Wy,zoo:()=>Vm});var R=B(467),m=B(375),G=B(5824),se=B(5254),w=B(4337),g=B(5006);function de(a){return{toString:a}.toString()}const me="__annotations__",re="__parameters__",ne="__prop__metadata__";function oe(a,l,u,p,f){return de(()=>{const y=he(l);function b(...A){if(this instanceof b)return y.call(this,...A),this;const P=new b(...A);return function(N){return f&&f(N,...A),(N.hasOwnProperty(me)?N[me]:Object.defineProperty(N,me,{value:[]})[me]).push(P),N}}return u&&(b.prototype=Object.create(u.prototype)),b.prototype.ngMetadataName=a,b.annotationCls=b,b})}function he(a){return function(...u){if(a){const p=a(...u);for(const f in p)this[f]=p[f]}}}function Se(a,l,u){return de(()=>{const p=he(l);function f(...y){if(this instanceof f)return p.apply(this,y),this;const b=new f(...y);return A.annotation=b,A;function A(P,D,N){const U=P.hasOwnProperty(re)?P[re]:Object.defineProperty(P,re,{value:[]})[re];for(;U.length<=N;)U.push(null);return(U[N]=U[N]||[]).push(b),P}}return f.prototype.ngMetadataName=a,f.annotationCls=f,f})}const _e=(0,m.z6V)(Se("Inject",a=>({token:a})),-1),Me=(0,m.z6V)(Se("Optional"),8),ze=(0,m.z6V)(Se("Self"),2),Be=(0,m.z6V)(Se("SkipSelf"),4),$e=(0,m.z6V)(Se("Host"),1);function je(a){const l=m.laP.ng;if(l&&l.\u0275compilerFacade)return l.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const ut={\u0275\u0275defineInjectable:m.jDH,\u0275\u0275defineInjector:m.G2t,\u0275\u0275inject:m.KVO,\u0275\u0275invalidFactoryDep:m.dmw,resolveForwardRef:m.nl4},ii=Function;function vt(a){return"function"==typeof a}const ht=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Vt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Ut=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,$i=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class bi{_reflect;constructor(l){this._reflect=l||m.laP.Reflect}factory(l){return(...u)=>new l(...u)}_zipTypesAndAnnotations(l,u){let p;p=(0,m.WfI)(typeof l>"u"?u.length:l.length);for(let f=0;f<p.length;f++)p[f]=typeof l>"u"?[]:l[f]&&l[f]!=Object?[l[f]]:[],u&&null!=u[f]&&(p[f]=p[f].concat(u[f]));return p}_ownParameters(l,u){if(function Ct(a){return ht.test(a)||$i.test(a)||Vt.test(a)&&!Ut.test(a)}(l.toString()))return null;if(l.parameters&&l.parameters!==u.parameters)return l.parameters;const f=l.ctorParameters;if(f&&f!==u.ctorParameters){const A="function"==typeof f?f():f,P=A.map(N=>N&&N.type),D=A.map(N=>N&&ui(N.decorators));return this._zipTypesAndAnnotations(P,D)}const y=l.hasOwnProperty(re)&&l[re],b=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",l);return b||y?this._zipTypesAndAnnotations(b,y):(0,m.WfI)(l.length)}parameters(l){if(!vt(l))return[];const u=Ft(l);let p=this._ownParameters(l,u);return!p&&u!==Object&&(p=this.parameters(u)),p||[]}_ownAnnotations(l,u){if(l.annotations&&l.annotations!==u.annotations){let p=l.annotations;return"function"==typeof p&&p.annotations&&(p=p.annotations),p}return l.decorators&&l.decorators!==u.decorators?ui(l.decorators):l.hasOwnProperty(me)?l[me]:null}annotations(l){if(!vt(l))return[];const u=Ft(l),p=this._ownAnnotations(l,u)||[];return(u!==Object?this.annotations(u):[]).concat(p)}_ownPropMetadata(l,u){if(l.propMetadata&&l.propMetadata!==u.propMetadata){let p=l.propMetadata;return"function"==typeof p&&p.propMetadata&&(p=p.propMetadata),p}if(l.propDecorators&&l.propDecorators!==u.propDecorators){const p=l.propDecorators,f={};return Object.keys(p).forEach(y=>{f[y]=ui(p[y])}),f}return l.hasOwnProperty(ne)?l[ne]:null}propMetadata(l){if(!vt(l))return{};const u=Ft(l),p={};if(u!==Object){const y=this.propMetadata(u);Object.keys(y).forEach(b=>{p[b]=y[b]})}const f=this._ownPropMetadata(l,u);return f&&Object.keys(f).forEach(y=>{const b=[];p.hasOwnProperty(y)&&b.push(...p[y]),b.push(...f[y]),p[y]=b}),p}ownPropMetadata(l){return vt(l)&&this._ownPropMetadata(l,Ft(l))||{}}hasLifecycleHook(l,u){return l instanceof ii&&u in l.prototype}}function ui(a){return a?a.map(l=>new(0,l.type.annotationCls)(...l.args?l.args:[])):[]}function Ft(a){const l=a.prototype?Object.getPrototypeOf(a.prototype):null;return(l?l.constructor:null)||Object}function wi(a,l,u,p){null!==l?l.applyValueToInputSignal(l,p):a[u]=p}class ri{previousValue;currentValue;firstChange;constructor(l,u,p){this.previousValue=l,this.currentValue=u,this.firstChange=p}isFirstChange(){return this.firstChange}}const Kt=(()=>{const a=()=>Zi;return a.ngInherit=!0,a})();function Zi(a){return a.type.prototype.ngOnChanges&&(a.setInput=fi),Ti}function Ti(){const a=Ci(this),l=a?.current;if(l){const u=a.previous;if(u===m.MZA)a.previous=l;else for(let p in l)u[p]=l[p];a.current=null,this.ngOnChanges(l)}}function fi(a,l,u,p,f){const y=this.declaredInputs[p],b=Ci(a)||function it(a,l){return a[Mi]=l}(a,{previous:m.MZA,current:null}),A=b.current||(b.current={}),P=b.previous,D=P[y];A[y]=new ri(D&&D.currentValue,u,P===m.MZA),wi(a,l,f,u)}const Mi="__ngSimpleChanges__";function Ci(a){return a[Mi]||null}const gt=[],St=function(a,l=null,u){for(let p=0;p<gt.length;p++)(0,gt[p])(a,l,u)};var Ie=function(a){return a[a.TemplateCreateStart=0]="TemplateCreateStart",a[a.TemplateCreateEnd=1]="TemplateCreateEnd",a[a.TemplateUpdateStart=2]="TemplateUpdateStart",a[a.TemplateUpdateEnd=3]="TemplateUpdateEnd",a[a.LifecycleHookStart=4]="LifecycleHookStart",a[a.LifecycleHookEnd=5]="LifecycleHookEnd",a[a.OutputStart=6]="OutputStart",a[a.OutputEnd=7]="OutputEnd",a[a.BootstrapApplicationStart=8]="BootstrapApplicationStart",a[a.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",a[a.BootstrapComponentStart=10]="BootstrapComponentStart",a[a.BootstrapComponentEnd=11]="BootstrapComponentEnd",a[a.ChangeDetectionStart=12]="ChangeDetectionStart",a[a.ChangeDetectionEnd=13]="ChangeDetectionEnd",a[a.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",a[a.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",a[a.AfterRenderHooksStart=16]="AfterRenderHooksStart",a[a.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",a[a.ComponentStart=18]="ComponentStart",a[a.ComponentEnd=19]="ComponentEnd",a[a.DeferBlockStateStart=20]="DeferBlockStateStart",a[a.DeferBlockStateEnd=21]="DeferBlockStateEnd",a[a.DynamicComponentStart=22]="DynamicComponentStart",a[a.DynamicComponentEnd=23]="DynamicComponentEnd",a[a.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",a[a.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",a}(Ie||{});function kn(a,l){for(let u=l.directiveStart,p=l.directiveEnd;u<p;u++){const y=a.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:A,ngAfterViewInit:P,ngAfterViewChecked:D,ngOnDestroy:N}=y;b&&(a.contentHooks??=[]).push(-u,b),A&&((a.contentHooks??=[]).push(u,A),(a.contentCheckHooks??=[]).push(u,A)),P&&(a.viewHooks??=[]).push(-u,P),D&&((a.viewHooks??=[]).push(u,D),(a.viewCheckHooks??=[]).push(u,D)),null!=N&&(a.destroyHooks??=[]).push(u,N)}}function Pt(a,l,u){ye(a,l,3,u)}function Gi(a,l,u,p){(3&a[m.Wg1])===u&&ye(a,l,u,p)}function It(a,l){let u=a[m.Wg1];(3&u)===l&&(u&=16383,u+=1,a[m.Wg1]=u)}function ye(a,l,u,p){const y=p??-1,b=l.length-1;let A=0;for(let P=void 0!==p?65535&a[m.wVl]:0;P<b;P++)if("number"==typeof l[P+1]){if(A=l[P],null!=p&&A>=p)break}else l[P]<0&&(a[m.wVl]+=65536),(A<y||-1==y)&&(rt(a,u,l,P),a[m.wVl]=(4294901760&a[m.wVl])+P+2),P++}function qe(a,l){St(Ie.LifecycleHookStart,a,l);const u=(0,G.Ht)(null);try{l.call(a)}finally{(0,G.Ht)(u),St(Ie.LifecycleHookEnd,a,l)}}function rt(a,l,u,p){const f=u[p]<0,y=u[p+1],A=a[f?-u[p]:u[p]];f?a[m.Wg1]>>14<a[m.wVl]>>16&&(3&a[m.Wg1])===l&&(a[m.Wg1]+=16384,qe(A,y)):qe(A,y)}class Ot{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(l,u,p,f){this.factory=l,this.name=f,this.canSeeViewProviders=u,this.injectImpl=p}}function Ei(a){return null!=a&&"object"==typeof a&&(null===a.insertBeforeIndex||"number"==typeof a.insertBeforeIndex||Array.isArray(a.insertBeforeIndex))}function mn(a){return 3===a||4===a||6===a}function Ri(a){return 64===a.charCodeAt(0)}function nn(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let p=0;p<l.length;p++){const f=l[p];"number"==typeof f?u=f:0===u||Bn(a,u,f,0,-1===u||2===u?l[++p]:null)}}return a}function Bn(a,l,u,p,f){let y=0,b=a.length;if(-1===l)b=-1;else for(;y<a.length;){const A=a[y++];if("number"==typeof A){if(A===l){b=-1;break}if(A>l){b=y-1;break}}}for(;y<a.length;){const A=a[y];if("number"==typeof A)break;if(A===u)return void(null!==f&&(a[y+1]=f));y++,null!==f&&y++}-1!==b&&(a.splice(b,0,l),y=b+1),a.splice(y++,0,u),null!==f&&a.splice(y++,0,f)}function ar(a){return-1!==a}function vi(a){return 32767&a}function Xn(a,l){let u=function ln(a){return a>>16}(a),p=l;for(;u>0;)p=p[m.X5O],u--;return p}let gr=!0;function Tn(a){const l=gr;return gr=a,l}let Hn=0;const Ui={};function Hi(a,l){const u=xn(a,l);if(-1!==u)return u;const p=l[m.eDl];p.firstCreatePass&&(a.injectorIndex=l.length,En(p.data,a),En(l,null),En(p.blueprint,null));const f=Wi(a,l),y=a.injectorIndex;if(ar(f)){const b=vi(f),A=Xn(f,l),P=A[m.eDl].data;for(let D=0;D<8;D++)l[y+D]=A[b+D]|P[b+D]}return l[y+8]=f,y}function En(a,l){a.push(0,0,0,0,0,0,0,0,l)}function xn(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Wi(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,p=null,f=l;for(;null!==f;){if(p=J(f),null===p)return-1;if(u++,f=f[m.X5O],-1!==p.injectorIndex)return p.injectorIndex|u<<16}return-1}function fn(a,l,u){!function gi(a,l,u){let p;"string"==typeof u?p=u.charCodeAt(0)||0:u.hasOwnProperty(m.p9y)&&(p=u[m.p9y]),null==p&&(p=u[m.p9y]=Hn++);const f=255&p;l.data[a+(f>>5)]|=1<<f}(a,l,u)}function Qn(a,l,u){if(8&u||void 0!==a)return a;(0,m.$Hz)(l,"NodeInjector")}function or(a,l,u,p){if(8&u&&void 0===p&&(p=null),!(3&u)){const f=a[m.YEL],y=(0,m.a2B)(void 0);try{return f?f.get(l,p,8&u):(0,m.MzJ)(l,p,8&u)}finally{(0,m.a2B)(y)}}return Qn(p,l,u)}function Ki(a,l,u,p=0,f){if(null!==a){if(2048&l[m.Wg1]&&!(2&p)){const b=function te(a,l,u,p,f){let y=a,b=l;for(;null!==y&&null!==b&&2048&b[m.Wg1]&&!(0,m.EFk)(b);){const A=rn(y,b,u,2|p,Ui);if(A!==Ui)return A;let P=y.parent;if(!P){const D=b[m.oMQ];if(D){const N=D.get(u,Ui,p);if(N!==Ui)return N}P=J(b),b=b[m.X5O]}y=P}return f}(a,l,u,p,Ui);if(b!==Ui)return b}const y=rn(a,l,u,p,Ui);if(y!==Ui)return y}return or(l,u,p,f)}function rn(a,l,u,p,f){const y=function wr(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(m.p9y)?a[m.p9y]:void 0;return"number"==typeof l?l>=0?255&l:fr:l}(u);if("function"==typeof y){if(!(0,m.ihb)(l,a,p))return 1&p?Qn(f,u,p):or(l,u,p,f);try{let b;if(b=y(p),null!=b||8&p)return b;(0,m.$Hz)(u)}finally{(0,m.niQ)()}}else if("number"==typeof y){let b=null,A=xn(a,l),P=-1,D=1&p?l[m.b5C][m.qlT]:null;for((-1===A||4&p)&&(P=-1===A?Wi(a,l):l[A+8],-1!==P&&ga(p,!1)?(b=l[m.eDl],A=vi(P),l=Xn(P,l)):A=-1);-1!==A;){const N=l[m.eDl];if(ea(y,A,N.data)){const U=mr(A,l,u,b,p,D);if(U!==Ui)return U}P=l[A+8],-1!==P&&ga(p,l[m.eDl].data[A+8]===D)&&ea(y,A,l)?(b=N,A=vi(P),l=Xn(P,l)):A=-1}}return f}function mr(a,l,u,p,f,y){const b=l[m.eDl],A=b.data[a+8],N=qn(A,b,u,null==p?(0,m.Qs1)(A)&&gr:p!=b&&!!(3&A.type),1&f&&y===A);return null!==N?sr(l,b,N,A,f):Ui}function qn(a,l,u,p,f){const y=a.providerIndexes,b=l.data,A=1048575&y,P=a.directiveStart,N=y>>20,Z=f?A+N:a.directiveEnd;for(let ee=p?A:A+N;ee<Z;ee++){const fe=b[ee];if(ee<P&&u===fe||ee>=P&&fe.type===u)return ee}if(f){const ee=b[P];if(ee&&(0,m.JlV)(ee)&&ee.type===u)return P}return null}function sr(a,l,u,p,f){let y=a[u];const b=l.data;if(y instanceof Ot){const A=y;if(A.resolving){const ee=(0,m.PP7)(b[u]);throw(0,m.PQT)(ee)}const P=Tn(A.canSeeViewProviders);A.resolving=!0;const U=A.injectImpl?(0,m.a2B)(A.injectImpl):null;(0,m.ihb)(a,p,0);try{y=a[u]=A.factory(void 0,f,b,a,p),l.firstCreatePass&&u>=p.directiveStart&&function at(a,l,u){const{ngOnChanges:p,ngOnInit:f,ngDoCheck:y}=l.type.prototype;if(p){const b=Zi(l);(u.preOrderHooks??=[]).push(a,b),(u.preOrderCheckHooks??=[]).push(a,b)}f&&(u.preOrderHooks??=[]).push(0-a,f),y&&((u.preOrderHooks??=[]).push(a,y),(u.preOrderCheckHooks??=[]).push(a,y))}(u,b[u],l)}finally{null!==U&&(0,m.a2B)(U),Tn(P),A.resolving=!1,(0,m.niQ)()}}return y}function ea(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function ga(a,l){return!(2&a||1&a&&l)}class $t{_tNode;_lView;constructor(l,u){this._tNode=l,this._lView=u}get(l,u,p){return Ki(this._tNode,this._lView,l,(0,m.hjC)(p),u)}}function fr(){return new $t((0,m.Mx4)(),(0,m.OAn)())}function $r(a){return de(()=>{const l=a.prototype.constructor,u=l[m.zSs]||W(l),p=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==p;){const y=f[m.zSs]||W(f);if(y&&y!==u)return y;f=Object.getPrototypeOf(f)}return y=>new y})}function W(a){return(0,m.Jzi)(a)?()=>{const l=W((0,m.nl4)(a));return l&&l()}:(0,m.wGu)(a)}function J(a){const l=a[m.eDl],u=l.type;return 2===u?l.declTNode:1===u?a[m.qlT]:null}function ve(a){return function Dn(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const p=u.length;let f=0;for(;f<p;){const y=u[f];if(mn(y))break;if(0===y)f+=2;else if("number"==typeof y)for(f++;f<p&&"string"==typeof u[f];)f++;else{if(y===l)return u[f+1];f+=2}}}return null}((0,m.Mx4)(),a)}const ke=Se("Attribute",a=>({attributeName:a,__NG_ELEMENT_ID__:()=>ve(a)}));let Te=null;function kt(a){return ot(function Xe(){return Te=Te||new bi}().parameters(a))}function ot(a){return a.map(l=>function ai(a){const l={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(a)&&a.length>0)for(let u=0;u<a.length;u++){const p=a[u];if(void 0===p)continue;const f=Object.getPrototypeOf(p);if(p instanceof Me||"Optional"===f.ngMetadataName)l.optional=!0;else if(p instanceof Be||"SkipSelf"===f.ngMetadataName)l.skipSelf=!0;else if(p instanceof ze||"Self"===f.ngMetadataName)l.self=!0;else if(p instanceof $e||"Host"===f.ngMetadataName)l.host=!0;else if(p instanceof _e)l.token=p.token;else if(p instanceof ke){if(void 0===p.attributeName)throw new m.buA(204,!1);l.attribute=p.attributeName}else l.token=p}else l.token=void 0===a||Array.isArray(a)&&0===a.length?null:a;return l}(l))}const ei=(0,m.kLh)({provide:String,useValue:m.kLh});function Ai(a){return void 0!==a.useClass}function Si(a){return void 0!==a.useFactory}const Mt=oe("Injectable",void 0,void 0,0,(a,l)=>function Xt(a,l){let u=null,p=null;a.hasOwnProperty(m.yAH)||Object.defineProperty(a,m.yAH,{get:()=>(null===u&&(u=je().compileInjectable(ut,`ng:///${a.name}/\u0275prov.js`,function _t(a,l){const u=l||{providedIn:null},p={name:a.name,type:a,typeArgumentCount:0,providedIn:u.providedIn};return(Ai(u)||Si(u))&&void 0!==u.deps&&(p.deps=ot(u.deps)),Ai(u)?p.useClass=u.useClass:function bn(a){return ei in a}(u)?p.useValue=u.useValue:Si(u)?p.useFactory=u.useFactory:function qi(a){return void 0!==a.useExisting}(u)&&(p.useExisting=u.useExisting),p}(a,l))),u)}),a.hasOwnProperty(m.zSs)||Object.defineProperty(a,m.zSs,{get:()=>{if(null===p){const f=je();p=f.compileFactory(ut,`ng:///${a.name}/\u0275fac.js`,{name:a.name,type:a,typeArgumentCount:0,deps:kt(a),target:f.FactoryTarget.Injectable})}return p},configurable:!0})}(a,l));function zt(){return Pi((0,m.Mx4)(),(0,m.OAn)())}function Pi(a,l){return new At((0,m.d31)(a,l))}let At=(()=>class a{nativeElement;constructor(u){this.nativeElement=u}static __NG_ELEMENT_ID__=zt})();function di(a){return a instanceof At?a.nativeElement:a}function an(){return this._results[Symbol.iterator]()}class zi{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new se.B7}constructor(l=!1){this._emitDistinctChangesOnly=l}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){this.dirty=!1;const p=(0,m.Bqz)(l);(this._changesDetected=!(0,m.ng7)(this._results,p,u))&&(this._results=p,this.length=p.length,this.last=p[this.length-1],this.first=p[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(l){this._onDirty=l}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=an}function un(a){return!(128&~a.flags)}var In=function(a){return a[a.OnPush=0]="OnPush",a[a.Default=1]="Default",a}(In||{});const vn=new Map;let Ir=0;function L(a){vn.delete(a[m.ID])}const Le="__ngContext__";function Ve(a,l){(0,m.q$2)(l)?(a[Le]=l[m.ID],function yr(a){vn.set(a[m.ID],a)}(l)):a[Le]=l}function Ni(a){return ta(a[m.EJG])}function Wn(a){return ta(a[m.K29])}function ta(a){for(;null!==a&&!(0,m.A0l)(a);)a=a[m.K29];return a}let ba;function Ha(a){ba=a}function vr(){if(void 0!==ba)return ba;if(typeof document<"u")return document;throw new m.buA(210,!1)}const Yi=new m.nKC("",{factory:()=>va}),va="ng",qa={provide:m.Z63,multi:!0,useValue:()=>{const a=(0,m.WQX)(Yi);if(!/^[a-zA-Z0-9\-_]+$/.test(a))throw new m.buA(211,`APP_ID value "${a}" is not alphanumeric. The APP_ID must be a string of alphanumeric characters. (a-zA-Z0-9), hyphens (-) and underscores (_) are allowed.`)}},O=new m.nKC(""),I=new m.nKC("",{providedIn:"platform",factory:()=>"unknown"}),z=new m.nKC("",{factory:()=>(0,m.WQX)(m.qQL).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),ue={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Pe=new m.nKC("",{factory:()=>ue});let He=(()=>{class a{static \u0275prov=(0,m.jDH)({token:a,providedIn:"root",factory:()=>{const u=new a;return u.store=function pt(a,l){const u=a.getElementById(l+"-state");if(u?.textContent)try{return JSON.parse(u.textContent)}catch(p){console.warn("Exception while restoring TransferState for app "+l,p)}return{}}((0,m.WQX)(m.qQL),(0,m.WQX)(Yi)),u}});store={};onSerializeCallbacks={};get(u,p){return void 0!==this.store[u]?this.store[u]:p}set(u,p){this.store[u]=p}remove(u){delete this.store[u]}hasKey(u){return this.store.hasOwnProperty(u)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(u,p){this.onSerializeCallbacks[u]=p}toJson(){for(const u in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(u))try{this.store[u]=this.onSerializeCallbacks[u]()}catch(p){console.warn("Exception in onSerialize callback: ",p)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return a})();const na=new m.nKC("",{factory:()=>!1}),nc=new m.nKC(""),mo={passive:!0,capture:!0},qs=new WeakMap,aa=new WeakMap,Wr=new WeakMap,ka=["click","keydown"],Ua=["mouseenter","mouseover","focusin"],zn=new Map;class Wa{callbacks=new Set;listener=()=>{for(const l of this.callbacks)l()}}function fo(a,l){let u=aa.get(a);if(!u){u=new Wa,aa.set(a,u);for(const p of ka)a.addEventListener(p,u.listener,mo)}return u.callbacks.add(l),()=>{const{callbacks:p,listener:f}=u;if(p.delete(l),0===p.size){aa.delete(a);for(const y of ka)a.removeEventListener(y,f,mo)}}}function Pd(a,l){let u=qs.get(a);if(!u){u=new Wa,qs.set(a,u);for(const p of Ua)a.addEventListener(p,u.listener,mo)}return u.callbacks.add(l),()=>{const{callbacks:p,listener:f}=u;if(p.delete(l),0===p.size){for(const y of Ua)a.removeEventListener(y,f,mo);qs.delete(a)}}}function ac(a){return a?`${a.rootMargin}/${"number"==typeof a.threshold?a.threshold:a.threshold?.join("\n")}`:""}const hn=new m.nKC("");function zr(a){return!(32&~a.flags)}function wd(a){let l=a._lView;return 2===l[m.eDl].type?null:((0,m.EFk)(l)&&(l=l[m.Yw1]),l)}function Cd(a){return a.get(nc,!1,{optional:!0})}function Ys(a,l){const u=a.contentQueries;if(null!==u){const p=(0,G.Ht)(null);try{for(let f=0;f<u.length;f+=2){const b=u[f+1];if(-1!==b){const A=a.data[b];(0,m.GA0)(u[f]),A.contentQueries(2,l[b],b)}}}finally{(0,G.Ht)(p)}}}function yc(a,l,u){(0,m.GA0)(0);const p=(0,G.Ht)(null);try{l(a,u)}finally{(0,G.Ht)(p)}}function bc(a,l,u){if((0,m.srX)(l)){const p=(0,G.Ht)(null);try{const y=l.directiveEnd;for(let b=l.directiveStart;b<y;b++){const A=a.data[b];A.contentQueries&&A.contentQueries(1,u[b],b)}}finally{(0,G.Ht)(p)}}}var Nr=function(a){return a[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",a[a.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",a}(Nr||{});let Xo,Po;function _c(){if(void 0===Xo&&(Xo=null,m.laP.trustedTypes))try{Xo=m.laP.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Xo}function Rn(a){return _c()?.createHTML(a)||a}function wc(){if(void 0===Po&&(Po=null,m.laP.trustedTypes))try{Po=m.laP.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Po}function Tc(a){return wc()?.createHTML(a)||a}function Qs(a){return wc()?.createScript(a)||a}function Cc(a){return wc()?.createScriptURL(a)||a}class Qo{changingThisBreaksApplicationSecurity;constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${m.ok8})`}}function Xr(a){return a instanceof Qo?a.changingThisBreaksApplicationSecurity:a}function Ta(a,l){const u=function xc(a){return a instanceof Qo&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see ${m.ok8})`)}return u===l}function Dc(a){const l=new _m(a);return function Ar(){try{return!!(new window.DOMParser).parseFromString(Rn(""),"text/html")}catch{return!1}}()?new Gd(l):l}class Gd{inertDocumentHelper;constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Rn(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.firstChild?.remove(),u)}catch{return null}}}class _m{defaultDoc;inertDocument;constructor(l){this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(l){const u=this.inertDocument.createElement("template");return u.innerHTML=Rn(l),u}}const Jt=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function za(a){return(a=String(a)).match(Jt)?a:"unsafe:"+a}function Qi(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function Jo(...a){const l={};for(const u of a)for(const p in u)u.hasOwnProperty(p)&&(l[p]=!0);return l}const oa=Qi("area,br,col,hr,img,wbr"),Mc=Qi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ic=Qi("rp,rt"),el=Jo(oa,Jo(Mc,Qi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jo(Ic,Qi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jo(Ic,Mc)),es=Qi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hd=Jo(es,Qi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Rc=Qi("script,style,template");class ZA{sanitizedSomething=!1;buf=[];sanitizeChildren(l){let u=l.firstChild,p=!0,f=[];for(;u;)if(u.nodeType===Node.ELEMENT_NODE?p=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,p&&u.firstChild)f.push(u),u=Cm(u);else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let y=qd(u);if(y){u=y;break}u=f.pop()}return this.buf.join("")}startElement(l){const u=ts(l).toLowerCase();if(!el.hasOwnProperty(u))return this.sanitizedSomething=!0,!Rc.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const p=l.attributes;for(let f=0;f<p.length;f++){const y=p.item(f),b=y.name,A=b.toLowerCase();if(!Hd.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let P=y.value;es[A]&&(P=za(P)),this.buf.push(" ",b,'="',Vd(P),'"')}return this.buf.push(">"),!0}endElement(l){const u=ts(l).toLowerCase();el.hasOwnProperty(u)&&!oa.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(Vd(l))}}function qd(a){const l=a.nextSibling;if(l&&a!==l.previousSibling)throw jd(l);return l}function Cm(a){const l=a.firstChild;if(l&&function Tm(a,l){return(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(a,l))throw jd(l);return l}function ts(a){const l=a.nodeName;return"string"==typeof l?l:"FORM"}function jd(a){return new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`)}const Lc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Em=/([^\#-~ |!])/g;function Vd(a){return a.replace(/&/g,"&amp;").replace(Lc,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Em,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tl;function is(a){return"content"in a&&function Dm(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}const Ud=/^>|^->|<!--|-->|--!>|<!-$/g,Mm=/(<|>)/g;function Fc(a,l){return a.createText(l)}function Oc(a,l,u){a.setValue(l,u)}function Bc(a,l){return a.createComment(function Wd(a){return a.replace(Ud,l=>l.replace(Mm,"\u200b$1\u200b"))}(l))}function ns(a,l,u){return a.createElement(l,u)}function Ya(a,l,u,p,f){a.insertBefore(l,u,p,f)}function S(a,l,u){a.appendChild(l,u)}function M(a,l,u,p,f){null!==p?Ya(a,l,u,p,f):S(a,l,u)}function j(a,l,u,p){a.removeChild(null,l,u,p)}function nt(a,l,u){const{mergedAttrs:p,classes:f,styles:y}=u;null!==p&&function wn(a,l,u){let p=0;for(;p<u.length;){const f=u[p];if("number"==typeof f){if(0!==f)break;p++;const y=u[p++],b=u[p++],A=u[p++];a.setAttribute(l,b,A,y)}else{const y=f,b=u[++p];Ri(y)?a.setProperty(l,y,b):a.setAttribute(l,y,b),p++}}}(a,l,p),null!==f&&function Oe(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}(a,l,f),null!==y&&function be(a,l,u){a.setAttribute(l,"style",u)}(a,l,y)}var wt=function(a){return a[a.NONE=0]="NONE",a[a.HTML=1]="HTML",a[a.STYLE=2]="STYLE",a[a.SCRIPT=3]="SCRIPT",a[a.URL=4]="URL",a[a.RESOURCE_URL=5]="RESOURCE_URL",a}(wt||{});function Im(a){const l=$c();return l?l.sanitize(wt.URL,a)||"":Ta(a,"URL")?Xr(a):za((0,m.eFE)(a))}function eS(a){const l=$c();if(l)return Cc(l.sanitize(wt.RESOURCE_URL,a)||"");if(Ta(a,"ResourceURL"))return Cc(Xr(a));throw new m.buA(904,!1)}const rT=new Set(["embed","frame","iframe","media","script"]),aT=new Set(["base","link","script"]);function $c(){const a=(0,m.OAn)();return a&&a[m.M0L].sanitizer}const Kd=new Set(["attributename"]),lT={iframe:new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]),animate:Kd,set:Kd,animatemotion:Kd,animatetransform:Kd};function sa(a){return a instanceof Function?a():a}function iS(a){if(nS(a),!(0,m.xUg)(a).standalone)throw new m.buA(907,`The ${(0,m.PP7)(a)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${(0,m.PP7)(a)} component does not have the \`standalone: false\` flag in the decorator.`)}function nS(a){if(!(0,m.xUg)(a))throw new m.buA(906,`The ${(0,m.PP7)(a)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}function gT(a,l,u){let p=a.length;for(;;){const f=a.indexOf(l,u);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const y=l.length;if(f+y===p||a.charCodeAt(f+y)<=32)return f}u=f+1}}const _o="ng-template";function mT(a,l,u,p){let f=0;if(p){for(;f<l.length&&"string"==typeof l[f];f+=2)if("class"===l[f]&&-1!==gT(l[f+1].toLowerCase(),u,0))return!0}else if(Rm(a))return!1;if(f=l.indexOf(1,f),f>-1){let y;for(;++f<l.length&&"string"==typeof(y=l[f]);)if(y.toLowerCase()===u)return!0}return!1}function Rm(a){return 4===a.type&&a.value!==_o}function fT(a,l,u){return l===(4!==a.type||u?a.value:_o)}function Zd(a,l,u){let p=4;const f=a.attrs,y=null!==f?function rS(a){for(let l=0;l<a.length;l++)if(mn(a[l]))return l;return a.length}(f):0;let b=!1;for(let A=0;A<l.length;A++){const P=l[A];if("number"!=typeof P){if(!b)if(4&p){if(p=2|1&p,""!==P&&!fT(a,P,u)||""===P&&1===l.length){if(ur(p))return!1;b=!0}}else if(8&p){if(null===f||!mT(a,f,P,u)){if(ur(p))return!1;b=!0}}else{const D=l[++A],N=Lm(P,f,Rm(a),u);if(-1===N){if(ur(p))return!1;b=!0;continue}if(""!==D){let U;if(U=N>y?"":f[N+1].toLowerCase(),2&p&&D!==U){if(ur(p))return!1;b=!0}}}}else{if(!b&&!ur(p)&&!ur(P))return!1;if(b&&ur(P))continue;b=!1,p=P|1&p}}return ur(p)||b}function ur(a){return!(1&a)}function Lm(a,l,u,p){if(null===l)return-1;let f=0;if(p||!u){let y=!1;for(;f<l.length;){const b=l[f];if(b===a)return f;if(3===b||6===b)y=!0;else{if(1===b||2===b){let A=l[++f];for(;"string"==typeof A;)A=l[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=y?1:2}return-1}return function yT(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const p=a[u];if("number"==typeof p)return-1;if(p===l)return u;u++}return-1}(l,a)}function Nm(a,l,u=!1){for(let p=0;p<l.length;p++)if(Zd(a,l[p],u))return!0;return!1}function aS(a,l){e:for(let u=0;u<l.length;u++){const p=l[u];if(a.length===p.length){for(let f=0;f<a.length;f++)if(a[f]!==p[f])continue e;return!0}}return!1}function oS(a,l){return a?":not("+l.trim()+")":l}function Gc(a){let l=a[0],u=1,p=2,f="",y=!1;for(;u<a.length;){let b=a[u];if("string"==typeof b)if(2&p){const A=a[++u];f+="["+b+(A.length>0?'="'+A+'"':"")+"]"}else 8&p?f+="."+b:4&p&&(f+=" "+b);else""!==f&&!ur(b)&&(l+=oS(y,f),f=""),p=b,y=y||!ur(p);u++}return""!==f&&(l+=oS(y,f)),l}const ti={};function th(a,l,u,p,f,y,b,A,P,D,N){const U=m.Yw1+p,Z=U+f,ee=function vT(a,l){const u=[];for(let p=0;p<l;p++)u.push(p<a?null:ti);return u}(U,Z),fe="function"==typeof D?D():D;return ee[m.eDl]={type:a,blueprint:ee,template:u,queries:null,viewQuery:A,declTNode:l,data:ee.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:P,consts:fe,incompleteFirstPass:!1,ssrId:N}}function ih(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=th(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts,a.id):l}function il(a,l,u,p,f,y,b,A,P,D,N){const U=l.blueprint.slice();return U[m.jgP]=f,U[m.Wg1]=1228|p,(null!==D||a&&2048&a[m.Wg1])&&(U[m.Wg1]|=2048),(0,m.HUe)(U),U[m.f7T]=U[m.X5O]=a,U[m.SKP]=u,U[m.M0L]=b||a&&a[m.M0L],U[m.GpT]=A||a&&a[m.GpT],U[m.YEL]=P||a&&a[m.YEL]||null,U[m.qlT]=y,U[m.ID]=function Tr(){return Ir++}(),U[m.tcA]=N,U[m.oMQ]=D,U[m.b5C]=2==l.type?a[m.b5C]:U,U}function Hc(a){let l=16;return a.signals?l=4096:a.onPush&&(l=64),l}function Qa(a,l,u,p){if(0===u)return-1;const f=l.length;for(let y=0;y<u;y++)l.push(p),a.blueprint.push(p),a.data.push(null);return f}function qc(a,l){return a[m.EJG]?a[m.Yrj][m.K29]=l:a[m.EJG]=l,a[m.Yrj]=l,l}function nh(a=1){sS((0,m.klJ)(),(0,m.OAn)(),(0,m._px)()+a,!1)}function sS(a,l,u,p){if(!p)if(3&~l[m.Wg1]){const y=a.preOrderHooks;null!==y&&Gi(l,y,0,u)}else{const y=a.preOrderCheckHooks;null!==y&&Pt(l,y,u)}(0,m.ypq)(u)}var wo=function(a){return a[a.None=0]="None",a[a.SignalBased=1]="SignalBased",a[a.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",a}(wo||{});function Ja(a,l,u,p){const f=(0,G.Ht)(null);try{const[y,b,A]=a.inputs[u];let P=null;0!==(b&wo.SignalBased)&&(P=l[y][G.bh]),null!==P&&void 0!==P.transformFn?p=P.transformFn(p):null!==A&&(p=A.call(l,p)),null!==a.setInput?a.setInput(l,P,p,u,y):wi(l,P,y,p)}finally{(0,G.Ht)(f)}}var jc=function(a){return a[a.Important=1]="Important",a[a.DashCase=2]="DashCase",a}(jc||{});let Bm;function $m(a,l){return Bm(a,l)}function nl(a){if(!a)return 0;const l=a.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(a)*l}function rl(a,l){return a.getPropertyValue(l).split(",").map(p=>p.trim())}function Uc(a,l){return void 0!==a&&a.duration>l.duration}function Gm(a){return(null!=a.animationName||null!=a.propertyName)&&a.duration>0}function Hm(a,l,u){if(!u)return;const p=a.getAnimations();return 0===p.length?function ST(a,l){const u=getComputedStyle(a),p=function C(a){const l=rl(a,"animation-name"),u=rl(a,"animation-delay"),p=rl(a,"animation-duration"),f={animationName:"",propertyName:void 0,duration:0};for(let y=0;y<l.length;y++){const b=nl(u[y])+nl(p[y]);b>f.duration&&(f.animationName=l[y],f.duration=b)}return f}(u),f=function Vc(a){const l=rl(a,"transition-property"),u=rl(a,"transition-duration"),p=rl(a,"transition-delay"),f={propertyName:"",duration:0,animationName:void 0};for(let y=0;y<l.length;y++){const b=nl(p[y])+nl(u[y]);b>f.duration&&(f.propertyName=l[y],f.duration=b)}return f}(u),y=p.duration>f.duration?p:f;Uc(l.get(a),y)||Gm(y)&&l.set(a,y)}(a,l):function qm(a,l,u){let p={animationName:void 0,propertyName:void 0,duration:0};for(const f of u){const y=f.effect?.getTiming(),b="number"==typeof y?.duration?y.duration:0;let P,D,A=(y?.delay??0)+b;f.animationName?D=f.animationName:P=f.transitionProperty,A>=p.duration&&(p={animationName:D,propertyName:P,duration:A})}Uc(l.get(a),p)||Gm(p)&&l.set(a,p)}(a,l,p)}const as=new Set;var jm=function(a){return a[a.CHANGE_DETECTION=0]="CHANGE_DETECTION",a[a.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",a}(jm||{});const Wc=new m.nKC(""),lS=new Set;function Sn(a){lS.has(a)||(lS.add(a),performance?.mark?.("mark_feature_usage",{detail:{feature:a}}))}let cS=(()=>{class a{impl=null;execute(){this.impl?.execute()}static \u0275prov=(0,m.jDH)({token:a,providedIn:"root",factory:()=>new a})}return a})();const Vm=[0,1,2,3];let la=(()=>{class a{ngZone=(0,m.WQX)(m.SKi);scheduler=(0,m.WQX)(m.hk6);errorHandler=(0,m.WQX)(m.zcH,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){(0,m.WQX)(Wc,{optional:!0})}execute(){const u=this.sequences.size>0;u&&St(Ie.AfterRenderHooksStart),this.executing=!0;for(const p of Vm)for(const f of this.sequences)if(!f.erroredOrDestroyed&&f.hooks[p])try{f.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,f.hooks[p])(f.pipelinedValue),f.snapshot))}catch(y){f.erroredOrDestroyed=!0,this.errorHandler?.handleError(y)}this.executing=!1;for(const p of this.sequences)p.afterRun(),p.once&&(this.sequences.delete(p),p.destroy());for(const p of this.deferredRegistrations)this.sequences.add(p);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),u&&St(Ie.AfterRenderHooksEnd)}register(u){const{view:p}=u;void 0!==p?((p[m.JEi]??=[]).push(u),(0,m.blu)(p),p[m.Wg1]|=8192):this.executing?this.deferredRegistrations.add(u):this.addSequence(u)}addSequence(u){this.sequences.add(u),this.scheduler.notify(7)}unregister(u){this.executing&&this.sequences.has(u)?(u.erroredOrDestroyed=!0,u.pipelinedValue=void 0,u.once=!0):(this.sequences.delete(u),this.deferredRegistrations.delete(u))}maybeTrace(u,p){return p?p.run(jm.AFTER_NEXT_RENDER,u):u()}static \u0275prov=(0,m.jDH)({token:a,providedIn:"root",factory:()=>new a})}return a})();class uS{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(l,u,p,f,y,b=null){this.impl=l,this.hooks=u,this.view=p,this.once=f,this.snapshot=b,this.unregisterOnDestroy=y?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const l=this.view?.[m.JEi];l&&(this.view[m.JEi]=l.filter(u=>u!==this))}}function ca(a,l){const u=l?.injector??(0,m.WQX)(m.zZn);return Sn("NgAfterNextRender"),dS(a,u,l,!0)}function dS(a,l,u,p){const f=l.get(cS);f.impl??=l.get(la);const y=l.get(Wc,null,{optional:!0}),b=!0!==u?.manualCleanup?l.get(m.abz):null,A=l.get(m.r4V,null,{optional:!0}),P=new uS(f.impl,function kT(a){return a instanceof Function?[void 0,void 0,a,void 0]:[a.earlyRead,a.write,a.mixedReadWrite,a.read]}(a),A?.view,p,b,y?.snapshot(null));return f.impl.register(P),P}const ua=new m.nKC("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:(0,m.WQX)(m.uvJ)})});function Kc(a,l,u){const p=a.get(ua);if(Array.isArray(l))for(const f of l)p.queue.add(f),u?.detachedLeaveAnimationFns?.push(f);else p.queue.add(l),u?.detachedLeaveAnimationFns?.push(l);p.scheduler&&p.scheduler(a)}function al(a){const l=a.get(ua);l.isScheduled||(ca(()=>{l.isScheduled=!1;for(let u of l.queue)u();l.queue.clear()},{injector:l.injector}),l.isScheduled=!0)}function To(a){const l=a.get(ua);l.scheduler=al,l.scheduler(a)}function ol(a,l){for(const[u,p]of l)Kc(a,p.animateFns)}function sl(a,l,u,p){const f=a?.[m.Isx]?.enter;null!==l&&f&&f.has(u.index)&&ol(p,f)}function Za(a,l,u,p,f,y,b,A){if(null!=f){let P,D=!1;(0,m.A0l)(f)?P=f:(0,m.q$2)(f)&&(D=!0,f=f[m.jgP]);const N=(0,m.IvY)(f);0===a&&null!==p?(sl(A,p,y,u),null==b?S(l,p,N):Ya(l,p,N,b||null,!0)):1===a&&null!==p?(sl(A,p,y,u),Ya(l,p,N,b||null,!0)):2===a?hS(A,y,u,U=>{j(l,N,D,U)}):3===a&&hS(A,y,u,()=>{l.destroyNode(N)}),null!=P&&function Yc(a,l,u,p,f,y,b){const A=p[m.s6P];A!==(0,m.IvY)(p)&&Za(l,a,u,y,A,f,b);for(let D=m.Y20;D<p.length;D++){const N=p[D];tr(N[m.eDl],N,a,l,y,A)}}(l,a,u,P,y,p,b)}}function rh(a,l){Um(a,l),l[m.jgP]=null,l[m.qlT]=null}function Um(a,l){l[m.M0L].changeDetectionScheduler?.notify(9),tr(a,l,l[m.GpT],2,null,null)}function ll(a,l){const u=a[m.nfM],p=u.indexOf(l);u.splice(p,1)}function ss(a,l){if((0,m.EPY)(l))return;const u=l[m.GpT];u.destroyNode&&tr(a,l,u,3,null,null),function wT(a){let l=a[m.EJG];if(!l)return ah(a[m.eDl],a);for(;l;){let u=null;if((0,m.q$2)(l))u=l[m.EJG];else{const p=l[m.Y20];p&&(u=p)}if(!u){for(;l&&!l[m.K29]&&l!==a;)(0,m.q$2)(l)&&ah(l[m.eDl],l),l=l[m.f7T];null===l&&(l=a),(0,m.q$2)(l)&&ah(l[m.eDl],l),u=l&&l[m.K29]}l=u}}(l)}function ah(a,l){if((0,m.EPY)(l))return;const u=(0,G.Ht)(null);try{l[m.Wg1]&=-129,l[m.Wg1]|=256,l[m.Iaj]&&(0,G.XR)(l[m.Iaj]),function CT(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let p=0;p<u.length;p+=2){const f=l[u[p]];if(!(f instanceof Ot)){const y=u[p+1];if(Array.isArray(y))for(let b=0;b<y.length;b+=2){const A=f[y[b]],P=y[b+1];St(Ie.LifecycleHookStart,A,P);try{P.call(A)}finally{St(Ie.LifecycleHookEnd,A,P)}}else{St(Ie.LifecycleHookStart,f,y);try{y.call(f)}finally{St(Ie.LifecycleHookEnd,f,y)}}}}}(a,l),function TT(a,l){const u=a.cleanup,p=l[m.VVG];if(null!==u)for(let b=0;b<u.length-1;b+=2)if("string"==typeof u[b]){const A=u[b+3];A>=0?p[A]():p[-A].unsubscribe(),b+=2}else u[b].call(p[u[b+1]]);null!==p&&(l[m.VVG]=null);const f=l[m.Czx];if(null!==f){l[m.Czx]=null;for(let b=0;b<f.length;b++)(0,f[b])()}const y=l[m.tQN];if(null!==y){l[m.tQN]=null;for(const b of y)b.destroy()}}(a,l),1===l[m.eDl].type&&l[m.GpT].destroy();const p=l[m.rQE];if(null!==p&&(0,m.A0l)(l[m.f7T])){p!==l[m.f7T]&&ll(p,l);const f=l[m.Ds7];null!==f&&f.detachView(a)}L(l)}finally{(0,G.Ht)(u)}}function hS(a,l,u,p){const f=a?.[m.Isx];if(null==f||null==f.leave||!f.leave.has(l.index))return p(!1);a&&as.add(a[m.ID]),Kc(u,()=>{if(f.leave&&f.leave.has(l.index)){const b=f.leave.get(l.index),A=[];if(b){for(let P=0;P<b.animateFns.length;P++){const D=b.animateFns[P],{promise:N}=D();A.push(N)}f.detachedLeaveAnimationFns=void 0}f.running=Promise.allSettled(A),function pS(a,l){const u=a[m.Isx]?.running;u?u.then(()=>{a[m.Isx].running=void 0,as.delete(a[m.ID]),l(!0)}):l(!1)}(a,p)}else a&&as.delete(a[m.ID]),p(!1)},f)}function Wm(a,l,u){return Km(a,l.parent,u)}function Km(a,l,u){let p=l;for(;null!==p&&168&p.type;)p=(l=p).parent;if(null===p)return u[m.jgP];if((0,m.Qs1)(p)){const{encapsulation:f}=a.data[p.directiveStart+p.componentOffset];if(f===Nr.None||f===Nr.Emulated)return null}return(0,m.d31)(p,u)}function gS(a,l,u){return oh(a,l,u)}function mS(a,l,u){return 40&a.type?(0,m.d31)(a,u):null}let zm,oh=mS;function fS(a,l){oh=a,zm=l}function sh(a,l,u,p){const f=Wm(a,p,l),y=l[m.GpT],A=gS(p.parent||l[m.qlT],p,l);if(null!=f)if(Array.isArray(u))for(let P=0;P<u.length;P++)M(y,f,u[P],A,!1);else M(y,f,u,A,!1);void 0!==zm&&zm(y,p,l,u,f)}function ls(a,l){if(null!==l){const u=l.type;if(3&u)return(0,m.d31)(l,a);if(4&u)return Ym(-1,a[l.index]);if(8&u){const p=l.child;if(null!==p)return ls(a,p);{const f=a[l.index];return(0,m.A0l)(f)?Ym(-1,f):(0,m.IvY)(f)}}if(128&u)return ls(a,l.next);if(32&u)return $m(l,a)()||(0,m.IvY)(a[l.index]);{const p=yS(a,l);return null!==p?Array.isArray(p)?p[0]:ls((0,m._0$)(a[m.b5C]),p):ls(a,l.next)}}return null}function yS(a,l){return null!==l?a[m.b5C][m.qlT].projection[l.projection]:null}function Ym(a,l){const u=m.Y20+a+1;if(u<l.length){const p=l[u],f=p[m.eDl].firstChild;if(null!==f)return ls(p,f)}return l[m.s6P]}function zc(a,l,u,p,f,y,b){for(;null!=u;){const A=p[m.YEL];if(128===u.type){u=u.next;continue}const P=p[u.index],D=u.type;if(b&&0===l&&(P&&Ve((0,m.IvY)(P),p),u.flags|=2),!zr(u))if(8&D)zc(a,l,u.child,p,f,y,!1),Za(l,a,A,f,P,u,y,p);else if(32&D){const N=$m(u,p);let U;for(;U=N();)Za(l,a,A,f,U,u,y,p);Za(l,a,A,f,P,u,y,p)}else 16&D?bS(a,l,p,u,f,y):Za(l,a,A,f,P,u,y,p);u=b?u.projectionNext:u.next}}function tr(a,l,u,p,f,y){zc(u,p,a.firstChild,l,f,y,!1)}function bS(a,l,u,p,f,y){const b=u[m.b5C],P=b[m.qlT].projection[p.projection];if(Array.isArray(P))for(let D=0;D<P.length;D++)Za(l,a,u[m.YEL],f,P[D],p,y,u);else{let D=P;const N=b[m.f7T];un(p)&&(D.flags|=128),zc(a,l,D,N,f,y,!0)}}function vS(a,l,u,p,f){const y=(0,m._px)(),b=2&p;try{(0,m.ypq)(-1),b&&l.length>m.Yw1&&sS(a,l,m.Yw1,!1),St(b?Ie.TemplateUpdateStart:Ie.TemplateCreateStart,f,u),u(p,f)}finally{(0,m.ypq)(y),St(b?Ie.TemplateUpdateEnd:Ie.TemplateCreateEnd,f,u)}}function lh(a,l,u){(function DT(a,l,u){const p=u.directiveStart,f=u.directiveEnd;(0,m.Qs1)(u)&&function Om(a,l,u){const p=(0,m.d31)(l,a),f=ih(u),y=a[m.M0L].rendererFactory,b=qc(a,il(a,f,null,Hc(u),p,l,null,y.createRenderer(p,u),null,null,null));a[l.index]=b}(l,u,a.data[p+u.componentOffset]),a.firstCreatePass||Hi(u,l);const y=u.initialInputs;for(let b=p;b<f;b++){const A=a.data[b],P=sr(l,a,b,u);Ve(P,l),null!==y&&tn(0,b-p,P,A,0,y),(0,m.JlV)(A)&&((0,m.KdJ)(u.index,l)[m.SKP]=sr(l,a,b,u))}})(a,l,u),!(64&~u.flags)&&function ef(a,l,u){const p=u.directiveStart,f=u.directiveEnd,y=u.index,b=(0,m.Z9v)();try{(0,m.ypq)(y);for(let A=p;A<f;A++){const P=a.data[A],D=l[A];(0,m.RZ9)(A),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&kS(P,D)}}finally{(0,m.ypq)(-1),(0,m.RZ9)(b)}}(a,l,u)}function ir(a,l,u=m.d31){const p=l.localNames;if(null!==p){let f=l.index+1;for(let y=0;y<p.length;y+=2){const b=p[y+1],A=-1===b?u(l,a):a[b];a[f++]=A}}}let SS=()=>null;function cl(a,l,u,p,f,y){Zc(a,l[m.eDl],l,u,p)?(0,m.Qs1)(a)&&ch(l,a.index):(3&a.type&&(u=function Jm(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(u)),Xc(a,l,u,p,f,y))}function Xc(a,l,u,p,f,y){if(3&a.type){const b=(0,m.d31)(a,l);p=null!=y?y(p,a.value||"",u):p,f.setProperty(b,u,p)}}function ch(a,l){const u=(0,m.KdJ)(l,a);16&u[m.Wg1]||(u[m.Wg1]|=64)}function kS(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Qc(a,l){const u=a.directiveRegistry;let p=null;if(u)for(let f=0;f<u.length;f++){const y=u[f];Nm(l,y.selectors,!1)&&(p??=[],(0,m.JlV)(y)?p.unshift(y):p.push(y))}return p}function ul(a,l,u,p,f,y,b){if(null==y)a.removeAttribute(l,f,u);else{const A=null==b?(0,m.eFE)(y):b(y,p||"",f);a.setAttribute(l,f,A,u)}}function tn(a,l,u,p,f,y){const b=y[l];if(null!==b)for(let A=0;A<b.length;A+=2)Ja(p,u,b[A],b[A+1])}function dr(a,l,u,p,f){const y=m.Yw1+u,b=l[m.eDl],A=f(b,l,a,p,u);l[y]=A,(0,m.iMd)(a,!0);const P=2===a.type;return P?(nt(l[m.GpT],A,a),(0===(0,m.znI)()||(0,m.yoD)(a))&&Ve(A,l),(0,m.Fje)()):Ve(A,l),(0,m.SX7)()&&(!P||!zr(a))&&sh(b,l,A,a),a}function uh(a){let l=a;return(0,m.YWB)()?(0,m.Pfq)():(l=l.parent,(0,m.iMd)(l,!1)),l}function wS(a,l,u){return(null===a||(0,m.JlV)(a))&&(u=(0,m.zAe)(u[l.index])),u[m.GpT]}function Jc(a,l){const u=a[m.YEL];if(!u)return;let p;try{p=u.get(m.ZTf,null)}catch{p=null}p?.(l)}function Zc(a,l,u,p,f){const y=a.inputs?.[p],b=a.hostDirectiveInputs?.[p];let A=!1;if(b)for(let P=0;P<b.length;P+=2){const D=b[P];Ja(l.data[D],u[D],b[P+1],f),A=!0}if(y)for(const P of y)Ja(l.data[P],u[P],p,f),A=!0;return A}function TS(a,l){const u=(0,m.KdJ)(l,a),p=u[m.eDl];!function nf(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])}(p,u);const f=u[m.jgP];null!==f&&null===u[m.tcA]&&(u[m.tcA]=null),St(Ie.ComponentStart);try{dh(p,u,u[m.SKP])}finally{St(Ie.ComponentEnd,u[m.SKP])}}function dh(a,l,u){(0,m.ID8)(l);try{const p=a.viewQuery;null!==p&&yc(1,p,u);const f=a.template;null!==f&&vS(a,l,f,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),l[m.Ds7]?.finishViewCreation(a),a.staticContentQueries&&Ys(a,l),a.staticViewQueries&&yc(2,a.viewQuery,u);const y=a.components;null!==y&&function rf(a,l){for(let u=0;u<l.length;u++)TS(a,l[u])}(l,y)}catch(p){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),p}finally{l[m.Wg1]&=-5,(0,m.bll)()}}function dl(a,l,u,p){const f=(0,G.Ht)(null);try{const y=l.tView,P=il(a,y,u,4096&a[m.Wg1]?4096:16,null,l,null,null,p?.injector??null,p?.embeddedViewInjector??null,p?.dehydratedView??null);P[m.rQE]=a[l.index];const N=a[m.Ds7];return null!==N&&(P[m.Ds7]=N.createEmbeddedView(y)),dh(y,P,u),P}finally{(0,G.Ht)(f)}}function eo(a,l){return!l||null===l.firstChild||un(a)}function eu(a,l,u,p,f=!1){for(;null!==u;){if(128===u.type){u=f?u.projectionNext:u.next;continue}const y=l[u.index];null!==y&&p.push((0,m.IvY)(y)),(0,m.A0l)(y)&&af(y,p);const b=u.type;if(8&b)eu(a,l,u.child,p);else if(32&b){const A=$m(u,l);let P;for(;P=A();)p.push(P)}else if(16&b){const A=yS(l,u);if(Array.isArray(A))p.push(...A);else{const P=(0,m._0$)(l[m.b5C]);eu(P[m.eDl],P,A,p,!0)}}u=f?u.projectionNext:u.next}return p}function af(a,l){for(let u=m.Y20;u<a.length;u++){const p=a[u],f=p[m.eDl].firstChild;null!==f&&eu(p[m.eDl],p,f,l)}a[m.s6P]!==a[m.jgP]&&l.push(a[m.s6P])}function ES(a){if(null!==a[m.JEi]){for(const l of a[m.JEi])l.impl.addSequence(l);a[m.JEi].length=0}}let hh=[];const IT={...G.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:a=>{(0,m.blu)(a.lView)},consumerOnSignalRead(){this.lView[m.Iaj]=this}},RT={...G.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:a=>{let l=(0,m._0$)(a.lView);for(;l&&!ph(l[m.eDl]);)l=(0,m._0$)(l);l&&(0,m.HAh)(l)},consumerOnSignalRead(){this.lView[m.Iaj]=this}};function ph(a){return 2!==a.type}function gh(a){if(null===a[m.tQN])return;let l=!0;for(;l;){let u=!1;for(const p of a[m.tQN])p.dirty&&(u=!0,null===p.zone||Zone.current===p.zone?p.run():p.zone.run(()=>p.run()));l=u&&!!(8192&a[m.Wg1])}}function hl(a,l=0){const p=a[m.M0L].rendererFactory;p.begin?.();try{!function NT(a,l){const u=(0,m.yP_)();try{(0,m.cBl)(!0),tu(a,l);let p=0;for(;(0,m.dMS)(a);){if(100===p)throw new m.buA(103,!1);p++,tu(a,1)}}finally{(0,m.cBl)(u)}}(a,l)}finally{p.end?.()}}function MS(a,l,u,p){if((0,m.EPY)(l))return;const f=l[m.Wg1];(0,m.ID8)(l);let A=!0,P=null,D=null;ph(a)?(D=function MT(a){return a[m.Iaj]??function sf(a){const l=hh.pop()??Object.create(IT);return l.lView=a,l}(a)}(l),P=(0,G.Bg)(D)):null===(0,G.nR)()?(A=!1,D=function lf(a){const l=a[m.Iaj]??Object.create(RT);return l.lView=a,l}(l),P=(0,G.Bg)(D)):l[m.Iaj]&&((0,G.XR)(l[m.Iaj]),l[m.Iaj]=null);try{(0,m.HUe)(l),(0,m.Kw3)(a.bindingStartIndex),null!==u&&vS(a,l,u,2,p);const N=!(3&~f);if(N){const ee=a.preOrderCheckHooks;null!==ee&&Pt(l,ee,null)}else{const ee=a.preOrderHooks;null!==ee&&Gi(l,ee,0,null),It(l,0)}if(function cf(a){for(let l=Ni(a);null!==l;l=Wn(l)){if(!(2&l[m.Wg1]))continue;const u=l[m.nfM];for(let p=0;p<u.length;p++)(0,m.HAh)(u[p])}}(l),gh(l),mh(l,0),null!==a.contentQueries&&Ys(a,l),N){const ee=a.contentCheckHooks;null!==ee&&Pt(l,ee)}else{const ee=a.contentHooks;null!==ee&&Gi(l,ee,1),It(l,1)}!function df(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let p=0;p<u.length;p++){const f=u[p];if(f<0)(0,m.ypq)(~f);else{const y=f,b=u[++p],A=u[++p];(0,m.vQI)(b,y);const P=l[y];St(Ie.HostBindingsUpdateStart,P);try{A(2,P)}finally{St(Ie.HostBindingsUpdateEnd,P)}}}}finally{(0,m.ypq)(-1)}}(a,l);const U=a.components;null!==U&&RS(l,U,0);const Z=a.viewQuery;if(null!==Z&&yc(2,Z,p),N){const ee=a.viewCheckHooks;null!==ee&&Pt(l,ee)}else{const ee=a.viewHooks;null!==ee&&Gi(l,ee,2),It(l,2)}if(!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[m.pcR]){for(const ee of l[m.pcR])ee();l[m.pcR]=null}ES(l),l[m.Wg1]&=-73}catch(N){throw(0,m.blu)(l),N}finally{null!==D&&((0,G.Wu)(D,P),A&&function xS(a){a.lView[m.Iaj]!==a&&(a.lView=null,hh.push(a))}(D)),(0,m.bll)()}}function mh(a,l){for(let u=Ni(a);null!==u;u=Wn(u))for(let p=m.Y20;p<u.length;p++)IS(u[p],l)}function uf(a,l,u){St(Ie.ComponentStart);const p=(0,m.KdJ)(l,a);try{IS(p,u)}finally{St(Ie.ComponentEnd,p[m.SKP])}}function IS(a,l){(0,m.F1c)(a)&&tu(a,l)}function tu(a,l){const p=a[m.eDl],f=a[m.Wg1],y=a[m.Iaj];let b=!!(0===l&&16&f);if(b||=!!(64&f&&0===l),b||=!!(1024&f),b||=!(!y?.dirty||!(0,G.si)(y)),b||=!1,y&&(y.dirty=!1),a[m.Wg1]&=-9217,b)MS(p,a,p.template,a[m.SKP]);else if(8192&f){const A=(0,G.Ht)(null);try{gh(a),mh(a,1);const P=p.components;null!==P&&RS(a,P,1),ES(a)}finally{(0,G.Ht)(A)}}}function RS(a,l,u){for(let p=0;p<l.length;p++)uf(a,l[p],u)}function us(a,l){const u=(0,m.yP_)()?64:1088;for(a[m.M0L].changeDetectionScheduler?.notify(l);a;){a[m.Wg1]|=u;const p=(0,m._0$)(a);if((0,m.EFk)(a)&&!p)return a;a=p}return null}function fh(a,l,u,p){return[a,!0,0,l,null,p,null,u,null,null]}function LS(a,l){const u=m.Y20+l;if(u<a.length)return a[u]}function Co(a,l,u,p=!0){const f=l[m.eDl];if(function FT(a,l,u,p){const f=m.Y20+p,y=u.length;p>0&&(u[f-1][m.K29]=l),p<y-m.Y20?(l[m.K29]=u[f],(0,m.EYC)(u,m.Y20+p,l)):(u.push(l),l[m.K29]=null),l[m.f7T]=u;const b=l[m.rQE];null!==b&&u!==b&&yh(b,l);const A=l[m.Ds7];null!==A&&A.insertView(a),(0,m._gW)(l),l[m.Wg1]|=128}(f,l,a,u),p){const b=Ym(u,a),A=l[m.GpT],P=A.parentNode(a[m.s6P]);null!==P&&function _T(a,l,u,p,f,y){p[m.jgP]=f,p[m.qlT]=l,tr(a,p,u,1,f,y)}(f,a[m.qlT],A,l,P,b)}const y=l[m.tcA];null!==y&&null!==y.firstChild&&(y.firstChild=null)}function hf(a,l){const u=ds(a,l);return void 0!==u&&ss(u[m.eDl],u),u}function ds(a,l){if(a.length<=m.Y20)return;const u=m.Y20+l,p=a[u];if(p){const f=p[m.rQE];null!==f&&f!==a&&ll(f,p),l>0&&(a[u-1][m.K29]=p[m.K29]);const y=(0,m.E6O)(a,m.Y20+l);rh(p[m.eDl],p);const b=y[m.Ds7];null!==b&&b.detachView(y[m.eDl]),p[m.f7T]=null,p[m.K29]=null,p[m.Wg1]&=-129}return p}function yh(a,l){const u=a[m.nfM],p=l[m.f7T];((0,m.q$2)(p)||l[m.b5C]!==p[m.f7T][m.b5C])&&(a[m.Wg1]|=2),null===u?a[m.nfM]=[l]:u.push(l)}class bh{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const l=this._lView,u=l[m.eDl];return eu(u,l,u.firstChild,[])}constructor(l,u){this._lView=l,this._cdRefInjectingView=u}get context(){return this._lView[m.SKP]}set context(l){this._lView[m.SKP]=l}get destroyed(){return(0,m.EPY)(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[m.f7T];if((0,m.A0l)(l)){const u=l[m.bm_],p=u?u.indexOf(this):-1;p>-1&&(ds(l,p),(0,m.E6O)(u,p))}this._attachedToViewContainer=!1}ss(this._lView[m.eDl],this._lView)}onDestroy(l){(0,m.ik5)(this._lView,l)}markForCheck(){us(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[m.Wg1]&=-129}reattach(){(0,m._gW)(this._lView),this._lView[m.Wg1]|=128}detectChanges(){this._lView[m.Wg1]|=1024,hl(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new m.buA(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const l=(0,m.EFk)(this._lView),u=this._lView[m.rQE];null!==u&&!l&&ll(u,this._lView),Um(this._lView[m.eDl],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new m.buA(902,!1);this._appRef=l;const u=(0,m.EFk)(this._lView),p=this._lView[m.rQE];null!==p&&!u&&yh(p,this._lView),(0,m._gW)(this._lView)}}let iu=(()=>class a{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=pf;constructor(u,p,f){this._declarationLView=u,this._declarationTContainer=p,this.elementRef=f}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(u,p){return this.createEmbeddedViewImpl(u,p)}createEmbeddedViewImpl(u,p,f){const y=dl(this._declarationLView,this._declarationTContainer,u,{embeddedViewInjector:p,dehydratedView:f});return new bh(y)}})();function pf(){return vh((0,m.Mx4)(),(0,m.OAn)())}function vh(a,l){return 4&a.type?new iu(l,a,Pi(a,l)):null}function Af(a,l,u){const p=l.insertBeforeIndex,f=Array.isArray(p)?p[0]:p;return null===f?mS(a,0,u):(0,m.IvY)(u[f])}function Sf(a,l,u,p,f){const y=l.insertBeforeIndex;if(Array.isArray(y)){let b=p,A=null;if(3&l.type||(A=b,b=f),null!==b&&-1===l.componentOffset)for(let P=1;P<y.length;P++)Ya(a,b,u[y[P]],A,!1)}}function Eo(a,l,u,p,f){let y=a.data[l];if(null===y)y=au(a,l,u,p,f),(0,m.JjR)()&&(y.flags|=32);else if(64&y.type){y.type=u,y.value=p,y.attrs=f;const b=(0,m.Ab)();y.injectorIndex=null===b?-1:b.injectorIndex}return(0,m.iMd)(y,!0),y}function au(a,l,u,p,f){const y=(0,m.veI)(),b=(0,m.YWB)(),P=a.data[l]=function Pf(a,l,u,p,f,y){let b=l?l.injectorIndex:-1,A=0;return(0,m.KtD)()&&(A|=128),{type:u,index:p,insertBeforeIndex:null,injectorIndex:b,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:A,providerIndexes:0,value:f,attrs:y,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?y:y&&y.parent,u,l,p,f);return function BT(a,l,u,p){null===a.firstChild&&(a.firstChild=l),null!==u&&(p?null==u.child&&null!==l.parent&&(u.child=l):null===u.next&&(u.next=l,l.prev=u))}(a,P,y,b),P}function Ah(a,l){if(a.push(l),a.length>1)for(let u=a.length-2;u>=0;u--){const p=a[u];Sh(p)||kf(p,l)&&null===$T(p)&&_f(p,l.index)}}function Sh(a){return!(64&a.type)}function kf(a,l){return Sh(l)||a.index>l.index}function $T(a){const l=a.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function _f(a,l){const u=a.insertBeforeIndex;Array.isArray(u)?u[0]=l:(fS(Af,Sf),a.insertBeforeIndex=l)}function ou(a,l){const u=a.data[l];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function Tf(a,l,u){const p=au(a,u,64,null,null);return Ah(l,p),p}function su(a,l){const u=l[a.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function Ph(a){return a>>>17}function jS(a){return(131070&a)>>>1}function Cf(a,l,u){a.index=0;const p=su(l,u);a.removes=null!==p?l.remove[p]:m.Mlv}function gl(a){if(a.index<a.removes.length){const l=a.removes[a.index++];return l>0?a.lView[l]:(a.stack.push(a.index,a.removes),Cf(a,a.lView[m.eDl].data[~l],a.lView),gl(a))}return 0===a.stack.length?(a.lView=void 0,null):(a.removes=a.stack.pop(),a.index=a.stack.pop(),gl(a))}function VS(){const a={stack:[],index:-1};return function l(u,p){for(a.lView=p;a.stack.length;)a.stack.pop();return Cf(a,u.value,p),gl.bind(null,a)}}function QT(a,l,u){for(const p of u.node.cases[u.case]){const f=l.get(p.index-m.Yw1);f&&j(a,f,!1)}}function yl(a){const l=a[m.qFA]??[],p=a[m.f7T][m.GpT],f=[];for(const y of l)void 0!==y.data.di?f.push(y):nr(y,p);a[m.qFA]=f}function Nt(a){const{lContainer:l}=a,u=l[m.qFA];if(null===u)return;const f=l[m.f7T][m.GpT];for(const y of u)nr(y,f)}function nr(a,l){let u=0,p=a.firstChild;if(p){const f=a.data.r;for(;u<f;){const y=p.nextSibling;j(l,p,!1),p=y,u++}}}function Fr(a){yl(a);const l=a[m.jgP];(0,m.q$2)(l)&&cu(l);for(let u=m.Y20;u<a.length;u++)cu(a[u])}function cu(a){!function $f(a){const l=a[m.tcA];if(l){const{i18nNodes:u,dehydratedIcuData:p}=l;if(u&&p){const f=a[m.GpT];for(const y of p.values())QT(f,u,y)}l.i18nNodes=void 0,l.dehydratedIcuData=void 0}}(a);const l=a[m.eDl];for(let u=m.Yw1;u<l.bindingStartIndex;u++)(0,m.A0l)(a[u])?Fr(a[u]):(0,m.q$2)(a[u])&&cu(a[u])}let tC=class{},iP=class{};class nP{resolveComponentFactory(l){throw new m.buA(917,!1)}}let Rh=class{static NULL=new nP};class Lh{}let Hf=(()=>class a{destroyNode=null;static __NG_ELEMENT_ID__=()=>function rP(){const a=(0,m.OAn)(),l=(0,m.Mx4)(),u=(0,m.KdJ)(l.index,a);return((0,m.q$2)(u)?u:a)[m.GpT]}()})(),iC=(()=>{class a{static \u0275prov=(0,m.jDH)({token:a,providedIn:"root",factory:()=>null})}return a})();function qf(a){return void 0!==a.ngModule}function bl(a){return!!(0,m.phH)(a)}function Nh(a){return!!(0,m.oyA)(a)}function Fh(a){return!!(0,m.HaV)(a)}function fs(a){return!!(0,m.xUg)(a)}function nC(a,l){if((0,m.Jzi)(a)&&!(a=(0,m.nl4)(a)))throw new Error(`Expected forwardRef function, imported from "${(0,m.PP7)(l)}", to return a standalone entity or NgModule but got "${(0,m.PP7)(a)||a}".`);if(null==(0,m.phH)(a)){const u=(0,m.xUg)(a)||(0,m.HaV)(a)||(0,m.oyA)(a);if(null==u)throw qf(a)?new Error(`A module with providers was imported from "${(0,m.PP7)(l)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${(0,m.PP7)(a)}" type, imported from "${(0,m.PP7)(l)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`);if(!u.standalone){const p=function aP(a){return(0,m.xUg)(a)?"component":(0,m.HaV)(a)?"directive":(0,m.oyA)(a)?"pipe":"type"}(a);throw new Error(`The "${(0,m.PP7)(a)}" ${p}, imported from "${(0,m.PP7)(l)}", is not standalone. Does the ${p} have the standalone: false flag?`)}}}class Oh{ownerNgModule=new Map;ngModulesWithSomeUnresolvedDecls=new Set;ngModulesScopeCache=new Map;standaloneComponentsScopeCache=new Map;resolveNgModulesDecls(){if(0!==this.ngModulesWithSomeUnresolvedDecls.size){for(const l of this.ngModulesWithSomeUnresolvedDecls){const u=(0,m.phH)(l);if(u?.declarations)for(const p of sa(u.declarations))fs(p)&&this.ownerNgModule.set(p,l)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(l,u){this.resolveNgModulesDecls();const p=(0,m.xUg)(l);if(null===p)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${l}`);if(p.standalone){const f=this.getStandaloneComponentScope(l,u);return f.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...f.compilation.directives,...f.compilation.pipes,...f.compilation.ngModules]}}{if(!this.ownerNgModule.has(l))return{dependencies:[]};const f=this.getNgModuleScope(this.ownerNgModule.get(l));return f.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...f.compilation.directives,...f.compilation.pipes]}}}registerNgModule(l,u){if(!bl(l))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${l}`);this.ngModulesWithSomeUnresolvedDecls.add(l)}clearScopeCacheFor(l){this.ngModulesScopeCache.delete(l),this.standaloneComponentsScopeCache.delete(l)}getNgModuleScope(l){if(this.ngModulesScopeCache.has(l))return this.ngModulesScopeCache.get(l);const u=this.computeNgModuleScope(l);return this.ngModulesScopeCache.set(l,u),u}computeNgModuleScope(l){const u=(0,m.WbQ)(l),p={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(const f of sa(u.imports))if(bl(f)){const y=this.getNgModuleScope(f);Do(y.exported.directives,p.compilation.directives),Do(y.exported.pipes,p.compilation.pipes)}else{if(!(0,m.QuC)(f)){p.compilation.isPoisoned=!0;break}if(Fh(f)||fs(f))p.compilation.directives.add(f);else{if(!Nh(f))throw new m.buA(980,"The standalone imported type is neither a component nor a directive nor a pipe");p.compilation.pipes.add(f)}}if(!p.compilation.isPoisoned)for(const f of sa(u.declarations)){if(bl(f)||(0,m.QuC)(f)){p.compilation.isPoisoned=!0;break}Nh(f)?p.compilation.pipes.add(f):p.compilation.directives.add(f)}for(const f of sa(u.exports))if(bl(f)){const y=this.getNgModuleScope(f);Do(y.exported.directives,p.exported.directives),Do(y.exported.pipes,p.exported.pipes),Do(y.exported.directives,p.compilation.directives),Do(y.exported.pipes,p.compilation.pipes)}else Nh(f)?p.exported.pipes.add(f):p.exported.directives.add(f);return p}getStandaloneComponentScope(l,u){if(this.standaloneComponentsScopeCache.has(l))return this.standaloneComponentsScopeCache.get(l);const p=this.computeStandaloneComponentScope(l,u);return this.standaloneComponentsScopeCache.set(l,p),p}computeStandaloneComponentScope(l,u){const p={compilation:{directives:new Set([l]),pipes:new Set,ngModules:new Set}};for(const f of(0,m.Bqz)(u??[])){const y=(0,m.nl4)(f);try{nC(y,l)}catch{return p.compilation.isPoisoned=!0,p}if(bl(y)){p.compilation.ngModules.add(y);const b=this.getNgModuleScope(y);if(b.exported.isPoisoned)return p.compilation.isPoisoned=!0,p;Do(b.exported.directives,p.compilation.directives),Do(b.exported.pipes,p.compilation.pipes)}else if(Nh(y))p.compilation.pipes.add(y);else{if(!Fh(y)&&!fs(y))return p.compilation.isPoisoned=!0,p;p.compilation.directives.add(y)}}return p}isOrphanComponent(l){const u=(0,m.xUg)(l);return!(!u||u.standalone||(this.resolveNgModulesDecls(),this.ownerNgModule.has(l)))}}function Do(a,l){for(const u of a)l.add(u)}const du=new Oh,jf={};class vl{injector;parentInjector;constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,p){const f=this.injector.get(l,jf,p);return f!==jf||u===jf?f:this.parentInjector.get(l,u,p)}}function Bh(a,l,u){let p=u?a.styles:null,f=u?a.classes:null,y=0;if(null!==l)for(let b=0;b<l.length;b++){const A=l[b];if("number"==typeof A)y=A;else if(1==y)f=(0,m.n$e)(f,A);else if(2==y){const D=l[++b];p=(0,m.n$e)(p,A+": "+D+";")}}u?a.styles=p:a.stylesWithoutHost=p,u?a.classes=f:a.classesWithoutHost=f}function ys(a,l=0){const u=(0,m.OAn)();return null===u?(0,m.KVO)(a,l):Ki((0,m.Mx4)(),u,(0,m.nl4)(a),l)}function oP(a,l,u,p,f){const y=null===p?null:{"":-1},b=f(a,u);if(null!==b){let A=b,P=null,D=null;for(const N of b)if(null!==N.resolveHostDirectives){[A,P,D]=N.resolveHostDirectives(b);break}!function oC(a,l,u,p,f,y,b){const A=p.length;let P=null;for(let Z=0;Z<A;Z++){const ee=p[Z];null===P&&(0,m.JlV)(ee)&&(P=ee,sP(a,u,Z)),fn(Hi(u,l),a,ee.type)}(function hC(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l})(u,a.data.length,A),P?.viewProvidersResolver&&P.viewProvidersResolver(P);for(let Z=0;Z<A;Z++){const ee=p[Z];ee.providersResolver&&ee.providersResolver(ee)}let D=!1,N=!1,U=Qa(a,l,A,null);A>0&&(u.directiveToIndex=new Map);for(let Z=0;Z<A;Z++){const ee=p[Z];if(u.mergedAttrs=nn(u.mergedAttrs,ee.hostAttrs),lC(a,u,l,U,ee),dC(U,ee,f),null!==b&&b.has(ee)){const[Ee,Je]=b.get(ee);u.directiveToIndex.set(ee.type,[U,Ee+u.directiveStart,Je+u.directiveStart])}else(null===y||!y.has(ee))&&u.directiveToIndex.set(ee.type,U);null!==ee.contentQueries&&(u.flags|=4),(null!==ee.hostBindings||null!==ee.hostAttrs||0!==ee.hostVars)&&(u.flags|=64);const fe=ee.type.prototype;!D&&(fe.ngOnChanges||fe.ngOnInit||fe.ngDoCheck)&&((a.preOrderHooks??=[]).push(u.index),D=!0),!N&&(fe.ngOnChanges||fe.ngDoCheck)&&((a.preOrderCheckHooks??=[]).push(u.index),N=!0),U++}!function sC(a,l,u){for(let p=l.directiveStart;p<l.directiveEnd;p++){const f=a.data[p];if(null!==u&&u.has(f)){const y=u.get(f);cP(0,l,y,p),cP(1,l,y,p),Vf(l,p,!0)}else lP(0,l,f,p),lP(1,l,f,p),Vf(l,p,!1)}}(a,u,y)}(a,l,u,A,y,P,D)}null!==y&&null!==p&&function aC(a,l,u){const p=a.localNames=[];for(let f=0;f<l.length;f+=2){const y=u[l[f+1]];if(null==y)throw new m.buA(-301,!1);p.push(l[f],y)}}(u,p,y)}function sP(a,l,u){l.componentOffset=u,(a.components??=[]).push(l.index)}function lP(a,l,u,p){const f=0===a?u.inputs:u.outputs;for(const y in f)if(f.hasOwnProperty(y)){let b;b=0===a?l.inputs??={}:l.outputs??={},b[y]??=[],b[y].push(p),uP(l,y)}}function cP(a,l,u,p){const f=0===a?u.inputs:u.outputs;for(const y in f)if(f.hasOwnProperty(y)){const b=f[y];let A;A=0===a?l.hostDirectiveInputs??={}:l.hostDirectiveOutputs??={},A[b]??=[],A[b].push(p,y),uP(l,b)}}function uP(a,l){"class"===l?a.flags|=8:"style"===l&&(a.flags|=16)}function Vf(a,l,u){const{attrs:p,inputs:f,hostDirectiveInputs:y}=a;if(null===p||!u&&null===f||u&&null===y||Rm(a))return a.initialInputs??=[],void a.initialInputs.push(null);let b=null,A=0;for(;A<p.length;){const P=p[A];if(0!==P)if(5!==P){if("number"==typeof P)break;if(!u&&f.hasOwnProperty(P)){const D=f[P];for(const N of D)if(N===l){b??=[],b.push(P,p[A+1]);break}}else if(u&&y.hasOwnProperty(P)){const D=y[P];for(let N=0;N<D.length;N+=2)if(D[N]===l){b??=[],b.push(D[N+1],p[A+1]);break}}A+=2}else A+=2;else A+=4}a.initialInputs??=[],a.initialInputs.push(b)}function lC(a,l,u,p,f){a.data[p]=f;const y=f.factory||(f.factory=(0,m.wGu)(f.type,!0)),b=new Ot(y,(0,m.JlV)(f),ys,null);a.blueprint[p]=b,u[p]=b,function cC(a,l,u,p,f){const y=f.hostBindings;if(y){let b=a.hostBindingOpCodes;null===b&&(b=a.hostBindingOpCodes=[]);const A=~l.index;(function uC(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(b)!=A&&b.push(A),b.push(u,p,y)}}(a,l,p,Qa(a,u,f.hostVars,ti),f)}function dC(a,l,u){if(u){if(l.exportAs)for(let p=0;p<l.exportAs.length;p++)u[l.exportAs[p]]=a;(0,m.JlV)(l)&&(u[""]=a)}}function Uf(a,l,u,p,f,y,b,A){const P=l[m.eDl],D=P.consts,U=Eo(P,a,u,p,(0,m.db4)(D,b));return y&&oP(P,l,U,(0,m.db4)(D,A),f),U.mergedAttrs=nn(U.mergedAttrs,U.attrs),null!==U.attrs&&Bh(U,U.attrs,!1),null!==U.mergedAttrs&&Bh(U,U.mergedAttrs,!0),null!==P.queries&&P.queries.elementStart(P,U),U}function Wf(a,l){kn(a,l),(0,m.srX)(l)&&a.queries.elementEnd(l)}function dP(a,l,u,p,f,y){const b=l.consts,P=Eo(l,a,u,p,(0,m.db4)(b,f));if(P.mergedAttrs=nn(P.mergedAttrs,P.attrs),null!=y){const D=(0,m.db4)(b,y);P.localNames=[];for(let N=0;N<D.length;N+=2)P.localNames.push(D[N],-1)}return null!==P.attrs&&Bh(P,P.attrs,!1),null!==P.mergedAttrs&&Bh(P,P.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,P),P}function Kf(a){return!!hP(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function gC(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Symbol.iterator]();let p;for(;!(p=u.next()).done;)l(p.value)}}function hP(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function xa(a,l,u){return a[l]=u}function hu(a,l){return a[l]}function Oi(a,l,u){return u!==ti&&(!Object.is(a[l],u)&&(a[l]=u,!0))}function bs(a,l,u,p){const f=Oi(a,l,u);return Oi(a,l+1,p)||f}function $h(a,l,u,p,f){const y=bs(a,l,u,p);return Oi(a,l+2,f)||y}function Jr(a,l,u,p,f,y){const b=bs(a,l,u,p);return bs(a,l+2,f,y)||b}const pP=Symbol("CONTROL");function io(a,l,u){return function p(f){us((0,m.Qs1)(a)?(0,m.KdJ)(a.index,l):l,5);const b=l[m.SKP];let A=gP(l,b,u,f),P=p.__ngNextListenerFn__;for(;P;)A=gP(l,b,P,f)&&A,P=P.__ngNextListenerFn__;return A}}function gP(a,l,u,p){const f=(0,G.Ht)(null);try{return St(Ie.OutputStart,l,u),!1!==u(p)}catch(y){return Jc(a,y),!1}finally{St(Ie.OutputEnd,l,u),(0,G.Ht)(f)}}function Gh(a,l,u,p,f,y,b,A){const P=(0,m.yoD)(a);let D=!1,N=null;if(!p&&P&&(N=function yC(a,l,u,p){const f=a.cleanup;if(null!=f)for(let y=0;y<f.length-1;y+=2){const b=f[y];if(b===u&&f[y+1]===p){const A=l[m.VVG],P=f[y+2];return A&&A.length>P?A[P]:null}"string"==typeof b&&(y+=2)}return null}(l,u,y,a.index)),null!==N)(N.__ngLastListenerFn__||N).__ngNextListenerFn__=b,N.__ngLastListenerFn__=b,D=!0;else{const U=(0,m.d31)(a,u),Z=p?p(U):U,ee=f.listen(Z,y,A);(function fC(a){return a.startsWith("animation")||a.startsWith("transition")})(y)||mP(p?Ee=>p((0,m.IvY)(Ee[a.index])):a.index,l,u,y,A,ee,!1)}return D}function mP(a,l,u,p,f,y,b){const A=l.firstCreatePass?(0,m.vNG)(l):null,P=(0,m.d_l)(u),D=P.length;P.push(f,y),A&&A.push(p,a,D,(D+1)*(b?-1:1))}function Pr(a,l,u,p,f,y){const A=l[m.eDl],U=l[u][A.data[u].outputs[p]].subscribe(y);mP(a.index,A,l,f,y,U,!0)}const no=Symbol("BINDING");class fP extends Rh{ngModule;constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=(0,m.xUg)(l);return new Hh(u,this.ngModule)}}class Hh extends iP{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function wC(a){return Object.keys(a).map(l=>{const[u,p,f]=a[l],y={propName:u,templateName:l,isSignal:0!==(p&wo.SignalBased)};return f&&(y.transform=f),y})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function TC(a){return Object.keys(a).map(l=>({propName:a[l],templateName:l}))}(this.componentDef.outputs),this.cachedOutputs}constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function bT(a){return a.map(Gc).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors??[],this.isBoundToModule=!!u}create(l,u,p,f,y,b){St(Ie.DynamicComponentStart);const A=(0,G.Ht)(null);try{const P=this.componentDef,D=function MC(a,l,u,p){const f=a?["ng-version","21.1.1"]:function eh(a){const l=[],u=[];let p=1,f=2;for(;p<a.length;){let y=a[p];if("string"==typeof y)2===f?""!==y&&l.push(y,a[++p]):8===f&&u.push(y);else{if(!ur(f))break;f=y}p++}return u.length&&l.push(1,...u),l}(l.selectors[0]);let y=null,b=null,A=0;if(u)for(const N of u)A+=N[no].requiredVars,N.create&&(N.targetIdx=0,(y??=[]).push(N)),N.update&&(N.targetIdx=0,(b??=[]).push(N));if(p)for(let N=0;N<p.length;N++){const U=p[N];if("function"!=typeof U)for(const Z of U.bindings){A+=Z[no].requiredVars;const ee=N+1;Z.create&&(Z.targetIdx=ee,(y??=[]).push(Z)),Z.update&&(Z.targetIdx=ee,(b??=[]).push(Z))}}const P=[l];if(p)for(const N of p){const Z=(0,m.HaV)("function"==typeof N?N:N.type);P.push(Z)}return th(0,null,function IC(a,l){return a||l?u=>{if(1&u&&a)for(const p of a)p.create();if(2&u&&l)for(const p of l)p.update()}:null}(y,b),1,A,P,null,null,null,[f],null)}(p,P,b,y),N=function CC(a,l,u){let p=l instanceof m.uvJ?l:l?.injector;return p&&null!==a.getStandaloneInjector&&(p=a.getStandaloneInjector(p)||p),p?new vl(u,p):u}(P,f||this.ngModule,l),U=function EC(a){const l=a.get(Lh,null);if(null===l)throw new m.buA(407,!1);return{rendererFactory:l,sanitizer:a.get(iC,null),changeDetectionScheduler:a.get(m.hk6,null),ngReflect:!1}}(N),Z=U.rendererFactory.createRenderer(null,P),ee=p?function AS(a,l,u,p){const y=p.get(na,!1)||u===Nr.ShadowDom||u===Nr.ExperimentalIsolatedShadowDom,b=a.selectRootElement(l,y);return function xT(a){SS(a)}(b),b}(Z,p,P.encapsulation,N):function xC(a,l){const u=function DC(a){return(a.selectors[0][0]||"div").toLowerCase()}(a);return ns(l,u,"svg"===u?m.jNX:"math"===u?m.rJ1:null)}(P,Z),fe=b?.some(qh)||y?.some(ct=>"function"!=typeof ct&&ct.bindings.some(qh)),Ee=il(null,D,null,512|Hc(P),null,null,U,Z,N,null,null);Ee[m.Yw1]=ee,(0,m.ID8)(Ee);let Je=null;try{const ct=Uf(m.Yw1,Ee,2,"#host",()=>D.directiveRegistry,!0,0);nt(Z,ee,ct),Ve(ee,Ee),lh(D,Ee,ct),bc(D,ct,Ee),Wf(D,ct),void 0!==u&&function LC(a,l,u){const p=a.projection=[];for(let f=0;f<l.length;f++){const y=u[f];p.push(null!=y&&y.length?Array.from(y):null)}}(ct,this.ngContentSelectors,u),Je=(0,m.KdJ)(ct.index,Ee),Ee[m.SKP]=Je[m.SKP],dh(D,Ee,null)}catch(ct){throw null!==Je&&L(Je),L(Ee),ct}finally{St(Ie.DynamicComponentEnd),(0,m.bll)()}return new RC(this.componentType,Ee,!!fe)}finally{(0,G.Ht)(A)}}}function qh(a){const l=a[no].kind;return"input"===l||"twoWay"===l}class RC extends tC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(l,u,p){super(),this._rootLView=u,this._hasInputBindings=p,this._tNode=(0,m.XRZ)(u[m.eDl],m.Yw1),this.location=Pi(this._tNode,u),this.instance=(0,m.KdJ)(this._tNode.index,u)[m.SKP],this.hostView=this.changeDetectorRef=new bh(u,void 0),this.componentType=l}setInput(l,u){const p=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(l)&&Object.is(this.previousInputValues.get(l),u))return;const f=this._rootLView;Zc(p,f[m.eDl],f,l,u),this.previousInputValues.set(l,u),us((0,m.KdJ)(p.index,f),1)}get injector(){return new $t(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}let Mo=(()=>class a{static __NG_ELEMENT_ID__=NC})();function NC(){return vP((0,m.Mx4)(),(0,m.OAn)())}const FC=Mo,yP=class extends FC{_lContainer;_hostTNode;_hostLView;constructor(l,u,p){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=p}get element(){return Pi(this._hostTNode,this._hostLView)}get injector(){return new $t(this._hostTNode,this._hostLView)}get parentInjector(){const l=Wi(this._hostTNode,this._hostLView);if(ar(l)){const u=Xn(l,this._hostLView),p=vi(l);return new $t(u[m.eDl].data[p+8],u)}return new $t(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=bP(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-m.Y20}createEmbeddedView(l,u,p){let f,y;"number"==typeof p?f=p:null!=p&&(f=p.index,y=p.injector);const A=l.createEmbeddedViewImpl(u||{},y,null);return this.insertImpl(A,f,eo(this._hostTNode,null)),A}createComponent(l,u,p,f,y,b,A){const P=l&&!vt(l);let D;if(P)D=u;else{const Je=u||{};D=Je.index,p=Je.injector,f=Je.projectableNodes,y=Je.environmentInjector||Je.ngModuleRef,b=Je.directives,A=Je.bindings}const N=P?l:new Hh((0,m.xUg)(l)),U=p||this.parentInjector;if(!y&&null==N.ngModule){const ct=(P?U:this.parentInjector).get(m.uvJ,null);ct&&(y=ct)}(0,m.xUg)(N.componentType??{});const Ee=N.create(U,f,null,y,b,A);return this.insertImpl(Ee.hostView,D,eo(this._hostTNode,null)),Ee}insert(l,u){return this.insertImpl(l,u,!0)}insertImpl(l,u,p){const f=l._lView;if((0,m.ITl)(f)){const A=this.indexOf(l);if(-1!==A)this.detach(A);else{const P=f[m.f7T],D=new yP(P,P[m.qlT],P[m.f7T]);D.detach(D.indexOf(l))}}const y=this._adjustIndex(u),b=this._lContainer;return Co(b,f,y,p),l.attachToViewContainerRef(),(0,m.EYC)(pu(b),y,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=bP(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),p=ds(this._lContainer,u);p&&((0,m.E6O)(pu(this._lContainer),u),ss(p[m.eDl],p))}detach(l){const u=this._adjustIndex(l,-1),p=ds(this._lContainer,u);return p&&null!=(0,m.E6O)(pu(this._lContainer),u)?new bh(p):null}_adjustIndex(l,u=0){return l??this.length+u}};function bP(a){return a[m.bm_]}function pu(a){return a[m.bm_]||(a[m.bm_]=[])}function vP(a,l){let u;const p=l[a.index];return(0,m.A0l)(p)?u=p:(u=fh(p,l,null,a),l[a.index]=u,qc(l,u)),AP(u,l,a,p),new yP(u,a,l)}let AP=function PP(a,l,u,p){if(a[m.s6P])return;let f;f=8&u.type?(0,m.IvY)(p):function OC(a,l){const u=a[m.GpT],p=u.createComment(""),f=(0,m.d31)(l,a),y=u.parentNode(f);return Ya(u,y,p,u.nextSibling(f),!1),p}(l,u),a[m.s6P]=f};class Xf{queryList;matches=null;constructor(l){this.queryList=l}clone(){return new Xf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qf{queries;constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const p=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let y=0;y<p;y++){const b=u.getByIndex(y);f.push(this.queries[b.indexInDeclarationView].clone())}return new Qf(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}finishViewCreation(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==Vh(l,u).matches&&this.queries[u].setDirty()}}class _P{flags;read;predicate;constructor(l,u,p=null){this.flags=u,this.read=p,this.predicate="string"==typeof l?function ny(a){return a.split(",").map(l=>l.trim())}(l):l}}class Jf{queries;constructor(l=[]){this.queries=l}elementStart(l,u){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let p=0;p<this.length;p++){const f=null!==u?u.length:0,y=this.getByIndex(p).embeddedTView(l,f);y&&(y.indexInDeclarationView=p,null!==u?u.push(y):u=[y])}return null!==u?new Jf(u):null}template(l,u){for(let p=0;p<this.queries.length;p++)this.queries[p].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Zf{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(l,u=-1){this.metadata=l,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new Zf(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1&~this.metadata.flags){const u=this._declarationNodeIndex;let p=l.parent;for(;null!==p&&8&p.type&&p.index!==u;)p=p.parent;return u===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const p=this.metadata.predicate;if(Array.isArray(p))for(let f=0;f<p.length;f++){const y=p[f];this.matchTNodeWithReadOption(l,u,$C(u,y)),this.matchTNodeWithReadOption(l,u,qn(u,l,y,!1,!1))}else p===iu?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,qn(u,l,p,!1,!1))}matchTNodeWithReadOption(l,u,p){if(null!==p){const f=this.metadata.read;if(null!==f)if(f===At||f===Mo||f===iu&&4&u.type)this.addMatch(u.index,-2);else{const y=qn(u,l,f,!1,!1);null!==y&&this.addMatch(u.index,y)}else this.addMatch(u.index,p)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function $C(a,l){const u=a.localNames;if(null!==u)for(let p=0;p<u.length;p+=2)if(u[p]===l)return u[p+1];return null}function ey(a,l,u,p){return-1===u?function wP(a,l){return 11&a.type?Pi(a,l):4&a.type?vh(a,l):null}(l,a):-2===u?function TP(a,l,u){return u===At?Pi(l,a):u===iu?vh(l,a):u===Mo?vP(l,a):void 0}(a,l,p):sr(a,a[m.eDl],u,l)}function jh(a,l,u,p){const f=l[m.Ds7].queries[p];if(null===f.matches){const y=a.data,b=u.matches,A=[];for(let P=0;null!==b&&P<b.length;P+=2){const D=b[P];A.push(D<0?null:ey(l,y[D],b[P+1],u.metadata.read))}f.matches=A}return f.matches}function ty(a,l,u,p){const f=a.queries.getByIndex(u),y=f.matches;if(null!==y){const b=jh(a,l,f,u);for(let A=0;A<y.length;A+=2){const P=y[A];if(P>0)p.push(b[A/2]);else{const D=y[A+1],N=l[-P];for(let U=m.Y20;U<N.length;U++){const Z=N[U];Z[m.rQE]===Z[m.f7T]&&ty(Z[m.eDl],Z,D,p)}if(null!==N[m.nfM]){const U=N[m.nfM];for(let Z=0;Z<U.length;Z++){const ee=U[Z];ty(ee[m.eDl],ee,D,p)}}}}}return p}function iy(a,l){return a[m.Ds7].queries[l].queryList}function CP(a,l,u){const p=new zi(!(4&~u));return(0,m.B22)(a,l,p,p.destroy),(l[m.Ds7]??=new Qf).queries.push(new Xf(p))-1}function EP(a,l,u){const p=(0,m.klJ)();return p.firstCreatePass&&(Da(p,new _P(a,l,u),-1),!(2&~l)&&(p.staticViewQueries=!0)),CP(p,(0,m.OAn)(),l)}function xP(a,l,u,p){const f=(0,m.klJ)();if(f.firstCreatePass){const y=(0,m.Mx4)();Da(f,new _P(l,u,p),y.index),function Ma(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(f,a),!(2&~u)&&(f.staticContentQueries=!0)}return CP(f,(0,m.OAn)(),u)}function Da(a,l,u){null===a.queries&&(a.queries=new Jf),a.queries.track(new Zf(l,u))}function Vh(a,l){return a.queries.getByIndex(l)}function DP(a,l){const u=a[m.eDl],p=Vh(u,l);return p.crossesNgTemplate?ty(u,a,l,[]):jh(u,a,p,l)}function ry(a,l){const u=a[G.bh];u._lView=(0,m.OAn)(),u._queryIndex=l,u._queryList=iy(u._lView,l),u._queryList.onDirty(()=>u._dirtyCounter.update(p=>p+1))}let Ia=new Map;const gu=new Set;function HC(a){return ay.apply(this,arguments)}function ay(){return ay=(0,R.A)(function*(a){const l=Ia;Ia=new Map;const u=new Map;function p(y){const b=u.get(y);if(b)return b;const A=a(y).then(P=>function mu(a,l){return Al.apply(this,arguments)}(y,P));return u.set(y,A),A}const f=Array.from(l).map(function(){var y=(0,R.A)(function*([b,A]){if(A.styleUrl&&A.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");const P=[];A.templateUrl&&P.push(p(A.templateUrl).then(Z=>{A.template=Z}));const D="string"==typeof A.styles?[A.styles]:A.styles??[];A.styles=D;let{styleUrl:N,styleUrls:U}=A;if(N&&(U=[N],A.styleUrl=void 0),U?.length){const Z=Promise.all(U.map(ee=>p(ee))).then(ee=>{D.push(...ee),A.styleUrls=void 0});P.push(Z)}yield Promise.all(P),gu.delete(b)});return function(b){return y.apply(this,arguments)}}());yield Promise.all(f)}),ay.apply(this,arguments)}function jC(){return 0===Ia.size}function Al(){return(Al=(0,R.A)(function*(a,l){if("string"==typeof l)return l;if(void 0!==l.status&&200!==l.status)throw new m.buA(918,!1);return l.text()})).apply(this,arguments)}const oy=new Map;function RP(a,l){(function VC(a,l,u){if(l&&l!==u)throw new m.buA(921,!1)})(0,oy.get(l)||null,a),oy.set(l,a)}let pi=class{},ft=class{};function UC(a,l){return new sy(a,l??null,[])}class sy extends pi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new fP(this);constructor(l,u,p,f=!0){super(),this.ngModuleType=l,this._parent=u;const y=(0,m.phH)(l);this._bootstrapComponents=sa(y.bootstrap),this._r3Injector=(0,m.Pz9)(l,u,[{provide:pi,useValue:this},{provide:Rh,useValue:this.componentFactoryResolver},...p],(0,m.AsM)(l),new Set(["environment"])),f&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Wh extends ft{moduleType;constructor(l){super(),this.moduleType=l}create(l){return new sy(this.moduleType,l,[])}}function WC(a,l,u){return new sy(a,l,u,!1)}class NP extends pi{injector;componentFactoryResolver=new fP(this);instance=null;constructor(l){super();const u=new m.e5P([...l.providers,{provide:pi,useValue:this},{provide:Rh,useValue:this.componentFactoryResolver}],l.parent||(0,m.WB9)(),l.debugName,new Set(["environment"]));this.injector=u,l.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function FP(a,l,u=null){return new NP({providers:a,parent:l,debugName:u,runEnvironmentInitializers:!0}).injector}let KC=(()=>{class a{_injector;cachedInjectors=new Map;constructor(u){this._injector=u}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const p=(0,m.jXY)(!1,u.type),f=p.length>0?FP([p],this._injector,""):null;this.cachedInjectors.set(u,f)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,m.jDH)({token:a,providedIn:"environment",factory:()=>new a((0,m.KVO)(m.uvJ))})}return a})();function OP(a){return de(()=>{const l=qP(a),u={...l,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===In.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&a.dependencies||null,getStandaloneInjector:l.standalone?f=>f.get(KC).getOrCreateStandaloneInjector(u):null,getExternalStyles:null,signals:a.signals??!1,data:a.data||{},encapsulation:a.encapsulation||Nr.Emulated,styles:a.styles||m.Mlv,_:null,schemas:a.schemas||null,tView:null,id:""};l.standalone&&Sn("NgStandalone"),jP(u);const p=a.dependencies;return u.directiveDefs=Kh(p,BP),u.pipeDefs=Kh(p,m.oyA),u.id=function QC(a){let l=0;const p=[a.selectors,a.ngContentSelectors,a.hostVars,a.hostAttrs,"function"==typeof a.consts?"":a.consts,a.vars,a.decls,a.encapsulation,a.standalone,a.signals,a.exportAs,JSON.stringify(a.inputs),JSON.stringify(a.outputs),Object.getOwnPropertyNames(a.type.prototype),!!a.contentQueries,!!a.viewQuery];for(const y of p.join("|"))l=Math.imul(31,l)+y.charCodeAt(0)|0;return l+=2147483648,"c"+l}(u),u})}function BP(a){return(0,m.xUg)(a)||(0,m.HaV)(a)}function $P(a){return de(()=>({type:a.type,bootstrap:a.bootstrap||m.Mlv,declarations:a.declarations||m.Mlv,imports:a.imports||m.Mlv,exports:a.exports||m.Mlv,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function zC(a,l){if(null==a)return m.MZA;const u={};for(const p in a)if(a.hasOwnProperty(p)){const f=a[p];let y,b,A,P;Array.isArray(f)?(A=f[0],y=f[1],b=f[2]??y,P=f[3]||null):(y=f,b=f,A=wo.None,P=null),u[y]=[p,A,P],l[y]=b}return u}function YC(a){if(null==a)return m.MZA;const l={};for(const u in a)a.hasOwnProperty(u)&&(l[a[u]]=u);return l}function GP(a){return de(()=>{const l=qP(a);return jP(l),l})}function HP(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:a.standalone??!0,onDestroy:a.type.prototype.ngOnDestroy||null}}function qP(a){const l={};return{type:a.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:l,inputConfig:a.inputs||m.MZA,exportAs:a.exportAs||null,standalone:a.standalone??!0,signals:!0===a.signals,selectors:a.selectors||m.Mlv,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:zC(a.inputs,l),outputs:YC(a.outputs),debugInfo:null}}function jP(a){a.features?.forEach(l=>l(a))}function Kh(a,l){return a?()=>{const u="function"==typeof a?a():a,p=[];for(const f of u){const y=l(f);null!==y&&p.push(y)}return p}:null}function JC(a){const l=[];let u=!1,p=null,f=null;for(let y=0;y<a.length;y++){const b=a[y];if(null!==b.hostDirectives){const A=l.length;p??=new Map,f??=new Map,UP(b,l,p),f.set(b,[A,l.length-1])}0===y&&(0,m.JlV)(b)&&(u=!0,l.push(b))}for(let y=u?1:0;y<a.length;y++)l.push(a[y]);return[l,p,f]}function UP(a,l,u){if(null!==a.hostDirectives)for(const p of a.hostDirectives)if("function"==typeof p){const f=p();for(const y of f)WP(zh(y),l,u)}else WP(p,l,u)}function WP(a,l,u){const p=(0,m.HaV)(a.directive);(function ZC(a,l){for(const u in l)l.hasOwnProperty(u)&&(a[l[u]]=a[u])})(p.declaredInputs,a.inputs),UP(p,l,u),u.set(p,a),l.push(p)}function zh(a){return"function"==typeof a?{directive:(0,m.nl4)(a),inputs:m.MZA,outputs:m.MZA}:{directive:(0,m.nl4)(a.directive),inputs:KP(a.inputs),outputs:KP(a.outputs)}}function KP(a){if(void 0===a||0===a.length)return m.MZA;const l={};for(let u=0;u<a.length;u+=2)l[a[u]]=a[u+1];return l}function cy(a){let l=function ly(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const p=[a];for(;l;){let f;if((0,m.JlV)(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new m.buA(903,!1);f=l.\u0275dir}if(f){if(u){p.push(f);const b=a;b.inputs=yu(a.inputs),b.declaredInputs=yu(a.declaredInputs),b.outputs=yu(a.outputs);const A=f.hostBindings;A&&iE(a,A);const P=f.viewQuery,D=f.contentQueries;if(P&&tE(a,P),D&&dy(a,D),uy(a,f),(0,m.dwj)(a.outputs,f.outputs),(0,m.JlV)(f)&&f.data.animation){const N=a.data;N.animation=(N.animation||[]).concat(f.data.animation)}}const y=f.features;if(y)for(let b=0;b<y.length;b++){const A=y[b];A&&A.ngInherit&&A(a),A===cy&&(u=!1)}}l=Object.getPrototypeOf(l)}!function eE(a){let l=0,u=null;for(let p=a.length-1;p>=0;p--){const f=a[p];f.hostVars=l+=f.hostVars,f.hostAttrs=nn(f.hostAttrs,u=nn(u,f.hostAttrs))}}(p)}function uy(a,l){for(const u in l.inputs){if(!l.inputs.hasOwnProperty(u)||a.inputs.hasOwnProperty(u))continue;const p=l.inputs[u];void 0!==p&&(a.inputs[u]=p,a.declaredInputs[u]=l.declaredInputs[u])}}function yu(a){return a===m.MZA?{}:a===m.Mlv?[]:a}function tE(a,l){const u=a.viewQuery;a.viewQuery=u?(p,f)=>{l(p,f),u(p,f)}:l}function dy(a,l){const u=a.contentQueries;a.contentQueries=u?(p,f,y)=>{l(p,f,y),u(p,f,y)}:l}function iE(a,l){const u=a.hostBindings;a.hostBindings=u?(p,f)=>{l(p,f),u(p,f)}:l}function Yh(a,l,u,p,f,y,b,A){if(u.firstCreatePass){a.mergedAttrs=nn(a.mergedAttrs,a.attrs);const N=a.tView=th(2,a,f,y,b,u.directiveRegistry,u.pipeRegistry,null,u.schemas,u.consts,null);null!==u.queries&&(u.queries.template(u,a),N.queries=u.queries.embeddedTView(a))}A&&(a.flags|=A),(0,m.iMd)(a,!1);const P=XP(u,l,a,p);(0,m.SX7)()&&sh(u,l,P,a),Ve(P,l);const D=fh(P,l,P,a);l[p+m.Yw1]=D,qc(l,D)}function ro(a,l,u,p,f,y,b,A,P,D,N){const U=u+m.Yw1;let Z;if(l.firstCreatePass){if(Z=Eo(l,U,4,b||null,A||null),null!=D){const ee=(0,m.db4)(l.consts,D);Z.localNames=[];for(let fe=0;fe<ee.length;fe+=2)Z.localNames.push(ee[fe],-1)}}else Z=l.data[U];return Yh(Z,a,l,u,p,f,y,P),null!=D&&ir(a,Z,N),Z}function hy(a,l,u,p,f,y,b,A){const P=(0,m.OAn)(),D=(0,m.klJ)();return function nE(a,l,u,p,f,y,b,A,P,D,N){const U=u+m.Yw1;let Z;l.firstCreatePass?(Z=Eo(l,U,4,b||null,A||null),(0,m.ckz)()&&oP(l,a,Z,(0,m.db4)(l.consts,D),Qc),kn(l,Z)):Z=l.data[U],Yh(Z,a,l,u,p,f,y,P),(0,m.yoD)(Z)&&lh(l,a,Z),null!=D&&ir(a,Z,N)}(P,D,a,l,u,p,f,(0,m.db4)(D.consts,y),void 0,b,A),hy}function py(a,l,u,p,f,y,b,A){const P=(0,m.OAn)(),D=(0,m.klJ)();return ro(P,D,a,l,u,p,f,(0,m.db4)(D.consts,y),void 0,b,A),py}let XP=function QP(a,l,u,p){return(0,m.m7n)(!0),l[m.GpT].createComment("")};var pn=function(a){return a[a.NOT_STARTED=0]="NOT_STARTED",a[a.IN_PROGRESS=1]="IN_PROGRESS",a[a.COMPLETE=2]="COMPLETE",a[a.FAILED=3]="FAILED",a}(pn||{}),mi=function(a){return a[a.Placeholder=0]="Placeholder",a[a.Loading=1]="Loading",a[a.Complete=2]="Complete",a[a.Error=3]="Error",a}(mi||{}),Pl=function(a){return a[a.Initial=-1]="Initial",a}(Pl||{}),Xh=function(a){return a[a.Manual=0]="Manual",a[a.Playthrough=1]="Playthrough",a}(Xh||{});function vu(a,l,u){const p=Qh(a);null===l[p]&&(l[p]=[]),l[p].push(u)}function Au(a,l){const u=Qh(a),p=l[u];if(null!==p){for(const f of p)f();l[u]=null}}function tk(a){Au(1,a),Au(0,a),Au(2,a)}function Qh(a){let l=4;return 1===a?l=5:2===a&&(l=9),l}function Su(a){return a+1}function hr(a,l){return a[Su(l.index)]}function Ln(a,l){const u=Su(l.index);return a.data[u]}function fy(a,l){return l===mi.Placeholder?a.placeholderBlockConfig?.[0]??null:l===mi.Loading?a.loadingBlockConfig?.[0]??null:null}function Jh(a){return a.loadingBlockConfig?.[1]??null}function ik(a,l){if(!a||0===a.length)return l;const u=new Set(a);for(const p of l)u.add(p);return a.length===u.size?a:Array.from(u)}function by(a,l,u,p){const f=u.get(m.SKi);return function cm(a,l,u,p){const f=ac(p);let y=Wr.get(a)?.get(f);zn.has(f)||zn.set(f,{observer:u(p),count:0});const b=zn.get(f);if(!y){y=new Wa,b.observer.observe(a);let A=Wr.get(a);A?A.set(f,y):(A=new Map,Wr.set(a,A)),A.set(f,y),b.count++}return y.callbacks.add(l),()=>{if(Wr.get(a)?.has(f)){if(y.callbacks.delete(l),0===y.callbacks.size){b.observer.unobserve(a),b.count--;const A=Wr.get(a);A&&(A.delete(f),0===A.size&&Wr.delete(a))}0===b.count&&(b.observer.disconnect(),zn.delete(f))}}}(a,()=>f.run(l),y=>f.runOutsideAngular(()=>function lm(a){const l=ac(a);return new IntersectionObserver(u=>{for(const p of u)p.isIntersecting&&Wr.has(p.target)&&Wr.get(p.target)?.get(l)?.listener()},a)}(y)),p)}function Ps(a,l,u,p,f,y,b,A){const P=a[m.YEL],D=P.get(m.SKi);let N;N=function PT(a,l){const u=l?.injector??(0,m.WQX)(m.zZn);return Sn("NgAfterRender"),dS(a,u,l,!1)}({read:function U(){if((0,m.EPY)(a))return void N.destroy();const Z=hr(a,l),ee=Z[1];if(ee!==Pl.Initial&&ee!==mi.Placeholder)return void N.destroy();const fe=function rk(a,l,u){return null==u?a:u>=0?(0,m.jRZ)(u,a):a[l.index][m.Y20]??null}(a,l,p);if(!fe||(N.destroy(),(0,m.EPY)(fe)))return;const Ee=function cE(a,l){return(0,m.vaC)(m.Yw1+l,a)}(fe,u),Je=f(Ee,()=>{D.run(()=>{a!==fe&&(0,m.DyX)(fe,Je),y()})},P,A);a!==fe&&(0,m.ik5)(fe,Je),vu(b,Z,Je)}},{injector:P})}function Zh(a,l){const u=l.get(ok);return u.add(a),()=>u.remove(a)}let ok=(()=>{class a{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=(0,m.WQX)(m.SKi);requestIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout)().bind(globalThis);add(u){(this.executingCallbacks?this.deferred:this.current).add(u),null===this.idleId&&this.scheduleIdleCallback()}remove(u){const{current:p,deferred:f}=this;p.delete(u),f.delete(u),0===p.size&&0===f.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const u=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const p of this.current)p();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const p of this.deferred)this.current.add(p);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(u))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static \u0275prov=(0,m.jDH)({token:a,providedIn:"root",factory:()=>new a})}return a})();function ep(a){return(l,u)=>vy(a,l,u)}function vy(a,l,u){const p=u.get(dE),f=u.get(m.SKi);return p.add(a,l,f),()=>p.remove(l)}let dE=(()=>{class a{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(u,p,f){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+u,p),this.scheduleTimer(f)}remove(u){const{current:p,deferred:f}=this;-1===this.removeFromQueue(p,u)&&this.removeFromQueue(f,u),0===p.length&&0===f.length&&this.clearTimeout()}addToQueue(u,p,f){let y=u.length;for(let b=0;b<u.length;b+=2)if(u[b]>p){y=b;break}(0,m.llW)(u,y,p,f)}removeFromQueue(u,p){let f=-1;for(let y=0;y<u.length;y+=2)if(u[y+1]===p){f=y;break}return f>-1&&(0,m.gsJ)(u,f,2),f}scheduleTimer(u){const p=()=>{this.clearTimeout(),this.executingCallbacks=!0;const y=[...this.current],b=Date.now();for(let P=0;P<y.length;P+=2){const N=y[P+1];if(!(y[P]<=b))break;N()}let A=-1;for(let P=0;P<this.current.length&&this.current[P]<=b;P+=2)A=P+1;if(A>=0&&(0,m.gsJ)(this.current,0,A+1),this.executingCallbacks=!1,this.deferred.length>0){for(let P=0;P<this.deferred.length;P+=2)this.addToQueue(this.current,this.deferred[P],this.deferred[P+1]);this.deferred.length=0}this.scheduleTimer(u)};if(this.current.length>0){const y=Date.now(),b=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-b>16){this.clearTimeout();const A=Math.max(b-y,16);this.invokeTimerAt=b,this.timeoutId=u.runOutsideAngular(()=>setTimeout(()=>u.run(p),A))}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=(0,m.jDH)({token:a,providedIn:"root",factory:()=>new a})}return a})(),hE=(()=>{class a{cachedInjectors=new Map;getOrCreateInjector(u,p,f,y){if(!this.cachedInjectors.has(u)){const b=f.length>0?FP(f,p,y):null;this.cachedInjectors.set(u,b)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,m.jDH)({token:a,providedIn:"environment",factory:()=>new a})}return a})();const Ay=new m.nKC("");function Pu(a,l,u){return a.get(hE).getOrCreateInjector(l,a,u,"")}function ao(a,l,u,p=!1){const f=u[m.f7T],y=f[m.eDl];if((0,m.EPY)(f))return;const b=hr(f,l),P=b[7];if(!(null!==P&&a<P)&&uk(b[1],a)&&uk(b[0]??-1,a)){const D=Ln(y,l),U=p||null===Jh(D)&&null===fy(D,mi.Loading)&&!fy(D,mi.Placeholder)?sk:ky;try{U(a,b,u,l,f)}catch(Z){Jc(f,Z)}}}function sk(a,l,u,p,f){St(Ie.DeferBlockStateStart);const y=function my(a,l,u){const f=Ln(l[m.eDl],u);switch(a){case mi.Complete:return f.primaryTmplIndex;case mi.Loading:return f.loadingTmplIndex;case mi.Error:return f.errorTmplIndex;case mi.Placeholder:return f.placeholderTmplIndex;default:return null}}(a,f,p);if(null!==y){l[1]=a;const b=f[m.eDl],P=(0,m.XRZ)(b,y+m.Yw1),D=0;let N;if(hf(u,D),a===mi.Complete){const fe=Ln(b,p),Ee=fe.providers;Ee&&Ee.length>0&&(N=function pE(a,l,u){if(a instanceof vl){const f=a.injector,b=Pu(a.parentInjector,l,u);return new vl(f,b)}const p=a.get(m.uvJ);if(p!==a){const f=Pu(p,l,u);return new vl(a,f)}return Pu(a,l,u)}(f[m.YEL],fe,Ee))}const{dehydratedView:U,dehydratedViewIx:Z}=function Sy(a,l){const u=a[m.qFA]?.findIndex(f=>f.data.s===l[1])??-1;return{dehydratedView:u>-1?a[m.qFA][u]:null,dehydratedViewIx:u}}(u,l),ee=dl(f,P,null,{injector:N,dehydratedView:U});if(Co(u,ee,D,eo(P,U)),us(ee,2),Z>-1&&u[m.qFA]?.splice(Z,1),(a===mi.Complete||a===mi.Error)&&Array.isArray(l[8])){for(const fe of l[8])fe();l[8]=null}}St(Ie.DeferBlockStateEnd)}function lk(a,l,u,p,f){const y=Date.now(),A=Ln(f[m.eDl],p);if(null===l[2]||l[2]<=y){l[2]=null;const P=Jh(A),D=null!==l[3];if(a!==mi.Loading||null===P||D){a>mi.Loading&&D&&(l[3](),l[3]=null,l[0]=null),sk(a,l,u,p,f);const N=fy(A,a);null!==N&&(l[2]=y+N,ck(N,l,p,u,f))}else{l[0]=a;const N=ck(P,l,p,u,f);l[3]=N}}else l[0]=a}function ck(a,l,u,p,f){return vy(a,()=>{const b=l[0];l[2]=null,l[0]=null,null!==b&&ao(b,u,p)},f[m.YEL])}function uk(a,l){return a<l}function ks(a,l){ao(mi.Placeholder,l,a[l.index])}function Py(a,l,u){a.loadingPromise.then(()=>{a.loadingState===pn.COMPLETE?ao(mi.Complete,l,u):a.loadingState===pn.FAILED&&ao(mi.Error,l,u)})}let ky=null;function mE(a,l,u,p){return de(()=>{const f=a;null!==l&&(f.hasOwnProperty("decorators")&&void 0!==f.decorators?f.decorators.push(...l):f.decorators=l),null!==u&&(f.ctorParameters=u),null!==p&&(f.propDecorators=f.hasOwnProperty("propDecorators")&&void 0!==f.propDecorators?{...f.propDecorators,...p}:p)})}let tp=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}static \u0275fac=function(p){return new(p||a)};static \u0275prov=(0,m.jDH)({token:a,factory:a.\u0275fac,providedIn:"platform"})}return a})();function Cy(a){return function np(a){return"function"==typeof a&&void 0!==a[G.bh]}(a)&&"function"==typeof a.set}const jy=new m.nKC(""),gp=new m.nKC("");let mp,FE=(()=>{class a{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(u,p,f){this._ngZone=u,this.registry=p,(0,m.M6u)()&&(this._destroyRef=(0,m.WQX)(m.abz,{optional:!0})??void 0),mp||(function OE(a){mp=a}(f),f.addToWindow(p)),this._watchAngularEvents(),u.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const u=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),p=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{m.SKi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{u.unsubscribe(),p.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb()}});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(u)||(clearTimeout(p.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,p,f){let y=-1;p&&p>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==y),u()},p)),this._callbacks.push({doneCb:u,timeoutId:y,updateCb:f})}whenStable(u,p,f){if(f&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,p,f),this._runCallbacksIfReady()}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,p,f){return[]}static \u0275fac=function(p){return new(p||a)((0,m.KVO)(m.SKi),(0,m.KVO)(Vy),(0,m.KVO)(gp))};static \u0275prov=(0,m.jDH)({token:a,factory:a.\u0275fac})}return a})(),Vy=(()=>{class a{_applications=new Map;registerApplication(u,p){this._applications.set(u,p)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,p=!0){return mp?.findTestabilityInTree(this,u,p)??null}static \u0275fac=function(p){return new(p||a)};static \u0275prov=(0,m.jDH)({token:a,factory:a.\u0275fac,providedIn:"platform"})}return a})();function Ak(a){return!!a&&"function"==typeof a.then}function fp(a){return!!a&&"function"==typeof a.subscribe}const Sk=new m.nKC("");let Pk=(()=>{class a{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((u,p)=>{this.resolve=u,this.reject=p});appInits=(0,m.WQX)(Sk,{optional:!0})??[];injector=(0,m.WQX)(m.zZn);constructor(){}runInitializers(){if(this.initialized)return;const u=[];for(const f of this.appInits){const y=(0,m.N4e)(this.injector,f);if(Ak(y))u.push(y);else if(fp(y)){const b=new Promise((A,P)=>{y.subscribe({complete:A,error:P})});u.push(b)}}const p=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{p()}).catch(f=>{this.reject(f)}),0===u.length&&p(),this.initialized=!0}static \u0275fac=function(p){return new(p||a)};static \u0275prov=(0,m.jDH)({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const Uy=new m.nKC("");function $E(){}function Wy(){(0,G.KO)(()=>{throw new m.buA(600,"")})}function kk(a,l){return Array.isArray(l)?l.reduce(kk,a):{...a,...l}}let wu=(()=>{class a{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=(0,m.WQX)(m.ZTf);afterRenderManager=(0,m.WQX)(cS);zonelessEnabled=(0,m.WQX)(m.Evm);rootEffectScheduler=(0,m.WQX)(m.VML);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new se.B7;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=(0,m.WQX)(m.rev);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe((0,g.T)(u=>!u))}constructor(){(0,m.WQX)(Wc,{optional:!0})}whenStable(){let u;return new Promise(p=>{u=this.isStable.subscribe({next:f=>{f&&p()}})}).finally(()=>{u.unsubscribe()})}_injector=(0,m.WQX)(m.uvJ);_rendererFactory=null;get injector(){return this._injector}bootstrap(u,p){return this.bootstrapImpl(u,p)}bootstrapImpl(u,p,f=m.zZn.NULL){return this._injector.get(m.SKi).run(()=>{St(Ie.BootstrapComponentStart);const b=u instanceof iP;if(!this._injector.get(Pk).done)throw new m.buA(405,"");let P;P=b?u:this._injector.get(Rh).resolveComponentFactory(u),this.componentTypes.push(P.componentType);const D=function GE(a){return a.isBoundToModule}(P)?void 0:this._injector.get(pi),U=P.create(f,[],p||P.selector,D),Z=U.location.nativeElement,ee=U.injector.get(jy,null);return ee?.registerApplication(Z),U.onDestroy(()=>{this.detachView(U.hostView),wl(this.components,U),ee?.unregisterApplication(Z)}),this._loadComponent(U),St(Ie.BootstrapComponentEnd,U),U})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){St(Ie.ChangeDetectionStart),null!==this.tracingSnapshot?this.tracingSnapshot.run(jm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw St(Ie.ChangeDetectionEnd),new m.buA(101,!1);const u=(0,G.Ht)(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,(0,G.Ht)(u),this.afterTick.next(),St(Ie.ChangeDetectionEnd)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Lh,null,{optional:!0}));let u=0;for(;0!==this.dirtyFlags&&u++<10;){St(Ie.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{St(Ie.ChangeDetectionSyncEnd)}}}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let u=!1;if(7&this.dirtyFlags){const p=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:f}of this.allViews)(p||(0,m.dMS)(f))&&(hl(f,p&&!this.zonelessEnabled?0:1),u=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}u||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:u})=>(0,m.dMS)(u))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(u){const p=u;this._views.push(p),p.attachToAppRef(this)}detachView(u){const p=u;wl(this._views,p),p.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView);try{this.tick()}catch(f){this.internalErrorHandler(f)}this.components.push(u),this._injector.get(Uy,[]).forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>wl(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new m.buA(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(p){return new(p||a)};static \u0275prov=(0,m.jDH)({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function wl(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}function zy(){let a,l;return{promise:new Promise((p,f)=>{a=p,l=f}),resolve:a,reject:l}}function yp(a){const l=(0,m.OAn)(),u=(0,m.Mx4)();if(ks(l,u),!wk(0,l))return;const p=l[m.YEL];vu(0,hr(l,u),a(()=>oo(0,l,u),p))}function _k(a){const l=(0,m.OAn)(),u=l[m.YEL],p=(0,m.Mx4)(),y=Ln(l[m.eDl],p);y.loadingState===pn.NOT_STARTED&&vu(1,hr(l,p),a(()=>Tu(y,l,p),u))}function bp(a,l,u){const p=l[m.YEL],f=hr(l,u),y=f[6];vu(2,f,a(()=>_s(p,y),p))}function Tu(a,l,u){Cu(a,l,u)}function Cu(a,l,u){const p=l[m.YEL],f=l[m.eDl];if(a.loadingState!==pn.NOT_STARTED)return a.loadingPromise??Promise.resolve();const y=hr(l,u),b=function nk(a,l){return(0,m.XRZ)(a,l.primaryTmplIndex+m.Yw1)}(f,a);a.loadingState=pn.IN_PROGRESS,Au(1,y);let A=a.dependencyResolverFn;const P=p.get(m.u5s).add();return A?(a.loadingPromise=Promise.allSettled(A()).then(D=>{let N=!1;const U=[],Z=[];for(const ee of D){if("fulfilled"!==ee.status){N=!0;break}{const fe=ee.value,Ee=(0,m.xUg)(fe)||(0,m.HaV)(fe);if(Ee)U.push(Ee);else{const Je=(0,m.oyA)(fe);Je&&Z.push(Je)}}}if(N){if(a.loadingState=pn.FAILED,null===a.errorTmplIndex){const fe=new m.buA(-750,!1);Jc(l,fe)}}else{a.loadingState=pn.COMPLETE;const ee=b.tView;if(U.length>0){ee.directiveRegistry=ik(ee.directiveRegistry,U);const fe=U.map(Je=>Je.type),Ee=(0,m.jXY)(!1,...fe);a.providers=Ee}Z.length>0&&(ee.pipeRegistry=ik(ee.pipeRegistry,Z))}}),a.loadingPromise.finally(()=>{a.loadingPromise=null,P()})):(a.loadingPromise=Promise.resolve().then(()=>{a.loadingPromise=null,a.loadingState=pn.COMPLETE,P()}),a.loadingPromise)}function wk(a,l){return l[m.YEL].get(Ay,null,{optional:!0})?.behavior!==Xh.Manual}function oo(a,l,u){const p=l[m.eDl],f=l[u.index];if(!wk(0,l))return;const y=hr(l,u),b=Ln(p,u);switch(tk(y),b.loadingState){case pn.NOT_STARTED:ao(mi.Loading,u,f),Cu(b,l,u),b.loadingState===pn.IN_PROGRESS&&Py(b,u,f);break;case pn.IN_PROGRESS:ao(mi.Loading,u,f),Py(b,u,f);break;case pn.COMPLETE:ao(mi.Complete,u,f);break;case pn.FAILED:ao(mi.Error,u,f)}}function _s(a,l,u){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,R.A)(function*(a,l,u){const p=a.get(hn);if(p.hydrating.has(l))return;const{parentBlockPromise:y,hydrationQueue:b}=function vo(a,l){const u=l.get(hn),f=l.get(He).get("__nghDeferData__",{});let y=!1,b=a,A=null;const P=[];for(;!y&&b;){y=u.has(b);const D=u.hydrating.get(b);if(null===A&&null!=D){A=D.promise;break}P.unshift(b),b=f[b].p}return{parentBlockPromise:A,hydrationQueue:P}}(l,a);if(0===b.length)return;null!==y&&b.shift(),function Ck(a,l){for(let u of l)a.hydrating.set(u,zy())}(p,b),null!==y&&(yield y);const A=b[0];p.has(A)?yield Tk(a,b,u):p.awaitParentBlock(A,(0,R.A)(function*(){return yield Tk(a,b,u)}))})).apply(this,arguments)}function Tk(a,l,u){return xu.apply(this,arguments)}function xu(){return(xu=(0,R.A)(function*(a,l,u){const p=a.get(hn),f=p.hydrating,y=a.get(m.rev),b=y.add();for(let P=0;P<l.length;P++){const D=l[P],N=p.get(D);if(null==N){qE(P,l,p),vp(l.slice(P),p);break}if(yield Yy(N),yield jE(a),HE(N)){Nt(N),vp(l.slice(P),p);break}f.get(D).resolve()}const A=l[l.length-1];yield f.get(A)?.promise,y.remove(b),u&&u(l),function uR(a,l,u,p){null!==a&&(u.cleanup(l),Fr(a.lContainer),function Gf(a){const l=a._views;for(const u of l){const p=wd(u);null!==p&&null!==p[m.jgP]&&((0,m.q$2)(p)?cu(p):Fr(p))}}(p))}(p.get(A),l,p,a.get(wu))})).apply(this,arguments)}function HE(a){return hr(a.lView,a.tNode)[1]===mi.Error}function qE(a,l,u){const p=a-1,f=p>-1?u.get(l[p]):null;f&&Fr(f.lContainer)}function vp(a,l){const u=l.hydrating;for(const p in a)u.get(p)?.reject();l.cleanup(a)}function jE(a){return new Promise(l=>ca(l,{injector:a}))}function Yy(a){return Xy.apply(this,arguments)}function Xy(){return(Xy=(0,R.A)(function*(a){const{tNode:l,lView:u}=a,p=hr(u,l);return new Promise(f=>{(function Qy(a,l){Array.isArray(a[8])||(a[8]=[]),a[8].push(l)})(p,f),oo(0,u,l)})})).apply(this,arguments)}function on(a,l,u){return 0===a?Ek(l,u):2!==a||!Ek(l,u)}function Ek(a,l){const u=a[m.YEL],p=Ln(a[m.eDl],l),f=Cd(u),y=function Jy(a){return null!=a&&!(1&~a)}(p.flags),A=null!==hr(a,l)[6];return!(y&&A&&f)}function La(a,l){const u=Ln(a,l);return u.hydrateTriggers??=new Map}function Sp(a,l,u,p,f,y,b,A,P,D){const N=(0,m.OAn)(),U=(0,m.klJ)(),Z=a+m.Yw1,ee=ro(N,U,a,null,0,0),fe=N[m.YEL],Ee=Cd(fe);if(U.firstCreatePass){Sn("NgDefer");const so={primaryTmplIndex:l,loadingTmplIndex:p??null,placeholderTmplIndex:f??null,errorTmplIndex:y??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:u??null,loadingState:pn.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:D??0};P?.(U,so,A,b),function gy(a,l,u){const p=Su(l);a.data[p]=u}(U,Z,so)}const Je=N[Z];let ct=null,Ne=null;if(Je[m.qFA]?.length>0){const so=Je[m.qFA][0].data;Ne=so.di??null,ct=so.s}const Yt=[null,Pl.Initial,null,null,null,null,Ne,ct,null,null];!function lE(a,l,u){a[Su(l)]=u}(N,Z,Yt);let rr=null;null!==Ne&&Ee&&(rr=fe.get(hn),rr.add(Ne,{lView:N,tNode:ee,lContainer:Je}));const Bi=()=>{tk(Yt),null!==Ne&&rr?.cleanup([Ne])};vu(0,Yt,()=>(0,m.DyX)(N,Bi)),(0,m.ik5)(N,Bi)}function xk(a){const l=(0,m.OAn)(),u=(0,m.CpD)();if(on(0,l,u)&&Oi(l,(0,m.xbp)(),a)){const f=(0,G.Ht)(null);try{const y=!!a,A=hr(l,u)[1];!1===y&&A===Pl.Initial?ks(l,u):!0===y&&(A===Pl.Initial||A===mi.Placeholder)&&oo(0,l,u)}finally{(0,G.Ht)(f)}}}function Du(a,l,u,p){const f=(0,m.OAn)();return Oi(f,(0,m.xbp)(),l)&&((0,m.klJ)(),function cs(a,l,u,p,f,y){const b=(0,m.d31)(a,l);ul(l[m.GpT],b,y,a.value,u,p,f)}((0,m.CpD)(),f,a,l,u,p)),Du}const ZE=new m.nKC("",{factory:()=>!1}),gb=new m.nKC("",{factory:()=>Ik}),Ik=4e3,ws=typeof document<"u"&&"function"==typeof document?.documentElement?.getAnimations;function Tl(a){return a[m.YEL].get(ZE,!1)}function Mu(a){const l=Lo.get(a);if(l){for(const u of l.cleanupFns)u();Lo.delete(a)}Ts.delete(a)}const t1=()=>{},Lo=new WeakMap,Ts=new WeakMap,No=new WeakMap;function Pp(a,l){const u=No.get(a);if(u&&u.length>0){const p=u.findIndex(f=>f===l);p>-1&&u.splice(p,1)}0===u?.length&&No.delete(a)}function Cl(a,l){const u=No.get(a)?.shift(),p=l[m.rQE];if(p){const y=Ym(a.index,p)?.previousSibling;u&&y&&u===y&&u.dispatchEvent(new CustomEvent("animationend",{detail:{cancel:!0}}))}}function Lk(a,l){No.has(a)?No.get(a)?.push(l):No.set(a,[l])}function El(a){const l=a[m.Isx]??={};return l.enter??=new Map}function Cs(a){const l=a[m.Isx]??={};return l.leave??=new Map}function kp(a){const l="function"==typeof a?a():a;let u=Array.isArray(l)?l:null;return"string"==typeof l&&(u=l.trim().split(/\s+/).filter(p=>p)),u}function Nk(a,l){const u=Ts.get(l);return void 0===u||l===a.target&&(void 0!==u.animationName&&a.animationName===u.animationName||void 0!==u.propertyName&&a.propertyName===u.propertyName)}function Es(a,l,u){const p=a.get(l.index)??{animateFns:[]};p.animateFns.push(u),a.set(l.index,p)}function _p(a,l){if(a)for(const u of a)u();for(const u of l)u()}function yb(a,l){const u=Cs(a).get(l.index);u&&(u.resolvers=void 0)}function xl(a,l,u,p,f){Pp(l,u),_p(p,f),yb(a,l)}function Tp(a,l){const u=a.fieldIndex;return-1===u?void 0:l[u]}function Cp(a,l){return function u1(a,l){return l in a.inputs}(a,l)&&Ep(a,l+"Change")}function Ep(a,l){return l in a.outputs}function $k(a,l,u,p){const f=(0,m.klJ)(),y=l.customControlIndex,b=p+"Change";Pr(l,a,y,b,b,io(l,a,D=>u.state().setControlValue(D)));const P="touchedChange";Ep(f.data[y],P)&&Pr(l,a,y,P,P,io(l,a,()=>u.state().markAsTouched()))}function xp(a,l,u,p){const f=(0,m.klJ)(),y=a.customControlIndex,b=l[y],A=f.data[y],P=u.state(),D=Il(l),N=P.controlValue();Rl(D,Ru,N)&&Ja(A,b,p,N);const U=!!(8192&a.flags),Z=U?(0,m.d31)(a,l):null,ee=l[m.GpT];for(const fe of Nu){const Ee=P[fe]?.();if(Rl(D,fe,Ee)){const Je=Lu[fe];Db(a,l,Je,Ee),U&&!(Je in A.inputs)&&Iu(a,ee,Z,fe,Ee,Je)}}}function Db(a,l,u,p){const f=a.inputs?.[u];if(f){const y=(0,m.klJ)();for(const b of f)Ja(y.data[b],l[b],u,p);return!0}return!1}function Iu(a,l,u,p,f,y){switch(p){case jk:l.setAttribute(u,y,f);break;case Hk:case Fb:case f1:!function Ob(a,l,u,p){p?a.setAttribute(l,u,""):a.removeAttribute(l,u)}(l,u,y,f);break;case Lb:case m1:16384&a.flags&&Bb(l,u,y,f);break;case qk:case Nb:32768&a.flags&&Bb(l,u,y,f)}}function Gk(a){return null===a||a instanceof Date}function Mp(a,l){isNaN(l)?a.value="":a.valueAsNumber=l}const Hk=(0,m.kLh)({disabled:m.kLh}),Lb=(0,m.kLh)({max:m.kLh}),qk=(0,m.kLh)({maxLength:m.kLh}),m1=(0,m.kLh)({min:m.kLh}),Nb=(0,m.kLh)({minLength:m.kLh}),jk=(0,m.kLh)({name:m.kLh}),Fb=(0,m.kLh)({readonly:m.kLh}),f1=(0,m.kLh)({required:m.kLh}),Ru=(0,m.kLh)({controlValue:m.kLh}),Lu={disabled:"disabled",disabledReasons:"disabledReasons",dirty:"dirty",errors:"errors",hidden:"hidden",invalid:"invalid",max:"max",maxLength:"maxLength",min:"min",minLength:"minLength",name:"name",pattern:"pattern",pending:"pending",readonly:"readonly",required:"required",touched:"touched"},Nu=Object.keys(Lu);function Il(a){const l=(0,m.c$7)();let u=a[l];return u===ti&&(u=a[l]={}),u}function Rl(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function y1(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function Bb(a,l,u,p){void 0!==p?a.setAttribute(l,u,p.toString()):a.removeAttribute(l,u)}class $b{destroy(l){}updateValue(l,u){}swap(l,u){const p=Math.min(l,u),f=Math.max(l,u),y=this.detach(f);if(f-p>1){const b=this.detach(p);this.attach(p,y),this.attach(f,b)}else this.attach(p,y)}move(l,u){this.attach(u,this.detach(l))}}function Gb(a,l,u,p,f){return a===u&&Object.is(l,p)?1:Object.is(f(a,l),f(u,p))?-1:0}function Fu(a,l,u,p){return!(void 0===l||!l.has(p)||(a.attach(u,l.get(p)),l.delete(p),0))}function Uk(a,l,u,p,f){if(Fu(a,l,p,u(p,f)))a.updateValue(p,f);else{const y=a.create(p,f);a.attach(p,y)}}function Ip(a,l,u,p){const f=new Set;for(let y=l;y<=u;y++)f.add(p(y,a.at(y)));return f}class Wk{kvMap=new Map;_vMap=void 0;has(l){return this.kvMap.has(l)}delete(l){if(!this.has(l))return!1;const u=this.kvMap.get(l);return void 0!==this._vMap&&this._vMap.has(u)?(this.kvMap.set(l,this._vMap.get(u)),this._vMap.delete(u)):this.kvMap.delete(l),!0}get(l){return this.kvMap.get(l)}set(l,u){if(this.kvMap.has(l)){let p=this.kvMap.get(l);void 0===this._vMap&&(this._vMap=new Map);const f=this._vMap;for(;f.has(p);)p=f.get(p);f.set(p,u)}else this.kvMap.set(l,u)}forEach(l){for(let[u,p]of this.kvMap)if(l(p,u),void 0!==this._vMap){const f=this._vMap;for(;f.has(p);)p=f.get(p),l(p,u)}}}function qb(a,l,u,p,f,y,b,A){Sn("NgControlFlow");const P=(0,m.OAn)(),D=(0,m.klJ)();return ro(P,D,a,l,u,p,f,(0,m.db4)(D.consts,y),512,b,A),qb}class v1{lContainer;$implicit;$index;constructor(l,u,p){this.lContainer=l,this.$implicit=u,this.$index=p}get $count(){return this.lContainer.length-m.Y20}}class Ub{hasEmptyBlock;trackByFn;liveCollection;constructor(l,u,p){this.hasEmptyBlock=l,this.trackByFn=u,this.liveCollection=p}}class Wb extends $b{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(l,u,p){super(),this.lContainer=l,this.hostLView=u,this.templateTNode=p}get length(){return this.lContainer.length-m.Y20}at(l){return this.getLView(l)[m.SKP].$implicit}attach(l,u){const p=u[m.tcA];this.needsIndexUpdate||=l!==this.length,Co(this.lContainer,u,l,eo(this.templateTNode,p)),function k1(a,l){if(a.length<=m.Y20)return;const p=a[m.Y20+l],f=p?p[m.Isx]:void 0;p&&f&&f.detachedLeaveAnimationFns&&f.detachedLeaveAnimationFns.length>0&&(function os(a,l){const u=a.get(ua);if(l.detachedLeaveAnimationFns){for(const p of l.detachedLeaveAnimationFns)u.queue.delete(p);l.detachedLeaveAnimationFns=void 0}}(p[m.YEL],f),as.delete(p[m.ID]),f.detachedLeaveAnimationFns=void 0)}(this.lContainer,l)}detach(l){return this.needsIndexUpdate||=l!==this.length-1,function Kb(a,l){if(a.length<=m.Y20)return;const p=a[m.Y20+l],f=p?p[m.Isx]:void 0;f&&f.leave&&f.leave.size>0&&(f.detachedLeaveAnimationFns=[])}(this.lContainer,l),function _1(a,l){return ds(a,l)}(this.lContainer,l)}create(l,u){return dl(this.hostLView,this.templateTNode,new v1(this.lContainer,u,l),{dehydratedView:null})}destroy(l){ss(l[m.eDl],l)}updateValue(l,u){this.getLView(l)[m.SKP].$implicit=u}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let l=0;l<this.length;l++)this.getLView(l)[m.SKP].$index=l}getLView(l){return function zb(a,l){return LS(a,l)}(this.lContainer,l)}}function Ll(a,l){return a[l]}function Yb(a,l){return(0,m.XRZ)(a,l)}function Ou(a,l,u){const p=(0,m.OAn)();return Oi(p,(0,m.xbp)(),l)&&((0,m.klJ)(),cl((0,m.CpD)(),p,a,l,p[m.GpT],u)),Ou}function Rp(a,l,u,p,f){Zc(l,a,u,f?"class":"style",p)}function Lp(a,l,u,p){const f=(0,m.OAn)(),y=f[m.eDl],b=a+m.Yw1,A=y.firstCreatePass?Uf(b,f,2,l,Qc,(0,m.ckz)(),u,p):y.data[b];if(dr(A,f,a,l,Qb),(0,m.yoD)(A)){const P=f[m.eDl];lh(P,f,A),bc(P,A,f)}return null!=p&&ir(f,A),Lp}function Nl(){const a=(0,m.klJ)(),u=uh((0,m.Mx4)());return a.firstCreatePass&&Wf(a,u),(0,m.UhH)(u)&&(0,m.krE)(),(0,m.N79)(),null!=u.classesWithoutHost&&function _n(a){return!!(8&a.flags)}(u)&&Rp(a,u,(0,m.OAn)(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function Vi(a){return!!(16&a.flags)}(u)&&Rp(a,u,(0,m.OAn)(),u.stylesWithoutHost,!1),Nl}function Xb(a,l,u,p){return Lp(a,l,u,p),Nl(),Xb}function Fl(a,l,u,p){const f=(0,m.OAn)(),y=f[m.eDl],b=a+m.Yw1,A=y.firstCreatePass?dP(b,y,2,l,u,p):y.data[b];return dr(A,f,a,l,Qb),null!=p&&ir(f,A),Fl}function Np(){const l=uh((0,m.Mx4)());return(0,m.UhH)(l)&&(0,m.krE)(),(0,m.N79)(),Np}function Bu(a,l,u,p){return Fl(a,l,u,p),Np(),Bu}let Qb=(a,l,u,p,f)=>((0,m.m7n)(!0),ns(l[m.GpT],p,(0,m.UaU)()));function Ol(a,l,u){const p=(0,m.OAn)(),f=p[m.eDl],y=a+m.Yw1,b=f.firstCreatePass?Uf(y,p,8,"ng-container",Qc,(0,m.ckz)(),l,u):f.data[y];if(dr(b,p,a,"ng-container",Gu),(0,m.yoD)(b)){const A=p[m.eDl];lh(A,p,b),bc(A,b,p)}return null!=u&&ir(p,b),Ol}function $u(){const a=(0,m.klJ)(),u=uh((0,m.Mx4)());return a.firstCreatePass&&Wf(a,u),$u}function Zb(a,l,u){const p=(0,m.OAn)(),f=p[m.eDl],y=a+m.Yw1,b=f.firstCreatePass?dP(y,f,8,"ng-container",l,u):f.data[y];return dr(b,p,a,"ng-container",Gu),null!=u&&ir(p,b),Zb}function Op(){return uh((0,m.Mx4)()),$u}let Gu=(a,l,u,p,f)=>((0,m.m7n)(!0),Bc(l[m.GpT],""));function Qk(){return(0,m.OAn)()}const xs=void 0;var ev=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202fa","h:mm:ss\u202fa","h:mm:ss\u202fa z","h:mm:ss\u202fa zzzz"],["{1}, {0}",xs,xs,xs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function w1(a){const l=Math.floor(Math.abs(a)),u=a.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let Bl={};function tv(a){const l=function T1(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=$p(l);if(u)return u;const p=l.split("-")[0];if(u=$p(p),u)return u;if("en"===p)return ev;throw new m.buA(701,!1)}function t_(a){return tv(a)[Fo.PluralCase]}function $p(a){return a in Bl||(Bl[a]=m.laP.ng&&m.laP.ng.common&&m.laP.ng.common.locales&&m.laP.ng.common.locales[a]),Bl[a]}var Fo=function(a){return a[a.LocaleId=0]="LocaleId",a[a.DayPeriodsFormat=1]="DayPeriodsFormat",a[a.DayPeriodsStandalone=2]="DayPeriodsStandalone",a[a.DaysFormat=3]="DaysFormat",a[a.DaysStandalone=4]="DaysStandalone",a[a.MonthsFormat=5]="MonthsFormat",a[a.MonthsStandalone=6]="MonthsStandalone",a[a.Eras=7]="Eras",a[a.FirstDayOfWeek=8]="FirstDayOfWeek",a[a.WeekendRange=9]="WeekendRange",a[a.DateFormat=10]="DateFormat",a[a.TimeFormat=11]="TimeFormat",a[a.DateTimeFormat=12]="DateTimeFormat",a[a.NumberSymbols=13]="NumberSymbols",a[a.NumberFormats=14]="NumberFormats",a[a.CurrencyCode=15]="CurrencyCode",a[a.CurrencySymbol=16]="CurrencySymbol",a[a.CurrencyName=17]="CurrencyName",a[a.Currencies=18]="Currencies",a[a.Directionality=19]="Directionality",a[a.PluralCase=20]="PluralCase",a[a.ExtraData=21]="ExtraData",a}(Fo||{});const iv=["zero","one","two","few","many"],Hu="en-US",$l={marker:"element"},Gp={marker:"ICU"};var pr=function(a){return a[a.SHIFT=2]="SHIFT",a[a.APPEND_EAGERLY=1]="APPEND_EAGERLY",a[a.COMMENT=2]="COMMENT",a}(pr||{});let nv=Hu;function i_(a){"string"==typeof a&&(nv=a.toLowerCase().replace(/_/g,"-"))}let qu=0,Ds=0;let Ms=(a,l,u,p)=>((0,m.m7n)(!0),function Hp(a,l,u){const p=a[m.GpT];switch(u){case Node.COMMENT_NODE:return Bc(p,l);case Node.TEXT_NODE:return Fc(p,l);case Node.ELEMENT_NODE:return ns(p,l,null)}}(a,u,p));function qp(a,l,u,p){const f=u[m.GpT];let b,y=null;for(let A=0;A<l.length;A++){const P=l[A];if("string"==typeof P){const D=l[++A];null===u[D]&&(u[D]=Ms(u,0,P,Node.TEXT_NODE))}else if("number"==typeof P)switch(1&P){case 0:const D=Ph(P);let N,U;if(null===y&&(y=D,b=f.parentNode(p)),D===y?(N=p,U=b):(N=null,U=(0,m.IvY)(u[D])),null!==U){const Ee=jS(P);Ya(f,U,u[Ee],N,!1);const ct=ou(a,Ee);if(null!==ct&&"object"==typeof ct){const Ne=su(ct,u);null!==Ne&&qp(a,ct.create[Ne],u,u[ct.anchorIdx])}}break;case 1:const ee=l[++A],fe=l[++A];ul(f,(0,m.vaC)(P>>>1,u),null,null,ee,fe,null)}else switch(P){case Gp:const D=l[++A],N=l[++A];null===u[N]&&Ve(u[N]=Ms(u,0,D,Node.COMMENT_NODE),u);break;case $l:const U=l[++A],Z=l[++A];null===u[Z]&&Ve(u[Z]=Ms(u,0,U,Node.ELEMENT_NODE),u)}}}function r_(a,l,u,p,f){for(let y=0;y<u.length;y++){const b=u[y],A=u[++y];if(b&f){let P="";for(let D=y+1;D<=y+A;D++){const N=u[D];if("string"==typeof N)P+=N;else if("number"==typeof N)if(N<0)P+=(0,m.eFE)(l[p-N]);else{const U=N>>>2;switch(3&N){case 1:const Z=u[++D],ee=u[++D],fe=a.data[U];"string"==typeof fe?ul(l[m.GpT],l[U],null,fe,Z,P,ee):cl(fe,l,Z,P,l[m.GpT],ee);break;case 0:const Ee=l[U];null!==Ee&&Oc(l[m.GpT],Ee,P);break;case 2:I1(a,ou(a,U),l,P);break;case 3:jp(a,ou(a,U),p,l)}}}}else{const P=u[y+1];if(P>0&&!(3&~P)){const N=ou(a,P>>>2);l[N.currentCaseLViewIndex]<0&&jp(a,N,p,l)}}y+=A}}function jp(a,l,u,p){let f=p[l.currentCaseLViewIndex];if(null!==f){let y=qu;f<0&&(f=p[l.currentCaseLViewIndex]=~f,y=-1),r_(a,p,l.update[f],u,y)}}function I1(a,l,u,p){const f=function R1(a,l){let u=a.cases.indexOf(l);if(-1===u)switch(a.type){case 1:{const p=function C1(a,l){const u=t_(l)(parseInt(a,10)),p=iv[u];return void 0!==p?p:"other"}(l,function rv(){return nv}());u=a.cases.indexOf(p),-1===u&&"other"!==p&&(u=a.cases.indexOf("other"));break}case 0:u=a.cases.indexOf("other")}return-1===u?null:u}(l,p);if(su(l,u)!==f&&(Vp(a,l,u),u[l.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const b=u[l.anchorIdx];b&&qp(a,l.create[f],u,b)}}function Vp(a,l,u){let p=su(l,u);if(null!==p){const f=l.remove[p];for(let y=0;y<f.length;y++){const b=f[y];if(b>0){const A=(0,m.vaC)(b,u);null!==A&&j(u[m.GpT],A)}else Vp(a,ou(a,~b),u)}}}const Gl=/\ufffd(\d+):?\d*\ufffd/gi,sv=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,L1=/\ufffd(\d+)\ufffd/,Wp=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,lv=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,N1=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,cv=/\uE500/g;function Kp(a,l,u,p,f,y,b){const A=Qa(a,p,1,null);let P=A<<pr.SHIFT,D=(0,m.Ab)();l===D&&(D=null),null===D&&(P|=pr.APPEND_EAGERLY),b&&(P|=pr.COMMENT,function AT(a){void 0===Bm&&(Bm=a())}(VS)),f.push(P,null===y?"":y);const N=au(a,A,b?32:1,null===y?"":y,null);Ah(u,N);const U=N.index;return(0,m.iMd)(N,!1),null!==D&&l!==D&&function GT(a,l){let u=a.insertBeforeIndex;null===u?(fS(Af,Sf),u=a.insertBeforeIndex=[null,l]):((0,m.Xln)(Array.isArray(u),!0,"Expecting array here"),u.push(l))}(D,U),N}function B1(a,l,u,p,f,y,b,A){const P=A.match(Gl),N=Kp(l,u,p,b,f,P?null:A,!1).index;P&&Vu(y,A,N,null,0,null),a.push({kind:0,index:N})}function Vu(a,l,u,p,f,y){const b=a.length,A=b+1;a.push(null,null);const P=b+2,D=l.split(Gl);let N=0;for(let U=0;U<D.length;U++){const Z=D[U];if(1&U){const ee=f+parseInt(Z,10);a.push(-1-ee),N|=zp(ee)}else""!==Z&&a.push(Z)}return a.push(u<<2|(p?1:0)),p&&a.push(p,y),a[b]=N,a[A]=a.length-P,N}function dv(a){let l=0;for(let u=0;u<a.length;u++){const p=a[u];"number"==typeof p&&p<0&&l++}return l}function zp(a){return 1<<Math.min(a,31)}function Yp(a){let l,y,u="",p=0,f=!1;for(;null!==(l=lv.exec(a));)f?l[0]===`\ufffd/*${y}\ufffd`&&(p=l.index,f=!1):(u+=a.substring(p,l.index+l[0].length),y=l[1],f=!0);return u+=a.slice(p),u}function Xp(a,l,u,p,f,y,b){let A=0;const P={type:y.type,currentCaseLViewIndex:Qa(l,u,1,null),anchorIdx:b,cases:[],create:[],remove:[],update:[]};(function q1(a,l,u){a.push(zp(l.mainBinding),2,-1-l.mainBinding,u<<2|2)})(p,y,b),function wf(a,l,u){const p=a.data[l];null===p?a.data[l]=u:p.value=u}(l,b,P);const D=y.values,N=[];for(let U=0;U<D.length;U++){const Z=D[U],ee=[];for(let Ee=0;Ee<Z.length;Ee++){const Je=Z[Ee];if("string"!=typeof Je){const ct=ee.push(Je)-1;Z[Ee]=`\x3c!--\ufffd${ct}\ufffd--\x3e`}}const fe=[];N.push(fe),A=H1(fe,l,P,u,p,f,y.cases[U],Z.join(""),ee)|A}A&&function pv(a,l,u){a.push(l,1,u<<2|3)}(p,A,b),a.push({kind:3,index:b,cases:N,currentCaseLViewIndex:P.currentCaseLViewIndex})}function G1(a){const l=[],u=[];let p=1,f=0;const y=Uu(a=a.replace(Wp,function(b,A,P){return p="select"===P?0:1,f=parseInt(A.slice(1),10),""}));for(let b=0;b<y.length;){let A=y[b++].trim();1===p&&(A=A.replace(/\s*(?:=)?(\w+)\s*/,"$1")),A.length&&l.push(A);const P=Uu(y[b++]);l.length>u.length&&u.push(P)}return{type:p,mainBinding:f,cases:l,values:u}}function Uu(a){if(!a)return[];let l=0;const u=[],p=[],f=/[{}]/g;let y;for(f.lastIndex=0;y=f.exec(a);){const A=y.index;if("}"==y[0]){if(u.pop(),0==u.length){const P=a.substring(l,A);Wp.test(P)?p.push(G1(P)):p.push(P),l=A+1}}else{if(0==u.length){const P=a.substring(l,A);p.push(P),l=A+1}u.push("{")}}const b=a.substring(l);return p.push(b),p}function H1(a,l,u,p,f,y,b,A,P){const D=[],N=[],U=[];u.cases.push(b),u.create.push(D),u.remove.push(N),u.update.push(U);const ee=Dc(vr()).getInertBodyElement(A),fe=is(ee)||ee;return fe?Qp(a,l,u,p,f,D,N,U,fe,y,P,0):0}function Qp(a,l,u,p,f,y,b,A,P,D,N,U){let Z=0,ee=P.firstChild;for(;ee;){const fe=Qa(l,p,1,null);switch(ee.nodeType){case Node.ELEMENT_NODE:const Ee=ee,Je=Ee.tagName.toLowerCase();if(el.hasOwnProperty(Je)){gv(y,$l,Je,D,fe),l.data[fe]=Je;const rr=Ee.attributes;for(let so=0;so<rr.length;so++){const lo=rr.item(so),hw=lo.name.toLowerCase();lo.value.match(Gl)?Hd.hasOwnProperty(hw)&&Vu(A,lo.value,fe,lo.name,0,es[hw]?za:null):mv(y,fe,lo)}const Bi={kind:1,index:fe,children:[]};a.push(Bi),Z=Qp(Bi.children,l,u,p,f,y,b,A,ee,fe,N,U+1)|Z,l_(b,fe,U)}break;case Node.TEXT_NODE:const ct=ee.textContent||"",Ne=ct.match(Gl);gv(y,null,Ne?"":ct,D,fe),l_(b,fe,U),Ne&&(Z=Vu(A,ct,fe,null,0,null)|Z),a.push({kind:0,index:fe});break;case Node.COMMENT_NODE:const Yt=L1.exec(ee.textContent||"");if(Yt){const Bi=N[parseInt(Yt[1],10)];gv(y,Gp,"",D,fe),Xp(a,l,p,f,D,Bi,fe),hv(b,fe,U)}}ee=ee.nextSibling}return Z}function l_(a,l,u){0===u&&a.push(l)}function hv(a,l,u){0===u&&(a.push(~l),a.push(l))}function gv(a,l,u,p,f){null!==l&&a.push(l),a.push(u,f,function HT(a,l,u){return a|l<<17|u<<1}(0,p,f))}function mv(a,l,u){a.push(l<<1|1,u.name,u.value)}const j1=/\[(\ufffd.+?\ufffd?)\]/,fv=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,V1=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,yv=/{([A-Z0-9_]+)}/g,U1=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,bv=/\/\*/,W1=/\d+\:(\d+)/;function u_(a,l,u=-1){const p=(0,m.klJ)(),f=(0,m.OAn)(),y=m.Yw1+a,b=(0,m.db4)(p.consts,l),A=(0,m.Ab)();p.firstCreatePass&&function O1(a,l,u,p,f,y){const b=(0,m.Ab)(),A=[],P=[],D=[[]],N=[[]];f=function $1(a,l){if(function _h(a){return-1===a}(l))return Yp(a);{const u=a.indexOf(`:${l}\ufffd`)+2+l.toString().length,p=a.search(new RegExp(`\ufffd\\/\\*\\d+:${l}\ufffd`));return Yp(a.substring(u,p))}}(f,y);const U=function F1(a){return a.replace(cv," ")}(f).split(N1);for(let Z=0;Z<U.length;Z++){let ee=U[Z];if(1&Z){const fe=47===ee.charCodeAt(0),Ee=ee.charCodeAt(fe?1:0),Je=m.Yw1+Number.parseInt(ee.substring(fe?2:1));if(fe)D.shift(),N.shift(),(0,m.iMd)((0,m.Ab)(),!1);else{const ct=Tf(a,D[0],Je);D.unshift([]),(0,m.iMd)(ct,!0);const Ne={kind:2,index:Je,children:[],type:35===Ee?0:1};N[0].push(Ne),N.unshift(Ne.children)}}else{const fe=Uu(ee);for(let Ee=0;Ee<fe.length;Ee++){let Je=fe[Ee];if(1&Ee){const ct=Je;if("object"!=typeof ct)throw new Error(`Unable to parse ICU expression in "${f}" message.`);const Yt=Kp(a,b,D[0],u,A,"",!0).index;Xp(N[0],a,u,P,l,ct,Yt)}else""!==Je&&B1(N[0],a,b,D[0],A,P,u,Je)}}}a.data[p]={create:A,update:P,ast:N[0],parentTNodeIndex:l}}(p,null===A?0:A.index,f,y,b,u),2===p.type?f[m.b5C][m.Wg1]|=32:f[m.Wg1]|=32;const P=p.data[y],N=Km(p,A===f[m.qlT]?null:A,f);(function M1(a,l,u,p){const f=a[m.GpT];for(let y=0;y<l.length;y++){const b=l[y++],D=(b&pr.APPEND_EAGERLY)===pr.APPEND_EAGERLY,N=b>>>pr.SHIFT;let U=a[N],Z=!1;null===U&&(U=a[N]=Ms(a,0,l[y],(b&pr.COMMENT)===pr.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Z=(0,m.SX7)()),D&&null!==u&&Z&&Ya(f,u,U,p,!1)}})(f,P.create,N,A&&8&A.type?f[A.index]:null),(0,m.xyx)(!0)}function Jp(){(0,m.xyx)(!1)}function Wu(a,l,u){const p=(0,m.OAn)(),f=(0,m.klJ)(),y=(0,m.Mx4)();return Ku(f,p,p[m.GpT],y,a,l,u),Wu}function Ku(a,l,u,p,f,y,b){let A=!0,P=null;if((3&p.type||b)&&(P??=io(p,l,y),Gh(p,a,l,b,u,f,y,P)&&(A=!1)),A){const D=p.outputs?.[f],N=p.hostDirectiveOutputs?.[f];if(N&&N.length)for(let U=0;U<N.length;U+=2){const Z=N[U],ee=N[U+1];P??=io(p,l,y),Pr(p,l,Z,ee,f,P)}if(D&&D.length)for(const U of D)P??=io(p,l,y),Pr(p,l,U,f,f,P)}}function p_(a=1){return(0,m.jvu)(a)}function kv(a,l){let u=null;const p=function Fm(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(!(1&u))return l[u+1]}return null}(a);for(let f=0;f<l.length;f++){const y=l[f];if("*"!==y){if(null===p?Nm(a,y,!0):aS(p,y))return f}else u=f}return u}function _v(a,l,u){return EP(a,l,u),_v}function eg(a){const l=(0,m.OAn)(),u=(0,m.klJ)(),p=(0,m.w7Z)();(0,m.GA0)(p+1);const f=Vh(u,p);if(a.dirty&&(0,m.vOT)(l)===!(2&~f.metadata.flags)){if(null===f.matches)a.reset([]);else{const y=DP(l,p);a.reset(y,di),a.notifyOnChanges()}return!0}return!1}function m_(){return iy((0,m.OAn)(),(0,m.w7Z)())}function y_(a){const l=(0,m.VPL)();return(0,m.Hh6)(l,m.Yw1+a)}function Hl(a,l){return a<<17|l<<2}function Is(a){return a>>17&32767}function zu(a){return 2|a}function ql(a){return(131068&a)>>2}function Yu(a,l){return-131069&a|l<<2}function Xu(a){return 1|a}function b_(a,l,u,p){const f=a[u+1],y=null===l;let b=p?Is(f):ql(f),A=!1;for(;0!==b&&(!1===A||y);){const D=a[b+1];Ev(a[b],l)&&(A=!0,a[b+1]=p?Xu(D):zu(D)),b=p?Is(D):ql(D)}A&&(a[u+1]=p?zu(f):Xu(f))}function Ev(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&(0,m.FRF)(a,l)>=0}const Nn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ig(a){return a.substring(Nn.key,Nn.keyEnd)}function e0(a){return a.substring(Nn.value,Nn.valueEnd)}function v_(a,l){const u=Nn.textEnd;return u===l?-1:(l=Nn.keyEnd=function Mv(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,Nn.key=l,u),jl(a,l,u))}function A_(a,l){const u=Nn.textEnd;let p=Nn.key=jl(a,l,u);return u===p?-1:(p=Nn.keyEnd=function t0(a,l,u){let p;for(;l<u&&(45===(p=a.charCodeAt(l))||95===p||(-33&p)>=65&&(-33&p)<=90||p>=48&&p<=57);)l++;return l}(a,p,u),p=rg(a,p,u),p=Nn.value=jl(a,p,u),p=Nn.valueEnd=function n0(a,l,u){let p=-1,f=-1,y=-1,b=l,A=b;for(;b<u;){const P=a.charCodeAt(b++);if(59===P)return A;34===P||39===P?A=b=ag(a,P,b,u):l===b-4&&85===y&&82===f&&76===p&&40===P?A=b=ag(a,41,b,u):P>32&&(A=b),y=f,f=p,p=-33&P}return A}(a,p,u),rg(a,p,u))}function ng(a){Nn.key=0,Nn.keyEnd=0,Nn.value=0,Nn.valueEnd=0,Nn.textEnd=a.length}function jl(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function rg(a,l,u,p){return(l=jl(a,l,u))<u&&l++,l}function ag(a,l,u,p){let f=-1,y=u;for(;y<p;){const b=a.charCodeAt(y++);if(b==l&&92!==f)return y;f=92==b&&92===f?0:b}throw new Error}function Qu(a,l,u){return sg(a,l,u,!1),Qu}function Iv(a,l){return sg(a,l,null,!0),Iv}function r0(a,l){for(let u=function Dv(a){return ng(a),A_(a,jl(a,0,Nn.textEnd))}(l);u>=0;u=A_(l,u))cg(a,ig(l),e0(l))}function og(a){S_(s0,a0,a,!0)}function a0(a,l){for(let u=function xv(a){return ng(a),v_(a,jl(a,0,Nn.textEnd))}(l);u>=0;u=v_(l,u))(0,m.ezK)(a,ig(l),!0)}function sg(a,l,u,p){const f=(0,m.OAn)(),y=(0,m.klJ)(),b=(0,m.b$O)(2);y.firstUpdatePass&&P_(y,a,b,p),l!==ti&&Oi(f,b,l)&&ug(y,y.data[(0,m._px)()],f,f[m.GpT],a,f[b+1]=function l0(a,l){return null==a||""===a||("string"==typeof l?a+=l:"object"==typeof a&&(a=(0,m.AsM)(Xr(a)))),a}(l,u),p,b)}function S_(a,l,u,p){const f=(0,m.klJ)(),y=(0,m.b$O)(2);f.firstUpdatePass&&P_(f,null,y,p);const b=(0,m.OAn)();if(u!==ti&&Oi(b,y,u)){const A=f.data[(0,m._px)()];if(dg(A,p)&&!lg(f,y)){let P=p?A.classesWithoutHost:A.stylesWithoutHost;null!==P&&(u=(0,m.n$e)(P,u||"")),Rp(f,A,b,u,p)}else!function Fv(a,l,u,p,f,y,b,A){f===ti&&(f=m.Mlv);let P=0,D=0,N=0<f.length?f[0]:null,U=0<y.length?y[0]:null;for(;null!==N||null!==U;){const Z=P<f.length?f[P+1]:void 0,ee=D<y.length?y[D+1]:void 0;let Ee,fe=null;N===U?(P+=2,D+=2,Z!==ee&&(fe=U,Ee=ee)):null===U||null!==N&&N<U?(P+=2,fe=N):(D+=2,fe=U,Ee=ee),null!==fe&&ug(a,l,u,p,fe,Ee,b,A),N=P<f.length?f[P]:null,U=D<y.length?y[D]:null}}(f,A,b,b[m.GpT],b[y+1],b[y+1]=function o0(a,l,u){if(null==u||""===u)return m.Mlv;const p=[],f=Xr(u);if(Array.isArray(f))for(let y=0;y<f.length;y++)a(p,f[y],!0);else if(f instanceof Set)for(const y of f)a(p,y,!0);else if("object"==typeof f)for(const y in f)f.hasOwnProperty(y)&&a(p,y,f[y]);else"string"==typeof f&&l(p,f);return p}(a,l,u),p,y)}}function lg(a,l){return l>=a.expandoStartIndex}function P_(a,l,u,p){const f=a.data;if(null===f[u+1]){const y=f[(0,m._px)()],b=lg(a,u);dg(y,p)&&null===l&&!b&&(l=!1),l=function Lv(a,l,u,p){const f=(0,m.MT)(a);let y=p?l.residualClasses:l.residualStyles;if(null===f)0===(p?l.classBindings:l.styleBindings)&&(u=Rs(u=Nv(null,a,l,u,p),l.attrs,p),y=null);else{const b=l.directiveStylingLast;if(-1===b||a[b]!==f)if(u=Nv(f,a,l,u,p),null===y){let P=function k_(a,l,u){const p=u?l.classBindings:l.styleBindings;if(0!==ql(p))return a[Is(p)]}(a,l,p);void 0!==P&&Array.isArray(P)&&(P=Nv(null,a,l,P[1],p),P=Rs(P,l.attrs,p),function __(a,l,u,p){a[Is(u?l.classBindings:l.styleBindings)]=p}(a,l,p,P))}else y=function w_(a,l,u){let p;const f=l.directiveEnd;for(let y=1+l.directiveStylingLast;y<f;y++)p=Rs(p,a[y].hostAttrs,u);return Rs(p,l.attrs,u)}(a,l,p)}return void 0!==y&&(p?l.residualClasses=y:l.residualStyles=y),u}(f,y,l,p),function Z1(a,l,u,p,f,y){let b=y?l.classBindings:l.styleBindings,A=Is(b),P=ql(b);a[p]=u;let N,D=!1;if(Array.isArray(u)?(N=u[1],(null===N||(0,m.FRF)(u,N)>0)&&(D=!0)):N=u,f)if(0!==P){const Z=Is(a[A+1]);a[p+1]=Hl(Z,A),0!==Z&&(a[Z+1]=Yu(a[Z+1],p)),a[A+1]=function Q1(a,l){return 131071&a|l<<17}(a[A+1],p)}else a[p+1]=Hl(A,0),0!==A&&(a[A+1]=Yu(a[A+1],p)),A=p;else a[p+1]=Hl(P,0),0===A?A=p:a[P+1]=Yu(a[P+1],p),P=p;D&&(a[p+1]=zu(a[p+1])),b_(a,N,p,!0),b_(a,N,p,!1),function Cv(a,l,u,p,f){const y=f?a.residualClasses:a.residualStyles;null!=y&&"string"==typeof l&&(0,m.FRF)(y,l)>=0&&(u[p+1]=Xu(u[p+1]))}(l,N,a,p,y),b=Hl(A,P),y?l.classBindings=b:l.styleBindings=b}(f,y,l,u,b,p)}}function Nv(a,l,u,p,f){let y=null;const b=u.directiveEnd;let A=u.directiveStylingLast;for(-1===A?A=u.directiveStart:A++;A<b&&(y=l[A],p=Rs(p,y.hostAttrs,f),y!==a);)A++;return null!==a&&(u.directiveStylingLast=A),p}function Rs(a,l,u){const p=u?1:2;let f=-1;if(null!==l)for(let y=0;y<l.length;y++){const b=l[y];"number"==typeof b?f=b:f===p&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),(0,m.ezK)(a,b,!!u||l[++y]))}return void 0===a?null:a}function cg(a,l,u){(0,m.ezK)(a,l,Xr(u))}function s0(a,l,u){const p=String(l);""!==p&&!p.includes(" ")&&(0,m.ezK)(a,p,u)}function ug(a,l,u,p,f,y,b,A){if(!(3&l.type))return;const P=a.data,D=P[A+1],N=function J1(a){return!(1&~a)}(D)?Ju(P,l,u,f,ql(D),b):void 0;Vl(N)||(Vl(y)||function Tv(a){return!(2&~a)}(D)&&(y=Ju(P,null,u,f,A,b)),function ET(a,l,u,p,f){if(l)f?a.addClass(u,p):a.removeClass(u,p);else{let y=-1===p.indexOf("-")?void 0:jc.DashCase;null==f?a.removeStyle(u,p,y):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),y|=jc.Important),a.setStyle(u,p,f,y))}}(p,b,(0,m.vaC)((0,m._px)(),u),f,y))}function Ju(a,l,u,p,f,y){const b=null===l;let A;for(;f>0;){const P=a[f],D=Array.isArray(P),N=D?P[1]:P,U=null===N;let Z=u[f+1];Z===ti&&(Z=U?m.Mlv:void 0);let ee=U?(0,m.K7h)(Z,p):N===p?Z:void 0;if(D&&!Vl(ee)&&(ee=(0,m.K7h)(P,p)),Vl(ee)&&(A=ee,b))return A;const fe=a[f+1];f=b?Is(fe):ql(fe)}if(null!==l){let P=y?l.residualClasses:l.residualStyles;null!=P&&(A=(0,m.K7h)(P,p))}return A}function Vl(a){return void 0!==a}function dg(a,l){return!!(a.flags&(l?8:16))}function T_(a,l=""){const u=(0,m.OAn)(),p=(0,m.klJ)(),f=a+m.Yw1,y=p.firstCreatePass?Eo(p,f,1,l,null):p.data[f],b=hg(p,u,y,l,a);u[f]=b,(0,m.SX7)()&&sh(p,u,b,y),(0,m.iMd)(y,!1)}let hg=(a,l,u,p,f)=>((0,m.m7n)(!0),Fc(l[m.GpT],p));function E_(a,l){let u=!1,p=(0,m.c$7)();for(let y=1;y<l.length;y+=2)u=Oi(a,p++,l[y])||u;if((0,m.Kw3)(p),!u)return ti;let f=l[0];for(let y=1;y<l.length;y+=2)f+=(0,m.eFE)(l[y])+(y+1!==l.length?l[y+1]:"");return f}function pg(a,l,u,p=""){return Oi(a,(0,m.xbp)(),u)?l+(0,m.eFE)(u)+p:ti}function x_(a,l,u,p,f,y=""){const A=bs(a,(0,m.c$7)(),u,f);return(0,m.b$O)(2),A?l+(0,m.eFE)(u)+p+(0,m.eFE)(f)+y:ti}function gg(a,l,u,p,f,y,b,A=""){const D=$h(a,(0,m.c$7)(),u,f,b);return(0,m.b$O)(3),D?l+(0,m.eFE)(u)+p+(0,m.eFE)(f)+y+(0,m.eFE)(b)+A:ti}function D_(a,l,u,p,f,y,b,A,P,D=""){const U=Jr(a,(0,m.c$7)(),u,f,b,P);return(0,m.b$O)(4),U?l+(0,m.eFE)(u)+p+(0,m.eFE)(f)+y+(0,m.eFE)(b)+A+(0,m.eFE)(P)+D:ti}function mg(a,l,u,p,f,y,b,A,P,D,N,U=""){const Z=(0,m.c$7)();let ee=Jr(a,Z,u,f,b,P);return ee=Oi(a,Z+4,N)||ee,(0,m.b$O)(5),ee?l+(0,m.eFE)(u)+p+(0,m.eFE)(f)+y+(0,m.eFE)(b)+A+(0,m.eFE)(P)+D+(0,m.eFE)(N)+U:ti}function M_(a,l,u,p,f,y,b,A,P,D,N,U,Z,ee=""){const fe=(0,m.c$7)();let Ee=Jr(a,fe,u,f,b,P);return Ee=bs(a,fe+4,N,Z)||Ee,(0,m.b$O)(6),Ee?l+(0,m.eFE)(u)+p+(0,m.eFE)(f)+y+(0,m.eFE)(b)+A+(0,m.eFE)(P)+D+(0,m.eFE)(N)+U+(0,m.eFE)(Z)+ee:ti}function fg(a,l,u,p,f,y,b,A,P,D,N,U,Z,ee,fe,Ee=""){const Je=(0,m.c$7)();let ct=Jr(a,Je,u,f,b,P);return ct=$h(a,Je+4,N,Z,fe)||ct,(0,m.b$O)(7),ct?l+(0,m.eFE)(u)+p+(0,m.eFE)(f)+y+(0,m.eFE)(b)+A+(0,m.eFE)(P)+D+(0,m.eFE)(N)+U+(0,m.eFE)(Z)+ee+(0,m.eFE)(fe)+Ee:ti}function Ov(a,l,u,p,f,y,b,A,P,D,N,U,Z,ee,fe,Ee,Je,ct=""){const Ne=(0,m.c$7)();let Yt=Jr(a,Ne,u,f,b,P);return Yt=Jr(a,Ne+4,N,Z,fe,Je)||Yt,(0,m.b$O)(8),Yt?l+(0,m.eFE)(u)+p+(0,m.eFE)(f)+y+(0,m.eFE)(b)+A+(0,m.eFE)(P)+D+(0,m.eFE)(N)+U+(0,m.eFE)(Z)+ee+(0,m.eFE)(fe)+Ee+(0,m.eFE)(Je)+ct:ti}function Bv(a){return Ul("",a),Bv}function Ul(a,l,u){const p=(0,m.OAn)(),f=pg(p,a,l,u);return f!==ti&&Na(p,(0,m._px)(),f),Ul}function $v(a,l,u,p,f){const y=(0,m.OAn)(),b=x_(y,a,l,u,p,f);return b!==ti&&Na(y,(0,m._px)(),b),$v}function Na(a,l,u){const p=(0,m.vaC)(l,a);Oc(a[m.GpT],p,u)}function Gv(a,l,u){Cy(l)&&(l=l());const p=(0,m.OAn)();return Oi(p,(0,m.xbp)(),l)&&((0,m.klJ)(),cl((0,m.CpD)(),p,a,l,p[m.GpT],u)),Gv}function Sg(a,l){const u=Cy(a);return u&&a.set(l),u}function Zu(a,l){const u=(0,m.OAn)(),p=(0,m.klJ)(),f=(0,m.Mx4)();return Ku(p,u,u[m.GpT],f,a,l),Zu}const N_={};function kg(a,l,u){const p=(0,m.klJ)();p.firstCreatePass&&B_(l,p.data,p.blueprint,(0,m.JlV)(a),u)}function B_(a,l,u,p,f){if(a=(0,m.nl4)(a),Array.isArray(a))for(let y=0;y<a.length;y++)B_(a[y],l,u,p,f);else{const y=(0,m.klJ)(),b=(0,m.OAn)(),A=(0,m.Mx4)();let P=(0,m.Y3W)(a)?a:(0,m.nl4)(a.provide);const D=(0,m.Rc9)(a),N=1048575&A.providerIndexes,U=A.directiveStart,Z=A.providerIndexes>>20;if((0,m.Y3W)(a)||!a.multi){const ee=new Ot(D,f,ys,null),fe=td(P,l,f?N:N+Z,U);-1===fe?(fn(Hi(A,b),y,P),ed(y,a,l.length),l.push(P),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),u.push(ee),b.push(ee)):(u[fe]=ee,b[fe]=ee)}else{const ee=td(P,l,N+Z,U),fe=td(P,l,N,N+Z),Je=fe>=0&&u[fe];if(f&&!Je||!f&&!(ee>=0&&u[ee])){fn(Hi(A,b),y,P);const ct=function y0(a,l,u,p,f){const b=new Ot(a,u,ys,null);return b.multi=[],b.index=l,b.componentProviders=0,$_(b,f,p&&!u),b}(f?f0:Wv,u.length,f,p,D);!f&&Je&&(u[fe].providerFactory=ct),ed(y,a,l.length,0),l.push(P),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),u.push(ct),b.push(ct)}else ed(y,a,ee>-1?ee:fe,$_(u[f?fe:ee],D,!f&&p));!f&&p&&Je&&u[fe].componentProviders++}}}function ed(a,l,u,p){const f=(0,m.Y3W)(l),y=(0,m.MME)(l);if(f||y){const P=(y?(0,m.nl4)(l.useClass):l).prototype.ngOnDestroy;if(P){const D=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const N=D.indexOf(u);-1===N?D.push(u,[p,P]):D[N+1].push(p,P)}else D.push(u,P)}}}function $_(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function td(a,l,u,p){for(let f=u;f<p;f++)if(l[f]===a)return f;return-1}function Wv(a,l,u,p,f){return id(this.multi,[])}function f0(a,l,u,p,f){const y=this.multi;let b;if(this.providerFactory){const A=this.providerFactory.componentProviders,P=sr(p,p[m.eDl],this.providerFactory.index,f);b=P.slice(0,A),id(y,b);for(let D=A;D<P.length;D++)b.push(P[D])}else b=[],id(y,b);return b}function id(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function H_(a,l){return u=>{u.providersResolver=(p,f)=>kg(p,f?f(a):a,!1),l&&(u.viewProvidersResolver=(p,f)=>kg(p,f?f(l):l,!0))}}function _g(a){if("function"==typeof a)return a;const l=(0,m.Bqz)(a);return l.some(m.Jzi)?()=>l.map(m.nl4).map(wg):l.map(wg)}function wg(a){return qf(a)?a.ngModule:a}function j_(a,l){const u=(0,m.gxQ)()+a,p=(0,m.OAn)();return p[u]===ti?xa(p,u,l()):hu(p,u)}function Tg(a,l,u){return Cg((0,m.OAn)(),(0,m.gxQ)(),a,l,u)}function nd(a,l){const u=a[l];return u===ti?void 0:u}function Cg(a,l,u,p,f,y){const b=l+u;return Oi(a,b,f)?xa(a,b+1,y?p.call(y,f):p(f)):nd(a,b+1)}function U_(a,l,u,p,f,y,b){const A=l+u;return bs(a,A,f,y)?xa(a,A+2,b?p.call(b,f,y):p(f,y)):nd(a,A+2)}function Jv(a,l,u,p,f,y,b,A){const P=l+u;return $h(a,P,f,y,b)?xa(a,P+3,A?p.call(A,f,y,b):p(f,y,b)):nd(a,P+3)}function Zv(a,l,u,p,f,y,b,A,P){const D=l+u;return Jr(a,D,f,y,b,A)?xa(a,D+4,P?p.call(P,f,y,b,A):p(f,y,b,A)):nd(a,D+4)}function W_(a,l,u,p,f,y){let b=l+u,A=!1;for(let P=0;P<f.length;P++)Oi(a,b++,f[P])&&(A=!0);return A?xa(a,b,p.apply(y,f)):nd(a,b)}function rd(a,l){return a[m.eDl].data[l].pure}function Eg(a,l){return vh(a,l)}function Wl(a,l,u,p,f){const y=f[m.eDl];if(y!==p.tView)for(let b=m.Yw1;b<y.bindingStartIndex;b++){const A=f[b];if((0,m.A0l)(A)){(0,m.q$2)(A[m.jgP])&&Wl(a,l,u,p,A[m.jgP]);for(let P=m.Y20;P<A.length;P++)Wl(a,l,u,p,A[P])}else(0,m.q$2)(A)&&Wl(a,l,u,p,A)}else!function sA(a,l,u,p,f){const y=f[m.SKP];let b=f[m.jgP];const A=f[m.f7T],P=f[m.qlT],D=f[m.YEL].get(m.SKi,null),N=()=>{if(p.encapsulation===Nr.ShadowDom||p.encapsulation===Nr.ExperimentalIsolatedShadowDom){const fe=b.cloneNode(!1);b.replaceWith(fe),b=fe}const U=ih(u),Z=il(A,U,y,Hc(u),b,P,null,null,null,null,null);(function lA(a,l,u,p){for(let f=m.Yw1;f<a[m.eDl].bindingStartIndex;f++){const y=a[f];if(((0,m.q$2)(y)||(0,m.A0l)(y))&&y[m.K29]===l){y[m.K29]=u;break}}a[m.EJG]===l&&(a[m.EJG]=u),a[m.Yrj]===l&&(a[m.Yrj]=u),u[m.K29]=l[m.K29],l[m.K29]=null,a[p]=u})(A,f,Z,P.index),ss(f[m.eDl],f);const ee=f[m.M0L].rendererFactory;(function E0(a,l){a.componentReplaced?.(l.id)})(ee,p),Z[m.GpT]=ee.createRenderer(b,u),rh(f[m.eDl],f),function x0(a){if(null!==a.projection){for(const l of a.projection)Ei(l)&&(l.projectionNext=null,l.flags&=-3);a.projection=null}}(P),dh(U,Z,y),MS(U,Z,U.template,y)};null===D?K_(a,l,N):D.run(()=>K_(a,l,N))}(a,l,u,p,f)}function K_(a,l,u){try{u()}catch(p){if(null!==l&&p.message){const y=p.message+(p.stack?"\n"+p.stack:"");a?.hot?.send?.("angular:invalidate",{id:l,message:y,error:!0})}throw p}}const Fa={\u0275\u0275animateEnter:function wp(a){if(Sn("NgAnimateEnter"),!ws)return wp;const l=(0,m.OAn)();if(Tl(l))return wp;const u=(0,m.Mx4)();return Cl(u,l),Es(El(l),u,()=>function bb(a,l,u){const p=(0,m.d31)(l,a),f=a[m.GpT],y=a[m.YEL].get(m.SKi),b=kp(u),A=[],P=N=>{if(N.target!==p)return;const U=N instanceof AnimationEvent?"animationend":"transitionend";y.runOutsideAngular(()=>{f.listen(p,U,D)})},D=N=>{N.target===p&&function n1(a,l,u){const p=Lo.get(l);if(a.target===l&&p&&Nk(a,l)){a.stopImmediatePropagation();for(const f of p.classList)u.removeClass(l,f);Mu(l)}}(N,p,f)};if(b&&b.length>0){y.runOutsideAngular(()=>{A.push(f.listen(p,"animationstart",P)),A.push(f.listen(p,"transitionstart",P))}),function e1(a,l,u){const p=Lo.get(a);if(p){for(const f of l)p.classList.push(f);for(const f of u)p.cleanupFns.push(f)}else Lo.set(a,{classList:l,cleanupFns:u})}(p,b,A);for(const N of b)f.addClass(p,N);y.runOutsideAngular(()=>{requestAnimationFrame(()=>{if(Hm(p,Ts,ws),!Ts.has(p)){for(const N of b)f.removeClass(p,N);Mu(p)}})})}}(l,u,a)),To(l[m.YEL]),ol(l[m.YEL],El(l)),wp},\u0275\u0275animateEnterListener:function Dl(a){if(Sn("NgAnimateEnter"),!ws)return Dl;const l=(0,m.OAn)();if(Tl(l))return Dl;const u=(0,m.Mx4)();return Cl(u,l),Es(El(l),u,()=>function r1(a,l,u){const p=(0,m.d31)(l,a);u.call(a[m.SKP],{target:p,animationComplete:t1})}(l,u,a)),To(l[m.YEL]),ol(l[m.YEL],El(l)),Dl},\u0275\u0275animateLeave:function Ml(a){if(Sn("NgAnimateLeave"),!ws)return Ml;const l=(0,m.OAn)();if(Tl(l))return Ml;const p=(0,m.Mx4)();return Cl(p,l),Es(Cs(l),p,()=>function a1(a,l,u){const{promise:p,resolve:f}=zy(),y=(0,m.d31)(l,a),b=a[m.GpT],A=a[m.YEL].get(m.SKi);as.add(a[m.ID]),(Cs(a).get(l.index).resolvers??=[]).push(f);const P=kp(u);return P&&P.length>0?function vb(a,l,u,p,f,y){!function i1(a,l){if(!ws)return;const u=Lo.get(a);if(u&&u.classList.length>0&&function fb(a,l){for(const u of l)if(a.classList.contains(u))return!0;return!1}(a,u.classList))for(const p of u.classList)l.removeClass(a,p);Mu(a)}(a,f);const b=[],A=Cs(u).get(l.index)?.resolvers,P=D=>{if(D.target===a&&(D instanceof CustomEvent||Nk(D,a))){if(D.stopImmediatePropagation(),Ts.delete(a),Pp(l,a),Array.isArray(l.projection))for(const N of p)f.removeClass(a,N);_p(A,b),yb(u,l)}};y.runOutsideAngular(()=>{b.push(f.listen(a,"animationend",P)),b.push(f.listen(a,"transitionend",P))}),Lk(l,a);for(const D of p)f.addClass(a,D);y.runOutsideAngular(()=>{requestAnimationFrame(()=>{Hm(a,Ts,ws),Ts.has(a)||(Pp(l,a),_p(A,b),yb(u,l))})})}(y,l,a,P,b,A):f(),{promise:p,resolve:f}}(l,p,a)),To(l[m.YEL]),Ml},\u0275\u0275animateLeaveListener:function Ab(a){if(Sn("NgAnimateLeave"),!ws)return Ab;const l=(0,m.OAn)(),u=(0,m.Mx4)();return Cl(u,l),as.add(l[m.ID]),Es(Cs(l),u,()=>function Sb(a,l,u){const{promise:p,resolve:f}=zy(),y=(0,m.d31)(l,a),b=[],A=a[m.GpT],P=Tl(a),D=a[m.YEL].get(m.SKi),N=a[m.YEL].get(gb);(Cs(a).get(l.index).resolvers??=[]).push(f);const U=Cs(a).get(l.index)?.resolvers;if(P)xl(a,l,y,U,b);else{const Z=setTimeout(()=>xl(a,l,y,U,b),N),ee={target:y,animationComplete:()=>{xl(a,l,y,U,b),clearTimeout(Z)}};Lk(l,y),D.runOutsideAngular(()=>{b.push(A.listen(y,"animationend",()=>{xl(a,l,y,U,b),clearTimeout(Z)},{once:!0}))}),u.call(a[m.SKP],ee)}return{promise:p,resolve:f}}(l,u,a)),To(l[m.YEL]),Ab},\u0275\u0275attribute:Du,\u0275\u0275defineComponent:OP,\u0275\u0275defineDirective:GP,\u0275\u0275defineInjectable:m.jDH,\u0275\u0275defineInjector:m.G2t,\u0275\u0275defineNgModule:$P,\u0275\u0275definePipe:HP,\u0275\u0275directiveInject:ys,\u0275\u0275getInheritedFactory:$r,\u0275\u0275inject:m.KVO,\u0275\u0275injectAttribute:ve,\u0275\u0275invalidFactory:function rC(){throw new Error("invalid")},\u0275\u0275invalidFactoryDep:m.dmw,\u0275\u0275templateRefExtractor:Eg,\u0275\u0275resetView:m.Njj,\u0275\u0275HostDirectivesFeature:function VP(a){const l=u=>{const p=Array.isArray(a);null===u.hostDirectives?(u.resolveHostDirectives=JC,u.hostDirectives=p?a.map(zh):[a]):p?u.hostDirectives.unshift(...a.map(zh)):u.hostDirectives.unshift(a)};return l.ngInherit=!0,l},\u0275\u0275NgOnChangesFeature:Kt,\u0275\u0275ProvidersFeature:H_,\u0275\u0275InheritDefinitionFeature:cy,\u0275\u0275ExternalStylesFeature:function Kv(a){return l=>{a.length<1||(l.getExternalStyles=u=>a.map(f=>f+"?ngcomp"+(u?"="+encodeURIComponent(u):"")+"&e="+l.encapsulation))}},\u0275\u0275nextContext:p_,\u0275\u0275namespaceHTML:m.joV,\u0275\u0275namespaceMathML:m.By9,\u0275\u0275namespaceSVG:m.qSk,\u0275\u0275enableBindings:m.cSN,\u0275\u0275disableBindings:m.fuf,\u0275\u0275elementStart:Lp,\u0275\u0275elementEnd:Nl,\u0275\u0275element:Xb,\u0275\u0275elementContainerStart:Ol,\u0275\u0275elementContainerEnd:$u,\u0275\u0275domElement:Bu,\u0275\u0275domElementStart:Fl,\u0275\u0275domElementEnd:Np,\u0275\u0275domElementContainer:function zk(a,l,u){return Zb(a,l,u),Op(),zk},\u0275\u0275domElementContainerStart:Zb,\u0275\u0275domElementContainerEnd:Op,\u0275\u0275domTemplate:py,\u0275\u0275domListener:function h_(a,l,u){const p=(0,m.OAn)(),f=(0,m.klJ)(),y=(0,m.Mx4)();return(3&y.type||u)&&Gh(y,f,p,u,p[m.GpT],a,l,io(y,p,l)),h_},\u0275\u0275elementContainer:function Fp(a,l,u){return Ol(a,l,u),$u(),Fp},\u0275\u0275pureFunction0:j_,\u0275\u0275pureFunction1:Tg,\u0275\u0275pureFunction2:function b0(a,l,u,p){return U_((0,m.OAn)(),(0,m.gxQ)(),a,l,u,p)},\u0275\u0275pureFunction3:function V_(a,l,u,p,f){return Jv((0,m.OAn)(),(0,m.gxQ)(),a,l,u,p,f)},\u0275\u0275pureFunction4:function v0(a,l,u,p,f,y,b){return Zv((0,m.OAn)(),(0,m.gxQ)(),a,l,u,p,f,y)},\u0275\u0275pureFunction5:function Yv(a,l,u,p,f,y,b){const A=(0,m.gxQ)()+a,P=(0,m.OAn)(),D=Jr(P,A,u,p,f,y);return Oi(P,A+4,b)||D?xa(P,A+5,l(u,p,f,y,b)):hu(P,A+5)},\u0275\u0275pureFunction6:function A0(a,l,u,p,f,y,b,A){const P=(0,m.gxQ)()+a,D=(0,m.OAn)(),N=Jr(D,P,u,p,f,y);return bs(D,P+4,b,A)||N?xa(D,P+6,l(u,p,f,y,b,A)):hu(D,P+6)},\u0275\u0275pureFunction7:function Xv(a,l,u,p,f,y,b,A,P){const D=(0,m.gxQ)()+a,N=(0,m.OAn)();let U=Jr(N,D,u,p,f,y);return $h(N,D+4,b,A,P)||U?xa(N,D+7,l(u,p,f,y,b,A,P)):hu(N,D+7)},\u0275\u0275pureFunction8:function S0(a,l,u,p,f,y,b,A,P,D){const N=(0,m.gxQ)()+a,U=(0,m.OAn)(),Z=Jr(U,N,u,p,f,y);return Jr(U,N+4,b,A,P,D)||Z?xa(U,N+8,l(u,p,f,y,b,A,P,D)):hu(U,N+8)},\u0275\u0275pureFunctionV:function Qv(a,l,u){return W_((0,m.OAn)(),(0,m.gxQ)(),a,l,u)},\u0275\u0275getCurrentView:Qk,\u0275\u0275restoreView:m.eBV,\u0275\u0275listener:Wu,\u0275\u0275projection:function g_(a,l=0,u,p,f,y){const b=(0,m.OAn)(),A=(0,m.klJ)(),P=p?a+1:null;null!==P&&ro(b,A,P,p,f,y,null,u);const D=Eo(A,m.Yw1+a,16,null,u||null);null===D.projection&&(D.projection=l),(0,m.Pfq)();const U=!b[m.tcA]||(0,m.KtD)();null===b[m.b5C][m.qlT].projection[D.projection]&&null!==P?function X1(a,l,u){const p=m.Yw1+u,f=l.data[p],y=a[p];Co(y,dl(a,f,void 0,{dehydratedView:null}),0,eo(f,null))}(b,A,P):U&&!zr(D)&&function Xm(a,l,u){bS(l[m.GpT],0,l,u,Wm(a,u,l),gS(u.parent||l[m.qlT],u,l))}(A,b,D)},\u0275\u0275syntheticHostProperty:function Jk(a,l,u){const p=(0,m.OAn)();if(Oi(p,(0,m.xbp)(),l)){const y=(0,m.klJ)(),b=(0,m.CpD)();Xc(b,p,a,l,wS((0,m.MT)(y.data),b,p),u)}return Jk},\u0275\u0275syntheticHostListener:function Pv(a,l){const u=(0,m.Mx4)(),p=(0,m.OAn)(),f=(0,m.klJ)();return Ku(f,p,wS((0,m.MT)(f.data),u,p),u,a,l),Pv},\u0275\u0275pipeBind1:function tA(a,l,u){const p=a+m.Yw1,f=(0,m.OAn)(),y=(0,m.Hh6)(f,p);return rd(f,p)?Cg(f,(0,m.gxQ)(),l,y.transform,u,y):y.transform(u)},\u0275\u0275pipeBind2:function _0(a,l,u,p){const f=a+m.Yw1,y=(0,m.OAn)(),b=(0,m.Hh6)(y,f);return rd(y,f)?U_(y,(0,m.gxQ)(),l,b.transform,u,p,b):b.transform(u,p)},\u0275\u0275pipeBind3:function iA(a,l,u,p,f){const y=a+m.Yw1,b=(0,m.OAn)(),A=(0,m.Hh6)(b,y);return rd(b,y)?Jv(b,(0,m.gxQ)(),l,A.transform,u,p,f,A):A.transform(u,p,f)},\u0275\u0275pipeBind4:function w0(a,l,u,p,f,y){const b=a+m.Yw1,A=(0,m.OAn)(),P=(0,m.Hh6)(A,b);return rd(A,b)?Zv(A,(0,m.gxQ)(),l,P.transform,u,p,f,y,P):P.transform(u,p,f,y)},\u0275\u0275pipeBindV:function nA(a,l,u){const p=a+m.Yw1,f=(0,m.OAn)(),y=(0,m.Hh6)(f,p);return rd(f,p)?W_(f,(0,m.gxQ)(),l,y.transform,u,y):y.transform.apply(y,u)},\u0275\u0275projectionDef:function Y1(a){const l=(0,m.OAn)()[m.b5C][m.qlT];if(!l.projection){const p=l.projection=(0,m.WfI)(a?a.length:1,null),f=p.slice();let y=l.child;for(;null!==y;){if(128!==y.type){const b=a?kv(y,a):0;null!==b&&(f[b]?f[b].projectionNext=y:p[b]=y,f[b]=y)}y=y.next}}},\u0275\u0275domProperty:function Bp(a,l,u){const p=(0,m.OAn)();return Oi(p,(0,m.xbp)(),l)&&((0,m.klJ)(),Xc((0,m.CpD)(),p,a,l,p[m.GpT],u)),Bp},\u0275\u0275ariaProperty:function Mk(a,l){const u=(0,m.OAn)();if(Oi(u,(0,m.xbp)(),l)){const f=(0,m.klJ)(),y=(0,m.CpD)();if(Zc(y,f,u,a,l))(0,m.Qs1)(y)&&ch(u,y.index);else{const A=(0,m.d31)(y,u);ul(u[m.GpT],A,null,y.value,a,l,null)}}return Mk},\u0275\u0275property:Ou,\u0275\u0275control:function s1(a,l,u){const p=(0,m.OAn)(),f=(0,m.CpD)();Oi(p,(0,m.xbp)(),a)&&((0,m.klJ)(),cl(f,p,l,a,p[m.GpT],u)),function Ok(a,l){const u=Tp(l,a);u&&(function p1(a,l,u){if(u.classes){const p=Il(a);p.classes??={},u.state();const f=a[m.GpT],y=(0,m.d31)(l,a);for(const[b,A]of u.classes){const P=A();y1(p.classes,b,P)&&(P?f.addClass(y,b):f.removeClass(y,b))}}}(a,l,u),1024&l.flags?xp(l,a,u,"value"):2048&l.flags?xp(l,a,u,"checked"):4096&l.flags?function g1(a,l,u){const p=u.\u0275interopControl,f=Il(l),y=u.state(),b=!!(8192&a.flags),A=b?(0,m.d31)(a,l):null,P=l[m.GpT],D=y.value();Rl(f,Ru,D)&&(0,m.O8t)(()=>p.writeValue(D));for(const N of Nu){const U=y[N]?.();if(Rl(f,N,U)){const Z=Lu[N],ee=Db(a,l,Z,U);N===Hk?p.setDisabledState&&(0,m.O8t)(()=>p.setDisabledState(U)):b&&!ee&&Iu(a,P,A,N,U,Z)}}}(l,a,u):function xb(a,l,u){const p=(0,m.d31)(a,l),f=l[m.GpT],y=u.state(),b=Il(l),A=y.controlValue();Rl(b,Ru,A)&&function Rb(a,l){switch(a.type){case"checkbox":return void(a.checked=l);case"radio":return void(a.checked=l===a.value);case"number":case"range":case"datetime-local":if("number"==typeof l)return void Mp(a,l);break;case"date":case"month":case"time":case"week":if(Gk(l))return void(a.valueAsDate=l);if("number"==typeof l)return void Mp(a,l)}a.value=l}(p,A);for(const P of Nu){const D=y[P]?.();if(Rl(b,P,D)){const N=Lu[P];Iu(a,f,p,P,D,N),Db(a,l,N,D)}}}(l,a,u)),(0,m.xbp)()}(p,f)},\u0275\u0275controlCreate:function Pb(){const a=(0,m.OAn)(),l=(0,m.klJ)(),u=(0,m.Mx4)();l.firstCreatePass&&function kb(a,l,u){const p=l.inputs?.formField;if(!p||(0,m.Qs1)(l)&&p.includes(l.directiveStart+l.componentOffset))return;const f=p.find(b=>pP in u[b]);if(void 0===f)return;l.fieldIndex=f;const y=function _b(a,l){return!!l[a.fieldIndex].\u0275interopControl&&(a.flags|=4096,!0)}(l,u)||function wb(a,l){for(let u=l.directiveStart;u<l.directiveEnd;u++){const p=a.data[u];if(Cp(p,"value"))return l.flags|=1024,l.customControlIndex=u,!0;if(Cp(p,"checked"))return l.flags|=2048,l.customControlIndex=u,!0}return!1}(a,l);if(!function l1(a){return!!function d1(a){if(2!==a.type)return!1;const l=a.value;return"input"===l||"textarea"===l||"select"===l}(a)&&(a.flags|=8192,function Mb(a){if(!a.attrs||"input"!==a.value)return!1;for(let l=0;l<a.attrs.length;l+=2){const u=a.attrs[l];if(mn(u))break;if("type"===u){const p=a.attrs[l+1];return"date"===p||"datetime-local"===p||"month"===p||"number"===p||"range"===p||"time"===p||"week"===p}}return!1}(a)&&(a.flags|=16384),function Dp(a){return"select"!==a.value}(a)&&(a.flags|=32768),!0)}(l)&&!y)throw new m.buA(318,!1)}(l,u,a);const p=Tp(u,a);p&&(Sn("NgSignalForms"),1024&u.flags?$k(a,u,p,"value"):2048&u.flags?$k(a,u,p,"checked"):4096&u.flags?function Tb(a){const l=a.\u0275interopControl;l.registerOnChange(u=>a.state().setControlValue(u)),l.registerOnTouched(()=>a.state().markAsTouched())}(p):8192&u.flags&&function Cb(a,l,u){const p=(0,m.klJ)(),f=a[m.GpT],y=(0,m.d31)(l,a),b=()=>{const P=u.state();P.setControlValue(function Ib(a,l){switch(a.type){case"checkbox":return a.checked;case"number":case"range":case"datetime-local":if("number"==typeof l())return a.valueAsNumber;break;case"date":case"month":case"time":case"week":const u=l();if(Gk(u))return a.valueAsDate;if("number"==typeof u)return a.valueAsNumber}return a.value}(y,P.value))};Gh(l,p,a,void 0,f,"input",b,io(l,a,b));const A=()=>{u.state().markAsTouched()};if(Gh(l,p,a,void 0,f,"blur",A,io(l,a,A)),2===l.type&&"select"===l.value&&"function"==typeof MutationObserver){const P=function h1(a,l){const u=new MutationObserver(p=>{p.some(f=>function Eb(a){if("childList"===a.type||"characterData"===a.type){if(a.target instanceof Comment)return!1;for(const l of a.addedNodes)if(!(l instanceof Comment))return!0;for(const l of a.removedNodes)if(!(l instanceof Comment))return!0;return!1}return"attributes"===a.type&&a.target instanceof HTMLOptionElement}(f))&&(a.value=l.state().value())});return u.observe(a,{attributes:!0,attributeFilter:["value"],characterData:!0,childList:!0,subtree:!0}),u}(y,u);(0,m.B22)(p,a,P,P.disconnect)}}(a,u,p),p.registerAsBinding(function c1(a,l){const u=a.customControlIndex;return-1===u?void 0:l[u]}(u,a)))},\u0275\u0275pipe:function eA(a,l){const u=(0,m.klJ)();let p;const f=a+m.Yw1;u.firstCreatePass?(p=function P0(a,l){if(l)for(let u=l.length-1;u>=0;u--){const p=l[u];if(a===p.name)return p}}(l,u.pipeRegistry),u.data[f]=p,p.onDestroy&&(u.destroyHooks??=[]).push(f,p.onDestroy)):p=u.data[f];const y=p.factory||(p.factory=(0,m.wGu)(p.type,!0)),A=(0,m.a2B)(ys);try{const P=Tn(!1),D=y();return Tn(P),(0,m.M_e)(u,(0,m.OAn)(),f,D),D}finally{(0,m.a2B)(A)}},\u0275\u0275queryRefresh:eg,\u0275\u0275queryAdvance:function wv(a=1){(0,m.GA0)((0,m.w7Z)()+a)},\u0275\u0275viewQuery:_v,\u0275\u0275viewQuerySignal:function f_(a,l,u,p){return ry(a,EP(l,u,p)),f_},\u0275\u0275loadQuery:m_,\u0275\u0275contentQuery:function Zp(a,l,u,p){return xP(a,l,u,p),Zp},\u0275\u0275contentQuerySignal:function tg(a,l,u,p,f){return ry(l,xP(a,u,p,f)),tg},\u0275\u0275reference:y_,\u0275\u0275classMap:og,\u0275\u0275styleMap:function Rv(a){S_(cg,r0,a,!1)},\u0275\u0275styleProp:Qu,\u0275\u0275classProp:Iv,\u0275\u0275advance:nh,\u0275\u0275template:hy,\u0275\u0275conditional:function jb(a,l){Sn("NgControlFlow");const u=(0,m.OAn)(),p=(0,m.xbp)(),f=u[p]!==ti?u[p]:-1,y=-1!==f?Ll(u,m.Yw1+f):void 0;if(Oi(u,p,a)){const A=(0,G.Ht)(null);try{if(void 0!==y&&hf(y,0),-1!==a){const P=m.Yw1+a,D=Ll(u,P),N=Yb(u[m.eDl],P),U=null;Co(D,dl(u,N,l,{dehydratedView:U}),0,eo(N,U))}}finally{(0,G.Ht)(A)}}else if(void 0!==y){const A=LS(y,0);void 0!==A&&(A[m.SKP]=l)}},\u0275\u0275conditionalCreate:function Hb(a,l,u,p,f,y,b,A){Sn("NgControlFlow");const P=(0,m.OAn)(),D=(0,m.klJ)();return ro(P,D,a,l,u,p,f,(0,m.db4)(D.consts,y),256,b,A),qb},\u0275\u0275conditionalBranchCreate:qb,\u0275\u0275defer:Sp,\u0275\u0275deferWhen:xk,\u0275\u0275deferOnIdle:function KE(){on(0,(0,m.OAn)(),(0,m.Mx4)())&&yp(Zh)},\u0275\u0275deferOnImmediate:function rb(){const a=(0,m.OAn)(),l=(0,m.Mx4)();on(0,a,l)&&(null===Ln(a[m.eDl],l).loadingTmplIndex&&ks(a,l),oo(0,a,l))},\u0275\u0275deferOnTimer:function YE(a){on(0,(0,m.OAn)(),(0,m.Mx4)())&&yp(ep(a))},\u0275\u0275deferOnHover:function sb(a,l){const u=(0,m.OAn)(),p=(0,m.Mx4)();on(0,u,p)&&(ks(u,p),Ps(u,p,a,l,Pd,()=>oo(0,u,p),0))},\u0275\u0275deferOnInteraction:function ub(a,l){const u=(0,m.OAn)(),p=(0,m.Mx4)();on(0,u,p)&&(ks(u,p),Ps(u,p,a,l,fo,()=>oo(0,u,p),0))},\u0275\u0275deferOnViewport:function hb(a,l,u){const p=(0,m.OAn)(),f=(0,m.Mx4)();on(0,p,f)&&(ks(p,f),Ps(p,f,a,l,by,()=>oo(0,p,f),0,u))},\u0275\u0275deferPrefetchWhen:function tb(a){const l=(0,m.OAn)(),u=(0,m.CpD)();if(on(1,l,u)&&Oi(l,(0,m.xbp)(),a)){const f=(0,G.Ht)(null);try{const y=!!a,A=Ln(l[m.eDl],u);!0===y&&A.loadingState===pn.NOT_STARTED&&Tu(A,l,u)}finally{(0,G.Ht)(f)}}},\u0275\u0275deferPrefetchOnIdle:function nb(){on(1,(0,m.OAn)(),(0,m.Mx4)())&&_k(Zh)},\u0275\u0275deferPrefetchOnImmediate:function Dk(){const a=(0,m.OAn)(),l=(0,m.Mx4)();if(!on(1,a,l))return;const p=Ln(a[m.eDl],l);p.loadingState===pn.NOT_STARTED&&Cu(p,a,l)},\u0275\u0275deferPrefetchOnTimer:function ob(a){on(1,(0,m.OAn)(),(0,m.Mx4)())&&_k(ep(a))},\u0275\u0275deferPrefetchOnHover:function lb(a,l){const u=(0,m.OAn)(),p=(0,m.Mx4)();if(!on(1,u,p))return;const y=Ln(u[m.eDl],p);y.loadingState===pn.NOT_STARTED&&Ps(u,p,a,l,Pd,()=>Tu(y,u,p),1)},\u0275\u0275deferPrefetchOnInteraction:function db(a,l){const u=(0,m.OAn)(),p=(0,m.Mx4)();if(!on(1,u,p))return;const y=Ln(u[m.eDl],p);y.loadingState===pn.NOT_STARTED&&Ps(u,p,a,l,fo,()=>Tu(y,u,p),1)},\u0275\u0275deferPrefetchOnViewport:function JE(a,l,u){const p=(0,m.OAn)(),f=(0,m.Mx4)();if(!on(1,p,f))return;const b=Ln(p[m.eDl],f);b.loadingState===pn.NOT_STARTED&&Ps(p,f,a,l,by,()=>Tu(b,p,f),1,u)},\u0275\u0275deferHydrateWhen:function WE(a){const l=(0,m.OAn)(),u=(0,m.CpD)();if(!on(2,l,u))return;const p=(0,m.xbp)();if(La((0,m.klJ)(),u).set(6,null),Oi(l,p,a)){const b=l[m.YEL],A=(0,G.Ht)(null);try{1==!!a&&_s(b,hr(l,u)[6])}finally{(0,G.Ht)(A)}}},\u0275\u0275deferHydrateNever:function ib(){const a=(0,m.OAn)(),l=(0,m.Mx4)();on(2,a,l)&&La((0,m.klJ)(),l).set(7,null)},\u0275\u0275deferHydrateOnIdle:function zE(){const a=(0,m.OAn)(),l=(0,m.Mx4)();on(2,a,l)&&(La((0,m.klJ)(),l).set(0,null),bp(Zh,a,l))},\u0275\u0275deferHydrateOnImmediate:function ab(){const a=(0,m.OAn)(),l=(0,m.Mx4)();on(2,a,l)&&(La((0,m.klJ)(),l).set(1,null),_s(a[m.YEL],hr(a,l)[6]))},\u0275\u0275deferHydrateOnTimer:function XE(a){const l=(0,m.OAn)(),u=(0,m.Mx4)();on(2,l,u)&&(La((0,m.klJ)(),u).set(5,{type:5,delay:a}),bp(ep(a),l,u))},\u0275\u0275deferHydrateOnHover:function cb(){const a=(0,m.OAn)(),l=(0,m.Mx4)();on(2,a,l)&&La((0,m.klJ)(),l).set(4,null)},\u0275\u0275deferHydrateOnInteraction:function QE(){const a=(0,m.OAn)(),l=(0,m.Mx4)();on(2,a,l)&&La((0,m.klJ)(),l).set(3,null)},\u0275\u0275deferHydrateOnViewport:function pb(a){const l=(0,m.OAn)(),u=(0,m.Mx4)();on(2,l,u)&&La((0,m.klJ)(),u).set(2,a?{type:2,intersectionObserverOptions:a}:null)},\u0275\u0275deferEnableTimerScheduling:function gE(a,l,u,p){const f=a.consts;null!=u&&(l.placeholderBlockConfig=(0,m.db4)(f,u)),null!=p&&(l.loadingBlockConfig=(0,m.db4)(f,p)),null===ky&&(ky=lk)},\u0275\u0275repeater:function P1(a){const l=(0,G.Ht)(null),u=(0,m._px)();try{const p=(0,m.OAn)(),f=p[m.eDl],y=p[u],b=u+1,A=Ll(p,b);if(void 0===y.liveCollection){const D=Yb(f,b);y.liveCollection=new Wb(A,p,D)}else y.liveCollection.reset();const P=y.liveCollection;if(function b1(a,l,u,p){let f,y,b=0,A=a.length-1;if(Array.isArray(l)){(0,G.Ht)(p);let D=l.length-1;for((0,G.Ht)(null);b<=A&&b<=D;){const N=a.at(b),U=l[b],Z=Gb(b,N,b,U,u);if(0!==Z){Z<0&&a.updateValue(b,U),b++;continue}const ee=a.at(A),fe=l[D],Ee=Gb(A,ee,D,fe,u);if(0!==Ee){Ee<0&&a.updateValue(A,fe),A--,D--;continue}const Je=u(b,N),ct=u(A,ee),Ne=u(b,U);if(Object.is(Ne,ct)){const Yt=u(D,fe);Object.is(Yt,Je)?(a.swap(b,A),a.updateValue(A,fe),D--,A--):a.move(A,b),a.updateValue(b,U),b++;continue}if(f??=new Wk,y??=Ip(a,b,A,u),Fu(a,f,b,Ne))a.updateValue(b,U),b++,A++;else if(y.has(Ne))f.set(Je,a.detach(b)),A--;else{const Yt=a.create(b,l[b]);a.attach(b,Yt),b++,A++}}for(;b<=D;)Uk(a,f,u,b,l[b]),b++}else if(null!=l){(0,G.Ht)(p);const D=l[Symbol.iterator]();(0,G.Ht)(null);let N=D.next();for(;!N.done&&b<=A;){const U=a.at(b),Z=N.value,ee=Gb(b,U,b,Z,u);if(0!==ee)ee<0&&a.updateValue(b,Z),b++,N=D.next();else{f??=new Wk,y??=Ip(a,b,A,u);const fe=u(b,Z);if(Fu(a,f,b,fe))a.updateValue(b,Z),b++,A++,N=D.next();else if(y.has(fe)){const Ee=u(b,U);f.set(Ee,a.detach(b)),A--}else a.attach(b,a.create(b,Z)),b++,A++,N=D.next()}}for(;!N.done;)Uk(a,f,u,a.length,N.value),N=D.next()}for(;b<=A;)a.destroy(a.detach(A--));f?.forEach(D=>{a.destroy(D)})}(P,a,y.trackByFn,l),P.updateIndexes(),y.hasEmptyBlock){const D=(0,m.xbp)(),N=0===P.length;if(Oi(p,D,N)){const U=u+2,Z=Ll(p,U);if(N){const ee=Yb(f,U),fe=null;Co(Z,dl(p,ee,void 0,{dehydratedView:fe}),0,eo(ee,fe))}else f.firstUpdatePass&&yl(Z),hf(Z,0)}}}finally{(0,G.Ht)(l)}},\u0275\u0275repeaterCreate:function S1(a,l,u,p,f,y,b,A,P,D,N,U,Z){Sn("NgControlFlow");const ee=(0,m.OAn)(),fe=(0,m.klJ)(),Ee=void 0!==P,Je=(0,m.OAn)(),ct=A?b.bind(Je[m.b5C][m.SKP]):b,Ne=new Ub(Ee,ct);Je[m.Yw1+a]=Ne,ro(ee,fe,a+1,l,u,p,f,(0,m.db4)(fe.consts,y),256),Ee&&ro(ee,fe,a+2,P,D,N,U,(0,m.db4)(fe.consts,Z),512)},\u0275\u0275repeaterTrackByIndex:function Vb(a){return a},\u0275\u0275repeaterTrackByIdentity:function A1(a,l){return l},\u0275\u0275componentInstance:function o1(){return(0,m.OAn)()[m.b5C][m.SKP]},\u0275\u0275text:T_,\u0275\u0275textInterpolate:Bv,\u0275\u0275textInterpolate1:Ul,\u0275\u0275textInterpolate2:$v,\u0275\u0275textInterpolate3:function yg(a,l,u,p,f,y,b){const A=(0,m.OAn)(),P=gg(A,a,l,u,p,f,y,b);return P!==ti&&Na(A,(0,m._px)(),P),yg},\u0275\u0275textInterpolate4:function I_(a,l,u,p,f,y,b,A,P){const D=(0,m.OAn)(),N=D_(D,a,l,u,p,f,y,b,A,P);return N!==ti&&Na(D,(0,m._px)(),N),I_},\u0275\u0275textInterpolate5:function bg(a,l,u,p,f,y,b,A,P,D,N){const U=(0,m.OAn)(),Z=mg(U,a,l,u,p,f,y,b,A,P,D,N);return Z!==ti&&Na(U,(0,m._px)(),Z),bg},\u0275\u0275textInterpolate6:function R_(a,l,u,p,f,y,b,A,P,D,N,U,Z){const ee=(0,m.OAn)(),fe=M_(ee,a,l,u,p,f,y,b,A,P,D,N,U,Z);return fe!==ti&&Na(ee,(0,m._px)(),fe),R_},\u0275\u0275textInterpolate7:function vg(a,l,u,p,f,y,b,A,P,D,N,U,Z,ee,fe){const Ee=(0,m.OAn)(),Je=fg(Ee,a,l,u,p,f,y,b,A,P,D,N,U,Z,ee,fe);return Je!==ti&&Na(Ee,(0,m._px)(),Je),vg},\u0275\u0275textInterpolate8:function L_(a,l,u,p,f,y,b,A,P,D,N,U,Z,ee,fe,Ee,Je){const ct=(0,m.OAn)(),Ne=Ov(ct,a,l,u,p,f,y,b,A,P,D,N,U,Z,ee,fe,Ee,Je);return Ne!==ti&&Na(ct,(0,m._px)(),Ne),L_},\u0275\u0275textInterpolateV:function Ag(a){const l=(0,m.OAn)(),u=E_(l,a);return u!==ti&&Na(l,(0,m._px)(),u),Ag},\u0275\u0275i18n:function K1(a,l,u){u_(a,l,u),Jp()},\u0275\u0275i18nAttributes:function Av(a,l){const u=(0,m.klJ)(),p=(0,m.db4)(u.consts,l);!function uv(a,l,u){const f=(0,m.Mx4)().index,y=[];if(a.firstCreatePass&&null===a.data[l]){for(let b=0;b<u.length;b+=2){const A=u[b],P=u[b+1];if(""!==P){if(sv.test(P))throw new Error(`ICU expressions are not supported in attributes. Message: "${P}".`);Vu(y,P,f,A,dv(y),null)}}a.data[l]=y}}(u,a+m.Yw1,p)},\u0275\u0275i18nExp:function d_(a){return function x1(a){a&&(qu|=1<<Math.min(Ds,31)),Ds++}(Oi((0,m.OAn)(),(0,m.xbp)(),a)),d_},\u0275\u0275i18nStart:u_,\u0275\u0275i18nEnd:Jp,\u0275\u0275i18nApply:function Sv(a){!function av(a,l,u){if(Ds>0){const p=a.data[u];r_(a,l,Array.isArray(p)?p:p.update,(0,m.c$7)()-Ds-1,qu)}qu=0,Ds=0}((0,m.klJ)(),(0,m.OAn)(),a+m.Yw1)},\u0275\u0275i18nPostprocess:function z1(a,l={}){return function vv(a,l={}){let u=a;if(j1.test(a)){const p={},f=[0];u=u.replace(fv,(y,b,A)=>{const P=b||A,D=p[P]||[];if(D.length||(P.split("|").forEach(Ee=>{const Je=Ee.match(W1),ct=Je?parseInt(Je[1],10):0,Ne=bv.test(Ee);D.push([ct,Ne,Ee])}),p[P]=D),!D.length)throw new Error(`i18n postprocess: unmatched placeholder - ${P}`);const N=f[f.length-1];let U=0;for(let Ee=0;Ee<D.length;Ee++)if(D[Ee][0]===N){U=Ee;break}const[Z,ee,fe]=D[U];return ee?f.pop():N!==Z&&f.push(Z),D.splice(U,1),fe})}return Object.keys(l).length&&(u=u.replace(V1,(p,f,y,b,A,P)=>l.hasOwnProperty(y)?`${f}${l[y]}${P}`:p),u=u.replace(yv,(p,f)=>l.hasOwnProperty(f)?l[f]:p),u=u.replace(U1,(p,f)=>{if(l.hasOwnProperty(f)){const y=l[f];if(!y.length)throw new Error(`i18n postprocess: unmatched ICU - ${p} with key: ${f}`);return y.shift()}return p})),u}(a,l)},\u0275\u0275resolveWindow:function De(a){return a.ownerDocument.defaultView},\u0275\u0275resolveDocument:function zd(a){return a.ownerDocument},\u0275\u0275resolveBody:function Yd(a){return a.ownerDocument.body},\u0275\u0275setComponentScope:function q_(a,l,u){const p=a.\u0275cmp;p.directiveDefs=Kh(l,BP),p.pipeDefs=Kh(u,m.oyA)},\u0275\u0275setNgModuleScope:function zv(a,l){return de(()=>{const u=(0,m.WbQ)(a);u.declarations=_g(l.declarations||m.Mlv),u.imports=_g(l.imports||m.Mlv),u.exports=_g(l.exports||m.Mlv),l.bootstrap&&(u.bootstrap=_g(l.bootstrap)),du.registerNgModule(a,l)})},\u0275\u0275registerNgModuleType:RP,\u0275\u0275getComponentDepsFactory:function rA(a,l){return()=>{try{return du.getComponentDependencies(a,l).dependencies}catch(u){throw console.error(`Computing dependencies in local compilation mode for the component "${a.name}" failed with the exception:`,u),u}}},\u0275setClassDebugInfo:function aA(a,l){const u=(0,m.xUg)(a);null!==u&&(u.debugInfo=l)},\u0275\u0275declareLet:function Pg(a){Sn("NgLet");const l=(0,m.klJ)(),u=(0,m.OAn)(),p=a+m.Yw1,f=Eo(l,p,128,null,null);return(0,m.iMd)(f,!1),(0,m.M_e)(l,u,p,N_),Pg},\u0275\u0275storeLet:function u0(a){const l=(0,m.klJ)(),u=(0,m.OAn)(),p=(0,m._px)();return(0,m.M_e)(l,u,p,a),a},\u0275\u0275readContextLet:function Hv(a){const l=(0,m.VPL)(),u=(0,m.Hh6)(l,m.Yw1+a);if(u===N_)throw new m.buA(314,!1);return u},\u0275\u0275attachSourceLocations:function d0(a,l){const u=(0,m.klJ)(),p=(0,m.OAn)(),f=p[m.GpT],y="data-ng-source-location";for(const[b,A,P,D]of l){(0,m.XRZ)(u,b+m.Yw1);const U=(0,m.vaC)(b+m.Yw1,p);U.hasAttribute(y)||f.setAttribute(U,y,`${a}@o:${A},l:${P},c:${D}`)}},\u0275\u0275interpolate:function qv(a){return Oi((0,m.OAn)(),(0,m.xbp)(),a)?(0,m.eFE)(a):ti},\u0275\u0275interpolate1:function h0(a,l,u=""){return pg((0,m.OAn)(),a,l,u)},\u0275\u0275interpolate2:function jv(a,l,u,p,f=""){return x_((0,m.OAn)(),a,l,u,p,f)},\u0275\u0275interpolate3:function p0(a,l,u,p,f,y,b=""){return gg((0,m.OAn)(),a,l,u,p,f,y,b)},\u0275\u0275interpolate4:function Vv(a,l,u,p,f,y,b,A,P=""){return D_((0,m.OAn)(),a,l,u,p,f,y,b,A,P)},\u0275\u0275interpolate5:function F_(a,l,u,p,f,y,b,A,P,D,N=""){return mg((0,m.OAn)(),a,l,u,p,f,y,b,A,P,D,N)},\u0275\u0275interpolate6:function g0(a,l,u,p,f,y,b,A,P,D,N,U,Z=""){return M_((0,m.OAn)(),a,l,u,p,f,y,b,A,P,D,N,U,Z)},\u0275\u0275interpolate7:function Uv(a,l,u,p,f,y,b,A,P,D,N,U,Z,ee,fe=""){return fg((0,m.OAn)(),a,l,u,p,f,y,b,A,P,D,N,U,Z,ee,fe)},\u0275\u0275interpolate8:function O_(a,l,u,p,f,y,b,A,P,D,N,U,Z,ee,fe,Ee,Je=""){return Ov((0,m.OAn)(),a,l,u,p,f,y,b,A,P,D,N,U,Z,ee,fe,Ee,Je)},\u0275\u0275interpolateV:function m0(a){return E_((0,m.OAn)(),a)},\u0275\u0275sanitizeHtml:function Fi(a){const l=$c();return l?Tc(l.sanitize(wt.HTML,a)||""):Ta(a,"HTML")?Tc(Xr(a)):function xm(a,l){let u=null;try{tl=tl||Dc(a);let p=l?String(l):"";u=tl.getInertBodyElement(p);let f=5,y=p;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,p=y,y=u.innerHTML,u=tl.getInertBodyElement(p)}while(p!==y);return Rn((new ZA).sanitizeChildren(is(u)||u))}finally{if(u){const p=is(u)||u;for(;p.firstChild;)p.firstChild.remove()}}}(vr(),(0,m.eFE)(a))},\u0275\u0275sanitizeStyle:function Xa(a){const l=$c();return l?l.sanitize(wt.STYLE,a)||"":Ta(a,"Style")?Xr(a):(0,m.eFE)(a)},\u0275\u0275sanitizeResourceUrl:eS,\u0275\u0275sanitizeScript:function tT(a){const l=$c();if(l)return Qs(l.sanitize(wt.SCRIPT,a)||"");if(Ta(a,"Script"))return Qs(Xr(a));throw new m.buA(905,!1)},\u0275\u0275validateAttribute:function cT(a,l,u){const p=l.toLowerCase(),f=u.toLowerCase();if(!lT[p]?.has(f))return a;const y=(0,m.CpD)();if(2!==y.type)return a;const b=(0,m.OAn)();throw"iframe"===p&&function ki(a){const l=(0,m.OAn)();a.src="",a.srcdoc=Rn(""),j(l[m.GpT],a)}((0,m.d31)(y,b)),new m.buA(-910,!1)},\u0275\u0275sanitizeUrl:Im,\u0275\u0275sanitizeUrlOrResourceUrl:function sT(a,l,u){return function oT(a,l){return"src"===l&&rT.has(a)||"href"===l&&aT.has(a)||"xlink:href"===l&&"script"===a?eS:Im}(l,u)(a)},\u0275\u0275trustConstantHtml:function iT(a){return Rn(a[0])},\u0275\u0275trustConstantResourceUrl:function nT(a){return function Zn(a){return _c()?.createScriptURL(a)||a}(a[0])},forwardRef:m.Rfq,resolveForwardRef:m.nl4,\u0275\u0275twoWayProperty:Gv,\u0275\u0275twoWayBindingSet:Sg,\u0275\u0275twoWayListener:Zu,\u0275\u0275replaceMetadata:function oA(a,l,u,p,f=null,y=null){const b=(0,m.xUg)(a);l.apply(null,[a,u,...p]);const{newDef:A,oldDef:P}=function C0(a,l){const u={...a};return{newDef:Object.assign(a,l,{directiveDefs:u.directiveDefs,pipeDefs:u.pipeDefs,setInput:u.setInput,type:u.type}),oldDef:u}}(b,(0,m.xUg)(a));if(a[m.CQl]=A,P.tView){const D=function X(){return vn}().values();for(const N of D)(0,m.EFk)(N)&&null===N[m.f7T]&&Wl(f,y,A,P,N)}},\u0275\u0275getReplaceMetadataURL:function T0(a,l,u){const p=`./@ng/component?c=${a}&t=${encodeURIComponent(l)}`;return new URL(p,u).href}};let Kl=null;function cA(a){null!==Kl&&(a.defaultEncapsulation!==Kl.defaultEncapsulation||a.preserveWhitespaces!==Kl.preserveWhitespaces)||(Kl=a)}const ad=[];function ew(a){return qf(a)?a.ngModule:a}const SA=oe("NgModule",a=>a,void 0,0,(a,l)=>function pA(a,l={}){(function D0(a,l){const p=(0,m.Bqz)(l.declarations||m.Mlv);let f=null;Object.defineProperty(a,m.hmW,{configurable:!0,get:()=>(null===f&&(f=je().compileNgModule(Fa,`ng:///${a.name}/\u0275mod.js`,{type:a,bootstrap:(0,m.Bqz)(l.bootstrap||m.Mlv).map(m.nl4),declarations:p.map(m.nl4),imports:(0,m.Bqz)(l.imports||m.Mlv).map(m.nl4).map(ew),exports:(0,m.Bqz)(l.exports||m.Mlv).map(m.nl4).map(ew),schemas:l.schemas?(0,m.Bqz)(l.schemas):null,id:l.id||null}),f.schemas||(f.schemas=[])),f)});let y=null;Object.defineProperty(a,m.zSs,{get:()=>{if(null===y){const A=je();y=A.compileFactory(Fa,`ng:///${a.name}/\u0275fac.js`,{name:a.name,type:a,deps:kt(a),target:A.FactoryTarget.NgModule,typeArgumentCount:0})}return y},configurable:!1});let b=null;Object.defineProperty(a,m.ONQ,{get:()=>{if(null===b){const A={name:a.name,type:a,providers:l.providers||m.Mlv,imports:[(l.imports||m.Mlv).map(m.nl4),(l.exports||m.Mlv).map(m.nl4)]};b=je().compileInjector(Fa,`ng:///${a.name}/\u0275inj.js`,A)}return b},configurable:!1})})(a,l),void 0!==l.id&&RP(a,l.id),function Y_(a,l){ad.push({moduleType:a,ngModule:l})}(a,l)}(a,l)),kA=new m.nKC("");let _A=(()=>{class a{applicationErrorHandler=(0,m.WQX)(m.ZTf);appRef=(0,m.WQX)(wu);taskService=(0,m.WQX)(m.rev);ngZone=(0,m.WQX)(m.SKi);zonelessEnabled=(0,m.WQX)(m.Evm);tracing=(0,m.WQX)(Wc,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new w.y;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(m.AbJ):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&((0,m.WQX)(m.AQb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{const u=this.taskService.add();this.runningTick||(this.cleanup(),this.zonelessEnabled&&!this.appRef.includeAllTestViews)?(this.switchToMicrotaskScheduler(),this.taskService.remove(u)):this.taskService.remove(u)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{const u=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(u)})})}notify(u){if(!this.zonelessEnabled&&5===u)return;switch(u){case 0:case 6:case 13:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 12:this.appRef.dirtyFlags|=16;break;case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;const p=this.useMicrotaskScheduler?m.uiq:m.l4E;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>p(()=>this.tick())):this.ngZone.runOutsideAngular(()=>p(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(m.AbJ+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const u=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(p){this.applicationErrorHandler(p)}finally{this.taskService.remove(u),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const u=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(u)}}static \u0275fac=function(p){return new(p||a)};static \u0275prov=(0,m.jDH)({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function wA(){return[{provide:m.hk6,useExisting:_A},{provide:m.SKi,useClass:m.myG},{provide:m.Evm,useValue:!0}]}const Bg=new m.nKC("",{factory:()=>(0,m.WQX)(Bg,{optional:!0,skipSelf:!0})||function B0(){return typeof $localize<"u"&&$localize.locale||Hu}()}),TA=new m.nKC("",{factory:()=>"USD"})},5659(Ue,ge,B){B.d(ge,{A:()=>Ht});var R=B(5401);var se=B(4713);const g=function(){try{var pe=(0,se.A)(Object,"defineProperty");return pe({},"",{}),pe}catch{}}(),me=function de(pe,et,dt){"__proto__"==et&&g?g(pe,et,{configurable:!0,enumerable:!0,value:dt,writable:!0}):pe[et]=dt};var re=B(1319),oe=Object.prototype.hasOwnProperty;const Se=function he(pe,et,dt){var qt=pe[et];(!oe.call(pe,et)||!(0,re.A)(qt,dt)||void 0===dt&&!(et in pe))&&me(pe,et,dt)},_e=function Ge(pe,et,dt,qt){var Li=!dt;dt||(dt={});for(var Di=-1,hi=et.length;++Di<hi;){var Ni=et[Di],Wn=qt?qt(dt[Ni],pe[Ni],Ni,dt,pe):void 0;void 0===Wn&&(Wn=pe[Ni]),Li?me(dt,Ni,Wn):Se(dt,Ni,Wn)}return dt};var Me=B(2662);var $e=B(6726),je=B(554),ut=B(5776);var Vt=Object.prototype.hasOwnProperty;const $i=function Ut(pe){if(!(0,je.A)(pe))return function ii(pe){var et=[];if(null!=pe)for(var dt in Object(pe))et.push(dt);return et}(pe);var et=(0,ut.A)(pe),dt=[];for(var qt in pe)"constructor"==qt&&(et||!Vt.call(pe,qt))||dt.push(qt);return dt};var Ct=B(1287);const ui=function bi(pe){return(0,Ct.A)(pe)?(0,$e.A)(pe,!0):$i(pe)};var ri=B(1860),Kt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Zi=Kt&&"object"==typeof module&&module&&!module.nodeType&&module,fi=Zi&&Zi.exports===Kt?ri.A.Buffer:void 0,Mi=fi?fi.allocUnsafe:void 0;var gt=B(4528),ni=B(5844);var St=B(563);const kn=(0,B(8992).A)(Object.getPrototypeOf,Object);var Pt=B(6032);const ye=Object.getOwnPropertySymbols?function(pe){for(var et=[];pe;)(0,St.A)(et,(0,ni.A)(pe)),pe=kn(pe);return et}:Pt.A;var We=B(7895),Ot=B(6658);const Ei=function Ii(pe){return(0,Ot.A)(pe,ui,ye)};var ji=B(1350),Vi=Object.prototype.hasOwnProperty;var wn=B(6509);const Ri=function mn(pe){var et=new pe.constructor(pe.byteLength);return new wn.A(et).set(new wn.A(pe)),et};var ar=/\w*$/;var Xn=B(6944),gr=Xn.A?Xn.A.prototype:void 0,Tn=gr?gr.valueOf:void 0;const jn=function yn(pe,et,dt){var qt=pe.constructor;switch(et){case"[object ArrayBuffer]":return Ri(pe);case"[object Boolean]":case"[object Date]":return new qt(+pe);case"[object DataView]":return function nn(pe,et){var dt=et?Ri(pe.buffer):pe.buffer;return new pe.constructor(dt,pe.byteOffset,pe.byteLength)}(pe,dt);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function Cn(pe,et){var dt=et?Ri(pe.buffer):pe.buffer;return new pe.constructor(dt,pe.byteOffset,pe.length)}(pe,dt);case"[object Map]":case"[object Set]":return new qt;case"[object Number]":case"[object String]":return new qt(pe);case"[object RegExp]":return function vi(pe){var et=new pe.constructor(pe.source,ar.exec(pe));return et.lastIndex=pe.lastIndex,et}(pe);case"[object Symbol]":return function $n(pe){return Tn?Object(Tn.call(pe)):{}}(pe)}};var $t=Object.create;const $r=function(){function pe(){}return function(et){if(!(0,je.A)(et))return{};if($t)return $t(et);pe.prototype=et;var dt=new pe;return pe.prototype=void 0,dt}}();var J=B(3744),ve=B(9377),ke=B(2661);var ot=B(778),ai=B(3340),Xt=ai.A&&ai.A.isMap;const Ai=Xt?(0,ot.A)(Xt):function Xe(pe){return(0,ke.A)(pe)&&"[object Map]"==(0,ji.A)(pe)};var _t=ai.A&&ai.A.isSet;const zt=_t?(0,ot.A)(_t):function Si(pe){return(0,ke.A)(pe)&&"[object Set]"==(0,ji.A)(pe)};var an="[object Arguments]",cn="[object Function]",In="[object Object]",st={};st[an]=st["[object Array]"]=st["[object ArrayBuffer]"]=st["[object DataView]"]=st["[object Boolean]"]=st["[object Date]"]=st["[object Float32Array]"]=st["[object Float64Array]"]=st["[object Int8Array]"]=st["[object Int16Array]"]=st["[object Int32Array]"]=st["[object Map]"]=st["[object Number]"]=st[In]=st["[object RegExp]"]=st["[object Set]"]=st["[object String]"]=st["[object Symbol]"]=st["[object Uint8Array]"]=st["[object Uint8ClampedArray]"]=st["[object Uint16Array]"]=st["[object Uint32Array]"]=!0,st["[object Error]"]=st[cn]=st["[object WeakMap]"]=!1;const Ht=function oi(pe,et,dt,qt,Li,Di){var hi,Ni=1&et,Wn=2&et,ta=4&et;if(dt&&(hi=Li?dt(pe,qt,Li,Di):dt(pe)),void 0!==hi)return hi;if(!(0,je.A)(pe))return pe;var Kn=(0,J.A)(pe);if(Kn){if(hi=function xi(pe){var et=pe.length,dt=new pe.constructor(et);return et&&"string"==typeof pe[0]&&Vi.call(pe,"index")&&(dt.index=pe.index,dt.input=pe.input),dt}(pe),!Ni)return(0,gt.A)(pe,hi)}else{var br=(0,ji.A)(pe),Gr=br==cn||"[object GeneratorFunction]"==br;if((0,ve.A)(pe))return function Ci(pe,et){if(et)return pe.slice();var dt=pe.length,qt=Mi?Mi(dt):new pe.constructor(dt);return pe.copy(qt),qt}(pe,Ni);if(br==In||br==an||Gr&&!Li){if(hi=Wn||Gr?{}:function W(pe){return"function"!=typeof pe.constructor||(0,ut.A)(pe)?{}:$r(kn(pe))}(pe),!Ni)return Wn?function qe(pe,et){return _e(pe,ye(pe),et)}(pe,function Ft(pe,et){return pe&&_e(et,ui(et),pe)}(hi,pe)):function sn(pe,et){return _e(pe,(0,ni.A)(pe),et)}(pe,function ze(pe,et){return pe&&_e(et,(0,Me.A)(et),pe)}(hi,pe))}else{if(!st[br])return Li?pe:{};hi=jn(pe,br,Ni)}}Di||(Di=new R.A);var Hr=Di.get(pe);if(Hr)return Hr;Di.set(pe,hi),zt(pe)?pe.forEach(function(Jn){hi.add(oi(Jn,et,dt,Jn,pe,Di))}):Ai(pe)&&pe.forEach(function(Jn,Rr){hi.set(Rr,oi(Jn,et,dt,Rr,pe,Di))});var qr=Kn?void 0:(ta?Wn?Ei:We.A:Wn?ui:Me.A)(pe);return function m(pe,et){for(var dt=-1,qt=null==pe?0:pe.length;++dt<qt&&!1!==et(pe[dt],dt,pe););}(qr||pe,function(Jn,Rr){qr&&(Jn=pe[Rr=Jn]),Se(hi,Rr,oi(Jn,et,dt,Rr,pe,Di))}),hi}},5722(Ue,ge,B){B.d(ge,{s:()=>R});const R="function"==typeof Symbol&&Symbol.observable||"@@observable"},5776(Ue,ge,B){B.d(ge,{A:()=>G});var R=Object.prototype;const G=function m(se){var w=se&&se.constructor;return se===("function"==typeof w&&w.prototype||R)}},5824(Ue,ge,B){B.d(ge,{Ag:()=>wi,Bg:()=>Be,EF:()=>Kt,H8:()=>ui,Ht:()=>g,JC:()=>Se,KE:()=>me,KO:()=>Ci,KZ:()=>Ft,Ny:()=>ri,O8:()=>Pt,TO:()=>ze,Wu:()=>je,XR:()=>vt,a7:()=>$i,bh:()=>w,j2:()=>gn,lh:()=>It,mC:()=>St,mK:()=>oe,n5:()=>gt,nR:()=>de,pL:()=>ne,s0:()=>at,si:()=>ii,vX:()=>Gi});let R=null,m=!1,G=1;const w=Symbol("SIGNAL");function g(ye){const qe=R;return R=ye,qe}function de(){return R}function me(){return m}const ne={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function oe(ye){if(m)throw new Error("");if(null===R)return;R.consumerOnSignalRead(ye);const qe=R.producersTail;if(void 0!==qe&&qe.producer===ye)return;let rt;const We=R.recomputing;if(We&&(rt=void 0!==qe?qe.nextProducer:R.producers,void 0!==rt&&rt.producer===ye))return R.producersTail=rt,void(rt.lastReadVersion=ye.version);const Ot=ye.consumersTail;if(void 0!==Ot&&Ot.consumer===R&&(!We||function bi(ye,qe){const rt=qe.producersTail;if(void 0!==rt){let We=qe.producers;do{if(We===ye)return!0;if(We===rt)break;We=We.nextProducer}while(void 0!==We)}return!1}(Ot,R)))return;const Ii=Ut(R),Ei={producer:ye,consumer:R,nextProducer:rt,prevConsumer:Ot,lastReadVersion:ye.version,nextConsumer:void 0};R.producersTail=Ei,void 0!==qe?qe.nextProducer=Ei:R.producers=Ei,Ii&&ht(ye,Ei)}function Se(ye){if((!Ut(ye)||ye.dirty)&&(ye.dirty||ye.lastCleanEpoch!==G)){if(!ye.producerMustRecompute(ye)&&!ii(ye))return void ze(ye);ye.producerRecomputeValue(ye),ze(ye)}}function Ge(ye){if(void 0===ye.consumers)return;const qe=m;m=!0;try{for(let rt=ye.consumers;void 0!==rt;rt=rt.nextConsumer){const We=rt.consumer;We.dirty||Me(We)}}finally{m=qe}}function _e(){return!1!==R?.consumerAllowSignalWrites}function Me(ye){ye.dirty=!0,Ge(ye),ye.consumerMarkedDirty?.(ye)}function ze(ye){ye.dirty=!1,ye.lastCleanEpoch=G}function Be(ye){return ye&&function $e(ye){ye.producersTail=void 0,ye.recomputing=!0}(ye),g(ye)}function je(ye,qe){g(qe),ye&&function ut(ye){ye.recomputing=!1;const qe=ye.producersTail;let rt=void 0!==qe?qe.nextProducer:ye.producers;if(void 0!==rt){if(Ut(ye))do{rt=Vt(rt)}while(void 0!==rt);void 0!==qe?qe.nextProducer=void 0:ye.producers=void 0}}(ye)}function ii(ye){for(let qe=ye.producers;void 0!==qe;qe=qe.nextProducer){const rt=qe.producer,We=qe.lastReadVersion;if(We!==rt.version||(Se(rt),We!==rt.version))return!0}return!1}function vt(ye){if(Ut(ye)){let qe=ye.producers;for(;void 0!==qe;)qe=Vt(qe)}ye.producers=void 0,ye.producersTail=void 0,ye.consumers=void 0,ye.consumersTail=void 0}function ht(ye,qe){const rt=ye.consumersTail,We=Ut(ye);if(void 0!==rt?(qe.nextConsumer=rt.nextConsumer,rt.nextConsumer=qe):(qe.nextConsumer=void 0,ye.consumers=qe),qe.prevConsumer=rt,ye.consumersTail=qe,!We)for(let Ot=ye.producers;void 0!==Ot;Ot=Ot.nextProducer)ht(Ot.producer,Ot)}function Vt(ye){const qe=ye.producer,rt=ye.nextProducer,We=ye.nextConsumer,Ot=ye.prevConsumer;if(ye.nextConsumer=void 0,ye.prevConsumer=void 0,void 0!==We?We.prevConsumer=Ot:qe.consumersTail=Ot,void 0!==Ot)Ot.nextConsumer=We;else if(qe.consumers=We,!Ut(qe)){let Ii=qe.producers;for(;void 0!==Ii;)Ii=Vt(Ii)}return rt}function Ut(ye){return ye.consumerIsAlwaysLive||void 0!==ye.consumers}function $i(ye){}function ui(ye,qe){return Object.is(ye,qe)}function Ft(ye,qe){const rt=Object.create(Zi);rt.computation=ye,void 0!==qe&&(rt.equal=qe);const We=()=>{if(Se(rt),oe(rt),rt.value===Kt)throw rt.error;return rt.value};return We[w]=rt,We}const wi=Symbol("UNSET"),ri=Symbol("COMPUTING"),Kt=Symbol("ERRORED"),Zi={...ne,value:wi,dirty:!0,error:null,equal:ui,kind:"computed",producerMustRecompute:ye=>ye.value===wi||ye.value===ri,producerRecomputeValue(ye){if(ye.value===ri)throw new Error("");const qe=ye.value;ye.value=ri;const rt=Be(ye);let We,Ot=!1;try{We=ye.computation(),g(null),Ot=qe!==wi&&qe!==Kt&&We!==Kt&&ye.equal(qe,We)}catch(Ii){We=Kt,ye.error=Ii}finally{je(ye,rt)}Ot?ye.value=qe:(ye.value=We,ye.version++)}};let fi=function Ti(){throw new Error};function Mi(ye){fi(ye)}function Ci(ye){fi=ye}function gt(ye,qe){const rt=Object.create(at);rt.value=ye,void 0!==qe&&(rt.equal=qe);const We=()=>function sn(ye){return oe(ye),ye.value}(rt);return We[w]=rt,[We,Ei=>gn(rt,Ei),Ei=>St(rt,Ei)]}function gn(ye,qe){_e()||Mi(ye),ye.equal(ye.value,qe)||(ye.value=qe,function kn(ye){ye.version++,function he(){G++}(),Ge(ye)}(ye))}function St(ye,qe){_e()||Mi(ye),gn(ye,qe(ye.value))}const at={...ne,equal:ui,value:void 0,kind:"signal"};function Pt(ye){const qe=g(null);try{return ye()}finally{g(qe)}}const Gi={...ne,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"};function It(ye){if(ye.dirty=!1,ye.version>0&&!ii(ye))return;ye.version++;const qe=Be(ye);try{ye.cleanup(),ye.fn()}finally{je(ye,qe)}}},5844(Ue,ge,B){B.d(ge,{A:()=>me});var G=B(6032),w=Object.prototype.propertyIsEnumerable,g=Object.getOwnPropertySymbols;const me=g?function(re){return null==re?[]:(re=Object(re),function R(re,ne){for(var oe=-1,he=null==re?0:re.length,Se=0,Ge=[];++oe<he;){var _e=re[oe];ne(_e,oe,re)&&(Ge[Se++]=_e)}return Ge}(g(re),function(ne){return w.call(re,ne)}))}:G.A},5998(Ue,ge,B){function R(m){return!!m&&"function"!=typeof m.subscribe&&"function"==typeof m.then}B.d(ge,{y:()=>R})},6032(Ue,ge,B){B.d(ge,{A:()=>m});const m=function R(){return[]}},6228(Ue,ge,B){B.d(ge,{q:()=>m});let R=(()=>{class G{constructor(w,g=G.now){this.SchedulerAction=w,this.now=g}schedule(w,g=0,de){return new this.SchedulerAction(this,w).schedule(de,g)}}return G.now=()=>Date.now(),G})();class m extends R{constructor(se,w=R.now){super(se,()=>m.delegate&&m.delegate!==this?m.delegate.now():w()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(se,w=0,g){return m.delegate&&m.delegate!==this?m.delegate.schedule(se,w,g):super.schedule(se,w,g)}flush(se){const{actions:w}=this;if(this.active)return void w.push(se);let g;this.active=!0;do{if(g=se.execute(se.state,se.delay))break}while(se=w.shift());if(this.active=!1,g){for(;se=w.shift();)se.unsubscribe();throw g}}}},6494(Ue,ge,B){B.d(ge,{Vw:()=>g,ig:()=>se,qj:()=>w,rb:()=>G});var R=B(375);let m=null;function G(){return m}function se(re){m??=re}class w{}let g=(()=>{class re{historyGo(oe){throw new Error("")}static \u0275fac=function(he){return new(he||re)};static \u0275prov=R.jDH({token:re,factory:()=>(0,R.WQX)(me),providedIn:"platform"})}return re})(),me=(()=>{class re extends g{_location;_history;_doc=(0,R.WQX)(R.qQL);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(oe){const he=G().getGlobalEventTarget(this._doc,"window");return he.addEventListener("popstate",oe,!1),()=>he.removeEventListener("popstate",oe)}onHashChange(oe){const he=G().getGlobalEventTarget(this._doc,"window");return he.addEventListener("hashchange",oe,!1),()=>he.removeEventListener("hashchange",oe)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(oe){this._location.pathname=oe}pushState(oe,he,Se){this._history.pushState(oe,he,Se)}replaceState(oe,he,Se){this._history.replaceState(oe,he,Se)}forward(){this._history.forward()}back(){this._history.back()}historyGo(oe=0){this._history.go(oe)}getState(){return this._history.state}static \u0275fac=function(he){return new(he||re)};static \u0275prov=R.jDH({token:re,factory:()=>new re,providedIn:"platform"})}return re})()},6509(Ue,ge,B){B.d(ge,{A:()=>G});const G=B(1860).A.Uint8Array},6513(Ue,ge,B){B.d(ge,{A:()=>ne});var R=B(5281),m=B(2661);const w=function se(oe){return(0,m.A)(oe)&&"[object Arguments]"==(0,R.A)(oe)};var g=Object.prototype,de=g.hasOwnProperty,me=g.propertyIsEnumerable,re=w(function(){return arguments}())?w:function(oe){return(0,m.A)(oe)&&de.call(oe,"callee")&&!me.call(oe,"callee")};const ne=re},6568(Ue,ge,B){B.d(ge,{A:()=>se});var R=B(4713),m=B(1860);const se=(0,R.A)(m.A,"Map")},6658(Ue,ge,B){B.d(ge,{A:()=>se});var R=B(563),m=B(3744);const se=function G(w,g,de){var me=g(w);return(0,m.A)(w)?me:(0,R.A)(me,de(w))}},6726(Ue,ge,B){B.d(ge,{A:()=>oe});var G=B(6513),se=B(3744),w=B(9377),g=B(8606),de=B(8885),re=Object.prototype.hasOwnProperty;const oe=function ne(he,Se){var Ge=(0,se.A)(he),_e=!Ge&&(0,G.A)(he),Me=!Ge&&!_e&&(0,w.A)(he),ze=!Ge&&!_e&&!Me&&(0,de.A)(he),Be=Ge||_e||Me||ze,$e=Be?function R(he,Se){for(var Ge=-1,_e=Array(he);++Ge<he;)_e[Ge]=Se(Ge);return _e}(he.length,String):[],je=$e.length;for(var ut in he)(Se||re.call(he,ut))&&(!Be||!("length"==ut||Me&&("offset"==ut||"parent"==ut)||ze&&("buffer"==ut||"byteLength"==ut||"byteOffset"==ut)||(0,g.A)(ut,je)))&&$e.push(ut);return $e}},6944(Ue,ge,B){B.d(ge,{A:()=>G});const G=B(1860).A.Symbol},6980(Ue,ge,B){B.d(ge,{Qq:()=>Bn,Lr:()=>_e,$R:()=>mr,Sx:()=>sr}),B(467);var m=B(375),G=B(5547),se=B(9090),w=B(7312),g=B(8456),me=B(8728),re=B(5006),ne=B(253),he=(B(4787),B(4421)),Se=B(3117),Ge=B(6494);class _e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(te){te?"string"==typeof te?this.lazyInit=()=>{this.headers=new Map,te.split("\n").forEach(J=>{const ve=J.indexOf(":");if(ve>0){const ke=J.slice(0,ve),Te=J.slice(ve+1).trim();this.addHeaderEntry(ke,Te)}})}:typeof Headers<"u"&&te instanceof Headers?(this.headers=new Map,te.forEach((J,ve)=>{this.addHeaderEntry(ve,J)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(te).forEach(([J,ve])=>{this.setHeaderEntries(J,ve)})}:this.headers=new Map}has(te){return this.init(),this.headers.has(te.toLowerCase())}get(te){this.init();const J=this.headers.get(te.toLowerCase());return J&&J.length>0?J[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(te){return this.init(),this.headers.get(te.toLowerCase())||null}append(te,J){return this.clone({name:te,value:J,op:"a"})}set(te,J){return this.clone({name:te,value:J,op:"s"})}delete(te,J){return this.clone({name:te,value:J,op:"d"})}maybeSetNormalizedName(te,J){this.normalizedNames.has(J)||this.normalizedNames.set(J,te)}init(){this.lazyInit&&(this.lazyInit instanceof _e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(te=>this.applyUpdate(te)),this.lazyUpdate=null))}copyFrom(te){te.init(),Array.from(te.headers.keys()).forEach(J=>{this.headers.set(J,te.headers.get(J)),this.normalizedNames.set(J,te.normalizedNames.get(J))})}clone(te){const J=new _e;return J.lazyInit=this.lazyInit&&this.lazyInit instanceof _e?this.lazyInit:this,J.lazyUpdate=(this.lazyUpdate||[]).concat([te]),J}applyUpdate(te){const J=te.name.toLowerCase();switch(te.op){case"a":case"s":let ve=te.value;if("string"==typeof ve&&(ve=[ve]),0===ve.length)return;this.maybeSetNormalizedName(te.name,J);const ke=("a"===te.op?this.headers.get(J):void 0)||[];ke.push(...ve),this.headers.set(J,ke);break;case"d":const Te=te.value;if(Te){let Xe=this.headers.get(J);if(!Xe)return;Xe=Xe.filter(kt=>-1===Te.indexOf(kt)),0===Xe.length?(this.headers.delete(J),this.normalizedNames.delete(J)):this.headers.set(J,Xe)}else this.headers.delete(J),this.normalizedNames.delete(J)}}addHeaderEntry(te,J){const ve=te.toLowerCase();this.maybeSetNormalizedName(te,ve),this.headers.has(ve)?this.headers.get(ve).push(J):this.headers.set(ve,[J])}setHeaderEntries(te,J){const ve=(Array.isArray(J)?J:[J]).map(Te=>Te.toString()),ke=te.toLowerCase();this.headers.set(ke,ve),this.maybeSetNormalizedName(te,ke)}forEach(te){this.init(),Array.from(this.normalizedNames.keys()).forEach(J=>te(this.normalizedNames.get(J),this.headers.get(J)))}}class Be{map=new Map;set(te,J){return this.map.set(te,J),this}get(te){return this.map.has(te)||this.map.set(te,te.defaultValue()),this.map.get(te)}delete(te){return this.map.delete(te),this}has(te){return this.map.has(te)}keys(){return this.map.keys()}}class $e{encodeKey(te){return vt(te)}encodeValue(te){return vt(te)}decodeKey(te){return decodeURIComponent(te)}decodeValue(te){return decodeURIComponent(te)}}const ut=/%(\d[a-f0-9])/gi,ii={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function vt(W){return encodeURIComponent(W).replace(ut,(te,J)=>ii[J]??te)}function ht(W){return`${W}`}class Vt{map;encoder;updates=null;cloneFrom=null;constructor(te={}){if(this.encoder=te.encoder||new $e,te.fromString){if(te.fromObject)throw new m.buA(2805,!1);this.map=function je(W,te){const J=new Map;return W.length>0&&W.replace(/^\?/,"").split("&").forEach(ke=>{const Te=ke.indexOf("="),[Xe,kt]=-1==Te?[te.decodeKey(ke),""]:[te.decodeKey(ke.slice(0,Te)),te.decodeValue(ke.slice(Te+1))],ot=J.get(Xe)||[];ot.push(kt),J.set(Xe,ot)}),J}(te.fromString,this.encoder)}else te.fromObject?(this.map=new Map,Object.keys(te.fromObject).forEach(J=>{const ve=te.fromObject[J],ke=Array.isArray(ve)?ve.map(ht):[ht(ve)];this.map.set(J,ke)})):this.map=null}has(te){return this.init(),this.map.has(te)}get(te){this.init();const J=this.map.get(te);return J?J[0]:null}getAll(te){return this.init(),this.map.get(te)||null}keys(){return this.init(),Array.from(this.map.keys())}append(te,J){return this.clone({param:te,value:J,op:"a"})}appendAll(te){const J=[];return Object.keys(te).forEach(ve=>{const ke=te[ve];Array.isArray(ke)?ke.forEach(Te=>{J.push({param:ve,value:Te,op:"a"})}):J.push({param:ve,value:ke,op:"a"})}),this.clone(J)}set(te,J){return this.clone({param:te,value:J,op:"s"})}delete(te,J){return this.clone({param:te,value:J,op:"d"})}toString(){return this.init(),this.keys().map(te=>{const J=this.encoder.encodeKey(te);return this.map.get(te).map(ve=>J+"="+this.encoder.encodeValue(ve)).join("&")}).filter(te=>""!==te).join("&")}clone(te){const J=new Vt({encoder:this.encoder});return J.cloneFrom=this.cloneFrom||this,J.updates=(this.updates||[]).concat(te),J}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(te=>this.map.set(te,this.cloneFrom.map.get(te))),this.updates.forEach(te=>{switch(te.op){case"a":case"s":const J=("a"===te.op?this.map.get(te.param):void 0)||[];J.push(ht(te.value)),this.map.set(te.param,J);break;case"d":if(void 0===te.value){this.map.delete(te.param);break}{let ve=this.map.get(te.param)||[];const ke=ve.indexOf(ht(te.value));-1!==ke&&ve.splice(ke,1),ve.length>0?this.map.set(te.param,ve):this.map.delete(te.param)}}}),this.cloneFrom=this.updates=null)}}function $i(W){return typeof ArrayBuffer<"u"&&W instanceof ArrayBuffer}function Ct(W){return typeof Blob<"u"&&W instanceof Blob}function bi(W){return typeof FormData<"u"&&W instanceof FormData}const Ft="Content-Type",ri="text/plain",Kt="application/json",Zi=`${Kt}, ${ri}, */*`;class Ti{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(te,J,ve,ke){let Te;if(this.url=J,this.method=te.toUpperCase(),function Ut(W){switch(W){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ke?(this.body=void 0!==ve?ve:null,Te=ke):Te=ve,Te){if(this.reportProgress=!!Te.reportProgress,this.withCredentials=!!Te.withCredentials,this.keepalive=!!Te.keepalive,Te.responseType&&(this.responseType=Te.responseType),Te.headers&&(this.headers=Te.headers),Te.context&&(this.context=Te.context),Te.params&&(this.params=Te.params),Te.priority&&(this.priority=Te.priority),Te.cache&&(this.cache=Te.cache),Te.credentials&&(this.credentials=Te.credentials),"number"==typeof Te.timeout){if(Te.timeout<1||!Number.isInteger(Te.timeout))throw new m.buA(2822,"");this.timeout=Te.timeout}Te.mode&&(this.mode=Te.mode),Te.redirect&&(this.redirect=Te.redirect),Te.integrity&&(this.integrity=Te.integrity),Te.referrer&&(this.referrer=Te.referrer),Te.referrerPolicy&&(this.referrerPolicy=Te.referrerPolicy),this.transferCache=Te.transferCache}if(this.headers??=new _e,this.context??=new Be,this.params){const Xe=this.params.toString();if(0===Xe.length)this.urlWithParams=J;else{const kt=J.indexOf("?");this.urlWithParams=J+(-1===kt?"?":kt<J.length-1?"&":"")+Xe}}else this.params=new Vt,this.urlWithParams=J}serializeBody(){return null===this.body?null:"string"==typeof this.body||$i(this.body)||Ct(this.body)||bi(this.body)||function ui(W){return typeof URLSearchParams<"u"&&W instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Vt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||bi(this.body)?null:Ct(this.body)?this.body.type||null:$i(this.body)?null:"string"==typeof this.body?ri:this.body instanceof Vt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?Kt:null}clone(te={}){const J=te.method||this.method,ve=te.url||this.url,ke=te.responseType||this.responseType,Te=te.keepalive??this.keepalive,Xe=te.priority||this.priority,kt=te.cache||this.cache,ot=te.mode||this.mode,ai=te.redirect||this.redirect,Xt=te.credentials||this.credentials,ei=te.referrer||this.referrer,Ai=te.integrity||this.integrity,bn=te.referrerPolicy||this.referrerPolicy,Si=te.transferCache??this.transferCache,qi=te.timeout??this.timeout,_t=void 0!==te.body?te.body:this.body,Mt=te.withCredentials??this.withCredentials,zt=te.reportProgress??this.reportProgress;let Pi=te.headers||this.headers,At=te.params||this.params;const di=te.context??this.context;return void 0!==te.setHeaders&&(Pi=Object.keys(te.setHeaders).reduce((an,zi)=>an.set(zi,te.setHeaders[zi]),Pi)),te.setParams&&(At=Object.keys(te.setParams).reduce((an,zi)=>an.set(zi,te.setParams[zi]),At)),new Ti(J,ve,_t,{params:At,headers:Pi,context:di,reportProgress:zt,responseType:ke,withCredentials:Mt,transferCache:Si,keepalive:Te,cache:kt,priority:Xe,timeout:qi,mode:ot,redirect:ai,credentials:Xt,referrer:ei,integrity:Ai,referrerPolicy:bn})}}var fi=function(W){return W[W.Sent=0]="Sent",W[W.UploadProgress=1]="UploadProgress",W[W.ResponseHeader=2]="ResponseHeader",W[W.DownloadProgress=3]="DownloadProgress",W[W.Response=4]="Response",W[W.User=5]="User",W}(fi||{});class Mi{headers;status;statusText;url;ok;type;redirected;responseType;constructor(te,J=200,ve="OK"){this.headers=te.headers||new _e,this.status=void 0!==te.status?te.status:J,this.statusText=te.statusText||ve,this.url=te.url||null,this.redirected=te.redirected,this.responseType=te.responseType,this.ok=this.status>=200&&this.status<300}}class Ci extends Mi{constructor(te={}){super(te)}type=fi.ResponseHeader;clone(te={}){return new Ci({headers:te.headers||this.headers,status:void 0!==te.status?te.status:this.status,statusText:te.statusText||this.statusText,url:te.url||this.url||void 0})}}class it extends Mi{body;constructor(te={}){super(te),this.body=void 0!==te.body?te.body:null}type=fi.Response;clone(te={}){return new it({body:void 0!==te.body?te.body:this.body,headers:te.headers||this.headers,status:void 0!==te.status?te.status:this.status,statusText:te.statusText||this.statusText,url:te.url||this.url||void 0,redirected:te.redirected??this.redirected,responseType:te.responseType??this.responseType})}}class gt extends Mi{name="HttpErrorResponse";message;error;ok=!1;constructor(te){super(te,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${te.url||"(unknown url)"}`:`Http failure response for ${te.url||"(unknown url)"}: ${te.status} ${te.statusText}`,this.error=te.error||null}}const Ie=new m.nKC(""),ye=/^\)\]\}',?\n/;let rt=(()=>{class W{xhrFactory;tracingService=(0,m.WQX)(G.a8H,{optional:!0});constructor(J){this.xhrFactory=J}maybePropagateTrace(J){return this.tracingService?.propagate?this.tracingService.propagate(J):J}handle(J){if("JSONP"===J.method)throw new m.buA(-2800,!1);const ve=this.xhrFactory;return(0,he.of)(null).pipe((0,se.n)(()=>new ne.c(Te=>{const Xe=ve.build();if(Xe.open(J.method,J.urlWithParams),J.withCredentials&&(Xe.withCredentials=!0),J.headers.forEach((_t,Mt)=>Xe.setRequestHeader(_t,Mt.join(","))),J.headers.has("Accept")||Xe.setRequestHeader("Accept",Zi),!J.headers.has(Ft)){const _t=J.detectContentTypeHeader();null!==_t&&Xe.setRequestHeader(Ft,_t)}if(J.timeout&&(Xe.timeout=J.timeout),J.responseType){const _t=J.responseType.toLowerCase();Xe.responseType="json"!==_t?_t:"text"}const kt=J.serializeBody();let ot=null;const ai=()=>{if(null!==ot)return ot;const _t=Xe.statusText||"OK",Mt=new _e(Xe.getAllResponseHeaders());return ot=new Ci({headers:Mt,status:Xe.status,statusText:_t,url:Xe.responseURL||J.url}),ot},Xt=this.maybePropagateTrace(()=>{let{headers:_t,status:Mt,statusText:zt,url:Pi}=ai(),At=null;204!==Mt&&(At=typeof Xe.response>"u"?Xe.responseText:Xe.response),0===Mt&&(Mt=At?200:0);let di=Mt>=200&&Mt<300;if("json"===J.responseType&&"string"==typeof At){const an=At;At=At.replace(ye,"");try{At=""!==At?JSON.parse(At):null}catch(zi){At=an,di&&(di=!1,At={error:zi,text:At})}}di?(Te.next(new it({body:At,headers:_t,status:Mt,statusText:zt,url:Pi||void 0})),Te.complete()):Te.error(new gt({error:At,headers:_t,status:Mt,statusText:zt,url:Pi||void 0}))}),ei=this.maybePropagateTrace(_t=>{const{url:Mt}=ai(),zt=new gt({error:_t,status:Xe.status||0,statusText:Xe.statusText||"Unknown Error",url:Mt||void 0});Te.error(zt)});let Ai=ei;J.timeout&&(Ai=this.maybePropagateTrace(_t=>{const{url:Mt}=ai(),zt=new gt({error:new DOMException("Request timed out","TimeoutError"),status:Xe.status||0,statusText:Xe.statusText||"Request timeout",url:Mt||void 0});Te.error(zt)}));let bn=!1;const Si=this.maybePropagateTrace(_t=>{bn||(Te.next(ai()),bn=!0);let Mt={type:fi.DownloadProgress,loaded:_t.loaded};_t.lengthComputable&&(Mt.total=_t.total),"text"===J.responseType&&Xe.responseText&&(Mt.partialText=Xe.responseText),Te.next(Mt)}),qi=this.maybePropagateTrace(_t=>{let Mt={type:fi.UploadProgress,loaded:_t.loaded};_t.lengthComputable&&(Mt.total=_t.total),Te.next(Mt)});return Xe.addEventListener("load",Xt),Xe.addEventListener("error",ei),Xe.addEventListener("timeout",Ai),Xe.addEventListener("abort",ei),J.reportProgress&&(Xe.addEventListener("progress",Si),null!==kt&&Xe.upload&&Xe.upload.addEventListener("progress",qi)),Xe.send(kt),Te.next({type:fi.Sent}),()=>{Xe.removeEventListener("error",ei),Xe.removeEventListener("abort",ei),Xe.removeEventListener("load",Xt),Xe.removeEventListener("timeout",Ai),J.reportProgress&&(Xe.removeEventListener("progress",Si),null!==kt&&Xe.upload&&Xe.upload.removeEventListener("progress",qi)),Xe.readyState!==Xe.DONE&&Xe.abort()}})))}static \u0275fac=function(ve){return new(ve||W)(m.KVO(Se.N))};static \u0275prov=m.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})();function We(W,te){return te(W)}function Ot(W,te){return(J,ve)=>te.intercept(J,{handle:ke=>W(ke,ve)})}const Ei=new m.nKC(""),ji=new m.nKC("",{factory:()=>[]}),_n=new m.nKC(""),Vi=new m.nKC("",{factory:()=>!0});function xi(){let W=null;return(te,J)=>{null===W&&(W=((0,m.WQX)(Ei,{optional:!0})??[]).reduceRight(Ot,We));const ve=(0,m.WQX)(m.u5s);if((0,m.WQX)(Vi)){const Te=ve.add();return W(te,J).pipe((0,w.j)(Te))}return W(te,J)}}let On=(()=>{class W{static \u0275fac=function(ve){return new(ve||W)};static \u0275prov=m.jDH({token:W,factory:function(ve){let ke=null;return ke=ve?new(ve||W):m.KVO(rt),ke},providedIn:"root"})}return W})(),mn=(()=>{class W{backend;injector;chain=null;pendingTasks=(0,m.WQX)(m.u5s);contributeToStability=(0,m.WQX)(Vi);constructor(J,ve){this.backend=J,this.injector=ve}handle(J){if(null===this.chain){const ve=Array.from(new Set([...this.injector.get(ji),...this.injector.get(_n,[])]));this.chain=ve.reduceRight((ke,Te)=>function Ii(W,te,J){return(ve,ke)=>(0,m.N4e)(J,()=>te(ve,Te=>W(Te,ke)))}(ke,Te,this.injector),We)}if(this.contributeToStability){const ve=this.pendingTasks.add();return this.chain(J,ke=>this.backend.handle(ke)).pipe((0,w.j)(ve))}return this.chain(J,ve=>this.backend.handle(ve))}static \u0275fac=function(ve){return new(ve||W)(m.KVO(On),m.KVO(m.uvJ))};static \u0275prov=m.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),Ri=(()=>{class W{static \u0275fac=function(ve){return new(ve||W)};static \u0275prov=m.jDH({token:W,factory:function(ve){let ke=null;return ke=ve?new(ve||W):m.KVO(mn),ke},providedIn:"root"})}return W})();function nn(W,te){return{body:te,headers:W.headers,context:W.context,observe:W.observe,params:W.params,reportProgress:W.reportProgress,responseType:W.responseType,withCredentials:W.withCredentials,credentials:W.credentials,transferCache:W.transferCache,timeout:W.timeout,keepalive:W.keepalive,priority:W.priority,cache:W.cache,mode:W.mode,redirect:W.redirect,integrity:W.integrity,referrer:W.referrer,referrerPolicy:W.referrerPolicy}}let Bn=(()=>{class W{handler;constructor(J){this.handler=J}request(J,ve,ke={}){let Te;if(J instanceof Ti)Te=J;else{let ot,ai;ot=ke.headers instanceof _e?ke.headers:new _e(ke.headers),ke.params&&(ai=ke.params instanceof Vt?ke.params:new Vt({fromObject:ke.params})),Te=new Ti(J,ve,void 0!==ke.body?ke.body:null,{headers:ot,context:ke.context,params:ai,reportProgress:ke.reportProgress,responseType:ke.responseType||"json",withCredentials:ke.withCredentials,transferCache:ke.transferCache,keepalive:ke.keepalive,priority:ke.priority,cache:ke.cache,mode:ke.mode,redirect:ke.redirect,credentials:ke.credentials,referrer:ke.referrer,referrerPolicy:ke.referrerPolicy,integrity:ke.integrity,timeout:ke.timeout})}const Xe=(0,he.of)(Te).pipe(function de(W,te){return(0,g.ZZ)(W,te,1)}(ot=>this.handler.handle(ot)));if(J instanceof Ti||"events"===ke.observe)return Xe;const kt=Xe.pipe((0,me.p)(ot=>ot instanceof it));switch(ke.observe||"body"){case"body":switch(Te.responseType){case"arraybuffer":return kt.pipe((0,re.T)(ot=>{if(null!==ot.body&&!(ot.body instanceof ArrayBuffer))throw new m.buA(2806,!1);return ot.body}));case"blob":return kt.pipe((0,re.T)(ot=>{if(null!==ot.body&&!(ot.body instanceof Blob))throw new m.buA(2807,!1);return ot.body}));case"text":return kt.pipe((0,re.T)(ot=>{if(null!==ot.body&&"string"!=typeof ot.body)throw new m.buA(2808,!1);return ot.body}));default:return kt.pipe((0,re.T)(ot=>ot.body))}case"response":return kt;default:throw new m.buA(2809,!1)}}delete(J,ve={}){return this.request("DELETE",J,ve)}get(J,ve={}){return this.request("GET",J,ve)}head(J,ve={}){return this.request("HEAD",J,ve)}jsonp(J,ve){return this.request("JSONP",J,{params:(new Vt).append(ve,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(J,ve={}){return this.request("OPTIONS",J,ve)}patch(J,ve,ke={}){return this.request("PATCH",J,nn(ke,ve))}post(J,ve,ke={}){return this.request("POST",J,nn(ke,ve))}put(J,ve,ke={}){return this.request("PUT",J,nn(ke,ve))}static \u0275fac=function(ve){return new(ve||W)(m.KVO(Ri))};static \u0275prov=m.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})();const gi=new m.nKC("",{factory:()=>!0}),En=new m.nKC("",{factory:()=>"XSRF-TOKEN"}),Wi=new m.nKC("",{factory:()=>"X-XSRF-TOKEN"});let fn=(()=>{class W{cookieName=(0,m.WQX)(En);doc=(0,m.WQX)(m.qQL);lastCookieString="";lastToken=null;parseCount=0;getToken(){const J=this.doc.cookie||"";return J!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Se.b)(J,this.cookieName),this.lastCookieString=J),this.lastToken}static \u0275fac=function(ve){return new(ve||W)};static \u0275prov=m.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),Dn=(()=>{class W{static \u0275fac=function(ve){return new(ve||W)};static \u0275prov=m.jDH({token:W,factory:function(ve){let ke=null;return ke=ve?new(ve||W):m.KVO(fn),ke},providedIn:"root"})}return W})();function Qn(W,te){if(!(0,m.WQX)(gi)||"GET"===W.method||"HEAD"===W.method)return te(W);try{const ke=(0,m.WQX)(Ge.Vw).href,{origin:Te}=new URL(ke),{origin:Xe}=new URL(W.url,Te);if(Te!==Xe)return te(W)}catch{return te(W)}const J=(0,m.WQX)(Dn).getToken(),ve=(0,m.WQX)(Wi);return null!=J&&!W.headers.has(ve)&&(W=W.clone({headers:W.headers.set(ve,J)})),te(W)}var Ki=function(W){return W[W.Interceptors=0]="Interceptors",W[W.LegacyInterceptors=1]="LegacyInterceptors",W[W.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",W[W.NoXsrfProtection=3]="NoXsrfProtection",W[W.JsonpSupport=4]="JsonpSupport",W[W.RequestsMadeViaParent=5]="RequestsMadeViaParent",W[W.Fetch=6]="Fetch",W}(Ki||{});function mr(...W){const te=[Bn,mn,{provide:Ri,useExisting:mn},{provide:On,useFactory:()=>(0,m.WQX)(Ie,{optional:!0})??(0,m.WQX)(rt)},{provide:ji,useValue:Qn,multi:!0}];for(const J of W)te.push(...J.\u0275providers);return(0,m.EmA)(te)}const Dr=new m.nKC("");function sr(){return function rn(W,te){return{\u0275kind:W,\u0275providers:te}}(Ki.LegacyInterceptors,[{provide:Dr,useFactory:xi},{provide:ji,useExisting:Dr,multi:!0}])}},7015(Ue,ge,B){B.d(ge,{A:()=>ze});var G=B(1319);const w=function se(Be,$e){for(var je=Be.length;je--;)if((0,G.A)(Be[je][0],$e))return je;return-1};var de=Array.prototype.splice;function Me(Be){var $e=-1,je=null==Be?0:Be.length;for(this.clear();++$e<je;){var ut=Be[$e];this.set(ut[0],ut[1])}}Me.prototype.clear=function R(){this.__data__=[],this.size=0},Me.prototype.delete=function me(Be){var $e=this.__data__,je=w($e,Be);return!(je<0||(je==$e.length-1?$e.pop():de.call($e,je,1),--this.size,0))},Me.prototype.get=function ne(Be){var $e=this.__data__,je=w($e,Be);return je<0?void 0:$e[je][1]},Me.prototype.has=function he(Be){return w(this.__data__,Be)>-1},Me.prototype.set=function Ge(Be,$e){var je=this.__data__,ut=w(je,Be);return ut<0?(++this.size,je.push([Be,$e])):je[ut][1]=$e,this};const ze=Me},7133(Ue,ge,B){B.d(ge,{A:()=>m});const m="object"==typeof global&&global&&global.Object===Object&&global},7283(Ue){Ue.exports=JSON.parse('[{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to two first enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"294","Name":"Action Figure","NameId":"RelicActionFigure","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Break: Give the front-most friend +1 attack and +1 health."},{"Level":2,"About":"Break: Give the two front-most friends +1 attack and +1 health."},{"Level":3,"About":"Break: Give the three front-most friends +1 attack and +1 health."}],"Type":1,"ToyType":0,"Id":"479","Name":"Balloon","NameId":"RelicBalloon","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Deal 50 damage to the front-most friend."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"299","Name":"Boot","NameId":"RelicBoot","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you rolled less than 6 times this turn, deal the turn number as damage to friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"300","Name":"Bowling Ball","NameId":"RelicBowlingBall","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Lose 3 gold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"310","Name":"Broken Piggy Bank","NameId":"RelicOpenPiggyBank","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Sell the two front-most friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"302","Name":"Cardboard Box","NameId":"RelicCardboardBox","Tier":1,"TierMax":4,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give +1 experience to friends and +2 experience to enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"794","Name":"Chocolate Box","NameId":"RelicChocolateBox","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Summoned: Replace this with another random toy."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"482","Name":"Crumpled Paper","NameId":"RelicCrumpledPaper","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +2 mana."},{"Level":2,"About":"Start of battle: Give the front-most friend +4 mana."},{"Level":3,"About":"Start of battle: Give the front-most friend +6 mana."}],"Type":1,"ToyType":0,"Id":"580","Name":"Crystal Ball","NameId":"RelicCrystalBall","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Friend bought: Transform it into ANY random pet from the same tier with new base stats."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"303","Name":"Deck of Cards","NameId":"RelicCardDeck","Tier":1,"TierMax":4,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Roll: Lose 1 gold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"304","Name":"Dice","NameId":"RelicDice","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Shuffle positions of all friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"286","Name":"Dice Cup","NameId":"RelicDiceCup","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you did not buy any tier 1 food this turn, make friends Dazed until next turn."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"485","Name":"Flute","NameId":"RelicFlute","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two front-most friends Weak."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"306","Name":"Handkerchief","NameId":"RelicHandkerchief","Tier":1,"TierMax":3,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Empty front space: Remove 20% attack from the back-most friend and move it to the front."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"307","Name":"Kite","NameId":"RelicKite","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Remove 20% attack and 20% health from friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"506","Name":"Lamp","NameId":"RelicLamp","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Feed Apples to random pets for each turn number. Double their power on enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"308","Name":"Lunchbox","NameId":"RelicLunchbox","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the back-most tier 2 or lower friend +1 experience."},{"Level":2,"About":"Start of battle: Give the back-most tier 2 or lower friend +2 experience."},{"Level":3,"About":"Start of battle: Give the back-most tier 2 or lower friend +3 experience."}],"Type":1,"ToyType":0,"Id":"581","Name":"Magic Wand","NameId":"RelicMagicWand","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make two random friends Cold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"590","Name":"Onesie","NameId":"RelicOnesie","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Knock it out."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"312","Name":"Paper Shredder","NameId":"RelicPaperShredder","Tier":1,"TierMax":5,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two front-most friends Inked."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"313","Name":"Pen","NameId":"RelicPen","Tier":1,"TierMax":3,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out the two front-most friends and the front-most enemy."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"284","Name":"Pill Bottle","NameId":"RelicPillBottle","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Push the last enemy up front and give it +100% attack and +100% health."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"314","Name":"Pogo Stick","NameId":"RelicPogoStick","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give enemies +20% attack and +20% health."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"315","Name":"Remote Car","NameId":"RelicRemoteCar","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you spent less than 13 gold this turn, remove 20% health from friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"582","Name":"Ring","NameId":"RelicTheOneRing","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out friends from the previous tier."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"316","Name":"Ring Pyramid","NameId":"RelicRingPyramid","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Deal 1 damage to the three front-most friends. Multiply damage with their tiers."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"285","Name":"Rock Bag","NameId":"RelicRockBag","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"All enemies fainted: Summon one 50/1 enemy Duck. Works 1 time per battle."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"318","Name":"Rubber Duck","NameId":"RelicRubberDuck","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Set attack and health of all friends to the turn number."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"795","Name":"Scale","NameId":"RelicScale","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out friends from the current tier."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"486","Name":"Soccer Ball","NameId":"RelicFootball","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give Walnut perk to the friend on the middle space."},{"Level":2,"About":"Start of battle: Give Walnut perk with double effect to the friend on the middle space."},{"Level":3,"About":"Start of battle: Give Walnut perk with triple effect to the friend on the middle space."}],"Type":1,"ToyType":0,"Id":"496","Name":"Stick","NameId":"RelicWoodenStick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two back-most friends Icky."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"792","Name":"Sticky Hand","NameId":"RelicStickyHand","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take double damage, twice.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Three friends faint: Summon one exact enemy copy of the back-most friend."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"324","Name":"Stuffed Bear","NameId":"RelicTeddyBear","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Remove the lowest tier perks from two friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"793","Name":"Vacuum Cleaner","NameId":"RelicHandheldVacuumCleaner","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make one random perk-less enemy Weak."},{"Level":2,"About":"Start of battle: Make two random perk-less enemies Weak."},{"Level":3,"About":"Start of battle: Make three random perk-less enemies Weak."}],"Type":1,"ToyType":0,"Id":"600","Name":"Witch Broom","NameId":"RelicWitchBroom","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend Garlic perk."},{"Level":2,"About":"Start of battle: Give the two front-most friends Garlic perk."},{"Level":3,"About":"Start of battle: Give the three front-most friends Garlic perk."}],"Type":1,"ToyType":0,"Id":"509","Name":"Garlic Press","NameId":"RelicGarlicPress","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack."},{"Level":2,"About":"Friend summoned: Give it +2 attack."},{"Level":3,"About":"Friend summoned: Give it +3 attack."}],"Type":1,"ToyType":0,"Id":"598","Name":"Magic Carpet","NameId":"RelicMagicCarpet","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Friendly level-up: Give it +1 attack and +1 health."},{"Level":2,"About":"Friendly level-up: Give it +2 attack and +2 health."},{"Level":3,"About":"Friendly level-up: Give it +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"575","Name":"Magic Lamp","NameId":"RelicMagicLamp","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give Popcorn perk to the front-most perkless friend."},{"Level":2,"About":"Start of battle: Give Popcorn perk to the two front-most perkless friends."},{"Level":3,"About":"Start of battle: Give Popcorn perk to the three front-most perkless friends."}],"Type":1,"ToyType":0,"Id":"699","Name":"Microwave Oven","NameId":"RelicMicrowaver","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Faint: Summon one random pet from the same tier.","CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give Eucalyptus perk to the front-most friend."},{"Level":2,"About":"Start of battle: Give Eucalyptus perk to the two front-most friends."},{"Level":3,"About":"Start of battle: Give Eucalyptus perk to the three front-most friends."}],"Type":1,"ToyType":0,"Id":"789","Name":"Plastic Saw","NameId":"RelicToySaw","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Break: Give friends +1 health."},{"Level":2,"About":"Break: Give friends +2 health."},{"Level":3,"About":"Break: Give friends +3 health."}],"Type":1,"ToyType":0,"Id":"488","Name":"Radio","NameId":"RelicRadio","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Deal 3 damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 3 damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 3 damage to three random enemies."}],"Type":1,"ToyType":0,"Id":"478","Name":"Tennis Ball","NameId":"RelicTennisBall","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three friends bought: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three friends bought: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three friends bought: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"574","Name":"Candelabra","NameId":"RelicCandelabra","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 5 damage to the lowest health enemy."},{"Level":2,"About":"Start of battle: Deal 5 damage to the lowest health enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 5 damage to the lowest health enemy. Triggers 3 times."}],"Type":1,"ToyType":0,"Id":"507","Name":"Foam Sword","NameId":"RelicFoamSword","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three friends faint: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three friends faint: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three friends faint: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"586","Name":"Glass Shoes","NameId":"RelicGlassShoes","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Spend 14 gold: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Spend 14 gold: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Spend 14 gold: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"589","Name":"Golden Harp","NameId":"RelicGoldenHarp","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three food bought: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three food bought: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three food bought: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"595","Name":"Lock of Hair","NameId":"RelicLockofHair","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Two friends transformed: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Two friends transformed: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Two friends transformed: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"578","Name":"Magic Mirror","NameId":"RelicMagicMirror","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Give the front-most friend Melon perk."},{"Level":2,"About":"Break: Give the two front-most friends Melon perk."},{"Level":3,"About":"Break: Give the three front-most friends Melon perk."}],"Type":1,"ToyType":0,"Id":"510","Name":"Melon Helmet","NameId":"RelicMelonHelmet","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Roll 7 times: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Roll 7 times: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Roll 7 times: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"599","Name":"Pickaxe","NameId":"RelicPickaxe","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Friend jumped: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Friend jumped: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Friend jumped: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"576","Name":"Red Cape","NameId":"RelicRedCape","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Two friendly level-up: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Two friendly level-up: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Two friendly level-up: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"579","Name":"Rosebud","NameId":"RelicRosebud","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Transform front-most friend into another random pet from 2 tiers below."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"319","Name":"Scissors","NameId":"RelicScissors","Tier":3,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 5 damage to the last enemy."},{"Level":2,"About":"Start of battle: Deal 5 damage to the last enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 5 damage to the last enemy. Triggers 3 times."}],"Type":1,"ToyType":0,"Id":"493","Name":"Toy Gun","NameId":"RelicToyGun","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Transform all friends to level 1."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"327","Name":"Toy Mouse","NameId":"RelicToyMouse","Tier":3,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Stock one free pet from tier 2 as a 4/4 level 3."},{"Level":2,"About":"Break: Stock one free pet from tier 4 as a 8/8 level 3."},{"Level":3,"About":"Break: Stock one free pet from tier 6 as a 12/12 level 3."}],"Type":1,"ToyType":0,"Id":"591","Name":"Treasure Chest","NameId":"RelicTreasureChest","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Summon a level 1 Treasure Chest."},{"Level":2,"About":"Break: Summon a level 2 Treasure Chest."},{"Level":3,"About":"Break: Summon a level 3 Treasure Chest."}],"Type":1,"ToyType":0,"Id":"594","Name":"Treasure Map","NameId":"RelicTreasureMap","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"End turn: Gain one free roll next turn."},{"Level":2,"About":"End turn: Gain two free rolls next turn."},{"Level":3,"About":"End turn: Gain three free rolls next turn."}],"Type":1,"ToyType":0,"Id":"597","Name":"Winged Sandals","NameId":"RelicWingedSandals","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Break: Summon one 6/6 friend that sells for 3 gold."},{"Level":2,"About":"Break: Summon one 12/12 friend that sells for 6 gold."},{"Level":3,"About":"Break: Summon one 18/18 friend that sells for 9 gold."}],"Type":1,"ToyType":0,"Id":"492","Name":"Cash Register","NameId":"RelicToyCashRegister","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"All friends fainted: Summon one 6/6 Salmon of Knowledge in battle once."},{"Level":2,"About":"All friends fainted: Summon one 12/12 Salmon of Knowledge in battle once."},{"Level":3,"About":"All friends fainted: Summon one 18/18 Salmon of Knowledge in battle once."}],"Type":1,"ToyType":0,"Id":"584","Name":"Nutcracker","NameId":"RelicNutcracker","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Give the middle friendly pet +6 mana."},{"Level":2,"About":"Start of battle: Give the middle friendly pet +12 mana."},{"Level":3,"About":"Start of battle: Give the middle friendly pet +18 mana."}],"Type":1,"ToyType":0,"Id":"587","Name":"Ocarina","NameId":"RelicOcarina","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Break: Stock one free Chicken Leg."},{"Level":2,"About":"Break: Stock two free Chicken Legs."},{"Level":3,"About":"Break: Stock three free Chicken Legs."}],"Type":1,"ToyType":0,"Id":"311","Name":"Oven Mitts","NameId":"RelicOvenMitts","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Give one random Tand & Tand +6 attack and +6 health."},{"Level":2,"About":"Start of battle: Give one random Tand & Tand +12 attack and +12 health."},{"Level":3,"About":"Start of battle: Give one random Tand & Tand +18 attack and +18 health."}],"Type":1,"ToyType":0,"Id":"585","Name":"Thunder Hammer","NameId":"RelicThunderHammer","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 6/6 Giant Eyes Dog up front in battle once."},{"Level":2,"About":"Empty front space: Summon one 12/12 Giant Eyes Dog up front in battle once."},{"Level":3,"About":"Empty front space: Summon one 18/18 Giant Eyes Dog up front in battle once."}],"Type":1,"ToyType":0,"Id":"588","Name":"Tinder Box","NameId":"RelicTinderBox","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Make the first enemy Weak."},{"Level":2,"About":"Start of battle: Make the first two enemies Weak."},{"Level":3,"About":"Start of battle: Make the first three enemies Weak."}],"Type":1,"ToyType":0,"Id":"326","Name":"Toilet Paper","NameId":"RelicToiletPaper","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Remove 30% attack from the highest attack enemy."},{"Level":2,"About":"Start of battle: Remove 30% attack from the two highest attack enemies."},{"Level":3,"About":"Start of battle: Remove 30% attack from the three highest attack enemies."}],"Type":1,"ToyType":0,"Id":"503","Name":"Camera","NameId":"RelicCamera","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 6/6 Great One in battle that deals 5 damage to ALL other pets."},{"Level":2,"About":"Empty front space: Summon one 12/12 Great One in battle that deals 10 damage to ALL other pets."},{"Level":3,"About":"Empty front space: Summon one 18/18 Great One in battle that deals 15 damage to ALL other pets."}],"Type":1,"ToyType":0,"Id":"645","Name":"Evil Book","NameId":"RelicEvilBook","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Break: Give front-most friend +5 attack and +5 health."},{"Level":2,"About":"Break: Give front-most friend +10 attack and +10 health."},{"Level":3,"About":"Break: Give front-most friend +15 attack and +15 health."}],"Type":1,"ToyType":0,"Id":"484","Name":"Flashlight","NameId":"RelicFlashlight","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Give ALL pets random perks and ailments."},{"Level":2,"About":"Start of battle: Give ALL pets random perks and ailments with double effects."},{"Level":3,"About":"Start of battle: Give ALL pets random perks and ailments with triple effects."}],"Type":1,"ToyType":0,"Id":"593","Name":"Pandoras Box","NameId":"RelicPandorasBox","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Remove 40% health from the highest health enemy."},{"Level":2,"About":"Start of battle: Remove 40% health from the two highest health enemies."},{"Level":3,"About":"Start of battle: Remove 40% health from the three highest health enemies."}],"Type":1,"ToyType":0,"Id":"513","Name":"Stinky Sock","NameId":"RelicStinkySock","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to the highest attack friend."},{"Level":2,"About":"Start of battle: Give Coconut perk to the two highest attack friends."},{"Level":3,"About":"Start of battle: Give Coconut perk to the three highest attack friends."}],"Type":1,"ToyType":0,"Id":"511","Name":"Air Palm Tree","NameId":"RelicPalmTree","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"End turn: Give the back-most friend +1 attack and +1 health."},{"Level":2,"About":"End turn: Give the back-most friend +2 attack and +2 health."},{"Level":3,"About":"End turn: Give the back-most friend +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"583","Name":"Excalibur","NameId":"RelicExcalibur","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Break: Stock one free Holy Water."},{"Level":2,"About":"Break: Stock two free Holy Waters."},{"Level":3,"About":"Break: Stock three free Holy Waters."}],"Type":1,"ToyType":0,"Id":"592","Name":"Holy Grail","NameId":"RelicHolyGrail","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Start of battle: Give Peanut Butter perk to the lowest attack friend."},{"Level":2,"About":"Start of battle: Give Peanut Butter perk to the two lowest attack friends."},{"Level":3,"About":"Start of battle: Give Peanut Butter perk to the three lowest attack friends."}],"Type":1,"ToyType":0,"Id":"512","Name":"Peanut Jar","NameId":"RelicPeanutJar","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Break: Give friends +2 attack and +2 health."},{"Level":2,"About":"Break: Give friends +4 attack and +4 health."},{"Level":3,"About":"Break: Give friends +6 attack and +6 health."}],"Type":1,"ToyType":0,"Id":"491","Name":"Television","NameId":"RelicTelevision","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]}]')},7312(Ue,ge,B){B.d(ge,{j:()=>G});var R=B(762),m=B(4337);function G(g){return de=>de.lift(new se(g))}class se{constructor(de){this.callback=de}call(de,me){return me.subscribe(new w(de,this.callback))}}class w extends R.v{constructor(de,me){super(de),this.add(new m.y(me))}}},7354(Ue,ge,B){B.d(ge,{c:()=>R});const R=Array.isArray||(m=>m&&"number"==typeof m.length)},7705(Ue,ge,B){B.d(ge,{L39:()=>oi,MKu:()=>di,TL3:()=>un,Udg:()=>Ht,_q3:()=>zt,a0P:()=>ba,gRc:()=>J});var R=B(375),G=(B(5824),B(5547));B(4337);const ye=new R.nKC(""),qe=new R.nKC("");function rt(O){return!O.moduleRef}let Vi=null;let J=(()=>class O{static __NG_ELEMENT_ID__=ve})();function ve(O){return function ke(O,I,F){if((0,R.Qs1)(O)&&!F){const z=(0,R.KdJ)(O.index,I);return new G.NCX(z,z)}return 175&O.type?new G.NCX(I[R.b5C],I):null}((0,R.Mx4)(),(0,R.OAn)(),!(16&~O))}class kt{constructor(){}supports(I){return(0,G.ozJ)(I)}create(I){return new ai(I)}}const ot=(O,I)=>I;class ai{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(I){this._trackByFn=I||ot}forEachItem(I){let F;for(F=this._itHead;null!==F;F=F._next)I(F)}forEachOperation(I){let F=this._itHead,z=this._removalsHead,ue=0,Pe=null;for(;F||z;){const xe=!z||F&&F.currentIndex<bn(z,ue,Pe)?F:z,He=bn(xe,ue,Pe),pt=xe.currentIndex;if(xe===z)ue--,z=z._nextRemoved;else if(F=F._next,null==xe.previousIndex)ue++;else{Pe||(Pe=[]);const mt=He-ue,Lt=pt-ue;if(mt!=Lt){for(let ci=0;ci<mt;ci++){const Xi=ci<Pe.length?Pe[ci]:Pe[ci]=0,dn=Xi+ci;Lt<=dn&&dn<mt&&(Pe[ci]=Xi+1)}Pe[xe.previousIndex]=Lt-mt}}He!==pt&&I(xe,He,pt)}}forEachPreviousItem(I){let F;for(F=this._previousItHead;null!==F;F=F._nextPrevious)I(F)}forEachAddedItem(I){let F;for(F=this._additionsHead;null!==F;F=F._nextAdded)I(F)}forEachMovedItem(I){let F;for(F=this._movesHead;null!==F;F=F._nextMoved)I(F)}forEachRemovedItem(I){let F;for(F=this._removalsHead;null!==F;F=F._nextRemoved)I(F)}forEachIdentityChange(I){let F;for(F=this._identityChangesHead;null!==F;F=F._nextIdentityChange)I(F)}diff(I){if(null==I&&(I=[]),!(0,G.ozJ)(I))throw new R.buA(900,!1);return this.check(I)?this:null}onDestroy(){}check(I){this._reset();let ue,Pe,xe,F=this._itHead,z=!1;if(Array.isArray(I)){this.length=I.length;for(let He=0;He<this.length;He++)Pe=I[He],xe=this._trackByFn(He,Pe),null!==F&&Object.is(F.trackById,xe)?(z&&(F=this._verifyReinsertion(F,Pe,xe,He)),Object.is(F.item,Pe)||this._addIdentityChange(F,Pe)):(F=this._mismatch(F,Pe,xe,He),z=!0),F=F._next}else ue=0,(0,G.utN)(I,He=>{xe=this._trackByFn(ue,He),null!==F&&Object.is(F.trackById,xe)?(z&&(F=this._verifyReinsertion(F,He,xe,ue)),Object.is(F.item,He)||this._addIdentityChange(F,He)):(F=this._mismatch(F,He,xe,ue),z=!0),F=F._next,ue++}),this.length=ue;return this._truncate(F),this.collection=I,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let I;for(I=this._previousItHead=this._itHead;null!==I;I=I._next)I._nextPrevious=I._next;for(I=this._additionsHead;null!==I;I=I._nextAdded)I.previousIndex=I.currentIndex;for(this._additionsHead=this._additionsTail=null,I=this._movesHead;null!==I;I=I._nextMoved)I.previousIndex=I.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(I,F,z,ue){let Pe;return null===I?Pe=this._itTail:(Pe=I._prev,this._remove(I)),null!==(I=null===this._unlinkedRecords?null:this._unlinkedRecords.get(z,null))?(Object.is(I.item,F)||this._addIdentityChange(I,F),this._reinsertAfter(I,Pe,ue)):null!==(I=null===this._linkedRecords?null:this._linkedRecords.get(z,ue))?(Object.is(I.item,F)||this._addIdentityChange(I,F),this._moveAfter(I,Pe,ue)):I=this._addAfter(new Xt(F,z),Pe,ue),I}_verifyReinsertion(I,F,z,ue){let Pe=null===this._unlinkedRecords?null:this._unlinkedRecords.get(z,null);return null!==Pe?I=this._reinsertAfter(Pe,I._prev,ue):I.currentIndex!=ue&&(I.currentIndex=ue,this._addToMoves(I,ue)),I}_truncate(I){for(;null!==I;){const F=I._next;this._addToRemovals(this._unlink(I)),I=F}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(I,F,z){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(I);const ue=I._prevRemoved,Pe=I._nextRemoved;return null===ue?this._removalsHead=Pe:ue._nextRemoved=Pe,null===Pe?this._removalsTail=ue:Pe._prevRemoved=ue,this._insertAfter(I,F,z),this._addToMoves(I,z),I}_moveAfter(I,F,z){return this._unlink(I),this._insertAfter(I,F,z),this._addToMoves(I,z),I}_addAfter(I,F,z){return this._insertAfter(I,F,z),this._additionsTail=null===this._additionsTail?this._additionsHead=I:this._additionsTail._nextAdded=I,I}_insertAfter(I,F,z){const ue=null===F?this._itHead:F._next;return I._next=ue,I._prev=F,null===ue?this._itTail=I:ue._prev=I,null===F?this._itHead=I:F._next=I,null===this._linkedRecords&&(this._linkedRecords=new Ai),this._linkedRecords.put(I),I.currentIndex=z,I}_remove(I){return this._addToRemovals(this._unlink(I))}_unlink(I){null!==this._linkedRecords&&this._linkedRecords.remove(I);const F=I._prev,z=I._next;return null===F?this._itHead=z:F._next=z,null===z?this._itTail=F:z._prev=F,I}_addToMoves(I,F){return I.previousIndex===F||(this._movesTail=null===this._movesTail?this._movesHead=I:this._movesTail._nextMoved=I),I}_addToRemovals(I){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ai),this._unlinkedRecords.put(I),I.currentIndex=null,I._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=I,I._prevRemoved=null):(I._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=I),I}_addIdentityChange(I,F){return I.item=F,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=I:this._identityChangesTail._nextIdentityChange=I,I}}class Xt{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(I,F){this.item=I,this.trackById=F}}class ei{_head=null;_tail=null;add(I){null===this._head?(this._head=this._tail=I,I._nextDup=null,I._prevDup=null):(this._tail._nextDup=I,I._prevDup=this._tail,I._nextDup=null,this._tail=I)}get(I,F){let z;for(z=this._head;null!==z;z=z._nextDup)if((null===F||F<=z.currentIndex)&&Object.is(z.trackById,I))return z;return null}remove(I){const F=I._prevDup,z=I._nextDup;return null===F?this._head=z:F._nextDup=z,null===z?this._tail=F:z._prevDup=F,null===this._head}}class Ai{map=new Map;put(I){const F=I.trackById;let z=this.map.get(F);z||(z=new ei,this.map.set(F,z)),z.add(I)}get(I,F){const ue=this.map.get(I);return ue?ue.get(I,F):null}remove(I){const F=I.trackById;return this.map.get(F).remove(I)&&this.map.delete(F),I}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bn(O,I,F){const z=O.previousIndex;if(null===z)return z;let ue=0;return F&&z<F.length&&(ue=F[z]),z+I+ue}class Si{constructor(){}supports(I){return I instanceof Map||(0,G.vDg)(I)}create(){return new qi}}class qi{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(I){let F;for(F=this._mapHead;null!==F;F=F._next)I(F)}forEachPreviousItem(I){let F;for(F=this._previousMapHead;null!==F;F=F._nextPrevious)I(F)}forEachChangedItem(I){let F;for(F=this._changesHead;null!==F;F=F._nextChanged)I(F)}forEachAddedItem(I){let F;for(F=this._additionsHead;null!==F;F=F._nextAdded)I(F)}forEachRemovedItem(I){let F;for(F=this._removalsHead;null!==F;F=F._nextRemoved)I(F)}diff(I){if(I){if(!(I instanceof Map||(0,G.vDg)(I)))throw new R.buA(900,!1)}else I=new Map;return this.check(I)?this:null}onDestroy(){}check(I){this._reset();let F=this._mapHead;if(this._appendAfter=null,this._forEach(I,(z,ue)=>{if(F&&F.key===ue)this._maybeAddToChanges(F,z),this._appendAfter=F,F=F._next;else{const Pe=this._getOrCreateRecordForKey(ue,z);F=this._insertBeforeOrAppend(F,Pe)}}),F){F._prev&&(F._prev._next=null),this._removalsHead=F;for(let z=F;null!==z;z=z._nextRemoved)z===this._mapHead&&(this._mapHead=null),this._records.delete(z.key),z._nextRemoved=z._next,z.previousValue=z.currentValue,z.currentValue=null,z._prev=null,z._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(I,F){if(I){const z=I._prev;return F._next=I,F._prev=z,I._prev=F,z&&(z._next=F),I===this._mapHead&&(this._mapHead=F),this._appendAfter=I,I}return this._appendAfter?(this._appendAfter._next=F,F._prev=this._appendAfter):this._mapHead=F,this._appendAfter=F,null}_getOrCreateRecordForKey(I,F){if(this._records.has(I)){const ue=this._records.get(I);this._maybeAddToChanges(ue,F);const Pe=ue._prev,xe=ue._next;return Pe&&(Pe._next=xe),xe&&(xe._prev=Pe),ue._next=null,ue._prev=null,ue}const z=new _t(I);return this._records.set(I,z),z.currentValue=F,this._addToAdditions(z),z}_reset(){if(this.isDirty){let I;for(this._previousMapHead=this._mapHead,I=this._previousMapHead;null!==I;I=I._next)I._nextPrevious=I._next;for(I=this._changesHead;null!==I;I=I._nextChanged)I.previousValue=I.currentValue;for(I=this._additionsHead;null!=I;I=I._nextAdded)I.previousValue=I.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(I,F){Object.is(F,I.currentValue)||(I.previousValue=I.currentValue,I.currentValue=F,this._addToChanges(I))}_addToAdditions(I){null===this._additionsHead?this._additionsHead=this._additionsTail=I:(this._additionsTail._nextAdded=I,this._additionsTail=I)}_addToChanges(I){null===this._changesHead?this._changesHead=this._changesTail=I:(this._changesTail._nextChanged=I,this._changesTail=I)}_forEach(I,F){I instanceof Map?I.forEach(F):Object.keys(I).forEach(z=>F(I[z],z))}}class _t{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(I){this.key=I}}function Mt(){return new zt([new kt])}let zt=(()=>{class O{factories;static \u0275prov=(0,R.jDH)({token:O,providedIn:"root",factory:Mt});constructor(F){this.factories=F}static create(F,z){if(null!=z){const ue=z.factories.slice();F=F.concat(ue)}return new O(F)}static extend(F){return{provide:O,useFactory:()=>{const z=(0,R.WQX)(O,{optional:!0,skipSelf:!0});return O.create(F,z||Mt())}}}find(F){const z=this.factories.find(ue=>ue.supports(F));if(null!=z)return z;throw new R.buA(901,!1)}}return O})();function At(){return new di([new Si])}let di=(()=>{class O{static \u0275prov=(0,R.jDH)({token:O,providedIn:"root",factory:At});factories;constructor(F){this.factories=F}static create(F,z){if(z){const ue=z.factories.slice();F=F.concat(ue)}return new O(F)}static extend(F){return{provide:O,useFactory:()=>{const z=(0,R.WQX)(O,{optional:!0,skipSelf:!0});return O.create(F,z||At())}}}find(F){const z=this.factories.find(ue=>ue.supports(F));if(z)return z;throw new R.buA(901,!1)}}return O})();function un(O){const{rootComponent:I,appProviders:F,platformProviders:z,platformRef:ue}=O;(0,G.Ef8)(G.mS5.BootstrapApplicationStart);try{const Pe=ue?.injector??function Bn(O=[]){if(Vi)return Vi;(0,G.pl0)();const I=function wn(O=[],I){return R.zZn.create({name:I,providers:[{provide:R.GBX,useValue:"platform"},{provide:ye,useValue:new Set([()=>Vi=null])},...O]})}(O);return Vi=I,(0,G.ypd)(),function vi(O){const I=O.get(G.PLl,null);(0,R.N4e)(O,()=>{I?.forEach(F=>F())})}(I),I}(z),xe=[(0,G.rpG)(),R.gv8,...F||[]];return function We(O){const I=rt(O)?O.r3Injector:O.moduleRef.injector,F=I.get(R.SKi);return F.run(()=>{rt(O)?O.r3Injector.resolveInjectorInitializers():O.moduleRef.resolveInjectorInitializers();const z=I.get(R.ZTf);let ue;if(F.runOutsideAngular(()=>{ue=F.onError.subscribe({next:z})}),rt(O)){const Pe=()=>I.destroy(),xe=O.platformInjector.get(ye);xe.add(Pe),I.onDestroy(()=>{ue.unsubscribe(),xe.delete(Pe)})}else{const Pe=()=>O.moduleRef.destroy(),xe=O.platformInjector.get(ye);xe.add(Pe),O.moduleRef.onDestroy(()=>{(0,G.TFI)(O.allPlatformModules,O.moduleRef),ue.unsubscribe(),xe.delete(Pe)})}return function ji(O,I,F){try{const z=F();return(0,G.yLl)(z)?z.catch(ue=>{throw I.runOutsideAngular(()=>O(ue)),ue}):z}catch(z){throw I.runOutsideAngular(()=>O(z)),z}}(z,F,()=>{const Pe=I.get(R.rev),xe=Pe.add(),He=I.get(G.H1s);return He.runInitializers(),He.donePromise.then(()=>{const pt=I.get(G.xe9,G.DkB);if((0,G.e6s)(pt||G.DkB),!I.get(qe,!0))return rt(O)?I.get(G.o8S):(O.allPlatformModules.push(O.moduleRef),O.moduleRef);if(rt(O)){const Lt=I.get(G.o8S);return void 0!==O.rootComponent&&Lt.bootstrap(O.rootComponent),Lt}return O.moduleRef}).finally(()=>{Pe.remove(xe)})})})}({r3Injector:new G.bH1({providers:xe,parent:Pe,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:Pe,rootComponent:I})}catch(Pe){return Promise.reject(Pe)}finally{(0,G.Ef8)(G.mS5.BootstrapApplicationEnd)}}function oi(O){return"boolean"==typeof O?O:null!=O&&"false"!==O}function Ht(O,I=NaN){return isNaN(parseFloat(O))||isNaN(Number(O))?I:Number(O)}function ba(O,I){const F=(0,R.xUg)(O),z=I.elementInjector||(0,R.WB9)();return new G.eHC(F).create(z,I.projectableNodes,I.hostElement,I.environmentInjector,I.directives,I.bindings)}},7765(Ue,ge,B){B.d(ge,{lJ:()=>m});const m=function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},7895(Ue,ge,B){B.d(ge,{A:()=>w});var R=B(6658),m=B(5844),G=B(2662);const w=function se(g){return(0,R.A)(g,G.A,m.A)}},8099(Ue,ge,B){function R(m){return"function"==typeof m}B.d(ge,{T:()=>R})},8189(Ue,ge,B){B.d(ge,{R:()=>G});var R=B(4337);class m extends R.y{constructor(w,g){super()}schedule(w,g=0){return this}}class G extends m{constructor(w,g){super(w,g),this.scheduler=w,this.work=g,this.pending=!1}schedule(w,g=0){if(this.closed)return this;this.state=w;const de=this.id,me=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(me,de,g)),this.pending=!0,this.delay=g,this.id=this.id||this.requestAsyncId(me,this.id,g),this}requestAsyncId(w,g,de=0){return setInterval(w.flush.bind(w,this),de)}recycleAsyncId(w,g,de=0){if(null!==de&&this.delay===de&&!1===this.pending)return g;clearInterval(g)}execute(w,g){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(w,g);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(w,g){let me,de=!1;try{this.work(w)}catch(re){de=!0,me=!!re&&re||new Error(re)}if(de)return this.unsubscribe(),me}_unsubscribe(){const w=this.id,g=this.scheduler,de=g.actions,me=de.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==me&&de.splice(me,1),null!=w&&(this.id=this.recycleAsyncId(g,w,null)),this.delay=null}}},8253(Ue,ge,B){function R(m){setTimeout(()=>{throw m},0)}B.d(ge,{T:()=>R})},8456(Ue,ge,B){B.d(ge,{ZZ:()=>se});var R=B(5006),m=B(4787),G=B(3004);function se(me,re,ne=Number.POSITIVE_INFINITY){return"function"==typeof re?oe=>oe.pipe(se((he,Se)=>(0,m.H)(me(he,Se)).pipe((0,R.T)((Ge,_e)=>re(he,Ge,Se,_e))),ne)):("number"==typeof re&&(ne=re),oe=>oe.lift(new w(me,ne)))}class w{constructor(re,ne=Number.POSITIVE_INFINITY){this.project=re,this.concurrent=ne}call(re,ne){return ne.subscribe(new g(re,this.project,this.concurrent))}}class g extends G.gn{constructor(re,ne,oe=Number.POSITIVE_INFINITY){super(re),this.project=ne,this.concurrent=oe,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(re){this.active<this.concurrent?this._tryNext(re):this.buffer.push(re)}_tryNext(re){let ne;const oe=this.index++;try{ne=this.project(re,oe)}catch(he){return void this.destination.error(he)}this.active++,this._innerSub(ne)}_innerSub(re){const ne=new G.zA(this),oe=this.destination;oe.add(ne);const he=(0,G.tS)(re,ne);he!==ne&&oe.add(he)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(re){this.destination.next(re)}notifyComplete(){const re=this.buffer;this.active--,re.length>0?this._next(re.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},8606(Ue,ge,B){B.d(ge,{A:()=>se});var m=/^(?:0|[1-9]\d*)$/;const se=function G(w,g){var de=typeof w;return!!(g=g??9007199254740991)&&("number"==de||"symbol"!=de&&m.test(w))&&w>-1&&w%1==0&&w<g}},8728(Ue,ge,B){B.d(ge,{p:()=>m});var R=B(762);function m(w,g){return function(me){return me.lift(new G(w,g))}}class G{constructor(g,de){this.predicate=g,this.thisArg=de}call(g,de){return de.subscribe(new se(g,this.predicate,this.thisArg))}}class se extends R.v{constructor(g,de,me){super(g),this.predicate=de,this.thisArg=me,this.count=0}_next(g){let de;try{de=this.predicate.call(this.thisArg,g,this.count++)}catch(me){return void this.destination.error(me)}de&&this.destination.next(g)}}},8736(Ue,ge,B){B.d(ge,{A:()=>se});var m=Function.prototype.toString;const se=function G(w){if(null!=w){try{return m.call(w)}catch{}try{return w+""}catch{}}return""}},8885(Ue,ge,B){B.d(ge,{A:()=>Zi});var R=B(5281),m=B(5481),G=B(2661),Ct={};Ct["[object Float32Array]"]=Ct["[object Float64Array]"]=Ct["[object Int8Array]"]=Ct["[object Int16Array]"]=Ct["[object Int32Array]"]=Ct["[object Uint8Array]"]=Ct["[object Uint8ClampedArray]"]=Ct["[object Uint16Array]"]=Ct["[object Uint32Array]"]=!0,Ct["[object Arguments]"]=Ct["[object Array]"]=Ct["[object ArrayBuffer]"]=Ct["[object Boolean]"]=Ct["[object DataView]"]=Ct["[object Date]"]=Ct["[object Error]"]=Ct["[object Function]"]=Ct["[object Map]"]=Ct["[object Number]"]=Ct["[object Object]"]=Ct["[object RegExp]"]=Ct["[object Set]"]=Ct["[object String]"]=Ct["[object WeakMap]"]=!1;var Ft=B(778),wi=B(3340),ri=wi.A&&wi.A.isTypedArray;const Zi=ri?(0,Ft.A)(ri):function bi(Ti){return(0,G.A)(Ti)&&(0,m.A)(Ti.length)&&!!Ct[(0,R.A)(Ti)]}},8935(Ue){Ue.exports=JSON.parse('[{"Ability":"Block ailment or 8 damage, once.","Positive":true,"Id":"60","Name":"Ambrosia","NameId":"Ambrosia"},{"Ability":"Before attack: Remove the front-most enemy perk, once.","Positive":true,"Id":"64","Name":"Baguette","NameId":"Baguette"},{"Ability":"Faint: Summon one 4/4 Monkey.","Positive":true,"Id":"25","Name":"Banana","NameId":"Banana"},{"Ability":"Before battle: Gain +7 mana.","Positive":true,"Id":"87","Name":"Big Mana Potion","NameId":"ManaPotion2"},{"Ability":"Gain +1 attack and +2 health.","Positive":true,"Id":"89","Name":"Blackberry","NameId":"Blackberry"},{"Ability":"Can\'t gain perk, once.","Id":"120","Name":"Bloated","NameId":"Bloated"},{"Ability":"Prioritize this for enemy random abilities.","Positive":true,"Id":"28","Name":"Blueberry","NameId":"BlueBerries"},{"Ability":"Gain +3 health when this would faint, once.","Positive":true,"Id":"111","Name":"Bok Choy","NameId":"BokChoy"},{"Ability":"Block being pushed or 5 damage, once.","Positive":true,"Id":"66","Name":"Brussels Sprout","NameId":"BrusselsSprout"},{"Ability":"End turn: Increase sell value by 1 gold.","Positive":true,"Id":"44","Name":"Cake","NameId":"BirthdayCake"},{"Ability":"Before attack: Combine friendly Caramels to deal 3 damage each to the most healthy enemy, once.","Positive":true,"Id":"67","Name":"Caramel","NameId":"Caramel"},{"Ability":"End turn: Gain +1 attack and +1 health.","Positive":true,"Id":"15","Name":"Carrot","NameId":"Carrot"},{"Ability":"Before battle: Deal 1 damage to the second nearest pet ahead. Double against enemies.","Positive":true,"Id":"115","Name":"Cashew Nut","NameId":"CashewNut"},{"Ability":"Knock out: If still standing, gain permanent +1 attack and +1 health, once.","Positive":true,"Id":"71","Name":"Cauliflower","NameId":"Cauliflower"},{"Ability":"Attack with at least 15 attack, once.","Positive":true,"Id":"23","Name":"Cheese","NameId":"Cheese"},{"Ability":"Before battle: Gain 2 trumpets and remove perk.","Positive":true,"Id":"7","Name":"Cherry","NameId":"Cherries"},{"Ability":"Attack second enemy for 5 damage.","Positive":true,"Id":"5","Name":"Chili","NameId":"Chili"},{"Ability":"Before attack: Gain +3 experience and faint.","Positive":true,"Id":"30","Name":"Chocolate Cake","NameId":"ChocolateCake"},{"Ability":"Activate ability before other pets with the same trigger.","Positive":true,"Id":"70","Name":"Churros","NameId":"Churros"},{"Ability":"Before attack: Transform into an exact copy of a random enemy, once.","Positive":true,"Id":"94","Name":"Cocoa Bean","NameId":"CocoaBean"},{"Ability":"Block damage, once.","Positive":true,"Id":"0","Name":"Coconut","NameId":"Coconut"},{"Ability":"Faint: Summon one 2/3 Fish.","Positive":true,"Id":"104","Name":"Cod Roe","NameId":"CodRoe"},{"Ability":"Take +5 damage, once.","Id":"54","Name":"Cold","NameId":"Frozen"},{"Ability":"Before attack: Transform into a pet from one tier below, once.","Id":"118","Name":"Confused","NameId":"Confused"},{"Ability":"Anyone attacks: Take 6 damage, once.","Id":"57","Name":"Crisp","NameId":"Burn"},{"Ability":"End turn: Gain +1 attack.","Positive":true,"Id":"20","Name":"Croissant","NameId":"Croissant"},{"Ability":"End turn: Gain +1 health.","Positive":true,"Id":"19","Name":"Cucumber","NameId":"Cucumber"},{"Ability":"Faint: Make one random friend Cursed.","Id":"119","Name":"Cursed","NameId":"Curse"},{"Ability":"Prevent ability from activating.","Id":"55","Name":"Dazed","NameId":"Deaf"},{"Ability":"Prioritize this for friendly random abilities.","Positive":true,"Id":"36","Name":"Donut","NameId":"Doughnut"},{"Ability":"Before attack: Reduce the most healthy enemy by 33% health, once.","Positive":true,"Id":"45","Name":"Durian","NameId":"Durian"},{"Ability":"Faint: Summon one 3/3 Bunny that attacks for double damage.","Positive":true,"Id":"51","Name":"Easter Egg","NameId":"EasterEgg"},{"Ability":"Before attack: Deal 2 damage to target, once.","Positive":true,"Id":"24","Name":"Egg","NameId":"Egg"},{"Ability":"Before battle: Push opposite enemy 1 space forward.","Positive":true,"Id":"38","Name":"Eggplant","NameId":"EggPlant"},{"Ability":"Block 4 enemy damage, once.","Positive":true,"Id":"68","Name":"Eucalyptus","NameId":"Eucalyptus"},{"Ability":"Faint: Summon ANY one tier 1 <b>Faint</b> pet.","Positive":true,"Id":"86","Name":"Faint Bread","NameId":"DeadBread"},{"Ability":"Empty front space: Jump to the front and gain +2 mana, once.","Positive":true,"Id":"49","Name":"Fairy Dust","NameId":"FairyDust"},{"Ability":"Before attack: Deal 4 damage to the lowest health enemy, once.","Positive":true,"Id":"46","Name":"Fig","NameId":"Fig"},{"Ability":"Attack has 50% chance to deal double damage.","Positive":true,"Id":"11","Name":"Fortune Cookie","NameId":"FortuneCookie"},{"Ability":"Takes 2 less damage.","FinePrint":"Damage can\'t be reduced to less than 2.","Positive":true,"Id":"9","Name":"Garlic","NameId":"Garlic"},{"Ability":"Before battle: Gain +1 experience.","Positive":true,"Id":"52","Name":"Gingerbread Man","NameId":"GingerbreadMan"},{"Ability":"Before attack: Deal 6 damage to target, once.","Positive":true,"Id":"47","Name":"Golden Egg","NameId":"GoldenEgg"},{"Ability":"Start of turn: Gain +1 gold.","Positive":true,"Id":"16","Name":"Grapes","NameId":"Grapes"},{"Ability":"Before attack: Transform into an Ant.","Positive":true,"Id":"103","Name":"Gros Michel Banana","NameId":"GrosMichelBanana"},{"Ability":"Block 3 damage, and attack for +3 damage, once.","Positive":true,"Id":"105","Name":"Guava","NameId":"Guava"},{"Ability":"Before battle: Give the front-most friendly pet +2 health.","Positive":true,"Id":"58","Name":"Health Potion","NameId":"HealthPotion"},{"Ability":"Faint: Summon one 1/1 Bee.","Positive":true,"Id":"8","Name":"Honey","NameId":"Honey"},{"Ability":"Block 10 damage, and attack for +5 damage, once.","Positive":true,"Id":"110","Name":"Honeydew Melon","NameId":"HoneydewMelon"},{"Ability":"Take double damage, twice.","Id":"56","Name":"Icky","NameId":"Acid"},{"Ability":"Attack and ability deal 3 less damage.","Id":"37","Name":"Inked","NameId":"Ink"},{"Ability":"Ability deals +8 damage, once.","Positive":true,"Id":"78","Name":"Kiwano","NameId":"Kiwano"},{"Ability":"Before battle: Gain +3 health.","Positive":true,"Id":"107","Name":"Kiwifruit","NameId":"Kiwi"},{"Ability":"Block 7 damage, twice.","Positive":true,"Id":"22","Name":"Lemon","NameId":"Lemon"},{"Ability":"Takes 1 less damage.","Positive":true,"Id":"108","Name":"Lime","NameId":"Lime"},{"Ability":"Activate ability at level 1.","Positive":true,"Id":"122","Name":"Liquorice","NameId":"SweetLiquorice"},{"Ability":"Before battle: Summon one 5/5 pet like this.","Positive":true,"Id":"59","Name":"Love Potion","NameId":"LovePotion"},{"Ability":"Before battle: Copy ability to the nearest friend ahead.","Positive":true,"Id":"76","Name":"Lychee","NameId":"Lychee"},{"Ability":"Activate ability after other pets with the same trigger.","Positive":true,"Id":"117","Name":"Macaron","NameId":"Macaron"},{"Ability":"Start of turn: Gain the Golden Egg perk and increase sell value by 4 gold.","Positive":true,"Id":"48","Name":"Magic Beans","NameId":"MagicBeans"},{"Ability":"Attack for 50% damage and block 50% damage, thrice.","Positive":true,"Id":"93","Name":"Maple Syrup","NameId":"MapleSyrup"},{"Ability":"Attack with +3 damage.","Positive":true,"Id":"6","Name":"Meat Bone","NameId":"MeatBone"},{"Ability":"Block 20 damage, once.","Positive":true,"Id":"13","Name":"Melon","NameId":"Melon"},{"Ability":"Block 10 damage, once.","Positive":true,"Id":"79","Name":"Melon Slice","NameId":"WaterMelon"},{"Ability":"Attack second enemy for 4 damage.","Positive":true,"Id":"123","Name":"Mild Chili","NameId":"MildChili"},{"Ability":"Faint: Come back as a 1/1.","Positive":true,"Id":"1","Name":"Mushroom","NameId":"Mushroom"},{"Ability":"Before attack: Convert up to 3 health into attack.","Positive":true,"Id":"116","Name":"Nachos","NameId":"Nachos"},{"Ability":"Before attack: Move to the back, once.","Positive":true,"Id":"31","Name":"Onion","NameId":"Onion"},{"Ability":"Before attack: Set attack and health to at least 9, once.","Positive":true,"Id":"77","Name":"Oyster Mushroom","NameId":"OysterMushroom"},{"Ability":"Before battle: Give friends +2 attack and +2 health.","Positive":true,"Id":"35","Name":"Pancakes","NameId":"Pancakes"},{"Ability":"Knock out any pet attacked and hurt by this.","Positive":true,"Id":"2","Name":"Peanut","NameId":"Peanut"},{"Ability":"Knock out any pet attacked and hurt by this, once.","Positive":true,"Id":"88","Name":"Peanut Butter","NameId":"PeanutButter"},{"Ability":"Health does not go under 1. Removed after taking damage.","Positive":true,"Id":"18","Name":"Pepper","NameId":"Pepper"},{"Ability":"Before battle: Gain +4 attack and +3 health.","Positive":true,"Id":"39","Name":"Pie","NameId":"Pie"},{"Ability":"Ability deals +2 damage, thrice.","Positive":true,"Id":"21","Name":"Pineapple","NameId":"Pineapple"},{"Ability":"Hurt: Gain +15 health, once.","Positive":true,"Id":"33","Name":"Pita Bread","NameId":"PitaBread"},{"Ability":"Faint: Summon one random pet from the same tier.","Positive":true,"Id":"17","Name":"Popcorn","NameId":"Popcorn"},{"Ability":"Block 10 damage from abilities and perks, twice.","Positive":true,"Id":"29","Name":"Potato","NameId":"Potato"},{"Ability":"Before battle: Gain ANY useful perk from the pet\'s tier.","Positive":true,"Id":"65","Name":"Radish","NameId":"Radish"},{"Ability":"Before attack: Gain +3 mana.","Positive":true,"Id":"62","Name":"Rambutan","NameId":"Rambutan"},{"Ability":"Sell for +2 gold.","Positive":true,"Id":"43","Name":"Rice","NameId":"RiceBall"},{"Ability":"Attack for double damage, once.","Positive":true,"Id":"3","Name":"Salt","NameId":"Salt"},{"Ability":"Start of turn: Gain +2 gold.","Positive":true,"Id":"100","Name":"Sardinian Currant","NameId":"SardinianCurrant"},{"Ability":"Start of turn: Gain one free roll.","Positive":true,"Id":"69","Name":"Sausage","NameId":"Sausage"},{"Ability":"Before attack: Transform into a Baby Urchin.","Positive":true,"Id":"72","Name":"Seaweed","NameId":"Seaweed"},{"Ability":"Ability has random targets in battle.","Id":"75","Name":"Silly","NameId":"Silly"},{"Ability":"Attack second and third enemy for 3 damage.","Positive":true,"Id":"26","Name":"Skewer","NameId":"Skewer"},{"Ability":"Attack with half damage, once.","Id":"84","Name":"Sleepy","NameId":"Drowsy"},{"Ability":"Take +1 damage.","Id":"63","Name":"Spooked","NameId":"Scared"},{"Ability":"Before attack: Remove 6 health from target, once.","Positive":true,"Id":"109","Name":"Squash","NameId":"Squash"},{"Ability":"Attack with +20 damage, once.","Positive":true,"Id":"12","Name":"Steak","NameId":"Steak"},{"Ability":"Faint: Give the back-most friend +1 attack and +1 health.","Positive":true,"Id":"14","Name":"Strawberry","NameId":"Strawberry"},{"Ability":"Hurt: If still standing, gain permanent +1 health, once.","Positive":true,"Id":"95","Name":"Sudduth Tomato","NameId":"SudduthTomato"},{"Ability":"Faint: Give one random enemy permanent +2 attack and +2 health.","Id":"85","Name":"Tasty","NameId":"Tasty"},{"Ability":"Anyone attacks: Take 1 damage, once.","Id":"73","Name":"Toasty","NameId":"Toasty"},{"Ability":"Before attack: Deal 10 damage to the last enemy, once.","Positive":true,"Id":"34","Name":"Tomato","NameId":"Tomato"},{"Ability":"Start of battle: Deal 2 damage to a random enemy.","Positive":true,"Id":"97","Name":"Unagi","NameId":"Unagi"},{"Ability":"Block 2 damage, once.","Positive":true,"Id":"80","Name":"Walnut","NameId":"Walnut"},{"Ability":"Take +3 damage.","Id":"10","Name":"Weak","NameId":"Weak"},{"Ability":"Faint: Summon one 2/2 Spider up front for the opponent.","Id":"27","Name":"Webbed","NameId":"Web"},{"Ability":"Block 10 damage twice or ailment once.","Positive":true,"Id":"101","Name":"White Okra","NameId":"WhiteOkra"},{"Ability":"Friend faints: Gain +4 attack and jump-attack the highest attack enemy, once.","Positive":true,"Id":"91","Name":"White Truffle","NameId":"WhiteTruffle"},{"Ability":"Faint: Summon two 5/5 Nordic Goats.","Positive":true,"Id":"50","Name":"Yggdrasil Fruit","NameId":"YggdrasilFruit"}]')},8992(Ue,ge,B){B.d(ge,{A:()=>m});const m=function R(G,se){return function(w){return G(se(w))}}},9090(Ue,ge,B){B.d(ge,{n:()=>se});var R=B(5006),m=B(4787),G=B(3004);function se(de,me){return"function"==typeof me?re=>re.pipe(se((ne,oe)=>(0,m.H)(de(ne,oe)).pipe((0,R.T)((he,Se)=>me(ne,he,oe,Se))))):re=>re.lift(new w(de))}class w{constructor(me){this.project=me}call(me,re){return re.subscribe(new g(me,this.project))}}class g extends G.gn{constructor(me,re){super(me),this.project=re,this.index=0}_next(me){let re;const ne=this.index++;try{re=this.project(me,ne)}catch(oe){return void this.destination.error(oe)}this._innerSub(re)}_innerSub(me){const re=this.innerSubscription;re&&re.unsubscribe();const ne=new G.zA(this),oe=this.destination;oe.add(ne),this.innerSubscription=(0,G.tS)(me,ne),this.innerSubscription!==ne&&oe.add(this.innerSubscription)}_complete(){const{innerSubscription:me}=this;(!me||me.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(me){this.destination.next(me)}}},9377(Ue,ge,B){B.d(ge,{A:()=>ne});var R=B(1860),se="object"==typeof exports&&exports&&!exports.nodeType&&exports,w=se&&"object"==typeof module&&module&&!module.nodeType&&module,de=w&&w.exports===se?R.A.Buffer:void 0;const ne=(de?de.isBuffer:void 0)||function m(){return!1}},9769(Ue,ge,B){B.d(ge,{MD:()=>ma,Sq:()=>wr,YU:()=>mr,bT:()=>yn});var R=B(7705),m=B(375),G=B(5547);const Ki=/\s+/,rn=[];let mr=(()=>{class L{_ngEl;_renderer;initialClasses=rn;rawClass;stateMap=new Map;constructor(H,V){this._ngEl=H,this._renderer=V}set klass(H){this.initialClasses=null!=H?H.trim().split(Ki):rn}set ngClass(H){this.rawClass="string"==typeof H?H.trim().split(Ki):H}ngDoCheck(){for(const V of this.initialClasses)this._updateState(V,!0);const H=this.rawClass;if(Array.isArray(H)||H instanceof Set)for(const V of H)this._updateState(V,!0);else if(null!=H)for(const V of Object.keys(H))this._updateState(V,!!H[V]);this._applyStateDiff()}_updateState(H,V){const ae=this.stateMap.get(H);void 0!==ae?(ae.enabled!==V&&(ae.changed=!0,ae.enabled=V),ae.touched=!0):this.stateMap.set(H,{enabled:V,changed:!0,touched:!0})}_applyStateDiff(){for(const H of this.stateMap){const V=H[0],ae=H[1];ae.changed?(this._toggleClass(V,ae.enabled),ae.changed=!1):ae.touched||(ae.enabled&&this._toggleClass(V,!1),this.stateMap.delete(V)),ae.touched=!1}}_toggleClass(H,V){(H=H.trim()).length>0&&H.split(Ki).forEach(ae=>{V?this._renderer.addClass(this._ngEl.nativeElement,ae):this._renderer.removeClass(this._ngEl.nativeElement,ae)})}static \u0275fac=function(V){return new(V||L)(G.rXU(G.aKT),G.rXU(G.sFG))};static \u0275dir=G.FsC({type:L,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return L})();class sr{$implicit;ngForOf;index;count;constructor(X,H,V,ae){this.$implicit=X,this.ngForOf=H,this.index=V,this.count=ae}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wr=(()=>{class L{_viewContainer;_template;_differs;set ngForOf(H){this._ngForOf=H,this._ngForOfDirty=!0}set ngForTrackBy(H){this._trackByFn=H}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(H,V,ae){this._viewContainer=H,this._template=V,this._differs=ae}set ngForTemplate(H){H&&(this._template=H)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const H=this._ngForOf;!this._differ&&H&&(this._differ=this._differs.find(H).create(this.ngForTrackBy))}if(this._differ){const H=this._differ.diff(this._ngForOf);H&&this._applyChanges(H)}}_applyChanges(H){const V=this._viewContainer;H.forEachOperation((ae,we,Le)=>{if(null==ae.previousIndex)V.createEmbeddedView(this._template,new sr(ae.item,this._ngForOf,-1,-1),null===Le?void 0:Le);else if(null==Le)V.remove(null===we?void 0:we);else if(null!==we){const Ve=V.get(we);V.move(Ve,Le),ea(Ve,ae)}});for(let ae=0,we=V.length;ae<we;ae++){const Ve=V.get(ae).context;Ve.index=ae,Ve.count=we,Ve.ngForOf=this._ngForOf}H.forEachIdentityChange(ae=>{ea(V.get(ae.currentIndex),ae)})}static ngTemplateContextGuard(H,V){return!0}static \u0275fac=function(V){return new(V||L)(G.rXU(G.c1b),G.rXU(G.C4Q),G.rXU(R._q3))};static \u0275dir=G.FsC({type:L,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return L})();function ea(L,X){L.context.$implicit=X.item}let yn=(()=>{class L{_viewContainer;_context=new jn;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(H,V){this._viewContainer=H,this._thenTemplateRef=V}set ngIf(H){this._context.$implicit=this._context.ngIf=H,this._updateView()}set ngIfThen(H){$t(H),this._thenTemplateRef=H,this._thenViewRef=null,this._updateView()}set ngIfElse(H){$t(H),this._elseTemplateRef=H,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(H,V){return!0}static \u0275fac=function(V){return new(V||L)(G.rXU(G.c1b),G.rXU(G.C4Q))};static \u0275dir=G.FsC({type:L,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return L})();class jn{$implicit=null;ngIf=null}function $t(L,X){if(L&&!L.createEmbeddedView)throw new m.buA(2020,!1)}let ma=(()=>{class L{static \u0275fac=function(V){return new(V||L)};static \u0275mod=G.$C({type:L});static \u0275inj=m.G2t({})}return L})()},9928(Ue,ge,B){B.d(ge,{t:()=>G});var R=B(5254),m=B(2145);class G extends R.B7{constructor(w){super(),this._value=w}get value(){return this.getValue()}_subscribe(w){const g=super._subscribe(w);return g&&!g.closed&&w.next(this._value),g}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new m.P;return this._value}next(w){super.next(this._value=w)}}}},Ue=>{Ue(Ue.s=3043)}]);